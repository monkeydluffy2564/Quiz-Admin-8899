const _0x448927=_0x2e12;(function(_0x5426ed,_0x45d40d){const _0x20f5c1=_0x2e12,_0x134dda=_0x5426ed();while(!![]){try{const _0x35f813=-parseInt(_0x20f5c1(0xace))/0x1+parseInt(_0x20f5c1(0x8ed))/0x2+parseInt(_0x20f5c1(0x148))/0x3*(parseInt(_0x20f5c1(0x33b))/0x4)+-parseInt(_0x20f5c1(0x1ae))/0x5+-parseInt(_0x20f5c1(0xb2e))/0x6+parseInt(_0x20f5c1(0x5fb))/0x7*(parseInt(_0x20f5c1(0x9a9))/0x8)+parseInt(_0x20f5c1(0xcf7))/0x9;if(_0x35f813===_0x45d40d)break;else _0x134dda['push'](_0x134dda['shift']());}catch(_0xc3dc44){_0x134dda['push'](_0x134dda['shift']());}}}(_0x1a2e,0x1df06));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x448927(0x548),_0x448927(0x517),_0x448927(0xdf4),_0x448927(0xd82),_0x448927(0xa2b),_0x448927(0x21b),_0x448927(0x944),'สิงโตยิ้ม',_0x448927(0x646),_0x448927(0x898),'ผู้พิชิตดาว',_0x448927(0x635),_0x448927(0x523),_0x448927(0xc86),'อัศวินรัตติกาล',_0x448927(0x110),_0x448927(0x818),_0x448927(0x303),_0x448927(0x2ff),_0x448927(0x322),_0x448927(0x55e),_0x448927(0x959),_0x448927(0x5c6),_0x448927(0xc28),_0x448927(0x74a),_0x448927(0xb25),_0x448927(0xb56),'เสือซ่อนเล็บ',_0x448927(0x59e),_0x448927(0x3fb),_0x448927(0x581),'สายลับจับบ้านเล็ก',_0x448927(0xe3e),_0x448927(0x346),_0x448927(0x5aa),'CEOพันล้าน','เศรษฐีดูไบ','อินฟลูเอนเซอร์',_0x448927(0xeb),'ดาวสภา',_0x448927(0x3b7),_0x448927(0x88b),_0x448927(0x23d),'พิซซ่าหน้าทุเรียน',_0x448927(0xe2d),_0x448927(0xa9b),_0x448927(0x490),_0x448927(0x352),_0x448927(0x3a3),'ลาเต้ไม่หวาน',_0x448927(0x885),_0x448927(0x57e),_0x448927(0xd00),_0x448927(0xc3),'ติดซีรีส์',_0x448927(0xbd4),_0x448927(0x9c2),_0x448927(0x249),'404\x20Not\x20Found',_0x448927(0xc94),'จันทร์เจ้า',_0x448927(0xb96),_0x448927(0x2cc),_0x448927(0xe02),_0x448927(0x5cd),'ท้องฟ้า',_0x448927(0xa06),_0x448927(0x839),_0x448927(0x94c),'แม่น้ำ',_0x448927(0x348),_0x448927(0x259),'เกมเมอร์','ศิลปิน','นักดนตรี','นักเขียน',_0x448927(0x32a),_0x448927(0x1d2),_0x448927(0x214),_0x448927(0x227),'พลังคลื่นเต่า','ปล่อยพลัง',_0x448927(0xa0d),_0x448927(0x3f7),_0x448927(0x731),_0x448927(0x9c6),_0x448927(0xc00),_0x448927(0x8f1),'กัปตัน',_0x448927(0x16d),_0x448927(0x20b),_0x448927(0xc6b),_0x448927(0xcd6),_0x448927(0x970),_0x448927(0xba8),'คู่จิ้น','แฟนทิพย์',_0x448927(0x4fe),'สถานะไม่ชัดเจน',_0x448927(0x98a)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x448927(0xd05),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x448927(0xd05),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x119c06=_0x448927;if(_0x119c06(0x13b)in navigator)try{wakeLock=await navigator[_0x119c06(0x13b)]['request'](_0x119c06(0xda4)),console[_0x119c06(0xcad)](_0x119c06(0x1d9)),wakeLock[_0x119c06(0xcc)](_0x119c06(0x729),()=>{const _0x5d6935=_0x119c06;console[_0x5d6935(0xcad)](_0x5d6935(0xbe8));});}catch(_0x55dca2){console['error']('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x55dca2['name']+',\x20'+_0x55dca2[_0x119c06(0x550)]);}else console[_0x119c06(0x85b)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x378b0f=_0x448927;wakeLock!==null&&(await wakeLock[_0x378b0f(0x729)](),wakeLock=null,console[_0x378b0f(0xcad)](_0x378b0f(0x9f5)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x11f399=_0x448927;if(!document[_0x11f399(0xca1)][_0x11f399(0x82f)][_0x11f399(0xb15)](_0x11f399(0x9c8))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0xe309ab=_0x11f399;document[_0xe309ab(0xca1)][_0xe309ab(0x82f)][_0xe309ab(0x24b)]('dimmed'),console[_0xe309ab(0xcad)](_0xe309ab(0xdd7));},inactivityTime);}}function wakeUpScreen(_0x191f17){const _0x5c30b7=_0x448927;_0x191f17&&(_0x191f17[_0x5c30b7(0x272)](),_0x191f17['preventDefault']());document[_0x5c30b7(0xca1)]['classList'][_0x5c30b7(0xa1f)](_0x5c30b7(0x9c8));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x55b067=_0x5c30b7;document[_0x55b067(0xca1)][_0x55b067(0x82f)][_0x55b067(0x24b)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x56bfe5=_0x448927;if(dimTimer)clearTimeout(dimTimer);document[_0x56bfe5(0xca1)]['classList'][_0x56bfe5(0xa1f)](_0x56bfe5(0x9c8)),window[_0x56bfe5(0xcec)](_0x56bfe5(0x797),resetDimTimer),window[_0x56bfe5(0xcec)](_0x56bfe5(0xb4d),resetDimTimer),window[_0x56bfe5(0xcec)]('touchstart',resetDimTimer),window[_0x56bfe5(0xcec)]('keydown',resetDimTimer),console[_0x56bfe5(0xcad)](_0x56bfe5(0xa77));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x509de6,_0x5f1ddc=![]){const _0x2ecd00=_0x448927,_0x58a5ad=allQuizzes[_0x2ecd00(0x8c0)](_0x1bcc50=>_0x1bcc50['id']===_0x509de6)||allQuizzesGlobal[_0x2ecd00(0x8c0)](_0x1616e7=>_0x1616e7['id']===_0x509de6);if(!_0x58a5ad){showMessage(_0x2ecd00(0xc44));return;}currentQuizData=getShuffledQuiz(_0x58a5ad);const _0xe04671=Math[_0x2ecd00(0x87b)](0x3e8+Math[_0x2ecd00(0x63c)]()*0x2328)[_0x2ecd00(0x377)]();try{const _0x2de96f=await addDoc(collection(db,'artifacts/'+appId+_0x2ecd00(0x35e)),{'quizId':_0x58a5ad['id'],'projectId':_0x58a5ad['projectId'],'status':_0x2ecd00(0xc1),'pin':_0xe04671,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5f1ddc});currentTeamQuizId=_0x2de96f['id'],showView(_0x2ecd00(0x7aa)),renderAdminTeamQuizDashboard(_0xe04671,_0x58a5ad[_0x2ecd00(0xda1)]),listenForTeamQuizUpdates();}catch(_0x18282a){console['error'](_0x2ecd00(0x7ea),_0x18282a),showMessage(_0x2ecd00(0xca4));}}function renderAdminTeamQuizDashboard(_0x5fa707,_0x455518,_0x5d5c1d=_0x448927(0xaa7)){const _0x368f07=_0x448927,_0x16199f=_0x5d5c1d===_0x368f07(0xbd0)?'Group\x20Mode':_0x368f07(0x16f);liveGameView[_0x368f07(0x5f4)]=_0x368f07(0xd87)+_0x16199f+':\x20'+_0x455518+_0x368f07(0x7fc)+_0x5fa707+_0x368f07(0xe41),document[_0x368f07(0xb18)](_0x368f07(0xd39))[_0x368f07(0xcc)](_0x368f07(0x8b2),async()=>{const _0x44048e=_0x368f07;showConfirmation(_0x44048e(0x505),async()=>{const _0x13c9e7=_0x44048e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x13c9e7(0x35e),currentTeamQuizId)),showView(_0x13c9e7(0xcef));});});}function listenForTeamQuizUpdates(){const _0x3ae36e=_0x448927;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x585059=doc(db,_0x3ae36e(0xa76)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x585059,_0x5dfed8=>{const _0x5ac3c7=_0x3ae36e;if(!_0x5dfed8[_0x5ac3c7(0x14d)]()){sessionStorage[_0x5ac3c7(0x9db)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x5ac3c7(0xd01));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5ac3c7(0xa1d)?showView(_0x5ac3c7(0xcef)):showView('student');return;}const _0x406a13=_0x5dfed8['data']();if(currentMode===_0x5ac3c7(0xa1d)){if(_0x406a13[_0x5ac3c7(0xc13)]===_0x5ac3c7(0xbd0)&&_0x406a13['status']!==_0x5ac3c7(0x2d1)&&_0x406a13[_0x5ac3c7(0x33a)]!=='finished'){const _0x127a4d=Object[_0x5ac3c7(0x56e)](_0x406a13['groups']||{});if(_0x127a4d[_0x5ac3c7(0xab1)]>0x0){const _0x45496f=_0x127a4d[_0x5ac3c7(0x55a)](_0x4520d2=>_0x4520d2[_0x5ac3c7(0x4ad)]===!![]);_0x45496f&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x406a13);}else{if(_0x406a13[_0x5ac3c7(0x33a)]===_0x5ac3c7(0x2d1)||_0x406a13[_0x5ac3c7(0x33a)]===_0x5ac3c7(0xbde)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x406a13['mode']===_0x5ac3c7(0xbd0)){const _0x4a3656=_0x406a13[_0x5ac3c7(0xb00)][userId];(!_0x4a3656||!_0x4a3656['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x488e70){const _0x248ffc=_0x448927;console[_0x248ffc(0xcad)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x12ea76=doc(db,_0x248ffc(0xa76)+appId+_0x248ffc(0x35e),_0x488e70);try{const _0x28aba3=await getDoc(_0x12ea76);if(_0x28aba3[_0x248ffc(0x14d)]()){const _0x3612e7=_0x28aba3[_0x248ffc(0xa8e)]();_0x3612e7[_0x248ffc(0xc5d)]&&await saveGameResultsAsSubmissions(_0x3612e7);}await updateDoc(_0x12ea76,{'status':_0x248ffc(0x2d1)});}catch(_0x3ad968){console[_0x248ffc(0x17d)](_0x248ffc(0xb6a),_0x3ad968);}}function updateAdminTeamDashboard(_0x4933bb){const _0x26f746=_0x448927,_0x811d47=document['getElementById']('team-player-status-grid');if(!_0x811d47)return;const _0x3a59ab=_0x4933bb[_0x26f746(0xc13)]||_0x26f746(0xaa7),_0x4517b0=currentQuizData[_0x26f746(0x677)][_0x26f746(0xab1)];if(_0x3a59ab===_0x26f746(0xbd0)){const _0x3be3be=Object[_0x26f746(0x56e)](_0x4933bb['groups']||{});if(_0x3be3be[_0x26f746(0xab1)]===0x0){_0x811d47['innerHTML']=_0x26f746(0x1ad);return;}const _0x26fcc2=[..._0x3be3be][_0x26f746(0x872)]((_0x565d99,_0x2865ce)=>_0x2865ce[_0x26f746(0x87c)]-_0x565d99[_0x26f746(0x87c)]),_0x4f73b2=_0x26fcc2['map']((_0x59b979,_0x3a52a3)=>{const _0x16a015=_0x26f746,_0x40ef57=_0x59b979['answers']?.['length']||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x3a52a3+0x1)+_0x16a015(0x2a6)+_0x59b979[_0x16a015(0xd4e)][_0x16a015(0x222)](',\x20')+_0x16a015(0x828)+_0x40ef57+'/'+_0x4517b0+_0x16a015(0x934)+_0x59b979[_0x16a015(0x87c)]+_0x16a015(0x4f8);})[_0x26f746(0x222)](''),_0x353266=currentQuizData[_0x26f746(0x677)][_0x26f746(0xad5)]((_0x45efd1,_0x173cf1)=>{const _0x3a4852=_0x26f746;let _0x1ccbad=0x0,_0x53def9=0x0;_0x3be3be[_0x3a4852(0x157)](_0x4f4741=>{const _0xa2fe4=_0x3a4852,_0x27e538=_0x4f4741['answers']?.[_0xa2fe4(0x8c0)](_0x542251=>_0x542251[_0xa2fe4(0x74b)]===_0x173cf1);if(_0x27e538){_0x53def9++;if(_0x27e538[_0xa2fe4(0xc26)])_0x1ccbad++;}});const _0x4ddc3a=_0x53def9>0x0&&_0x53def9===_0x3be3be[_0x3a4852(0xab1)],_0x3f6e64=_0x4ddc3a?_0x3a4852(0x4e9):_0x3a4852(0x20f),_0x2e706a=_0x4ddc3a?_0x3a4852(0x6fa):'';return _0x3a4852(0x181)+_0x3f6e64+_0x3a4852(0x4a9)+(_0x173cf1+0x1)+_0x3a4852(0xada)+_0x2e706a+_0x3a4852(0x190)+_0x1ccbad+'/'+_0x3be3be[_0x3a4852(0xab1)]+_0x3a4852(0xc2b);})['join']('');_0x811d47[_0x26f746(0x5f4)]=_0x26f746(0x218)+_0x4f73b2+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x353266+_0x26f746(0x9fd);return;}const _0x280646=_0x4933bb[_0x26f746(0x3b9)]||{},_0x169a8f=Object[_0x26f746(0x7bf)](_0x280646);if(_0x169a8f['length']===0x0){_0x811d47[_0x26f746(0x5f4)]=_0x26f746(0xc2f);return;}const _0x52260e=_0x169a8f[_0x26f746(0xad5)](_0x308613=>({'name':_0x308613,'score':_0x280646[_0x308613][_0x26f746(0x87c)]||0x0}))[_0x26f746(0x872)]((_0x20b909,_0x3ebf58)=>_0x3ebf58['score']-_0x20b909['score']),_0x53b670=_0x52260e[_0x26f746(0xad5)](_0x4e2f04=>{const _0x1899be=_0x26f746,_0x429297=_0x280646[_0x4e2f04[_0x1899be(0x2d2)]]?.['answers']?.['length']||0x0,_0x2df701=Math['ceil'](_0x4517b0/_0x169a8f[_0x1899be(0xab1)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x4e2f04[_0x1899be(0x2d2)]+_0x1899be(0x638)+_0x429297+'/'+_0x2df701+_0x1899be(0x569)+_0x4e2f04[_0x1899be(0x87c)]+_0x1899be(0x5d4);})[_0x26f746(0x222)](''),_0x472939=_0x169a8f[_0x26f746(0xe33)]((_0x5f0da6,_0xf7ba5b)=>_0x5f0da6+(_0x280646[_0xf7ba5b][_0x26f746(0xc70)]?.[_0x26f746(0xab1)]||0x0),0x0),_0x2d803d=currentQuizData[_0x26f746(0x677)]['map']((_0x284cb0,_0x3ef7d4)=>{const _0x83c1cf=_0x26f746;let _0x1123b0=null,_0x17e396=null;for(const _0x6df3e5 of _0x169a8f){const _0x5a1d2d=_0x280646[_0x6df3e5][_0x83c1cf(0xc70)]?.[_0x83c1cf(0x8c0)](_0x42ba1f=>_0x42ba1f[_0x83c1cf(0x74b)]===_0x3ef7d4);if(_0x5a1d2d){_0x1123b0=_0x5a1d2d,_0x17e396=_0x6df3e5;break;}}const _0x5ac880=!!_0x1123b0,_0x3b1783=_0x5ac880&&_0x1123b0[_0x83c1cf(0xc26)],_0x43606f=(Math[_0x83c1cf(0x87b)](_0x3ef7d4/_0x169a8f[_0x83c1cf(0xab1)])+0x1)*_0x169a8f[_0x83c1cf(0xab1)],_0x3bd286=_0x472939>=_0x43606f,_0x54144c=_0x3bd286?_0x83c1cf(0xba0):_0x83c1cf(0x20f),_0xf7514d=_0x3bd286?_0x83c1cf(0x6fa):'';let _0x133a83=_0x83c1cf(0xd19);return _0x5ac880&&(_0x133a83=_0x17e396+_0x83c1cf(0x2b8)+(_0x3b1783?_0x83c1cf(0xde7):_0x83c1cf(0xb9d))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x54144c+_0x83c1cf(0x4a9)+(_0x3ef7d4+0x1)+_0x83c1cf(0xada)+_0xf7514d+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x133a83+_0x83c1cf(0x28e);})['join']('');_0x811d47[_0x26f746(0x5f4)]=_0x26f746(0x798)+_0x53b670+_0x26f746(0x7f2)+_0x2d803d+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x17c681=_0x448927,_0x1194d1=prompt(_0x17c681(0xa9));if(!_0x1194d1||_0x1194d1[_0x17c681(0xb5b)]()[_0x17c681(0xab1)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x4f1421=collection(db,_0x17c681(0xa76)+appId+_0x17c681(0x35e)),_0x3ed235=query(_0x4f1421,where(_0x17c681(0x7c1),'==',_0x1194d1[_0x17c681(0xb5b)]()),where('status','==',_0x17c681(0xc1))),_0x52d874=await getDocs(_0x3ed235);if(_0x52d874['empty']){showMessage(_0x17c681(0xca5));return;}const _0x3c80f7=_0x52d874['docs'][0x0];currentTeamQuizId=_0x3c80f7['id'];const _0x5d9b33=_0x3c80f7[_0x17c681(0xa8e)](),_0x19d180=doc(db,_0x17c681(0xa76)+appId+_0x17c681(0x945),_0x5d9b33[_0x17c681(0x111)]),_0x486bd0=doc(db,_0x17c681(0xa76)+appId+'/public/data/quizzes',_0x5d9b33[_0x17c681(0x802)]),[_0x38cdd7,_0x9e540]=await Promise[_0x17c681(0xd05)]([getDoc(_0x19d180),getDoc(_0x486bd0)]);if(!_0x38cdd7[_0x17c681(0x14d)]()||!_0x9e540[_0x17c681(0x14d)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x9e540['id'],..._0x9e540['data']()});const _0x52cec7=_0x38cdd7[_0x17c681(0xa8e)]();showTeamPlayerSelection(_0x52cec7[_0x17c681(0x115)],currentQuizData[_0x17c681(0xda1)]);}catch(_0xc207f3){console[_0x17c681(0x17d)](_0x17c681(0xd10),_0xc207f3),showMessage(_0x17c681(0x39b)+_0xc207f3[_0x17c681(0x550)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x25a5a8=_0x448927;currentInputPin='',updatePinDisplay(),document[_0x25a5a8(0xb18)](_0x25a5a8(0x778))[_0x25a5a8(0x82f)][_0x25a5a8(0xa1f)](_0x25a5a8(0x5a9));}function updatePinDisplay(){const _0xbde2e6=_0x448927,_0x5c1ddc=document[_0xbde2e6(0xccb)](_0xbde2e6(0x718));_0x5c1ddc[_0xbde2e6(0x157)]((_0x1c38f8,_0x4b4d82)=>{const _0x188917=_0xbde2e6;_0x4b4d82<currentInputPin[_0x188917(0xab1)]?(_0x1c38f8['textContent']=currentInputPin[_0x4b4d82],_0x1c38f8[_0x188917(0x82f)]['add']('border-indigo-500',_0x188917(0x747)),_0x1c38f8[_0x188917(0x82f)][_0x188917(0xa1f)](_0x188917(0x787),_0x188917(0x8d2))):(_0x1c38f8['textContent']='',_0x1c38f8[_0x188917(0x82f)][_0x188917(0xa1f)](_0x188917(0x7e0),'bg-white'),_0x1c38f8['classList'][_0x188917(0x24b)](_0x188917(0x787),_0x188917(0x8d2)));});}async function handlePinKeyPress(_0xb8c07b){const _0x49537b=_0x448927;if(_0xb8c07b===_0x49537b(0x6f4))currentInputPin=currentInputPin[_0x49537b(0xa30)](0x0,-0x1);else currentInputPin['length']<0x4&&(currentInputPin+=_0xb8c07b);updatePinDisplay(),currentInputPin[_0x49537b(0xab1)]===0x4&&setTimeout(async()=>{const _0x255474=_0x49537b;document[_0x255474(0xb18)](_0x255474(0x778))[_0x255474(0x82f)][_0x255474(0x24b)](_0x255474(0x5a9)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0xda4f76){const _0x17d42d=_0x448927,_0x3145df=_0xda4f76[_0x17d42d(0xb5b)]();showMessage(_0x17d42d(0x412));try{const _0x3787e9=collection(db,_0x17d42d(0xa76)+appId+_0x17d42d(0x35e)),_0x4ef720=query(_0x3787e9,where('pin','==',_0x3145df),where(_0x17d42d(0x33a),'==',_0x17d42d(0xc1))),_0xb4a436=await getDocs(_0x4ef720);if(!_0xb4a436[_0x17d42d(0xe40)]){console[_0x17d42d(0xcad)](_0x17d42d(0x230)),await proceedWithTeamQuizJoin(_0xb4a436['docs'][0x0]);return;}const _0x38c0ad=collection(db,_0x17d42d(0xa76)+appId+'/public/data/syncGames'),_0x37f2ea=query(_0x38c0ad,where(_0x17d42d(0x7c1),'==',_0x3145df),where(_0x17d42d(0x33a),'in',[_0x17d42d(0xc1),_0x17d42d(0x339),'summary',_0x17d42d(0xb5f)])),_0x18c1f5=await getDocs(_0x37f2ea);if(!_0x18c1f5[_0x17d42d(0xe40)]){console['log'](_0x17d42d(0x903)),await proceedWithSyncQuizJoin(_0x18c1f5['docs'][0x0]);return;}showMessage(_0x17d42d(0xbb5));}catch(_0x7f719b){console[_0x17d42d(0x17d)](_0x17d42d(0x191),_0x7f719b),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x7f719b[_0x17d42d(0x550)]);}}async function proceedWithTeamQuizJoin(_0x173962){const _0x486f3c=_0x448927;currentTeamQuizId=_0x173962['id'];const _0x1c6e83=_0x173962[_0x486f3c(0xa8e)](),_0xea4870=doc(db,_0x486f3c(0xa76)+appId+_0x486f3c(0x945),_0x1c6e83[_0x486f3c(0x111)]),_0x2e24f2=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1c6e83[_0x486f3c(0x802)]),[_0x18adad,_0x11623c]=await Promise['all']([getDoc(_0xea4870),getDoc(_0x2e24f2)]);if(!_0x18adad[_0x486f3c(0x14d)]()||!_0x11623c[_0x486f3c(0x14d)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x11623c['id'],..._0x11623c[_0x486f3c(0xa8e)]()}),showTeamPlayerSelection(_0x18adad[_0x486f3c(0xa8e)]()[_0x486f3c(0x115)],currentQuizData['topic'],_0x1c6e83['mode']||_0x486f3c(0xaa7)),messageModal[_0x486f3c(0x82f)][_0x486f3c(0x24b)](_0x486f3c(0x5a9));}async function proceedWithSyncQuizJoin(_0x3fb212){const _0x2f4733=_0x448927;currentLiveGameId=_0x3fb212['id'];const _0x1a1e2c=_0x3fb212[_0x2f4733(0xa8e)](),_0x4aad14=doc(db,_0x2f4733(0xa76)+appId+_0x2f4733(0xc34),_0x1a1e2c[_0x2f4733(0x802)]),_0x260681=await getDoc(_0x4aad14);if(!_0x260681[_0x2f4733(0x14d)]())throw new Error(_0x2f4733(0xc44));const _0x34887a=_0x260681[_0x2f4733(0xa8e)](),_0x431ae7=doc(db,_0x2f4733(0xa76)+appId+_0x2f4733(0x945),_0x34887a[_0x2f4733(0x111)]),_0x29bc96=await getDoc(_0x431ae7);if(!_0x29bc96[_0x2f4733(0x14d)]())throw new Error(_0x2f4733(0x1f7));currentQuizData=_0x1a1e2c[_0x2f4733(0xe1c)],showView('student-team-join'),showTeamPlayerSelection(_0x29bc96[_0x2f4733(0xa8e)]()[_0x2f4733(0x115)],_0x34887a['topic'],_0x2f4733(0x17a));const _0x1d1f10=document[_0x2f4733(0xb18)](_0x2f4733(0x90c)),_0x23173d=_0x1d1f10[_0x2f4733(0xcb9)](!![]);_0x1d1f10[_0x2f4733(0x501)][_0x2f4733(0xd93)](_0x23173d,_0x1d1f10),_0x23173d[_0x2f4733(0xb4f)]=confirmAndJoinSyncGame,messageModal[_0x2f4733(0x82f)][_0x2f4733(0x24b)](_0x2f4733(0x5a9));}function getCleanApplicationHTML(){const _0x1355fe=_0x448927,_0xd190f6=document[_0x1355fe(0xb18)](_0x1355fe(0x5f1));if(!_0xd190f6)return'';const _0x4f89a9=_0xd190f6['cloneNode'](!![]);return _0x4f89a9[_0x1355fe(0xccb)](_0x1355fe(0x75e))[_0x1355fe(0x157)](_0x543980=>{const _0x895a71=_0x1355fe;_0x543980[_0x895a71(0x82f)][_0x895a71(0xa1f)](_0x895a71(0xd30),_0x895a71(0x6d6)),_0x543980['disabled']=![];}),_0x4f89a9[_0x1355fe(0x5f4)];}function showTeamPlayerSelection(_0x217c5d,_0x1dfe55,_0x5a1557='team'){const _0xd11484=_0x448927;studentInitialView['classList'][_0xd11484(0x24b)]('hidden'),studentJoinGameView[_0xd11484(0x82f)]['add'](_0xd11484(0x5a9)),document[_0xd11484(0xb18)](_0xd11484(0x425))[_0xd11484(0x82f)][_0xd11484(0xa1f)](_0xd11484(0x5a9));let _0x5b5cfd=_0xd11484(0x16f);if(_0x5a1557===_0xd11484(0xbd0))_0x5b5cfd=_0xd11484(0xab6);else _0x5a1557==='sync'&&(_0x5b5cfd=_0xd11484(0x226));document[_0xd11484(0xb18)](_0xd11484(0x5ef))['textContent']=_0x5b5cfd+':\x20'+_0x1dfe55;const _0x5f0994=document[_0xd11484(0xb18)](_0xd11484(0x99a));if(!_0x217c5d||_0x217c5d['length']===0x0){_0x5f0994[_0xd11484(0x5f4)]=_0xd11484(0x351),document[_0xd11484(0xb18)](_0xd11484(0x90c))[_0xd11484(0x64b)]=!![];return;}_0x5f0994[_0xd11484(0x5f4)]=_0x217c5d[_0xd11484(0xad5)](_0x20ff07=>_0xd11484(0xb7f)+_0x20ff07+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x20ff07+_0xd11484(0x684))[_0xd11484(0x222)](''),document[_0xd11484(0xb18)](_0xd11484(0x90c))[_0xd11484(0x64b)]=![];}async function confirmAndStartTeamQuiz(){const _0x36d43a=_0x448927,_0x2650f3=Array[_0x36d43a(0x2ce)](document[_0x36d43a(0xccb)](_0x36d43a(0xe0c)))['map'](_0x5a2ef9=>_0x5a2ef9[_0x36d43a(0x52d)]);if(_0x2650f3[_0x36d43a(0xab1)]===0x0){showMessage(_0x36d43a(0x835));return;}localTeamPlayers=_0x2650f3,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x60a6cd=doc(db,'artifacts/'+appId+_0x36d43a(0x35e),currentTeamQuizId);try{const _0x40d675=await getDoc(_0x60a6cd);if(!_0x40d675[_0x36d43a(0x14d)]())throw new Error('ไม่พบข้อมูลเกม');const _0x466d4d=_0x40d675[_0x36d43a(0xa8e)]();if(_0x466d4d[_0x36d43a(0xc13)]==='group'){const _0x527f80={[_0x36d43a(0xa52)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x60a6cd,_0x527f80);}else{const _0x3fd848=_0x466d4d['responses']||{};localTeamPlayers[_0x36d43a(0x157)](_0x11c8eb=>{!_0x3fd848[_0x11c8eb]&&(_0x3fd848[_0x11c8eb]={'score':0x0,'answers':[]});}),await updateDoc(_0x60a6cd,{'responses':_0x3fd848});}document[_0x36d43a(0xb18)](_0x36d43a(0x425))[_0x36d43a(0x82f)]['add']('hidden'),renderTeamQuizQuestion();const _0x34ba15={'gameId':currentTeamQuizId,'mode':_0x466d4d[_0x36d43a(0xc13)]||_0x36d43a(0xaa7),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x36d43a(0x765)]('activeGameSession',JSON['stringify'](_0x34ba15)),listenForTeamQuizUpdates();}catch(_0x321a73){console['error'](_0x36d43a(0xd41),_0x321a73),showMessage(_0x36d43a(0x264));}}async function renderTeamQuizQuestion(){const _0x16aa5d=_0x448927;if(localQuestionIndex>=currentQuizData['questions'][_0x16aa5d(0xab1)]){displayTeamQuizFinalResults();return;}const _0x5cc5af=currentQuizData[_0x16aa5d(0x677)][localQuestionIndex],_0x5a9402=localTeamPlayers[localPlayerIndex],_0x301774=_0x5cc5af['questionType']||currentQuizData[_0x16aa5d(0xafc)];let _0x30bbdc=_0x5cc5af[_0x16aa5d(0xc35)]||_0x5cc5af[_0x16aa5d(0xb3b)],_0x4d3efb='';switch(_0x301774){case _0x16aa5d(0x232):case _0x16aa5d(0xa67):_0x4d3efb=_0x5cc5af[_0x16aa5d(0x6ca)][_0x16aa5d(0xad5)]((_0x3e9a77,_0x3b9dd5)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x3b9dd5+_0x16aa5d(0x44a)+_0x3b9dd5+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x3b9dd5+'\x22>'+_0x3e9a77+_0x16aa5d(0xd09))['join']('');break;case _0x16aa5d(0xab0):_0x4d3efb=_0x16aa5d(0x13e);break;case _0x16aa5d(0x706):case'fill_in_no_choices':_0x4d3efb=_0x16aa5d(0x283);break;case _0x16aa5d(0x632):_0x4d3efb='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x5cc5af[_0x16aa5d(0x320)][_0x16aa5d(0xad5)](_0x595c1d=>_0x16aa5d(0x949)+_0x595c1d+'\x22>'+_0x595c1d+'</option>')[_0x16aa5d(0x222)]('')+_0x16aa5d(0x42c);break;default:_0x4d3efb='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x16aa5d(0x5f4)]=_0x16aa5d(0x810)+(localQuestionIndex+0x1)+_0x16aa5d(0x65b)+currentQuizData[_0x16aa5d(0x677)][_0x16aa5d(0xab1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x5a9402+_0x16aa5d(0x184)+(localQuestionIndex+0x1)+'.\x20'+_0x30bbdc+_0x16aa5d(0x289)+(_0x5cc5af[_0x16aa5d(0x6a5)]?_0x16aa5d(0x712)+_0x5cc5af[_0x16aa5d(0x6a5)]+'</div>':'')+_0x16aa5d(0x3ba)+_0x4d3efb+_0x16aa5d(0x1ff),studentQuizArea[_0x16aa5d(0x82f)][_0x16aa5d(0xa1f)](_0x16aa5d(0x5a9));if(window['MathJax'])MathJax[_0x16aa5d(0xd16)]([studentQuizArea]);document[_0x16aa5d(0xb18)]('submit-team-answer-btn')[_0x16aa5d(0xcc)](_0x16aa5d(0x8b2),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3002fc=_0x448927,_0xa11e64=currentQuizData[_0x3002fc(0x677)][localQuestionIndex],_0x4f8f8b=_0xa11e64['questionType']||currentQuizData[_0x3002fc(0xafc)];let _0xdda5eb=null,_0x4446e0=![];if(_0x4f8f8b===_0x3002fc(0x706)||_0x4f8f8b===_0x3002fc(0x2ad)){const _0x22d01a=document[_0x3002fc(0x877)]('textarea[name=\x22team_answer\x22]');if(!_0x22d01a||!_0x22d01a[_0x3002fc(0x52d)]['trim']()){showMessage(_0x3002fc(0xb4b));return;}_0xdda5eb=_0x22d01a['value'][_0x3002fc(0xb5b)](),_0x4446e0=await gradeShortAnswer(_0xdda5eb,_0xa11e64);}else{const _0x342b9c=document[_0x3002fc(0x877)](_0x3002fc(0xbfc));if(!_0x342b9c||_0x342b9c[_0x3002fc(0x52d)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0xdda5eb=_0x342b9c[_0x3002fc(0x52d)];switch(_0x4f8f8b){case'true_false':_0x4446e0=_0xdda5eb===_0x3002fc(0xd3d)===_0xa11e64['correctAnswer'];break;case _0x3002fc(0x632):_0x4446e0=_0xdda5eb===_0xa11e64[_0x3002fc(0x993)];break;default:_0x4446e0=parseInt(_0xdda5eb)===_0xa11e64['correctAnswerIndex'];break;}}const _0x121218={'questionIndex':localQuestionIndex,'isCorrect':_0x4446e0},_0x557d99=userId,_0x2e6829={[_0x3002fc(0xa52)+_0x557d99+_0x3002fc(0x29c)]:arrayUnion(_0x121218)};_0x4446e0&&(_0x2e6829[_0x3002fc(0xa52)+_0x557d99+_0x3002fc(0x994)]=increment(0x1));try{await updateDoc(doc(db,_0x3002fc(0xa76)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x2e6829),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x3002fc(0x677)][_0x3002fc(0xab1)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x38dbcb){console[_0x3002fc(0x17d)](_0x3002fc(0x2de),_0x38dbcb),showMessage(_0x3002fc(0xdc4));}}async function handleTeamAnswerSubmit(){const _0x36f834=_0x448927,_0x49dba6=await getDoc(doc(db,'artifacts/'+appId+_0x36f834(0x35e),currentTeamQuizId));if(!_0x49dba6[_0x36f834(0x14d)]())return;const _0x383618=_0x49dba6[_0x36f834(0xa8e)]();if(_0x383618['mode']===_0x36f834(0xbd0)){handleGroupAnswerSubmit();return;}const _0x258049=localTeamPlayers[localPlayerIndex],_0x294649=currentQuizData[_0x36f834(0x677)][localQuestionIndex],_0x43181c=_0x294649[_0x36f834(0x3e6)]||currentQuizData[_0x36f834(0xafc)];let _0x59ad55=null,_0x5d671c=![];if(_0x43181c===_0x36f834(0x706)||_0x43181c===_0x36f834(0x2ad)){const _0x4f08fe=document[_0x36f834(0x877)](_0x36f834(0x932));if(!_0x4f08fe||!_0x4f08fe[_0x36f834(0x52d)][_0x36f834(0xb5b)]()){showMessage(_0x36f834(0xc2e));return;}_0x59ad55=_0x4f08fe[_0x36f834(0x52d)][_0x36f834(0xb5b)](),_0x5d671c=await gradeShortAnswer(_0x59ad55,_0x294649);}else{const _0x45368c=document[_0x36f834(0x877)](_0x36f834(0xbfc));if(!_0x45368c||_0x45368c['value']===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x59ad55=_0x45368c[_0x36f834(0x52d)];switch(_0x43181c){case _0x36f834(0xab0):_0x5d671c=_0x59ad55==='true'===_0x294649['correctAnswer'];break;case _0x36f834(0x632):_0x5d671c=_0x59ad55===_0x294649[_0x36f834(0x993)];break;default:_0x5d671c=parseInt(_0x59ad55)===_0x294649[_0x36f834(0x662)];break;}}const _0x289424={'questionIndex':localQuestionIndex,'isCorrect':_0x5d671c,'answerValue':_0x59ad55},_0x4caa39={[_0x36f834(0x366)+_0x258049+_0x36f834(0x29c)]:arrayUnion(_0x289424)};_0x5d671c&&(_0x4caa39[_0x36f834(0x366)+_0x258049+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x36f834(0xa76)+appId+_0x36f834(0x35e),currentTeamQuizId),_0x4caa39),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x36f834(0xab1)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x320df1){console[_0x36f834(0x17d)](_0x36f834(0x27c),_0x320df1),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x58a291=_0x448927;studentQuizArea[_0x58a291(0x82f)]['add']('hidden'),studentResultArea[_0x58a291(0x82f)][_0x58a291(0xa1f)](_0x58a291(0x5a9));const _0x1a3eb6=doc(db,_0x58a291(0xa76)+appId+_0x58a291(0x35e),currentTeamQuizId),_0x13398a=await getDoc(_0x1a3eb6);if(!_0x13398a[_0x58a291(0x14d)]()){studentResultArea[_0x58a291(0x5f4)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x3cd945=_0x13398a[_0x58a291(0xa8e)]();let _0x1e4af0=[];const _0xf617da=_0x3cd945[_0x58a291(0xc13)]||_0x58a291(0xaa7);if(_0xf617da==='group'){const _0x33ecb0=_0x3cd945[_0x58a291(0xb00)][userId];_0x33ecb0?_0x1e4af0=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x58a291(0x222)](',\x20'),'score':_0x33ecb0['score']||0x0}]:_0x1e4af0=[{'name':_0x58a291(0x63f),'score':_0x58a291(0x794)}];}else _0x1e4af0=localTeamPlayers[_0x58a291(0xad5)](_0x2abe91=>({'name':_0x2abe91,'score':_0x3cd945['responses'][_0x2abe91]?.[_0x58a291(0x87c)]||0x0}))[_0x58a291(0x872)]((_0x2c5363,_0x3d274a)=>_0x3d274a[_0x58a291(0x87c)]-_0x2c5363['score']);studentResultArea[_0x58a291(0x5f4)]=_0x58a291(0xae3)+_0x1e4af0[_0x58a291(0xad5)](_0x2a88b4=>_0x58a291(0xd97)+_0x2a88b4['name']+_0x58a291(0x1b1)+_0x2a88b4['score']+_0x58a291(0x4eb))[_0x58a291(0x222)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x58a291(0x9db)](_0x58a291(0xa3e)),currentMode===_0x58a291(0xa1d)&&currentTeamQuizId&&setTimeout(()=>{const _0x572a69=_0x58a291;deleteDoc(doc(db,_0x572a69(0xa76)+appId+_0x572a69(0x35e),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x448927(0x4d9),'name':_0x448927(0xcbe)},{'category':_0x448927(0x4d9),'name':_0x448927(0x570)},{'category':_0x448927(0x4d9),'name':_0x448927(0x18d)},{'category':_0x448927(0x4d9),'name':_0x448927(0x391)},{'category':_0x448927(0x4d9),'name':_0x448927(0xb5d)},{'category':'จำนวนและการดำเนินการ','name':_0x448927(0x38a)},{'category':_0x448927(0x4d9),'name':_0x448927(0x253)},{'category':_0x448927(0x4d9),'name':_0x448927(0xda7)},{'category':_0x448927(0x4d9),'name':_0x448927(0xc12)},{'category':_0x448927(0x4d9),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':_0x448927(0x4d9),'name':_0x448927(0x6c1)},{'category':_0x448927(0x4d9),'name':'เส้นจำนวน'},{'category':'จำนวนและการดำเนินการ','name':_0x448927(0x5d9)},{'category':_0x448927(0x4d9),'name':_0x448927(0xc3d)},{'category':_0x448927(0x4d9),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x448927(0x4d9),'name':_0x448927(0xc27)},{'category':_0x448927(0x4d9),'name':_0x448927(0x24f)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x448927(0x4d9),'name':_0x448927(0xdbd)},{'category':'จำนวนและการดำเนินการ','name':_0x448927(0x8da)},{'category':_0x448927(0x4d9),'name':_0x448927(0x2b9)},{'category':_0x448927(0x4d9),'name':_0x448927(0x2cf)},{'category':_0x448927(0x4d9),'name':_0x448927(0x49b)},{'category':'จำนวนและการดำเนินการ','name':_0x448927(0xb57)},{'category':_0x448927(0x4d9),'name':_0x448927(0x574)},{'category':_0x448927(0x4d9),'name':_0x448927(0xc6e)},{'category':'จำนวนและการดำเนินการ','name':_0x448927(0xbf6)},{'category':'จำนวนและการดำเนินการ','name':_0x448927(0x518)},{'category':_0x448927(0x4d9),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x448927(0x4d9),'name':_0x448927(0xd4b)},{'category':_0x448927(0x4d9),'name':_0x448927(0x7a0)},{'category':_0x448927(0x4d9),'name':_0x448927(0xd69)},{'category':'จำนวนและการดำเนินการ','name':_0x448927(0x793)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':'จำนวนและการดำเนินการ','name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x448927(0x4d9),'name':_0x448927(0xac9)},{'category':_0x448927(0xd91),'name':'หน่วยความยาวและการแปลง'},{'category':_0x448927(0xd91),'name':_0x448927(0xce5)},{'category':_0x448927(0xd91),'name':_0x448927(0x1b0)},{'category':'การวัด','name':_0x448927(0x11e)},{'category':_0x448927(0xd91),'name':_0x448927(0x113)},{'category':'การวัด','name':_0x448927(0x5eb)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':'พื้นที่สามเหลี่ยม'},{'category':_0x448927(0xd91),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x448927(0xd91),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x448927(0xd91),'name':_0x448927(0x3cf)},{'category':_0x448927(0xd91),'name':_0x448927(0xbd2)},{'category':_0x448927(0xd91),'name':_0x448927(0xa6a)},{'category':_0x448927(0xd91),'name':_0x448927(0xcf8)},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x448927(0x77e),'name':_0x448927(0xa89)},{'category':_0x448927(0x77e),'name':_0x448927(0x478)},{'category':_0x448927(0x77e),'name':_0x448927(0xc01)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x448927(0x77e),'name':'ความคล้ายของรูป'},{'category':_0x448927(0x77e),'name':_0x448927(0x6be)},{'category':_0x448927(0x77e),'name':_0x448927(0x359)},{'category':_0x448927(0x77e),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x448927(0x77e),'name':_0x448927(0x3d6)},{'category':_0x448927(0x77e),'name':_0x448927(0xcba)},{'category':_0x448927(0x77e),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x448927(0x1f5)},{'category':_0x448927(0x77e),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x448927(0xc63)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x448927(0x521),'name':_0x448927(0x83a)},{'category':_0x448927(0x521),'name':'การแยกตัวประกอบ'},{'category':_0x448927(0x521),'name':_0x448927(0x9fe)},{'category':_0x448927(0x521),'name':_0x448927(0xe26)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x448927(0x521),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x448927(0x521),'name':_0x448927(0xaac)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x448927(0x40f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x448927(0xa1a)},{'category':_0x448927(0x521),'name':_0x448927(0x52f)},{'category':_0x448927(0x521),'name':_0x448927(0x55b)},{'category':_0x448927(0x521),'name':'อสมการเชิงเส้น'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x448927(0x834)},{'category':_0x448927(0x521),'name':'ระบบอสมการ'},{'category':_0x448927(0x521),'name':_0x448927(0xdd6)},{'category':_0x448927(0x521),'name':_0x448927(0x297)},{'category':_0x448927(0x521),'name':_0x448927(0x3a7)},{'category':_0x448927(0x521),'name':_0x448927(0x61c)},{'category':_0x448927(0x521),'name':_0x448927(0x1ce)},{'category':_0x448927(0x521),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x448927(0x521),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x448927(0x521),'name':'ฟังก์ชันพหุนาม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x448927(0xb92)},{'category':_0x448927(0x521),'name':_0x448927(0x52b)},{'category':_0x448927(0x521),'name':_0x448927(0xc7c)},{'category':_0x448927(0x521),'name':_0x448927(0x379)},{'category':_0x448927(0x521),'name':_0x448927(0xdca)},{'category':_0x448927(0x521),'name':_0x448927(0x761)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x448927(0x56f)},{'category':_0x448927(0x521),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x448927(0x521),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x448927(0x521),'name':_0x448927(0x97f)},{'category':_0x448927(0x521),'name':_0x448927(0x7e5)},{'category':_0x448927(0x4be),'name':_0x448927(0xbcf)},{'category':_0x448927(0x4be),'name':_0x448927(0x1ab)},{'category':'เรขาคณิตวิเคราะห์','name':_0x448927(0x87f)},{'category':_0x448927(0x4be),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x448927(0x4be),'name':_0x448927(0xa60)},{'category':_0x448927(0x4be),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x448927(0x4be),'name':'พาราโบลา'},{'category':_0x448927(0x4be),'name':'วงรี'},{'category':_0x448927(0x4be),'name':_0x448927(0xdf8)},{'category':_0x448927(0x4cf),'name':_0x448927(0x901)},{'category':_0x448927(0x4cf),'name':_0x448927(0x427)},{'category':_0x448927(0x4cf),'name':_0x448927(0xce9)},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x448927(0x4cf),'name':'กฎของโคไซน์'},{'category':_0x448927(0x4cf),'name':_0x448927(0x5e5)},{'category':_0x448927(0x4cf),'name':_0x448927(0x330)},{'category':_0x448927(0x4cf),'name':'สมการตรีโกณมิติ'},{'category':_0x448927(0x4cf),'name':_0x448927(0xaaa)},{'category':_0x448927(0x4cf),'name':_0x448927(0x57b)},{'category':_0x448927(0x933),'name':_0x448927(0xb8f)},{'category':_0x448927(0x933),'name':_0x448927(0x7df)},{'category':_0x448927(0x933),'name':_0x448927(0x90b)},{'category':_0x448927(0x933),'name':_0x448927(0xd74)},{'category':_0x448927(0x933),'name':_0x448927(0x3eb)},{'category':_0x448927(0x933),'name':_0x448927(0x469)},{'category':_0x448927(0x933),'name':'ค่าเฉลี่ย'},{'category':_0x448927(0x933),'name':'มัธยฐาน'},{'category':_0x448927(0x933),'name':_0x448927(0x953)},{'category':_0x448927(0x933),'name':_0x448927(0x2ab)},{'category':_0x448927(0x933),'name':_0x448927(0x172)},{'category':'สถิติและความน่าจะเป็น','name':_0x448927(0x508)},{'category':_0x448927(0x933),'name':_0x448927(0x659)},{'category':_0x448927(0x933),'name':_0x448927(0xd24)},{'category':'สถิติและความน่าจะเป็น','name':_0x448927(0xe13)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x448927(0x933),'name':'กฎบวกและกฎคูณ'},{'category':_0x448927(0x933),'name':_0x448927(0xdda)},{'category':'สถิติและความน่าจะเป็น','name':_0x448927(0x99d)},{'category':_0x448927(0x933),'name':_0x448927(0xe2b)},{'category':'สถิติและความน่าจะเป็น','name':_0x448927(0xa32)},{'category':_0x448927(0x933),'name':_0x448927(0x689)},{'category':_0x448927(0x933),'name':_0x448927(0xc96)},{'category':_0x448927(0x933),'name':_0x448927(0xd36)},{'category':_0x448927(0x5b5),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x448927(0x715)},{'category':_0x448927(0x5b5),'name':_0x448927(0x5df)},{'category':_0x448927(0x5b5),'name':_0x448927(0x1bc)},{'category':_0x448927(0x5b5),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x448927(0xc10)},{'category':_0x448927(0x5b5),'name':_0x448927(0x1ea)},{'category':_0x448927(0x5b5),'name':_0x448927(0x48b)},{'category':_0x448927(0x5b5),'name':_0x448927(0x7d4)},{'category':'แคลคูลัสเบื้องต้น','name':_0x448927(0xd3f)},{'category':_0x448927(0x5b5),'name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x448927(0x5b5),'name':_0x448927(0xc0c)},{'category':_0x448927(0x22f),'name':_0x448927(0x371)},{'category':_0x448927(0x22f),'name':_0x448927(0xa73)},{'category':_0x448927(0x22f),'name':_0x448927(0x9e4)},{'category':_0x448927(0x22f),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x448927(0x22f),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x448927(0x22f),'name':'ดีเทอร์มิแนนต์'},{'category':_0x448927(0x22f),'name':_0x448927(0xbc3)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x448927(0x919)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x448927(0x5b4)},{'category':_0x448927(0xc9c),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x448927(0xc9c),'name':_0x448927(0x403)},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':_0x448927(0x409),'name':_0x448927(0xd5d)},{'category':_0x448927(0x409),'name':_0x448927(0x956)},{'category':_0x448927(0x409),'name':_0x448927(0x421)}];function renderTopicCheckboxes(){const _0x144708=_0x448927,_0x1bda20=document['getElementById'](_0x144708(0xd47));if(!_0x1bda20)return;const _0x58b5a1=allMathTopics,_0x4e635d=customMathTopics[_0x144708(0xad5)](_0x4bcb01=>({'id':_0x4bcb01['id'],'category':_0x144708(0x426),'name':_0x4bcb01[_0x144708(0x2d2)]})),_0x507cd1=[..._0x58b5a1,..._0x4e635d],_0x529cd4=_0x507cd1[_0x144708(0xe33)]((_0x148061,_0x2de0cf)=>{const _0x378d3e=_0x144708;return!_0x148061[_0x2de0cf[_0x378d3e(0x8f8)]]&&(_0x148061[_0x2de0cf['category']]=[]),_0x148061[_0x2de0cf[_0x378d3e(0x8f8)]][_0x378d3e(0x626)](_0x2de0cf),_0x148061;},{});let _0x41172d='';const _0x2d1425=[_0x144708(0x426),...Object[_0x144708(0x7bf)](_0x529cd4)[_0x144708(0x955)](_0x2da8bd=>_0x2da8bd!==_0x144708(0x426))];for(const _0x46f01f of _0x2d1425){if(_0x529cd4[_0x46f01f]){const _0x1fc4d0=_0x46f01f==='หัวข้อที่สร้างเอง',_0x33c393=_0x1fc4d0?'fas\x20fa-user-edit':_0x144708(0x24a),_0x2804e2=_0x1fc4d0?_0x144708(0xa3f):_0x144708(0xb28);_0x41172d+=_0x144708(0xa28),_0x41172d+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x2804e2+_0x144708(0x7b5)+_0x33c393+_0x144708(0x2fd)+_0x46f01f+_0x144708(0xc4e),_0x529cd4[_0x46f01f][_0x144708(0x157)](_0x1e3db7=>{const _0x5c1d56=_0x144708,_0x4d7b78=!!_0x1e3db7['id'],_0x36d900=_0x4d7b78?_0x5c1d56(0x5d0)+_0x1e3db7['id']+_0x5c1d56(0x773)+_0x1e3db7['id']+_0x5c1d56(0x5c3)+_0x1e3db7['id']+_0x5c1d56(0x61e)+_0x1e3db7['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x41172d+=_0x5c1d56(0xdd2)+(_0x1e3db7['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x1e3db7[_0x5c1d56(0x2d2)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x1e3db7[_0x5c1d56(0x2d2)]+_0x5c1d56(0x701)+(_0x4d7b78?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x1e3db7[_0x5c1d56(0x2d2)]+'\x22>':'')+_0x5c1d56(0x6d3)+_0x36d900+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x41172d+=_0x144708(0x2b1);}}_0x1bda20[_0x144708(0x5f4)]=_0x41172d||_0x144708(0x1a7),_0x1bda20['removeEventListener'](_0x144708(0xb22),updateSelectedTopicsCount),_0x1bda20[_0x144708(0xcc)](_0x144708(0xb22),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5ce12d,_0x1360d2){const _0x41d0e1=_0x448927;if(!_0x5ce12d||!_0x1360d2[_0x41d0e1(0xb5b)]()){showMessage(_0x41d0e1(0x7d3));return;}try{const _0x57a3d1=doc(db,_0x41d0e1(0xa76)+appId+_0x41d0e1(0x6b1),_0x5ce12d);await updateDoc(_0x57a3d1,{'name':_0x1360d2[_0x41d0e1(0xb5b)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x662759){console[_0x41d0e1(0x17d)](_0x41d0e1(0xe32),_0x662759),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x2ed984,_0x17582f){const _0x57fede=_0x448927;if(!_0x2ed984)return;const _0x567a2a=_0x2ed984[_0x57fede(0x877)]('.topic-name-display'),_0x18d9e4=_0x2ed984['querySelector'](_0x57fede(0xd60)),_0x481797=_0x2ed984[_0x57fede(0x877)](_0x57fede(0xd63)),_0xb4c8aa=_0x2ed984['querySelector'](_0x57fede(0x840));_0x567a2a[_0x57fede(0x82f)][_0x57fede(0xd6b)](_0x57fede(0x5a9),_0x17582f),_0x18d9e4[_0x57fede(0x82f)]['toggle']('hidden',!_0x17582f),_0x481797[_0x57fede(0x82f)][_0x57fede(0xd6b)](_0x57fede(0x5a9),_0x17582f),_0xb4c8aa['classList'][_0x57fede(0xd6b)](_0x57fede(0x5a9),!_0x17582f),_0x17582f&&(_0x18d9e4[_0x57fede(0x2e8)](),_0x18d9e4['select']());}async function handleStartLiveRace(_0x24b674){const _0x4ff6fe=_0x448927;let _0x2149a4=allQuizzes[_0x4ff6fe(0x8c0)](_0x25fff0=>_0x25fff0['id']===_0x24b674);if(!_0x2149a4){const _0x2d38c7=doc(db,_0x4ff6fe(0xa76)+appId+_0x4ff6fe(0xc34),_0x24b674),_0x153afc=await getDoc(_0x2d38c7);if(!_0x153afc[_0x4ff6fe(0x14d)]()){showMessage(_0x4ff6fe(0xc44));return;}_0x2149a4={'id':_0x153afc['id'],..._0x153afc[_0x4ff6fe(0xa8e)]()};}const _0x1edad4=getShuffledQuiz(_0x2149a4);currentQuizData=_0x1edad4;const _0x3dbb5b=_0x2149a4[_0x4ff6fe(0x111)]||currentProjectId||null,_0x5b0708=Math[_0x4ff6fe(0x87b)](0x3e8+Math[_0x4ff6fe(0x63c)]()*0x2328)[_0x4ff6fe(0x377)]();currentLiveGamePin=_0x5b0708;try{const _0x349e57=await addDoc(collection(db,_0x4ff6fe(0xa76)+appId+'/public/data/liveGames'),{'quizId':_0x24b674,'projectId':_0x3dbb5b,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5b0708,'createdAt':serverTimestamp(),'shuffledQuiz':_0x1edad4});currentLiveGameId=_0x349e57['id'],showAdminLobbyView(_0x5b0708,_0x2149a4[_0x4ff6fe(0xda1)]),listenForLiveGameUpdates();}catch(_0x56952e){console['error'](_0x4ff6fe(0xb0e),_0x56952e),showMessage(_0x4ff6fe(0xe10));}}function updateSelectedTopicsCount(){const _0xb616bd=_0x448927,_0x12f32e=document[_0xb616bd(0xb18)](_0xb616bd(0xd47)),_0x17a35d=_0x12f32e[_0xb616bd(0xccb)]('input[type=\x22checkbox\x22]:checked')['length'],_0x4ba781=document['getElementById'](_0xb616bd(0x601));_0x17a35d>0x0?_0x4ba781[_0xb616bd(0x633)]=_0xb616bd(0xc5f)+_0x17a35d+_0xb616bd(0x989):_0x4ba781['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x448927(0x4a1),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x448927(0x9a2),quizLeaderboardSortOrder=_0x448927(0x9c4),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x448927(0x41e),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x448927(0x7dc),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x17c7d7,_0x23facd){const _0xce88b7=_0x448927;return Math[_0xce88b7(0xb08)](Math[_0xce88b7(0x2c3)](_0x17c7d7['x']-_0x23facd['x'],0x2)+Math[_0xce88b7(0x2c3)](_0x17c7d7['y']-_0x23facd['y'],0x2));}function getMidpoint(_0x228f5e,_0x3ae1a1){return{'x':(_0x228f5e['x']+_0x3ae1a1['x'])/0x2,'y':(_0x228f5e['y']+_0x3ae1a1['y'])/0x2};}function getTransformedPoint(_0x540dbf,_0x4c4b43){return{'x':(_0x540dbf-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4c4b43-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0xc53d2a=_0x448927;if(!scratchpadCtx)return;const _0x427fb6=scratchpadCtx[_0xc53d2a(0xbb6)],_0x59ea1c=window['devicePixelRatio']||0x1,_0x147641=document['getElementById'](_0xc53d2a(0x837));_0x147641&&(_0x147641[_0xc53d2a(0xbaf)][_0xc53d2a(0x300)]=_0xc53d2a(0xb2b),_0x147641[_0xc53d2a(0xbaf)][_0xc53d2a(0x66d)]=_0xc53d2a(0xa25)+scratchpadOffset['x']+_0xc53d2a(0x445)+scratchpadOffset['y']+_0xc53d2a(0x929)+scratchpadScale+')'),scratchpadCtx[_0xc53d2a(0xa16)](),scratchpadCtx['setTransform'](_0x59ea1c,0x0,0x0,_0x59ea1c,0x0,0x0),scratchpadCtx[_0xc53d2a(0xde0)](0x0,0x0,_0x427fb6[_0xc53d2a(0x5ff)],_0x427fb6['height']),scratchpadCtx[_0xc53d2a(0x142)](),scratchpadCtx[_0xc53d2a(0xa16)](),scratchpadCtx[_0xc53d2a(0x6ed)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0xc53d2a(0xc2a)](scratchpadScale,scratchpadScale),strokes[_0xc53d2a(0x157)](_0x11e0b4=>{drawStroke(_0x11e0b4);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0xa97421=_0x448927;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0x344579=currentQuizData['questions'][localQuestionIndex],_0x1ed499=_0x344579[_0xa97421(0x3e6)]||currentQuizData[_0xa97421(0xafc)];let _0x3dac18=_0x344579[_0xa97421(0xc35)]||_0x344579[_0xa97421(0xb3b)],_0x264ac6='';switch(_0x1ed499){case'multiple_choice':case _0xa97421(0xa67):_0x264ac6=_0x344579[_0xa97421(0x6ca)]['map']((_0x4f3214,_0x364f13)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x364f13+_0xa97421(0x44a)+_0x364f13+_0xa97421(0x25b)+_0x364f13+'\x22>'+_0x4f3214+_0xa97421(0xd09))['join']('');break;case'true_false':_0x264ac6=_0xa97421(0x13e);break;case _0xa97421(0x706):case _0xa97421(0x2ad):_0x264ac6=_0xa97421(0xc49);break;case _0xa97421(0x632):_0x264ac6=_0xa97421(0x363)+_0x344579[_0xa97421(0x320)][_0xa97421(0xad5)](_0x58f894=>_0xa97421(0x949)+_0x58f894+'\x22>'+_0x58f894+_0xa97421(0x38c))[_0xa97421(0x222)]('')+_0xa97421(0x42c);break;default:_0x264ac6='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0xa97421(0x5f4)]=_0xa97421(0x810)+(localQuestionIndex+0x1)+_0xa97421(0x65b)+currentQuizData['questions'][_0xa97421(0xab1)]+_0xa97421(0x315)+localTeamPlayers[_0xa97421(0x222)](',\x20')+_0xa97421(0x184)+(localQuestionIndex+0x1)+'.\x20'+_0x3dac18+_0xa97421(0x289)+(_0x344579['imageCode']?_0xa97421(0x712)+_0x344579[_0xa97421(0x6a5)]+_0xa97421(0x2b1):'')+_0xa97421(0x3ba)+_0x264ac6+_0xa97421(0xac),studentQuizArea[_0xa97421(0x82f)][_0xa97421(0xa1f)](_0xa97421(0x5a9));if(window[_0xa97421(0x563)])MathJax['typesetPromise']([studentQuizArea]);document[_0xa97421(0xb18)](_0xa97421(0x77c))[_0xa97421(0xcc)](_0xa97421(0x8b2),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x26d29c,_0x1971d0=null,_0x8ac3e6,_0x90ebe1=null,_0x4f9a63=![],_0xab35f8=null){const _0x22993a=_0x448927,_0x217920=document[_0x22993a(0xb18)](_0x22993a(0x2a0));_0x217920&&_0x217920['scrollIntoView']({'behavior':_0x22993a(0x31b),'block':_0x22993a(0x8d8)}),generateQuiz(_0x26d29c,_0x1971d0,null,_0xab35f8,!![],_0x8ac3e6,_0x90ebe1,_0x4f9a63);}function handleGenerateAndShowLesson(_0x24b0f9,_0x9b40f5){const _0x3c9f6a=_0x448927,_0xb22187=document[_0x3c9f6a(0xb18)](_0x3c9f6a(0xbdf)),_0x543e25=document[_0x3c9f6a(0xb18)](_0x3c9f6a(0xb74)),_0x527366=document[_0x3c9f6a(0xb18)](_0x3c9f6a(0x8fc)),_0xfccc6f=document[_0x3c9f6a(0xb18)](_0x3c9f6a(0xb12));['pointContent','memoryContent',_0x3c9f6a(0x5f1),'summaryContent'][_0x3c9f6a(0x157)](_0x61f6d7=>{const _0x3be49e=_0x3c9f6a,_0x581e3b=document[_0x3be49e(0xb18)](_0x61f6d7)[_0x3be49e(0x670)];_0x581e3b&&(_0x581e3b['style']['display']=_0x3be49e(0x298));}),_0x543e25[_0x3c9f6a(0x633)]=_0x3c9f6a(0xa2e)+_0x24b0f9,_0xfccc6f[_0x3c9f6a(0x82f)]['add']('hidden'),_0x527366[_0x3c9f6a(0x82f)][_0x3c9f6a(0xa1f)]('hidden'),_0xb22187['classList'][_0x3c9f6a(0xa1f)]('hidden'),generateLesson(_0x24b0f9,_0x9b40f5)[_0x3c9f6a(0xa98)](_0x1dc3e8=>{const _0x1479a5=_0x3c9f6a;console['error'](_0x1479a5(0x316),_0x1dc3e8),showMessage(_0x1479a5(0xb8a)),_0xb22187[_0x1479a5(0x82f)][_0x1479a5(0x24b)]('hidden');});}function handlePointerDown(_0x11be77){const _0x850f8a=_0x448927;_0x11be77[_0x850f8a(0x105)]();const _0x2f3dfd=scratchpadCtx[_0x850f8a(0xbb6)],_0x1955c0=_0x2f3dfd[_0x850f8a(0x1e4)](),_0x4f3e83=_0x11be77['pointerType']||(_0x11be77[_0x850f8a(0xb1c)]?'touch':_0x850f8a(0x9ba));if(_0x4f3e83==='pen'||_0x4f3e83===_0x850f8a(0x9ba)){if(_0x11be77[_0x850f8a(0x631)]===_0x850f8a(0x9ba)&&_0x11be77['button']!==0x0){_0x11be77[_0x850f8a(0x799)]===0x1&&(isMousePanning=!![],panStart={'x':_0x11be77[_0x850f8a(0x47c)],'y':_0x11be77['clientY']},_0x2f3dfd['style'][_0x850f8a(0x744)]=_0x850f8a(0x1cb));return;}activeTool===_0x850f8a(0x356)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1d2ed1=getTransformedPoint(_0x11be77[_0x850f8a(0x47c)]-_0x1955c0['left'],_0x11be77['clientY']-_0x1955c0['top']);let _0x58373e={'tool':activeTool,'points':[_0x1d2ed1]};if(activeTool===_0x850f8a(0x7dc))_0x58373e['color']=scratchpadPenColor,_0x58373e[_0x850f8a(0x1f9)]=scratchpadPenSize;else{if(activeTool===_0x850f8a(0x14e))_0x58373e['color']=scratchpadPenColor,_0x58373e[_0x850f8a(0x1f9)]=scratchpadEraserSize;else{if(activeTool===_0x850f8a(0x64d))_0x58373e['color']=scratchpadHighlighterColor,_0x58373e[_0x850f8a(0x1f9)]=scratchpadHighlighterSize;else activeTool===_0x850f8a(0x356)&&(_0x58373e[_0x850f8a(0x707)]=scratchpadPenColor,_0x58373e['size']=scratchpadPenSize);}}currentStroke=_0x58373e;}else _0x11be77[_0x850f8a(0xb1c)]&&(_0x11be77['touches'][_0x850f8a(0xab1)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x11be77['touches'][0x0][_0x850f8a(0x47c)],'y':_0x11be77[_0x850f8a(0xb1c)][0x0]['clientY']},{'x':_0x11be77[_0x850f8a(0xb1c)][0x1][_0x850f8a(0x47c)],'y':_0x11be77[_0x850f8a(0xb1c)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x11be77[_0x850f8a(0xb1c)][0x0][_0x850f8a(0x47c)],'y':_0x11be77['touches'][0x0][_0x850f8a(0x5cc)]},{'x':_0x11be77[_0x850f8a(0xb1c)][0x1][_0x850f8a(0x47c)],'y':_0x11be77[_0x850f8a(0xb1c)][0x1][_0x850f8a(0x5cc)]})));}function animateTrail(){const _0x2b4171=_0x448927,_0x396ab5=Date[_0x2b4171(0xd02)]();let _0x34b872=![];for(let _0x33b69a=strokes['length']-0x1;_0x33b69a>=0x0;_0x33b69a--){const _0x22878b=strokes[_0x33b69a];if(_0x22878b[_0x2b4171(0x9e6)]===_0x2b4171(0x356)&&_0x22878b[_0x2b4171(0x27a)]){const _0x3c7716=_0x396ab5-_0x22878b['fadeStartTime'];_0x3c7716>=TRAIL_DURATION?strokes['splice'](_0x33b69a,0x1):(_0x22878b['opacity']=0x1-_0x3c7716/TRAIL_DURATION,_0x34b872=!![]);}}redrawScratchpad(),_0x34b872?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x592508){const _0x4bfe8b=_0x448927;if(!_0x592508||_0x592508['points'][_0x4bfe8b(0xab1)]<0x1)return;scratchpadCtx[_0x4bfe8b(0xa16)](),scratchpadCtx[_0x4bfe8b(0xd3c)]=_0x4bfe8b(0x6a4),scratchpadCtx[_0x4bfe8b(0x246)]=_0x4bfe8b(0x6a4);if(_0x592508[_0x4bfe8b(0x9e6)]===_0x4bfe8b(0x356)){const _0x5aebc7=_0x592508['size']/scratchpadScale;scratchpadCtx[_0x4bfe8b(0xd2d)]=_0x592508[_0x4bfe8b(0xc9d)]??0x1,scratchpadCtx[_0x4bfe8b(0xdd1)]=_0x4bfe8b(0x82e),scratchpadCtx['shadowBlur']=_0x5aebc7*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x4bfe8b(0x36c)]=_0x5aebc7*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x4bfe8b(0xb32)](_0x592508[_0x4bfe8b(0xbcd)][0x0]['x'],_0x592508[_0x4bfe8b(0xbcd)][0x0]['y']);for(let _0x2a287c=0x1;_0x2a287c<_0x592508['points'][_0x4bfe8b(0xab1)]-0x1;_0x2a287c++){const _0x343712=getMidpoint(_0x592508[_0x4bfe8b(0xbcd)][_0x2a287c],_0x592508[_0x4bfe8b(0xbcd)][_0x2a287c+0x1]);scratchpadCtx['quadraticCurveTo'](_0x592508['points'][_0x2a287c]['x'],_0x592508[_0x4bfe8b(0xbcd)][_0x2a287c]['y'],_0x343712['x'],_0x343712['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x4bfe8b(0xdd1)]=_0x4bfe8b(0x2e0),scratchpadCtx[_0x4bfe8b(0xa81)]=0x0,scratchpadCtx[_0x4bfe8b(0x424)]=_0x4bfe8b(0xd92),scratchpadCtx[_0x4bfe8b(0x36c)]=_0x5aebc7,scratchpadCtx[_0x4bfe8b(0x980)](),scratchpadCtx[_0x4bfe8b(0x256)]();}else{if(_0x592508[_0x4bfe8b(0x9e6)]===_0x4bfe8b(0x64d)){scratchpadCtx['globalCompositeOperation']=_0x4bfe8b(0xe3c),scratchpadCtx[_0x4bfe8b(0x424)]=_0x592508[_0x4bfe8b(0x707)],scratchpadCtx['lineWidth']=_0x592508['size'],scratchpadCtx[_0x4bfe8b(0xf1)](),scratchpadCtx['moveTo'](_0x592508['points'][0x0]['x'],_0x592508[_0x4bfe8b(0xbcd)][0x0]['y']);for(let _0x389a5b=0x1;_0x389a5b<_0x592508[_0x4bfe8b(0xbcd)][_0x4bfe8b(0xab1)]-0x1;_0x389a5b++){const _0x13eee3=getMidpoint(_0x592508[_0x4bfe8b(0xbcd)][_0x389a5b],_0x592508[_0x4bfe8b(0xbcd)][_0x389a5b+0x1]);scratchpadCtx[_0x4bfe8b(0x6b6)](_0x592508[_0x4bfe8b(0xbcd)][_0x389a5b]['x'],_0x592508[_0x4bfe8b(0xbcd)][_0x389a5b]['y'],_0x13eee3['x'],_0x13eee3['y']);}scratchpadCtx[_0x4bfe8b(0x980)](),scratchpadCtx[_0x4bfe8b(0x256)]();}else{scratchpadCtx[_0x4bfe8b(0xc46)]=_0x592508[_0x4bfe8b(0x9e6)]==='eraser'?_0x4bfe8b(0x7ff):_0x4bfe8b(0x18a),scratchpadCtx[_0x4bfe8b(0x424)]=_0x592508[_0x4bfe8b(0x707)],scratchpadCtx['lineWidth']=_0x592508[_0x4bfe8b(0x1f9)],scratchpadCtx[_0x4bfe8b(0xf1)](),scratchpadCtx[_0x4bfe8b(0xb32)](_0x592508[_0x4bfe8b(0xbcd)][0x0]['x'],_0x592508[_0x4bfe8b(0xbcd)][0x0]['y']);for(let _0xe2209d=0x1;_0xe2209d<_0x592508[_0x4bfe8b(0xbcd)][_0x4bfe8b(0xab1)]-0x1;_0xe2209d++){const _0x3f1db4=getMidpoint(_0x592508['points'][_0xe2209d],_0x592508[_0x4bfe8b(0xbcd)][_0xe2209d+0x1]);scratchpadCtx['quadraticCurveTo'](_0x592508[_0x4bfe8b(0xbcd)][_0xe2209d]['x'],_0x592508[_0x4bfe8b(0xbcd)][_0xe2209d]['y'],_0x3f1db4['x'],_0x3f1db4['y']);}scratchpadCtx[_0x4bfe8b(0x980)](),scratchpadCtx[_0x4bfe8b(0x256)]();}}scratchpadCtx[_0x4bfe8b(0x142)]();}function handlePointerMove(_0x8f5715){const _0x49d81a=_0x448927;_0x8f5715[_0x49d81a(0x105)]();const _0x12cb75=scratchpadCtx[_0x49d81a(0xbb6)],_0x1053a0=_0x12cb75[_0x49d81a(0x1e4)]();if(_0x8f5715['touches']){if(_0x8f5715[_0x49d81a(0xb1c)][_0x49d81a(0xab1)]===0x1&&isDrawingOnScratchpad){const _0x4c3dc0=getTransformedPoint(_0x8f5715[_0x49d81a(0xb1c)][0x0]['clientX']-_0x1053a0[_0x49d81a(0xbf0)],_0x8f5715[_0x49d81a(0xb1c)][0x0]['clientY']-_0x1053a0['top']);currentStroke[_0x49d81a(0xbcd)][_0x49d81a(0x626)](_0x4c3dc0),redrawScratchpad();}else{if(_0x8f5715[_0x49d81a(0xb1c)][_0x49d81a(0xab1)]===0x2&&isPanning){const _0x423acf=getDistance({'x':_0x8f5715['touches'][0x0][_0x49d81a(0x47c)],'y':_0x8f5715[_0x49d81a(0xb1c)][0x0][_0x49d81a(0x5cc)]},{'x':_0x8f5715[_0x49d81a(0xb1c)][0x1][_0x49d81a(0x47c)],'y':_0x8f5715[_0x49d81a(0xb1c)][0x1]['clientY']}),_0x2e4895=getMidpoint({'x':_0x8f5715[_0x49d81a(0xb1c)][0x0]['clientX'],'y':_0x8f5715['touches'][0x0][_0x49d81a(0x5cc)]},{'x':_0x8f5715['touches'][0x1][_0x49d81a(0x47c)],'y':_0x8f5715['touches'][0x1]['clientY']}),_0x5d3bc3=_0x423acf/ initialPinchDistance,_0x458bd7=Math[_0x49d81a(0x4ae)](Math[_0x49d81a(0x90d)](scratchpadScale*_0x5d3bc3,MIN_SCALE),MAX_SCALE),_0x212c13=_0x2e4895['x']-panStart['x'],_0xe81ab0=_0x2e4895['y']-panStart['y'];scratchpadOffset['x']=_0x2e4895['x']-(_0x2e4895['x']-scratchpadOffset['x'])*(_0x458bd7/scratchpadScale),scratchpadOffset['y']=_0x2e4895['y']-(_0x2e4895['y']-scratchpadOffset['y'])*(_0x458bd7/scratchpadScale),scratchpadOffset['x']+=_0x212c13,scratchpadOffset['y']+=_0xe81ab0,scratchpadScale=_0x458bd7,initialPinchDistance=_0x423acf,panStart=_0x2e4895,redrawScratchpad();}}}else{if(isMousePanning){const _0x3d2f75=_0x8f5715['clientX']-panStart['x'],_0x250868=_0x8f5715['clientY']-panStart['y'];scratchpadOffset['x']+=_0x3d2f75,scratchpadOffset['y']+=_0x250868,panStart={'x':_0x8f5715[_0x49d81a(0x47c)],'y':_0x8f5715[_0x49d81a(0x5cc)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x405c50=getTransformedPoint(_0x8f5715['clientX']-_0x1053a0[_0x49d81a(0xbf0)],_0x8f5715[_0x49d81a(0x5cc)]-_0x1053a0[_0x49d81a(0xc69)]);currentStroke['points'][_0x49d81a(0x626)](_0x405c50),redrawScratchpad();}}}}function handlePointerUp(_0x1a3cad){const _0x2aacb4=_0x448927;_0x1a3cad[_0x2aacb4(0x105)]();const _0xb9ac40=scratchpadCtx[_0x2aacb4(0xbb6)];isMousePanning&&(isMousePanning=![],_0xb9ac40['style'][_0x2aacb4(0x744)]=_0x2aacb4(0x444)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2aacb4(0xbcd)][_0x2aacb4(0xab1)]>0x1&&(strokes[_0x2aacb4(0x626)](currentStroke),currentStroke[_0x2aacb4(0x9e6)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x36c233=_0x2aacb4,_0x4fe548=strokes['filter'](_0x3d657b=>_0x3d657b[_0x36c233(0x9e6)]===_0x36c233(0x356)&&!_0x3d657b[_0x36c233(0x27a)]);if(_0x4fe548['length']>0x0){const _0x2f118a=Date['now']();_0x4fe548[_0x36c233(0x157)](_0x4b67a2=>_0x4b67a2[_0x36c233(0x27a)]=_0x2f118a),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4f5f99){const _0x37931e=_0x448927;_0x4f5f99[_0x37931e(0x105)]();const _0xaee37c=_0x4f5f99[_0x37931e(0xe27)]*-0.005,_0x1a10a1=Math['min'](Math['max'](scratchpadScale+_0xaee37c,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4f5f99['clientX']-(_0x4f5f99[_0x37931e(0x47c)]-scratchpadOffset['x'])*(_0x1a10a1/scratchpadScale),scratchpadOffset['y']=_0x4f5f99['clientY']-(_0x4f5f99[_0x37931e(0x5cc)]-scratchpadOffset['y'])*(_0x1a10a1/scratchpadScale),scratchpadScale=_0x1a10a1,redrawScratchpad();}function undo(){const _0x36deab=_0x448927;strokes[_0x36deab(0xab1)]>0x0&&(redoStrokes[_0x36deab(0x626)](strokes[_0x36deab(0xd75)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x164e98=_0x448927;redoStrokes['length']>0x0&&(strokes[_0x164e98(0x626)](redoStrokes[_0x164e98(0xd75)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x568c46=_0x448927;document['getElementById'](_0x568c46(0x7ae))[_0x568c46(0x64b)]=strokes[_0x568c46(0xab1)]===0x0,document['getElementById'](_0x568c46(0x80c))[_0x568c46(0x64b)]=redoStrokes[_0x568c46(0xab1)]===0x0;}function openScratchpad(_0x162ce1,_0x30ea75){const _0xbcfb71=_0x448927,_0x10a3fd=document['getElementById'](_0xbcfb71(0x6c4)),_0x5b83de=document[_0xbcfb71(0xb18)](_0xbcfb71(0x3a9)),_0x3c4a7f=document['getElementById']('scratchpad-options'),_0x52c01e=document[_0xbcfb71(0xb18)](_0xbcfb71(0x33c));_0x5b83de[_0xbcfb71(0x5f4)]=_0x162ce1[_0xbcfb71(0xc35)]||_0x162ce1['questionText'],_0x3c4a7f[_0xbcfb71(0x5f4)]=_0x30ea75[_0xbcfb71(0xad5)]((_0x50cbf7,_0x94edcc)=>'<div>'+String['fromCharCode'](0x41+_0x94edcc)+'.\x20'+_0x50cbf7+'</div>')[_0xbcfb71(0x222)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x10a3fd[_0xbcfb71(0x82f)][_0xbcfb71(0xa1f)](_0xbcfb71(0x5a9)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x5b83de,_0x3c4a7f]);}function openBlueprintQuizSettings(){const _0x90dcaa=_0x448927,_0x1c347b=document[_0x90dcaa(0xb18)]('blueprint-settings-modal'),_0x354b04=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x90dcaa(0xb18)](_0x90dcaa(0xcc7))[_0x90dcaa(0x52d)]=_0x354b04[_0x90dcaa(0xafc)]||document[_0x90dcaa(0xb18)](_0x90dcaa(0x617))[_0x90dcaa(0x52d)],document[_0x90dcaa(0xb18)](_0x90dcaa(0x362))[_0x90dcaa(0x5f4)]=document[_0x90dcaa(0xb18)](_0x90dcaa(0x9ed))[_0x90dcaa(0x5f4)],document['getElementById'](_0x90dcaa(0x362))[_0x90dcaa(0x52d)]=_0x354b04[_0x90dcaa(0x3be)]||document[_0x90dcaa(0xb18)](_0x90dcaa(0x9ed))[_0x90dcaa(0x52d)],document[_0x90dcaa(0xb18)](_0x90dcaa(0xe18))[_0x90dcaa(0x5f4)]=document[_0x90dcaa(0xb18)](_0x90dcaa(0xad1))['innerHTML'],document[_0x90dcaa(0xb18)](_0x90dcaa(0xe18))[_0x90dcaa(0x52d)]=_0x354b04['complexityValue']||document[_0x90dcaa(0xb18)](_0x90dcaa(0xad1))[_0x90dcaa(0x52d)],document[_0x90dcaa(0xb18)](_0x90dcaa(0xdcf))[_0x90dcaa(0x52d)]=_0x354b04[_0x90dcaa(0x850)]||document[_0x90dcaa(0xb18)](_0x90dcaa(0x98e))['value'],document[_0x90dcaa(0xb18)](_0x90dcaa(0xa05))[_0x90dcaa(0x52d)]=_0x354b04['passingScore']||document['getElementById']('passing-score-input')[_0x90dcaa(0x52d)],document['getElementById'](_0x90dcaa(0x3fa))['value']=_0x354b04[_0x90dcaa(0xa7d)]||document[_0x90dcaa(0xb18)]('num-choices')[_0x90dcaa(0x52d)],document[_0x90dcaa(0xb18)]('bp-modal-shuffle-setting-select')[_0x90dcaa(0x52d)]=_0x354b04[_0x90dcaa(0x170)]||document['getElementById'](_0x90dcaa(0xa58))[_0x90dcaa(0x52d)],document['getElementById']('bp-modal-include-images-checkbox')[_0x90dcaa(0x2f1)]=_0x354b04['includeImages']||document[_0x90dcaa(0xb18)]('include-images-checkbox')['checked'],_0x1c347b[_0x90dcaa(0x82f)][_0x90dcaa(0xa1f)](_0x90dcaa(0x5a9));}function handleSaveBlueprintPageSettings(){const _0x2533c3=_0x448927;blueprintPageSettings={'quizType':document[_0x2533c3(0xb18)](_0x2533c3(0xcc7))[_0x2533c3(0x52d)],'difficultyValue':document['getElementById'](_0x2533c3(0x362))[_0x2533c3(0x52d)],'complexityValue':document[_0x2533c3(0xb18)](_0x2533c3(0xe18))[_0x2533c3(0x52d)],'numQuestions':document['getElementById'](_0x2533c3(0xdcf))[_0x2533c3(0x52d)],'passingScore':document[_0x2533c3(0xb18)](_0x2533c3(0xa05))[_0x2533c3(0x52d)],'numChoices':document['getElementById'](_0x2533c3(0x3fa))[_0x2533c3(0x52d)],'shuffle':document[_0x2533c3(0xb18)](_0x2533c3(0xbea))['value'],'includeImages':document[_0x2533c3(0xb18)](_0x2533c3(0x6d1))['checked']},showMessage(_0x2533c3(0x3db)),document['getElementById'](_0x2533c3(0x1f0))[_0x2533c3(0x82f)][_0x2533c3(0x24b)](_0x2533c3(0x5a9));}function listenForParallelTestShortcuts(){const _0x3a9dcb=_0x448927,_0x2af326=doc(db,_0x3a9dcb(0x3f4),_0x3a9dcb(0xb67));onSnapshot(_0x2af326,_0x1a1acf=>{const _0x196d69=_0x3a9dcb;let _0xe31915=[],_0x370ef8=[],_0x533e95={};if(_0x1a1acf[_0x196d69(0x14d)]()){const _0x4e5c74=_0x1a1acf[_0x196d69(0xa8e)]();_0xe31915=_0x4e5c74['shortcuts']||[],_0x370ef8=_0x4e5c74[_0x196d69(0x72f)]||[],_0x533e95=_0x4e5c74[_0x196d69(0xd3a)]||{};}!_0x370ef8[_0x196d69(0x8c0)](_0x4d56c5=>_0x4d56c5['id']===_0x196d69(0xd05))&&_0x370ef8['unshift']({'id':_0x196d69(0xd05),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0xe31915[_0x196d69(0x8c0)](_0x1657df=>_0x1657df['id']===_0x196d69(0x498))&&_0xe31915['unshift']({'id':_0x196d69(0x498),'name':_0x196d69(0x722),'url':'','isDefault':!![]}),!_0xe31915[_0x196d69(0x8c0)](_0x538a16=>_0x538a16['id']===_0x196d69(0x81a))&&_0xe31915[_0x196d69(0xdb1)]({'id':_0x196d69(0x81a),'name':_0x196d69(0x683),'url':'','isDefault':!![]}),parallelTestShortcuts=_0xe31915,parallelShortcutTabs=_0x370ef8,parallelShortcutOrder=_0x533e95,renderParallelTestShortcuts(),!document[_0x196d69(0xb18)](_0x196d69(0xa1b))[_0x196d69(0x82f)]['contains']('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x2d2c6d=_0x448927,_0x4b9b9a=doc(db,_0x2d2c6d(0x3f4),_0x2d2c6d(0xb67));try{await setDoc(_0x4b9b9a,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x5f02ba){console['error'](_0x2d2c6d(0xe35),_0x5f02ba);}}function renderAdditionalParallelShortcutsModal(){const _0x33d497=_0x448927,_0x61808e=document[_0x33d497(0xb18)](_0x33d497(0x3fd)),_0xb08337=document[_0x33d497(0xb18)](_0x33d497(0x941));if(!_0x61808e||!_0xb08337)return;_0x61808e[_0x33d497(0x5f4)]=parallelShortcutTabs['map'](_0x17a813=>{const _0x3d8e57=_0x33d497,_0x59c88e=_0x17a813['id']===activeParallelShortcutTabId;return _0x3d8e57(0x276)+_0x17a813['id']+_0x3d8e57(0xa9c)+(_0x59c88e?_0x3d8e57(0x43e):_0x3d8e57(0x4b5))+_0x3d8e57(0x7b8)+_0x17a813['name']+_0x3d8e57(0xe20)+_0x17a813[_0x3d8e57(0x2d2)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x17a813[_0x3d8e57(0xb29)]?'<button\x20data-tab-id=\x22'+_0x17a813['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x3d8e57(0x147);})['join']('');const _0x59b98e=parallelShortcutTabs[_0x33d497(0x8c0)](_0x5b997a=>_0x5b997a['id']===activeParallelShortcutTabId);let _0x46129f=_0x59b98e?.[_0x33d497(0xb29)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x33d497(0x955)](_0x20737a=>(_0x59b98e?.['shortcutIds']||[])[_0x33d497(0x2e7)](_0x20737a['id']));const _0x4e3bec=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x46129f[_0x33d497(0x872)]((_0x1610da,_0x37c9a5)=>{const _0x43a77e=_0x33d497,_0x147db7=_0x4e3bec['indexOf'](_0x1610da['id']),_0x573d68=_0x4e3bec[_0x43a77e(0x5c9)](_0x37c9a5['id']);return(_0x147db7===-0x1?Infinity:_0x147db7)-(_0x573d68===-0x1?Infinity:_0x573d68);}),_0xb08337[_0x33d497(0x5f4)]=_0x46129f[_0x33d497(0xad5)](_0x20b410=>{const _0x3fe943=_0x33d497,_0x10b647=_0x20b410[_0x3fe943(0xdc7)]?'🔁':'🔗',_0x397853=parallelShortcutTabs[_0x3fe943(0x955)](_0xf8b855=>!_0xf8b855['isDefault']),_0x1d6117=_0x59b98e[_0x3fe943(0xb29)]&&_0x397853[_0x3fe943(0xab1)]>0x0?_0x3fe943(0x861)+_0x397853['map'](_0x68a8d6=>_0x3fe943(0xbc1)+_0x20b410['id']+_0x3fe943(0xd61)+_0x68a8d6['id']+'\x22>'+_0x68a8d6['name']+_0x3fe943(0xd08))[_0x3fe943(0x222)]('')+_0x3fe943(0x5ea):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x20b410['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x10b647+'\x20'+_0x20b410[_0x3fe943(0x2d2)]+_0x3fe943(0x216)+_0x20b410['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x20b410['id']+_0x3fe943(0x30d)+(!_0x20b410[_0x3fe943(0xb29)]?_0x3fe943(0xb65)+_0x20b410['id']+_0x3fe943(0xf6):'')+_0x3fe943(0x5a2)+(!_0x59b98e[_0x3fe943(0xb29)]?_0x3fe943(0x5f3)+_0x20b410['id']+_0x3fe943(0x77a):'')+_0x3fe943(0x5a2)+_0x1d6117+_0x3fe943(0xd7d);})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x54f606=_0x448927;document[_0x54f606(0xccb)]('.parallel-shortcut-tab-btn')[_0x54f606(0x157)](_0x5da935=>{const _0x361512=_0x54f606;_0x5da935[_0x361512(0xb4f)]=_0x4c3d46=>{const _0xf1bb5f=_0x361512;activeParallelShortcutTabId=_0x4c3d46[_0xf1bb5f(0x751)][_0xf1bb5f(0xcd1)][_0xf1bb5f(0x33d)],renderAdditionalParallelShortcutsModal();},_0x5da935[_0x361512(0xcb7)]=_0x571626=>{const _0x4f9c32=_0x361512,_0x53ad38=_0x571626[_0x4f9c32(0x751)][_0x4f9c32(0x877)](_0x4f9c32(0x668));_0x571626[_0x4f9c32(0x751)]['querySelector'](_0x4f9c32(0x675))[_0x4f9c32(0x82f)][_0x4f9c32(0x24b)](_0x4f9c32(0x5a9)),_0x53ad38[_0x4f9c32(0x82f)][_0x4f9c32(0xa1f)]('hidden'),_0x53ad38[_0x4f9c32(0x2e8)](),_0x53ad38[_0x4f9c32(0xce)]();};}),document[_0x54f606(0xccb)](_0x54f606(0xa04))[_0x54f606(0x157)](_0x511753=>{const _0x13b396=_0x54f606,_0x9ae7da=()=>{const _0x22d441=_0x2e12,_0x1de267=_0x511753['closest'](_0x22d441(0xcd))[_0x22d441(0xcd1)]['tabId'],_0x458b37=parallelShortcutTabs[_0x22d441(0x8c0)](_0x31e78e=>_0x31e78e['id']===_0x1de267);_0x458b37&&(_0x458b37[_0x22d441(0x2d2)]=_0x511753[_0x22d441(0x52d)]['trim']()||_0x458b37[_0x22d441(0x2d2)],saveParallelShortcutConfig());};_0x511753[_0x13b396(0x823)]=_0x9ae7da,_0x511753[_0x13b396(0x1fa)]=_0x499ecc=>{const _0x2bf244=_0x13b396;if(_0x499ecc[_0x2bf244(0x4c5)]===_0x2bf244(0x4ff))_0x511753[_0x2bf244(0xdf7)]();};}),document['querySelectorAll']('.delete-parallel-shortcut-tab-btn')['forEach'](_0xea5e28=>_0xea5e28[_0x54f606(0xb4f)]=_0x34c5c1=>{const _0x422656=_0x54f606,_0x426d82=_0x34c5c1[_0x422656(0x751)]['dataset'][_0x422656(0x33d)];showConfirmation(_0x422656(0xc7d),()=>{const _0x232a4e=_0x422656;parallelShortcutTabs=parallelShortcutTabs[_0x232a4e(0x955)](_0x3903cd=>_0x3903cd['id']!==_0x426d82),delete parallelShortcutOrder[_0x426d82];if(activeParallelShortcutTabId===_0x426d82)activeParallelShortcutTabId=_0x232a4e(0xd05);saveParallelShortcutConfig();});}),document[_0x54f606(0xccb)](_0x54f606(0x109))[_0x54f606(0x157)](_0x215dc3=>_0x215dc3[_0x54f606(0xb4f)]=_0x32f60e=>{const _0x43d2d4=_0x54f606;_0x32f60e['preventDefault']();const {shortcutId:_0x38a7a4,targetTabId:_0x4fbe10}=_0x32f60e[_0x43d2d4(0x751)]['dataset'],_0x39e99a=parallelShortcutTabs[_0x43d2d4(0x8c0)](_0x1092b2=>_0x1092b2['id']===_0x4fbe10);_0x39e99a&&!_0x39e99a[_0x43d2d4(0x2d0)][_0x43d2d4(0x2e7)](_0x38a7a4)&&(_0x39e99a[_0x43d2d4(0x2d0)][_0x43d2d4(0x626)](_0x38a7a4),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x54f606(0x764))[_0x54f606(0x157)](_0x2c14c2=>_0x2c14c2[_0x54f606(0xb4f)]=_0x36d2fd=>{const _0x23732f=_0x54f606,_0x288867=_0x36d2fd[_0x23732f(0x751)][_0x23732f(0xcd1)][_0x23732f(0x7ec)],_0x290848=parallelShortcutTabs['find'](_0x2de280=>_0x2de280['id']===activeParallelShortcutTabId);_0x290848&&!_0x290848[_0x23732f(0xb29)]&&(_0x290848[_0x23732f(0x2d0)]=_0x290848[_0x23732f(0x2d0)][_0x23732f(0x955)](_0x169141=>_0x169141!==_0x288867),saveParallelShortcutConfig());}),document[_0x54f606(0xccb)](_0x54f606(0x8ee))[_0x54f606(0x157)](_0x12b6c3=>_0x12b6c3[_0x54f606(0xb4f)]=_0x495887=>{const _0x2358d8=_0x54f606;_0x495887[_0x2358d8(0x272)]();const _0x269ff0=_0x495887[_0x2358d8(0x751)]['nextElementSibling'];document['querySelectorAll']('.move-parallel-shortcut-dropdown')['forEach'](_0x57c5f5=>_0x57c5f5[_0x2358d8(0x82f)][_0x2358d8(0x24b)]('hidden')),_0x269ff0[_0x2358d8(0x82f)][_0x2358d8(0xa1f)](_0x2358d8(0x5a9));});const _0x42ba12=document[_0x54f606(0xb18)]('additional-parallel-shortcuts-list');let _0x37f8e8=null;_0x42ba12[_0x54f606(0xa9f)]=_0x4ad3b1=>{const _0x46a553=_0x54f606;_0x37f8e8=_0x4ad3b1[_0x46a553(0x364)]['closest'](_0x46a553(0xde5));if(_0x37f8e8)setTimeout(()=>_0x37f8e8[_0x46a553(0x82f)][_0x46a553(0x24b)](_0x46a553(0x524)),0x0);},_0x42ba12[_0x54f606(0x2ed)]=()=>{const _0x33161c=_0x54f606;_0x37f8e8&&(_0x37f8e8[_0x33161c(0x82f)][_0x33161c(0xa1f)]('opacity-50'),_0x37f8e8=null);},_0x42ba12[_0x54f606(0xa88)]=_0x398549=>{_0x398549['preventDefault']();},_0x42ba12['ondrop']=_0x177169=>{const _0x13222e=_0x54f606;_0x177169[_0x13222e(0x105)]();if(_0x37f8e8){const _0x5a403b=[..._0x42ba12[_0x13222e(0xccb)](_0x13222e(0xb14))]['reduce']((_0x2ec4f2,_0x2db416)=>{const _0x2b706b=_0x13222e,_0x44ddd5=_0x2db416[_0x2b706b(0x1e4)](),_0x322b9f=_0x177169[_0x2b706b(0x5cc)]-_0x44ddd5[_0x2b706b(0xc69)]-_0x44ddd5[_0x2b706b(0x94a)]/0x2;return _0x322b9f<0x0&&_0x322b9f>_0x2ec4f2['offset']?{'offset':_0x322b9f,'element':_0x2db416}:_0x2ec4f2;},{'offset':Number[_0x13222e(0x817)]})[_0x13222e(0x285)];_0x5a403b==null?_0x42ba12['appendChild'](_0x37f8e8):_0x42ba12[_0x13222e(0x5f2)](_0x37f8e8,_0x5a403b);const _0x71ec63=[..._0x42ba12['querySelectorAll'](_0x13222e(0xde5))]['map'](_0x2eccb5=>_0x2eccb5['dataset']['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x71ec63,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x334d2d=_0x448927,_0x4b3913=prompt(_0x334d2d(0x4f6),'แท็บใหม่');_0x4b3913&&_0x4b3913['trim']()&&(parallelShortcutTabs['push']({'id':_0x334d2d(0x395)+Date[_0x334d2d(0xd02)](),'name':_0x4b3913[_0x334d2d(0xb5b)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x3728dd=_0x448927,_0xc622fb=document['getElementById']('parallel-shortcut-container'),_0x3254a9=document['getElementById'](_0x3728dd(0x941)),_0x3f41ef=document['getElementById'](_0x3728dd(0x9b6));if(_0x3f41ef)_0x3f41ef[_0x3728dd(0x82f)]['add'](_0x3728dd(0x5a9));if(!_0xc622fb||!_0x3254a9)return;const _0x3dc4b3=parallelTestShortcuts[_0x3728dd(0xa30)](0x0,0x4),_0x1707f1=parallelTestShortcuts[_0x3728dd(0xa30)](0x4);_0xc622fb[_0x3728dd(0x5f4)]=_0x3dc4b3[_0x3728dd(0xad5)](_0x49b91f=>{const _0x2837cb=_0x3728dd,_0x2c643c=_0x49b91f[_0x2837cb(0xdc7)]&&_0x49b91f[_0x2837cb(0xdc7)]['trim']()!=='',_0x3c33ea=_0x2c643c?'bg-teal-500\x20hover:bg-teal-600\x20text-white':'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x4a0ab7=_0x2c643c?'🔁':'🔗',_0x75b245=!_0x49b91f[_0x2837cb(0xb29)]?_0x2837cb(0xb65)+_0x49b91f['id']+_0x2837cb(0xb5c):'';return _0x2837cb(0x155)+_0x49b91f['id']+_0x2837cb(0x9b9)+_0x3c33ea+_0x2837cb(0xca0)+_0x4a0ab7+'\x20'+_0x49b91f['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x49b91f['id']+_0x2837cb(0x1f2)+_0x75b245+_0x2837cb(0xafe);})[_0x3728dd(0x222)](''),_0x1707f1[_0x3728dd(0xab1)]>0x0&&(_0xc622fb['innerHTML']+=_0x3728dd(0xcff)),_0x1707f1[_0x3728dd(0xab1)]>0x0?_0x3254a9[_0x3728dd(0x5f4)]=_0x1707f1[_0x3728dd(0xad5)](_0x105d26=>_0x3728dd(0x5e4)+(_0x105d26[_0x3728dd(0xdc7)]?'🔁':'🔗')+'\x20'+_0x105d26['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x105d26['id']+_0x3728dd(0xb73)+_0x105d26['id']+_0x3728dd(0x597)+(!_0x105d26[_0x3728dd(0xb29)]?'<button\x20data-id=\x22'+_0x105d26['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x3728dd(0x1c0))[_0x3728dd(0x222)](''):_0x3254a9['innerHTML']=_0x3728dd(0x310);}function openParallelTestShortcutEditor(_0x2c30b8=null){const _0x53c6bf=_0x448927,_0x357eeb=document[_0x53c6bf(0xb18)](_0x53c6bf(0xc4d)),_0x215408=document[_0x53c6bf(0xb18)](_0x53c6bf(0x774)),_0x4f1c7a=document['getElementById'](_0x53c6bf(0xd15)),_0x2f74e8=document[_0x53c6bf(0xb18)](_0x53c6bf(0xcf9)),_0x1e3335=document[_0x53c6bf(0xb18)](_0x53c6bf(0xc75));if(_0x2c30b8){const _0x101699=parallelTestShortcuts['find'](_0x551e5a=>_0x551e5a['id']===_0x2c30b8);if(!_0x101699)return;_0x215408[_0x53c6bf(0x633)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x4f1c7a[_0x53c6bf(0x52d)]=_0x101699['id'],_0x2f74e8[_0x53c6bf(0x52d)]=_0x101699[_0x53c6bf(0x2d2)],_0x1e3335[_0x53c6bf(0x52d)]=_0x101699[_0x53c6bf(0xdc7)]||'';}else _0x215408[_0x53c6bf(0x633)]=_0x53c6bf(0xd0a),_0x4f1c7a[_0x53c6bf(0x52d)]='',_0x2f74e8[_0x53c6bf(0x52d)]='',_0x1e3335['value']='';_0x357eeb['classList'][_0x53c6bf(0xa1f)](_0x53c6bf(0x5a9));}async function saveParallelTestShortcutChanges(){const _0x2d99c1=_0x448927,_0x327774=document[_0x2d99c1(0xb18)](_0x2d99c1(0xd15))[_0x2d99c1(0x52d)],_0x41f3b8=document[_0x2d99c1(0xb18)]('parallel-shortcut-name-input')[_0x2d99c1(0x52d)][_0x2d99c1(0xb5b)](),_0x131544=document[_0x2d99c1(0xb18)](_0x2d99c1(0xc75))[_0x2d99c1(0x52d)][_0x2d99c1(0xb5b)]();if(!_0x41f3b8){showMessage(_0x2d99c1(0x7be));return;}const _0x13cfe4={'id':_0x327774||_0x2d99c1(0xba4)+Date['now'](),'name':_0x41f3b8,'url':_0x131544,'isDefault':_0x327774['startsWith'](_0x2d99c1(0xc3b))};let _0x18d11d;_0x327774?_0x18d11d=parallelTestShortcuts[_0x2d99c1(0xad5)](_0x19d769=>_0x19d769['id']===_0x327774?_0x13cfe4:_0x19d769):_0x18d11d=[...parallelTestShortcuts,_0x13cfe4];try{const _0x394c91=doc(db,_0x2d99c1(0x3f4),'parallelTestShortcutsConfig');await setDoc(_0x394c91,{'shortcuts':_0x18d11d},{'merge':!![]}),document['getElementById'](_0x2d99c1(0xc4d))[_0x2d99c1(0x82f)][_0x2d99c1(0x24b)](_0x2d99c1(0x5a9));}catch(_0x25c2fe){console[_0x2d99c1(0x17d)]('Error\x20saving\x20parallel\x20shortcut:',_0x25c2fe),showMessage(_0x2d99c1(0x3b8));}}async function handleParallelTestShortcutClick(_0x1a249a){const _0x2ccc73=_0x448927,_0x34276f=parallelTestShortcuts[_0x2ccc73(0x8c0)](_0x1d9e69=>_0x1d9e69['id']===_0x1a249a);if(!_0x34276f)return;if(!_0x34276f[_0x2ccc73(0xdc7)]||_0x34276f[_0x2ccc73(0xdc7)][_0x2ccc73(0xb5b)]()===''){openParallelTestShortcutEditor(_0x1a249a);return;}const _0x45a613=document['getElementById'](_0x2ccc73(0x3f3)),_0x1b5baf=document[_0x2ccc73(0xb18)](_0x2ccc73(0xa78));document['getElementById'](_0x2ccc73(0x2a0))[_0x2ccc73(0x82f)][_0x2ccc73(0xa1f)](_0x2ccc73(0x5a9)),document[_0x2ccc73(0xb18)](_0x2ccc73(0x1fd))[_0x2ccc73(0x5f4)]='',_0x45a613[_0x2ccc73(0x82f)][_0x2ccc73(0xa1f)](_0x2ccc73(0x5a9)),_0x1b5baf[_0x2ccc73(0x633)]='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x3c58ec;_0x34276f[_0x2ccc73(0xdc7)][_0x2ccc73(0x123)]()['includes'](_0x2ccc73(0x9a4))?_0x3c58ec=_0x2ccc73(0xc73):_0x3c58ec=_0x2ccc73(0x7b0);const _0x508a5d=await fetchFileFromUrl(_0x34276f[_0x2ccc73(0xdc7)],_0x3c58ec);await handleGenerateParallelTest(_0x508a5d);}catch(_0x45fd11){console[_0x2ccc73(0x17d)](_0x2ccc73(0xbc2),_0x45fd11),showMessage(_0x2ccc73(0x39b)+_0x45fd11[_0x2ccc73(0x550)]),_0x45a613['classList'][_0x2ccc73(0x24b)]('hidden');}}function initializeScratchpadCanvas(){const _0x780f43=_0x448927,_0x4f055a=document[_0x780f43(0xb18)](_0x780f43(0x757)),_0x18e034=document[_0x780f43(0x877)](_0x780f43(0x7e2));if(!_0x4f055a||!_0x18e034)return;scratchpadCtx=_0x4f055a[_0x780f43(0x7d0)]('2d',{'willReadFrequently':!![]});const _0x31b145=window['devicePixelRatio']||0x1,_0x86bcd4=_0x18e034['getBoundingClientRect']();_0x4f055a['width']=_0x86bcd4[_0x780f43(0x5ff)]*_0x31b145,_0x4f055a[_0x780f43(0x94a)]=_0x86bcd4['height']*_0x31b145,_0x4f055a[_0x780f43(0xbaf)][_0x780f43(0x5ff)]=_0x86bcd4['width']+'px',_0x4f055a['style'][_0x780f43(0x94a)]=_0x86bcd4[_0x780f43(0x94a)]+'px',scratchpadCtx[_0x780f43(0xc2a)](_0x31b145,_0x31b145),scratchpadCtx['lineJoin']='round',scratchpadCtx[_0x780f43(0x246)]=_0x780f43(0x6a4),_0x4f055a[_0x780f43(0xcec)](_0x780f43(0xd0),handlePointerDown),_0x4f055a['removeEventListener'](_0x780f43(0xaf9),handlePointerMove),_0x4f055a[_0x780f43(0xcec)](_0x780f43(0xcb),handlePointerUp),_0x4f055a[_0x780f43(0xcec)](_0x780f43(0xdb6),handlePointerUp),_0x4f055a[_0x780f43(0xcec)](_0x780f43(0x8f4),handleWheel),_0x4f055a[_0x780f43(0xcec)](_0x780f43(0x923),handlePointerDown),_0x4f055a[_0x780f43(0xcec)]('touchmove',handlePointerMove),_0x4f055a[_0x780f43(0xcec)](_0x780f43(0x78b),handlePointerUp),_0x4f055a[_0x780f43(0xcc)](_0x780f43(0xd0),handlePointerDown),_0x4f055a[_0x780f43(0xcc)](_0x780f43(0xaf9),handlePointerMove),_0x4f055a[_0x780f43(0xcc)](_0x780f43(0xcb),handlePointerUp),_0x4f055a[_0x780f43(0xcc)]('pointercancel',handlePointerUp),_0x4f055a['addEventListener'](_0x780f43(0x8f4),handleWheel,{'passive':![]}),_0x4f055a[_0x780f43(0xcc)](_0x780f43(0x923),handlePointerDown,{'passive':![]}),_0x4f055a[_0x780f43(0xcc)]('touchmove',handlePointerMove,{'passive':![]}),_0x4f055a[_0x780f43(0xcc)](_0x780f43(0x78b),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x95733a=_0x448927,_0x241f27=document[_0x95733a(0xb18)](_0x95733a(0x6c4)),_0x540027=document['getElementById'](_0x95733a(0x33c));_0x540027[_0x95733a(0x5f4)]=_0x95733a(0x54c)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3cc993=document[_0x95733a(0xb18)](_0x95733a(0x178)),_0x5b159c=document['getElementById']('eraser-tool-btn'),_0x46903c=document[_0x95733a(0xb18)](_0x95733a(0x6c7)),_0x59111d=document[_0x95733a(0xb18)](_0x95733a(0x49c)),_0x4525a=document[_0x95733a(0xb18)]('pen-tools-group'),_0xafec0e=document['getElementById'](_0x95733a(0x1c1)),_0x2d0512=document[_0x95733a(0xb18)](_0x95733a(0x6de)),_0x4995a8=[_0x3cc993,_0x5b159c,_0x46903c,_0x59111d];document[_0x95733a(0xb18)](_0x95733a(0xe1a))[_0x95733a(0xcc)](_0x95733a(0x8b2),()=>_0x241f27[_0x95733a(0x82f)][_0x95733a(0x24b)](_0x95733a(0x5a9))),document[_0x95733a(0xb18)](_0x95733a(0xe47))[_0x95733a(0xcc)](_0x95733a(0x8b2),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x95733a(0xb18)](_0x95733a(0x7e8))['addEventListener'](_0x95733a(0x8b2),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x95733a(0xb18)](_0x95733a(0x7ae))['addEventListener'](_0x95733a(0x8b2),undo),document[_0x95733a(0xb18)](_0x95733a(0x80c))['addEventListener'](_0x95733a(0x8b2),redo);const _0x4cbe11=_0x2bcfe1=>{const _0x571274=_0x95733a;_0x4995a8[_0x571274(0x157)](_0x2e037f=>_0x2e037f[_0x571274(0x82f)]['remove'](_0x571274(0x4f9))),_0x2bcfe1[_0x571274(0x82f)][_0x571274(0x24b)](_0x571274(0x4f9)),_0x4525a[_0x571274(0x82f)][_0x571274(0x24b)]('hidden'),_0xafec0e[_0x571274(0x82f)][_0x571274(0x24b)](_0x571274(0x5a9)),_0x2d0512['classList'][_0x571274(0x24b)](_0x571274(0x5a9));if(activeTool===_0x571274(0x7dc)||activeTool===_0x571274(0x356))_0x4525a[_0x571274(0x82f)]['remove'](_0x571274(0x5a9));else{if(activeTool===_0x571274(0x64d))_0xafec0e['classList'][_0x571274(0xa1f)]('hidden');else activeTool==='eraser'&&_0x2d0512[_0x571274(0x82f)][_0x571274(0xa1f)](_0x571274(0x5a9));}};_0x3cc993[_0x95733a(0xcc)](_0x95733a(0x8b2),()=>{const _0x28b668=_0x95733a;activeTool=_0x28b668(0x7dc),_0x4cbe11(_0x3cc993);}),_0x5b159c[_0x95733a(0xcc)](_0x95733a(0x8b2),()=>{const _0x547c36=_0x95733a;activeTool=_0x547c36(0x14e),_0x4cbe11(_0x5b159c);}),_0x46903c[_0x95733a(0xcc)](_0x95733a(0x8b2),()=>{const _0x282c8e=_0x95733a;activeTool=_0x282c8e(0x356),_0x4cbe11(_0x46903c);}),_0x59111d['addEventListener'](_0x95733a(0x8b2),()=>{activeTool='highlighter',_0x4cbe11(_0x59111d);}),_0x4525a[_0x95733a(0xccb)](_0x95733a(0x36a))[_0x95733a(0x157)](_0x558315=>{const _0x370054=_0x95733a;_0x558315[_0x370054(0xcc)](_0x370054(0x8b2),_0x2df70f=>{const _0x2a5d9e=_0x370054;scratchpadPenSize=parseInt(_0x2df70f[_0x2a5d9e(0x364)][_0x2a5d9e(0xcd1)][_0x2a5d9e(0x1f9)],0xa),_0x4525a['querySelectorAll'](_0x2a5d9e(0x36a))[_0x2a5d9e(0x157)](_0x1dc6f7=>_0x1dc6f7[_0x2a5d9e(0x82f)][_0x2a5d9e(0xa1f)](_0x2a5d9e(0x4f9))),_0x2df70f['target']['classList']['add'](_0x2a5d9e(0x4f9));});}),_0x2d0512['querySelectorAll'](_0x95733a(0x34a))[_0x95733a(0x157)](_0x516d30=>{const _0x33527f=_0x95733a;_0x516d30[_0x33527f(0xcc)](_0x33527f(0x8b2),_0x482f8f=>{const _0x159829=_0x33527f,_0x30c7cd=_0x482f8f['currentTarget'];scratchpadEraserSize=parseInt(_0x30c7cd['dataset'][_0x159829(0x1f9)],0xa),_0x2d0512[_0x159829(0xccb)](_0x159829(0x34a))[_0x159829(0x157)](_0x28d576=>_0x28d576[_0x159829(0x82f)]['remove'](_0x159829(0x4f9))),_0x30c7cd[_0x159829(0x82f)][_0x159829(0x24b)]('active');});}),_0x4525a[_0x95733a(0xccb)](_0x95733a(0xa70))[_0x95733a(0x157)](_0x2ac27a=>{const _0x425da4=_0x95733a;_0x2ac27a['addEventListener'](_0x425da4(0x8b2),_0x14feb5=>{const _0x15039e=_0x425da4;scratchpadPenColor=_0x14feb5[_0x15039e(0x364)][_0x15039e(0xcd1)][_0x15039e(0x707)],_0x4525a[_0x15039e(0xccb)](_0x15039e(0xa70))[_0x15039e(0x157)](_0x4fc448=>_0x4fc448[_0x15039e(0x82f)][_0x15039e(0xa1f)](_0x15039e(0x4f9))),_0x14feb5[_0x15039e(0x364)]['classList']['add']('active');});}),_0xafec0e['querySelectorAll'](_0x95733a(0x592))[_0x95733a(0x157)](_0x1032bb=>{const _0x2c8a79=_0x95733a;_0x1032bb[_0x2c8a79(0xcc)](_0x2c8a79(0x8b2),_0x38d227=>{const _0x1eac80=_0x2c8a79;scratchpadHighlighterColor=_0x38d227[_0x1eac80(0x364)][_0x1eac80(0xcd1)][_0x1eac80(0x707)],_0xafec0e[_0x1eac80(0xccb)](_0x1eac80(0x592))[_0x1eac80(0x157)](_0x2923bd=>_0x2923bd[_0x1eac80(0x82f)][_0x1eac80(0xa1f)](_0x1eac80(0x4f9))),_0x38d227['target'][_0x1eac80(0x82f)][_0x1eac80(0x24b)]('active');});});const _0x5be66d=document[_0x95733a(0xb18)](_0x95733a(0xd9a)),_0x77e33=document[_0x95733a(0xb18)]('highlighter-size-value');_0x5be66d[_0x95733a(0xcc)](_0x95733a(0xade),_0xf12ede=>{const _0x5f560d=_0x95733a,_0x1d7990=parseInt(_0xf12ede[_0x5f560d(0x364)][_0x5f560d(0x52d)],0xa);scratchpadHighlighterSize=_0x1d7990,_0x77e33[_0x5f560d(0x633)]=_0x1d7990;}),window['addEventListener'](_0x95733a(0xd54),()=>{const _0x23816e=_0x95733a;!_0x241f27['classList'][_0x23816e(0xb15)](_0x23816e(0x5a9))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x448927(0x5f8),'description':_0x448927(0xa8d),'icon':_0x448927(0xdc0)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x448927(0xaab),'description':_0x448927(0x414),'icon':_0x448927(0xb23)},'ON_FIRE':{'id':_0x448927(0xca7),'name':_0x448927(0x69c),'description':_0x448927(0xda0),'icon':_0x448927(0x6f2)},'FIRST_TRY_ACE':{'id':_0x448927(0x3f1),'name':_0x448927(0x567),'description':_0x448927(0x4cb),'icon':_0x448927(0x102)},'COMEBACK_KING':{'id':_0x448927(0xa48),'name':'ราชาคัมแบ็ก','description':_0x448927(0xd1d),'icon':_0x448927(0xd8f)},'SPECIALIST':{'id':_0x448927(0x695),'name':_0x448927(0x815),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x448927(0xcd0)},'PERSEVERANCE':{'id':_0x448927(0x72c),'name':_0x448927(0xcc3),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':'AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','authDomain':_0x448927(0x937),'projectId':_0x448927(0xaeb),'storageBucket':_0x448927(0x279),'messagingSenderId':_0x448927(0xab9),'appId':_0x448927(0x760),'measurementId':_0x448927(0x935)},appId=typeof __app_id!==_0x448927(0x3f2)?__app_id:_0x448927(0x625),adminView=document[_0x448927(0xb18)](_0x448927(0x86d)),studentView=document[_0x448927(0xb18)](_0x448927(0x896)),projectDashboardView=document[_0x448927(0xb18)](_0x448927(0x228)),projectDetailView=document['getElementById'](_0x448927(0x971)),quizResultsView=document[_0x448927(0xb18)](_0x448927(0x435)),projectList=document[_0x448927(0xb18)](_0x448927(0xe2)),noProjectsMsg=document['getElementById'](_0x448927(0x753)),projectTitle=document[_0x448927(0xb18)](_0x448927(0x4c7)),projectIdDisplay=document[_0x448927(0xb18)]('project-id-display'),studentList=document[_0x448927(0xb18)](_0x448927(0x5e7)),messageModal=document[_0x448927(0xb18)](_0x448927(0xb9f)),modalMessage=document[_0x448927(0xb18)](_0x448927(0x52a)),createProjectModal=document[_0x448927(0xb18)](_0x448927(0xbfa)),adminPasswordModal=document[_0x448927(0xb18)](_0x448927(0x66c)),confirmationModal=document[_0x448927(0xb18)](_0x448927(0x5ce)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x448927(0xb18)](_0x448927(0x72b)),textTab=document[_0x448927(0xb18)]('text-tab'),topicInputArea=document[_0x448927(0xb18)](_0x448927(0x8f9)),textInputArea=document[_0x448927(0xb18)](_0x448927(0x538)),manageTab=document['getElementById'](_0x448927(0x203)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document[_0x448927(0xb18)](_0x448927(0x658)),manageTabContent=document[_0x448927(0xb18)](_0x448927(0x161)),resultsTabContent=document[_0x448927(0xb18)](_0x448927(0x827)),leaderboardTabContent=document[_0x448927(0xb18)](_0x448927(0x605)),projectQuizzesList=document['getElementById'](_0x448927(0x983)),fileTab=document['getElementById'](_0x448927(0xc68)),fileInputArea=document[_0x448927(0xb18)](_0x448927(0x160)),fileUploadInput=document[_0x448927(0xb18)](_0x448927(0xac6)),worksheetTab=document['getElementById']('worksheet-tab'),worksheetInputArea=document[_0x448927(0xb18)](_0x448927(0x6a2)),generateWorksheetBtn=document[_0x448927(0xb18)](_0x448927(0x5c1)),studentInitialView=document[_0x448927(0xb18)](_0x448927(0x17f)),studentNameSelectionView=document[_0x448927(0xb18)](_0x448927(0xb2)),studentQuizArea=document[_0x448927(0xb18)](_0x448927(0x7d2)),studentResultArea=document[_0x448927(0xb18)](_0x448927(0x4fa)),studentReadingArea=document[_0x448927(0xb18)]('student-reading-area'),loadQuizBtn=document[_0x448927(0xb18)](_0x448927(0x28d)),startQuizBtn=document[_0x448927(0xb18)]('start-quiz-btn'),studentJoinGameView=document[_0x448927(0xb18)](_0x448927(0x482)),presentationModal=document['getElementById'](_0x448927(0x636)),renameQuizModal=document[_0x448927(0xb18)](_0x448927(0x96d)),moveQuizModal=document[_0x448927(0xb18)](_0x448927(0x948)),quizSettingsModal=document[_0x448927(0xb18)](_0x448927(0x589)),quizStatusModal=document[_0x448927(0xb18)](_0x448927(0x25c)),liveGameView=document[_0x448927(0xb18)]('live-game-view');function handleFixLessonLatex(){const _0xe304aa=_0x448927,_0x1826f3=document['getElementById'](_0xe304aa(0x235));if(!_0x1826f3){showMessage(_0xe304aa(0x54d));return;}const _0x5c7a4b=_0x1826f3['querySelectorAll']([_0xe304aa(0x868),_0xe304aa(0x3e1),_0xe304aa(0x5b1),_0xe304aa(0x8f2),_0xe304aa(0x5ee)][_0xe304aa(0x222)](','));let _0x1eb106=0x0;const _0x3a880a=_0xf9ae70=>_0xf9ae70[_0xe304aa(0x633)]||'',_0x249c96=(_0x5254d4,_0x23144d)=>{const _0x3fbaea=_0xe304aa;if(_0x5254d4[_0x3fbaea(0x877)]&&_0x5254d4['querySelector']('mjx-container'))return;_0x5254d4[_0x3fbaea(0x633)]=_0x23144d;},_0xaf5263=_0x5f197a=>_0x5f197a[_0xe304aa(0x572)](/\u00A0/g,'\x20')[_0xe304aa(0x572)](/\u200B/g,'')[_0xe304aa(0x572)](/\r\n?/g,'\x0a'),_0x328101=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x607597=_0x5dd59b=>{const _0x378976=_0xe304aa;let _0x5cfdaa=_0x5dd59b[_0x378976(0xb5b)]();const _0x5eaa2c=[_0x378976(0x6dd),_0x378976(0x4dd),_0x378976(0xdb5),_0x378976(0xb08),_0x378976(0xcfd),_0x378976(0xd37),'cdot','div',_0x378976(0xa08),_0x378976(0x6db),'le','ge',_0x378976(0x44e),'pm',_0x378976(0x9ee),_0x378976(0x4ef),_0x378976(0xaf0),_0x378976(0x2b6),_0x378976(0xcad),'ln',_0x378976(0x41b),_0x378976(0xdb4),_0x378976(0xb13),_0x378976(0xbf0),'right','overline',_0x378976(0x486),_0x378976(0xd0e),_0x378976(0x20d)];_0x5eaa2c['forEach'](_0x1b6a1f=>{const _0x256e45=_0x378976;_0x5cfdaa=_0x5cfdaa['replace'](new RegExp(_0x256e45(0x405)+_0x1b6a1f+'\x5cb','g'),(_0x161e7e,_0x29f9c6)=>_0x29f9c6+'\x5c'+_0x1b6a1f);});const _0x3e1361=[[/×/g,_0x378976(0xa51)],[/·/g,_0x378976(0xd9f)],[/÷/g,_0x378976(0xbbc)],[/≤/g,_0x378976(0x396)],[/≥/g,_0x378976(0xdab)],[/≠/g,_0x378976(0x6ae)],[/±/g,_0x378976(0x340)],[/∑/g,_0x378976(0x171)],[/−/g,'-']];return _0x3e1361[_0x378976(0x157)](([_0x2c2a09,_0x326d61])=>{const _0x2b342d=_0x378976;_0x5cfdaa=_0x5cfdaa[_0x2b342d(0x572)](_0x2c2a09,_0x326d61);}),_0x5cfdaa=_0x5cfdaa[_0x378976(0x572)](/√\s*([A-Za-z0-9]+)/g,_0x378976(0x2e1)),_0x5cfdaa=_0x5cfdaa[_0x378976(0x572)](/(\d+)\s*%/g,_0x378976(0x36d)),_0x5cfdaa;},_0x44c24c=_0x26abba=>{const _0x2e1be7=_0xe304aa;if(/\$|\\\(|\\\[/[_0x2e1be7(0xbc9)](_0x26abba))return _0x26abba;if(!_0x328101[_0x2e1be7(0xbc9)](_0x26abba))return _0x26abba;const _0x128f09=_0x26abba[_0x2e1be7(0xcdc)](/^\s*/)[0x0],_0x4f32e7=_0x26abba[_0x2e1be7(0xcdc)](/\s*$/)[0x0],_0x3f0cd5=_0x26abba[_0x2e1be7(0xb5b)]();return _0x128f09+'$'+_0x607597(_0x3f0cd5)+'$'+_0x4f32e7;};_0x5c7a4b[_0xe304aa(0x157)](_0x5df801=>{const _0x43b133=_0xe304aa,_0x242296=_0x3a880a(_0x5df801);let _0xeac1c9=_0xaf5263(_0x242296);_0xeac1c9=_0xeac1c9[_0x43b133(0x572)](/\$([^$]*?)\$/g,(_0x2922db,_0x59fcef)=>'$'+_0x607597(_0x59fcef)+'$');const _0x388c52=_0xeac1c9[_0x43b133(0xc74)](/(\s+)/),_0x1ced7d=_0x388c52[_0x43b133(0xad5)](_0x2fe222=>{const _0x48ad55=_0x43b133;if(/\s+/[_0x48ad55(0xbc9)](_0x2fe222))return _0x2fe222;return _0x44c24c(_0x2fe222);});_0xeac1c9=_0x1ced7d[_0x43b133(0x222)](''),_0xeac1c9!==_0x242296&&(_0x249c96(_0x5df801,_0xeac1c9),_0x1eb106++);});if(_0x1eb106>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x1eb106+_0xe304aa(0x332));try{window['MathJax']&&MathJax[_0xe304aa(0xd16)]&&MathJax[_0xe304aa(0xd16)]([_0x1826f3]);}catch(_0x1b2710){console['error']('MathJax\x20re-render\x20failed:',_0x1b2710);}}else showMessage(_0xe304aa(0x8c5));}function handleAutoFixLatex(){const _0x473cbe=_0x448927,_0x19aa12=document[_0x473cbe(0xb18)](_0x473cbe(0x180))||document,_0x5c6682=_0x19aa12[_0x473cbe(0xccb)](_0x473cbe(0xa9a));let _0x14fb40=0x0;const _0x2af7ad=_0x1395f8=>_0x473cbe(0x52d)in _0x1395f8?String(_0x1395f8[_0x473cbe(0x52d)]):_0x1395f8['innerText']!==undefined?_0x1395f8[_0x473cbe(0x3cc)]:_0x1395f8[_0x473cbe(0x633)]||'',_0x1654c0=(_0x15d3b0,_0x248f43)=>{const _0x8abdfe=_0x473cbe;if(_0x8abdfe(0x52d)in _0x15d3b0){_0x15d3b0[_0x8abdfe(0x52d)]=_0x248f43;return;}if(_0x15d3b0[_0x8abdfe(0x877)]&&_0x15d3b0[_0x8abdfe(0x877)]('mjx-container'))return;if(_0x15d3b0[_0x8abdfe(0x3cc)]!==undefined)_0x15d3b0['innerText']=_0x248f43;else _0x15d3b0[_0x8abdfe(0x633)]=_0x248f43;},_0x324520=_0xb0f29b=>_0xb0f29b[_0x473cbe(0x572)](/\u00A0/g,'\x20')[_0x473cbe(0x572)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0xd2b776=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x1571a1=_0x528d3e=>{const _0x2f027e=_0x473cbe;let _0x44efca=_0x528d3e[_0x2f027e(0xb5b)]();_0x44efca=_0x44efca[_0x2f027e(0x572)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x2f027e(0xb31)),_0x44efca=_0x44efca['replace'](/\bfrac(\d)(\d)/g,_0x2f027e(0xb31));const _0x566bb4=['frac',_0x2f027e(0xb08),'times',_0x2f027e(0xd84),'div','leq',_0x2f027e(0x6db),'neq','pm',_0x2f027e(0x4ef),'cos','tan',_0x2f027e(0xcad),'ln'];_0x566bb4[_0x2f027e(0x157)](_0x23591e=>{_0x44efca=_0x44efca['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x23591e+'\x5cb','g'),(_0x125128,_0x5bd926)=>_0x5bd926+'\x5c'+_0x23591e);});const _0x39a6b3=[[/×/g,_0x2f027e(0xa51)],[/·/g,_0x2f027e(0xd9f)],[/÷/g,'\x5cdiv'],[/≤/g,_0x2f027e(0x396)],[/≥/g,_0x2f027e(0xdab)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x39a6b3[_0x2f027e(0x157)](([_0xedfff5,_0x695b8])=>{const _0x29fd42=_0x2f027e;_0x44efca=_0x44efca[_0x29fd42(0x572)](_0xedfff5,_0x695b8);}),_0x44efca;},_0x303570=_0x145d02=>{const _0xaf9b52=_0x473cbe;if(/\$|\\\(|\\\[/[_0xaf9b52(0xbc9)](_0x145d02))return _0x145d02;if(!_0xd2b776['test'](_0x145d02))return _0x145d02;const _0x2b4f82=_0x145d02['match'](/^\s*/)[0x0],_0x44b9ab=_0x145d02[_0xaf9b52(0xcdc)](/\s*$/)[0x0],_0x366ec=_0x145d02['trim']();return _0x2b4f82+'$'+_0x1571a1(_0x366ec)+'$'+_0x44b9ab;};_0x5c6682[_0x473cbe(0x157)](_0x1ac204=>{const _0x1ba0c1=_0x473cbe,_0x2396f6=_0x2af7ad(_0x1ac204);let _0x199480=_0x324520(_0x2396f6);_0x199480=_0x199480[_0x1ba0c1(0x572)](/\$([^$]*?)\$/g,(_0x128577,_0x329627)=>'$'+_0x1571a1(_0x329627)+'$');const _0x120b26=_0x199480[_0x1ba0c1(0xc74)](/(\s+)/),_0x41dd83=_0x120b26[_0x1ba0c1(0xad5)](_0x3c08a1=>/\s+/[_0x1ba0c1(0xbc9)](_0x3c08a1)?_0x3c08a1:_0x303570(_0x3c08a1));_0x199480=_0x41dd83[_0x1ba0c1(0x222)](''),_0x199480!==_0x2396f6&&(_0x1654c0(_0x1ac204,_0x199480),_0x14fb40++);});if(_0x14fb40>0x0){showMessage(_0x473cbe(0x720)+_0x14fb40+_0x473cbe(0x688));try{if(window['MathJax']&&MathJax[_0x473cbe(0xd16)])MathJax['typesetPromise']();}catch(_0x425e5e){}}else showMessage(_0x473cbe(0x545));}async function listenForCustomMathTopics(){const _0x1acc41=_0x448927,_0xecf6e4=collection(db,_0x1acc41(0xa76)+appId+_0x1acc41(0x6b1));onSnapshot(_0xecf6e4,_0x3f26c2=>{const _0x632439=_0x1acc41;customMathTopics=_0x3f26c2[_0x632439(0x18c)]['map'](_0x833331=>({'id':_0x833331['id'],..._0x833331['data']()})),renderTopicCheckboxes();},_0xc26299=>{const _0x4f0380=_0x1acc41;console[_0x4f0380(0x17d)](_0x4f0380(0x6b2),_0xc26299);});}function handleSelectAllTopics(){const _0x35280c=_0x448927,_0x40f6b7=document['getElementById'](_0x35280c(0xd47)),_0x157220=_0x40f6b7['querySelectorAll'](_0x35280c(0x179));_0x157220[_0x35280c(0x157)](_0x287492=>{_0x287492['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xff551a=_0x448927,_0x5b73a7=document[_0xff551a(0xb18)](_0xff551a(0xd47)),_0x1338a8=_0x5b73a7[_0xff551a(0xccb)](_0xff551a(0x179));_0x1338a8[_0xff551a(0x157)](_0x5eb3cb=>{const _0x10c2b2=_0xff551a;_0x5eb3cb[_0x10c2b2(0x2f1)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1da38c){const _0x244832=_0x448927;if(!_0x1da38c)return;try{const _0x388a5a=doc(db,_0x244832(0xa76)+appId+_0x244832(0x6b1),_0x1da38c);await deleteDoc(_0x388a5a),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x557d0f){console[_0x244832(0x17d)](_0x244832(0x7c5),_0x557d0f),showMessage(_0x244832(0x618));}}async function handleAddCustomMathTopic(){const _0x52ca1d=_0x448927,_0x2760e2=document[_0x52ca1d(0xb18)]('custom-math-topic-input'),_0x11ca9f=_0x2760e2[_0x52ca1d(0x52d)][_0x52ca1d(0xb5b)]();if(!_0x11ca9f){showMessage(_0x52ca1d(0x65e));return;}if(!userId){showMessage(_0x52ca1d(0x238));return;}try{const _0x7434e9=collection(db,_0x52ca1d(0xa76)+appId+_0x52ca1d(0x6b1));await addDoc(_0x7434e9,{'name':_0x11ca9f,'createdAt':serverTimestamp()}),_0x2760e2[_0x52ca1d(0x52d)]='',showMessage(_0x52ca1d(0x9da)+_0x11ca9f+_0x52ca1d(0x537));}catch(_0x4653fd){console[_0x52ca1d(0x17d)](_0x52ca1d(0x3cb),_0x4653fd),showMessage(_0x52ca1d(0xbe3));}}async function handleUpdateOldQuizzes(){const _0x4c965f=_0x448927;showConfirmation(_0x4c965f(0x8ff),async()=>{const _0x3f596d=_0x4c965f,_0x3bda26=document[_0x3f596d(0xb18)](_0x3f596d(0x3f3)),_0xe7a716=document['getElementById']('loader-text'),_0xd35f6b=_0xe7a716[_0x3f596d(0x633)];_0x3bda26['classList'][_0x3f596d(0xa1f)]('hidden'),_0xe7a716[_0x3f596d(0x633)]=_0x3f596d(0x26a);try{const _0x645cb3=collection(db,'artifacts/'+appId+_0x3f596d(0xc34)),_0x1e9e56=await getDocs(_0x645cb3);if(_0x1e9e56['empty']){showMessage(_0x3f596d(0xd1b));return;}const _0x31ebe0=writeBatch(db);let _0x41fd0c=0x0;_0x1e9e56['forEach'](_0x475d6b=>{const _0x50d819=_0x3f596d,_0x371b04=_0x475d6b[_0x50d819(0xa8e)](),_0x492ca5=_0x475d6b['id'];if(_0x371b04[_0x50d819(0x677)]&&_0x371b04[_0x50d819(0x677)][_0x50d819(0xab1)]>0x0&&!_0x371b04[_0x50d819(0x677)][0x0]['hasOwnProperty']('id')){console['log'](_0x50d819(0x217)+_0x492ca5+'\x20('+_0x371b04[_0x50d819(0xda1)]+')'),_0x41fd0c++;const _0xd538e7=_0x371b04[_0x50d819(0x677)][_0x50d819(0xad5)]((_0x29a46b,_0x513833)=>{const _0x35d6ea=_0x50d819;return{..._0x29a46b,'id':_0x29a46b['id']||'q_'+Date[_0x35d6ea(0xd02)]()+'_'+_0x492ca5+'_'+_0x513833};}),_0x3da057=doc(db,_0x50d819(0xa76)+appId+_0x50d819(0xc34),_0x492ca5);_0x31ebe0[_0x50d819(0x8a4)](_0x3da057,{'questions':_0xd538e7});}}),_0x41fd0c>0x0?(_0xe7a716[_0x3f596d(0x633)]=_0x3f596d(0xc0f)+_0x41fd0c+_0x3f596d(0x17c),await _0x31ebe0[_0x3f596d(0x979)](),showMessage(_0x3f596d(0x83e)+_0x41fd0c+_0x3f596d(0xa4d))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x47f63c){console[_0x3f596d(0x17d)](_0x3f596d(0x768),_0x47f63c),showMessage(_0x3f596d(0xb9e)+_0x47f63c['message']);}finally{_0x3bda26[_0x3f596d(0x82f)][_0x3f596d(0x24b)](_0x3f596d(0x5a9)),_0xe7a716[_0x3f596d(0x633)]=_0xd35f6b;}});}async function handleBulkUpdateQuizSettings(){const _0xb5cbbb=_0x448927,_0x4708f1={'shuffle':document['getElementById']('bulk-shuffle-select')[_0xb5cbbb(0x52d)],'resultsDisplay':document[_0xb5cbbb(0xb18)](_0xb5cbbb(0x4d0))['value'],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')[_0xb5cbbb(0x2f1)],'isConfidenceScoringEnabled':document['getElementById'](_0xb5cbbb(0x93b))[_0xb5cbbb(0x2f1)],'confidenceMode':document[_0xb5cbbb(0xb18)](_0xb5cbbb(0x23f))[_0xb5cbbb(0x52d)]};try{showMessage(_0xb5cbbb(0x645));const _0x147276=await getDocs(collection(db,_0xb5cbbb(0xa76)+appId+_0xb5cbbb(0xc34))),_0x281919=_0x147276[_0xb5cbbb(0x18c)]['map'](_0x374408=>({'id':_0x374408['id'],'data':_0x374408[_0xb5cbbb(0xa8e)]()})),_0x40e7ff=_0x281919[_0xb5cbbb(0xab1)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x40e7ff+_0xb5cbbb(0x19d),async()=>{const _0x1e4c32=_0xb5cbbb,_0x2f122d=document[_0x1e4c32(0xb18)](_0x1e4c32(0xb0));_0x2f122d[_0x1e4c32(0x64b)]=!![],_0x2f122d[_0x1e4c32(0x5f4)]=_0x1e4c32(0xcf6);try{const _0x11aef4=writeBatch(db);_0x281919[_0x1e4c32(0x157)](_0x598d16=>{const _0x4506a6=_0x1e4c32,_0x24ec60=doc(db,_0x4506a6(0xa76)+appId+_0x4506a6(0xc34),_0x598d16['id']),_0x267ca2={..._0x598d16['data'][_0x4506a6(0xdbf)]||{},..._0x4708f1};_0x11aef4[_0x4506a6(0x8a4)](_0x24ec60,{'settings':_0x267ca2});}),await _0x11aef4[_0x1e4c32(0x979)](),document[_0x1e4c32(0xb18)](_0x1e4c32(0x9b3))[_0x1e4c32(0x82f)][_0x1e4c32(0x24b)]('hidden'),showMessage(_0x1e4c32(0x513)+_0x40e7ff+_0x1e4c32(0x10a));}catch(_0x485b2d){console[_0x1e4c32(0x17d)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x485b2d),showMessage(_0x1e4c32(0x5cf));}finally{_0x2f122d[_0x1e4c32(0x64b)]=![],_0x2f122d['innerHTML']='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x59d5cf){console[_0xb5cbbb(0x17d)](_0xb5cbbb(0xdd4),_0x59d5cf),showMessage(_0xb5cbbb(0x86e));}}async function handleSaveProjectName(){const _0x510f70=_0x448927,_0x4c7c55=document[_0x510f70(0xb18)](_0x510f70(0x4c7)),_0x88a2af=document[_0x510f70(0xb18)]('save-project-name-btn'),_0x3ef884=_0x4c7c55[_0x510f70(0x633)][_0x510f70(0xb5b)]();if(!_0x3ef884||!currentProjectId){showMessage(_0x510f70(0x7a9)),_0x4c7c55[_0x510f70(0x633)]=currentProjectData[_0x510f70(0xa8f)];return;}_0x88a2af[_0x510f70(0x64b)]=!![],_0x88a2af[_0x510f70(0x5f4)]=_0x510f70(0x6a3);try{const _0x523594=doc(db,_0x510f70(0xa76)+appId+_0x510f70(0x945),currentProjectId);await updateDoc(_0x523594,{'projectName':_0x3ef884}),currentProjectData&&(currentProjectData[_0x510f70(0xa8f)]=_0x3ef884),showMessage(_0x510f70(0x120));}catch(_0x2356e0){console[_0x510f70(0x17d)](_0x510f70(0xda2),_0x2356e0),showMessage(_0x510f70(0x3b8)),_0x4c7c55[_0x510f70(0x633)]=currentProjectData[_0x510f70(0xa8f)];}finally{_0x88a2af['classList'][_0x510f70(0x24b)](_0x510f70(0x5a9)),_0x88a2af['disabled']=![],_0x88a2af[_0x510f70(0x5f4)]=_0x510f70(0x327);}}function handleGeneratePracticeTest(_0x1b543b,_0x3b646f){const _0x18658f=_0x448927,_0x540229=document[_0x18658f(0xb18)](_0x18658f(0xbdf)),_0x2fe6d8=document[_0x18658f(0xb18)](_0x18658f(0xb74)),_0x543a53=document[_0x18658f(0xb18)](_0x18658f(0x8fc)),_0x1f9117=document[_0x18658f(0xb18)](_0x18658f(0xb12));_0x2fe6d8[_0x18658f(0x633)]='กำลังสร้างแบบทดสอบ:\x20'+_0x1b543b,_0x1f9117[_0x18658f(0x82f)][_0x18658f(0x24b)](_0x18658f(0x5a9)),_0x543a53[_0x18658f(0x82f)]['remove'](_0x18658f(0x5a9)),_0x540229[_0x18658f(0x82f)][_0x18658f(0xa1f)](_0x18658f(0x5a9)),generatePracticeTest(_0x1b543b,_0x3b646f)[_0x18658f(0xa98)](_0x2b505e=>{const _0x479818=_0x18658f;console['error'](_0x479818(0xa97),_0x2b505e),showMessage(_0x479818(0x1a8)),_0x540229['classList'][_0x479818(0x24b)](_0x479818(0x5a9));});}async function generatePracticeTest(_0x5e9c76,_0xaf324d){const _0x1380da=_0x448927;[_0x1380da(0xa17),_0x1380da(0x2d8),_0x1380da(0x5f1),'summaryContent'][_0x1380da(0x157)](_0x306f2f=>{const _0x4dcdc3=_0x1380da,_0x1bdb98=document[_0x4dcdc3(0xb18)](_0x306f2f)[_0x4dcdc3(0x670)];_0x1bdb98&&(_0x1bdb98['style']['display']=_0x4dcdc3(0x43f));});try{const _0x4da7fc=_0x1380da(0x92f),_0xa62c7b=_0x1380da(0xbac)+_0xaf324d+'\x27\x20ในหัวข้อ\x20\x27'+_0x5e9c76+_0x1380da(0x27e),_0x1a84f5=await callGemini(_0xa62c7b,!![]),_0x33d7b7=document['getElementById']('lesson-view-title'),_0x219695=document[_0x1380da(0xb18)](_0x1380da(0x8fc)),_0x99da6f=document['getElementById']('lesson-sections-container'),_0x3b688b=document[_0x1380da(0xb18)](_0x1380da(0x5f1))[_0x1380da(0x670)];_0x33d7b7['innerText']=_0x1380da(0x58e)+_0x5e9c76[_0x1380da(0x572)](/•\s/g,'')+_0x1380da(0x291)+_0xaf324d+')',currentApplicationData=JSON['parse'](_0x1a84f5);const _0x5a1805=document[_0x1380da(0xb18)](_0x1380da(0x5f1));_0x5a1805[_0x1380da(0x5f4)]=currentApplicationData[_0x1380da(0xad5)]((_0x1adf92,_0x5f166a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5f166a+0x1)+'.\x20'+marked[_0x1380da(0x515)](_0x1adf92[_0x1380da(0x339)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x5f166a+_0x1380da(0x480)+_0x1adf92['options'][_0x1380da(0xad5)]((_0x2dc148,_0x5a19ad)=>_0x1380da(0x954)+_0x5f166a+',\x20'+_0x5a19ad+_0x1380da(0x9bc)+String[_0x1380da(0x44d)](0x61+_0x5a19ad)+'.\x20'+marked[_0x1380da(0x515)](_0x2dc148)+_0x1380da(0x16c))[_0x1380da(0x222)]('')+_0x1380da(0x1c0))[_0x1380da(0x222)](''),window[_0x1380da(0x563)]&&MathJax[_0x1380da(0xd16)]([_0x5a1805]),_0x3b688b&&(_0x3b688b[_0x1380da(0xbaf)]['display']=_0x1380da(0x298)),_0x219695[_0x1380da(0x82f)][_0x1380da(0x24b)]('hidden'),_0x99da6f['classList']['remove'](_0x1380da(0x5a9));}catch(_0x1fd5ae){console[_0x1380da(0x17d)](_0x1fd5ae);throw _0x1fd5ae;}}async function callGemini(_0xe2e673,_0x1178cd=![]){const _0x5803d3=_0x448927,_0x4cbaf7='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x5cf29e=_0x5803d3(0x541)+_0x4cbaf7,_0x3967ce={'contents':[{'parts':[{'text':_0xe2e673}]}]};_0x1178cd&&(_0x3967ce[_0x5803d3(0x50f)]={'responseMimeType':_0x5803d3(0x92d)},_0xe2e673[_0x5803d3(0x2e7)](_0x5803d3(0x29d))?_0x3967ce['generationConfig']['responseSchema']={'type':_0x5803d3(0x16b),'properties':{'gradeLevel':{'type':_0x5803d3(0x60a)},'curriculum':{'type':_0x5803d3(0x5b3),'items':{'type':_0x5803d3(0x16b),'properties':{'sara':{'type':_0x5803d3(0x60a)},'mainTopics':{'type':_0x5803d3(0x5b3),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x5803d3(0x60a)},'subTopics':{'type':_0x5803d3(0x5b3),'items':{'type':_0x5803d3(0x60a)}}},'required':['topicName','subTopics']}}},'required':[_0x5803d3(0x4e1),'mainTopics']}}},'required':[_0x5803d3(0xe8),_0x5803d3(0x1d6)]}:_0x3967ce['generationConfig'][_0x5803d3(0xa33)]={'type':_0x5803d3(0x5b3),'items':{'type':_0x5803d3(0x16b),'properties':{'question':{'type':_0x5803d3(0x60a)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':'NUMBER'}},'required':[_0x5803d3(0x339),_0x5803d3(0x6ca),_0x5803d3(0x71e)]}});try{const _0x291bb4=await fetch(_0x5cf29e,{'method':_0x5803d3(0x6cd),'headers':{'Content-Type':_0x5803d3(0x92d)},'body':JSON[_0x5803d3(0x7cd)](_0x3967ce)});if(!_0x291bb4['ok']){const _0xe87401=await _0x291bb4[_0x5803d3(0xcfd)]();console[_0x5803d3(0x17d)](_0x5803d3(0x26c),_0xe87401);throw new Error(_0x5803d3(0x59c)+_0x291bb4[_0x5803d3(0x33a)]);}const _0x459228=await _0x291bb4[_0x5803d3(0x5e8)]();if(_0x459228[_0x5803d3(0x40c)]&&_0x459228[_0x5803d3(0x40c)][0x0][_0x5803d3(0x2ba)]&&_0x459228[_0x5803d3(0x40c)][0x0][_0x5803d3(0x2ba)][_0x5803d3(0x7fe)][0x0])return _0x459228['candidates'][0x0][_0x5803d3(0x2ba)][_0x5803d3(0x7fe)][0x0]['text'];else{console[_0x5803d3(0x17d)]('Unexpected\x20API\x20response\x20structure:',_0x459228);if(_0x459228[_0x5803d3(0x40c)]&&_0x459228[_0x5803d3(0x40c)][0x0][_0x5803d3(0x382)]===_0x5803d3(0x27d))return JSON[_0x5803d3(0x7cd)]({'error':_0x5803d3(0x28b)});throw new Error(_0x5803d3(0x52e));}}catch(_0x5a85d4){console['error']('Error\x20calling\x20Gemini\x20API:',_0x5a85d4);throw _0x5a85d4;}}async function generateLesson(_0x42c216=null,_0x11d301=null){const _0x50998c=_0x448927,_0x4f08a2=_0x42c216,_0x28d5f3=_0x11d301||_0x50998c(0x3a0),_0x33ec49=document['getElementById'](_0x50998c(0x8fc)),_0x214366=document[_0x50998c(0xb18)](_0x50998c(0x448));_0x214366[_0x50998c(0x633)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x4f08a2+_0x50998c(0x758);try{let _0x2cdd93=[];const _0x36f012=document[_0x50998c(0xb18)]('bp-reference-file-url')?.[_0x50998c(0x52d)][_0x50998c(0xb5b)]();if(_0x36f012)try{_0x214366[_0x50998c(0x633)]=_0x50998c(0xc6c);const _0x30993f=await fetchFileFromUrl(_0x36f012,_0x50998c(0x6a6)),_0x497342=await new Promise((_0x2cc1cd,_0x5594c4)=>{const _0x307a5c=_0x50998c,_0x5906ac=new FileReader();_0x5906ac[_0x307a5c(0xcd3)](_0x30993f),_0x5906ac[_0x307a5c(0xab4)]=()=>_0x2cc1cd(_0x5906ac['result']['split'](',')[0x1]),_0x5906ac[_0x307a5c(0x26d)]=_0x5594c4;});_0x2cdd93[_0x50998c(0x626)]({'inlineData':{'mimeType':_0x30993f[_0x50998c(0x4e4)],'data':_0x497342}});}catch(_0x4b5cf2){console[_0x50998c(0x17d)](_0x50998c(0x514),_0x4b5cf2),showMessage(_0x50998c(0xa38));}const _0x57bf30=_0x50998c(0x278)+_0x4f08a2+_0x50998c(0x299)+_0x4f08a2+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x214366[_0x50998c(0x633)]=_0x50998c(0xb27)+_0x4f08a2+'\x22...';const _0x57397f='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x28d5f3+_0x50998c(0x104)+_0x4f08a2+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x57bf30+_0x50998c(0x9e5),_0x2f3294='สำหรับหัวข้อ\x20\x27'+_0x4f08a2+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x28d5f3+_0x50998c(0x6f8)+_0x57bf30+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x2da803=_0x50998c(0x843),_0x4245c6=_0x50998c(0xbac)+_0x28d5f3+'\x27\x20ในหัวข้อ\x20\x27'+_0x4f08a2+_0x50998c(0xe06)+_0x57bf30+_0x50998c(0x741)+_0x2da803+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x249ab5=_0x50998c(0x55f)+_0x4f08a2+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x28d5f3+_0x50998c(0x543)+_0x57bf30+_0x50998c(0x44c),_0x1fee97={'type':_0x50998c(0x5b3),'items':{'type':'OBJECT','properties':{'question':{'type':_0x50998c(0x60a)},'options':{'type':_0x50998c(0x5b3),'items':{'type':'STRING'}},'answer':{'type':'NUMBER'}},'required':[_0x50998c(0x339),'options','answer']}},[_0x562600,_0x452904,_0x5809ec,_0x126177]=await Promise[_0x50998c(0xd05)]([handleApiCall([{'text':_0x57397f},..._0x2cdd93],_0x50998c(0x9d9),null,null,![]),handleApiCall([{'text':_0x2f3294},..._0x2cdd93],'...',null,null,![]),handleApiCall([{'text':_0x4245c6},..._0x2cdd93],'...',_0x1fee97,null,![]),handleApiCall([{'text':_0x249ab5},..._0x2cdd93],_0x50998c(0x9d9),null,null,![])]),_0x3fd68e=JSON['stringify'](_0x5809ec||[]),_0x34ea3c=document[_0x50998c(0xb18)](_0x50998c(0xb74)),_0x131ba7=document['getElementById'](_0x50998c(0xb12));_0x34ea3c[_0x50998c(0x3cc)]='บทเรียนเรื่อง:\x20'+_0x4f08a2[_0x50998c(0x572)](/•\s/g,'')+_0x50998c(0x291)+_0x28d5f3+')',[_0x50998c(0xa17),_0x50998c(0x2d8),_0x50998c(0x1b6)]['forEach'](_0x4903fd=>{const _0x552aaa=_0x50998c;document[_0x552aaa(0xb18)](_0x4903fd)[_0x552aaa(0x5f4)]='';}),document[_0x50998c(0xb18)](_0x50998c(0xa17))['innerHTML']=_0x562600?marked[_0x50998c(0x510)](_0x562600):_0x50998c(0x8cb),document[_0x50998c(0xb18)]('memoryContent')[_0x50998c(0x5f4)]=_0x452904?marked[_0x50998c(0x510)](_0x452904):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById']('summaryContent')[_0x50998c(0x5f4)]=_0x126177?marked[_0x50998c(0x510)](_0x126177):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON['parse'](_0x3fd68e);const _0xdfdd46=document[_0x50998c(0xb18)](_0x50998c(0x5f1));_0xdfdd46[_0x50998c(0x5f4)]=(currentApplicationData||[])[_0x50998c(0xad5)]((_0x3d75a5,_0x2c656d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2c656d+0x1)+'.\x20'+marked['parseInline'](_0x3d75a5[_0x50998c(0x339)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x2c656d+_0x50998c(0x480)+(_0x3d75a5[_0x50998c(0x6ca)]||[])['map']((_0x2bfa52,_0x1f978c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x2c656d+',\x20'+_0x1f978c+_0x50998c(0x9bc)+String[_0x50998c(0x44d)](0x61+_0x1f978c)+'.\x20'+marked[_0x50998c(0x515)](_0x2bfa52||'')+_0x50998c(0x16c))[_0x50998c(0x222)]('')+_0x50998c(0x1c0))[_0x50998c(0x222)]('')||_0x50998c(0xaa1),window[_0x50998c(0x563)]&&MathJax[_0x50998c(0xd16)]([_0x131ba7]),_0x33ec49['classList'][_0x50998c(0x24b)](_0x50998c(0x5a9)),_0x131ba7['classList'][_0x50998c(0xa1f)](_0x50998c(0x5a9));}catch(_0x1130ef){console[_0x50998c(0x17d)](_0x1130ef);throw _0x1130ef;}}function checkAnswer(_0x1eeeeb,_0x354801){const _0x38cd2d=_0x448927,_0x1360e6=currentApplicationData[_0x1eeeeb],_0x4d46b1=document[_0x38cd2d(0xb18)]('q'+_0x1eeeeb+_0x38cd2d(0x8f3)),_0x2edbff=_0x4d46b1[_0x38cd2d(0xa82)](_0x38cd2d(0x799));for(let _0x16dd1a of _0x2edbff){_0x16dd1a['disabled']=!![];}_0x354801===_0x1360e6[_0x38cd2d(0x71e)]?_0x2edbff[_0x354801][_0x38cd2d(0x82f)][_0x38cd2d(0x24b)](_0x38cd2d(0xd30)):(_0x2edbff[_0x354801][_0x38cd2d(0x82f)][_0x38cd2d(0x24b)](_0x38cd2d(0x6d6)),_0x2edbff[_0x1360e6[_0x38cd2d(0x71e)]][_0x38cd2d(0x82f)][_0x38cd2d(0x24b)](_0x38cd2d(0xd30)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0x448927(0x22c)]=handleGeneratePracticeTest,window[_0x448927(0x73a)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x35cedf=_0x448927;if(document[_0x35cedf(0xb18)](_0x35cedf(0xb7d)))return;const _0x49c91e=_0x35cedf(0xc54);document[_0x35cedf(0xca1)][_0x35cedf(0x4c3)]('beforeend',_0x49c91e),setupCropperButtons();}function setupCropperButtons(){const _0x493508=_0x448927;document[_0x493508(0xb18)](_0x493508(0xd79))[_0x493508(0xcc)](_0x493508(0x8b2),()=>{const _0x1c8ffa=_0x493508;document[_0x1c8ffa(0xb18)](_0x1c8ffa(0xb7d))[_0x1c8ffa(0x82f)]['add'](_0x1c8ffa(0x5a9)),cropperInstance&&(cropperInstance[_0x1c8ffa(0x8a5)](),cropperInstance=null),document['getElementById'](_0x1c8ffa(0x3ed))[_0x1c8ffa(0x52d)]='';}),document['getElementById']('confirm-crop-btn')[_0x493508(0xcc)](_0x493508(0x8b2),()=>{const _0xfb270=_0x493508;if(!cropperInstance)return;const _0x2ff0dd=document[_0xfb270(0xb18)](_0xfb270(0x1c3)),_0x43e1ad=_0x2ff0dd[_0xfb270(0x5f4)];_0x2ff0dd['innerHTML']=_0xfb270(0x471),_0x2ff0dd[_0xfb270(0x64b)]=!![],cropperInstance[_0xfb270(0xbe)]()[_0xfb270(0x8c7)](async _0x119f84=>{const _0x445fcf=_0xfb270;document[_0x445fcf(0xb18)](_0x445fcf(0xb7d))[_0x445fcf(0x82f)]['add'](_0x445fcf(0x5a9));const _0x11fe10=new File([_0x119f84],_0x445fcf(0x387),{'type':_0x445fcf(0xe45)});await handleScanImageForText(_0x11fe10),_0x2ff0dd[_0x445fcf(0x5f4)]=_0x43e1ad,_0x2ff0dd[_0x445fcf(0x64b)]=![],cropperInstance[_0x445fcf(0x8a5)](),cropperInstance=null;},_0xfb270(0xe45));});}function startCropper(_0x122a3b){const _0x33e4ab=_0x448927;ensureCropperModalExists();const _0x4bc701=document['getElementById'](_0x33e4ab(0xb7d)),_0x2576af=document[_0x33e4ab(0xb18)](_0x33e4ab(0xa4b)),_0x1c784e=new FileReader();_0x1c784e[_0x33e4ab(0xab4)]=_0x19f3ef=>{const _0x3781d3=_0x33e4ab;_0x2576af[_0x3781d3(0x38f)]=_0x19f3ef[_0x3781d3(0x364)]['result'],_0x4bc701[_0x3781d3(0x82f)][_0x3781d3(0xa1f)](_0x3781d3(0x5a9));if(cropperInstance)cropperInstance[_0x3781d3(0x8a5)]();cropperInstance=new Cropper(_0x2576af,{'viewMode':0x1,'dragMode':_0x3781d3(0x389),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x1c784e['readAsDataURL'](_0x122a3b);}document[_0x448927(0xcc)](_0x448927(0x696),()=>{const _0xa2d399=_0x448927,_0x3c0808=document[_0xa2d399(0xb18)](_0xa2d399(0x3ed)),_0x142cd5=document[_0xa2d399(0xb18)]('camera-crop-btn');_0x142cd5&&_0x3c0808&&(_0x142cd5[_0xa2d399(0xcc)](_0xa2d399(0x8b2),()=>{_0x3c0808['value']='',_0x3c0808['click']();}),_0x3c0808[_0xa2d399(0xcc)]('change',_0x3a1eb3=>{const _0x4cd141=_0xa2d399;_0x3a1eb3['target'][_0x4cd141(0x370)]&&_0x3a1eb3['target'][_0x4cd141(0x370)][_0x4cd141(0xab1)]>0x0&&startCropper(_0x3a1eb3[_0x4cd141(0x364)][_0x4cd141(0x370)][0x0]);}));});async function handleScanImageForText(_0x4e21d6){const _0x27220c=_0x448927,_0x5de4a4=document[_0x27220c(0xb18)](_0x27220c(0x15a)),_0x4bb073=document[_0x27220c(0xb18)](_0x27220c(0xa91));if(!_0x4e21d6)return;_0x4bb073[_0x27220c(0x64b)]=!![],_0x4bb073['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...',_0x5de4a4['placeholder']=_0x27220c(0xb0a);try{const _0x504710=await new Promise((_0xd34006,_0x5e5bfb)=>{const _0x19886c=_0x27220c,_0x24a68b=new FileReader();_0x24a68b[_0x19886c(0xcd3)](_0x4e21d6),_0x24a68b['onload']=()=>_0xd34006(_0x24a68b['result'][_0x19886c(0xc74)](',')[0x1]),_0x24a68b['onerror']=_0x5e5bfb;}),_0x11de2a=_0x27220c(0x4b0),_0x157d07=[{'text':_0x11de2a},{'inlineData':{'mimeType':_0x4e21d6['type'],'data':_0x504710}}],_0x1d6771=await handleApiCall(_0x157d07,'AI\x20กำลังสแกนข้อความ...',null,null,![]);if(_0x1d6771){const _0x26e988=_0x5de4a4[_0x27220c(0x52d)][_0x27220c(0xb5b)]();_0x5de4a4[_0x27220c(0x52d)]=_0x26e988?_0x26e988+'\x0a\x0a'+_0x1d6771:_0x1d6771,showMessage(_0x27220c(0xc53));}else throw new Error(_0x27220c(0x8a1));}catch(_0x16fc3f){console[_0x27220c(0x17d)](_0x27220c(0x6da),_0x16fc3f),showMessage(_0x27220c(0x627)+_0x16fc3f[_0x27220c(0x550)]);}finally{_0x4bb073['disabled']=![],_0x4bb073[_0x27220c(0x5f4)]=_0x27220c(0x9e7),document[_0x27220c(0xb18)](_0x27220c(0xc7f))[_0x27220c(0x52d)]='';}}async function initialize(){const _0x4c664b=_0x448927;try{const _0x16085e=initializeApp(firebaseConfig);db=getFirestore(_0x16085e),auth=getAuth(_0x16085e),setupAuthListener(),setupEventListeners(),showView(_0x4c664b(0x4a1)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x511a86){console[_0x4c664b(0x17d)](_0x4c664b(0x822),_0x511a86),showMessage(_0x4c664b(0x51a));}}async function handleVerifyAnswersInEditor(){const _0x5d57f2=_0x448927,_0x3871f0=document[_0x5d57f2(0xb18)]('quiz-editor-modal');if(!_0x3871f0)return;const _0x1c3c91=document[_0x5d57f2(0xb18)](_0x5d57f2(0x1af));_0x1c3c91[_0x5d57f2(0x64b)]=!![],_0x1c3c91[_0x5d57f2(0x5f4)]=_0x5d57f2(0x8cd);try{const _0x4dddf6=_0x3871f0[_0x5d57f2(0xccb)]('.question-editor-item'),_0x4c85be=Array[_0x5d57f2(0x2ce)](_0x4dddf6)[_0x5d57f2(0xad5)]((_0x10ab50,_0x384aa2)=>{const _0x539cd2=_0x5d57f2,_0x100c5f=_0x10ab50[_0x539cd2(0xcd1)][_0x539cd2(0x83b)],_0xd2d5c3=_0x10ab50[_0x539cd2(0x877)](_0x539cd2(0xe37))[_0x539cd2(0x52d)];let _0x540e5b=null,_0x4f2267='';switch(_0x100c5f){case _0x539cd2(0x232):const _0x473345=_0x10ab50[_0x539cd2(0xccb)](_0x539cd2(0xcab));_0x540e5b=Array[_0x539cd2(0x2ce)](_0x473345)[_0x539cd2(0xad5)](_0x5e2c58=>_0x5e2c58['value']);const _0x36723f=_0x10ab50[_0x539cd2(0x877)](_0x539cd2(0xfe));_0x36723f&&(_0x4f2267=_0x540e5b[parseInt(_0x36723f['value'])]||'');break;case _0x539cd2(0x706):case _0x539cd2(0x2ad):_0x540e5b=[],_0x4f2267=_0x10ab50[_0x539cd2(0x877)](_0x539cd2(0x68d))[_0x539cd2(0x52d)];break;case _0x539cd2(0xab0):_0x540e5b=[_0x539cd2(0xd3d),_0x539cd2(0x746)];const _0x19c9c8=_0x10ab50[_0x539cd2(0x877)](_0x539cd2(0xfe));_0x4f2267=_0x19c9c8?_0x19c9c8[_0x539cd2(0x52d)]:'';break;case _0x539cd2(0x632):_0x540e5b=[],_0x4f2267=_0x10ab50['querySelector'](_0x539cd2(0xd9d))['value'];break;}return{'questionIndex':_0x384aa2,'questionType':_0x100c5f,'question':_0xd2d5c3,'options':_0x540e5b,'proposedAnswer':_0x4f2267};}),_0x399219=_0x5d57f2(0xcf2)+JSON['stringify'](_0x4c85be)+_0x5d57f2(0x49a),_0x343552={'type':_0x5d57f2(0x5b3),'items':{'type':_0x5d57f2(0x16b),'properties':{'questionIndex':{'type':_0x5d57f2(0xd7a)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x5d57f2(0xb2c)},'suggestedAnswer':{'type':_0x5d57f2(0x60a)},'newOptionsPayload':{'type':_0x5d57f2(0x16b),'properties':{'newOptions':{'type':_0x5d57f2(0x5b3),'items':{'type':_0x5d57f2(0x60a)}},'newCorrectIndex':{'type':'NUMBER'}},'required':[_0x5d57f2(0xe7),_0x5d57f2(0xa94)]}},'required':['questionIndex','isCorrect','justification']}},_0x402475=await callAnalysisApi(_0x399219,{'type':_0x5d57f2(0x16b),'properties':{'result':_0x343552},'required':['result']});if(_0x402475&&_0x402475[_0x5d57f2(0x31e)])displayVerificationResultsInEditor(_0x402475[_0x5d57f2(0x31e)]);else throw new Error(_0x5d57f2(0xc4b));}catch(_0x3d69d4){console[_0x5d57f2(0x17d)](_0x5d57f2(0xcaa),_0x3d69d4),showMessage(_0x5d57f2(0x9a0)+_0x3d69d4[_0x5d57f2(0x550)]);}finally{_0x1c3c91[_0x5d57f2(0x64b)]=![],_0x1c3c91[_0x5d57f2(0x5f4)]=_0x5d57f2(0x354);}}function displayVerificationResultsInEditor(_0x27380c){const _0x5ece8c=_0x448927;_0x27380c[_0x5ece8c(0x157)](_0x330997=>{const _0x6ced85=_0x5ece8c,_0x16188a=document[_0x6ced85(0x877)](_0x6ced85(0x7c8)+_0x330997['questionIndex']+'\x22]');if(!_0x16188a)return;const _0x1589f9=_0x16188a[_0x6ced85(0x877)](_0x6ced85(0x5e9));if(_0x1589f9)_0x1589f9[_0x6ced85(0xa1f)]();let _0x1a5f96='';if(_0x330997[_0x6ced85(0x3bc)]&&_0x330997[_0x6ced85(0x3bc)]['newOptions']){const _0x14355b=_0x330997[_0x6ced85(0x3bc)][_0x6ced85(0xe7)],_0x14fe63=_0x330997[_0x6ced85(0x3bc)][_0x6ced85(0xa94)],_0x363484=_0x16188a[_0x6ced85(0xcd1)][_0x6ced85(0x83b)];if(_0x363484===_0x6ced85(0x232)){const _0x2f532a=_0x16188a[_0x6ced85(0xccb)]('input[type=\x22text\x22]');_0x2f532a[_0x6ced85(0x157)]((_0x5a656c,_0x48da15)=>{const _0x466a06=_0x6ced85;_0x14355b[_0x48da15]?_0x5a656c[_0x466a06(0x52d)]=_0x14355b[_0x48da15]:_0x5a656c['value']=_0x466a06(0x7a7);});const _0x119331=_0x16188a['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x14fe63+'\x22]');_0x119331&&(_0x119331[_0x6ced85(0x2f1)]=!![]),_0x1a5f96=_0x6ced85(0xe0),_0x16188a[_0x6ced85(0x82f)]['add']('bg-yellow-200',_0x6ced85(0x864),_0x6ced85(0x742)),setTimeout(()=>{const _0x56df16=_0x6ced85;_0x16188a[_0x56df16(0x82f)][_0x56df16(0xa1f)](_0x56df16(0xd38));},0x9c4);}}else{if(!_0x330997[_0x6ced85(0xc26)]&&_0x330997[_0x6ced85(0x1d7)]){const _0x3fd437=_0x330997[_0x6ced85(0x1d7)]?_0x6ced85(0x22b):'';_0x1a5f96=_0x6ced85(0x5ec)+_0x3fd437+_0x6ced85(0x59d)+_0x330997[_0x6ced85(0xc0e)]+_0x6ced85(0x8bc)+(_0x330997[_0x6ced85(0x1d7)]?_0x6ced85(0x37a)+_0x330997[_0x6ced85(0x1d7)]+_0x6ced85(0xc4e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x236daa=_0x16188a[_0x6ced85(0xcd1)][_0x6ced85(0x83b)],_0x3ddb08=_0x180684=>{const _0x4ca6bc=_0x6ced85;if(!_0x180684)return;_0x180684[_0x4ca6bc(0x82f)]['add'](_0x4ca6bc(0x63b),'transition-all','duration-300'),setTimeout(()=>{const _0x112b37=_0x4ca6bc;_0x180684[_0x112b37(0x82f)][_0x112b37(0xa1f)](_0x112b37(0x63b));},0x9c4);};if(_0x236daa===_0x6ced85(0x232)){const _0x1ab057=Array[_0x6ced85(0x2ce)](_0x16188a[_0x6ced85(0xccb)](_0x6ced85(0xcab))),_0x30c9f7=_0x1ab057['findIndex'](_0x2b7c3a=>_0x2b7c3a[_0x6ced85(0x52d)]['trim']()['toLowerCase']()===_0x330997[_0x6ced85(0x1d7)]['trim']()['toLowerCase']());if(_0x30c9f7!==-0x1){const _0x245edc=_0x16188a[_0x6ced85(0x877)](_0x6ced85(0x185)+_0x30c9f7+'\x22]');_0x245edc&&(_0x245edc[_0x6ced85(0x2f1)]=!![],_0x3ddb08(_0x245edc[_0x6ced85(0xb09)](_0x6ced85(0xbbd))));}}else{if(_0x236daa===_0x6ced85(0x706)||_0x236daa===_0x6ced85(0x632)){const _0x9448e4=_0x16188a[_0x6ced85(0x877)](_0x6ced85(0xde2));_0x9448e4&&(_0x9448e4['value']=_0x330997['suggestedAnswer'],_0x3ddb08(_0x9448e4));}else{if(_0x236daa===_0x6ced85(0xab0)){const _0x2b926c=_0x330997[_0x6ced85(0x1d7)][_0x6ced85(0xb5b)]()[_0x6ced85(0x123)](),_0x46ec7e=_0x16188a[_0x6ced85(0x877)](_0x6ced85(0x185)+_0x2b926c+'\x22]');_0x46ec7e&&(_0x46ec7e[_0x6ced85(0x2f1)]=!![],_0x3ddb08(_0x46ec7e[_0x6ced85(0xb09)](_0x6ced85(0xbbd))));}}}}else _0x330997[_0x6ced85(0xc26)]&&(_0x1a5f96=_0x6ced85(0xd1));}_0x16188a[_0x6ced85(0x4c3)](_0x6ced85(0x8a6),_0x1a5f96);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x2a6c89=_0x448927;if(!currentQuizData||!currentQuizData[_0x2a6c89(0x677)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x209b83=document[_0x2a6c89(0xb18)](_0x2a6c89(0xe1f));_0x209b83[_0x2a6c89(0x64b)]=!![],_0x209b83['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x5af641=currentQuizData['questions']['map']((_0x482c0d,_0x57b602)=>{const _0x4ce203=_0x2a6c89;let _0x4f2b24='';const _0x35ee59=_0x482c0d[_0x4ce203(0x3e6)]||currentQuizData[_0x4ce203(0xafc)];switch(_0x35ee59){case'multiple_choice':_0x4f2b24=_0x482c0d[_0x4ce203(0x6ca)][_0x482c0d[_0x4ce203(0x662)]];break;case _0x4ce203(0x706):_0x4f2b24=_0x482c0d[_0x4ce203(0xcac)];break;case'true_false':_0x4f2b24=_0x482c0d[_0x4ce203(0xaf4)][_0x4ce203(0x377)]();break;case _0x4ce203(0x632):_0x4f2b24=_0x482c0d[_0x4ce203(0x993)];break;}return{'question':_0x482c0d[_0x4ce203(0xc35)]||_0x482c0d[_0x4ce203(0xb3b)],'options':_0x482c0d[_0x4ce203(0x6ca)]||null,'proposedAnswer':_0x4f2b24};}),_0x1d3ac0=_0x2a6c89(0xd5b)+JSON[_0x2a6c89(0x7cd)](_0x5af641)+_0x2a6c89(0xc72),_0x507b13={'type':_0x2a6c89(0x5b3),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x2a6c89(0xd7a)},'isCorrect':{'type':_0x2a6c89(0xb2c)},'justification':{'type':_0x2a6c89(0x60a)},'suggestedAnswer':{'type':_0x2a6c89(0x60a)}},'required':[_0x2a6c89(0x74b),_0x2a6c89(0xc26),'justification']}},_0xcc05ca=await callAnalysisApi(_0x1d3ac0,{'type':_0x2a6c89(0x16b),'properties':{'result':_0x507b13},'required':[_0x2a6c89(0x31e)]});displayVerificationResults(_0xcc05ca[_0x2a6c89(0x31e)]);}catch(_0x5001bf){console[_0x2a6c89(0x17d)](_0x2a6c89(0x5a4),_0x5001bf),showMessage(_0x2a6c89(0xcd9));}finally{_0x209b83[_0x2a6c89(0x64b)]=![],_0x209b83[_0x2a6c89(0x5f4)]=_0x2a6c89(0x282);}}function displayVerificationResults(_0x363ee8){const _0xe484ff=_0x448927;_0x363ee8['forEach'](_0x2f8de5=>{const _0x3813a1=_0x2e12,_0x8d7b0b=document[_0x3813a1(0x877)](_0x3813a1(0x957)+_0x2f8de5[_0x3813a1(0x74b)]+'\x22]');if(_0x8d7b0b){const _0x592ed4=_0x8d7b0b['querySelector'](_0x3813a1(0xd57));if(_0x592ed4)_0x592ed4[_0x3813a1(0xa1f)]();let _0x2787a1='';_0x2f8de5['isCorrect']?_0x2787a1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2787a1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x2f8de5[_0x3813a1(0xc0e)]+_0x3813a1(0xaca)+(_0x2f8de5[_0x3813a1(0x1d7)]?_0x3813a1(0x37a)+_0x2f8de5[_0x3813a1(0x1d7)]+_0x3813a1(0xc4e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x8d7b0b['insertAdjacentHTML'](_0x3813a1(0x8a6),_0x2787a1);}}),showMessage(_0xe484ff(0x153));}function compareNumericalAnswers(_0x31e7a0,_0x13dbd6){const _0x996618=_0x448927,_0x3a0aa2=String(_0x31e7a0)[_0x996618(0x572)](',','.')[_0x996618(0x572)](/[^\d.-]/g,'')[_0x996618(0xb5b)](),_0x2619ba=String(_0x13dbd6)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x996618(0xb5b)]();if(_0x3a0aa2===''||_0x2619ba==='')return![];const _0x20abf5=parseFloat(_0x3a0aa2),_0x39612a=parseFloat(_0x2619ba);if(isNaN(_0x20abf5)||isNaN(_0x39612a))return![];return Math[_0x996618(0x554)](_0x20abf5-_0x39612a)<0.001;}function isPotentiallyNumeric(_0x468871){const _0x2d2ec8=_0x448927;if(typeof _0x468871!==_0x2d2ec8(0xdc5)&&typeof _0x468871!==_0x2d2ec8(0x8e6))return![];const _0x28ac54=String(_0x468871)[_0x2d2ec8(0x572)](',','.')[_0x2d2ec8(0xb5b)]();return _0x28ac54!==''&&!isNaN(parseFloat(_0x28ac54))&&isFinite(_0x28ac54);}async function gradeShortAnswer(_0x56c099,_0x126b18){const _0x3d219a=_0x448927,_0x1b2617=_0x126b18[_0x3d219a(0xcac)],_0x3c8e0d=String(_0x56c099)[_0x3d219a(0x572)](/\$/g,'')[_0x3d219a(0xb5b)](),_0x22da5b=String(_0x1b2617)[_0x3d219a(0x572)](/\$/g,'')[_0x3d219a(0xb5b)]();if(_0x3c8e0d[_0x3d219a(0x123)]()===_0x22da5b['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x3c8e0d)&&isPotentiallyNumeric(_0x22da5b)){if(compareNumericalAnswers(_0x3c8e0d,_0x22da5b))return!![];}return console[_0x3d219a(0xcad)](_0x3d219a(0x1be)),![];}async function revealAnswerForAdmin(_0x5024af,_0x25e553){const _0x112126=_0x448927,_0x3368cf=doc(db,_0x112126(0xa76)+appId+_0x112126(0x56a),currentLiveGameId);await updateDoc(_0x3368cf,{'questionStatus':_0x112126(0xb04)});}function showTop5LeaderboardView(_0x19b3b5){const _0x1db037=_0x448927,_0x35fcc8=Object['values'](_0x19b3b5[_0x1db037(0xdd9)]||{})[_0x1db037(0x955)](_0x3a1b73=>_0x3a1b73[_0x1db037(0x33a)]===_0x1db037(0x4f9));_0x35fcc8[_0x1db037(0x872)]((_0x525472,_0x39b22b)=>_0x39b22b[_0x1db037(0x87c)]-_0x525472[_0x1db037(0x87c)]);const _0x2b8d64=_0x35fcc8[_0x1db037(0xa30)](0x0,0x5),_0x4a5d7e=_0x1db037(0x1ed)+_0x2b8d64['map']((_0x4137fc,_0x56e37e)=>_0x1db037(0x3e8)+(_0x56e37e+0x1)+'.\x20'+(_0x4137fc[_0x1db037(0x2d2)]||Object[_0x1db037(0x7bf)](_0x19b3b5[_0x1db037(0xdd9)])[_0x1db037(0x8c0)](_0x3e59df=>_0x19b3b5[_0x1db037(0xdd9)][_0x3e59df]===_0x4137fc))+_0x1db037(0x7b3)+_0x4137fc[_0x1db037(0x87c)]+_0x1db037(0x30b))[_0x1db037(0x222)]('')+_0x1db037(0x713)+(_0x19b3b5[_0x1db037(0xd34)]+0x1===currentQuizData['questions'][_0x1db037(0xab1)]?_0x1db037(0x942):'ข้อต่อไป')+_0x1db037(0xb5e);liveGameView['innerHTML']=_0x4a5d7e,document[_0x1db037(0xb18)](_0x1db037(0x8ab))[_0x1db037(0xcc)](_0x1db037(0x8b2),async()=>{const _0x56cd60=_0x1db037,_0x4bd797=doc(db,'artifacts/'+appId+_0x56cd60(0x56a),currentLiveGameId),_0xb8a8a1=_0x19b3b5[_0x56cd60(0xd34)]+0x1;if(_0xb8a8a1<currentQuizData[_0x56cd60(0x677)][_0x56cd60(0xab1)]){const _0x4078d5={'currentQuestionIndex':_0xb8a8a1,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x56cd60(0x620)};Object[_0x56cd60(0x7bf)](_0x19b3b5[_0x56cd60(0xdd9)])[_0x56cd60(0x157)](_0x107f0c=>{const _0x22366c=_0x56cd60;_0x4078d5[_0x22366c(0xd76)+_0x107f0c+_0x22366c(0xf4)]=![];}),await updateDoc(_0x4bd797,_0x4078d5);}else await updateDoc(_0x4bd797,{'status':_0x56cd60(0x2d1)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x55932d=>{const _0x32dc06=_0x2e12;if(_0x55932d){userId=_0x55932d['uid'],userIdDisplay[_0x32dc06(0x633)]=userId;const _0x3ea383=await loadUserPreferences();_0x3ea383[_0x32dc06(0x580)]&&(document[_0x32dc06(0xb18)](_0x32dc06(0xc88))['value']=_0x3ea383[_0x32dc06(0x580)]);globalDashboardSettings[_0x32dc06(0x2f9)]=_0x3ea383[_0x32dc06(0x2f9)]||_0x32dc06(0x700);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x23afb3,_0x5e3b59){const _0x36a57b=_0x448927;if(!userId)return;try{const _0x563dff=doc(db,_0x36a57b(0xa76)+appId+_0x36a57b(0x562)+userId+_0x36a57b(0x342)),_0x25b6d5={};_0x25b6d5[_0x23afb3]=_0x5e3b59,await setDoc(_0x563dff,_0x25b6d5,{'merge':!![]});}catch(_0x4e455c){console[_0x36a57b(0x17d)]('Error\x20saving\x20user\x20preference:',_0x4e455c);}}async function loadUserPreferences(){const _0x5f5016=_0x448927;if(!userId)return{};try{const _0x28dde2=doc(db,'artifacts/'+appId+_0x5f5016(0x562)+userId+_0x5f5016(0x342)),_0x2c3de3=await getDoc(_0x28dde2);if(_0x2c3de3[_0x5f5016(0x14d)]())return _0x2c3de3[_0x5f5016(0xa8e)]();return{};}catch(_0x40ab1c){return console[_0x5f5016(0x17d)](_0x5f5016(0xadc),_0x40ab1c),{};}}function parseIndentedBlueprint(_0x40f111){const _0x4be757=_0x448927,_0xc9d396=_0x40f111[_0x4be757(0xc74)]('\x0a')[_0x4be757(0x955)](_0x5e48db=>_0x5e48db[_0x4be757(0xb5b)]()!==''),_0xce2d7b=[];let _0x347ef8=null,_0x40a514=null;return _0xc9d396[_0x4be757(0x157)](_0x41a9c5=>{const _0x218728=_0x4be757,_0x515b1b=_0x41a9c5[_0x218728(0xcdc)](/^\s*/)[0x0][_0x218728(0xab1)],_0x33920c=_0x41a9c5['trim']();if(_0x515b1b===0x0)_0x347ef8={'sara':_0x33920c,'mainTopics':[]},_0xce2d7b[_0x218728(0x626)](_0x347ef8),_0x40a514=null;else{if(_0x515b1b>0x0&&_0x515b1b<0x8&&_0x347ef8)_0x40a514={'topicName':_0x33920c,'subTopics':[]},_0x347ef8[_0x218728(0x447)][_0x218728(0x626)](_0x40a514);else _0x515b1b>=0x8&&_0x40a514&&_0x40a514[_0x218728(0xec)][_0x218728(0x626)](_0x33920c);}}),{'curriculum':_0xce2d7b};}async function handleManualBlueprintSave(){const _0x489479=_0x448927,_0x14f67e=document[_0x489479(0xb18)](_0x489479(0x8db))['value'][_0x489479(0xb5b)](),_0x41a9c6=document['getElementById'](_0x489479(0x313))[_0x489479(0x52d)][_0x489479(0xb5b)](),_0x28af6f=document[_0x489479(0xb18)](_0x489479(0x152))[_0x489479(0x52d)];if(!_0x14f67e||!_0x41a9c6||!_0x28af6f){showMessage(_0x489479(0x5f9));return;}const _0x38d3d4=parseIndentedBlueprint(_0x28af6f);if(!_0x38d3d4['curriculum']||_0x38d3d4[_0x489479(0x1d6)][_0x489479(0xab1)]===0x0){showMessage(_0x489479(0x771));return;}const _0x28c9a4={};let _0x1cee80=0x0;_0x38d3d4[_0x489479(0x1d6)]['forEach'](_0x348863=>{const _0x338408=_0x489479;_0x348863[_0x338408(0x447)][_0x338408(0x157)](_0xba8909=>{const _0x1ebda0=_0x338408;_0xba8909[_0x1ebda0(0xec)]['forEach'](_0x10fa02=>{const _0x2087b5=_0x1ebda0,_0x2f734f=_0x2087b5(0xcca)+Date[_0x2087b5(0xd02)]()+Math[_0x2087b5(0x63c)]()[_0x2087b5(0x377)](0x24)['substr'](0x2,0x9);_0x28c9a4[_0x2f734f]={'sara':_0x348863[_0x2087b5(0x4e1)],'mainTopic':_0xba8909[_0x2087b5(0xabe)],'subTopic':_0x10fa02,'status':'not_generated','lessonContent':null,'order':_0x1cee80++};});});});try{const _0x3efee1=collection(db,'artifacts/'+appId+_0x489479(0x5e3));await addDoc(_0x3efee1,{'projectName':_0x14f67e,'gradeLevel':_0x41a9c6,'topics':_0x28c9a4,'createdAt':serverTimestamp()}),showMessage(_0x489479(0xd6d)+_0x14f67e+'\x22\x20สำเร็จ!'),document['getElementById'](_0x489479(0x407))[_0x489479(0x82f)][_0x489479(0x24b)]('hidden');}catch(_0x20aa3c){console['error'](_0x489479(0xbf5),_0x20aa3c),showMessage(_0x489479(0xa83));}}function handleClearAllLinksForTopic(_0x299855){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x506fdd=_0x2e12;try{const _0x3d3faa=doc(db,_0x506fdd(0xa76)+appId+_0x506fdd(0x5e3),currentBlueprintProjectId);await updateDoc(_0x3d3faa,{['topics.'+_0x299855+_0x506fdd(0x38e)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x299855),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x10ca96){console[_0x506fdd(0x17d)](_0x506fdd(0xa36),_0x10ca96),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x3fa491,_0x690fc2='live-race',_0x4ae1a4=null){const _0x5d615e=_0x448927,_0x572a66=_0x4ae1a4?.[_0x5d615e(0xbb8)]===!![],_0x98fd00=Object[_0x5d615e(0x9c3)](_0x3fa491)['map'](([_0x43ef93,_0x56556a])=>({'name':_0x43ef93,'realScore':_0x56556a['realScore']||_0x56556a[_0x5d615e(0x87c)]||0x0,'totalPoints':_0x56556a[_0x5d615e(0xc38)]||0x0,'badges':_0x56556a['badges']||[],'hasPerfectScoreBonus':_0x56556a[_0x5d615e(0x69b)]||![]})),_0x382f85=Math['max'](..._0x98fd00[_0x5d615e(0xad5)](_0x33a0e7=>_0x33a0e7[_0x5d615e(0xc38)]),-Infinity),_0x50ecbd=Math[_0x5d615e(0x90d)](..._0x98fd00[_0x5d615e(0xad5)](_0x11535c=>_0x11535c['realScore']),-Infinity);_0x98fd00[_0x5d615e(0x872)]((_0x2fa40d,_0x3270f5)=>{const _0x3554cb=_0x5d615e;if(_0x572a66){const _0x25b1a3=_0x3270f5[_0x3554cb(0xc38)]-_0x2fa40d[_0x3554cb(0xc38)];if(_0x25b1a3!==0x0)return _0x25b1a3;const _0x3855dc=_0x3270f5[_0x3554cb(0x745)]-_0x2fa40d[_0x3554cb(0x745)];if(_0x3855dc!==0x0)return _0x3855dc;return _0x2fa40d[_0x3554cb(0x2d2)][_0x3554cb(0x649)](_0x3270f5[_0x3554cb(0x2d2)],'th');}else{const _0x3fdf91=_0x3270f5[_0x3554cb(0xc38)]-_0x2fa40d[_0x3554cb(0xc38)];if(_0x3fdf91!==0x0)return _0x3fdf91;return _0x3270f5[_0x3554cb(0x745)]-_0x2fa40d[_0x3554cb(0x745)];}});const _0x92c202=_0x342896=>{const _0x411565=_0x5d615e;if(!_0x342896||_0x342896[_0x411565(0xab1)]===0x0)return'';const _0x2433e0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x411565(0x51e)+_0x342896[_0x411565(0xad5)](_0x49c32d=>_0x2433e0[_0x49c32d]||'')[_0x411565(0x222)]('')+'</div>';},_0xdd2f76=_0x3d5ea5=>{const _0x2d906d=_0x5d615e;let _0xf6dd98='';if(_0x572a66){if(_0x3d5ea5[_0x2d906d(0xc38)]===_0x382f85&&_0x382f85>0x0)_0xf6dd98+='<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20';if(_0x3d5ea5[_0x2d906d(0x745)]===_0x50ecbd&&_0x50ecbd>0x0)_0xf6dd98+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x3d5ea5[_0x2d906d(0x69b)])_0xf6dd98=_0x2d906d(0x137);}if(_0x572a66){const _0x5083b6=_0x3d5ea5[_0x2d906d(0xc38)]>=0x0?'(+'+_0x3d5ea5['totalPoints'][_0x2d906d(0x2d9)]()+')':'('+_0x3d5ea5[_0x2d906d(0xc38)]['toLocaleString']()+')';return'<p\x20class=\x22text-xl\x22>'+_0x3d5ea5[_0x2d906d(0x745)]+_0x2d906d(0x781)+_0x5083b6+'\x20'+_0xf6dd98+'</p>';}else return _0x2d906d(0xbbb)+_0x3d5ea5[_0x2d906d(0xc38)]['toLocaleString']()+_0x2d906d(0x781)+_0xf6dd98+'</p>';},_0x2ae423=_0x98fd00[_0x5d615e(0xa30)](0x3),_0x50659a=_0x2ae423[_0x5d615e(0xab1)]>0x0?_0x5d615e(0x1f8)+_0x2ae423[_0x5d615e(0xad5)]((_0x28091a,_0x36059d)=>{const _0x337662=_0x5d615e;return _0x337662(0xbed)+(_0x36059d+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x28091a['name']+_0x337662(0xa0b)+_0xdd2f76(_0x28091a)+_0x337662(0x70d);})['join']('')+_0x5d615e(0x926):'',_0x50a123=_0x5d615e(0xa69)+(_0x98fd00[0x1]?_0x5d615e(0x176)+_0x98fd00[0x1][_0x5d615e(0x2d2)]+_0x5d615e(0xc4e)+_0x92c202(_0x98fd00[0x1][_0x5d615e(0x4b3)])+_0xdd2f76(_0x98fd00[0x1])+_0x5d615e(0xa7a):_0x5d615e(0x1bf))+_0x5d615e(0xbd3)+(_0x98fd00[0x0]?_0x5d615e(0xb6)+_0x98fd00[0x0][_0x5d615e(0x2d2)]+_0x5d615e(0xc4e)+_0x92c202(_0x98fd00[0x0][_0x5d615e(0x4b3)])+_0xdd2f76(_0x98fd00[0x0])+_0x5d615e(0xcfe):'<div\x20class=\x22flex-1\x22></div>')+_0x5d615e(0xbd3)+(_0x98fd00[0x2]?_0x5d615e(0x93c)+_0x98fd00[0x2][_0x5d615e(0x2d2)]+_0x5d615e(0xc4e)+_0x92c202(_0x98fd00[0x2][_0x5d615e(0x4b3)])+_0xdd2f76(_0x98fd00[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x5d615e(0x1bf))+_0x5d615e(0x465)+_0x50659a+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x5d615e(0xa1d)?_0x5d615e(0x1c7):_0x5d615e(0x271))+_0x5d615e(0x4b6);liveGameView[_0x5d615e(0x5f4)]=_0x50a123,currentMode===_0x5d615e(0xa1d)?document[_0x5d615e(0xb18)](_0x5d615e(0x7fa))[_0x5d615e(0xcc)](_0x5d615e(0x8b2),async()=>{const _0x40b7f3=_0x5d615e;let _0x4d7792;_0x690fc2===_0x40b7f3(0x17a)?_0x4d7792=doc(db,_0x40b7f3(0xa76)+appId+_0x40b7f3(0xc0a),currentLiveGameId):_0x4d7792=doc(db,_0x40b7f3(0xa76)+appId+_0x40b7f3(0x56a),currentLiveGameId),await deleteDoc(_0x4d7792);}):document[_0x5d615e(0xb18)]('student-back-to-home-btn')?.[_0x5d615e(0xcc)](_0x5d615e(0x8b2),()=>{const _0x3175d3=_0x5d615e;showView(_0x3175d3(0x4a1));});}function renderSyncSummaryView(_0x4135b5,_0x404720,_0x282f3c){const _0x7506c5=_0x448927,_0x561573=_0x4135b5[_0x7506c5(0x64f)]||_0x7506c5(0x529),_0x43f759=(_0x561573==='anonymous'||_0x561573===_0x7506c5(0x6ec))&&_0x4135b5[_0x7506c5(0x7c9)]===![],_0x1af3fe=_0x561573===_0x7506c5(0x207)||_0x561573===_0x7506c5(0x6ec),_0x5112bf=_0x4135b5[_0x7506c5(0xe1c)][_0x7506c5(0x677)],_0x5cf032=_0x404720[_0x7506c5(0x3e6)]||_0x4135b5[_0x7506c5(0xe1c)]['quizType'],_0x414895=_0x5cf032==='short_answer'||_0x5cf032===_0x7506c5(0x2ad);let _0x5f029a='';if(_0x414895){let _0xcc7f0e=0x0,_0x4a83ba=0x0;const _0x394646=[],_0x1fe7ec=[];Object[_0x7506c5(0x9c3)](_0x4135b5['players']||{})[_0x7506c5(0x157)](([_0x1bddad,_0x498646])=>{const _0x3ce0a8=_0x7506c5,_0x525847=(_0x498646[_0x3ce0a8(0xc70)]||[])[_0x3ce0a8(0x8c0)](_0x5be0d4=>_0x5be0d4[_0x3ce0a8(0x74b)]===_0x4135b5[_0x3ce0a8(0xd34)]);if(_0x498646[_0x3ce0a8(0x33a)]!==_0x3ce0a8(0xd89)&&_0x525847){const _0x5a1961=_0x525847[_0x3ce0a8(0xde4)],_0x4e168d=_0x43f759?_0x4135b5[_0x3ce0a8(0x375)][_0x1bddad]||_0x3ce0a8(0x2bb):_0x1bddad;_0x525847[_0x3ce0a8(0xc26)]?(_0xcc7f0e++,_0x394646[_0x3ce0a8(0x626)](_0x4e168d)):(_0x4a83ba++,_0x1fe7ec['push'](_0x3ce0a8(0x1d3)+_0x4e168d+_0x3ce0a8(0x40a)+(_0x5a1961||_0x3ce0a8(0x84c))));}}),_0x5f029a=_0x7506c5(0x4d7)+_0xcc7f0e+_0x7506c5(0x859)+(_0x394646[_0x7506c5(0xab1)]>0x0?_0x394646['join'](',\x20'):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x4a83ba+_0x7506c5(0xac5)+(_0x1fe7ec['length']>0x0?_0x1fe7ec['join']('<br>'):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{let _0x43b212=[];_0x5cf032===_0x7506c5(0xab0)?_0x43b212=[_0x7506c5(0x199),_0x7506c5(0x97c)]:_0x43b212=_0x404720['options']||[];const _0x112d59=new Array(_0x43b212[_0x7506c5(0xab1)])[_0x7506c5(0xb8d)](0x0),_0x13c46a={};_0x43b212[_0x7506c5(0x157)]((_0x29ab5a,_0x2adad7)=>{_0x13c46a[_0x2adad7]=[];}),Object[_0x7506c5(0x9c3)](_0x4135b5['players']||{})['forEach'](([_0x24c2cd,_0x21178f])=>{const _0x9d766=_0x7506c5,_0x48e250=(_0x21178f[_0x9d766(0xc70)]||[])[_0x9d766(0x8c0)](_0x4d7dd7=>_0x4d7dd7[_0x9d766(0x74b)]===_0x4135b5[_0x9d766(0xd34)]);if(_0x21178f[_0x9d766(0x33a)]!==_0x9d766(0xd89)&&_0x48e250&&_0x48e250['answer']!==null){const _0x4e6b11=parseInt(_0x48e250[_0x9d766(0x71e)]);if(!isNaN(_0x4e6b11)&&_0x13c46a[_0x4e6b11]!==undefined){const _0x4f05d7=_0x43f759?_0x4135b5['playerNicknames'][_0x24c2cd]||_0x9d766(0x2bb):_0x24c2cd;_0x13c46a[_0x4e6b11][_0x9d766(0x626)](_0x4f05d7),_0x112d59[_0x4e6b11]++;}}}),_0x5f029a=_0x7506c5(0x3c1)+_0x112d59[_0x7506c5(0xad5)]((_0x21f2c2,_0x59f523)=>{const _0x59ad1f=_0x7506c5,_0x308277=_0x13c46a[_0x59f523][_0x59ad1f(0xab1)]>0x0?_0x13c46a[_0x59f523]['join'](',\x20'):_0x59ad1f(0xaf3),_0x49fc31=_0x59ad1f(0xe1d);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x21f2c2+_0x59ad1f(0xdaa)+_0x49fc31+_0x59ad1f(0xe16)+_0x59f523+_0x59ad1f(0x48f)+_0x43b212[_0x59f523]+_0x59ad1f(0x3bd)+_0x59f523+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>'+_0x308277+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x7506c5(0x222)]('')+_0x7506c5(0x8ca);}let _0x5a23e3='';const _0x5dd613=_0x4135b5[_0x7506c5(0xd34)]>=_0x5112bf[_0x7506c5(0xab1)]-0x1;_0x282f3c?_0x1af3fe?_0x5dd613?_0x5a23e3='<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>':_0x5a23e3=_0x7506c5(0xcc8):_0x5a23e3=_0x7506c5(0x36e):_0x1af3fe?_0x5a23e3='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x5a23e3=_0x7506c5(0x250);const _0x2b6b56=_0x282f3c?_0x7506c5(0xac1)+_0x4135b5[_0x7506c5(0x7c1)]+_0x7506c5(0xc8):'',_0x5d9e2c=_0x7506c5(0x858)+_0x2b6b56+_0x7506c5(0xdf3)+(_0x404720['questionText']||_0x404720[_0x7506c5(0xc35)]||'')+_0x7506c5(0x727)+_0x5f029a+_0x7506c5(0x582)+_0x5a23e3+_0x7506c5(0xa3c);liveGameView[_0x7506c5(0x5f4)]=_0x5d9e2c;if(window[_0x7506c5(0x563)])MathJax['typesetPromise']();if(_0x282f3c){const _0x545493=doc(db,_0x7506c5(0xa76)+appId+_0x7506c5(0xc0a),currentLiveGameId);document[_0x7506c5(0xb18)](_0x7506c5(0xc3a))?.[_0x7506c5(0xcc)](_0x7506c5(0x8b2),async()=>{const _0x4f5a5a=_0x7506c5,_0x19b919=Object[_0x4f5a5a(0x56e)](_0x4135b5[_0x4f5a5a(0xdd9)]||{})[_0x4f5a5a(0xad5)](_0x590cd9=>({'name':_0x590cd9['name'],'score':_0x590cd9[_0x4f5a5a(0x87c)]||0x0,'totalPoints':_0x590cd9['totalPoints']||0x0,'pointsLastRound':_0x590cd9[_0x4f5a5a(0x984)]||0x0,'answers':_0x590cd9[_0x4f5a5a(0xc70)]||[],'correctStreak':_0x590cd9['correctStreak']||0x0}));await updateDoc(_0x545493,{'status':_0x4f5a5a(0xb5f),'publicLeaderboard':_0x19b919});}),document[_0x7506c5(0xb18)]('open-sync-scratchpad-btn')?.[_0x7506c5(0xcc)](_0x7506c5(0x8b2),()=>{const _0xa1f54b=_0x7506c5;openScratchpad(_0x404720,_0x404720[_0xa1f54b(0x6ca)]||[]);}),document[_0x7506c5(0xb18)](_0x7506c5(0x679))?.[_0x7506c5(0xcc)]('click',async()=>{const _0x1845e4=_0x7506c5,_0x3f7a11=_0x4135b5[_0x1845e4(0xd34)]+0x1;await updateDoc(_0x545493,{'status':_0x1845e4(0x339),'currentQuestionIndex':_0x3f7a11,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x7506c5(0xb18)](_0x7506c5(0x1d0))?.[_0x7506c5(0xcc)](_0x7506c5(0x8b2),async()=>{const _0x3eb2ea=_0x7506c5,_0x4e364e=Object[_0x3eb2ea(0x56e)](_0x4135b5[_0x3eb2ea(0xdd9)]||{})['map'](_0x4c87f8=>({'name':_0x4c87f8[_0x3eb2ea(0x2d2)],'score':_0x4c87f8[_0x3eb2ea(0x87c)]||0x0,'totalPoints':_0x4c87f8['totalPoints']||0x0,'pointsLastRound':_0x4c87f8[_0x3eb2ea(0x984)]||0x0,'answers':_0x4c87f8['answers']||[],'correctStreak':_0x4c87f8[_0x3eb2ea(0x14f)]||0x0}));await updateDoc(_0x545493,{'status':_0x3eb2ea(0xb5f),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x4e364e});});}}function renderAnonymousStudentResultsView(_0x135d0d){const _0x16a121=_0x448927,_0x3b4f6d=_0x135d0d[_0x16a121(0xd34)]>=_0x135d0d['shuffledQuiz'][_0x16a121(0x677)][_0x16a121(0xab1)]-0x1;let _0xed6df3='';if(_0x135d0d['isAnonymousRevealed']===!![]){const _0x3841b4=_0x135d0d[_0x16a121(0xdd9)][localTeamPlayers[0x0]],_0x54fda6=_0x3841b4['name'],_0x15073e=_0x3841b4[_0x16a121(0x87c)];_0xed6df3=_0x16a121(0x660)+_0x54fda6+'\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>'+_0x15073e+_0x16a121(0x47a);}else _0xed6df3=_0x16a121(0x973)+(_0x3b4f6d?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x16a121(0x143))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x257f5e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xed6df3+_0x16a121(0x1b5);liveGameView['innerHTML']=_0x257f5e;}async function handleShowStudentRankings(){const _0x5b3bb9=_0x448927,_0x2170a2=document['querySelector'](_0x5b3bb9(0x80d));_0x2170a2&&(_0x2170a2['innerHTML']=_0x5b3bb9(0x15c));const _0x50cdcf=document[_0x5b3bb9(0x877)]('#student-project-leaderboard-content\x20thead');_0x50cdcf&&(_0x50cdcf[_0x5b3bb9(0x5f4)]=_0x5b3bb9(0x29e));const _0x3d0fb6=document['getElementById']('student-rankings-modal');_0x3d0fb6[_0x5b3bb9(0x82f)][_0x5b3bb9(0xa1f)](_0x5b3bb9(0x5a9)),document['getElementById'](_0x5b3bb9(0xa7f))[_0x5b3bb9(0xb4f)]=()=>_0x3d0fb6[_0x5b3bb9(0x82f)][_0x5b3bb9(0x24b)](_0x5b3bb9(0x5a9));const _0x31c11e=document[_0x5b3bb9(0xb18)](_0x5b3bb9(0x275)),_0x35f5ff=document[_0x5b3bb9(0xb18)]('student-project-leaderboard-tab'),_0xb81212=document['getElementById'](_0x5b3bb9(0x6ff)),_0x219ced=document[_0x5b3bb9(0xb18)](_0x5b3bb9(0x894));_0x31c11e['onclick']=()=>{const _0x2efa1a=_0x5b3bb9;_0x31c11e['classList'][_0x2efa1a(0x24b)](_0x2efa1a(0x4f9)),_0x35f5ff[_0x2efa1a(0x82f)]['remove']('active'),_0xb81212[_0x2efa1a(0x82f)][_0x2efa1a(0xa1f)](_0x2efa1a(0x5a9)),_0x219ced[_0x2efa1a(0x82f)]['add'](_0x2efa1a(0x5a9));},_0x35f5ff[_0x5b3bb9(0xb4f)]=()=>{const _0x5b6eb4=_0x5b3bb9;_0x35f5ff[_0x5b6eb4(0x82f)][_0x5b6eb4(0x24b)](_0x5b6eb4(0x4f9)),_0x31c11e['classList'][_0x5b6eb4(0xa1f)](_0x5b6eb4(0x4f9)),_0x219ced['classList']['remove'](_0x5b6eb4(0x5a9)),_0xb81212['classList'][_0x5b6eb4(0x24b)]('hidden');};try{const _0x302f09=collection(db,_0x5b3bb9(0xa76)+appId+_0x5b3bb9(0xb87)+currentQuizData['id']+_0x5b3bb9(0xd90)),_0x565a42=await getDocs(_0x302f09),_0x53290c=_0x565a42[_0x5b3bb9(0x18c)][_0x5b3bb9(0xad5)](_0x15d755=>_0x15d755[_0x5b3bb9(0xa8e)]());renderQuizLeaderboard(_0x53290c,currentQuizData,'student-quiz-leaderboard-table-body');const _0x4a4626=collection(db,'artifacts/'+appId+_0x5b3bb9(0x48d)+currentQuizData[_0x5b3bb9(0x111)]+_0x5b3bb9(0x15e)),_0x3f1258=await getDocs(_0x4a4626),_0x38423f=_0x3f1258['docs'][_0x5b3bb9(0xad5)](_0x4218fa=>_0x4218fa[_0x5b3bb9(0xa8e)]());renderLeaderboard(_0x38423f,'student-project-leaderboard-table-body');}catch(_0x2d3196){console['error'](_0x5b3bb9(0xc03),_0x2d3196),showMessage(_0x5b3bb9(0x2c2));}}async function handleSaveToBank(_0x2afff5){const _0x55d200=_0x448927,_0x583a9c=_0x2afff5[_0x55d200(0x751)],_0x2b1f5f=_0x583a9c[_0x55d200(0xcd1)][_0x55d200(0xfd)],_0x51fb55=currentQuizData[_0x55d200(0x677)][_0x2b1f5f];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x58dbdf={..._0x51fb55,'originalTopic':currentQuizData[_0x55d200(0xda1)],'savedAt':serverTimestamp()},_0x4c699a=collection(db,'artifacts/'+appId+_0x55d200(0x562)+userId+'/questionBank');await addDoc(_0x4c699a,_0x58dbdf),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x583a9c[_0x55d200(0x82f)][_0x55d200(0xa1f)](_0x55d200(0xdd3)),_0x583a9c[_0x55d200(0x82f)][_0x55d200(0x24b)]('text-green-600'),_0x583a9c[_0x55d200(0x64b)]=!![];}catch(_0xf45b5b){console[_0x55d200(0x17d)](_0x55d200(0x7a3),_0xf45b5b),showMessage(_0x55d200(0x3b8));}}async function selectProjectAndGenerateBlueprintQuiz(_0x2e4801,_0x190968=null,_0x49aa16=null,_0x57cf6f=![]){const _0x2c1c88=_0x448927;cameFromBlueprint=!![];const _0x2776b6=document[_0x2c1c88(0xb18)]('bp-reference-file-url')?.[_0x2c1c88(0x52d)]['trim']();let _0x4dc684=null;if(_0x2776b6){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x32af20=await fetchFileFromUrl(_0x2776b6,_0x2c1c88(0x6a6)),_0x3e3089=await new Promise((_0x59c5ce,_0x2d0224)=>{const _0x28579e=_0x2c1c88,_0x8f97e4=new FileReader();_0x8f97e4['readAsDataURL'](_0x32af20),_0x8f97e4[_0x28579e(0xab4)]=()=>_0x59c5ce(_0x8f97e4[_0x28579e(0x31e)][_0x28579e(0xc74)](',')[0x1]),_0x8f97e4['onerror']=_0x2d0224;});_0x4dc684=[{'inlineData':{'mimeType':_0x32af20[_0x2c1c88(0x4e4)],'data':_0x3e3089}}],messageModal['classList'][_0x2c1c88(0x24b)]('hidden');}catch(_0x1a4a58){console[_0x2c1c88(0x17d)]('Could\x20not\x20fetch\x20reference\x20file:',_0x1a4a58),showMessage(_0x2c1c88(0x347));}}const _0x29dc85=document[_0x2c1c88(0xb18)](_0x2c1c88(0x948)),_0x5e2e17=document[_0x2c1c88(0xb18)](_0x2c1c88(0xe2c)),_0x2d1ba1=_0x29dc85[_0x2c1c88(0x877)]('h3'),_0x4a5d90=document[_0x2c1c88(0xb18)](_0x2c1c88(0xc80)),_0x480d6e=document[_0x2c1c88(0xb18)]('cancel-move-quiz-btn');_0x2d1ba1[_0x2c1c88(0x633)]=_0x2c1c88(0x85a),_0x4a5d90[_0x2c1c88(0x633)]=_0x2c1c88(0x6c6),_0x4a5d90[_0x2c1c88(0x64b)]=!![];allProjects[_0x2c1c88(0xab1)]===0x0?_0x5e2e17[_0x2c1c88(0x5f4)]=_0x2c1c88(0xe46):(_0x5e2e17[_0x2c1c88(0x5f4)]=_0x2c1c88(0x74d)+allProjects['map'](_0x134ff1=>_0x2c1c88(0x949)+_0x134ff1['id']+'\x22>'+_0x134ff1['projectName']+_0x2c1c88(0x38c))[_0x2c1c88(0x222)](''),_0x4a5d90[_0x2c1c88(0x64b)]=![]);_0x29dc85['classList'][_0x2c1c88(0xa1f)]('hidden');const _0x17e075=async()=>{const _0x8e08d2=_0x2c1c88,_0x59621e=_0x5e2e17[_0x8e08d2(0x52d)];if(!_0x59621e){showMessage(_0x8e08d2(0x599));return;}_0x29dc85[_0x8e08d2(0x82f)][_0x8e08d2(0x24b)](_0x8e08d2(0x5a9)),document[_0x8e08d2(0xb18)](_0x8e08d2(0x651))[_0x8e08d2(0x82f)][_0x8e08d2(0x24b)](_0x8e08d2(0x5a9)),await loadProjectDetails(_0x59621e),showView(_0x8e08d2(0xcef)),handleGenerateQuizFromBlueprintTopic(_0x2e4801,_0x190968,_0x59621e,_0x49aa16,_0x57cf6f,_0x4dc684),_0x30bdd6();},_0x30bdd6=()=>{const _0x3abb6b=_0x2c1c88;_0x2d1ba1[_0x3abb6b(0x633)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4a5d90['textContent']=_0x3abb6b(0x7ce),_0x4a5d90[_0x3abb6b(0xcec)](_0x3abb6b(0x8b2),_0x17e075),_0x480d6e[_0x3abb6b(0xcec)](_0x3abb6b(0x8b2),_0x30bdd6),_0x4a5d90[_0x3abb6b(0xcc)]('click',confirmMoveQuiz);};_0x4a5d90[_0x2c1c88(0xcec)]('click',confirmMoveQuiz),_0x4a5d90['addEventListener'](_0x2c1c88(0x8b2),_0x17e075),_0x480d6e[_0x2c1c88(0xcc)]('click',_0x30bdd6);}function listenForStarredQuizzes(){const _0x280782=_0x448927;if(!userId)return;const _0xbf6cf9=collection(db,'artifacts/'+appId+_0x280782(0xc34)),_0x25bb62=query(_0xbf6cf9,where(_0x280782(0x72a),'==',!![]));onSnapshot(_0x25bb62,_0x5e1217=>{const _0x37ab9c=_0x280782;starredQuizzes=_0x5e1217['docs'][_0x37ab9c(0xad5)](_0x4e3ba4=>({'id':_0x4e3ba4['id'],..._0x4e3ba4[_0x37ab9c(0xa8e)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x43f1a9=>{const _0xeb4c9b=_0x280782;console[_0xeb4c9b(0x17d)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x43f1a9);});}function listenForFileShortcuts(){const _0x571b1d=_0x448927,_0x1b554a=doc(db,_0x571b1d(0x3f4),_0x571b1d(0xc09));onSnapshot(_0x1b554a,_0x192ac6=>{const _0x172e2b=_0x571b1d;let _0x1f049=[],_0x266cdf=[],_0x2394a0={};if(_0x192ac6[_0x172e2b(0x14d)]()){const _0x89604b=_0x192ac6[_0x172e2b(0xa8e)]();_0x1f049=_0x89604b[_0x172e2b(0x511)]||[],_0x266cdf=_0x89604b[_0x172e2b(0x3c3)]||[],_0x2394a0=_0x89604b['fileShortcutOrder']||{};}!_0x266cdf[_0x172e2b(0x8c0)](_0x3357e2=>_0x3357e2['id']==='all')&&_0x266cdf[_0x172e2b(0xdb1)]({'id':_0x172e2b(0xd05),'name':_0x172e2b(0x8aa),'isDefault':!![]}),!_0x1f049[_0x172e2b(0x8c0)](_0x43120b=>_0x43120b['id']==='file-default-1')&&_0x1f049[_0x172e2b(0xdb1)]({'id':_0x172e2b(0x7e7),'name':_0x172e2b(0xe17),'url':'','isDefault':!![]}),!_0x1f049[_0x172e2b(0x8c0)](_0x36d702=>_0x36d702['id']==='file-default-2')&&_0x1f049[_0x172e2b(0xdb1)]({'id':'file-default-2','name':_0x172e2b(0xacf),'url':'','isDefault':!![]}),fileShortcuts=_0x1f049,fileShortcutTabs=_0x266cdf,fileShortcutOrder=_0x2394a0,renderFileShortcuts(),!document['getElementById'](_0x172e2b(0x67a))['classList'][_0x172e2b(0xb15)](_0x172e2b(0x5a9))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x4e5115=_0x448927,_0x3feabf=doc(db,_0x4e5115(0x3f4),_0x4e5115(0xc09));try{await setDoc(_0x3feabf,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x3ecdb4){console[_0x4e5115(0x17d)](_0x4e5115(0x3ca),_0x3ecdb4);}}function renderAdditionalFileShortcutsModal(){const _0x32170e=_0x448927,_0x558a49=document[_0x32170e(0xb18)]('file-shortcut-tabs-nav'),_0x34070b=document[_0x32170e(0xb18)](_0x32170e(0xa84));if(!_0x558a49||!_0x34070b)return;_0x558a49['innerHTML']=fileShortcutTabs['map'](_0x3f157f=>{const _0x49bc86=_0x32170e,_0x231a81=_0x3f157f['id']===activeFileShortcutTabId;return _0x49bc86(0x276)+_0x3f157f['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x231a81?_0x49bc86(0x43e):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x49bc86(0x7b8)+_0x3f157f[_0x49bc86(0x2d2)]+_0x49bc86(0xe20)+_0x3f157f[_0x49bc86(0x2d2)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3f157f['isDefault']?_0x49bc86(0x2b5)+_0x3f157f['id']+_0x49bc86(0xe15):'')+_0x49bc86(0x147);})[_0x32170e(0x222)]('');const _0x7be8e9=fileShortcutTabs[_0x32170e(0x8c0)](_0x2164e3=>_0x2164e3['id']===activeFileShortcutTabId);let _0x356030=_0x7be8e9?.[_0x32170e(0xb29)]?[...fileShortcuts]:fileShortcuts['filter'](_0x3d324c=>(_0x7be8e9?.['shortcutIds']||[])[_0x32170e(0x2e7)](_0x3d324c['id']));const _0x532d20=fileShortcutOrder[activeFileShortcutTabId]||[];_0x356030[_0x32170e(0x872)]((_0x4c0a92,_0x5594c9)=>{const _0x5e59dd=_0x32170e,_0x2cc4d=_0x532d20[_0x5e59dd(0x5c9)](_0x4c0a92['id']),_0x15f444=_0x532d20[_0x5e59dd(0x5c9)](_0x5594c9['id']);return(_0x2cc4d===-0x1?Infinity:_0x2cc4d)-(_0x15f444===-0x1?Infinity:_0x15f444);}),_0x34070b[_0x32170e(0x5f4)]=_0x356030[_0x32170e(0xad5)](_0x55a75d=>{const _0x7f30b0=_0x32170e,_0x1b957b=_0x55a75d[_0x7f30b0(0xdc7)]?'📄':'🔗',_0x32aba4=fileShortcutTabs[_0x7f30b0(0x955)](_0x25c798=>!_0x25c798[_0x7f30b0(0xb29)]),_0x48899a=_0x7be8e9[_0x7f30b0(0xb29)]&&_0x32aba4[_0x7f30b0(0xab1)]>0x0?_0x7f30b0(0x9d6)+_0x32aba4['map'](_0x292575=>_0x7f30b0(0xd83)+_0x55a75d['id']+_0x7f30b0(0xd61)+_0x292575['id']+'\x22>'+_0x292575[_0x7f30b0(0x2d2)]+_0x7f30b0(0xd08))[_0x7f30b0(0x222)]('')+_0x7f30b0(0x5ea):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x55a75d['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x1b957b+'\x20'+_0x55a75d['name']+_0x7f30b0(0x216)+_0x55a75d['id']+_0x7f30b0(0x49d)+_0x55a75d['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x55a75d[_0x7f30b0(0xb29)]?_0x7f30b0(0xb65)+_0x55a75d['id']+_0x7f30b0(0x520):'')+_0x7f30b0(0x5a2)+(!_0x7be8e9[_0x7f30b0(0xb29)]?'<button\x20data-shortcut-id=\x22'+_0x55a75d['id']+_0x7f30b0(0x5f0):'')+_0x7f30b0(0x5a2)+_0x48899a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x42e5a0=_0x448927;document['querySelectorAll']('.file-shortcut-tab-btn')['forEach'](_0x3c4a83=>{const _0x1d27fd=_0x2e12;_0x3c4a83[_0x1d27fd(0xb4f)]=_0x198383=>{const _0x48ea1c=_0x1d27fd;activeFileShortcutTabId=_0x198383['currentTarget'][_0x48ea1c(0xcd1)][_0x48ea1c(0x33d)],renderAdditionalFileShortcutsModal();},_0x3c4a83[_0x1d27fd(0xcb7)]=_0x15ef54=>{const _0x6cf49b=_0x1d27fd,_0x984656=_0x15ef54[_0x6cf49b(0x751)][_0x6cf49b(0x877)](_0x6cf49b(0x668));_0x15ef54[_0x6cf49b(0x751)][_0x6cf49b(0x877)](_0x6cf49b(0x675))[_0x6cf49b(0x82f)]['add']('hidden'),_0x984656[_0x6cf49b(0x82f)][_0x6cf49b(0xa1f)](_0x6cf49b(0x5a9)),_0x984656['focus'](),_0x984656['select']();};}),document['querySelectorAll']('#file-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x45cbd5=>{const _0x160b60=_0x2e12,_0x4a3b5d=()=>{const _0x3ca0a6=_0x2e12,_0x4e301f=_0x45cbd5[_0x3ca0a6(0xb09)]('.file-shortcut-tab-btn')[_0x3ca0a6(0xcd1)][_0x3ca0a6(0x33d)],_0x3eef25=fileShortcutTabs[_0x3ca0a6(0x8c0)](_0x57900b=>_0x57900b['id']===_0x4e301f);_0x3eef25&&(_0x3eef25[_0x3ca0a6(0x2d2)]=_0x45cbd5[_0x3ca0a6(0x52d)][_0x3ca0a6(0xb5b)]()||_0x3eef25[_0x3ca0a6(0x2d2)],saveFileShortcutConfig());};_0x45cbd5[_0x160b60(0x823)]=_0x4a3b5d,_0x45cbd5[_0x160b60(0x1fa)]=_0x38121a=>{const _0x35cca2=_0x160b60;if(_0x38121a[_0x35cca2(0x4c5)]==='Enter')_0x45cbd5[_0x35cca2(0xdf7)]();};}),document[_0x42e5a0(0xccb)](_0x42e5a0(0xc36))[_0x42e5a0(0x157)](_0x27a32f=>_0x27a32f[_0x42e5a0(0xb4f)]=_0x41eb9d=>{const _0x5752c0=_0x42e5a0,_0x22149d=_0x41eb9d[_0x5752c0(0x751)][_0x5752c0(0xcd1)][_0x5752c0(0x33d)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x14816e=_0x5752c0;fileShortcutTabs=fileShortcutTabs[_0x14816e(0x955)](_0x143713=>_0x143713['id']!==_0x22149d),delete fileShortcutOrder[_0x22149d];if(activeFileShortcutTabId===_0x22149d)activeFileShortcutTabId=_0x14816e(0xd05);saveFileShortcutConfig();});}),document[_0x42e5a0(0xccb)]('.move-file-shortcut-item')[_0x42e5a0(0x157)](_0x11f43e=>_0x11f43e[_0x42e5a0(0xb4f)]=_0x177d60=>{const _0x326470=_0x42e5a0;_0x177d60[_0x326470(0x105)]();const {shortcutId:_0x5e032d,targetTabId:_0x3723a3}=_0x177d60['currentTarget'][_0x326470(0xcd1)],_0x1b0600=fileShortcutTabs[_0x326470(0x8c0)](_0x49e146=>_0x49e146['id']===_0x3723a3);_0x1b0600&&!_0x1b0600[_0x326470(0x2d0)][_0x326470(0x2e7)](_0x5e032d)&&(_0x1b0600[_0x326470(0x2d0)][_0x326470(0x626)](_0x5e032d),saveFileShortcutConfig());}),document['querySelectorAll'](_0x42e5a0(0x767))[_0x42e5a0(0x157)](_0x3d1541=>_0x3d1541[_0x42e5a0(0xb4f)]=_0x48cf16=>{const _0x39585f=_0x42e5a0,_0x434f2=_0x48cf16[_0x39585f(0x751)][_0x39585f(0xcd1)][_0x39585f(0x7ec)],_0x4d7a74=fileShortcutTabs[_0x39585f(0x8c0)](_0x4fa500=>_0x4fa500['id']===activeFileShortcutTabId);_0x4d7a74&&!_0x4d7a74[_0x39585f(0xb29)]&&(_0x4d7a74[_0x39585f(0x2d0)]=_0x4d7a74['shortcutIds'][_0x39585f(0x955)](_0x50eb83=>_0x50eb83!==_0x434f2),saveFileShortcutConfig());}),document[_0x42e5a0(0xccb)](_0x42e5a0(0xc43))[_0x42e5a0(0x157)](_0x1ac1b8=>_0x1ac1b8['onclick']=_0x1a5879=>{const _0x188659=_0x42e5a0;_0x1a5879[_0x188659(0x272)]();const _0xdbd156=_0x1a5879[_0x188659(0x751)]['nextElementSibling'];document['querySelectorAll'](_0x188659(0xd32))[_0x188659(0x157)](_0x58779f=>_0x58779f[_0x188659(0x82f)][_0x188659(0x24b)](_0x188659(0x5a9))),_0xdbd156[_0x188659(0x82f)][_0x188659(0xa1f)]('hidden');});const _0x4d4558=document['getElementById'](_0x42e5a0(0xa84));let _0xbb413e=null;_0x4d4558[_0x42e5a0(0xa9f)]=_0x4b053a=>{const _0x47aad6=_0x42e5a0;_0xbb413e=_0x4b053a[_0x47aad6(0x364)]['closest'](_0x47aad6(0xde5));if(_0xbb413e)setTimeout(()=>_0xbb413e['classList'][_0x47aad6(0x24b)](_0x47aad6(0x524)),0x0);},_0x4d4558['ondragend']=()=>{const _0x53a6f6=_0x42e5a0;_0xbb413e&&(_0xbb413e['classList'][_0x53a6f6(0xa1f)](_0x53a6f6(0x524)),_0xbb413e=null);},_0x4d4558[_0x42e5a0(0xa88)]=_0x2a43ed=>{const _0x381500=_0x42e5a0;_0x2a43ed[_0x381500(0x105)]();},_0x4d4558[_0x42e5a0(0x9a3)]=_0x260ac7=>{const _0x3cf4a3=_0x42e5a0;_0x260ac7[_0x3cf4a3(0x105)]();if(_0xbb413e){const _0x38ffe6=[..._0x4d4558[_0x3cf4a3(0xccb)](_0x3cf4a3(0xb14))][_0x3cf4a3(0xe33)]((_0x3dffc5,_0x3903d8)=>{const _0x40682e=_0x3cf4a3,_0x1191a7=_0x3903d8[_0x40682e(0x1e4)](),_0x5cebc4=_0x260ac7['clientY']-_0x1191a7[_0x40682e(0xc69)]-_0x1191a7[_0x40682e(0x94a)]/0x2;return _0x5cebc4<0x0&&_0x5cebc4>_0x3dffc5['offset']?{'offset':_0x5cebc4,'element':_0x3903d8}:_0x3dffc5;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3cf4a3(0x285)];_0x38ffe6==null?_0x4d4558[_0x3cf4a3(0x220)](_0xbb413e):_0x4d4558[_0x3cf4a3(0x5f2)](_0xbb413e,_0x38ffe6);const _0x22d1ce=[..._0x4d4558[_0x3cf4a3(0xccb)]('.shortcut-list-item')][_0x3cf4a3(0xad5)](_0x3e0e45=>_0x3e0e45['dataset'][_0x3cf4a3(0x7ec)]);fileShortcutOrder[activeFileShortcutTabId]=_0x22d1ce,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x574785=_0x448927,_0x1ccfb2=prompt(_0x574785(0x4f6),_0x574785(0x2bf));_0x1ccfb2&&_0x1ccfb2[_0x574785(0xb5b)]()&&(fileShortcutTabs[_0x574785(0x626)]({'id':_0x574785(0x395)+Date[_0x574785(0xd02)](),'name':_0x1ccfb2[_0x574785(0xb5b)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x517cd7=_0x448927,_0x140ea6=document['getElementById']('file-shortcut-container'),_0x5921aa=document[_0x517cd7(0xb18)](_0x517cd7(0xa84)),_0x130ccb=document[_0x517cd7(0xb18)]('file-shortcuts-loading-msg');if(_0x130ccb)_0x130ccb['classList'][_0x517cd7(0x24b)]('hidden');if(!_0x140ea6||!_0x5921aa)return;const _0x11549b=fileShortcuts['slice'](0x0,0x4),_0xa1f074=fileShortcuts[_0x517cd7(0xa30)](0x4);_0x140ea6[_0x517cd7(0x5f4)]=_0x11549b[_0x517cd7(0xad5)](_0x4e233e=>{const _0x2b19d0=_0x517cd7,_0x27e81f=_0x4e233e[_0x2b19d0(0xdc7)]&&_0x4e233e[_0x2b19d0(0xdc7)][_0x2b19d0(0xb5b)]()!=='',_0x47c71f=selectedFile&&selectedFile['shortcutId']===_0x4e233e['id'];let _0x152218=_0x2b19d0(0x5bb),_0x486aa6='🔗';if(_0x47c71f)_0x152218=_0x2b19d0(0x18e),_0x486aa6=_0x2b19d0(0x46a);else _0x27e81f&&(_0x152218=_0x2b19d0(0xaaf),_0x486aa6='📄');const _0x4681c8=!_0x4e233e[_0x2b19d0(0xb29)]?_0x2b19d0(0xb65)+_0x4e233e['id']+_0x2b19d0(0xc85):'';return _0x2b19d0(0x155)+_0x4e233e['id']+_0x2b19d0(0x43c)+_0x152218+_0x2b19d0(0x19b)+_0x486aa6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x4e233e[_0x2b19d0(0x2d2)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4e233e['id']+_0x2b19d0(0xab8)+_0x4681c8+_0x2b19d0(0xafe);})[_0x517cd7(0x222)](''),_0xa1f074[_0x517cd7(0xab1)]>0x0&&(_0x140ea6['innerHTML']+=_0x517cd7(0x763)),_0xa1f074[_0x517cd7(0xab1)]>0x0?_0x5921aa[_0x517cd7(0x5f4)]=_0xa1f074[_0x517cd7(0xad5)](_0x1f14df=>_0x517cd7(0x9a7)+(_0x1f14df[_0x517cd7(0xdc7)]?'📄':'🔗')+'\x20'+_0x1f14df['name']+_0x517cd7(0xa41)+_0x1f14df['id']+_0x517cd7(0x28f)+_0x1f14df['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1f14df['isDefault']?_0x517cd7(0xb65)+_0x1f14df['id']+_0x517cd7(0x520):'')+_0x517cd7(0x1c0))[_0x517cd7(0x222)](''):_0x5921aa[_0x517cd7(0x5f4)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0xd7c081=null){const _0x4ca912=_0x448927,_0x35bfd8=document[_0x4ca912(0xb18)](_0x4ca912(0x734)),_0x42da70=document[_0x4ca912(0xb18)](_0x4ca912(0x61a)),_0x1bab57=document[_0x4ca912(0xb18)]('file-shortcut-id-input'),_0x11f1cc=document[_0x4ca912(0xb18)](_0x4ca912(0x261)),_0x2c7764=document[_0x4ca912(0xb18)](_0x4ca912(0xa5b));if(_0xd7c081){const _0x38060d=fileShortcuts[_0x4ca912(0x8c0)](_0x1696e6=>_0x1696e6['id']===_0xd7c081);if(!_0x38060d)return;_0x42da70[_0x4ca912(0x633)]=_0x4ca912(0x4d4),_0x1bab57[_0x4ca912(0x52d)]=_0x38060d['id'],_0x11f1cc['value']=_0x38060d['name'],_0x2c7764[_0x4ca912(0x52d)]=_0x38060d[_0x4ca912(0xdc7)]||'';}else _0x42da70[_0x4ca912(0x633)]=_0x4ca912(0x81e),_0x1bab57[_0x4ca912(0x52d)]='',_0x11f1cc[_0x4ca912(0x52d)]='',_0x2c7764[_0x4ca912(0x52d)]='';_0x35bfd8[_0x4ca912(0x82f)][_0x4ca912(0xa1f)]('hidden');}async function saveFileShortcutChanges(){const _0x3df49d=_0x448927,_0x394d2b=document[_0x3df49d(0xb18)]('file-shortcut-id-input')[_0x3df49d(0x52d)],_0xfb4a6a=document[_0x3df49d(0xb18)](_0x3df49d(0x261))[_0x3df49d(0x52d)][_0x3df49d(0xb5b)](),_0xe8ea75=document[_0x3df49d(0xb18)](_0x3df49d(0xa5b))['value']['trim']();if(!_0xfb4a6a){showMessage(_0x3df49d(0x7be));return;}const _0x25bce3={'id':_0x394d2b||'file-shortcut_'+Date['now'](),'name':_0xfb4a6a,'url':_0xe8ea75,'isDefault':_0x394d2b[_0x3df49d(0x621)](_0x3df49d(0x55d))};let _0x313394;_0x394d2b?_0x313394=fileShortcuts[_0x3df49d(0xad5)](_0x3af786=>_0x3af786['id']===_0x394d2b?_0x25bce3:_0x3af786):_0x313394=[...fileShortcuts,_0x25bce3];try{const _0x2f9244=doc(db,'globalSettings',_0x3df49d(0xc09));await setDoc(_0x2f9244,{'shortcuts':_0x313394},{'merge':!![]}),document[_0x3df49d(0xb18)]('file-shortcut-editor-modal')['classList'][_0x3df49d(0x24b)](_0x3df49d(0x5a9));}catch(_0x33f668){console[_0x3df49d(0x17d)](_0x3df49d(0xb1d),_0x33f668),showMessage(_0x3df49d(0x3b8));}}async function handleFileShortcutClick(_0x183da3){const _0x4cd715=_0x448927,_0x10b9f4=fileShortcuts[_0x4cd715(0x8c0)](_0x476560=>_0x476560['id']===_0x183da3);if(!_0x10b9f4)return;if(!_0x10b9f4[_0x4cd715(0xdc7)]||_0x10b9f4['url'][_0x4cd715(0xb5b)]()===''){openFileShortcutEditor(_0x183da3);return;}const _0x3492e8=document[_0x4cd715(0x877)](_0x4cd715(0x3de)+_0x183da3+'\x22]');if(_0x3492e8){const _0x43e4e2=_0x3492e8[_0x4cd715(0x5f4)];_0x3492e8[_0x4cd715(0x5f4)]=_0x4cd715(0x87e),_0x3492e8['disabled']=!![];}document[_0x4cd715(0xccb)](_0x4cd715(0x78c))[_0x4cd715(0x157)](_0x2b0ee9=>{const _0xfd4f6=_0x4cd715;if(_0x2b0ee9[_0xfd4f6(0xcd1)]['id']!==_0x183da3)_0x2b0ee9[_0xfd4f6(0x82f)][_0xfd4f6(0x24b)](_0xfd4f6(0x524),_0xfd4f6(0x721));});try{const _0x9e5db4=new URL(_0x10b9f4[_0x4cd715(0xdc7)])[_0x4cd715(0xc5a)],_0x1bad12=_0x9e5db4[_0x4cd715(0x162)](_0x9e5db4[_0x4cd715(0xc24)]('/')+0x1)||(_0x10b9f4[_0x4cd715(0xdc7)][_0x4cd715(0x2e7)](_0x4cd715(0x9a4))?_0x4cd715(0xc45):'file.pdf'),_0x54fe7e=await fetchFileFromUrl(_0x10b9f4[_0x4cd715(0xdc7)],_0x1bad12);_0x54fe7e[_0x4cd715(0x7ec)]=_0x183da3,selectedFile=_0x54fe7e,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x4cd715(0xb18)](_0x4cd715(0x160))[_0x4cd715(0xaa3)]({'behavior':_0x4cd715(0x31b),'block':_0x4cd715(0x8d8)});}catch(_0x28a14e){console[_0x4cd715(0x17d)](_0x4cd715(0x891),_0x28a14e),showMessage(_0x4cd715(0x51c)+_0x28a14e[_0x4cd715(0x550)]),renderFileShortcuts();}finally{document[_0x4cd715(0xccb)](_0x4cd715(0x78c))[_0x4cd715(0x157)](_0x50b688=>{const _0x3e89b8=_0x4cd715;_0x50b688[_0x3e89b8(0x82f)][_0x3e89b8(0xa1f)](_0x3e89b8(0x524),_0x3e89b8(0x721)),_0x50b688[_0x3e89b8(0x64b)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x3f9f9f=_0x448927;if(allQuizzesGlobal[_0x3f9f9f(0xab1)]>0x0)return;console[_0x3f9f9f(0xcad)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x3f9f9f(0x2f0));try{const _0xe2fd49=await getDocs(collection(db,_0x3f9f9f(0xa76)+appId+_0x3f9f9f(0xc34)));allQuizzesGlobal=_0xe2fd49[_0x3f9f9f(0x18c)]['map'](_0x1ed5fc=>({'id':_0x1ed5fc['id'],..._0x1ed5fc['data']()})),console[_0x3f9f9f(0xcad)](_0x3f9f9f(0x97d)+allQuizzesGlobal['length']+_0x3f9f9f(0x6ea)),messageModal[_0x3f9f9f(0x82f)]['add'](_0x3f9f9f(0x5a9));}catch(_0x123b7f){console[_0x3f9f9f(0x17d)](_0x3f9f9f(0x838),_0x123b7f),messageModal['classList']['add'](_0x3f9f9f(0x5a9));throw new Error(_0x3f9f9f(0x11a));}}function exportQuizAsWorksheetPDF(){const _0x270b51=_0x448927;if(!currentQuizData||!currentQuizData[_0x270b51(0x677)]){showMessage(_0x270b51(0x57c));return;}const _0xa8dffa=currentQuizData,_0x20c3c1=window[_0x270b51(0x4bd)]('',_0x270b51(0x579)),_0x26cc21=_0x501fac=>String['fromCharCode'](0x41+_0x501fac),_0x491fb1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0xa8dffa[_0x270b51(0xda1)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0xa8dffa[_0x270b51(0xda1)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa8dffa[_0x270b51(0x677)][_0x270b51(0xad5)]((_0x238e98,_0x1c0986)=>{const _0x485925=_0x270b51;let _0x2475e0='';const _0x31303f=_0x238e98[_0x485925(0x3e6)]||_0xa8dffa['quizType'];switch(_0x31303f){case'multiple_choice':case'fill_in_with_choices':_0x2475e0=_0x485925(0x210)+_0x238e98[_0x485925(0x6ca)]['map']((_0x32458c,_0x18a18a)=>_0x485925(0x558)+_0x26cc21(_0x18a18a)+'.\x20'+_0x32458c+_0x485925(0xdf))[_0x485925(0x222)]('<br>')+_0x485925(0x2b1);break;case _0x485925(0xab0):_0x2475e0=_0x485925(0xd52);break;default:_0x2475e0='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x1c0986+0x1)+_0x485925(0x848)+(_0x238e98[_0x485925(0xc35)]||_0x238e98[_0x485925(0xb3b)])+_0x485925(0xd48)+(_0x238e98[_0x485925(0x6a5)]?'<div\x20class=\x22my-2\x22>'+_0x238e98[_0x485925(0x6a5)]+_0x485925(0x2b1):'')+_0x485925(0xcb1)+_0x2475e0+_0x485925(0xb01);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x20c3c1[_0x270b51(0x48a)][_0x270b51(0x586)](_0x491fb1),_0x20c3c1['document'][_0x270b51(0x378)](),_0x20c3c1[_0x270b51(0xab4)]=function(){setTimeout(()=>{const _0x347506=_0x2e12;_0x20c3c1[_0x347506(0x553)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x49e534=_0x448927;if(!currentQuizData||!currentQuizData[_0x49e534(0x677)]){showMessage(_0x49e534(0x57c));return;}const _0x4137f7=currentQuizData,_0x277a67=window[_0x49e534(0x4bd)]('',_0x49e534(0x579)),_0x3b0fdd=_0x562159=>String[_0x49e534(0x44d)](0x41+_0x562159),_0x3e280f=_0x49e534(0xa29)+_0x4137f7[_0x49e534(0xda1)]+_0x49e534(0x892)+_0x4137f7[_0x49e534(0x677)][_0x49e534(0xad5)]((_0x2031fa,_0x2e810a)=>{const _0x8ddf76=_0x49e534;let _0x19a05d='';const _0x530048=_0x2031fa[_0x8ddf76(0x3e6)]||_0x4137f7[_0x8ddf76(0xafc)];switch(_0x530048){case _0x8ddf76(0x232):case _0x8ddf76(0xa67):_0x19a05d=_0x8ddf76(0x507)+_0x2031fa[_0x8ddf76(0x6ca)][_0x8ddf76(0xad5)]((_0x41a516,_0x24034c)=>_0x8ddf76(0x1f6)+_0x3b0fdd(_0x24034c)+'.\x20'+_0x41a516+'</span>')[_0x8ddf76(0x222)](_0x8ddf76(0xa35))+_0x8ddf76(0xba7);break;case _0x8ddf76(0xab0):_0x19a05d=_0x8ddf76(0xc16);break;default:_0x19a05d='';break;}return _0x8ddf76(0xf2)+_0x4137f7['topic']+_0x8ddf76(0x274)+(_0x2e810a+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x2031fa['stem']||_0x2031fa[_0x8ddf76(0xb3b)])+_0x8ddf76(0xd48)+(_0x2031fa[_0x8ddf76(0x6a5)]?_0x8ddf76(0x212)+_0x2031fa['imageCode']+_0x8ddf76(0x2b1):'')+_0x8ddf76(0xcb1)+_0x19a05d+_0x8ddf76(0xaae);})[_0x49e534(0x222)]('')+_0x49e534(0x7a5);_0x277a67[_0x49e534(0x48a)][_0x49e534(0x586)](_0x3e280f),_0x277a67[_0x49e534(0x48a)][_0x49e534(0x378)](),_0x277a67[_0x49e534(0xab4)]=function(){setTimeout(()=>{_0x277a67['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x43931b){const _0x3d7c54=_0x448927,_0x1995cc=doc(db,_0x3d7c54(0xa76)+appId+_0x3d7c54(0xc34),_0x43931b);try{const _0x8ee97c=await getDoc(_0x1995cc);if(_0x8ee97c['exists']()){const _0x30b7a7=_0x8ee97c[_0x3d7c54(0xa8e)]()[_0x3d7c54(0x72a)]||![];await updateDoc(_0x1995cc,{'isStarred':!_0x30b7a7});}}catch(_0x205f5c){console[_0x3d7c54(0x17d)](_0x3d7c54(0x19f),_0x205f5c),showMessage(_0x3d7c54(0xd1c));}}async function displayQuestionBank(){const _0x518573=_0x448927,_0x17d941=document[_0x518573(0xb18)](_0x518573(0x9d7));_0x17d941[_0x518573(0x5f4)]=_0x518573(0x34b);try{const _0x1cd992=collection(db,_0x518573(0xa76)+appId+_0x518573(0x562)+userId+_0x518573(0x63e)),_0x2ffebe=query(_0x1cd992),_0x493edd=await getDocs(_0x2ffebe);if(_0x493edd[_0x518573(0xe40)]){_0x17d941[_0x518573(0x5f4)]=_0x518573(0xdbe);return;}let _0x58637d=_0x493edd[_0x518573(0x18c)][_0x518573(0xad5)](_0x568307=>{const _0x6d82f9=_0x518573,_0x1d9652=_0x568307[_0x6d82f9(0xa8e)](),_0x1128b0=_0x568307['id'];return _0x6d82f9(0x406)+JSON['stringify'](_0x1d9652)+_0x6d82f9(0x84b)+(_0x1d9652[_0x6d82f9(0xb3b)]||_0x1d9652['stem'])+_0x6d82f9(0xcdd)+_0x1d9652[_0x6d82f9(0x430)]+_0x6d82f9(0xa87);})['join']('');_0x17d941[_0x518573(0x5f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x58637d+_0x518573(0xd5f),document['getElementById'](_0x518573(0x824))[_0x518573(0xcc)](_0x518573(0x8b2),createQuizFromBank);}catch(_0x363a32){console[_0x518573(0x17d)]('Error\x20displaying\x20question\x20bank:',_0x363a32),_0x17d941['innerHTML']=_0x518573(0x6d0);}}async function handleExportLessonToPDF(){const _0x35880e=_0x448927,_0x192907=document[_0x35880e(0xb18)](_0x35880e(0xb12)),_0x18d350=document[_0x35880e(0xb18)](_0x35880e(0xb74))['textContent']||_0x35880e(0x254);if(!_0x192907){showMessage(_0x35880e(0x277));return;}const _0x1470f6=window['open']('','_blank'),_0x41967a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x18d350+_0x35880e(0x76d)+_0x18d350+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x192907[_0x35880e(0x5f4)]+_0x35880e(0x9bd);_0x1470f6['document'][_0x35880e(0x586)](_0x41967a),_0x1470f6['document'][_0x35880e(0x378)](),_0x1470f6[_0x35880e(0xab4)]=function(){setTimeout(()=>{const _0x531cda=_0x2e12;_0x1470f6[_0x531cda(0x553)]();},0x7d0);};}function showAdminLiveQuestionView(_0x62deb2,_0x4acb0c,_0x543dd3){const _0x1b67a3=_0x448927,_0x1aaec0=_0x62deb2[_0x1b67a3(0x3e6)]||currentQuizData[_0x1b67a3(0xafc)];let _0x2bc6cc='';if(_0x1aaec0===_0x1b67a3(0x232)||_0x1aaec0===_0x1b67a3(0xab0)){const _0x3c8741=_0x1aaec0===_0x1b67a3(0xab0)?[_0x1b67a3(0x211),_0x1b67a3(0xa01)]:_0x62deb2[_0x1b67a3(0x6ca)],_0x5a5e5b=_0x1aaec0==='true_false'?_0x62deb2[_0x1b67a3(0xaf4)]?0x0:0x1:_0x62deb2[_0x1b67a3(0x662)];_0x2bc6cc=_0x3c8741[_0x1b67a3(0xad5)]((_0x1bb093,_0x23ce17)=>_0x1b67a3(0x10f)+(_0x23ce17===_0x5a5e5b)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bb093+_0x1b67a3(0xafe))[_0x1b67a3(0x222)]('');}else{if(_0x1aaec0===_0x1b67a3(0x632)){const _0x5975f2=_0x62deb2[_0x1b67a3(0x320)]||[];_0x2bc6cc=_0x5975f2[_0x1b67a3(0xad5)](_0xe03b4a=>_0x1b67a3(0x10f)+(_0xe03b4a===_0x62deb2[_0x1b67a3(0x993)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe03b4a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1b67a3(0x222)]('');}}const _0x10a241=_0x62deb2['stem']||_0x62deb2[_0x1b67a3(0xb3b)],_0x20e39f=_0x1b67a3(0x2ea)+(_0x4acb0c+0x1)+_0x1b67a3(0x65b)+_0x543dd3+_0x1b67a3(0x64a)+currentLiveGamePin+_0x1b67a3(0xa6f)+_0x10a241+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bc6cc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x20e39f,window[_0x1b67a3(0x563)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]),document[_0x1b67a3(0xb18)]('reveal-answer-btn')[_0x1b67a3(0xcc)](_0x1b67a3(0x8b2),()=>revealAnswerForAdmin(_0x4acb0c,_0x543dd3)),document[_0x1b67a3(0xb18)]('end-game-btn')[_0x1b67a3(0xcc)](_0x1b67a3(0x8b2),async()=>{const _0x4960ee=_0x1b67a3;showConfirmation(_0x4960ee(0x4c9),async()=>{const _0x2260ee=_0x4960ee,_0x4b6832=doc(db,_0x2260ee(0xa76)+appId+_0x2260ee(0x56a),currentLiveGameId);await updateDoc(_0x4b6832,{'status':'podium'});});}),document['getElementById'](_0x1b67a3(0x7bb))[_0x1b67a3(0xcc)](_0x1b67a3(0x8b2),()=>{const _0x4b27a2=_0x1b67a3;document[_0x4b27a2(0xb18)](_0x4b27a2(0x930))[_0x4b27a2(0x82f)]['toggle'](_0x4b27a2(0x5a9));});}function promptForProjectBeforeGenerating(_0x1b8915){const _0x53c951=_0x448927,_0x3252c3=document[_0x53c951(0xb18)](_0x53c951(0x948)),_0x193e12=document[_0x53c951(0xb18)](_0x53c951(0xe2c)),_0xe9e945=_0x3252c3[_0x53c951(0x877)]('h3'),_0x425dba=document['getElementById'](_0x53c951(0xc80)),_0x3786d9=document[_0x53c951(0xb18)]('cancel-move-quiz-btn');_0xe9e945[_0x53c951(0x633)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x425dba['textContent']=_0x53c951(0x6c6),_0x425dba['disabled']=!![];allProjects[_0x53c951(0xab1)]===0x0?_0x193e12['innerHTML']='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x193e12[_0x53c951(0x5f4)]=_0x53c951(0x74d)+allProjects[_0x53c951(0xad5)](_0x278bf6=>'<option\x20value=\x22'+_0x278bf6['id']+'\x22>'+_0x278bf6[_0x53c951(0xa8f)]+_0x53c951(0x38c))[_0x53c951(0x222)](''),_0x425dba['disabled']=![]);_0x3252c3[_0x53c951(0x82f)][_0x53c951(0xa1f)](_0x53c951(0x5a9));const _0x1f2571=async()=>{const _0x25d0d6=_0x53c951,_0x511796=_0x193e12['value'];if(!_0x511796){showMessage(_0x25d0d6(0x599));return;}_0x3252c3[_0x25d0d6(0x82f)][_0x25d0d6(0x24b)](_0x25d0d6(0x5a9)),await loadProjectDetails(_0x511796),showView(_0x25d0d6(0xcef)),handleGenerateQuizFromBlueprintTopic(_0x1b8915),_0x11019a();},_0x11019a=()=>{const _0x4d71d0=_0x53c951;_0xe9e945[_0x4d71d0(0x633)]=_0x4d71d0(0x373),_0x425dba[_0x4d71d0(0x633)]=_0x4d71d0(0x7ce),_0x425dba[_0x4d71d0(0xcec)](_0x4d71d0(0x8b2),_0x1f2571),_0x3786d9['removeEventListener'](_0x4d71d0(0x8b2),_0x11019a),_0x425dba[_0x4d71d0(0xcc)]('click',confirmMoveQuiz);};_0x425dba[_0x53c951(0xcec)](_0x53c951(0x8b2),confirmMoveQuiz),_0x425dba[_0x53c951(0xcc)](_0x53c951(0x8b2),_0x1f2571),_0x3786d9[_0x53c951(0xcc)](_0x53c951(0x8b2),_0x11019a);}function showStudentLiveQuestionView(_0x2d1ec6,_0x1e3150,_0x56c820){const _0x33ebe0=_0x448927,_0x144236=_0x2d1ec6[_0x33ebe0(0x3e6)]||currentQuizData[_0x33ebe0(0xafc)];let _0x31bbde='';if(_0x144236===_0x33ebe0(0x232)||_0x144236===_0x33ebe0(0xab0)){const _0x346b3f=_0x144236===_0x33ebe0(0xab0)?[_0x33ebe0(0x211),_0x33ebe0(0xa01)]:_0x2d1ec6[_0x33ebe0(0x6ca)];_0x31bbde=_0x346b3f['map']((_0x4488d1,_0xf5cea9)=>_0x33ebe0(0x657)+_0xf5cea9+_0x33ebe0(0x7bd)+_0x4488d1+_0x33ebe0(0xbf9))[_0x33ebe0(0x222)]('');}else{if(_0x144236===_0x33ebe0(0x632)){const _0x4743ee=_0x2d1ec6['allResponses']||[];_0x31bbde=_0x4743ee[_0x33ebe0(0xad5)]((_0x2fbb15,_0x1ba174)=>_0x33ebe0(0x657)+_0x1ba174+_0x33ebe0(0x7bd)+_0x2fbb15+_0x33ebe0(0xbf9))['join']('');}else _0x144236===_0x33ebe0(0x706)&&(_0x31bbde=_0x33ebe0(0x5fc));}const _0x1544f7=_0x2d1ec6[_0x33ebe0(0xc35)]||_0x2d1ec6[_0x33ebe0(0xb3b)],_0xd87859=_0x33ebe0(0x8c2)+(_0x1e3150+0x1)+_0x33ebe0(0x65b)+_0x56c820+_0x33ebe0(0xd4a)+_0x1544f7+_0x33ebe0(0xa19)+_0x31bbde+_0x33ebe0(0x159);liveGameView[_0x33ebe0(0x5f4)]=_0xd87859;window[_0x33ebe0(0x563)]&&MathJax[_0x33ebe0(0xd16)]&&MathJax[_0x33ebe0(0xd16)]([liveGameView]);const _0x1c40d5=document[_0x33ebe0(0xb18)](_0x33ebe0(0x336));_0x1c40d5&&_0x1c40d5[_0x33ebe0(0xcc)](_0x33ebe0(0x8b2),()=>{const _0x38e757=_0x33ebe0,_0x551109=document[_0x38e757(0xb18)](_0x38e757(0x21f))[_0x38e757(0x52d)];handleLiveAnswer(_0x551109,_0x2d1ec6);}),document['getElementById'](_0x33ebe0(0x93a))[_0x33ebe0(0xcc)]('click',_0x3de723=>{const _0x31ed2d=_0x33ebe0,_0x2e11ef=_0x3de723[_0x31ed2d(0x364)]['closest'](_0x31ed2d(0x54e));if(_0x2e11ef){const _0xb4b4bf=parseInt(_0x2e11ef[_0x31ed2d(0xcd1)][_0x31ed2d(0xfd)]);handleLiveAnswer(_0xb4b4bf,_0x2d1ec6);}});}function listenForBlueprintShortcuts(){const _0x2dfc69=_0x448927,_0x158780=doc(db,'globalSettings',_0x2dfc69(0x880));onSnapshot(_0x158780,_0x18ee01=>{const _0x422f31=_0x2dfc69;let _0x4c5bfe=[],_0xbcc09b=[],_0x2987f8={};if(_0x18ee01[_0x422f31(0x14d)]()){const _0x4f3d69=_0x18ee01[_0x422f31(0xa8e)]();_0x4c5bfe=_0x4f3d69[_0x422f31(0x121)]||[],_0xbcc09b=_0x4f3d69[_0x422f31(0x6dc)]||[],_0x2987f8=_0x4f3d69['shortcutOrder']||{};}!_0xbcc09b[_0x422f31(0x8c0)](_0x539b56=>_0x539b56['id']==='all')&&_0xbcc09b[_0x422f31(0xdb1)]({'id':_0x422f31(0xd05),'name':_0x422f31(0x952),'isDefault':!![]}),!_0x4c5bfe[_0x422f31(0x8c0)](_0x612a8c=>_0x612a8c['id']===_0x422f31(0x6a1))&&_0x4c5bfe[_0x422f31(0xdb1)]({'id':_0x422f31(0x6a1),'name':_0x422f31(0xe44),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x4c5bfe[_0x422f31(0x8c0)](_0x5d81f2=>_0x5d81f2['id']===_0x422f31(0x857))&&_0x4c5bfe[_0x422f31(0xdb1)]({'id':_0x422f31(0x857),'name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x4c5bfe,shortcutTabs=_0xbcc09b,shortcutOrder=_0x2987f8,renderBlueprintShortcuts(),!document[_0x422f31(0xb18)](_0x422f31(0x5a1))[_0x422f31(0x82f)][_0x422f31(0xb15)](_0x422f31(0x5a9))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x91fac3=_0x448927,_0x14b04d=document[_0x91fac3(0xb18)](_0x91fac3(0x240)),_0x26b90f=document['getElementById'](_0x91fac3(0x2f3));if(!_0x14b04d||!_0x26b90f)return;_0x14b04d[_0x91fac3(0x5f4)]=shortcutTabs['map'](_0x387ade=>{const _0x5154ea=_0x91fac3,_0x5a5db4=_0x387ade['id']===activeShortcutTabId,_0x2b9de3='border-indigo-500\x20text-indigo-600',_0x5ce29c=_0x5154ea(0x4b5);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x387ade['id']+_0x5154ea(0x66f)+(_0x5a5db4?_0x2b9de3:_0x5ce29c)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x387ade['name']+_0x5154ea(0xb1f)+_0x387ade[_0x5154ea(0x2d2)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x387ade[_0x5154ea(0xb29)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x387ade['id']+_0x5154ea(0x2bd):'')+_0x5154ea(0xafe);})[_0x91fac3(0x222)]('');const _0x4077cd=shortcutTabs[_0x91fac3(0x8c0)](_0x288dd3=>_0x288dd3['id']===activeShortcutTabId);let _0x438424=[];if(_0x4077cd){if(_0x4077cd[_0x91fac3(0xb29)])_0x438424=[...blueprintShortcuts];else{const _0x5f59c0=_0x4077cd[_0x91fac3(0x2d0)]||[];_0x438424=blueprintShortcuts[_0x91fac3(0x955)](_0x4202ed=>_0x5f59c0[_0x91fac3(0x2e7)](_0x4202ed['id']));}}const _0x1a5498=shortcutOrder[activeShortcutTabId]||[];_0x438424[_0x91fac3(0x872)]((_0x200828,_0x12d3ab)=>{const _0xe13ba0=_0x91fac3,_0x2b562f=_0x1a5498[_0xe13ba0(0x5c9)](_0x200828['id']),_0x2d7001=_0x1a5498['indexOf'](_0x12d3ab['id']);if(_0x2b562f===-0x1)return 0x1;if(_0x2d7001===-0x1)return-0x1;return _0x2b562f-_0x2d7001;}),_0x26b90f[_0x91fac3(0x5f4)]=_0x438424[_0x91fac3(0xab1)]>0x0?_0x438424[_0x91fac3(0xad5)](_0x45de0b=>{const _0x26f23a=_0x91fac3;let _0x70e802='🧩';if(_0x45de0b[_0x26f23a(0x4c0)]&&_0x45de0b[_0x26f23a(0x8c6)])_0x70e802='📗';else{if(_0x45de0b[_0x26f23a(0x4c0)])_0x70e802='📘';}const _0xac89ff=shortcutTabs[_0x26f23a(0x955)](_0x480558=>!_0x480558[_0x26f23a(0xb29)]),_0xa74f7d=_0x4077cd[_0x26f23a(0xb29)]&&_0xac89ff[_0x26f23a(0xab1)]>0x0?_0x26f23a(0x7c4)+_0xac89ff[_0x26f23a(0xad5)](_0x333c38=>_0x26f23a(0x5ab)+_0x45de0b['id']+'\x22\x20data-target-tab-id=\x22'+_0x333c38['id']+'\x22>'+_0x333c38[_0x26f23a(0x2d2)]+_0x26f23a(0xa2a))[_0x26f23a(0x222)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x26f23a(0x288)+_0x45de0b['id']+_0x26f23a(0x2b2)+_0x70e802+'\x20'+_0x45de0b[_0x26f23a(0x2d2)]+_0x26f23a(0xad)+_0x45de0b['id']+_0x26f23a(0xe0d)+_0x45de0b['id']+_0x26f23a(0xbe0)+(!_0x45de0b[_0x26f23a(0xb29)]?_0x26f23a(0xb65)+_0x45de0b['id']+_0x26f23a(0x470):'')+_0x26f23a(0x13c)+(!_0x4077cd['isDefault']?_0x26f23a(0x5f3)+_0x45de0b['id']+_0x26f23a(0xddf):'')+_0x26f23a(0x13c)+_0xa74f7d+_0x26f23a(0xc7a);})[_0x91fac3(0x222)](''):_0x91fac3(0x849),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x35342b=_0x448927;document['querySelectorAll'](_0x35342b(0xced))[_0x35342b(0x157)](_0x545eec=>{const _0xd7bbda=_0x35342b;_0x545eec[_0xd7bbda(0xcc)](_0xd7bbda(0x8b2),_0x19731b=>{const _0x5999f8=_0xd7bbda;activeShortcutTabId=_0x19731b[_0x5999f8(0x751)][_0x5999f8(0xcd1)][_0x5999f8(0x33d)],renderAdditionalShortcutsModal();}),_0x545eec['addEventListener'](_0xd7bbda(0x92a),_0x442c58=>{const _0x5c33dd=_0xd7bbda,_0x4dcd09=_0x442c58[_0x5c33dd(0x751)];_0x4dcd09[_0x5c33dd(0x877)](_0x5c33dd(0x675))[_0x5c33dd(0x82f)][_0x5c33dd(0x24b)]('hidden');const _0x5c83d0=_0x4dcd09[_0x5c33dd(0x877)]('.tab-name-input');_0x5c83d0[_0x5c33dd(0x82f)]['remove'](_0x5c33dd(0x5a9)),_0x5c83d0[_0x5c33dd(0x2e8)](),_0x5c83d0[_0x5c33dd(0xce)]();});}),document['querySelectorAll']('.tab-name-input')['forEach'](_0x1395c6=>{const _0x79e2ab=_0x35342b,_0x13c4f6=()=>{const _0x3609b3=_0x2e12,_0x4c092f=_0x1395c6[_0x3609b3(0xb09)](_0x3609b3(0xced))[_0x3609b3(0xcd1)][_0x3609b3(0x33d)];handleRenameShortcutTab(_0x4c092f,_0x1395c6[_0x3609b3(0x52d)]);};_0x1395c6['addEventListener'](_0x79e2ab(0xdf7),_0x13c4f6),_0x1395c6[_0x79e2ab(0xcc)]('keydown',_0x7452b4=>{const _0x111ade=_0x79e2ab;if(_0x7452b4['key']===_0x111ade(0x4ff))_0x1395c6[_0x111ade(0xdf7)]();});}),document[_0x35342b(0xccb)]('.delete-shortcut-tab-btn')[_0x35342b(0x157)](_0x186a04=>{const _0x332b9=_0x35342b;_0x186a04[_0x332b9(0xcc)]('click',_0x36eb40=>handleDeleteShortcutTab(_0x36eb40[_0x332b9(0x751)][_0x332b9(0xcd1)][_0x332b9(0x33d)]));}),document[_0x35342b(0xccb)](_0x35342b(0x23b))[_0x35342b(0x157)](_0x3f6200=>{const _0x41f972=_0x35342b;_0x3f6200['addEventListener'](_0x41f972(0x8b2),_0x107e13=>{const _0x514cb6=_0x41f972;_0x107e13[_0x514cb6(0x105)]();const {shortcutId:_0x3dc42d,targetTabId:_0x51eca2}=_0x107e13[_0x514cb6(0x751)]['dataset'];handleMoveShortcutToTab(_0x3dc42d,_0x51eca2);});}),document[_0x35342b(0xccb)](_0x35342b(0xa45))[_0x35342b(0x157)](_0x237cbb=>{const _0x4d2bd2=_0x35342b;_0x237cbb[_0x4d2bd2(0xcc)](_0x4d2bd2(0x8b2),_0xd406c2=>{const _0x15d7e5=_0x4d2bd2;handleRemoveShortcutFromTab(_0xd406c2[_0x15d7e5(0x751)][_0x15d7e5(0xcd1)][_0x15d7e5(0x7ec)],activeShortcutTabId);});});const _0x3076f1=document[_0x35342b(0xb18)](_0x35342b(0x2f3));_0x3076f1[_0x35342b(0xccb)]('.use-hidden-shortcut-btn')[_0x35342b(0x157)](_0xe92952=>{_0xe92952['addEventListener']('click',()=>{const _0x4f15e1=_0x2e12;document[_0x4f15e1(0xb18)]('additional-shortcuts-modal')[_0x4f15e1(0x82f)][_0x4f15e1(0x24b)](_0x4f15e1(0x5a9)),handleShortcutClick(_0xe92952[_0x4f15e1(0xcd1)]['id']);});});let _0x443ef4=null;_0x3076f1[_0x35342b(0xcc)](_0x35342b(0x89f),_0x4d8bf9=>{const _0x24ce5c=_0x35342b;_0x443ef4=_0x4d8bf9[_0x24ce5c(0x364)][_0x24ce5c(0xb09)](_0x24ce5c(0xde5)),_0x443ef4&&setTimeout(()=>_0x443ef4[_0x24ce5c(0x82f)][_0x24ce5c(0x24b)](_0x24ce5c(0x524)),0x0);}),_0x3076f1[_0x35342b(0xcc)](_0x35342b(0x560),()=>{const _0x2e5963=_0x35342b;_0x443ef4&&(_0x443ef4[_0x2e5963(0x82f)][_0x2e5963(0xa1f)](_0x2e5963(0x524)),_0x443ef4=null);}),_0x3076f1['addEventListener'](_0x35342b(0x1a0),_0x250cb8=>{const _0x3baece=_0x35342b;_0x250cb8[_0x3baece(0x105)]();const _0x101281=[..._0x3076f1[_0x3baece(0xccb)](_0x3baece(0xb14))][_0x3baece(0xe33)]((_0x39778e,_0x42b9c2)=>{const _0x204d04=_0x3baece,_0x234014=_0x42b9c2[_0x204d04(0x1e4)](),_0x35a832=_0x250cb8['clientY']-_0x234014['top']-_0x234014['height']/0x2;return _0x35a832<0x0&&_0x35a832>_0x39778e[_0x204d04(0xc9e)]?{'offset':_0x35a832,'element':_0x42b9c2}:_0x39778e;},{'offset':Number['NEGATIVE_INFINITY']})[_0x3baece(0x285)];_0x101281==null?_0x3076f1[_0x3baece(0x220)](_0x443ef4):_0x3076f1[_0x3baece(0x5f2)](_0x443ef4,_0x101281);}),_0x3076f1[_0x35342b(0xcc)]('drop',_0xe1470c=>{const _0xd0d7fd=_0x35342b;_0xe1470c[_0xd0d7fd(0x105)]();if(_0x443ef4){const _0x24bef7=[..._0x3076f1['querySelectorAll'](_0xd0d7fd(0xde5))][_0xd0d7fd(0xad5)](_0x5342bc=>_0x5342bc[_0xd0d7fd(0xcd1)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x24bef7);}}),document[_0x35342b(0xccb)](_0x35342b(0xac4))[_0x35342b(0x157)](_0x3dde23=>{const _0x15b82c=_0x35342b;_0x3dde23[_0x15b82c(0xcc)](_0x15b82c(0x8b2),_0x1c72ae=>{const _0x54aca3=_0x15b82c;_0x1c72ae[_0x54aca3(0x272)]();const _0x44f67a=_0x1c72ae['currentTarget'][_0x54aca3(0x477)],_0x10dae4=_0x44f67a[_0x54aca3(0x82f)][_0x54aca3(0xb15)]('hidden');document['querySelectorAll'](_0x54aca3(0x473))[_0x54aca3(0x157)](_0x3f4022=>_0x3f4022[_0x54aca3(0x82f)][_0x54aca3(0x24b)](_0x54aca3(0x5a9))),_0x10dae4&&_0x44f67a[_0x54aca3(0x82f)][_0x54aca3(0xa1f)](_0x54aca3(0x5a9));});});}document[_0x448927(0xcc)](_0x448927(0x8b2),_0xffe7=>{const _0x56dfde=_0x448927;!_0xffe7['target'][_0x56dfde(0xb09)]('.group\x5c/dropdown')&&document[_0x56dfde(0xccb)](_0x56dfde(0x473))['forEach'](_0x560d2a=>_0x560d2a[_0x56dfde(0x82f)][_0x56dfde(0x24b)](_0x56dfde(0x5a9)));});async function saveShortcutConfig(){const _0x4649e7=_0x448927,_0x5355f8=doc(db,_0x4649e7(0x3f4),_0x4649e7(0x880));try{await setDoc(_0x5355f8,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x11a79){console[_0x4649e7(0x17d)](_0x4649e7(0xe3),_0x11a79);}}async function handleAddShortcutTab(){const _0x1a12e6=_0x448927,_0x429938=prompt(_0x1a12e6(0x4f6),'แท็บใหม่');if(!_0x429938||_0x429938['trim']()==='')return;shortcutTabs[_0x1a12e6(0x626)]({'id':'tab_'+Date[_0x1a12e6(0xd02)](),'name':_0x429938[_0x1a12e6(0xb5b)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x3fc653,_0x3b10c4){const _0x25f581=_0x448927,_0x8f94f3=shortcutTabs['find'](_0x26282b=>_0x26282b['id']===_0x3fc653);_0x8f94f3&&_0x3b10c4[_0x25f581(0xb5b)]()!==''&&(_0x8f94f3['name']=_0x3b10c4[_0x25f581(0xb5b)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x94ad42){const _0x22ff56=_0x448927,_0x93bef=shortcutTabs[_0x22ff56(0x8c0)](_0x20ce47=>_0x20ce47['id']===_0x94ad42);_0x93bef&&!_0x93bef['isDefault']&&showConfirmation(_0x22ff56(0x325)+_0x93bef['name']+_0x22ff56(0xd5),async()=>{const _0xb33ddd=_0x22ff56;shortcutTabs=shortcutTabs[_0xb33ddd(0x955)](_0x300f44=>_0x300f44['id']!==_0x94ad42),delete shortcutOrder[_0x94ad42];if(activeShortcutTabId===_0x94ad42)activeShortcutTabId=_0xb33ddd(0xd05);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x44cf0d,_0x1b0cde){const _0x3184ec=_0x448927,_0x2cb34b=shortcutTabs['find'](_0x205e2c=>_0x205e2c['id']===_0x1b0cde);_0x2cb34b&&!_0x2cb34b[_0x3184ec(0x2d0)]['includes'](_0x44cf0d)&&(_0x2cb34b['shortcutIds']['push'](_0x44cf0d),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x277e4a,_0x402023){const _0xa639e4=_0x448927,_0x5bdcd0=shortcutTabs['find'](_0x88d319=>_0x88d319['id']===_0x402023);_0x5bdcd0&&!_0x5bdcd0[_0xa639e4(0xb29)]&&(_0x5bdcd0['shortcutIds']=_0x5bdcd0[_0xa639e4(0x2d0)][_0xa639e4(0x955)](_0x459c89=>_0x459c89!==_0x277e4a),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x4687a9,_0x28ea19){shortcutOrder[_0x4687a9]=_0x28ea19,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x517a51=_0x448927,_0x514a97=document['getElementById']('blueprint-shortcut-container'),_0x3bf241=document[_0x517a51(0xb18)](_0x517a51(0x2f3)),_0x4ca716=document['getElementById'](_0x517a51(0xdec));_0x4ca716&&_0x4ca716[_0x517a51(0x82f)][_0x517a51(0x24b)](_0x517a51(0x5a9));if(!_0x514a97||!_0x3bf241)return;const _0x1c5926=blueprintShortcuts[_0x517a51(0xa30)](0x0,0x4),_0x2dc516=blueprintShortcuts[_0x517a51(0xa30)](0x4);_0x514a97[_0x517a51(0x5f4)]=_0x1c5926[_0x517a51(0xad5)](_0x3e4a7a=>{const _0x250d2e=_0x517a51;let _0x4f08ef=_0x250d2e(0x5bb),_0x26b31c='🧩';if(_0x3e4a7a[_0x250d2e(0x4c0)]&&_0x3e4a7a[_0x250d2e(0x8c6)])_0x4f08ef='bg-green-500\x20hover:bg-green-600\x20text-white',_0x26b31c='📗';else _0x3e4a7a['blueprintUrl']&&(_0x4f08ef=_0x250d2e(0xaaf),_0x26b31c='📘');const _0x47ce5d=!_0x3e4a7a[_0x250d2e(0xb29)]?'<button\x20data-id=\x22'+_0x3e4a7a['id']+_0x250d2e(0xc90):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x3e4a7a['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x4f08ef+_0x250d2e(0xca0)+_0x26b31c+'\x20'+_0x3e4a7a[_0x250d2e(0x2d2)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3e4a7a['id']+_0x250d2e(0xcc9)+_0x47ce5d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x517a51(0x222)](''),_0x2dc516[_0x517a51(0xab1)]>0x0&&(_0x514a97[_0x517a51(0x5f4)]+=_0x517a51(0x383)),_0x2dc516[_0x517a51(0xab1)]>0x0?_0x3bf241[_0x517a51(0x5f4)]=_0x2dc516[_0x517a51(0xad5)](_0x439639=>{const _0x4015fd=_0x517a51;let _0x4f5d6f='🧩';if(_0x439639['blueprintUrl']&&_0x439639[_0x4015fd(0x8c6)])_0x4f5d6f='📗';else _0x439639['blueprintUrl']&&(_0x4f5d6f='📘');return _0x4015fd(0xbee)+_0x4f5d6f+'\x20'+_0x439639[_0x4015fd(0x2d2)]+_0x4015fd(0xad)+_0x439639['id']+_0x4015fd(0xe0d)+_0x439639['id']+_0x4015fd(0xbe0)+(!_0x439639['isDefault']?'<button\x20data-id=\x22'+_0x439639['id']+_0x4015fd(0x470):'')+_0x4015fd(0xe36);})['join'](''):_0x3bf241[_0x517a51(0x5f4)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x3891a5){const _0x4408d7=_0x448927,_0x49b189=_0x3891a5[_0x4408d7(0xc74)]('.')['pop']()['toLowerCase']();switch(_0x49b189){case'pdf':return _0x4408d7(0x136);case _0x4408d7(0x2dc):return _0x4408d7(0x399);default:return _0x4408d7(0x136);}}function openShortcutEditor(_0x52c760=null){const _0x4f8316=_0x448927,_0x3e3bcf=document[_0x4f8316(0xb18)](_0x4f8316(0x663)),_0x4f0476=document['getElementById']('shortcut-modal-title'),_0x3a4270=document[_0x4f8316(0xb18)](_0x4f8316(0x92c)),_0x69005e=document[_0x4f8316(0xb18)](_0x4f8316(0x47e)),_0x218e7c=document[_0x4f8316(0xb18)]('shortcut-blueprint-url-input'),_0x2356d9=document[_0x4f8316(0xb18)]('shortcut-reference-url-input');if(_0x52c760){const _0x132bca=blueprintShortcuts[_0x4f8316(0x8c0)](_0x24527e=>_0x24527e['id']===_0x52c760);if(!_0x132bca)return;_0x4f0476['textContent']='แก้ไขปุ่มลัด',_0x3a4270['value']=_0x132bca['id'],_0x69005e[_0x4f8316(0x52d)]=_0x132bca['name'],_0x218e7c['value']=_0x132bca[_0x4f8316(0x4c0)]||'',_0x2356d9['value']=_0x132bca[_0x4f8316(0x8c6)]||'';}else _0x4f0476[_0x4f8316(0x633)]=_0x4f8316(0xb3c),_0x3a4270['value']='',_0x69005e[_0x4f8316(0x52d)]='',_0x218e7c[_0x4f8316(0x52d)]='',_0x2356d9[_0x4f8316(0x52d)]='';_0x3e3bcf['classList']['remove'](_0x4f8316(0x5a9));}async function saveShortcutChanges(){const _0x4df402=_0x448927,_0x163f3d=document[_0x4df402(0xb18)]('shortcut-id-input')[_0x4df402(0x52d)],_0x4d0a6c=document[_0x4df402(0xb18)]('shortcut-name-input')[_0x4df402(0x52d)][_0x4df402(0xb5b)](),_0x3ab656=document[_0x4df402(0xb18)](_0x4df402(0x4ea))[_0x4df402(0x52d)][_0x4df402(0xb5b)]();if(!_0x4d0a6c||!_0x3ab656){showMessage(_0x4df402(0xaa9));return;}const _0x2911c8={'id':_0x163f3d||_0x4df402(0xc7)+Date[_0x4df402(0xd02)](),'name':_0x4d0a6c,'blueprintUrl':_0x3ab656,'referenceUrl':document[_0x4df402(0xb18)](_0x4df402(0xde6))[_0x4df402(0x52d)][_0x4df402(0xb5b)](),'isDefault':_0x163f3d[_0x4df402(0x621)]('default-')};let _0x34e49f;_0x163f3d?_0x34e49f=blueprintShortcuts['map'](_0x35fc71=>_0x35fc71['id']===_0x163f3d?_0x2911c8:_0x35fc71):_0x34e49f=[...blueprintShortcuts,_0x2911c8];try{const _0xd27441=doc(db,_0x4df402(0x3f4),_0x4df402(0x880));await setDoc(_0xd27441,{'blueprintShortcuts':_0x34e49f},{'merge':!![]}),document[_0x4df402(0xb18)](_0x4df402(0x663))[_0x4df402(0x82f)][_0x4df402(0x24b)](_0x4df402(0x5a9));}catch(_0x374f49){console[_0x4df402(0x17d)](_0x4df402(0x647),_0x374f49),showMessage(_0x4df402(0x3b8));}}async function handleShortcutClick(_0x4e0542){const _0x141d34=_0x448927,_0x2446bb=blueprintShortcuts[_0x141d34(0x8c0)](_0xfeab5f=>_0xfeab5f['id']===_0x4e0542);if(!_0x2446bb||!_0x2446bb[_0x141d34(0x4c0)])return;document[_0x141d34(0xb18)]('blueprint-options-container')[_0x141d34(0x82f)][_0x141d34(0x24b)](_0x141d34(0x5a9)),document[_0x141d34(0xb18)]('generate-from-blueprint-btn')['disabled']=!![];const _0x164ceb=document['getElementById'](_0x141d34(0x3f3)),_0x5d643d=document['getElementById'](_0x141d34(0xa78));document[_0x141d34(0xb18)](_0x141d34(0x2a0))['classList'][_0x141d34(0xa1f)](_0x141d34(0x5a9)),document[_0x141d34(0xb18)](_0x141d34(0x1fd))[_0x141d34(0x5f4)]='',_0x164ceb['classList'][_0x141d34(0xa1f)](_0x141d34(0x5a9));try{_0x5d643d[_0x141d34(0x633)]=_0x141d34(0xdde);const _0x5af1d1=await fetchFileFromUrl(_0x2446bb['blueprintUrl'],_0x141d34(0x335));let _0x24f575=null;if(_0x2446bb[_0x141d34(0x8c6)]){_0x5d643d[_0x141d34(0x633)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x35f432=_0x2446bb[_0x141d34(0x8c6)][_0x141d34(0x123)]()[_0x141d34(0x687)]('.txt')?'reference.txt':_0x141d34(0x7e4);_0x24f575=await fetchFileFromUrl(_0x2446bb[_0x141d34(0x8c6)],_0x35f432);}await handleGenerateFromBlueprintWithFiles(_0x5af1d1,_0x24f575);}catch(_0x725505){console[_0x141d34(0x17d)](_0x141d34(0xbc4),_0x725505),showMessage(_0x141d34(0x39b)+_0x725505[_0x141d34(0x550)]),_0x164ceb['classList']['add'](_0x141d34(0x5a9));}}function getDirectDownloadUrl(_0x2be680){const _0x49dafd=_0x448927,_0x7e8f71=_0x2be680[_0x49dafd(0xcdc)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x7e8f71&&_0x7e8f71[0x1])return'https://drive.google.com/uc?export=download&id='+_0x7e8f71[0x1];return _0x2be680;}async function fetchFileFromUrl(_0x2bb3b5,_0x27848b){const _0x31c542=_0x448927,_0xc6fe86=getDirectDownloadUrl(_0x2bb3b5),_0xfae4dc='https://corsproxy.io/?'+encodeURIComponent(_0xc6fe86),_0x2823d7=await fetch(_0xfae4dc);if(!_0x2823d7['ok'])throw new Error(_0x31c542(0xc50)+_0x2823d7[_0x31c542(0x33a)]+')');const _0x3037f5=await _0x2823d7[_0x31c542(0xd23)](),_0x322f06=await new Promise((_0x290b62,_0x4d1c55)=>{const _0x46cc3e=_0x31c542,_0x302267=new FileReader();_0x302267[_0x46cc3e(0x8bf)]=()=>_0x290b62(new Uint8Array(_0x302267[_0x46cc3e(0x31e)])),_0x302267[_0x46cc3e(0x26d)]=_0x4d1c55,_0x302267[_0x46cc3e(0x807)](_0x3037f5['slice'](0x0,0x4));});let _0xfbd7f1='';const _0x3ddf55=new TextDecoder()[_0x31c542(0xc2)](_0x322f06);return _0x3ddf55===_0x31c542(0xb68)?(_0xfbd7f1=_0x31c542(0x136),console[_0x31c542(0xcad)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0xfbd7f1=_0x31c542(0x399),console[_0x31c542(0xcad)](_0x31c542(0xc8a))),new File([_0x3037f5],_0x27848b,{'type':_0xfbd7f1});}async function handleGenerateFromBlueprintWithFiles(_0x3165f3,_0x5f4462=null){const _0x129f4f=_0x448927;if(!_0x3165f3){showMessage(_0x129f4f(0x177));return;}const _0x3a68bb=document[_0x129f4f(0xb18)](_0x129f4f(0x3f3)),_0x31d027=document[_0x129f4f(0xb18)](_0x129f4f(0xa78));_0x3a68bb['classList'][_0x129f4f(0xa1f)](_0x129f4f(0x5a9)),document[_0x129f4f(0xb18)](_0x129f4f(0x2a0))[_0x129f4f(0x82f)][_0x129f4f(0xa1f)](_0x129f4f(0x5a9)),document[_0x129f4f(0xb18)](_0x129f4f(0x1fd))[_0x129f4f(0x5f4)]='';try{_0x31d027[_0x129f4f(0x633)]=_0x129f4f(0x3ac);const _0x5ed70d=await new Promise((_0x20d2c2,_0x564344)=>{const _0x4450d8=_0x129f4f,_0xf96ee3=new FileReader();_0xf96ee3['readAsDataURL'](_0x3165f3),_0xf96ee3['onload']=()=>_0x20d2c2(_0xf96ee3[_0x4450d8(0x31e)][_0x4450d8(0xc74)](',')[0x1]),_0xf96ee3[_0x4450d8(0x26d)]=_0x564344;}),_0x1f774e=[];if(_0x5f4462){_0x31d027[_0x129f4f(0x633)]=_0x129f4f(0x702);const _0xb0429e=await _0x5f4462['text']();_0x1f774e[_0x129f4f(0x626)]({'text':_0x129f4f(0x53b)+_0xb0429e});}const _0x5a224b=[{'text':_0x129f4f(0x9d9)},{'inlineData':{'mimeType':_0x3165f3[_0x129f4f(0x4e4)],'data':_0x5ed70d}},..._0x1f774e];await handleGenerateFromBlueprint(_0x5a224b);}catch(_0x5d71a0){console[_0x129f4f(0x17d)]('Error\x20in\x20generating\x20from\x20files:',_0x5d71a0),showMessage(_0x129f4f(0x39b)+_0x5d71a0[_0x129f4f(0x550)]),_0x3a68bb[_0x129f4f(0x82f)]['add'](_0x129f4f(0x5a9));}}async function handleLiveAnswer(_0x3b456c,_0x93145d){const _0x36ab1e=_0x448927;document[_0x36ab1e(0xccb)](_0x36ab1e(0x637))[_0x36ab1e(0x157)](_0x555669=>_0x555669[_0x36ab1e(0x64b)]=!![]);const _0x3841be=_0x93145d[_0x36ab1e(0x3e6)]||currentQuizData['quizType'];let _0x120fba=![],_0x18c6d6=_0x3b456c;if(_0x3841be===_0x36ab1e(0x706)){const _0x450b98=(_0x3b456c||'')[_0x36ab1e(0x377)]();_0x120fba=await gradeShortAnswer(_0x450b98,_0x93145d);}else{if(_0x3841be==='multiple_choice')_0x120fba=_0x3b456c===_0x93145d[_0x36ab1e(0x662)];else{if(_0x3841be==='true_false'){const _0x226d45=_0x93145d['correctAnswer'];_0x120fba=_0x3b456c===0x0&&_0x226d45||_0x3b456c===0x1&&!_0x226d45;}else{if(_0x3841be==='matching_item'){const _0x4fad25=_0x93145d['allResponses'][_0x3b456c];_0x120fba=_0x4fad25===_0x93145d[_0x36ab1e(0x993)],_0x18c6d6=_0x4fad25;}}}}const _0x55c1d7=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x378f11={};_0x378f11[_0x36ab1e(0xd76)+currentStudentName+_0x36ab1e(0xf4)]=!![],_0x378f11[_0x36ab1e(0xd76)+currentStudentName+_0x36ab1e(0x67f)]=_0x120fba,_0x378f11[_0x36ab1e(0xd76)+currentStudentName+'.lastAnswerIndex']=_0x3841be===_0x36ab1e(0x706)||_0x3841be===_0x36ab1e(0x632)?null:_0x3b456c,_0x378f11[_0x36ab1e(0xd76)+currentStudentName+_0x36ab1e(0xb71)]=_0x18c6d6,_0x378f11[_0x36ab1e(0xd76)+currentStudentName+_0x36ab1e(0x522)]=serverTimestamp(),_0x378f11[_0x36ab1e(0xd76)+currentStudentName+_0x36ab1e(0x766)]=![],await updateDoc(_0x55c1d7,_0x378f11),liveGameView[_0x36ab1e(0x5f4)]=_0x36ab1e(0x900);}function showAdminSummaryView(_0x185e1e,_0x514438){const _0x1be604=_0x448927,_0x14b993=Object['values'](_0x185e1e['players']||{}),_0xa01c7f=_0x514438[_0x1be604(0x3e6)]||currentQuizData[_0x1be604(0xafc)],_0x1e4fc3=_0xa01c7f===_0x1be604(0xab0)?[_0x1be604(0x211),'ไม่ใช่']:_0x514438[_0x1be604(0x6ca)]||_0x514438[_0x1be604(0x320)]||[],_0x46ade7={},_0x207627=new Array(_0x1e4fc3[_0x1be604(0xab1)])[_0x1be604(0xb8d)](0x0);_0x1e4fc3[_0x1be604(0x157)]((_0x299550,_0x50f60c)=>{_0x46ade7[_0x50f60c]=[];}),Object[_0x1be604(0x9c3)](_0x185e1e[_0x1be604(0xdd9)]||{})['forEach'](([_0x891d74,_0x16b4e4])=>{const _0x4d9781=_0x1be604;if(_0x16b4e4[_0x4d9781(0x33a)]===_0x4d9781(0x4f9)&&_0x16b4e4[_0x4d9781(0x4e0)]!==undefined){const _0x3f996d=_0x16b4e4[_0x4d9781(0x4e0)];_0x46ade7[_0x3f996d]&&(_0x46ade7[_0x3f996d]['push'](_0x891d74),_0x207627[_0x3f996d]++);}});const _0xaccb94=Math['max'](..._0x207627,0x1),_0x2e403d=_0x1be604(0x224)+(_0x514438['stem']||_0x514438[_0x1be604(0xb3b)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x207627[_0x1be604(0xad5)]((_0x166f1f,_0x39cd42)=>{const _0x205899=_0x1be604,_0x53997b=_0x46ade7[_0x39cd42]['length']>0x0?_0x46ade7[_0x39cd42][_0x205899(0x222)](',\x20'):_0x205899(0xaf3);let _0x320d78=![];if(_0xa01c7f==='multiple_choice')_0x320d78=_0x39cd42===_0x514438[_0x205899(0x662)];else{if(_0xa01c7f===_0x205899(0xab0)){const _0x1ecf6d=_0x514438[_0x205899(0xaf4)];_0x320d78=_0x1ecf6d&&_0x39cd42===0x0||!_0x1ecf6d&&_0x39cd42===0x1;}else _0xa01c7f===_0x205899(0x632)&&(_0x320d78=_0x1e4fc3[_0x39cd42]===_0x514438[_0x205899(0x993)]);}const _0xcb04ea=_0x320d78?_0x205899(0x998):_0x205899(0x832);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x166f1f+_0x205899(0x182)+_0xcb04ea+_0x205899(0xdd0)+_0x39cd42+_0x205899(0x976)+_0x1e4fc3[_0x39cd42]+_0x205899(0xb3e)+_0x39cd42+_0x205899(0x94e)+_0x53997b+_0x205899(0xb47);})[_0x1be604(0x222)]('')+_0x1be604(0x91a);liveGameView[_0x1be604(0x5f4)]=_0x2e403d;if(window[_0x1be604(0x563)])MathJax[_0x1be604(0xd16)]();document['getElementById'](_0x1be604(0x386))['addEventListener'](_0x1be604(0x8b2),async()=>{const _0x305dfe=_0x1be604,_0x51a209=doc(db,_0x305dfe(0xa76)+appId+_0x305dfe(0x56a),currentLiveGameId);await updateDoc(_0x51a209,{'questionStatus':'leaderboard'});}),document['getElementById'](_0x1be604(0x318))['addEventListener'](_0x1be604(0x8b2),()=>{openScratchpad(_0x514438,_0x1e4fc3);});}function showPlayerSummaryView(_0x3bc4e0,_0x3444ae){const _0xa10212=_0x448927,_0x3581ae=Object[_0xa10212(0x56e)](_0x3bc4e0[_0xa10212(0xdd9)]||{}),_0x1bcf80=_0x3bc4e0[_0xa10212(0xdd9)][_0x3444ae],_0x296650=_0x3581ae[_0xa10212(0x955)](_0x39eaf0=>_0x39eaf0[_0xa10212(0x33a)]==='active')[_0xa10212(0x872)]((_0x79f45f,_0x3bc260)=>_0x3bc260[_0xa10212(0x87c)]-_0x79f45f[_0xa10212(0x87c)]),_0x2dce17=_0x296650[_0xa10212(0xa57)](_0x1a8bb3=>_0x1a8bb3===_0x1bcf80)+0x1,_0x5bad72=_0x1bcf80['lastAnswerCorrect']?_0xa10212(0x3e3):_0xa10212(0xb9d),_0x47b7eb=_0x1bcf80[_0xa10212(0x23a)]?'bg-green-500':'bg-red-500',_0x589b72=_0x1bcf80[_0xa10212(0x623)]||0x0,_0x19e242=_0xa10212(0xa47),_0x4dae03='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x19e242+_0xa10212(0x53a)+_0x47b7eb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x5bad72+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x589b72+_0xa10212(0xc48)+(_0x2dce17>0x0?_0x2dce17:'-')+_0xa10212(0x7a8);liveGameView[_0xa10212(0x5f4)]=_0x4dae03;}function createQuizFromBank(){const _0x415c90=_0x448927,_0x89ca70=document[_0x415c90(0xccb)](_0x415c90(0x437));if(_0x89ca70['length']===0x0){showMessage(_0x415c90(0xb63));return;}const _0x3b36be=[];_0x89ca70[_0x415c90(0x157)](_0x5c4b8c=>{const _0xe28978=_0x415c90;_0x3b36be[_0xe28978(0x626)](JSON[_0xe28978(0x510)](_0x5c4b8c['value']));});const _0x4a50b8={'topic':_0x415c90(0x985),'questions':_0x3b36be};displayGeneratedQuiz(_0x4a50b8);}function showAdminLobbyView(_0x4cfa89,_0x65001f){const _0x27e091=_0x448927;showView('live-game');const _0x3dbbc2=_0x27e091(0x9ca)+_0x65001f+_0x27e091(0x7fc)+_0x4cfa89+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x27e091(0x5f4)]=_0x3dbbc2,document[_0x27e091(0xb18)]('start-game-btn')[_0x27e091(0xcc)]('click',async()=>{const _0x30c1d0=_0x27e091;if(!currentQuizData||!currentQuizData[_0x30c1d0(0x677)]||currentQuizData[_0x30c1d0(0x677)][_0x30c1d0(0xab1)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x2fce71=doc(db,_0x30c1d0(0xa76)+appId+_0x30c1d0(0x56a),currentLiveGameId);await updateDoc(_0x2fce71,{'status':_0x30c1d0(0x339),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1b1408=currentQuizData[_0x30c1d0(0x677)][0x0],_0x1639ac=currentQuizData['questions'][_0x30c1d0(0xab1)];showAdminLiveQuestionView(_0x1b1408,0x0,_0x1639ac);}catch(_0x4cb98b){console[_0x30c1d0(0x17d)](_0x30c1d0(0x1bb),_0x4cb98b),showMessage(_0x30c1d0(0xa43));}});}async function openQuizBankModal(){const _0x4391e5=_0x448927;if(allQuizzesGlobal[_0x4391e5(0xab1)]===0x0){const _0x4ebf43=await getDocs(collection(db,'artifacts/'+appId+_0x4391e5(0xc34)));allQuizzesGlobal=_0x4ebf43[_0x4391e5(0x18c)][_0x4391e5(0xad5)](_0xf79000=>({'id':_0xf79000['id'],..._0xf79000['data']()}));}renderQuizBankList(''),document[_0x4391e5(0xb18)](_0x4391e5(0xc1c))['classList'][_0x4391e5(0xa1f)]('hidden');}function renderQuizBankList(_0x4fd946='',_0x53b455=![]){const _0x5a2953=_0x448927,_0x354874=document[_0x5a2953(0xb18)]('bank-quiz-list'),_0x200a45=_0x4fd946['toLowerCase']()[_0x5a2953(0xb5b)](),_0xc03702=allQuizzesGlobal['map'](_0x3e3ce2=>({..._0x3e3ce2,'projectName':allProjects[_0x5a2953(0x8c0)](_0x3b5af1=>_0x3b5af1['id']===_0x3e3ce2['projectId'])?.['projectName']||_0x5a2953(0x794)}))['filter'](_0x3b3bdd=>(_0x3b3bdd[_0x5a2953(0xda1)]||'')[_0x5a2953(0x123)]()[_0x5a2953(0x2e7)](_0x200a45)||(_0x3b3bdd[_0x5a2953(0xa8f)]||'')[_0x5a2953(0x123)]()[_0x5a2953(0x2e7)](_0x200a45)||_0x3b3bdd['id']['toString']()['includes'](_0x200a45));document['getElementById'](_0x5a2953(0xb20))[_0x5a2953(0x633)]='('+_0xc03702[_0x5a2953(0xab1)]+'\x20ชุด)',_0x354874[_0x5a2953(0x5f4)]=_0xc03702[_0x5a2953(0xab1)]?_0xc03702[_0x5a2953(0xad5)](_0x4c1257=>{const _0x293e19=_0x5a2953,_0x3cabb6=!_0x53b455?_0x293e19(0x842)+_0x4c1257['id']+_0x293e19(0x496)+_0x4c1257['id']+_0x293e19(0xc02)+_0x4c1257['id']+_0x293e19(0x124)+_0x4c1257['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4c1257['id']+_0x293e19(0x2e9)+_0x4c1257['id']+_0x293e19(0xbfd)+_0x4c1257[_0x293e19(0xda1)]+_0x293e19(0x600):'';return _0x293e19(0x86b)+_0x4c1257['id']+_0x293e19(0x27f)+(_0x4c1257[_0x293e19(0xda1)]||_0x293e19(0x1ec))+_0x293e19(0x7d9)+(_0x4c1257[_0x293e19(0x677)]?.[_0x293e19(0xab1)]||0x0)+_0x293e19(0x2c7)+_0x4c1257[_0x293e19(0xa8f)]+_0x293e19(0x229)+_0x4c1257['id']+_0x293e19(0xb6f)+_0x3cabb6+_0x293e19(0x96c);})['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x53b455&&(_0x354874['querySelectorAll'](_0x5a2953(0x8fe))[_0x5a2953(0x157)](_0x4fc678=>{const _0x24cd2c=_0x5a2953;_0x4fc678[_0x24cd2c(0xcc)](_0x24cd2c(0x8b2),()=>{const _0x6cb472=_0x24cd2c,_0xfe35cc=_0x4fc678[_0x6cb472(0xcd1)]['id'];document['getElementById']('quiz-bank-modal')[_0x6cb472(0x82f)][_0x6cb472(0x24b)](_0x6cb472(0x5a9)),showQuizDetailView(_0xfe35cc);});}),_0x354874[_0x5a2953(0xccb)]('.quiz-bank-try-btn')['forEach'](_0x397df0=>{const _0x55f9b9=_0x5a2953;_0x397df0[_0x55f9b9(0xcc)](_0x55f9b9(0x8b2),_0x41a9b0=>{const _0x5869ce=_0x55f9b9;_0x41a9b0['stopPropagation']();const _0x57baae=_0x397df0[_0x5869ce(0xcd1)]['id'],_0x317593=allQuizzesGlobal[_0x5869ce(0x8c0)](_0x5cc0d6=>_0x5cc0d6['id']===_0x57baae);_0x317593?(currentQuizData=_0x317593,document[_0x5869ce(0xb18)](_0x5869ce(0xc1c))[_0x5869ce(0x82f)][_0x5869ce(0x24b)](_0x5869ce(0x5a9)),startAdminTest()):showMessage(_0x5869ce(0xc44));});}),_0x354874[_0x5a2953(0xccb)](_0x5a2953(0x3ec))[_0x5a2953(0x157)](_0xe10c3b=>{const _0x12cd62=_0x5a2953;_0xe10c3b[_0x12cd62(0xcc)]('click',_0x1c6b9c=>{const _0x10260d=_0x12cd62;_0x1c6b9c[_0x10260d(0x272)]();const _0x13716d=_0xe10c3b['dataset']['id'],_0x43856c=allQuizzesGlobal[_0x10260d(0x8c0)](_0x294e93=>_0x294e93['id']===_0x13716d);_0x43856c?(document[_0x10260d(0xb18)](_0x10260d(0xc1c))[_0x10260d(0x82f)][_0x10260d(0x24b)](_0x10260d(0x5a9)),handleGenerateParallelFromBank(_0x43856c)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x354874[_0x5a2953(0xccb)](_0x5a2953(0xd0f))[_0x5a2953(0x157)](_0x2c4068=>{const _0x464233=_0x5a2953;_0x2c4068[_0x464233(0xcc)](_0x464233(0x8b2),_0x533c15=>{const _0x2c6f53=_0x464233;_0x533c15[_0x2c6f53(0x272)]();const _0x1dad4d=_0x2c4068[_0x2c6f53(0xcd1)]['id'],_0x34e6ba=allQuizzesGlobal['find'](_0x21e3f3=>_0x21e3f3['id']===_0x1dad4d);_0x34e6ba?(document[_0x2c6f53(0xb18)](_0x2c6f53(0xc1c))[_0x2c6f53(0x82f)]['add'](_0x2c6f53(0x5a9)),startPresentation(_0x34e6ba)):showMessage(_0x2c6f53(0xc44));});}),_0x354874['querySelectorAll'](_0x5a2953(0xcf4))[_0x5a2953(0x157)](_0x1b85f0=>{const _0x3dcaba=_0x5a2953;_0x1b85f0['addEventListener'](_0x3dcaba(0x8b2),_0x6d29=>{const _0x56b417=_0x3dcaba;_0x6d29[_0x56b417(0x272)]();const _0x465542=_0x1b85f0['dataset']['id'];document['getElementById'](_0x56b417(0xc1c))['classList'][_0x56b417(0x24b)](_0x56b417(0x5a9)),handleMoveQuiz(_0x465542);});}),_0x354874[_0x5a2953(0xccb)]('.quiz-bank-settings-btn')[_0x5a2953(0x157)](_0x15bd3c=>{const _0x479521=_0x5a2953;_0x15bd3c[_0x479521(0xcc)](_0x479521(0x8b2),_0x5a04e6=>{const _0x5a2415=_0x479521;_0x5a04e6[_0x5a2415(0x272)]();const _0x29dc33=_0x15bd3c[_0x5a2415(0xcd1)]['id'];document[_0x5a2415(0xb18)](_0x5a2415(0xc1c))['classList']['add']('hidden'),handleQuizSettings(_0x29dc33);});}),_0x354874[_0x5a2953(0xccb)](_0x5a2953(0x2d6))[_0x5a2953(0x157)](_0x51e9c6=>{const _0x2f1389=_0x5a2953;_0x51e9c6[_0x2f1389(0xcc)]('click',_0x432429=>{const _0x341383=_0x2f1389;_0x432429[_0x341383(0x272)]();const _0x4c40fe=_0x51e9c6[_0x341383(0xcd1)]['id'],_0x47d4ad=_0x51e9c6[_0x341383(0xcd1)][_0x341383(0xda1)];showConfirmation(_0x341383(0xa68)+_0x47d4ad+_0x341383(0x419),()=>handleDeleteQuiz(_0x4c40fe));});}));}async function handleCompareResults(_0x3c8f9d,_0x28b03d){const _0x2007f1=_0x448927,_0x313750=document[_0x2007f1(0xb18)](_0x2007f1(0x68e)),_0xf668b6=document[_0x2007f1(0xb18)](_0x2007f1(0xdf6)),_0x5b19fa=document['getElementById'](_0x2007f1(0x62c));document[_0x2007f1(0xb18)](_0x2007f1(0x454))[_0x2007f1(0x82f)][_0x2007f1(0x24b)](_0x2007f1(0x4f9)),document['getElementById']('comparison-individual-tab')['classList']['remove']('active'),_0xf668b6['classList'][_0x2007f1(0xa1f)](_0x2007f1(0x5a9)),_0x5b19fa['classList']['add']('hidden'),_0xf668b6[_0x2007f1(0x5f4)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x5b19fa[_0x2007f1(0x5f4)]='',_0x313750[_0x2007f1(0x82f)][_0x2007f1(0xa1f)](_0x2007f1(0x5a9));try{const _0x28da67=doc(db,_0x2007f1(0xa76)+appId+_0x2007f1(0xc34),_0x3c8f9d),_0x8f5f0d=await getDoc(_0x28da67);if(!_0x8f5f0d['exists']())throw new Error(_0x2007f1(0x17e));const _0x34e941=_0x8f5f0d[_0x2007f1(0xa8e)](),_0x427904=_0x34e941['questions']['length'],_0x24ca33=collection(db,_0x2007f1(0xa76)+appId+_0x2007f1(0xb87)+_0x28b03d+_0x2007f1(0xd90)),_0x569b43=collection(db,'artifacts/'+appId+_0x2007f1(0xb87)+_0x3c8f9d+_0x2007f1(0xd90)),[_0x264af6,_0x3150a3]=await Promise[_0x2007f1(0xd05)]([getDocs(_0x24ca33),getDocs(_0x569b43)]),_0x58f363=_0x264af6[_0x2007f1(0x18c)][_0x2007f1(0xad5)](_0xe89732=>_0xe89732[_0x2007f1(0xa8e)]()),_0x4146b7=_0x3150a3['docs'][_0x2007f1(0xad5)](_0x13afe5=>_0x13afe5[_0x2007f1(0xa8e)]()),_0x161c19=_0x58f363['map'](_0x275d89=>_0x275d89['latestScore']),_0xd039eb=_0x4146b7[_0x2007f1(0xad5)](_0x4dfe60=>_0x4dfe60['latestScore']),_0xd58dac=calculateMeanAndStdDev(_0x161c19),_0x1a5aae=calculateMeanAndStdDev(_0xd039eb),_0x24ad0e=_0xd58dac[_0x2007f1(0x450)],_0x4f2b54=_0x1a5aae[_0x2007f1(0x450)],_0x368103=_0x4f2b54-_0x24ad0e;let _0x3bcd0b=_0x2007f1(0xe12)+_0x24ad0e[_0x2007f1(0xca2)](0x2)+_0x2007f1(0x1f1)+_0x4f2b54[_0x2007f1(0xca2)](0x2)+_0x2007f1(0x189)+(_0x368103>=0x0?_0x2007f1(0xdad):_0x2007f1(0x8d5))+_0x2007f1(0x28a)+(_0x368103>=0x0?_0x2007f1(0x2d5):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x368103>=0x0?'text-emerald-900':_0x2007f1(0xdfa))+'\x22>'+(_0x368103>=0x0?'+':'')+_0x368103[_0x2007f1(0xca2)](0x2)+_0x2007f1(0x904);_0xf668b6['innerHTML']=_0x3bcd0b;const _0x14212e=document[_0x2007f1(0xb18)](_0x2007f1(0x73b))[_0x2007f1(0x7d0)]('2d');if(chartInstances[_0x2007f1(0xe43)])chartInstances[_0x2007f1(0xe43)][_0x2007f1(0x8a5)]();chartInstances[_0x2007f1(0xe43)]=new Chart(_0x14212e,{'type':_0x2007f1(0xbab),'data':{'labels':[_0x2007f1(0x2b0)],'datasets':[{'label':_0x2007f1(0xb86),'data':[_0x24ad0e],'backgroundColor':_0x2007f1(0x5a5)},{'label':_0x2007f1(0xa07),'data':[_0x4f2b54],'backgroundColor':_0x2007f1(0x694)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x427904}}}});const _0x2a6849=currentProjectData[_0x2007f1(0x115)]||[],_0x1f8685=_0x2a6849[_0x2007f1(0xad5)](_0x251c14=>{const _0x3bbb07=_0x2007f1,_0x549118=_0x58f363['find'](_0x53dafe=>_0x53dafe[_0x3bbb07(0x652)]===_0x251c14),_0x5c4c92=_0x4146b7[_0x3bbb07(0x8c0)](_0x483777=>_0x483777[_0x3bbb07(0x652)]===_0x251c14),_0x275c98=_0x549118?_0x549118[_0x3bbb07(0xc62)]:null,_0x35ea6c=_0x5c4c92?_0x5c4c92['latestScore']:null,_0xd39ea9=_0x275c98!==null&&_0x35ea6c!==null?_0x35ea6c-_0x275c98:null,_0x15ac82=_0x275c98!==null?calculateZScore(_0x275c98,_0xd58dac[_0x3bbb07(0x450)],_0xd58dac['stdDev']):null,_0x2ad341=_0x35ea6c!==null?calculateZScore(_0x35ea6c,_0x1a5aae['mean'],_0x1a5aae['stdDev']):null,_0x251089=_0x15ac82!==null?calculateTScore(_0x15ac82):null,_0x2007b4=_0x2ad341!==null?calculateTScore(_0x2ad341):null,_0x388ace=_0x251089!==null&&_0x2007b4!==null?_0x2007b4-_0x251089:null;return{'name':_0x251c14,'preScore':_0x275c98,'postScore':_0x35ea6c,'gain':_0xd39ea9,'preTScore':_0x251089,'postTScore':_0x2007b4,'tGain':_0x388ace};});renderIndividualComparisonTable(_0x1f8685,_0x5b19fa);}catch(_0x2045d7){console['error'](_0x2007f1(0x98d),_0x2045d7),_0xf668b6[_0x2007f1(0x5f4)]=_0x2007f1(0x502);}}async function saveBlueprintProject(){const _0x1443cf=_0x448927;if(!extractedBlueprintData||!extractedBlueprintData[_0x1443cf(0x1d6)]){showMessage(_0x1443cf(0xe6));return;}const _0x39f9ef=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Blueprint\x20O-NET\x20ป.6');if(!_0x39f9ef||_0x39f9ef[_0x1443cf(0xb5b)]()==='')return;const _0x5d6c3f={};extractedBlueprintData[_0x1443cf(0x1d6)]['forEach'](_0x4716b0=>{const _0x215933=_0x1443cf;_0x4716b0[_0x215933(0x447)][_0x215933(0x157)](_0x4fdfe2=>{const _0x507a86=_0x215933;_0x4fdfe2['subTopics'][_0x507a86(0x157)](_0x2f25dd=>{const _0x54de8f=_0x507a86,_0x2d7bee=_0x54de8f(0xcca)+Date[_0x54de8f(0xd02)]()+Math[_0x54de8f(0x63c)]()['toString'](0x24)['substr'](0x2,0x9);_0x5d6c3f[_0x2d7bee]={'sara':_0x4716b0[_0x54de8f(0x4e1)],'mainTopic':_0x4fdfe2[_0x54de8f(0xabe)],'subTopic':_0x2f25dd,'status':'not_generated','lessonContent':null};});});});try{const _0x50a1ad=collection(db,_0x1443cf(0xa76)+appId+_0x1443cf(0x5e3));await addDoc(_0x50a1ad,{'projectName':_0x39f9ef['trim'](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x5d6c3f,'createdAt':serverTimestamp()}),showMessage(_0x1443cf(0xd6d)+_0x39f9ef[_0x1443cf(0xb5b)]()+'\x22\x20สำเร็จ!'),document[_0x1443cf(0xb18)](_0x1443cf(0x413))['classList'][_0x1443cf(0x24b)](_0x1443cf(0x5a9));}catch(_0x391189){console['error'](_0x1443cf(0xa80),_0x391189),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x41a3d2=_0x448927,_0x4300d7=document['getElementById']('blueprint-projects-modal'),_0x2d6c1d=document['getElementById'](_0x41a3d2(0x219));_0x2d6c1d[_0x41a3d2(0x5f4)]=_0x41a3d2(0x587),_0x4300d7['classList']['remove'](_0x41a3d2(0x5a9));try{const _0x240208=collection(db,_0x41a3d2(0xa76)+appId+'/public/data/blueprintProjects'),_0xd0eea9=await getDocs(_0x240208);if(_0xd0eea9['empty']){_0x2d6c1d[_0x41a3d2(0x5f4)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x472fff=_0xd0eea9['docs'][_0x41a3d2(0xad5)](_0x591f57=>({'id':_0x591f57['id'],..._0x591f57[_0x41a3d2(0xa8e)]()}));_0x472fff[_0x41a3d2(0x872)]((_0x34fdf6,_0x116b48)=>_0x34fdf6[_0x41a3d2(0xa8f)][_0x41a3d2(0x649)](_0x116b48['projectName'],'th')),_0x2d6c1d['innerHTML']=_0x472fff[_0x41a3d2(0xad5)](_0x5300e0=>_0x41a3d2(0x961)+_0x5300e0['projectName']+_0x41a3d2(0xa24)+_0x5300e0[_0x41a3d2(0xe8)]+_0x41a3d2(0x532)+Object['keys'](_0x5300e0[_0x41a3d2(0x5e2)])[_0x41a3d2(0xab1)]+_0x41a3d2(0xd1f)+_0x5300e0['id']+_0x41a3d2(0x593)+_0x5300e0['id']+_0x41a3d2(0xd66))['join']('');}catch(_0x2b7fe9){console[_0x41a3d2(0x17d)](_0x41a3d2(0x41d),_0x2b7fe9),_0x2d6c1d['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0xd32018){const _0x5480e9=_0x448927;currentBlueprintProjectId=_0xd32018,document['getElementById'](_0x5480e9(0x402))[_0x5480e9(0x82f)]['add'](_0x5480e9(0x5a9)),showView('admin-dashboard'),projectDashboardView[_0x5480e9(0x82f)][_0x5480e9(0x24b)](_0x5480e9(0x5a9));const _0x1612c3=document['getElementById']('blueprint-project-manager-view');_0x1612c3[_0x5480e9(0x82f)][_0x5480e9(0xa1f)](_0x5480e9(0x5a9)),document[_0x5480e9(0xb18)](_0x5480e9(0x8eb))[_0x5480e9(0x5f4)]=_0x5480e9(0x34b);try{const _0x551714=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0xd32018),_0x4754b6=await getDoc(_0x551714);if(!_0x4754b6[_0x5480e9(0x14d)]())throw new Error(_0x5480e9(0xd73));const _0x4d57dd={'id':_0x4754b6['id'],..._0x4754b6['data']()};document['getElementById'](_0x5480e9(0x6f1))[_0x5480e9(0x633)]=_0x4d57dd[_0x5480e9(0xa8f)],document['getElementById'](_0x5480e9(0x192))[_0x5480e9(0x52d)]=_0x4d57dd['referenceFileUrl']||'',renderBlueprintTopicManager(_0x4d57dd);}catch(_0x55aa8b){console[_0x5480e9(0x17d)](_0x5480e9(0x32e),_0x55aa8b),showMessage(_0x55aa8b[_0x5480e9(0x550)]),showView(_0x5480e9(0xabc));}}function renderBlueprintTopicManager(_0x247024){const _0x26a261=_0x448927,_0x32cc2f=document['getElementById']('bp-topic-list-container'),_0x1668ba=_0x247024[_0x26a261(0x5e2)]||{};if(Object['keys'](_0x1668ba)[_0x26a261(0xab1)]===0x0){_0x32cc2f[_0x26a261(0x5f4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x22443e=Object['entries'](_0x1668ba)[_0x26a261(0xad5)](([_0x32ffb2,_0x39aab1])=>({'id':_0x32ffb2,..._0x39aab1}))[_0x26a261(0x872)]((_0x40085f,_0x20fc01)=>(_0x40085f[_0x26a261(0xe07)]??Infinity)-(_0x20fc01['order']??Infinity)),_0x198a3f={};_0x22443e['forEach'](_0x176128=>{const _0x1edb80=_0x26a261,{sara:_0x1a4550,mainTopic:_0x350b71}=_0x176128;!_0x198a3f[_0x1a4550]&&(_0x198a3f[_0x1a4550]={}),!_0x198a3f[_0x1a4550][_0x350b71]&&(_0x198a3f[_0x1a4550][_0x350b71]=[]),_0x198a3f[_0x1a4550][_0x350b71][_0x1edb80(0x626)](_0x176128);});let _0x9463ea='';for(const _0x5518f4 in _0x198a3f){_0x9463ea+=_0x26a261(0x8b9)+_0x5518f4+_0x26a261(0x48c);for(const _0x2a9ee9 in _0x198a3f[_0x5518f4]){_0x9463ea+=_0x26a261(0x10c)+_0x2a9ee9+_0x26a261(0x9dd),_0x198a3f[_0x5518f4][_0x2a9ee9][_0x26a261(0x157)](_0x8f9cc3=>{const _0x44465b=_0x26a261,_0x3b0ca8=_0x8f9cc3['id'],_0x6b91c4=_0x8f9cc3[_0x44465b(0x913)]||[],_0xb6576d=_0x6b91c4['length']>0x0,_0x425621=_0x8f9cc3[_0x44465b(0x33a)]===_0x44465b(0x62d);let _0x2cfdf5='';_0xb6576d?_0x2cfdf5='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x6b91c4[_0x44465b(0xab1)]+_0x44465b(0xde9):_0x2cfdf5=_0x44465b(0x863)+(_0x425621?_0x44465b(0x248):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x425621?'สร้างแล้ว':'ยังไม่สร้าง')+'</span>';const _0xc1701b=!_0x425621?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x3195e9=!_0x425621?_0x44465b(0x8bd):'';let _0x4e7e3c=_0x425621?_0x44465b(0x58a):_0x44465b(0x452);_0x9463ea+=_0x44465b(0x7d5)+_0x3b0ca8+_0x44465b(0x643)+_0x8f9cc3[_0x44465b(0x64e)]+_0x44465b(0x2e6)+_0x2cfdf5+_0x44465b(0xb75)+_0xc1701b+_0x44465b(0x234)+_0x3195e9+_0x44465b(0x461)+_0x4e7e3c+_0x44465b(0x62b);}),_0x9463ea+=_0x26a261(0xbc0);}_0x9463ea+=_0x26a261(0x2b1);}_0x32cc2f[_0x26a261(0x5f4)]=_0x9463ea;}async function handleDeepDeleteBlueprintProject(_0x340b6b){const _0x314b01=_0x448927,_0x44c407=doc(db,_0x314b01(0xa76)+appId+_0x314b01(0x5e3),_0x340b6b),_0x2ab460=await getDoc(_0x44c407);if(!_0x2ab460['exists']()){showMessage(_0x314b01(0x6b0));return;}const _0x3b24aa=_0x2ab460[_0x314b01(0xa8e)]()['projectName'];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x3b24aa+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x571efd=_0x314b01;showMessage(_0x571efd(0x95f));try{const _0x20fd39=writeBatch(db),_0xc24dc5=_0x2ab460['data'](),_0x4be5ff=_0xc24dc5[_0x571efd(0x5e2)]||{};for(const _0x498693 in _0x4be5ff){const _0x2e67c2=doc(db,_0x571efd(0xa76)+appId+'/public/data/blueprintProjects/'+_0x340b6b+_0x571efd(0xe3f),_0x498693);_0x20fd39[_0x571efd(0x2ec)](_0x2e67c2);}const _0x2cb93c=new Set();for(const _0x13dcfd in _0x4be5ff){_0x4be5ff[_0x13dcfd][_0x571efd(0x913)]&&_0x4be5ff[_0x13dcfd][_0x571efd(0x913)]['forEach'](_0x5d00bb=>_0x2cb93c[_0x571efd(0x24b)](_0x5d00bb));}for(const _0x5b90d4 of _0x2cb93c){await handleDeleteQuiz(_0x5b90d4,![]);}_0x20fd39['delete'](_0x44c407),await _0x20fd39[_0x571efd(0x979)](),showMessage(_0x571efd(0xcb5)+_0x3b24aa+_0x571efd(0xd3b)),showBlueprintProjects();}catch(_0x157557){console['error'](_0x571efd(0xa50),_0x157557),showMessage(_0x571efd(0x6b8));}});}async function openTopicQuizBank(_0x22e761){const _0x117143=_0x448927,_0x4dd455=document[_0x117143(0xb18)](_0x117143(0x1d1)),_0x5e639b=document[_0x117143(0xb18)](_0x117143(0x803)),_0x4a3c5f=document[_0x117143(0xb18)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0xa2ed51=doc(db,'artifacts/'+appId+_0x117143(0x5e3),currentBlueprintProjectId),_0x30d890=await getDoc(_0xa2ed51);if(!_0x30d890[_0x117143(0x14d)]())return;const _0x46c2ea=_0x30d890['data'](),_0x197e3f=_0x46c2ea[_0x117143(0x5e2)][_0x22e761];document['getElementById'](_0x117143(0x7f5))['textContent']=_0x197e3f[_0x117143(0x64e)];const _0x297c57=_0x197e3f[_0x117143(0x913)]||[];_0x4a3c5f[_0x117143(0x82f)]['toggle'](_0x117143(0x5a9),_0x297c57[_0x117143(0xab1)]===0x0),_0x4a3c5f[_0x117143(0xb4f)]=()=>handleClearAllLinksForTopic(_0x22e761);if(_0x297c57[_0x117143(0xab1)]===0x0)_0x5e639b[_0x117143(0x5f4)]=_0x117143(0xaf2);else{const _0x39402c=allQuizzesGlobal[_0x117143(0x955)](_0x1783b0=>_0x297c57['includes'](_0x1783b0['id']));_0x5e639b[_0x117143(0x5f4)]=_0x39402c[_0x117143(0xad5)](_0x4324f5=>_0x117143(0x6e3)+_0x4324f5['id']+_0x117143(0xa4c)+_0x4324f5[_0x117143(0xda1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x4324f5['id']+_0x117143(0x532)+_0x4324f5['questions'][_0x117143(0xab1)]+_0x117143(0x77d)+_0x4324f5['id']+_0x117143(0x492)+_0x4324f5['id']+_0x117143(0xb7b)+_0x4324f5['id']+_0x117143(0x22d)+_0x4324f5['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22'+_0x22e761+_0x117143(0xad6)+_0x4324f5['id']+_0x117143(0x70c))['join']('');}document[_0x117143(0xb18)](_0x117143(0x9fc))[_0x117143(0xb4f)]=()=>{openQuizSelectorForBlueprint(_0x22e761);},document[_0x117143(0xb18)](_0x117143(0xc05))['onclick']=()=>_0x4dd455[_0x117143(0x82f)]['add'](_0x117143(0x5a9)),_0x4dd455['classList'][_0x117143(0xa1f)]('hidden');}catch(_0x2d673d){showMessage(_0x2d673d[_0x117143(0x550)]);}}async function openQuizSelectorForBlueprint(_0x22893a){const _0x37cb63=_0x448927,_0x157c88=document[_0x37cb63(0xb18)](_0x37cb63(0xc1c)),_0x46718e=document[_0x37cb63(0xb18)](_0x37cb63(0x1d1));_0x46718e['classList'][_0x37cb63(0x24b)](_0x37cb63(0x5a9)),document[_0x37cb63(0xb18)]('confirm-link-quiz-btn')?.[_0x37cb63(0xa1f)]();const _0x4ca8d1=document[_0x37cb63(0x4f0)]('button');_0x4ca8d1['id']=_0x37cb63(0x79b),_0x4ca8d1['className']=_0x37cb63(0x11f),_0x4ca8d1[_0x37cb63(0x633)]=_0x37cb63(0x939),_0x4ca8d1[_0x37cb63(0x64b)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x157c88[_0x37cb63(0x82f)][_0x37cb63(0xa1f)](_0x37cb63(0x5a9)),renderQuizBankListForMultiSelect(''),document[_0x37cb63(0xb18)]('bulk-quiz-settings-btn')[_0x37cb63(0xbaf)][_0x37cb63(0x738)]=_0x37cb63(0x43f),_0x157c88[_0x37cb63(0x877)](_0x37cb63(0xe0f))[_0x37cb63(0x220)](_0x4ca8d1);const _0x4275ff=(_0x12d583=![])=>{const _0x1727a4=_0x37cb63;_0x157c88['classList'][_0x1727a4(0x24b)](_0x1727a4(0x5a9)),document[_0x1727a4(0xb18)](_0x1727a4(0xe08))[_0x1727a4(0xbaf)]['display']=_0x1727a4(0xca),_0x4ca8d1[_0x1727a4(0xa1f)](),_0x12d583&&openTopicQuizBank(_0x22893a);};_0x4ca8d1[_0x37cb63(0xb4f)]=async()=>{const _0x3073a7=_0x37cb63,_0x586536=Array[_0x3073a7(0x2ce)](document[_0x3073a7(0xccb)]('.quiz-bank-checkbox:checked'))[_0x3073a7(0xad5)](_0x21b7fe=>_0x21b7fe[_0x3073a7(0x52d)]);if(_0x586536[_0x3073a7(0xab1)]===0x0)return;try{const _0x53f637=doc(db,_0x3073a7(0xa76)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0xd8548e=(await getDoc(_0x53f637))[_0x3073a7(0xa8e)](),_0x365ed4=_0xd8548e['topics'][_0x22893a]['linkedQuizIds']||[],_0x4b145b=[...new Set([..._0x365ed4,..._0x586536])];await updateDoc(_0x53f637,{[_0x3073a7(0x916)+_0x22893a+_0x3073a7(0x38e)]:_0x4b145b}),showMessage(_0x3073a7(0x209)+_0x586536[_0x3073a7(0xab1)]+_0x3073a7(0xca8)),_0x4275ff(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x56fabc){console[_0x3073a7(0x17d)](_0x3073a7(0xa99),_0x56fabc);}},document[_0x37cb63(0xb18)](_0x37cb63(0xb16))[_0x37cb63(0xb4f)]=()=>_0x4275ff(!![]);}catch(_0x48853f){showMessage(_0x48853f[_0x37cb63(0x550)]),_0x46718e[_0x37cb63(0x82f)][_0x37cb63(0xa1f)](_0x37cb63(0x5a9));}}function handleClearLinkedQuiz(_0x10b421){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x19c161=_0x2e12;try{const _0x1451d8=doc(db,'artifacts/'+appId+_0x19c161(0x5e3),currentBlueprintProjectId);await updateDoc(_0x1451d8,{[_0x19c161(0x916)+_0x10b421+_0x19c161(0x9c7)]:deleteField()}),showMessage(_0x19c161(0x9b0)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2446ba){console[_0x19c161(0x17d)](_0x19c161(0xa8b),_0x2446ba),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x81d504=_0x448927,_0x2629dd=prompt(_0x81d504(0x7dd));if(!_0x2629dd||_0x2629dd[_0x81d504(0xb5b)]()==='')return;const _0x5b6999=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x81d504(0x9d5)),_0x41706a=prompt(_0x81d504(0xd2e),'หัวข้อหลักใหม่'),_0x27095d=_0x81d504(0xcca)+Date[_0x81d504(0xd02)]()+Math[_0x81d504(0x63c)]()[_0x81d504(0x377)](0x24)[_0x81d504(0xbb)](0x2,0x9),_0x330b83={'sara':_0x5b6999,'mainTopic':_0x41706a,'subTopic':_0x2629dd[_0x81d504(0xb5b)](),'status':_0x81d504(0x714),'lessonContent':null};try{const _0x209c0b=doc(db,_0x81d504(0xa76)+appId+_0x81d504(0x5e3),currentBlueprintProjectId);await updateDoc(_0x209c0b,{[_0x81d504(0x916)+_0x27095d]:_0x330b83}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x258d01){console[_0x81d504(0x17d)](_0x81d504(0xbcc),_0x258d01),showMessage(_0x81d504(0x7d7));}}async function editTopicInProject(_0x153c8b){const _0x3ad183=_0x448927,_0x276ef1=document[_0x3ad183(0x877)]('[data-topic-id=\x22'+_0x153c8b+'\x22]'),_0x192292=_0x276ef1[_0x3ad183(0x877)](_0x3ad183(0x13f)),_0x30d484=_0x192292[_0x3ad183(0x633)],_0x33dd9d=prompt(_0x3ad183(0x139),_0x30d484);if(!_0x33dd9d||_0x33dd9d[_0x3ad183(0xb5b)]()===''||_0x33dd9d['trim']()===_0x30d484)return;try{const _0x1471a4=doc(db,_0x3ad183(0xa76)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1471a4,{[_0x3ad183(0x916)+_0x153c8b+_0x3ad183(0x29b)]:_0x33dd9d[_0x3ad183(0xb5b)]()}),_0x192292[_0x3ad183(0x633)]=_0x33dd9d['trim'](),showMessage(_0x3ad183(0xc42));}catch(_0xf69a1c){console[_0x3ad183(0x17d)](_0x3ad183(0x5c7),_0xf69a1c),showMessage(_0x3ad183(0x770));}}async function deleteTopicFromProject(_0x76b0db){const _0x2f396c=_0x448927;if(!confirm(_0x2f396c(0xb8e)))return;try{const _0xcd48a5=doc(db,'artifacts/'+appId+_0x2f396c(0x5e3),currentBlueprintProjectId);await updateDoc(_0xcd48a5,{[_0x2f396c(0x916)+_0x76b0db]:deleteField()}),document[_0x2f396c(0x877)]('[data-topic-id=\x22'+_0x76b0db+'\x22]')[_0x2f396c(0xa1f)](),showMessage(_0x2f396c(0xc98));}catch(_0x12bf18){console[_0x2f396c(0x17d)](_0x2f396c(0x13d),_0x12bf18),showMessage(_0x2f396c(0xa62));}}async function generateAndSaveLessonForBlueprint(_0x1e3d95,_0x41adc9,_0x18554e){handleGenerateAndShowLesson(_0x41adc9,_0x18554e);const _0x41bdfe=setInterval(async()=>{const _0x5babd0=_0x2e12,_0xa6954e=document['getElementById'](_0x5babd0(0xbdf)),_0xfc751d=_0xa6954e['classList']['contains'](_0x5babd0(0x5a9));if(_0xfc751d){clearInterval(_0x41bdfe);if(currentApplicationData&&currentApplicationData[_0x5babd0(0xab1)]>0x0){const _0x79596f={'point':document['getElementById'](_0x5babd0(0xa17))[_0x5babd0(0x5f4)],'memory':document[_0x5babd0(0xb18)](_0x5babd0(0x2d8))[_0x5babd0(0x5f4)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x5babd0(0xb18)](_0x5babd0(0x1b6))[_0x5babd0(0x5f4)]};try{const _0x501715=doc(db,'artifacts/'+appId+_0x5babd0(0x5e3),currentBlueprintProjectId),_0xf1365d=doc(db,_0x5babd0(0xa76)+appId+_0x5babd0(0xc07)+currentBlueprintProjectId+'/lessons',_0x1e3d95),_0x9075d=writeBatch(db);_0x9075d[_0x5babd0(0x83f)](_0xf1365d,{'content':_0x79596f}),_0x9075d[_0x5babd0(0x8a4)](_0x501715,{['topics.'+_0x1e3d95+'.status']:_0x5babd0(0x62d)}),await _0x9075d[_0x5babd0(0x979)](),console[_0x5babd0(0xcad)](_0x5babd0(0x258)+_0x1e3d95+_0x5babd0(0x8a2)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5ecb15){console['error'](_0x5babd0(0xb85),_0x5ecb15);}}}},0x3e8);}function displayHalfMarkResult(_0x2062ec,_0x477fe2){const _0x487ce2=_0x448927,_0x38b0f3=_0x2062ec>=_0x477fe2/0x2,_0x430272=_0x38b0f3?_0x487ce2(0xc5b):'bg-red-100',_0x30495d=_0x38b0f3?_0x487ce2(0x91e):_0x487ce2(0x20a),_0x337b07=_0x38b0f3?_0x487ce2(0x8f7):'text-red-800',_0x20da82=_0x38b0f3?_0x487ce2(0x374):_0x487ce2(0x8d0),_0x368a1c=_0x38b0f3?'ยอดเยี่ยม!':_0x487ce2(0xd7);let _0x4a7f44=_0x487ce2(0x748)+_0x430272+_0x487ce2(0x997)+_0x30495d+_0x487ce2(0x685)+_0x337b07+'\x20mb-2\x22>'+_0x20da82+_0x487ce2(0xc22)+_0x368a1c+_0x487ce2(0x8fb);studentResultArea['innerHTML']=_0x4a7f44,studentResultArea['classList'][_0x487ce2(0xa1f)](_0x487ce2(0x5a9)),studentQuizArea['classList'][_0x487ce2(0x24b)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x38b0f3});}function displayPerfectScoreResult(_0x223d4c,_0xff50a0){const _0x263b13=_0x448927,_0x5cd46b=_0x223d4c===_0xff50a0,_0x62b034=_0x5cd46b?_0x263b13(0xa39):_0x263b13(0x118),_0x346939=_0x5cd46b?_0x263b13(0x416):_0x263b13(0xff),_0x38d435=_0x5cd46b?'text-yellow-800':_0x263b13(0x75f),_0x24c53c=_0x5cd46b?_0x263b13(0x7f9):_0x263b13(0x333),_0x4008eb=_0x5cd46b?_0x263b13(0xcf):_0x263b13(0xb45);let _0x2f00a0=_0x263b13(0x748)+_0x62b034+_0x263b13(0x997)+_0x346939+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x38d435+_0x263b13(0xdd8)+_0x24c53c+_0x263b13(0xc22)+_0x4008eb+_0x263b13(0x8fb);studentResultArea[_0x263b13(0x5f4)]=_0x2f00a0,studentResultArea[_0x263b13(0x82f)][_0x263b13(0xa1f)](_0x263b13(0x5a9)),studentQuizArea[_0x263b13(0x82f)][_0x263b13(0x24b)](_0x263b13(0x5a9)),setupResultScreenBackButton({'showRankings':![],'score':_0x223d4c,'totalQuestions':_0xff50a0});}function renderIndividualComparisonTable(_0x3f7996,_0x59aefa){const _0x4a1fe5=_0x448927;_0x3f7996[_0x4a1fe5(0x872)]((_0x2e5569,_0x1b6367)=>(_0x1b6367['tGain']??-Infinity)-(_0x2e5569[_0x4a1fe5(0x8b6)]??-Infinity));let _0x2e1380=_0x4a1fe5(0x39a);_0x3f7996[_0x4a1fe5(0xab1)]===0x0?_0x2e1380+=_0x4a1fe5(0x26f):_0x3f7996['forEach']((_0x2e7263,_0x53dd20)=>{const _0x4ea824=_0x4a1fe5;let _0x2c6e36='-',_0x4e18ef='';if(_0x2e7263[_0x4ea824(0x87a)]!==null){const _0x51e2d8=_0x2e7263[_0x4ea824(0x87a)]>0x0?_0x4ea824(0x393):_0x2e7263['gain']<0x0?_0x4ea824(0x6bf):_0x4ea824(0xc6),_0x5725f3=_0x2e7263[_0x4ea824(0x87a)]>0x0?'+':'';_0x2c6e36='<span\x20class=\x22font-bold\x20'+_0x51e2d8+'\x22>'+_0x5725f3+_0x2e7263[_0x4ea824(0x87a)]+_0x4ea824(0x95e);if(_0x2e7263[_0x4ea824(0x87a)]>0x0)_0x4e18ef=_0x4ea824(0x78a);else _0x2e7263[_0x4ea824(0x87a)]<0x0?_0x4e18ef='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x4e18ef=_0x4ea824(0x99e);}let _0x2ffe5b='-';if(_0x2e7263[_0x4ea824(0x8b6)]!==null){const _0x1814d2=_0x2e7263[_0x4ea824(0x8b6)]>0x0?_0x4ea824(0x393):_0x2e7263[_0x4ea824(0x8b6)]<0x0?_0x4ea824(0x6bf):_0x4ea824(0xc6),_0x29d15c=_0x2e7263['tGain']>0x0?'+':'';_0x2ffe5b=_0x4ea824(0x41c)+_0x1814d2+'\x22>'+_0x29d15c+_0x2e7263['tGain']['toFixed'](0x2)+'</span>';}_0x2e1380+=_0x4ea824(0x7a4)+(_0x53dd20+0x1)+_0x4ea824(0x83c)+_0x2e7263[_0x4ea824(0x2d2)]+_0x4ea824(0x883)+(_0x2e7263[_0x4ea824(0x6e0)]??'-')+_0x4ea824(0x88f)+(_0x2e7263[_0x4ea824(0xb02)]??'-')+_0x4ea824(0x883)+_0x2c6e36+_0x4ea824(0x80a)+_0x4e18ef+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x2e7263[_0x4ea824(0x4e5)]?.[_0x4ea824(0xca2)](0x2)??'-')+_0x4ea824(0xc41)+(_0x2e7263['postTScore']?.[_0x4ea824(0xca2)](0x2)??'-')+_0x4ea824(0x883)+_0x2ffe5b+_0x4ea824(0xcde);}),_0x2e1380+=_0x4a1fe5(0x8ac),_0x59aefa['innerHTML']=_0x2e1380;}function handleRenameQuiz(_0x693e4,_0x4bb5b0){const _0x19d51e=_0x448927;actionTargetId=_0x693e4,document[_0x19d51e(0xb18)]('rename-quiz-input')['value']=_0x4bb5b0,renameQuizModal[_0x19d51e(0x82f)][_0x19d51e(0xa1f)](_0x19d51e(0x5a9));}function setupComparisonModalTabs(){const _0x4fac25=_0x448927,_0x449788=document[_0x4fac25(0xb18)]('comparison-overall-tab'),_0x27e4d9=document[_0x4fac25(0xb18)]('comparison-individual-tab'),_0x482f9c=document[_0x4fac25(0xb18)](_0x4fac25(0xdf6)),_0x49b882=document[_0x4fac25(0xb18)](_0x4fac25(0x62c));_0x449788[_0x4fac25(0xcc)](_0x4fac25(0x8b2),()=>{const _0x53ae6c=_0x4fac25;_0x449788[_0x53ae6c(0x82f)][_0x53ae6c(0x24b)](_0x53ae6c(0x4f9)),_0x27e4d9[_0x53ae6c(0x82f)][_0x53ae6c(0xa1f)](_0x53ae6c(0x4f9)),_0x482f9c[_0x53ae6c(0x82f)][_0x53ae6c(0xa1f)]('hidden'),_0x49b882[_0x53ae6c(0x82f)]['add']('hidden');}),_0x27e4d9[_0x4fac25(0xcc)](_0x4fac25(0x8b2),()=>{const _0x5d6d97=_0x4fac25;_0x27e4d9[_0x5d6d97(0x82f)][_0x5d6d97(0x24b)]('active'),_0x449788[_0x5d6d97(0x82f)][_0x5d6d97(0xa1f)](_0x5d6d97(0x4f9)),_0x49b882['classList'][_0x5d6d97(0xa1f)](_0x5d6d97(0x5a9)),_0x482f9c[_0x5d6d97(0x82f)][_0x5d6d97(0x24b)](_0x5d6d97(0x5a9));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x278e32=_0x448927;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3fd84c=doc(db,_0x278e32(0xa76)+appId+_0x278e32(0x56a),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3fd84c,_0x5e6136=>{const _0x3d4e4b=_0x278e32;if(!_0x5e6136[_0x3d4e4b(0x14d)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x3d4e4b(0xcef)):showView(_0x3d4e4b(0x4a1));return;}const _0x59ea9c=_0x5e6136[_0x3d4e4b(0xa8e)]();_0x59ea9c[_0x3d4e4b(0xe1c)]&&(currentQuizData=_0x59ea9c[_0x3d4e4b(0xe1c)]);!currentQuizData&&_0x59ea9c[_0x3d4e4b(0x802)]&&((async()=>{const _0x3e8fa0=_0x3d4e4b;try{const _0xfabf1e=doc(db,_0x3e8fa0(0xa76)+appId+_0x3e8fa0(0xc34),_0x59ea9c[_0x3e8fa0(0x802)]),_0x203821=await getDoc(_0xfabf1e);_0x203821[_0x3e8fa0(0x14d)]()&&(currentQuizData={'id':_0x203821['id'],..._0x203821[_0x3e8fa0(0xa8e)]()});}catch(_0x386a54){console[_0x3e8fa0(0x17d)](_0x3e8fa0(0x630),_0x386a54);}})());switch(_0x59ea9c[_0x3d4e4b(0x33a)]){case'lobby':if(currentMode===_0x3d4e4b(0xa1d)){const _0x3c8951=_0x59ea9c[_0x3d4e4b(0xdd9)]?Object[_0x3d4e4b(0x9c3)](_0x59ea9c[_0x3d4e4b(0xdd9)]):[],_0x396e31=_0x3c8951[_0x3d4e4b(0x955)](([_0x5eb454,_0xf43e24])=>_0xf43e24['status']===_0x3d4e4b(0x4f9)),_0x4582ff=document[_0x3d4e4b(0xb18)](_0x3d4e4b(0xcdb));if(_0x4582ff)_0x4582ff['textContent']=_0x396e31[_0x3d4e4b(0xab1)];const _0xa07c2d=document[_0x3d4e4b(0xb18)](_0x3d4e4b(0xbba));_0xa07c2d&&(_0xa07c2d[_0x3d4e4b(0x5f4)]=_0x396e31['map'](([_0x27b969,_0x5a0ec3])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x27b969+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x27b969+_0x3d4e4b(0x149))[_0x3d4e4b(0x222)](''));const _0x556502=document['getElementById']('start-game-btn');_0x556502&&(_0x556502[_0x3d4e4b(0x64b)]=_0x396e31[_0x3d4e4b(0xab1)]===0x0);}else showView(_0x3d4e4b(0x7aa)),liveGameView[_0x3d4e4b(0x5f4)]=_0x3d4e4b(0xa6d)+currentStudentName+_0x3d4e4b(0x89d);break;case _0x3d4e4b(0x339):const _0x1df3d8=_0x59ea9c['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x3d4e4b(0x677)][_0x1df3d8]){const _0x4553a4=currentQuizData['questions'][_0x1df3d8],_0x4b112c=_0x59ea9c[_0x3d4e4b(0xcc4)]||_0x3d4e4b(0x620);switch(_0x4b112c){case'summary_chart':currentMode===_0x3d4e4b(0xa1d)?showAdminSummaryView(_0x59ea9c,_0x4553a4):showPlayerSummaryView(_0x59ea9c,currentStudentName);break;case _0x3d4e4b(0x908):currentMode===_0x3d4e4b(0xa1d)&&showTop5LeaderboardView(_0x59ea9c);break;case'answering':default:if(currentMode===_0x3d4e4b(0xa1d)){const _0x25ebb4=writeBatch(db);let _0x18cd58=![];Object['entries'](_0x59ea9c['players'])['forEach'](([_0x47345b,_0xc322fe])=>{const _0x226015=_0x3d4e4b;if(_0xc322fe[_0x226015(0x33a)]===_0x226015(0x4f9)&&_0xc322fe[_0x226015(0x7ee)]&&!_0xc322fe[_0x226015(0xac7)]){_0x18cd58=!![];const _0x248f08=_0xc322fe['submittedAt'][_0x226015(0x9d0)]()-_0x59ea9c[_0x226015(0x31f)][_0x226015(0x9d0)]();let _0x41a91a=0x0;if(_0xc322fe[_0x226015(0x23a)]){const _0x239902=0x3e8,_0x234561=0x1f4,_0x3d87d6=0x4e20;let _0x4c3419=_0x248f08/_0x3d87d6;if(_0x4c3419>0x1)_0x4c3419=0x1;const _0x345c31=Math['round'](_0x4c3419*_0x234561);_0x41a91a=_0x239902-_0x345c31;}const _0x4a5b04=doc(db,_0x226015(0xa76)+appId+'/public/data/liveGames',currentLiveGameId);_0x25ebb4[_0x226015(0x8a4)](_0x4a5b04,{[_0x226015(0xd76)+_0x47345b+_0x226015(0x994)]:increment(_0x41a91a),['players.'+_0x47345b+_0x226015(0x8c9)]:_0x41a91a,[_0x226015(0xd76)+_0x47345b+_0x226015(0x766)]:!![]});}});_0x18cd58&&_0x25ebb4[_0x3d4e4b(0x979)]()[_0x3d4e4b(0xa98)](_0x31ccca=>console[_0x3d4e4b(0x17d)]('Error\x20committing\x20score\x20updates:',_0x31ccca));lastRenderedAdminQuestionIndex!==_0x1df3d8&&(showAdminLiveQuestionView(_0x4553a4,_0x1df3d8,currentQuizData[_0x3d4e4b(0x677)][_0x3d4e4b(0xab1)]),lastRenderedAdminQuestionIndex=_0x1df3d8);const _0x56b7e6=_0x59ea9c['players']||{},_0x1add5d=Object[_0x3d4e4b(0x56e)](_0x56b7e6)[_0x3d4e4b(0x955)](_0x55dbab=>_0x55dbab['status']===_0x3d4e4b(0x4f9)),_0x3e5d08=_0x1add5d[_0x3d4e4b(0xab1)],_0x17cff3=_0x1add5d[_0x3d4e4b(0x955)](_0x266881=>_0x266881[_0x3d4e4b(0xa86)]===!![])[_0x3d4e4b(0xab1)],_0x57449a=document[_0x3d4e4b(0xb18)](_0x3d4e4b(0xdb8));if(_0x57449a)_0x57449a[_0x3d4e4b(0x633)]=_0x17cff3+'/'+_0x3e5d08;const _0x206cc0=document['getElementById']('live-player-list');if(_0x206cc0){let _0x18742b=Object[_0x3d4e4b(0x9c3)](_0x56b7e6)[_0x3d4e4b(0x955)](([_0x41e439,_0x2afb32])=>_0x2afb32[_0x3d4e4b(0x33a)]===_0x3d4e4b(0x4f9))['map'](([_0x1fb3e4,_0x5e9550])=>{const _0x5e3f46=_0x3d4e4b,_0x1a1522=_0x5e9550['answeredCurrentQuestion']===!![],_0x82f541=_0x1a1522?_0x5e3f46(0xbae):_0x5e3f46(0xa56),_0x505a42=_0x1a1522?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x5e3f46(0xcd5)+_0x82f541+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x505a42+_0x5e3f46(0x453)+_0x1fb3e4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x1fb3e4+_0x5e3f46(0x9b4);})[_0x3d4e4b(0x222)]('');_0x206cc0[_0x3d4e4b(0x5f4)]=_0x18742b||_0x3d4e4b(0xe4d);}_0x3e5d08>0x0&&_0x17cff3===_0x3e5d08&&revealAnswerForAdmin(_0x1df3d8,currentQuizData['questions'][_0x3d4e4b(0xab1)]);}else{const _0x334910=_0x59ea9c['players'][currentStudentName];_0x334910&&!_0x334910[_0x3d4e4b(0xa86)]&&showStudentLiveQuestionView(_0x4553a4,_0x1df3d8,currentQuizData[_0x3d4e4b(0x677)][_0x3d4e4b(0xab1)]);}break;}}break;case _0x3d4e4b(0x2d1):showPodiumView(_0x59ea9c[_0x3d4e4b(0xdd9)],'live-race');break;}});}async function openGlobalActivityModal(){const _0xa292d4=_0x448927;if(allQuizzesGlobal[_0xa292d4(0xab1)]===0x0){const _0x316dc3=await getDocs(collection(db,_0xa292d4(0xa76)+appId+_0xa292d4(0xc34)));allQuizzesGlobal=_0x316dc3[_0xa292d4(0x18c)][_0xa292d4(0xad5)](_0x37b018=>({'id':_0x37b018['id'],..._0x37b018[_0xa292d4(0xa8e)]()}));}renderGlobalActivityList(''),document[_0xa292d4(0xb18)](_0xa292d4(0xbb9))[_0xa292d4(0x82f)][_0xa292d4(0xa1f)](_0xa292d4(0x5a9));}function renderGlobalActivityList(_0x468b6e=''){const _0x5328a9=_0x448927,_0x3ad5b7=document[_0x5328a9(0xb18)](_0x5328a9(0xd99)),_0x247ef3=_0x468b6e[_0x5328a9(0x123)]()[_0x5328a9(0xb5b)](),_0x3ae9a5=allQuizzesGlobal[_0x5328a9(0xad5)](_0x2120f1=>({..._0x2120f1,'projectName':allProjects[_0x5328a9(0x8c0)](_0x5059de=>_0x5059de['id']===_0x2120f1[_0x5328a9(0x111)])?.['projectName']||'N/A'}))[_0x5328a9(0x955)](_0xd34993=>(_0xd34993['topic']||'')[_0x5328a9(0x123)]()[_0x5328a9(0x2e7)](_0x247ef3)||(_0xd34993[_0x5328a9(0xa8f)]||'')[_0x5328a9(0x123)]()['includes'](_0x247ef3));document[_0x5328a9(0xb18)](_0x5328a9(0x96b))[_0x5328a9(0x633)]='('+_0x3ae9a5['length']+_0x5328a9(0xa8),_0x3ad5b7['innerHTML']=_0x3ae9a5[_0x5328a9(0xab1)]?_0x3ae9a5['map'](_0x458a07=>_0x5328a9(0x12f)+(_0x458a07[_0x5328a9(0xda1)]||_0x5328a9(0x1ec))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x458a07[_0x5328a9(0x677)]?.[_0x5328a9(0xab1)]||0x0)+_0x5328a9(0xae5)+_0x458a07[_0x5328a9(0xa8f)]+_0x5328a9(0x661)+_0x458a07['id']+_0x5328a9(0x9e3)+_0x458a07['id']+_0x5328a9(0x4e7))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x4c6f99){const _0xe0cb6d=_0x448927;if(!currentLiveGameId||!_0x4c6f99)return;const _0x1c7f73=doc(db,_0xe0cb6d(0xa76)+appId+'/public/data/liveGames',currentLiveGameId),_0x537ebc={};_0x537ebc[_0xe0cb6d(0xd76)+_0x4c6f99+_0xe0cb6d(0x11d)]=_0xe0cb6d(0xd89);try{await updateDoc(_0x1c7f73,_0x537ebc);}catch(_0x44568b){console['error'](_0xe0cb6d(0x962)+_0x4c6f99+':',_0x44568b),showMessage(_0xe0cb6d(0x782));}}async function authenticateUser(){const _0xb35554=_0x448927;try{typeof __initial_auth_token!==_0xb35554(0x3f2)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x428787){console[_0xb35554(0x17d)](_0xb35554(0xbb2),_0x428787),showMessage(_0xb35554(0x8e1));}}function showView(_0x4966e1){const _0xba6f1a=_0x448927;adminView['classList'][_0xba6f1a(0x24b)]('hidden'),studentView['classList'][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9)),projectDashboardView['classList'][_0xba6f1a(0x24b)]('hidden'),projectDetailView['classList']['add']('hidden'),quizResultsView[_0xba6f1a(0x82f)]['add'](_0xba6f1a(0x5a9)),liveGameView[_0xba6f1a(0x82f)][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9)),document[_0xba6f1a(0xb18)](_0xba6f1a(0x651))[_0xba6f1a(0x82f)][_0xba6f1a(0x24b)]('hidden'),studentInitialView[_0xba6f1a(0x82f)][_0xba6f1a(0x24b)]('hidden'),studentJoinGameView['classList'][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9)),studentNameSelectionView[_0xba6f1a(0x82f)][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9)),studentQuizArea[_0xba6f1a(0x82f)][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9)),studentResultArea['classList'][_0xba6f1a(0x24b)]('hidden'),studentReadingArea[_0xba6f1a(0x82f)][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9));const _0x13e7e2=document[_0xba6f1a(0xb18)](_0xba6f1a(0x425)),_0x41289e=document[_0xba6f1a(0xb18)](_0xba6f1a(0x135));if(_0x13e7e2)_0x13e7e2['classList'][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9));if(_0x41289e)_0x41289e['classList'][_0xba6f1a(0x24b)](_0xba6f1a(0x5a9));switch(_0x4966e1){case _0xba6f1a(0xabc):adminView[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)]('hidden'),projectDashboardView[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)]('hidden');break;case _0xba6f1a(0xcef):adminView[_0xba6f1a(0x82f)]['remove'](_0xba6f1a(0x5a9)),projectDetailView[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)](_0xba6f1a(0x5a9));break;case _0xba6f1a(0x12d):adminView[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)](_0xba6f1a(0x5a9)),quizResultsView['classList']['remove'](_0xba6f1a(0x5a9));break;case _0xba6f1a(0x4a1):studentView['classList'][_0xba6f1a(0xa1f)]('hidden'),studentInitialView[_0xba6f1a(0x82f)]['remove']('hidden');break;case _0xba6f1a(0x7aa):liveGameView[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)](_0xba6f1a(0x5a9));break;case _0xba6f1a(0xb7a):studentView[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)](_0xba6f1a(0x5a9));if(_0x13e7e2)_0x13e7e2[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)](_0xba6f1a(0x5a9));break;case _0xba6f1a(0x8e8):studentView['classList']['remove'](_0xba6f1a(0x5a9));if(_0x41289e)_0x41289e[_0xba6f1a(0x82f)][_0xba6f1a(0xa1f)]('hidden');break;default:studentView[_0xba6f1a(0x82f)]['remove'](_0xba6f1a(0x5a9)),studentInitialView['classList'][_0xba6f1a(0xa1f)](_0xba6f1a(0x5a9));break;}}function showJoinGameView(){const _0x41297d=_0x448927;studentInitialView['classList']['add'](_0x41297d(0x5a9)),studentJoinGameView[_0x41297d(0x82f)][_0x41297d(0xa1f)](_0x41297d(0x5a9));}async function handleSaveVisibilitySettings(){const _0x594870=_0x448927;if(!currentProjectId)return;const _0x56ff5c=doc(db,_0x594870(0xa76)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x56ff5c,{'settings.showInStudentDashboard':document[_0x594870(0xb18)](_0x594870(0xe38))[_0x594870(0x2f1)],'settings.isPasscodeEnabled':document['getElementById'](_0x594870(0xd35))[_0x594870(0x2f1)],'settings.passcode':document[_0x594870(0xb18)](_0x594870(0x80f))[_0x594870(0x52d)][_0x594870(0xb5b)]()}),showMessage(_0x594870(0xc29));}catch(_0x5ab1e2){console[_0x594870(0x17d)](_0x594870(0xb70),_0x5ab1e2),showMessage(_0x594870(0x3b8));}}function setupEventListeners(){const _0x13c5e9=_0x448927,_0x4abb79=document[_0x13c5e9(0xb18)]('scan-text-image-input'),_0x19dba5=document[_0x13c5e9(0xb18)](_0x13c5e9(0xa91));_0x4abb79&&_0x19dba5&&(_0x19dba5[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>_0x4abb79['click']()),_0x4abb79[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),_0x1421e8=>{const _0xa9ae45=_0x13c5e9;_0x1421e8[_0xa9ae45(0x364)][_0xa9ae45(0x370)]['length']>0x0&&handleScanImageForText(_0x1421e8['target'][_0xa9ae45(0x370)][0x0]);}));const _0x350ed7=document[_0x13c5e9(0xb18)]('wager-all-in-btn');_0x350ed7&&_0x350ed7[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x149bfa=_0x13c5e9,_0x1335b2=document['getElementById'](_0x149bfa(0x4a7)),_0x320484=document[_0x149bfa(0xb18)](_0x149bfa(0x1dc));_0x1335b2&&(_0x1335b2['value']=_0x1335b2[_0x149bfa(0x90d)],_0x320484&&(_0x320484[_0x149bfa(0x633)]=_0x1335b2['value'],_0x320484['classList'][_0x149bfa(0xa1f)](_0x149bfa(0x9f4)),void _0x320484[_0x149bfa(0x504)],_0x320484[_0x149bfa(0x82f)][_0x149bfa(0x24b)](_0x149bfa(0x66d),_0x149bfa(0x3c2),_0x149bfa(0x9f4),_0x149bfa(0x6bf)),setTimeout(()=>_0x320484[_0x149bfa(0x82f)][_0x149bfa(0xa1f)]('scale-125','text-red-600'),0xc8)));});document[_0x13c5e9(0xb18)]('cancel-wager-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x109e49=_0x13c5e9;document[_0x109e49(0xb18)](_0x109e49(0x97e))[_0x109e49(0x82f)][_0x109e49(0x24b)](_0x109e49(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xe23))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x169bc1=_0x13c5e9,_0x430980=document[_0x169bc1(0xb18)]('wager-modal'),_0x51f4af=document[_0x169bc1(0xb18)](_0x169bc1(0x918)),_0x25ef5a=document[_0x169bc1(0xb18)](_0x169bc1(0x4a7))['value'],_0x596f10=_0x51f4af[_0x169bc1(0xcd1)][_0x169bc1(0xb34)],_0x513f70=JSON['parse'](_0x51f4af[_0x169bc1(0xcd1)][_0x169bc1(0x339)]),_0x483461=JSON[_0x169bc1(0x510)](_0x51f4af[_0x169bc1(0xcd1)]['gameData']),_0x24e6a6=_0x51f4af[_0x169bc1(0xcd1)][_0x169bc1(0xaa6)];_0x430980[_0x169bc1(0x82f)][_0x169bc1(0x24b)](_0x169bc1(0x5a9)),handleSyncAnswerSubmit(_0x596f10,_0x513f70,_0x483461,_0x24e6a6,![],_0x25ef5a);}),document[_0x13c5e9(0xccb)](_0x13c5e9(0xc21))[_0x13c5e9(0x157)](_0x135480=>{_0x135480['addEventListener']('change',_0x429996=>{const _0x5b432d=_0x2e12,_0x1ef347=document[_0x5b432d(0xb18)](_0x5b432d(0x519));_0x429996[_0x5b432d(0x364)]['value']===_0x5b432d(0x94b)?_0x1ef347[_0x5b432d(0x82f)][_0x5b432d(0xa1f)]('hidden'):_0x1ef347['classList'][_0x5b432d(0x24b)]('hidden');});}),document[_0x13c5e9(0xb18)]('sync-timer-enable-checkbox')[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),_0x3f1e10=>{const _0x4dbffa=_0x13c5e9;document[_0x4dbffa(0xb18)](_0x4dbffa(0xda3))[_0x4dbffa(0x82f)][_0x4dbffa(0xd6b)](_0x4dbffa(0x5a9),!_0x3f1e10['target'][_0x4dbffa(0x2f1)]);});const _0x48c4a0=document['getElementById']('cancel-confidence-btn'),_0x231168=document['getElementById'](_0x13c5e9(0x836));_0x48c4a0&&_0x231168&&_0x48c4a0[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x372e11=_0x13c5e9;_0x231168[_0x372e11(0x82f)][_0x372e11(0x24b)](_0x372e11(0x5a9)),_0x231168['dataset']['currentMode']='';});const _0x544371=document[_0x13c5e9(0xb18)](_0x13c5e9(0xbe2));_0x544371&&(_0x544371[_0x13c5e9(0xcc)](_0x13c5e9(0xb4d),wakeUpScreen),_0x544371[_0x13c5e9(0xcc)](_0x13c5e9(0x923),wakeUpScreen));document[_0x13c5e9(0xb18)]('save-bp-reference-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),async()=>{const _0x7fa70c=_0x13c5e9;if(!currentBlueprintProjectId)return;const _0x2dcd10=document[_0x7fa70c(0xb18)](_0x7fa70c(0x192))[_0x7fa70c(0x52d)][_0x7fa70c(0xb5b)](),_0x5553bb=doc(db,_0x7fa70c(0xa76)+appId+_0x7fa70c(0x5e3),currentBlueprintProjectId);try{await updateDoc(_0x5553bb,{'referenceFileUrl':_0x2dcd10}),showMessage(_0x7fa70c(0x5af));}catch(_0x2325fa){console[_0x7fa70c(0x17d)]('Error\x20saving\x20reference\x20URL:',_0x2325fa),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xcc1))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleAddParallelShortcutTab),document[_0x13c5e9(0xb18)]('parallel-test-input-area')['addEventListener'](_0x13c5e9(0x8b2),_0x41ea4e=>{const _0xd6f0d=_0x13c5e9;_0x41ea4e[_0xd6f0d(0x364)]['closest'](_0xd6f0d(0x9bf))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0xd6f0d(0xb18)](_0xd6f0d(0xa1b))['classList']['remove']('hidden'));}),document[_0x13c5e9(0xb18)]('close-additional-parallel-shortcuts-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x3a66b5=_0x13c5e9;document[_0x3a66b5(0xb18)](_0x3a66b5(0xa1b))['classList'][_0x3a66b5(0x24b)]('hidden');}),document['addEventListener'](_0x13c5e9(0x8b2),_0x495dab=>{const _0x28a9c9=_0x13c5e9;!_0x495dab[_0x28a9c9(0x364)][_0x28a9c9(0xb09)]('.group\x5c/dropdown-parallel')&&document[_0x28a9c9(0xccb)](_0x28a9c9(0x114))[_0x28a9c9(0x157)](_0x127bef=>_0x127bef[_0x28a9c9(0x82f)][_0x28a9c9(0x24b)]('hidden'));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xc1e))[_0x13c5e9(0xcc)]('click',handleAddFileShortcutTab),document[_0x13c5e9(0xb18)]('file-input-area')[_0x13c5e9(0xcc)]('click',_0x17e62f=>{const _0x224a80=_0x13c5e9;_0x17e62f[_0x224a80(0x364)]['closest'](_0x224a80(0x18f))&&(activeFileShortcutTabId=_0x224a80(0xd05),renderAdditionalFileShortcutsModal(),document[_0x224a80(0xb18)]('additional-file-shortcuts-modal')[_0x224a80(0x82f)][_0x224a80(0xa1f)](_0x224a80(0x5a9)));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x292))[_0x13c5e9(0xcc)]('click',()=>{const _0x5be4ba=_0x13c5e9;document[_0x5be4ba(0xb18)]('additional-file-shortcuts-modal')[_0x5be4ba(0x82f)][_0x5be4ba(0x24b)](_0x5be4ba(0x5a9));}),document[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x4b9d7c=>{const _0x4f9cd1=_0x13c5e9;!_0x4b9d7c[_0x4f9cd1(0x364)]['closest']('.group\x5c/dropdown-file')&&document['querySelectorAll'](_0x4f9cd1(0xd32))['forEach'](_0x17ee95=>_0x17ee95[_0x4f9cd1(0x82f)][_0x4f9cd1(0x24b)](_0x4f9cd1(0x5a9)));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x1e0))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleAddShortcutTab),document[_0x13c5e9(0xb18)](_0x13c5e9(0xe2a))['addEventListener'](_0x13c5e9(0x8b2),_0x49353d=>{const _0x5d8dd9=_0x13c5e9,_0x1d2dc0=_0x49353d[_0x5d8dd9(0x364)][_0x5d8dd9(0xb09)]('.parallel-shortcut-btn'),_0xfb7eec=_0x49353d[_0x5d8dd9(0x364)]['closest']('.edit-parallel-shortcut-btn'),_0x3c9ed7=_0x49353d[_0x5d8dd9(0x364)]['closest'](_0x5d8dd9(0x557));if(_0xfb7eec)openParallelTestShortcutEditor(_0xfb7eec[_0x5d8dd9(0xcd1)]['id']);else{if(_0x3c9ed7){const _0x4c9023=_0x3c9ed7[_0x5d8dd9(0xcd1)]['id'];showConfirmation(_0x5d8dd9(0x294),async()=>{const _0x298073=_0x5d8dd9,_0x46674e=parallelTestShortcuts[_0x298073(0x955)](_0x2e76a2=>_0x2e76a2['id']!==_0x4c9023),_0x2ed770=doc(db,_0x298073(0x3f4),_0x298073(0xb67));await setDoc(_0x2ed770,{'shortcuts':_0x46674e},{'merge':!![]});});}else _0x1d2dc0&&handleParallelTestShortcutClick(_0x1d2dc0[_0x5d8dd9(0xcd1)]['id']);}}),document[_0x13c5e9(0xb18)]('add-parallel-shortcut-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x13c5e9(0xe29))['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0x739a60=_0x13c5e9;document[_0x739a60(0xb18)]('parallel-shortcut-editor-modal')['classList']['add'](_0x739a60(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xc08))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),saveParallelTestShortcutChanges),document[_0x13c5e9(0xb18)](_0x13c5e9(0x8e0))['addEventListener']('click',_0x473a25=>{const _0x59b63b=_0x13c5e9;_0x473a25[_0x59b63b(0x364)]['closest'](_0x59b63b(0x9bf))&&document['getElementById']('additional-parallel-shortcuts-modal')['classList'][_0x59b63b(0xa1f)](_0x59b63b(0x5a9));}),document['getElementById'](_0x13c5e9(0x60b))['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0x1c1286=_0x13c5e9;document[_0x1c1286(0xb18)](_0x1c1286(0xa1b))[_0x1c1286(0x82f)]['add']('hidden');}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x941))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x4b55ca=>{const _0x12b6c1=_0x13c5e9,_0x566b7a=document[_0x12b6c1(0xb18)](_0x12b6c1(0xa1b)),_0x5e6bc9=_0x4b55ca[_0x12b6c1(0x364)][_0x12b6c1(0xb09)](_0x12b6c1(0x175)),_0x2c6175=_0x4b55ca[_0x12b6c1(0x364)][_0x12b6c1(0xb09)](_0x12b6c1(0xa71)),_0x47f55d=_0x4b55ca[_0x12b6c1(0x364)][_0x12b6c1(0xb09)](_0x12b6c1(0x590));if(_0x5e6bc9)_0x566b7a[_0x12b6c1(0x82f)][_0x12b6c1(0x24b)](_0x12b6c1(0x5a9)),handleParallelTestShortcutClick(_0x5e6bc9['dataset']['id']);else{if(_0x2c6175)_0x566b7a[_0x12b6c1(0x82f)]['add'](_0x12b6c1(0x5a9)),openParallelTestShortcutEditor(_0x2c6175[_0x12b6c1(0xcd1)]['id']);else{if(_0x47f55d){const _0x1ca1e8=_0x47f55d[_0x12b6c1(0xcd1)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4f1c2f=_0x12b6c1,_0xbd06c8=parallelTestShortcuts[_0x4f1c2f(0x955)](_0x4d26be=>_0x4d26be['id']!==_0x1ca1e8),_0x2e2366=doc(db,'globalSettings',_0x4f1c2f(0xb67));await setDoc(_0x2e2366,{'shortcuts':_0xbd06c8},{'merge':!![]});});}}}}),document['getElementById']('file-shortcut-container')['addEventListener']('click',_0x4e39cf=>{const _0x37fffa=_0x13c5e9,_0x4894ea=_0x4e39cf[_0x37fffa(0x364)][_0x37fffa(0xb09)]('.file-shortcut-btn'),_0x3f77e8=_0x4e39cf['target']['closest'](_0x37fffa(0x613)),_0x4a6d50=_0x4e39cf[_0x37fffa(0x364)][_0x37fffa(0xb09)](_0x37fffa(0x418));if(_0x3f77e8)openFileShortcutEditor(_0x3f77e8['dataset']['id']);else{if(_0x4a6d50){const _0xc72b=_0x4a6d50[_0x37fffa(0xcd1)]['id'];showConfirmation(_0x37fffa(0x294),async()=>{const _0x4fcd81=fileShortcuts['filter'](_0x21454a=>_0x21454a['id']!==_0xc72b),_0x3a5bba=doc(db,'globalSettings','fileShortcutsConfig');await setDoc(_0x3a5bba,{'shortcuts':_0x4fcd81},{'merge':!![]});});}else _0x4894ea&&handleFileShortcutClick(_0x4894ea['dataset']['id']);}}),document['getElementById'](_0x13c5e9(0x73d))[_0x13c5e9(0xcc)]('click',()=>openFileShortcutEditor(null)),document[_0x13c5e9(0xb18)]('cancel-file-shortcut-edit-btn')[_0x13c5e9(0xcc)]('click',()=>{const _0x182a08=_0x13c5e9;document[_0x182a08(0xb18)](_0x182a08(0x734))[_0x182a08(0x82f)][_0x182a08(0x24b)](_0x182a08(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x556))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),saveFileShortcutChanges),document[_0x13c5e9(0xb18)]('file-input-area')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x17dfb6=>{const _0x295e1b=_0x13c5e9;_0x17dfb6['target'][_0x295e1b(0xb09)](_0x295e1b(0x18f))&&document['getElementById']('additional-file-shortcuts-modal')['classList']['remove']('hidden');}),document['getElementById'](_0x13c5e9(0x292))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x4e18a7=_0x13c5e9;document[_0x4e18a7(0xb18)](_0x4e18a7(0x67a))[_0x4e18a7(0x82f)][_0x4e18a7(0x24b)](_0x4e18a7(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xa84))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x1ac560=>{const _0x2e2647=_0x13c5e9,_0x3f098b=document['getElementById']('additional-file-shortcuts-modal'),_0x298447=_0x1ac560['target'][_0x2e2647(0xb09)]('.use-hidden-file-shortcut-btn'),_0x3ba05e=_0x1ac560[_0x2e2647(0x364)]['closest'](_0x2e2647(0x273)),_0x1e0bf0=_0x1ac560[_0x2e2647(0x364)][_0x2e2647(0xb09)](_0x2e2647(0x365));if(_0x298447)_0x3f098b['classList'][_0x2e2647(0x24b)]('hidden'),handleFileShortcutClick(_0x298447[_0x2e2647(0xcd1)]['id']);else{if(_0x3ba05e)_0x3f098b[_0x2e2647(0x82f)]['add'](_0x2e2647(0x5a9)),openFileShortcutEditor(_0x3ba05e['dataset']['id']);else{if(_0x1e0bf0){const _0x515013=_0x1e0bf0[_0x2e2647(0xcd1)]['id'];showConfirmation(_0x2e2647(0x294),async()=>{const _0x467cc6=_0x2e2647,_0x366d78=fileShortcuts[_0x467cc6(0x955)](_0x5807f6=>_0x5807f6['id']!==_0x515013),_0x15688a=doc(db,_0x467cc6(0x3f4),_0x467cc6(0xc09));await setDoc(_0x15688a,{'shortcuts':_0x366d78},{'merge':!![]});});}}}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xa6c))[_0x13c5e9(0xcc)]('click',_0x540f47=>{const _0x266ce5=_0x13c5e9;_0x540f47[_0x266ce5(0x364)][_0x266ce5(0xb09)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x266ce5(0xd05),renderAdditionalShortcutsModal(),document['getElementById'](_0x266ce5(0x5a1))[_0x266ce5(0x82f)][_0x266ce5(0xa1f)](_0x266ce5(0x5a9)));}),document['getElementById']('close-additional-shortcuts-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x4a5c6d=_0x13c5e9;document[_0x4a5c6d(0xb18)](_0x4a5c6d(0x5a1))[_0x4a5c6d(0x82f)]['add']('hidden');}),document['getElementById']('additional-shortcuts-list')['addEventListener'](_0x13c5e9(0x8b2),_0x4cd9cc=>{const _0x2b59af=_0x13c5e9,_0x36f389=_0x4cd9cc[_0x2b59af(0x364)][_0x2b59af(0xb09)](_0x2b59af(0x5d5)),_0x10bd5d=_0x4cd9cc[_0x2b59af(0x364)][_0x2b59af(0xb09)](_0x2b59af(0x725)),_0x5505da=_0x4cd9cc[_0x2b59af(0x364)][_0x2b59af(0xb09)](_0x2b59af(0x911)),_0x5ebb21=document['getElementById']('additional-shortcuts-modal');if(_0x36f389)_0x5ebb21[_0x2b59af(0x82f)][_0x2b59af(0x24b)](_0x2b59af(0x5a9)),handleShortcutClick(_0x36f389[_0x2b59af(0xcd1)]['id']);else{if(_0x10bd5d)_0x5ebb21['classList']['add'](_0x2b59af(0x5a9)),openShortcutEditor(_0x10bd5d['dataset']['id']);else{if(_0x5505da){const _0x84d6a2=_0x5505da[_0x2b59af(0xcd1)]['id'],_0xf79f7f=blueprintShortcuts['find'](_0x13b86a=>_0x13b86a['id']===_0x84d6a2)?.[_0x2b59af(0x2d2)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0xf79f7f+'\x22?',async()=>{const _0x331b08=_0x2b59af,_0x32fd88=blueprintShortcuts['filter'](_0x29ab9d=>_0x29ab9d['id']!==_0x84d6a2);try{const _0x4ea5b1=doc(db,_0x331b08(0x3f4),_0x331b08(0x880));await setDoc(_0x4ea5b1,{'blueprintShortcuts':_0x32fd88},{'merge':!![]});}catch(_0x4ee779){console[_0x331b08(0x17d)](_0x331b08(0xc33),_0x4ee779);}});}}}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x811))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x20265e=>{const _0xf016f2=_0x13c5e9,_0x50247c=_0x20265e[_0xf016f2(0x364)]['closest'](_0xf016f2(0xbd1)),_0x3c67e2=_0x20265e[_0xf016f2(0x364)]['closest']('.edit-shortcut-btn'),_0x27c218=_0x20265e[_0xf016f2(0x364)]['closest'](_0xf016f2(0x526));if(_0x3c67e2)openShortcutEditor(_0x3c67e2[_0xf016f2(0xcd1)]['id']);else{if(_0x27c218){const _0x3048dc=_0x27c218[_0xf016f2(0xcd1)]['id'],_0x4783c2=blueprintShortcuts[_0xf016f2(0x8c0)](_0x3e64f9=>_0x3e64f9['id']===_0x3048dc)?.[_0xf016f2(0x2d2)];showConfirmation(_0xf016f2(0x93d)+_0x4783c2+'\x22?',async()=>{const _0x31cd68=_0xf016f2,_0x562a68=blueprintShortcuts[_0x31cd68(0x955)](_0x283d06=>_0x283d06['id']!==_0x3048dc);try{const _0xbb978e=doc(db,_0x31cd68(0x3f4),_0x31cd68(0x880));await setDoc(_0xbb978e,{'blueprintShortcuts':_0x562a68},{'merge':!![]});}catch(_0x38c5a1){console[_0x31cd68(0x17d)](_0x31cd68(0xc33),_0x38c5a1);}});}else _0x50247c&&handleShortcutClick(_0x50247c[_0xf016f2(0xcd1)]['id']);}}),document[_0x13c5e9(0xb18)]('add-shortcut-btn')['addEventListener']('click',()=>openShortcutEditor(null)),document[_0x13c5e9(0xb18)](_0x13c5e9(0x65d))[_0x13c5e9(0xcc)]('click',()=>{const _0x343b64=_0x13c5e9;document[_0x343b64(0xb18)](_0x343b64(0x663))['classList'][_0x343b64(0x24b)](_0x343b64(0x5a9));}),document['getElementById'](_0x13c5e9(0xc93))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),saveShortcutChanges),document[_0x13c5e9(0xb18)](_0x13c5e9(0x4ca))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),async()=>{const _0x33e134=_0x13c5e9,_0x1c0d3b=document['getElementById'](_0x33e134(0x789)),_0x47d2c2=document[_0x33e134(0xb18)](_0x33e134(0xcfb));_0x1c0d3b[_0x33e134(0x370)][_0x33e134(0xab1)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x1c0d3b[_0x33e134(0x370)][0x0],_0x47d2c2[_0x33e134(0x370)][0x0]||null):showMessage(_0x33e134(0x70e));}),document[_0x13c5e9(0xb18)]('topic-quiz-bank-modal')['addEventListener'](_0x13c5e9(0x8b2),async _0x610bf9=>{const _0x42d676=_0x13c5e9,_0x281bed=document[_0x42d676(0xb18)](_0x42d676(0x1d1)),_0x34d65f=_0x610bf9[_0x42d676(0x364)][_0x42d676(0xb09)](_0x42d676(0x56d)),_0x2a8603=_0x610bf9[_0x42d676(0x364)]['closest']('.bp-unlink-quiz-btn'),_0x4c26d5=_0x610bf9[_0x42d676(0x364)][_0x42d676(0xb09)](_0x42d676(0x711)),_0x5257ed=_0x610bf9[_0x42d676(0x364)][_0x42d676(0xb09)](_0x42d676(0xa5e)),_0x4a2b03=_0x610bf9['target'][_0x42d676(0xb09)](_0x42d676(0x3ad)),_0xd81add=_0x610bf9['target'][_0x42d676(0xb09)](_0x42d676(0x8f5));if(_0x34d65f){cameFromBlueprint=!![];const _0x481d20=_0x34d65f[_0x42d676(0xcd1)][_0x42d676(0x802)];showQuizDetailView(_0x481d20),_0x281bed[_0x42d676(0x82f)][_0x42d676(0x24b)](_0x42d676(0x5a9));}else{if(_0x2a8603){const _0x17ae6c=_0x2a8603[_0x42d676(0xcd1)][_0x42d676(0x225)],_0x4043d9=_0x2a8603['dataset'][_0x42d676(0x802)],_0x1bde97=allQuizzesGlobal[_0x42d676(0x8c0)](_0x3a7b0a=>_0x3a7b0a['id']===_0x4043d9),_0x5750db=_0x1bde97?_0x1bde97[_0x42d676(0xda1)]:_0x42d676(0xd0b);showConfirmation(_0x42d676(0x439)+_0x5750db+_0x42d676(0x6d7),async()=>{const _0x1f2294=_0x42d676;try{const _0x281610=doc(db,'artifacts/'+appId+_0x1f2294(0x5e3),currentBlueprintProjectId);await updateDoc(_0x281610,{[_0x1f2294(0x916)+_0x17ae6c+_0x1f2294(0x38e)]:arrayRemove(_0x4043d9)}),showMessage(_0x1f2294(0x376)),openTopicQuizBank(_0x17ae6c),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4c7a68){console[_0x1f2294(0x17d)](_0x1f2294(0xc5e),_0x4c7a68),showMessage(_0x1f2294(0xaff));}});}else{if(_0x4c26d5){cameFromBlueprint=!![];const _0xb0d1a9=_0x4c26d5[_0x42d676(0xcd1)][_0x42d676(0x802)],_0x180e00=allQuizzesGlobal[_0x42d676(0x8c0)](_0x95d1e5=>_0x95d1e5['id']===_0xb0d1a9);_0x180e00&&(startPresentation(_0x180e00),_0x281bed['classList']['add'](_0x42d676(0x5a9)));}else{if(_0x5257ed){cameFromBlueprint=!![];const _0x27681e=_0x5257ed[_0x42d676(0xcd1)][_0x42d676(0x802)],_0x3ae707=allQuizzesGlobal[_0x42d676(0x8c0)](_0x33aa10=>_0x33aa10['id']===_0x27681e);_0x3ae707&&(currentQuizData=_0x3ae707,startAdminTest(),_0x281bed['classList'][_0x42d676(0x24b)]('hidden'));}else{if(_0x4a2b03)cameFromBlueprint=!![],handleStartLiveRace(_0x4a2b03[_0x42d676(0xcd1)][_0x42d676(0x802)]),_0x281bed[_0x42d676(0x82f)][_0x42d676(0x24b)]('hidden');else{if(_0xd81add){cameFromBlueprint=!![];const _0x3fd84a=_0xd81add[_0x42d676(0xcd1)]['quizId'],_0x22ecfe=_0xd81add[_0x42d676(0xcd1)][_0x42d676(0xc13)],_0xd0a542=allQuizzesGlobal[_0x42d676(0x8c0)](_0x6f2599=>_0x6f2599['id']===_0x3fd84a);_0xd0a542&&(showGameStartConfirmationModal(_0x3fd84a,_0x22ecfe,_0xd0a542[_0x42d676(0xda1)]),_0x281bed['classList'][_0x42d676(0x24b)](_0x42d676(0x5a9)));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x46970d=_0x13c5e9;document[_0x46970d(0xb18)]('manual-blueprint-modal')[_0x46970d(0x82f)][_0x46970d(0xa1f)](_0x46970d(0x5a9)),document[_0x46970d(0xb18)](_0x46970d(0x8db))[_0x46970d(0x52d)]='',document[_0x46970d(0xb18)](_0x46970d(0x313))[_0x46970d(0x52d)]='',document[_0x46970d(0xb18)](_0x46970d(0x152))['value']='';}),document['getElementById'](_0x13c5e9(0xc9f))['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0x4501ef=_0x13c5e9;document[_0x4501ef(0xb18)](_0x4501ef(0x407))[_0x4501ef(0x82f)][_0x4501ef(0x24b)]('hidden');}),document['getElementById'](_0x13c5e9(0xce7))[_0x13c5e9(0xcc)]('click',handleManualBlueprintSave),document['getElementById'](_0x13c5e9(0xdb))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>document[_0x13c5e9(0xb18)](_0x13c5e9(0x1f0))[_0x13c5e9(0x82f)][_0x13c5e9(0x24b)](_0x13c5e9(0x5a9))),document[_0x13c5e9(0xb18)](_0x13c5e9(0xa3b))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleSaveBlueprintPageSettings),document[_0x13c5e9(0xb18)](_0x13c5e9(0x578))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),openBlueprintQuizSettings),document[_0x13c5e9(0xb18)](_0x13c5e9(0x413))[_0x13c5e9(0xcc)]('click',saveBlueprintProject),document['getElementById'](_0x13c5e9(0xe49))['addEventListener'](_0x13c5e9(0x8b2),showBlueprintProjects),document['getElementById'](_0x13c5e9(0xc79))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x47661c=_0x13c5e9;document[_0x47661c(0xb18)]('blueprint-projects-modal')[_0x47661c(0x82f)][_0x47661c(0x24b)](_0x47661c(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x219))[_0x13c5e9(0xcc)]('click',_0x1e2234=>{const _0x1736d1=_0x13c5e9,_0x284044=_0x1e2234['target'][_0x1736d1(0xb09)]('.open-bp-project-btn'),_0x3194f8=_0x1e2234[_0x1736d1(0x364)][_0x1736d1(0xb09)](_0x1736d1(0x6df));if(_0x284044)displayBlueprintProjectManager(_0x284044['dataset']['id']);else _0x3194f8&&handleDeepDeleteBlueprintProject(_0x3194f8[_0x1736d1(0xcd1)]['id']);}),document['getElementById']('back-to-dashboard-from-bp-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x58b7a4=_0x13c5e9;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x58b7a4(0x651))[_0x58b7a4(0x82f)][_0x58b7a4(0x24b)]('hidden'),showView('admin-dashboard');}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x3c7))[_0x13c5e9(0xcc)]('click',addTopicToProject),document[_0x13c5e9(0xb18)]('bp-topic-list-container')['addEventListener'](_0x13c5e9(0x8b2),async _0x57048b=>{const _0xdaa61c=_0x13c5e9,_0x30c5bb=_0x57048b[_0xdaa61c(0x364)]['closest'](_0xdaa61c(0x754));if(!_0x30c5bb)return;const _0x1d1405=_0x30c5bb[_0xdaa61c(0xcd1)][_0xdaa61c(0x225)],_0x4230c6=_0x57048b['target'][_0xdaa61c(0xb09)](_0xdaa61c(0xbc)),_0x194576=_0x57048b[_0xdaa61c(0x364)]['closest'](_0xdaa61c(0xd33)),_0x4ebc0b=_0x57048b[_0xdaa61c(0x364)][_0xdaa61c(0xb09)]('.bp-create-topic-quiz-btn'),_0x4a9d53=_0x57048b[_0xdaa61c(0x364)][_0xdaa61c(0xb09)](_0xdaa61c(0xc2d)),_0x74f47e=_0x57048b[_0xdaa61c(0x364)]['closest'](_0xdaa61c(0xda9)),_0x1ac205=_0x57048b[_0xdaa61c(0x364)][_0xdaa61c(0xb09)]('.bp-generate-lesson-btn'),_0x1b160e=_0x57048b[_0xdaa61c(0x364)][_0xdaa61c(0xb09)](_0xdaa61c(0x2ac)),_0x442a5a=_0x57048b[_0xdaa61c(0x364)][_0xdaa61c(0xb09)](_0xdaa61c(0x909)),_0x669f5b=_0x431c32=>{const _0x5f1a3f=_0xdaa61c,_0x1eab37=_0x431c32['querySelector'](_0x5f1a3f(0x13f))[_0x5f1a3f(0x633)][_0x5f1a3f(0xb5b)](),_0x5de14d=_0x431c32[_0x5f1a3f(0xb09)](_0x5f1a3f(0x3d7))[_0x5f1a3f(0x551)],_0x4c65c8=_0x5de14d?_0x5de14d[_0x5f1a3f(0x633)]['trim']():'';return _0x4c65c8+':\x20'+_0x1eab37;};if(_0x4a9d53)openTopicQuizBank(_0x1d1405);else{if(_0x4230c6){const _0x3644b8=_0x669f5b(_0x30c5bb);selectProjectAndGenerateBlueprintQuiz(_0x3644b8,null,_0x1d1405,!![]);}else{if(_0x194576){const _0x14dbcb=_0x669f5b(_0x30c5bb);try{const _0x41ce5d=doc(db,_0xdaa61c(0xa76)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0xdaa61c(0xe3f),_0x1d1405),_0x172f8d=await getDoc(_0x41ce5d);if(_0x172f8d[_0xdaa61c(0x14d)]()){const _0x1b0445=_0x172f8d[_0xdaa61c(0xa8e)]()[_0xdaa61c(0x2ba)],_0x3caa10=document[_0xdaa61c(0x4f0)]('div'),_0x454c4b=_0x508af2=>{const _0x37391d=_0xdaa61c;if(!_0x508af2)return'';return _0x3caa10[_0x37391d(0x5f4)]=_0x508af2,_0x3caa10[_0x37391d(0x633)]||_0x3caa10[_0x37391d(0x3cc)]||'';},_0x500a63=(_0x454c4b(_0x1b0445[_0xdaa61c(0xd8a)])+'\x20'+_0x454c4b(_0x1b0445[_0xdaa61c(0x723)])+'\x20'+_0x454c4b(_0x1b0445['summary']))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x14dbcb,_0x500a63,_0x1d1405,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x4b10d4){console[_0xdaa61c(0x17d)](_0xdaa61c(0xb72),_0x4b10d4),showMessage(_0xdaa61c(0x816));}}else{if(_0x4ebc0b){const _0x3896d2=_0x669f5b(_0x30c5bb);selectProjectAndGenerateBlueprintQuiz(_0x3896d2,null,_0x1d1405,![]);}else{if(_0x74f47e){const _0x96c47b=doc(db,_0xdaa61c(0xa76)+appId+_0xdaa61c(0x5e3),currentBlueprintProjectId),_0x230bb0=await getDoc(_0x96c47b);if(_0x230bb0[_0xdaa61c(0x14d)]()){const _0x2f94ca=_0x230bb0[_0xdaa61c(0xa8e)](),_0x5c3611=_0x2f94ca[_0xdaa61c(0x5e2)][_0x1d1405];if(_0x5c3611&&_0x5c3611['status']==='generated')try{const _0x162e3a=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0xdaa61c(0xe3f),_0x1d1405),_0x5d7ce9=await getDoc(_0x162e3a);if(_0x5d7ce9[_0xdaa61c(0x14d)]()){const _0x367f4b=_0x5d7ce9['data']()[_0xdaa61c(0x2ba)];document['getElementById'](_0xdaa61c(0xb74))[_0xdaa61c(0x633)]='บทเรียนเรื่อง:\x20'+_0x669f5b(_0x30c5bb),document['getElementById']('pointContent')[_0xdaa61c(0x5f4)]=_0x367f4b['point'],document[_0xdaa61c(0xb18)]('memoryContent')[_0xdaa61c(0x5f4)]=_0x367f4b[_0xdaa61c(0x723)],document['getElementById'](_0xdaa61c(0x1b6))[_0xdaa61c(0x5f4)]=_0x367f4b['summary'];const _0x318a0d=document[_0xdaa61c(0xb18)](_0xdaa61c(0x5f1));_0x367f4b['applicationData']?(currentApplicationData=_0x367f4b[_0xdaa61c(0x487)],_0x318a0d[_0xdaa61c(0x5f4)]=currentApplicationData[_0xdaa61c(0xad5)]((_0xca4fe1,_0x1f5ccb)=>_0xdaa61c(0x31c)+(_0x1f5ccb+0x1)+'.\x20'+marked[_0xdaa61c(0x515)](_0xca4fe1['question'])+_0xdaa61c(0x423)+_0x1f5ccb+_0xdaa61c(0x986)+_0xca4fe1[_0xdaa61c(0x6ca)][_0xdaa61c(0xad5)]((_0x728c76,_0x4e1057)=>_0xdaa61c(0x38b)+_0x1f5ccb+',\x20'+_0x4e1057+_0xdaa61c(0x9bc)+String[_0xdaa61c(0x44d)](0x61+_0x4e1057)+'.\x20'+marked[_0xdaa61c(0x515)](_0x728c76)+_0xdaa61c(0x174))[_0xdaa61c(0x222)]('')+_0xdaa61c(0xbc0))[_0xdaa61c(0x222)]('')):(currentApplicationData=[],_0x318a0d[_0xdaa61c(0x5f4)]=_0x367f4b['applicationHTML']||_0x367f4b[_0xdaa61c(0x591)]),document[_0xdaa61c(0xb18)]('lesson-loader')[_0xdaa61c(0x82f)]['add'](_0xdaa61c(0x5a9)),document[_0xdaa61c(0xb18)]('lesson-sections-container')[_0xdaa61c(0x82f)][_0xdaa61c(0xa1f)](_0xdaa61c(0x5a9)),document[_0xdaa61c(0xb18)]('lesson-view-modal')[_0xdaa61c(0x82f)]['remove'](_0xdaa61c(0x5a9)),window[_0xdaa61c(0x563)]&&MathJax[_0xdaa61c(0xd16)]([document[_0xdaa61c(0xb18)](_0xdaa61c(0x235))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x2d4075){console['error']('Error\x20fetching\x20lesson\x20content:',_0x2d4075),showMessage(_0xdaa61c(0x1e3));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x1ac205){const _0x5994eb=_0x669f5b(_0x30c5bb),_0x3e039d=doc(db,_0xdaa61c(0xa76)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x2c4703=await getDoc(_0x3e039d);if(_0x2c4703[_0xdaa61c(0x14d)]()){const _0x3f4636=_0x2c4703['data']();generateAndSaveLessonForBlueprint(_0x1d1405,_0x5994eb,_0x3f4636[_0xdaa61c(0xe8)]);}}else{if(_0x1b160e)editTopicInProject(_0x1d1405);else _0x442a5a&&deleteTopicFromProject(_0x1d1405);}}}}}}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x9ce))['addEventListener'](_0x13c5e9(0x8b2),handleFixLessonLatex),document[_0x13c5e9(0xb18)](_0x13c5e9(0xa74))['addEventListener'](_0x13c5e9(0x8b2),handleExportLessonToPDF),document['getElementById']('close-lesson-view-btn')['addEventListener']('click',()=>{const _0x58e73f=_0x13c5e9;document[_0x58e73f(0xb18)](_0x58e73f(0xbdf))[_0x58e73f(0x82f)][_0x58e73f(0x24b)](_0x58e73f(0x5a9));});const _0x57d06c=document[_0x13c5e9(0xb18)]('bulk-confidence-scoring-checkbox'),_0x5bd733=document['getElementById'](_0x13c5e9(0x358));_0x57d06c[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),()=>{const _0x442ace=_0x13c5e9;_0x5bd733[_0x442ace(0x82f)]['toggle'](_0x442ace(0x5a9),!_0x57d06c['checked']);});const _0x3c3606=document[_0x13c5e9(0xb18)](_0x13c5e9(0x3cd)),_0x3395f4=document[_0x13c5e9(0xb18)](_0x13c5e9(0x63d));_0x3c3606[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),()=>{const _0x5c64ea=_0x13c5e9;_0x3395f4[_0x5c64ea(0x82f)][_0x5c64ea(0xd6b)](_0x5c64ea(0x5a9),!_0x3c3606['checked']);});const _0x545bcb=document[_0x13c5e9(0xb18)](_0x13c5e9(0xe09)),_0x4c88db=document[_0x13c5e9(0xb18)]('modal-confidence-mode-container');_0x545bcb[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),()=>{const _0x1f1c77=_0x13c5e9;_0x4c88db[_0x1f1c77(0x82f)][_0x1f1c77(0xd6b)](_0x1f1c77(0x5a9),!_0x545bcb['checked']);});const _0x39a4d4=document[_0x13c5e9(0xb18)](_0x13c5e9(0x836)),_0xa6c160=async _0x30bc18=>{const _0x145624=_0x13c5e9,_0x466410=document['getElementById'](_0x145624(0x836)),_0x38e9ce=_0x466410[_0x145624(0xcd1)]['currentMode'],_0x78efac=document['getElementById'](_0x145624(0x140));_0x466410[_0x145624(0x82f)][_0x145624(0x24b)](_0x145624(0x5a9));if(_0x38e9ce==='timed'){const _0x9e9810=_0x78efac[_0x145624(0x52d)],_0x21f0b3={'answer':_0x9e9810,'wasConfident':_0x30bc18};proceedToNextQuestion(_0x21f0b3);}else{if(_0x38e9ce===_0x145624(0x17a)){const _0x3e028f=_0x78efac[_0x145624(0xcd1)][_0x145624(0xb34)],_0x48d1a3=JSON[_0x145624(0x510)](_0x78efac[_0x145624(0xcd1)][_0x145624(0x339)]),_0x4f5c97=JSON[_0x145624(0x510)](_0x78efac[_0x145624(0xcd1)][_0x145624(0x4aa)]),_0x56bd6f=_0x78efac[_0x145624(0xcd1)][_0x145624(0xaa6)];handleSyncAnswerSubmit(_0x3e028f,_0x48d1a3,_0x4f5c97,_0x56bd6f,_0x30bc18);}}_0x466410['dataset']['currentMode']='';};document[_0x13c5e9(0xb18)](_0x13c5e9(0x57a))['addEventListener'](_0x13c5e9(0x8b2),()=>_0xa6c160(!![])),document[_0x13c5e9(0xb18)](_0x13c5e9(0x221))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>_0xa6c160(![])),liveGameView[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x30c503=>{const _0x3d96ef=_0x13c5e9,_0x4abeb3=_0x30c503[_0x3d96ef(0x364)]['closest'](_0x3d96ef(0x8a3));if(_0x4abeb3){const _0x2f3d96=_0x4abeb3[_0x3d96ef(0xcd1)][_0x3d96ef(0xaa6)];_0x2f3d96&&handleKickPlayerSync(_0x2f3d96);}});const _0x362334=document[_0x13c5e9(0xb18)](_0x13c5e9(0xd2b)),_0x1b3294=document[_0x13c5e9(0xb18)]('cancel-game-start-btn');_0x1b3294[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0xf3ca00=_0x13c5e9;document[_0xf3ca00(0xb18)](_0xf3ca00(0x51b))[_0xf3ca00(0x82f)]['add'](_0xf3ca00(0x5a9));}),_0x362334[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x531f66=_0x13c5e9,_0x51c774=document[_0x531f66(0xb18)]('game-start-quiz-id')[_0x531f66(0x52d)],_0x80031e=document['getElementById'](_0x531f66(0x2ef))[_0x531f66(0x52d)],_0x128281=document[_0x531f66(0xb18)](_0x531f66(0xfa))[_0x531f66(0x2f1)];document[_0x531f66(0xb18)](_0x531f66(0x51b))[_0x531f66(0x82f)][_0x531f66(0x24b)](_0x531f66(0x5a9));switch(_0x80031e){case _0x531f66(0x146):handleStartLiveRace(_0x51c774,_0x128281);break;case'team':handleStartTeamQuiz(_0x51c774,_0x128281);break;case _0x531f66(0xbd0):handleStartGroupMode(_0x51c774,_0x128281);break;case _0x531f66(0x17a):const _0x36093a=document[_0x531f66(0x877)](_0x531f66(0x897))['value']||_0x531f66(0x529);handleStartSyncMode(_0x51c774,_0x128281,_0x36093a);break;}}),document['getElementById']('join-group-activity-btn')[_0x13c5e9(0xcc)]('click',handleJoinGroupActivity),liveGameView[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x43e83f=>{const _0x2ffbec=_0x13c5e9,_0x4e47a1=_0x43e83f[_0x2ffbec(0x364)][_0x2ffbec(0xb09)](_0x2ffbec(0x96e));document['querySelectorAll'](_0x2ffbec(0x893))['forEach'](_0x31ccab=>{const _0x1d7b4a=_0x2ffbec;(!_0x4e47a1||_0x31ccab['id']!==_0x4e47a1[_0x1d7b4a(0xcd1)]['tooltipTarget'])&&_0x31ccab[_0x1d7b4a(0x82f)][_0x1d7b4a(0xa1f)]('visible');});if(!_0x4e47a1)return;const _0x16b016=_0x4e47a1[_0x2ffbec(0xcd1)][_0x2ffbec(0x6a8)],_0x273b9b=document[_0x2ffbec(0xb18)](_0x16b016);_0x273b9b&&_0x273b9b[_0x2ffbec(0x82f)][_0x2ffbec(0xd6b)]('visible');}),liveGameView[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x5e9310=>{const _0x15b8e8=_0x13c5e9;if(_0x5e9310['target'][_0x15b8e8(0x82f)]['contains'](_0x15b8e8(0x32c))){const _0x593d04=_0x5e9310['target'][_0x15b8e8(0xcd1)]['playerName'];_0x593d04&&handleKickPlayer(_0x593d04);}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x4c7))['addEventListener']('focus',()=>document[_0x13c5e9(0xb18)](_0x13c5e9(0x8d6))[_0x13c5e9(0x82f)][_0x13c5e9(0xa1f)](_0x13c5e9(0x5a9))),document[_0x13c5e9(0xb18)](_0x13c5e9(0x8d6))['addEventListener'](_0x13c5e9(0x8b2),handleSaveProjectName),document['getElementById'](_0x13c5e9(0x4c7))['addEventListener'](_0x13c5e9(0x195),_0x368d9a=>{const _0x545634=_0x13c5e9;_0x368d9a['key']===_0x545634(0x4ff)&&(_0x368d9a[_0x545634(0x105)](),_0x368d9a[_0x545634(0x364)][_0x545634(0xdf7)](),handleSaveProjectName());}),document[_0x13c5e9(0xb18)]('bulk-quiz-settings-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x5cd324=_0x13c5e9;document[_0x5cd324(0xb18)](_0x5cd324(0x9b3))[_0x5cd324(0x82f)]['remove'](_0x5cd324(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x328))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x43cbba=_0x13c5e9;document[_0x43cbba(0xb18)](_0x43cbba(0x9b3))[_0x43cbba(0x82f)][_0x43cbba(0x24b)](_0x43cbba(0x5a9));}),document[_0x13c5e9(0xb18)]('confirm-bulk-quiz-settings-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleBulkUpdateQuizSettings),document['getElementById'](_0x13c5e9(0x5c0))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleModeSwitch),document[_0x13c5e9(0xb18)](_0x13c5e9(0x255))['addEventListener'](_0x13c5e9(0x8b2),handleUpdateOldQuizzes),document[_0x13c5e9(0xb18)]('reset-project-order-btn')['addEventListener']('click',handleResetProjectOrder),document[_0x13c5e9(0xb18)](_0x13c5e9(0xa1c))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleSaveVisibilitySettings),document['getElementById'](_0x13c5e9(0x762))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleAddCustomMathTopic),document[_0x13c5e9(0xb18)]('select-all-topics-btn')[_0x13c5e9(0xcc)]('click',handleSelectAllTopics),document[_0x13c5e9(0xb18)]('deselect-all-topics-btn')['addEventListener'](_0x13c5e9(0x8b2),handleDeselectAllTopics),document[_0x13c5e9(0xb18)](_0x13c5e9(0x528))['addEventListener']('click',()=>{const _0x48faa7=_0x13c5e9;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x48faa7(0xabc));}}),document[_0x13c5e9(0xb18)]('back-to-project-btn')[_0x13c5e9(0xcc)]('click',()=>{const _0x2c5608=_0x13c5e9;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x2c5608(0xcef));}}),document['getElementById']('back-to-dashboard-from-results-btn')['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0x4e033b=_0x13c5e9;showView(_0x4e033b(0xabc));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x2b4))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x28be96=_0x13c5e9;messageModal[_0x28be96(0x82f)][_0x28be96(0x24b)]('hidden'),typeof modalConfirmAction===_0x28be96(0xe05)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x39c))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>createProjectModal['classList'][_0x13c5e9(0xa1f)]('hidden')),document[_0x13c5e9(0xb18)](_0x13c5e9(0xceb))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>createProjectModal['classList'][_0x13c5e9(0x24b)](_0x13c5e9(0x5a9))),document['getElementById'](_0x13c5e9(0x3c8))[_0x13c5e9(0xcc)]('click',()=>adminPasswordModal[_0x13c5e9(0x82f)][_0x13c5e9(0x24b)](_0x13c5e9(0x5a9))),document[_0x13c5e9(0xb18)]('confirm-admin-login-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleAdminLogin),document[_0x13c5e9(0xb18)](_0x13c5e9(0x9ad))[_0x13c5e9(0xcc)](_0x13c5e9(0x4a8),_0x4a0f17=>{if(_0x4a0f17['key']==='Enter')handleAdminLogin();}),document[_0x13c5e9(0xb18)]('cancel-delete-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x367df9=_0x13c5e9;confirmationModal['classList'][_0x367df9(0x24b)](_0x367df9(0x5a9)),typeof cancelAction===_0x367df9(0xe05)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x15d))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x428175=_0x13c5e9;confirmAction&&confirmAction(),confirmationModal[_0x428175(0x82f)][_0x428175(0x24b)](_0x428175(0x5a9)),confirmAction=null,cancelAction=null;}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x98c))['addEventListener'](_0x13c5e9(0x8b2),()=>renameQuizModal['classList'][_0x13c5e9(0x24b)]('hidden')),document['getElementById'](_0x13c5e9(0x32d))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),confirmRenameQuiz),document[_0x13c5e9(0xb18)](_0x13c5e9(0x4f3))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>moveQuizModal[_0x13c5e9(0x82f)][_0x13c5e9(0x24b)](_0x13c5e9(0x5a9))),document[_0x13c5e9(0xb18)](_0x13c5e9(0xc80))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),confirmMoveQuiz),document[_0x13c5e9(0xb18)](_0x13c5e9(0xcc6))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>quizSettingsModal['classList'][_0x13c5e9(0x24b)](_0x13c5e9(0x5a9))),document['getElementById'](_0x13c5e9(0xbe5))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),confirmQuizSettings),document['getElementById'](_0x13c5e9(0xc76))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>quizStatusModal[_0x13c5e9(0x82f)][_0x13c5e9(0x24b)](_0x13c5e9(0x5a9))),document['getElementById'](_0x13c5e9(0xe04))[_0x13c5e9(0xcc)]('click',confirmQuizStatus);const _0x39665b=document['getElementById'](_0x13c5e9(0x429));document[_0x13c5e9(0xb18)](_0x13c5e9(0x691))[_0x13c5e9(0xcc)]('click',()=>{const _0x356b4e=_0x13c5e9;_0x39665b[_0x356b4e(0x82f)][_0x356b4e(0x24b)]('hidden');}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x42a))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),async()=>{const _0x28b29a=_0x13c5e9,_0x2b01c6=allQuizzes['find'](_0x263cdb=>_0x263cdb['id']===actionTargetId);_0x2b01c6?(currentQuizData=_0x2b01c6,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x39665b[_0x28b29a(0x82f)][_0x28b29a(0x24b)]('hidden');}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x3a8))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),async()=>{const _0x2b54e6=_0x13c5e9,_0x2b46a2=allQuizzes[_0x2b54e6(0x8c0)](_0x2aed79=>_0x2aed79['id']===actionTargetId);_0x2b46a2?(currentQuizData=_0x2b46a2,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x39665b[_0x2b54e6(0x82f)][_0x2b54e6(0x24b)](_0x2b54e6(0x5a9));});const _0x57a3b3=document['getElementById']('open-global-live-btn');_0x57a3b3[_0x13c5e9(0x5f4)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x57a3b3[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),openGlobalActivityModal),document[_0x13c5e9(0xb18)](_0x13c5e9(0xb9c))['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0x23ef25=_0x13c5e9;document[_0x23ef25(0xb18)]('global-activity-modal')[_0x23ef25(0x82f)][_0x23ef25(0x24b)](_0x23ef25(0x5a9));}),document['getElementById'](_0x13c5e9(0xab7))[_0x13c5e9(0xcc)](_0x13c5e9(0xade),_0x40347a=>{const _0x354403=_0x13c5e9;renderGlobalActivityList(_0x40347a[_0x354403(0x364)][_0x354403(0x52d)]);}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xd99))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x24c6ac=>{const _0x2e5a5c=_0x13c5e9,_0x8abe5d=_0x24c6ac['target']['closest'](_0x2e5a5c(0xdef));if(!_0x8abe5d)return;const _0x58ef72=_0x8abe5d[_0x2e5a5c(0xcd1)]['id'],_0x389731=_0x8abe5d['dataset'][_0x2e5a5c(0xc13)],_0x101c73=allQuizzesGlobal[_0x2e5a5c(0x8c0)](_0x76a855=>_0x76a855['id']===_0x58ef72);_0x101c73&&(document[_0x2e5a5c(0xb18)]('global-activity-modal')[_0x2e5a5c(0x82f)]['add'](_0x2e5a5c(0x5a9)),_0x389731===_0x2e5a5c(0x146)?handleStartLiveRace(_0x58ef72):showGameStartConfirmationModal(_0x58ef72,_0x389731,_0x101c73[_0x2e5a5c(0xda1)]));}),document[_0x13c5e9(0xb18)]('project-search-input')[_0x13c5e9(0xcc)](_0x13c5e9(0xade),renderProjects),document['getElementById'](_0x13c5e9(0xc88))[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),async()=>{const _0x59e208=_0x13c5e9,_0x49552a=document[_0x59e208(0xb18)](_0x59e208(0xc88))[_0x59e208(0x52d)],_0xf309d4=doc(db,_0x59e208(0x3f4),_0x59e208(0x880));try{await setDoc(_0xf309d4,{'projectSort':_0x49552a},{'merge':!![]});}catch(_0x399c7d){console[_0x59e208(0x17d)](_0x59e208(0xdeb),_0x399c7d),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document['getElementById'](_0x13c5e9(0xc1b))[_0x13c5e9(0xcc)]('input',renderQuizzes),document[_0x13c5e9(0xb18)](_0x13c5e9(0x59a))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x23293c=_0x13c5e9;globalDashboardSettings['projectView']='grid',saveUserPreference(_0x23293c(0x2f9),_0x23293c(0x700)),renderProjects();}),document[_0x13c5e9(0xb18)]('list-view-btn')[_0x13c5e9(0xcc)]('click',()=>{const _0x2d2a3c=_0x13c5e9;globalDashboardSettings[_0x2d2a3c(0x2f9)]='list',saveUserPreference(_0x2d2a3c(0x2f9),_0x2d2a3c(0x540)),renderProjects();}),manageTab[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>switchProjectTab('manage')),resultsTab[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>switchProjectTab(_0x13c5e9(0xb5f))),leaderboardTab[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>switchProjectTab(_0x13c5e9(0x908))),document[_0x13c5e9(0xb18)]('analytics-tab-btn')[_0x13c5e9(0xcc)]('click',()=>switchQuizDetailTab(_0x13c5e9(0x46b))),document[_0x13c5e9(0xb18)](_0x13c5e9(0x2bc))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>switchQuizDetailTab(_0x13c5e9(0x280))),document[_0x13c5e9(0xb18)](_0x13c5e9(0xb55))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>switchQuizDetailTab('leaderboard-quiz')),document['getElementById']('behavior-log-tab-btn')[_0x13c5e9(0xcc)]('click',()=>switchQuizDetailTab(_0x13c5e9(0xcfc))),document[_0x13c5e9(0xb18)](_0x13c5e9(0x62e))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),generateWorksheet);const _0x405b4f=document['getElementById'](_0x13c5e9(0xd4c)),_0x1e4e35=document[_0x13c5e9(0xb18)](_0x13c5e9(0x5a0)),_0x5efd94=document[_0x13c5e9(0xb18)](_0x13c5e9(0x899)),_0x1442dd=document['getElementById'](_0x13c5e9(0xa6c)),_0x462497=document[_0x13c5e9(0xb18)](_0x13c5e9(0x3bb)),_0x140bc3=document['getElementById']('parallel-test-input-area');topicTab[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x1895b0=_0x13c5e9;topicTab[_0x1895b0(0x82f)][_0x1895b0(0x24b)]('active'),textTab[_0x1895b0(0x82f)][_0x1895b0(0xa1f)](_0x1895b0(0x4f9)),fileTab['classList'][_0x1895b0(0xa1f)](_0x1895b0(0x4f9)),worksheetTab[_0x1895b0(0x82f)]['remove'](_0x1895b0(0x4f9));if(_0x405b4f)_0x405b4f['classList']['remove'](_0x1895b0(0x4f9));if(_0x5efd94)_0x5efd94[_0x1895b0(0x82f)][_0x1895b0(0xa1f)](_0x1895b0(0x4f9));if(_0x462497)_0x462497[_0x1895b0(0x82f)][_0x1895b0(0xa1f)](_0x1895b0(0x4f9));topicInputArea[_0x1895b0(0x82f)]['remove']('hidden'),textInputArea[_0x1895b0(0x82f)][_0x1895b0(0x24b)]('hidden'),fileInputArea[_0x1895b0(0x82f)][_0x1895b0(0x24b)]('hidden'),worksheetInputArea[_0x1895b0(0x82f)]['add'](_0x1895b0(0x5a9));if(_0x1e4e35)_0x1e4e35[_0x1895b0(0x82f)][_0x1895b0(0x24b)](_0x1895b0(0x5a9));if(_0x1442dd)_0x1442dd[_0x1895b0(0x82f)][_0x1895b0(0x24b)]('hidden');if(_0x140bc3)_0x140bc3['classList'][_0x1895b0(0x24b)](_0x1895b0(0x5a9));}),textTab[_0x13c5e9(0xcc)]('click',()=>{const _0x2c73de=_0x13c5e9;textTab[_0x2c73de(0x82f)]['add'](_0x2c73de(0x4f9)),topicTab['classList'][_0x2c73de(0xa1f)](_0x2c73de(0x4f9)),fileTab['classList'][_0x2c73de(0xa1f)](_0x2c73de(0x4f9)),worksheetTab[_0x2c73de(0x82f)][_0x2c73de(0xa1f)](_0x2c73de(0x4f9));if(_0x405b4f)_0x405b4f['classList'][_0x2c73de(0xa1f)](_0x2c73de(0x4f9));if(_0x5efd94)_0x5efd94[_0x2c73de(0x82f)][_0x2c73de(0xa1f)]('active');if(_0x462497)_0x462497[_0x2c73de(0x82f)]['remove'](_0x2c73de(0x4f9));textInputArea['classList'][_0x2c73de(0xa1f)](_0x2c73de(0x5a9)),topicInputArea[_0x2c73de(0x82f)][_0x2c73de(0x24b)](_0x2c73de(0x5a9)),fileInputArea['classList'][_0x2c73de(0x24b)]('hidden'),worksheetInputArea[_0x2c73de(0x82f)]['add'](_0x2c73de(0x5a9));if(_0x1e4e35)_0x1e4e35[_0x2c73de(0x82f)][_0x2c73de(0x24b)](_0x2c73de(0x5a9));if(_0x1442dd)_0x1442dd[_0x2c73de(0x82f)]['add']('hidden');if(_0x140bc3)_0x140bc3[_0x2c73de(0x82f)][_0x2c73de(0x24b)](_0x2c73de(0x5a9));}),fileTab[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x584255=_0x13c5e9;fileTab[_0x584255(0x82f)][_0x584255(0x24b)](_0x584255(0x4f9)),topicTab[_0x584255(0x82f)][_0x584255(0xa1f)]('active'),textTab[_0x584255(0x82f)][_0x584255(0xa1f)](_0x584255(0x4f9)),worksheetTab[_0x584255(0x82f)][_0x584255(0xa1f)](_0x584255(0x4f9));if(_0x405b4f)_0x405b4f[_0x584255(0x82f)]['remove'](_0x584255(0x4f9));if(_0x5efd94)_0x5efd94[_0x584255(0x82f)]['remove'](_0x584255(0x4f9));if(_0x462497)_0x462497['classList'][_0x584255(0xa1f)](_0x584255(0x4f9));fileInputArea[_0x584255(0x82f)][_0x584255(0xa1f)](_0x584255(0x5a9)),topicInputArea[_0x584255(0x82f)][_0x584255(0x24b)](_0x584255(0x5a9)),textInputArea['classList']['add'](_0x584255(0x5a9)),worksheetInputArea[_0x584255(0x82f)]['add'](_0x584255(0x5a9));if(_0x1e4e35)_0x1e4e35[_0x584255(0x82f)][_0x584255(0x24b)](_0x584255(0x5a9));if(_0x1442dd)_0x1442dd[_0x584255(0x82f)][_0x584255(0x24b)](_0x584255(0x5a9));if(_0x140bc3)_0x140bc3[_0x584255(0x82f)][_0x584255(0x24b)](_0x584255(0x5a9));}),worksheetTab[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x20421b=_0x13c5e9;worksheetTab[_0x20421b(0x82f)][_0x20421b(0x24b)](_0x20421b(0x4f9)),topicTab['classList'][_0x20421b(0xa1f)](_0x20421b(0x4f9)),textTab['classList'][_0x20421b(0xa1f)](_0x20421b(0x4f9)),fileTab[_0x20421b(0x82f)]['remove'](_0x20421b(0x4f9));if(_0x405b4f)_0x405b4f[_0x20421b(0x82f)][_0x20421b(0xa1f)]('active');if(_0x5efd94)_0x5efd94['classList'][_0x20421b(0xa1f)](_0x20421b(0x4f9));if(_0x462497)_0x462497[_0x20421b(0x82f)][_0x20421b(0xa1f)]('active');worksheetInputArea[_0x20421b(0x82f)][_0x20421b(0xa1f)](_0x20421b(0x5a9)),topicInputArea[_0x20421b(0x82f)][_0x20421b(0x24b)](_0x20421b(0x5a9)),textInputArea[_0x20421b(0x82f)][_0x20421b(0x24b)](_0x20421b(0x5a9)),fileInputArea[_0x20421b(0x82f)][_0x20421b(0x24b)](_0x20421b(0x5a9));if(_0x1e4e35)_0x1e4e35[_0x20421b(0x82f)][_0x20421b(0x24b)]('hidden');if(_0x1442dd)_0x1442dd['classList'][_0x20421b(0x24b)](_0x20421b(0x5a9));if(_0x140bc3)_0x140bc3[_0x20421b(0x82f)][_0x20421b(0x24b)](_0x20421b(0x5a9));});const _0x48db10=document[_0x13c5e9(0xb18)](_0x13c5e9(0x4ba)),_0x14c8b5=document[_0x13c5e9(0xb18)](_0x13c5e9(0x9d7));_0x48db10&&_0x48db10[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x448852=_0x13c5e9;topicTab['classList'][_0x448852(0xa1f)](_0x448852(0x4f9)),textTab[_0x448852(0x82f)][_0x448852(0xa1f)](_0x448852(0x4f9)),fileTab[_0x448852(0x82f)][_0x448852(0xa1f)](_0x448852(0x4f9)),worksheetTab[_0x448852(0x82f)][_0x448852(0xa1f)](_0x448852(0x4f9));if(_0x405b4f)_0x405b4f[_0x448852(0x82f)][_0x448852(0xa1f)]('active');if(_0x5efd94)_0x5efd94[_0x448852(0x82f)][_0x448852(0xa1f)](_0x448852(0x4f9));if(_0x462497)_0x462497[_0x448852(0x82f)]['remove'](_0x448852(0x4f9));_0x48db10[_0x448852(0x82f)]['add'](_0x448852(0x4f9)),topicInputArea['classList'][_0x448852(0x24b)]('hidden'),textInputArea[_0x448852(0x82f)][_0x448852(0x24b)]('hidden'),fileInputArea[_0x448852(0x82f)][_0x448852(0x24b)](_0x448852(0x5a9)),worksheetInputArea['classList']['add'](_0x448852(0x5a9));if(_0x1e4e35)_0x1e4e35[_0x448852(0x82f)][_0x448852(0x24b)](_0x448852(0x5a9));if(_0x1442dd)_0x1442dd[_0x448852(0x82f)][_0x448852(0x24b)]('hidden');if(_0x140bc3)_0x140bc3[_0x448852(0x82f)][_0x448852(0x24b)](_0x448852(0x5a9));_0x14c8b5[_0x448852(0x82f)][_0x448852(0xa1f)](_0x448852(0x5a9)),displayQuestionBank();});_0x405b4f&&(_0x405b4f['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0x2169e8=_0x13c5e9;_0x405b4f[_0x2169e8(0x82f)][_0x2169e8(0x24b)](_0x2169e8(0x4f9)),topicTab[_0x2169e8(0x82f)]['remove'](_0x2169e8(0x4f9)),textTab[_0x2169e8(0x82f)]['remove'](_0x2169e8(0x4f9)),fileTab[_0x2169e8(0x82f)][_0x2169e8(0xa1f)](_0x2169e8(0x4f9)),worksheetTab[_0x2169e8(0x82f)][_0x2169e8(0xa1f)](_0x2169e8(0x4f9));if(_0x5efd94)_0x5efd94[_0x2169e8(0x82f)][_0x2169e8(0xa1f)](_0x2169e8(0x4f9));if(_0x462497)_0x462497[_0x2169e8(0x82f)][_0x2169e8(0xa1f)]('active');_0x1e4e35[_0x2169e8(0x82f)][_0x2169e8(0xa1f)](_0x2169e8(0x5a9)),topicInputArea[_0x2169e8(0x82f)]['add'](_0x2169e8(0x5a9)),textInputArea[_0x2169e8(0x82f)][_0x2169e8(0x24b)]('hidden'),fileInputArea['classList'][_0x2169e8(0x24b)]('hidden'),worksheetInputArea[_0x2169e8(0x82f)][_0x2169e8(0x24b)]('hidden');if(_0x1442dd)_0x1442dd[_0x2169e8(0x82f)]['add'](_0x2169e8(0x5a9));if(_0x140bc3)_0x140bc3[_0x2169e8(0x82f)][_0x2169e8(0x24b)](_0x2169e8(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x92b))[_0x13c5e9(0xcc)]('click',handleGenerateFromLink));_0x5efd94&&_0x5efd94[_0x13c5e9(0xcc)]('click',()=>{const _0x4c8cf1=_0x13c5e9;_0x5efd94[_0x4c8cf1(0x82f)][_0x4c8cf1(0x24b)](_0x4c8cf1(0x4f9)),topicTab[_0x4c8cf1(0x82f)]['remove']('active'),textTab['classList'][_0x4c8cf1(0xa1f)](_0x4c8cf1(0x4f9)),fileTab[_0x4c8cf1(0x82f)][_0x4c8cf1(0xa1f)](_0x4c8cf1(0x4f9)),worksheetTab[_0x4c8cf1(0x82f)][_0x4c8cf1(0xa1f)](_0x4c8cf1(0x4f9));if(_0x405b4f)_0x405b4f['classList'][_0x4c8cf1(0xa1f)](_0x4c8cf1(0x4f9));if(_0x48db10)_0x48db10[_0x4c8cf1(0x82f)][_0x4c8cf1(0xa1f)]('active');if(_0x462497)_0x462497[_0x4c8cf1(0x82f)][_0x4c8cf1(0xa1f)](_0x4c8cf1(0x4f9));_0x1442dd[_0x4c8cf1(0x82f)]['remove'](_0x4c8cf1(0x5a9)),topicInputArea[_0x4c8cf1(0x82f)]['add'](_0x4c8cf1(0x5a9)),textInputArea[_0x4c8cf1(0x82f)][_0x4c8cf1(0x24b)](_0x4c8cf1(0x5a9)),fileInputArea[_0x4c8cf1(0x82f)][_0x4c8cf1(0x24b)](_0x4c8cf1(0x5a9)),worksheetInputArea[_0x4c8cf1(0x82f)][_0x4c8cf1(0x24b)]('hidden');if(_0x1e4e35)_0x1e4e35[_0x4c8cf1(0x82f)][_0x4c8cf1(0x24b)](_0x4c8cf1(0x5a9));if(_0x14c8b5)_0x14c8b5[_0x4c8cf1(0x82f)][_0x4c8cf1(0x24b)](_0x4c8cf1(0x5a9));if(_0x140bc3)_0x140bc3[_0x4c8cf1(0x82f)][_0x4c8cf1(0x24b)](_0x4c8cf1(0x5a9));});_0x462497&&_0x462497[_0x13c5e9(0xcc)]('click',()=>{const _0x8c70d5=_0x13c5e9;_0x462497[_0x8c70d5(0x82f)]['add'](_0x8c70d5(0x4f9)),topicTab['classList'][_0x8c70d5(0xa1f)](_0x8c70d5(0x4f9)),textTab[_0x8c70d5(0x82f)]['remove'](_0x8c70d5(0x4f9)),fileTab[_0x8c70d5(0x82f)]['remove'](_0x8c70d5(0x4f9)),worksheetTab[_0x8c70d5(0x82f)][_0x8c70d5(0xa1f)](_0x8c70d5(0x4f9));if(_0x405b4f)_0x405b4f[_0x8c70d5(0x82f)][_0x8c70d5(0xa1f)]('active');if(_0x5efd94)_0x5efd94[_0x8c70d5(0x82f)][_0x8c70d5(0xa1f)](_0x8c70d5(0x4f9));if(_0x48db10)_0x48db10[_0x8c70d5(0x82f)]['remove'](_0x8c70d5(0x4f9));_0x140bc3[_0x8c70d5(0x82f)]['remove'](_0x8c70d5(0x5a9)),topicInputArea[_0x8c70d5(0x82f)][_0x8c70d5(0x24b)](_0x8c70d5(0x5a9)),textInputArea[_0x8c70d5(0x82f)][_0x8c70d5(0x24b)](_0x8c70d5(0x5a9)),fileInputArea['classList'][_0x8c70d5(0x24b)]('hidden'),worksheetInputArea[_0x8c70d5(0x82f)][_0x8c70d5(0x24b)]('hidden');if(_0x1e4e35)_0x1e4e35[_0x8c70d5(0x82f)][_0x8c70d5(0x24b)](_0x8c70d5(0x5a9));if(_0x1442dd)_0x1442dd[_0x8c70d5(0x82f)]['add'](_0x8c70d5(0x5a9));if(_0x14c8b5)_0x14c8b5['classList']['add']('hidden');});const _0x5eac91=document[_0x13c5e9(0xb18)](_0x13c5e9(0x789)),_0x320132=document[_0x13c5e9(0xb18)]('generate-from-blueprint-btn');if(_0x5eac91){const _0x2042f0=document[_0x13c5e9(0xb18)](_0x13c5e9(0x789)),_0x3252c9=document[_0x13c5e9(0xb18)]('generate-from-blueprint-btn'),_0x5306d5=document[_0x13c5e9(0xb18)](_0x13c5e9(0xd8)),_0x6d6bb8=document[_0x13c5e9(0xb18)](_0x13c5e9(0x3aa)),_0x2eacd7=document['getElementById'](_0x13c5e9(0xa61)),_0x494835=document['getElementById'](_0x13c5e9(0x2a9));_0x2042f0&&_0x2042f0[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),async _0x93435d=>{const _0x46c5b7=_0x13c5e9;_0x5306d5[_0x46c5b7(0x82f)][_0x46c5b7(0x24b)]('hidden'),_0x2eacd7[_0x46c5b7(0x82f)][_0x46c5b7(0x24b)](_0x46c5b7(0x5a9)),_0x6d6bb8[_0x46c5b7(0x2f1)]=![],_0x3252c9[_0x46c5b7(0x64b)]=!![];const _0x38104f=_0x93435d['target'][_0x46c5b7(0x370)][0x0];if(_0x38104f){_0x3252c9[_0x46c5b7(0x64b)]=![];try{const _0x4fec1b=await extractTextFromPdf(_0x38104f);await analyzeBlueprintForTopics(_0x4fec1b);}catch(_0x27c4da){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x5306d5['classList'][_0x46c5b7(0x24b)](_0x46c5b7(0x5a9));}}}),_0x6d6bb8&&_0x6d6bb8[_0x13c5e9(0xcc)]('change',_0x473c57=>{const _0x18052e=_0x13c5e9,_0x3bb07e=_0x473c57['target']['checked'];_0x2eacd7[_0x18052e(0x82f)][_0x18052e(0xd6b)](_0x18052e(0x5a9),!_0x3bb07e),_0x3252c9['disabled']=_0x3bb07e;}),_0x494835&&(_0x494835&&_0x494835[_0x13c5e9(0xcc)]('click',_0x4ea527=>{const _0x3e68cb=_0x13c5e9,_0x3490d9=_0x4ea527['target'][_0x3e68cb(0xb09)]('.topic-selection-btn'),_0x3d5bfc=_0x4ea527[_0x3e68cb(0x364)][_0x3e68cb(0xb09)](_0x3e68cb(0xdbb));if(_0x3490d9){const _0x4473c2=unescape(_0x3490d9[_0x3e68cb(0xcd1)]['topic']);generateQuizForSingleTopic(_0x4473c2);}else{if(_0x3d5bfc){const _0x5f591b=unescape(_0x3d5bfc[_0x3e68cb(0xcd1)]['topic']);handleGenerateTeachingContent(_0x5f591b);}}}));}_0x320132&&_0x320132[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleGenerateFromBlueprint);const _0xa09898=document[_0x13c5e9(0xb18)](_0x13c5e9(0x544)),_0x2118da=document[_0x13c5e9(0xb18)](_0x13c5e9(0x91d));_0xa09898&&_0xa09898[_0x13c5e9(0xcc)]('change',_0x9bc741=>{const _0xff7e62=_0x13c5e9;_0x2118da['disabled']=_0x9bc741[_0xff7e62(0x364)]['files'][_0xff7e62(0xab1)]===0x0;});_0x2118da&&_0x2118da[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x13c5e9(0xcc)]('click',handleLoadQuiz),startQuizBtn[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),async()=>{const _0x2ee56e=_0x13c5e9,_0x25765c=document[_0x2ee56e(0xb18)](_0x2ee56e(0xa4a));currentStudentName=_0x25765c[_0x2ee56e(0x52d)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x2c9066=currentQuizData['id'],_0xf0424c=doc(db,'artifacts/'+appId+_0x2ee56e(0xb87)+_0x2c9066+_0x2ee56e(0xd90),currentStudentName),_0x296de8=await getDoc(_0xf0424c);!_0x296de8['exists']()?await setDoc(_0xf0424c,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0xf0424c,{'startedAt':new Date()['toISOString']()});}catch(_0x431c3e){console[_0x2ee56e(0x17d)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x431c3e),showMessage(_0x2ee56e(0xe2f));return;}studentNameSelectionView[_0x2ee56e(0x82f)][_0x2ee56e(0x24b)](_0x2ee56e(0x5a9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')['addEventListener'](_0x13c5e9(0x8b2),showJoinGameView),document[_0x13c5e9(0xb18)](_0x13c5e9(0x125))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleJoinLiveGame),document[_0x13c5e9(0xb18)](_0x13c5e9(0xd21))['addEventListener'](_0x13c5e9(0x8b2),()=>showView('student'));const _0x179adc=()=>{const _0x2d2829=_0x13c5e9,_0x47a72f=document[_0x2d2829(0xb18)](_0x2d2829(0xb3f))[_0x2d2829(0x633)][_0x2d2829(0x572)](/[^a-z0-9]/gi,'_')[_0x2d2829(0x123)]();return'results_'+(_0x47a72f||_0x2d2829(0x193));},_0xc176e7=document['getElementById'](_0x13c5e9(0x95b));_0xc176e7&&_0xc176e7['addEventListener'](_0x13c5e9(0xade),_0x39eaf1=>{const _0x1d3efb=_0x13c5e9,_0x229f21=_0x39eaf1[_0x1d3efb(0x364)][_0x1d3efb(0x52d)][_0x1d3efb(0x123)]()[_0x1d3efb(0xb5b)](),_0x41c0f9=document[_0x1d3efb(0xb18)](_0x1d3efb(0xd47)),_0x5d4e8e=_0x41c0f9[_0x1d3efb(0xccb)]('.topic-category');_0x5d4e8e[_0x1d3efb(0x157)](_0xa5d8c=>{const _0x223534=_0x1d3efb;let _0x45d7aa=![];const _0x32f246=_0xa5d8c[_0x223534(0xccb)](_0x223534(0x1fc));_0x32f246[_0x223534(0x157)](_0x13fa91=>{const _0x5a0bc2=_0x223534,_0x2b77bc=_0x13fa91[_0x5a0bc2(0x877)]('.topic-name-display')[_0x5a0bc2(0x633)][_0x5a0bc2(0x123)]();_0x2b77bc[_0x5a0bc2(0x2e7)](_0x229f21)?(_0x13fa91['style'][_0x5a0bc2(0x738)]=_0x5a0bc2(0xca),_0x45d7aa=!![]):_0x13fa91[_0x5a0bc2(0xbaf)][_0x5a0bc2(0x738)]=_0x5a0bc2(0x43f);}),_0x45d7aa?_0xa5d8c[_0x223534(0xbaf)][_0x223534(0x738)]=_0x223534(0x298):_0xa5d8c[_0x223534(0xbaf)][_0x223534(0x738)]=_0x223534(0x43f);});});document[_0x13c5e9(0xb18)](_0x13c5e9(0x7c2))['addEventListener']('click',()=>exportTableAsImage(_0x13c5e9(0xc2c),_0x179adc())),document[_0x13c5e9(0xb18)]('export-pdf-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>exportTableAsPDF(_0x13c5e9(0x65a),_0x179adc())),document['getElementById'](_0x13c5e9(0xc6f))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>exportTableAsWord(_0x13c5e9(0xc2c),_0x179adc())),document[_0x13c5e9(0xb18)](_0x13c5e9(0xb88))['addEventListener'](_0x13c5e9(0x8b2),()=>exportTableAsExcel(_0x13c5e9(0x65a),_0x179adc()));const _0x30df94=()=>{const _0x1ffe2c=_0x13c5e9,_0x5d55b9=document['getElementById'](_0x1ffe2c(0xb3f))[_0x1ffe2c(0x633)]['replace'](/[^a-z0-9]/gi,'_')[_0x1ffe2c(0x123)]();return _0x1ffe2c(0xd71)+(_0x5d55b9||_0x1ffe2c(0x193));};document[_0x13c5e9(0xb18)](_0x13c5e9(0x8f0))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>exportTableAsImage(_0x13c5e9(0x85c),_0x30df94())),document[_0x13c5e9(0xb18)](_0x13c5e9(0xaf7))['addEventListener'](_0x13c5e9(0x8b2),()=>exportTableAsPDF(_0x13c5e9(0x588),_0x30df94())),document['getElementById']('export-leaderboard-word-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>exportTableAsWord(_0x13c5e9(0x85c),_0x30df94())),document[_0x13c5e9(0xb18)](_0x13c5e9(0xad7))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>exportTableAsExcel(_0x13c5e9(0x588),_0x30df94())),projectQuizzesList[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),async _0x4bb078=>{const _0x5dc1c9=_0x13c5e9,_0x49729b=_0x4bb078[_0x5dc1c9(0x364)]['closest'](_0x5dc1c9(0x17b)),_0x8f7da4=_0x4bb078[_0x5dc1c9(0x364)]['closest'](_0x5dc1c9(0x5cb)),_0x44d4c4=_0x4bb078[_0x5dc1c9(0x364)]['closest'](_0x5dc1c9(0x604)),_0x39145b=_0x4bb078[_0x5dc1c9(0x364)][_0x5dc1c9(0xb09)](_0x5dc1c9(0xce2)),_0x184d52=_0x4bb078['target'][_0x5dc1c9(0xb09)](_0x5dc1c9(0x4d6)),_0x58291a=_0x4bb078['target'][_0x5dc1c9(0xb09)](_0x5dc1c9(0x786)),_0xbff262=_0x4bb078[_0x5dc1c9(0x364)][_0x5dc1c9(0xb09)](_0x5dc1c9(0xae)),_0xbb35c3=_0x4bb078[_0x5dc1c9(0x364)]['closest'](_0x5dc1c9(0x472)),_0x5b39f6=_0x4bb078[_0x5dc1c9(0x364)][_0x5dc1c9(0xb09)](_0x5dc1c9(0xd62)),_0x3b2abc=_0x4bb078['target'][_0x5dc1c9(0xb09)]('.rename-quiz-btn'),_0x4f29e3=_0x4bb078['target'][_0x5dc1c9(0xb09)](_0x5dc1c9(0xdb9)),_0x794013=_0x4bb078['target'][_0x5dc1c9(0xb09)](_0x5dc1c9(0xbd)),_0x6d77d=_0x4bb078[_0x5dc1c9(0x364)][_0x5dc1c9(0xb09)]('.pair-quiz-btn'),_0x17ef6c=_0x4bb078[_0x5dc1c9(0x364)]['closest'](_0x5dc1c9(0xb61)),_0x4a7ee6=_0x4bb078['target']['closest'](_0x5dc1c9(0x886)),_0x368c98=_0x4bb078[_0x5dc1c9(0x364)][_0x5dc1c9(0xb09)](_0x5dc1c9(0x5b2)),_0x357013=_0x4bb078['target'][_0x5dc1c9(0xb09)](_0x5dc1c9(0x4d2)),_0x4b933a=_0x4bb078['target'][_0x5dc1c9(0xb09)](_0x5dc1c9(0x68a)),_0x2588bd=_0x4bb078['target'][_0x5dc1c9(0xb09)]('.quiz-status-btn'),_0xa9a7bd=_0x4bb078[_0x5dc1c9(0x364)]['closest'](_0x5dc1c9(0x7f4)),_0xcdfc85=_0x4bb078[_0x5dc1c9(0x364)]['closest'](_0x5dc1c9(0x2c1)),_0xd5d48d=_0x4bb078[_0x5dc1c9(0x364)][_0x5dc1c9(0xb09)](_0x5dc1c9(0x7cb)),_0x437ea0=_0x4bb078['target']['closest']('.start-live-race-btn');if(_0xd5d48d){const _0x280b96=_0xd5d48d[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],_0x3a7df1=_0xd5d48d['dataset'][_0x5dc1c9(0xc13)],_0x3585a8=allQuizzes[_0x5dc1c9(0x8c0)](_0x4789bb=>_0x4789bb['id']===_0x280b96);_0x3585a8&&showGameStartConfirmationModal(_0x280b96,_0x3a7df1,_0x3585a8[_0x5dc1c9(0xda1)]);}else{if(_0x437ea0){const _0x188a6b=_0x437ea0[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)];handleStartLiveRace(_0x188a6b);}else{if(_0xa9a7bd){const _0x5e2dd3=_0xa9a7bd['dataset'][_0x5dc1c9(0x802)],_0xa1da2a=document['getElementById'](_0x5dc1c9(0x50b)+_0x5e2dd3);_0xa1da2a&&_0xa1da2a[_0x5dc1c9(0x82f)]['toggle']('hidden');}else{if(_0x8f7da4){const _0x5cbd31=_0x8f7da4['dataset'][_0x5dc1c9(0x802)],_0x1175c3=allQuizzes[_0x5dc1c9(0x8c0)](_0x3b4d81=>_0x3b4d81['id']===_0x5cbd31);_0x1175c3&&handleGenerateParallelPostTest(_0x1175c3);}else{if(_0x44d4c4)handleCompareResults(_0x44d4c4[_0x5dc1c9(0xcd1)]['quizId'],_0x44d4c4[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x5bc)]);else{if(_0x39145b){const _0x1458b0=_0x39145b[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],_0x2646aa=allQuizzes[_0x5dc1c9(0x8c0)](_0x15e5c2=>_0x15e5c2['id']===_0x1458b0);_0x2646aa&&_0x2646aa[_0x5dc1c9(0x988)]?(displayLessonPlan(_0x2646aa[_0x5dc1c9(0x988)],_0x2646aa),showConfirmation(_0x5dc1c9(0xd1a),()=>handleGenerateLessonPlan(_0x1458b0)),document[_0x5dc1c9(0xb18)](_0x5dc1c9(0x5ce))[_0x5dc1c9(0x877)]('h3')[_0x5dc1c9(0x633)]='แผนการสอน',document[_0x5dc1c9(0xb18)]('confirm-delete-btn')[_0x5dc1c9(0x633)]='สร้างใหม่'):handleGenerateLessonPlan(_0x1458b0);}else{if(_0x184d52)handleToggleStarQuiz(_0x184d52[_0x5dc1c9(0xcd1)]['quizId']);else{if(_0x58291a)copyTextToClipboard(_0x58291a[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],_0x5dc1c9(0x704));else{if(_0xbff262)handleOpenQuizEditor(_0xbff262[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)]);else{if(_0xbb35c3)handleQuizSettings(_0xbb35c3[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)]);else{if(_0x5b39f6)handleDuplicateQuiz(_0x5b39f6['dataset']['quizId']);else{if(_0x3b2abc)handleRenameQuiz(_0x3b2abc[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],_0x3b2abc[_0x5dc1c9(0xcd1)]['topic']);else{if(_0x4f29e3){const _0x59a8d8=_0x4f29e3[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],_0x57fe5f=allQuizzes[_0x5dc1c9(0x8c0)](_0xd051ff=>_0xd051ff['id']===_0x59a8d8);_0x57fe5f&&handleGenerateParallelFromBank(_0x57fe5f);}else{if(_0x794013)handleMoveQuiz(_0x794013[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)]);else{if(_0x6d77d)handleManualQuizPairing(_0x6d77d[_0x5dc1c9(0xcd1)]['quizId']);else{if(_0x17ef6c)handleUnpairQuiz(_0x17ef6c[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)]);else{if(_0x4a7ee6){const _0x1492ff=_0x4a7ee6[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],_0x159697=allQuizzes['find'](_0x2d8357=>_0x2d8357['id']===_0x1492ff);if(_0x159697)startPresentation(_0x159697);}else{if(_0x368c98){const _0x3d4209=_0x368c98[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],_0x4585b7=allQuizzes[_0x5dc1c9(0x8c0)](_0x1e11a4=>_0x1e11a4['id']===_0x3d4209);_0x4585b7&&(currentQuizData=_0x4585b7,startAdminTest());}else{if(_0x357013)actionTargetId=_0x357013[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)],document[_0x5dc1c9(0xb18)](_0x5dc1c9(0x429))['classList'][_0x5dc1c9(0xa1f)](_0x5dc1c9(0x5a9));else{if(_0x4b933a)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4b933a[_0x5dc1c9(0xcd1)][_0x5dc1c9(0xda1)]+_0x5dc1c9(0xc95),()=>handleDeleteQuiz(_0x4b933a[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)]));else{if(_0x2588bd)handleQuizStatus(_0x2588bd[_0x5dc1c9(0xcd1)][_0x5dc1c9(0x802)]);else{if(_0xcdfc85)handleGenerateEasyVersionQuiz(_0xcdfc85[_0x5dc1c9(0xcd1)]['quizId']);else _0x49729b&&showQuizDetailView(_0x49729b['dataset'][_0x5dc1c9(0x802)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x13c5e9(0xd28))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>showView('student')),document[_0x13c5e9(0xb18)](_0x13c5e9(0x90c))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),confirmAndStartTeamQuiz),document[_0x13c5e9(0xb18)]('quiz-leaderboard-table')[_0x13c5e9(0x877)](_0x13c5e9(0x931))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x419150=>{const _0x1dee66=_0x13c5e9,_0x2bdd32=_0x419150['target']['closest'](_0x1dee66(0x844));if(!_0x2bdd32||!_0x2bdd32[_0x1dee66(0xcd1)][_0x1dee66(0x872)])return;const _0x3f7ded=_0x2bdd32[_0x1dee66(0xcd1)][_0x1dee66(0x872)];if(quizLeaderboardSortBy===_0x3f7ded)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1dee66(0x584)?_0x1dee66(0x9c4):_0x1dee66(0x584);else{quizLeaderboardSortBy=_0x3f7ded;const _0xc3cb97=['studentName'];quizLeaderboardSortOrder=_0xc3cb97[_0x1dee66(0x2e7)](_0x3f7ded)?_0x1dee66(0x584):_0x1dee66(0x9c4);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xc1a))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),closePresentation),document[_0x13c5e9(0xb18)](_0x13c5e9(0x542))['addEventListener'](_0x13c5e9(0x8b2),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x88c))['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0xcc5783=_0x13c5e9;currentQuizData[_0xcc5783(0x677)]&&currentPresentationSlide<currentQuizData['questions'][_0xcc5783(0xab1)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x13c5e9(0xcc)](_0x13c5e9(0x981),()=>{const _0x4f2c09=_0x13c5e9;!document[_0x4f2c09(0xbf4)]&&(presentationModal[_0x4f2c09(0xbaf)][_0x4f2c09(0x738)]='none');}),document[_0x13c5e9(0xb18)]('delete-all-students-btn')['addEventListener'](_0x13c5e9(0x8b2),handleDeleteAllStudents),studentList[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x531ba4=>{const _0xbe7889=_0x13c5e9,_0x26bf27=_0x531ba4[_0xbe7889(0x364)][_0xbe7889(0xb09)](_0xbe7889(0xa42));if(_0x26bf27){const _0x582b71=_0x26bf27['dataset']['studentName'];handleDeleteStudent(_0x582b71);}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x9c1))[_0x13c5e9(0xcc)]('click',handleGenerateFromFileClick),fileUploadInput[_0x13c5e9(0xcc)]('change',_0x2cd681=>{const _0x45be9a=_0x13c5e9,_0x2322ac=_0x2cd681[_0x45be9a(0x364)][_0x45be9a(0x370)][0x0],_0x19fc5a=document[_0x45be9a(0xb18)](_0x45be9a(0x9c1)),_0x44dce2=document[_0x45be9a(0xb18)](_0x45be9a(0x388)),_0x62e8bb=document[_0x45be9a(0xb18)](_0x45be9a(0xc91));_0x2322ac?(selectedFile=_0x2322ac,_0x62e8bb[_0x45be9a(0x2f1)]?(_0x19fc5a[_0x45be9a(0x64b)]=!![],analyzeFileForTopics(_0x2322ac)):(_0x19fc5a[_0x45be9a(0x64b)]=![],_0x44dce2[_0x45be9a(0x82f)][_0x45be9a(0x24b)]('hidden'))):(selectedFile=null,_0x19fc5a[_0x45be9a(0x64b)]=!![],_0x44dce2[_0x45be9a(0x82f)]['add'](_0x45be9a(0x5a9)));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xc91))['addEventListener'](_0x13c5e9(0xb22),_0x82ccd6=>{const _0x5990d8=_0x13c5e9,_0x236eff=_0x82ccd6[_0x5990d8(0x364)][_0x5990d8(0x2f1)],_0x2e022b=document['getElementById']('generate-from-file-btn'),_0x4f8f6a=document['getElementById']('file-topics-list-container');_0x236eff?(_0x2e022b[_0x5990d8(0x64b)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x4f8f6a[_0x5990d8(0x82f)][_0x5990d8(0xa1f)](_0x5990d8(0x5a9)),document[_0x5990d8(0xb18)](_0x5990d8(0xb4e))['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0x4f8f6a[_0x5990d8(0x82f)][_0x5990d8(0x24b)](_0x5990d8(0x5a9)),_0x2e022b[_0x5990d8(0x64b)]=!selectedFile);}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x388))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x542c80=>{const _0x1fefcd=_0x13c5e9,_0xbe9280=_0x542c80[_0x1fefcd(0x364)][_0x1fefcd(0xb09)](_0x1fefcd(0x173)),_0xda851c=_0x542c80[_0x1fefcd(0x364)]['closest'](_0x1fefcd(0xdbb));if(_0xbe9280){const _0x424404=unescape(_0xbe9280[_0x1fefcd(0xcd1)][_0x1fefcd(0xda1)]);generateHybridQuizForTopic(_0x424404);}else{if(_0xda851c){const _0x22d7d5=unescape(_0xda851c[_0x1fefcd(0xcd1)][_0x1fefcd(0xda1)]),_0x307273=document[_0x1fefcd(0xb18)](_0x1fefcd(0x9ed))[_0x1fefcd(0x52d)];handleGenerateAndShowLesson(_0x22d7d5,_0x307273);}}}),document[_0x13c5e9(0xb18)]('timer-mode-select')['addEventListener'](_0x13c5e9(0xb22),_0x496370=>{const _0x2eb791=_0x13c5e9,_0x76cf98=document[_0x2eb791(0xb18)](_0x2eb791(0xd46)),_0x34cf2c=document[_0x2eb791(0xb18)](_0x2eb791(0xcf0)),_0x3a0b52=document[_0x2eb791(0xb18)](_0x2eb791(0xdb7));_0x496370['target'][_0x2eb791(0x52d)]===_0x2eb791(0x43f)?_0x76cf98[_0x2eb791(0x82f)][_0x2eb791(0x24b)]('hidden'):(_0x76cf98[_0x2eb791(0x82f)][_0x2eb791(0xa1f)](_0x2eb791(0x5a9)),_0x496370['target']['value']===_0x2eb791(0x268)?(_0x34cf2c[_0x2eb791(0x633)]='ระยะเวลา\x20(นาที):',_0x3a0b52[_0x2eb791(0x52d)]='10'):(_0x34cf2c[_0x2eb791(0x633)]=_0x2eb791(0xd88),_0x3a0b52[_0x2eb791(0x52d)]='30'));}),document[_0x13c5e9(0xb18)]('quiz-type-select')[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),_0xfdbfd6=>{const _0x2a71af=_0x13c5e9,_0x2cf8d7=document[_0x2a71af(0xb18)](_0x2a71af(0x619)),_0x7ee9e3=_0xfdbfd6[_0x2a71af(0x364)][_0x2a71af(0x52d)],_0x3d5586=document['querySelector'](_0x2a71af(0x927)),_0x77ad7f=document[_0x2a71af(0xb18)](_0x2a71af(0x3d8)),_0x4e41c2=document[_0x2a71af(0xb18)](_0x2a71af(0x98e));_0x7ee9e3===_0x2a71af(0x355)?_0x3d5586[_0x2a71af(0x633)]=_0x2a71af(0x1e2):_0x3d5586[_0x2a71af(0x633)]=_0x2a71af(0xd67),_0x7ee9e3===_0x2a71af(0x232)||_0x7ee9e3==='fill_in_with_choices'||_0x7ee9e3===_0x2a71af(0xbb4)?_0x2cf8d7['classList']['remove'](_0x2a71af(0x5a9)):_0x2cf8d7['classList'][_0x2a71af(0x24b)]('hidden'),_0x77ad7f[_0x2a71af(0x90d)]=_0x4e41c2['value'];}),document['getElementById'](_0x13c5e9(0x98e))[_0x13c5e9(0xcc)]('input',_0x201d00=>{const _0x216de0=_0x13c5e9;document[_0x216de0(0xb18)](_0x216de0(0x3d8))[_0x216de0(0x90d)]=_0x201d00[_0x216de0(0x364)][_0x216de0(0x52d)];}),document[_0x13c5e9(0xb18)]('modal-timer-mode-select')[_0x13c5e9(0xcc)](_0x13c5e9(0xb22),_0xd3d9a0=>{const _0x50d38f=_0x13c5e9,_0x2de92c=document[_0x50d38f(0xb18)]('modal-timer-duration-container'),_0x1eab96=document[_0x50d38f(0xb18)](_0x50d38f(0xbb7)),_0x415825=document['getElementById'](_0x50d38f(0xc52));_0xd3d9a0[_0x50d38f(0x364)][_0x50d38f(0x52d)]===_0x50d38f(0x43f)?_0x2de92c[_0x50d38f(0x82f)]['add'](_0x50d38f(0x5a9)):(_0x2de92c[_0x50d38f(0x82f)][_0x50d38f(0xa1f)]('hidden'),_0xd3d9a0[_0x50d38f(0x364)][_0x50d38f(0x52d)]==='whole_quiz'?_0x1eab96[_0x50d38f(0x633)]=_0x50d38f(0xc19):_0x1eab96[_0x50d38f(0x633)]=_0x50d38f(0xd88));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xdee))[_0x13c5e9(0xcc)]('click',()=>{const _0x58be24=_0x13c5e9;document[_0x58be24(0xb18)](_0x58be24(0x969))[_0x58be24(0x82f)]['add'](_0x58be24(0x5a9));}),document['getElementById'](_0x13c5e9(0x2e5))[_0x13c5e9(0xcc)]('click',()=>{const _0x4b4ba5=_0x13c5e9;document[_0x4b4ba5(0xb18)](_0x4b4ba5(0x969))[_0x4b4ba5(0x82f)][_0x4b4ba5(0x24b)](_0x4b4ba5(0x5a9));}),document['getElementById'](_0x13c5e9(0x1af))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleVerifyAnswersInEditor),document['getElementById'](_0x13c5e9(0x164))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x3b9f2a=_0x13c5e9;document[_0x3b9f2a(0xb18)](_0x3b9f2a(0x969))[_0x3b9f2a(0x82f)][_0x3b9f2a(0x24b)]('hidden'),showConfirmation(_0x3b9f2a(0x9c0),handleSaveChanges);}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x576))[_0x13c5e9(0xcc)]('click',handleAutoFixLatex);const _0x7ba0b1=document[_0x13c5e9(0xb18)](_0x13c5e9(0x180));_0x7ba0b1&&_0x7ba0b1['addEventListener'](_0x13c5e9(0x8b2),_0x2e51a9=>{const _0x392f82=_0x13c5e9,_0x39917a=_0x2e51a9['target']['closest']('.regenerate-question-editor-btn');if(_0x39917a){const _0x372a8e=_0x39917a[_0x392f82(0xb09)]('.question-editor-item'),_0x26b2b7=parseInt(_0x372a8e[_0x392f82(0xcd1)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x26b2b7);return;}const _0x46832b=_0x2e51a9[_0x392f82(0x364)][_0x392f82(0xb09)]('.delete-question-editor-btn');if(_0x46832b){const _0x2249b8=_0x46832b[_0x392f82(0xb09)](_0x392f82(0x8fd)),_0x257ef2=parseInt(_0x2249b8['dataset'][_0x392f82(0x608)],0xa);handleDeleteQuestionInEditor(_0x257ef2);return;}const _0x59492c=_0x2e51a9[_0x392f82(0x364)][_0x392f82(0xb09)](_0x392f82(0xa6b));if(_0x59492c){handleAddQuestionInEditor();return;}});document['getElementById']('open-quiz-bank-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),openQuizBankModal),document[_0x13c5e9(0xb18)](_0x13c5e9(0xb16))['addEventListener']('click',()=>{const _0xc543b7=_0x13c5e9;document[_0xc543b7(0xb18)]('quiz-bank-modal')[_0xc543b7(0x82f)][_0xc543b7(0x24b)](_0xc543b7(0x5a9));}),document['getElementById']('bank-quiz-search-input')[_0x13c5e9(0xcc)](_0x13c5e9(0xade),_0x4b6acd=>renderQuizBankList(_0x4b6acd['target'][_0x13c5e9(0x52d)]));const _0x21cfb2=document['getElementById'](_0x13c5e9(0xd47));if(_0x21cfb2){let _0x32ec4a=null;_0x21cfb2['addEventListener'](_0x13c5e9(0x8b2),_0x31d1cc=>{const _0x12a84f=_0x13c5e9,_0x4b6e30=_0x31d1cc[_0x12a84f(0x364)],_0x2134b9=_0x4b6e30[_0x12a84f(0xb09)]('.edit-custom-topic-btn'),_0x4e80e4=_0x4b6e30['closest'](_0x12a84f(0xc9)),_0xf408d4=_0x4b6e30[_0x12a84f(0xb09)](_0x12a84f(0xd0d)),_0xc59576=_0x4b6e30[_0x12a84f(0xb09)](_0x12a84f(0x564));if(_0x4e80e4){_0x31d1cc[_0x12a84f(0x105)]();const _0x1659a4=_0x4e80e4[_0x12a84f(0xcd1)]['id'],_0x44d239=_0x4e80e4[_0x12a84f(0xb09)](_0x12a84f(0xa12))[_0x12a84f(0x877)](_0x12a84f(0x9c5))[_0x12a84f(0x633)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x44d239+'\x22?',()=>handleDeleteCustomTopic(_0x1659a4));}else{if(_0x2134b9){_0x31d1cc[_0x12a84f(0x105)]();_0x32ec4a&&toggleTopicEditMode(_0x32ec4a,![]);const _0x4a35ae=_0x2134b9[_0x12a84f(0xb09)](_0x12a84f(0x479));_0x32ec4a=_0x4a35ae,toggleTopicEditMode(_0x4a35ae,!![]);}else{if(_0xf408d4){_0x31d1cc[_0x12a84f(0x105)]();const _0xbc2328=_0xf408d4[_0x12a84f(0xcd1)]['id'],_0x27561a=_0xf408d4[_0x12a84f(0xb09)](_0x12a84f(0x479)),_0x500e79=_0x27561a[_0x12a84f(0x877)](_0x12a84f(0xd60))[_0x12a84f(0x52d)];handleUpdateCustomTopic(_0xbc2328,_0x500e79),_0x32ec4a=null;}else{if(_0xc59576){_0x31d1cc[_0x12a84f(0x105)]();const _0x1355c9=_0xc59576['closest'](_0x12a84f(0x479));toggleTopicEditMode(_0x1355c9,![]),_0x32ec4a=null;}}}}}),document['getElementById'](_0x13c5e9(0x68b))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x434a46=_0x13c5e9;document[_0x434a46(0xb18)](_0x434a46(0x74f))[_0x434a46(0x82f)][_0x434a46(0x24b)](_0x434a46(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xba2))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x310cde=_0x13c5e9;document[_0x310cde(0xb18)](_0x310cde(0x74f))['classList']['add']('hidden');}),document['getElementById']('export-lesson-pdf-btn')[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),handleExportLessonPDF);}document[_0x13c5e9(0xb18)](_0x13c5e9(0x6a7))[_0x13c5e9(0xcc)]('click',()=>{const _0x105f8e=_0x13c5e9;document[_0x105f8e(0xb18)]('comparison-modal')[_0x105f8e(0x82f)]['add'](_0x105f8e(0x5a9));}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x37f))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x48608c=_0x13c5e9;document[_0x48608c(0xb18)](_0x48608c(0x68e))[_0x48608c(0x82f)][_0x48608c(0x24b)]('hidden');}),setupComparisonModalTabs(),document[_0x13c5e9(0xca1)]['addEventListener'](_0x13c5e9(0x8b2),function(_0x12926e){const _0x8c2fcb=_0x13c5e9;if(_0x12926e[_0x8c2fcb(0x364)][_0x8c2fcb(0x82f)][_0x8c2fcb(0xb15)](_0x8c2fcb(0x90f))){const _0x32c6fa=unescape(_0x12926e['target'][_0x8c2fcb(0xcd1)][_0x8c2fcb(0xda1)]);startSkillPractice(_0x32c6fa);}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0xa0e))[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),_0x1fe46c=>{const _0x5ca8f4=_0x13c5e9,_0x507022=_0x1fe46c[_0x5ca8f4(0x364)]['closest']('.delete-submission-btn');if(_0x507022){const _0x32fd92=_0x507022[_0x5ca8f4(0xcd1)][_0x5ca8f4(0x652)];handleDeleteSubmission(_0x32fd92);return;}const _0x1934b2=_0x1fe46c[_0x5ca8f4(0x364)][_0x5ca8f4(0xb09)](_0x5ca8f4(0x6f9));if(_0x1934b2){const _0x17eecc=_0x1934b2[_0x5ca8f4(0xcd1)][_0x5ca8f4(0x652)],_0x271586=_0x1934b2[_0x5ca8f4(0xcd1)][_0x5ca8f4(0x5d6)],_0x3e7c31=prompt(_0x5ca8f4(0x1e9)+_0x17eecc+'\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)',_0x271586);if(_0x3e7c31!==null&&_0x3e7c31['trim']()!==''){const _0x29ae4f=parseInt(_0x3e7c31,0xa);!isNaN(_0x29ae4f)?handleManualEditPoints(_0x17eecc,_0x29ae4f):alert('กรุณากรอกเป็นตัวเลขเท่านั้น');}}}),document[_0x13c5e9(0xb18)](_0x13c5e9(0x350))?.[_0x13c5e9(0xcc)](_0x13c5e9(0x8b2),()=>{const _0x3e9205=_0x13c5e9;document[_0x3e9205(0xb18)](_0x3e9205(0x778))[_0x3e9205(0x82f)][_0x3e9205(0x24b)]('hidden');}),document[_0x13c5e9(0xccb)](_0x13c5e9(0xaa2))[_0x13c5e9(0x157)](_0x3783c3=>{const _0x5405b6=_0x13c5e9;_0x3783c3[_0x5405b6(0xcc)](_0x5405b6(0x8b2),()=>{const _0x581aeb=_0x5405b6;handlePinKeyPress(_0x3783c3[_0x581aeb(0xcd1)][_0x581aeb(0x914)]);});}),document['getElementById'](_0x13c5e9(0x40d))?.['addEventListener'](_0x13c5e9(0x8b2),()=>{const _0x56f737=_0x13c5e9;handlePinKeyPress(_0x56f737(0x6f4));});}async function handleStartGroupMode(_0x5b0365,_0x924ff2=![]){const _0x45f91a=_0x448927,_0x174743=allQuizzes[_0x45f91a(0x8c0)](_0x23cd8a=>_0x23cd8a['id']===_0x5b0365)||allQuizzesGlobal[_0x45f91a(0x8c0)](_0x352d51=>_0x352d51['id']===_0x5b0365);if(!_0x174743){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x174743);const _0x4ab905=Math[_0x45f91a(0x87b)](0x3e8+Math[_0x45f91a(0x63c)]()*0x2328)['toString']();try{const _0x3ee279=await addDoc(collection(db,_0x45f91a(0xa76)+appId+'/public/data/teamQuizzes'),{'quizId':_0x174743['id'],'projectId':_0x174743['projectId'],'status':'lobby','pin':_0x4ab905,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x924ff2});currentTeamQuizId=_0x3ee279['id'],showView(_0x45f91a(0x7aa)),renderAdminTeamQuizDashboard(_0x4ab905,_0x174743[_0x45f91a(0xda1)],_0x45f91a(0xbd0)),listenForTeamQuizUpdates();}catch(_0x2d3931){console['error']('Error\x20starting\x20group\x20quiz:',_0x2d3931),showMessage(_0x45f91a(0x93f));}}async function showStudentProgressView(){const _0x4f7dc4=_0x448927;studentInitialView[_0x4f7dc4(0x82f)][_0x4f7dc4(0x24b)](_0x4f7dc4(0x5a9)),document[_0x4f7dc4(0xb18)](_0x4f7dc4(0x135))[_0x4f7dc4(0x82f)][_0x4f7dc4(0xa1f)](_0x4f7dc4(0x5a9));const _0x3cd497=document[_0x4f7dc4(0xb18)](_0x4f7dc4(0x795)),_0x5a087f=document[_0x4f7dc4(0xb18)]('progress-student-select'),_0x4915e9=document['getElementById']('student-progress-content');_0x4915e9[_0x4f7dc4(0x5f4)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x5a087f['innerHTML']=_0x4f7dc4(0xa40),_0x5a087f[_0x4f7dc4(0x64b)]=!![],_0x3cd497[_0x4f7dc4(0x5f4)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x4f7dc4(0xab1)]===0x0){const _0x10e835=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x1c0d26=await getDocs(_0x10e835);allProjects=_0x1c0d26[_0x4f7dc4(0x18c)][_0x4f7dc4(0xad5)](_0x34ef82=>({'id':_0x34ef82['id'],..._0x34ef82[_0x4f7dc4(0xa8e)]()}));}const _0x19d7ac=allProjects[_0x4f7dc4(0x955)](_0x2ac81c=>_0x2ac81c[_0x4f7dc4(0xdbf)]?.[_0x4f7dc4(0x302)]!==![]);_0x19d7ac['sort']((_0x1c983e,_0x26f53d)=>_0x1c983e[_0x4f7dc4(0xa8f)]['localeCompare'](_0x26f53d[_0x4f7dc4(0xa8f)],'th')),_0x3cd497['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x19d7ac[_0x4f7dc4(0xad5)](_0x1cae51=>_0x4f7dc4(0x949)+_0x1cae51['id']+'\x22>'+_0x1cae51['projectName']+_0x4f7dc4(0x38c))['join'](''),_0x3cd497['onchange']=()=>{const _0x2d958a=_0x4f7dc4,_0x344277=_0x5a087f[_0x2d958a(0x52d)],_0x26c4f6=_0x3cd497['value'];_0x5a087f[_0x2d958a(0x64b)]=!![],_0x5a087f[_0x2d958a(0x5f4)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x4915e9['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x26c4f6)return;const _0x4f5fd6=allProjects[_0x2d958a(0x8c0)](_0x15ec95=>_0x15ec95['id']===_0x26c4f6);if(!_0x4f5fd6||!_0x4f5fd6[_0x2d958a(0x115)])return;const _0x28b7cf=()=>{const _0xefe2c9=_0x2d958a;_0x5a087f[_0xefe2c9(0x5f4)]=_0xefe2c9(0xa40)+_0x4f5fd6[_0xefe2c9(0x115)]['map'](_0xaaade6=>'<option\x20value=\x22'+_0xaaade6+'\x22>'+_0xaaade6+_0xefe2c9(0x38c))[_0xefe2c9(0x222)](''),_0x5a087f[_0xefe2c9(0x64b)]=![];const _0x38b1bd=Array[_0xefe2c9(0x2ce)](_0x5a087f[_0xefe2c9(0x6ca)])[_0xefe2c9(0xad5)](_0x15c615=>_0x15c615[_0xefe2c9(0x52d)]);if(_0x344277&&_0x38b1bd['includes'](_0x344277))_0x5a087f['value']=_0x344277,_0x5a087f[_0xefe2c9(0xb6d)](new Event(_0xefe2c9(0xb22)));else _0x4f5fd6[_0xefe2c9(0x115)][_0xefe2c9(0xab1)]===0x1&&(_0x5a087f[_0xefe2c9(0x52d)]=_0x4f5fd6[_0xefe2c9(0x115)][0x0],_0x5a087f[_0xefe2c9(0xb6d)](new Event('change')));};if(_0x4f5fd6[_0x2d958a(0xdbf)]?.[_0x2d958a(0x32b)]){if(sessionStorage['getItem'](_0x2d958a(0xd77)+_0x26c4f6)===_0x2d958a(0xd3d)){_0x28b7cf();return;}const _0x49bc71=document['getElementById']('project-passcode-modal'),_0x1ea94d=document['getElementById'](_0x2d958a(0x922)),_0x1f004e=document[_0x2d958a(0xb18)](_0x2d958a(0x534)),_0x585cd4=document[_0x2d958a(0xb18)](_0x2d958a(0xcb0)),_0x383d49=document[_0x2d958a(0xb18)](_0x2d958a(0x875));document['getElementById'](_0x2d958a(0x196))[_0x2d958a(0x633)]=_0x2d958a(0x739)+_0x4f5fd6[_0x2d958a(0xa8f)],_0x585cd4[_0x2d958a(0x52d)]='',_0x383d49[_0x2d958a(0x82f)]['add'](_0x2d958a(0x5a9)),_0x49bc71['classList'][_0x2d958a(0xa1f)]('hidden');const _0x54cc91=()=>{const _0x5e3a3c=_0x2d958a,_0xb63300=_0x585cd4[_0x5e3a3c(0x52d)]['trim']();_0xb63300===_0x4f5fd6['settings'][_0x5e3a3c(0xbef)]?(sessionStorage[_0x5e3a3c(0x765)](_0x5e3a3c(0xd77)+_0x26c4f6,'true'),_0x49bc71[_0x5e3a3c(0x82f)]['add'](_0x5e3a3c(0x5a9)),_0x28b7cf(),_0x1ea94d[_0x5e3a3c(0xcec)](_0x5e3a3c(0x8b2),_0x54cc91)):_0x383d49[_0x5e3a3c(0x82f)]['remove'](_0x5e3a3c(0x5a9));};_0x1ea94d[_0x2d958a(0xb4f)]=_0x54cc91,_0x1f004e['onclick']=()=>{const _0x2cf023=_0x2d958a;_0x49bc71[_0x2cf023(0x82f)]['add'](_0x2cf023(0x5a9)),_0x3cd497['value']='',_0x1ea94d[_0x2cf023(0xcec)](_0x2cf023(0x8b2),_0x54cc91);};}else _0x28b7cf();},_0x5a087f[_0x4f7dc4(0x75b)]=()=>{const _0x2e5a2a=_0x4f7dc4,_0x137b7=_0x3cd497['value'],_0x2acfb6=_0x5a087f[_0x2e5a2a(0x52d)];_0x137b7&&_0x2acfb6&&renderStudentProgressDashboard(_0x137b7,_0x2acfb6);};}async function confirmAndJoinSyncGame(){const _0x20bf1a=_0x448927;lastSeenQuestionIndex=-0x1,sessionStorage[_0x20bf1a(0x9db)](_0x20bf1a(0x2a2)),sessionStorage[_0x20bf1a(0x9db)](_0x20bf1a(0xadb)),Object[_0x20bf1a(0x7bf)](sessionStorage)[_0x20bf1a(0x157)](_0x28a71a=>{const _0x6fe28c=_0x20bf1a;(_0x28a71a[_0x6fe28c(0x621)]('freeMarketEntryUsed_q')||_0x28a71a[_0x6fe28c(0x621)](_0x6fe28c(0x458))||_0x28a71a['startsWith'](_0x6fe28c(0xda6)))&&sessionStorage[_0x6fe28c(0x9db)](_0x28a71a);});const _0x46a0ed=Array[_0x20bf1a(0x2ce)](document[_0x20bf1a(0xccb)]('input[name=\x22team_player\x22]:checked'))[_0x20bf1a(0xad5)](_0x4516a4=>_0x4516a4[_0x20bf1a(0x52d)]);if(_0x46a0ed[_0x20bf1a(0xab1)]===0x0){showMessage(_0x20bf1a(0x835));return;}localTeamPlayers=_0x46a0ed,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x530581=writeBatch(db),_0x46609f=serverTimestamp();for(const _0x517833 of _0x46a0ed){const _0x3b891d=doc(db,'artifacts/'+appId+_0x20bf1a(0xdc)+currentLiveGameId+_0x20bf1a(0x610),_0x517833),_0xb68695=await getDoc(_0x3b891d);if(_0xb68695[_0x20bf1a(0x14d)]())_0x530581[_0x20bf1a(0x8a4)](_0x3b891d,{'status':_0x20bf1a(0x4f9)}),console[_0x20bf1a(0xcad)](_0x20bf1a(0xc37)+_0x517833+'!\x20Restoring\x20stats...');else{const _0x2af5f5={'name':_0x517833,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x20bf1a(0x4f9),'answers':[],'joinedAt':_0x46609f,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x530581[_0x20bf1a(0x83f)](_0x3b891d,_0x2af5f5);}}await _0x530581[_0x20bf1a(0x979)](),showView(_0x20bf1a(0x7aa)),document[_0x20bf1a(0xb18)](_0x20bf1a(0x425))['classList'][_0x20bf1a(0x24b)]('hidden'),currentStudentName=_0x46a0ed[0x0],listenForSyncGameUpdates();const _0x2737ea={'gameId':currentLiveGameId,'mode':_0x20bf1a(0x17a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x20bf1a(0xa3e),JSON[_0x20bf1a(0x7cd)](_0x2737ea));}catch(_0x43930d){console['error']('Error\x20joining\x20sync\x20game:',_0x43930d),showMessage(_0x20bf1a(0x42f)+_0x43930d['message']);}}async function resumeActiveGameSession(){const _0x575a25=_0x448927,_0x4f9211=sessionStorage[_0x575a25(0x9b1)](_0x575a25(0xa3e));if(!_0x4f9211)return;const _0x4403e2=JSON[_0x575a25(0x510)](_0x4f9211),{gameId:_0x105c79,mode:_0x2af899,role:_0x334eb2,players:_0x496174,turnIndex:_0x249d34}=_0x4403e2;try{if(_0x334eb2===_0x575a25(0xa1d)&&_0x2af899===_0x575a25(0x17a)){const _0x24db2d=doc(db,_0x575a25(0xa76)+appId+_0x575a25(0xc0a),_0x105c79),_0xfadad9=await getDoc(_0x24db2d);if(!_0xfadad9[_0x575a25(0x14d)]()||_0xfadad9['data']()[_0x575a25(0x33a)]==='podium'||_0xfadad9['data']()[_0x575a25(0x33a)]===_0x575a25(0xbde)){sessionStorage['removeItem'](_0x575a25(0xa3e));return;}console[_0x575a25(0xcad)](_0x575a25(0x4c2)+_0x105c79+')'),currentMode=_0x575a25(0xa1d),currentLiveGameId=_0x105c79,currentQuizData=_0xfadad9[_0x575a25(0xa8e)]()[_0x575a25(0xe1c)],showView(_0x575a25(0x7aa)),listenForSyncGameUpdates();}else{if(_0x2af899==='sync'&&_0x496174){const _0x396caf=doc(db,'artifacts/'+appId+_0x575a25(0xc0a),_0x105c79),_0x461c3f=await getDoc(_0x396caf);if(!_0x461c3f[_0x575a25(0x14d)]()||_0x461c3f[_0x575a25(0xa8e)]()[_0x575a25(0x33a)]==='podium'||_0x461c3f['data']()['status']===_0x575a25(0xbde)){sessionStorage[_0x575a25(0x9db)](_0x575a25(0xa3e));return;}console['log'](_0x575a25(0xbdc)+_0x105c79+')'),currentLiveGameId=_0x105c79,currentStudentName=_0x496174[0x0],localTeamPlayers=_0x496174,showView(_0x575a25(0x7aa)),listenForSyncGameUpdates();}else{if((_0x2af899===_0x575a25(0xaa7)||_0x2af899===_0x575a25(0xbd0))&&_0x496174){const _0x2a584e=doc(db,_0x575a25(0xa76)+appId+'/public/data/teamQuizzes',_0x105c79),_0x4647b7=await getDoc(_0x2a584e);if(!_0x4647b7['exists']()||_0x4647b7[_0x575a25(0xa8e)]()[_0x575a25(0x33a)]===_0x575a25(0x2d1)||_0x4647b7[_0x575a25(0xa8e)]()['status']===_0x575a25(0xbde)){sessionStorage[_0x575a25(0x9db)]('activeGameSession');return;}console[_0x575a25(0xcad)](_0x575a25(0x614)+_0x2af899+_0x575a25(0x527)+_0x105c79+')'),currentTeamQuizId=_0x105c79,localTeamPlayers=_0x496174,localQuestionIndex=_0x4403e2[_0x575a25(0x74b)]||0x0,localPlayerIndex=_0x4403e2[_0x575a25(0xb0c)]||0x0;const _0x5ca085=_0x4647b7[_0x575a25(0xa8e)](),_0xb80765=doc(db,'artifacts/'+appId+_0x575a25(0xc34),_0x5ca085[_0x575a25(0x802)]),_0x274114=await getDoc(_0xb80765);_0x274114[_0x575a25(0x14d)]()&&(currentQuizData=getShuffledQuiz({'id':_0x274114['id'],..._0x274114[_0x575a25(0xa8e)]()}),showView('student'),studentInitialView[_0x575a25(0x82f)]['add']('hidden'),_0x2af899==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x4c0312){console[_0x575a25(0x17d)](_0x575a25(0x8ea),_0x4c0312),sessionStorage[_0x575a25(0x9db)](_0x575a25(0xa3e));}}async function handleUsePowerup(_0x4ce84e,_0x51dcb3,_0x10385e,_0x2ddb6a,_0x4f59ee){const _0x3f44d7=_0x448927,_0x1b48d5=_0x2ddb6a[_0x3f44d7(0xd34)],_0x190ea3=_0x3f44d7(0x458)+_0x1b48d5+'_p'+_0x4ce84e,_0x45b8e4=sessionStorage['getItem'](_0x190ea3);if(_0x45b8e4&&_0x51dcb3!==_0x3f44d7(0x73f)&&_0x51dcb3!=='strategyScan'){showMessage(_0x3f44d7(0xb62));const _0x1d65e2=document[_0x3f44d7(0xb18)](_0x3f44d7(0xd50)+_0x51dcb3);if(_0x1d65e2)_0x1d65e2[_0x3f44d7(0x64b)]=![];return;}if(_0x51dcb3===_0x3f44d7(0xae8)){sessionStorage['setItem'](_0x190ea3,_0x51dcb3),playSystemSound(_0x3f44d7(0xe03)),renderStudentSyncQuestionView(_0x2ddb6a);return;}const _0x2e1b70=doc(db,_0x3f44d7(0xa76)+appId+_0x3f44d7(0xdc)+currentLiveGameId+_0x3f44d7(0x610),_0x4ce84e);try{await runTransaction(db,async _0x173dde=>{const _0x5e9b92=_0x3f44d7,_0x54e237=await _0x173dde[_0x5e9b92(0xdbc)](_0x2e1b70);if(!_0x54e237['exists']())throw _0x5e9b92(0x852);const _0x756072=_0x54e237[_0x5e9b92(0xa8e)](),_0x23897e=_0x756072[_0x5e9b92(0x204)]||{},_0x3703b9=_0x23897e[_0x51dcb3]||0x0;if(_0x3703b9<=0x0)throw _0x5e9b92(0xd2);const _0xc1e8a3={};_0xc1e8a3[_0x5e9b92(0x331)+_0x51dcb3]=increment(-0x1);_0x51dcb3!=='wagerMultiplier'&&(_0xc1e8a3[_0x5e9b92(0x14f)]=0x0);if(_0x51dcb3===_0x5e9b92(0x73f)){const _0x39cdf8=(_0x2ddb6a['timerDuration']||0xf0)*0x3e8,_0x46d592=_0x39cdf8*0.25;_0xc1e8a3[_0x5e9b92(0x8b4)]=increment(_0x46d592);}_0x173dde[_0x5e9b92(0x8a4)](_0x2e1b70,_0xc1e8a3);}),_0x51dcb3===_0x3f44d7(0x2cb)&&sessionStorage[_0x3f44d7(0x765)]('pollUsedThisTurn','true'),_0x51dcb3!==_0x3f44d7(0x73f)&&_0x51dcb3!==_0x3f44d7(0xd6e)&&sessionStorage[_0x3f44d7(0x765)](_0x190ea3,_0x51dcb3),playSystemSound(_0x3f44d7(0xe03)),applyPowerupEffect(_0x4ce84e,_0x51dcb3,_0x10385e,_0x2ddb6a,_0x4f59ee),(_0x51dcb3==='cutOne'||_0x51dcb3==='fiftyFifty'||_0x51dcb3==='insurance'||_0x51dcb3===_0x3f44d7(0x2c4))&&renderStudentSyncQuestionView(_0x2ddb6a),_0x51dcb3!=='wagerMultiplier'&&_0x4f59ee['correctStreak']>0x0&&showMessage(_0x3f44d7(0xdfd)+_0x51dcb3+_0x3f44d7(0x488));}catch(_0x34d7bc){console[_0x3f44d7(0x17d)](_0x3f44d7(0x1ac),_0x34d7bc),showMessage(typeof _0x34d7bc===_0x3f44d7(0xdc5)?_0x34d7bc:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x531fcd=document['getElementById'](_0x3f44d7(0xd50)+_0x51dcb3);if(_0x531fcd)_0x531fcd[_0x3f44d7(0x64b)]=![];}}async function getCachedOtherPlayers(_0x4455f3,_0x51d8f6){const _0x5d9840=_0x448927,_0x43d2cf=_0x4455f3[_0x5d9840(0xd34)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x43d2cf)return console[_0x5d9840(0xcad)]('ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)'),cachedOtherPlayersForQuestion;console['log'](_0x5d9840(0xa72));const _0x4f6ac1=collection(db,_0x5d9840(0xa76)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x5d9840(0x610)),_0x24f1cc=query(_0x4f6ac1,where(_0x5d9840(0x33a),'==',_0x5d9840(0x4f9))),_0x4a7560=await getDocs(_0x24f1cc),_0x140de7=[];return _0x4a7560[_0x5d9840(0x157)](_0x4eee32=>{const _0x813430=_0x5d9840,_0x5ba201=_0x4eee32[_0x813430(0xa8e)]();_0x140de7[_0x813430(0x626)](_0x5ba201);}),cachedOtherPlayersForQuestion=_0x140de7,cachedQuestionIndexForPlayers=_0x43d2cf,_0x140de7;}async function applyPowerupEffect(_0x24146e,_0x2219a6,_0x3cef66,_0x1a62aa,_0x1dd911){const _0x5d68cb=_0x448927,_0x54d351=_0x3cef66,_0x153c35=_0x1a62aa[_0x5d68cb(0xd34)];switch(_0x2219a6){case _0x5d68cb(0xae8):showMessage(_0x5d68cb(0x263));break;case _0x5d68cb(0x4bc):showMessage(_0x5d68cb(0xb53));break;case _0x5d68cb(0x73f):const _0x27d056=(_0x1a62aa[_0x5d68cb(0xc89)]||0xf0)*0.25;showMessage(_0x5d68cb(0x5dc)+_0x27d056+_0x5d68cb(0x66a));break;case _0x5d68cb(0xe4):case _0x5d68cb(0x237):const _0x5ba9df=document[_0x5d68cb(0xccb)]('.live-answer-btn');if(_0x5ba9df[_0x5d68cb(0xab1)]===0x0){showMessage(_0x5d68cb(0xc8f));return;}const _0x40252b=_0x5d68cb(0xda6)+_0x153c35+'_p'+_0x24146e,_0x4919e8=JSON[_0x5d68cb(0x510)](sessionStorage['getItem'](_0x40252b)||'[]');let _0x29cbf7;const _0x44e113=_0x54d351[_0x5d68cb(0x3e6)]||_0x1a62aa[_0x5d68cb(0xe1c)]['quizType'];_0x44e113===_0x5d68cb(0xab0)?_0x29cbf7=String(_0x54d351[_0x5d68cb(0xaf4)])['toLowerCase']()===_0x5d68cb(0xd3d)?0x0:0x1:_0x29cbf7=_0x54d351['correctAnswerIndex'];const _0x17221c=Array[_0x5d68cb(0x2ce)](_0x5ba9df)[_0x5d68cb(0x955)](_0xc5c6f=>parseInt(_0xc5c6f[_0x5d68cb(0xcd1)]['value'])!==_0x29cbf7&&!_0x4919e8['includes'](_0xc5c6f[_0x5d68cb(0xcd1)][_0x5d68cb(0x52d)]));if(_0x17221c[_0x5d68cb(0xab1)]===0x0){showMessage(_0x5d68cb(0xde1));return;}shuffleArray(_0x17221c);const _0xd66506=_0x2219a6===_0x5d68cb(0xe4)?0x1:0x2,_0x431d72=[];for(let _0x20d121=0x0;_0x20d121<_0xd66506;_0x20d121++){_0x17221c[_0x20d121]&&(_0x17221c[_0x20d121][_0x5d68cb(0x82f)][_0x5d68cb(0x24b)](_0x5d68cb(0x5a9)),_0x431d72[_0x5d68cb(0x626)](_0x17221c[_0x20d121][_0x5d68cb(0xcd1)][_0x5d68cb(0x52d)]));}const _0xa7d512=[..._0x4919e8,..._0x431d72];sessionStorage[_0x5d68cb(0x765)](_0x40252b,JSON[_0x5d68cb(0x7cd)](_0xa7d512)),showMessage(_0x2219a6===_0x5d68cb(0xe4)?_0x5d68cb(0x12e):_0x5d68cb(0xb10));break;default:showMessage('ใช้ไอเทม\x20'+_0x2219a6+_0x5d68cb(0xa75));}}async function handleForceConfident(_0x503b3b,_0x5686de){const _0x49b571=_0x448927;if(!currentLiveGameId||!_0x503b3b)return;const _0x3de300=doc(db,_0x49b571(0xa76)+appId+_0x49b571(0xdc)+currentLiveGameId+'/players',_0x503b3b);try{await updateDoc(_0x3de300,{'isForcedConfident':!![]}),showMessage(_0x49b571(0x489)+_0x5686de+_0x49b571(0x3c9));}catch(_0x5c3a56){console[_0x49b571(0x17d)](_0x49b571(0x1da),_0x5c3a56),showMessage(_0x49b571(0x6cc));}}async function handleRefundPowerup(_0x2e06c3,_0xc235df){const _0x28a66c=_0x448927,_0x402c87=doc(db,_0x28a66c(0xa76)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x28a66c(0x610),_0x2e06c3);try{const _0x477364={};_0x477364['powerups.'+_0xc235df]=increment(0x1),await updateDoc(_0x402c87,_0x477364),console[_0x28a66c(0xcad)](_0x28a66c(0x311)+_0xc235df+'\x20to\x20'+_0x2e06c3);}catch(_0x220f81){console[_0x28a66c(0x17d)](_0x28a66c(0x334),_0x220f81);}}async function handleApplyJinx(_0x83e69e,_0x513303){const _0x3343eb=_0x448927;if(!currentLiveGameId||!_0x83e69e)return;const _0x512d1b=doc(db,_0x3343eb(0xa76)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3343eb(0x610),_0x83e69e);try{await updateDoc(_0x512d1b,{'isJinxed':!![]}),showMessage(_0x3343eb(0x410)+_0x513303+_0x3343eb(0x3c9));}catch(_0xc09501){console[_0x3343eb(0x17d)](_0x3343eb(0x5ad),_0xc09501),showMessage(_0x3343eb(0x6cc));}}function activateFileInputAreaWithLoadedFile(){const _0x515e5f=_0x448927,_0x228825=document[_0x515e5f(0xb18)](_0x515e5f(0x9c1)),_0xebe4f8=document[_0x515e5f(0xb18)](_0x515e5f(0x388)),_0x39a0e6=document[_0x515e5f(0xb18)](_0x515e5f(0xc91));selectedFile?_0x39a0e6[_0x515e5f(0x2f1)]?(_0x228825[_0x515e5f(0x64b)]=!![],analyzeFileForTopics(selectedFile)):(_0x228825[_0x515e5f(0x64b)]=![],_0xebe4f8[_0x515e5f(0x82f)][_0x515e5f(0x24b)](_0x515e5f(0x5a9))):(_0x228825['disabled']=!![],_0xebe4f8['classList'][_0x515e5f(0x24b)](_0x515e5f(0x5a9)));}async function handleKickPlayerSync(_0x37e024){const _0x1aa4c4=_0x448927;if(!currentLiveGameId||!_0x37e024)return;const _0x6765ab=doc(db,_0x1aa4c4(0xa76)+appId+_0x1aa4c4(0xdc)+currentLiveGameId+'/players',_0x37e024);try{await updateDoc(_0x6765ab,{'status':_0x1aa4c4(0xd89)});}catch(_0x4163db){console[_0x1aa4c4(0x17d)](_0x1aa4c4(0x962)+_0x37e024+':',_0x4163db),showMessage(_0x1aa4c4(0x782));}}async function renderStudentProgressDashboard(_0xa0caa4,_0x325a66){const _0xf43ded=_0x448927,_0x2407db=document[_0xf43ded(0xb18)]('student-progress-content');_0x2407db['innerHTML']=_0xf43ded(0x34b);try{const _0xf0671a=collection(db,_0xf43ded(0xa76)+appId+_0xf43ded(0xc34)),_0x148bae=query(_0xf0671a,where(_0xf43ded(0x111),'==',_0xa0caa4)),_0x86ae07=await getDocs(_0x148bae),_0x3735c8=_0x86ae07[_0xf43ded(0x18c)][_0xf43ded(0xad5)](_0x4300f8=>({'id':_0x4300f8['id'],..._0x4300f8[_0xf43ded(0xa8e)]()})),_0x16a9a5=_0x3735c8[_0xf43ded(0xad5)](_0x43164f=>getDoc(doc(db,_0xf43ded(0xa76)+appId+_0xf43ded(0xb87)+_0x43164f['id']+_0xf43ded(0xd90),_0x325a66))),_0x5aa662=await Promise[_0xf43ded(0xd05)](_0x16a9a5),_0x33a405=_0x5aa662[_0xf43ded(0x955)](_0x3de827=>_0x3de827[_0xf43ded(0x14d)]())[_0xf43ded(0xad5)](_0x29ab06=>({'quizId':_0x29ab06[_0xf43ded(0xdb2)][_0xf43ded(0x432)][_0xf43ded(0x432)]['id'],..._0x29ab06['data']()}));if(_0x33a405[_0xf43ded(0xab1)]===0x0){_0x2407db[_0xf43ded(0x5f4)]=_0xf43ded(0x776);return;}let _0x39b67e=_0xf43ded(0x7ca);_0x33a405[_0xf43ded(0x157)](_0x4b1102=>{const _0x15bc71=_0xf43ded,_0x42aeab=_0x3735c8[_0x15bc71(0x8c0)](_0x5c4de1=>_0x5c4de1['id']===_0x4b1102['quizId']),_0x129999=_0x42aeab[_0x15bc71(0xdbf)]?.[_0x15bc71(0x536)]||_0x15bc71(0xb59),_0x18182c=_0x42aeab[_0x15bc71(0xdbf)]?.[_0x15bc71(0xb52)]??0x0,_0x1222e6=_0x4b1102[_0x15bc71(0x9a2)]>=_0x18182c;let _0x10af86='',_0x431e4d=_0x15bc71(0x8d2);switch(_0x129999){case _0x15bc71(0xb59):case'show_results_only':_0x431e4d=_0x1222e6?'bg-green-50':'bg-red-50',_0x10af86=_0x15bc71(0xba9)+(_0x1222e6?_0x15bc71(0xb7):_0x15bc71(0xb8))+'\x22>'+_0x4b1102[_0x15bc71(0x9a2)]+_0x15bc71(0x65b)+_0x4b1102[_0x15bc71(0x267)]+_0x15bc71(0x39f)+(_0x1222e6?_0x15bc71(0x248):'bg-red-200\x20text-red-800')+'\x22>'+(_0x1222e6?_0x15bc71(0xd98):_0x15bc71(0x3dd))+_0x15bc71(0x289);break;case'show_pass_fail_only':_0x431e4d=_0x1222e6?'bg-green-50':_0x15bc71(0x126),_0x10af86=_0x15bc71(0x4e6)+(_0x1222e6?'bg-green-200\x20text-green-800':_0x15bc71(0x1fb))+'\x22>'+(_0x1222e6?'ผ่าน':_0x15bc71(0x3dd))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x431e4d=_0x15bc71(0x676),_0x10af86='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x39b67e+=_0x15bc71(0xa11)+_0x431e4d+_0x15bc71(0x8c8)+_0x42aeab[_0x15bc71(0xda1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x4b1102[_0x15bc71(0x975)][_0x15bc71(0xab1)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x4b1102['latestSubmittedAt'])['toLocaleDateString'](_0x15bc71(0x8be))+_0x15bc71(0x85e)+_0x10af86+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x39b67e+=_0xf43ded(0x2b1),_0x2407db['innerHTML']=_0x39b67e;}catch(_0x349ec5){console[_0xf43ded(0x17d)](_0xf43ded(0x902),_0x349ec5),_0x2407db[_0xf43ded(0x5f4)]=_0xf43ded(0x83d);}}function renderQuizBankListForMultiSelect(_0x5a31b6=''){const _0xb86dc7=_0x448927,_0x397f89=document[_0xb86dc7(0xb18)]('bank-quiz-list'),_0x564457=_0x5a31b6[_0xb86dc7(0x123)]()['trim'](),_0x3ceb59=allQuizzesGlobal['map'](_0x430bc5=>({..._0x430bc5,'projectName':allProjects['find'](_0x354a87=>_0x354a87['id']===_0x430bc5[_0xb86dc7(0x111)])?.[_0xb86dc7(0xa8f)]||_0xb86dc7(0x794)}))[_0xb86dc7(0x955)](_0x29b28a=>(_0x29b28a['topic']||'')[_0xb86dc7(0x123)]()['includes'](_0x564457)||(_0x29b28a[_0xb86dc7(0xa8f)]||'')['toLowerCase']()[_0xb86dc7(0x2e7)](_0x564457)||_0x29b28a['id']['toString']()[_0xb86dc7(0x2e7)](_0x564457));_0x397f89[_0xb86dc7(0x5f4)]=_0x3ceb59[_0xb86dc7(0xab1)]?_0x3ceb59[_0xb86dc7(0xad5)](_0x4adaa5=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x4adaa5['id']+_0xb86dc7(0x6e5)+(_0x4adaa5[_0xb86dc7(0xda1)]||_0xb86dc7(0x1ec))+_0xb86dc7(0x305)+_0x4adaa5[_0xb86dc7(0xa8f)]+_0xb86dc7(0x728)+_0x4adaa5['id']+_0xb86dc7(0x5c2))[_0xb86dc7(0x222)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x397f89[_0xb86dc7(0x75b)]=()=>{const _0x114dc7=_0xb86dc7,_0x3ad305=document[_0x114dc7(0x877)]('.quiz-bank-checkbox:checked');document[_0x114dc7(0xb18)](_0x114dc7(0x79b))[_0x114dc7(0x64b)]=!_0x3ad305;};}function setupStudentProgressListeners(){const _0x2adb5c=_0x448927;document[_0x2adb5c(0xb18)]('view-my-progress-btn')[_0x2adb5c(0xcc)](_0x2adb5c(0x8b2),showStudentProgressView),document[_0x2adb5c(0xb18)](_0x2adb5c(0x202))['addEventListener'](_0x2adb5c(0x8b2),()=>{const _0x4dfe32=_0x2adb5c;document[_0x4dfe32(0xb18)](_0x4dfe32(0x135))[_0x4dfe32(0x82f)][_0x4dfe32(0x24b)](_0x4dfe32(0x5a9)),document['getElementById'](_0x4dfe32(0x17f))[_0x4dfe32(0x82f)][_0x4dfe32(0xa1f)]('hidden');});}async function startSkillPractice(_0x28c29c){const _0x531642=_0x448927;studentResultArea['classList']['add'](_0x531642(0x5a9)),studentQuizArea[_0x531642(0x5f4)]=_0x531642(0x8c3),studentQuizArea[_0x531642(0x82f)][_0x531642(0xa1f)](_0x531642(0x5a9));try{const _0x60be46=await getStandardizedTopic(_0x28c29c);console['log'](_0x531642(0x4d5)+_0x28c29c+_0x531642(0x692)+_0x60be46+'\x22'),studentQuizArea['querySelector']('p')[_0x531642(0x633)]=_0x531642(0xc6a)+_0x60be46+_0x531642(0x758);const _0x2432a9=collection(db,'artifacts/'+appId+_0x531642(0xd86)),_0x511040=query(_0x2432a9,where('topic','==',_0x60be46)),_0x2dbdfd=await getDocs(_0x511040);if(_0x2dbdfd[_0x531642(0x18c)][_0x531642(0xab1)]>=0x3){console['log']('พบข้อสอบ\x20'+_0x2dbdfd['docs'][_0x531642(0xab1)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x60be46+_0x531642(0x68f));let _0x4962c2=_0x2dbdfd[_0x531642(0x18c)][_0x531642(0xad5)](_0x6a47d6=>_0x6a47d6[_0x531642(0xa8e)]());shuffleArray(_0x4962c2);const _0x401c15={'topic':_0x60be46,'questions':_0x4962c2[_0x531642(0xa30)](0x0,0x3)};displaySkillPracticeDrill(_0x401c15);}else{console[_0x531642(0xcad)](_0x531642(0xba6)+_0x60be46+_0x531642(0x1aa));const _0x144baf=await generatePracticeQuestions(_0x60be46);await saveDrillToPracticeBank(_0x144baf,_0x60be46),displaySkillPracticeDrill(_0x144baf);}}catch(_0x18327d){console[_0x531642(0x17d)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x18327d),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea['classList'][_0x531642(0x24b)](_0x531642(0x5a9)),studentResultArea[_0x531642(0x82f)][_0x531642(0xa1f)](_0x531642(0x5a9));}}async function saveDrillToPracticeBank(_0x43eec2,_0xb15302){const _0x163bb4=_0x448927,_0x1d76cb=collection(db,_0x163bb4(0xa76)+appId+'/public/data/practiceBank'),_0x166a53=writeBatch(db);_0x43eec2[_0x163bb4(0x677)]['forEach'](_0x173a7d=>{const _0x1dce6c=_0x163bb4,_0x4eddf5=doc(_0x1d76cb);_0x166a53[_0x1dce6c(0x83f)](_0x4eddf5,{'topic':_0xb15302,'questionText':_0x173a7d[_0x1dce6c(0xb3b)],'options':_0x173a7d['options'],'correctAnswerIndex':_0x173a7d[_0x1dce6c(0x662)],'explanation':_0x173a7d[_0x1dce6c(0x749)],'createdAt':serverTimestamp()});});try{await _0x166a53['commit'](),console[_0x163bb4(0xcad)]('บันทึกคำถามใหม่\x20'+_0x43eec2[_0x163bb4(0x677)][_0x163bb4(0xab1)]+_0x163bb4(0x925));}catch(_0x2bb282){console['error'](_0x163bb4(0xb49),_0x2bb282);}}async function getStandardizedTopic(_0x22a6dc){const _0x2fa93a=_0x448927,_0x10c720=_0x2fa93a(0x7fb)+_0x22a6dc+_0x2fa93a(0x6e9),_0x32748f={'type':_0x2fa93a(0x16b),'properties':{'standardTopic':{'type':_0x2fa93a(0x60a)}},'required':['standardTopic']};try{const _0x232779=await callAnalysisApi(_0x10c720,_0x32748f);return _0x232779[_0x2fa93a(0x7bc)];}catch(_0x5e23a2){return console[_0x2fa93a(0x17d)](_0x2fa93a(0x3af),_0x5e23a2),_0x22a6dc;}}async function handleGenerateEasyVersionQuiz(_0x4c9fdd){const _0x1ccbc6=_0x448927,_0x5b4d4e=document[_0x1ccbc6(0xb18)](_0x1ccbc6(0x827)),_0x174488=document[_0x1ccbc6(0xb18)](_0x1ccbc6(0x983));_0x174488[_0x1ccbc6(0x82f)]['add'](_0x1ccbc6(0x5a9));const _0x2f9e12=_0x1ccbc6(0xc7b);_0x5b4d4e['insertAdjacentHTML']('beforeend',_0x2f9e12);try{const _0x288a71=allQuizzes['find'](_0x344291=>_0x344291['id']===_0x4c9fdd);if(!_0x288a71)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x137e4f=_0x1ccbc6(0x8a7)+JSON['stringify'](_0x288a71[_0x1ccbc6(0x677)])+_0x1ccbc6(0x101),_0x20401c={'type':_0x1ccbc6(0x16b),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1ccbc6(0x60a)},'options':{'type':_0x1ccbc6(0x5b3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1ccbc6(0xd7a)},'idealAnswer':{'type':_0x1ccbc6(0x60a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1ccbc6(0x60a)}},'required':[_0x1ccbc6(0xb3b),_0x1ccbc6(0x3e6),_0x1ccbc6(0x749)]},_0x1576e8={'type':'OBJECT','properties':{'questions':{'type':_0x1ccbc6(0x5b3),'items':_0x20401c}},'required':[_0x1ccbc6(0x677)]},_0x47fc7d=await callAnalysisApi(_0x137e4f,_0x1576e8);_0x47fc7d&&_0x47fc7d[_0x1ccbc6(0x677)]&&_0x47fc7d['questions']['forEach'](_0x77f99d=>{const _0x48046a=_0x1ccbc6;if(_0x77f99d[_0x48046a(0x85d)](_0x48046a(0x6a5))){const _0x378143=String(_0x77f99d[_0x48046a(0x6a5)])[_0x48046a(0xb5b)]();(_0x378143===''||_0x378143[_0x48046a(0x123)]()==='null'||!_0x378143['startsWith'](_0x48046a(0xa7b)))&&delete _0x77f99d[_0x48046a(0x6a5)];}});if(!_0x47fc7d||!_0x47fc7d[_0x1ccbc6(0x677)]||_0x47fc7d[_0x1ccbc6(0x677)][_0x1ccbc6(0xab1)]===0x0)throw new Error(_0x1ccbc6(0x236));const _0x42e48c=_0x47fc7d[_0x1ccbc6(0x677)]['map']((_0x1a6fe4,_0x2fe9d6)=>({..._0x1a6fe4,'id':'q_'+Date[_0x1ccbc6(0xd02)]()+'_'+_0x2fe9d6})),_0x124cf6={'projectId':_0x288a71[_0x1ccbc6(0x111)],'quizType':_0x288a71[_0x1ccbc6(0xafc)],'settings':_0x288a71['settings'],'createdBy':_0x288a71[_0x1ccbc6(0xe3b)],'status':_0x1ccbc6(0x4f9),'topic':'(ฉบับง่าย)\x20'+_0x288a71[_0x1ccbc6(0xda1)],'questions':_0x42e48c,'createdAt':new Date()['toISOString'](),'quizMode':_0x1ccbc6(0x4b7),'pairedQuizId':null};let _0xbf67d4;while(!![]){_0xbf67d4=Math[_0x1ccbc6(0x87b)](0x3e8+Math[_0x1ccbc6(0x63c)]()*0x2328)[_0x1ccbc6(0x377)]();const _0x3420c1=await getDoc(doc(db,_0x1ccbc6(0xa76)+appId+'/public/data/quizzes',_0xbf67d4));if(!_0x3420c1[_0x1ccbc6(0x14d)]())break;}await setDoc(doc(db,_0x1ccbc6(0xa76)+appId+_0x1ccbc6(0xc34),_0xbf67d4),_0x124cf6),showMessage(_0x1ccbc6(0xa5d));}catch(_0x2f599e){console['error'](_0x1ccbc6(0x9d2),_0x2f599e),showMessage(_0x1ccbc6(0x39b)+_0x2f599e[_0x1ccbc6(0x550)]);}finally{const _0x451c47=document[_0x1ccbc6(0xb18)]('temp-loader-results');_0x451c47&&_0x451c47['remove'](),_0x174488['classList']['remove'](_0x1ccbc6(0x5a9));}}async function generatePracticeQuestions(_0x3f20c8){const _0xc64b01=_0x448927,_0x326ce1=_0xc64b01(0x6e7)+_0x3f20c8+_0xc64b01(0xc77)+simpleMathPrompt+_0xc64b01(0x41a),_0x537162={'type':'OBJECT','properties':{'questionText':{'type':_0xc64b01(0x60a)},'options':{'type':_0xc64b01(0x5b3),'items':{'type':_0xc64b01(0x60a)}},'correctAnswerIndex':{'type':_0xc64b01(0xd7a)},'explanation':{'type':_0xc64b01(0x60a)}},'required':[_0xc64b01(0xb3b),_0xc64b01(0x6ca),_0xc64b01(0x662),_0xc64b01(0x749)]},_0x21b902={'type':_0xc64b01(0x16b),'properties':{'topic':{'type':_0xc64b01(0x60a)},'questions':{'type':_0xc64b01(0x5b3),'items':_0x537162}},'required':['topic','questions']};return await callAnalysisApi(_0x326ce1,_0x21b902);}function _0x2e12(_0x27d216,_0x24e22b){const _0x1a2e99=_0x1a2e();return _0x2e12=function(_0x2e12a8,_0x297ad5){_0x2e12a8=_0x2e12a8-0xa8;let _0x5b6440=_0x1a2e99[_0x2e12a8];return _0x5b6440;},_0x2e12(_0x27d216,_0x24e22b);}function displayLessonPlan(_0x375c2b,_0x297652){const _0x120e0d=_0x448927,_0x1a0f99=_0x120e0d(0xca6)+_0x297652['topic']+_0x120e0d(0x3b0)+_0x375c2b[_0x120e0d(0x950)]['map'](_0x1d206b=>_0x120e0d(0x2aa)+_0x1d206b+_0x120e0d(0x9de))[_0x120e0d(0x222)]('')+_0x120e0d(0xac8)+_0x375c2b[_0x120e0d(0xae2)]+_0x120e0d(0xad3)+_0x375c2b[_0x120e0d(0x6ba)][_0x120e0d(0xad5)](_0x274966=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x274966[_0x120e0d(0x339)]+_0x120e0d(0x367)+_0x274966['solution']+_0x120e0d(0x28e))[_0x120e0d(0x222)]('')+_0x120e0d(0xf9);document[_0x120e0d(0xb18)]('lesson-plan-title')[_0x120e0d(0x633)]=_0x120e0d(0x829)+_0x297652[_0x120e0d(0xda1)],document['getElementById']('lesson-plan-content')[_0x120e0d(0x5f4)]=_0x1a0f99,document['getElementById'](_0x120e0d(0x74f))[_0x120e0d(0x82f)][_0x120e0d(0xa1f)]('hidden');if(window['MathJax'])MathJax[_0x120e0d(0xd16)]();}function displaySkillPracticeDrill(_0x8b5e63){const _0x4aa305=_0x448927;let _0x54b4a1=0x0;const _0x41aca3=_0x8b5e63[_0x4aa305(0x677)],_0x3ee80c=()=>{const _0x36ff80=_0x4aa305,_0x532ff1=_0x41aca3[_0x54b4a1],_0x489d63='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x54b4a1+0x1)+_0x36ff80(0x65b)+_0x41aca3['length']+_0x36ff80(0x4f2)+_0x532ff1[_0x36ff80(0xb3b)]+_0x36ff80(0x992)+_0x532ff1[_0x36ff80(0x6ca)][_0x36ff80(0xad5)]((_0x3d2cec,_0x149f48)=>_0x36ff80(0x804)+_0x149f48+_0x36ff80(0x6d9)+_0x149f48+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x149f48+'\x22>'+_0x3d2cec+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x36ff80(0x2c0);studentQuizArea[_0x36ff80(0x5f4)]=_0x489d63;if(window[_0x36ff80(0x563)])MathJax[_0x36ff80(0xd16)]([studentQuizArea]);document[_0x36ff80(0xb18)](_0x36ff80(0x1c2))['addEventListener'](_0x36ff80(0x8b2),async()=>{const _0x11f65e=_0x36ff80,_0x56c326=await getHintForQuestion(_0x532ff1[_0x11f65e(0xb3b)]);showMessage(_0x56c326);}),document[_0x36ff80(0xb18)](_0x36ff80(0xd45))[_0x36ff80(0xcc)](_0x36ff80(0x8b2),()=>{const _0x538c0e=_0x36ff80,_0x6ea7a2=document[_0x538c0e(0x877)](_0x538c0e(0x800));if(!_0x6ea7a2){showMessage(_0x538c0e(0xab));return;}const _0x549033=document['getElementById'](_0x538c0e(0x4c8)),_0x5f5b63=parseInt(_0x6ea7a2['value'])===_0x532ff1[_0x538c0e(0x662)];_0x5f5b63?(_0x549033[_0x538c0e(0x257)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x549033[_0x538c0e(0x5f4)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x532ff1[_0x538c0e(0x749)]):(_0x549033['className']=_0x538c0e(0x343),_0x549033[_0x538c0e(0x5f4)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x532ff1['explanation']);_0x549033[_0x538c0e(0x82f)]['remove']('hidden');if(window[_0x538c0e(0x563)])MathJax[_0x538c0e(0xd16)]([_0x549033]);document[_0x538c0e(0xb18)](_0x538c0e(0xd45))[_0x538c0e(0x82f)][_0x538c0e(0x24b)](_0x538c0e(0x5a9)),document['getElementById']('hint-btn')[_0x538c0e(0x82f)][_0x538c0e(0x24b)]('hidden'),document[_0x538c0e(0xb18)]('next-drill-btn')['classList']['remove'](_0x538c0e(0x5a9));}),document[_0x36ff80(0xb18)](_0x36ff80(0x1d8))[_0x36ff80(0xcc)](_0x36ff80(0x8b2),()=>{const _0x5b507f=_0x36ff80;_0x54b4a1++,_0x54b4a1<_0x41aca3[_0x5b507f(0xab1)]?_0x3ee80c():(studentQuizArea['innerHTML']=_0x5b507f(0x1ba),document[_0x5b507f(0xb18)](_0x5b507f(0x24d))[_0x5b507f(0xcc)]('click',()=>{const _0x271283=_0x5b507f;studentQuizArea[_0x271283(0x82f)]['add']('hidden'),studentResultArea['classList'][_0x271283(0xa1f)]('hidden');}));});};_0x3ee80c();}async function getHintForQuestion(_0xf5c10e){const _0x213541=_0x448927,_0x2a020a=_0x213541(0xd07)+_0xf5c10e+_0x213541(0xaa0),_0x4c2917={'type':_0x213541(0x16b),'properties':{'hint':{'type':'STRING'}},'required':[_0x213541(0x82d)]};try{const _0x5400ec=await callAnalysisApi(_0x2a020a,_0x4c2917);return _0x5400ec[_0x213541(0x82d)];}catch(_0x53cb3f){return console[_0x213541(0x17d)](_0x213541(0xb4a),_0x53cb3f),_0x213541(0xd65);}}async function extractTextFromPdf(_0x2975a4){const _0x1af784=_0x448927;pdfjsLib[_0x1af784(0x4d1)][_0x1af784(0x8b7)]=_0x1af784(0x306);const _0x2c5a29=await _0x2975a4[_0x1af784(0xbfe)](),_0x400e5e=await pdfjsLib[_0x1af784(0x616)](_0x2c5a29)[_0x1af784(0x9e0)],_0x120411=_0x400e5e[_0x1af784(0xd44)];let _0x904875='';for(let _0x559f0a=0x1;_0x559f0a<=_0x120411;_0x559f0a++){const _0x5317ee=await _0x400e5e[_0x1af784(0x44b)](_0x559f0a),_0x2b9a95=await _0x5317ee['getTextContent'](),_0x4d1ec4=_0x2b9a95[_0x1af784(0x468)][_0x1af784(0xad5)](_0x459548=>_0x459548[_0x1af784(0xd7e)])['join']('\x20');_0x904875+=_0x4d1ec4+'\x0a\x0a';}return _0x904875;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x4e0dd0){const _0x2081c5=_0x448927,_0x2dc2c8=document[_0x2081c5(0xb18)]('blueprint-options-container'),_0xc5be62=document[_0x2081c5(0xb18)](_0x2081c5(0x2a9)),_0x4ae5d2=document[_0x2081c5(0xb18)](_0x2081c5(0x413));_0x2dc2c8[_0x2081c5(0x82f)][_0x2081c5(0xa1f)]('hidden'),_0xc5be62[_0x2081c5(0x5f4)]=_0x2081c5(0xab2),_0x4ae5d2[_0x2081c5(0x82f)][_0x2081c5(0x24b)](_0x2081c5(0x5a9));try{const _0x378168=_0x2081c5(0x35d)+_0x4e0dd0+_0x2081c5(0xbc7),_0x2ebd6d={'type':_0x2081c5(0x16b),'properties':{'gradeLevel':{'type':_0x2081c5(0x60a)},'curriculum':{'type':_0x2081c5(0x5b3),'items':{'type':_0x2081c5(0x16b),'properties':{'sara':{'type':_0x2081c5(0x60a)},'mainTopics':{'type':'ARRAY','items':{'type':_0x2081c5(0x16b),'properties':{'topicName':{'type':_0x2081c5(0x60a)},'subTopics':{'type':_0x2081c5(0x5b3),'items':{'type':_0x2081c5(0x60a)}}},'required':[_0x2081c5(0xabe),_0x2081c5(0xec)]}}},'required':[_0x2081c5(0x4e1),_0x2081c5(0x447)]}}},'required':[_0x2081c5(0xe8),'curriculum']},_0xfdb969=await callAnalysisApi(_0x378168,_0x2ebd6d);if(_0xfdb969&&_0xfdb969[_0x2081c5(0x1d6)])extractedBlueprintData=_0xfdb969,renderBlueprintTopics(_0xfdb969),_0x4ae5d2['classList'][_0x2081c5(0xa1f)]('hidden');else throw new Error(_0x2081c5(0x2d7));}catch(_0x1e5872){console[_0x2081c5(0x17d)](_0x2081c5(0x169),_0x1e5872),_0xc5be62[_0x2081c5(0x5f4)]=_0x2081c5(0xb54);}}function renderBlueprintTopics(_0x535162){const _0x159820=_0x448927,_0x45d57c=document['getElementById'](_0x159820(0x2a9)),_0x477434=_0x535162[_0x159820(0xe8)],_0x327c6c=_0x159820(0x24e)+_0x477434+'</h3>';let _0x4798f9='';_0x535162[_0x159820(0x1d6)][_0x159820(0x157)](_0x26734e=>{const _0x22b971=_0x159820;_0x4798f9+=_0x22b971(0x360)+_0x26734e['sara']+_0x22b971(0x48c),_0x26734e[_0x22b971(0x447)][_0x22b971(0x157)](_0x47cb70=>{const _0x3cd9fd=_0x22b971;_0x4798f9+=_0x3cd9fd(0xb2f)+_0x47cb70[_0x3cd9fd(0xabe)]+_0x3cd9fd(0x23e),_0x47cb70[_0x3cd9fd(0xec)]['forEach'](_0x10c98d=>{const _0x28655c=_0x3cd9fd;_0x4798f9+=_0x28655c(0x22e)+_0x10c98d[_0x28655c(0x572)](/'/g,'\x5c\x27')+_0x28655c(0xcee)+_0x477434[_0x28655c(0x572)](/'/g,'\x5c\x27')+_0x28655c(0x60d)+_0x10c98d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x10c98d['replace'](/'/g,'\x5c\x27')+_0x28655c(0x49f);}),_0x4798f9+=_0x3cd9fd(0xbc0);}),_0x4798f9+=_0x22b971(0x2b1);}),_0x45d57c['innerHTML']=_0x327c6c+_0x4798f9;}async function handleGenerateTeachingContent(_0x408968){const _0x46a4c8=_0x448927,_0x4f7790=document['getElementById']('lesson-plan-modal'),_0x45d472=document[_0x46a4c8(0xb18)](_0x46a4c8(0x561));document[_0x46a4c8(0xb18)](_0x46a4c8(0x35f))[_0x46a4c8(0x633)]='กำลังสร้างเนื้อหา:\x20'+_0x408968,_0x45d472['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x4f7790[_0x46a4c8(0x82f)]['remove'](_0x46a4c8(0x5a9));try{const _0x82513f=_0x46a4c8(0xce8)+_0x408968+_0x46a4c8(0xa96),_0x4a342a={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x46a4c8(0x5b3),'items':{'type':'STRING'}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x46a4c8(0x60a)}},'stepByStepExamples':{'type':_0x46a4c8(0x5b3),'items':{'type':_0x46a4c8(0x16b),'properties':{'question':{'type':_0x46a4c8(0x60a)},'solution':{'type':'STRING'}},'required':[_0x46a4c8(0x339),_0x46a4c8(0xc57)]}},'teacherTips':{'type':_0x46a4c8(0x5b3),'items':{'type':_0x46a4c8(0x60a)}}},'required':[_0x46a4c8(0xcb4),_0x46a4c8(0x865),_0x46a4c8(0xb81),_0x46a4c8(0x9e9)]},_0x15745f=await callAnalysisApi(_0x82513f,_0x4a342a);displayTeachingContent(_0x15745f,_0x408968);}catch(_0x263604){console[_0x46a4c8(0x17d)](_0x46a4c8(0x5d8),_0x263604),_0x45d472[_0x46a4c8(0x5f4)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x263604[_0x46a4c8(0x550)]+_0x46a4c8(0xc4e);}}function displayTeachingContent(_0x2f7090,_0x4c1213){const _0x37649a=_0x448927,_0x519e4d=document[_0x37649a(0xb18)](_0x37649a(0x561));document['getElementById'](_0x37649a(0x35f))['textContent']=_0x37649a(0xb19)+_0x4c1213;const _0x2cd734=_0x37649a(0xde8)+_0x2f7090[_0x37649a(0xcb4)]['map'](_0x2a3ed6=>_0x37649a(0x2aa)+_0x2a3ed6+_0x37649a(0x9de))['join']('')+_0x37649a(0x7b2)+_0x2f7090[_0x37649a(0x865)][_0x37649a(0xad5)](_0x1e0afb=>_0x37649a(0x2aa)+_0x1e0afb+_0x37649a(0x9de))[_0x37649a(0x222)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x2f7090['stepByStepExamples'][_0x37649a(0xad5)](_0x5cbf93=>_0x37649a(0x698)+_0x5cbf93[_0x37649a(0x339)]+_0x37649a(0xd26)+_0x5cbf93[_0x37649a(0xc57)]+_0x37649a(0xb8b))[_0x37649a(0x222)]('')+_0x37649a(0xa44)+_0x2f7090[_0x37649a(0x9e9)][_0x37649a(0xad5)](_0x489ec5=>_0x37649a(0x2aa)+_0x489ec5+_0x37649a(0x9de))[_0x37649a(0x222)]('')+_0x37649a(0x611);_0x519e4d[_0x37649a(0x5f4)]=_0x2cd734;if(window[_0x37649a(0x563)])MathJax[_0x37649a(0xd16)]([_0x519e4d]);}async function generateQuizForSingleTopic(_0xb24ef0){const _0x3c00ac=_0x448927;console[_0x3c00ac(0xcad)](_0x3c00ac(0x866)+_0xb24ef0+'\x22');const _0x5b203b=document[_0x3c00ac(0xb18)](_0x3c00ac(0xcfb)),_0x28bd15=_0x5b203b['files'][_0x3c00ac(0xab1)]>0x0?_0x5b203b['files'][0x0]:null;let _0x235f78=null;if(_0x28bd15)try{const _0x146f20=new FileReader();_0x146f20[_0x3c00ac(0xcd3)](_0x28bd15);const _0x2144b8=await new Promise((_0x39f1e0,_0x15293a)=>{const _0x2c6dbc=_0x3c00ac;_0x146f20[_0x2c6dbc(0xab4)]=()=>_0x39f1e0(_0x146f20['result'][_0x2c6dbc(0xc74)](',')[0x1]),_0x146f20[_0x2c6dbc(0x26d)]=_0x2d65a9=>_0x15293a(_0x2d65a9);});_0x235f78=[{'inlineData':{'mimeType':_0x28bd15[_0x3c00ac(0x4e4)],'data':_0x2144b8}}];}catch(_0x499db4){console[_0x3c00ac(0x17d)](_0x3c00ac(0x3c5),_0x499db4),showMessage(_0x3c00ac(0x1de));return;}generateQuiz(_0xb24ef0,null,null,_0x235f78,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x34a071=null){const _0x335d7e=_0x448927,_0x4aecec=document[_0x335d7e(0xb18)](_0x335d7e(0x3f3)),_0xc6c644=document['getElementById']('loader-text');let _0x2557e7,_0x2a8757=[];if(_0x34a071)_0x2557e7=_0x34a071,_0x2a8757=_0x2557e7[_0x335d7e(0xa30)](0x2);else{const _0x1e97c6=document[_0x335d7e(0xb18)](_0x335d7e(0x789)),_0x146ab6=document[_0x335d7e(0xb18)]('reference-pdf-upload'),_0x223f57=_0x1e97c6[_0x335d7e(0x370)][0x0];if(!_0x223f57){showMessage(_0x335d7e(0x680));return;}_0xc6c644[_0x335d7e(0x633)]='กำลังเตรียมไฟล์...';const _0x50fb35=await new Promise((_0x4af52c,_0x141561)=>{const _0x5834a4=_0x335d7e,_0x468aa7=new FileReader();_0x468aa7[_0x5834a4(0xcd3)](_0x223f57),_0x468aa7[_0x5834a4(0xab4)]=()=>_0x4af52c(_0x468aa7[_0x5834a4(0x31e)]['split'](',')[0x1]),_0x468aa7[_0x5834a4(0x26d)]=_0x141561;});_0x2557e7=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x223f57[_0x335d7e(0x4e4)],'data':_0x50fb35}}];if(_0x146ab6[_0x335d7e(0x370)][_0x335d7e(0xab1)]>0x0){const _0x4d82e1=_0x146ab6['files'][0x0];_0xc6c644[_0x335d7e(0x633)]=_0x335d7e(0x8b1);const _0x5f222f=await new Promise((_0x49bfa5,_0x4e6870)=>{const _0x4a3880=_0x335d7e,_0x1634a3=new FileReader();_0x1634a3[_0x4a3880(0xcd3)](_0x4d82e1),_0x1634a3[_0x4a3880(0xab4)]=()=>_0x49bfa5(_0x1634a3[_0x4a3880(0x31e)]['split'](',')[0x1]),_0x1634a3[_0x4a3880(0x26d)]=_0x4e6870;}),_0x51589d={'inlineData':{'mimeType':_0x4d82e1['type'],'data':_0x5f222f}};_0x2557e7[_0x335d7e(0x626)](_0x51589d),_0x2a8757[_0x335d7e(0x626)](_0x51589d);}}const _0x51abdf=_0x335d7e(0x2f5),_0x5da14f=_0x335d7e(0x4a0);let _0x3352f6='';_0x2a8757&&_0x2a8757[_0x335d7e(0xab1)]>0x0?_0x3352f6=_0x51abdf:_0x3352f6=_0x5da14f;const _0x1af42d='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x3352f6+_0x335d7e(0x6d8),_0x39768b={'type':_0x335d7e(0x16b),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x335d7e(0x60a),'enum':[_0x335d7e(0x232),'short_answer',_0x335d7e(0xab0),'matching_item']},'options':{'type':_0x335d7e(0x5b3),'items':{'type':_0x335d7e(0x60a)}},'correctAnswerIndex':{'type':_0x335d7e(0xd7a)},'idealAnswer':{'type':_0x335d7e(0x60a)},'correctAnswer':{'type':_0x335d7e(0xb2c)},'explanation':{'type':_0x335d7e(0x60a)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x335d7e(0x749)]},_0x379f04={'type':_0x335d7e(0x16b),'properties':{'topic':{'type':_0x335d7e(0x60a)},'questions':{'type':_0x335d7e(0x5b3),'items':_0x39768b}},'required':[_0x335d7e(0xda1),_0x335d7e(0x677)]};_0x2557e7[0x0][_0x335d7e(0xcfd)]=_0x1af42d,await handleApiCall(_0x2557e7,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x379f04);}function proceedToNextQuestion(_0x2406f9){const _0x21fe68=_0x448927;studentAnswersPerQuestion['push'](_0x2406f9),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x21fe68(0x677)][_0x21fe68(0xab1)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x3e5c3c,_0x280ce6,_0x131e54){const _0x3e8821=_0x448927,_0x2f2cb1=Object[_0x3e8821(0x56e)](_0x3e5c3c[_0x3e8821(0xdd9)]||{}),_0x2cdf9b=_0x2f2cb1[_0x3e8821(0xab1)],_0x5d0690=_0x131e54,_0x55347a=_0x3e5c3c[_0x3e8821(0x64f)]||_0x3e8821(0x529),_0x41f297=_0x55347a===_0x3e8821(0x94b)||_0x55347a===_0x3e8821(0x6ec),_0x2286d6=_0x55347a===_0x3e8821(0x207)||_0x55347a===_0x3e8821(0x6ec),_0x3b8fd2=_0x3e5c3c[_0x3e8821(0x7c9)]===!![],_0x5d6d7f=_0x55347a==='competition',_0x5c548f=_0x3e5c3c['shuffledQuiz'][_0x3e8821(0x677)],_0x563052=_0x5c548f[_0x5d0690],_0xfc956f=_0x54f389=>String['fromCharCode'](0x41+_0x54f389),_0x365d63=_0x2f2cb1['map'](_0x3f6b2a=>{const _0x23459a=_0x3e8821,_0x42fd6e=(_0x3f6b2a[_0x23459a(0xc70)]||[])['filter'](_0x2372f8=>{const _0x42e50b=_0x23459a;if(_0x2286d6)return _0x2372f8[_0x42e50b(0x74b)]<=_0x5d0690;return!![];});let _0x3e8527=0x0,_0x122ced=0x0;_0x2286d6?(_0x3e8527=_0x42fd6e[_0x23459a(0x955)](_0x2e23dc=>_0x2e23dc[_0x23459a(0xc26)])[_0x23459a(0xab1)],_0x122ced=_0x42fd6e['reduce']((_0x2ca7fe,_0x160902)=>_0x2ca7fe+(_0x160902[_0x23459a(0x4b1)]||0x0),0x0)):(_0x3e8527=_0x3f6b2a[_0x23459a(0x87c)]||0x0,_0x122ced=_0x3f6b2a[_0x23459a(0xc38)]||0x0);const _0x23847a=[..._0x42fd6e]['sort']((_0xb67e72,_0x21b392)=>_0xb67e72[_0x23459a(0x74b)]-_0x21b392[_0x23459a(0x74b)]);let _0x39df04=0x0;return _0x23847a[_0x23459a(0x157)](_0x3a6f1b=>{const _0x100e82=_0x23459a,_0xe38aa6=_0x3a6f1b['powerupUsed']&&_0x3a6f1b[_0x100e82(0x6ab)]!=='wagerMultiplier'||_0x3a6f1b['usedBuyTime'];_0x3a6f1b[_0x100e82(0xc26)]?_0xe38aa6?_0x39df04=0x0:_0x39df04++:_0x39df04=0x0;}),{..._0x3f6b2a,'realScore':_0x3e8527,'totalPoints':_0x122ced,'answers':_0x42fd6e,'correctStreak':_0x39df04};}),_0x4ccf1d=Math[_0x3e8821(0x90d)](..._0x365d63[_0x3e8821(0xad5)](_0x23e948=>_0x23e948[_0x3e8821(0xc38)]),-Infinity),_0x30cd76=Math[_0x3e8821(0x90d)](..._0x365d63[_0x3e8821(0xad5)](_0x118085=>_0x118085['realScore']),-Infinity),_0x4729e8=_0x3e5c3c[_0x3e8821(0xbb8)]===!![],_0x50d7dd=[..._0x365d63][_0x3e8821(0x872)]((_0x594c98,_0x17ac84)=>{const _0x21d669=_0x3e8821;if(_0x4729e8){const _0x4d35f5=_0x17ac84['totalPoints']-_0x594c98[_0x21d669(0xc38)];if(_0x4d35f5!==0x0)return _0x4d35f5;const _0x427466=_0x17ac84['realScore']-_0x594c98[_0x21d669(0x745)];if(_0x427466!==0x0)return _0x427466;return(_0x594c98[_0x21d669(0x2d2)]||'')[_0x21d669(0x649)](_0x17ac84['name']||'','th');}else{const _0x5a68c4=_0x17ac84[_0x21d669(0xc38)]-_0x594c98[_0x21d669(0xc38)];if(_0x5a68c4!==0x0)return _0x5a68c4;const _0x3031f1=_0x17ac84['realScore']-_0x594c98['realScore'];if(_0x3031f1!==0x0)return _0x3031f1;return(_0x594c98[_0x21d669(0x2d2)]||'')[_0x21d669(0x649)](_0x17ac84[_0x21d669(0x2d2)]||'','th');}});let _0x21a1cf='';const _0x151805=!_0x5d6d7f&&!(_0x41f297&&_0x3e5c3c[_0x3e8821(0x7b7)]===![]);if(_0x563052&&_0x151805){let _0x408a70='',_0x55d84d='';const _0x4a31c5=_0x563052[_0x3e8821(0x3e6)]||_0x3e5c3c[_0x3e8821(0xe1c)][_0x3e8821(0xafc)];if(_0x4a31c5==='multiple_choice'&&_0x563052[_0x3e8821(0x6ca)]){const _0x1fc665=_0x563052[_0x3e8821(0x662)];_0x408a70=_0x563052['options'][_0x1fc665],_0x55d84d=_0xfc956f(_0x1fc665)+'.';}else{if(_0x4a31c5==='true_false'){const _0x131ec8=String(_0x563052[_0x3e8821(0xaf4)])['toLowerCase']()==='true';_0x408a70=_0x131ec8?_0x3e8821(0x199):_0x3e8821(0x97c),_0x55d84d=_0x131ec8?'ก.':'ข.';}else{if(_0x4a31c5==='matching_item')_0x408a70=_0x563052[_0x3e8821(0x993)]||'-';else(_0x4a31c5==='short_answer'||_0x4a31c5===_0x3e8821(0x2ad))&&(_0x408a70=_0x563052[_0x3e8821(0xcac)]||'-');}}_0x408a70&&(_0x21a1cf=_0x3e8821(0x3ff)+(_0x5d0690+0x1)+_0x3e8821(0xc58)+_0x55d84d+'\x20'+_0x408a70+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0xae9ac0=_0x50d7dd['map']((_0x21a0ea,_0x184d31)=>{const _0x1e289c=_0x3e8821,_0x741a5a=_0x21a0ea[_0x1e289c(0x745)],_0x283f41=_0x21a0ea[_0x1e289c(0xc38)],_0xd59698=(_0x21a0ea[_0x1e289c(0xc70)]||[])[_0x1e289c(0x8c0)](_0x73efe9=>_0x73efe9[_0x1e289c(0x74b)]===_0x131e54),_0x215640=_0x21a0ea[_0x1e289c(0xc70)]['length'];let _0x1188c5='';if(_0xd59698){if(_0xd59698[_0x1e289c(0x740)])_0x1188c5+=_0x1e289c(0x116);if(_0xd59698[_0x1e289c(0x55c)])_0x1188c5+=_0x1e289c(0x575);if(_0xd59698[_0x1e289c(0x71d)])_0x1188c5+='<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>';const _0x200594=_0xd59698['powerupUsed'];if(_0x200594){const _0x5a37fd={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x5a37fd[_0x200594])_0x1188c5+=_0x1e289c(0x127)+_0x5a37fd[_0x200594]+_0x1e289c(0x95e);}}let _0x29af2b='';const _0x364306=_0x21a0ea[_0x1e289c(0x14f)]||0x0,_0x13924b=_0xd59698&&_0xd59698['usedBuyTime'],_0x9cfae1=_0xd59698&&_0xd59698[_0x1e289c(0x6ab)]&&_0xd59698[_0x1e289c(0x6ab)]!=='wagerMultiplier';!_0x5d6d7f&&_0x364306>=0x3&&!_0x13924b&&!_0x9cfae1&&(_0x29af2b+=_0x1e289c(0x612)+_0x364306+_0x1e289c(0x95e));if(!_0x5d6d7f&&_0x215640>0x0){if(_0x4729e8){if(_0x283f41===_0x4ccf1d&&_0x4ccf1d>0x0)_0x29af2b+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0x741a5a===_0x30cd76&&_0x30cd76>0x0)_0x29af2b+=_0x1e289c(0xe21);}else{const _0x2b9e25=_0x21a0ea[_0x1e289c(0x745)]===_0x131e54+0x1;if(_0x2b9e25)_0x29af2b+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x29af2b===''&&_0x283f41<0x0)_0x29af2b+='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x388370=_0x1e289c(0x12c),_0x1a8107=![],_0x234ed6=![];if(!_0x5d6d7f){const _0x2036c9=(_0x21a0ea[_0x1e289c(0xc70)]||[])[_0x1e289c(0x8c0)](_0x2be350=>_0x2be350[_0x1e289c(0x74b)]===_0x5d0690);if(_0x2036c9){const _0x35bd73=_0x2036c9[_0x1e289c(0xc26)],_0x9a737b=_0x2036c9[_0x1e289c(0xc3c)]===!![]||_0x2036c9[_0x1e289c(0xc3c)]===_0x1e289c(0x1c5),_0x2cf41e=_0x2036c9[_0x1e289c(0x6ab)];if(_0x2cf41e==='wagerMultiplier')_0x35bd73?(_0x388370=_0x1e289c(0x717),_0x1a8107=!![]):(_0x388370=_0x1e289c(0x733),_0x234ed6=!![]);else{if(_0x9a737b)_0x388370=_0x35bd73?_0x1e289c(0x3fc):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x35bd73&&(_0x388370=_0x1e289c(0x91b));}}}let _0x2349ad='';const _0x593e9e=_0x21a0ea[_0x1e289c(0x2d2)],_0x4973f9=_0x3e5c3c[_0x1e289c(0x375)][_0x21a0ea['name']]||_0x1e289c(0x2bb),_0x27f34b=_0x1e289c(0x8fa),_0x15971c=_0x1e289c(0x906),_0x176d14=_0x1a8107?_0x1e289c(0x682):_0x1e289c(0xd94);let _0x10419a='';const _0x478abb=_0x283f41>=0x0?'(+'+_0x283f41[_0x1e289c(0x2d9)]()+')':'('+_0x283f41['toLocaleString']()+')',_0x5dec05=_0x1e289c(0xb51)+_0x741a5a+_0x1e289c(0x781)+_0x478abb+_0x1e289c(0x95e);if(_0x280ce6){if(_0x41f297&&!_0x3b8fd2)_0x234ed6?_0x2349ad=_0x1e289c(0xd9c)+_0x27f34b+_0x1e289c(0xcda)+_0x593e9e+'\x20('+_0x4973f9+_0x1e289c(0x889)+_0x15971c+'\x22>'+_0x593e9e+_0x1e289c(0xce6)+_0x1188c5+'\x20'+_0x29af2b+_0x1e289c(0x693)+_0x176d14+_0x1e289c(0x10b)+_0x15971c+_0x1e289c(0x88a)+_0x4973f9+_0x1e289c(0xb38):_0x2349ad=_0x1e289c(0xd9c)+_0x27f34b+'\x22\x20title=\x22'+_0x4973f9+_0x1e289c(0xddc)+_0x15971c+'\x22>'+_0x4973f9+_0x1e289c(0xce6)+_0x1188c5+'\x20'+_0x29af2b+_0x1e289c(0x2b1),_0x10419a=_0x5dec05;else{if(_0x41f297&&_0x3b8fd2)_0x2349ad=_0x1e289c(0xd9c)+_0x27f34b+_0x1e289c(0xcda)+_0x593e9e+'\x22><span\x20style=\x22'+_0x15971c+'\x22>'+_0x593e9e+_0x1e289c(0xce6)+_0x1188c5+'\x20'+_0x29af2b+_0x1e289c(0x693)+_0x176d14+_0x1e289c(0x10b)+_0x15971c+_0x1e289c(0x88a)+_0x4973f9+_0x1e289c(0xb38),_0x10419a=_0x5dec05;else _0x5d6d7f?(_0x2349ad=_0x1e289c(0xd9c)+_0x27f34b+'\x22\x20title=\x22'+_0x593e9e+_0x1e289c(0xddc)+_0x15971c+'\x22>'+_0x593e9e+'</span>\x20'+_0x1188c5+'\x20'+_0x29af2b+_0x1e289c(0x2b1),_0x10419a=''):(_0x2349ad=_0x1e289c(0xd9c)+_0x27f34b+'\x22\x20title=\x22'+_0x593e9e+_0x1e289c(0xddc)+_0x15971c+'\x22>'+_0x593e9e+_0x1e289c(0xce6)+_0x1188c5+'\x20'+_0x29af2b+_0x1e289c(0x2b1),_0x10419a=_0x5dec05);}}return _0x1e289c(0x4de)+_0x388370+_0x1e289c(0x666)+(_0x184d31+0x1)+_0x1e289c(0xc5)+_0x2349ad+_0x1e289c(0x90a)+_0x10419a+_0x1e289c(0x8ca);})[_0x3e8821(0x222)](''),_0x5d8920=_0x5c548f[_0x3e8821(0xad5)]((_0x4693e8,_0x16f38c)=>{const _0x16dbb4=_0x3e8821;if(_0x2286d6&&_0x16f38c>_0x5d0690||_0x5d6d7f)return'';const _0x4fade6=_0x365d63['filter'](_0x52a065=>_0x52a065[_0x16dbb4(0xc70)]&&_0x52a065[_0x16dbb4(0xc70)][_0x16dbb4(0x8c0)](_0x100b74=>_0x100b74[_0x16dbb4(0x74b)]===_0x16f38c&&_0x100b74[_0x16dbb4(0xc26)]))['length'],_0x598f69=_0x16f38c===_0x5d0690,_0x7e3640=_0x598f69?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x16dbb4(0x963);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x7e3640+_0x16dbb4(0xb06)+(_0x16f38c+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x4fade6+_0x16dbb4(0x65b)+_0x2cdf9b+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x11a59c='',_0x50e463='';if(_0x280ce6){const _0x1f2b92=_0x55347a===_0x3e8821(0x529)&&_0x3e5c3c[_0x3e8821(0xd34)]>=_0x5c548f[_0x3e8821(0xab1)]-0x1,_0x5900cf=_0x2286d6&&_0x3e5c3c[_0x3e8821(0x9f9)]>=_0x5c548f[_0x3e8821(0xab1)]-0x1,_0x28128e=_0x55347a===_0x3e8821(0x1b7)&&_0x3e5c3c[_0x3e8821(0xd34)]>=_0x5c548f[_0x3e8821(0xab1)]-0x1,_0x1af388=_0x41f297&&!_0x2286d6&&_0x3e5c3c[_0x3e8821(0xd34)]>=_0x5c548f['length']-0x1;if(_0x2286d6)_0x5900cf?_0x41f297&&!_0x3b8fd2?_0x11a59c=_0x3e8821(0x58f):_0x11a59c=_0x3e8821(0x72e):_0x11a59c='<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';else _0x1f2b92||_0x28128e||_0x1af388?_0x41f297&&!_0x3b8fd2?_0x11a59c=_0x3e8821(0x58f):_0x11a59c=_0x3e8821(0x72e):_0x11a59c='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';_0x50e463=_0x3e8821(0xda);}const _0x13cc91=_0x5d6d7f||_0x41f297&&!_0x3e5c3c[_0x3e8821(0x7b7)]?'':_0x3e8821(0x7ab)+_0x5d8920+_0x3e8821(0xbc0),_0x4836a4=_0x5d6d7f||_0x41f297&&!_0x3e5c3c['showAnswerInAnonymous']?_0x3e8821(0xc81):_0x3e8821(0xcb8),_0x1f508e=_0x3e8821(0x516)+_0x3e5c3c[_0x3e8821(0xe1c)]['topic']+_0x3e8821(0x7e3)+_0x3e5c3c[_0x3e8821(0x7c1)]+_0x3e8821(0xb4c)+_0x50e463+_0x3e8821(0x465)+_0x21a1cf+_0x3e8821(0x726)+_0x4836a4+_0x3e8821(0x2cd)+(_0xae9ac0||_0x3e8821(0xcc2))+_0x3e8821(0xcbb)+_0x13cc91+_0x3e8821(0x5fa)+(_0x280ce6?_0x3e8821(0xa79)+_0x11a59c+_0x3e8821(0x2b1):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3e8821(0x5f4)]=_0x1f508e;if(window[_0x3e8821(0x563)]){const _0x375e8f=document[_0x3e8821(0xb18)](_0x3e8821(0xd0c));_0x375e8f&&MathJax['typesetPromise']([_0x375e8f]);}if(_0x280ce6){const _0x218264=document['getElementById'](_0x3e8821(0x679));_0x218264&&(_0x218264[_0x3e8821(0xb4f)]=async()=>{const _0xb3bd82=_0x3e8821,_0x5cc593=doc(db,'artifacts/'+appId+_0xb3bd82(0xc0a),currentLiveGameId),_0x5957f0=_0x3e5c3c[_0xb3bd82(0xd34)]+0x1,_0x26edb8=_0x3e5c3c[_0xb3bd82(0xe1c)][_0xb3bd82(0x677)]['length'];!_0x2286d6&&_0x5957f0<_0x26edb8?await updateDoc(_0x5cc593,{'status':_0xb3bd82(0x339),'currentQuestionIndex':_0x5957f0,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x5cc593,{'status':_0xb3bd82(0x2d1)});});const _0x137f81=document[_0x3e8821(0xb18)](_0x3e8821(0xb7e));_0x137f81&&(_0x137f81['onclick']=async()=>{const _0x1bbf63=_0x3e8821,_0x37ef61=doc(db,'artifacts/'+appId+_0x1bbf63(0xc0a),currentLiveGameId);await updateDoc(_0x37ef61,{'reviewQuestionIndex':increment(0x1)});});document[_0x3e8821(0xb18)]('reveal-names-btn')?.[_0x3e8821(0xcc)](_0x3e8821(0x8b2),async()=>{const _0x101cec=_0x3e8821;await updateDoc(doc(db,_0x101cec(0xa76)+appId+_0x101cec(0xc0a),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x5688a4=document[_0x3e8821(0xb18)]('end-sync-game-btn');_0x5688a4&&(_0x5688a4[_0x3e8821(0xb4f)]=()=>{const _0x24aa03=_0x3e8821;showConfirmation(_0x24aa03(0x4c9),async()=>{const _0x4ee245=_0x24aa03;await updateDoc(doc(db,_0x4ee245(0xa76)+appId+_0x4ee245(0xc0a),currentLiveGameId),{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x20f945){const _0x3f32eb=_0x448927,_0x10fcd8=document['getElementById'](_0x3f32eb(0x827)),_0x1ca01f=document['getElementById'](_0x3f32eb(0x983));_0x1ca01f[_0x3f32eb(0x82f)][_0x3f32eb(0x24b)](_0x3f32eb(0x5a9));const _0x1e631b=_0x3f32eb(0x75a)+_0x20f945['topic']+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x10fcd8[_0x3f32eb(0x4c3)](_0x3f32eb(0x8a6),_0x1e631b);const _0x507ea0=document[_0x3f32eb(0xb18)](_0x3f32eb(0x134));try{const _0x5492e2=_0x20f945[_0x3f32eb(0x677)][_0x3f32eb(0xad5)]((_0x5ba70f,_0x38bcf9)=>{const _0x86ad4c=_0x3f32eb;let _0xff4a9b=_0x38bcf9+0x1+'.\x20'+(_0x5ba70f[_0x86ad4c(0xb3b)]||_0x5ba70f[_0x86ad4c(0xc35)])+'\x0a';if(_0x5ba70f[_0x86ad4c(0x6ca)])_0xff4a9b+=_0x5ba70f[_0x86ad4c(0x6ca)][_0x86ad4c(0xad5)]((_0x40a960,_0x299b61)=>_0x86ad4c(0xa34)+(_0x299b61===_0x5ba70f[_0x86ad4c(0x662)]?_0x86ad4c(0x90e):'')+'\x20'+_0x40a960)[_0x86ad4c(0x222)]('\x0a');else _0x5ba70f[_0x86ad4c(0xcac)]&&(_0xff4a9b+=_0x86ad4c(0x629)+_0x5ba70f[_0x86ad4c(0xcac)]);return _0xff4a9b;})[_0x3f32eb(0x222)]('\x0a\x0a');_0x507ea0[_0x3f32eb(0x633)]=_0x3f32eb(0xa8a);const _0x5a636a=_0x3f32eb(0xc14)+_0x20f945[_0x3f32eb(0xda1)]+_0x3f32eb(0x100)+_0x5492e2+_0x3f32eb(0x70b)+simpleMathPrompt+_0x3f32eb(0x49a),_0x138f8d={'type':_0x3f32eb(0x16b),'properties':{'questionText':{'type':_0x3f32eb(0x60a)},'questionType':{'type':_0x3f32eb(0x60a),'enum':['multiple_choice',_0x3f32eb(0x706),_0x3f32eb(0xab0),_0x3f32eb(0x632)]},'options':{'type':_0x3f32eb(0x5b3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3f32eb(0xd7a)},'idealAnswer':{'type':_0x3f32eb(0x60a)},'correctAnswer':{'type':_0x3f32eb(0xb2c)},'stem':{'type':_0x3f32eb(0x60a)},'correctResponse':{'type':_0x3f32eb(0x60a)},'allResponses':{'type':'ARRAY','items':{'type':_0x3f32eb(0x60a)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3f32eb(0x60a)}},'required':[_0x3f32eb(0x3e6),_0x3f32eb(0x749)]},_0x3959f2={'type':_0x3f32eb(0x16b),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3f32eb(0x5b3),'items':_0x138f8d}},'required':[_0x3f32eb(0xda1),_0x3f32eb(0x677)]},_0x334e33=await callAnalysisApi(_0x5a636a,_0x3959f2),_0x444a50=_0x334e33[_0x3f32eb(0x677)]['map']((_0x392248,_0x33f1df)=>({..._0x392248,'id':'q_'+Date[_0x3f32eb(0xd02)]()+'_'+_0x33f1df})),_0xca030a=_0x3f32eb(0xa92)+_0x20f945[_0x3f32eb(0xda1)],_0x3fb651={'topic':_0xca030a,'questions':_0x444a50,'quizType':_0x20f945[_0x3f32eb(0xafc)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3f32eb(0xb50)](),'status':_0x3f32eb(0x4f9),'settings':_0x20f945[_0x3f32eb(0xdbf)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x41668c;while(!![]){_0x41668c=Math[_0x3f32eb(0x87b)](0x3e8+Math[_0x3f32eb(0x63c)]()*0x2328)[_0x3f32eb(0x377)]();const _0x136342=await getDoc(doc(db,_0x3f32eb(0xa76)+appId+_0x3f32eb(0xc34),_0x41668c));if(!_0x136342[_0x3f32eb(0x14d)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3f32eb(0xc34),_0x41668c),_0x3fb651),showMessage(_0x3f32eb(0x5e0));}catch(_0x1c79e8){console[_0x3f32eb(0x17d)](_0x3f32eb(0x1bd),_0x1c79e8),showMessage(_0x3f32eb(0x39b)+_0x1c79e8[_0x3f32eb(0x550)]);}finally{const _0x269871=document[_0x3f32eb(0xb18)](_0x3f32eb(0x380));_0x269871&&_0x269871[_0x3f32eb(0xa1f)](),_0x1ca01f[_0x3f32eb(0x82f)]['remove'](_0x3f32eb(0x5a9));}}async function handleGenerateParallelPostTest(_0x1bf869){const _0x5e0a18=_0x448927,_0x274af1=document['getElementById']('results-tab-content'),_0x2c79ec=document[_0x5e0a18(0xb18)](_0x5e0a18(0x983));_0x2c79ec[_0x5e0a18(0x82f)][_0x5e0a18(0x24b)]('hidden');const _0x3fb146=_0x5e0a18(0x5b8);_0x274af1[_0x5e0a18(0x4c3)]('beforeend',_0x3fb146);try{const _0xffb18f=_0x1bf869['questions'][_0x5e0a18(0xad5)]((_0x39845d,_0x15c0a3)=>{const _0x1fb808=_0x5e0a18;let _0x1b1a1a=_0x15c0a3+0x1+'.\x20'+(_0x39845d[_0x1fb808(0xb3b)]||_0x39845d[_0x1fb808(0xc35)]);if(_0x39845d[_0x1fb808(0x6ca)])_0x1b1a1a+=_0x1fb808(0xb8c)+_0x39845d[_0x1fb808(0x6ca)]['join'](',\x20');return _0x1b1a1a;})[_0x5e0a18(0x222)]('\x0a\x0a'),_0x51f400=_0x5e0a18(0xbec)+_0x1bf869[_0x5e0a18(0xda1)]+_0x5e0a18(0x602)+_0xffb18f+_0x5e0a18(0x5bd)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x99d152={'type':'OBJECT','properties':{'topic':{'type':_0x5e0a18(0x60a)},'questions':{'type':_0x5e0a18(0x5b3),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x5e0a18(0x60a)},'questionType':{'type':_0x5e0a18(0x60a)},'options':{'type':_0x5e0a18(0x5b3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5e0a18(0xd7a)},'idealAnswer':{'type':_0x5e0a18(0x60a)},'explanation':{'type':'STRING'}},'required':[_0x5e0a18(0xb3b),_0x5e0a18(0x749)]}}},'required':['topic',_0x5e0a18(0x677)]},_0xc0af0a=await callAnalysisApi(_0x51f400,_0x99d152),_0x1cbbdf=_0x1bf869[_0x5e0a18(0xda1)][_0x5e0a18(0x572)](_0x5e0a18(0x341),'')[_0x5e0a18(0xb5b)](),_0x2030fa=_0x5e0a18(0x3d1)+_0x1cbbdf,_0x47a694={..._0xc0af0a,'topic':_0x2030fa,'quizType':_0x1bf869[_0x5e0a18(0xafc)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5e0a18(0xb50)](),'status':_0x5e0a18(0x4f9),'settings':_0x1bf869[_0x5e0a18(0xdbf)],'quizMode':_0x5e0a18(0x2d4),'pairedQuizId':_0x1bf869['id']};let _0x345521;while(!![]){_0x345521=Math[_0x5e0a18(0x87b)](0x3e8+Math[_0x5e0a18(0x63c)]()*0x2328)[_0x5e0a18(0x377)]();const _0x13a01c=await getDoc(doc(db,_0x5e0a18(0xa76)+appId+_0x5e0a18(0xc34),_0x345521));if(!_0x13a01c[_0x5e0a18(0x14d)]())break;}await setDoc(doc(db,_0x5e0a18(0xa76)+appId+'/public/data/quizzes',_0x345521),_0x47a694);const _0x94da4a=doc(db,_0x5e0a18(0xa76)+appId+_0x5e0a18(0xc34),_0x1bf869['id']);await updateDoc(_0x94da4a,{'pairedQuizId':_0x345521}),showMessage(_0x5e0a18(0x98b));}catch(_0x166209){console[_0x5e0a18(0x17d)]('Error\x20generating\x20parallel\x20post-test:',_0x166209),showMessage(_0x5e0a18(0x39b)+_0x166209[_0x5e0a18(0x550)]);}finally{const _0x162919=document[_0x5e0a18(0xb18)](_0x5e0a18(0x380));if(_0x162919)_0x162919[_0x5e0a18(0xa1f)]();_0x2c79ec[_0x5e0a18(0x82f)][_0x5e0a18(0xa1f)]('hidden');}}async function handleGenerateParallelTest(_0x489f17=null){const _0x2dc0c4=_0x448927;let _0x2f1437=_0x489f17;if(!_0x2f1437){const _0x5cd925=document[_0x2dc0c4(0xb18)]('parallel-test-upload-input');_0x5cd925[_0x2dc0c4(0x370)][_0x2dc0c4(0xab1)]>0x0&&(_0x2f1437=_0x5cd925[_0x2dc0c4(0x370)][0x0]);}if(!_0x2f1437){showMessage(_0x2dc0c4(0x6a9));return;}const _0x439c8b=document[_0x2dc0c4(0xb18)]('loader'),_0x4a7b6f=document[_0x2dc0c4(0xb18)](_0x2dc0c4(0xa78)),_0x41cb8c=document['getElementById'](_0x2dc0c4(0x1fd)),_0x5ccf32=document['getElementById']('generate-from-parallel-test-btn');_0x5ccf32[_0x2dc0c4(0x64b)]=!![],document[_0x2dc0c4(0xb18)](_0x2dc0c4(0x2a0))[_0x2dc0c4(0x82f)][_0x2dc0c4(0xa1f)](_0x2dc0c4(0x5a9)),_0x41cb8c[_0x2dc0c4(0x5f4)]='',_0x439c8b[_0x2dc0c4(0x82f)]['remove']('hidden'),_0x4a7b6f[_0x2dc0c4(0x633)]=_0x2dc0c4(0x69a);const _0xc938fa=new FileReader();_0xc938fa[_0x2dc0c4(0xcd3)](_0x2f1437),_0xc938fa[_0x2dc0c4(0xab4)]=async()=>{const _0x15b5da=_0x2dc0c4;try{const _0x263bfa=_0xc938fa[_0x15b5da(0x31e)]['split'](',')[0x1],_0x41ebbb=_0x2f1437[_0x15b5da(0x4e4)];_0x4a7b6f[_0x15b5da(0x633)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x11d713=document[_0x15b5da(0xb18)](_0x15b5da(0x3b4))[_0x15b5da(0x2f1)],_0x1f4d8f=_0x11d713?_0x15b5da(0x73e):'',_0x44e809=_0x15b5da(0x400),_0x1d4b7d={'type':_0x15b5da(0x16b),'properties':{'questionText':{'type':_0x15b5da(0x60a)},'questionType':{'type':_0x15b5da(0x60a),'enum':[_0x15b5da(0x232),'short_answer']},'options':{'type':_0x15b5da(0x5b3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x15b5da(0x60a)},'explanation':{'type':_0x15b5da(0x60a)},'imageCode':{'type':_0x15b5da(0x60a)}},'required':[_0x15b5da(0xb3b),_0x15b5da(0x3e6),_0x15b5da(0x749)]},_0x2e136b={'type':'OBJECT','properties':{'topic':{'type':_0x15b5da(0x60a)},'questions':{'type':'ARRAY','items':_0x1d4b7d}},'required':[_0x15b5da(0xda1),_0x15b5da(0x677)]},_0x1b6be3=[{'text':_0x44e809},{'inlineData':{'mimeType':_0x41ebbb,'data':_0x263bfa}}];await handleApiCall(_0x1b6be3,_0x15b5da(0xd2c),_0x2e136b);}catch(_0xb45269){console[_0x15b5da(0x17d)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0xb45269),showMessage(_0x15b5da(0x39b)+_0xb45269[_0x15b5da(0x550)]),_0x41cb8c[_0x15b5da(0x5f4)]=_0x15b5da(0x19e);}finally{_0x439c8b[_0x15b5da(0x82f)][_0x15b5da(0x24b)]('hidden'),_0x5ccf32[_0x15b5da(0x64b)]=![];}},_0xc938fa[_0x2dc0c4(0x26d)]=_0x3c4f54=>{const _0x1d336d=_0x2dc0c4;console[_0x1d336d(0x17d)]('FileReader\x20error:',_0x3c4f54),showMessage(_0x1d336d(0xdc2)),_0x439c8b[_0x1d336d(0x82f)][_0x1d336d(0x24b)](_0x1d336d(0x5a9)),_0x5ccf32[_0x1d336d(0x64b)]=![];};}async function handleRegenerateQuestionInEditor(_0x4fad0e){const _0x51cffa=_0x448927;if(currentEditingQuizData===null)return;const _0x3ea96c=document[_0x51cffa(0x877)](_0x51cffa(0x7c8)+_0x4fad0e+'\x22]');_0x3ea96c&&(_0x3ea96c[_0x51cffa(0x5f4)]=_0x51cffa(0x2df));const _0x1cbd30=currentEditingQuizData[_0x51cffa(0x677)][_0x4fad0e],_0x1a3c0f=currentEditingQuizData[_0x51cffa(0xda1)],_0x210ba8=_0x1cbd30['questionType'],_0x1914e3={'type':_0x51cffa(0x16b),'properties':{'questionText':{'type':_0x51cffa(0x60a)},'options':{'type':_0x51cffa(0x5b3),'items':{'type':_0x51cffa(0x60a)}},'correctAnswerIndex':{'type':_0x51cffa(0xd7a)},'explanation':{'type':_0x51cffa(0x60a)}},'required':[_0x51cffa(0xb3b),'options','correctAnswerIndex',_0x51cffa(0x749)]},_0x3b631e={'type':'OBJECT','properties':{'questionText':{'type':_0x51cffa(0x60a)},'idealAnswer':{'type':_0x51cffa(0x60a)},'explanation':{'type':_0x51cffa(0x60a)}},'required':['questionText',_0x51cffa(0xcac),_0x51cffa(0x749)]};let _0x3aa433,_0x55d9a2='';_0x210ba8===_0x51cffa(0x232)?(_0x3aa433=_0x1914e3,_0x55d9a2='แบบปรนัย\x204\x20ตัวเลือก'):(_0x3aa433=_0x3b631e,_0x55d9a2='แบบเติมคำตอบ');const _0x1ea47e=_0x51cffa(0x245)+_0x1a3c0f+_0x51cffa(0xa00)+_0x55d9a2+_0x51cffa(0x585)+(_0x1cbd30[_0x51cffa(0xb3b)]||_0x1cbd30[_0x51cffa(0xc35)])+_0x51cffa(0x869)+simpleMathPrompt;try{const _0x554fe7=await callAnalysisApi(_0x1ea47e,_0x3aa433);currentEditingQuizData[_0x51cffa(0x677)][_0x4fad0e]={..._0x1cbd30,..._0x554fe7},renderQuizEditor(currentEditingQuizData);}catch(_0xb13fcc){console[_0x51cffa(0x17d)]('Error\x20regenerating\x20question\x20in\x20editor:',_0xb13fcc),showMessage(_0x51cffa(0xb42)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x237b51=_0x448927,_0xc2cf29=document[_0x237b51(0xb18)]('mode-switcher-btn');currentMode===_0x237b51(0x4a1)?(currentMode=_0x237b51(0xa1d),_0xc2cf29[_0x237b51(0x5f4)]=_0x237b51(0x669),_0xc2cf29[_0x237b51(0xb24)]=_0x237b51(0xabf),showView(_0x237b51(0xabc))):(currentMode='student',_0xc2cf29[_0x237b51(0x5f4)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0xc2cf29[_0x237b51(0xb24)]=_0x237b51(0x323),showView(_0x237b51(0x4a1)));}function handleAdminLogin(){const _0x2ac421=_0x448927,_0x50ea55=document[_0x2ac421(0xb18)](_0x2ac421(0x9ad)),_0xa3c8bf=document[_0x2ac421(0xb18)](_0x2ac421(0xb48));if(_0x50ea55[_0x2ac421(0x52d)]===_0x2ac421(0x205)){adminPasswordModal[_0x2ac421(0x82f)]['add'](_0x2ac421(0x5a9)),_0x50ea55[_0x2ac421(0x52d)]='',_0xa3c8bf[_0x2ac421(0x82f)][_0x2ac421(0x24b)]('hidden'),currentMode=_0x2ac421(0xa1d);const _0x8c9923=document[_0x2ac421(0xb18)](_0x2ac421(0x5c0));_0x8c9923[_0x2ac421(0x5f4)]=_0x2ac421(0x669),_0x8c9923[_0x2ac421(0xb24)]=_0x2ac421(0xabf),showView(_0x2ac421(0xabc));}else _0xa3c8bf[_0x2ac421(0x82f)][_0x2ac421(0xa1f)]('hidden'),_0x50ea55[_0x2ac421(0x52d)]='';}function switchProjectTab(_0x423452){const _0x5a26ee=_0x448927;[_0x5a26ee(0xc8e),_0x5a26ee(0xb5f),_0x5a26ee(0x908)][_0x5a26ee(0x157)](_0x1dc26f=>{const _0x4409f1=_0x5a26ee;document['getElementById'](_0x1dc26f+_0x4409f1(0xd06))[_0x4409f1(0x82f)][_0x4409f1(0xa1f)]('active'),document[_0x4409f1(0xb18)](_0x1dc26f+_0x4409f1(0x494))[_0x4409f1(0x82f)][_0x4409f1(0x24b)](_0x4409f1(0x5a9));}),document['getElementById'](_0x423452+_0x5a26ee(0xd06))[_0x5a26ee(0x82f)][_0x5a26ee(0x24b)]('active'),document[_0x5a26ee(0xb18)](_0x423452+'-tab-content')['classList'][_0x5a26ee(0xa1f)](_0x5a26ee(0x5a9));}function switchQuizDetailTab(_0x22a1eb){const _0xde6fe2=_0x448927,_0x109b06={'analytics':{'btn':_0xde6fe2(0xa18),'content':_0xde6fe2(0x905)},'scores':{'btn':_0xde6fe2(0x2bc),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0xde6fe2(0xb55),'content':_0xde6fe2(0x81b)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0xde6fe2(0x368)}};for(const _0x19bb14 in _0x109b06){document[_0xde6fe2(0xb18)](_0x109b06[_0x19bb14][_0xde6fe2(0x1ca)])[_0xde6fe2(0x82f)][_0xde6fe2(0xa1f)](_0xde6fe2(0x4f9)),document['getElementById'](_0x109b06[_0x19bb14]['content'])[_0xde6fe2(0x82f)][_0xde6fe2(0x24b)]('hidden');}document['getElementById'](_0x109b06[_0x22a1eb][_0xde6fe2(0x1ca)])[_0xde6fe2(0x82f)]['add'](_0xde6fe2(0x4f9)),document['getElementById'](_0x109b06[_0x22a1eb][_0xde6fe2(0x2ba)])[_0xde6fe2(0x82f)][_0xde6fe2(0xa1f)](_0xde6fe2(0x5a9));}function showMessage(_0x473306,_0x40fd17=null){const _0x29b5ad=_0x448927;modalMessage['innerHTML']=_0x473306[_0x29b5ad(0x572)](/\n/g,_0x29b5ad(0xa35)),modalConfirmAction=_0x40fd17,messageModal['classList']['remove'](_0x29b5ad(0x5a9));}function showConfirmation(_0x4a7cb9,_0x33a6ff,_0x20b966=null){const _0x332e4f=_0x448927;document[_0x332e4f(0xb18)]('confirmation-message')[_0x332e4f(0x633)]=_0x4a7cb9,document[_0x332e4f(0xb18)](_0x332e4f(0x5ce))[_0x332e4f(0x877)]('h3')[_0x332e4f(0x633)]=_0x332e4f(0x5da),confirmAction=_0x33a6ff,cancelAction=_0x20b966,confirmationModal[_0x332e4f(0x82f)][_0x332e4f(0xa1f)]('hidden');}function listenForProjects(){const _0x2768eb=_0x448927,_0x1d30cc=doc(db,_0x2768eb(0x3f4),'dashboardConfig');onSnapshot(_0x1d30cc,_0x1c6e2a=>{const _0x677326=_0x2768eb;if(_0x1c6e2a[_0x677326(0x14d)]()){const _0x5d248d=_0x1c6e2a[_0x677326(0xa8e)]();globalDashboardSettings[_0x677326(0xc84)]=_0x5d248d[_0x677326(0xc84)]||'date_desc',globalDashboardSettings[_0x677326(0x812)]=_0x5d248d[_0x677326(0x812)]||[],globalDashboardSettings[_0x677326(0xab5)]=_0x5d248d[_0x677326(0xab5)]||[];}allProjects[_0x677326(0xab1)]>0x0&&renderProjects();});const _0x3cef6b=collection(db,_0x2768eb(0xa76)+appId+_0x2768eb(0x945));unsubscribeProjectsListener=onSnapshot(_0x3cef6b,_0x2e5aeb=>{const _0x559516=_0x2768eb;allProjects=_0x2e5aeb[_0x559516(0x18c)][_0x559516(0xad5)](_0x5d8bb3=>({'id':_0x5d8bb3['id'],..._0x5d8bb3['data']()})),renderProjects();},_0x118798=>{const _0x3ff751=_0x2768eb;console['error'](_0x3ff751(0xe14),_0x118798),showMessage(_0x3ff751(0x401));});}function showColorPalette(_0x5246ba,_0x4a7767){const _0x137df6=_0x448927;document[_0x137df6(0xccb)](_0x137df6(0x719))[_0x137df6(0x157)](_0x48fa4f=>_0x48fa4f[_0x137df6(0xa1f)]());const _0x3ea27f=[_0x137df6(0xd92),_0x137df6(0x642),'#FEF3C7','#D1FAE5',_0x137df6(0x856),_0x137df6(0x71c),_0x137df6(0xa2d),_0x137df6(0xbc8),_0x137df6(0x9ff)],_0x3b509d=document[_0x137df6(0x4f0)](_0x137df6(0xbbd));_0x3b509d[_0x137df6(0x257)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x3ea27f['forEach'](_0x44664e=>{const _0xdaf633=_0x137df6,_0x587496=document[_0xdaf633(0x4f0)](_0xdaf633(0xbbd));_0x587496['className']='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x587496[_0xdaf633(0xbaf)][_0xdaf633(0x665)]=_0x44664e,_0x587496[_0xdaf633(0xcc)]('click',()=>{handleProjectColorChange(_0x4a7767,_0x44664e),_0x3b509d['remove']();}),_0x3b509d[_0xdaf633(0x220)](_0x587496);}),document[_0x137df6(0xca1)][_0x137df6(0x220)](_0x3b509d);const _0x1690e4=_0x5246ba[_0x137df6(0x1e4)]();_0x3b509d[_0x137df6(0xbaf)][_0x137df6(0xc69)]=_0x1690e4['bottom']+window[_0x137df6(0x6d2)]+'px',_0x3b509d['style'][_0x137df6(0xbf0)]=_0x1690e4['left']+window[_0x137df6(0x317)]-_0x3b509d[_0x137df6(0x504)]/0x2+'px';}async function handleProjectColorChange(_0x3e1132,_0x10146a){const _0x168e59=_0x448927,_0x34b9b9=doc(db,_0x168e59(0xa76)+appId+'/public/data/projects',_0x3e1132);try{await updateDoc(_0x34b9b9,{'color':_0x10146a});}catch(_0x264e28){console[_0x168e59(0x17d)](_0x168e59(0x820),_0x264e28),showMessage(_0x168e59(0x422));}}async function renderProjects(){const _0x182113=_0x448927,_0x1d19d5=globalDashboardSettings[_0x182113(0xc84)]||_0x182113(0xacd),_0x5743db=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x12b035=globalDashboardSettings[_0x182113(0x2f9)]||'grid',_0x329672=document[_0x182113(0xb18)](_0x182113(0x59a)),_0xe182cb=document[_0x182113(0xb18)]('list-view-btn');_0x329672[_0x182113(0x82f)][_0x182113(0xd6b)](_0x182113(0x4f9),_0x12b035===_0x182113(0x700)),_0xe182cb[_0x182113(0x82f)][_0x182113(0xd6b)](_0x182113(0x4f9),_0x12b035===_0x182113(0x540)),document[_0x182113(0xb18)](_0x182113(0xc88))[_0x182113(0x52d)]=_0x1d19d5;const _0x218a54=document[_0x182113(0xb18)](_0x182113(0x46f))[_0x182113(0x52d)][_0x182113(0x123)]();let _0x5cbdbd=allProjects[_0x182113(0x955)](_0x2af3c6=>_0x2af3c6[_0x182113(0xa8f)]['toLowerCase']()[_0x182113(0x2e7)](_0x218a54));const _0x39dcbe=_0x5cbdbd[_0x182113(0x955)](_0xfcd465=>_0x5743db[_0x182113(0x9ae)](_0xfcd465['id'])),_0x18e855=_0x5cbdbd['filter'](_0x5de7a8=>!_0x5743db['has'](_0x5de7a8['id'])),_0x15d7dd=(_0x543539,_0x42c248)=>{const _0x5f31db=_0x182113;switch(_0x1d19d5){case _0x5f31db(0x853):return _0x543539[_0x5f31db(0xa8f)][_0x5f31db(0x649)](_0x42c248[_0x5f31db(0xa8f)],'th');case _0x5f31db(0x4f1):return _0x42c248[_0x5f31db(0xa8f)][_0x5f31db(0x649)](_0x543539[_0x5f31db(0xa8f)],'th');case _0x5f31db(0x7db):return new Date(_0x543539[_0x5f31db(0x95c)])-new Date(_0x42c248[_0x5f31db(0x95c)]);default:return new Date(_0x42c248[_0x5f31db(0x95c)])-new Date(_0x543539[_0x5f31db(0x95c)]);}};_0x39dcbe['sort'](_0x15d7dd),_0x18e855[_0x182113(0x872)](_0x15d7dd);const _0xf1c002=[..._0x39dcbe,..._0x18e855],_0x8d7d2d=globalDashboardSettings[_0x182113(0xab5)]||[];_0x8d7d2d['length']>0x0&&_0x12b035===_0x182113(0x700)&&_0xf1c002['sort']((_0x43a2a7,_0x5a8bb6)=>{const _0x5385f6=_0x182113,_0x16cf7c=_0x8d7d2d[_0x5385f6(0x5c9)](_0x43a2a7['id']),_0x3284d8=_0x8d7d2d['indexOf'](_0x5a8bb6['id']);if(_0x16cf7c===-0x1)return 0x1;if(_0x3284d8===-0x1)return-0x1;return _0x16cf7c-_0x3284d8;});const _0x562453={};await Promise[_0x182113(0xd05)](_0xf1c002[_0x182113(0xad5)](async _0x162986=>{const _0x7e2b80=_0x182113,_0x3c110e=query(collection(db,_0x7e2b80(0xa76)+appId+_0x7e2b80(0xc34)),where(_0x7e2b80(0x111),'==',_0x162986['id'])),_0x1ad029=await getCountFromServer(_0x3c110e);_0x562453[_0x162986['id']]=_0x1ad029[_0x7e2b80(0xa8e)]()['count'];}));const _0x3dca94=document[_0x182113(0xb18)](_0x182113(0xe2));let _0x2a9410='';if(_0x12b035===_0x182113(0x700)){_0x3dca94['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x218a54===''){const _0x589b31=starredQuizzes[_0x182113(0xad5)](_0xaaa0a2=>{const _0x9a4c89=_0x182113,_0x494c86=allProjects[_0x9a4c89(0x8c0)](_0x4fdee6=>_0x4fdee6['id']===_0xaaa0a2[_0x9a4c89(0x111)]);return{..._0xaaa0a2,'projectName':_0x494c86?_0x494c86['projectName']:_0x9a4c89(0x794)};});_0x2a9410+=_0x182113(0x106)+_0x589b31[_0x182113(0xad5)](_0x5d24a5=>_0x182113(0xa9e)+_0x5d24a5[_0x182113(0xda1)]+'\x22>'+_0x5d24a5[_0x182113(0xda1)]+_0x182113(0x231)+_0x5d24a5['projectName']+'\x22>จาก:\x20'+_0x5d24a5['projectName']+_0x182113(0xd72))[_0x182113(0x222)]('')+_0x182113(0x546)+starredQuizzes['length']+'\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0xf1c002[_0x182113(0x157)](_0x454830=>{const _0x6db7c=_0x182113,_0x3a6b46=_0x562453[_0x454830['id']]??0x0,_0xa93175=_0x5743db['has'](_0x454830['id']),_0x5a3899=_0x454830[_0x6db7c(0x707)]||_0x6db7c(0xd92),_0x50dbb6=parseInt(_0x5a3899[_0x6db7c(0x162)](0x1,0x3),0x10)*0.299+parseInt(_0x5a3899[_0x6db7c(0x162)](0x3,0x5),0x10)*0.587+parseInt(_0x5a3899[_0x6db7c(0x162)](0x5,0x7),0x10)*0.114<0xba,_0x3cba55=_0x50dbb6?_0x6db7c(0x9a6):_0x6db7c(0x467),_0x5b31e9=_0x50dbb6?_0x6db7c(0x213):_0x6db7c(0xc6);_0x2a9410+=_0x6db7c(0x6c8)+(_0xa93175?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x6db7c(0xd8d)+_0x5a3899+_0x6db7c(0xb35)+_0x454830['id']+_0x6db7c(0x73c)+_0x454830['id']+_0x6db7c(0x915)+(_0x50dbb6?'text-gray-300\x20hover:text-white':_0x6db7c(0x42d))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x454830['id']+_0x6db7c(0x86a)+(_0x50dbb6?_0x6db7c(0x6ce):_0x6db7c(0x42d))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0xa93175?_0x50dbb6?_0x6db7c(0x94f):'text-indigo-600':'')+_0x6db7c(0x36b)+_0x454830['id']+_0x6db7c(0x5a7)+_0x3cba55+_0x6db7c(0x583)+_0x454830['projectName']+_0x6db7c(0x555)+_0x5b31e9+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x454830[_0x6db7c(0x95c)])[_0x6db7c(0xfb)](_0x6db7c(0x8be))+_0x6db7c(0x830)+(_0x50dbb6?_0x6db7c(0x8d7):_0x6db7c(0x464))+_0x6db7c(0x672)+_0x3a6b46+_0x6db7c(0x7f0)+_0x454830['id']+_0x6db7c(0x641)+_0x454830[_0x6db7c(0xa8f)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x50dbb6?_0x6db7c(0x265):'text-red-500\x20hover:text-red-700')+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x3dca94[_0x182113(0x257)]=_0x182113(0x6ad),starredQuizzes[_0x182113(0xab1)]>0x0&&_0x218a54===''&&(_0x2a9410+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes['length']+_0x182113(0xf5)),_0x2a9410+=_0x182113(0xb37),_0xf1c002[_0x182113(0x157)](_0x4711e2=>{const _0x2e6ac3=_0x182113,_0x5dc2cb=_0x562453[_0x4711e2['id']]??0x0,_0x205f1a=_0x5743db[_0x2e6ac3(0x9ae)](_0x4711e2['id']);_0x2a9410+=_0x2e6ac3(0xd58)+(_0x4711e2[_0x2e6ac3(0x707)]||'#E5E7EB')+_0x2e6ac3(0x3c6)+_0x4711e2['id']+_0x2e6ac3(0x8b3)+_0x4711e2[_0x2e6ac3(0xa8f)]+_0x2e6ac3(0x845)+_0x5dc2cb+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4711e2[_0x2e6ac3(0x95c)])[_0x2e6ac3(0x2d9)](_0x2e6ac3(0x8be))+_0x2e6ac3(0x42e)+_0x4711e2['id']+_0x2e6ac3(0xd1e)+(_0x205f1a?_0x2e6ac3(0xdcc):'')+_0x2e6ac3(0xd95)+_0x4711e2['id']+_0x2e6ac3(0x641)+_0x4711e2['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});_0x3dca94[_0x182113(0x5f4)]=_0x2a9410,noProjectsMsg[_0x182113(0x82f)][_0x182113(0xd6b)](_0x182113(0x5a9),_0x2a9410[_0x182113(0xab1)]>0x0);}document[_0x448927(0xb18)](_0x448927(0x7b1))[_0x448927(0xcc)](_0x448927(0x8b2),async()=>{const _0x3e9a65=_0x448927,_0x4cb5b7=document[_0x3e9a65(0xb18)](_0x3e9a65(0xba3)),_0x40bb2b=_0x4cb5b7[_0x3e9a65(0x52d)][_0x3e9a65(0xb5b)]();if(!_0x40bb2b){showMessage(_0x3e9a65(0xc8d));return;}try{const _0x37f9ca=doc(collection(db,_0x3e9a65(0xa76)+appId+'/public/data/projects'));await setDoc(_0x37f9ca,{'projectName':_0x40bb2b,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3e9a65(0x43f),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3e9a65(0xb50)]()}),_0x4cb5b7['value']='',createProjectModal[_0x3e9a65(0x82f)]['add'](_0x3e9a65(0x5a9)),showMessage(_0x3e9a65(0x70f));}catch(_0x580ad4){console[_0x3e9a65(0x17d)](_0x3e9a65(0x547),_0x580ad4),showMessage(_0x3e9a65(0x166));}}),projectList[_0x448927(0xcc)](_0x448927(0x8b2),async _0x3017bf=>{const _0x22a112=_0x448927,_0x1d6e43=_0x3017bf[_0x22a112(0x364)]['closest'](_0x22a112(0x735)),_0x37ac5e=_0x3017bf[_0x22a112(0x364)][_0x22a112(0xb09)](_0x22a112(0x56c)),_0x30253f=_0x3017bf[_0x22a112(0x364)][_0x22a112(0xb09)]('.pin-project-btn'),_0x4c78a7=_0x3017bf['target'][_0x22a112(0xb09)](_0x22a112(0x928));if(_0x30253f){const _0xd4acb3=_0x30253f[_0x22a112(0xcd1)]['id'],_0x5d235b=doc(db,_0x22a112(0x3f4),_0x22a112(0x880)),_0x574ca0=globalDashboardSettings[_0x22a112(0x812)];let _0xb2b387;_0x574ca0[_0x22a112(0x2e7)](_0xd4acb3)?_0xb2b387=_0x574ca0[_0x22a112(0x955)](_0x306174=>_0x306174!==_0xd4acb3):_0xb2b387=[..._0x574ca0,_0xd4acb3];try{await setDoc(_0x5d235b,{'pinnedProjects':_0xb2b387},{'merge':!![]});}catch(_0x1913ca){console[_0x22a112(0x17d)](_0x22a112(0xddb),_0x1913ca),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x4c78a7){const _0x227f04=_0x4c78a7[_0x22a112(0xcd1)]['id'];showColorPalette(_0x4c78a7,_0x227f04);}else{if(_0x1d6e43){const _0x4318c3=_0x1d6e43[_0x22a112(0xcd1)]['id'];_0x4318c3===_0x22a112(0x603)?showStarredProjectView():(currentProjectId=_0x4318c3,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x37ac5e){const _0x5d28ee=_0x37ac5e[_0x22a112(0xcd1)]['id'],_0x1d883d=_0x37ac5e[_0x22a112(0xcd1)][_0x22a112(0x2d2)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x1d883d+_0x22a112(0xc95),()=>handleDeleteProject(_0x5d28ee));}}}}}),projectList[_0x448927(0xcc)](_0x448927(0x89f),_0x214420=>{const _0x4c8350=_0x448927,_0x5b444f=_0x214420[_0x4c8350(0x364)][_0x4c8350(0xb09)](_0x4c8350(0x5d2));_0x5b444f&&_0x5b444f[_0x4c8350(0x82f)][_0x4c8350(0x24b)](_0x4c8350(0x524));}),projectList[_0x448927(0xcc)]('dragend',_0x2928d6=>{const _0x24a0d3=_0x448927,_0x133bb8=_0x2928d6[_0x24a0d3(0x364)][_0x24a0d3(0xb09)](_0x24a0d3(0x5d2));_0x133bb8&&_0x133bb8[_0x24a0d3(0x82f)][_0x24a0d3(0xa1f)](_0x24a0d3(0x524));}),projectList[_0x448927(0xcc)]('dragover',_0x36cc30=>{const _0x24740c=_0x448927;_0x36cc30[_0x24740c(0x105)]();const _0x3367c4=document[_0x24740c(0x877)](_0x24740c(0xa21));if(!_0x3367c4)return;const _0x3e3d75=getDragAfterElement(projectList,_0x36cc30[_0x24740c(0x5cc)]);_0x3e3d75==null?projectList[_0x24740c(0x220)](_0x3367c4):projectList[_0x24740c(0x5f2)](_0x3367c4,_0x3e3d75);}),projectList['addEventListener'](_0x448927(0xb83),_0x4d5276=>{const _0x193074=_0x448927;_0x4d5276[_0x193074(0x105)]();const _0x473c97=[...projectList[_0x193074(0xccb)]('.project-card-container[data-id]')][_0x193074(0xad5)](_0x4ee902=>_0x4ee902[_0x193074(0xcd1)]['id']);saveProjectOrder(_0x473c97);});function renderBehaviorLog(_0x535bb0){const _0x3edd04=_0x448927,_0x14d7f2=document[_0x3edd04(0xb18)](_0x3edd04(0x420));if(!_0x14d7f2)return;const _0x2fa10c=_0x535bb0[_0x3edd04(0x955)](_0xf8d50c=>_0xf8d50c[_0x3edd04(0x533)]&&_0xf8d50c[_0x3edd04(0x533)][_0x3edd04(0xab1)]>0x0);if(_0x2fa10c[_0x3edd04(0xab1)]===0x0){_0x14d7f2[_0x3edd04(0x5f4)]=_0x3edd04(0x525);return;}let _0xb761c2='';_0x2fa10c[_0x3edd04(0x157)](_0x26fb75=>{const _0x2c162b=_0x3edd04;_0xb761c2+=_0x2c162b(0x686)+_0x26fb75['studentName']+_0x2c162b(0x194),_0x26fb75['behaviorLog']['sort']((_0x28b07c,_0x3eaa24)=>new Date(_0x3eaa24[_0x2c162b(0xa4f)])-new Date(_0x28b07c['timestamp']))[_0x2c162b(0x157)](_0x57999b=>{const _0x561460=_0x2c162b,_0xfc9614=new Date(_0x57999b[_0x561460(0xa4f)])[_0x561460(0x2d9)]('th-TH',{'dateStyle':_0x561460(0x644),'timeStyle':_0x561460(0xd6c)});_0xb761c2+=_0x561460(0x703)+_0x57999b[_0x561460(0x440)]+_0x561460(0xcd8)+_0xfc9614+_0x561460(0xb03);}),_0xb761c2+=_0x2c162b(0x1c0);}),_0x14d7f2[_0x3edd04(0x5f4)]=_0xb761c2;}function getDragAfterElement(_0x1d8993,_0x4265a1){const _0x19a420=_0x448927,_0x4ed90e=[..._0x1d8993['querySelectorAll'](_0x19a420(0xccc))];return _0x4ed90e[_0x19a420(0xe33)]((_0x27b42a,_0x4d5e69)=>{const _0x4cedcf=_0x19a420,_0x3a39ca=_0x4d5e69[_0x4cedcf(0x1e4)](),_0x42fdbc=_0x4265a1-_0x3a39ca['top']-_0x3a39ca['height']/0x2;return _0x42fdbc<0x0&&_0x42fdbc>_0x27b42a[_0x4cedcf(0xc9e)]?{'offset':_0x42fdbc,'element':_0x4d5e69}:_0x27b42a;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x2aaad6){const _0x4afa27=_0x448927,_0x59832b=doc(db,'globalSettings',_0x4afa27(0x880));try{await setDoc(_0x59832b,{'projectOrder':_0x2aaad6},{'merge':!![]});}catch(_0x5f44fb){console[_0x4afa27(0x17d)](_0x4afa27(0x9f8),_0x5f44fb),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x5fb5fe,_0x5900c5={}){const _0x2ee5c8=_0x448927;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2ee5c8(0x85b)](_0x2ee5c8(0xa0a));return;}const _0x54cef4=doc(db,_0x2ee5c8(0xa76)+appId+_0x2ee5c8(0xb87)+currentQuizData['id']+_0x2ee5c8(0xd90),currentStudentName),_0x4b3cc4={'event':_0x5fb5fe,'timestamp':new Date()[_0x2ee5c8(0xb50)](),..._0x5900c5};try{await updateDoc(_0x54cef4,{'behaviorLog':arrayUnion(_0x4b3cc4)}),console[_0x2ee5c8(0xcad)](_0x2ee5c8(0x6b9)+currentStudentName+'\x20สำเร็จ');}catch(_0x1b763f){_0x1b763f['code']===_0x2ee5c8(0xba)?console[_0x2ee5c8(0x85b)](_0x2ee5c8(0x239)+currentStudentName+_0x2ee5c8(0x80e)):console['error'](_0x2ee5c8(0x8c4),_0x1b763f);}}function getScoreTier(_0x5803c4,_0x596860){const _0xe910b5=_0x448927;if(_0x596860===0x0){if(_0x5803c4===0x0)return{'text':_0xe910b5(0xb89),'icon':'⏳'};return{'text':_0xe910b5(0x5d7),'icon':'😥'};}const _0x2d91f1=_0x5803c4/(_0x596860===0x0?0x1:_0x596860);if(_0x2d91f1===0x1)return{'text':_0xe910b5(0x650),'icon':'👑'};if(_0x2d91f1>=0.7)return{'text':_0xe910b5(0x7f7),'icon':'🔥'};if(_0x2d91f1>=0.4)return{'text':_0xe910b5(0x9bb),'icon':'🏃'};return{'text':'(พยายามอยู่)','icon':'😥'};}function calculateMeanAndStdDev(_0xe85987){const _0x2b0eee=_0x448927;if(_0xe85987[_0x2b0eee(0xab1)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x176b48=_0xe85987['reduce']((_0x3220f6,_0x48719a)=>_0x3220f6+_0x48719a,0x0)/_0xe85987[_0x2b0eee(0xab1)];if(_0xe85987[_0x2b0eee(0xab1)]===0x1)return{'mean':_0x176b48,'stdDev':0x0};const _0x22d5a3=Math[_0x2b0eee(0xb08)](_0xe85987[_0x2b0eee(0xad5)](_0x3376d7=>Math[_0x2b0eee(0x2c3)](_0x3376d7-_0x176b48,0x2))[_0x2b0eee(0xe33)]((_0x433d6c,_0xa711fb)=>_0x433d6c+_0xa711fb,0x0)/(_0xe85987['length']-0x1));return{'mean':_0x176b48,'stdDev':_0x22d5a3};}function calculateZScore(_0x3b4eff,_0x27e17c,_0xb31166){if(_0xb31166===0x0)return 0x0;return(_0x3b4eff-_0x27e17c)/_0xb31166;}function calculateTScore(_0x5d27ae){return 0xa*_0x5d27ae+0x32;}function showStarredProjectView(){const _0x4b8bea=_0x448927;currentProjectId=_0x4b8bea(0x9d4),currentProjectData=null,projectTitle['textContent']=_0x4b8bea(0x51f),projectIdDisplay['textContent']=_0x4b8bea(0x2da),showView(_0x4b8bea(0xcef)),manageTab[_0x4b8bea(0x82f)][_0x4b8bea(0x24b)](_0x4b8bea(0x5a9)),leaderboardTab['classList'][_0x4b8bea(0x24b)]('hidden'),switchProjectTab(_0x4b8bea(0xb5f)),renderQuizzes();}async function loadProjectDetails(_0x18806a){const _0x29d963=_0x448927,_0x2c63c5=doc(db,'artifacts/'+appId+_0x29d963(0x945),_0x18806a),_0x278a06=await getDoc(_0x2c63c5);if(_0x278a06['exists']()){manageTab[_0x29d963(0x82f)][_0x29d963(0xa1f)](_0x29d963(0x5a9)),leaderboardTab['classList'][_0x29d963(0xa1f)]('hidden'),currentProjectData=_0x278a06[_0x29d963(0xa8e)](),projectTitle[_0x29d963(0x633)]=currentProjectData[_0x29d963(0xa8f)],projectIdDisplay['textContent']=_0x18806a;const _0x1f5724=currentProjectData['settings']||{};document[_0x29d963(0xb18)](_0x29d963(0xa58))[_0x29d963(0x52d)]=_0x1f5724['shuffleSetting']||_0x29d963(0x43f);const _0x3ab0fc=document[_0x29d963(0xb18)](_0x29d963(0xe38));_0x3ab0fc[_0x29d963(0x2f1)]=_0x1f5724[_0x29d963(0x302)]!==![];const _0x52f084=document[_0x29d963(0xb18)]('enable-passcode-checkbox'),_0x54994a=document[_0x29d963(0xb18)](_0x29d963(0x206)),_0x457570=document['getElementById'](_0x29d963(0x80f)),_0x5f0844=_0x1f5724[_0x29d963(0x32b)]||![];_0x52f084[_0x29d963(0x2f1)]=_0x5f0844,_0x457570['value']=_0x1f5724[_0x29d963(0xbef)]||'',_0x54994a[_0x29d963(0x82f)]['toggle'](_0x29d963(0x5a9),!_0x5f0844),_0x52f084['onchange']=()=>{const _0x597c11=_0x29d963;_0x54994a[_0x597c11(0x82f)]['toggle'](_0x597c11(0x5a9),!_0x52f084[_0x597c11(0x2f1)]);},document[_0x29d963(0xb18)](_0x29d963(0x3cd))[_0x29d963(0x2f1)]=_0x1f5724[_0x29d963(0x5ed)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x18806a),listenForProjectQuizzes(_0x18806a),listenForStudentProfiles(_0x18806a);}else showMessage(_0x29d963(0xd73)),showView(_0x29d963(0xabc));}async function handleResetProjectOrder(){const _0x57206a=_0x448927,_0x308a0f=doc(db,_0x57206a(0x3f4),_0x57206a(0x880));try{await setDoc(_0x308a0f,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x57206a(0x7a1));}catch(_0x1a02fb){console[_0x57206a(0x17d)]('Error\x20resetting\x20project\x20order:',_0x1a02fb),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x4368e1){const _0x37f693=_0x448927;if(!_0x4368e1)return;const _0xc22f1d=doc(db,_0x37f693(0xa76)+appId+'/public/data/projects',_0x4368e1);try{const _0x290ffd=await getDoc(_0xc22f1d);if(_0x290ffd[_0x37f693(0x14d)]()){const _0x112828=_0x290ffd[_0x37f693(0xa8e)]()[_0x37f693(0x200)]||![];await updateDoc(_0xc22f1d,{'isPinned':!_0x112828});}}catch(_0x720aff){console[_0x37f693(0x17d)](_0x37f693(0x54b),_0x720aff),showMessage(_0x37f693(0xa8c));}}async function handleDeleteProject(_0xcb92f8){const _0x367ded=_0x448927;try{const _0x5ae12e=writeBatch(db),_0x1a2848=collection(db,_0x367ded(0xa76)+appId+'/public/data/quizzes'),_0x1e9d63=query(_0x1a2848,where(_0x367ded(0x111),'==',_0xcb92f8)),_0x36b51b=await getDocs(_0x1e9d63);for(const _0x3280cd of _0x36b51b[_0x367ded(0x18c)]){const _0x5611e4=collection(db,_0x367ded(0xa76)+appId+_0x367ded(0xb87)+_0x3280cd['id']+_0x367ded(0xd90)),_0x337243=await getDocs(_0x5611e4);_0x337243[_0x367ded(0x157)](_0x26968=>{const _0x137ea8=_0x367ded;_0x5ae12e[_0x137ea8(0x2ec)](_0x26968[_0x137ea8(0xdb2)]);}),_0x5ae12e[_0x367ded(0x2ec)](_0x3280cd[_0x367ded(0xdb2)]);}const _0x1780b8=collection(db,_0x367ded(0xa76)+appId+_0x367ded(0x48d)+_0xcb92f8+_0x367ded(0x15e)),_0x38c1c5=await getDocs(_0x1780b8);_0x38c1c5[_0x367ded(0x157)](_0x5cd2b7=>{const _0x490fe9=_0x367ded;_0x5ae12e[_0x490fe9(0x2ec)](_0x5cd2b7[_0x490fe9(0xdb2)]);});const _0x38bfa3=doc(db,_0x367ded(0xa76)+appId+_0x367ded(0x945),_0xcb92f8);_0x5ae12e[_0x367ded(0x2ec)](_0x38bfa3),await _0x5ae12e[_0x367ded(0x979)](),showMessage(_0x367ded(0x3a5)),showView(_0x367ded(0xabc));}catch(_0x323c1b){console[_0x367ded(0x17d)](_0x367ded(0xe4b),_0x323c1b),showMessage(_0x367ded(0x7f1));}}document[_0x448927(0xb18)]('save-settings-btn')[_0x448927(0xcc)]('click',async()=>{const _0x3a57c5=_0x448927;if(!currentProjectId)return;const _0x3586a9={'defaultNumQuestions':parseInt(document[_0x3a57c5(0xb18)](_0x3a57c5(0x98e))[_0x3a57c5(0x52d)]),'defaultNumChoices':parseInt(document[_0x3a57c5(0xb18)]('num-choices')[_0x3a57c5(0x52d)]),'defaultPassingScore':parseInt(document[_0x3a57c5(0xb18)](_0x3a57c5(0x3d8))[_0x3a57c5(0x52d)]),'resultsDisplay':document[_0x3a57c5(0xb18)](_0x3a57c5(0x25e))[_0x3a57c5(0x52d)],'shuffleSetting':document[_0x3a57c5(0xb18)](_0x3a57c5(0xa58))[_0x3a57c5(0x52d)],'timerMode':document['getElementById'](_0x3a57c5(0x338))[_0x3a57c5(0x52d)],'timerDuration':parseInt(document[_0x3a57c5(0xb18)](_0x3a57c5(0xdb7))[_0x3a57c5(0x52d)]),'isConfidenceScoringEnabled':document[_0x3a57c5(0xb18)](_0x3a57c5(0x3cd))[_0x3a57c5(0x2f1)],'confidenceMode':document[_0x3a57c5(0xb18)]('confidence-mode-select')['value']};try{const _0x421214=doc(db,'artifacts/'+appId+_0x3a57c5(0x945),currentProjectId);await updateDoc(_0x421214,{'settings':_0x3586a9}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x1895a5){console[_0x3a57c5(0x17d)](_0x3a57c5(0xaa5),_0x1895a5),showMessage(_0x3a57c5(0x9af));}});function listenForStudents(_0x33bd77){const _0x120046=_0x448927,_0x1cc1d7=doc(db,_0x120046(0xa76)+appId+'/public/data/projects',_0x33bd77);unsubscribeStudentsListener=onSnapshot(_0x1cc1d7,_0x1de414=>{const _0x45380e=_0x120046;if(_0x1de414[_0x45380e(0x14d)]()){const _0x1fb35d=_0x1de414[_0x45380e(0xa8e)]();currentProjectData=_0x1fb35d,renderStudentList(_0x1fb35d[_0x45380e(0x115)]||[]);}});}function renderStudentList(_0x7d3d6a){const _0x5b7906=_0x448927,_0x87b265=document['getElementById'](_0x5b7906(0xb64));_0x7d3d6a[_0x5b7906(0xab1)]===0x0?(studentList[_0x5b7906(0x5f4)]=_0x5b7906(0x867),_0x87b265['classList'][_0x5b7906(0x24b)]('hidden')):(studentList[_0x5b7906(0x5f4)]=_0x7d3d6a[_0x5b7906(0xad5)](_0x36a073=>_0x5b7906(0x615)+_0x36a073+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x36a073+_0x5b7906(0xb5))[_0x5b7906(0x222)](''),_0x87b265['classList'][_0x5b7906(0xa1f)](_0x5b7906(0x5a9)));}document[_0x448927(0xb18)]('add-student-btn')[_0x448927(0xcc)]('click',async()=>{const _0x401de5=_0x448927;if(!currentProjectId)return;const _0x5868e4=document[_0x401de5(0xb18)](_0x401de5(0x36f)),_0x7243a8=_0x5868e4[_0x401de5(0x52d)][_0x401de5(0xb5b)]();if(!_0x7243a8){showMessage(_0x401de5(0x75c));return;}const _0x5555b0=_0x7243a8['split']('\x0a')[_0x401de5(0xad5)](_0x12fcff=>_0x12fcff[_0x401de5(0xb5b)]())['filter'](_0x3d8e7b=>_0x3d8e7b);if(_0x5555b0[_0x401de5(0xab1)]===0x0)return;try{const _0x2b4f3d=doc(db,_0x401de5(0xa76)+appId+_0x401de5(0x945),currentProjectId),_0x5ce10c=await getDoc(_0x2b4f3d);if(_0x5ce10c[_0x401de5(0x14d)]()){const _0x4c948b=_0x5ce10c[_0x401de5(0xa8e)]()[_0x401de5(0x115)]||[],_0x587bf3=[...new Set([..._0x4c948b,..._0x5555b0])];await updateDoc(_0x2b4f3d,{'students':_0x587bf3}),_0x5868e4[_0x401de5(0x52d)]='';}}catch(_0x4a0907){console[_0x401de5(0x17d)](_0x401de5(0x61b),_0x4a0907),showMessage(_0x401de5(0x5c8));}});async function handleManualQuizPairing(_0x3a4e92){const _0x4c6443=_0x448927,_0x366ab7=document['getElementById'](_0x4c6443(0x948)),_0x4e3f1d=document[_0x4c6443(0xb18)](_0x4c6443(0xe2c)),_0x275d4e=_0x366ab7[_0x4c6443(0x877)]('h3'),_0x58edcf=document[_0x4c6443(0xb18)](_0x4c6443(0xc80)),_0x413ba0=document[_0x4c6443(0xb18)]('cancel-move-quiz-btn');_0x275d4e['textContent']=_0x4c6443(0x7a6),_0x4e3f1d[_0x4c6443(0x5f4)]=_0x4c6443(0xa20),_0x58edcf[_0x4c6443(0x633)]=_0x4c6443(0x8ef),_0x366ab7[_0x4c6443(0x82f)][_0x4c6443(0xa1f)](_0x4c6443(0x5a9));const _0x5f58f7=allQuizzes['filter'](_0x472744=>_0x472744['id']!==_0x3a4e92);_0x5f58f7[_0x4c6443(0xab1)]===0x0?(_0x4e3f1d['innerHTML']=_0x4c6443(0xcfa),_0x58edcf['disabled']=!![]):(_0x4e3f1d[_0x4c6443(0x5f4)]=_0x4c6443(0x72d)+_0x5f58f7['map'](_0x1262ee=>'<option\x20value=\x22'+_0x1262ee['id']+'\x22>'+_0x1262ee[_0x4c6443(0xda1)]+_0x4c6443(0x38c))[_0x4c6443(0x222)](''),_0x58edcf[_0x4c6443(0x64b)]=![]);const _0x316af9=async()=>{const _0x558932=_0x4c6443,_0x4229d8=_0x4e3f1d['value'];if(!_0x4229d8){showMessage(_0x558932(0x671));return;}_0x58edcf[_0x558932(0x64b)]=!![],_0x58edcf[_0x558932(0x633)]='กำลังจับคู่...';try{const _0x40b849=doc(db,_0x558932(0xa76)+appId+_0x558932(0xc34),_0x3a4e92),_0x2fd573=doc(db,'artifacts/'+appId+_0x558932(0xc34),_0x4229d8),_0x1c39f3=writeBatch(db);_0x1c39f3['update'](_0x40b849,{'pairedQuizId':_0x4229d8}),_0x1c39f3[_0x558932(0x8a4)](_0x2fd573,{'pairedQuizId':_0x3a4e92}),await _0x1c39f3[_0x558932(0x979)](),showMessage(_0x558932(0xc17)),_0x366ab7[_0x558932(0x82f)][_0x558932(0x24b)]('hidden');}catch(_0x2ddfc4){console[_0x558932(0x17d)](_0x558932(0x188),_0x2ddfc4),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x275d4e[_0x558932(0x633)]=_0x558932(0x373),_0x58edcf[_0x558932(0x633)]=_0x558932(0x7ce),_0x58edcf['disabled']=![],_0x58edcf[_0x558932(0xcec)](_0x558932(0x8b2),_0x316af9),_0x413ba0['removeEventListener'](_0x558932(0x8b2),_0x1486cd);}},_0x1486cd=()=>{const _0x530789=_0x4c6443;_0x366ab7[_0x530789(0x82f)][_0x530789(0x24b)](_0x530789(0x5a9)),_0x275d4e[_0x530789(0x633)]=_0x530789(0x373),_0x58edcf[_0x530789(0x633)]=_0x530789(0x7ce),_0x58edcf[_0x530789(0xcec)]('click',_0x316af9),_0x413ba0[_0x530789(0xcec)](_0x530789(0x8b2),_0x1486cd);};_0x58edcf[_0x4c6443(0xcc)](_0x4c6443(0x8b2),_0x316af9),_0x413ba0[_0x4c6443(0xcc)]('click',_0x1486cd);}function handleDeleteStudent(_0x564ec7){const _0x22e630=_0x448927;showConfirmation(_0x22e630(0xa0c)+_0x564ec7+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x160fc8=_0x22e630;if(!currentProjectId||!currentProjectData)return;const _0x3a838a=currentProjectData[_0x160fc8(0x115)][_0x160fc8(0x955)](_0x2684cf=>_0x2684cf!==_0x564ec7);try{const _0x21ef47=doc(db,_0x160fc8(0xa76)+appId+'/public/data/projects',currentProjectId),_0x11ea0d=doc(db,_0x160fc8(0xa76)+appId+_0x160fc8(0x48d)+currentProjectId+'/studentProfiles',_0x564ec7),_0x596096=writeBatch(db);_0x596096[_0x160fc8(0x8a4)](_0x21ef47,{'students':_0x3a838a}),_0x596096['delete'](_0x11ea0d),await _0x596096[_0x160fc8(0x979)]();}catch(_0x37cedf){console['error'](_0x160fc8(0x187),_0x37cedf),showMessage(_0x160fc8(0xc20));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x38a07a=_0x2e12;if(!currentProjectId)return;try{const _0x7fb6d3=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x2d1fe1=collection(db,_0x38a07a(0xa76)+appId+_0x38a07a(0x48d)+currentProjectId+'/studentProfiles'),_0x2f6366=await getDocs(_0x2d1fe1),_0x20fba4=writeBatch(db);_0x20fba4['update'](_0x7fb6d3,{'students':[]}),_0x2f6366[_0x38a07a(0x157)](_0x57ad24=>_0x20fba4['delete'](_0x57ad24[_0x38a07a(0xdb2)])),await _0x20fba4['commit']();}catch(_0x3adb29){console['error'](_0x38a07a(0xa90),_0x3adb29),showMessage(_0x38a07a(0x6c2));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x24b32b){const _0x2b4598=_0x448927,_0x578d01=document[_0x2b4598(0xb18)](_0x2b4598(0x388)),_0x1c73d0=document['getElementById'](_0x2b4598(0xb4e));_0x578d01[_0x2b4598(0x82f)][_0x2b4598(0xa1f)](_0x2b4598(0x5a9)),_0x1c73d0[_0x2b4598(0x5f4)]=_0x2b4598(0x53f);try{const _0x1af2e9=new FileReader();_0x1af2e9[_0x2b4598(0xcd3)](_0x24b32b),await new Promise((_0x3230b5,_0x473675)=>{const _0x3c98f9=_0x2b4598;_0x1af2e9[_0x3c98f9(0xab4)]=()=>{const _0x344472=_0x3c98f9;fileDataBase64=_0x1af2e9['result'][_0x344472(0xc74)](',')[0x1],fileMimeType=_0x24b32b[_0x344472(0x4e4)],_0x3230b5();},_0x1af2e9[_0x3c98f9(0x26d)]=_0x2c677e=>_0x473675(_0x2c677e);});if(!fileDataBase64)throw new Error(_0x2b4598(0x8b8));const _0x3a0628='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x53c483={'type':'OBJECT','properties':{'topics':{'type':_0x2b4598(0x5b3),'items':{'type':_0x2b4598(0x60a)}}},'required':[_0x2b4598(0x5e2)]},_0x497c96=[{'text':_0x3a0628},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x335b6b=await handleApiCall(_0x497c96,_0x2b4598(0x9d8),_0x53c483,null,![]);if(_0x335b6b&&_0x335b6b['topics'])extractedFileTopics=_0x335b6b['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x609189){console[_0x2b4598(0x17d)](_0x2b4598(0x93e),_0x609189),_0x1c73d0['innerHTML']=_0x2b4598(0xd27)+_0x609189[_0x2b4598(0x550)]+_0x2b4598(0xc4e);}}function renderFileTopics(){const _0x3d7287=_0x448927,_0x4d8870=document[_0x3d7287(0xb18)](_0x3d7287(0xb4e));if(extractedFileTopics[_0x3d7287(0xab1)]===0x0){_0x4d8870[_0x3d7287(0x5f4)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x4d8870[_0x3d7287(0x5f4)]=extractedFileTopics[_0x3d7287(0xad5)](_0x1cdb7f=>_0x3d7287(0x60f)+_0x1cdb7f+_0x3d7287(0x819)+escape(_0x1cdb7f)+_0x3d7287(0xcce)+escape(_0x1cdb7f)+_0x3d7287(0x6e4))[_0x3d7287(0x222)]('');}async function generateHybridQuizForTopic(_0x3dbbf8){const _0x565227=_0x448927,_0x1ba8e9=parseInt(document[_0x565227(0xb18)](_0x565227(0x98e))[_0x565227(0x52d)],0xa),_0x5d3752=document[_0x565227(0xb18)](_0x565227(0x617))['value'],_0x3cf2cd=document['getElementById']('num-choices')[_0x565227(0x52d)],_0x3ebe8d=document[_0x565227(0xb18)](_0x565227(0x3b4))['checked'],_0x568064=_0x3ebe8d?_0x565227(0x91c):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x23439a='',_0x57b036;const _0x4f5fff={'type':_0x565227(0x16b),'properties':{'questionText':{'type':_0x565227(0x60a)},'options':{'type':'ARRAY','items':{'type':_0x565227(0x60a)}},'correctAnswerIndex':{'type':_0x565227(0xd7a)},'explanation':{'type':_0x565227(0x60a)},'imageCode':{'type':_0x565227(0x60a)}},'required':[_0x565227(0xb3b),_0x565227(0x6ca),_0x565227(0x662),'explanation']},_0x11d341={'type':_0x565227(0x16b),'properties':{'questionText':{'type':_0x565227(0x60a)},'correctAnswer':{'type':_0x565227(0xb2c)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x565227(0x60a)}},'required':[_0x565227(0xb3b),_0x565227(0xaf4),_0x565227(0x749)]},_0xa7ecec={'type':_0x565227(0x16b),'properties':{'questionText':{'type':_0x565227(0x60a)},'idealAnswer':{'type':_0x565227(0x60a)},'explanation':{'type':_0x565227(0x60a)},'imageCode':{'type':_0x565227(0x60a)}},'required':[_0x565227(0xb3b),'idealAnswer',_0x565227(0x749)]},_0x2b5525={'type':'OBJECT','properties':{'questionType':{'type':_0x565227(0x60a),'enum':[_0x565227(0x632)]},'stem':{'type':_0x565227(0x60a)},'correctResponse':{'type':_0x565227(0x60a)},'allResponses':{'type':_0x565227(0x5b3),'items':{'type':_0x565227(0x60a)}},'explanation':{'type':_0x565227(0x60a)},'imageCode':{'type':_0x565227(0x60a)}},'required':['questionType',_0x565227(0xc35),_0x565227(0x993),_0x565227(0x320),_0x565227(0x749)]};switch(_0x5d3752){case _0x565227(0x232):const _0x5a762f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';prompt=_0x565227(0x730)+subjectPrefix+'\x20'+settings[_0x565227(0x850)]+_0x565227(0x27b)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x565227(0xa14)+settings[_0x565227(0xa7d)]+_0x565227(0x3d2)+_0x5a762f+_0x565227(0x6c5)+_0x568064+'\x20'+simpleMathPrompt,schema=_0x4f5fff;break;case _0x565227(0xab0):_0x23439a=_0x565227(0x82c),_0x57b036=_0x11d341;break;case _0x565227(0x2ad):_0x23439a=_0x565227(0x9f0),_0x57b036=_0xa7ecec;break;case _0x565227(0x355):_0x23439a='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x57b036=_0x2b5525;break;case _0x565227(0xa67):_0x23439a=_0x565227(0x2d3)+_0x3cf2cd+_0x565227(0xadd),_0x57b036=_0x4f5fff;break;default:_0x23439a=_0x565227(0xd59)+_0x3cf2cd+'\x20ตัวเลือก)',_0x57b036=_0x4f5fff;break;}const _0x2bf290=_0x565227(0x1dd),_0x50bd97=document['getElementById'](_0x565227(0x3f3)),_0x2b592e=document['getElementById'](_0x565227(0xa78)),_0x4f5190=document[_0x565227(0xb18)](_0x565227(0x1fd));document['getElementById'](_0x565227(0x2a0))[_0x565227(0x82f)][_0x565227(0xa1f)]('hidden'),_0x4f5190['innerHTML']='',_0x50bd97[_0x565227(0x82f)][_0x565227(0xa1f)](_0x565227(0x5a9)),_0x2b592e['textContent']=_0x565227(0x788)+_0x3dbbf8+_0x565227(0x4b2)+_0x1ba8e9+'\x20ข้อ...';try{const _0x53f9bc='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0xfdfe7b=_0x565227(0xbff)+_0x3dbbf8+_0x565227(0x1b4)+_0x1ba8e9+_0x565227(0xa66)+_0x3dbbf8+_0x565227(0xa6e)+_0x1ba8e9+_0x565227(0x1ee)+_0x568064+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x23439a+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x2bf290+_0x565227(0x34d)+_0x53f9bc+_0x565227(0x54a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x503cec={'type':'OBJECT','properties':{'topic':{'type':_0x565227(0x60a)},'questions':{'type':'ARRAY','items':_0x57b036}},'required':[_0x565227(0xda1),_0x565227(0x677)]},_0x921474=[{'text':_0xfdfe7b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x921474,_0x565227(0xc59)+_0x3dbbf8+'\x22...',_0x503cec);}catch(_0x832abc){console[_0x565227(0x17d)]('Error\x20generating\x20hybrid\x20quiz:',_0x832abc),showMessage(_0x565227(0x39b)+_0x832abc[_0x565227(0x550)]),_0x4f5190[_0x565227(0x5f4)]=_0x565227(0x30f);}finally{_0x50bd97[_0x565227(0x82f)]['add'](_0x565227(0x5a9));}}async function handleGenerateFromFileClick(){const _0x2ae184=_0x448927;if(!selectedFile){showMessage(_0x2ae184(0x326));return;}const _0x3ae37a=document[_0x2ae184(0xb18)](_0x2ae184(0x3f3)),_0x60766b=document[_0x2ae184(0xb18)](_0x2ae184(0xa78)),_0x2dc6cd=document['getElementById']('generated-quiz-container'),_0x158e92=document[_0x2ae184(0xb18)](_0x2ae184(0x9c1));_0x158e92['disabled']=!![],document[_0x2ae184(0xb18)]('quiz-generation-area')['classList'][_0x2ae184(0xa1f)](_0x2ae184(0x5a9)),_0x2dc6cd[_0x2ae184(0x5f4)]='',_0x3ae37a[_0x2ae184(0x82f)][_0x2ae184(0xa1f)](_0x2ae184(0x5a9)),_0x60766b[_0x2ae184(0x633)]=_0x2ae184(0x6b4);try{const _0x422a60=await new Promise((_0x1b2692,_0x31351b)=>{const _0x36ccbe=_0x2ae184,_0x3f44f9=new FileReader();_0x3f44f9[_0x36ccbe(0xcd3)](selectedFile),_0x3f44f9[_0x36ccbe(0xab4)]=()=>_0x1b2692(_0x3f44f9[_0x36ccbe(0x31e)][_0x36ccbe(0xc74)](',')[0x1]),_0x3f44f9[_0x36ccbe(0x26d)]=_0x35428e=>_0x31351b(_0x35428e);});await generateQuizFromFile(selectedFile[_0x2ae184(0x4e4)],_0x422a60);}catch(_0x28bf0f){console['error'](_0x2ae184(0x653),_0x28bf0f),showMessage(_0x2ae184(0x6f3)+_0x28bf0f[_0x2ae184(0x550)]),_0x3ae37a[_0x2ae184(0x82f)][_0x2ae184(0x24b)](_0x2ae184(0x5a9)),_0x158e92[_0x2ae184(0x64b)]=![];}}function autoFormatMath(_0xd1fd63){const _0x48dbf1=_0x448927;if(typeof _0xd1fd63!==_0x48dbf1(0xdc5)||!_0xd1fd63)return _0xd1fd63;const _0x4cfbe2=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x2d3448=_0xd1fd63[_0x48dbf1(0x572)](_0x4cfbe2,_0x163445=>{const _0x2086a2=_0x48dbf1;return'$'+_0x163445[_0x2086a2(0xb5b)]()+'$';});return _0x2d3448;}function sanitizeQuizData(_0x2eae5d){const _0x2b4395=_0x448927;if(!_0x2eae5d||!_0x2eae5d[_0x2b4395(0x677)])return _0x2eae5d;const _0x52733a=_0x343f2c=>{const _0xaab39e=_0x2b4395;if(typeof _0x343f2c!==_0xaab39e(0xdc5))return _0x343f2c;let _0x50ec2e=_0x343f2c;_0x50ec2e=_0x50ec2e[_0xaab39e(0x572)](/\\\(/g,'$')[_0xaab39e(0x572)](/\\\)/g,'$'),_0x50ec2e=_0x50ec2e[_0xaab39e(0x572)](/\\\[/g,'$$')[_0xaab39e(0x572)](/\\\]/g,'$$'),_0x50ec2e=_0x50ec2e[_0xaab39e(0x572)](/\\?imes\b/g,_0xaab39e(0xa51));const _0x3ae641=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x50ec2e=_0x50ec2e[_0xaab39e(0x572)](_0x3ae641,_0x3b71b0=>{const _0x3f26d1=_0xaab39e;return'$'+_0x3b71b0[_0x3f26d1(0xb5b)]()+'$';}),_0x50ec2e;};return _0x2eae5d[_0x2b4395(0xda1)]&&(_0x2eae5d[_0x2b4395(0xda1)]=_0x52733a(_0x2eae5d[_0x2b4395(0xda1)])),_0x2eae5d[_0x2b4395(0x677)]['forEach'](_0x56ac4d=>{const _0xb7290e=_0x2b4395;_0x56ac4d[_0xb7290e(0xb3b)]=_0x52733a(_0x56ac4d[_0xb7290e(0xb3b)]),_0x56ac4d[_0xb7290e(0xc35)]=_0x52733a(_0x56ac4d[_0xb7290e(0xc35)]),_0x56ac4d[_0xb7290e(0x6ca)]&&(_0x56ac4d[_0xb7290e(0x6ca)]=_0x56ac4d['options'][_0xb7290e(0xad5)](_0x1979f5=>_0x52733a(_0x1979f5))),_0x56ac4d[_0xb7290e(0x749)]&&(_0x56ac4d['explanation']=_0x52733a(_0x56ac4d[_0xb7290e(0x749)])),_0x56ac4d[_0xb7290e(0x993)]&&(_0x56ac4d[_0xb7290e(0x993)]=_0x52733a(_0x56ac4d['correctResponse'])),_0x56ac4d[_0xb7290e(0x320)]&&(_0x56ac4d[_0xb7290e(0x320)]=_0x56ac4d[_0xb7290e(0x320)]['map'](_0x2ad131=>_0x52733a(_0x2ad131))),_0x56ac4d['idealAnswer']&&(_0x56ac4d[_0xb7290e(0xcac)]=_0x52733a(_0x56ac4d[_0xb7290e(0xcac)]));}),_0x2eae5d;}const simpleMathPrompt=_0x448927(0x76b);async function handleGenerateFromLink(){const _0x518a15=_0x448927,_0x14c230=document[_0x518a15(0xb18)](_0x518a15(0x9cb)),_0x4d1d00=document[_0x518a15(0xb18)]('link-topic-input'),_0x143d66=_0x14c230[_0x518a15(0x52d)]['trim'](),_0xd86e13=_0x4d1d00[_0x518a15(0x52d)]['trim']();if(!_0x143d66){showMessage(_0x518a15(0x37b));return;}const _0xc755e9=document[_0x518a15(0xb18)]('loader'),_0x58565d=document[_0x518a15(0xb18)]('loader-text'),_0x1bdbd2=document[_0x518a15(0xb18)](_0x518a15(0x1fd)),_0x440b26=document['getElementById'](_0x518a15(0x92b));document['getElementById'](_0x518a15(0x2a0))['classList'][_0x518a15(0xa1f)](_0x518a15(0x5a9)),_0x1bdbd2[_0x518a15(0x5f4)]='',_0xc755e9[_0x518a15(0x82f)][_0x518a15(0xa1f)](_0x518a15(0x5a9)),_0x58565d[_0x518a15(0x633)]=_0x518a15(0xcbf),_0x440b26[_0x518a15(0x64b)]=!![];try{const _0x2721eb=_0x518a15(0x26b)+encodeURIComponent(_0x143d66),_0x5dc7ad=await fetch(_0x2721eb);if(!_0x5dc7ad['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x5dc7ad[_0x518a15(0x33a)]+')');const _0x4e8389=await _0x5dc7ad[_0x518a15(0xcfd)](),_0x50ecb6=extractTextFromHtml(_0x4e8389);if(!_0x50ecb6||_0x50ecb6['length']<0x64)throw new Error(_0x518a15(0x917));await generateQuiz(_0xd86e13,_0x50ecb6);}catch(_0x252cea){console[_0x518a15(0x17d)]('Error\x20generating\x20from\x20link:',_0x252cea),showMessage('เกิดข้อผิดพลาด:\x20'+_0x252cea[_0x518a15(0x550)]),_0x1bdbd2[_0x518a15(0x5f4)]=_0x518a15(0xaf);}finally{_0xc755e9[_0x518a15(0x82f)][_0x518a15(0x24b)]('hidden'),_0x440b26['disabled']=![];}}function extractTextFromHtml(_0x1b1e3e){const _0x984b94=_0x448927,_0x59e115=new DOMParser()[_0x984b94(0x251)](_0x1b1e3e,_0x984b94(0x168));return _0x59e115[_0x984b94(0xccb)](_0x984b94(0xdcd))['forEach'](_0x52e464=>_0x52e464[_0x984b94(0xa1f)]()),_0x59e115[_0x984b94(0xca1)]['textContent']||'';}document[_0x448927(0xb18)](_0x448927(0x4fc))[_0x448927(0xcc)]('click',()=>{const _0x59c51f=_0x448927,_0x3dcb49=document[_0x59c51f(0xb18)](_0x59c51f(0x756))['value'][_0x59c51f(0xb5b)]();generateQuiz(_0x3dcb49,null);}),document['getElementById'](_0x448927(0x664))[_0x448927(0xcc)](_0x448927(0x8b2),()=>{const _0x5edaa3=_0x448927,_0x227a1c=document[_0x5edaa3(0xb18)]('text-content-input')[_0x5edaa3(0x52d)]['trim']();if(!_0x227a1c){showMessage(_0x5edaa3(0x732));return;}const _0x2969b8=document[_0x5edaa3(0xb18)](_0x5edaa3(0x756))[_0x5edaa3(0x52d)][_0x5edaa3(0xb5b)]();generateQuiz(_0x2969b8,_0x227a1c);});async function generateQuiz(_0x2f43e0,_0x2d4967,_0x47590c=null,_0x574502=null,_0x396e76=![],_0x2fc2b2=null,_0x5a2f55=null,_0x54997b=![]){const _0x4cd67b=_0x448927;let _0x3edd82={};if(_0x396e76&&blueprintPageSettings)_0x3edd82=blueprintPageSettings;else{const _0x406ed9=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked');_0x3edd82={'quizType':document[_0x4cd67b(0xb18)](_0x4cd67b(0x617))[_0x4cd67b(0x52d)],'numQuestions':document[_0x4cd67b(0xb18)](_0x4cd67b(0x98e))[_0x4cd67b(0x52d)],'numChoices':document['getElementById']('num-choices')[_0x4cd67b(0x52d)],'includeImages':document['getElementById'](_0x4cd67b(0x3b4))[_0x4cd67b(0x2f1)],'isNormalTopic':document[_0x4cd67b(0xb18)]('force-math-checkbox')[_0x4cd67b(0x2f1)],'difficultyValue':document['getElementById']('difficulty-level-select')[_0x4cd67b(0x52d)],'complexityValue':document[_0x4cd67b(0xb18)](_0x4cd67b(0xad1))[_0x4cd67b(0x52d)],'selectedTopicNames':Array[_0x4cd67b(0x2ce)](_0x406ed9)[_0x4cd67b(0xad5)](_0x198294=>_0x198294[_0x4cd67b(0x52d)])};}const _0x21adb4=_0x3edd82['isNormalTopic']?'':_0x4cd67b(0x4f5),_0x281b5b=_0x3edd82['difficultyValue']!==_0x4cd67b(0x21d)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x3edd82['difficultyValue']+'\x22':'',_0x4b99b7=_0x3edd82[_0x4cd67b(0x8ae)]!==_0x4cd67b(0xbb4)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x3edd82[_0x4cd67b(0x8ae)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x3c1ce3='';_0x3edd82[_0x4cd67b(0x3f5)]&&_0x3edd82[_0x4cd67b(0x3f5)]['length']>0x0&&(_0x3c1ce3=_0x4cd67b(0x3d3)+_0x3edd82['selectedTopicNames'][_0x4cd67b(0x222)](',\x20')+'.');let _0x12a26a='';_0x574502&&(_0x12a26a=_0x4cd67b(0x37c));let _0xed83ba='',_0x42fca0='',_0xdc5c,_0x3a7455='เกี่ยวกับหัวข้อ\x20\x22'+_0x2f43e0+'\x22';if(!_0x2f43e0&&_0x2d4967)_0x3a7455=_0x4cd67b(0x79d);else!_0x2f43e0&&!_0x2d4967&&(_0x3a7455=_0x4cd67b(0xc66));const _0x4cd6ce={'type':_0x4cd67b(0x16b),'properties':{'questionText':{'type':_0x4cd67b(0x60a)},'options':{'type':_0x4cd67b(0x5b3),'items':{'type':_0x4cd67b(0x60a)}},'correctAnswerIndex':{'type':_0x4cd67b(0xd7a)},'explanation':{'type':_0x4cd67b(0x60a)},'imageCode':{'type':_0x4cd67b(0x60a)}},'required':[_0x4cd67b(0xb3b),_0x4cd67b(0x6ca),_0x4cd67b(0x662),_0x4cd67b(0x749)]},_0x108440={'type':_0x4cd67b(0x16b),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4cd67b(0x60a)},'explanation':{'type':_0x4cd67b(0x60a)},'imageCode':{'type':_0x4cd67b(0x60a)}},'required':[_0x4cd67b(0xb3b),_0x4cd67b(0xcac),'explanation']},_0x4cc4ef={'type':'OBJECT','properties':{'questionText':{'type':_0x4cd67b(0x60a)},'questionType':{'type':_0x4cd67b(0x60a),'enum':[_0x4cd67b(0x232),_0x4cd67b(0x706)]},'options':{'type':_0x4cd67b(0x5b3),'items':{'type':_0x4cd67b(0x60a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4cd67b(0x60a)}},'required':['questionText',_0x4cd67b(0x3e6),'explanation']},_0x55663a={'type':'OBJECT','properties':{'questionText':{'type':_0x4cd67b(0x60a)},'correctAnswer':{'type':_0x4cd67b(0xb2c)},'explanation':{'type':_0x4cd67b(0x60a)},'imageCode':{'type':_0x4cd67b(0x60a)}},'required':[_0x4cd67b(0xb3b),_0x4cd67b(0xaf4),'explanation']},_0x3b4c2c={'type':_0x4cd67b(0x16b),'properties':{'questionType':{'type':'STRING','enum':[_0x4cd67b(0x632)]},'stem':{'type':_0x4cd67b(0x60a)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4cd67b(0x5b3),'items':{'type':'STRING'}},'explanation':{'type':_0x4cd67b(0x60a)},'imageCode':{'type':_0x4cd67b(0x60a)}},'required':[_0x4cd67b(0x3e6),_0x4cd67b(0xc35),_0x4cd67b(0x993),_0x4cd67b(0x320),_0x4cd67b(0x749)]};let _0x2d7db2;if(_0x47590c!==null){const _0x2aeabf=currentQuizData['questions'][_0x47590c][_0x4cd67b(0x3e6)],_0x29b822=_0x3edd82[_0x4cd67b(0x6e2)]?_0x4cd67b(0x539):'';_0xed83ba=_0x4cd67b(0xb0f)+_0x3a7455+'\x20'+_0x3c1ce3+'\x20'+_0x281b5b+_0x4cd67b(0x7e1)+_0x29b822+'\x20'+simpleMathPrompt;if(_0x2aeabf===_0x4cd67b(0x232))_0xdc5c=_0x4cd6ce;else{if(_0x2aeabf===_0x4cd67b(0x632))_0xdc5c={'type':_0x4cd67b(0x16b),'properties':{'questionType':{'type':'STRING','enum':[_0x4cd67b(0x632)]},'stem':{'type':_0x4cd67b(0x60a)},'correctResponse':{'type':_0x4cd67b(0x60a)},'explanation':{'type':_0x4cd67b(0x60a)},'imageCode':{'type':_0x4cd67b(0x60a)}},'required':[_0x4cd67b(0x3e6),_0x4cd67b(0xc35),_0x4cd67b(0x993),_0x4cd67b(0x749)]};else _0xdc5c=_0x108440;}_0x2d7db2=_0xdc5c;}else{const _0x5b9f68=_0x3edd82[_0x4cd67b(0x6e2)]?_0x4cd67b(0x45b):'';switch(_0x3edd82[_0x4cd67b(0xafc)]){case _0x4cd67b(0x232):const _0x5dc7cc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';_0xed83ba=_0x4cd67b(0x730)+_0x21adb4+'\x20'+_0x3edd82[_0x4cd67b(0x850)]+_0x4cd67b(0x27b)+_0x3a7455+'\x20'+_0x3c1ce3+'\x20'+_0x281b5b+'\x20'+_0x4b99b7+'\x20'+_0x12a26a+_0x4cd67b(0xa14)+_0x3edd82[_0x4cd67b(0xa7d)]+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dc7cc+_0x4cd67b(0x6c5)+_0x5b9f68+'\x20'+simpleMathPrompt,_0xdc5c=_0x4cd6ce;break;case _0x4cd67b(0xa67):_0xed83ba='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x21adb4+'\x20'+_0x3edd82[_0x4cd67b(0x850)]+_0x4cd67b(0x27b)+_0x3a7455+'\x20'+_0x3c1ce3+'\x20'+_0x281b5b+'\x20'+_0x4b99b7+'\x20'+_0x12a26a+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x3edd82[_0x4cd67b(0xa7d)]+_0x4cd67b(0xaba)+_0x5b9f68+'\x20'+simpleMathPrompt,_0xdc5c=_0x4cd6ce;break;case _0x4cd67b(0x2ad):_0xed83ba=_0x4cd67b(0xe4a)+_0x21adb4+'\x20'+_0x3edd82[_0x4cd67b(0x850)]+'\x20ข้อ\x20'+_0x3a7455+'\x20'+_0x3c1ce3+'\x20'+_0x281b5b+'\x20'+_0x4b99b7+'\x20'+_0x12a26a+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5b9f68+'\x20'+simpleMathPrompt,_0xdc5c=_0x108440;break;case _0x4cd67b(0xbb4):_0xed83ba=_0x4cd67b(0xc83)+_0x21adb4+'\x20'+_0x3edd82[_0x4cd67b(0x850)]+_0x4cd67b(0x27b)+_0x3a7455+'\x20'+_0x3c1ce3+'\x20'+_0x281b5b+'\x20'+_0x4b99b7+'\x20'+_0x12a26a+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x3edd82[_0x4cd67b(0xa7d)]+_0x4cd67b(0xc99)+_0x5b9f68+'\x20'+simpleMathPrompt+'.',_0xdc5c=_0x4cc4ef;break;case _0x4cd67b(0xab0):_0xed83ba='สร้างคำถามแบบใช่/ไม่ใช่'+_0x21adb4+'\x20'+_0x3edd82[_0x4cd67b(0x850)]+_0x4cd67b(0x27b)+_0x3a7455+'\x20'+_0x3c1ce3+'\x20'+_0x281b5b+'\x20'+_0x4b99b7+'\x20'+_0x12a26a+_0x4cd67b(0x4b4)+_0x5b9f68+'\x20'+simpleMathPrompt,_0xdc5c=_0x55663a;break;case _0x4cd67b(0x355):_0xed83ba='สร้างชุดคำถามจับคู่'+_0x21adb4+'\x20'+_0x3edd82[_0x4cd67b(0x850)]+_0x4cd67b(0x29f)+_0x3a7455+'\x20'+_0x3c1ce3+'\x20'+_0x281b5b+'\x20'+_0x4b99b7+'\x20'+_0x12a26a+_0x4cd67b(0xcd4)+_0x5b9f68+'\x20'+simpleMathPrompt,_0xdc5c=_0x3b4c2c;break;}_0x2d7db2={'type':_0x4cd67b(0x16b),'properties':{'topic':{'type':_0x4cd67b(0x60a)},'questions':{'type':'ARRAY','items':_0xdc5c}},'required':[_0x4cd67b(0xda1),_0x4cd67b(0x677)]};}const _0x4fa573=_0x4cd67b(0x67e);_0x2d4967?(_0x54997b?_0xed83ba=_0x4cd67b(0x167)+_0x2d4967+_0x4cd67b(0xa65)+_0xed83ba+_0x4fa573:_0xed83ba=_0x4cd67b(0x167)+_0x2d4967+_0x4cd67b(0xa65)+_0xed83ba,_0x42fca0=_0x4cd67b(0x455)):(_0x54997b&&(_0xed83ba+=_0x4fa573),_0x42fca0='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x2f318e;return _0x574502?(_0x2f318e=[{'text':_0xed83ba},..._0x574502],_0x42fca0='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x2f318e=_0xed83ba,handleApiCall(_0x2f318e,_0x42fca0,_0x2d7db2,_0x47590c,!![],_0x2fc2b2,_0x5a2f55);}async function generateQuizFromFile(_0x30ab8b,_0xe2879f){const _0x439171=_0x448927,_0x290c98=document['getElementById']('file-topic-input')[_0x439171(0x52d)][_0x439171(0xb5b)](),_0x4c5545=document[_0x439171(0xb18)](_0x439171(0x617))[_0x439171(0x52d)],_0x290c97=document['getElementById'](_0x439171(0x98e))[_0x439171(0x52d)],_0x5da223=document[_0x439171(0xb18)](_0x439171(0x9f3))[_0x439171(0x52d)],_0x548225=document[_0x439171(0xb18)](_0x439171(0x3b4))['checked'],_0x56f05b=document['getElementById'](_0x439171(0x805))[_0x439171(0x2f1)],_0xf7093b=_0x56f05b?'':_0x439171(0x4f5),_0x481c03=document[_0x439171(0xb18)](_0x439171(0x9aa))[_0x439171(0x2f1)];let _0x528dd1='',_0x333256;const _0x14e640=_0x548225?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x481c03)_0x528dd1=_0x439171(0x634)+_0x14e640+'\x0a'+simpleMathPrompt+'\x0a',_0x333256={'type':'OBJECT','properties':{'questionText':{'type':_0x439171(0x60a)},'questionType':{'type':_0x439171(0x60a),'enum':['multiple_choice','short_answer','true_false',_0x439171(0x632)]},'options':{'type':_0x439171(0x5b3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x439171(0xd7a)},'idealAnswer':{'type':_0x439171(0x60a)},'correctAnswer':{'type':_0x439171(0xb2c)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x439171(0x60a)},'allResponses':{'type':'ARRAY','items':{'type':_0x439171(0x60a)}},'explanation':{'type':_0x439171(0x60a)},'imageCode':{'type':_0x439171(0x60a)}},'required':['questionType',_0x439171(0x749)]};else{let _0x575ec1=_0x439171(0xb78)+_0x290c98+'\x22';!_0x290c98&&(_0x575ec1=_0x439171(0xa5f));switch(_0x4c5545){case _0x439171(0x232):const _0x1dbf17='\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';_0x528dd1=_0x439171(0x730)+_0xf7093b+'\x20'+_0x290c97+'\x20ข้อ\x20'+_0x575ec1+_0x439171(0x481)+_0x5da223+_0x439171(0x198)+_0x1dbf17+_0x439171(0x45d)+_0x14e640+'\x20'+simpleMathPrompt,_0x333256={'type':_0x439171(0x16b),'properties':{'questionText':{'type':_0x439171(0x60a)},'options':{'type':_0x439171(0x5b3),'items':{'type':_0x439171(0x60a)}},'correctAnswerIndex':{'type':_0x439171(0xd7a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x439171(0x60a)}},'required':[_0x439171(0xb3b),_0x439171(0x6ca),_0x439171(0x662),_0x439171(0x749)]};break;case _0x439171(0xa67):_0x528dd1=_0x439171(0xe4a)+_0xf7093b+'\x20'+_0x290c97+'\x20ข้อ\x20'+_0x575ec1+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x5da223+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x14e640+'\x20'+simpleMathPrompt,_0x333256={'type':_0x439171(0x16b),'properties':{'questionText':{'type':_0x439171(0x60a)},'options':{'type':_0x439171(0x5b3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x439171(0xd7a)},'explanation':{'type':_0x439171(0x60a)},'imageCode':{'type':_0x439171(0x60a)}},'required':['questionText',_0x439171(0x6ca),_0x439171(0x662),_0x439171(0x749)]};break;case _0x439171(0x2ad):_0x528dd1=_0x439171(0xe4a)+_0xf7093b+'\x20'+_0x290c97+'\x20ข้อ\x20'+_0x575ec1+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x14e640+'\x20'+simpleMathPrompt,_0x333256={'type':_0x439171(0x16b),'properties':{'questionText':{'type':_0x439171(0x60a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x439171(0x60a)},'imageCode':{'type':_0x439171(0x60a)}},'required':['questionText','idealAnswer','explanation']};break;case _0x439171(0xbb4):_0x528dd1=_0x439171(0xc83)+_0xf7093b+'\x20'+_0x290c97+_0x439171(0x27b)+_0x575ec1+_0x439171(0x656)+_0x5da223+_0x439171(0xea)+_0x14e640+'\x20'+simpleMathPrompt+_0x439171(0x3a4),_0x333256={'type':'OBJECT','properties':{'questionText':{'type':_0x439171(0x60a)},'questionType':{'type':'STRING','enum':[_0x439171(0x232),_0x439171(0x706)]},'options':{'type':'ARRAY','items':{'type':_0x439171(0x60a)}},'correctAnswerIndex':{'type':_0x439171(0xd7a)},'idealAnswer':{'type':_0x439171(0x60a)},'explanation':{'type':_0x439171(0x60a)},'imageCode':{'type':'STRING'}},'required':[_0x439171(0xb3b),_0x439171(0x3e6),'explanation']};break;case _0x439171(0xab0):_0x528dd1='สร้างคำถามแบบใช่/ไม่ใช่'+_0xf7093b+'\x20'+_0x290c97+'\x20ข้อ\x20'+_0x575ec1+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x14e640+'\x20'+simpleMathPrompt,_0x333256={'type':_0x439171(0x16b),'properties':{'questionText':{'type':_0x439171(0x60a)},'correctAnswer':{'type':_0x439171(0xb2c)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x439171(0xb3b),'correctAnswer',_0x439171(0x749)]};break;case _0x439171(0x355):_0x528dd1='สร้างชุดคำถามจับคู่'+_0xf7093b+'\x20'+_0x290c97+_0x439171(0x29f)+_0x575ec1+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x290c97+_0x439171(0x337)+_0x14e640+'\x20'+simpleMathPrompt,_0x333256={'type':_0x439171(0x16b),'properties':{'questionType':{'type':_0x439171(0x60a),'enum':[_0x439171(0x632)]},'stem':{'type':_0x439171(0x60a)},'correctResponse':{'type':_0x439171(0x60a)},'allResponses':{'type':_0x439171(0x5b3),'items':{'type':_0x439171(0x60a)}},'explanation':{'type':_0x439171(0x60a)},'imageCode':{'type':'STRING'}},'required':[_0x439171(0x3e6),'stem',_0x439171(0x993),_0x439171(0x320),_0x439171(0x749)]};break;}}const _0x147ea4={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x439171(0x5b3),'items':_0x333256}},'required':[_0x439171(0xda1),_0x439171(0x677)]},_0x21a08a=_0x439171(0x2e4)+_0x528dd1,_0x5138f7={'contents':[{'parts':[{'text':_0x21a08a},{'inlineData':{'mimeType':_0x30ab8b,'data':_0xe2879f}}]}],'generationConfig':{'responseMimeType':_0x439171(0x92d),'responseSchema':_0x147ea4}};return handleApiCall(_0x5138f7[_0x439171(0xd4)][0x0][_0x439171(0x7fe)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x147ea4);}async function handleApiCall(_0x4c2127,_0x4f1c9d,_0x26d452,_0x20e614=null,_0x1abf9f=!![],_0x51f392=null,_0x5077ab=null){const _0x18a227=_0x448927,_0x4af19f=document['getElementById'](_0x18a227(0x2a0)),_0x2c81d0=document[_0x18a227(0xb18)]('loader'),_0x3bd66c=document[_0x18a227(0xb18)](_0x18a227(0xa78)),_0xe86414=document[_0x18a227(0xb18)](_0x18a227(0x1fd));_0x4af19f[_0x18a227(0x82f)][_0x18a227(0xa1f)](_0x18a227(0x5a9));_0x20e614===null&&_0x1abf9f&&(_0xe86414[_0x18a227(0x5f4)]='');_0x2c81d0[_0x18a227(0x82f)][_0x18a227(0xa1f)](_0x18a227(0x5a9)),_0x3bd66c[_0x18a227(0x633)]=_0x4f1c9d,document[_0x18a227(0xb18)]('generate-from-topic-btn')['disabled']=!![],document[_0x18a227(0xb18)](_0x18a227(0x664))[_0x18a227(0x64b)]=!![],document[_0x18a227(0xb18)]('generate-from-link-btn')[_0x18a227(0x64b)]=!![];const _0x38196f=document[_0x18a227(0xb18)](_0x18a227(0x9c1));if(_0x38196f)_0x38196f['disabled']=!![];const _0x47b2ea=document['getElementById'](_0x18a227(0x4ca));if(_0x47b2ea)_0x47b2ea[_0x18a227(0x64b)]=!![];const _0x1f2292=document[_0x18a227(0xb18)]('generate-from-parallel-test-btn');if(_0x1f2292)_0x1f2292[_0x18a227(0x64b)]=!![];try{const _0x5bc1ed=Array[_0x18a227(0xbf1)](_0x4c2127)?_0x4c2127:[{'text':_0x4c2127}],_0x452127={'contents':[{'role':_0x18a227(0xbb0),'parts':_0x5bc1ed}]};_0x26d452&&(_0x452127[_0x18a227(0x50f)]={'responseMimeType':'application/json','responseSchema':_0x26d452});const _0x45cc7b=_0x18a227(0xad2),_0x2d5786=_0x18a227(0x541)+_0x45cc7b,_0x2fc155=await fetch(_0x2d5786,{'method':'POST','headers':{'Content-Type':_0x18a227(0x92d)},'body':JSON[_0x18a227(0x7cd)](_0x452127)});if(!_0x2fc155['ok']){const _0x2e7ba4=await _0x2fc155[_0x18a227(0xcfd)]();console['error']('API\x20Error\x20Response:',_0x2e7ba4);throw new Error(_0x18a227(0x59c)+_0x2fc155[_0x18a227(0x33a)]);}const _0x307fcf=await _0x2fc155['json']();if(!_0x307fcf[_0x18a227(0x40c)]||_0x307fcf[_0x18a227(0x40c)]['length']===0x0){let _0x2c7e8d=_0x18a227(0x384);return _0x307fcf['promptFeedback']?.[_0x18a227(0x2e2)]&&(_0x2c7e8d=_0x18a227(0xb3)+_0x307fcf[_0x18a227(0x80b)][_0x18a227(0x2e2)]+'.'),console[_0x18a227(0x17d)](_0x2c7e8d,JSON[_0x18a227(0x7cd)](_0x307fcf)),null;}const _0xac0baf=_0x307fcf[_0x18a227(0x40c)][0x0][_0x18a227(0x2ba)][_0x18a227(0x7fe)][0x0][_0x18a227(0xcfd)];if(_0x26d452){let _0x30e215=_0xac0baf;if(_0x30e215[_0x18a227(0x621)]('```json'))_0x30e215=_0x30e215[_0x18a227(0x162)](0x7,_0x30e215[_0x18a227(0xab1)]-0x3)['trim']();else _0x30e215['startsWith'](_0x18a227(0x792))&&(_0x30e215=_0x30e215[_0x18a227(0x162)](0x3,_0x30e215[_0x18a227(0xab1)]-0x3)[_0x18a227(0xb5b)]());let _0x39fd3e=JSON['parse'](_0x30e215);if(_0x39fd3e[_0x18a227(0x677)]&&Array[_0x18a227(0xbf1)](_0x39fd3e[_0x18a227(0x677)])){const _0x2406ad=_0x39fd3e[_0x18a227(0x677)]['filter'](_0x532a4=>_0x532a4[_0x18a227(0x3e6)]===_0x18a227(0x632));if(_0x2406ad[_0x18a227(0xab1)]>0x1){const _0x3c781a=_0x2406ad[_0x18a227(0xad5)](_0x5c7ff1=>_0x5c7ff1[_0x18a227(0x993)])[_0x18a227(0x955)](_0x45b90d=>_0x45b90d&&_0x45b90d[_0x18a227(0xb5b)]()!=='');shuffleArray(_0x3c781a),_0x2406ad[_0x18a227(0x157)](_0xa800ec=>{_0xa800ec['allResponses']=[..._0x3c781a];}),console[_0x18a227(0xcad)]('Matching\x20options\x20synced:',_0x3c781a);}}if(_0x1abf9f){if(_0x20e614!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x18a227(0x677)]){}}else currentQuizData=_0x39fd3e,displayGeneratedQuiz(currentQuizData,_0x51f392,_0x5077ab);}return _0x39fd3e;}else return _0xac0baf;}catch(_0x2fdf65){console[_0x18a227(0x17d)](_0x18a227(0x13a),_0x2fdf65),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x2fdf65['message']);_0x1abf9f&&(_0xe86414[_0x18a227(0x5f4)]=_0x18a227(0x60e));throw _0x2fdf65;}finally{_0x2c81d0['classList'][_0x18a227(0x24b)](_0x18a227(0x5a9)),document[_0x18a227(0xb18)](_0x18a227(0x4fc))[_0x18a227(0x64b)]=![],document[_0x18a227(0xb18)]('generate-from-text-btn')[_0x18a227(0x64b)]=![],document[_0x18a227(0xb18)](_0x18a227(0x92b))[_0x18a227(0x64b)]=![];if(_0x38196f)_0x38196f[_0x18a227(0x64b)]=![];if(_0x47b2ea)_0x47b2ea[_0x18a227(0x64b)]=![];if(_0x1f2292)_0x1f2292[_0x18a227(0x64b)]=![];}}function exitFullscreen(){const _0x537ff6=_0x448927;if(document[_0x537ff6(0x45f)])document[_0x537ff6(0x45f)]()[_0x537ff6(0xa98)](_0x3a646b=>console[_0x537ff6(0x17d)](_0x3a646b));else{if(document[_0x537ff6(0x411)])document[_0x537ff6(0x411)]();else document[_0x537ff6(0x30e)]&&document[_0x537ff6(0x30e)]();}}function enterFullscreen(){const _0x192401=_0x448927,_0x447c90=document[_0x192401(0xcaf)];if(_0x447c90[_0x192401(0x40b)])_0x447c90[_0x192401(0x40b)]()[_0x192401(0xa98)](_0x585071=>{const _0x447c21=_0x192401;console[_0x447c21(0x17d)](_0x447c21(0x3e5)+_0x585071[_0x447c21(0x550)]+'\x20('+_0x585071[_0x447c21(0x2d2)]+')');});else{if(_0x447c90[_0x192401(0xdaf)])_0x447c90[_0x192401(0xdaf)]();else _0x447c90[_0x192401(0x847)]&&_0x447c90[_0x192401(0x847)]();}}function handleCheatingEvent(){const _0x4919d3=_0x448927;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4919d3(0x353)+maxCheatAttempts+_0x4919d3(0x841)),document[_0x4919d3(0xb18)](_0x4919d3(0xacc))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x4919d3(0xb94),handleVisibilityChange),document[_0x4919d3(0xcec)](_0x4919d3(0x981),handleFullscreenChange)):showMessage(_0x4919d3(0x4db)+cheatAttempts+'/'+maxCheatAttempts+_0x4919d3(0xd96),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x5f194d=_0x448927;if(currentMode===_0x5f194d(0x4d3)||!isQuizActive)return;if(document[_0x5f194d(0xdc9)]==='hidden')handleCheatingEvent();else document[_0x5f194d(0xdc9)]===_0x5f194d(0x76c)&&(console[_0x5f194d(0xcad)](_0x5f194d(0x2a5)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x493aa9=_0x448927;if(currentMode===_0x493aa9(0x4d3)||!isQuizActive)return;!document[_0x493aa9(0xbf4)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x39d3b4,_0x210f4d=null,_0x1e7ce1=null){const _0x5457d5=_0x448927,_0x44dd02=document[_0x5457d5(0xb18)]('generated-quiz-container');let _0x25d496=_0x5457d5(0xd4d)+_0x39d3b4[_0x5457d5(0xda1)]+_0x5457d5(0x4c6);_0x39d3b4['questions'][_0x5457d5(0x157)]((_0xbc6aff,_0x55f4d8)=>{const _0x21fa9f=_0x5457d5;!_0xbc6aff['id']&&(_0xbc6aff['id']='q_'+Date['now']()+'_'+_0x55f4d8);const _0x22b9de=_0xbc6aff[_0x21fa9f(0x3e6)]||_0x39d3b4[_0x21fa9f(0xafc)];_0x25d496+=_0x21fa9f(0x8cc)+_0x55f4d8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x55f4d8+_0x21fa9f(0xc4f)+_0x55f4d8+_0x21fa9f(0x9be);_0x22b9de==='matching_item'?_0x25d496+=_0x21fa9f(0x3c4)+_0x55f4d8+'\x22>'+(_0x55f4d8+0x1)+'.\x20'+_0xbc6aff[_0x21fa9f(0xc35)]+'</p>':_0x25d496+=_0x21fa9f(0x3c4)+_0x55f4d8+'\x22>'+(_0x55f4d8+0x1)+'.\x20'+_0xbc6aff['questionText']+_0x21fa9f(0xc4e);_0xbc6aff['imageCode']&&(_0x25d496+=_0x21fa9f(0x186)+_0x55f4d8+_0x21fa9f(0xac0)+_0xbc6aff[_0x21fa9f(0x6a5)]+_0x21fa9f(0x2b1));if(_0xbc6aff[_0x21fa9f(0x6ca)]&&Array[_0x21fa9f(0xbf1)](_0xbc6aff['options'])&&_0xbc6aff[_0x21fa9f(0x6ca)][_0x21fa9f(0xab1)]>0x0)_0x25d496+=_0x21fa9f(0xbe1)+_0x55f4d8+_0x21fa9f(0x132)+_0xbc6aff[_0x21fa9f(0x6ca)][_0x21fa9f(0xad5)]((_0x3b3643,_0x594671)=>'<li\x20class=\x22'+(_0x594671===_0xbc6aff[_0x21fa9f(0x662)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x3b3643+_0x21fa9f(0x9de))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>';else{if(_0x22b9de==='matching_item'||_0xbc6aff['correctResponse'])_0x25d496+=_0x21fa9f(0x887)+_0x55f4d8+'\x22>'+_0xbc6aff[_0x21fa9f(0x993)]+_0x21fa9f(0x3ea);else{if(_0x22b9de==='true_false'||typeof _0xbc6aff[_0x21fa9f(0xaf4)]===_0x21fa9f(0x241))_0x25d496+=_0x21fa9f(0x573)+(_0xbc6aff[_0x21fa9f(0xaf4)]===!![]?'text-green-600\x20font-bold':'')+_0x21fa9f(0x47b)+(_0xbc6aff['correctAnswer']===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0xbc6aff['idealAnswer']?_0x25d496+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x55f4d8+'\x22>'+_0xbc6aff[_0x21fa9f(0xcac)]+'</span></div>':_0x25d496+=_0x21fa9f(0x466);}}_0x25d496+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x55f4d8+'\x22>'+_0xbc6aff[_0x21fa9f(0x749)]+_0x21fa9f(0x3ea),_0x25d496+=_0x21fa9f(0x2b1);}),_0x25d496+=_0x5457d5(0x349),_0x44dd02[_0x5457d5(0x5f4)]=_0x25d496,document[_0x5457d5(0xccb)](_0x5457d5(0x871))[_0x5457d5(0x157)](_0x2b0a4a=>_0x2b0a4a[_0x5457d5(0xcc)](_0x5457d5(0x8b2),handleEditQuestion)),document['querySelectorAll'](_0x5457d5(0xae0))[_0x5457d5(0x157)](_0x3620fc=>_0x3620fc[_0x5457d5(0xcc)](_0x5457d5(0x8b2),handleRegenerateQuestion)),document[_0x5457d5(0xb18)](_0x5457d5(0x485))['addEventListener'](_0x5457d5(0x8b2),exportQuizAsWorksheetPDF),document[_0x5457d5(0xb18)](_0x5457d5(0xe1f))[_0x5457d5(0xcc)](_0x5457d5(0x8b2),handleVerifyAnswers);const _0x15aa5a=document['getElementById'](_0x5457d5(0x1f3));if(_0x15aa5a){const _0x354254=_0x210f4d||currentProjectId;_0x15aa5a[_0x5457d5(0xcc)](_0x5457d5(0x8b2),()=>saveQuiz(_0x354254,_0x1e7ce1));}if(window['MathJax'])window['MathJax'][_0x5457d5(0xd16)]([_0x44dd02]);}function handleRegenerateQuestion(_0x35910c){const _0x2fab71=_0x448927,_0x260d6c=_0x35910c[_0x2fab71(0x751)][_0x2fab71(0xcd1)][_0x2fab71(0xfd)],_0x1a3d63=currentQuizData[_0x2fab71(0xda1)];showMessage(_0x2fab71(0x7e6)+(parseInt(_0x260d6c)+0x1)+'\x20ใหม่...'),generateQuiz(_0x1a3d63,null,parseInt(_0x260d6c));}function getPointerPosition(_0x557241,_0x5f457b){const _0x470fb4=_0x448927,_0x579c16=_0x557241['getScreenCTM']();let _0x689c82,_0x105a25;return _0x5f457b['touches']&&_0x5f457b[_0x470fb4(0xb1c)]['length']>0x0?(_0x689c82=_0x5f457b[_0x470fb4(0xb1c)][0x0][_0x470fb4(0x47c)],_0x105a25=_0x5f457b['touches'][0x0][_0x470fb4(0x5cc)]):(_0x689c82=_0x5f457b[_0x470fb4(0x47c)],_0x105a25=_0x5f457b[_0x470fb4(0x5cc)]),{'x':(_0x689c82-_0x579c16['e'])/_0x579c16['a'],'y':(_0x105a25-_0x579c16['f'])/_0x579c16['d']};}function startDrag(_0x3ecd59){const _0x5e00eb=_0x448927;_0x3ecd59[_0x5e00eb(0x4e4)]===_0x5e00eb(0x923)&&_0x3ecd59[_0x5e00eb(0x105)]();const _0x2821b6=_0x3ecd59['target']['closest'](_0x5e00eb(0xc56));if(_0x2821b6){draggedSvgElement=_0x2821b6;const _0x563b45=draggedSvgElement[_0x5e00eb(0x831)],_0x4f5641=getPointerPosition(_0x563b45,_0x3ecd59);svgOffset['x']=_0x4f5641['x']-parseFloat(draggedSvgElement[_0x5e00eb(0xa26)](null,'x')),svgOffset['y']=_0x4f5641['y']-parseFloat(draggedSvgElement[_0x5e00eb(0xa26)](null,'y'));}}function calculateItemAnalysis(_0xce2ef3,_0x2b838b){const _0x385836=_0x448927,_0x1b8ab7={};if(_0x2b838b[_0x385836(0xab1)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1e8575=[..._0x2b838b][_0x385836(0x872)]((_0x31d1a7,_0x63c674)=>{const _0x4e82fa=_0x385836,_0x2e0891=_0x63c674[_0x4e82fa(0xc62)]-_0x31d1a7[_0x4e82fa(0xc62)];if(_0x2e0891!==0x0)return _0x2e0891;const _0x33407f=_0x31d1a7[_0x4e82fa(0x975)]?.[_0x4e82fa(0xab1)]||0x1,_0x4b0372=_0x63c674[_0x4e82fa(0x975)]?.['length']||0x1,_0x4ecfc8=_0x33407f-_0x4b0372;if(_0x4ecfc8!==0x0)return _0x4ecfc8;const _0x54354c=new Date(_0x31d1a7['latestSubmittedAt']),_0x549037=new Date(_0x63c674['latestSubmittedAt']),_0x369eec=_0x54354c-_0x549037;if(_0x369eec!==0x0)return _0x369eec;return _0x31d1a7['studentName'][_0x4e82fa(0x649)](_0x63c674[_0x4e82fa(0x652)],'th');}),_0xde331b=_0x1e8575[_0x385836(0xab1)],_0x2774f=Math['max'](0x1,Math[_0x385836(0x87b)](_0xde331b*0.33));if(_0x2774f===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x44da76=_0x1e8575['slice'](0x0,_0x2774f),_0x14f948=_0x1e8575[_0x385836(0xa30)](-_0x2774f),_0x588ba8=_0x44da76[_0x385836(0xad5)](_0x41b872=>_0x41b872[_0x385836(0x652)]),_0x2b201e=_0x14f948[_0x385836(0xad5)](_0x419a07=>_0x419a07['studentName']);return _0xce2ef3['questions'][_0x385836(0x157)]((_0xfb8f22,_0x34bb4b)=>{const _0x2860d8=_0x385836,_0x5a2563=_0xfb8f22[_0x2860d8(0xc35)]||_0xfb8f22[_0x2860d8(0xb3b)];let _0x3370ed=0x0,_0x2ca699=0x0,_0x4931f1=0x0;const _0x3d69e7=[],_0x4ebd89=[];_0x44da76['forEach'](_0x469aaf=>{const _0x9d014a=_0x2860d8,_0x2da51b=_0x469aaf[_0x9d014a(0x975)][_0x469aaf['attempts'][_0x9d014a(0xab1)]-0x1],_0x5ccd6e=_0x2da51b['answers']['find'](_0x39f4da=>_0x39f4da[_0x9d014a(0x29a)]===_0x5a2563);_0x3d69e7[_0x9d014a(0x626)]({'name':_0x469aaf['studentName'],'isCorrect':_0x5ccd6e?_0x5ccd6e[_0x9d014a(0xc26)]:![]}),_0x5ccd6e&&_0x5ccd6e[_0x9d014a(0xc26)]&&_0x2ca699++;}),_0x14f948[_0x2860d8(0x157)](_0x497d4d=>{const _0x2114eb=_0x2860d8,_0x7e8196=_0x497d4d['attempts'][_0x497d4d['attempts'][_0x2114eb(0xab1)]-0x1],_0x11c3b5=_0x7e8196[_0x2114eb(0xc70)][_0x2114eb(0x8c0)](_0x3e1170=>_0x3e1170[_0x2114eb(0x29a)]===_0x5a2563);_0x4ebd89['push']({'name':_0x497d4d['studentName'],'isCorrect':_0x11c3b5?_0x11c3b5[_0x2114eb(0xc26)]:![]}),_0x11c3b5&&_0x11c3b5[_0x2114eb(0xc26)]&&_0x4931f1++;}),_0x2b838b[_0x2860d8(0x157)](_0x1dc79e=>{const _0x5f54f1=_0x2860d8,_0x3ea663=_0x1dc79e[_0x5f54f1(0x975)][_0x1dc79e['attempts']['length']-0x1],_0x1c57eb=_0x3ea663[_0x5f54f1(0xc70)]['find'](_0x5102c8=>_0x5102c8[_0x5f54f1(0x29a)]===_0x5a2563);_0x1c57eb&&_0x1c57eb['isCorrect']&&_0x3370ed++;});const _0x1aeb6e=_0xde331b>0x0?_0x3370ed/_0xde331b:0x0,_0x445305=_0x2774f>0x0?_0x2ca699/_0x2774f-_0x4931f1/_0x2774f:0x0;_0x1b8ab7[_0x34bb4b]={'p':_0x1aeb6e,'r':_0x445305,'upperGroupResponders':_0x3d69e7,'lowerGroupResponders':_0x4ebd89};}),{'perQuestionStats':_0x1b8ab7,'overallGroups':{'upperGroupNames':_0x588ba8,'lowerGroupNames':_0x2b201e}};}function drag(_0x30cfb7){const _0x2633b7=_0x448927;if(draggedSvgElement){_0x30cfb7[_0x2633b7(0x105)]();const _0x1fbd0a=draggedSvgElement[_0x2633b7(0x831)],_0x3ea63c=getPointerPosition(_0x1fbd0a,_0x30cfb7),_0x428df4=_0x1fbd0a['viewBox'][_0x2633b7(0x6a0)];let _0x409a16=_0x3ea63c['x']-svgOffset['x'],_0x223e97=_0x3ea63c['y']-svgOffset['y'];const _0x1d1891=draggedSvgElement['getBBox']();_0x409a16=Math['max'](_0x428df4['x'],Math[_0x2633b7(0x4ae)](_0x409a16,_0x428df4['x']+_0x428df4[_0x2633b7(0x5ff)]-_0x1d1891['width'])),_0x223e97=Math[_0x2633b7(0x90d)](_0x428df4['y'],Math[_0x2633b7(0x4ae)](_0x223e97,_0x428df4['y']+_0x428df4[_0x2633b7(0x94a)]-_0x1d1891[_0x2633b7(0x94a)])),draggedSvgElement[_0x2633b7(0x4a6)](null,'x',_0x409a16),draggedSvgElement[_0x2633b7(0x4a6)](null,'y',_0x223e97);}}function endDrag(_0x5dbbea){draggedSvgElement=null;}function handleSvgEditClick(_0x37f6f9){const _0x21cbb5=_0x448927;if(_0x37f6f9[_0x21cbb5(0x364)][_0x21cbb5(0x82f)][_0x21cbb5(0xb15)](_0x21cbb5(0x33f))){const _0x186109=_0x37f6f9['target']['dataset'][_0x21cbb5(0x25d)],_0x2730f8=_0x37f6f9[_0x21cbb5(0x751)],_0x290439=_0x2730f8[_0x21cbb5(0x877)]('#'+_0x186109);_0x290439&&_0x290439[_0x21cbb5(0xa1f)](),_0x37f6f9[_0x21cbb5(0x364)][_0x21cbb5(0xa1f)]();}}function handleEditQuestion(_0x4ae272){const _0xc81cd1=_0x448927,_0x5ddfc3=_0x4ae272['currentTarget'],_0x2c17ef=_0x5ddfc3['dataset'][_0xc81cd1(0xfd)],_0x22bf38=currentQuizData[_0xc81cd1(0x677)][_0x2c17ef],_0x3e8f73=document[_0xc81cd1(0xb18)](_0xc81cd1(0x9cd)+_0x2c17ef),_0x54c7d2=document[_0xc81cd1(0xb18)]('q-explanation-'+_0x2c17ef),_0x540ab3=document[_0xc81cd1(0xb18)](_0xc81cd1(0xe1)+_0x2c17ef);if(_0x5ddfc3[_0xc81cd1(0x5f4)]['includes'](_0xc81cd1(0xe0b))){_0x5ddfc3['innerHTML']=_0xc81cd1(0xa23),_0x5ddfc3[_0xc81cd1(0xb24)]=_0xc81cd1(0x8b0);if(_0x3e8f73)_0x3e8f73[_0xc81cd1(0x3c0)]=!![];if(_0x54c7d2)_0x54c7d2[_0xc81cd1(0x3c0)]=!![];if(_0x540ab3){const _0x2f26b0=_0x540ab3[_0xc81cd1(0x877)](_0xc81cd1(0x9df));if(_0x2f26b0){const _0x48a437=_0x2f26b0[_0xc81cd1(0xccb)](_0xc81cd1(0xcfd));_0x48a437[_0xc81cd1(0x157)]((_0x3e1185,_0x4d6bd7)=>{const _0x307f06=_0xc81cd1,_0x2a6b68=_0x307f06(0xc06)+_0x2c17ef+'-'+_0x4d6bd7;_0x3e1185['id']=_0x2a6b68,_0x3e1185[_0x307f06(0x82f)][_0x307f06(0x24b)](_0x307f06(0x138)),_0x3e1185[_0x307f06(0xbaf)][_0x307f06(0x744)]='move';const _0x52b0e0=document[_0x307f06(0x4ab)](_0x307f06(0x65f),'circle'),_0x336217=_0x3e1185[_0x307f06(0x854)]();_0x52b0e0['setAttribute']('cx',String(_0x336217['x']+_0x336217[_0x307f06(0x5ff)]+0x5)),_0x52b0e0[_0x307f06(0xd6f)]('cy',String(_0x336217['y']+_0x336217['height']/0x2-0x5)),_0x52b0e0[_0x307f06(0xd6f)]('r','5'),_0x52b0e0[_0x307f06(0xd6f)](_0x307f06(0xb8d),_0x307f06(0x16a)),_0x52b0e0['setAttribute'](_0x307f06(0x28c),_0x307f06(0x33f)),_0x52b0e0['dataset'][_0x307f06(0x25d)]=_0x2a6b68,_0x3e1185[_0x307f06(0x4fd)](_0x52b0e0);}),_0x2f26b0['addEventListener']('mousedown',startDrag),_0x2f26b0[_0xc81cd1(0xcc)]('mousemove',drag),_0x2f26b0[_0xc81cd1(0xcc)](_0xc81cd1(0x7ed),endDrag),_0x2f26b0[_0xc81cd1(0xcc)](_0xc81cd1(0x938),endDrag),_0x2f26b0[_0xc81cd1(0xcc)](_0xc81cd1(0x923),startDrag,{'passive':![]}),_0x2f26b0[_0xc81cd1(0xcc)](_0xc81cd1(0x785),drag,{'passive':![]}),_0x2f26b0[_0xc81cd1(0xcc)]('touchend',endDrag),_0x2f26b0[_0xc81cd1(0xcc)](_0xc81cd1(0x5b9),endDrag),_0x2f26b0['addEventListener']('click',handleSvgEditClick);}}if(_0x3e8f73)_0x3e8f73[_0xc81cd1(0x2e8)]();}else{_0x5ddfc3['innerHTML']=_0xc81cd1(0xbd6),_0x5ddfc3[_0xc81cd1(0xb24)]=_0xc81cd1(0x999);if(_0x3e8f73){_0x3e8f73['contentEditable']=![];const _0x516c21=_0x22bf38[_0xc81cd1(0x3e6)]||currentQuizData[_0xc81cd1(0xafc)];_0x516c21==='matching_item'?_0x22bf38[_0xc81cd1(0xc35)]=_0x3e8f73['innerText'][_0xc81cd1(0x162)](_0x3e8f73[_0xc81cd1(0x3cc)]['indexOf']('.')+0x2)[_0xc81cd1(0xb5b)]():_0x22bf38['questionText']=_0x3e8f73[_0xc81cd1(0x3cc)][_0xc81cd1(0x162)](_0x3e8f73[_0xc81cd1(0x3cc)][_0xc81cd1(0x5c9)]('.')+0x2)[_0xc81cd1(0xb5b)]();}_0x54c7d2&&(_0x54c7d2['contentEditable']=![],_0x22bf38['explanation']=_0x54c7d2[_0xc81cd1(0x3cc)]);if(_0x540ab3){const _0x20d125=_0x540ab3['querySelector'](_0xc81cd1(0x9df));if(_0x20d125){const _0x544c83=_0x20d125[_0xc81cd1(0xcb9)](!![]);_0x544c83[_0xc81cd1(0xccb)](_0xc81cd1(0x8ad))['forEach'](_0x32e74a=>_0x32e74a[_0xc81cd1(0xa1f)]()),_0x544c83[_0xc81cd1(0xccb)](_0xc81cd1(0xc56))['forEach'](_0x438171=>{const _0x5c0cac=_0xc81cd1;_0x438171[_0x5c0cac(0x82f)][_0x5c0cac(0xa1f)](_0x5c0cac(0x138)),_0x438171[_0x5c0cac(0xbaf)][_0x5c0cac(0x744)]=_0x5c0cac(0x444),_0x438171['removeAttribute']('id');}),_0x22bf38[_0xc81cd1(0x6a5)]=_0x544c83[_0xc81cd1(0x281)],_0x20d125[_0xc81cd1(0xcec)](_0xc81cd1(0xb4d),startDrag),_0x20d125['removeEventListener'](_0xc81cd1(0x797),drag),_0x20d125[_0xc81cd1(0xcec)](_0xc81cd1(0x7ed),endDrag),_0x20d125[_0xc81cd1(0xcec)](_0xc81cd1(0x938),endDrag),_0x20d125['removeEventListener'](_0xc81cd1(0x923),startDrag),_0x20d125[_0xc81cd1(0xcec)](_0xc81cd1(0x785),drag),_0x20d125[_0xc81cd1(0xcec)](_0xc81cd1(0x78b),endDrag),_0x20d125['removeEventListener']('touchcancel',endDrag),_0x20d125['removeEventListener'](_0xc81cd1(0x8b2),handleSvgEditClick),_0x20d125['querySelectorAll'](_0xc81cd1(0x8ad))['forEach'](_0x4aa5d9=>_0x4aa5d9['remove']()),_0x20d125[_0xc81cd1(0xccb)](_0xc81cd1(0xc56))[_0xc81cd1(0x157)](_0x12e862=>{const _0x522fec=_0xc81cd1;_0x12e862[_0x522fec(0x82f)]['remove'](_0x522fec(0x138)),_0x12e862[_0x522fec(0xbaf)]['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x105dbb){const _0x2f69de=_0x448927,_0x21b409=document[_0x2f69de(0xb18)](_0x2f69de(0x969)),_0x370809=document[_0x2f69de(0xb18)]('quiz-editor-questions-container');_0x370809['innerHTML']=_0x2f69de(0x34b),_0x21b409['classList']['remove']('hidden');try{const _0x25873e=doc(db,_0x2f69de(0xa76)+appId+_0x2f69de(0xc34),_0x105dbb),_0xafca71=await getDoc(_0x25873e);if(!_0xafca71['exists']())throw new Error(_0x2f69de(0x344));currentEditingQuizData={'id':_0x105dbb,..._0xafca71[_0x2f69de(0xa8e)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x370df5){console[_0x2f69de(0x17d)](_0x2f69de(0x3a6),_0x370df5),showMessage(_0x2f69de(0x31d)),_0x21b409['classList'][_0x2f69de(0x24b)](_0x2f69de(0x5a9));}}function renderQuizEditor(_0x577d89){const _0x4bedeb=_0x448927;document[_0x4bedeb(0xb18)](_0x4bedeb(0x674))[_0x4bedeb(0x52d)]=_0x577d89[_0x4bedeb(0xda1)];const _0x4d7fb2=document[_0x4bedeb(0xb18)](_0x4bedeb(0x180));let _0x5ab62d=_0x577d89[_0x4bedeb(0x677)][_0x4bedeb(0xad5)]((_0x3924f4,_0x4f7900)=>{const _0x10642a=_0x4bedeb;let _0x196e14='';const _0x194f8f=_0x3924f4[_0x10642a(0x3e6)]||_0x577d89[_0x10642a(0xafc)],_0x476cf2=(_0x194f8f===_0x10642a(0x706)||_0x194f8f===_0x10642a(0x2ad))&&_0x3924f4[_0x10642a(0x6ca)]&&_0x3924f4['options'][_0x10642a(0xab1)]>0x0;switch(_0x194f8f){case _0x10642a(0x232):const _0x22af03=(_0x3924f4[_0x10642a(0x6ca)]||[])['map']((_0x22d201,_0x2cf634)=>_0x10642a(0x3bf)+_0x4f7900+_0x10642a(0x7cc)+_0x2cf634+'\x22\x20'+(_0x2cf634===_0x3924f4[_0x10642a(0x662)]?_0x10642a(0x2f1):'')+_0x10642a(0x5db)+_0x22d201+_0x10642a(0x826))['join']('');_0x196e14=_0x10642a(0x456)+_0x22af03+_0x10642a(0x1e7);break;case _0x10642a(0x2ad):case'short_answer':_0x196e14=_0x10642a(0x609)+(_0x3924f4[_0x10642a(0xcac)]||'')+_0x10642a(0xbe7);if(_0x476cf2){const _0x1e9a60=(_0x3924f4['options']||[])[_0x10642a(0xad5)]((_0x345cf7,_0x971d9d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-'+_0x4f7900+_0x10642a(0x7cc)+_0x971d9d+'\x22\x20'+(_0x971d9d===_0x3924f4[_0x10642a(0x662)]?'checked':'')+'\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x345cf7+'\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x10642a(0x222)]('');_0x196e14+=_0x10642a(0xf8)+_0x1e9a60+_0x10642a(0x595);}break;case _0x10642a(0xab0):_0x196e14=_0x10642a(0xbd7)+_0x4f7900+_0x10642a(0x8e9)+(_0x3924f4[_0x10642a(0xaf4)]===!![]?_0x10642a(0x2f1):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x4f7900+'\x22\x20value=\x22false\x22\x20'+(_0x3924f4[_0x10642a(0xaf4)]===![]?_0x10642a(0x2f1):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x10642a(0x632):_0x196e14='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x3924f4[_0x10642a(0x993)]||'')+_0x10642a(0x2c6);break;}let _0xb757df=_0x3924f4[_0x10642a(0xb3b)]||_0x3924f4['stem']||'';_0xb757df=_0xb757df[_0x10642a(0x572)](/<br\s*\/?>/gi,'\x0a');let _0x2584fa='';if(_0x194f8f==='multiple_choice')_0x2584fa=_0x10642a(0x436);else _0x476cf2&&(_0x2584fa=_0x10642a(0xc3f));return _0x10642a(0xaa8)+_0x4f7900+'\x22\x20data-q-type=\x22'+_0x194f8f+_0x10642a(0x3df)+_0x2584fa+_0x10642a(0x996)+(_0x4f7900+0x1)+'\x20('+_0x194f8f+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0xb757df+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x196e14+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4bedeb(0x222)]('');_0x4d7fb2['innerHTML']=_0x5ab62d;const _0x14580a=_0x4bedeb(0x1a3);_0x4d7fb2[_0x4bedeb(0x4c3)]('beforeend',_0x14580a),_0x4d7fb2['querySelectorAll'](_0x4bedeb(0x4c1))[_0x4bedeb(0x157)](_0x279bff=>{const _0x1a8777=_0x4bedeb;_0x279bff[_0x1a8777(0xbaf)]['overflowY']=_0x1a8777(0x5a9),_0x279bff['style']['minHeight']=_0x1a8777(0x9a5),_0x279bff[_0x1a8777(0x10e)]=0x4;const _0x1ff75f=()=>{const _0x1e3e76=_0x1a8777;_0x279bff[_0x1e3e76(0xbaf)]['height']=_0x1e3e76(0x21d),_0x279bff[_0x1e3e76(0xbaf)]['height']=_0x279bff[_0x1e3e76(0xae9)]+'px';};_0x279bff[_0x1a8777(0xcc)](_0x1a8777(0xade),_0x1ff75f),_0x1ff75f();}),_0x4d7fb2[_0x4bedeb(0xccb)](_0x4bedeb(0x2b3))[_0x4bedeb(0x157)](_0x5e4696=>{const _0x2d2b27=_0x4bedeb;_0x5e4696[_0x2d2b27(0xcc)]('click',handleAiFixQuestion);}),_0x4d7fb2[_0x4bedeb(0xccb)]('.ai-fix-formula-btn')['forEach'](_0x4a0af9=>{const _0x45f0b2=_0x4bedeb;_0x4a0af9[_0x45f0b2(0xcc)](_0x45f0b2(0x8b2),_0x5ea307=>{const _0x1773ad=_0x45f0b2,_0x144698=parseInt(_0x5ea307[_0x1773ad(0x751)][_0x1773ad(0xb09)](_0x1773ad(0x8fd))[_0x1773ad(0xcd1)]['qIndex'],0xa);handleAiFixFormula(_0x144698);});}),_0x4d7fb2[_0x4bedeb(0xccb)](_0x4bedeb(0x7c6))[_0x4bedeb(0x157)](_0x14be4b=>{const _0x4ba70e=_0x4bedeb;_0x14be4b[_0x4ba70e(0xcc)](_0x4ba70e(0x8b2),_0x22d662=>{const _0xfbd51e=_0x4ba70e,_0x21a28d=parseInt(_0x22d662[_0xfbd51e(0x751)][_0xfbd51e(0xb09)](_0xfbd51e(0x8fd))[_0xfbd51e(0xcd1)]['qIndex'],0xa);handleToggleHiddenOptions(_0x21a28d);});});}function handleToggleHiddenOptions(_0x461e84){const _0x3b56e7=_0x448927;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x461e84])return;const _0x4e3fca=currentEditingQuizData['questions'][_0x461e84],_0x4a3ade=_0x4e3fca[_0x3b56e7(0x3e6)]||_0x3b56e7(0x232),_0x41c14e=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x461e84+'\x22]');if(_0x41c14e){_0x4e3fca[_0x3b56e7(0xb3b)]=_0x41c14e['querySelector'](_0x3b56e7(0xe37))[_0x3b56e7(0x52d)];if(_0x4a3ade==='multiple_choice'){const _0xb11e87=_0x41c14e[_0x3b56e7(0xccb)]('.option-input');_0x4e3fca[_0x3b56e7(0x6ca)]=Array['from'](_0xb11e87)['map'](_0x14dba6=>_0x14dba6['value']);const _0x57cdf3=_0x41c14e[_0x3b56e7(0x877)](_0x3b56e7(0xfe));if(_0x57cdf3)_0x4e3fca[_0x3b56e7(0x662)]=parseInt(_0x57cdf3[_0x3b56e7(0x52d)]);}else{if(_0x4a3ade===_0x3b56e7(0x706)||_0x4a3ade==='fill_in_no_choices'){const _0x4ef2f6=_0x41c14e['querySelector'](_0x3b56e7(0x68d));if(_0x4ef2f6)_0x4e3fca[_0x3b56e7(0xcac)]=_0x4ef2f6[_0x3b56e7(0x52d)];const _0x545e6e=_0x41c14e[_0x3b56e7(0xccb)]('.hidden-option-input');_0x545e6e[_0x3b56e7(0xab1)]>0x0&&(_0x4e3fca[_0x3b56e7(0x6ca)]=Array[_0x3b56e7(0x2ce)](_0x545e6e)[_0x3b56e7(0xad5)](_0x51072f=>_0x51072f['value']));}}}_0x4a3ade==='multiple_choice'?(_0x4e3fca[_0x3b56e7(0x3e6)]=_0x3b56e7(0x706),_0x4e3fca[_0x3b56e7(0x6ca)]&&_0x4e3fca[_0x3b56e7(0x662)]!==undefined&&(_0x4e3fca['idealAnswer']=_0x4e3fca[_0x3b56e7(0x6ca)][_0x4e3fca[_0x3b56e7(0x662)]]||'')):_0x4e3fca[_0x3b56e7(0x3e6)]='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x20d257){const _0x2ce3a3=_0x448927;if(!currentEditingQuizData||!currentEditingQuizData[_0x2ce3a3(0x677)][_0x20d257])return;const _0x294bae=currentEditingQuizData['questions'][_0x20d257][_0x2ce3a3(0xb3b)]||currentEditingQuizData[_0x2ce3a3(0x677)][_0x20d257][_0x2ce3a3(0xc35)];showConfirmation(_0x2ce3a3(0x6e8)+(_0x20d257+0x1)+_0x2ce3a3(0x252)+_0x294bae[_0x2ce3a3(0x162)](0x0,0x14)+_0x2ce3a3(0x3f0),()=>{const _0x29bb9f=_0x2ce3a3;currentEditingQuizData[_0x29bb9f(0x677)][_0x29bb9f(0x982)](_0x20d257,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x29bb9f(0x552));});}function handleAddQuestionInEditor(){const _0x1a015f=_0x448927;if(!currentEditingQuizData)return;const _0x200c4c=document[_0x1a015f(0xb18)](_0x1a015f(0x6e1)),_0xb2032b=_0x200c4c?_0x200c4c[_0x1a015f(0x52d)]:_0x1a015f(0x232);let _0x3c9fe={'id':'q_'+Date[_0x1a015f(0xd02)]()+_0x1a015f(0x3f8),'questionType':_0xb2032b,'questionText':_0x1a015f(0xdf0),'explanation':_0x1a015f(0x851)};switch(_0xb2032b){case'multiple_choice':_0x3c9fe[_0x1a015f(0x6ca)]=[_0x1a015f(0x640),_0x1a015f(0x6bd),_0x1a015f(0x3ce),_0x1a015f(0x790)],_0x3c9fe['correctAnswerIndex']=0x0;break;case _0x1a015f(0x706):case'fill_in_no_choices':_0x3c9fe[_0x1a015f(0xcac)]=_0x1a015f(0x8cf);break;case _0x1a015f(0xab0):_0x3c9fe[_0x1a015f(0xaf4)]=!![];break;case _0x1a015f(0x632):_0x3c9fe[_0x1a015f(0xc35)]=_0x1a015f(0xd6),_0x3c9fe['correctResponse']='คู่คำตอบ...',_0x3c9fe[_0x1a015f(0xb3b)]='คำถาม...';break;}currentEditingQuizData[_0x1a015f(0x677)][_0x1a015f(0x626)](_0x3c9fe),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x25d07b=_0x1a015f,_0x1bc876=document['querySelector'](_0x25d07b(0xb1));if(_0x1bc876){_0x1bc876[_0x25d07b(0xaa3)]({'behavior':_0x25d07b(0x31b),'block':'center'});const _0x3f20f7=_0x1bc876[_0x25d07b(0x877)](_0x25d07b(0xe37));if(_0x3f20f7)_0x3f20f7[_0x25d07b(0x2e8)]();}},0x64);}async function handleAiFixQuestion(_0x971b0c){const _0x3b169d=_0x448927,_0x495f26=_0x971b0c[_0x3b169d(0x751)],_0x33acf9=_0x495f26[_0x3b169d(0xb09)]('.question-editor-item');if(!_0x33acf9)return;const _0x337a99=parseInt(_0x33acf9['dataset'][_0x3b169d(0x608)],0xa);if(isNaN(_0x337a99)||!currentEditingQuizData[_0x3b169d(0x677)][_0x337a99]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x1b15ce=currentEditingQuizData[_0x3b169d(0x677)][_0x337a99];_0x495f26[_0x3b169d(0x5f4)]=_0x3b169d(0x6a3),_0x495f26['disabled']=!![];const _0x3672e0=_0x3b169d(0x89e)+JSON[_0x3b169d(0x7cd)](_0x1b15ce)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x2f6de1;const _0x4fbdb0=_0x1b15ce[_0x3b169d(0x3e6)]||currentEditingQuizData[_0x3b169d(0xafc)];switch(_0x4fbdb0){case _0x3b169d(0x706):_0x2f6de1={'type':_0x3b169d(0x16b),'properties':{'questionText':{'type':_0x3b169d(0x60a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3b169d(0x60a)},'imageCode':{'type':_0x3b169d(0x60a)}},'required':['questionText',_0x3b169d(0xcac),_0x3b169d(0x749)]};break;case _0x3b169d(0x232):default:_0x2f6de1={'type':'OBJECT','properties':{'questionText':{'type':_0x3b169d(0x60a)},'options':{'type':_0x3b169d(0x5b3),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3b169d(0x60a)}},'required':[_0x3b169d(0xb3b),_0x3b169d(0x6ca),_0x3b169d(0x662),_0x3b169d(0x749)]};break;}try{let _0x1446c8=await callAnalysisApi(_0x3672e0,_0x2f6de1);_0x1446c8[_0x3b169d(0x6ca)]&&Array[_0x3b169d(0xbf1)](_0x1446c8[_0x3b169d(0x6ca)])&&(_0x1446c8['options']=_0x1446c8[_0x3b169d(0x6ca)][_0x3b169d(0xad5)](_0x5b6472=>typeof _0x5b6472===_0x3b169d(0xdc5)?_0x5b6472[_0x3b169d(0x572)](/S(\s*[\d_]+?\s*)S/g,_0x3b169d(0x884)):_0x5b6472)),_0x1b15ce[_0x3b169d(0x6a5)]&&_0x1b15ce[_0x3b169d(0x6a5)][_0x3b169d(0x2e7)](_0x3b169d(0x372))&&(_0x1446c8[_0x3b169d(0x6a5)]=''),currentEditingQuizData[_0x3b169d(0x677)][_0x337a99]={..._0x1b15ce,..._0x1446c8},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x22fd56){console['error'](_0x3b169d(0xe0e),_0x22fd56),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1d1d80=_0x448927,_0x32df95=document[_0x1d1d80(0xb18)](_0x1d1d80(0x164));_0x32df95[_0x1d1d80(0x64b)]=!![],_0x32df95[_0x1d1d80(0x5f4)]=_0x1d1d80(0x45a);try{const _0x5b5fb8=document[_0x1d1d80(0xb18)](_0x1d1d80(0x674))[_0x1d1d80(0x52d)],_0x55715d=document['querySelectorAll']('.question-editor-item');let _0xa255c3=[];const _0x4aceaa=Array[_0x1d1d80(0x2ce)](_0x55715d)[_0x1d1d80(0xad5)]((_0x2df9f4,_0x3e64d0)=>{const _0x1a1a0e=_0x1d1d80,_0x425eb5=_0x2df9f4[_0x1a1a0e(0xcd1)][_0x1a1a0e(0x83b)],_0x4fd638=_0x2df9f4[_0x1a1a0e(0x877)]('textarea')[_0x1a1a0e(0x52d)][_0x1a1a0e(0x572)](/\n/g,'<br>');let _0xae1ad={'questionType':_0x425eb5};const _0x4e6049=currentEditingQuizData[_0x1a1a0e(0x677)][_0x3e64d0]||{};switch(_0x425eb5){case _0x1a1a0e(0x232):_0xae1ad[_0x1a1a0e(0xb3b)]=_0x4fd638;const _0x260a79=_0x2df9f4['querySelectorAll'](_0x1a1a0e(0x3b5));_0xae1ad[_0x1a1a0e(0x6ca)]=Array[_0x1a1a0e(0x2ce)](_0x260a79)['map'](_0xdf13ee=>_0xdf13ee[_0x1a1a0e(0x52d)]);const _0x2c890c=_0x2df9f4[_0x1a1a0e(0x877)](_0x1a1a0e(0xfe));_0xae1ad[_0x1a1a0e(0x662)]=_0x2c890c?parseInt(_0x2c890c['value']):0x0;break;case _0x1a1a0e(0x2ad):case _0x1a1a0e(0x706):_0xae1ad[_0x1a1a0e(0xb3b)]=_0x4fd638,_0xae1ad[_0x1a1a0e(0xcac)]=_0x2df9f4[_0x1a1a0e(0x877)](_0x1a1a0e(0x68d))[_0x1a1a0e(0x52d)];const _0x133134=_0x2df9f4['querySelectorAll'](_0x1a1a0e(0x133));_0x133134[_0x1a1a0e(0xab1)]>0x0?(_0xae1ad[_0x1a1a0e(0x6ca)]=Array[_0x1a1a0e(0x2ce)](_0x133134)[_0x1a1a0e(0xad5)](_0x57cf50=>_0x57cf50['value']),_0x4e6049[_0x1a1a0e(0x662)]!==undefined?_0xae1ad[_0x1a1a0e(0x662)]=_0x4e6049['correctAnswerIndex']:_0xae1ad[_0x1a1a0e(0x662)]=0x0):(delete _0xae1ad[_0x1a1a0e(0x6ca)],delete _0xae1ad['correctAnswerIndex']);break;case _0x1a1a0e(0xab0):_0xae1ad['questionText']=_0x4fd638;const _0x154210=_0x2df9f4[_0x1a1a0e(0x877)]('input[type=\x22radio\x22]:checked');_0xae1ad[_0x1a1a0e(0xaf4)]=_0x154210?_0x154210[_0x1a1a0e(0x52d)]===_0x1a1a0e(0xd3d):!![];break;case _0x1a1a0e(0x632):_0xae1ad['stem']=_0x4fd638;const _0x87d71=_0x2df9f4[_0x1a1a0e(0x877)](_0x1a1a0e(0xd9d));_0xae1ad[_0x1a1a0e(0x993)]=_0x87d71?_0x87d71['value']:'',_0xa255c3[_0x1a1a0e(0x626)](_0xae1ad['correctResponse']);break;default:_0xae1ad['questionText']=_0x4fd638;break;}return{..._0x4e6049,..._0xae1ad};});_0xa255c3[_0x1d1d80(0xab1)]>0x0&&_0x4aceaa[_0x1d1d80(0x157)](_0x6e4514=>{const _0xfb238f=_0x1d1d80;_0x6e4514[_0xfb238f(0x3e6)]===_0xfb238f(0x632)&&(_0x6e4514[_0xfb238f(0x320)]=_0xa255c3);});const _0x1695ba=currentEditingQuizData['id'],_0x14e5e9=doc(db,_0x1d1d80(0xa76)+appId+_0x1d1d80(0xc34),_0x1695ba);await updateDoc(_0x14e5e9,{'topic':_0x5b5fb8,'questions':_0x4aceaa}),document[_0x1d1d80(0xb18)](_0x1d1d80(0x969))[_0x1d1d80(0x82f)][_0x1d1d80(0x24b)](_0x1d1d80(0x5a9)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x1695ba));}catch(_0x1a6d85){console[_0x1d1d80(0x17d)](_0x1d1d80(0x6c9),_0x1a6d85),showMessage(_0x1d1d80(0x3b8));}finally{_0x32df95[_0x1d1d80(0x64b)]=![],_0x32df95[_0x1d1d80(0x5f4)]=_0x1d1d80(0x9cf);}}async function initiateReGradeProcess(_0x50ecac){const _0xf2e7d0=_0x448927;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x4aa7fd=doc(db,_0xf2e7d0(0xa76)+appId+_0xf2e7d0(0xc34),_0x50ecac),_0x432a19=await getDoc(_0x4aa7fd);if(!_0x432a19[_0xf2e7d0(0x14d)]())throw new Error(_0xf2e7d0(0xc44));const _0x5022c0={'id':_0x50ecac,..._0x432a19[_0xf2e7d0(0xa8e)]()},_0x3b3aea=collection(db,_0xf2e7d0(0xa76)+appId+_0xf2e7d0(0xc34),_0x50ecac,_0xf2e7d0(0xdf5)),_0x2fba8e=await getDocs(_0x3b3aea);if(_0x2fba8e['empty']){showMessage(_0xf2e7d0(0x1a5));return;}const _0x4b6d8e=_0x2fba8e[_0xf2e7d0(0x18c)]['map'](_0x254305=>reGradeSingleSubmission(_0x254305,_0x5022c0));await Promise[_0xf2e7d0(0xd05)](_0x4b6d8e);if(_0x5022c0[_0xf2e7d0(0x111)]){const _0x52170c=doc(db,_0xf2e7d0(0xa76)+appId+_0xf2e7d0(0x945),_0x5022c0[_0xf2e7d0(0x111)]),_0x42497f=await getDoc(_0x52170c);if(_0x42497f[_0xf2e7d0(0x14d)]()&&_0x42497f[_0xf2e7d0(0xa8e)]()[_0xf2e7d0(0x115)]){const _0x5b17e9=_0x42497f[_0xf2e7d0(0xa8e)]()['students'][_0xf2e7d0(0xad5)](_0x118694=>updateStudentProfile(_0x5022c0[_0xf2e7d0(0x111)],_0x118694));await Promise[_0xf2e7d0(0xd05)](_0x5b17e9);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x2fba8e[_0xf2e7d0(0x1f9)]+_0xf2e7d0(0x81c));}catch(_0x252a11){console['error'](_0xf2e7d0(0x2f7),_0x252a11),showMessage(_0xf2e7d0(0xb58)+_0x252a11[_0xf2e7d0(0x550)]);}}async function reGradeSingleSubmission(_0x475891,_0x5ea712){const _0x2840a3=_0x448927,_0x20779c=_0x475891[_0x2840a3(0xa8e)](),_0x2f5ea1=_0x20779c[_0x2840a3(0x652)],_0x31c519=_0x20779c[_0x2840a3(0x975)]||[],_0x223251=[];for(const _0x497d56 of _0x31c519){let _0x338a12=0x0,_0x23b3de=[],_0x11f6d7=0x0;const _0x3f5d7f=[];for(const _0x17487f of _0x497d56['answers']){let _0x3f5aaa;_0x17487f[_0x2840a3(0xd56)]&&(_0x3f5aaa=_0x5ea712[_0x2840a3(0x677)]['find'](_0x360f85=>_0x360f85['id']===_0x17487f[_0x2840a3(0xd56)]));!_0x3f5aaa&&_0x17487f[_0x2840a3(0x29a)]&&(_0x3f5aaa=_0x5ea712[_0x2840a3(0x677)]['find'](_0x1121a0=>(_0x1121a0[_0x2840a3(0xc35)]||_0x1121a0[_0x2840a3(0xb3b)])===_0x17487f[_0x2840a3(0x29a)]));let _0x2dbc85=![];if(_0x3f5aaa){const _0xde5d82=_0x3f5aaa[_0x2840a3(0x3e6)]||_0x5ea712[_0x2840a3(0xafc)];switch(_0xde5d82){case'multiple_choice':if(_0x3f5aaa[_0x2840a3(0x6ca)]&&_0x3f5aaa[_0x2840a3(0x662)]<_0x3f5aaa[_0x2840a3(0x6ca)][_0x2840a3(0xab1)]){const _0x15871d=_0x3f5aaa[_0x2840a3(0x6ca)][_0x3f5aaa['correctAnswerIndex']];_0x2dbc85=_0x17487f['answerText']===_0x15871d;}break;case _0x2840a3(0xab0):const _0x5000c4=_0x17487f['answer']===!![]||_0x17487f[_0x2840a3(0x71e)]===_0x2840a3(0xd3d);_0x2dbc85=_0x5000c4===_0x3f5aaa[_0x2840a3(0xaf4)];break;case _0x2840a3(0x632):_0x2dbc85=_0x17487f['answer']===_0x3f5aaa['correctResponse'];break;case _0x2840a3(0x706):_0x2dbc85=await gradeShortAnswer(_0x17487f['answer'],_0x3f5aaa);break;default:_0x2dbc85=_0x17487f[_0x2840a3(0xc26)];break;}}if(_0x2dbc85){_0x338a12++,_0x11f6d7++;if(_0x11f6d7===0x3)_0x23b3de[_0x2840a3(0x626)](BADGES['ON_FIRE']['id']);}else _0x11f6d7=0x0;_0x3f5d7f[_0x2840a3(0x626)]({..._0x17487f,'isCorrect':_0x2dbc85});}let _0x3ae2a5=0x0;const _0x5900d4=_0x497d56[_0x2840a3(0x12a)]===!![]||_0x497d56[_0x2840a3(0xbcd)]>_0x5ea712[_0x2840a3(0x677)][_0x2840a3(0xab1)]*0x14;_0x5900d4?_0x3ae2a5=_0x497d56['points']:(_0x3ae2a5=_0x338a12*0xa,_0x338a12===_0x5ea712[_0x2840a3(0x677)][_0x2840a3(0xab1)]&&(_0x3ae2a5+=0x32,_0x23b3de['push'](BADGES[_0x2840a3(0x446)]['id']))),_0x223251[_0x2840a3(0x626)]({..._0x497d56,'score':_0x338a12,'points':_0x3ae2a5,'badges':Array['from'](new Set(_0x23b3de)),'answers':_0x3f5d7f});}const _0x21f1ae=_0x223251['length']>0x0?_0x223251[0x0]['score']:0x0,_0x375063=Math[_0x2840a3(0x90d)](..._0x223251[_0x2840a3(0xad5)](_0x5db94b=>_0x5db94b[_0x2840a3(0x87c)])),_0x4ef76b=_0x223251[_0x2840a3(0xab1)]>0x0?_0x223251[_0x223251['length']-0x1][_0x2840a3(0x87c)]:0x0,_0xd25c1a=_0x223251['length']>0x0?_0x223251[_0x223251[_0x2840a3(0xab1)]-0x1][_0x2840a3(0xbcd)]:0x0,_0x1729a2=doc(db,_0x2840a3(0xa76)+appId+_0x2840a3(0xb87)+_0x5ea712['id']+_0x2840a3(0xd90),_0x2f5ea1);await updateDoc(_0x1729a2,{'attempts':_0x223251,'firstScore':_0x21f1ae,'bestScore':_0x375063,'latestScore':_0x4ef76b,'points':_0xd25c1a});}function cleanupQuizOptions(_0x1ed72d){const _0xc0d0f1=_0x448927,_0x1c8194=(_0x37a239,_0x10cff6)=>_0x10cff6===0x0?_0x37a239:_0x1c8194(_0x10cff6,_0x37a239%_0x10cff6),_0x257c1f=_0xbca917=>{const _0xcdcc34=_0x2e12;if(typeof _0xbca917!=='string')return null;_0xbca917=_0xbca917[_0xcdcc34(0xb5b)]();const _0x1775f0=_0xbca917['split'](/[ /]/)[_0xcdcc34(0x955)](_0x40d9de=>_0x40d9de!=='');if(_0x1775f0[_0xcdcc34(0xab1)]===0x3)return parseInt(_0x1775f0[0x0])+parseInt(_0x1775f0[0x1])/parseInt(_0x1775f0[0x2]);else{if(_0x1775f0[_0xcdcc34(0xab1)]===0x2)return parseInt(_0x1775f0[0x0])/parseInt(_0x1775f0[0x1]);else{if(_0x1775f0[_0xcdcc34(0xab1)]===0x1&&!isNaN(_0x1775f0[0x0]))return parseFloat(_0x1775f0[0x0]);}}return null;},_0xd7d30d=_0x22d534=>{const _0x51c33b=_0x2e12;if(typeof _0x22d534!=='string')return _0x22d534;const _0x216752=_0x22d534[_0x51c33b(0xcdc)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x216752){const _0x24be22=parseInt(_0x216752[0x1]);let _0x2481ea=parseInt(_0x216752[0x2]),_0x2a931c=parseInt(_0x216752[0x3]);const _0xb254b2=_0x1c8194(_0x2481ea,_0x2a931c);_0x2481ea/=_0xb254b2,_0x2a931c/=_0xb254b2;if(_0x2a931c===0x1)return(_0x24be22+_0x2481ea)[_0x51c33b(0x377)]();return _0x24be22+'\x20'+_0x2481ea+'/'+_0x2a931c;}return _0x22d534;};return _0x1ed72d&&_0x1ed72d[_0xc0d0f1(0x677)]&&_0x1ed72d['questions']['forEach'](_0x4d877e=>{const _0x5d8445=_0xc0d0f1;if(_0x4d877e['questionType']===_0x5d8445(0x232)&&_0x4d877e[_0x5d8445(0x6ca)]){const _0x1a8fca=new Map(),_0x555319=_0x4d877e['options'][_0x4d877e[_0x5d8445(0x662)]];_0x4d877e['options'][_0x5d8445(0x157)](_0x2b7ddf=>{const _0x7c1c89=_0x5d8445,_0x50a980=_0xd7d30d(_0x2b7ddf),_0xdae51d=_0x257c1f(_0x50a980);_0xdae51d!==null&&!_0x1a8fca[_0x7c1c89(0x9ae)](_0xdae51d)&&_0x1a8fca['set'](_0xdae51d,_0x50a980);}),_0x4d877e['options']=Array['from'](_0x1a8fca[_0x5d8445(0x56e)]());const _0xf8e586=_0x4d877e['options'][_0x5d8445(0xa57)](_0x20f529=>_0x20f529===_0xd7d30d(_0x555319));_0x4d877e[_0x5d8445(0x662)]=_0xf8e586!==-0x1?_0xf8e586:0x0;}}),_0x1ed72d;}function showGameStartConfirmationModal(_0x6590be,_0x52b853,_0x48dcf4){const _0x597f09=_0x448927,_0x1c5d3f=document[_0x597f09(0xb18)](_0x597f09(0x51b));document[_0x597f09(0xb18)](_0x597f09(0xb1b))[_0x597f09(0x633)]=_0x597f09(0x876)+_0x48dcf4,document[_0x597f09(0xb18)](_0x597f09(0x26e))[_0x597f09(0x52d)]=_0x6590be,document[_0x597f09(0xb18)](_0x597f09(0x2ef))['value']=_0x52b853,document['getElementById'](_0x597f09(0xfa))[_0x597f09(0x2f1)]=!![];const _0x4ad6a3=document[_0x597f09(0xb18)](_0x597f09(0x63a)),_0x2dfab5=document[_0x597f09(0xb18)](_0x597f09(0xa09)),_0x23e8e1=document['getElementById'](_0x597f09(0xda3)),_0x4838d1=document['getElementById']('black-market-settings-container'),_0x432524=document[_0x597f09(0xb18)]('anon-settings-container');if(_0x52b853===_0x597f09(0x17a)){_0x4ad6a3['classList'][_0x597f09(0xa1f)](_0x597f09(0x5a9));const _0x51bb8e=_0x597f09(0x94b);document[_0x597f09(0x877)](_0x597f09(0x9fa)+_0x51bb8e+'\x22]')[_0x597f09(0x2f1)]=!![];if(_0x432524)_0x432524[_0x597f09(0x82f)][_0x597f09(0xa1f)](_0x597f09(0x5a9));_0x2dfab5['checked']=!![],_0x23e8e1[_0x597f09(0x82f)][_0x597f09(0xa1f)]('hidden'),document[_0x597f09(0xb18)](_0x597f09(0xc6d))[_0x597f09(0x52d)]=_0x597f09(0x2c5),_0x4838d1[_0x597f09(0x82f)][_0x597f09(0xa1f)](_0x597f09(0x5a9)),document[_0x597f09(0xb18)](_0x597f09(0x8ba))[_0x597f09(0x2f1)]=!![];}else{_0x4ad6a3[_0x597f09(0x82f)][_0x597f09(0x24b)](_0x597f09(0x5a9));if(_0x432524)_0x432524[_0x597f09(0x82f)]['add']('hidden');_0x2dfab5['checked']=![],_0x23e8e1[_0x597f09(0x82f)][_0x597f09(0x24b)]('hidden'),_0x4838d1['classList'][_0x597f09(0x24b)](_0x597f09(0x5a9));}_0x1c5d3f[_0x597f09(0x82f)][_0x597f09(0xa1f)]('hidden');}async function saveGameResultsAsSubmissions(_0x4206a4){const _0x326689=_0x448927;if(_0x4206a4[_0x326689(0xd20)]){console[_0x326689(0xcad)](_0x326689(0x5b7));return;}console[_0x326689(0xcad)](_0x326689(0x9fb),_0x4206a4);const _0x57175f=_0x4206a4[_0x326689(0x802)];let _0x58ad4e=[];if(_0x4206a4[_0x326689(0xdd9)])_0x58ad4e=Object[_0x326689(0x9c3)](_0x4206a4[_0x326689(0xdd9)])[_0x326689(0xad5)](([_0x45e7b3,_0x338944])=>({'name':_0x45e7b3,..._0x338944}));else _0x4206a4['groups']&&Object[_0x326689(0x56e)](_0x4206a4[_0x326689(0xb00)])[_0x326689(0x157)](_0x3ee410=>{const _0x2098ec=_0x326689;_0x3ee410[_0x2098ec(0xd4e)][_0x2098ec(0x157)](_0x9e8c25=>{const _0x24ea80=_0x2098ec;_0x58ad4e[_0x24ea80(0x626)]({'name':_0x9e8c25,'score':_0x3ee410[_0x24ea80(0x87c)],'answers':_0x3ee410['answers']});});});if(_0x58ad4e[_0x326689(0xab1)]===0x0)return;const _0x4cacea=_0x4206a4[_0x326689(0xe1c)]?.[_0x326689(0x677)][_0x326689(0xab1)]||currentQuizData[_0x326689(0x677)][_0x326689(0xab1)],_0x31eecb=writeBatch(db),_0x131820=_0x4206a4[_0x326689(0xe1c)]?.[_0x326689(0x111)]||currentQuizData?.[_0x326689(0x111)]||currentProjectId,_0x3b492b={};for(const _0x4e3ceb of _0x58ad4e){const _0x5e21ed=doc(db,_0x326689(0xa76)+appId+_0x326689(0xb87)+_0x57175f+_0x326689(0xd90),_0x4e3ceb[_0x326689(0x2d2)]),_0x37fce2=(_0x4e3ceb[_0x326689(0xc70)]||[])[_0x326689(0x955)](_0x59e2b3=>_0x59e2b3['isCorrect'])['length'];let _0x202ce1=_0x4e3ceb['totalPoints']!==undefined?_0x4e3ceb[_0x326689(0xc38)]:_0x37fce2,_0x5231fb=_0x4e3ceb[_0x326689(0x4b3)]||[];if(_0x37fce2===_0x4cacea&&_0x4cacea>0x0){if(!_0x5231fb[_0x326689(0x2e7)](_0x326689(0x5ae)))_0x5231fb[_0x326689(0x626)]('perfect_score');}const _0x551d37={'score':_0x37fce2,'points':_0x202ce1,'badges':_0x5231fb,'submittedAt':new Date()['toISOString'](),'isSyncGame':!![],'answers':(_0x4e3ceb[_0x326689(0xc70)]||[])[_0x326689(0xad5)](_0x4a9dc7=>({'questionId':_0x4a9dc7[_0x326689(0xd56)],'answer':_0x4a9dc7['answer'],'answerText':_0x4a9dc7['answerText'],'isCorrect':_0x4a9dc7['isCorrect'],'originalQuestionText':_0x4a9dc7[_0x326689(0x29a)],'wasConfident':_0x4a9dc7[_0x326689(0xc3c)],'powerupUsed':_0x4a9dc7['powerupUsed']||null}))},_0x5a1093=await getDoc(_0x5e21ed),_0x31b3c8=_0x5a1093[_0x326689(0x14d)]()?_0x5a1093[_0x326689(0xa8e)]():{},_0x1ccfee=_0x31b3c8[_0x326689(0xbcd)]||0x0;let _0x7023fc=0x0;_0x202ce1>_0x1ccfee&&(_0x7023fc=_0x202ce1-_0x1ccfee);const _0x43c313={'studentName':_0x4e3ceb[_0x326689(0x2d2)],'totalQuestions':_0x4cacea,'attempts':arrayUnion(_0x551d37),'latestScore':_0x37fce2,'points':Math[_0x326689(0x90d)](_0x1ccfee,_0x202ce1),'latestSubmittedAt':_0x551d37['submittedAt'],'bestScore':Math['max'](_0x31b3c8[_0x326689(0x9a2)]||0x0,_0x37fce2),'firstScore':_0x31b3c8[_0x326689(0xb1e)]!==undefined?_0x31b3c8[_0x326689(0xb1e)]:_0x37fce2};_0x31eecb[_0x326689(0x83f)](_0x5e21ed,_0x43c313,{'merge':!![]}),_0x131820&&(!_0x3b492b[_0x4e3ceb[_0x326689(0x2d2)]]&&(_0x3b492b[_0x4e3ceb[_0x326689(0x2d2)]]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x3b492b[_0x4e3ceb[_0x326689(0x2d2)]]['pointsToAdd']+=_0x7023fc,_0x5231fb[_0x326689(0x157)](_0x1864a1=>{const _0x546dae=_0x326689;_0x3b492b[_0x4e3ceb[_0x546dae(0x2d2)]][_0x546dae(0x7f6)]['push'](_0x1864a1);}));}if(_0x131820)for(const [_0x5953ef,_0x22c1cb]of Object[_0x326689(0x9c3)](_0x3b492b)){if(_0x22c1cb[_0x326689(0xa3a)]>0x0||_0x22c1cb[_0x326689(0x7f6)][_0x326689(0xab1)]>0x0){const _0x106de4=doc(db,_0x326689(0xa76)+appId+_0x326689(0x48d)+_0x131820+_0x326689(0x15e),_0x5953ef),_0x44502a={'studentName':_0x5953ef,'totalPoints':increment(_0x22c1cb[_0x326689(0xa3a)])};_0x22c1cb[_0x326689(0x7f6)][_0x326689(0x157)](_0x32e797=>{_0x44502a['badgesCount.'+_0x32e797]=increment(0x1);}),_0x31eecb[_0x326689(0x83f)](_0x106de4,_0x44502a,{'merge':!![]});}}try{if(currentLiveGameId){const _0x32e496=doc(db,_0x326689(0xa76)+appId+'/public/data/syncGames',currentLiveGameId);_0x31eecb['update'](_0x32e496,{'resultsSaved':!![]});}await _0x31eecb['commit'](),console[_0x326689(0xcad)](_0x326689(0xc7e)),showMessage(_0x326689(0xd7f));}catch(_0xd0b1ee){console[_0x326689(0x17d)](_0x326689(0xab3),_0xd0b1ee),showMessage(_0x326689(0x4e3));}}async function saveQuiz(_0x3b70cb=null,_0x1d2ee9=null){const _0x1856ee=_0x448927,_0x1cb711=_0x3b70cb||currentProjectId;if(!_0x1cb711){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1856ee(0x677)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x134750=document[_0x1856ee(0xb18)]('save-quiz-btn');_0x134750[_0x1856ee(0x64b)]=!![],_0x134750[_0x1856ee(0x5f4)]=_0x1856ee(0x45a);const _0x5b6730=document[_0x1856ee(0xb18)](_0x1856ee(0x6aa))['checked'];let _0x6bbb35=document['getElementById'](_0x1856ee(0xc97))['innerText']['trim']();_0x5b6730&&!_0x6bbb35['startsWith'](_0x1856ee(0x341))&&(_0x6bbb35=_0x1856ee(0xe0a)+_0x6bbb35);try{const _0x4fba1c={'resultsDisplay':document[_0x1856ee(0xb18)](_0x1856ee(0x25e))[_0x1856ee(0x52d)],'shuffle':document['getElementById'](_0x1856ee(0xa58))['value'],'timerMode':document[_0x1856ee(0xb18)](_0x1856ee(0x338))[_0x1856ee(0x52d)],'timerDuration':parseInt(document['getElementById'](_0x1856ee(0xdb7))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x1856ee(0x3d8))[_0x1856ee(0x52d)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0x1856ee(0x2f1)],'loopUntilPass':document[_0x1856ee(0xb18)](_0x1856ee(0x607))['checked']},_0x3fcbcf=(currentQuizData['questions']||[])[_0x1856ee(0xad5)]((_0x3b2b92,_0xb84de3)=>{const _0x52be6b=_0x1856ee,_0x27ad37=document['getElementById'](_0x52be6b(0x617))[_0x52be6b(0x52d)],_0x47a899={'id':'q_'+Date[_0x52be6b(0xd02)]()+'_'+_0xb84de3,'questionText':_0x3b2b92['questionText']||'','explanation':_0x3b2b92[_0x52be6b(0x749)]||_0x52be6b(0x2fb),'questionType':_0x3b2b92['questionType']||_0x27ad37,'imageCode':_0x3b2b92[_0x52be6b(0x6a5)]||null};return(_0x47a899[_0x52be6b(0x3e6)]==='multiple_choice'||_0x47a899[_0x52be6b(0x3e6)]==='fill_in_with_choices'||_0x47a899[_0x52be6b(0x3e6)]===_0x52be6b(0xbb4)&&_0x3b2b92[_0x52be6b(0x6ca)])&&(_0x47a899[_0x52be6b(0x6ca)]=_0x3b2b92['options']||[],_0x47a899[_0x52be6b(0x662)]=_0x3b2b92[_0x52be6b(0x662)]!==undefined?_0x3b2b92[_0x52be6b(0x662)]:0x0),(_0x47a899[_0x52be6b(0x3e6)]===_0x52be6b(0x706)||_0x47a899[_0x52be6b(0x3e6)]===_0x52be6b(0x2ad)||_0x47a899[_0x52be6b(0x3e6)]===_0x52be6b(0xbb4)&&_0x3b2b92[_0x52be6b(0xcac)])&&(_0x47a899[_0x52be6b(0xcac)]=_0x3b2b92['idealAnswer']||''),_0x47a899[_0x52be6b(0x3e6)]==='true_false'&&(_0x47a899[_0x52be6b(0xaf4)]=_0x3b2b92[_0x52be6b(0xaf4)]===!![]),_0x47a899[_0x52be6b(0x3e6)]===_0x52be6b(0x632)&&(_0x47a899['stem']=_0x3b2b92['stem']||'',_0x47a899['correctResponse']=_0x3b2b92[_0x52be6b(0x993)]||'',_0x47a899['allResponses']=_0x3b2b92[_0x52be6b(0x320)]||[]),_0x47a899;}),_0x40fba8={'topic':_0x6bbb35,'quizType':currentQuizData[_0x1856ee(0xafc)]||_0x1856ee(0x232),'questions':_0x3fcbcf,'projectId':_0x1cb711,'createdBy':userId,'createdAt':new Date()[_0x1856ee(0xb50)](),'status':_0x1856ee(0x4f9),'settings':_0x4fba1c,'quizMode':_0x5b6730?_0x1856ee(0x500):'standard','pairedQuizId':null,'lessonPlan':null};let _0x537f7f;while(!![]){_0x537f7f=Math[_0x1856ee(0x87b)](0x3e8+Math['random']()*0x2328)[_0x1856ee(0x377)]();const _0x515b28=await getDoc(doc(db,_0x1856ee(0xa76)+appId+_0x1856ee(0xc34),_0x537f7f));if(!_0x515b28['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x1856ee(0xc34),_0x537f7f),_0x40fba8);if(_0x1d2ee9&&currentBlueprintProjectId){console[_0x1856ee(0xcad)](_0x1856ee(0x596)+_0x537f7f+'\x20to\x20blueprint\x20topic\x20'+_0x1d2ee9);try{const _0x165d04=doc(db,'artifacts/'+appId+_0x1856ee(0x5e3),currentBlueprintProjectId);await updateDoc(_0x165d04,{['topics.'+_0x1d2ee9+_0x1856ee(0x38e)]:arrayUnion(_0x537f7f)});}catch(_0x15cd16){console[_0x1856ee(0x17d)](_0x1856ee(0x882),_0x15cd16);}}currentQuizData[_0x1856ee(0xdbf)]=_0x4fba1c,currentQuizData['id']=_0x537f7f;const _0x5d630d=document[_0x1856ee(0xb18)](_0x1856ee(0xc23));_0x5d630d[_0x1856ee(0x5f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x537f7f+_0x1856ee(0xc30),document['getElementById']('copy-quiz-id-btn')[_0x1856ee(0xcc)](_0x1856ee(0x8b2),()=>copyTextToClipboard(_0x537f7f,_0x1856ee(0x704))),document[_0x1856ee(0xb18)]('start-live-race-generated-btn')['addEventListener'](_0x1856ee(0x8b2),()=>handleStartLiveRace(_0x537f7f)),document[_0x1856ee(0xb18)](_0x1856ee(0xce0))[_0x1856ee(0xcc)](_0x1856ee(0x8b2),()=>startPresentation(currentQuizData)),document[_0x1856ee(0xb18)]('admin-try-quiz-btn')[_0x1856ee(0xcc)](_0x1856ee(0x8b2),startAdminTest),showMessage(_0x1856ee(0xb90));}catch(_0x5b57bd){console[_0x1856ee(0x17d)](_0x1856ee(0x990),_0x5b57bd),showMessage(_0x1856ee(0x624));}finally{_0x134750[_0x1856ee(0x64b)]=![],_0x134750[_0x1856ee(0x5f4)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x3c66d7=_0x448927,_0x662719=document[_0x3c66d7(0xb18)](_0x3c66d7(0x948)),_0x59b166=document[_0x3c66d7(0xb18)](_0x3c66d7(0xe2c)),_0x360ef5=_0x662719[_0x3c66d7(0x877)]('h3'),_0x2768ec=document[_0x3c66d7(0xb18)](_0x3c66d7(0xc80));_0x360ef5[_0x3c66d7(0x633)]='เลือกโปรเจคเพื่อบันทึก',_0x2768ec[_0x3c66d7(0x633)]=_0x3c66d7(0x2a7);allProjects[_0x3c66d7(0xab1)]===0x0?(_0x59b166[_0x3c66d7(0x5f4)]=_0x3c66d7(0xd81),_0x2768ec[_0x3c66d7(0x64b)]=!![]):(_0x59b166[_0x3c66d7(0x5f4)]=allProjects['map'](_0x3a3590=>_0x3c66d7(0x949)+_0x3a3590['id']+'\x22>'+_0x3a3590[_0x3c66d7(0xa8f)]+_0x3c66d7(0x38c))[_0x3c66d7(0x222)](''),_0x2768ec[_0x3c66d7(0x64b)]=![]);_0x662719[_0x3c66d7(0x82f)][_0x3c66d7(0xa1f)](_0x3c66d7(0x5a9));const _0x223247=()=>{const _0x522f4e=_0x3c66d7,_0x4b7021=_0x59b166[_0x522f4e(0x52d)];_0x4b7021?(currentProjectId=_0x4b7021,_0x662719['classList'][_0x522f4e(0x24b)]('hidden'),saveQuiz(),_0x360ef5[_0x522f4e(0x633)]=_0x522f4e(0x373),_0x2768ec['textContent']=_0x522f4e(0x7ce),_0x2768ec[_0x522f4e(0xcec)](_0x522f4e(0x8b2),_0x223247),_0x2768ec[_0x522f4e(0xcc)]('click',confirmMoveQuiz)):showMessage(_0x522f4e(0x951));};_0x2768ec[_0x3c66d7(0xcec)](_0x3c66d7(0x8b2),confirmMoveQuiz),_0x2768ec[_0x3c66d7(0xcc)]('click',_0x223247);}function copyTextToClipboard(_0x448593,_0x429ac8){const _0x469636=_0x448927,_0x482773=document[_0x469636(0x4f0)](_0x469636(0xe37));_0x482773[_0x469636(0x52d)]=_0x448593,_0x482773[_0x469636(0xbaf)][_0x469636(0xaed)]=_0x469636(0x312),_0x482773[_0x469636(0xbaf)][_0x469636(0xc9d)]='0',document[_0x469636(0xca1)][_0x469636(0x220)](_0x482773),_0x482773[_0x469636(0x2e8)](),_0x482773[_0x469636(0xce)]();try{const _0x1739d4=document[_0x469636(0x3f9)](_0x469636(0x2f6));showMessage(_0x1739d4?_0x429ac8:_0x469636(0x141));}catch(_0x3853e2){showMessage(_0x469636(0x141)),console[_0x469636(0x17d)](_0x469636(0xdfc),_0x3853e2);}document[_0x469636(0xca1)][_0x469636(0x4d8)](_0x482773);}function listenForProjectQuizzes(_0x4c7b8a){const _0x2e4357=_0x448927,_0x580e3d=collection(db,'artifacts/'+appId+_0x2e4357(0xc34)),_0x35a3e4=query(_0x580e3d,where('projectId','==',_0x4c7b8a));unsubscribeQuizzesListener=onSnapshot(_0x35a3e4,async _0x5d8bc4=>{const _0x557565=_0x2e4357;allQuizzes=_0x5d8bc4[_0x557565(0x18c)]['map'](_0x4e7780=>({'id':_0x4e7780['id'],..._0x4e7780[_0x557565(0xa8e)]()})),renderQuizzes();},_0x4d0994=>{const _0x915572=_0x2e4357;console[_0x915572(0x17d)](_0x915572(0x9ec),_0x4d0994),document[_0x915572(0xb18)](_0x915572(0x983))['innerHTML']=_0x915572(0x8d3);});}async function renderQuizzes(){const _0x2454eb=_0x448927,_0x3f12f3=document[_0x2454eb(0xb18)](_0x2454eb(0x983)),_0x6aac61=document[_0x2454eb(0xb18)](_0x2454eb(0xc1b))[_0x2454eb(0x52d)][_0x2454eb(0x123)]();let _0x294b6d;currentProjectId===_0x2454eb(0x9d4)?_0x294b6d=starredQuizzes:_0x294b6d=allQuizzes;let _0x1261e2=_0x294b6d[_0x2454eb(0x955)](_0x256d5a=>_0x256d5a['topic'][_0x2454eb(0x123)]()[_0x2454eb(0x2e7)](_0x6aac61));_0x1261e2[_0x2454eb(0x872)]((_0x55666b,_0xe0b97e)=>new Date(_0xe0b97e[_0x2454eb(0x95c)])-new Date(_0x55666b['createdAt']));if(_0x1261e2[_0x2454eb(0xab1)]===0x0){_0x3f12f3['innerHTML']=_0x2454eb(0xcd2);return;}const _0x25f355={},_0x2d3ed0=_0x1261e2[_0x2454eb(0xad5)](async _0x11ff37=>{const _0x2fd248=_0x2454eb,_0x164c13=collection(db,_0x2fd248(0xa76)+appId+'/public/data/quizzes/'+_0x11ff37['id']+_0x2fd248(0xd90)),_0x28a369=await getCountFromServer(_0x164c13);_0x25f355[_0x11ff37['id']]=_0x28a369['data']()[_0x2fd248(0x1cc)];});await Promise['all'](_0x2d3ed0);let _0x3224ac='';_0x1261e2[_0x2454eb(0x157)](_0x52fcf8=>{const _0x52a4f6=_0x2454eb,_0x122ebf=_0x25f355[_0x52fcf8['id']]||0x0,_0x1be068=_0x52fcf8['status']||_0x52a4f6(0x4f9),_0x4272af=_0x52fcf8[_0x52a4f6(0xdbf)]?.[_0x52a4f6(0x4df)]||_0x52a4f6(0x43f);let _0x44263d='',_0x356fa4='';const _0x181c4b=new Date();let _0x20cd6e=_0x1be068;if(_0x1be068===_0x52a4f6(0x7ac)){const _0x51e0fe=_0x52fcf8[_0x52a4f6(0x4c4)]?new Date(_0x52fcf8[_0x52a4f6(0x4c4)]):null,_0x4afbfb=_0x52fcf8['endTime']?new Date(_0x52fcf8[_0x52a4f6(0xa2f)]):null;if(_0x4afbfb&&_0x181c4b>_0x4afbfb)_0x20cd6e='inactive';else _0x51e0fe&&_0x181c4b<_0x51e0fe?_0x20cd6e='scheduled_pending':_0x20cd6e=_0x52a4f6(0x4f9);}switch(_0x20cd6e){case _0x52a4f6(0xd89):_0x44263d=_0x52a4f6(0xd8c),_0x356fa4=_0x52a4f6(0x34c);break;case _0x52a4f6(0x71b):_0x44263d='รอเปิด',_0x356fa4=_0x52a4f6(0xd43);break;case'active':_0x44263d=_0x4272af!=='none'?_0x52a4f6(0x460):_0x52a4f6(0xbe4),_0x356fa4=_0x52a4f6(0x873);break;default:_0x44263d='ตั้งเวลา\x20(เปิด)',_0x356fa4=_0x52a4f6(0x873);break;}let _0x9fb6c8='';const _0x172e39={'day':_0x52a4f6(0x35b),'month':_0x52a4f6(0x35b),'year':_0x52a4f6(0x369),'hour':'2-digit','minute':_0x52a4f6(0x35b),'hour12':![]};if(_0x1be068==='scheduled'){if(_0x52fcf8[_0x52a4f6(0x4c4)])_0x9fb6c8+=_0x52a4f6(0x269)+new Date(_0x52fcf8['startTime'])['toLocaleString'](_0x52a4f6(0x8be),_0x172e39)+'</p>';if(_0x52fcf8['endTime'])_0x9fb6c8+=_0x52a4f6(0xae7)+new Date(_0x52fcf8[_0x52a4f6(0xa2f)])['toLocaleString'](_0x52a4f6(0x8be),_0x172e39)+_0x52a4f6(0xc4e);}let _0x396ec0='';if(_0x52fcf8[_0x52a4f6(0x3ab)]){const _0xdfc637=allQuizzes[_0x52a4f6(0x8c0)](_0x2367be=>_0x2367be['id']===_0x52fcf8[_0x52a4f6(0x3ab)]);if(_0xdfc637){let _0x2543a4,_0x2fb007;new Date(_0x52fcf8[_0x52a4f6(0x95c)])<new Date(_0xdfc637[_0x52a4f6(0x95c)])?(_0x2543a4=_0x52fcf8['id'],_0x2fb007=_0xdfc637['id']):(_0x2543a4=_0xdfc637['id'],_0x2fb007=_0x52fcf8['id']),_0x396ec0+=_0x52a4f6(0x295)+_0x2fb007+_0x52a4f6(0xc25)+_0x2543a4+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x52fcf8[_0x52a4f6(0xc11)]===_0x52a4f6(0x500)&&(_0x396ec0+=_0x52a4f6(0x144)+_0x52fcf8['id']+_0x52a4f6(0x667));if(_0x52fcf8[_0x52a4f6(0xc11)]===_0x52a4f6(0x500)&&_0x122ebf>0x0)_0x396ec0+=_0x52a4f6(0x144)+_0x52fcf8['id']+_0x52a4f6(0x874);else!_0x52fcf8[_0x52a4f6(0x3ab)]&&_0x52fcf8['quizMode']!==_0x52a4f6(0x500)&&_0x122ebf>0x0&&(_0x396ec0+=_0x52a4f6(0x144)+_0x52fcf8['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3f7f09='';_0x52fcf8['pairedQuizId']?_0x3f7f09=_0x52a4f6(0xc64)+_0x52fcf8['id']+_0x52a4f6(0xb36):_0x3f7f09='<button\x20data-quiz-id=\x22'+_0x52fcf8['id']+_0x52a4f6(0xa7e);const _0x413e49=_0x52a4f6(0x2ca)+_0x52fcf8['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x3224ac+=_0x52a4f6(0xb11)+_0x52fcf8['id']+_0x52a4f6(0xe3a)+_0x52fcf8[_0x52a4f6(0xda1)]+_0x52a4f6(0x710)+_0x52fcf8[_0x52a4f6(0x677)][_0x52a4f6(0xab1)]+_0x52a4f6(0x879)+new Date(_0x52fcf8['createdAt'])[_0x52a4f6(0x2d9)]('th-TH')+_0x52a4f6(0x19c)+_0x122ebf+_0x52a4f6(0x438)+_0x9fb6c8+_0x52a4f6(0xc78)+_0x356fa4+'\x22>'+_0x44263d+_0x52a4f6(0x8e7)+_0x52fcf8['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x52fcf8['id']+_0x52a4f6(0x37d)+(_0x52fcf8[_0x52a4f6(0x72a)]?_0x52a4f6(0xaef):_0x52a4f6(0x571))+_0x52a4f6(0xc1f)+_0x396ec0+_0x52a4f6(0x5a2)+_0x413e49+_0x52a4f6(0xb3a)+_0x52fcf8['id']+_0x52a4f6(0x8f6)+_0x52fcf8['id']+_0x52a4f6(0x736)+_0x52fcf8['id']+_0x52a4f6(0x3e2)+_0x52fcf8['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x52fcf8['id']+_0x52a4f6(0xb0b)+_0x52fcf8['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x52fcf8['id']+_0x52a4f6(0xbfd)+_0x52fcf8[_0x52a4f6(0xda1)]+_0x52a4f6(0x2e3)+_0x52fcf8['id']+_0x52a4f6(0x96f)+_0x52fcf8['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f7f09+_0x52a4f6(0xbf2)+_0x52fcf8['id']+_0x52a4f6(0x476)+_0x52fcf8['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x52fcf8['id']+_0x52a4f6(0xbad)+_0x52fcf8['id']+_0x52a4f6(0xc31)+_0x52fcf8['id']+_0x52a4f6(0xbfd)+_0x52fcf8['topic']+_0x52a4f6(0x50e)+_0x52fcf8['id']+_0x52a4f6(0x890);}),_0x3f12f3['innerHTML']=_0x3224ac,document[_0x2454eb(0xccb)](_0x2454eb(0x17b))[_0x2454eb(0x157)](_0x3b8be7=>{const _0x43031e=_0x2454eb;_0x3b8be7[_0x43031e(0xcc)](_0x43031e(0x8b2),()=>{const _0x4db7ee=_0x43031e,_0x27c682=_0x3b8be7[_0x4db7ee(0xcd1)]['quizId'];showQuizDetailView(_0x27c682);});});}async function handleUnpairQuiz(_0x1f007b){const _0x39cb0d=_0x448927,_0x416c20=allQuizzes[_0x39cb0d(0x8c0)](_0x1a7ceb=>_0x1a7ceb['id']===_0x1f007b);if(!_0x416c20||!_0x416c20[_0x39cb0d(0x3ab)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x39cb0d(0x966),async()=>{const _0x539331=_0x39cb0d;try{const _0x30c26b=doc(db,_0x539331(0xa76)+appId+'/public/data/quizzes',_0x1f007b),_0x4a7f11=doc(db,_0x539331(0xa76)+appId+_0x539331(0xc34),_0x416c20[_0x539331(0x3ab)]),_0x58f5d6=writeBatch(db);_0x58f5d6['update'](_0x30c26b,{'pairedQuizId':null}),_0x58f5d6[_0x539331(0x8a4)](_0x4a7f11,{'pairedQuizId':null}),await _0x58f5d6[_0x539331(0x979)](),showMessage(_0x539331(0xd29));}catch(_0x16802){console[_0x539331(0x17d)](_0x539331(0xa63),_0x16802),showMessage(_0x539331(0x89b));}});}function formatAndPrintLessonPlan(_0x367509,_0x2b4b6f){const _0x35cc4b=_0x448927,_0x554687=window[_0x35cc4b(0x4bd)]('',_0x35cc4b(0x579)),_0x48b993='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x2b4b6f[_0x35cc4b(0xda1)]+_0x35cc4b(0x936)+_0x2b4b6f[_0x35cc4b(0xda1)]+_0x35cc4b(0x18b)+_0x367509[_0x35cc4b(0x950)][_0x35cc4b(0xad5)](_0x561fbb=>'<li>'+_0x561fbb+_0x35cc4b(0x9de))[_0x35cc4b(0x222)]('')+_0x35cc4b(0xb6c)+_0x367509[_0x35cc4b(0xae2)]+_0x35cc4b(0xcf1)+_0x367509['practiceProblems'][_0x35cc4b(0xad5)](_0x293a9f=>_0x35cc4b(0x89c)+_0x293a9f[_0x35cc4b(0x339)]+_0x35cc4b(0xc55)+_0x293a9f[_0x35cc4b(0xc57)]+_0x35cc4b(0xa93))[_0x35cc4b(0x222)]('')+_0x35cc4b(0x324);_0x554687[_0x35cc4b(0x48a)][_0x35cc4b(0x586)](_0x48b993),_0x554687[_0x35cc4b(0x48a)][_0x35cc4b(0x378)](),_0x554687[_0x35cc4b(0xab4)]=function(){setTimeout(()=>{const _0x3de389=_0x2e12;_0x554687[_0x3de389(0x553)]();},0x3e8);};}async function handleAiFixFormula(_0x27e78e){const _0x3555b0=_0x448927,_0x1c00de=document[_0x3555b0(0x877)](_0x3555b0(0x7c8)+_0x27e78e+'\x22]');if(!_0x1c00de)return;const _0x4d98f0=_0x1c00de[_0x3555b0(0xcd1)][_0x3555b0(0x83b)],_0x232740=_0x1c00de[_0x3555b0(0x877)](_0x3555b0(0x6f6));let _0x203289={'question':_0x1c00de['querySelector'](_0x3555b0(0xe37))[_0x3555b0(0x52d)]};switch(_0x4d98f0){case _0x3555b0(0x232):_0x203289[_0x3555b0(0x6ca)]=Array[_0x3555b0(0x2ce)](_0x1c00de['querySelectorAll'](_0x3555b0(0xcab)))[_0x3555b0(0xad5)](_0x593428=>_0x593428['value']);break;case _0x3555b0(0x2ad):case _0x3555b0(0x706):_0x203289['idealAnswer']=_0x1c00de['querySelector']('.ideal-answer-input')[_0x3555b0(0x52d)];break;case _0x3555b0(0x632):_0x203289[_0x3555b0(0x993)]=_0x1c00de['querySelector'](_0x3555b0(0xd9d))[_0x3555b0(0x52d)];break;}_0x232740[_0x3555b0(0x5f4)]=_0x3555b0(0x6a3),_0x232740[_0x3555b0(0x64b)]=!![];try{const _0xd58c77='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON[_0x3555b0(0x7cd)](_0x203289)+_0x3555b0(0xaec),_0x2fa262={'type':_0x3555b0(0x16b),'properties':{'fixedData':{'type':_0x3555b0(0x16b),'properties':{'question':{'type':_0x3555b0(0x60a)},'options':{'type':_0x3555b0(0x5b3),'items':{'type':_0x3555b0(0x60a)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x3555b0(0x60a)}},'required':[_0x3555b0(0x339)]}},'required':[_0x3555b0(0xba5)]},_0x461129=await callAnalysisApi(_0xd58c77,_0x2fa262);if(_0x461129&&_0x461129[_0x3555b0(0xba5)]){const _0xb4aa9=_0x461129['fixedData'];_0x1c00de[_0x3555b0(0x877)](_0x3555b0(0xe37))[_0x3555b0(0x52d)]=_0xb4aa9[_0x3555b0(0x339)]||_0x203289[_0x3555b0(0x339)];switch(_0x4d98f0){case'multiple_choice':_0xb4aa9[_0x3555b0(0x6ca)]&&_0xb4aa9['options'][_0x3555b0(0xab1)]>0x0&&_0x1c00de[_0x3555b0(0xccb)]('input[type=\x22text\x22]')[_0x3555b0(0x157)]((_0x4486a0,_0x1b4f16)=>{const _0x454d83=_0x3555b0;_0x4486a0[_0x454d83(0x52d)]=_0xb4aa9[_0x454d83(0x6ca)][_0x1b4f16]||_0x203289[_0x454d83(0x6ca)][_0x1b4f16];});break;case _0x3555b0(0x2ad):case _0x3555b0(0x706):_0x1c00de[_0x3555b0(0x877)](_0x3555b0(0x68d))[_0x3555b0(0x52d)]=_0xb4aa9[_0x3555b0(0xcac)]||_0x203289[_0x3555b0(0xcac)];break;case _0x3555b0(0x632):_0x1c00de[_0x3555b0(0x877)](_0x3555b0(0xd9d))[_0x3555b0(0x52d)]=_0xb4aa9['correctResponse']||_0x203289['correctResponse'];break;}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x3555b0(0x4a5));}catch(_0x31ab9a){console['error'](_0x3555b0(0xbeb),_0x31ab9a),showMessage(_0x3555b0(0xbf3));}finally{_0x232740[_0x3555b0(0x5f4)]=_0x3555b0(0x1a1),_0x232740[_0x3555b0(0x64b)]=![];}}async function handleGenerateLessonPlan(_0x24f010){const _0x45d20c=_0x448927;showMessage(_0x45d20c(0x806));try{const _0x20f49e=doc(db,'artifacts/'+appId+_0x45d20c(0xc34),_0x24f010),_0x4d5d70=await getDoc(_0x20f49e);if(!_0x4d5d70[_0x45d20c(0x14d)]())throw new Error(_0x45d20c(0xc44));const _0xbb6cc2={'id':_0x24f010,..._0x4d5d70[_0x45d20c(0xa8e)]()},_0xe4d7fa=collection(db,_0x45d20c(0xa76)+appId+_0x45d20c(0xc34),_0x24f010,_0x45d20c(0xdf5)),_0x380cc7=await getDocs(_0xe4d7fa),_0x4f5c94=_0x380cc7[_0x45d20c(0x18c)][_0x45d20c(0xad5)](_0x3fcafd=>_0x3fcafd[_0x45d20c(0xa8e)]());if(_0x4f5c94[_0x45d20c(0xab1)]===0x0)throw new Error(_0x45d20c(0xe24));const _0x3d3e42=calculateItemAnalysis(_0xbb6cc2,_0x4f5c94)[_0x45d20c(0x881)],_0x5512a9=calculateDistractorAnalysis(_0xbb6cc2,_0x4f5c94),_0x4b20f9=_0x113350=>{const _0x3166d9=_0x45d20c;if(!_0x113350)return'';return _0x113350['replace'](/\\/g,'\x5c\x5c')[_0x3166d9(0x572)](/"/g,'\x5c\x22')[_0x3166d9(0x572)](/\n/g,'\x5cn');};let _0x2a37e0=_0x45d20c(0x9e2);_0xbb6cc2[_0x45d20c(0x677)][_0x45d20c(0x157)]((_0x3e3b86,_0x4f35a6)=>{const _0x19164d=_0x45d20c,_0x26c72b=_0x3d3e42[_0x4f35a6]?.['p'][_0x19164d(0xca2)](0x2)||'N/A',_0x19c4f7=_0x3d3e42[_0x4f35a6]?.['r']['toFixed'](0x2)||_0x19164d(0x794),_0x1829cb=_0x4b20f9(_0x3e3b86[_0x19164d(0xb3b)]||_0x3e3b86[_0x19164d(0xc35)]);_0x2a37e0+=_0x19164d(0xa9d)+(_0x4f35a6+0x1)+'\x20(p='+_0x26c72b+_0x19164d(0x37e)+_0x19c4f7+_0x19164d(0x1c4)+_0x1829cb+'\x5cn';if(_0x3e3b86[_0x19164d(0x3e6)]==='multiple_choice'&&_0x5512a9[_0x4f35a6]){const _0x4d63a8=_0x5512a9[_0x4f35a6],_0x235d0f=Object[_0x19164d(0x7bf)](_0x4d63a8)['filter'](_0xa9a436=>parseInt(_0xa9a436)!==_0x3e3b86[_0x19164d(0x662)])[_0x19164d(0x872)]((_0x4c2a9a,_0x2e0f1c)=>_0x4d63a8[_0x2e0f1c][_0x19164d(0xcc5)]-_0x4d63a8[_0x4c2a9a]['total'])[0x0];if(_0x235d0f&&_0x4d63a8[_0x235d0f][_0x19164d(0xcc5)]>0x0){const _0x2f9c7f=_0x4b20f9(_0x4d63a8[_0x235d0f][_0x19164d(0xcfd)]);_0x2a37e0+=_0x19164d(0x628)+_0x2f9c7f+_0x19164d(0xccd);}}});const _0x4c93bc=_0x45d20c(0x5ba)+_0xbb6cc2[_0x45d20c(0xda1)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a37e0+_0x45d20c(0x67b),_0xb00a32={'type':_0x45d20c(0x16b),'properties':{'learningGaps':{'type':_0x45d20c(0x5b3),'items':{'type':_0x45d20c(0x60a)}},'teachingContent':{'type':_0x45d20c(0x60a)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x45d20c(0x16b),'properties':{'question':{'type':_0x45d20c(0x60a)},'solution':{'type':_0x45d20c(0x60a)}}}}},'required':[_0x45d20c(0x950),_0x45d20c(0xae2),_0x45d20c(0x6ba)]},_0x3f3c9a=await callAnalysisApi(_0x4c93bc,_0xb00a32);await updateDoc(_0x20f49e,{'lessonPlan':_0x3f3c9a});const _0x3d1a6a=_0x45d20c(0x74c)+_0xbb6cc2['topic']+_0x45d20c(0x92e)+_0x3f3c9a['learningGaps'][_0x45d20c(0xad5)](_0x474fa4=>_0x45d20c(0x2aa)+_0x474fa4+_0x45d20c(0x9de))['join']('')+_0x45d20c(0x559)+_0x3f3c9a[_0x45d20c(0xae2)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x3f3c9a['practiceProblems']['map'](_0x3d132d=>_0x45d20c(0xd9b)+_0x3d132d[_0x45d20c(0x339)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x3d132d[_0x45d20c(0xc57)]+_0x45d20c(0x28e))[_0x45d20c(0x222)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x45d20c(0xb18)](_0x45d20c(0x35f))[_0x45d20c(0x633)]=_0x45d20c(0x829)+_0xbb6cc2['topic'],document['getElementById'](_0x45d20c(0x561))[_0x45d20c(0x5f4)]=_0x3d1a6a,document[_0x45d20c(0xb18)](_0x45d20c(0x74f))['classList'][_0x45d20c(0xa1f)](_0x45d20c(0x5a9));if(window[_0x45d20c(0x563)])MathJax[_0x45d20c(0xd16)]();messageModal[_0x45d20c(0x82f)]['add'](_0x45d20c(0x5a9));}catch(_0x38bfdb){console[_0x45d20c(0x17d)](_0x45d20c(0xae1),_0x38bfdb),showMessage('เกิดข้อผิดพลาด:\x20'+_0x38bfdb[_0x45d20c(0x550)]);}}async function handleDuplicateQuiz(_0x4355ea){const _0x450e0e=_0x448927;try{const _0x1fa3cb=doc(db,_0x450e0e(0xa76)+appId+_0x450e0e(0xc34),_0x4355ea),_0x4d15d3=await getDoc(_0x1fa3cb);if(_0x4d15d3['exists']()){const _0xc10d45=_0x4d15d3[_0x450e0e(0xa8e)]();let _0x18d862='',_0x24da02=_0x450e0e(0x4b7),_0x286700=null;if(_0xc10d45[_0x450e0e(0xc11)]===_0x450e0e(0x500)){let _0x30f9b8=_0xc10d45['topic'][_0x450e0e(0x572)]('(ก่อนเรียน)','')['trim']();_0x18d862=_0x450e0e(0x3d1)+_0x30f9b8,_0x24da02=_0x450e0e(0x2d4),_0x286700=_0x4355ea;}else _0x18d862='(คัดลอก)\x20'+_0xc10d45[_0x450e0e(0xda1)];const _0x234a47={..._0xc10d45,'topic':_0x18d862,'createdAt':new Date()[_0x450e0e(0xb50)](),'quizMode':_0x24da02,'pairedQuizId':_0x286700};let _0x295576;while(!![]){_0x295576=Math[_0x450e0e(0x87b)](0x3e8+Math[_0x450e0e(0x63c)]()*0x2328)[_0x450e0e(0x377)]();const _0x2eb31f=await getDoc(doc(db,_0x450e0e(0xa76)+appId+_0x450e0e(0xc34),_0x295576));if(!_0x2eb31f[_0x450e0e(0x14d)]())break;}const _0x1e7a32=doc(db,'artifacts/'+appId+_0x450e0e(0xc34),_0x295576);await setDoc(_0x1e7a32,_0x234a47),_0x234a47['quizMode']==='post-test'&&await updateDoc(_0x1fa3cb,{'pairedQuizId':_0x295576}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x450e0e(0x38d));}catch(_0x500d39){console[_0x450e0e(0x17d)](_0x450e0e(0xd64),_0x500d39),showMessage(_0x450e0e(0x772));}}async function handleDeleteQuiz(_0x2c7f24,_0x532343=!![]){const _0x201e26=_0x448927;try{const _0x297d85=writeBatch(db),_0x17fd4b=collection(db,_0x201e26(0xa76)+appId+_0x201e26(0xb87)+_0x2c7f24+'/submissions'),_0x1a9262=await getDocs(_0x17fd4b);_0x1a9262['forEach'](_0x2f41b1=>{_0x297d85['delete'](doc(_0x17fd4b,_0x2f41b1['id']));});const _0x44711c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2c7f24);_0x297d85[_0x201e26(0x2ec)](_0x44711c),await _0x297d85[_0x201e26(0x979)]();try{console[_0x201e26(0xcad)](_0x201e26(0x208)+_0x2c7f24+_0x201e26(0x862));const _0x1eeb43=collection(db,_0x201e26(0xa76)+appId+'/public/data/blueprintProjects'),_0x5aa810=await getDocs(_0x1eeb43),_0x4a92a6=[];_0x5aa810[_0x201e26(0x157)](_0x4b6dfd=>{const _0x1a87ff=_0x201e26,_0x51c5a1=_0x4b6dfd[_0x1a87ff(0xa8e)](),_0x1310a3=_0x51c5a1[_0x1a87ff(0x5e2)]||{};let _0x12ec92=![];for(const _0x4051b8 in _0x1310a3){const _0x130a6c=_0x1310a3[_0x4051b8];if(_0x130a6c[_0x1a87ff(0x913)]&&_0x130a6c[_0x1a87ff(0x913)][_0x1a87ff(0x2e7)](_0x2c7f24)){_0x12ec92=!![];const _0x3ce116=doc(db,_0x1a87ff(0xa76)+appId+_0x1a87ff(0x5e3),_0x4b6dfd['id']),_0x2edf22=updateDoc(_0x3ce116,{[_0x1a87ff(0x916)+_0x4051b8+_0x1a87ff(0x38e)]:arrayRemove(_0x2c7f24)});_0x4a92a6[_0x1a87ff(0x626)](_0x2edf22);}}}),_0x4a92a6['length']>0x0&&(await Promise[_0x201e26(0xd05)](_0x4a92a6),console[_0x201e26(0xcad)](_0x201e26(0xc8c)+_0x4a92a6[_0x201e26(0xab1)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x2c7f24+'.'));}catch(_0x48df49){console['error']('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x48df49);}_0x532343&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x1a9830){console[_0x201e26(0x17d)](_0x201e26(0xe5),_0x1a9830),_0x532343&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x328f14){const _0xf18816=_0x448927;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xf18816(0x46b));try{const _0x13290d=doc(db,_0xf18816(0xa76)+appId+_0xf18816(0xc34),_0x328f14),_0x45ace9=await getDoc(_0x13290d);if(!_0x45ace9[_0xf18816(0x14d)]()){showMessage(_0xf18816(0xc44));return;}const _0x8dd4d2={'id':_0x45ace9['id'],..._0x45ace9[_0xf18816(0xa8e)]()};currentQuizData=_0x8dd4d2;const _0x4f74c1=doc(db,'artifacts/'+appId+_0xf18816(0x945),_0x8dd4d2['projectId']),_0xd5f994=await getDoc(_0x4f74c1);_0xd5f994[_0xf18816(0x14d)]()?(currentProjectData=_0xd5f994['data'](),currentProjectId=_0x8dd4d2[_0xf18816(0x111)]):(currentProjectData={'students':[]},currentProjectId=_0x8dd4d2[_0xf18816(0x111)]);document[_0xf18816(0xb18)](_0xf18816(0xb3f))[_0xf18816(0x633)]=_0x8dd4d2['topic'],document[_0xf18816(0xb18)](_0xf18816(0x42b))[_0xf18816(0x633)]=_0x328f14;const _0x425395=collection(db,_0xf18816(0xa76)+appId+_0xf18816(0xc34),_0x328f14,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x425395,_0x45adc7=>{const _0x4c127b=_0xf18816,_0x22fe39=_0x45adc7[_0x4c127b(0x18c)][_0x4c127b(0xad5)](_0x32494c=>({'id':_0x32494c['id'],..._0x32494c[_0x4c127b(0xa8e)]()}));currentSubmissions=_0x22fe39;const _0x32aaa7=_0x22fe39[_0x4c127b(0x955)](_0x50d09b=>_0x50d09b['attempts']&&_0x50d09b[_0x4c127b(0x975)][_0x4c127b(0xab1)]>0x0);renderBehaviorLog(_0x22fe39),renderAnswerGrid(currentProjectData['students'],_0x32aaa7,_0x8dd4d2),renderAnalytics(_0x8dd4d2,_0x32aaa7),renderQuizResultsTable(currentProjectData['students'],_0x22fe39,_0x8dd4d2),renderQuizLeaderboard(_0x32aaa7,_0x8dd4d2,_0x4c127b(0x5ac));}),showView('quiz-results');}catch(_0x5775d1){console[_0xf18816(0x17d)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5775d1),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x4cea72,_0x48deda,_0x3a1a70){const _0x2642c9=_0x448927,_0x3420ec=document[_0x2642c9(0xb18)](_0x2642c9(0x243));if(!_0x3420ec)return;if(!_0x4cea72||_0x4cea72[_0x2642c9(0xab1)]===0x0){_0x3420ec['innerHTML']=_0x2642c9(0x7d1);return;}const _0x3a0781=_0x3a1a70[_0x2642c9(0x677)],_0x2217e1=_0x48deda[_0x2642c9(0xe33)]((_0x5f71f,_0x407eec)=>{const _0x425aba=_0x2642c9;return _0x5f71f[_0x407eec[_0x425aba(0x652)]]=_0x407eec,_0x5f71f;},{}),_0x51b05e=_0x36870b=>String[_0x2642c9(0x44d)](0x41+_0x36870b),_0xfa6010=_0x17ba5c=>{const _0x22cb7f=_0x2642c9,_0x5aa2e6=_0x17ba5c[_0x22cb7f(0x3e6)]||_0x3a1a70[_0x22cb7f(0xafc)];switch(_0x5aa2e6){case _0x22cb7f(0x232):return _0x17ba5c[_0x22cb7f(0x6ca)]&&_0x17ba5c[_0x22cb7f(0x6ca)][_0x22cb7f(0xab1)]>_0x17ba5c[_0x22cb7f(0x662)]?_0x51b05e(_0x17ba5c[_0x22cb7f(0x662)]):'-';case _0x22cb7f(0xab0):const _0x55ee14=_0x17ba5c['correctAnswer']===!![]||String(_0x17ba5c[_0x22cb7f(0xaf4)])[_0x22cb7f(0x123)]()==='true';return _0x55ee14?'ใช่':'ไม่ใช่';case _0x22cb7f(0x632):return _0x17ba5c[_0x22cb7f(0x993)]||'-';case _0x22cb7f(0x706):return _0x22cb7f(0xaad);default:return'-';}},_0x449d3e=(_0x5d0921,_0x5efcd8)=>{const _0x3bef43=_0x2642c9;if(_0x5efcd8['answer']===null||_0x5efcd8[_0x3bef43(0x71e)]===undefined)return'-';const _0x375e05=_0x5d0921[_0x3bef43(0x3e6)]||_0x3a1a70['quizType'];switch(_0x375e05){case _0x3bef43(0x232):const _0x4b8636=_0x5d0921['options'][_0x3bef43(0xa57)](_0x270284=>_0x270284===_0x5efcd8[_0x3bef43(0xde4)]);return _0x4b8636!==-0x1?_0x51b05e(_0x4b8636):_0x5efcd8[_0x3bef43(0xde4)]||'-';case _0x3bef43(0xab0):if(_0x5efcd8['answer']=='0'||_0x5efcd8['answer']===!![]||_0x5efcd8['answer']===_0x3bef43(0xd3d))return _0x3bef43(0x211);return _0x3bef43(0xa01);default:return _0x5efcd8['answer'];}};let _0x7c72b6=_0x2642c9(0x329)+_0x3a0781['map']((_0x3663d5,_0x472c54)=>_0x2642c9(0x71f)+(_0x472c54+0x1)+_0x2642c9(0xbdb))['join']('')+_0x2642c9(0xd78)+_0x3a0781['map'](_0x3aa9c9=>_0x2642c9(0x15f)+_0xfa6010(_0x3aa9c9)+_0x2642c9(0xabb))[_0x2642c9(0x222)]('')+_0x2642c9(0x21c);_0x4cea72[_0x2642c9(0x157)](_0x16d00a=>{const _0x165000=_0x2642c9;_0x7c72b6+='<tr>',_0x7c72b6+=_0x165000(0x3f6)+_0x16d00a+_0x165000(0xabb);const _0x2451f0=_0x2217e1[_0x16d00a];if(_0x2451f0){const _0x257e52=_0x2451f0[_0x165000(0x975)][_0x2451f0[_0x165000(0x975)][_0x165000(0xab1)]-0x1];_0x3a0781[_0x165000(0x157)]((_0x79220b,_0xcaa397)=>{const _0x16b802=_0x165000,_0x1cd1d6=_0x257e52['answers'][_0x16b802(0x8c0)](_0x2bd2ff=>_0x2bd2ff['questionId']===_0x79220b['id']);if(_0x1cd1d6){let _0x3fa510='';const _0x401719=_0x1cd1d6[_0x16b802(0xc26)]===!![],_0x45500a=_0x1cd1d6['wasConfident']===!![]||_0x1cd1d6['wasConfident']===_0x16b802(0x1c5),_0x1ecd62=_0x1cd1d6[_0x16b802(0x6ab)];if(_0x1ecd62==='wagerMultiplier')_0x401719?_0x3fa510=_0x16b802(0x717):_0x3fa510='bg-red-700\x20text-white\x20font-bold';else _0x45500a?_0x3fa510=_0x401719?_0x16b802(0xae4):_0x16b802(0x9ac):_0x3fa510=_0x401719?_0x16b802(0x107):'bg-red-100\x20text-red-800';_0x7c72b6+=_0x16b802(0xa02)+_0x3fa510+'\x22>'+_0x449d3e(_0x79220b,_0x1cd1d6)+_0x16b802(0xabb);}else _0x7c72b6+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x7c72b6+=_0x3a0781[_0x165000(0xad5)](()=>_0x165000(0x70a))[_0x165000(0x222)]('');_0x7c72b6+=_0x165000(0x3d9);}),_0x7c72b6+=_0x2642c9(0x870),_0x3420ec[_0x2642c9(0x5f4)]=_0x7c72b6;}function renderQuizResultsTable(_0x2b4786,_0x117209,_0x25dcd4){const _0x26175b=_0x448927,_0x3c2ec6=_0x117209['reduce']((_0x16a428,_0x1ebf5d)=>{const _0x1c51e3=_0x2e12;return _0x16a428[_0x1ebf5d[_0x1c51e3(0x652)]]=_0x1ebf5d,_0x16a428;},{}),_0x43d84c=document[_0x26175b(0x877)]('#results-table\x20thead\x20tr');_0x43d84c&&!_0x43d84c[_0x26175b(0x5f4)][_0x26175b(0x2e7)](_0x26175b(0x94d))&&(_0x43d84c[_0x26175b(0x5f4)]+=_0x26175b(0x699));const _0x4ff954=document[_0x26175b(0xb18)](_0x26175b(0xa31));if(!_0x2b4786||_0x2b4786['length']===0x0){_0x4ff954['innerHTML']=_0x26175b(0x8b5);return;}const _0x3850ee=_0x25dcd4[_0x26175b(0x11b)]===!![],_0x17c7c5=_0x25dcd4[_0x26175b(0xdbf)]?.[_0x26175b(0xb52)]??-0x1;let _0xaa7e47='';_0x2b4786['forEach'](_0x3cf475=>{const _0x33410a=_0x26175b,_0x439590=_0x3c2ec6[_0x3cf475];let _0x142ae3='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x3850ee?_0x33410a(0x40e):_0x33410a(0x8d4))+'\x22>'+(_0x3850ee?_0x33410a(0x14c):_0x33410a(0xe3d))+_0x33410a(0x4cc);if(_0x439590){if(_0x439590[_0x33410a(0x975)]&&_0x439590['attempts']['length']>0x0){let _0x17d4b6=_0x3850ee?_0x439590[_0x33410a(0x9a2)]===_0x439590[_0x33410a(0x267)]:_0x17c7c5!==-0x1&&_0x439590[_0x33410a(0x9a2)]>=_0x17c7c5;const _0x402ec8=_0x17d4b6?_0x33410a(0x107):_0x33410a(0x84d),_0x3dc512=_0x17d4b6?_0x33410a(0xd98):_0x33410a(0x3dd),_0x4966b7=_0x33410a(0x5fe)+_0x402ec8+'\x22>'+_0x3dc512+_0x33410a(0x4cc),_0x12ed54=_0x33410a(0xc5c)+(_0x439590[_0x33410a(0x975)]?.[_0x33410a(0xab1)]||0x1)+'\x20ครั้ง)</span></td>',_0x4a7431='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>'+(_0x439590[_0x33410a(0xbcd)]||0x0)['toLocaleString']()+_0x33410a(0xaea)+_0x3cf475+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22'+(_0x439590[_0x33410a(0xbcd)]||0x0)+_0x33410a(0x947);_0xaa7e47+=_0x33410a(0x960)+_0x3cf475+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x439590[_0x33410a(0x9a2)]+'\x20/\x20'+_0x439590['totalQuestions']+_0x33410a(0xcb2)+_0x4966b7+_0x33410a(0x5a2)+_0x142ae3+_0x33410a(0x151)+_0x439590[_0x33410a(0xb1e)]+'\x20/\x20'+_0x439590[_0x33410a(0x267)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x439590['latestScore']+_0x33410a(0x65b)+_0x439590[_0x33410a(0x267)]+_0x33410a(0x1c6)+_0x4a7431+_0x33410a(0xcb2)+_0x12ed54+_0x33410a(0x7f3)+new Date(_0x439590['latestSubmittedAt'])[_0x33410a(0x2d9)](_0x33410a(0x8be))+_0x33410a(0x1d5)+_0x3cf475+_0x33410a(0x129);}else{const _0x1a6cc3=_0x33410a(0x48e);_0xaa7e47+=_0x33410a(0x98f)+_0x3cf475+_0x33410a(0xb46)+_0x142ae3+_0x33410a(0x46c)+_0x1a6cc3+_0x33410a(0x7f3)+new Date(_0x439590[_0x33410a(0xe42)])[_0x33410a(0x2d9)](_0x33410a(0x8be))+_0x33410a(0x483)+_0x3cf475+_0x33410a(0x129);}}else{const _0x35ab65='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0xaa7e47+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3cf475+_0x33410a(0x11c)+_0x142ae3+_0x33410a(0xd6a)+_0x35ab65+_0x33410a(0x2ae);}}),_0x4ff954[_0x26175b(0x5f4)]=_0xaa7e47;}async function confirmRenameQuiz(){const _0x4884f2=_0x448927,_0x255e2e=document[_0x4884f2(0xb18)](_0x4884f2(0x16e))[_0x4884f2(0x52d)][_0x4884f2(0xb5b)]();if(!_0x255e2e){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x353f11=doc(db,'artifacts/'+appId+_0x4884f2(0xc34),actionTargetId);try{await updateDoc(_0x353f11,{'topic':_0x255e2e}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList']['add'](_0x4884f2(0x5a9)),actionTargetId=null;}catch(_0x31c3a6){console[_0x4884f2(0x17d)](_0x4884f2(0x1b3),_0x31c3a6),showMessage(_0x4884f2(0x65c));}}async function handleMoveQuiz(_0x49855d){const _0x4e16b0=_0x448927;actionTargetId=_0x49855d;const _0x4ed49b=document[_0x4e16b0(0xb18)]('move-quiz-project-select');_0x4ed49b[_0x4e16b0(0x5f4)]=_0x4e16b0(0x433),moveQuizModal[_0x4e16b0(0x82f)][_0x4e16b0(0xa1f)]('hidden');try{const _0x524e22=collection(db,_0x4e16b0(0xa76)+appId+'/public/data/projects'),_0x25f458=await getDocs(_0x524e22),_0x2232fc=_0x25f458[_0x4e16b0(0x18c)][_0x4e16b0(0xad5)](_0x19081d=>({'id':_0x19081d['id'],..._0x19081d[_0x4e16b0(0xa8e)]()})),_0x558959=_0x2232fc['filter'](_0x22fb15=>_0x22fb15['id']!==currentProjectId);if(_0x558959[_0x4e16b0(0xab1)]===0x0){_0x4ed49b['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x4e16b0(0xb18)]('confirm-move-quiz-btn')[_0x4e16b0(0x64b)]=!![];return;}_0x4ed49b['innerHTML']=_0x558959[_0x4e16b0(0xad5)](_0x8f8a70=>_0x4e16b0(0x949)+_0x8f8a70['id']+'\x22>'+_0x8f8a70[_0x4e16b0(0xa8f)]+_0x4e16b0(0x38c))[_0x4e16b0(0x222)](''),document[_0x4e16b0(0xb18)](_0x4e16b0(0xc80))[_0x4e16b0(0x64b)]=![];}catch(_0x148945){console['error'](_0x4e16b0(0x5a6),_0x148945),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x4e16b0(0x82f)]['add']('hidden');}}async function confirmMoveQuiz(){const _0x443fd4=_0x448927,_0xe994d=document[_0x443fd4(0xb18)](_0x443fd4(0xe2c))[_0x443fd4(0x52d)];if(!_0xe994d){showMessage(_0x443fd4(0x2f2));return;}if(!actionTargetId)return;const _0x1f35cf=doc(db,'artifacts/'+appId+_0x443fd4(0xc34),actionTargetId);try{await updateDoc(_0x1f35cf,{'projectId':_0xe994d}),showMessage(_0x443fd4(0xc04)),moveQuizModal['classList'][_0x443fd4(0x24b)](_0x443fd4(0x5a9)),actionTargetId=null;}catch(_0x1eedf0){console[_0x443fd4(0x17d)](_0x443fd4(0x44f),_0x1eedf0),showMessage(_0x443fd4(0x769));}}async function handleQuizSettings(_0x1e8398){const _0x4c5310=_0x448927;actionTargetId=_0x1e8398;const _0x4db13f=doc(db,_0x4c5310(0xa76)+appId+'/public/data/quizzes',_0x1e8398);try{const _0xdd3d63=await getDoc(_0x4db13f);if(_0xdd3d63['exists']()){const _0x4c557b=_0xdd3d63[_0x4c5310(0xa8e)](),_0x269141=_0x4c557b[_0x4c5310(0xdbf)]||{},_0x5c1ff4=_0x4c557b[_0x4c5310(0x677)][_0x4c5310(0xab1)];document[_0x4c5310(0xb18)](_0x4c5310(0xb95))['value']=_0x269141[_0x4c5310(0x170)]||_0x4c5310(0x43f),document[_0x4c5310(0xb18)]('modal-results-display-select')[_0x4c5310(0x52d)]=_0x269141[_0x4c5310(0x536)]||_0x4c5310(0xb59),document[_0x4c5310(0xb18)](_0x4c5310(0x233))[_0x4c5310(0x52d)]=_0x269141['timerMode']||_0x4c5310(0x43f),document[_0x4c5310(0xb18)](_0x4c5310(0xc52))[_0x4c5310(0x52d)]=_0x269141[_0x4c5310(0xc89)]||0xa,document[_0x4c5310(0xb18)]('modal-passing-score-input')[_0x4c5310(0x52d)]=_0x269141['passingScore']||Math[_0x4c5310(0x87b)](_0x5c1ff4/0x2),document['getElementById']('modal-passing-score-input')[_0x4c5310(0x90d)]=_0x5c1ff4,document[_0x4c5310(0xb18)](_0x4c5310(0x22a))[_0x4c5310(0x2f1)]=_0x269141[_0x4c5310(0x967)]||![],document[_0x4c5310(0xb18)](_0x4c5310(0xce3))['checked']=_0x269141[_0x4c5310(0xccf)]||![];const _0x318a3e=_0x269141[_0x4c5310(0x5ed)]||![];document[_0x4c5310(0xb18)](_0x4c5310(0xe09))[_0x4c5310(0x2f1)]=_0x318a3e,document['getElementById'](_0x4c5310(0x1c8))[_0x4c5310(0x52d)]=_0x269141['confidenceMode']||'checkbox';const _0x329f86=document['getElementById']('modal-confidence-mode-container');_0x329f86['classList'][_0x4c5310(0xd6b)]('hidden',!_0x318a3e),document[_0x4c5310(0xb18)](_0x4c5310(0x233))[_0x4c5310(0xb6d)](new Event(_0x4c5310(0xb22))),quizSettingsModal[_0x4c5310(0x82f)][_0x4c5310(0xa1f)](_0x4c5310(0x5a9));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x2e06bf){console['error'](_0x4c5310(0x499),_0x2e06bf),showMessage(_0x4c5310(0x3b2));}}async function confirmQuizSettings(){const _0x431024=_0x448927;if(!actionTargetId)return;const _0x23518c=doc(db,_0x431024(0xa76)+appId+_0x431024(0xc34),actionTargetId),_0x1ea427={'shuffle':document[_0x431024(0xb18)]('modal-shuffle-select')[_0x431024(0x52d)],'resultsDisplay':document[_0x431024(0xb18)](_0x431024(0xee))[_0x431024(0x52d)],'timerMode':document[_0x431024(0xb18)](_0x431024(0x233))['value'],'timerDuration':parseInt(document[_0x431024(0xb18)](_0x431024(0xc52))['value'])||0xa,'passingScore':parseInt(document[_0x431024(0xb18)](_0x431024(0x43b))['value'])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x431024(0xb18)]('modal-loop-until-pass-checkbox')[_0x431024(0x2f1)],'isConfidenceScoringEnabled':document[_0x431024(0xb18)](_0x431024(0xe09))[_0x431024(0x2f1)],'confidenceMode':document[_0x431024(0xb18)](_0x431024(0x1c8))[_0x431024(0x52d)]};try{await updateDoc(_0x23518c,{'settings':_0x1ea427}),showMessage(_0x431024(0xdd)),quizSettingsModal[_0x431024(0x82f)][_0x431024(0x24b)](_0x431024(0x5a9)),actionTargetId=null;}catch(_0x42cc3d){console[_0x431024(0x17d)]('Error\x20updating\x20quiz\x20settings:',_0x42cc3d),showMessage(_0x431024(0x3b8));}}async function confirmQuizStatus(){const _0x177af2=_0x448927;if(!actionTargetId)return;const _0x54c108=doc(db,'artifacts/'+appId+_0x177af2(0xc34),actionTargetId),_0x59c47f=document[_0x177af2(0x877)](_0x177af2(0xa2c));if(!_0x59c47f){showMessage(_0x177af2(0x6ef));return;}const _0x4969a3=_0x59c47f[_0x177af2(0x52d)];let _0x3f61ed={};if(_0x4969a3===_0x177af2(0x4f9)||_0x4969a3==='inactive')_0x3f61ed={'status':_0x4969a3,'startTime':null,'endTime':null};else{if(_0x4969a3===_0x177af2(0x7e9)){const _0x49a8cc=document[_0x177af2(0xb18)](_0x177af2(0xd5a))[_0x177af2(0x52d)],_0xd78538=document[_0x177af2(0xb18)](_0x177af2(0x940))[_0x177af2(0x52d)];if(!_0x49a8cc&&!_0xd78538){showMessage(_0x177af2(0x8e3));return;}_0x3f61ed={'status':_0x177af2(0x7ac),'startTime':_0x49a8cc?new Date(_0x49a8cc)[_0x177af2(0xb50)]():null,'endTime':_0xd78538?new Date(_0xd78538)[_0x177af2(0xb50)]():null};}}try{await updateDoc(_0x54c108,_0x3f61ed),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x177af2(0x24b)](_0x177af2(0x5a9)),actionTargetId=null;}catch(_0x34b190){console[_0x177af2(0x17d)]('Error\x20updating\x20quiz\x20status:',_0x34b190),showMessage(_0x177af2(0x112));}}function listenForStudentProfiles(_0x15d29b){const _0xe497e3=_0x448927,_0x1d2477=collection(db,_0xe497e3(0xa76)+appId+'/public/data/projects/'+_0x15d29b+_0xe497e3(0x15e));unsubscribeStudentProfilesListener=onSnapshot(_0x1d2477,_0x37315a=>{const _0x5ec066=_0xe497e3,_0x21e467=_0x37315a[_0x5ec066(0x18c)][_0x5ec066(0xad5)](_0x56c103=>_0x56c103[_0x5ec066(0xa8e)]());renderLeaderboard(_0x21e467,_0x5ec066(0x145));},_0x5a8f24=>{const _0x4c442d=_0xe497e3;console[_0x4c442d(0x17d)](_0x4c442d(0x846),_0x5a8f24),document[_0x4c442d(0xb18)]('leaderboard-table-body')[_0x4c442d(0x5f4)]=_0x4c442d(0x991);});}function renderLeaderboard(_0x353fda,_0x3aecd3){const _0x421483=_0x448927,_0x551928=document[_0x421483(0xb18)](_0x3aecd3);if(!_0x353fda||_0x353fda['length']===0x0){_0x551928[_0x421483(0x5f4)]=_0x421483(0x6d5);return;}_0x353fda[_0x421483(0x872)]((_0x1c86de,_0x3cef85)=>{const _0x12d834=_0x421483,_0x5d34af=(_0x3cef85['totalPoints']||0x0)-(_0x1c86de[_0x12d834(0xc38)]||0x0);if(_0x5d34af!==0x0)return _0x5d34af;const _0x538f2b=(_0x3cef85['badgesCount']?.[_0x12d834(0x695)]||0x0)-(_0x1c86de[_0x12d834(0x690)]?.[_0x12d834(0x695)]||0x0);if(_0x538f2b!==0x0)return _0x538f2b;const _0x47f38e=(_0x3cef85['badgesCount']?.['first_try_ace']||0x0)-(_0x1c86de[_0x12d834(0x690)]?.[_0x12d834(0x3f1)]||0x0);if(_0x47f38e!==0x0)return _0x47f38e;const _0xb8221e=(_0x3cef85[_0x12d834(0x690)]?.[_0x12d834(0x5ae)]||0x0)-(_0x1c86de[_0x12d834(0x690)]?.[_0x12d834(0x5ae)]||0x0);if(_0xb8221e!==0x0)return _0xb8221e;const _0x340e91=(_0x3cef85['badgesCount']?.[_0x12d834(0xfc)]||0x0)-(_0x1c86de[_0x12d834(0x690)]?.[_0x12d834(0xfc)]||0x0);if(_0x340e91!==0x0)return _0x340e91;return _0x1c86de['studentName']['localeCompare'](_0x3cef85[_0x12d834(0x652)],'th');});let _0x55ea57='';_0x353fda[_0x421483(0x157)]((_0x203253,_0x20e1a2)=>{const _0x273dcf=_0x421483,_0x213bca=_0x20e1a2+0x1,_0x31457b=_0x203253[_0x273dcf(0x690)]||{};let _0x37d42e='';const _0x2101d1=[_0x273dcf(0x695),_0x273dcf(0x5ae),'first_try_ace','quick_thinker'];_0x2101d1['forEach'](_0x15af30=>{const _0x5aac53=_0x273dcf;if(_0x31457b[_0x15af30]>0x0){const _0x358fc3=Object['values'](BADGES)['find'](_0x1334bc=>_0x1334bc['id']===_0x15af30);_0x358fc3&&(_0x15af30===_0x5aac53(0x695)?_0x37d42e+=_0x5aac53(0x1b8)+_0x358fc3[_0x5aac53(0x2d2)]+_0x5aac53(0xa54)+_0x358fc3['icon']+_0x5aac53(0xdcb):_0x37d42e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x358fc3[_0x5aac53(0x2d2)]+'\x20('+_0x31457b[_0x15af30]+_0x5aac53(0xd2a)+_0x358fc3['icon']+_0x5aac53(0xa10)+_0x31457b[_0x15af30]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x55ea57+=_0x273dcf(0x68c)+_0x213bca+_0x273dcf(0x1c6)+_0x203253['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x203253[_0x273dcf(0xc38)]||0x0)[_0x273dcf(0x2d9)]()+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x37d42e||'-')+_0x273dcf(0x9dc);}),_0x551928['innerHTML']=_0x55ea57;}function displayLoopScreen(_0x2d4e1f,_0x43023e,_0xee4ae8){const _0x43224d=_0x448927;let _0x15a350='';_0xee4ae8!==_0x43224d(0x4fb)&&(_0x15a350=_0x43224d(0x32f)+_0x2d4e1f+_0x43224d(0x65b)+_0x43023e+_0x43224d(0xe1b));const _0x49d658='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15a350+_0x43224d(0xd12);studentResultArea[_0x43224d(0x5f4)]=_0x49d658,studentResultArea[_0x43224d(0x82f)][_0x43224d(0xa1f)](_0x43224d(0x5a9)),studentQuizArea[_0x43224d(0x82f)][_0x43224d(0x24b)](_0x43224d(0x5a9)),document[_0x43224d(0xb18)]('retake-quiz-loop-btn')[_0x43224d(0xcc)]('click',()=>{const _0x1347e0=_0x43224d;studentResultArea['classList'][_0x1347e0(0x24b)](_0x1347e0(0x5a9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x483e52,_0x3e8f3d,_0x137507){const _0x519347=_0x448927,_0x4af042=document[_0x519347(0xb18)](_0x137507),_0x12d401=_0x137507==='student-quiz-leaderboard-table-body',_0x17cca0=_0x3e8f3d[_0x519347(0x677)][_0x519347(0xab1)],_0x242082=document[_0x519347(0xb18)](_0x137507)[_0x519347(0xb09)](_0x519347(0x296));if(_0x242082&&!_0x12d401){const _0x1120d6=_0x242082[_0x519347(0x877)](_0x519347(0x931));_0x1120d6[_0x519347(0x5f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x483e52||_0x483e52['length']===0x0){_0x4af042['innerHTML']=_0x519347(0xdb0)+(_0x12d401?0x6:0x8)+_0x519347(0x76e);return;}const _0x89cc0a=[..._0x483e52];_0x89cc0a[_0x519347(0x872)]((_0x449c6d,_0x395415)=>{const _0x4f41fe=_0x519347;let _0x45caaa,_0x4a94c4;switch(quizLeaderboardSortBy){case _0x4f41fe(0x652):_0x45caaa=_0x449c6d[_0x4f41fe(0x652)]||'',_0x4a94c4=_0x395415[_0x4f41fe(0x652)]||'';return quizLeaderboardSortOrder===_0x4f41fe(0x584)?_0x45caaa[_0x4f41fe(0x649)](_0x4a94c4,'th'):_0x4a94c4[_0x4f41fe(0x649)](_0x45caaa,'th');case _0x4f41fe(0xbcd):_0x45caaa=_0x449c6d[_0x4f41fe(0xbcd)]||0x0,_0x4a94c4=_0x395415[_0x4f41fe(0xbcd)]||0x0;break;case _0x4f41fe(0x975):_0x45caaa=_0x449c6d[_0x4f41fe(0x975)]?.['length']||0x1,_0x4a94c4=_0x395415['attempts']?.[_0x4f41fe(0xab1)]||0x1;break;case'latestSubmittedAt':_0x45caaa=new Date(_0x449c6d[_0x4f41fe(0x308)]),_0x4a94c4=new Date(_0x395415[_0x4f41fe(0x308)]);break;case _0x4f41fe(0x9a2):default:_0x45caaa=_0x449c6d[_0x4f41fe(0x9a2)],_0x4a94c4=_0x395415[_0x4f41fe(0x9a2)];break;}if(_0x45caaa<_0x4a94c4)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x45caaa>_0x4a94c4)return quizLeaderboardSortOrder===_0x4f41fe(0x584)?0x1:-0x1;return 0x0;});const _0xdffd82=_0x3e8f3d[_0x519347(0x11b)]===!![],_0x15bc9f=_0x3e8f3d[_0x519347(0xdbf)]?.[_0x519347(0xb52)]??-0x1;let _0x56eb84='';_0x89cc0a[_0x519347(0x157)]((_0x2ef8eb,_0x2ed54e)=>{const _0x7193e5=_0x519347,_0x3d135e=_0x2ed54e+0x1;let _0x45e692=_0x7193e5(0xbb3);if(_0xdffd82||_0x15bc9f!==-0x1){let _0x5ed62d=_0xdffd82?_0x2ef8eb[_0x7193e5(0x9a2)]===_0x17cca0:_0x2ef8eb['bestScore']>=_0x15bc9f;const _0x1f4e2d=_0x5ed62d?_0x7193e5(0x107):'bg-red-100\x20text-red-800',_0x54f984=_0x5ed62d?'ผ่าน':'ไม่ผ่าน';_0x45e692=_0x7193e5(0x654)+_0x1f4e2d+'\x22>'+_0x54f984+_0x7193e5(0x4cc);}const _0x25f0ce=_0x2ef8eb[_0x7193e5(0x975)][_0x2ef8eb['attempts'][_0x7193e5(0xab1)]-0x1],_0x2cda0e=(_0x25f0ce[_0x7193e5(0x4b3)]||[])[_0x7193e5(0xad5)](_0x4ce7b0=>{const _0x1a3281=_0x7193e5,_0x20c5be=Object['values'](BADGES)['find'](_0x1d0ac4=>_0x1d0ac4['id']===_0x4ce7b0);return _0x20c5be?_0x1a3281(0x82a)+_0x20c5be[_0x1a3281(0x2d2)]+_0x1a3281(0xb97)+_0x20c5be[_0x1a3281(0xbca)]+_0x1a3281(0x6f7):'';})[_0x7193e5(0x222)]('');_0x56eb84+=_0x7193e5(0x4ac)+_0x3d135e+_0x7193e5(0xb26)+_0x2ef8eb[_0x7193e5(0x652)]+_0x7193e5(0xa22)+_0x2ef8eb[_0x7193e5(0x9a2)]+'\x20/\x20'+_0x17cca0+_0x7193e5(0xdc6)+_0x45e692+_0x7193e5(0xc15)+(_0x2ef8eb['points']||0x0)[_0x7193e5(0x2d9)]()+_0x7193e5(0xdc6)+(_0x12d401?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x2ef8eb[_0x7193e5(0x975)]?.[_0x7193e5(0xab1)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x12d401?'':_0x7193e5(0xb98)+new Date(_0x2ef8eb[_0x7193e5(0x308)])[_0x7193e5(0x2d9)](_0x7193e5(0x8be))+_0x7193e5(0xabb))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x2cda0e||'-')+_0x7193e5(0x53c);}),_0x4af042[_0x519347(0x5f4)]=_0x56eb84,_0x242082&&!_0x12d401&&_0x242082[_0x519347(0xccb)](_0x519347(0xa85))[_0x519347(0x157)](_0x2b8cf1=>{const _0x10dc8f=_0x519347,_0x58e24c=_0x2b8cf1[_0x10dc8f(0x877)](_0x10dc8f(0xb21));if(_0x58e24c)_0x58e24c[_0x10dc8f(0xa1f)]();_0x2b8cf1[_0x10dc8f(0xcd1)][_0x10dc8f(0x872)]===quizLeaderboardSortBy&&(_0x2b8cf1[_0x10dc8f(0x5f4)]+=_0x10dc8f(0x3e4)+(quizLeaderboardSortOrder===_0x10dc8f(0x584)?'▲':'▼')+_0x10dc8f(0x95e));});}async function handleDeleteSubmission(_0x4b7fc6){const _0x3b33e9=_0x448927;if(!currentQuizData||!currentQuizData['id']||!_0x4b7fc6){showMessage(_0x3b33e9(0x2c9));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x4b7fc6+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x479e75=_0x3b33e9,_0x53b396=currentQuizData['id'],_0x22f954=doc(db,_0x479e75(0xa76)+appId+_0x479e75(0xb87)+_0x53b396+_0x479e75(0xd90),_0x4b7fc6);try{await deleteDoc(_0x22f954),showMessage('ลบผลสอบของ\x20'+_0x4b7fc6+_0x479e75(0x8a2));}catch(_0x277ef3){console[_0x479e75(0x17d)](_0x479e75(0xd80),_0x277ef3),showMessage(_0x479e75(0x14a));}});}async function handleLoadQuiz(){const _0x2a68d6=_0x448927,_0x12ad73=document[_0x2a68d6(0xb18)]('quiz-id-input'),_0x40c5ab=_0x12ad73['value'][_0x2a68d6(0xb5b)]();if(!_0x40c5ab){showMessage(_0x2a68d6(0xbbf));return;}loadQuizBtn[_0x2a68d6(0x64b)]=!![],loadQuizBtn[_0x2a68d6(0x5f4)]=_0x2a68d6(0xe9);try{const _0x240b9e=doc(db,_0x2a68d6(0xa76)+appId+_0x2a68d6(0xc34),_0x40c5ab),_0x1d8de3=await getDoc(_0x240b9e);if(!_0x1d8de3[_0x2a68d6(0x14d)]()){showMessage(_0x2a68d6(0xef));return;}currentQuizData={'id':_0x1d8de3['id'],..._0x1d8de3[_0x2a68d6(0xa8e)]()};const _0xf40d70=currentQuizData[_0x2a68d6(0x33a)]||_0x2a68d6(0x4f9),_0x446182=new Date();if(_0xf40d70===_0x2a68d6(0xd89)){showMessage(_0x2a68d6(0xc18));return;}if(_0xf40d70===_0x2a68d6(0x7ac)){const _0x12dea5=currentQuizData['startTime']?new Date(currentQuizData[_0x2a68d6(0x4c4)]):null,_0x4f66f0=currentQuizData[_0x2a68d6(0xa2f)]?new Date(currentQuizData[_0x2a68d6(0xa2f)]):null;if(_0x12dea5&&_0x446182<_0x12dea5){showMessage(_0x2a68d6(0x9e8)+_0x12dea5[_0x2a68d6(0x2d9)](_0x2a68d6(0x8be),{'hour12':![]}));return;}if(_0x4f66f0&&_0x446182>_0x4f66f0){showMessage(_0x2a68d6(0xdae));return;}}const _0x58fe3b=currentQuizData[_0x2a68d6(0x111)];currentProjectId=_0x58fe3b;const _0x1be517=doc(db,'artifacts/'+appId+_0x2a68d6(0x945),_0x58fe3b),_0x17ac43=await getDoc(_0x1be517);if(!_0x17ac43['exists']()){showMessage(_0x2a68d6(0x6fc));return;}const _0x22f9d3=_0x17ac43['data']();currentStudentProjectData=_0x22f9d3,displayStudentNameSelector(_0x22f9d3['students'],currentQuizData[_0x2a68d6(0xda1)]);}catch(_0x42e57b){console[_0x2a68d6(0x17d)](_0x2a68d6(0x398),_0x42e57b),showMessage(_0x2a68d6(0x52c));}finally{loadQuizBtn['disabled']=![],loadQuizBtn['innerHTML']=_0x2a68d6(0x2fe);}}async function handleManualEditPoints(_0x194d1c,_0x6792b4){const _0x17037f=_0x448927;if(!currentQuizData||!currentQuizData['id'])return;const _0x1284ed=currentQuizData['id'],_0x408615=doc(db,_0x17037f(0xa76)+appId+'/public/data/quizzes/'+_0x1284ed+_0x17037f(0xd90),_0x194d1c);try{const _0x15995b=await getDoc(_0x408615);if(!_0x15995b[_0x17037f(0x14d)]())return;const _0x48fa2b=_0x15995b[_0x17037f(0xa8e)](),_0x3fa4bf=_0x48fa2b[_0x17037f(0x975)]||[];_0x3fa4bf[_0x17037f(0xab1)]>0x0&&(_0x3fa4bf[_0x3fa4bf[_0x17037f(0xab1)]-0x1][_0x17037f(0xbcd)]=_0x6792b4,_0x3fa4bf[_0x3fa4bf['length']-0x1][_0x17037f(0x12a)]=!![]),await updateDoc(_0x408615,{'points':_0x6792b4,'attempts':_0x3fa4bf}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x194d1c),showMessage(_0x17037f(0xc4a)+_0x194d1c+_0x17037f(0x6af)+_0x6792b4+'\x20สำเร็จ!');}catch(_0x10d189){console[_0x17037f(0x17d)]('Error\x20updating\x20points:',_0x10d189),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x4b2512=_0x448927,_0x5b9f8b=document['getElementById'](_0x4b2512(0xb39)),_0x37136c=document[_0x4b2512(0xb18)](_0x4b2512(0x2f8)),_0x2dc9f6=document['getElementById'](_0x4b2512(0x125)),_0x2b8fda=_0x5b9f8b['value'][_0x4b2512(0xb5b)](),_0x26d116=_0x37136c[_0x4b2512(0x52d)][_0x4b2512(0xb5b)]();if(!_0x2b8fda||!_0x26d116){showMessage(_0x4b2512(0xdff));return;}_0x2dc9f6['disabled']=!![],_0x2dc9f6[_0x4b2512(0x5f4)]=_0x4b2512(0xdea);try{const _0x34de53=collection(db,_0x4b2512(0xa76)+appId+'/public/data/syncGames'),_0x262955=query(_0x34de53,where('pin','==',_0x2b8fda),where('status','in',['lobby',_0x4b2512(0x339),_0x4b2512(0x8dc),_0x4b2512(0xb5f)])),_0x16984f=await getDocs(_0x262955);if(_0x16984f[_0x4b2512(0xe40)]){const _0x18cd87=collection(db,_0x4b2512(0xa76)+appId+'/public/data/liveGames'),_0x1c0cb7=query(_0x18cd87,where(_0x4b2512(0x128),'==',_0x2b8fda)),_0x5e3e63=await getDocs(_0x1c0cb7);if(!_0x5e3e63[_0x4b2512(0xe40)]){await proceedWithTeamQuizJoin(_0x5e3e63[_0x4b2512(0x18c)][0x0]);return;}showMessage(_0x4b2512(0x96a));return;}const _0x356fdf=_0x16984f[_0x4b2512(0x18c)][0x0];currentLiveGameId=_0x356fdf['id'];const _0x406783=_0x356fdf[_0x4b2512(0xa8e)](),_0x508200=doc(db,_0x4b2512(0xa76)+appId+_0x4b2512(0xc34),_0x406783[_0x4b2512(0x802)]),_0x1c5b9f=await getDoc(_0x508200);_0x1c5b9f[_0x4b2512(0x14d)]()&&(currentQuizData=_0x406783[_0x4b2512(0xe1c)]);const _0x195036=doc(db,_0x4b2512(0xa76)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x26d116),_0x3d5be8=await getDoc(_0x195036);if(_0x3d5be8[_0x4b2512(0x14d)]())_0x2dc9f6[_0x4b2512(0x5f4)]=_0x4b2512(0xad8),await updateDoc(_0x195036,{'status':_0x4b2512(0x4f9)}),showMessage('ยินดีต้อนรับกลับ\x20'+_0x26d116+_0x4b2512(0x6c3));else{if(_0x406783['status']!=='lobby'){}_0x2dc9f6[_0x4b2512(0x5f4)]=_0x4b2512(0x7c3);const _0x4f9ef1={'name':_0x26d116,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x4b2512(0x4f9),'answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x195036,_0x4f9ef1);}currentStudentName=_0x26d116,localTeamPlayers=[_0x26d116],showView(_0x4b2512(0x7aa)),listenForSyncGameUpdates();const _0x19c654={'gameId':currentLiveGameId,'mode':_0x4b2512(0x17a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x4b2512(0xa3e),JSON[_0x4b2512(0x7cd)](_0x19c654));}catch(_0x155d7a){console[_0x4b2512(0x17d)](_0x4b2512(0x924),_0x155d7a),showMessage(_0x4b2512(0x42f)+_0x155d7a['message']);}finally{_0x2dc9f6[_0x4b2512(0x64b)]=![];if(_0x2dc9f6[_0x4b2512(0x5f4)]['includes'](_0x4b2512(0x7eb)))_0x2dc9f6[_0x4b2512(0x5f4)]=_0x4b2512(0x531);}}function displayStudentNameSelector(_0x507510,_0x28f6c2){const _0x3e1918=_0x448927,_0x35aad0=document['getElementById'](_0x3e1918(0xa4a));document[_0x3e1918(0xb18)]('student-quiz-topic')[_0x3e1918(0x633)]=_0x3e1918(0x777)+_0x28f6c2,!_0x507510||_0x507510['length']===0x0?(_0x35aad0['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x3e1918(0x64b)]=!![]):(_0x35aad0[_0x3e1918(0x5f4)]=_0x3e1918(0xb41),_0x507510[_0x3e1918(0x157)](_0x29049d=>{const _0x495320=_0x3e1918,_0x1901bd=document[_0x495320(0x4f0)](_0x495320(0x381));_0x1901bd[_0x495320(0x52d)]=_0x29049d,_0x1901bd[_0x495320(0x633)]=_0x29049d,_0x35aad0[_0x495320(0x220)](_0x1901bd);}),startQuizBtn[_0x3e1918(0x64b)]=![]),studentInitialView[_0x3e1918(0x82f)][_0x3e1918(0x24b)](_0x3e1918(0x5a9)),studentNameSelectionView[_0x3e1918(0x82f)]['remove'](_0x3e1918(0x5a9));}function shuffleArray(_0x5af8ac){const _0x32acc0=_0x448927;for(let _0x493d1d=_0x5af8ac[_0x32acc0(0xab1)]-0x1;_0x493d1d>0x0;_0x493d1d--){const _0x1e66db=Math[_0x32acc0(0x87b)](Math[_0x32acc0(0x63c)]()*(_0x493d1d+0x1));[_0x5af8ac[_0x493d1d],_0x5af8ac[_0x1e66db]]=[_0x5af8ac[_0x1e66db],_0x5af8ac[_0x493d1d]];}}function getShuffledQuiz(_0xca1fb2){const _0x478a7f=_0x448927;let _0x17a433=JSON['parse'](JSON['stringify'](_0xca1fb2));const _0x1ab276=_0x17a433[_0x478a7f(0xdbf)]?.[_0x478a7f(0x170)]||_0x478a7f(0x43f);if(_0x1ab276===_0x478a7f(0x43f))return _0x17a433;return(_0x1ab276==='questions_only'||_0x1ab276==='both')&&shuffleArray(_0x17a433[_0x478a7f(0x677)]),(_0x1ab276===_0x478a7f(0x8af)||_0x1ab276==='both')&&_0x17a433['questions'][_0x478a7f(0x157)](_0x3fb87c=>{const _0x50e9ab=_0x478a7f,_0x1ca557=_0x3fb87c['questionType']||_0x17a433[_0x50e9ab(0xafc)];if(_0x3fb87c[_0x50e9ab(0x6ca)]){let _0x2fa21e=_0x3fb87c[_0x50e9ab(0x6ca)][_0x50e9ab(0xad5)]((_0x1a778b,_0x3ccc71)=>({'text':_0x1a778b,'isCorrect':_0x3ccc71===_0x3fb87c[_0x50e9ab(0x662)]}));shuffleArray(_0x2fa21e),_0x3fb87c['options']=_0x2fa21e['map'](_0x543d0f=>_0x543d0f[_0x50e9ab(0xcfd)]),_0x3fb87c['correctAnswerIndex']=_0x2fa21e['findIndex'](_0x3dbd3c=>_0x3dbd3c[_0x50e9ab(0xc26)]);}_0x1ca557==='matching_item'&&_0x3fb87c[_0x50e9ab(0x320)]&&shuffleArray(_0x3fb87c[_0x50e9ab(0x320)]);}),_0x17a433;}function displayQuizForStudent(_0x50cb95){const _0x13e12f=_0x448927;studentQuizArea[_0x13e12f(0x82f)]['remove'](_0x13e12f(0x5a9)),currentDisplayedQuiz=getShuffledQuiz(_0x50cb95);currentMode!==_0x13e12f(0x4d3)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x13e12f(0xcc)](_0x13e12f(0x981),handleFullscreenChange),document[_0x13e12f(0xcc)](_0x13e12f(0xb94),handleVisibilityChange),enterFullscreen(),window[_0x13e12f(0xcc)]('mousemove',resetDimTimer),window[_0x13e12f(0xcc)]('mousedown',resetDimTimer),window[_0x13e12f(0xcc)]('touchstart',resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x3ca4e7=currentDisplayedQuiz[_0x13e12f(0xdbf)]?.[_0x13e12f(0x4df)]||'none';if(_0x3ca4e7==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x13e12f(0xdbf)][_0x13e12f(0xc89)]);else _0x3ca4e7===_0x13e12f(0x8e4)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x498f1c){const _0x21f7b9=_0x448927,_0x5ac695=document[_0x21f7b9(0xb18)](_0x21f7b9(0xad9)+_0x498f1c),_0x4e2ad7=document[_0x21f7b9(0xccb)](_0x21f7b9(0xc92));_0x4e2ad7['forEach'](_0x15198d=>{const _0x1ea796=_0x21f7b9;if(_0x15198d['id']!==_0x1ea796(0xad9)+_0x498f1c)_0x15198d[_0x1ea796(0x82f)]['add'](_0x1ea796(0x5a9));});if(_0x5ac695)_0x5ac695['classList'][_0x21f7b9(0xd6b)](_0x21f7b9(0x5a9));},window[_0x448927(0xd03)]=function(_0x3ccfd1,_0x36ce4e){const _0x2d62e7=_0x448927,_0x5c1cb3=currentDisplayedQuiz;if(!_0x5c1cb3)return;const _0x225794=_0x5c1cb3['questions'][_0x3ccfd1],_0x41f12a=_0x225794[_0x2d62e7(0x320)][_0x36ce4e],_0xd1a699=document[_0x2d62e7(0xb18)](_0x2d62e7(0x67c)+_0x3ccfd1);if(_0xd1a699)_0xd1a699[_0x2d62e7(0x52d)]=_0x41f12a;const _0x396e74=document['getElementById'](_0x2d62e7(0x9eb)+_0x3ccfd1);if(_0x396e74){_0x396e74[_0x2d62e7(0x5f4)]=_0x41f12a;if(window[_0x2d62e7(0x563)])MathJax['typesetPromise']([_0x396e74]);_0x396e74[_0x2d62e7(0x82f)][_0x2d62e7(0x24b)](_0x2d62e7(0xb28),'font-bold');}const _0x4b56e2=document['getElementById'](_0x2d62e7(0xad9)+_0x3ccfd1);if(_0x4b56e2)_0x4b56e2[_0x2d62e7(0x82f)][_0x2d62e7(0x24b)](_0x2d62e7(0x5a9));},document['addEventListener'](_0x448927(0x8b2),_0x236780=>{const _0x4d3c24=_0x448927;!_0x236780[_0x4d3c24(0x364)]['closest'](_0x4d3c24(0x8ec))&&document[_0x4d3c24(0xccb)](_0x4d3c24(0xc92))[_0x4d3c24(0x157)](_0x437111=>_0x437111['classList'][_0x4d3c24(0x24b)](_0x4d3c24(0x5a9)));});function renderFullQuizForm(){const _0xf990ee=_0x448927,_0xb2d97b=currentDisplayedQuiz['settings']?.[_0xf990ee(0x5ed)]===!![],_0x280477=currentDisplayedQuiz[_0xf990ee(0xdbf)]?.[_0xf990ee(0x5de)]||_0xf990ee(0x30a);let _0xb3413e=![],_0x13ec01=_0xf990ee(0x428)+currentDisplayedQuiz[_0xf990ee(0xda1)]+_0xf990ee(0x25f)+(currentMode===_0xf990ee(0x4d3)?_0xf990ee(0x972):'')+_0xf990ee(0x14b);currentDisplayedQuiz['questions']['forEach']((_0x43aad6,_0x1ad707)=>{const _0x5de85b=_0xf990ee,_0x5d65bd=_0x43aad6[_0x5de85b(0x3e6)]||currentDisplayedQuiz[_0x5de85b(0xafc)],_0x3079f5=_0x5de85b(0xce1)+(0x64-_0x1ad707)+';';_0x5d65bd===_0x5de85b(0x632)&&!_0xb3413e&&(_0x13ec01+=_0x5de85b(0xbdd),_0xb3413e=!![]);_0x13ec01+=_0x5de85b(0x5e1)+_0x3079f5+'\x22>';_0x5d65bd!=='matching_item'&&(_0x13ec01+=_0x5de85b(0xa7c)+(_0x1ad707+0x1)+'.\x20'+(_0x43aad6[_0x5de85b(0x4f7)]||_0x43aad6[_0x5de85b(0xb3b)])+_0x5de85b(0x289)+(_0x43aad6['imageCode']?_0x5de85b(0x712)+_0x43aad6[_0x5de85b(0x6a5)]+_0x5de85b(0x2b1):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');_0x13ec01+=_0x5de85b(0x260);if(_0x5d65bd===_0x5de85b(0x632)&&_0x43aad6[_0x5de85b(0x320)])_0x13ec01+=_0x5de85b(0x43a)+(_0x1ad707+0x1)+_0x5de85b(0xa46)+_0x43aad6[_0x5de85b(0xc35)]+_0x5de85b(0x441)+_0x1ad707+_0x5de85b(0x5fd)+_0x1ad707+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown('+_0x1ad707+_0x5de85b(0xd25)+_0x1ad707+'\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-'+_0x1ad707+_0x5de85b(0x678)+_0x43aad6[_0x5de85b(0x320)][_0x5de85b(0xad5)]((_0x5a87ff,_0x1c3edf)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption('+_0x1ad707+',\x20'+_0x1c3edf+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a87ff+_0x5de85b(0xb17))[_0x5de85b(0x222)]('')+_0x5de85b(0x434);else{if(_0x5d65bd===_0x5de85b(0xab0))_0x13ec01+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1ad707+_0x5de85b(0x108)+_0x1ad707+_0x5de85b(0xd40)+_0x1ad707+_0x5de85b(0x314),_0x13ec01+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1ad707+_0x5de85b(0xb5a)+_0x1ad707+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1ad707+'_opt1\x22>ไม่ใช่</label></div>';else _0x43aad6[_0x5de85b(0x6ca)]&&Array[_0x5de85b(0xbf1)](_0x43aad6[_0x5de85b(0x6ca)])&&_0x43aad6[_0x5de85b(0x6ca)]['length']>0x0?_0x13ec01+=_0x43aad6[_0x5de85b(0x6ca)][_0x5de85b(0xad5)]((_0x3baeb4,_0x35dd47)=>_0x5de85b(0x708)+_0x1ad707+'_opt'+_0x35dd47+_0x5de85b(0x10d)+_0x1ad707+_0x5de85b(0x7cc)+_0x35dd47+_0x5de85b(0xda8)+_0x1ad707+_0x5de85b(0xa59)+_0x35dd47+'\x22>'+_0x3baeb4+_0x5de85b(0x535))['join'](''):_0x13ec01+=_0x5de85b(0xe30)+_0x1ad707+_0x5de85b(0x681);}_0x13ec01+='</div>',_0xb2d97b&&(_0x13ec01+=_0x5de85b(0xc8b),_0x280477==='mandatory'?_0x13ec01+=_0x5de85b(0x4bb)+_0x1ad707+_0x5de85b(0xd68)+_0x1ad707+_0x5de85b(0x66b)+_0x1ad707+_0x5de85b(0x7ba)+_0x1ad707+_0x5de85b(0x2dd):_0x13ec01+=_0x5de85b(0x3b3)+_0x1ad707+_0x5de85b(0xd68)+_0x1ad707+_0x5de85b(0x495)+_0x1ad707+_0x5de85b(0xe39),_0x13ec01+=_0x5de85b(0x2b1)),_0x13ec01+='</div>';}),_0x13ec01+=_0xf990ee(0xaee),_0x13ec01+='</form>',studentQuizArea[_0xf990ee(0x5f4)]=_0x13ec01;if(currentMode===_0xf990ee(0x4d3)){const _0x4b3d99=document[_0xf990ee(0xb18)](_0xf990ee(0xcae));if(_0x4b3d99)_0x4b3d99[_0xf990ee(0xcc)](_0xf990ee(0x8b2),cancelAdminTest);}const _0x25667c=document['getElementById']('quiz-form');_0x25667c&&(_0x25667c[_0xf990ee(0xcc)](_0xf990ee(0x7ad),handleSubmitQuiz),_0x25667c[_0xf990ee(0xcc)](_0xf990ee(0x8b2),_0x55467b=>{const _0x3e7685=_0xf990ee;if(_0x55467b[_0x3e7685(0x364)]['classList'][_0x3e7685(0xb15)](_0x3e7685(0x9ea))){const _0x1aa955=_0x55467b[_0x3e7685(0x364)],_0x3d7da0=_0x1aa955['dataset'][_0x3e7685(0x74b)],_0x3b5232=_0x1aa955['dataset'][_0x3e7685(0x52d)];document[_0x3e7685(0xb18)]('confidence-input-'+_0x3d7da0)['value']=_0x3b5232;const _0x12b974=_0x1aa955[_0x3e7685(0x670)];_0x12b974[_0x3e7685(0xccb)](_0x3e7685(0x655))[_0x3e7685(0x157)](_0x51e725=>_0x51e725['classList'][_0x3e7685(0xa1f)](_0x3e7685(0x4f9))),_0x1aa955[_0x3e7685(0x82f)][_0x3e7685(0x24b)](_0x3e7685(0x4f9));}})),window['MathJax']&&setTimeout(()=>{const _0x13c611=_0xf990ee;window['MathJax'][_0x13c611(0xd16)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x112389){const _0x4be58b=_0x448927;if(_0x112389)_0x112389[_0x4be58b(0x105)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5d5113=document[_0x4be58b(0xb18)]('quiz-form');if(!_0x5d5113)return;const _0x10f01c=currentDisplayedQuiz[_0x4be58b(0xdbf)]?.[_0x4be58b(0x5ed)]===!![],_0xc47959=currentDisplayedQuiz[_0x4be58b(0xdbf)]?.[_0x4be58b(0x5de)]||_0x4be58b(0x30a);if(_0x10f01c&&_0xc47959===_0x4be58b(0x51d)){let _0x4a50d1=!![];for(let _0x21ee0b=0x0;_0x21ee0b<currentDisplayedQuiz[_0x4be58b(0x677)][_0x4be58b(0xab1)];_0x21ee0b++){const _0x368f31=_0x5d5113[_0x4be58b(0x877)](_0x4be58b(0x392)+_0x21ee0b);if(!_0x368f31||_0x368f31[_0x4be58b(0x52d)]===''){_0x4a50d1=![];break;}}if(!_0x4a50d1){showMessage(_0x4be58b(0xb80));return;}}const _0x34331e=_0x5d5113[_0x4be58b(0x877)](_0x4be58b(0xc60)),_0x1a0e3a=currentDisplayedQuiz[_0x4be58b(0x677)][_0x4be58b(0xd3)](_0x54e1fc=>_0x54e1fc[_0x4be58b(0x3e6)]==='short_answer');_0x34331e&&(_0x34331e['disabled']=!![],_0x34331e[_0x4be58b(0x5f4)]=_0x1a0e3a?_0x4be58b(0xadf):_0x4be58b(0x6ee));const _0x16553e=new FormData(_0x5d5113),_0x494767=currentDisplayedQuiz[_0x4be58b(0x677)][_0x4be58b(0xad5)]((_0xa155f,_0x1d0b92)=>{const _0x2060a4=_0x4be58b,_0x1e5d01=_0x16553e[_0x2060a4(0xdbc)](_0x2060a4(0x339)+_0x1d0b92);let _0x35b0b9;_0xc47959===_0x2060a4(0x51d)?_0x35b0b9=_0x16553e[_0x2060a4(0xdbc)]('confidence'+_0x1d0b92):_0x35b0b9=_0x16553e[_0x2060a4(0xdbc)]('confidence'+_0x1d0b92)==='on';let _0x324998=null;if(_0x1e5d01!==null&&_0x1e5d01!==undefined){const _0x2da462=_0xa155f[_0x2060a4(0x3e6)]||currentDisplayedQuiz['quizType'];_0x2da462===_0x2060a4(0x232)||_0x2da462==='fill_in_the_blank'?_0x324998=parseInt(_0x1e5d01):_0x324998=_0x1e5d01;}return{'answer':_0x324998,'wasConfident':_0x35b0b9};}),_0x5118bf=currentQuizData['id'],_0x5b5ae3=doc(db,'artifacts/'+appId+_0x4be58b(0xb87)+_0x5118bf+_0x4be58b(0xd90),currentStudentName),_0x5ce1cb=await getDoc(_0x5b5ae3),_0x21d15d=_0x5ce1cb[_0x4be58b(0x14d)]()?_0x5ce1cb[_0x4be58b(0xa8e)]():{},_0x31307a=_0x21d15d[_0x4be58b(0x975)]||[];await processAndSubmitAnswers(_0x494767,_0x31307a);}async function gradeShortAnswerWithAI(_0x57be8f,_0xfc5ce4){const _0x380287=_0x448927;if(!_0x57be8f||!_0xfc5ce4)return![];try{const _0x5e2a73=_0x380287(0x290)+_0x57be8f+_0x380287(0xb05)+_0xfc5ce4+_0x380287(0x549),_0x30b87a={'contents':[{'role':_0x380287(0xbb0),'parts':[{'text':_0x5e2a73}]}]},_0x1522f7=_0x380287(0xad2),_0x5e2240=_0x380287(0x541)+_0x1522f7,_0x33a2e4=await fetch(_0x5e2240,{'method':'POST','headers':{'Content-Type':_0x380287(0x92d)},'body':JSON['stringify'](_0x30b87a)});if(!_0x33a2e4['ok'])throw new Error('API\x20call\x20failed');const _0x3ef09d=await _0x33a2e4[_0x380287(0x5e8)](),_0x11e0e2=_0x3ef09d['candidates'][0x0]['content'][_0x380287(0x7fe)][0x0]['text'][_0x380287(0xb5b)]()[_0x380287(0x123)]();return _0x11e0e2===_0x380287(0xd3d);}catch(_0x4c1cce){return console[_0x380287(0x17d)](_0x380287(0x1cd),_0x4c1cce),![];}}async function processAndSubmitAnswers(_0x29f67d,_0x140957){const _0x371219=_0x448927;releaseWakeLock(),stopDimTimer();try{document['fullscreenElement']&&await document[_0x371219(0x45f)]();}catch(_0x425686){console[_0x371219(0x85b)](_0x371219(0x1e6),_0x425686);}isQuizActive=![],document[_0x371219(0xcec)](_0x371219(0x981),handleFullscreenChange),document[_0x371219(0xcec)](_0x371219(0xb94),handleVisibilityChange);let _0xfb52ba=0x0;const _0x412bcc=[],_0x20f215=currentDisplayedQuiz[_0x371219(0x677)][_0x371219(0xab1)];let _0x45c0f0=0x0,_0x13b49c=[];const _0x440933=currentDisplayedQuiz[_0x371219(0x677)];for(let _0x408dc9=0x0;_0x408dc9<_0x440933['length'];_0x408dc9++){const _0x3d3966=_0x440933[_0x408dc9],_0x23fd57=_0x29f67d[_0x408dc9],_0x5b8168=_0x23fd57?_0x23fd57[_0x371219(0x71e)]:null,_0x264eed=_0x23fd57?_0x23fd57[_0x371219(0xc3c)]:null;let _0x233a55=![],_0x1fa3f8=0x0;if(_0x5b8168!==null&&_0x5b8168!==''){const _0xcaffbe=_0x3d3966[_0x371219(0x3e6)]||currentDisplayedQuiz['quizType'];switch(_0xcaffbe){case'matching_item':_0x233a55=_0x5b8168===_0x3d3966[_0x371219(0x993)];break;case _0x371219(0xab0):const _0x49e2e6=_0x5b8168===!![]||_0x5b8168===_0x371219(0xd3d);_0x233a55=_0x49e2e6===_0x3d3966[_0x371219(0xaf4)];break;case _0x371219(0x2ad):case _0x371219(0x706):_0x233a55=await gradeShortAnswer(_0x5b8168,_0x3d3966);break;case'multiple_choice':case _0x371219(0xa67):default:_0x233a55=Number(_0x5b8168)===_0x3d3966['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x371219(0xdbf)]?.[_0x371219(0x5ed)]){const _0x942d94=_0x23fd57?_0x23fd57[_0x371219(0xc3c)]:null;if(_0x233a55&&(_0x942d94===!![]||_0x942d94===_0x371219(0x1c5)))_0x1fa3f8=0x2;else{if(_0x233a55)_0x1fa3f8=0x1;else{if(!_0x233a55&&(_0x942d94===![]||_0x942d94===_0x371219(0x606)||_0x942d94===null))_0x1fa3f8=0x0;else!_0x233a55&&(_0x942d94===!![]||_0x942d94==='confident')&&(_0x1fa3f8=-0x1);}}}else _0x1fa3f8=_0x233a55?0x1:0x0;_0xfb52ba+=_0x1fa3f8;if(_0x233a55){_0x45c0f0++;if(_0x45c0f0===0x3)_0x13b49c[_0x371219(0x626)](BADGES[_0x371219(0x293)]['id']);}else _0x45c0f0=0x0;let _0x1a7bc3=null;_0x3d3966['options']&&(_0x3d3966[_0x371219(0x3e6)]===_0x371219(0x232)||_0x3d3966[_0x371219(0x3e6)]===_0x371219(0xa67))&&_0x5b8168!==null?_0x1a7bc3=_0x3d3966[_0x371219(0x6ca)][_0x5b8168]:_0x1a7bc3=_0x5b8168,_0x412bcc['push']({'questionId':_0x3d3966['id'],'answer':_0x5b8168,'answerText':_0x1a7bc3,'isCorrect':_0x233a55,'wasConfident':_0x264eed,'pointsAwarded':_0x1fa3f8,'originalQuestionText':_0x3d3966['stem']||_0x3d3966[_0x371219(0xb3b)]});}const _0x3af2a7=_0x412bcc['filter'](_0x1ccd4c=>_0x1ccd4c[_0x371219(0xc26)])[_0x371219(0xab1)],_0x38e576=currentDisplayedQuiz[_0x371219(0xdbf)]?.[_0x371219(0xb52)]??Math['floor'](_0x20f215/0x2);_0x3af2a7===_0x20f215&&_0x20f215>0x0&&!currentDisplayedQuiz[_0x371219(0x11b)]&&_0x13b49c[_0x371219(0x626)](BADGES[_0x371219(0x446)]['id']);const _0x495616=currentDisplayedQuiz[_0x371219(0xdbf)]?.[_0x371219(0x4df)];if(_0x495616===_0x371219(0x268)&&quizStartTime){const _0x56194e=(new Date()-quizStartTime)/0x3e8,_0x36612f=currentDisplayedQuiz[_0x371219(0xdbf)][_0x371219(0xc89)]*0x3c;_0x3af2a7>=_0x38e576&&_0x56194e<_0x36612f/0x2&&_0x13b49c[_0x371219(0x626)](BADGES[_0x371219(0xe4c)]['id']);}_0x140957['length']===0x0&&_0x3af2a7===_0x20f215&&_0x20f215>0x0&&_0x13b49c[_0x371219(0x626)](BADGES[_0x371219(0x2ee)]['id']);if(_0x140957[_0x371219(0xab1)]>0x0){const _0x229912=_0x140957[0x0]['score'];if(_0x229912<_0x38e576&&_0x3af2a7>=_0x38e576){const _0x64bb36=_0x140957[_0x371219(0xd3)](_0x417d01=>(_0x417d01[_0x371219(0x4b3)]||[])[_0x371219(0x2e7)](BADGES[_0x371219(0xb82)]['id']));!_0x64bb36&&_0x13b49c[_0x371219(0x626)](BADGES[_0x371219(0xb82)]['id']);}}_0x140957[_0x371219(0xab1)]===0x4&&_0x13b49c['push'](BADGES[_0x371219(0xd14)]['id']);const _0x4c560a=currentDisplayedQuiz[_0x371219(0xdbf)][_0x371219(0x536)];if(currentMode===_0x371219(0x4d3)){handleResultDisplay(_0x4c560a,_0x3af2a7,_0xfb52ba,_0x13b49c,_0x412bcc,_0x20f215);return;}const _0x16fcd8=currentQuizData['id'],_0x22b8d2=doc(db,_0x371219(0xa76)+appId+'/public/data/quizzes/'+_0x16fcd8+_0x371219(0xd90),currentStudentName);try{const _0x3f4627=[..._0x140957],_0x51ad87={'score':_0x3af2a7,'points':_0xfb52ba,'badges':Array[_0x371219(0x2ce)](new Set(_0x13b49c)),'submittedAt':new Date()['toISOString'](),'answers':_0x412bcc};_0x3f4627[_0x371219(0x626)](_0x51ad87);const _0xf4b5fb=_0x140957[_0x371219(0xab1)]===0x0?_0x3af2a7:_0x140957[0x0][_0x371219(0x87c)]||0x0,_0x432de7=Math[_0x371219(0x90d)](..._0x3f4627['map'](_0x3205b5=>_0x3205b5['score']));await setDoc(_0x22b8d2,{'studentName':currentStudentName,'totalQuestions':_0x20f215,'attempts':_0x3f4627,'firstScore':_0xf4b5fb,'bestScore':_0x432de7,'latestScore':_0x3af2a7,'points':_0xfb52ba,'latestSubmittedAt':_0x51ad87[_0x371219(0x7ee)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x371219(0x111)],currentStudentName),handleResultDisplay(_0x4c560a,_0x3af2a7,_0xfb52ba,_0x13b49c,_0x412bcc,_0x20f215);}catch(_0x938520){console[_0x371219(0x17d)](_0x371219(0xc71),_0x938520),showMessage(_0x371219(0xbbe));}}async function updateStudentProfile(_0x7a515c,_0x5ab924){const _0x826060=_0x448927,_0xa65960=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x7a515c+_0x826060(0x15e),_0x5ab924);try{const _0x195045=query(collection(db,_0x826060(0xa76)+appId+_0x826060(0xc34)),where(_0x826060(0x111),'==',_0x7a515c)),_0x26ec18=await getDocs(_0x195045),_0x2617ac=_0x26ec18['docs'][_0x826060(0xad5)](_0x424a88=>_0x424a88['id']);let _0x1734ab=0x0;const _0x309ea6={},_0x26b762=_0x2617ac[_0x826060(0xad5)](_0x4e0ac6=>getDoc(doc(db,_0x826060(0xa76)+appId+'/public/data/quizzes/'+_0x4e0ac6+_0x826060(0xd90),_0x5ab924))),_0x241d38=await Promise[_0x826060(0xd05)](_0x26b762);_0x241d38[_0x826060(0x157)](_0x3e1415=>{const _0x38f595=_0x826060;if(_0x3e1415[_0x38f595(0x14d)]()){const _0x1e5720=_0x3e1415['data']();_0x1734ab+=_0x1e5720[_0x38f595(0xbcd)]||0x0,_0x1e5720[_0x38f595(0x975)]&&_0x1e5720[_0x38f595(0x975)][_0x38f595(0x157)](_0xf1f2a4=>{const _0x4fdda9=_0x38f595;_0xf1f2a4[_0x4fdda9(0x4b3)]&&_0xf1f2a4[_0x4fdda9(0x4b3)][_0x4fdda9(0x157)](_0x4383f2=>{});});}}),await setDoc(_0xa65960,{'studentName':_0x5ab924,'totalPoints':_0x1734ab},{'merge':!![]});}catch(_0xce59c7){console[_0x826060(0x17d)]('Profile\x20recalculation\x20error:',_0xce59c7);}}function startAdminTest(){const _0x3977c9=_0x448927;if(!currentQuizData){showMessage(_0x3977c9(0x716));return;}let _0x53e386=JSON[_0x3977c9(0x510)](JSON[_0x3977c9(0x7cd)](currentQuizData));currentMode='admin-testing',currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x3977c9(0x82f)][_0x3977c9(0x24b)]('hidden'),studentView['classList'][_0x3977c9(0xa1f)](_0x3977c9(0x5a9)),studentInitialView[_0x3977c9(0x82f)][_0x3977c9(0x24b)](_0x3977c9(0x5a9)),studentNameSelectionView[_0x3977c9(0x82f)]['add'](_0x3977c9(0x5a9)),studentResultArea[_0x3977c9(0x82f)]['add'](_0x3977c9(0x5a9)),studentQuizArea[_0x3977c9(0x82f)][_0x3977c9(0xa1f)](_0x3977c9(0x5a9)),quizStartTime=new Date(),displayQuizForStudent(_0x53e386);}function handleResultDisplay(_0x35d045,_0x5a171e,_0x25fee5,_0x46667f,_0x2fa2b6,_0x30405f){const _0x37b161=_0x448927;if(_0x35d045===_0x37b161(0x97b)){displaySubmissionConfirmation();return;}const _0x5af6f7=currentDisplayedQuiz['settings']?.[_0x37b161(0xb52)]??Math['floor'](_0x30405f/0x2),_0xea0fac=currentDisplayedQuiz[_0x37b161(0xdbf)]?.['isAdaptive']??![],_0x5e441a=currentDisplayedQuiz[_0x37b161(0xdbf)]?.['loopUntilPass']===!![],_0x529a28=_0x5a171e<_0x5af6f7,_0x150c51=_0x35d045===_0x37b161(0x2eb)||_0x35d045==='perfect_score_status';if(_0x5e441a&&_0x529a28&&!_0x150c51){_0x35d045==='show_results_and_answers'?displayResultsWithAnswers(_0x5a171e,_0x25fee5,_0x46667f,_0x2fa2b6,_0x30405f,!![]):displayLoopScreen(_0x5a171e,_0x30405f,_0x35d045);return;}if(_0xea0fac&&_0x529a28){startAdaptiveFlow(_0x2fa2b6,_0x5a171e,_0x30405f);return;}switch(_0x35d045){case _0x37b161(0xb59):displayResultsWithAnswers(_0x5a171e,_0x25fee5,_0x46667f,_0x2fa2b6,_0x30405f);break;case'show_results_only':displayResultsScoreOnly(_0x5a171e,_0x25fee5,_0x46667f,_0x30405f);break;case _0x37b161(0x4fb):displayPassFailOnly(_0x5a171e,_0x30405f);break;case _0x37b161(0x2eb):displayHalfMarkResult(_0x5a171e,_0x30405f);break;case _0x37b161(0x34f):displayPerfectScoreResult(_0x5a171e,_0x30405f);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x53a7c1){const _0x3e15d6=_0x448927;studentReadingArea['innerHTML']=_0x3e15d6(0xbf);const _0x4267da=_0x3e15d6(0xde3)+_0x53a7c1+_0x3e15d6(0x796)+simpleMathPrompt+_0x3e15d6(0x3d4),_0x3ea366={'type':_0x3e15d6(0x16b),'properties':{'questionText':{'type':_0x3e15d6(0x60a)},'options':{'type':_0x3e15d6(0x5b3),'items':{'type':_0x3e15d6(0x60a)}},'correctAnswerIndex':{'type':_0x3e15d6(0xd7a)},'explanation':{'type':_0x3e15d6(0x60a)}},'required':[_0x3e15d6(0xb3b),'options',_0x3e15d6(0x662),_0x3e15d6(0x749)]},_0x26f00c={'type':_0x3e15d6(0x16b),'properties':{'topic':{'type':_0x3e15d6(0x60a)},'questions':{'type':_0x3e15d6(0x5b3),'items':_0x3ea366}},'required':['topic',_0x3e15d6(0x677)]};try{const _0x315767=await callAnalysisApi(_0x4267da,_0x26f00c);_0x315767[_0x3e15d6(0x11b)]=!![],studentReadingArea['classList'][_0x3e15d6(0x24b)](_0x3e15d6(0x5a9));const _0x238b18={...currentDisplayedQuiz[_0x3e15d6(0xdbf)],'isAdaptive':![],'resultsDisplay':_0x3e15d6(0xb59)};_0x315767['settings']=_0x238b18,displayQuizForStudent(_0x315767);}catch(_0x18bd0f){console[_0x3e15d6(0x17d)](_0x3e15d6(0x7ef),_0x18bd0f),showMessage(_0x3e15d6(0xded)),showView(_0x3e15d6(0x4a1));}}function displayPassFailOnly(_0x39d90e,_0x346d75){const _0x12c6dc=_0x448927,_0x34ca54=currentDisplayedQuiz[_0x12c6dc(0xdbf)]?.[_0x12c6dc(0xb52)]??-0x1,_0x9d0f2f=currentDisplayedQuiz[_0x12c6dc(0x11b)]===!![];let _0xba405b='',_0x1619e8=![];if(_0x9d0f2f||_0x34ca54!==-0x1){_0x1619e8=_0x9d0f2f?_0x39d90e===_0x346d75:_0x39d90e>=_0x34ca54;const _0x56364d=_0x1619e8?_0x12c6dc(0x107):_0x12c6dc(0x84d),_0x198f87=_0x1619e8?_0x12c6dc(0xd98):'ไม่ผ่าน';_0xba405b=_0x12c6dc(0x7a2)+_0x56364d+'\x22>'+_0x198f87+'</span></div>';}else _0xba405b=_0x12c6dc(0x825);let _0x5a3592='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x12c6dc(0x3a2)+_0xba405b+_0x12c6dc(0x1b5);studentResultArea[_0x12c6dc(0x5f4)]=_0x5a3592,studentResultArea[_0x12c6dc(0x82f)][_0x12c6dc(0xa1f)]('hidden'),studentQuizArea[_0x12c6dc(0x82f)][_0x12c6dc(0x24b)](_0x12c6dc(0x5a9)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1619e8});}function cancelAdminTest(){const _0x3c5b90=_0x448927;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x3c5b90(0xcec)](_0x3c5b90(0x981),handleFullscreenChange),document[_0x3c5b90(0xcec)](_0x3c5b90(0xb94),handleVisibilityChange),currentMode=_0x3c5b90(0xa1d),studentView[_0x3c5b90(0x82f)][_0x3c5b90(0x24b)]('hidden'),adminView[_0x3c5b90(0x82f)][_0x3c5b90(0xa1f)](_0x3c5b90(0x5a9)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x3c5b90(0xcef));}function setupResultScreenBackButton(_0x22f52e){const _0x483be3=_0x448927,_0x76eea4={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x22f52e};if(_0x76eea4[_0x483be3(0x20c)]){const _0x15e419=_0x483be3(0xe31);studentResultArea[_0x483be3(0x4c3)](_0x483be3(0x8a6),_0x15e419),document['getElementById'](_0x483be3(0x565))[_0x483be3(0xcc)](_0x483be3(0x8b2),()=>{const _0x208782=_0x483be3;studentResultArea[_0x208782(0x82f)][_0x208782(0x24b)](_0x208782(0x5a9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5418f5=_0x483be3(0xd11),_0x435455=currentMode===_0x483be3(0x4d3),_0x49958=_0x435455?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x3088da='';_0x76eea4[_0x483be3(0xcbc)]&&(_0x3088da+=_0x483be3(0x459));let _0x189bc7=_0x76eea4[_0x483be3(0x801)];_0x189bc7===undefined&&(_0x189bc7=_0x76eea4[_0x483be3(0x87c)]<_0x76eea4['totalQuestions']);_0x189bc7&&(_0x3088da+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x3088da+='<button\x20id=\x22'+_0x5418f5+_0x483be3(0xbc5)+_0x49958+_0x483be3(0x174);const _0x44acbd=_0x483be3(0xdfe)+_0x3088da+_0x483be3(0x2b1);studentResultArea['insertAdjacentHTML'](_0x483be3(0x8a6),_0x44acbd),studentResultArea['querySelector'](_0x483be3(0x3ae))?.[_0x483be3(0xcc)]('click',handleShowStudentRankings);const _0x2d86b2=studentResultArea[_0x483be3(0x877)](_0x483be3(0x86c));_0x2d86b2&&_0x2d86b2[_0x483be3(0xcc)](_0x483be3(0x8b2),()=>{const _0x42b599=_0x483be3;studentResultArea[_0x42b599(0x82f)][_0x42b599(0x24b)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x483be3(0xb18)](_0x5418f5)['addEventListener'](_0x483be3(0x8b2),()=>{const _0x2d4e9b=_0x483be3;_0x435455?(currentMode=_0x2d4e9b(0xa1d),studentView['classList'][_0x2d4e9b(0x24b)](_0x2d4e9b(0x5a9)),adminView[_0x2d4e9b(0x82f)]['remove'](_0x2d4e9b(0x5a9)),showView(_0x2d4e9b(0xcef))):(showView('student'),document[_0x2d4e9b(0xb18)](_0x2d4e9b(0x474))[_0x2d4e9b(0x52d)]='');});}function displayResultsWithAnswers(_0x238e9c,_0x104483,_0x4fa29c,_0x436c79,_0x4e5b24,_0x1838e8=![]){const _0x3126d2=_0x448927,_0x3d2928=_0x4e5b24>0x0?_0x238e9c/_0x4e5b24*0x64:0x0,_0x3b08f9=currentDisplayedQuiz[_0x3126d2(0xdbf)]?.[_0x3126d2(0xb52)]??-0x1,_0x5de505=currentDisplayedQuiz[_0x3126d2(0x11b)]===!![];let _0x3911d6='';if(_0x5de505||_0x3b08f9!==-0x1){let _0x32dec7=_0x5de505?_0x238e9c===_0x4e5b24:_0x238e9c>=_0x3b08f9;const _0x8146ba=_0x32dec7?_0x3126d2(0x107):_0x3126d2(0x84d),_0x3749f9=_0x32dec7?_0x3126d2(0xd98):'ไม่ผ่าน';_0x3911d6=_0x3126d2(0xd2f)+_0x8146ba+'\x22>'+_0x3749f9+_0x3126d2(0xc4e);}let _0x4c0099=_0x3126d2(0xcbd)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x238e9c+_0x3126d2(0x968)+_0x4e5b24+_0x3126d2(0x284)+_0x3911d6+_0x3126d2(0x705)+_0x104483+_0x3126d2(0xbb1)+_0x3d2928[_0x3126d2(0xca2)](0x0)+_0x3126d2(0xd9);currentDisplayedQuiz['questions'][_0x3126d2(0x157)]((_0x129604,_0x43b378)=>{const _0x3e63d6=_0x3126d2,_0x59ffdd=_0x436c79[_0x43b378],_0x2f9eb9=_0x59ffdd[_0x3e63d6(0x71e)],_0x40d7dc=_0x59ffdd[_0x3e63d6(0xc26)],_0x58a972=_0x129604['questionType']||currentDisplayedQuiz['quizType'];_0x4c0099+=_0x3e63d6(0x45e)+(_0x40d7dc?_0x3e63d6(0xb07):'border-red-300\x20bg-red-50')+_0x3e63d6(0xb7c)+(_0x43b378+0x1)+'.\x20'+(_0x129604[_0x3e63d6(0xc35)]||_0x129604[_0x3e63d6(0xb3b)])+_0x3e63d6(0x163);switch(_0x58a972){case'matching_item':const _0x3ffccf=_0x2f9eb9||_0x3e63d6(0x4dc),_0x28190f=_0x129604[_0x3e63d6(0x993)];_0x4c0099+=_0x3e63d6(0xbd9)+(!_0x40d7dc?_0x3e63d6(0xdf9):'')+'\x22>'+_0x3ffccf+_0x3e63d6(0x8a9);!_0x40d7dc&&(_0x4c0099+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x28190f+_0x3e63d6(0xc4e));break;case'fill_in_no_choices':case _0x3e63d6(0x706):_0x4c0099+=_0x3e63d6(0x503)+(_0x2f9eb9||_0x3e63d6(0x4dc))+_0x3e63d6(0xc4e),_0x4c0099+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x129604[_0x3e63d6(0xcac)]+_0x3e63d6(0xc4e);break;case _0x3e63d6(0xab0):_0x4c0099+='<p\x20class=\x22'+(_0x129604[_0x3e63d6(0xaf4)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x2f9eb9==='true'&&!_0x40d7dc?'line-through\x20text-red-700':'')+_0x3e63d6(0x57f),_0x4c0099+=_0x3e63d6(0x1f4)+(_0x129604[_0x3e63d6(0xaf4)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x2f9eb9===_0x3e63d6(0x746)&&!_0x40d7dc?_0x3e63d6(0xdf9):'')+_0x3e63d6(0x158);break;case _0x3e63d6(0x232):case _0x3e63d6(0xa67):default:if(_0x129604['options']&&Array[_0x3e63d6(0xbf1)](_0x129604[_0x3e63d6(0x6ca)]))_0x4c0099+=_0x129604[_0x3e63d6(0x6ca)][_0x3e63d6(0xad5)]((_0xbed4a7,_0x487879)=>{const _0x1f5a06=_0x3e63d6;let _0x32c250='',_0x34efb3='';if(_0x487879===_0x129604[_0x1f5a06(0x662)])_0x32c250=_0x1f5a06(0x2a1),_0x34efb3=_0x1f5a06(0xa55);else _0x487879===_0x2f9eb9&&(_0x32c250=_0x1f5a06(0x1a2),_0x34efb3=_0x1f5a06(0xe22));return _0x1f5a06(0x78f)+_0x32c250+'\x22>'+_0x34efb3+_0xbed4a7+'</div>';})['join']('');else{_0x4c0099+=_0x3e63d6(0x503)+(_0x2f9eb9||_0x3e63d6(0x4dc))+_0x3e63d6(0xc4e);if(!_0x40d7dc)_0x4c0099+='<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>';}break;}_0x4c0099+=_0x3e63d6(0xa49)+(_0x129604[_0x3e63d6(0x749)]||_0x3e63d6(0x2fb))+_0x3e63d6(0x2b1);if(!_0x40d7dc){const _0x4c0b77=_0x129604[_0x3e63d6(0xc35)]||_0x129604[_0x3e63d6(0xb3b)];_0x4c0099+=_0x3e63d6(0xc87)+escape(_0x4c0b77)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x4c0099+=_0x3e63d6(0x2b1);}),studentResultArea['innerHTML']=_0x4c0099,renderEarnedBadges(_0x4fa29c,'earned-badges-container'),studentResultArea['classList'][_0x3126d2(0xa1f)](_0x3126d2(0x5a9)),studentQuizArea['classList'][_0x3126d2(0x24b)](_0x3126d2(0x5a9)),setupResultScreenBackButton({'isLooping':_0x1838e8,'score':_0x238e9c,'totalQuestions':_0x4e5b24,'showRankings':!![]});if(window['MathJax'])window['MathJax']['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x5cbe6d,_0x414aea,_0xc2a896,_0x24c864){const _0x34bc11=_0x448927,_0x395a5e=_0x24c864>0x0?_0x5cbe6d/_0x24c864*0x64:0x0,_0x4a161c=currentDisplayedQuiz['settings']?.[_0x34bc11(0xb52)]??-0x1,_0x4ed49e=currentDisplayedQuiz[_0x34bc11(0x11b)]===!![];let _0x21beac='';if(_0x4ed49e||_0x4a161c!==-0x1){let _0x5115fb=_0x4ed49e?_0x5cbe6d===_0x24c864:_0x5cbe6d>=_0x4a161c;const _0x59e908=_0x5115fb?_0x34bc11(0x107):_0x34bc11(0x84d),_0x13f942=_0x5115fb?_0x34bc11(0xd98):_0x34bc11(0x3dd);_0x21beac=_0x34bc11(0xd2f)+_0x59e908+'\x22>'+_0x13f942+_0x34bc11(0xc4e);}let _0x5dbf22=_0x34bc11(0x9b2)+currentStudentName+_0x34bc11(0xd85)+_0x5cbe6d+_0x34bc11(0x5bf)+_0x24c864+_0x34bc11(0x284)+_0x21beac+_0x34bc11(0x705)+_0x414aea+_0x34bc11(0xa03)+_0x395a5e['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x34bc11(0x5f4)]=_0x5dbf22,renderEarnedBadges(_0xc2a896,'earned-badges-container'),studentResultArea['classList'][_0x34bc11(0xa1f)](_0x34bc11(0x5a9)),studentQuizArea[_0x34bc11(0x82f)]['add'](_0x34bc11(0x5a9)),setupResultScreenBackButton({'score':_0x5cbe6d,'totalQuestions':_0x24c864,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3bc62b=_0x448927;let _0x213d3c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x3bc62b(0x697);studentResultArea[_0x3bc62b(0x5f4)]=_0x213d3c,studentResultArea[_0x3bc62b(0x82f)][_0x3bc62b(0xa1f)](_0x3bc62b(0x5a9)),studentQuizArea['classList'][_0x3bc62b(0x24b)](_0x3bc62b(0x5a9)),document[_0x3bc62b(0xb18)]('back-to-home-manual-release')[_0x3bc62b(0xcc)](_0x3bc62b(0x8b2),()=>{const _0x20b313=_0x3bc62b;showView(_0x20b313(0x4a1)),document[_0x20b313(0xb18)](_0x20b313(0x474))[_0x20b313(0x52d)]='';});}function renderEarnedBadges(_0x3e9151,_0x107eab){const _0x2e3609=_0x448927,_0x4fa6e4=document['getElementById'](_0x107eab);if(!_0x4fa6e4||!_0x3e9151||_0x3e9151['length']===0x0)return;let _0x5e07d0='';_0x3e9151['forEach']((_0x52cdef,_0x13ef95)=>{const _0x3a2692=_0x2e12,_0x588a2f=Object[_0x3a2692(0x56e)](BADGES)[_0x3a2692(0x8c0)](_0x4db50e=>_0x4db50e['id']===_0x52cdef);_0x588a2f&&(_0x5e07d0+=_0x3a2692(0xad0)+_0x13ef95*0.2+_0x3a2692(0x3ef)+_0x588a2f[_0x3a2692(0xddd)]+_0x3a2692(0x9a8)+_0x588a2f[_0x3a2692(0xbca)]+_0x3a2692(0x5f7)+_0x588a2f[_0x3a2692(0x2d2)]+_0x3a2692(0xd72));}),_0x4fa6e4[_0x2e3609(0x5f4)]=_0x5e07d0;}function startPresentation(_0x4d65dc){const _0x52a03a=_0x448927;currentQuizData=getShuffledQuiz(_0x4d65dc),currentPresentationSlide=0x0,presentationModal[_0x52a03a(0xbaf)][_0x52a03a(0x738)]=_0x52a03a(0xca),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x321ef0=_0x448927;document['fullscreenElement']&&document[_0x321ef0(0x45f)](),presentationModal[_0x321ef0(0xbaf)]['display']=_0x321ef0(0x43f);}function renderPresentationSlide(_0x19885c){const _0x394edc=_0x448927,_0x11f0ea=document[_0x394edc(0xb18)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x394edc(0x677)]||!currentQuizData[_0x394edc(0x677)][_0x19885c]){_0x11f0ea['innerHTML']=_0x394edc(0xdf1);return;}const _0x2adfea=currentQuizData['questions'][_0x19885c],_0x46c460=_0x2adfea[_0x394edc(0x3e6)]||currentQuizData[_0x394edc(0xafc)];_0x11f0ea[_0x394edc(0x5f4)]='';let _0x5d762f=_0x394edc(0x6fd)+(_0x2adfea[_0x394edc(0x6a5)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2adfea['imageCode']+_0x394edc(0x2b1):'')+_0x394edc(0x97a)+(_0x19885c+0x1)+'.\x20'+(_0x2adfea['stem']||_0x2adfea[_0x394edc(0xb3b)])+_0x394edc(0xc9a);switch(_0x46c460){case _0x394edc(0x632):_0x5d762f+=_0x2adfea[_0x394edc(0x320)][_0x394edc(0xad5)](_0x256ad8=>_0x394edc(0xd8b)+_0x256ad8+_0x394edc(0x71a))[_0x394edc(0x222)]('');break;case _0x394edc(0xab0):_0x5d762f+=_0x394edc(0x598),_0x5d762f+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x394edc(0x2ad):case'short_answer':_0x5d762f+=_0x394edc(0x357);break;case _0x394edc(0xbd8):case _0x394edc(0x232):default:_0x5d762f+=_0x2adfea[_0x394edc(0x6ca)]['map']((_0x28860f,_0x37a9b3)=>_0x394edc(0x750)+_0x37a9b3+_0x394edc(0xc0b)+_0x28860f+_0x394edc(0x71a))[_0x394edc(0x222)]('');break;}_0x5d762f+=_0x394edc(0x3b1)+(_0x2adfea['explanation']||_0x394edc(0x2fb))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x11f0ea[_0x394edc(0x5f4)]=_0x5d762f;if(window[_0x394edc(0x563)])window[_0x394edc(0x563)]['typesetPromise']([_0x11f0ea]);let _0x35c588=[];switch(_0x46c460){case _0x394edc(0x632):_0x35c588=_0x2adfea[_0x394edc(0x320)]||[];break;case'true_false':_0x35c588=[_0x394edc(0x211),_0x394edc(0xa01)];break;default:_0x35c588=_0x2adfea[_0x394edc(0x6ca)]||[];break;}const _0x5cf757=document[_0x394edc(0xb18)](_0x394edc(0x5d1));_0x5cf757&&(_0x5cf757['onclick']=()=>{openScratchpad(_0x2adfea,_0x35c588);});document[_0x394edc(0xccb)](_0x394edc(0xe19))['forEach'](_0x18bd65=>{const _0x33fd62=_0x394edc;_0x18bd65[_0x33fd62(0xcc)](_0x33fd62(0x8b2),_0x372647=>revealAnswerForPresentation(_0x19885c,_0x372647[_0x33fd62(0x751)]));});const _0x8a2d83=document[_0x394edc(0xb18)](_0x394edc(0xa27));_0x8a2d83&&_0x8a2d83[_0x394edc(0xcc)](_0x394edc(0x8b2),()=>checkShortAnswerForPresentation(_0x19885c)),document[_0x394edc(0xb18)](_0x394edc(0xb99))[_0x394edc(0x633)]='ข้อที่\x20'+(_0x19885c+0x1)+_0x394edc(0x65b)+currentQuizData[_0x394edc(0x677)][_0x394edc(0xab1)],document[_0x394edc(0xb18)](_0x394edc(0x542))[_0x394edc(0x64b)]=_0x19885c===0x0,document[_0x394edc(0xb18)](_0x394edc(0x88c))[_0x394edc(0x64b)]=_0x19885c===currentQuizData[_0x394edc(0x677)][_0x394edc(0xab1)]-0x1;}async function checkShortAnswerForPresentation(_0x2fc611){const _0x4d57f2=_0x448927,_0x432729=currentQuizData['questions'][_0x2fc611],_0x2b68bc=document[_0x4d57f2(0xb18)]('presentation-short-answer-input'),_0x20833c=document['getElementById'](_0x4d57f2(0xa27)),_0x2ee933=document[_0x4d57f2(0xb18)](_0x4d57f2(0x7cf)),_0xae92b3=document[_0x4d57f2(0xb18)](_0x4d57f2(0x103));if(!_0x2b68bc||!_0x20833c||!_0x2ee933||!_0xae92b3)return;const _0x1f6cfa=_0x2b68bc['value']['trim']();if(_0x1f6cfa==='')return;_0x20833c[_0x4d57f2(0x64b)]=!![],_0x20833c[_0x4d57f2(0x5f4)]=_0x4d57f2(0x67d),_0x2b68bc[_0x4d57f2(0x64b)]=!![];const _0x47e159=await gradeShortAnswer(_0x1f6cfa,_0x432729);_0x47e159?_0x2ee933[_0x4d57f2(0x5f4)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x2ee933[_0x4d57f2(0x5f4)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x432729[_0x4d57f2(0xcac)]+')',_0x2ee933[_0x4d57f2(0x82f)][_0x4d57f2(0xa1f)](_0x4d57f2(0x5a9)),_0xae92b3['classList'][_0x4d57f2(0xa1f)](_0x4d57f2(0x5a9)),_0x20833c[_0x4d57f2(0x82f)][_0x4d57f2(0x24b)](_0x4d57f2(0x5a9));}function revealAnswerForPresentation(_0x3d62a1,_0x4d020a){const _0xc45b1f=_0x448927,_0x419f36=currentQuizData[_0xc45b1f(0x677)][_0x3d62a1],_0x268854=_0x419f36[_0xc45b1f(0x3e6)]||currentQuizData['quizType'];document[_0xc45b1f(0xccb)](_0xc45b1f(0xe19))[_0xc45b1f(0x157)](_0x460857=>{const _0x359c59=_0xc45b1f;_0x460857[_0x359c59(0x64b)]=!![],_0x460857[_0x359c59(0x82f)][_0x359c59(0xa1f)](_0x359c59(0x270));let _0x1cfa8c=![];if(_0x268854===_0x359c59(0x232)||_0x268854===_0x359c59(0xbd8)){const _0xd7d9f4=parseInt(_0x460857[_0x359c59(0xcd1)][_0x359c59(0xfd)]);_0x1cfa8c=_0xd7d9f4===_0x419f36[_0x359c59(0x662)];}else{if(_0x268854===_0x359c59(0xab0)){const _0x48ea1a=_0x460857[_0x359c59(0xcd1)][_0x359c59(0x71e)]===_0x359c59(0xd3d);_0x1cfa8c=_0x48ea1a===_0x419f36[_0x359c59(0xaf4)];}else _0x268854===_0x359c59(0x632)&&(_0x1cfa8c=_0x460857[_0x359c59(0x633)][_0x359c59(0xb5b)]()===_0x419f36['correctResponse']);}_0x1cfa8c?_0x460857['classList'][_0x359c59(0x24b)](_0x359c59(0xbae),_0x359c59(0x9a6),'border-green-700'):_0x460857[_0x359c59(0x82f)][_0x359c59(0x24b)](_0x359c59(0x524));}),_0x4d020a[_0xc45b1f(0x82f)][_0xc45b1f(0xa1f)](_0xc45b1f(0x524));let _0x337844=![];if(_0x268854===_0xc45b1f(0x232))_0x337844=parseInt(_0x4d020a[_0xc45b1f(0xcd1)][_0xc45b1f(0xfd)])===_0x419f36[_0xc45b1f(0x662)];else{if(_0x268854===_0xc45b1f(0xab0))_0x337844=_0x4d020a[_0xc45b1f(0xcd1)]['answer']===_0xc45b1f(0xd3d)===_0x419f36['correctAnswer'];else _0x268854===_0xc45b1f(0x632)&&(_0x337844=_0x4d020a['textContent'][_0xc45b1f(0xb5b)]()===_0x419f36[_0xc45b1f(0x993)]);}!_0x337844&&_0x4d020a[_0xc45b1f(0x82f)][_0xc45b1f(0x24b)]('bg-red-500',_0xc45b1f(0x9a6),_0xc45b1f(0x7af)),document[_0xc45b1f(0xb18)](_0xc45b1f(0x103))['classList'][_0xc45b1f(0xa1f)](_0xc45b1f(0x5a9));}function startWholeQuizTimer(_0x366b90){const _0x53f7b4=_0x448927,_0xdeb871=document['getElementById'](_0x53f7b4(0x4f4));if(!_0xdeb871)return;const _0x2960a1=Date['now']()+_0x366b90*0x3c*0x3e8;_0xdeb871[_0x53f7b4(0x5f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x5ea7ab=document[_0x53f7b4(0xb18)](_0x53f7b4(0x6c0));quizTimerInterval=setInterval(()=>{const _0x304edb=_0x53f7b4,_0xe3464d=_0x2960a1-Date['now']();if(_0xe3464d<=0x0)clearInterval(quizTimerInterval),_0x5ea7ab[_0x304edb(0x633)]=_0x304edb(0xaf5),showMessage(_0x304edb(0xb9a)),handleSubmitQuiz(null);else{const _0x500b2a=Math[_0x304edb(0x87b)](_0xe3464d/0x3e8/0x3c%0x3c)['toString']()[_0x304edb(0xc4c)](0x2,'0'),_0x2b36f6=Math[_0x304edb(0x87b)](_0xe3464d/0x3e8%0x3c)[_0x304edb(0x377)]()[_0x304edb(0xc4c)](0x2,'0');_0x5ea7ab[_0x304edb(0x633)]=_0x500b2a+':'+_0x2b36f6;}},0x3e8);}function renderPerQuestionView(){const _0xb707d6=_0x448927;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4855d6=currentDisplayedQuiz[_0xb707d6(0x677)][currentQuestionIndex],_0x24fd68=_0x4855d6[_0xb707d6(0x3e6)]||currentDisplayedQuiz[_0xb707d6(0xafc)],_0x3ea92d=currentDisplayedQuiz[_0xb707d6(0xdbf)]?.[_0xb707d6(0x5ed)]===!![];let _0x1bf133='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0xb707d6(0x81f)+currentDisplayedQuiz[_0xb707d6(0x677)][_0xb707d6(0xab1)]+_0xb707d6(0xb66)+(currentMode===_0xb707d6(0x4d3)?_0xb707d6(0x972):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0xb707d6(0xda1)]+_0xb707d6(0xd70);studentQuizArea[_0xb707d6(0x5f4)]=_0x1bf133;let _0x40a77b=_0x4855d6[_0xb707d6(0xc35)]||_0x4855d6[_0xb707d6(0xb3b)];_0x4855d6[_0xb707d6(0x6a5)]&&(_0x40a77b+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4855d6[_0xb707d6(0x6a5)]+_0xb707d6(0x2b1));let _0xf4ace3='';switch(_0x24fd68){case _0xb707d6(0x706):case _0xb707d6(0x2ad):_0xf4ace3=_0xb707d6(0x1b9);break;case _0xb707d6(0xab0):_0xf4ace3=_0xb707d6(0x131);break;case _0xb707d6(0x632):_0xf4ace3='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4855d6['allResponses']||[])[_0xb707d6(0xad5)](_0x21f37b=>_0xb707d6(0x949)+_0x21f37b+'\x22>'+_0x21f37b+_0xb707d6(0x38c))[_0xb707d6(0x222)]('')+_0xb707d6(0xa95);break;default:_0x4855d6['options']&&(_0xf4ace3=_0x4855d6[_0xb707d6(0x6ca)]['map']((_0x11dfd1,_0x41e1de)=>_0xb707d6(0x201)+_0x41e1de+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x41e1de+_0xb707d6(0x9e1)+_0x41e1de+'\x22>'+_0x11dfd1+'</label></div>')[_0xb707d6(0x222)](''));break;}document['getElementById']('per-question-text')[_0xb707d6(0x5f4)]=_0x40a77b,document['getElementById']('per-question-options')[_0xb707d6(0x5f4)]=_0xf4ace3;const _0x1f71cf=currentDisplayedQuiz['settings']?.[_0xb707d6(0x5ed)]===!![],_0x97e359=currentDisplayedQuiz[_0xb707d6(0xdbf)]?.[_0xb707d6(0x5de)]||_0xb707d6(0x30a);if(_0x1f71cf&&_0x97e359==='checkbox'){const _0x586490=_0xb707d6(0x43d);studentQuizArea[_0xb707d6(0x877)](_0xb707d6(0x307))[_0xb707d6(0x4c3)](_0xb707d6(0x8a6),_0x586490);}studentQuizArea['insertAdjacentHTML']('beforeend',_0xb707d6(0xd49)+(currentQuestionIndex===currentDisplayedQuiz[_0xb707d6(0x677)][_0xb707d6(0xab1)]-0x1?_0xb707d6(0x457):_0xb707d6(0x117))+_0xb707d6(0x79f));currentMode===_0xb707d6(0x4d3)&&document['getElementById'](_0xb707d6(0xcae))?.[_0xb707d6(0xcc)](_0xb707d6(0x8b2),cancelAdminTest);document[_0xb707d6(0xb18)](_0xb707d6(0x6cf))[_0xb707d6(0xcc)](_0xb707d6(0x8b2),()=>handleNextQuestionInTimedMode(![]));if(window[_0xb707d6(0x563)])window[_0xb707d6(0x563)][_0xb707d6(0xd16)]([studentQuizArea]);currentDisplayedQuiz[_0xb707d6(0xdbf)]?.[_0xb707d6(0x4df)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3a8300=_0x448927,_0x36943c=currentDisplayedQuiz[_0x3a8300(0xdbf)][_0x3a8300(0xc89)],_0x15246b=document[_0x3a8300(0xb18)](_0x3a8300(0x2be));if(!_0x15246b)return;let _0x3d1df1=_0x36943c;_0x15246b[_0x3a8300(0x5f4)]=_0x3a8300(0x759)+_0x3d1df1+_0x3a8300(0x9f6);const _0xc0dead=document[_0x3a8300(0xb18)](_0x3a8300(0x6cb)),_0x2e71e4=document['getElementById'](_0x3a8300(0x6bc));perQuestionTimerInterval=setInterval(()=>{const _0x1892fc=_0x3a8300;_0x3d1df1--;const _0x798a6=_0x3d1df1/_0x36943c*0x64;_0xc0dead[_0x1892fc(0xbaf)][_0x1892fc(0x5ff)]=_0x798a6+'%',_0x2e71e4['textContent']=_0x3d1df1,_0x3d1df1<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1892fc(0x577)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x82d0fc=![]){const _0x1bc365=_0x448927;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5e6e78=null,_0x36afbf=![];if(!_0x82d0fc){const _0x2914ef=currentDisplayedQuiz[_0x1bc365(0x677)][currentQuestionIndex],_0x31a729=_0x2914ef[_0x1bc365(0x3e6)]||currentDisplayedQuiz[_0x1bc365(0xafc)];if(_0x31a729===_0x1bc365(0x706)||_0x31a729===_0x1bc365(0x2ad))_0x5e6e78=document[_0x1bc365(0x877)](_0x1bc365(0x69e))?.[_0x1bc365(0x52d)][_0x1bc365(0xb5b)]()??'';else{if(_0x31a729==='matching_item')_0x5e6e78=document[_0x1bc365(0x877)](_0x1bc365(0xd9e))?.['value']??'';else{const _0x49c40d=document[_0x1bc365(0x877)]('input[name=\x22question_single\x22]:checked');_0x49c40d&&(_0x5e6e78=_0x49c40d[_0x1bc365(0x52d)]);}}if(_0x5e6e78===null||_0x5e6e78===''){showMessage(_0x1bc365(0x442)),startPerQuestionTimer();return;}const _0x4597e2=currentDisplayedQuiz[_0x1bc365(0xdbf)]?.['isConfidenceScoringEnabled']===!![],_0xae32d3=currentDisplayedQuiz[_0x1bc365(0xdbf)]?.['confidenceMode']||_0x1bc365(0x30a);if(_0x4597e2&&_0xae32d3==='mandatory'){document[_0x1bc365(0xb18)](_0x1bc365(0x836))[_0x1bc365(0xcd1)][_0x1bc365(0x5b0)]='timed',document[_0x1bc365(0xb18)](_0x1bc365(0x140))['value']=_0x5e6e78,document[_0x1bc365(0xb18)](_0x1bc365(0x836))[_0x1bc365(0x82f)]['remove'](_0x1bc365(0x5a9));return;}const _0x59ba85=document[_0x1bc365(0xb18)](_0x1bc365(0x9ef));_0x59ba85&&(_0x36afbf=_0x59ba85[_0x1bc365(0x2f1)]);}const _0x58a955={'answer':_0x5e6e78,'wasConfident':_0x36afbf};proceedToNextQuestion(_0x58a955);}async function finalizePerQuestionQuiz(){const _0x110687=_0x448927,_0x440649=currentDisplayedQuiz[_0x110687(0x677)]['some'](_0x1d2dde=>_0x1d2dde['questionType']===_0x110687(0x706));_0x440649?showMessage(_0x110687(0xc51)):showMessage(_0x110687(0x47f));const _0xbd5e13=currentQuizData['id'],_0x1bd92b=doc(db,_0x110687(0xa76)+appId+_0x110687(0xb87)+_0xbd5e13+_0x110687(0xd90),currentStudentName),_0x2a3260=await getDoc(_0x1bd92b),_0x1b894e=_0x2a3260[_0x110687(0x14d)]()?_0x2a3260[_0x110687(0xa8e)]():{},_0x5d4098=_0x1b894e[_0x110687(0x975)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x5d4098);}function getResultsFilename(){const _0x175f4b=_0x448927,_0x11afd2=document[_0x175f4b(0xb18)]('results-quiz-title')[_0x175f4b(0x633)][_0x175f4b(0x572)](/[^a-z0-9]/gi,'_')[_0x175f4b(0x123)]();return _0x175f4b(0x45c)+(_0x11afd2||_0x175f4b(0x193));}function exportResultsAsImage(){const _0x2b0c07=_0x448927,_0x2bacff=document['getElementById']('results-table-container');showMessage(_0x2b0c07(0x958)),html2canvas(_0x2bacff)[_0x2b0c07(0x58c)](_0x59a31b=>{const _0x2b8afe=_0x2b0c07,_0xaee1c2=document[_0x2b8afe(0x4f0)]('a');_0xaee1c2[_0x2b8afe(0x82b)]=getResultsFilename()+_0x2b8afe(0x4b9),_0xaee1c2[_0x2b8afe(0x9a1)]=_0x59a31b[_0x2b8afe(0x8ce)](_0x2b8afe(0xe45)),_0xaee1c2[_0x2b8afe(0x8b2)](),messageModal[_0x2b8afe(0x82f)][_0x2b8afe(0x24b)](_0x2b8afe(0x5a9));});}function exportResultsAsPDF(){const _0x201f2f=_0x448927,{jsPDF:_0x54f300}=window[_0x201f2f(0x122)],_0x3871a5=new _0x54f300();_0x3871a5[_0x201f2f(0x878)](_0x201f2f(0x7b9),'normal'),_0x3871a5['autoTable']({'html':_0x201f2f(0x3e9)}),_0x3871a5[_0x201f2f(0xa16)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x3f4755=_0x448927,_0x17336b=_0x3f4755(0xb91)+_0x3f4755(0x493)+_0x3f4755(0x3e0)+_0x3f4755(0x920),_0xbbf19c=_0x3f4755(0xde),_0x257aff=_0x17336b+document[_0x3f4755(0xb18)](_0x3f4755(0xc2c))[_0x3f4755(0x5f4)]+_0xbbf19c,_0x41f45e='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x257aff),_0x17af2e=document[_0x3f4755(0x4f0)]('a');document[_0x3f4755(0xca1)][_0x3f4755(0x220)](_0x17af2e),_0x17af2e[_0x3f4755(0x9a1)]=_0x41f45e,_0x17af2e[_0x3f4755(0x82b)]=getResultsFilename()+'.doc',_0x17af2e[_0x3f4755(0x8b2)](),document[_0x3f4755(0xca1)][_0x3f4755(0x4d8)](_0x17af2e);}function exportResultsAsExcel(){const _0x28363d=_0x448927,_0x57573b=document[_0x28363d(0xb18)](_0x28363d(0x65a));let _0x27965e=[];for(let _0x227b8e=0x0;_0x227b8e<_0x57573b[_0x28363d(0x10e)][_0x28363d(0xab1)];_0x227b8e++){let _0x38dbbd=[],_0x5e1706=_0x57573b['rows'][_0x227b8e][_0x28363d(0xccb)]('td,\x20th');for(let _0x346fe2=0x0;_0x346fe2<_0x5e1706[_0x28363d(0xab1)];_0x346fe2++){_0x38dbbd[_0x28363d(0x626)]('\x22'+_0x5e1706[_0x346fe2]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x27965e[_0x28363d(0x626)](_0x38dbbd[_0x28363d(0x222)](','));}const _0x23cd77=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x27965e[_0x28363d(0x222)]('\x0a')],{'type':_0x28363d(0x639)}),_0x56bd31=document[_0x28363d(0x4f0)]('a');_0x56bd31[_0x28363d(0x9a1)]=URL[_0x28363d(0x415)](_0x23cd77),_0x56bd31[_0x28363d(0x82b)]=getResultsFilename()+'.csv',_0x56bd31[_0x28363d(0x8b2)]();}function exportTableAsImage(_0x11d3a3,_0x321056){const _0x48d8c5=_0x448927,_0x60921e=document[_0x48d8c5(0xb18)](_0x11d3a3),_0x49df69=document[_0x48d8c5(0xb18)](_0x48d8c5(0xb3f));if(!_0x60921e){showMessage(_0x48d8c5(0x9d1));return;}showMessage(_0x48d8c5(0xbf8));const _0x498bf4=document['createElement']('div');_0x498bf4[_0x48d8c5(0xbaf)][_0x48d8c5(0x665)]='#ffffff',_0x498bf4['style'][_0x48d8c5(0xf0)]='30px',_0x498bf4[_0x48d8c5(0xbaf)]['width']='1000px',_0x498bf4[_0x48d8c5(0xbaf)][_0x48d8c5(0xaed)]=_0x48d8c5(0x312),_0x498bf4[_0x48d8c5(0xbaf)][_0x48d8c5(0xbf0)]=_0x48d8c5(0x321),_0x498bf4[_0x48d8c5(0xbaf)][_0x48d8c5(0xc69)]='0',_0x498bf4[_0x48d8c5(0xbaf)][_0x48d8c5(0xafa)]='-1';const _0x4f858c=document[_0x48d8c5(0x4f0)]('h1');_0x4f858c[_0x48d8c5(0x3cc)]=_0x49df69?_0x49df69[_0x48d8c5(0x3cc)]:_0x48d8c5(0x8a0),_0x4f858c[_0x48d8c5(0xbaf)][_0x48d8c5(0x921)]=_0x48d8c5(0x8d8),_0x4f858c[_0x48d8c5(0xbaf)][_0x48d8c5(0xb6e)]=_0x48d8c5(0xdf2),_0x4f858c['style']['fontSize']=_0x48d8c5(0xb9b),_0x4f858c['style'][_0x48d8c5(0xd53)]=_0x48d8c5(0x7d6),_0x4f858c['style'][_0x48d8c5(0x707)]='#4338ca',_0x4f858c[_0x48d8c5(0xbaf)][_0x48d8c5(0x91f)]=_0x48d8c5(0x62f);const _0x3fee26=_0x60921e[_0x48d8c5(0xcb9)](!![]);_0x3fee26['style'][_0x48d8c5(0xb76)]=_0x48d8c5(0x43f),_0x3fee26[_0x48d8c5(0xbaf)][_0x48d8c5(0xc32)]=_0x48d8c5(0x76c);const _0x348ab3=_0x3fee26['querySelectorAll']('th');let _0x232128=-0x1;_0x348ab3[_0x48d8c5(0x157)]((_0x2b3ea8,_0x3856f7)=>{const _0x5281f9=_0x48d8c5;_0x2b3ea8[_0x5281f9(0x633)][_0x5281f9(0xb5b)]()==='ผล'&&(_0x2b3ea8['style'][_0x5281f9(0x738)]='none',_0x232128=_0x3856f7);});if(_0x232128!==-0x1){const _0x2e06b4=_0x3fee26['querySelectorAll']('tr');_0x2e06b4[_0x48d8c5(0x157)](_0x2d3964=>{const _0x13334a=_0x48d8c5,_0x77d88a=_0x2d3964[_0x13334a(0xccb)]('td');_0x77d88a['length']>_0x232128&&(_0x77d88a[_0x232128][_0x13334a(0xbaf)][_0x13334a(0x738)]='none');});}_0x498bf4[_0x48d8c5(0x220)](_0x4f858c),_0x498bf4[_0x48d8c5(0x220)](_0x3fee26),document[_0x48d8c5(0xca1)][_0x48d8c5(0x220)](_0x498bf4),html2canvas(_0x498bf4,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x48d8c5(0x154)})['then'](_0xcc507c=>{const _0x40444f=_0x48d8c5,_0x1827d4=document[_0x40444f(0x4f0)]('a');_0x1827d4[_0x40444f(0x82b)]=_0x321056+_0x40444f(0x4b9),_0x1827d4[_0x40444f(0x9a1)]=_0xcc507c[_0x40444f(0x8ce)](_0x40444f(0xe45)),_0x1827d4[_0x40444f(0x8b2)](),document['body'][_0x40444f(0x4d8)](_0x498bf4),messageModal[_0x40444f(0x82f)][_0x40444f(0x24b)](_0x40444f(0x5a9));})[_0x48d8c5(0xa98)](_0x42da00=>{const _0x4da5c4=_0x48d8c5;console[_0x4da5c4(0x17d)](_0x4da5c4(0x9f7),_0x42da00),document[_0x4da5c4(0xca1)]['removeChild'](_0x498bf4),showMessage(_0x4da5c4(0x1d4));});}function exportTableAsPDF(_0x359c2d,_0x1f865e){const _0x2c9728=_0x448927,{jsPDF:_0x1f4145}=window[_0x2c9728(0x122)],_0x1b6c7d=new _0x1f4145();_0x1b6c7d[_0x2c9728(0x878)](_0x2c9728(0x7b9),_0x2c9728(0x69f)),_0x1b6c7d[_0x2c9728(0x99c)]({'html':'#'+_0x359c2d}),_0x1b6c7d[_0x2c9728(0xa16)](_0x1f865e+'.pdf');}function exportTableAsWord(_0x31b922,_0x43708e){const _0x4da0d6=_0x448927,_0x4a4533=document[_0x4da0d6(0xb18)](_0x31b922);if(!_0x4a4533){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0xc2d9b0='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4da0d6(0x493)+_0x4da0d6(0x3e0)+_0x4da0d6(0x920),_0x47997c=_0x4da0d6(0xde),_0x4bc243=_0xc2d9b0+_0x4a4533[_0x4da0d6(0x5f4)]+_0x47997c,_0x2c258a=_0x4da0d6(0x390)+encodeURIComponent(_0x4bc243),_0x1214c1=document[_0x4da0d6(0x4f0)]('a');document[_0x4da0d6(0xca1)][_0x4da0d6(0x220)](_0x1214c1),_0x1214c1[_0x4da0d6(0x9a1)]=_0x2c258a,_0x1214c1[_0x4da0d6(0x82b)]=_0x43708e+_0x4da0d6(0x61f),_0x1214c1[_0x4da0d6(0x8b2)](),document[_0x4da0d6(0xca1)]['removeChild'](_0x1214c1);}function exportTableAsExcel(_0x190cdc,_0x59aa77){const _0x46bbbc=_0x448927,_0x17a8b8=document[_0x46bbbc(0xb18)](_0x190cdc);if(!_0x17a8b8){showMessage(_0x46bbbc(0x9d1));return;}let _0x24ca87=[];for(let _0x39c1a0=0x0;_0x39c1a0<_0x17a8b8[_0x46bbbc(0x10e)][_0x46bbbc(0xab1)];_0x39c1a0++){let _0x154c89=[],_0xd4f39e=_0x17a8b8[_0x46bbbc(0x10e)][_0x39c1a0]['querySelectorAll'](_0x46bbbc(0xd7c));for(let _0x7fa948=0x0;_0x7fa948<_0xd4f39e[_0x46bbbc(0xab1)];_0x7fa948++){_0x154c89['push']('\x22'+_0xd4f39e[_0x7fa948][_0x46bbbc(0x3cc)][_0x46bbbc(0x572)](/"/g,'\x22\x22')+'\x22');}_0x24ca87['push'](_0x154c89[_0x46bbbc(0x222)](','));}const _0x2aa1fd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x24ca87[_0x46bbbc(0x222)]('\x0a')],{'type':_0x46bbbc(0x639)}),_0x437344=document[_0x46bbbc(0x4f0)]('a');_0x437344['href']=URL[_0x46bbbc(0x415)](_0x2aa1fd),_0x437344[_0x46bbbc(0x82b)]=_0x59aa77+_0x46bbbc(0x47d),_0x437344['click']();}function _0x1a2e(){const _0x50675f=['ไม่พบโปรเจค','กราฟแท่ง\x20กราฟเส้น','pop','players.','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-crop-btn','NUMBER','classWeaknesses','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','str','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','Error\x20deleting\x20submission:','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','เหมียวขี้เซา','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','cdot','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','ระยะเวลา\x20(วินาที):','inactive','point','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','/submissions','การวัด','#FFFFFF','replaceChild','text-gray-300','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','ผ่าน','global-activity-quiz-list','highlighter-size-slider','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<div\x20style=\x22','.correct-response-input','select[name=\x22question_single\x22]','\x5ccdot','ตอบถูก\x203\x20ข้อติดต่อกัน','topic','Error\x20updating\x20project\x20name:','sync-timer-duration-container','screen','use-powerup-cutOne','hiddenOptions_q','การหาร','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','.view-bp-lesson-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x5cge','overallGroups','bg-emerald-100','แบบทดสอบนี้หมดเวลาแล้ว','webkitRequestFullscreen','<tr><td\x20colspan=\x22','unshift','ref','Error\x20starting\x20sync\x20game:','prod','tfrac','pointercancel','timer-duration-input','answer-counter','.parallel-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','.generate-content-btn','get','การบวกเศษส่วน','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','settings','fa-crown\x20text-yellow-500','frequency','เกิดข้อผิดพลาดในการอ่านไฟล์','New\x20question\x20detected.\x20Cleaning\x20up.','เกิดข้อผิดพลาดในการส่งคำตอบ','string','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','url','\x22\x20data-index=\x22','visibilityState','ฟังก์ชันยกกำลัง','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','bp-modal-num-questions',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','text-purple-600','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x20mb-2\x22>','players','แผนภาพเวนน์','Error\x20updating\x20pin\x20status:','\x22><span\x20style=\x22','description','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','clearRect','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answerText','.shortcut-list-item','shortcut-reference-url-input','ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x20ชุด)</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','Error\x20updating\x20sort\x20preference:','shortcuts-loading-msg','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','cancel-quiz-edits-btn','.game-start-btn','---\x20[คำถามใหม่]\x20---','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x27Sarabun\x27,\x20sans-serif','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','เทพทรู','submissions','comparison-overall-content','blur','ไฮเพอร์โบลา','line-through\x20text-red-700','text-red-900','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Copy\x20command\x20failed','คุณใช้ตัวช่วย\x20\x22','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','ก้อนเมฆ','powerup','confirm-quiz-status-btn','function','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','order','bulk-quiz-settings-btn','modal-confidence-scoring-checkbox','(ก่อนเรียน)\x20','fa-pen','input[name=\x22team_player\x22]:checked','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20Fix\x20Error:','.flex.justify-between.items-center','เกิดข้อผิดพลาดในการสร้างห้องเกม','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','Error\x20listening\x20for\x20projects:','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>',';\x22\x20data-tooltip-target=\x22tooltip-','ไฟล์ลัด\x201','bp-modal-question-complexity-select','.presentation-option','scratchpad-close-btn','</strong></p>','shuffledQuiz','#6366F1','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','verify-answers-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','confirm-wager-btn','ยังไม่มีนักเรียนส่งงาน','.live-answer-btn,\x20#sync-submit-btn','ระบบสมการเชิงเส้นสองตัวแปร','deltaY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-parallel-shortcut-edit-btn','parallel-shortcut-container','ความเป็นอิสระของเหตุการณ์','move-quiz-project-select','ไอติมทอด','docChanges','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','reduce','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','Error\x20saving\x20parallel\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','show-in-student-dashboard-checkbox','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','createdBy','multiply','สอบปกติ','คนดีศรีสยาม','/lessons','empty','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','startedAt','comparison','Blueprint\x201','image/png','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','reset-view-btn','createGain','open-blueprint-projects-btn','สร้างคำถามแบบเติมคำในช่องว่าง','Error\x20deleting\x20project:','QUICK_THINKER','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x20ชุด)','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนครับ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.edit-quiz-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','confirm-bulk-quiz-settings-btn','.question-editor-item:last-of-type','student-name-selection-view','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','Error\x20during\x20class\x20analysis:','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','text-green-700','text-red-700','raw','not-found','substr','.bp-create-onet-quiz-btn','.move-quiz-btn','getCroppedCanvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',')</button>','lobby','decode','นอนไม่พอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','shortcut_','</strong></div>','.delete-custom-topic-btn','flex','pointerup','addEventListener','.parallel-shortcut-tab-btn','select','สุดยอด!\x20ตอบถูกทุกข้อ','pointerdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','some','contents','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','คำถาม...','สู้ๆ\x20ลองอีกครั้งนะ','blueprint-options-container','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','cancel-bp-settings-btn','/public/data/syncGames/','บันทึกการตั้งค่าสำเร็จ','</body></html>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','q-image-container-','project-list','Error\x20saving\x20shortcut\x20config:','cutOne','Error\x20deleting\x20quiz:','ไม่พบข้อมูลหัวข้อที่จะบันทึก','newOptions','gradeLevel','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','เน็ตไอดอล','subTopics','transition','modal-results-display-select','ไม่พบแบบทดสอบสำหรับรหัสนี้','padding','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','Error\x20submitting\x20answer:','.answeredCurrentQuestion','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-game-results-checkbox','toLocaleDateString','quick_thinker','index','input[type=\x22radio\x22]:checked','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','presentation-explanation','\x27\x20ในหัวข้อ\x20\x27','preventDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','_opt0\x22\x20name=\x22question','.move-parallel-shortcut-item','\x20ชุดสำเร็จ!','\x22\x20style=\x22','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x22\x20name=\x22question','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','จอมเวทย์ขนมหวาน','projectId','เกิดข้อผิดพลาดในการอัปเดตสถานะ','อุณหภูมิและการแปลง','.move-parallel-shortcut-dropdown','students','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','คำถามถัดไป','bg-blue-100','🚀\x20คุณเดิมพันหมดหน้าตัก!','ไม่สามารถโหลดคลังข้อสอบได้','isRemedial','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.status','ปริมาตร/ความจุและการแปลง','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','เปลี่ยนชื่อโปรเจคสำเร็จ','blueprintShortcuts','jspdf','toLowerCase','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-join-game-btn','bg-red-50','<span\x20title=\x22ใช้ไอเทม\x22>','gamePin','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isSyncGame','black-market-modal','bg-black/20','quiz-results','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.hidden-option-input','temp-loader-text-results','student-progress-view','application/pdf','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','draggable-text','แก้ไขชื่อหัวข้อย่อย:','Error\x20in\x20handleApiCall:','wakeLock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20topic:','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','[data-field=\x22subTopic\x22]','selected-answer-index-hidden','คัดลอกไม่สำเร็จ','restore','รอผู้ควบคุมไปข้อต่อไป...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','leaderboard-table-body','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','3Ryfumj','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','สอบซ่อม','exists','eraser','correctStreak','instantWager','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','manual-bp-content','ตรวจทานเฉลยเสร็จสิ้น!','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','forEach','\x22>ไม่ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-content-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','confirm-delete-btn','/studentProfiles','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','file-input-area','manage-tab-content','substring','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','save-quiz-edits-btn','#F59E0B','ไม่สามารถสร้างโปรเจคได้','จากเนื้อหาต่อไปนี้:\x20\x22','text/html','Error\x20analyzing\x20blueprint\x20topics:','red','OBJECT','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฮัลค์','rename-quiz-input','Team\x20Quiz','shuffle','\x5csum','ส่วนเบี่ยงเบนเฉลี่ย','.file-topic-selection-btn','</button>','.use-hidden-parallel-shortcut-btn','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','ไม่พบไฟล์\x20Test\x20Blueprint','pen-tool-btn','input[type=\x22checkbox\x22]','sync','.quiz-result-card','\x20รายการ...','error','ไม่พบข้อมูลข้อสอบหลังเรียน','student-initial-view','quiz-editor-questions-container','<div\x20class=\x22p-2\x20rounded-md\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','input[type=\x22radio\x22][value=\x22','<div\x20id=\x22q-image-container-','Error\x20deleting\x20student:','Error\x20pairing\x20quizzes:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','source-over','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','การปัดเศษและประมาณค่า','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','#open-additional-file-shortcuts-btn','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','Error\x20joining\x20activity:','bp-reference-file-url','quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','keydown','passcode-prompt-message','start','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','ใช่\x20/\x20ถูก','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Error\x20toggling\x20star\x20status:','dragover','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','connect','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','ความชันและเส้นตรง','Powerup\x20use\x20failed:','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','935760txxDEA','verify-answers-editor-btn','หน่วยเวลาและการคำนวณเวลา','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','Error\x20renaming\x20quiz:','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','summaryContent','competition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20game:','อนุพันธ์:\x20กฎลูกโซ่','Error\x20generating\x20parallel\x20test\x20from\x20bank:','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tools-group','hint-btn','confirm-crop-btn','):\x20','confident','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','modal-confidence-mode-select','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','btn','grabbing','count','AI\x20grading\x20failed:','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','show-final-results-btn','topic-quiz-bank-modal','นักประดิษฐ์','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','เกิดข้อผิดพลาดในการสร้างรูปภาพ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','curriculum','suggestedAnswer','next-drill-btn','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','Failed\x20to\x20apply\x20forceConfident:','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wager-amount-display','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','ข้อ\x20','add-shortcut-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','จำนวนคู่:','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','getBoundingClientRect','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','ความชันเส้นสัมผัส','insurance','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20','blueprint-settings-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','<p\x20class=\x22','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบข้อมูลโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','size','onkeydown','bg-red-200\x20text-red-800','.topic-row','generated-quiz-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isPinned','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','back-to-student-home-btn','manage-tab','powerups','27411472','passcode-input-container','reveal_at_end','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','เพิ่ม\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','รักแรกพบ','isLooping','deg','state','bg-black/10','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','ใช่','<div\x20class=\x22my-6\x22>','text-gray-200','นักกีฬา','<tr\x20class=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','blueprint-project-list','Buy\x20Item\x20failed:\x20','เต่าสายฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','auto','ข้อต่อไป','live-short-answer-input','appendChild','confirm-not-confident','join','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','topicId','Sync\x20Mode','ครูใหญ่','project-dashboard-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','modal-adaptive-quiz-checkbox','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','handleGeneratePracticeTest','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','เวกเตอร์และเมทริกซ์\x20(เสริม)','พบ\x20Team\x20Quiz!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','multiple_choice','modal-timer-mode-select','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','lesson-view-content','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','fiftyFifty','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ไม่พบเอกสารการส่งงานของ\x20','lastAnswerCorrect','.move-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ส้มตำปูปลาร้า','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','bulk-confidence-mode-select','shortcut-tabs-nav','boolean','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','answer-grid-container','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','lineCap','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','bg-green-200\x20text-green-800','โหลดนาน','fas\x20fa-bookmark','add','bg-red-100\x20text-red-900','back-to-results-btn','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','อัตราและอัตราหน่วย','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','parseFromString','\x20(\x22','การคูณ','บทเรียน','update-old-quizzes-btn','closePath','className','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ช่างภาพ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','quiz-status-modal','targetId','results-display-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-2\x22>','file-shortcut-name-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','text-red-300\x20hover:text-red-100','👁️\x20เผยตัวเลือก','totalQuestions','whole_quiz','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','กำลังสแกนหาแบบทดสอบเก่า...','https://corsproxy.io/?','API\x20Error\x20Body:','onerror','game-start-quiz-id','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','hover:bg-indigo-100','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','stopPropagation','.edit-hidden-file-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','student-quiz-leaderboard-tab','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','newappai.firebasestorage.app','fadeStartTime','\x20ข้อ\x20','Error\x20submitting\x20team\x20answer:','SAFETY','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','scores','outerHTML','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','publicLeaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','class','load-quiz-btn','</p></div>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x20(สำหรับ\x20','close-additional-file-shortcuts-btn','ON_FIRE','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','table','โดเมนและเรนจ์','block','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','originalQuestionText','.subTopic','.answers','Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20คู่\x20','quiz-generation-area','font-bold\x20text-green-700','pollUsedThisTurn','STOP','\x20\x0a\x20\x20\x20\x20','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','เลือกและบันทึก','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','blueprint-topics-list','<li>','พิสัย','.bp-edit-topic-btn','fill_in_no_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','คะแนนเฉลี่ย','</div>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','.ai-fix-question-btn','modal-close-btn','<button\x20data-tab-id=\x22','tan','dataIndex','\x20ตอบ','การคูณเศษส่วน','content','???','scores-tab-btn','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-timer-container','แท็บใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.generate-easy-version-btn','ไม่สามารถโหลดข้อมูลอันดับได้','pow','revealOptions','300','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','poll','สายหมอก','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','from','การหารเศษส่วน','shortcutIds','podium','name','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','post-test','text-emerald-800','.quiz-bank-delete-btn','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','memoryContent','toLocaleString','pinned-items','</span><button\x20data-player-name=\x22','txt','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20group\x20answer:','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','transparent','\x5csqrt{$1}','blockReason','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จากไฟล์ที่แนบมานี้,\x20','cancel-quiz-edits-btn-footer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','focus','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','half_mark_status','delete','ondragend','FIRST_TRY_ACE','game-start-mode','กำลังโหลดคลังข้อสอบทั้งหมด...','checked','กรุณาเลือกโปรเจคปลายทาง','additional-shortcuts-list','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','copy','Re-grade\x20process\x20failed:','nickname-input','projectView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','\x20P)','\x20mr-2\x22></i>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','โจรสลัดอวกาศ','transformOrigin','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','ซามูไรสายเดี่ยว','\x0a---\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','.mb-6.p-4','latestSubmittedAt','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstElementChild','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','Refunded\x20','fixed','manual-bp-grade-level','_opt0\x22>ใช่</label></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','Failed\x20to\x20generate\x20lesson:','scrollX','open-scratchpad-btn','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','smooth','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','result','questionDisplayedAt','allResponses','-9999px','มังกรกินจุ','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','กรุณาเลือกไฟล์ก่อน','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักวิทยาศาสตร์','isPasscodeEnabled','kick-player-btn','confirm-rename-quiz-btn','Error\x20displaying\x20blueprint\x20project:','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','การแปลงรูปอัตลักษณ์','powerups.','\x20จุดเรียบร้อยแล้ว','ยังไม่เต็มนะ','Failed\x20to\x20refund\x20powerup:','blueprint.pdf','live-submit-short-answer-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','timer-mode-select','question','status','439564nGSYDA','scratchpad-controls','tabId','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete-svg-btn','\x5cpm','(ก่อนเรียน)','/preferences/main','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','ไม่พบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดาวTikTok','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','นักเดินทาง','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','.eraser-size-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','text-red-700\x20bg-red-100','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีมาก','perfect_score_status','close-pin-modal-btn','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','ครัวซองต์','ตรวจพบการออกจากหน้าจอครบ\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','matching','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-mode-container','รูปหลายเหลี่ยมและมุมภายใน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','2-digit','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','/public/data/teamQuizzes','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bp-modal-difficulty-level-select','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','target','.delete-hidden-file-shortcut-btn','responses.','</p><p><strong>เฉลย:</strong>\x20','behavior-log-tab-content','numeric','.pen-size-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','lineWidth','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','files','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','fix\x20the\x20option','ย้ายแบบทดสอบไปโปรเจคอื่น','ทำคะแนนได้เกินครึ่ง','playerNicknames','นำแบบทดสอบออกจากคลังนี้แล้ว','toString','close','ฟังก์ชันแบบชิ้นส่วน','<p><strong>คำตอบที่แนะนำ:</strong>\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22',',\x20r=','close-comparison-modal-footer-btn','temp-loader-results','option','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20did\x20not\x20return\x20any\x20content.','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','show-leaderboard-btn','cropped_image.png','file-topics-list-container','move','การลบ','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','</option>','Original\x20quiz\x20not\x20found','.linkedQuizIds','src','data:application/vnd.ms-word;charset=utf-8,','ลำดับการดำเนินการ\x20(PEMDAS)','#confidence-input-','text-green-600','🌗\x2050:50','tab_','\x5cle','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Error\x20loading\x20quiz\x20for\x20student:','text/plain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','create-project-btn','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','close-market-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','ไม่ระบุ','isJinxed','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชีสเค้ก','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','ลบโปรเจคสำเร็จแล้ว','Error\x20opening\x20quiz\x20editor:','องค์ประกอบของฟังก์ชัน','export-tutor-pdf-btn','scratchpad-question','separate-by-content-checkbox','pairedQuizId','กำลังอ่านไฟล์\x20Test\x20Blueprint...','.bp-live-btn','#view-rankings-btn','Failed\x20to\x20get\x20standardized\x20topic:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','include-images-checkbox','.option-input','#10B981','กาแฟขม','เกิดข้อผิดพลาดในการบันทึก','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','parallel-test-tab','newOptionsPayload','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','difficultyValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','contentEditable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transition-transform','fileShortcutTabs','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','bp-add-topic-btn','cancel-admin-login-btn','\x20สำเร็จ!','Error\x20saving\x20file\x20shortcut\x20config:','Error\x20adding\x20custom\x20topic:','innerText','confidence-scoring-checkbox','ตัวเลือก\x20ค','ปริมาตรรูปทรงสามมิติ','market-timer-bar','(หลังเรียน)\x20','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20','freeMarketEntryUsed_q','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','.space-y-1.pl-4','passing-score-input','</tr>','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่ผ่าน','.file-shortcut-btn[data-id=\x22','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.ai-content\x20li','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ถูกต้อง!','<span\x20class=\x22sort-indicator\x20ml-2\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','questionType','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','#results-table','</span></div>','ฮิสโตแกรม','.quiz-bank-parallel-btn','camera-input','ยังไม่ส่ง','s;\x22\x20title=\x22','...\x22)?','first_try_ace','undefined','loader','globalSettings','selectedTopicNames','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','ตัวแทนแห่งดวงจันทร์','_new','execCommand','bp-modal-num-choices','หนอนหนังสือ','bg-[#4ADE80]\x20text-green-900\x20font-bold','parallel-shortcut-tabs-nav','<button\x20data-value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','blueprint-projects-modal','ค่าเสื่อมราคา','⏳\x20ซื้อเวลา','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','manual-blueprint-modal','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</span>:\x20','requestFullscreen','candidates','pin-backspace-btn','bg-amber-100\x20text-amber-800','สมการเหตุผล\x20(rational)','ใช้\x20\x22คำสาป\x22\x20กับ\x20','webkitExitFullscreen','กำลังค้นหากิจกรรม...','save-blueprint-as-project-btn','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','createObjectURL','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','teacherSuggestions','.delete-file-shortcut-btn','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','sum','<span\x20class=\x22font-bold\x20','Error\x20loading\x20blueprint\x20projects:','rgba(255,\x20255,\x200,\x200.5)','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-container','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','เกิดข้อผิดพลาดในการเปลี่ยนสี','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','strokeStyle','student-team-selection-view','หัวข้อที่สร้างเอง','มุมพิเศษ\x2030°-60°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','export-pdf-modal','export-compact-pdf-btn','results-quiz-id-display','</select>','text-gray-400\x20hover:text-indigo-600','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','originalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parent','<option>กำลังโหลดโปรเจค...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','modal-passing-score-input','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','border-indigo-500\x20text-indigo-600','none','attemptNumber','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','Invalid\x20response\x20structure\x20from\x20AI.','default','px,\x20','PERFECT_SCORE','mainTopics','lesson-loader-text','bg-gray-100\x20opacity-70','\x22\x20name=\x22team_answer\x22\x20value=\x22','getPage','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','fromCharCode','neq','Error\x20moving\x20quiz:','mean','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','comparison-overall-tab','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ส่งคำตอบ','powerupUsed_q','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','results_','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','exitFullscreen','เปิด\x20(จับเวลา)','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stop','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','text-indigo-800','items','แผนภาพกล่อง\x20(box\x20plot)','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','analytics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','0\x20(รอโบนัส)','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','project-search-input','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','.quiz-settings-btn','.move-shortcut-dropdown','quiz-id-input','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','nextElementSibling','สามเหลี่ยม\x20(ชนิด/สมบัติ)','[data-topic-container-id]','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','clientX','.csv','shortcut-name-input','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','student-join-game-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-worksheet-pdf-btn','underline','applicationData','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','document','อัตราการเปลี่ยนแปลงทันที','</h4>','/public/data/projects/','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','หมูกระทะจะเยียวยาทุกสิ่ง','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','-tab-content','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bottom','parallel-default-1','Error\x20fetching\x20quiz\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคละ','highlighter-tool-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','student','resume','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','AI\x20ไม่สามารถประมวลผลข้อมูลได้','setAttributeNS','wager-slider','keyup','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','gameData','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','isFinished','min','\x20ชิ้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointsAwarded','\x22\x20จำนวน\x20','badges','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','standard','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','secondChance','open','เรขาคณิตวิเคราะห์','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','blueprintUrl','.auto-resize-textarea','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','insertAdjacentHTML','startTime','key','</h3>','project-title','drill-feedback','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','generate-from-blueprint-btn','ทำคะแนนเต็มในการทำครั้งแรก','</span></td>','เกิดข้อผิดพลาดในการซื้อ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรีโกณมิติ','bulk-results-display-select','GlobalWorkerOptions','.export-pdf-list-btn','admin-testing','แก้ไขปุ่มลัดจากไฟล์','คำถามดิบ:\x20\x22','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','removeChild','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำเตือน\x20(','ไม่ได้ตอบ','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','timerMode','lastAnswerIndex','sara','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','type','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','bg-green-200\x20text-green-900\x20font-bold','shortcut-blueprint-url-input','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ตลาดมืด\x20(0\x20P)','sin','createElement','name_desc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','cancel-move-quiz-btn','timer-container','คณิตศาสตร์','กรุณาตั้งชื่อแท็บใหม่:','instructions','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','active','student-result-area','show_pass_fail_only','generate-from-topic-btn','after','คนคุย','Enter','pre-test','parentNode','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','<p><strong>คำตอบของคุณ:</strong>\x20','offsetWidth','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','use-powerup-fiftyFifty','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','ความแปรปรวน','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','Error\x20joining\x20sync\x20game:','actions-container-','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generationConfig','parse','shortcuts','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','อัปเดตการตั้งค่าของแบบทดสอบ\x20','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','บักแตงโม','การหารทศนิยม','anon-settings-container','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','confirm-game-start-modal','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','mandatory','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','แบบทดสอบที่ติดดาว','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','พีชคณิตและฟังก์ชัน','.submittedAt','เงาปริศนา','opacity-50','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','.delete-shortcut-btn','\x20(Player)\x20(ID:\x20','back-to-dashboard-btn','classic','modal-message','ฟังก์ชันราก\x20(root)','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','value','Invalid\x20response\x20structure\x20from\x20API.','สมการยกกำลัง','sync-short-answer-input','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x20|\x20','behaviorLog','cancel-passcode-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','\x22\x20สำเร็จ','text-input-area','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','list','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','prev-question-btn','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','parallel-test-upload-input','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','Error\x20creating\x20project:','นักล่าฝัน','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','message','previousElementSibling','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','print','abs','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','save-file-shortcut-btn','.delete-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','every','สมการลอการิทึม','wasJinxed','file-default-','หมีขั้วโลกใต้','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','dragend','lesson-plan-content','/users/','MathJax','.cancel-edit-topic-btn','retake-quiz-loop-btn','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผ่านฉลุย','bg-green-100\x20font-bold','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','/public/data/liveGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-project-btn','.bp-view-analysis-btn','values','ลำดับเลขคณิต\x20(AP)','ระบบเลขและค่าประจำหลัก','far\x20fa-star','replace','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','การบวกทศนิยม','<span\x20title=\x22โดนคำสาป\x22>😈</span>','auto-fix-latex-btn','หมดเวลาสำหรับข้อนี้!','bp-quiz-settings-btn','_blank','confirm-confident','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','ปวดหลัง','\x22>ใช่</p>','projectSortOrder','ยอดนักสืบ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','\x20pointer-events-none\x22>','asc','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','write','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','quiz-leaderboard-table','quiz-settings-modal','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','then','กรุณาป้อนหัวข้อสำหรับใบงาน','แบบทดสอบฝึกฝนเรื่อง:\x20','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','.delete-hidden-parallel-shortcut-btn','application','.highlighter-color-btn','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Auto-linking\x20new\x20quiz\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','กรุณาเลือกโปรเจคก่อน','grid-view-btn','removed','API\x20call\x20failed\x20with\x20status:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ม้าดีดกะโหลก','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','link-input-area','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าตลาดมืด','Error\x20verifying\x20answers:','rgba(59,\x20130,\x20246,\x200.7)','Error\x20fetching\x20projects\x20for\x20move:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','upper_group_count','hidden','ยูทูปเบอร์ฝึกหัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','quiz-leaderboard-table-body','Failed\x20to\x20apply\x20jinx:','perfect_score','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','currentMode','.ai-content\x20blockquote','.admin-try-quiz-list-btn','ARRAY','ดอกเบี้ยทบต้น','แคลคูลัสเบื้องต้น','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','Game\x20results\x20already\x20saved.\x20Skipping.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','touchcancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','preTestId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','mode-switcher-btn','generate-worksheet-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','answered','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','ปลาทูคะนอง','Error\x20editing\x20topic:','ไม่สามารถเพิ่มนักเรียนได้','indexOf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','.generate-post-test-btn','clientY','ดวงดาว','confirmation-modal','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','presentation-scratchpad-btn','.project-card-container','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x20คะแนน</span></div>','.use-hidden-shortcut-btn','currentPoints','(พยายามอยู่)','Error\x20generating\x20teaching\x20content:','ตัวประกอบและตัวประกอบเฉพาะ','ยืนยันการกระทำ','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidenceMode','อนุพันธ์:\x20กฎพื้นฐาน','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','topics','/public/data/blueprintProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','<h1></h1>','student-list','json','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','isConfidenceScoringEnabled','.ai-content\x20h3','team-quiz-topic','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','applicationContent','insertBefore','<button\x20data-shortcut-id=\x22','innerHTML','เกิดข้อผิดพลาดในการสร้างใบงาน','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','คะแนนเต็ม','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','7WkhgRj','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20id=\x22input-','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','width','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','selected-topics-count','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','.compare-results-btn','leaderboard-tab-content','not_confident','loop-until-pass-checkbox','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','STRING','close-additional-parallel-shortcuts-btn','afterend','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','/players','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','.edit-file-shortcut-btn','กำลังกลับเข้าสู่เกม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','getDocument','quiz-type-select','เกิดข้อผิดพลาดในการลบหัวข้อ','num-choices-container','file-shortcut-modal-title','Error\x20adding\x20students:','ฟังก์ชันผกผัน','AudioContext','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.doc','answering','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ai-quiz-generator-v3','push','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x20\x20\x20-\x20คำตอบ:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','generated','analyze-strengths-btn','20px','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','pointerType','matching_item','textContent','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','มือปราบสายรุ้ง','presentation-modal','.live-answer-btn,\x20#live-submit-short-answer-btn','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','text/csv;charset=utf-8;','sync-variant-selector','bg-green-200','random','confidence-mode-container','/questionBank','กลุ่มของคุณ','ตัวเลือก\x20ก','\x22\x20data-name=\x22','#FEE2E2','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','short','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','เพนกวินไฟ','Error\x20saving\x20shortcut:','price','localeCompare','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','disabled','interesting-stats-container','highlighter','subTopic','gameVariant','(นำโด่ง)','blueprint-project-manager-view','studentName','Error\x20processing\x20file\x20for\x20AI:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.confidence-choice-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','leaderboard-tab','ส่วนเบี่ยงเบนมาตรฐาน','results-table','\x20/\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','cancel-shortcut-edit-btn','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','http://www.w3.org/2000/svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','correctAnswerIndex','shortcut-editor-modal','generate-from-text-btn','backgroundColor','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-input','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x20วินาที','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','admin-password-modal','transform','linearRampToValueAtTime','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','parentElement','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','editor-quiz-topic','.tab-name-display','bg-yellow-50','questions','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-sync-question-btn','additional-file-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','.lastAnswerCorrect','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','text-yellow-800','ต้นฉบับ\x202','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','endsWith','\x20จุด','การจัดหมู่\x20(Combination)','.delete-quiz-btn','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.ideal-answer-input','comparison-modal','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','badgesCount','cancel-export-pdf-btn','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','<span\x20class=\x22block\x20text-sm\x20','rgba(16,\x20185,\x20129,\x200.7)','specialist','DOMContentLoaded','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','hasPerfectScoreBonus','ท็อปฟอร์ม','Auto-cleanup\x20failed:','textarea[name=\x22question_single\x22]','normal','baseVal','default-1','worksheet-input-area','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','round','imageCode','reference_onet.pdf','close-comparison-modal-btn','tooltipTarget','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','pre-test-checkbox','powerupUsed','added','flex\x20flex-col\x20gap-2','\x5cneq','\x20เป็น\x20','ไม่พบโปรเจคที่ต้องการลบ','/public/data/customMathTopics','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังอ่านและเตรียมไฟล์...','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','quadraticCurveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','อัปเดตพฤติกรรมสำหรับ\x20','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','ตัวเลือก\x20ข','รูปสี่เหลี่ยมและสมบัติ','text-red-600','countdown-display','ค่าสัมบูรณ์','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','!\x20ข้อมูลของคุณถูกกู้คืนแล้ว','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','เลือกและเริ่มสร้าง','trail-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','Error\x20saving\x20quiz\x20edits:','options','timer-bar','เกิดข้อผิดพลาดในการใช้ไอเทม','POST','text-gray-300\x20hover:text-white','next-question-timed-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','bp-modal-include-images-checkbox','scrollY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดูผลสรุปสุดท้าย','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','incorrect','\x22\x20ออกจากคลังนี้?','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x22\x20name=\x22drill_answer\x22\x20value=\x22','OCR\x20Error:','geq','shortcutTabs','frac','eraser-tools-group','.delete-bp-project-btn','preScore','new-question-type-select','includeImages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','\x20quizzes\x20into\x20global\x20cache.','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','anonymous_reveal_end','translate','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','กรุณาเลือกสถานะ','label','bp-project-title','fa-fire\x20text-orange-500','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','backspace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เวลาโบนัสทำงาน!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.ai-fix-formula-btn','\x20mx-1\x20text-lg\x22></i></span>','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','.edit-points-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','student-quiz-leaderboard-content','grid','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์อ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','short_answer','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','สร้างโปรเจคสำเร็จ!','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','.bp-present-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not_generated','ความต่อเนื่อง','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','bg-yellow-300\x20text-yellow-900\x20font-bold','.pin-digit-box','.color-palette-popup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','#E0E7FF','usedBuyTime','answer','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','pointer-events-none','ต้นฉบับ\x201','memory','🛡️','.edit-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20|\x20ID:\x20','release','isStarred','topic-tab','perseverance','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','parallelShortcutTabs','สร้างแบบทดสอบปรนัย','ดาบพิฆาตอสูร','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','bg-red-700\x20text-white\x20font-bold','file-shortcut-editor-modal','.project-card-content','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','สำหรับโปรเจค:\x20','handleGenerateQuizFromBlueprintTopic','comparison-chart','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add-file-shortcut-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','buyTime','wasForced','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','duration-300','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','cursor','realScore','false','bg-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','explanation','กุ้งเต้นแร้งกา','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','.text-indigo-200','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','currentTarget','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','no-projects-msg','[data-topic-id]','doc','topic-input','scratchpad-canvas','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','onchange','กรุณาใส่ชื่อนักเรียน','interesting-stats-wrapper','.application-options\x20button','text-blue-800','1:516499432840:web:7b2a9a571fad2e3d68463d','ฟังก์ชันลอการิทึม','add-custom-math-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.remove-parallel-shortcut-from-tab-btn','setItem','.isScored','.remove-file-shortcut-from-tab-btn','Error\x20updating\x20old\x20quizzes:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','visible','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','แบบทดสอบ:\x20','pin-entry-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','submission-status-chart','submit-group-answer-btn','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เรขาคณิต','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','\x20คะแนน\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','oninput','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','touchmove','.copy-quiz-id-list-btn','border-gray-300','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','blueprint-upload-input','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','touchend','.file-shortcut-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','ตัวเลือก\x20ง','MathJax\x20typeset\x20error\x20(analytics):','```','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','N/A','progress-project-select','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','mousemove','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','confirm-link-quiz-btn','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','รีเซ็ตลำดับโปรเจคแล้ว','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','จับคู่เพื่อเปรียบเทียบผล','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อโปรเจคห้ามว่าง','live-game','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','scheduled','submit','undo-btn','border-red-700','source_document.pdf','confirm-create-project-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','showAnswerInAnonymous','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','helvetica','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','manage-players-btn','standardTopic','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pin','export-image-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20custom\x20topic:','.toggle-hidden-options-btn','itemId','.question-editor-item[data-q-index=\x22','isAnonymousRevealed','<div\x20class=\x22space-y-4\x22>','.start-game-btn','\x22\x20value=\x22','stringify','ย้าย','presentation-ai-result','getContext','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','student-quiz-area','ชื่อหัวข้อห้ามว่าง','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','bold','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','<span\x20title=\x22โดนบังคับ\x22>👻</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.buy-item-btn','date_asc','pen','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การจัดกลุ่มข้อมูล','border-indigo-500','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.scratchpad-content-wrapper','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','reference.pdf','จำนวนเชิงซ้อน\x20(เสริม)','กำลังสร้างคำถามข้อ\x20','file-default-1','scratchpad-clear-btn','schedule','Error\x20starting\x20team\x20quiz:','spinner','shortcutId','mouseup','submittedAt','Remedial\x20quiz\x20generation\x20failed:','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการลบโปรเจค','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.toggle-actions-btn','topic-bank-subtopic-name','badgesToAdd','(ตามมาติดๆ)','bg-indigo-600\x20hover:bg-indigo-700','คะแนนเต็ม!','close-game-final-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parts','destination-out','input[name=\x22drill_answer\x22]:checked','showImproveButton','quizId','topic-bank-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','force-math-checkbox','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','readAsArrayBuffer','createOscillator','Market\x20entry\x20payment\x20failed:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','promptFeedback','redo-btn','#student-quiz-leaderboard-content\x20thead','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','blueprint-shortcut-container','pinnedProjects','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ผู้เชี่ยวชาญ','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','NEGATIVE_INFINITY','นินจาชาเขียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','parallel-default-2','leaderboard-quiz-tab-content','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','เพิ่มปุ่มลัดจากไฟล์ใหม่','\x20จาก\x20','Error\x20updating\x20project\x20color:','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','Firebase\x20initialization\x20failed:','onblur','create-from-bank-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','แผนการสอน:\x20','<span\x20title=\x22','download','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','hint','rgba(239,\x2068,\x2068,\x200.9)','classList','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ownerSVGElement','#e21b3c','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','อสมการค่าสัมบูรณ์','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','confidence-modal','scratchpad-header','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','ภูเขา','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','qType','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','อัปเดตแบบทดสอบเก่า\x20','set','.topic-actions-edit','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.sortable-header','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','Error\x20listening\x20for\x20student\x20profiles:','msRequestFullscreen','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','(ไม่ตอบ)','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','numQuestions','คำอธิบาย...','ไม่พบข้อมูลผู้เล่น','name_asc','getBBox','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','#DBEAFE','default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','warn','quiz-leaderboard-table-container','hasOwnProperty','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isForcedConfident','exponentialRampToValueAtTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20in\x20all\x20blueprint\x20projects.','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','transition-all','commonMistakes','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','.ai-content\x20p','\x22.\x20','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','#retake-for-improvement-btn','admin-view','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','</tbody></table>','.edit-question-btn','sort','text-green-700\x20bg-green-100','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-error-msg','เริ่มกิจกรรม:\x20','querySelector','setFont','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','gain','floor','score','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','เส้นตรง:\x20รูปแบบสมการ','dashboardConfig','perQuestionStats','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','$$$1$','สายตาสั้น','.start-presentation-list-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','start-sync-game-btn',')\x22><span\x20style=\x22','\x22>(','ชาไข่มุก','next-question-btn','classStrengths','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20processing\x20file\x20shortcut\x20click:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-summary-tooltip.visible','student-project-leaderboard-content','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','student-view','input[name=\x22syncVariant\x22]:checked','จิงโจ้สโลว์ไลฟ์','blueprint-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','dragstart','รายงานผลคะแนน','AI\x20ไม่สามารถอ่านข้อความได้','\x20สำเร็จ','.kick-player-btn-sync','update','destroy','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','รหัสไม่ถูกต้อง','</span></p>','ไฟล์ทั้งหมด','goto-next-question-btn','</tbody></table></div>','.delete-svg-btn','complexityValue','choices_only','บันทึกการแก้ไข','กำลังเตรียมไฟล์อ้างอิง...','click','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','timeBonusThisQuestion','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','tGain','workerSrc','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','enable-black-market-checkbox','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาสร้างบทเรียนก่อน','th-TH','onloadend','find','sync-timer-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','referenceUrl','toBlob','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','toDataURL','คำตอบที่ถูกต้อง','คะแนนยังไม่ถึงครึ่ง','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','bg-gray-50','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','bg-blue-100\x20text-blue-800','bg-red-100','save-project-name-btn','text-gray-100','center','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','การลบเศษส่วน','manual-bp-project-name','summary','จำนวนนักเรียน','<span\x20title=\x22ใช้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','parallel-test-input-area','การยืนยันตัวตนล้มเหลว','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','number','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-progress','\x22\x20value=\x22true\x22\x20','Failed\x20to\x20resume\x20game\x20session:','bp-topic-list-container','.custom-math-dropdown','370986GVwoJY','.move-parallel-shortcut-menu-btn','ยืนยันการจับคู่','export-leaderboard-image-btn','ไอรอนแมน','.ai-content\x20td','-options','wheel','.bp-game-btn','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','text-green-800','category','topic-input-area','line-height:\x201.3;\x20min-width:\x200;','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-loader','.question-editor-item','.quiz-bank-item','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','Error\x20rendering\x20student\x20progress:','พบ\x20Sync\x20Game!','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','analytics-tab-content','word-break:\x20break-all;','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','.bp-delete-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','confirm-team-players-btn','max','[*]','practice-topic-btn','upperGroupResponders','.delete-hidden-shortcut-btn','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','linkedQuizIds','val','\x22\x20class=\x22color-palette-btn\x20','topics.','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','selected-answer-index-hidden-wager','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-[#DCFCE7]\x20text-green-900','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','generate-from-parallel-test-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','marginBottom','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','textAlign','confirm-passcode-btn','touchstart','Error\x20joining\x20live\x20game:','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','label[for=\x22num-questions\x22]','.color-palette-btn','px)\x20scale(','dblclick','generate-from-link-btn','shortcut-id-input','application/json','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','live-player-management','thead','textarea[name=\x22team_answer\x22]','สถิติและความน่าจะเป็น','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','G-JGJ3WNEQP3','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','newappai.firebaseapp.com','mouseleave','เพิ่มรายการที่เลือก','live-options-container','bulk-confidence-scoring-checkbox','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','Error\x20analyzing\x20file\x20for\x20topics:','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','quiz-end-time','additional-parallel-shortcuts-list','สรุปผลสุดท้าย','upperGroupNames','โลมาบิน','/public/data/projects','<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','<option\x20value=\x22','height','anonymous','ป่าไม้','จัดการ','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-300','learningGaps','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ปุ่มลัดทั้งหมด','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','filter','รูปแบบการให้เหตุผล','div[data-question-index=\x22','กำลังสร้างรูปภาพ...','แมวเก้าชีวิต','lowerGroupNames','math-topic-search-input','createdAt','มี\x20Points\x20ไม่เพียงพอ','</span>','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','Failed\x20to\x20kick\x20player\x20','p-2\x20bg-black/10\x20rounded-md','ยอดเยี่ยม','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','isAdaptive','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','quiz-editor-modal','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','global-quiz-count','\x0a\x20\x20\x20\x20\x20\x20</div>','rename-quiz-modal','.summary-bar-item','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อกหัก','project-detail-view','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setValueAtTime','attempts','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','modified','<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>','commit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','manual_release','ไม่ใช่\x20/\x20ผิด','Loaded\x20','wager-modal','ทฤษฎีทวินาม\x20(เบื้องต้น)','stroke','fullscreenchange','splice','project-quizzes-list','pointsLastRound','แบบทดสอบจากคลังส่วนตัว','-options\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lessonPlan','\x20หัวข้อ)','มูเตลู','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','cancel-rename-quiz-btn','Error\x20comparing\x20results:','num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20saving\x20quiz:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctResponse','.score','getTime','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#26890c','แก้ไขข้อนี้','team-student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','autoTable','ความน่าจะเป็นแบบมีเงื่อนไข','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','href','bestScore','ondrop','.txt','100px','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','1495336DupzBJ','original-mode-checkbox','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','bg-red-500\x20text-white\x20font-bold','admin-password-input','has','ไม่สามารถบันทึกการตั้งค่าได้','ยกเลิกการเชื่อมโยงสำเร็จ','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','bulk-quiz-settings-modal','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20calculating\x20final\x20scores:','parallel-shortcuts-loading-msg','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','mouse','(กำลังไล่ตาม)',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-parallel-shortcuts-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','generate-from-file-btn','เน็ตช้า','entries','desc','.topic-name-display','คาถาแยกเงาพันร่าง','.linkedQuizId','dimmed','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','link-url-input','strength-weakness-analysis-container','q-text-','fix-lesson-latex-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','toDate','ไม่พบตารางสำหรับ\x20Export','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','starred','สาระที่\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-input-area','กำลังวิเคราะห์หัวข้อ...','...','เพิ่มหัวข้อ\x20\x22','removeItem','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','</li>','svg','promise','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','สรุปผลการวิเคราะห์:\x5cn','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การประยุกต์เวกเตอร์พื้นฐาน','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','tool','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','teacherTips','confidence-choice-btn','selected-text-','Error\x20fetching\x20project\x20quizzes:','difficulty-level-select','approx','confidence_single','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','num-choices','scale-125','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Export\x20Image\x20Error:','Error\x20saving\x20project\x20order:','reviewQuestionIndex','input[name=\x22syncVariant\x22][value=\x22','Saving\x20game\x20results\x20(Optimized)...','add-from-global-bank-btn','</div></div></div>','สมการเชิงเส้นตัวแปรเดียว','#E5E7EB','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ไม่ใช่','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','#parallel-shortcut-tabs-nav\x20.tab-name-input','bp-modal-passing-score-input','ทะเล','หลังเรียน','leq','sync-timer-enable-checkbox','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','แปลงร่าง','scores-tab-content','use-powerup-wagerMultiplier-instant','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','.group','worksheet-topic-input','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','\x20ทำงานอยู่!</div>','save','pointContent','analytics-tab-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการราก\x20(radical)','additional-parallel-shortcuts-modal','save-visibility-settings-btn','admin','suspended','remove','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','.project-card-container.opacity-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','translate(','getAttributeNS','check-presentation-answer-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นกฮูกกลางวัน','input[name=\x22status-option\x22]:checked','#F3E8FF','กำลังสร้างบทเรียน:\x20','endTime','slice','quiz-results-table-body','การเรียงสับเปลี่ยน\x20(Permutation)','responseSchema','\x20\x20\x20-\x20','<br>','Error\x20clearing\x20all\x20links:','คะแนน','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','bg-yellow-100','pointsToAdd','save-bp-settings-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','activeGameSession','text-blue-700','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-student-btn','ไม่สามารถเริ่มเกมได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.remove-shortcut-from-tab-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','comeback_king','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','student-name-select','image-to-crop','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x20รายการสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','timestamp','Error\x20during\x20deep\x20delete:','\x5ctimes','groups.','lower_group_count','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','bg-gray-500','findIndex','shuffle-setting-select','_opt','ซื้อ\x20(','file-shortcut-url-input','rgba(79,\x2070,\x20229,\x200.8)','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','.bp-try-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ระยะจากจุดถึงเส้นตรง','blueprint-topics-list-container','เกิดข้อผิดพลาดในการลบ','Error\x20unpairing\x20quizzes:','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x22,\x20','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','fill_in_with_choices','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สเกลและแผนที่','#add-question-editor-btn','blueprint-input-area','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.pen-color-btn','.edit-hidden-parallel-shortcut-btn','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','ดอทโปรดักต์\x20(dot)','export-lesson-to-pdf-btn','\x20แล้ว!','artifacts/','หยุดระบบจับเวลาหรี่หน้าจอ','loader-text','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','numChoices','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','close-student-rankings-btn','Error\x20saving\x20blueprint\x20project:','shadowBlur','getElementsByTagName','เกิดข้อผิดพลาดในการบันทึกโปรเจค','additional-file-shortcuts-list','thead\x20.sortable-header','answeredCurrentQuestion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ondragover','ความสัมพันธ์ของมุม','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','Error\x20clearing\x20linked\x20quiz:','เกิดข้อผิดพลาดในการปักหมุด','ตอบถูกทุกข้อในแบบทดสอบนี้','data','projectName','Error\x20deleting\x20all\x20students:','scan-text-image-btn','(คู่ขนาน)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','newCorrectIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20generate\x20practice\x20test:','catch','Error\x20linking\x20quizzes:','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','ข้าวมันไก่พิเศษ','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','-\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','ondragstart','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','.pin-key','scrollIntoView','buy-time-quantity-input','Error\x20saving\x20settings:','playerName','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','กราฟฟังก์ชันตรีโกณ','เซียนสมองไว','สมการค่าสัมบูรณ์','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','true_false','length','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','Error\x20saving\x20game\x20results:','onload','projectOrder','Group\x20Mode','global-quiz-search-input','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','516499432840','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</td>','admin-dashboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topicName','สลับไปโหมดนักเรียน','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','Error\x20generating\x20worksheet:','.move-shortcut-menu-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','file-upload-input','isScored','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','สัญกรณ์วิทยาศาสตร์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-[#EF4444]\x20text-white\x20font-bold','quiz-form','date_desc','204135swgXHp','ไฟล์ลัด\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','question-complexity-select','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','bg-gray-400','map','\x22\x20data-quiz-id=\x22','export-leaderboard-excel-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','dropdown-list-',':</span><span>','onSecondChance','Error\x20loading\x20user\x20preferences:','\x20ตัวเลือก)','input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.regenerate-question-btn','Error\x20generating\x20lesson\x20plan:','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-400\x20text-white\x20font-bold','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','wagerMultiplier','scrollHeight','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','newappai','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','position','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','fas\x20fa-star\x20text-yellow-500','cos','use-powerup-revealOptions','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','ไม่มีผู้ตอบตัวเลือกนี้','correctAnswer','00:00','confidence-scoring-description','export-leaderboard-pdf-btn','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','pointermove','zIndex','triangle','quizType','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','groups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary_chart','\x22.\x20Ideal\x20Answer:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','border-green-300\x20bg-green-50','sqrt','closest','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','playerIndex','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20live\x20race:','สร้างคำถามใหม่\x201\x20ข้อ\x20','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','lesson-sections-container','binom','.shortcut-list-item:not(.opacity-50)','contains','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','เนื้อหาสำหรับสอน:\x20','ควรปรับปรุง','game-start-modal-title','touches','Error\x20saving\x20file\x20shortcut:','firstScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','quiz-bank-count','.sort-indicator','change','fa-bolt\x20text-blue-500','title','หมาป่าเดียวดาย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','text-indigo-700','isDefault','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','0\x200','BOOLEAN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','761892imUEKu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x5cfrac{$1}{$2}','moveTo','ตลาดมืด\x20(','answerValue',';\x22\x20data-id=\x22','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',')</span></div>','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','questionText','เพิ่มปุ่มลัดใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','results-quiz-title','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','password-error-msg','Error\x20saving\x20questions\x20to\x20practice\x20bank:','Failed\x20to\x20get\x20hint:','กรุณาพิมพ์คำตอบของกลุ่ม','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','file-topics-list','onclick','toISOString','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','passingScore','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','leaderboard-quiz-tab-btn','กระต่ายตื่นตูม','ทศนิยม\x20(ค่าประจำหลัก)','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','show_results_and_answers','_opt1\x22\x20name=\x22question','trim','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','การบวก','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.unpair-quiz-btn','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','delete-all-students-btn','<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelTestShortcutsConfig','%PDF','</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>','Failed\x20to\x20end\x20group\x20mode\x20game:','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','dispatchEvent','fontFamily','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20visibility\x20settings:','.lastAnswerValue','Error\x20preparing\x20content\x20quiz:','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','maxHeight','<button\x20id=\x22open-market-btn\x22\x20class=\x22','เกี่ยวกับหัวข้อ\x20\x22','</p><div>','student-team-join','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','\x22><p\x20class=\x22font-semibold\x22>','cropper-modal','next-review-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','stepByStepExamples','COMEBACK_KING','drop','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Error\x20saving\x20lesson\x20to\x20project:','ก่อนเรียน','/public/data/quizzes/','export-excel-btn','(รอคะแนน)','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','fill','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','ชนิดของข้อมูลและการเก็บข้อมูล','บันทึกแบบทดสอบสำเร็จแล้ว!','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','visibilitychange','modal-shuffle-select','ตะวันฉาย','\x22><i\x20class=\x22fas\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','slide-counter','หมดเวลา!\x20กำลังส่งคำตอบ...','28px','cancel-global-activity-btn','ผิด','เกิดข้อผิดพลาดในการอัปเดต:\x20','message-modal','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','close-lesson-plan-modal-footer-btn','project-name-input','parallel-shortcut_','fixedData','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เพื่อนสนิท','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','sync-player-list','bar','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-green-500','style','user','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','Authentication\x20failed:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','mixed','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','canvas','modal-timer-duration-label','isBlackMarketEnabled','global-activity-modal','player-list-lobby','<p\x20class=\x22text-xl\x22>','\x5cdiv','div','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','กรุณาป้อนรหัสแบบทดสอบ','</div></div>','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','Error\x20processing\x20parallel\x20shortcut\x20click:','แก้ระบบสมการด้วยเมทริกซ์','Error\x20processing\x20shortcut\x20click:','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','💰\x20โหมดเดิมพันทำงานอยู่!','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','#FCE7F3','test','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20topic:','points','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','ระยะทางและจุดกึ่งกลาง','group','.shortcut-btn','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบตหมด','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','fill_in_the_blank','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','</th>','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finished','lesson-view-modal','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','dim-overlay','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','เปิดใช้งาน','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','bp-modal-shuffle-setting-select','AI\x20Formula\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','passcode','left','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','fullscreenElement','Error\x20saving\x20manual\x20blueprint\x20project:','การคูณทศนิยม','👁️','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-modal','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x22\x20data-topic=\x22','arrayBuffer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','ธอร์ค้อนบิน','พื้นที่สามเหลี่ยม','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20fetching\x20student\x20rankings:','ย้ายแบบทดสอบสำเร็จ','close-topic-bank-btn','editable-text-','/public/data/blueprintProjects/','save-parallel-shortcut-btn','fileShortcutsConfig','/public/data/syncGames','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ใต้กราฟ/ระหว่างกราฟ','.answered','justification','กำลังอัปเดตแบบทดสอบ\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','quizMode','จำนวนเต็มบวก','mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','จับคู่แบบทดสอบสำเร็จ!','แบบทดสอบนี้ปิดใช้งานอยู่','ระยะเวลา\x20(นาที):','close-presentation-btn','quiz-search-input','quiz-bank-modal','ไม่มี','add-file-shortcut-tab-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','input[name=\x22syncVariant\x22]','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','generated-quiz-actions','lastIndexOf','\x22\x20data-pre-test-id=\x22','isCorrect','อัตราส่วนและสัดส่วน','ไก่ฟ้าพญาลอ','บันทึกการตั้งค่าการแสดงผลสำเร็จ','scale','\x20กลุ่ม</p></div>','results-table-container','.bp-open-topic-bank-btn','กรุณาพิมพ์คำตอบ','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','overflow','Error\x20deleting\x20shortcut:','/public/data/quizzes','stem','.delete-file-shortcut-tab-btn','Welcome\x20back,\x20','totalPoints','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','show-results-btn','parallel-default-','wasConfident','ห.ร.ม.\x20(GCD)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','แก้ไขหัวข้อสำเร็จ','.move-file-shortcut-menu-btn','ไม่พบข้อมูลแบบทดสอบ','file.txt','globalCompositeOperation','width\x2060s\x20linear','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','แก้ไข\x20Points\x20ของ\x20','AI\x20ไม่ส่งผลลัพธ์กลับมา','padStart','parallel-shortcut-editor-modal','</p>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','modal-timer-duration-input','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','.draggable-text','solution',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','กำลังสร้างแบบทดสอบ\x20\x22','pathname','bg-green-100','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','shouldSaveResults','Error\x20unlinking\x20quiz:','(เลือกแล้ว\x20','button[type=\x22submit\x22]','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestScore','ทฤษฎีบทพีทาโกรัสและการประยุกต์','<button\x20data-quiz-id=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','%</span>','file-tab','top','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','คนโสด','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','sync-timer-duration-input','การลบทศนิยม','export-word-btn','answers','Error\x20saving\x20submission:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','source_document.txt','split','parallel-shortcut-url-input','cancel-quiz-status-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','cancel-blueprint-projects-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ฟังก์ชันค่าสัมบูรณ์','คุณแน่ใจว่าต้องการลบแท็บนี้?','Save\x20complete\x20(Optimized\x20Read)','scan-text-image-input','confirm-move-quiz-btn','md:col-span-3','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','สร้างแบบทดสอบ','projectSort','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','สายลมแห่งโชคชะตา','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','project-sort-select','timerDuration','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','Successfully\x20removed\x20','กรุณาใส่ชื่อโปรเจค','manage','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','separate-by-content-from-file-checkbox','[id^=\x22dropdown-list-\x22]','save-shortcut-btn','กองดอง','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','การแจกแจงทวินาม\x20(พื้นฐาน)','editable-quiz-topic','ลบหัวข้อสำเร็จ','\x20ตัวเลือก.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-white\x20text-gray-800','คณิตการเงิน/บูรณาการ','opacity','offset','cancel-manual-bp-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','body','toFixed','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','on_fire','\x20แบบทดสอบลงในคลังสำเร็จ!','score-distribution-chart','Error\x20verifying\x20answers\x20in\x20editor:','input[type=\x22text\x22]','idealAnswer','log','cancel-test-btn','documentElement','student-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sine','keyConcepts','ลบโปรเจค\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ondblclick','md:col-span-1','cloneNode','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','การนับ','กำลังดึงข้อมูลจากลิงก์...','ตลาดมืด\x20(-1\x20P)','add-parallel-shortcut-tab-btn','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','ผู้ไม่ยอมแพ้','questionStatus','total','cancel-quiz-settings-btn','bp-modal-quiz-type-select','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic_','querySelectorAll','.project-card-container:not(.opacity-50)','\x22\x5cn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','loopUntilPass','fa-user-astronaut\x20text-blue-700','dataset','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','readAsDataURL','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','แอบชอบ','confidence-scoring-toggle',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x22\x20title=\x22','player-count','match','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','start-presentation-btn','z-index:\x20','.generate-lesson-btn','modal-loop-until-pass-checkbox','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','</span>\x20','confirm-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','มุมพิเศษ\x2045°-45°-90°','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-create-project-btn','removeEventListener','.shortcut-tab-btn','\x27,\x20\x27','project-detail','timer-duration-label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','100%','.quiz-bank-move-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','1427382hzirPO','ค่าคลาดเคลื่อนของการวัด','parallel-shortcut-name-input','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','reference-pdf-upload','behavior-log','text','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ออฟฟิศซินโดรม','กิจกรรมสิ้นสุดลงแล้ว','now','selectMathOption','ceil','all','-tab','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','</a>','</label></div>','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','รายการนี้','main-correct-answer-display','.save-custom-topic-btn','circ','.quiz-bank-present-btn','Error\x20joining\x20team\x20quiz:','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','PERSEVERANCE','parallel-shortcut-id-input','typesetPromise','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','รอ...','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ไม่พบแบบทดสอบในระบบเลย','เกิดข้อผิดพลาดในการติดดาว','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','resultsSaved','back-to-student-initial-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','blob','การแจกแจงปกติและ\x20z-score',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','cancel-team-selection-btn','ยกเลิกการจับคู่สำเร็จ','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','confirm-game-start-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','globalAlpha','อยู่ในหัวข้อหลักใด:','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','correct','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','.move-file-shortcut-dropdown','.bp-create-content-quiz-btn','currentQuestionIndex','enable-passcode-checkbox','ความคาดหมาย\x20(Expected\x20value)','times','bg-yellow-200','end-team-quiz-btn','parallelShortcutOrder','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','lineJoin','true','wager-max-points','ปริพันธ์ไม่จำกัด','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','Error\x20confirming\x20players:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','text-blue-700\x20bg-blue-100','numPages','check-answer-btn','timer-duration-container','math-topics-checkbox-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ร้อยละพื้นฐาน','link-tab','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','members','market-item-list','use-powerup-','webkitAudioContext','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fontWeight','resize','ส่งแล้ว','questionId','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ค่าความจริง/ตารางค่าความจริง',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-input','\x22\x20data-target-tab-id=\x22','.duplicate-quiz-btn','.topic-actions-view','Error\x20duplicating\x20quiz:','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนข้อ:','\x22\x20name=\x22confidence','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','medium','บันทึกโปรเจค\x20\x22','strategyScan','setAttribute','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x1a2e=function(){return _0x50675f;};return _0x1a2e();}function renderAnalytics(_0x4e58a4,_0x2f0416){const _0x4d95ca=_0x448927,_0x591db1=_0x2f0416[_0x4d95ca(0x955)](_0x12a368=>_0x12a368[_0x4d95ca(0xc62)]!==undefined),_0x3d6536=currentProjectData['students'][_0x4d95ca(0xab1)],_0x10788e=_0x591db1[_0x4d95ca(0xab1)],_0x395e71=_0x3d6536-_0x10788e,_0x3f99f6=_0x3d6536>0x0?_0x10788e/_0x3d6536*0x64:0x0,_0x11d53c=_0x591db1['map'](_0x3ffd79=>_0x3ffd79[_0x4d95ca(0xc62)]),_0xfdbdd8=_0x11d53c[_0x4d95ca(0xab1)]>0x0?_0x11d53c['reduce']((_0x59c0b7,_0x38686a)=>_0x59c0b7+_0x38686a,0x0)/_0x11d53c[_0x4d95ca(0xab1)]:0x0,_0x3b3a6a=_0x4e58a4[_0x4d95ca(0x677)][_0x4d95ca(0xab1)],_0x3e898e=_0x3b3a6a>0x0?_0xfdbdd8/_0x3b3a6a*0x64:0x0,_0x4fec02=calculateItemAnalysis(_0x4e58a4,_0x591db1),_0x5c6ad0=calculateReliabilityKR20(_0x4e58a4,_0x591db1,_0x4fec02['perQuestionStats']);let _0x2782cb='';if(_0x5c6ad0!==null){let _0x3e2a1e='';if(_0x5c6ad0>=0.9)_0x3e2a1e=_0x4d95ca(0x964);else{if(_0x5c6ad0>=0.8)_0x3e2a1e=_0x4d95ca(0x34e);else{if(_0x5c6ad0>=0.7)_0x3e2a1e='ดี';else{if(_0x5c6ad0>=0.6)_0x3e2a1e='พอใช้';else _0x3e2a1e=_0x4d95ca(0xb1a);}}}_0x2782cb=_0x4d95ca(0x79a)+_0x5c6ad0[_0x4d95ca(0xca2)](0x2)+_0x4d95ca(0xae6)+_0x3e2a1e+_0x4d95ca(0x1fe);}const _0x12ce82=document['getElementById']('analytics-summary-cards');_0x12ce82[_0x4d95ca(0x5f4)]=_0x4d95ca(0x8e5)+_0x3f99f6[_0x4d95ca(0xca2)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x10788e+'/'+_0x3d6536+_0x4d95ca(0xb43)+_0xfdbdd8[_0x4d95ca(0xca2)](0x2)+_0x4d95ca(0xac2)+_0x3e898e[_0x4d95ca(0xca2)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x11d53c['length']>0x0?Math[_0x4d95ca(0x90d)](..._0x11d53c):_0x4d95ca(0x794))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x11d53c[_0x4d95ca(0xab1)]>0x0?Math[_0x4d95ca(0x4ae)](..._0x11d53c):_0x4d95ca(0x794))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2782cb+_0x4d95ca(0x3d4);const _0x393990=document[_0x4d95ca(0xb18)](_0x4d95ca(0x75d));_0x393990&&_0x393990[_0x4d95ca(0xa1f)]();const _0x72a7a2=_0x4d95ca(0x361);_0x12ce82[_0x4d95ca(0x4c3)](_0x4d95ca(0x60c),_0x72a7a2);const _0x110e22=currentProjectData['students']||[];renderSubmissionChart(_0x10788e,_0x395e71,_0x591db1,_0x110e22),renderScoreDistributionChart(_0x591db1,_0x3b3a6a),renderQuestionAnalytics(_0x4e58a4,_0x591db1,_0x110e22),renderInterestingStats(_0x4e58a4,_0x591db1);}async function handleExportLessonPDF(){const _0x3c2e4f=_0x448927,_0x51fe8c=document['getElementById'](_0x3c2e4f(0x561)),_0x249e22=document[_0x3c2e4f(0xb18)](_0x3c2e4f(0x35f))[_0x3c2e4f(0x633)],_0x5415fb=window['open']('',_0x3c2e4f(0x579)),_0x19c7b7=_0x3c2e4f(0x8df)+_0x249e22+_0x3c2e4f(0x907)+_0x51fe8c[_0x3c2e4f(0x5f4)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5415fb[_0x3c2e4f(0x48a)][_0x3c2e4f(0x586)](_0x19c7b7),_0x5415fb[_0x3c2e4f(0x48a)][_0x3c2e4f(0x378)](),_0x5415fb[_0x3c2e4f(0xab4)]=function(){setTimeout(()=>{_0x5415fb['print']();},0x5dc);};}function renderInterestingStats(_0xb36cfe,_0x4586e0){const _0x55ecf1=_0x448927,_0x16a3e2=document['getElementById'](_0x55ecf1(0x64c));if(!_0x16a3e2)return;if(_0x4586e0[_0x55ecf1(0xab1)]===0x0){_0x16a3e2[_0x55ecf1(0x5f4)]=_0x55ecf1(0x286);return;}const _0xb7f218=_0xb36cfe[_0x55ecf1(0x677)]['map']((_0x5c6962,_0x5d756d)=>({'index':_0x5d756d+0x1,'text':_0x5c6962[_0x55ecf1(0xb3b)]||_0x5c6962['stem'],'correct':0x0}));_0x4586e0[_0x55ecf1(0x157)](_0x56f838=>{const _0x3bf191=_0x55ecf1,_0x581c49=_0x56f838[_0x3bf191(0x975)][_0x56f838[_0x3bf191(0x975)][_0x3bf191(0xab1)]-0x1];_0x581c49&&_0x581c49[_0x3bf191(0xc70)]&&_0x581c49[_0x3bf191(0xc70)][_0x3bf191(0x157)](_0x3b9331=>{const _0x4faf55=_0x3bf191,_0x14a4e2=_0xb7f218[_0x4faf55(0x8c0)](_0x1a3ce5=>_0x1a3ce5['text']===_0x3b9331[_0x4faf55(0x29a)]);_0x3b9331[_0x4faf55(0xc26)]&&_0x14a4e2&&_0x14a4e2[_0x4faf55(0xd30)]++;});});const _0x286575=_0x4586e0[_0x55ecf1(0xab1)],_0x273b1e=Math[_0x55ecf1(0x90d)](..._0xb7f218[_0x55ecf1(0xad5)](_0x2d6967=>_0x2d6967[_0x55ecf1(0xd30)])),_0x3fb8f8=Math[_0x55ecf1(0x4ae)](..._0xb7f218[_0x55ecf1(0xad5)](_0x1d8330=>_0x1d8330[_0x55ecf1(0xd30)])),_0x46873e=_0xb7f218[_0x55ecf1(0x955)](_0x5db633=>_0x5db633['correct']===_0x273b1e)['map'](_0x41594d=>_0x55ecf1(0x1df)+_0x41594d[_0x55ecf1(0xfd)]),_0x399761=_0xb7f218[_0x55ecf1(0x955)](_0x4809a8=>_0x4809a8[_0x55ecf1(0xd30)]===_0x3fb8f8)['map'](_0x42bb39=>'ข้อ\x20'+_0x42bb39['index']),_0x22d66e=_0x4586e0[_0x55ecf1(0x872)]((_0x752ff4,_0x26062f)=>_0x26062f[_0x55ecf1(0xc62)]-_0x752ff4[_0x55ecf1(0xc62)])[_0x55ecf1(0x955)]((_0x1e6c64,_0x4ab9e4,_0xfcb6ed)=>_0x1e6c64['latestScore']===_0xfcb6ed[0x0][_0x55ecf1(0xc62)]),_0x20975c=_0x4586e0['sort']((_0x44573f,_0x15a714)=>_0x44573f[_0x55ecf1(0xc62)]-_0x15a714[_0x55ecf1(0xc62)])[_0x55ecf1(0x955)]((_0x31cc71,_0x5d107d,_0x342304)=>_0x31cc71[_0x55ecf1(0xc62)]===_0x342304[0x0][_0x55ecf1(0xc62)]),_0x5e94cd=_0x55ecf1(0x4e2)+_0x46873e[_0x55ecf1(0x222)](',\x20')+_0x55ecf1(0x35a)+_0x273b1e+_0x55ecf1(0x65b)+_0x286575+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x399761[_0x55ecf1(0x222)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x286575-_0x3fb8f8)+_0x55ecf1(0x65b)+_0x286575+_0x55ecf1(0x3e7)+_0x22d66e['map'](_0x59f0bd=>_0x59f0bd['studentName'])[_0x55ecf1(0x222)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x22d66e[0x0][_0x55ecf1(0xc62)]+_0x55ecf1(0x25a)+_0x20975c[_0x55ecf1(0xad5)](_0x40f076=>_0x40f076['studentName'])['join'](',\x20')+_0x55ecf1(0xcb6)+_0x20975c[0x0]['latestScore']+_0x55ecf1(0xaa);_0x16a3e2[_0x55ecf1(0x5f4)]=_0x5e94cd;}function renderSubmissionChart(_0x47c451,_0x319111,_0x216516,_0x1ff1e3){const _0x22877c=_0x448927,_0x415b25=document['getElementById'](_0x22877c(0x77b))[_0x22877c(0x7d0)]('2d'),_0x1be6a7=_0x216516[_0x22877c(0xad5)](_0x108dea=>_0x108dea[_0x22877c(0x652)]),_0x313c0a=_0x1ff1e3[_0x22877c(0x955)](_0x3c55bd=>!_0x1be6a7['includes'](_0x3c55bd));chartInstances[_0x22877c(0xe11)]&&chartInstances[_0x22877c(0xe11)][_0x22877c(0x8a5)](),chartInstances[_0x22877c(0xe11)]=new Chart(_0x415b25,{'type':'doughnut','data':{'labels':[_0x22877c(0xd55),_0x22877c(0x3ee)],'datasets':[{'data':[_0x47c451,_0x319111],'backgroundColor':[_0x22877c(0x3b6),_0x22877c(0x165)],'borderColor':[_0x22877c(0x154),_0x22877c(0x154)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x22877c(0x497)},'tooltip':{'callbacks':{'label':function(_0x57cbbc){const _0x35457a=_0x22877c;let _0xf9087b=_0x57cbbc[_0x35457a(0x6f0)]||'';return _0xf9087b&&(_0xf9087b+=':\x20'),_0xf9087b+=_0x57cbbc[_0x35457a(0xb9)],_0xf9087b;},'afterLabel':function(_0x406a7a){const _0x40da91=_0x22877c;let _0x4b3324;return _0x406a7a[_0x40da91(0x2b7)]===0x0?_0x4b3324=_0x1be6a7:_0x4b3324=_0x313c0a,_0x4b3324['length']>0x0?_0x4b3324[_0x40da91(0x222)]('\x0a'):_0x40da91(0xc1d);}}}}}});}function renderScoreDistributionChart(_0x39c45a,_0x30b411){const _0x3b164b=_0x448927,_0x21de46=document[_0x3b164b(0xb18)](_0x3b164b(0xca9))[_0x3b164b(0x7d0)]('2d'),_0x20e0b6={};for(let _0x891ee6=0x0;_0x891ee6<=_0x30b411;_0x891ee6++){_0x20e0b6[_0x891ee6]=0x0;}_0x39c45a[_0x3b164b(0x157)](_0x5834b3=>{const _0x36de52=_0x3b164b;_0x20e0b6[_0x5834b3[_0x36de52(0xc62)]]!==undefined&&_0x20e0b6[_0x5834b3[_0x36de52(0xc62)]]++;}),chartInstances[_0x3b164b(0x87c)]&&chartInstances[_0x3b164b(0x87c)][_0x3b164b(0x8a5)](),chartInstances['score']=new Chart(_0x21de46,{'type':'bar','data':{'labels':Object[_0x3b164b(0x7bf)](_0x20e0b6),'datasets':[{'label':_0x3b164b(0x8dd),'data':Object[_0x3b164b(0x56e)](_0x20e0b6),'backgroundColor':_0x3b164b(0xa5c),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x3b164b(0xa37)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1ff37b){const _0x5d251e=_0x3b164b,_0x5d0d78=_0x1ff37b['label'],_0x3fe4e4=_0x39c45a['filter'](_0x1f52e4=>_0x1f52e4[_0x5d251e(0xc62)]==_0x5d0d78)[_0x5d251e(0xad5)](_0x47ccea=>_0x47ccea['studentName']);return _0x3fe4e4['length']>0x0?_0x3fe4e4[_0x5d251e(0x222)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4b0507,_0x2243b0,_0x1980e7){const _0xe8b23c=_0x448927,_0x12fe3b=document[_0xe8b23c(0xb18)]('question-analytics-container');if(_0x1980e7[_0xe8b23c(0xab1)]===0x0){_0x12fe3b['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x26595d=calculateItemAnalysis(_0x4b0507,_0x2243b0),_0xe727c0=calculateDistractorAnalysis(_0x4b0507,_0x2243b0);let _0x4cf16e='';_0x26595d[_0xe8b23c(0xdac)]&&(_0x4cf16e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x26595d[_0xe8b23c(0xdac)][_0xe8b23c(0x943)][_0xe8b23c(0xab1)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26595d[_0xe8b23c(0xdac)][_0xe8b23c(0x943)][_0xe8b23c(0xad5)](_0x15f9d0=>_0xe8b23c(0x2aa)+_0x15f9d0+_0xe8b23c(0x9de))[_0xe8b23c(0x222)]('')+_0xe8b23c(0x9d3)+_0x26595d[_0xe8b23c(0xdac)][_0xe8b23c(0x95a)][_0xe8b23c(0xab1)]+_0xe8b23c(0x737)+_0x26595d[_0xe8b23c(0xdac)][_0xe8b23c(0x95a)][_0xe8b23c(0xad5)](_0x4ecc11=>_0xe8b23c(0x2aa)+_0x4ecc11+_0xe8b23c(0x9de))[_0xe8b23c(0x222)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x42b8c2='';const _0xa0ff71=_0x2243b0[_0xe8b23c(0xad5)](_0x3598fd=>_0x3598fd[_0xe8b23c(0x652)]),_0x591bb2=_0x2c6e37=>{const _0x2945f3=_0xe8b23c;if(_0x2c6e37>=0.8)return _0x2945f3(0x5f6);if(_0x2c6e37>=0.6)return _0x2945f3(0xc39);if(_0x2c6e37>=0.4)return _0x2945f3(0xbda);if(_0x2c6e37>=0.2)return _0x2945f3(0x408);return _0x2945f3(0x2c8);},_0x25bb86=_0x11e79e=>{const _0x1bf1ff=_0xe8b23c;if(_0x11e79e<0x0)return _0x1bf1ff(0x512);if(_0x11e79e>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x11e79e>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x11e79e>=0.2)return _0x1bf1ff(0xb60);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0xa719bb=_0x12d04d=>{const _0x5e0399=_0xe8b23c,_0x285817=_0x12d04d[_0x5e0399(0xca2)](0x0);if(parseFloat(_0x285817)===0x64)return _0x5e0399(0x855)+_0x285817+_0x5e0399(0xc67);if(_0x12d04d>=0x32)return _0x5e0399(0x397)+_0x285817+'%</span>';return _0x5e0399(0x2a8)+_0x285817+_0x5e0399(0xc67);};_0x4b0507[_0xe8b23c(0x677)]['forEach']((_0x4cddbb,_0x4ef71a)=>{const _0x2b37fc=_0xe8b23c,_0x5c06b8=_0x26595d[_0x2b37fc(0x881)][_0x4ef71a],_0x4d8c55=_0xe727c0[_0x4ef71a],_0x58fc46=_0x4cddbb['stem']||_0x4cddbb[_0x2b37fc(0xb3b)]||_0x4cddbb[_0x2b37fc(0x4f7)];let _0x383b1f=0x0;const _0x2df8cc=[],_0x21c3f1=[];_0x2243b0['forEach'](_0x183622=>{const _0x1def33=_0x2b37fc,_0x5d5df3=_0x183622[_0x1def33(0x975)][_0x183622[_0x1def33(0x975)][_0x1def33(0xab1)]-0x1];if(_0x5d5df3&&_0x5d5df3[_0x1def33(0xc70)]){const _0x4432fe=_0x5d5df3['answers'][_0x1def33(0x8c0)](_0x27ea41=>_0x27ea41[_0x1def33(0x29a)]===_0x58fc46)??_0x5d5df3['answers'][_0x4ef71a]??null;_0x4432fe&&(_0x4432fe[_0x1def33(0xc26)]?(_0x383b1f++,_0x2df8cc['push'](_0x183622[_0x1def33(0x652)])):_0x21c3f1['push'](_0x183622[_0x1def33(0x652)]));}});const _0x75c6bd=_0x2243b0[_0x2b37fc(0xab1)]>0x0?_0x383b1f/_0x2243b0[_0x2b37fc(0xab1)]*0x64:0x0,_0x10cb50=_0x1980e7[_0x2b37fc(0x955)](_0x2b5b4d=>!_0xa0ff71[_0x2b37fc(0x2e7)](_0x2b5b4d)),_0x36a9bb=_0x5c06b8?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x5c06b8['p'][_0x2b37fc(0xca2)](0x2)+'</p><div>'+_0x591bb2(_0x5c06b8['p'])+_0x2b37fc(0x88e)+_0x5c06b8['r'][_0x2b37fc(0xca2)](0x2)+_0x2b37fc(0xb79)+_0x25bb86(_0x5c06b8['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa719bb(_0x75c6bd)+_0x2b37fc(0x3dc):'';let _0x33e1b7='';_0x4d8c55&&(_0x33e1b7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x2b37fc(0x7bf)](_0x4d8c55)[_0x2b37fc(0xad5)](_0x31a5aa=>{const _0x1182cf=_0x2b37fc,_0x1c92c7=_0x4d8c55[_0x31a5aa],_0x61ce26=parseInt(_0x31a5aa)===_0x4cddbb[_0x1182cf(0x662)],_0x1b402c=!_0x61ce26&&_0x1c92c7[_0x1182cf(0xa53)]>_0x1c92c7['upper_group_count'];return _0x1182cf(0x215)+(_0x61ce26?_0x1182cf(0x568):'')+_0x1182cf(0xa64)+(_0x61ce26?'✔\x20':'')+_0x1c92c7[_0x1182cf(0xcfd)]+_0x1182cf(0x50d)+_0x1c92c7[_0x1182cf(0x5a8)]+_0x1182cf(0x50d)+_0x1c92c7[_0x1182cf(0xa53)]+'\x20'+(_0x1b402c?'👍':'')+_0x1182cf(0x50d)+_0x1c92c7[_0x1182cf(0xcc5)]+'</td></tr>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x2f17a3='';_0x5c06b8&&_0x5c06b8[_0x2b37fc(0x910)]&&(_0x2f17a3=_0x2b37fc(0x81d)+_0x5c06b8[_0x2b37fc(0x910)][_0x2b37fc(0xab1)]+_0x2b37fc(0x9b8)+_0x5c06b8['upperGroupResponders'][_0x2b37fc(0xad5)](_0x5a8e94=>'<li>'+(_0x5a8e94[_0x2b37fc(0xc26)]?_0x2b37fc(0xb84):_0x2b37fc(0x895))+'\x20'+_0x5a8e94['name']+_0x2b37fc(0x9de))[_0x2b37fc(0x222)]('')+_0x2b37fc(0x57d)+_0x5c06b8[_0x2b37fc(0x223)][_0x2b37fc(0xab1)]+_0x2b37fc(0x9b8)+_0x5c06b8['lowerGroupResponders'][_0x2b37fc(0xad5)](_0x4371f6=>_0x2b37fc(0x2aa)+(_0x4371f6[_0x2b37fc(0xc26)]?_0x2b37fc(0xb84):_0x2b37fc(0x895))+'\x20'+_0x4371f6['name']+_0x2b37fc(0x9de))['join']('')+_0x2b37fc(0x2f4)),_0x42b8c2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x4ef71a+0x1)+':\x20'+_0x58fc46+_0x2b37fc(0xc82)+_0x36a9bb+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x58fc46+_0x2b37fc(0x49e)+_0x383b1f+_0x2b37fc(0x81f)+_0x2243b0[_0x2b37fc(0xab1)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x75c6bd['toFixed'](0x0)+_0x2b37fc(0x821)+_0x2df8cc[_0x2b37fc(0xab1)]+_0x2b37fc(0x53e)+(_0x2df8cc[_0x2b37fc(0xab1)]>0x0?_0x2df8cc[_0x2b37fc(0x222)](',\x20'):_0x2b37fc(0xc1d))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x21c3f1['length']+_0x2b37fc(0x53e)+(_0x21c3f1[_0x2b37fc(0xab1)]>0x0?_0x21c3f1[_0x2b37fc(0x222)](',\x20'):_0x2b37fc(0xc1d))+_0x2b37fc(0x262)+_0x10cb50[_0x2b37fc(0xab1)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x10cb50[_0x2b37fc(0xab1)]>0x0?_0x10cb50[_0x2b37fc(0x222)](',\x20'):_0x2b37fc(0xc1d))+_0x2b37fc(0xcea)+_0x33e1b7+_0x2b37fc(0x13c)+_0x2f17a3+_0x2b37fc(0x56b);}),_0x12fe3b[_0xe8b23c(0x5f4)]=_0x4cf16e+_0x42b8c2;try{window[_0xe8b23c(0x563)]&&MathJax[_0xe8b23c(0xd16)]&&MathJax[_0xe8b23c(0xd16)]([_0x12fe3b]);}catch(_0x56e4c6){console[_0xe8b23c(0x17d)](_0xe8b23c(0x791),_0x56e4c6);}}function calculateDistractorAnalysis(_0x19864f,_0x548d5a){const _0x28d9e4=_0x448927,_0xd037b0={};if(_0x548d5a[_0x28d9e4(0xab1)]<0x2)return _0xd037b0;const _0x59a755=[..._0x548d5a]['sort']((_0x42c893,_0x13b8d0)=>{const _0x2b34fb=_0x28d9e4,_0x34fff9=_0x13b8d0[_0x2b34fb(0xc62)]-_0x42c893[_0x2b34fb(0xc62)];if(_0x34fff9!==0x0)return _0x34fff9;const _0x16ec4f=_0x42c893[_0x2b34fb(0x975)]?.['length']||0x1,_0x9679cd=_0x13b8d0['attempts']?.[_0x2b34fb(0xab1)]||0x1,_0x432759=_0x16ec4f-_0x9679cd;if(_0x432759!==0x0)return _0x432759;const _0x993e0b=new Date(_0x42c893[_0x2b34fb(0x308)]),_0x3937e9=new Date(_0x13b8d0[_0x2b34fb(0x308)]),_0x283f23=_0x993e0b-_0x3937e9;if(_0x283f23!==0x0)return _0x283f23;return _0x42c893[_0x2b34fb(0x652)][_0x2b34fb(0x649)](_0x13b8d0[_0x2b34fb(0x652)],'th');}),_0x290739=_0x59a755[_0x28d9e4(0xab1)],_0x435b0e=Math[_0x28d9e4(0x90d)](0x1,Math[_0x28d9e4(0x87b)](_0x290739*0.33)),_0x947848=_0x59a755[_0x28d9e4(0xa30)](0x0,_0x435b0e),_0xe67277=_0x59a755[_0x28d9e4(0xa30)](-_0x435b0e);return _0x19864f[_0x28d9e4(0x677)][_0x28d9e4(0x157)]((_0x52c7fc,_0x52f398)=>{const _0x966b39=_0x28d9e4;if(_0x52c7fc['questionType']!==_0x966b39(0x232)||!_0x52c7fc['options'])return;const _0x30da78=_0x52c7fc[_0x966b39(0xb3b)],_0x38ee9d={};_0x52c7fc[_0x966b39(0x6ca)]['forEach']((_0x2b9727,_0x30c072)=>{_0x38ee9d[_0x30c072]={'text':_0x2b9727,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x59a755['forEach'](_0x206139=>{const _0x44d8c9=_0x966b39,_0xd72402=_0x206139[_0x44d8c9(0x975)][_0x206139[_0x44d8c9(0x975)][_0x44d8c9(0xab1)]-0x1],_0x3a33dc=_0xd72402['answers'][_0x44d8c9(0x8c0)](_0x14e2e3=>_0x14e2e3[_0x44d8c9(0x29a)]===_0x30da78);if(_0x3a33dc&&_0x3a33dc[_0x44d8c9(0x71e)]!==null){const _0x5d9912=_0x52c7fc[_0x44d8c9(0x6ca)][_0x44d8c9(0xa57)](_0x462407=>_0x462407===_0x3a33dc['answerText']);_0x5d9912!==-0x1&&_0x38ee9d[_0x5d9912]&&(_0x38ee9d[_0x5d9912][_0x44d8c9(0xcc5)]++,_0x947848[_0x44d8c9(0x2e7)](_0x206139)&&_0x38ee9d[_0x5d9912][_0x44d8c9(0x5a8)]++,_0xe67277['includes'](_0x206139)&&_0x38ee9d[_0x5d9912][_0x44d8c9(0xa53)]++);}}),_0xd037b0[_0x52f398]=_0x38ee9d;}),_0xd037b0;}function calculateReliabilityKR20(_0x25fe69,_0x49e337,_0x48dbca){const _0x368a65=_0x448927,_0x50845b=_0x25fe69[_0x368a65(0x677)][_0x368a65(0xab1)];if(_0x50845b<0x2||_0x49e337[_0x368a65(0xab1)]<0x2)return null;const _0x58fab0=_0x49e337['map'](_0x303937=>_0x303937[_0x368a65(0xc62)]),_0x4527d6=_0x58fab0['reduce']((_0x382c28,_0x40637b)=>_0x382c28+_0x40637b,0x0)/_0x58fab0[_0x368a65(0xab1)],_0x2869bd=_0x58fab0['map'](_0x4f0ef2=>Math[_0x368a65(0x2c3)](_0x4f0ef2-_0x4527d6,0x2))['reduce']((_0x5658b0,_0x13c282)=>_0x5658b0+_0x13c282,0x0)/_0x58fab0['length'];if(_0x2869bd===0x0)return null;let _0x107927=0x0;for(let _0x19fd67=0x0;_0x19fd67<_0x50845b;_0x19fd67++){const _0x3fc91d=_0x48dbca[_0x19fd67]?.['p'];if(_0x3fc91d===undefined)continue;const _0x327a59=0x1-_0x3fc91d;_0x107927+=_0x3fc91d*_0x327a59;}if(_0x107927===0x0)return null;const _0x297913=_0x50845b/(_0x50845b-0x1)*(0x1-_0x107927/_0x2869bd);if(_0x297913>0x1)return null;return _0x297913;}async function handleAnalyzeClass(){const _0x2c2537=_0x448927;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x2c2537(0x743));return;}const _0x4a3636=collection(db,_0x2c2537(0xa76)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x2c2537(0xd90)),_0x57f6a1=await getDocs(_0x4a3636),_0x4736db=_0x57f6a1['docs'][_0x2c2537(0xad5)](_0x54b33b=>_0x54b33b['data']());if(_0x4736db[_0x2c2537(0xab1)]<0x2){showMessage(_0x2c2537(0x5d3));return;}const _0x316a12=document['getElementById'](_0x2c2537(0x9cc));_0x316a12['innerHTML']=_0x2c2537(0x779),document[_0x2c2537(0xb18)](_0x2c2537(0x62e))[_0x2c2537(0x64b)]=!![];const _0x71b04f=_0x4736db[_0x2c2537(0xad5)]((_0x5bed7c,_0x1857e3)=>{const _0x1d3dee=_0x2c2537,_0x5f4377=_0x5bed7c['attempts'][_0x5bed7c[_0x1d3dee(0x975)][_0x1d3dee(0xab1)]-0x1];if(!_0x5f4377)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x1857e3+0x1)+'\x20('+_0x5bed7c['studentName']+_0x1d3dee(0x6b5)+_0x5f4377[_0x1d3dee(0x87c)]+'/'+_0x5bed7c[_0x1d3dee(0x267)]+_0x1d3dee(0xba1)+JSON[_0x1d3dee(0x7cd)](_0x5f4377[_0x1d3dee(0xc70)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2c2537(0x222)](_0x2c2537(0x304)),_0x19dfd9=_0x2c2537(0xd5c)+currentQuizData[_0x2c2537(0xda1)]+_0x2c2537(0x50c)+JSON[_0x2c2537(0x7cd)](currentQuizData[_0x2c2537(0x677)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x71b04f+_0x2c2537(0x78d),_0x486c6e={'type':_0x2c2537(0x16b),'properties':{'classStrengths':{'type':_0x2c2537(0x5b3),'items':{'type':_0x2c2537(0x60a)}},'classWeaknesses':{'type':_0x2c2537(0x5b3),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x2c2537(0x5b3),'items':{'type':_0x2c2537(0x60a)}}},'required':[_0x2c2537(0x88d),'classWeaknesses',_0x2c2537(0x417)]};try{const _0x3d060d=await callAnalysisApi(_0x19dfd9,_0x486c6e);displayClassAnalysis(_0x3d060d);}catch(_0x267997){console[_0x2c2537(0x17d)](_0x2c2537(0xb4),_0x267997),_0x316a12[_0x2c2537(0x5f4)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x267997[_0x2c2537(0x550)]+_0x2c2537(0x28e);}finally{document[_0x2c2537(0xb18)](_0x2c2537(0x62e))[_0x2c2537(0x64b)]=![];}}function displayClassAnalysis(_0x137dff){const _0x198e88=_0x448927,_0x5ecf98=document[_0x198e88(0xb18)](_0x198e88(0x9cc));if(!_0x137dff){_0x5ecf98['innerHTML']=_0x198e88(0xb30);return;}_0x5ecf98[_0x198e88(0x5f4)]=_0x198e88(0x1a6)+_0x137dff[_0x198e88(0x88d)][_0x198e88(0xad5)](_0x464350=>_0x198e88(0x2aa)+_0x464350+_0x198e88(0x9de))[_0x198e88(0x222)]('')+_0x198e88(0x76f)+_0x137dff[_0x198e88(0xd7b)][_0x198e88(0xad5)](_0x16ac3f=>_0x198e88(0x2aa)+_0x16ac3f+'</li>')[_0x198e88(0x222)]('')+_0x198e88(0x84e)+_0x137dff[_0x198e88(0x417)][_0x198e88(0xad5)](_0x5a0e71=>_0x198e88(0x2aa)+_0x5a0e71+_0x198e88(0x9de))[_0x198e88(0x222)]('')+_0x198e88(0xbe6);}function formatAndPrintWorksheet(_0x5dd94d,_0x29622d){const _0x1ee2bb=_0x448927,_0xbc885f=_0x1ee2bb(0x23c)+_0x5dd94d[_0x1ee2bb(0xda1)]+_0x1ee2bb(0x8bb)+_0x5dd94d['topic']+_0x1ee2bb(0xbfb)+_0x5dd94d[_0x1ee2bb(0x677)][_0x1ee2bb(0xad5)]((_0x544f49,_0x58f67a)=>_0x1ee2bb(0x5be)+(_0x58f67a+0x1)+'.\x20'+_0x544f49[_0x1ee2bb(0xb3b)]+_0x1ee2bb(0x752)+(_0x544f49[_0x1ee2bb(0x6a5)]?_0x1ee2bb(0xbd5)+_0x544f49[_0x1ee2bb(0x6a5)]+'</div>':'')+_0x1ee2bb(0x78e))[_0x1ee2bb(0x222)]('')+_0x1ee2bb(0x9bd);_0x29622d[_0x1ee2bb(0x48a)][_0x1ee2bb(0x586)](_0xbc885f),_0x29622d[_0x1ee2bb(0x48a)][_0x1ee2bb(0x378)](),_0x29622d[_0x1ee2bb(0xab4)]=function(){setTimeout(()=>{const _0xf0d578=_0x2e12;_0x29622d[_0xf0d578(0x553)]();},0x3e8);};}async function generateWorksheet(){const _0x2b0882=_0x448927,_0x403a9d=document['getElementById'](_0x2b0882(0xa13))[_0x2b0882(0x52d)][_0x2b0882(0xb5b)]();if(!_0x403a9d){showMessage(_0x2b0882(0x58d));return;}const _0x4553ff=document[_0x2b0882(0xb18)](_0x2b0882(0x805))[_0x2b0882(0x2f1)],_0x176953=_0x4553ff?'':'คณิตศาสตร์',_0x5edfee=window['open']('',_0x2b0882(0x579));_0x5edfee[_0x2b0882(0x48a)]['write'](_0x2b0882(0x5e6));const _0x4f4c82=parseInt(document[_0x2b0882(0xb18)](_0x2b0882(0x98e))[_0x2b0882(0x52d)]),_0x2fd08a=document[_0x2b0882(0xb18)](_0x2b0882(0x3b4))[_0x2b0882(0x2f1)],_0x2d9b50=_0x2fd08a?_0x2b0882(0x463):'',_0x52069d=_0x2b0882(0x4ec)+_0x176953+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x4f4c82+_0x2b0882(0x912)+_0x403a9d+_0x2b0882(0x566)+_0x2d9b50+_0x2b0882(0x301)+simpleMathPrompt+_0x2b0882(0x2a4),_0x32403e={'type':'OBJECT','properties':{'topic':{'type':_0x2b0882(0x60a)},'questions':{'type':_0x2b0882(0x5b3),'items':{'type':_0x2b0882(0x16b),'properties':{'questionText':{'type':_0x2b0882(0x60a)},'imageCode':{'type':'STRING'}},'required':[_0x2b0882(0xb3b)]}}},'required':[_0x2b0882(0xda1),_0x2b0882(0x677)]};document['getElementById'](_0x2b0882(0xa78))['textContent']='',document[_0x2b0882(0xb18)](_0x2b0882(0x3f3))[_0x2b0882(0x82f)][_0x2b0882(0xa1f)](_0x2b0882(0x5a9)),document[_0x2b0882(0xb18)](_0x2b0882(0x2a0))[_0x2b0882(0x82f)][_0x2b0882(0xa1f)](_0x2b0882(0x5a9)),generateWorksheetBtn[_0x2b0882(0x64b)]=!![];try{const _0x156642=await callAnalysisApi(_0x52069d,_0x32403e);formatAndPrintWorksheet(_0x156642,_0x5edfee);}catch(_0x2d77d1){console[_0x2b0882(0x17d)](_0x2b0882(0xac3),_0x2d77d1);if(_0x5edfee)_0x5edfee['close']();showMessage(_0x2b0882(0x5f5));}finally{document[_0x2b0882(0xb18)](_0x2b0882(0x3f3))[_0x2b0882(0x82f)]['add'](_0x2b0882(0x5a9)),document[_0x2b0882(0xb18)](_0x2b0882(0x2a0))[_0x2b0882(0x82f)][_0x2b0882(0x24b)](_0x2b0882(0x5a9)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x4811b7,_0x428343){const _0x27cec9=_0x448927,_0x3aea0a={'contents':[{'role':_0x27cec9(0xbb0),'parts':[{'text':_0x4811b7}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x428343}},_0x2260e2=_0x27cec9(0xad2),_0x4d59f6='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x2260e2,_0x59dbf6=await fetch(_0x4d59f6,{'method':_0x27cec9(0x6cd),'headers':{'Content-Type':_0x27cec9(0x92d)},'body':JSON['stringify'](_0x3aea0a)});if(!_0x59dbf6['ok'])throw new Error(_0x27cec9(0x59c)+_0x59dbf6[_0x27cec9(0x33a)]);const _0x266915=await _0x59dbf6['json']();if(_0x266915['candidates']?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x27cec9(0x510)](_0x266915[_0x27cec9(0x40c)][0x0]['content'][_0x27cec9(0x7fe)][0x0][_0x27cec9(0xcfd)]);else{let _0x56a22d=_0x27cec9(0x443);if(_0x266915[_0x27cec9(0x80b)]?.[_0x27cec9(0x2e2)])_0x56a22d='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x266915[_0x27cec9(0x80b)][_0x27cec9(0x2e2)]+'.';else _0x266915['candidates']?.[0x0]?.[_0x27cec9(0x382)]&&_0x266915[_0x27cec9(0x40c)][0x0][_0x27cec9(0x382)]!==_0x27cec9(0x2a3)&&(_0x56a22d=_0x27cec9(0xaf8)+_0x266915['candidates'][0x0][_0x27cec9(0x382)]+'.');console[_0x27cec9(0x17d)](_0x56a22d,JSON[_0x27cec9(0x7cd)](_0x266915));throw new Error(_0x56a22d);}}async function handleStartSyncMode(_0x483258,_0x15f4f5=![],_0x5cd3fb=_0x448927(0x529)){const _0x406acf=_0x448927,_0x451e57=allQuizzes[_0x406acf(0x8c0)](_0x469ac5=>_0x469ac5['id']===_0x483258)||allQuizzesGlobal['find'](_0x190a4c=>_0x190a4c['id']===_0x483258);if(!_0x451e57){showMessage(_0x406acf(0xc44));return;}currentQuizData=getShuffledQuiz(_0x451e57);const _0x1dc398=Math[_0x406acf(0x87b)](0x3e8+Math[_0x406acf(0x63c)]()*0x2328)[_0x406acf(0x377)](),_0x423760=doc(db,'artifacts/'+appId+_0x406acf(0x945),_0x451e57['projectId']),_0x568b1d=await getDoc(_0x423760);if(!_0x568b1d[_0x406acf(0x14d)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x40cb5e=_0x568b1d[_0x406acf(0xa8e)]()[_0x406acf(0x115)]||[],_0x101840={};if(_0x5cd3fb===_0x406acf(0x94b)||_0x5cd3fb===_0x406acf(0x6ec)){const _0xd77144=[...ANONYMOUS_NAMES][_0x406acf(0x872)](()=>0.5-Math[_0x406acf(0x63c)]());_0x40cb5e[_0x406acf(0x157)]((_0x432244,_0xb82da0)=>{_0x101840[_0x432244]=_0xd77144[_0xb82da0]||'ผู้เล่น\x20'+(_0xb82da0+0x1);});}const _0x649ec2=document[_0x406acf(0xb18)](_0x406acf(0xa09))[_0x406acf(0x2f1)],_0x3ae1df=parseInt(document[_0x406acf(0xb18)](_0x406acf(0xc6d))['value'],0xa);let _0x58f3fe={'timerMode':'none','timerDuration':0x0};_0x649ec2&&(_0x58f3fe[_0x406acf(0x4df)]=_0x406acf(0x8e4),_0x58f3fe[_0x406acf(0xc89)]=_0x3ae1df||0xf0);const _0x107c34=document['getElementById']('anon-show-answer-toggle')[_0x406acf(0x2f1)],_0x4ba78f=document[_0x406acf(0xb18)]('enable-black-market-checkbox')[_0x406acf(0x2f1)];try{const _0x41d428=await addDoc(collection(db,_0x406acf(0xa76)+appId+_0x406acf(0xc0a)),{'quizId':_0x451e57['id'],'pin':_0x1dc398,'status':_0x406acf(0xc1),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x15f4f5,'players':{},'gameVariant':_0x5cd3fb,'reviewQuestionIndex':0x0,'playerNicknames':_0x101840,'isAnonymousRevealed':![],..._0x58f3fe,'showAnswerInAnonymous':_0x107c34,'isBlackMarketEnabled':_0x4ba78f});currentLiveGameId=_0x41d428['id'],showView(_0x406acf(0x7aa)),renderSyncLobbyView(_0x1dc398,_0x451e57[_0x406acf(0xda1)]),listenForSyncGameUpdates();const _0x52982c={'gameId':currentLiveGameId,'mode':'sync','role':_0x406acf(0xa1d)};sessionStorage['setItem'](_0x406acf(0xa3e),JSON[_0x406acf(0x7cd)](_0x52982c));}catch(_0x1a5563){console[_0x406acf(0x17d)](_0x406acf(0xdb3),_0x1a5563),showMessage(_0x406acf(0x9b7));}}function calculateFinalPodiumScores(_0x19d4fb){const _0x4ce06e=_0x448927;if(!_0x19d4fb||!_0x19d4fb['shuffledQuiz']||!_0x19d4fb['players'])return _0x19d4fb[_0x4ce06e(0xdd9)]||{};const _0x39da28=_0x19d4fb[_0x4ce06e(0xe1c)][_0x4ce06e(0x677)][_0x4ce06e(0xab1)],_0x202171=JSON[_0x4ce06e(0x510)](JSON[_0x4ce06e(0x7cd)](_0x19d4fb[_0x4ce06e(0xdd9)]));return Object['values'](_0x202171)[_0x4ce06e(0x157)](_0x4d6459=>{const _0x4c46a4=_0x4ce06e,_0x1fa710=_0x4d6459['score']||0x0,_0x53ddb3=_0x4d6459[_0x4c46a4(0xc38)]||0x0;_0x39da28>0x0&&_0x1fa710===_0x39da28?_0x4d6459[_0x4c46a4(0x69b)]=!![]:_0x4d6459[_0x4c46a4(0x69b)]=![],_0x4d6459[_0x4c46a4(0x745)]=_0x1fa710,_0x4d6459[_0x4c46a4(0xc38)]=_0x53ddb3;}),_0x202171;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x31bb12=_0x448927;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x3ba4fe=doc(db,_0x31bb12(0xa76)+appId+_0x31bb12(0xc0a),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3ba4fe,_0x67489=>{const _0x5b78d7=_0x31bb12;if(!_0x67489[_0x5b78d7(0x14d)]()){sessionStorage['removeItem'](_0x5b78d7(0xa3e)),showMessage(_0x5b78d7(0xd01));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x5b78d7(0x4a1));return;}cachedGameData=_0x67489['data'](),cachedGameData['shuffledQuiz']&&(currentQuizData=cachedGameData[_0x5b78d7(0xe1c)]),syncDataAndRender();});const _0x223f25=collection(db,_0x31bb12(0xa76)+appId+_0x31bb12(0xdc)+currentLiveGameId+_0x31bb12(0x610));if(currentMode==='admin')unsubscribePlayersCollectionListener=onSnapshot(_0x223f25,_0x55f194=>{const _0x5b5bdf=_0x31bb12;_0x55f194['docChanges']()[_0x5b5bdf(0x157)](_0x42295d=>{const _0x55d0bf=_0x5b5bdf;if(_0x42295d[_0x55d0bf(0x4e4)]===_0x55d0bf(0x6ac)||_0x42295d['type']===_0x55d0bf(0x977))cachedPlayerData[_0x42295d[_0x55d0bf(0x755)]['id']]=_0x42295d[_0x55d0bf(0x755)][_0x55d0bf(0xa8e)]();else _0x42295d[_0x55d0bf(0x4e4)]===_0x55d0bf(0x59b)&&delete cachedPlayerData[_0x42295d[_0x55d0bf(0x755)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x31bb12(0xab1)]>0x0){const _0x9ac77=query(_0x223f25,where(_0x31bb12(0x2d2),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x9ac77,_0x772216=>{const _0xaed472=_0x31bb12;_0x772216[_0xaed472(0xe2e)]()['forEach'](_0x3dea73=>{const _0x3fe6af=_0xaed472;(_0x3dea73['type']==='added'||_0x3dea73[_0x3fe6af(0x4e4)]===_0x3fe6af(0x977))&&(cachedPlayerData[_0x3dea73[_0x3fe6af(0x755)]['id']]=_0x3dea73[_0x3fe6af(0x755)]['data']());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x3413e0=_0x448927;if(!cachedGameData)return;const _0x3f4065={},_0x36f3b6=cachedGameData[_0x3413e0(0xd34)];Object[_0x3413e0(0x7bf)](cachedPlayerData)[_0x3413e0(0x157)](_0x33e4b0=>{const _0xba289e=_0x3413e0,_0x3ac94d=cachedPlayerData[_0x33e4b0],_0x974c34=_0x3ac94d[_0xba289e(0xc70)]&&_0x3ac94d[_0xba289e(0xc70)][_0xba289e(0xd3)](_0x3254ce=>_0x3254ce[_0xba289e(0x74b)]===_0x36f3b6);_0x3f4065[_0x33e4b0]={..._0x3ac94d,'answered':_0x974c34};});const _0x421c78={...cachedGameData,'players':_0x3f4065};currentMode===_0x3413e0(0xa1d)?updateAdminSyncView(_0x421c78):updateStudentSyncView(_0x421c78);}function renderSyncLobbyView(_0x564803,_0x19e1aa){const _0x471773=_0x448927;liveGameView[_0x471773(0x5f4)]=_0x471773(0x6e6)+_0x19e1aa+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x564803+_0x471773(0x813);const _0x35130e=document['getElementById']('confidence-scoring-toggle'),_0x3ba43a=document[_0x471773(0xb18)](_0x471773(0xaf6));_0x35130e[_0x471773(0xcc)]('change',()=>{const _0x3ab8e6=_0x471773;_0x3ba43a['style'][_0x3ab8e6(0x738)]=_0x35130e['checked']?'block':_0x3ab8e6(0x43f);}),document['getElementById'](_0x471773(0x888))[_0x471773(0xcc)]('click',async()=>{const _0x2d429c=_0x471773,_0x3f15ed=doc(db,'artifacts/'+appId+_0x2d429c(0xc0a),currentLiveGameId),_0x49d69b=document[_0x2d429c(0xb18)](_0x2d429c(0xcd7))[_0x2d429c(0x2f1)];await updateDoc(_0x3f15ed,{'status':_0x2d429c(0x339),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x49d69b});});}function updateAdminSyncView(_0x29dc04){const _0x40195f=_0x448927;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x29dc04[_0x40195f(0x33a)]){case'lobby':renderSyncLobbyView(_0x29dc04['pin'],_0x29dc04[_0x40195f(0xe1c)]['topic']);const _0x22fc8d=Object[_0x40195f(0x9c3)](_0x29dc04[_0x40195f(0xdd9)]||{})['filter'](([_0x21940d,_0x5bb249])=>_0x5bb249[_0x40195f(0x33a)]!=='inactive');document[_0x40195f(0xb18)](_0x40195f(0xcdb))[_0x40195f(0x633)]=_0x22fc8d['length'],document[_0x40195f(0xb18)](_0x40195f(0xbba))[_0x40195f(0x5f4)]=_0x22fc8d[_0x40195f(0xad5)](([_0x421ec3,_0xea7348])=>_0x40195f(0x4ed)+_0x421ec3+_0x40195f(0xafd)+_0x421ec3+_0x40195f(0xc61))[_0x40195f(0x222)]('')||_0x40195f(0x6fe),document[_0x40195f(0xb18)](_0x40195f(0x888))[_0x40195f(0x64b)]=_0x22fc8d[_0x40195f(0xab1)]===0x0;break;case _0x40195f(0x339):const _0x44cd96=Object[_0x40195f(0x56e)](_0x29dc04[_0x40195f(0xdd9)]||{})['filter'](_0x2fb2f0=>_0x2fb2f0[_0x40195f(0x33a)]!==_0x40195f(0xd89)),_0x4222df=_0x44cd96[_0x40195f(0x955)](_0x1d384d=>_0x1d384d[_0x40195f(0x5c4)])[_0x40195f(0xab1)],_0x135f2a=_0x4222df===_0x44cd96[_0x40195f(0xab1)]&&_0x44cd96[_0x40195f(0xab1)]>0x0;if(_0x135f2a&&_0x29dc04[_0x40195f(0x33a)]===_0x40195f(0x339)){const _0x196521=doc(db,_0x40195f(0xa76)+appId+_0x40195f(0xc0a),currentLiveGameId);updateDoc(_0x196521,{'status':_0x40195f(0x8dc)});return;}if(document[_0x40195f(0xb18)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x29dc04);else{const _0x252671=document[_0x40195f(0xb18)]('answer-counter');_0x252671&&(_0x252671[_0x40195f(0x633)]=_0x4222df+'/'+_0x44cd96[_0x40195f(0xab1)]);const _0x45fd2b=document[_0x40195f(0xb18)](_0x40195f(0xbaa));_0x45fd2b&&(_0x45fd2b[_0x40195f(0x5f4)]=_0x44cd96[_0x40195f(0xad5)](_0x1e7dde=>{const _0x51c48f=_0x40195f,_0x7a4b1a=_0x1e7dde[_0x51c48f(0x5c4)]?_0x51c48f(0xbae):'bg-gray-500',_0x382bc8=_0x1e7dde[_0x51c48f(0x5c4)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x51c48f(0x7b6);return _0x51c48f(0x46e)+_0x7a4b1a+'\x22>'+_0x382bc8+_0x51c48f(0x53d)+_0x1e7dde[_0x51c48f(0x2d2)]+_0x51c48f(0x2db)+_0x1e7dde['name']+_0x51c48f(0x475);})[_0x40195f(0x222)](''));}const _0x34ea34=_0x29dc04[_0x40195f(0x4df)]===_0x40195f(0x8e4)&&_0x29dc04['questionDisplayedAt'];if(_0x34ea34){const _0x21c72c=_0x29dc04[_0x40195f(0x31f)][_0x40195f(0x9d0)]()[_0x40195f(0x995)](),_0x40eeba=_0x29dc04[_0x40195f(0xc89)]*0x3e8,_0x4cbe7c=_0x21c72c+_0x40eeba,_0x9db8c8=document[_0x40195f(0xb18)]('sync-timer-bar'),_0x36dca7=document[_0x40195f(0xb18)](_0x40195f(0x8c1));syncQuestionTimerInterval=setInterval(()=>{const _0x11911e=_0x40195f,_0x28bf64=Date[_0x11911e(0xd02)](),_0xc7626f=_0x44cd96[_0x11911e(0xab1)]>0x0&&_0x44cd96[_0x11911e(0x55a)](_0x56d2ed=>{const _0x26784a=_0x11911e;if(_0x56d2ed[_0x26784a(0x5c4)])return!![];const _0x557441=_0x56d2ed[_0x26784a(0x8b4)]||0x0;return _0x28bf64>=_0x21c72c+_0x40eeba+_0x557441;});if(_0xc7626f){clearInterval(syncQuestionTimerInterval);const _0x1caf51=doc(db,_0x11911e(0xa76)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x1caf51,{'status':_0x11911e(0x8dc)});return;}const _0x5ceb58=_0x4cbe7c-_0x28bf64;if(_0x5ceb58<=0x0){if(_0x9db8c8)_0x9db8c8['style']['width']='0%';if(_0x36dca7)_0x36dca7[_0x11911e(0x633)]=_0x11911e(0x46d);}else{if(_0x9db8c8&&_0x36dca7){const _0x410f95=_0x5ceb58/_0x40eeba*0x64;_0x9db8c8[_0x11911e(0xbaf)][_0x11911e(0x5ff)]=_0x410f95+'%',_0x36dca7['textContent']=Math[_0x11911e(0xd04)](_0x5ceb58/0x3e8);}}},0x1f4);}break;case'summary':const _0x66a62=_0x29dc04['currentQuestionIndex'],_0x27d046=_0x29dc04[_0x40195f(0xe1c)][_0x40195f(0x677)][_0x66a62];renderSyncSummaryView(_0x29dc04,_0x27d046,!![]);break;case'results':const _0x3d0459=_0x29dc04[_0x40195f(0x64f)]||_0x40195f(0x529);_0x3d0459===_0x40195f(0x207)||_0x3d0459===_0x40195f(0x6ec)?renderAdminSyncDashboard(_0x29dc04,!![],_0x29dc04['reviewQuestionIndex']):(_0x29dc04[_0x40195f(0x33a)]==='results'&&!_0x29dc04['scoresCalculated']&&((async()=>{const _0x4937df=_0x40195f;try{const _0x47f047=doc(db,_0x4937df(0xa76)+appId+_0x4937df(0xc0a),currentLiveGameId);await updateDoc(_0x47f047,{'scoresCalculated':!![]});const _0x2f7009=cachedPlayerData||{},_0x2f55f4=_0x29dc04[_0x4937df(0xe1c)][_0x4937df(0x677)][_0x4937df(0xab1)],_0x3a874d={};Object['values'](_0x2f7009)[_0x4937df(0x157)](_0xe16867=>{const _0x37a118=_0x4937df;if(_0xe16867['status']!==_0x37a118(0xd89)){const _0x3ff799=_0xe16867['name'],_0x32882e=_0xe16867[_0x37a118(0x87c)]||0x0,_0x3255a9=_0xe16867[_0x37a118(0xc38)]||0x0;let _0x5c62e9=_0x3255a9;_0x2f55f4>0x0&&_0x32882e===_0x2f55f4&&(_0x5c62e9+=0x1),_0x3a874d[_0x37a118(0xd76)+_0x3ff799+_0x37a118(0x994)]=_0x32882e,_0x3a874d['players.'+_0x3ff799+'.totalPoints']=_0x5c62e9,_0x3a874d['players.'+_0x3ff799+'.pointsLastRound']=_0x5c62e9;}}),await updateDoc(_0x47f047,{..._0x3a874d});}catch(_0x409b70){console[_0x4937df(0x17d)](_0x4937df(0x9b5),_0x409b70);}})()),renderAdminSyncDashboard(_0x29dc04,!![],_0x29dc04['currentQuestionIndex']));break;case _0x40195f(0x2d1):const _0x3d23de=Object['keys'](_0x29dc04[_0x40195f(0xdd9)]||{})[_0x40195f(0xab1)]>0x0,_0x2e5281=_0x29dc04[_0x40195f(0xd20)]===!![],_0x506791=_0x29dc04[_0x40195f(0xc5d)]===!![];_0x506791&&!_0x2e5281&&_0x3d23de&&saveGameResultsAsSubmissions(_0x29dc04);sessionStorage['removeItem']('activeGameSession');const _0x548368=calculateFinalPodiumScores(_0x29dc04);showPodiumView(_0x548368,_0x40195f(0x17a),_0x29dc04);break;}}function renderAdminSyncQuestionView(_0x277b4b){const _0x307420=_0x448927,_0x57ca5b=_0x277b4b[_0x307420(0xd34)],_0xb26cd6=_0x277b4b[_0x307420(0xe1c)][_0x307420(0x677)][_0x57ca5b],_0x2dd7e9=_0x277b4b['shuffledQuiz'][_0x307420(0x677)]['length'],_0x195424=Object[_0x307420(0x56e)](_0x277b4b[_0x307420(0xdd9)]||{})[_0x307420(0x955)](_0x34d225=>_0x34d225[_0x307420(0x33a)]!==_0x307420(0xd89)),_0x162e41=_0x195424[_0x307420(0x955)](_0x536ab8=>_0x536ab8[_0x307420(0x5c4)])[_0x307420(0xab1)],_0x46d077=_0x162e41===_0x195424[_0x307420(0xab1)]&&_0x195424[_0x307420(0xab1)]>0x0,_0x4f06cb=_0xb26cd6[_0x307420(0x3e6)]||_0x277b4b[_0x307420(0xe1c)][_0x307420(0xafc)],_0x57cbc8=(_0x4f06cb===_0x307420(0x706)||_0x4f06cb===_0x307420(0x2ad))&&_0xb26cd6[_0x307420(0x6ca)]&&_0xb26cd6[_0x307420(0x6ca)]['length']>0x0;let _0x5e2890='';_0x57cbc8?_0x5e2890=_0x307420(0xb3d):_0x5e2890=(_0xb26cd6['options']||[])['map'](_0x2ddc9e=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x2ddc9e+'</div>')[_0x307420(0x222)]('');let _0x1a4008='';_0x277b4b[_0x307420(0x4df)]==='per_question'&&(_0x1a4008=_0x307420(0xdba)+_0x277b4b['timerDuration']+_0x307420(0xb40));liveGameView[_0x307420(0x5f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x57ca5b+0x1)+'\x20/\x20'+_0x2dd7e9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x277b4b[_0x307420(0x7c1)]+_0x307420(0xa3d)+_0x162e41+'/'+_0x195424[_0x307420(0xab1)]+_0x307420(0xb0d)+_0x1a4008+_0x307420(0x6eb)+(_0xb26cd6[_0x307420(0xb3b)]||_0xb26cd6[_0x307420(0xc35)])+_0x307420(0x86f)+_0x5e2890+_0x307420(0x8d9)+(!_0x46d077?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x307420(0x563)])MathJax[_0x307420(0xd16)]();const _0x1903a3=doc(db,'artifacts/'+appId+_0x307420(0xc0a),currentLiveGameId);document[_0x307420(0xb18)]('show-results-btn')['addEventListener'](_0x307420(0x8b2),async()=>{const _0x2c7ac9=_0x307420;await updateDoc(_0x1903a3,{'status':_0x2c7ac9(0x8dc)});}),document['getElementById']('open-sync-scratchpad-btn')[_0x307420(0xb4f)]=()=>{const _0x36c351=_0x307420;openScratchpad(_0xb26cd6,_0xb26cd6[_0x36c351(0x6ca)]||[]);},document['getElementById'](_0x307420(0xf7))[_0x307420(0xcc)](_0x307420(0x8b2),()=>{const _0x2d6f47=_0x307420;document[_0x2d6f47(0xb18)]('sync-player-management')[_0x2d6f47(0x82f)]['toggle']('hidden');});const _0x3a075a=document[_0x307420(0xb18)]('end-sync-game-btn');_0x3a075a&&(_0x3a075a[_0x307420(0xb4f)]=()=>{const _0x5b9ade=_0x307420;showConfirmation(_0x5b9ade(0x4c9),async()=>{const _0x592c86=_0x5b9ade;await updateDoc(_0x1903a3,{'status':_0x592c86(0x2d1)});});});}function renderSyncLeaderboardView(_0x10d5ed,_0x4cbf37){const _0x5d04ec=_0x448927,_0x4e844b=Object['values'](_0x10d5ed[_0x5d04ec(0xdd9)]||{});_0x4e844b[_0x5d04ec(0x872)]((_0x163eb1,_0x313391)=>_0x313391[_0x5d04ec(0x87c)]-_0x163eb1['score']);const _0x28128b=_0x4e844b['slice'](0x0,0x5);let _0xa7915e='';if(_0x4cbf37){const _0xca1d20=_0x10d5ed['currentQuestionIndex']>=_0x10d5ed['shuffledQuiz'][_0x5d04ec(0x677)][_0x5d04ec(0xab1)]-0x1;_0xa7915e=_0x5d04ec(0x58b)+(_0xca1d20?_0x5d04ec(0x6d4):_0x5d04ec(0x21e))+_0x5d04ec(0x8e2);}else _0xa7915e=_0x5d04ec(0xb2a);liveGameView[_0x5d04ec(0x5f4)]=_0x5d04ec(0x247)+_0x28128b[_0x5d04ec(0xad5)]((_0x37ae5b,_0x4d584d)=>_0x5d04ec(0x6fb)+(_0x4d584d+0x1)+'.\x20'+_0x37ae5b[_0x5d04ec(0x2d2)]+_0x5d04ec(0x2af)+_0x37ae5b[_0x5d04ec(0x87c)]+'</span></div>')[_0x5d04ec(0x222)]('')+_0x5d04ec(0x4ce)+_0xa7915e+_0x5d04ec(0x1b5),_0x4cbf37&&document['getElementById'](_0x5d04ec(0x679))[_0x5d04ec(0xcc)]('click',async()=>{const _0x64b11f=_0x5d04ec,_0x205205=doc(db,_0x64b11f(0xa76)+appId+_0x64b11f(0xc0a),currentLiveGameId),_0x1c4962=_0x10d5ed[_0x64b11f(0xd34)]+0x1;if(_0x1c4962<_0x10d5ed[_0x64b11f(0xe1c)]['questions']['length']){const _0x2c8609={};Object[_0x64b11f(0x7bf)](_0x10d5ed[_0x64b11f(0xdd9)])[_0x64b11f(0x157)](_0x1ba518=>{const _0x1a955e=_0x64b11f;_0x2c8609[_0x1a955e(0xd76)+_0x1ba518+_0x1a955e(0xc0d)]=![];}),await updateDoc(_0x205205,{'status':_0x64b11f(0x339),'currentQuestionIndex':_0x1c4962,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x205205,{'status':_0x64b11f(0x2d1)});});}async function handleJoinSyncGame(){const _0x5d37a9=_0x448927,_0x39e35b=prompt(_0x5d37a9(0x84a));if(!_0x39e35b||_0x39e35b['trim']()[_0x5d37a9(0xab1)]!==0x2){showMessage(_0x5d37a9(0x8a8));return;}try{const _0x12472c=collection(db,_0x5d37a9(0xa76)+appId+_0x5d37a9(0xc0a)),_0x2d5ef8=query(_0x12472c,where(_0x5d37a9(0x7c1),'==',_0x39e35b[_0x5d37a9(0xb5b)]()),where(_0x5d37a9(0x33a),'==','lobby')),_0x3b2c9e=await getDocs(_0x2d5ef8);if(_0x3b2c9e['empty']){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x514cb1=_0x3b2c9e[_0x5d37a9(0x18c)][0x0];currentLiveGameId=_0x514cb1['id'];const _0x38a6bf=_0x514cb1[_0x5d37a9(0xa8e)](),_0xb97896=doc(db,_0x5d37a9(0xa76)+appId+_0x5d37a9(0xc34),_0x38a6bf[_0x5d37a9(0x802)]),_0x4a0a83=await getDoc(_0xb97896);if(!_0x4a0a83['exists']())throw new Error(_0x5d37a9(0x1cf));const _0x2ceb66=_0x4a0a83[_0x5d37a9(0xa8e)](),_0x555441=doc(db,_0x5d37a9(0xa76)+appId+'/public/data/projects',_0x2ceb66[_0x5d37a9(0x111)]),_0x309561=await getDoc(_0x555441);if(!_0x309561[_0x5d37a9(0x14d)]())throw new Error(_0x5d37a9(0x1f7));currentQuizData=_0x38a6bf['shuffledQuiz'];const _0x28707b=_0x309561[_0x5d37a9(0xa8e)]();showView('student-team-join'),showTeamPlayerSelection(_0x28707b['students'],_0x2ceb66[_0x5d37a9(0xda1)]);const _0x447f31=document['getElementById']('confirm-team-players-btn');_0x447f31['onclick']=confirmAndJoinSyncGame;}catch(_0x4e845d){console[_0x5d37a9(0x17d)](_0x5d37a9(0x50a),_0x4e845d),showMessage(_0x5d37a9(0x39b)+_0x4e845d['message']);}}function updateStudentSyncView(_0x38fc03){const _0x3985a6=_0x448927,_0x5242bc=localTeamPlayers[0x0],_0x39b377=_0x38fc03['players'][_0x5242bc]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x38fc03['status']){case _0x3985a6(0xc1):showView('live-game'),liveGameView[_0x3985a6(0x5f4)]=_0x3985a6(0xe01);break;case _0x3985a6(0x339):if(_0x38fc03[_0x3985a6(0xd34)]!==lastSeenQuestionIndex){console['log'](_0x3985a6(0xdc3)),sessionStorage[_0x3985a6(0x9db)]('powerupUsedThisTurn'),sessionStorage['removeItem']('onSecondChance'),sessionStorage[_0x3985a6(0x9db)](_0x3985a6(0x2a2));const _0x3c68f1=_0x3985a6(0x3d5)+lastSeenQuestionIndex,_0x554b33='powerupUsed_q'+lastSeenQuestionIndex,_0x54d275=_0x3985a6(0xda6)+lastSeenQuestionIndex;Object['keys'](sessionStorage)[_0x3985a6(0x157)](_0x5d8a2d=>{const _0x254023=_0x3985a6;(_0x5d8a2d[_0x254023(0x621)](_0x3c68f1)||_0x5d8a2d[_0x254023(0x621)](_0x554b33)||_0x5d8a2d[_0x254023(0x621)](_0x54d275))&&sessionStorage[_0x254023(0x9db)](_0x5d8a2d);});if(_0x39b377[_0x3985a6(0x3a1)]||_0x39b377[_0x3985a6(0x85f)]||(_0x39b377['timeBonusThisQuestion']||0x0)>0x0){const _0x4dd083=doc(db,_0x3985a6(0xa76)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x5242bc);updateDoc(_0x4dd083,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x3985a6(0xa98)](_0x10ad2a=>console[_0x3985a6(0x17d)](_0x3985a6(0x69d),_0x10ad2a));}lastSeenQuestionIndex=_0x38fc03[_0x3985a6(0xd34)];}localPlayerTurnIndex=0x0;const _0x3367be=localTeamPlayers[_0x3985a6(0x55a)](_0x48f4d4=>_0x38fc03[_0x3985a6(0xdd9)][_0x48f4d4]?.[_0x3985a6(0x5c4)]===!![]);if(_0x3367be)liveGameView[_0x3985a6(0x5f4)]=_0x3985a6(0xd18);else{renderStudentSyncQuestionView(_0x38fc03);if(_0x38fc03['timerMode']===_0x3985a6(0x8e4)){if(!_0x38fc03[_0x3985a6(0x31f)]){console[_0x3985a6(0xcad)](_0x3985a6(0x76a));return;}const _0x4c7c2b=_0x38fc03[_0x3985a6(0x31f)][_0x3985a6(0x9d0)]()[_0x3985a6(0x995)](),_0x3f2e2a=_0x38fc03['timerDuration']*0x3e8,_0x282bf4=localTeamPlayers[_0x3985a6(0xad5)](_0x4fa4e4=>_0x38fc03[_0x3985a6(0xdd9)][_0x4fa4e4]?.[_0x3985a6(0x8b4)]||0x0),_0xe6b268=Math['max'](..._0x282bf4,0x0),_0x47318b=_0x4c7c2b+_0x3f2e2a+_0xe6b268;syncQuestionTimerInterval=setInterval(()=>{const _0x41ad5a=_0x3985a6,_0x269099=_0x47318b-Date[_0x41ad5a(0xd02)](),_0xdcabc9=document['getElementById']('sync-timer-bar'),_0x5452b3=document[_0x41ad5a(0xb18)](_0x41ad5a(0x8c1));if(_0x269099<=0x0){clearInterval(syncQuestionTimerInterval);if(_0xdcabc9)_0xdcabc9[_0x41ad5a(0xbaf)][_0x41ad5a(0x5ff)]='0%';if(_0x5452b3)_0x5452b3[_0x41ad5a(0x633)]='0';liveGameView[_0x41ad5a(0x5f4)]=_0x41ad5a(0x7de);}else{if(_0xdcabc9&&_0x5452b3){const _0x2ec5bc=_0x3f2e2a+_0xe6b268,_0x1ecf45=_0x2ec5bc>0x0?_0x269099/_0x2ec5bc*0x64:0x0;_0xdcabc9[_0x41ad5a(0xbaf)]['width']=_0x1ecf45+'%',_0x5452b3['textContent']=Math['ceil'](_0x269099/0x3e8);}}},0x1f4);}}break;case _0x3985a6(0x8dc):liveGameView['innerHTML']=_0x3985a6(0x622);break;case'results':localPlayerTurnIndex=0x0;const _0x187704=_0x38fc03[_0x3985a6(0x64f)]||_0x3985a6(0x529);if(_0x187704===_0x3985a6(0x94b)||_0x187704==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x38fc03,_0x38fc03[_0x3985a6(0xd34)]);else _0x187704===_0x3985a6(0x1b7)?renderStudentCompetitionResultsView(_0x38fc03,_0x38fc03[_0x3985a6(0xd34)]):renderStudentSyncResultsView(_0x38fc03);break;case _0x3985a6(0x2d1):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3985a6(0xcec)](_0x3985a6(0x981),handleFullscreenChange),document[_0x3985a6(0xcec)](_0x3985a6(0xb94),handleVisibilityChange),sessionStorage[_0x3985a6(0x9db)](_0x3985a6(0xa3e));const _0x3419a9=_0x38fc03[_0x3985a6(0x64f)]||'classic',_0x3fbe8a=_0x38fc03[_0x3985a6(0xe1c)]['questions'][_0x3985a6(0xab1)]-0x1;if(_0x3419a9===_0x3985a6(0x94b)||_0x3419a9===_0x3985a6(0x6ec))renderStudentAnonymousResultsView(_0x38fc03,_0x3fbe8a);else _0x3419a9===_0x3985a6(0x1b7)?renderStudentCompetitionResultsView(_0x38fc03,_0x3fbe8a):renderStudentSyncResultsView(_0x38fc03);const _0x4a391c=liveGameView[_0x3985a6(0x877)]('.animate-pulse');_0x4a391c&&(_0x4a391c[_0x3985a6(0xbaf)][_0x3985a6(0x738)]=_0x3985a6(0x43f));const _0x57f1af=liveGameView[_0x3985a6(0x877)](_0x3985a6(0x74e));_0x57f1af&&(_0x57f1af[_0x3985a6(0xbaf)][_0x3985a6(0x738)]=_0x3985a6(0x43f));const _0x119b0b=_0x3985a6(0x345);liveGameView[_0x3985a6(0x30c)]?liveGameView[_0x3985a6(0x30c)]['insertAdjacentHTML']('beforeend',_0x119b0b):liveGameView[_0x3985a6(0x4c3)](_0x3985a6(0x8a6),_0x119b0b);break;}}function renderStudentSyncResultsView(_0x2d8a5d){const _0x438762=_0x448927;let _0x234308=[];_0x2d8a5d['publicLeaderboard']&&Array['isArray'](_0x2d8a5d['publicLeaderboard'])&&_0x2d8a5d[_0x438762(0x287)][_0x438762(0xab1)]>0x0?_0x234308=_0x2d8a5d[_0x438762(0x287)]:_0x234308=Object[_0x438762(0x56e)](_0x2d8a5d['players']||{});const _0x667beb=_0x2d8a5d[_0x438762(0x64f)]||_0x438762(0x529),_0x362b6f=_0x667beb===_0x438762(0x207)||_0x667beb==='anonymous_reveal_end',_0x1613d0=_0x2d8a5d[_0x438762(0xe1c)][_0x438762(0x677)],_0x5a9968=_0x362b6f&&_0x2d8a5d[_0x438762(0x9f9)]!==undefined?_0x2d8a5d[_0x438762(0x9f9)]:_0x2d8a5d['currentQuestionIndex'],_0xc43719=_0x362b6f?_0x2d8a5d[_0x438762(0x9f9)]:_0x2d8a5d[_0x438762(0xd34)],_0x59fe63=_0x234308[_0x438762(0xad5)](_0x5584c4=>{const _0xa80d61=_0x438762,_0x5486be=(_0x5584c4[_0xa80d61(0xc70)]||[])[_0xa80d61(0x955)](_0x42e387=>_0x42e387['questionIndex']<=_0x5a9968);let _0x5ddeae=0x0,_0x1557c3=0x0;_0x362b6f?(_0x5ddeae=_0x5486be[_0xa80d61(0x955)](_0x3a3994=>_0x3a3994[_0xa80d61(0xc26)])[_0xa80d61(0xab1)],_0x1557c3=_0x5486be['reduce']((_0x531868,_0x14525d)=>_0x531868+(_0x14525d[_0xa80d61(0x4b1)]||0x0),0x0)):(_0x5ddeae=_0x5584c4[_0xa80d61(0x87c)]||0x0,_0x1557c3=_0x5584c4['totalPoints']||0x0);const _0x202034=[..._0x5486be]['sort']((_0x43b933,_0x462a23)=>_0x43b933[_0xa80d61(0x74b)]-_0x462a23[_0xa80d61(0x74b)]);let _0x5a98e6=0x0;return _0x202034[_0xa80d61(0x157)](_0x3e37d3=>{const _0x3b049c=_0xa80d61,_0x2263b4=_0x3e37d3['powerupUsed']&&_0x3e37d3[_0x3b049c(0x6ab)]!=='wagerMultiplier'||_0x3e37d3['usedBuyTime'];_0x3e37d3[_0x3b049c(0xc26)]?_0x5a98e6=_0x2263b4?0x0:_0x5a98e6+0x1:_0x5a98e6=0x0;}),{..._0x5584c4,'realScore':_0x5ddeae,'totalPoints':_0x1557c3,'answers':_0x5584c4[_0xa80d61(0xc70)],'correctStreak':_0x5a98e6};}),_0x48ee9d=Math[_0x438762(0x90d)](..._0x59fe63['map'](_0x36a559=>_0x36a559[_0x438762(0xc38)]),-Infinity),_0x2900dd=Math[_0x438762(0x90d)](..._0x59fe63[_0x438762(0xad5)](_0x4abdac=>_0x4abdac[_0x438762(0x745)]),-Infinity),_0x5bcb9f=_0x2d8a5d['isBlackMarketEnabled']===!![];let _0x402682=_0x59fe63[_0x438762(0x955)](_0x46ab1a=>localTeamPlayers[_0x438762(0x2e7)](_0x46ab1a['name']));_0x402682[_0x438762(0x872)]((_0x315a5b,_0x586b14)=>(_0x586b14['totalPoints']||0x0)-(_0x315a5b[_0x438762(0xc38)]||0x0));let _0x102c34='';const _0x595932=_0x362b6f?_0x5a9968>=_0x1613d0[_0x438762(0xab1)]-0x1:_0x2d8a5d[_0x438762(0xd34)]>=_0x1613d0[_0x438762(0xab1)]-0x1;if(_0x2d8a5d[_0x438762(0x33a)]==='podium')_0x102c34='';else _0x595932?_0x102c34=_0x438762(0x594):_0x102c34=_0x438762(0xcf5);const _0x151100=_0x438762(0x775)+_0x402682[_0x438762(0xad5)]((_0x3faeee,_0x5ddedc)=>{const _0x33ad42=_0x438762;let _0x318a12=_0x33ad42(0xc9b);const _0x139203=(_0x3faeee[_0x33ad42(0xc70)]||[])['find'](_0x15ae86=>_0x15ae86['questionIndex']===_0xc43719);let _0x49d535='';if(_0x139203){if(_0x139203[_0x33ad42(0x740)])_0x49d535+='<span\x20title=\x22โดนบังคับ\x22>👻</span>';if(_0x139203[_0x33ad42(0x55c)])_0x49d535+=_0x33ad42(0x575);if(_0x139203[_0x33ad42(0x71d)])_0x49d535+=_0x33ad42(0x1a4);const _0x48face=_0x139203['powerupUsed'];if(_0x48face){const _0x228dfd={'poll':'📊','cutOne':'✂️','insurance':_0x33ad42(0x724),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x228dfd[_0x48face])_0x49d535+='<span\x20title=\x22ใช้\x20'+_0x48face+'\x22>'+_0x228dfd[_0x48face]+_0x33ad42(0x95e);}}if(_0x139203){const _0x4c1d56=_0x139203[_0x33ad42(0xc26)],_0xb37210=_0x139203[_0x33ad42(0xc3c)]===!![]||_0x139203[_0x33ad42(0xc3c)]===_0x33ad42(0x1c5),_0x5a1838=_0x139203[_0x33ad42(0x6ab)];if(_0x5a1838===_0x33ad42(0xae8))_0x318a12=_0x4c1d56?_0x33ad42(0x717):_0x33ad42(0x733);else{if(_0xb37210)_0x318a12=_0x4c1d56?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x33ad42(0xacb);else _0x4c1d56?_0x318a12=_0x33ad42(0x91b):_0x318a12=_0x33ad42(0x24c);}}let _0x515392='';_0x139203&&_0x139203['powerupUsed']==='wagerMultiplier'&&!_0x139203[_0x33ad42(0xc26)]&&(_0x515392=_0x33ad42(0xc3e));const _0x19e7c2=_0x3faeee[_0x33ad42(0xc38)]>=0x0?'(+'+_0x3faeee[_0x33ad42(0xc38)]['toLocaleString']()+')':'('+_0x3faeee[_0x33ad42(0xc38)][_0x33ad42(0x2d9)]()+')';let _0xd8ecfc='';const _0x3195fb=_0x3faeee[_0x33ad42(0xc70)]['length'],_0x304373=_0x5a9968+0x1;if(_0x3195fb>0x0){if(_0x5bcb9f){if(_0x3faeee['totalPoints']===_0x48ee9d&&_0x48ee9d>0x0)_0xd8ecfc+=_0x33ad42(0x35c);if(_0x3faeee[_0x33ad42(0x745)]===_0x2900dd&&_0x2900dd>0x0)_0xd8ecfc+=_0x33ad42(0xbe9);}else{if(_0x3faeee['realScore']===_0x304373)_0xd8ecfc+=_0x33ad42(0x5b6);}const _0x835431=_0xd8ecfc[_0x33ad42(0x2e7)]('👑')||_0xd8ecfc[_0x33ad42(0x2e7)]('🎓')||_0xd8ecfc[_0x33ad42(0x2e7)]('⭐');if(!_0x835431&&_0x3faeee[_0x33ad42(0xc38)]<0x0)_0xd8ecfc+=_0x33ad42(0x99f);}let _0x511cc2='';const _0x55a5cf=_0x139203&&_0x139203[_0x33ad42(0x71d)],_0x354376=_0x139203&&_0x139203[_0x33ad42(0x6ab)]&&_0x139203['powerupUsed']!==_0x33ad42(0xae8);if(!_0x55a5cf&&!_0x354376){const _0x2babf5=_0x3faeee[_0x33ad42(0x14f)]||0x0;_0x2babf5>=0x3&&(_0x511cc2=_0x33ad42(0x1b2)+_0x2babf5+_0x33ad42(0x95e));}return _0x33ad42(0x814)+_0x318a12+_0x33ad42(0x3da)+(_0x5ddedc+0x1)+_0x33ad42(0xd8e)+_0x3faeee['name']+_0x33ad42(0x6b7)+_0x49d535+'\x20'+_0xd8ecfc+'\x20'+_0x511cc2+_0x33ad42(0x89a)+_0x3faeee['realScore']+_0x33ad42(0x4a3)+_0x19e7c2+_0x33ad42(0xabd)+_0x515392+_0x33ad42(0x6bb);})[_0x438762(0x222)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x102c34+_0x438762(0x451);liveGameView[_0x438762(0x5f4)]=_0x151100;}function renderStudentAnonymousResultsView(_0x43c7f7,_0x18fb1d){const _0x3f551e=_0x448927;let _0x588b57=[];_0x43c7f7[_0x3f551e(0x287)]?_0x588b57=_0x43c7f7[_0x3f551e(0x287)]:_0x588b57=Object[_0x3f551e(0x56e)](_0x43c7f7[_0x3f551e(0xdd9)]||{});const _0x295139=_0x43c7f7[_0x3f551e(0x64f)]||'classic',_0x29189f=_0x295139==='reveal_at_end'||_0x295139==='anonymous_reveal_end',_0x2b3228=_0x43c7f7[_0x3f551e(0x7c9)]===!![],_0x5c7206=_0x43c7f7['shuffledQuiz'][_0x3f551e(0x677)],_0x46c99c=_0x29189f&&_0x43c7f7[_0x3f551e(0x9f9)]!==undefined?_0x43c7f7['reviewQuestionIndex']:_0x18fb1d,_0x58cc9a=_0x588b57[_0x3f551e(0xad5)](_0x16f33f=>{const _0x31bb05=_0x3f551e,_0x40962b=(_0x16f33f['answers']||[])[_0x31bb05(0x955)](_0x477a0e=>_0x477a0e[_0x31bb05(0x74b)]<=_0x46c99c);let _0x34850e=0x0,_0x501a75=0x0;_0x29189f?(_0x34850e=_0x40962b[_0x31bb05(0x955)](_0x28bc04=>_0x28bc04[_0x31bb05(0xc26)])[_0x31bb05(0xab1)],_0x501a75=_0x40962b[_0x31bb05(0xe33)]((_0x3d2337,_0x5d3481)=>_0x3d2337+(_0x5d3481['pointsAwarded']||0x0),0x0)):(_0x34850e=_0x16f33f['score']||0x0,_0x501a75=_0x16f33f[_0x31bb05(0xc38)]||0x0);const _0x57a523=[..._0x40962b][_0x31bb05(0x872)]((_0x582cd1,_0x3a0b2f)=>_0x582cd1[_0x31bb05(0x74b)]-_0x3a0b2f[_0x31bb05(0x74b)]);let _0x436a4b=0x0;return _0x57a523[_0x31bb05(0x157)](_0x7195be=>{const _0x55ca8e=_0x31bb05,_0x5daa45=_0x7195be[_0x55ca8e(0x6ab)]&&_0x7195be[_0x55ca8e(0x6ab)]!==_0x55ca8e(0xae8)||_0x7195be[_0x55ca8e(0x71d)];_0x7195be['isCorrect']?_0x436a4b=_0x5daa45?0x0:_0x436a4b+0x1:_0x436a4b=0x0;}),{..._0x16f33f,'realScore':_0x34850e,'totalPoints':_0x501a75,'answers':_0x40962b,'correctStreak':_0x436a4b};}),_0x44d6cf=Math[_0x3f551e(0x90d)](..._0x58cc9a[_0x3f551e(0xad5)](_0x1e08bf=>_0x1e08bf['totalPoints']),-Infinity),_0x1b3039=Math[_0x3f551e(0x90d)](..._0x58cc9a[_0x3f551e(0xad5)](_0x2b5192=>_0x2b5192[_0x3f551e(0x745)]),-Infinity),_0x45b64b=_0x43c7f7['isBlackMarketEnabled']===!![],_0xaa9e65=[..._0x58cc9a][_0x3f551e(0x872)]((_0x145775,_0x375b16)=>{const _0x266d7f=_0x3f551e;if(_0x45b64b){if(_0x375b16[_0x266d7f(0xc38)]!==_0x145775[_0x266d7f(0xc38)])return _0x375b16['totalPoints']-_0x145775[_0x266d7f(0xc38)];if(_0x375b16[_0x266d7f(0x745)]!==_0x145775[_0x266d7f(0x745)])return _0x375b16[_0x266d7f(0x745)]-_0x145775[_0x266d7f(0x745)];}else{if(_0x375b16[_0x266d7f(0xc38)]!==_0x145775['totalPoints'])return _0x375b16[_0x266d7f(0xc38)]-_0x145775[_0x266d7f(0xc38)];if(_0x375b16['realScore']!==_0x145775[_0x266d7f(0x745)])return _0x375b16['realScore']-_0x145775[_0x266d7f(0x745)];}return(_0x145775[_0x266d7f(0x2d2)]||'')['localeCompare'](_0x375b16[_0x266d7f(0x2d2)]||'','th');});let _0x3018cb=null;const _0x3bfc34=_0x58cc9a['filter'](_0x3b5b21=>localTeamPlayers[_0x3f551e(0x2e7)](_0x3b5b21[_0x3f551e(0x2d2)]));_0x3018cb=_0x3bfc34[_0x3f551e(0xab1)]>0x0?_0x3bfc34[_0x3f551e(0x872)]((_0xdf2fb8,_0xcc55f5)=>_0xcc55f5[_0x3f551e(0xc38)]-_0xdf2fb8[_0x3f551e(0xc38)])[0x0]:null;if(!_0x3018cb){liveGameView[_0x3f551e(0x5f4)]=_0x3f551e(0xd13);return;}const _0x146084=_0x45b64b?_0x3018cb[_0x3f551e(0xc38)]:_0x3018cb['totalPoints'],_0x502766=_0x46c99c+0x1,_0x49a9e8=_0xaa9e65['map']((_0xfce6bc,_0x327643)=>{const _0x425137=_0x3f551e,_0x7e855c=_0xfce6bc[_0x425137(0x745)],_0x273bd1=_0xfce6bc[_0x425137(0xc38)],_0x12b1db=(_0xfce6bc[_0x425137(0xc70)]||[])[_0x425137(0x8c0)](_0x374aec=>_0x374aec[_0x425137(0x74b)]===_0x46c99c);let _0x300d34='';if(_0x12b1db){if(_0x12b1db[_0x425137(0x740)])_0x300d34+=_0x425137(0x7d8);if(_0x12b1db['wasJinxed'])_0x300d34+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';if(_0x12b1db['usedBuyTime'])_0x300d34+=_0x425137(0x1a4);const _0x14d192=_0x12b1db[_0x425137(0x6ab)];if(_0x14d192){const _0xbffad9={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x425137(0xbf7)};if(_0xbffad9[_0x14d192])_0x300d34+=_0x425137(0x8de)+_0x14d192+'\x22>'+_0xbffad9[_0x14d192]+_0x425137(0x95e);}}let _0x40018c='';if(_0x502766>0x0){if(_0x45b64b){if(_0x273bd1===_0x44d6cf&&_0x44d6cf>0x0)_0x40018c+=_0x425137(0x946);if(_0x7e855c===_0x1b3039&&_0x1b3039>0x0)_0x40018c+=_0x425137(0x385);}else{const _0x271b71=_0xfce6bc[_0x425137(0x745)]===_0x502766&&_0x502766>0x0;if(_0x271b71)_0x40018c=_0x425137(0x7b4);}if(_0x40018c===''&&_0x273bd1<0x0)_0x40018c=_0x425137(0xb93);}let _0x11fbd7='';const _0x3da2df=_0x12b1db&&_0x12b1db['usedBuyTime'],_0x1b88b1=_0x12b1db&&_0x12b1db[_0x425137(0x6ab)]&&_0x12b1db[_0x425137(0x6ab)]!=='wagerMultiplier';if(!_0x3da2df&&!_0x1b88b1){const _0x39db36=_0xfce6bc[_0x425137(0x14f)]||0x0;_0x39db36>=0x3&&(_0x11fbd7=_0x425137(0x4bf)+_0x39db36+_0x425137(0x95e));}let _0x40fb90=_0x425137(0x12c),_0x4dc3a7=![];if(_0x12b1db){const _0x40a867=_0x12b1db[_0x425137(0xc26)],_0x1c2168=_0x12b1db[_0x425137(0xc3c)]===!![]||_0x12b1db['wasConfident']===_0x425137(0x1c5),_0x105d09=_0x12b1db[_0x425137(0x6ab)];if(_0x105d09==='wagerMultiplier')_0x40a867?(_0x40fb90=_0x425137(0x717),_0x4dc3a7=!![]):_0x40fb90=_0x425137(0x733);else{if(_0x1c2168)_0x40fb90=_0x40a867?_0x425137(0x3fc):_0x425137(0xacb);else _0x40a867&&(_0x40fb90=_0x425137(0x91b));}}let _0x516e0a='';const _0x484164=_0xfce6bc['name'],_0x4ec057=_0x43c7f7[_0x425137(0x375)][_0xfce6bc['name']]||_0x425137(0x2bb),_0x51e6cd=localTeamPlayers[_0x425137(0x2e7)](_0x484164),_0x1ffdf6=_0x4dc3a7?'text-yellow-800':_0x425137(0xd94),_0x15e81e=_0x45b64b?_0xfce6bc[_0x425137(0xc38)]:_0xfce6bc[_0x425137(0xc38)],_0x38800d=_0x2b3228||_0x51e6cd||_0x146084>_0x15e81e;_0x38800d?_0x516e0a=_0x425137(0x54f)+_0x484164+_0x425137(0x1ef)+_0x1ffdf6+_0x425137(0x88a)+_0x4ec057+_0x425137(0xd5e):_0x516e0a='<span\x20class=\x22font-bold\x22>'+_0x4ec057+_0x425137(0x95e);_0x51e6cd&&(_0x516e0a=_0x425137(0x978)+_0x516e0a+_0x425137(0xb69));const _0x20609b='<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>'+_0x300d34+'\x20'+_0x40018c+'\x20'+_0x11fbd7+_0x425137(0x2b1),_0x363552=_0x273bd1>=0x0?'(+'+_0x273bd1['toLocaleString']()+')':'('+_0x273bd1[_0x425137(0x2d9)]()+')';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x40fb90+_0x425137(0x5dd)+(_0x327643+0x1)+_0x425137(0x431)+_0x516e0a+_0x425137(0x709)+_0x20609b+_0x425137(0x99b)+_0x7e855c+_0x425137(0xd22)+_0x363552+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3f551e(0x222)]('');let _0x38b75d='';const _0x5de327=_0x29189f?_0x46c99c>=_0x5c7206[_0x3f551e(0xab1)]-0x1:_0x43c7f7[_0x3f551e(0xd34)]>=_0x5c7206[_0x3f551e(0xab1)]-0x1;if(_0x43c7f7[_0x3f551e(0x33a)]===_0x3f551e(0x2d1))_0x38b75d='';else _0x5de327?_0x38b75d=_0x3f551e(0x594):_0x38b75d=_0x3f551e(0xcf5);const _0x459f54=_0x3f551e(0xc4)+_0x49a9e8+_0x3f551e(0x4ce)+_0x38b75d+_0x3f551e(0x1b5);liveGameView[_0x3f551e(0x5f4)]=_0x459f54;}function renderStudentCompetitionResultsView(_0x412c22,_0x3e8f76){const _0x59c1ca=_0x448927,_0x36ede8=Object[_0x59c1ca(0x56e)](_0x412c22[_0x59c1ca(0xdd9)]||{}),_0x55e5b3=_0x3e8f76,_0x345d00=_0x412c22['gameVariant']||_0x59c1ca(0x529),_0x707f31=_0x412c22[_0x59c1ca(0xe1c)][_0x59c1ca(0x677)],_0x5ac99d=_0x36ede8[_0x59c1ca(0xad5)](_0x293fa5=>{const _0x425e45=_0x59c1ca,_0x948b11=_0x293fa5['score']||0x0,_0x5d13d6=_0x293fa5[_0x425e45(0xc38)]||0x0,_0x32f0c3=(_0x293fa5['answers']||[])[_0x425e45(0x955)](_0x361e61=>_0x345d00==='reveal_at_end'?_0x361e61[_0x425e45(0x74b)]<=_0x55e5b3:!![]);return{..._0x293fa5,'realScore':_0x948b11,'totalPoints':_0x5d13d6,'answers':_0x32f0c3};}),_0x12ca75=_0x412c22['isBlackMarketEnabled']===!![],_0x2dc267=[..._0x5ac99d][_0x59c1ca(0x872)]((_0x5326c0,_0x325c0e)=>{const _0x3b1af6=_0x59c1ca;if(_0x12ca75){const _0x338c41=_0x325c0e[_0x3b1af6(0x745)]-_0x5326c0[_0x3b1af6(0x745)];if(_0x338c41!==0x0)return _0x338c41;const _0x347320=_0x325c0e[_0x3b1af6(0xc38)]-_0x5326c0['totalPoints'];if(_0x347320!==0x0)return _0x347320;return(_0x5326c0[_0x3b1af6(0x2d2)]||'')[_0x3b1af6(0x649)](_0x325c0e[_0x3b1af6(0x2d2)]||'','th');}else{const _0x2c7897=_0x325c0e['totalPoints']-_0x5326c0['totalPoints'];if(_0x2c7897!==0x0)return _0x2c7897;const _0x332e5a=_0x325c0e[_0x3b1af6(0x745)]-_0x5326c0[_0x3b1af6(0x745)];if(_0x332e5a!==0x0)return _0x332e5a;return(_0x5326c0[_0x3b1af6(0x2d2)]||'')[_0x3b1af6(0x649)](_0x325c0e[_0x3b1af6(0x2d2)]||'','th');}}),_0x2deb83=_0x2dc267[_0x59c1ca(0xad5)]((_0x5cad38,_0x1e5943)=>{const _0x1cd2d7=_0x59c1ca,_0x59796e='';let _0x4f9de7=_0x1cd2d7(0x12c);const _0x53f981=_0x5cad38['name'],_0x2dd194=_0x1cd2d7(0x8fa),_0x312020=_0x1cd2d7(0x906),_0x22453a=_0x1cd2d7(0xd9c)+_0x2dd194+_0x1cd2d7(0xcda)+_0x53f981+_0x1cd2d7(0xddc)+_0x312020+'\x22>'+_0x53f981+_0x1cd2d7(0x95e)+_0x59796e+_0x1cd2d7(0x2b1),_0x10c64f='';return _0x1cd2d7(0xa4e)+_0x4f9de7+_0x1cd2d7(0x79c)+(_0x1e5943+0x1)+_0x1cd2d7(0xc65)+_0x22453a+_0x1cd2d7(0x1e7)+_0x10c64f+_0x1cd2d7(0x8ca);})[_0x59c1ca(0x222)]('');let _0x554cc6='';const _0x23d96c=_0x345d00===_0x59c1ca(0x207)?_0x412c22['reviewQuestionIndex']>=_0x707f31[_0x59c1ca(0xab1)]-0x1:_0x412c22[_0x59c1ca(0xd34)]>=_0x707f31[_0x59c1ca(0xab1)]-0x1;_0x23d96c?_0x554cc6='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x554cc6='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x4a0265=_0x59c1ca(0x2fa)+_0x2deb83+_0x59c1ca(0x5fa)+_0x554cc6+_0x59c1ca(0x1b5);liveGameView['innerHTML']=_0x4a0265;}function renderStudentSyncQuestionView(_0x1ffc69){const _0x336ada=_0x448927;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x1ffc69[_0x336ada(0xdd9)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x336ada(0x5c4)]===!![]){localPlayerTurnIndex++;}const _0x26e155=localTeamPlayers[localPlayerTurnIndex];if(!_0x26e155)return;const _0x54113f=_0x1ffc69['players'][_0x26e155],_0x16abfe=_0x1ffc69[_0x336ada(0xd34)],_0x4ad304=_0x1ffc69[_0x336ada(0xe1c)][_0x336ada(0x677)]['length'],_0x882aa7=_0x1ffc69[_0x336ada(0xe1c)]['questions'][_0x16abfe],_0xab8bf8=_0x882aa7['questionType']||_0x1ffc69['shuffledQuiz']['quizType'];let _0x3ad6ec='',_0xb7a87e=![];const _0x56c5c0='powerupUsed_q'+_0x16abfe+'_p'+_0x26e155,_0x49ba50=sessionStorage[_0x336ada(0x9b1)](_0x56c5c0),_0x43dbe1=_0x49ba50===_0x336ada(0x2c4),_0x221e68='hiddenOptions_q'+_0x16abfe+'_p'+_0x26e155,_0x3e34aa=JSON['parse'](sessionStorage['getItem'](_0x221e68)||'[]')[_0x336ada(0xad5)](String);if((_0xab8bf8===_0x336ada(0x706)||_0xab8bf8===_0x336ada(0x2ad))&&_0x43dbe1&&_0x882aa7[_0x336ada(0x6ca)]&&_0x882aa7[_0x336ada(0x6ca)]['length']>0x0)_0x3ad6ec=_0x882aa7[_0x336ada(0x6ca)][_0x336ada(0xad5)]((_0x2efa85,_0x1c1f92)=>{const _0x46f506=_0x336ada;if(_0x3e34aa[_0x46f506(0x2e7)](String(_0x1c1f92)))return'';return _0x46f506(0x3fe)+_0x2efa85+_0x46f506(0xdc8)+_0x1c1f92+_0x46f506(0x9c9)+_0x2efa85+'</button>';})[_0x336ada(0x222)]('');else{if(_0xab8bf8==='short_answer'||_0xab8bf8===_0x336ada(0x2ad)){_0xb7a87e=!![];const _0x770665=_0x882aa7[_0x336ada(0xcac)]&&/^-?[\d.,]+$/[_0x336ada(0xbc9)](String(_0x882aa7[_0x336ada(0xcac)])[_0x336ada(0xb5b)]());let _0x2a9af1='';_0x770665?_0x2a9af1=_0x336ada(0xb2d):_0x2a9af1=_0x336ada(0xbcb),_0x3ad6ec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a9af1+_0x336ada(0x183);}else switch(_0xab8bf8){case _0x336ada(0xab0):const _0x483406=_0x3e34aa['includes']('0')?'':_0x336ada(0x4a4),_0x4d2ad4=_0x3e34aa['includes']('1')?'':_0x336ada(0x509);_0x3ad6ec=_0x483406+_0x4d2ad4;break;case'matching_item':_0xb7a87e=!![],_0x3ad6ec=_0x336ada(0x484)+(_0x882aa7['allResponses']||[])[_0x336ada(0xad5)](_0x12cc22=>_0x336ada(0x949)+_0x12cc22+'\x22>'+_0x12cc22+_0x336ada(0x38c))[_0x336ada(0x222)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x336ada(0x232):default:_0x3ad6ec=(_0x882aa7[_0x336ada(0x6ca)]||[])['map']((_0x19c7ec,_0x158c08)=>{const _0x5b6e25=_0x336ada;if(_0x3e34aa[_0x5b6e25(0x2e7)](String(_0x158c08)))return'';return _0x5b6e25(0x3fe)+_0x158c08+'\x22\x20data-index=\x22'+_0x158c08+_0x5b6e25(0x19a)+_0x19c7ec+_0x5b6e25(0x174);})[_0x336ada(0x222)]('');break;}}let _0x342677='';_0x1ffc69[_0x336ada(0x4df)]===_0x336ada(0x8e4)&&(_0x342677=_0x336ada(0xd42)+_0x1ffc69[_0x336ada(0xc89)]+_0x336ada(0xce4));let _0x1c9ce4='';const _0x5c5421=_0x1ffc69[_0x336ada(0x64f)]||'classic',_0xbebac2=[_0x336ada(0x207),'anonymous_reveal_end','competition'][_0x336ada(0x2e7)](_0x5c5421);if(_0x1ffc69[_0x336ada(0xbb8)]===!![]){if(_0xbebac2)!_0x49ba50&&(_0x1c9ce4=_0x336ada(0xc40));else{const _0x1ee9ea=_0x54113f['totalPoints']||0x0,_0x2649f0=_0x54113f[_0x336ada(0x204)]||{},_0x385cd1=[_0x2649f0['buyTime']>0x0?_0x336ada(0x673)+_0x2649f0['buyTime']+_0x336ada(0xc0):'',_0x2649f0[_0x336ada(0x2c4)]>0x0?'<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20('+_0x2649f0['revealOptions']+_0x336ada(0xc0):'',_0x2649f0['cutOne']>0x0?_0x336ada(0xd17)+_0x2649f0[_0x336ada(0xe4)]+')</button>':'',_0x2649f0['insurance']>0x0?_0x336ada(0xe1e)+_0x2649f0['insurance']+_0x336ada(0xc0):'',_0x2649f0[_0x336ada(0x237)]>0x0?_0x336ada(0xdce)+_0x2649f0[_0x336ada(0x237)]+_0x336ada(0xc0):'',_0x2649f0[_0x336ada(0x4bc)]>0x0?_0x336ada(0xe34)+_0x2649f0[_0x336ada(0x4bc)]+_0x336ada(0xc0):''][_0x336ada(0x955)](Boolean)[_0x336ada(0x222)]('\x20'),_0x82898c=_0x336ada(0x3d5)+_0x16abfe+'_p'+_0x26e155,_0x1cfa8=sessionStorage[_0x336ada(0x9b1)](_0x82898c)===_0x336ada(0xd3d),_0x3fbdb9=_0x1ee9ea>0x0&&(!_0x1cfa8||_0x1ee9ea>=0x1),_0x531adf=_0x1ee9ea===0x0?_0x336ada(0x4ee):_0x1cfa8?_0x336ada(0xcc0):_0x336ada(0xb33)+_0x1ee9ea+_0x336ada(0x2fc),_0x5b9116=_0x3fbdb9?_0x336ada(0x319):_0x336ada(0x965),_0x3da800=_0x3fbdb9?'':_0x336ada(0x64b);let _0x2419dc=_0x336ada(0xb77)+_0x5b9116+_0x336ada(0x39d)+_0x3da800+_0x336ada(0x309)+_0x531adf+_0x336ada(0x174);if(!_0x49ba50){const _0x362a7a=_0x1ee9ea>0x0,_0x57dbc6=_0x362a7a?'bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1':_0x336ada(0x31a),_0x5df837=_0x362a7a?_0x336ada(0xbce):_0x336ada(0x833),_0x481c67=_0x362a7a?'':_0x336ada(0x64b);_0x2419dc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22'+_0x57dbc6+_0x336ada(0x59f)+_0x481c67+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22'+_0x5df837+_0x336ada(0x59f)+_0x481c67+_0x336ada(0x41f);}_0x1c9ce4=_0x336ada(0x780)+_0x2419dc+_0x336ada(0x1e5)+(_0x385cd1||'')+_0x336ada(0xbc0);}}let _0x4b2d08='';_0x54113f['isJinxed']&&(_0x4b2d08+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');_0x54113f['isForcedConfident']&&(_0x4b2d08+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');(_0x54113f[_0x336ada(0x8b4)]||0x0)>0x0&&(_0x4b2d08+=_0x336ada(0x6f5));if(_0x49ba50){if(_0x49ba50===_0x336ada(0xae8)){const _0x4e8101=_0xbebac2?_0x336ada(0x119):_0x336ada(0xbc6);_0x4b2d08+=_0x336ada(0x9f1)+_0x4e8101+_0x336ada(0x7fd);}else{if(_0x49ba50==='cutOne')_0x4b2d08+=_0x336ada(0xdd5);else{if(_0x49ba50===_0x336ada(0x237))_0x4b2d08+=_0x336ada(0x15b);else{if(_0x49ba50===_0x336ada(0x4bc))_0x4b2d08+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x49ba50===_0x336ada(0x2c4))_0x4b2d08+=_0x336ada(0x6b3);else _0x49ba50===_0x336ada(0x1eb)?_0x4b2d08+=_0x336ada(0x9f2):_0x4b2d08+=_0x336ada(0xcdf)+_0x49ba50+_0x336ada(0xa15);}}}}}let _0x1e2bc8='';if(!_0xbebac2){const _0x1460a7=_0x54113f['correctStreak']||0x0;if(_0x1460a7>=0x3)_0x1e2bc8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ON\x20FIRE!\x20คะแนน\x20x2</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20'+_0x1460a7+_0x336ada(0x1db);else _0x1460a7>0x0&&(_0x1e2bc8=_0x336ada(0xb6b)+_0x1460a7+'/3</span></div>');}liveGameView[_0x336ada(0x5f4)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x16abfe+0x1)+_0x336ada(0x65b)+_0x4ad304+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x26e155+_0x336ada(0xe28)+_0x1e2bc8+_0x336ada(0xdfb)+_0x342677+_0x336ada(0xdfb)+_0x1c9ce4+_0x336ada(0xe00)+_0x4b2d08+_0x336ada(0x242)+(_0x882aa7[_0x336ada(0xb3b)]||_0x882aa7['stem'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x3ad6ec+_0x336ada(0x62a);if(window[_0x336ada(0x563)])MathJax['typesetPromise']();function _0x4ec9f1(_0xc55d0d,_0x40c7d1,_0x24223a,_0x4b832e){const _0x40dc6d=_0x336ada,_0x2594bf=_0x24223a[_0x40dc6d(0x5ed)]===!![],_0x5d8a13=_0x24223a[_0x40dc6d(0xd34)],_0x50f0fc='powerupUsed_q'+_0x5d8a13+'_p'+_0x4b832e,_0x6f8e7=sessionStorage['getItem'](_0x50f0fc),_0x50d855=_0x6f8e7===_0x40dc6d(0xae8),_0x4d4938=_0x24223a[_0x40dc6d(0xdd9)][_0x4b832e];if(_0x50d855){const _0x24621d=sessionStorage[_0x40dc6d(0x9b1)](_0x40dc6d(0x150))===_0x40dc6d(0xd3d);if(_0xbebac2||_0x24621d){const _0x16b265=_0x4d4938['totalPoints']||0x0;sessionStorage[_0x40dc6d(0x9db)]('instantWager'),handleSyncAnswerSubmit(_0xc55d0d,_0x40c7d1,_0x24223a,_0x4b832e,![],_0x16b265);}else{const _0x31c468=document[_0x40dc6d(0xb18)](_0x40dc6d(0x97e)),_0x45519f=document[_0x40dc6d(0xb18)](_0x40dc6d(0x4a7)),_0x25c33f=document[_0x40dc6d(0xb18)](_0x40dc6d(0x1dc)),_0x585a43=document[_0x40dc6d(0xb18)](_0x40dc6d(0xd3e)),_0x338dde=_0x4d4938[_0x40dc6d(0xc38)]||0x0;_0x45519f[_0x40dc6d(0x90d)]=_0x338dde,_0x45519f[_0x40dc6d(0x52d)]=_0x338dde,_0x25c33f[_0x40dc6d(0x633)]=_0x338dde,_0x585a43['textContent']=_0x338dde,_0x45519f[_0x40dc6d(0x783)]=()=>{const _0x31e2a1=_0x40dc6d;_0x25c33f[_0x31e2a1(0x633)]=_0x45519f[_0x31e2a1(0x52d)];};const _0x1ff6dd=document[_0x40dc6d(0xb18)]('selected-answer-index-hidden-wager');_0x1ff6dd[_0x40dc6d(0xcd1)][_0x40dc6d(0xb34)]=_0xc55d0d,_0x1ff6dd[_0x40dc6d(0xcd1)][_0x40dc6d(0x339)]=JSON['stringify'](_0x40c7d1),_0x1ff6dd[_0x40dc6d(0xcd1)]['gameData']=JSON['stringify'](_0x24223a),_0x1ff6dd['dataset'][_0x40dc6d(0xaa6)]=_0x4b832e,_0x31c468['classList'][_0x40dc6d(0xa1f)](_0x40dc6d(0x5a9));}}else{if(_0x2594bf){document['getElementById'](_0x40dc6d(0x836))[_0x40dc6d(0xcd1)][_0x40dc6d(0x5b0)]=_0x40dc6d(0x17a);const _0x9e9741=document['getElementById'](_0x40dc6d(0x140));_0x9e9741[_0x40dc6d(0xcd1)]['answerValue']=_0xc55d0d,_0x9e9741[_0x40dc6d(0xcd1)][_0x40dc6d(0x339)]=JSON['stringify'](_0x40c7d1),_0x9e9741['dataset'][_0x40dc6d(0x4aa)]=JSON[_0x40dc6d(0x7cd)](_0x24223a),_0x9e9741['dataset'][_0x40dc6d(0xaa6)]=_0x4b832e,document[_0x40dc6d(0xb18)](_0x40dc6d(0x836))['classList'][_0x40dc6d(0xa1f)]('hidden');}else handleSyncAnswerSubmit(_0xc55d0d,_0x40c7d1,_0x24223a,_0x4b832e,![],0x0);}}_0xb7a87e?document[_0x336ada(0xb18)]('sync-submit-btn')[_0x336ada(0xcc)](_0x336ada(0x8b2),()=>{const _0x5322da=_0x336ada,_0x1a1ec9=document[_0x5322da(0xb18)](_0x5322da(0x530))||document[_0x5322da(0xb18)]('sync-matching-select');if(_0x1a1ec9[_0x5322da(0x52d)][_0x5322da(0xb5b)]()===''){showMessage(_0x5322da(0x4e8));return;}_0x4ec9f1(_0x1a1ec9[_0x5322da(0x52d)],_0x882aa7,_0x1ffc69,_0x26e155);}):document[_0x336ada(0xccb)](_0x336ada(0x54e))[_0x336ada(0x157)](_0x8ce0=>{const _0x2ba26d=_0x336ada;_0x8ce0[_0x2ba26d(0xcc)](_0x2ba26d(0x8b2),()=>{const _0x206a0d=_0x2ba26d;_0x4ec9f1(_0x8ce0[_0x206a0d(0xcd1)][_0x206a0d(0x52d)],_0x882aa7,_0x1ffc69,_0x26e155);});});if(_0x1ffc69[_0x336ada(0xbb8)]===!![]){if(!_0xbebac2){const _0xf05e2a=document['getElementById']('open-market-btn');_0xf05e2a&&_0xf05e2a[_0x336ada(0xcc)](_0x336ada(0x8b2),()=>{const _0xd32bc7=_0x336ada,_0x44926e='freeMarketEntryUsed_q'+_0x16abfe+'_p'+_0x26e155,_0x59561b=sessionStorage[_0xd32bc7(0x9b1)](_0x44926e)===_0xd32bc7(0xd3d);if(!_0x59561b)openBlackMarket(_0x1ffc69,_0x54113f),sessionStorage[_0xd32bc7(0x765)](_0x44926e,_0xd32bc7(0xd3d)),renderStudentSyncQuestionView(_0x1ffc69);else{if(_0x54113f[_0xd32bc7(0xc38)]<0x1){showMessage(_0xd32bc7(0xca3));return;}showConfirmation(_0xd32bc7(0xd31),()=>{handlePayForMarketEntry(_0x26e155,_0x1ffc69,_0x54113f);});}}),document[_0x336ada(0xb18)]('use-powerup-buyTime')?.[_0x336ada(0xcc)]('click',_0x3ec7ca=>{const _0x3e9b92=_0x336ada;_0x3ec7ca[_0x3e9b92(0x364)][_0x3e9b92(0x64b)]=!![],handleUsePowerup(_0x26e155,_0x3e9b92(0x73f),_0x882aa7,_0x1ffc69,_0x54113f);}),document[_0x336ada(0xb18)](_0x336ada(0xda5))?.['addEventListener'](_0x336ada(0x8b2),_0x4ee0b9=>{const _0x43e88e=_0x336ada;_0x4ee0b9[_0x43e88e(0x364)][_0x43e88e(0x64b)]=!![],handleUsePowerup(_0x26e155,_0x43e88e(0xe4),_0x882aa7,_0x1ffc69,_0x54113f);}),document['getElementById']('use-powerup-insurance')?.[_0x336ada(0xcc)](_0x336ada(0x8b2),_0x4f89c9=>{const _0xe7241f=_0x336ada;_0x4f89c9[_0xe7241f(0x364)][_0xe7241f(0x64b)]=!![],handleUsePowerup(_0x26e155,_0xe7241f(0x1eb),_0x882aa7,_0x1ffc69,_0x54113f);}),document['getElementById'](_0x336ada(0x506))?.[_0x336ada(0xcc)](_0x336ada(0x8b2),_0x4b0fcc=>{const _0x217175=_0x336ada;_0x4b0fcc[_0x217175(0x364)][_0x217175(0x64b)]=!![],handleUsePowerup(_0x26e155,_0x217175(0x237),_0x882aa7,_0x1ffc69,_0x54113f);}),document[_0x336ada(0xb18)]('use-powerup-secondChance')?.['addEventListener'](_0x336ada(0x8b2),_0x32d49e=>{const _0x4fce9e=_0x336ada;_0x32d49e['target'][_0x4fce9e(0x64b)]=!![],handleUsePowerup(_0x26e155,_0x4fce9e(0x4bc),_0x882aa7,_0x1ffc69,_0x54113f);}),document['getElementById'](_0x336ada(0xaf1))?.[_0x336ada(0xcc)](_0x336ada(0x8b2),_0x4c2319=>{const _0x593851=_0x336ada;_0x4c2319['target'][_0x593851(0x64b)]=!![],handleUsePowerup(_0x26e155,_0x593851(0x2c4),_0x882aa7,_0x1ffc69,_0x54113f);}),document['getElementById']('use-powerup-wagerMultiplier')?.[_0x336ada(0xcc)](_0x336ada(0x8b2),_0x24c147=>{const _0x5d6a90=_0x336ada;_0x24c147[_0x5d6a90(0x364)]['disabled']=!![],sessionStorage[_0x5d6a90(0x765)](_0x5d6a90(0x150),_0x5d6a90(0x746)),handleUsePowerup(_0x26e155,_0x5d6a90(0xae8),_0x882aa7,_0x1ffc69,_0x54113f);});}document[_0x336ada(0xb18)](_0x336ada(0xa0f))?.[_0x336ada(0xcc)](_0x336ada(0x8b2),_0x1f237f=>{const _0x535edd=_0x336ada;_0x1f237f[_0x535edd(0x364)]['disabled']=!![],sessionStorage['setItem'](_0x535edd(0x150),_0x535edd(0xd3d)),handleUsePowerup(_0x26e155,'wagerMultiplier',_0x882aa7,_0x1ffc69,_0x54113f);});}}async function handleSyncAnswerSubmit(_0x288cb0,_0x21860f,_0x418807,_0x218cf9,_0x54e109,_0x316918=0x0){const _0x19da13=_0x448927;document[_0x19da13(0xccb)](_0x19da13(0xe25))[_0x19da13(0x157)](_0x435d8a=>_0x435d8a['disabled']=!![]);const _0x30c0e0=_0x418807[_0x19da13(0xd34)],_0x1a9f63='powerupUsed_q'+_0x30c0e0+'_p'+_0x218cf9,_0x35a893=sessionStorage[_0x19da13(0x9b1)](_0x1a9f63),_0x3cd7c3=_0x418807[_0x19da13(0xdd9)][_0x218cf9]||{},_0x26b42b=_0x3cd7c3[_0x19da13(0x85f)]===!![],_0x4006b0=sessionStorage[_0x19da13(0x9b1)](_0x19da13(0xadb))===_0x19da13(0xd3d);let _0xba86b4=_0x3cd7c3[_0x19da13(0x14f)]||0x0;_0x35a893&&_0x35a893!==_0x19da13(0xae8)&&(_0xba86b4=0x0);const _0x46795e=_0xba86b4>=0x3,_0x200e5a=_0x21860f[_0x19da13(0x3e6)]||_0x418807['shuffledQuiz']['quizType'];let _0x400a32=![],_0x3da5e1=_0x288cb0;switch(_0x200e5a){case'true_false':const _0x2f60ef=parseInt(_0x288cb0),_0x2fde33=_0x21860f['correctAnswer']===!![]||String(_0x21860f[_0x19da13(0xaf4)])[_0x19da13(0x123)]()===_0x19da13(0xd3d);_0x400a32=_0x2f60ef===0x0&&_0x2fde33||_0x2f60ef===0x1&&!_0x2fde33,_0x3da5e1=_0x2f60ef===0x0?'ใช่\x20/\x20ถูก':_0x19da13(0x97c);break;case _0x19da13(0x706):case'fill_in_no_choices':_0x400a32=await gradeShortAnswer(_0x288cb0,_0x21860f);break;case'matching_item':_0x400a32=_0x288cb0===_0x21860f[_0x19da13(0x993)];break;case _0x19da13(0x232):default:const _0x1419ea=parseInt(_0x288cb0);_0x400a32=_0x1419ea===_0x21860f[_0x19da13(0x662)];_0x21860f['options']&&_0x21860f['options'][_0x1419ea]&&(_0x3da5e1=_0x21860f[_0x19da13(0x6ca)][_0x1419ea]);break;}if(!_0x400a32&&_0x35a893===_0x19da13(0x4bc)&&!_0x4006b0){sessionStorage[_0x19da13(0x9db)](_0x1a9f63),sessionStorage[_0x19da13(0x765)](_0x19da13(0xadb),'true'),showMessage('คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง'),document[_0x19da13(0xccb)](_0x19da13(0xe25))[_0x19da13(0x157)](_0x174658=>{const _0x3ee8e2=_0x19da13;if(!_0x174658[_0x3ee8e2(0x82f)][_0x3ee8e2(0xb15)](_0x3ee8e2(0x5a9)))_0x174658[_0x3ee8e2(0x64b)]=![];});return;}let _0x4c40e7=0x0;const _0x370437=_0x35a893===_0x19da13(0xae8),_0x234265=_0x35a893===_0x19da13(0x1eb),_0xd89280=sessionStorage['getItem'](_0x19da13(0x2a2))===_0x19da13(0xd3d),_0x9fe814=_0x3cd7c3[_0x19da13(0x3a1)]===!![];if(_0x370437){const _0x49d5d2=parseInt(_0x316918,0xa)||0x0;_0x4c40e7=_0x400a32?_0x49d5d2*0x2:-_0x49d5d2;}else{if(_0xd89280&&!_0x400a32)_0x4c40e7=_0x54e109===!![]||_0x54e109===_0x19da13(0x1c5)||_0x26b42b?-0x4:-0x2;else{if(_0x26b42b)_0x4c40e7=_0x400a32?0x2:-0x1;else{if(_0x418807[_0x19da13(0x5ed)]){if(_0x400a32&&(_0x54e109===!![]||_0x54e109===_0x19da13(0x1c5)))_0x4c40e7=0x2;else{if(_0x400a32)_0x4c40e7=0x1;else{if(!_0x400a32&&(_0x54e109===![]||_0x54e109===_0x19da13(0x606)||_0x54e109===null))_0x4c40e7=0x0;else{if(!_0x400a32&&(_0x54e109===!![]||_0x54e109===_0x19da13(0x1c5)))_0x4c40e7=-0x1;}}}}else _0x4c40e7=_0x400a32?0x1:0x0;}}}_0x46795e&&_0x4c40e7>0x0&&(_0x4c40e7*=0x2);if(_0x9fe814&&!_0x400a32&&_0x4c40e7<0x0)_0x4c40e7*=0x2;if(!_0x400a32&&_0x234265)_0x4c40e7=0x0;const _0x1b1e1e=(_0x3cd7c3[_0x19da13(0x8b4)]||0x0)>0x0,_0x582b26=_0x35a893&&_0x35a893!==_0x19da13(0xae8);let _0x489590=0x0;_0x400a32&&(_0x489590=_0x582b26?0x0:_0xba86b4+0x1);const _0x5d2d6d={'questionIndex':_0x418807['currentQuestionIndex'],'questionId':_0x21860f['id'],'answer':_0x288cb0,'answerText':_0x3da5e1,'isCorrect':_0x400a32,'originalQuestionText':_0x21860f[_0x19da13(0xb3b)]||_0x21860f[_0x19da13(0xc35)],'wasConfident':_0x26b42b?_0x19da13(0x1c5):_0x54e109||![],'pointsAwarded':_0x4c40e7,'powerupUsed':_0x35a893||null,'wasJinxed':_0x9fe814||![],'wasForced':_0x26b42b||![],'usedPoll':_0xd89280||![],'usedBuyTime':_0x1b1e1e,'streakActive':_0x46795e},_0x51a055=doc(db,_0x19da13(0xa76)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x19da13(0x610),_0x218cf9),_0x2f2ca4=_0x3cd7c3['answers']||[],_0x186bac=_0x2f2ca4[_0x19da13(0x955)](_0xf21d18=>_0xf21d18[_0x19da13(0x74b)]!==_0x418807[_0x19da13(0xd34)]),_0x3b5a20=[..._0x186bac,_0x5d2d6d],_0xcfc9a=_0x3b5a20['filter'](_0x5ef790=>_0x5ef790[_0x19da13(0xc26)])[_0x19da13(0xab1)],_0xe1e920={'answers':_0x3b5a20,'score':_0xcfc9a,'totalPoints':increment(_0x4c40e7),'answered':!![],'lastAnswerIndex':_0x200e5a==='multiple_choice'||_0x200e5a==='true_false'?parseInt(_0x288cb0):null,'lastAnswerValue':_0x3da5e1,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x489590};if(_0x4006b0)sessionStorage[_0x19da13(0x9db)](_0x19da13(0xadb));try{await updateDoc(_0x51a055,_0xe1e920);}catch(_0x18cdf9){console['error'](_0x19da13(0xf3),_0x18cdf9),showMessage('ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่'),document[_0x19da13(0xccb)](_0x19da13(0xe25))['forEach'](_0xb62e12=>_0xb62e12[_0x19da13(0x64b)]=![]);}}const allMarketItems=[{'id':_0x448927(0x73f),'name':_0x448927(0x404),'price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x448927(0xe4),'name':'✂️\x20ตัด\x201\x20ตัวเลือก','price':0x2,'desc':_0x448927(0x1e8)},{'id':_0x448927(0x237),'name':_0x448927(0x394),'price':0x5,'desc':_0x448927(0x1c9)},{'id':_0x448927(0x4bc),'name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':_0x448927(0x77f)},{'id':_0x448927(0x2c4),'name':_0x448927(0x266),'price':0xc,'desc':_0x448927(0x244)}];function openBlackMarket(_0x3480d2,_0x1bb858){const _0x1c3f98=_0x448927;let _0x39e9ad=null;const _0x150d1a=document['getElementById'](_0x1c3f98(0x12b)),_0x25bf11=document[_0x1c3f98(0xb18)](_0x1c3f98(0xd4f)),_0x29346d=document[_0x1c3f98(0xb18)]('market-current-points'),_0x9d7ca9=document['getElementById'](_0x1c3f98(0x3d0)),_0x56025b=_0x1bb858[_0x1c3f98(0xc38)]||0x0;_0x29346d[_0x1c3f98(0x633)]=_0x56025b;const _0x2b7f17=_0x3480d2[_0x1c3f98(0xd34)],_0x27b1df=_0x3480d2[_0x1c3f98(0xe1c)][_0x1c3f98(0x677)][_0x2b7f17],_0x5a8a5e=_0x27b1df[_0x1c3f98(0x3e6)]||_0x3480d2[_0x1c3f98(0xe1c)][_0x1c3f98(0xafc)],_0x318af4=_0x3480d2['timerMode']===_0x1c3f98(0x8e4),_0x4aa782=allMarketItems;_0x25bf11['innerHTML']=_0x4aa782['map'](_0x3e4692=>{const _0x1e82a6=_0x1c3f98,_0x1c6f9d=_0x56025b>=_0x3e4692[_0x1e82a6(0x648)];if(_0x3e4692['id']===_0x1e82a6(0x73f)){const _0x5532c7=_0x1c6f9d?Math[_0x1e82a6(0x87b)](_0x56025b/_0x3e4692['price']):0x0,_0x3fe59a=_0x1c6f9d&&_0x318af4;let _0x36c2ce=_0x1e82a6(0xa5a)+_0x3e4692['price']+'P/อัน)',_0x575245=_0x3fe59a?'bg-indigo-600\x20hover:bg-indigo-700':_0x1e82a6(0xad4);return!_0x318af4&&(_0x36c2ce=_0x1e82a6(0x784),_0x575245='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(!_0x3fe59a?_0x1e82a6(0x449):_0x1e82a6(0x747))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x3e4692[_0x1e82a6(0x2d2)]+_0x1e82a6(0xa24)+_0x3e4692[_0x1e82a6(0x9c4)]+_0x1e82a6(0x5ca)+_0x5532c7+'\x22\x20'+(!_0x3fe59a?_0x1e82a6(0x64b):'')+_0x1e82a6(0x8d1)+_0x575245+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x3e4692['id']+_0x1e82a6(0x79e)+_0x3e4692[_0x1e82a6(0x648)]+_0x1e82a6(0x987)+(!_0x3fe59a?'disabled':'')+_0x1e82a6(0xb44)+_0x36c2ce+_0x1e82a6(0x7c0);}else{let _0x1bfde8=!_0x1c6f9d,_0x373a8d=_0x1c6f9d?_0x1e82a6(0x7f8):'bg-gray-400',_0x1fdd83=_0x1e82a6(0xa5a)+_0x3e4692[_0x1e82a6(0x648)]+'P)';if(_0x3e4692['id']===_0x1e82a6(0x2c4)){const _0x3afdc5=_0x27b1df[_0x1e82a6(0x6ca)]&&_0x27b1df['options']['length']>0x0,_0x3b3e6b=_0x5a8a5e===_0x1e82a6(0x706)||_0x5a8a5e===_0x1e82a6(0x2ad);(!_0x3afdc5||!_0x3b3e6b)&&(_0x1bfde8=!![],_0x373a8d=_0x1e82a6(0x5c5),_0x1fdd83=_0x1e82a6(0x156));}if(_0x3e4692['id']===_0x1e82a6(0xe4)||_0x3e4692['id']===_0x1e82a6(0x237)){const _0x463da8=_0x5a8a5e===_0x1e82a6(0x706)||_0x5a8a5e===_0x1e82a6(0x2ad),_0x3d21f2=_0x27b1df['options']&&_0x27b1df['options'][_0x1e82a6(0xab1)]>0x0;(_0x463da8||!_0x3d21f2)&&(_0x1bfde8=!![],_0x373a8d='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x1fdd83='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก');}return _0x1e82a6(0x84f)+(_0x1bfde8?_0x1e82a6(0x449):_0x1e82a6(0x747))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x3e4692[_0x1e82a6(0x2d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x3e4692[_0x1e82a6(0x9c4)]+_0x1e82a6(0x1e1)+_0x373a8d+_0x1e82a6(0x87d)+_0x3e4692['id']+_0x1e82a6(0x9ab)+_0x3e4692[_0x1e82a6(0x648)]+_0x1e82a6(0x33e)+(_0x1bfde8?'disabled':'')+_0x1e82a6(0x4b8)+_0x1fdd83+_0x1e82a6(0x4da);}})[_0x1c3f98(0x222)](''),_0x150d1a[_0x1c3f98(0x82f)][_0x1c3f98(0xa1f)](_0x1c3f98(0x5a9)),_0x9d7ca9[_0x1c3f98(0xbaf)][_0x1c3f98(0xed)]=_0x1c3f98(0x43f),_0x9d7ca9[_0x1c3f98(0xbaf)][_0x1c3f98(0x5ff)]=_0x1c3f98(0xcf3),setTimeout(()=>{const _0x1051e8=_0x1c3f98;_0x9d7ca9[_0x1051e8(0xbaf)][_0x1051e8(0xed)]=_0x1051e8(0xc47),_0x9d7ca9[_0x1051e8(0xbaf)][_0x1051e8(0x5ff)]='0%';},0x32),_0x39e9ad=setTimeout(()=>{const _0x51bdfa=_0x1c3f98;_0x150d1a[_0x51bdfa(0x82f)][_0x51bdfa(0x24b)](_0x51bdfa(0x5a9));},0xea60),document['getElementById'](_0x1c3f98(0x39e))[_0x1c3f98(0xb4f)]=()=>{const _0x2a080b=_0x1c3f98;clearTimeout(_0x39e9ad),_0x150d1a['classList'][_0x2a080b(0x24b)](_0x2a080b(0x5a9));},_0x25bf11[_0x1c3f98(0xccb)](_0x1c3f98(0x7da))[_0x1c3f98(0x157)](_0x525a23=>{const _0x2854f9=_0x1c3f98;_0x525a23[_0x2854f9(0xb4f)]=_0x46ce82=>{const _0x2523f9=_0x2854f9,_0x36e639=_0x46ce82['target'][_0x2523f9(0xcd1)][_0x2523f9(0x7c7)],_0x2327e0=parseInt(_0x46ce82[_0x2523f9(0x364)][_0x2523f9(0xcd1)][_0x2523f9(0x648)],0xa);clearTimeout(_0x39e9ad),_0x150d1a[_0x2523f9(0x82f)][_0x2523f9(0x24b)](_0x2523f9(0x5a9)),handleBuyItem(_0x1bb858['name'],_0x36e639,_0x2327e0,0x1);};}),_0x25bf11[_0x1c3f98(0xccb)]('.buy-time-confirm-btn')['forEach'](_0x492f14=>{const _0x2a82e6=_0x1c3f98;_0x492f14[_0x2a82e6(0xb4f)]=_0x2ead06=>{const _0xade773=_0x2a82e6,_0x55f732=_0x2ead06['target'][_0xade773(0xcd1)][_0xade773(0x7c7)],_0x154139=parseInt(_0x2ead06[_0xade773(0x364)][_0xade773(0xcd1)][_0xade773(0x648)],0xa),_0x56af81=document[_0xade773(0xb18)](_0xade773(0xaa4)),_0x532560=parseInt(_0x56af81[_0xade773(0x52d)],0xa),_0x1ce6f0=parseInt(_0x56af81[_0xade773(0x90d)],0xa);if(!_0x532560||_0x532560<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0x532560>_0x1ce6f0){showMessage(_0xade773(0x491)+_0x1ce6f0+_0xade773(0x4af));return;}clearTimeout(_0x39e9ad),_0x150d1a[_0xade773(0x82f)][_0xade773(0x24b)](_0xade773(0x5a9)),handleBuyItem(_0x1bb858[_0xade773(0x2d2)],_0x55f732,_0x154139,_0x532560);};});}async function handleBuyItem(_0x127763,_0x43b6c2,_0x2451d5,_0x1e93c8=0x1){const _0x3a54cf=_0x448927,_0x53293c=doc(db,_0x3a54cf(0xa76)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3a54cf(0x610),_0x127763);try{await runTransaction(db,async _0x50169f=>{const _0x19d06d=_0x3a54cf,_0x3af16e=await _0x50169f[_0x19d06d(0xdbc)](_0x53293c);if(!_0x3af16e[_0x19d06d(0x14d)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x2501e1=_0x3af16e[_0x19d06d(0xa8e)]()[_0x19d06d(0xc38)]||0x0,_0x5cc9d1=_0x2451d5*_0x1e93c8;if(_0x2501e1<_0x5cc9d1)throw _0x19d06d(0x95d);const _0x20937c={};_0x20937c['totalPoints']=increment(-_0x5cc9d1),_0x20937c['powerups.'+_0x43b6c2]=increment(_0x1e93c8),_0x50169f[_0x19d06d(0x8a4)](_0x53293c,_0x20937c);}),showMessage('ซื้อ\x20\x22'+_0x43b6c2+'\x22\x20x'+_0x1e93c8+_0x3a54cf(0x3c9));}catch(_0x2e7be0){console[_0x3a54cf(0x17d)](_0x3a54cf(0x21a),_0x2e7be0),showMessage(typeof _0x2e7be0===_0x3a54cf(0xdc5)?_0x2e7be0:_0x3a54cf(0x4cd));}}async function handlePayForMarketEntry(_0x18b5c1,_0x4aaf9c,_0x4a9a9a){const _0x27bbbd=_0x448927,_0xa579dc=doc(db,_0x27bbbd(0xa76)+appId+_0x27bbbd(0xdc)+currentLiveGameId+_0x27bbbd(0x610),_0x18b5c1);try{await runTransaction(db,async _0x599685=>{const _0x2cd172=_0x27bbbd,_0xff0700=await _0x599685[_0x2cd172(0xdbc)](_0xa579dc);if(!_0xff0700[_0x2cd172(0x14d)]())throw _0x2cd172(0x852);const _0x47b53d=_0xff0700['data']()[_0x2cd172(0xc38)]||0x0;if(_0x47b53d<0x1)throw _0x2cd172(0x130);const _0x2cfab7={};_0x2cfab7[_0x2cd172(0xc38)]=increment(-0x1),_0x599685['update'](_0xa579dc,_0x2cfab7);});const _0x1ff0a9={..._0x4a9a9a,'totalPoints':(_0x4a9a9a['totalPoints']||0x0)-0x1};openBlackMarket(_0x4aaf9c,_0x1ff0a9);}catch(_0x325a22){console['error'](_0x27bbbd(0x809),_0x325a22),showMessage(typeof _0x325a22===_0x27bbbd(0xdc5)?_0x325a22:_0x27bbbd(0x5a3));}}const audioCtx=new(window[(_0x448927(0x61d))]||window[(_0x448927(0xd51))])();function playSystemSound(_0x46dccd){const _0x54f837=_0x448927;if(audioCtx[_0x54f837(0x20e)]===_0x54f837(0xa1e))audioCtx[_0x54f837(0x4a2)]();const _0x56b9f8=audioCtx[_0x54f837(0x808)](),_0x5efbcb=audioCtx[_0x54f837(0xe48)]();_0x56b9f8[_0x54f837(0x1a9)](_0x5efbcb),_0x5efbcb[_0x54f837(0x1a9)](audioCtx['destination']);const _0x5bf6e9=audioCtx['currentTime'];if(_0x46dccd===_0x54f837(0xd30))_0x56b9f8[_0x54f837(0x4e4)]=_0x54f837(0xcb3),_0x56b9f8['frequency']['setValueAtTime'](0x258,_0x5bf6e9),_0x56b9f8[_0x54f837(0xdc1)][_0x54f837(0x860)](0x4b0,_0x5bf6e9+0.1),_0x5efbcb['gain'][_0x54f837(0x974)](0.1,_0x5bf6e9),_0x5efbcb[_0x54f837(0x87a)]['exponentialRampToValueAtTime'](0.01,_0x5bf6e9+0.5),_0x56b9f8[_0x54f837(0x197)](_0x5bf6e9),_0x56b9f8[_0x54f837(0x462)](_0x5bf6e9+0.5);else{if(_0x46dccd===_0x54f837(0x6d6))_0x56b9f8[_0x54f837(0x4e4)]='sawtooth',_0x56b9f8[_0x54f837(0xdc1)][_0x54f837(0x974)](0x96,_0x5bf6e9),_0x56b9f8[_0x54f837(0xdc1)][_0x54f837(0x860)](0x64,_0x5bf6e9+0.2),_0x5efbcb[_0x54f837(0x87a)][_0x54f837(0x974)](0.1,_0x5bf6e9),_0x5efbcb[_0x54f837(0x87a)][_0x54f837(0x860)](0.01,_0x5bf6e9+0.3),_0x56b9f8['start'](_0x5bf6e9),_0x56b9f8[_0x54f837(0x462)](_0x5bf6e9+0.3);else _0x46dccd===_0x54f837(0xe03)&&(_0x56b9f8[_0x54f837(0x4e4)]=_0x54f837(0xafb),_0x56b9f8['frequency'][_0x54f837(0x974)](0x12c,_0x5bf6e9),_0x56b9f8[_0x54f837(0xdc1)]['linearRampToValueAtTime'](0x258,_0x5bf6e9+0.1),_0x5efbcb['gain'][_0x54f837(0x974)](0.1,_0x5bf6e9),_0x5efbcb[_0x54f837(0x87a)][_0x54f837(0x66e)](0.01,_0x5bf6e9+0.3),_0x56b9f8['start'](_0x5bf6e9),_0x56b9f8['stop'](_0x5bf6e9+0.3));}}initialize();
