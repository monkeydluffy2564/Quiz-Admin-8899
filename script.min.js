const _0x544b94=_0x2ca3;(function(_0x269f79,_0x45cd82){const _0x367275=_0x2ca3,_0x4aa6ed=_0x269f79();while(!![]){try{const _0x3ebc08=-parseInt(_0x367275(0x58a))/0x1*(parseInt(_0x367275(0x657))/0x2)+parseInt(_0x367275(0x684))/0x3*(-parseInt(_0x367275(0x306))/0x4)+-parseInt(_0x367275(0x49f))/0x5+parseInt(_0x367275(0x2f5))/0x6*(parseInt(_0x367275(0x4c7))/0x7)+parseInt(_0x367275(0xee))/0x8+parseInt(_0x367275(0x2d7))/0x9+parseInt(_0x367275(0x602))/0xa*(parseInt(_0x367275(0xcd))/0xb);if(_0x3ebc08===_0x45cd82)break;else _0x4aa6ed['push'](_0x4aa6ed['shift']());}catch(_0x20833d){_0x4aa6ed['push'](_0x4aa6ed['shift']());}}}(_0x2860,0xc5fc9));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':_0x544b94(0x3e4),'name':_0x544b94(0x5e5)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x16a)},{'category':_0x544b94(0x3e4),'name':'การปัดเศษและประมาณค่า'},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x637)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x118)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x525)},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x5d7)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x38d)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x109)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x63c)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0xb8)},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x234)},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x29b)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x397)},{'category':'จำนวนและการดำเนินการ','name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x407)},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x1ee)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x552)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x104)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x67a)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x151)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x465)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x4d1)},{'category':_0x544b94(0x3e4),'name':'จำนวนคละ'},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x4e4)},{'category':_0x544b94(0x3e4),'name':'การบวกทศนิยม'},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x181)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x1fb)},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x145)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0xce)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x653)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x2de)},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x578)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0xd2)},{'category':'จำนวนและการดำเนินการ','name':_0x544b94(0x253)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x281)},{'category':_0x544b94(0x3e4),'name':_0x544b94(0x48e)},{'category':_0x544b94(0x34b),'name':_0x544b94(0x254)},{'category':_0x544b94(0x34b),'name':_0x544b94(0x5df)},{'category':_0x544b94(0x34b),'name':_0x544b94(0x527)},{'category':_0x544b94(0x34b),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x544b94(0x34b),'name':_0x544b94(0x380)},{'category':_0x544b94(0x34b),'name':_0x544b94(0x3f1)},{'category':_0x544b94(0x34b),'name':_0x544b94(0x1d6)},{'category':'การวัด','name':_0x544b94(0x469)},{'category':_0x544b94(0x34b),'name':_0x544b94(0x12b)},{'category':'การวัด','name':_0x544b94(0x144)},{'category':_0x544b94(0x34b),'name':_0x544b94(0x571)},{'category':_0x544b94(0x34b),'name':'มุมและการวัดมุม'},{'category':_0x544b94(0x34b),'name':'สเกลและแผนที่'},{'category':_0x544b94(0x34b),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x3fd)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x146)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x290)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x469)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x44b)},{'category':'เรขาคณิต','name':_0x544b94(0x610)},{'category':_0x544b94(0x4c0),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x335)},{'category':_0x544b94(0x4c0),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x2a4)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x4e0)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x550)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x5b9)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x45c)},{'category':_0x544b94(0x4c0),'name':_0x544b94(0x64c)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x1d2)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x13e)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x249)},{'category':_0x544b94(0xdb),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x544b94(0x559)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x33f)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x55e)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x3ad)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x544b94(0x52f)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x66a)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x178)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x2a3)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x301)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x589)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x2f6)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x5b2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x544b94(0x507)},{'category':_0x544b94(0xdb),'name':_0x544b94(0xf3)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x377)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x544b94(0x266)},{'category':_0x544b94(0xdb),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x544b94(0xdb),'name':_0x544b94(0x683)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x544b94(0x347)},{'category':_0x544b94(0xdb),'name':'ฟังก์ชันพหุนาม'},{'category':_0x544b94(0xdb),'name':_0x544b94(0x503)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x544b94(0x1d4)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x63f)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x25b)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x509)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x3fb)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x544b94(0xdb),'name':_0x544b94(0x288)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x544b94(0x19f)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x119)},{'category':_0x544b94(0xdb),'name':_0x544b94(0x487)},{'category':_0x544b94(0x599),'name':_0x544b94(0x577)},{'category':_0x544b94(0x599),'name':'ความชันและเส้นตรง'},{'category':_0x544b94(0x599),'name':_0x544b94(0x5fa)},{'category':_0x544b94(0x599),'name':_0x544b94(0x56a)},{'category':_0x544b94(0x599),'name':_0x544b94(0x149)},{'category':_0x544b94(0x599),'name':_0x544b94(0x13d)},{'category':'เรขาคณิตวิเคราะห์','name':_0x544b94(0x562)},{'category':_0x544b94(0x599),'name':_0x544b94(0x648)},{'category':_0x544b94(0x599),'name':'ไฮเพอร์โบลา'},{'category':_0x544b94(0x56c),'name':_0x544b94(0x1e9)},{'category':_0x544b94(0x56c),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':_0x544b94(0x3b6)},{'category':_0x544b94(0x56c),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x544b94(0x56c),'name':'กฎของไซน์'},{'category':_0x544b94(0x56c),'name':_0x544b94(0x56f)},{'category':_0x544b94(0x56c),'name':_0x544b94(0x3cf)},{'category':'ตรีโกณมิติ','name':_0x544b94(0xf7)},{'category':_0x544b94(0x56c),'name':_0x544b94(0x513)},{'category':_0x544b94(0x56c),'name':_0x544b94(0x63e)},{'category':_0x544b94(0x56c),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x544b94(0x199),'name':_0x544b94(0x531)},{'category':_0x544b94(0x199),'name':_0x544b94(0x1e1)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0x544b94(0x199),'name':_0x544b94(0x247)},{'category':_0x544b94(0x199),'name':_0x544b94(0x4bf)},{'category':_0x544b94(0x199),'name':_0x544b94(0x16b)},{'category':_0x544b94(0x199),'name':_0x544b94(0x1a0)},{'category':'สถิติและความน่าจะเป็น','name':'มัธยฐาน'},{'category':_0x544b94(0x199),'name':_0x544b94(0x270)},{'category':_0x544b94(0x199),'name':_0x544b94(0x121)},{'category':_0x544b94(0x199),'name':_0x544b94(0x272)},{'category':_0x544b94(0x199),'name':_0x544b94(0x441)},{'category':_0x544b94(0x199),'name':_0x544b94(0x4e7)},{'category':_0x544b94(0x199),'name':_0x544b94(0x359)},{'category':_0x544b94(0x199),'name':_0x544b94(0x35d)},{'category':_0x544b94(0x199),'name':_0x544b94(0x153)},{'category':_0x544b94(0x199),'name':_0x544b94(0x3b7)},{'category':_0x544b94(0x199),'name':_0x544b94(0xf8)},{'category':_0x544b94(0x199),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x544b94(0x496)},{'category':_0x544b94(0x199),'name':_0x544b94(0x3a3)},{'category':_0x544b94(0x199),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x544b94(0x199),'name':_0x544b94(0x1f0)},{'category':_0x544b94(0x199),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x544b94(0x41d),'name':_0x544b94(0x646)},{'category':_0x544b94(0x41d),'name':_0x544b94(0x677)},{'category':_0x544b94(0x41d),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':'แคลคูลัสเบื้องต้น','name':_0x544b94(0x248)},{'category':'แคลคูลัสเบื้องต้น','name':_0x544b94(0x574)},{'category':'แคลคูลัสเบื้องต้น','name':_0x544b94(0x36b)},{'category':_0x544b94(0x41d),'name':_0x544b94(0x14d)},{'category':_0x544b94(0x41d),'name':_0x544b94(0x673)},{'category':_0x544b94(0x41d),'name':_0x544b94(0xf5)},{'category':'แคลคูลัสเบื้องต้น','name':_0x544b94(0x1d5)},{'category':_0x544b94(0x41d),'name':_0x544b94(0x1b2)},{'category':_0x544b94(0x41d),'name':_0x544b94(0x245)},{'category':_0x544b94(0x41d),'name':_0x544b94(0x402)},{'category':_0x544b94(0x65e),'name':_0x544b94(0x28b)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x544b94(0x1d8)},{'category':_0x544b94(0x65e),'name':_0x544b94(0x3ce)},{'category':_0x544b94(0x65e),'name':_0x544b94(0x2f7)},{'category':_0x544b94(0x65e),'name':_0x544b94(0x411)},{'category':_0x544b94(0x65e),'name':_0x544b94(0x588)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x544b94(0x558)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x544b94(0x210),'name':'ดอกเบี้ยทบต้น'},{'category':_0x544b94(0x210),'name':_0x544b94(0x311)},{'category':_0x544b94(0x210),'name':_0x544b94(0x229)},{'category':_0x544b94(0x210),'name':'ร้อยละประยุกต์'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x544b94(0x170)},{'category':_0x544b94(0x65b),'name':'รูปแบบการให้เหตุผล'},{'category':_0x544b94(0x65b),'name':_0x544b94(0x564)}];function renderTopicCheckboxes(){const _0x382031=_0x544b94,_0xa25428=document[_0x382031(0x365)](_0x382031(0x374));if(!_0xa25428)return;const _0x5be35d=allMathTopics,_0x317aca=customMathTopics[_0x382031(0x24a)](_0x3dce61=>({'id':_0x3dce61['id'],'category':_0x382031(0x3dd),'name':_0x3dce61[_0x382031(0x26f)]})),_0x1f6a61=[..._0x5be35d,..._0x317aca],_0x326fb6=_0x1f6a61[_0x382031(0x30f)]((_0x16f610,_0x2fc40c)=>{const _0x100269=_0x382031;return!_0x16f610[_0x2fc40c[_0x100269(0x2ed)]]&&(_0x16f610[_0x2fc40c[_0x100269(0x2ed)]]=[]),_0x16f610[_0x2fc40c[_0x100269(0x2ed)]][_0x100269(0x517)](_0x2fc40c),_0x16f610;},{});let _0x4f140e='';const _0x42d9d2=[_0x382031(0x3dd),...Object[_0x382031(0x2b2)](_0x326fb6)[_0x382031(0x371)](_0x3b93da=>_0x3b93da!==_0x382031(0x3dd))];for(const _0x38a7d4 of _0x42d9d2){if(_0x326fb6[_0x38a7d4]){const _0x296a0a=_0x38a7d4==='หัวข้อที่สร้างเอง',_0x123d09=_0x296a0a?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0xf02f2=_0x296a0a?'text-blue-700':_0x382031(0x3e9);_0x4f140e+=_0x382031(0x5dd),_0x4f140e+=_0x382031(0x4fb)+_0xf02f2+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x123d09+_0x382031(0x60f)+_0x38a7d4+_0x382031(0x3a8),_0x326fb6[_0x38a7d4][_0x382031(0x34d)](_0x4a5d0c=>{const _0x31892d=_0x382031;_0x296a0a?_0x4f140e+=_0x31892d(0xf1)+_0x4a5d0c['id']+_0x31892d(0x57f)+_0x4a5d0c[_0x31892d(0x26f)]+_0x31892d(0x22e)+_0x4a5d0c['name']+_0x31892d(0xd0)+_0x4a5d0c[_0x31892d(0x26f)]+'\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a5d0c['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a5d0c['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a5d0c['id']+_0x31892d(0x31e)+_0x4a5d0c['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4f140e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x4a5d0c[_0x31892d(0x26f)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x4a5d0c['name']+_0x31892d(0x3d8);}),_0x4f140e+='</div>';}}_0xa25428[_0x382031(0x464)]=_0x4f140e||_0x382031(0x403),_0xa25428[_0x382031(0x607)](_0x382031(0x47a),updateSelectedTopicsCount),_0xa25428[_0x382031(0x303)](_0x382031(0x47a),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3073dd,_0x2441c8){const _0x1d8604=_0x544b94;if(!_0x3073dd||!_0x2441c8[_0x1d8604(0x25a)]()){showMessage(_0x1d8604(0x655));return;}try{const _0x3d2453=doc(db,_0x1d8604(0x430)+appId+'/public/data/customMathTopics',_0x3073dd);await updateDoc(_0x3d2453,{'name':_0x2441c8[_0x1d8604(0x25a)]()}),showMessage(_0x1d8604(0x457));}catch(_0x4f3ad4){console[_0x1d8604(0x4a9)](_0x1d8604(0x4c5),_0x4f3ad4),showMessage(_0x1d8604(0x485));}}function toggleTopicEditMode(_0x55c246,_0x34b93b){const _0x424d42=_0x544b94;if(!_0x55c246)return;const _0x4aa5b0=_0x55c246[_0x424d42(0x323)](_0x424d42(0x57b)),_0x983706=_0x55c246['querySelector'](_0x424d42(0x3bd)),_0x13b1f1=_0x55c246[_0x424d42(0x323)](_0x424d42(0x436)),_0x1050bd=_0x55c246[_0x424d42(0x323)](_0x424d42(0x2c7));_0x4aa5b0[_0x424d42(0x1da)][_0x424d42(0x1ec)]('hidden',_0x34b93b),_0x983706[_0x424d42(0x1da)][_0x424d42(0x1ec)](_0x424d42(0x5ba),!_0x34b93b),_0x13b1f1[_0x424d42(0x1da)]['toggle'](_0x424d42(0x5ba),_0x34b93b),_0x1050bd[_0x424d42(0x1da)][_0x424d42(0x1ec)](_0x424d42(0x5ba),!_0x34b93b),_0x34b93b&&(_0x983706[_0x424d42(0x1f8)](),_0x983706[_0x424d42(0x18e)]());}function updateSelectedTopicsCount(){const _0x23c2be=_0x544b94,_0x50b343=document[_0x23c2be(0x365)](_0x23c2be(0x374)),_0x3bc291=_0x50b343[_0x23c2be(0x57e)](_0x23c2be(0x563))[_0x23c2be(0x317)],_0x2f3784=document['getElementById'](_0x23c2be(0x1ff));_0x3bc291>0x0?_0x2f3784[_0x23c2be(0x5c3)]=_0x23c2be(0xe2)+_0x3bc291+'\x20หัวข้อ)':_0x2f3784['textContent']='';}let db,auth,userId,customMathTopics=[],currentMode=_0x544b94(0x628),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x544b94(0x30e),quizLeaderboardSortOrder=_0x544b94(0x568),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x544b94(0x1f9),'name':_0x544b94(0x273),'description':_0x544b94(0x524),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x544b94(0x400),'name':_0x544b94(0xed),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x544b94(0x635)},'ON_FIRE':{'id':_0x544b94(0x4ed),'name':'ท็อปฟอร์ม','description':_0x544b94(0x1ef),'icon':_0x544b94(0x342)},'FIRST_TRY_ACE':{'id':_0x544b94(0x4db),'name':'ผ่านฉลุย','description':_0x544b94(0x4b3),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x544b94(0x539),'name':'ราชาคัมแบ็ก','description':_0x544b94(0x214),'icon':_0x544b94(0x21f)},'SPECIALIST':{'id':'specialist','name':_0x544b94(0x159),'description':_0x544b94(0xde),'icon':_0x544b94(0x16c)},'PERSEVERANCE':{'id':_0x544b94(0x1e8),'name':_0x544b94(0x1af),'description':_0x544b94(0x103),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x544b94(0x194),'authDomain':_0x544b94(0x560),'projectId':'ai-quiz-app-aefee','storageBucket':_0x544b94(0x1dc),'messagingSenderId':_0x544b94(0x125),'appId':_0x544b94(0x481),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x544b94(0x12d)?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById'](_0x544b94(0x1ab)),studentView=document[_0x544b94(0x365)](_0x544b94(0x55f)),projectDashboardView=document[_0x544b94(0x365)]('project-dashboard-view'),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document['getElementById'](_0x544b94(0x4cf)),projectList=document['getElementById'](_0x544b94(0x341)),noProjectsMsg=document['getElementById'](_0x544b94(0x38e)),projectTitle=document['getElementById'](_0x544b94(0x675)),projectIdDisplay=document[_0x544b94(0x365)](_0x544b94(0x193)),studentList=document[_0x544b94(0x365)](_0x544b94(0x4b1)),messageModal=document[_0x544b94(0x365)](_0x544b94(0x3dc)),modalMessage=document['getElementById'](_0x544b94(0x59b)),createProjectModal=document['getElementById'](_0x544b94(0x545)),adminPasswordModal=document[_0x544b94(0x365)](_0x544b94(0x20a)),confirmationModal=document[_0x544b94(0x365)](_0x544b94(0x49b)),userIdDisplay=document[_0x544b94(0x365)](_0x544b94(0x5d2)),topicTab=document[_0x544b94(0x365)](_0x544b94(0x479)),textTab=document[_0x544b94(0x365)](_0x544b94(0x5a1)),topicInputArea=document['getElementById'](_0x544b94(0xbc)),textInputArea=document['getElementById'](_0x544b94(0x41f)),manageTab=document[_0x544b94(0x365)](_0x544b94(0x502)),resultsTab=document[_0x544b94(0x365)](_0x544b94(0x2e8)),leaderboardTab=document[_0x544b94(0x365)](_0x544b94(0x5e3)),manageTabContent=document['getElementById'](_0x544b94(0x5bd)),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x544b94(0x365)](_0x544b94(0x283)),projectQuizzesList=document[_0x544b94(0x365)]('project-quizzes-list'),fileTab=document[_0x544b94(0x365)](_0x544b94(0xbb)),fileInputArea=document['getElementById'](_0x544b94(0x2f1)),fileUploadInput=document[_0x544b94(0x365)](_0x544b94(0x3b0)),worksheetTab=document[_0x544b94(0x365)](_0x544b94(0x302)),worksheetInputArea=document[_0x544b94(0x365)]('worksheet-input-area'),generateWorksheetBtn=document['getElementById'](_0x544b94(0x4a3)),studentInitialView=document[_0x544b94(0x365)](_0x544b94(0x18d)),studentNameSelectionView=document[_0x544b94(0x365)](_0x544b94(0x462)),studentQuizArea=document['getElementById'](_0x544b94(0x3be)),studentResultArea=document[_0x544b94(0x365)](_0x544b94(0x50f)),studentReadingArea=document['getElementById'](_0x544b94(0x51d)),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x544b94(0x365)](_0x544b94(0x483)),studentJoinGameView=document[_0x544b94(0x365)](_0x544b94(0x34f)),presentationModal=document[_0x544b94(0x365)](_0x544b94(0x43f)),renameQuizModal=document[_0x544b94(0x365)](_0x544b94(0x1cb)),moveQuizModal=document[_0x544b94(0x365)](_0x544b94(0x28f)),quizSettingsModal=document[_0x544b94(0x365)](_0x544b94(0x22c)),quizStatusModal=document[_0x544b94(0x365)](_0x544b94(0x2d9)),liveGameView=document[_0x544b94(0x365)]('live-game-view');function handleAutoFixLatex(){const _0x56a596=_0x544b94,_0x40f5a8=document[_0x56a596(0x365)]('quiz-editor-questions-container')||document,_0x40efb2=_0x40f5a8[_0x56a596(0x57e)](['textarea',_0x56a596(0x3e5),_0x56a596(0x409),'[role=\x22textbox\x22]','.ql-editor',_0x56a596(0x592),_0x56a596(0x681),_0x56a596(0x1f7),_0x56a596(0x261)]['join'](','));let _0x49191a=0x0;const _0x485dc7=_0x25cb06=>_0x56a596(0x601)in _0x25cb06?String(_0x25cb06['value']):_0x25cb06[_0x56a596(0x3ec)]!==undefined?_0x25cb06['innerText']:_0x25cb06['textContent']||'',_0x40b5f0=(_0x19ee39,_0x272575)=>{const _0x42e7af=_0x56a596;if('value'in _0x19ee39){_0x19ee39[_0x42e7af(0x601)]=_0x272575;return;}if(_0x19ee39[_0x42e7af(0x323)]&&_0x19ee39[_0x42e7af(0x323)](_0x42e7af(0x179)))return;if(_0x19ee39[_0x42e7af(0x3ec)]!==undefined)_0x19ee39['innerText']=_0x272575;else _0x19ee39[_0x42e7af(0x5c3)]=_0x272575;},_0x392adc=_0x1514ac=>_0x1514ac[_0x56a596(0x626)](/\u00A0/g,'\x20')[_0x56a596(0x626)](/\u200B/g,'')[_0x56a596(0x626)](/\r\n?/g,'\x0a'),_0x1f0d07=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x11d76b=_0x497f7c=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x497f7c),_0x3982ef=_0x33b899=>{const _0x2e83bb=_0x56a596,_0x1cb531=(_0x33b899[_0x2e83bb(0x1ac)](/\{/g)||[])['length'],_0x3a8fb4=(_0x33b899[_0x2e83bb(0x1ac)](/\}/g)||[])[_0x2e83bb(0x317)];if(_0x1cb531>_0x3a8fb4)_0x33b899=_0x33b899+'}'['repeat'](_0x1cb531-_0x3a8fb4);return _0x33b899;},_0x14feba=_0x282324=>{const _0x2b3cf4=_0x56a596;let _0x4f4eaa=_0x282324[_0x2b3cf4(0x25a)]();const _0x8c4ec3=[_0x2b3cf4(0x412),_0x2b3cf4(0x31d),_0x2b3cf4(0x138),_0x2b3cf4(0x28d),_0x2b3cf4(0x2a5),'times','cdot',_0x2b3cf4(0x2b5),_0x2b3cf4(0x3bb),'geq','le','ge',_0x2b3cf4(0x3c6),'pm',_0x2b3cf4(0x4bd),_0x2b3cf4(0x10f),'cos','tan',_0x2b3cf4(0x2ef),'ln',_0x2b3cf4(0x4c2),'prod',_0x2b3cf4(0x658),_0x2b3cf4(0x47e),'right',_0x2b3cf4(0x5d6),_0x2b3cf4(0x278),_0x2b3cf4(0x215),'deg'];_0x4f4eaa=_0x4f4eaa[_0x2b3cf4(0x626)](new RegExp(_0x2b3cf4(0x12c)+_0x8c4ec3[_0x2b3cf4(0x4a5)]('|')+')\x5cb)','g'),'\x5c'),_0x8c4ec3['forEach'](_0x25fe2f=>{const _0x4bcee3=_0x2b3cf4;_0x4f4eaa=_0x4f4eaa[_0x4bcee3(0x626)](new RegExp(_0x4bcee3(0x27e)+_0x25fe2f+'\x5cb','g'),(_0x117b72,_0x127850)=>_0x127850+'\x5c'+_0x25fe2f);});const _0x31390e=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x2b3cf4(0x566)],[/≥/g,_0x2b3cf4(0xcb)],[/≠/g,_0x2b3cf4(0x53b)],[/±/g,_0x2b3cf4(0x1d3)],[/∑/g,_0x2b3cf4(0x100)],[/−/g,'-']];_0x31390e[_0x2b3cf4(0x34d)](([_0x4569b9,_0x55c9d8])=>{const _0xfb40a3=_0x2b3cf4;_0x4f4eaa=_0x4f4eaa[_0xfb40a3(0x626)](_0x4569b9,_0x55c9d8);}),_0x4f4eaa=_0x4f4eaa['replace'](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x4f4eaa=_0x4f4eaa[_0x2b3cf4(0x626)](/√\s*([A-Za-z0-9]+)/g,_0x2b3cf4(0x47d)),_0x4f4eaa=_0x4f4eaa[_0x2b3cf4(0x626)](/(^|[^\\])\bimes\b/g,_0x2b3cf4(0x295))['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x2b3cf4(0x626)](/(^|[^\\])ext\{/g,_0x2b3cf4(0x541))[_0x2b3cf4(0x626)](/(^|[^\\])ext\(/g,_0x2b3cf4(0x634))[_0x2b3cf4(0x626)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x2b3cf4(0x626)](/\s\\frac/g,_0x2b3cf4(0x4a4)),_0x4f4eaa=_0x4f4eaa['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0xb15172,_0x450ac4,_0x177d42,_0x552e1e)=>_0x450ac4+_0x2b3cf4(0x186)+_0x177d42+'}{'+_0x552e1e+'}'),_0x4f4eaa=_0x4f4eaa[_0x2b3cf4(0x626)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x2b3cf4(0x44e))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2b3cf4(0x44e))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x2b3cf4(0x326)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2b3cf4(0x326)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x2b3cf4(0x326)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x2b3cf4(0x326)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2b3cf4(0x326)],[/(\d+)\s*°\s*C/g,_0x2b3cf4(0x326)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x2b3cf4(0x2f9)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x2b3cf4(0x34d)](([_0x19a60c,_0x41f7ad])=>{const _0x4b7471=_0x2b3cf4;_0x4f4eaa=_0x4f4eaa[_0x4b7471(0x626)](_0x19a60c,_0x41f7ad);}),_0x4f4eaa=_0x4f4eaa[_0x2b3cf4(0x626)](/(\d+)\s*%/g,_0x2b3cf4(0xc6)),_0x4f4eaa=_0x4f4eaa[_0x2b3cf4(0x626)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2b3cf4(0x4ea))[_0x2b3cf4(0x626)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2b3cf4(0x19d))[_0x2b3cf4(0x626)](/\{\{([^\{\}]+)\}\}/g,_0x2b3cf4(0x2ea)),['sin','cos','tan',_0x2b3cf4(0x2ef),'ln'][_0x2b3cf4(0x34d)](_0x5118=>{const _0x5b631f=_0x2b3cf4;_0x4f4eaa=_0x4f4eaa[_0x5b631f(0x626)](new RegExp(_0x5b631f(0x27e)+_0x5118+_0x5b631f(0x33c),'g'),(_0x3efd7a,_0x82e913)=>_0x82e913+'\x5c'+_0x5118+'(');});const _0x7fd5db=(_0x4f4eaa['match'](/\\left\b/g)||[])[_0x2b3cf4(0x317)],_0x691c98=(_0x4f4eaa[_0x2b3cf4(0x1ac)](/\\right\b/g)||[])[_0x2b3cf4(0x317)];if(_0x7fd5db!==_0x691c98)_0x4f4eaa=_0x4f4eaa[_0x2b3cf4(0x626)](/\\left\b/g,'')[_0x2b3cf4(0x626)](/\\right\b/g,'');return _0x4f4eaa=_0x3982ef(_0x4f4eaa),_0x4f4eaa;},_0xf7cb1=_0x28b8cb=>{const _0x28f38e=_0x56a596;if(/\$|\\\(|\\\[/[_0x28f38e(0x238)](_0x28b8cb))return _0x28b8cb;if(!_0x1f0d07['test'](_0x28b8cb))return _0x28b8cb;const _0x5cbc94=_0x28b8cb[_0x28f38e(0x1ac)](/^\s*/)[0x0],_0x142af2=_0x28b8cb['match'](/\s*$/)[0x0],_0x4870dc=_0x28b8cb['trim']();return _0x5cbc94+'$'+_0x14feba(_0x4870dc)+'$'+_0x142af2;},_0x47439b=_0x7d16e6=>_0x7d16e6['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x40efb2[_0x56a596(0x34d)](_0x105c66=>{const _0x531899=_0x56a596;if(_0x105c66['querySelector']&&_0x105c66[_0x531899(0x323)](_0x531899(0x179)))return;const _0x36d5d7=_0x485dc7(_0x105c66);let _0x32d817=_0x392adc(_0x36d5d7);_0x32d817=_0x32d817[_0x531899(0x626)](/\$\$([\s\S]*?)\$\$/g,(_0x55e477,_0x40b537)=>'$$'+_0x14feba(_0x40b537)+'$$')[_0x531899(0x626)](/\$([^$]*?)\$/g,(_0x28df61,_0x5ef20d)=>'$'+_0x14feba(_0x5ef20d)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x1dd45f,_0x2ddc02)=>'\x5c('+_0x14feba(_0x2ddc02)+'\x5c)')[_0x531899(0x626)](/\\\[([\s\S]*?)\\\]/g,(_0x18a5b6,_0x2a431a)=>'\x5c['+_0x14feba(_0x2a431a)+'\x5c]');let _0x55ff60=_0x32d817,_0x5a81cf=0x0;const _0x391bdb=_0x9b908d=>_0x9b908d[_0x531899(0x626)](/S([^S]{0,2000}?)S/g,(_0x6a7947,_0x4a5c38)=>_0x1f0d07[_0x531899(0x238)](_0x4a5c38)?'$'+_0x14feba(_0x4a5c38)+'$':_0x6a7947);while(_0x5a81cf++<0x14){const _0x373ab0=_0x391bdb(_0x55ff60);if(_0x373ab0===_0x55ff60)break;_0x55ff60=_0x373ab0;}_0x32d817=_0x55ff60,_0x32d817=_0x32d817[_0x531899(0x4eb)]('\x0a')[_0x531899(0x24a)](_0x3fb46e=>{const _0x1abd6e=_0x531899;if(!(/[,\u3001，;；]/['test'](_0x3fb46e)||/\s(?:และ|หรือ)\s/[_0x1abd6e(0x238)](_0x3fb46e))||!_0x1f0d07['test'](_0x3fb46e))return _0x3fb46e;return _0x47439b(_0x3fb46e)[_0x1abd6e(0x24a)](_0x3c97e6=>{const _0x2154a4=_0x1abd6e;if(/^\s(?:และ|หรือ)\s$/[_0x2154a4(0x238)](_0x3c97e6)||/^[,\u3001，;；]$/[_0x2154a4(0x238)](_0x3c97e6))return _0x3c97e6;return _0xf7cb1(_0x3c97e6);})['join']('');})[_0x531899(0x4a5)]('\x0a'),_0x32d817=_0x32d817[_0x531899(0x4eb)]('\x0a')['map'](_0x2e772b=>{const _0x3c4623=_0x531899,_0x5c4c04=_0x2e772b[_0x3c4623(0x25a)]();if(!_0x5c4c04)return _0x2e772b;const _0x43531b=/\$|\\\(|\\\[/['test'](_0x5c4c04),_0x2f9313=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x3c4623(0x238)](_0x5c4c04);if(_0x43531b||!_0x2f9313||_0x11d76b(_0x5c4c04))return _0x2e772b;return _0x2e772b[_0x3c4623(0x626)](_0x5c4c04,'$'+_0x14feba(_0x5c4c04)+'$');})[_0x531899(0x4a5)]('\x0a'),_0x32d817=_0x32d817[_0x531899(0x626)](/(\d+)\s*°\s*C\b/g,(_0x23b745,_0x3be317,_0x543f4c,_0x386ed9)=>{const _0x448d22=_0x531899,_0x3d9eed=_0x386ed9[_0x543f4c-0x1];if(_0x3d9eed==='$'||_0x3d9eed==='S'||_0x3d9eed==='\x5c')return _0x23b745;return'$'+_0x3be317+_0x448d22(0x434);})[_0x531899(0x626)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x2d5df9,_0x169e79,_0x35e766,_0x3c0fd8)=>{const _0x83bb1a=_0x531899,_0x2f9d12=_0x3c0fd8[_0x35e766-0x1];if(_0x2f9d12==='$'||_0x2f9d12==='S'||_0x2f9d12==='\x5c')return _0x2d5df9;return'$'+_0x169e79+_0x83bb1a(0x434);})[_0x531899(0x626)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x55becf,_0x2c2100,_0x56caaf,_0xfa7645)=>{const _0x498ca8=_0xfa7645[_0x56caaf-0x1];if(_0x498ca8==='$'||_0x498ca8==='S'||_0x498ca8==='\x5c')return _0x55becf;return'$'+_0x2c2100+'^{\x5ccirc}\x5ctext{C}$';}),_0x32d817=_0x32d817['replace'](/\$\s*\$/g,'$$'),_0x32d817!==_0x36d5d7&&(_0x40b5f0(_0x105c66,_0x32d817),_0x49191a++);});if(_0x49191a>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x49191a+_0x56a596(0x340));try{if(window[_0x56a596(0x1c9)]&&MathJax['typesetPromise'])MathJax[_0x56a596(0x606)]();window[_0x56a596(0x475)]&&typeof renderMathInElement===_0x56a596(0x2d2)&&renderMathInElement(_0x40f5a8,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x1b0db1){}}else showMessage(_0x56a596(0x674));}async function listenForCustomMathTopics(){const _0x3d4f6d=_0x544b94,_0x39ef01=collection(db,_0x3d4f6d(0x430)+appId+_0x3d4f6d(0x3b4));onSnapshot(_0x39ef01,_0x231853=>{const _0x2bf639=_0x3d4f6d;customMathTopics=_0x231853['docs']['map'](_0x257735=>({'id':_0x257735['id'],..._0x257735[_0x2bf639(0x29f)]()})),renderTopicCheckboxes();},_0x1a0789=>{const _0x149bc3=_0x3d4f6d;console[_0x149bc3(0x4a9)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x1a0789);});}function handleSelectAllTopics(){const _0x48b202=_0x544b94,_0x33aa68=document['getElementById'](_0x48b202(0x374)),_0x3c8abf=_0x33aa68[_0x48b202(0x57e)](_0x48b202(0x298));_0x3c8abf['forEach'](_0x9a719e=>{const _0xb63d97=_0x48b202;_0x9a719e[_0xb63d97(0x21e)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x33e970=_0x544b94,_0x3d7b87=document[_0x33e970(0x365)]('math-topics-checkbox-container'),_0x425e21=_0x3d7b87[_0x33e970(0x57e)]('input[type=\x22checkbox\x22]');_0x425e21[_0x33e970(0x34d)](_0xa74c29=>{const _0x4fd70f=_0x33e970;_0xa74c29[_0x4fd70f(0x21e)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x954bd1){const _0x540138=_0x544b94;if(!_0x954bd1)return;try{const _0x3552f7=doc(db,_0x540138(0x430)+appId+_0x540138(0x3b4),_0x954bd1);await deleteDoc(_0x3552f7),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x2c067e){console[_0x540138(0x4a9)](_0x540138(0x155),_0x2c067e),showMessage(_0x540138(0x21c));}}async function handleAddCustomMathTopic(){const _0x2a8976=_0x544b94,_0x550d47=document['getElementById'](_0x2a8976(0x176)),_0x431a24=_0x550d47['value'][_0x2a8976(0x25a)]();if(!_0x431a24){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x2a8976(0x678));return;}try{const _0x135920=collection(db,_0x2a8976(0x430)+appId+_0x2a8976(0x3b4));await addDoc(_0x135920,{'name':_0x431a24,'createdAt':serverTimestamp()}),_0x550d47['value']='',showMessage(_0x2a8976(0x318)+_0x431a24+_0x2a8976(0xb2));}catch(_0x4176ae){console[_0x2a8976(0x4a9)]('Error\x20adding\x20custom\x20topic:',_0x4176ae),showMessage(_0x2a8976(0x105));}}async function initialize(){const _0x3f3962=_0x544b94;try{const _0x2931b7=initializeApp(firebaseConfig);db=getFirestore(_0x2931b7),auth=getAuth(_0x2931b7),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes();}catch(_0x342ee9){console['error'](_0x3f3962(0x3e3),_0x342ee9),showMessage(_0x3f3962(0x1e3));}}function compareNumericalAnswers(_0x3e0ad0,_0xd00dde){const _0x4a8f78=_0x544b94,_0x37400a=String(_0x3e0ad0)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x4a8f78(0x25a)](),_0xc5e4d5=String(_0xd00dde)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x4a8f78(0x25a)]();if(_0x37400a===''||_0xc5e4d5==='')return![];const _0x371610=parseFloat(_0x37400a),_0x1a6fff=parseFloat(_0xc5e4d5);if(isNaN(_0x371610)||isNaN(_0x1a6fff))return![];return Math[_0x4a8f78(0x3b3)](_0x371610-_0x1a6fff)<0.001;}async function gradeShortAnswer(_0x4969a6,_0x41c730){const _0x59529e=_0x544b94,_0x14253c=_0x41c730[_0x59529e(0x43a)];if(String(_0x4969a6)[_0x59529e(0x25a)]()[_0x59529e(0x5b0)]()===String(_0x14253c)[_0x59529e(0x25a)]()[_0x59529e(0x5b0)]())return!![];if(compareNumericalAnswers(_0x4969a6,_0x14253c))return!![];return console['log'](_0x59529e(0xc8)),await gradeShortAnswerWithAI(_0x4969a6,_0x14253c);}async function revealAnswerForAdmin(_0x289f2d,_0x1c079b){const _0x3a3d7d=_0x544b94;if(document['getElementById'](_0x3a3d7d(0x5e9)))return;const _0x469170=doc(db,_0x3a3d7d(0x430)+appId+_0x3a3d7d(0x5da),currentLiveGameId);await updateDoc(_0x469170,{'questionStatus':_0x3a3d7d(0x60e)});const _0x5387d4=liveGameView[_0x3a3d7d(0x323)](_0x3a3d7d(0x48a));_0x5387d4&&(_0x5387d4[_0x3a3d7d(0x1da)][_0x3a3d7d(0x221)](_0x3a3d7d(0x239)),_0x5387d4[_0x3a3d7d(0x1da)][_0x3a3d7d(0x114)](_0x3a3d7d(0x2b9),'text-green-900',_0x3a3d7d(0x2c6),_0x3a3d7d(0x44f),_0x3a3d7d(0x338)),_0x5387d4['innerHTML']=_0x3a3d7d(0x555)+_0x5387d4[_0x3a3d7d(0x464)]);const _0x377544=document['getElementById'](_0x3a3d7d(0x649));_0x377544&&(_0x377544[_0x3a3d7d(0x464)]=_0x3a3d7d(0x328)+(_0x289f2d+0x1===_0x1c079b?_0x3a3d7d(0xac):'ข้อต่อไป')+_0x3a3d7d(0x343),document['getElementById'](_0x3a3d7d(0x5e9))[_0x3a3d7d(0x303)](_0x3a3d7d(0x136),async()=>{const _0x1f8996=_0x3a3d7d,_0x48cfac=doc(db,_0x1f8996(0x430)+appId+_0x1f8996(0x5da),currentLiveGameId),_0x531fc2=await getDoc(_0x48cfac);if(!_0x531fc2[_0x1f8996(0x11b)]())return;const _0x10b966=_0x531fc2[_0x1f8996(0x29f)](),_0x1f8b54={};if(_0x10b966[_0x1f8996(0x274)])for(const _0x46240e in _0x10b966[_0x1f8996(0x274)]){_0x1f8b54['players.'+_0x46240e+_0x1f8996(0x5c6)]=![];}const _0x4966be=_0x289f2d+0x1;_0x4966be<_0x1c079b?(_0x1f8b54['currentQuestionIndex']=_0x4966be,_0x1f8b54[_0x1f8996(0x5d3)]=serverTimestamp(),_0x1f8b54['questionStatus']=_0x1f8996(0x264),await updateDoc(_0x48cfac,_0x1f8b54)):await updateDoc(_0x48cfac,{'status':_0x1f8996(0x660)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x2deacc=>{const _0x20ed65=_0x2ca3;if(_0x2deacc){userId=_0x2deacc[_0x20ed65(0x5a0)],userIdDisplay[_0x20ed65(0x5c3)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x7d9368){const _0x168768=_0x544b94,_0x1c06cf=Object[_0x168768(0x666)](_0x7d9368)[_0x168768(0x24a)](([_0x5a16eb,_0x5b9bac])=>({'name':_0x5a16eb,'score':_0x5b9bac[_0x168768(0x3e6)]||0x0,'badges':_0x5b9bac[_0x168768(0x5b8)]||[]}));_0x1c06cf[_0x168768(0x2b6)]((_0x5164f6,_0x3131b1)=>{const _0x40baf0=_0x168768,_0x2290cc=_0x3131b1[_0x40baf0(0x3e6)]-_0x5164f6['score'];if(_0x2290cc!==0x0)return _0x2290cc;return(_0x3131b1[_0x40baf0(0x5b8)]['length']||0x0)-(_0x5164f6[_0x40baf0(0x5b8)][_0x40baf0(0x317)]||0x0);});const _0x22a401=_0x51da1a=>{const _0x119646=_0x168768;if(!_0x51da1a||_0x51da1a[_0x119646(0x317)]===0x0)return'';const _0x49ff9c={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x51da1a[_0x119646(0x24a)](_0x2fdad8=>_0x49ff9c[_0x2fdad8]||'')[_0x119646(0x4a5)]('')+_0x119646(0x137);},_0x103c88=_0x1c06cf[_0x168768(0x2dc)](0x3),_0x1c13b2=_0x103c88[_0x168768(0x317)]>0x0?_0x168768(0x486)+_0x103c88[_0x168768(0x24a)]((_0x674019,_0x51a603)=>_0x168768(0x259)+(_0x51a603+0x4)+_0x168768(0x5eb)+_0x674019[_0x168768(0x26f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x674019[_0x168768(0x3e6)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x168768(0x252):'',_0x371115=_0x168768(0x50c)+(_0x1c06cf[0x1]?_0x168768(0x504)+_0x1c06cf[0x1][_0x168768(0x26f)]+_0x168768(0x294)+_0x22a401(_0x1c06cf[0x1]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x1c06cf[0x1][_0x168768(0x3e6)]+_0x168768(0x2f3):_0x168768(0x460))+_0x168768(0xc3)+(_0x1c06cf[0x0]?_0x168768(0x630)+_0x1c06cf[0x0][_0x168768(0x26f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22a401(_0x1c06cf[0x0][_0x168768(0x5b8)])+_0x168768(0x55c)+_0x1c06cf[0x0][_0x168768(0x3e6)]+_0x168768(0x21b):_0x168768(0x460))+_0x168768(0xc3)+(_0x1c06cf[0x2]?_0x168768(0x387)+_0x1c06cf[0x2][_0x168768(0x26f)]+_0x168768(0x294)+_0x22a401(_0x1c06cf[0x2][_0x168768(0x5b8)])+_0x168768(0x1c7)+_0x1c06cf[0x2][_0x168768(0x3e6)]+_0x168768(0x458):'<div\x20class=\x22flex-1\x22></div>')+_0x168768(0x3c8)+_0x1c13b2+_0x168768(0x327)+(currentMode==='admin'?_0x168768(0x59d):_0x168768(0x1bd))+_0x168768(0x188);liveGameView[_0x168768(0x464)]=_0x371115,currentMode==='admin'&&document['getElementById'](_0x168768(0x587))[_0x168768(0x303)]('click',async()=>{const _0x2a9881=_0x168768,_0x455064=doc(db,_0x2a9881(0x430)+appId+_0x2a9881(0x5da),currentLiveGameId);await deleteDoc(_0x455064),showView(_0x2a9881(0x392));});}async function handleStartLiveRace(_0x550e44){const _0xee349a=_0x544b94;let _0xb305ce=allQuizzes[_0xee349a(0x575)](_0xb63a0d=>_0xb63a0d['id']===_0x550e44);if(!_0xb305ce){const _0xb74fc=doc(db,'artifacts/'+appId+_0xee349a(0x394),_0x550e44),_0x1a3405=await getDoc(_0xb74fc);if(!_0x1a3405['exists']()){showMessage(_0xee349a(0x26d));return;}_0xb305ce={'id':_0x1a3405['id'],..._0x1a3405[_0xee349a(0x29f)]()};}currentQuizData=getShuffledQuiz(_0xb305ce);const _0x2f1d2b=_0xb305ce[_0xee349a(0x2cd)]||currentProjectId||null,_0x37f1f7=Math[_0xee349a(0x1d0)](0x3e8+Math[_0xee349a(0x54c)]()*0x2328)[_0xee349a(0x123)]();currentLiveGamePin=_0x37f1f7;try{const _0x43bfce=await addDoc(collection(db,_0xee349a(0x430)+appId+'/public/data/liveGames'),{'quizId':_0x550e44,'projectId':_0x2f1d2b,'status':_0xee349a(0x65c),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x37f1f7,'createdAt':serverTimestamp()});currentLiveGameId=_0x43bfce['id'],showAdminLobbyView(_0x37f1f7,_0xb305ce[_0xee349a(0x547)]),listenForLiveGameUpdates();}catch(_0xf0d1f4){console[_0xee349a(0x4a9)](_0xee349a(0x173),_0xf0d1f4),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x21ca23=_0x544b94,_0x3e5cd5=document[_0x21ca23(0x323)](_0x21ca23(0x157));_0x3e5cd5&&(_0x3e5cd5[_0x21ca23(0x464)]=_0x21ca23(0x5ed));const _0x3c057d=document[_0x21ca23(0x323)](_0x21ca23(0x230));_0x3c057d&&(_0x3c057d[_0x21ca23(0x464)]=_0x21ca23(0x1f3));const _0x8e0af=document[_0x21ca23(0x365)](_0x21ca23(0x299));_0x8e0af[_0x21ca23(0x1da)]['remove'](_0x21ca23(0x5ba)),document[_0x21ca23(0x365)](_0x21ca23(0xf0))[_0x21ca23(0x4d7)]=()=>_0x8e0af[_0x21ca23(0x1da)][_0x21ca23(0x114)](_0x21ca23(0x5ba));const _0xb052e=document['getElementById']('student-quiz-leaderboard-tab'),_0x2160ca=document[_0x21ca23(0x365)](_0x21ca23(0x582)),_0x2e5b42=document[_0x21ca23(0x365)](_0x21ca23(0x595)),_0xfb9fc5=document[_0x21ca23(0x365)](_0x21ca23(0x3cc));_0xb052e[_0x21ca23(0x4d7)]=()=>{const _0x1fe209=_0x21ca23;_0xb052e[_0x1fe209(0x1da)][_0x1fe209(0x114)]('active'),_0x2160ca[_0x1fe209(0x1da)][_0x1fe209(0x221)](_0x1fe209(0x480)),_0x2e5b42['classList'][_0x1fe209(0x221)](_0x1fe209(0x5ba)),_0xfb9fc5[_0x1fe209(0x1da)][_0x1fe209(0x114)](_0x1fe209(0x5ba));},_0x2160ca[_0x21ca23(0x4d7)]=()=>{const _0x255b01=_0x21ca23;_0x2160ca[_0x255b01(0x1da)][_0x255b01(0x114)](_0x255b01(0x480)),_0xb052e['classList'][_0x255b01(0x221)]('active'),_0xfb9fc5['classList'][_0x255b01(0x221)]('hidden'),_0x2e5b42[_0x255b01(0x1da)][_0x255b01(0x114)](_0x255b01(0x5ba));};try{const _0x37707f=collection(db,_0x21ca23(0x430)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x21ca23(0x38f)),_0x1dfa9b=await getDocs(_0x37707f),_0x1b701f=_0x1dfa9b[_0x21ca23(0xad)][_0x21ca23(0x24a)](_0x248407=>_0x248407['data']());renderQuizLeaderboard(_0x1b701f,currentQuizData,_0x21ca23(0x3eb));const _0x5e2f47=collection(db,_0x21ca23(0x430)+appId+_0x21ca23(0xc2)+currentQuizData[_0x21ca23(0x2cd)]+'/studentProfiles'),_0x8e6b56=await getDocs(_0x5e2f47),_0x64f770=_0x8e6b56[_0x21ca23(0xad)]['map'](_0x5726e7=>_0x5726e7[_0x21ca23(0x29f)]());renderLeaderboard(_0x64f770,_0x21ca23(0x35a));}catch(_0xa3f4bd){console[_0x21ca23(0x4a9)]('Error\x20fetching\x20student\x20rankings:',_0xa3f4bd),showMessage(_0x21ca23(0x204));}}async function handleSaveToBank(_0x508400){const _0x1e7fb0=_0x544b94,_0x407ad7=_0x508400['currentTarget'],_0x1156de=_0x407ad7[_0x1e7fb0(0x5ab)][_0x1e7fb0(0x632)],_0x3ea473=currentQuizData[_0x1e7fb0(0x4b9)][_0x1156de];if(!userId){showMessage(_0x1e7fb0(0x52d));return;}try{const _0xcfd55={..._0x3ea473,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x4a85cc=collection(db,_0x1e7fb0(0x430)+appId+_0x1e7fb0(0x25d)+userId+_0x1e7fb0(0x598));await addDoc(_0x4a85cc,_0xcfd55),showMessage(_0x1e7fb0(0x5e2)),_0x407ad7[_0x1e7fb0(0x1da)][_0x1e7fb0(0x221)]('text-purple-600'),_0x407ad7[_0x1e7fb0(0x1da)][_0x1e7fb0(0x114)]('text-green-600'),_0x407ad7[_0x1e7fb0(0x1ea)]=!![];}catch(_0x163d87){console[_0x1e7fb0(0x4a9)]('Error\x20saving\x20to\x20question\x20bank:',_0x163d87),showMessage(_0x1e7fb0(0x116));}}function listenForStarredQuizzes(){const _0x1430d3=_0x544b94;if(!userId)return;const _0x20cb8b=collection(db,_0x1430d3(0x430)+appId+'/public/data/quizzes'),_0x5e7ee7=query(_0x20cb8b,where(_0x1430d3(0x5be),'==',!![]));onSnapshot(_0x5e7ee7,_0x14c73=>{const _0x51ba66=_0x1430d3;starredQuizzes=_0x14c73[_0x51ba66(0xad)][_0x51ba66(0x24a)](_0x55e755=>({'id':_0x55e755['id'],..._0x55e755[_0x51ba66(0x29f)]()})),renderProjects();},_0x50eb86=>{const _0x4f6753=_0x1430d3;console[_0x4f6753(0x4a9)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x50eb86);});}async function handleToggleStarQuiz(_0x5a4762){const _0x68c71d=_0x544b94,_0x562223=doc(db,_0x68c71d(0x430)+appId+_0x68c71d(0x394),_0x5a4762);try{const _0x4c4a85=await getDoc(_0x562223);if(_0x4c4a85[_0x68c71d(0x11b)]()){const _0x1efd02=_0x4c4a85[_0x68c71d(0x29f)]()[_0x68c71d(0x5be)]||![];await updateDoc(_0x562223,{'isStarred':!_0x1efd02});}}catch(_0xbdcaf2){console[_0x68c71d(0x4a9)](_0x68c71d(0x246),_0xbdcaf2),showMessage(_0x68c71d(0x2b7));}}async function displayQuestionBank(){const _0x1aa096=_0x544b94,_0x50bf74=document['getElementById'](_0x1aa096(0x22f));_0x50bf74[_0x1aa096(0x464)]=_0x1aa096(0x4a1);try{const _0x16bde8=collection(db,'artifacts/'+appId+_0x1aa096(0x25d)+userId+'/questionBank'),_0x574fd6=query(_0x16bde8),_0x32cd95=await getDocs(_0x574fd6);if(_0x32cd95[_0x1aa096(0x13a)]){_0x50bf74[_0x1aa096(0x464)]=_0x1aa096(0x3c3);return;}let _0x21f9d6=_0x32cd95['docs'][_0x1aa096(0x24a)](_0x3ee5c9=>{const _0x8ed1a5=_0x1aa096,_0x156244=_0x3ee5c9[_0x8ed1a5(0x29f)](),_0xadce8e=_0x3ee5c9['id'];return _0x8ed1a5(0x4f0)+JSON[_0x8ed1a5(0x50e)](_0x156244)+_0x8ed1a5(0x18b)+(_0x156244['questionText']||_0x156244[_0x8ed1a5(0x4f1)])+_0x8ed1a5(0x2ac)+_0x156244[_0x8ed1a5(0x543)]+_0x8ed1a5(0x3a0);})[_0x1aa096(0x4a5)]('');_0x50bf74[_0x1aa096(0x464)]=_0x1aa096(0x54e)+_0x21f9d6+_0x1aa096(0x233),document[_0x1aa096(0x365)](_0x1aa096(0x313))['addEventListener'](_0x1aa096(0x136),createQuizFromBank);}catch(_0x56e44b){console[_0x1aa096(0x4a9)](_0x1aa096(0x242),_0x56e44b),_0x50bf74[_0x1aa096(0x464)]=_0x1aa096(0x5a8);}}function showAdminLiveQuestionView(_0x53e54a,_0x2b6d84,_0x2cbdad){const _0x1b8b2e=_0x544b94,_0x1927da=_0x53e54a[_0x1b8b2e(0x432)]||currentQuizData[_0x1b8b2e(0x36d)];let _0x33d776='';if(_0x1927da===_0x1b8b2e(0x3ac)||_0x1927da===_0x1b8b2e(0x680)){const _0x20300d=_0x1927da===_0x1b8b2e(0x680)?[_0x1b8b2e(0x124),_0x1b8b2e(0x50d)]:_0x53e54a[_0x1b8b2e(0x398)],_0x599d0a=_0x1927da===_0x1b8b2e(0x680)?_0x53e54a['correctAnswer']?0x0:0x1:_0x53e54a[_0x1b8b2e(0x356)];_0x33d776=_0x20300d[_0x1b8b2e(0x24a)]((_0x1e097e,_0x717762)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x717762===_0x599d0a)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e097e+_0x1b8b2e(0x63a))[_0x1b8b2e(0x4a5)]('');}else{if(_0x1927da===_0x1b8b2e(0x433)){const _0x3f2e3b=_0x53e54a[_0x1b8b2e(0x1b8)]||[];_0x33d776=_0x3f2e3b[_0x1b8b2e(0x24a)](_0x2b68be=>_0x1b8b2e(0x567)+(_0x2b68be===_0x53e54a[_0x1b8b2e(0x182)])+_0x1b8b2e(0x2a1)+_0x2b68be+_0x1b8b2e(0x63a))[_0x1b8b2e(0x4a5)]('');}}const _0x4a0031=_0x53e54a['stem']||_0x53e54a['questionText'],_0xdedce1=_0x1b8b2e(0x2b8)+(_0x2b6d84+0x1)+'\x20/\x20'+_0x2cbdad+_0x1b8b2e(0x293)+_0x4a0031+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33d776+_0x1b8b2e(0x61a);liveGameView[_0x1b8b2e(0x464)]=_0xdedce1;window[_0x1b8b2e(0x1c9)]&&MathJax[_0x1b8b2e(0x606)]&&MathJax[_0x1b8b2e(0x606)]([liveGameView]);const _0x3d1163=document[_0x1b8b2e(0x365)](_0x1b8b2e(0x649));document[_0x1b8b2e(0x365)]('reveal-answer-btn')[_0x1b8b2e(0x303)]('click',async()=>{const _0x34a5a7=_0x1b8b2e,_0x3bc9de=doc(db,'artifacts/'+appId+_0x34a5a7(0x5da),currentLiveGameId);await updateDoc(_0x3bc9de,{'questionStatus':_0x34a5a7(0x60e)});const _0x3c70c7=liveGameView[_0x34a5a7(0x323)](_0x34a5a7(0x48a));_0x3c70c7&&(_0x3c70c7[_0x34a5a7(0x1da)][_0x34a5a7(0x221)](_0x34a5a7(0x239)),_0x3c70c7['classList'][_0x34a5a7(0x114)](_0x34a5a7(0x2b9),_0x34a5a7(0x2b0),_0x34a5a7(0x2c6),_0x34a5a7(0x44f),_0x34a5a7(0x338)),_0x3c70c7['innerHTML']=_0x34a5a7(0x555)+_0x3c70c7['innerHTML']),_0x3d1163[_0x34a5a7(0x464)]=_0x34a5a7(0x328)+(_0x2b6d84+0x1===_0x2cbdad?_0x34a5a7(0xac):_0x34a5a7(0x376))+_0x34a5a7(0x343),document['getElementById'](_0x34a5a7(0x5e9))[_0x34a5a7(0x303)](_0x34a5a7(0x136),async()=>{const _0x1f57f2=_0x34a5a7,_0x49f53=doc(db,_0x1f57f2(0x430)+appId+_0x1f57f2(0x5da),currentLiveGameId),_0xd33c1c=await getDoc(_0x49f53);if(!_0xd33c1c[_0x1f57f2(0x11b)]())return;const _0x46ac3e=_0xd33c1c[_0x1f57f2(0x29f)](),_0x1e7659={};if(_0x46ac3e[_0x1f57f2(0x274)])for(const _0x3683dc in _0x46ac3e[_0x1f57f2(0x274)]){_0x1e7659[_0x1f57f2(0x4b4)+_0x3683dc+_0x1f57f2(0x5c6)]=![];}const _0x4a969a=_0x2b6d84+0x1;_0x4a969a<_0x2cbdad?(_0x1e7659[_0x1f57f2(0x2ad)]=_0x4a969a,_0x1e7659[_0x1f57f2(0x5d3)]=serverTimestamp(),_0x1e7659[_0x1f57f2(0x449)]=_0x1f57f2(0x264),await updateDoc(_0x49f53,_0x1e7659)):await updateDoc(_0x49f53,{'status':_0x1f57f2(0x660)});});}),document[_0x1b8b2e(0x365)](_0x1b8b2e(0x4ae))['addEventListener'](_0x1b8b2e(0x136),async()=>{const _0x4b3db8=_0x1b8b2e,_0x44a666=doc(db,_0x4b3db8(0x430)+appId+_0x4b3db8(0x5da),currentLiveGameId);await deleteDoc(_0x44a666),showView(_0x4b3db8(0x392));});}function showStudentLiveQuestionView(_0x463fa4,_0x2d880d,_0x3a23f8){const _0x4b014f=_0x544b94,_0xdee6d0=_0x463fa4[_0x4b014f(0x432)]||currentQuizData['quizType'];let _0x24c1bf='';if(_0xdee6d0===_0x4b014f(0x3ac)||_0xdee6d0==='true_false'){const _0x5ebdc7=_0xdee6d0===_0x4b014f(0x680)?[_0x4b014f(0x124),_0x4b014f(0x50d)]:_0x463fa4[_0x4b014f(0x398)];_0x24c1bf=_0x5ebdc7['map']((_0x5f0b88,_0x1e83f8)=>_0x4b014f(0x354)+_0x1e83f8+_0x4b014f(0x1c8)+_0x5f0b88+_0x4b014f(0x17e))[_0x4b014f(0x4a5)]('');}else{if(_0xdee6d0===_0x4b014f(0x433)){const _0x3233fe=_0x463fa4[_0x4b014f(0x1b8)]||[];_0x24c1bf=_0x3233fe[_0x4b014f(0x24a)]((_0x31fcb2,_0x4e9696)=>_0x4b014f(0x354)+_0x4e9696+_0x4b014f(0x1c8)+_0x31fcb2+_0x4b014f(0x17e))['join']('');}else _0xdee6d0===_0x4b014f(0x46f)&&(_0x24c1bf=_0x4b014f(0x5e1));}const _0x2a3c14=_0x463fa4[_0x4b014f(0x4f1)]||_0x463fa4[_0x4b014f(0x21d)],_0x4e3cce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x2d880d+0x1)+'\x20/\x20'+_0x3a23f8+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x2a3c14+_0x4b014f(0x27a)+_0x24c1bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4b014f(0x464)]=_0x4e3cce;window[_0x4b014f(0x1c9)]&&MathJax[_0x4b014f(0x606)]&&MathJax['typesetPromise']([liveGameView]);const _0x2f3e4c=document[_0x4b014f(0x365)](_0x4b014f(0x623));_0x2f3e4c&&_0x2f3e4c[_0x4b014f(0x303)]('click',()=>{const _0x10be99=_0x4b014f,_0x45fc4f=document[_0x10be99(0x365)]('live-short-answer-input')[_0x10be99(0x601)];handleLiveAnswer(_0x45fc4f,_0x463fa4);}),document['getElementById'](_0x4b014f(0x495))[_0x4b014f(0x303)](_0x4b014f(0x136),_0x276e52=>{const _0x467a2d=_0x4b014f,_0x259e6f=_0x276e52[_0x467a2d(0x12f)]['closest'](_0x467a2d(0x3d2));if(_0x259e6f){const _0x35632f=parseInt(_0x259e6f[_0x467a2d(0x5ab)][_0x467a2d(0x632)]);handleLiveAnswer(_0x35632f,_0x463fa4);}});}async function handleLiveAnswer(_0x599d19,_0x21be92){const _0x2b7293=_0x544b94;document[_0x2b7293(0x57e)](_0x2b7293(0x250))[_0x2b7293(0x34d)](_0x1dfbe2=>_0x1dfbe2[_0x2b7293(0x1ea)]=!![]);const _0x312de4=_0x21be92[_0x2b7293(0x432)]||currentQuizData[_0x2b7293(0x36d)];let _0x5411e3=![];if(_0x312de4===_0x2b7293(0x46f)){const _0xcb2e5=(_0x599d19||'')['toString']();_0x5411e3=await gradeShortAnswer(_0xcb2e5,_0x21be92);}else{if(_0x312de4===_0x2b7293(0x3ac))_0x5411e3=_0x599d19===_0x21be92['correctAnswerIndex'];else{if(_0x312de4===_0x2b7293(0x680)){const _0x4fb445=_0x21be92[_0x2b7293(0x1bc)];_0x5411e3=_0x599d19===0x0&&_0x4fb445||_0x599d19===0x1&&!_0x4fb445;}else{if(_0x312de4===_0x2b7293(0x433)){const _0x9cd0c7=_0x21be92[_0x2b7293(0x1b8)][_0x599d19];_0x5411e3=_0x9cd0c7===_0x21be92[_0x2b7293(0x182)];}}}}const _0x326d74=doc(db,_0x2b7293(0x430)+appId+_0x2b7293(0x5da),currentLiveGameId),_0x3823d6=await getDoc(_0x326d74);if(!_0x3823d6['exists']())return;const _0x537f42=_0x3823d6['data'](),_0x44e2cd=_0x537f42[_0x2b7293(0x274)][currentStudentName];let _0x1fa26c=_0x44e2cd[_0x2b7293(0x5b8)]||[],_0x2a5f54=_0x44e2cd[_0x2b7293(0x1c6)]||0x0;const _0x35341b={};let _0x102ad8=0x0;if(_0x537f42[_0x2b7293(0x5d3)]){const _0xa0dcdc=_0x537f42['questionDisplayedAt'][_0x2b7293(0xf9)](),_0x4bad5a=new Date()-_0xa0dcdc;if(_0x5411e3){const _0x19b090=0x3e8,_0x31865c=0x1f4,_0x16173d=0x4e20;let _0x2cd8a8=_0x4bad5a/_0x16173d;if(_0x2cd8a8>0x1)_0x2cd8a8=0x1;const _0x2955cf=Math[_0x2b7293(0x2a6)](_0x2cd8a8*_0x31865c);_0x102ad8=_0x19b090-_0x2955cf,_0x4bad5a<=0x1388&&!_0x1fa26c['includes'](_0x2b7293(0x400))&&_0x1fa26c[_0x2b7293(0x517)](_0x2b7293(0x400));}}_0x5411e3?(_0x2a5f54++,_0x2a5f54===0x3&&!_0x1fa26c[_0x2b7293(0x616)](_0x2b7293(0x4ed))&&(_0x1fa26c['push'](_0x2b7293(0x4ed)),_0x2a5f54=0x0)):_0x2a5f54=0x0,_0x5411e3&&(_0x35341b[_0x2b7293(0x4b4)+currentStudentName+_0x2b7293(0x42c)]=increment(_0x102ad8)),_0x35341b[_0x2b7293(0x4b4)+currentStudentName+_0x2b7293(0x63d)]=_0x1fa26c,_0x35341b[_0x2b7293(0x4b4)+currentStudentName+_0x2b7293(0x3a9)]=_0x2a5f54,_0x35341b[_0x2b7293(0x4b4)+currentStudentName+_0x2b7293(0x5c6)]=!![],_0x35341b[_0x2b7293(0x4b4)+currentStudentName+_0x2b7293(0xfb)]=_0x5411e3,_0x35341b['players.'+currentStudentName+_0x2b7293(0x101)]=_0x102ad8,await updateDoc(_0x326d74,_0x35341b),liveGameView[_0x2b7293(0x464)]=_0x2b7293(0x3b1);}function createQuizFromBank(){const _0x443c0b=_0x544b94,_0x52ab57=document[_0x443c0b(0x57e)](_0x443c0b(0x636));if(_0x52ab57[_0x443c0b(0x317)]===0x0){showMessage(_0x443c0b(0x10c));return;}const _0x5cdfcd=[];_0x52ab57[_0x443c0b(0x34d)](_0x34ff69=>{const _0x4e0d21=_0x443c0b;_0x5cdfcd[_0x4e0d21(0x517)](JSON[_0x4e0d21(0x5ef)](_0x34ff69[_0x4e0d21(0x601)]));});const _0x3c2660={'topic':_0x443c0b(0x305),'questions':_0x5cdfcd};displayGeneratedQuiz(_0x3c2660);}function showAdminLobbyView(_0x59939e,_0x1fc5dd){const _0x5734c9=_0x544b94;showView(_0x5734c9(0x2d1));const _0x1cc95b=_0x5734c9(0x232)+_0x1fc5dd+_0x5734c9(0x5ee)+_0x59939e+_0x5734c9(0x27f);liveGameView[_0x5734c9(0x464)]=_0x1cc95b,document[_0x5734c9(0x365)](_0x5734c9(0x60d))[_0x5734c9(0x303)](_0x5734c9(0x136),async()=>{const _0x2ebd77=_0x5734c9;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0x2ebd77(0x317)]===0x0){showMessage(_0x2ebd77(0x54a));return;}try{const _0x595680=doc(db,'artifacts/'+appId+_0x2ebd77(0x5da),currentLiveGameId);await updateDoc(_0x595680,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x20c616=currentQuizData[_0x2ebd77(0x4b9)][0x0],_0x52d0c8=currentQuizData[_0x2ebd77(0x4b9)][_0x2ebd77(0x317)];showAdminLiveQuestionView(_0x20c616,0x0,_0x52d0c8);}catch(_0x57deaa){console['error'](_0x2ebd77(0x61d),_0x57deaa),showMessage(_0x2ebd77(0x112));}});}async function openGlobalLiveModal(){const _0x11de66=_0x544b94;if(allQuizzesGlobal[_0x11de66(0x317)]===0x0){const _0x55abba=await getDocs(collection(db,_0x11de66(0x430)+appId+_0x11de66(0x394)));allQuizzesGlobal=_0x55abba[_0x11de66(0xad)]['map'](_0x54d6ac=>({'id':_0x54d6ac['id'],..._0x54d6ac[_0x11de66(0x29f)]()}));}renderGlobalQuizList(''),document[_0x11de66(0x365)](_0x11de66(0x30a))[_0x11de66(0x1da)]['remove'](_0x11de66(0x5ba));}async function openQuizBankModal(){const _0x3e32a6=_0x544b94;if(allQuizzesGlobal[_0x3e32a6(0x317)]===0x0){const _0x4ec00b=await getDocs(collection(db,'artifacts/'+appId+_0x3e32a6(0x394)));allQuizzesGlobal=_0x4ec00b['docs'][_0x3e32a6(0x24a)](_0x594c1f=>({'id':_0x594c1f['id'],..._0x594c1f[_0x3e32a6(0x29f)]()}));}renderQuizBankList(''),document['getElementById'](_0x3e32a6(0x659))[_0x3e32a6(0x1da)]['remove'](_0x3e32a6(0x5ba));}function renderQuizBankList(_0x491735=''){const _0x4d1001=_0x544b94,_0x1730f7=document['getElementById'](_0x4d1001(0x518)),_0x380883=_0x491735[_0x4d1001(0x5b0)]()[_0x4d1001(0x25a)](),_0x2f4da5=allQuizzesGlobal[_0x4d1001(0x24a)](_0x4bc5ef=>({..._0x4bc5ef,'projectName':allProjects[_0x4d1001(0x575)](_0x3f84ed=>_0x3f84ed['id']===_0x4bc5ef[_0x4d1001(0x2cd)])?.[_0x4d1001(0x108)]||_0x4d1001(0x1fa)}))['filter'](_0x7c3204=>(_0x7c3204[_0x4d1001(0x547)]||'')[_0x4d1001(0x5b0)]()[_0x4d1001(0x616)](_0x380883)||(_0x7c3204[_0x4d1001(0x108)]||'')[_0x4d1001(0x5b0)]()[_0x4d1001(0x616)](_0x380883)||_0x7c3204['id'][_0x4d1001(0x123)]()[_0x4d1001(0x616)](_0x380883));document[_0x4d1001(0x365)]('quiz-bank-count')['textContent']='('+_0x2f4da5[_0x4d1001(0x317)]+_0x4d1001(0x1d1),_0x1730f7['innerHTML']=_0x2f4da5[_0x4d1001(0x317)]?_0x2f4da5[_0x4d1001(0x24a)](_0x4fe227=>_0x4d1001(0x45a)+_0x4fe227['id']+_0x4d1001(0x2ae)+(_0x4fe227['topic']||'(ไม่มีชื่อ)')+_0x4d1001(0x4ca)+(_0x4fe227[_0x4d1001(0x4b9)]?.[_0x4d1001(0x317)]||0x0)+_0x4d1001(0x448)+_0x4fe227[_0x4d1001(0x108)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x4fe227['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4fe227['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4fe227['id']+_0x4d1001(0x5f0)+_0x4fe227['id']+_0x4d1001(0x28c))[_0x4d1001(0x4a5)](''):_0x4d1001(0x4a8),_0x1730f7[_0x4d1001(0x57e)](_0x4d1001(0x406))[_0x4d1001(0x34d)](_0x526541=>{const _0x142c77=_0x4d1001;_0x526541['addEventListener'](_0x142c77(0x136),()=>{const _0x6e3222=_0x142c77,_0x40117c=_0x526541[_0x6e3222(0x5ab)]['id'];document[_0x6e3222(0x365)]('quiz-bank-modal')[_0x6e3222(0x1da)][_0x6e3222(0x114)](_0x6e3222(0x5ba)),showQuizDetailView(_0x40117c);});}),_0x1730f7['querySelectorAll']('.quiz-bank-try-btn')[_0x4d1001(0x34d)](_0x4ad7ca=>{const _0x3f1313=_0x4d1001;_0x4ad7ca[_0x3f1313(0x303)](_0x3f1313(0x136),_0x5b6a0b=>{const _0x1905cd=_0x3f1313;_0x5b6a0b[_0x1905cd(0x169)]();const _0x11f834=_0x4ad7ca[_0x1905cd(0x5ab)]['id'],_0x4f509e=allQuizzesGlobal[_0x1905cd(0x575)](_0x45e14e=>_0x45e14e['id']===_0x11f834);_0x4f509e?(currentQuizData=_0x4f509e,document['getElementById'](_0x1905cd(0x659))[_0x1905cd(0x1da)][_0x1905cd(0x114)](_0x1905cd(0x5ba)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x1730f7[_0x4d1001(0x57e)](_0x4d1001(0x2a7))[_0x4d1001(0x34d)](_0x42281f=>{const _0x2f8609=_0x4d1001;_0x42281f[_0x2f8609(0x303)]('click',_0x57b042=>{const _0x2349ce=_0x2f8609;_0x57b042['stopPropagation']();const _0x110f37=_0x42281f[_0x2349ce(0x5ab)]['id'],_0x1dc011=allQuizzesGlobal['find'](_0x122d0f=>_0x122d0f['id']===_0x110f37);_0x1dc011?(document[_0x2349ce(0x365)]('quiz-bank-modal')[_0x2349ce(0x1da)][_0x2349ce(0x114)](_0x2349ce(0x5ba)),handleGenerateParallelFromBank(_0x1dc011)):showMessage(_0x2349ce(0x26d));});}),_0x1730f7[_0x4d1001(0x57e)]('.quiz-bank-present-btn')[_0x4d1001(0x34d)](_0x4bef6a=>{const _0x29d5e6=_0x4d1001;_0x4bef6a[_0x29d5e6(0x303)](_0x29d5e6(0x136),_0x2486ca=>{const _0x890926=_0x29d5e6;_0x2486ca['stopPropagation']();const _0x25ad2a=_0x4bef6a[_0x890926(0x5ab)]['id'],_0x2438bc=allQuizzesGlobal[_0x890926(0x575)](_0x5776ee=>_0x5776ee['id']===_0x25ad2a);_0x2438bc?(document[_0x890926(0x365)](_0x890926(0x659))[_0x890926(0x1da)]['add']('hidden'),startPresentation(_0x2438bc)):showMessage(_0x890926(0x26d));});});}function renderGlobalQuizList(_0x558b03=''){const _0x307f6a=_0x544b94,_0x18a138=document[_0x307f6a(0x365)](_0x307f6a(0xbd)),_0xf4d614=_0x558b03[_0x307f6a(0x5b0)]()['trim'](),_0x10fe3e=allQuizzesGlobal[_0x307f6a(0x24a)](_0x51e1cb=>({..._0x51e1cb,'projectName':allProjects[_0x307f6a(0x575)](_0x48ad9f=>_0x48ad9f['id']===_0x51e1cb[_0x307f6a(0x2cd)])?.['projectName']||_0x51e1cb[_0x307f6a(0x2cd)]}))[_0x307f6a(0x371)](_0x323376=>(_0x323376[_0x307f6a(0x547)]||'')[_0x307f6a(0x5b0)]()['includes'](_0xf4d614)||(_0x323376['projectName']||'')['toLowerCase']()[_0x307f6a(0x616)](_0xf4d614));document[_0x307f6a(0x365)](_0x307f6a(0x3f8))['textContent']='('+_0x10fe3e[_0x307f6a(0x317)]+_0x307f6a(0x1d1),_0x18a138[_0x307f6a(0x464)]=_0x10fe3e['length']?_0x10fe3e[_0x307f6a(0x24a)](_0x5a8cd1=>_0x307f6a(0x4b8)+_0x5a8cd1['id']+_0x307f6a(0x1f1)+(_0x5a8cd1[_0x307f6a(0x547)]||_0x307f6a(0x372))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x5a8cd1[_0x307f6a(0x4b9)]?.[_0x307f6a(0x317)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x5a8cd1[_0x307f6a(0x108)]+_0x307f6a(0x296))[_0x307f6a(0x4a5)](''):_0x307f6a(0x3af),selectedGlobalQuizId=null,document[_0x307f6a(0x365)](_0x307f6a(0x4f5))[_0x307f6a(0x1ea)]=!![],_0x18a138[_0x307f6a(0x57e)]('button[data-id]')[_0x307f6a(0x34d)](_0x118d18=>{_0x118d18['addEventListener']('click',()=>{const _0x2c05bc=_0x2ca3;selectedGlobalQuizId=_0x118d18[_0x2c05bc(0x5ab)]['id'],_0x18a138[_0x2c05bc(0x57e)](_0x2c05bc(0x1df))[_0x2c05bc(0x34d)](_0x69994a=>_0x69994a['classList'][_0x2c05bc(0x221)](_0x2c05bc(0x2ba),'ring-2',_0x2c05bc(0x362))),_0x118d18[_0x2c05bc(0x1da)][_0x2c05bc(0x114)](_0x2c05bc(0x2ba),_0x2c05bc(0x4d3),_0x2c05bc(0x362)),document['getElementById'](_0x2c05bc(0x4f5))[_0x2c05bc(0x1ea)]=![];});});}function listenForLiveGameUpdates(){const _0x3f9d73=_0x544b94;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x451a7f=doc(db,_0x3f9d73(0x430)+appId+_0x3f9d73(0x5da),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x451a7f,_0xff19c9=>{const _0xa6594c=_0x3f9d73;if(!_0xff19c9[_0xa6594c(0x11b)]()){showMessage(_0xa6594c(0x217)),showView(currentMode);return;}const _0xd62839=_0xff19c9[_0xa6594c(0x29f)]();!currentQuizData&&_0xd62839[_0xa6594c(0x643)]&&((async()=>{const _0x257c24=_0xa6594c;try{const _0x1665e0=doc(db,_0x257c24(0x430)+appId+_0x257c24(0x394),_0xd62839[_0x257c24(0x643)]),_0x2b9da5=await getDoc(_0x1665e0);_0x2b9da5[_0x257c24(0x11b)]()&&(currentQuizData={'id':_0x2b9da5['id'],..._0x2b9da5[_0x257c24(0x29f)]()});}catch(_0x4eb65e){console[_0x257c24(0x4a9)](_0x257c24(0x139),_0x4eb65e);}})());switch(_0xd62839[_0xa6594c(0x446)]){case _0xa6594c(0x65c):if(currentMode===_0xa6594c(0x3e1)){const _0x54f0f2=_0xd62839[_0xa6594c(0x274)]?Object['keys'](_0xd62839[_0xa6594c(0x274)]):[];document[_0xa6594c(0x365)](_0xa6594c(0x12e))['textContent']=_0x54f0f2[_0xa6594c(0x317)],document['getElementById'](_0xa6594c(0x3c5))[_0xa6594c(0x464)]=_0x54f0f2[_0xa6594c(0x24a)](_0x3afa04=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x3afa04+'</span>')[_0xa6594c(0x4a5)]('');const _0x30dd8f=document['getElementById'](_0xa6594c(0x60d));_0x30dd8f&&(_0x30dd8f[_0xa6594c(0x1ea)]=_0x54f0f2[_0xa6594c(0x317)]===0x0);}else showView('live-game'),liveGameView[_0xa6594c(0x464)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0xa6594c(0x1ca);break;case _0xa6594c(0x2ec):const _0x1b11ad=_0xd62839[_0xa6594c(0x2ad)];if(currentQuizData&&currentQuizData[_0xa6594c(0x4b9)][_0x1b11ad]){const _0x3635d7=currentQuizData['questions'][_0x1b11ad],_0x3cdc37=currentQuizData[_0xa6594c(0x4b9)][_0xa6594c(0x317)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x1b11ad&&(showAdminLiveQuestionView(_0x3635d7,_0x1b11ad,_0x3cdc37),lastRenderedAdminQuestionIndex=_0x1b11ad);const _0x3cbfd7=document[_0xa6594c(0x365)](_0xa6594c(0x499));if(_0x3cbfd7&&_0xd62839[_0xa6594c(0x274)]){const _0x5cd370=Object[_0xa6594c(0x2b2)](_0xd62839[_0xa6594c(0x274)])[_0xa6594c(0x317)],_0x22c09=Object[_0xa6594c(0x1c3)](_0xd62839[_0xa6594c(0x274)])[_0xa6594c(0x371)](_0x104e0f=>_0x104e0f[_0xa6594c(0x15d)]===!![])[_0xa6594c(0x317)];_0x3cbfd7['textContent']=_0x22c09+'/'+_0x5cd370,_0x5cd370>0x0&&_0x22c09===_0x5cd370&&_0xd62839['questionStatus']!==_0xa6594c(0x60e)&&revealAnswerForAdmin(_0x1b11ad,_0x3cdc37);}}else{const _0x23cc84=_0xd62839[_0xa6594c(0x274)][currentStudentName];if(_0xd62839[_0xa6594c(0x449)]===_0xa6594c(0x60e)){if(_0x23cc84[_0xa6594c(0x15d)]){const _0x299c93=_0x23cc84[_0xa6594c(0x1d9)],_0x210b01=_0x23cc84['pointsLastQuestion']||0x0,_0x492126=_0x299c93?'คำตอบถูกต้อง!\x20+'+_0x210b01+'\x20คะแนน':'คำตอบผิด';liveGameView[_0xa6594c(0x464)]=_0xa6594c(0x396)+_0x492126+_0xa6594c(0x203);}else liveGameView[_0xa6594c(0x464)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else!_0x23cc84[_0xa6594c(0x15d)]&&showStudentLiveQuestionView(_0x3635d7,_0x1b11ad,_0x3cdc37);}}break;case _0xa6594c(0x660):showPodiumView(_0xd62839[_0xa6594c(0x274)]);break;}});}async function authenticateUser(){const _0x9ea568=_0x544b94;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xfb3793){console[_0x9ea568(0x4a9)](_0x9ea568(0x443),_0xfb3793),showMessage(_0x9ea568(0x334));}}function showView(_0x3db2d7){const _0x241176=_0x544b94,_0x2c4e64=[_0x241176(0x1ab),'student-view',_0x241176(0xff),_0x241176(0x5d8),_0x241176(0x4cf),_0x241176(0x540)];_0x2c4e64['forEach'](_0x3ae603=>document[_0x241176(0x365)](_0x3ae603)?.[_0x241176(0x1da)][_0x241176(0x114)](_0x241176(0x5ba)));if(_0x3db2d7===_0x241176(0x392))adminView[_0x241176(0x1da)][_0x241176(0x221)]('hidden'),projectDashboardView[_0x241176(0x1da)][_0x241176(0x221)]('hidden');else{if(_0x3db2d7===_0x241176(0x628))studentView[_0x241176(0x1da)][_0x241176(0x221)](_0x241176(0x5ba)),studentInitialView[_0x241176(0x1da)][_0x241176(0x221)]('hidden'),studentNameSelectionView[_0x241176(0x1da)][_0x241176(0x114)](_0x241176(0x5ba)),studentQuizArea[_0x241176(0x1da)]['add'](_0x241176(0x5ba)),studentResultArea[_0x241176(0x1da)][_0x241176(0x114)](_0x241176(0x5ba)),studentReadingArea[_0x241176(0x1da)]['add'](_0x241176(0x5ba)),studentJoinGameView['classList']['add']('hidden');else{if(_0x3db2d7===_0x241176(0x442))adminView[_0x241176(0x1da)][_0x241176(0x221)]('hidden'),projectDetailView['classList']['remove']('hidden');else{if(_0x3db2d7===_0x241176(0x491))adminView[_0x241176(0x1da)]['remove'](_0x241176(0x5ba)),quizResultsView[_0x241176(0x1da)][_0x241176(0x221)](_0x241176(0x5ba));else _0x3db2d7===_0x241176(0x2d1)&&liveGameView[_0x241176(0x1da)][_0x241176(0x221)](_0x241176(0x5ba));}}}}function showJoinGameView(){const _0x502b02=_0x544b94;studentInitialView['classList']['add'](_0x502b02(0x5ba)),studentJoinGameView[_0x502b02(0x1da)]['remove'](_0x502b02(0x5ba));}function setupEventListeners(){const _0x46a8c0=_0x544b94;document['getElementById'](_0x46a8c0(0x45d))[_0x46a8c0(0x303)]('click',handleModeSwitch),document[_0x46a8c0(0x365)]('add-custom-math-topic-btn')['addEventListener'](_0x46a8c0(0x136),handleAddCustomMathTopic),document[_0x46a8c0(0x365)](_0x46a8c0(0x3d0))[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleSelectAllTopics),document[_0x46a8c0(0x365)](_0x46a8c0(0x417))[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleDeselectAllTopics),document['getElementById'](_0x46a8c0(0x2c2))['addEventListener'](_0x46a8c0(0x136),()=>{const _0x2cba53=_0x46a8c0;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2cba53(0x392));}),document['getElementById'](_0x46a8c0(0x24b))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x239140=_0x46a8c0;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x239140(0x442));}),document[_0x46a8c0(0x365)](_0x46a8c0(0x565))[_0x46a8c0(0x303)]('click',()=>{const _0x1f5bd0=_0x46a8c0;showView(_0x1f5bd0(0x392));}),document[_0x46a8c0(0x365)](_0x46a8c0(0xbf))[_0x46a8c0(0x303)]('click',()=>messageModal['classList'][_0x46a8c0(0x114)](_0x46a8c0(0x5ba))),document['getElementById']('create-project-btn')[_0x46a8c0(0x303)]('click',()=>createProjectModal[_0x46a8c0(0x1da)]['remove']('hidden')),document[_0x46a8c0(0x365)](_0x46a8c0(0x385))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>createProjectModal[_0x46a8c0(0x1da)][_0x46a8c0(0x114)](_0x46a8c0(0x5ba))),document['getElementById'](_0x46a8c0(0x337))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>adminPasswordModal[_0x46a8c0(0x1da)]['add']('hidden')),document['getElementById']('confirm-admin-login-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleAdminLogin),document[_0x46a8c0(0x365)](_0x46a8c0(0x128))[_0x46a8c0(0x303)](_0x46a8c0(0x427),_0x468bcc=>{const _0x2331c1=_0x46a8c0;if(_0x468bcc[_0x2331c1(0x4d9)]==='Enter')handleAdminLogin();}),document[_0x46a8c0(0x365)](_0x46a8c0(0x4f4))['addEventListener'](_0x46a8c0(0x136),()=>{const _0x583a8c=_0x46a8c0;confirmationModal[_0x583a8c(0x1da)][_0x583a8c(0x114)](_0x583a8c(0x5ba)),confirmAction=null;}),document['getElementById']('confirm-delete-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x2cabc3=_0x46a8c0;confirmAction&&confirmAction(),confirmationModal['classList'][_0x2cabc3(0x114)](_0x2cabc3(0x5ba)),confirmAction=null;}),document[_0x46a8c0(0x365)](_0x46a8c0(0x66e))['addEventListener'](_0x46a8c0(0x136),()=>renameQuizModal[_0x46a8c0(0x1da)][_0x46a8c0(0x114)](_0x46a8c0(0x5ba))),document[_0x46a8c0(0x365)](_0x46a8c0(0x190))[_0x46a8c0(0x303)](_0x46a8c0(0x136),confirmRenameQuiz),document[_0x46a8c0(0x365)]('cancel-move-quiz-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>moveQuizModal['classList']['add']('hidden')),document[_0x46a8c0(0x365)](_0x46a8c0(0x22a))['addEventListener'](_0x46a8c0(0x136),confirmMoveQuiz),document['getElementById'](_0x46a8c0(0x58e))['addEventListener'](_0x46a8c0(0x136),()=>quizSettingsModal[_0x46a8c0(0x1da)][_0x46a8c0(0x114)](_0x46a8c0(0x5ba))),document['getElementById'](_0x46a8c0(0x44a))[_0x46a8c0(0x303)](_0x46a8c0(0x136),confirmQuizSettings),document[_0x46a8c0(0x365)](_0x46a8c0(0x609))[_0x46a8c0(0x303)]('click',()=>quizStatusModal[_0x46a8c0(0x1da)]['add'](_0x46a8c0(0x5ba))),document[_0x46a8c0(0x365)]('confirm-quiz-status-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),confirmQuizStatus),document[_0x46a8c0(0x365)](_0x46a8c0(0x532))['addEventListener'](_0x46a8c0(0x136),openGlobalLiveModal),document[_0x46a8c0(0x365)](_0x46a8c0(0x570))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x535063=_0x46a8c0;document[_0x535063(0x365)](_0x535063(0x30a))['classList']['add']('hidden'),selectedGlobalQuizId=null;}),document['getElementById'](_0x46a8c0(0x40a))[_0x46a8c0(0x303)]('input',_0x2924a5=>renderGlobalQuizList(_0x2924a5[_0x46a8c0(0x12f)][_0x46a8c0(0x601)])),document[_0x46a8c0(0x365)](_0x46a8c0(0x4f5))['addEventListener'](_0x46a8c0(0x136),()=>{const _0x3a18ad=_0x46a8c0,_0xd07480=selectedGlobalQuizId;if(!_0xd07480)return;document[_0x3a18ad(0x365)](_0x3a18ad(0x30a))[_0x3a18ad(0x1da)][_0x3a18ad(0x114)](_0x3a18ad(0x5ba)),handleStartLiveRace(_0xd07480);}),document[_0x46a8c0(0x365)](_0x46a8c0(0xc0))[_0x46a8c0(0x303)]('input',renderProjects),document[_0x46a8c0(0x365)](_0x46a8c0(0x424))[_0x46a8c0(0x303)]('change',renderProjects),document[_0x46a8c0(0x365)](_0x46a8c0(0x514))[_0x46a8c0(0x303)](_0x46a8c0(0x330),renderQuizzes),manageTab[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>switchProjectTab(_0x46a8c0(0x535))),resultsTab[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>switchProjectTab(_0x46a8c0(0x5a5))),leaderboardTab['addEventListener'](_0x46a8c0(0x136),()=>switchProjectTab(_0x46a8c0(0x401))),document[_0x46a8c0(0x365)](_0x46a8c0(0x624))[_0x46a8c0(0x303)]('click',()=>switchQuizDetailTab(_0x46a8c0(0x679))),document[_0x46a8c0(0x365)](_0x46a8c0(0x2b4))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>switchQuizDetailTab('scores')),document['getElementById']('leaderboard-quiz-tab-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>switchQuizDetailTab(_0x46a8c0(0x405))),document[_0x46a8c0(0x365)](_0x46a8c0(0x325))[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleAnalyzeClass),generateWorksheetBtn[_0x46a8c0(0x303)](_0x46a8c0(0x136),generateWorksheet);const _0x4ef974=document[_0x46a8c0(0x365)](_0x46a8c0(0x257)),_0x55d395=document['getElementById'](_0x46a8c0(0x3a5)),_0x1cfde6=document['getElementById'](_0x46a8c0(0x19a)),_0x15eb83=document[_0x46a8c0(0x365)](_0x46a8c0(0x4c6)),_0x46dbe3=document[_0x46a8c0(0x365)]('parallel-test-tab'),_0x70c58f=document[_0x46a8c0(0x365)](_0x46a8c0(0xb7));topicTab[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x134fe5=_0x46a8c0;topicTab[_0x134fe5(0x1da)]['add'](_0x134fe5(0x480)),textTab[_0x134fe5(0x1da)]['remove'](_0x134fe5(0x480)),fileTab[_0x134fe5(0x1da)][_0x134fe5(0x221)](_0x134fe5(0x480)),worksheetTab[_0x134fe5(0x1da)][_0x134fe5(0x221)]('active');if(_0x4ef974)_0x4ef974[_0x134fe5(0x1da)][_0x134fe5(0x221)](_0x134fe5(0x480));if(_0x1cfde6)_0x1cfde6['classList'][_0x134fe5(0x221)](_0x134fe5(0x480));if(_0x46dbe3)_0x46dbe3[_0x134fe5(0x1da)][_0x134fe5(0x221)](_0x134fe5(0x480));topicInputArea[_0x134fe5(0x1da)][_0x134fe5(0x221)](_0x134fe5(0x5ba)),textInputArea[_0x134fe5(0x1da)][_0x134fe5(0x114)]('hidden'),fileInputArea[_0x134fe5(0x1da)][_0x134fe5(0x114)](_0x134fe5(0x5ba)),worksheetInputArea[_0x134fe5(0x1da)][_0x134fe5(0x114)](_0x134fe5(0x5ba));if(_0x55d395)_0x55d395[_0x134fe5(0x1da)][_0x134fe5(0x114)](_0x134fe5(0x5ba));if(_0x15eb83)_0x15eb83[_0x134fe5(0x1da)][_0x134fe5(0x114)]('hidden');if(_0x70c58f)_0x70c58f[_0x134fe5(0x1da)]['add'](_0x134fe5(0x5ba));}),textTab[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x56ce97=_0x46a8c0;textTab['classList']['add'](_0x56ce97(0x480)),topicTab[_0x56ce97(0x1da)][_0x56ce97(0x221)]('active'),fileTab['classList'][_0x56ce97(0x221)]('active'),worksheetTab[_0x56ce97(0x1da)]['remove'](_0x56ce97(0x480));if(_0x4ef974)_0x4ef974[_0x56ce97(0x1da)]['remove'](_0x56ce97(0x480));if(_0x1cfde6)_0x1cfde6['classList'][_0x56ce97(0x221)](_0x56ce97(0x480));if(_0x46dbe3)_0x46dbe3[_0x56ce97(0x1da)]['remove']('active');textInputArea['classList'][_0x56ce97(0x221)](_0x56ce97(0x5ba)),topicInputArea['classList']['add']('hidden'),fileInputArea[_0x56ce97(0x1da)]['add']('hidden'),worksheetInputArea[_0x56ce97(0x1da)][_0x56ce97(0x114)](_0x56ce97(0x5ba));if(_0x55d395)_0x55d395[_0x56ce97(0x1da)][_0x56ce97(0x114)]('hidden');if(_0x15eb83)_0x15eb83[_0x56ce97(0x1da)]['add'](_0x56ce97(0x5ba));if(_0x70c58f)_0x70c58f[_0x56ce97(0x1da)][_0x56ce97(0x114)](_0x56ce97(0x5ba));}),fileTab['addEventListener'](_0x46a8c0(0x136),()=>{const _0x3d91cf=_0x46a8c0;fileTab[_0x3d91cf(0x1da)][_0x3d91cf(0x114)](_0x3d91cf(0x480)),topicTab[_0x3d91cf(0x1da)][_0x3d91cf(0x221)]('active'),textTab['classList'][_0x3d91cf(0x221)](_0x3d91cf(0x480)),worksheetTab['classList']['remove'](_0x3d91cf(0x480));if(_0x4ef974)_0x4ef974[_0x3d91cf(0x1da)][_0x3d91cf(0x221)]('active');if(_0x1cfde6)_0x1cfde6['classList']['remove']('active');if(_0x46dbe3)_0x46dbe3['classList'][_0x3d91cf(0x221)](_0x3d91cf(0x480));fileInputArea[_0x3d91cf(0x1da)][_0x3d91cf(0x221)](_0x3d91cf(0x5ba)),topicInputArea[_0x3d91cf(0x1da)]['add'](_0x3d91cf(0x5ba)),textInputArea[_0x3d91cf(0x1da)]['add'](_0x3d91cf(0x5ba)),worksheetInputArea[_0x3d91cf(0x1da)][_0x3d91cf(0x114)](_0x3d91cf(0x5ba));if(_0x55d395)_0x55d395[_0x3d91cf(0x1da)][_0x3d91cf(0x114)](_0x3d91cf(0x5ba));if(_0x15eb83)_0x15eb83[_0x3d91cf(0x1da)]['add'](_0x3d91cf(0x5ba));if(_0x70c58f)_0x70c58f[_0x3d91cf(0x1da)]['add'](_0x3d91cf(0x5ba));}),worksheetTab[_0x46a8c0(0x303)]('click',()=>{const _0x372717=_0x46a8c0;worksheetTab[_0x372717(0x1da)]['add'](_0x372717(0x480)),topicTab[_0x372717(0x1da)]['remove']('active'),textTab['classList'][_0x372717(0x221)](_0x372717(0x480)),fileTab[_0x372717(0x1da)]['remove']('active');if(_0x4ef974)_0x4ef974[_0x372717(0x1da)][_0x372717(0x221)]('active');if(_0x1cfde6)_0x1cfde6[_0x372717(0x1da)]['remove'](_0x372717(0x480));if(_0x46dbe3)_0x46dbe3[_0x372717(0x1da)]['remove'](_0x372717(0x480));worksheetInputArea['classList']['remove'](_0x372717(0x5ba)),topicInputArea[_0x372717(0x1da)][_0x372717(0x114)](_0x372717(0x5ba)),textInputArea[_0x372717(0x1da)]['add']('hidden'),fileInputArea[_0x372717(0x1da)][_0x372717(0x114)]('hidden');if(_0x55d395)_0x55d395[_0x372717(0x1da)][_0x372717(0x114)](_0x372717(0x5ba));if(_0x15eb83)_0x15eb83[_0x372717(0x1da)][_0x372717(0x114)](_0x372717(0x5ba));if(_0x70c58f)_0x70c58f['classList'][_0x372717(0x114)](_0x372717(0x5ba));});const _0x575e7d=document[_0x46a8c0(0x365)](_0x46a8c0(0x5c8)),_0x1a98c9=document[_0x46a8c0(0x365)](_0x46a8c0(0x22f));_0x575e7d&&_0x575e7d[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x1466c8=_0x46a8c0;topicTab[_0x1466c8(0x1da)][_0x1466c8(0x221)](_0x1466c8(0x480)),textTab[_0x1466c8(0x1da)]['remove'](_0x1466c8(0x480)),fileTab['classList'][_0x1466c8(0x221)](_0x1466c8(0x480)),worksheetTab[_0x1466c8(0x1da)]['remove'](_0x1466c8(0x480));if(_0x4ef974)_0x4ef974[_0x1466c8(0x1da)][_0x1466c8(0x221)](_0x1466c8(0x480));if(_0x1cfde6)_0x1cfde6[_0x1466c8(0x1da)]['remove'](_0x1466c8(0x480));if(_0x46dbe3)_0x46dbe3[_0x1466c8(0x1da)][_0x1466c8(0x221)](_0x1466c8(0x480));_0x575e7d['classList'][_0x1466c8(0x114)]('active'),topicInputArea[_0x1466c8(0x1da)][_0x1466c8(0x114)](_0x1466c8(0x5ba)),textInputArea[_0x1466c8(0x1da)][_0x1466c8(0x114)](_0x1466c8(0x5ba)),fileInputArea[_0x1466c8(0x1da)][_0x1466c8(0x114)]('hidden'),worksheetInputArea[_0x1466c8(0x1da)]['add'](_0x1466c8(0x5ba));if(_0x55d395)_0x55d395['classList'][_0x1466c8(0x114)](_0x1466c8(0x5ba));if(_0x15eb83)_0x15eb83[_0x1466c8(0x1da)][_0x1466c8(0x114)](_0x1466c8(0x5ba));if(_0x70c58f)_0x70c58f[_0x1466c8(0x1da)][_0x1466c8(0x114)](_0x1466c8(0x5ba));_0x1a98c9['classList'][_0x1466c8(0x221)](_0x1466c8(0x5ba)),displayQuestionBank();});_0x4ef974&&(_0x4ef974[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x568112=_0x46a8c0;_0x4ef974[_0x568112(0x1da)][_0x568112(0x114)](_0x568112(0x480)),topicTab[_0x568112(0x1da)]['remove']('active'),textTab[_0x568112(0x1da)][_0x568112(0x221)](_0x568112(0x480)),fileTab[_0x568112(0x1da)][_0x568112(0x221)](_0x568112(0x480)),worksheetTab['classList'][_0x568112(0x221)]('active');if(_0x1cfde6)_0x1cfde6[_0x568112(0x1da)]['remove'](_0x568112(0x480));if(_0x46dbe3)_0x46dbe3['classList'][_0x568112(0x221)]('active');_0x55d395['classList'][_0x568112(0x221)](_0x568112(0x5ba)),topicInputArea['classList'][_0x568112(0x114)](_0x568112(0x5ba)),textInputArea[_0x568112(0x1da)]['add'](_0x568112(0x5ba)),fileInputArea[_0x568112(0x1da)][_0x568112(0x114)]('hidden'),worksheetInputArea['classList'][_0x568112(0x114)]('hidden');if(_0x15eb83)_0x15eb83['classList'][_0x568112(0x114)]('hidden');if(_0x70c58f)_0x70c58f['classList'][_0x568112(0x114)](_0x568112(0x5ba));}),document[_0x46a8c0(0x365)](_0x46a8c0(0x641))[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleGenerateFromLink));_0x1cfde6&&_0x1cfde6[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x557429=_0x46a8c0;_0x1cfde6[_0x557429(0x1da)][_0x557429(0x114)]('active'),topicTab[_0x557429(0x1da)][_0x557429(0x221)](_0x557429(0x480)),textTab[_0x557429(0x1da)][_0x557429(0x221)](_0x557429(0x480)),fileTab[_0x557429(0x1da)][_0x557429(0x221)](_0x557429(0x480)),worksheetTab[_0x557429(0x1da)][_0x557429(0x221)](_0x557429(0x480));if(_0x4ef974)_0x4ef974[_0x557429(0x1da)][_0x557429(0x221)](_0x557429(0x480));if(_0x575e7d)_0x575e7d[_0x557429(0x1da)][_0x557429(0x221)]('active');if(_0x46dbe3)_0x46dbe3[_0x557429(0x1da)][_0x557429(0x221)](_0x557429(0x480));_0x15eb83[_0x557429(0x1da)][_0x557429(0x221)](_0x557429(0x5ba)),topicInputArea[_0x557429(0x1da)][_0x557429(0x114)](_0x557429(0x5ba)),textInputArea[_0x557429(0x1da)][_0x557429(0x114)]('hidden'),fileInputArea[_0x557429(0x1da)][_0x557429(0x114)](_0x557429(0x5ba)),worksheetInputArea[_0x557429(0x1da)]['add']('hidden');if(_0x55d395)_0x55d395[_0x557429(0x1da)][_0x557429(0x114)]('hidden');if(_0x1a98c9)_0x1a98c9['classList'][_0x557429(0x114)](_0x557429(0x5ba));if(_0x70c58f)_0x70c58f[_0x557429(0x1da)][_0x557429(0x114)]('hidden');});_0x46dbe3&&_0x46dbe3['addEventListener']('click',()=>{const _0x500855=_0x46a8c0;_0x46dbe3[_0x500855(0x1da)][_0x500855(0x114)](_0x500855(0x480)),topicTab['classList'][_0x500855(0x221)](_0x500855(0x480)),textTab[_0x500855(0x1da)][_0x500855(0x221)](_0x500855(0x480)),fileTab[_0x500855(0x1da)][_0x500855(0x221)](_0x500855(0x480)),worksheetTab[_0x500855(0x1da)]['remove'](_0x500855(0x480));if(_0x4ef974)_0x4ef974[_0x500855(0x1da)][_0x500855(0x221)]('active');if(_0x1cfde6)_0x1cfde6[_0x500855(0x1da)][_0x500855(0x221)](_0x500855(0x480));if(_0x575e7d)_0x575e7d[_0x500855(0x1da)][_0x500855(0x221)]('active');_0x70c58f[_0x500855(0x1da)]['remove']('hidden'),topicInputArea[_0x500855(0x1da)][_0x500855(0x114)](_0x500855(0x5ba)),textInputArea[_0x500855(0x1da)]['add'](_0x500855(0x5ba)),fileInputArea[_0x500855(0x1da)]['add']('hidden'),worksheetInputArea['classList'][_0x500855(0x114)]('hidden');if(_0x55d395)_0x55d395[_0x500855(0x1da)][_0x500855(0x114)](_0x500855(0x5ba));if(_0x15eb83)_0x15eb83[_0x500855(0x1da)][_0x500855(0x114)](_0x500855(0x5ba));if(_0x1a98c9)_0x1a98c9[_0x500855(0x1da)][_0x500855(0x114)](_0x500855(0x5ba));});const _0x1c0713=document[_0x46a8c0(0x365)](_0x46a8c0(0x3f7)),_0x2852a6=document[_0x46a8c0(0x365)](_0x46a8c0(0x1cc));_0x1c0713&&_0x1c0713[_0x46a8c0(0x303)]('change',_0x330a75=>{const _0x2d1cc2=_0x46a8c0;_0x330a75[_0x2d1cc2(0x12f)][_0x2d1cc2(0x642)][_0x2d1cc2(0x317)]>0x0?_0x2852a6[_0x2d1cc2(0x1ea)]=![]:_0x2852a6[_0x2d1cc2(0x1ea)]=!![];});_0x2852a6&&_0x2852a6[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleGenerateFromBlueprint);const _0x43e8a2=document[_0x46a8c0(0x365)](_0x46a8c0(0x2eb)),_0x17f98b=document['getElementById'](_0x46a8c0(0x5fe));_0x43e8a2&&_0x43e8a2[_0x46a8c0(0x303)](_0x46a8c0(0x47a),_0x38b320=>{const _0x44b7b4=_0x46a8c0;_0x17f98b['disabled']=_0x38b320['target'][_0x44b7b4(0x642)][_0x44b7b4(0x317)]===0x0;});_0x17f98b&&_0x17f98b[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleGenerateParallelTest);loadQuizBtn[_0x46a8c0(0x303)]('click',handleLoadQuiz),startQuizBtn[_0x46a8c0(0x303)]('click',()=>{const _0x573f34=_0x46a8c0,_0x378afa=document[_0x573f34(0x365)](_0x573f34(0x58f));currentStudentName=_0x378afa[_0x573f34(0x601)];if(!currentStudentName){showMessage(_0x573f34(0xd7));return;}studentNameSelectionView[_0x573f34(0x1da)][_0x573f34(0x114)](_0x573f34(0x5ba)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x46a8c0(0x365)](_0x46a8c0(0x54f))[_0x46a8c0(0x303)]('click',showJoinGameView),document[_0x46a8c0(0x365)]('confirm-join-game-btn')[_0x46a8c0(0x303)]('click',handleJoinLiveGame),document[_0x46a8c0(0x365)]('back-to-student-initial-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>showView(_0x46a8c0(0x628)));const _0x4012a5=()=>{const _0x41d892=_0x46a8c0,_0x5bc96b=document[_0x41d892(0x365)](_0x41d892(0x2cc))['textContent'][_0x41d892(0x626)](/[^a-z0-9]/gi,'_')[_0x41d892(0x5b0)]();return _0x41d892(0x614)+(_0x5bc96b||'quiz');},_0x4be445=document['getElementById'](_0x46a8c0(0x2e1));_0x4be445&&_0x4be445['addEventListener'](_0x46a8c0(0x330),_0x41585d=>{const _0x35ab02=_0x46a8c0,_0x9949e2=_0x41585d[_0x35ab02(0x12f)][_0x35ab02(0x601)][_0x35ab02(0x5b0)]()[_0x35ab02(0x25a)](),_0x525f48=document['getElementById'](_0x35ab02(0x374)),_0x3e165f=_0x525f48['querySelectorAll'](_0x35ab02(0x1cd));_0x3e165f['forEach'](_0x279ee7=>{const _0x375f0f=_0x35ab02;let _0xdcd32f=![];const _0x3594ac=_0x279ee7[_0x375f0f(0x57e)](_0x375f0f(0x592));_0x3594ac[_0x375f0f(0x34d)](_0x98819d=>{const _0x348b9c=_0x375f0f,_0x37c47f=_0x98819d['textContent'][_0x348b9c(0x5b0)]();_0x37c47f[_0x348b9c(0x616)](_0x9949e2)?(_0x98819d['style'][_0x348b9c(0x2dd)]='flex',_0xdcd32f=!![]):_0x98819d['style'][_0x348b9c(0x2dd)]=_0x348b9c(0x48c);}),_0xdcd32f?_0x279ee7['style'][_0x375f0f(0x2dd)]='block':_0x279ee7[_0x375f0f(0x2a9)][_0x375f0f(0x2dd)]=_0x375f0f(0x48c);});});document['getElementById'](_0x46a8c0(0x3d1))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>exportTableAsImage(_0x46a8c0(0xc4),_0x4012a5())),document['getElementById']('export-pdf-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>exportTableAsPDF(_0x46a8c0(0x5f2),_0x4012a5())),document['getElementById'](_0x46a8c0(0x53e))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>exportTableAsWord('results-table-container',_0x4012a5())),document[_0x46a8c0(0x365)](_0x46a8c0(0xe3))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>exportTableAsExcel(_0x46a8c0(0x5f2),_0x4012a5()));const _0x377ef4=()=>{const _0x379945=_0x46a8c0,_0x5923b6=document['getElementById'](_0x379945(0x2cc))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x379945(0x5b0)]();return _0x379945(0x435)+(_0x5923b6||_0x379945(0x2cf));};document[_0x46a8c0(0x365)](_0x46a8c0(0xba))['addEventListener'](_0x46a8c0(0x136),()=>exportTableAsImage(_0x46a8c0(0x2d5),_0x377ef4())),document[_0x46a8c0(0x365)](_0x46a8c0(0x1b9))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>exportTableAsPDF(_0x46a8c0(0x29c),_0x377ef4())),document[_0x46a8c0(0x365)]('export-leaderboard-word-btn')[_0x46a8c0(0x303)]('click',()=>exportTableAsWord(_0x46a8c0(0x2d5),_0x377ef4())),document[_0x46a8c0(0x365)](_0x46a8c0(0x29d))[_0x46a8c0(0x303)]('click',()=>exportTableAsExcel(_0x46a8c0(0x29c),_0x377ef4())),projectQuizzesList['addEventListener'](_0x46a8c0(0x136),async _0x28d19e=>{const _0x502c5c=_0x46a8c0,_0x584881=_0x28d19e['target']['closest'](_0x502c5c(0x14a)),_0x3dbf7a=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)](_0x502c5c(0x235)),_0xb5e1e4=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)](_0x502c5c(0x2c3)),_0x223c2f=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)]('.start-presentation-list-btn'),_0x4bbeb2=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)](_0x502c5c(0x289)),_0x3308f5=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)](_0x502c5c(0x32b)),_0x49821d=_0x28d19e['target'][_0x502c5c(0x676)](_0x502c5c(0x23b)),_0x3c07e4=_0x28d19e['target'][_0x502c5c(0x676)](_0x502c5c(0x604)),_0x9860ac=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)](_0x502c5c(0x4a7)),_0x5814e2=_0x28d19e['target'][_0x502c5c(0x676)]('.duplicate-quiz-btn'),_0x4f47c5=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)](_0x502c5c(0x4ab)),_0x234eb2=_0x28d19e[_0x502c5c(0x12f)][_0x502c5c(0x676)](_0x502c5c(0x49a)),_0x10602a=_0x28d19e[_0x502c5c(0x12f)]['closest'](_0x502c5c(0xaf));if(_0x234eb2){const _0xefb68f=_0x234eb2[_0x502c5c(0x5ab)]['quizId'];handleOpenQuizEditor(_0xefb68f);}else{if(_0x10602a){const _0x448c76=_0x10602a[_0x502c5c(0x5ab)]['quizId'],_0x38f02c=allQuizzes['find'](_0x1d2f2f=>_0x1d2f2f['id']===_0x448c76);_0x38f02c?handleGenerateParallelFromBank(_0x38f02c):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x584881){const _0xe774b6=_0x584881[_0x502c5c(0x5ab)]['quizId'];handleToggleStarQuiz(_0xe774b6);}else{if(_0x4f47c5){const _0xbb2da3=_0x4f47c5['dataset'][_0x502c5c(0x643)];handleStartLiveRace(_0xbb2da3);}else{if(_0x3dbf7a){const _0x555a94=_0x3dbf7a[_0x502c5c(0x5ab)]['quizId'],_0x14498a=_0x3dbf7a[_0x502c5c(0x5ab)]['topic'];showConfirmation(_0x502c5c(0x415)+_0x14498a+'\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x555a94));}else{if(_0xb5e1e4){const _0x3004e1=_0xb5e1e4['dataset'][_0x502c5c(0x643)];copyTextToClipboard(_0x3004e1,'คัดลอกรหัสแล้ว!');}else{if(_0x223c2f){const _0x4d995c=_0x223c2f[_0x502c5c(0x5ab)][_0x502c5c(0x643)],_0x293154=doc(db,_0x502c5c(0x430)+appId+_0x502c5c(0x394),_0x4d995c),_0x1691a3=await getDoc(_0x293154);if(_0x1691a3[_0x502c5c(0x11b)]()){const _0xc0d269={'id':_0x1691a3['id'],..._0x1691a3[_0x502c5c(0x29f)]()};startPresentation(_0xc0d269);}else showMessage(_0x502c5c(0x26d));}else{if(_0x4bbeb2){const _0x5b7d3b=_0x4bbeb2[_0x502c5c(0x5ab)]['quizId'],_0x48f013=doc(db,_0x502c5c(0x430)+appId+_0x502c5c(0x394),_0x5b7d3b),_0x232ca3=await getDoc(_0x48f013);_0x232ca3[_0x502c5c(0x11b)]()?(currentQuizData={'id':_0x232ca3['id'],..._0x232ca3['data']()},startAdminTest()):showMessage(_0x502c5c(0x26d));}else{if(_0x3308f5){const _0x2c6ad7=_0x3308f5['dataset'][_0x502c5c(0x643)],_0xb709c=_0x3308f5[_0x502c5c(0x5ab)]['topic'];handleRenameQuiz(_0x2c6ad7,_0xb709c);}else{if(_0x49821d){const _0x3a7155=_0x49821d[_0x502c5c(0x5ab)][_0x502c5c(0x643)];handleMoveQuiz(_0x3a7155);}else{if(_0x3c07e4){const _0x2b277d=_0x3c07e4[_0x502c5c(0x5ab)][_0x502c5c(0x643)];handleQuizSettings(_0x2b277d);}else{if(_0x9860ac){const _0x27198f=_0x9860ac['dataset'][_0x502c5c(0x643)];handleQuizStatus(_0x27198f);}else{if(_0x5814e2){const _0x51b3d9=_0x5814e2[_0x502c5c(0x5ab)]['quizId'];handleDuplicateQuiz(_0x51b3d9);}}}}}}}}}}}}}}),document[_0x46a8c0(0x365)](_0x46a8c0(0x29c))['querySelector'](_0x46a8c0(0x5de))[_0x46a8c0(0x303)](_0x46a8c0(0x136),_0x4a3f80=>{const _0x1a171d=_0x46a8c0,_0x521871=_0x4a3f80[_0x1a171d(0x12f)][_0x1a171d(0x676)](_0x1a171d(0x5cd));if(!_0x521871||!_0x521871[_0x1a171d(0x5ab)][_0x1a171d(0x2b6)])return;const _0x7a1aef=_0x521871[_0x1a171d(0x5ab)][_0x1a171d(0x2b6)];if(quizLeaderboardSortBy===_0x7a1aef)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x1a171d(0x126)?_0x1a171d(0x568):'asc';else{quizLeaderboardSortBy=_0x7a1aef;const _0x25d587=[_0x1a171d(0x213)];quizLeaderboardSortOrder=_0x25d587['includes'](_0x7a1aef)?'asc':_0x1a171d(0x568);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1a171d(0x544));}),document[_0x46a8c0(0x365)](_0x46a8c0(0x498))[_0x46a8c0(0x303)](_0x46a8c0(0x136),closePresentation),document[_0x46a8c0(0x365)](_0x46a8c0(0x384))['addEventListener'](_0x46a8c0(0x136),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x46a8c0(0x365)](_0x46a8c0(0x625))['addEventListener'](_0x46a8c0(0x136),()=>{const _0x480e37=_0x46a8c0;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x480e37(0x4b9)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x46a8c0(0x303)](_0x46a8c0(0x386),()=>{const _0x4278ad=_0x46a8c0;!document['fullscreenElement']&&(presentationModal[_0x4278ad(0x2a9)][_0x4278ad(0x2dd)]=_0x4278ad(0x48c));}),document[_0x46a8c0(0x365)]('delete-all-students-btn')[_0x46a8c0(0x303)](_0x46a8c0(0x136),handleDeleteAllStudents),studentList[_0x46a8c0(0x303)](_0x46a8c0(0x136),_0x2ec68a=>{const _0x46ed28=_0x46a8c0,_0x1b6573=_0x2ec68a[_0x46ed28(0x12f)]['closest'](_0x46ed28(0xc9));if(_0x1b6573){const _0x507528=_0x1b6573[_0x46ed28(0x5ab)][_0x46ed28(0x213)];handleDeleteStudent(_0x507528);}}),document[_0x46a8c0(0x365)]('generate-from-file-btn')[_0x46a8c0(0x303)]('click',handleGenerateFromFileClick),fileUploadInput[_0x46a8c0(0x303)](_0x46a8c0(0x47a),_0x254684=>{const _0x48278f=_0x46a8c0,_0x1b4b4f=_0x254684['target']['files'][0x0],_0x5f369c=document['getElementById']('generate-from-file-btn');_0x1b4b4f?(selectedFile=_0x1b4b4f,_0x5f369c[_0x48278f(0x1ea)]=![]):(selectedFile=null,_0x5f369c['disabled']=!![]);}),document[_0x46a8c0(0x365)](_0x46a8c0(0x447))[_0x46a8c0(0x303)](_0x46a8c0(0x47a),_0x5882a3=>{const _0x47b0ae=_0x46a8c0,_0x598ed4=document[_0x47b0ae(0x365)](_0x47b0ae(0x205)),_0x2e8e16=document[_0x47b0ae(0x365)](_0x47b0ae(0x493)),_0x3912bc=document['getElementById']('timer-duration-input');_0x5882a3['target'][_0x47b0ae(0x601)]===_0x47b0ae(0x48c)?_0x598ed4[_0x47b0ae(0x1da)][_0x47b0ae(0x114)]('hidden'):(_0x598ed4['classList'][_0x47b0ae(0x221)](_0x47b0ae(0x5ba)),_0x5882a3['target'][_0x47b0ae(0x601)]==='whole_quiz'?(_0x2e8e16[_0x47b0ae(0x5c3)]=_0x47b0ae(0x47b),_0x3912bc[_0x47b0ae(0x601)]='10'):(_0x2e8e16[_0x47b0ae(0x5c3)]=_0x47b0ae(0x1a2),_0x3912bc[_0x47b0ae(0x601)]='30'));}),document[_0x46a8c0(0x365)](_0x46a8c0(0x2fc))[_0x46a8c0(0x303)](_0x46a8c0(0x47a),_0x47e5f2=>{const _0xa139b7=_0x46a8c0,_0x2ad24a=document[_0xa139b7(0x365)](_0xa139b7(0x33d)),_0x871ad1=_0x47e5f2['target'][_0xa139b7(0x601)],_0x146887=document[_0xa139b7(0x323)](_0xa139b7(0x3db)),_0x5df5ab=document[_0xa139b7(0x365)](_0xa139b7(0x66f)),_0x1ea1d3=document[_0xa139b7(0x365)](_0xa139b7(0x20b));_0x871ad1==='matching'?_0x146887[_0xa139b7(0x5c3)]='จำนวนคู่:':_0x146887[_0xa139b7(0x5c3)]='จำนวนข้อ:',_0x871ad1===_0xa139b7(0x3ac)||_0x871ad1==='fill_in_with_choices'||_0x871ad1===_0xa139b7(0x370)?_0x2ad24a['classList'][_0xa139b7(0x221)](_0xa139b7(0x5ba)):_0x2ad24a[_0xa139b7(0x1da)][_0xa139b7(0x114)](_0xa139b7(0x5ba)),_0x5df5ab[_0xa139b7(0x286)]=_0x1ea1d3['value'];}),document[_0x46a8c0(0x365)](_0x46a8c0(0x20b))[_0x46a8c0(0x303)](_0x46a8c0(0x330),_0x44f835=>{const _0x51d0a7=_0x46a8c0;document[_0x51d0a7(0x365)]('passing-score-input')['max']=_0x44f835[_0x51d0a7(0x12f)][_0x51d0a7(0x601)];}),document[_0x46a8c0(0x365)](_0x46a8c0(0x1f5))[_0x46a8c0(0x303)](_0x46a8c0(0x47a),_0x4a60a5=>{const _0x3b262e=_0x46a8c0,_0x3cb4d5=document[_0x3b262e(0x365)]('modal-timer-duration-container'),_0x68c63f=document[_0x3b262e(0x365)](_0x3b262e(0x2e7)),_0x5329fe=document[_0x3b262e(0x365)](_0x3b262e(0x526));_0x4a60a5['target']['value']===_0x3b262e(0x48c)?_0x3cb4d5[_0x3b262e(0x1da)]['add'](_0x3b262e(0x5ba)):(_0x3cb4d5[_0x3b262e(0x1da)][_0x3b262e(0x221)](_0x3b262e(0x5ba)),_0x4a60a5[_0x3b262e(0x12f)][_0x3b262e(0x601)]===_0x3b262e(0x1e2)?_0x68c63f[_0x3b262e(0x5c3)]='ระยะเวลา\x20(นาที):':_0x68c63f[_0x3b262e(0x5c3)]=_0x3b262e(0x1a2));}),document[_0x46a8c0(0x365)](_0x46a8c0(0x216))[_0x46a8c0(0x303)](_0x46a8c0(0x136),()=>{const _0x377c68=_0x46a8c0;document['getElementById'](_0x377c68(0x49c))[_0x377c68(0x1da)][_0x377c68(0x114)](_0x377c68(0x5ba));}),document[_0x46a8c0(0x365)]('cancel-quiz-edits-btn-footer')['addEventListener'](_0x46a8c0(0x136),()=>{const _0xb94c20=_0x46a8c0;document[_0xb94c20(0x365)](_0xb94c20(0x49c))[_0xb94c20(0x1da)][_0xb94c20(0x114)](_0xb94c20(0x5ba));}),document[_0x46a8c0(0x365)](_0x46a8c0(0x23f))['addEventListener']('click',()=>{const _0x557aab=_0x46a8c0;document['getElementById'](_0x557aab(0x49c))[_0x557aab(0x1da)][_0x557aab(0x114)](_0x557aab(0x5ba)),showConfirmation(_0x557aab(0x10d),handleSaveChanges);}),document[_0x46a8c0(0x365)](_0x46a8c0(0x631))['addEventListener']('click',handleAutoFixLatex);const _0x56f338=document['getElementById'](_0x46a8c0(0x42e));_0x56f338&&_0x56f338[_0x46a8c0(0x303)]('click',_0x141562=>{const _0x1b1e48=_0x46a8c0,_0x5f4de5=_0x141562[_0x1b1e48(0x12f)][_0x1b1e48(0x676)](_0x1b1e48(0x2e9));if(_0x5f4de5){const _0x5efb42=_0x5f4de5['closest']('.question-editor-item'),_0x2155f4=parseInt(_0x5efb42[_0x1b1e48(0x5ab)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x2155f4);}});document[_0x46a8c0(0x365)](_0x46a8c0(0x5c4))[_0x46a8c0(0x303)](_0x46a8c0(0x136),openQuizBankModal),document[_0x46a8c0(0x365)]('cancel-quiz-bank-btn')['addEventListener'](_0x46a8c0(0x136),()=>{const _0x18f73b=_0x46a8c0;document[_0x18f73b(0x365)](_0x18f73b(0x659))['classList']['add']('hidden');}),document[_0x46a8c0(0x365)](_0x46a8c0(0x225))[_0x46a8c0(0x303)](_0x46a8c0(0x330),_0x61dfa0=>renderQuizBankList(_0x61dfa0[_0x46a8c0(0x12f)]['value']));const _0x307a20=document[_0x46a8c0(0x365)](_0x46a8c0(0x374));if(_0x307a20){let _0x59f057=null;_0x307a20[_0x46a8c0(0x303)](_0x46a8c0(0x136),_0x20501f=>{const _0x2328a6=_0x46a8c0,_0x8d0c5a=_0x20501f['target'],_0x10f8ad=_0x8d0c5a[_0x2328a6(0x676)](_0x2328a6(0x627)),_0x2f79a9=_0x8d0c5a[_0x2328a6(0x676)](_0x2328a6(0x206)),_0x1ec8af=_0x8d0c5a[_0x2328a6(0x676)](_0x2328a6(0x363)),_0x3da04f=_0x8d0c5a[_0x2328a6(0x676)](_0x2328a6(0x530));if(_0x2f79a9){_0x20501f[_0x2328a6(0x134)]();const _0x1a155c=_0x2f79a9[_0x2328a6(0x5ab)]['id'],_0x4db541=_0x2f79a9['closest'](_0x2328a6(0x3c4))[_0x2328a6(0x323)](_0x2328a6(0x57b))[_0x2328a6(0x5c3)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x4db541+'\x22?',()=>handleDeleteCustomTopic(_0x1a155c));}else{if(_0x10f8ad){_0x20501f[_0x2328a6(0x134)]();_0x59f057&&toggleTopicEditMode(_0x59f057,![]);const _0x3884c4=_0x10f8ad[_0x2328a6(0x676)](_0x2328a6(0x5cf));_0x59f057=_0x3884c4,toggleTopicEditMode(_0x3884c4,!![]);}else{if(_0x1ec8af){_0x20501f[_0x2328a6(0x134)]();const _0x274293=_0x1ec8af[_0x2328a6(0x5ab)]['id'],_0x43d8fd=_0x1ec8af[_0x2328a6(0x676)](_0x2328a6(0x5cf)),_0x14c2b3=_0x43d8fd['querySelector'](_0x2328a6(0x3bd))['value'];handleUpdateCustomTopic(_0x274293,_0x14c2b3),_0x59f057=null;}else{if(_0x3da04f){_0x20501f['preventDefault']();const _0x1339dd=_0x3da04f[_0x2328a6(0x676)](_0x2328a6(0x5cf));toggleTopicEditMode(_0x1339dd,![]),_0x59f057=null;}}}}});}}async function extractTextFromPdf(_0x477130){const _0x43b78b=_0x544b94;pdfjsLib['GlobalWorkerOptions'][_0x43b78b(0x4e6)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x2b4c78=await _0x477130['arrayBuffer'](),_0x48dce2=await pdfjsLib[_0x43b78b(0xb6)](_0x2b4c78)['promise'],_0x1389ba=_0x48dce2[_0x43b78b(0x10a)];let _0x344a2b='';for(let _0x3e4849=0x1;_0x3e4849<=_0x1389ba;_0x3e4849++){const _0xf7cf17=await _0x48dce2[_0x43b78b(0x27d)](_0x3e4849),_0x1f21ae=await _0xf7cf17[_0x43b78b(0x120)](),_0x2b7ee3=_0x1f21ae['items']['map'](_0x1f2ee2=>_0x1f2ee2[_0x43b78b(0x3b5)])[_0x43b78b(0x4a5)]('\x20');_0x344a2b+=_0x2b7ee3+'\x0a\x0a';}return _0x344a2b;}async function handleGenerateFromBlueprint(){const _0x397b71=_0x544b94,_0x23d753=document['getElementById'](_0x397b71(0x3f7)),_0x23eef0=document[_0x397b71(0x365)]('reference-pdf-upload'),_0x1a9a07=_0x23d753[_0x397b71(0x642)][0x0],_0x4778d8=_0x23eef0['files']['length']>0x0?_0x23eef0[_0x397b71(0x642)][0x0]:null;if(!_0x1a9a07){showMessage(_0x397b71(0x375));return;}const _0x6ecdac=document['getElementById'](_0x397b71(0xb1)),_0x3d8f40=document[_0x397b71(0x365)]('loader-text'),_0xb7067=document['getElementById'](_0x397b71(0x48f)),_0x55112c=document[_0x397b71(0x365)](_0x397b71(0x1cc));_0x55112c[_0x397b71(0x1ea)]=!![],document[_0x397b71(0x365)](_0x397b71(0x26b))[_0x397b71(0x1da)][_0x397b71(0x221)]('hidden'),_0xb7067[_0x397b71(0x464)]='',_0x6ecdac[_0x397b71(0x1da)][_0x397b71(0x221)](_0x397b71(0x5ba));try{_0x3d8f40[_0x397b71(0x5c3)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x54d45c=await extractTextFromPdf(_0x1a9a07);if(!_0x54d45c[_0x397b71(0x25a)]())throw new Error(_0x397b71(0x639));let _0x1559e7='';_0x4778d8&&(_0x3d8f40['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x1559e7=await extractTextFromPdf(_0x4778d8));_0x3d8f40[_0x397b71(0x5c3)]=_0x397b71(0x37c);const _0x3d77bf=document[_0x397b71(0x365)](_0x397b71(0x4ac))[_0x397b71(0x21e)],_0x1fe729=_0x3d77bf?_0x397b71(0xc7):'',_0x251436=_0x1559e7?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1559e7+_0x397b71(0x5d4):'',_0x2394da=_0x397b71(0x44c)+(_0x1559e7?_0x397b71(0x2bb):'')+_0x397b71(0x1a9)+_0x54d45c+_0x397b71(0x5d4)+_0x251436+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fe729+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x397b71(0x45b),_0x3fa386={'type':_0x397b71(0x4c3),'properties':{'questionText':{'type':_0x397b71(0x64d)},'questionType':{'type':'STRING','enum':[_0x397b71(0x3ac),_0x397b71(0x46f)]},'options':{'type':_0x397b71(0x46c),'items':{'type':_0x397b71(0x64d)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x397b71(0x64d)},'explanation':{'type':_0x397b71(0x64d)},'imageCode':{'type':'STRING'}},'required':[_0x397b71(0x21d),_0x397b71(0x432),_0x397b71(0x2e3)]},_0x4ea139={'type':_0x397b71(0x4c3),'properties':{'topic':{'type':_0x397b71(0x64d)},'questions':{'type':_0x397b71(0x46c),'items':_0x3fa386}},'required':[_0x397b71(0x547),'questions']};await handleApiCall(_0x2394da,_0x397b71(0x5bc),_0x4ea139);}catch(_0x25c199){console[_0x397b71(0x4a9)](_0x397b71(0x3d4),_0x25c199),showMessage(_0x397b71(0x1b1)+_0x25c199[_0x397b71(0x5aa)]),_0xb7067[_0x397b71(0x464)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x6ecdac[_0x397b71(0x1da)][_0x397b71(0x114)](_0x397b71(0x5ba)),_0x55112c['disabled']=![];}}async function handleGenerateParallelFromBank(_0x1ba44d){const _0x2bc679=_0x544b94,_0x208780=document['getElementById'](_0x2bc679(0xb1)),_0x410658=document['getElementById'](_0x2bc679(0x2aa)),_0x467fd0=document[_0x2bc679(0x365)](_0x2bc679(0x48f)),_0x59c060=document[_0x2bc679(0x365)](_0x2bc679(0x26b));showView(_0x2bc679(0x442)),switchProjectTab(_0x2bc679(0x535)),_0x59c060[_0x2bc679(0x1da)][_0x2bc679(0x221)](_0x2bc679(0x5ba)),_0x467fd0[_0x2bc679(0x464)]='',_0x208780[_0x2bc679(0x1da)]['remove'](_0x2bc679(0x5ba)),_0x410658[_0x2bc679(0x5c3)]='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x1ba44d[_0x2bc679(0x547)]+'\x22...';try{const _0x479cd7=_0x1ba44d[_0x2bc679(0x4b9)]['map']((_0x34c756,_0x33a220)=>{const _0x1047b0=_0x2bc679;let _0x1231e4=_0x33a220+0x1+'.\x20'+(_0x34c756[_0x1047b0(0x21d)]||_0x34c756[_0x1047b0(0x4f1)])+'\x0a';if(_0x34c756[_0x1047b0(0x398)])_0x1231e4+=_0x34c756['options'][_0x1047b0(0x24a)]((_0xa86aed,_0x1cee84)=>_0x1047b0(0x40f)+(_0x1cee84===_0x34c756[_0x1047b0(0x356)]?'[*]':'')+'\x20'+_0xa86aed)[_0x1047b0(0x4a5)]('\x0a');else{if(_0x34c756[_0x1047b0(0x43a)])_0x1231e4+=_0x1047b0(0x34c)+_0x34c756[_0x1047b0(0x43a)];else _0x34c756['correctResponse']&&(_0x1231e4+=_0x1047b0(0x34c)+_0x34c756['correctResponse']);}return _0x1231e4;})['join']('\x0a\x0a');_0x410658['textContent']=_0x2bc679(0x43e);const _0x5bb963=_0x2bc679(0x33a)+_0x1ba44d['topic']+_0x2bc679(0x166)+_0x479cd7+_0x2bc679(0x2ab)+_0x1ba44d[_0x2bc679(0x36d)]+_0x2bc679(0x3c1)+simpleMathPrompt+_0x2bc679(0x45b),_0x149bf1={'type':'OBJECT','properties':{'questionText':{'type':_0x2bc679(0x64d)},'questionType':{'type':'STRING','enum':[_0x2bc679(0x3ac),_0x2bc679(0x46f),_0x2bc679(0x680),'matching_item']},'options':{'type':_0x2bc679(0x46c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2bc679(0x2f0)},'idealAnswer':{'type':_0x2bc679(0x64d)},'correctAnswer':{'type':_0x2bc679(0x5a7)},'stem':{'type':_0x2bc679(0x64d)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2bc679(0x46c),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2bc679(0x64d)}},'required':[_0x2bc679(0x432),'explanation']},_0x1ce746={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2bc679(0x46c),'items':_0x149bf1}},'required':[_0x2bc679(0x547),_0x2bc679(0x4b9)]};await handleApiCall(_0x5bb963,_0x2bc679(0x67b),_0x1ce746);}catch(_0x14d54f){console[_0x2bc679(0x4a9)](_0x2bc679(0x5c5),_0x14d54f),showMessage(_0x2bc679(0x1b1)+_0x14d54f[_0x2bc679(0x5aa)]),_0x467fd0['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x208780[_0x2bc679(0x1da)][_0x2bc679(0x114)](_0x2bc679(0x5ba));}}async function handleGenerateParallelTest(){const _0x792fd9=_0x544b94,_0x3447dd=document[_0x792fd9(0x365)]('parallel-test-upload-input'),_0x3d885f=_0x3447dd[_0x792fd9(0x642)][0x0];if(!_0x3d885f){showMessage(_0x792fd9(0x197));return;}const _0x3e493d=document['getElementById'](_0x792fd9(0xb1)),_0x1bc25f=document[_0x792fd9(0x365)](_0x792fd9(0x2aa)),_0x2aba69=document['getElementById']('generated-quiz-container'),_0x530f46=document['getElementById'](_0x792fd9(0x5fe));_0x530f46[_0x792fd9(0x1ea)]=!![],document[_0x792fd9(0x365)](_0x792fd9(0x26b))[_0x792fd9(0x1da)][_0x792fd9(0x221)](_0x792fd9(0x5ba)),_0x2aba69[_0x792fd9(0x464)]='',_0x3e493d[_0x792fd9(0x1da)][_0x792fd9(0x221)](_0x792fd9(0x5ba)),_0x1bc25f[_0x792fd9(0x5c3)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x3a2cd4=await extractTextFromPdf(_0x3d885f);if(!_0x3a2cd4[_0x792fd9(0x25a)]())throw new Error(_0x792fd9(0x5d5));_0x1bc25f[_0x792fd9(0x5c3)]=_0x792fd9(0x43e);const _0x15aab8=document[_0x792fd9(0x365)](_0x792fd9(0x4ac))[_0x792fd9(0x21e)],_0x78dc32=_0x15aab8?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x25f9d4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a2cd4+_0x792fd9(0xd1)+_0x78dc32+_0x792fd9(0x243)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1c4067={'type':_0x792fd9(0x4c3),'properties':{'questionText':{'type':_0x792fd9(0x64d)},'questionType':{'type':_0x792fd9(0x64d),'enum':[_0x792fd9(0x3ac),_0x792fd9(0x46f)]},'options':{'type':_0x792fd9(0x46c),'items':{'type':_0x792fd9(0x64d)}},'correctAnswerIndex':{'type':_0x792fd9(0x2f0)},'idealAnswer':{'type':_0x792fd9(0x64d)},'explanation':{'type':_0x792fd9(0x64d)},'imageCode':{'type':_0x792fd9(0x64d)}},'required':['questionText',_0x792fd9(0x432),_0x792fd9(0x2e3)]},_0x461d25={'type':_0x792fd9(0x4c3),'properties':{'topic':{'type':_0x792fd9(0x64d)},'questions':{'type':_0x792fd9(0x46c),'items':_0x1c4067}},'required':[_0x792fd9(0x547),_0x792fd9(0x4b9)]};await handleApiCall(_0x25f9d4,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x461d25);}catch(_0xef7494){console[_0x792fd9(0x4a9)](_0x792fd9(0x393),_0xef7494),showMessage(_0x792fd9(0x1b1)+_0xef7494[_0x792fd9(0x5aa)]),_0x2aba69[_0x792fd9(0x464)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x3e493d[_0x792fd9(0x1da)]['add']('hidden'),_0x530f46[_0x792fd9(0x1ea)]=![];}}async function handleRegenerateQuestionInEditor(_0x5cbc0f){const _0x276d63=_0x544b94;if(currentEditingQuizData===null)return;const _0x5b2301=document[_0x276d63(0x323)](_0x276d63(0x143)+_0x5cbc0f+'\x22]');_0x5b2301&&(_0x5b2301[_0x276d63(0x464)]=_0x276d63(0x2bf));const _0x291d2c=currentEditingQuizData[_0x276d63(0x4b9)][_0x5cbc0f],_0x27bf57=currentEditingQuizData[_0x276d63(0x547)],_0xeccc33=_0x291d2c[_0x276d63(0x432)],_0x50f3dd={'type':_0x276d63(0x4c3),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x276d63(0x46c),'items':{'type':_0x276d63(0x64d)}},'correctAnswerIndex':{'type':_0x276d63(0x2f0)},'explanation':{'type':'STRING'}},'required':['questionText','options','correctAnswerIndex','explanation']},_0x285387={'type':'OBJECT','properties':{'questionText':{'type':_0x276d63(0x64d)},'idealAnswer':{'type':_0x276d63(0x64d)},'explanation':{'type':_0x276d63(0x64d)}},'required':[_0x276d63(0x21d),_0x276d63(0x43a),_0x276d63(0x2e3)]};let _0x12380e,_0x54830d='';_0xeccc33===_0x276d63(0x3ac)?(_0x12380e=_0x50f3dd,_0x54830d=_0x276d63(0x131)):(_0x12380e=_0x285387,_0x54830d=_0x276d63(0x5b6));const _0x52e7aa=_0x276d63(0x3ef)+_0x27bf57+_0x276d63(0x191)+_0x54830d+_0x276d63(0x2bd)+(_0x291d2c['questionText']||_0x291d2c[_0x276d63(0x4f1)])+_0x276d63(0x1ed)+simpleMathPrompt;try{const _0x4077d4=await callAnalysisApi(_0x52e7aa,_0x12380e);currentEditingQuizData[_0x276d63(0x4b9)][_0x5cbc0f]={..._0x291d2c,..._0x4077d4},renderQuizEditor(currentEditingQuizData);}catch(_0x179a47){console[_0x276d63(0x4a9)](_0x276d63(0x2da),_0x179a47),showMessage(_0x276d63(0x140)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x27d911=_0x544b94,_0x586054=document[_0x27d911(0x365)](_0x27d911(0x45d));currentMode===_0x27d911(0x628)?(currentMode=_0x27d911(0x3e1),_0x586054['innerHTML']=_0x27d911(0x512),_0x586054[_0x27d911(0x3f0)]=_0x27d911(0x310),showView(_0x27d911(0x392))):(currentMode='student',_0x586054[_0x27d911(0x464)]=_0x27d911(0x46e),_0x586054[_0x27d911(0x3f0)]=_0x27d911(0xea),showView(_0x27d911(0x628)));}function handleAdminLogin(){const _0x52cad3=_0x544b94,_0x41bbe2=document[_0x52cad3(0x365)](_0x52cad3(0x128)),_0x184edf=document[_0x52cad3(0x365)](_0x52cad3(0x2fd));if(_0x41bbe2['value']===_0x52cad3(0x569)){adminPasswordModal[_0x52cad3(0x1da)]['add'](_0x52cad3(0x5ba)),_0x41bbe2['value']='',_0x184edf[_0x52cad3(0x1da)]['add'](_0x52cad3(0x5ba)),currentMode=_0x52cad3(0x3e1);const _0x25a2a8=document[_0x52cad3(0x365)](_0x52cad3(0x45d));_0x25a2a8[_0x52cad3(0x464)]=_0x52cad3(0x512),_0x25a2a8[_0x52cad3(0x3f0)]=_0x52cad3(0x310),showView(_0x52cad3(0x392));}else _0x184edf[_0x52cad3(0x1da)]['remove'](_0x52cad3(0x5ba)),_0x41bbe2[_0x52cad3(0x601)]='';}function switchProjectTab(_0x2114da){const _0x373f37=_0x544b94;[_0x373f37(0x535),_0x373f37(0x5a5),_0x373f37(0x401)][_0x373f37(0x34d)](_0x2f061b=>{const _0x28e18a=_0x373f37;document[_0x28e18a(0x365)](_0x2f061b+_0x28e18a(0x51e))[_0x28e18a(0x1da)]['remove'](_0x28e18a(0x480)),document[_0x28e18a(0x365)](_0x2f061b+'-tab-content')[_0x28e18a(0x1da)][_0x28e18a(0x114)](_0x28e18a(0x5ba));}),document[_0x373f37(0x365)](_0x2114da+_0x373f37(0x51e))[_0x373f37(0x1da)][_0x373f37(0x114)]('active'),document['getElementById'](_0x2114da+_0x373f37(0x291))['classList']['remove'](_0x373f37(0x5ba));}function switchQuizDetailTab(_0x3db5c6){const _0x3d19a1=_0x544b94,_0x8f6fd7={'analytics':{'btn':'analytics-tab-btn','content':_0x3d19a1(0x4e2)},'scores':{'btn':_0x3d19a1(0x2b4),'content':_0x3d19a1(0x2e6)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'}};for(const _0x353c6e in _0x8f6fd7){document[_0x3d19a1(0x365)](_0x8f6fd7[_0x353c6e][_0x3d19a1(0x218)])[_0x3d19a1(0x1da)][_0x3d19a1(0x221)](_0x3d19a1(0x480)),document[_0x3d19a1(0x365)](_0x8f6fd7[_0x353c6e][_0x3d19a1(0x15f)])[_0x3d19a1(0x1da)][_0x3d19a1(0x114)]('hidden');}document[_0x3d19a1(0x365)](_0x8f6fd7[_0x3db5c6][_0x3d19a1(0x218)])[_0x3d19a1(0x1da)][_0x3d19a1(0x114)](_0x3d19a1(0x480)),document[_0x3d19a1(0x365)](_0x8f6fd7[_0x3db5c6][_0x3d19a1(0x15f)])['classList'][_0x3d19a1(0x221)](_0x3d19a1(0x5ba));}function showMessage(_0x388bc9){const _0x4def5e=_0x544b94;modalMessage[_0x4def5e(0x5c3)]=_0x388bc9,messageModal[_0x4def5e(0x1da)][_0x4def5e(0x221)](_0x4def5e(0x5ba));}function showConfirmation(_0x59c77f,_0x5d4211){const _0x182518=_0x544b94;document[_0x182518(0x365)](_0x182518(0x3ff))[_0x182518(0x5c3)]=_0x59c77f,document[_0x182518(0x365)]('confirmation-modal')[_0x182518(0x323)]('h3')['textContent']=_0x182518(0x4d4),confirmAction=_0x5d4211,confirmationModal[_0x182518(0x1da)][_0x182518(0x221)](_0x182518(0x5ba));}function listenForProjects(){const _0x401eeb=_0x544b94,_0x1eab44=collection(db,_0x401eeb(0x430)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x1eab44,_0x1aa034=>{const _0x51d8de=_0x401eeb;allProjects=_0x1aa034['docs'][_0x51d8de(0x24a)](_0x2ee243=>({'id':_0x2ee243['id'],..._0x2ee243[_0x51d8de(0x29f)]()})),renderProjects();},_0x2cb7e9=>{const _0x6e2657=_0x401eeb;console['error'](_0x6e2657(0x192),_0x2cb7e9),showMessage(_0x6e2657(0x3ed));});}async function renderProjects(){const _0x519e4c=_0x544b94,_0x296281=document['getElementById']('project-search-input')[_0x519e4c(0x601)]['toLowerCase'](),_0x7a85aa=document[_0x519e4c(0x365)](_0x519e4c(0x424))[_0x519e4c(0x601)];let _0x54dd5a=allProjects[_0x519e4c(0x371)](_0x204076=>_0x204076['projectName'][_0x519e4c(0x5b0)]()['includes'](_0x296281));_0x54dd5a['sort']((_0x4677eb,_0x58da66)=>{const _0x4a0aee=_0x519e4c;switch(_0x7a85aa){case _0x4a0aee(0x416):return _0x4677eb[_0x4a0aee(0x108)][_0x4a0aee(0x56e)](_0x58da66[_0x4a0aee(0x108)],'th');case _0x4a0aee(0x4bc):return _0x58da66[_0x4a0aee(0x108)][_0x4a0aee(0x56e)](_0x4677eb[_0x4a0aee(0x108)],'th');case _0x4a0aee(0x3aa):return new Date(_0x4677eb[_0x4a0aee(0x263)])-new Date(_0x58da66[_0x4a0aee(0x263)]);case'date_desc':default:return new Date(_0x58da66[_0x4a0aee(0x263)])-new Date(_0x4677eb['createdAt']);}});const _0x25a51b={};await Promise['all'](_0x54dd5a[_0x519e4c(0x24a)](async _0x4d5e17=>{const _0x57b1c9=_0x519e4c,_0x485537=query(collection(db,_0x57b1c9(0x430)+appId+'/public/data/quizzes'),where(_0x57b1c9(0x2cd),'==',_0x4d5e17['id'])),_0x5eff2c=await getDocs(_0x485537);_0x25a51b[_0x4d5e17['id']]=_0x5eff2c[_0x57b1c9(0x28e)];}));let _0xe88f59='';starredQuizzes[_0x519e4c(0x317)]>0x0&&(_0xe88f59+=_0x519e4c(0x161)+starredQuizzes['length']+_0x519e4c(0x346)),_0x54dd5a[_0x519e4c(0x34d)](_0x5005a6=>{const _0x4da23a=_0x519e4c,_0x38c458=_0x25a51b[_0x5005a6['id']]??0x0;_0xe88f59+=_0x4da23a(0x2fa)+_0x5005a6['id']+_0x4da23a(0x650)+_0x5005a6[_0x4da23a(0x108)]+_0x4da23a(0x5c9)+new Date(_0x5005a6[_0x4da23a(0x263)])[_0x4da23a(0x4fd)](_0x4da23a(0x65a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x38c458+_0x4da23a(0x439)+_0x5005a6['id']+_0x4da23a(0x494)+_0x5005a6['projectName']+_0x4da23a(0x63b);}),projectList[_0x519e4c(0x464)]=_0xe88f59,noProjectsMsg[_0x519e4c(0x1da)]['toggle'](_0x519e4c(0x5ba),_0xe88f59[_0x519e4c(0x317)]>0x0);}document[_0x544b94(0x365)](_0x544b94(0x35c))[_0x544b94(0x303)](_0x544b94(0x136),async()=>{const _0x59e86e=_0x544b94,_0x5dd50a=document['getElementById']('project-name-input'),_0x457297=_0x5dd50a[_0x59e86e(0x601)][_0x59e86e(0x25a)]();if(!_0x457297){showMessage(_0x59e86e(0x580));return;}try{const _0x558aec=doc(collection(db,_0x59e86e(0x430)+appId+'/public/data/projects'));await setDoc(_0x558aec,{'projectName':_0x457297,'students':[],'settings':{'resultsDisplay':_0x59e86e(0x5f5),'shuffleSetting':_0x59e86e(0x48c),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x59e86e(0x48c),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x59e86e(0x4c1)]()}),_0x5dd50a['value']='',createProjectModal[_0x59e86e(0x1da)][_0x59e86e(0x114)](_0x59e86e(0x5ba)),showMessage(_0x59e86e(0x4e9));}catch(_0x370eb9){console[_0x59e86e(0x4a9)](_0x59e86e(0x11d),_0x370eb9),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x544b94(0x136),async _0x2baff1=>{const _0x237b36=_0x544b94,_0x454191=_0x2baff1[_0x237b36(0x12f)][_0x237b36(0x676)](_0x237b36(0x1b3)),_0x167e9f=_0x2baff1[_0x237b36(0x12f)]['closest']('.delete-project-btn');if(_0x454191){const _0x1f9206=_0x454191['dataset']['id'];_0x1f9206==='starred-project'?showStarredProjectView():(currentProjectId=_0x1f9206,await loadProjectDetails(currentProjectId),showView(_0x237b36(0x442)));}else{if(_0x167e9f){const _0x57086d=_0x167e9f[_0x237b36(0x5ab)]['id'],_0x3a8caf=_0x167e9f['dataset'][_0x237b36(0x26f)];showConfirmation(_0x237b36(0x671)+_0x3a8caf+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x57086d));}}});function showStarredProjectView(){const _0x35dce9=_0x544b94;currentProjectId=_0x35dce9(0x255),currentProjectData=null,projectTitle[_0x35dce9(0x5c3)]=_0x35dce9(0x24c),projectIdDisplay[_0x35dce9(0x5c3)]=_0x35dce9(0x59f),showView(_0x35dce9(0x442)),manageTab[_0x35dce9(0x1da)][_0x35dce9(0x114)](_0x35dce9(0x5ba)),leaderboardTab[_0x35dce9(0x1da)][_0x35dce9(0x114)](_0x35dce9(0x5ba)),switchProjectTab(_0x35dce9(0x5a5)),renderQuizzes();}async function loadProjectDetails(_0x4847c2){const _0x43c4fc=_0x544b94,_0x267576=doc(db,'artifacts/'+appId+_0x43c4fc(0x5af),_0x4847c2),_0x5df838=await getDoc(_0x267576);if(_0x5df838[_0x43c4fc(0x11b)]()){manageTab[_0x43c4fc(0x1da)][_0x43c4fc(0x221)](_0x43c4fc(0x5ba)),leaderboardTab[_0x43c4fc(0x1da)][_0x43c4fc(0x221)](_0x43c4fc(0x5ba)),currentProjectData=_0x5df838[_0x43c4fc(0x29f)](),projectTitle['textContent']=currentProjectData[_0x43c4fc(0x108)],projectIdDisplay[_0x43c4fc(0x5c3)]=_0x4847c2;const _0x3783b5=currentProjectData[_0x43c4fc(0x55a)]||{};document[_0x43c4fc(0x365)]('num-questions')[_0x43c4fc(0x601)]=_0x3783b5[_0x43c4fc(0x40d)]||0x5,document[_0x43c4fc(0x365)](_0x43c4fc(0x644))[_0x43c4fc(0x601)]=_0x3783b5['defaultNumChoices']||0x4,document[_0x43c4fc(0x365)](_0x43c4fc(0x66f))['value']=_0x3783b5[_0x43c4fc(0x201)]||Math['floor']((_0x3783b5[_0x43c4fc(0x40d)]||0x5)/0x2),document[_0x43c4fc(0x365)](_0x43c4fc(0x66f))[_0x43c4fc(0x286)]=_0x3783b5['defaultNumQuestions']||0x5,document[_0x43c4fc(0x365)]('results-display-select')[_0x43c4fc(0x601)]=_0x3783b5[_0x43c4fc(0x5b7)]||_0x43c4fc(0x5f5),document[_0x43c4fc(0x365)](_0x43c4fc(0x4e5))[_0x43c4fc(0x601)]=_0x3783b5[_0x43c4fc(0x611)]||_0x43c4fc(0x48c);const _0x3d69ab=_0x3783b5[_0x43c4fc(0x1c2)]||_0x43c4fc(0x48c),_0xf84b26=_0x3783b5[_0x43c4fc(0x13f)]||0xa,_0x24f1f3=document[_0x43c4fc(0x365)](_0x43c4fc(0x447)),_0x4d53f4=document[_0x43c4fc(0x365)](_0x43c4fc(0x205)),_0x1c1b5e=document[_0x43c4fc(0x365)](_0x43c4fc(0x1eb));_0x24f1f3[_0x43c4fc(0x601)]=_0x3d69ab,_0x1c1b5e[_0x43c4fc(0x601)]=_0xf84b26;_0x3d69ab===_0x43c4fc(0x48c)?_0x4d53f4['classList'][_0x43c4fc(0x114)](_0x43c4fc(0x5ba)):_0x4d53f4[_0x43c4fc(0x1da)][_0x43c4fc(0x221)]('hidden');_0x24f1f3['dispatchEvent'](new Event(_0x43c4fc(0x47a)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4847c2),listenForProjectQuizzes(_0x4847c2),listenForStudentProfiles(_0x4847c2);}else showMessage(_0x43c4fc(0x2a0)),showView('admin-dashboard');}async function handleDeleteProject(_0x336039){const _0x3acfc7=_0x544b94;try{const _0x588c6b=writeBatch(db),_0x36c140=collection(db,'artifacts/'+appId+_0x3acfc7(0x394)),_0x3d1af9=query(_0x36c140,where(_0x3acfc7(0x2cd),'==',_0x336039)),_0x40748f=await getDocs(_0x3d1af9);for(const _0xbcf7af of _0x40748f[_0x3acfc7(0xad)]){const _0x116978=collection(db,_0x3acfc7(0x430)+appId+_0x3acfc7(0x421)+_0xbcf7af['id']+_0x3acfc7(0x38f)),_0x475d91=await getDocs(_0x116978);_0x475d91['forEach'](_0x491000=>{const _0x2304f6=_0x3acfc7;_0x588c6b['delete'](_0x491000[_0x2304f6(0x4b6)]);}),_0x588c6b[_0x3acfc7(0x3e2)](_0xbcf7af[_0x3acfc7(0x4b6)]);}const _0x254a27=collection(db,_0x3acfc7(0x430)+appId+_0x3acfc7(0xc2)+_0x336039+_0x3acfc7(0x3a1)),_0x37a2b6=await getDocs(_0x254a27);_0x37a2b6[_0x3acfc7(0x34d)](_0xc251ed=>{_0x588c6b['delete'](_0xc251ed['ref']);});const _0x2e10e3=doc(db,_0x3acfc7(0x430)+appId+'/public/data/projects',_0x336039);_0x588c6b[_0x3acfc7(0x3e2)](_0x2e10e3),await _0x588c6b['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x3acfc7(0x392));}catch(_0x460df6){console['error'](_0x3acfc7(0x1e4),_0x460df6),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x544b94(0x365)]('save-settings-btn')[_0x544b94(0x303)](_0x544b94(0x136),async()=>{const _0x2e7b32=_0x544b94;if(!currentProjectId)return;const _0x5681ec={'defaultNumQuestions':parseInt(document[_0x2e7b32(0x365)](_0x2e7b32(0x20b))[_0x2e7b32(0x601)]),'defaultNumChoices':parseInt(document['getElementById'](_0x2e7b32(0x644))[_0x2e7b32(0x601)]),'defaultPassingScore':parseInt(document[_0x2e7b32(0x365)](_0x2e7b32(0x66f))['value']),'resultsDisplay':document[_0x2e7b32(0x365)]('results-display-select')[_0x2e7b32(0x601)],'shuffleSetting':document[_0x2e7b32(0x365)](_0x2e7b32(0x4e5))[_0x2e7b32(0x601)],'timerMode':document[_0x2e7b32(0x365)](_0x2e7b32(0x447))['value'],'timerDuration':parseInt(document[_0x2e7b32(0x365)]('timer-duration-input')[_0x2e7b32(0x601)])};try{const _0x1ff721=doc(db,_0x2e7b32(0x430)+appId+_0x2e7b32(0x5af),currentProjectId);await updateDoc(_0x1ff721,{'settings':_0x5681ec}),showMessage(_0x2e7b32(0x1a3));}catch(_0x5c7e8d){console[_0x2e7b32(0x4a9)](_0x2e7b32(0x237),_0x5c7e8d),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x21aadb){const _0x1714d4=_0x544b94,_0x180b1b=doc(db,_0x1714d4(0x430)+appId+'/public/data/projects',_0x21aadb);unsubscribeStudentsListener=onSnapshot(_0x180b1b,_0x235e8b=>{const _0x5d466a=_0x1714d4;if(_0x235e8b[_0x5d466a(0x11b)]()){const _0x4970a9=_0x235e8b['data']();currentProjectData=_0x4970a9,renderStudentList(_0x4970a9[_0x5d466a(0x61e)]||[]);}});}function renderStudentList(_0x585237){const _0x9cadf=_0x544b94,_0x442878=document[_0x9cadf(0x365)](_0x9cadf(0x523));_0x585237['length']===0x0?(studentList[_0x9cadf(0x464)]=_0x9cadf(0x3d3),_0x442878[_0x9cadf(0x1da)][_0x9cadf(0x114)](_0x9cadf(0x5ba))):(studentList['innerHTML']=_0x585237[_0x9cadf(0x24a)](_0x52d795=>_0x9cadf(0x2ce)+_0x52d795+_0x9cadf(0x110)+_0x52d795+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x9cadf(0x4a5)](''),_0x442878['classList'][_0x9cadf(0x221)]('hidden'));}document['getElementById'](_0x544b94(0x426))['addEventListener']('click',async()=>{const _0x2b9ec4=_0x544b94;if(!currentProjectId)return;const _0x36287b=document['getElementById']('student-name-input'),_0x9e5895=_0x36287b[_0x2b9ec4(0x601)][_0x2b9ec4(0x25a)]();if(!_0x9e5895){showMessage(_0x2b9ec4(0x265));return;}const _0x76e8d6=_0x9e5895[_0x2b9ec4(0x4eb)]('\x0a')['map'](_0x80c130=>_0x80c130[_0x2b9ec4(0x25a)]())[_0x2b9ec4(0x371)](_0x1ab652=>_0x1ab652);if(_0x76e8d6['length']===0x0)return;try{const _0x2a3f16=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0xa045ed=await getDoc(_0x2a3f16);if(_0xa045ed[_0x2b9ec4(0x11b)]()){const _0x26a854=_0xa045ed[_0x2b9ec4(0x29f)]()[_0x2b9ec4(0x61e)]||[],_0x57e08f=[...new Set([..._0x26a854,..._0x76e8d6])];await updateDoc(_0x2a3f16,{'students':_0x57e08f}),_0x36287b['value']='';}}catch(_0x39dc54){console['error']('Error\x20adding\x20students:',_0x39dc54),showMessage(_0x2b9ec4(0x4aa));}});function handleDeleteStudent(_0x33ebf4){const _0xc77fe0=_0x544b94;showConfirmation(_0xc77fe0(0x620)+_0x33ebf4+_0xc77fe0(0x5e4),async()=>{const _0x3db76b=_0xc77fe0;if(!currentProjectId||!currentProjectData)return;const _0x57d8ef=currentProjectData[_0x3db76b(0x61e)][_0x3db76b(0x371)](_0x585587=>_0x585587!==_0x33ebf4);try{const _0x227bd6=doc(db,_0x3db76b(0x430)+appId+_0x3db76b(0x5af),currentProjectId),_0x42c740=doc(db,_0x3db76b(0x430)+appId+_0x3db76b(0xc2)+currentProjectId+_0x3db76b(0x3a1),_0x33ebf4),_0x4ead46=writeBatch(db);_0x4ead46[_0x3db76b(0x36f)](_0x227bd6,{'students':_0x57d8ef}),_0x4ead46[_0x3db76b(0x3e2)](_0x42c740),await _0x4ead46['commit']();}catch(_0x46d8e7){console[_0x3db76b(0x4a9)](_0x3db76b(0xfc),_0x46d8e7),showMessage(_0x3db76b(0x300));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x341759=_0x2ca3;if(!currentProjectId)return;try{const _0x3735d5=doc(db,_0x341759(0x430)+appId+'/public/data/projects',currentProjectId),_0xada227=collection(db,_0x341759(0x430)+appId+_0x341759(0xc2)+currentProjectId+_0x341759(0x3a1)),_0x131966=await getDocs(_0xada227),_0x4b2211=writeBatch(db);_0x4b2211[_0x341759(0x36f)](_0x3735d5,{'students':[]}),_0x131966[_0x341759(0x34d)](_0x388d19=>_0x4b2211[_0x341759(0x3e2)](_0x388d19[_0x341759(0x4b6)])),await _0x4b2211[_0x341759(0x5cc)]();}catch(_0x48097b){console['error'](_0x341759(0x52e),_0x48097b),showMessage(_0x341759(0x2fb));}});}async function handleGenerateFromFileClick(){const _0x1c6bc8=_0x544b94;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x1d0742=document[_0x1c6bc8(0x365)](_0x1c6bc8(0xb1)),_0x383966=document['getElementById'](_0x1c6bc8(0x2aa)),_0x516a89=document[_0x1c6bc8(0x365)](_0x1c6bc8(0x48f)),_0x282771=document[_0x1c6bc8(0x365)](_0x1c6bc8(0x44d));_0x282771[_0x1c6bc8(0x1ea)]=!![],document[_0x1c6bc8(0x365)](_0x1c6bc8(0x26b))['classList']['remove']('hidden'),_0x516a89[_0x1c6bc8(0x464)]='',_0x1d0742['classList'][_0x1c6bc8(0x221)](_0x1c6bc8(0x5ba)),_0x383966[_0x1c6bc8(0x5c3)]=_0x1c6bc8(0x3a4);const _0x5e8bab=new FileReader();_0x5e8bab[_0x1c6bc8(0x2f2)](selectedFile),_0x5e8bab[_0x1c6bc8(0x474)]=async()=>{const _0x59cedd=_0x1c6bc8;try{const _0x5b7dbf=_0x5e8bab['result'][_0x59cedd(0x4eb)](',')[0x1],_0x1854e5=selectedFile[_0x59cedd(0x160)];await generateQuizFromFile(_0x1854e5,_0x5b7dbf);}catch(_0x1a5ae1){console[_0x59cedd(0x4a9)](_0x59cedd(0x618),_0x1a5ae1),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x1a5ae1[_0x59cedd(0x5aa)]),_0x1d0742[_0x59cedd(0x1da)][_0x59cedd(0x114)](_0x59cedd(0x5ba));}finally{}},_0x5e8bab[_0x1c6bc8(0x470)]=_0x165300=>{const _0x349a50=_0x1c6bc8;console[_0x349a50(0x4a9)](_0x349a50(0x1b0),_0x165300),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x1d0742[_0x349a50(0x1da)][_0x349a50(0x114)](_0x349a50(0x5ba)),_0x282771['disabled']=![];};}function autoFormatMath(_0x359e26){const _0x1fd59b=_0x544b94;if(typeof _0x359e26!==_0x1fd59b(0x4e8)||!_0x359e26)return _0x359e26;const _0x526e46=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x476830=_0x359e26[_0x1fd59b(0x626)](_0x526e46,_0x33d010=>{const _0x420def=_0x1fd59b;return'$'+_0x33d010[_0x420def(0x25a)]()+'$';});return _0x476830;}function sanitizeQuizData(_0x30676f){const _0x49c162=_0x544b94;if(!_0x30676f||!_0x30676f['questions'])return _0x30676f;const _0x37a718={'imes':'\x5ctimes','div':_0x49c162(0x1a6)},_0x290391=_0x4e9e82=>{const _0x556345=_0x49c162;if(typeof _0x4e9e82!==_0x556345(0x4e8))return _0x4e9e82;let _0x4953a2=_0x4e9e82;for(const [_0x194006,_0x349122]of Object[_0x556345(0x666)](_0x37a718)){const _0x165c28=new RegExp('\x5cb'+_0x194006+'\x5cb','g');_0x4953a2=_0x4953a2[_0x556345(0x626)](_0x165c28,_0x349122);}return _0x4953a2=_0x4953a2[_0x556345(0x626)](/\\\//g,_0x556345(0x1a6)),_0x4953a2=_0x4953a2[_0x556345(0x626)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x556345(0x1a6))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x556345(0x5fd))[_0x556345(0x626)](/÷/g,_0x556345(0x1a6))[_0x556345(0x626)](/×/g,'\x5ctimes'),_0x4953a2=_0x4953a2[_0x556345(0x626)](/(\d)(\\frac)/g,_0x556345(0x667)),_0x4953a2=autoFormatMath(_0x4953a2),_0x4953a2;};return _0x30676f[_0x49c162(0x547)]&&(_0x30676f[_0x49c162(0x547)]=_0x290391(_0x30676f['topic'])),_0x30676f['questions'][_0x49c162(0x34d)](_0x26265d=>{const _0x568b0a=_0x49c162;_0x26265d['questionText']=_0x290391(_0x26265d[_0x568b0a(0x21d)]),_0x26265d[_0x568b0a(0x398)]&&(_0x26265d[_0x568b0a(0x398)]=_0x26265d[_0x568b0a(0x398)][_0x568b0a(0x24a)](_0x290391)),_0x26265d[_0x568b0a(0x2e3)]&&(_0x26265d[_0x568b0a(0x2e3)]=_0x290391(_0x26265d['explanation'])),_0x26265d[_0x568b0a(0x4f1)]&&(_0x26265d[_0x568b0a(0x4f1)]=_0x290391(_0x26265d[_0x568b0a(0x4f1)])),_0x26265d[_0x568b0a(0x182)]&&(_0x26265d[_0x568b0a(0x182)]=_0x290391(_0x26265d['correctResponse'])),_0x26265d[_0x568b0a(0x1b8)]&&(_0x26265d['allResponses']=_0x26265d[_0x568b0a(0x1b8)][_0x568b0a(0x24a)](_0x290391));}),_0x30676f;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x50e1a1=_0x544b94,_0x25416e=document[_0x50e1a1(0x365)](_0x50e1a1(0x279)),_0xe3c0c8=document[_0x50e1a1(0x365)](_0x50e1a1(0x669)),_0x2ee1ca=_0x25416e['value'][_0x50e1a1(0x25a)](),_0x2709ef=_0xe3c0c8['value'][_0x50e1a1(0x25a)]();if(!_0x2ee1ca){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x487e88=document[_0x50e1a1(0x365)](_0x50e1a1(0xb1)),_0x3e0648=document['getElementById'](_0x50e1a1(0x2aa)),_0xc11d59=document[_0x50e1a1(0x365)](_0x50e1a1(0x48f)),_0x4a2dab=document[_0x50e1a1(0x365)](_0x50e1a1(0x641));document[_0x50e1a1(0x365)]('quiz-generation-area')['classList'][_0x50e1a1(0x221)]('hidden'),_0xc11d59[_0x50e1a1(0x464)]='',_0x487e88[_0x50e1a1(0x1da)][_0x50e1a1(0x221)]('hidden'),_0x3e0648[_0x50e1a1(0x5c3)]='กำลังดึงข้อมูลจากลิงก์...',_0x4a2dab['disabled']=!![];try{const _0x70f40b=_0x50e1a1(0xc5)+encodeURIComponent(_0x2ee1ca),_0x46c04b=await fetch(_0x70f40b);if(!_0x46c04b['ok'])throw new Error(_0x50e1a1(0x521)+_0x46c04b[_0x50e1a1(0x446)]+')');const _0x456b2c=await _0x46c04b[_0x50e1a1(0x2a5)](),_0x10a004=extractTextFromHtml(_0x456b2c);if(!_0x10a004||_0x10a004['length']<0x64)throw new Error(_0x50e1a1(0x5ca));await generateQuiz(_0x2709ef,_0x10a004);}catch(_0x442ef6){console[_0x50e1a1(0x4a9)]('Error\x20generating\x20from\x20link:',_0x442ef6),showMessage(_0x50e1a1(0x1b1)+_0x442ef6[_0x50e1a1(0x5aa)]),_0xc11d59[_0x50e1a1(0x464)]=_0x50e1a1(0x39e);}finally{_0x487e88[_0x50e1a1(0x1da)][_0x50e1a1(0x114)]('hidden'),_0x4a2dab[_0x50e1a1(0x1ea)]=![];}}function extractTextFromHtml(_0x2d5ff8){const _0xd79b1f=_0x544b94,_0x1b4670=new DOMParser()['parseFromString'](_0x2d5ff8,_0xd79b1f(0x49d));return _0x1b4670['querySelectorAll']('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0xd79b1f(0x34d)](_0x8e6725=>_0x8e6725[_0xd79b1f(0x221)]()),_0x1b4670[_0xd79b1f(0x135)][_0xd79b1f(0x5c3)]||'';}document[_0x544b94(0x365)](_0x544b94(0x38c))[_0x544b94(0x303)]('click',()=>{const _0x3324f1=_0x544b94,_0x45af5f=document[_0x3324f1(0x365)]('topic-input')[_0x3324f1(0x601)][_0x3324f1(0x25a)]();generateQuiz(_0x45af5f,null);});async function generateQuiz(_0x2ee4e8,_0x4b2692,_0x2cdbd7=null){const _0x200d1d=_0x544b94,_0xacc6c9=document[_0x200d1d(0x365)](_0x200d1d(0x4ac))[_0x200d1d(0x21e)],_0x6249f7=document['getElementById']('quiz-type-select')[_0x200d1d(0x601)],_0x50a9dc=document[_0x200d1d(0x365)](_0x200d1d(0x20b))[_0x200d1d(0x601)],_0x3dc0ec=document[_0x200d1d(0x365)](_0x200d1d(0x644))[_0x200d1d(0x601)],_0x21096a=document[_0x200d1d(0x365)](_0x200d1d(0x473))[_0x200d1d(0x21e)],_0x28d38a=_0x21096a?'':'คณิตศาสตร์',_0x28ad1e=document[_0x200d1d(0x365)](_0x200d1d(0x309)),_0x104851=_0x28ad1e[_0x200d1d(0x601)];let _0x9b01af='';_0x104851!==_0x200d1d(0x549)&&(_0x9b01af=_0x200d1d(0x5f1)+_0x104851+'\x22');const _0xbf5b96=document[_0x200d1d(0x365)](_0x200d1d(0x1aa)),_0x55d3a4=_0xbf5b96[_0x200d1d(0x601)];let _0x528df4='';_0x55d3a4!=='mixed'&&(_0x528df4='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x55d3a4+_0x200d1d(0x472));const _0x252289=document[_0x200d1d(0x57e)]('#math-topics-checkbox-container\x20input:checked'),_0x5bd797=Array[_0x200d1d(0x18f)](_0x252289)[_0x200d1d(0x24a)](_0x485f9c=>_0x485f9c['value']);let _0x1e21c3='';_0x5bd797[_0x200d1d(0x317)]>0x0&&(_0x1e21c3=_0x200d1d(0x633)+_0x5bd797[_0x200d1d(0x4a5)](',\x20')+_0x200d1d(0x4c8));let _0x43f6f1='',_0xfa886a='',_0x445d23,_0x16786e='เกี่ยวกับหัวข้อ\x20\x22'+_0x2ee4e8+'\x22';if(!_0x2ee4e8&&_0x4b2692)_0x16786e=_0x200d1d(0x1e7);else!_0x2ee4e8&&!_0x4b2692&&(_0x16786e=_0x200d1d(0x557));const _0x394172={'type':_0x200d1d(0x4c3),'properties':{'questionText':{'type':_0x200d1d(0x64d)},'options':{'type':_0x200d1d(0x46c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x200d1d(0x2f0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x200d1d(0x64d)}},'required':['questionText',_0x200d1d(0x398),_0x200d1d(0x356),'explanation']},_0x18aa5e={'type':'OBJECT','properties':{'questionText':{'type':_0x200d1d(0x64d)},'idealAnswer':{'type':_0x200d1d(0x64d)},'explanation':{'type':_0x200d1d(0x64d)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x200d1d(0x43a),_0x200d1d(0x2e3)]},_0xb01e94={'type':_0x200d1d(0x4c3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x200d1d(0x64d),'enum':['multiple_choice',_0x200d1d(0x46f)]},'options':{'type':_0x200d1d(0x46c),'items':{'type':_0x200d1d(0x64d)}},'correctAnswerIndex':{'type':_0x200d1d(0x2f0)},'idealAnswer':{'type':_0x200d1d(0x64d)},'explanation':{'type':_0x200d1d(0x64d)},'imageCode':{'type':_0x200d1d(0x64d)}},'required':[_0x200d1d(0x21d),_0x200d1d(0x432),_0x200d1d(0x2e3)]},_0x155446={'type':_0x200d1d(0x4c3),'properties':{'questionText':{'type':_0x200d1d(0x64d)},'correctAnswer':{'type':_0x200d1d(0x5a7)},'explanation':{'type':_0x200d1d(0x64d)},'imageCode':{'type':_0x200d1d(0x64d)}},'required':['questionText',_0x200d1d(0x1bc),_0x200d1d(0x2e3)]},_0x3ea748={'type':'OBJECT','properties':{'questionType':{'type':_0x200d1d(0x64d),'enum':[_0x200d1d(0x433)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x200d1d(0x46c),'items':{'type':_0x200d1d(0x64d)}},'explanation':{'type':_0x200d1d(0x64d)},'imageCode':{'type':_0x200d1d(0x64d)}},'required':[_0x200d1d(0x432),'stem',_0x200d1d(0x182),_0x200d1d(0x1b8),_0x200d1d(0x2e3)]};let _0x2b86ce;if(_0x2cdbd7!==null){const _0x17c318=currentQuizData[_0x200d1d(0x4b9)][_0x2cdbd7][_0x200d1d(0x432)],_0x46eefe=_0xacc6c9?_0x200d1d(0x41b):'';_0x43f6f1=_0x200d1d(0x223)+_0x16786e+'\x20'+_0x1e21c3+'\x20'+_0x9b01af+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x46eefe+'\x20'+simpleMathPrompt;if(_0x17c318===_0x200d1d(0x3ac))_0x445d23=_0x394172;else{if(_0x17c318===_0x200d1d(0x433))_0x445d23={'type':'OBJECT','properties':{'questionType':{'type':_0x200d1d(0x64d),'enum':[_0x200d1d(0x433)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x200d1d(0x64d)},'explanation':{'type':_0x200d1d(0x64d)},'imageCode':{'type':_0x200d1d(0x64d)}},'required':[_0x200d1d(0x432),_0x200d1d(0x4f1),_0x200d1d(0x182),_0x200d1d(0x2e3)]};else _0x445d23=_0x18aa5e;}_0x2b86ce=_0x445d23;}else{const _0x4a98da=_0xacc6c9?_0x200d1d(0x2d3):'';switch(_0x6249f7){case'multiple_choice':_0x43f6f1=_0x200d1d(0x2a2)+_0x28d38a+'\x20'+_0x50a9dc+_0x200d1d(0x2ee)+_0x16786e+'\x20'+_0x1e21c3+'\x20'+_0x9b01af+'\x20'+_0x528df4+_0x200d1d(0x4a0)+_0x3dc0ec+_0x200d1d(0x62f)+_0x4a98da+'\x20'+simpleMathPrompt,_0x445d23=_0x394172;break;case _0x200d1d(0x455):_0x43f6f1=_0x200d1d(0x4b0)+_0x28d38a+'\x20'+_0x50a9dc+_0x200d1d(0x2ee)+_0x16786e+'\x20'+_0x1e21c3+'\x20'+_0x9b01af+'\x20'+_0x528df4+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x3dc0ec+_0x200d1d(0x622)+_0x4a98da+'\x20'+simpleMathPrompt,_0x445d23=_0x394172;break;case'fill_in_no_choices':_0x43f6f1=_0x200d1d(0x4b0)+_0x28d38a+'\x20'+_0x50a9dc+_0x200d1d(0x2ee)+_0x16786e+'\x20'+_0x1e21c3+'\x20'+_0x9b01af+'\x20'+_0x528df4+_0x200d1d(0x220)+_0x4a98da+'\x20'+simpleMathPrompt,_0x445d23=_0x18aa5e;break;case _0x200d1d(0x370):_0x43f6f1='สร้างแบบทดสอบ'+_0x28d38a+'\x20'+_0x50a9dc+_0x200d1d(0x2ee)+_0x16786e+'\x20'+_0x1e21c3+'\x20'+_0x9b01af+'\x20'+_0x528df4+_0x200d1d(0x61b)+_0x3dc0ec+_0x200d1d(0x3df)+_0x4a98da+'\x20'+simpleMathPrompt+'.',_0x445d23=_0xb01e94;break;case _0x200d1d(0x680):_0x43f6f1=_0x200d1d(0x3c7)+_0x28d38a+'\x20'+_0x50a9dc+_0x200d1d(0x2ee)+_0x16786e+'\x20'+_0x1e21c3+'\x20'+_0x9b01af+'\x20'+_0x528df4+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x4a98da+'\x20'+simpleMathPrompt,_0x445d23=_0x155446;break;case _0x200d1d(0x4b5):_0x43f6f1=_0x200d1d(0x4f7)+_0x28d38a+'\x20'+_0x50a9dc+_0x200d1d(0x45e)+_0x16786e+'\x20'+_0x1e21c3+'\x20'+_0x9b01af+'\x20'+_0x528df4+_0x200d1d(0x236)+_0x4a98da+'\x20'+simpleMathPrompt,_0x445d23=_0x3ea748;break;}_0x2b86ce={'type':_0x200d1d(0x4c3),'properties':{'topic':{'type':_0x200d1d(0x64d)},'questions':{'type':_0x200d1d(0x46c),'items':_0x445d23}},'required':['topic',_0x200d1d(0x4b9)]};}return _0x4b2692?(_0x43f6f1=_0x200d1d(0x19b)+_0x4b2692+_0x200d1d(0x307)+_0x43f6f1,_0xfa886a='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0xfa886a=_0x200d1d(0x3ab),handleApiCall(_0x43f6f1,_0xfa886a,_0x2b86ce,_0x2cdbd7);}async function generateQuizFromFile(_0x12d0cd,_0x382242){const _0x183263=_0x544b94,_0x5af4a4=document['getElementById']('file-topic-input')[_0x183263(0x601)][_0x183263(0x25a)](),_0x3a5d4e=document[_0x183263(0x365)](_0x183263(0x2fc))[_0x183263(0x601)],_0x40a91b=document[_0x183263(0x365)](_0x183263(0x20b))[_0x183263(0x601)],_0xc11c17=document[_0x183263(0x365)](_0x183263(0x644))['value'],_0x362eaa=document[_0x183263(0x365)](_0x183263(0x4ac))[_0x183263(0x21e)],_0x10e09c=document['getElementById'](_0x183263(0x473))['checked'],_0x547c83=_0x10e09c?'':_0x183263(0x154);let _0x2b5fad='',_0x119290,_0x1dc575=_0x183263(0x468)+_0x5af4a4+'\x22';!_0x5af4a4&&(_0x1dc575=_0x183263(0x368));const _0x121eae=_0x362eaa?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x3a5d4e){case _0x183263(0x3ac):_0x2b5fad=_0x183263(0x2a2)+_0x547c83+'\x20'+_0x40a91b+'\x20ข้อ\x20'+_0x1dc575+'.\x20แต่ละข้อมี\x20'+_0xc11c17+_0x183263(0x62f)+_0x121eae+'\x20'+simpleMathPrompt,_0x119290={'type':'OBJECT','properties':{'questionText':{'type':_0x183263(0x64d)},'options':{'type':'ARRAY','items':{'type':_0x183263(0x64d)}},'correctAnswerIndex':{'type':_0x183263(0x2f0)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x183263(0x64d)}},'required':[_0x183263(0x21d),_0x183263(0x398),_0x183263(0x356),_0x183263(0x2e3)]};break;case'fill_in_with_choices':_0x2b5fad=_0x183263(0x4b0)+_0x547c83+'\x20'+_0x40a91b+_0x183263(0x2ee)+_0x1dc575+_0x183263(0x47c)+_0xc11c17+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x121eae+'\x20'+simpleMathPrompt,_0x119290={'type':_0x183263(0x4c3),'properties':{'questionText':{'type':_0x183263(0x64d)},'options':{'type':_0x183263(0x46c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x183263(0x2f0)},'explanation':{'type':_0x183263(0x64d)},'imageCode':{'type':_0x183263(0x64d)}},'required':['questionText',_0x183263(0x398),_0x183263(0x356),_0x183263(0x2e3)]};break;case _0x183263(0x640):_0x2b5fad=_0x183263(0x4b0)+_0x547c83+'\x20'+_0x40a91b+_0x183263(0x2ee)+_0x1dc575+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x121eae+'\x20'+simpleMathPrompt,_0x119290={'type':'OBJECT','properties':{'questionText':{'type':_0x183263(0x64d)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x183263(0x64d)},'imageCode':{'type':_0x183263(0x64d)}},'required':[_0x183263(0x21d),_0x183263(0x43a),_0x183263(0x2e3)]};break;case _0x183263(0x370):_0x2b5fad=_0x183263(0x3ee)+_0x547c83+'\x20'+_0x40a91b+_0x183263(0x2ee)+_0x1dc575+_0x183263(0x13b)+_0xc11c17+'\x20ตัวเลือก.\x20'+_0x121eae+'\x20'+simpleMathPrompt+_0x183263(0x10e),_0x119290={'type':_0x183263(0x4c3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':['multiple_choice',_0x183263(0x46f)]},'options':{'type':_0x183263(0x46c),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x183263(0x64d)},'imageCode':{'type':_0x183263(0x64d)}},'required':[_0x183263(0x21d),'questionType',_0x183263(0x2e3)]};break;case _0x183263(0x680):_0x2b5fad=_0x183263(0x3c7)+_0x547c83+'\x20'+_0x40a91b+'\x20ข้อ\x20'+_0x1dc575+_0x183263(0x208)+_0x121eae+'\x20'+simpleMathPrompt,_0x119290={'type':_0x183263(0x4c3),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x183263(0x5a7)},'explanation':{'type':_0x183263(0x64d)},'imageCode':{'type':'STRING'}},'required':[_0x183263(0x21d),'correctAnswer',_0x183263(0x2e3)]};break;case _0x183263(0x4b5):_0x2b5fad=_0x183263(0x4f7)+_0x547c83+'\x20'+_0x40a91b+_0x183263(0x45e)+_0x1dc575+_0x183263(0x548)+_0x40a91b+_0x183263(0x584)+_0x121eae+'\x20'+simpleMathPrompt,_0x119290={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x183263(0x433)]},'stem':{'type':_0x183263(0x64d)},'correctResponse':{'type':_0x183263(0x64d)},'allResponses':{'type':_0x183263(0x46c),'items':{'type':_0x183263(0x64d)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x183263(0x64d)}},'required':[_0x183263(0x432),_0x183263(0x4f1),_0x183263(0x182),_0x183263(0x1b8),_0x183263(0x2e3)]};break;}const _0x1f62ea={'type':_0x183263(0x4c3),'properties':{'topic':{'type':_0x183263(0x64d)},'questions':{'type':_0x183263(0x46c),'items':_0x119290}},'required':['topic',_0x183263(0x4b9)]},_0xa6ea45=_0x183263(0x4fa)+_0x2b5fad,_0x1cc6e5={'contents':[{'parts':[{'text':_0xa6ea45},{'inlineData':{'mimeType':_0x12d0cd,'data':_0x382242}}]}],'generationConfig':{'responseMimeType':_0x183263(0x608),'responseSchema':_0x1f62ea}};return handleApiCall(_0x1cc6e5[_0x183263(0x4ba)][0x0]['parts'],_0x183263(0x1cf),_0x1f62ea);}async function handleApiCall(_0x22a4fa,_0x5a473c,_0x471d75,_0x5ed1d3=null){const _0x253511=_0x544b94,_0x460a85=document['getElementById'](_0x253511(0x26b)),_0x1054bc=document['getElementById'](_0x253511(0xb1)),_0x3e8c5c=document[_0x253511(0x365)]('loader-text'),_0x5b1584=document[_0x253511(0x365)](_0x253511(0x48f));_0x460a85[_0x253511(0x1da)]['remove'](_0x253511(0x5ba));_0x5ed1d3===null&&(_0x5b1584['innerHTML']='');_0x1054bc[_0x253511(0x1da)][_0x253511(0x221)](_0x253511(0x5ba)),_0x3e8c5c[_0x253511(0x5c3)]=_0x5a473c,document[_0x253511(0x365)](_0x253511(0x38c))[_0x253511(0x1ea)]=!![],document[_0x253511(0x365)](_0x253511(0x336))[_0x253511(0x1ea)]=!![],document[_0x253511(0x365)](_0x253511(0x641))['disabled']=!![];try{const _0x43ba86={'responseMimeType':_0x253511(0x608),'responseSchema':_0x471d75},_0x56e05e=Array[_0x253511(0xbe)](_0x22a4fa)?_0x22a4fa:[{'text':_0x22a4fa}],_0x15e40f={'contents':[{'role':_0x253511(0x478),'parts':_0x56e05e}],'generationConfig':_0x43ba86},_0xe38e61='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x1ecbbc='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0xe38e61,_0x2b3cfc=await fetch(_0x1ecbbc,{'method':_0x253511(0x556),'headers':{'Content-Type':_0x253511(0x608)},'body':JSON[_0x253511(0x50e)](_0x15e40f)});if(!_0x2b3cfc['ok'])throw new Error(_0x253511(0x615)+_0x2b3cfc[_0x253511(0x446)]);const _0x504212=await _0x2b3cfc[_0x253511(0x355)]();if(_0x504212[_0x253511(0x2e4)]?.[0x0]?.['content']?.['parts']?.[0x0]){let _0x327bdb=_0x504212[_0x253511(0x2e4)][0x0][_0x253511(0x15f)][_0x253511(0x39b)][0x0][_0x253511(0x2a5)],_0x1f400c;try{if(_0x327bdb[_0x253511(0x5b1)]('```json'))_0x327bdb=_0x327bdb[_0x253511(0x2b1)](0x7,_0x327bdb['length']-0x3)[_0x253511(0x25a)]();else _0x327bdb[_0x253511(0x5b1)](_0x253511(0x43c))&&(_0x327bdb=_0x327bdb['substring'](0x3,_0x327bdb['length']-0x3)[_0x253511(0x25a)]());_0x1f400c=JSON['parse'](_0x327bdb);}catch(_0x292bab){console['error'](_0x253511(0xe0),_0x292bab,_0x327bdb);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x5ed1d3!==null){if(_0x1f400c[_0x253511(0x432)]===_0x253511(0x433)){const _0xc1ca97=currentQuizData[_0x253511(0x4b9)][_0x253511(0x24a)](_0xdbd844=>_0xdbd844['correctResponse']);_0x1f400c['allResponses']=_0xc1ca97;const _0x3a95a7=currentQuizData[_0x253511(0x4b9)][_0x5ed1d3][_0x253511(0x182)],_0x29ddd6=_0xc1ca97[_0x253511(0x3d5)](_0x3a95a7);_0x29ddd6>-0x1&&(_0xc1ca97[_0x29ddd6]=_0x1f400c['correctResponse']),currentQuizData[_0x253511(0x4b9)][_0x253511(0x34d)](_0x4795a5=>{const _0x16f564=_0x253511;if(_0x4795a5[_0x16f564(0x432)]===_0x16f564(0x433))_0x4795a5['allResponses']=_0xc1ca97;});}currentQuizData['questions'][_0x5ed1d3]=_0x1f400c,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1f400c;const _0x1fec20=document[_0x253511(0x365)]('quiz-type-select')[_0x253511(0x601)];currentQuizData[_0x253511(0x36d)]=_0x1fec20,currentQuizData[_0x253511(0x4b9)]&&currentQuizData['questions']['forEach'](_0x2e56b5=>{const _0x5b20d3=_0x253511;if(!_0x2e56b5[_0x5b20d3(0x432)]){if(_0x1fec20==='fill_in_with_choices')_0x2e56b5[_0x5b20d3(0x432)]='multiple_choice';else _0x1fec20==='fill_in_no_choices'?_0x2e56b5[_0x5b20d3(0x432)]=_0x5b20d3(0x46f):_0x2e56b5[_0x5b20d3(0x432)]=_0x1fec20;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error']('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0x253511(0x50e)](_0x504212));throw new Error(_0x253511(0x314));}}catch(_0x5348b4){console[_0x253511(0x4a9)](_0x253511(0x382),_0x5348b4),showMessage(_0x253511(0x228)),_0x5ed1d3===null&&(_0x5b1584[_0x253511(0x464)]=_0x253511(0x349));}finally{_0x1054bc[_0x253511(0x1da)][_0x253511(0x114)](_0x253511(0x5ba)),document[_0x253511(0x365)]('generate-from-topic-btn')[_0x253511(0x1ea)]=![],document[_0x253511(0x365)]('generate-from-text-btn')['disabled']=![],document[_0x253511(0x365)](_0x253511(0x641))[_0x253511(0x1ea)]=![];const _0x426d0f=document[_0x253511(0x365)](_0x253511(0x44d));_0x426d0f&&(_0x426d0f['disabled']=![]);}}function displayGeneratedQuiz(_0x2c80de){const _0x2700d1=_0x544b94,_0x49228f=document[_0x2700d1(0x365)]('generated-quiz-container');let _0x33141e='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2c80de[_0x2700d1(0x547)]+_0x2700d1(0x67d);_0x2c80de[_0x2700d1(0x4b9)][_0x2700d1(0x34d)]((_0x123549,_0x1a92be)=>{const _0x3dfd3b=_0x2700d1,_0x4a55cb=_0x123549[_0x3dfd3b(0x432)]||_0x2c80de[_0x3dfd3b(0x36d)];_0x33141e+=_0x3dfd3b(0x554)+_0x1a92be+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1a92be+_0x3dfd3b(0x31c)+_0x1a92be+_0x3dfd3b(0x59c);switch(_0x4a55cb){case _0x3dfd3b(0x433):_0x33141e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1a92be+'\x22>'+(_0x1a92be+0x1)+'.\x20'+_0x123549[_0x3dfd3b(0x4f1)]+_0x3dfd3b(0x3a8);_0x123549[_0x3dfd3b(0x33b)]&&(_0x33141e+='<div\x20id=\x22q-image-container-'+_0x1a92be+_0x3dfd3b(0x156)+_0x123549[_0x3dfd3b(0x33b)]+_0x3dfd3b(0x137));_0x33141e+=_0x3dfd3b(0x29e)+_0x1a92be+'\x22>'+_0x123549['correctResponse']+'</span></div>',_0x33141e+=_0x3dfd3b(0x5c1)+_0x1a92be+'\x22>'+_0x123549['explanation']+_0x3dfd3b(0x11f);break;case'short_answer':_0x33141e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1a92be+'\x22>'+(_0x1a92be+0x1)+'.\x20'+_0x123549[_0x3dfd3b(0x21d)]+_0x3dfd3b(0x3a8);_0x123549[_0x3dfd3b(0x33b)]&&(_0x33141e+=_0x3dfd3b(0x25f)+_0x1a92be+_0x3dfd3b(0x156)+_0x123549[_0x3dfd3b(0x33b)]+_0x3dfd3b(0x137));_0x33141e+=_0x3dfd3b(0x3f6)+_0x1a92be+'\x22>'+_0x123549['idealAnswer']+_0x3dfd3b(0x11f),_0x33141e+=_0x3dfd3b(0x5c1)+_0x1a92be+'\x22>'+_0x123549[_0x3dfd3b(0x2e3)]+_0x3dfd3b(0x11f);break;case'true_false':_0x33141e+=_0x3dfd3b(0x3e8)+_0x1a92be+'\x22>'+(_0x1a92be+0x1)+'.\x20'+_0x123549[_0x3dfd3b(0x21d)]+'</p>';_0x123549[_0x3dfd3b(0x33b)]&&(_0x33141e+=_0x3dfd3b(0x25f)+_0x1a92be+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x123549[_0x3dfd3b(0x33b)]+_0x3dfd3b(0x137));_0x33141e+=_0x3dfd3b(0x511)+(_0x123549[_0x3dfd3b(0x1bc)]===!![]?_0x3dfd3b(0x66c):'')+_0x3dfd3b(0x107)+(_0x123549[_0x3dfd3b(0x1bc)]===![]?_0x3dfd3b(0x66c):'')+_0x3dfd3b(0x251),_0x33141e+=_0x3dfd3b(0x5c1)+_0x1a92be+'\x22>'+_0x123549[_0x3dfd3b(0x2e3)]+'</span></div>';break;case _0x3dfd3b(0x18a):case _0x3dfd3b(0x3ac):default:_0x33141e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1a92be+'\x22>'+(_0x1a92be+0x1)+'.\x20'+_0x123549[_0x3dfd3b(0x21d)]+_0x3dfd3b(0x3a8);_0x123549[_0x3dfd3b(0x33b)]&&(_0x33141e+='<div\x20id=\x22q-image-container-'+_0x1a92be+_0x3dfd3b(0x156)+_0x123549['imageCode']+'</div>');_0x33141e+=_0x3dfd3b(0x4f6)+_0x1a92be+_0x3dfd3b(0x262)+_0x123549['options'][_0x3dfd3b(0x24a)]((_0x4f2a93,_0x5d1ac9)=>_0x3dfd3b(0x4f9)+(_0x5d1ac9===_0x123549[_0x3dfd3b(0x356)]?_0x3dfd3b(0x66c):'')+'\x22>'+_0x4f2a93+_0x3dfd3b(0x26c))[_0x3dfd3b(0x4a5)]('')+_0x3dfd3b(0x5c0),_0x33141e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1a92be+'\x22>'+_0x123549[_0x3dfd3b(0x2e3)]+_0x3dfd3b(0x11f);break;}_0x33141e+='</div>';}),_0x33141e+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x49228f[_0x2700d1(0x464)]=_0x33141e,document[_0x2700d1(0x57e)]('.edit-question-btn')['forEach'](_0x4b43e8=>_0x4b43e8[_0x2700d1(0x303)]('click',handleEditQuestion)),document[_0x2700d1(0x57e)](_0x2700d1(0x64f))[_0x2700d1(0x34d)](_0x11f777=>_0x11f777[_0x2700d1(0x303)](_0x2700d1(0x136),handleRegenerateQuestion)),document[_0x2700d1(0x57e)](_0x2700d1(0x413))['forEach'](_0x557af5=>_0x557af5[_0x2700d1(0x303)](_0x2700d1(0x136),handleSaveToBank)),document[_0x2700d1(0x365)](_0x2700d1(0x573))[_0x2700d1(0x303)](_0x2700d1(0x136),saveQuiz);if(window[_0x2700d1(0x1c9)])window[_0x2700d1(0x1c9)][_0x2700d1(0x606)]([_0x49228f]);}function handleRegenerateQuestion(_0x299fd5){const _0x4de172=_0x544b94,_0x390ef9=_0x299fd5[_0x4de172(0x1b6)][_0x4de172(0x5ab)][_0x4de172(0x632)],_0x196569=currentQuizData[_0x4de172(0x547)];showMessage(_0x4de172(0x27b)+(parseInt(_0x390ef9)+0x1)+_0x4de172(0x2be)),generateQuiz(_0x196569,null,parseInt(_0x390ef9));}function getPointerPosition(_0x3a0d72,_0x16f0a6){const _0x6a8f0a=_0x544b94,_0x148d75=_0x3a0d72['getScreenCTM']();let _0x486726,_0x35dc58;return _0x16f0a6[_0x6a8f0a(0x64e)]&&_0x16f0a6['touches'][_0x6a8f0a(0x317)]>0x0?(_0x486726=_0x16f0a6[_0x6a8f0a(0x64e)][0x0][_0x6a8f0a(0x2d0)],_0x35dc58=_0x16f0a6[_0x6a8f0a(0x64e)][0x0][_0x6a8f0a(0x2ca)]):(_0x486726=_0x16f0a6[_0x6a8f0a(0x2d0)],_0x35dc58=_0x16f0a6[_0x6a8f0a(0x2ca)]),{'x':(_0x486726-_0x148d75['e'])/_0x148d75['a'],'y':(_0x35dc58-_0x148d75['f'])/_0x148d75['d']};}function startDrag(_0x9bc295){const _0x14ba47=_0x544b94;_0x9bc295[_0x14ba47(0x160)]===_0x14ba47(0x456)&&_0x9bc295[_0x14ba47(0x134)]();const _0x119df0=_0x9bc295['target'][_0x14ba47(0x676)](_0x14ba47(0x682));if(_0x119df0){draggedSvgElement=_0x119df0;const _0x522d80=draggedSvgElement[_0x14ba47(0x425)],_0x32c0a0=getPointerPosition(_0x522d80,_0x9bc295);svgOffset['x']=_0x32c0a0['x']-parseFloat(draggedSvgElement[_0x14ba47(0x17c)](null,'x')),svgOffset['y']=_0x32c0a0['y']-parseFloat(draggedSvgElement[_0x14ba47(0x17c)](null,'y'));}}function drag(_0x2d7d10){const _0x53cebe=_0x544b94;if(draggedSvgElement){_0x2d7d10[_0x53cebe(0x134)]();const _0x148427=draggedSvgElement['ownerSVGElement'],_0x4e01a7=getPointerPosition(_0x148427,_0x2d7d10),_0x122c23=_0x148427[_0x53cebe(0x534)]['baseVal'];let _0x123a3e=_0x4e01a7['x']-svgOffset['x'],_0x1ceb14=_0x4e01a7['y']-svgOffset['y'];const _0x32eec3=draggedSvgElement['getBBox']();_0x123a3e=Math[_0x53cebe(0x286)](_0x122c23['x'],Math[_0x53cebe(0x471)](_0x123a3e,_0x122c23['x']+_0x122c23[_0x53cebe(0x4d8)]-_0x32eec3['width'])),_0x1ceb14=Math[_0x53cebe(0x286)](_0x122c23['y'],Math[_0x53cebe(0x471)](_0x1ceb14,_0x122c23['y']+_0x122c23[_0x53cebe(0x497)]-_0x32eec3[_0x53cebe(0x497)])),draggedSvgElement[_0x53cebe(0x331)](null,'x',_0x123a3e),draggedSvgElement[_0x53cebe(0x331)](null,'y',_0x1ceb14);}}function endDrag(_0x247f76){draggedSvgElement=null;}function handleSvgEditClick(_0x47aebc){const _0x1b0de0=_0x544b94;if(_0x47aebc[_0x1b0de0(0x12f)]['classList']['contains'](_0x1b0de0(0x308))){const _0x53f2bb=_0x47aebc['target']['dataset'][_0x1b0de0(0x516)],_0x10c612=_0x47aebc[_0x1b0de0(0x1b6)],_0x3dc466=_0x10c612[_0x1b0de0(0x323)]('#'+_0x53f2bb);_0x3dc466&&_0x3dc466[_0x1b0de0(0x221)](),_0x47aebc[_0x1b0de0(0x12f)][_0x1b0de0(0x221)]();}}function handleEditQuestion(_0x528b17){const _0x4f46f3=_0x544b94,_0xe0ee6c=_0x528b17['currentTarget'],_0x29de76=_0xe0ee6c['dataset'][_0x4f46f3(0x632)],_0x39e129=currentQuizData['questions'][_0x29de76],_0x3420e3=document[_0x4f46f3(0x365)](_0x4f46f3(0x586)+_0x29de76),_0x583307=document[_0x4f46f3(0x365)]('q-explanation-'+_0x29de76),_0x8ac157=document[_0x4f46f3(0x365)](_0x4f46f3(0x1b7)+_0x29de76);if(_0xe0ee6c[_0x4f46f3(0x464)][_0x4f46f3(0x616)](_0x4f46f3(0x477))){_0xe0ee6c['innerHTML']=_0x4f46f3(0xdf),_0xe0ee6c[_0x4f46f3(0x3f0)]=_0x4f46f3(0x53d);if(_0x3420e3)_0x3420e3[_0x4f46f3(0x39a)]=!![];if(_0x583307)_0x583307[_0x4f46f3(0x39a)]=!![];if(_0x8ac157){const _0x3820f3=_0x8ac157[_0x4f46f3(0x323)](_0x4f46f3(0x410));if(_0x3820f3){const _0x49421b=_0x3820f3['querySelectorAll'](_0x4f46f3(0x2a5));_0x49421b['forEach']((_0x25bace,_0x2123ed)=>{const _0x3f0da9=_0x4f46f3,_0x4f7e5d=_0x3f0da9(0x4c4)+_0x29de76+'-'+_0x2123ed;_0x25bace['id']=_0x4f7e5d,_0x25bace[_0x3f0da9(0x1da)][_0x3f0da9(0x114)](_0x3f0da9(0x1f2)),_0x25bace[_0x3f0da9(0x2a9)][_0x3f0da9(0x533)]='move';const _0x3ce89a=document[_0x3f0da9(0xc1)](_0x3f0da9(0x5ad),_0x3f0da9(0x665)),_0x2c7aa0=_0x25bace[_0x3f0da9(0xdd)]();_0x3ce89a[_0x3f0da9(0x603)]('cx',String(_0x2c7aa0['x']+_0x2c7aa0['width']+0x5)),_0x3ce89a[_0x3f0da9(0x603)]('cy',String(_0x2c7aa0['y']+_0x2c7aa0[_0x3f0da9(0x497)]/0x2-0x5)),_0x3ce89a[_0x3f0da9(0x603)]('r','5'),_0x3ce89a['setAttribute'](_0x3f0da9(0xae),_0x3f0da9(0x28a)),_0x3ce89a[_0x3f0da9(0x603)](_0x3f0da9(0x4de),_0x3f0da9(0x308)),_0x3ce89a[_0x3f0da9(0x5ab)][_0x3f0da9(0x516)]=_0x4f7e5d,_0x25bace[_0x3f0da9(0xe9)](_0x3ce89a);}),_0x3820f3['addEventListener']('mousedown',startDrag),_0x3820f3['addEventListener'](_0x4f46f3(0xfe),drag),_0x3820f3[_0x4f46f3(0x303)](_0x4f46f3(0x2c1),endDrag),_0x3820f3[_0x4f46f3(0x303)](_0x4f46f3(0x381),endDrag),_0x3820f3[_0x4f46f3(0x303)](_0x4f46f3(0x456),startDrag,{'passive':![]}),_0x3820f3[_0x4f46f3(0x303)]('touchmove',drag,{'passive':![]}),_0x3820f3[_0x4f46f3(0x303)](_0x4f46f3(0x150),endDrag),_0x3820f3[_0x4f46f3(0x303)]('touchcancel',endDrag),_0x3820f3[_0x4f46f3(0x303)](_0x4f46f3(0x136),handleSvgEditClick);}}if(_0x3420e3)_0x3420e3[_0x4f46f3(0x1f8)]();}else{_0xe0ee6c['innerHTML']=_0x4f46f3(0x5ae),_0xe0ee6c[_0x4f46f3(0x3f0)]=_0x4f46f3(0x20e);if(_0x3420e3){_0x3420e3['contentEditable']=![];const _0x50567e=_0x39e129[_0x4f46f3(0x432)]||currentQuizData[_0x4f46f3(0x36d)];_0x50567e===_0x4f46f3(0x433)?_0x39e129[_0x4f46f3(0x4f1)]=_0x3420e3[_0x4f46f3(0x3ec)][_0x4f46f3(0x2b1)](_0x3420e3[_0x4f46f3(0x3ec)]['indexOf']('.')+0x2)['trim']():_0x39e129['questionText']=_0x3420e3[_0x4f46f3(0x3ec)][_0x4f46f3(0x2b1)](_0x3420e3['innerText'][_0x4f46f3(0x3d5)]('.')+0x2)[_0x4f46f3(0x25a)]();}_0x583307&&(_0x583307[_0x4f46f3(0x39a)]=![],_0x39e129['explanation']=_0x583307[_0x4f46f3(0x3ec)]);if(_0x8ac157){const _0x4cbf69=_0x8ac157[_0x4f46f3(0x323)](_0x4f46f3(0x410));if(_0x4cbf69){const _0x3cd53d=_0x4cbf69[_0x4f46f3(0x4d6)](!![]);_0x3cd53d['querySelectorAll'](_0x4f46f3(0x4cb))[_0x4f46f3(0x34d)](_0x1a8818=>_0x1a8818[_0x4f46f3(0x221)]()),_0x3cd53d[_0x4f46f3(0x57e)](_0x4f46f3(0x682))[_0x4f46f3(0x34d)](_0x1f40ed=>{const _0x552a22=_0x4f46f3;_0x1f40ed[_0x552a22(0x1da)][_0x552a22(0x221)](_0x552a22(0x1f2)),_0x1f40ed[_0x552a22(0x2a9)][_0x552a22(0x533)]=_0x552a22(0x195),_0x1f40ed[_0x552a22(0x207)]('id');}),_0x39e129['imageCode']=_0x3cd53d['outerHTML'],_0x4cbf69[_0x4f46f3(0x607)](_0x4f46f3(0x1bb),startDrag),_0x4cbf69[_0x4f46f3(0x607)](_0x4f46f3(0xfe),drag),_0x4cbf69[_0x4f46f3(0x607)]('mouseup',endDrag),_0x4cbf69['removeEventListener'](_0x4f46f3(0x381),endDrag),_0x4cbf69[_0x4f46f3(0x607)](_0x4f46f3(0x456),startDrag),_0x4cbf69[_0x4f46f3(0x607)]('touchmove',drag),_0x4cbf69[_0x4f46f3(0x607)](_0x4f46f3(0x150),endDrag),_0x4cbf69[_0x4f46f3(0x607)](_0x4f46f3(0x3b9),endDrag),_0x4cbf69[_0x4f46f3(0x607)](_0x4f46f3(0x136),handleSvgEditClick),_0x4cbf69[_0x4f46f3(0x57e)](_0x4f46f3(0x4cb))[_0x4f46f3(0x34d)](_0x297524=>_0x297524[_0x4f46f3(0x221)]()),_0x4cbf69[_0x4f46f3(0x57e)](_0x4f46f3(0x682))['forEach'](_0x5d12c0=>{const _0x3f1316=_0x4f46f3;_0x5d12c0[_0x3f1316(0x1da)][_0x3f1316(0x221)](_0x3f1316(0x1f2)),_0x5d12c0['style']['cursor']=_0x3f1316(0x195);});}}}}let currentEditingQuizData=null;function _0x2860(){const _0x37fe2a=['\x22\x20data-name=\x22','live-options-container','ความเป็นอิสระของเหตุการณ์','height','close-presentation-btn','answer-counter','.edit-quiz-btn','confirmation-modal','quiz-editor-modal','text/html','score-distribution-chart','3196700EWmfzX','.\x20แต่ละข้อมี\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','Error\x20saving\x20submission:','generate-worksheet-btn','\x5cfrac','join','dispatchEvent','.quiz-status-btn','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','error','ไม่สามารถเพิ่มนักเรียนได้','.start-live-race-btn','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-game-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ทำคะแนนเต็มในการทำครั้งแรก','players.','matching','ref','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','questions','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name_desc','approx','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','ฮิสโตแกรม','เรขาคณิต','toISOString','sum','OBJECT','editable-text-','Error\x20updating\x20custom\x20topic:','blueprint-input-area','7210AJgWAQ','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.delete-svg-btn','Error\x20updating\x20quiz\x20status:','endTime','submission','quiz-results-view','.correct-response-input','การหารเศษส่วน','next-question-timed-btn','ring-2','ยืนยันการกระทำ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cloneNode','onclick','width','key','firstScore','first_try_ace','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','class','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','analytics-tab-content','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทศนิยม\x20(ค่าประจำหลัก)','shuffle-setting-select','workerSrc','ส่วนเบี่ยงเบนมาตรฐาน','string','สร้างโปรเจคสำเร็จ!','$1^{$2}','split','text-blue-700\x20bg-blue-100','on_fire','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','stem','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','cancel-delete-btn','confirm-global-live-btn','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','สร้างชุดคำถามจับคู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<li\x20class=\x22','จากไฟล์ที่แนบมานี้,\x20','<p\x20class=\x22font-bold\x20text-sm\x20','กำลังสร้างรูปภาพ...','toLocaleDateString','Remedial\x20quiz\x20generation\x20failed:','timer-container','toDataURL','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','manage-tab','ฟังก์ชันสัมพัทธ์\x20(rational)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','ส่งคำตอบ','dataIndex','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','presentation-slide-container','ฟังก์ชันยกกำลัง','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่','stringify','student-result-area','set','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','สมการตรีโกณมิติ','quiz-search-input','Error\x20generating\x20worksheet:','targetId','push','bank-quiz-list','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','input[name=\x22status-option\x22]:checked','QUICK_THINKER','student-reading-area','-tab','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','fullscreenElement','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','delete-all-students-btn','ตอบถูกทุกข้อในแบบทดสอบนี้','การลบ','modal-timer-duration-input','หน่วยเวลาและการคำนวณเวลา','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','timer-bar','far\x20fa-star','_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ไม่พบข้อมูลผู้ใช้','Error\x20deleting\x20all\x20students:','สมการค่าสัมบูรณ์','.cancel-edit-topic-btn','ชนิดของข้อมูลและการเก็บข้อมูล','open-global-live-btn','cursor','viewBox','manage','Error\x20during\x20class\x20analysis:','quiz-schedule-start-container','<option>กำลังโหลดโปรเจค...</option>','comeback_king','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cneq','Adaptive\x20flow\x20failed:','บันทึกการแก้ไข','export-word-btn','บันทึกแบบทดสอบสำเร็จแล้ว!','live-game-view','$1\x5ctext{','getContext','originalTopic','quiz-leaderboard-table-body','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','auto','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','random','submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','join-live-game-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','อัตราและอัตราหน่วย','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','POST','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','แก้ระบบสมการด้วยเมทริกซ์','สมการเชิงเส้นตัวแปรเดียว','settings','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','student-view','ai-quiz-app-aefee.firebaseapp.com','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','พาราโบลา','input[type=\x22checkbox\x22]:checked','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','back-to-dashboard-from-results-btn','\x5cle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','desc','2741','เส้นตรง:\x20ขนาน/ตั้งฉาก','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','ตรีโกณมิติ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','กฎของโคไซน์','cancel-global-live-btn','ปริมาตรรูปทรงสามมิติ','scheduled','save-quiz-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','find','ผู้ควบคุม\x20(ทดสอบ)','ระยะทางและจุดกึ่งกลาง','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<textarea\x20name=\x22question','querySelectorAll','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','กรุณาใส่ชื่อโปรเจค','shuffle','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','print','q-text-','close-game-final-btn','ดีเทอร์มิแนนต์','อสมการเชิงเส้น','1281NtwOhN','แบบทดสอบ:\x20','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x22\x20value=\x22','cancel-quiz-settings-btn','student-name-select','description','Error\x20fetching\x20quiz\x20status:','label','gamePin','Error\x20listening\x20for\x20student\x20profiles:','student-quiz-leaderboard-content','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','(คัดลอก)\x20','/questionBank','เรขาคณิตวิเคราะห์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-message','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-remedial-quiz-btn','pinned-items','uid','text-tab','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','start-live-race-generated-btn','results','bg-amber-100\x20text-amber-800','BOOLEAN','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','message','dataset','border-green-700','http://www.w3.org/2000/svg','<i\x20class=\x22fas\x20fa-pen\x22></i>','/public/data/projects','toLowerCase','startsWith','ระบบอสมการ','earned-badges-container','isCorrect','\x22\x20data-topic=\x22','แบบเติมคำตอบ','resultsDisplay','badges','สมมาตร\x20(แกน/จุด)','hidden','border-green-300\x20bg-green-50','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','manage-tab-content','isStarred','#ffffff','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','_opt0\x22>ใช่</label></div>','textContent','open-quiz-bank-btn','Error\x20generating\x20parallel\x20test\x20from\x20bank:','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','bank-tab','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','input[name=\x22status-option\x22]','commit','.sortable-header','#per-question-options\x20textarea','[data-topic-container-id]','00:00','classWeaknesses','user-id-display','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','overline','การคูณ','project-detail-view','results-quiz-id-display','/public/data/liveGames','.csv','สอบซ่อม','<div\x20class=\x22mb-3\x22>','thead','หน่วยมวล/น้ำหนักและการแปลง','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','leaderboard-tab','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','การนับ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','next-live-question-btn','points','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','parse','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','results-table','.png','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show_results_and_answers','admin-testing','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','table','เส้นตรง:\x20รูปแบบสมการ','ไม่พบแบบทดสอบ','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x5ctimes','generate-from-parallel-test-btn','input[type=\x22radio\x22]:checked','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','value','111730VOkNvC','setAttribute','.quiz-settings-btn','Error\x20opening\x20quiz\x20editor:','typesetPromise','removeEventListener','application/json','cancel-quiz-status-btn','rgba(79,\x2070,\x20229,\x200.8)','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','start-game-btn','revealed','\x20mr-2\x22></i>','ความคล้ายของรูป','shuffleSetting','line-through\x20text-red-700','findIndex','results_','API\x20call\x20failed\x20with\x20status:\x20','includes','totalPoints','Error\x20processing\x20file\x20for\x20AI:','quiz-schedule-end-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<p><strong>คำตอบของคุณ:</strong>\x20','Error\x20starting\x20game:','students','หมดเวลา!\x20กำลังส่งคำตอบ...','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','live-submit-short-answer-btn','analytics-tab-btn','next-question-btn','replace','.edit-custom-topic-btn','student','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','project-quizzes-list','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','auto-fix-latex-btn','index','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','$1\x5ctext(','fa-bolt\x20text-blue-500','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ลำดับการดำเนินการ\x20(PEMDAS)','then','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มลบ','.badges','กราฟฟังก์ชันตรีโกณ','ฟังก์ชันค่าสัมบูรณ์','fill_in_no_choices','generate-from-link-btn','files','quizId','num-choices','per_question','ลิมิต','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','วงรี','admin-action-buttons','latestScore','Error\x20duplicating\x20quiz:','ทฤษฎีบทพีทาโกรัสและการประยุกต์','STRING','touches','.regenerate-question-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','text-white','1438dJrovQ','binom','quiz-bank-modal','th-TH','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','lobby','<p>','เวกเตอร์และเมทริกซ์\x20(เสริม)','Error\x20loading\x20quiz\x20for\x20student:','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','rename-quiz-input','<li>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circle','entries','$1\x20\x5cfrac','\x0a\x20\x20\x20\x20','link-topic-input','สมการเหตุผล\x20(rational)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','ไม่มี','cancel-rename-quiz-btn','passing-score-input','bg-blue-100\x20text-blue-800','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','jspdf','อัตราการเปลี่ยนแปลงทันที','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','project-title','closest','ความต่อเนื่อง','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','analytics','การบวกเศษส่วน','กำลังสร้างแบบทดสอบคู่ขนาน...','nickname-input','</h3>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','ON_FIRE','true_false','.choice-text','.draggable-text','ฟังก์ชันเชิงเส้นและกราฟ','46863YJJMPk','ดูสรุปผล','docs','fill','.parallel-quiz-btn','กรุณาป้อนรหัสแบบทดสอบ','loader','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','game-pin-input','getDocument','parallel-test-input-area','ศูนย์','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','export-leaderboard-image-btn','file-tab','topic-input-area','global-quiz-list','isArray','modal-close-btn','project-search-input','createElementNS','/public/data/projects/','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table-container','https://corsproxy.io/?','$1\x5c%','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','.delete-student-btn','กรุณาเลือกโปรเจคปลายทาง','\x5cge','text-red-700\x20bg-red-100','22bciyzA','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','false','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','quiz-end-time','remedialContent','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','กรุณาเลือกชื่อของคุณ','ลบแบบทดสอบสำเร็จแล้ว','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','พีชคณิตและฟังก์ชัน','answers','getBBox','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<i\x20class=\x22fas\x20fa-save\x22></i>','Failed\x20to\x20parse\x20JSON\x20from\x20AI','quiz-status-options','(เลือกแล้ว\x20','export-excel-btn','Error\x20updating\x20quiz\x20settings:','beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','after','สลับไปโหมดผู้ควบคุม','removeChild','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','เซียนสมองไว','2239296IjseZF','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x22\x20data-topic-container-id=\x22','ส่งแล้ว','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','</option>','การแปลงรูปอัตลักษณ์','แผนภาพเวนน์','toDate','classStrengths','.lastAnswerCorrect','Error\x20deleting\x20student:','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','mousemove','project-dashboard-view','\x5csum','.pointsLastQuestion','startTime','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','เศษส่วน\x20(ย่อ/ขยาย)','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','questions_only','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','projectName','จำนวนเต็มบวก','numPages','countdown-display','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','sin','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','student-quiz-topic','ไม่สามารถเริ่มเกมได้','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','answer','เกิดข้อผิดพลาดในการบันทึก','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','การบวก','ทฤษฎีทวินาม\x20(เบื้องต้น)','เลือกโปรเจคเพื่อบันทึก','exists','true','Error\x20creating\x20project:','per-question-timer-container','</span></div>','getTextContent','พิสัย','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','toString','ใช่','274192258111','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','admin-password-input','.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','พื้นที่วงกลม/ส่วนของวงกลม','\x5c\x5c\x5c\x5c(?=(','undefined','player-count','target','all','แบบปรนัย\x204\x20ตัวเลือก','submissions','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','preventDefault','body','click','</div>','tfrac','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','empty',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','modal-adaptive-quiz-checkbox','วงกลม:\x20สมการและสมบัติ','การกระจายและการจัดหมู่','timerDuration','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','.question-editor-item[data-q-index=\x22','พื้นที่ผิวรูปทรงสามมิติ','การหารทศนิยม','ความสัมพันธ์ของมุม','createObjectURL','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','ระยะจากจุดถึงเส้นตรง','.star-quiz-btn','2-digit','<span\x20class=\x22sort-indicator\x20ml-2\x22>','ความชันเส้นสัมผัส','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','bg-green-100\x20text-green-800','touchend','การลบเศษส่วน','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','คณิตศาสตร์','Error\x20deleting\x20custom\x20topic:','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','#student-quiz-leaderboard-content\x20thead','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','ผู้เชี่ยวชาญ','\x22\x20name=\x22question','helvetica','</span></td>','answeredCurrentQuestion','presentation-short-answer-input','content','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','slide-counter','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','stopPropagation','ระบบเลขและค่าประจำหลัก','แผนภาพกล่อง\x20(box\x20plot)','fa-user-astronaut\x20text-blue-700','</label>\x0a\x20\x20\x20\x20</div>\x0a','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','Error\x20starting\x20live\x20race:','blockReason','question-analytics-container','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','สมการราก\x20(radical)','mjx-container','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','strength-weakness-analysis-container','getAttributeNS','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-shuffle-select','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','การลบทศนิยม','correctResponse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>ใช่</p>','\x5cfrac{','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','fill_in_the_blank','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','student-initial-view','select','from','confirm-rename-quiz-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','Error\x20listening\x20for\x20projects:','project-id-display','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','default','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','สถิติและความน่าจะเป็น','blueprint-tab','จากเนื้อหาต่อไปนี้:\x20\x22','teacherSuggestions','$1_{$2}','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','ผลรวมอนุกรม\x20(Σ)','ค่าเฉลี่ย','ไม่พบตารางสำหรับ\x20Export','ระยะเวลา\x20(วินาที):','บันทึกการตั้งค่าแล้ว','จำนวนนักเรียน','now','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-complexity-select','admin-view','match','bottom','analytics-summary-cards','ผู้ไม่ยอมแพ้','FileReader\x20error:','เกิดข้อผิดพลาด:\x20','ปริพันธ์จำกัด','.project-card-content','thead\x20.sortable-header','</span>','currentTarget','q-image-container-','allResponses','export-leaderboard-pdf-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','บันทึกการแก้ไขสำเร็จ','timerMode','values','bg-green-200\x20text-green-800','คัดลอกรหัสแล้ว!','correctStreak','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rename-quiz-modal','generate-from-blueprint-btn','.mb-3','<br>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','floor','\x20ชุด)','ตัวแปรและนิพจน์','\x5cpm','ฟังก์ชันราก\x20(root)','ปริพันธ์ไม่จำกัด','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','ดอทโปรดักต์\x20(dot)','lastAnswerCorrect','classList','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','ai-quiz-app-aefee.appspot.com','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','bg-red-100\x20text-red-800','button','text-green-700\x20bg-green-100','การจัดกลุ่มข้อมูล','whole_quiz','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','Error\x20deleting\x20project:','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','perseverance','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','disabled','timer-duration-input','toggle','\x22.\x20','อัตราส่วนและสัดส่วน','ตอบถูก\x203\x20ข้อติดต่อกัน','การแจกแจงทวินาม\x20(พื้นฐาน)','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20จาก\x20','modal-timer-mode-select','destroy','.option-text','focus','perfect_score','N/A','การคูณทศนิยม','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','autoTable','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','defaultPassingScore','quiz-form','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','ไม่สามารถโหลดข้อมูลอันดับได้','timer-duration-container','.delete-custom-topic-btn','removeAttribute','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','bg-red-200\x20text-red-800','admin-password-modal','num-questions','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','originalQuestionText','แก้ไขข้อนี้','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','คณิตการเงิน/บูรณาการ','font-bold\x20text-green-700','<span\x20title=\x22','studentName','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','circ','cancel-quiz-edits-btn','เกมสิ้นสุดลงแล้ว','btn','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','questionText','checked','fa-shield-alt\x20text-gray-600','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','show_pass_fail_only','bank-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','ค่าเสื่อมราคา','confirm-move-quiz-btn','cancel-test-btn','quiz-settings-modal','ย้ายแบบทดสอบสำเร็จ','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','bank-input-area','#student-project-leaderboard-content\x20thead','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าสัมบูรณ์','.delete-quiz-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','Error\x20saving\x20settings:','test','bg-white/30','API\x20call\x20failed','.move-quiz-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','get','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','download','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','Error\x20toggling\x20star\x20status:','กราฟแท่ง\x20กราฟเส้น','อนุพันธ์:\x20กฎลูกโซ่','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','map','back-to-project-btn','แบบทดสอบที่ติดดาว','</td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','badgesCount','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รากที่สองและที่สาม','หน่วยความยาวและการแปลง','starred','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','link-tab','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','trim','ฟังก์ชันแบบชิ้นส่วน','.pdf','/users/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20id=\x22q-image-container-','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','.answer-text','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdAt','answering','กรุณาใส่ชื่อนักเรียน','ฟังก์ชันผกผัน','Error\x20showing\x20quiz\x20detail\x20view:','promptFeedback','\x20/\x20','\x22\x20value=\x22false\x22\x20','quiz-generation-area','</li>','ไม่พบข้อมูลแบบทดสอบ','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','name','ฐานนิยม','position','ส่วนเบี่ยงเบนเฉลี่ย','คะแนนเต็ม','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','quiz-id-input','underline','link-url-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างคำถามข้อ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','getPage','(^|[^\x5c\x5c])\x5cb','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','generated-quiz-actions','leaderboard-tab-content','สอบปกติ','normal','max','border-red-700','ลำดับเรขาคณิต\x20(GP)','.admin-try-quiz-list-btn','red','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sqrt','size','move-quiz-modal','สามเหลี่ยม\x20(ชนิด/สมบัติ)','-tab-content','manual_release','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctimes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','input[type=\x22checkbox\x22]','student-rankings-modal','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เส้นจำนวน','quiz-leaderboard-table','export-leaderboard-excel-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','data','ไม่พบโปรเจค','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','สมการยกกำลัง','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','text','round','.quiz-bank-parallel-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','style','loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','currentQuestionIndex','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','text-green-900','substring','keys','editable-quiz-topic','scores-tab-btn','div','sort','เกิดข้อผิดพลาดในการติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','bg-green-300','bg-purple-50','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','.presentation-option','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x20ใหม่...','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','leaderboard-table-body','mouseup','back-to-dashboard-btn','.copy-quiz-id-list-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','COMEBACK_KING','font-bold','.topic-actions-edit','\x20mx-1\x20text-lg\x22></i></span>','opacity','clientY','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','results-quiz-title','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quiz','clientX','live-game','function','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','quiz-leaderboard-table-container','scheduled_pending','13995540eVtyHs','_opt0\x22\x20name=\x22question','quiz-status-modal','Error\x20regenerating\x20question\x20in\x20editor:','<p\x20class=\x22','slice','display','ปรับเพิ่ม/ลดเป็นร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','math-topic-search-input','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','explanation','candidates','isRemedial','scores-tab-content','modal-timer-duration-label','results-tab','.regenerate-question-editor-btn','{$1}','parallel-test-upload-input','question','category','\x20ข้อ\x20','log','NUMBER','file-input-area','readAsDataURL','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','9000JCPmRZ','อสมการค่าสัมบูรณ์','เมทริกซ์:\x20บวก/คูณ','instructions','$1^{\x5ccirc}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','quiz-type-select','password-error-msg','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','href','เกิดข้อผิดพลาดในการลบนักเรียน','สมการลอการิทึม','worksheet-tab','addEventListener','แบบทดสอบไม่มีชื่อ','แบบทดสอบจากคลังส่วนตัว','264sufwpv','\x22,\x20','delete-svg-btn','difficulty-level-select','global-live-game-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','admin-try-quiz-btn','bestScore','reduce','สลับไปโหมดนักเรียน','เงินงวด\x20(อนุกรมเงินงวด)','border-red-300\x20bg-red-50','create-from-bank-btn','Invalid\x20response\x20structure\x20from\x20AI.','Error\x20saving\x20quiz\x20edits:','#results-table','length','เพิ่มหัวข้อ\x20\x22','specialist','input[name=\x22question_single\x22]:checked','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','dfrac','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','</div><div\x20class=\x22space-y-2\x22>','bg-yellow-200\x20text-yellow-800','querySelector','confirm-join-game-btn','analyze-strengths-btn','$1^{\x5ccirc}\x5ctext{C}','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-red-700\x20line-through','</body></html>','.rename-quiz-btn','image/png','\x22><i\x20class=\x22fas\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','padStart','input','setAttributeNS','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','การยืนยันตัวตนล้มเหลว','รูปหลายเหลี่ยมและมุมภายใน','generate-from-text-btn','cancel-admin-login-btn','border-green-500','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','imageCode','\x5cs*\x5c(','num-choices-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ระบบสมการเชิงเส้นสองตัวแปร','\x20ช่อง','project-list','fa-fire\x20text-orange-500','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Copy\x20command\x20failed','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','_opt1\x22\x20name=\x22question','การวัด','\x20\x20\x20-\x20คำตอบ:\x20','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','json','correctAnswerIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertAdjacentHTML','การแจกแจงปกติและ\x20z-score','student-project-leaderboard-table-body','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','confirm-create-project-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','td,\x20th','อัปเดตสถานะสำเร็จ','ring-purple-400','.save-custom-topic-btn','ไม่มีคำอธิบาย','getElementById','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x22>ไม่ใช่</p>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','both','quizType','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','update','mixed','filter','(ไม่มีชื่อ)','per-question-options','math-topics-checkbox-container','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','ข้อต่อไป','องค์ประกอบของฟังก์ชัน','editor-quiz-topic','คัดลอกแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','show_results_only','originalQuestion','อุณหภูมิและการแปลง','mouseleave','Error\x20generating\x20quiz:','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','prev-question-btn','cancel-create-project-btn','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','rows','generate-from-topic-btn','การหาร','no-projects-msg','/submissions','attempts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','admin-dashboard','Error\x20generating\x20from\x20parallel\x20test\x20file:','/public/data/quizzes','save','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','ตัวประกอบและตัวประกอบเฉพาะ','options','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','contentEditable','parts','#per-question-options\x20select','<h1></h1>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','adaptive-quiz-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/studentProfiles','Error\x20deleting\x20quiz:','การเรียงสับเปลี่ยน\x20(Permutation)','กำลังอ่านและเตรียมไฟล์...','link-input-area','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setFont','</p>','.correctStreak','date_asc','กำลังสร้างแบบทดสอบจากหัวข้อ...','multiple_choice','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','file-upload-input','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','abs','/public/data/customMathTopics','str','มุมพิเศษ\x2045°-45°-90°','กฎบวกและกฎคูณ','MathJax\x20typeset\x20error\x20(analytics):','touchcancel','write','leq','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','.topic-name-input','student-quiz-area','แบบทดสอบนี้หมดเวลาแล้ว','Error\x20moving\x20quiz:','),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','.group','player-list-lobby','neq','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-project-select','modal-passing-score-input','_opt','student-project-leaderboard-content','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','การประยุกต์เวกเตอร์พื้นฐาน','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','select-all-topics-btn','export-image-btn','.live-answer-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','Error\x20generating\x20from\x20blueprint:','indexOf','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','label[for=\x22num-questions\x22]','message-modal','หัวข้อที่สร้างเอง','Error\x20joining\x20live\x20game:','\x20ตัวเลือก.\x20','check-presentation-answer-btn','admin','delete','Firebase\x20initialization\x20failed:','จำนวนและการดำเนินการ','input[type=\x22text\x22]','score','\x20ครั้ง)</span></td>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','text-indigo-700','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','student-quiz-leaderboard-table-body','innerText','เกิดข้อผิดพลาดในการโหลดโปรเจค','สร้างแบบทดสอบ','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','title','เส้นรอบรูป','ไม่สามารถโหลดรายการโปรเจคได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-start-time','close','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','blueprint-upload-input','global-live-game-count','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','ฟังก์ชันลอการิทึม','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','จุด\x20เส้น\x20ระนาบ','<div><input\x20type=\x22radio\x22\x20id=\x22q','confirmation-message','quick_thinker','leaderboard','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','results-display-select','leaderboard-quiz','.quiz-bank-item','ค.ร.น.\x20(LCM)','textarea','[contenteditable=\x22true\x22]','global-quiz-search-input','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','defaultNumQuestions','latestSubmittedAt','\x20\x20\x20-\x20','svg','อินเวอร์สของเมทริกซ์','frac','.save-to-bank-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','name_asc','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','icon','doughnut','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','document','แคลคูลัสเบื้องต้น','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','text-input-area','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','/public/data/quizzes/','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','flex','project-sort-select','ownerSVGElement','add-student-btn','keyup','toLocaleString','passingScore','inactive','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.score','toFixed','quiz-editor-questions-container','back-to-home-manual-release','artifacts/','hover:bg-indigo-100','questionType','matching_item','^{\x5ccirc}\x5ctext{C}$','leaderboard_','.topic-actions-view','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','idealAnswer','execCommand','```','opacity-50','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','presentation-modal','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ความแปรปรวน','project-detail','Authentication\x20failed:','คัดลอกไม่สำเร็จ','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','status','timer-mode-select','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','questionStatus','confirm-quiz-settings-btn','ความเท่ากันทุกประการของสามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-file-btn','\x5cfrac{$1}{$2}','border-4','<option\x20value=\x22','text/csv;charset=utf-8;','modal-results-display-select','button[type=\x22submit\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','fill_in_with_choices','touchstart','แก้ไขหัวข้อสำเร็จ','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การสร้างรูปด้วยวงเวียน–สันตรง','mode-switcher-btn','\x20คู่\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','student-name-selection-view','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','การคูณเศษส่วน','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','ผ่าน','เกี่ยวกับหัวข้อ\x20\x22','พื้นที่สามเหลี่ยม','data:application/vnd.ms-word;charset=utf-8,','totalQuestions','ARRAY','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','short_answer','onerror','min','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','force-math-checkbox','onload','katex','some','fa-pen','user','topic-tab','change','ระยะเวลา\x20(นาที):','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x5csqrt{$1}','left','หมดเวลาสำหรับข้อนี้!','active','1:274192258111:web:4120c9118229b5644dd48a','raw','start-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','[data-is-correct=\x22true\x22]','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','สัญกรณ์วิทยาศาสตร์','generated-quiz-container','isAdaptive','quiz-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label'];_0x2860=function(){return _0x37fe2a;};return _0x2860();}async function handleOpenQuizEditor(_0x4c65ec){const _0xa714e3=_0x544b94,_0x30bb5c=document['getElementById'](_0xa714e3(0x49c)),_0x4b4ce9=document[_0xa714e3(0x365)]('quiz-editor-questions-container');_0x4b4ce9['innerHTML']=_0xa714e3(0x4a1),_0x30bb5c[_0xa714e3(0x1da)]['remove'](_0xa714e3(0x5ba));try{const _0x1109c3=doc(db,_0xa714e3(0x430)+appId+_0xa714e3(0x394),_0x4c65ec),_0x269960=await getDoc(_0x1109c3);if(!_0x269960['exists']())throw new Error(_0xa714e3(0x5fb));currentEditingQuizData={'id':_0x4c65ec,..._0x269960[_0xa714e3(0x29f)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5703fb){console[_0xa714e3(0x4a9)](_0xa714e3(0x605),_0x5703fb),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x30bb5c['classList']['add']('hidden');}}function renderQuizEditor(_0x488166){const _0x235fed=_0x544b94;document['getElementById'](_0x235fed(0x378))[_0x235fed(0x601)]=_0x488166[_0x235fed(0x547)];const _0x50dd56=document[_0x235fed(0x365)]('quiz-editor-questions-container');let _0x55bae8=_0x488166['questions'][_0x235fed(0x24a)]((_0x22869b,_0x4ffe9f)=>{const _0x137e0a=_0x235fed;let _0x55c995='';const _0xf0c38f=_0x22869b[_0x137e0a(0x432)]||_0x488166[_0x137e0a(0x36d)];switch(_0xf0c38f){case _0x137e0a(0x3ac):const _0x22bdbc=(_0x22869b[_0x137e0a(0x398)]||[])['map']((_0x140817,_0x4c85a9)=>_0x137e0a(0xf4)+_0x4ffe9f+'\x22\x20value=\x22'+_0x4c85a9+'\x22\x20'+(_0x4c85a9===_0x22869b['correctAnswerIndex']?_0x137e0a(0x21e):'')+_0x137e0a(0x117)+_0x140817+_0x137e0a(0x31f))[_0x137e0a(0x4a5)]('');_0x55c995=_0x137e0a(0x222)+_0x22bdbc+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x137e0a(0x46f):_0x55c995=_0x137e0a(0x621)+(_0x22869b[_0x137e0a(0x43a)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x137e0a(0x680):_0x55c995=_0x137e0a(0x240)+_0x4ffe9f+'\x22\x20value=\x22true\x22\x20'+(_0x22869b[_0x137e0a(0x1bc)]===!![]?'checked':'')+_0x137e0a(0x180)+_0x4ffe9f+_0x137e0a(0x26a)+(_0x22869b['correctAnswer']===![]?_0x137e0a(0x21e):'')+_0x137e0a(0x4e3);break;case _0x137e0a(0x433):_0x55c995=_0x137e0a(0x57c)+(_0x22869b[_0x137e0a(0x182)]||'')+_0x137e0a(0x664);break;}const _0xeee681=_0x22869b[_0x137e0a(0x21d)]||_0x22869b[_0x137e0a(0x4f1)]||'';return _0x137e0a(0x3ae)+_0x4ffe9f+'\x22\x20data-q-type=\x22'+_0xf0c38f+_0x137e0a(0x32e)+(_0x4ffe9f+0x1)+'\x20('+_0xf0c38f+_0x137e0a(0xec)+_0xeee681+_0x137e0a(0x62d)+_0x55c995+_0x137e0a(0x332);})[_0x235fed(0x4a5)]('');_0x50dd56[_0x235fed(0x464)]=_0x55bae8;}async function handleSaveChanges(){const _0x32c36b=_0x544b94,_0x45c37f=document['getElementById'](_0x32c36b(0x23f));_0x45c37f[_0x32c36b(0x1ea)]=!![],_0x45c37f[_0x32c36b(0x464)]=_0x32c36b(0x196);try{const _0x30055e=document[_0x32c36b(0x365)](_0x32c36b(0x378))['value'],_0x4866ff=document[_0x32c36b(0x57e)]('.question-editor-item');let _0x5e8144=[];const _0x44b80a=Array[_0x32c36b(0x18f)](_0x4866ff)[_0x32c36b(0x24a)]((_0x3c470a,_0x59335f)=>{const _0x262375=_0x32c36b,_0x4ba02f=_0x3c470a['dataset']['qType'],_0x114fed=_0x3c470a[_0x262375(0x323)]('textarea')['value'];let _0x51e8d3={'questionType':_0x4ba02f};const _0x221587=currentEditingQuizData[_0x262375(0x4b9)][_0x59335f];switch(_0x4ba02f){case _0x262375(0x3ac):_0x51e8d3['questionText']=_0x114fed;const _0x510d1f=_0x3c470a[_0x262375(0x57e)]('input[type=\x22text\x22]');_0x51e8d3[_0x262375(0x398)]=Array[_0x262375(0x18f)](_0x510d1f)[_0x262375(0x24a)](_0x305c02=>_0x305c02[_0x262375(0x601)]);const _0x231d39=_0x3c470a[_0x262375(0x323)](_0x262375(0x5ff));_0x51e8d3[_0x262375(0x356)]=_0x231d39?parseInt(_0x231d39[_0x262375(0x601)]):0x0;break;case'short_answer':_0x51e8d3[_0x262375(0x21d)]=_0x114fed,_0x51e8d3[_0x262375(0x43a)]=_0x3c470a['querySelector']('.ideal-answer-input')[_0x262375(0x601)];break;case _0x262375(0x680):_0x51e8d3[_0x262375(0x21d)]=_0x114fed;const _0x1b2161=_0x3c470a[_0x262375(0x323)](_0x262375(0x5ff));_0x51e8d3[_0x262375(0x1bc)]=_0x1b2161?_0x1b2161[_0x262375(0x601)]===_0x262375(0x11c):!![];break;case _0x262375(0x433):_0x51e8d3[_0x262375(0x4f1)]=_0x114fed;const _0x283b3f=_0x3c470a[_0x262375(0x323)](_0x262375(0x4d0));_0x51e8d3[_0x262375(0x182)]=_0x283b3f?_0x283b3f[_0x262375(0x601)]:'',_0x5e8144['push'](_0x51e8d3[_0x262375(0x182)]);break;default:_0x51e8d3['questionText']=_0x114fed;break;}return{..._0x221587,..._0x51e8d3};});_0x5e8144['length']>0x0&&_0x44b80a[_0x32c36b(0x34d)](_0x18b077=>{const _0x4b3559=_0x32c36b;_0x18b077[_0x4b3559(0x432)]===_0x4b3559(0x433)&&(_0x18b077[_0x4b3559(0x1b8)]=_0x5e8144);});const _0x22acb1=doc(db,_0x32c36b(0x430)+appId+_0x32c36b(0x394),currentEditingQuizData['id']);await updateDoc(_0x22acb1,{'topic':_0x30055e,'questions':_0x44b80a}),showMessage(_0x32c36b(0x1c1)),document[_0x32c36b(0x365)](_0x32c36b(0x49c))[_0x32c36b(0x1da)][_0x32c36b(0x114)]('hidden');}catch(_0x4152ba){console[_0x32c36b(0x4a9)](_0x32c36b(0x315),_0x4152ba),showMessage(_0x32c36b(0x116));}finally{_0x45c37f['disabled']=![],_0x45c37f[_0x32c36b(0x464)]=_0x32c36b(0x227);}}async function saveQuiz(){const _0x4c89dc=_0x544b94;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x4c89dc(0x4b9)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x42d0e4=document[_0x4c89dc(0x365)](_0x4c89dc(0x573));_0x42d0e4[_0x4c89dc(0x1ea)]=!![],_0x42d0e4['innerHTML']=_0x4c89dc(0x196),currentQuizData[_0x4c89dc(0x547)]=document[_0x4c89dc(0x365)](_0x4c89dc(0x2b3))['innerText'];try{const _0xba9bd={'resultsDisplay':document[_0x4c89dc(0x365)](_0x4c89dc(0x404))[_0x4c89dc(0x601)],'shuffle':document[_0x4c89dc(0x365)](_0x4c89dc(0x4e5))[_0x4c89dc(0x601)],'timerMode':document[_0x4c89dc(0x365)]('timer-mode-select')[_0x4c89dc(0x601)],'timerDuration':parseInt(document[_0x4c89dc(0x365)](_0x4c89dc(0x1eb))[_0x4c89dc(0x601)])||0xa,'passingScore':parseInt(document[_0x4c89dc(0x365)](_0x4c89dc(0x66f))['value'])||0x0,'isAdaptive':document[_0x4c89dc(0x365)](_0x4c89dc(0x39f))[_0x4c89dc(0x21e)]},_0x37d862=(currentQuizData['questions']||[])['map'](_0x57236e=>{const _0x1d9483=_0x4c89dc,_0x39efe3=document[_0x1d9483(0x365)](_0x1d9483(0x2fc))[_0x1d9483(0x601)],_0x520ca5={'questionText':_0x57236e[_0x1d9483(0x21d)]||'','explanation':_0x57236e['explanation']||_0x1d9483(0x364),'questionType':_0x57236e[_0x1d9483(0x432)]||_0x39efe3,'imageCode':_0x57236e[_0x1d9483(0x33b)]||null};return(_0x520ca5[_0x1d9483(0x432)]===_0x1d9483(0x3ac)||_0x520ca5['questionType']===_0x1d9483(0x455)||_0x520ca5['questionType']==='mixed'&&_0x57236e[_0x1d9483(0x398)])&&(_0x520ca5['options']=_0x57236e[_0x1d9483(0x398)]||[],_0x520ca5[_0x1d9483(0x356)]=_0x57236e[_0x1d9483(0x356)]!==undefined?_0x57236e['correctAnswerIndex']:0x0),(_0x520ca5['questionType']===_0x1d9483(0x46f)||_0x520ca5[_0x1d9483(0x432)]===_0x1d9483(0x640)||_0x520ca5[_0x1d9483(0x432)]===_0x1d9483(0x370)&&_0x57236e['idealAnswer'])&&(_0x520ca5[_0x1d9483(0x43a)]=_0x57236e[_0x1d9483(0x43a)]||''),_0x520ca5[_0x1d9483(0x432)]===_0x1d9483(0x680)&&(_0x520ca5[_0x1d9483(0x1bc)]=_0x57236e['correctAnswer']===!![]),_0x520ca5[_0x1d9483(0x432)]==='matching_item'&&(_0x520ca5[_0x1d9483(0x4f1)]=_0x57236e[_0x1d9483(0x4f1)]||'',_0x520ca5['correctResponse']=_0x57236e[_0x1d9483(0x182)]||'',_0x520ca5[_0x1d9483(0x1b8)]=_0x57236e['allResponses']||[]),_0x520ca5;}),_0x571e82={'topic':currentQuizData[_0x4c89dc(0x547)]||_0x4c89dc(0x304),'quizType':currentQuizData[_0x4c89dc(0x36d)]||'multiple_choice','questions':_0x37d862,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4c89dc(0x4c1)](),'status':_0x4c89dc(0x480),'settings':_0xba9bd};let _0x24fff9;while(!![]){_0x24fff9=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x4c89dc(0x123)]();const _0x4e3fc9=await getDoc(doc(db,_0x4c89dc(0x430)+appId+_0x4c89dc(0x394),_0x24fff9));if(!_0x4e3fc9[_0x4c89dc(0x11b)]())break;}await setDoc(doc(db,_0x4c89dc(0x430)+appId+'/public/data/quizzes',_0x24fff9),_0x571e82),currentQuizData[_0x4c89dc(0x55a)]=_0xba9bd,currentQuizData['id']=_0x24fff9;const _0x44d999=document[_0x4c89dc(0x365)](_0x4c89dc(0x282));_0x44d999[_0x4c89dc(0x464)]=_0x4c89dc(0x183)+_0x24fff9+_0x4c89dc(0x3a6),document[_0x4c89dc(0x365)]('copy-quiz-id-btn')[_0x4c89dc(0x303)]('click',()=>copyTextToClipboard(_0x24fff9,_0x4c89dc(0x1c5))),document[_0x4c89dc(0x365)](_0x4c89dc(0x5a4))[_0x4c89dc(0x303)](_0x4c89dc(0x136),()=>handleStartLiveRace(_0x24fff9)),document['getElementById']('start-presentation-btn')[_0x4c89dc(0x303)](_0x4c89dc(0x136),()=>startPresentation(currentQuizData)),document['getElementById'](_0x4c89dc(0x30d))[_0x4c89dc(0x303)](_0x4c89dc(0x136),startAdminTest),showMessage(_0x4c89dc(0x53f));}catch(_0x5ac798){console[_0x4c89dc(0x4a9)]('Error\x20saving\x20quiz:',_0x5ac798),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x42d0e4[_0x4c89dc(0x1ea)]=![],_0x42d0e4['innerHTML']=_0x4c89dc(0x2cb);}}function promptForProjectAndSave(){const _0x1e1179=_0x544b94,_0x585fbc=document['getElementById'](_0x1e1179(0x28f)),_0x4691c1=document[_0x1e1179(0x365)](_0x1e1179(0x3c9)),_0x845810=_0x585fbc[_0x1e1179(0x323)]('h3'),_0x12ab8d=document['getElementById'](_0x1e1179(0x22a));_0x845810[_0x1e1179(0x5c3)]=_0x1e1179(0x11a),_0x12ab8d[_0x1e1179(0x5c3)]='เลือกและบันทึก';allProjects[_0x1e1179(0x317)]===0x0?(_0x4691c1[_0x1e1179(0x464)]=_0x1e1179(0x42b),_0x12ab8d[_0x1e1179(0x1ea)]=!![]):(_0x4691c1['innerHTML']=allProjects[_0x1e1179(0x24a)](_0x3a521e=>_0x1e1179(0x450)+_0x3a521e['id']+'\x22>'+_0x3a521e[_0x1e1179(0x108)]+'</option>')[_0x1e1179(0x4a5)](''),_0x12ab8d[_0x1e1179(0x1ea)]=![]);_0x585fbc[_0x1e1179(0x1da)][_0x1e1179(0x221)](_0x1e1179(0x5ba));const _0x204cef=()=>{const _0xd60e8b=_0x1e1179,_0x4452e3=_0x4691c1[_0xd60e8b(0x601)];_0x4452e3?(currentProjectId=_0x4452e3,_0x585fbc[_0xd60e8b(0x1da)]['add'](_0xd60e8b(0x5ba)),saveQuiz(),_0x845810[_0xd60e8b(0x5c3)]=_0xd60e8b(0x5e0),_0x12ab8d[_0xd60e8b(0x5c3)]='ย้าย',_0x12ab8d[_0xd60e8b(0x607)](_0xd60e8b(0x136),_0x204cef),_0x12ab8d['addEventListener'](_0xd60e8b(0x136),confirmMoveQuiz)):showMessage(_0xd60e8b(0xd9));};_0x12ab8d[_0x1e1179(0x607)]('click',confirmMoveQuiz),_0x12ab8d[_0x1e1179(0x303)]('click',_0x204cef);}function copyTextToClipboard(_0x5cb74d,_0x24d5dc){const _0x4f69c0=_0x544b94,_0x1946d7=document[_0x4f69c0(0x3da)](_0x4f69c0(0x408));_0x1946d7[_0x4f69c0(0x601)]=_0x5cb74d,_0x1946d7['style'][_0x4f69c0(0x271)]=_0x4f69c0(0x651),_0x1946d7[_0x4f69c0(0x2a9)][_0x4f69c0(0x2c9)]='0',document[_0x4f69c0(0x135)]['appendChild'](_0x1946d7),_0x1946d7[_0x4f69c0(0x1f8)](),_0x1946d7[_0x4f69c0(0x18e)]();try{const _0x695bf4=document[_0x4f69c0(0x43b)]('copy');showMessage(_0x695bf4?_0x24d5dc:'คัดลอกไม่สำเร็จ');}catch(_0x20f798){showMessage(_0x4f69c0(0x444)),console['error'](_0x4f69c0(0x344),_0x20f798);}document['body'][_0x4f69c0(0xeb)](_0x1946d7);}function listenForProjectQuizzes(_0x31a6cf){const _0x34e69c=_0x544b94,_0x197fe6=collection(db,_0x34e69c(0x430)+appId+_0x34e69c(0x394)),_0x3dda8b=query(_0x197fe6,where(_0x34e69c(0x2cd),'==',_0x31a6cf));unsubscribeQuizzesListener=onSnapshot(_0x3dda8b,async _0x201fec=>{const _0x12c4f1=_0x34e69c;allQuizzes=_0x201fec[_0x12c4f1(0xad)][_0x12c4f1(0x24a)](_0xabee83=>({'id':_0xabee83['id'],..._0xabee83[_0x12c4f1(0x29f)]()})),renderQuizzes();},_0x107549=>{const _0x4a43d9=_0x34e69c;console['error']('Error\x20fetching\x20project\x20quizzes:',_0x107549),document[_0x4a43d9(0x365)]('project-quizzes-list')[_0x4a43d9(0x464)]=_0x4a43d9(0x383);});}async function renderQuizzes(){const _0x527e4e=_0x544b94,_0x49a8b7=document[_0x527e4e(0x365)](_0x527e4e(0x62e)),_0x509e20=document[_0x527e4e(0x365)](_0x527e4e(0x514))['value']['toLowerCase']();let _0x16496d;currentProjectId===_0x527e4e(0x255)?_0x16496d=starredQuizzes:_0x16496d=allQuizzes;let _0x3b6bcb=_0x16496d['filter'](_0x10a0f4=>_0x10a0f4[_0x527e4e(0x547)][_0x527e4e(0x5b0)]()[_0x527e4e(0x616)](_0x509e20));_0x3b6bcb[_0x527e4e(0x2b6)]((_0x3001de,_0x56b332)=>new Date(_0x56b332['createdAt'])-new Date(_0x3001de['createdAt']));if(_0x3b6bcb[_0x527e4e(0x317)]===0x0){_0x49a8b7[_0x527e4e(0x464)]=_0x527e4e(0x501);return;}const _0x367572={},_0x3aa74e=_0x3b6bcb[_0x527e4e(0x24a)](async _0x1c3593=>{const _0x32d41e=_0x527e4e,_0x35e8e7=collection(db,_0x32d41e(0x430)+appId+_0x32d41e(0x421)+_0x1c3593['id']+_0x32d41e(0x38f)),_0x5a4718=await getDocs(_0x35e8e7);_0x367572[_0x1c3593['id']]=_0x5a4718[_0x32d41e(0x28e)];});await Promise[_0x527e4e(0x130)](_0x3aa74e);let _0x121948='';_0x3b6bcb['forEach'](_0x3ab1ac=>{const _0x45712f=_0x527e4e,_0x1863a6=_0x367572[_0x3ab1ac['id']]||0x0,_0x34f6c3=_0x3ab1ac[_0x45712f(0x446)]||'active',_0x16e1b9=_0x3ab1ac[_0x45712f(0x55a)]?.['timerMode']||'none';let _0x9fd88f='',_0x562d31='';const _0x283428=new Date();let _0x51be03=_0x34f6c3;if(_0x34f6c3===_0x45712f(0x572)){const _0x253396=_0x3ab1ac[_0x45712f(0x102)]?new Date(_0x3ab1ac['startTime']):null,_0x21a229=_0x3ab1ac['endTime']?new Date(_0x3ab1ac['endTime']):null;if(_0x21a229&&_0x283428>_0x21a229)_0x51be03=_0x45712f(0x42a);else _0x253396&&_0x283428<_0x253396?_0x51be03=_0x45712f(0x2d6):_0x51be03=_0x45712f(0x480);}switch(_0x51be03){case _0x45712f(0x42a):_0x9fd88f=_0x45712f(0x168),_0x562d31=_0x45712f(0xcc);break;case _0x45712f(0x2d6):_0x9fd88f=_0x45712f(0x231),_0x562d31=_0x45712f(0x4ec);break;case _0x45712f(0x480):_0x9fd88f=_0x16e1b9!=='none'?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x562d31='text-green-700\x20bg-green-100';break;default:_0x9fd88f='ตั้งเวลา\x20(เปิด)',_0x562d31=_0x45712f(0x1e0);}let _0x11fcbd='';const _0x510852={'day':'2-digit','month':'2-digit','year':'numeric','hour':_0x45712f(0x14b),'minute':_0x45712f(0x14b),'hour12':![]};_0x34f6c3===_0x45712f(0x572)&&(_0x3ab1ac['startTime']&&(_0x11fcbd+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x3ab1ac[_0x45712f(0x102)])[_0x45712f(0x428)]('th-TH',_0x510852)+'</p>'),_0x3ab1ac[_0x45712f(0x4cd)]&&(_0x11fcbd+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x3ab1ac[_0x45712f(0x4cd)])[_0x45712f(0x428)](_0x45712f(0x65a),_0x510852)+'</p>')),_0x121948+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x3ab1ac['id']+_0x45712f(0x4f8)+_0x3ab1ac[_0x45712f(0x547)]+_0x45712f(0x35b)+_0x3ab1ac[_0x45712f(0x4b9)][_0x45712f(0x317)]+_0x45712f(0x244)+new Date(_0x3ab1ac[_0x45712f(0x263)])['toLocaleString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x1863a6+_0x45712f(0x59a)+_0x11fcbd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x562d31+'\x22>'+_0x9fd88f+_0x45712f(0x5f7)+_0x3ab1ac['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ab1ac['id']+_0x45712f(0x3bc)+(_0x3ab1ac[_0x45712f(0x5be)]?'fas\x20fa-star\x20text-yellow-500':_0x45712f(0x52a))+_0x45712f(0x60b)+_0x3ab1ac['id']+_0x45712f(0x256)+_0x3ab1ac['id']+_0x45712f(0x5b5)+_0x3ab1ac['topic']+_0x45712f(0x297)+_0x3ab1ac['id']+_0x45712f(0x51f)+_0x3ab1ac['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ab1ac['id']+_0x45712f(0x5a3)+_0x3ab1ac['id']+_0x45712f(0x339)+_0x3ab1ac['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ab1ac['id']+_0x45712f(0x184)+_0x3ab1ac['id']+_0x45712f(0x26e)+_0x3ab1ac['id']+_0x45712f(0x219)+_0x3ab1ac['id']+_0x45712f(0x5b5)+_0x3ab1ac[_0x45712f(0x547)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x49a8b7[_0x527e4e(0x464)]=_0x121948,document[_0x527e4e(0x57e)]('.quiz-result-card')['forEach'](_0x200f6f=>{const _0x51f945=_0x527e4e;_0x200f6f[_0x51f945(0x303)](_0x51f945(0x136),()=>{const _0x51a8b8=_0x51f945,_0x40b736=_0x200f6f[_0x51a8b8(0x5ab)][_0x51a8b8(0x643)];showQuizDetailView(_0x40b736);});});}function _0x2ca3(_0x47db87,_0xefb261){const _0x286016=_0x2860();return _0x2ca3=function(_0x2ca387,_0xc4a2a1){_0x2ca387=_0x2ca387-0xac;let _0x444a1e=_0x286016[_0x2ca387];return _0x444a1e;},_0x2ca3(_0x47db87,_0xefb261);}async function handleDuplicateQuiz(_0x53f5c1){const _0x52c0d3=_0x544b94;try{const _0xbc4e81=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x53f5c1),_0x5d2ea5=await getDoc(_0xbc4e81);if(_0x5d2ea5[_0x52c0d3(0x11b)]()){const _0x572846=_0x5d2ea5[_0x52c0d3(0x29f)](),_0x57c25d={..._0x572846,'topic':_0x52c0d3(0x597)+_0x572846[_0x52c0d3(0x547)],'createdAt':new Date()[_0x52c0d3(0x4c1)]()};await addDoc(collection(db,'artifacts/'+appId+_0x52c0d3(0x394)),_0x57c25d),showMessage(_0x52c0d3(0x379));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x34558e){console[_0x52c0d3(0x4a9)](_0x52c0d3(0x64b),_0x34558e),showMessage(_0x52c0d3(0x36e));}}async function handleDeleteQuiz(_0x1951f4,_0x51bc1e=!![]){const _0x357f72=_0x544b94;try{const _0x484cda=writeBatch(db),_0x5822e5=collection(db,'artifacts/'+appId+_0x357f72(0x421)+_0x1951f4+_0x357f72(0x38f)),_0x452cbf=await getDocs(_0x5822e5);_0x452cbf['forEach'](_0x1e11ff=>{const _0x4ce362=_0x357f72;_0x484cda[_0x4ce362(0x3e2)](doc(_0x5822e5,_0x1e11ff['id']));});const _0x458485=doc(db,_0x357f72(0x430)+appId+_0x357f72(0x394),_0x1951f4);_0x484cda[_0x357f72(0x3e2)](_0x458485),await _0x484cda[_0x357f72(0x5cc)](),_0x51bc1e&&showMessage(_0x357f72(0xd8));}catch(_0x203984){console[_0x357f72(0x4a9)](_0x357f72(0x3a2),_0x203984),_0x51bc1e&&showMessage(_0x357f72(0xb4));}}async function showQuizDetailView(_0x2230f4){const _0x5bbb22=_0x544b94;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5bbb22(0x679));try{const _0x18324b=doc(db,_0x5bbb22(0x430)+appId+_0x5bbb22(0x394),_0x2230f4),_0x2107c1=await getDoc(_0x18324b);if(!_0x2107c1[_0x5bbb22(0x11b)]()){showMessage(_0x5bbb22(0x26d));return;}const _0x3d25bb={'id':_0x2107c1['id'],..._0x2107c1[_0x5bbb22(0x29f)]()};currentQuizData=_0x3d25bb;const _0x5d58df=doc(db,_0x5bbb22(0x430)+appId+'/public/data/projects',_0x3d25bb['projectId']),_0x23e7fb=await getDoc(_0x5d58df);_0x23e7fb[_0x5bbb22(0x11b)]()?(currentProjectData=_0x23e7fb[_0x5bbb22(0x29f)](),currentProjectId=_0x3d25bb[_0x5bbb22(0x2cd)]):(currentProjectData={'students':[]},currentProjectId=_0x3d25bb[_0x5bbb22(0x2cd)]);document['getElementById'](_0x5bbb22(0x2cc))['textContent']=_0x3d25bb['topic'],document[_0x5bbb22(0x365)](_0x5bbb22(0x5d9))['textContent']=_0x2230f4;const _0x4b7541=collection(db,_0x5bbb22(0x430)+appId+_0x5bbb22(0x394),_0x2230f4,_0x5bbb22(0x132));unsubscribeSubmissionsListener=onSnapshot(_0x4b7541,_0x27f400=>{const _0x3877bc=_0x5bbb22,_0x595bb7=_0x27f400['docs'][_0x3877bc(0x24a)](_0x37a578=>({'id':_0x37a578['id'],..._0x37a578['data']()}));currentSubmissions=_0x595bb7,renderAnalytics(_0x3d25bb,_0x595bb7),renderQuizResultsTable(currentProjectData[_0x3877bc(0x61e)],_0x595bb7,_0x3d25bb),renderQuizLeaderboard(_0x595bb7,_0x3d25bb,_0x3877bc(0x544));}),showView(_0x5bbb22(0x491));}catch(_0x1dd44c){console[_0x5bbb22(0x4a9)](_0x5bbb22(0x267),_0x1dd44c),showMessage(_0x5bbb22(0x198));}}function renderQuizResultsTable(_0x26a701,_0xb86cfb,_0x3d41c9){const _0x27690b=_0x544b94,_0x370a43=_0xb86cfb[_0x27690b(0x30f)]((_0x56545e,_0x16bc79)=>{const _0x571468=_0x27690b;return _0x56545e[_0x16bc79[_0x571468(0x213)]]=_0x16bc79,_0x56545e;},{}),_0x5ca4b1=document[_0x27690b(0x365)]('quiz-results-table-body');if(!_0x26a701||_0x26a701['length']===0x0){_0x5ca4b1['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x36ba6e=_0x3d41c9['isRemedial']===!![],_0x4a8bc7=_0x3d41c9[_0x27690b(0x55a)]?.[_0x27690b(0x429)]??-0x1;let _0x4da17a='';_0x26a701['forEach'](_0x4c4217=>{const _0x36649d=_0x27690b,_0x10bc30=_0x370a43[_0x4c4217];let _0x36e8bc=_0x36649d(0x4df),_0x10fc11=_0x36649d(0x163)+(_0x36ba6e?_0x36649d(0x5a6):_0x36649d(0x670))+'\x22>'+(_0x36ba6e?_0x36649d(0x5dc):_0x36649d(0x284))+_0x36649d(0x15c);if(_0x10bc30){let _0x24b3a7;_0x36ba6e?_0x24b3a7=_0x10bc30[_0x36649d(0x30e)]===_0x10bc30['totalQuestions']:_0x24b3a7=_0x4a8bc7!==-0x1&&_0x10bc30['bestScore']>=_0x4a8bc7;if(_0x36ba6e||_0x4a8bc7!==-0x1){const _0x1bd25f=_0x24b3a7?'bg-green-100\x20text-green-800':_0x36649d(0x1de),_0x5724d4=_0x24b3a7?_0x36649d(0x467):_0x36649d(0x4b7);_0x36e8bc='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1bd25f+'\x22>'+_0x5724d4+_0x36649d(0x15c);}const _0x22c3d8=_0x36649d(0x45f)+(_0x10bc30[_0x36649d(0x390)]?.[_0x36649d(0x317)]||0x1)+_0x36649d(0x3e7);_0x4da17a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4c4217+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x10bc30[_0x36649d(0x30e)]+_0x36649d(0x269)+_0x10bc30[_0x36649d(0x46b)]+_0x36649d(0x280)+_0x36e8bc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10fc11+_0x36649d(0x489)+_0x10bc30[_0x36649d(0x4da)]+_0x36649d(0x269)+_0x10bc30[_0x36649d(0x46b)]+_0x36649d(0x647)+_0x10bc30['latestScore']+_0x36649d(0x4e1)+(_0x10bc30[_0x36649d(0x5ea)]||0x0)+_0x36649d(0x280)+_0x22c3d8+_0x36649d(0x484)+new Date(_0x10bc30[_0x36649d(0x40e)])[_0x36649d(0x428)](_0x36649d(0x65a))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x2f1e39=_0x36649d(0x54b);_0x4da17a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4c4217+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10fc11+_0x36649d(0x3d7)+_0x2f1e39+_0x36649d(0x162);}}),_0x5ca4b1[_0x27690b(0x464)]=_0x4da17a;}function handleRenameQuiz(_0x1e421e,_0x5aca6b){const _0x39fc36=_0x544b94;actionTargetId=_0x1e421e,document[_0x39fc36(0x365)]('rename-quiz-input')[_0x39fc36(0x601)]=_0x5aca6b,renameQuizModal['classList'][_0x39fc36(0x221)](_0x39fc36(0x5ba));}async function confirmRenameQuiz(){const _0x414641=_0x544b94,_0x50419c=document[_0x414641(0x365)](_0x414641(0x662))['value'][_0x414641(0x25a)]();if(!_0x50419c){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x23a829=doc(db,_0x414641(0x430)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x23a829,{'topic':_0x50419c}),showMessage(_0x414641(0x5a2)),renameQuizModal[_0x414641(0x1da)][_0x414641(0x114)](_0x414641(0x5ba)),actionTargetId=null;}catch(_0x4f5007){console[_0x414641(0x4a9)]('Error\x20renaming\x20quiz:',_0x4f5007),showMessage(_0x414641(0x5fc));}}async function handleMoveQuiz(_0x1c8352){const _0x1827f9=_0x544b94;actionTargetId=_0x1c8352;const _0x35c168=document[_0x1827f9(0x365)](_0x1827f9(0x3c9));_0x35c168['innerHTML']=_0x1827f9(0x538),moveQuizModal[_0x1827f9(0x1da)]['remove'](_0x1827f9(0x5ba));try{const _0x23d55b=collection(db,_0x1827f9(0x430)+appId+_0x1827f9(0x5af)),_0x5a94ae=await getDocs(_0x23d55b),_0x574661=_0x5a94ae[_0x1827f9(0xad)][_0x1827f9(0x24a)](_0x2ce643=>({'id':_0x2ce643['id'],..._0x2ce643[_0x1827f9(0x29f)]()})),_0x5385a2=_0x574661[_0x1827f9(0x371)](_0x51a369=>_0x51a369['id']!==currentProjectId);if(_0x5385a2['length']===0x0){_0x35c168[_0x1827f9(0x464)]=_0x1827f9(0x31b),document[_0x1827f9(0x365)](_0x1827f9(0x22a))[_0x1827f9(0x1ea)]=!![];return;}_0x35c168[_0x1827f9(0x464)]=_0x5385a2[_0x1827f9(0x24a)](_0x459872=>_0x1827f9(0x450)+_0x459872['id']+'\x22>'+_0x459872[_0x1827f9(0x108)]+_0x1827f9(0xf6))[_0x1827f9(0x4a5)](''),document['getElementById'](_0x1827f9(0x22a))[_0x1827f9(0x1ea)]=![];}catch(_0x502fed){console[_0x1827f9(0x4a9)]('Error\x20fetching\x20projects\x20for\x20move:',_0x502fed),showMessage(_0x1827f9(0x3f2)),moveQuizModal[_0x1827f9(0x1da)]['add'](_0x1827f9(0x5ba));}}async function confirmMoveQuiz(){const _0x52b796=_0x544b94,_0x5a5622=document[_0x52b796(0x365)](_0x52b796(0x3c9))['value'];if(!_0x5a5622){showMessage(_0x52b796(0xca));return;}if(!actionTargetId)return;const _0x2ec64a=doc(db,_0x52b796(0x430)+appId+_0x52b796(0x394),actionTargetId);try{await updateDoc(_0x2ec64a,{'projectId':_0x5a5622}),showMessage(_0x52b796(0x22d)),moveQuizModal[_0x52b796(0x1da)]['add']('hidden'),actionTargetId=null;}catch(_0x4108f1){console[_0x52b796(0x4a9)](_0x52b796(0x3c0),_0x4108f1),showMessage(_0x52b796(0x56b));}}async function handleQuizSettings(_0x5a89a7){const _0x363809=_0x544b94;actionTargetId=_0x5a89a7;const _0x1f62e1=doc(db,_0x363809(0x430)+appId+_0x363809(0x394),_0x5a89a7);try{const _0x1a6933=await getDoc(_0x1f62e1);if(_0x1a6933[_0x363809(0x11b)]()){const _0x16403d=_0x1a6933[_0x363809(0x29f)](),_0x35f748=_0x16403d[_0x363809(0x55a)]||{},_0x3504f6=_0x16403d[_0x363809(0x4b9)][_0x363809(0x317)];document['getElementById'](_0x363809(0x17f))[_0x363809(0x601)]=_0x35f748[_0x363809(0x581)]||'none',document[_0x363809(0x365)](_0x363809(0x452))['value']=_0x35f748[_0x363809(0x5b7)]||'show_results_and_answers',document[_0x363809(0x365)](_0x363809(0x1f5))[_0x363809(0x601)]=_0x35f748[_0x363809(0x1c2)]||_0x363809(0x48c),document[_0x363809(0x365)](_0x363809(0x526))[_0x363809(0x601)]=_0x35f748['timerDuration']||0xa,document[_0x363809(0x365)](_0x363809(0x3ca))[_0x363809(0x601)]=_0x35f748[_0x363809(0x429)]||Math['floor'](_0x3504f6/0x2),document[_0x363809(0x365)](_0x363809(0x3ca))[_0x363809(0x286)]=_0x3504f6,document['getElementById'](_0x363809(0x13c))[_0x363809(0x21e)]=_0x35f748[_0x363809(0x490)]||![],document[_0x363809(0x365)]('modal-timer-mode-select')[_0x363809(0x4a6)](new Event('change')),quizSettingsModal[_0x363809(0x1da)]['remove']('hidden');}else showMessage(_0x363809(0x26d));}catch(_0x2decac){console[_0x363809(0x4a9)](_0x363809(0x37b),_0x2decac),showMessage(_0x363809(0x5e7));}}async function confirmQuizSettings(){const _0x39ba64=_0x544b94;if(!actionTargetId)return;const _0x4a19a5=doc(db,'artifacts/'+appId+_0x39ba64(0x394),actionTargetId),_0x1f890a={'shuffle':document['getElementById'](_0x39ba64(0x17f))['value'],'resultsDisplay':document[_0x39ba64(0x365)](_0x39ba64(0x452))[_0x39ba64(0x601)],'timerMode':document[_0x39ba64(0x365)](_0x39ba64(0x1f5))[_0x39ba64(0x601)],'timerDuration':parseInt(document[_0x39ba64(0x365)](_0x39ba64(0x526))[_0x39ba64(0x601)])||0xa,'passingScore':parseInt(document['getElementById'](_0x39ba64(0x3ca))[_0x39ba64(0x601)])||0x0,'passingScore':parseInt(document[_0x39ba64(0x365)](_0x39ba64(0x3ca))[_0x39ba64(0x601)])||0x0,'isAdaptive':document['getElementById'](_0x39ba64(0x13c))['checked']};try{await updateDoc(_0x4a19a5,{'settings':_0x1f890a}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x39ba64(0x114)]('hidden'),actionTargetId=null;}catch(_0xbad396){console[_0x39ba64(0x4a9)](_0x39ba64(0xe4),_0xbad396),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleQuizStatus(_0x5ed4ec){const _0x3f91b9=_0x544b94;actionTargetId=_0x5ed4ec;const _0x297cef=doc(db,_0x3f91b9(0x430)+appId+_0x3f91b9(0x394),_0x5ed4ec);try{const _0x488d1b=await getDoc(_0x297cef);if(_0x488d1b[_0x3f91b9(0x11b)]()){const _0x331b32=_0x488d1b['data'](),_0x69e00d=_0x331b32['status']||_0x3f91b9(0x480),_0x4ada77=document[_0x3f91b9(0x365)](_0x3f91b9(0xe1)),_0x568a28=document[_0x3f91b9(0x365)](_0x3f91b9(0x537)),_0x29d7e1=document[_0x3f91b9(0x365)](_0x3f91b9(0x619));let _0x3d5311=_0x3f91b9(0x4f3)+(_0x69e00d===_0x3f91b9(0x480)?_0x3f91b9(0x21e):'')+_0x3f91b9(0x58c)+(_0x69e00d===_0x3f91b9(0x42a)?_0x3f91b9(0x21e):'')+_0x3f91b9(0x445)+(_0x69e00d==='scheduled'?'checked':'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x4ada77[_0x3f91b9(0x464)]=_0x3d5311;const _0x37c4de=_0x69e00d===_0x3f91b9(0x572);_0x568a28[_0x3f91b9(0x1da)]['toggle'](_0x3f91b9(0x5ba),!_0x37c4de),_0x29d7e1[_0x3f91b9(0x1da)][_0x3f91b9(0x1ec)](_0x3f91b9(0x5ba),!_0x37c4de),document[_0x3f91b9(0x365)](_0x3f91b9(0x3f4))['value']=_0x331b32[_0x3f91b9(0x102)]?_0x331b32[_0x3f91b9(0x102)][_0x3f91b9(0x2b1)](0x0,0x10):'',document[_0x3f91b9(0x365)]('quiz-end-time')[_0x3f91b9(0x601)]=_0x331b32[_0x3f91b9(0x4cd)]?_0x331b32[_0x3f91b9(0x4cd)][_0x3f91b9(0x2b1)](0x0,0x10):'',_0x4ada77[_0x3f91b9(0x57e)](_0x3f91b9(0x5cb))[_0x3f91b9(0x34d)](_0x1eede6=>{const _0x1a0fff=_0x3f91b9;_0x1eede6['addEventListener'](_0x1a0fff(0x47a),_0x2f2dca=>{const _0x54a295=_0x1a0fff,_0x4c4e31=_0x2f2dca[_0x54a295(0x12f)]['value']==='schedule';_0x568a28[_0x54a295(0x1da)][_0x54a295(0x1ec)](_0x54a295(0x5ba),!_0x4c4e31),_0x29d7e1[_0x54a295(0x1da)][_0x54a295(0x1ec)]('hidden',!_0x4c4e31);});}),quizStatusModal[_0x3f91b9(0x1da)][_0x3f91b9(0x221)]('hidden');}}catch(_0x1f34eb){console[_0x3f91b9(0x4a9)](_0x3f91b9(0x591),_0x1f34eb),showMessage(_0x3f91b9(0x172));}}async function confirmQuizStatus(){const _0x1e4389=_0x544b94;if(!actionTargetId)return;const _0x3ca4b7=doc(db,_0x1e4389(0x430)+appId+_0x1e4389(0x394),actionTargetId),_0x4d69a8=document[_0x1e4389(0x323)](_0x1e4389(0x51b));if(!_0x4d69a8){showMessage(_0x1e4389(0x320));return;}const _0x4e294a=_0x4d69a8[_0x1e4389(0x601)];let _0xa5f563={};if(_0x4e294a==='active'||_0x4e294a===_0x1e4389(0x42a))_0xa5f563={'status':_0x4e294a,'startTime':null,'endTime':null};else{if(_0x4e294a==='schedule'){const _0x2c63a5=document[_0x1e4389(0x365)]('quiz-start-time')[_0x1e4389(0x601)],_0x16810c=document[_0x1e4389(0x365)](_0x1e4389(0xd3))[_0x1e4389(0x601)];if(!_0x2c63a5&&!_0x16810c){showMessage(_0x1e4389(0x18c));return;}_0xa5f563={'status':'scheduled','startTime':_0x2c63a5?new Date(_0x2c63a5)[_0x1e4389(0x4c1)]():null,'endTime':_0x16810c?new Date(_0x16810c)[_0x1e4389(0x4c1)]():null};}}try{await updateDoc(_0x3ca4b7,_0xa5f563),showMessage(_0x1e4389(0x361)),quizStatusModal[_0x1e4389(0x1da)][_0x1e4389(0x114)](_0x1e4389(0x5ba)),actionTargetId=null;}catch(_0x1dd301){console[_0x1e4389(0x4a9)](_0x1e4389(0x4cc),_0x1dd301),showMessage(_0x1e4389(0xd5));}}function listenForStudentProfiles(_0x381b44){const _0x30d350=_0x544b94,_0x2c6f77=collection(db,_0x30d350(0x430)+appId+_0x30d350(0xc2)+_0x381b44+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x2c6f77,_0x4460f6=>{const _0x3260ac=_0x30d350,_0x112ad9=_0x4460f6[_0x3260ac(0xad)][_0x3260ac(0x24a)](_0x5c42cb=>_0x5c42cb['data']());renderLeaderboard(_0x112ad9,_0x3260ac(0x2c0));},_0x27519b=>{const _0x540c5c=_0x30d350;console['error'](_0x540c5c(0x594),_0x27519b),document[_0x540c5c(0x365)](_0x540c5c(0x2c0))[_0x540c5c(0x464)]=_0x540c5c(0x35e);});}function renderLeaderboard(_0x5b7299,_0x8ad2eb){const _0x5a7735=_0x544b94,_0x1651b1=document['getElementById'](_0x8ad2eb);if(!_0x5b7299||_0x5b7299['length']===0x0){_0x1651b1[_0x5a7735(0x464)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x5b7299[_0x5a7735(0x2b6)]((_0x52d23a,_0x1d3f73)=>{const _0x32616f=_0x5a7735,_0x220890=(_0x1d3f73[_0x32616f(0x617)]||0x0)-(_0x52d23a[_0x32616f(0x617)]||0x0);if(_0x220890!==0x0)return _0x220890;const _0x19f75d=(_0x1d3f73[_0x32616f(0x24f)]?.[_0x32616f(0x319)]||0x0)-(_0x52d23a[_0x32616f(0x24f)]?.[_0x32616f(0x319)]||0x0);if(_0x19f75d!==0x0)return _0x19f75d;const _0x3f7aed=(_0x1d3f73[_0x32616f(0x24f)]?.[_0x32616f(0x4db)]||0x0)-(_0x52d23a[_0x32616f(0x24f)]?.[_0x32616f(0x4db)]||0x0);if(_0x3f7aed!==0x0)return _0x3f7aed;const _0x3f3dfa=(_0x1d3f73[_0x32616f(0x24f)]?.[_0x32616f(0x1f9)]||0x0)-(_0x52d23a[_0x32616f(0x24f)]?.[_0x32616f(0x1f9)]||0x0);if(_0x3f3dfa!==0x0)return _0x3f3dfa;const _0x21a113=(_0x1d3f73[_0x32616f(0x24f)]?.[_0x32616f(0x400)]||0x0)-(_0x52d23a['badgesCount']?.[_0x32616f(0x400)]||0x0);if(_0x21a113!==0x0)return _0x21a113;return _0x52d23a[_0x32616f(0x213)]['localeCompare'](_0x1d3f73[_0x32616f(0x213)],'th');});let _0x50f744='';_0x5b7299[_0x5a7735(0x34d)]((_0x3486a3,_0x2f5bdc)=>{const _0x187705=_0x5a7735,_0x482809=_0x2f5bdc+0x1,_0x46bb41=_0x3486a3[_0x187705(0x24f)]||{};let _0x4f1cc7='';const _0x47780c=[_0x187705(0x319),_0x187705(0x1f9),_0x187705(0x4db),_0x187705(0x400)];_0x47780c[_0x187705(0x34d)](_0x32b984=>{const _0x1dcf49=_0x187705;if(_0x46bb41[_0x32b984]>0x0){const _0x276d0c=Object['values'](BADGES)[_0x1dcf49(0x575)](_0x57278d=>_0x57278d['id']===_0x32b984);_0x276d0c&&(_0x32b984===_0x1dcf49(0x319)?_0x4f1cc7+=_0x1dcf49(0x5a9)+_0x276d0c[_0x1dcf49(0x26f)]+_0x1dcf49(0x55b)+_0x276d0c[_0x1dcf49(0x419)]+_0x1dcf49(0x600):_0x4f1cc7+=_0x1dcf49(0x5a9)+_0x276d0c['name']+'\x20('+_0x46bb41[_0x32b984]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x276d0c[_0x1dcf49(0x419)]+_0x1dcf49(0x420)+_0x46bb41[_0x32b984]+_0x1dcf49(0x167));}}),_0x50f744+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x482809+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3486a3[_0x187705(0x213)]+_0x187705(0x27c)+(_0x3486a3[_0x187705(0x617)]||0x0)+_0x187705(0x24e)+(_0x4f1cc7||'-')+_0x187705(0x16f);}),_0x1651b1[_0x5a7735(0x464)]=_0x50f744;}function renderQuizLeaderboard(_0x1357f1,_0x534a89,_0x224b92){const _0x4ec479=_0x544b94,_0x587354=document[_0x4ec479(0x365)](_0x224b92),_0x4bc7e4=_0x224b92===_0x4ec479(0x3eb),_0x415b18=_0x534a89['questions'][_0x4ec479(0x317)],_0x56f9cc=document[_0x4ec479(0x365)](_0x224b92)['closest'](_0x4ec479(0x5f9));if(_0x56f9cc&&!_0x4bc7e4){const _0x345d9d=_0x56f9cc[_0x4ec479(0x323)](_0x4ec479(0x5de));_0x345d9d[_0x4ec479(0x464)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x1357f1||_0x1357f1[_0x4ec479(0x317)]===0x0){_0x587354[_0x4ec479(0x464)]=_0x4ec479(0x4f2)+(_0x4bc7e4?0x6:0x8)+_0x4ec479(0x20c);return;}const _0x18392d=[..._0x1357f1];_0x18392d[_0x4ec479(0x2b6)]((_0xd6b4a1,_0x3aea3b)=>{const _0x34a2b4=_0x4ec479;let _0x688a0c,_0x504fe8;switch(quizLeaderboardSortBy){case'studentName':_0x688a0c=_0xd6b4a1[_0x34a2b4(0x213)]||'',_0x504fe8=_0x3aea3b[_0x34a2b4(0x213)]||'';return quizLeaderboardSortOrder===_0x34a2b4(0x126)?_0x688a0c[_0x34a2b4(0x56e)](_0x504fe8,'th'):_0x504fe8[_0x34a2b4(0x56e)](_0x688a0c,'th');case _0x34a2b4(0x5ea):_0x688a0c=_0xd6b4a1[_0x34a2b4(0x5ea)]||0x0,_0x504fe8=_0x3aea3b['points']||0x0;break;case _0x34a2b4(0x390):_0x688a0c=_0xd6b4a1['attempts']?.[_0x34a2b4(0x317)]||0x1,_0x504fe8=_0x3aea3b[_0x34a2b4(0x390)]?.[_0x34a2b4(0x317)]||0x1;break;case'latestSubmittedAt':_0x688a0c=new Date(_0xd6b4a1[_0x34a2b4(0x40e)]),_0x504fe8=new Date(_0x3aea3b[_0x34a2b4(0x40e)]);break;case _0x34a2b4(0x30e):default:_0x688a0c=_0xd6b4a1[_0x34a2b4(0x30e)],_0x504fe8=_0x3aea3b['bestScore'];break;}if(_0x688a0c<_0x504fe8)return quizLeaderboardSortOrder===_0x34a2b4(0x126)?-0x1:0x1;if(_0x688a0c>_0x504fe8)return quizLeaderboardSortOrder===_0x34a2b4(0x126)?0x1:-0x1;return 0x0;});const _0x2badc1=_0x534a89[_0x4ec479(0x2e5)]===!![],_0x5747db=_0x534a89[_0x4ec479(0x55a)]?.[_0x4ec479(0x429)]??-0x1;let _0x246b80='';_0x18392d[_0x4ec479(0x34d)]((_0x403b1,_0x134c1f)=>{const _0x266e9b=_0x4ec479,_0x1c4c1b=_0x134c1f+0x1;let _0x41e187='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x2badc1||_0x5747db!==-0x1){let _0x2ff57a=_0x2badc1?_0x403b1[_0x266e9b(0x30e)]===_0x415b18:_0x403b1[_0x266e9b(0x30e)]>=_0x5747db;const _0x5e7170=_0x2ff57a?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x586259=_0x2ff57a?_0x266e9b(0x467):_0x266e9b(0x4b7);_0x41e187=_0x266e9b(0x440)+_0x5e7170+'\x22>'+_0x586259+_0x266e9b(0x15c);}const _0x556ba7=_0x403b1[_0x266e9b(0x390)][_0x403b1[_0x266e9b(0x390)][_0x266e9b(0x317)]-0x1],_0x38e993=(_0x556ba7[_0x266e9b(0x5b8)]||[])[_0x266e9b(0x24a)](_0xb58d4d=>{const _0x4fe239=_0x266e9b,_0x47d95e=Object[_0x4fe239(0x1c3)](BADGES)['find'](_0x189c54=>_0x189c54['id']===_0xb58d4d);return _0x47d95e?_0x4fe239(0x212)+_0x47d95e['name']+_0x4fe239(0x32d)+_0x47d95e[_0x4fe239(0x419)]+_0x4fe239(0x2c8):'';})[_0x266e9b(0x4a5)]('');_0x246b80+=_0x266e9b(0x141)+_0x1c4c1b+_0x266e9b(0x25e)+_0x403b1[_0x266e9b(0x213)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x403b1[_0x266e9b(0x30e)]+_0x266e9b(0x269)+_0x415b18+_0x266e9b(0x422)+_0x41e187+_0x266e9b(0x4dd)+(_0x403b1[_0x266e9b(0x5ea)]||0x0)+_0x266e9b(0x422)+(_0x4bc7e4?'':_0x266e9b(0x519)+(_0x403b1[_0x266e9b(0x390)]?.[_0x266e9b(0x317)]||0x1)+_0x266e9b(0x24d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4bc7e4?'':_0x266e9b(0x29a)+new Date(_0x403b1[_0x266e9b(0x40e)])[_0x266e9b(0x428)](_0x266e9b(0x65a))+_0x266e9b(0x24d))+_0x266e9b(0xe6)+(_0x38e993||'-')+_0x266e9b(0x1ba);}),_0x587354[_0x4ec479(0x464)]=_0x246b80,_0x56f9cc&&!_0x4bc7e4&&_0x56f9cc[_0x4ec479(0x57e)](_0x4ec479(0x1b4))[_0x4ec479(0x34d)](_0x1a9a18=>{const _0x6018ca=_0x4ec479,_0x439e25=_0x1a9a18['querySelector']('.sort-indicator');if(_0x439e25)_0x439e25['remove']();_0x1a9a18['dataset']['sort']===quizLeaderboardSortBy&&(_0x1a9a18[_0x6018ca(0x464)]+=_0x6018ca(0x14c)+(quizLeaderboardSortOrder===_0x6018ca(0x126)?'▲':'▼')+_0x6018ca(0x1b5));});}async function handleLoadQuiz(){const _0x49f978=_0x544b94,_0x5ca566=document[_0x49f978(0x365)]('quiz-id-input'),_0x387a85=_0x5ca566[_0x49f978(0x601)]['trim']();if(!_0x387a85){showMessage(_0x49f978(0xb0));return;}loadQuizBtn[_0x49f978(0x1ea)]=!![],loadQuizBtn[_0x49f978(0x464)]=_0x49f978(0x133);try{const _0x118d2b=doc(db,_0x49f978(0x430)+appId+_0x49f978(0x394),_0x387a85),_0x2270f0=await getDoc(_0x118d2b);if(!_0x2270f0[_0x49f978(0x11b)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x2270f0['id'],..._0x2270f0[_0x49f978(0x29f)]()};const _0x38ad74=currentQuizData[_0x49f978(0x446)]||_0x49f978(0x480),_0x2d8789=new Date();if(_0x38ad74===_0x49f978(0x42a)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x38ad74===_0x49f978(0x572)){const _0x5f46f0=currentQuizData[_0x49f978(0x102)]?new Date(currentQuizData[_0x49f978(0x102)]):null,_0x56f2f3=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0x5f46f0&&_0x2d8789<_0x5f46f0){showMessage(_0x49f978(0x1fc)+_0x5f46f0[_0x49f978(0x428)](_0x49f978(0x65a),{'hour12':![]}));return;}if(_0x56f2f3&&_0x2d8789>_0x56f2f3){showMessage(_0x49f978(0x3bf));return;}}const _0x184f9=currentQuizData[_0x49f978(0x2cd)];currentProjectId=_0x184f9;const _0x88351c=doc(db,_0x49f978(0x430)+appId+_0x49f978(0x5af),_0x184f9),_0x2496cf=await getDoc(_0x88351c);if(!_0x2496cf[_0x49f978(0x11b)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x4ff6a4=_0x2496cf[_0x49f978(0x29f)]();currentStudentProjectData=_0x4ff6a4,displayStudentNameSelector(_0x4ff6a4['students'],currentQuizData['topic']);}catch(_0x38127e){console[_0x49f978(0x4a9)](_0x49f978(0x65f),_0x38127e),showMessage(_0x49f978(0x36a));}finally{loadQuizBtn[_0x49f978(0x1ea)]=![],loadQuizBtn[_0x49f978(0x464)]=_0x49f978(0x2c4);}}async function handleJoinLiveGame(){const _0x4da61=_0x544b94,_0x4d42f4=document[_0x4da61(0x365)](_0x4da61(0xb5)),_0x5071ca=document[_0x4da61(0x365)](_0x4da61(0x67c)),_0xbcf169=document[_0x4da61(0x365)](_0x4da61(0x324)),_0x1c8e22=_0x4d42f4[_0x4da61(0x601)][_0x4da61(0x25a)](),_0x3465bd=_0x5071ca[_0x4da61(0x601)]['trim']();if(!_0x1c8e22||!_0x3465bd){showMessage(_0x4da61(0x21a));return;}_0xbcf169[_0x4da61(0x1ea)]=!![],_0xbcf169[_0x4da61(0x464)]=_0x4da61(0x30c);try{const _0x4b72e9=collection(db,_0x4da61(0x430)+appId+_0x4da61(0x5da)),_0x347871=query(_0x4b72e9,where(_0x4da61(0x593),'==',_0x1c8e22),where(_0x4da61(0x446),'==',_0x4da61(0x65c))),_0x2bbc34=await getDocs(_0x347871);if(_0x2bbc34[_0x4da61(0x13a)]){showMessage(_0x4da61(0x3d6));return;}const _0x33e31a=_0x2bbc34[_0x4da61(0xad)][0x0],_0x3eff85=_0x33e31a[_0x4da61(0x29f)]();currentLiveGameId=_0x33e31a['id'];const _0xf5f0a8=_0x3eff85['quizId'],_0x6ee78=doc(db,'artifacts/'+appId+_0x4da61(0x394),_0xf5f0a8),_0x3e47e2=await getDoc(_0x6ee78);if(!_0x3e47e2['exists']()){showMessage(_0x4da61(0x5e8));return;}currentQuizData={'id':_0x3e47e2['id'],..._0x3e47e2[_0x4da61(0x29f)]()};if(_0x3eff85['players']&&_0x3eff85[_0x4da61(0x274)][_0x3465bd]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x3e80ec={};_0x3e80ec['players.'+_0x3465bd]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x4da61(0x430)+appId+_0x4da61(0x5da),currentLiveGameId),_0x3e80ec),currentStudentName=_0x3465bd,listenForLiveGameUpdates();}catch(_0x4c4a95){console[_0x4da61(0x4a9)](_0x4da61(0x3de),_0x4c4a95),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0xbcf169[_0x4da61(0x1ea)]=![],_0xbcf169[_0x4da61(0x464)]=_0x4da61(0x122);}}function displayStudentNameSelector(_0x1d58f1,_0x2ba37){const _0x578b55=_0x544b94,_0x66102b=document[_0x578b55(0x365)](_0x578b55(0x58f));document[_0x578b55(0x365)](_0x578b55(0x111))['textContent']=_0x578b55(0x58b)+_0x2ba37,!_0x1d58f1||_0x1d58f1['length']===0x0?(_0x66102b[_0x578b55(0x464)]=_0x578b55(0x438),startQuizBtn[_0x578b55(0x1ea)]=!![]):(_0x66102b[_0x578b55(0x464)]=_0x578b55(0x2e2),_0x1d58f1[_0x578b55(0x34d)](_0x2132e0=>{const _0x1ff8ae=_0x578b55,_0x502c4c=document[_0x1ff8ae(0x3da)]('option');_0x502c4c[_0x1ff8ae(0x601)]=_0x2132e0,_0x502c4c['textContent']=_0x2132e0,_0x66102b['appendChild'](_0x502c4c);}),startQuizBtn['disabled']=![]),studentInitialView[_0x578b55(0x1da)][_0x578b55(0x114)](_0x578b55(0x5ba)),studentNameSelectionView[_0x578b55(0x1da)][_0x578b55(0x221)](_0x578b55(0x5ba));}function shuffleArray(_0xb2e06a){const _0x657143=_0x544b94;for(let _0x118cab=_0xb2e06a['length']-0x1;_0x118cab>0x0;_0x118cab--){const _0x3e2321=Math['floor'](Math[_0x657143(0x54c)]()*(_0x118cab+0x1));[_0xb2e06a[_0x118cab],_0xb2e06a[_0x3e2321]]=[_0xb2e06a[_0x3e2321],_0xb2e06a[_0x118cab]];}}function getShuffledQuiz(_0x4cf7f5){const _0x22587a=_0x544b94;let _0x16b4a6=JSON[_0x22587a(0x5ef)](JSON[_0x22587a(0x50e)](_0x4cf7f5));const _0x5594d1=_0x16b4a6[_0x22587a(0x55a)]?.[_0x22587a(0x581)]||_0x22587a(0x48c);if(_0x5594d1==='none')return _0x16b4a6;return(_0x5594d1===_0x22587a(0x106)||_0x5594d1==='both')&&shuffleArray(_0x16b4a6[_0x22587a(0x4b9)]),(_0x5594d1===_0x22587a(0x629)||_0x5594d1===_0x22587a(0x36c))&&_0x16b4a6[_0x22587a(0x4b9)][_0x22587a(0x34d)](_0x1b0adf=>{const _0x106f23=_0x22587a,_0x146cc4=_0x1b0adf['questionType']||_0x16b4a6[_0x106f23(0x36d)];if(_0x1b0adf['options']){let _0x396d5b=_0x1b0adf['options']['map']((_0x37d5f9,_0x1937c1)=>({'text':_0x37d5f9,'isCorrect':_0x1937c1===_0x1b0adf[_0x106f23(0x356)]}));shuffleArray(_0x396d5b),_0x1b0adf[_0x106f23(0x398)]=_0x396d5b[_0x106f23(0x24a)](_0x13100d=>_0x13100d[_0x106f23(0x2a5)]),_0x1b0adf[_0x106f23(0x356)]=_0x396d5b[_0x106f23(0x613)](_0x116739=>_0x116739[_0x106f23(0x5b4)]);}_0x146cc4===_0x106f23(0x433)&&_0x1b0adf[_0x106f23(0x1b8)]&&shuffleArray(_0x1b0adf[_0x106f23(0x1b8)]);}),_0x16b4a6;}function displayQuizForStudent(_0x219171){const _0x2293e0=_0x544b94;studentQuizArea[_0x2293e0(0x1da)]['remove'](_0x2293e0(0x5ba)),currentDisplayedQuiz=getShuffledQuiz(_0x219171);const _0x7cfcd0=currentDisplayedQuiz[_0x2293e0(0x55a)]?.[_0x2293e0(0x1c2)]||_0x2293e0(0x48c);if(_0x7cfcd0==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x2293e0(0x13f)]);else _0x7cfcd0===_0x2293e0(0x645)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x37ca0f=_0x544b94;let _0x5118b2=_0x37ca0f(0xe8)+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x37ca0f(0x5f6)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x37ca0f(0x57a);currentDisplayedQuiz[_0x37ca0f(0x4b9)][_0x37ca0f(0x34d)]((_0x43e7bb,_0x117d46)=>{const _0x40a4c2=_0x37ca0f,_0x1254e6=_0x43e7bb[_0x40a4c2(0x432)]||currentDisplayedQuiz['quizType'];_0x5118b2+=_0x40a4c2(0x4ad);_0x1254e6===_0x40a4c2(0x433)?_0x5118b2+=_0x40a4c2(0x17a)+(_0x117d46+0x1)+'.\x20'+_0x43e7bb[_0x40a4c2(0x4f1)]+_0x40a4c2(0x2e0)+_0x117d46+_0x40a4c2(0x56d)+_0x43e7bb['allResponses'][_0x40a4c2(0x24a)](_0x49db53=>_0x40a4c2(0x450)+_0x49db53+'\x22>'+_0x49db53+_0x40a4c2(0xf6))[_0x40a4c2(0x4a5)]('')+_0x40a4c2(0x177):(_0x5118b2+=_0x40a4c2(0x65d)+(_0x117d46+0x1)+'.\x20'+(_0x43e7bb['instructions']||_0x43e7bb[_0x40a4c2(0x21d)])+'</p>',_0x43e7bb[_0x40a4c2(0x33b)]&&(_0x5118b2+=_0x40a4c2(0x414)+_0x43e7bb[_0x40a4c2(0x33b)]+_0x40a4c2(0x137)));_0x5118b2+=_0x40a4c2(0x321);switch(_0x1254e6){case _0x40a4c2(0x46f):_0x5118b2+=_0x40a4c2(0x57d)+_0x117d46+_0x40a4c2(0x1fe);break;case'true_false':_0x5118b2+=_0x40a4c2(0x3fe)+_0x117d46+_0x40a4c2(0x2d8)+_0x117d46+_0x40a4c2(0x258)+_0x117d46+_0x40a4c2(0x5c2),_0x5118b2+=_0x40a4c2(0x3fe)+_0x117d46+_0x40a4c2(0x34a)+_0x117d46+_0x40a4c2(0x437)+_0x117d46+_0x40a4c2(0x52b);break;case _0x40a4c2(0x433):break;case'fill_in_the_blank':case _0x40a4c2(0x3ac):default:_0x5118b2+=_0x43e7bb[_0x40a4c2(0x398)][_0x40a4c2(0x24a)]((_0x36aa3d,_0x3997f5)=>_0x40a4c2(0x3cd)+_0x117d46+'_opt'+_0x3997f5+_0x40a4c2(0x15a)+_0x117d46+_0x40a4c2(0x58d)+_0x3997f5+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x117d46+_0x40a4c2(0x3cb)+_0x3997f5+'\x22>'+_0x36aa3d+_0x40a4c2(0x16d))[_0x40a4c2(0x4a5)]('');break;}_0x5118b2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5118b2+=_0x37ca0f(0x466),_0x5118b2+='</form>',studentQuizArea[_0x37ca0f(0x464)]=_0x5118b2;if(currentMode==='admin-testing'){const _0x57a7c2=document[_0x37ca0f(0x365)](_0x37ca0f(0x22b));if(_0x57a7c2)_0x57a7c2[_0x37ca0f(0x303)](_0x37ca0f(0x136),cancelAdminTest);}document['getElementById'](_0x37ca0f(0x202))['addEventListener']('submit',handleSubmitQuiz);if(window[_0x37ca0f(0x1c9)])window[_0x37ca0f(0x1c9)][_0x37ca0f(0x606)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4cb7ea){const _0x301668=_0x544b94;if(_0x4cb7ea)_0x4cb7ea[_0x301668(0x134)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x417ae4=document[_0x301668(0x365)](_0x301668(0x202));if(!_0x417ae4)return;const _0xf0aea4=_0x417ae4[_0x301668(0x323)](_0x301668(0x453)),_0x4db998=currentDisplayedQuiz[_0x301668(0x4b9)][_0x301668(0x476)](_0x3cf059=>_0x3cf059[_0x301668(0x432)]===_0x301668(0x46f));_0xf0aea4&&(_0xf0aea4[_0x301668(0x1ea)]=!![],_0x4db998?_0xf0aea4[_0x301668(0x464)]=_0x301668(0x5e6):_0xf0aea4[_0x301668(0x464)]=_0x301668(0x3ea));const _0xb9b013=new FormData(_0x417ae4),_0x5458b3=currentDisplayedQuiz[_0x301668(0x4b9)]['map']((_0xd47347,_0x4bf2db)=>{const _0x2a9cd3=_0x301668,_0x37ec93=_0xd47347[_0x2a9cd3(0x432)]||currentDisplayedQuiz[_0x2a9cd3(0x36d)],_0x2a50a7=_0xb9b013[_0x2a9cd3(0x23d)]('question'+_0x4bf2db);if(_0x2a50a7!==null&&_0x2a50a7!==undefined){if(_0x37ec93===_0x2a9cd3(0x3ac)||_0x37ec93==='fill_in_the_blank')return parseInt(_0x2a50a7);return _0x2a50a7;}return null;}),_0x1aea01=currentQuizData['id'],_0x8cb69d=doc(db,_0x301668(0x430)+appId+'/public/data/quizzes/'+_0x1aea01+_0x301668(0x38f),currentStudentName),_0x377370=await getDoc(_0x8cb69d),_0x40f8b9=_0x377370['exists']()?_0x377370['data']():{},_0x2234a7=_0x40f8b9[_0x301668(0x390)]||[];await processAndSubmitAnswers(_0x5458b3,_0x2234a7);}async function gradeShortAnswerWithAI(_0x29143e,_0x24ba17){const _0x429803=_0x544b94;if(!_0x29143e||!_0x24ba17)return![];try{const _0x1f5d8a=_0x429803(0x35f)+_0x29143e+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x24ba17+_0x429803(0x551),_0x3f0c04={'contents':[{'role':_0x429803(0x478),'parts':[{'text':_0x1f5d8a}]}]},_0x228bdf=_0x429803(0x62c),_0x45bace='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x228bdf,_0x310571=await fetch(_0x45bace,{'method':_0x429803(0x556),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x3f0c04)});if(!_0x310571['ok'])throw new Error(_0x429803(0x23a));const _0x8d8f83=await _0x310571[_0x429803(0x355)](),_0x4bf498=_0x8d8f83[_0x429803(0x2e4)][0x0][_0x429803(0x15f)]['parts'][0x0][_0x429803(0x2a5)][_0x429803(0x25a)]()['toLowerCase']();return _0x4bf498==='true';}catch(_0x13ab33){return console['error']('AI\x20grading\x20failed:',_0x13ab33),![];}}async function processAndSubmitAnswers(_0x9f9e51,_0x88115c){const _0x5abd1f=_0x544b94;let _0x551c9b=0x0,_0x2da746=0x0,_0x30578c=[];const _0x554ab7=[],_0x2b51a5=currentDisplayedQuiz[_0x5abd1f(0x4b9)][_0x5abd1f(0x317)];let _0x5a3578=0x0;const _0x3a0c5b=currentDisplayedQuiz[_0x5abd1f(0x4b9)];for(let _0x544b96=0x0;_0x544b96<_0x3a0c5b[_0x5abd1f(0x317)];_0x544b96++){const _0x5d3cf4=_0x3a0c5b[_0x544b96],_0x1f7b92=_0x9f9e51[_0x544b96],_0x160d74=_0x5d3cf4[_0x5abd1f(0x432)]||currentDisplayedQuiz[_0x5abd1f(0x36d)];let _0x2c12e6=![];if(_0x1f7b92!==null&&_0x1f7b92!=='')switch(_0x160d74){case _0x5abd1f(0x433):_0x2c12e6=_0x1f7b92===_0x5d3cf4[_0x5abd1f(0x182)];break;case _0x5abd1f(0x680):const _0xfee22e=_0x1f7b92===!![]||_0x1f7b92===_0x5abd1f(0x11c);_0x2c12e6=_0xfee22e===_0x5d3cf4[_0x5abd1f(0x1bc)];break;case _0x5abd1f(0x18a):case _0x5abd1f(0x3ac):default:_0x2c12e6=Number(_0x1f7b92)===_0x5d3cf4['correctAnswerIndex'];break;case'short_answer':_0x2c12e6=await gradeShortAnswer(_0x1f7b92,_0x5d3cf4);break;}_0x2c12e6?(_0x551c9b++,_0x5a3578++,_0x5a3578===0x3&&(_0x30578c[_0x5abd1f(0x517)](BADGES[_0x5abd1f(0x67f)]['id']),_0x5a3578=0x0)):_0x5a3578=0x0,_0x554ab7[_0x5abd1f(0x517)]({'answer':_0x1f7b92,'isCorrect':_0x2c12e6,'originalQuestionText':_0x5d3cf4['stem']||_0x5d3cf4['questionText']});}_0x2da746=_0x551c9b*0xa;_0x551c9b===_0x2b51a5&&_0x2b51a5>0x0&&!currentDisplayedQuiz[_0x5abd1f(0x2e5)]&&(_0x2da746+=0x32,_0x30578c[_0x5abd1f(0x517)](BADGES['PERFECT_SCORE']['id']));const _0x57ab68=currentDisplayedQuiz[_0x5abd1f(0x55a)]?.[_0x5abd1f(0x429)]??Math[_0x5abd1f(0x1d0)](_0x2b51a5/0x2),_0x15d493=currentDisplayedQuiz[_0x5abd1f(0x55a)]?.[_0x5abd1f(0x1c2)];if(_0x15d493==='whole_quiz'&&quizStartTime){const _0x4537a6=(new Date()-quizStartTime)/0x3e8,_0x4e45ba=currentDisplayedQuiz[_0x5abd1f(0x55a)][_0x5abd1f(0x13f)]*0x3c;_0x551c9b>=_0x57ab68&&_0x4537a6<_0x4e45ba/0x2&&(_0x2da746+=0x14,_0x30578c[_0x5abd1f(0x517)](BADGES[_0x5abd1f(0x51c)]['id']));}_0x88115c['length']===0x0&&_0x551c9b===_0x2b51a5&&_0x2b51a5>0x0&&_0x30578c[_0x5abd1f(0x517)](BADGES['FIRST_TRY_ACE']['id']);if(_0x88115c['length']>0x0){const _0x93096d=_0x88115c[0x0][_0x5abd1f(0x3e6)];if(_0x93096d<_0x57ab68&&_0x551c9b>=_0x57ab68){const _0x1ab9e1=_0x88115c[_0x5abd1f(0x476)](_0x29c077=>(_0x29c077[_0x5abd1f(0x5b8)]||[])['includes'](BADGES['COMEBACK_KING']['id']));!_0x1ab9e1&&_0x30578c[_0x5abd1f(0x517)](BADGES[_0x5abd1f(0x2c5)]['id']);}}_0x88115c[_0x5abd1f(0x317)]===0x4&&_0x30578c[_0x5abd1f(0x517)](BADGES['PERSEVERANCE']['id']);const _0x42e456=currentDisplayedQuiz[_0x5abd1f(0x55a)][_0x5abd1f(0x5b7)];if(currentMode==='admin-testing'){handleResultDisplay(_0x42e456,_0x551c9b,_0x2da746,_0x30578c,_0x554ab7,_0x2b51a5);return;}const _0x4adb2d=currentQuizData['id'],_0xc9ee7a=doc(db,_0x5abd1f(0x430)+appId+_0x5abd1f(0x421)+_0x4adb2d+_0x5abd1f(0x38f),currentStudentName);try{const _0x4aab42=[..._0x88115c],_0x3c24a6={'score':_0x551c9b,'points':_0x2da746,'badges':_0x30578c,'submittedAt':new Date()['toISOString'](),'answers':_0x554ab7};_0x4aab42[_0x5abd1f(0x517)](_0x3c24a6);const _0x2d076c=_0x4aab42[0x0][_0x5abd1f(0x3e6)],_0x444b90=Math[_0x5abd1f(0x286)](..._0x4aab42[_0x5abd1f(0x24a)](_0x3f3e8e=>_0x3f3e8e['score'])),_0x1903bc=_0x551c9b,_0x242658=_0x3c24a6[_0x5abd1f(0x54d)];await setDoc(_0xc9ee7a,{'studentName':currentStudentName,'totalQuestions':_0x2b51a5,'attempts':_0x4aab42,'firstScore':_0x2d076c,'bestScore':_0x444b90,'latestScore':_0x1903bc,'points':_0x2da746,'latestSubmittedAt':_0x242658}),await updateStudentProfile(currentQuizData[_0x5abd1f(0x2cd)],currentStudentName),handleResultDisplay(_0x42e456,_0x551c9b,_0x2da746,_0x30578c,_0x554ab7,_0x2b51a5);}catch(_0x5be3fc){console[_0x5abd1f(0x4a9)](_0x5abd1f(0x4a2),_0x5be3fc),showMessage(_0x5abd1f(0x50a));}}async function updateStudentProfile(_0x50535b,_0x47b8cf){const _0x2edb2c=_0x544b94,_0x4680b8=doc(db,_0x2edb2c(0x430)+appId+_0x2edb2c(0xc2)+_0x50535b+_0x2edb2c(0x3a1),_0x47b8cf);try{const _0x44c1fe=query(collection(db,_0x2edb2c(0x430)+appId+_0x2edb2c(0x394)),where(_0x2edb2c(0x2cd),'==',_0x50535b)),_0x15a7ad=await getDocs(_0x44c1fe),_0x408815=new Map(_0x15a7ad['docs']['map'](_0x4965ff=>[_0x4965ff['id'],_0x4965ff[_0x2edb2c(0x29f)]()])),_0x81ccd6=Array[_0x2edb2c(0x18f)](_0x408815[_0x2edb2c(0x2b2)]());await runTransaction(db,async _0x5bcfae=>{const _0x49ba65=_0x2edb2c;let _0x134ba4=0x0;const _0x41e36a={};let _0x5b1410=!![],_0x312996=0x0,_0x3f3c85=0x0;for(const _0x4d3d4e of _0x81ccd6){const _0xbf7c72=_0x408815['get'](_0x4d3d4e),_0x434f59=doc(db,_0x49ba65(0x430)+appId+_0x49ba65(0x421)+_0x4d3d4e+_0x49ba65(0x38f),_0x47b8cf),_0x4dfc3b=await _0x5bcfae[_0x49ba65(0x23d)](_0x434f59);if(_0x4dfc3b[_0x49ba65(0x11b)]()){const _0x559490=_0x4dfc3b['data'](),_0x3e860a=_0x559490[_0x49ba65(0x390)]||[];if(_0x3e860a[_0x49ba65(0x317)]>0x0){const _0x5e6ded=_0x3e860a['reduce']((_0x4d7032,_0x9c8627)=>{const _0x30b448=_0x49ba65;if(_0x9c8627[_0x30b448(0x3e6)]>_0x4d7032[_0x30b448(0x3e6)])return _0x9c8627;if(_0x9c8627[_0x30b448(0x3e6)]===_0x4d7032[_0x30b448(0x3e6)])return(_0x9c8627[_0x30b448(0x5ea)]||0x0)>(_0x4d7032[_0x30b448(0x5ea)]||0x0)?_0x9c8627:_0x4d7032;return _0x4d7032;},{'score':-0x1,'points':-0x1});_0x5e6ded['score']>-0x1&&(_0x134ba4+=_0x5e6ded[_0x49ba65(0x5ea)]||0x0,(_0x5e6ded[_0x49ba65(0x5b8)]||[])[_0x49ba65(0x34d)](_0x432e82=>{_0x41e36a[_0x432e82]=(_0x41e36a[_0x432e82]||0x0)+0x1;}));}}if(_0xbf7c72[_0x49ba65(0x547)]!=='แบบทดสอบซ่อมเสริม'){_0x3f3c85++;if(_0x4dfc3b['exists']()){_0x312996++;const _0x34e1f=_0x4dfc3b['data']();_0x34e1f[_0x49ba65(0x30e)]!==_0x34e1f['totalQuestions']&&(_0x5b1410=![]);}else _0x5b1410=![];}}_0x3f3c85>0x0&&_0x312996===_0x3f3c85&&_0x5b1410?_0x41e36a[_0x49ba65(0x319)]=0x1:_0x41e36a[_0x49ba65(0x319)]=0x0,_0x5bcfae[_0x49ba65(0x510)](_0x4680b8,{'studentName':_0x47b8cf,'totalPoints':_0x134ba4,'unlockedBadges':Object[_0x49ba65(0x2b2)](_0x41e36a)[_0x49ba65(0x371)](_0x7b5376=>_0x41e36a[_0x7b5376]>0x0),'badgesCount':_0x41e36a},{'merge':!![]});});}catch(_0x42c64a){console[_0x2edb2c(0x4a9)](_0x2edb2c(0x352),_0x42c64a),showMessage(_0x2edb2c(0x3fc));}}function startAdminTest(){const _0x1b534e=_0x544b94;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x57aecf=JSON[_0x1b534e(0x5ef)](JSON[_0x1b534e(0x50e)](currentQuizData));currentMode=_0x1b534e(0x5f6),currentStudentName=_0x1b534e(0x576),adminView['classList'][_0x1b534e(0x114)](_0x1b534e(0x5ba)),studentView[_0x1b534e(0x1da)]['remove'](_0x1b534e(0x5ba)),studentInitialView['classList'][_0x1b534e(0x114)](_0x1b534e(0x5ba)),studentNameSelectionView[_0x1b534e(0x1da)][_0x1b534e(0x114)](_0x1b534e(0x5ba)),studentResultArea[_0x1b534e(0x1da)][_0x1b534e(0x114)]('hidden'),studentQuizArea[_0x1b534e(0x1da)][_0x1b534e(0x221)](_0x1b534e(0x5ba)),quizStartTime=new Date(),displayQuizForStudent(_0x57aecf);}function handleResultDisplay(_0x5416da,_0x15dadb,_0x2d954b,_0x57bb81,_0x4928b6,_0x2fa1e6){const _0x57fd12=_0x544b94,_0x39572a=currentDisplayedQuiz[_0x57fd12(0x55a)]?.[_0x57fd12(0x429)]??Math[_0x57fd12(0x1d0)](_0x2fa1e6/0x2),_0x237004=currentDisplayedQuiz[_0x57fd12(0x55a)]?.[_0x57fd12(0x490)]??![];if(_0x237004&&_0x15dadb<_0x39572a){startAdaptiveFlow(_0x4928b6,_0x15dadb,_0x2fa1e6);return;}switch(_0x5416da){case _0x57fd12(0x5f5):displayResultsWithAnswers(_0x15dadb,_0x2d954b,_0x57bb81,_0x4928b6,_0x2fa1e6);break;case _0x57fd12(0x37e):displayResultsScoreOnly(_0x15dadb,_0x2d954b,_0x57bb81,_0x2fa1e6);break;case _0x57fd12(0x224):displayPassFailOnly(_0x15dadb,_0x2fa1e6);break;case _0x57fd12(0x292):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x30d2a5,_0x5fd6d0,_0x2bda94){const _0x2cc0dc=_0x544b94,_0x23485f=_0x30d2a5[_0x2cc0dc(0x24a)]((_0x44cac8,_0xa7f0f1)=>({..._0x44cac8,'originalQuestion':currentDisplayedQuiz[_0x2cc0dc(0x4b9)][_0xa7f0f1]}))['filter'](_0x44be58=>!_0x44be58[_0x2cc0dc(0x5b4)]&&_0x44be58[_0x2cc0dc(0x37f)][_0x2cc0dc(0x2e3)])['map'](_0x42be93=>'-\x20'+_0x42be93[_0x2cc0dc(0x37f)][_0x2cc0dc(0x2e3)])[_0x2cc0dc(0x4a5)]('\x0a');if(!_0x23485f){displayResultsScoreOnly(_0x5fd6d0,0x0,[],_0x2bda94);return;}studentQuizArea[_0x2cc0dc(0x1da)][_0x2cc0dc(0x114)]('hidden'),studentReadingArea['classList'][_0x2cc0dc(0x221)](_0x2cc0dc(0x5ba)),studentReadingArea[_0x2cc0dc(0x464)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3a0720='\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22'+currentDisplayedQuiz['topic']+_0x2cc0dc(0x5f4)+_0x23485f+_0x2cc0dc(0x4af),_0x536dbf={'type':_0x2cc0dc(0x4c3),'properties':{'remedialContent':{'type':'STRING'}},'required':[_0x2cc0dc(0xd4)]};try{const _0x3a7443=await callAnalysisApi(_0x3a0720,_0x536dbf),_0x127c45=_0x3a7443[_0x2cc0dc(0xd4)];studentReadingArea[_0x2cc0dc(0x464)]=_0x2cc0dc(0x4c9)+_0x127c45['replace'](/\n/g,_0x2cc0dc(0x1ce))+_0x2cc0dc(0x3f3),document[_0x2cc0dc(0x365)](_0x2cc0dc(0x59e))['addEventListener']('click',()=>generateRemedialQuiz(_0x23485f));}catch(_0x5891a6){console[_0x2cc0dc(0x4a9)](_0x2cc0dc(0x53c),_0x5891a6),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x5fd6d0,0x0,[],_0x2bda94);}}async function generateRemedialQuiz(_0x3c0c9d){const _0x503397=_0x544b94;studentReadingArea[_0x503397(0x464)]=_0x503397(0x200);const _0x4cf509=_0x503397(0x37a)+_0x3c0c9d+_0x503397(0x48b)+simpleMathPrompt+_0x503397(0x668),_0x50fa37={'type':'OBJECT','properties':{'questionText':{'type':_0x503397(0x64d)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x503397(0x2f0)},'explanation':{'type':_0x503397(0x64d)}},'required':['questionText',_0x503397(0x398),_0x503397(0x356),_0x503397(0x2e3)]},_0x1cfe89={'type':_0x503397(0x4c3),'properties':{'topic':{'type':_0x503397(0x64d)},'questions':{'type':_0x503397(0x46c),'items':_0x50fa37}},'required':[_0x503397(0x547),_0x503397(0x4b9)]};try{const _0x427747=await callAnalysisApi(_0x4cf509,_0x1cfe89);_0x427747[_0x503397(0x2e5)]=!![],studentReadingArea[_0x503397(0x1da)][_0x503397(0x114)](_0x503397(0x5ba));const _0x399ff7={...currentDisplayedQuiz[_0x503397(0x55a)],'isAdaptive':![],'resultsDisplay':_0x503397(0x5f5)};_0x427747[_0x503397(0x55a)]=_0x399ff7,displayQuizForStudent(_0x427747);}catch(_0x250abc){console['error'](_0x503397(0x4fe),_0x250abc),showMessage(_0x503397(0x40b)),showView(_0x503397(0x628));}}function displayPassFailOnly(_0x545da0,_0x55148a){const _0x32e8ee=_0x544b94,_0xf7eb2b=currentDisplayedQuiz[_0x32e8ee(0x55a)]?.[_0x32e8ee(0x429)]??-0x1,_0x5094ac=currentDisplayedQuiz[_0x32e8ee(0x2e5)]===!![];let _0x163335='';if(_0x5094ac||_0xf7eb2b!==-0x1){let _0x17600e;_0x5094ac?_0x17600e=_0x545da0===_0x55148a:_0x17600e=_0x545da0>=_0xf7eb2b;const _0x418ccb=_0x17600e?_0x32e8ee(0x14f):'bg-red-100\x20text-red-800',_0x4f9bfe=_0x17600e?_0x32e8ee(0x467):_0x32e8ee(0x4b7);_0x163335=_0x32e8ee(0x23e)+_0x418ccb+'\x22>'+_0x4f9bfe+_0x32e8ee(0x11f);}else _0x163335='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x27b3cc=_0x32e8ee(0x661)+currentStudentName+_0x32e8ee(0x113)+_0x163335+_0x32e8ee(0x188);studentResultArea['innerHTML']=_0x27b3cc,studentResultArea[_0x32e8ee(0x1da)][_0x32e8ee(0x221)](_0x32e8ee(0x5ba)),studentQuizArea[_0x32e8ee(0x1da)][_0x32e8ee(0x114)](_0x32e8ee(0x5ba));const _0x5788d1=_0x32e8ee(0x353),_0x5dce35=currentMode==='admin-testing',_0x1b4797=_0x5dce35?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค':_0x32e8ee(0x20f),_0x34751f=_0x32e8ee(0x350)+_0x5788d1+'\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b4797+_0x32e8ee(0x1bf);studentResultArea[_0x32e8ee(0x358)](_0x32e8ee(0xe5),_0x34751f),document[_0x32e8ee(0x365)](_0x5788d1)[_0x32e8ee(0x303)](_0x32e8ee(0x136),()=>{const _0x285a36=_0x32e8ee;_0x5dce35?(currentMode='admin',studentView[_0x285a36(0x1da)][_0x285a36(0x114)](_0x285a36(0x5ba)),adminView[_0x285a36(0x1da)]['remove'](_0x285a36(0x5ba)),showView(_0x285a36(0x442))):(showView('student'),document['getElementById']('quiz-id-input')[_0x285a36(0x601)]='');});}function cancelAdminTest(){const _0x132771=_0x544b94;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x132771(0x3e1),studentView[_0x132771(0x1da)]['add'](_0x132771(0x5ba)),adminView['classList'][_0x132771(0x221)]('hidden'),showView(_0x132771(0x442));}function setupResultScreenBackButton(){const _0x2b0b45=_0x544b94,_0x29bc07=_0x2b0b45(0x353),_0x73718d=currentMode===_0x2b0b45(0x5f6),_0x3565da=_0x73718d?_0x2b0b45(0x55d):_0x2b0b45(0x20f),_0x1f3b76=_0x2b0b45(0x127)+_0x29bc07+_0x2b0b45(0x3d9)+_0x3565da+_0x2b0b45(0x546);studentResultArea[_0x2b0b45(0x358)]('beforeend',_0x1f3b76),studentResultArea['querySelector']('#view-rankings-btn')[_0x2b0b45(0x303)](_0x2b0b45(0x136),handleShowStudentRankings),document['getElementById'](_0x29bc07)[_0x2b0b45(0x303)](_0x2b0b45(0x136),()=>{const _0x4dceb0=_0x2b0b45;_0x73718d?(currentMode=_0x4dceb0(0x3e1),studentView[_0x4dceb0(0x1da)]['add'](_0x4dceb0(0x5ba)),adminView[_0x4dceb0(0x1da)]['remove'](_0x4dceb0(0x5ba)),showView(_0x4dceb0(0x442))):(showView('student'),document['getElementById'](_0x4dceb0(0x277))[_0x4dceb0(0x601)]='');});}function displayResultsWithAnswers(_0x2bdc83,_0x22f239,_0x5c6b09,_0x268f3e,_0x505f24){const _0x1555a5=_0x544b94,_0x4560c7=_0x505f24>0x0?_0x2bdc83/_0x505f24*0x64:0x0,_0x33868b=currentDisplayedQuiz['settings']?.[_0x1555a5(0x429)]??-0x1,_0x58d64b=currentDisplayedQuiz[_0x1555a5(0x2e5)]===!![];let _0x29911a='';if(_0x58d64b||_0x33868b!==-0x1){let _0x4fb209=_0x58d64b?_0x2bdc83===_0x505f24:_0x2bdc83>=_0x33868b;const _0x180e2d=_0x4fb209?_0x1555a5(0x14f):'bg-red-100\x20text-red-800',_0x441d08=_0x4fb209?_0x1555a5(0x467):_0x1555a5(0x4b7);_0x29911a=_0x1555a5(0x38a)+_0x180e2d+'\x22>'+_0x441d08+'</p>';}let _0x407ff9=_0x1555a5(0x62a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x2bdc83+_0x1555a5(0x1dd)+_0x505f24+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29911a+_0x1555a5(0x579)+_0x22f239+_0x1555a5(0x4be)+_0x4560c7[_0x1555a5(0x42d)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x1555a5(0x4b9)][_0x1555a5(0x34d)]((_0x6c7886,_0x373da4)=>{const _0x5ca3e9=_0x1555a5,_0x18f7d4=_0x268f3e[_0x373da4],_0x573d1c=_0x18f7d4[_0x5ca3e9(0x115)],_0x4f03c4=_0x18f7d4['isCorrect'],_0x1bdc62=_0x6c7886[_0x5ca3e9(0x432)]||currentDisplayedQuiz[_0x5ca3e9(0x36d)];_0x407ff9+=_0x5ca3e9(0x5c7)+(_0x4f03c4?_0x5ca3e9(0x5bb):_0x5ca3e9(0x312))+_0x5ca3e9(0x189)+(_0x373da4+0x1)+'.\x20'+(_0x6c7886[_0x5ca3e9(0x4f1)]||_0x6c7886['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x1bdc62){case'matching_item':const _0x9385a6=_0x573d1c||_0x5ca3e9(0x333),_0x36def4=_0x6c7886[_0x5ca3e9(0x182)];_0x407ff9+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x4f03c4?_0x5ca3e9(0x612):'')+'\x22>'+_0x9385a6+'</span></p>';!_0x4f03c4&&(_0x407ff9+=_0x5ca3e9(0x158)+_0x36def4+_0x5ca3e9(0x3a8));break;case _0x5ca3e9(0x46f):_0x407ff9+=_0x5ca3e9(0x61c)+(_0x573d1c||_0x5ca3e9(0x333))+_0x5ca3e9(0x3a8),_0x407ff9+=_0x5ca3e9(0x260)+_0x6c7886['idealAnswer']+_0x5ca3e9(0x3a8);break;case _0x5ca3e9(0x680):_0x407ff9+=_0x5ca3e9(0x2db)+(_0x6c7886['correctAnswer']===!![]?_0x5ca3e9(0x211):'')+'\x20'+(_0x573d1c===_0x5ca3e9(0x11c)&&!_0x4f03c4?'line-through\x20text-red-700':'')+_0x5ca3e9(0x185),_0x407ff9+=_0x5ca3e9(0x2db)+(_0x6c7886[_0x5ca3e9(0x1bc)]===![]?_0x5ca3e9(0x211):'')+'\x20'+(_0x573d1c===_0x5ca3e9(0xcf)&&!_0x4f03c4?_0x5ca3e9(0x612):'')+_0x5ca3e9(0x369);break;case _0x5ca3e9(0x18a):case'multiple_choice':default:_0x407ff9+=_0x6c7886[_0x5ca3e9(0x398)][_0x5ca3e9(0x24a)]((_0x195de4,_0x282418)=>{const _0x22ef56=_0x5ca3e9;let _0x23c223='',_0x5972de='';if(_0x282418===_0x6c7886[_0x22ef56(0x356)])_0x23c223='font-bold\x20text-green-700',_0x5972de='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x282418===_0x573d1c&&(_0x23c223=_0x22ef56(0x329),_0x5972de=_0x22ef56(0x2a8));return'<div\x20class=\x22'+_0x23c223+'\x22>'+_0x5972de+_0x195de4+_0x22ef56(0x137);})[_0x5ca3e9(0x4a5)]('');break;}_0x407ff9+=_0x5ca3e9(0x12a)+(_0x6c7886['explanation']||_0x5ca3e9(0x364))+_0x5ca3e9(0x2df);}),studentResultArea[_0x1555a5(0x464)]=_0x407ff9,renderEarnedBadges(_0x5c6b09,_0x1555a5(0x5b3)),studentResultArea['classList'][_0x1555a5(0x221)](_0x1555a5(0x5ba)),studentQuizArea[_0x1555a5(0x1da)][_0x1555a5(0x114)]('hidden'),setupResultScreenBackButton();if(window[_0x1555a5(0x1c9)])window[_0x1555a5(0x1c9)][_0x1555a5(0x606)]([studentResultArea]);}function displayResultsScoreOnly(_0x3871aa,_0x5a3f72,_0x1bf3fa,_0x5776ae){const _0x34f511=_0x544b94,_0x106d51=_0x5776ae>0x0?_0x3871aa/_0x5776ae*0x64:0x0,_0xe15d4d=currentDisplayedQuiz[_0x34f511(0x55a)]?.[_0x34f511(0x429)]??-0x1,_0xfa3e3f=currentDisplayedQuiz[_0x34f511(0x2e5)]===!![];let _0x2c198c='';if(_0xfa3e3f||_0xe15d4d!==-0x1){let _0x4f5365;_0xfa3e3f?_0x4f5365=_0x3871aa===_0x5776ae:_0x4f5365=_0x3871aa>=_0xe15d4d;const _0x1249f3=_0x4f5365?'bg-green-100\x20text-green-800':_0x34f511(0x1de),_0x251aa3=_0x4f5365?_0x34f511(0x467):_0x34f511(0x4b7);_0x2c198c=_0x34f511(0x38a)+_0x1249f3+'\x22>'+_0x251aa3+_0x34f511(0x3a8);}let _0x4297d3=_0x34f511(0x30b)+currentStudentName+_0x34f511(0x561)+_0x3871aa+_0x34f511(0x2f4)+_0x5776ae+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c198c+_0x34f511(0x579)+_0x5a3f72+_0x34f511(0x522)+_0x106d51['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x34f511(0x464)]=_0x4297d3,renderEarnedBadges(_0x1bf3fa,_0x34f511(0x5b3)),studentResultArea[_0x34f511(0x1da)][_0x34f511(0x221)](_0x34f511(0x5ba)),studentQuizArea[_0x34f511(0x1da)][_0x34f511(0x114)](_0x34f511(0x5ba)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x4a468a=_0x544b94;let _0x16fea2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x4a468a(0x345);studentResultArea[_0x4a468a(0x464)]=_0x16fea2,studentResultArea[_0x4a468a(0x1da)]['remove'](_0x4a468a(0x5ba)),studentQuizArea['classList']['add']('hidden'),document[_0x4a468a(0x365)](_0x4a468a(0x42f))[_0x4a468a(0x303)](_0x4a468a(0x136),()=>{const _0x379c5c=_0x4a468a;showView(_0x379c5c(0x628)),document[_0x379c5c(0x365)](_0x379c5c(0x277))[_0x379c5c(0x601)]='';});}function renderEarnedBadges(_0x5375b1,_0x8084e){const _0x203852=_0x544b94,_0x464890=document[_0x203852(0x365)](_0x8084e);if(!_0x464890||!_0x5375b1||_0x5375b1[_0x203852(0x317)]===0x0)return;let _0x185251='';_0x5375b1[_0x203852(0x34d)]((_0x30b4b6,_0x2ab8ec)=>{const _0x402676=_0x203852,_0x38763b=Object['values'](BADGES)[_0x402676(0x575)](_0x48dcd8=>_0x48dcd8['id']===_0x30b4b6);_0x38763b&&(_0x185251+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x2ab8ec*0.2+'s;\x22\x20title=\x22'+_0x38763b[_0x402676(0x590)]+_0x402676(0x33e)+_0x38763b[_0x402676(0x419)]+_0x402676(0x14e)+_0x38763b[_0x402676(0x26f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x464890[_0x203852(0x464)]=_0x185251;}function startPresentation(_0x2fad2c){const _0x5cc790=_0x544b94;currentQuizData=getShuffledQuiz(_0x2fad2c),currentPresentationSlide=0x0,presentationModal[_0x5cc790(0x2a9)][_0x5cc790(0x2dd)]=_0x5cc790(0x423),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x29ec56=_0x544b94;document[_0x29ec56(0x520)]&&document['exitFullscreen'](),presentationModal[_0x29ec56(0x2a9)][_0x29ec56(0x2dd)]=_0x29ec56(0x48c);}function renderPresentationSlide(_0x36a115){const _0x5dc2e2=_0x544b94,_0x273faa=document[_0x5dc2e2(0x365)](_0x5dc2e2(0x508));if(!currentQuizData||!currentQuizData[_0x5dc2e2(0x4b9)]||!currentQuizData['questions'][_0x36a115]){_0x273faa[_0x5dc2e2(0x464)]=_0x5dc2e2(0x1e6);return;}const _0x4237d0=currentQuizData[_0x5dc2e2(0x4b9)][_0x36a115],_0x4ddc29=_0x4237d0['questionType']||currentQuizData['quizType'];_0x273faa[_0x5dc2e2(0x464)]='';let _0x54b436=_0x5dc2e2(0x226)+(_0x4237d0[_0x5dc2e2(0x33b)]?_0x5dc2e2(0x414)+_0x4237d0['imageCode']+_0x5dc2e2(0x137):'')+_0x5dc2e2(0x461)+(_0x36a115+0x1)+'.\x20'+(_0x4237d0[_0x5dc2e2(0x4f1)]||_0x4237d0['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x4ddc29){case _0x5dc2e2(0x433):_0x54b436+=_0x4237d0[_0x5dc2e2(0x1b8)]['map'](_0x24f8fb=>_0x5dc2e2(0x492)+_0x24f8fb+_0x5dc2e2(0x34e))[_0x5dc2e2(0x4a5)]('');break;case _0x5dc2e2(0x680):_0x54b436+=_0x5dc2e2(0x152),_0x54b436+=_0x5dc2e2(0x1db);break;case _0x5dc2e2(0x640):case _0x5dc2e2(0x46f):_0x54b436+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5dc2e2(0x18a):case _0x5dc2e2(0x3ac):default:_0x54b436+=_0x4237d0[_0x5dc2e2(0x398)][_0x5dc2e2(0x24a)]((_0x1a8925,_0x236cd8)=>_0x5dc2e2(0x367)+_0x236cd8+_0x5dc2e2(0x463)+_0x1a8925+_0x5dc2e2(0x34e))[_0x5dc2e2(0x4a5)]('');break;}_0x54b436+=_0x5dc2e2(0x5f8)+(_0x4237d0[_0x5dc2e2(0x2e3)]||'ไม่มีคำอธิบาย')+_0x5dc2e2(0x252),_0x273faa[_0x5dc2e2(0x464)]=_0x54b436;if(window['MathJax'])window[_0x5dc2e2(0x1c9)][_0x5dc2e2(0x606)]([_0x273faa]);document[_0x5dc2e2(0x57e)](_0x5dc2e2(0x2bc))['forEach'](_0x5bc736=>{const _0x4d23ff=_0x5dc2e2;_0x5bc736[_0x4d23ff(0x303)]('click',_0x3dfe62=>revealAnswerForPresentation(_0x36a115,_0x3dfe62['currentTarget']));});const _0x3dca49=document['getElementById']('check-presentation-answer-btn');_0x3dca49&&_0x3dca49[_0x5dc2e2(0x303)](_0x5dc2e2(0x136),()=>checkShortAnswerForPresentation(_0x36a115)),document[_0x5dc2e2(0x365)](_0x5dc2e2(0x165))['textContent']='ข้อที่\x20'+(_0x36a115+0x1)+'\x20/\x20'+currentQuizData[_0x5dc2e2(0x4b9)]['length'],document[_0x5dc2e2(0x365)](_0x5dc2e2(0x384))[_0x5dc2e2(0x1ea)]=_0x36a115===0x0,document[_0x5dc2e2(0x365)]('next-question-btn')[_0x5dc2e2(0x1ea)]=_0x36a115===currentQuizData[_0x5dc2e2(0x4b9)]['length']-0x1;}async function checkShortAnswerForPresentation(_0xfa4eb5){const _0x1b43bc=_0x544b94,_0x289b37=currentQuizData['questions'][_0xfa4eb5],_0x4c856d=document['getElementById'](_0x1b43bc(0x15e)),_0x289dde=document[_0x1b43bc(0x365)](_0x1b43bc(0x3e0)),_0x422cf7=document[_0x1b43bc(0x365)]('presentation-ai-result'),_0x5e0ad0=document[_0x1b43bc(0x365)](_0x1b43bc(0x366));if(!_0x4c856d||!_0x289dde||!_0x422cf7||!_0x5e0ad0)return;const _0x1e7ad1=_0x4c856d[_0x1b43bc(0x601)][_0x1b43bc(0x25a)]();if(_0x1e7ad1==='')return;_0x289dde[_0x1b43bc(0x1ea)]=!![],_0x289dde['innerHTML']=_0x1b43bc(0x3f9),_0x4c856d[_0x1b43bc(0x1ea)]=!![];const _0x47f644=await gradeShortAnswer(_0x1e7ad1,_0x289b37);_0x47f644?_0x422cf7[_0x1b43bc(0x464)]=_0x1b43bc(0x37d):_0x422cf7['innerHTML']=_0x1b43bc(0xd6)+_0x289b37[_0x1b43bc(0x43a)]+')',_0x422cf7[_0x1b43bc(0x1da)][_0x1b43bc(0x221)](_0x1b43bc(0x5ba)),_0x5e0ad0[_0x1b43bc(0x1da)][_0x1b43bc(0x221)](_0x1b43bc(0x5ba)),_0x289dde['classList'][_0x1b43bc(0x114)](_0x1b43bc(0x5ba));}function revealAnswerForPresentation(_0x29078c,_0x5be353){const _0x37903b=_0x544b94,_0x21ab68=currentQuizData[_0x37903b(0x4b9)][_0x29078c],_0x3356be=_0x21ab68[_0x37903b(0x432)]||currentQuizData[_0x37903b(0x36d)];document['querySelectorAll']('.presentation-option')['forEach'](_0x337e4f=>{const _0x26264a=_0x37903b;_0x337e4f[_0x26264a(0x1ea)]=!![],_0x337e4f[_0x26264a(0x1da)][_0x26264a(0x221)](_0x26264a(0x431));let _0xf61505=![];if(_0x3356be===_0x26264a(0x3ac)||_0x3356be===_0x26264a(0x18a)){const _0x2f5703=parseInt(_0x337e4f['dataset']['index']);_0xf61505=_0x2f5703===_0x21ab68[_0x26264a(0x356)];}else{if(_0x3356be===_0x26264a(0x680)){const _0x4abe99=_0x337e4f[_0x26264a(0x5ab)][_0x26264a(0x115)]===_0x26264a(0x11c);_0xf61505=_0x4abe99===_0x21ab68[_0x26264a(0x1bc)];}else _0x3356be==='matching_item'&&(_0xf61505=_0x337e4f[_0x26264a(0x5c3)][_0x26264a(0x25a)]()===_0x21ab68[_0x26264a(0x182)]);}_0xf61505?_0x337e4f[_0x26264a(0x1da)]['add']('bg-green-500',_0x26264a(0x656),_0x26264a(0x5ac)):_0x337e4f['classList']['add'](_0x26264a(0x43d));}),_0x5be353[_0x37903b(0x1da)][_0x37903b(0x221)]('opacity-50');let _0x40a6fa=![];if(_0x3356be==='multiple_choice')_0x40a6fa=parseInt(_0x5be353[_0x37903b(0x5ab)][_0x37903b(0x632)])===_0x21ab68[_0x37903b(0x356)];else{if(_0x3356be===_0x37903b(0x680))_0x40a6fa=_0x5be353[_0x37903b(0x5ab)][_0x37903b(0x115)]===_0x37903b(0x11c)===_0x21ab68[_0x37903b(0x1bc)];else _0x3356be===_0x37903b(0x433)&&(_0x40a6fa=_0x5be353[_0x37903b(0x5c3)][_0x37903b(0x25a)]()===_0x21ab68[_0x37903b(0x182)]);}!_0x40a6fa&&_0x5be353[_0x37903b(0x1da)][_0x37903b(0x114)]('bg-red-500',_0x37903b(0x656),_0x37903b(0x287)),document[_0x37903b(0x365)](_0x37903b(0x366))[_0x37903b(0x1da)]['remove'](_0x37903b(0x5ba));}function startWholeQuizTimer(_0x4d208d){const _0x1f254a=_0x544b94,_0x4492f2=document[_0x1f254a(0x365)](_0x1f254a(0x4ff));if(!_0x4492f2)return;const _0x1f7b58=Date[_0x1f254a(0x1a5)]()+_0x4d208d*0x3c*0x3e8;_0x4492f2['innerHTML']=_0x1f254a(0x4bb);const _0x50fff3=document[_0x1f254a(0x365)](_0x1f254a(0x10b));quizTimerInterval=setInterval(()=>{const _0x804a3b=_0x1f254a,_0x198cd1=_0x1f7b58-Date[_0x804a3b(0x1a5)]();if(_0x198cd1<=0x0)clearInterval(quizTimerInterval),_0x50fff3['textContent']=_0x804a3b(0x5d0),showMessage(_0x804a3b(0x61f)),handleSubmitQuiz(null);else{const _0x921701=Math[_0x804a3b(0x1d0)](_0x198cd1/0x3e8/0x3c%0x3c)['toString']()[_0x804a3b(0x32f)](0x2,'0'),_0x11ec9b=Math[_0x804a3b(0x1d0)](_0x198cd1/0x3e8%0x3c)['toString']()[_0x804a3b(0x32f)](0x2,'0');_0x50fff3[_0x804a3b(0x5c3)]=_0x921701+':'+_0x11ec9b;}},0x3e8);}function renderPerQuestionView(){const _0x94fcf4=_0x544b94;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x523fd6=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x5da131=_0x523fd6[_0x94fcf4(0x432)]||currentDisplayedQuiz[_0x94fcf4(0x36d)];let _0x2c3e5a=_0x94fcf4(0x52c)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x94fcf4(0x4b9)][_0x94fcf4(0x317)]+_0x94fcf4(0x357)+(currentMode==='admin-testing'?_0x94fcf4(0x19e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x94fcf4(0x547)]+_0x94fcf4(0x4dc)+(currentQuestionIndex===currentDisplayedQuiz[_0x94fcf4(0x4b9)][_0x94fcf4(0x317)]-0x1?_0x94fcf4(0x505):'คำถามถัดไป')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea[_0x94fcf4(0x464)]=_0x2c3e5a;let _0x42a07f='',_0x1a4ac0='';switch(_0x5da131){case'matching_item':_0x42a07f=currentQuestionIndex+0x1+'.\x20'+_0x523fd6[_0x94fcf4(0x4f1)],_0x1a4ac0=_0x94fcf4(0x418)+_0x523fd6['allResponses'][_0x94fcf4(0x24a)](_0x3893ce=>_0x94fcf4(0x450)+_0x3893ce+'\x22>'+_0x3893ce+_0x94fcf4(0xf6))[_0x94fcf4(0x4a5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x94fcf4(0x680):_0x42a07f=currentQuestionIndex+0x1+'.\x20'+_0x523fd6[_0x94fcf4(0x21d)],_0x1a4ac0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x94fcf4(0x46f):case _0x94fcf4(0x640):_0x42a07f=currentQuestionIndex+0x1+'.\x20'+_0x523fd6[_0x94fcf4(0x21d)],_0x1a4ac0=_0x94fcf4(0x142);break;case'multiple_choice':case _0x94fcf4(0x455):default:_0x42a07f=currentQuestionIndex+0x1+'.\x20'+_0x523fd6[_0x94fcf4(0x21d)],_0x1a4ac0=_0x523fd6[_0x94fcf4(0x398)]['map']((_0x47d6aa,_0x1e0e6b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x1e0e6b+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x1e0e6b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x1e0e6b+'\x22>'+_0x47d6aa+_0x94fcf4(0x351))['join']('');break;}_0x523fd6['imageCode']&&(_0x42a07f+=_0x94fcf4(0x414)+_0x523fd6[_0x94fcf4(0x33b)]+_0x94fcf4(0x137));document['getElementById']('per-question-text')[_0x94fcf4(0x464)]=_0x42a07f,document['getElementById'](_0x94fcf4(0x373))[_0x94fcf4(0x464)]=_0x1a4ac0;if(currentMode==='admin-testing'){const _0x5dd845=document[_0x94fcf4(0x365)]('cancel-test-btn');if(_0x5dd845)_0x5dd845[_0x94fcf4(0x303)](_0x94fcf4(0x136),cancelAdminTest);}document[_0x94fcf4(0x365)](_0x94fcf4(0x4d2))[_0x94fcf4(0x303)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x94fcf4(0x1c9)])window[_0x94fcf4(0x1c9)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5a73dc=_0x544b94,_0x4a3783=currentDisplayedQuiz[_0x5a73dc(0x55a)][_0x5a73dc(0x13f)],_0x20305f=document[_0x5a73dc(0x365)](_0x5a73dc(0x11e));if(!_0x20305f)return;let _0xb24d58=_0x4a3783;_0x20305f[_0x5a73dc(0x464)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0xb24d58+_0x5a73dc(0x46d);const _0x364a78=document[_0x5a73dc(0x365)](_0x5a73dc(0x529)),_0x28fe9b=document[_0x5a73dc(0x365)](_0x5a73dc(0x459));perQuestionTimerInterval=setInterval(()=>{const _0x2a7c8a=_0x5a73dc;_0xb24d58--;const _0x87299b=_0xb24d58/_0x4a3783*0x64;_0x364a78[_0x2a7c8a(0x2a9)][_0x2a7c8a(0x4d8)]=_0x87299b+'%',_0x28fe9b[_0x2a7c8a(0x5c3)]=_0xb24d58,_0xb24d58<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2a7c8a(0x47f)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3b07c1=![]){const _0x1a1702=_0x544b94;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x5e2719=null;if(!_0x3b07c1){const _0x462d57=currentDisplayedQuiz[_0x1a1702(0x4b9)][currentQuestionIndex],_0x3040f0=_0x462d57[_0x1a1702(0x432)]||currentDisplayedQuiz[_0x1a1702(0x36d)];if(_0x3040f0===_0x1a1702(0x46f)||_0x3040f0===_0x1a1702(0x640)){const _0x535135=document[_0x1a1702(0x323)](_0x1a1702(0x5ce));_0x5e2719=_0x535135?_0x535135[_0x1a1702(0x601)]['trim']():'';}else{if(_0x3040f0===_0x1a1702(0x433)){const _0x77fa08=document[_0x1a1702(0x323)](_0x1a1702(0x39c));_0x5e2719=_0x77fa08?_0x77fa08[_0x1a1702(0x601)]:'';}else{const _0x4ecb26=document['querySelector'](_0x1a1702(0x31a));if(_0x4ecb26){const _0x3a3619=_0x4ecb26[_0x1a1702(0x601)];_0x5e2719=!isNaN(parseInt(_0x3a3619,0xa))&&_0x3a3619[_0x1a1702(0x25a)]()!==''?parseInt(_0x3a3619,0xa):_0x3a3619;}}}}studentAnswersPerQuestion[_0x1a1702(0x517)](_0x5e2719),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x1a1702(0x4b9)][_0x1a1702(0x317)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x433a3e=_0x544b94,_0x50eb51=currentDisplayedQuiz[_0x433a3e(0x4b9)][_0x433a3e(0x476)](_0x3ff5fc=>_0x3ff5fc['questionType']===_0x433a3e(0x46f));_0x50eb51?showMessage(_0x433a3e(0x1a8)):showMessage(_0x433a3e(0x3b2));const _0x222b42=currentQuizData['id'],_0x22ddc0=doc(db,_0x433a3e(0x430)+appId+_0x433a3e(0x421)+_0x222b42+_0x433a3e(0x38f),currentStudentName),_0x525443=await getDoc(_0x22ddc0),_0x4a90c2=_0x525443[_0x433a3e(0x11b)]()?_0x525443[_0x433a3e(0x29f)]():{},_0x97a964=_0x4a90c2[_0x433a3e(0x390)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x97a964);}function getResultsFilename(){const _0x28b63f=_0x544b94,_0x100cca=document[_0x28b63f(0x365)]('results-quiz-title')['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x28b63f(0x5b0)]();return _0x28b63f(0x614)+(_0x100cca||'quiz');}function exportResultsAsImage(){const _0x1356bc=_0x544b94,_0x53a5be=document['getElementById'](_0x1356bc(0xc4));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x53a5be)[_0x1356bc(0x638)](_0x233fd1=>{const _0xc57c9=_0x1356bc,_0x211fc8=document[_0xc57c9(0x3da)]('a');_0x211fc8[_0xc57c9(0x241)]=getResultsFilename()+'.png',_0x211fc8[_0xc57c9(0x2ff)]=_0x233fd1[_0xc57c9(0x500)]('image/png'),_0x211fc8['click'](),messageModal[_0xc57c9(0x1da)][_0xc57c9(0x114)](_0xc57c9(0x5ba));});}function exportResultsAsPDF(){const _0x522f07=_0x544b94,{jsPDF:_0x54a88a}=window['jspdf'],_0x4843b2=new _0x54a88a();_0x4843b2[_0x522f07(0x3a7)](_0x522f07(0x15b),_0x522f07(0x285)),_0x4843b2[_0x522f07(0x1fd)]({'html':_0x522f07(0x316)}),_0x4843b2[_0x522f07(0x395)](getResultsFilename()+_0x522f07(0x25c));}function exportResultsAsWord(){const _0x373063=_0x544b94,_0x13546a=_0x373063(0x60c)+_0x373063(0x3c2)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x373063(0x51a),_0xdbf9ce=_0x373063(0x32a),_0x13bfa2=_0x13546a+document[_0x373063(0x365)]('results-table-container')[_0x373063(0x464)]+_0xdbf9ce,_0x2dfe6a=_0x373063(0x46a)+encodeURIComponent(_0x13bfa2),_0x12cee4=document[_0x373063(0x3da)]('a');document[_0x373063(0x135)]['appendChild'](_0x12cee4),_0x12cee4[_0x373063(0x2ff)]=_0x2dfe6a,_0x12cee4[_0x373063(0x241)]=getResultsFilename()+'.doc',_0x12cee4['click'](),document[_0x373063(0x135)][_0x373063(0xeb)](_0x12cee4);}function exportResultsAsExcel(){const _0x56eb2c=_0x544b94,_0x157ddb=document[_0x56eb2c(0x365)](_0x56eb2c(0x5f2));let _0x31aaf0=[];for(let _0x5d5b08=0x0;_0x5d5b08<_0x157ddb[_0x56eb2c(0x38b)][_0x56eb2c(0x317)];_0x5d5b08++){let _0x166f45=[],_0x9befd5=_0x157ddb['rows'][_0x5d5b08][_0x56eb2c(0x57e)](_0x56eb2c(0x360));for(let _0x318f07=0x0;_0x318f07<_0x9befd5['length'];_0x318f07++){_0x166f45[_0x56eb2c(0x517)]('\x22'+_0x9befd5[_0x318f07][_0x56eb2c(0x3ec)][_0x56eb2c(0x626)](/"/g,'\x22\x22')+'\x22');}_0x31aaf0[_0x56eb2c(0x517)](_0x166f45[_0x56eb2c(0x4a5)](','));}const _0x2637ff=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x31aaf0['join']('\x0a')],{'type':_0x56eb2c(0x451)}),_0x3d2310=document[_0x56eb2c(0x3da)]('a');_0x3d2310[_0x56eb2c(0x2ff)]=URL[_0x56eb2c(0x147)](_0x2637ff),_0x3d2310[_0x56eb2c(0x241)]=getResultsFilename()+_0x56eb2c(0x5db),_0x3d2310[_0x56eb2c(0x136)]();}function exportTableAsImage(_0x252476,_0x47377e){const _0xac7586=_0x544b94,_0x3e4630=document[_0xac7586(0x365)](_0x252476);if(!_0x3e4630){showMessage(_0xac7586(0x1a1));return;}showMessage(_0xac7586(0x4fc)),html2canvas(_0x3e4630)[_0xac7586(0x638)](_0xdb5a50=>{const _0x3c7a22=_0xac7586,_0x134a79=document[_0x3c7a22(0x3da)]('a');_0x134a79[_0x3c7a22(0x241)]=_0x47377e+_0x3c7a22(0x5f3),_0x134a79[_0x3c7a22(0x2ff)]=_0xdb5a50[_0x3c7a22(0x500)](_0x3c7a22(0x32c)),_0x134a79[_0x3c7a22(0x136)](),messageModal[_0x3c7a22(0x1da)]['add'](_0x3c7a22(0x5ba));});}function exportTableAsPDF(_0x3b4d23,_0x1e045c){const _0x2948d6=_0x544b94,{jsPDF:_0x3bc66d}=window[_0x2948d6(0x672)],_0x438bbb=new _0x3bc66d();_0x438bbb[_0x2948d6(0x3a7)](_0x2948d6(0x15b),_0x2948d6(0x285)),_0x438bbb[_0x2948d6(0x1fd)]({'html':'#'+_0x3b4d23}),_0x438bbb['save'](_0x1e045c+'.pdf');}function exportTableAsWord(_0x41eac1,_0x301767){const _0x3bdd69=_0x544b94,_0x178094=document[_0x3bdd69(0x365)](_0x41eac1);if(!_0x178094){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x715e6c='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x3bdd69(0x3c2)+_0x3bdd69(0xb9)+_0x3bdd69(0x51a),_0x3abbc4=_0x3bdd69(0x32a),_0x210bca=_0x715e6c+_0x178094[_0x3bdd69(0x464)]+_0x3abbc4,_0x3d4cd4=_0x3bdd69(0x46a)+encodeURIComponent(_0x210bca),_0x2b3536=document[_0x3bdd69(0x3da)]('a');document[_0x3bdd69(0x135)]['appendChild'](_0x2b3536),_0x2b3536['href']=_0x3d4cd4,_0x2b3536[_0x3bdd69(0x241)]=_0x301767+_0x3bdd69(0x129),_0x2b3536[_0x3bdd69(0x136)](),document[_0x3bdd69(0x135)][_0x3bdd69(0xeb)](_0x2b3536);}function exportTableAsExcel(_0x5f2d5b,_0xe2ffe6){const _0x411478=_0x544b94,_0x289fb1=document[_0x411478(0x365)](_0x5f2d5b);if(!_0x289fb1){showMessage(_0x411478(0x1a1));return;}let _0x152de2=[];for(let _0x3f9b66=0x0;_0x3f9b66<_0x289fb1[_0x411478(0x38b)][_0x411478(0x317)];_0x3f9b66++){let _0x2afeb5=[],_0x3aaf55=_0x289fb1[_0x411478(0x38b)][_0x3f9b66][_0x411478(0x57e)](_0x411478(0x360));for(let _0x45ff18=0x0;_0x45ff18<_0x3aaf55['length'];_0x45ff18++){_0x2afeb5['push']('\x22'+_0x3aaf55[_0x45ff18][_0x411478(0x3ec)][_0x411478(0x626)](/"/g,'\x22\x22')+'\x22');}_0x152de2['push'](_0x2afeb5[_0x411478(0x4a5)](','));}const _0x5c7e6d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x152de2['join']('\x0a')],{'type':_0x411478(0x451)}),_0x4c51a1=document[_0x411478(0x3da)]('a');_0x4c51a1[_0x411478(0x2ff)]=URL[_0x411478(0x147)](_0x5c7e6d),_0x4c51a1[_0x411478(0x241)]=_0xe2ffe6+'.csv',_0x4c51a1['click']();}function renderAnalytics(_0x3cf3a1,_0x1a9824){const _0x29d649=_0x544b94,_0x1bb74e=currentProjectData[_0x29d649(0x61e)][_0x29d649(0x317)],_0x29232a=_0x1a9824[_0x29d649(0x317)],_0x26cbcc=_0x1bb74e-_0x29232a,_0x1951fd=_0x1bb74e>0x0?_0x29232a/_0x1bb74e*0x64:0x0,_0x36b48a=_0x1a9824['map'](_0x247413=>_0x247413['latestScore']),_0x1b92e1=_0x36b48a['length']>0x0?_0x36b48a['reduce']((_0x4eacca,_0xdb5a0c)=>_0x4eacca+_0xdb5a0c,0x0)/_0x36b48a['length']:0x0,_0x2bc481=_0x3cf3a1[_0x29d649(0x4b9)][_0x29d649(0x317)],_0x40e77f=_0x2bc481>0x0?_0x1b92e1/_0x2bc481*0x64:0x0,_0x844019=document['getElementById'](_0x29d649(0x1ae));_0x844019[_0x29d649(0x464)]=_0x29d649(0xda)+_0x1951fd['toFixed'](0x0)+_0x29d649(0x187)+_0x29232a+'/'+_0x1bb74e+_0x29d649(0x2fe)+_0x1b92e1[_0x29d649(0x42d)](0x2)+_0x29d649(0x48d)+_0x40e77f[_0x29d649(0x42d)](0x0)+_0x29d649(0xe7)+(_0x36b48a[_0x29d649(0x317)]>0x0?Math[_0x29d649(0x286)](..._0x36b48a):_0x29d649(0x1fa))+_0x29d649(0x67e)+(_0x36b48a[_0x29d649(0x317)]>0x0?Math[_0x29d649(0x471)](..._0x36b48a):_0x29d649(0x1fa))+_0x29d649(0x4d5);const _0xb7abc=currentProjectData[_0x29d649(0x61e)]||[];renderSubmissionChart(_0x29232a,_0x26cbcc,_0x1a9824,_0xb7abc),renderScoreDistributionChart(_0x1a9824,_0x2bc481),renderQuestionAnalytics(_0x3cf3a1,_0x1a9824,_0xb7abc);}function renderSubmissionChart(_0x463f49,_0x47d97f,_0x4cef9c,_0x2bc2a5){const _0x5a0664=_0x544b94,_0x50ffc9=document['getElementById']('submission-status-chart')[_0x5a0664(0x542)]('2d'),_0x448509=_0x4cef9c[_0x5a0664(0x24a)](_0x12e436=>_0x12e436[_0x5a0664(0x213)]),_0x55bcb3=_0x2bc2a5[_0x5a0664(0x371)](_0x56c250=>!_0x448509[_0x5a0664(0x616)](_0x56c250));chartInstances[_0x5a0664(0x4ce)]&&chartInstances[_0x5a0664(0x4ce)][_0x5a0664(0x1f6)](),chartInstances[_0x5a0664(0x4ce)]=new Chart(_0x50ffc9,{'type':_0x5a0664(0x41a),'data':{'labels':[_0x5a0664(0xf2),_0x5a0664(0x1be)],'datasets':[{'data':[_0x463f49,_0x47d97f],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x5a0664(0x5bf),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5a0664(0x1ad)},'tooltip':{'callbacks':{'label':function(_0x11f63b){const _0x406b5f=_0x5a0664;let _0x4f292e=_0x11f63b[_0x406b5f(0x592)]||'';return _0x4f292e&&(_0x4f292e+=':\x20'),_0x4f292e+=_0x11f63b[_0x406b5f(0x482)],_0x4f292e;},'afterLabel':function(_0x4e75b2){const _0xd65bec=_0x5a0664;let _0x3c6504;return _0x4e75b2[_0xd65bec(0x506)]===0x0?_0x3c6504=_0x448509:_0x3c6504=_0x55bcb3,_0x3c6504[_0xd65bec(0x317)]>0x0?_0x3c6504['join']('\x0a'):_0xd65bec(0x66d);}}}}}});}function renderScoreDistributionChart(_0x87c9f1,_0x183ac7){const _0x7099a6=_0x544b94,_0x5715aa=document[_0x7099a6(0x365)](_0x7099a6(0x49e))[_0x7099a6(0x542)]('2d'),_0x23c618={};for(let _0x8f36ba=0x0;_0x8f36ba<=_0x183ac7;_0x8f36ba++){_0x23c618[_0x8f36ba]=0x0;}_0x87c9f1[_0x7099a6(0x34d)](_0x1e9f81=>{const _0x50e746=_0x7099a6;_0x23c618[_0x1e9f81[_0x50e746(0x64a)]]!==undefined&&_0x23c618[_0x1e9f81[_0x50e746(0x64a)]]++;}),chartInstances[_0x7099a6(0x3e6)]&&chartInstances['score'][_0x7099a6(0x1f6)](),chartInstances[_0x7099a6(0x3e6)]=new Chart(_0x5715aa,{'type':'bar','data':{'labels':Object[_0x7099a6(0x2b2)](_0x23c618),'datasets':[{'label':_0x7099a6(0x1a4),'data':Object[_0x7099a6(0x1c3)](_0x23c618),'backgroundColor':_0x7099a6(0x60a),'borderColor':_0x7099a6(0x488),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x7099a6(0x5ec)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2ae9d0){const _0x21150b=_0x7099a6,_0x3ded6d=_0x2ae9d0[_0x21150b(0x592)],_0x3d7783=_0x87c9f1[_0x21150b(0x371)](_0x31fc66=>_0x31fc66[_0x21150b(0x64a)]==_0x3ded6d)[_0x21150b(0x24a)](_0xf017fd=>_0xf017fd[_0x21150b(0x213)]);return _0x3d7783[_0x21150b(0x317)]>0x0?_0x3d7783['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2fbd2f,_0x100ad0,_0x2c0454){const _0x458797=_0x544b94,_0x348d41=document[_0x458797(0x365)](_0x458797(0x175));if(_0x2c0454['length']===0x0){_0x348d41[_0x458797(0x464)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}let _0x56e756='';const _0x4e0ee1=_0x100ad0[_0x458797(0x24a)](_0x31e314=>_0x31e314[_0x458797(0x213)]);_0x2fbd2f[_0x458797(0x4b9)][_0x458797(0x34d)]((_0x280127,_0x195345)=>{const _0xa307cf=_0x458797;let _0x454a71=0x0;const _0x31a56a=[],_0x2603a3=[],_0x433b6f=_0x280127[_0xa307cf(0x4f1)]||_0x280127['questionText']||_0x280127[_0xa307cf(0x2f8)];_0x100ad0[_0xa307cf(0x34d)](_0x2d89d4=>{const _0x240f5a=_0xa307cf,_0x50fab1=_0x2d89d4[_0x240f5a(0x390)][_0x2d89d4[_0x240f5a(0x390)][_0x240f5a(0x317)]-0x1];if(_0x50fab1&&_0x50fab1[_0x240f5a(0xdc)]){const _0xcf44bf=_0x50fab1[_0x240f5a(0xdc)][_0x240f5a(0x575)](_0x2acee7=>_0x2acee7[_0x240f5a(0x20d)]===_0x433b6f)??_0x50fab1[_0x240f5a(0xdc)][_0x195345]??null;_0xcf44bf&&(_0xcf44bf[_0x240f5a(0x5b4)]?(_0x454a71++,_0x31a56a[_0x240f5a(0x517)](_0x2d89d4[_0x240f5a(0x213)])):_0x2603a3['push'](_0x2d89d4[_0x240f5a(0x213)]));}});const _0x5c4e00=_0x2c0454['filter'](_0x442ad1=>!_0x4e0ee1['includes'](_0x442ad1)),_0x15e264=_0x100ad0[_0xa307cf(0x317)]>0x0?_0x454a71/_0x100ad0[_0xa307cf(0x317)]*0x64:0x0;_0x56e756+=_0xa307cf(0x1d7)+(_0x195345+0x1)+':\x20'+_0x433b6f+_0xa307cf(0x348)+(_0x15e264>=0x46?_0xa307cf(0x1c4):_0x15e264>=0x28?_0xa307cf(0x322):_0xa307cf(0x209))+_0xa307cf(0x41e)+_0x15e264[_0xa307cf(0x42d)](0x0)+_0xa307cf(0x2af)+_0x433b6f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x454a71+_0xa307cf(0x1f4)+_0x100ad0[_0xa307cf(0x317)]+_0xa307cf(0x40c)+_0x31a56a[_0xa307cf(0x317)]+_0xa307cf(0x3fa)+(_0x31a56a[_0xa307cf(0x317)]>0x0?_0x31a56a[_0xa307cf(0x4a5)](',\x20'):'ไม่มี')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x2603a3[_0xa307cf(0x317)]+_0xa307cf(0x3fa)+(_0x2603a3['length']>0x0?_0x2603a3['join'](',\x20'):_0xa307cf(0x66d))+_0xa307cf(0x391)+_0x5c4e00[_0xa307cf(0x317)]+_0xa307cf(0x3fa)+(_0x5c4e00[_0xa307cf(0x317)]>0x0?_0x5c4e00[_0xa307cf(0x4a5)](',\x20'):_0xa307cf(0x66d))+_0xa307cf(0x171);}),_0x348d41['innerHTML']=_0x56e756;try{window[_0x458797(0x1c9)]&&MathJax[_0x458797(0x606)]&&MathJax[_0x458797(0x606)]([_0x348d41]);}catch(_0x560cbc){console[_0x458797(0x4a9)](_0x458797(0x3b8),_0x560cbc);}}async function handleAnalyzeClass(){const _0xcbd67b=_0x544b94;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xcbd67b(0x148));return;}const _0x489910=collection(db,'artifacts/'+appId+_0xcbd67b(0x421)+currentQuizData['id']+_0xcbd67b(0x38f)),_0x80131a=await getDocs(_0x489910),_0x59e455=_0x80131a[_0xcbd67b(0xad)][_0xcbd67b(0x24a)](_0x5c6982=>_0x5c6982[_0xcbd67b(0x29f)]());if(_0x59e455[_0xcbd67b(0x317)]<0x2){showMessage(_0xcbd67b(0xfd));return;}const _0x100f6d=document[_0xcbd67b(0x365)](_0xcbd67b(0x17b));_0x100f6d[_0xcbd67b(0x464)]=_0xcbd67b(0x654),document[_0xcbd67b(0x365)]('analyze-strengths-btn')['disabled']=!![];const _0x2dfd7d=_0x59e455['map']((_0x230f2d,_0x812ead)=>{const _0x94a9c5=_0xcbd67b,_0x50bb97=_0x230f2d[_0x94a9c5(0x390)][_0x230f2d['attempts']['length']-0x1];if(!_0x50bb97)return'';return _0x94a9c5(0x4b2)+(_0x812ead+0x1)+'\x20('+_0x230f2d['studentName']+_0x94a9c5(0x528)+_0x50bb97[_0x94a9c5(0x3e6)]+'/'+_0x230f2d[_0x94a9c5(0x46b)]+_0x94a9c5(0x389)+JSON[_0x94a9c5(0x50e)](_0x50bb97[_0x94a9c5(0xdc)])+_0x94a9c5(0x45b);})[_0xcbd67b(0x4a5)](_0xcbd67b(0x50b)),_0x13e68e=_0xcbd67b(0x583)+currentQuizData[_0xcbd67b(0x547)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0xcbd67b(0x50e)](currentQuizData[_0xcbd67b(0x4b9)])+_0xcbd67b(0x164)+_0x2dfd7d+_0xcbd67b(0x1c0),_0x45d1bc={'type':_0xcbd67b(0x4c3),'properties':{'classStrengths':{'type':_0xcbd67b(0x46c),'items':{'type':'STRING'}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0xcbd67b(0x64d)}},'teacherSuggestions':{'type':_0xcbd67b(0x46c),'items':{'type':_0xcbd67b(0x64d)}}},'required':['classStrengths',_0xcbd67b(0x5d1),_0xcbd67b(0x19c)]};try{const _0x517214=await callAnalysisApi(_0x13e68e,_0x45d1bc);displayClassAnalysis(_0x517214);}catch(_0x20440c){console['error'](_0xcbd67b(0x536),_0x20440c),_0x100f6d[_0xcbd67b(0x464)]=_0xcbd67b(0x2d4)+_0x20440c[_0xcbd67b(0x5aa)]+'</p></div>';}finally{document[_0xcbd67b(0x365)](_0xcbd67b(0x325))[_0xcbd67b(0x1ea)]=![];}}function displayClassAnalysis(_0x53ce16){const _0x69beea=_0x544b94,_0x2a000c=document['getElementById']('strength-weakness-analysis-container');if(!_0x53ce16){_0x2a000c[_0x69beea(0x464)]=_0x69beea(0x1e5);return;}_0x2a000c[_0x69beea(0x464)]=_0x69beea(0x4ee)+_0x53ce16[_0x69beea(0xfa)][_0x69beea(0x24a)](_0x586daa=>_0x69beea(0x663)+_0x586daa+_0x69beea(0x26c))[_0x69beea(0x4a5)]('')+_0x69beea(0x53a)+_0x53ce16['classWeaknesses'][_0x69beea(0x24a)](_0x4aa3e0=>'<li>'+_0x4aa3e0+_0x69beea(0x26c))[_0x69beea(0x4a5)]('')+_0x69beea(0xb3)+_0x53ce16[_0x69beea(0x19c)]['map'](_0x3f6f5e=>'<li>'+_0x3f6f5e+_0x69beea(0x26c))['join']('')+_0x69beea(0x1a7);}function formatAndPrintWorksheet(_0x14f480,_0xf21ade){const _0x2ac826=_0x544b94,_0x66d283=_0x2ac826(0x4ef)+_0x14f480[_0x2ac826(0x547)]+_0x2ac826(0x399)+_0x14f480[_0x2ac826(0x547)]+_0x2ac826(0x16e)+_0x14f480[_0x2ac826(0x4b9)][_0x2ac826(0x24a)]((_0x30a042,_0x35ff4b)=>_0x2ac826(0x454)+(_0x35ff4b+0x1)+'.\x20'+_0x30a042[_0x2ac826(0x21d)]+_0x2ac826(0x66b)+(_0x30a042[_0x2ac826(0x33b)]?_0x2ac826(0x553)+_0x30a042[_0x2ac826(0x33b)]+_0x2ac826(0x137):'')+_0x2ac826(0x275))[_0x2ac826(0x4a5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xf21ade['document'][_0x2ac826(0x3ba)](_0x66d283),_0xf21ade[_0x2ac826(0x41c)]['close'](),_0xf21ade[_0x2ac826(0x474)]=function(){const _0x102e31=_0x2ac826;_0xf21ade[_0x102e31(0x585)]();};}async function generateWorksheet(){const _0x3c7537=_0x544b94,_0x1045ae=document[_0x3c7537(0x365)]('worksheet-topic-input')[_0x3c7537(0x601)]['trim']();if(!_0x1045ae){showMessage(_0x3c7537(0x276));return;}const _0xfc2c7f=document[_0x3c7537(0x365)](_0x3c7537(0x473))[_0x3c7537(0x21e)],_0x35649d=_0xfc2c7f?'':_0x3c7537(0x154),_0x323f49=window[_0x3c7537(0x388)]('','_blank');_0x323f49[_0x3c7537(0x41c)][_0x3c7537(0x3ba)](_0x3c7537(0x39d));const _0x2298b9=parseInt(document['getElementById'](_0x3c7537(0x20b))[_0x3c7537(0x601)]),_0x4575b3=document[_0x3c7537(0x365)]('include-images-checkbox')[_0x3c7537(0x21e)],_0x2a573d=_0x4575b3?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x2e883d=_0x3c7537(0x652)+_0x35649d+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x2298b9+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x1045ae+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a573d+_0x3c7537(0xef),_0x11eddd={'type':_0x3c7537(0x4c3),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3c7537(0x46c),'items':{'type':_0x3c7537(0x4c3),'properties':{'questionText':{'type':_0x3c7537(0x64d)},'imageCode':{'type':_0x3c7537(0x64d)}},'required':['questionText']}}},'required':[_0x3c7537(0x547),'questions']};document[_0x3c7537(0x365)](_0x3c7537(0x2aa))[_0x3c7537(0x5c3)]='',document['getElementById'](_0x3c7537(0xb1))[_0x3c7537(0x1da)][_0x3c7537(0x221)](_0x3c7537(0x5ba)),document['getElementById'](_0x3c7537(0x26b))['classList'][_0x3c7537(0x221)](_0x3c7537(0x5ba)),generateWorksheetBtn['disabled']=!![];try{const _0x3d4abc=await callAnalysisApi(_0x2e883d,_0x11eddd);formatAndPrintWorksheet(_0x3d4abc,_0x323f49);}catch(_0xa0bfb5){console[_0x3c7537(0x4a9)](_0x3c7537(0x515),_0xa0bfb5);if(_0x323f49)_0x323f49[_0x3c7537(0x3f5)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById'](_0x3c7537(0xb1))[_0x3c7537(0x1da)][_0x3c7537(0x114)](_0x3c7537(0x5ba)),document[_0x3c7537(0x365)](_0x3c7537(0x26b))['classList'][_0x3c7537(0x114)](_0x3c7537(0x5ba)),generateWorksheetBtn[_0x3c7537(0x1ea)]=![];}}async function callAnalysisApi(_0x59b42e,_0x382e5b){const _0x44fd4d=_0x544b94,_0x51d14f={'contents':[{'role':_0x44fd4d(0x478),'parts':[{'text':_0x59b42e}]}],'generationConfig':{'responseMimeType':_0x44fd4d(0x608),'responseSchema':_0x382e5b}},_0x19ff06='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x33103e=_0x44fd4d(0x596)+_0x19ff06,_0x55e077=await fetch(_0x33103e,{'method':_0x44fd4d(0x556),'headers':{'Content-Type':'application/json'},'body':JSON[_0x44fd4d(0x50e)](_0x51d14f)});if(!_0x55e077['ok'])throw new Error(_0x44fd4d(0x615)+_0x55e077[_0x44fd4d(0x446)]);const _0x5c0ad6=await _0x55e077[_0x44fd4d(0x355)]();if(_0x5c0ad6[_0x44fd4d(0x2e4)]?.[0x0]?.[_0x44fd4d(0x15f)]?.[_0x44fd4d(0x39b)]?.[0x0])return JSON[_0x44fd4d(0x5ef)](_0x5c0ad6['candidates'][0x0][_0x44fd4d(0x15f)]['parts'][0x0][_0x44fd4d(0x2a5)]);else{let _0x17cabe=_0x44fd4d(0x314);if(_0x5c0ad6[_0x44fd4d(0x268)]?.[_0x44fd4d(0x174)])_0x17cabe=_0x44fd4d(0x23c)+_0x5c0ad6[_0x44fd4d(0x268)][_0x44fd4d(0x174)]+'.';else _0x5c0ad6[_0x44fd4d(0x2e4)]?.[0x0]?.[_0x44fd4d(0x17d)]&&_0x5c0ad6['candidates'][0x0][_0x44fd4d(0x17d)]!=='STOP'&&(_0x17cabe=_0x44fd4d(0x62b)+_0x5c0ad6['candidates'][0x0][_0x44fd4d(0x17d)]+'.');console[_0x44fd4d(0x4a9)](_0x17cabe,JSON['stringify'](_0x5c0ad6));throw new Error(_0x17cabe);}}initialize();
