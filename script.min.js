const _0xdd45b5=_0x39cc;(function(_0x1c0bf8,_0x1e6ee7){const _0x3e8f82=_0x39cc,_0x5be4c7=_0x1c0bf8();while(!![]){try{const _0x35415f=parseInt(_0x3e8f82(0xa67))/0x1+-parseInt(_0x3e8f82(0xb32))/0x2*(-parseInt(_0x3e8f82(0x38c))/0x3)+-parseInt(_0x3e8f82(0x943))/0x4*(-parseInt(_0x3e8f82(0xb2e))/0x5)+-parseInt(_0x3e8f82(0x1b6))/0x6+parseInt(_0x3e8f82(0xb58))/0x7*(-parseInt(_0x3e8f82(0x184))/0x8)+-parseInt(_0x3e8f82(0x641))/0x9*(-parseInt(_0x3e8f82(0x460))/0xa)+-parseInt(_0x3e8f82(0x2ca))/0xb;if(_0x35415f===_0x1e6ee7)break;else _0x5be4c7['push'](_0x5be4c7['shift']());}catch(_0x3c7f5f){_0x5be4c7['push'](_0x5be4c7['shift']());}}}(_0x2f11,0x99a8f));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0xdd45b5(0xc26),_0xdd45b5(0x8e0),'เทพทรู',_0xdd45b5(0x589),_0xdd45b5(0xa5a),_0xdd45b5(0x4c9),_0xdd45b5(0x6e1),'สิงโตยิ้ม',_0xdd45b5(0x916),'จิงโจ้สโลว์ไลฟ์',_0xdd45b5(0x5ca),_0xdd45b5(0x1b2),_0xdd45b5(0xc0d),_0xdd45b5(0xb7e),_0xdd45b5(0xb37),_0xdd45b5(0x74e),_0xdd45b5(0x15e),_0xdd45b5(0x507),_0xdd45b5(0x7f7),_0xdd45b5(0x21f),_0xdd45b5(0x46f),_0xdd45b5(0xc9e),_0xdd45b5(0x5bc),_0xdd45b5(0xe3),'กุ้งเต้นแร้งกา','หมาป่าเดียวดาย',_0xdd45b5(0x9e4),'เสือซ่อนเล็บ',_0xdd45b5(0x5ee),_0xdd45b5(0x628),'ยอดนักสืบ',_0xdd45b5(0x5a0),_0xdd45b5(0x284),_0xdd45b5(0x6b3),_0xdd45b5(0x93c),_0xdd45b5(0x3d6),'เศรษฐีดูไบ',_0xdd45b5(0x58f),_0xdd45b5(0x7e7),_0xdd45b5(0x407),'กาแฟขม','ชาไข่มุก',_0xdd45b5(0x352),_0xdd45b5(0x71f),_0xdd45b5(0x2a3),_0xdd45b5(0x485),_0xdd45b5(0x919),'ครัวซองต์',_0xdd45b5(0x44b),'ลาเต้ไม่หวาน',_0xdd45b5(0xa26),_0xdd45b5(0x733),_0xdd45b5(0x743),'นอนไม่พอ',_0xdd45b5(0x4f7),_0xdd45b5(0x3d3),'เน็ตช้า','โหลดนาน',_0xdd45b5(0xa1a),_0xdd45b5(0xc22),_0xdd45b5(0x276),'ตะวันฉาย',_0xdd45b5(0x415),_0xdd45b5(0x9df),'ดวงดาว',_0xdd45b5(0x57b),_0xdd45b5(0xca3),_0xdd45b5(0x5f6),_0xdd45b5(0x205),_0xdd45b5(0xac6),_0xdd45b5(0x1af),_0xdd45b5(0x8fa),_0xdd45b5(0xc52),'ศิลปิน',_0xdd45b5(0x6b5),_0xdd45b5(0x74c),_0xdd45b5(0x723),'นักประดิษฐ์','นักกีฬา',_0xdd45b5(0x773),'พลังคลื่นเต่า',_0xdd45b5(0x805),_0xdd45b5(0xc7e),_0xdd45b5(0xb73),_0xdd45b5(0xaa0),_0xdd45b5(0x67d),'ธอร์ค้อนบิน',_0xdd45b5(0x566),_0xdd45b5(0x1ff),_0xdd45b5(0x6d5),_0xdd45b5(0x1d3),'คนโสด',_0xdd45b5(0x84d),_0xdd45b5(0x77a),_0xdd45b5(0x831),_0xdd45b5(0x818),'แฟนทิพย์',_0xdd45b5(0x1c2),'สถานะไม่ชัดเจน','มูเตลู'];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0xdd45b5(0x906),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0xdd45b5(0x906),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0xdd45b5(0x906),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x30dbc2=_0xdd45b5;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x30dbc2(0x1ce)][_0x30dbc2(0xc32)](_0x30dbc2(0xaf)),console[_0x30dbc2(0x3b7)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x30dbc2(0x915)](_0x30dbc2(0xee),()=>{console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x2b3667){console[_0x30dbc2(0x2c7)](_0x30dbc2(0xb6)+_0x2b3667[_0x30dbc2(0x8aa)]+',\x20'+_0x2b3667['message']);}else console['warn'](_0x30dbc2(0xa90));},releaseWakeLock=async()=>{const _0x3bfdc8=_0xdd45b5;wakeLock!==null&&(await wakeLock[_0x3bfdc8(0xee)](),wakeLock=null,console[_0x3bfdc8(0x3b7)](_0x3bfdc8(0x68d)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x1910f0=_0xdd45b5;if(!document[_0x1910f0(0x594)][_0x1910f0(0x8c0)][_0x1910f0(0x796)](_0x1910f0(0x812))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3dbecb=_0x1910f0;document[_0x3dbecb(0x594)][_0x3dbecb(0x8c0)][_0x3dbecb(0x9ff)](_0x3dbecb(0x812)),console[_0x3dbecb(0x3b7)](_0x3dbecb(0x8e5));},inactivityTime);}}function wakeUpScreen(_0x1312ed){const _0x2e2710=_0xdd45b5;_0x1312ed&&(_0x1312ed['stopPropagation'](),_0x1312ed[_0x2e2710(0xc15)]());document[_0x2e2710(0x594)]['classList'][_0x2e2710(0x3b9)](_0x2e2710(0x812));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x16e26c=_0x2e2710;document[_0x16e26c(0x594)]['classList']['add'](_0x16e26c(0x812));},inactivityTime);}function stopDimTimer(){const _0xc9f65f=_0xdd45b5;if(dimTimer)clearTimeout(dimTimer);document[_0xc9f65f(0x594)][_0xc9f65f(0x8c0)][_0xc9f65f(0x3b9)]('dimmed'),window['removeEventListener'](_0xc9f65f(0x568),resetDimTimer),window['removeEventListener']('mousedown',resetDimTimer),window[_0xc9f65f(0xd9)](_0xc9f65f(0x31e),resetDimTimer),window[_0xc9f65f(0xd9)](_0xc9f65f(0x90e),resetDimTimer),console[_0xc9f65f(0x3b7)](_0xc9f65f(0x6cf));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x317994,_0x41d056=![]){const _0xc63283=_0xdd45b5,_0x518cbb=allQuizzes[_0xc63283(0x922)](_0x3565e8=>_0x3565e8['id']===_0x317994)||allQuizzesGlobal[_0xc63283(0x922)](_0x1b0e82=>_0x1b0e82['id']===_0x317994);if(!_0x518cbb){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x518cbb);const _0x13eb87=Math['floor'](0x3e8+Math['random']()*0x2328)[_0xc63283(0x467)]();try{const _0x35ef8b=await addDoc(collection(db,_0xc63283(0xb4)+appId+_0xc63283(0x263)),{'quizId':_0x518cbb['id'],'projectId':_0x518cbb[_0xc63283(0xa60)],'status':_0xc63283(0xb23),'pin':_0x13eb87,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x41d056});currentTeamQuizId=_0x35ef8b['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x13eb87,_0x518cbb[_0xc63283(0x6bd)]),listenForTeamQuizUpdates();}catch(_0x3c3daa){console[_0xc63283(0x2c7)](_0xc63283(0xb53),_0x3c3daa),showMessage(_0xc63283(0x7e8));}}function renderAdminTeamQuizDashboard(_0xf79599,_0x1b70e6,_0x3e1da8=_0xdd45b5(0x2ed)){const _0xb1e310=_0xdd45b5,_0x2def40=_0x3e1da8===_0xb1e310(0x96a)?_0xb1e310(0x7ab):_0xb1e310(0xa2);liveGameView['innerHTML']=_0xb1e310(0x104)+_0x2def40+':\x20'+_0x1b70e6+_0xb1e310(0x83e)+_0xf79599+_0xb1e310(0x716),document[_0xb1e310(0xbd5)]('end-team-quiz-btn')[_0xb1e310(0x915)](_0xb1e310(0x98f),async()=>{const _0x3974b6=_0xb1e310;showConfirmation(_0x3974b6(0x14d),async()=>{const _0x43465f=_0x3974b6;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x43465f(0xb4)+appId+_0x43465f(0x263),currentTeamQuizId)),showView(_0x43465f(0xa97));});});}function listenForTeamQuizUpdates(){const _0x28dd52=_0xdd45b5;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x3fd030=doc(db,_0x28dd52(0xb4)+appId+_0x28dd52(0x263),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x3fd030,_0x240eb8=>{const _0x12a142=_0x28dd52;if(!_0x240eb8[_0x12a142(0x935)]()){sessionStorage['removeItem'](_0x12a142(0x346));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x12a142(0xc94));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x12a142(0xa97)):showView('student');return;}const _0x5b810a=_0x240eb8['data']();if(currentMode===_0x12a142(0xba1)){if(_0x5b810a[_0x12a142(0xb81)]===_0x12a142(0x96a)&&_0x5b810a[_0x12a142(0x56c)]!=='podium'&&_0x5b810a[_0x12a142(0x56c)]!=='finished'){const _0x53d679=Object[_0x12a142(0x3bb)](_0x5b810a[_0x12a142(0x4ae)]||{});if(_0x53d679[_0x12a142(0x9f1)]>0x0){const _0x47a70a=_0x53d679[_0x12a142(0x2cf)](_0x45e40c=>_0x45e40c[_0x12a142(0xb5b)]===!![]);_0x47a70a&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5b810a);}else{if(_0x5b810a[_0x12a142(0x56c)]===_0x12a142(0xa9e)||_0x5b810a['status']==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5b810a['mode']==='group'){const _0x23ad56=_0x5b810a[_0x12a142(0x4ae)][userId];(!_0x23ad56||!_0x23ad56['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x3aaad9){const _0x129e1e=_0xdd45b5;console[_0x129e1e(0x3b7)](_0x129e1e(0xc82));const _0x570127=doc(db,_0x129e1e(0xb4)+appId+_0x129e1e(0x263),_0x3aaad9);try{const _0x4f0efd=await getDoc(_0x570127);if(_0x4f0efd[_0x129e1e(0x935)]()){const _0xc1678a=_0x4f0efd[_0x129e1e(0xa1d)]();_0xc1678a['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0xc1678a);}await updateDoc(_0x570127,{'status':_0x129e1e(0xa9e)});}catch(_0x58aef1){console['error'](_0x129e1e(0xbfd),_0x58aef1);}}function updateAdminTeamDashboard(_0xcaffa8){const _0x1ca921=_0xdd45b5,_0x1e044a=document[_0x1ca921(0xbd5)](_0x1ca921(0xa3f));if(!_0x1e044a)return;const _0x507510=_0xcaffa8[_0x1ca921(0xb81)]||_0x1ca921(0x2ed),_0xdb707=currentQuizData['questions'][_0x1ca921(0x9f1)];if(_0x507510==='group'){const _0x3ea012=Object['values'](_0xcaffa8[_0x1ca921(0x4ae)]||{});if(_0x3ea012[_0x1ca921(0x9f1)]===0x0){_0x1e044a[_0x1ca921(0x553)]=_0x1ca921(0x510);return;}const _0x3c3cc=[..._0x3ea012][_0x1ca921(0x50a)]((_0x1d03f3,_0x16d1d1)=>_0x16d1d1[_0x1ca921(0x9e7)]-_0x1d03f3[_0x1ca921(0x9e7)]),_0x42d105=_0x3c3cc[_0x1ca921(0xb43)]((_0xac7744,_0x318b0a)=>{const _0x4ca065=_0x1ca921,_0x554150=_0xac7744[_0x4ca065(0xb1b)]?.[_0x4ca065(0x9f1)]||0x0;return _0x4ca065(0x40b)+(_0x318b0a+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0xac7744[_0x4ca065(0x252)][_0x4ca065(0xb92)](',\x20')+_0x4ca065(0xc1c)+_0x554150+'/'+_0xdb707+_0x4ca065(0x53f)+_0xac7744[_0x4ca065(0x9e7)]+_0x4ca065(0xafa);})[_0x1ca921(0xb92)](''),_0x5ad691=currentQuizData['questions'][_0x1ca921(0xb43)]((_0x300a07,_0x1b3977)=>{const _0x567fdf=_0x1ca921;let _0x4a9862=0x0,_0x100cca=0x0;_0x3ea012['forEach'](_0x7c34b=>{const _0x53d460=_0x39cc,_0x3034dc=_0x7c34b[_0x53d460(0xb1b)]?.[_0x53d460(0x922)](_0x53ad79=>_0x53ad79['questionIndex']===_0x1b3977);if(_0x3034dc){_0x100cca++;if(_0x3034dc[_0x53d460(0x66b)])_0x4a9862++;}});const _0x5551b0=_0x100cca>0x0&&_0x100cca===_0x3ea012[_0x567fdf(0x9f1)],_0xa7315a=_0x5551b0?_0x567fdf(0xc02):_0x567fdf(0x806),_0x40372d=_0x5551b0?_0x567fdf(0x6ed):'';return _0x567fdf(0xbc0)+_0xa7315a+_0x567fdf(0x923)+(_0x1b3977+0x1)+_0x567fdf(0x972)+_0x40372d+_0x567fdf(0xc27)+_0x4a9862+'/'+_0x3ea012['length']+_0x567fdf(0xb51);})[_0x1ca921(0xb92)]('');_0x1e044a[_0x1ca921(0x553)]=_0x1ca921(0x8ed)+_0x42d105+_0x1ca921(0xb2a)+_0x5ad691+_0x1ca921(0xc5c);return;}const _0x306485=_0xcaffa8[_0x1ca921(0x903)]||{},_0x5b0504=Object[_0x1ca921(0x2df)](_0x306485);if(_0x5b0504[_0x1ca921(0x9f1)]===0x0){_0x1e044a['innerHTML']='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x17fac5=_0x5b0504[_0x1ca921(0xb43)](_0x22817b=>({'name':_0x22817b,'score':_0x306485[_0x22817b][_0x1ca921(0x9e7)]||0x0}))[_0x1ca921(0x50a)]((_0x58f4a1,_0x894192)=>_0x894192[_0x1ca921(0x9e7)]-_0x58f4a1['score']),_0x120515=_0x17fac5['map'](_0x493ba0=>{const _0x14d438=_0x1ca921,_0x425922=_0x306485[_0x493ba0['name']]?.['answers']?.[_0x14d438(0x9f1)]||0x0,_0x3d3eb1=Math[_0x14d438(0x200)](_0xdb707/_0x5b0504[_0x14d438(0x9f1)]);return _0x14d438(0x4d1)+_0x493ba0[_0x14d438(0x8aa)]+_0x14d438(0x65c)+_0x425922+'/'+_0x3d3eb1+_0x14d438(0x3a0)+_0x493ba0[_0x14d438(0x9e7)]+_0x14d438(0x1b9);})[_0x1ca921(0xb92)](''),_0x1b12bf=_0x5b0504[_0x1ca921(0xdb)]((_0x664d61,_0x502bef)=>_0x664d61+(_0x306485[_0x502bef][_0x1ca921(0xb1b)]?.[_0x1ca921(0x9f1)]||0x0),0x0),_0x40909f=currentQuizData[_0x1ca921(0x69e)]['map']((_0x16d666,_0x1e6317)=>{const _0x18e595=_0x1ca921;let _0x4a5ab8=null,_0x4818aa=null;for(const _0x60ddf9 of _0x5b0504){const _0x17b681=_0x306485[_0x60ddf9][_0x18e595(0xb1b)]?.[_0x18e595(0x922)](_0x49b140=>_0x49b140['questionIndex']===_0x1e6317);if(_0x17b681){_0x4a5ab8=_0x17b681,_0x4818aa=_0x60ddf9;break;}}const _0x5b789a=!!_0x4a5ab8,_0x1e26dd=_0x5b789a&&_0x4a5ab8[_0x18e595(0x66b)],_0x57c0a0=(Math['floor'](_0x1e6317/_0x5b0504[_0x18e595(0x9f1)])+0x1)*_0x5b0504[_0x18e595(0x9f1)],_0x5a8f66=_0x1b12bf>=_0x57c0a0,_0x522b61=_0x5a8f66?_0x18e595(0xa89):_0x18e595(0x806),_0x1c86dc=_0x5a8f66?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x213f77='รอ...';return _0x5b789a&&(_0x213f77=_0x4818aa+'\x20ตอบ'+(_0x1e26dd?_0x18e595(0x15f):_0x18e595(0x439))),_0x18e595(0xbc0)+_0x522b61+_0x18e595(0x923)+(_0x1e6317+0x1)+_0x18e595(0x972)+_0x1c86dc+_0x18e595(0x12a)+_0x213f77+'</p></div>';})[_0x1ca921(0xb92)]('');_0x1e044a[_0x1ca921(0x553)]=_0x1ca921(0x84a)+_0x120515+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x40909f+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x31332b=_0xdd45b5,_0x3ac4ba=prompt(_0x31332b(0x1d0));if(!_0x3ac4ba||_0x3ac4ba['trim']()[_0x31332b(0x9f1)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x39de01=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x576e36=query(_0x39de01,where(_0x31332b(0x253),'==',_0x3ac4ba[_0x31332b(0x7ae)]()),where(_0x31332b(0x56c),'==',_0x31332b(0xb23))),_0x54bde6=await getDocs(_0x576e36);if(_0x54bde6[_0x31332b(0x7f1)]){showMessage(_0x31332b(0x3cc));return;}const _0x21085f=_0x54bde6['docs'][0x0];currentTeamQuizId=_0x21085f['id'];const _0x620ba8=_0x21085f[_0x31332b(0xa1d)](),_0x407ab4=doc(db,_0x31332b(0xb4)+appId+'/public/data/projects',_0x620ba8[_0x31332b(0xa60)]),_0x263243=doc(db,_0x31332b(0xb4)+appId+_0x31332b(0xcba),_0x620ba8[_0x31332b(0x559)]),[_0x3e17dd,_0x9a736d]=await Promise['all']([getDoc(_0x407ab4),getDoc(_0x263243)]);if(!_0x3e17dd[_0x31332b(0x935)]()||!_0x9a736d[_0x31332b(0x935)]())throw new Error(_0x31332b(0x44d));currentQuizData=getShuffledQuiz({'id':_0x9a736d['id'],..._0x9a736d[_0x31332b(0xa1d)]()});const _0xb6d2d1=_0x3e17dd['data']();showTeamPlayerSelection(_0xb6d2d1[_0x31332b(0x8f4)],currentQuizData[_0x31332b(0x6bd)]);}catch(_0x6236b2){console[_0x31332b(0x2c7)](_0x31332b(0xb07),_0x6236b2),showMessage('เกิดข้อผิดพลาด:\x20'+_0x6236b2[_0x31332b(0x700)]);}}async function handleJoinGroupActivity(){const _0x297e14=_0xdd45b5,_0x2ef3a3=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x2ef3a3||_0x2ef3a3['trim']()[_0x297e14(0x9f1)]!==0x4){showMessage(_0x297e14(0x64a));return;}const _0x2bc232=_0x2ef3a3[_0x297e14(0x7ae)]();showMessage(_0x297e14(0x71d));try{const _0x31befc=collection(db,_0x297e14(0xb4)+appId+'/public/data/teamQuizzes'),_0x27e99c=query(_0x31befc,where(_0x297e14(0x253),'==',_0x2bc232),where('status','==',_0x297e14(0xb23))),_0x491576=await getDocs(_0x27e99c);if(!_0x491576['empty']){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x491576['docs'][0x0]);return;}const _0x5e0a0d=collection(db,_0x297e14(0xb4)+appId+'/public/data/syncGames'),_0x281c71=query(_0x5e0a0d,where('pin','==',_0x2bc232),where(_0x297e14(0x56c),'==',_0x297e14(0xb23))),_0x21801d=await getDocs(_0x281c71);if(!_0x21801d[_0x297e14(0x7f1)]){console[_0x297e14(0x3b7)](_0x297e14(0x88f)),await proceedWithSyncQuizJoin(_0x21801d[_0x297e14(0x627)][0x0]);return;}showMessage(_0x297e14(0xa93));}catch(_0xe2632a){console['error'](_0x297e14(0x2da),_0xe2632a),showMessage(_0x297e14(0x16d)+_0xe2632a[_0x297e14(0x700)]);}}async function proceedWithTeamQuizJoin(_0x262557){const _0x50a63d=_0xdd45b5;currentTeamQuizId=_0x262557['id'];const _0x57a6a4=_0x262557['data'](),_0x244106=doc(db,_0x50a63d(0xb4)+appId+_0x50a63d(0x971),_0x57a6a4['projectId']),_0x3c6bce=doc(db,_0x50a63d(0xb4)+appId+'/public/data/quizzes',_0x57a6a4[_0x50a63d(0x559)]),[_0x18e9ad,_0x38f349]=await Promise[_0x50a63d(0x906)]([getDoc(_0x244106),getDoc(_0x3c6bce)]);if(!_0x18e9ad[_0x50a63d(0x935)]()||!_0x38f349[_0x50a63d(0x935)]())throw new Error(_0x50a63d(0x44d));currentQuizData=getShuffledQuiz({'id':_0x38f349['id'],..._0x38f349[_0x50a63d(0xa1d)]()}),showTeamPlayerSelection(_0x18e9ad[_0x50a63d(0xa1d)]()['students'],currentQuizData[_0x50a63d(0x6bd)],_0x57a6a4[_0x50a63d(0xb81)]||_0x50a63d(0x2ed)),messageModal[_0x50a63d(0x8c0)]['add'](_0x50a63d(0x2ee));}async function proceedWithSyncQuizJoin(_0x5c8fb5){const _0x4ab58f=_0xdd45b5;currentLiveGameId=_0x5c8fb5['id'];const _0x3b2e71=_0x5c8fb5['data'](),_0x1635ce=doc(db,_0x4ab58f(0xb4)+appId+_0x4ab58f(0xcba),_0x3b2e71[_0x4ab58f(0x559)]),_0x30e4c9=await getDoc(_0x1635ce);if(!_0x30e4c9[_0x4ab58f(0x935)]())throw new Error(_0x4ab58f(0x226));const _0xa144c8=_0x30e4c9['data'](),_0x9564e3=doc(db,_0x4ab58f(0xb4)+appId+_0x4ab58f(0x971),_0xa144c8[_0x4ab58f(0xa60)]),_0x432c08=await getDoc(_0x9564e3);if(!_0x432c08[_0x4ab58f(0x935)]())throw new Error(_0x4ab58f(0x91b));currentQuizData=_0x3b2e71[_0x4ab58f(0x109)],showView(_0x4ab58f(0x2a1)),showTeamPlayerSelection(_0x432c08[_0x4ab58f(0xa1d)]()[_0x4ab58f(0x8f4)],_0xa144c8[_0x4ab58f(0x6bd)],_0x4ab58f(0x656)),document[_0x4ab58f(0xbd5)](_0x4ab58f(0x416))['onclick']=confirmAndJoinSyncGame,messageModal['classList'][_0x4ab58f(0x9ff)]('hidden');}function getCleanApplicationHTML(){const _0x57ff61=_0xdd45b5,_0x48ff47=document[_0x57ff61(0xbd5)](_0x57ff61(0x6c1));if(!_0x48ff47)return'';const _0x2a190f=_0x48ff47[_0x57ff61(0x37f)](!![]);return _0x2a190f[_0x57ff61(0x197)](_0x57ff61(0x3dc))[_0x57ff61(0x947)](_0x509e02=>{const _0x51491f=_0x57ff61;_0x509e02['classList'][_0x51491f(0x3b9)]('correct','incorrect'),_0x509e02[_0x51491f(0x256)]=![];}),_0x2a190f[_0x57ff61(0x553)];}function showTeamPlayerSelection(_0x5a5647,_0x1cadf5,_0x44c23a=_0xdd45b5(0x2ed)){const _0x503162=_0xdd45b5;studentInitialView[_0x503162(0x8c0)][_0x503162(0x9ff)]('hidden'),studentJoinGameView[_0x503162(0x8c0)][_0x503162(0x9ff)](_0x503162(0x2ee)),document[_0x503162(0xbd5)](_0x503162(0x3aa))[_0x503162(0x8c0)][_0x503162(0x3b9)](_0x503162(0x2ee));let _0x29c643=_0x503162(0xa2);if(_0x44c23a===_0x503162(0x96a))_0x29c643=_0x503162(0x7ab);else _0x44c23a==='sync'&&(_0x29c643=_0x503162(0x575));document[_0x503162(0xbd5)](_0x503162(0x509))[_0x503162(0x5e0)]=_0x29c643+':\x20'+_0x1cadf5;const _0x38e0e8=document['getElementById']('team-student-list');if(!_0x5a5647||_0x5a5647[_0x503162(0x9f1)]===0x0){_0x38e0e8[_0x503162(0x553)]=_0x503162(0x7cb),document[_0x503162(0xbd5)]('confirm-team-players-btn')[_0x503162(0x256)]=!![];return;}_0x38e0e8['innerHTML']=_0x5a5647[_0x503162(0xb43)](_0x17d858=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x17d858+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x17d858+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x503162(0xb92)](''),document[_0x503162(0xbd5)]('confirm-team-players-btn')[_0x503162(0x256)]=![];}async function confirmAndStartTeamQuiz(){const _0x4304a3=_0xdd45b5,_0xf64d73=Array[_0x4304a3(0x4f9)](document[_0x4304a3(0x197)](_0x4304a3(0x57a)))[_0x4304a3(0xb43)](_0x3da42a=>_0x3da42a[_0x4304a3(0xc1a)]);if(_0xf64d73[_0x4304a3(0x9f1)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0xf64d73,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x4a3487=doc(db,_0x4304a3(0xb4)+appId+_0x4304a3(0x263),currentTeamQuizId);try{const _0x111e71=await getDoc(_0x4a3487);if(!_0x111e71[_0x4304a3(0x935)]())throw new Error('ไม่พบข้อมูลเกม');const _0x2a1bbc=_0x111e71['data']();if(_0x2a1bbc[_0x4304a3(0xb81)]===_0x4304a3(0x96a)){const _0x502f55={[_0x4304a3(0x6cc)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x4a3487,_0x502f55);}else{const _0x6f6b60=_0x2a1bbc[_0x4304a3(0x903)]||{};localTeamPlayers[_0x4304a3(0x947)](_0x304df6=>{!_0x6f6b60[_0x304df6]&&(_0x6f6b60[_0x304df6]={'score':0x0,'answers':[]});}),await updateDoc(_0x4a3487,{'responses':_0x6f6b60});}document[_0x4304a3(0xbd5)](_0x4304a3(0x3aa))[_0x4304a3(0x8c0)]['add'](_0x4304a3(0x2ee)),renderTeamQuizQuestion();const _0x37ba9c={'gameId':currentTeamQuizId,'mode':_0x2a1bbc['mode']||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4304a3(0x5eb)](_0x4304a3(0x346),JSON[_0x4304a3(0xbd9)](_0x37ba9c)),listenForTeamQuizUpdates();}catch(_0x24eea0){console[_0x4304a3(0x2c7)](_0x4304a3(0x574),_0x24eea0),showMessage(_0x4304a3(0x6fd));}}async function renderTeamQuizQuestion(){const _0x525329=_0xdd45b5;if(localQuestionIndex>=currentQuizData[_0x525329(0x69e)][_0x525329(0x9f1)]){displayTeamQuizFinalResults();return;}const _0x502b07=currentQuizData['questions'][localQuestionIndex],_0xb13fe=localTeamPlayers[localPlayerIndex],_0x1e2daa=_0x502b07[_0x525329(0x40c)]||currentQuizData[_0x525329(0x51a)];let _0x15e0d3=_0x502b07['stem']||_0x502b07[_0x525329(0x72b)],_0x48f0f0='';switch(_0x1e2daa){case _0x525329(0xad4):case _0x525329(0x1bb):_0x48f0f0=_0x502b07[_0x525329(0x996)][_0x525329(0xb43)]((_0x37528b,_0x2ef35a)=>_0x525329(0x555)+_0x2ef35a+_0x525329(0x1f7)+_0x2ef35a+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x2ef35a+'\x22>'+_0x37528b+_0x525329(0xc61))[_0x525329(0xb92)]('');break;case'true_false':_0x48f0f0=_0x525329(0x5b9);break;case _0x525329(0x5ed):case'fill_in_no_choices':_0x48f0f0=_0x525329(0x26a);break;case _0x525329(0xc6):_0x48f0f0=_0x525329(0x9e)+_0x502b07[_0x525329(0x710)]['map'](_0x5c6b99=>'<option\x20value=\x22'+_0x5c6b99+'\x22>'+_0x5c6b99+_0x525329(0x9fc))['join']('')+_0x525329(0x32c);break;default:_0x48f0f0='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x525329(0x553)]=_0x525329(0x591)+(localQuestionIndex+0x1)+_0x525329(0xa8b)+currentQuizData[_0x525329(0x69e)]['length']+_0x525329(0x3d2)+_0xb13fe+_0x525329(0x82e)+(localQuestionIndex+0x1)+'.\x20'+_0x15e0d3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x502b07['imageCode']?_0x525329(0x254)+_0x502b07[_0x525329(0x1a9)]+_0x525329(0x969):'')+_0x525329(0x9c4)+_0x48f0f0+_0x525329(0x5fb),studentQuizArea[_0x525329(0x8c0)][_0x525329(0x3b9)](_0x525329(0x2ee));if(window['MathJax'])MathJax[_0x525329(0x679)]([studentQuizArea]);document['getElementById']('submit-team-answer-btn')[_0x525329(0x915)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x1182c2=_0xdd45b5,_0x2b39bf=currentQuizData[_0x1182c2(0x69e)][localQuestionIndex],_0x594d30=_0x2b39bf[_0x1182c2(0x40c)]||currentQuizData[_0x1182c2(0x51a)];let _0xff18ac=null,_0x2fb47a=![];if(_0x594d30===_0x1182c2(0x5ed)||_0x594d30==='fill_in_no_choices'){const _0x5bf1f4=document[_0x1182c2(0x5db)](_0x1182c2(0x76e));if(!_0x5bf1f4||!_0x5bf1f4['value'][_0x1182c2(0x7ae)]()){showMessage(_0x1182c2(0xc1d));return;}_0xff18ac=_0x5bf1f4[_0x1182c2(0xc1a)][_0x1182c2(0x7ae)](),_0x2fb47a=await gradeShortAnswer(_0xff18ac,_0x2b39bf);}else{const _0xe6b446=document[_0x1182c2(0x5db)](_0x1182c2(0x881));if(!_0xe6b446||_0xe6b446['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0xff18ac=_0xe6b446[_0x1182c2(0xc1a)];switch(_0x594d30){case _0x1182c2(0xa62):_0x2fb47a=_0xff18ac===_0x1182c2(0x332)===_0x2b39bf[_0x1182c2(0xa7d)];break;case _0x1182c2(0xc6):_0x2fb47a=_0xff18ac===_0x2b39bf[_0x1182c2(0xc67)];break;default:_0x2fb47a=parseInt(_0xff18ac)===_0x2b39bf[_0x1182c2(0x51c)];break;}}const _0x524475={'questionIndex':localQuestionIndex,'isCorrect':_0x2fb47a},_0x475496=userId,_0x2fb576={[_0x1182c2(0x6cc)+_0x475496+_0x1182c2(0x757)]:arrayUnion(_0x524475)};_0x2fb47a&&(_0x2fb576[_0x1182c2(0x6cc)+_0x475496+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x1182c2(0x263),currentTeamQuizId),_0x2fb576),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x1182c2(0x69e)][_0x1182c2(0x9f1)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x3af41f){console[_0x1182c2(0x2c7)](_0x1182c2(0xabe),_0x3af41f),showMessage(_0x1182c2(0x1b4));}}async function handleTeamAnswerSubmit(){const _0x29d1b5=_0xdd45b5,_0x186c5b=await getDoc(doc(db,'artifacts/'+appId+_0x29d1b5(0x263),currentTeamQuizId));if(!_0x186c5b[_0x29d1b5(0x935)]())return;const _0x15767c=_0x186c5b[_0x29d1b5(0xa1d)]();if(_0x15767c[_0x29d1b5(0xb81)]===_0x29d1b5(0x96a)){handleGroupAnswerSubmit();return;}const _0x31839e=localTeamPlayers[localPlayerIndex],_0x5d0c44=currentQuizData[_0x29d1b5(0x69e)][localQuestionIndex],_0x324c2e=_0x5d0c44[_0x29d1b5(0x40c)]||currentQuizData[_0x29d1b5(0x51a)];let _0x139788=null,_0xd58b2b=![];if(_0x324c2e===_0x29d1b5(0x5ed)||_0x324c2e===_0x29d1b5(0xb7f)){const _0x42a663=document[_0x29d1b5(0x5db)]('textarea[name=\x22team_answer\x22]');if(!_0x42a663||!_0x42a663[_0x29d1b5(0xc1a)][_0x29d1b5(0x7ae)]()){showMessage(_0x29d1b5(0x8b5));return;}_0x139788=_0x42a663[_0x29d1b5(0xc1a)][_0x29d1b5(0x7ae)](),_0xd58b2b=await gradeShortAnswer(_0x139788,_0x5d0c44);}else{const _0x26c87a=document[_0x29d1b5(0x5db)](_0x29d1b5(0x881));if(!_0x26c87a||_0x26c87a['value']===''){showMessage(_0x29d1b5(0x24c));return;}_0x139788=_0x26c87a[_0x29d1b5(0xc1a)];switch(_0x324c2e){case'true_false':_0xd58b2b=_0x139788===_0x29d1b5(0x332)===_0x5d0c44['correctAnswer'];break;case _0x29d1b5(0xc6):_0xd58b2b=_0x139788===_0x5d0c44[_0x29d1b5(0xc67)];break;default:_0xd58b2b=parseInt(_0x139788)===_0x5d0c44['correctAnswerIndex'];break;}}const _0x2e647a={'questionIndex':localQuestionIndex,'isCorrect':_0xd58b2b,'answerValue':_0x139788},_0x32103a={['responses.'+_0x31839e+_0x29d1b5(0x757)]:arrayUnion(_0x2e647a)};_0xd58b2b&&(_0x32103a[_0x29d1b5(0x3ec)+_0x31839e+_0x29d1b5(0x8f8)]=increment(0x1));try{await updateDoc(doc(db,_0x29d1b5(0xb4)+appId+_0x29d1b5(0x263),currentTeamQuizId),_0x32103a),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x29d1b5(0x9f1)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x249281){console[_0x29d1b5(0x2c7)](_0x29d1b5(0x3d4),_0x249281),showMessage(_0x29d1b5(0x1b4));}}async function displayTeamQuizFinalResults(){const _0x1d60fb=_0xdd45b5;studentQuizArea['classList'][_0x1d60fb(0x9ff)]('hidden'),studentResultArea[_0x1d60fb(0x8c0)]['remove']('hidden');const _0x250df=doc(db,_0x1d60fb(0xb4)+appId+_0x1d60fb(0x263),currentTeamQuizId),_0xd83108=await getDoc(_0x250df);if(!_0xd83108[_0x1d60fb(0x935)]()){studentResultArea[_0x1d60fb(0x553)]=_0x1d60fb(0xa17);return;}const _0x14d084=_0xd83108[_0x1d60fb(0xa1d)]();let _0x20db88=[];const _0x51bbf5=_0x14d084[_0x1d60fb(0xb81)]||_0x1d60fb(0x2ed);if(_0x51bbf5===_0x1d60fb(0x96a)){const _0xce440a=_0x14d084['groups'][userId];_0xce440a?_0x20db88=[{'name':_0x1d60fb(0x989)+localTeamPlayers[_0x1d60fb(0xb92)](',\x20'),'score':_0xce440a['score']||0x0}]:_0x20db88=[{'name':_0x1d60fb(0x5f9),'score':'N/A'}];}else _0x20db88=localTeamPlayers[_0x1d60fb(0xb43)](_0x304e42=>({'name':_0x304e42,'score':_0x14d084[_0x1d60fb(0x903)][_0x304e42]?.[_0x1d60fb(0x9e7)]||0x0}))[_0x1d60fb(0x50a)]((_0x3dae23,_0x5a7ec3)=>_0x5a7ec3[_0x1d60fb(0x9e7)]-_0x3dae23['score']);studentResultArea[_0x1d60fb(0x553)]=_0x1d60fb(0x8dc)+_0x20db88['map'](_0x349580=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x349580[_0x1d60fb(0x8aa)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x349580['score']+_0x1d60fb(0x8fe))['join']('')+_0x1d60fb(0x4a8),sessionStorage[_0x1d60fb(0x49d)]('activeGameSession'),currentMode===_0x1d60fb(0xba1)&&currentTeamQuizId&&setTimeout(()=>{const _0x8a5ec0=_0x1d60fb;deleteDoc(doc(db,'artifacts/'+appId+_0x8a5ec0(0x263),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0xdd45b5(0xb29),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x2f6)},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x316)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x827)},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x48e)},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x318)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x42c)},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x382)},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x7a2)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x44f)},{'category':_0xdd45b5(0xa3),'name':'ค่าสัมบูรณ์'},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0xc01)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x6ae)},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x36e)},{'category':_0xdd45b5(0xa3),'name':'ค.ร.น.\x20(LCM)'},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x684)},{'category':_0xdd45b5(0xa3),'name':'อัตราและอัตราหน่วย'},{'category':_0xdd45b5(0xa3),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x1e0)},{'category':_0xdd45b5(0xa3),'name':'การลบเศษส่วน'},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x177)},{'category':_0xdd45b5(0xa3),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x2ae)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0xa14)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0xb0d)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0xc63)},{'category':_0xdd45b5(0xa3),'name':'การคูณทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x868)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x2fb)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x6ff)},{'category':_0xdd45b5(0xa3),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x809)},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0x8ba)},{'category':'จำนวนและการดำเนินการ','name':_0xdd45b5(0xab5)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x2a8)},{'category':_0xdd45b5(0xa3),'name':_0xdd45b5(0x231)},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0x1d8)},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0xb66)},{'category':_0xdd45b5(0xb15),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':'การวัด','name':_0xdd45b5(0x6b9)},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0x5f0)},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0x81a)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0x585)},{'category':_0xdd45b5(0xb15),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0x384)},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0x673)},{'category':_0xdd45b5(0xb15),'name':_0xdd45b5(0x8f0)},{'category':'การวัด','name':'สเกลและแผนที่'},{'category':_0xdd45b5(0xb15),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x5de)},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x367)},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x84b)},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x585)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':'เรขาคณิต','name':_0xdd45b5(0x20f)},{'category':'เรขาคณิต','name':_0xdd45b5(0x2d1)},{'category':'เรขาคณิต','name':_0xdd45b5(0x91e)},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x529)},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x768)},{'category':'เรขาคณิต','name':_0xdd45b5(0x48b)},{'category':'เรขาคณิต','name':_0xdd45b5(0x857)},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x5e5)},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0xdd45b5(0x1e7),'name':_0xdd45b5(0x67c)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0xb4d)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0xb6d)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x874)},{'category':_0xdd45b5(0x7c7),'name':'การแยกตัวประกอบ'},{'category':_0xdd45b5(0x7c7),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0xa6f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xdd45b5(0x578)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x543)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xdd45b5(0xbca)},{'category':_0xdd45b5(0x7c7),'name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xdd45b5(0x48c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xdd45b5(0x163)},{'category':_0xdd45b5(0x7c7),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xdd45b5(0x391)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0xacd)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x8cb)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x9ab)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x6d2)},{'category':_0xdd45b5(0x7c7),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0xdd45b5(0x7c7),'name':'ฟังก์ชันผกผัน'},{'category':_0xdd45b5(0x7c7),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xdd45b5(0x97f)},{'category':_0xdd45b5(0x7c7),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xdd45b5(0x22b)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x946)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0xa32)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x4b1)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x6d9)},{'category':_0xdd45b5(0x7c7),'name':'ฟังก์ชันลอการิทึม'},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x8e6)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x206)},{'category':_0xdd45b5(0x7c7),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x7d4)},{'category':_0xdd45b5(0x7c7),'name':_0xdd45b5(0x8f9)},{'category':_0xdd45b5(0x977),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0xdd45b5(0x6a0)},{'category':_0xdd45b5(0x977),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0xdd45b5(0x977),'name':_0xdd45b5(0x740)},{'category':_0xdd45b5(0x977),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0xdd45b5(0x977),'name':_0xdd45b5(0xbbf)},{'category':'เรขาคณิตวิเคราะห์','name':_0xdd45b5(0x7ec)},{'category':'เรขาคณิตวิเคราะห์','name':_0xdd45b5(0x2c4)},{'category':_0xdd45b5(0x977),'name':_0xdd45b5(0x17e)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0x46e)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0xa58)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0x1df)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0x765)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0x8c2)},{'category':'ตรีโกณมิติ','name':_0xdd45b5(0x7f2)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0x1ac)},{'category':_0xdd45b5(0xbc4),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0xc10)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0xbbd)},{'category':_0xdd45b5(0xbc4),'name':_0xdd45b5(0xbf8)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0xe7)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x514)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0xac3)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0xa19)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x4d0)},{'category':'สถิติและความน่าจะเป็น','name':_0xdd45b5(0x2c9)},{'category':_0xdd45b5(0x799),'name':'ค่าเฉลี่ย'},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x3ce)},{'category':_0xdd45b5(0x799),'name':'ฐานนิยม'},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0xc38)},{'category':_0xdd45b5(0x799),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x2f2)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0xb20)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x106)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x35b)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x3b5)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0xa3b)},{'category':_0xdd45b5(0x799),'name':'แผนภาพเวนน์'},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x78f)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x240)},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x19e)},{'category':_0xdd45b5(0x799),'name':'การจัดหมู่\x20(Combination)'},{'category':_0xdd45b5(0x799),'name':_0xdd45b5(0x952)},{'category':_0xdd45b5(0x799),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':_0xdd45b5(0x45f),'name':'ความต่อเนื่อง'},{'category':_0xdd45b5(0x45f),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0xdd45b5(0x45f),'name':_0xdd45b5(0xc6d)},{'category':'แคลคูลัสเบื้องต้น','name':_0xdd45b5(0x2c0)},{'category':'แคลคูลัสเบื้องต้น','name':_0xdd45b5(0x2a7)},{'category':'แคลคูลัสเบื้องต้น','name':_0xdd45b5(0x87d)},{'category':_0xdd45b5(0x45f),'name':_0xdd45b5(0x454)},{'category':_0xdd45b5(0x45f),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':_0xdd45b5(0x45f),'name':_0xdd45b5(0x5f1)},{'category':_0xdd45b5(0x45f),'name':'ปริพันธ์จำกัด'},{'category':_0xdd45b5(0x45f),'name':_0xdd45b5(0xc42)},{'category':_0xdd45b5(0x45f),'name':_0xdd45b5(0x771)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0xdd45b5(0xaf6),'name':_0xdd45b5(0xc60)},{'category':_0xdd45b5(0xaf6),'name':_0xdd45b5(0x40a)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xdd45b5(0xd7)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xdd45b5(0x479)},{'category':_0xdd45b5(0xaf6),'name':_0xdd45b5(0x23b)},{'category':_0xdd45b5(0xaf6),'name':_0xdd45b5(0x364)},{'category':_0xdd45b5(0x639),'name':_0xdd45b5(0xbc1)},{'category':'คณิตการเงิน/บูรณาการ','name':_0xdd45b5(0x601)},{'category':_0xdd45b5(0x639),'name':_0xdd45b5(0x290)},{'category':'คณิตการเงิน/บูรณาการ','name':_0xdd45b5(0x795)},{'category':'คณิตการเงิน/บูรณาการ','name':_0xdd45b5(0x7b6)},{'category':_0xdd45b5(0x927),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0xdd45b5(0x75a)},{'category':_0xdd45b5(0x927),'name':_0xdd45b5(0x9f4)}];function renderTopicCheckboxes(){const _0x36af54=_0xdd45b5,_0x35ef18=document[_0x36af54(0xbd5)](_0x36af54(0x804));if(!_0x35ef18)return;const _0x289688=allMathTopics,_0x5dcc53=customMathTopics[_0x36af54(0xb43)](_0x13d9d2=>({'id':_0x13d9d2['id'],'category':'หัวข้อที่สร้างเอง','name':_0x13d9d2[_0x36af54(0x8aa)]})),_0x2680a0=[..._0x289688,..._0x5dcc53],_0x5541f4=_0x2680a0[_0x36af54(0xdb)]((_0xece74d,_0x18f258)=>{const _0xfcaca9=_0x36af54;return!_0xece74d[_0x18f258[_0xfcaca9(0x75e)]]&&(_0xece74d[_0x18f258['category']]=[]),_0xece74d[_0x18f258['category']]['push'](_0x18f258),_0xece74d;},{});let _0x43aa35='';const _0x547357=[_0x36af54(0xb6e),...Object[_0x36af54(0x2df)](_0x5541f4)[_0x36af54(0x26c)](_0x5df2a5=>_0x5df2a5!==_0x36af54(0xb6e))];for(const _0x163ea5 of _0x547357){if(_0x5541f4[_0x163ea5]){const _0x234798=_0x163ea5===_0x36af54(0xb6e),_0x26e2d9=_0x234798?_0x36af54(0xacc):_0x36af54(0x85f),_0x31110f=_0x234798?_0x36af54(0xa6a):_0x36af54(0x53c);_0x43aa35+=_0x36af54(0x3f8),_0x43aa35+=_0x36af54(0x8e8)+_0x31110f+_0x36af54(0x8b3)+_0x26e2d9+'\x20mr-2\x22></i>'+_0x163ea5+_0x36af54(0x57f),_0x5541f4[_0x163ea5][_0x36af54(0x947)](_0x4a29dc=>{const _0x1626e2=_0x36af54,_0x15edca=!!_0x4a29dc['id'],_0x283b49=_0x15edca?_0x1626e2(0x9a3)+_0x4a29dc['id']+_0x1626e2(0x724)+_0x4a29dc['id']+_0x1626e2(0xa5b)+_0x4a29dc['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a29dc['id']+_0x1626e2(0x55c):'';_0x43aa35+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x4a29dc['id']||'')+_0x1626e2(0x688)+_0x4a29dc[_0x1626e2(0x8aa)]+_0x1626e2(0x3e4)+_0x4a29dc[_0x1626e2(0x8aa)]+_0x1626e2(0x2e7)+(_0x15edca?_0x1626e2(0x443)+_0x4a29dc[_0x1626e2(0x8aa)]+'\x22>':'')+_0x1626e2(0xa9f)+_0x283b49+_0x1626e2(0x275);}),_0x43aa35+=_0x36af54(0x969);}}_0x35ef18[_0x36af54(0x553)]=_0x43aa35||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x35ef18['removeEventListener'](_0x36af54(0x77e),updateSelectedTopicsCount),_0x35ef18['addEventListener'](_0x36af54(0x77e),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2f2efb,_0x13ca2a){const _0x445f61=_0xdd45b5;if(!_0x2f2efb||!_0x13ca2a[_0x445f61(0x7ae)]()){showMessage(_0x445f61(0xa82));return;}try{const _0x362c05=doc(db,'artifacts/'+appId+_0x445f61(0x74b),_0x2f2efb);await updateDoc(_0x362c05,{'name':_0x13ca2a[_0x445f61(0x7ae)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x50f099){console[_0x445f61(0x2c7)](_0x445f61(0x948),_0x50f099),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x3090fa,_0x64bbb0){const _0x35592d=_0xdd45b5;if(!_0x3090fa)return;const _0xaa8572=_0x3090fa[_0x35592d(0x5db)](_0x35592d(0x9ae)),_0x3aaecb=_0x3090fa[_0x35592d(0x5db)](_0x35592d(0x8d9)),_0x1e33ca=_0x3090fa[_0x35592d(0x5db)]('.topic-actions-view'),_0x58cd99=_0x3090fa[_0x35592d(0x5db)](_0x35592d(0x50c));_0xaa8572[_0x35592d(0x8c0)][_0x35592d(0x6e2)](_0x35592d(0x2ee),_0x64bbb0),_0x3aaecb[_0x35592d(0x8c0)]['toggle'](_0x35592d(0x2ee),!_0x64bbb0),_0x1e33ca[_0x35592d(0x8c0)][_0x35592d(0x6e2)](_0x35592d(0x2ee),_0x64bbb0),_0x58cd99[_0x35592d(0x8c0)][_0x35592d(0x6e2)](_0x35592d(0x2ee),!_0x64bbb0),_0x64bbb0&&(_0x3aaecb['focus'](),_0x3aaecb[_0x35592d(0x46d)]());}async function handleStartLiveRace(_0x2f113e){const _0x4d8a51=_0xdd45b5;let _0x1eb83c=allQuizzes['find'](_0xeb3ba5=>_0xeb3ba5['id']===_0x2f113e);if(!_0x1eb83c){const _0x10aa06=doc(db,_0x4d8a51(0xb4)+appId+_0x4d8a51(0xcba),_0x2f113e),_0x369afa=await getDoc(_0x10aa06);if(!_0x369afa[_0x4d8a51(0x935)]()){showMessage(_0x4d8a51(0x226));return;}_0x1eb83c={'id':_0x369afa['id'],..._0x369afa['data']()};}const _0x41c8fc=getShuffledQuiz(_0x1eb83c);currentQuizData=_0x41c8fc;const _0x3fc1f6=_0x1eb83c[_0x4d8a51(0xa60)]||currentProjectId||null,_0x589cfc=Math[_0x4d8a51(0x28f)](0x3e8+Math['random']()*0x2328)[_0x4d8a51(0x467)]();currentLiveGamePin=_0x589cfc;try{const _0x31e3d0=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x2f113e,'projectId':_0x3fc1f6,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x589cfc,'createdAt':serverTimestamp(),'shuffledQuiz':_0x41c8fc});currentLiveGameId=_0x31e3d0['id'],showAdminLobbyView(_0x589cfc,_0x1eb83c[_0x4d8a51(0x6bd)]),listenForLiveGameUpdates();}catch(_0x56ea1f){console[_0x4d8a51(0x2c7)](_0x4d8a51(0x36b),_0x56ea1f),showMessage(_0x4d8a51(0x8d7));}}function updateSelectedTopicsCount(){const _0x5bb317=_0xdd45b5,_0x115b13=document[_0x5bb317(0xbd5)](_0x5bb317(0x804)),_0x575589=_0x115b13[_0x5bb317(0x197)]('input[type=\x22checkbox\x22]:checked')[_0x5bb317(0x9f1)],_0x18f21d=document[_0x5bb317(0xbd5)](_0x5bb317(0x292));_0x575589>0x0?_0x18f21d[_0x5bb317(0x5e0)]=_0x5bb317(0x614)+_0x575589+_0x5bb317(0xaf2):_0x18f21d[_0x5bb317(0x5e0)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0xdd45b5(0xc69),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0xdd45b5(0x9cd),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0xdd45b5(0x7a0),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0xdd45b5(0x1f0),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4b1a12,_0x49f749){const _0x3d8850=_0xdd45b5;return Math['sqrt'](Math[_0x3d8850(0x36d)](_0x4b1a12['x']-_0x49f749['x'],0x2)+Math[_0x3d8850(0x36d)](_0x4b1a12['y']-_0x49f749['y'],0x2));}function getMidpoint(_0x258b8c,_0x267562){return{'x':(_0x258b8c['x']+_0x267562['x'])/0x2,'y':(_0x258b8c['y']+_0x267562['y'])/0x2};}function getTransformedPoint(_0x491ab5,_0x312530){return{'x':(_0x491ab5-scratchpadOffset['x'])/scratchpadScale,'y':(_0x312530-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x30853a=_0xdd45b5;if(!scratchpadCtx)return;const _0x3455dd=scratchpadCtx[_0x30853a(0x92b)],_0x14c659=window[_0x30853a(0x763)]||0x1,_0x34acb1=document[_0x30853a(0xbd5)](_0x30853a(0x958));_0x34acb1&&(_0x34acb1[_0x30853a(0x125)][_0x30853a(0x1f1)]=_0x30853a(0x490),_0x34acb1[_0x30853a(0x125)][_0x30853a(0x174)]=_0x30853a(0x3ef)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x30853a(0x769)](),scratchpadCtx[_0x30853a(0x92f)](_0x14c659,0x0,0x0,_0x14c659,0x0,0x0),scratchpadCtx[_0x30853a(0x610)](0x0,0x0,_0x3455dd[_0x30853a(0xc9f)],_0x3455dd[_0x30853a(0x645)]),scratchpadCtx['restore'](),scratchpadCtx[_0x30853a(0x769)](),scratchpadCtx[_0x30853a(0x676)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x30853a(0xb04)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x4a7107=>{drawStroke(_0x4a7107);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x30853a(0x2e5)]();}function renderGroupModeQuestion(){const _0x26999b=_0xdd45b5;if(localQuestionIndex>=currentQuizData[_0x26999b(0x69e)][_0x26999b(0x9f1)]){displayTeamQuizFinalResults();return;}const _0x262764=currentQuizData['questions'][localQuestionIndex],_0x76ba75=_0x262764[_0x26999b(0x40c)]||currentQuizData[_0x26999b(0x51a)];let _0xa95fd5=_0x262764[_0x26999b(0xbb0)]||_0x262764['questionText'],_0x119993='';switch(_0x76ba75){case _0x26999b(0xad4):case _0x26999b(0x1bb):_0x119993=_0x262764[_0x26999b(0x996)]['map']((_0x8cdc4d,_0x249a53)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x249a53+_0x26999b(0x1f7)+_0x249a53+_0x26999b(0x2ff)+_0x249a53+'\x22>'+_0x8cdc4d+_0x26999b(0xc61))[_0x26999b(0xb92)]('');break;case _0x26999b(0xa62):_0x119993=_0x26999b(0x5b9);break;case _0x26999b(0x5ed):case _0x26999b(0xb7f):_0x119993=_0x26999b(0x607);break;case _0x26999b(0xc6):_0x119993=_0x26999b(0x9e)+_0x262764[_0x26999b(0x710)]['map'](_0x2b96c0=>_0x26999b(0xafe)+_0x2b96c0+'\x22>'+_0x2b96c0+_0x26999b(0x9fc))[_0x26999b(0xb92)]('')+'</select>';break;default:_0x119993=_0x26999b(0x9f);break;}studentQuizArea[_0x26999b(0x553)]=_0x26999b(0x591)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x26999b(0x69e)][_0x26999b(0x9f1)]+_0x26999b(0x83c)+localTeamPlayers['join'](',\x20')+_0x26999b(0x82e)+(localQuestionIndex+0x1)+'.\x20'+_0xa95fd5+_0x26999b(0x9b1)+(_0x262764[_0x26999b(0x1a9)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x262764[_0x26999b(0x1a9)]+_0x26999b(0x969):'')+_0x26999b(0x9c4)+_0x119993+_0x26999b(0xadb),studentQuizArea[_0x26999b(0x8c0)]['remove'](_0x26999b(0x2ee));if(window[_0x26999b(0x9dd)])MathJax[_0x26999b(0x679)]([studentQuizArea]);document[_0x26999b(0xbd5)](_0x26999b(0xa0a))[_0x26999b(0x915)](_0x26999b(0x98f),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2af678,_0x14ac7d=null,_0x240981,_0x3d2a03=null,_0x2994c2=![],_0xd03a7d=null){const _0x5a213e=_0xdd45b5,_0x724556=document[_0x5a213e(0xbd5)]('quiz-generation-area');_0x724556&&_0x724556[_0x5a213e(0xca2)]({'behavior':_0x5a213e(0x299),'block':_0x5a213e(0x5c5)}),generateQuiz(_0x2af678,_0x14ac7d,null,_0xd03a7d,!![],_0x240981,_0x3d2a03,_0x2994c2);}function handleGenerateAndShowLesson(_0x5c2086,_0x18c454){const _0x375ab8=_0xdd45b5,_0x5afd72=document['getElementById'](_0x375ab8(0x95b)),_0x314e6e=document[_0x375ab8(0xbd5)](_0x375ab8(0x9f6)),_0x1c9d04=document[_0x375ab8(0xbd5)](_0x375ab8(0xb3c)),_0x5cbd69=document[_0x375ab8(0xbd5)](_0x375ab8(0x27e));['pointContent',_0x375ab8(0x57d),_0x375ab8(0x6c1),_0x375ab8(0x615)]['forEach'](_0x4c6930=>{const _0x758378=_0x375ab8,_0xc381e=document[_0x758378(0xbd5)](_0x4c6930)[_0x758378(0x39f)];_0xc381e&&(_0xc381e[_0x758378(0x125)][_0x758378(0xc0b)]='block');}),_0x314e6e[_0x375ab8(0x5e0)]=_0x375ab8(0x6ab)+_0x5c2086,_0x5cbd69[_0x375ab8(0x8c0)][_0x375ab8(0x9ff)](_0x375ab8(0x2ee)),_0x1c9d04[_0x375ab8(0x8c0)][_0x375ab8(0x3b9)](_0x375ab8(0x2ee)),_0x5afd72[_0x375ab8(0x8c0)][_0x375ab8(0x3b9)](_0x375ab8(0x2ee)),generateLesson(_0x5c2086,_0x18c454)['catch'](_0x3a700b=>{const _0x520d8f=_0x375ab8;console['error'](_0x520d8f(0x3eb),_0x3a700b),showMessage(_0x520d8f(0xcab)),_0x5afd72[_0x520d8f(0x8c0)]['add'](_0x520d8f(0x2ee));});}function handlePointerDown(_0x3a2634){const _0x249021=_0xdd45b5;_0x3a2634[_0x249021(0xc15)]();const _0x22097e=scratchpadCtx[_0x249021(0x92b)],_0xcf668d=_0x22097e[_0x249021(0xc54)](),_0x4a7beb=_0x3a2634[_0x249021(0xb27)]||(_0x3a2634[_0x249021(0xbe7)]?_0x249021(0x51d):_0x249021(0xbf));if(_0x4a7beb==='pen'||_0x4a7beb==='mouse'){if(_0x3a2634['pointerType']==='mouse'&&_0x3a2634['button']!==0x0){_0x3a2634[_0x249021(0x9f9)]===0x1&&(isMousePanning=!![],panStart={'x':_0x3a2634['clientX'],'y':_0x3a2634['clientY']},_0x22097e[_0x249021(0x125)][_0x249021(0x62c)]=_0x249021(0xa2a));return;}activeTool===_0x249021(0x303)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4f0e63=getTransformedPoint(_0x3a2634[_0x249021(0xc33)]-_0xcf668d['left'],_0x3a2634[_0x249021(0xbcb)]-_0xcf668d['top']);let _0x288c79={'tool':activeTool,'points':[_0x4f0e63]};if(activeTool===_0x249021(0x4b4))_0x288c79['color']=scratchpadPenColor,_0x288c79['size']=scratchpadPenSize;else{if(activeTool===_0x249021(0x2d7))_0x288c79['color']=scratchpadPenColor,_0x288c79['size']=scratchpadEraserSize;else{if(activeTool===_0x249021(0x2a9))_0x288c79[_0x249021(0x136)]=scratchpadHighlighterColor,_0x288c79[_0x249021(0xb9f)]=scratchpadHighlighterSize;else activeTool===_0x249021(0x303)&&(_0x288c79[_0x249021(0x136)]=scratchpadPenColor,_0x288c79['size']=scratchpadPenSize);}}currentStroke=_0x288c79;}else _0x3a2634['touches']&&(_0x3a2634[_0x249021(0xbe7)][_0x249021(0x9f1)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3a2634[_0x249021(0xbe7)][0x0][_0x249021(0xc33)],'y':_0x3a2634[_0x249021(0xbe7)][0x0][_0x249021(0xbcb)]},{'x':_0x3a2634[_0x249021(0xbe7)][0x1][_0x249021(0xc33)],'y':_0x3a2634[_0x249021(0xbe7)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x3a2634['touches'][0x0][_0x249021(0xc33)],'y':_0x3a2634[_0x249021(0xbe7)][0x0]['clientY']},{'x':_0x3a2634['touches'][0x1][_0x249021(0xc33)],'y':_0x3a2634[_0x249021(0xbe7)][0x1][_0x249021(0xbcb)]})));}function animateTrail(){const _0x688b74=_0xdd45b5,_0x59db7f=Date[_0x688b74(0x435)]();let _0x4b661b=![];for(let _0x198667=strokes[_0x688b74(0x9f1)]-0x1;_0x198667>=0x0;_0x198667--){const _0x4886a1=strokes[_0x198667];if(_0x4886a1['tool']===_0x688b74(0x303)&&_0x4886a1[_0x688b74(0x1c7)]){const _0x4be76e=_0x59db7f-_0x4886a1[_0x688b74(0x1c7)];_0x4be76e>=TRAIL_DURATION?strokes[_0x688b74(0x239)](_0x198667,0x1):(_0x4886a1['opacity']=0x1-_0x4be76e/TRAIL_DURATION,_0x4b661b=!![]);}}redrawScratchpad(),_0x4b661b?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2e88e7){const _0x4e3208=_0xdd45b5;if(!_0x2e88e7||_0x2e88e7[_0x4e3208(0x990)][_0x4e3208(0x9f1)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x4e3208(0x79e)]=_0x4e3208(0xc47),scratchpadCtx[_0x4e3208(0x986)]='round';if(_0x2e88e7[_0x4e3208(0x8a8)]==='trail'){const _0x1b9848=_0x2e88e7[_0x4e3208(0xb9f)]/scratchpadScale;scratchpadCtx[_0x4e3208(0xc36)]=_0x2e88e7['opacity']??0x1,scratchpadCtx[_0x4e3208(0x3d0)]=_0x4e3208(0x4fe),scratchpadCtx['shadowBlur']=_0x1b9848*0x3,scratchpadCtx['strokeStyle']=_0x4e3208(0x979),scratchpadCtx[_0x4e3208(0x698)]=_0x1b9848*2.5,scratchpadCtx[_0x4e3208(0x973)](),scratchpadCtx[_0x4e3208(0xa80)](_0x2e88e7['points'][0x0]['x'],_0x2e88e7[_0x4e3208(0x990)][0x0]['y']);for(let _0x501b2d=0x1;_0x501b2d<_0x2e88e7[_0x4e3208(0x990)]['length']-0x1;_0x501b2d++){const _0xec1da9=getMidpoint(_0x2e88e7[_0x4e3208(0x990)][_0x501b2d],_0x2e88e7[_0x4e3208(0x990)][_0x501b2d+0x1]);scratchpadCtx[_0x4e3208(0xa9a)](_0x2e88e7[_0x4e3208(0x990)][_0x501b2d]['x'],_0x2e88e7['points'][_0x501b2d]['y'],_0xec1da9['x'],_0xec1da9['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x4e3208(0x3d0)]=_0x4e3208(0x45d),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x4e3208(0x537)]='#FFFFFF',scratchpadCtx[_0x4e3208(0x698)]=_0x1b9848,scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}else{if(_0x2e88e7[_0x4e3208(0x8a8)]===_0x4e3208(0x2a9)){scratchpadCtx[_0x4e3208(0x760)]='multiply',scratchpadCtx['strokeStyle']=_0x2e88e7[_0x4e3208(0x136)],scratchpadCtx[_0x4e3208(0x698)]=_0x2e88e7[_0x4e3208(0xb9f)],scratchpadCtx[_0x4e3208(0x973)](),scratchpadCtx[_0x4e3208(0xa80)](_0x2e88e7[_0x4e3208(0x990)][0x0]['x'],_0x2e88e7[_0x4e3208(0x990)][0x0]['y']);for(let _0x4bf037=0x1;_0x4bf037<_0x2e88e7[_0x4e3208(0x990)]['length']-0x1;_0x4bf037++){const _0x549b46=getMidpoint(_0x2e88e7[_0x4e3208(0x990)][_0x4bf037],_0x2e88e7[_0x4e3208(0x990)][_0x4bf037+0x1]);scratchpadCtx[_0x4e3208(0xa9a)](_0x2e88e7[_0x4e3208(0x990)][_0x4bf037]['x'],_0x2e88e7[_0x4e3208(0x990)][_0x4bf037]['y'],_0x549b46['x'],_0x549b46['y']);}scratchpadCtx[_0x4e3208(0x533)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x2e88e7['tool']===_0x4e3208(0x2d7)?'destination-out':'source-over',scratchpadCtx[_0x4e3208(0x537)]=_0x2e88e7[_0x4e3208(0x136)],scratchpadCtx[_0x4e3208(0x698)]=_0x2e88e7[_0x4e3208(0xb9f)],scratchpadCtx[_0x4e3208(0x973)](),scratchpadCtx['moveTo'](_0x2e88e7[_0x4e3208(0x990)][0x0]['x'],_0x2e88e7[_0x4e3208(0x990)][0x0]['y']);for(let _0x242a15=0x1;_0x242a15<_0x2e88e7['points'][_0x4e3208(0x9f1)]-0x1;_0x242a15++){const _0x53c572=getMidpoint(_0x2e88e7[_0x4e3208(0x990)][_0x242a15],_0x2e88e7[_0x4e3208(0x990)][_0x242a15+0x1]);scratchpadCtx[_0x4e3208(0xa9a)](_0x2e88e7[_0x4e3208(0x990)][_0x242a15]['x'],_0x2e88e7['points'][_0x242a15]['y'],_0x53c572['x'],_0x53c572['y']);}scratchpadCtx[_0x4e3208(0x533)](),scratchpadCtx[_0x4e3208(0x913)]();}}scratchpadCtx[_0x4e3208(0x2e5)]();}function handlePointerMove(_0x21b64d){const _0x4b0229=_0xdd45b5;_0x21b64d['preventDefault']();const _0x24df23=scratchpadCtx['canvas'],_0x56b47f=_0x24df23[_0x4b0229(0xc54)]();if(_0x21b64d[_0x4b0229(0xbe7)]){if(_0x21b64d['touches'][_0x4b0229(0x9f1)]===0x1&&isDrawingOnScratchpad){const _0x304b0b=getTransformedPoint(_0x21b64d[_0x4b0229(0xbe7)][0x0]['clientX']-_0x56b47f[_0x4b0229(0x945)],_0x21b64d[_0x4b0229(0xbe7)][0x0][_0x4b0229(0xbcb)]-_0x56b47f[_0x4b0229(0xb2c)]);currentStroke[_0x4b0229(0x990)][_0x4b0229(0x12e)](_0x304b0b),redrawScratchpad();}else{if(_0x21b64d[_0x4b0229(0xbe7)][_0x4b0229(0x9f1)]===0x2&&isPanning){const _0x44cc14=getDistance({'x':_0x21b64d[_0x4b0229(0xbe7)][0x0]['clientX'],'y':_0x21b64d[_0x4b0229(0xbe7)][0x0][_0x4b0229(0xbcb)]},{'x':_0x21b64d['touches'][0x1][_0x4b0229(0xc33)],'y':_0x21b64d[_0x4b0229(0xbe7)][0x1][_0x4b0229(0xbcb)]}),_0x30223e=getMidpoint({'x':_0x21b64d[_0x4b0229(0xbe7)][0x0][_0x4b0229(0xc33)],'y':_0x21b64d[_0x4b0229(0xbe7)][0x0][_0x4b0229(0xbcb)]},{'x':_0x21b64d[_0x4b0229(0xbe7)][0x1][_0x4b0229(0xc33)],'y':_0x21b64d[_0x4b0229(0xbe7)][0x1]['clientY']}),_0x350c50=_0x44cc14/ initialPinchDistance,_0x390b95=Math[_0x4b0229(0x1ed)](Math[_0x4b0229(0x5fa)](scratchpadScale*_0x350c50,MIN_SCALE),MAX_SCALE),_0x139f11=_0x30223e['x']-panStart['x'],_0x18b644=_0x30223e['y']-panStart['y'];scratchpadOffset['x']=_0x30223e['x']-(_0x30223e['x']-scratchpadOffset['x'])*(_0x390b95/scratchpadScale),scratchpadOffset['y']=_0x30223e['y']-(_0x30223e['y']-scratchpadOffset['y'])*(_0x390b95/scratchpadScale),scratchpadOffset['x']+=_0x139f11,scratchpadOffset['y']+=_0x18b644,scratchpadScale=_0x390b95,initialPinchDistance=_0x44cc14,panStart=_0x30223e,redrawScratchpad();}}}else{if(isMousePanning){const _0x5c329c=_0x21b64d['clientX']-panStart['x'],_0x2bf75e=_0x21b64d['clientY']-panStart['y'];scratchpadOffset['x']+=_0x5c329c,scratchpadOffset['y']+=_0x2bf75e,panStart={'x':_0x21b64d[_0x4b0229(0xc33)],'y':_0x21b64d[_0x4b0229(0xbcb)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x52e268=getTransformedPoint(_0x21b64d[_0x4b0229(0xc33)]-_0x56b47f[_0x4b0229(0x945)],_0x21b64d[_0x4b0229(0xbcb)]-_0x56b47f[_0x4b0229(0xb2c)]);currentStroke[_0x4b0229(0x990)][_0x4b0229(0x12e)](_0x52e268),redrawScratchpad();}}}}function handlePointerUp(_0x45a1ca){const _0xd85959=_0xdd45b5;_0x45a1ca['preventDefault']();const _0x4be673=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x4be673[_0xd85959(0x125)]['cursor']='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0xd85959(0x990)][_0xd85959(0x9f1)]>0x1&&(strokes[_0xd85959(0x12e)](currentStroke),currentStroke[_0xd85959(0x8a8)]===_0xd85959(0x303)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x11cc08=_0xd85959,_0x366eae=strokes[_0x11cc08(0x26c)](_0x75e4c1=>_0x75e4c1[_0x11cc08(0x8a8)]===_0x11cc08(0x303)&&!_0x75e4c1[_0x11cc08(0x1c7)]);if(_0x366eae[_0x11cc08(0x9f1)]>0x0){const _0x2b4b6b=Date['now']();_0x366eae[_0x11cc08(0x947)](_0x351471=>_0x351471[_0x11cc08(0x1c7)]=_0x2b4b6b),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x22e2f4){const _0x390f82=_0xdd45b5;_0x22e2f4['preventDefault']();const _0x2448e5=_0x22e2f4['deltaY']*-0.005,_0x40d8f7=Math[_0x390f82(0x1ed)](Math[_0x390f82(0x5fa)](scratchpadScale+_0x2448e5,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x22e2f4[_0x390f82(0xc33)]-(_0x22e2f4[_0x390f82(0xc33)]-scratchpadOffset['x'])*(_0x40d8f7/scratchpadScale),scratchpadOffset['y']=_0x22e2f4[_0x390f82(0xbcb)]-(_0x22e2f4['clientY']-scratchpadOffset['y'])*(_0x40d8f7/scratchpadScale),scratchpadScale=_0x40d8f7,redrawScratchpad();}function undo(){const _0x200e80=_0xdd45b5;strokes[_0x200e80(0x9f1)]>0x0&&(redoStrokes[_0x200e80(0x12e)](strokes[_0x200e80(0x777)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x44341b=_0xdd45b5;redoStrokes['length']>0x0&&(strokes['push'](redoStrokes[_0x44341b(0x777)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0xb8826d=_0xdd45b5;document[_0xb8826d(0xbd5)](_0xb8826d(0x78b))[_0xb8826d(0x256)]=strokes[_0xb8826d(0x9f1)]===0x0,document['getElementById'](_0xb8826d(0x37b))[_0xb8826d(0x256)]=redoStrokes['length']===0x0;}function openScratchpad(_0x56bf42,_0x1b218c){const _0x1158ed=_0xdd45b5,_0x4fdc1c=document[_0x1158ed(0xbd5)](_0x1158ed(0xb2)),_0x4be0eb=document[_0x1158ed(0xbd5)]('scratchpad-question'),_0x20bd7f=document[_0x1158ed(0xbd5)](_0x1158ed(0xbba)),_0x2ff789=document[_0x1158ed(0xbd5)](_0x1158ed(0x16f));_0x4be0eb[_0x1158ed(0x553)]=_0x56bf42[_0x1158ed(0xbb0)]||_0x56bf42[_0x1158ed(0x72b)],_0x20bd7f[_0x1158ed(0x553)]=_0x1b218c['map']((_0x1d9df4,_0xbfacf5)=>_0x1158ed(0x2cd)+String[_0x1158ed(0xb96)](0x41+_0xbfacf5)+'.\x20'+_0x1d9df4+_0x1158ed(0x969))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4fdc1c[_0x1158ed(0x8c0)][_0x1158ed(0x3b9)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1158ed(0x9dd)])MathJax[_0x1158ed(0x679)]([_0x4be0eb,_0x20bd7f]);}function openBlueprintQuizSettings(){const _0x2f5fb9=_0xdd45b5,_0x1efc2c=document['getElementById'](_0x2f5fb9(0x6aa)),_0x466c5e=blueprintPageSettings||(currentProjectData?currentProjectData[_0x2f5fb9(0xa10)]:{})||{};document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0xfd))[_0x2f5fb9(0xc1a)]=_0x466c5e[_0x2f5fb9(0x51a)]||document['getElementById']('quiz-type-select')[_0x2f5fb9(0xc1a)],document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x5e4))[_0x2f5fb9(0x553)]=document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x81b))[_0x2f5fb9(0x553)],document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x5e4))[_0x2f5fb9(0xc1a)]=_0x466c5e['difficultyValue']||document['getElementById'](_0x2f5fb9(0x81b))['value'],document[_0x2f5fb9(0xbd5)]('bp-modal-question-complexity-select')['innerHTML']=document['getElementById'](_0x2f5fb9(0x2fc))[_0x2f5fb9(0x553)],document[_0x2f5fb9(0xbd5)]('bp-modal-question-complexity-select')['value']=_0x466c5e[_0x2f5fb9(0x192)]||document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x2fc))['value'],document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x8ee))[_0x2f5fb9(0xc1a)]=_0x466c5e[_0x2f5fb9(0x52f)]||document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x731))[_0x2f5fb9(0xc1a)],document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x856))[_0x2f5fb9(0xc1a)]=_0x466c5e['passingScore']||document['getElementById'](_0x2f5fb9(0x749))[_0x2f5fb9(0xc1a)],document['getElementById']('bp-modal-num-choices')[_0x2f5fb9(0xc1a)]=_0x466c5e['numChoices']||document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x160))[_0x2f5fb9(0xc1a)],document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x1c6))[_0x2f5fb9(0xc1a)]=_0x466c5e[_0x2f5fb9(0x456)]||document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x752))[_0x2f5fb9(0xc1a)],document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x21e))[_0x2f5fb9(0x674)]=_0x466c5e['includeImages']||document[_0x2f5fb9(0xbd5)](_0x2f5fb9(0x17f))['checked'],_0x1efc2c[_0x2f5fb9(0x8c0)][_0x2f5fb9(0x3b9)](_0x2f5fb9(0x2ee));}function handleSaveBlueprintPageSettings(){const _0x515cea=_0xdd45b5;blueprintPageSettings={'quizType':document['getElementById']('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x515cea(0xbd5)](_0x515cea(0x5e4))['value'],'complexityValue':document['getElementById'](_0x515cea(0x890))[_0x515cea(0xc1a)],'numQuestions':document[_0x515cea(0xbd5)]('bp-modal-num-questions')[_0x515cea(0xc1a)],'passingScore':document[_0x515cea(0xbd5)](_0x515cea(0x856))['value'],'numChoices':document[_0x515cea(0xbd5)]('bp-modal-num-choices')[_0x515cea(0xc1a)],'shuffle':document[_0x515cea(0xbd5)]('bp-modal-shuffle-setting-select')[_0x515cea(0xc1a)],'includeImages':document['getElementById']('bp-modal-include-images-checkbox')['checked']},showMessage(_0x515cea(0x120)),document[_0x515cea(0xbd5)](_0x515cea(0x6aa))[_0x515cea(0x8c0)][_0x515cea(0x9ff)](_0x515cea(0x2ee));}function listenForParallelTestShortcuts(){const _0x32049f=_0xdd45b5,_0x597a40=doc(db,_0x32049f(0x222),_0x32049f(0xada));onSnapshot(_0x597a40,_0x39c80e=>{const _0x1d1bbf=_0x32049f;let _0x212ed2=[],_0x1f5ebf=[],_0x24e50f={};if(_0x39c80e[_0x1d1bbf(0x935)]()){const _0x115326=_0x39c80e[_0x1d1bbf(0xa1d)]();_0x212ed2=_0x115326[_0x1d1bbf(0x210)]||[],_0x1f5ebf=_0x115326[_0x1d1bbf(0x9d5)]||[],_0x24e50f=_0x115326[_0x1d1bbf(0x7de)]||{};}!_0x1f5ebf['find'](_0x3b423e=>_0x3b423e['id']===_0x1d1bbf(0x906))&&_0x1f5ebf[_0x1d1bbf(0x1a3)]({'id':_0x1d1bbf(0x906),'name':_0x1d1bbf(0x4fc),'isDefault':!![]}),!_0x212ed2[_0x1d1bbf(0x922)](_0x3b88d2=>_0x3b88d2['id']===_0x1d1bbf(0xb6c))&&_0x212ed2[_0x1d1bbf(0x1a3)]({'id':_0x1d1bbf(0xb6c),'name':_0x1d1bbf(0x4a3),'url':'','isDefault':!![]}),!_0x212ed2[_0x1d1bbf(0x922)](_0x3fae24=>_0x3fae24['id']===_0x1d1bbf(0x725))&&_0x212ed2[_0x1d1bbf(0x1a3)]({'id':_0x1d1bbf(0x725),'name':_0x1d1bbf(0x98d),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x212ed2,parallelShortcutTabs=_0x1f5ebf,parallelShortcutOrder=_0x24e50f,renderParallelTestShortcuts(),!document[_0x1d1bbf(0xbd5)](_0x1d1bbf(0x157))[_0x1d1bbf(0x8c0)]['contains'](_0x1d1bbf(0x2ee))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x3d19ca=_0xdd45b5,_0x87a4f=doc(db,_0x3d19ca(0x222),_0x3d19ca(0xada));try{await setDoc(_0x87a4f,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x45b029){console[_0x3d19ca(0x2c7)](_0x3d19ca(0x7ba),_0x45b029);}}function renderAdditionalParallelShortcutsModal(){const _0x44cbe4=_0xdd45b5,_0x120aed=document[_0x44cbe4(0xbd5)]('parallel-shortcut-tabs-nav'),_0x1eb898=document[_0x44cbe4(0xbd5)](_0x44cbe4(0x311));if(!_0x120aed||!_0x1eb898)return;_0x120aed[_0x44cbe4(0x553)]=parallelShortcutTabs['map'](_0x384fb2=>{const _0x27a86f=_0x44cbe4,_0x236428=_0x384fb2['id']===activeParallelShortcutTabId;return _0x27a86f(0x3bd)+_0x384fb2['id']+_0x27a86f(0x5a3)+(_0x236428?_0x27a86f(0x9b):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x27a86f(0xb64)+_0x384fb2[_0x27a86f(0x8aa)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x384fb2[_0x27a86f(0x8aa)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x384fb2['isDefault']?_0x27a86f(0x5d9)+_0x384fb2['id']+_0x27a86f(0x2e0):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x44cbe4(0xb92)]('');const _0x51e9ed=parallelShortcutTabs[_0x44cbe4(0x922)](_0x564b56=>_0x564b56['id']===activeParallelShortcutTabId);let _0x124079=_0x51e9ed?.[_0x44cbe4(0x65e)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x44cbe4(0x26c)](_0x7fab21=>(_0x51e9ed?.[_0x44cbe4(0x38d)]||[])[_0x44cbe4(0x668)](_0x7fab21['id']));const _0x20411b=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x124079[_0x44cbe4(0x50a)]((_0x41bdb8,_0x550d58)=>{const _0x46b336=_0x44cbe4,_0x1f6e95=_0x20411b[_0x46b336(0xc7a)](_0x41bdb8['id']),_0xf9c257=_0x20411b[_0x46b336(0xc7a)](_0x550d58['id']);return(_0x1f6e95===-0x1?Infinity:_0x1f6e95)-(_0xf9c257===-0x1?Infinity:_0xf9c257);}),_0x1eb898['innerHTML']=_0x124079[_0x44cbe4(0xb43)](_0x2ff2db=>{const _0x4b3c97=_0x44cbe4,_0x23a120=_0x2ff2db['url']?'🔁':'🔗',_0x170c97=parallelShortcutTabs[_0x4b3c97(0x26c)](_0x547639=>!_0x547639[_0x4b3c97(0x65e)]),_0x17ca1f=_0x51e9ed[_0x4b3c97(0x65e)]&&_0x170c97[_0x4b3c97(0x9f1)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x170c97[_0x4b3c97(0xb43)](_0x10125d=>_0x4b3c97(0x747)+_0x2ff2db['id']+_0x4b3c97(0x6b7)+_0x10125d['id']+'\x22>'+_0x10125d[_0x4b3c97(0x8aa)]+'</a>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x2ff2db['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x23a120+'\x20'+_0x2ff2db[_0x4b3c97(0x8aa)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2ff2db['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2ff2db['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2ff2db['isDefault']?_0x4b3c97(0xef)+_0x2ff2db['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4b3c97(0xbfc)+(!_0x51e9ed[_0x4b3c97(0x65e)]?'<button\x20data-shortcut-id=\x22'+_0x2ff2db['id']+_0x4b3c97(0x888):'')+_0x4b3c97(0xbfc)+_0x17ca1f+_0x4b3c97(0xc5e);})[_0x44cbe4(0xb92)]('')||_0x44cbe4(0xc3c),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x13bed9=_0xdd45b5;document['querySelectorAll'](_0x13bed9(0x2a2))[_0x13bed9(0x947)](_0x47f098=>{const _0x2fca81=_0x13bed9;_0x47f098[_0x2fca81(0xcb7)]=_0x3608f7=>{const _0x16116c=_0x2fca81;activeParallelShortcutTabId=_0x3608f7[_0x16116c(0xc23)]['dataset'][_0x16116c(0xb17)],renderAdditionalParallelShortcutsModal();},_0x47f098[_0x2fca81(0xaa6)]=_0x29352b=>{const _0x392d15=_0x2fca81,_0x18f7e1=_0x29352b[_0x392d15(0xc23)][_0x392d15(0x5db)](_0x392d15(0x826));_0x29352b[_0x392d15(0xc23)][_0x392d15(0x5db)](_0x392d15(0xae1))[_0x392d15(0x8c0)][_0x392d15(0x9ff)]('hidden'),_0x18f7e1['classList'][_0x392d15(0x3b9)](_0x392d15(0x2ee)),_0x18f7e1['focus'](),_0x18f7e1[_0x392d15(0x46d)]();};}),document[_0x13bed9(0x197)](_0x13bed9(0x8da))['forEach'](_0x17d2d1=>{const _0x31c7ac=_0x13bed9,_0x362cae=()=>{const _0x289011=_0x39cc,_0x3f2b5f=_0x17d2d1[_0x289011(0x18a)](_0x289011(0x2a2))[_0x289011(0x41c)][_0x289011(0xb17)],_0x579e6d=parallelShortcutTabs[_0x289011(0x922)](_0x434aa9=>_0x434aa9['id']===_0x3f2b5f);_0x579e6d&&(_0x579e6d[_0x289011(0x8aa)]=_0x17d2d1[_0x289011(0xc1a)][_0x289011(0x7ae)]()||_0x579e6d[_0x289011(0x8aa)],saveParallelShortcutConfig());};_0x17d2d1[_0x31c7ac(0x96f)]=_0x362cae,_0x17d2d1[_0x31c7ac(0xa3c)]=_0x532d9c=>{const _0x503dff=_0x31c7ac;if(_0x532d9c['key']===_0x503dff(0x58d))_0x17d2d1['blur']();};}),document[_0x13bed9(0x197)](_0x13bed9(0x1a1))[_0x13bed9(0x947)](_0x1acf5c=>_0x1acf5c['onclick']=_0x5be37c=>{const _0x2b8cf0=_0x13bed9,_0x34f527=_0x5be37c[_0x2b8cf0(0xc23)][_0x2b8cf0(0x41c)][_0x2b8cf0(0xb17)];showConfirmation(_0x2b8cf0(0xb2b),()=>{const _0x24880d=_0x2b8cf0;parallelShortcutTabs=parallelShortcutTabs[_0x24880d(0x26c)](_0x511e3f=>_0x511e3f['id']!==_0x34f527),delete parallelShortcutOrder[_0x34f527];if(activeParallelShortcutTabId===_0x34f527)activeParallelShortcutTabId=_0x24880d(0x906);saveParallelShortcutConfig();});}),document[_0x13bed9(0x197)]('.move-parallel-shortcut-item')[_0x13bed9(0x947)](_0x765c7=>_0x765c7[_0x13bed9(0xcb7)]=_0x35fb41=>{const _0x5f0ed7=_0x13bed9;_0x35fb41[_0x5f0ed7(0xc15)]();const {shortcutId:_0x3b4e3e,targetTabId:_0x89c915}=_0x35fb41[_0x5f0ed7(0xc23)][_0x5f0ed7(0x41c)],_0x33b480=parallelShortcutTabs[_0x5f0ed7(0x922)](_0x52ca05=>_0x52ca05['id']===_0x89c915);_0x33b480&&!_0x33b480[_0x5f0ed7(0x38d)][_0x5f0ed7(0x668)](_0x3b4e3e)&&(_0x33b480[_0x5f0ed7(0x38d)][_0x5f0ed7(0x12e)](_0x3b4e3e),saveParallelShortcutConfig());}),document[_0x13bed9(0x197)](_0x13bed9(0x955))['forEach'](_0x36c745=>_0x36c745['onclick']=_0x387793=>{const _0x424fd1=_0x13bed9,_0x3165cc=_0x387793[_0x424fd1(0xc23)][_0x424fd1(0x41c)][_0x424fd1(0x1b1)],_0x2116c3=parallelShortcutTabs['find'](_0x14c936=>_0x14c936['id']===activeParallelShortcutTabId);_0x2116c3&&!_0x2116c3['isDefault']&&(_0x2116c3[_0x424fd1(0x38d)]=_0x2116c3[_0x424fd1(0x38d)][_0x424fd1(0x26c)](_0x51a081=>_0x51a081!==_0x3165cc),saveParallelShortcutConfig());}),document[_0x13bed9(0x197)](_0x13bed9(0x438))['forEach'](_0x59e5dd=>_0x59e5dd['onclick']=_0x33b15c=>{const _0x2547e7=_0x13bed9;_0x33b15c['stopPropagation']();const _0x4cd59b=_0x33b15c['currentTarget'][_0x2547e7(0x9c3)];document['querySelectorAll'](_0x2547e7(0x99f))[_0x2547e7(0x947)](_0x2fffe4=>_0x2fffe4[_0x2547e7(0x8c0)][_0x2547e7(0x9ff)](_0x2547e7(0x2ee))),_0x4cd59b[_0x2547e7(0x8c0)][_0x2547e7(0x3b9)](_0x2547e7(0x2ee));});const _0x141d39=document['getElementById'](_0x13bed9(0x311));let _0x4e7019=null;_0x141d39['ondragstart']=_0x73d21c=>{const _0x53c9cc=_0x13bed9;_0x4e7019=_0x73d21c[_0x53c9cc(0x8a0)][_0x53c9cc(0x18a)]('.shortcut-list-item');if(_0x4e7019)setTimeout(()=>_0x4e7019[_0x53c9cc(0x8c0)][_0x53c9cc(0x9ff)](_0x53c9cc(0xa81)),0x0);},_0x141d39[_0x13bed9(0x798)]=()=>{const _0x3babf6=_0x13bed9;_0x4e7019&&(_0x4e7019['classList'][_0x3babf6(0x3b9)]('opacity-50'),_0x4e7019=null);},_0x141d39[_0x13bed9(0xa4d)]=_0x29b0f0=>{const _0x252285=_0x13bed9;_0x29b0f0[_0x252285(0xc15)]();},_0x141d39[_0x13bed9(0xb91)]=_0x4eb319=>{const _0x10a872=_0x13bed9;_0x4eb319[_0x10a872(0xc15)]();if(_0x4e7019){const _0x3fb6c1=[..._0x141d39['querySelectorAll'](_0x10a872(0xb13))]['reduce']((_0x17bea7,_0x3e73b6)=>{const _0x33b3a2=_0x10a872,_0xab928c=_0x3e73b6[_0x33b3a2(0xc54)](),_0x5e01c6=_0x4eb319[_0x33b3a2(0xbcb)]-_0xab928c[_0x33b3a2(0xb2c)]-_0xab928c['height']/0x2;return _0x5e01c6<0x0&&_0x5e01c6>_0x17bea7[_0x33b3a2(0x954)]?{'offset':_0x5e01c6,'element':_0x3e73b6}:_0x17bea7;},{'offset':Number['NEGATIVE_INFINITY']})['element'];_0x3fb6c1==null?_0x141d39[_0x10a872(0x78c)](_0x4e7019):_0x141d39[_0x10a872(0x8d2)](_0x4e7019,_0x3fb6c1);const _0x40042d=[..._0x141d39[_0x10a872(0x197)]('.shortcut-list-item')][_0x10a872(0xb43)](_0x25af32=>_0x25af32['dataset'][_0x10a872(0x1b1)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x40042d,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1819f0=_0xdd45b5,_0x5be493=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x5be493&&_0x5be493[_0x1819f0(0x7ae)]()&&(parallelShortcutTabs[_0x1819f0(0x12e)]({'id':_0x1819f0(0x5bf)+Date[_0x1819f0(0x435)](),'name':_0x5be493[_0x1819f0(0x7ae)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x46f576=_0xdd45b5,_0x30a83f=document[_0x46f576(0xbd5)]('parallel-shortcut-container'),_0x32455f=document[_0x46f576(0xbd5)](_0x46f576(0x311)),_0x228399=document[_0x46f576(0xbd5)]('parallel-shortcuts-loading-msg');if(_0x228399)_0x228399[_0x46f576(0x8c0)][_0x46f576(0x9ff)](_0x46f576(0x2ee));if(!_0x30a83f||!_0x32455f)return;const _0x5db5e8=parallelTestShortcuts[_0x46f576(0xbb3)](0x0,0x4),_0x422d25=parallelTestShortcuts[_0x46f576(0xbb3)](0x4);_0x30a83f['innerHTML']=_0x5db5e8[_0x46f576(0xb43)](_0x24daec=>{const _0x105343=_0x46f576,_0x348b49=_0x24daec[_0x105343(0x84f)]&&_0x24daec[_0x105343(0x84f)][_0x105343(0x7ae)]()!=='',_0x3336ae=_0x348b49?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x105343(0xe1),_0x1baa76=_0x348b49?'🔁':'🔗',_0x16a9df=!_0x24daec[_0x105343(0x65e)]?'<button\x20data-id=\x22'+_0x24daec['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x105343(0x93f)+_0x24daec['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x3336ae+_0x105343(0x5dc)+_0x1baa76+'\x20'+_0x24daec['name']+_0x105343(0x421)+_0x24daec['id']+_0x105343(0xbed)+_0x16a9df+_0x105343(0x97d);})['join'](''),_0x422d25['length']>0x0&&(_0x30a83f[_0x46f576(0x553)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x422d25[_0x46f576(0x9f1)]>0x0?_0x32455f[_0x46f576(0x553)]=_0x422d25[_0x46f576(0xb43)](_0x145eca=>_0x46f576(0xb77)+(_0x145eca[_0x46f576(0x84f)]?'🔁':'🔗')+'\x20'+_0x145eca[_0x46f576(0x8aa)]+_0x46f576(0xa38)+_0x145eca['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x145eca['id']+_0x46f576(0xb1a)+(!_0x145eca[_0x46f576(0x65e)]?'<button\x20data-id=\x22'+_0x145eca['id']+_0x46f576(0x73c):'')+_0x46f576(0x825))[_0x46f576(0xb92)](''):_0x32455f[_0x46f576(0x553)]=_0x46f576(0x7ef);}function openParallelTestShortcutEditor(_0x4cc612=null){const _0x1383b1=_0xdd45b5,_0x30641c=document[_0x1383b1(0xbd5)](_0x1383b1(0x68b)),_0x1d3c71=document[_0x1383b1(0xbd5)]('parallel-shortcut-modal-title'),_0x45eca6=document[_0x1383b1(0xbd5)]('parallel-shortcut-id-input'),_0x1415c0=document['getElementById'](_0x1383b1(0x326)),_0x349e73=document[_0x1383b1(0xbd5)](_0x1383b1(0x8b0));if(_0x4cc612){const _0x9dca69=parallelTestShortcuts[_0x1383b1(0x922)](_0x21b125=>_0x21b125['id']===_0x4cc612);if(!_0x9dca69)return;_0x1d3c71[_0x1383b1(0x5e0)]=_0x1383b1(0xac4),_0x45eca6[_0x1383b1(0xc1a)]=_0x9dca69['id'],_0x1415c0[_0x1383b1(0xc1a)]=_0x9dca69[_0x1383b1(0x8aa)],_0x349e73[_0x1383b1(0xc1a)]=_0x9dca69[_0x1383b1(0x84f)]||'';}else _0x1d3c71['textContent']=_0x1383b1(0x766),_0x45eca6[_0x1383b1(0xc1a)]='',_0x1415c0['value']='',_0x349e73[_0x1383b1(0xc1a)]='';_0x30641c['classList'][_0x1383b1(0x3b9)](_0x1383b1(0x2ee));}async function saveParallelTestShortcutChanges(){const _0x37f657=_0xdd45b5,_0x2378bb=document['getElementById']('parallel-shortcut-id-input')[_0x37f657(0xc1a)],_0x2f3dcd=document[_0x37f657(0xbd5)](_0x37f657(0x326))[_0x37f657(0xc1a)]['trim'](),_0x3e09c3=document[_0x37f657(0xbd5)](_0x37f657(0x8b0))['value']['trim']();if(!_0x2f3dcd){showMessage(_0x37f657(0x12b));return;}const _0x382e70={'id':_0x2378bb||'parallel-shortcut_'+Date['now'](),'name':_0x2f3dcd,'url':_0x3e09c3,'isDefault':_0x2378bb['startsWith'](_0x37f657(0x2f1))};let _0x32ec17;_0x2378bb?_0x32ec17=parallelTestShortcuts[_0x37f657(0xb43)](_0x2f3d8d=>_0x2f3d8d['id']===_0x2378bb?_0x382e70:_0x2f3d8d):_0x32ec17=[...parallelTestShortcuts,_0x382e70];try{const _0x4342aa=doc(db,_0x37f657(0x222),_0x37f657(0xada));await setDoc(_0x4342aa,{'shortcuts':_0x32ec17},{'merge':!![]}),document[_0x37f657(0xbd5)](_0x37f657(0x68b))[_0x37f657(0x8c0)][_0x37f657(0x9ff)](_0x37f657(0x2ee));}catch(_0x827e4b){console[_0x37f657(0x2c7)](_0x37f657(0x719),_0x827e4b),showMessage(_0x37f657(0xaa9));}}async function handleParallelTestShortcutClick(_0x171a66){const _0x46b22f=_0xdd45b5,_0x516a21=parallelTestShortcuts[_0x46b22f(0x922)](_0x35e75a=>_0x35e75a['id']===_0x171a66);if(!_0x516a21)return;if(!_0x516a21[_0x46b22f(0x84f)]||_0x516a21[_0x46b22f(0x84f)][_0x46b22f(0x7ae)]()===''){openParallelTestShortcutEditor(_0x171a66);return;}const _0x2e0944=document[_0x46b22f(0xbd5)](_0x46b22f(0xa42)),_0x3ef83f=document[_0x46b22f(0xbd5)](_0x46b22f(0xa56));document[_0x46b22f(0xbd5)](_0x46b22f(0xc4e))[_0x46b22f(0x8c0)]['remove']('hidden'),document[_0x46b22f(0xbd5)]('generated-quiz-container')[_0x46b22f(0x553)]='',_0x2e0944[_0x46b22f(0x8c0)][_0x46b22f(0x3b9)](_0x46b22f(0x2ee)),_0x3ef83f['textContent']=_0x46b22f(0xa5);try{let _0x26782f;_0x516a21[_0x46b22f(0x84f)][_0x46b22f(0x1a5)]()[_0x46b22f(0x668)](_0x46b22f(0x8ad))?_0x26782f=_0x46b22f(0xf7):_0x26782f='source_document.pdf';const _0x596be5=await fetchFileFromUrl(_0x516a21[_0x46b22f(0x84f)],_0x26782f);await handleGenerateParallelTest(_0x596be5);}catch(_0x2d37dc){console[_0x46b22f(0x2c7)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x2d37dc),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2d37dc['message']),_0x2e0944[_0x46b22f(0x8c0)]['add'](_0x46b22f(0x2ee));}}function initializeScratchpadCanvas(){const _0x332885=_0xdd45b5,_0xc5b4a6=document[_0x332885(0xbd5)](_0x332885(0xb2f)),_0x4de323=document[_0x332885(0x5db)](_0x332885(0x67e));if(!_0xc5b4a6||!_0x4de323)return;scratchpadCtx=_0xc5b4a6[_0x332885(0x793)]('2d',{'willReadFrequently':!![]});const _0x38625e=window['devicePixelRatio']||0x1,_0x3e0b39=_0x4de323[_0x332885(0xc54)]();_0xc5b4a6[_0x332885(0xc9f)]=_0x3e0b39['width']*_0x38625e,_0xc5b4a6[_0x332885(0x645)]=_0x3e0b39[_0x332885(0x645)]*_0x38625e,_0xc5b4a6[_0x332885(0x125)][_0x332885(0xc9f)]=_0x3e0b39['width']+'px',_0xc5b4a6[_0x332885(0x125)][_0x332885(0x645)]=_0x3e0b39[_0x332885(0x645)]+'px',scratchpadCtx[_0x332885(0xb04)](_0x38625e,_0x38625e),scratchpadCtx[_0x332885(0x79e)]=_0x332885(0xc47),scratchpadCtx[_0x332885(0x986)]=_0x332885(0xc47),_0xc5b4a6[_0x332885(0xd9)]('pointerdown',handlePointerDown),_0xc5b4a6[_0x332885(0xd9)](_0x332885(0x937),handlePointerMove),_0xc5b4a6[_0x332885(0xd9)](_0x332885(0x576),handlePointerUp),_0xc5b4a6[_0x332885(0xd9)](_0x332885(0x4df),handlePointerUp),_0xc5b4a6[_0x332885(0xd9)]('wheel',handleWheel),_0xc5b4a6[_0x332885(0xd9)]('touchstart',handlePointerDown),_0xc5b4a6[_0x332885(0xd9)](_0x332885(0xa9d),handlePointerMove),_0xc5b4a6[_0x332885(0xd9)](_0x332885(0x8ef),handlePointerUp),_0xc5b4a6[_0x332885(0x915)](_0x332885(0x215),handlePointerDown),_0xc5b4a6[_0x332885(0x915)](_0x332885(0x937),handlePointerMove),_0xc5b4a6[_0x332885(0x915)](_0x332885(0x576),handlePointerUp),_0xc5b4a6[_0x332885(0x915)](_0x332885(0x4df),handlePointerUp),_0xc5b4a6['addEventListener'](_0x332885(0xa49),handleWheel,{'passive':![]}),_0xc5b4a6[_0x332885(0x915)](_0x332885(0x31e),handlePointerDown,{'passive':![]}),_0xc5b4a6['addEventListener']('touchmove',handlePointerMove,{'passive':![]}),_0xc5b4a6['addEventListener'](_0x332885(0x8ef),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x57d125=_0xdd45b5,_0x3370a3=document[_0x57d125(0xbd5)](_0x57d125(0xb2)),_0x234381=document[_0x57d125(0xbd5)](_0x57d125(0x16f));_0x234381[_0x57d125(0x553)]=_0x57d125(0x5c0)+scratchpadHighlighterSize+_0x57d125(0x108);const _0x32c9ca=document[_0x57d125(0xbd5)](_0x57d125(0x7fe)),_0x385e98=document[_0x57d125(0xbd5)](_0x57d125(0x52a)),_0x597d7c=document[_0x57d125(0xbd5)](_0x57d125(0x690)),_0x55b788=document['getElementById'](_0x57d125(0x7bf)),_0x32f4ba=document[_0x57d125(0xbd5)](_0x57d125(0x517)),_0x48e7d5=document[_0x57d125(0xbd5)](_0x57d125(0xe2)),_0x3a0dd2=document[_0x57d125(0xbd5)](_0x57d125(0x4b9)),_0x51574b=[_0x32c9ca,_0x385e98,_0x597d7c,_0x55b788];document['getElementById'](_0x57d125(0x563))[_0x57d125(0x915)](_0x57d125(0x98f),()=>_0x3370a3[_0x57d125(0x8c0)][_0x57d125(0x9ff)]('hidden')),document['getElementById'](_0x57d125(0x2ad))[_0x57d125(0x915)](_0x57d125(0x98f),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x57d125(0xbd5)](_0x57d125(0x6b4))[_0x57d125(0x915)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x57d125(0xbd5)](_0x57d125(0x78b))[_0x57d125(0x915)]('click',undo),document[_0x57d125(0xbd5)](_0x57d125(0x37b))[_0x57d125(0x915)](_0x57d125(0x98f),redo);const _0x16829f=_0x205699=>{const _0x2a8d05=_0x57d125;_0x51574b[_0x2a8d05(0x947)](_0x21493c=>_0x21493c[_0x2a8d05(0x8c0)][_0x2a8d05(0x3b9)](_0x2a8d05(0x9b4))),_0x205699['classList']['add'](_0x2a8d05(0x9b4)),_0x32f4ba['classList'][_0x2a8d05(0x9ff)](_0x2a8d05(0x2ee)),_0x48e7d5[_0x2a8d05(0x8c0)][_0x2a8d05(0x9ff)](_0x2a8d05(0x2ee)),_0x3a0dd2[_0x2a8d05(0x8c0)][_0x2a8d05(0x9ff)]('hidden');if(activeTool===_0x2a8d05(0x4b4)||activeTool===_0x2a8d05(0x303))_0x32f4ba['classList'][_0x2a8d05(0x3b9)]('hidden');else{if(activeTool===_0x2a8d05(0x2a9))_0x48e7d5['classList'][_0x2a8d05(0x3b9)](_0x2a8d05(0x2ee));else activeTool===_0x2a8d05(0x2d7)&&_0x3a0dd2['classList']['remove'](_0x2a8d05(0x2ee));}};_0x32c9ca[_0x57d125(0x915)]('click',()=>{activeTool='pen',_0x16829f(_0x32c9ca);}),_0x385e98[_0x57d125(0x915)](_0x57d125(0x98f),()=>{activeTool='eraser',_0x16829f(_0x385e98);}),_0x597d7c[_0x57d125(0x915)](_0x57d125(0x98f),()=>{const _0xf8d2c0=_0x57d125;activeTool=_0xf8d2c0(0x303),_0x16829f(_0x597d7c);}),_0x55b788[_0x57d125(0x915)](_0x57d125(0x98f),()=>{const _0x2f4a79=_0x57d125;activeTool=_0x2f4a79(0x2a9),_0x16829f(_0x55b788);}),_0x32f4ba[_0x57d125(0x197)](_0x57d125(0x262))['forEach'](_0x5443f3=>{const _0xe547fa=_0x57d125;_0x5443f3[_0xe547fa(0x915)](_0xe547fa(0x98f),_0x173b4a=>{const _0x14b915=_0xe547fa;scratchpadPenSize=parseInt(_0x173b4a[_0x14b915(0x8a0)][_0x14b915(0x41c)][_0x14b915(0xb9f)],0xa),_0x32f4ba[_0x14b915(0x197)](_0x14b915(0x262))[_0x14b915(0x947)](_0x4aac8e=>_0x4aac8e[_0x14b915(0x8c0)]['remove'](_0x14b915(0x9b4))),_0x173b4a['target'][_0x14b915(0x8c0)][_0x14b915(0x9ff)]('active');});}),_0x3a0dd2[_0x57d125(0x197)](_0x57d125(0x938))['forEach'](_0x560344=>{const _0x4a0215=_0x57d125;_0x560344[_0x4a0215(0x915)](_0x4a0215(0x98f),_0x1ab373=>{const _0x2da9f6=_0x4a0215,_0x2e6586=_0x1ab373[_0x2da9f6(0xc23)];scratchpadEraserSize=parseInt(_0x2e6586[_0x2da9f6(0x41c)][_0x2da9f6(0xb9f)],0xa),_0x3a0dd2['querySelectorAll']('.eraser-size-btn')[_0x2da9f6(0x947)](_0x22b312=>_0x22b312[_0x2da9f6(0x8c0)][_0x2da9f6(0x3b9)](_0x2da9f6(0x9b4))),_0x2e6586[_0x2da9f6(0x8c0)]['add']('active');});}),_0x32f4ba['querySelectorAll']('.pen-color-btn')['forEach'](_0x16c5a4=>{const _0x2f21f0=_0x57d125;_0x16c5a4['addEventListener'](_0x2f21f0(0x98f),_0x201df7=>{const _0x118d20=_0x2f21f0;scratchpadPenColor=_0x201df7['target'][_0x118d20(0x41c)][_0x118d20(0x136)],_0x32f4ba[_0x118d20(0x197)](_0x118d20(0x2b4))[_0x118d20(0x947)](_0x364b23=>_0x364b23['classList'][_0x118d20(0x3b9)]('active')),_0x201df7[_0x118d20(0x8a0)][_0x118d20(0x8c0)]['add'](_0x118d20(0x9b4));});}),_0x48e7d5[_0x57d125(0x197)]('.highlighter-color-btn')[_0x57d125(0x947)](_0xa0985a=>{const _0xb781a8=_0x57d125;_0xa0985a[_0xb781a8(0x915)]('click',_0x36a277=>{const _0x2dfd4c=_0xb781a8;scratchpadHighlighterColor=_0x36a277[_0x2dfd4c(0x8a0)][_0x2dfd4c(0x41c)][_0x2dfd4c(0x136)],_0x48e7d5[_0x2dfd4c(0x197)](_0x2dfd4c(0xab9))[_0x2dfd4c(0x947)](_0x3ba2ce=>_0x3ba2ce[_0x2dfd4c(0x8c0)]['remove'](_0x2dfd4c(0x9b4))),_0x36a277[_0x2dfd4c(0x8a0)][_0x2dfd4c(0x8c0)][_0x2dfd4c(0x9ff)]('active');});});const _0xa40f9a=document['getElementById'](_0x57d125(0x122)),_0x135628=document[_0x57d125(0xbd5)]('highlighter-size-value');_0xa40f9a[_0x57d125(0x915)](_0x57d125(0x444),_0x2257c5=>{const _0x17429a=_0x57d125,_0x5f22fe=parseInt(_0x2257c5[_0x17429a(0x8a0)][_0x17429a(0xc1a)],0xa);scratchpadHighlighterSize=_0x5f22fe,_0x135628['textContent']=_0x5f22fe;}),window[_0x57d125(0x915)](_0x57d125(0xa37),()=>{const _0x41a965=_0x57d125;!_0x3370a3[_0x41a965(0x8c0)]['contains']('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0xdd45b5(0x5a8),'name':_0xdd45b5(0x291),'description':_0xdd45b5(0x246),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0xdd45b5(0x912),'name':'เซียนสมองไว','description':_0xdd45b5(0x6ea),'icon':_0xdd45b5(0x49f)},'ON_FIRE':{'id':_0xdd45b5(0x372),'name':_0xdd45b5(0x307),'description':_0xdd45b5(0x6a6),'icon':_0xdd45b5(0x9d1)},'FIRST_TRY_ACE':{'id':_0xdd45b5(0x3e6),'name':'ผ่านฉลุย','description':_0xdd45b5(0x6a4),'icon':_0xdd45b5(0x9d8)},'COMEBACK_KING':{'id':_0xdd45b5(0x994),'name':_0xdd45b5(0x402),'description':_0xdd45b5(0x2c2),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0xdd45b5(0x50d),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':'perseverance','name':_0xdd45b5(0x3e0),'description':_0xdd45b5(0x445),'icon':_0xdd45b5(0x418)}},firebaseConfig={'apiKey':_0xdd45b5(0x5e1),'authDomain':_0xdd45b5(0xc7b),'projectId':_0xdd45b5(0x5b0),'storageBucket':_0xdd45b5(0x83d),'messagingSenderId':_0xdd45b5(0x4c8),'appId':_0xdd45b5(0xb5a),'measurementId':_0xdd45b5(0xa34)},appId=typeof __app_id!==_0xdd45b5(0x896)?__app_id:_0xdd45b5(0x686),adminView=document['getElementById'](_0xdd45b5(0x8c9)),studentView=document['getElementById'](_0xdd45b5(0x3b6)),projectDashboardView=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x5ba)),projectDetailView=document[_0xdd45b5(0xbd5)](_0xdd45b5(0xae6)),quizResultsView=document[_0xdd45b5(0xbd5)]('quiz-results-view'),projectList=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x5ac)),noProjectsMsg=document['getElementById'](_0xdd45b5(0x8eb)),projectTitle=document[_0xdd45b5(0xbd5)]('project-title'),projectIdDisplay=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x629)),studentList=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x620)),messageModal=document[_0xdd45b5(0xbd5)]('message-modal'),modalMessage=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x8dd)),createProjectModal=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x7b3)),adminPasswordModal=document['getElementById'](_0xdd45b5(0x75f)),confirmationModal=document[_0xdd45b5(0xbd5)](_0xdd45b5(0xcaf)),userIdDisplay=document['getElementById'](_0xdd45b5(0xc45)),topicTab=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x213)),textTab=document[_0xdd45b5(0xbd5)]('text-tab'),topicInputArea=document[_0xdd45b5(0xbd5)]('topic-input-area'),textInputArea=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x269)),manageTab=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x6af)),resultsTab=document['getElementById'](_0xdd45b5(0xbbb)),leaderboardTab=document['getElementById'](_0xdd45b5(0x13d)),manageTabContent=document[_0xdd45b5(0xbd5)]('manage-tab-content'),resultsTabContent=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x665)),leaderboardTabContent=document[_0xdd45b5(0xbd5)]('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0xdd45b5(0x4ee)),fileTab=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x540)),fileInputArea=document[_0xdd45b5(0xbd5)]('file-input-area'),fileUploadInput=document['getElementById'](_0xdd45b5(0x99b)),worksheetTab=document['getElementById'](_0xdd45b5(0x152)),worksheetInputArea=document[_0xdd45b5(0xbd5)]('worksheet-input-area'),generateWorksheetBtn=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x7a4)),studentInitialView=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x265)),studentNameSelectionView=document['getElementById'](_0xdd45b5(0x834)),studentQuizArea=document['getElementById'](_0xdd45b5(0xff)),studentResultArea=document[_0xdd45b5(0xbd5)]('student-result-area'),studentReadingArea=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x1cd)),loadQuizBtn=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x8bf)),startQuizBtn=document['getElementById'](_0xdd45b5(0x6be)),studentJoinGameView=document[_0xdd45b5(0xbd5)]('student-join-game-view'),presentationModal=document[_0xdd45b5(0xbd5)](_0xdd45b5(0x4cc)),renameQuizModal=document[_0xdd45b5(0xbd5)](_0xdd45b5(0xf6)),moveQuizModal=document['getElementById'](_0xdd45b5(0x2a5)),quizSettingsModal=document[_0xdd45b5(0xbd5)]('quiz-settings-modal'),quizStatusModal=document[_0xdd45b5(0xbd5)]('quiz-status-modal'),liveGameView=document['getElementById']('live-game-view');function handleFixLessonLatex(){const _0x22ecbd=_0xdd45b5,_0x5e129f=document['getElementById'](_0x22ecbd(0x50e));if(!_0x5e129f){showMessage(_0x22ecbd(0x211));return;}const _0x21e0cd=_0x5e129f[_0x22ecbd(0x197)]([_0x22ecbd(0x465),_0x22ecbd(0xda),_0x22ecbd(0x424),'.ai-content\x20td','.ai-content\x20h3']['join'](','));let _0x5d79b2=0x0;const _0x450b06=_0x420f7b=>_0x420f7b[_0x22ecbd(0x5e0)]||'',_0x30f96e=(_0x4d64b7,_0x22db6a)=>{const _0x4930f0=_0x22ecbd;if(_0x4d64b7[_0x4930f0(0x5db)]&&_0x4d64b7[_0x4930f0(0x5db)]('mjx-container'))return;_0x4d64b7[_0x4930f0(0x5e0)]=_0x22db6a;},_0x1a995c=_0x231d2c=>_0x231d2c[_0x22ecbd(0x3fa)](/\u00A0/g,'\x20')[_0x22ecbd(0x3fa)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3b30f3=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x39b55c=_0x1762ff=>{const _0x10befb=_0x22ecbd;let _0xfdf533=_0x1762ff[_0x10befb(0x7ae)]();const _0x407be5=[_0x10befb(0x80a),_0x10befb(0x25c),_0x10befb(0x4da),'sqrt',_0x10befb(0xaba),_0x10befb(0xae9),'cdot',_0x10befb(0xb02),_0x10befb(0xcae),_0x10befb(0x651),'le','ge','neq','pm',_0x10befb(0x89d),_0x10befb(0x1e2),_0x10befb(0x98b),_0x10befb(0x54f),'log','ln',_0x10befb(0x897),_0x10befb(0x516),_0x10befb(0xad9),_0x10befb(0x945),'right',_0x10befb(0x75d),_0x10befb(0x7f5),_0x10befb(0x101),_0x10befb(0x9e9)];_0x407be5[_0x10befb(0x947)](_0x2f37af=>{const _0x587c34=_0x10befb;_0xfdf533=_0xfdf533[_0x587c34(0x3fa)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2f37af+'\x5cb','g'),(_0x5b16b8,_0x1d4c92)=>_0x1d4c92+'\x5c'+_0x2f37af);});const _0x3521e5=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x10befb(0xb34)],[/≤/g,_0x10befb(0xbda)],[/≥/g,_0x10befb(0x477)],[/≠/g,_0x10befb(0x9c0)],[/±/g,'\x5cpm'],[/∑/g,_0x10befb(0xc44)],[/−/g,'-']];return _0x3521e5[_0x10befb(0x947)](([_0x38c41e,_0x551aa6])=>{_0xfdf533=_0xfdf533['replace'](_0x38c41e,_0x551aa6);}),_0xfdf533=_0xfdf533[_0x10befb(0x3fa)](/√\s*([A-Za-z0-9]+)/g,_0x10befb(0x618)),_0xfdf533=_0xfdf533[_0x10befb(0x3fa)](/(\d+)\s*%/g,_0x10befb(0xc64)),_0xfdf533;},_0x465268=_0x4b7898=>{const _0x4a89c8=_0x22ecbd;if(/\$|\\\(|\\\[/[_0x4a89c8(0x387)](_0x4b7898))return _0x4b7898;if(!_0x3b30f3[_0x4a89c8(0x387)](_0x4b7898))return _0x4b7898;const _0x3e98a4=_0x4b7898['match'](/^\s*/)[0x0],_0x1c8115=_0x4b7898['match'](/\s*$/)[0x0],_0x200462=_0x4b7898['trim']();return _0x3e98a4+'$'+_0x39b55c(_0x200462)+'$'+_0x1c8115;};_0x21e0cd[_0x22ecbd(0x947)](_0x35a47b=>{const _0x31f963=_0x450b06(_0x35a47b);let _0x36b3bc=_0x1a995c(_0x31f963);_0x36b3bc=_0x36b3bc['replace'](/\$([^$]*?)\$/g,(_0x2f5363,_0x5861b4)=>'$'+_0x39b55c(_0x5861b4)+'$');const _0x41413e=_0x36b3bc['split'](/(\s+)/),_0x479897=_0x41413e['map'](_0x4d5e80=>{if(/\s+/['test'](_0x4d5e80))return _0x4d5e80;return _0x465268(_0x4d5e80);});_0x36b3bc=_0x479897['join'](''),_0x36b3bc!==_0x31f963&&(_0x30f96e(_0x35a47b,_0x36b3bc),_0x5d79b2++);});if(_0x5d79b2>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x5d79b2+_0x22ecbd(0x5cd));try{window[_0x22ecbd(0x9dd)]&&MathJax[_0x22ecbd(0x679)]&&MathJax[_0x22ecbd(0x679)]([_0x5e129f]);}catch(_0x5cfa4d){console[_0x22ecbd(0x2c7)]('MathJax\x20re-render\x20failed:',_0x5cfa4d);}}else showMessage(_0x22ecbd(0x4d7));}function handleAutoFixLatex(){const _0xb2347a=_0xdd45b5,_0xe427c6=document[_0xb2347a(0xbd5)]('quiz-editor-questions-container')||document,_0x508e00=_0xe427c6[_0xb2347a(0x197)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x44c09d=0x0;const _0x5151bb=_0x5aaca0=>_0xb2347a(0xc1a)in _0x5aaca0?String(_0x5aaca0[_0xb2347a(0xc1a)]):_0x5aaca0[_0xb2347a(0x250)]!==undefined?_0x5aaca0[_0xb2347a(0x250)]:_0x5aaca0[_0xb2347a(0x5e0)]||'',_0x376f0c=(_0x4e74ec,_0xbe5b4c)=>{const _0x3b4d89=_0xb2347a;if('value'in _0x4e74ec){_0x4e74ec['value']=_0xbe5b4c;return;}if(_0x4e74ec[_0x3b4d89(0x5db)]&&_0x4e74ec['querySelector'](_0x3b4d89(0x5b6)))return;if(_0x4e74ec['innerText']!==undefined)_0x4e74ec[_0x3b4d89(0x250)]=_0xbe5b4c;else _0x4e74ec['textContent']=_0xbe5b4c;},_0x1d93a4=_0x29dfe2=>_0x29dfe2['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0xb2347a(0x3fa)](/\r\n?/g,'\x0a'),_0x107f3b=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2ddb8b=_0x5b5d06=>{const _0x520f58=_0xb2347a;let _0x53eb86=_0x5b5d06[_0x520f58(0x7ae)]();_0x53eb86=_0x53eb86[_0x520f58(0x3fa)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x520f58(0x414)),_0x53eb86=_0x53eb86[_0x520f58(0x3fa)](/\bfrac(\d)(\d)/g,_0x520f58(0x414));const _0x2522fd=['frac',_0x520f58(0x9d0),_0x520f58(0xae9),'cdot',_0x520f58(0xb02),_0x520f58(0xcae),'geq',_0x520f58(0x704),'pm',_0x520f58(0x1e2),'cos',_0x520f58(0x54f),_0x520f58(0x3b7),'ln'];_0x2522fd[_0x520f58(0x947)](_0x1395e3=>{const _0x29a5eb=_0x520f58;_0x53eb86=_0x53eb86[_0x29a5eb(0x3fa)](new RegExp(_0x29a5eb(0xb62)+_0x1395e3+'\x5cb','g'),(_0x502036,_0x56fd6d)=>_0x56fd6d+'\x5c'+_0x1395e3);});const _0x4013d2=[[/×/g,_0x520f58(0x68c)],[/·/g,_0x520f58(0x150)],[/÷/g,'\x5cdiv'],[/≤/g,_0x520f58(0xbda)],[/≥/g,_0x520f58(0x477)],[/≠/g,_0x520f58(0x9c0)],[/±/g,_0x520f58(0x255)]];return _0x4013d2[_0x520f58(0x947)](([_0x5dc83e,_0x39d7fc])=>{_0x53eb86=_0x53eb86['replace'](_0x5dc83e,_0x39d7fc);}),_0x53eb86;},_0x18073f=_0x13bbaa=>{const _0x587f2b=_0xb2347a;if(/\$|\\\(|\\\[/[_0x587f2b(0x387)](_0x13bbaa))return _0x13bbaa;if(!_0x107f3b['test'](_0x13bbaa))return _0x13bbaa;const _0x15d461=_0x13bbaa[_0x587f2b(0x9e2)](/^\s*/)[0x0],_0x4a618d=_0x13bbaa[_0x587f2b(0x9e2)](/\s*$/)[0x0],_0x5cb72f=_0x13bbaa[_0x587f2b(0x7ae)]();return _0x15d461+'$'+_0x2ddb8b(_0x5cb72f)+'$'+_0x4a618d;};_0x508e00['forEach'](_0x2ba5ea=>{const _0x19dca9=_0xb2347a,_0x15aada=_0x5151bb(_0x2ba5ea);let _0x337f05=_0x1d93a4(_0x15aada);_0x337f05=_0x337f05['replace'](/\$([^$]*?)\$/g,(_0x19a6c1,_0x3d68f7)=>'$'+_0x2ddb8b(_0x3d68f7)+'$');const _0x3369d1=_0x337f05[_0x19dca9(0xa21)](/(\s+)/),_0x5192ee=_0x3369d1[_0x19dca9(0xb43)](_0x27f5c6=>/\s+/[_0x19dca9(0x387)](_0x27f5c6)?_0x27f5c6:_0x18073f(_0x27f5c6));_0x337f05=_0x5192ee[_0x19dca9(0xb92)](''),_0x337f05!==_0x15aada&&(_0x376f0c(_0x2ba5ea,_0x337f05),_0x44c09d++);});if(_0x44c09d>0x0){showMessage(_0xb2347a(0xa77)+_0x44c09d+_0xb2347a(0x898));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax['typesetPromise']();}catch(_0x1dede8){}}else showMessage(_0xb2347a(0xc3));}async function listenForCustomMathTopics(){const _0x19f1f=_0xdd45b5,_0x432bfa=collection(db,_0x19f1f(0xb4)+appId+'/public/data/customMathTopics');onSnapshot(_0x432bfa,_0x44bdaa=>{const _0x2e8b7e=_0x19f1f;customMathTopics=_0x44bdaa[_0x2e8b7e(0x627)]['map'](_0x34a41b=>({'id':_0x34a41b['id'],..._0x34a41b[_0x2e8b7e(0xa1d)]()})),renderTopicCheckboxes();},_0xb8a782=>{const _0x488637=_0x19f1f;console[_0x488637(0x2c7)](_0x488637(0xbfb),_0xb8a782);});}function handleSelectAllTopics(){const _0x1a55dc=_0xdd45b5,_0x188c46=document['getElementById'](_0x1a55dc(0x804)),_0xeae963=_0x188c46[_0x1a55dc(0x197)](_0x1a55dc(0xb59));_0xeae963[_0x1a55dc(0x947)](_0x2733fe=>{const _0x5e2fe0=_0x1a55dc;_0x2733fe[_0x5e2fe0(0x674)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2b77bf=_0xdd45b5,_0x1ec55c=document[_0x2b77bf(0xbd5)](_0x2b77bf(0x804)),_0xba2cba=_0x1ec55c['querySelectorAll'](_0x2b77bf(0xb59));_0xba2cba[_0x2b77bf(0x947)](_0x1d9bb4=>{const _0x5d2d3c=_0x2b77bf;_0x1d9bb4[_0x5d2d3c(0x674)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4ca7ee){const _0x4e2059=_0xdd45b5;if(!_0x4ca7ee)return;try{const _0x6b8cab=doc(db,_0x4e2059(0xb4)+appId+_0x4e2059(0x74b),_0x4ca7ee);await deleteDoc(_0x6b8cab),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x77d95a){console[_0x4e2059(0x2c7)](_0x4e2059(0x505),_0x77d95a),showMessage(_0x4e2059(0x55e));}}async function handleAddCustomMathTopic(){const _0x4bda73=_0xdd45b5,_0x1b56a2=document['getElementById'](_0x4bda73(0xb12)),_0x31b4f0=_0x1b56a2[_0x4bda73(0xc1a)][_0x4bda73(0x7ae)]();if(!_0x31b4f0){showMessage(_0x4bda73(0x105));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x3ce0b3=collection(db,_0x4bda73(0xb4)+appId+_0x4bda73(0x74b));await addDoc(_0x3ce0b3,{'name':_0x31b4f0,'createdAt':serverTimestamp()}),_0x1b56a2['value']='',showMessage(_0x4bda73(0x289)+_0x31b4f0+_0x4bda73(0xc80));}catch(_0x5668e2){console[_0x4bda73(0x2c7)](_0x4bda73(0x949),_0x5668e2),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x30d887=_0xdd45b5;showConfirmation(_0x30d887(0xbc),async()=>{const _0x52fa5a=_0x30d887,_0x94a6b6=document[_0x52fa5a(0xbd5)](_0x52fa5a(0xa42)),_0x50672e=document['getElementById'](_0x52fa5a(0xa56)),_0x2fd73a=_0x50672e[_0x52fa5a(0x5e0)];_0x94a6b6[_0x52fa5a(0x8c0)]['remove']('hidden'),_0x50672e['textContent']=_0x52fa5a(0x34a);try{const _0x300821=collection(db,_0x52fa5a(0xb4)+appId+'/public/data/quizzes'),_0x57de40=await getDocs(_0x300821);if(_0x57de40[_0x52fa5a(0x7f1)]){showMessage(_0x52fa5a(0x855));return;}const _0x102009=writeBatch(db);let _0x473a37=0x0;_0x57de40['forEach'](_0x1a1892=>{const _0x422cf2=_0x52fa5a,_0x3067ac=_0x1a1892[_0x422cf2(0xa1d)](),_0x20674e=_0x1a1892['id'];if(_0x3067ac[_0x422cf2(0x69e)]&&_0x3067ac[_0x422cf2(0x69e)][_0x422cf2(0x9f1)]>0x0&&!_0x3067ac['questions'][0x0][_0x422cf2(0xaec)]('id')){console['log'](_0x422cf2(0x557)+_0x20674e+'\x20('+_0x3067ac['topic']+')'),_0x473a37++;const _0x22c3b0=_0x3067ac[_0x422cf2(0x69e)][_0x422cf2(0xb43)]((_0xfbf760,_0x383db6)=>{const _0x382b3b=_0x422cf2;return{..._0xfbf760,'id':_0xfbf760['id']||'q_'+Date[_0x382b3b(0x435)]()+'_'+_0x20674e+'_'+_0x383db6};}),_0x13e710=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x20674e);_0x102009[_0x422cf2(0x9d2)](_0x13e710,{'questions':_0x22c3b0});}}),_0x473a37>0x0?(_0x50672e[_0x52fa5a(0x5e0)]=_0x52fa5a(0x995)+_0x473a37+_0x52fa5a(0x4d5),await _0x102009[_0x52fa5a(0xb39)](),showMessage(_0x52fa5a(0x4e9)+_0x473a37+_0x52fa5a(0x183))):showMessage(_0x52fa5a(0x204));}catch(_0x28433c){console[_0x52fa5a(0x2c7)](_0x52fa5a(0x2e1),_0x28433c),showMessage(_0x52fa5a(0x80f)+_0x28433c[_0x52fa5a(0x700)]);}finally{_0x94a6b6[_0x52fa5a(0x8c0)][_0x52fa5a(0x9ff)](_0x52fa5a(0x2ee)),_0x50672e['textContent']=_0x2fd73a;}});}async function handleBulkUpdateQuizSettings(){const _0x448b2d=_0xdd45b5,_0x1e90ce={'shuffle':document[_0x448b2d(0xbd5)]('bulk-shuffle-select')[_0x448b2d(0xc1a)],'resultsDisplay':document[_0x448b2d(0xbd5)]('bulk-results-display-select')[_0x448b2d(0xc1a)],'loopUntilPass':document[_0x448b2d(0xbd5)]('bulk-loop-until-pass-checkbox')[_0x448b2d(0x674)],'isConfidenceScoringEnabled':document[_0x448b2d(0xbd5)](_0x448b2d(0x761))['checked'],'confidenceMode':document[_0x448b2d(0xbd5)](_0x448b2d(0x6f9))[_0x448b2d(0xc1a)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x4dacda=await getDocs(collection(db,_0x448b2d(0xb4)+appId+_0x448b2d(0xcba))),_0x25d0ee=_0x4dacda[_0x448b2d(0x627)]['map'](_0x1d0521=>({'id':_0x1d0521['id'],'data':_0x1d0521[_0x448b2d(0xa1d)]()})),_0xf33470=_0x25d0ee[_0x448b2d(0x9f1)];showConfirmation(_0x448b2d(0x677)+_0xf33470+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x1d7ee3=_0x448b2d,_0x2b12f8=document[_0x1d7ee3(0xbd5)](_0x1d7ee3(0x833));_0x2b12f8[_0x1d7ee3(0x256)]=!![],_0x2b12f8['innerHTML']=_0x1d7ee3(0x6b6);try{const _0x527d4e=writeBatch(db);_0x25d0ee[_0x1d7ee3(0x947)](_0x5618ee=>{const _0x893e=_0x1d7ee3,_0x57eb68=doc(db,_0x893e(0xb4)+appId+_0x893e(0xcba),_0x5618ee['id']),_0x12f094={..._0x5618ee[_0x893e(0xa1d)][_0x893e(0xa10)]||{},..._0x1e90ce};_0x527d4e[_0x893e(0x9d2)](_0x57eb68,{'settings':_0x12f094});}),await _0x527d4e[_0x1d7ee3(0xb39)](),document['getElementById'](_0x1d7ee3(0x7b9))[_0x1d7ee3(0x8c0)][_0x1d7ee3(0x9ff)](_0x1d7ee3(0x2ee)),showMessage(_0x1d7ee3(0x1f9)+_0xf33470+_0x1d7ee3(0x4f2));}catch(_0x341d8a){console['error'](_0x1d7ee3(0x76c),_0x341d8a),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x2b12f8[_0x1d7ee3(0x256)]=![],_0x2b12f8[_0x1d7ee3(0x553)]=_0x1d7ee3(0x223);}});}catch(_0x1a7ca3){console[_0x448b2d(0x2c7)](_0x448b2d(0x113),_0x1a7ca3),showMessage(_0x448b2d(0x933));}}async function handleSaveProjectName(){const _0x3b774f=_0xdd45b5,_0x7d53b8=document['getElementById'](_0x3b774f(0x2c1)),_0x33e976=document[_0x3b774f(0xbd5)]('save-project-name-btn'),_0x1fcf59=_0x7d53b8[_0x3b774f(0x5e0)][_0x3b774f(0x7ae)]();if(!_0x1fcf59||!currentProjectId){showMessage(_0x3b774f(0x899)),_0x7d53b8[_0x3b774f(0x5e0)]=currentProjectData['projectName'];return;}_0x33e976[_0x3b774f(0x256)]=!![],_0x33e976[_0x3b774f(0x553)]=_0x3b774f(0x746);try{const _0xf1db01=doc(db,_0x3b774f(0xb4)+appId+_0x3b774f(0x971),currentProjectId);await updateDoc(_0xf1db01,{'projectName':_0x1fcf59}),currentProjectData&&(currentProjectData[_0x3b774f(0xad3)]=_0x1fcf59),showMessage(_0x3b774f(0x1da));}catch(_0x402017){console[_0x3b774f(0x2c7)](_0x3b774f(0xa0e),_0x402017),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x7d53b8[_0x3b774f(0x5e0)]=currentProjectData[_0x3b774f(0xad3)];}finally{_0x33e976[_0x3b774f(0x8c0)][_0x3b774f(0x9ff)]('hidden'),_0x33e976[_0x3b774f(0x256)]=![],_0x33e976[_0x3b774f(0x553)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x4cdecc,_0x193160){const _0xeef12f=_0xdd45b5,_0x4ac84f=document[_0xeef12f(0xbd5)](_0xeef12f(0x95b)),_0x56b92c=document['getElementById'](_0xeef12f(0x9f6)),_0x193b79=document[_0xeef12f(0xbd5)](_0xeef12f(0xb3c)),_0x55eacb=document[_0xeef12f(0xbd5)](_0xeef12f(0x27e));_0x56b92c[_0xeef12f(0x5e0)]=_0xeef12f(0x9b8)+_0x4cdecc,_0x55eacb[_0xeef12f(0x8c0)]['add']('hidden'),_0x193b79[_0xeef12f(0x8c0)][_0xeef12f(0x3b9)](_0xeef12f(0x2ee)),_0x4ac84f[_0xeef12f(0x8c0)]['remove'](_0xeef12f(0x2ee)),generatePracticeTest(_0x4cdecc,_0x193160)[_0xeef12f(0x3ac)](_0x43bd62=>{const _0x31b99d=_0xeef12f;console[_0x31b99d(0x2c7)](_0x31b99d(0x31c),_0x43bd62),showMessage(_0x31b99d(0x4a5)),_0x4ac84f[_0x31b99d(0x8c0)][_0x31b99d(0x9ff)](_0x31b99d(0x2ee));});}async function generatePracticeTest(_0x3255e6,_0x5d4b12){const _0xede446=_0xdd45b5;[_0xede446(0xb01),'memoryContent',_0xede446(0x6c1),_0xede446(0x615)][_0xede446(0x947)](_0x26fd01=>{const _0x226a44=_0xede446,_0x5dd1fd=document['getElementById'](_0x26fd01)['parentElement'];_0x5dd1fd&&(_0x5dd1fd['style'][_0x226a44(0xc0b)]=_0x226a44(0xa64));});try{const _0x1af4bf=_0xede446(0x6ec),_0x1ecc16=_0xede446(0x7e5)+_0x5d4b12+_0xede446(0x2b7)+_0x3255e6+_0xede446(0x4ab),_0x31a531=await callGemini(_0x1ecc16,!![]),_0x11e2ce=document[_0xede446(0xbd5)](_0xede446(0x9f6)),_0x36fd7b=document[_0xede446(0xbd5)](_0xede446(0xb3c)),_0x464adb=document[_0xede446(0xbd5)](_0xede446(0x27e)),_0x4871b3=document[_0xede446(0xbd5)]('applicationContent')[_0xede446(0x39f)];_0x11e2ce['innerText']=_0xede446(0xb71)+_0x3255e6[_0xede446(0x3fa)](/•\s/g,'')+_0xede446(0x8a2)+_0x5d4b12+')',currentApplicationData=JSON[_0xede446(0x837)](_0x31a531);const _0x3cc579=document[_0xede446(0xbd5)](_0xede446(0x6c1));_0x3cc579[_0xede446(0x553)]=currentApplicationData[_0xede446(0xb43)]((_0x48d384,_0x514d5d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x514d5d+0x1)+'.\x20'+marked[_0xede446(0x3a3)](_0x48d384[_0xede446(0x8fd)])+_0xede446(0x168)+_0x514d5d+_0xede446(0x8e7)+_0x48d384[_0xede446(0x996)][_0xede446(0xb43)]((_0x5dcf00,_0x492379)=>_0xede446(0x88c)+_0x514d5d+',\x20'+_0x492379+_0xede446(0x638)+String[_0xede446(0xb96)](0x61+_0x492379)+'.\x20'+marked[_0xede446(0x3a3)](_0x5dcf00)+_0xede446(0xb22))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xede446(0xb92)](''),window[_0xede446(0x9dd)]&&MathJax['typesetPromise']([_0x3cc579]),_0x4871b3&&(_0x4871b3[_0xede446(0x125)][_0xede446(0xc0b)]=_0xede446(0xaee)),_0x36fd7b[_0xede446(0x8c0)][_0xede446(0x9ff)](_0xede446(0x2ee)),_0x464adb['classList'][_0xede446(0x3b9)](_0xede446(0x2ee));}catch(_0x2aad5c){console[_0xede446(0x2c7)](_0x2aad5c);throw _0x2aad5c;}}async function callGemini(_0x743c27,_0x147cd1=![]){const _0x80b415=_0xdd45b5,_0x3a323d=_0x80b415(0x8e9),_0x1d5932=_0x80b415(0x4f3)+_0x3a323d,_0x3781c1={'contents':[{'parts':[{'text':_0x743c27}]}]};_0x147cd1&&(_0x3781c1[_0x80b415(0x1ec)]={'responseMimeType':_0x80b415(0xa59)},_0x743c27['includes'](_0x80b415(0x5ef))?_0x3781c1[_0x80b415(0x1ec)][_0x80b415(0xc03)]={'type':_0x80b415(0x207),'properties':{'gradeLevel':{'type':_0x80b415(0xc85)},'curriculum':{'type':_0x80b415(0xbb1),'items':{'type':_0x80b415(0x207),'properties':{'sara':{'type':_0x80b415(0xc85)},'mainTopics':{'type':_0x80b415(0xbb1),'items':{'type':_0x80b415(0x207),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x80b415(0xbb1),'items':{'type':_0x80b415(0xc85)}}},'required':[_0x80b415(0x87b),_0x80b415(0xb97)]}}},'required':[_0x80b415(0xb1),_0x80b415(0x4e5)]}}},'required':[_0x80b415(0x3c8),'curriculum']}:_0x3781c1[_0x80b415(0x1ec)][_0x80b415(0xc03)]={'type':_0x80b415(0xbb1),'items':{'type':_0x80b415(0x207),'properties':{'question':{'type':_0x80b415(0xc85)},'options':{'type':_0x80b415(0xbb1),'items':{'type':_0x80b415(0xc85)}},'answer':{'type':'NUMBER'}},'required':['question',_0x80b415(0x996),'answer']}});try{const _0x2e41ca=await fetch(_0x1d5932,{'method':_0x80b415(0xec),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x3781c1)});if(!_0x2e41ca['ok']){const _0xeb5e8d=await _0x2e41ca[_0x80b415(0xaba)]();console[_0x80b415(0x2c7)](_0x80b415(0x57c),_0xeb5e8d);throw new Error(_0x80b415(0x504)+_0x2e41ca[_0x80b415(0x56c)]);}const _0x2d0671=await _0x2e41ca['json']();if(_0x2d0671[_0x80b415(0x8be)]&&_0x2d0671[_0x80b415(0x8be)][0x0][_0x80b415(0x8cc)]&&_0x2d0671['candidates'][0x0]['content']['parts'][0x0])return _0x2d0671['candidates'][0x0][_0x80b415(0x8cc)][_0x80b415(0x32f)][0x0][_0x80b415(0xaba)];else{console[_0x80b415(0x2c7)]('Unexpected\x20API\x20response\x20structure:',_0x2d0671);if(_0x2d0671[_0x80b415(0x8be)]&&_0x2d0671[_0x80b415(0x8be)][0x0][_0x80b415(0xae5)]===_0x80b415(0x97b))return JSON[_0x80b415(0xbd9)]({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error(_0x80b415(0xa65));}}catch(_0x1dc60e){console[_0x80b415(0x2c7)](_0x80b415(0xb21),_0x1dc60e);throw _0x1dc60e;}}async function generateLesson(_0x2d5b01=null,_0x1c7492=null){const _0x2a552f=_0xdd45b5,_0x325614=_0x2d5b01,_0x1b1b16=_0x1c7492||_0x2a552f(0x78d),_0x2b1702=document['getElementById'](_0x2a552f(0xb3c)),_0x318960=document[_0x2a552f(0xbd5)]('lesson-loader-text');_0x318960[_0x2a552f(0x5e0)]=_0x2a552f(0x8e2)+_0x325614+_0x2a552f(0x1c4);try{let _0x2a0f81=[];const _0x55693e=document[_0x2a552f(0xbd5)](_0x2a552f(0xc5a))?.[_0x2a552f(0xc1a)][_0x2a552f(0x7ae)]();if(_0x55693e)try{_0x318960['textContent']=_0x2a552f(0x88b);const _0x288b04=await fetchFileFromUrl(_0x55693e,_0x2a552f(0x891)),_0x27f1b5=await new Promise((_0x1dcdf1,_0x2d29e8)=>{const _0x382ee9=_0x2a552f,_0x1a5e33=new FileReader();_0x1a5e33[_0x382ee9(0x7aa)](_0x288b04),_0x1a5e33[_0x382ee9(0xbcc)]=()=>_0x1dcdf1(_0x1a5e33['result'][_0x382ee9(0xa21)](',')[0x1]),_0x1a5e33[_0x382ee9(0x3b4)]=_0x2d29e8;});_0x2a0f81[_0x2a552f(0x12e)]({'inlineData':{'mimeType':_0x288b04[_0x2a552f(0x886)],'data':_0x27f1b5}});}catch(_0x1d5975){console[_0x2a552f(0x2c7)](_0x2a552f(0x110),_0x1d5975),showMessage(_0x2a552f(0x6bf));}const _0x433aa3=_0x2a552f(0x6cb)+_0x325614+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x325614+_0x2a552f(0x7be);_0x318960[_0x2a552f(0x5e0)]=_0x2a552f(0x8e2)+_0x325614+_0x2a552f(0x1c4);const _0x3b515c=_0x2a552f(0xc24)+_0x1b1b16+_0x2a552f(0x2b7)+_0x325614+_0x2a552f(0x9a9)+_0x433aa3+_0x2a552f(0x74d),_0x127747=_0x2a552f(0x7c8)+_0x325614+_0x2a552f(0x85c)+_0x1b1b16+_0x2a552f(0xc0)+_0x433aa3+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x2bd27c='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x1b1b16+_0x2a552f(0x2b7)+_0x325614+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x433aa3+_0x2a552f(0xb16),_0x25ea1a=_0x2a552f(0x498)+_0x325614+_0x2a552f(0x35c)+_0x1b1b16+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x433aa3+_0x2a552f(0x513),_0x3e61e1={'type':_0x2a552f(0xbb1),'items':{'type':_0x2a552f(0x207),'properties':{'question':{'type':_0x2a552f(0xc85)},'options':{'type':'ARRAY','items':{'type':_0x2a552f(0xc85)}},'answer':{'type':'NUMBER'}},'required':['question',_0x2a552f(0x996),_0x2a552f(0x5b4)]}},[_0x566257,_0x532958,_0x3bebfb,_0x51d799]=await Promise[_0x2a552f(0x906)]([handleApiCall([{'text':_0x3b515c},..._0x2a0f81],'...',null,null,![]),handleApiCall([{'text':_0x127747},..._0x2a0f81],'...',null,null,![]),handleApiCall([{'text':_0x2bd27c},..._0x2a0f81],_0x2a552f(0x663),_0x3e61e1,null,![]),handleApiCall([{'text':_0x25ea1a},..._0x2a0f81],_0x2a552f(0x663),null,null,![])]),_0x31fed2=JSON[_0x2a552f(0xbd9)](_0x3bebfb||[]),_0x1bd69c=document[_0x2a552f(0xbd5)](_0x2a552f(0x9f6)),_0x4c8e5e=document['getElementById'](_0x2a552f(0x27e));_0x1bd69c[_0x2a552f(0x250)]=_0x2a552f(0x813)+_0x325614[_0x2a552f(0x3fa)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x1b1b16+')',[_0x2a552f(0xb01),_0x2a552f(0x57d),_0x2a552f(0x615)]['forEach'](_0x96634=>{const _0x5f0d63=_0x2a552f;document['getElementById'](_0x96634)[_0x5f0d63(0x553)]='';}),document[_0x2a552f(0xbd5)](_0x2a552f(0xb01))['innerHTML']=_0x566257?marked[_0x2a552f(0x837)](_0x566257):_0x2a552f(0x682),document[_0x2a552f(0xbd5)](_0x2a552f(0x57d))[_0x2a552f(0x553)]=_0x532958?marked[_0x2a552f(0x837)](_0x532958):_0x2a552f(0x682),document['getElementById'](_0x2a552f(0x615))[_0x2a552f(0x553)]=_0x51d799?marked[_0x2a552f(0x837)](_0x51d799):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x2a552f(0x837)](_0x31fed2);const _0x1eb43e=document['getElementById']('applicationContent');_0x1eb43e[_0x2a552f(0x553)]=(currentApplicationData||[])[_0x2a552f(0xb43)]((_0x62696a,_0x1444b4)=>_0x2a552f(0x9f8)+(_0x1444b4+0x1)+'.\x20'+marked[_0x2a552f(0x3a3)](_0x62696a[_0x2a552f(0x8fd)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x1444b4+_0x2a552f(0x8e7)+(_0x62696a[_0x2a552f(0x996)]||[])[_0x2a552f(0xb43)]((_0x3872e3,_0x5a0610)=>_0x2a552f(0x88c)+_0x1444b4+',\x20'+_0x5a0610+_0x2a552f(0x638)+String[_0x2a552f(0xb96)](0x61+_0x5a0610)+'.\x20'+marked[_0x2a552f(0x3a3)](_0x3872e3||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2a552f(0xb92)]('')+_0x2a552f(0x825))[_0x2a552f(0xb92)]('')||_0x2a552f(0x158),window[_0x2a552f(0x9dd)]&&MathJax[_0x2a552f(0x679)]([_0x4c8e5e]),_0x2b1702[_0x2a552f(0x8c0)][_0x2a552f(0x9ff)](_0x2a552f(0x2ee)),_0x4c8e5e[_0x2a552f(0x8c0)][_0x2a552f(0x3b9)]('hidden');}catch(_0x1436ce){console[_0x2a552f(0x2c7)](_0x1436ce);throw _0x1436ce;}}function checkAnswer(_0x179344,_0x41c2b3){const _0x3a062a=_0xdd45b5,_0x573b30=currentApplicationData[_0x179344],_0x8c0219=document[_0x3a062a(0xbd5)]('q'+_0x179344+_0x3a062a(0x99a)),_0x17fb06=_0x8c0219[_0x3a062a(0x64c)](_0x3a062a(0x9f9));for(let _0x1788a3 of _0x17fb06){_0x1788a3[_0x3a062a(0x256)]=!![];}_0x41c2b3===_0x573b30[_0x3a062a(0x5b4)]?_0x17fb06[_0x41c2b3][_0x3a062a(0x8c0)]['add'](_0x3a062a(0xac)):(_0x17fb06[_0x41c2b3][_0x3a062a(0x8c0)][_0x3a062a(0x9ff)]('incorrect'),_0x17fb06[_0x573b30['answer']]['classList'][_0x3a062a(0x9ff)](_0x3a062a(0xac)));}window[_0xdd45b5(0xc74)]=handleGenerateAndShowLesson,window[_0xdd45b5(0xa7e)]=checkAnswer,window[_0xdd45b5(0xa20)]=handleGeneratePracticeTest,window[_0xdd45b5(0x3c1)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x3c3437=_0xdd45b5;try{const _0x153e19=initializeApp(firebaseConfig);db=getFirestore(_0x153e19),auth=getAuth(_0x153e19),setupAuthListener(),setupEventListeners(),showView(_0x3c3437(0xc69)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x59fa6b){console['error']('Firebase\x20initialization\x20failed:',_0x59fa6b),showMessage(_0x3c3437(0xbcd));}}async function handleVerifyAnswersInEditor(){const _0x341909=_0xdd45b5,_0x5ad23e=document[_0x341909(0xbd5)](_0x341909(0x43e));if(!_0x5ad23e)return;const _0x4be472=document[_0x341909(0xbd5)](_0x341909(0x9b0));_0x4be472[_0x341909(0x256)]=!![],_0x4be472[_0x341909(0x553)]=_0x341909(0x5f3);try{const _0x2369bc=_0x5ad23e[_0x341909(0x197)]('.question-editor-item'),_0x376e69=Array['from'](_0x2369bc)[_0x341909(0xb43)]((_0x1a0023,_0x585258)=>{const _0xb1f724=_0x341909,_0x1fff6a=_0x1a0023[_0xb1f724(0x41c)][_0xb1f724(0x21a)],_0x368456=_0x1a0023[_0xb1f724(0x5db)]('textarea')['value'];let _0x30961c=null,_0x7a5a33='';switch(_0x1fff6a){case'multiple_choice':const _0x522103=_0x1a0023['querySelectorAll'](_0xb1f724(0xabc));_0x30961c=Array[_0xb1f724(0x4f9)](_0x522103)[_0xb1f724(0xb43)](_0x264eec=>_0x264eec['value']);const _0x1e7192=_0x1a0023['querySelector'](_0xb1f724(0x931));_0x1e7192&&(_0x7a5a33=_0x30961c[parseInt(_0x1e7192['value'])]);break;case'short_answer':_0x30961c=[],_0x7a5a33=_0x1a0023['querySelector'](_0xb1f724(0xb50))[_0xb1f724(0xc1a)];break;case _0xb1f724(0xa62):_0x30961c=[_0xb1f724(0x332),_0xb1f724(0x1c9)];const _0x15908a=_0x1a0023[_0xb1f724(0x5db)](_0xb1f724(0x931));_0x7a5a33=_0x15908a?_0x15908a[_0xb1f724(0xc1a)]:'';break;case _0xb1f724(0xc6):_0x30961c=[],_0x7a5a33=_0x1a0023[_0xb1f724(0x5db)](_0xb1f724(0x87a))['value'];break;}return{'question':_0x368456,'options':_0x30961c,'proposedAnswer':_0x7a5a33};}),_0x2d2d3f=_0x341909(0x44e)+JSON[_0x341909(0xbd9)](_0x376e69)+_0x341909(0x3bf),_0x5c7171={'type':_0x341909(0xbb1),'items':{'type':_0x341909(0x207),'properties':{'questionIndex':{'type':_0x341909(0x51e)},'isCorrect':{'type':_0x341909(0x6d6)},'justification':{'type':_0x341909(0xc85)},'correctOptionExists':{'type':_0x341909(0x6d6)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x341909(0x207),'properties':{'newOptions':{'type':_0x341909(0xbb1),'items':{'type':_0x341909(0xc85)}},'newCorrectIndex':{'type':_0x341909(0x51e)}}}},'required':[_0x341909(0x31b),'isCorrect',_0x341909(0x3a1)]}},_0x3be95f=await callAnalysisApi(_0x2d2d3f,{'type':_0x341909(0x207),'properties':{'result':_0x5c7171},'required':[_0x341909(0x2f3)]});displayVerificationResultsInEditor(_0x3be95f[_0x341909(0x2f3)]);}catch(_0x3b6506){console[_0x341909(0x2c7)](_0x341909(0x1bc),_0x3b6506),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x4be472[_0x341909(0x256)]=![],_0x4be472[_0x341909(0x553)]=_0x341909(0x7b0);}}function displayVerificationResultsInEditor(_0x2f44ee){const _0xc00f6b=_0xdd45b5;_0x2f44ee[_0xc00f6b(0x947)](_0x37f428=>{const _0x211b0e=_0xc00f6b,_0x2c6a73=document[_0x211b0e(0x5db)]('.question-editor-item[data-q-index=\x22'+_0x37f428[_0x211b0e(0x31b)]+'\x22]');if(!_0x2c6a73)return;const _0x188e29=_0x2c6a73[_0x211b0e(0x5db)](_0x211b0e(0x369));if(_0x188e29)_0x188e29['remove']();let _0x3cc083='';if(_0x37f428[_0x211b0e(0xaab)]&&_0x37f428[_0x211b0e(0xaab)]['newOptions']){const _0x2f437e=_0x37f428[_0x211b0e(0xaab)]['newOptions'],_0x29d675=_0x37f428[_0x211b0e(0xaab)][_0x211b0e(0x343)],_0x3c527b=_0x2c6a73[_0x211b0e(0x41c)][_0x211b0e(0x21a)];if(_0x3c527b===_0x211b0e(0xad4)){const _0x46eb88=_0x2c6a73[_0x211b0e(0x197)](_0x211b0e(0xabc));_0x46eb88[_0x211b0e(0x947)]((_0x5aa701,_0x31286a)=>{const _0x35a2f1=_0x211b0e;_0x2f437e[_0x31286a]?_0x5aa701[_0x35a2f1(0xc1a)]=_0x2f437e[_0x31286a]:_0x5aa701[_0x35a2f1(0xc1a)]=_0x35a2f1(0x37d);});const _0x4cad77=_0x2c6a73[_0x211b0e(0x5db)]('input[type=\x22radio\x22][value=\x22'+_0x29d675+'\x22]');_0x4cad77&&(_0x4cad77[_0x211b0e(0x674)]=!![]),_0x3cc083='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x2c6a73[_0x211b0e(0x8c0)]['add'](_0x211b0e(0x426),'transition-all',_0x211b0e(0x654)),setTimeout(()=>{const _0x5028fc=_0x211b0e;_0x2c6a73[_0x5028fc(0x8c0)][_0x5028fc(0x3b9)](_0x5028fc(0x426));},0x9c4);}}else{if(!_0x37f428[_0x211b0e(0x66b)]&&_0x37f428[_0x211b0e(0x650)]){const _0x1f254c=_0x37f428['suggestedAnswer']?_0x211b0e(0xc2e):'';_0x3cc083=_0x211b0e(0xc4d)+_0x1f254c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x37f428[_0x211b0e(0x3a1)]+_0x211b0e(0x5ad)+(_0x37f428[_0x211b0e(0x650)]?_0x211b0e(0x377)+_0x37f428['suggestedAnswer']+_0x211b0e(0x57f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x327fab=_0x2c6a73[_0x211b0e(0x41c)][_0x211b0e(0x21a)],_0x5ea684=_0xf787a5=>{const _0x3959a3=_0x211b0e;if(!_0xf787a5)return;_0xf787a5[_0x3959a3(0x8c0)][_0x3959a3(0x9ff)](_0x3959a3(0xb1f),_0x3959a3(0x12f),_0x3959a3(0x654)),setTimeout(()=>{const _0x35f532=_0x3959a3;_0xf787a5[_0x35f532(0x8c0)][_0x35f532(0x3b9)](_0x35f532(0xb1f));},0x9c4);};if(_0x327fab===_0x211b0e(0xad4)){const _0x560be6=Array[_0x211b0e(0x4f9)](_0x2c6a73['querySelectorAll'](_0x211b0e(0xabc))),_0x5e390e=_0x560be6['findIndex'](_0x122964=>_0x122964[_0x211b0e(0xc1a)][_0x211b0e(0x7ae)]()['toLowerCase']()===_0x37f428[_0x211b0e(0x650)]['trim']()[_0x211b0e(0x1a5)]());if(_0x5e390e!==-0x1){const _0x2a3a0e=_0x2c6a73['querySelector'](_0x211b0e(0x480)+_0x5e390e+'\x22]');_0x2a3a0e&&(_0x2a3a0e['checked']=!![],_0x5ea684(_0x2a3a0e[_0x211b0e(0x18a)](_0x211b0e(0xb02))));}}else{if(_0x327fab===_0x211b0e(0x5ed)||_0x327fab===_0x211b0e(0xc6)){const _0x6c1f56=_0x2c6a73['querySelector'](_0x211b0e(0x47d));_0x6c1f56&&(_0x6c1f56[_0x211b0e(0xc1a)]=_0x37f428[_0x211b0e(0x650)],_0x5ea684(_0x6c1f56));}else{if(_0x327fab===_0x211b0e(0xa62)){const _0x51c67a=_0x37f428['suggestedAnswer']['trim']()[_0x211b0e(0x1a5)](),_0x40645e=_0x2c6a73['querySelector'](_0x211b0e(0x480)+_0x51c67a+'\x22]');_0x40645e&&(_0x40645e['checked']=!![],_0x5ea684(_0x40645e[_0x211b0e(0x18a)](_0x211b0e(0xb02))));}}}}else _0x37f428['isCorrect']&&(_0x3cc083=_0x211b0e(0x8f3));}_0x2c6a73['insertAdjacentHTML'](_0x211b0e(0x2ba),_0x3cc083);}),showMessage(_0xc00f6b(0x118));}async function handleVerifyAnswers(){const _0x2f281f=_0xdd45b5;if(!currentQuizData||!currentQuizData[_0x2f281f(0x69e)]){showMessage(_0x2f281f(0xa0f));return;}const _0x321650=document['getElementById'](_0x2f281f(0xbf4));_0x321650[_0x2f281f(0x256)]=!![],_0x321650[_0x2f281f(0x553)]=_0x2f281f(0x5f3);try{const _0x3935ac=currentQuizData[_0x2f281f(0x69e)]['map']((_0x207f35,_0x14e5ef)=>{const _0xa86a4f=_0x2f281f;let _0x485130='';const _0x29e4d7=_0x207f35[_0xa86a4f(0x40c)]||currentQuizData['quizType'];switch(_0x29e4d7){case _0xa86a4f(0xad4):_0x485130=_0x207f35[_0xa86a4f(0x996)][_0x207f35[_0xa86a4f(0x51c)]];break;case _0xa86a4f(0x5ed):_0x485130=_0x207f35[_0xa86a4f(0x24b)];break;case'true_false':_0x485130=_0x207f35['correctAnswer'][_0xa86a4f(0x467)]();break;case'matching_item':_0x485130=_0x207f35[_0xa86a4f(0xc67)];break;}return{'question':_0x207f35[_0xa86a4f(0xbb0)]||_0x207f35[_0xa86a4f(0x72b)],'options':_0x207f35['options']||null,'proposedAnswer':_0x485130};}),_0x2d7678=_0x2f281f(0x317)+JSON[_0x2f281f(0xbd9)](_0x3935ac)+_0x2f281f(0xc9c),_0x205388={'type':_0x2f281f(0xbb1),'items':{'type':_0x2f281f(0x207),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x2f281f(0x6d6)},'justification':{'type':_0x2f281f(0xc85)},'suggestedAnswer':{'type':_0x2f281f(0xc85)}},'required':[_0x2f281f(0x31b),'isCorrect',_0x2f281f(0x3a1)]}},_0x41fb43=await callAnalysisApi(_0x2d7678,{'type':_0x2f281f(0x207),'properties':{'result':_0x205388},'required':[_0x2f281f(0x2f3)]});displayVerificationResults(_0x41fb43[_0x2f281f(0x2f3)]);}catch(_0x4b1fad){console[_0x2f281f(0x2c7)](_0x2f281f(0x2a4),_0x4b1fad),showMessage(_0x2f281f(0x653));}finally{_0x321650['disabled']=![],_0x321650[_0x2f281f(0x553)]=_0x2f281f(0xc3e);}}function displayVerificationResults(_0x51ece2){const _0x166a01=_0xdd45b5;_0x51ece2[_0x166a01(0x947)](_0x116e7f=>{const _0x3db8bc=_0x166a01,_0x300c7e=document[_0x3db8bc(0x5db)]('div[data-question-index=\x22'+_0x116e7f[_0x3db8bc(0x31b)]+'\x22]');if(_0x300c7e){const _0x6e6cb=_0x300c7e[_0x3db8bc(0x5db)](_0x3db8bc(0x36f));if(_0x6e6cb)_0x6e6cb[_0x3db8bc(0x3b9)]();let _0x1e865d='';_0x116e7f[_0x3db8bc(0x66b)]?_0x1e865d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1e865d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x116e7f[_0x3db8bc(0x3a1)]+_0x3db8bc(0x8e4)+(_0x116e7f[_0x3db8bc(0x650)]?_0x3db8bc(0x377)+_0x116e7f['suggestedAnswer']+'</p>':'')+_0x3db8bc(0x23f),_0x300c7e['insertAdjacentHTML'](_0x3db8bc(0x2ba),_0x1e865d);}}),showMessage(_0x166a01(0x118));}function compareNumericalAnswers(_0x59a059,_0x282304){const _0x193f08=_0xdd45b5,_0x4396a2=String(_0x59a059)[_0x193f08(0x3fa)](',','.')[_0x193f08(0x3fa)](/[^\d.-]/g,'')[_0x193f08(0x7ae)](),_0x480c90=String(_0x282304)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x193f08(0x7ae)]();if(_0x4396a2===''||_0x480c90==='')return![];const _0x296752=parseFloat(_0x4396a2),_0x1b50d9=parseFloat(_0x480c90);if(isNaN(_0x296752)||isNaN(_0x1b50d9))return![];return Math['abs'](_0x296752-_0x1b50d9)<0.001;}function isPotentiallyNumeric(_0x5ce086){const _0x574ca0=_0xdd45b5;if(typeof _0x5ce086!==_0x574ca0(0x58c)&&typeof _0x5ce086!=='number')return![];const _0x57255d=String(_0x5ce086)[_0x574ca0(0x3fa)](',','.')[_0x574ca0(0x7ae)]();return _0x57255d!==''&&!isNaN(parseFloat(_0x57255d))&&isFinite(_0x57255d);}async function gradeShortAnswer(_0xc657fc,_0x2ec832){const _0x13db8d=_0xdd45b5,_0x982c01=_0x2ec832[_0x13db8d(0x24b)],_0x2715eb=String(_0xc657fc)['replace'](/\$/g,'')['trim'](),_0x58debc=String(_0x982c01)[_0x13db8d(0x3fa)](/\$/g,'')[_0x13db8d(0x7ae)]();if(_0x2715eb['toLowerCase']()===_0x58debc[_0x13db8d(0x1a5)]())return!![];if(isPotentiallyNumeric(_0x2715eb)&&isPotentiallyNumeric(_0x58debc)){if(compareNumericalAnswers(_0x2715eb,_0x58debc))return!![];}return console[_0x13db8d(0x3b7)](_0x13db8d(0x7c5)),await gradeShortAnswerWithAI(_0xc657fc,_0x982c01);}async function revealAnswerForAdmin(_0x534666,_0x2d77ff){const _0x2d45ad=_0xdd45b5,_0x4f4d79=doc(db,_0x2d45ad(0xb4)+appId+_0x2d45ad(0x179),currentLiveGameId);await updateDoc(_0x4f4d79,{'questionStatus':_0x2d45ad(0x86c)});}function showTop5LeaderboardView(_0x240f04){const _0x3d2f5a=_0xdd45b5,_0x206078=Object[_0x3d2f5a(0x3bb)](_0x240f04[_0x3d2f5a(0xa96)]||{})[_0x3d2f5a(0x26c)](_0x2926b3=>_0x2926b3['status']===_0x3d2f5a(0x9b4));_0x206078['sort']((_0x3cf6a7,_0x396146)=>_0x396146[_0x3d2f5a(0x9e7)]-_0x3cf6a7[_0x3d2f5a(0x9e7)]);const _0x381a42=_0x206078['slice'](0x0,0x5),_0x7377b0=_0x3d2f5a(0xb83)+_0x381a42[_0x3d2f5a(0xb43)]((_0x2685bc,_0x18f573)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x18f573+0x1)+'.\x20'+(_0x2685bc[_0x3d2f5a(0x8aa)]||Object[_0x3d2f5a(0x2df)](_0x240f04[_0x3d2f5a(0xa96)])[_0x3d2f5a(0x922)](_0x49f0ae=>_0x240f04[_0x3d2f5a(0xa96)][_0x49f0ae]===_0x2685bc))+_0x3d2f5a(0x437)+_0x2685bc[_0x3d2f5a(0x9e7)]+_0x3d2f5a(0xbac))[_0x3d2f5a(0xb92)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x240f04[_0x3d2f5a(0x180)]+0x1===currentQuizData['questions'][_0x3d2f5a(0x9f1)]?_0x3d2f5a(0xacf):_0x3d2f5a(0x860))+_0x3d2f5a(0xc8b);liveGameView['innerHTML']=_0x7377b0,document['getElementById'](_0x3d2f5a(0xb5e))['addEventListener']('click',async()=>{const _0x1643a9=_0x3d2f5a,_0x185e57=doc(db,_0x1643a9(0xb4)+appId+_0x1643a9(0x179),currentLiveGameId),_0x2c43d8=_0x240f04[_0x1643a9(0x180)]+0x1;if(_0x2c43d8<currentQuizData['questions'][_0x1643a9(0x9f1)]){const _0x3a05cb={'currentQuestionIndex':_0x2c43d8,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x1643a9(0x4b2)};Object[_0x1643a9(0x2df)](_0x240f04[_0x1643a9(0xa96)])[_0x1643a9(0x947)](_0x3a2284=>{const _0x2cc88c=_0x1643a9;_0x3a05cb[_0x2cc88c(0x115)+_0x3a2284+_0x2cc88c(0x77c)]=![];}),await updateDoc(_0x185e57,_0x3a05cb);}else await updateDoc(_0x185e57,{'status':_0x1643a9(0xa9e)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x4d07d9=>{const _0x24d8d1=_0x39cc;if(_0x4d07d9){userId=_0x4d07d9[_0x24d8d1(0x588)],userIdDisplay['textContent']=userId;const _0x326656=await loadUserPreferences();_0x326656[_0x24d8d1(0x842)]&&(document[_0x24d8d1(0xbd5)](_0x24d8d1(0x631))[_0x24d8d1(0xc1a)]=_0x326656[_0x24d8d1(0x842)]);globalDashboardSettings[_0x24d8d1(0x225)]=_0x326656[_0x24d8d1(0x225)]||_0x24d8d1(0x722);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x3acb4b,_0x493c06){const _0xfcf50d=_0xdd45b5;if(!userId)return;try{const _0x391d4a=doc(db,_0xfcf50d(0xb4)+appId+_0xfcf50d(0x8af)+userId+'/preferences/main'),_0x24c217={};_0x24c217[_0x3acb4b]=_0x493c06,await setDoc(_0x391d4a,_0x24c217,{'merge':!![]});}catch(_0x34ae4d){console[_0xfcf50d(0x2c7)](_0xfcf50d(0x2ce),_0x34ae4d);}}async function loadUserPreferences(){const _0xfb4ee4=_0xdd45b5;if(!userId)return{};try{const _0x586c3c=doc(db,_0xfb4ee4(0xb4)+appId+_0xfb4ee4(0x8af)+userId+_0xfb4ee4(0x2ea)),_0x5a5827=await getDoc(_0x586c3c);if(_0x5a5827[_0xfb4ee4(0x935)]())return _0x5a5827[_0xfb4ee4(0xa1d)]();return{};}catch(_0x503177){return console[_0xfb4ee4(0x2c7)]('Error\x20loading\x20user\x20preferences:',_0x503177),{};}}function parseIndentedBlueprint(_0x3a89c8){const _0x25f35f=_0xdd45b5,_0x138b76=_0x3a89c8[_0x25f35f(0xa21)]('\x0a')['filter'](_0x2709f7=>_0x2709f7[_0x25f35f(0x7ae)]()!==''),_0x16840b=[];let _0x11b70d=null,_0xc9cd0e=null;return _0x138b76['forEach'](_0x116360=>{const _0x279b08=_0x25f35f,_0x582248=_0x116360[_0x279b08(0x9e2)](/^\s*/)[0x0][_0x279b08(0x9f1)],_0x856e27=_0x116360[_0x279b08(0x7ae)]();if(_0x582248===0x0)_0x11b70d={'sara':_0x856e27,'mainTopics':[]},_0x16840b[_0x279b08(0x12e)](_0x11b70d),_0xc9cd0e=null;else{if(_0x582248>0x0&&_0x582248<0x8&&_0x11b70d)_0xc9cd0e={'topicName':_0x856e27,'subTopics':[]},_0x11b70d[_0x279b08(0x4e5)][_0x279b08(0x12e)](_0xc9cd0e);else _0x582248>=0x8&&_0xc9cd0e&&_0xc9cd0e['subTopics'][_0x279b08(0x12e)](_0x856e27);}}),{'curriculum':_0x16840b};}async function handleManualBlueprintSave(){const _0xa6c05d=_0xdd45b5,_0x20f41b=document['getElementById'](_0xa6c05d(0x745))[_0xa6c05d(0xc1a)][_0xa6c05d(0x7ae)](),_0x4043f8=document[_0xa6c05d(0xbd5)](_0xa6c05d(0x130))[_0xa6c05d(0xc1a)]['trim'](),_0x2326c5=document[_0xa6c05d(0xbd5)](_0xa6c05d(0x87c))[_0xa6c05d(0xc1a)];if(!_0x20f41b||!_0x4043f8||!_0x2326c5){showMessage(_0xa6c05d(0x306));return;}const _0x16e601=parseIndentedBlueprint(_0x2326c5);if(!_0x16e601[_0xa6c05d(0x272)]||_0x16e601[_0xa6c05d(0x272)][_0xa6c05d(0x9f1)]===0x0){showMessage(_0xa6c05d(0x493));return;}const _0x586602={};let _0x42904c=0x0;_0x16e601['curriculum']['forEach'](_0x331cda=>{const _0x309f5a=_0xa6c05d;_0x331cda[_0x309f5a(0x4e5)][_0x309f5a(0x947)](_0x4a6d58=>{const _0x2447da=_0x309f5a;_0x4a6d58['subTopics'][_0x2447da(0x947)](_0xa13fc3=>{const _0x3b34f5=_0x2447da,_0x18e507=_0x3b34f5(0x953)+Date['now']()+Math[_0x3b34f5(0xc56)]()['toString'](0x24)[_0x3b34f5(0x762)](0x2,0x9);_0x586602[_0x18e507]={'sara':_0x331cda[_0x3b34f5(0xb1)],'mainTopic':_0x4a6d58['topicName'],'subTopic':_0xa13fc3,'status':_0x3b34f5(0xb4e),'lessonContent':null,'order':_0x42904c++};});});});try{const _0x1aa57a=collection(db,'artifacts/'+appId+_0xa6c05d(0x3de));await addDoc(_0x1aa57a,{'projectName':_0x20f41b,'gradeLevel':_0x4043f8,'topics':_0x586602,'createdAt':serverTimestamp()}),showMessage(_0xa6c05d(0x721)+_0x20f41b+_0xa6c05d(0x503)),document[_0xa6c05d(0xbd5)](_0xa6c05d(0x781))[_0xa6c05d(0x8c0)][_0xa6c05d(0x9ff)](_0xa6c05d(0x2ee));}catch(_0x1d504f){console[_0xa6c05d(0x2c7)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x1d504f),showMessage(_0xa6c05d(0xad6));}}function handleClearAllLinksForTopic(_0x55a728){const _0x15c22c=_0xdd45b5;showConfirmation(_0x15c22c(0x849),async()=>{const _0x5433a1=_0x15c22c;try{const _0x16b016=doc(db,_0x5433a1(0xb4)+appId+_0x5433a1(0x3de),currentBlueprintProjectId);await updateDoc(_0x16b016,{[_0x5433a1(0x95d)+_0x55a728+_0x5433a1(0x997)]:[]}),showMessage(_0x5433a1(0x4e0)),openTopicQuizBank(_0x55a728),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2336d6){console[_0x5433a1(0x2c7)](_0x5433a1(0x582),_0x2336d6),showMessage(_0x5433a1(0xbe2));}});}function showPodiumView(_0x2e1ff8,_0x5a0af0='live-race'){const _0x325f83=_0xdd45b5,_0x52a9a2=Object[_0x325f83(0x1a6)](_0x2e1ff8)[_0x325f83(0xb43)](([_0x1abb48,_0x123775])=>({'name':_0x1abb48,'score':_0x123775['score']||0x0,'badges':_0x123775[_0x325f83(0xb70)]||[],'hasPerfectScoreBonus':_0x123775[_0x325f83(0x397)]||![]}));_0x52a9a2[_0x325f83(0x50a)]((_0x3bbd8c,_0x1f24bf)=>{const _0x240920=_0x325f83,_0x3fa82f=_0x1f24bf['score']-_0x3bbd8c[_0x240920(0x9e7)];if(_0x3fa82f!==0x0)return _0x3fa82f;return(_0x1f24bf[_0x240920(0xb70)]['length']||0x0)-(_0x3bbd8c[_0x240920(0xb70)][_0x240920(0x9f1)]||0x0);});const _0x2160b5=_0x1caad8=>{const _0x53c879=_0x325f83;if(!_0x1caad8||_0x1caad8[_0x53c879(0x9f1)]===0x0)return'';const _0x5e040f={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x53c879(0x43d)+_0x1caad8[_0x53c879(0xb43)](_0x1b5529=>_0x5e040f[_0x1b5529]||'')[_0x53c879(0xb92)]('')+_0x53c879(0x969);},_0x36677c=_0x52a9a2[_0x325f83(0xbb3)](0x3),_0x2aef1c=_0x36677c[_0x325f83(0x9f1)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x36677c[_0x325f83(0xb43)]((_0x45e78d,_0x3eb454)=>{const _0x5e2e68=_0x325f83,_0x52d46b=_0x45e78d[_0x5e2e68(0x397)]?_0x5e2e68(0x18e):'';return _0x5e2e68(0x395)+(_0x3eb454+0x4)+_0x5e2e68(0x368)+_0x45e78d['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x45e78d[_0x5e2e68(0x9e7)]+_0x5e2e68(0x71b)+_0x52d46b+_0x5e2e68(0x82c);})[_0x325f83(0xb92)]('')+_0x325f83(0x6df):'',_0x4c085c=_0x325f83(0x706)+(_0x52a9a2[0x1]?_0x325f83(0x20c)+_0x52a9a2[0x1][_0x325f83(0x8aa)]+_0x325f83(0x57f)+_0x2160b5(_0x52a9a2[0x1]['badges'])+_0x325f83(0x5cb)+_0x52a9a2[0x1][_0x325f83(0x9e7)]+_0x325f83(0x71b)+(_0x52a9a2[0x1][_0x325f83(0x397)]?_0x325f83(0xc34):'')+_0x325f83(0x4f5):_0x325f83(0x45b))+_0x325f83(0x3bf)+(_0x52a9a2[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x52a9a2[0x0][_0x325f83(0x8aa)]+_0x325f83(0x57f)+_0x2160b5(_0x52a9a2[0x0]['badges'])+'<p\x20class=\x22text-2xl\x22>'+_0x52a9a2[0x0]['score']+'\x20คะแนน\x20'+(_0x52a9a2[0x0]['hasPerfectScoreBonus']?_0x325f83(0xc34):'')+_0x325f83(0xf0):_0x325f83(0x45b))+_0x325f83(0x3bf)+(_0x52a9a2[0x2]?_0x325f83(0x527)+_0x52a9a2[0x2][_0x325f83(0x8aa)]+_0x325f83(0x57f)+_0x2160b5(_0x52a9a2[0x2][_0x325f83(0xb70)])+'<p\x20class=\x22text-xl\x22>'+_0x52a9a2[0x2][_0x325f83(0x9e7)]+_0x325f83(0x71b)+(_0x52a9a2[0x2][_0x325f83(0x397)]?_0x325f83(0xc34):'')+_0x325f83(0xa41):_0x325f83(0x45b))+_0x325f83(0xbc7)+_0x2aef1c+_0x325f83(0xca4)+(currentMode===_0x325f83(0xba1)?_0x325f83(0x3ae):_0x325f83(0x459))+_0x325f83(0x98e);liveGameView[_0x325f83(0x553)]=_0x4c085c,currentMode===_0x325f83(0xba1)&&document['getElementById'](_0x325f83(0x7d1))[_0x325f83(0x915)](_0x325f83(0x98f),async()=>{const _0x19fa39=_0x325f83;let _0x23bf62;_0x5a0af0===_0x19fa39(0x656)?_0x23bf62=doc(db,'artifacts/'+appId+_0x19fa39(0x4ea),currentLiveGameId):_0x23bf62=doc(db,_0x19fa39(0xb4)+appId+_0x19fa39(0x179),currentLiveGameId),await deleteDoc(_0x23bf62);});}function renderSyncSummaryView(_0x50aa45,_0x3798e5,_0x4eeace){const _0x276ad0=_0xdd45b5,_0x299d9b=_0x50aa45[_0x276ad0(0xb86)]||'classic',_0x443fa7=_0x299d9b===_0x276ad0(0x571)&&_0x50aa45[_0x276ad0(0x378)]===![],_0x7964d6=Object[_0x276ad0(0x3bb)](_0x50aa45['players']||{}),_0x202626=_0x50aa45[_0x276ad0(0x109)][_0x276ad0(0x69e)],_0x195614=_0x3798e5[_0x276ad0(0x40c)]||_0x50aa45[_0x276ad0(0x109)][_0x276ad0(0x51a)];let _0x547b59=[];_0x195614===_0x276ad0(0xa62)?_0x547b59=[_0x276ad0(0x298),_0x276ad0(0x6c0)]:_0x547b59=_0x3798e5[_0x276ad0(0x996)]||[];const _0x1ef9a0=new Array(_0x547b59['length'])[_0x276ad0(0xa9c)](0x0),_0x3cd68f={};_0x547b59[_0x276ad0(0x947)]((_0x22d7da,_0x8ad791)=>{_0x3cd68f[_0x8ad791]=[];}),Object[_0x276ad0(0x1a6)](_0x50aa45[_0x276ad0(0xa96)]||{})[_0x276ad0(0x947)](([_0x9beb0a,_0x5d60b4])=>{const _0x2fcef3=_0x276ad0;if(_0x5d60b4[_0x2fcef3(0x56c)]!=='inactive'&&_0x5d60b4['lastAnswerIndex']!==undefined&&_0x5d60b4[_0x2fcef3(0x6f4)]!==null){const _0x413450=_0x5d60b4['lastAnswerIndex'];if(_0x3cd68f[_0x413450]!==undefined){const _0x513b36=_0x443fa7?_0x50aa45[_0x2fcef3(0xc21)][_0x9beb0a]||_0x2fcef3(0x2e9):_0x9beb0a;_0x3cd68f[_0x413450][_0x2fcef3(0x12e)](_0x513b36),_0x1ef9a0[_0x413450]++;}}});let _0x2d38b1='';const _0x52698e=_0x50aa45[_0x276ad0(0x180)]>=_0x202626[_0x276ad0(0x9f1)]-0x1;_0x4eeace?_0x299d9b===_0x276ad0(0x702)?_0x52698e?_0x2d38b1=_0x276ad0(0x550):_0x2d38b1=_0x276ad0(0xa54):_0x2d38b1=_0x276ad0(0x5d5):_0x299d9b===_0x276ad0(0x702)?_0x2d38b1=_0x276ad0(0x398):_0x2d38b1=_0x276ad0(0xc79);const _0x4f7ce4=_0x276ad0(0x3fb)+_0x3798e5[_0x276ad0(0x72b)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ef9a0[_0x276ad0(0xb43)]((_0x2c1cf4,_0xfbcc72)=>{const _0x5e230e=_0x276ad0,_0x5a798c=_0x3cd68f[_0xfbcc72][_0x5e230e(0x9f1)]>0x0?_0x3cd68f[_0xfbcc72][_0x5e230e(0xb92)](',\x20'):_0x5e230e(0x216),_0x1afe0d=_0x5e230e(0x2e4);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x2c1cf4+_0x5e230e(0x9a5)+_0x1afe0d+_0x5e230e(0x6bb)+_0xfbcc72+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x547b59[_0xfbcc72]+_0x5e230e(0x30f)+_0xfbcc72+_0x5e230e(0x3cf)+_0x5a798c+_0x5e230e(0x6f8);})[_0x276ad0(0xb92)]('')+_0x276ad0(0x53d)+_0x2d38b1+_0x276ad0(0x469);liveGameView[_0x276ad0(0x553)]=_0x4f7ce4;if(window[_0x276ad0(0x9dd)])MathJax[_0x276ad0(0x679)]();if(_0x4eeace){const _0x1381a4=doc(db,_0x276ad0(0xb4)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x276ad0(0xbd5)](_0x276ad0(0xc3a))?.[_0x276ad0(0x915)]('click',async()=>{await updateDoc(_0x1381a4,{'status':'results'});}),document['getElementById'](_0x276ad0(0xa4))?.[_0x276ad0(0x915)]('click',()=>{openScratchpad(_0x3798e5,_0x547b59);}),document[_0x276ad0(0xbd5)](_0x276ad0(0x7f0))?.[_0x276ad0(0x915)](_0x276ad0(0x98f),async()=>{const _0x10765a=_0x276ad0,_0x4e28a4=_0x50aa45['currentQuestionIndex']+0x1,_0x274953={};Object[_0x10765a(0x2df)](_0x50aa45[_0x10765a(0xa96)])[_0x10765a(0x947)](_0x14cb6a=>{const _0x2183d0=_0x10765a;_0x274953[_0x2183d0(0x115)+_0x14cb6a+_0x2183d0(0x9f5)]=![],_0x274953['players.'+_0x14cb6a+_0x2183d0(0x132)]=null;}),await updateDoc(_0x1381a4,{..._0x274953,'status':_0x10765a(0x8fd),'currentQuestionIndex':_0x4e28a4,'questionDisplayedAt':serverTimestamp()});}),document[_0x276ad0(0xbd5)]('show-final-results-btn')?.[_0x276ad0(0x915)](_0x276ad0(0x98f),async()=>{await updateDoc(_0x1381a4,{'status':'results','reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x47ea94){const _0x2a3bae=_0xdd45b5,_0x25861d=_0x47ea94[_0x2a3bae(0x180)]>=_0x47ea94['shuffledQuiz'][_0x2a3bae(0x69e)]['length']-0x1;let _0xbab3f4='';if(_0x47ea94[_0x2a3bae(0x378)]===!![]){const _0x5506ac=_0x47ea94['players'][localTeamPlayers[0x0]],_0x15fba5=_0x5506ac[_0x2a3bae(0x8aa)],_0x4bdbaf=_0x5506ac[_0x2a3bae(0x9e7)];_0xbab3f4=_0x2a3bae(0x4a7)+_0x15fba5+_0x2a3bae(0x3c4)+_0x4bdbaf+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0xbab3f4=_0x2a3bae(0x982)+(_0x25861d?_0x2a3bae(0xac0):_0x2a3bae(0xbb6))+_0x2a3bae(0x12c);const _0x229c7f=_0x2a3bae(0xab6)+_0xbab3f4+_0x2a3bae(0xa2e);liveGameView['innerHTML']=_0x229c7f;}async function handleShowStudentRankings(){const _0x5d2ac0=_0xdd45b5,_0x252b29=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0x252b29&&(_0x252b29[_0x5d2ac0(0x553)]=_0x5d2ac0(0x156));const _0x2caa99=document['querySelector'](_0x5d2ac0(0xc18));_0x2caa99&&(_0x2caa99[_0x5d2ac0(0x553)]=_0x5d2ac0(0x65b));const _0x3fa9c4=document['getElementById']('student-rankings-modal');_0x3fa9c4[_0x5d2ac0(0x8c0)][_0x5d2ac0(0x3b9)](_0x5d2ac0(0x2ee)),document[_0x5d2ac0(0xbd5)](_0x5d2ac0(0x92a))['onclick']=()=>_0x3fa9c4[_0x5d2ac0(0x8c0)]['add'](_0x5d2ac0(0x2ee));const _0x515fc4=document['getElementById'](_0x5d2ac0(0x322)),_0x1859ba=document[_0x5d2ac0(0xbd5)](_0x5d2ac0(0x5b7)),_0xef196c=document[_0x5d2ac0(0xbd5)](_0x5d2ac0(0x900)),_0x1c3168=document[_0x5d2ac0(0xbd5)]('student-project-leaderboard-content');_0x515fc4['onclick']=()=>{const _0x5188ef=_0x5d2ac0;_0x515fc4[_0x5188ef(0x8c0)]['add']('active'),_0x1859ba['classList'][_0x5188ef(0x3b9)](_0x5188ef(0x9b4)),_0xef196c[_0x5188ef(0x8c0)][_0x5188ef(0x3b9)](_0x5188ef(0x2ee)),_0x1c3168['classList'][_0x5188ef(0x9ff)](_0x5188ef(0x2ee));},_0x1859ba[_0x5d2ac0(0xcb7)]=()=>{const _0x3fb51b=_0x5d2ac0;_0x1859ba[_0x3fb51b(0x8c0)][_0x3fb51b(0x9ff)]('active'),_0x515fc4[_0x3fb51b(0x8c0)]['remove'](_0x3fb51b(0x9b4)),_0x1c3168[_0x3fb51b(0x8c0)]['remove'](_0x3fb51b(0x2ee)),_0xef196c[_0x3fb51b(0x8c0)][_0x3fb51b(0x9ff)](_0x3fb51b(0x2ee));};try{const _0x411b01=collection(db,_0x5d2ac0(0xb4)+appId+_0x5d2ac0(0x9aa)+currentQuizData['id']+_0x5d2ac0(0x67f)),_0x2bcd83=await getDocs(_0x411b01),_0x124cde=_0x2bcd83[_0x5d2ac0(0x627)][_0x5d2ac0(0xb43)](_0xd74484=>_0xd74484[_0x5d2ac0(0xa1d)]());renderQuizLeaderboard(_0x124cde,currentQuizData,_0x5d2ac0(0x39b));const _0x4d64a5=collection(db,_0x5d2ac0(0xb4)+appId+'/public/data/projects/'+currentQuizData[_0x5d2ac0(0xa60)]+_0x5d2ac0(0xbd)),_0x29cbc0=await getDocs(_0x4d64a5),_0x481236=_0x29cbc0[_0x5d2ac0(0x627)][_0x5d2ac0(0xb43)](_0x388193=>_0x388193[_0x5d2ac0(0xa1d)]());renderLeaderboard(_0x481236,_0x5d2ac0(0xb65));}catch(_0x3605e2){console[_0x5d2ac0(0x2c7)](_0x5d2ac0(0x329),_0x3605e2),showMessage(_0x5d2ac0(0x1dc));}}async function handleSaveToBank(_0x5d2964){const _0x3d3e15=_0xdd45b5,_0x4a6d1c=_0x5d2964[_0x3d3e15(0xc23)],_0x1e37a2=_0x4a6d1c[_0x3d3e15(0x41c)]['index'],_0x15112f=currentQuizData[_0x3d3e15(0x69e)][_0x1e37a2];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x38aa36={..._0x15112f,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x3dc904=collection(db,_0x3d3e15(0xb4)+appId+_0x3d3e15(0x8af)+userId+_0x3d3e15(0x53a));await addDoc(_0x3dc904,_0x38aa36),showMessage(_0x3d3e15(0xaf0)),_0x4a6d1c[_0x3d3e15(0x8c0)][_0x3d3e15(0x3b9)](_0x3d3e15(0x657)),_0x4a6d1c[_0x3d3e15(0x8c0)][_0x3d3e15(0x9ff)](_0x3d3e15(0x8ea)),_0x4a6d1c[_0x3d3e15(0x256)]=!![];}catch(_0x3e8fbc){console[_0x3d3e15(0x2c7)](_0x3d3e15(0x6f7),_0x3e8fbc),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x1d33fc,_0x4e5f72=null,_0x5b8eeb=null,_0x199580=![]){const _0x25a415=_0xdd45b5;cameFromBlueprint=!![];const _0x4fd61e=document[_0x25a415(0xbd5)](_0x25a415(0xc5a))?.[_0x25a415(0xc1a)][_0x25a415(0x7ae)]();let _0x48cd57=null;if(_0x4fd61e){showMessage(_0x25a415(0x88b));try{const _0x6c1be5=await fetchFileFromUrl(_0x4fd61e,_0x25a415(0x891)),_0x24160e=await new Promise((_0x20caad,_0x12c3bb)=>{const _0x4082f6=_0x25a415,_0xd17d0c=new FileReader();_0xd17d0c[_0x4082f6(0x7aa)](_0x6c1be5),_0xd17d0c[_0x4082f6(0xbcc)]=()=>_0x20caad(_0xd17d0c[_0x4082f6(0x2f3)][_0x4082f6(0xa21)](',')[0x1]),_0xd17d0c[_0x4082f6(0x3b4)]=_0x12c3bb;});_0x48cd57=[{'inlineData':{'mimeType':_0x6c1be5[_0x25a415(0x886)],'data':_0x24160e}}],messageModal['classList'][_0x25a415(0x9ff)](_0x25a415(0x2ee));}catch(_0x26981a){console[_0x25a415(0x2c7)]('Could\x20not\x20fetch\x20reference\x20file:',_0x26981a),showMessage(_0x25a415(0x4ad));}}const _0x3cb6f9=document[_0x25a415(0xbd5)](_0x25a415(0x2a5)),_0x314ad0=document[_0x25a415(0xbd5)]('move-quiz-project-select'),_0x11c1d8=_0x3cb6f9['querySelector']('h3'),_0x597082=document[_0x25a415(0xbd5)]('confirm-move-quiz-btn'),_0x5e3950=document[_0x25a415(0xbd5)](_0x25a415(0x42d));_0x11c1d8['textContent']='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x597082[_0x25a415(0x5e0)]=_0x25a415(0x93e),_0x597082[_0x25a415(0x256)]=!![];allProjects[_0x25a415(0x9f1)]===0x0?_0x314ad0['innerHTML']=_0x25a415(0xa7f):(_0x314ad0[_0x25a415(0x553)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x305721=>_0x25a415(0xafe)+_0x305721['id']+'\x22>'+_0x305721[_0x25a415(0xad3)]+_0x25a415(0x9fc))[_0x25a415(0xb92)](''),_0x597082[_0x25a415(0x256)]=![]);_0x3cb6f9[_0x25a415(0x8c0)][_0x25a415(0x3b9)]('hidden');const _0x4fe8ac=async()=>{const _0x1772d3=_0x25a415,_0x452fa7=_0x314ad0[_0x1772d3(0xc1a)];if(!_0x452fa7){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x3cb6f9[_0x1772d3(0x8c0)][_0x1772d3(0x9ff)]('hidden'),document[_0x1772d3(0xbd5)](_0x1772d3(0x191))[_0x1772d3(0x8c0)][_0x1772d3(0x9ff)](_0x1772d3(0x2ee)),await loadProjectDetails(_0x452fa7),showView(_0x1772d3(0xa97)),handleGenerateQuizFromBlueprintTopic(_0x1d33fc,_0x4e5f72,_0x452fa7,_0x5b8eeb,_0x199580,_0x48cd57),_0x6740ba();},_0x6740ba=()=>{const _0x22151b=_0x25a415;_0x11c1d8[_0x22151b(0x5e0)]=_0x22151b(0x25b),_0x597082[_0x22151b(0x5e0)]=_0x22151b(0x764),_0x597082[_0x22151b(0xd9)](_0x22151b(0x98f),_0x4fe8ac),_0x5e3950['removeEventListener'](_0x22151b(0x98f),_0x6740ba),_0x597082[_0x22151b(0x915)](_0x22151b(0x98f),confirmMoveQuiz);};_0x597082['removeEventListener'](_0x25a415(0x98f),confirmMoveQuiz),_0x597082[_0x25a415(0x915)]('click',_0x4fe8ac),_0x5e3950[_0x25a415(0x915)](_0x25a415(0x98f),_0x6740ba);}function listenForStarredQuizzes(){const _0x13fe73=_0xdd45b5;if(!userId)return;const _0x36a09c=collection(db,'artifacts/'+appId+_0x13fe73(0xcba)),_0x2281cc=query(_0x36a09c,where(_0x13fe73(0xb25),'==',!![]));onSnapshot(_0x2281cc,_0x3018b6=>{const _0x47c037=_0x13fe73;starredQuizzes=_0x3018b6['docs'][_0x47c037(0xb43)](_0x167f51=>({'id':_0x167f51['id'],..._0x167f51[_0x47c037(0xa1d)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x8439f3=>{const _0x484dea=_0x13fe73;console[_0x484dea(0x2c7)](_0x484dea(0xbe1),_0x8439f3);});}function listenForFileShortcuts(){const _0x189298=_0xdd45b5,_0x4b5ee8=doc(db,'globalSettings',_0x189298(0x9cb));onSnapshot(_0x4b5ee8,_0x1ccb78=>{const _0x1bf78d=_0x189298;let _0x4d4336=[],_0x3f8580=[],_0x102409={};if(_0x1ccb78[_0x1bf78d(0x935)]()){const _0x4d663b=_0x1ccb78[_0x1bf78d(0xa1d)]();_0x4d4336=_0x4d663b[_0x1bf78d(0x210)]||[],_0x3f8580=_0x4d663b[_0x1bf78d(0x140)]||[],_0x102409=_0x4d663b[_0x1bf78d(0x94b)]||{};}!_0x3f8580[_0x1bf78d(0x922)](_0x3e192d=>_0x3e192d['id']==='all')&&_0x3f8580['unshift']({'id':_0x1bf78d(0x906),'name':_0x1bf78d(0xb42),'isDefault':!![]}),!_0x4d4336[_0x1bf78d(0x922)](_0x442b33=>_0x442b33['id']==='file-default-1')&&_0x4d4336['unshift']({'id':_0x1bf78d(0xca0),'name':_0x1bf78d(0x294),'url':'','isDefault':!![]}),!_0x4d4336['find'](_0x1d9b66=>_0x1d9b66['id']===_0x1bf78d(0x528))&&_0x4d4336[_0x1bf78d(0x1a3)]({'id':'file-default-2','name':_0x1bf78d(0xc20),'url':'','isDefault':!![]}),fileShortcuts=_0x4d4336,fileShortcutTabs=_0x3f8580,fileShortcutOrder=_0x102409,renderFileShortcuts(),!document[_0x1bf78d(0xbd5)](_0x1bf78d(0x541))[_0x1bf78d(0x8c0)]['contains'](_0x1bf78d(0x2ee))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x230ea4=_0xdd45b5,_0x27ff99=doc(db,_0x230ea4(0x222),'fileShortcutsConfig');try{await setDoc(_0x27ff99,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x47fc19){console[_0x230ea4(0x2c7)](_0x230ea4(0x4f4),_0x47fc19);}}function renderAdditionalFileShortcutsModal(){const _0x410bed=_0xdd45b5,_0x6f2861=document[_0x410bed(0xbd5)](_0x410bed(0x99d)),_0x4c1d1d=document[_0x410bed(0xbd5)](_0x410bed(0x515));if(!_0x6f2861||!_0x4c1d1d)return;_0x6f2861['innerHTML']=fileShortcutTabs[_0x410bed(0xb43)](_0x3bbfae=>{const _0x24bd69=_0x410bed,_0x4638c5=_0x3bbfae['id']===activeFileShortcutTabId;return _0x24bd69(0x3bd)+_0x3bbfae['id']+_0x24bd69(0x734)+(_0x4638c5?_0x24bd69(0x9b):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x24bd69(0xb64)+_0x3bbfae[_0x24bd69(0x8aa)]+_0x24bd69(0x61b)+_0x3bbfae[_0x24bd69(0x8aa)]+_0x24bd69(0x34e)+(!_0x3bbfae['isDefault']?_0x24bd69(0x5d9)+_0x3bbfae['id']+_0x24bd69(0xa07):'')+_0x24bd69(0x9ef);})[_0x410bed(0xb92)]('');const _0x1b29d1=fileShortcutTabs[_0x410bed(0x922)](_0x3fbfb0=>_0x3fbfb0['id']===activeFileShortcutTabId);let _0x4d3e36=_0x1b29d1?.['isDefault']?[...fileShortcuts]:fileShortcuts['filter'](_0x3236dd=>(_0x1b29d1?.[_0x410bed(0x38d)]||[])[_0x410bed(0x668)](_0x3236dd['id']));const _0x299328=fileShortcutOrder[activeFileShortcutTabId]||[];_0x4d3e36[_0x410bed(0x50a)]((_0x47a12d,_0x5b82e9)=>{const _0x277557=_0x410bed,_0x45db4c=_0x299328['indexOf'](_0x47a12d['id']),_0x3cee52=_0x299328[_0x277557(0xc7a)](_0x5b82e9['id']);return(_0x45db4c===-0x1?Infinity:_0x45db4c)-(_0x3cee52===-0x1?Infinity:_0x3cee52);}),_0x4c1d1d['innerHTML']=_0x4d3e36[_0x410bed(0xb43)](_0x40de23=>{const _0x153358=_0x410bed,_0x3b7409=_0x40de23['url']?'📄':'🔗',_0x546724=fileShortcutTabs[_0x153358(0x26c)](_0x23ee37=>!_0x23ee37[_0x153358(0x65e)]),_0x337034=_0x1b29d1[_0x153358(0x65e)]&&_0x546724[_0x153358(0x9f1)]>0x0?_0x153358(0x957)+_0x546724['map'](_0x5e7696=>_0x153358(0x492)+_0x40de23['id']+_0x153358(0x6b7)+_0x5e7696['id']+'\x22>'+_0x5e7696[_0x153358(0x8aa)]+_0x153358(0x61c))['join']('')+_0x153358(0xf5):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x40de23['id']+_0x153358(0x31f)+_0x3b7409+'\x20'+_0x40de23[_0x153358(0x8aa)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x40de23['id']+_0x153358(0x173)+_0x40de23['id']+_0x153358(0xe4)+(!_0x40de23[_0x153358(0x65e)]?_0x153358(0xef)+_0x40de23['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x153358(0xbfc)+(!_0x1b29d1[_0x153358(0x65e)]?_0x153358(0x2f0)+_0x40de23['id']+_0x153358(0x536):'')+_0x153358(0xbfc)+_0x337034+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x410bed(0xb92)]('')||_0x410bed(0xc3c),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x27cf67=_0xdd45b5;document['querySelectorAll']('.file-shortcut-tab-btn')[_0x27cf67(0x947)](_0x197d44=>{const _0x351fc5=_0x27cf67;_0x197d44[_0x351fc5(0xcb7)]=_0x5d1843=>{const _0x4b46c4=_0x351fc5;activeFileShortcutTabId=_0x5d1843[_0x4b46c4(0xc23)][_0x4b46c4(0x41c)]['tabId'],renderAdditionalFileShortcutsModal();},_0x197d44[_0x351fc5(0xaa6)]=_0x387de1=>{const _0x2e40a0=_0x351fc5,_0x1010ce=_0x387de1['currentTarget'][_0x2e40a0(0x5db)](_0x2e40a0(0x826));_0x387de1['currentTarget']['querySelector'](_0x2e40a0(0xae1))['classList']['add'](_0x2e40a0(0x2ee)),_0x1010ce['classList'][_0x2e40a0(0x3b9)](_0x2e40a0(0x2ee)),_0x1010ce[_0x2e40a0(0xb8d)](),_0x1010ce[_0x2e40a0(0x46d)]();};}),document[_0x27cf67(0x197)](_0x27cf67(0x483))['forEach'](_0x4928c5=>{const _0x245d3c=_0x27cf67,_0x6b596a=()=>{const _0x41e284=_0x39cc,_0x5a9a65=_0x4928c5[_0x41e284(0x18a)]('.file-shortcut-tab-btn')['dataset'][_0x41e284(0xb17)],_0x21d16a=fileShortcutTabs[_0x41e284(0x922)](_0x1e5897=>_0x1e5897['id']===_0x5a9a65);_0x21d16a&&(_0x21d16a[_0x41e284(0x8aa)]=_0x4928c5[_0x41e284(0xc1a)][_0x41e284(0x7ae)]()||_0x21d16a['name'],saveFileShortcutConfig());};_0x4928c5[_0x245d3c(0x96f)]=_0x6b596a,_0x4928c5[_0x245d3c(0xa3c)]=_0x5263da=>{const _0x518a6d=_0x245d3c;if(_0x5263da[_0x518a6d(0xaf1)]===_0x518a6d(0x58d))_0x4928c5[_0x518a6d(0x201)]();};}),document[_0x27cf67(0x197)](_0x27cf67(0xb1e))[_0x27cf67(0x947)](_0x33ac98=>_0x33ac98[_0x27cf67(0xcb7)]=_0x3cac1f=>{const _0x27a71b=_0x27cf67,_0x472f60=_0x3cac1f[_0x27a71b(0xc23)][_0x27a71b(0x41c)]['tabId'];showConfirmation(_0x27a71b(0xb2b),()=>{const _0x455122=_0x27a71b;fileShortcutTabs=fileShortcutTabs['filter'](_0x3c96d8=>_0x3c96d8['id']!==_0x472f60),delete fileShortcutOrder[_0x472f60];if(activeFileShortcutTabId===_0x472f60)activeFileShortcutTabId=_0x455122(0x906);saveFileShortcutConfig();});}),document[_0x27cf67(0x197)](_0x27cf67(0x8f1))[_0x27cf67(0x947)](_0x17ff2c=>_0x17ff2c[_0x27cf67(0xcb7)]=_0xfa3d18=>{const _0x1a78d3=_0x27cf67;_0xfa3d18[_0x1a78d3(0xc15)]();const {shortcutId:_0x255cab,targetTabId:_0x524b78}=_0xfa3d18[_0x1a78d3(0xc23)][_0x1a78d3(0x41c)],_0x3ce424=fileShortcutTabs[_0x1a78d3(0x922)](_0x3bab5a=>_0x3bab5a['id']===_0x524b78);_0x3ce424&&!_0x3ce424[_0x1a78d3(0x38d)][_0x1a78d3(0x668)](_0x255cab)&&(_0x3ce424[_0x1a78d3(0x38d)][_0x1a78d3(0x12e)](_0x255cab),saveFileShortcutConfig());}),document[_0x27cf67(0x197)](_0x27cf67(0x494))[_0x27cf67(0x947)](_0x8dcad4=>_0x8dcad4['onclick']=_0xc7f468=>{const _0x538f43=_0x27cf67,_0x16e234=_0xc7f468['currentTarget'][_0x538f43(0x41c)][_0x538f43(0x1b1)],_0x46c089=fileShortcutTabs[_0x538f43(0x922)](_0x26c46f=>_0x26c46f['id']===activeFileShortcutTabId);_0x46c089&&!_0x46c089[_0x538f43(0x65e)]&&(_0x46c089['shortcutIds']=_0x46c089[_0x538f43(0x38d)][_0x538f43(0x26c)](_0x112738=>_0x112738!==_0x16e234),saveFileShortcutConfig());}),document[_0x27cf67(0x197)](_0x27cf67(0x9cc))['forEach'](_0x29ec75=>_0x29ec75[_0x27cf67(0xcb7)]=_0x2a39dc=>{const _0x93231f=_0x27cf67;_0x2a39dc[_0x93231f(0x1b7)]();const _0x3c47b2=_0x2a39dc['currentTarget'][_0x93231f(0x9c3)];document[_0x93231f(0x197)](_0x93231f(0x7ff))[_0x93231f(0x947)](_0x39fec0=>_0x39fec0['classList'][_0x93231f(0x9ff)](_0x93231f(0x2ee))),_0x3c47b2[_0x93231f(0x8c0)][_0x93231f(0x3b9)](_0x93231f(0x2ee));});const _0x148bab=document[_0x27cf67(0xbd5)](_0x27cf67(0x515));let _0x12d4a2=null;_0x148bab[_0x27cf67(0x907)]=_0xd1587f=>{const _0x38ebc4=_0x27cf67;_0x12d4a2=_0xd1587f[_0x38ebc4(0x8a0)][_0x38ebc4(0x18a)]('.shortcut-list-item');if(_0x12d4a2)setTimeout(()=>_0x12d4a2[_0x38ebc4(0x8c0)][_0x38ebc4(0x9ff)](_0x38ebc4(0xa81)),0x0);},_0x148bab[_0x27cf67(0x798)]=()=>{const _0xe269ad=_0x27cf67;_0x12d4a2&&(_0x12d4a2['classList']['remove'](_0xe269ad(0xa81)),_0x12d4a2=null);},_0x148bab[_0x27cf67(0xa4d)]=_0x16978e=>{_0x16978e['preventDefault']();},_0x148bab['ondrop']=_0x2cc802=>{const _0x126f1d=_0x27cf67;_0x2cc802[_0x126f1d(0xc15)]();if(_0x12d4a2){const _0x23b63f=[..._0x148bab[_0x126f1d(0x197)](_0x126f1d(0xb13))][_0x126f1d(0xdb)]((_0x5df408,_0x20b263)=>{const _0x13e635=_0x126f1d,_0x2c740b=_0x20b263['getBoundingClientRect'](),_0x20f55c=_0x2cc802[_0x13e635(0xbcb)]-_0x2c740b[_0x13e635(0xb2c)]-_0x2c740b[_0x13e635(0x645)]/0x2;return _0x20f55c<0x0&&_0x20f55c>_0x5df408[_0x13e635(0x954)]?{'offset':_0x20f55c,'element':_0x20b263}:_0x5df408;},{'offset':Number[_0x126f1d(0x282)]})[_0x126f1d(0xb6a)];_0x23b63f==null?_0x148bab[_0x126f1d(0x78c)](_0x12d4a2):_0x148bab[_0x126f1d(0x8d2)](_0x12d4a2,_0x23b63f);const _0x4c8dec=[..._0x148bab[_0x126f1d(0x197)](_0x126f1d(0x221))][_0x126f1d(0xb43)](_0x4849a5=>_0x4849a5['dataset'][_0x126f1d(0x1b1)]);fileShortcutOrder[activeFileShortcutTabId]=_0x4c8dec,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0xf05425=_0xdd45b5,_0x477325=prompt(_0xf05425(0xb46),_0xf05425(0x30d));_0x477325&&_0x477325[_0xf05425(0x7ae)]()&&(fileShortcutTabs[_0xf05425(0x12e)]({'id':'tab_'+Date['now'](),'name':_0x477325[_0xf05425(0x7ae)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x1a1b54=_0xdd45b5,_0x29d13b=document[_0x1a1b54(0xbd5)](_0x1a1b54(0x671)),_0x32fbb0=document[_0x1a1b54(0xbd5)](_0x1a1b54(0x515)),_0x2e7f26=document['getElementById'](_0x1a1b54(0xc12));if(_0x2e7f26)_0x2e7f26[_0x1a1b54(0x8c0)][_0x1a1b54(0x9ff)](_0x1a1b54(0x2ee));if(!_0x29d13b||!_0x32fbb0)return;const _0x53b0a4=fileShortcuts[_0x1a1b54(0xbb3)](0x0,0x4),_0x33613b=fileShortcuts['slice'](0x4);_0x29d13b[_0x1a1b54(0x553)]=_0x53b0a4[_0x1a1b54(0xb43)](_0x5af6d6=>{const _0x5e43b9=_0x1a1b54,_0x21b082=_0x5af6d6[_0x5e43b9(0x84f)]&&_0x5af6d6[_0x5e43b9(0x84f)][_0x5e43b9(0x7ae)]()!=='',_0x7991b8=selectedFile&&selectedFile[_0x5e43b9(0x1b1)]===_0x5af6d6['id'];let _0x3a651d='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x334ba6='🔗';if(_0x7991b8)_0x3a651d=_0x5e43b9(0x77d),_0x334ba6=_0x5e43b9(0x72d);else _0x21b082&&(_0x3a651d=_0x5e43b9(0xc65),_0x334ba6='📄');const _0x1bb5da=!_0x5af6d6[_0x5e43b9(0x65e)]?_0x5e43b9(0xef)+_0x5af6d6['id']+_0x5e43b9(0x1d2):'';return _0x5e43b9(0x93f)+_0x5af6d6['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x3a651d+_0x5e43b9(0x7f3)+_0x334ba6+_0x5e43b9(0xcb3)+_0x5af6d6['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5af6d6['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bb5da+_0x5e43b9(0x97d);})['join'](''),_0x33613b['length']>0x0&&(_0x29d13b[_0x1a1b54(0x553)]+=_0x1a1b54(0x6f5)),_0x33613b[_0x1a1b54(0x9f1)]>0x0?_0x32fbb0[_0x1a1b54(0x553)]=_0x33613b[_0x1a1b54(0xb43)](_0x45d574=>_0x1a1b54(0x3f1)+(_0x45d574[_0x1a1b54(0x84f)]?'📄':'🔗')+'\x20'+_0x45d574[_0x1a1b54(0x8aa)]+_0x1a1b54(0xa38)+_0x45d574['id']+_0x1a1b54(0x9da)+_0x45d574['id']+_0x1a1b54(0xa6b)+(!_0x45d574[_0x1a1b54(0x65e)]?_0x1a1b54(0xef)+_0x45d574['id']+_0x1a1b54(0x16c):'')+_0x1a1b54(0x825))[_0x1a1b54(0xb92)](''):_0x32fbb0[_0x1a1b54(0x553)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x3a4f0c=null){const _0x22b4e1=_0xdd45b5,_0x2d35e6=document['getElementById'](_0x22b4e1(0x789)),_0x424e77=document[_0x22b4e1(0xbd5)](_0x22b4e1(0x8ce)),_0x3ed9e9=document['getElementById'](_0x22b4e1(0x961)),_0xe67457=document['getElementById'](_0x22b4e1(0x9e1)),_0x508c85=document['getElementById'](_0x22b4e1(0x91c));if(_0x3a4f0c){const _0x305c20=fileShortcuts['find'](_0x2cfbb8=>_0x2cfbb8['id']===_0x3a4f0c);if(!_0x305c20)return;_0x424e77[_0x22b4e1(0x5e0)]=_0x22b4e1(0x8c6),_0x3ed9e9[_0x22b4e1(0xc1a)]=_0x305c20['id'],_0xe67457['value']=_0x305c20['name'],_0x508c85[_0x22b4e1(0xc1a)]=_0x305c20[_0x22b4e1(0x84f)]||'';}else _0x424e77['textContent']=_0x22b4e1(0x308),_0x3ed9e9[_0x22b4e1(0xc1a)]='',_0xe67457['value']='',_0x508c85[_0x22b4e1(0xc1a)]='';_0x2d35e6[_0x22b4e1(0x8c0)]['remove'](_0x22b4e1(0x2ee));}async function saveFileShortcutChanges(){const _0x3a5dfc=_0xdd45b5,_0x4de014=document[_0x3a5dfc(0xbd5)]('file-shortcut-id-input')[_0x3a5dfc(0xc1a)],_0x1d5a54=document[_0x3a5dfc(0xbd5)](_0x3a5dfc(0x9e1))[_0x3a5dfc(0xc1a)][_0x3a5dfc(0x7ae)](),_0x4a38c2=document['getElementById'](_0x3a5dfc(0x91c))[_0x3a5dfc(0xc1a)][_0x3a5dfc(0x7ae)]();if(!_0x1d5a54){showMessage(_0x3a5dfc(0x12b));return;}const _0x270db6={'id':_0x4de014||_0x3a5dfc(0x7af)+Date['now'](),'name':_0x1d5a54,'url':_0x4a38c2,'isDefault':_0x4de014[_0x3a5dfc(0x511)](_0x3a5dfc(0xaa8))};let _0x1c5562;_0x4de014?_0x1c5562=fileShortcuts[_0x3a5dfc(0xb43)](_0x3e7ac5=>_0x3e7ac5['id']===_0x4de014?_0x270db6:_0x3e7ac5):_0x1c5562=[...fileShortcuts,_0x270db6];try{const _0x5b595f=doc(db,_0x3a5dfc(0x222),_0x3a5dfc(0x9cb));await setDoc(_0x5b595f,{'shortcuts':_0x1c5562},{'merge':!![]}),document['getElementById'](_0x3a5dfc(0x789))[_0x3a5dfc(0x8c0)][_0x3a5dfc(0x9ff)](_0x3a5dfc(0x2ee));}catch(_0x5cd6fb){console[_0x3a5dfc(0x2c7)](_0x3a5dfc(0x2b9),_0x5cd6fb),showMessage(_0x3a5dfc(0xaa9));}}async function handleFileShortcutClick(_0x5f37b2){const _0x117a6c=_0xdd45b5,_0x842c7=fileShortcuts[_0x117a6c(0x922)](_0x317a4b=>_0x317a4b['id']===_0x5f37b2);if(!_0x842c7)return;if(!_0x842c7['url']||_0x842c7[_0x117a6c(0x84f)][_0x117a6c(0x7ae)]()===''){openFileShortcutEditor(_0x5f37b2);return;}const _0x1ee6e7=document[_0x117a6c(0x5db)](_0x117a6c(0xa1f)+_0x5f37b2+'\x22]');if(_0x1ee6e7){const _0x4312ee=_0x1ee6e7['innerHTML'];_0x1ee6e7[_0x117a6c(0x553)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x1ee6e7[_0x117a6c(0x256)]=!![];}document['querySelectorAll']('.file-shortcut-btn')[_0x117a6c(0x947)](_0x3ed271=>{const _0x573e5f=_0x117a6c;if(_0x3ed271[_0x573e5f(0x41c)]['id']!==_0x5f37b2)_0x3ed271[_0x573e5f(0x8c0)][_0x573e5f(0x9ff)](_0x573e5f(0xa81),'pointer-events-none');});try{const _0x49e2d4=new URL(_0x842c7[_0x117a6c(0x84f)])['pathname'],_0x4cf4a7=_0x49e2d4[_0x117a6c(0x33f)](_0x49e2d4['lastIndexOf']('/')+0x1)||(_0x842c7['url'][_0x117a6c(0x668)](_0x117a6c(0x8ad))?_0x117a6c(0x3d8):'file.pdf'),_0x2bcce3=await fetchFileFromUrl(_0x842c7['url'],_0x4cf4a7);_0x2bcce3['shortcutId']=_0x5f37b2,selectedFile=_0x2bcce3,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x117a6c(0xbd5)](_0x117a6c(0x871))[_0x117a6c(0xca2)]({'behavior':'smooth','block':_0x117a6c(0x5c5)});}catch(_0x5f1fd7){console[_0x117a6c(0x2c7)](_0x117a6c(0x3cb),_0x5f1fd7),showMessage(_0x117a6c(0x2f4)+_0x5f1fd7['message']),renderFileShortcuts();}finally{document[_0x117a6c(0x197)](_0x117a6c(0x22c))[_0x117a6c(0x947)](_0x2b9ebb=>{const _0x12fd48=_0x117a6c;_0x2b9ebb[_0x12fd48(0x8c0)]['remove']('opacity-50','pointer-events-none'),_0x2b9ebb[_0x12fd48(0x256)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2bdce6=_0xdd45b5;if(allQuizzesGlobal[_0x2bdce6(0x9f1)]>0x0)return;console['log'](_0x2bdce6(0xb85)),showMessage(_0x2bdce6(0x55b));try{const _0x53fcce=await getDocs(collection(db,_0x2bdce6(0xb4)+appId+_0x2bdce6(0xcba)));allQuizzesGlobal=_0x53fcce[_0x2bdce6(0x627)][_0x2bdce6(0xb43)](_0x3e5832=>({'id':_0x3e5832['id'],..._0x3e5832[_0x2bdce6(0xa1d)]()})),console[_0x2bdce6(0x3b7)]('Loaded\x20'+allQuizzesGlobal[_0x2bdce6(0x9f1)]+_0x2bdce6(0x451)),messageModal[_0x2bdce6(0x8c0)][_0x2bdce6(0x9ff)]('hidden');}catch(_0x359bb0){console[_0x2bdce6(0x2c7)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x359bb0),messageModal[_0x2bdce6(0x8c0)]['add'](_0x2bdce6(0x2ee));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x40d8ba=_0xdd45b5;if(!currentQuizData||!currentQuizData[_0x40d8ba(0x69e)]){showMessage(_0x40d8ba(0xc28));return;}const _0x37c791=currentQuizData,_0x1febb0=window[_0x40d8ba(0x7dc)]('',_0x40d8ba(0x884)),_0x532a90=_0x28050b=>String[_0x40d8ba(0xb96)](0x41+_0x28050b),_0x1aaa3a=_0x40d8ba(0xf3)+_0x37c791[_0x40d8ba(0x6bd)]+_0x40d8ba(0x9db)+_0x37c791[_0x40d8ba(0x6bd)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37c791[_0x40d8ba(0x69e)]['map']((_0x18c4e7,_0x1d10b9)=>{const _0x10386f=_0x40d8ba;let _0x3e6906='';const _0x5f3a2b=_0x18c4e7[_0x10386f(0x40c)]||_0x37c791['quizType'];switch(_0x5f3a2b){case _0x10386f(0xad4):case'fill_in_with_choices':_0x3e6906=_0x10386f(0xc49)+_0x18c4e7[_0x10386f(0x996)]['map']((_0x58be94,_0x3d2977)=>_0x10386f(0xc70)+_0x532a90(_0x3d2977)+'.\x20'+_0x58be94+_0x10386f(0xcb9))[_0x10386f(0xb92)](_0x10386f(0xc95))+_0x10386f(0x969);break;case _0x10386f(0xa62):_0x3e6906=_0x10386f(0xc96);break;default:_0x3e6906='<div\x20class=\x22answer-space\x22></div>';break;}return _0x10386f(0x7ee)+(_0x1d10b9+0x1)+_0x10386f(0xc8c)+(_0x18c4e7[_0x10386f(0xbb0)]||_0x18c4e7[_0x10386f(0x72b)])+_0x10386f(0xa28)+(_0x18c4e7[_0x10386f(0x1a9)]?_0x10386f(0x67a)+_0x18c4e7['imageCode']+_0x10386f(0x969):'')+_0x10386f(0x79b)+_0x3e6906+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x40d8ba(0xb92)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1febb0['document'][_0x40d8ba(0x394)](_0x1aaa3a),_0x1febb0[_0x40d8ba(0xb38)][_0x40d8ba(0x4c1)](),_0x1febb0[_0x40d8ba(0xbcc)]=function(){setTimeout(()=>{_0x1febb0['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x40a1cc=_0xdd45b5;if(!currentQuizData||!currentQuizData[_0x40a1cc(0x69e)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0xf9601=currentQuizData,_0x3d744e=window[_0x40a1cc(0x7dc)]('',_0x40a1cc(0x884)),_0x35687e=_0x5c69d4=>String[_0x40a1cc(0xb96)](0x41+_0x5c69d4),_0x18284e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0xf9601['topic']+_0x40a1cc(0xe6)+_0xf9601[_0x40a1cc(0x69e)][_0x40a1cc(0xb43)]((_0x191d6e,_0x1c7ee0)=>{const _0x539bc2=_0x40a1cc;let _0x498e1f='';const _0x5ca828=_0x191d6e['questionType']||_0xf9601[_0x539bc2(0x51a)];switch(_0x5ca828){case'multiple_choice':case _0x539bc2(0x1bb):_0x498e1f=_0x539bc2(0x3f5)+_0x191d6e[_0x539bc2(0x996)][_0x539bc2(0xb43)]((_0x494416,_0x22ffc2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x35687e(_0x22ffc2)+'.\x20'+_0x494416+'</span>')[_0x539bc2(0xb92)](_0x539bc2(0xc95))+_0x539bc2(0x97c);break;case _0x539bc2(0xa62):_0x498e1f='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x498e1f='';break;}return _0x539bc2(0x3e2)+_0xf9601['topic']+_0x539bc2(0x9af)+(_0x1c7ee0+0x1)+_0x539bc2(0x9ea)+(_0x191d6e[_0x539bc2(0xbb0)]||_0x191d6e[_0x539bc2(0x72b)])+_0x539bc2(0xa28)+(_0x191d6e[_0x539bc2(0x1a9)]?'<div\x20class=\x22my-6\x22>'+_0x191d6e[_0x539bc2(0x1a9)]+_0x539bc2(0x969):'')+_0x539bc2(0x79b)+_0x498e1f+_0x539bc2(0xc06);})[_0x40a1cc(0xb92)]('')+_0x40a1cc(0x697);_0x3d744e[_0x40a1cc(0xb38)][_0x40a1cc(0x394)](_0x18284e),_0x3d744e[_0x40a1cc(0xb38)][_0x40a1cc(0x4c1)](),_0x3d744e['onload']=function(){setTimeout(()=>{const _0x53a0ab=_0x39cc;_0x3d744e[_0x53a0ab(0xa03)]();},0x5dc);};}async function handleToggleStarQuiz(_0x1223dd){const _0x2d8cdb=_0xdd45b5,_0x2c003e=doc(db,'artifacts/'+appId+_0x2d8cdb(0xcba),_0x1223dd);try{const _0x2b2670=await getDoc(_0x2c003e);if(_0x2b2670[_0x2d8cdb(0x935)]()){const _0x4410a5=_0x2b2670['data']()[_0x2d8cdb(0xb25)]||![];await updateDoc(_0x2c003e,{'isStarred':!_0x4410a5});}}catch(_0x91c8e4){console[_0x2d8cdb(0x2c7)]('Error\x20toggling\x20star\x20status:',_0x91c8e4),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x5940d9=_0xdd45b5,_0x570baa=document['getElementById'](_0x5940d9(0x347));_0x570baa[_0x5940d9(0x553)]=_0x5940d9(0xa30);try{const _0x271386=collection(db,_0x5940d9(0xb4)+appId+'/users/'+userId+_0x5940d9(0x53a)),_0x558aab=query(_0x271386),_0x566d6b=await getDocs(_0x558aab);if(_0x566d6b[_0x5940d9(0x7f1)]){_0x570baa[_0x5940d9(0x553)]=_0x5940d9(0x6ad);return;}let _0x51288a=_0x566d6b[_0x5940d9(0x627)][_0x5940d9(0xb43)](_0x1873fb=>{const _0x550401=_0x5940d9,_0x163538=_0x1873fb['data'](),_0x10f700=_0x1873fb['id'];return _0x550401(0x429)+JSON[_0x550401(0xbd9)](_0x163538)+_0x550401(0x66c)+(_0x163538['questionText']||_0x163538[_0x550401(0xbb0)])+_0x550401(0x7a8)+_0x163538[_0x550401(0x562)]+_0x550401(0xabd);})['join']('');_0x570baa['innerHTML']=_0x5940d9(0x72a)+_0x51288a+_0x5940d9(0x2db),document[_0x5940d9(0xbd5)](_0x5940d9(0xb94))[_0x5940d9(0x915)](_0x5940d9(0x98f),createQuizFromBank);}catch(_0x15163b){console[_0x5940d9(0x2c7)]('Error\x20displaying\x20question\x20bank:',_0x15163b),_0x570baa[_0x5940d9(0x553)]=_0x5940d9(0xd6);}}async function handleExportLessonToPDF(){const _0x1481f3=_0xdd45b5,_0x4e8116=document[_0x1481f3(0xbd5)]('lesson-sections-container'),_0x5f0af4=document['getElementById'](_0x1481f3(0x9f6))[_0x1481f3(0x5e0)]||_0x1481f3(0x4c0);if(!_0x4e8116){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x4c20ea=window[_0x1481f3(0x7dc)]('',_0x1481f3(0x884)),_0x436d8f=_0x1481f3(0x6a8)+_0x5f0af4+_0x1481f3(0xbf3)+_0x5f0af4+_0x1481f3(0x9ce)+_0x4e8116[_0x1481f3(0x553)]+_0x1481f3(0x196);_0x4c20ea[_0x1481f3(0xb38)][_0x1481f3(0x394)](_0x436d8f),_0x4c20ea[_0x1481f3(0xb38)]['close'](),_0x4c20ea[_0x1481f3(0xbcc)]=function(){setTimeout(()=>{const _0x2dabf1=_0x39cc;_0x4c20ea[_0x2dabf1(0xa03)]();},0x7d0);};}function showAdminLiveQuestionView(_0xa32c60,_0x306e86,_0x55791e){const _0x5068c5=_0xdd45b5,_0x2ceffa=_0xa32c60['questionType']||currentQuizData['quizType'];let _0x2b727f='';if(_0x2ceffa===_0x5068c5(0xad4)||_0x2ceffa==='true_false'){const _0x2f806=_0x2ceffa===_0x5068c5(0xa62)?[_0x5068c5(0xb74),_0x5068c5(0x4ca)]:_0xa32c60['options'],_0x2748fb=_0x2ceffa===_0x5068c5(0xa62)?_0xa32c60[_0x5068c5(0xa7d)]?0x0:0x1:_0xa32c60[_0x5068c5(0x51c)];_0x2b727f=_0x2f806[_0x5068c5(0xb43)]((_0x6f95c7,_0x2422a3)=>_0x5068c5(0xad)+(_0x2422a3===_0x2748fb)+_0x5068c5(0xab0)+_0x6f95c7+_0x5068c5(0x97d))[_0x5068c5(0xb92)]('');}else{if(_0x2ceffa===_0x5068c5(0xc6)){const _0x1b390d=_0xa32c60[_0x5068c5(0x710)]||[];_0x2b727f=_0x1b390d[_0x5068c5(0xb43)](_0x35516f=>_0x5068c5(0xad)+(_0x35516f===_0xa32c60[_0x5068c5(0xc67)])+_0x5068c5(0xab0)+_0x35516f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}}const _0x4168e3=_0xa32c60['stem']||_0xa32c60['questionText'],_0x36412c=_0x5068c5(0x102)+(_0x306e86+0x1)+_0x5068c5(0xa8b)+_0x55791e+_0x5068c5(0x876)+currentLiveGamePin+_0x5068c5(0x975)+_0x4168e3+_0x5068c5(0xe0)+_0x2b727f+_0x5068c5(0x84c);liveGameView[_0x5068c5(0x553)]=_0x36412c,window[_0x5068c5(0x9dd)]&&MathJax[_0x5068c5(0x679)]&&MathJax[_0x5068c5(0x679)]([liveGameView]),document[_0x5068c5(0xbd5)](_0x5068c5(0x9d))['addEventListener']('click',()=>revealAnswerForAdmin(_0x306e86,_0x55791e)),document[_0x5068c5(0xbd5)](_0x5068c5(0x22d))['addEventListener'](_0x5068c5(0x98f),async()=>{const _0x285702=_0x5068c5;showConfirmation(_0x285702(0x63f),async()=>{const _0x169f67=_0x285702,_0x5eb3af=doc(db,_0x169f67(0xb4)+appId+_0x169f67(0x179),currentLiveGameId);await updateDoc(_0x5eb3af,{'status':'podium'});});}),document[_0x5068c5(0xbd5)](_0x5068c5(0xbcf))[_0x5068c5(0x915)](_0x5068c5(0x98f),()=>{const _0x2ab9ac=_0x5068c5;document[_0x2ab9ac(0xbd5)](_0x2ab9ac(0x5e3))[_0x2ab9ac(0x8c0)][_0x2ab9ac(0x6e2)](_0x2ab9ac(0x2ee));});}function promptForProjectBeforeGenerating(_0x2883ca){const _0x4eb724=_0xdd45b5,_0x18990e=document[_0x4eb724(0xbd5)]('move-quiz-modal'),_0x48c414=document[_0x4eb724(0xbd5)]('move-quiz-project-select'),_0x2ddbf2=_0x18990e[_0x4eb724(0x5db)]('h3'),_0x3f6d45=document[_0x4eb724(0xbd5)](_0x4eb724(0x892)),_0x499d00=document[_0x4eb724(0xbd5)](_0x4eb724(0x42d));_0x2ddbf2[_0x4eb724(0x5e0)]=_0x4eb724(0xc05),_0x3f6d45['textContent']=_0x4eb724(0x93e),_0x3f6d45['disabled']=!![];allProjects[_0x4eb724(0x9f1)]===0x0?_0x48c414[_0x4eb724(0x553)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x48c414[_0x4eb724(0x553)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x4eb724(0xb43)](_0x3e8b0b=>_0x4eb724(0xafe)+_0x3e8b0b['id']+'\x22>'+_0x3e8b0b[_0x4eb724(0xad3)]+_0x4eb724(0x9fc))['join'](''),_0x3f6d45[_0x4eb724(0x256)]=![]);_0x18990e[_0x4eb724(0x8c0)][_0x4eb724(0x3b9)](_0x4eb724(0x2ee));const _0x30e9af=async()=>{const _0x2ee69d=_0x4eb724,_0x184c40=_0x48c414[_0x2ee69d(0xc1a)];if(!_0x184c40){showMessage(_0x2ee69d(0x9fe));return;}_0x18990e[_0x2ee69d(0x8c0)][_0x2ee69d(0x9ff)](_0x2ee69d(0x2ee)),await loadProjectDetails(_0x184c40),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x2883ca),_0x44497a();},_0x44497a=()=>{const _0x45b842=_0x4eb724;_0x2ddbf2[_0x45b842(0x5e0)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3f6d45[_0x45b842(0x5e0)]='ย้าย',_0x3f6d45[_0x45b842(0xd9)]('click',_0x30e9af),_0x499d00['removeEventListener'](_0x45b842(0x98f),_0x44497a),_0x3f6d45[_0x45b842(0x915)](_0x45b842(0x98f),confirmMoveQuiz);};_0x3f6d45[_0x4eb724(0xd9)](_0x4eb724(0x98f),confirmMoveQuiz),_0x3f6d45['addEventListener'](_0x4eb724(0x98f),_0x30e9af),_0x499d00['addEventListener'](_0x4eb724(0x98f),_0x44497a);}function showStudentLiveQuestionView(_0x44ebdf,_0x210c75,_0x414a84){const _0x4561b5=_0xdd45b5,_0x59e9f7=_0x44ebdf[_0x4561b5(0x40c)]||currentQuizData[_0x4561b5(0x51a)];let _0x251f9e='';if(_0x59e9f7==='multiple_choice'||_0x59e9f7==='true_false'){const _0xb8986c=_0x59e9f7===_0x4561b5(0xa62)?['ใช่',_0x4561b5(0x4ca)]:_0x44ebdf[_0x4561b5(0x996)];_0x251f9e=_0xb8986c[_0x4561b5(0xb43)]((_0x2074a3,_0xaaaf64)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xaaaf64+_0x4561b5(0x5bb)+_0x2074a3+_0x4561b5(0x790))[_0x4561b5(0xb92)]('');}else{if(_0x59e9f7==='matching_item'){const _0x156973=_0x44ebdf[_0x4561b5(0x710)]||[];_0x251f9e=_0x156973['map']((_0x57b5d3,_0x1f1ae6)=>_0x4561b5(0x775)+_0x1f1ae6+_0x4561b5(0x5bb)+_0x57b5d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x59e9f7==='short_answer'&&(_0x251f9e=_0x4561b5(0x44a));}const _0x3d7039=_0x44ebdf[_0x4561b5(0xbb0)]||_0x44ebdf[_0x4561b5(0x72b)],_0x715870='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x210c75+0x1)+_0x4561b5(0xa8b)+_0x414a84+_0x4561b5(0xfe)+_0x3d7039+_0x4561b5(0xed)+_0x251f9e+_0x4561b5(0x4cb);liveGameView['innerHTML']=_0x715870;window[_0x4561b5(0x9dd)]&&MathJax[_0x4561b5(0x679)]&&MathJax[_0x4561b5(0x679)]([liveGameView]);const _0x1f9896=document[_0x4561b5(0xbd5)]('live-submit-short-answer-btn');_0x1f9896&&_0x1f9896[_0x4561b5(0x915)](_0x4561b5(0x98f),()=>{const _0x59a395=_0x4561b5,_0x45947e=document[_0x59a395(0xbd5)](_0x59a395(0x944))[_0x59a395(0xc1a)];handleLiveAnswer(_0x45947e,_0x44ebdf);}),document[_0x4561b5(0xbd5)](_0x4561b5(0xb1d))['addEventListener'](_0x4561b5(0x98f),_0x2efabb=>{const _0x1de97f=_0x4561b5,_0x940982=_0x2efabb[_0x1de97f(0x8a0)][_0x1de97f(0x18a)](_0x1de97f(0x39e));if(_0x940982){const _0x55b6c4=parseInt(_0x940982[_0x1de97f(0x41c)][_0x1de97f(0x3f3)]);handleLiveAnswer(_0x55b6c4,_0x44ebdf);}});}function listenForBlueprintShortcuts(){const _0x3fcc93=_0xdd45b5,_0x26fab3=doc(db,_0x3fcc93(0x222),_0x3fcc93(0x34b));onSnapshot(_0x26fab3,_0x40b84f=>{const _0x2d7f50=_0x3fcc93;let _0x2efc82=[],_0x3af645=[],_0x26df36={};if(_0x40b84f[_0x2d7f50(0x935)]()){const _0x18d540=_0x40b84f[_0x2d7f50(0xa1d)]();_0x2efc82=_0x18d540['blueprintShortcuts']||[],_0x3af645=_0x18d540['shortcutTabs']||[],_0x26df36=_0x18d540['shortcutOrder']||{};}!_0x3af645['find'](_0x1b5385=>_0x1b5385['id']===_0x2d7f50(0x906))&&_0x3af645[_0x2d7f50(0x1a3)]({'id':_0x2d7f50(0x906),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x2efc82[_0x2d7f50(0x922)](_0x1972fd=>_0x1972fd['id']===_0x2d7f50(0xba4))&&_0x2efc82[_0x2d7f50(0x1a3)]({'id':_0x2d7f50(0xba4),'name':_0x2d7f50(0xbec),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2efc82[_0x2d7f50(0x922)](_0x233e53=>_0x233e53['id']==='default-2')&&_0x2efc82['unshift']({'id':_0x2d7f50(0x709),'name':_0x2d7f50(0x409),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2efc82,shortcutTabs=_0x3af645,shortcutOrder=_0x26df36,renderBlueprintShortcuts(),!document[_0x2d7f50(0xbd5)](_0x2d7f50(0xa7c))[_0x2d7f50(0x8c0)][_0x2d7f50(0x796)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x44f78f=_0xdd45b5,_0x437915=document[_0x44f78f(0xbd5)](_0x44f78f(0xb4a)),_0x45ed2c=document[_0x44f78f(0xbd5)](_0x44f78f(0x68a));if(!_0x437915||!_0x45ed2c)return;_0x437915[_0x44f78f(0x553)]=shortcutTabs[_0x44f78f(0xb43)](_0x494cd8=>{const _0x468e79=_0x44f78f,_0x473736=_0x494cd8['id']===activeShortcutTabId,_0x50b6ec='border-indigo-500\x20text-indigo-600',_0x321dd6='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x468e79(0xad0)+_0x494cd8['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x473736?_0x50b6ec:_0x321dd6)+_0x468e79(0xa70)+_0x494cd8[_0x468e79(0x8aa)]+_0x468e79(0x604)+_0x494cd8[_0x468e79(0x8aa)]+_0x468e79(0x228)+(!_0x494cd8[_0x468e79(0x65e)]?_0x468e79(0xa75)+_0x494cd8['id']+_0x468e79(0x6e5):'')+_0x468e79(0x97d);})[_0x44f78f(0xb92)]('');const _0x587f72=shortcutTabs['find'](_0xe71924=>_0xe71924['id']===activeShortcutTabId);let _0x363036=[];if(_0x587f72){if(_0x587f72[_0x44f78f(0x65e)])_0x363036=[...blueprintShortcuts];else{const _0x1eef02=_0x587f72['shortcutIds']||[];_0x363036=blueprintShortcuts['filter'](_0x440d12=>_0x1eef02[_0x44f78f(0x668)](_0x440d12['id']));}}const _0x38d550=shortcutOrder[activeShortcutTabId]||[];_0x363036['sort']((_0x13f36d,_0x22cff0)=>{const _0x4f7d79=_0x44f78f,_0x1957a5=_0x38d550[_0x4f7d79(0xc7a)](_0x13f36d['id']),_0x356293=_0x38d550[_0x4f7d79(0xc7a)](_0x22cff0['id']);if(_0x1957a5===-0x1)return 0x1;if(_0x356293===-0x1)return-0x1;return _0x1957a5-_0x356293;}),_0x45ed2c[_0x44f78f(0x553)]=_0x363036[_0x44f78f(0x9f1)]>0x0?_0x363036[_0x44f78f(0xb43)](_0x20d866=>{const _0xd0c505=_0x44f78f;let _0x1a0b46='🧩';if(_0x20d866[_0xd0c505(0x797)]&&_0x20d866[_0xd0c505(0xc2a)])_0x1a0b46='📗';else{if(_0x20d866[_0xd0c505(0x797)])_0x1a0b46='📘';}const _0x200ab0=shortcutTabs[_0xd0c505(0x26c)](_0x5413e8=>!_0x5413e8['isDefault']),_0x3233b5=_0x587f72[_0xd0c505(0x65e)]&&_0x200ab0['length']>0x0?_0xd0c505(0x6d0)+_0x200ab0[_0xd0c505(0xb43)](_0xe659fe=>_0xd0c505(0x7e4)+_0x20d866['id']+_0xd0c505(0x6b7)+_0xe659fe['id']+'\x22>'+_0xe659fe[_0xd0c505(0x8aa)]+_0xd0c505(0x69f))[_0xd0c505(0xb92)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0xd0c505(0x3bc)+_0x20d866['id']+_0xd0c505(0xad8)+_0x1a0b46+'\x20'+_0x20d866[_0xd0c505(0x8aa)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x20d866['id']+_0xd0c505(0x1b0)+_0x20d866['id']+_0xd0c505(0x41b)+(!_0x20d866[_0xd0c505(0x65e)]?_0xd0c505(0xef)+_0x20d866['id']+_0xd0c505(0x9c5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x587f72['isDefault']?_0xd0c505(0x2f0)+_0x20d866['id']+_0xd0c505(0x49c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3233b5+_0xd0c505(0x1c1);})[_0x44f78f(0xb92)](''):_0x44f78f(0xc3c),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x2dafad=_0xdd45b5;document[_0x2dafad(0x197)](_0x2dafad(0x18f))[_0x2dafad(0x947)](_0x2d31ac=>{const _0x474cca=_0x2dafad;_0x2d31ac[_0x474cca(0x915)](_0x474cca(0x98f),_0x385183=>{const _0x4181aa=_0x474cca;activeShortcutTabId=_0x385183[_0x4181aa(0xc23)][_0x4181aa(0x41c)]['tabId'],renderAdditionalShortcutsModal();}),_0x2d31ac['addEventListener'](_0x474cca(0x873),_0xbfc6f4=>{const _0x228e29=_0x474cca,_0x443649=_0xbfc6f4['currentTarget'];_0x443649[_0x228e29(0x5db)](_0x228e29(0xae1))['classList'][_0x228e29(0x9ff)](_0x228e29(0x2ee));const _0x37fb49=_0x443649[_0x228e29(0x5db)](_0x228e29(0x826));_0x37fb49[_0x228e29(0x8c0)][_0x228e29(0x3b9)](_0x228e29(0x2ee)),_0x37fb49[_0x228e29(0xb8d)](),_0x37fb49['select']();});}),document[_0x2dafad(0x197)](_0x2dafad(0x826))['forEach'](_0x4714f9=>{const _0x1ea0c8=_0x2dafad,_0x1b218f=()=>{const _0x4b13ee=_0x39cc,_0x12433c=_0x4714f9['closest']('.shortcut-tab-btn')[_0x4b13ee(0x41c)][_0x4b13ee(0xb17)];handleRenameShortcutTab(_0x12433c,_0x4714f9[_0x4b13ee(0xc1a)]);};_0x4714f9[_0x1ea0c8(0x915)](_0x1ea0c8(0x201),_0x1b218f),_0x4714f9['addEventListener'](_0x1ea0c8(0x90e),_0x268f9e=>{const _0x4655e2=_0x1ea0c8;if(_0x268f9e[_0x4655e2(0xaf1)]==='Enter')_0x4714f9[_0x4655e2(0x201)]();});}),document[_0x2dafad(0x197)](_0x2dafad(0xa87))[_0x2dafad(0x947)](_0x197b43=>{const _0x36a2a3=_0x2dafad;_0x197b43['addEventListener']('click',_0x8d11a0=>handleDeleteShortcutTab(_0x8d11a0[_0x36a2a3(0xc23)][_0x36a2a3(0x41c)]['tabId']));}),document[_0x2dafad(0x197)](_0x2dafad(0x32e))[_0x2dafad(0x947)](_0x307023=>{_0x307023['addEventListener']('click',_0x113a21=>{const _0x558376=_0x39cc;_0x113a21[_0x558376(0xc15)]();const {shortcutId:_0x40231d,targetTabId:_0xea6a61}=_0x113a21[_0x558376(0xc23)][_0x558376(0x41c)];handleMoveShortcutToTab(_0x40231d,_0xea6a61);});}),document[_0x2dafad(0x197)](_0x2dafad(0x285))[_0x2dafad(0x947)](_0x146511=>{const _0x3947b=_0x2dafad;_0x146511['addEventListener'](_0x3947b(0x98f),_0x3bb320=>{const _0x178dda=_0x3947b;handleRemoveShortcutFromTab(_0x3bb320[_0x178dda(0xc23)][_0x178dda(0x41c)]['shortcutId'],activeShortcutTabId);});});const _0x116934=document[_0x2dafad(0xbd5)]('additional-shortcuts-list');_0x116934[_0x2dafad(0x197)]('.use-hidden-shortcut-btn')[_0x2dafad(0x947)](_0x30c8e3=>{const _0x29b870=_0x2dafad;_0x30c8e3[_0x29b870(0x915)](_0x29b870(0x98f),()=>{const _0x53e20d=_0x29b870;document['getElementById']('additional-shortcuts-modal')[_0x53e20d(0x8c0)][_0x53e20d(0x9ff)](_0x53e20d(0x2ee)),handleShortcutClick(_0x30c8e3[_0x53e20d(0x41c)]['id']);});});let _0x5370e4=null;_0x116934[_0x2dafad(0x915)]('dragstart',_0xe712b8=>{const _0x3127d4=_0x2dafad;_0x5370e4=_0xe712b8[_0x3127d4(0x8a0)][_0x3127d4(0x18a)]('.shortcut-list-item'),_0x5370e4&&setTimeout(()=>_0x5370e4[_0x3127d4(0x8c0)]['add'](_0x3127d4(0xa81)),0x0);}),_0x116934[_0x2dafad(0x915)]('dragend',()=>{const _0xc04049=_0x2dafad;_0x5370e4&&(_0x5370e4['classList'][_0xc04049(0x3b9)](_0xc04049(0xa81)),_0x5370e4=null);}),_0x116934['addEventListener'](_0x2dafad(0x42e),_0x5a4574=>{const _0x25fb63=_0x2dafad;_0x5a4574['preventDefault']();const _0x1bb70c=[..._0x116934[_0x25fb63(0x197)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x5c1564,_0xa3d850)=>{const _0x543193=_0x25fb63,_0x520db7=_0xa3d850[_0x543193(0xc54)](),_0x29b201=_0x5a4574[_0x543193(0xbcb)]-_0x520db7[_0x543193(0xb2c)]-_0x520db7[_0x543193(0x645)]/0x2;return _0x29b201<0x0&&_0x29b201>_0x5c1564[_0x543193(0x954)]?{'offset':_0x29b201,'element':_0xa3d850}:_0x5c1564;},{'offset':Number[_0x25fb63(0x282)]})[_0x25fb63(0xb6a)];_0x1bb70c==null?_0x116934[_0x25fb63(0x78c)](_0x5370e4):_0x116934[_0x25fb63(0x8d2)](_0x5370e4,_0x1bb70c);}),_0x116934['addEventListener'](_0x2dafad(0x4ac),_0x3dcc81=>{const _0x2f2f58=_0x2dafad;_0x3dcc81[_0x2f2f58(0xc15)]();if(_0x5370e4){const _0x3b4384=[..._0x116934[_0x2f2f58(0x197)](_0x2f2f58(0x221))][_0x2f2f58(0xb43)](_0x282230=>_0x282230[_0x2f2f58(0x41c)][_0x2f2f58(0x1b1)]);handleShortcutOrderChange(activeShortcutTabId,_0x3b4384);}}),document[_0x2dafad(0x197)](_0x2dafad(0x62d))[_0x2dafad(0x947)](_0x95123a=>{const _0x4ad5ac=_0x2dafad;_0x95123a[_0x4ad5ac(0x915)](_0x4ad5ac(0x98f),_0x5d9289=>{const _0x33b2f7=_0x4ad5ac;_0x5d9289[_0x33b2f7(0x1b7)]();const _0x1afa6e=_0x5d9289[_0x33b2f7(0xc23)][_0x33b2f7(0x9c3)],_0x2b94ce=_0x1afa6e[_0x33b2f7(0x8c0)]['contains'](_0x33b2f7(0x2ee));document['querySelectorAll']('.move-shortcut-dropdown')[_0x33b2f7(0x947)](_0x3b1b15=>_0x3b1b15[_0x33b2f7(0x8c0)][_0x33b2f7(0x9ff)]('hidden')),_0x2b94ce&&_0x1afa6e[_0x33b2f7(0x8c0)][_0x33b2f7(0x3b9)](_0x33b2f7(0x2ee));});});}document[_0xdd45b5(0x915)](_0xdd45b5(0x98f),_0x306578=>{const _0x1b0ed4=_0xdd45b5;!_0x306578['target'][_0x1b0ed4(0x18a)](_0x1b0ed4(0x6e0))&&document[_0x1b0ed4(0x197)](_0x1b0ed4(0x611))[_0x1b0ed4(0x947)](_0x24d74a=>_0x24d74a[_0x1b0ed4(0x8c0)][_0x1b0ed4(0x9ff)](_0x1b0ed4(0x2ee)));});async function saveShortcutConfig(){const _0xcc8705=_0xdd45b5,_0x61853e=doc(db,_0xcc8705(0x222),'dashboardConfig');try{await setDoc(_0x61853e,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x401962){console['error'](_0xcc8705(0x3e8),_0x401962);}}async function handleAddShortcutTab(){const _0x295e1e=_0xdd45b5,_0x18e677=prompt(_0x295e1e(0xb46),_0x295e1e(0x30d));if(!_0x18e677||_0x18e677[_0x295e1e(0x7ae)]()==='')return;shortcutTabs[_0x295e1e(0x12e)]({'id':_0x295e1e(0x5bf)+Date[_0x295e1e(0x435)](),'name':_0x18e677[_0x295e1e(0x7ae)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5a0673,_0x1da888){const _0x7e4779=_0xdd45b5,_0x2cbb00=shortcutTabs[_0x7e4779(0x922)](_0x51744b=>_0x51744b['id']===_0x5a0673);_0x2cbb00&&_0x1da888[_0x7e4779(0x7ae)]()!==''&&(_0x2cbb00[_0x7e4779(0x8aa)]=_0x1da888['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x5d9689){const _0x2c969e=_0xdd45b5,_0x4b3634=shortcutTabs[_0x2c969e(0x922)](_0xbaa9a7=>_0xbaa9a7['id']===_0x5d9689);_0x4b3634&&!_0x4b3634['isDefault']&&showConfirmation(_0x2c969e(0xba3)+_0x4b3634[_0x2c969e(0x8aa)]+_0x2c969e(0x25e),async()=>{shortcutTabs=shortcutTabs['filter'](_0x46483b=>_0x46483b['id']!==_0x5d9689),delete shortcutOrder[_0x5d9689];if(activeShortcutTabId===_0x5d9689)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x291b17,_0xf36c63){const _0x1eea30=_0xdd45b5,_0x1b524e=shortcutTabs[_0x1eea30(0x922)](_0x526653=>_0x526653['id']===_0xf36c63);_0x1b524e&&!_0x1b524e[_0x1eea30(0x38d)][_0x1eea30(0x668)](_0x291b17)&&(_0x1b524e[_0x1eea30(0x38d)][_0x1eea30(0x12e)](_0x291b17),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x322203,_0x53df1e){const _0x52f802=_0xdd45b5,_0x69f367=shortcutTabs['find'](_0x2f79e3=>_0x2f79e3['id']===_0x53df1e);_0x69f367&&!_0x69f367[_0x52f802(0x65e)]&&(_0x69f367[_0x52f802(0x38d)]=_0x69f367['shortcutIds'][_0x52f802(0x26c)](_0x88d520=>_0x88d520!==_0x322203),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x29f164,_0x579b9e){shortcutOrder[_0x29f164]=_0x579b9e,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x15ca01=_0xdd45b5,_0x2c1a46=document[_0x15ca01(0xbd5)](_0x15ca01(0x7f8)),_0x1eb8c1=document['getElementById']('additional-shortcuts-list'),_0x49b76c=document[_0x15ca01(0xbd5)]('shortcuts-loading-msg');_0x49b76c&&_0x49b76c[_0x15ca01(0x8c0)][_0x15ca01(0x9ff)]('hidden');if(!_0x2c1a46||!_0x1eb8c1)return;const _0x5332a5=blueprintShortcuts[_0x15ca01(0xbb3)](0x0,0x4),_0xd93525=blueprintShortcuts[_0x15ca01(0xbb3)](0x4);_0x2c1a46[_0x15ca01(0x553)]=_0x5332a5['map'](_0x29b90b=>{const _0x410bd1=_0x15ca01;let _0x43d374=_0x410bd1(0xe1),_0x1437cf='🧩';if(_0x29b90b[_0x410bd1(0x797)]&&_0x29b90b[_0x410bd1(0xc2a)])_0x43d374=_0x410bd1(0x1cf),_0x1437cf='📗';else _0x29b90b[_0x410bd1(0x797)]&&(_0x43d374=_0x410bd1(0xc65),_0x1437cf='📘');const _0x177dd1=!_0x29b90b[_0x410bd1(0x65e)]?_0x410bd1(0xef)+_0x29b90b['id']+_0x410bd1(0x5c9):'';return _0x410bd1(0x93f)+_0x29b90b['id']+_0x410bd1(0x7d0)+_0x43d374+_0x410bd1(0x5dc)+_0x1437cf+'\x20'+_0x29b90b[_0x410bd1(0x8aa)]+_0x410bd1(0x421)+_0x29b90b['id']+_0x410bd1(0xa66)+_0x177dd1+_0x410bd1(0x97d);})[_0x15ca01(0xb92)](''),_0xd93525[_0x15ca01(0x9f1)]>0x0&&(_0x2c1a46['innerHTML']+=_0x15ca01(0xc7c)),_0xd93525[_0x15ca01(0x9f1)]>0x0?_0x1eb8c1[_0x15ca01(0x553)]=_0xd93525['map'](_0x522e8b=>{const _0x276880=_0x15ca01;let _0x13be3e='🧩';if(_0x522e8b[_0x276880(0x797)]&&_0x522e8b['referenceUrl'])_0x13be3e='📗';else _0x522e8b['blueprintUrl']&&(_0x13be3e='📘');return _0x276880(0x521)+_0x13be3e+'\x20'+_0x522e8b[_0x276880(0x8aa)]+_0x276880(0x88d)+_0x522e8b['id']+_0x276880(0x1b0)+_0x522e8b['id']+_0x276880(0x41b)+(!_0x522e8b[_0x276880(0x65e)]?_0x276880(0xef)+_0x522e8b['id']+_0x276880(0x9c5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''):_0x1eb8c1[_0x15ca01(0x553)]=_0x15ca01(0x7ef);}function getMimeTypeFromFilename(_0x3cd5b0){const _0x25373c=_0xdd45b5,_0x995199=_0x3cd5b0['split']('.')['pop']()[_0x25373c(0x1a5)]();switch(_0x995199){case _0x25373c(0x3fd):return _0x25373c(0x6c4);case'txt':return'text/plain';default:return _0x25373c(0x6c4);}}function openShortcutEditor(_0x5751ad=null){const _0x5d5c4e=_0xdd45b5,_0x45e7ba=document[_0x5d5c4e(0xbd5)](_0x5d5c4e(0x926)),_0x3ee145=document[_0x5d5c4e(0xbd5)](_0x5d5c4e(0x7e2)),_0x4f5d27=document[_0x5d5c4e(0xbd5)](_0x5d5c4e(0x89c)),_0x507053=document[_0x5d5c4e(0xbd5)](_0x5d5c4e(0x5d6)),_0x280367=document[_0x5d5c4e(0xbd5)](_0x5d5c4e(0x1a2)),_0x54e908=document[_0x5d5c4e(0xbd5)](_0x5d5c4e(0x968));if(_0x5751ad){const _0x2810b3=blueprintShortcuts[_0x5d5c4e(0x922)](_0x1cc14d=>_0x1cc14d['id']===_0x5751ad);if(!_0x2810b3)return;_0x3ee145['textContent']=_0x5d5c4e(0x9ca),_0x4f5d27['value']=_0x2810b3['id'],_0x507053['value']=_0x2810b3[_0x5d5c4e(0x8aa)],_0x280367[_0x5d5c4e(0xc1a)]=_0x2810b3[_0x5d5c4e(0x797)]||'',_0x54e908[_0x5d5c4e(0xc1a)]=_0x2810b3[_0x5d5c4e(0xc2a)]||'';}else _0x3ee145[_0x5d5c4e(0x5e0)]=_0x5d5c4e(0x7c3),_0x4f5d27[_0x5d5c4e(0xc1a)]='',_0x507053[_0x5d5c4e(0xc1a)]='',_0x280367[_0x5d5c4e(0xc1a)]='',_0x54e908[_0x5d5c4e(0xc1a)]='';_0x45e7ba[_0x5d5c4e(0x8c0)][_0x5d5c4e(0x3b9)](_0x5d5c4e(0x2ee));}async function saveShortcutChanges(){const _0x2a78c2=_0xdd45b5,_0x33058c=document[_0x2a78c2(0xbd5)](_0x2a78c2(0x89c))['value'],_0x42c552=document[_0x2a78c2(0xbd5)](_0x2a78c2(0x5d6))[_0x2a78c2(0xc1a)][_0x2a78c2(0x7ae)](),_0x22ab30=document[_0x2a78c2(0xbd5)]('shortcut-blueprint-url-input')[_0x2a78c2(0xc1a)][_0x2a78c2(0x7ae)]();if(!_0x42c552||!_0x22ab30){showMessage(_0x2a78c2(0x170));return;}const _0x3e848e={'id':_0x33058c||_0x2a78c2(0xa3d)+Date[_0x2a78c2(0x435)](),'name':_0x42c552,'blueprintUrl':_0x22ab30,'referenceUrl':document[_0x2a78c2(0xbd5)](_0x2a78c2(0x968))[_0x2a78c2(0xc1a)][_0x2a78c2(0x7ae)](),'isDefault':_0x33058c['startsWith'](_0x2a78c2(0xb63))};let _0x1d2d3a;_0x33058c?_0x1d2d3a=blueprintShortcuts['map'](_0x3f03fa=>_0x3f03fa['id']===_0x33058c?_0x3e848e:_0x3f03fa):_0x1d2d3a=[...blueprintShortcuts,_0x3e848e];try{const _0x1108c8=doc(db,_0x2a78c2(0x222),_0x2a78c2(0x34b));await setDoc(_0x1108c8,{'blueprintShortcuts':_0x1d2d3a},{'merge':!![]}),document[_0x2a78c2(0xbd5)](_0x2a78c2(0x926))[_0x2a78c2(0x8c0)][_0x2a78c2(0x9ff)](_0x2a78c2(0x2ee));}catch(_0x2296a2){console['error'](_0x2a78c2(0x1e5),_0x2296a2),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x35d6c4){const _0x1998cc=_0xdd45b5,_0x59dde4=blueprintShortcuts[_0x1998cc(0x922)](_0x52e362=>_0x52e362['id']===_0x35d6c4);if(!_0x59dde4||!_0x59dde4['blueprintUrl'])return;document[_0x1998cc(0xbd5)](_0x1998cc(0x82b))['classList']['add']('hidden'),document[_0x1998cc(0xbd5)]('generate-from-blueprint-btn')['disabled']=!![];const _0x5c112c=document[_0x1998cc(0xbd5)]('loader'),_0x3ac0c5=document[_0x1998cc(0xbd5)](_0x1998cc(0xa56));document[_0x1998cc(0xbd5)]('quiz-generation-area')[_0x1998cc(0x8c0)][_0x1998cc(0x3b9)](_0x1998cc(0x2ee)),document['getElementById'](_0x1998cc(0x32b))['innerHTML']='',_0x5c112c[_0x1998cc(0x8c0)][_0x1998cc(0x3b9)](_0x1998cc(0x2ee));try{_0x3ac0c5[_0x1998cc(0x5e0)]=_0x1998cc(0x4f0);const _0x4f6f17=await fetchFileFromUrl(_0x59dde4['blueprintUrl'],_0x1998cc(0x962));let _0x1f56de=null;if(_0x59dde4['referenceUrl']){_0x3ac0c5[_0x1998cc(0x5e0)]=_0x1998cc(0xd3);const _0x58307b=_0x59dde4['referenceUrl'][_0x1998cc(0x1a5)]()[_0x1998cc(0xd1)]('.txt')?_0x1998cc(0xc2d):_0x1998cc(0x5ab);_0x1f56de=await fetchFileFromUrl(_0x59dde4['referenceUrl'],_0x58307b);}await handleGenerateFromBlueprintWithFiles(_0x4f6f17,_0x1f56de);}catch(_0x32b450){console[_0x1998cc(0x2c7)](_0x1998cc(0x7c9),_0x32b450),showMessage(_0x1998cc(0x5b1)+_0x32b450[_0x1998cc(0x700)]),_0x5c112c[_0x1998cc(0x8c0)][_0x1998cc(0x9ff)](_0x1998cc(0x2ee));}}function getDirectDownloadUrl(_0x455209){const _0x54b2d3=_0xdd45b5,_0x1f6d6f=_0x455209[_0x54b2d3(0x9e2)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x1f6d6f&&_0x1f6d6f[0x1])return _0x54b2d3(0x506)+_0x1f6d6f[0x1];return _0x455209;}async function fetchFileFromUrl(_0x304f4f,_0x278e68){const _0x529f06=_0xdd45b5,_0x1fe775=getDirectDownloadUrl(_0x304f4f),_0x4c032a=_0x529f06(0x561)+encodeURIComponent(_0x1fe775),_0x403e36=await fetch(_0x4c032a);if(!_0x403e36['ok'])throw new Error(_0x529f06(0xc00)+_0x403e36[_0x529f06(0x56c)]+')');const _0x384064=await _0x403e36[_0x529f06(0x853)](),_0x5d48a6=await new Promise((_0x5a6c5e,_0x4420dc)=>{const _0x5bdb96=_0x529f06,_0x4b3459=new FileReader();_0x4b3459[_0x5bdb96(0x76a)]=()=>_0x5a6c5e(new Uint8Array(_0x4b3459[_0x5bdb96(0x2f3)])),_0x4b3459[_0x5bdb96(0x3b4)]=_0x4420dc,_0x4b3459[_0x5bdb96(0x34c)](_0x384064['slice'](0x0,0x4));});let _0x39d3de='';const _0x19bd62=new TextDecoder()[_0x529f06(0x8d1)](_0x5d48a6);return _0x19bd62==='%PDF'?(_0x39d3de=_0x529f06(0x6c4),console[_0x529f06(0x3b7)](_0x529f06(0x6ca))):(_0x39d3de=_0x529f06(0x126),console['log'](_0x529f06(0x821))),new File([_0x384064],_0x278e68,{'type':_0x39d3de});}async function handleGenerateFromBlueprintWithFiles(_0x1d15e2,_0xa950ef=null){const _0x39be17=_0xdd45b5;if(!_0x1d15e2){showMessage(_0x39be17(0xac9));return;}const _0xa1e9a=document['getElementById']('loader'),_0x485369=document[_0x39be17(0xbd5)](_0x39be17(0xa56));_0xa1e9a[_0x39be17(0x8c0)][_0x39be17(0x3b9)](_0x39be17(0x2ee)),document[_0x39be17(0xbd5)](_0x39be17(0xc4e))[_0x39be17(0x8c0)][_0x39be17(0x3b9)](_0x39be17(0x2ee)),document[_0x39be17(0xbd5)](_0x39be17(0x32b))[_0x39be17(0x553)]='';try{_0x485369[_0x39be17(0x5e0)]=_0x39be17(0x648);const _0x38662b=await new Promise((_0x5c2ca6,_0x52e1a2)=>{const _0x2da9c2=_0x39be17,_0x3a903a=new FileReader();_0x3a903a['readAsDataURL'](_0x1d15e2),_0x3a903a[_0x2da9c2(0xbcc)]=()=>_0x5c2ca6(_0x3a903a[_0x2da9c2(0x2f3)][_0x2da9c2(0xa21)](',')[0x1]),_0x3a903a['onerror']=_0x52e1a2;}),_0x37ccc=[];if(_0xa950ef){_0x485369[_0x39be17(0x5e0)]=_0x39be17(0x93b);const _0x4db948=await _0xa950ef['text']();_0x37ccc[_0x39be17(0x12e)]({'text':_0x39be17(0x846)+_0x4db948});}const _0x21543f=[{'text':_0x39be17(0x663)},{'inlineData':{'mimeType':_0x1d15e2[_0x39be17(0x886)],'data':_0x38662b}},..._0x37ccc];await handleGenerateFromBlueprint(_0x21543f);}catch(_0x2f03a4){console[_0x39be17(0x2c7)]('Error\x20in\x20generating\x20from\x20files:',_0x2f03a4),showMessage(_0x39be17(0x5b1)+_0x2f03a4[_0x39be17(0x700)]),_0xa1e9a[_0x39be17(0x8c0)][_0x39be17(0x9ff)](_0x39be17(0x2ee));}}async function handleLiveAnswer(_0x3c1fec,_0x5c111c){const _0x110936=_0xdd45b5;document[_0x110936(0x197)](_0x110936(0x8c7))[_0x110936(0x947)](_0x2e8bc0=>_0x2e8bc0[_0x110936(0x256)]=!![]);const _0x1ad7d0=_0x5c111c['questionType']||currentQuizData[_0x110936(0x51a)];let _0x2edb6b=![],_0xa765d5=_0x3c1fec;if(_0x1ad7d0==='short_answer'){const _0x1a5af6=(_0x3c1fec||'')[_0x110936(0x467)]();_0x2edb6b=await gradeShortAnswer(_0x1a5af6,_0x5c111c);}else{if(_0x1ad7d0==='multiple_choice')_0x2edb6b=_0x3c1fec===_0x5c111c[_0x110936(0x51c)];else{if(_0x1ad7d0===_0x110936(0xa62)){const _0x56963a=_0x5c111c[_0x110936(0xa7d)];_0x2edb6b=_0x3c1fec===0x0&&_0x56963a||_0x3c1fec===0x1&&!_0x56963a;}else{if(_0x1ad7d0===_0x110936(0xc6)){const _0x48ebf6=_0x5c111c[_0x110936(0x710)][_0x3c1fec];_0x2edb6b=_0x48ebf6===_0x5c111c[_0x110936(0xc67)],_0xa765d5=_0x48ebf6;}}}}const _0x11503b=doc(db,_0x110936(0xb4)+appId+_0x110936(0x179),currentLiveGameId),_0x3ea0ef={};_0x3ea0ef[_0x110936(0x115)+currentStudentName+_0x110936(0x77c)]=!![],_0x3ea0ef[_0x110936(0x115)+currentStudentName+_0x110936(0x819)]=_0x2edb6b,_0x3ea0ef['players.'+currentStudentName+_0x110936(0x132)]=_0x1ad7d0===_0x110936(0x5ed)||_0x1ad7d0===_0x110936(0xc6)?null:_0x3c1fec,_0x3ea0ef[_0x110936(0x115)+currentStudentName+_0x110936(0x81d)]=_0xa765d5,_0x3ea0ef[_0x110936(0x115)+currentStudentName+_0x110936(0x2c8)]=serverTimestamp(),_0x3ea0ef[_0x110936(0x115)+currentStudentName+_0x110936(0x37a)]=![],await updateDoc(_0x11503b,_0x3ea0ef),liveGameView['innerHTML']=_0x110936(0x713);}function showAdminSummaryView(_0x3508de,_0x6ee2be){const _0xa76810=_0xdd45b5,_0x578e12=Object[_0xa76810(0x3bb)](_0x3508de[_0xa76810(0xa96)]||{}),_0x126aad=_0x6ee2be[_0xa76810(0x40c)]||currentQuizData[_0xa76810(0x51a)],_0x252f6c=_0x126aad==='true_false'?[_0xa76810(0xb74),'ไม่ใช่']:_0x6ee2be['options']||_0x6ee2be[_0xa76810(0x710)]||[],_0x518ac={},_0x3174de=new Array(_0x252f6c[_0xa76810(0x9f1)])[_0xa76810(0xa9c)](0x0);_0x252f6c[_0xa76810(0x947)]((_0xab491c,_0x3f6a64)=>{_0x518ac[_0x3f6a64]=[];}),Object['entries'](_0x3508de[_0xa76810(0xa96)]||{})['forEach'](([_0x4176ab,_0x3c9f9b])=>{const _0x11c900=_0xa76810;if(_0x3c9f9b['status']===_0x11c900(0x9b4)&&_0x3c9f9b['lastAnswerIndex']!==undefined){const _0x213aa5=_0x3c9f9b[_0x11c900(0x6f4)];_0x518ac[_0x213aa5]&&(_0x518ac[_0x213aa5][_0x11c900(0x12e)](_0x4176ab),_0x3174de[_0x213aa5]++);}});const _0x5379e9=Math[_0xa76810(0x5fa)](..._0x3174de,0x1),_0x2f4bc7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x6ee2be[_0xa76810(0xbb0)]||_0x6ee2be[_0xa76810(0x72b)])+_0xa76810(0x4bc)+_0x3174de[_0xa76810(0xb43)]((_0x4d980c,_0x399357)=>{const _0x44113b=_0xa76810,_0x138157=_0x518ac[_0x399357][_0x44113b(0x9f1)]>0x0?_0x518ac[_0x399357]['join'](',\x20'):_0x44113b(0x216);let _0x1da000=![];if(_0x126aad===_0x44113b(0xad4))_0x1da000=_0x399357===_0x6ee2be[_0x44113b(0x51c)];else{if(_0x126aad===_0x44113b(0xa62)){const _0x528635=_0x6ee2be[_0x44113b(0xa7d)];_0x1da000=_0x528635&&_0x399357===0x0||!_0x528635&&_0x399357===0x1;}else _0x126aad===_0x44113b(0xc6)&&(_0x1da000=_0x252f6c[_0x399357]===_0x6ee2be[_0x44113b(0xc67)]);}const _0x56d011=_0x1da000?_0x44113b(0xa18):'#e21b3c';return _0x44113b(0xc57)+_0x4d980c+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x56d011+_0x44113b(0x6bb)+_0x399357+_0x44113b(0x97e)+_0x252f6c[_0x399357]+_0x44113b(0x30f)+_0x399357+_0x44113b(0x3cf)+_0x138157+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xa76810(0xb92)]('')+_0xa76810(0x195);liveGameView[_0xa76810(0x553)]=_0x2f4bc7;if(window[_0xa76810(0x9dd)])MathJax[_0xa76810(0x679)]();document['getElementById'](_0xa76810(0x49b))[_0xa76810(0x915)](_0xa76810(0x98f),async()=>{const _0xd18447=_0xa76810,_0x3bb89a=doc(db,_0xd18447(0xb4)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3bb89a,{'questionStatus':_0xd18447(0x79c)});}),document[_0xa76810(0xbd5)](_0xa76810(0x7ce))[_0xa76810(0x915)](_0xa76810(0x98f),()=>{openScratchpad(_0x6ee2be,_0x252f6c);});}function showPlayerSummaryView(_0xf67def,_0x4fd153){const _0x446432=_0xdd45b5,_0x29d709=Object[_0x446432(0x3bb)](_0xf67def[_0x446432(0xa96)]||{}),_0x54adae=_0xf67def['players'][_0x4fd153],_0x370523=_0x29d709[_0x446432(0x26c)](_0x31d7c=>_0x31d7c['status']===_0x446432(0x9b4))['sort']((_0x2184ba,_0x36d9a9)=>_0x36d9a9[_0x446432(0x9e7)]-_0x2184ba['score']),_0x4354d2=_0x370523[_0x446432(0x54b)](_0x1bbbfb=>_0x1bbbfb===_0x54adae)+0x1,_0x3f7c20=_0x54adae[_0x446432(0xb4f)]?_0x446432(0x45c):_0x446432(0x439),_0x54fbb4=_0x54adae['lastAnswerCorrect']?_0x446432(0x233):_0x446432(0x3b2),_0x4bf04a=_0x54adae[_0x446432(0xc8e)]||0x0,_0x1c6a75='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x23ad44='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x1c6a75+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x54fbb4+_0x446432(0x19c)+_0x3f7c20+_0x446432(0x10c)+_0x4bf04a+_0x446432(0xbd3)+(_0x4354d2>0x0?_0x4354d2:'-')+_0x446432(0x583);liveGameView[_0x446432(0x553)]=_0x23ad44;}function createQuizFromBank(){const _0x89cb1c=_0xdd45b5,_0x4369a3=document[_0x89cb1c(0x197)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x4369a3[_0x89cb1c(0x9f1)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x4c9ac9=[];_0x4369a3[_0x89cb1c(0x947)](_0x4dd12f=>{const _0x1ee139=_0x89cb1c;_0x4c9ac9[_0x1ee139(0x12e)](JSON[_0x1ee139(0x837)](_0x4dd12f[_0x1ee139(0xc1a)]));});const _0x1a8e9f={'topic':_0x89cb1c(0x5ae),'questions':_0x4c9ac9};displayGeneratedQuiz(_0x1a8e9f);}function showAdminLobbyView(_0x10029f,_0x4fe43a){const _0x2991ed=_0xdd45b5;showView('live-game');const _0x587caa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x4fe43a+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x10029f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2991ed(0x553)]=_0x587caa,document['getElementById'](_0x2991ed(0x548))[_0x2991ed(0x915)](_0x2991ed(0x98f),async()=>{const _0x10f9e2=_0x2991ed;if(!currentQuizData||!currentQuizData[_0x10f9e2(0x69e)]||currentQuizData[_0x10f9e2(0x69e)]['length']===0x0){showMessage(_0x10f9e2(0x266));return;}try{const _0x3fc31e=doc(db,_0x10f9e2(0xb4)+appId+_0x10f9e2(0x179),currentLiveGameId);await updateDoc(_0x3fc31e,{'status':_0x10f9e2(0x8fd),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x295940=currentQuizData[_0x10f9e2(0x69e)][0x0],_0x3ae877=currentQuizData[_0x10f9e2(0x69e)]['length'];showAdminLiveQuestionView(_0x295940,0x0,_0x3ae877);}catch(_0x2a6efd){console[_0x10f9e2(0x2c7)](_0x10f9e2(0x257),_0x2a6efd),showMessage(_0x10f9e2(0x2d6));}});}async function openQuizBankModal(){const _0x7d6dd4=_0xdd45b5;if(allQuizzesGlobal[_0x7d6dd4(0x9f1)]===0x0){const _0x43a28a=await getDocs(collection(db,_0x7d6dd4(0xb4)+appId+_0x7d6dd4(0xcba)));allQuizzesGlobal=_0x43a28a[_0x7d6dd4(0x627)]['map'](_0x87bd86=>({'id':_0x87bd86['id'],..._0x87bd86['data']()}));}renderQuizBankList(''),document['getElementById'](_0x7d6dd4(0x458))[_0x7d6dd4(0x8c0)][_0x7d6dd4(0x3b9)](_0x7d6dd4(0x2ee));}function renderQuizBankList(_0x5e7fb0='',_0x1e51a0=![]){const _0x1b6796=_0xdd45b5,_0x335a5e=document[_0x1b6796(0xbd5)](_0x1b6796(0x370)),_0xea6b82=_0x5e7fb0[_0x1b6796(0x1a5)]()['trim'](),_0x5b59b6=allQuizzesGlobal[_0x1b6796(0xb43)](_0xf96948=>({..._0xf96948,'projectName':allProjects[_0x1b6796(0x922)](_0x1e0ac9=>_0x1e0ac9['id']===_0xf96948['projectId'])?.[_0x1b6796(0xad3)]||_0x1b6796(0xba7)}))[_0x1b6796(0x26c)](_0x444568=>(_0x444568[_0x1b6796(0x6bd)]||'')['toLowerCase']()['includes'](_0xea6b82)||(_0x444568['projectName']||'')[_0x1b6796(0x1a5)]()['includes'](_0xea6b82)||_0x444568['id'][_0x1b6796(0x467)]()[_0x1b6796(0x668)](_0xea6b82));document[_0x1b6796(0xbd5)]('quiz-bank-count')[_0x1b6796(0x5e0)]='('+_0x5b59b6['length']+_0x1b6796(0x2d4),_0x335a5e['innerHTML']=_0x5b59b6['length']?_0x5b59b6['map'](_0x235f8b=>{const _0x310507=_0x1b6796,_0x159a54=!_0x1e51a0?_0x310507(0x1fd)+_0x235f8b['id']+_0x310507(0x67b)+_0x235f8b['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x235f8b['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x235f8b['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x235f8b['id']+_0x310507(0x73d)+_0x235f8b['id']+_0x310507(0x523)+_0x235f8b[_0x310507(0x6bd)]+_0x310507(0x4b8):'';return _0x310507(0xb19)+_0x235f8b['id']+_0x310507(0xc7d)+(_0x235f8b[_0x310507(0x6bd)]||_0x310507(0x12d))+_0x310507(0xa25)+(_0x235f8b[_0x310507(0x69e)]?.[_0x310507(0x9f1)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x235f8b['projectName']+_0x310507(0x129)+_0x235f8b['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x159a54+_0x310507(0xaa7);})[_0x1b6796(0xb92)](''):_0x1b6796(0x121),!_0x1e51a0&&(_0x335a5e[_0x1b6796(0x197)](_0x1b6796(0xcb6))[_0x1b6796(0x947)](_0x14201d=>{const _0x42454c=_0x1b6796;_0x14201d['addEventListener'](_0x42454c(0x98f),()=>{const _0x21b834=_0x42454c,_0x4c96be=_0x14201d[_0x21b834(0x41c)]['id'];document['getElementById'](_0x21b834(0x458))[_0x21b834(0x8c0)][_0x21b834(0x9ff)](_0x21b834(0x2ee)),showQuizDetailView(_0x4c96be);});}),_0x335a5e[_0x1b6796(0x197)]('.quiz-bank-try-btn')[_0x1b6796(0x947)](_0x25cc39=>{const _0x5ba2bd=_0x1b6796;_0x25cc39[_0x5ba2bd(0x915)](_0x5ba2bd(0x98f),_0x336209=>{const _0x484563=_0x5ba2bd;_0x336209['stopPropagation']();const _0x4a15a6=_0x25cc39['dataset']['id'],_0x529178=allQuizzesGlobal[_0x484563(0x922)](_0x4e8f04=>_0x4e8f04['id']===_0x4a15a6);_0x529178?(currentQuizData=_0x529178,document[_0x484563(0xbd5)](_0x484563(0x458))['classList'][_0x484563(0x9ff)](_0x484563(0x2ee)),startAdminTest()):showMessage(_0x484563(0x226));});}),_0x335a5e['querySelectorAll'](_0x1b6796(0xa0b))[_0x1b6796(0x947)](_0x123ba7=>{const _0x18b6e8=_0x1b6796;_0x123ba7['addEventListener'](_0x18b6e8(0x98f),_0x3f4318=>{const _0x58f09c=_0x18b6e8;_0x3f4318['stopPropagation']();const _0x5e448f=_0x123ba7[_0x58f09c(0x41c)]['id'],_0x26f7d3=allQuizzesGlobal[_0x58f09c(0x922)](_0x268bbb=>_0x268bbb['id']===_0x5e448f);_0x26f7d3?(document['getElementById'](_0x58f09c(0x458))[_0x58f09c(0x8c0)]['add'](_0x58f09c(0x2ee)),handleGenerateParallelFromBank(_0x26f7d3)):showMessage(_0x58f09c(0x226));});}),_0x335a5e[_0x1b6796(0x197)](_0x1b6796(0x8bc))[_0x1b6796(0x947)](_0x329e5d=>{const _0x48b5d2=_0x1b6796;_0x329e5d[_0x48b5d2(0x915)]('click',_0x185e4b=>{const _0x1a3db7=_0x48b5d2;_0x185e4b[_0x1a3db7(0x1b7)]();const _0x153bea=_0x329e5d[_0x1a3db7(0x41c)]['id'],_0x2480d4=allQuizzesGlobal[_0x1a3db7(0x922)](_0x143c16=>_0x143c16['id']===_0x153bea);_0x2480d4?(document[_0x1a3db7(0xbd5)](_0x1a3db7(0x458))[_0x1a3db7(0x8c0)][_0x1a3db7(0x9ff)](_0x1a3db7(0x2ee)),startPresentation(_0x2480d4)):showMessage(_0x1a3db7(0x226));});}),_0x335a5e[_0x1b6796(0x197)]('.quiz-bank-move-btn')[_0x1b6796(0x947)](_0x454b8c=>{const _0x36f341=_0x1b6796;_0x454b8c[_0x36f341(0x915)]('click',_0x3c4e58=>{const _0x39b5b3=_0x36f341;_0x3c4e58[_0x39b5b3(0x1b7)]();const _0x5ab941=_0x454b8c['dataset']['id'];document[_0x39b5b3(0xbd5)]('quiz-bank-modal')[_0x39b5b3(0x8c0)][_0x39b5b3(0x9ff)](_0x39b5b3(0x2ee)),handleMoveQuiz(_0x5ab941);});}),_0x335a5e[_0x1b6796(0x197)]('.quiz-bank-settings-btn')[_0x1b6796(0x947)](_0x2ab0b2=>{const _0x62f809=_0x1b6796;_0x2ab0b2[_0x62f809(0x915)](_0x62f809(0x98f),_0x3306e2=>{const _0x3bca9d=_0x62f809;_0x3306e2[_0x3bca9d(0x1b7)]();const _0x6a8a84=_0x2ab0b2['dataset']['id'];document['getElementById'](_0x3bca9d(0x458))[_0x3bca9d(0x8c0)][_0x3bca9d(0x9ff)]('hidden'),handleQuizSettings(_0x6a8a84);});}),_0x335a5e[_0x1b6796(0x197)]('.quiz-bank-delete-btn')['forEach'](_0x4d598d=>{const _0x7cd85a=_0x1b6796;_0x4d598d['addEventListener'](_0x7cd85a(0x98f),_0x25c9d2=>{const _0x3f7831=_0x7cd85a;_0x25c9d2[_0x3f7831(0x1b7)]();const _0x39c5bb=_0x4d598d['dataset']['id'],_0x4eb0dc=_0x4d598d[_0x3f7831(0x41c)][_0x3f7831(0x6bd)];showConfirmation(_0x3f7831(0x810)+_0x4eb0dc+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x39c5bb));});}));}async function handleCompareResults(_0x4f206e,_0x42fb7f){const _0x967318=_0xdd45b5,_0x104f6f=document[_0x967318(0xbd5)]('comparison-modal'),_0x120de2=document[_0x967318(0xbd5)]('comparison-overall-content'),_0x3b2ad7=document[_0x967318(0xbd5)]('comparison-individual-content');document[_0x967318(0xbd5)](_0x967318(0x9b7))[_0x967318(0x8c0)][_0x967318(0x9ff)](_0x967318(0x9b4)),document[_0x967318(0xbd5)](_0x967318(0xd8))[_0x967318(0x8c0)][_0x967318(0x3b9)](_0x967318(0x9b4)),_0x120de2[_0x967318(0x8c0)][_0x967318(0x3b9)]('hidden'),_0x3b2ad7[_0x967318(0x8c0)][_0x967318(0x9ff)](_0x967318(0x2ee)),_0x120de2['innerHTML']=_0x967318(0xa30),_0x3b2ad7[_0x967318(0x553)]='',_0x104f6f[_0x967318(0x8c0)]['remove']('hidden');try{const _0x56ed53=doc(db,_0x967318(0xb4)+appId+_0x967318(0xcba),_0x4f206e),_0x155eaf=await getDoc(_0x56ed53);if(!_0x155eaf[_0x967318(0x935)]())throw new Error(_0x967318(0xa76));const _0x3d3c56=_0x155eaf['data'](),_0x44e150=_0x3d3c56[_0x967318(0x69e)][_0x967318(0x9f1)],_0x3276d9=collection(db,_0x967318(0xb4)+appId+'/public/data/quizzes/'+_0x42fb7f+_0x967318(0x67f)),_0x1a60f5=collection(db,_0x967318(0xb4)+appId+_0x967318(0x9aa)+_0x4f206e+'/submissions'),[_0x2824ed,_0x49a120]=await Promise[_0x967318(0x906)]([getDocs(_0x3276d9),getDocs(_0x1a60f5)]),_0x24bdd1=_0x2824ed[_0x967318(0x627)]['map'](_0x6b6b2a=>_0x6b6b2a[_0x967318(0xa1d)]()),_0x1a1587=_0x49a120['docs'][_0x967318(0xb43)](_0x145c40=>_0x145c40[_0x967318(0xa1d)]()),_0x2fdb69=_0x24bdd1[_0x967318(0xb43)](_0x44a60b=>_0x44a60b[_0x967318(0x487)]),_0x3d626d=_0x1a1587['map'](_0x340082=>_0x340082[_0x967318(0x487)]),_0x4285f5=calculateMeanAndStdDev(_0x2fdb69),_0x47604f=calculateMeanAndStdDev(_0x3d626d),_0x42a53a=_0x4285f5[_0x967318(0xa09)],_0x3a192a=_0x47604f[_0x967318(0xa09)],_0x59fce3=_0x3a192a-_0x42a53a;let _0x5b5001=_0x967318(0x56b)+_0x42a53a['toFixed'](0x2)+_0x967318(0x652)+_0x3a192a['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x59fce3>=0x0?_0x967318(0x401):'bg-red-100')+_0x967318(0x7e6)+(_0x59fce3>=0x0?'text-emerald-800':'text-red-800')+_0x967318(0xc4b)+(_0x59fce3>=0x0?_0x967318(0x147):_0x967318(0xb49))+'\x22>'+(_0x59fce3>=0x0?'+':'')+_0x59fce3[_0x967318(0x41f)](0x2)+_0x967318(0x7cd);_0x120de2[_0x967318(0x553)]=_0x5b5001;const _0x3a17a8=document[_0x967318(0xbd5)](_0x967318(0x1f6))[_0x967318(0x793)]('2d');if(chartInstances[_0x967318(0x3c9)])chartInstances['comparison'][_0x967318(0x31d)]();chartInstances[_0x967318(0x3c9)]=new Chart(_0x3a17a8,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x967318(0x420),'data':[_0x42a53a],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x3a192a],'backgroundColor':_0x967318(0x4e6)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x44e150}}}});const _0x28c744=currentProjectData[_0x967318(0x8f4)]||[],_0x44a389=_0x28c744[_0x967318(0xb43)](_0x2ce285=>{const _0x5e30a1=_0x967318,_0xa5178d=_0x24bdd1[_0x5e30a1(0x922)](_0x22798b=>_0x22798b[_0x5e30a1(0x815)]===_0x2ce285),_0x31ea24=_0x1a1587[_0x5e30a1(0x922)](_0x2349c5=>_0x2349c5['studentName']===_0x2ce285),_0x5716b0=_0xa5178d?_0xa5178d[_0x5e30a1(0x487)]:null,_0x4e8f50=_0x31ea24?_0x31ea24[_0x5e30a1(0x487)]:null,_0x4abbc0=_0x5716b0!==null&&_0x4e8f50!==null?_0x4e8f50-_0x5716b0:null,_0x4e1c27=_0x5716b0!==null?calculateZScore(_0x5716b0,_0x4285f5[_0x5e30a1(0xa09)],_0x4285f5[_0x5e30a1(0x2b3)]):null,_0x29e726=_0x4e8f50!==null?calculateZScore(_0x4e8f50,_0x47604f[_0x5e30a1(0xa09)],_0x47604f[_0x5e30a1(0x2b3)]):null,_0x28be25=_0x4e1c27!==null?calculateTScore(_0x4e1c27):null,_0x2cad68=_0x29e726!==null?calculateTScore(_0x29e726):null,_0x50c331=_0x28be25!==null&&_0x2cad68!==null?_0x2cad68-_0x28be25:null;return{'name':_0x2ce285,'preScore':_0x5716b0,'postScore':_0x4e8f50,'gain':_0x4abbc0,'preTScore':_0x28be25,'postTScore':_0x2cad68,'tGain':_0x50c331};});renderIndividualComparisonTable(_0x44a389,_0x3b2ad7);}catch(_0xbd1529){console['error']('Error\x20comparing\x20results:',_0xbd1529),_0x120de2[_0x967318(0x553)]=_0x967318(0x447);}}async function saveBlueprintProject(){const _0x444bf6=_0xdd45b5;if(!extractedBlueprintData||!extractedBlueprintData[_0x444bf6(0x272)]){showMessage(_0x444bf6(0x4c3));return;}const _0x54ddd1=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Blueprint\x20O-NET\x20ป.6');if(!_0x54ddd1||_0x54ddd1[_0x444bf6(0x7ae)]()==='')return;const _0x133d70={};extractedBlueprintData['curriculum'][_0x444bf6(0x947)](_0x237245=>{const _0x20b34f=_0x444bf6;_0x237245[_0x20b34f(0x4e5)][_0x20b34f(0x947)](_0x849937=>{const _0x2794ee=_0x20b34f;_0x849937[_0x2794ee(0xb97)][_0x2794ee(0x947)](_0x31abd4=>{const _0x51472a=_0x2794ee,_0x4cfc9d=_0x51472a(0x953)+Date[_0x51472a(0x435)]()+Math['random']()[_0x51472a(0x467)](0x24)[_0x51472a(0x762)](0x2,0x9);_0x133d70[_0x4cfc9d]={'sara':_0x237245[_0x51472a(0xb1)],'mainTopic':_0x849937[_0x51472a(0x87b)],'subTopic':_0x31abd4,'status':_0x51472a(0xb4e),'lessonContent':null};});});});try{const _0x1cc5ab=collection(db,_0x444bf6(0xb4)+appId+_0x444bf6(0x3de));await addDoc(_0x1cc5ab,{'projectName':_0x54ddd1[_0x444bf6(0x7ae)](),'gradeLevel':extractedBlueprintData[_0x444bf6(0x3c8)],'topics':_0x133d70,'createdAt':serverTimestamp()}),showMessage(_0x444bf6(0x721)+_0x54ddd1[_0x444bf6(0x7ae)]()+'\x22\x20สำเร็จ!'),document['getElementById'](_0x444bf6(0xb24))[_0x444bf6(0x8c0)]['add'](_0x444bf6(0x2ee));}catch(_0x280a84){console[_0x444bf6(0x2c7)](_0x444bf6(0xaca),_0x280a84),showMessage(_0x444bf6(0xad6));}}async function showBlueprintProjects(){const _0x5a1ee5=_0xdd45b5,_0x3d1206=document['getElementById']('blueprint-projects-modal'),_0x417136=document['getElementById']('blueprint-project-list');_0x417136['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x3d1206[_0x5a1ee5(0x8c0)][_0x5a1ee5(0x3b9)]('hidden');try{const _0x4fc2eb=collection(db,_0x5a1ee5(0xb4)+appId+_0x5a1ee5(0x3de)),_0xd94907=await getDocs(_0x4fc2eb);if(_0xd94907[_0x5a1ee5(0x7f1)]){_0x417136[_0x5a1ee5(0x553)]=_0x5a1ee5(0x17d);return;}const _0x4642f7=_0xd94907[_0x5a1ee5(0x627)]['map'](_0x2c5d0b=>({'id':_0x2c5d0b['id'],..._0x2c5d0b[_0x5a1ee5(0xa1d)]()}));_0x4642f7[_0x5a1ee5(0x50a)]((_0x3dcd45,_0xd3f412)=>_0x3dcd45[_0x5a1ee5(0xad3)][_0x5a1ee5(0xa50)](_0xd3f412[_0x5a1ee5(0xad3)],'th')),_0x417136[_0x5a1ee5(0x553)]=_0x4642f7[_0x5a1ee5(0xb43)](_0x12cbfe=>_0x5a1ee5(0x8a6)+_0x12cbfe['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x12cbfe['gradeLevel']+'\x20|\x20'+Object[_0x5a1ee5(0x2df)](_0x12cbfe[_0x5a1ee5(0x2f9)])[_0x5a1ee5(0x9f1)]+_0x5a1ee5(0x7dd)+_0x12cbfe['id']+_0x5a1ee5(0x47e)+_0x12cbfe['id']+_0x5a1ee5(0x683))['join']('');}catch(_0x141dcf){console[_0x5a1ee5(0x2c7)](_0x5a1ee5(0x3d9),_0x141dcf),_0x417136[_0x5a1ee5(0x553)]=_0x5a1ee5(0x38e);}}async function displayBlueprintProjectManager(_0x50dd8e){const _0x1ca0e8=_0xdd45b5;currentBlueprintProjectId=_0x50dd8e,document[_0x1ca0e8(0xbd5)]('blueprint-projects-modal')[_0x1ca0e8(0x8c0)][_0x1ca0e8(0x9ff)]('hidden'),showView('admin-dashboard'),projectDashboardView[_0x1ca0e8(0x8c0)][_0x1ca0e8(0x9ff)]('hidden');const _0x4ada90=document[_0x1ca0e8(0xbd5)](_0x1ca0e8(0x191));_0x4ada90[_0x1ca0e8(0x8c0)][_0x1ca0e8(0x3b9)](_0x1ca0e8(0x2ee)),document['getElementById']('bp-topic-list-container')[_0x1ca0e8(0x553)]=_0x1ca0e8(0xa30);try{const _0x496fb2=doc(db,_0x1ca0e8(0xb4)+appId+_0x1ca0e8(0x3de),_0x50dd8e),_0x40faa8=await getDoc(_0x496fb2);if(!_0x40faa8[_0x1ca0e8(0x935)]())throw new Error('ไม่พบโปรเจค');const _0x6b707d={'id':_0x40faa8['id'],..._0x40faa8[_0x1ca0e8(0xa1d)]()};document[_0x1ca0e8(0xbd5)]('bp-project-title')[_0x1ca0e8(0x5e0)]=_0x6b707d[_0x1ca0e8(0xad3)],document[_0x1ca0e8(0xbd5)](_0x1ca0e8(0xc5a))[_0x1ca0e8(0xc1a)]=_0x6b707d[_0x1ca0e8(0x47f)]||'',renderBlueprintTopicManager(_0x6b707d);}catch(_0x3990c0){console['error'](_0x1ca0e8(0xc5b),_0x3990c0),showMessage(_0x3990c0['message']),showView(_0x1ca0e8(0x76b));}}function renderBlueprintTopicManager(_0x4a7579){const _0x49d88b=_0xdd45b5,_0x2e489d=document['getElementById'](_0x49d88b(0x9b3)),_0x3c683e=_0x4a7579[_0x49d88b(0x2f9)]||{};if(Object[_0x49d88b(0x2df)](_0x3c683e)[_0x49d88b(0x9f1)]===0x0){_0x2e489d[_0x49d88b(0x553)]=_0x49d88b(0x901);return;}const _0x3b2e5a=Object[_0x49d88b(0x1a6)](_0x3c683e)[_0x49d88b(0xb43)](([_0x20e4c7,_0x371820])=>({'id':_0x20e4c7,..._0x371820}))[_0x49d88b(0x50a)]((_0x23120f,_0x387a20)=>(_0x23120f[_0x49d88b(0x131)]??Infinity)-(_0x387a20[_0x49d88b(0x131)]??Infinity)),_0x5aae55={};_0x3b2e5a['forEach'](_0xd68153=>{const _0x40d10d=_0x49d88b,{sara:_0x1bb2f0,mainTopic:_0x5222e3}=_0xd68153;!_0x5aae55[_0x1bb2f0]&&(_0x5aae55[_0x1bb2f0]={}),!_0x5aae55[_0x1bb2f0][_0x5222e3]&&(_0x5aae55[_0x1bb2f0][_0x5222e3]=[]),_0x5aae55[_0x1bb2f0][_0x5222e3][_0x40d10d(0x12e)](_0xd68153);});let _0x2f93f2='';for(const _0x304b1c in _0x5aae55){_0x2f93f2+=_0x49d88b(0x6b1)+_0x304b1c+_0x49d88b(0xc8f);for(const _0x2c4220 in _0x5aae55[_0x304b1c]){_0x2f93f2+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x2c4220+_0x49d88b(0x658),_0x5aae55[_0x304b1c][_0x2c4220][_0x49d88b(0x947)](_0x37ad32=>{const _0x5be547=_0x49d88b,_0x4a80fd=_0x37ad32['id'],_0x34b03f=_0x37ad32[_0x5be547(0x59b)]||[],_0x2ca4d2=_0x34b03f[_0x5be547(0x9f1)]>0x0,_0x11dc82=_0x37ad32['status']===_0x5be547(0x9d6);let _0x57f1f1='';_0x2ca4d2?_0x57f1f1=_0x5be547(0x858)+_0x34b03f[_0x5be547(0x9f1)]+_0x5be547(0x187):_0x57f1f1='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x11dc82?'bg-green-200\x20text-green-800':_0x5be547(0x6fb))+'\x22>'+(_0x11dc82?'สร้างแล้ว':'ยังไม่สร้าง')+_0x5be547(0x4ef);const _0x4de456=!_0x11dc82?_0x5be547(0x999):'',_0x2fce32=!_0x11dc82?_0x5be547(0x43c):'';let _0x1574b0=_0x11dc82?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x5be547(0x29e);_0x2f93f2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x4a80fd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x37ad32[_0x5be547(0x92c)]+_0x5be547(0x72c)+_0x57f1f1+_0x5be547(0x473)+_0x4de456+_0x5be547(0x8a7)+_0x2fce32+_0x5be547(0x6e9)+_0x1574b0+_0x5be547(0x524);}),_0x2f93f2+=_0x49d88b(0x450);}_0x2f93f2+=_0x49d88b(0x969);}_0x2e489d[_0x49d88b(0x553)]=_0x2f93f2;}async function handleDeepDeleteBlueprintProject(_0x459c5f){const _0x457e61=_0xdd45b5,_0x1af740=doc(db,'artifacts/'+appId+_0x457e61(0x3de),_0x459c5f),_0x2ce786=await getDoc(_0x1af740);if(!_0x2ce786[_0x457e61(0x935)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x1c674c=_0x2ce786[_0x457e61(0xa1d)]()[_0x457e61(0xad3)];showConfirmation(_0x457e61(0xc9)+_0x1c674c+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x5ec7a0=_0x457e61;showMessage(_0x5ec7a0(0x40e));try{const _0x1afb8d=writeBatch(db),_0x400bd3=_0x2ce786['data'](),_0x1d74fa=_0x400bd3['topics']||{};for(const _0x563fcf in _0x1d74fa){const _0x4d3998=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+_0x459c5f+'/lessons',_0x563fcf);_0x1afb8d[_0x5ec7a0(0x2ec)](_0x4d3998);}const _0xaa1337=new Set();for(const _0x4e0e4c in _0x1d74fa){_0x1d74fa[_0x4e0e4c][_0x5ec7a0(0x59b)]&&_0x1d74fa[_0x4e0e4c][_0x5ec7a0(0x59b)][_0x5ec7a0(0x947)](_0x264327=>_0xaa1337[_0x5ec7a0(0x9ff)](_0x264327));}for(const _0x2ade4b of _0xaa1337){await handleDeleteQuiz(_0x2ade4b,![]);}_0x1afb8d[_0x5ec7a0(0x2ec)](_0x1af740),await _0x1afb8d[_0x5ec7a0(0xb39)](),showMessage(_0x5ec7a0(0x412)+_0x1c674c+_0x5ec7a0(0x261)),showBlueprintProjects();}catch(_0x2bb822){console[_0x5ec7a0(0x2c7)](_0x5ec7a0(0x9a1),_0x2bb822),showMessage(_0x5ec7a0(0x547));}});}async function openTopicQuizBank(_0x183138){const _0x3593ae=_0xdd45b5,_0x26f228=document[_0x3593ae(0xbd5)](_0x3593ae(0x10b)),_0x27ee8e=document[_0x3593ae(0xbd5)](_0x3593ae(0xb7b)),_0x3b7703=document[_0x3593ae(0xbd5)](_0x3593ae(0x807));try{await ensureGlobalQuizzesLoaded();const _0x488009=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x2354e8=await getDoc(_0x488009);if(!_0x2354e8[_0x3593ae(0x935)]())return;const _0x164694=_0x2354e8['data'](),_0x4f2f6a=_0x164694[_0x3593ae(0x2f9)][_0x183138];document['getElementById'](_0x3593ae(0x355))[_0x3593ae(0x5e0)]=_0x4f2f6a[_0x3593ae(0x92c)];const _0x3c6e9c=_0x4f2f6a[_0x3593ae(0x59b)]||[];_0x3b7703[_0x3593ae(0x8c0)][_0x3593ae(0x6e2)]('hidden',_0x3c6e9c[_0x3593ae(0x9f1)]===0x0),_0x3b7703[_0x3593ae(0xcb7)]=()=>handleClearAllLinksForTopic(_0x183138);if(_0x3c6e9c['length']===0x0)_0x27ee8e['innerHTML']=_0x3593ae(0xb6b);else{const _0x3e1e10=allQuizzesGlobal['filter'](_0x3d4ead=>_0x3c6e9c[_0x3593ae(0x668)](_0x3d4ead['id']));_0x27ee8e[_0x3593ae(0x553)]=_0x3e1e10[_0x3593ae(0xb43)](_0xa175ef=>_0x3593ae(0xca7)+_0xa175ef['id']+_0x3593ae(0x6b0)+_0xa175ef['topic']+_0x3593ae(0x59f)+_0xa175ef['id']+'\x20|\x20'+_0xa175ef[_0x3593ae(0x69e)][_0x3593ae(0x9f1)]+_0x3593ae(0x2b8)+_0xa175ef['id']+_0x3593ae(0x94a)+_0xa175ef['id']+_0x3593ae(0x40d)+_0xa175ef['id']+_0x3593ae(0x70a)+_0xa175ef['id']+_0x3593ae(0x64f)+_0xa175ef['id']+_0x3593ae(0x169)+_0xa175ef['id']+_0x3593ae(0x560)+_0x183138+_0x3593ae(0x5fd)+_0xa175ef['id']+_0x3593ae(0xcb5))['join']('');}document[_0x3593ae(0xbd5)](_0x3593ae(0x11f))[_0x3593ae(0xcb7)]=()=>{openQuizSelectorForBlueprint(_0x183138);},document[_0x3593ae(0xbd5)]('close-topic-bank-btn')['onclick']=()=>_0x26f228['classList'][_0x3593ae(0x9ff)](_0x3593ae(0x2ee)),_0x26f228[_0x3593ae(0x8c0)]['remove']('hidden');}catch(_0x516fac){showMessage(_0x516fac[_0x3593ae(0x700)]);}}async function openQuizSelectorForBlueprint(_0x4bc371){const _0x5e33f=_0xdd45b5,_0x21e567=document[_0x5e33f(0xbd5)](_0x5e33f(0x458)),_0x5053f1=document['getElementById'](_0x5e33f(0x10b));_0x5053f1[_0x5e33f(0x8c0)][_0x5e33f(0x9ff)]('hidden'),document[_0x5e33f(0xbd5)](_0x5e33f(0x905))?.[_0x5e33f(0x3b9)]();const _0x1ce760=document[_0x5e33f(0x26f)]('button');_0x1ce760['id']=_0x5e33f(0x905),_0x1ce760[_0x5e33f(0xce)]=_0x5e33f(0x26b),_0x1ce760[_0x5e33f(0x5e0)]=_0x5e33f(0x56f),_0x1ce760[_0x5e33f(0x256)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x21e567[_0x5e33f(0x8c0)]['remove'](_0x5e33f(0x2ee)),renderQuizBankListForMultiSelect(''),document[_0x5e33f(0xbd5)]('bulk-quiz-settings-btn')[_0x5e33f(0x125)][_0x5e33f(0xc0b)]='none',_0x21e567[_0x5e33f(0x5db)](_0x5e33f(0xa16))[_0x5e33f(0x78c)](_0x1ce760);const _0x4c32d0=(_0x1c71fd=![])=>{const _0x2bc189=_0x5e33f;_0x21e567[_0x2bc189(0x8c0)][_0x2bc189(0x9ff)]('hidden'),document[_0x2bc189(0xbd5)](_0x2bc189(0x5be))[_0x2bc189(0x125)][_0x2bc189(0xc0b)]=_0x2bc189(0x3e9),_0x1ce760[_0x2bc189(0x3b9)](),_0x1c71fd&&openTopicQuizBank(_0x4bc371);};_0x1ce760[_0x5e33f(0xcb7)]=async()=>{const _0x297521=_0x5e33f,_0x44e2df=Array['from'](document[_0x297521(0x197)](_0x297521(0x3c5)))[_0x297521(0xb43)](_0x51d917=>_0x51d917[_0x297521(0xc1a)]);if(_0x44e2df[_0x297521(0x9f1)]===0x0)return;try{const _0x3b5b72=doc(db,_0x297521(0xb4)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x22ba7d=(await getDoc(_0x3b5b72))[_0x297521(0xa1d)](),_0x5ee893=_0x22ba7d['topics'][_0x4bc371]['linkedQuizIds']||[],_0x1a6fc7=[...new Set([..._0x5ee893,..._0x44e2df])];await updateDoc(_0x3b5b72,{[_0x297521(0x95d)+_0x4bc371+_0x297521(0x997)]:_0x1a6fc7}),showMessage(_0x297521(0x5f5)+_0x44e2df[_0x297521(0x9f1)]+_0x297521(0x297)),_0x4c32d0(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x9e9424){console[_0x297521(0x2c7)](_0x297521(0x1e6),_0x9e9424);}},document['getElementById'](_0x5e33f(0x60a))['onclick']=()=>_0x4c32d0(!![]);}catch(_0x3873f5){showMessage(_0x3873f5[_0x5e33f(0x700)]),_0x5053f1[_0x5e33f(0x8c0)]['remove'](_0x5e33f(0x2ee));}}function handleClearLinkedQuiz(_0x1b4700){const _0x2c1a93=_0xdd45b5;showConfirmation(_0x2c1a93(0xbd0),async()=>{const _0x2586de=_0x2c1a93;try{const _0x477cd6=doc(db,_0x2586de(0xb4)+appId+_0x2586de(0x3de),currentBlueprintProjectId);await updateDoc(_0x477cd6,{[_0x2586de(0x95d)+_0x1b4700+'.linkedQuizId']:deleteField()}),showMessage(_0x2586de(0x389)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1417ea){console[_0x2586de(0x2c7)](_0x2586de(0xb76),_0x1417ea),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x51a449=_0xdd45b5,_0x13937d=prompt(_0x51a449(0xbbc));if(!_0x13937d||_0x13937d[_0x51a449(0x7ae)]()==='')return;const _0x371c2f=prompt(_0x51a449(0x7cf),_0x51a449(0x522)),_0x3001f0=prompt(_0x51a449(0xca9),_0x51a449(0xc92)),_0x217a87='topic_'+Date[_0x51a449(0x435)]()+Math[_0x51a449(0xc56)]()['toString'](0x24)[_0x51a449(0x762)](0x2,0x9),_0xdad80f={'sara':_0x371c2f,'mainTopic':_0x3001f0,'subTopic':_0x13937d['trim'](),'status':'not_generated','lessonContent':null};try{const _0x55f803=doc(db,_0x51a449(0xb4)+appId+_0x51a449(0x3de),currentBlueprintProjectId);await updateDoc(_0x55f803,{[_0x51a449(0x95d)+_0x217a87]:_0xdad80f}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x290642){console[_0x51a449(0x2c7)](_0x51a449(0x6dc),_0x290642),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x3d0fc1){const _0x3f647c=_0xdd45b5,_0x9929f0=document['querySelector'](_0x3f647c(0x440)+_0x3d0fc1+'\x22]'),_0x2cfab9=_0x9929f0['querySelector'](_0x3f647c(0x354)),_0x47b7eb=_0x2cfab9[_0x3f647c(0x5e0)],_0x5ac6e7=prompt(_0x3f647c(0x882),_0x47b7eb);if(!_0x5ac6e7||_0x5ac6e7[_0x3f647c(0x7ae)]()===''||_0x5ac6e7[_0x3f647c(0x7ae)]()===_0x47b7eb)return;try{const _0x5cf42a=doc(db,_0x3f647c(0xb4)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5cf42a,{['topics.'+_0x3d0fc1+_0x3f647c(0x880)]:_0x5ac6e7['trim']()}),_0x2cfab9[_0x3f647c(0x5e0)]=_0x5ac6e7[_0x3f647c(0x7ae)](),showMessage(_0x3f647c(0xb33));}catch(_0xf947a7){console[_0x3f647c(0x2c7)]('Error\x20editing\x20topic:',_0xf947a7),showMessage(_0x3f647c(0x3f7));}}async function deleteTopicFromProject(_0x2662a5){const _0x455502=_0xdd45b5;if(!confirm(_0x455502(0x49e)))return;try{const _0x375d38=doc(db,_0x455502(0xb4)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x375d38,{[_0x455502(0x95d)+_0x2662a5]:deleteField()}),document[_0x455502(0x5db)](_0x455502(0x440)+_0x2662a5+'\x22]')[_0x455502(0x3b9)](),showMessage(_0x455502(0x904));}catch(_0x3d4294){console[_0x455502(0x2c7)](_0x455502(0x7ac),_0x3d4294),showMessage(_0x455502(0x918));}}async function generateAndSaveLessonForBlueprint(_0x244828,_0x2022e4,_0x2e5e0f){handleGenerateAndShowLesson(_0x2022e4,_0x2e5e0f);const _0x34c093=setInterval(async()=>{const _0x12286e=_0x39cc,_0x2391ea=document[_0x12286e(0xbd5)](_0x12286e(0x95b)),_0x3d8856=_0x2391ea['classList'][_0x12286e(0x796)]('hidden');if(_0x3d8856){clearInterval(_0x34c093);if(currentApplicationData&&currentApplicationData[_0x12286e(0x9f1)]>0x0){const _0x4821ea={'point':document['getElementById'](_0x12286e(0xb01))[_0x12286e(0x553)],'memory':document[_0x12286e(0xbd5)](_0x12286e(0x57d))[_0x12286e(0x553)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x12286e(0xbd5)](_0x12286e(0x615))[_0x12286e(0x553)]};try{const _0x239346=doc(db,_0x12286e(0xb4)+appId+_0x12286e(0x3de),currentBlueprintProjectId),_0x32098c=doc(db,'artifacts/'+appId+_0x12286e(0x410)+currentBlueprintProjectId+_0x12286e(0x1e8),_0x244828),_0x5b3767=writeBatch(db);_0x5b3767[_0x12286e(0x4bb)](_0x32098c,{'content':_0x4821ea}),_0x5b3767['update'](_0x239346,{[_0x12286e(0x95d)+_0x244828+'.status']:_0x12286e(0x9d6)}),await _0x5b3767[_0x12286e(0xb39)](),console['log']('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x244828+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x42549a){console[_0x12286e(0x2c7)]('Error\x20saving\x20lesson\x20to\x20project:',_0x42549a);}}}},0x3e8);}function displayHalfMarkResult(_0x40295b,_0x40896a){const _0x42fc9d=_0xdd45b5,_0x36ef6f=_0x40295b>=_0x40896a/0x2,_0x5916fa=_0x36ef6f?'bg-green-100':_0x42fc9d(0x8b9),_0x52afc5=_0x36ef6f?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x42fc9d(0x413),_0x308bc6=_0x36ef6f?_0x42fc9d(0x934):'text-red-800',_0x29949c=_0x36ef6f?'ทำคะแนนได้เกินครึ่ง':'คะแนนยังไม่ถึงครึ่ง',_0x284661=_0x36ef6f?_0x42fc9d(0xa79):_0x42fc9d(0x60b);let _0x181b95=_0x42fc9d(0x8d0)+_0x5916fa+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52afc5+_0x42fc9d(0x816)+_0x308bc6+_0x42fc9d(0x288)+_0x29949c+_0x42fc9d(0x4ed)+_0x284661+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x42fc9d(0x553)]=_0x181b95,studentResultArea[_0x42fc9d(0x8c0)][_0x42fc9d(0x3b9)](_0x42fc9d(0x2ee)),studentQuizArea[_0x42fc9d(0x8c0)][_0x42fc9d(0x9ff)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x36ef6f});}function displayPerfectScoreResult(_0x2dafc8,_0xfced38){const _0x5a4ffb=_0xdd45b5,_0x1dadf6=_0x2dafc8===_0xfced38,_0x473d16=_0x1dadf6?'bg-yellow-100':_0x5a4ffb(0x9bc),_0x4af8c7=_0x1dadf6?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x5a4ffb(0xa08),_0x2d6550=_0x1dadf6?'text-yellow-800':_0x5a4ffb(0xa40),_0x449929=_0x1dadf6?_0x5a4ffb(0x792):_0x5a4ffb(0x9bd),_0x4c56b9=_0x1dadf6?'สุดยอด!\x20ตอบถูกทุกข้อ':'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x5d4383='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x473d16+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4af8c7+_0x5a4ffb(0x816)+_0x2d6550+'\x20mb-2\x22>'+_0x449929+_0x5a4ffb(0x4ed)+_0x4c56b9+_0x5a4ffb(0x6fc);studentResultArea['innerHTML']=_0x5d4383,studentResultArea[_0x5a4ffb(0x8c0)]['remove'](_0x5a4ffb(0x2ee)),studentQuizArea['classList']['add'](_0x5a4ffb(0x2ee)),setupResultScreenBackButton({'showRankings':![],'score':_0x2dafc8,'totalQuestions':_0xfced38});}function renderIndividualComparisonTable(_0x3df416,_0x2fec9f){const _0x457df0=_0xdd45b5;_0x3df416['sort']((_0x51acf9,_0x46c114)=>(_0x46c114[_0x457df0(0x403)]??-Infinity)-(_0x51acf9[_0x457df0(0x403)]??-Infinity));let _0x3f356e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x3df416['length']===0x0?_0x3f356e+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x3df416[_0x457df0(0x947)]((_0x1ff049,_0x5af228)=>{const _0x1563de=_0x457df0;let _0x532034='-',_0x42934b='';if(_0x1ff049[_0x1563de(0x7b5)]!==null){const _0x4e0460=_0x1ff049['gain']>0x0?'text-green-600':_0x1ff049[_0x1563de(0x7b5)]<0x0?_0x1563de(0x6fe):_0x1563de(0x7eb),_0x276f39=_0x1ff049[_0x1563de(0x7b5)]>0x0?'+':'';_0x532034=_0x1563de(0x718)+_0x4e0460+'\x22>'+_0x276f39+_0x1ff049['gain']+_0x1563de(0x4ef);if(_0x1ff049['gain']>0x0)_0x42934b=_0x1563de(0x1dd);else _0x1ff049[_0x1563de(0x7b5)]<0x0?_0x42934b='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x42934b=_0x1563de(0xb84);}let _0x30502c='-';if(_0x1ff049[_0x1563de(0x403)]!==null){const _0x23a0ce=_0x1ff049[_0x1563de(0x403)]>0x0?_0x1563de(0x8ea):_0x1ff049[_0x1563de(0x403)]<0x0?_0x1563de(0x6fe):_0x1563de(0x7eb),_0xf9816e=_0x1ff049[_0x1563de(0x403)]>0x0?'+':'';_0x30502c='<span\x20class=\x22font-bold\x20'+_0x23a0ce+'\x22>'+_0xf9816e+_0x1ff049[_0x1563de(0x403)][_0x1563de(0x41f)](0x2)+_0x1563de(0x4ef);}_0x3f356e+=_0x1563de(0x4dc)+(_0x5af228+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x1ff049[_0x1563de(0x8aa)]+_0x1563de(0xa0d)+(_0x1ff049[_0x1563de(0x85a)]??'-')+_0x1563de(0x362)+(_0x1ff049[_0x1563de(0xad1)]??'-')+_0x1563de(0xa0d)+_0x532034+_0x1563de(0x249)+_0x42934b+_0x1563de(0xeb)+(_0x1ff049[_0x1563de(0xb3b)]?.[_0x1563de(0x41f)](0x2)??'-')+_0x1563de(0x1e1)+(_0x1ff049[_0x1563de(0x593)]?.['toFixed'](0x2)??'-')+_0x1563de(0xa0d)+_0x30502c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3f356e+=_0x457df0(0x552),_0x2fec9f['innerHTML']=_0x3f356e;}function handleRenameQuiz(_0x450ec0,_0x27430d){const _0x59f4ee=_0xdd45b5;actionTargetId=_0x450ec0,document[_0x59f4ee(0xbd5)](_0x59f4ee(0x95a))['value']=_0x27430d,renameQuizModal[_0x59f4ee(0x8c0)]['remove']('hidden');}function setupComparisonModalTabs(){const _0x428990=_0xdd45b5,_0x5ceee7=document['getElementById']('comparison-overall-tab'),_0x51d95a=document[_0x428990(0xbd5)](_0x428990(0xd8)),_0x275a50=document[_0x428990(0xbd5)]('comparison-overall-content'),_0x23d4f3=document[_0x428990(0xbd5)](_0x428990(0x3ea));_0x5ceee7[_0x428990(0x915)](_0x428990(0x98f),()=>{const _0x1f3e07=_0x428990;_0x5ceee7['classList'][_0x1f3e07(0x9ff)](_0x1f3e07(0x9b4)),_0x51d95a[_0x1f3e07(0x8c0)][_0x1f3e07(0x3b9)](_0x1f3e07(0x9b4)),_0x275a50['classList'][_0x1f3e07(0x3b9)](_0x1f3e07(0x2ee)),_0x23d4f3[_0x1f3e07(0x8c0)][_0x1f3e07(0x9ff)](_0x1f3e07(0x2ee));}),_0x51d95a[_0x428990(0x915)](_0x428990(0x98f),()=>{const _0xd14cf=_0x428990;_0x51d95a[_0xd14cf(0x8c0)][_0xd14cf(0x9ff)]('active'),_0x5ceee7[_0xd14cf(0x8c0)][_0xd14cf(0x3b9)](_0xd14cf(0x9b4)),_0x23d4f3[_0xd14cf(0x8c0)][_0xd14cf(0x3b9)](_0xd14cf(0x2ee)),_0x275a50[_0xd14cf(0x8c0)][_0xd14cf(0x9ff)](_0xd14cf(0x2ee));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0xafa4aa=_0xdd45b5;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4e1945=doc(db,_0xafa4aa(0xb4)+appId+_0xafa4aa(0x179),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4e1945,_0x60d167=>{const _0x58247b=_0xafa4aa;if(!_0x60d167[_0x58247b(0x935)]()){showMessage(_0x58247b(0x756));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x58247b(0xba1)?showView(_0x58247b(0xa97)):showView('student');return;}const _0x9256b4=_0x60d167['data']();_0x9256b4['shuffledQuiz']&&(currentQuizData=_0x9256b4[_0x58247b(0x109)]);!currentQuizData&&_0x9256b4[_0x58247b(0x559)]&&((async()=>{const _0x4f1dec=_0x58247b;try{const _0x514eb2=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x9256b4[_0x4f1dec(0x559)]),_0x4a3a92=await getDoc(_0x514eb2);_0x4a3a92[_0x4f1dec(0x935)]()&&(currentQuizData={'id':_0x4a3a92['id'],..._0x4a3a92['data']()});}catch(_0x4e08e3){console[_0x4f1dec(0x2c7)](_0x4f1dec(0x606),_0x4e08e3);}})());switch(_0x9256b4[_0x58247b(0x56c)]){case _0x58247b(0xb23):if(currentMode===_0x58247b(0xba1)){const _0x43fd7e=_0x9256b4['players']?Object['entries'](_0x9256b4[_0x58247b(0xa96)]):[],_0x14c479=_0x43fd7e[_0x58247b(0x26c)](([_0x4a1b20,_0x396ea7])=>_0x396ea7[_0x58247b(0x56c)]===_0x58247b(0x9b4)),_0x4dc253=document[_0x58247b(0xbd5)](_0x58247b(0x7c1));if(_0x4dc253)_0x4dc253[_0x58247b(0x5e0)]=_0x14c479[_0x58247b(0x9f1)];const _0xea68bb=document[_0x58247b(0xbd5)](_0x58247b(0x7d7));_0xea68bb&&(_0xea68bb[_0x58247b(0x553)]=_0x14c479[_0x58247b(0xb43)](([_0x499b74,_0x51883c])=>_0x58247b(0x783)+_0x499b74+_0x58247b(0x6eb)+_0x499b74+_0x58247b(0x8db))['join'](''));const _0x37219d=document['getElementById']('start-game-btn');_0x37219d&&(_0x37219d['disabled']=_0x14c479[_0x58247b(0x9f1)]===0x0);}else showView('live-game'),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x58247b(0x861);break;case _0x58247b(0x8fd):const _0x59ea2e=_0x9256b4[_0x58247b(0x180)];if(currentQuizData&&currentQuizData['questions'][_0x59ea2e]){const _0x41def4=currentQuizData['questions'][_0x59ea2e],_0x25a7cc=_0x9256b4['questionStatus']||'answering';switch(_0x25a7cc){case _0x58247b(0x86c):currentMode===_0x58247b(0xba1)?showAdminSummaryView(_0x9256b4,_0x41def4):showPlayerSummaryView(_0x9256b4,currentStudentName);break;case _0x58247b(0x79c):currentMode==='admin'&&showTop5LeaderboardView(_0x9256b4);break;case _0x58247b(0x4b2):default:if(currentMode===_0x58247b(0xba1)){const _0x54c07a=writeBatch(db);let _0x180bcf=![];Object[_0x58247b(0x1a6)](_0x9256b4[_0x58247b(0xa96)])[_0x58247b(0x947)](([_0x21f3a0,_0x47ce3f])=>{const _0xc55192=_0x58247b;if(_0x47ce3f[_0xc55192(0x56c)]===_0xc55192(0x9b4)&&_0x47ce3f['submittedAt']&&!_0x47ce3f[_0xc55192(0x5e7)]){_0x180bcf=!![];const _0x317da8=_0x47ce3f[_0xc55192(0x58a)][_0xc55192(0x145)]()-_0x9256b4[_0xc55192(0x5a6)][_0xc55192(0x145)]();let _0x46fc81=0x0;if(_0x47ce3f['lastAnswerCorrect']){const _0x5d9f1e=0x3e8,_0x3760cf=0x1f4,_0x73b3e6=0x4e20;let _0x413b97=_0x317da8/_0x73b3e6;if(_0x413b97>0x1)_0x413b97=0x1;const _0x1a95b3=Math[_0xc55192(0xc47)](_0x413b97*_0x3760cf);_0x46fc81=_0x5d9f1e-_0x1a95b3;}const _0x2224a2=doc(db,_0xc55192(0xb4)+appId+'/public/data/liveGames',currentLiveGameId);_0x54c07a['update'](_0x2224a2,{[_0xc55192(0x115)+_0x21f3a0+'.score']:increment(_0x46fc81),['players.'+_0x21f3a0+_0xc55192(0x4b6)]:_0x46fc81,[_0xc55192(0x115)+_0x21f3a0+_0xc55192(0x37a)]:!![]});}});_0x180bcf&&_0x54c07a[_0x58247b(0xb39)]()['catch'](_0x52b076=>console[_0x58247b(0x2c7)](_0x58247b(0xaa3),_0x52b076));lastRenderedAdminQuestionIndex!==_0x59ea2e&&(showAdminLiveQuestionView(_0x41def4,_0x59ea2e,currentQuizData[_0x58247b(0x69e)][_0x58247b(0x9f1)]),lastRenderedAdminQuestionIndex=_0x59ea2e);const _0x4b033a=_0x9256b4['players']||{},_0x5a76de=Object[_0x58247b(0x3bb)](_0x4b033a)[_0x58247b(0x26c)](_0x56f477=>_0x56f477[_0x58247b(0x56c)]===_0x58247b(0x9b4)),_0x10becb=_0x5a76de[_0x58247b(0x9f1)],_0x32d8d7=_0x5a76de['filter'](_0x5a0216=>_0x5a0216[_0x58247b(0xc7)]===!![])['length'],_0x29e162=document[_0x58247b(0xbd5)](_0x58247b(0x9c6));if(_0x29e162)_0x29e162[_0x58247b(0x5e0)]=_0x32d8d7+'/'+_0x10becb;const _0x3544b2=document[_0x58247b(0xbd5)](_0x58247b(0x162));if(_0x3544b2){let _0x22e360=Object[_0x58247b(0x1a6)](_0x4b033a)['filter'](([_0x1db012,_0x499f9b])=>_0x499f9b[_0x58247b(0x56c)]===_0x58247b(0x9b4))['map'](([_0x16dcbf,_0x92cee9])=>{const _0x32b655=_0x58247b,_0x13a800=_0x92cee9[_0x32b655(0xc7)]===!![],_0x5b544b=_0x13a800?_0x32b655(0x233):_0x32b655(0xbb8),_0x3bdb02=_0x13a800?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x32b655(0x41d);return _0x32b655(0x879)+_0x5b544b+_0x32b655(0x3c0)+_0x3bdb02+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x16dcbf+_0x32b655(0x867)+_0x16dcbf+_0x32b655(0x647);})[_0x58247b(0xb92)]('');_0x3544b2[_0x58247b(0x553)]=_0x22e360||_0x58247b(0x96c);}_0x10becb>0x0&&_0x32d8d7===_0x10becb&&revealAnswerForAdmin(_0x59ea2e,currentQuizData[_0x58247b(0x69e)][_0x58247b(0x9f1)]);}else{const _0x507b4e=_0x9256b4[_0x58247b(0xa96)][currentStudentName];_0x507b4e&&!_0x507b4e['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x41def4,_0x59ea2e,currentQuizData['questions'][_0x58247b(0x9f1)]);}break;}}break;case _0x58247b(0xa9e):showPodiumView(_0x9256b4[_0x58247b(0xa96)],_0x58247b(0x9be));break;}});}async function openGlobalActivityModal(){const _0x501730=_0xdd45b5;if(allQuizzesGlobal[_0x501730(0x9f1)]===0x0){const _0x4f4a3e=await getDocs(collection(db,_0x501730(0xb4)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4f4a3e['docs'][_0x501730(0xb43)](_0x83804=>({'id':_0x83804['id'],..._0x83804[_0x501730(0xa1d)]()}));}renderGlobalActivityList(''),document[_0x501730(0xbd5)](_0x501730(0x8f6))[_0x501730(0x8c0)][_0x501730(0x3b9)](_0x501730(0x2ee));}function renderGlobalActivityList(_0x658783=''){const _0x24f639=_0xdd45b5,_0x541543=document[_0x24f639(0xbd5)]('global-activity-quiz-list'),_0x58b8d6=_0x658783['toLowerCase']()[_0x24f639(0x7ae)](),_0x56d129=allQuizzesGlobal[_0x24f639(0xb43)](_0x3a737e=>({..._0x3a737e,'projectName':allProjects[_0x24f639(0x922)](_0x1a3ebe=>_0x1a3ebe['id']===_0x3a737e[_0x24f639(0xa60)])?.[_0x24f639(0xad3)]||'N/A'}))['filter'](_0x25528f=>(_0x25528f[_0x24f639(0x6bd)]||'')[_0x24f639(0x1a5)]()[_0x24f639(0x668)](_0x58b8d6)||(_0x25528f['projectName']||'')['toLowerCase']()[_0x24f639(0x668)](_0x58b8d6));document[_0x24f639(0xbd5)](_0x24f639(0x908))['textContent']='('+_0x56d129[_0x24f639(0x9f1)]+_0x24f639(0x2d4),_0x541543['innerHTML']=_0x56d129[_0x24f639(0x9f1)]?_0x56d129[_0x24f639(0xb43)](_0x89744e=>_0x24f639(0x872)+(_0x89744e[_0x24f639(0x6bd)]||'(ไม่มีชื่อ)')+_0x24f639(0xc0f)+(_0x89744e['questions']?.['length']||0x0)+_0x24f639(0x2d9)+_0x89744e['projectName']+_0x24f639(0xade)+_0x89744e['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x89744e['id']+_0x24f639(0x84e)+_0x89744e['id']+_0x24f639(0x5b3)+_0x89744e['id']+_0x24f639(0xa84))['join'](''):_0x24f639(0x121);}async function handleKickPlayer(_0x85e94){const _0x324bd7=_0xdd45b5;if(!currentLiveGameId||!_0x85e94)return;const _0x24143c=doc(db,_0x324bd7(0xb4)+appId+_0x324bd7(0x179),currentLiveGameId),_0x304be5={};_0x304be5['players.'+_0x85e94+'.status']='inactive';try{await updateDoc(_0x24143c,_0x304be5);}catch(_0x4ad36d){console['error'](_0x324bd7(0xcb0)+_0x85e94+':',_0x4ad36d),showMessage(_0x324bd7(0x887));}}async function authenticateUser(){const _0x1b8bb5=_0xdd45b5;try{typeof __initial_auth_token!==_0x1b8bb5(0x896)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5ba321){console[_0x1b8bb5(0x2c7)](_0x1b8bb5(0x8b4),_0x5ba321),showMessage(_0x1b8bb5(0x45a));}}function showView(_0xe0a514){const _0x496624=_0xdd45b5;adminView[_0x496624(0x8c0)]['add']('hidden'),studentView[_0x496624(0x8c0)]['add'](_0x496624(0x2ee)),projectDashboardView[_0x496624(0x8c0)][_0x496624(0x9ff)](_0x496624(0x2ee)),projectDetailView[_0x496624(0x8c0)][_0x496624(0x9ff)](_0x496624(0x2ee)),quizResultsView['classList'][_0x496624(0x9ff)]('hidden'),liveGameView[_0x496624(0x8c0)]['add'](_0x496624(0x2ee)),document['getElementById'](_0x496624(0x191))[_0x496624(0x8c0)][_0x496624(0x9ff)](_0x496624(0x2ee)),studentInitialView[_0x496624(0x8c0)]['add'](_0x496624(0x2ee)),studentJoinGameView[_0x496624(0x8c0)]['add'](_0x496624(0x2ee)),studentNameSelectionView['classList'][_0x496624(0x9ff)](_0x496624(0x2ee)),studentQuizArea[_0x496624(0x8c0)][_0x496624(0x9ff)](_0x496624(0x2ee)),studentResultArea[_0x496624(0x8c0)]['add'](_0x496624(0x2ee)),studentReadingArea[_0x496624(0x8c0)][_0x496624(0x9ff)](_0x496624(0x2ee));const _0x3dd54a=document[_0x496624(0xbd5)](_0x496624(0x3aa)),_0x8114aa=document[_0x496624(0xbd5)]('student-progress-view');if(_0x3dd54a)_0x3dd54a[_0x496624(0x8c0)][_0x496624(0x9ff)](_0x496624(0x2ee));if(_0x8114aa)_0x8114aa[_0x496624(0x8c0)][_0x496624(0x9ff)](_0x496624(0x2ee));switch(_0xe0a514){case _0x496624(0x76b):adminView[_0x496624(0x8c0)][_0x496624(0x3b9)](_0x496624(0x2ee)),projectDashboardView[_0x496624(0x8c0)][_0x496624(0x3b9)](_0x496624(0x2ee));break;case _0x496624(0xa97):adminView[_0x496624(0x8c0)][_0x496624(0x3b9)](_0x496624(0x2ee)),projectDetailView[_0x496624(0x8c0)]['remove']('hidden');break;case _0x496624(0xa98):adminView['classList'][_0x496624(0x3b9)]('hidden'),quizResultsView[_0x496624(0x8c0)]['remove']('hidden');break;case'student':studentView['classList'][_0x496624(0x3b9)](_0x496624(0x2ee)),studentInitialView[_0x496624(0x8c0)][_0x496624(0x3b9)]('hidden');break;case _0x496624(0x448):liveGameView[_0x496624(0x8c0)][_0x496624(0x3b9)]('hidden');break;case _0x496624(0x2a1):studentView['classList'][_0x496624(0x3b9)](_0x496624(0x2ee));if(_0x3dd54a)_0x3dd54a[_0x496624(0x8c0)]['remove'](_0x496624(0x2ee));break;case'student-progress':studentView[_0x496624(0x8c0)][_0x496624(0x3b9)](_0x496624(0x2ee));if(_0x8114aa)_0x8114aa[_0x496624(0x8c0)][_0x496624(0x3b9)]('hidden');break;default:studentView['classList'][_0x496624(0x3b9)](_0x496624(0x2ee)),studentInitialView[_0x496624(0x8c0)][_0x496624(0x3b9)](_0x496624(0x2ee));break;}}function showJoinGameView(){const _0x41837d=_0xdd45b5;studentInitialView['classList']['add'](_0x41837d(0x2ee)),studentJoinGameView[_0x41837d(0x8c0)]['remove'](_0x41837d(0x2ee));}async function handleSaveVisibilitySettings(){const _0xff4091=_0xdd45b5;if(!currentProjectId)return;const _0xa215f7=doc(db,'artifacts/'+appId+_0xff4091(0x971),currentProjectId);try{await updateDoc(_0xa215f7,{'settings.showInStudentDashboard':document[_0xff4091(0xbd5)](_0xff4091(0x68f))['checked'],'settings.isPasscodeEnabled':document['getElementById'](_0xff4091(0x956))[_0xff4091(0x674)],'settings.passcode':document[_0xff4091(0xbd5)]('project-passcode-input')[_0xff4091(0xc1a)][_0xff4091(0x7ae)]()}),showMessage(_0xff4091(0xc98));}catch(_0x11667a){console[_0xff4091(0x2c7)]('Error\x20saving\x20visibility\x20settings:',_0x11667a),showMessage(_0xff4091(0xaa9));}}function setupEventListeners(){const _0x5396e1=_0xdd45b5,_0x4ca763=document[_0x5396e1(0xbd5)]('cancel-confidence-btn'),_0x5a0161=document[_0x5396e1(0xbd5)](_0x5396e1(0x4b5));_0x4ca763&&_0x5a0161&&_0x4ca763[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x5db3a0=_0x5396e1;_0x5a0161[_0x5db3a0(0x8c0)]['add'](_0x5db3a0(0x2ee)),_0x5a0161[_0x5db3a0(0x41c)][_0x5db3a0(0x808)]='';});const _0x18fab8=document[_0x5396e1(0xbd5)](_0x5396e1(0xa4b));_0x18fab8&&(_0x18fab8[_0x5396e1(0x915)](_0x5396e1(0x847),wakeUpScreen),_0x18fab8[_0x5396e1(0x915)](_0x5396e1(0x31e),wakeUpScreen));document['getElementById'](_0x5396e1(0x48d))[_0x5396e1(0x915)](_0x5396e1(0x98f),async()=>{const _0xaed016=_0x5396e1;if(!currentBlueprintProjectId)return;const _0x170fe4=document['getElementById'](_0xaed016(0xc5a))[_0xaed016(0xc1a)][_0xaed016(0x7ae)](),_0x3441fa=doc(db,_0xaed016(0xb4)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x3441fa,{'referenceFileUrl':_0x170fe4}),showMessage(_0xaed016(0x6db));}catch(_0xa8af84){console[_0xaed016(0x2c7)](_0xaed016(0xaaf),_0xa8af84),showMessage(_0xaed016(0xaa9));}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x301))['addEventListener']('click',handleAddParallelShortcutTab),document[_0x5396e1(0xbd5)](_0x5396e1(0x227))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x1ed68f=>{const _0x508576=_0x5396e1;_0x1ed68f[_0x508576(0x8a0)][_0x508576(0x18a)](_0x508576(0x20a))&&(activeParallelShortcutTabId=_0x508576(0x906),renderAdditionalParallelShortcutsModal(),document[_0x508576(0xbd5)](_0x508576(0x157))['classList'][_0x508576(0x3b9)]('hidden'));}),document[_0x5396e1(0xbd5)]('close-additional-parallel-shortcuts-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0xf9e771=_0x5396e1;document[_0xf9e771(0xbd5)](_0xf9e771(0x157))[_0xf9e771(0x8c0)]['add'](_0xf9e771(0x2ee));}),document['addEventListener'](_0x5396e1(0x98f),_0xa0f86c=>{const _0x247f89=_0x5396e1;!_0xa0f86c['target'][_0x247f89(0x18a)](_0x247f89(0x11e))&&document[_0x247f89(0x197)](_0x247f89(0x99f))['forEach'](_0x397ce9=>_0x397ce9[_0x247f89(0x8c0)][_0x247f89(0x9ff)](_0x247f89(0x2ee)));}),document[_0x5396e1(0xbd5)]('add-file-shortcut-tab-btn')[_0x5396e1(0x915)]('click',handleAddFileShortcutTab),document[_0x5396e1(0xbd5)](_0x5396e1(0x871))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x24a6ca=>{const _0x59f5f3=_0x5396e1;_0x24a6ca['target'][_0x59f5f3(0x18a)](_0x59f5f3(0x23c))&&(activeFileShortcutTabId=_0x59f5f3(0x906),renderAdditionalFileShortcutsModal(),document[_0x59f5f3(0xbd5)]('additional-file-shortcuts-modal')[_0x59f5f3(0x8c0)][_0x59f5f3(0x3b9)](_0x59f5f3(0x2ee)));}),document[_0x5396e1(0xbd5)]('close-additional-file-shortcuts-btn')[_0x5396e1(0x915)]('click',()=>{const _0x4c81e3=_0x5396e1;document[_0x4c81e3(0xbd5)]('additional-file-shortcuts-modal')[_0x4c81e3(0x8c0)][_0x4c81e3(0x9ff)](_0x4c81e3(0x2ee));}),document[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x2998bb=>{const _0x10e5a9=_0x5396e1;!_0x2998bb[_0x10e5a9(0x8a0)][_0x10e5a9(0x18a)](_0x10e5a9(0x9e5))&&document[_0x10e5a9(0x197)](_0x10e5a9(0x7ff))[_0x10e5a9(0x947)](_0x219cd7=>_0x219cd7[_0x10e5a9(0x8c0)]['add'](_0x10e5a9(0x2ee)));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x5d8))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleAddShortcutTab),document[_0x5396e1(0xbd5)](_0x5396e1(0x6f6))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x57719b=>{const _0x26fc0d=_0x5396e1,_0x1949ec=_0x57719b['target'][_0x26fc0d(0x18a)]('.parallel-shortcut-btn'),_0x3fb836=_0x57719b['target']['closest'](_0x26fc0d(0x3d7)),_0x3dc701=_0x57719b[_0x26fc0d(0x8a0)][_0x26fc0d(0x18a)](_0x26fc0d(0x852));if(_0x3fb836)openParallelTestShortcutEditor(_0x3fb836[_0x26fc0d(0x41c)]['id']);else{if(_0x3dc701){const _0x5e9035=_0x3dc701[_0x26fc0d(0x41c)]['id'];showConfirmation(_0x26fc0d(0xc16),async()=>{const _0x1675a1=_0x26fc0d,_0x44b80c=parallelTestShortcuts[_0x1675a1(0x26c)](_0x6fd2af=>_0x6fd2af['id']!==_0x5e9035),_0x5a9f59=doc(db,_0x1675a1(0x222),_0x1675a1(0xada));await setDoc(_0x5a9f59,{'shortcuts':_0x44b80c},{'merge':!![]});});}else _0x1949ec&&handleParallelTestShortcutClick(_0x1949ec[_0x26fc0d(0x41c)]['id']);}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x1de))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>openParallelTestShortcutEditor(null)),document[_0x5396e1(0xbd5)]('cancel-parallel-shortcut-edit-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x5a58a4=_0x5396e1;document[_0x5a58a4(0xbd5)](_0x5a58a4(0x68b))[_0x5a58a4(0x8c0)][_0x5a58a4(0x9ff)](_0x5a58a4(0x2ee));}),document['getElementById'](_0x5396e1(0x353))[_0x5396e1(0x915)](_0x5396e1(0x98f),saveParallelTestShortcutChanges),document['getElementById'](_0x5396e1(0x227))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x474556=>{const _0x56bad0=_0x5396e1;_0x474556['target'][_0x56bad0(0x18a)](_0x56bad0(0x20a))&&document['getElementById']('additional-parallel-shortcuts-modal')[_0x56bad0(0x8c0)][_0x56bad0(0x3b9)](_0x56bad0(0x2ee));}),document['getElementById'](_0x5396e1(0x1fc))['addEventListener'](_0x5396e1(0x98f),()=>{const _0x78ba85=_0x5396e1;document[_0x78ba85(0xbd5)]('additional-parallel-shortcuts-modal')[_0x78ba85(0x8c0)]['add'](_0x78ba85(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x311))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x3ec699=>{const _0x2fc863=_0x5396e1,_0x518b15=document['getElementById'](_0x2fc863(0x157)),_0x593788=_0x3ec699[_0x2fc863(0x8a0)]['closest']('.use-hidden-parallel-shortcut-btn'),_0x229b7d=_0x3ec699[_0x2fc863(0x8a0)]['closest'](_0x2fc863(0x5b5)),_0x3d6d3c=_0x3ec699['target'][_0x2fc863(0x18a)]('.delete-hidden-parallel-shortcut-btn');if(_0x593788)_0x518b15[_0x2fc863(0x8c0)][_0x2fc863(0x9ff)](_0x2fc863(0x2ee)),handleParallelTestShortcutClick(_0x593788[_0x2fc863(0x41c)]['id']);else{if(_0x229b7d)_0x518b15['classList']['add'](_0x2fc863(0x2ee)),openParallelTestShortcutEditor(_0x229b7d['dataset']['id']);else{if(_0x3d6d3c){const _0xfc2434=_0x3d6d3c[_0x2fc863(0x41c)]['id'];showConfirmation(_0x2fc863(0xc16),async()=>{const _0x3977ac=_0x2fc863,_0x2682c7=parallelTestShortcuts[_0x3977ac(0x26c)](_0x3ff1cd=>_0x3ff1cd['id']!==_0xfc2434),_0x7f5f68=doc(db,_0x3977ac(0x222),_0x3977ac(0xada));await setDoc(_0x7f5f68,{'shortcuts':_0x2682c7},{'merge':!![]});});}}}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x671))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x3c2b8a=>{const _0x21812c=_0x5396e1,_0x28a34d=_0x3c2b8a[_0x21812c(0x8a0)][_0x21812c(0x18a)](_0x21812c(0x22c)),_0x41ede2=_0x3c2b8a[_0x21812c(0x8a0)][_0x21812c(0x18a)](_0x21812c(0xa1b)),_0x6ab5da=_0x3c2b8a[_0x21812c(0x8a0)][_0x21812c(0x18a)](_0x21812c(0x464));if(_0x41ede2)openFileShortcutEditor(_0x41ede2[_0x21812c(0x41c)]['id']);else{if(_0x6ab5da){const _0x3d3fd8=_0x6ab5da['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xfac6fe=_0x21812c,_0x19d9cf=fileShortcuts[_0xfac6fe(0x26c)](_0xf4e636=>_0xf4e636['id']!==_0x3d3fd8),_0x5ca661=doc(db,_0xfac6fe(0x222),_0xfac6fe(0x9cb));await setDoc(_0x5ca661,{'shortcuts':_0x19d9cf},{'merge':!![]});});}else _0x28a34d&&handleFileShortcutClick(_0x28a34d[_0x21812c(0x41c)]['id']);}}),document[_0x5396e1(0xbd5)](_0x5396e1(0xbf7))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>openFileShortcutEditor(null)),document[_0x5396e1(0xbd5)]('cancel-file-shortcut-edit-btn')['addEventListener'](_0x5396e1(0x98f),()=>{const _0x2181c5=_0x5396e1;document[_0x2181c5(0xbd5)](_0x2181c5(0x789))[_0x2181c5(0x8c0)][_0x2181c5(0x9ff)]('hidden');}),document[_0x5396e1(0xbd5)](_0x5396e1(0x50b))['addEventListener']('click',saveFileShortcutChanges),document[_0x5396e1(0xbd5)](_0x5396e1(0x871))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0xb09c04=>{const _0x7b2d5f=_0x5396e1;_0xb09c04['target'][_0x7b2d5f(0x18a)](_0x7b2d5f(0x23c))&&document[_0x7b2d5f(0xbd5)](_0x7b2d5f(0x541))[_0x7b2d5f(0x8c0)][_0x7b2d5f(0x3b9)](_0x7b2d5f(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0xa5e))['addEventListener'](_0x5396e1(0x98f),()=>{const _0x208848=_0x5396e1;document[_0x208848(0xbd5)](_0x208848(0x541))[_0x208848(0x8c0)][_0x208848(0x9ff)]('hidden');}),document[_0x5396e1(0xbd5)](_0x5396e1(0x515))['addEventListener'](_0x5396e1(0x98f),_0x291c30=>{const _0x4a8243=_0x5396e1,_0x4fe69a=document[_0x4a8243(0xbd5)](_0x4a8243(0x541)),_0x49ed0b=_0x291c30[_0x4a8243(0x8a0)][_0x4a8243(0x18a)](_0x4a8243(0x8d3)),_0x3c4fd9=_0x291c30['target'][_0x4a8243(0x18a)](_0x4a8243(0x15b)),_0x526ea9=_0x291c30[_0x4a8243(0x8a0)][_0x4a8243(0x18a)](_0x4a8243(0xa9));if(_0x49ed0b)_0x4fe69a['classList']['add'](_0x4a8243(0x2ee)),handleFileShortcutClick(_0x49ed0b['dataset']['id']);else{if(_0x3c4fd9)_0x4fe69a[_0x4a8243(0x8c0)][_0x4a8243(0x9ff)](_0x4a8243(0x2ee)),openFileShortcutEditor(_0x3c4fd9[_0x4a8243(0x41c)]['id']);else{if(_0x526ea9){const _0x2cefaa=_0x526ea9[_0x4a8243(0x41c)]['id'];showConfirmation(_0x4a8243(0xc16),async()=>{const _0x5b1251=_0x4a8243,_0x5d19ea=fileShortcuts[_0x5b1251(0x26c)](_0x2efcf0=>_0x2efcf0['id']!==_0x2cefaa),_0x5ceeae=doc(db,_0x5b1251(0x222),'fileShortcutsConfig');await setDoc(_0x5ceeae,{'shortcuts':_0x5d19ea},{'merge':!![]});});}}}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x970))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x434fc8=>{const _0x255d67=_0x5396e1;_0x434fc8[_0x255d67(0x8a0)][_0x255d67(0x18a)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document['getElementById'](_0x255d67(0xa7c))[_0x255d67(0x8c0)][_0x255d67(0x3b9)](_0x255d67(0x2ee)));}),document['getElementById'](_0x5396e1(0x478))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x6feb68=_0x5396e1;document[_0x6feb68(0xbd5)](_0x6feb68(0xa7c))[_0x6feb68(0x8c0)][_0x6feb68(0x9ff)](_0x6feb68(0x2ee));}),document['getElementById'](_0x5396e1(0x68a))[_0x5396e1(0x915)]('click',_0x1a8254=>{const _0x5e8e39=_0x5396e1,_0x4f03bb=_0x1a8254[_0x5e8e39(0x8a0)][_0x5e8e39(0x18a)](_0x5e8e39(0xa8d)),_0x1c754a=_0x1a8254[_0x5e8e39(0x8a0)][_0x5e8e39(0x18a)](_0x5e8e39(0xa83)),_0x558f89=_0x1a8254[_0x5e8e39(0x8a0)][_0x5e8e39(0x18a)](_0x5e8e39(0x71a)),_0x1173bd=document[_0x5e8e39(0xbd5)](_0x5e8e39(0xa7c));if(_0x4f03bb)_0x1173bd[_0x5e8e39(0x8c0)][_0x5e8e39(0x9ff)](_0x5e8e39(0x2ee)),handleShortcutClick(_0x4f03bb[_0x5e8e39(0x41c)]['id']);else{if(_0x1c754a)_0x1173bd[_0x5e8e39(0x8c0)]['add'](_0x5e8e39(0x2ee)),openShortcutEditor(_0x1c754a[_0x5e8e39(0x41c)]['id']);else{if(_0x558f89){const _0x522405=_0x558f89[_0x5e8e39(0x41c)]['id'],_0x5cddfa=blueprintShortcuts[_0x5e8e39(0x922)](_0x4a48d5=>_0x4a48d5['id']===_0x522405)?.['name'];showConfirmation(_0x5e8e39(0xb54)+_0x5cddfa+'\x22?',async()=>{const _0x445078=_0x5e8e39,_0xdce002=blueprintShortcuts[_0x445078(0x26c)](_0x26d570=>_0x26d570['id']!==_0x522405);try{const _0x5b6231=doc(db,_0x445078(0x222),'dashboardConfig');await setDoc(_0x5b6231,{'blueprintShortcuts':_0xdce002},{'merge':!![]});}catch(_0x3efdc8){console[_0x445078(0x2c7)](_0x445078(0x37e),_0x3efdc8);}});}}}}),document['getElementById'](_0x5396e1(0x7f8))['addEventListener'](_0x5396e1(0x98f),_0x355066=>{const _0x651560=_0x5396e1,_0x120238=_0x355066[_0x651560(0x8a0)][_0x651560(0x18a)]('.shortcut-btn'),_0x34d51c=_0x355066['target'][_0x651560(0x18a)](_0x651560(0x974)),_0x5eca60=_0x355066[_0x651560(0x8a0)][_0x651560(0x18a)](_0x651560(0x356));if(_0x34d51c)openShortcutEditor(_0x34d51c[_0x651560(0x41c)]['id']);else{if(_0x5eca60){const _0x53acb3=_0x5eca60[_0x651560(0x41c)]['id'],_0x297b90=blueprintShortcuts['find'](_0xe4591a=>_0xe4591a['id']===_0x53acb3)?.[_0x651560(0x8aa)];showConfirmation(_0x651560(0xb54)+_0x297b90+'\x22?',async()=>{const _0x5be420=_0x651560,_0x3464ab=blueprintShortcuts[_0x5be420(0x26c)](_0x1829c9=>_0x1829c9['id']!==_0x53acb3);try{const _0x3654a1=doc(db,_0x5be420(0x222),_0x5be420(0x34b));await setDoc(_0x3654a1,{'blueprintShortcuts':_0x3464ab},{'merge':!![]});}catch(_0x2d9e2f){console[_0x5be420(0x2c7)](_0x5be420(0x37e),_0x2d9e2f);}});}else _0x120238&&handleShortcutClick(_0x120238[_0x651560(0x41c)]['id']);}}),document[_0x5396e1(0xbd5)](_0x5396e1(0xac1))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>openShortcutEditor(null)),document[_0x5396e1(0xbd5)](_0x5396e1(0x186))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x30b300=_0x5396e1;document[_0x30b300(0xbd5)](_0x30b300(0x926))[_0x30b300(0x8c0)][_0x30b300(0x9ff)](_0x30b300(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x348))[_0x5396e1(0x915)](_0x5396e1(0x98f),saveShortcutChanges),document['getElementById'](_0x5396e1(0xab2))[_0x5396e1(0x915)](_0x5396e1(0x98f),async()=>{const _0x4f54d9=_0x5396e1,_0x526739=document['getElementById'](_0x4f54d9(0x602)),_0xa14103=document['getElementById'](_0x4f54d9(0xbeb));_0x526739[_0x4f54d9(0xbd2)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x526739[_0x4f54d9(0xbd2)][0x0],_0xa14103[_0x4f54d9(0xbd2)][0x0]||null):showMessage(_0x4f54d9(0xa3e));}),document['getElementById'](_0x5396e1(0x10b))['addEventListener'](_0x5396e1(0x98f),async _0x5e1efa=>{const _0x21bcf3=_0x5396e1,_0x459545=document['getElementById'](_0x21bcf3(0x10b)),_0x4d717b=_0x5e1efa[_0x21bcf3(0x8a0)][_0x21bcf3(0x18a)](_0x21bcf3(0x8ac)),_0x3d0e15=_0x5e1efa[_0x21bcf3(0x8a0)][_0x21bcf3(0x18a)](_0x21bcf3(0x81e)),_0x2d0dfa=_0x5e1efa[_0x21bcf3(0x8a0)][_0x21bcf3(0x18a)](_0x21bcf3(0xaf7)),_0x33895e=_0x5e1efa[_0x21bcf3(0x8a0)][_0x21bcf3(0x18a)](_0x21bcf3(0xd2)),_0x457218=_0x5e1efa['target']['closest'](_0x21bcf3(0x7da)),_0x431391=_0x5e1efa[_0x21bcf3(0x8a0)][_0x21bcf3(0x18a)](_0x21bcf3(0x1cb));if(_0x4d717b){cameFromBlueprint=!![];const _0x4fe800=_0x4d717b[_0x21bcf3(0x41c)][_0x21bcf3(0x559)];showQuizDetailView(_0x4fe800),_0x459545[_0x21bcf3(0x8c0)]['add']('hidden');}else{if(_0x3d0e15){const _0x45049e=_0x3d0e15['dataset'][_0x21bcf3(0x133)],_0x3e5fec=_0x3d0e15[_0x21bcf3(0x41c)][_0x21bcf3(0x559)],_0x1234c4=allQuizzesGlobal[_0x21bcf3(0x922)](_0xf3e7db=>_0xf3e7db['id']===_0x3e5fec),_0x7b9b99=_0x1234c4?_0x1234c4[_0x21bcf3(0x6bd)]:_0x21bcf3(0x135);showConfirmation(_0x21bcf3(0x9fa)+_0x7b9b99+_0x21bcf3(0xb89),async()=>{const _0x314acb=_0x21bcf3;try{const _0xe9e9de=doc(db,_0x314acb(0xb4)+appId+_0x314acb(0x3de),currentBlueprintProjectId);await updateDoc(_0xe9e9de,{[_0x314acb(0x95d)+_0x45049e+_0x314acb(0x997)]:arrayRemove(_0x3e5fec)}),showMessage(_0x314acb(0xa01)),openTopicQuizBank(_0x45049e),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x219949){console['error'](_0x314acb(0x624),_0x219949),showMessage(_0x314acb(0xa74));}});}else{if(_0x2d0dfa){cameFromBlueprint=!![];const _0x5cc2d1=_0x2d0dfa[_0x21bcf3(0x41c)]['quizId'],_0x54d136=allQuizzesGlobal['find'](_0x1f754f=>_0x1f754f['id']===_0x5cc2d1);_0x54d136&&(startPresentation(_0x54d136),_0x459545['classList'][_0x21bcf3(0x9ff)](_0x21bcf3(0x2ee)));}else{if(_0x33895e){cameFromBlueprint=!![];const _0x3f8b72=_0x33895e[_0x21bcf3(0x41c)]['quizId'],_0x623048=allQuizzesGlobal[_0x21bcf3(0x922)](_0x231b6b=>_0x231b6b['id']===_0x3f8b72);_0x623048&&(currentQuizData=_0x623048,startAdminTest(),_0x459545[_0x21bcf3(0x8c0)][_0x21bcf3(0x9ff)]('hidden'));}else{if(_0x457218)cameFromBlueprint=!![],handleStartLiveRace(_0x457218[_0x21bcf3(0x41c)]['quizId']),_0x459545[_0x21bcf3(0x8c0)][_0x21bcf3(0x9ff)](_0x21bcf3(0x2ee));else{if(_0x431391){cameFromBlueprint=!![];const _0x56bd3e=_0x431391['dataset'][_0x21bcf3(0x559)],_0x236742=_0x431391[_0x21bcf3(0x41c)][_0x21bcf3(0xb81)],_0x25f00d=allQuizzesGlobal['find'](_0x93680f=>_0x93680f['id']===_0x56bd3e);_0x25f00d&&(showGameStartConfirmationModal(_0x56bd3e,_0x236742,_0x25f00d[_0x21bcf3(0x6bd)]),_0x459545['classList'][_0x21bcf3(0x9ff)](_0x21bcf3(0x2ee)));}}}}}}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x932))[_0x5396e1(0x915)]('click',()=>{const _0x7590be=_0x5396e1;document[_0x7590be(0xbd5)](_0x7590be(0x781))[_0x7590be(0x8c0)]['remove'](_0x7590be(0x2ee)),document['getElementById'](_0x7590be(0x745))[_0x7590be(0xc1a)]='',document[_0x7590be(0xbd5)](_0x7590be(0x130))[_0x7590be(0xc1a)]='',document[_0x7590be(0xbd5)]('manual-bp-content')[_0x7590be(0xc1a)]='';}),document[_0x5396e1(0xbd5)](_0x5396e1(0x91a))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x2e827b=_0x5396e1;document[_0x2e827b(0xbd5)](_0x2e827b(0x781))[_0x2e827b(0x8c0)][_0x2e827b(0x9ff)](_0x2e827b(0x2ee));}),document[_0x5396e1(0xbd5)]('confirm-manual-bp-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),handleManualBlueprintSave),document[_0x5396e1(0xbd5)](_0x5396e1(0x7c0))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>document[_0x5396e1(0xbd5)](_0x5396e1(0x6aa))[_0x5396e1(0x8c0)][_0x5396e1(0x9ff)]('hidden')),document['getElementById'](_0x5396e1(0x823))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleSaveBlueprintPageSettings),document[_0x5396e1(0xbd5)]('bp-quiz-settings-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),openBlueprintQuizSettings),document[_0x5396e1(0xbd5)](_0x5396e1(0xb24))['addEventListener'](_0x5396e1(0x98f),saveBlueprintProject),document[_0x5396e1(0xbd5)](_0x5396e1(0x154))[_0x5396e1(0x915)](_0x5396e1(0x98f),showBlueprintProjects),document[_0x5396e1(0xbd5)]('cancel-blueprint-projects-btn')[_0x5396e1(0x915)]('click',()=>{const _0x104974=_0x5396e1;document['getElementById'](_0x104974(0x636))['classList'][_0x104974(0x9ff)]('hidden');}),document['getElementById'](_0x5396e1(0x8f7))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x320e65=>{const _0x5bab00=_0x5396e1,_0x22e741=_0x320e65[_0x5bab00(0x8a0)]['closest']('.open-bp-project-btn'),_0x452758=_0x320e65['target'][_0x5bab00(0x18a)](_0x5bab00(0x333));if(_0x22e741)displayBlueprintProjectManager(_0x22e741[_0x5bab00(0x41c)]['id']);else _0x452758&&handleDeepDeleteBlueprintProject(_0x452758[_0x5bab00(0x41c)]['id']);}),document[_0x5396e1(0xbd5)]('back-to-dashboard-from-bp-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0xa3ec76=_0x5396e1;currentBlueprintProjectId=null,currentProjectId=null,document[_0xa3ec76(0xbd5)](_0xa3ec76(0x191))[_0xa3ec76(0x8c0)][_0xa3ec76(0x9ff)](_0xa3ec76(0x2ee)),showView('admin-dashboard');}),document['getElementById']('bp-add-topic-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),addTopicToProject),document['getElementById'](_0x5396e1(0x9b3))[_0x5396e1(0x915)](_0x5396e1(0x98f),async _0x370a9b=>{const _0x3d56cf=_0x5396e1,_0x208423=_0x370a9b['target'][_0x3d56cf(0x18a)](_0x3d56cf(0x980));if(!_0x208423)return;const _0x418773=_0x208423[_0x3d56cf(0x41c)]['topicId'],_0x5a3c70=_0x370a9b[_0x3d56cf(0x8a0)]['closest'](_0x3d56cf(0xb8e)),_0x2e460a=_0x370a9b[_0x3d56cf(0x8a0)][_0x3d56cf(0x18a)](_0x3d56cf(0x940)),_0x3bf0b4=_0x370a9b[_0x3d56cf(0x8a0)][_0x3d56cf(0x18a)]('.bp-create-topic-quiz-btn'),_0x575722=_0x370a9b['target'][_0x3d56cf(0x18a)](_0x3d56cf(0x9ac)),_0x151651=_0x370a9b['target']['closest']('.view-bp-lesson-btn'),_0x82cb5=_0x370a9b['target'][_0x3d56cf(0x18a)](_0x3d56cf(0xd0)),_0xb71c89=_0x370a9b[_0x3d56cf(0x8a0)]['closest']('.bp-edit-topic-btn'),_0x213e90=_0x370a9b[_0x3d56cf(0x8a0)][_0x3d56cf(0x18a)](_0x3d56cf(0x2fa)),_0x474adb=_0x2e1b60=>{const _0x190792=_0x3d56cf,_0x3b7a03=_0x2e1b60[_0x190792(0x5db)](_0x190792(0x354))[_0x190792(0x5e0)][_0x190792(0x7ae)](),_0x10c18d=_0x2e1b60[_0x190792(0x18a)](_0x190792(0x3f6))['previousElementSibling'],_0xa7b41f=_0x10c18d?_0x10c18d[_0x190792(0x5e0)]['trim']():'';return _0xa7b41f+':\x20'+_0x3b7a03;};if(_0x575722)openTopicQuizBank(_0x418773);else{if(_0x5a3c70){const _0x2f3c34=_0x474adb(_0x208423);selectProjectAndGenerateBlueprintQuiz(_0x2f3c34,null,_0x418773,!![]);}else{if(_0x2e460a){const _0x599a38=_0x474adb(_0x208423);try{const _0x3e2115=doc(db,_0x3d56cf(0xb4)+appId+_0x3d56cf(0x410)+currentBlueprintProjectId+_0x3d56cf(0x1e8),_0x418773),_0x5c5b40=await getDoc(_0x3e2115);if(_0x5c5b40[_0x3d56cf(0x935)]()){const _0x5714de=_0x5c5b40[_0x3d56cf(0xa1d)]()['content'],_0x42eb91=document['createElement']('div'),_0x4d08cd=_0x442f3f=>{const _0x2d6b47=_0x3d56cf;if(!_0x442f3f)return'';return _0x42eb91[_0x2d6b47(0x553)]=_0x442f3f,_0x42eb91[_0x2d6b47(0x5e0)]||_0x42eb91[_0x2d6b47(0x250)]||'';},_0xd3fdc6=(_0x4d08cd(_0x5714de[_0x3d56cf(0x305)])+'\x20'+_0x4d08cd(_0x5714de['memory'])+'\x20'+_0x4d08cd(_0x5714de[_0x3d56cf(0x600)]))[_0x3d56cf(0x7ae)]();selectProjectAndGenerateBlueprintQuiz(_0x599a38,_0xd3fdc6,_0x418773,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x1733a2){console['error'](_0x3d56cf(0x635),_0x1733a2),showMessage(_0x3d56cf(0xb0a));}}else{if(_0x3bf0b4){const _0x167722=_0x474adb(_0x208423);selectProjectAndGenerateBlueprintQuiz(_0x167722,null,_0x418773,![]);}else{if(_0x151651){const _0x3289d6=doc(db,'artifacts/'+appId+_0x3d56cf(0x3de),currentBlueprintProjectId),_0x1e0ff4=await getDoc(_0x3289d6);if(_0x1e0ff4[_0x3d56cf(0x935)]()){const _0x3460c1=_0x1e0ff4[_0x3d56cf(0xa1d)](),_0x556b67=_0x3460c1[_0x3d56cf(0x2f9)][_0x418773];if(_0x556b67&&_0x556b67[_0x3d56cf(0x56c)]==='generated')try{const _0x1dc6d0=doc(db,_0x3d56cf(0xb4)+appId+_0x3d56cf(0x410)+currentBlueprintProjectId+'/lessons',_0x418773),_0x4cbfcd=await getDoc(_0x1dc6d0);if(_0x4cbfcd['exists']()){const _0x4666c1=_0x4cbfcd[_0x3d56cf(0xa1d)]()[_0x3d56cf(0x8cc)];document[_0x3d56cf(0xbd5)](_0x3d56cf(0x9f6))['textContent']=_0x3d56cf(0x813)+_0x474adb(_0x208423),document[_0x3d56cf(0xbd5)](_0x3d56cf(0xb01))['innerHTML']=_0x4666c1[_0x3d56cf(0x305)],document[_0x3d56cf(0xbd5)](_0x3d56cf(0x57d))[_0x3d56cf(0x553)]=_0x4666c1[_0x3d56cf(0x7df)],document[_0x3d56cf(0xbd5)](_0x3d56cf(0x615))[_0x3d56cf(0x553)]=_0x4666c1['summary'];const _0x205d9b=document[_0x3d56cf(0xbd5)](_0x3d56cf(0x6c1));_0x4666c1[_0x3d56cf(0x52e)]?(currentApplicationData=_0x4666c1[_0x3d56cf(0x52e)],_0x205d9b['innerHTML']=currentApplicationData[_0x3d56cf(0xb43)]((_0x5a768e,_0x1e5289)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x1e5289+0x1)+'.\x20'+marked['parseInline'](_0x5a768e[_0x3d56cf(0x8fd)])+_0x3d56cf(0x9ba)+_0x1e5289+'-options\x22>'+_0x5a768e[_0x3d56cf(0x996)][_0x3d56cf(0xb43)]((_0x3aa2dd,_0x3d5c7b)=>_0x3d56cf(0x142)+_0x1e5289+',\x20'+_0x3d5c7b+_0x3d56cf(0x638)+String['fromCharCode'](0x61+_0x3d5c7b)+'.\x20'+marked[_0x3d56cf(0x3a3)](_0x3aa2dd)+_0x3d56cf(0xc81))[_0x3d56cf(0xb92)]('')+'</div></div>')[_0x3d56cf(0xb92)]('')):(currentApplicationData=[],_0x205d9b[_0x3d56cf(0x553)]=_0x4666c1[_0x3d56cf(0xc99)]||_0x4666c1[_0x3d56cf(0xbef)]),document[_0x3d56cf(0xbd5)]('lesson-loader')['classList'][_0x3d56cf(0x9ff)](_0x3d56cf(0x2ee)),document[_0x3d56cf(0xbd5)](_0x3d56cf(0x27e))[_0x3d56cf(0x8c0)][_0x3d56cf(0x3b9)]('hidden'),document[_0x3d56cf(0xbd5)]('lesson-view-modal')[_0x3d56cf(0x8c0)]['remove'](_0x3d56cf(0x2ee)),window['MathJax']&&MathJax[_0x3d56cf(0x679)]([document[_0x3d56cf(0xbd5)](_0x3d56cf(0x50e))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x5ab54c){console[_0x3d56cf(0x2c7)](_0x3d56cf(0x4a6),_0x5ab54c),showMessage(_0x3d56cf(0x54d));}else showMessage(_0x3d56cf(0xaeb));}}else{if(_0x82cb5){const _0x29d62a=_0x474adb(_0x208423),_0x3977f9=doc(db,_0x3d56cf(0xb4)+appId+_0x3d56cf(0x3de),currentBlueprintProjectId),_0x229297=await getDoc(_0x3977f9);if(_0x229297[_0x3d56cf(0x935)]()){const _0x14efae=_0x229297['data']();generateAndSaveLessonForBlueprint(_0x418773,_0x29d62a,_0x14efae[_0x3d56cf(0x3c8)]);}}else{if(_0xb71c89)editTopicInProject(_0x418773);else _0x213e90&&deleteTopicFromProject(_0x418773);}}}}}}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x446))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleFixLessonLatex),document[_0x5396e1(0xbd5)](_0x5396e1(0x83f))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleExportLessonToPDF),document['getElementById'](_0x5396e1(0x599))[_0x5396e1(0x915)]('click',()=>{const _0x1829f2=_0x5396e1;document[_0x1829f2(0xbd5)](_0x1829f2(0x95b))[_0x1829f2(0x8c0)]['add']('hidden');});const _0x31ee50=document[_0x5396e1(0xbd5)](_0x5396e1(0x761)),_0x811edb=document[_0x5396e1(0xbd5)]('bulk-confidence-mode-container');_0x31ee50[_0x5396e1(0x915)](_0x5396e1(0x77e),()=>{const _0x9217b0=_0x5396e1;_0x811edb[_0x9217b0(0x8c0)]['toggle'](_0x9217b0(0x2ee),!_0x31ee50[_0x9217b0(0x674)]);});const _0x4cb3df=document[_0x5396e1(0xbd5)](_0x5396e1(0xaa2)),_0x1515bb=document['getElementById']('confidence-mode-container');_0x4cb3df[_0x5396e1(0x915)](_0x5396e1(0x77e),()=>{const _0xe39eaf=_0x5396e1;_0x1515bb[_0xe39eaf(0x8c0)][_0xe39eaf(0x6e2)](_0xe39eaf(0x2ee),!_0x4cb3df[_0xe39eaf(0x674)]);});const _0x426439=document[_0x5396e1(0xbd5)]('modal-confidence-scoring-checkbox'),_0x2ce274=document[_0x5396e1(0xbd5)]('modal-confidence-mode-container');_0x426439['addEventListener']('change',()=>{const _0x286acc=_0x5396e1;_0x2ce274[_0x286acc(0x8c0)][_0x286acc(0x6e2)](_0x286acc(0x2ee),!_0x426439['checked']);});const _0x5b7263=document[_0x5396e1(0xbd5)](_0x5396e1(0x4b5)),_0x43e060=async _0x2d0418=>{const _0x9e691b=_0x5396e1,_0x2881a0=document['getElementById'](_0x9e691b(0x4b5)),_0x1952f9=_0x2881a0[_0x9e691b(0x41c)][_0x9e691b(0x808)],_0x1abb52=document[_0x9e691b(0xbd5)](_0x9e691b(0x175));_0x2881a0['classList']['add']('hidden');if(_0x1952f9===_0x9e691b(0x616)){const _0x2e16a1=_0x1abb52['value'],_0x19d60d={'answer':_0x2e16a1,'wasConfident':_0x2d0418};proceedToNextQuestion(_0x19d60d);}else{if(_0x1952f9===_0x9e691b(0x656)){const _0xd27be1=_0x1abb52[_0x9e691b(0x41c)][_0x9e691b(0x950)],_0x53219e=JSON['parse'](_0x1abb52['dataset'][_0x9e691b(0x8fd)]),_0x1739b6=JSON[_0x9e691b(0x837)](_0x1abb52[_0x9e691b(0x41c)][_0x9e691b(0x7d3)]),_0x321a94=_0x1abb52[_0x9e691b(0x41c)][_0x9e691b(0x280)];handleSyncAnswerSubmit(_0xd27be1,_0x53219e,_0x1739b6,_0x321a94,_0x2d0418);}}_0x2881a0[_0x9e691b(0x41c)][_0x9e691b(0x808)]='';};document[_0x5396e1(0xbd5)](_0x5396e1(0x442))['addEventListener']('click',()=>_0x43e060(!![])),document[_0x5396e1(0xbd5)](_0x5396e1(0x7e3))['addEventListener'](_0x5396e1(0x98f),()=>_0x43e060(![])),liveGameView[_0x5396e1(0x915)]('click',_0x3c66bd=>{const _0x26d020=_0x5396e1,_0x648f3e=_0x3c66bd[_0x26d020(0x8a0)][_0x26d020(0x18a)]('.kick-player-btn-sync');if(_0x648f3e){const _0x1b4a3f=_0x648f3e[_0x26d020(0x41c)][_0x26d020(0x280)];_0x1b4a3f&&handleKickPlayerSync(_0x1b4a3f);}});const _0x19704c=document[_0x5396e1(0xbd5)](_0x5396e1(0xc1b)),_0x1b00fe=document[_0x5396e1(0xbd5)](_0x5396e1(0x803));_0x1b00fe[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x10200b=_0x5396e1;document['getElementById'](_0x10200b(0xb3e))['classList'][_0x10200b(0x9ff)](_0x10200b(0x2ee));}),_0x19704c['addEventListener'](_0x5396e1(0x98f),()=>{const _0x3a0983=_0x5396e1,_0x430426=document[_0x3a0983(0xbd5)](_0x3a0983(0xbd4))[_0x3a0983(0xc1a)],_0x4aeb42=document['getElementById'](_0x3a0983(0x512))[_0x3a0983(0xc1a)],_0x33be62=document['getElementById'](_0x3a0983(0xa35))[_0x3a0983(0x674)];document[_0x3a0983(0xbd5)](_0x3a0983(0xb3e))[_0x3a0983(0x8c0)][_0x3a0983(0x9ff)](_0x3a0983(0x2ee));switch(_0x4aeb42){case _0x3a0983(0x9be):handleStartLiveRace(_0x430426,_0x33be62);break;case _0x3a0983(0x2ed):handleStartTeamQuiz(_0x430426,_0x33be62);break;case _0x3a0983(0x96a):handleStartGroupMode(_0x430426,_0x33be62);break;case _0x3a0983(0x656):const _0x4d3925=document['querySelector'](_0x3a0983(0x27d))[_0x3a0983(0xc1a)]||_0x3a0983(0x942);handleStartSyncMode(_0x430426,_0x33be62,_0x4d3925);break;}}),document[_0x5396e1(0xbd5)]('join-group-activity-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),handleJoinGroupActivity),liveGameView[_0x5396e1(0x915)]('click',_0x114d3e=>{const _0x595f63=_0x5396e1,_0x59fc4c=_0x114d3e['target'][_0x595f63(0x18a)]('.summary-bar-item');document[_0x595f63(0x197)]('.live-summary-tooltip.visible')[_0x595f63(0x947)](_0x2e1b9a=>{const _0x3fd92b=_0x595f63;(!_0x59fc4c||_0x2e1b9a['id']!==_0x59fc4c[_0x3fd92b(0x41c)][_0x3fd92b(0x865)])&&_0x2e1b9a[_0x3fd92b(0x8c0)]['remove']('visible');});if(!_0x59fc4c)return;const _0x271645=_0x59fc4c[_0x595f63(0x41c)]['tooltipTarget'],_0x3a1395=document[_0x595f63(0xbd5)](_0x271645);_0x3a1395&&_0x3a1395[_0x595f63(0x8c0)][_0x595f63(0x6e2)](_0x595f63(0xdc));}),liveGameView['addEventListener']('click',_0x2364f1=>{const _0x55d003=_0x5396e1;if(_0x2364f1[_0x55d003(0x8a0)]['classList']['contains'](_0x55d003(0xacb))){const _0x394d43=_0x2364f1[_0x55d003(0x8a0)]['dataset']['playerName'];_0x394d43&&handleKickPlayer(_0x394d43);}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x2c1))[_0x5396e1(0x915)](_0x5396e1(0xb8d),()=>document[_0x5396e1(0xbd5)](_0x5396e1(0x1d7))[_0x5396e1(0x8c0)][_0x5396e1(0x3b9)](_0x5396e1(0x2ee))),document[_0x5396e1(0xbd5)](_0x5396e1(0x1d7))[_0x5396e1(0x915)]('click',handleSaveProjectName),document[_0x5396e1(0xbd5)](_0x5396e1(0x2c1))[_0x5396e1(0x915)](_0x5396e1(0x90e),_0xead2aa=>{const _0x348ff4=_0x5396e1;_0xead2aa[_0x348ff4(0xaf1)]===_0x348ff4(0x58d)&&(_0xead2aa[_0x348ff4(0xc15)](),_0xead2aa['target'][_0x348ff4(0x201)](),handleSaveProjectName());}),document[_0x5396e1(0xbd5)]('bulk-quiz-settings-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x1760bc=_0x5396e1;document['getElementById'](_0x1760bc(0x7b9))[_0x1760bc(0x8c0)]['remove']('hidden');}),document[_0x5396e1(0xbd5)]('cancel-bulk-quiz-settings-btn')['addEventListener']('click',()=>{const _0x13c112=_0x5396e1;document[_0x13c112(0xbd5)](_0x13c112(0x7b9))[_0x13c112(0x8c0)][_0x13c112(0x9ff)]('hidden');}),document[_0x5396e1(0xbd5)](_0x5396e1(0x833))[_0x5396e1(0x915)]('click',handleBulkUpdateQuizSettings),document[_0x5396e1(0xbd5)](_0x5396e1(0xc9b))[_0x5396e1(0x915)]('click',handleModeSwitch),document[_0x5396e1(0xbd5)](_0x5396e1(0x149))['addEventListener']('click',handleUpdateOldQuizzes),document[_0x5396e1(0xbd5)]('reset-project-order-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),handleResetProjectOrder),document['getElementById'](_0x5396e1(0x7bc))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleSaveVisibilitySettings),document['getElementById'](_0x5396e1(0xc8a))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleAddCustomMathTopic),document[_0x5396e1(0xbd5)](_0x5396e1(0x978))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleSelectAllTopics),document[_0x5396e1(0xbd5)](_0x5396e1(0x2fd))['addEventListener']('click',handleDeselectAllTopics),document[_0x5396e1(0xbd5)]('back-to-dashboard-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x1b73cc=_0x5396e1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x1b73cc(0x76b));}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x73a))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x53c3c4=_0x5396e1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x53c3c4(0xa97));}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x5b2))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{showView('admin-dashboard');}),document[_0x5396e1(0xbd5)](_0x5396e1(0xa31))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x15b5da=_0x5396e1;messageModal[_0x15b5da(0x8c0)][_0x15b5da(0x9ff)]('hidden'),typeof modalConfirmAction===_0x15b5da(0x2fe)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5396e1(0xbd5)](_0x5396e1(0x39d))['addEventListener']('click',()=>createProjectModal[_0x5396e1(0x8c0)][_0x5396e1(0x3b9)](_0x5396e1(0x2ee))),document[_0x5396e1(0xbd5)](_0x5396e1(0x5c6))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>createProjectModal['classList']['add'](_0x5396e1(0x2ee))),document['getElementById']('cancel-admin-login-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>adminPasswordModal[_0x5396e1(0x8c0)][_0x5396e1(0x9ff)](_0x5396e1(0x2ee))),document[_0x5396e1(0xbd5)](_0x5396e1(0x530))['addEventListener'](_0x5396e1(0x98f),handleAdminLogin),document['getElementById'](_0x5396e1(0x3a9))['addEventListener'](_0x5396e1(0x612),_0x4dd1b1=>{const _0x9a695d=_0x5396e1;if(_0x4dd1b1[_0x9a695d(0xaf1)]==='Enter')handleAdminLogin();}),document[_0x5396e1(0xbd5)]('cancel-delete-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x5a4fe0=_0x5396e1;confirmationModal['classList'][_0x5a4fe0(0x9ff)]('hidden'),confirmAction=null;}),document[_0x5396e1(0xbd5)](_0x5396e1(0x167))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x2d5f16=_0x5396e1;confirmAction&&confirmAction(),confirmationModal[_0x2d5f16(0x8c0)]['add'](_0x2d5f16(0x2ee)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0x5396e1(0x915)]('click',()=>renameQuizModal[_0x5396e1(0x8c0)][_0x5396e1(0x9ff)]('hidden')),document['getElementById'](_0x5396e1(0x4fd))[_0x5396e1(0x915)](_0x5396e1(0x98f),confirmRenameQuiz),document[_0x5396e1(0xbd5)](_0x5396e1(0x42d))['addEventListener'](_0x5396e1(0x98f),()=>moveQuizModal[_0x5396e1(0x8c0)][_0x5396e1(0x9ff)]('hidden')),document[_0x5396e1(0xbd5)](_0x5396e1(0x892))[_0x5396e1(0x915)]('click',confirmMoveQuiz),document['getElementById'](_0x5396e1(0x90c))['addEventListener'](_0x5396e1(0x98f),()=>quizSettingsModal['classList'][_0x5396e1(0x9ff)](_0x5396e1(0x2ee))),document[_0x5396e1(0xbd5)](_0x5396e1(0x4de))['addEventListener'](_0x5396e1(0x98f),confirmQuizSettings),document[_0x5396e1(0xbd5)]('cancel-quiz-status-btn')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>quizStatusModal[_0x5396e1(0x8c0)][_0x5396e1(0x9ff)](_0x5396e1(0x2ee))),document[_0x5396e1(0xbd5)](_0x5396e1(0xab1))[_0x5396e1(0x915)]('click',confirmQuizStatus);const _0x3f08c4=document[_0x5396e1(0xbd5)](_0x5396e1(0xc6e));document[_0x5396e1(0xbd5)](_0x5396e1(0x759))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x30d99c=_0x5396e1;_0x3f08c4['classList'][_0x30d99c(0x9ff)](_0x30d99c(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0xa61))[_0x5396e1(0x915)](_0x5396e1(0x98f),async()=>{const _0x3b55c8=_0x5396e1,_0x3d0c95=allQuizzes[_0x3b55c8(0x922)](_0x5c6211=>_0x5c6211['id']===actionTargetId);_0x3d0c95?(currentQuizData=_0x3d0c95,exportQuizAsWorksheetPDF()):showMessage(_0x3b55c8(0x226)),_0x3f08c4[_0x3b55c8(0x8c0)][_0x3b55c8(0x9ff)](_0x3b55c8(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0xa23))['addEventListener'](_0x5396e1(0x98f),async()=>{const _0x443e12=_0x5396e1,_0x2fa286=allQuizzes['find'](_0xf1e785=>_0xf1e785['id']===actionTargetId);_0x2fa286?(currentQuizData=_0x2fa286,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x3f08c4[_0x443e12(0x8c0)][_0x443e12(0x9ff)](_0x443e12(0x2ee));});const _0x11cf79=document[_0x5396e1(0xbd5)](_0x5396e1(0x6d7));_0x11cf79['innerHTML']=_0x5396e1(0x194),_0x11cf79[_0x5396e1(0x915)](_0x5396e1(0x98f),openGlobalActivityModal),document[_0x5396e1(0xbd5)](_0x5396e1(0xc19))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x2c7d10=_0x5396e1;document[_0x2c7d10(0xbd5)](_0x2c7d10(0x8f6))['classList'][_0x2c7d10(0x9ff)](_0x2c7d10(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x2d5))['addEventListener'](_0x5396e1(0x444),_0x8f272b=>{const _0x13e059=_0x5396e1;renderGlobalActivityList(_0x8f272b[_0x13e059(0x8a0)][_0x13e059(0xc1a)]);}),document[_0x5396e1(0xbd5)](_0x5396e1(0x66a))['addEventListener']('click',_0x93cc0b=>{const _0x512bca=_0x5396e1,_0x2d6f52=_0x93cc0b[_0x512bca(0x8a0)][_0x512bca(0x18a)]('.game-start-btn');if(!_0x2d6f52)return;const _0x3357aa=_0x2d6f52['dataset']['id'],_0x85437=_0x2d6f52['dataset'][_0x512bca(0xb81)],_0x17739c=allQuizzesGlobal[_0x512bca(0x922)](_0x3ed56c=>_0x3ed56c['id']===_0x3357aa);_0x17739c&&(document['getElementById']('global-activity-modal')['classList'][_0x512bca(0x9ff)](_0x512bca(0x2ee)),_0x85437===_0x512bca(0x9be)?handleStartLiveRace(_0x3357aa):showGameStartConfirmationModal(_0x3357aa,_0x85437,_0x17739c[_0x512bca(0x6bd)]));}),document[_0x5396e1(0xbd5)](_0x5396e1(0xb5c))[_0x5396e1(0x915)](_0x5396e1(0x444),renderProjects),document[_0x5396e1(0xbd5)]('project-sort-select')['addEventListener'](_0x5396e1(0x77e),async()=>{const _0x3fa79a=_0x5396e1,_0x92de64=document[_0x3fa79a(0xbd5)](_0x3fa79a(0x631))[_0x3fa79a(0xc1a)],_0x9f1389=doc(db,_0x3fa79a(0x222),_0x3fa79a(0x34b));try{await setDoc(_0x9f1389,{'projectSort':_0x92de64},{'merge':!![]});}catch(_0x307b59){console[_0x3fa79a(0x2c7)]('Error\x20updating\x20sort\x20preference:',_0x307b59),showMessage(_0x3fa79a(0x8bd));}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x20b))['addEventListener'](_0x5396e1(0x444),renderQuizzes),document[_0x5396e1(0xbd5)](_0x5396e1(0x1ba))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x1b12c6=_0x5396e1;globalDashboardSettings[_0x1b12c6(0x225)]=_0x1b12c6(0x722),saveUserPreference('projectView',_0x1b12c6(0x722)),renderProjects();}),document['getElementById'](_0x5396e1(0x39c))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x2241f4=_0x5396e1;globalDashboardSettings[_0x2241f4(0x225)]=_0x2241f4(0x19d),saveUserPreference(_0x2241f4(0x225),_0x2241f4(0x19d)),renderProjects();}),manageTab[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>switchProjectTab(_0x5396e1(0xba2))),resultsTab[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>switchProjectTab(_0x5396e1(0xb41))),leaderboardTab[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>switchProjectTab('leaderboard')),document[_0x5396e1(0xbd5)]('analytics-tab-btn')[_0x5396e1(0x915)]('click',()=>switchQuizDetailTab('analytics')),document[_0x5396e1(0xbd5)](_0x5396e1(0x2ef))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>switchQuizDetailTab(_0x5396e1(0x94e))),document[_0x5396e1(0xbd5)](_0x5396e1(0xa8))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x5396e1(0xbd5)](_0x5396e1(0x14f))[_0x5396e1(0x915)]('click',()=>switchQuizDetailTab(_0x5396e1(0xb28))),document[_0x5396e1(0xbd5)](_0x5396e1(0xa4a))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn[_0x5396e1(0x915)](_0x5396e1(0x98f),generateWorksheet);const _0x5f0952=document[_0x5396e1(0xbd5)](_0x5396e1(0xf4)),_0x4d0373=document[_0x5396e1(0xbd5)](_0x5396e1(0x885)),_0x1d25b8=document[_0x5396e1(0xbd5)](_0x5396e1(0x3af)),_0x5e395e=document[_0x5396e1(0xbd5)](_0x5396e1(0x970)),_0x1ec9d6=document[_0x5396e1(0xbd5)]('parallel-test-tab'),_0x13c879=document[_0x5396e1(0xbd5)](_0x5396e1(0x227));topicTab[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x1c0ef2=_0x5396e1;topicTab[_0x1c0ef2(0x8c0)]['add']('active'),textTab[_0x1c0ef2(0x8c0)]['remove'](_0x1c0ef2(0x9b4)),fileTab[_0x1c0ef2(0x8c0)][_0x1c0ef2(0x3b9)](_0x1c0ef2(0x9b4)),worksheetTab[_0x1c0ef2(0x8c0)][_0x1c0ef2(0x3b9)](_0x1c0ef2(0x9b4));if(_0x5f0952)_0x5f0952['classList'][_0x1c0ef2(0x3b9)](_0x1c0ef2(0x9b4));if(_0x1d25b8)_0x1d25b8[_0x1c0ef2(0x8c0)]['remove']('active');if(_0x1ec9d6)_0x1ec9d6[_0x1c0ef2(0x8c0)]['remove'](_0x1c0ef2(0x9b4));topicInputArea['classList']['remove']('hidden'),textInputArea[_0x1c0ef2(0x8c0)][_0x1c0ef2(0x9ff)](_0x1c0ef2(0x2ee)),fileInputArea[_0x1c0ef2(0x8c0)][_0x1c0ef2(0x9ff)](_0x1c0ef2(0x2ee)),worksheetInputArea[_0x1c0ef2(0x8c0)][_0x1c0ef2(0x9ff)](_0x1c0ef2(0x2ee));if(_0x4d0373)_0x4d0373['classList']['add'](_0x1c0ef2(0x2ee));if(_0x5e395e)_0x5e395e['classList'][_0x1c0ef2(0x9ff)](_0x1c0ef2(0x2ee));if(_0x13c879)_0x13c879['classList'][_0x1c0ef2(0x9ff)](_0x1c0ef2(0x2ee));}),textTab['addEventListener'](_0x5396e1(0x98f),()=>{const _0x1d514e=_0x5396e1;textTab[_0x1d514e(0x8c0)][_0x1d514e(0x9ff)]('active'),topicTab['classList'][_0x1d514e(0x3b9)](_0x1d514e(0x9b4)),fileTab[_0x1d514e(0x8c0)][_0x1d514e(0x3b9)](_0x1d514e(0x9b4)),worksheetTab[_0x1d514e(0x8c0)][_0x1d514e(0x3b9)](_0x1d514e(0x9b4));if(_0x5f0952)_0x5f0952[_0x1d514e(0x8c0)][_0x1d514e(0x3b9)](_0x1d514e(0x9b4));if(_0x1d25b8)_0x1d25b8[_0x1d514e(0x8c0)][_0x1d514e(0x3b9)](_0x1d514e(0x9b4));if(_0x1ec9d6)_0x1ec9d6[_0x1d514e(0x8c0)][_0x1d514e(0x3b9)](_0x1d514e(0x9b4));textInputArea[_0x1d514e(0x8c0)][_0x1d514e(0x3b9)](_0x1d514e(0x2ee)),topicInputArea[_0x1d514e(0x8c0)][_0x1d514e(0x9ff)]('hidden'),fileInputArea[_0x1d514e(0x8c0)]['add']('hidden'),worksheetInputArea[_0x1d514e(0x8c0)][_0x1d514e(0x9ff)](_0x1d514e(0x2ee));if(_0x4d0373)_0x4d0373[_0x1d514e(0x8c0)][_0x1d514e(0x9ff)](_0x1d514e(0x2ee));if(_0x5e395e)_0x5e395e['classList']['add'](_0x1d514e(0x2ee));if(_0x13c879)_0x13c879['classList'][_0x1d514e(0x9ff)](_0x1d514e(0x2ee));}),fileTab['addEventListener'](_0x5396e1(0x98f),()=>{const _0x233754=_0x5396e1;fileTab[_0x233754(0x8c0)][_0x233754(0x9ff)](_0x233754(0x9b4)),topicTab[_0x233754(0x8c0)][_0x233754(0x3b9)](_0x233754(0x9b4)),textTab['classList'][_0x233754(0x3b9)](_0x233754(0x9b4)),worksheetTab[_0x233754(0x8c0)][_0x233754(0x3b9)](_0x233754(0x9b4));if(_0x5f0952)_0x5f0952['classList'][_0x233754(0x3b9)](_0x233754(0x9b4));if(_0x1d25b8)_0x1d25b8[_0x233754(0x8c0)][_0x233754(0x3b9)]('active');if(_0x1ec9d6)_0x1ec9d6[_0x233754(0x8c0)][_0x233754(0x3b9)](_0x233754(0x9b4));fileInputArea[_0x233754(0x8c0)]['remove'](_0x233754(0x2ee)),topicInputArea[_0x233754(0x8c0)][_0x233754(0x9ff)](_0x233754(0x2ee)),textInputArea[_0x233754(0x8c0)][_0x233754(0x9ff)](_0x233754(0x2ee)),worksheetInputArea[_0x233754(0x8c0)]['add'](_0x233754(0x2ee));if(_0x4d0373)_0x4d0373[_0x233754(0x8c0)][_0x233754(0x9ff)]('hidden');if(_0x5e395e)_0x5e395e[_0x233754(0x8c0)][_0x233754(0x9ff)](_0x233754(0x2ee));if(_0x13c879)_0x13c879[_0x233754(0x8c0)][_0x233754(0x9ff)]('hidden');}),worksheetTab['addEventListener'](_0x5396e1(0x98f),()=>{const _0x35e892=_0x5396e1;worksheetTab[_0x35e892(0x8c0)][_0x35e892(0x9ff)]('active'),topicTab[_0x35e892(0x8c0)][_0x35e892(0x3b9)](_0x35e892(0x9b4)),textTab[_0x35e892(0x8c0)][_0x35e892(0x3b9)](_0x35e892(0x9b4)),fileTab[_0x35e892(0x8c0)][_0x35e892(0x3b9)](_0x35e892(0x9b4));if(_0x5f0952)_0x5f0952[_0x35e892(0x8c0)][_0x35e892(0x3b9)](_0x35e892(0x9b4));if(_0x1d25b8)_0x1d25b8[_0x35e892(0x8c0)]['remove']('active');if(_0x1ec9d6)_0x1ec9d6[_0x35e892(0x8c0)][_0x35e892(0x3b9)](_0x35e892(0x9b4));worksheetInputArea[_0x35e892(0x8c0)][_0x35e892(0x3b9)](_0x35e892(0x2ee)),topicInputArea['classList'][_0x35e892(0x9ff)]('hidden'),textInputArea[_0x35e892(0x8c0)][_0x35e892(0x9ff)](_0x35e892(0x2ee)),fileInputArea[_0x35e892(0x8c0)][_0x35e892(0x9ff)](_0x35e892(0x2ee));if(_0x4d0373)_0x4d0373[_0x35e892(0x8c0)]['add'](_0x35e892(0x2ee));if(_0x5e395e)_0x5e395e['classList'][_0x35e892(0x9ff)](_0x35e892(0x2ee));if(_0x13c879)_0x13c879[_0x35e892(0x8c0)]['add']('hidden');});const _0x3b1968=document['getElementById'](_0x5396e1(0xa8c)),_0x1b6f97=document['getElementById'](_0x5396e1(0x347));_0x3b1968&&_0x3b1968[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x34b4fb=_0x5396e1;topicTab[_0x34b4fb(0x8c0)]['remove'](_0x34b4fb(0x9b4)),textTab['classList']['remove']('active'),fileTab[_0x34b4fb(0x8c0)]['remove'](_0x34b4fb(0x9b4)),worksheetTab[_0x34b4fb(0x8c0)][_0x34b4fb(0x3b9)]('active');if(_0x5f0952)_0x5f0952['classList'][_0x34b4fb(0x3b9)](_0x34b4fb(0x9b4));if(_0x1d25b8)_0x1d25b8['classList']['remove']('active');if(_0x1ec9d6)_0x1ec9d6[_0x34b4fb(0x8c0)][_0x34b4fb(0x3b9)](_0x34b4fb(0x9b4));_0x3b1968['classList'][_0x34b4fb(0x9ff)]('active'),topicInputArea[_0x34b4fb(0x8c0)][_0x34b4fb(0x9ff)](_0x34b4fb(0x2ee)),textInputArea[_0x34b4fb(0x8c0)][_0x34b4fb(0x9ff)](_0x34b4fb(0x2ee)),fileInputArea[_0x34b4fb(0x8c0)][_0x34b4fb(0x9ff)](_0x34b4fb(0x2ee)),worksheetInputArea[_0x34b4fb(0x8c0)][_0x34b4fb(0x9ff)](_0x34b4fb(0x2ee));if(_0x4d0373)_0x4d0373['classList'][_0x34b4fb(0x9ff)]('hidden');if(_0x5e395e)_0x5e395e[_0x34b4fb(0x8c0)]['add'](_0x34b4fb(0x2ee));if(_0x13c879)_0x13c879[_0x34b4fb(0x8c0)]['add'](_0x34b4fb(0x2ee));_0x1b6f97[_0x34b4fb(0x8c0)][_0x34b4fb(0x3b9)](_0x34b4fb(0x2ee)),displayQuestionBank();});_0x5f0952&&(_0x5f0952[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x372afa=_0x5396e1;_0x5f0952['classList'][_0x372afa(0x9ff)](_0x372afa(0x9b4)),topicTab[_0x372afa(0x8c0)][_0x372afa(0x3b9)](_0x372afa(0x9b4)),textTab[_0x372afa(0x8c0)][_0x372afa(0x3b9)]('active'),fileTab[_0x372afa(0x8c0)][_0x372afa(0x3b9)](_0x372afa(0x9b4)),worksheetTab[_0x372afa(0x8c0)][_0x372afa(0x3b9)](_0x372afa(0x9b4));if(_0x1d25b8)_0x1d25b8['classList'][_0x372afa(0x3b9)](_0x372afa(0x9b4));if(_0x1ec9d6)_0x1ec9d6[_0x372afa(0x8c0)][_0x372afa(0x3b9)](_0x372afa(0x9b4));_0x4d0373['classList'][_0x372afa(0x3b9)]('hidden'),topicInputArea[_0x372afa(0x8c0)]['add'](_0x372afa(0x2ee)),textInputArea[_0x372afa(0x8c0)][_0x372afa(0x9ff)](_0x372afa(0x2ee)),fileInputArea[_0x372afa(0x8c0)][_0x372afa(0x9ff)]('hidden'),worksheetInputArea[_0x372afa(0x8c0)][_0x372afa(0x9ff)](_0x372afa(0x2ee));if(_0x5e395e)_0x5e395e[_0x372afa(0x8c0)]['add']('hidden');if(_0x13c879)_0x13c879[_0x372afa(0x8c0)][_0x372afa(0x9ff)](_0x372afa(0x2ee));}),document[_0x5396e1(0xbd5)]('generate-from-link-btn')[_0x5396e1(0x915)]('click',handleGenerateFromLink));_0x1d25b8&&_0x1d25b8[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x19e61c=_0x5396e1;_0x1d25b8[_0x19e61c(0x8c0)][_0x19e61c(0x9ff)](_0x19e61c(0x9b4)),topicTab[_0x19e61c(0x8c0)][_0x19e61c(0x3b9)]('active'),textTab[_0x19e61c(0x8c0)]['remove'](_0x19e61c(0x9b4)),fileTab[_0x19e61c(0x8c0)][_0x19e61c(0x3b9)]('active'),worksheetTab[_0x19e61c(0x8c0)][_0x19e61c(0x3b9)](_0x19e61c(0x9b4));if(_0x5f0952)_0x5f0952['classList'][_0x19e61c(0x3b9)](_0x19e61c(0x9b4));if(_0x3b1968)_0x3b1968[_0x19e61c(0x8c0)][_0x19e61c(0x3b9)](_0x19e61c(0x9b4));if(_0x1ec9d6)_0x1ec9d6[_0x19e61c(0x8c0)][_0x19e61c(0x3b9)](_0x19e61c(0x9b4));_0x5e395e[_0x19e61c(0x8c0)][_0x19e61c(0x3b9)](_0x19e61c(0x2ee)),topicInputArea['classList']['add'](_0x19e61c(0x2ee)),textInputArea[_0x19e61c(0x8c0)][_0x19e61c(0x9ff)]('hidden'),fileInputArea['classList']['add'](_0x19e61c(0x2ee)),worksheetInputArea[_0x19e61c(0x8c0)][_0x19e61c(0x9ff)](_0x19e61c(0x2ee));if(_0x4d0373)_0x4d0373['classList'][_0x19e61c(0x9ff)](_0x19e61c(0x2ee));if(_0x1b6f97)_0x1b6f97[_0x19e61c(0x8c0)][_0x19e61c(0x9ff)](_0x19e61c(0x2ee));if(_0x13c879)_0x13c879[_0x19e61c(0x8c0)][_0x19e61c(0x9ff)](_0x19e61c(0x2ee));});_0x1ec9d6&&_0x1ec9d6['addEventListener'](_0x5396e1(0x98f),()=>{const _0x376f63=_0x5396e1;_0x1ec9d6[_0x376f63(0x8c0)][_0x376f63(0x9ff)](_0x376f63(0x9b4)),topicTab[_0x376f63(0x8c0)][_0x376f63(0x3b9)](_0x376f63(0x9b4)),textTab[_0x376f63(0x8c0)][_0x376f63(0x3b9)](_0x376f63(0x9b4)),fileTab[_0x376f63(0x8c0)][_0x376f63(0x3b9)](_0x376f63(0x9b4)),worksheetTab['classList']['remove']('active');if(_0x5f0952)_0x5f0952[_0x376f63(0x8c0)][_0x376f63(0x3b9)](_0x376f63(0x9b4));if(_0x1d25b8)_0x1d25b8[_0x376f63(0x8c0)]['remove'](_0x376f63(0x9b4));if(_0x3b1968)_0x3b1968[_0x376f63(0x8c0)][_0x376f63(0x3b9)](_0x376f63(0x9b4));_0x13c879[_0x376f63(0x8c0)]['remove']('hidden'),topicInputArea[_0x376f63(0x8c0)]['add'](_0x376f63(0x2ee)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x376f63(0x8c0)][_0x376f63(0x9ff)](_0x376f63(0x2ee)),worksheetInputArea[_0x376f63(0x8c0)]['add']('hidden');if(_0x4d0373)_0x4d0373[_0x376f63(0x8c0)][_0x376f63(0x9ff)](_0x376f63(0x2ee));if(_0x5e395e)_0x5e395e['classList']['add'](_0x376f63(0x2ee));if(_0x1b6f97)_0x1b6f97[_0x376f63(0x8c0)][_0x376f63(0x9ff)](_0x376f63(0x2ee));});const _0xe93d6d=document[_0x5396e1(0xbd5)](_0x5396e1(0x602)),_0x138148=document[_0x5396e1(0xbd5)](_0x5396e1(0xab2));if(_0xe93d6d){const _0x1d9400=document[_0x5396e1(0xbd5)]('blueprint-upload-input'),_0x3cc092=document[_0x5396e1(0xbd5)](_0x5396e1(0xab2)),_0x5b5680=document[_0x5396e1(0xbd5)](_0x5396e1(0x82b)),_0x6cef2b=document[_0x5396e1(0xbd5)](_0x5396e1(0xbb7)),_0x5de23c=document[_0x5396e1(0xbd5)](_0x5396e1(0xb7c)),_0x510ef5=document[_0x5396e1(0xbd5)](_0x5396e1(0x6f3));_0x1d9400&&_0x1d9400[_0x5396e1(0x915)](_0x5396e1(0x77e),async _0xef0f25=>{const _0x10ff5a=_0x5396e1;_0x5b5680[_0x10ff5a(0x8c0)][_0x10ff5a(0x9ff)](_0x10ff5a(0x2ee)),_0x5de23c[_0x10ff5a(0x8c0)]['add'](_0x10ff5a(0x2ee)),_0x6cef2b[_0x10ff5a(0x674)]=![],_0x3cc092[_0x10ff5a(0x256)]=!![];const _0x28ec39=_0xef0f25[_0x10ff5a(0x8a0)]['files'][0x0];if(_0x28ec39){_0x3cc092[_0x10ff5a(0x256)]=![];try{const _0x5670b3=await extractTextFromPdf(_0x28ec39);await analyzeBlueprintForTopics(_0x5670b3);}catch(_0x168c5e){showMessage(_0x10ff5a(0xb5f)),_0x5b5680[_0x10ff5a(0x8c0)][_0x10ff5a(0x9ff)](_0x10ff5a(0x2ee));}}}),_0x6cef2b&&_0x6cef2b[_0x5396e1(0x915)](_0x5396e1(0x77e),_0x489ea5=>{const _0x5d7587=_0x5396e1,_0x373691=_0x489ea5[_0x5d7587(0x8a0)][_0x5d7587(0x674)];_0x5de23c[_0x5d7587(0x8c0)]['toggle'](_0x5d7587(0x2ee),!_0x373691),_0x3cc092['disabled']=_0x373691;}),_0x510ef5&&(_0x510ef5&&_0x510ef5[_0x5396e1(0x915)]('click',_0x47e212=>{const _0x31b1b5=_0x5396e1,_0x22c33c=_0x47e212['target'][_0x31b1b5(0x18a)](_0x31b1b5(0xc40)),_0x1413a6=_0x47e212[_0x31b1b5(0x8a0)][_0x31b1b5(0x18a)](_0x31b1b5(0x45e));if(_0x22c33c){const _0xdcc5=unescape(_0x22c33c[_0x31b1b5(0x41c)][_0x31b1b5(0x6bd)]);generateQuizForSingleTopic(_0xdcc5);}else{if(_0x1413a6){const _0x568c1a=unescape(_0x1413a6[_0x31b1b5(0x41c)]['topic']);handleGenerateTeachingContent(_0x568c1a);}}}));}_0x138148&&_0x138148['addEventListener'](_0x5396e1(0x98f),handleGenerateFromBlueprint);const _0x52d740=document['getElementById'](_0x5396e1(0xae3)),_0x44737f=document[_0x5396e1(0xbd5)](_0x5396e1(0x62b));_0x52d740&&_0x52d740[_0x5396e1(0x915)]('change',_0xd12e8b=>{const _0xc82934=_0x5396e1;_0x44737f[_0xc82934(0x256)]=_0xd12e8b[_0xc82934(0x8a0)]['files'][_0xc82934(0x9f1)]===0x0;});_0x44737f&&_0x44737f[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x5396e1(0x915)](_0x5396e1(0x98f),handleLoadQuiz),startQuizBtn['addEventListener'](_0x5396e1(0x98f),async()=>{const _0x3cf8bf=_0x5396e1,_0x43987d=document[_0x3cf8bf(0xbd5)](_0x3cf8bf(0x8e1));currentStudentName=_0x43987d['value'];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x387c3c=currentQuizData['id'],_0x1b5596=doc(db,_0x3cf8bf(0xb4)+appId+_0x3cf8bf(0x9aa)+_0x387c3c+_0x3cf8bf(0x67f),currentStudentName),_0x4751d6=await getDoc(_0x1b5596);!_0x4751d6[_0x3cf8bf(0x935)]()?await setDoc(_0x1b5596,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x1b5596,{'startedAt':new Date()['toISOString']()});}catch(_0x5849ab){console[_0x3cf8bf(0x2c7)](_0x3cf8bf(0x69a),_0x5849ab),showMessage(_0x3cf8bf(0xcc));return;}studentNameSelectionView['classList'][_0x3cf8bf(0x9ff)](_0x3cf8bf(0x2ee)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5396e1(0xbd5)](_0x5396e1(0xb8f))[_0x5396e1(0x915)]('click',showJoinGameView),document[_0x5396e1(0xbd5)](_0x5396e1(0x1a4))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleJoinLiveGame),document[_0x5396e1(0xbd5)](_0x5396e1(0xbdd))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>showView(_0x5396e1(0xc69)));const _0x4c1328=()=>{const _0x1c1ac1=_0x5396e1,_0x505ee0=document[_0x1c1ac1(0xbd5)](_0x1c1ac1(0x98c))[_0x1c1ac1(0x5e0)][_0x1c1ac1(0x3fa)](/[^a-z0-9]/gi,'_')[_0x1c1ac1(0x1a5)]();return _0x1c1ac1(0xa1)+(_0x505ee0||_0x1c1ac1(0xc9d));},_0x1ac8aa=document[_0x5396e1(0xbd5)]('math-topic-search-input');_0x1ac8aa&&_0x1ac8aa[_0x5396e1(0x915)](_0x5396e1(0x444),_0x2ae9de=>{const _0x23e6ad=_0x5396e1,_0x1c03b8=_0x2ae9de[_0x23e6ad(0x8a0)][_0x23e6ad(0xc1a)][_0x23e6ad(0x1a5)]()['trim'](),_0x15523c=document[_0x23e6ad(0xbd5)]('math-topics-checkbox-container'),_0x3d2d38=_0x15523c[_0x23e6ad(0x197)](_0x23e6ad(0x727));_0x3d2d38['forEach'](_0x1bd917=>{const _0x51311b=_0x23e6ad;let _0x568ccf=![];const _0x189b11=_0x1bd917['querySelectorAll'](_0x51311b(0xbf0));_0x189b11['forEach'](_0x12edae=>{const _0x5c20ce=_0x51311b,_0x1b8b91=_0x12edae[_0x5c20ce(0x5db)]('.topic-name-display')[_0x5c20ce(0x5e0)][_0x5c20ce(0x1a5)]();_0x1b8b91[_0x5c20ce(0x668)](_0x1c03b8)?(_0x12edae[_0x5c20ce(0x125)][_0x5c20ce(0xc0b)]='flex',_0x568ccf=!![]):_0x12edae[_0x5c20ce(0x125)][_0x5c20ce(0xc0b)]='none';}),_0x568ccf?_0x1bd917[_0x51311b(0x125)][_0x51311b(0xc0b)]=_0x51311b(0xaee):_0x1bd917[_0x51311b(0x125)]['display']='none';});});document[_0x5396e1(0xbd5)](_0x5396e1(0x224))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>exportTableAsImage('results-table-container',_0x4c1328())),document[_0x5396e1(0xbd5)](_0x5396e1(0x34d))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>exportTableAsPDF('results-table',_0x4c1328())),document[_0x5396e1(0xbd5)](_0x5396e1(0x9fb))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>exportTableAsWord(_0x5396e1(0x119),_0x4c1328())),document['getElementById'](_0x5396e1(0x720))['addEventListener']('click',()=>exportTableAsExcel(_0x5396e1(0x9ed),_0x4c1328()));const _0x3873fd=()=>{const _0xfe6abd=_0x5396e1,_0x4ffd3a=document[_0xfe6abd(0xbd5)](_0xfe6abd(0x98c))[_0xfe6abd(0x5e0)][_0xfe6abd(0x3fa)](/[^a-z0-9]/gi,'_')[_0xfe6abd(0x1a5)]();return'leaderboard_'+(_0x4ffd3a||_0xfe6abd(0xc9d));};document[_0x5396e1(0xbd5)](_0x5396e1(0x359))['addEventListener'](_0x5396e1(0x98f),()=>exportTableAsImage(_0x5396e1(0x65a),_0x3873fd())),document['getElementById'](_0x5396e1(0x732))['addEventListener'](_0x5396e1(0x98f),()=>exportTableAsPDF('quiz-leaderboard-table',_0x3873fd())),document[_0x5396e1(0xbd5)](_0x5396e1(0x693))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>exportTableAsWord(_0x5396e1(0x65a),_0x3873fd())),document['getElementById'](_0x5396e1(0xa4f))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>exportTableAsExcel(_0x5396e1(0xc41),_0x3873fd())),projectQuizzesList[_0x5396e1(0x915)](_0x5396e1(0x98f),async _0x108d95=>{const _0x52e44a=_0x5396e1,_0x3d3aeb=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)]('.quiz-result-card'),_0x15c92b=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x33d)),_0x13f403=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x86e)),_0x2ededb=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)]('.generate-lesson-btn'),_0x5cedb1=_0x108d95['target'][_0x52e44a(0x18a)](_0x52e44a(0x88a)),_0x200f7a=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0xae4)),_0x471670=_0x108d95[_0x52e44a(0x8a0)]['closest'](_0x52e44a(0x339)),_0x2c7822=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x681)),_0x515e65=_0x108d95[_0x52e44a(0x8a0)]['closest']('.duplicate-quiz-btn'),_0x72f45=_0x108d95[_0x52e44a(0x8a0)]['closest'](_0x52e44a(0xaed)),_0x296c6b=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x632)),_0x128fda=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)]('.move-quiz-btn'),_0x1db6f7=_0x108d95[_0x52e44a(0x8a0)]['closest'](_0x52e44a(0x7d5)),_0x4ad430=_0x108d95['target']['closest'](_0x52e44a(0x53e)),_0x3fb7ca=_0x108d95['target']['closest'](_0x52e44a(0x8f5)),_0x4c83e4=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x388)),_0x661d00=_0x108d95[_0x52e44a(0x8a0)]['closest'](_0x52e44a(0xa7a)),_0x155d74=_0x108d95[_0x52e44a(0x8a0)]['closest'](_0x52e44a(0x2c3)),_0x4784c7=_0x108d95['target'][_0x52e44a(0x18a)](_0x52e44a(0x8c5)),_0x44b888=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x9a0)),_0x445c58=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)]('.generate-easy-version-btn'),_0x216a22=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x25a)),_0x19ec0c=_0x108d95[_0x52e44a(0x8a0)][_0x52e44a(0x18a)](_0x52e44a(0x2d0));if(_0x216a22){const _0x48a6ef=_0x216a22[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0xd1341f=_0x216a22[_0x52e44a(0x41c)][_0x52e44a(0xb81)],_0x3f49d0=allQuizzes['find'](_0xb710a3=>_0xb710a3['id']===_0x48a6ef);_0x3f49d0&&showGameStartConfirmationModal(_0x48a6ef,_0xd1341f,_0x3f49d0['topic']);}else{if(_0x19ec0c){const _0x34e536=_0x19ec0c['dataset'][_0x52e44a(0x559)];handleStartLiveRace(_0x34e536);}else{if(_0x44b888){const _0x3de855=_0x44b888[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0xee895b=document[_0x52e44a(0xbd5)](_0x52e44a(0x33a)+_0x3de855);_0xee895b&&_0xee895b[_0x52e44a(0x8c0)][_0x52e44a(0x6e2)](_0x52e44a(0x2ee));}else{if(_0x15c92b){const _0x106a8b=_0x15c92b[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0x21ecab=allQuizzes['find'](_0x2186e0=>_0x2186e0['id']===_0x106a8b);_0x21ecab&&handleGenerateParallelPostTest(_0x21ecab);}else{if(_0x13f403)handleCompareResults(_0x13f403[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0x13f403[_0x52e44a(0x41c)][_0x52e44a(0x800)]);else{if(_0x2ededb){const _0x27355d=_0x2ededb[_0x52e44a(0x41c)]['quizId'],_0x5823c3=allQuizzes['find'](_0x24b650=>_0x24b650['id']===_0x27355d);_0x5823c3&&_0x5823c3[_0x52e44a(0x2b0)]?(displayLessonPlan(_0x5823c3[_0x52e44a(0x2b0)],_0x5823c3),showConfirmation(_0x52e44a(0x42a),()=>handleGenerateLessonPlan(_0x27355d)),document[_0x52e44a(0xbd5)](_0x52e44a(0xcaf))['querySelector']('h3')[_0x52e44a(0x5e0)]=_0x52e44a(0x991),document['getElementById']('confirm-delete-btn')[_0x52e44a(0x5e0)]=_0x52e44a(0x35d)):handleGenerateLessonPlan(_0x27355d);}else{if(_0x5cedb1)handleToggleStarQuiz(_0x5cedb1['dataset'][_0x52e44a(0x559)]);else{if(_0x200f7a)copyTextToClipboard(_0x200f7a[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0x52e44a(0x73f));else{if(_0x471670)handleOpenQuizEditor(_0x471670[_0x52e44a(0x41c)]['quizId']);else{if(_0x2c7822)handleQuizSettings(_0x2c7822[_0x52e44a(0x41c)]['quizId']);else{if(_0x515e65)handleDuplicateQuiz(_0x515e65[_0x52e44a(0x41c)][_0x52e44a(0x559)]);else{if(_0x72f45)handleRenameQuiz(_0x72f45[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0x72f45['dataset'][_0x52e44a(0x6bd)]);else{if(_0x296c6b){const _0x3ff945=_0x296c6b[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0x483f51=allQuizzes[_0x52e44a(0x922)](_0x1dbb9d=>_0x1dbb9d['id']===_0x3ff945);_0x483f51&&handleGenerateParallelFromBank(_0x483f51);}else{if(_0x128fda)handleMoveQuiz(_0x128fda[_0x52e44a(0x41c)][_0x52e44a(0x559)]);else{if(_0x1db6f7)handleManualQuizPairing(_0x1db6f7[_0x52e44a(0x41c)][_0x52e44a(0x559)]);else{if(_0x4ad430)handleUnpairQuiz(_0x4ad430['dataset']['quizId']);else{if(_0x3fb7ca){const _0x57ba0a=_0x3fb7ca[_0x52e44a(0x41c)][_0x52e44a(0x559)],_0x260ae2=allQuizzes['find'](_0x56d6b3=>_0x56d6b3['id']===_0x57ba0a);if(_0x260ae2)startPresentation(_0x260ae2);}else{if(_0x4c83e4){const _0x5c9aba=_0x4c83e4['dataset'][_0x52e44a(0x559)],_0x233270=allQuizzes[_0x52e44a(0x922)](_0x304af0=>_0x304af0['id']===_0x5c9aba);_0x233270&&(currentQuizData=_0x233270,startAdminTest());}else{if(_0x661d00)actionTargetId=_0x661d00[_0x52e44a(0x41c)][_0x52e44a(0x559)],document[_0x52e44a(0xbd5)](_0x52e44a(0xc6e))['classList']['remove'](_0x52e44a(0x2ee));else{if(_0x155d74)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x155d74['dataset'][_0x52e44a(0x6bd)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x155d74['dataset'][_0x52e44a(0x559)]));else{if(_0x4784c7)handleQuizStatus(_0x4784c7[_0x52e44a(0x41c)][_0x52e44a(0x559)]);else{if(_0x445c58)handleGenerateEasyVersionQuiz(_0x445c58[_0x52e44a(0x41c)][_0x52e44a(0x559)]);else _0x3d3aeb&&showQuizDetailView(_0x3d3aeb[_0x52e44a(0x41c)][_0x52e44a(0x559)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x5396e1(0x7b8))['addEventListener'](_0x5396e1(0x98f),()=>showView('student')),document[_0x5396e1(0xbd5)](_0x5396e1(0x416))[_0x5396e1(0x915)](_0x5396e1(0x98f),confirmAndStartTeamQuiz),document['getElementById'](_0x5396e1(0xc41))['querySelector'](_0x5396e1(0xba))['addEventListener'](_0x5396e1(0x98f),_0x1e325f=>{const _0x44bb23=_0x5396e1,_0x28ae52=_0x1e325f[_0x44bb23(0x8a0)][_0x44bb23(0x18a)](_0x44bb23(0x248));if(!_0x28ae52||!_0x28ae52[_0x44bb23(0x41c)]['sort'])return;const _0x3ca6d4=_0x28ae52[_0x44bb23(0x41c)]['sort'];if(quizLeaderboardSortBy===_0x3ca6d4)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x44bb23(0xbe4)?'desc':_0x44bb23(0xbe4);else{quizLeaderboardSortBy=_0x3ca6d4;const _0x14071c=['studentName'];quizLeaderboardSortOrder=_0x14071c['includes'](_0x3ca6d4)?_0x44bb23(0xbe4):_0x44bb23(0x9cd);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x44bb23(0x99e));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x7d8))[_0x5396e1(0x915)]('click',closePresentation),document[_0x5396e1(0xbd5)](_0x5396e1(0x365))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x659))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x5718b4=_0x5396e1;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x5718b4(0x69e)][_0x5718b4(0x9f1)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x3064c2=_0x5396e1;!document[_0x3064c2(0xba6)]&&(presentationModal[_0x3064c2(0x125)]['display']=_0x3064c2(0xa64));}),document[_0x5396e1(0xbd5)]('delete-all-students-btn')['addEventListener'](_0x5396e1(0x98f),handleDeleteAllStudents),studentList[_0x5396e1(0x915)]('click',_0xa28233=>{const _0x1e39a5=_0x5396e1,_0x268ce3=_0xa28233[_0x1e39a5(0x8a0)][_0x1e39a5(0x18a)](_0x1e39a5(0x811));if(_0x268ce3){const _0x5e42a6=_0x268ce3[_0x1e39a5(0x41c)]['studentName'];handleDeleteStudent(_0x5e42a6);}}),document[_0x5396e1(0xbd5)](_0x5396e1(0xc58))['addEventListener'](_0x5396e1(0x98f),handleGenerateFromFileClick),fileUploadInput[_0x5396e1(0x915)](_0x5396e1(0x77e),_0x51ddc3=>{const _0x34c85c=_0x5396e1,_0x745817=_0x51ddc3['target'][_0x34c85c(0xbd2)][0x0],_0x353fd3=document['getElementById'](_0x34c85c(0xc58)),_0x65d4f8=document['getElementById'](_0x34c85c(0x755)),_0x2335e1=document[_0x34c85c(0xbd5)](_0x34c85c(0x699));_0x745817?(selectedFile=_0x745817,_0x2335e1[_0x34c85c(0x674)]?(_0x353fd3[_0x34c85c(0x256)]=!![],analyzeFileForTopics(_0x745817)):(_0x353fd3[_0x34c85c(0x256)]=![],_0x65d4f8['classList'][_0x34c85c(0x9ff)](_0x34c85c(0x2ee)))):(selectedFile=null,_0x353fd3['disabled']=!![],_0x65d4f8['classList'][_0x34c85c(0x9ff)](_0x34c85c(0x2ee)));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x699))[_0x5396e1(0x915)]('change',_0x113530=>{const _0x214e01=_0x5396e1,_0x58bbdd=_0x113530[_0x214e01(0x8a0)]['checked'],_0x2b4077=document['getElementById'](_0x214e01(0xc58)),_0x2e7624=document[_0x214e01(0xbd5)](_0x214e01(0x755));_0x58bbdd?(_0x2b4077[_0x214e01(0x256)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2e7624[_0x214e01(0x8c0)][_0x214e01(0x3b9)](_0x214e01(0x2ee)),document[_0x214e01(0xbd5)]('file-topics-list')[_0x214e01(0x553)]=_0x214e01(0x609))):(_0x2e7624[_0x214e01(0x8c0)][_0x214e01(0x9ff)](_0x214e01(0x2ee)),_0x2b4077[_0x214e01(0x256)]=!selectedFile);}),document[_0x5396e1(0xbd5)](_0x5396e1(0x755))[_0x5396e1(0x915)]('click',_0x5abda5=>{const _0x4b1316=_0x5396e1,_0x3e6f4b=_0x5abda5['target'][_0x4b1316(0x18a)](_0x4b1316(0x8fb)),_0x420361=_0x5abda5[_0x4b1316(0x8a0)][_0x4b1316(0x18a)](_0x4b1316(0x45e));if(_0x3e6f4b){const _0x56599f=unescape(_0x3e6f4b[_0x4b1316(0x41c)][_0x4b1316(0x6bd)]);generateHybridQuizForTopic(_0x56599f);}else{if(_0x420361){const _0x364d91=unescape(_0x420361['dataset'][_0x4b1316(0x6bd)]),_0x4915cd=document[_0x4b1316(0xbd5)]('difficulty-level-select')[_0x4b1316(0xc1a)];handleGenerateAndShowLesson(_0x364d91,_0x4915cd);}}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x10d))[_0x5396e1(0x915)]('change',_0x3f9d91=>{const _0x522226=_0x5396e1,_0x1de89a=document[_0x522226(0xbd5)](_0x522226(0x18c)),_0x3eeb32=document[_0x522226(0xbd5)](_0x522226(0x63d)),_0x9151c2=document['getElementById'](_0x522226(0x7bb));_0x3f9d91[_0x522226(0x8a0)][_0x522226(0xc1a)]===_0x522226(0xa64)?_0x1de89a[_0x522226(0x8c0)][_0x522226(0x9ff)](_0x522226(0x2ee)):(_0x1de89a[_0x522226(0x8c0)][_0x522226(0x3b9)](_0x522226(0x2ee)),_0x3f9d91['target'][_0x522226(0xc1a)]===_0x522226(0x48f)?(_0x3eeb32[_0x522226(0x5e0)]='ระยะเวลา\x20(นาที):',_0x9151c2[_0x522226(0xc1a)]='10'):(_0x3eeb32[_0x522226(0x5e0)]=_0x522226(0x965),_0x9151c2[_0x522226(0xc1a)]='30'));}),document[_0x5396e1(0xbd5)](_0x5396e1(0xbc3))['addEventListener']('change',_0x351fed=>{const _0x486817=_0x5396e1,_0xe368ea=document[_0x486817(0xbd5)](_0x486817(0x471)),_0x4b8611=_0x351fed[_0x486817(0x8a0)][_0x486817(0xc1a)],_0x316c71=document[_0x486817(0x5db)](_0x486817(0x278)),_0x471f97=document['getElementById'](_0x486817(0x749)),_0x39f2ca=document['getElementById'](_0x486817(0x731));_0x4b8611===_0x486817(0x6ac)?_0x316c71[_0x486817(0x5e0)]=_0x486817(0x581):_0x316c71[_0x486817(0x5e0)]=_0x486817(0x5f4),_0x4b8611==='multiple_choice'||_0x4b8611===_0x486817(0x1bb)||_0x4b8611===_0x486817(0x708)?_0xe368ea['classList']['remove'](_0x486817(0x2ee)):_0xe368ea['classList'][_0x486817(0x9ff)](_0x486817(0x2ee)),_0x471f97[_0x486817(0x5fa)]=_0x39f2ca[_0x486817(0xc1a)];}),document['getElementById'](_0x5396e1(0x731))['addEventListener'](_0x5396e1(0x444),_0xa47cf0=>{const _0x2bb363=_0x5396e1;document['getElementById'](_0x2bb363(0x749))[_0x2bb363(0x5fa)]=_0xa47cf0['target'][_0x2bb363(0xc1a)];}),document[_0x5396e1(0xbd5)](_0x5396e1(0x143))[_0x5396e1(0x915)](_0x5396e1(0x77e),_0x1b59ab=>{const _0x457071=_0x5396e1,_0x30833c=document[_0x457071(0xbd5)](_0x457071(0x829)),_0x5d433d=document['getElementById'](_0x457071(0x4a2)),_0x697c4c=document[_0x457071(0xbd5)]('modal-timer-duration-input');_0x1b59ab[_0x457071(0x8a0)][_0x457071(0xc1a)]===_0x457071(0xa64)?_0x30833c['classList'][_0x457071(0x9ff)]('hidden'):(_0x30833c[_0x457071(0x8c0)][_0x457071(0x3b9)](_0x457071(0x2ee)),_0x1b59ab[_0x457071(0x8a0)]['value']===_0x457071(0x48f)?_0x5d433d[_0x457071(0x5e0)]=_0x457071(0x237):_0x5d433d[_0x457071(0x5e0)]=_0x457071(0x965));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x449))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x28d0ed=_0x5396e1;document[_0x28d0ed(0xbd5)](_0x28d0ed(0x43e))['classList']['add'](_0x28d0ed(0x2ee));}),document[_0x5396e1(0xbd5)]('cancel-quiz-edits-btn-footer')[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x371ea0=_0x5396e1;document[_0x371ea0(0xbd5)](_0x371ea0(0x43e))[_0x371ea0(0x8c0)][_0x371ea0(0x9ff)](_0x371ea0(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x9b0))['addEventListener'](_0x5396e1(0x98f),handleVerifyAnswersInEditor),document[_0x5396e1(0xbd5)]('save-quiz-edits-btn')['addEventListener'](_0x5396e1(0x98f),()=>{const _0x2bec3a=_0x5396e1;document[_0x2bec3a(0xbd5)](_0x2bec3a(0x43e))[_0x2bec3a(0x8c0)][_0x2bec3a(0x9ff)]('hidden'),showConfirmation(_0x2bec3a(0x4c2),handleSaveChanges);}),document['getElementById'](_0x5396e1(0xc77))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleAutoFixLatex);const _0x545422=document[_0x5396e1(0xbd5)](_0x5396e1(0xaef));_0x545422&&_0x545422[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x4679c8=>{const _0x426ea6=_0x5396e1,_0x336798=_0x4679c8[_0x426ea6(0x8a0)][_0x426ea6(0x18a)](_0x426ea6(0xb88));if(_0x336798){const _0x410664=_0x336798[_0x426ea6(0x18a)](_0x426ea6(0x80d)),_0x519fa8=parseInt(_0x410664[_0x426ea6(0x41c)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x519fa8);return;}const _0x818ad3=_0x4679c8[_0x426ea6(0x8a0)]['closest'](_0x426ea6(0x2e3));if(_0x818ad3){const _0x412756=_0x818ad3[_0x426ea6(0x18a)](_0x426ea6(0x80d)),_0x212139=parseInt(_0x412756[_0x426ea6(0x41c)][_0x426ea6(0xa0c)],0xa);handleDeleteQuestionInEditor(_0x212139);return;}const _0x408f65=_0x4679c8['target'][_0x426ea6(0x18a)](_0x426ea6(0xbf5));if(_0x408f65){handleAddQuestionInEditor();return;}});document[_0x5396e1(0xbd5)](_0x5396e1(0xc0a))[_0x5396e1(0x915)]('click',openQuizBankModal),document['getElementById'](_0x5396e1(0x60a))[_0x5396e1(0x915)]('click',()=>{const _0x1c3e16=_0x5396e1;document[_0x1c3e16(0xbd5)](_0x1c3e16(0x458))[_0x1c3e16(0x8c0)][_0x1c3e16(0x9ff)](_0x1c3e16(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0xa4c))[_0x5396e1(0x915)](_0x5396e1(0x444),_0x4c3d54=>renderQuizBankList(_0x4c3d54[_0x5396e1(0x8a0)][_0x5396e1(0xc1a)]));const _0xa37fd9=document['getElementById'](_0x5396e1(0x804));if(_0xa37fd9){let _0x1d90e0=null;_0xa37fd9[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x2ed9f0=>{const _0x1c26a9=_0x5396e1,_0x1f0e73=_0x2ed9f0[_0x1c26a9(0x8a0)],_0x4279d8=_0x1f0e73[_0x1c26a9(0x18a)]('.edit-custom-topic-btn'),_0x2f26d9=_0x1f0e73[_0x1c26a9(0x18a)](_0x1c26a9(0x696)),_0x3facb5=_0x1f0e73[_0x1c26a9(0x18a)]('.save-custom-topic-btn'),_0x46d237=_0x1f0e73[_0x1c26a9(0x18a)]('.cancel-edit-topic-btn');if(_0x2f26d9){_0x2ed9f0['preventDefault']();const _0x3bdcc9=_0x2f26d9[_0x1c26a9(0x41c)]['id'],_0xc07d48=_0x2f26d9[_0x1c26a9(0x18a)]('.group')[_0x1c26a9(0x5db)](_0x1c26a9(0x9ae))[_0x1c26a9(0x5e0)];showConfirmation(_0x1c26a9(0xa3a)+_0xc07d48+'\x22?',()=>handleDeleteCustomTopic(_0x3bdcc9));}else{if(_0x4279d8){_0x2ed9f0[_0x1c26a9(0xc15)]();_0x1d90e0&&toggleTopicEditMode(_0x1d90e0,![]);const _0x22a598=_0x4279d8[_0x1c26a9(0x18a)](_0x1c26a9(0xc55));_0x1d90e0=_0x22a598,toggleTopicEditMode(_0x22a598,!![]);}else{if(_0x3facb5){_0x2ed9f0[_0x1c26a9(0xc15)]();const _0xe59c44=_0x3facb5[_0x1c26a9(0x41c)]['id'],_0x598b21=_0x3facb5[_0x1c26a9(0x18a)](_0x1c26a9(0xc55)),_0x39dfa4=_0x598b21[_0x1c26a9(0x5db)]('.topic-name-input')['value'];handleUpdateCustomTopic(_0xe59c44,_0x39dfa4),_0x1d90e0=null;}else{if(_0x46d237){_0x2ed9f0[_0x1c26a9(0xc15)]();const _0x1bb349=_0x46d237[_0x1c26a9(0x18a)](_0x1c26a9(0xc55));toggleTopicEditMode(_0x1bb349,![]),_0x1d90e0=null;}}}}}),document[_0x5396e1(0xbd5)](_0x5396e1(0x457))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x1688d3=_0x5396e1;document[_0x1688d3(0xbd5)]('lesson-plan-modal')[_0x1688d3(0x8c0)][_0x1688d3(0x9ff)](_0x1688d3(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x78a))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x8a617f=_0x5396e1;document[_0x8a617f(0xbd5)](_0x8a617f(0x9a4))[_0x8a617f(0x8c0)][_0x8a617f(0x9ff)](_0x8a617f(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x3b0))[_0x5396e1(0x915)](_0x5396e1(0x98f),handleExportLessonPDF);}document['getElementById'](_0x5396e1(0x242))[_0x5396e1(0x915)](_0x5396e1(0x98f),()=>{const _0x5a6f78=_0x5396e1;document[_0x5a6f78(0xbd5)]('comparison-modal')[_0x5a6f78(0x8c0)][_0x5a6f78(0x9ff)](_0x5a6f78(0x2ee));}),document[_0x5396e1(0xbd5)](_0x5396e1(0x107))[_0x5396e1(0x915)]('click',()=>{const _0x501c3b=_0x5396e1;document[_0x501c3b(0xbd5)]('comparison-modal')[_0x501c3b(0x8c0)][_0x501c3b(0x9ff)](_0x501c3b(0x2ee));}),setupComparisonModalTabs(),document['body'][_0x5396e1(0x915)]('click',function(_0x21037b){const _0x470ad4=_0x5396e1;if(_0x21037b['target'][_0x470ad4(0x8c0)][_0x470ad4(0x796)]('practice-topic-btn')){const _0x24b9d8=unescape(_0x21037b[_0x470ad4(0x8a0)]['dataset'][_0x470ad4(0x6bd)]);startSkillPractice(_0x24b9d8);}}),document['getElementById'](_0x5396e1(0xa39))[_0x5396e1(0x915)](_0x5396e1(0x98f),_0x1ec76e=>{const _0x5d1baf=_0x5396e1,_0x2121ca=_0x1ec76e[_0x5d1baf(0x8a0)][_0x5d1baf(0x18a)](_0x5d1baf(0xa73));if(_0x2121ca){const _0x50c4ba=_0x2121ca[_0x5d1baf(0x41c)][_0x5d1baf(0x815)];handleDeleteSubmission(_0x50c4ba);}});}async function handleStartGroupMode(_0x5d2408,_0x19ee7d=![]){const _0x3e8b8d=_0xdd45b5,_0x4bde3f=allQuizzes[_0x3e8b8d(0x922)](_0x44b937=>_0x44b937['id']===_0x5d2408)||allQuizzesGlobal[_0x3e8b8d(0x922)](_0x3b0182=>_0x3b0182['id']===_0x5d2408);if(!_0x4bde3f){showMessage(_0x3e8b8d(0x226));return;}currentQuizData=getShuffledQuiz(_0x4bde3f);const _0x56a733=Math[_0x3e8b8d(0x28f)](0x3e8+Math[_0x3e8b8d(0xc56)]()*0x2328)[_0x3e8b8d(0x467)]();try{const _0xe303b3=await addDoc(collection(db,'artifacts/'+appId+_0x3e8b8d(0x263)),{'quizId':_0x4bde3f['id'],'projectId':_0x4bde3f[_0x3e8b8d(0xa60)],'status':_0x3e8b8d(0xb23),'pin':_0x56a733,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x19ee7d});currentTeamQuizId=_0xe303b3['id'],showView(_0x3e8b8d(0x448)),renderAdminTeamQuizDashboard(_0x56a733,_0x4bde3f['topic'],_0x3e8b8d(0x96a)),listenForTeamQuizUpdates();}catch(_0x4b286b){console[_0x3e8b8d(0x2c7)](_0x3e8b8d(0x619),_0x4b286b),showMessage(_0x3e8b8d(0x123));}}async function showStudentProgressView(){const _0x4a8e12=_0xdd45b5;studentInitialView['classList'][_0x4a8e12(0x9ff)]('hidden'),document[_0x4a8e12(0xbd5)](_0x4a8e12(0x432))[_0x4a8e12(0x8c0)]['remove']('hidden');const _0x37591b=document['getElementById'](_0x4a8e12(0xa9b)),_0x438f6a=document[_0x4a8e12(0xbd5)](_0x4a8e12(0xb10)),_0x17a90a=document['getElementById']('student-progress-content');_0x17a90a[_0x4a8e12(0x553)]=_0x4a8e12(0x3c3),_0x438f6a[_0x4a8e12(0x553)]=_0x4a8e12(0xadf),_0x438f6a[_0x4a8e12(0x256)]=!![],_0x37591b[_0x4a8e12(0x553)]=_0x4a8e12(0x3da);if(allProjects[_0x4a8e12(0x9f1)]===0x0){const _0x527a02=collection(db,_0x4a8e12(0xb4)+appId+_0x4a8e12(0x971)),_0x121361=await getDocs(_0x527a02);allProjects=_0x121361[_0x4a8e12(0x627)][_0x4a8e12(0xb43)](_0x1ee548=>({'id':_0x1ee548['id'],..._0x1ee548[_0x4a8e12(0xa1d)]()}));}const _0x421397=allProjects[_0x4a8e12(0x26c)](_0x4f34af=>_0x4f34af[_0x4a8e12(0xa10)]?.[_0x4a8e12(0x844)]!==![]);_0x421397[_0x4a8e12(0x50a)]((_0x7a310,_0x2fa345)=>_0x7a310[_0x4a8e12(0xad3)]['localeCompare'](_0x2fa345[_0x4a8e12(0xad3)],'th')),_0x37591b[_0x4a8e12(0x553)]=_0x4a8e12(0x70b)+_0x421397[_0x4a8e12(0xb43)](_0x435757=>_0x4a8e12(0xafe)+_0x435757['id']+'\x22>'+_0x435757[_0x4a8e12(0xad3)]+_0x4a8e12(0x9fc))[_0x4a8e12(0xb92)](''),_0x37591b['onchange']=()=>{const _0x4e7b36=_0x4a8e12,_0x260aa9=_0x438f6a[_0x4e7b36(0xc1a)],_0x2c42ee=_0x37591b[_0x4e7b36(0xc1a)];_0x438f6a[_0x4e7b36(0x256)]=!![],_0x438f6a[_0x4e7b36(0x553)]=_0x4e7b36(0xadf),_0x17a90a[_0x4e7b36(0x553)]=_0x4e7b36(0x423);if(!_0x2c42ee)return;const _0x5b4531=allProjects[_0x4e7b36(0x922)](_0x41509a=>_0x41509a['id']===_0x2c42ee);if(!_0x5b4531||!_0x5b4531[_0x4e7b36(0x8f4)])return;const _0x39d915=()=>{const _0x29f7f4=_0x4e7b36;_0x438f6a['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x5b4531[_0x29f7f4(0x8f4)][_0x29f7f4(0xb43)](_0x534ec5=>_0x29f7f4(0xafe)+_0x534ec5+'\x22>'+_0x534ec5+_0x29f7f4(0x9fc))[_0x29f7f4(0xb92)](''),_0x438f6a[_0x29f7f4(0x256)]=![];const _0x4cc4e3=Array[_0x29f7f4(0x4f9)](_0x438f6a[_0x29f7f4(0x996)])[_0x29f7f4(0xb43)](_0x176d20=>_0x176d20[_0x29f7f4(0xc1a)]);if(_0x260aa9&&_0x4cc4e3[_0x29f7f4(0x668)](_0x260aa9))_0x438f6a[_0x29f7f4(0xc1a)]=_0x260aa9,_0x438f6a[_0x29f7f4(0x127)](new Event(_0x29f7f4(0x77e)));else _0x5b4531[_0x29f7f4(0x8f4)][_0x29f7f4(0x9f1)]===0x1&&(_0x438f6a[_0x29f7f4(0xc1a)]=_0x5b4531[_0x29f7f4(0x8f4)][0x0],_0x438f6a[_0x29f7f4(0x127)](new Event(_0x29f7f4(0x77e))));};if(_0x5b4531['settings']?.[_0x4e7b36(0x52b)]){if(sessionStorage[_0x4e7b36(0x5fe)](_0x4e7b36(0xba8)+_0x2c42ee)===_0x4e7b36(0x332)){_0x39d915();return;}const _0x4d09b0=document['getElementById'](_0x4e7b36(0xc1)),_0x2b1bbb=document[_0x4e7b36(0xbd5)]('confirm-passcode-btn'),_0x582fa2=document[_0x4e7b36(0xbd5)](_0x4e7b36(0x785)),_0x728eab=document['getElementById'](_0x4e7b36(0x5cf)),_0xf111bb=document[_0x4e7b36(0xbd5)]('passcode-error-msg');document['getElementById'](_0x4e7b36(0x5dd))[_0x4e7b36(0x5e0)]=_0x4e7b36(0x96e)+_0x5b4531[_0x4e7b36(0xad3)],_0x728eab[_0x4e7b36(0xc1a)]='',_0xf111bb[_0x4e7b36(0x8c0)][_0x4e7b36(0x9ff)](_0x4e7b36(0x2ee)),_0x4d09b0[_0x4e7b36(0x8c0)]['remove']('hidden');const _0x4c449d=()=>{const _0x576886=_0x4e7b36,_0x29841a=_0x728eab[_0x576886(0xc1a)][_0x576886(0x7ae)]();_0x29841a===_0x5b4531[_0x576886(0xa10)][_0x576886(0x190)]?(sessionStorage['setItem'](_0x576886(0xba8)+_0x2c42ee,_0x576886(0x332)),_0x4d09b0[_0x576886(0x8c0)][_0x576886(0x9ff)](_0x576886(0x2ee)),_0x39d915(),_0x2b1bbb[_0x576886(0xd9)](_0x576886(0x98f),_0x4c449d)):_0xf111bb[_0x576886(0x8c0)][_0x576886(0x3b9)](_0x576886(0x2ee));};_0x2b1bbb[_0x4e7b36(0xcb7)]=_0x4c449d,_0x582fa2['onclick']=()=>{const _0x43d96f=_0x4e7b36;_0x4d09b0[_0x43d96f(0x8c0)][_0x43d96f(0x9ff)](_0x43d96f(0x2ee)),_0x37591b[_0x43d96f(0xc1a)]='',_0x2b1bbb['removeEventListener'](_0x43d96f(0x98f),_0x4c449d);};}else _0x39d915();},_0x438f6a[_0x4a8e12(0x3b3)]=()=>{const _0x34c5e3=_0x4a8e12,_0x52145=_0x37591b[_0x34c5e3(0xc1a)],_0x2d70a8=_0x438f6a[_0x34c5e3(0xc1a)];_0x52145&&_0x2d70a8&&renderStudentProgressDashboard(_0x52145,_0x2d70a8);};}async function confirmAndJoinSyncGame(){const _0xd7f6c3=_0xdd45b5,_0x5c3f32=Array[_0xd7f6c3(0x4f9)](document[_0xd7f6c3(0x197)]('input[name=\x22team_player\x22]:checked'))[_0xd7f6c3(0xb43)](_0x2f9a45=>_0x2f9a45[_0xd7f6c3(0xc1a)]);if(_0x5c3f32[_0xd7f6c3(0x9f1)]===0x0){showMessage(_0xd7f6c3(0xbc5));return;}localTeamPlayers=_0x5c3f32,localPlayerTurnIndex=0x0;const _0x5103f1=doc(db,_0xd7f6c3(0xb4)+appId+_0xd7f6c3(0x4ea),currentLiveGameId);try{const _0x2590c4={};_0x5c3f32[_0xd7f6c3(0x947)](_0x1cafe0=>{const _0xb372aa=_0xd7f6c3;_0x2590c4[_0xb372aa(0x115)+_0x1cafe0]={'name':_0x1cafe0,'score':0x0,'answered':![],'status':_0xb372aa(0x9b4)};}),await updateDoc(_0x5103f1,_0x2590c4),document['getElementById'](_0xd7f6c3(0x3aa))[_0xd7f6c3(0x8c0)][_0xd7f6c3(0x9ff)]('hidden'),currentStudentName=_0x5c3f32[0x0],listenForSyncGameUpdates();const _0x3a1e57={'gameId':currentLiveGameId,'mode':_0xd7f6c3(0x656),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xd7f6c3(0x5eb)]('activeGameSession',JSON[_0xd7f6c3(0xbd9)](_0x3a1e57)),currentMode!==_0xd7f6c3(0x499)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0xd7f6c3(0x2bd),handleFullscreenChange),document[_0xd7f6c3(0x915)](_0xd7f6c3(0x9e0),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0xd7f6c3(0x568),resetDimTimer),window[_0xd7f6c3(0x915)]('mousedown',resetDimTimer),window[_0xd7f6c3(0x915)](_0xd7f6c3(0x31e),resetDimTimer),window['addEventListener'](_0xd7f6c3(0x90e),resetDimTimer),resetDimTimer());}catch(_0x2e565d){console[_0xd7f6c3(0x2c7)](_0xd7f6c3(0x486),_0x2e565d),showMessage(_0xd7f6c3(0x6fd));}}async function resumeActiveGameSession(){const _0x2125f8=_0xdd45b5,_0x66bf41=sessionStorage['getItem']('activeGameSession');if(!_0x66bf41)return;const _0x2d5def=JSON[_0x2125f8(0x837)](_0x66bf41),{gameId:_0xaf723,mode:_0x55e224,players:_0x413f2c,turnIndex:_0x1ec114}=_0x2d5def;try{let _0x1b9f16,_0x15c0cd;_0x55e224===_0x2125f8(0x656)?_0x1b9f16=doc(db,_0x2125f8(0xb4)+appId+_0x2125f8(0x4ea),_0xaf723):_0x1b9f16=doc(db,_0x2125f8(0xb4)+appId+_0x2125f8(0x263),_0xaf723);_0x15c0cd=await getDoc(_0x1b9f16);if(!_0x15c0cd[_0x2125f8(0x935)]()||_0x15c0cd['data']()[_0x2125f8(0x56c)]===_0x2125f8(0x350)||_0x15c0cd['data']()[_0x2125f8(0x56c)]===_0x2125f8(0xa9e)){sessionStorage['removeItem'](_0x2125f8(0x346));return;}console[_0x2125f8(0x3b7)]('กำลังกลับเข้าสู่เกม\x20'+_0x55e224+_0x2125f8(0x47c)+_0xaf723+')'),localTeamPlayers=_0x413f2c,localPlayerTurnIndex=_0x1ec114;if(_0x55e224===_0x2125f8(0x656))currentLiveGameId=_0xaf723,currentStudentName=_0x413f2c[0x0],showView(_0x2125f8(0x448)),listenForSyncGameUpdates();else{currentTeamQuizId=_0xaf723;const _0x147299=_0x15c0cd[_0x2125f8(0xa1d)](),_0x44fe38=doc(db,_0x2125f8(0xb4)+appId+_0x2125f8(0xcba),_0x147299['quizId']),_0x2896cc=await getDoc(_0x44fe38);_0x2896cc[_0x2125f8(0x935)]()&&(currentQuizData=getShuffledQuiz({'id':_0x2896cc['id'],..._0x2896cc[_0x2125f8(0xa1d)]()}),showView('student'),studentInitialView[_0x2125f8(0x8c0)]['add'](_0x2125f8(0x2ee)),renderTeamQuizQuestion());}}catch(_0x2730e3){console[_0x2125f8(0x2c7)](_0x2125f8(0xe5),_0x2730e3),sessionStorage['removeItem'](_0x2125f8(0x346));}}function activateFileInputAreaWithLoadedFile(){const _0x454cfc=_0xdd45b5,_0x5ee775=document[_0x454cfc(0xbd5)](_0x454cfc(0xc58)),_0x24b68b=document[_0x454cfc(0xbd5)](_0x454cfc(0x755)),_0x2fedad=document[_0x454cfc(0xbd5)]('separate-by-content-from-file-checkbox');selectedFile?_0x2fedad[_0x454cfc(0x674)]?(_0x5ee775[_0x454cfc(0x256)]=!![],analyzeFileForTopics(selectedFile)):(_0x5ee775[_0x454cfc(0x256)]=![],_0x24b68b[_0x454cfc(0x8c0)][_0x454cfc(0x9ff)](_0x454cfc(0x2ee))):(_0x5ee775[_0x454cfc(0x256)]=!![],_0x24b68b['classList'][_0x454cfc(0x9ff)](_0x454cfc(0x2ee)));}async function handleKickPlayerSync(_0x569ce9){const _0x27d03f=_0xdd45b5;if(!currentLiveGameId||!_0x569ce9)return;const _0x49d1e8=doc(db,_0x27d03f(0xb4)+appId+_0x27d03f(0x4ea),currentLiveGameId),_0x14beea={};_0x14beea[_0x27d03f(0x115)+_0x569ce9+_0x27d03f(0x53b)]='inactive';try{await updateDoc(_0x49d1e8,_0x14beea);}catch(_0x5d5f18){console['error'](_0x27d03f(0xcb0)+_0x569ce9+_0x27d03f(0x774),_0x5d5f18),showMessage(_0x27d03f(0x887));}}async function renderStudentProgressDashboard(_0x3a0d10,_0x45e4de){const _0x50b6b7=_0xdd45b5,_0x214060=document[_0x50b6b7(0xbd5)](_0x50b6b7(0x869));_0x214060[_0x50b6b7(0x553)]=_0x50b6b7(0xa30);try{const _0x1c4a90=collection(db,_0x50b6b7(0xb4)+appId+_0x50b6b7(0xcba)),_0x4b0ca1=query(_0x1c4a90,where(_0x50b6b7(0xa60),'==',_0x3a0d10)),_0x43d194=await getDocs(_0x4b0ca1),_0x3a7ee2=_0x43d194['docs'][_0x50b6b7(0xb43)](_0x326371=>({'id':_0x326371['id'],..._0x326371[_0x50b6b7(0xa1d)]()})),_0x471d06=_0x3a7ee2[_0x50b6b7(0xb43)](_0x4fc026=>getDoc(doc(db,_0x50b6b7(0xb4)+appId+_0x50b6b7(0x9aa)+_0x4fc026['id']+_0x50b6b7(0x67f),_0x45e4de))),_0x24e821=await Promise[_0x50b6b7(0x906)](_0x471d06),_0x2b57a7=_0x24e821[_0x50b6b7(0x26c)](_0x17531d=>_0x17531d['exists']())[_0x50b6b7(0xb43)](_0x89547e=>({'quizId':_0x89547e[_0x50b6b7(0x4d9)][_0x50b6b7(0xd4)][_0x50b6b7(0xd4)]['id'],..._0x89547e[_0x50b6b7(0xa1d)]()}));if(_0x2b57a7[_0x50b6b7(0x9f1)]===0x0){_0x214060[_0x50b6b7(0x553)]=_0x50b6b7(0x35e);return;}let _0x48d4af=_0x50b6b7(0x2bb);_0x2b57a7['forEach'](_0x50cb37=>{const _0x1b42de=_0x50b6b7,_0x4e297d=_0x3a7ee2[_0x1b42de(0x922)](_0x104f4e=>_0x104f4e['id']===_0x50cb37[_0x1b42de(0x559)]),_0x1df4cb=_0x4e297d[_0x1b42de(0xa10)]?.[_0x1b42de(0x134)]||'show_results_and_answers',_0x49894e=_0x4e297d[_0x1b42de(0xa10)]?.[_0x1b42de(0xa00)]??0x0,_0x2327a1=_0x50cb37['bestScore']>=_0x49894e;let _0xc4f2ac='',_0x1d85fa='bg-gray-50';switch(_0x1df4cb){case _0x1b42de(0x2e2):case _0x1b42de(0xc97):_0x1d85fa=_0x2327a1?_0x1b42de(0x642):_0x1b42de(0x646),_0xc4f2ac=_0x1b42de(0x476)+(_0x2327a1?_0x1b42de(0xbdf):_0x1b42de(0xa86))+'\x22>'+_0x50cb37[_0x1b42de(0x712)]+_0x1b42de(0xa8b)+_0x50cb37[_0x1b42de(0xc4f)]+_0x1b42de(0x406)+(_0x2327a1?_0x1b42de(0x4e2):_0x1b42de(0x9ee))+'\x22>'+(_0x2327a1?_0x1b42de(0xc08):_0x1b42de(0x739))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1b42de(0x33c):_0x1d85fa=_0x2327a1?_0x1b42de(0x642):_0x1b42de(0x646),_0xc4f2ac=_0x1b42de(0x49a)+(_0x2327a1?_0x1b42de(0x4e2):_0x1b42de(0x9ee))+'\x22>'+(_0x2327a1?_0x1b42de(0xc08):_0x1b42de(0x739))+_0x1b42de(0x9b1);break;case _0x1b42de(0xb60):_0x1d85fa=_0x1b42de(0x27a),_0xc4f2ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x48d4af+=_0x1b42de(0x920)+_0x1d85fa+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x4e297d['topic']+_0x1b42de(0xa88)+_0x50cb37[_0x1b42de(0x2aa)][_0x1b42de(0x9f1)]+_0x1b42de(0x51f)+new Date(_0x50cb37['latestSubmittedAt'])[_0x1b42de(0x427)]('th-TH')+_0x1b42de(0x779)+_0xc4f2ac+_0x1b42de(0x1a0);}),_0x48d4af+='</div>',_0x214060[_0x50b6b7(0x553)]=_0x48d4af;}catch(_0x1f9b10){console[_0x50b6b7(0x2c7)](_0x50b6b7(0x1ab),_0x1f9b10),_0x214060[_0x50b6b7(0x553)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x1b72f1=''){const _0x766337=_0xdd45b5,_0x462541=document[_0x766337(0xbd5)]('bank-quiz-list'),_0x1281d8=_0x1b72f1['toLowerCase']()[_0x766337(0x7ae)](),_0x5868a0=allQuizzesGlobal[_0x766337(0xb43)](_0x2d24ac=>({..._0x2d24ac,'projectName':allProjects[_0x766337(0x922)](_0x4cca2e=>_0x4cca2e['id']===_0x2d24ac[_0x766337(0xa60)])?.[_0x766337(0xad3)]||_0x766337(0xba7)}))[_0x766337(0x26c)](_0x1980ba=>(_0x1980ba['topic']||'')[_0x766337(0x1a5)]()[_0x766337(0x668)](_0x1281d8)||(_0x1980ba[_0x766337(0xad3)]||'')[_0x766337(0x1a5)]()['includes'](_0x1281d8)||_0x1980ba['id'][_0x766337(0x467)]()[_0x766337(0x668)](_0x1281d8));_0x462541[_0x766337(0x553)]=_0x5868a0['length']?_0x5868a0[_0x766337(0xb43)](_0x816290=>_0x766337(0xac7)+_0x816290['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x816290['topic']||_0x766337(0x12d))+_0x766337(0xa36)+_0x816290[_0x766337(0xad3)]+_0x766337(0x376)+_0x816290['id']+_0x766337(0x4ba))[_0x766337(0xb92)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x462541['onchange']=()=>{const _0x278030=_0x766337,_0x14f98a=document['querySelector'](_0x278030(0x3c5));document[_0x278030(0xbd5)](_0x278030(0x905))['disabled']=!_0x14f98a;};}function setupStudentProgressListeners(){const _0x5eae16=_0xdd45b5;document[_0x5eae16(0xbd5)](_0x5eae16(0x911))[_0x5eae16(0x915)](_0x5eae16(0x98f),showStudentProgressView),document['getElementById']('back-to-student-home-btn')['addEventListener']('click',()=>{const _0xdc3515=_0x5eae16;document[_0xdc3515(0xbd5)](_0xdc3515(0x432))[_0xdc3515(0x8c0)]['add'](_0xdc3515(0x2ee)),document[_0xdc3515(0xbd5)](_0xdc3515(0x265))[_0xdc3515(0x8c0)][_0xdc3515(0x3b9)](_0xdc3515(0x2ee));});}async function startSkillPractice(_0x45204e){const _0x3b5c2d=_0xdd45b5;studentResultArea[_0x3b5c2d(0x8c0)][_0x3b5c2d(0x9ff)](_0x3b5c2d(0x2ee)),studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x3b5c2d(0x8c0)][_0x3b5c2d(0x3b9)](_0x3b5c2d(0x2ee));try{const _0x2c061d=await getStandardizedTopic(_0x45204e);console['log'](_0x3b5c2d(0x1f5)+_0x45204e+_0x3b5c2d(0x998)+_0x2c061d+'\x22'),studentQuizArea[_0x3b5c2d(0x5db)]('p')[_0x3b5c2d(0x5e0)]=_0x3b5c2d(0x28b)+_0x2c061d+_0x3b5c2d(0x1c4);const _0x41b6fa=collection(db,_0x3b5c2d(0xb4)+appId+_0x3b5c2d(0x1f4)),_0x2ee810=query(_0x41b6fa,where(_0x3b5c2d(0x6bd),'==',_0x2c061d)),_0x448e5f=await getDocs(_0x2ee810);if(_0x448e5f[_0x3b5c2d(0x627)][_0x3b5c2d(0x9f1)]>=0x3){console['log'](_0x3b5c2d(0xa8a)+_0x448e5f[_0x3b5c2d(0x627)][_0x3b5c2d(0x9f1)]+_0x3b5c2d(0x924)+_0x2c061d+_0x3b5c2d(0x381));let _0x5ba729=_0x448e5f[_0x3b5c2d(0x627)][_0x3b5c2d(0xb43)](_0x5e5681=>_0x5e5681[_0x3b5c2d(0xa1d)]());shuffleArray(_0x5ba729);const _0x4a9fdd={'topic':_0x2c061d,'questions':_0x5ba729[_0x3b5c2d(0xbb3)](0x0,0x3)};displaySkillPracticeDrill(_0x4a9fdd);}else{console['log'](_0x3b5c2d(0x441)+_0x2c061d+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x28465a=await generatePracticeQuestions(_0x2c061d);await saveDrillToPracticeBank(_0x28465a,_0x2c061d),displaySkillPracticeDrill(_0x28465a);}}catch(_0x5e4cea){console[_0x3b5c2d(0x2c7)](_0x3b5c2d(0x925),_0x5e4cea),showMessage(_0x3b5c2d(0x1db)),studentQuizArea['classList'][_0x3b5c2d(0x9ff)]('hidden'),studentResultArea[_0x3b5c2d(0x8c0)][_0x3b5c2d(0x3b9)]('hidden');}}async function saveDrillToPracticeBank(_0x4a0c31,_0x359dd2){const _0x5059ab=_0xdd45b5,_0x1c0005=collection(db,_0x5059ab(0xb4)+appId+_0x5059ab(0x1f4)),_0x49b609=writeBatch(db);_0x4a0c31[_0x5059ab(0x69e)][_0x5059ab(0x947)](_0x355fb7=>{const _0x30294c=_0x5059ab,_0x43c5f4=doc(_0x1c0005);_0x49b609[_0x30294c(0x4bb)](_0x43c5f4,{'topic':_0x359dd2,'questionText':_0x355fb7['questionText'],'options':_0x355fb7[_0x30294c(0x996)],'correctAnswerIndex':_0x355fb7['correctAnswerIndex'],'explanation':_0x355fb7['explanation'],'createdAt':serverTimestamp()});});try{await _0x49b609['commit'](),console['log'](_0x5059ab(0x3df)+_0x4a0c31['questions'][_0x5059ab(0x9f1)]+_0x5059ab(0x361));}catch(_0x5d4dee){console[_0x5059ab(0x2c7)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x5d4dee);}}async function getStandardizedTopic(_0x242760){const _0x5152a1=_0xdd45b5,_0x320b64=_0x5152a1(0x1d9)+_0x242760+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x4329a1={'type':_0x5152a1(0x207),'properties':{'standardTopic':{'type':_0x5152a1(0xc85)}},'required':[_0x5152a1(0x7c2)]};try{const _0x20a783=await callAnalysisApi(_0x320b64,_0x4329a1);return _0x20a783['standardTopic'];}catch(_0x5652f0){return console[_0x5152a1(0x2c7)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x5652f0),_0x242760;}}async function handleGenerateEasyVersionQuiz(_0x30e73f){const _0x38fe32=_0xdd45b5,_0x43e48d=document['getElementById'](_0x38fe32(0x665)),_0x679bf8=document[_0x38fe32(0xbd5)]('project-quizzes-list');_0x679bf8['classList']['add'](_0x38fe32(0x2ee));const _0x4fd27b=_0x38fe32(0x13b);_0x43e48d[_0x38fe32(0x71e)](_0x38fe32(0x2ba),_0x4fd27b);try{const _0x354f03=allQuizzes['find'](_0x3ddd40=>_0x3ddd40['id']===_0x30e73f);if(!_0x354f03)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x130972=_0x38fe32(0x8ca)+JSON[_0x38fe32(0xbd9)](_0x354f03[_0x38fe32(0x69e)])+_0x38fe32(0x751),_0x369ccd={'type':_0x38fe32(0x207),'properties':{'questionText':{'type':_0x38fe32(0xc85)},'questionType':{'type':_0x38fe32(0xc85)},'options':{'type':_0x38fe32(0xbb1),'items':{'type':_0x38fe32(0xc85)}},'correctAnswerIndex':{'type':_0x38fe32(0x51e)},'idealAnswer':{'type':_0x38fe32(0xc85)},'explanation':{'type':_0x38fe32(0xc85)},'imageCode':{'type':_0x38fe32(0xc85)}},'required':[_0x38fe32(0x72b),_0x38fe32(0x40c),'explanation']},_0x2e255e={'type':_0x38fe32(0x207),'properties':{'questions':{'type':_0x38fe32(0xbb1),'items':_0x369ccd}},'required':['questions']},_0xc22d4d=await callAnalysisApi(_0x130972,_0x2e255e);_0xc22d4d&&_0xc22d4d[_0x38fe32(0x69e)]&&_0xc22d4d[_0x38fe32(0x69e)][_0x38fe32(0x947)](_0x18c85e=>{const _0x3f2cc5=_0x38fe32;if(_0x18c85e[_0x3f2cc5(0xaec)](_0x3f2cc5(0x1a9))){const _0x363d93=String(_0x18c85e[_0x3f2cc5(0x1a9)])[_0x3f2cc5(0x7ae)]();(_0x363d93===''||_0x363d93[_0x3f2cc5(0x1a5)]()===_0x3f2cc5(0xa43)||!_0x363d93[_0x3f2cc5(0x511)]('<svg'))&&delete _0x18c85e[_0x3f2cc5(0x1a9)];}});if(!_0xc22d4d||!_0xc22d4d[_0x38fe32(0x69e)]||_0xc22d4d[_0x38fe32(0x69e)]['length']===0x0)throw new Error(_0x38fe32(0x6e6));const _0x111f69=_0xc22d4d[_0x38fe32(0x69e)]['map']((_0x13baa7,_0x56dc6b)=>({..._0x13baa7,'id':'q_'+Date['now']()+'_'+_0x56dc6b})),_0x53d8c1={'projectId':_0x354f03[_0x38fe32(0xa60)],'quizType':_0x354f03[_0x38fe32(0x51a)],'settings':_0x354f03['settings'],'createdBy':_0x354f03['createdBy'],'status':_0x38fe32(0x9b4),'topic':'(ฉบับง่าย)\x20'+_0x354f03[_0x38fe32(0x6bd)],'questions':_0x111f69,'createdAt':new Date()[_0x38fe32(0x8a9)](),'quizMode':'standard','pairedQuizId':null};let _0x2f518d;while(!![]){_0x2f518d=Math[_0x38fe32(0x28f)](0x3e8+Math['random']()*0x2328)['toString']();const _0xbc8cef=await getDoc(doc(db,'artifacts/'+appId+_0x38fe32(0xcba),_0x2f518d));if(!_0xbc8cef[_0x38fe32(0x935)]())break;}await setDoc(doc(db,_0x38fe32(0xb4)+appId+'/public/data/quizzes',_0x2f518d),_0x53d8c1),showMessage(_0x38fe32(0x8ff));}catch(_0x59aeea){console[_0x38fe32(0x2c7)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x59aeea),showMessage(_0x38fe32(0x5b1)+_0x59aeea[_0x38fe32(0x700)]);}finally{const _0x4baba6=document[_0x38fe32(0xbd5)]('temp-loader-results');_0x4baba6&&_0x4baba6['remove'](),_0x679bf8[_0x38fe32(0x8c0)][_0x38fe32(0x3b9)](_0x38fe32(0x2ee));}}async function generatePracticeQuestions(_0x4eb259){const _0x183ad4=_0xdd45b5,_0x3ed392=_0x183ad4(0xa46)+_0x4eb259+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x183ad4(0x680),_0xf8452={'type':'OBJECT','properties':{'questionText':{'type':_0x183ad4(0xc85)},'options':{'type':_0x183ad4(0xbb1),'items':{'type':_0x183ad4(0xc85)}},'correctAnswerIndex':{'type':_0x183ad4(0x51e)},'explanation':{'type':_0x183ad4(0xc85)}},'required':[_0x183ad4(0x72b),_0x183ad4(0x996),_0x183ad4(0x51c),_0x183ad4(0x32a)]},_0x2b83a3={'type':_0x183ad4(0x207),'properties':{'topic':{'type':_0x183ad4(0xc85)},'questions':{'type':_0x183ad4(0xbb1),'items':_0xf8452}},'required':[_0x183ad4(0x6bd),_0x183ad4(0x69e)]};return await callAnalysisApi(_0x3ed392,_0x2b83a3);}function displayLessonPlan(_0xc6d2e2,_0x116c3a){const _0x2bce95=_0xdd45b5,_0x623e0f=_0x2bce95(0x7a7)+_0x116c3a[_0x2bce95(0x6bd)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0xc6d2e2['learningGaps']['map'](_0x202a26=>'<li>'+_0x202a26+'</li>')[_0x2bce95(0xb92)]('')+_0x2bce95(0x393)+_0xc6d2e2['teachingContent']+_0x2bce95(0x22f)+_0xc6d2e2[_0x2bce95(0x57e)][_0x2bce95(0xb43)](_0x20f584=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x20f584[_0x2bce95(0x8fd)]+_0x2bce95(0x6f1)+_0x20f584[_0x2bce95(0x573)]+_0x2bce95(0xb47))[_0x2bce95(0xb92)]('')+_0x2bce95(0x5f2);document[_0x2bce95(0xbd5)]('lesson-plan-title')[_0x2bce95(0x5e0)]='แผนการสอน:\x20'+_0x116c3a[_0x2bce95(0x6bd)],document['getElementById'](_0x2bce95(0xa2b))[_0x2bce95(0x553)]=_0x623e0f,document[_0x2bce95(0xbd5)](_0x2bce95(0x9a4))[_0x2bce95(0x8c0)][_0x2bce95(0x3b9)](_0x2bce95(0x2ee));if(window[_0x2bce95(0x9dd)])MathJax[_0x2bce95(0x679)]();}function displaySkillPracticeDrill(_0x46a076){const _0x51e6e0=_0xdd45b5;let _0x5aa026=0x0;const _0x31a5a5=_0x46a076[_0x51e6e0(0x69e)],_0x724025=()=>{const _0x4a2f60=_0x51e6e0,_0x3a9af7=_0x31a5a5[_0x5aa026],_0x1978f3=_0x4a2f60(0xaff)+(_0x5aa026+0x1)+'\x20/\x20'+_0x31a5a5[_0x4a2f60(0x9f1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x3a9af7[_0x4a2f60(0x72b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a9af7[_0x4a2f60(0x996)][_0x4a2f60(0xb43)]((_0x4bf07a,_0x471801)=>_0x4a2f60(0x399)+_0x471801+_0x4a2f60(0x11b)+_0x471801+_0x4a2f60(0x622)+_0x471801+'\x22>'+_0x4bf07a+_0x4a2f60(0x85e))[_0x4a2f60(0xb92)]('')+_0x4a2f60(0x60e);studentQuizArea[_0x4a2f60(0x553)]=_0x1978f3;if(window[_0x4a2f60(0x9dd)])MathJax[_0x4a2f60(0x679)]([studentQuizArea]);document[_0x4a2f60(0xbd5)]('hint-btn')['addEventListener'](_0x4a2f60(0x98f),async()=>{const _0x40cb1a=_0x4a2f60,_0x413122=await getHintForQuestion(_0x3a9af7[_0x40cb1a(0x72b)]);showMessage(_0x413122);}),document['getElementById'](_0x4a2f60(0xe9))[_0x4a2f60(0x915)](_0x4a2f60(0x98f),()=>{const _0x34f812=_0x4a2f60,_0x25ea30=document[_0x34f812(0x5db)](_0x34f812(0x185));if(!_0x25ea30){showMessage(_0x34f812(0x2be));return;}const _0x2ef272=document[_0x34f812(0xbd5)]('drill-feedback'),_0x301fbe=parseInt(_0x25ea30[_0x34f812(0xc1a)])===_0x3a9af7[_0x34f812(0x51c)];_0x301fbe?(_0x2ef272['className']='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x2ef272['innerHTML']='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x3a9af7[_0x34f812(0x32a)]):(_0x2ef272[_0x34f812(0xce)]=_0x34f812(0x9c9),_0x2ef272[_0x34f812(0x553)]=_0x34f812(0x5d3)+_0x3a9af7[_0x34f812(0x32a)]);_0x2ef272[_0x34f812(0x8c0)]['remove'](_0x34f812(0x2ee));if(window[_0x34f812(0x9dd)])MathJax[_0x34f812(0x679)]([_0x2ef272]);document[_0x34f812(0xbd5)](_0x34f812(0xe9))[_0x34f812(0x8c0)][_0x34f812(0x9ff)](_0x34f812(0x2ee)),document[_0x34f812(0xbd5)](_0x34f812(0x52d))[_0x34f812(0x8c0)][_0x34f812(0x9ff)]('hidden'),document[_0x34f812(0xbd5)](_0x34f812(0x6e4))[_0x34f812(0x8c0)][_0x34f812(0x3b9)]('hidden');}),document[_0x4a2f60(0xbd5)]('next-drill-btn')[_0x4a2f60(0x915)](_0x4a2f60(0x98f),()=>{const _0x291565=_0x4a2f60;_0x5aa026++,_0x5aa026<_0x31a5a5[_0x291565(0x9f1)]?_0x724025():(studentQuizArea[_0x291565(0x553)]=_0x291565(0x411),document[_0x291565(0xbd5)](_0x291565(0x9a7))[_0x291565(0x915)](_0x291565(0x98f),()=>{const _0x33c218=_0x291565;studentQuizArea['classList'][_0x33c218(0x9ff)](_0x33c218(0x2ee)),studentResultArea[_0x33c218(0x8c0)][_0x33c218(0x3b9)](_0x33c218(0x2ee));}));});};_0x724025();}async function getHintForQuestion(_0x9b26e1){const _0x1c1b31=_0xdd45b5,_0x522c1c=_0x1c1b31(0x89b)+_0x9b26e1+_0x1c1b31(0x434),_0x3e292a={'type':_0x1c1b31(0x207),'properties':{'hint':{'type':_0x1c1b31(0xc85)}},'required':[_0x1c1b31(0xb06)]};try{const _0x1c704c=await callAnalysisApi(_0x522c1c,_0x3e292a);return _0x1c704c['hint'];}catch(_0x5b7ef0){return console[_0x1c1b31(0x2c7)](_0x1c1b31(0xc5f),_0x5b7ef0),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x542d53){const _0x1bab02=_0xdd45b5;pdfjsLib['GlobalWorkerOptions']['workerSrc']=_0x1bab02(0x6f0);const _0x1da434=await _0x542d53[_0x1bab02(0x40f)](),_0x3076f8=await pdfjsLib[_0x1bab02(0x336)](_0x1da434)[_0x1bab02(0x8a4)],_0x1e05ac=_0x3076f8[_0x1bab02(0x687)];let _0x59d9f7='';for(let _0x305981=0x1;_0x305981<=_0x1e05ac;_0x305981++){const _0xbb4038=await _0x3076f8['getPage'](_0x305981),_0xec0833=await _0xbb4038[_0x1bab02(0x964)](),_0x408707=_0xec0833['items'][_0x1bab02(0xb43)](_0x3e07ba=>_0x3e07ba[_0x1bab02(0xa48)])[_0x1bab02(0xb92)]('\x20');_0x59d9f7+=_0x408707+'\x0a\x0a';}return _0x59d9f7;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x1648e7){const _0x3ce7aa=_0xdd45b5,_0x12bc52=document[_0x3ce7aa(0xbd5)]('blueprint-options-container'),_0x50c3fe=document[_0x3ce7aa(0xbd5)](_0x3ce7aa(0x6f3)),_0x44cf86=document[_0x3ce7aa(0xbd5)](_0x3ce7aa(0xb24));_0x12bc52['classList'][_0x3ce7aa(0x3b9)](_0x3ce7aa(0x2ee)),_0x50c3fe['innerHTML']=_0x3ce7aa(0xc6b),_0x44cf86[_0x3ce7aa(0x8c0)][_0x3ce7aa(0x9ff)](_0x3ce7aa(0x2ee));try{const _0x36851e=_0x3ce7aa(0xb4b)+_0x1648e7+_0x3ce7aa(0xae2),_0x5f50f1={'type':_0x3ce7aa(0x207),'properties':{'gradeLevel':{'type':_0x3ce7aa(0xc85)},'curriculum':{'type':_0x3ce7aa(0xbb1),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x3ce7aa(0xc85)},'mainTopics':{'type':'ARRAY','items':{'type':_0x3ce7aa(0x207),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x3ce7aa(0xbb1),'items':{'type':_0x3ce7aa(0xc85)}}},'required':[_0x3ce7aa(0x87b),_0x3ce7aa(0xb97)]}}},'required':['sara','mainTopics']}}},'required':[_0x3ce7aa(0x3c8),_0x3ce7aa(0x272)]},_0x302a66=await callAnalysisApi(_0x36851e,_0x5f50f1);if(_0x302a66&&_0x302a66[_0x3ce7aa(0x272)])extractedBlueprintData=_0x302a66,renderBlueprintTopics(_0x302a66),_0x44cf86[_0x3ce7aa(0x8c0)]['remove']('hidden');else throw new Error(_0x3ce7aa(0xbc9));}catch(_0x4e4ce3){console[_0x3ce7aa(0x2c7)](_0x3ce7aa(0xb0e),_0x4e4ce3),_0x50c3fe[_0x3ce7aa(0x553)]=_0x3ce7aa(0x73e);}}function renderBlueprintTopics(_0x292dfb){const _0x1a5e8a=_0xdd45b5,_0x164d38=document[_0x1a5e8a(0xbd5)](_0x1a5e8a(0x6f3)),_0x1db8f9=_0x292dfb['gradeLevel'],_0x2fee85=_0x1a5e8a(0xcad)+_0x1db8f9+_0x1a5e8a(0xa91);let _0x257bcd='';_0x292dfb['curriculum']['forEach'](_0x5a7b92=>{const _0x22f2d9=_0x1a5e8a;_0x257bcd+=_0x22f2d9(0x9d9)+_0x5a7b92[_0x22f2d9(0xb1)]+_0x22f2d9(0xc8f),_0x5a7b92['mainTopics'][_0x22f2d9(0x947)](_0x27add3=>{const _0x4cab61=_0x22f2d9;_0x257bcd+=_0x4cab61(0x11a)+_0x27add3[_0x4cab61(0x87b)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x27add3[_0x4cab61(0xb97)][_0x4cab61(0x947)](_0x3548c1=>{const _0x5e0464=_0x4cab61;_0x257bcd+=_0x5e0464(0xb09)+_0x3548c1['replace'](/'/g,'\x5c\x27')+_0x5e0464(0x5ff)+_0x1db8f9['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x3548c1+_0x5e0464(0xafb)+_0x3548c1['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x257bcd+=_0x4cab61(0x450);}),_0x257bcd+=_0x22f2d9(0x969);}),_0x164d38['innerHTML']=_0x2fee85+_0x257bcd;}async function handleGenerateTeachingContent(_0x5d0a4b){const _0x4c7b3b=_0xdd45b5,_0xf9ab08=document[_0x4c7b3b(0xbd5)](_0x4c7b3b(0x9a4)),_0x4fe301=document[_0x4c7b3b(0xbd5)]('lesson-plan-content');document[_0x4c7b3b(0xbd5)](_0x4c7b3b(0xbf9))[_0x4c7b3b(0x5e0)]=_0x4c7b3b(0xf1)+_0x5d0a4b,_0x4fe301['innerHTML']=_0x4c7b3b(0xc04),_0xf9ab08[_0x4c7b3b(0x8c0)][_0x4c7b3b(0x3b9)](_0x4c7b3b(0x2ee));try{const _0x478bef=_0x4c7b3b(0xc8)+_0x5d0a4b+_0x4c7b3b(0x3d1),_0x5ac6f2={'type':_0x4c7b3b(0x207),'properties':{'keyConcepts':{'type':_0x4c7b3b(0xbb1),'items':{'type':_0x4c7b3b(0xc85)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x4c7b3b(0xc85)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x4c7b3b(0x207),'properties':{'question':{'type':_0x4c7b3b(0xc85)},'solution':{'type':_0x4c7b3b(0xc85)}},'required':[_0x4c7b3b(0x8fd),'solution']}},'teacherTips':{'type':_0x4c7b3b(0xbb1),'items':{'type':_0x4c7b3b(0xc85)}}},'required':[_0x4c7b3b(0x735),_0x4c7b3b(0x830),_0x4c7b3b(0xc07),'teacherTips']},_0x15e699=await callAnalysisApi(_0x478bef,_0x5ac6f2);displayTeachingContent(_0x15e699,_0x5d0a4b);}catch(_0x5d21f0){console[_0x4c7b3b(0x2c7)](_0x4c7b3b(0xa85),_0x5d21f0),_0x4fe301['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x5d21f0['message']+_0x4c7b3b(0x57f);}}function displayTeachingContent(_0x56574f,_0x1be3e5){const _0x10a71f=_0xdd45b5,_0x2a2f39=document[_0x10a71f(0xbd5)](_0x10a71f(0xa2b));document[_0x10a71f(0xbd5)](_0x10a71f(0xbf9))[_0x10a71f(0x5e0)]=_0x10a71f(0x68e)+_0x1be3e5;const _0x21764b=_0x10a71f(0x27f)+_0x56574f[_0x10a71f(0x735)][_0x10a71f(0xb43)](_0x3e8981=>'<li>'+_0x3e8981+_0x10a71f(0x1b5))[_0x10a71f(0xb92)]('')+_0x10a71f(0xaad)+_0x56574f[_0x10a71f(0x830)][_0x10a71f(0xb43)](_0x1d4463=>_0x10a71f(0x558)+_0x1d4463+_0x10a71f(0x1b5))['join']('')+_0x10a71f(0x30e)+_0x56574f[_0x10a71f(0xc07)][_0x10a71f(0xb43)](_0x2c553a=>_0x10a71f(0xbf1)+_0x2c553a[_0x10a71f(0x8fd)]+_0x10a71f(0xca5)+_0x2c553a['solution']+_0x10a71f(0x3ee))[_0x10a71f(0xb92)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x56574f[_0x10a71f(0xc4c)][_0x10a71f(0xb43)](_0x51d9a7=>_0x10a71f(0x558)+_0x51d9a7+_0x10a71f(0x1b5))[_0x10a71f(0xb92)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2a2f39[_0x10a71f(0x553)]=_0x21764b;if(window[_0x10a71f(0x9dd)])MathJax['typesetPromise']([_0x2a2f39]);}async function generateQuizForSingleTopic(_0x122c72){const _0x34aa11=_0xdd45b5;console[_0x34aa11(0x3b7)](_0x34aa11(0x701)+_0x122c72+'\x22');const _0x60b512=document[_0x34aa11(0xbd5)](_0x34aa11(0xbeb)),_0x45f83a=_0x60b512[_0x34aa11(0xbd2)][_0x34aa11(0x9f1)]>0x0?_0x60b512[_0x34aa11(0xbd2)][0x0]:null;let _0x2a7f6a=null;if(_0x45f83a)try{const _0x4931c9=new FileReader();_0x4931c9[_0x34aa11(0x7aa)](_0x45f83a);const _0x326657=await new Promise((_0x532957,_0x325c2d)=>{const _0x234baa=_0x34aa11;_0x4931c9[_0x234baa(0xbcc)]=()=>_0x532957(_0x4931c9[_0x234baa(0x2f3)][_0x234baa(0xa21)](',')[0x1]),_0x4931c9[_0x234baa(0x3b4)]=_0x23fe23=>_0x325c2d(_0x23fe23);});_0x2a7f6a=[{'inlineData':{'mimeType':_0x45f83a['type'],'data':_0x326657}}];}catch(_0x4ae3ae){console[_0x34aa11(0x2c7)](_0x34aa11(0x3ed),_0x4ae3ae),showMessage(_0x34aa11(0x703));return;}generateQuiz(_0x122c72,null,null,_0x2a7f6a,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x9bace=null){const _0x168563=_0xdd45b5,_0x6d1c58=document[_0x168563(0xbd5)](_0x168563(0xa42)),_0xe747e6=document['getElementById'](_0x168563(0xa56));let _0x4bdce2,_0x37c21a=[];if(_0x9bace)_0x4bdce2=_0x9bace,_0x37c21a=_0x4bdce2[_0x168563(0xbb3)](0x2);else{const _0x43c6fb=document[_0x168563(0xbd5)](_0x168563(0x602)),_0x3f958c=document[_0x168563(0xbd5)](_0x168563(0xbeb)),_0xeaa914=_0x43c6fb[_0x168563(0xbd2)][0x0];if(!_0xeaa914){showMessage(_0x168563(0xa24));return;}_0xe747e6[_0x168563(0x5e0)]=_0x168563(0xae7);const _0xfa3895=await new Promise((_0x4b1362,_0x1b7fc3)=>{const _0x56d204=_0x168563,_0x222a50=new FileReader();_0x222a50['readAsDataURL'](_0xeaa914),_0x222a50[_0x56d204(0xbcc)]=()=>_0x4b1362(_0x222a50[_0x56d204(0x2f3)][_0x56d204(0xa21)](',')[0x1]),_0x222a50[_0x56d204(0x3b4)]=_0x1b7fc3;});_0x4bdce2=[{'text':_0x168563(0x737)},{'inlineData':{'mimeType':_0xeaa914[_0x168563(0x886)],'data':_0xfa3895}}];if(_0x3f958c[_0x168563(0xbd2)][_0x168563(0x9f1)]>0x0){const _0x30c38b=_0x3f958c[_0x168563(0xbd2)][0x0];_0xe747e6[_0x168563(0x5e0)]=_0x168563(0x587);const _0x4d1a50=await new Promise((_0x25f2a4,_0x4af76c)=>{const _0x4e2a9e=_0x168563,_0x15c5e7=new FileReader();_0x15c5e7['readAsDataURL'](_0x30c38b),_0x15c5e7['onload']=()=>_0x25f2a4(_0x15c5e7[_0x4e2a9e(0x2f3)][_0x4e2a9e(0xa21)](',')[0x1]),_0x15c5e7['onerror']=_0x4af76c;}),_0x26d53f={'inlineData':{'mimeType':_0x30c38b[_0x168563(0x886)],'data':_0x4d1a50}};_0x4bdce2[_0x168563(0x12e)](_0x26d53f),_0x37c21a[_0x168563(0x12e)](_0x26d53f);}}const _0x5bc98c=_0x168563(0x3e3),_0x454681=_0x168563(0x151);let _0x52ac71='';_0x37c21a&&_0x37c21a[_0x168563(0x9f1)]>0x0?_0x52ac71=_0x5bc98c:_0x52ac71=_0x454681;const _0xcb0143=_0x168563(0x8cd)+_0x52ac71+_0x168563(0xa2f),_0x1b0bb4={'type':_0x168563(0x207),'properties':{'questionText':{'type':_0x168563(0xc85)},'questionType':{'type':_0x168563(0xc85),'enum':[_0x168563(0xad4),_0x168563(0x5ed),_0x168563(0xa62),'matching_item']},'options':{'type':_0x168563(0xbb1),'items':{'type':_0x168563(0xc85)}},'correctAnswerIndex':{'type':_0x168563(0x51e)},'idealAnswer':{'type':_0x168563(0xc85)},'correctAnswer':{'type':_0x168563(0x6d6)},'explanation':{'type':_0x168563(0xc85)},'imageCode':{'type':_0x168563(0xc85)}},'required':[_0x168563(0x40c),'explanation']},_0x26abfa={'type':_0x168563(0x207),'properties':{'topic':{'type':_0x168563(0xc85)},'questions':{'type':_0x168563(0xbb1),'items':_0x1b0bb4}},'required':[_0x168563(0x6bd),_0x168563(0x69e)]};_0x4bdce2[0x0][_0x168563(0xaba)]=_0xcb0143,await handleApiCall(_0x4bdce2,_0x168563(0x491),_0x26abfa);}function _0x39cc(_0x3bd9e4,_0x446503){const _0x2f11c9=_0x2f11();return _0x39cc=function(_0x39cc51,_0x167d69){_0x39cc51=_0x39cc51-0x9b;let _0x2427ff=_0x2f11c9[_0x39cc51];return _0x2427ff;},_0x39cc(_0x3bd9e4,_0x446503);}function proceedToNextQuestion(_0xbe1a71){const _0x237dcf=_0xdd45b5;studentAnswersPerQuestion[_0x237dcf(0x12e)](_0xbe1a71),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x12619e,_0x4cad9f,_0x38f059){const _0x2ec804=_0xdd45b5,_0x28418d=Object[_0x2ec804(0x3bb)](_0x12619e[_0x2ec804(0xa96)]||{}),_0x47300a=_0x28418d[_0x2ec804(0x9f1)],_0x397c71=[..._0x28418d][_0x2ec804(0x50a)]((_0xf90fbd,_0x4e1253)=>_0x4e1253['score']-_0xf90fbd[_0x2ec804(0x9e7)]),_0x4dc3cc=_0x38f059,_0x416af6=_0x12619e[_0x2ec804(0xb86)]||_0x2ec804(0x942),_0x439884=_0x416af6==='anonymous'&&_0x12619e['isAnonymousRevealed']===![];let _0x197d9b='';const _0x353595=_0x12619e['shuffledQuiz']['questions'],_0x822120=_0x353595[_0x4dc3cc],_0xbc4f9=_0x5dd66d=>String[_0x2ec804(0xb96)](0x41+_0x5dd66d);if(_0x822120&&!_0x439884){let _0x11ebad='',_0x3df3cd='';const _0x340157=_0x822120['questionType']||_0x12619e['shuffledQuiz']['quizType'];if(_0x340157==='multiple_choice'&&_0x822120[_0x2ec804(0x996)]&&_0x822120[_0x2ec804(0x51c)]!==undefined){const _0x3f0eb3=_0x822120['correctAnswerIndex'];_0x11ebad=_0x822120[_0x2ec804(0x996)][_0x3f0eb3],_0x3df3cd=_0xbc4f9(_0x3f0eb3)+'.';}else{if(_0x340157===_0x2ec804(0xa62)){const _0x3396db=_0x822120[_0x2ec804(0xa7d)]===!![]||String(_0x822120[_0x2ec804(0xa7d)])['toLowerCase']()===_0x2ec804(0x332);_0x3396db?(_0x11ebad=_0x2ec804(0x298),_0x3df3cd='ก.'):(_0x11ebad='ไม่ใช่\x20/\x20ผิด',_0x3df3cd='ข.');}else{if(_0x340157===_0x2ec804(0xc6))_0x11ebad=_0x822120[_0x2ec804(0xc67)]||'-',_0x3df3cd='';else _0x340157===_0x2ec804(0x5ed)&&(_0x11ebad=_0x822120[_0x2ec804(0x24b)]||'-',_0x3df3cd='');}}_0x11ebad&&(_0x197d9b=_0x2ec804(0x4aa)+(_0x4dc3cc+0x1)+_0x2ec804(0xb26)+_0x3df3cd+'\x20'+_0x11ebad+_0x2ec804(0x8b2));}const _0x58924b=_0x397c71[_0x2ec804(0xb43)](_0x3eef54=>{const _0x569562=_0x2ec804;let _0x3975e1=_0x3eef54['score'];if(_0x416af6===_0x569562(0x702)){const _0x81ea0b=(_0x3eef54[_0x569562(0xb1b)]||[])[_0x569562(0x26c)](_0x2e0ea4=>_0x2e0ea4[_0x569562(0x31b)]<=_0x4dc3cc);_0x3975e1=_0x81ea0b[_0x569562(0x26c)](_0x4e36f6=>_0x4e36f6[_0x569562(0x66b)])[_0x569562(0x9f1)];}const _0x5c3fd0=(_0x3eef54['answers']||[])[_0x569562(0x922)](_0xa35096=>_0xa35096['questionIndex']===_0x4dc3cc),_0x2b11d8=_0x5c3fd0?_0x5c3fd0[_0x569562(0x66b)]:![],_0x81c9b1=_0x5c3fd0?_0x5c3fd0[_0x569562(0x238)]===!![]||_0x5c3fd0[_0x569562(0x238)]===_0x569562(0x5a1):![];let _0x19653f='';if(_0x81c9b1&&_0x2b11d8)_0x19653f=_0x569562(0x801);else{if(_0x81c9b1&&!_0x2b11d8)_0x19653f='bg-[#EF4444]\x20text-white\x20font-bold';else!_0x81c9b1&&_0x2b11d8?_0x19653f=_0x569562(0x6d3):_0x19653f='bg-black/20';}const _0x26d41c=_0x439884?_0x12619e[_0x569562(0xc21)][_0x3eef54[_0x569562(0x8aa)]]||_0x569562(0x2e9):_0x3eef54[_0x569562(0x8aa)];return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x19653f+'\x22><span>'+_0x26d41c+_0x569562(0x1be)+_0x3975e1+'\x20คะแนน</span></div>';})[_0x2ec804(0xb92)](''),_0x26c251=_0x353595['map']((_0x41f4c3,_0xfbfb1e)=>{const _0x1ff3ba=_0x2ec804;if(_0x416af6===_0x1ff3ba(0x702)&&_0xfbfb1e>_0x4dc3cc)return'';const _0x432c00=_0x28418d[_0x1ff3ba(0x26c)](_0x4005bf=>_0x4005bf[_0x1ff3ba(0xb1b)]&&_0x4005bf['answers'][_0x1ff3ba(0x922)](_0x355bef=>_0x355bef['questionIndex']===_0xfbfb1e&&_0x355bef[_0x1ff3ba(0x66b)]))[_0x1ff3ba(0x9f1)],_0xb26ed8=_0xfbfb1e===_0x4dc3cc,_0x20218f=_0xb26ed8?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x1ff3ba(0xc37);return _0x1ff3ba(0x1d1)+_0x20218f+_0x1ff3ba(0xba0)+(_0xfbfb1e+0x1)+_0x1ff3ba(0x941)+_0x432c00+_0x1ff3ba(0xa8b)+_0x47300a+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0xc354db='',_0x63be22='';if(_0x4cad9f){const _0x4c4530=_0x416af6===_0x2ec804(0x942)&&_0x12619e['currentQuestionIndex']>=_0x353595[_0x2ec804(0x9f1)]-0x1,_0x18cc4=_0x416af6==='reveal_at_end'&&_0x12619e[_0x2ec804(0x146)]>=_0x353595[_0x2ec804(0x9f1)]-0x1,_0x266f8a=_0x416af6===_0x2ec804(0x571)&&_0x12619e['currentQuestionIndex']>=_0x353595[_0x2ec804(0x9f1)]-0x1;_0x4c4530||_0x18cc4||_0x266f8a?_0x416af6===_0x2ec804(0x571)&&_0x12619e[_0x2ec804(0x378)]===![]?_0xc354db=_0x2ec804(0x24d):_0xc354db=_0x2ec804(0xa12):_0xc354db=_0x2ec804(0xc4),_0x63be22=_0x2ec804(0x63b);}const _0x1b425e=_0x2ec804(0x9dc)+_0x12619e[_0x2ec804(0x109)][_0x2ec804(0x6bd)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x63be22+_0x2ec804(0xbc7)+_0x197d9b+_0x2ec804(0xac2)+(_0x58924b||_0x2ec804(0x770))+_0x2ec804(0x838)+_0x26c251+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4cad9f?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0xc354db+_0x2ec804(0x969):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2ec804(0x553)]=_0x1b425e;if(window['MathJax']){const _0x28f525=document['getElementById'](_0x2ec804(0x8c4));_0x28f525&&MathJax['typesetPromise']([_0x28f525]);}if(_0x4cad9f){document[_0x2ec804(0xbd5)]('next-sync-question-btn')['onclick']=async()=>{const _0xe23294=_0x2ec804,_0x368b5a=doc(db,_0xe23294(0xb4)+appId+'/public/data/syncGames',currentLiveGameId),_0x4d7987=_0x416af6==='classic'&&_0x12619e[_0xe23294(0x180)]>=_0x353595[_0xe23294(0x9f1)]-0x1,_0x17c148=_0x416af6===_0xe23294(0x702)&&_0x12619e['reviewQuestionIndex']>=_0x353595[_0xe23294(0x9f1)]-0x1,_0x1f4840=_0x416af6==='anonymous'&&_0x12619e[_0xe23294(0x180)]>=_0x353595['length']-0x1;if(_0x416af6==='reveal_at_end')!_0x17c148?await updateDoc(_0x368b5a,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x368b5a,{'status':_0xe23294(0xa9e)});else{if(!_0x4d7987&&!_0x1f4840){const _0x3c41a7=_0x12619e[_0xe23294(0x180)]+0x1,_0x32f604={};Object[_0xe23294(0x2df)](_0x12619e[_0xe23294(0xa96)])[_0xe23294(0x947)](_0x12696d=>{const _0x1fb5a2=_0xe23294;_0x32f604[_0x1fb5a2(0x115)+_0x12696d+_0x1fb5a2(0x9f5)]=![],_0x32f604[_0x1fb5a2(0x115)+_0x12696d+_0x1fb5a2(0x132)]=null;}),await updateDoc(_0x368b5a,{..._0x32f604,'status':'question','currentQuestionIndex':_0x3c41a7,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x368b5a,{'status':_0xe23294(0xa9e)});}},document[_0x2ec804(0xbd5)](_0x2ec804(0x313))?.[_0x2ec804(0x915)](_0x2ec804(0x98f),async()=>{const _0x5781f7=_0x2ec804,_0xf272ea=doc(db,'artifacts/'+appId+_0x5781f7(0x4ea),currentLiveGameId);await updateDoc(_0xf272ea,{'isAnonymousRevealed':!![]});});const _0x39722e=document[_0x2ec804(0xbd5)](_0x2ec804(0x86a));_0x39722e&&(_0x39722e[_0x2ec804(0xcb7)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x3de5ec=_0x39cc,_0x440e7c=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x440e7c,{'status':_0x3de5ec(0xa9e)});});});}}async function handleGenerateParallelFromBank(_0x522f84){const _0x55d046=_0xdd45b5,_0xd6c9e1=document[_0x55d046(0xbd5)](_0x55d046(0x665)),_0x275ede=document[_0x55d046(0xbd5)](_0x55d046(0x4ee));_0x275ede[_0x55d046(0x8c0)][_0x55d046(0x9ff)](_0x55d046(0x2ee));const _0x4e02e5=_0x55d046(0x9de)+_0x522f84[_0x55d046(0x6bd)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xd6c9e1[_0x55d046(0x71e)](_0x55d046(0x2ba),_0x4e02e5);const _0xff4c94=document[_0x55d046(0xbd5)](_0x55d046(0x1fe));try{const _0x256f6e=_0x522f84[_0x55d046(0x69e)]['map']((_0x5de196,_0x5d68a3)=>{const _0x57fc7a=_0x55d046;let _0x56ba80=_0x5d68a3+0x1+'.\x20'+(_0x5de196[_0x57fc7a(0x72b)]||_0x5de196[_0x57fc7a(0xbb0)])+'\x0a';if(_0x5de196['options'])_0x56ba80+=_0x5de196[_0x57fc7a(0x996)][_0x57fc7a(0xb43)]((_0x49b26a,_0x6b3ef3)=>_0x57fc7a(0x337)+(_0x6b3ef3===_0x5de196[_0x57fc7a(0x51c)]?'[*]':'')+'\x20'+_0x49b26a)['join']('\x0a');else _0x5de196['idealAnswer']&&(_0x56ba80+=_0x57fc7a(0x5ec)+_0x5de196[_0x57fc7a(0x24b)]);return _0x56ba80;})[_0x55d046(0xb92)]('\x0a\x0a');_0xff4c94[_0x55d046(0x5e0)]=_0x55d046(0xab8);const _0x8c3cea=_0x55d046(0x625)+_0x522f84['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x256f6e+_0x55d046(0x327)+simpleMathPrompt+_0x55d046(0x5cc),_0x3d18b2={'type':_0x55d046(0x207),'properties':{'questionText':{'type':_0x55d046(0xc85)},'questionType':{'type':_0x55d046(0xc85),'enum':['multiple_choice',_0x55d046(0x5ed),_0x55d046(0xa62),'matching_item']},'options':{'type':_0x55d046(0xbb1),'items':{'type':_0x55d046(0xc85)}},'correctAnswerIndex':{'type':_0x55d046(0x51e)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x55d046(0x6d6)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x55d046(0xbb1),'items':{'type':_0x55d046(0xc85)}},'explanation':{'type':_0x55d046(0xc85)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x55d046(0x32a)]},_0x58d582={'type':_0x55d046(0x207),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x3d18b2}},'required':[_0x55d046(0x6bd),_0x55d046(0x69e)]},_0x2b79d0=await callAnalysisApi(_0x8c3cea,_0x58d582),_0x20e323=_0x2b79d0[_0x55d046(0x69e)][_0x55d046(0xb43)]((_0x5a8d47,_0x5e6630)=>({..._0x5a8d47,'id':'q_'+Date[_0x55d046(0x435)]()+'_'+_0x5e6630})),_0x2c7963=_0x55d046(0x51b)+_0x522f84[_0x55d046(0x6bd)],_0x2243a0={'topic':_0x2c7963,'questions':_0x20e323,'quizType':_0x522f84['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x55d046(0x8a9)](),'status':'active','settings':_0x522f84[_0x55d046(0xa10)],'quizMode':_0x55d046(0x544),'pairedQuizId':null,'lessonPlan':null};let _0x9e8e4a;while(!![]){_0x9e8e4a=Math[_0x55d046(0x28f)](0x3e8+Math[_0x55d046(0xc56)]()*0x2328)[_0x55d046(0x467)]();const _0x5303a5=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x9e8e4a));if(!_0x5303a5[_0x55d046(0x935)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x55d046(0xcba),_0x9e8e4a),_0x2243a0),showMessage(_0x55d046(0x597));}catch(_0x2d1ca6){console[_0x55d046(0x2c7)](_0x55d046(0x83a),_0x2d1ca6),showMessage(_0x55d046(0x5b1)+_0x2d1ca6[_0x55d046(0x700)]);}finally{const _0x4ef205=document[_0x55d046(0xbd5)](_0x55d046(0x273));_0x4ef205&&_0x4ef205[_0x55d046(0x3b9)](),_0x275ede['classList'][_0x55d046(0x3b9)](_0x55d046(0x2ee));}}async function handleGenerateParallelPostTest(_0x1e053f){const _0x34ba6c=_0xdd45b5,_0x1fa821=document[_0x34ba6c(0xbd5)]('results-tab-content'),_0x5f58d4=document[_0x34ba6c(0xbd5)](_0x34ba6c(0x4ee));_0x5f58d4['classList'][_0x34ba6c(0x9ff)](_0x34ba6c(0x2ee));const _0x1fc988=_0x34ba6c(0x814);_0x1fa821['insertAdjacentHTML']('beforeend',_0x1fc988);try{const _0x8b4dc0=_0x1e053f[_0x34ba6c(0x69e)][_0x34ba6c(0xb43)]((_0xab3f0d,_0xfd24e0)=>{const _0x3ab864=_0x34ba6c;let _0x45169=_0xfd24e0+0x1+'.\x20'+(_0xab3f0d[_0x3ab864(0x72b)]||_0xab3f0d[_0x3ab864(0xbb0)]);if(_0xab3f0d[_0x3ab864(0x996)])_0x45169+=_0x3ab864(0x5c1)+_0xab3f0d[_0x3ab864(0x996)]['join'](',\x20');return _0x45169;})[_0x34ba6c(0xb92)]('\x0a\x0a'),_0x3bc4b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x1e053f[_0x34ba6c(0x6bd)]+_0x34ba6c(0x484)+_0x8b4dc0+_0x34ba6c(0xa55)+simpleMathPrompt+_0x34ba6c(0x5cc),_0x2502b6={'type':_0x34ba6c(0x207),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x34ba6c(0x207),'properties':{'questionText':{'type':_0x34ba6c(0xc85)},'questionType':{'type':_0x34ba6c(0xc85)},'options':{'type':'ARRAY','items':{'type':_0x34ba6c(0xc85)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x34ba6c(0x72b),_0x34ba6c(0x32a)]}}},'required':[_0x34ba6c(0x6bd),_0x34ba6c(0x69e)]},_0x386bdd=await callAnalysisApi(_0x3bc4b2,_0x2502b6),_0x383f58=_0x1e053f[_0x34ba6c(0x6bd)][_0x34ba6c(0x3fa)]('(ก่อนเรียน)','')[_0x34ba6c(0x7ae)](),_0x38b31c=_0x34ba6c(0xb79)+_0x383f58,_0x347db2={..._0x386bdd,'topic':_0x38b31c,'quizType':_0x1e053f[_0x34ba6c(0x51a)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x34ba6c(0x8a9)](),'status':_0x34ba6c(0x9b4),'settings':_0x1e053f[_0x34ba6c(0xa10)],'quizMode':_0x34ba6c(0xb05),'pairedQuizId':_0x1e053f['id']};let _0x1e501e;while(!![]){_0x1e501e=Math[_0x34ba6c(0x28f)](0x3e8+Math['random']()*0x2328)[_0x34ba6c(0x467)]();const _0x24f368=await getDoc(doc(db,_0x34ba6c(0xb4)+appId+_0x34ba6c(0xcba),_0x1e501e));if(!_0x24f368['exists']())break;}await setDoc(doc(db,_0x34ba6c(0xb4)+appId+_0x34ba6c(0xcba),_0x1e501e),_0x347db2);const _0x2aa9e2=doc(db,'artifacts/'+appId+_0x34ba6c(0xcba),_0x1e053f['id']);await updateDoc(_0x2aa9e2,{'pairedQuizId':_0x1e501e}),showMessage(_0x34ba6c(0xb55));}catch(_0x5bb039){console['error'](_0x34ba6c(0xbb4),_0x5bb039),showMessage(_0x34ba6c(0x5b1)+_0x5bb039[_0x34ba6c(0x700)]);}finally{const _0x15959b=document[_0x34ba6c(0xbd5)]('temp-loader-results');if(_0x15959b)_0x15959b[_0x34ba6c(0x3b9)]();_0x5f58d4[_0x34ba6c(0x8c0)][_0x34ba6c(0x3b9)]('hidden');}}async function handleGenerateParallelTest(_0x26ee11=null){const _0x2b664f=_0xdd45b5;let _0x5671f2=_0x26ee11;if(!_0x5671f2){const _0xc43e9c=document[_0x2b664f(0xbd5)](_0x2b664f(0xae3));_0xc43e9c[_0x2b664f(0xbd2)][_0x2b664f(0x9f1)]>0x0&&(_0x5671f2=_0xc43e9c['files'][0x0]);}if(!_0x5671f2){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x395c7b=document['getElementById'](_0x2b664f(0xa42)),_0x209a5c=document[_0x2b664f(0xbd5)](_0x2b664f(0xa56)),_0x2dc804=document[_0x2b664f(0xbd5)](_0x2b664f(0x32b)),_0x10bd37=document[_0x2b664f(0xbd5)](_0x2b664f(0x62b));_0x10bd37[_0x2b664f(0x256)]=!![],document[_0x2b664f(0xbd5)](_0x2b664f(0xc4e))[_0x2b664f(0x8c0)][_0x2b664f(0x3b9)](_0x2b664f(0x2ee)),_0x2dc804['innerHTML']='',_0x395c7b[_0x2b664f(0x8c0)][_0x2b664f(0x3b9)](_0x2b664f(0x2ee)),_0x209a5c[_0x2b664f(0x5e0)]=_0x2b664f(0x19f);const _0x564bfa=new FileReader();_0x564bfa['readAsDataURL'](_0x5671f2),_0x564bfa[_0x2b664f(0xbcc)]=async()=>{const _0xe3e425=_0x2b664f;try{const _0x8cca72=_0x564bfa[_0xe3e425(0x2f3)]['split'](',')[0x1],_0x29141a=_0x5671f2[_0xe3e425(0x886)];_0x209a5c[_0xe3e425(0x5e0)]=_0xe3e425(0x4e7);const _0x3b1abf=document[_0xe3e425(0xbd5)](_0xe3e425(0x17f))[_0xe3e425(0x674)],_0x2804f1=_0x3b1abf?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x5afc5b=_0xe3e425(0x111),_0x2e0b4b={'type':_0xe3e425(0x207),'properties':{'questionText':{'type':_0xe3e425(0xc85)},'questionType':{'type':'STRING','enum':['multiple_choice',_0xe3e425(0x5ed)]},'options':{'type':'ARRAY','items':{'type':_0xe3e425(0xc85)}},'correctAnswerIndex':{'type':_0xe3e425(0x51e)},'idealAnswer':{'type':_0xe3e425(0xc85)},'explanation':{'type':_0xe3e425(0xc85)},'imageCode':{'type':_0xe3e425(0xc85)}},'required':[_0xe3e425(0x72b),_0xe3e425(0x40c),'explanation']},_0x35afa1={'type':_0xe3e425(0x207),'properties':{'topic':{'type':_0xe3e425(0xc85)},'questions':{'type':'ARRAY','items':_0x2e0b4b}},'required':['topic',_0xe3e425(0x69e)]},_0x5269fd=[{'text':_0x5afc5b},{'inlineData':{'mimeType':_0x29141a,'data':_0x8cca72}}];await handleApiCall(_0x5269fd,_0xe3e425(0xbdb),_0x35afa1);}catch(_0x33a60c){console[_0xe3e425(0x2c7)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x33a60c),showMessage(_0xe3e425(0x5b1)+_0x33a60c[_0xe3e425(0x700)]),_0x2dc804[_0xe3e425(0x553)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x395c7b[_0xe3e425(0x8c0)][_0xe3e425(0x9ff)](_0xe3e425(0x2ee)),_0x10bd37[_0xe3e425(0x256)]=![];}},_0x564bfa[_0x2b664f(0x3b4)]=_0x5f03b7=>{const _0x519aa8=_0x2b664f;console['error']('FileReader\x20error:',_0x5f03b7),showMessage(_0x519aa8(0x26d)),_0x395c7b[_0x519aa8(0x8c0)][_0x519aa8(0x9ff)](_0x519aa8(0x2ee)),_0x10bd37[_0x519aa8(0x256)]=![];};}async function handleRegenerateQuestionInEditor(_0x58dc69){const _0x1babc4=_0xdd45b5;if(currentEditingQuizData===null)return;const _0x2ee491=document[_0x1babc4(0x5db)](_0x1babc4(0x3c7)+_0x58dc69+'\x22]');_0x2ee491&&(_0x2ee491[_0x1babc4(0x553)]=_0x1babc4(0xa22));const _0x1e79ba=currentEditingQuizData[_0x1babc4(0x69e)][_0x58dc69],_0x5c1db4=currentEditingQuizData[_0x1babc4(0x6bd)],_0x8bdfa3=_0x1e79ba[_0x1babc4(0x40c)],_0x53d16c={'type':_0x1babc4(0x207),'properties':{'questionText':{'type':_0x1babc4(0xc85)},'options':{'type':_0x1babc4(0xbb1),'items':{'type':_0x1babc4(0xc85)}},'correctAnswerIndex':{'type':_0x1babc4(0x51e)},'explanation':{'type':'STRING'}},'required':[_0x1babc4(0x72b),'options','correctAnswerIndex',_0x1babc4(0x32a)]},_0x4e8413={'type':_0x1babc4(0x207),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1babc4(0xc85)},'explanation':{'type':_0x1babc4(0xc85)}},'required':['questionText',_0x1babc4(0x24b),_0x1babc4(0x32a)]};let _0x34ff2d,_0x547447='';_0x8bdfa3===_0x1babc4(0xad4)?(_0x34ff2d=_0x53d16c,_0x547447=_0x1babc4(0x342)):(_0x34ff2d=_0x4e8413,_0x547447='แบบเติมคำตอบ');const _0x5b1ee7=_0x1babc4(0x7cc)+_0x5c1db4+_0x1babc4(0x380)+_0x547447+_0x1babc4(0x468)+(_0x1e79ba['questionText']||_0x1e79ba[_0x1babc4(0xbb0)])+_0x1babc4(0xa05)+simpleMathPrompt;try{const _0xd8eeca=await callAnalysisApi(_0x5b1ee7,_0x34ff2d);currentEditingQuizData[_0x1babc4(0x69e)][_0x58dc69]={..._0x1e79ba,..._0xd8eeca},renderQuizEditor(currentEditingQuizData);}catch(_0xeb3a96){console[_0x1babc4(0x2c7)](_0x1babc4(0x251),_0xeb3a96),showMessage(_0x1babc4(0xc14)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x178985=_0xdd45b5,_0x3ad9d8=document[_0x178985(0xbd5)]('mode-switcher-btn');currentMode===_0x178985(0xc69)?(currentMode=_0x178985(0xba1),_0x3ad9d8['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x3ad9d8[_0x178985(0xba9)]=_0x178985(0x5fc),showView(_0x178985(0x76b))):(currentMode=_0x178985(0xc69),_0x3ad9d8[_0x178985(0x553)]=_0x178985(0xc11),_0x3ad9d8[_0x178985(0xba9)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x484ee4=_0xdd45b5,_0x2ba87e=document[_0x484ee4(0xbd5)]('admin-password-input'),_0x4354dd=document[_0x484ee4(0xbd5)](_0x484ee4(0x2ab));if(_0x2ba87e[_0x484ee4(0xc1a)]==='27411472'){adminPasswordModal[_0x484ee4(0x8c0)][_0x484ee4(0x9ff)](_0x484ee4(0x2ee)),_0x2ba87e[_0x484ee4(0xc1a)]='',_0x4354dd[_0x484ee4(0x8c0)][_0x484ee4(0x9ff)](_0x484ee4(0x2ee)),currentMode=_0x484ee4(0xba1);const _0x25ca7e=document[_0x484ee4(0xbd5)](_0x484ee4(0xc9b));_0x25ca7e[_0x484ee4(0x553)]=_0x484ee4(0xb0c),_0x25ca7e['title']=_0x484ee4(0x5fc),showView('admin-dashboard');}else _0x4354dd['classList'][_0x484ee4(0x3b9)](_0x484ee4(0x2ee)),_0x2ba87e[_0x484ee4(0xc1a)]='';}function switchProjectTab(_0x131199){const _0x5d59ac=_0xdd45b5;['manage',_0x5d59ac(0xb41),_0x5d59ac(0x79c)][_0x5d59ac(0x947)](_0x11eacf=>{const _0xcfa793=_0x5d59ac;document[_0xcfa793(0xbd5)](_0x11eacf+_0xcfa793(0x64e))['classList'][_0xcfa793(0x3b9)]('active'),document[_0xcfa793(0xbd5)](_0x11eacf+_0xcfa793(0x817))[_0xcfa793(0x8c0)][_0xcfa793(0x9ff)]('hidden');}),document['getElementById'](_0x131199+_0x5d59ac(0x64e))['classList'][_0x5d59ac(0x9ff)](_0x5d59ac(0x9b4)),document[_0x5d59ac(0xbd5)](_0x131199+_0x5d59ac(0x817))['classList']['remove']('hidden');}function switchQuizDetailTab(_0x3a7f28){const _0x521e69=_0xdd45b5,_0xe086f6={'analytics':{'btn':_0x521e69(0x79f),'content':_0x521e69(0x951)},'scores':{'btn':_0x521e69(0x2ef),'content':_0x521e69(0xa39)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x521e69(0xc6c)},'behavior-log':{'btn':_0x521e69(0x14f),'content':'behavior-log-tab-content'}};for(const _0x41cbe2 in _0xe086f6){document[_0x521e69(0xbd5)](_0xe086f6[_0x41cbe2][_0x521e69(0x383)])['classList']['remove'](_0x521e69(0x9b4)),document[_0x521e69(0xbd5)](_0xe086f6[_0x41cbe2]['content'])[_0x521e69(0x8c0)]['add'](_0x521e69(0x2ee));}document[_0x521e69(0xbd5)](_0xe086f6[_0x3a7f28][_0x521e69(0x383)])[_0x521e69(0x8c0)][_0x521e69(0x9ff)](_0x521e69(0x9b4)),document['getElementById'](_0xe086f6[_0x3a7f28]['content'])[_0x521e69(0x8c0)]['remove']('hidden');}function showMessage(_0x311b7c,_0x57f4e0=null){const _0x1e05d9=_0xdd45b5;modalMessage[_0x1e05d9(0x5e0)]=_0x311b7c,modalConfirmAction=_0x57f4e0,messageModal['classList']['remove'](_0x1e05d9(0x2ee));}function showConfirmation(_0x286ef2,_0x3e0ee0){const _0x5c61df=_0xdd45b5;document[_0x5c61df(0xbd5)](_0x5c61df(0xa92))[_0x5c61df(0x5e0)]=_0x286ef2,document[_0x5c61df(0xbd5)]('confirmation-modal')['querySelector']('h3')[_0x5c61df(0x5e0)]=_0x5c61df(0x29d),confirmAction=_0x3e0ee0,confirmationModal['classList'][_0x5c61df(0x3b9)](_0x5c61df(0x2ee));}function listenForProjects(){const _0x5823fd=_0xdd45b5,_0x2c217f=doc(db,_0x5823fd(0x222),_0x5823fd(0x34b));onSnapshot(_0x2c217f,_0x112131=>{const _0x5306ef=_0x5823fd;if(_0x112131[_0x5306ef(0x935)]()){const _0x94f4e8=_0x112131[_0x5306ef(0xa1d)]();globalDashboardSettings[_0x5306ef(0x182)]=_0x94f4e8[_0x5306ef(0x182)]||'date_desc',globalDashboardSettings['pinnedProjects']=_0x94f4e8[_0x5306ef(0x630)]||[],globalDashboardSettings[_0x5306ef(0x495)]=_0x94f4e8['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x3e726d=collection(db,_0x5823fd(0xb4)+appId+_0x5823fd(0x971));unsubscribeProjectsListener=onSnapshot(_0x3e726d,_0x17e5c5=>{const _0x27c01b=_0x5823fd;allProjects=_0x17e5c5[_0x27c01b(0x627)][_0x27c01b(0xb43)](_0x4d42c5=>({'id':_0x4d42c5['id'],..._0x4d42c5[_0x27c01b(0xa1d)]()})),renderProjects();},_0x49e7d4=>{const _0x48c56d=_0x5823fd;console[_0x48c56d(0x2c7)]('Error\x20listening\x20for\x20projects:',_0x49e7d4),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x58acbd,_0x30baec){const _0x2a5b79=_0xdd45b5;document[_0x2a5b79(0x197)]('.color-palette-popup')[_0x2a5b79(0x947)](_0x20e71f=>_0x20e71f[_0x2a5b79(0x3b9)]());const _0x4b5548=[_0x2a5b79(0x268),_0x2a5b79(0x4d4),'#FEF3C7',_0x2a5b79(0x864),_0x2a5b79(0x212),_0x2a5b79(0x56e),_0x2a5b79(0xa63),'#FCE7F3','#E5E7EB'],_0x268b19=document[_0x2a5b79(0x26f)](_0x2a5b79(0xb02));_0x268b19[_0x2a5b79(0xce)]=_0x2a5b79(0x4ce),_0x4b5548[_0x2a5b79(0x947)](_0x44b8ed=>{const _0x339fa0=_0x2a5b79,_0x438c3a=document[_0x339fa0(0x26f)](_0x339fa0(0xb02));_0x438c3a[_0x339fa0(0xce)]=_0x339fa0(0x859),_0x438c3a[_0x339fa0(0x125)][_0x339fa0(0xc30)]=_0x44b8ed,_0x438c3a[_0x339fa0(0x915)](_0x339fa0(0x98f),()=>{const _0x4078da=_0x339fa0;handleProjectColorChange(_0x30baec,_0x44b8ed),_0x268b19[_0x4078da(0x3b9)]();}),_0x268b19[_0x339fa0(0x78c)](_0x438c3a);}),document[_0x2a5b79(0x594)][_0x2a5b79(0x78c)](_0x268b19);const _0x3616ff=_0x58acbd[_0x2a5b79(0xc54)]();_0x268b19[_0x2a5b79(0x125)]['top']=_0x3616ff[_0x2a5b79(0xa69)]+window[_0x2a5b79(0xa13)]+'px',_0x268b19[_0x2a5b79(0x125)][_0x2a5b79(0x945)]=_0x3616ff[_0x2a5b79(0x945)]+window['scrollX']-_0x268b19[_0x2a5b79(0x271)]/0x2+'px';}async function handleProjectColorChange(_0x12d6a7,_0x2fcef0){const _0xd97a0f=_0xdd45b5,_0xdf94e2=doc(db,_0xd97a0f(0xb4)+appId+_0xd97a0f(0x971),_0x12d6a7);try{await updateDoc(_0xdf94e2,{'color':_0x2fcef0});}catch(_0x25e00b){console['error'](_0xd97a0f(0x4ff),_0x25e00b),showMessage(_0xd97a0f(0x5df));}}async function renderProjects(){const _0x6a656a=_0xdd45b5,_0x349183=globalDashboardSettings[_0x6a656a(0x182)]||_0x6a656a(0xb29),_0x19aa8c=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x13a58e=globalDashboardSettings['projectView']||_0x6a656a(0x722),_0x286dd6=document['getElementById'](_0x6a656a(0x1ba)),_0x3ac713=document['getElementById'](_0x6a656a(0x39c));_0x286dd6[_0x6a656a(0x8c0)][_0x6a656a(0x6e2)](_0x6a656a(0x9b4),_0x13a58e===_0x6a656a(0x722)),_0x3ac713['classList'][_0x6a656a(0x6e2)](_0x6a656a(0x9b4),_0x13a58e===_0x6a656a(0x19d)),document['getElementById']('project-sort-select')[_0x6a656a(0xc1a)]=_0x349183;const _0x9c22a8=document['getElementById'](_0x6a656a(0xb5c))[_0x6a656a(0xc1a)][_0x6a656a(0x1a5)]();let _0x33fad6=allProjects[_0x6a656a(0x26c)](_0x481569=>_0x481569[_0x6a656a(0xad3)][_0x6a656a(0x1a5)]()[_0x6a656a(0x668)](_0x9c22a8));const _0x801580=_0x33fad6[_0x6a656a(0x26c)](_0x5be453=>_0x19aa8c[_0x6a656a(0x17b)](_0x5be453['id'])),_0x148709=_0x33fad6[_0x6a656a(0x26c)](_0x412867=>!_0x19aa8c['has'](_0x412867['id'])),_0x460707=(_0x3125b0,_0x12fa68)=>{const _0x95354e=_0x6a656a;switch(_0x349183){case _0x95354e(0x914):return _0x3125b0[_0x95354e(0xad3)][_0x95354e(0xa50)](_0x12fa68[_0x95354e(0xad3)],'th');case _0x95354e(0x9c1):return _0x12fa68[_0x95354e(0xad3)]['localeCompare'](_0x3125b0['projectName'],'th');case _0x95354e(0xc83):return new Date(_0x3125b0[_0x95354e(0x390)])-new Date(_0x12fa68[_0x95354e(0x390)]);default:return new Date(_0x12fa68['createdAt'])-new Date(_0x3125b0['createdAt']);}};_0x801580[_0x6a656a(0x50a)](_0x460707),_0x148709[_0x6a656a(0x50a)](_0x460707);const _0x1ce5c7=[..._0x801580,..._0x148709],_0x2129ae=globalDashboardSettings['projectOrder']||[];_0x2129ae['length']>0x0&&_0x13a58e===_0x6a656a(0x722)&&_0x1ce5c7[_0x6a656a(0x50a)]((_0x469d67,_0x210127)=>{const _0x13beff=_0x6a656a,_0x191017=_0x2129ae[_0x13beff(0xc7a)](_0x469d67['id']),_0xa731ed=_0x2129ae[_0x13beff(0xc7a)](_0x210127['id']);if(_0x191017===-0x1)return 0x1;if(_0xa731ed===-0x1)return-0x1;return _0x191017-_0xa731ed;});const _0x5946ae={};await Promise['all'](_0x1ce5c7[_0x6a656a(0xb43)](async _0x25f41e=>{const _0xa1bdfb=_0x6a656a,_0x4f3429=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where('projectId','==',_0x25f41e['id'])),_0x477de1=await getDocs(_0x4f3429);_0x5946ae[_0x25f41e['id']]=_0x477de1[_0xa1bdfb(0xb9f)];}));const _0x302fda=document[_0x6a656a(0xbd5)](_0x6a656a(0x5ac));let _0x3cfd0b='';if(_0x13a58e===_0x6a656a(0x722)){_0x302fda[_0x6a656a(0xce)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x6a656a(0x9f1)]>0x0&&_0x9c22a8===''){const _0x34505c=starredQuizzes[_0x6a656a(0xb43)](_0x15d452=>{const _0x3c9465=_0x6a656a,_0x3542f3=allProjects[_0x3c9465(0x922)](_0x2f59ed=>_0x2f59ed['id']===_0x15d452['projectId']);return{..._0x15d452,'projectName':_0x3542f3?_0x3542f3[_0x3c9465(0xad3)]:_0x3c9465(0xba7)};});_0x3cfd0b+=_0x6a656a(0x74f)+_0x34505c[_0x6a656a(0xb43)](_0x49827c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x49827c[_0x6a656a(0x6bd)]+'\x22>'+_0x49827c['topic']+_0x6a656a(0x277)+_0x49827c[_0x6a656a(0xad3)]+_0x6a656a(0x2c6)+_0x49827c['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x6a656a(0x9eb)+starredQuizzes[_0x6a656a(0x9f1)]+_0x6a656a(0x171);}_0x1ce5c7[_0x6a656a(0x947)](_0x214a85=>{const _0x43551b=_0x6a656a,_0x46bb2c=_0x5946ae[_0x214a85['id']]??0x0,_0x18b2dc=_0x19aa8c[_0x43551b(0x17b)](_0x214a85['id']),_0x5ec899=_0x214a85[_0x43551b(0x136)]||_0x43551b(0x268),_0x47513a=parseInt(_0x5ec899[_0x43551b(0x33f)](0x1,0x3),0x10)*0.299+parseInt(_0x5ec899[_0x43551b(0x33f)](0x3,0x5),0x10)*0.587+parseInt(_0x5ec899[_0x43551b(0x33f)](0x5,0x7),0x10)*0.114<0xba,_0x54a3d8=_0x47513a?'text-white':_0x43551b(0xbf2),_0x5139df=_0x47513a?'text-gray-200':_0x43551b(0x7eb);_0x3cfd0b+=_0x43551b(0x670)+(_0x18b2dc?_0x43551b(0xc93):'border-gray-200')+_0x43551b(0x8ae)+_0x5ec899+_0x43551b(0x3cd)+_0x214a85['id']+_0x43551b(0x234)+_0x214a85['id']+_0x43551b(0x61d)+(_0x47513a?_0x43551b(0x14a):_0x43551b(0x46c))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x214a85['id']+_0x43551b(0x55d)+(_0x47513a?_0x43551b(0x14a):_0x43551b(0x46c))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x18b2dc?_0x47513a?'text-yellow-300':_0x43551b(0x567):'')+_0x43551b(0x791)+_0x214a85['id']+_0x43551b(0xb8)+_0x54a3d8+'\x20pointer-events-none\x22>'+_0x214a85['projectName']+_0x43551b(0x148)+_0x5139df+_0x43551b(0x85d)+new Date(_0x214a85[_0x43551b(0x390)])[_0x43551b(0x427)](_0x43551b(0x70e))+_0x43551b(0x7fa)+(_0x47513a?_0x43551b(0x8a3):_0x43551b(0x7c6))+_0x43551b(0x3c2)+_0x46bb2c+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x214a85['id']+'\x22\x20data-name=\x22'+_0x214a85['projectName']+_0x43551b(0xb40)+(_0x47513a?'text-red-300\x20hover:text-red-100':'text-red-500\x20hover:text-red-700')+_0x43551b(0x4a1);});}else _0x302fda[_0x6a656a(0xce)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x6a656a(0x9f1)]>0x0&&_0x9c22a8===''&&(_0x3cfd0b+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x6a656a(0x9f1)]+_0x6a656a(0x371)),_0x3cfd0b+=_0x6a656a(0x38b),_0x1ce5c7[_0x6a656a(0x947)](_0x242d0c=>{const _0x15859f=_0x6a656a,_0x2fb92e=_0x5946ae[_0x242d0c['id']]??0x0,_0x114c8d=_0x19aa8c['has'](_0x242d0c['id']);_0x3cfd0b+=_0x15859f(0x893)+(_0x242d0c[_0x15859f(0x136)]||_0x15859f(0x2f5))+_0x15859f(0x1d4)+_0x242d0c['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x242d0c[_0x15859f(0xad3)]+_0x15859f(0x9bf)+_0x2fb92e+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x242d0c[_0x15859f(0x390)])['toLocaleString'](_0x15859f(0x70e))+_0x15859f(0x8b7)+_0x242d0c['id']+_0x15859f(0x7ed)+(_0x114c8d?_0x15859f(0x567):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x242d0c['id']+_0x15859f(0x463)+_0x242d0c[_0x15859f(0xad3)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x6a656a(0x553)]=_0x3cfd0b,noProjectsMsg['classList']['toggle'](_0x6a656a(0x2ee),_0x3cfd0b[_0x6a656a(0x9f1)]>0x0);}document[_0xdd45b5(0xbd5)]('confirm-create-project-btn')[_0xdd45b5(0x915)](_0xdd45b5(0x98f),async()=>{const _0x58bcfa=_0xdd45b5,_0x49ff0b=document[_0x58bcfa(0xbd5)](_0x58bcfa(0x669)),_0x538648=_0x49ff0b['value'][_0x58bcfa(0x7ae)]();if(!_0x538648){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x19df2=doc(collection(db,_0x58bcfa(0xb4)+appId+_0x58bcfa(0x971)));await setDoc(_0x19df2,{'projectName':_0x538648,'students':[],'settings':{'resultsDisplay':_0x58bcfa(0x2e2),'shuffleSetting':_0x58bcfa(0xa64),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x49ff0b[_0x58bcfa(0xc1a)]='',createProjectModal[_0x58bcfa(0x8c0)]['add'](_0x58bcfa(0x2ee)),showMessage(_0x58bcfa(0x889));}catch(_0x23ce2b){console[_0x58bcfa(0x2c7)](_0x58bcfa(0x330),_0x23ce2b),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0xdd45b5(0x915)](_0xdd45b5(0x98f),async _0x73a08f=>{const _0x233601=_0xdd45b5,_0x3b2b2e=_0x73a08f['target'][_0x233601(0x18a)](_0x233601(0x2b6)),_0x43005d=_0x73a08f[_0x233601(0x8a0)][_0x233601(0x18a)](_0x233601(0x153)),_0x2b240e=_0x73a08f[_0x233601(0x8a0)][_0x233601(0x18a)](_0x233601(0x7b7)),_0x2a29d5=_0x73a08f[_0x233601(0x8a0)][_0x233601(0x18a)](_0x233601(0xa44));if(_0x2b240e){const _0xc99ca6=_0x2b240e['dataset']['id'],_0x471290=doc(db,'globalSettings',_0x233601(0x34b)),_0x289e9e=globalDashboardSettings[_0x233601(0x630)];let _0x53548a;_0x289e9e['includes'](_0xc99ca6)?_0x53548a=_0x289e9e['filter'](_0xb91308=>_0xb91308!==_0xc99ca6):_0x53548a=[..._0x289e9e,_0xc99ca6];try{await setDoc(_0x471290,{'pinnedProjects':_0x53548a},{'merge':!![]});}catch(_0x48a3f3){console[_0x233601(0x2c7)](_0x233601(0xa52),_0x48a3f3),showMessage(_0x233601(0x274));}}else{if(_0x2a29d5){const _0xa1afe2=_0x2a29d5[_0x233601(0x41c)]['id'];showColorPalette(_0x2a29d5,_0xa1afe2);}else{if(_0x3b2b2e){const _0x203e35=_0x3b2b2e['dataset']['id'];_0x203e35===_0x233601(0x28e)?showStarredProjectView():(currentProjectId=_0x203e35,await loadProjectDetails(currentProjectId),showView(_0x233601(0xa97)));}else{if(_0x43005d){const _0x129f5c=_0x43005d[_0x233601(0x41c)]['id'],_0x278b9e=_0x43005d[_0x233601(0x41c)][_0x233601(0x8aa)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x278b9e+_0x233601(0x501),()=>handleDeleteProject(_0x129f5c));}}}}}),projectList[_0xdd45b5(0x915)](_0xdd45b5(0x6c8),_0x14995d=>{const _0x1f6e78=_0xdd45b5,_0x535f76=_0x14995d[_0x1f6e78(0x8a0)][_0x1f6e78(0x18a)]('.project-card-container');_0x535f76&&_0x535f76['classList'][_0x1f6e78(0x9ff)](_0x1f6e78(0xa81));}),projectList[_0xdd45b5(0x915)](_0xdd45b5(0x114),_0x1e76ee=>{const _0x51ac3f=_0xdd45b5,_0x1b3d30=_0x1e76ee[_0x51ac3f(0x8a0)][_0x51ac3f(0x18a)](_0x51ac3f(0x4a4));_0x1b3d30&&_0x1b3d30[_0x51ac3f(0x8c0)]['remove'](_0x51ac3f(0xa81));}),projectList[_0xdd45b5(0x915)]('dragover',_0x3f7d1e=>{const _0x3ea7b7=_0xdd45b5;_0x3f7d1e['preventDefault']();const _0x14288e=document[_0x3ea7b7(0x5db)](_0x3ea7b7(0xa7));if(!_0x14288e)return;const _0x5379c6=getDragAfterElement(projectList,_0x3f7d1e['clientY']);_0x5379c6==null?projectList['appendChild'](_0x14288e):projectList['insertBefore'](_0x14288e,_0x5379c6);}),projectList[_0xdd45b5(0x915)](_0xdd45b5(0x4ac),_0x43b5f7=>{const _0x55d97e=_0xdd45b5;_0x43b5f7['preventDefault']();const _0x561ba0=[...projectList[_0x55d97e(0x197)](_0x55d97e(0x6ce))][_0x55d97e(0xb43)](_0x29a46e=>_0x29a46e[_0x55d97e(0x41c)]['id']);saveProjectOrder(_0x561ba0);});function renderBehaviorLog(_0x456c13){const _0x5b55b0=_0xdd45b5,_0x4358c3=document[_0x5b55b0(0xbd5)]('behavior-log-container');if(!_0x4358c3)return;const _0x5d9436=_0x456c13['filter'](_0x2464f7=>_0x2464f7[_0x5b55b0(0xcac)]&&_0x2464f7['behaviorLog'][_0x5b55b0(0x9f1)]>0x0);if(_0x5d9436[_0x5b55b0(0x9f1)]===0x0){_0x4358c3['innerHTML']=_0x5b55b0(0x61e);return;}let _0x2e9a64='';_0x5d9436[_0x5b55b0(0x947)](_0x1a33ad=>{const _0x264374=_0x5b55b0;_0x2e9a64+=_0x264374(0x672)+_0x1a33ad[_0x264374(0x815)]+_0x264374(0xbe9),_0x1a33ad[_0x264374(0xcac)][_0x264374(0x50a)]((_0x3cfa5e,_0x15c216)=>new Date(_0x15c216[_0x264374(0xc87)])-new Date(_0x3cfa5e[_0x264374(0xc87)]))[_0x264374(0x947)](_0x5d1dbb=>{const _0x40b392=_0x264374,_0x97aa4=new Date(_0x5d1dbb[_0x40b392(0xc87)])['toLocaleString'](_0x40b392(0x70e),{'dateStyle':_0x40b392(0x9d3),'timeStyle':_0x40b392(0xc3b)});_0x2e9a64+=_0x40b392(0xea)+_0x5d1dbb[_0x40b392(0x963)]+_0x40b392(0x29c)+_0x97aa4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2e9a64+=_0x264374(0x825);}),_0x4358c3['innerHTML']=_0x2e9a64;}function getDragAfterElement(_0x4c5945,_0xae2a7a){const _0x412768=_0xdd45b5,_0x24d052=[..._0x4c5945[_0x412768(0x197)]('.project-card-container:not(.opacity-50)')];return _0x24d052['reduce']((_0x49753b,_0x513b11)=>{const _0x45f69c=_0x412768,_0x19fb23=_0x513b11[_0x45f69c(0xc54)](),_0x37c3e9=_0xae2a7a-_0x19fb23[_0x45f69c(0xb2c)]-_0x19fb23[_0x45f69c(0x645)]/0x2;return _0x37c3e9<0x0&&_0x37c3e9>_0x49753b[_0x45f69c(0x954)]?{'offset':_0x37c3e9,'element':_0x513b11}:_0x49753b;},{'offset':Number[_0x412768(0x282)]})[_0x412768(0xb6a)];}async function saveProjectOrder(_0x5241f0){const _0x5a3529=_0xdd45b5,_0x5ddb49=doc(db,_0x5a3529(0x222),_0x5a3529(0x34b));try{await setDoc(_0x5ddb49,{'projectOrder':_0x5241f0},{'merge':!![]});}catch(_0x7bfdc){console[_0x5a3529(0x2c7)](_0x5a3529(0x198),_0x7bfdc),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0xe120bf,_0x492fdb={}){const _0x46436b=_0xdd45b5;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x521dcb=doc(db,_0x46436b(0xb4)+appId+_0x46436b(0x9aa)+currentQuizData['id']+_0x46436b(0x67f),currentStudentName),_0x373b30={'event':_0xe120bf,'timestamp':new Date()[_0x46436b(0x8a9)](),..._0x492fdb};try{await updateDoc(_0x521dcb,{'behaviorLog':arrayUnion(_0x373b30)}),console['log'](_0x46436b(0x987)+currentStudentName+'\x20สำเร็จ');}catch(_0x24d1e1){_0x24d1e1[_0x46436b(0x1b3)]===_0x46436b(0x6c2)?console[_0x46436b(0xbb2)](_0x46436b(0x2bc)+currentStudentName+_0x46436b(0x621)):console[_0x46436b(0x2c7)](_0x46436b(0x845),_0x24d1e1);}}function calculateMeanAndStdDev(_0x32cb47){const _0x24a291=_0xdd45b5;if(_0x32cb47[_0x24a291(0x9f1)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4300d3=_0x32cb47[_0x24a291(0xdb)]((_0x361c95,_0x2b8328)=>_0x361c95+_0x2b8328,0x0)/_0x32cb47[_0x24a291(0x9f1)];if(_0x32cb47[_0x24a291(0x9f1)]===0x1)return{'mean':_0x4300d3,'stdDev':0x0};const _0x1ae1f5=Math[_0x24a291(0x9d0)](_0x32cb47[_0x24a291(0xb43)](_0x34fce7=>Math[_0x24a291(0x36d)](_0x34fce7-_0x4300d3,0x2))[_0x24a291(0xdb)]((_0x300386,_0x3983e5)=>_0x300386+_0x3983e5,0x0)/(_0x32cb47[_0x24a291(0x9f1)]-0x1));return{'mean':_0x4300d3,'stdDev':_0x1ae1f5};}function calculateZScore(_0x2d0802,_0x159aba,_0x11ec57){if(_0x11ec57===0x0)return 0x0;return(_0x2d0802-_0x159aba)/_0x11ec57;}function calculateTScore(_0x340a02){return 0xa*_0x340a02+0x32;}function showStarredProjectView(){const _0xe37ee7=_0xdd45b5;currentProjectId=_0xe37ee7(0x5c2),currentProjectData=null,projectTitle[_0xe37ee7(0x5e0)]=_0xe37ee7(0x203),projectIdDisplay[_0xe37ee7(0x5e0)]='pinned-items',showView(_0xe37ee7(0xa97)),manageTab[_0xe37ee7(0x8c0)][_0xe37ee7(0x9ff)]('hidden'),leaderboardTab[_0xe37ee7(0x8c0)][_0xe37ee7(0x9ff)](_0xe37ee7(0x2ee)),switchProjectTab(_0xe37ee7(0xb41)),renderQuizzes();}async function loadProjectDetails(_0x3ca6a2){const _0x4dbea4=_0xdd45b5,_0x316a60=doc(db,_0x4dbea4(0xb4)+appId+'/public/data/projects',_0x3ca6a2),_0x1890f1=await getDoc(_0x316a60);if(_0x1890f1['exists']()){manageTab[_0x4dbea4(0x8c0)][_0x4dbea4(0x3b9)](_0x4dbea4(0x2ee)),leaderboardTab[_0x4dbea4(0x8c0)][_0x4dbea4(0x3b9)](_0x4dbea4(0x2ee)),currentProjectData=_0x1890f1['data'](),projectTitle[_0x4dbea4(0x5e0)]=currentProjectData['projectName'],projectIdDisplay[_0x4dbea4(0x5e0)]=_0x3ca6a2;const _0x159558=currentProjectData[_0x4dbea4(0xa10)]||{};document[_0x4dbea4(0xbd5)]('shuffle-setting-select')['value']=_0x159558[_0x4dbea4(0x7db)]||_0x4dbea4(0xa64);const _0x467efe=document[_0x4dbea4(0xbd5)]('show-in-student-dashboard-checkbox');_0x467efe['checked']=_0x159558['showInStudentDashboard']!==![];const _0x26c421=document[_0x4dbea4(0xbd5)]('enable-passcode-checkbox'),_0x4ca344=document[_0x4dbea4(0xbd5)](_0x4dbea4(0x15d)),_0x53b5a8=document[_0x4dbea4(0xbd5)](_0x4dbea4(0x2de)),_0x54604e=_0x159558['isPasscodeEnabled']||![];_0x26c421[_0x4dbea4(0x674)]=_0x54604e,_0x53b5a8[_0x4dbea4(0xc1a)]=_0x159558[_0x4dbea4(0x190)]||'',_0x4ca344[_0x4dbea4(0x8c0)]['toggle'](_0x4dbea4(0x2ee),!_0x54604e),_0x26c421[_0x4dbea4(0x3b3)]=()=>{const _0x2748e4=_0x4dbea4;_0x4ca344[_0x2748e4(0x8c0)]['toggle'](_0x2748e4(0x2ee),!_0x26c421[_0x2748e4(0x674)]);},document[_0x4dbea4(0xbd5)]('confidence-scoring-checkbox')[_0x4dbea4(0x674)]=_0x159558[_0x4dbea4(0x9c2)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x3ca6a2),listenForProjectQuizzes(_0x3ca6a2),listenForStudentProfiles(_0x3ca6a2);}else showMessage(_0x4dbea4(0x3a7)),showView(_0x4dbea4(0x76b));}async function handleResetProjectOrder(){const _0x9b7761=_0xdd45b5,_0x5b5438=doc(db,_0x9b7761(0x222),_0x9b7761(0x34b));try{await setDoc(_0x5b5438,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x9b7761(0x981));}catch(_0x57652b){console[_0x9b7761(0x2c7)](_0x9b7761(0xd5),_0x57652b),showMessage(_0x9b7761(0x462));}}async function handleTogglePinProject(_0x3f13a2){const _0x10b17a=_0xdd45b5;if(!_0x3f13a2)return;const _0x532428=doc(db,_0x10b17a(0xb4)+appId+'/public/data/projects',_0x3f13a2);try{const _0xb38715=await getDoc(_0x532428);if(_0xb38715[_0x10b17a(0x935)]()){const _0x56e8e1=_0xb38715[_0x10b17a(0xa1d)]()['isPinned']||![];await updateDoc(_0x532428,{'isPinned':!_0x56e8e1});}}catch(_0xd562ec){console[_0x10b17a(0x2c7)](_0x10b17a(0x18b),_0xd562ec),showMessage(_0x10b17a(0x274));}}async function handleDeleteProject(_0x1d9706){const _0x195744=_0xdd45b5;try{const _0x311687=writeBatch(db),_0x4ae8c6=collection(db,'artifacts/'+appId+_0x195744(0xcba)),_0xda7546=query(_0x4ae8c6,where(_0x195744(0xa60),'==',_0x1d9706)),_0x322ccb=await getDocs(_0xda7546);for(const _0x5ac871 of _0x322ccb['docs']){const _0x69533a=collection(db,_0x195744(0xb4)+appId+_0x195744(0x9aa)+_0x5ac871['id']+'/submissions'),_0x14615a=await getDocs(_0x69533a);_0x14615a[_0x195744(0x947)](_0x297665=>{const _0x2de128=_0x195744;_0x311687['delete'](_0x297665[_0x2de128(0x4d9)]);}),_0x311687[_0x195744(0x2ec)](_0x5ac871[_0x195744(0x4d9)]);}const _0x153aec=collection(db,'artifacts/'+appId+_0x195744(0x54e)+_0x1d9706+_0x195744(0xbd)),_0x4eb9fe=await getDocs(_0x153aec);_0x4eb9fe[_0x195744(0x947)](_0x5a2473=>{const _0x964265=_0x195744;_0x311687['delete'](_0x5a2473[_0x964265(0x4d9)]);});const _0x264ef9=doc(db,_0x195744(0xb4)+appId+_0x195744(0x971),_0x1d9706);_0x311687['delete'](_0x264ef9),await _0x311687[_0x195744(0xb39)](),showMessage(_0x195744(0x9f7)),showView('admin-dashboard');}catch(_0x52b31d){console[_0x195744(0x2c7)](_0x195744(0x569),_0x52b31d),showMessage(_0x195744(0x496));}}document[_0xdd45b5(0xbd5)](_0xdd45b5(0x82a))['addEventListener']('click',async()=>{const _0x40c8a5=_0xdd45b5;if(!currentProjectId)return;const _0x53eb52={'defaultNumQuestions':parseInt(document[_0x40c8a5(0xbd5)](_0x40c8a5(0x731))[_0x40c8a5(0xc1a)]),'defaultNumChoices':parseInt(document[_0x40c8a5(0xbd5)](_0x40c8a5(0x160))[_0x40c8a5(0xc1a)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x40c8a5(0xc1a)]),'resultsDisplay':document[_0x40c8a5(0xbd5)](_0x40c8a5(0xaa1))[_0x40c8a5(0xc1a)],'shuffleSetting':document[_0x40c8a5(0xbd5)](_0x40c8a5(0x752))[_0x40c8a5(0xc1a)],'timerMode':document['getElementById'](_0x40c8a5(0x10d))[_0x40c8a5(0xc1a)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x40c8a5(0xc1a)]),'isConfidenceScoringEnabled':document[_0x40c8a5(0xbd5)]('confidence-scoring-checkbox')[_0x40c8a5(0x674)],'confidenceMode':document[_0x40c8a5(0xbd5)](_0x40c8a5(0x70d))[_0x40c8a5(0xc1a)]};try{const _0x31a8a3=doc(db,_0x40c8a5(0xb4)+appId+_0x40c8a5(0x971),currentProjectId);await updateDoc(_0x31a8a3,{'settings':_0x53eb52}),showMessage(_0x40c8a5(0x351));}catch(_0xbeae36){console[_0x40c8a5(0x2c7)]('Error\x20saving\x20settings:',_0xbeae36),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0xc20301){const _0x3dc145=_0xdd45b5,_0xfc4e83=doc(db,'artifacts/'+appId+_0x3dc145(0x971),_0xc20301);unsubscribeStudentsListener=onSnapshot(_0xfc4e83,_0x382f59=>{const _0x290caa=_0x3dc145;if(_0x382f59[_0x290caa(0x935)]()){const _0x17ad5f=_0x382f59[_0x290caa(0xa1d)]();currentProjectData=_0x17ad5f,renderStudentList(_0x17ad5f[_0x290caa(0x8f4)]||[]);}});}function renderStudentList(_0x31dcf0){const _0x111c92=_0xdd45b5,_0x305253=document['getElementById']('delete-all-students-btn');_0x31dcf0['length']===0x0?(studentList[_0x111c92(0x553)]=_0x111c92(0x832),_0x305253[_0x111c92(0x8c0)]['add'](_0x111c92(0x2ee))):(studentList[_0x111c92(0x553)]=_0x31dcf0[_0x111c92(0xb43)](_0x3a5dc4=>_0x111c92(0x89e)+_0x3a5dc4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x3a5dc4+_0x111c92(0x4af))[_0x111c92(0xb92)](''),_0x305253['classList'][_0x111c92(0x3b9)](_0x111c92(0x2ee)));}document[_0xdd45b5(0xbd5)](_0xdd45b5(0x32d))[_0xdd45b5(0x915)]('click',async()=>{const _0x29bc91=_0xdd45b5;if(!currentProjectId)return;const _0x16223f=document['getElementById'](_0x29bc91(0x341)),_0x3274c3=_0x16223f['value'][_0x29bc91(0x7ae)]();if(!_0x3274c3){showMessage(_0x29bc91(0x475));return;}const _0x32e123=_0x3274c3['split']('\x0a')[_0x29bc91(0xb43)](_0x12aed1=>_0x12aed1[_0x29bc91(0x7ae)]())[_0x29bc91(0x26c)](_0x3c39f1=>_0x3c39f1);if(_0x32e123[_0x29bc91(0x9f1)]===0x0)return;try{const _0x1da0c7=doc(db,_0x29bc91(0xb4)+appId+'/public/data/projects',currentProjectId),_0x4381f2=await getDoc(_0x1da0c7);if(_0x4381f2[_0x29bc91(0x935)]()){const _0x3ebb68=_0x4381f2['data']()[_0x29bc91(0x8f4)]||[],_0x17948a=[...new Set([..._0x3ebb68,..._0x32e123])];await updateDoc(_0x1da0c7,{'students':_0x17948a}),_0x16223f[_0x29bc91(0xc1a)]='';}}catch(_0x44c48b){console[_0x29bc91(0x2c7)]('Error\x20adding\x20students:',_0x44c48b),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x22e38a){const _0x5b4027=_0xdd45b5,_0x5b3f34=document[_0x5b4027(0xbd5)](_0x5b4027(0x2a5)),_0x4eea14=document[_0x5b4027(0xbd5)](_0x5b4027(0x753)),_0x1c78aa=_0x5b3f34['querySelector']('h3'),_0x1dcdd7=document['getElementById']('confirm-move-quiz-btn'),_0x106b65=document[_0x5b4027(0xbd5)](_0x5b4027(0x42d));_0x1c78aa[_0x5b4027(0x5e0)]=_0x5b4027(0x6d1),_0x4eea14[_0x5b4027(0x553)]=_0x5b4027(0x8f2),_0x1dcdd7[_0x5b4027(0x5e0)]=_0x5b4027(0xb6f),_0x5b3f34[_0x5b4027(0x8c0)][_0x5b4027(0x3b9)]('hidden');const _0x44aaf2=allQuizzes['filter'](_0x93d1e0=>_0x93d1e0['id']!==_0x22e38a);_0x44aaf2[_0x5b4027(0x9f1)]===0x0?(_0x4eea14['innerHTML']=_0x5b4027(0x2a6),_0x1dcdd7[_0x5b4027(0x256)]=!![]):(_0x4eea14[_0x5b4027(0x553)]=_0x5b4027(0x91f)+_0x44aaf2[_0x5b4027(0xb43)](_0x22feac=>_0x5b4027(0xafe)+_0x22feac['id']+'\x22>'+_0x22feac[_0x5b4027(0x6bd)]+_0x5b4027(0x9fc))[_0x5b4027(0xb92)](''),_0x1dcdd7[_0x5b4027(0x256)]=![]);const _0x3a9646=async()=>{const _0x3e3518=_0x5b4027,_0x15c207=_0x4eea14[_0x3e3518(0xc1a)];if(!_0x15c207){showMessage(_0x3e3518(0x408));return;}_0x1dcdd7[_0x3e3518(0x256)]=!![],_0x1dcdd7[_0x3e3518(0x5e0)]='กำลังจับคู่...';try{const _0xaaabf5=doc(db,_0x3e3518(0xb4)+appId+'/public/data/quizzes',_0x22e38a),_0x2cecf7=doc(db,_0x3e3518(0xb4)+appId+_0x3e3518(0xcba),_0x15c207),_0xf12aa4=writeBatch(db);_0xf12aa4[_0x3e3518(0x9d2)](_0xaaabf5,{'pairedQuizId':_0x15c207}),_0xf12aa4[_0x3e3518(0x9d2)](_0x2cecf7,{'pairedQuizId':_0x22e38a}),await _0xf12aa4[_0x3e3518(0xb39)](),showMessage(_0x3e3518(0x8a5)),_0x5b3f34[_0x3e3518(0x8c0)][_0x3e3518(0x9ff)](_0x3e3518(0x2ee));}catch(_0x1af1b7){console['error'](_0x3e3518(0x692),_0x1af1b7),showMessage(_0x3e3518(0x936));}finally{_0x1c78aa[_0x3e3518(0x5e0)]=_0x3e3518(0x25b),_0x1dcdd7[_0x3e3518(0x5e0)]=_0x3e3518(0x764),_0x1dcdd7[_0x3e3518(0x256)]=![],_0x1dcdd7[_0x3e3518(0xd9)](_0x3e3518(0x98f),_0x3a9646),_0x106b65[_0x3e3518(0xd9)](_0x3e3518(0x98f),_0x7f1294);}},_0x7f1294=()=>{const _0x33325e=_0x5b4027;_0x5b3f34['classList'][_0x33325e(0x9ff)]('hidden'),_0x1c78aa['textContent']=_0x33325e(0x25b),_0x1dcdd7[_0x33325e(0x5e0)]='ย้าย',_0x1dcdd7[_0x33325e(0xd9)](_0x33325e(0x98f),_0x3a9646),_0x106b65[_0x33325e(0xd9)]('click',_0x7f1294);};_0x1dcdd7[_0x5b4027(0x915)](_0x5b4027(0x98f),_0x3a9646),_0x106b65[_0x5b4027(0x915)](_0x5b4027(0x98f),_0x7f1294);}function handleDeleteStudent(_0x3c38de){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x3c38de+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x433b34=_0x39cc;if(!currentProjectId||!currentProjectData)return;const _0x4024d0=currentProjectData[_0x433b34(0x8f4)]['filter'](_0x224df7=>_0x224df7!==_0x3c38de);try{const _0x1fa3e0=doc(db,_0x433b34(0xb4)+appId+'/public/data/projects',currentProjectId),_0x2b5e2d=doc(db,_0x433b34(0xb4)+appId+_0x433b34(0x54e)+currentProjectId+_0x433b34(0xbd),_0x3c38de),_0x3b75d0=writeBatch(db);_0x3b75d0[_0x433b34(0x9d2)](_0x1fa3e0,{'students':_0x4024d0}),_0x3b75d0[_0x433b34(0x2ec)](_0x2b5e2d),await _0x3b75d0[_0x433b34(0xb39)]();}catch(_0x979554){console[_0x433b34(0x2c7)](_0x433b34(0x13a),_0x979554),showMessage(_0x433b34(0xb0b));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x1c0840=_0x39cc;if(!currentProjectId)return;try{const _0x3c7dea=doc(db,'artifacts/'+appId+_0x1c0840(0x971),currentProjectId),_0x3dc28f=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+_0x1c0840(0xbd)),_0x16b591=await getDocs(_0x3dc28f),_0x2f8f02=writeBatch(db);_0x2f8f02[_0x1c0840(0x9d2)](_0x3c7dea,{'students':[]}),_0x16b591[_0x1c0840(0x947)](_0x50fcb4=>_0x2f8f02[_0x1c0840(0x2ec)](_0x50fcb4[_0x1c0840(0x4d9)])),await _0x2f8f02[_0x1c0840(0xb39)]();}catch(_0x741be7){console[_0x1c0840(0x2c7)](_0x1c0840(0x94d),_0x741be7),showMessage(_0x1c0840(0x976));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x390a9e){const _0xfdac1=_0xdd45b5,_0x560bd3=document['getElementById'](_0xfdac1(0x755)),_0x4a9282=document['getElementById'](_0xfdac1(0x6a1));_0x560bd3[_0xfdac1(0x8c0)]['remove'](_0xfdac1(0x2ee)),_0x4a9282[_0xfdac1(0x553)]=_0xfdac1(0x870);try{const _0x53088e=new FileReader();_0x53088e[_0xfdac1(0x7aa)](_0x390a9e),await new Promise((_0x2ac0fd,_0x54027c)=>{const _0x138919=_0xfdac1;_0x53088e[_0x138919(0xbcc)]=()=>{fileDataBase64=_0x53088e['result']['split'](',')[0x1],fileMimeType=_0x390a9e['type'],_0x2ac0fd();},_0x53088e[_0x138919(0x3b4)]=_0x5b003e=>_0x54027c(_0x5b003e);});if(!fileDataBase64)throw new Error(_0xfdac1(0xcb));const _0x30c98e=_0xfdac1(0x3e7),_0x58ed5f={'type':_0xfdac1(0x207),'properties':{'topics':{'type':_0xfdac1(0xbb1),'items':{'type':_0xfdac1(0xc85)}}},'required':[_0xfdac1(0x2f9)]},_0x14a369=[{'text':_0x30c98e},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x2fe6d8=await handleApiCall(_0x14a369,_0xfdac1(0x3c6),_0x58ed5f,null,![]);if(_0x2fe6d8&&_0x2fe6d8[_0xfdac1(0x2f9)])extractedFileTopics=_0x2fe6d8[_0xfdac1(0x2f9)],renderFileTopics();else throw new Error(_0xfdac1(0xc43));}catch(_0x35f098){console[_0xfdac1(0x2c7)](_0xfdac1(0x9ec),_0x35f098),_0x4a9282['innerHTML']=_0xfdac1(0xb87)+_0x35f098[_0xfdac1(0x700)]+_0xfdac1(0x57f);}}function renderFileTopics(){const _0x6f714c=_0xdd45b5,_0xd49d32=document[_0x6f714c(0xbd5)](_0x6f714c(0x6a1));if(extractedFileTopics[_0x6f714c(0x9f1)]===0x0){_0xd49d32[_0x6f714c(0x553)]=_0x6f714c(0x7fd);return;}_0xd49d32['innerHTML']=extractedFileTopics[_0x6f714c(0xb43)](_0x416588=>_0x6f714c(0x56d)+_0x416588+_0x6f714c(0x470)+escape(_0x416588)+_0x6f714c(0x848)+escape(_0x416588)+_0x6f714c(0x99c))[_0x6f714c(0xb92)]('');}async function generateHybridQuizForTopic(_0x5cf5a2){const _0x557b14=_0xdd45b5,_0x559de2=parseInt(document['getElementById'](_0x557b14(0x731))[_0x557b14(0xc1a)],0xa),_0x513207=document['getElementById']('quiz-type-select')[_0x557b14(0xc1a)],_0x436978=document[_0x557b14(0xbd5)]('num-choices')[_0x557b14(0xc1a)],_0x1ad0f6=document[_0x557b14(0xbd5)](_0x557b14(0x17f))['checked'],_0xd21425=_0x1ad0f6?_0x557b14(0x309):_0x557b14(0x33b);let _0x257eb8='',_0x462514;const _0x48b2d6={'type':'OBJECT','properties':{'questionText':{'type':_0x557b14(0xc85)},'options':{'type':'ARRAY','items':{'type':_0x557b14(0xc85)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x557b14(0xc85)},'imageCode':{'type':_0x557b14(0xc85)}},'required':[_0x557b14(0x72b),_0x557b14(0x996),'correctAnswerIndex',_0x557b14(0x32a)]},_0x164f89={'type':_0x557b14(0x207),'properties':{'questionText':{'type':_0x557b14(0xc85)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x557b14(0xc85)},'imageCode':{'type':'STRING'}},'required':[_0x557b14(0x72b),_0x557b14(0xa7d),'explanation']},_0x3846ca={'type':_0x557b14(0x207),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x557b14(0xc85)},'explanation':{'type':_0x557b14(0xc85)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x557b14(0x24b),_0x557b14(0x32a)]},_0x20dacf={'type':_0x557b14(0x207),'properties':{'questionType':{'type':'STRING','enum':[_0x557b14(0xc6)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x557b14(0xc85)},'allResponses':{'type':_0x557b14(0xbb1),'items':{'type':'STRING'}},'explanation':{'type':_0x557b14(0xc85)},'imageCode':{'type':'STRING'}},'required':[_0x557b14(0x40c),'stem',_0x557b14(0xc67),_0x557b14(0x710),'explanation']};switch(_0x513207){case _0x557b14(0xad4):_0x257eb8=_0x557b14(0x2d8)+_0x436978+_0x557b14(0xb45),_0x462514=_0x48b2d6;break;case _0x557b14(0xa62):_0x257eb8=_0x557b14(0x596),_0x462514=_0x164f89;break;case _0x557b14(0xb7f):_0x257eb8=_0x557b14(0x360),_0x462514=_0x3846ca;break;case _0x557b14(0x6ac):_0x257eb8='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x462514=_0x20dacf;break;case _0x557b14(0x1bb):_0x257eb8=_0x557b14(0x839)+_0x436978+_0x557b14(0xb45),_0x462514=_0x48b2d6;break;default:_0x257eb8=_0x557b14(0x2d8)+_0x436978+'\x20ตัวเลือก)',_0x462514=_0x48b2d6;break;}const _0x2adc12=_0x557b14(0x9b5),_0x3e39ff=document['getElementById']('loader'),_0xbadad5=document['getElementById'](_0x557b14(0xa56)),_0x4e3548=document[_0x557b14(0xbd5)]('generated-quiz-container');document[_0x557b14(0xbd5)](_0x557b14(0xc4e))[_0x557b14(0x8c0)][_0x557b14(0x3b9)](_0x557b14(0x2ee)),_0x4e3548['innerHTML']='',_0x3e39ff[_0x557b14(0x8c0)][_0x557b14(0x3b9)](_0x557b14(0x2ee)),_0xbadad5[_0x557b14(0x5e0)]=_0x557b14(0x89a)+_0x5cf5a2+_0x557b14(0x76f)+_0x559de2+'\x20ข้อ...';try{const _0x4cfea9=_0x557b14(0xbab),_0x4bf660=_0x557b14(0x6fa)+_0x5cf5a2+_0x557b14(0x758)+_0x559de2+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x5cf5a2+_0x557b14(0x55f)+_0x559de2+_0x557b14(0x3db)+_0xd21425+_0x557b14(0xbfe)+_0x257eb8+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x2adc12+_0x557b14(0x1c3)+_0x4cfea9+_0x557b14(0x590)+simpleMathPrompt+_0x557b14(0x5cc),_0x448216={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x557b14(0xbb1),'items':_0x462514}},'required':[_0x557b14(0x6bd),_0x557b14(0x69e)]},_0x1dbcec=[{'text':_0x4bf660},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x1dbcec,_0x557b14(0xaf4)+_0x5cf5a2+_0x557b14(0x1c4),_0x448216);}catch(_0x4a4023){console[_0x557b14(0x2c7)]('Error\x20generating\x20hybrid\x20quiz:',_0x4a4023),showMessage(_0x557b14(0x5b1)+_0x4a4023[_0x557b14(0x700)]),_0x4e3548['innerHTML']=_0x557b14(0xb61);}finally{_0x3e39ff[_0x557b14(0x8c0)][_0x557b14(0x9ff)](_0x557b14(0x2ee));}}async function handleGenerateFromFileClick(){const _0x1e1091=_0xdd45b5;if(!selectedFile){showMessage(_0x1e1091(0x69c));return;}const _0x4e2c38=document[_0x1e1091(0xbd5)](_0x1e1091(0xa42)),_0x58cd5c=document[_0x1e1091(0xbd5)](_0x1e1091(0xa56)),_0x4adac7=document[_0x1e1091(0xbd5)]('generated-quiz-container'),_0xdbb694=document[_0x1e1091(0xbd5)]('generate-from-file-btn');_0xdbb694['disabled']=!![],document[_0x1e1091(0xbd5)]('quiz-generation-area')[_0x1e1091(0x8c0)][_0x1e1091(0x3b9)](_0x1e1091(0x2ee)),_0x4adac7[_0x1e1091(0x553)]='',_0x4e2c38[_0x1e1091(0x8c0)]['remove']('hidden'),_0x58cd5c['textContent']=_0x1e1091(0x695);try{const _0x5447e7=await new Promise((_0x4eeb18,_0x8990e7)=>{const _0x420f6c=_0x1e1091,_0x12e13c=new FileReader();_0x12e13c[_0x420f6c(0x7aa)](selectedFile),_0x12e13c[_0x420f6c(0xbcc)]=()=>_0x4eeb18(_0x12e13c['result'][_0x420f6c(0xa21)](',')[0x1]),_0x12e13c[_0x420f6c(0x3b4)]=_0x3bb1c7=>_0x8990e7(_0x3bb1c7);});await generateQuizFromFile(selectedFile[_0x1e1091(0x886)],_0x5447e7);}catch(_0x5e897a){console[_0x1e1091(0x2c7)]('Error\x20processing\x20file\x20for\x20AI:',_0x5e897a),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x5e897a[_0x1e1091(0x700)]),_0x4e2c38[_0x1e1091(0x8c0)]['add'](_0x1e1091(0x2ee)),_0xdbb694[_0x1e1091(0x256)]=![];}}function autoFormatMath(_0x5e20b2){const _0x45b8c2=_0xdd45b5;if(typeof _0x5e20b2!==_0x45b8c2(0x58c)||!_0x5e20b2)return _0x5e20b2;const _0x24f532=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xc600e8=_0x5e20b2[_0x45b8c2(0x3fa)](_0x24f532,_0x4077b9=>{const _0x59a843=_0x45b8c2;return'$'+_0x4077b9[_0x59a843(0x7ae)]()+'$';});return _0xc600e8;}function sanitizeQuizData(_0x45010e){const _0x37b2df=_0xdd45b5;if(!_0x45010e||!_0x45010e['questions'])return _0x45010e;const _0x1d46a0={'imes':_0x37b2df(0x68c),'div':_0x37b2df(0xb34)},_0x1697b7=_0x1861e0=>{const _0x22ba62=_0x37b2df;if(typeof _0x1861e0!==_0x22ba62(0x58c))return _0x1861e0;let _0x300707=_0x1861e0;for(const [_0x4a0c89,_0x460779]of Object[_0x22ba62(0x1a6)](_0x1d46a0)){const _0x469951=new RegExp('\x5cb'+_0x4a0c89+'\x5cb','g');_0x300707=_0x300707[_0x22ba62(0x3fa)](_0x469951,_0x460779);}return _0x300707=_0x300707[_0x22ba62(0x3fa)](/\\\//g,'\x5cdiv'),_0x300707=_0x300707[_0x22ba62(0x3fa)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x22ba62(0xb34))[_0x22ba62(0x3fa)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x22ba62(0x3fa)](/÷/g,_0x22ba62(0xb34))['replace'](/×/g,_0x22ba62(0x68c)),_0x300707=_0x300707[_0x22ba62(0x3fa)](/(\d)(\\frac)/g,_0x22ba62(0x4c6)),_0x300707=autoFormatMath(_0x300707),_0x300707;};return _0x45010e[_0x37b2df(0x6bd)]&&(_0x45010e['topic']=_0x1697b7(_0x45010e['topic'])),_0x45010e[_0x37b2df(0x69e)][_0x37b2df(0x947)](_0x162b66=>{const _0xa68805=_0x37b2df;_0x162b66['questionText']=_0x1697b7(_0x162b66['questionText']),_0x162b66['options']&&(_0x162b66[_0xa68805(0x996)]=_0x162b66[_0xa68805(0x996)][_0xa68805(0xb43)](_0x1697b7)),_0x162b66[_0xa68805(0x32a)]&&(_0x162b66[_0xa68805(0x32a)]=_0x1697b7(_0x162b66['explanation'])),_0x162b66['stem']&&(_0x162b66[_0xa68805(0xbb0)]=_0x1697b7(_0x162b66[_0xa68805(0xbb0)])),_0x162b66['correctResponse']&&(_0x162b66[_0xa68805(0xc67)]=_0x1697b7(_0x162b66[_0xa68805(0xc67)])),_0x162b66['allResponses']&&(_0x162b66[_0xa68805(0x710)]=_0x162b66['allResponses'][_0xa68805(0xb43)](_0x1697b7));}),_0x45010e;}const simpleMathPrompt=_0xdd45b5(0x778);async function handleGenerateFromLink(){const _0x4d046f=_0xdd45b5,_0x2e9ccf=document[_0x4d046f(0xbd5)](_0x4d046f(0x4f1)),_0x2c125d=document[_0x4d046f(0xbd5)](_0x4d046f(0xbb5)),_0x592af9=_0x2e9ccf[_0x4d046f(0xc1a)]['trim'](),_0x5e8fb3=_0x2c125d[_0x4d046f(0xc1a)][_0x4d046f(0x7ae)]();if(!_0x592af9){showMessage(_0x4d046f(0x13f));return;}const _0x2f20b3=document[_0x4d046f(0xbd5)](_0x4d046f(0xa42)),_0x54dc95=document[_0x4d046f(0xbd5)](_0x4d046f(0xa56)),_0x55bb75=document[_0x4d046f(0xbd5)]('generated-quiz-container'),_0x344703=document['getElementById'](_0x4d046f(0xa2d));document[_0x4d046f(0xbd5)](_0x4d046f(0xc4e))[_0x4d046f(0x8c0)][_0x4d046f(0x3b9)]('hidden'),_0x55bb75[_0x4d046f(0x553)]='',_0x2f20b3[_0x4d046f(0x8c0)][_0x4d046f(0x3b9)](_0x4d046f(0x2ee)),_0x54dc95['textContent']=_0x4d046f(0x664),_0x344703['disabled']=!![];try{const _0x44bdbc='https://corsproxy.io/?'+encodeURIComponent(_0x592af9),_0x29f28e=await fetch(_0x44bdbc);if(!_0x29f28e['ok'])throw new Error(_0x4d046f(0x608)+_0x29f28e[_0x4d046f(0x56c)]+')');const _0x128b40=await _0x29f28e[_0x4d046f(0xaba)](),_0x5ecba4=extractTextFromHtml(_0x128b40);if(!_0x5ecba4||_0x5ecba4[_0x4d046f(0x9f1)]<0x64)throw new Error(_0x4d046f(0x9f2));await generateQuiz(_0x5e8fb3,_0x5ecba4);}catch(_0x2c37f0){console['error'](_0x4d046f(0x5bd),_0x2c37f0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2c37f0[_0x4d046f(0x700)]),_0x55bb75['innerHTML']=_0x4d046f(0x80e);}finally{_0x2f20b3[_0x4d046f(0x8c0)]['add'](_0x4d046f(0x2ee)),_0x344703[_0x4d046f(0x256)]=![];}}function extractTextFromHtml(_0x4cddea){const _0x17d094=_0xdd45b5,_0x53a009=new DOMParser()[_0x17d094(0x6c7)](_0x4cddea,_0x17d094(0x4fb));return _0x53a009[_0x17d094(0x197)](_0x17d094(0x66e))[_0x17d094(0x947)](_0x902bd4=>_0x902bd4[_0x17d094(0x3b9)]()),_0x53a009[_0x17d094(0x594)][_0x17d094(0x5e0)]||'';}document[_0xdd45b5(0xbd5)](_0xdd45b5(0x4cf))['addEventListener'](_0xdd45b5(0x98f),()=>{const _0x1f0883=_0xdd45b5,_0x3eb917=document[_0x1f0883(0xbd5)]('topic-input')[_0x1f0883(0xc1a)]['trim']();generateQuiz(_0x3eb917,null);}),document[_0xdd45b5(0xbd5)](_0xdd45b5(0xa5f))[_0xdd45b5(0x915)](_0xdd45b5(0x98f),()=>{const _0x5ab9e5=_0xdd45b5,_0x41284=document['getElementById']('text-content-input')[_0x5ab9e5(0xc1a)][_0x5ab9e5(0x7ae)]();if(!_0x41284){showMessage(_0x5ab9e5(0x328));return;}const _0xe3bb62=document['getElementById'](_0x5ab9e5(0x11c))[_0x5ab9e5(0xc1a)][_0x5ab9e5(0x7ae)]();generateQuiz(_0xe3bb62,_0x41284);});async function generateQuiz(_0x50e08a,_0x2fb38a,_0x9ebb2e=null,_0x4bb3a4=null,_0xbb95f=![],_0x4389ca=null,_0x96d0b4=null,_0x1ea337=![]){const _0x4dde46=_0xdd45b5;let _0x25f162={};if(_0xbb95f&&blueprintPageSettings)_0x25f162=blueprintPageSettings;else{const _0x1420dc=document['querySelectorAll'](_0x4dde46(0x5c3));_0x25f162={'quizType':document[_0x4dde46(0xbd5)](_0x4dde46(0xbc3))[_0x4dde46(0xc1a)],'numQuestions':document[_0x4dde46(0xbd5)](_0x4dde46(0x731))['value'],'numChoices':document[_0x4dde46(0xbd5)](_0x4dde46(0x160))['value'],'includeImages':document[_0x4dde46(0xbd5)](_0x4dde46(0x17f))[_0x4dde46(0x674)],'isNormalTopic':document['getElementById'](_0x4dde46(0x7a9))['checked'],'difficultyValue':document[_0x4dde46(0xbd5)]('difficulty-level-select')[_0x4dde46(0xc1a)],'complexityValue':document[_0x4dde46(0xbd5)]('question-complexity-select')['value'],'selectedTopicNames':Array['from'](_0x1420dc)[_0x4dde46(0xb43)](_0x3afd42=>_0x3afd42[_0x4dde46(0xc1a)])};}const _0x47dc64=_0x25f162[_0x4dde46(0x1fb)]?'':_0x4dde46(0xc0c),_0x5212b3=_0x25f162[_0x4dde46(0x176)]!==_0x4dde46(0xca6)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x25f162[_0x4dde46(0x176)]+'\x22':'',_0x32bef7=_0x25f162['complexityValue']!==_0x4dde46(0x708)?_0x4dde46(0x877)+_0x25f162[_0x4dde46(0x192)]+_0x4dde46(0xb3):'';let _0x5ece2c='';_0x25f162[_0x4dde46(0x9b9)]&&_0x25f162[_0x4dde46(0x9b9)][_0x4dde46(0x9f1)]>0x0&&(_0x5ece2c=_0x4dde46(0x14b)+_0x25f162[_0x4dde46(0x9b9)][_0x4dde46(0xb92)](',\x20')+'.');let _0x454c41='';_0x4bb3a4&&(_0x454c41=_0x4dde46(0xb9));let _0x2b9c09='',_0x55037c='',_0x4bb3c8,_0x5bc375='เกี่ยวกับหัวข้อ\x20\x22'+_0x50e08a+'\x22';if(!_0x50e08a&&_0x2fb38a)_0x5bc375=_0x4dde46(0x519);else!_0x50e08a&&!_0x2fb38a&&(_0x5bc375=_0x4dde46(0x7e0));const _0x237bed={'type':_0x4dde46(0x207),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4dde46(0xc85)}},'correctAnswerIndex':{'type':_0x4dde46(0x51e)},'explanation':{'type':_0x4dde46(0xc85)},'imageCode':{'type':_0x4dde46(0xc85)}},'required':[_0x4dde46(0x72b),_0x4dde46(0x996),_0x4dde46(0x51c),_0x4dde46(0x32a)]},_0x39c1b4={'type':_0x4dde46(0x207),'properties':{'questionText':{'type':_0x4dde46(0xc85)},'idealAnswer':{'type':_0x4dde46(0xc85)},'explanation':{'type':_0x4dde46(0xc85)},'imageCode':{'type':'STRING'}},'required':[_0x4dde46(0x72b),'idealAnswer',_0x4dde46(0x32a)]},_0x5ce167={'type':_0x4dde46(0x207),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4dde46(0xc85),'enum':[_0x4dde46(0xad4),_0x4dde46(0x5ed)]},'options':{'type':_0x4dde46(0xbb1),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4dde46(0x51e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4dde46(0xc85)},'imageCode':{'type':_0x4dde46(0xc85)}},'required':['questionText','questionType',_0x4dde46(0x32a)]},_0x332f87={'type':_0x4dde46(0x207),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4dde46(0xc85)}},'required':['questionText',_0x4dde46(0xa7d),_0x4dde46(0x32a)]},_0x385749={'type':_0x4dde46(0x207),'properties':{'questionType':{'type':_0x4dde46(0xc85),'enum':[_0x4dde46(0xc6)]},'stem':{'type':_0x4dde46(0xc85)},'correctResponse':{'type':_0x4dde46(0xc85)},'allResponses':{'type':_0x4dde46(0xbb1),'items':{'type':_0x4dde46(0xc85)}},'explanation':{'type':_0x4dde46(0xc85)},'imageCode':{'type':_0x4dde46(0xc85)}},'required':[_0x4dde46(0x40c),_0x4dde46(0xbb0),_0x4dde46(0xc67),_0x4dde46(0x710),_0x4dde46(0x32a)]};let _0x447be0;if(_0x9ebb2e!==null){const _0x455439=currentQuizData[_0x4dde46(0x69e)][_0x9ebb2e][_0x4dde46(0x40c)],_0xc2afb0=_0x25f162['includeImages']?_0x4dde46(0x98a):'';_0x2b9c09=_0x4dde46(0x678)+_0x5bc375+'\x20'+_0x5ece2c+'\x20'+_0x5212b3+_0x4dde46(0x9c)+_0xc2afb0+'\x20'+simpleMathPrompt;if(_0x455439===_0x4dde46(0xad4))_0x4bb3c8=_0x237bed;else{if(_0x455439===_0x4dde46(0xc6))_0x4bb3c8={'type':_0x4dde46(0x207),'properties':{'questionType':{'type':_0x4dde46(0xc85),'enum':[_0x4dde46(0xc6)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4dde46(0xc85)},'explanation':{'type':_0x4dde46(0xc85)},'imageCode':{'type':_0x4dde46(0xc85)}},'required':[_0x4dde46(0x40c),_0x4dde46(0xbb0),_0x4dde46(0xc67),'explanation']};else _0x4bb3c8=_0x39c1b4;}_0x447be0=_0x4bb3c8;}else{const _0x53302e=_0x25f162[_0x4dde46(0x2cb)]?_0x4dde46(0x518):'';switch(_0x25f162['quizType']){case _0x4dde46(0xad4):_0x2b9c09=_0x4dde46(0x7ea)+_0x47dc64+'\x20'+_0x25f162[_0x4dde46(0x52f)]+'\x20ข้อ\x20'+_0x5bc375+'\x20'+_0x5ece2c+'\x20'+_0x5212b3+'\x20'+_0x32bef7+'\x20'+_0x454c41+_0x4dde46(0xbf6)+_0x25f162['numChoices']+_0x4dde46(0x117)+_0x53302e+'\x20'+simpleMathPrompt,_0x4bb3c8=_0x237bed;break;case _0x4dde46(0x1bb):_0x2b9c09=_0x4dde46(0x8ab)+_0x47dc64+'\x20'+_0x25f162[_0x4dde46(0x52f)]+_0x4dde46(0x283)+_0x5bc375+'\x20'+_0x5ece2c+'\x20'+_0x5212b3+'\x20'+_0x32bef7+'\x20'+_0x454c41+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x25f162[_0x4dde46(0x76d)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x53302e+'\x20'+simpleMathPrompt,_0x4bb3c8=_0x237bed;break;case _0x4dde46(0xb7f):_0x2b9c09='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x47dc64+'\x20'+_0x25f162[_0x4dde46(0x52f)]+'\x20ข้อ\x20'+_0x5bc375+'\x20'+_0x5ece2c+'\x20'+_0x5212b3+'\x20'+_0x32bef7+'\x20'+_0x454c41+_0x4dde46(0xdf)+_0x53302e+'\x20'+simpleMathPrompt,_0x4bb3c8=_0x39c1b4;break;case _0x4dde46(0x708):_0x2b9c09=_0x4dde46(0x3ad)+_0x47dc64+'\x20'+_0x25f162[_0x4dde46(0x52f)]+_0x4dde46(0x283)+_0x5bc375+'\x20'+_0x5ece2c+'\x20'+_0x5212b3+'\x20'+_0x32bef7+'\x20'+_0x454c41+_0x4dde46(0xbd8)+_0x25f162[_0x4dde46(0x76d)]+_0x4dde46(0xc1e)+_0x53302e+'\x20'+simpleMathPrompt+'.',_0x4bb3c8=_0x5ce167;break;case'true_false':_0x2b9c09='สร้างคำถามแบบใช่/ไม่ใช่'+_0x47dc64+'\x20'+_0x25f162[_0x4dde46(0x52f)]+'\x20ข้อ\x20'+_0x5bc375+'\x20'+_0x5ece2c+'\x20'+_0x5212b3+'\x20'+_0x32bef7+'\x20'+_0x454c41+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x53302e+'\x20'+simpleMathPrompt,_0x4bb3c8=_0x332f87;break;case _0x4dde46(0x6ac):_0x2b9c09=_0x4dde46(0x545)+_0x47dc64+'\x20'+_0x25f162[_0x4dde46(0x52f)]+_0x4dde46(0x4b0)+_0x5bc375+'\x20'+_0x5ece2c+'\x20'+_0x5212b3+'\x20'+_0x32bef7+'\x20'+_0x454c41+_0x4dde46(0x63c)+_0x53302e+'\x20'+simpleMathPrompt,_0x4bb3c8=_0x385749;break;}_0x447be0={'type':_0x4dde46(0x207),'properties':{'topic':{'type':_0x4dde46(0xc85)},'questions':{'type':'ARRAY','items':_0x4bb3c8}},'required':[_0x4dde46(0x6bd),_0x4dde46(0x69e)]};}const _0x193452='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x2fb38a?(_0x1ea337?_0x2b9c09=_0x4dde46(0x694)+_0x2fb38a+_0x4dde46(0x63e)+_0x2b9c09+_0x193452:_0x2b9c09=_0x4dde46(0x694)+_0x2fb38a+'\x22,\x20'+_0x2b9c09,_0x55037c='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x1ea337&&(_0x2b9c09+=_0x193452),_0x55037c=_0x4dde46(0x400));let _0x1c3c75;return _0x4bb3a4?(_0x1c3c75=[{'text':_0x2b9c09},..._0x4bb3a4],_0x55037c='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x1c3c75=_0x2b9c09,handleApiCall(_0x1c3c75,_0x55037c,_0x447be0,_0x9ebb2e,!![],_0x4389ca,_0x96d0b4);}async function generateQuizFromFile(_0x5348a5,_0x24c64b){const _0x1195b9=_0xdd45b5,_0x201538=document['getElementById'](_0x1195b9(0x772))[_0x1195b9(0xc1a)][_0x1195b9(0x7ae)](),_0x286a5d=document[_0x1195b9(0xbd5)](_0x1195b9(0xbc3))[_0x1195b9(0xc1a)],_0x2a7082=document['getElementById']('num-questions')[_0x1195b9(0xc1a)],_0xff0569=document[_0x1195b9(0xbd5)]('num-choices')[_0x1195b9(0xc1a)],_0x23eed5=document[_0x1195b9(0xbd5)](_0x1195b9(0x17f))[_0x1195b9(0x674)],_0x1f090e=document[_0x1195b9(0xbd5)](_0x1195b9(0x7a9))[_0x1195b9(0x674)],_0x2350d9=_0x1f090e?'':'คณิตศาสตร์',_0x2afebb=document[_0x1195b9(0xbd5)]('original-mode-checkbox')[_0x1195b9(0x674)];let _0x30ad67='',_0xc56ec2;const _0x59c8d1=_0x23eed5?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x2afebb)_0x30ad67=_0x1195b9(0x28c)+_0x59c8d1+'\x0a'+simpleMathPrompt+'\x0a',_0xc56ec2={'type':_0x1195b9(0x207),'properties':{'questionText':{'type':_0x1195b9(0xc85)},'questionType':{'type':_0x1195b9(0xc85),'enum':['multiple_choice',_0x1195b9(0x5ed),'true_false',_0x1195b9(0xc6)]},'options':{'type':_0x1195b9(0xbb1),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1195b9(0x51e)},'idealAnswer':{'type':_0x1195b9(0xc85)},'correctAnswer':{'type':_0x1195b9(0x6d6)},'stem':{'type':_0x1195b9(0xc85)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1195b9(0xbb1),'items':{'type':_0x1195b9(0xc85)}},'explanation':{'type':_0x1195b9(0xc85)},'imageCode':{'type':_0x1195b9(0xc85)}},'required':[_0x1195b9(0x40c),_0x1195b9(0x32a)]};else{let _0x692ba4=_0x1195b9(0x6a2)+_0x201538+'\x22';!_0x201538&&(_0x692ba4=_0x1195b9(0xb95));switch(_0x286a5d){case _0x1195b9(0xad4):_0x30ad67=_0x1195b9(0x7ea)+_0x2350d9+'\x20'+_0x2a7082+_0x1195b9(0x283)+_0x692ba4+'.\x20แต่ละข้อมี\x20'+_0xff0569+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x59c8d1+'\x20'+simpleMathPrompt,_0xc56ec2={'type':_0x1195b9(0x207),'properties':{'questionText':{'type':_0x1195b9(0xc85)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1195b9(0xc85)},'imageCode':{'type':_0x1195b9(0xc85)}},'required':['questionText',_0x1195b9(0x996),'correctAnswerIndex',_0x1195b9(0x32a)]};break;case _0x1195b9(0x1bb):_0x30ad67=_0x1195b9(0x8ab)+_0x2350d9+'\x20'+_0x2a7082+'\x20ข้อ\x20'+_0x692ba4+_0x1195b9(0xbe6)+_0xff0569+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x59c8d1+'\x20'+simpleMathPrompt,_0xc56ec2={'type':_0x1195b9(0x207),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1195b9(0xbb1),'items':{'type':_0x1195b9(0xc85)}},'correctAnswerIndex':{'type':_0x1195b9(0x51e)},'explanation':{'type':_0x1195b9(0xc85)},'imageCode':{'type':_0x1195b9(0xc85)}},'required':[_0x1195b9(0x72b),'options','correctAnswerIndex',_0x1195b9(0x32a)]};break;case _0x1195b9(0xb7f):_0x30ad67=_0x1195b9(0x8ab)+_0x2350d9+'\x20'+_0x2a7082+_0x1195b9(0x283)+_0x692ba4+_0x1195b9(0x1c8)+_0x59c8d1+'\x20'+simpleMathPrompt,_0xc56ec2={'type':_0x1195b9(0x207),'properties':{'questionText':{'type':_0x1195b9(0xc85)},'idealAnswer':{'type':_0x1195b9(0xc85)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1195b9(0xc85)}},'required':[_0x1195b9(0x72b),_0x1195b9(0x24b),'explanation']};break;case _0x1195b9(0x708):_0x30ad67='สร้างแบบทดสอบ'+_0x2350d9+'\x20'+_0x2a7082+_0x1195b9(0x283)+_0x692ba4+_0x1195b9(0x315)+_0xff0569+_0x1195b9(0x6c6)+_0x59c8d1+'\x20'+simpleMathPrompt+_0x1195b9(0x1d5),_0xc56ec2={'type':_0x1195b9(0x207),'properties':{'questionText':{'type':_0x1195b9(0xc85)},'questionType':{'type':'STRING','enum':[_0x1195b9(0xad4),'short_answer']},'options':{'type':_0x1195b9(0xbb1),'items':{'type':_0x1195b9(0xc85)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1195b9(0xc85)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1195b9(0xc85)}},'required':['questionText',_0x1195b9(0x40c),_0x1195b9(0x32a)]};break;case _0x1195b9(0xa62):_0x30ad67=_0x1195b9(0x10e)+_0x2350d9+'\x20'+_0x2a7082+_0x1195b9(0x283)+_0x692ba4+_0x1195b9(0xcb1)+_0x59c8d1+'\x20'+simpleMathPrompt,_0xc56ec2={'type':_0x1195b9(0x207),'properties':{'questionText':{'type':_0x1195b9(0xc85)},'correctAnswer':{'type':_0x1195b9(0x6d6)},'explanation':{'type':_0x1195b9(0xc85)},'imageCode':{'type':'STRING'}},'required':[_0x1195b9(0x72b),'correctAnswer','explanation']};break;case _0x1195b9(0x6ac):_0x30ad67=_0x1195b9(0x545)+_0x2350d9+'\x20'+_0x2a7082+'\x20คู่\x20'+_0x692ba4+_0x1195b9(0x320)+_0x2a7082+_0x1195b9(0x9b6)+_0x59c8d1+'\x20'+simpleMathPrompt,_0xc56ec2={'type':_0x1195b9(0x207),'properties':{'questionType':{'type':_0x1195b9(0xc85),'enum':[_0x1195b9(0xc6)]},'stem':{'type':_0x1195b9(0xc85)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1195b9(0xbb1),'items':{'type':_0x1195b9(0xc85)}},'explanation':{'type':_0x1195b9(0xc85)},'imageCode':{'type':_0x1195b9(0xc85)}},'required':[_0x1195b9(0x40c),'stem',_0x1195b9(0xc67),_0x1195b9(0x710),'explanation']};break;}}const _0xcc2ad9={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1195b9(0xbb1),'items':_0xc56ec2}},'required':['topic',_0x1195b9(0x69e)]},_0x4ba453=_0x1195b9(0xc88)+_0x30ad67,_0xe070b4={'contents':[{'parts':[{'text':_0x4ba453},{'inlineData':{'mimeType':_0x5348a5,'data':_0x24c64b}}]}],'generationConfig':{'responseMimeType':_0x1195b9(0xa59),'responseSchema':_0xcc2ad9}};return handleApiCall(_0xe070b4[_0x1195b9(0xb0)][0x0][_0x1195b9(0x32f)],_0x1195b9(0x5ce),_0xcc2ad9);}async function handleApiCall(_0x5cc4f4,_0xb70106,_0x18e1f6,_0x57833e=null,_0x262078=!![],_0x50ae22=null,_0x466084=null){const _0x2ea721=_0xdd45b5,_0x147f3d=document[_0x2ea721(0xbd5)]('quiz-generation-area'),_0x2f1ff4=document[_0x2ea721(0xbd5)](_0x2ea721(0xa42)),_0x1b2822=document[_0x2ea721(0xbd5)](_0x2ea721(0xa56)),_0x1feb49=document[_0x2ea721(0xbd5)](_0x2ea721(0x32b));_0x147f3d['classList']['remove']('hidden');_0x57833e===null&&_0x262078&&(_0x1feb49[_0x2ea721(0x553)]='');_0x2f1ff4[_0x2ea721(0x8c0)]['remove'](_0x2ea721(0x2ee)),_0x1b2822[_0x2ea721(0x5e0)]=_0xb70106,document[_0x2ea721(0xbd5)](_0x2ea721(0x4cf))[_0x2ea721(0x256)]=!![],document[_0x2ea721(0xbd5)]('generate-from-text-btn')[_0x2ea721(0x256)]=!![],document[_0x2ea721(0xbd5)](_0x2ea721(0xa2d))['disabled']=!![];const _0x3ca4aa=document[_0x2ea721(0xbd5)](_0x2ea721(0xc58));if(_0x3ca4aa)_0x3ca4aa[_0x2ea721(0x256)]=!![];const _0x3bbfc4=document[_0x2ea721(0xbd5)](_0x2ea721(0xab2));if(_0x3bbfc4)_0x3bbfc4['disabled']=!![];const _0x108b41=document['getElementById'](_0x2ea721(0x62b));if(_0x108b41)_0x108b41[_0x2ea721(0x256)]=!![];try{const _0x1dcecd=Array[_0x2ea721(0x218)](_0x5cc4f4)?_0x5cc4f4:[{'text':_0x5cc4f4}],_0xa01b39={'contents':[{'role':_0x2ea721(0x19a),'parts':_0x1dcecd}]};_0x18e1f6&&(_0xa01b39['generationConfig']={'responseMimeType':_0x2ea721(0xa59),'responseSchema':_0x18e1f6});const _0x2ba9fc='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x28670d='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x2ba9fc,_0xc5cb05=await fetch(_0x28670d,{'method':_0x2ea721(0xec),'headers':{'Content-Type':_0x2ea721(0xa59)},'body':JSON['stringify'](_0xa01b39)});if(!_0xc5cb05['ok']){const _0x2a03aa=await _0xc5cb05[_0x2ea721(0xaba)]();console[_0x2ea721(0x2c7)]('API\x20Error\x20Response:',_0x2a03aa);throw new Error(_0x2ea721(0x504)+_0xc5cb05[_0x2ea721(0x56c)]);}const _0x5320f9=await _0xc5cb05[_0x2ea721(0xbc2)]();if(!_0x5320f9['candidates']||_0x5320f9[_0x2ea721(0x8be)][_0x2ea721(0x9f1)]===0x0){let _0x3b80e5=_0x2ea721(0x4e1);return _0x5320f9[_0x2ea721(0xbc6)]?.[_0x2ea721(0xaac)]&&(_0x3b80e5=_0x2ea721(0x7a5)+_0x5320f9[_0x2ea721(0xbc6)][_0x2ea721(0xaac)]+'.'),console[_0x2ea721(0x2c7)](_0x3b80e5,JSON['stringify'](_0x5320f9)),null;}const _0x4a7375=_0x5320f9[_0x2ea721(0x8be)][0x0][_0x2ea721(0x8cc)][_0x2ea721(0x32f)][0x0][_0x2ea721(0xaba)];if(_0x18e1f6){let _0xd1aa3e=_0x4a7375;if(_0xd1aa3e[_0x2ea721(0x511)]('```json'))_0xd1aa3e=_0xd1aa3e[_0x2ea721(0x33f)](0x7,_0xd1aa3e[_0x2ea721(0x9f1)]-0x3)['trim']();else _0xd1aa3e[_0x2ea721(0x511)](_0x2ea721(0x1f3))&&(_0xd1aa3e=_0xd1aa3e[_0x2ea721(0x33f)](0x3,_0xd1aa3e[_0x2ea721(0x9f1)]-0x3)[_0x2ea721(0x7ae)]());let _0x1fb6a4=JSON[_0x2ea721(0x837)](_0xd1aa3e);if(_0x262078){if(_0x57833e!==null){}else currentQuizData=_0x1fb6a4,displayGeneratedQuiz(currentQuizData,_0x50ae22,_0x466084);}return _0x1fb6a4;}else return _0x4a7375;}catch(_0x471952){console[_0x2ea721(0x2c7)](_0x2ea721(0x38f),_0x471952),showMessage(_0x2ea721(0xa8f)+_0x471952[_0x2ea721(0x700)]);_0x262078&&(_0x1feb49[_0x2ea721(0x553)]=_0x2ea721(0x5b8));throw _0x471952;}finally{_0x2f1ff4[_0x2ea721(0x8c0)][_0x2ea721(0x9ff)](_0x2ea721(0x2ee)),document[_0x2ea721(0xbd5)](_0x2ea721(0x4cf))[_0x2ea721(0x256)]=![],document['getElementById'](_0x2ea721(0xa5f))[_0x2ea721(0x256)]=![],document[_0x2ea721(0xbd5)](_0x2ea721(0xa2d))['disabled']=![];if(_0x3ca4aa)_0x3ca4aa['disabled']=![];if(_0x3bbfc4)_0x3bbfc4[_0x2ea721(0x256)]=![];if(_0x108b41)_0x108b41[_0x2ea721(0x256)]=![];}}function exitFullscreen(){const _0x19daba=_0xdd45b5;if(document[_0x19daba(0x103)])document[_0x19daba(0x103)]()[_0x19daba(0x3ac)](_0x545702=>console[_0x19daba(0x2c7)](_0x545702));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document[_0x19daba(0x92e)]&&document[_0x19daba(0x92e)]();}}function enterFullscreen(){const _0x3582ef=_0xdd45b5,_0x24c488=document[_0x3582ef(0xa68)];if(_0x24c488[_0x3582ef(0x65d)])_0x24c488[_0x3582ef(0x65d)]()['catch'](_0x58a797=>{const _0x3f9ebb=_0x3582ef;console[_0x3f9ebb(0x2c7)](_0x3f9ebb(0x782)+_0x58a797[_0x3f9ebb(0x700)]+'\x20('+_0x58a797[_0x3f9ebb(0x8aa)]+')');});else{if(_0x24c488[_0x3582ef(0x5f8)])_0x24c488[_0x3582ef(0x5f8)]();else _0x24c488['msRequestFullscreen']&&_0x24c488[_0x3582ef(0x3a5)]();}}function handleCheatingEvent(){const _0x4e6322=_0xdd45b5;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x4e6322(0xae0),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4e6322(0xc31)+maxCheatAttempts+_0x4e6322(0x481)),document['getElementById'](_0x4e6322(0x21b))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x4e6322(0xd9)]('visibilitychange',handleVisibilityChange),document[_0x4e6322(0xd9)](_0x4e6322(0x2bd),handleFullscreenChange)):showMessage(_0x4e6322(0xb35)+cheatAttempts+'/'+maxCheatAttempts+_0x4e6322(0x4a9),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x5444fb=_0xdd45b5;if(currentMode===_0x5444fb(0x499)||!isQuizActive)return;if(document['visibilityState']===_0x5444fb(0x2ee))handleCheatingEvent();else document[_0x5444fb(0xc91)]===_0x5444fb(0xdc)&&(console['log'](_0x5444fb(0x866)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3e40a7=_0xdd45b5;if(currentMode===_0x3e40a7(0x499)||!isQuizActive)return;!document[_0x3e40a7(0xba6)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2f1211,_0x25f304=null,_0x21a77d=null){const _0x252955=_0xdd45b5,_0x2f3bfe=document[_0x252955(0xbd5)](_0x252955(0x32b));let _0x295e70='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x2f1211[_0x252955(0x6bd)]+_0x252955(0xa91);_0x2f1211[_0x252955(0x69e)][_0x252955(0x947)]((_0xe35fbb,_0x4804f1)=>{const _0xe7768d=_0x252955;!_0xe35fbb['id']&&(_0xe35fbb['id']='q_'+Date[_0xe7768d(0x435)]()+'_'+_0x4804f1);const _0x1f206b=_0xe35fbb[_0xe7768d(0x40c)]||_0x2f1211[_0xe7768d(0x51a)];_0x295e70+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x4804f1+_0xe7768d(0x660)+_0x4804f1+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4804f1+_0xe7768d(0x4cd);switch(_0x1f206b){case _0xe7768d(0xc6):_0x295e70+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x4804f1+'\x22>'+(_0x4804f1+0x1)+'.\x20'+_0xe35fbb['stem']+_0xe7768d(0x57f);_0xe35fbb['imageCode']&&(_0x295e70+='<div\x20id=\x22q-image-container-'+_0x4804f1+_0xe7768d(0xb08)+_0xe35fbb[_0xe7768d(0x1a9)]+_0xe7768d(0x969));_0x295e70+=_0xe7768d(0x1eb)+_0x4804f1+'\x22>'+_0xe35fbb[_0xe7768d(0xc67)]+_0xe7768d(0xb48),_0x295e70+=_0xe7768d(0x836)+_0x4804f1+'\x22>'+_0xe35fbb['explanation']+_0xe7768d(0xb48);break;case'short_answer':_0x295e70+=_0xe7768d(0x124)+_0x4804f1+'\x22>'+(_0x4804f1+0x1)+'.\x20'+_0xe35fbb[_0xe7768d(0x72b)]+'</p>';_0xe35fbb['imageCode']&&(_0x295e70+=_0xe7768d(0x2e6)+_0x4804f1+_0xe7768d(0xb08)+_0xe35fbb[_0xe7768d(0x1a9)]+_0xe7768d(0x969));_0x295e70+=_0xe7768d(0xad5)+_0x4804f1+'\x22>'+_0xe35fbb[_0xe7768d(0x24b)]+_0xe7768d(0xb48),_0x295e70+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x4804f1+'\x22>'+_0xe35fbb[_0xe7768d(0x32a)]+_0xe7768d(0xb48);break;case'true_false':_0x295e70+=_0xe7768d(0x124)+_0x4804f1+'\x22>'+(_0x4804f1+0x1)+'.\x20'+_0xe35fbb[_0xe7768d(0x72b)]+'</p>';_0xe35fbb[_0xe7768d(0x1a9)]&&(_0x295e70+=_0xe7768d(0x2e6)+_0x4804f1+_0xe7768d(0xb08)+_0xe35fbb[_0xe7768d(0x1a9)]+_0xe7768d(0x969));_0x295e70+=_0xe7768d(0x64d)+(_0xe35fbb[_0xe7768d(0xa7d)]===!![]?_0xe7768d(0x230):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xe35fbb['correctAnswer']===![]?'text-green-600\x20font-bold':'')+_0xe7768d(0x8b1),_0x295e70+=_0xe7768d(0x836)+_0x4804f1+'\x22>'+_0xe35fbb[_0xe7768d(0x32a)]+'</span></div>';break;case'fill_in_the_blank':case'multiple_choice':default:_0x295e70+=_0xe7768d(0x124)+_0x4804f1+'\x22>'+(_0x4804f1+0x1)+'.\x20'+_0xe35fbb['questionText']+_0xe7768d(0x57f);_0xe35fbb[_0xe7768d(0x1a9)]&&(_0x295e70+=_0xe7768d(0x2e6)+_0x4804f1+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xe35fbb[_0xe7768d(0x1a9)]+'</div>');_0x295e70+=_0xe7768d(0x6e8)+_0x4804f1+_0xe7768d(0xaf9)+(_0xe35fbb[_0xe7768d(0x996)]||[])[_0xe7768d(0xb43)]((_0x590f07,_0x2a47e0)=>_0xe7768d(0x279)+(_0x2a47e0===_0xe35fbb['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x590f07+'</li>')[_0xe7768d(0xb92)]('')+_0xe7768d(0x6e3),_0x295e70+=_0xe7768d(0x836)+_0x4804f1+'\x22>'+_0xe35fbb['explanation']+'</span></div>';break;}_0x295e70+=_0xe7768d(0x969);}),_0x295e70+=_0x252955(0x7a1),_0x2f3bfe[_0x252955(0x553)]=_0x295e70,document[_0x252955(0x197)](_0x252955(0x28a))[_0x252955(0x947)](_0x304278=>_0x304278[_0x252955(0x915)](_0x252955(0x98f),handleEditQuestion)),document[_0x252955(0x197)]('.regenerate-question-btn')['forEach'](_0xf8d363=>_0xf8d363[_0x252955(0x915)](_0x252955(0x98f),handleRegenerateQuestion)),document[_0x252955(0xbd5)](_0x252955(0xb31))['addEventListener']('click',exportQuizAsWorksheetPDF),document[_0x252955(0xbd5)]('verify-answers-btn')[_0x252955(0x915)]('click',handleVerifyAnswers);const _0x3229b4=document[_0x252955(0xbd5)]('save-quiz-btn');if(_0x3229b4){const _0x267a3f=_0x25f304||currentProjectId;_0x3229b4[_0x252955(0x915)]('click',()=>saveQuiz(_0x267a3f,_0x21a77d));}if(window[_0x252955(0x9dd)])window[_0x252955(0x9dd)]['typesetPromise']([_0x2f3bfe]);}function handleRegenerateQuestion(_0x53da5f){const _0x23412a=_0xdd45b5,_0x51ef08=_0x53da5f[_0x23412a(0xc23)][_0x23412a(0x41c)][_0x23412a(0x3f3)],_0x280c42=currentQuizData[_0x23412a(0x6bd)];showMessage(_0x23412a(0x87f)+(parseInt(_0x51ef08)+0x1)+'\x20ใหม่...'),generateQuiz(_0x280c42,null,parseInt(_0x51ef08));}function _0x2f11(){const _0x8cfd55=['.ideal-answer-input','\x20กลุ่ม</p></div>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','Error\x20starting\x20team\x20quiz:','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','FIRST_TRY_ACE','font-bold\x20text-red-700\x20line-through','16898nLlCzl','input[type=\x22checkbox\x22]','1:274192258111:web:4120c9118229b5644dd48a','isFinished','project-search-input','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','goto-next-question-btn','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','manual_release','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','(^|[^\x5c\x5c])\x5cb','default-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','student-project-leaderboard-table-body','หน่วยมวล/น้ำหนักและการแปลง','Error\x20joining\x20sync\x20game:','pre-test-checkbox','bg-green-100','element','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','parallel-default-1','การกระจายและการจัดหมู่','หัวข้อที่สร้างเอง','ยืนยันการจับคู่','badges','แบบทดสอบฝึกฝนเรื่อง:\x20','scheduled','ตัวแทนแห่งดวงจันทร์','ใช่','_opt0\x22>ใช่</label></div>','Error\x20clearing\x20linked\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','copy-quiz-id-btn','(หลังเรียน)\x20','input[name=\x22status-option\x22]:checked','topic-bank-list','blueprint-topics-list-container','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สายลมแห่งโชคชะตา','fill_in_no_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','gameVariant','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','.regenerate-question-editor-btn','\x22\x20ออกจากคลังนี้?','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-adaptive-quiz-checkbox','focus','.bp-create-onet-quiz-btn','join-live-game-btn','100px','ondrop','join','ลบแบบทดสอบสำเร็จแล้ว','create-from-bank-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','fromCharCode','subTopics','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','#confidence-input-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','size','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','admin','manage','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','default-1','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','fullscreenElement','N/A','authed_project_','title','modal-passing-score-input','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','ยกเลิกการจับคู่สำเร็จ','submissions','stem','ARRAY','warn','slice','Error\x20generating\x20parallel\x20post-test:','link-topic-input','รอผู้ควบคุมไปข้อต่อไป...','separate-by-content-checkbox','bg-gray-500','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','scratchpad-options','results-tab','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','กราฟฟังก์ชันตรีโกณ','back-from-results-btn','วงกลม:\x20สมการและสมบัติ','<div\x20class=\x22p-2\x20rounded-md\x20','ดอกเบี้ยอย่างง่าย','json','quiz-type-select','ตรีโกณมิติ','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','สมการค่าสัมบูรณ์','clientY','onload','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x20จาก\x20','manage-players-btn','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',',\x20r=','files','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','game-start-quiz-id','getElementById','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','hover:bg-indigo-100',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','stringify','\x5cle','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','per-question-text','text-green-700','#retake-for-improvement-btn','Error\x20listening\x20for\x20starred\x20quizzes:','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','description','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','touches','quizMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','analytics-summary-cards','reference-pdf-upload','Blueprint\x201','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','application','.topic-row','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','text-indigo-800','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','verify-answers-btn','#add-question-editor-btn','.\x20แต่ละข้อมี\x20','add-file-shortcut-btn','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','lesson-plan-title','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','เส้นจำนวน','bg-green-200\x20text-green-900\x20font-bold','responseSchema','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stepByStepExamples','ผ่าน','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','open-quiz-bank-btn','display','คณิตศาสตร์','เงาปริศนา','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','สมการตรีโกณมิติ','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','file-shortcuts-loading-msg','.csv','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','preventDefault','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','editable-quiz-topic','#student-project-leaderboard-content\x20thead','cancel-global-activity-btn','value','confirm-game-start-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','กรุณาพิมพ์คำตอบของกลุ่ม','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x202','playerNicknames','กองดอง','currentTarget','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','รอเปิด','นักล่าฝัน','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','referenceUrl','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','พิมพ์ตอบ','reference.txt','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','พอใช้','backgroundColor','ตรวจพบการออกจากหน้าจอครบ\x20','request','clientX','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','globalAlpha','p-2\x20bg-black/10\x20rounded-md','พิสัย','per-question-timer-container','show-results-btn','medium','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','q-explanation-','.topic-selection-btn','quiz-leaderboard-table','ทฤษฎีบทพื้นฐานของแคลคูลัส','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x5csum','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','round','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','bg-red-100\x20text-red-800','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','teacherTips','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','quiz-generation-area','totalQuestions','per-q-countdown','interesting-stats-container','เกมเมอร์','\x20in\x20all\x20blueprint\x20projects.','getBoundingClientRect','[data-topic-container-id]','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-reference-file-url','Error\x20displaying\x20blueprint\x20project:','</div></div></div>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Failed\x20to\x20get\x20hint:','ดอทโปรดักต์\x20(dot)','</label></div>','.draggable-text','การลบทศนิยม','$1\x5c%','bg-blue-500\x20hover:bg-blue-600\x20text-white','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','correctResponse','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','student','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','leaderboard-quiz-tab-content','อนุพันธ์:\x20กฎลูกโซ่','export-pdf-modal','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','move','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','handleGenerateAndShowLesson','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','confidenceMode','auto-fix-latex-btn','confidence-choice-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','indexOf','ai-quiz-app-aefee.firebaseapp.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','แปลงร่าง','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ','</button>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','date_asc','STOP','STRING','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','จากไฟล์ที่แนบมานี้,\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','add-custom-math-topic-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','inactive','pointsLastQuestion','</h4>','classWeaknesses','visibilityState','หัวข้อหลักใหม่','border-indigo-400\x20ring-2\x20ring-indigo-200','กิจกรรมสิ้นสุดลงแล้ว','<br>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','show_results_only','บันทึกการตั้งค่าการแสดงผลสำเร็จ','applicationHTML','pairedQuizId','mode-switcher-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz','แมวเก้าชีวิต','width','file-default-1','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollIntoView','ทะเล','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','อยู่ในหัวข้อหลักใด:','Error\x20listening\x20for\x20student\x20profiles:','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','behaviorLog','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','leq','confirmation-modal','Failed\x20to\x20kick\x20player\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','#results-table\x20thead\x20tr','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','interesting-stats-wrapper','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-item','onclick','score-distribution-chart','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','border-indigo-500\x20text-indigo-600','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','reveal-answer-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','toDataURL','results_','Team\x20Quiz','จำนวนและการดำเนินการ','open-sync-scratchpad-btn','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.project-card-container.opacity-50','leaderboard-quiz-tab-btn','.delete-hidden-file-shortcut-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','correct','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','helvetica','screen','contents','sara','scratchpad-modal','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','artifacts/','.delete-svg-btn','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','thead','กรุณาป้อนรหัสแบบทดสอบ','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','/studentProfiles','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','mouse','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','project-passcode-modal','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','matching_item','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-generate-lesson-btn','endsWith','.bp-try-btn','กำลังดึงไฟล์อ้างอิงจากลิงก์...','parent','Error\x20resetting\x20project\x20order:','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','เมทริกซ์:\x20บวก/คูณ','comparison-individual-tab','removeEventListener','.ai-content\x20li','reduce','visible','COMEBACK_KING','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','highlighter-tools-group','ไก่ฟ้าพญาลอ','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20resume\x20game\x20session:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','POST','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','release','<button\x20data-id=\x22','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','กำลังสร้างเนื้อหา:\x20','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rename-quiz-modal','source_document.txt','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','game-pin-input','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','createElementNS','bp-modal-quiz-type-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','student-quiz-area','text-green-700\x20bg-green-100','circ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','การแจกแจงปกติและ\x20z-score','close-comparison-modal-footer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shuffledQuiz','ไม่พบแบบทดสอบ','topic-quiz-bank-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','timer-mode-select','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','dragend','players.','createObjectURL','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ตรวจทานเฉลยเสร็จสิ้น!','results-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','topic-input','rgba(79,\x2070,\x20229,\x201)','.group\x5c/dropdown-parallel','add-from-global-bank-btn','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','highlighter-size-slider','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','style','text/plain','dispatchEvent','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','push','transition-all','manual-bp-grade-level','order','.lastAnswerIndex','topicId','resultsDisplay','รายการนี้','color','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','AI\x20Formula\x20Fix\x20Error:','padStart','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','learningGaps','leaderboard-tab','Re-grade\x20process\x20failed:','กรุณาวาง\x20URL\x20ของบทความก่อน','fileShortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','modal-timer-mode-select','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','toDate','reviewQuestionIndex','text-emerald-900','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','update-old-quizzes-btn','text-gray-300\x20hover:text-white','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','http://www.w3.org/2000/svg','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','mandatory','behavior-log-tab-btn','\x5ccdot','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','worksheet-tab','.delete-project-btn','open-blueprint-projects-btn','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-modal','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','get','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','.edit-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','passcode-input-container','นินจาชาเขียว','ถูก','num-choices','q-text-','live-player-list','สมการยกกำลัง','jspdf','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','confirm-delete-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','border-green-700','question-analytics-container','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','scratchpad-controls','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-results-display-select','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','transform','selected-answer-index-hidden','difficultyValue','การคูณเศษส่วน','\x20รายการ\x20สำเร็จ!','/public/data/liveGames','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','ไฮเพอร์โบลา','include-images-checkbox','currentQuestionIndex','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','projectSort','\x20รายการสำเร็จ!','1952YIUAvd','input[name=\x22drill_answer\x22]:checked','cancel-shortcut-edit-btn','\x20ชุด)</span>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','Error\x20toggling\x20pin\x20status:','timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','.shortcut-tab-btn','passcode','blueprint-project-manager-view','complexityValue','button[type=\x22submit\x22]','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','querySelectorAll','Error\x20saving\x20project\x20order:','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','user','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','list','การเรียงสับเปลี่ยน\x20(Permutation)','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-parallel-shortcut-tab-btn','shortcut-blueprint-url-input','unshift','confirm-join-game-btn','toLowerCase','entries','Error\x20during\x20blueprint\x20link\x20cleanup:','.live-answer-btn,\x20#sync-submit-btn','imageCode','\x22\x20data-pre-test-id=\x22','Error\x20rendering\x20student\x20progress:','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','upperGroupResponders','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','นักเดินทาง','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcutId','มือปราบสายรุ้ง','code','เกิดข้อผิดพลาดในการส่งคำตอบ','</li>','6920016vIiIqF','stopPropagation','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x20คะแนน</span></div>','grid-view-btn','fill_in_with_choices','Error\x20verifying\x20answers\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</span><span\x20class=\x22font-bold\x22>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คนคุย','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bp-modal-shuffle-setting-select','fadeStartTime','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','.bp-game-btn','classStrengths','student-reading-area','wakeLock','bg-green-500\x20hover:bg-green-600\x20text-white','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','รักแรกพบ','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','.question-editor-item:last-of-type','save-project-name-btn','หน่วยความยาวและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','เปลี่ยนชื่อโปรเจคสำเร็จ','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','ไม่สามารถโหลดข้อมูลอันดับได้','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','add-parallel-shortcut-btn','มุมพิเศษ\x2045°-45°-90°','การบวกเศษส่วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','sin','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','Error\x20saving\x20shortcut:','Error\x20linking\x20quizzes:','เรขาคณิต','/lessons','modal-confidence-mode-container','rows','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','generationConfig','min','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','#000000','transformOrigin','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','```','/public/data/practiceBank','คำถามดิบ:\x20\x22','comparison-chart','\x22\x20name=\x22team_answer\x22\x20value=\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','isNormalTopic','close-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','temp-loader-text-results','กัปตัน','ceil','blur','_opt0\x22\x20name=\x22question','แบบทดสอบที่ติดดาว','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','ป่าไม้','ลำดับเรขาคณิต\x20(GP)','OBJECT','fas\x20fa-star\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','#open-additional-parallel-shortcuts-btn','quiz-search-input','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','font-bold\x20text-green-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ความคล้ายของรูป','shortcuts','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','#DBEAFE','topic-tab','ตัวเลือก\x20ข','pointerdown','ไม่มีผู้ตอบตัวเลือกนี้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','<p\x20class=\x22','qType','quiz-form','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','sync-short-answer-input','bp-modal-include-images-checkbox','มังกรกินจุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-list-item','globalSettings','ยืนยันและอัปเดตทั้งหมด','export-image-btn','projectView','ไม่พบข้อมูลแบบทดสอบ','parallel-test-input-area','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ฟังก์ชันพหุนาม','.file-shortcut-btn','end-game-btn','---\x20[คำถามใหม่]\x20---','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','text-green-600\x20font-bold','สัญกรณ์วิทยาศาสตร์','delete-svg-btn','bg-green-500','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','_new','confidence-scoring-description','ระยะเวลา\x20(นาที):','wasConfident','splice','</span></td>','ดีเทอร์มิแนนต์','#open-additional-file-shortcuts-btn','option','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเป็นอิสระของเหตุการณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','.sortable-header','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x20สำเร็จ','idealAnswer','กรุณาเลือกคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่ได้ตอบ','innerText','Error\x20regenerating\x20question\x20in\x20editor:','members','pin','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x5cpm','disabled','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','.start-game-btn','ย้ายแบบทดสอบไปโปรเจคอื่น','dfrac','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','#F59E0B','กรุณาเลือกโปรเจคปลายทาง','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','.pen-size-btn','/public/data/teamQuizzes','pre-test','student-initial-view','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#FFFFFF','text-input-area','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','filter','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','createElement','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','offsetWidth','curriculum','temp-loader-results','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จันทร์เจ้า','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','label[for=\x22num-questions\x22]','<li\x20class=\x22','bg-yellow-50','(คัดลอก)\x20','.ai-fix-formula-btn','input[name=\x22syncVariant\x22]:checked','lesson-sections-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','playerName','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','NEGATIVE_INFINITY','\x20ข้อ\x20','คนดีศรีสยาม','.remove-shortcut-from-tab-btn','#ffffff','</body></html>','\x20mb-2\x22>','เพิ่มหัวข้อ\x20\x22','.edit-question-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','starred-project','floor','เงินงวด\x20(อนุกรมเงินงวด)','คะแนนเต็ม','selected-topics-count','image/png','ไฟล์ลัด\x201','toLocaleString','q-image-container-','\x20แบบทดสอบลงในคลังสำเร็จ!','ใช่\x20/\x20ถูก','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ยืนยันการกระทำ','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','แก้ไขข้อนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','student-team-join','.parallel-shortcut-tab-btn','ไอติมทอด','Error\x20verifying\x20answers:','move-quiz-modal','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','รูปสแควร์รูท\x20(surd)','highlighter','attempts','password-error-msg','Error\x20deleting\x20submission:','reset-view-btn','จำนวนคละ','modal-confidence-mode-select','lessonPlan','กรุณาป้อนหัวข้อสำหรับใบงาน','quiz-start-time','stdDev','.pen-color-btn','upperGroupNames','.project-card-content','\x27\x20ในหัวข้อ\x20\x27','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20saving\x20file\x20shortcut:','beforeend','<div\x20class=\x22space-y-4\x22>','ไม่พบเอกสารการส่งงานของ\x20','fullscreenchange','กรุณาเลือกคำตอบก่อนครับ','student-quiz-topic','อนุพันธ์:\x20ผลคูณ/ผลหาร','project-title','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','.delete-quiz-btn','วงรี','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22>จาก:\x20','error','.submittedAt','แผนภาพกล่อง\x20(box\x20plot)','8171636baZMqF','includeImages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div>','Error\x20saving\x20user\x20preference:','every','.start-live-race-btn','รูปสี่เหลี่ยมและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','global-quiz-search-input','ไม่สามารถเริ่มเกมได้','eraser','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','Error\x20joining\x20activity:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คำอธิบาย...','submission-status-chart','project-passcode-input','keys','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','Error\x20updating\x20old\x20quizzes:','show_results_and_answers','.delete-question-editor-btn','#6366F1','restore','<div\x20id=\x22q-image-container-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-modal-title','???','/preferences/main','API\x20call\x20failed','delete','team','hidden','scores-tab-btn','<button\x20data-shortcut-id=\x22','parallel-default-','ความแปรปรวน','result','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','#E5E7EB','การนับ','<i\x20class=\x22fas\x20fa-save\x22></i>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','topics','.bp-delete-topic-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','question-complexity-select','deselect-all-topics-btn','function','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','ไม่มี','add-parallel-shortcut-tab-btn','</form>','trail','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','point','กรุณากรอกข้อมูลให้ครบทุกช่อง','ท็อปฟอร์ม','เพิ่มปุ่มลัดจากไฟล์ใหม่','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','both','Remedial\x20quiz\x20generation\x20failed:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','แท็บใหม่','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','additional-parallel-shortcuts-list','Error\x20deleting\x20quiz:','reveal-names-btn','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','การปัดเศษและประมาณค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','การลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','not_confident','questionIndex','Failed\x20to\x20generate\x20practice\x20test:','destroy','touchstart','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','student-quiz-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','class','parallel-shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','Error\x20fetching\x20student\x20rankings:','explanation','generated-quiz-container','</select>','add-student-btn','.move-shortcut-item','parts','Error\x20creating\x20project:','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','true','.delete-bp-project-btn','perQuestionStats','setAttributeNS','getDocument','\x20\x20\x20-\x20','presentation-ai-result','.edit-quiz-btn','actions-container-','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','show_pass_fail_only','.generate-post-test-btn','fix\x20the\x20option','substring','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','แบบปรนัย\x204\x20ตัวเลือก','newCorrectIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','activeGameSession','bank-input-area','save-shortcut-btn','presentation-explanation','กำลังสแกนหาแบบทดสอบเก่า...','dashboardConfig','readAsArrayBuffer','export-pdf-btn','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','finished','บันทึกการตั้งค่าแล้ว','ส้มตำปูปลาร้า','save-parallel-shortcut-btn','[data-field=\x22subTopic\x22]','topic-bank-subtopic-name','.delete-shortcut-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','retake-quiz-loop-btn','export-leaderboard-image-btn','teachingContent','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','สร้างใหม่','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','):\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','เลือกโปรเจคเพื่อบันทึก','แก้ระบบสมการด้วยเมทริกซ์','prev-question-btn','คัดลอกแบบทดสอบสำเร็จ','ความสัมพันธ์ของมุม','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.verification-result-editor','badgesCount','Error\x20starting\x20live\x20race:','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','pow','ห.ร.ม.\x20(GCD)','.verification-result','bank-quiz-list','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','on_fire','_opt1\x22\x20name=\x22question','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x20|\x20ID:\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','isAnonymousRevealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','.isScored','redo-btn','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','Error\x20deleting\x20shortcut:','cloneNode','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','การหาร','btn','พื้นที่ผิวรูปทรงสามมิติ','/public/data/learnedFixes','ส่งคำตอบ','test','.admin-try-quiz-list-btn','ยกเลิกการเชื่อมโยงสำเร็จ','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','6TEDGAU','shortcutIds','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','Error\x20in\x20handleApiCall:','createdAt','อสมการเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','hasPerfectScoreBonus','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','student-quiz-leaderboard-table-body','list-view-btn','create-project-btn','.live-answer-btn','parentElement','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','justification','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','parseInline','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','msRequestFullscreen','<textarea\x20name=\x22question','ไม่พบโปรเจค','Error\x20updating\x20quiz\x20settings:','admin-password-input','student-team-selection-view','<span\x20title=\x22','catch','สร้างแบบทดสอบ','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','blueprint-tab','export-lesson-pdf-btn','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','bg-red-500','onchange','onerror','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','student-view','log','ดูผลสรุปสุดท้าย','remove','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','handleGenerateQuizFromBlueprintTopic','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','.quiz-bank-checkbox:checked','กำลังวิเคราะห์หัวข้อ...','.question-editor-item[data-q-index=\x22','gradeLevel','comparison','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Error\x20processing\x20file\x20shortcut\x20click:','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว',';\x22\x20data-id=\x22','มัธยฐาน','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shadowColor','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','แบตหมด','Error\x20submitting\x20team\x20answer:','doughnut','CEOพันล้าน','.edit-parallel-shortcut-btn','file.txt','Error\x20loading\x20blueprint\x20projects:','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','.application-options\x20button','Error\x20duplicating\x20quiz:','/public/data/blueprintProjects','บันทึกคำถามใหม่\x20','ผู้ไม่ยอมแพ้','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','first_try_ace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20shortcut\x20config:','flex','comparison-individual-content','Failed\x20to\x20generate\x20lesson:','responses.','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate(','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','confidence','index','slide-counter','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','.space-y-1.pl-4','เกิดข้อผิดพลาดในการแก้ไข','<div\x20class=\x22mb-3\x20topic-category\x22>','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','pdf','ที่พิมพ์ได้\x20จำนวน\x20','execCommand','กำลังสร้างแบบทดสอบจากหัวข้อ...','bg-emerald-100','ราชาคัมแบ็ก','tGain','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20value=\x22false\x22\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','ดาวสภา','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','Blueprint\x202','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','questionType','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','arrayBuffer','/public/data/blueprintProjects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจค\x20\x22','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x5cfrac{$1}{$2}','สายหมอก','confirm-team-players-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','fa-dumbbell\x20text-gray-700','startedAt','overallGroups','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','PERFECT_SCORE','toFixed','ก่อนเรียน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','autoTable','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','.ai-content\x20blockquote','MathJax\x20typeset\x20error\x20(analytics):','bg-yellow-200','toLocaleDateString','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','Error\x20saving\x20quiz:','การคูณ','cancel-move-quiz-btn','dragover','worksheet-topic-input','บันทึกการตั้งค่าสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','student-progress-view','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','now','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','.move-parallel-shortcut-menu-btn','ผิด','per-question-options','shouldSaveResults','กรุณาสร้างบทเรียนก่อน','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-id=\x22','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','confirm-confident','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','input','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','fix-lesson-latex-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','live-game','cancel-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชีสเค้ก','-\x20ข้อ\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ศูนย์','</div></div>','\x20quizzes\x20into\x20global\x20cache.','AI\x20grading\x20failed:','originalQuestionText','อัตราการเปลี่ยนแปลงทันที','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle','close-lesson-plan-modal-btn','quiz-bank-modal','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','การยืนยันตัวตนล้มเหลว','<div\x20class=\x22flex-1\x22></div>','ถูกต้อง!','transparent','.generate-content-btn','แคลคูลัสเบื้องต้น','9332770wPkFcq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x22\x20data-name=\x22','.delete-file-shortcut-btn','.ai-content\x20p','questionId','toString','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','แบบทดสอบซ่อมเสริม','text-gray-400\x20hover:text-indigo-600','select','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','หมีขั้วโลกใต้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','num-choices-container','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x5cge','close-additional-shortcuts-btn','อินเวอร์สของเมทริกซ์','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','circle','\x20(ID:\x20','.ideal-answer-input,\x20.correct-response-input','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','referenceFileUrl','input[type=\x22radio\x22][value=\x22','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','checkbox','#file-shortcut-tabs-nav\x20.tab-name-input','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้าวมันไก่พิเศษ','Error\x20confirming\x20players\x20for\x20sync\x20game:','latestScore','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','touchcancel','fixed','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','สมการราก\x20(radical)','save-bp-reference-btn','การบวก','whole_quiz','0\x200','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','.remove-file-shortcut-from-tab-btn','projectOrder','เกิดข้อผิดพลาดในการลบโปรเจค','แผนการสอน:\x20','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','show-leaderboard-btn','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','removeItem','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','fa-bolt\x20text-blue-500','border-green-300\x20bg-green-50','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-timer-duration-label','ต้นฉบับ\x201','.project-card-container','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','Error\x20fetching\x20lesson\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','drop','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','groups','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','ฟังก์ชันแบบชิ้นส่วน','answering','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pen','confidence-modal','.pointsLastQuestion','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','eraser-tools-group','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','set','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','fa-pen','บทเรียน','close','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','ไม่พบข้อมูลหัวข้อที่จะบันทึก','border-red-300\x20bg-red-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','$1\x20\x5cfrac','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','274192258111','เต่าสายฟ้า','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','presentation-modal','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','generate-from-topic-btn','ฮิสโตแกรม','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','.quiz-result-card','results-quiz-id-display','#FEE2E2','\x20รายการ...','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','\x22>ไม่ใช่</p>','ref','tfrac','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','border-red-700','confirm-quiz-settings-btn','pointercancel','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','AI\x20did\x20not\x20return\x20any\x20content.','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','mainTopics','rgba(16,\x20185,\x20129,\x200.7)','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','then','อัปเดตแบบทดสอบเก่า\x20','/public/data/syncGames','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','far\x20fa-star','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','project-quizzes-list','</span>','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','link-url-input','\x20ชุดสำเร็จ!','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20saving\x20file\x20shortcut\x20config:','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','ติดซีรีส์','scrollHeight','from','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text/html','ต้นฉบับทั้งหมด','confirm-rename-quiz-btn','rgba(239,\x2068,\x2068,\x200.9)','Error\x20updating\x20project\x20color:','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','\x22\x20สำเร็จ!','API\x20call\x20failed\x20with\x20status:\x20','Error\x20deleting\x20custom\x20topic:','https://drive.google.com/uc?export=download&id=','ซามูไรสายเดี่ยว','default','team-quiz-topic','sort','save-file-shortcut-btn','.topic-actions-edit','specialist','lesson-view-content','perfect_score_status','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','startsWith','game-start-mode','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','การจัดกลุ่มข้อมูล','additional-file-shortcuts-list','prod','pen-tools-group','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','quizType','(คู่ขนาน)\x20','correctAnswerIndex','touch','NUMBER','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','สาระที่\x201','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','<tr><td\x20colspan=\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','file-default-2','วงกลม:\x20คอร์ดและเส้นสัมผัส','eraser-tool-btn','isPasscodeEnabled','...\x22)?','hint-btn','applicationData','numQuestions','confirm-admin-login-btn','ไม่มีคำอธิบาย','copy','stroke','<button\x20data-quiz-id=\x22','<tr>','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','strokeStyle','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','/questionBank','.status','text-indigo-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','file-tab','additional-file-shortcuts-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','standard','สร้างชุดคำถามจับคู่','presentation-short-answer-input','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','start-game-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ai-fix-question-btn','findIndex','download','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','/public/data/projects/','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</tbody></table></div>','innerHTML','countdown-display','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','ยอดเยี่ยม','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<li>','quizId','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','กำลังโหลดคลังข้อสอบทั้งหมด...','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','https://corsproxy.io/?','originalTopic','scratchpad-close-btn','getScreenCTM','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ไอรอนแมน','text-indigo-600','mousemove','Error\x20deleting\x20project:','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','#E0E7FF','เพิ่มรายการที่เลือก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anonymous','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','solution','Error\x20confirming\x20players:','Sync\x20Mode','pointerup','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','input[name=\x22team_player\x22]:checked','ท้องฟ้า','API\x20Error\x20Body:','memoryContent','practiceProblems','</p>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','จำนวนคู่:','Error\x20clearing\x20all\x20links:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พื้นที่สามเหลี่ยม','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','กำลังเตรียมไฟล์อ้างอิง...','uid','เหมียวขี้เซา','submittedAt','กำลังสร้างรูปภาพ...','string','Enter','setFont','อินฟลูเอนเซอร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','postTScore','body','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','close-lesson-view-btn','ส่งแล้ว','linkedQuizIds','quiz-id-input','Auto-linking\x20new\x20quiz\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','สายลับจับบ้านเล็ก','confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','cancel-test-btn','questionDisplayedAt','AI\x20request\x20was\x20blocked.\x20Reason:\x20','perfect_score','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','(ก่อนเรียน)','reference.pdf','project-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบจากคลังส่วนตัว','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ai-quiz-app-aefee','เกิดข้อผิดพลาด:\x20','back-to-dashboard-from-results-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','answer','.edit-hidden-parallel-shortcut-btn','mjx-container','student-project-leaderboard-tab','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','project-dashboard-view','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปลาทูคะนอง','Error\x20generating\x20from\x20link:','bulk-quiz-settings-btn','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','starred','#math-topics-checkbox-container\x20input:checked','Leaderboard\x20update\x20transaction\x20failed:\x20','center','cancel-create-project-btn','isRemedial','.png','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ผู้พิชิตดาว','<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20จุดเรียบร้อยแล้ว','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','student-passcode-input','\x22\x20name=\x22confidence','แบบทดสอบนี้ปิดใช้งานอยู่','sync-matching-select','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','add-shortcut-tab-btn','<button\x20data-tab-id=\x22','</div>\x0a</div>\x0a','querySelector','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','passcode-prompt-message','จุด\x20เส้น\x20ระนาบ','เกิดข้อผิดพลาดในการเปลี่ยนสี','textContent','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','แบบทดสอบ:\x20','live-player-management','bp-modal-difficulty-level-select','สมมาตร\x20(แกน/จุด)','textarea','isScored','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','draggable-text','setItem','\x20\x20\x20-\x20คำตอบ:\x20','short_answer','ม้าดีดกะโหลก','Test\x20Blueprint','อุณหภูมิและการแปลง','ปริพันธ์ไม่จำกัด','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','จำนวนข้อ:','เพิ่ม\x20','ภูเขา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitRequestFullscreen','กลุ่มของคุณ','max','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สลับไปโหมดนักเรียน','\x22\x20data-quiz-id=\x22','getItem','\x27,\x20\x27','summary','ดอกเบี้ยทบต้น','blueprint-upload-input','Error\x20fetching\x20projects\x20for\x20move:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','removeChild','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','cancel-quiz-bank-btn','สู้ๆ\x20ลองอีกครั้งนะ','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','editor-quiz-topic','clearRect','.move-shortcut-dropdown','keyup','เกิดข้อผิดพลาดในการเข้าร่วมเกม','(เลือกแล้ว\x20','summaryContent','timed','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x5csqrt{$1}','Error\x20starting\x20group\x20quiz:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</a>','\x22\x20class=\x22color-palette-btn\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','student-list','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','Error\x20unlinking\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการลบแบบทดสอบ','docs','หนอนหนังสือ','project-id-display','ตัวเลือก\x20ค','generate-from-parallel-test-btn','cursor','.move-shortcut-menu-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','pinnedProjects','project-sort-select','.parallel-quiz-btn','กรุณาเลือกสถานะ','presentation-slide-container','Error\x20preparing\x20content\x20quiz:','blueprint-projects-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence',')\x22>','คณิตการเงิน/บูรณาการ','adaptive-quiz-checkbox','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','timer-duration-label','\x22,\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','9oehUtA','bg-green-50','loopUntilPass','No\x20player\x20data\x20to\x20save.','height','bg-red-50','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','getElementsByTagName','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','-tab','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','suggestedAnswer','geq','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','duration-300','ON_FIRE','sync','text-purple-600','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','next-question-btn','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','requestFullscreen','isDefault','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','บันทึกแบบทดสอบสำเร็จแล้ว!','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','...','กำลังดึงข้อมูลจากลิงก์...','results-tab-content','save-quiz-btn','latestSubmittedAt','includes','project-name-input','global-activity-quiz-list','isCorrect','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','href','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','file-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ปริมาตรรูปทรงสามมิติ','checked','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','typesetPromise','<div\x20class=\x22my-2\x22>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','คาถาแยกเงาพันร่าง','.scratchpad-content-wrapper','/submissions','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','.quiz-settings-btn','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนและสัดส่วน','Error\x20generating\x20lesson\x20plan:','ai-quiz-generator-v3','numPages','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','answered','additional-shortcuts-list','parallel-shortcut-editor-modal','\x5ctimes','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','เนื้อหาสำหรับสอน:\x20','show-in-student-dashboard-checkbox','trail-tool-btn','answer-grid-container','Error\x20pairing\x20quizzes:','export-leaderboard-word-btn','จากเนื้อหาต่อไปนี้:\x20\x22','กำลังอ่านและเตรียมไฟล์...','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','lineWidth','separate-by-content-from-file-checkbox','Failed\x20to\x20create/update\x20submission\x20record:','text/csv;charset=utf-8;','กรุณาเลือกไฟล์ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','questions','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันและเส้นตรง','file-topics-list','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','ทำคะแนนเต็มในการทำครั้งแรก','.sort-indicator','ตอบถูก\x203\x20ข้อติดต่อกัน','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','ไม่พบตารางสำหรับ\x20Export','blueprint-settings-modal','กำลังสร้างบทเรียน:\x20','matching','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','ตัวประกอบและตัวประกอบเฉพาะ','manage-tab','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดาวTikTok','scratchpad-clear-btn','นักดนตรี','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x22\x20data-target-tab-id=\x22','2-digit','ปริมาตร/ความจุและการแปลง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','timerMode','topic','start-quiz-btn','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','ไม่ใช่\x20/\x20ผิด','applicationContent','not-found','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','application/pdf','schedule','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','parseFromString','dragstart','.presentation-option','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','groups.','<p>','.project-card-container[data-id]','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จับคู่เพื่อเปรียบเทียบผล','โดเมนและเรนจ์','bg-[#DCFCE7]\x20text-green-900','\x0a\x20\x20\x20\x20','ฮัลค์','BOOLEAN','open-global-live-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','ฟังก์ชันยกกำลัง','rgba(79,\x2070,\x20229,\x200.8)','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','Error\x20adding\x20topic:','submission','ย้ายแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.group\x5c/dropdown','โลมาบิน','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','next-drill-btn','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','_opt','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</p><p><strong>เฉลย:</strong>\x20','lower_group_count','blueprint-topics-list','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-container','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bulk-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','bg-gray-200\x20text-gray-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','text-red-600','ร้อยละพื้นฐาน','message','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','reveal_at_end','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','neq','.mb-6.p-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-sync-game-btn','mixed','default-2','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','confidence-mode-select','th-TH','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','firstScore','bestScore','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ผู้ควบคุม\x20(ทดสอบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','select[name=\x22question_single\x22]','<span\x20class=\x22font-bold\x20','Error\x20saving\x20parallel\x20shortcut:','.delete-hidden-shortcut-btn','\x20คะแนน\x20','.doc','กำลังค้นหากิจกรรม...','insertAdjacentHTML','พิซซ่าหน้าทุเรียน','export-excel-btn','บันทึกโปรเจค\x20\x22','grid','นักวิทยาศาสตร์','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-default-2','td,\x20th','.topic-category','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','questionText','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','num-questions','export-leaderboard-pdf-btn','ปวดหลัง','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','keyConcepts','Error\x20saving\x20game\x20results:','PROMPT_PLACEHOLDER','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่ผ่าน','back-to-project-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','คัดลอกรหัสแล้ว!','เส้นตรง:\x20ขนาน/ตั้งฉาก','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ออฟฟิศซินโดรม','ดีมาก','manual-bp-project-name','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','per_question','passing-score-input','modal-loop-until-pass-checkbox','/public/data/customMathTopics','นักเขียน','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','จอมเวทย์ขนมหวาน','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','move-quiz-project-select','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list-container','เกมสิ้นสุดลงแล้ว','.answers','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','cancel-export-pdf-btn','รูปแบบการให้เหตุผล','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','overline','category','admin-password-modal','globalCompositeOperation','bulk-confidence-scoring-checkbox','substr','devicePixelRatio','ย้าย','เรเดียนและการแปลงหน่วย','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','questions_only','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','save','onloadend','admin-dashboard','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','numChoices','textarea[name=\x22team_answer\x22]','\x22\x20จำนวน\x20','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','file-topic-input','ครูใหญ่','\x20from\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pop','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อกหัก','QUICK_THINKER','.answeredCurrentQuestion','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isLooping','manual-blueprint-modal','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20link(s)\x20for\x20quiz\x20ID:\x20','cancel-passcode-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','upper_group_count','file-shortcut-editor-modal','close-lesson-plan-modal-footer-btn','undo-btn','appendChild','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','คะแนนเต็ม!','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ค่าเสื่อมราคา','contains','blueprintUrl','ondragend','สถิติและความน่าจะเป็น','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineJoin','analytics-tab-btn','rgba(255,\x20255,\x200,\x200.5)','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','จำนวนเต็มบวก','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generate-worksheet-btn','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','.auto-resize-textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','force-math-checkbox','readAsDataURL','Group\x20Mode','Error\x20deleting\x20topic:','text-blue-700\x20bg-blue-100','trim','file-shortcut_','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','strength-weakness-analysis-container','\x20คนที่ส่ง\x20ตอบถูก\x20(','create-project-modal','จัดการ','gain','ร้อยละประยุกต์','.pin-project-btn','cancel-team-selection-btn','bulk-quiz-settings-modal','Error\x20saving\x20parallel\x20shortcut\x20config:','timer-duration-input','save-visibility-settings-btn','editable-text-','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tool-btn','cancel-bp-settings-btn','player-count','standardTopic','เพิ่มปุ่มลัดใหม่','\x22\x20value=\x22','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','text-gray-700','พีชคณิตและฟังก์ชัน','สำหรับหัวข้อ\x20\x27','Error\x20processing\x20shortcut\x20click:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','open-scratchpad-btn','อยู่ในสาระการเรียนรู้ใด:','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','close-game-final-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','gameData','ทฤษฎีทวินาม\x20(เบื้องต้น)','.pair-quiz-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','close-presentation-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','.bp-live-btn','shuffleSetting','open','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallelShortcutOrder','memory','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','shortcut-modal-title','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','เน็ตไอดอล','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x22.\x20Ideal\x20Answer:\x20\x22','สร้างแบบทดสอบปรนัย','text-gray-500','พาราโบลา','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','next-sync-question-btn','empty','กฎของโคไซน์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','startTime','underline','leaderboard-table-body','โจรสลัดอวกาศ','blueprint-shortcut-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<button\x20data-value=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','pen-tool-btn','.move-file-shortcut-dropdown','preTestId','bg-[#4ADE80]\x20text-green-900\x20font-bold','showRankings','cancel-game-start-btn','math-topics-checkbox-container','ปล่อยพลัง','bg-black/10','clear-all-links-btn','currentMode','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','frac','AI\x20Fix\x20Error:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.question-editor-item','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','เกิดข้อผิดพลาดในการอัปเดต:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','.delete-student-btn','dimmed','บทเรียนเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','studentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','-tab-content','คู่จิ้น','.lastAnswerCorrect','เส้นรอบรูป','difficulty-level-select','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','.lastAnswerValue','.bp-unlink-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','instructions','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','save-bp-settings-btn','Error\x20starting\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-input','ลำดับการดำเนินการ\x20(PEMDAS)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','modal-timer-duration-container','save-settings-btn','blueprint-options-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','commonMistakes','เพื่อนสนิท','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','confirm-bulk-quiz-settings-btn','student-name-selection-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','parse','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','Original\x20quiz\x20not\x20found','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','ai-quiz-app-aefee.firebasestorage.app','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','export-lesson-to-pdf-btn','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectSortOrder','submit','showInStudentDashboard','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','mousedown','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แอบชอบ','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','url','textarea[name=\x22question_single\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.delete-parallel-shortcut-btn','blob','timerDuration','ไม่พบแบบทดสอบในระบบเลย','bp-modal-passing-score-input','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','preScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','ข้อต่อไป','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการสร้างใบงาน','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','#D1FAE5','tooltipTarget','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','การหารทศนิยม','student-progress-content','end-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','summary_chart','setAttribute','.compare-results-btn','totalPoints','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','dblclick','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','.correct-response-input','topicName','manual-bp-content','ความชันเส้นสัมผัส','\x22><i\x20class=\x22fas\x20','กำลังสร้างคำถามข้อ\x20','.subTopic','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','แก้ไขชื่อหัวข้อย่อย:','showImproveButton','_blank','link-input-area','type','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','สร้างโปรเจคสำเร็จ!','.star-quiz-btn','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','getBBox','พบ\x20Sync\x20Game!','bp-modal-question-complexity-select','reference_onet.pdf','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','สรุปผลการวิเคราะห์:\x5cn','undefined','sum','\x20จุด','ชื่อโปรเจคห้ามว่าง','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','shortcut-id-input','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','target','Error\x20saving\x20quiz\x20edits:','\x20(สำหรับ\x20','text-gray-100','promise','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','tool','toISOString','name','สร้างคำถามแบบเติมคำในช่องว่าง','.bp-view-analysis-btn','.txt','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','/users/','parallel-shortcut-url-input','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','Authentication\x20failed:','กรุณาพิมพ์คำตอบ','some','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ควรปรับปรุง','bg-red-100','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<i\x20class=\x22fas\x20fa-pen\x22></i>','.quiz-bank-present-btn','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','candidates','load-quiz-btn','classList','normal','กฎของไซน์','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','main-correct-answer-display','.quiz-status-btn','แก้ไขปุ่มลัดจากไฟล์','.live-answer-btn,\x20#live-submit-short-answer-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','admin-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','ระบบอสมการ','content','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','file-shortcut-modal-title','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','decode','insertBefore','.use-hidden-file-shortcut-btn','data:application/vnd.ms-word;charset=utf-8,','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการสร้างห้องเกม','start-live-race-generated-btn','.topic-name-input','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-message','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บักแตงโม','student-name-select','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','<tr\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','ลำดับเลขคณิต\x20(AP)','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','text-green-600','no-projects-msg','icon','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','bp-modal-num-questions','touchend','มุมและการวัดมุม','.move-file-shortcut-item','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','students','.start-presentation-list-btn','global-activity-modal','blueprint-project-list','.score','จำนวนเชิงซ้อน\x20(เสริม)','ช่างภาพ','.file-topic-selection-btn','เปิดใช้งาน','question','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','student-quiz-leaderboard-content','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','_opt1\x22>ไม่ใช่</label></div>','responses','ลบหัวข้อสำเร็จ','confirm-link-quiz-btn','all','ondragstart','global-quiz-count','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','save-quiz-edits-btn','isAdaptive','cancel-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keydown','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','svg','view-my-progress-btn','quick_thinker','closePath','name_asc','addEventListener','เพนกวินไฟ','bar','เกิดข้อผิดพลาดในการลบ','หมูกระทะจะเยียวยาทุกสิ่ง','cancel-manual-bp-btn','ไม่พบข้อมูลโปรเจค','file-shortcut-url-input','mouseleave','รูปหลายเหลี่ยมและมุมภายใน','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','find','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','shortcut-editor-modal','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<div\x20class=\x22','scheduled_pending','close-student-rankings-btn','canvas','subTopic','Attempting\x20to\x20save\x20game\x20results...','msExitFullscreen','setTransform','จำนวนนักเรียน','input[type=\x22radio\x22]:checked','manual-create-blueprint-btn','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','text-green-800','exists','เกิดข้อผิดพลาดในการจับคู่','pointermove','.eraser-size-btn','Error\x20during\x20class\x20analysis:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์อ้างอิง...','ยูทูปเบอร์ฝึกหัด','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','เลือกและเริ่มสร้าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.bp-create-content-quiz-btn',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','classic','40FGeKiV','live-short-answer-input','left','ฟังก์ชันสัมพัทธ์\x20(rational)','forEach','Error\x20updating\x20custom\x20topic:','Error\x20adding\x20custom\x20topic:','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fileShortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','Error\x20deleting\x20all\x20students:','scores','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','answerValue','analytics-tab-content','การแจกแจงทวินาม\x20(พื้นฐาน)','topic_','offset','.remove-parallel-shortcut-from-tab-btn','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-header','baseVal','rename-quiz-input','lesson-view-modal','quiz-results-table-body','topics.','#10B981','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','Error\x20fetching\x20quiz\x20settings:','file-shortcut-id-input','blueprint.pdf','attemptNumber','getTextContent','ระยะเวลา\x20(วินาที):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','shortcut-reference-url-input','</div>','group','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','bg-red-500\x20text-white\x20font-bold','สำหรับโปรเจค:\x20','onblur','blueprint-input-area','/public/data/projects',':</span><span>','beginPath','.edit-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','เรขาคณิตวิเคราะห์','select-all-topics-btn','rgba(239,\x2068,\x2068,\x200.7)','label','SAFETY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','ฟังก์ชันเชิงเส้นและกราฟ','[data-topic-id]','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','lineCap','อัปเดตพฤติกรรมสำหรับ\x20','ข้อ\x20','กลุ่ม:\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','cos','results-quiz-title','ต้นฉบับ\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','click','points','แผนการสอน','<h1></h1>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comeback_king','กำลังอัปเดตแบบทดสอบ\x20','options','.linkedQuizIds','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','disabled\x20bg-gray-400\x20cursor-not-allowed','-options','file-upload-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-shortcut-tabs-nav','quiz-leaderboard-table-body','.move-parallel-shortcut-dropdown','.toggle-actions-btn','Error\x20during\x20deep\x20delete:','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lesson-plan-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','generated-quiz-actions','back-to-results-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','/public/data/quizzes/','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','.bp-open-topic-bank-btn','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','verify-answers-editor-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bp-topic-list-container','active','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','comparison-overall-tab','กำลังสร้างแบบทดสอบ:\x20','selectedTopicNames','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','bg-green-400\x20text-white\x20font-bold','bg-blue-100','ยังไม่เต็มนะ','live-race','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x5cneq','name_desc','isConfidenceScoringEnabled','nextElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','answer-counter','%</span>','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','แก้ไขปุ่มลัด','fileShortcutsConfig','.move-file-shortcut-menu-btn','desc','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-scoring-checkbox','sqrt','fa-fire\x20text-orange-500','update','short','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelShortcutTabs','generated','lowerGroupResponders','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','ก้อนเมฆ','visibilitychange','file-shortcut-name-input','match','next-question-timed-btn','กระต่ายตื่นตูม','.group\x5c/dropdown-file','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','score','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','deg','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','Error\x20analyzing\x20file\x20for\x20topics:','results-table','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','.answered','lesson-view-title','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','button','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','export-word-btn','</option>','PERSEVERANCE','กรุณาเลือกโปรเจคก่อน','add','passingScore','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','print','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x22.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','mean','submit-group-answer-btn','.quiz-bank-parallel-btn','qIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','Error\x20updating\x20project\x20name:','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','settings','presentation-scratchpad-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','scrollY','ทศนิยม\x20(ค่าประจำหลัก)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.flex.justify-between.items-center','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','#26890c','กราฟแท่ง\x20กราฟเส้น','404\x20Not\x20Found','.edit-file-shortcut-btn','Error\x20saving\x20submission:','data','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','.file-shortcut-btn[data-id=\x22','handleGeneratePracticeTest','split','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','export-tutor-pdf-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','สายตาสั้น','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-shuffle-select','grabbing','lesson-plan-content','fill_in_the_blank','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','<div\x20class=\x22loader\x20mx-auto\x22></div>','modal-close-btn','ฟังก์ชันราก\x20(root)','\x0a---\x0a','G-V90KRM0L63','save-game-results-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','resize','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scores-tab-content','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','กฎบวกและกฎคูณ','onkeydown','shortcut_','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','team-player-status-grid','text-blue-800','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','loader','null','.color-palette-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x22\x20name=\x22question_single\x22\x20value=\x22','str','wheel','analyze-strengths-btn','dim-overlay','bank-quiz-search-input','ondragover','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','export-leaderboard-excel-btn','localeCompare','getAttributeNS','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader-text','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2030°-60°-90°','application/json','นกฮูกกลางวัน','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20name=\x22question','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','close-additional-file-shortcuts-btn','generate-from-text-btn','projectId','export-compact-pdf-btn','true_false','#F3E8FF','none','Invalid\x20response\x20structure\x20from\x20API.','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','527414hfqfuP','documentElement','bottom','text-blue-700','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','ระบบสมการเชิงเส้นสองตัวแปร','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','Error\x20updating\x20quiz\x20status:','input[name=\x22question_single\x22]:checked','.delete-submission-btn','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ไม่พบข้อมูลข้อสอบหลังเรียน','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','ยอดเยี่ยม!','.export-pdf-list-btn','line-through\x20text-red-700','additional-shortcuts-modal','correctAnswer','checkAnswer','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','moveTo','opacity-50','ชื่อหัวข้อห้ามว่าง','.edit-hidden-shortcut-btn','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','Error\x20generating\x20teaching\x20content:','text-red-700','.delete-shortcut-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','bg-green-200\x20text-green-900','พบข้อสอบ\x20','\x20/\x20','bank-tab','.use-hidden-shortcut-btn','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','เกิดข้อผิดพลาดในการสร้าง:\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','</h3>','confirmation-message','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','players','project-detail','quiz-results','total','quadraticCurveTo','progress-project-select','fill','touchmove','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดาบพิฆาตอสูร','results-display-select','confidence-scoring-checkbox','Error\x20committing\x20score\x20updates:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x20ครั้ง)</span></td>','ondblclick','\x0a\x20\x20\x20\x20\x20\x20</div>','file-default-','เกิดข้อผิดพลาดในการบันทึก','outerHTML','newOptionsPayload','blockReason','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','Error\x20saving\x20reference\x20URL:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-quiz-status-btn','generate-from-blueprint-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','.highlighter-color-btn','text','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','input[type=\x22text\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20group\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','add-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ตารางความถี่','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','contentEditable','แม่น้ำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','bg-green-100\x20text-green-800','ไม่พบไฟล์\x20Test\x20Blueprint','Error\x20saving\x20blueprint\x20project:','kick-player-btn','fas\x20fa-user-edit','อสมการค่าสัมบูรณ์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','สรุปผลสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','postScore','fixedData','projectName','multiple_choice','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','binom','parallelTestShortcutsConfig','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','screen_exit','.tab-name-display','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','parallel-test-upload-input','.copy-quiz-id-list-btn','finishReason','project-detail-view','กำลังเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','times','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','hasOwnProperty','.rename-quiz-btn','block','quiz-editor-questions-container','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','key','\x20หัวข้อ)','ลบผลสอบของ\x20','กำลังสร้างแบบทดสอบ\x20\x22','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','เวกเตอร์และเมทริกซ์\x20(เสริม)','.bp-present-btn','earned-badges-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','AI\x20แก้ไขคำถามสำเร็จ!','Error\x20renaming\x20quiz:','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','pointContent','div','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','scale','post-test','hint','Error\x20joining\x20team\x20quiz:','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','เกิดข้อผิดพลาดในการลบนักเรียน','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','การบวกทศนิยม','Error\x20analyzing\x20blueprint\x20topics:','Error\x20showing\x20quiz\x20detail\x20view:','progress-student-select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','custom-math-topic-input','.shortcut-list-item:not(.opacity-50)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','การวัด','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','tabId','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','live-options-container','.delete-file-shortcut-tab-btn','bg-green-200','ส่วนเบี่ยงเบนมาตรฐาน','Error\x20calling\x20Gemini\x20API:','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','save-blueprint-as-project-btn','isStarred','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','pointerType','behavior-log','date_desc','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','คุณแน่ใจว่าต้องการลบแท็บนี้?','top','ตัวเลือก\x20ก','494745mDRNHX','scratchpad-canvas','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','export-worksheet-pdf-btn','664438ekpgsM','แก้ไขหัวข้อสำเร็จ','\x5cdiv','คำเตือน\x20(','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','อัศวินรัตติกาล','document','commit','ownerSVGElement','preTScore','lesson-loader','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','confirm-game-start-modal','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x22\x20class=\x22delete-project-btn\x20','results','ไฟล์ทั้งหมด','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก)','กรุณาตั้งชื่อแท็บใหม่:','</p></div>','</span></div>','text-red-900','shortcut-tabs-nav','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','ตัวแปรและนิพจน์','not_generated','lastAnswerCorrect'];_0x2f11=function(){return _0x8cfd55;};return _0x2f11();}function getPointerPosition(_0x149808,_0x33d853){const _0x38f7dd=_0xdd45b5,_0x2f202c=_0x149808[_0x38f7dd(0x564)]();let _0x560d2f,_0x1d5818;return _0x33d853[_0x38f7dd(0xbe7)]&&_0x33d853[_0x38f7dd(0xbe7)][_0x38f7dd(0x9f1)]>0x0?(_0x560d2f=_0x33d853[_0x38f7dd(0xbe7)][0x0][_0x38f7dd(0xc33)],_0x1d5818=_0x33d853[_0x38f7dd(0xbe7)][0x0][_0x38f7dd(0xbcb)]):(_0x560d2f=_0x33d853['clientX'],_0x1d5818=_0x33d853[_0x38f7dd(0xbcb)]),{'x':(_0x560d2f-_0x2f202c['e'])/_0x2f202c['a'],'y':(_0x1d5818-_0x2f202c['f'])/_0x2f202c['d']};}function startDrag(_0x2958a3){const _0x3a693d=_0xdd45b5;_0x2958a3[_0x3a693d(0x886)]===_0x3a693d(0x31e)&&_0x2958a3[_0x3a693d(0xc15)]();const _0x5387b9=_0x2958a3[_0x3a693d(0x8a0)][_0x3a693d(0x18a)](_0x3a693d(0xc62));if(_0x5387b9){draggedSvgElement=_0x5387b9;const _0x402718=draggedSvgElement['ownerSVGElement'],_0x2a4ec1=getPointerPosition(_0x402718,_0x2958a3);svgOffset['x']=_0x2a4ec1['x']-parseFloat(draggedSvgElement[_0x3a693d(0xa51)](null,'x')),svgOffset['y']=_0x2a4ec1['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x42c4a5,_0x528b10){const _0x23f35d=_0xdd45b5,_0x44c1c1={};if(_0x528b10['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x5479e4=[..._0x528b10][_0x23f35d(0x50a)]((_0x3ef511,_0x350ca2)=>{const _0x80f3ad=_0x23f35d,_0x3e5ad2=_0x350ca2[_0x80f3ad(0x487)]-_0x3ef511['latestScore'];if(_0x3e5ad2!==0x0)return _0x3e5ad2;const _0x338e17=_0x3ef511[_0x80f3ad(0x2aa)]?.[_0x80f3ad(0x9f1)]||0x1,_0x489395=_0x350ca2[_0x80f3ad(0x2aa)]?.[_0x80f3ad(0x9f1)]||0x1,_0x288c53=_0x338e17-_0x489395;if(_0x288c53!==0x0)return _0x288c53;const _0x27a142=new Date(_0x3ef511[_0x80f3ad(0x667)]),_0x4d4842=new Date(_0x350ca2[_0x80f3ad(0x667)]),_0x12eb95=_0x27a142-_0x4d4842;if(_0x12eb95!==0x0)return _0x12eb95;return _0x3ef511['studentName'][_0x80f3ad(0xa50)](_0x350ca2[_0x80f3ad(0x815)],'th');}),_0x29cf55=_0x5479e4[_0x23f35d(0x9f1)],_0x5efead=Math['max'](0x1,Math[_0x23f35d(0x28f)](_0x29cf55*0.33));if(_0x5efead===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x17878c=_0x5479e4[_0x23f35d(0xbb3)](0x0,_0x5efead),_0x2c99c7=_0x5479e4[_0x23f35d(0xbb3)](-_0x5efead),_0x49aa7e=_0x17878c[_0x23f35d(0xb43)](_0x29f3c9=>_0x29f3c9[_0x23f35d(0x815)]),_0x54f685=_0x2c99c7[_0x23f35d(0xb43)](_0x59b7e9=>_0x59b7e9[_0x23f35d(0x815)]);return _0x42c4a5[_0x23f35d(0x69e)][_0x23f35d(0x947)]((_0x3cd00f,_0x2fff10)=>{const _0x254a04=_0x23f35d,_0x2020ef=_0x3cd00f['stem']||_0x3cd00f[_0x254a04(0x72b)];let _0x9a2918=0x0,_0x4f0090=0x0,_0x4e37f9=0x0;const _0x37aef7=[],_0x53b7c0=[];_0x17878c['forEach'](_0x290f6e=>{const _0x57ad6f=_0x254a04,_0x1bc350=_0x290f6e[_0x57ad6f(0x2aa)][_0x290f6e['attempts'][_0x57ad6f(0x9f1)]-0x1],_0x55ba2a=_0x1bc350['answers']['find'](_0x4056ad=>_0x4056ad[_0x57ad6f(0x453)]===_0x2020ef);_0x37aef7['push']({'name':_0x290f6e[_0x57ad6f(0x815)],'isCorrect':_0x55ba2a?_0x55ba2a['isCorrect']:![]}),_0x55ba2a&&_0x55ba2a[_0x57ad6f(0x66b)]&&_0x4f0090++;}),_0x2c99c7[_0x254a04(0x947)](_0xd8ef11=>{const _0x1ccade=_0x254a04,_0x3c0811=_0xd8ef11[_0x1ccade(0x2aa)][_0xd8ef11[_0x1ccade(0x2aa)][_0x1ccade(0x9f1)]-0x1],_0x274437=_0x3c0811['answers']['find'](_0x2a914e=>_0x2a914e[_0x1ccade(0x453)]===_0x2020ef);_0x53b7c0[_0x1ccade(0x12e)]({'name':_0xd8ef11[_0x1ccade(0x815)],'isCorrect':_0x274437?_0x274437[_0x1ccade(0x66b)]:![]}),_0x274437&&_0x274437['isCorrect']&&_0x4e37f9++;}),_0x528b10[_0x254a04(0x947)](_0x1cfec9=>{const _0x4dce18=_0x254a04,_0x748c89=_0x1cfec9[_0x4dce18(0x2aa)][_0x1cfec9[_0x4dce18(0x2aa)]['length']-0x1],_0x56f691=_0x748c89[_0x4dce18(0xb1b)][_0x4dce18(0x922)](_0x2e9d65=>_0x2e9d65[_0x4dce18(0x453)]===_0x2020ef);_0x56f691&&_0x56f691[_0x4dce18(0x66b)]&&_0x9a2918++;});const _0x135c57=_0x29cf55>0x0?_0x9a2918/_0x29cf55:0x0,_0x5a097c=_0x5efead>0x0?_0x4f0090/_0x5efead-_0x4e37f9/_0x5efead:0x0;_0x44c1c1[_0x2fff10]={'p':_0x135c57,'r':_0x5a097c,'upperGroupResponders':_0x37aef7,'lowerGroupResponders':_0x53b7c0};}),{'perQuestionStats':_0x44c1c1,'overallGroups':{'upperGroupNames':_0x49aa7e,'lowerGroupNames':_0x54f685}};}function drag(_0x400b2c){const _0x2a7ef3=_0xdd45b5;if(draggedSvgElement){_0x400b2c[_0x2a7ef3(0xc15)]();const _0x2aa4e7=draggedSvgElement[_0x2a7ef3(0xb3a)],_0xba16f8=getPointerPosition(_0x2aa4e7,_0x400b2c),_0x22f035=_0x2aa4e7['viewBox'][_0x2a7ef3(0x959)];let _0x4f91e2=_0xba16f8['x']-svgOffset['x'],_0x2ee9d6=_0xba16f8['y']-svgOffset['y'];const _0x1b313d=draggedSvgElement['getBBox']();_0x4f91e2=Math['max'](_0x22f035['x'],Math[_0x2a7ef3(0x1ed)](_0x4f91e2,_0x22f035['x']+_0x22f035[_0x2a7ef3(0xc9f)]-_0x1b313d[_0x2a7ef3(0xc9f)])),_0x2ee9d6=Math['max'](_0x22f035['y'],Math[_0x2a7ef3(0x1ed)](_0x2ee9d6,_0x22f035['y']+_0x22f035[_0x2a7ef3(0x645)]-_0x1b313d[_0x2a7ef3(0x645)])),draggedSvgElement['setAttributeNS'](null,'x',_0x4f91e2),draggedSvgElement[_0x2a7ef3(0x335)](null,'y',_0x2ee9d6);}}function endDrag(_0x3e3000){draggedSvgElement=null;}function handleSvgEditClick(_0x23fd3f){const _0x4bb1ea=_0xdd45b5;if(_0x23fd3f[_0x4bb1ea(0x8a0)][_0x4bb1ea(0x8c0)][_0x4bb1ea(0x796)](_0x4bb1ea(0x232))){const _0x53a93c=_0x23fd3f[_0x4bb1ea(0x8a0)][_0x4bb1ea(0x41c)][_0x4bb1ea(0xbc8)],_0x5679e3=_0x23fd3f[_0x4bb1ea(0xc23)],_0x5d07e9=_0x5679e3[_0x4bb1ea(0x5db)]('#'+_0x53a93c);_0x5d07e9&&_0x5d07e9['remove'](),_0x23fd3f[_0x4bb1ea(0x8a0)][_0x4bb1ea(0x3b9)]();}}function handleEditQuestion(_0x3fcf8a){const _0x1f54bf=_0xdd45b5,_0x32f475=_0x3fcf8a['currentTarget'],_0x11aa5d=_0x32f475['dataset'][_0x1f54bf(0x3f3)],_0x58936a=currentQuizData[_0x1f54bf(0x69e)][_0x11aa5d],_0xb80ecc=document[_0x1f54bf(0xbd5)](_0x1f54bf(0x161)+_0x11aa5d),_0x41b02d=document[_0x1f54bf(0xbd5)](_0x1f54bf(0xc3f)+_0x11aa5d),_0x4380bc=document[_0x1f54bf(0xbd5)](_0x1f54bf(0x296)+_0x11aa5d);if(_0x32f475['innerHTML']['includes'](_0x1f54bf(0x4bf))){_0x32f475['innerHTML']=_0x1f54bf(0x2f7),_0x32f475['title']='บันทึกการแก้ไข';if(_0xb80ecc)_0xb80ecc[_0x1f54bf(0xac5)]=!![];if(_0x41b02d)_0x41b02d[_0x1f54bf(0xac5)]=!![];if(_0x4380bc){const _0x644ea8=_0x4380bc['querySelector'](_0x1f54bf(0x910));if(_0x644ea8){const _0x107f4b=_0x644ea8[_0x1f54bf(0x197)](_0x1f54bf(0xaba));_0x107f4b[_0x1f54bf(0x947)]((_0x57e24d,_0x39c20d)=>{const _0x259138=_0x1f54bf,_0x5dd345=_0x259138(0x7bd)+_0x11aa5d+'-'+_0x39c20d;_0x57e24d['id']=_0x5dd345,_0x57e24d[_0x259138(0x8c0)][_0x259138(0x9ff)](_0x259138(0x5ea)),_0x57e24d[_0x259138(0x125)][_0x259138(0x62c)]=_0x259138(0xc71);const _0x127cbd=document[_0x259138(0xfc)](_0x259138(0x14c),_0x259138(0x47b)),_0x363da1=_0x57e24d[_0x259138(0x88e)]();_0x127cbd[_0x259138(0x86d)]('cx',String(_0x363da1['x']+_0x363da1['width']+0x5)),_0x127cbd[_0x259138(0x86d)]('cy',String(_0x363da1['y']+_0x363da1['height']/0x2-0x5)),_0x127cbd[_0x259138(0x86d)]('r','5'),_0x127cbd[_0x259138(0x86d)]('fill',_0x259138(0xc0e)),_0x127cbd['setAttribute'](_0x259138(0x325),'delete-svg-btn'),_0x127cbd['dataset'][_0x259138(0xbc8)]=_0x5dd345,_0x57e24d['after'](_0x127cbd);}),_0x644ea8[_0x1f54bf(0x915)](_0x1f54bf(0x847),startDrag),_0x644ea8[_0x1f54bf(0x915)](_0x1f54bf(0x568),drag),_0x644ea8[_0x1f54bf(0x915)]('mouseup',endDrag),_0x644ea8['addEventListener'](_0x1f54bf(0x91d),endDrag),_0x644ea8['addEventListener'](_0x1f54bf(0x31e),startDrag,{'passive':![]}),_0x644ea8[_0x1f54bf(0x915)](_0x1f54bf(0xa9d),drag,{'passive':![]}),_0x644ea8[_0x1f54bf(0x915)](_0x1f54bf(0x8ef),endDrag),_0x644ea8[_0x1f54bf(0x915)](_0x1f54bf(0x489),endDrag),_0x644ea8['addEventListener'](_0x1f54bf(0x98f),handleSvgEditClick);}}if(_0xb80ecc)_0xb80ecc['focus']();}else{_0x32f475[_0x1f54bf(0x553)]=_0x1f54bf(0x8bb),_0x32f475['title']=_0x1f54bf(0x29f);if(_0xb80ecc){_0xb80ecc[_0x1f54bf(0xac5)]=![];const _0x23b8e6=_0x58936a[_0x1f54bf(0x40c)]||currentQuizData[_0x1f54bf(0x51a)];_0x23b8e6==='matching_item'?_0x58936a['stem']=_0xb80ecc[_0x1f54bf(0x250)][_0x1f54bf(0x33f)](_0xb80ecc['innerText'][_0x1f54bf(0xc7a)]('.')+0x2)[_0x1f54bf(0x7ae)]():_0x58936a[_0x1f54bf(0x72b)]=_0xb80ecc[_0x1f54bf(0x250)][_0x1f54bf(0x33f)](_0xb80ecc['innerText'][_0x1f54bf(0xc7a)]('.')+0x2)[_0x1f54bf(0x7ae)]();}_0x41b02d&&(_0x41b02d[_0x1f54bf(0xac5)]=![],_0x58936a[_0x1f54bf(0x32a)]=_0x41b02d['innerText']);if(_0x4380bc){const _0x238bfb=_0x4380bc[_0x1f54bf(0x5db)](_0x1f54bf(0x910));if(_0x238bfb){const _0x1d24c9=_0x238bfb[_0x1f54bf(0x37f)](!![]);_0x1d24c9['querySelectorAll']('.delete-svg-btn')[_0x1f54bf(0x947)](_0x4d5b5a=>_0x4d5b5a[_0x1f54bf(0x3b9)]()),_0x1d24c9['querySelectorAll']('.draggable-text')[_0x1f54bf(0x947)](_0x314e82=>{const _0x1b62c1=_0x1f54bf;_0x314e82['classList']['remove'](_0x1b62c1(0x5ea)),_0x314e82[_0x1b62c1(0x125)][_0x1b62c1(0x62c)]=_0x1b62c1(0x508),_0x314e82['removeAttribute']('id');}),_0x58936a[_0x1f54bf(0x1a9)]=_0x1d24c9[_0x1f54bf(0xaaa)],_0x238bfb[_0x1f54bf(0xd9)](_0x1f54bf(0x847),startDrag),_0x238bfb['removeEventListener'](_0x1f54bf(0x568),drag),_0x238bfb[_0x1f54bf(0xd9)](_0x1f54bf(0x983),endDrag),_0x238bfb['removeEventListener'](_0x1f54bf(0x91d),endDrag),_0x238bfb[_0x1f54bf(0xd9)]('touchstart',startDrag),_0x238bfb['removeEventListener'](_0x1f54bf(0xa9d),drag),_0x238bfb[_0x1f54bf(0xd9)](_0x1f54bf(0x8ef),endDrag),_0x238bfb[_0x1f54bf(0xd9)](_0x1f54bf(0x489),endDrag),_0x238bfb['removeEventListener'](_0x1f54bf(0x98f),handleSvgEditClick),_0x238bfb[_0x1f54bf(0x197)](_0x1f54bf(0xb5))[_0x1f54bf(0x947)](_0x479541=>_0x479541[_0x1f54bf(0x3b9)]()),_0x238bfb['querySelectorAll'](_0x1f54bf(0xc62))['forEach'](_0x42710e=>{const _0x53dfaa=_0x1f54bf;_0x42710e['classList'][_0x53dfaa(0x3b9)](_0x53dfaa(0x5ea)),_0x42710e[_0x53dfaa(0x125)][_0x53dfaa(0x62c)]=_0x53dfaa(0x508);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x327ea4){const _0xdedce2=_0xdd45b5,_0x3f0f34=document['getElementById']('quiz-editor-modal'),_0x350c72=document[_0xdedce2(0xbd5)](_0xdedce2(0xaef));_0x350c72['innerHTML']=_0xdedce2(0xa30),_0x3f0f34[_0xdedce2(0x8c0)]['remove'](_0xdedce2(0x2ee));try{const _0x49d5ba=doc(db,'artifacts/'+appId+_0xdedce2(0xcba),_0x327ea4),_0x34d32c=await getDoc(_0x49d5ba);if(!_0x34d32c[_0xdedce2(0x935)]())throw new Error(_0xdedce2(0x10a));currentEditingQuizData={'id':_0x327ea4,..._0x34d32c[_0xdedce2(0xa1d)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xb09cf3){console[_0xdedce2(0x2c7)]('Error\x20opening\x20quiz\x20editor:',_0xb09cf3),showMessage(_0xdedce2(0x47a)),_0x3f0f34[_0xdedce2(0x8c0)]['add'](_0xdedce2(0x2ee));}}function renderQuizEditor(_0x5018d5){const _0x216e1f=_0xdd45b5;document[_0x216e1f(0xbd5)](_0x216e1f(0x60f))['value']=_0x5018d5[_0x216e1f(0x6bd)];const _0x144666=document['getElementById'](_0x216e1f(0xaef));let _0x52011c=_0x5018d5[_0x216e1f(0x69e)][_0x216e1f(0xb43)]((_0x3a2f08,_0x13ce6b)=>{const _0x1a121a=_0x216e1f;let _0x2e2336='';const _0x496d44=_0x3a2f08[_0x1a121a(0x40c)]||_0x5018d5[_0x1a121a(0x51a)];switch(_0x496d44){case _0x1a121a(0xad4):const _0x1511cc=(_0x3a2f08['options']||[])[_0x1a121a(0xb43)]((_0x338192,_0x8517e2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x13ce6b+_0x1a121a(0x7c4)+_0x8517e2+'\x22\x20'+(_0x8517e2===_0x3a2f08[_0x1a121a(0x51c)]?_0x1a121a(0x674):'')+_0x1a121a(0x433)+_0x338192+_0x1a121a(0x93a))[_0x1a121a(0xb92)]('');_0x2e2336=_0x1a121a(0x243)+_0x1511cc+_0x1a121a(0x324);break;case _0x1a121a(0x5ed):_0x2e2336='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x3a2f08[_0x1a121a(0x24b)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1a121a(0xa62):_0x2e2336='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x13ce6b+'\x22\x20value=\x22true\x22\x20'+(_0x3a2f08[_0x1a121a(0xa7d)]===!![]?_0x1a121a(0x674):'')+_0x1a121a(0x96b)+_0x13ce6b+_0x1a121a(0x405)+(_0x3a2f08[_0x1a121a(0xa7d)]===![]?_0x1a121a(0x674):'')+_0x1a121a(0x455);break;case _0x1a121a(0xc6):_0x2e2336=_0x1a121a(0x319)+(_0x3a2f08['correctResponse']||'')+_0x1a121a(0x4c7);break;}let _0x4b9389=_0x3a2f08[_0x1a121a(0x72b)]||_0x3a2f08[_0x1a121a(0xbb0)]||'';return _0x4b9389=_0x4b9389[_0x1a121a(0x3fa)](/<br\s*\/?>/gi,'\x0a'),_0x1a121a(0xb30)+_0x13ce6b+'\x22\x20data-q-type=\x22'+_0x496d44+_0x1a121a(0x281)+(_0x13ce6b+0x1)+'\x20('+_0x496d44+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x4b9389+_0x1a121a(0x586)+_0x2e2336+_0x1a121a(0x5da);})[_0x216e1f(0xb92)]('');_0x144666[_0x216e1f(0x553)]=_0x52011c;const _0x108cf4=_0x216e1f(0x29a);_0x144666[_0x216e1f(0x71e)](_0x216e1f(0x2ba),_0x108cf4),_0x144666[_0x216e1f(0x197)](_0x216e1f(0x7a6))[_0x216e1f(0x947)](_0x3b9ccc=>{const _0x1d5dec=_0x216e1f;_0x3b9ccc[_0x1d5dec(0x125)]['overflowY']=_0x1d5dec(0x2ee),_0x3b9ccc[_0x1d5dec(0x125)]['minHeight']=_0x1d5dec(0xb90),_0x3b9ccc[_0x1d5dec(0x1ea)]=0x4;const _0x45c242=()=>{const _0x5b77f8=_0x1d5dec;_0x3b9ccc['style'][_0x5b77f8(0x645)]=_0x5b77f8(0xca6),_0x3b9ccc[_0x5b77f8(0x125)][_0x5b77f8(0x645)]=_0x3b9ccc[_0x5b77f8(0x4f8)]+'px';};_0x3b9ccc['addEventListener'](_0x1d5dec(0x444),_0x45c242),_0x45c242();}),_0x144666[_0x216e1f(0x197)](_0x216e1f(0x54a))[_0x216e1f(0x947)](_0x242805=>{const _0x5c16c9=_0x216e1f;_0x242805[_0x5c16c9(0x915)](_0x5c16c9(0x98f),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0xa21353){const _0x403566=_0xdd45b5;if(!currentEditingQuizData||!currentEditingQuizData[_0x403566(0x69e)][_0xa21353])return;const _0x1622eb=currentEditingQuizData[_0x403566(0x69e)][_0xa21353][_0x403566(0x72b)]||currentEditingQuizData[_0x403566(0x69e)][_0xa21353][_0x403566(0xbb0)];showConfirmation(_0x403566(0x4f6)+(_0xa21353+0x1)+'\x20(\x22'+_0x1622eb[_0x403566(0x33f)](0x0,0x14)+_0x403566(0x52c),()=>{const _0xb3a21d=_0x403566;currentEditingQuizData[_0xb3a21d(0x69e)][_0xb3a21d(0x239)](_0xa21353,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0xb3a21d(0x46a));});}function handleAddQuestionInEditor(){const _0x20ed67=_0xdd45b5;if(!currentEditingQuizData)return;const _0x3be36c={'id':'q_'+Date[_0x20ed67(0x435)]()+_0x20ed67(0x235),'questionType':_0x20ed67(0xad4),'questionText':_0x20ed67(0x22e),'options':[_0x20ed67(0xb2d),_0x20ed67(0x214),_0x20ed67(0x62a),'ตัวเลือก\x20ง'],'correctAnswerIndex':0x0,'explanation':_0x20ed67(0x2dc)};currentEditingQuizData[_0x20ed67(0x69e)]['push'](_0x3be36c),renderQuizEditor(currentEditingQuizData);const _0x48c999=document[_0x20ed67(0x5db)](_0x20ed67(0x1d6));_0x48c999&&(_0x48c999[_0x20ed67(0xca2)]({'behavior':_0x20ed67(0x299),'block':'center'}),_0x48c999[_0x20ed67(0x5db)](_0x20ed67(0x5e6))[_0x20ed67(0xb8d)]());}async function handleAiFixQuestion(_0x5d30e3){const _0x25c021=_0xdd45b5,_0x1afb79=_0x5d30e3['currentTarget'],_0x37b4df=_0x1afb79[_0x25c021(0x18a)](_0x25c021(0x80d));if(!_0x37b4df)return;const _0x1e7983=parseInt(_0x37b4df[_0x25c021(0x41c)]['qIndex'],0xa);if(isNaN(_0x1e7983)||!currentEditingQuizData[_0x25c021(0x69e)][_0x1e7983]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x28d70c=currentEditingQuizData[_0x25c021(0x69e)][_0x1e7983];_0x1afb79[_0x25c021(0x553)]=_0x25c021(0x746),_0x1afb79[_0x25c021(0x256)]=!![];const _0x354f5d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x28d70c)+_0x25c021(0xa53);let _0x34cb48;const _0x2d57a2=_0x28d70c[_0x25c021(0x40c)]||currentEditingQuizData[_0x25c021(0x51a)];switch(_0x2d57a2){case _0x25c021(0x5ed):_0x34cb48={'type':_0x25c021(0x207),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x25c021(0xc85)}},'required':[_0x25c021(0x72b),_0x25c021(0x24b),_0x25c021(0x32a)]};break;case _0x25c021(0xad4):default:_0x34cb48={'type':_0x25c021(0x207),'properties':{'questionText':{'type':_0x25c021(0xc85)},'options':{'type':_0x25c021(0xbb1),'items':{'type':_0x25c021(0xc85)}},'correctAnswerIndex':{'type':_0x25c021(0x51e)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x25c021(0x72b),'options',_0x25c021(0x51c),_0x25c021(0x32a)]};break;}try{let _0x1372a7=await callAnalysisApi(_0x354f5d,_0x34cb48);_0x1372a7['options']&&Array['isArray'](_0x1372a7[_0x25c021(0x996)])&&(_0x1372a7[_0x25c021(0x996)]=_0x1372a7[_0x25c021(0x996)][_0x25c021(0xb43)](_0x42bbba=>typeof _0x42bbba===_0x25c021(0x58c)?_0x42bbba['replace'](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x42bbba)),_0x28d70c['imageCode']&&_0x28d70c[_0x25c021(0x1a9)][_0x25c021(0x668)](_0x25c021(0x33e))&&(_0x1372a7[_0x25c021(0x1a9)]=''),currentEditingQuizData[_0x25c021(0x69e)][_0x1e7983]={..._0x28d70c,..._0x1372a7},renderQuizEditor(currentEditingQuizData),showMessage(_0x25c021(0xafc));}catch(_0x111330){console[_0x25c021(0x2c7)](_0x25c021(0x80b),_0x111330),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x5e9d04=_0xdd45b5,_0x110913=document[_0x5e9d04(0xbd5)](_0x5e9d04(0x90a));_0x110913[_0x5e9d04(0x256)]=!![],_0x110913['innerHTML']=_0x5e9d04(0x662);try{const _0x58935b=document[_0x5e9d04(0xbd5)]('editor-quiz-topic')[_0x5e9d04(0xc1a)],_0x4571ca=document['querySelectorAll'](_0x5e9d04(0x80d));let _0x260849=[];const _0x3cbd51=Array[_0x5e9d04(0x4f9)](_0x4571ca)[_0x5e9d04(0xb43)]((_0x374908,_0x2e8cd4)=>{const _0x57ee31=_0x5e9d04,_0x57288e=_0x374908[_0x57ee31(0x41c)][_0x57ee31(0x21a)],_0x3a03fe=_0x374908['querySelector'](_0x57ee31(0x5e6))[_0x57ee31(0xc1a)][_0x57ee31(0x3fa)](/\n/g,_0x57ee31(0xc95));let _0x1ae893={'questionType':_0x57288e};const _0x1adc64=currentEditingQuizData[_0x57ee31(0x69e)][_0x2e8cd4];switch(_0x57288e){case _0x57ee31(0xad4):_0x1ae893['questionText']=_0x3a03fe;const _0x4717fb=_0x374908[_0x57ee31(0x197)]('input[type=\x22text\x22]');_0x1ae893['options']=Array[_0x57ee31(0x4f9)](_0x4717fb)['map'](_0x41d5a4=>_0x41d5a4['value']);const _0xbafcc9=_0x374908['querySelector'](_0x57ee31(0x931));_0x1ae893[_0x57ee31(0x51c)]=_0xbafcc9?parseInt(_0xbafcc9[_0x57ee31(0xc1a)]):0x0;break;case _0x57ee31(0x5ed):_0x1ae893[_0x57ee31(0x72b)]=_0x3a03fe,_0x1ae893[_0x57ee31(0x24b)]=_0x374908[_0x57ee31(0x5db)](_0x57ee31(0xb50))[_0x57ee31(0xc1a)];break;case _0x57ee31(0xa62):_0x1ae893[_0x57ee31(0x72b)]=_0x3a03fe;const _0x24e2c3=_0x374908[_0x57ee31(0x5db)](_0x57ee31(0x931));_0x1ae893[_0x57ee31(0xa7d)]=_0x24e2c3?_0x24e2c3[_0x57ee31(0xc1a)]===_0x57ee31(0x332):!![];break;case _0x57ee31(0xc6):_0x1ae893[_0x57ee31(0xbb0)]=_0x3a03fe;const _0x102c97=_0x374908['querySelector']('.correct-response-input');_0x1ae893[_0x57ee31(0xc67)]=_0x102c97?_0x102c97['value']:'',_0x260849[_0x57ee31(0x12e)](_0x1ae893[_0x57ee31(0xc67)]);break;default:_0x1ae893['questionText']=_0x3a03fe;break;}return{..._0x1adc64,..._0x1ae893};});_0x260849[_0x5e9d04(0x9f1)]>0x0&&_0x3cbd51[_0x5e9d04(0x947)](_0x955507=>{const _0x1ae7ad=_0x5e9d04;_0x955507['questionType']===_0x1ae7ad(0xc6)&&(_0x955507[_0x1ae7ad(0x710)]=_0x260849);});const _0x5d60fb=currentEditingQuizData['id'],_0x5828f8=doc(db,_0x5e9d04(0xb4)+appId+'/public/data/quizzes',_0x5d60fb);await updateDoc(_0x5828f8,{'topic':_0x58935b,'questions':_0x3cbd51}),document[_0x5e9d04(0xbd5)]('quiz-editor-modal')['classList']['add'](_0x5e9d04(0x2ee)),showMessage(_0x5e9d04(0x4d6),()=>initiateReGradeProcess(_0x5d60fb));}catch(_0xa3006a){console[_0x5e9d04(0x2c7)](_0x5e9d04(0x8a1),_0xa3006a),showMessage(_0x5e9d04(0xaa9));}finally{_0x110913['disabled']=![],_0x110913['innerHTML']=_0x5e9d04(0x7d9);}}async function initiateReGradeProcess(_0x1d447f){const _0x2a6b33=_0xdd45b5;showMessage(_0x2a6b33(0x565));try{const _0x731d9d=doc(db,_0x2a6b33(0xb4)+appId+_0x2a6b33(0xcba),_0x1d447f),_0x528c5b=await getDoc(_0x731d9d);if(!_0x528c5b['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x398474={'id':_0x1d447f,..._0x528c5b[_0x2a6b33(0xa1d)]()},_0x487dd7=collection(db,'artifacts/'+appId+_0x2a6b33(0xcba),_0x1d447f,_0x2a6b33(0xbaf)),_0xe44b05=await getDocs(_0x487dd7);if(_0xe44b05[_0x2a6b33(0x7f1)]){showMessage(_0x2a6b33(0xa4e));return;}const _0x408926=_0xe44b05['docs'][_0x2a6b33(0xb43)](_0x25ea40=>reGradeSingleSubmission(_0x25ea40,_0x398474));await Promise[_0x2a6b33(0x906)](_0x408926);if(_0x398474[_0x2a6b33(0xa60)]){const _0x4d1a96=doc(db,_0x2a6b33(0xb4)+appId+_0x2a6b33(0x971),_0x398474[_0x2a6b33(0xa60)]),_0x28f51e=await getDoc(_0x4d1a96);if(_0x28f51e[_0x2a6b33(0x935)]()&&_0x28f51e[_0x2a6b33(0xa1d)]()[_0x2a6b33(0x8f4)]){const _0x355e2c=_0x28f51e[_0x2a6b33(0xa1d)]()['students'][_0x2a6b33(0xb43)](_0x581cb0=>updateStudentProfile(_0x398474['projectId'],_0x581cb0));await Promise['all'](_0x355e2c);}}showMessage('ตรวจคะแนนใหม่\x20'+_0xe44b05[_0x2a6b33(0xb9f)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x12f618){console[_0x2a6b33(0x2c7)](_0x2a6b33(0x13e),_0x12f618),showMessage(_0x2a6b33(0xca8)+_0x12f618['message']);}}async function reGradeSingleSubmission(_0x7d7de1,_0x294be7){const _0x1d2d87=_0xdd45b5,_0x5eb011=_0x7d7de1[_0x1d2d87(0xa1d)](),_0xd320b1=_0x5eb011[_0x1d2d87(0x815)],_0x57df5c=_0x5eb011[_0x1d2d87(0x2aa)]||[],_0x1901db=[];for(const _0x334faa of _0x57df5c){let _0x42e294=0x0,_0x76e631=[],_0x162c4c=0x0;const _0xadc356=[];for(const _0x5dee3e of _0x334faa['answers']){let _0x2d7cd4;_0x5dee3e[_0x1d2d87(0x466)]&&(_0x2d7cd4=_0x294be7[_0x1d2d87(0x69e)][_0x1d2d87(0x922)](_0x9bcc46=>_0x9bcc46['id']===_0x5dee3e[_0x1d2d87(0x466)]));!_0x2d7cd4&&_0x5dee3e[_0x1d2d87(0x453)]&&(_0x2d7cd4=_0x294be7['questions'][_0x1d2d87(0x922)](_0x26182b=>(_0x26182b[_0x1d2d87(0xbb0)]||_0x26182b[_0x1d2d87(0x72b)])===_0x5dee3e[_0x1d2d87(0x453)]));let _0x27ffcc=![];if(_0x2d7cd4){const _0x4566d2=_0x2d7cd4[_0x1d2d87(0x40c)]||_0x294be7[_0x1d2d87(0x51a)];switch(_0x4566d2){case _0x1d2d87(0xad4):if(_0x2d7cd4[_0x1d2d87(0x996)]&&_0x2d7cd4[_0x1d2d87(0x51c)]<_0x2d7cd4[_0x1d2d87(0x996)]['length']){const _0xd1e24=_0x2d7cd4[_0x1d2d87(0x996)][_0x2d7cd4[_0x1d2d87(0x51c)]];_0x27ffcc=_0x5dee3e[_0x1d2d87(0x8cf)]===_0xd1e24;}break;case _0x1d2d87(0xa62):const _0x43f8d3=_0x5dee3e[_0x1d2d87(0x5b4)]===!![]||_0x5dee3e['answer']===_0x1d2d87(0x332);_0x27ffcc=_0x43f8d3===_0x2d7cd4[_0x1d2d87(0xa7d)];break;case'matching_item':_0x27ffcc=_0x5dee3e[_0x1d2d87(0x5b4)]===_0x2d7cd4[_0x1d2d87(0xc67)];break;case _0x1d2d87(0x5ed):_0x27ffcc=await gradeShortAnswer(_0x5dee3e[_0x1d2d87(0x5b4)],_0x2d7cd4);break;default:_0x27ffcc=_0x5dee3e[_0x1d2d87(0x66b)];break;}}if(_0x27ffcc){_0x42e294++,_0x162c4c++;if(_0x162c4c===0x3)_0x76e631[_0x1d2d87(0x12e)](BADGES['ON_FIRE']['id']);}else _0x162c4c=0x0;_0xadc356[_0x1d2d87(0x12e)]({..._0x5dee3e,'isCorrect':_0x27ffcc});}let _0x447263=_0x42e294*0xa;_0x42e294===_0x294be7[_0x1d2d87(0x69e)][_0x1d2d87(0x9f1)]&&(_0x447263+=0x32,_0x76e631[_0x1d2d87(0x12e)](BADGES[_0x1d2d87(0x41e)]['id'])),_0x1901db[_0x1d2d87(0x12e)]({..._0x334faa,'score':_0x42e294,'points':_0x447263,'badges':Array[_0x1d2d87(0x4f9)](new Set(_0x76e631)),'answers':_0xadc356});}const _0x504825=_0x1901db['length']>0x0?_0x1901db[0x0][_0x1d2d87(0x9e7)]:0x0,_0x84affa=Math[_0x1d2d87(0x5fa)](..._0x1901db['map'](_0x51073b=>_0x51073b[_0x1d2d87(0x9e7)])),_0x508873=_0x1901db[_0x1d2d87(0x9f1)]>0x0?_0x1901db[_0x1901db['length']-0x1][_0x1d2d87(0x9e7)]:0x0,_0x13a2f8=_0x1901db['length']>0x0?_0x1901db[_0x1901db[_0x1d2d87(0x9f1)]-0x1][_0x1d2d87(0x990)]:0x0,_0x3db0de=doc(db,_0x1d2d87(0xb4)+appId+_0x1d2d87(0x9aa)+_0x294be7['id']+_0x1d2d87(0x67f),_0xd320b1);await updateDoc(_0x3db0de,{'attempts':_0x1901db,'firstScore':_0x504825,'bestScore':_0x84affa,'latestScore':_0x508873,'points':_0x13a2f8});}function cleanupQuizOptions(_0x248ebd){const _0x5ce4f3=_0xdd45b5,_0x233e5f=(_0x47cffe,_0x202d3d)=>_0x202d3d===0x0?_0x47cffe:_0x233e5f(_0x202d3d,_0x47cffe%_0x202d3d),_0x367099=_0x4daa34=>{const _0x244a88=_0x39cc;if(typeof _0x4daa34!=='string')return null;_0x4daa34=_0x4daa34['trim']();const _0x48ae68=_0x4daa34[_0x244a88(0xa21)](/[ /]/)['filter'](_0x56b0d3=>_0x56b0d3!=='');if(_0x48ae68['length']===0x3)return parseInt(_0x48ae68[0x0])+parseInt(_0x48ae68[0x1])/parseInt(_0x48ae68[0x2]);else{if(_0x48ae68[_0x244a88(0x9f1)]===0x2)return parseInt(_0x48ae68[0x0])/parseInt(_0x48ae68[0x1]);else{if(_0x48ae68['length']===0x1&&!isNaN(_0x48ae68[0x0]))return parseFloat(_0x48ae68[0x0]);}}return null;},_0x3d6c42=_0x599693=>{const _0x5bd4fe=_0x39cc;if(typeof _0x599693!==_0x5bd4fe(0x58c))return _0x599693;const _0x173388=_0x599693[_0x5bd4fe(0x9e2)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x173388){const _0x4f4485=parseInt(_0x173388[0x1]);let _0x3b8301=parseInt(_0x173388[0x2]),_0x1f4da8=parseInt(_0x173388[0x3]);const _0x24663e=_0x233e5f(_0x3b8301,_0x1f4da8);_0x3b8301/=_0x24663e,_0x1f4da8/=_0x24663e;if(_0x1f4da8===0x1)return(_0x4f4485+_0x3b8301)['toString']();return _0x4f4485+'\x20'+_0x3b8301+'/'+_0x1f4da8;}return _0x599693;};return _0x248ebd&&_0x248ebd[_0x5ce4f3(0x69e)]&&_0x248ebd[_0x5ce4f3(0x69e)][_0x5ce4f3(0x947)](_0x44a446=>{const _0x32cc27=_0x5ce4f3;if(_0x44a446[_0x32cc27(0x40c)]===_0x32cc27(0xad4)&&_0x44a446[_0x32cc27(0x996)]){const _0x3437b5=new Map(),_0xba9fd=_0x44a446[_0x32cc27(0x996)][_0x44a446['correctAnswerIndex']];_0x44a446[_0x32cc27(0x996)][_0x32cc27(0x947)](_0x5dacbf=>{const _0x5a5dd0=_0x32cc27,_0x24532f=_0x3d6c42(_0x5dacbf),_0x295cb6=_0x367099(_0x24532f);_0x295cb6!==null&&!_0x3437b5[_0x5a5dd0(0x17b)](_0x295cb6)&&_0x3437b5[_0x5a5dd0(0x4bb)](_0x295cb6,_0x24532f);}),_0x44a446[_0x32cc27(0x996)]=Array['from'](_0x3437b5['values']());const _0x5b39e2=_0x44a446['options'][_0x32cc27(0x54b)](_0x3181d1=>_0x3181d1===_0x3d6c42(_0xba9fd));_0x44a446[_0x32cc27(0x51c)]=_0x5b39e2!==-0x1?_0x5b39e2:0x0;}}),_0x248ebd;}function showGameStartConfirmationModal(_0x393da9,_0x21c07f,_0x20768b){const _0x417f97=_0xdd45b5,_0x4ba494=document[_0x417f97(0xbd5)](_0x417f97(0xb3e));document[_0x417f97(0xbd5)](_0x417f97(0x2e8))[_0x417f97(0x5e0)]='เริ่มกิจกรรม:\x20'+_0x20768b,document['getElementById'](_0x417f97(0xbd4))[_0x417f97(0xc1a)]=_0x393da9,document[_0x417f97(0xbd5)]('game-start-mode')[_0x417f97(0xc1a)]=_0x21c07f,document['getElementById'](_0x417f97(0xa35))[_0x417f97(0x674)]=!![];const _0x2fe17c=document[_0x417f97(0xbd5)]('sync-variant-selector');_0x21c07f===_0x417f97(0x656)?(_0x2fe17c['classList'][_0x417f97(0x3b9)]('hidden'),document['querySelector']('input[name=\x22syncVariant\x22][value=\x22classic\x22]')[_0x417f97(0x674)]=!![]):_0x2fe17c[_0x417f97(0x8c0)]['add']('hidden'),_0x4ba494[_0x417f97(0x8c0)][_0x417f97(0x3b9)](_0x417f97(0x2ee));}async function saveGameResultsAsSubmissions(_0x27c18d){const _0x3275fe=_0xdd45b5;console['log'](_0x3275fe(0x92d),_0x27c18d);const _0x9358fe=_0x27c18d['quizId'];let _0x551996=[];if(_0x27c18d[_0x3275fe(0xa96)])_0x551996=Object[_0x3275fe(0x1a6)](_0x27c18d[_0x3275fe(0xa96)])['map'](([_0x2a5053,_0x2b9ae3])=>({'name':_0x2a5053,..._0x2b9ae3}));else{if(_0x27c18d[_0x3275fe(0x4ae)])Object[_0x3275fe(0x3bb)](_0x27c18d[_0x3275fe(0x4ae)])['forEach'](_0x5790dd=>{const _0x165ed1=_0x3275fe;_0x5790dd[_0x165ed1(0x252)][_0x165ed1(0x947)](_0x20477b=>{const _0x3eccf4=_0x165ed1;_0x551996[_0x3eccf4(0x12e)]({'name':_0x20477b,'score':_0x5790dd[_0x3eccf4(0x9e7)],'answers':_0x5790dd[_0x3eccf4(0xb1b)]});});});else _0x27c18d[_0x3275fe(0x903)]&&Object[_0x3275fe(0x1a6)](_0x27c18d['responses'])[_0x3275fe(0x947)](([_0x166eee,_0x4da1d6])=>{const _0x553c96=_0x3275fe;_0x551996[_0x553c96(0x12e)]({'name':_0x166eee,..._0x4da1d6});});}if(_0x551996['length']===0x0){console['log'](_0x3275fe(0x644));return;}const _0x5f506a=_0x27c18d[_0x3275fe(0x109)]?.['questions'][_0x3275fe(0x9f1)]||currentQuizData[_0x3275fe(0x69e)][_0x3275fe(0x9f1)],_0x53748d=writeBatch(db);for(const _0x19300a of _0x551996){const _0x120171=doc(db,_0x3275fe(0xb4)+appId+_0x3275fe(0x9aa)+_0x9358fe+_0x3275fe(0x67f),_0x19300a[_0x3275fe(0x8aa)]),_0x323a98=(_0x19300a[_0x3275fe(0xb1b)]||[])[_0x3275fe(0x26c)](_0x39058e=>_0x39058e[_0x3275fe(0x66b)])[_0x3275fe(0x9f1)];let _0x37102b=_0x323a98;_0x27c18d['isConfidenceScoringEnabled']&&_0x19300a[_0x3275fe(0xb1b)]&&_0x19300a[_0x3275fe(0xb1b)][_0x3275fe(0x947)](_0x359055=>{const _0x349ec7=_0x3275fe;if(_0x359055[_0x349ec7(0x66b)]&&(_0x359055[_0x349ec7(0x238)]===!![]||_0x359055[_0x349ec7(0x238)]===_0x349ec7(0x5a1)))_0x37102b+=0x1;else!_0x359055['isCorrect']&&(_0x359055[_0x349ec7(0x238)]===!![]||_0x359055['wasConfident']===_0x349ec7(0x5a1))&&(_0x37102b-=0x1);});_0x5f506a>0x0&&_0x323a98===_0x5f506a&&(_0x37102b+=0x1);const _0x406fc2={'score':_0x323a98,'points':_0x37102b,'badges':_0x19300a[_0x3275fe(0xb70)]||[],'submittedAt':new Date()[_0x3275fe(0x8a9)](),'answers':(_0x19300a[_0x3275fe(0xb1b)]||[])[_0x3275fe(0xb43)](_0x3850ee=>({'questionId':_0x3850ee[_0x3275fe(0x466)],'answer':_0x3850ee[_0x3275fe(0x5b4)],'answerText':_0x3850ee[_0x3275fe(0x8cf)],'isCorrect':_0x3850ee[_0x3275fe(0x66b)],'originalQuestionText':_0x3850ee[_0x3275fe(0x453)],'wasConfident':_0x3850ee[_0x3275fe(0x238)]}))},_0x2e78fd=await getDoc(_0x120171),_0x4c2fd2=_0x2e78fd[_0x3275fe(0x935)]()?_0x2e78fd['data']():{},_0xd89456=_0x4c2fd2[_0x3275fe(0x712)]||0x0,_0xc63b69=_0x4c2fd2[_0x3275fe(0x2aa)]||[],_0x132907={'studentName':_0x19300a['name'],'totalQuestions':_0x5f506a,'attempts':arrayUnion(_0x406fc2),'latestScore':_0x323a98,'points':_0x37102b,'latestSubmittedAt':_0x406fc2['submittedAt'],'bestScore':Math['max'](_0xd89456,_0x323a98),'firstScore':_0xc63b69['length']===0x0?_0x323a98:_0x4c2fd2[_0x3275fe(0x711)]||0x0};_0x53748d[_0x3275fe(0x4bb)](_0x120171,_0x132907,{'merge':!![]});}try{await _0x53748d['commit'](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x551996[_0x3275fe(0x9f1)]+_0x3275fe(0x178));const _0x450bee=_0x27c18d[_0x3275fe(0x109)]?.[_0x3275fe(0xa60)]||currentQuizData?.[_0x3275fe(0xa60)]||currentProjectId;if(_0x450bee){const _0x365a78=[...new Set(_0x551996[_0x3275fe(0xb43)](_0x281a44=>_0x281a44['name']))];for(const _0x5cf694 of _0x365a78){await updateStudentProfile(_0x450bee,_0x5cf694);}}}catch(_0x425b37){console['error'](_0x3275fe(0x736),_0x425b37),showMessage(_0x3275fe(0x623));}}async function saveQuiz(_0x190c37=null,_0x44acc8=null){const _0xd33573=_0xdd45b5,_0x13f472=_0x190c37||currentProjectId;if(!_0x13f472){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0xd33573(0x69e)]||!userId){showMessage(_0xd33573(0x909));return;}const _0x4113fd=document[_0xd33573(0xbd5)](_0xd33573(0x666));_0x4113fd[_0xd33573(0x256)]=!![],_0x4113fd[_0xd33573(0x553)]=_0xd33573(0x662);const _0x434398=document['getElementById'](_0xd33573(0xb68))[_0xd33573(0x674)];let _0x2d4280=document['getElementById'](_0xd33573(0xc17))['innerText'][_0xd33573(0x7ae)]();_0x434398&&!_0x2d4280[_0xd33573(0x511)](_0xd33573(0x5aa))&&(_0x2d4280='(ก่อนเรียน)\x20'+_0x2d4280);try{const _0x89aa7f={'resultsDisplay':document[_0xd33573(0xbd5)](_0xd33573(0xaa1))['value'],'shuffle':document[_0xd33573(0xbd5)](_0xd33573(0x752))[_0xd33573(0xc1a)],'timerMode':document['getElementById'](_0xd33573(0x10d))[_0xd33573(0xc1a)],'timerDuration':parseInt(document[_0xd33573(0xbd5)](_0xd33573(0x7bb))[_0xd33573(0xc1a)])||0xa,'passingScore':parseInt(document[_0xd33573(0xbd5)](_0xd33573(0x749))[_0xd33573(0xc1a)])||0x0,'isAdaptive':document[_0xd33573(0xbd5)](_0xd33573(0x63a))[_0xd33573(0x674)],'loopUntilPass':document[_0xd33573(0xbd5)]('loop-until-pass-checkbox')[_0xd33573(0x674)]},_0x2813f6=(currentQuizData[_0xd33573(0x69e)]||[])['map']((_0x5ef9e6,_0x546bb9)=>{const _0x1044bb=_0xd33573,_0x2bdf95=document[_0x1044bb(0xbd5)]('quiz-type-select')[_0x1044bb(0xc1a)],_0x7f31e3={'id':'q_'+Date[_0x1044bb(0x435)]()+'_'+_0x546bb9,'questionText':_0x5ef9e6['questionText']||'','explanation':_0x5ef9e6[_0x1044bb(0x32a)]||_0x1044bb(0x531),'questionType':_0x5ef9e6[_0x1044bb(0x40c)]||_0x2bdf95,'imageCode':_0x5ef9e6[_0x1044bb(0x1a9)]||null};return(_0x7f31e3[_0x1044bb(0x40c)]==='multiple_choice'||_0x7f31e3[_0x1044bb(0x40c)]===_0x1044bb(0x1bb)||_0x7f31e3[_0x1044bb(0x40c)]==='mixed'&&_0x5ef9e6[_0x1044bb(0x996)])&&(_0x7f31e3[_0x1044bb(0x996)]=_0x5ef9e6[_0x1044bb(0x996)]||[],_0x7f31e3[_0x1044bb(0x51c)]=_0x5ef9e6[_0x1044bb(0x51c)]!==undefined?_0x5ef9e6[_0x1044bb(0x51c)]:0x0),(_0x7f31e3[_0x1044bb(0x40c)]===_0x1044bb(0x5ed)||_0x7f31e3[_0x1044bb(0x40c)]===_0x1044bb(0xb7f)||_0x7f31e3['questionType']===_0x1044bb(0x708)&&_0x5ef9e6[_0x1044bb(0x24b)])&&(_0x7f31e3[_0x1044bb(0x24b)]=_0x5ef9e6['idealAnswer']||''),_0x7f31e3['questionType']==='true_false'&&(_0x7f31e3[_0x1044bb(0xa7d)]=_0x5ef9e6['correctAnswer']===!![]),_0x7f31e3[_0x1044bb(0x40c)]===_0x1044bb(0xc6)&&(_0x7f31e3[_0x1044bb(0xbb0)]=_0x5ef9e6['stem']||'',_0x7f31e3[_0x1044bb(0xc67)]=_0x5ef9e6[_0x1044bb(0xc67)]||'',_0x7f31e3[_0x1044bb(0x710)]=_0x5ef9e6[_0x1044bb(0x710)]||[]),_0x7f31e3;}),_0x5b08ca={'topic':_0x2d4280,'quizType':currentQuizData['quizType']||_0xd33573(0xad4),'questions':_0x2813f6,'projectId':_0x13f472,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0xd33573(0x9b4),'settings':_0x89aa7f,'quizMode':_0x434398?_0xd33573(0x264):_0xd33573(0x544),'pairedQuizId':null,'lessonPlan':null};let _0xe2bbf0;while(!![]){_0xe2bbf0=Math[_0xd33573(0x28f)](0x3e8+Math[_0xd33573(0xc56)]()*0x2328)[_0xd33573(0x467)]();const _0x30dfa8=await getDoc(doc(db,'artifacts/'+appId+_0xd33573(0xcba),_0xe2bbf0));if(!_0x30dfa8[_0xd33573(0x935)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xe2bbf0),_0x5b08ca);if(_0x44acc8&&currentBlueprintProjectId){console['log'](_0xd33573(0x59d)+_0xe2bbf0+'\x20to\x20blueprint\x20topic\x20'+_0x44acc8);try{const _0x282d87=doc(db,_0xd33573(0xb4)+appId+_0xd33573(0x3de),currentBlueprintProjectId);await updateDoc(_0x282d87,{['topics.'+_0x44acc8+_0xd33573(0x997)]:arrayUnion(_0xe2bbf0)});}catch(_0x12071d){console[_0xd33573(0x2c7)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x12071d);}}currentQuizData[_0xd33573(0xa10)]=_0x89aa7f,currentQuizData['id']=_0xe2bbf0;const _0x33a6d2=document[_0xd33573(0xbd5)](_0xd33573(0x9a6));_0x33a6d2[_0xd33573(0x553)]=_0xd33573(0x2a0)+_0xe2bbf0+_0xd33573(0x1bf),document[_0xd33573(0xbd5)](_0xd33573(0xb78))[_0xd33573(0x915)](_0xd33573(0x98f),()=>copyTextToClipboard(_0xe2bbf0,_0xd33573(0x73f))),document[_0xd33573(0xbd5)](_0xd33573(0x8d8))[_0xd33573(0x915)]('click',()=>handleStartLiveRace(_0xe2bbf0)),document[_0xd33573(0xbd5)]('start-presentation-btn')['addEventListener'](_0xd33573(0x98f),()=>startPresentation(currentQuizData)),document[_0xd33573(0xbd5)]('admin-try-quiz-btn')[_0xd33573(0x915)](_0xd33573(0x98f),startAdminTest),showMessage(_0xd33573(0x661));}catch(_0x159ffe){console['error'](_0xd33573(0x42b),_0x159ffe),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x4113fd[_0xd33573(0x256)]=![],_0x4113fd['innerHTML']=_0xd33573(0xa6);}}function promptForProjectAndSave(){const _0xfe05d8=_0xdd45b5,_0x39de5d=document[_0xfe05d8(0xbd5)]('move-quiz-modal'),_0x3b0fec=document[_0xfe05d8(0xbd5)](_0xfe05d8(0x753)),_0x37e4b2=_0x39de5d[_0xfe05d8(0x5db)]('h3'),_0x3a1192=document['getElementById']('confirm-move-quiz-btn');_0x37e4b2[_0xfe05d8(0x5e0)]=_0xfe05d8(0x363),_0x3a1192[_0xfe05d8(0x5e0)]='เลือกและบันทึก';allProjects[_0xfe05d8(0x9f1)]===0x0?(_0x3b0fec[_0xfe05d8(0x553)]=_0xfe05d8(0x90f),_0x3a1192[_0xfe05d8(0x256)]=!![]):(_0x3b0fec['innerHTML']=allProjects[_0xfe05d8(0xb43)](_0x9cfea0=>'<option\x20value=\x22'+_0x9cfea0['id']+'\x22>'+_0x9cfea0[_0xfe05d8(0xad3)]+_0xfe05d8(0x9fc))[_0xfe05d8(0xb92)](''),_0x3a1192[_0xfe05d8(0x256)]=![]);_0x39de5d[_0xfe05d8(0x8c0)][_0xfe05d8(0x3b9)](_0xfe05d8(0x2ee));const _0x22a964=()=>{const _0xb5957=_0xfe05d8,_0x1f0db6=_0x3b0fec[_0xb5957(0xc1a)];_0x1f0db6?(currentProjectId=_0x1f0db6,_0x39de5d[_0xb5957(0x8c0)][_0xb5957(0x9ff)]('hidden'),saveQuiz(),_0x37e4b2[_0xb5957(0x5e0)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3a1192[_0xb5957(0x5e0)]=_0xb5957(0x764),_0x3a1192[_0xb5957(0xd9)](_0xb5957(0x98f),_0x22a964),_0x3a1192[_0xb5957(0x915)]('click',confirmMoveQuiz)):showMessage(_0xb5957(0x730));};_0x3a1192[_0xfe05d8(0xd9)](_0xfe05d8(0x98f),confirmMoveQuiz),_0x3a1192[_0xfe05d8(0x915)]('click',_0x22a964);}function copyTextToClipboard(_0x92a9da,_0x1a0d7c){const _0x5abf7c=_0xdd45b5,_0x3d76ac=document[_0x5abf7c(0x26f)](_0x5abf7c(0x5e6));_0x3d76ac[_0x5abf7c(0xc1a)]=_0x92a9da,_0x3d76ac[_0x5abf7c(0x125)]['position']=_0x5abf7c(0x48a),_0x3d76ac[_0x5abf7c(0x125)]['opacity']='0',document[_0x5abf7c(0x594)][_0x5abf7c(0x78c)](_0x3d76ac),_0x3d76ac[_0x5abf7c(0xb8d)](),_0x3d76ac[_0x5abf7c(0x46d)]();try{const _0x62a33c=document[_0x5abf7c(0x3ff)](_0x5abf7c(0x532));showMessage(_0x62a33c?_0x1a0d7c:_0x5abf7c(0xb8a));}catch(_0x41e9d9){showMessage(_0x5abf7c(0xb8a)),console[_0x5abf7c(0x2c7)]('Copy\x20command\x20failed',_0x41e9d9);}document[_0x5abf7c(0x594)][_0x5abf7c(0x605)](_0x3d76ac);}function listenForProjectQuizzes(_0x3c0eaf){const _0x4c0767=_0xdd45b5,_0x32c0a7=collection(db,_0x4c0767(0xb4)+appId+_0x4c0767(0xcba)),_0x5547fd=query(_0x32c0a7,where(_0x4c0767(0xa60),'==',_0x3c0eaf));unsubscribeQuizzesListener=onSnapshot(_0x5547fd,async _0x2b26d6=>{const _0x5e37ee=_0x4c0767;allQuizzes=_0x2b26d6[_0x5e37ee(0x627)][_0x5e37ee(0xb43)](_0x5b0950=>({'id':_0x5b0950['id'],..._0x5b0950[_0x5e37ee(0xa1d)]()})),renderQuizzes();},_0x27afa4=>{const _0x5d3816=_0x4c0767;console[_0x5d3816(0x2c7)]('Error\x20fetching\x20project\x20quizzes:',_0x27afa4),document[_0x5d3816(0xbd5)]('project-quizzes-list')['innerHTML']=_0x5d3816(0xab4);});}async function renderQuizzes(){const _0x8616e4=_0xdd45b5,_0xa50aa7=document[_0x8616e4(0xbd5)]('project-quizzes-list'),_0x439032=document['getElementById'](_0x8616e4(0x20b))['value']['toLowerCase']();let _0x469ee3;currentProjectId===_0x8616e4(0x5c2)?_0x469ee3=starredQuizzes:_0x469ee3=allQuizzes;let _0x520964=_0x469ee3[_0x8616e4(0x26c)](_0x2db325=>_0x2db325[_0x8616e4(0x6bd)][_0x8616e4(0x1a5)]()[_0x8616e4(0x668)](_0x439032));_0x520964[_0x8616e4(0x50a)]((_0x55471c,_0x4fd5c6)=>new Date(_0x4fd5c6[_0x8616e4(0x390)])-new Date(_0x55471c[_0x8616e4(0x390)]));if(_0x520964[_0x8616e4(0x9f1)]===0x0){_0xa50aa7[_0x8616e4(0x553)]=_0x8616e4(0x65f);return;}const _0x273b81={},_0x3e3c11=_0x520964[_0x8616e4(0xb43)](async _0x21432f=>{const _0x42a868=_0x8616e4,_0x31fe7b=collection(db,'artifacts/'+appId+_0x42a868(0x9aa)+_0x21432f['id']+_0x42a868(0x67f)),_0x2c80f9=await getDocs(_0x31fe7b);_0x273b81[_0x21432f['id']]=_0x2c80f9['size'];});await Promise[_0x8616e4(0x906)](_0x3e3c11);let _0x4f1729='';_0x520964[_0x8616e4(0x947)](_0xb8d9f3=>{const _0x57cc5d=_0x8616e4,_0xfa2887=_0x273b81[_0xb8d9f3['id']]||0x0,_0x2f086f=_0xb8d9f3['status']||_0x57cc5d(0x9b4),_0x357397=_0xb8d9f3[_0x57cc5d(0xa10)]?.['timerMode']||_0x57cc5d(0xa64);let _0xed2ced='',_0x4e2ad6='';const _0xbac76e=new Date();let _0x429afd=_0x2f086f;if(_0x2f086f==='scheduled'){const _0x44490c=_0xb8d9f3['startTime']?new Date(_0xb8d9f3[_0x57cc5d(0x7f4)]):null,_0x35220=_0xb8d9f3[_0x57cc5d(0x3e1)]?new Date(_0xb8d9f3[_0x57cc5d(0x3e1)]):null;if(_0x35220&&_0xbac76e>_0x35220)_0x429afd=_0x57cc5d(0xc8d);else _0x44490c&&_0xbac76e<_0x44490c?_0x429afd='scheduled_pending':_0x429afd='active';}switch(_0x429afd){case _0x57cc5d(0xc8d):_0xed2ced='ปิดใช้งาน',_0x4e2ad6='text-red-700\x20bg-red-100';break;case _0x57cc5d(0x929):_0xed2ced=_0x57cc5d(0xc25),_0x4e2ad6=_0x57cc5d(0x7ad);break;case _0x57cc5d(0x9b4):_0xed2ced=_0x357397!==_0x57cc5d(0xa64)?'เปิด\x20(จับเวลา)':_0x57cc5d(0x8fc),_0x4e2ad6=_0x57cc5d(0x100);break;default:_0xed2ced=_0x57cc5d(0x229),_0x4e2ad6=_0x57cc5d(0x100);break;}let _0x309d2f='';const _0x2c1cec={'day':'2-digit','month':_0x57cc5d(0x6b8),'year':'numeric','hour':_0x57cc5d(0x6b8),'minute':_0x57cc5d(0x6b8),'hour12':![]};if(_0x2f086f===_0x57cc5d(0xb72)){if(_0xb8d9f3[_0x57cc5d(0x7f4)])_0x309d2f+=_0x57cc5d(0x36c)+new Date(_0xb8d9f3[_0x57cc5d(0x7f4)])['toLocaleString'](_0x57cc5d(0x70e),_0x2c1cec)+_0x57cc5d(0x57f);if(_0xb8d9f3[_0x57cc5d(0x3e1)])_0x309d2f+=_0x57cc5d(0x331)+new Date(_0xb8d9f3[_0x57cc5d(0x3e1)])['toLocaleString'](_0x57cc5d(0x70e),_0x2c1cec)+'</p>';}let _0x6144ee='';if(_0xb8d9f3[_0x57cc5d(0xc9a)]){const _0xc8db51=allQuizzes[_0x57cc5d(0x922)](_0x37576e=>_0x37576e['id']===_0xb8d9f3[_0x57cc5d(0xc9a)]);if(_0xc8db51){let _0x53d75c,_0x5f0297;new Date(_0xb8d9f3[_0x57cc5d(0x390)])<new Date(_0xc8db51[_0x57cc5d(0x390)])?(_0x53d75c=_0xb8d9f3['id'],_0x5f0297=_0xc8db51['id']):(_0x53d75c=_0xc8db51['id'],_0x5f0297=_0xb8d9f3['id']),_0x6144ee+=_0x57cc5d(0x141)+_0x5f0297+_0x57cc5d(0x1aa)+_0x53d75c+_0x57cc5d(0x25d);}}else _0xb8d9f3[_0x57cc5d(0xbe8)]===_0x57cc5d(0x264)&&(_0x6144ee+=_0x57cc5d(0x875)+_0xb8d9f3['id']+_0x57cc5d(0x786));if(_0xb8d9f3[_0x57cc5d(0xbe8)]===_0x57cc5d(0x264)&&_0xfa2887>0x0)_0x6144ee+=_0x57cc5d(0x875)+_0xb8d9f3['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0xb8d9f3['pairedQuizId']&&_0xb8d9f3[_0x57cc5d(0xbe8)]!=='pre-test'&&_0xfa2887>0x0&&(_0x6144ee+=_0x57cc5d(0x875)+_0xb8d9f3['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x2a84ed='';_0xb8d9f3[_0x57cc5d(0xc9a)]?_0x2a84ed=_0x57cc5d(0x534)+_0xb8d9f3['id']+_0x57cc5d(0xba5):_0x2a84ed='<button\x20data-quiz-id=\x22'+_0xb8d9f3['id']+_0x57cc5d(0xb18),_0x4f1729+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0xb8d9f3['id']+_0x57cc5d(0x1ae)+_0xb8d9f3['topic']+_0x57cc5d(0x7e1)+_0xb8d9f3[_0x57cc5d(0x69e)][_0x57cc5d(0x9f1)]+_0x57cc5d(0xb7d)+new Date(_0xb8d9f3[_0x57cc5d(0x390)])['toLocaleString'](_0x57cc5d(0x70e))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0xfa2887+_0x57cc5d(0x840)+_0x309d2f+_0x57cc5d(0x70c)+_0x4e2ad6+'\x22>'+_0xed2ced+_0x57cc5d(0xaa)+_0xb8d9f3['id']+_0x57cc5d(0x738)+_0xb8d9f3['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0xb8d9f3[_0x57cc5d(0xb25)]?_0x57cc5d(0x208):_0x57cc5d(0x4ec))+_0x57cc5d(0x428)+_0x6144ee+_0x57cc5d(0x794)+_0xb8d9f3['id']+_0x57cc5d(0x3f9)+_0xb8d9f3['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xb8d9f3['id']+_0x57cc5d(0x551)+_0xb8d9f3['id']+_0x57cc5d(0x549)+_0xb8d9f3['id']+_0x57cc5d(0x7a3)+_0xb8d9f3['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xb8d9f3['id']+'\x22\x20data-topic=\x22'+_0xb8d9f3[_0x57cc5d(0x6bd)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xb8d9f3['id']+_0x57cc5d(0xbd6)+_0xb8d9f3['id']+_0x57cc5d(0x189)+_0x2a84ed+_0x57cc5d(0x267)+_0xb8d9f3['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xb8d9f3['id']+_0x57cc5d(0x584)+_0xb8d9f3['id']+_0x57cc5d(0x595)+_0xb8d9f3['id']+_0x57cc5d(0xbee)+_0xb8d9f3['id']+_0x57cc5d(0x3a4)+_0xb8d9f3['id']+_0x57cc5d(0xb7)+_0xb8d9f3['id']+_0x57cc5d(0xa94)+_0xb8d9f3['id']+_0x57cc5d(0x523)+_0xb8d9f3['topic']+_0x57cc5d(0xa78)+_0xb8d9f3['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xa50aa7['innerHTML']=_0x4f1729,document[_0x8616e4(0x197)](_0x8616e4(0x4d2))[_0x8616e4(0x947)](_0x11644e=>{const _0x49b97c=_0x8616e4;_0x11644e[_0x49b97c(0x915)](_0x49b97c(0x98f),()=>{const _0x48a993=_0x49b97c,_0x5031a0=_0x11644e[_0x48a993(0x41c)][_0x48a993(0x559)];showQuizDetailView(_0x5031a0);});});}async function handleUnpairQuiz(_0x49cd32){const _0x25f685=_0xdd45b5,_0xf9617=allQuizzes[_0x25f685(0x922)](_0x1a0772=>_0x1a0772['id']===_0x49cd32);if(!_0xf9617||!_0xf9617[_0x25f685(0xc9a)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x25f685(0x93d),async()=>{const _0x13d3f9=_0x25f685;try{const _0x59d41f=doc(db,'artifacts/'+appId+_0x13d3f9(0xcba),_0x49cd32),_0x461e89=doc(db,_0x13d3f9(0xb4)+appId+_0x13d3f9(0xcba),_0xf9617[_0x13d3f9(0xc9a)]),_0x1340db=writeBatch(db);_0x1340db['update'](_0x59d41f,{'pairedQuizId':null}),_0x1340db[_0x13d3f9(0x9d2)](_0x461e89,{'pairedQuizId':null}),await _0x1340db[_0x13d3f9(0xb39)](),showMessage(_0x13d3f9(0xbae));}catch(_0x3ed541){console[_0x13d3f9(0x2c7)]('Error\x20unpairing\x20quizzes:',_0x3ed541),showMessage(_0x13d3f9(0x474));}});}function formatAndPrintLessonPlan(_0x2b2ccb,_0xcfe05){const _0x261cac=_0xdd45b5,_0x50e7b3=window['open']('',_0x261cac(0x884)),_0x412d4c=_0x261cac(0x89f)+_0xcfe05[_0x261cac(0x6bd)]+_0x261cac(0x9e8)+_0xcfe05[_0x261cac(0x6bd)]+_0x261cac(0xa6c)+_0x2b2ccb[_0x261cac(0x13c)][_0x261cac(0xb43)](_0x2e5a9f=>'<li>'+_0x2e5a9f+'</li>')[_0x261cac(0xb92)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x2b2ccb[_0x261cac(0x35a)]+_0x261cac(0x1ee)+_0x2b2ccb['practiceProblems']['map'](_0x1d94f9=>_0x261cac(0x539)+_0x1d94f9[_0x261cac(0x8fd)]+_0x261cac(0x5a2)+_0x1d94f9[_0x261cac(0x573)]+_0x261cac(0x90d))['join']('')+_0x261cac(0x3fc);_0x50e7b3[_0x261cac(0xb38)]['write'](_0x412d4c),_0x50e7b3[_0x261cac(0xb38)]['close'](),_0x50e7b3['onload']=function(){setTimeout(()=>{const _0xf80756=_0x39cc;_0x50e7b3[_0xf80756(0xa03)]();},0x3e8);};}async function handleAiFixFormula(_0x237c00){const _0x2595ed=_0xdd45b5,_0x1f2562=document[_0x2595ed(0x5db)]('.question-editor-item[data-q-index=\x22'+_0x237c00+'\x22]');if(!_0x1f2562)return;const _0x32e549=_0x1f2562[_0x2595ed(0x41c)][_0x2595ed(0x21a)],_0xcc4b9=_0x1f2562[_0x2595ed(0x5db)](_0x2595ed(0x27c));let _0x1e9a37={'question':_0x1f2562[_0x2595ed(0x5db)](_0x2595ed(0x5e6))[_0x2595ed(0xc1a)]};switch(_0x32e549){case _0x2595ed(0xad4):_0x1e9a37[_0x2595ed(0x996)]=Array[_0x2595ed(0x4f9)](_0x1f2562[_0x2595ed(0x197)](_0x2595ed(0xabc)))['map'](_0x333261=>_0x333261[_0x2595ed(0xc1a)]);break;case'short_answer':_0x1e9a37[_0x2595ed(0x24b)]=_0x1f2562[_0x2595ed(0x5db)](_0x2595ed(0xb50))[_0x2595ed(0xc1a)];break;case _0x2595ed(0xc6):_0x1e9a37[_0x2595ed(0xc67)]=_0x1f2562[_0x2595ed(0x5db)]('.correct-response-input')[_0x2595ed(0xc1a)];break;}_0xcc4b9[_0x2595ed(0x553)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0xcc4b9['disabled']=!![];try{const _0x16529e=_0x2595ed(0x323)+JSON[_0x2595ed(0xbd9)](_0x1e9a37)+_0x2595ed(0x5d4),_0x122f65={'type':_0x2595ed(0x207),'properties':{'fixedData':{'type':_0x2595ed(0x207),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x2595ed(0xc85)}},'idealAnswer':{'type':_0x2595ed(0xc85)},'correctResponse':{'type':_0x2595ed(0xc85)}},'required':[_0x2595ed(0x8fd)]}},'required':[_0x2595ed(0xad2)]},_0x5ee63b=await callAnalysisApi(_0x16529e,_0x122f65);if(_0x5ee63b&&_0x5ee63b[_0x2595ed(0xad2)]){const _0x340d44=_0x5ee63b[_0x2595ed(0xad2)];_0x1f2562['querySelector'](_0x2595ed(0x5e6))[_0x2595ed(0xc1a)]=_0x340d44['question']||_0x1e9a37[_0x2595ed(0x8fd)];switch(_0x32e549){case'multiple_choice':_0x340d44['options']&&_0x340d44[_0x2595ed(0x996)][_0x2595ed(0x9f1)]>0x0&&_0x1f2562[_0x2595ed(0x197)]('input[type=\x22text\x22]')[_0x2595ed(0x947)]((_0x5b5d86,_0x17c2f3)=>{const _0x2619fa=_0x2595ed;_0x5b5d86['value']=_0x340d44['options'][_0x17c2f3]||_0x1e9a37[_0x2619fa(0x996)][_0x17c2f3];});break;case'short_answer':_0x1f2562[_0x2595ed(0x5db)](_0x2595ed(0xb50))['value']=_0x340d44['idealAnswer']||_0x1e9a37[_0x2595ed(0x24b)];break;case _0x2595ed(0xc6):_0x1f2562[_0x2595ed(0x5db)](_0x2595ed(0x87a))['value']=_0x340d44[_0x2595ed(0xc67)]||_0x1e9a37['correctResponse'];break;}if(_0x1e9a37['question']!==_0x340d44[_0x2595ed(0x8fd)])try{const _0x2c63e6=collection(db,_0x2595ed(0xb4)+appId+_0x2595ed(0x385));await addDoc(_0x2c63e6,{'broken':_0x1e9a37[_0x2595ed(0x8fd)],'fixed':_0x340d44[_0x2595ed(0x8fd)],'createdAt':serverTimestamp()});}catch(_0x527423){console[_0x2595ed(0x2c7)](_0x2595ed(0xa8e),_0x527423);}showMessage(_0x2595ed(0x617));}else throw new Error(_0x2595ed(0x29b));}catch(_0x5c0a43){console[_0x2595ed(0x2c7)](_0x2595ed(0x138),_0x5c0a43),showMessage(_0x2595ed(0x985));}finally{_0xcc4b9[_0x2595ed(0x553)]=_0x2595ed(0x4b7),_0xcc4b9[_0x2595ed(0x256)]=![];}}async function handleGenerateLessonPlan(_0x435a5){const _0x21adbb=_0xdd45b5;showMessage(_0x21adbb(0x649));try{const _0x308f4d=doc(db,_0x21adbb(0xb4)+appId+_0x21adbb(0xcba),_0x435a5),_0x18ae58=await getDoc(_0x308f4d);if(!_0x18ae58['exists']())throw new Error(_0x21adbb(0x226));const _0x433431={'id':_0x435a5,..._0x18ae58[_0x21adbb(0xa1d)]()},_0x2dd49c=collection(db,_0x21adbb(0xb4)+appId+_0x21adbb(0xcba),_0x435a5,_0x21adbb(0xbaf)),_0x174282=await getDocs(_0x2dd49c),_0x4c380a=_0x174282[_0x21adbb(0x627)][_0x21adbb(0xb43)](_0x7efdbc=>_0x7efdbc[_0x21adbb(0xa1d)]());if(_0x4c380a[_0x21adbb(0x9f1)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x103bf0=calculateItemAnalysis(_0x433431,_0x4c380a)['perQuestionStats'],_0x4c64e1=calculateDistractorAnalysis(_0x433431,_0x4c380a),_0x5f059d=_0x2124d5=>{const _0x30c94c=_0x21adbb;if(!_0x2124d5)return'';return _0x2124d5[_0x30c94c(0x3fa)](/\\/g,'\x5c\x5c')[_0x30c94c(0x3fa)](/"/g,'\x5c\x22')[_0x30c94c(0x3fa)](/\n/g,'\x5cn');};let _0x18a212=_0x21adbb(0x895);_0x433431[_0x21adbb(0x69e)][_0x21adbb(0x947)]((_0x244062,_0x2220fe)=>{const _0x4cc19e=_0x21adbb,_0x456daf=_0x103bf0[_0x2220fe]?.['p'][_0x4cc19e(0x41f)](0x2)||_0x4cc19e(0xba7),_0x343a16=_0x103bf0[_0x2220fe]?.['r'][_0x4cc19e(0x41f)](0x2)||_0x4cc19e(0xba7),_0x77c8af=_0x5f059d(_0x244062[_0x4cc19e(0x72b)]||_0x244062[_0x4cc19e(0xbb0)]);_0x18a212+=_0x4cc19e(0x44c)+(_0x2220fe+0x1)+'\x20(p='+_0x456daf+_0x4cc19e(0xbd1)+_0x343a16+_0x4cc19e(0x35f)+_0x77c8af+'\x5cn';if(_0x244062['questionType']===_0x4cc19e(0xad4)&&_0x4c64e1[_0x2220fe]){const _0x413552=_0x4c64e1[_0x2220fe],_0xbaa885=Object['keys'](_0x413552)[_0x4cc19e(0x26c)](_0x21bc37=>parseInt(_0x21bc37)!==_0x244062['correctAnswerIndex'])[_0x4cc19e(0x50a)]((_0x35ff44,_0x4a7bc9)=>_0x413552[_0x4a7bc9][_0x4cc19e(0xa99)]-_0x413552[_0x35ff44][_0x4cc19e(0xa99)])[0x0];if(_0xbaa885&&_0x413552[_0xbaa885][_0x4cc19e(0xa99)]>0x0){const _0x278cf9=_0x5f059d(_0x413552[_0xbaa885]['text']);_0x18a212+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x278cf9+'\x22\x5cn';}}});const _0x11f2ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x433431[_0x21adbb(0x6bd)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18a212+_0x21adbb(0x78e),_0x15c3c4={'type':_0x21adbb(0x207),'properties':{'learningGaps':{'type':_0x21adbb(0xbb1),'items':{'type':_0x21adbb(0xc85)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x21adbb(0xc85)},'solution':{'type':'STRING'}}}}},'required':[_0x21adbb(0x13c),_0x21adbb(0x35a),'practiceProblems']},_0xd99957=await callAnalysisApi(_0x11f2ea,_0x15c3c4);await updateDoc(_0x308f4d,{'lessonPlan':_0xd99957});const _0x100e3c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x433431[_0x21adbb(0x6bd)]+_0x21adbb(0xaae)+_0xd99957[_0x21adbb(0x13c)][_0x21adbb(0xb43)](_0x59acf1=>_0x21adbb(0x558)+_0x59acf1+_0x21adbb(0x1b5))[_0x21adbb(0xb92)]('')+_0x21adbb(0x16e)+_0xd99957[_0x21adbb(0x35a)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xd99957[_0x21adbb(0x57e)][_0x21adbb(0xb43)](_0x205e24=>_0x21adbb(0x62e)+_0x205e24[_0x21adbb(0x8fd)]+_0x21adbb(0x6f1)+_0x205e24[_0x21adbb(0x573)]+'</p></div>')[_0x21adbb(0xb92)]('')+_0x21adbb(0xab3);document[_0x21adbb(0xbd5)]('lesson-plan-title')['textContent']=_0x21adbb(0x497)+_0x433431[_0x21adbb(0x6bd)],document[_0x21adbb(0xbd5)]('lesson-plan-content')[_0x21adbb(0x553)]=_0x100e3c,document[_0x21adbb(0xbd5)]('lesson-plan-modal')[_0x21adbb(0x8c0)][_0x21adbb(0x3b9)](_0x21adbb(0x2ee));if(window[_0x21adbb(0x9dd)])MathJax['typesetPromise']();messageModal[_0x21adbb(0x8c0)][_0x21adbb(0x9ff)](_0x21adbb(0x2ee));}catch(_0x40ecd4){console[_0x21adbb(0x2c7)](_0x21adbb(0x685),_0x40ecd4),showMessage(_0x21adbb(0x5b1)+_0x40ecd4[_0x21adbb(0x700)]);}}async function handleDuplicateQuiz(_0x2be218){const _0x205c05=_0xdd45b5;try{const _0x5e612a=doc(db,_0x205c05(0xb4)+appId+_0x205c05(0xcba),_0x2be218),_0x1bfaaa=await getDoc(_0x5e612a);if(_0x1bfaaa[_0x205c05(0x935)]()){const _0x382f3e=_0x1bfaaa[_0x205c05(0xa1d)]();let _0x4f1721='',_0x5dea6e=_0x205c05(0x544),_0x14e147=null;if(_0x382f3e['quizMode']===_0x205c05(0x264)){let _0x40244a=_0x382f3e[_0x205c05(0x6bd)][_0x205c05(0x3fa)]('(ก่อนเรียน)','')['trim']();_0x4f1721=_0x205c05(0xb79)+_0x40244a,_0x5dea6e=_0x205c05(0xb05),_0x14e147=_0x2be218;}else _0x4f1721=_0x205c05(0x27b)+_0x382f3e['topic'];const _0x104ac2={..._0x382f3e,'topic':_0x4f1721,'createdAt':new Date()[_0x205c05(0x8a9)](),'quizMode':_0x5dea6e,'pairedQuizId':_0x14e147};let _0x5e5674;while(!![]){_0x5e5674=Math[_0x205c05(0x28f)](0x3e8+Math[_0x205c05(0xc56)]()*0x2328)[_0x205c05(0x467)]();const _0x3b3672=await getDoc(doc(db,_0x205c05(0xb4)+appId+_0x205c05(0xcba),_0x5e5674));if(!_0x3b3672[_0x205c05(0x935)]())break;}const _0x33518c=doc(db,_0x205c05(0xb4)+appId+_0x205c05(0xcba),_0x5e5674);await setDoc(_0x33518c,_0x104ac2),_0x104ac2[_0x205c05(0xbe8)]===_0x205c05(0xb05)&&await updateDoc(_0x5e612a,{'pairedQuizId':_0x5e5674}),showMessage(_0x205c05(0x366));}else throw new Error(_0x205c05(0x83b));}catch(_0x211ebd){console[_0x205c05(0x2c7)](_0x205c05(0x3dd),_0x211ebd),showMessage(_0x205c05(0x128));}}async function handleDeleteQuiz(_0x28b0d0,_0x3d8b7c=!![]){const _0x48a532=_0xdd45b5;try{const _0x171ee1=writeBatch(db),_0x51c2a7=collection(db,_0x48a532(0xb4)+appId+'/public/data/quizzes/'+_0x28b0d0+_0x48a532(0x67f)),_0x57b8e9=await getDocs(_0x51c2a7);_0x57b8e9[_0x48a532(0x947)](_0x411045=>{_0x171ee1['delete'](doc(_0x51c2a7,_0x411045['id']));});const _0x40f671=doc(db,_0x48a532(0xb4)+appId+'/public/data/quizzes',_0x28b0d0);_0x171ee1[_0x48a532(0x2ec)](_0x40f671),await _0x171ee1['commit']();try{console[_0x48a532(0x3b7)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x28b0d0+_0x48a532(0xc53));const _0x5a1563=collection(db,'artifacts/'+appId+_0x48a532(0x3de)),_0x5241df=await getDocs(_0x5a1563),_0xc763b3=[];_0x5241df[_0x48a532(0x947)](_0x1b3e4e=>{const _0x2be1e1=_0x48a532,_0x98912e=_0x1b3e4e[_0x2be1e1(0xa1d)](),_0x244f17=_0x98912e['topics']||{};let _0x208d90=![];for(const _0x626fd in _0x244f17){const _0x37c374=_0x244f17[_0x626fd];if(_0x37c374[_0x2be1e1(0x59b)]&&_0x37c374[_0x2be1e1(0x59b)][_0x2be1e1(0x668)](_0x28b0d0)){_0x208d90=!![];const _0x270902=doc(db,'artifacts/'+appId+_0x2be1e1(0x3de),_0x1b3e4e['id']),_0x5a4d02=updateDoc(_0x270902,{[_0x2be1e1(0x95d)+_0x626fd+'.linkedQuizIds']:arrayRemove(_0x28b0d0)});_0xc763b3['push'](_0x5a4d02);}}}),_0xc763b3[_0x48a532(0x9f1)]>0x0&&(await Promise[_0x48a532(0x906)](_0xc763b3),console[_0x48a532(0x3b7)]('Successfully\x20removed\x20'+_0xc763b3[_0x48a532(0x9f1)]+_0x48a532(0x784)+_0x28b0d0+'.'));}catch(_0x5d4f5a){console[_0x48a532(0x2c7)](_0x48a532(0x1a7),_0x5d4f5a);}_0x3d8b7c&&showMessage(_0x48a532(0xb93));}catch(_0xd2ebb5){console[_0x48a532(0x2c7)](_0x48a532(0x312),_0xd2ebb5),_0x3d8b7c&&showMessage(_0x48a532(0x626));}}async function showQuizDetailView(_0x9da220){const _0x5be853=_0xdd45b5;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5be853(0x750));try{const _0x1b9f96=doc(db,_0x5be853(0xb4)+appId+_0x5be853(0xcba),_0x9da220),_0x3a5010=await getDoc(_0x1b9f96);if(!_0x3a5010[_0x5be853(0x935)]()){showMessage(_0x5be853(0x226));return;}const _0x371cfa={'id':_0x3a5010['id'],..._0x3a5010[_0x5be853(0xa1d)]()};currentQuizData=_0x371cfa;const _0x4221c=doc(db,_0x5be853(0xb4)+appId+_0x5be853(0x971),_0x371cfa[_0x5be853(0xa60)]),_0x12a74e=await getDoc(_0x4221c);_0x12a74e['exists']()?(currentProjectData=_0x12a74e[_0x5be853(0xa1d)](),currentProjectId=_0x371cfa['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x371cfa['projectId']);document['getElementById'](_0x5be853(0x98c))[_0x5be853(0x5e0)]=_0x371cfa[_0x5be853(0x6bd)],document[_0x5be853(0xbd5)](_0x5be853(0x4d3))['textContent']=_0x9da220;const _0x592b91=collection(db,_0x5be853(0xb4)+appId+'/public/data/quizzes',_0x9da220,_0x5be853(0xbaf));unsubscribeSubmissionsListener=onSnapshot(_0x592b91,_0x4fce67=>{const _0x925f4a=_0x5be853,_0x451f13=_0x4fce67[_0x925f4a(0x627)][_0x925f4a(0xb43)](_0x295f2f=>({'id':_0x295f2f['id'],..._0x295f2f[_0x925f4a(0xa1d)]()}));currentSubmissions=_0x451f13;const _0x5c9ca6=_0x451f13[_0x925f4a(0x26c)](_0x49742b=>_0x49742b['attempts']&&_0x49742b[_0x925f4a(0x2aa)]['length']>0x0);renderBehaviorLog(_0x451f13),renderAnswerGrid(currentProjectData[_0x925f4a(0x8f4)],_0x5c9ca6,_0x371cfa),renderAnalytics(_0x371cfa,_0x5c9ca6),renderQuizResultsTable(currentProjectData[_0x925f4a(0x8f4)],_0x451f13,_0x371cfa),renderQuizLeaderboard(_0x5c9ca6,_0x371cfa,_0x925f4a(0x99e));}),showView(_0x5be853(0xa98));}catch(_0x1d6b1e){console[_0x5be853(0x2c7)](_0x5be853(0xb0f),_0x1d6b1e),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x16aaaf,_0x492352,_0x2e5bc6){const _0x2fba0a=_0xdd45b5,_0x1a80a8=document[_0x2fba0a(0xbd5)](_0x2fba0a(0x691));if(!_0x1a80a8)return;if(!_0x16aaaf||_0x16aaaf[_0x2fba0a(0x9f1)]===0x0){_0x1a80a8['innerHTML']=_0x2fba0a(0x5af);return;}const _0x47d2b7=_0x2e5bc6['questions'],_0x124a2b=_0x492352[_0x2fba0a(0xdb)]((_0x4736b8,_0x4253ca)=>{return _0x4736b8[_0x4253ca['studentName']]=_0x4253ca,_0x4736b8;},{}),_0x4e91c2=_0x107841=>String[_0x2fba0a(0xb96)](0x41+_0x107841),_0x1abc89=_0x12d4b4=>{const _0x46715d=_0x2fba0a,_0x2cb469=_0x12d4b4[_0x46715d(0x40c)]||_0x2e5bc6[_0x46715d(0x51a)];switch(_0x2cb469){case _0x46715d(0xad4):return _0x12d4b4['options']&&_0x12d4b4['options'][_0x46715d(0x9f1)]>_0x12d4b4['correctAnswerIndex']?_0x4e91c2(_0x12d4b4[_0x46715d(0x51c)]):'-';case'true_false':const _0x1f20c5=_0x12d4b4[_0x46715d(0xa7d)]===!![]||String(_0x12d4b4['correctAnswer'])[_0x46715d(0x1a5)]()==='true';return _0x1f20c5?_0x46715d(0xb74):_0x46715d(0x4ca);case _0x46715d(0xc6):return _0x12d4b4[_0x46715d(0xc67)]||'-';case _0x46715d(0x5ed):return _0x46715d(0xc2c);default:return'-';}},_0x32a618=(_0x208324,_0x6ba6f7)=>{const _0x271320=_0x2fba0a;if(_0x6ba6f7[_0x271320(0x5b4)]===null||_0x6ba6f7[_0x271320(0x5b4)]===undefined)return'-';const _0x695069=_0x208324[_0x271320(0x40c)]||_0x2e5bc6[_0x271320(0x51a)];switch(_0x695069){case _0x271320(0xad4):const _0x4076f7=_0x208324[_0x271320(0x996)][_0x271320(0x54b)](_0x3660bc=>_0x3660bc===_0x6ba6f7[_0x271320(0x8cf)]);return _0x4076f7!==-0x1?_0x4e91c2(_0x4076f7):_0x6ba6f7[_0x271320(0x8cf)]||'-';case'true_false':if(_0x6ba6f7[_0x271320(0x5b4)]=='0'||_0x6ba6f7[_0x271320(0x5b4)]===!![]||_0x6ba6f7[_0x271320(0x5b4)]===_0x271320(0x332))return'ใช่';return _0x271320(0x4ca);default:return _0x6ba6f7[_0x271320(0x5b4)];}};let _0x571d92=_0x2fba0a(0x461)+_0x47d2b7[_0x2fba0a(0xb43)]((_0x564510,_0x321710)=>_0x2fba0a(0x729)+(_0x321710+0x1)+'</th>')[_0x2fba0a(0xb92)]('')+_0x2fba0a(0x43f)+_0x47d2b7[_0x2fba0a(0xb43)](_0xb3fdda=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x1abc89(_0xb3fdda)+_0x2fba0a(0x155))[_0x2fba0a(0xb92)]('')+_0x2fba0a(0x10f);_0x16aaaf['forEach'](_0x25d992=>{const _0x67e6b3=_0x2fba0a;_0x571d92+=_0x67e6b3(0x535),_0x571d92+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x25d992+'</td>';const _0x76df0e=_0x124a2b[_0x25d992];if(_0x76df0e){const _0x5a365=_0x76df0e[_0x67e6b3(0x2aa)][_0x76df0e[_0x67e6b3(0x2aa)]['length']-0x1];_0x47d2b7['forEach']((_0x5ee24b,_0x3316fb)=>{const _0x309335=_0x67e6b3,_0x27641c=_0x5a365[_0x309335(0xb1b)][_0x309335(0x922)](_0x4da50c=>_0x4da50c['questionId']===_0x5ee24b['id']);if(_0x27641c){let _0x4af181='';const _0x3cdbe2=_0x27641c['isCorrect']===!![],_0x4c6925=_0x27641c[_0x309335(0x238)]===!![]||_0x27641c[_0x309335(0x238)]===_0x309335(0x5a1);_0x4c6925?_0x4af181=_0x3cdbe2?_0x309335(0x9bb):_0x309335(0x96d):_0x4af181=_0x3cdbe2?_0x309335(0xb69):_0x309335(0x8b9),_0x571d92+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x4af181+'\x22>'+_0x32a618(_0x5ee24b,_0x27641c)+_0x309335(0x155);}else _0x571d92+=_0x309335(0xa27);});}else _0x571d92+=_0x47d2b7[_0x67e6b3(0xb43)](()=>_0x67e6b3(0xbb9))['join']('');_0x571d92+='</tr>';}),_0x571d92+='</tbody></table>',_0x1a80a8[_0x2fba0a(0x553)]=_0x571d92;}function renderQuizResultsTable(_0x590c13,_0xd849e,_0x3b3684){const _0x5cbf86=_0xdd45b5,_0x135695=_0xd849e['reduce']((_0x512010,_0xe3105c)=>{return _0x512010[_0xe3105c['studentName']]=_0xe3105c,_0x512010;},{}),_0x3b6b0e=document[_0x5cbf86(0x5db)](_0x5cbf86(0xcb2));_0x3b6b0e&&!_0x3b6b0e[_0x5cbf86(0x553)][_0x5cbf86(0x668)](_0x5cbf86(0x7b4))&&(_0x3b6b0e['innerHTML']+=_0x5cbf86(0x165));const _0x597f59=document[_0x5cbf86(0xbd5)](_0x5cbf86(0x95c));if(!_0x590c13||_0x590c13[_0x5cbf86(0x9f1)]===0x0){_0x597f59[_0x5cbf86(0x553)]=_0x5cbf86(0x592);return;}const _0x18e0bc=_0x3b3684[_0x5cbf86(0x5c7)]===!![],_0x4bff80=_0x3b3684['settings']?.[_0x5cbf86(0xa00)]??-0x1;let _0x1f9380='';_0x590c13[_0x5cbf86(0x947)](_0x5f05cb=>{const _0x307d61=_0x5cbf86,_0x3f22b8=_0x135695[_0x5f05cb];let _0x3597b3=_0x307d61(0xc68)+(_0x18e0bc?'bg-amber-100\x20text-amber-800':_0x307d61(0x538))+'\x22>'+(_0x18e0bc?'สอบซ่อม':'สอบปกติ')+_0x307d61(0x23a);if(_0x3f22b8){if(_0x3f22b8[_0x307d61(0x2aa)]&&_0x3f22b8['attempts'][_0x307d61(0x9f1)]>0x0){let _0xb9e710=_0x18e0bc?_0x3f22b8['bestScore']===_0x3f22b8[_0x307d61(0xc4f)]:_0x4bff80!==-0x1&&_0x3f22b8[_0x307d61(0x712)]>=_0x4bff80;const _0x4dfb07=_0xb9e710?_0x307d61(0xac8):_0x307d61(0xc4a),_0x19ca7e=_0xb9e710?_0x307d61(0xc08):_0x307d61(0x739),_0x2b279b=_0x307d61(0x1ef)+_0x4dfb07+'\x22>'+_0x19ca7e+_0x307d61(0x23a),_0x29748b=_0x307d61(0x7fc)+(_0x3f22b8[_0x307d61(0x2aa)]?.[_0x307d61(0x9f1)]||0x1)+_0x307d61(0xaa5);_0x1f9380+=_0x307d61(0x2cc)+_0x5f05cb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x3f22b8[_0x307d61(0x712)]+'\x20/\x20'+_0x3f22b8[_0x307d61(0xc4f)]+_0x307d61(0x742)+_0x2b279b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3597b3+_0x307d61(0x392)+_0x3f22b8[_0x307d61(0x711)]+_0x307d61(0xa8b)+_0x3f22b8[_0x307d61(0xc4f)]+_0x307d61(0x30c)+_0x3f22b8[_0x307d61(0x487)]+_0x307d61(0xa8b)+_0x3f22b8[_0x307d61(0xc4f)]+_0x307d61(0x59e)+(_0x3f22b8[_0x307d61(0x990)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29748b+_0x307d61(0xa06)+new Date(_0x3f22b8[_0x307d61(0x667)])[_0x307d61(0x295)](_0x307d61(0x70e))+_0x307d61(0x8d5)+_0x5f05cb+_0x307d61(0x9ad);}else{const _0x3d5937=_0x307d61(0xb9d);_0x1f9380+=_0x307d61(0x64b)+_0x5f05cb+_0x307d61(0xc86)+_0x3597b3+_0x307d61(0x258)+_0x3d5937+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3f22b8[_0x307d61(0x419)])[_0x307d61(0x295)](_0x307d61(0x70e))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5f05cb+_0x307d61(0x9ad);}}else{const _0xf841ed=_0x307d61(0xadc);_0x1f9380+=_0x307d61(0x1c5)+_0x5f05cb+_0x307d61(0x217)+_0x3597b3+_0x307d61(0xc1f)+_0xf841ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x597f59[_0x5cbf86(0x553)]=_0x1f9380;}async function confirmRenameQuiz(){const _0x59a42e=_0xdd45b5,_0x65e174=document['getElementById']('rename-quiz-input')[_0x59a42e(0xc1a)][_0x59a42e(0x7ae)]();if(!_0x65e174){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x5a1ae1=doc(db,_0x59a42e(0xb4)+appId+_0x59a42e(0xcba),actionTargetId);try{await updateDoc(_0x5a1ae1,{'topic':_0x65e174}),showMessage(_0x59a42e(0x3f0)),renameQuizModal['classList'][_0x59a42e(0x9ff)](_0x59a42e(0x2ee)),actionTargetId=null;}catch(_0x2391e7){console[_0x59a42e(0x2c7)](_0x59a42e(0xafd),_0x2391e7),showMessage(_0x59a42e(0x598));}}async function handleMoveQuiz(_0x5ba7e4){const _0x54e7a9=_0xdd45b5;actionTargetId=_0x5ba7e4;const _0x483e6f=document[_0x54e7a9(0xbd5)](_0x54e7a9(0x753));_0x483e6f['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x54e7a9(0x8c0)][_0x54e7a9(0x3b9)]('hidden');try{const _0x29b6a1=collection(db,_0x54e7a9(0xb4)+appId+_0x54e7a9(0x971)),_0x1fbdf3=await getDocs(_0x29b6a1),_0x1a0d57=_0x1fbdf3[_0x54e7a9(0x627)][_0x54e7a9(0xb43)](_0x47264c=>({'id':_0x47264c['id'],..._0x47264c['data']()})),_0x5d62b2=_0x1a0d57['filter'](_0xe2558a=>_0xe2558a['id']!==currentProjectId);if(_0x5d62b2[_0x54e7a9(0x9f1)]===0x0){_0x483e6f[_0x54e7a9(0x553)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x54e7a9(0xbd5)](_0x54e7a9(0x892))[_0x54e7a9(0x256)]=!![];return;}_0x483e6f[_0x54e7a9(0x553)]=_0x5d62b2[_0x54e7a9(0xb43)](_0x3a28c6=>_0x54e7a9(0xafe)+_0x3a28c6['id']+'\x22>'+_0x3a28c6['projectName']+_0x54e7a9(0x9fc))[_0x54e7a9(0xb92)](''),document[_0x54e7a9(0xbd5)](_0x54e7a9(0x892))[_0x54e7a9(0x256)]=![];}catch(_0x1b755d){console[_0x54e7a9(0x2c7)](_0x54e7a9(0x603),_0x1b755d),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList']['add'](_0x54e7a9(0x2ee));}}async function confirmMoveQuiz(){const _0x5ef75c=_0xdd45b5,_0x3be699=document[_0x5ef75c(0xbd5)](_0x5ef75c(0x753))[_0x5ef75c(0xc1a)];if(!_0x3be699){showMessage(_0x5ef75c(0x260));return;}if(!actionTargetId)return;const _0x50ba35=doc(db,_0x5ef75c(0xb4)+appId+_0x5ef75c(0xcba),actionTargetId);try{await updateDoc(_0x50ba35,{'projectId':_0x3be699}),showMessage(_0x5ef75c(0x6de)),moveQuizModal['classList'][_0x5ef75c(0x9ff)](_0x5ef75c(0x2ee)),actionTargetId=null;}catch(_0x3739b4){console[_0x5ef75c(0x2c7)]('Error\x20moving\x20quiz:',_0x3739b4),showMessage(_0x5ef75c(0xb3f));}}async function handleQuizSettings(_0x2e86a9){const _0x550a27=_0xdd45b5;actionTargetId=_0x2e86a9;const _0x4d1d93=doc(db,_0x550a27(0xb4)+appId+_0x550a27(0xcba),_0x2e86a9);try{const _0x3ddda2=await getDoc(_0x4d1d93);if(_0x3ddda2['exists']()){const _0x3fbabd=_0x3ddda2['data'](),_0x1d4022=_0x3fbabd['settings']||{},_0x3adc4d=_0x3fbabd[_0x550a27(0x69e)][_0x550a27(0x9f1)];document['getElementById'](_0x550a27(0xa29))[_0x550a27(0xc1a)]=_0x1d4022[_0x550a27(0x456)]||_0x550a27(0xa64),document[_0x550a27(0xbd5)]('modal-results-display-select')[_0x550a27(0xc1a)]=_0x1d4022[_0x550a27(0x134)]||_0x550a27(0x2e2),document[_0x550a27(0xbd5)]('modal-timer-mode-select')[_0x550a27(0xc1a)]=_0x1d4022['timerMode']||_0x550a27(0xa64),document[_0x550a27(0xbd5)]('modal-timer-duration-input')['value']=_0x1d4022['timerDuration']||0xa,document['getElementById'](_0x550a27(0xbaa))[_0x550a27(0xc1a)]=_0x1d4022[_0x550a27(0xa00)]||Math[_0x550a27(0x28f)](_0x3adc4d/0x2),document['getElementById'](_0x550a27(0xbaa))[_0x550a27(0x5fa)]=_0x3adc4d,document['getElementById'](_0x550a27(0xb8c))['checked']=_0x1d4022[_0x550a27(0x90b)]||![],document[_0x550a27(0xbd5)](_0x550a27(0x74a))[_0x550a27(0x674)]=_0x1d4022[_0x550a27(0x643)]||![];const _0x225e9b=_0x1d4022['isConfidenceScoringEnabled']||![];document[_0x550a27(0xbd5)](_0x550a27(0x9cf))[_0x550a27(0x674)]=_0x225e9b,document[_0x550a27(0xbd5)]('modal-confidence-mode-select')[_0x550a27(0xc1a)]=_0x1d4022[_0x550a27(0xc76)]||_0x550a27(0x482);const _0x566c62=document[_0x550a27(0xbd5)](_0x550a27(0x1e9));_0x566c62[_0x550a27(0x8c0)][_0x550a27(0x6e2)](_0x550a27(0x2ee),!_0x225e9b),document['getElementById'](_0x550a27(0x143))[_0x550a27(0x127)](new Event(_0x550a27(0x77e))),quizSettingsModal[_0x550a27(0x8c0)]['remove'](_0x550a27(0x2ee));}else showMessage(_0x550a27(0x226));}catch(_0x12697e){console[_0x550a27(0x2c7)](_0x550a27(0x960),_0x12697e),showMessage(_0x550a27(0x81c));}}async function confirmQuizSettings(){const _0x518e65=_0xdd45b5;if(!actionTargetId)return;const _0x2df232=doc(db,_0x518e65(0xb4)+appId+'/public/data/quizzes',actionTargetId),_0xcc8cbe={'shuffle':document[_0x518e65(0xbd5)](_0x518e65(0xa29))[_0x518e65(0xc1a)],'resultsDisplay':document[_0x518e65(0xbd5)](_0x518e65(0x172))[_0x518e65(0xc1a)],'timerMode':document[_0x518e65(0xbd5)](_0x518e65(0x143))[_0x518e65(0xc1a)],'timerDuration':parseInt(document[_0x518e65(0xbd5)]('modal-timer-duration-input')[_0x518e65(0xc1a)])||0xa,'passingScore':parseInt(document[_0x518e65(0xbd5)](_0x518e65(0xbaa))[_0x518e65(0xc1a)])||0x0,'isAdaptive':document[_0x518e65(0xbd5)]('modal-adaptive-quiz-checkbox')[_0x518e65(0x674)],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x518e65(0x674)],'isConfidenceScoringEnabled':document['getElementById'](_0x518e65(0x9cf))[_0x518e65(0x674)],'confidenceMode':document[_0x518e65(0xbd5)](_0x518e65(0x2af))[_0x518e65(0xc1a)]};try{await updateDoc(_0x2df232,{'settings':_0xcc8cbe}),showMessage(_0x518e65(0x430)),quizSettingsModal[_0x518e65(0x8c0)][_0x518e65(0x9ff)](_0x518e65(0x2ee)),actionTargetId=null;}catch(_0x20177f){console['error'](_0x518e65(0x3a8),_0x20177f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x1079ce=_0xdd45b5;if(!actionTargetId)return;const _0x21b475=doc(db,_0x1079ce(0xb4)+appId+_0x1079ce(0xcba),actionTargetId),_0x4051d7=document['querySelector'](_0x1079ce(0xb7a));if(!_0x4051d7){showMessage(_0x1079ce(0x633));return;}const _0x246af5=_0x4051d7['value'];let _0x442932={};if(_0x246af5==='active'||_0x246af5===_0x1079ce(0xc8d))_0x442932={'status':_0x246af5,'startTime':null,'endTime':null};else{if(_0x246af5===_0x1079ce(0x6c5)){const _0x11ad53=document[_0x1079ce(0xbd5)](_0x1079ce(0x2b2))[_0x1079ce(0xc1a)],_0x5676e3=document[_0x1079ce(0xbd5)]('quiz-end-time')[_0x1079ce(0xc1a)];if(!_0x11ad53&&!_0x5676e3){showMessage(_0x1079ce(0x60c));return;}_0x442932={'status':_0x1079ce(0xb72),'startTime':_0x11ad53?new Date(_0x11ad53)[_0x1079ce(0x8a9)]():null,'endTime':_0x5676e3?new Date(_0x5676e3)[_0x1079ce(0x8a9)]():null};}}try{await updateDoc(_0x21b475,_0x442932),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x1079ce(0x8c0)]['add'](_0x1079ce(0x2ee)),actionTargetId=null;}catch(_0x461f94){console[_0x1079ce(0x2c7)](_0x1079ce(0xa71),_0x461f94),showMessage(_0x1079ce(0x5e9));}}function listenForStudentProfiles(_0x4b14f8){const _0x44e5db=_0xdd45b5,_0x44c826=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x4b14f8+_0x44e5db(0xbd));unsubscribeStudentProfilesListener=onSnapshot(_0x44c826,_0xc35450=>{const _0x200599=_0x44e5db,_0x4a205d=_0xc35450[_0x200599(0x627)][_0x200599(0xb43)](_0x4f39d7=>_0x4f39d7[_0x200599(0xa1d)]());renderLeaderboard(_0x4a205d,'leaderboard-table-body');},_0x1c4e6f=>{const _0x2a7261=_0x44e5db;console[_0x2a7261(0x2c7)](_0x2a7261(0xcaa),_0x1c4e6f),document[_0x2a7261(0xbd5)](_0x2a7261(0x7f6))[_0x2a7261(0x553)]=_0x2a7261(0x1e3);});}function renderLeaderboard(_0x2a9ea6,_0x69fcaf){const _0x4031de=_0xdd45b5,_0x12dbf6=document[_0x4031de(0xbd5)](_0x69fcaf);if(!_0x2a9ea6||_0x2a9ea6[_0x4031de(0x9f1)]===0x0){_0x12dbf6[_0x4031de(0x553)]=_0x4031de(0x19b);return;}_0x2a9ea6[_0x4031de(0x50a)]((_0x284750,_0x4b3b34)=>{const _0x48ef91=_0x4031de,_0x3c0968=(_0x4b3b34['totalPoints']||0x0)-(_0x284750[_0x48ef91(0x86f)]||0x0);if(_0x3c0968!==0x0)return _0x3c0968;const _0x3f31e6=(_0x4b3b34['badgesCount']?.[_0x48ef91(0x50d)]||0x0)-(_0x284750[_0x48ef91(0x36a)]?.['specialist']||0x0);if(_0x3f31e6!==0x0)return _0x3f31e6;const _0x5ca383=(_0x4b3b34[_0x48ef91(0x36a)]?.[_0x48ef91(0x3e6)]||0x0)-(_0x284750['badgesCount']?.['first_try_ace']||0x0);if(_0x5ca383!==0x0)return _0x5ca383;const _0x414324=(_0x4b3b34[_0x48ef91(0x36a)]?.[_0x48ef91(0x5a8)]||0x0)-(_0x284750['badgesCount']?.[_0x48ef91(0x5a8)]||0x0);if(_0x414324!==0x0)return _0x414324;const _0x411fab=(_0x4b3b34[_0x48ef91(0x36a)]?.['quick_thinker']||0x0)-(_0x284750['badgesCount']?.[_0x48ef91(0x912)]||0x0);if(_0x411fab!==0x0)return _0x411fab;return _0x284750[_0x48ef91(0x815)][_0x48ef91(0xa50)](_0x4b3b34[_0x48ef91(0x815)],'th');});let _0x1c8352='';_0x2a9ea6[_0x4031de(0x947)]((_0x3054d3,_0x28e305)=>{const _0x16b94b=_0x4031de,_0x15fb47=_0x28e305+0x1,_0x9c05a6=_0x3054d3['badgesCount']||{};let _0x3148e4='';const _0x120e6b=[_0x16b94b(0x50d),'perfect_score','first_try_ace','quick_thinker'];_0x120e6b[_0x16b94b(0x947)](_0x319f0d=>{const _0x181863=_0x16b94b;if(_0x9c05a6[_0x319f0d]>0x0){const _0x2620f2=Object['values'](BADGES)[_0x181863(0x922)](_0x390864=>_0x390864['id']===_0x319f0d);_0x2620f2&&(_0x319f0d===_0x181863(0x50d)?_0x3148e4+=_0x181863(0xc29)+_0x2620f2[_0x181863(0x8aa)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2620f2[_0x181863(0x8ec)]+_0x181863(0x70f):_0x3148e4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2620f2[_0x181863(0x8aa)]+'\x20('+_0x9c05a6[_0x319f0d]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2620f2[_0x181863(0x8ec)]+_0x181863(0x17a)+_0x9c05a6[_0x319f0d]+_0x181863(0x841));}}),_0x1c8352+=_0x16b94b(0xaa4)+_0x15fb47+_0x16b94b(0x61a)+_0x3054d3[_0x16b94b(0x815)]+_0x16b94b(0x6ba)+(_0x3054d3['totalPoints']||0x0)+_0x16b94b(0x61a)+(_0x3148e4||'-')+_0x16b94b(0xb9a);}),_0x12dbf6[_0x4031de(0x553)]=_0x1c8352;}function displayLoopScreen(_0x155380,_0x2e0dc3,_0x405fdc){const _0x14247e=_0xdd45b5;let _0x1b3c33='';_0x405fdc!==_0x14247e(0x33c)&&(_0x1b3c33=_0x14247e(0x94f)+_0x155380+_0x14247e(0xa8b)+_0x2e0dc3+'</strong></p>');const _0x578a76=_0x14247e(0x2d3)+_0x1b3c33+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x14247e(0x553)]=_0x578a76,studentResultArea['classList'][_0x14247e(0x3b9)]('hidden'),studentQuizArea['classList'][_0x14247e(0x9ff)](_0x14247e(0x2ee)),document['getElementById'](_0x14247e(0x358))[_0x14247e(0x915)](_0x14247e(0x98f),()=>{const _0x26d603=_0x14247e;studentResultArea['classList'][_0x26d603(0x9ff)](_0x26d603(0x2ee)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x33e022,_0x2b0f27,_0x316bd8){const _0x192128=_0xdd45b5,_0x23006f=document[_0x192128(0xbd5)](_0x316bd8),_0xd4a458=_0x316bd8===_0x192128(0x39b),_0x231ead=_0x2b0f27[_0x192128(0x69e)][_0x192128(0x9f1)],_0x349a93=document[_0x192128(0xbd5)](_0x316bd8)[_0x192128(0x18a)](_0x192128(0x4db));if(_0x349a93&&!_0xd4a458){const _0xb5c79c=_0x349a93['querySelector'](_0x192128(0xba));_0xb5c79c[_0x192128(0x553)]=_0x192128(0x220);}if(!_0x33e022||_0x33e022[_0x192128(0x9f1)]===0x0){_0x23006f['innerHTML']=_0x192128(0x526)+(_0xd4a458?0x6:0x8)+_0x192128(0x37c);return;}const _0x29373c=[..._0x33e022];_0x29373c[_0x192128(0x50a)]((_0x1aaad2,_0x41b5f1)=>{const _0x4544dc=_0x192128;let _0x12ffea,_0x2238db;switch(quizLeaderboardSortBy){case _0x4544dc(0x815):_0x12ffea=_0x1aaad2[_0x4544dc(0x815)]||'',_0x2238db=_0x41b5f1[_0x4544dc(0x815)]||'';return quizLeaderboardSortOrder===_0x4544dc(0xbe4)?_0x12ffea['localeCompare'](_0x2238db,'th'):_0x2238db[_0x4544dc(0xa50)](_0x12ffea,'th');case _0x4544dc(0x990):_0x12ffea=_0x1aaad2[_0x4544dc(0x990)]||0x0,_0x2238db=_0x41b5f1[_0x4544dc(0x990)]||0x0;break;case'attempts':_0x12ffea=_0x1aaad2[_0x4544dc(0x2aa)]?.[_0x4544dc(0x9f1)]||0x1,_0x2238db=_0x41b5f1[_0x4544dc(0x2aa)]?.['length']||0x1;break;case _0x4544dc(0x667):_0x12ffea=new Date(_0x1aaad2[_0x4544dc(0x667)]),_0x2238db=new Date(_0x41b5f1[_0x4544dc(0x667)]);break;case'bestScore':default:_0x12ffea=_0x1aaad2[_0x4544dc(0x712)],_0x2238db=_0x41b5f1[_0x4544dc(0x712)];break;}if(_0x12ffea<_0x2238db)return quizLeaderboardSortOrder===_0x4544dc(0xbe4)?-0x1:0x1;if(_0x12ffea>_0x2238db)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x440e20=_0x2b0f27[_0x192128(0x5c7)]===!![],_0x4d2e00=_0x2b0f27['settings']?.[_0x192128(0xa00)]??-0x1;let _0x3c93e5='';_0x29373c[_0x192128(0x947)]((_0x23485a,_0x5082a0)=>{const _0x672624=_0x192128,_0x4b34ed=_0x5082a0+0x1;let _0x2e316f=_0x672624(0xace);if(_0x440e20||_0x4d2e00!==-0x1){let _0x456f24=_0x440e20?_0x23485a[_0x672624(0x712)]===_0x231ead:_0x23485a['bestScore']>=_0x4d2e00;const _0x5114fd=_0x456f24?_0x672624(0xac8):'bg-red-100\x20text-red-800',_0x39ef52=_0x456f24?_0x672624(0xc08):_0x672624(0x739);_0x2e316f='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x5114fd+'\x22>'+_0x39ef52+_0x672624(0x23a);}const _0xe0f6c3=_0x23485a[_0x672624(0x2aa)][_0x23485a[_0x672624(0x2aa)]['length']-0x1],_0x49e854=(_0xe0f6c3['badges']||[])[_0x672624(0xb43)](_0x1f97b7=>{const _0x6ea176=_0x672624,_0x432550=Object['values'](BADGES)[_0x6ea176(0x922)](_0x318a42=>_0x318a42['id']===_0x1f97b7);return _0x432550?_0x6ea176(0x3ab)+_0x432550[_0x6ea176(0x8aa)]+_0x6ea176(0x87e)+_0x432550[_0x6ea176(0x8ec)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x672624(0xb92)]('');_0x3c93e5+=_0x672624(0x1bd)+_0x4b34ed+_0x672624(0x9b2)+_0x23485a[_0x672624(0x815)]+_0x672624(0x4c5)+_0x23485a['bestScore']+_0x672624(0xa8b)+_0x231ead+_0x672624(0x570)+_0x2e316f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x23485a[_0x672624(0x990)]||0x0)+_0x672624(0x570)+(_0xd4a458?'':_0x672624(0xb36)+(_0x23485a[_0x672624(0x2aa)]?.[_0x672624(0x9f1)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xd4a458?'':_0x672624(0x828)+new Date(_0x23485a[_0x672624(0x667)])['toLocaleString'](_0x672624(0x70e))+_0x672624(0x155))+_0x672624(0x878)+(_0x49e854||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x23006f[_0x192128(0x553)]=_0x3c93e5,_0x349a93&&!_0xd4a458&&_0x349a93['querySelectorAll']('thead\x20.sortable-header')[_0x192128(0x947)](_0x29fa18=>{const _0x1c020a=_0x192128,_0x969fd5=_0x29fa18[_0x1c020a(0x5db)](_0x1c020a(0x6a5));if(_0x969fd5)_0x969fd5[_0x1c020a(0x3b9)]();_0x29fa18[_0x1c020a(0x41c)]['sort']===quizLeaderboardSortBy&&(_0x29fa18[_0x1c020a(0x553)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x1c020a(0xbe4)?'▲':'▼')+_0x1c020a(0x4ef));});}async function handleDeleteSubmission(_0x262397){const _0x41fbaf=_0xdd45b5;if(!currentQuizData||!currentQuizData['id']||!_0x262397){showMessage(_0x41fbaf(0xc72));return;}showConfirmation(_0x41fbaf(0x95f)+_0x262397+_0x41fbaf(0x62f),async()=>{const _0x47da27=_0x41fbaf,_0x7b9481=currentQuizData['id'],_0x58a3e2=doc(db,_0x47da27(0xb4)+appId+_0x47da27(0x9aa)+_0x7b9481+'/submissions',_0x262397);try{await deleteDoc(_0x58a3e2),showMessage(_0x47da27(0xaf3)+_0x262397+_0x47da27(0x24a));}catch(_0x4a880d){console[_0x47da27(0x2c7)](_0x47da27(0x2ac),_0x4a880d),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x2a34a6=_0xdd45b5,_0x3054e4=document[_0x2a34a6(0xbd5)](_0x2a34a6(0x59c)),_0x44f6f1=_0x3054e4[_0x2a34a6(0xc1a)][_0x2a34a6(0x7ae)]();if(!_0x44f6f1){showMessage(_0x2a34a6(0xbb));return;}loadQuizBtn[_0x2a34a6(0x256)]=!![],loadQuizBtn[_0x2a34a6(0x553)]=_0x2a34a6(0x417);try{const _0x138f04=doc(db,'artifacts/'+appId+_0x2a34a6(0xcba),_0x44f6f1),_0x5f5b91=await getDoc(_0x138f04);if(!_0x5f5b91['exists']()){showMessage(_0x2a34a6(0x4bd));return;}currentQuizData={'id':_0x5f5b91['id'],..._0x5f5b91[_0x2a34a6(0xa1d)]()};const _0x19280b=currentQuizData[_0x2a34a6(0x56c)]||_0x2a34a6(0x9b4),_0x246ac3=new Date();if(_0x19280b==='inactive'){showMessage(_0x2a34a6(0x5d1));return;}if(_0x19280b===_0x2a34a6(0xb72)){const _0xa99733=currentQuizData['startTime']?new Date(currentQuizData[_0x2a34a6(0x7f4)]):null,_0x243d2a=currentQuizData['endTime']?new Date(currentQuizData[_0x2a34a6(0x3e1)]):null;if(_0xa99733&&_0x246ac3<_0xa99733){showMessage(_0x2a34a6(0x8c8)+_0xa99733['toLocaleString'](_0x2a34a6(0x70e),{'hour12':![]}));return;}if(_0x243d2a&&_0x246ac3>_0x243d2a){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x4b660f=currentQuizData[_0x2a34a6(0xa60)];currentProjectId=_0x4b660f;const _0x7aaca0=doc(db,_0x2a34a6(0xb4)+appId+_0x2a34a6(0x971),_0x4b660f),_0x508c27=await getDoc(_0x7aaca0);if(!_0x508c27['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x587282=_0x508c27[_0x2a34a6(0xa1d)]();currentStudentProjectData=_0x587282,displayStudentNameSelector(_0x587282[_0x2a34a6(0x8f4)],currentQuizData[_0x2a34a6(0x6bd)]);}catch(_0x1760d8){console[_0x2a34a6(0x2c7)](_0x2a34a6(0x787),_0x1760d8),showMessage(_0x2a34a6(0x579));}finally{loadQuizBtn[_0x2a34a6(0x256)]=![],loadQuizBtn[_0x2a34a6(0x553)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x4edfba=_0xdd45b5,_0x4b3642=document[_0x4edfba(0xbd5)](_0x4edfba(0xf9)),_0x57228b=document[_0x4edfba(0xbd5)](_0x4edfba(0x472)),_0x275c26=document[_0x4edfba(0xbd5)](_0x4edfba(0x1a4)),_0x5c0df4=_0x4b3642[_0x4edfba(0xc1a)][_0x4edfba(0x7ae)](),_0x512ed8=_0x57228b[_0x4edfba(0xc1a)]['trim']();if(!_0x5c0df4||!_0x512ed8){showMessage(_0x4edfba(0xc5d));return;}_0x275c26[_0x4edfba(0x256)]=!![],_0x275c26[_0x4edfba(0x553)]=_0x4edfba(0x241);try{const _0x3e5d4f=collection(db,_0x4edfba(0xb4)+appId+_0x4edfba(0x179)),_0x1394b4=query(_0x3e5d4f,where('gamePin','==',_0x5c0df4),where(_0x4edfba(0x56c),'in',[_0x4edfba(0xb23),_0x4edfba(0x8fd)])),_0x18ea88=await getDocs(_0x1394b4);if(_0x18ea88[_0x4edfba(0x7f1)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x57244b=_0x18ea88[_0x4edfba(0x627)][0x0],_0x4725ea=_0x57244b[_0x4edfba(0xa1d)]();currentLiveGameId=_0x57244b['id'];const _0x24ea2b=_0x4725ea[_0x4edfba(0x559)],_0x20806d=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x24ea2b),_0x5ea394=await getDoc(_0x20806d);if(!_0x5ea394[_0x4edfba(0x935)]()){showMessage(_0x4edfba(0x436));return;}currentQuizData={'id':_0x5ea394['id'],..._0x5ea394[_0x4edfba(0xa1d)]()};if(_0x4725ea['players']&&_0x4725ea['players'][_0x512ed8]){const _0x52722b=_0x4725ea['players'][_0x512ed8];if(_0x52722b[_0x4edfba(0x56c)]===_0x4edfba(0xc8d)){_0x275c26['innerHTML']=_0x4edfba(0x7d2);const _0x5dd741={};_0x5dd741['players.'+_0x512ed8+_0x4edfba(0x53b)]=_0x4edfba(0x9b4),await updateDoc(doc(db,_0x4edfba(0xb4)+appId+_0x4edfba(0x179),currentLiveGameId),_0x5dd741),showView(_0x4edfba(0x448)),currentStudentName=_0x512ed8,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x4725ea['status']!==_0x4edfba(0xb23)){showMessage(_0x4edfba(0xf8));return;}_0x275c26[_0x4edfba(0x553)]=_0x4edfba(0xbff);const _0x1e232b={};_0x1e232b[_0x4edfba(0x115)+_0x512ed8]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4edfba(0x9b4)},await updateDoc(doc(db,_0x4edfba(0xb4)+appId+_0x4edfba(0x179),currentLiveGameId),_0x1e232b),currentStudentName=_0x512ed8,listenForLiveGameUpdates();}catch(_0x30ec69){console['error']('Error\x20joining\x20live\x20game:',_0x30ec69),showMessage(_0x4edfba(0x613));}finally{_0x275c26[_0x4edfba(0x256)]=![],_0x275c26['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x341c96,_0x29cc7a){const _0x4d85e3=_0xdd45b5,_0x45b963=document['getElementById']('student-name-select');document[_0x4d85e3(0xbd5)](_0x4d85e3(0x2bf))[_0x4d85e3(0x5e0)]=_0x4d85e3(0x5e2)+_0x29cc7a,!_0x341c96||_0x341c96[_0x4d85e3(0x9f1)]===0x0?(_0x45b963['innerHTML']=_0x4d85e3(0x73b),startQuizBtn[_0x4d85e3(0x256)]=!![]):(_0x45b963['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x341c96['forEach'](_0x26a8b3=>{const _0x2ccaa0=_0x4d85e3,_0x6539be=document['createElement'](_0x2ccaa0(0x23d));_0x6539be['value']=_0x26a8b3,_0x6539be[_0x2ccaa0(0x5e0)]=_0x26a8b3,_0x45b963[_0x2ccaa0(0x78c)](_0x6539be);}),startQuizBtn[_0x4d85e3(0x256)]=![]),studentInitialView[_0x4d85e3(0x8c0)][_0x4d85e3(0x9ff)](_0x4d85e3(0x2ee)),studentNameSelectionView[_0x4d85e3(0x8c0)][_0x4d85e3(0x3b9)](_0x4d85e3(0x2ee));}function shuffleArray(_0x194dae){const _0x356dcf=_0xdd45b5;for(let _0x4dc912=_0x194dae[_0x356dcf(0x9f1)]-0x1;_0x4dc912>0x0;_0x4dc912--){const _0x1e8f5a=Math[_0x356dcf(0x28f)](Math[_0x356dcf(0xc56)]()*(_0x4dc912+0x1));[_0x194dae[_0x4dc912],_0x194dae[_0x1e8f5a]]=[_0x194dae[_0x1e8f5a],_0x194dae[_0x4dc912]];}}function getShuffledQuiz(_0x239943){const _0x5c3ab3=_0xdd45b5;let _0x4f178e=JSON[_0x5c3ab3(0x837)](JSON[_0x5c3ab3(0xbd9)](_0x239943));const _0x53e7df=_0x4f178e[_0x5c3ab3(0xa10)]?.[_0x5c3ab3(0x456)]||_0x5c3ab3(0xa64);if(_0x53e7df==='none')return _0x4f178e;return(_0x53e7df===_0x5c3ab3(0x767)||_0x53e7df==='both')&&shuffleArray(_0x4f178e[_0x5c3ab3(0x69e)]),(_0x53e7df==='choices_only'||_0x53e7df===_0x5c3ab3(0x30a))&&_0x4f178e[_0x5c3ab3(0x69e)]['forEach'](_0x5026ad=>{const _0x7485c8=_0x5c3ab3,_0x362269=_0x5026ad[_0x7485c8(0x40c)]||_0x4f178e[_0x7485c8(0x51a)];if(_0x5026ad[_0x7485c8(0x996)]){let _0x210aeb=_0x5026ad[_0x7485c8(0x996)]['map']((_0x28ed18,_0x36d01e)=>({'text':_0x28ed18,'isCorrect':_0x36d01e===_0x5026ad[_0x7485c8(0x51c)]}));shuffleArray(_0x210aeb),_0x5026ad[_0x7485c8(0x996)]=_0x210aeb[_0x7485c8(0xb43)](_0x353bba=>_0x353bba[_0x7485c8(0xaba)]),_0x5026ad['correctAnswerIndex']=_0x210aeb['findIndex'](_0xc75d1d=>_0xc75d1d[_0x7485c8(0x66b)]);}_0x362269==='matching_item'&&_0x5026ad[_0x7485c8(0x710)]&&shuffleArray(_0x5026ad[_0x7485c8(0x710)]);}),_0x4f178e;}function displayQuizForStudent(_0x396e88){const _0x6a70ba=_0xdd45b5;studentQuizArea[_0x6a70ba(0x8c0)][_0x6a70ba(0x3b9)](_0x6a70ba(0x2ee)),currentDisplayedQuiz=getShuffledQuiz(_0x396e88);currentMode!==_0x6a70ba(0x499)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x6a70ba(0x915)](_0x6a70ba(0x2bd),handleFullscreenChange),document[_0x6a70ba(0x915)](_0x6a70ba(0x9e0),handleVisibilityChange),enterFullscreen(),window[_0x6a70ba(0x915)](_0x6a70ba(0x568),resetDimTimer),window[_0x6a70ba(0x915)](_0x6a70ba(0x847),resetDimTimer),window[_0x6a70ba(0x915)]('touchstart',resetDimTimer),window[_0x6a70ba(0x915)](_0x6a70ba(0x90e),resetDimTimer),resetDimTimer());const _0x21ba9b=currentDisplayedQuiz[_0x6a70ba(0xa10)]?.[_0x6a70ba(0x6bc)]||_0x6a70ba(0xa64);if(_0x21ba9b===_0x6a70ba(0x48f))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x6a70ba(0xa10)]['timerDuration']);else _0x21ba9b===_0x6a70ba(0x748)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x266687=_0xdd45b5,_0xfb1fff=currentDisplayedQuiz[_0x266687(0xa10)]?.[_0x266687(0x9c2)]===!![],_0x5ab418=currentDisplayedQuiz[_0x266687(0xa10)]?.['confidenceMode']||_0x266687(0x482);let _0x19d36f=_0x266687(0x209)+currentDisplayedQuiz[_0x266687(0x6bd)]+_0x266687(0x7ca)+(currentMode===_0x266687(0x499)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x266687(0xad7);currentDisplayedQuiz[_0x266687(0x69e)][_0x266687(0x947)]((_0x98ed15,_0x331405)=>{const _0x5a696a=_0x266687,_0x39761c=_0x98ed15[_0x5a696a(0x40c)]||currentDisplayedQuiz[_0x5a696a(0x51a)];_0x19d36f+=_0x5a696a(0x640);if(_0x39761c===_0x5a696a(0xc6)){}else _0x19d36f+=_0x5a696a(0x6cd)+(_0x331405+0x1)+'.\x20'+(_0x98ed15[_0x5a696a(0x820)]||_0x98ed15[_0x5a696a(0x72b)])+_0x5a696a(0x57f),_0x98ed15[_0x5a696a(0x1a9)]&&(_0x19d36f+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x98ed15[_0x5a696a(0x1a9)]+_0x5a696a(0x969));_0x19d36f+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x39761c){case _0x5a696a(0x5ed):_0x19d36f+=_0x5a696a(0x3a6)+_0x331405+_0x5a696a(0x5a9);break;case _0x5a696a(0xa62):_0x19d36f+=_0x5a696a(0xa6e)+_0x331405+_0x5a696a(0x202)+_0x331405+_0x5a696a(0x56a)+_0x331405+_0x5a696a(0xb75),_0x19d36f+=_0x5a696a(0xa6e)+_0x331405+_0x5a696a(0x373)+_0x331405+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x331405+_0x5a696a(0x902);break;case'matching_item':_0x19d36f+=_0x5a696a(0x345)+_0x98ed15['stem']+_0x5a696a(0x835)+_0x331405+_0x5a696a(0x728)+_0x98ed15[_0x5a696a(0x710)]['map'](_0x507cbf=>_0x5a696a(0xafe)+_0x507cbf+'\x22>'+_0x507cbf+_0x5a696a(0x9fc))[_0x5a696a(0xb92)]('')+_0x5a696a(0xcf);break;default:_0x19d36f+=_0x98ed15[_0x5a696a(0x996)]['map']((_0x36832e,_0x4ebdbf)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x331405+_0x5a696a(0x6e7)+_0x4ebdbf+_0x5a696a(0xa5c)+_0x331405+_0x5a696a(0x7c4)+_0x4ebdbf+_0x5a696a(0x6d8)+_0x331405+'_opt'+_0x4ebdbf+'\x22>'+_0x36832e+_0x5a696a(0x374))[_0x5a696a(0xb92)]('');break;}_0x19d36f+=_0x5a696a(0x969),_0xfb1fff&&(_0x19d36f+=_0x5a696a(0x4eb),_0x5ab418==='mandatory'?_0x19d36f+=_0x5a696a(0xaea)+_0x331405+_0x5a696a(0x5d0)+_0x331405+_0x5a696a(0xb5d)+_0x331405+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x331405+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x19d36f+=_0x5a696a(0x637)+_0x331405+'\x22\x20name=\x22confidence'+_0x331405+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x331405+_0x5a696a(0xa57),_0x19d36f+='</div>'),_0x19d36f+=_0x5a696a(0x969);}),_0x19d36f+=_0x266687(0xcd),_0x19d36f+=_0x266687(0x302),studentQuizArea[_0x266687(0x553)]=_0x19d36f;if(currentMode==='admin-testing'){const _0x440394=document['getElementById'](_0x266687(0x5a5));if(_0x440394)_0x440394[_0x266687(0x915)]('click',cancelAdminTest);}const _0x5dcb88=document[_0x266687(0xbd5)](_0x266687(0x21b));_0x5dcb88&&(_0x5dcb88[_0x266687(0x915)](_0x266687(0x843),handleSubmitQuiz),_0x5dcb88[_0x266687(0x915)](_0x266687(0x98f),_0x313773=>{const _0x19f138=_0x266687;if(_0x313773[_0x19f138(0x8a0)][_0x19f138(0x8c0)]['contains'](_0x19f138(0xc78))){const _0x54fafb=_0x313773[_0x19f138(0x8a0)],_0x104308=_0x54fafb[_0x19f138(0x41c)]['questionIndex'],_0x36a723=_0x54fafb[_0x19f138(0x41c)]['value'];document[_0x19f138(0xbd5)]('confidence-input-'+_0x104308)[_0x19f138(0xc1a)]=_0x36a723;const _0x598dbd=_0x54fafb[_0x19f138(0x39f)];_0x598dbd[_0x19f138(0x197)]('.confidence-choice-btn')['forEach'](_0x1cf8c5=>_0x1cf8c5[_0x19f138(0x8c0)][_0x19f138(0x3b9)](_0x19f138(0x9b4))),_0x54fafb['classList'][_0x19f138(0x9ff)](_0x19f138(0x9b4));}}));if(window['MathJax'])window[_0x266687(0x9dd)][_0x266687(0x679)]([studentQuizArea]);}async function handleSubmitQuiz(_0x44dc93){const _0x284de3=_0xdd45b5;if(_0x44dc93)_0x44dc93[_0x284de3(0xc15)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5a9a01=document[_0x284de3(0xbd5)](_0x284de3(0x21b));if(!_0x5a9a01)return;const _0x14331e=currentDisplayedQuiz[_0x284de3(0xa10)]?.[_0x284de3(0x9c2)]===!![],_0x2741c4=currentDisplayedQuiz[_0x284de3(0xa10)]?.[_0x284de3(0xc76)]||_0x284de3(0x482);if(_0x14331e&&_0x2741c4===_0x284de3(0x14e)){let _0x53617a=!![];for(let _0x7ca0e=0x0;_0x7ca0e<currentDisplayedQuiz['questions'][_0x284de3(0x9f1)];_0x7ca0e++){const _0x1bf5b0=_0x5a9a01[_0x284de3(0x5db)](_0x284de3(0xb99)+_0x7ca0e);if(!_0x1bf5b0||_0x1bf5b0[_0x284de3(0xc1a)]===''){_0x53617a=![];break;}}if(!_0x53617a){showMessage(_0x284de3(0x520));return;}}const _0x664a63=_0x5a9a01[_0x284de3(0x5db)](_0x284de3(0x193)),_0x568be5=currentDisplayedQuiz[_0x284de3(0x69e)]['some'](_0x4ddc3e=>_0x4ddc3e[_0x284de3(0x40c)]===_0x284de3(0x5ed));_0x664a63&&(_0x664a63[_0x284de3(0x256)]=!![],_0x664a63['innerHTML']=_0x568be5?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x284de3(0x247));const _0x51a9b3=new FormData(_0x5a9a01),_0x1374de=currentDisplayedQuiz[_0x284de3(0x69e)]['map']((_0x22445d,_0x12661c)=>{const _0x53389d=_0x284de3,_0x5df91b=_0x51a9b3[_0x53389d(0x159)]('question'+_0x12661c);let _0x39409a;_0x2741c4===_0x53389d(0x14e)?_0x39409a=_0x51a9b3[_0x53389d(0x159)](_0x53389d(0x3f2)+_0x12661c):_0x39409a=_0x51a9b3[_0x53389d(0x159)]('confidence'+_0x12661c)==='on';let _0x5cae54=null;if(_0x5df91b!==null&&_0x5df91b!==undefined){const _0x2125f9=_0x22445d['questionType']||currentDisplayedQuiz[_0x53389d(0x51a)];_0x2125f9==='multiple_choice'||_0x2125f9===_0x53389d(0xa2c)?_0x5cae54=parseInt(_0x5df91b):_0x5cae54=_0x5df91b;}return{'answer':_0x5cae54,'wasConfident':_0x39409a};}),_0xb86bd5=currentQuizData['id'],_0x325ef6=doc(db,_0x284de3(0xb4)+appId+_0x284de3(0x9aa)+_0xb86bd5+_0x284de3(0x67f),currentStudentName),_0x1f16b4=await getDoc(_0x325ef6),_0x55f595=_0x1f16b4[_0x284de3(0x935)]()?_0x1f16b4[_0x284de3(0xa1d)]():{},_0x3c6753=_0x55f595[_0x284de3(0x2aa)]||[];await processAndSubmitAnswers(_0x1374de,_0x3c6753);}async function gradeShortAnswerWithAI(_0x24e109,_0x93f0a8){const _0x2277ba=_0xdd45b5;if(!_0x24e109||!_0x93f0a8)return![];try{const _0x29d7f3='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x24e109+_0x2277ba(0x7e9)+_0x93f0a8+_0x2277ba(0x112),_0x305857={'contents':[{'role':_0x2277ba(0x19a),'parts':[{'text':_0x29d7f3}]}]},_0x2e6490=_0x2277ba(0x8e9),_0x26e16b=_0x2277ba(0x4f3)+_0x2e6490,_0x18ea95=await fetch(_0x26e16b,{'method':_0x2277ba(0xec),'headers':{'Content-Type':_0x2277ba(0xa59)},'body':JSON[_0x2277ba(0xbd9)](_0x305857)});if(!_0x18ea95['ok'])throw new Error(_0x2277ba(0x2eb));const _0x274096=await _0x18ea95[_0x2277ba(0xbc2)](),_0x5af656=_0x274096[_0x2277ba(0x8be)][0x0][_0x2277ba(0x8cc)][_0x2277ba(0x32f)][0x0][_0x2277ba(0xaba)][_0x2277ba(0x7ae)]()['toLowerCase']();return _0x5af656===_0x2277ba(0x332);}catch(_0x1f807a){return console[_0x2277ba(0x2c7)](_0x2277ba(0x452),_0x1f807a),![];}}async function processAndSubmitAnswers(_0x5d6a8d,_0x573de0){const _0x522158=_0xdd45b5;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x522158(0xd9)](_0x522158(0x2bd),handleFullscreenChange),document[_0x522158(0xd9)](_0x522158(0x9e0),handleVisibilityChange);let _0x237b5e=0x0;const _0x4b802c=[],_0x5cfe73=currentDisplayedQuiz['questions']['length'];let _0x273e59=0x0,_0x1d8160=[];const _0x1bc7e7=currentDisplayedQuiz[_0x522158(0x69e)];for(let _0x154333=0x0;_0x154333<_0x1bc7e7['length'];_0x154333++){const _0x11b65e=_0x1bc7e7[_0x154333],_0xed5faf=_0x5d6a8d[_0x154333],_0x262f48=_0xed5faf?_0xed5faf['answer']:null,_0x42e731=_0xed5faf?_0xed5faf['wasConfident']:null;let _0x2df6cc=![],_0x249efc=0x0;if(_0x262f48!==null&&_0x262f48!==''){const _0x579734=_0x11b65e[_0x522158(0x40c)]||currentDisplayedQuiz[_0x522158(0x51a)];switch(_0x579734){case _0x522158(0xc6):_0x2df6cc=_0x262f48===_0x11b65e['correctResponse'];break;case'true_false':const _0x427a23=_0x262f48===!![]||_0x262f48===_0x522158(0x332);_0x2df6cc=_0x427a23===_0x11b65e['correctAnswer'];break;case _0x522158(0x5ed):_0x2df6cc=await gradeShortAnswer(_0x262f48,_0x11b65e);break;case _0x522158(0xad4):default:_0x2df6cc=Number(_0x262f48)===_0x11b65e[_0x522158(0x51c)];break;}}if(currentDisplayedQuiz[_0x522158(0xa10)]?.['isConfidenceScoringEnabled']){const _0x199142=_0xed5faf?_0xed5faf[_0x522158(0x238)]:null;if(_0x2df6cc&&(_0x199142===!![]||_0x199142===_0x522158(0x5a1)))_0x249efc=0x2;else{if(_0x2df6cc)_0x249efc=0x1;else{if(!_0x2df6cc&&(_0x199142===![]||_0x199142===_0x522158(0x31a)||_0x199142===null))_0x249efc=0x0;else!_0x2df6cc&&(_0x199142===!![]||_0x199142===_0x522158(0x5a1))&&(_0x249efc=-0x1);}}}else _0x249efc=_0x2df6cc?0x1:0x0;_0x237b5e+=_0x249efc;if(_0x2df6cc){_0x273e59++;if(_0x273e59===0x3)_0x1d8160['push'](BADGES[_0x522158(0x655)]['id']);}else _0x273e59=0x0;let _0x496ed0=null;_0x11b65e['options']&&_0x262f48!==null&&(_0x496ed0=_0x11b65e[_0x522158(0x996)][_0x262f48]),_0x4b802c[_0x522158(0x12e)]({'questionId':_0x11b65e['id'],'answer':_0x262f48,'answerText':_0x496ed0,'isCorrect':_0x2df6cc,'wasConfident':_0x42e731,'pointsAwarded':_0x249efc,'originalQuestionText':_0x11b65e[_0x522158(0xbb0)]||_0x11b65e[_0x522158(0x72b)]});}const _0x1c6a40=_0x4b802c['filter'](_0x2b2c8e=>_0x2b2c8e[_0x522158(0x66b)])['length'],_0x4fa4e3=currentDisplayedQuiz[_0x522158(0xa10)]?.[_0x522158(0xa00)]??Math[_0x522158(0x28f)](_0x5cfe73/0x2);_0x1c6a40===_0x5cfe73&&_0x5cfe73>0x0&&!currentDisplayedQuiz[_0x522158(0x5c7)]&&_0x1d8160[_0x522158(0x12e)](BADGES[_0x522158(0x41e)]['id']);const _0x5e8eea=currentDisplayedQuiz[_0x522158(0xa10)]?.[_0x522158(0x6bc)];if(_0x5e8eea===_0x522158(0x48f)&&quizStartTime){const _0x2e952e=(new Date()-quizStartTime)/0x3e8,_0x31f172=currentDisplayedQuiz[_0x522158(0xa10)][_0x522158(0x854)]*0x3c;_0x1c6a40>=_0x4fa4e3&&_0x2e952e<_0x31f172/0x2&&_0x1d8160['push'](BADGES[_0x522158(0x77b)]['id']);}_0x573de0['length']===0x0&&_0x1c6a40===_0x5cfe73&&_0x5cfe73>0x0&&_0x1d8160[_0x522158(0x12e)](BADGES[_0x522158(0xb56)]['id']);if(_0x573de0[_0x522158(0x9f1)]>0x0){const _0x178fca=_0x573de0[0x0]['score'];if(_0x178fca<_0x4fa4e3&&_0x1c6a40>=_0x4fa4e3){const _0xd76c01=_0x573de0['some'](_0x4bc52c=>(_0x4bc52c[_0x522158(0xb70)]||[])[_0x522158(0x668)](BADGES['COMEBACK_KING']['id']));!_0xd76c01&&_0x1d8160[_0x522158(0x12e)](BADGES[_0x522158(0xdd)]['id']);}}_0x573de0['length']===0x4&&_0x1d8160[_0x522158(0x12e)](BADGES[_0x522158(0x9fd)]['id']);const _0x6ab38d=currentDisplayedQuiz['settings'][_0x522158(0x134)];if(currentMode===_0x522158(0x499)){handleResultDisplay(_0x6ab38d,_0x1c6a40,_0x237b5e,_0x1d8160,_0x4b802c,_0x5cfe73);return;}const _0x199f01=currentQuizData['id'],_0x317aee=doc(db,_0x522158(0xb4)+appId+_0x522158(0x9aa)+_0x199f01+_0x522158(0x67f),currentStudentName);try{const _0x1a9a72=[..._0x573de0],_0x590436={'score':_0x1c6a40,'points':_0x237b5e,'badges':Array[_0x522158(0x4f9)](new Set(_0x1d8160)),'submittedAt':new Date()[_0x522158(0x8a9)](),'answers':_0x4b802c};_0x1a9a72[_0x522158(0x12e)](_0x590436);const _0x2f32ef=_0x573de0[_0x522158(0x9f1)]===0x0?_0x1c6a40:_0x573de0[0x0][_0x522158(0x9e7)]||0x0,_0x4a5ba0=Math[_0x522158(0x5fa)](..._0x1a9a72[_0x522158(0xb43)](_0x29aa7f=>_0x29aa7f[_0x522158(0x9e7)]));await setDoc(_0x317aee,{'studentName':currentStudentName,'totalQuestions':_0x5cfe73,'attempts':_0x1a9a72,'firstScore':_0x2f32ef,'bestScore':_0x4a5ba0,'latestScore':_0x1c6a40,'points':_0x237b5e,'latestSubmittedAt':_0x590436['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x522158(0xa60)],currentStudentName),handleResultDisplay(_0x6ab38d,_0x1c6a40,_0x237b5e,_0x1d8160,_0x4b802c,_0x5cfe73);}catch(_0x4f6ae4){console[_0x522158(0x2c7)](_0x522158(0xa1c),_0x4f6ae4),showMessage(_0x522158(0x55a));}}async function updateStudentProfile(_0x2318e8,_0x220364){const _0x3f59ae=_0xdd45b5,_0x1c13d8=doc(db,_0x3f59ae(0xb4)+appId+_0x3f59ae(0x54e)+_0x2318e8+'/studentProfiles',_0x220364);try{const _0x550edd=query(collection(db,_0x3f59ae(0xb4)+appId+_0x3f59ae(0xcba)),where(_0x3f59ae(0xa60),'==',_0x2318e8)),_0x246845=await getDocs(_0x550edd),_0x48b531=new Map(_0x246845[_0x3f59ae(0x627)][_0x3f59ae(0xb43)](_0x7a13ef=>[_0x7a13ef['id'],_0x7a13ef['data']()])),_0x30d223=Array[_0x3f59ae(0x4f9)](_0x48b531[_0x3f59ae(0x2df)]());await runTransaction(db,async _0x10fa6b=>{const _0x470642=_0x3f59ae;let _0x52bdae=0x0;const _0x2f2876={};let _0xd38219=!![],_0x379e0f=0x0,_0x140c8f=0x0;for(const _0x14dc24 of _0x30d223){const _0x21f8a9=_0x48b531[_0x470642(0x159)](_0x14dc24),_0x114a79=doc(db,_0x470642(0xb4)+appId+'/public/data/quizzes/'+_0x14dc24+'/submissions',_0x220364),_0x387bd6=await _0x10fa6b[_0x470642(0x159)](_0x114a79);if(_0x387bd6[_0x470642(0x935)]()){const _0x24bcc6=_0x387bd6[_0x470642(0xa1d)](),_0x2bca22=_0x24bcc6['attempts']||[];if(_0x2bca22[_0x470642(0x9f1)]>0x0){const _0xb5d664=_0x2bca22[_0x470642(0xdb)]((_0x1e7320,_0x3af5e9)=>{const _0x66157a=_0x470642;if(_0x3af5e9[_0x66157a(0x9e7)]>_0x1e7320[_0x66157a(0x9e7)])return _0x3af5e9;if(_0x3af5e9['score']===_0x1e7320[_0x66157a(0x9e7)])return(_0x3af5e9['points']||0x0)>(_0x1e7320[_0x66157a(0x990)]||0x0)?_0x3af5e9:_0x1e7320;return _0x1e7320;},{'score':-0x1,'points':-0x1});_0xb5d664['score']>-0x1&&(_0x52bdae+=_0xb5d664[_0x470642(0x990)]||0x0,(_0xb5d664['badges']||[])[_0x470642(0x947)](_0x1fd495=>{_0x2f2876[_0x1fd495]=(_0x2f2876[_0x1fd495]||0x0)+0x1;}));}}if(_0x21f8a9['topic']!==_0x470642(0x46b)){_0x140c8f++;if(_0x387bd6[_0x470642(0x935)]()){_0x379e0f++;const _0x15d5ab=_0x387bd6[_0x470642(0xa1d)]();_0x15d5ab[_0x470642(0x712)]!==_0x15d5ab[_0x470642(0xc4f)]&&(_0xd38219=![]);}else _0xd38219=![];}}_0x140c8f>0x0&&_0x379e0f===_0x140c8f&&_0xd38219?_0x2f2876[_0x470642(0x50d)]=0x1:_0x2f2876['specialist']=0x0,_0x10fa6b['set'](_0x1c13d8,{'studentName':_0x220364,'totalPoints':_0x52bdae,'unlockedBadges':Object['keys'](_0x2f2876)[_0x470642(0x26c)](_0x162b81=>_0x2f2876[_0x162b81]>0x0),'badgesCount':_0x2f2876},{'merge':!![]});});}catch(_0x56a4e4){console['error'](_0x3f59ae(0x5c4),_0x56a4e4),showMessage(_0x3f59ae(0x1f2));}}function startAdminTest(){const _0x58004e=_0xdd45b5;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0xfa6310=JSON['parse'](JSON[_0x58004e(0xbd9)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x58004e(0x714),adminView[_0x58004e(0x8c0)][_0x58004e(0x9ff)](_0x58004e(0x2ee)),studentView[_0x58004e(0x8c0)][_0x58004e(0x3b9)]('hidden'),studentInitialView[_0x58004e(0x8c0)][_0x58004e(0x9ff)](_0x58004e(0x2ee)),studentNameSelectionView['classList'][_0x58004e(0x9ff)](_0x58004e(0x2ee)),studentResultArea[_0x58004e(0x8c0)][_0x58004e(0x9ff)](_0x58004e(0x2ee)),studentQuizArea[_0x58004e(0x8c0)][_0x58004e(0x3b9)](_0x58004e(0x2ee)),quizStartTime=new Date(),displayQuizForStudent(_0xfa6310);}function handleResultDisplay(_0x4f3112,_0x2a03eb,_0x7d08eb,_0x46a08f,_0x4c2c72,_0x392151){const _0x50841e=_0xdd45b5;if(_0x4f3112===_0x50841e(0xb60)){displaySubmissionConfirmation();return;}const _0x18ef21=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x50841e(0x28f)](_0x392151/0x2),_0x53448c=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x13a0ea=currentDisplayedQuiz[_0x50841e(0xa10)]?.[_0x50841e(0x643)]===!![],_0x298a9c=_0x2a03eb<_0x18ef21,_0x3bc81a=_0x4f3112==='half_mark_status'||_0x4f3112===_0x50841e(0x50f);if(_0x13a0ea&&_0x298a9c&&!_0x3bc81a){_0x4f3112===_0x50841e(0x2e2)?displayResultsWithAnswers(_0x2a03eb,_0x7d08eb,_0x46a08f,_0x4c2c72,_0x392151,!![]):displayLoopScreen(_0x2a03eb,_0x392151,_0x4f3112);return;}if(_0x53448c&&_0x298a9c){startAdaptiveFlow(_0x4c2c72,_0x2a03eb,_0x392151);return;}switch(_0x4f3112){case _0x50841e(0x2e2):displayResultsWithAnswers(_0x2a03eb,_0x7d08eb,_0x46a08f,_0x4c2c72,_0x392151);break;case _0x50841e(0xc97):displayResultsScoreOnly(_0x2a03eb,_0x7d08eb,_0x46a08f,_0x392151);break;case _0x50841e(0x33c):displayPassFailOnly(_0x2a03eb,_0x392151);break;case _0x50841e(0x23e):displayHalfMarkResult(_0x2a03eb,_0x392151);break;case _0x50841e(0x50f):displayPerfectScoreResult(_0x2a03eb,_0x392151);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xf2ce4){const _0x234f86=_0xdd45b5;studentReadingArea['innerHTML']=_0x234f86(0x72f);const _0x378d50=_0x234f86(0xc46)+_0xf2ce4+_0x234f86(0x577)+simpleMathPrompt+_0x234f86(0x6d4),_0x183129={'type':_0x234f86(0x207),'properties':{'questionText':{'type':_0x234f86(0xc85)},'options':{'type':'ARRAY','items':{'type':_0x234f86(0xc85)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x234f86(0xc85)}},'required':['questionText',_0x234f86(0x996),'correctAnswerIndex','explanation']},_0x4af30d={'type':_0x234f86(0x207),'properties':{'topic':{'type':_0x234f86(0xc85)},'questions':{'type':_0x234f86(0xbb1),'items':_0x183129}},'required':[_0x234f86(0x6bd),_0x234f86(0x69e)]};try{const _0x2cac81=await callAnalysisApi(_0x378d50,_0x4af30d);_0x2cac81['isRemedial']=!![],studentReadingArea['classList'][_0x234f86(0x9ff)](_0x234f86(0x2ee));const _0x27f582={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x234f86(0x2e2)};_0x2cac81[_0x234f86(0xa10)]=_0x27f582,displayQuizForStudent(_0x2cac81);}catch(_0x50e2e4){console['error'](_0x234f86(0x30b),_0x50e2e4),showMessage(_0x234f86(0x9a8)),showView(_0x234f86(0xc69));}}function displayPassFailOnly(_0x4b5c93,_0x5dccde){const _0x495eb6=_0xdd45b5,_0xe3de7c=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x2af06e=currentDisplayedQuiz['isRemedial']===!![];let _0x1d2376='',_0x3e1737=![];if(_0x2af06e||_0xe3de7c!==-0x1){_0x3e1737=_0x2af06e?_0x4b5c93===_0x5dccde:_0x4b5c93>=_0xe3de7c;const _0x1eb09a=_0x3e1737?_0x495eb6(0xac8):_0x495eb6(0xc4a),_0x12478b=_0x3e1737?'ผ่าน':_0x495eb6(0x739);_0x1d2376=_0x495eb6(0xde)+_0x1eb09a+'\x22>'+_0x12478b+_0x495eb6(0xb48);}else _0x1d2376=_0x495eb6(0x1b8);let _0x3b289f=_0x495eb6(0xae8)+currentStudentName+_0x495eb6(0x675)+_0x1d2376+_0x495eb6(0xa2e);studentResultArea[_0x495eb6(0x553)]=_0x3b289f,studentResultArea['classList']['remove'](_0x495eb6(0x2ee)),studentQuizArea[_0x495eb6(0x8c0)][_0x495eb6(0x9ff)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x3e1737});}function cancelAdminTest(){const _0x42264c=_0xdd45b5;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x42264c(0xd9)](_0x42264c(0x2bd),handleFullscreenChange),document[_0x42264c(0xd9)](_0x42264c(0x9e0),handleVisibilityChange),currentMode=_0x42264c(0xba1),studentView[_0x42264c(0x8c0)][_0x42264c(0x9ff)](_0x42264c(0x2ee)),adminView[_0x42264c(0x8c0)][_0x42264c(0x3b9)](_0x42264c(0x2ee)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x42264c(0xa97));}function setupResultScreenBackButton(_0x4493ff){const _0x21fc34=_0xdd45b5,_0x275418={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4493ff};if(_0x275418[_0x21fc34(0x780)]){const _0x16eacd=_0x21fc34(0x8df);studentResultArea[_0x21fc34(0x71e)](_0x21fc34(0x2ba),_0x16eacd),document['getElementById'](_0x21fc34(0x358))[_0x21fc34(0x915)]('click',()=>{const _0xb7147=_0x21fc34;studentResultArea[_0xb7147(0x8c0)]['add'](_0xb7147(0x2ee)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x1b51dd=_0x21fc34(0xbbe),_0x97fc10=currentMode==='admin-testing',_0x544fe5=_0x97fc10?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x21fc34(0xbe);let _0x3064fc='';_0x275418[_0x21fc34(0x802)]&&(_0x3064fc+=_0x21fc34(0x8de));let _0x5025ce=_0x275418[_0x21fc34(0x883)];_0x5025ce===undefined&&(_0x5025ce=_0x275418[_0x21fc34(0x9e7)]<_0x275418[_0x21fc34(0xc4f)]);_0x5025ce&&(_0x3064fc+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x3064fc+='<button\x20id=\x22'+_0x1b51dd+_0x21fc34(0xc5)+_0x544fe5+_0x21fc34(0xc81);const _0x5605e8=_0x21fc34(0xa5d)+_0x3064fc+'</div>';studentResultArea['insertAdjacentHTML'](_0x21fc34(0x2ba),_0x5605e8),studentResultArea['querySelector']('#view-rankings-btn')?.['addEventListener'](_0x21fc34(0x98f),handleShowStudentRankings);const _0x6abb60=studentResultArea['querySelector'](_0x21fc34(0xbe0));_0x6abb60&&_0x6abb60[_0x21fc34(0x915)]('click',()=>{const _0x517edf=_0x21fc34;studentResultArea['classList'][_0x517edf(0x9ff)](_0x517edf(0x2ee)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x21fc34(0xbd5)](_0x1b51dd)['addEventListener'](_0x21fc34(0x98f),()=>{const _0x377416=_0x21fc34;_0x97fc10?(currentMode=_0x377416(0xba1),studentView[_0x377416(0x8c0)][_0x377416(0x9ff)](_0x377416(0x2ee)),adminView[_0x377416(0x8c0)][_0x377416(0x3b9)](_0x377416(0x2ee)),showView('project-detail')):(showView(_0x377416(0xc69)),document[_0x377416(0xbd5)](_0x377416(0x59c))[_0x377416(0xc1a)]='');});}function displayResultsWithAnswers(_0x4e8c7c,_0x2b2b30,_0x106ba0,_0x24c61b,_0x4475f5,_0x3b335d=![]){const _0x2d84fa=_0xdd45b5,_0x4c4bfd=_0x4475f5>0x0?_0x4e8c7c/_0x4475f5*0x64:0x0,_0x11d117=currentDisplayedQuiz[_0x2d84fa(0xa10)]?.[_0x2d84fa(0xa00)]??-0x1,_0x37ead0=currentDisplayedQuiz['isRemedial']===!![];let _0x5625d4='';if(_0x37ead0||_0x11d117!==-0x1){let _0x533acc=_0x37ead0?_0x4e8c7c===_0x4475f5:_0x4e8c7c>=_0x11d117;const _0x22b81e=_0x533acc?_0x2d84fa(0xac8):_0x2d84fa(0xc4a),_0x2c36f0=_0x533acc?'ผ่าน':_0x2d84fa(0x739);_0x5625d4=_0x2d84fa(0x321)+_0x22b81e+'\x22>'+_0x2c36f0+_0x2d84fa(0x57f);}let _0x5697bf=_0x2d84fa(0x82f)+currentStudentName+_0x2d84fa(0xadd)+_0x4e8c7c+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x4475f5+_0x2d84fa(0x9d4)+_0x5625d4+_0x2d84fa(0x4e4)+_0x2b2b30+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x4c4bfd[_0x2d84fa(0x41f)](0x0)+_0x2d84fa(0x580);currentDisplayedQuiz[_0x2d84fa(0x69e)][_0x2d84fa(0x947)]((_0x4beb1a,_0x22362c)=>{const _0x4b42f5=_0x2d84fa,_0x460fdd=_0x24c61b[_0x22362c],_0x3988ce=_0x460fdd[_0x4b42f5(0x5b4)],_0x3f0961=_0x460fdd[_0x4b42f5(0x66b)],_0x481b08=_0x4beb1a[_0x4b42f5(0x40c)]||currentDisplayedQuiz[_0x4b42f5(0x51a)];_0x5697bf+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x3f0961?_0x4b42f5(0x4a0):_0x4b42f5(0x4c4))+_0x4b42f5(0x72e)+(_0x22362c+0x1)+'.\x20'+(_0x4beb1a['stem']||_0x4beb1a[_0x4b42f5(0x72b)])+_0x4b42f5(0x2f8);switch(_0x481b08){case _0x4b42f5(0xc6):const _0x3137a0=_0x3988ce||_0x4b42f5(0x24f),_0x39d654=_0x4beb1a[_0x4b42f5(0xc67)];_0x5697bf+=_0x4b42f5(0x894)+(!_0x3f0961?_0x4b42f5(0xa7b):'')+'\x22>'+_0x3137a0+'</span></p>';!_0x3f0961&&(_0x5697bf+=_0x4b42f5(0x1fa)+_0x39d654+_0x4b42f5(0x57f));break;case _0x4b42f5(0x5ed):_0x5697bf+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x3988ce||_0x4b42f5(0x24f))+'</p>',_0x5697bf+=_0x4b42f5(0x244)+_0x4beb1a[_0x4b42f5(0x24b)]+_0x4b42f5(0x57f);break;case'true_false':_0x5697bf+=_0x4b42f5(0x219)+(_0x4beb1a[_0x4b42f5(0xa7d)]===!![]?_0x4b42f5(0x20d):'')+'\x20'+(_0x3988ce===_0x4b42f5(0x332)&&!_0x3f0961?_0x4b42f5(0xa7b):'')+'\x22>ใช่</p>',_0x5697bf+=_0x4b42f5(0x219)+(_0x4beb1a[_0x4b42f5(0xa7d)]===![]?_0x4b42f5(0x20d):'')+'\x20'+(_0x3988ce==='false'&&!_0x3f0961?_0x4b42f5(0xa7b):'')+_0x4b42f5(0x4d8);break;default:_0x5697bf+=_0x4beb1a['options'][_0x4b42f5(0xb43)]((_0x55a2c6,_0x2e077d)=>{const _0x500850=_0x4b42f5;let _0x3ed3fa='',_0x3787fd='';if(_0x2e077d===_0x4beb1a['correctAnswerIndex'])_0x3ed3fa=_0x500850(0x20d),_0x3787fd=_0x500850(0x6c3);else _0x2e077d===_0x3988ce&&(_0x3ed3fa=_0x500850(0xb57),_0x3787fd=_0x500850(0xc89));return _0x500850(0x928)+_0x3ed3fa+'\x22>'+_0x3787fd+_0x55a2c6+_0x500850(0x969);})[_0x4b42f5(0xb92)]('');break;}_0x5697bf+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x4beb1a[_0x4b42f5(0x32a)]||'ไม่มีคำอธิบาย')+'</div>';if(!_0x3f0961){const _0x324587=_0x4beb1a[_0x4b42f5(0xbb0)]||_0x4beb1a[_0x4b42f5(0x72b)];_0x5697bf+=_0x4b42f5(0x199)+escape(_0x324587)+_0x4b42f5(0x375);}_0x5697bf+=_0x4b42f5(0x969);}),studentResultArea[_0x2d84fa(0x553)]=_0x5697bf,renderEarnedBadges(_0x106ba0,_0x2d84fa(0xaf8)),studentResultArea[_0x2d84fa(0x8c0)][_0x2d84fa(0x3b9)](_0x2d84fa(0x2ee)),studentQuizArea['classList'][_0x2d84fa(0x9ff)](_0x2d84fa(0x2ee)),setupResultScreenBackButton({'isLooping':_0x3b335d,'score':_0x4e8c7c,'totalQuestions':_0x4475f5,'showRankings':!![]});if(window[_0x2d84fa(0x9dd)])window['MathJax'][_0x2d84fa(0x679)]([studentResultArea]);}function displayResultsScoreOnly(_0x204d9d,_0x572619,_0x57ada3,_0xb72398){const _0x6885c9=_0xdd45b5,_0x33b4ad=_0xb72398>0x0?_0x204d9d/_0xb72398*0x64:0x0,_0x14756e=currentDisplayedQuiz[_0x6885c9(0xa10)]?.[_0x6885c9(0xa00)]??-0x1,_0x44d9c0=currentDisplayedQuiz['isRemedial']===!![];let _0x269d79='';if(_0x44d9c0||_0x14756e!==-0x1){let _0x2ac33f=_0x44d9c0?_0x204d9d===_0xb72398:_0x204d9d>=_0x14756e;const _0x3a18f7=_0x2ac33f?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x4d4899=_0x2ac33f?_0x6885c9(0xc08):_0x6885c9(0x739);_0x269d79='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3a18f7+'\x22>'+_0x4d4899+_0x6885c9(0x57f);}let _0x1a4077='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x204d9d+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xb72398+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x269d79+_0x6885c9(0x4e4)+_0x572619+_0x6885c9(0x4be)+_0x33b4ad[_0x6885c9(0x41f)](0x0)+_0x6885c9(0x500);studentResultArea[_0x6885c9(0x553)]=_0x1a4077,renderEarnedBadges(_0x57ada3,'earned-badges-container'),studentResultArea['classList'][_0x6885c9(0x3b9)](_0x6885c9(0x2ee)),studentQuizArea['classList'][_0x6885c9(0x9ff)](_0x6885c9(0x2ee)),setupResultScreenBackButton({'score':_0x204d9d,'totalQuestions':_0xb72398,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x5a7c89=_0xdd45b5;let _0x17811b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x5a7c89(0x66f);studentResultArea[_0x5a7c89(0x553)]=_0x17811b,studentResultArea['classList'][_0x5a7c89(0x3b9)]('hidden'),studentQuizArea[_0x5a7c89(0x8c0)][_0x5a7c89(0x9ff)](_0x5a7c89(0x2ee)),document['getElementById'](_0x5a7c89(0x60d))[_0x5a7c89(0x915)]('click',()=>{const _0x27ef70=_0x5a7c89;showView('student'),document[_0x27ef70(0xbd5)](_0x27ef70(0x59c))[_0x27ef70(0xc1a)]='';});}function renderEarnedBadges(_0x515ac2,_0x398612){const _0x1834fb=_0xdd45b5,_0x229655=document['getElementById'](_0x398612);if(!_0x229655||!_0x515ac2||_0x515ac2['length']===0x0)return;let _0x381e97='';_0x515ac2['forEach']((_0x3478d4,_0x1a9cf8)=>{const _0x4193b0=_0x39cc,_0x501554=Object[_0x4193b0(0x3bb)](BADGES)[_0x4193b0(0x922)](_0x35bd8e=>_0x35bd8e['id']===_0x3478d4);_0x501554&&(_0x381e97+=_0x4193b0(0xb14)+_0x1a9cf8*0.2+'s;\x22\x20title=\x22'+_0x501554[_0x4193b0(0xbe3)]+_0x4193b0(0x404)+_0x501554[_0x4193b0(0x8ec)]+_0x4193b0(0xc73)+_0x501554['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x229655[_0x1834fb(0x553)]=_0x381e97;}function startPresentation(_0x5d0cc2){const _0x4bfe62=_0xdd45b5;currentQuizData=getShuffledQuiz(_0x5d0cc2),currentPresentationSlide=0x0,presentationModal[_0x4bfe62(0x125)][_0x4bfe62(0xc0b)]=_0x4bfe62(0x3e9),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x46cd60=_0xdd45b5;document[_0x46cd60(0xba6)]&&document[_0x46cd60(0x103)](),presentationModal['style'][_0x46cd60(0xc0b)]=_0x46cd60(0xa64);}function renderPresentationSlide(_0x56590b){const _0x24144c=_0xdd45b5,_0x14ac5f=document[_0x24144c(0xbd5)](_0x24144c(0x634));if(!currentQuizData||!currentQuizData[_0x24144c(0x69e)]||!currentQuizData[_0x24144c(0x69e)][_0x56590b]){_0x14ac5f[_0x24144c(0x553)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x1cb5bf=currentQuizData[_0x24144c(0x69e)][_0x56590b],_0x578b1f=_0x1cb5bf[_0x24144c(0x40c)]||currentQuizData[_0x24144c(0x51a)];_0x14ac5f[_0x24144c(0x553)]='';let _0x2f5454='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1cb5bf[_0x24144c(0x1a9)]?_0x24144c(0x254)+_0x1cb5bf[_0x24144c(0x1a9)]+_0x24144c(0x969):'')+_0x24144c(0x967)+(_0x56590b+0x1)+'.\x20'+(_0x1cb5bf['stem']||_0x1cb5bf[_0x24144c(0x72b)])+_0x24144c(0x966);switch(_0x578b1f){case _0x24144c(0xc6):_0x2f5454+=_0x1cb5bf[_0x24144c(0x710)][_0x24144c(0xb43)](_0x10a2a4=>_0x24144c(0x18d)+_0x10a2a4+_0x24144c(0x2d2))[_0x24144c(0xb92)]('');break;case _0x24144c(0xa62):_0x2f5454+=_0x24144c(0xc6a),_0x2f5454+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case'fill_in_no_choices':case'short_answer':_0x2f5454+=_0x24144c(0x993);break;case _0x24144c(0xa2c):case _0x24144c(0xad4):default:_0x2f5454+=_0x1cb5bf[_0x24144c(0x996)][_0x24144c(0xb43)]((_0xa9f821,_0x36f988)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x36f988+_0x24144c(0xb11)+_0xa9f821+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x24144c(0xb92)]('');break;}_0x2f5454+=_0x24144c(0x86b)+(_0x1cb5bf[_0x24144c(0x32a)]||_0x24144c(0x531))+_0x24144c(0x1a0),_0x14ac5f[_0x24144c(0x553)]=_0x2f5454;if(window[_0x24144c(0x9dd)])window[_0x24144c(0x9dd)][_0x24144c(0x679)]([_0x14ac5f]);let _0x1d04ff=[];switch(_0x578b1f){case _0x24144c(0xc6):_0x1d04ff=_0x1cb5bf[_0x24144c(0x710)]||[];break;case _0x24144c(0xa62):_0x1d04ff=[_0x24144c(0xb74),_0x24144c(0x4ca)];break;default:_0x1d04ff=_0x1cb5bf[_0x24144c(0x996)]||[];break;}const _0x3c6d69=document['getElementById'](_0x24144c(0xa11));_0x3c6d69&&(_0x3c6d69['onclick']=()=>{openScratchpad(_0x1cb5bf,_0x1d04ff);});document['querySelectorAll'](_0x24144c(0x6c9))[_0x24144c(0x947)](_0x5d4c27=>{const _0x5b10f7=_0x24144c;_0x5d4c27[_0x5b10f7(0x915)]('click',_0xd0823c=>revealAnswerForPresentation(_0x56590b,_0xd0823c[_0x5b10f7(0xc23)]));});const _0x383b19=document[_0x24144c(0xbd5)]('check-presentation-answer-btn');_0x383b19&&_0x383b19[_0x24144c(0x915)](_0x24144c(0x98f),()=>checkShortAnswerForPresentation(_0x56590b)),document[_0x24144c(0xbd5)](_0x24144c(0x3f4))[_0x24144c(0x5e0)]='ข้อที่\x20'+(_0x56590b+0x1)+_0x24144c(0xa8b)+currentQuizData[_0x24144c(0x69e)][_0x24144c(0x9f1)],document[_0x24144c(0xbd5)](_0x24144c(0x365))[_0x24144c(0x256)]=_0x56590b===0x0,document[_0x24144c(0xbd5)](_0x24144c(0x659))[_0x24144c(0x256)]=_0x56590b===currentQuizData['questions'][_0x24144c(0x9f1)]-0x1;}async function checkShortAnswerForPresentation(_0x5b48ad){const _0x5633de=_0xdd45b5,_0x4165a3=currentQuizData[_0x5633de(0x69e)][_0x5b48ad],_0xa167e4=document['getElementById'](_0x5633de(0x546)),_0x1445cc=document[_0x5633de(0xbd5)]('check-presentation-answer-btn'),_0x1fec20=document['getElementById'](_0x5633de(0x338)),_0x623174=document['getElementById'](_0x5633de(0x349));if(!_0xa167e4||!_0x1445cc||!_0x1fec20||!_0x623174)return;const _0xff459e=_0xa167e4['value'][_0x5633de(0x7ae)]();if(_0xff459e==='')return;_0x1445cc[_0x5633de(0x256)]=!![],_0x1445cc[_0x5633de(0x553)]=_0x5633de(0xc66),_0xa167e4['disabled']=!![];const _0x39a45a=await gradeShortAnswer(_0xff459e,_0x4165a3);_0x39a45a?_0x1fec20[_0x5633de(0x553)]=_0x5633de(0xc09):_0x1fec20[_0x5633de(0x553)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x4165a3[_0x5633de(0x24b)]+')',_0x1fec20['classList'][_0x5633de(0x3b9)]('hidden'),_0x623174[_0x5633de(0x8c0)][_0x5633de(0x3b9)](_0x5633de(0x2ee)),_0x1445cc[_0x5633de(0x8c0)][_0x5633de(0x9ff)](_0x5633de(0x2ee));}function revealAnswerForPresentation(_0x2c44b7,_0x581add){const _0x195c85=_0xdd45b5,_0x1ff598=currentQuizData[_0x195c85(0x69e)][_0x2c44b7],_0x5d840b=_0x1ff598['questionType']||currentQuizData[_0x195c85(0x51a)];document['querySelectorAll'](_0x195c85(0x6c9))['forEach'](_0x61cdf8=>{const _0xe1db25=_0x195c85;_0x61cdf8[_0xe1db25(0x256)]=!![],_0x61cdf8['classList'][_0xe1db25(0x3b9)](_0xe1db25(0xbd7));let _0x2d8e9f=![];if(_0x5d840b===_0xe1db25(0xad4)||_0x5d840b==='fill_in_the_blank'){const _0x23e875=parseInt(_0x61cdf8[_0xe1db25(0x41c)]['index']);_0x2d8e9f=_0x23e875===_0x1ff598[_0xe1db25(0x51c)];}else{if(_0x5d840b===_0xe1db25(0xa62)){const _0x134995=_0x61cdf8['dataset'][_0xe1db25(0x5b4)]==='true';_0x2d8e9f=_0x134995===_0x1ff598[_0xe1db25(0xa7d)];}else _0x5d840b===_0xe1db25(0xc6)&&(_0x2d8e9f=_0x61cdf8[_0xe1db25(0x5e0)][_0xe1db25(0x7ae)]()===_0x1ff598[_0xe1db25(0xc67)]);}_0x2d8e9f?_0x61cdf8[_0xe1db25(0x8c0)][_0xe1db25(0x9ff)](_0xe1db25(0x233),'text-white',_0xe1db25(0x16a)):_0x61cdf8[_0xe1db25(0x8c0)]['add'](_0xe1db25(0xa81));}),_0x581add[_0x195c85(0x8c0)][_0x195c85(0x3b9)](_0x195c85(0xa81));let _0xd2f05c=![];if(_0x5d840b===_0x195c85(0xad4))_0xd2f05c=parseInt(_0x581add[_0x195c85(0x41c)][_0x195c85(0x3f3)])===_0x1ff598['correctAnswerIndex'];else{if(_0x5d840b==='true_false')_0xd2f05c=_0x581add['dataset']['answer']==='true'===_0x1ff598[_0x195c85(0xa7d)];else _0x5d840b===_0x195c85(0xc6)&&(_0xd2f05c=_0x581add[_0x195c85(0x5e0)][_0x195c85(0x7ae)]()===_0x1ff598[_0x195c85(0xc67)]);}!_0xd2f05c&&_0x581add['classList'][_0x195c85(0x9ff)](_0x195c85(0x3b2),'text-white',_0x195c85(0x4dd)),document[_0x195c85(0xbd5)](_0x195c85(0x349))['classList'][_0x195c85(0x3b9)]('hidden');}function startWholeQuizTimer(_0x288b0d){const _0x114bff=_0xdd45b5,_0x3e8eee=document[_0x114bff(0xbd5)]('timer-container');if(!_0x3e8eee)return;const _0x2b0396=Date[_0x114bff(0x435)]()+_0x288b0d*0x3c*0x3e8;_0x3e8eee['innerHTML']=_0x114bff(0x5f7);const _0x35ba38=document['getElementById'](_0x114bff(0x554));quizTimerInterval=setInterval(()=>{const _0x5eda17=_0x114bff,_0x1744a4=_0x2b0396-Date[_0x5eda17(0x435)]();if(_0x1744a4<=0x0)clearInterval(quizTimerInterval),_0x35ba38[_0x5eda17(0x5e0)]=_0x5eda17(0x1c0),showMessage(_0x5eda17(0xc6f)),handleSubmitQuiz(null);else{const _0x3d4a2c=Math[_0x5eda17(0x28f)](_0x1744a4/0x3e8/0x3c%0x3c)['toString']()[_0x5eda17(0x139)](0x2,'0'),_0x2aacea=Math['floor'](_0x1744a4/0x3e8%0x3c)['toString']()[_0x5eda17(0x139)](0x2,'0');_0x35ba38[_0x5eda17(0x5e0)]=_0x3d4a2c+':'+_0x2aacea;}},0x3e8);}function renderPerQuestionView(){const _0xc54c40=_0xdd45b5;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3fb7d9=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x129126=_0x3fb7d9['questionType']||currentDisplayedQuiz[_0xc54c40(0x51a)],_0x364ee1=currentDisplayedQuiz[_0xc54c40(0xa10)]?.['isConfidenceScoringEnabled']===!![];let _0x29d16d=_0xc54c40(0x344)+(currentQuestionIndex+0x1)+_0xc54c40(0xbce)+currentDisplayedQuiz[_0xc54c40(0x69e)][_0xc54c40(0x9f1)]+_0xc54c40(0x6b2)+(currentMode===_0xc54c40(0x499)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0xc54c40(0x15c)+currentDisplayedQuiz[_0xc54c40(0x6bd)]+_0xc54c40(0x24e);studentQuizArea[_0xc54c40(0x553)]=_0x29d16d;let _0x2ec6d4=_0x3fb7d9[_0xc54c40(0xbb0)]||_0x3fb7d9[_0xc54c40(0x72b)];_0x3fb7d9[_0xc54c40(0x1a9)]&&(_0x2ec6d4+=_0xc54c40(0x254)+_0x3fb7d9[_0xc54c40(0x1a9)]+_0xc54c40(0x969));let _0x18c8ac='';switch(_0x129126){case _0xc54c40(0x5ed):case _0xc54c40(0xb7f):_0x18c8ac=_0xc54c40(0x314);break;case _0xc54c40(0xa62):_0x18c8ac=_0xc54c40(0x1e4);break;case _0xc54c40(0xc6):_0x18c8ac=_0xc54c40(0xc7f)+(_0x3fb7d9[_0xc54c40(0x710)]||[])[_0xc54c40(0xb43)](_0x240523=>'<option\x20value=\x22'+_0x240523+'\x22>'+_0x240523+'</option>')[_0xc54c40(0xb92)]('')+_0xc54c40(0x502);break;default:_0x3fb7d9[_0xc54c40(0x996)]&&(_0x18c8ac=_0x3fb7d9[_0xc54c40(0x996)][_0xc54c40(0xb43)]((_0x1034ca,_0x30e237)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x30e237+_0xc54c40(0xa47)+_0x30e237+_0xc54c40(0x357)+_0x30e237+'\x22>'+_0x1034ca+_0xc54c40(0xc61))[_0xc54c40(0xb92)](''));break;}document[_0xc54c40(0xbd5)](_0xc54c40(0xbde))['innerHTML']=_0x2ec6d4,document[_0xc54c40(0xbd5)](_0xc54c40(0x43a))[_0xc54c40(0x553)]=_0x18c8ac;const _0x3390f6=currentDisplayedQuiz[_0xc54c40(0xa10)]?.[_0xc54c40(0x9c2)]===!![],_0x5d0c55=currentDisplayedQuiz['settings']?.['confidenceMode']||'checkbox';if(_0x3390f6&&_0x5d0c55===_0xc54c40(0x482)){const _0x2ccee8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0xc54c40(0x5db)](_0xc54c40(0x705))[_0xc54c40(0x71e)](_0xc54c40(0x2ba),_0x2ccee8);}studentQuizArea['insertAdjacentHTML'](_0xc54c40(0x2ba),_0xc54c40(0x715)+(currentQuestionIndex===currentDisplayedQuiz[_0xc54c40(0x69e)][_0xc54c40(0x9f1)]-0x1?_0xc54c40(0x386):'คำถามถัดไป')+_0xc54c40(0x431));currentMode===_0xc54c40(0x499)&&document[_0xc54c40(0xbd5)](_0xc54c40(0x5a5))?.[_0xc54c40(0x915)]('click',cancelAdminTest);document['getElementById'](_0xc54c40(0x9e3))[_0xc54c40(0x915)](_0xc54c40(0x98f),()=>handleNextQuestionInTimedMode(![]));if(window[_0xc54c40(0x9dd)])window[_0xc54c40(0x9dd)][_0xc54c40(0x679)]([studentQuizArea]);currentDisplayedQuiz[_0xc54c40(0xa10)]?.['timerMode']===_0xc54c40(0x748)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3847b0=_0xdd45b5,_0x56765f=currentDisplayedQuiz['settings'][_0x3847b0(0x854)],_0x24e5f7=document[_0x3847b0(0xbd5)](_0x3847b0(0xc39));if(!_0x24e5f7)return;let _0x3b3158=_0x56765f;_0x24e5f7[_0x3847b0(0x553)]=_0x3847b0(0x5a4)+_0x3b3158+_0x3847b0(0x754);const _0x17ed0b=document[_0x3847b0(0xbd5)]('timer-bar'),_0x5189eb=document['getElementById'](_0x3847b0(0xc50));perQuestionTimerInterval=setInterval(()=>{const _0x4a243a=_0x3847b0;_0x3b3158--;const _0x462d6b=_0x3b3158/_0x56765f*0x64;_0x17ed0b[_0x4a243a(0x125)][_0x4a243a(0xc9f)]=_0x462d6b+'%',_0x5189eb[_0x4a243a(0x5e0)]=_0x3b3158,_0x3b3158<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5e5622=![]){const _0x2a99c5=_0xdd45b5;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1b455c=null,_0x583906=![];if(!_0x5e5622){const _0x4c66a5=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x5dc1be=_0x4c66a5[_0x2a99c5(0x40c)]||currentDisplayedQuiz[_0x2a99c5(0x51a)];if(_0x5dc1be===_0x2a99c5(0x5ed)||_0x5dc1be==='fill_in_no_choices')_0x1b455c=document[_0x2a99c5(0x5db)](_0x2a99c5(0x850))?.[_0x2a99c5(0xc1a)][_0x2a99c5(0x7ae)]()??'';else{if(_0x5dc1be===_0x2a99c5(0xc6))_0x1b455c=document[_0x2a99c5(0x5db)](_0x2a99c5(0x717))?.[_0x2a99c5(0xc1a)]??'';else{const _0x195f93=document[_0x2a99c5(0x5db)](_0x2a99c5(0xa72));_0x195f93&&(_0x1b455c=_0x195f93[_0x2a99c5(0xc1a)]);}}if(_0x1b455c===null||_0x1b455c===''){showMessage(_0x2a99c5(0xa95)),startPerQuestionTimer();return;}const _0x554f6c=currentDisplayedQuiz[_0x2a99c5(0xa10)]?.['isConfidenceScoringEnabled']===!![],_0x1fe461=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x2a99c5(0x482);if(_0x554f6c&&_0x1fe461===_0x2a99c5(0x14e)){document[_0x2a99c5(0xbd5)](_0x2a99c5(0x4b5))[_0x2a99c5(0x41c)][_0x2a99c5(0x808)]=_0x2a99c5(0x616),document[_0x2a99c5(0xbd5)](_0x2a99c5(0x175))[_0x2a99c5(0xc1a)]=_0x1b455c,document[_0x2a99c5(0xbd5)](_0x2a99c5(0x4b5))['classList']['remove'](_0x2a99c5(0x2ee));return;}const _0x2b82f9=document[_0x2a99c5(0xbd5)]('confidence_single');_0x2b82f9&&(_0x583906=_0x2b82f9[_0x2a99c5(0x674)]);}const _0x28627a={'answer':_0x1b455c,'wasConfident':_0x583906};proceedToNextQuestion(_0x28627a);}async function finalizePerQuestionQuiz(){const _0x8ee987=_0xdd45b5,_0x1016b3=currentDisplayedQuiz[_0x8ee987(0x69e)][_0x8ee987(0x8b6)](_0x56675e=>_0x56675e[_0x8ee987(0x40c)]===_0x8ee987(0x5ed));_0x1016b3?showMessage(_0x8ee987(0x181)):showMessage(_0x8ee987(0xc75));const _0x204849=currentQuizData['id'],_0x2898b0=doc(db,'artifacts/'+appId+_0x8ee987(0x9aa)+_0x204849+_0x8ee987(0x67f),currentStudentName),_0x259b2f=await getDoc(_0x2898b0),_0x1c18f1=_0x259b2f[_0x8ee987(0x935)]()?_0x259b2f['data']():{},_0x30698f=_0x1c18f1['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x30698f);}function getResultsFilename(){const _0x3a747b=_0xdd45b5,_0x247925=document[_0x3a747b(0xbd5)](_0x3a747b(0x98c))['textContent']['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3a747b(0xa1)+(_0x247925||_0x3a747b(0xc9d));}function exportResultsAsImage(){const _0x25df19=_0xdd45b5,_0x1cd44a=document[_0x25df19(0xbd5)](_0x25df19(0x119));showMessage(_0x25df19(0x58b)),html2canvas(_0x1cd44a)[_0x25df19(0x4e8)](_0x3c6b93=>{const _0x1e0395=_0x25df19,_0xf5be41=document[_0x1e0395(0x26f)]('a');_0xf5be41[_0x1e0395(0x54c)]=getResultsFilename()+_0x1e0395(0x5c8),_0xf5be41[_0x1e0395(0x66d)]=_0x3c6b93[_0x1e0395(0xa0)](_0x1e0395(0x293)),_0xf5be41[_0x1e0395(0x98f)](),messageModal['classList'][_0x1e0395(0x9ff)]('hidden');});}function exportResultsAsPDF(){const _0x4d43f8=_0xdd45b5,{jsPDF:_0x3a8130}=window[_0x4d43f8(0x164)],_0x44ec0d=new _0x3a8130();_0x44ec0d[_0x4d43f8(0x58e)](_0x4d43f8(0xae),_0x4d43f8(0x8c1)),_0x44ec0d[_0x4d43f8(0x422)]({'html':'#results-table'}),_0x44ec0d[_0x4d43f8(0x769)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x391ecf=_0xdd45b5,_0x56dbaf='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x391ecf(0x3a2)+_0x391ecf(0x9c8)+_0x391ecf(0x2c5),_0x4af2ad=_0x391ecf(0x287),_0x3fa1de=_0x56dbaf+document['getElementById'](_0x391ecf(0x119))[_0x391ecf(0x553)]+_0x4af2ad,_0x5b96d4=_0x391ecf(0x8d4)+encodeURIComponent(_0x3fa1de),_0x27f6fc=document[_0x391ecf(0x26f)]('a');document['body']['appendChild'](_0x27f6fc),_0x27f6fc[_0x391ecf(0x66d)]=_0x5b96d4,_0x27f6fc['download']=getResultsFilename()+'.doc',_0x27f6fc[_0x391ecf(0x98f)](),document[_0x391ecf(0x594)][_0x391ecf(0x605)](_0x27f6fc);}function exportResultsAsExcel(){const _0x2a8543=_0xdd45b5,_0x1dc47e=document[_0x2a8543(0xbd5)]('results-table');let _0x442d2e=[];for(let _0x38bd24=0x0;_0x38bd24<_0x1dc47e[_0x2a8543(0x1ea)][_0x2a8543(0x9f1)];_0x38bd24++){let _0x4e5f2a=[],_0x1ad6a6=_0x1dc47e['rows'][_0x38bd24][_0x2a8543(0x197)](_0x2a8543(0x726));for(let _0x141f24=0x0;_0x141f24<_0x1ad6a6[_0x2a8543(0x9f1)];_0x141f24++){_0x4e5f2a['push']('\x22'+_0x1ad6a6[_0x141f24][_0x2a8543(0x250)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x442d2e[_0x2a8543(0x12e)](_0x4e5f2a[_0x2a8543(0xb92)](','));}const _0x556254=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x442d2e[_0x2a8543(0xb92)]('\x0a')],{'type':_0x2a8543(0x69b)}),_0x2c81ee=document[_0x2a8543(0x26f)]('a');_0x2c81ee['href']=URL['createObjectURL'](_0x556254),_0x2c81ee[_0x2a8543(0x54c)]=getResultsFilename()+_0x2a8543(0xc13),_0x2c81ee['click']();}function exportTableAsImage(_0x6af90,_0x16f8b3){const _0x2ab00d=_0xdd45b5,_0x32d43e=document[_0x2ab00d(0xbd5)](_0x6af90);if(!_0x32d43e){showMessage(_0x2ab00d(0x6a9));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x32d43e)[_0x2ab00d(0x4e8)](_0x362a68=>{const _0x17dd25=_0x2ab00d,_0x25f047=document[_0x17dd25(0x26f)]('a');_0x25f047[_0x17dd25(0x54c)]=_0x16f8b3+_0x17dd25(0x5c8),_0x25f047[_0x17dd25(0x66d)]=_0x362a68[_0x17dd25(0xa0)]('image/png'),_0x25f047[_0x17dd25(0x98f)](),messageModal[_0x17dd25(0x8c0)][_0x17dd25(0x9ff)](_0x17dd25(0x2ee));});}function exportTableAsPDF(_0x624e71,_0x53b0f1){const _0x4e08c9=_0xdd45b5,{jsPDF:_0x2f510b}=window[_0x4e08c9(0x164)],_0x34868e=new _0x2f510b();_0x34868e[_0x4e08c9(0x58e)](_0x4e08c9(0xae),'normal'),_0x34868e['autoTable']({'html':'#'+_0x624e71}),_0x34868e[_0x4e08c9(0x769)](_0x53b0f1+_0x4e08c9(0xab7));}function exportTableAsWord(_0x1cb15f,_0x385c37){const _0x18f11e=_0xdd45b5,_0x304ecf=document['getElementById'](_0x1cb15f);if(!_0x304ecf){showMessage(_0x18f11e(0x6a9));return;}const _0x16ebfd=_0x18f11e(0x188)+_0x18f11e(0x3a2)+_0x18f11e(0x9c8)+_0x18f11e(0x2c5),_0x4fa4ce=_0x18f11e(0x287),_0x5e073e=_0x16ebfd+_0x304ecf[_0x18f11e(0x553)]+_0x4fa4ce,_0x3887b1=_0x18f11e(0x8d4)+encodeURIComponent(_0x5e073e),_0x14bf6f=document['createElement']('a');document[_0x18f11e(0x594)][_0x18f11e(0x78c)](_0x14bf6f),_0x14bf6f[_0x18f11e(0x66d)]=_0x3887b1,_0x14bf6f[_0x18f11e(0x54c)]=_0x385c37+_0x18f11e(0x71c),_0x14bf6f[_0x18f11e(0x98f)](),document['body'][_0x18f11e(0x605)](_0x14bf6f);}function exportTableAsExcel(_0x5cae8a,_0x33d861){const _0x2c903e=_0xdd45b5,_0x384027=document[_0x2c903e(0xbd5)](_0x5cae8a);if(!_0x384027){showMessage(_0x2c903e(0x6a9));return;}let _0x20d936=[];for(let _0x5df089=0x0;_0x5df089<_0x384027['rows']['length'];_0x5df089++){let _0x5772c9=[],_0x580c7c=_0x384027[_0x2c903e(0x1ea)][_0x5df089][_0x2c903e(0x197)](_0x2c903e(0x726));for(let _0x1fbfa3=0x0;_0x1fbfa3<_0x580c7c[_0x2c903e(0x9f1)];_0x1fbfa3++){_0x5772c9[_0x2c903e(0x12e)]('\x22'+_0x580c7c[_0x1fbfa3]['innerText'][_0x2c903e(0x3fa)](/"/g,'\x22\x22')+'\x22');}_0x20d936[_0x2c903e(0x12e)](_0x5772c9[_0x2c903e(0xb92)](','));}const _0x1090e0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x20d936[_0x2c903e(0xb92)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x235a5c=document['createElement']('a');_0x235a5c[_0x2c903e(0x66d)]=URL[_0x2c903e(0x116)](_0x1090e0),_0x235a5c[_0x2c903e(0x54c)]=_0x33d861+'.csv',_0x235a5c['click']();}function renderAnalytics(_0x1e61f3,_0x361b70){const _0x48fb3c=_0xdd45b5,_0x3b8cdd=_0x361b70[_0x48fb3c(0x26c)](_0x49851a=>_0x49851a[_0x48fb3c(0x487)]!==undefined),_0x333f99=currentProjectData[_0x48fb3c(0x8f4)][_0x48fb3c(0x9f1)],_0x546a71=_0x3b8cdd[_0x48fb3c(0x9f1)],_0x2a840d=_0x333f99-_0x546a71,_0x4998cb=_0x333f99>0x0?_0x546a71/_0x333f99*0x64:0x0,_0xd9bfb2=_0x3b8cdd[_0x48fb3c(0xb43)](_0xc263ad=>_0xc263ad['latestScore']),_0x322fe5=_0xd9bfb2[_0x48fb3c(0x9f1)]>0x0?_0xd9bfb2[_0x48fb3c(0xdb)]((_0x5cd903,_0x10b72f)=>_0x5cd903+_0x10b72f,0x0)/_0xd9bfb2[_0x48fb3c(0x9f1)]:0x0,_0x25eecf=_0x1e61f3[_0x48fb3c(0x69e)][_0x48fb3c(0x9f1)],_0x48f60d=_0x25eecf>0x0?_0x322fe5/_0x25eecf*0x64:0x0,_0x347a8c=calculateItemAnalysis(_0x1e61f3,_0x3b8cdd),_0x48e01a=calculateReliabilityKR20(_0x1e61f3,_0x3b8cdd,_0x347a8c[_0x48fb3c(0x334)]);let _0x3af078='';if(_0x48e01a!==null){let _0x24a918='';if(_0x48e01a>=0.9)_0x24a918=_0x48fb3c(0x556);else{if(_0x48e01a>=0.8)_0x24a918=_0x48fb3c(0x744);else{if(_0x48e01a>=0.7)_0x24a918='ดี';else{if(_0x48e01a>=0.6)_0x24a918=_0x48fb3c(0xc2f);else _0x24a918=_0x48fb3c(0x8b8);}}}_0x3af078=_0x48fb3c(0x6a3)+_0x48e01a['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x24a918+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x44ec47=document[_0x48fb3c(0xbd5)](_0x48fb3c(0xbea));_0x44ec47['innerHTML']=_0x48fb3c(0xabf)+_0x4998cb[_0x48fb3c(0x41f)](0x0)+_0x48fb3c(0x572)+_0x546a71+'/'+_0x333f99+_0x48fb3c(0x28d)+_0x322fe5[_0x48fb3c(0x41f)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x48f60d[_0x48fb3c(0x41f)](0x0)+_0x48fb3c(0x5e8)+(_0xd9bfb2[_0x48fb3c(0x9f1)]>0x0?Math[_0x48fb3c(0x5fa)](..._0xd9bfb2):_0x48fb3c(0xba7))+_0x48fb3c(0xa6d)+(_0xd9bfb2[_0x48fb3c(0x9f1)]>0x0?Math[_0x48fb3c(0x1ed)](..._0xd9bfb2):_0x48fb3c(0xba7))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3af078+_0x48fb3c(0x6d4);const _0x2b2945=document['getElementById'](_0x48fb3c(0xcb4));_0x2b2945&&_0x2b2945[_0x48fb3c(0x3b9)]();const _0x3078f4=_0x48fb3c(0x82d);_0x44ec47[_0x48fb3c(0x71e)]('afterend',_0x3078f4);const _0x24252f=currentProjectData[_0x48fb3c(0x8f4)]||[];renderSubmissionChart(_0x546a71,_0x2a840d,_0x3b8cdd,_0x24252f),renderScoreDistributionChart(_0x3b8cdd,_0x25eecf),renderQuestionAnalytics(_0x1e61f3,_0x3b8cdd,_0x24252f),renderInterestingStats(_0x1e61f3,_0x3b8cdd);}async function handleExportLessonPDF(){const _0x2d53ea=_0xdd45b5,_0x1e6f7c=document['getElementById']('lesson-plan-content'),_0x1194e1=document[_0x2d53ea(0xbd5)]('lesson-plan-title')[_0x2d53ea(0x5e0)],_0x214d94=window['open']('',_0x2d53ea(0x884)),_0x4bbade='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x1194e1+_0x2d53ea(0xbfa)+_0x1e6f7c[_0x2d53ea(0x553)]+_0x2d53ea(0xa15);_0x214d94[_0x2d53ea(0xb38)][_0x2d53ea(0x394)](_0x4bbade),_0x214d94[_0x2d53ea(0xb38)]['close'](),_0x214d94['onload']=function(){setTimeout(()=>{const _0x255ac0=_0x39cc;_0x214d94[_0x255ac0(0xa03)]();},0x5dc);};}function renderInterestingStats(_0x150c86,_0xdd6f58){const _0x390795=_0xdd45b5,_0x37948e=document[_0x390795(0xbd5)](_0x390795(0xc51));if(!_0x37948e)return;if(_0xdd6f58[_0x390795(0x9f1)]===0x0){_0x37948e[_0x390795(0x553)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0xd71f17=_0x150c86[_0x390795(0x69e)][_0x390795(0xb43)]((_0x17556b,_0x2845ca)=>({'index':_0x2845ca+0x1,'text':_0x17556b['questionText']||_0x17556b[_0x390795(0xbb0)],'correct':0x0}));_0xdd6f58['forEach'](_0x219419=>{const _0x3fb6d6=_0x390795,_0xd88951=_0x219419[_0x3fb6d6(0x2aa)][_0x219419['attempts'][_0x3fb6d6(0x9f1)]-0x1];_0xd88951&&_0xd88951[_0x3fb6d6(0xb1b)]&&_0xd88951['answers'][_0x3fb6d6(0x947)](_0x1e64a2=>{const _0x3742a4=_0x3fb6d6,_0x1a33b7=_0xd71f17[_0x3742a4(0x922)](_0x5876e6=>_0x5876e6[_0x3742a4(0xaba)]===_0x1e64a2[_0x3742a4(0x453)]);_0x1e64a2[_0x3742a4(0x66b)]&&_0x1a33b7&&_0x1a33b7[_0x3742a4(0xac)]++;});});const _0x2b5c3a=_0xdd6f58[_0x390795(0x9f1)],_0x279c80=Math['max'](..._0xd71f17['map'](_0x11c423=>_0x11c423[_0x390795(0xac)])),_0x1318e7=Math[_0x390795(0x1ed)](..._0xd71f17['map'](_0xf5e19a=>_0xf5e19a['correct'])),_0xea16d9=_0xd71f17[_0x390795(0x26c)](_0x372375=>_0x372375[_0x390795(0xac)]===_0x279c80)[_0x390795(0xb43)](_0xc80323=>_0x390795(0x988)+_0xc80323[_0x390795(0x3f3)]),_0x3ba314=_0xd71f17[_0x390795(0x26c)](_0x179d18=>_0x179d18['correct']===_0x1318e7)[_0x390795(0xb43)](_0x444ae6=>_0x390795(0x988)+_0x444ae6[_0x390795(0x3f3)]),_0x3590e1=_0xdd6f58[_0x390795(0x50a)]((_0x5481fc,_0x3fbcc8)=>_0x3fbcc8[_0x390795(0x487)]-_0x5481fc[_0x390795(0x487)])[_0x390795(0x26c)]((_0x1f9397,_0x739dde,_0x50dee3)=>_0x1f9397['latestScore']===_0x50dee3[0x0]['latestScore']),_0x58b780=_0xdd6f58[_0x390795(0x50a)]((_0x129ea6,_0x2ecb36)=>_0x129ea6[_0x390795(0x487)]-_0x2ecb36[_0x390795(0x487)])[_0x390795(0x26c)]((_0x1e7ea2,_0x36fdcb,_0x1087dc)=>_0x1e7ea2[_0x390795(0x487)]===_0x1087dc[0x0][_0x390795(0x487)]),_0x477643=_0x390795(0x396)+_0xea16d9[_0x390795(0xb92)](',\x20')+_0x390795(0xb3d)+_0x279c80+'\x20/\x20'+_0x2b5c3a+_0x390795(0x21c)+_0x3ba314[_0x390795(0xb92)](',\x20')+_0x390795(0xb3d)+(_0x2b5c3a-_0x1318e7)+_0x390795(0xa8b)+_0x2b5c3a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x3590e1[_0x390795(0xb43)](_0x1aa232=>_0x1aa232['studentName'])[_0x390795(0xb92)](',\x20')+_0x390795(0x81f)+_0x3590e1[0x0][_0x390795(0x487)]+_0x390795(0x39a)+_0x58b780[_0x390795(0xb43)](_0x30c485=>_0x30c485[_0x390795(0x815)])[_0x390795(0xb92)](',\x20')+_0x390795(0x81f)+_0x58b780[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x37948e[_0x390795(0x553)]=_0x477643;}function renderSubmissionChart(_0x3247d3,_0x4a70d6,_0x2a9e69,_0x4dcb37){const _0x34c944=_0xdd45b5,_0x360dbb=document[_0x34c944(0xbd5)](_0x34c944(0x2dd))[_0x34c944(0x793)]('2d'),_0x2c92c1=_0x2a9e69[_0x34c944(0xb43)](_0x427ccc=>_0x427ccc[_0x34c944(0x815)]),_0x5c6daa=_0x4dcb37[_0x34c944(0x26c)](_0x246f03=>!_0x2c92c1[_0x34c944(0x668)](_0x246f03));chartInstances[_0x34c944(0x6dd)]&&chartInstances[_0x34c944(0x6dd)][_0x34c944(0x31d)](),chartInstances[_0x34c944(0x6dd)]=new Chart(_0x360dbb,{'type':_0x34c944(0x3d5),'data':{'labels':[_0x34c944(0x59a),_0x34c944(0xbad)],'datasets':[{'data':[_0x3247d3,_0x4a70d6],'backgroundColor':[_0x34c944(0x95e),_0x34c944(0x25f)],'borderColor':['#ffffff',_0x34c944(0x286)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x34c944(0xa69)},'tooltip':{'callbacks':{'label':function(_0x35fdaa){let _0x33e874=_0x35fdaa['label']||'';return _0x33e874&&(_0x33e874+=':\x20'),_0x33e874+=_0x35fdaa['raw'],_0x33e874;},'afterLabel':function(_0x1559a3){const _0x362dae=_0x34c944;let _0x1ba60f;return _0x1559a3['dataIndex']===0x0?_0x1ba60f=_0x2c92c1:_0x1ba60f=_0x5c6daa,_0x1ba60f[_0x362dae(0x9f1)]>0x0?_0x1ba60f[_0x362dae(0xb92)]('\x0a'):_0x362dae(0x300);}}}}}});}function renderScoreDistributionChart(_0x400a94,_0x47de3b){const _0x3c21b2=_0xdd45b5,_0x48553b=document[_0x3c21b2(0xbd5)](_0x3c21b2(0xcb8))[_0x3c21b2(0x793)]('2d'),_0x461dbc={};for(let _0x9a24a=0x0;_0x9a24a<=_0x47de3b;_0x9a24a++){_0x461dbc[_0x9a24a]=0x0;}_0x400a94['forEach'](_0x9c43f3=>{_0x461dbc[_0x9c43f3['latestScore']]!==undefined&&_0x461dbc[_0x9c43f3['latestScore']]++;}),chartInstances[_0x3c21b2(0x9e7)]&&chartInstances[_0x3c21b2(0x9e7)]['destroy'](),chartInstances[_0x3c21b2(0x9e7)]=new Chart(_0x48553b,{'type':_0x3c21b2(0x917),'data':{'labels':Object['keys'](_0x461dbc),'datasets':[{'label':_0x3c21b2(0x930),'data':Object['values'](_0x461dbc),'backgroundColor':_0x3c21b2(0x6da),'borderColor':_0x3c21b2(0x11d),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x3c21b2(0x9a2)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x62146d){const _0xb0c699=_0x3c21b2,_0x57c5c6=_0x62146d[_0xb0c699(0x97a)],_0x21c416=_0x400a94[_0xb0c699(0x26c)](_0x2199c3=>_0x2199c3['latestScore']==_0x57c5c6)['map'](_0x1e9328=>_0x1e9328[_0xb0c699(0x815)]);return _0x21c416[_0xb0c699(0x9f1)]>0x0?_0x21c416['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x59366b,_0x344d43,_0x45984a){const _0x1317a7=_0xdd45b5,_0x532c81=document['getElementById'](_0x1317a7(0x16b));if(_0x45984a['length']===0x0){_0x532c81[_0x1317a7(0x553)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x52ab09=calculateItemAnalysis(_0x59366b,_0x344d43),_0x15f171=calculateDistractorAnalysis(_0x59366b,_0x344d43);let _0x357843='';_0x52ab09['overallGroups']&&(_0x357843='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x52ab09['overallGroups'][_0x1317a7(0x2b5)][_0x1317a7(0x9f1)]+_0x1317a7(0xa45)+_0x52ab09[_0x1317a7(0x41a)][_0x1317a7(0x2b5)]['map'](_0x42dd94=>_0x1317a7(0x558)+_0x42dd94+_0x1317a7(0x1b5))[_0x1317a7(0xb92)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x52ab09[_0x1317a7(0x41a)][_0x1317a7(0x6a7)][_0x1317a7(0x9f1)]+_0x1317a7(0xa45)+_0x52ab09[_0x1317a7(0x41a)][_0x1317a7(0x6a7)][_0x1317a7(0xb43)](_0x1cfbfc=>'<li>'+_0x1cfbfc+_0x1317a7(0x1b5))['join']('')+_0x1317a7(0x77f));let _0x2a78f7='';const _0x22474f=_0x344d43['map'](_0x119a10=>_0x119a10['studentName']),_0x419a17=_0x426693=>{const _0x1a4db8=_0x1317a7;if(_0x426693>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x426693>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x426693>=0.4)return _0x1a4db8(0x8c3);if(_0x426693>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x1c9988=_0x258f19=>{const _0x17d1c5=_0x1317a7;if(_0x258f19<0x0)return _0x17d1c5(0xaf5);if(_0x258f19>=0.4)return _0x17d1c5(0x822);if(_0x258f19>=0.3)return _0x17d1c5(0x34f);if(_0x258f19>=0.2)return _0x17d1c5(0x525);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x3db8c6=_0x304390=>{const _0xd260d0=_0x1317a7,_0x2f976c=_0x304390[_0xd260d0(0x41f)](0x0);if(parseFloat(_0x2f976c)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x2f976c+'%</span>';if(_0x304390>=0x32)return _0xd260d0(0x1f8)+_0x2f976c+_0xd260d0(0x9c7);return _0xd260d0(0xfa)+_0x2f976c+'%</span>';};_0x59366b['questions'][_0x1317a7(0x947)]((_0x53fff5,_0x222030)=>{const _0x13b7d5=_0x1317a7,_0x1e2b72=_0x52ab09[_0x13b7d5(0x334)][_0x222030],_0x34552e=_0x15f171[_0x222030],_0x24db8f=_0x53fff5[_0x13b7d5(0xbb0)]||_0x53fff5[_0x13b7d5(0x72b)]||_0x53fff5[_0x13b7d5(0x820)];let _0x5414a2=0x0;const _0x40c72a=[],_0x10b3e1=[];_0x344d43['forEach'](_0x1b98c2=>{const _0x3fe6f3=_0x13b7d5,_0x31a638=_0x1b98c2[_0x3fe6f3(0x2aa)][_0x1b98c2[_0x3fe6f3(0x2aa)][_0x3fe6f3(0x9f1)]-0x1];if(_0x31a638&&_0x31a638['answers']){const _0x47fd14=_0x31a638[_0x3fe6f3(0xb1b)][_0x3fe6f3(0x922)](_0x111611=>_0x111611['originalQuestionText']===_0x24db8f)??_0x31a638['answers'][_0x222030]??null;_0x47fd14&&(_0x47fd14['isCorrect']?(_0x5414a2++,_0x40c72a[_0x3fe6f3(0x12e)](_0x1b98c2[_0x3fe6f3(0x815)])):_0x10b3e1['push'](_0x1b98c2[_0x3fe6f3(0x815)]));}});const _0x2bea82=_0x344d43[_0x13b7d5(0x9f1)]>0x0?_0x5414a2/_0x344d43['length']*0x64:0x0,_0x624bcc=_0x45984a['filter'](_0x3b68f3=>!_0x22474f[_0x13b7d5(0x668)](_0x3b68f3)),_0x1db918=_0x1e2b72?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x1e2b72['p'][_0x13b7d5(0x41f)](0x2)+_0x13b7d5(0x79a)+_0x419a17(_0x1e2b72['p'])+_0x13b7d5(0x61f)+_0x1e2b72['r'][_0x13b7d5(0x41f)](0x2)+_0x13b7d5(0x79a)+_0x1c9988(_0x1e2b72['r'])+_0x13b7d5(0x79d)+_0x3db8c6(_0x2bea82)+_0x13b7d5(0xbe5):'';let _0x162684='';_0x34552e&&(_0x162684=_0x13b7d5(0x85b)+Object[_0x13b7d5(0x2df)](_0x34552e)[_0x13b7d5(0xb43)](_0x544e28=>{const _0xe809a9=_0x13b7d5,_0x43c192=_0x34552e[_0x544e28],_0xe89715=parseInt(_0x544e28)===_0x53fff5[_0xe809a9(0x51c)],_0x16e177=!_0xe89715&&_0x43c192['lower_group_count']>_0x43c192[_0xe809a9(0x788)];return _0xe809a9(0x8e3)+(_0xe89715?'bg-green-100\x20font-bold':'')+_0xe809a9(0xa1e)+(_0xe89715?'✔\x20':'')+_0x43c192['text']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x43c192['upper_group_count']+_0xe809a9(0x75c)+_0x43c192[_0xe809a9(0x6f2)]+'\x20'+(_0x16e177?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x43c192[_0xe809a9(0xa99)]+'</td></tr>';})[_0x13b7d5(0xb92)]('')+_0x13b7d5(0x379));let _0x4d1528='';_0x1e2b72&&_0x1e2b72['upperGroupResponders']&&(_0x4d1528=_0x13b7d5(0x851)+_0x1e2b72[_0x13b7d5(0x1ad)]['length']+_0x13b7d5(0x3ba)+_0x1e2b72[_0x13b7d5(0x1ad)][_0x13b7d5(0xb43)](_0x5c88a0=>_0x13b7d5(0x558)+(_0x5c88a0['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x13b7d5(0xb9b))+'\x20'+_0x5c88a0[_0x13b7d5(0x8aa)]+'</li>')[_0x13b7d5(0xb92)]('')+_0x13b7d5(0xb03)+_0x1e2b72[_0x13b7d5(0x9d7)][_0x13b7d5(0x9f1)]+_0x13b7d5(0x3ba)+_0x1e2b72[_0x13b7d5(0x9d7)][_0x13b7d5(0xb43)](_0x76a781=>_0x13b7d5(0x558)+(_0x76a781[_0x13b7d5(0x66b)]?_0x13b7d5(0x3ca):_0x13b7d5(0xb9b))+'\x20'+_0x76a781[_0x13b7d5(0x8aa)]+_0x13b7d5(0x1b5))['join']('')+_0x13b7d5(0x8d6)),_0x2a78f7+=_0x13b7d5(0x94c)+(_0x222030+0x1)+':\x20'+_0x24db8f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1db918+_0x13b7d5(0xc48)+_0x24db8f+_0x13b7d5(0x15a)+_0x5414a2+'\x20จาก\x20'+_0x344d43['length']+_0x13b7d5(0x7b2)+_0x2bea82[_0x13b7d5(0x41f)](0x0)+_0x13b7d5(0x3e5)+_0x40c72a[_0x13b7d5(0x9f1)]+_0x13b7d5(0x9e6)+(_0x40c72a[_0x13b7d5(0x9f1)]>0x0?_0x40c72a['join'](',\x20'):_0x13b7d5(0x300))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x10b3e1['length']+_0x13b7d5(0x9e6)+(_0x10b3e1[_0x13b7d5(0x9f1)]>0x0?_0x10b3e1[_0x13b7d5(0xb92)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x624bcc[_0x13b7d5(0x9f1)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x624bcc[_0x13b7d5(0x9f1)]>0x0?_0x624bcc[_0x13b7d5(0xb92)](',\x20'):_0x13b7d5(0x300))+_0x13b7d5(0xe8)+_0x162684+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d1528+_0x13b7d5(0xb9c);}),_0x532c81[_0x1317a7(0x553)]=_0x357843+_0x2a78f7;try{window[_0x1317a7(0x9dd)]&&MathJax[_0x1317a7(0x679)]&&MathJax['typesetPromise']([_0x532c81]);}catch(_0x955b0b){console[_0x1317a7(0x2c7)](_0x1317a7(0x425),_0x955b0b);}}function calculateDistractorAnalysis(_0x1f5452,_0x4803de){const _0x251bf7=_0xdd45b5,_0x5253ed={};if(_0x4803de[_0x251bf7(0x9f1)]<0x2)return _0x5253ed;const _0x46e3ec=[..._0x4803de]['sort']((_0x5b37d8,_0x1c5ad2)=>{const _0x2fa158=_0x251bf7,_0x33e165=_0x1c5ad2[_0x2fa158(0x487)]-_0x5b37d8['latestScore'];if(_0x33e165!==0x0)return _0x33e165;const _0x404d3e=_0x5b37d8[_0x2fa158(0x2aa)]?.[_0x2fa158(0x9f1)]||0x1,_0x440306=_0x1c5ad2[_0x2fa158(0x2aa)]?.['length']||0x1,_0x163bf7=_0x404d3e-_0x440306;if(_0x163bf7!==0x0)return _0x163bf7;const _0x4ee342=new Date(_0x5b37d8[_0x2fa158(0x667)]),_0x212d8b=new Date(_0x1c5ad2['latestSubmittedAt']),_0x209ea6=_0x4ee342-_0x212d8b;if(_0x209ea6!==0x0)return _0x209ea6;return _0x5b37d8[_0x2fa158(0x815)][_0x2fa158(0xa50)](_0x1c5ad2[_0x2fa158(0x815)],'th');}),_0x56e85b=_0x46e3ec[_0x251bf7(0x9f1)],_0x421a65=Math['max'](0x1,Math[_0x251bf7(0x28f)](_0x56e85b*0.33)),_0x511383=_0x46e3ec[_0x251bf7(0xbb3)](0x0,_0x421a65),_0x16273b=_0x46e3ec[_0x251bf7(0xbb3)](-_0x421a65);return _0x1f5452[_0x251bf7(0x69e)][_0x251bf7(0x947)]((_0x27c62e,_0xc4a757)=>{const _0x48f42c=_0x251bf7;if(_0x27c62e[_0x48f42c(0x40c)]!==_0x48f42c(0xad4)||!_0x27c62e[_0x48f42c(0x996)])return;const _0x5adcd4=_0x27c62e['questionText'],_0x5379c8={};_0x27c62e['options']['forEach']((_0x4e0237,_0x273be0)=>{_0x5379c8[_0x273be0]={'text':_0x4e0237,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x46e3ec[_0x48f42c(0x947)](_0x3b3dd4=>{const _0x19d015=_0x48f42c,_0x579647=_0x3b3dd4[_0x19d015(0x2aa)][_0x3b3dd4[_0x19d015(0x2aa)][_0x19d015(0x9f1)]-0x1],_0x26a6fe=_0x579647['answers']['find'](_0xc27224=>_0xc27224[_0x19d015(0x453)]===_0x5adcd4);if(_0x26a6fe&&_0x26a6fe[_0x19d015(0x5b4)]!==null){const _0x18e26d=_0x27c62e[_0x19d015(0x996)][_0x19d015(0x54b)](_0x3e28e5=>_0x3e28e5===_0x26a6fe[_0x19d015(0x8cf)]);_0x18e26d!==-0x1&&_0x5379c8[_0x18e26d]&&(_0x5379c8[_0x18e26d][_0x19d015(0xa99)]++,_0x511383[_0x19d015(0x668)](_0x3b3dd4)&&_0x5379c8[_0x18e26d][_0x19d015(0x788)]++,_0x16273b['includes'](_0x3b3dd4)&&_0x5379c8[_0x18e26d]['lower_group_count']++);}}),_0x5253ed[_0xc4a757]=_0x5379c8;}),_0x5253ed;}function calculateReliabilityKR20(_0x1ec9c6,_0x18906f,_0x332ef3){const _0x4e6992=_0xdd45b5,_0x20a159=_0x1ec9c6[_0x4e6992(0x69e)][_0x4e6992(0x9f1)];if(_0x20a159<0x2||_0x18906f['length']<0x2)return null;const _0x2f2f76=_0x18906f[_0x4e6992(0xb43)](_0x5c838b=>_0x5c838b['latestScore']),_0x51a146=_0x2f2f76['reduce']((_0x1ff089,_0x67a7c9)=>_0x1ff089+_0x67a7c9,0x0)/_0x2f2f76[_0x4e6992(0x9f1)],_0x1c45cb=_0x2f2f76[_0x4e6992(0xb43)](_0x54bba5=>Math['pow'](_0x54bba5-_0x51a146,0x2))['reduce']((_0x860dfe,_0x46a6e7)=>_0x860dfe+_0x46a6e7,0x0)/_0x2f2f76['length'];if(_0x1c45cb===0x0)return null;let _0x35f03b=0x0;for(let _0x3f3c57=0x0;_0x3f3c57<_0x20a159;_0x3f3c57++){const _0x86bcb4=_0x332ef3[_0x3f3c57]?.['p'];if(_0x86bcb4===undefined)continue;const _0x3de60a=0x1-_0x86bcb4;_0x35f03b+=_0x86bcb4*_0x3de60a;}if(_0x35f03b===0x0)return null;const _0x2296b9=_0x20a159/(_0x20a159-0x1)*(0x1-_0x35f03b/_0x1c45cb);if(_0x2296b9>0x1)return null;return _0x2296b9;}async function handleAnalyzeClass(){const _0x4f588f=_0xdd45b5;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x566bb3=collection(db,'artifacts/'+appId+_0x4f588f(0x9aa)+currentQuizData['id']+'/submissions'),_0x41ef95=await getDocs(_0x566bb3),_0x5bef0e=_0x41ef95['docs'][_0x4f588f(0xb43)](_0xd839be=>_0xd839be[_0x4f588f(0xa1d)]());if(_0x5bef0e[_0x4f588f(0x9f1)]<0x2){showMessage(_0x4f588f(0x75b));return;}const _0x216514=document[_0x4f588f(0xbd5)](_0x4f588f(0x7b1));_0x216514[_0x4f588f(0x553)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x4f588f(0xbd5)](_0x4f588f(0xa4a))[_0x4f588f(0x256)]=!![];const _0x2cb89a=_0x5bef0e[_0x4f588f(0xb43)]((_0x290b16,_0x2a6b98)=>{const _0x4e1c52=_0x4f588f,_0x3b9fdc=_0x290b16['attempts'][_0x290b16[_0x4e1c52(0x2aa)][_0x4e1c52(0x9f1)]-0x1];if(!_0x3b9fdc)return'';return _0x4e1c52(0x22a)+(_0x2a6b98+0x1)+'\x20('+_0x290b16['studentName']+_0x4e1c52(0xb52)+_0x3b9fdc['score']+'/'+_0x290b16['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x4e1c52(0xbd9)](_0x3b9fdc[_0x4e1c52(0xb1b)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4f588f(0xb92)](_0x4f588f(0xa33)),_0x299c72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x4f588f(0x6bd)]+_0x4f588f(0x488)+JSON['stringify'](currentQuizData[_0x4f588f(0x69e)])+_0x4f588f(0x245)+_0x2cb89a+_0x4f588f(0x9f3),_0x12d658={'type':'OBJECT','properties':{'classStrengths':{'type':_0x4f588f(0xbb1),'items':{'type':_0x4f588f(0xc85)}},'classWeaknesses':{'type':_0x4f588f(0xbb1),'items':{'type':_0x4f588f(0xc85)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x4f588f(0xc85)}}},'required':[_0x4f588f(0x1cc),_0x4f588f(0xc90),'teacherSuggestions']};try{const _0x355099=await callAnalysisApi(_0x299c72,_0x12d658);displayClassAnalysis(_0x355099);}catch(_0x1d1ea2){console[_0x4f588f(0x2c7)](_0x4f588f(0x939),_0x1d1ea2),_0x216514[_0x4f588f(0x553)]=_0x4f588f(0xfb)+_0x1d1ea2[_0x4f588f(0x700)]+_0x4f588f(0xb47);}finally{document['getElementById'](_0x4f588f(0xa4a))[_0x4f588f(0x256)]=![];}}function displayClassAnalysis(_0x4effc4){const _0x1c8b5f=_0xdd45b5,_0xc39c8b=document[_0x1c8b5f(0xbd5)](_0x1c8b5f(0x7b1));if(!_0x4effc4){_0xc39c8b[_0x1c8b5f(0x553)]=_0x1c8b5f(0x863);return;}_0xc39c8b[_0x1c8b5f(0x553)]=_0x1c8b5f(0x6ee)+_0x4effc4[_0x1c8b5f(0x1cc)][_0x1c8b5f(0xb43)](_0x281da2=>_0x1c8b5f(0x558)+_0x281da2+'</li>')[_0x1c8b5f(0xb92)]('')+_0x1c8b5f(0x4e3)+_0x4effc4[_0x1c8b5f(0xc90)][_0x1c8b5f(0xb43)](_0x1d061c=>'<li>'+_0x1d061c+'</li>')['join']('')+_0x1c8b5f(0xb44)+_0x4effc4['teacherSuggestions'][_0x1c8b5f(0xb43)](_0x259195=>'<li>'+_0x259195+_0x1c8b5f(0x1b5))[_0x1c8b5f(0xb92)]('')+_0x1c8b5f(0xb80);}function formatAndPrintWorksheet(_0x982816,_0x390823){const _0x259684=_0xdd45b5,_0x3b0643='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x982816[_0x259684(0x6bd)]+_0x259684(0x80c)+_0x982816[_0x259684(0x6bd)]+_0x259684(0xca1)+_0x982816[_0x259684(0x69e)][_0x259684(0xb43)]((_0x1d252d,_0x3697d7)=>_0x259684(0x1ca)+(_0x3697d7+0x1)+'.\x20'+_0x1d252d['questionText']+_0x259684(0x7f9)+(_0x1d252d[_0x259684(0x1a9)]?_0x259684(0x741)+_0x1d252d[_0x259684(0x1a9)]+_0x259684(0x969):'')+_0x259684(0x17c))['join']('')+_0x259684(0x196);_0x390823[_0x259684(0xb38)]['write'](_0x3b0643),_0x390823[_0x259684(0xb38)]['close'](),_0x390823[_0x259684(0xbcc)]=function(){setTimeout(()=>{const _0x16ae3d=_0x39cc;_0x390823[_0x16ae3d(0xa03)]();},0x3e8);};}async function generateWorksheet(){const _0x203790=_0xdd45b5,_0x1d589c=document['getElementById'](_0x203790(0x42f))['value'][_0x203790(0x7ae)]();if(!_0x1d589c){showMessage(_0x203790(0x2b1));return;}const _0x59ffb7=document[_0x203790(0xbd5)](_0x203790(0x7a9))[_0x203790(0x674)],_0x23b910=_0x59ffb7?'':_0x203790(0xc0c),_0x2ecefc=window[_0x203790(0x7dc)]('',_0x203790(0x884));_0x2ecefc['document'][_0x203790(0x394)](_0x203790(0x992));const _0x25aff8=parseInt(document[_0x203790(0xbd5)](_0x203790(0x731))[_0x203790(0xc1a)]),_0x211c95=document[_0x203790(0xbd5)](_0x203790(0x17f))[_0x203790(0x674)],_0x3003c1=_0x211c95?_0x203790(0x166):'',_0x8324c6=_0x203790(0xb4c)+_0x23b910+_0x203790(0x3fe)+_0x25aff8+_0x203790(0xc35)+_0x1d589c+_0x203790(0x6ef)+_0x3003c1+_0x203790(0x340)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x3b3601={'type':'OBJECT','properties':{'topic':{'type':_0x203790(0xc85)},'questions':{'type':_0x203790(0xbb1),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x203790(0xc85)},'imageCode':{'type':'STRING'}},'required':[_0x203790(0x72b)]}}},'required':[_0x203790(0x6bd),_0x203790(0x69e)]};document['getElementById']('loader-text')['textContent']='',document[_0x203790(0xbd5)]('loader')['classList'][_0x203790(0x3b9)]('hidden'),document['getElementById'](_0x203790(0xc4e))['classList'][_0x203790(0x3b9)]('hidden'),generateWorksheetBtn[_0x203790(0x256)]=!![];try{const _0x2d5c4c=await callAnalysisApi(_0x8324c6,_0x3b3601);formatAndPrintWorksheet(_0x2d5c4c,_0x2ecefc);}catch(_0x1fd5c9){console[_0x203790(0x2c7)]('Error\x20generating\x20worksheet:',_0x1fd5c9);if(_0x2ecefc)_0x2ecefc[_0x203790(0x4c1)]();showMessage(_0x203790(0x862));}finally{document['getElementById']('loader')[_0x203790(0x8c0)]['add'](_0x203790(0x2ee)),document['getElementById']('quiz-generation-area')[_0x203790(0x8c0)][_0x203790(0x9ff)]('hidden'),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x5ac468,_0x4efdde){const _0x5cc366=_0xdd45b5,_0x36b305={'contents':[{'role':_0x5cc366(0x19a),'parts':[{'text':_0x5ac468}]}],'generationConfig':{'responseMimeType':_0x5cc366(0xa59),'responseSchema':_0x4efdde}},_0x2c8170=_0x5cc366(0x8e9),_0x561d99=_0x5cc366(0x4f3)+_0x2c8170,_0x3e49a1=await fetch(_0x561d99,{'method':'POST','headers':{'Content-Type':_0x5cc366(0xa59)},'body':JSON[_0x5cc366(0xbd9)](_0x36b305)});if(!_0x3e49a1['ok'])throw new Error(_0x5cc366(0x504)+_0x3e49a1[_0x5cc366(0x56c)]);const _0x289131=await _0x3e49a1[_0x5cc366(0xbc2)]();if(_0x289131[_0x5cc366(0x8be)]?.[0x0]?.[_0x5cc366(0x8cc)]?.[_0x5cc366(0x32f)]?.[0x0])return JSON[_0x5cc366(0x837)](_0x289131[_0x5cc366(0x8be)][0x0][_0x5cc366(0x8cc)][_0x5cc366(0x32f)][0x0][_0x5cc366(0xaba)]);else{let _0x1aca21='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x289131['promptFeedback']?.[_0x5cc366(0xaac)])_0x1aca21=_0x5cc366(0x5a7)+_0x289131[_0x5cc366(0xbc6)][_0x5cc366(0xaac)]+'.';else _0x289131[_0x5cc366(0x8be)]?.[0x0]?.[_0x5cc366(0xae5)]&&_0x289131[_0x5cc366(0x8be)][0x0][_0x5cc366(0xae5)]!==_0x5cc366(0xc84)&&(_0x1aca21=_0x5cc366(0x259)+_0x289131['candidates'][0x0]['finishReason']+'.');console[_0x5cc366(0x2c7)](_0x1aca21,JSON['stringify'](_0x289131));throw new Error(_0x1aca21);}}async function handleStartSyncMode(_0x21e63a,_0x43dcf2=![],_0x40419b=_0xdd45b5(0x942)){const _0xbd7bc6=_0xdd45b5,_0x371026=allQuizzes['find'](_0x21fcc4=>_0x21fcc4['id']===_0x21e63a)||allQuizzesGlobal[_0xbd7bc6(0x922)](_0x4f06c3=>_0x4f06c3['id']===_0x21e63a);if(!_0x371026){showMessage(_0xbd7bc6(0x226));return;}currentQuizData=getShuffledQuiz(_0x371026);const _0x6103d0=Math['floor'](0x3e8+Math['random']()*0x2328)[_0xbd7bc6(0x467)](),_0xa21e5e=doc(db,_0xbd7bc6(0xb4)+appId+_0xbd7bc6(0x971),_0x371026[_0xbd7bc6(0xa60)]),_0x43c563=await getDoc(_0xa21e5e);if(!_0x43c563[_0xbd7bc6(0x935)]()){showMessage(_0xbd7bc6(0xca));return;}const _0x580dcb=_0x43c563[_0xbd7bc6(0xa1d)]()[_0xbd7bc6(0x8f4)]||[],_0x116051={};if(_0x40419b===_0xbd7bc6(0x571)){const _0x20fb49=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math['random']());_0x580dcb[_0xbd7bc6(0x947)]((_0x320435,_0x29d332)=>{_0x116051[_0x320435]=_0x20fb49[_0x29d332]||'ผู้เล่น\x20'+(_0x29d332+0x1);});}try{const _0x4932c2=await addDoc(collection(db,_0xbd7bc6(0xb4)+appId+_0xbd7bc6(0x4ea)),{'quizId':_0x371026['id'],'pin':_0x6103d0,'status':_0xbd7bc6(0xb23),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x43dcf2,'players':{},'gameVariant':_0x40419b,'reviewQuestionIndex':0x0,'playerNicknames':_0x116051,'isAnonymousRevealed':![]});currentLiveGameId=_0x4932c2['id'],showView('live-game'),renderSyncLobbyView(_0x6103d0,_0x371026['topic']),listenForSyncGameUpdates();}catch(_0x1e94f3){console[_0xbd7bc6(0x2c7)](_0xbd7bc6(0x824),_0x1e94f3),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x5a8451){const _0x5b2110=_0xdd45b5;if(!_0x5a8451||!_0x5a8451[_0x5b2110(0x109)]||!_0x5a8451[_0x5b2110(0xa96)])return _0x5a8451[_0x5b2110(0xa96)]||{};const _0x3e5b89=_0x5a8451[_0x5b2110(0x109)]['questions'][_0x5b2110(0x9f1)],_0x202e24=JSON[_0x5b2110(0x837)](JSON[_0x5b2110(0xbd9)](_0x5a8451[_0x5b2110(0xa96)]));return Object[_0x5b2110(0x3bb)](_0x202e24)[_0x5b2110(0x947)](_0xab0f75=>{const _0x5364d6=_0x5b2110,_0x83425a=_0xab0f75[_0x5364d6(0x9e7)];let _0x426d56=_0x83425a,_0x5ad3ac=0x0;_0x5a8451['isConfidenceScoringEnabled']&&_0xab0f75[_0x5364d6(0xb1b)]&&_0xab0f75[_0x5364d6(0xb1b)][_0x5364d6(0x947)](_0x236275=>{const _0x518ced=_0x5364d6;if(_0x236275[_0x518ced(0x66b)]&&(_0x236275[_0x518ced(0x238)]===!![]||_0x236275['wasConfident']===_0x518ced(0x5a1)))_0x5ad3ac+=0x1;else!_0x236275[_0x518ced(0x66b)]&&(_0x236275['wasConfident']===!![]||_0x236275['wasConfident']==='confident')&&(_0x5ad3ac-=0x1);}),_0x426d56+=_0x5ad3ac,_0x3e5b89>0x0&&_0x83425a===_0x3e5b89&&(_0x426d56+=0x1,_0xab0f75[_0x5364d6(0x397)]=!![]),_0xab0f75[_0x5364d6(0x9e7)]=_0x426d56;}),_0x202e24;}function listenForSyncGameUpdates(){const _0x1ea02d=_0xdd45b5;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x144ffa=doc(db,_0x1ea02d(0xb4)+appId+_0x1ea02d(0x4ea),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x144ffa,_0x612294=>{const _0x5042f7=_0x1ea02d;if(!_0x612294[_0x5042f7(0x935)]()){sessionStorage[_0x5042f7(0x49d)](_0x5042f7(0x346));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x5042f7(0xa97)):showView(_0x5042f7(0xc69));return;}const _0x511309=_0x612294[_0x5042f7(0xa1d)]();currentMode==='admin'?updateAdminSyncView(_0x511309):updateStudentSyncView(_0x511309);});}function renderSyncLobbyView(_0x2c883b,_0x43850e){const _0x2934ba=_0xdd45b5;liveGameView[_0x2934ba(0x553)]=_0x2934ba(0x69d)+_0x43850e+_0x2934ba(0x83e)+_0x2c883b+_0x2934ba(0x4b3);const _0x3c3a6d=document[_0x2934ba(0xbd5)](_0x2934ba(0xf2)),_0x4a0807=document[_0x2934ba(0xbd5)](_0x2934ba(0x236));_0x3c3a6d[_0x2934ba(0x915)](_0x2934ba(0x77e),()=>{const _0x97b684=_0x2934ba;_0x4a0807[_0x97b684(0x125)][_0x97b684(0xc0b)]=_0x3c3a6d['checked']?_0x97b684(0xaee):'none';}),document['getElementById']('start-sync-game-btn')[_0x2934ba(0x915)](_0x2934ba(0x98f),async()=>{const _0x51a556=_0x2934ba,_0x2fe48d=doc(db,'artifacts/'+appId+_0x51a556(0x4ea),currentLiveGameId),_0xe809bf=document[_0x51a556(0xbd5)](_0x51a556(0xf2))['checked'];await updateDoc(_0x2fe48d,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0xe809bf});});}function updateAdminSyncView(_0x5b991d){const _0x1971e8=_0xdd45b5;switch(_0x5b991d[_0x1971e8(0x56c)]){case _0x1971e8(0xb23):renderSyncLobbyView(_0x5b991d[_0x1971e8(0x253)],_0x5b991d[_0x1971e8(0x109)][_0x1971e8(0x6bd)]);const _0x1f38a0=Object[_0x1971e8(0x1a6)](_0x5b991d['players']||{})['filter'](([_0x331973,_0x1e8065])=>_0x1e8065[_0x1971e8(0x56c)]!==_0x1971e8(0xc8d));document[_0x1971e8(0xbd5)](_0x1971e8(0x7c1))[_0x1971e8(0x5e0)]=_0x1f38a0[_0x1971e8(0x9f1)],document['getElementById'](_0x1971e8(0x7d7))[_0x1971e8(0x553)]=_0x1f38a0[_0x1971e8(0xb43)](([_0x40a2f1,_0x5eb688])=>_0x1971e8(0x26e)+_0x40a2f1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x40a2f1+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1971e8(0xb92)]('')||_0x1971e8(0x38a),document[_0x1971e8(0xbd5)](_0x1971e8(0x707))[_0x1971e8(0x256)]=_0x1f38a0['length']===0x0;break;case'question':const _0x18cad3=Object[_0x1971e8(0x3bb)](_0x5b991d[_0x1971e8(0xa96)]||{})[_0x1971e8(0x26c)](_0x1a1b48=>_0x1a1b48[_0x1971e8(0x56c)]!==_0x1971e8(0xc8d)),_0x56b9e7=_0x18cad3[_0x1971e8(0x26c)](_0x4f10fe=>_0x4f10fe[_0x1971e8(0x689)])[_0x1971e8(0x9f1)],_0x2ad76f=_0x56b9e7===_0x18cad3[_0x1971e8(0x9f1)]&&_0x18cad3[_0x1971e8(0x9f1)]>0x0;if(_0x2ad76f&&_0x5b991d[_0x1971e8(0x56c)]==='question'){const _0xfc692c=doc(db,'artifacts/'+appId+_0x1971e8(0x4ea),currentLiveGameId);updateDoc(_0xfc692c,{'status':_0x1971e8(0x600)});}else{if(document[_0x1971e8(0xbd5)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x5b991d);else{const _0x53e28a=document[_0x1971e8(0xbd5)](_0x1971e8(0x9c6));_0x53e28a&&(_0x53e28a[_0x1971e8(0x5e0)]=_0x56b9e7+'/'+_0x18cad3['length']);const _0x558238=document[_0x1971e8(0xbd5)]('sync-player-list');_0x558238&&(_0x558238[_0x1971e8(0x553)]=_0x18cad3[_0x1971e8(0xb43)](_0x128151=>{const _0x377dc9=_0x1971e8,_0x1e32ad=_0x128151[_0x377dc9(0x689)]?'bg-green-500':'bg-gray-500',_0x459dcc=_0x128151[_0x377dc9(0x689)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x1e32ad+_0x377dc9(0xbdc)+_0x459dcc+_0x377dc9(0xab)+_0x128151['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x128151[_0x377dc9(0x8aa)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1971e8(0xb92)](''));}}break;case _0x1971e8(0x600):const _0x5d9c6c=_0x5b991d['currentQuestionIndex'],_0x2ca5f9=_0x5b991d[_0x1971e8(0x109)]['questions'][_0x5d9c6c];renderSyncSummaryView(_0x5b991d,_0x2ca5f9,!![]);break;case'results':const _0x28e923=_0x5b991d['gameVariant']||_0x1971e8(0x942);_0x28e923==='reveal_at_end'?renderAdminSyncDashboard(_0x5b991d,!![],_0x5b991d[_0x1971e8(0x146)]):renderAdminSyncDashboard(_0x5b991d,!![],_0x5b991d[_0x1971e8(0x180)]);break;case _0x1971e8(0xa9e):_0x5b991d[_0x1971e8(0x43b)]&&saveGameResultsAsSubmissions(_0x5b991d);sessionStorage['removeItem']('activeGameSession');const _0x5e402b=calculateFinalPodiumScores(_0x5b991d);showPodiumView(_0x5e402b,_0x1971e8(0x656));break;}}function renderAdminSyncQuestionView(_0x4e3100){const _0x458dfc=_0xdd45b5,_0x4743ec=_0x4e3100[_0x458dfc(0x180)],_0x2b2fd7=_0x4e3100[_0x458dfc(0x109)]['questions'][_0x4743ec],_0x4e717f=_0x4e3100[_0x458dfc(0x109)]['questions']['length'],_0x408bbf=Object[_0x458dfc(0x3bb)](_0x4e3100['players']||{})[_0x458dfc(0x26c)](_0x1b1953=>_0x1b1953[_0x458dfc(0x56c)]!==_0x458dfc(0xc8d)),_0x21ac7f=_0x408bbf[_0x458dfc(0x26c)](_0x9923f=>_0x9923f['answered'])[_0x458dfc(0x9f1)],_0x51c1b8=_0x21ac7f===_0x408bbf[_0x458dfc(0x9f1)]&&_0x408bbf[_0x458dfc(0x9f1)]>0x0,_0x56c761=(_0x2b2fd7[_0x458dfc(0x996)]||[])[_0x458dfc(0xb43)](_0xa8e79e=>_0x458dfc(0x137)+_0xa8e79e+_0x458dfc(0x969))[_0x458dfc(0xb92)]('');liveGameView[_0x458dfc(0x553)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x4743ec+0x1)+_0x458dfc(0xa8b)+_0x4e717f+_0x458dfc(0x542)+_0x21ac7f+'/'+_0x408bbf['length']+_0x458dfc(0x310)+_0x2b2fd7['questionText']+_0x458dfc(0xb00)+_0x56c761+_0x458dfc(0x921)+(!_0x51c1b8?_0x458dfc(0x256):'')+_0x458dfc(0xb9e);if(window[_0x458dfc(0x9dd)])MathJax[_0x458dfc(0x679)]();document[_0x458dfc(0xbd5)](_0x458dfc(0xc3a))[_0x458dfc(0x915)](_0x458dfc(0x98f),async()=>{const _0x324e54=_0x458dfc,_0x3962af=doc(db,_0x324e54(0xb4)+appId+_0x324e54(0x4ea),currentLiveGameId);await updateDoc(_0x3962af,{'status':_0x324e54(0xb41)});}),document[_0x458dfc(0xbd5)](_0x458dfc(0xa4))[_0x458dfc(0xcb7)]=()=>{const _0x34790a=_0x458dfc;openScratchpad(_0x2b2fd7,_0x2b2fd7[_0x34790a(0x996)]||[]);},document[_0x458dfc(0xbd5)]('sync-manage-players-btn')[_0x458dfc(0x915)](_0x458dfc(0x98f),()=>{const _0x3746fe=_0x458dfc;document['getElementById']('sync-player-management')[_0x3746fe(0x8c0)][_0x3746fe(0x6e2)](_0x3746fe(0x2ee));});}function renderSyncLeaderboardView(_0xd8c4e5,_0x5d4179){const _0x459541=_0xdd45b5,_0x21faa7=Object[_0x459541(0x3bb)](_0xd8c4e5[_0x459541(0xa96)]||{});_0x21faa7[_0x459541(0x50a)]((_0x1dd2a4,_0x3f3ca3)=>_0x3f3ca3[_0x459541(0x9e7)]-_0x1dd2a4[_0x459541(0x9e7)]);const _0x17e7ee=_0x21faa7[_0x459541(0xbb3)](0x0,0x5);let _0x2a08e0='';if(_0x5d4179){const _0x37ca16=_0xd8c4e5[_0x459541(0x180)]>=_0xd8c4e5[_0x459541(0x109)][_0x459541(0x69e)]['length']-0x1;_0x2a08e0='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x37ca16?_0x459541(0x3b8):_0x459541(0x860))+_0x459541(0xabb);}else _0x2a08e0=_0x459541(0xa04);liveGameView[_0x459541(0x553)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x17e7ee[_0x459541(0xb43)]((_0x53b31c,_0x3de3f6)=>_0x459541(0x270)+(_0x3de3f6+0x1)+'.\x20'+_0x53b31c['name']+_0x459541(0x1be)+_0x53b31c[_0x459541(0x9e7)]+_0x459541(0xb48))[_0x459541(0xb92)]('')+_0x459541(0x7d6)+_0x2a08e0+_0x459541(0xa2e),_0x5d4179&&document[_0x459541(0xbd5)](_0x459541(0x7f0))[_0x459541(0x915)](_0x459541(0x98f),async()=>{const _0x29f336=_0x459541,_0x273319=doc(db,_0x29f336(0xb4)+appId+'/public/data/syncGames',currentLiveGameId),_0x5dc6ca=_0xd8c4e5[_0x29f336(0x180)]+0x1;if(_0x5dc6ca<_0xd8c4e5['shuffledQuiz'][_0x29f336(0x69e)]['length']){const _0x5f19e3={};Object[_0x29f336(0x2df)](_0xd8c4e5[_0x29f336(0xa96)])['forEach'](_0x2ceeb9=>{const _0x4aa0e9=_0x29f336;_0x5f19e3[_0x4aa0e9(0x115)+_0x2ceeb9+_0x4aa0e9(0x9f5)]=![];}),await updateDoc(_0x273319,{..._0x5f19e3,'status':_0x29f336(0x8fd),'currentQuestionIndex':_0x5dc6ca,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x273319,{'status':_0x29f336(0xa9e)});});}async function handleJoinSyncGame(){const _0x47ef12=_0xdd45b5,_0x43dc3c=prompt(_0x47ef12(0x304));if(!_0x43dc3c||_0x43dc3c[_0x47ef12(0x7ae)]()[_0x47ef12(0x9f1)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x54c842=collection(db,_0x47ef12(0xb4)+appId+_0x47ef12(0x4ea)),_0x300470=query(_0x54c842,where(_0x47ef12(0x253),'==',_0x43dc3c[_0x47ef12(0x7ae)]()),where(_0x47ef12(0x56c),'==',_0x47ef12(0xb23))),_0x5547d6=await getDocs(_0x300470);if(_0x5547d6['empty']){showMessage(_0x47ef12(0xb98));return;}const _0x422a5a=_0x5547d6[_0x47ef12(0x627)][0x0];currentLiveGameId=_0x422a5a['id'];const _0x405287=_0x422a5a[_0x47ef12(0xa1d)](),_0x14ced1=doc(db,_0x47ef12(0xb4)+appId+'/public/data/quizzes',_0x405287[_0x47ef12(0x559)]),_0x3e63cd=await getDoc(_0x14ced1);if(!_0x3e63cd[_0x47ef12(0x935)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x252013=_0x3e63cd['data'](),_0x39fdc4=doc(db,_0x47ef12(0xb4)+appId+'/public/data/projects',_0x252013['projectId']),_0x2ec86d=await getDoc(_0x39fdc4);if(!_0x2ec86d[_0x47ef12(0x935)]())throw new Error(_0x47ef12(0x91b));currentQuizData=_0x405287[_0x47ef12(0x109)];const _0x25438a=_0x2ec86d[_0x47ef12(0xa1d)]();showView(_0x47ef12(0x2a1)),showTeamPlayerSelection(_0x25438a[_0x47ef12(0x8f4)],_0x252013[_0x47ef12(0x6bd)]);const _0x1c332f=document[_0x47ef12(0xbd5)]('confirm-team-players-btn');_0x1c332f[_0x47ef12(0xcb7)]=confirmAndJoinSyncGame;}catch(_0x5e0e9b){console[_0x47ef12(0x2c7)](_0x47ef12(0xb67),_0x5e0e9b),showMessage(_0x47ef12(0x5b1)+_0x5e0e9b[_0x47ef12(0x700)]);}}function updateStudentSyncView(_0x5c8a7c){const _0x35e1b4=_0xdd45b5,_0x171b6f=_0x5c8a7c[_0x35e1b4(0xa96)][localTeamPlayers[0x0]];switch(_0x5c8a7c['status']){case'lobby':showView('live-game'),liveGameView[_0x35e1b4(0x553)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x35e1b4(0x8fd):localPlayerTurnIndex=0x0;const _0x76362=localTeamPlayers['every'](_0x5a8ae5=>_0x5c8a7c['players'][_0x5a8ae5]?.[_0x35e1b4(0x689)]===!![]);_0x76362?liveGameView['innerHTML']=_0x35e1b4(0xc2b):renderStudentSyncQuestionView(_0x5c8a7c);break;case'summary':liveGameView['innerHTML']=_0x35e1b4(0xc59);break;case _0x35e1b4(0xb41):localPlayerTurnIndex=0x0;const _0x3d404b=_0x5c8a7c[_0x35e1b4(0xb86)]||_0x35e1b4(0x942);if(_0x3d404b===_0x35e1b4(0x702))renderAdminSyncDashboard(_0x5c8a7c,![],_0x5c8a7c['reviewQuestionIndex']);else _0x3d404b==='anonymous'?renderAnonymousStudentResultsView(_0x5c8a7c):renderStudentSyncResultsView(_0x5c8a7c);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x35e1b4(0xd9)](_0x35e1b4(0x2bd),handleFullscreenChange),document['removeEventListener'](_0x35e1b4(0x9e0),handleVisibilityChange),sessionStorage['removeItem'](_0x35e1b4(0x346));const _0x11966b=calculateFinalPodiumScores(_0x5c8a7c);showPodiumView(_0x11966b,_0x35e1b4(0x656));break;}}function renderStudentSyncResultsView(_0x1ca5d5){const _0x21b30c=_0xdd45b5,_0x194c3e=localTeamPlayers[_0x21b30c(0xb43)](_0x263f49=>_0x1ca5d5[_0x21b30c(0xa96)][_0x263f49])[_0x21b30c(0x26c)](Boolean);_0x194c3e[_0x21b30c(0x50a)]((_0x1a0ce2,_0x465b54)=>(_0x465b54['score']||0x0)-(_0x1a0ce2[_0x21b30c(0x9e7)]||0x0));const _0x11344d=_0x1ca5d5['gameVariant']||_0x21b30c(0x942),_0x5255dd=_0x1ca5d5['shuffledQuiz']['questions'];let _0x3ec923='';if(_0x11344d===_0x21b30c(0x702)){const _0x546b97=_0x1ca5d5[_0x21b30c(0x146)]>=_0x5255dd[_0x21b30c(0x9f1)]-0x1;_0x546b97?_0x3ec923=_0x21b30c(0x3b1):_0x3ec923=_0x21b30c(0x144);}else{const _0x2c9f60=_0x1ca5d5[_0x21b30c(0x180)]>=_0x5255dd[_0x21b30c(0x9f1)]-0x1;_0x2c9f60?_0x3ec923=_0x21b30c(0x3b1):_0x3ec923=_0x21b30c(0x398);}const _0x34e4ce=_0x21b30c(0xa02)+_0x194c3e[_0x21b30c(0xb43)]((_0x192c22,_0x22362d)=>_0x21b30c(0xc3d)+(_0x22362d+0x1)+_0x21b30c(0x4fa)+_0x192c22[_0x21b30c(0x8aa)]+_0x21b30c(0x20e)+_0x192c22[_0x21b30c(0x9e7)]+_0x21b30c(0x8fe))[_0x21b30c(0xb92)]('')+_0x21b30c(0xbc7)+_0x3ec923+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x21b30c(0x553)]=_0x34e4ce;}function renderStudentSyncQuestionView(_0x446aac){const _0x50956c=_0xdd45b5,_0x3ae27d=localTeamPlayers['find'](_0x4121bb=>_0x446aac[_0x50956c(0xa96)][_0x4121bb]&&_0x446aac[_0x50956c(0xa96)][_0x4121bb]['answered']===![]);if(!_0x3ae27d){console[_0x50956c(0x3b7)](_0x50956c(0xc2));return;}const _0xdd3667=_0x446aac[_0x50956c(0x180)],_0x15b405=_0x446aac[_0x50956c(0x109)][_0x50956c(0x69e)][_0x50956c(0x9f1)],_0x2b84a7=_0x446aac[_0x50956c(0x109)][_0x50956c(0x69e)][_0xdd3667],_0x56e832=_0x2b84a7[_0x50956c(0x40c)]||_0x446aac[_0x50956c(0x109)]['quizType'];let _0x3a4ec3='',_0x3775ce=![];switch(_0x56e832){case'true_false':_0x3a4ec3=_0x50956c(0x9f0);break;case _0x50956c(0x5ed):case _0x50956c(0xb7f):_0x3775ce=!![],_0x3a4ec3=_0x50956c(0x776);break;case'matching_item':_0x3775ce=!![],_0x3a4ec3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2b84a7['allResponses']||[])[_0x50956c(0xb43)](_0x7f54b3=>_0x50956c(0xafe)+_0x7f54b3+'\x22>'+_0x7f54b3+_0x50956c(0x9fc))[_0x50956c(0xb92)]('')+_0x50956c(0xb8b);break;case _0x50956c(0xad4):default:_0x3a4ec3=(_0x2b84a7[_0x50956c(0x996)]||[])['map']((_0x5df48f,_0xaa18bd)=>_0x50956c(0x7fb)+_0xaa18bd+_0x50956c(0x984)+_0x5df48f+_0x50956c(0xc81))[_0x50956c(0xb92)]('');break;}liveGameView[_0x50956c(0x553)]=_0x50956c(0x5d7)+(_0xdd3667+0x1)+_0x50956c(0xa8b)+_0x15b405+_0x50956c(0xb82)+_0x3ae27d+_0x50956c(0xb1c)+(_0x2b84a7[_0x50956c(0x72b)]||_0x2b84a7[_0x50956c(0xbb0)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x3a4ec3+_0x50956c(0x3be);if(window[_0x50956c(0x9dd)])MathJax['typesetPromise']();function _0x146d8c(_0x292da2,_0x1528e9,_0x2d44b6,_0x5a19d6){const _0x30d3e2=_0x50956c,_0x2a361c=_0x2d44b6[_0x30d3e2(0x9c2)]===!![];if(_0x2a361c){document[_0x30d3e2(0xbd5)](_0x30d3e2(0x4b5))[_0x30d3e2(0x41c)][_0x30d3e2(0x808)]=_0x30d3e2(0x656);const _0x2da871=document[_0x30d3e2(0xbd5)](_0x30d3e2(0x175));_0x2da871[_0x30d3e2(0x41c)][_0x30d3e2(0x950)]=_0x292da2,_0x2da871[_0x30d3e2(0x41c)][_0x30d3e2(0x8fd)]=JSON['stringify'](_0x1528e9),_0x2da871[_0x30d3e2(0x41c)][_0x30d3e2(0x7d3)]=JSON[_0x30d3e2(0xbd9)](_0x2d44b6),_0x2da871[_0x30d3e2(0x41c)][_0x30d3e2(0x280)]=_0x5a19d6,document[_0x30d3e2(0xbd5)]('confidence-modal')[_0x30d3e2(0x8c0)][_0x30d3e2(0x3b9)](_0x30d3e2(0x2ee));}else handleSyncAnswerSubmit(_0x292da2,_0x1528e9,_0x2d44b6,_0x5a19d6,![]);}_0x3775ce?document['getElementById']('sync-submit-btn')[_0x50956c(0x915)]('click',()=>{const _0x4defec=_0x50956c,_0x66d384=document[_0x4defec(0xbd5)](_0x4defec(0x21d))||document['getElementById'](_0x4defec(0x5d2));if(_0x66d384[_0x4defec(0xc1a)][_0x4defec(0x7ae)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x146d8c(_0x66d384[_0x4defec(0xc1a)],_0x2b84a7,_0x446aac,_0x3ae27d);}):document['querySelectorAll'](_0x50956c(0x39e))[_0x50956c(0x947)](_0x6e7811=>{const _0x38e3e5=_0x50956c;_0x6e7811['addEventListener'](_0x38e3e5(0x98f),()=>{const _0x3c52cf=_0x38e3e5;_0x146d8c(_0x6e7811[_0x3c52cf(0x41c)][_0x3c52cf(0xc1a)],_0x2b84a7,_0x446aac,_0x3ae27d);});});}async function handleSyncAnswerSubmit(_0x36c868,_0x5b33f0,_0x4836e6,_0x460a87,_0x2e4ad1){const _0x1c3a65=_0xdd45b5;document[_0x1c3a65(0x197)](_0x1c3a65(0x1a8))[_0x1c3a65(0x947)](_0x3d3434=>_0x3d3434[_0x1c3a65(0x256)]=!![]);const _0x4b7b7e=_0x5b33f0['questionType']||_0x4836e6[_0x1c3a65(0x109)][_0x1c3a65(0x51a)];let _0xd374ca=![],_0x1a70ae=_0x36c868;switch(_0x4b7b7e){case'true_false':const _0x40cf2c=parseInt(_0x36c868),_0x1aba60=_0x5b33f0['correctAnswer']===!![]||String(_0x5b33f0[_0x1c3a65(0xa7d)])['toLowerCase']()===_0x1c3a65(0x332);_0xd374ca=_0x40cf2c===0x0&&_0x1aba60||_0x40cf2c===0x1&&!_0x1aba60,_0x1a70ae=_0x40cf2c===0x0?'ใช่\x20/\x20ถูก':_0x1c3a65(0x6c0);break;case _0x1c3a65(0x5ed):case'fill_in_no_choices':_0xd374ca=await gradeShortAnswer(_0x36c868,_0x5b33f0);break;case _0x1c3a65(0xc6):_0xd374ca=_0x36c868===_0x5b33f0['correctResponse'];break;case _0x1c3a65(0xad4):default:const _0x1c6286=parseInt(_0x36c868);_0xd374ca=_0x1c6286===_0x5b33f0[_0x1c3a65(0x51c)];_0x5b33f0[_0x1c3a65(0x996)]&&_0x5b33f0[_0x1c3a65(0x996)][_0x1c6286]&&(_0x1a70ae=_0x5b33f0[_0x1c3a65(0x996)][_0x1c6286]);break;}const _0x2436b4=_0xd374ca?0x1:0x0,_0x35b082=doc(db,_0x1c3a65(0xb4)+appId+_0x1c3a65(0x4ea),currentLiveGameId),_0x2af2bb={};_0x2af2bb[_0x1c3a65(0x115)+_0x460a87+'.score']=increment(_0x2436b4),_0x2af2bb[_0x1c3a65(0x115)+_0x460a87+_0x1c3a65(0x9f5)]=!![];let _0x1b1254=null;(_0x4b7b7e===_0x1c3a65(0xad4)||_0x4b7b7e===_0x1c3a65(0xa62)||_0x4b7b7e===_0x1c3a65(0x1bb))&&(_0x1b1254=parseInt(_0x36c868));_0x2af2bb['players.'+_0x460a87+_0x1c3a65(0x132)]=_0x1b1254;const _0x52a210={'questionIndex':_0x4836e6[_0x1c3a65(0x180)],'questionId':_0x5b33f0['id'],'answer':_0x36c868,'answerText':_0x1a70ae,'isCorrect':_0xd374ca,'originalQuestionText':_0x5b33f0['questionText']||_0x5b33f0[_0x1c3a65(0xbb0)],'wasConfident':_0x2e4ad1};_0x2af2bb[_0x1c3a65(0x115)+_0x460a87+'.answers']=arrayUnion(_0x52a210),await updateDoc(_0x35b082,_0x2af2bb);}initialize();
