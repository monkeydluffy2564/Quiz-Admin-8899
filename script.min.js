const _0x712516=_0x158c;(function(_0x514f3f,_0x261a11){const _0x4a8091=_0x158c,_0x13d088=_0x514f3f();while(!![]){try{const _0x5ef9b0=-parseInt(_0x4a8091(0x255))/0x1+-parseInt(_0x4a8091(0x706))/0x2+parseInt(_0x4a8091(0x6f3))/0x3+parseInt(_0x4a8091(0x91e))/0x4*(parseInt(_0x4a8091(0x70a))/0x5)+-parseInt(_0x4a8091(0x578))/0x6*(-parseInt(_0x4a8091(0x4e0))/0x7)+-parseInt(_0x4a8091(0x8bd))/0x8*(parseInt(_0x4a8091(0x540))/0x9)+parseInt(_0x4a8091(0x420))/0xa*(parseInt(_0x4a8091(0xaa8))/0xb);if(_0x5ef9b0===_0x261a11)break;else _0x13d088['push'](_0x13d088['shift']());}catch(_0xf5b5e0){_0x13d088['push'](_0x13d088['shift']());}}}(_0x34d8,0x612d2));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x44f2d6=_0x158c;if(_0x44f2d6(0x34c)in navigator)try{wakeLock=await navigator[_0x44f2d6(0x34c)]['request'](_0x44f2d6(0x8c0)),console[_0x44f2d6(0xa87)](_0x44f2d6(0x33e)),wakeLock[_0x44f2d6(0x996)]('release',()=>{const _0xe7d570=_0x44f2d6;console[_0xe7d570(0xa87)](_0xe7d570(0x2c6));});}catch(_0x1a24c7){console[_0x44f2d6(0x7e3)](_0x44f2d6(0x4c3)+_0x1a24c7[_0x44f2d6(0x4ad)]+',\x20'+_0x1a24c7[_0x44f2d6(0x7e4)]);}else console[_0x44f2d6(0x592)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x571f07=_0x158c;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x571f07(0xa87)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x421c8b=_0x158c;if(dimTimer)clearTimeout(dimTimer);document[_0x421c8b(0x837)][_0x421c8b(0x709)][_0x421c8b(0x5b3)](_0x421c8b(0x58b)),dimTimer=setTimeout(()=>{const _0x14107e=_0x421c8b;document[_0x14107e(0x837)][_0x14107e(0x709)][_0x14107e(0x484)](_0x14107e(0x58b)),console[_0x14107e(0xa87)](_0x14107e(0x85f));},inactivityTime);}function stopDimTimer(){const _0x37748d=_0x158c;if(dimTimer)clearTimeout(dimTimer);document[_0x37748d(0x837)][_0x37748d(0x709)][_0x37748d(0x5b3)]('dimmed'),window[_0x37748d(0x764)](_0x37748d(0x491),resetDimTimer),window['removeEventListener'](_0x37748d(0x357),resetDimTimer),window[_0x37748d(0x764)]('touchstart',resetDimTimer),window[_0x37748d(0x764)](_0x37748d(0x465),resetDimTimer),console['log'](_0x37748d(0xacc));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x3f07eb,_0x3db872=![]){const _0x3082e3=_0x158c,_0x1869f3=allQuizzes[_0x3082e3(0xafd)](_0x1fbb99=>_0x1fbb99['id']===_0x3f07eb)||allQuizzesGlobal[_0x3082e3(0xafd)](_0xd4653a=>_0xd4653a['id']===_0x3f07eb);if(!_0x1869f3){showMessage(_0x3082e3(0x96a));return;}currentQuizData=getShuffledQuiz(_0x1869f3);const _0x28f881=Math[_0x3082e3(0xa67)](0x3e8+Math['random']()*0x2328)[_0x3082e3(0x431)]();try{const _0x23909b=await addDoc(collection(db,_0x3082e3(0xade)+appId+'/public/data/teamQuizzes'),{'quizId':_0x1869f3['id'],'projectId':_0x1869f3[_0x3082e3(0x243)],'status':_0x3082e3(0xa00),'pin':_0x28f881,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3db872});currentTeamQuizId=_0x23909b['id'],showView(_0x3082e3(0x6ed)),renderAdminTeamQuizDashboard(_0x28f881,_0x1869f3[_0x3082e3(0x9b8)]),listenForTeamQuizUpdates();}catch(_0x560885){console['error'](_0x3082e3(0x62b),_0x560885),showMessage(_0x3082e3(0x87b));}}function renderAdminTeamQuizDashboard(_0x38ea8c,_0x4847fa,_0x15b927=_0x712516(0x74c)){const _0x3b82a3=_0x712516,_0x3bf46e=_0x15b927===_0x3b82a3(0x91a)?'Group\x20Mode':_0x3b82a3(0x40c);liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x3bf46e+':\x20'+_0x4847fa+_0x3b82a3(0x539)+_0x38ea8c+_0x3b82a3(0x5d0),document[_0x3b82a3(0x7e1)]('end-team-quiz-btn')[_0x3b82a3(0x996)](_0x3b82a3(0x66f),async()=>{const _0x207d37=_0x3b82a3;showConfirmation(_0x207d37(0x4da),async()=>{const _0x47bccc=_0x207d37;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x47bccc(0xade)+appId+_0x47bccc(0x711),currentTeamQuizId)),showView(_0x47bccc(0xa03));});});}function listenForTeamQuizUpdates(){const _0x16d1d3=_0x712516;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4d0ba8=doc(db,_0x16d1d3(0xade)+appId+_0x16d1d3(0x711),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4d0ba8,_0x3a18fc=>{const _0x18a979=_0x16d1d3;if(!_0x3a18fc['exists']()){sessionStorage[_0x18a979(0x322)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x18a979(0x250))showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x18a979(0x250)?_0x18a979(0xa03):_0x18a979(0x6ab));return;}const _0x1d33b3=_0x3a18fc[_0x18a979(0x4fb)]();if(currentMode===_0x18a979(0x250)){if(_0x1d33b3[_0x18a979(0x9f2)]===_0x18a979(0x91a)&&_0x1d33b3[_0x18a979(0x407)]!==_0x18a979(0x8f7)&&_0x1d33b3['status']!==_0x18a979(0x968)){const _0x394abc=Object[_0x18a979(0x48c)](_0x1d33b3['groups']||{});if(_0x394abc[_0x18a979(0x88b)]>0x0){const _0x271c47=_0x394abc[_0x18a979(0x211)](_0x16c5b6=>_0x16c5b6['isFinished']===!![]);_0x271c47&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x1d33b3);}else{if(_0x1d33b3['status']==='podium'||_0x1d33b3[_0x18a979(0x407)]===_0x18a979(0x968)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x1d33b3[_0x18a979(0x9f2)]===_0x18a979(0x91a)){const _0x2a9158=_0x1d33b3[_0x18a979(0x381)][userId];(!_0x2a9158||!_0x2a9158[_0x18a979(0x9da)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x50f90a){const _0x26c99d=_0x712516;console[_0x26c99d(0xa87)](_0x26c99d(0x7fd));const _0x27270a=doc(db,'artifacts/'+appId+_0x26c99d(0x711),_0x50f90a);try{const _0x37350a=await getDoc(_0x27270a);if(_0x37350a[_0x26c99d(0x23c)]()){const _0x474273=_0x37350a[_0x26c99d(0x4fb)]();_0x474273[_0x26c99d(0x2f0)]&&await saveGameResultsAsSubmissions(_0x474273);}await updateDoc(_0x27270a,{'status':'podium'});}catch(_0x243c9d){console['error'](_0x26c99d(0x9ec),_0x243c9d);}}function updateAdminTeamDashboard(_0x5f57bb){const _0x52f4fd=_0x712516,_0x1e7532=document[_0x52f4fd(0x7e1)](_0x52f4fd(0x53c));if(!_0x1e7532)return;const _0x5adf13=_0x5f57bb[_0x52f4fd(0x9f2)]||_0x52f4fd(0x74c);if(_0x5adf13===_0x52f4fd(0x91a)){const _0x4fb6c8=Object['values'](_0x5f57bb[_0x52f4fd(0x381)]||{});if(_0x4fb6c8[_0x52f4fd(0x88b)]===0x0){_0x1e7532[_0x52f4fd(0x519)]=_0x52f4fd(0x1e2);return;}const _0x2e5e92=[..._0x4fb6c8][_0x52f4fd(0x778)]((_0x32500b,_0x3ba667)=>_0x3ba667[_0x52f4fd(0x634)]-_0x32500b[_0x52f4fd(0x634)]),_0x1673fa=_0x2e5e92['map']((_0x29766b,_0x5ab1d1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x5ab1d1+0x1)+_0x52f4fd(0x8b6)+_0x29766b[_0x52f4fd(0x931)]['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x29766b['score']+_0x52f4fd(0x3eb))[_0x52f4fd(0x85c)]('');let _0x20181f='';currentQuizData&&currentQuizData[_0x52f4fd(0x2f6)]&&(_0x20181f=currentQuizData[_0x52f4fd(0x2f6)][_0x52f4fd(0x4b7)]((_0x371208,_0x408cb3)=>{const _0x592256=_0x52f4fd;let _0x343c51=0x0;return _0x4fb6c8['forEach'](_0x44cf5b=>{const _0x4b9fff=_0x158c,_0x3f9c20=_0x44cf5b[_0x4b9fff(0xb13)]||[],_0x2712ab=_0x3f9c20[_0x4b9fff(0xafd)](_0x45fa4b=>_0x45fa4b[_0x4b9fff(0x4a6)]===_0x408cb3);_0x2712ab&&_0x2712ab[_0x4b9fff(0xa3c)]&&_0x343c51++;}),_0x592256(0x9ce)+(_0x408cb3+0x1)+_0x592256(0x54d)+_0x343c51+'\x20/\x20'+_0x4fb6c8[_0x592256(0x88b)]+_0x592256(0x470);})[_0x52f4fd(0x85c)]('')),_0x1e7532[_0x52f4fd(0x519)]=_0x52f4fd(0x507)+_0x1673fa+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x20181f+_0x52f4fd(0x791);}else{const _0x25c49f=_0x5f57bb[_0x52f4fd(0x77c)]||{},_0x5a3827=Object[_0x52f4fd(0x662)](_0x25c49f);if(_0x5a3827[_0x52f4fd(0x88b)]===0x0){_0x1e7532[_0x52f4fd(0x519)]=_0x52f4fd(0x56f);return;}const _0x763da1=_0x5a3827[_0x52f4fd(0x4b7)](_0x1e07ae=>({'name':_0x1e07ae,'score':_0x25c49f[_0x1e07ae][_0x52f4fd(0x634)]||0x0}))['sort']((_0xe6d89f,_0x5eb9e5)=>_0x5eb9e5[_0x52f4fd(0x634)]-_0xe6d89f['score']);let _0x27e9b2='';currentQuizData&&currentQuizData[_0x52f4fd(0x2f6)]&&(_0x27e9b2=currentQuizData[_0x52f4fd(0x2f6)][_0x52f4fd(0x4b7)]((_0x399ee2,_0x1c2d28)=>{const _0x297170=_0x52f4fd;let _0x42b436=0x0;return _0x5a3827[_0x297170(0x8e0)](_0x2ca541=>{const _0x129172=_0x297170,_0x4097ec=_0x25c49f[_0x2ca541]['answers']||[],_0x53fb0f=_0x4097ec[_0x129172(0xafd)](_0x467e37=>_0x467e37['questionIndex']===_0x1c2d28);if(_0x53fb0f&&_0x53fb0f['isCorrect'])_0x42b436++;}),_0x297170(0x62a)+(_0x1c2d28+0x1)+_0x297170(0x9e2)+_0x42b436+_0x297170(0xb05)+_0x5a3827['length']+_0x297170(0x9c6);})[_0x52f4fd(0x85c)]('')),_0x1e7532['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x763da1['map'](_0x5f1259=>_0x52f4fd(0x8f2)+_0x5f1259[_0x52f4fd(0x4ad)]+_0x52f4fd(0x5b7)+_0x5f1259[_0x52f4fd(0x634)]+_0x52f4fd(0x3c2))['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x27e9b2+_0x52f4fd(0x395);}}async function handleJoinTeamQuiz(){const _0x5805fe=_0x712516,_0x2d9b39=prompt(_0x5805fe(0xa74));if(!_0x2d9b39||_0x2d9b39[_0x5805fe(0x847)]()[_0x5805fe(0x88b)]!==0x4){showMessage(_0x5805fe(0x3b4));return;}try{const _0x4751ed=collection(db,_0x5805fe(0xade)+appId+_0x5805fe(0x711)),_0x378ccf=query(_0x4751ed,where(_0x5805fe(0xabc),'==',_0x2d9b39[_0x5805fe(0x847)]()),where(_0x5805fe(0x407),'==',_0x5805fe(0xa00))),_0x476556=await getDocs(_0x378ccf);if(_0x476556[_0x5805fe(0x47c)]){showMessage(_0x5805fe(0x915));return;}const _0x3f4700=_0x476556['docs'][0x0];currentTeamQuizId=_0x3f4700['id'];const _0x24a033=_0x3f4700[_0x5805fe(0x4fb)](),_0xa6ab52=doc(db,_0x5805fe(0xade)+appId+'/public/data/projects',_0x24a033[_0x5805fe(0x243)]),_0x57baf8=doc(db,_0x5805fe(0xade)+appId+_0x5805fe(0x4b0),_0x24a033[_0x5805fe(0x351)]),[_0x46ca3a,_0x56b02c]=await Promise['all']([getDoc(_0xa6ab52),getDoc(_0x57baf8)]);if(!_0x46ca3a[_0x5805fe(0x23c)]()||!_0x56b02c[_0x5805fe(0x23c)]())throw new Error(_0x5805fe(0x577));currentQuizData=getShuffledQuiz({'id':_0x56b02c['id'],..._0x56b02c['data']()});const _0x4745ca=_0x46ca3a[_0x5805fe(0x4fb)]();showTeamPlayerSelection(_0x4745ca['students'],currentQuizData['topic']);}catch(_0x311718){console['error']('Error\x20joining\x20team\x20quiz:',_0x311718),showMessage(_0x5805fe(0x90c)+_0x311718[_0x5805fe(0x7e4)]);}}async function handleJoinGroupActivity(){const _0x1a54a7=_0x712516,_0x5a41ee=prompt(_0x1a54a7(0x2ef));if(!_0x5a41ee||_0x5a41ee[_0x1a54a7(0x847)]()[_0x1a54a7(0x88b)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x25c895=_0x5a41ee[_0x1a54a7(0x847)]();showMessage(_0x1a54a7(0x5af));try{const _0x46a737=collection(db,_0x1a54a7(0xade)+appId+_0x1a54a7(0x711)),_0x47dee9=query(_0x46a737,where(_0x1a54a7(0xabc),'==',_0x25c895),where(_0x1a54a7(0x407),'==',_0x1a54a7(0xa00))),_0x7742a6=await getDocs(_0x47dee9);if(!_0x7742a6[_0x1a54a7(0x47c)]){console[_0x1a54a7(0xa87)](_0x1a54a7(0x47e)),await proceedWithTeamQuizJoin(_0x7742a6['docs'][0x0]);return;}const _0x13f2b4=collection(db,_0x1a54a7(0xade)+appId+_0x1a54a7(0x832)),_0x2cbd3d=query(_0x13f2b4,where('pin','==',_0x25c895),where(_0x1a54a7(0x407),'==',_0x1a54a7(0xa00))),_0x1d5aed=await getDocs(_0x2cbd3d);if(!_0x1d5aed[_0x1a54a7(0x47c)]){console['log']('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x1d5aed[_0x1a54a7(0xa6a)][0x0]);return;}showMessage(_0x1a54a7(0x7bb));}catch(_0x6143ff){console[_0x1a54a7(0x7e3)](_0x1a54a7(0x3f0),_0x6143ff),showMessage(_0x1a54a7(0x582)+_0x6143ff[_0x1a54a7(0x7e4)]);}}async function proceedWithTeamQuizJoin(_0x3a4c57){const _0x39ed50=_0x712516;currentTeamQuizId=_0x3a4c57['id'];const _0x329507=_0x3a4c57[_0x39ed50(0x4fb)](),_0x577fb5=doc(db,_0x39ed50(0xade)+appId+'/public/data/projects',_0x329507[_0x39ed50(0x243)]),_0x49efc7=doc(db,_0x39ed50(0xade)+appId+'/public/data/quizzes',_0x329507[_0x39ed50(0x351)]),[_0xbf75c4,_0x2df056]=await Promise[_0x39ed50(0x2e1)]([getDoc(_0x577fb5),getDoc(_0x49efc7)]);if(!_0xbf75c4[_0x39ed50(0x23c)]()||!_0x2df056['exists']())throw new Error(_0x39ed50(0x577));currentQuizData=getShuffledQuiz({'id':_0x2df056['id'],..._0x2df056[_0x39ed50(0x4fb)]()}),showTeamPlayerSelection(_0xbf75c4['data']()[_0x39ed50(0xa29)],currentQuizData[_0x39ed50(0x9b8)],_0x329507[_0x39ed50(0x9f2)]||'team'),messageModal[_0x39ed50(0x709)][_0x39ed50(0x484)](_0x39ed50(0x984));}async function proceedWithSyncQuizJoin(_0x22bd13){const _0x229f78=_0x712516;currentLiveGameId=_0x22bd13['id'];const _0x49affc=_0x22bd13['data'](),_0x24ad8b=doc(db,_0x229f78(0xade)+appId+_0x229f78(0x4b0),_0x49affc[_0x229f78(0x351)]),_0x2efd94=await getDoc(_0x24ad8b);if(!_0x2efd94[_0x229f78(0x23c)]())throw new Error(_0x229f78(0x96a));const _0x3adbf0=_0x2efd94[_0x229f78(0x4fb)](),_0x1ff43d=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3adbf0[_0x229f78(0x243)]),_0x27c67e=await getDoc(_0x1ff43d);if(!_0x27c67e['exists']())throw new Error(_0x229f78(0x3dc));currentQuizData=_0x49affc[_0x229f78(0x891)],showView(_0x229f78(0x56e)),showTeamPlayerSelection(_0x27c67e[_0x229f78(0x4fb)]()[_0x229f78(0xa29)],_0x3adbf0[_0x229f78(0x9b8)],_0x229f78(0x6eb)),document[_0x229f78(0x7e1)](_0x229f78(0x302))[_0x229f78(0x903)]=confirmAndJoinSyncGame,messageModal[_0x229f78(0x709)]['add'](_0x229f78(0x984));}function showTeamPlayerSelection(_0x1bec62,_0x517cf9,_0x466ddd='team'){const _0x34aa9f=_0x712516;studentInitialView[_0x34aa9f(0x709)][_0x34aa9f(0x484)](_0x34aa9f(0x984)),studentJoinGameView['classList'][_0x34aa9f(0x484)](_0x34aa9f(0x984)),document['getElementById']('student-team-selection-view')['classList']['remove'](_0x34aa9f(0x984));let _0x3df97d=_0x34aa9f(0x40c);if(_0x466ddd==='group')_0x3df97d=_0x34aa9f(0x834);else _0x466ddd==='sync'&&(_0x3df97d=_0x34aa9f(0x65f));document['getElementById']('team-quiz-topic')['textContent']=_0x3df97d+':\x20'+_0x517cf9;const _0x7435df=document[_0x34aa9f(0x7e1)](_0x34aa9f(0xa39));if(!_0x1bec62||_0x1bec62['length']===0x0){_0x7435df[_0x34aa9f(0x519)]=_0x34aa9f(0x44b),document[_0x34aa9f(0x7e1)](_0x34aa9f(0x302))[_0x34aa9f(0xab8)]=!![];return;}_0x7435df[_0x34aa9f(0x519)]=_0x1bec62['map'](_0x294af9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x294af9+_0x34aa9f(0x24e)+_0x294af9+_0x34aa9f(0xac6))[_0x34aa9f(0x85c)](''),document[_0x34aa9f(0x7e1)](_0x34aa9f(0x302))[_0x34aa9f(0xab8)]=![];}async function confirmAndStartTeamQuiz(){const _0x2cebcf=_0x712516,_0x2936f7=Array['from'](document[_0x2cebcf(0xa58)](_0x2cebcf(0x89a)))[_0x2cebcf(0x4b7)](_0x39e1bc=>_0x39e1bc[_0x2cebcf(0x848)]);if(_0x2936f7[_0x2cebcf(0x88b)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x2936f7,localPlayerTurnIndex=0x0;const _0x145310=doc(db,_0x2cebcf(0xade)+appId+_0x2cebcf(0x711),currentTeamQuizId),_0x1f8131=await getDoc(_0x145310);if(!_0x1f8131['exists']()){showMessage(_0x2cebcf(0x965));return;}const _0xec768d=_0x1f8131[_0x2cebcf(0x4fb)]();_0xec768d['mode']===_0x2cebcf(0x91a)&&(localGroupQuestionIndex=0x0);try{if(_0xec768d[_0x2cebcf(0x9f2)]==='group'){const _0x384dc2=userId,_0x4da4a4={};_0x4da4a4['groups.'+_0x384dc2]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x145310,_0x4da4a4);}else{const _0x415009={};localTeamPlayers[_0x2cebcf(0x8e0)](_0xdae9d3=>{const _0x5bc4c1=_0x2cebcf;_0x415009[_0x5bc4c1(0x97f)+_0xdae9d3]={'score':0x0,'answers':[]};}),await updateDoc(_0x145310,_0x415009);}document['getElementById'](_0x2cebcf(0x475))[_0x2cebcf(0x709)][_0x2cebcf(0x484)](_0x2cebcf(0x984)),renderTeamQuizQuestion();const _0x8b23f0={'gameId':currentTeamQuizId,'mode':_0xec768d[_0x2cebcf(0x9f2)]||'team','players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage['setItem']('activeGameSession',JSON[_0x2cebcf(0x44c)](_0x8b23f0)),listenForTeamQuizUpdates();}catch(_0x10cdbc){console[_0x2cebcf(0x7e3)](_0x2cebcf(0x7b2),_0x10cdbc),showMessage(_0x2cebcf(0x3a5));}}async function renderTeamQuizQuestion(){const _0x5a1459=_0x712516,_0x4f0474=doc(db,_0x5a1459(0xade)+appId+_0x5a1459(0x711),currentTeamQuizId),_0x111e07=await getDoc(_0x4f0474);if(!_0x111e07['exists']())return;const _0x2ba5d2=_0x111e07[_0x5a1459(0x4fb)](),_0x4e140b=_0x2ba5d2['mode']||_0x5a1459(0x74c);let _0x30f002,_0x7a3788;_0x4e140b===_0x5a1459(0x91a)?(_0x30f002=localGroupQuestionIndex,_0x7a3788='กลุ่ม:\x20'+localTeamPlayers['join'](',\x20')):(_0x30f002=Math[_0x5a1459(0xa67)](localPlayerTurnIndex/localTeamPlayers[_0x5a1459(0x88b)]),_0x7a3788='ตาของ:\x20'+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x5a1459(0x88b)]]);if(_0x30f002>=currentQuizData[_0x5a1459(0x2f6)][_0x5a1459(0x88b)]){displayTeamQuizFinalResults();return;}const _0x17a24d=currentQuizData[_0x5a1459(0x2f6)][_0x30f002],_0x3ec7c7=_0x17a24d[_0x5a1459(0xad0)]||currentQuizData['quizType'];let _0x473276=_0x17a24d['stem']||_0x17a24d[_0x5a1459(0x383)],_0x253fdc='';switch(_0x3ec7c7){case _0x5a1459(0xaa4):case _0x5a1459(0x21c):_0x253fdc=_0x17a24d['options']['map']((_0x3851f6,_0x882ff0)=>_0x5a1459(0x2a9)+_0x882ff0+_0x5a1459(0x6c2)+_0x882ff0+_0x5a1459(0xaf5)+_0x882ff0+'\x22>'+_0x3851f6+_0x5a1459(0xa94))['join']('');break;case _0x5a1459(0x34b):_0x253fdc=_0x5a1459(0x501);break;case _0x5a1459(0x344):case _0x5a1459(0xb16):_0x253fdc=_0x5a1459(0x3e4);break;case _0x5a1459(0x476):_0x253fdc='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x17a24d['allResponses'][_0x5a1459(0x4b7)](_0x357a27=>_0x5a1459(0x7ac)+_0x357a27+'\x22>'+_0x357a27+_0x5a1459(0xa85))[_0x5a1459(0x85c)]('')+'</select>';break;default:_0x253fdc='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x5a1459(0x519)]=_0x5a1459(0xb1e)+(_0x30f002+0x1)+_0x5a1459(0xb05)+currentQuizData['questions'][_0x5a1459(0x88b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>'+_0x7a3788+_0x5a1459(0x54e)+(_0x30f002+0x1)+'.\x20'+_0x473276+_0x5a1459(0x2b7)+(_0x17a24d['imageCode']?_0x5a1459(0x34e)+_0x17a24d[_0x5a1459(0x92b)]+_0x5a1459(0x6b3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x253fdc+_0x5a1459(0x807),studentQuizArea['classList'][_0x5a1459(0x5b3)](_0x5a1459(0x984));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);const _0x2a26d3=document['getElementById'](_0x5a1459(0xadd));_0x4e140b===_0x5a1459(0x91a)?_0x2a26d3[_0x5a1459(0x996)]('click',handleGroupAnswerSubmit):_0x2a26d3[_0x5a1459(0x996)](_0x5a1459(0x66f),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3899ac=_0x712516,_0x307613=doc(db,_0x3899ac(0xade)+appId+_0x3899ac(0x711),currentTeamQuizId),_0x59fbef=localGroupQuestionIndex,_0x303a60=currentQuizData[_0x3899ac(0x2f6)][_0x59fbef],_0x2b4f56=_0x303a60[_0x3899ac(0xad0)]||currentQuizData[_0x3899ac(0x817)];let _0x1f832a=null,_0x466323=![];if(_0x2b4f56===_0x3899ac(0x344)||_0x2b4f56==='fill_in_no_choices'){const _0x5cd14e=document[_0x3899ac(0x622)](_0x3899ac(0x933));if(!_0x5cd14e||!_0x5cd14e['value'][_0x3899ac(0x847)]()){showMessage(_0x3899ac(0x7b6));return;}_0x1f832a=_0x5cd14e[_0x3899ac(0x848)][_0x3899ac(0x847)](),_0x466323=await gradeShortAnswer(_0x1f832a,_0x303a60);}else{const _0x4e87f8=document[_0x3899ac(0x622)](_0x3899ac(0x298));if(!_0x4e87f8||_0x4e87f8[_0x3899ac(0x848)]===''){showMessage(_0x3899ac(0xa0c));return;}_0x1f832a=_0x4e87f8[_0x3899ac(0x848)];switch(_0x2b4f56){case _0x3899ac(0x34b):_0x466323=_0x1f832a===_0x3899ac(0xa46)===_0x303a60[_0x3899ac(0xa24)];break;case'matching_item':_0x466323=_0x1f832a===_0x303a60[_0x3899ac(0x1f2)];break;default:_0x466323=parseInt(_0x1f832a)===_0x303a60['correctAnswerIndex'];break;}}const _0x34c18d={'questionIndex':_0x59fbef,'isCorrect':_0x466323},_0x19a77c=userId,_0x505dfd={};_0x505dfd['groups.'+_0x19a77c+'.answers']=arrayUnion(_0x34c18d);_0x466323&&(_0x505dfd[_0x3899ac(0x563)+_0x19a77c+_0x3899ac(0x580)]=increment(0x1));try{await updateDoc(_0x307613,_0x505dfd),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x19347f){console[_0x3899ac(0x7e3)](_0x3899ac(0x704),_0x19347f),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x29b33a=_0x712516,_0x3c413f=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x29b33a(0x88b)]],_0x3fdcb1=Math[_0x29b33a(0xa67)](localPlayerTurnIndex/localTeamPlayers[_0x29b33a(0x88b)]),_0xbb97fe=currentQuizData['questions'][_0x3fdcb1],_0x35e420=_0xbb97fe['questionType']||currentQuizData[_0x29b33a(0x817)];let _0x59360f=null,_0x5c7a49=![];if(_0x35e420==='short_answer'||_0x35e420==='fill_in_no_choices'){const _0x38638c=document[_0x29b33a(0x622)](_0x29b33a(0x933));if(!_0x38638c||!_0x38638c[_0x29b33a(0x848)]['trim']()){showMessage('กรุณาพิมพ์คำตอบของคุณ');return;}_0x59360f=_0x38638c[_0x29b33a(0x848)][_0x29b33a(0x847)](),_0x5c7a49=await gradeShortAnswer(_0x59360f,_0xbb97fe);}else{const _0x58ea04=document[_0x29b33a(0x622)](_0x29b33a(0x298));if(!_0x58ea04||_0x58ea04['value']===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x59360f=_0x58ea04['value'];switch(_0x35e420){case _0x29b33a(0x34b):const _0x4e9f9a=_0x59360f==='true';_0x5c7a49=_0x4e9f9a===_0xbb97fe['correctAnswer'];break;case'matching_item':_0x5c7a49=_0x59360f===_0xbb97fe[_0x29b33a(0x1f2)];break;default:const _0x16ec28=parseInt(_0x59360f);_0x5c7a49=_0x16ec28===_0xbb97fe[_0x29b33a(0x4d1)];break;}}const _0x5cbae8={'questionIndex':_0x3fdcb1,'isCorrect':_0x5c7a49,'answerValue':_0x59360f},_0x3f0303=doc(db,_0x29b33a(0xade)+appId+_0x29b33a(0x711),currentTeamQuizId),_0x2016b2={};_0x2016b2[_0x29b33a(0x97f)+_0x3c413f+_0x29b33a(0x7ed)]=arrayUnion(_0x5cbae8);_0x5c7a49&&(_0x2016b2[_0x29b33a(0x97f)+_0x3c413f+_0x29b33a(0x580)]=increment(0x1));try{await updateDoc(_0x3f0303,_0x2016b2),localPlayerTurnIndex++;const _0x1b46dd=JSON[_0x29b33a(0x689)](sessionStorage[_0x29b33a(0x4c0)]('activeGameSession')||'{}');_0x1b46dd[_0x29b33a(0x816)]=localPlayerTurnIndex,sessionStorage[_0x29b33a(0x9f4)](_0x29b33a(0x401),JSON[_0x29b33a(0x44c)](_0x1b46dd)),renderTeamQuizQuestion();}catch(_0x4360b1){console[_0x29b33a(0x7e3)]('Error\x20submitting\x20team\x20answer:',_0x4360b1),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x3bacf1=_0x712516;studentQuizArea[_0x3bacf1(0x709)][_0x3bacf1(0x484)]('hidden'),studentResultArea['classList']['remove'](_0x3bacf1(0x984));const _0xf1eb10=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x2ab0f9=await getDoc(_0xf1eb10);if(!_0x2ab0f9[_0x3bacf1(0x23c)]()){studentResultArea['innerHTML']=_0x3bacf1(0x9fd);return;}const _0x4692ad=_0x2ab0f9[_0x3bacf1(0x4fb)]();let _0x11db9b=[];const _0x11d1b0=_0x4692ad['mode']||_0x3bacf1(0x74c);if(_0x11d1b0===_0x3bacf1(0x91a)){const _0x613716=_0x4692ad[_0x3bacf1(0x381)][userId];_0x613716?_0x11db9b=[{'name':_0x3bacf1(0xaf7)+localTeamPlayers[_0x3bacf1(0x85c)](',\x20'),'score':_0x613716['score']||0x0}]:_0x11db9b=[{'name':_0x3bacf1(0x480),'score':_0x3bacf1(0x735)}];}else _0x11db9b=localTeamPlayers[_0x3bacf1(0x4b7)](_0x3d3741=>({'name':_0x3d3741,'score':_0x4692ad[_0x3bacf1(0x77c)][_0x3d3741]?.[_0x3bacf1(0x634)]||0x0}))[_0x3bacf1(0x778)]((_0x166a98,_0x4538d9)=>_0x4538d9[_0x3bacf1(0x634)]-_0x166a98[_0x3bacf1(0x634)]);studentResultArea[_0x3bacf1(0x519)]=_0x3bacf1(0x8d5)+_0x11db9b['map'](_0x2baa23=>_0x3bacf1(0x50f)+_0x2baa23[_0x3bacf1(0x4ad)]+_0x3bacf1(0x2d7)+_0x2baa23[_0x3bacf1(0x634)]+_0x3bacf1(0xb1a))[_0x3bacf1(0x85c)]('')+_0x3bacf1(0x75d),sessionStorage[_0x3bacf1(0x322)](_0x3bacf1(0x401)),currentMode===_0x3bacf1(0x250)&&currentTeamQuizId&&setTimeout(()=>{const _0x432be0=_0x3bacf1;deleteDoc(doc(db,_0x432be0(0xade)+appId+_0x432be0(0x711),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x712516(0x84c),'pinnedProjects':[],'projectView':_0x712516(0x60a)};const allMathTopics=[{'category':_0x712516(0x36c),'name':_0x712516(0x614)},{'category':_0x712516(0x36c),'name':_0x712516(0x48f)},{'category':_0x712516(0x36c),'name':_0x712516(0x6c5)},{'category':_0x712516(0x36c),'name':_0x712516(0x52e)},{'category':_0x712516(0x36c),'name':_0x712516(0x321)},{'category':'จำนวนและการดำเนินการ','name':_0x712516(0x5a6)},{'category':'จำนวนและการดำเนินการ','name':_0x712516(0x234)},{'category':_0x712516(0x36c),'name':_0x712516(0x2f3)},{'category':_0x712516(0x36c),'name':_0x712516(0x44e)},{'category':_0x712516(0x36c),'name':_0x712516(0x700)},{'category':_0x712516(0x36c),'name':_0x712516(0x4c8)},{'category':'จำนวนและการดำเนินการ','name':_0x712516(0x94d)},{'category':_0x712516(0x36c),'name':_0x712516(0x686)},{'category':_0x712516(0x36c),'name':_0x712516(0x846)},{'category':_0x712516(0x36c),'name':_0x712516(0x380)},{'category':'จำนวนและการดำเนินการ','name':_0x712516(0x31f)},{'category':_0x712516(0x36c),'name':_0x712516(0x5ab)},{'category':_0x712516(0x36c),'name':'อัตราและอัตราหน่วย'},{'category':_0x712516(0x36c),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x712516(0x36c),'name':_0x712516(0x728)},{'category':_0x712516(0x36c),'name':_0x712516(0xa8a)},{'category':_0x712516(0x36c),'name':_0x712516(0x73d)},{'category':_0x712516(0x36c),'name':_0x712516(0x683)},{'category':_0x712516(0x36c),'name':_0x712516(0x571)},{'category':_0x712516(0x36c),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x712516(0xa20)},{'category':'จำนวนและการดำเนินการ','name':_0x712516(0x2b1)},{'category':_0x712516(0x36c),'name':_0x712516(0x77e)},{'category':_0x712516(0x36c),'name':_0x712516(0x6c4)},{'category':_0x712516(0x36c),'name':_0x712516(0x5e2)},{'category':_0x712516(0x36c),'name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x712516(0x36c),'name':_0x712516(0x75b)},{'category':_0x712516(0x36c),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x712516(0x36c),'name':'รากที่สองและที่สาม'},{'category':_0x712516(0x36c),'name':_0x712516(0x3f1)},{'category':_0x712516(0x36c),'name':_0x712516(0xad1)},{'category':_0x712516(0x40a),'name':_0x712516(0x8c2)},{'category':_0x712516(0x40a),'name':_0x712516(0x3fe)},{'category':'การวัด','name':_0x712516(0x6ee)},{'category':_0x712516(0x40a),'name':_0x712516(0xb27)},{'category':_0x712516(0x40a),'name':_0x712516(0x918)},{'category':'การวัด','name':_0x712516(0x69f)},{'category':_0x712516(0x40a),'name':_0x712516(0x4f6)},{'category':_0x712516(0x40a),'name':_0x712516(0x7ad)},{'category':_0x712516(0x40a),'name':_0x712516(0x49b)},{'category':'การวัด','name':_0x712516(0x742)},{'category':_0x712516(0x40a),'name':_0x712516(0x596)},{'category':_0x712516(0x40a),'name':'มุมและการวัดมุม'},{'category':_0x712516(0x40a),'name':_0x712516(0x3bb)},{'category':_0x712516(0x40a),'name':_0x712516(0x827)},{'category':'เรขาคณิต','name':_0x712516(0x377)},{'category':_0x712516(0x525),'name':_0x712516(0x572)},{'category':_0x712516(0x525),'name':_0x712516(0x456)},{'category':_0x712516(0x525),'name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x712516(0x625)},{'category':_0x712516(0x525),'name':_0x712516(0x5a1)},{'category':'เรขาคณิต','name':_0x712516(0x70e)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x712516(0x525),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x712516(0x525),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x712516(0x525),'name':_0x712516(0x2e6)},{'category':_0x712516(0x525),'name':_0x712516(0xa89)},{'category':'เรขาคณิต','name':_0x712516(0x638)},{'category':_0x712516(0x525),'name':_0x712516(0x488)},{'category':_0x712516(0x525),'name':_0x712516(0x6ec)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x712516(0x6fa)},{'category':_0x712516(0xab0),'name':_0x712516(0x7ab)},{'category':_0x712516(0xab0),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x712516(0xab0),'name':_0x712516(0x36e)},{'category':_0x712516(0xab0),'name':_0x712516(0x548)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x712516(0x7c2)},{'category':_0x712516(0xab0),'name':_0x712516(0x7f0)},{'category':_0x712516(0xab0),'name':_0x712516(0x92e)},{'category':_0x712516(0xab0),'name':_0x712516(0x43d)},{'category':_0x712516(0xab0),'name':_0x712516(0xb00)},{'category':_0x712516(0xab0),'name':_0x712516(0x300)},{'category':_0x712516(0xab0),'name':_0x712516(0x42f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x712516(0x5b0)},{'category':_0x712516(0xab0),'name':'อสมการเชิงเส้น'},{'category':_0x712516(0xab0),'name':_0x712516(0x861)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x712516(0x6c8)},{'category':_0x712516(0xab0),'name':_0x712516(0x30a)},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x712516(0xab0),'name':_0x712516(0x8e4)},{'category':_0x712516(0xab0),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x712516(0x435)},{'category':_0x712516(0xab0),'name':_0x712516(0x31e)},{'category':_0x712516(0xab0),'name':_0x712516(0x74d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x712516(0xab9)},{'category':_0x712516(0xab0),'name':_0x712516(0xac5)},{'category':_0x712516(0xab0),'name':_0x712516(0xab2)},{'category':_0x712516(0xab0),'name':_0x712516(0x849)},{'category':_0x712516(0xab0),'name':_0x712516(0x438)},{'category':_0x712516(0xab0),'name':_0x712516(0x9a9)},{'category':_0x712516(0xab0),'name':_0x712516(0x749)},{'category':_0x712516(0xab0),'name':_0x712516(0x892)},{'category':_0x712516(0xab0),'name':_0x712516(0x67d)},{'category':_0x712516(0xab0),'name':_0x712516(0x254)},{'category':_0x712516(0xab0),'name':_0x712516(0x920)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x712516(0x9e8)},{'category':_0x712516(0x5cc),'name':_0x712516(0x91f)},{'category':_0x712516(0x5cc),'name':_0x712516(0x911)},{'category':_0x712516(0x5cc),'name':_0x712516(0x906)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x712516(0x5cc),'name':_0x712516(0x8bb)},{'category':'เรขาคณิตวิเคราะห์','name':'วงกลม:\x20สมการและสมบัติ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x712516(0x1ec)},{'category':'เรขาคณิตวิเคราะห์','name':_0x712516(0x825)},{'category':_0x712516(0x5cc),'name':_0x712516(0x3a0)},{'category':_0x712516(0x318),'name':_0x712516(0xaeb)},{'category':_0x712516(0x318),'name':_0x712516(0x3d3)},{'category':'ตรีโกณมิติ','name':_0x712516(0x446)},{'category':_0x712516(0x318),'name':_0x712516(0x84d)},{'category':_0x712516(0x318),'name':_0x712516(0x799)},{'category':_0x712516(0x318),'name':_0x712516(0x6c0)},{'category':_0x712516(0x318),'name':_0x712516(0x38d)},{'category':_0x712516(0x318),'name':_0x712516(0x5f3)},{'category':_0x712516(0x318),'name':_0x712516(0x5a0)},{'category':_0x712516(0x318),'name':_0x712516(0x413)},{'category':_0x712516(0x318),'name':_0x712516(0x5e8)},{'category':_0x712516(0x4e4),'name':_0x712516(0x5c6)},{'category':_0x712516(0x4e4),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x712516(0x4e4),'name':'ตารางความถี่'},{'category':_0x712516(0x4e4),'name':_0x712516(0x556)},{'category':_0x712516(0x4e4),'name':_0x712516(0x5d7)},{'category':_0x712516(0x4e4),'name':_0x712516(0x1ff)},{'category':_0x712516(0x4e4),'name':_0x712516(0x26b)},{'category':_0x712516(0x4e4),'name':_0x712516(0x4ff)},{'category':'สถิติและความน่าจะเป็น','name':_0x712516(0x7dc)},{'category':_0x712516(0x4e4),'name':_0x712516(0x579)},{'category':'สถิติและความน่าจะเป็น','name':_0x712516(0x264)},{'category':'สถิติและความน่าจะเป็น','name':_0x712516(0x222)},{'category':_0x712516(0x4e4),'name':_0x712516(0x8f9)},{'category':_0x712516(0x4e4),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x712516(0x4e4),'name':_0x712516(0x39e)},{'category':'สถิติและความน่าจะเป็น','name':_0x712516(0x481)},{'category':_0x712516(0x4e4),'name':_0x712516(0x5a9)},{'category':_0x712516(0x4e4),'name':_0x712516(0x73e)},{'category':_0x712516(0x4e4),'name':_0x712516(0x87e)},{'category':_0x712516(0x4e4),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x712516(0x4e4),'name':_0x712516(0x417)},{'category':_0x712516(0x4e4),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x712516(0x4e4),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x712516(0x4e4),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x712516(0x85a)},{'category':_0x712516(0x581),'name':_0x712516(0x7fb)},{'category':_0x712516(0x581),'name':_0x712516(0x676)},{'category':_0x712516(0x581),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x712516(0x581),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x712516(0x581),'name':_0x712516(0x2e4)},{'category':_0x712516(0x581),'name':_0x712516(0x346)},{'category':_0x712516(0x581),'name':_0x712516(0x9a3)},{'category':_0x712516(0x581),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x712516(0x303)},{'category':_0x712516(0x581),'name':_0x712516(0xa45)},{'category':_0x712516(0xa8c),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x712516(0xa8c),'name':_0x712516(0x2ca)},{'category':_0x712516(0xa8c),'name':_0x712516(0x674)},{'category':_0x712516(0xa8c),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'อินเวอร์สของเมทริกซ์'},{'category':_0x712516(0xa8c),'name':_0x712516(0x7ce)},{'category':_0x712516(0xa8c),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x712516(0x772),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x712516(0x772),'name':_0x712516(0x256)},{'category':_0x712516(0x772),'name':_0x712516(0x399)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x712516(0x26a)},{'category':_0x712516(0x772),'name':_0x712516(0x76d)},{'category':_0x712516(0x48b),'name':_0x712516(0x342)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x712516(0x48b),'name':_0x712516(0x88d)}];function renderTopicCheckboxes(){const _0x594a0d=_0x712516,_0x57c21a=document['getElementById'](_0x594a0d(0x42d));if(!_0x57c21a)return;const _0x39bbf7=allMathTopics,_0x31dc8e=customMathTopics[_0x594a0d(0x4b7)](_0x87613c=>({'id':_0x87613c['id'],'category':'หัวข้อที่สร้างเอง','name':_0x87613c[_0x594a0d(0x4ad)]})),_0xc3b0cf=[..._0x39bbf7,..._0x31dc8e],_0x4393fc=_0xc3b0cf[_0x594a0d(0x2fa)]((_0xce4b7c,_0x1888d0)=>{const _0x246f9c=_0x594a0d;return!_0xce4b7c[_0x1888d0[_0x246f9c(0x3d2)]]&&(_0xce4b7c[_0x1888d0[_0x246f9c(0x3d2)]]=[]),_0xce4b7c[_0x1888d0[_0x246f9c(0x3d2)]][_0x246f9c(0x95b)](_0x1888d0),_0xce4b7c;},{});let _0x1272b5='';const _0x2b0816=['หัวข้อที่สร้างเอง',...Object[_0x594a0d(0x662)](_0x4393fc)[_0x594a0d(0xa4a)](_0xa44653=>_0xa44653!==_0x594a0d(0x30b))];for(const _0x47e958 of _0x2b0816){if(_0x4393fc[_0x47e958]){const _0x51d6a0=_0x47e958===_0x594a0d(0x30b),_0x4f1b51=_0x51d6a0?_0x594a0d(0x64d):_0x594a0d(0x409),_0x26f26d=_0x51d6a0?_0x594a0d(0x8a5):_0x594a0d(0xa12);_0x1272b5+=_0x594a0d(0x939),_0x1272b5+=_0x594a0d(0x58d)+_0x26f26d+_0x594a0d(0x2e0)+_0x4f1b51+'\x20mr-2\x22></i>'+_0x47e958+'</p>',_0x4393fc[_0x47e958][_0x594a0d(0x8e0)](_0x3ef2ca=>{const _0xa7f60=_0x594a0d,_0x3e6c6a=!!_0x3ef2ca['id'],_0x50dda6=_0x3e6c6a?_0xa7f60(0x332)+_0x3ef2ca['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ef2ca['id']+_0xa7f60(0x416)+_0x3ef2ca['id']+_0xa7f60(0xa15)+_0x3ef2ca['id']+_0xa7f60(0xa97):'';_0x1272b5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x3ef2ca['id']||'')+_0xa7f60(0x680)+_0x3ef2ca[_0xa7f60(0x4ad)]+_0xa7f60(0x3dd)+_0x3ef2ca['name']+_0xa7f60(0x857)+(_0x3e6c6a?_0xa7f60(0x1f1)+_0x3ef2ca[_0xa7f60(0x4ad)]+'\x22>':'')+_0xa7f60(0x7bf)+_0x50dda6+_0xa7f60(0x281);}),_0x1272b5+=_0x594a0d(0x6b3);}}_0x57c21a[_0x594a0d(0x519)]=_0x1272b5||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x57c21a[_0x594a0d(0x764)](_0x594a0d(0x913),updateSelectedTopicsCount),_0x57c21a['addEventListener']('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x320c10,_0x3e6efe){const _0x10bdf3=_0x712516;if(!_0x320c10||!_0x3e6efe[_0x10bdf3(0x847)]()){showMessage(_0x10bdf3(0x8f4));return;}try{const _0x83dc3d=doc(db,_0x10bdf3(0xade)+appId+_0x10bdf3(0x7b4),_0x320c10);await updateDoc(_0x83dc3d,{'name':_0x3e6efe[_0x10bdf3(0x847)]()}),showMessage(_0x10bdf3(0x629));}catch(_0x50109b){console[_0x10bdf3(0x7e3)]('Error\x20updating\x20custom\x20topic:',_0x50109b),showMessage(_0x10bdf3(0x9f1));}}function toggleTopicEditMode(_0x5bc464,_0x4b9c57){const _0x39ef6d=_0x712516;if(!_0x5bc464)return;const _0x2402b1=_0x5bc464[_0x39ef6d(0x622)](_0x39ef6d(0x5dc)),_0x274a15=_0x5bc464['querySelector'](_0x39ef6d(0xad6)),_0x2e1500=_0x5bc464[_0x39ef6d(0x622)](_0x39ef6d(0x339)),_0x3e82e3=_0x5bc464[_0x39ef6d(0x622)]('.topic-actions-edit');_0x2402b1[_0x39ef6d(0x709)][_0x39ef6d(0xa3d)]('hidden',_0x4b9c57),_0x274a15[_0x39ef6d(0x709)][_0x39ef6d(0xa3d)](_0x39ef6d(0x984),!_0x4b9c57),_0x2e1500[_0x39ef6d(0x709)][_0x39ef6d(0xa3d)](_0x39ef6d(0x984),_0x4b9c57),_0x3e82e3[_0x39ef6d(0x709)][_0x39ef6d(0xa3d)]('hidden',!_0x4b9c57),_0x4b9c57&&(_0x274a15[_0x39ef6d(0x216)](),_0x274a15[_0x39ef6d(0x2a2)]());}async function handleStartLiveRace(_0x4e3bda){const _0x15be58=_0x712516;let _0xa42f2a=allQuizzes[_0x15be58(0xafd)](_0x136aee=>_0x136aee['id']===_0x4e3bda);if(!_0xa42f2a){const _0x338e94=doc(db,_0x15be58(0xade)+appId+_0x15be58(0x4b0),_0x4e3bda),_0x1588a2=await getDoc(_0x338e94);if(!_0x1588a2[_0x15be58(0x23c)]()){showMessage(_0x15be58(0x96a));return;}_0xa42f2a={'id':_0x1588a2['id'],..._0x1588a2[_0x15be58(0x4fb)]()};}const _0x5d3c8b=getShuffledQuiz(_0xa42f2a);currentQuizData=_0x5d3c8b;const _0x2e9a9c=_0xa42f2a['projectId']||currentProjectId||null,_0x499d75=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x15be58(0x431)]();currentLiveGamePin=_0x499d75;try{const _0x1b6ffa=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x4e3bda,'projectId':_0x2e9a9c,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x499d75,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5d3c8b});currentLiveGameId=_0x1b6ffa['id'],showAdminLobbyView(_0x499d75,_0xa42f2a[_0x15be58(0x9b8)]),listenForLiveGameUpdates();}catch(_0x540a3f){console['error']('Error\x20starting\x20live\x20race:',_0x540a3f),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x183695=_0x712516,_0x3eeba0=document[_0x183695(0x7e1)](_0x183695(0x42d)),_0x4aeab9=_0x3eeba0['querySelectorAll'](_0x183695(0x25b))['length'],_0x3c7307=document[_0x183695(0x7e1)]('selected-topics-count');_0x4aeab9>0x0?_0x3c7307[_0x183695(0x8b8)]=_0x183695(0x901)+_0x4aeab9+_0x183695(0x83d):_0x3c7307['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x712516(0x6ab),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x712516(0x3d0),quizLeaderboardSortOrder=_0x712516(0x702),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x712516(0x41d),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x712516(0x74e),scratchpadPenColor=_0x712516(0x5d1),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4d845f,_0x3e1149){const _0x34f498=_0x712516;return Math[_0x34f498(0x8d4)](Math['pow'](_0x4d845f['x']-_0x3e1149['x'],0x2)+Math[_0x34f498(0x78c)](_0x4d845f['y']-_0x3e1149['y'],0x2));}function getMidpoint(_0x46c3db,_0x1d0a2f){return{'x':(_0x46c3db['x']+_0x1d0a2f['x'])/0x2,'y':(_0x46c3db['y']+_0x1d0a2f['y'])/0x2};}function getTransformedPoint(_0xda590f,_0x3b5bba){return{'x':(_0xda590f-scratchpadOffset['x'])/scratchpadScale,'y':(_0x3b5bba-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x48e271=_0x712516;if(!scratchpadCtx)return;const _0x31002c=scratchpadCtx[_0x48e271(0x529)],_0x76d83f=window[_0x48e271(0x4d7)]||0x1,_0xe3215a=document['getElementById'](_0x48e271(0x518));_0xe3215a&&(_0xe3215a[_0x48e271(0x38f)][_0x48e271(0xa1e)]=_0x48e271(0x7e9),_0xe3215a[_0x48e271(0x38f)][_0x48e271(0x269)]=_0x48e271(0x1fc)+scratchpadOffset['x']+_0x48e271(0x8d2)+scratchpadOffset['y']+_0x48e271(0x5db)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x76d83f,0x0,0x0,_0x76d83f,0x0,0x0),scratchpadCtx[_0x48e271(0x647)](0x0,0x0,_0x31002c[_0x48e271(0x726)],_0x31002c[_0x48e271(0x7ba)]),scratchpadCtx['restore'](),scratchpadCtx[_0x48e271(0x79c)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x48e271(0x9f0)](scratchpadScale,scratchpadScale),strokes[_0x48e271(0x8e0)](_0x37ab59=>{drawStroke(_0x37ab59);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x48e271(0x2f4)]();}function handlePointerDown(_0x54e86b){const _0xcb6cb4=_0x712516;_0x54e86b[_0xcb6cb4(0x6db)]();const _0x18974d=scratchpadCtx[_0xcb6cb4(0x529)],_0x596776=_0x18974d[_0xcb6cb4(0x780)](),_0x537fec=_0x54e86b[_0xcb6cb4(0x23b)]||(_0x54e86b[_0xcb6cb4(0xa16)]?_0xcb6cb4(0x2d0):'mouse');if(_0x537fec===_0xcb6cb4(0x74e)||_0x537fec===_0xcb6cb4(0x354)){if(_0x54e86b[_0xcb6cb4(0x23b)]===_0xcb6cb4(0x354)&&_0x54e86b[_0xcb6cb4(0x6a8)]!==0x0){_0x54e86b['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x54e86b[_0xcb6cb4(0x7e2)],'y':_0x54e86b[_0xcb6cb4(0x9bc)]},_0x18974d['style'][_0xcb6cb4(0xa26)]=_0xcb6cb4(0x7cf));return;}activeTool===_0xcb6cb4(0x4c5)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x3c9a2e=getTransformedPoint(_0x54e86b[_0xcb6cb4(0x7e2)]-_0x596776['left'],_0x54e86b[_0xcb6cb4(0x9bc)]-_0x596776['top']);let _0x4a2be4={'tool':activeTool,'points':[_0x3c9a2e]};if(activeTool===_0xcb6cb4(0x5f7))_0x4a2be4[_0xcb6cb4(0x8ec)]=scratchpadHighlighterColor,_0x4a2be4[_0xcb6cb4(0xa84)]=scratchpadHighlighterSize;else activeTool===_0xcb6cb4(0x4c5)?(_0x4a2be4[_0xcb6cb4(0x8ec)]=scratchpadPenColor,_0x4a2be4[_0xcb6cb4(0xa84)]=scratchpadPenSize):(_0x4a2be4['color']=scratchpadPenColor,_0x4a2be4[_0xcb6cb4(0xa84)]=scratchpadPenSize);currentStroke=_0x4a2be4;}else _0x54e86b['touches']&&(_0x54e86b[_0xcb6cb4(0xa16)][_0xcb6cb4(0x88b)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x54e86b[_0xcb6cb4(0xa16)][0x0]['clientX'],'y':_0x54e86b[_0xcb6cb4(0xa16)][0x0][_0xcb6cb4(0x9bc)]},{'x':_0x54e86b[_0xcb6cb4(0xa16)][0x1][_0xcb6cb4(0x7e2)],'y':_0x54e86b['touches'][0x1][_0xcb6cb4(0x9bc)]}),initialPinchDistance=getDistance({'x':_0x54e86b[_0xcb6cb4(0xa16)][0x0][_0xcb6cb4(0x7e2)],'y':_0x54e86b['touches'][0x0]['clientY']},{'x':_0x54e86b[_0xcb6cb4(0xa16)][0x1]['clientX'],'y':_0x54e86b[_0xcb6cb4(0xa16)][0x1][_0xcb6cb4(0x9bc)]})));}function animateTrail(){const _0x47b4f4=_0x712516,_0x11e1f6=Date[_0x47b4f4(0x8a2)]();let _0x22016a=![];for(let _0xe8ca86=strokes[_0x47b4f4(0x88b)]-0x1;_0xe8ca86>=0x0;_0xe8ca86--){const _0x293ddb=strokes[_0xe8ca86];if(_0x293ddb['tool']===_0x47b4f4(0x4c5)&&_0x293ddb[_0x47b4f4(0x839)]){const _0x1dfa9c=_0x11e1f6-_0x293ddb[_0x47b4f4(0x839)];_0x1dfa9c>=TRAIL_DURATION?strokes['splice'](_0xe8ca86,0x1):(_0x293ddb['opacity']=0x1-_0x1dfa9c/TRAIL_DURATION,_0x22016a=!![]);}}redrawScratchpad(),_0x22016a?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5e1257){const _0x34b84b=_0x712516;if(!_0x5e1257||_0x5e1257['points'][_0x34b84b(0x88b)]<0x1)return;scratchpadCtx[_0x34b84b(0x79c)](),scratchpadCtx[_0x34b84b(0x6d4)]='round',scratchpadCtx[_0x34b84b(0xa72)]='round';if(_0x5e1257[_0x34b84b(0x86c)]===_0x34b84b(0x4c5)){const _0x589d6d=_0x5e1257[_0x34b84b(0xa84)]/scratchpadScale;scratchpadCtx[_0x34b84b(0x606)]=_0x5e1257[_0x34b84b(0x22e)]??0x1,scratchpadCtx[_0x34b84b(0x473)]=_0x34b84b(0x5a4),scratchpadCtx[_0x34b84b(0x2b6)]=_0x589d6d*0x3,scratchpadCtx[_0x34b84b(0x949)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x34b84b(0x992)]=_0x589d6d*2.5,scratchpadCtx[_0x34b84b(0x33c)](),scratchpadCtx[_0x34b84b(0x677)](_0x5e1257[_0x34b84b(0x6f4)][0x0]['x'],_0x5e1257[_0x34b84b(0x6f4)][0x0]['y']);for(let _0x4da7e1=0x1;_0x4da7e1<_0x5e1257['points'][_0x34b84b(0x88b)]-0x1;_0x4da7e1++){const _0x1e5df9=getMidpoint(_0x5e1257[_0x34b84b(0x6f4)][_0x4da7e1],_0x5e1257[_0x34b84b(0x6f4)][_0x4da7e1+0x1]);scratchpadCtx[_0x34b84b(0x526)](_0x5e1257[_0x34b84b(0x6f4)][_0x4da7e1]['x'],_0x5e1257[_0x34b84b(0x6f4)][_0x4da7e1]['y'],_0x1e5df9['x'],_0x1e5df9['y']);}scratchpadCtx['stroke'](),scratchpadCtx['shadowColor']='transparent',scratchpadCtx[_0x34b84b(0x2b6)]=0x0,scratchpadCtx['strokeStyle']=_0x34b84b(0x8fb),scratchpadCtx[_0x34b84b(0x992)]=_0x589d6d,scratchpadCtx['stroke'](),scratchpadCtx[_0x34b84b(0x89e)]();}else{if(_0x5e1257[_0x34b84b(0x86c)]===_0x34b84b(0x5f7)){scratchpadCtx['globalCompositeOperation']=_0x34b84b(0x61a),scratchpadCtx[_0x34b84b(0x949)]=_0x5e1257[_0x34b84b(0x8ec)],scratchpadCtx[_0x34b84b(0x992)]=_0x5e1257[_0x34b84b(0xa84)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x5e1257['points'][0x0]['x'],_0x5e1257['points'][0x0]['y']);for(let _0xc443a3=0x1;_0xc443a3<_0x5e1257[_0x34b84b(0x6f4)][_0x34b84b(0x88b)]-0x1;_0xc443a3++){const _0x816fc6=getMidpoint(_0x5e1257['points'][_0xc443a3],_0x5e1257[_0x34b84b(0x6f4)][_0xc443a3+0x1]);scratchpadCtx['quadraticCurveTo'](_0x5e1257[_0x34b84b(0x6f4)][_0xc443a3]['x'],_0x5e1257[_0x34b84b(0x6f4)][_0xc443a3]['y'],_0x816fc6['x'],_0x816fc6['y']);}scratchpadCtx[_0x34b84b(0x644)](),scratchpadCtx[_0x34b84b(0x89e)]();}else{scratchpadCtx[_0x34b84b(0x313)]=_0x5e1257[_0x34b84b(0x86c)]==='eraser'?_0x34b84b(0x4e3):_0x34b84b(0x593),scratchpadCtx['strokeStyle']=_0x5e1257[_0x34b84b(0x8ec)],scratchpadCtx[_0x34b84b(0x992)]=_0x5e1257[_0x34b84b(0xa84)],scratchpadCtx[_0x34b84b(0x33c)](),scratchpadCtx[_0x34b84b(0x677)](_0x5e1257[_0x34b84b(0x6f4)][0x0]['x'],_0x5e1257[_0x34b84b(0x6f4)][0x0]['y']);for(let _0x1a3025=0x1;_0x1a3025<_0x5e1257[_0x34b84b(0x6f4)]['length']-0x1;_0x1a3025++){const _0x288391=getMidpoint(_0x5e1257['points'][_0x1a3025],_0x5e1257[_0x34b84b(0x6f4)][_0x1a3025+0x1]);scratchpadCtx[_0x34b84b(0x526)](_0x5e1257[_0x34b84b(0x6f4)][_0x1a3025]['x'],_0x5e1257[_0x34b84b(0x6f4)][_0x1a3025]['y'],_0x288391['x'],_0x288391['y']);}scratchpadCtx[_0x34b84b(0x644)](),scratchpadCtx[_0x34b84b(0x89e)]();}}scratchpadCtx[_0x34b84b(0x2f4)]();}function handlePointerMove(_0x4ce67b){const _0x4ed04d=_0x712516;_0x4ce67b[_0x4ed04d(0x6db)]();const _0x36fc6f=scratchpadCtx['canvas'],_0x178c95=_0x36fc6f['getBoundingClientRect']();if(_0x4ce67b[_0x4ed04d(0xa16)]){if(_0x4ce67b['touches'][_0x4ed04d(0x88b)]===0x1&&isDrawingOnScratchpad){const _0x4a881b=getTransformedPoint(_0x4ce67b[_0x4ed04d(0xa16)][0x0][_0x4ed04d(0x7e2)]-_0x178c95['left'],_0x4ce67b[_0x4ed04d(0xa16)][0x0][_0x4ed04d(0x9bc)]-_0x178c95[_0x4ed04d(0x9c4)]);currentStroke[_0x4ed04d(0x6f4)][_0x4ed04d(0x95b)](_0x4a881b),redrawScratchpad();}else{if(_0x4ce67b['touches'][_0x4ed04d(0x88b)]===0x2&&isPanning){const _0x1ae1a9=getDistance({'x':_0x4ce67b[_0x4ed04d(0xa16)][0x0][_0x4ed04d(0x7e2)],'y':_0x4ce67b[_0x4ed04d(0xa16)][0x0][_0x4ed04d(0x9bc)]},{'x':_0x4ce67b[_0x4ed04d(0xa16)][0x1][_0x4ed04d(0x7e2)],'y':_0x4ce67b['touches'][0x1]['clientY']}),_0x4892ef=getMidpoint({'x':_0x4ce67b[_0x4ed04d(0xa16)][0x0][_0x4ed04d(0x7e2)],'y':_0x4ce67b[_0x4ed04d(0xa16)][0x0][_0x4ed04d(0x9bc)]},{'x':_0x4ce67b[_0x4ed04d(0xa16)][0x1]['clientX'],'y':_0x4ce67b[_0x4ed04d(0xa16)][0x1][_0x4ed04d(0x9bc)]}),_0x5483cd=_0x1ae1a9/ initialPinchDistance,_0x4d459c=Math[_0x4ed04d(0x822)](Math[_0x4ed04d(0xa7d)](scratchpadScale*_0x5483cd,MIN_SCALE),MAX_SCALE),_0x5df791=_0x4892ef['x']-panStart['x'],_0x283c82=_0x4892ef['y']-panStart['y'];scratchpadOffset['x']=_0x4892ef['x']-(_0x4892ef['x']-scratchpadOffset['x'])*(_0x4d459c/scratchpadScale),scratchpadOffset['y']=_0x4892ef['y']-(_0x4892ef['y']-scratchpadOffset['y'])*(_0x4d459c/scratchpadScale),scratchpadOffset['x']+=_0x5df791,scratchpadOffset['y']+=_0x283c82,scratchpadScale=_0x4d459c,initialPinchDistance=_0x1ae1a9,panStart=_0x4892ef,redrawScratchpad();}}}else{if(isMousePanning){const _0x4e91d6=_0x4ce67b[_0x4ed04d(0x7e2)]-panStart['x'],_0x212454=_0x4ce67b[_0x4ed04d(0x9bc)]-panStart['y'];scratchpadOffset['x']+=_0x4e91d6,scratchpadOffset['y']+=_0x212454,panStart={'x':_0x4ce67b[_0x4ed04d(0x7e2)],'y':_0x4ce67b[_0x4ed04d(0x9bc)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x29df49=getTransformedPoint(_0x4ce67b[_0x4ed04d(0x7e2)]-_0x178c95[_0x4ed04d(0x6f2)],_0x4ce67b['clientY']-_0x178c95[_0x4ed04d(0x9c4)]);currentStroke[_0x4ed04d(0x6f4)]['push'](_0x29df49),redrawScratchpad();}}}}function handlePointerUp(_0x157f39){const _0x5e0fea=_0x712516;_0x157f39['preventDefault']();const _0x23033c=scratchpadCtx[_0x5e0fea(0x529)];isMousePanning&&(isMousePanning=![],_0x23033c['style'][_0x5e0fea(0xa26)]=_0x5e0fea(0x347)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x5e0fea(0x88b)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x5e0fea(0x86c)]===_0x5e0fea(0x4c5)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x1e56a6=_0x5e0fea,_0x1e355b=strokes[_0x1e56a6(0xa4a)](_0x1ee30c=>_0x1ee30c['tool']===_0x1e56a6(0x4c5)&&!_0x1ee30c[_0x1e56a6(0x839)]);if(_0x1e355b[_0x1e56a6(0x88b)]>0x0){const _0x26863e=Date[_0x1e56a6(0x8a2)]();_0x1e355b[_0x1e56a6(0x8e0)](_0x54e017=>_0x54e017[_0x1e56a6(0x839)]=_0x26863e),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x13de49){const _0x34d812=_0x712516;_0x13de49[_0x34d812(0x6db)]();const _0x1bb68d=_0x13de49[_0x34d812(0x25f)]*-0.005,_0x4d03c4=Math[_0x34d812(0x822)](Math[_0x34d812(0xa7d)](scratchpadScale+_0x1bb68d,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x13de49[_0x34d812(0x7e2)]-(_0x13de49['clientX']-scratchpadOffset['x'])*(_0x4d03c4/scratchpadScale),scratchpadOffset['y']=_0x13de49[_0x34d812(0x9bc)]-(_0x13de49[_0x34d812(0x9bc)]-scratchpadOffset['y'])*(_0x4d03c4/scratchpadScale),scratchpadScale=_0x4d03c4,redrawScratchpad();}function undo(){const _0x2c371a=_0x712516;strokes['length']>0x0&&(redoStrokes[_0x2c371a(0x95b)](strokes[_0x2c371a(0x64f)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x4b8bcd=_0x712516;redoStrokes[_0x4b8bcd(0x88b)]>0x0&&(strokes[_0x4b8bcd(0x95b)](redoStrokes[_0x4b8bcd(0x64f)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x46ba97=_0x712516;document['getElementById']('undo-btn')[_0x46ba97(0xab8)]=strokes['length']===0x0,document['getElementById'](_0x46ba97(0x2bd))[_0x46ba97(0xab8)]=redoStrokes[_0x46ba97(0x88b)]===0x0;}function openScratchpad(_0x3313d7,_0x5ea429){const _0x8fef8a=_0x712516,_0x431ef4=document[_0x8fef8a(0x7e1)](_0x8fef8a(0x9bf)),_0x3b8ee8=document[_0x8fef8a(0x7e1)](_0x8fef8a(0x2a5)),_0x2cf89d=document[_0x8fef8a(0x7e1)](_0x8fef8a(0x5bd)),_0x18c139=document[_0x8fef8a(0x7e1)]('scratchpad-controls');_0x3b8ee8[_0x8fef8a(0x8b8)]=_0x3313d7[_0x8fef8a(0x20f)]||_0x3313d7[_0x8fef8a(0x383)],_0x2cf89d[_0x8fef8a(0x519)]=_0x5ea429[_0x8fef8a(0x4b7)]((_0x520545,_0x59d78d)=>_0x8fef8a(0xa9c)+String['fromCharCode'](0x41+_0x59d78d)+'.\x20'+_0x520545+_0x8fef8a(0x6b3))[_0x8fef8a(0x85c)](''),_0x18c139[_0x8fef8a(0x519)]=_0x8fef8a(0x272),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x431ef4['classList'][_0x8fef8a(0x5b3)](_0x8fef8a(0x984)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x3b8ee8,_0x2cf89d]);}function initializeScratchpadCanvas(){const _0x44311c=_0x712516,_0x29b994=document[_0x44311c(0x7e1)]('scratchpad-canvas'),_0x201cd2=document[_0x44311c(0x622)](_0x44311c(0xac9));if(!_0x29b994||!_0x201cd2)return;scratchpadCtx=_0x29b994[_0x44311c(0xab3)]('2d',{'willReadFrequently':!![]});const _0x2d2ff5=window[_0x44311c(0x4d7)]||0x1,_0x46e984=_0x201cd2[_0x44311c(0x780)]();_0x29b994[_0x44311c(0x726)]=_0x46e984[_0x44311c(0x726)]*_0x2d2ff5,_0x29b994['height']=_0x46e984[_0x44311c(0x7ba)]*_0x2d2ff5,_0x29b994[_0x44311c(0x38f)][_0x44311c(0x726)]=_0x46e984['width']+'px',_0x29b994[_0x44311c(0x38f)][_0x44311c(0x7ba)]=_0x46e984['height']+'px',scratchpadCtx[_0x44311c(0x9f0)](_0x2d2ff5,_0x2d2ff5),scratchpadCtx[_0x44311c(0x6d4)]='round',scratchpadCtx[_0x44311c(0xa72)]='round',_0x29b994[_0x44311c(0x764)](_0x44311c(0x46c),handlePointerDown),_0x29b994[_0x44311c(0x764)]('pointermove',handlePointerMove),_0x29b994['removeEventListener']('pointerup',handlePointerUp),_0x29b994[_0x44311c(0x764)](_0x44311c(0x672),handlePointerUp),_0x29b994[_0x44311c(0x764)]('wheel',handleWheel),_0x29b994['removeEventListener'](_0x44311c(0x304),handlePointerDown),_0x29b994[_0x44311c(0x764)]('touchmove',handlePointerMove),_0x29b994[_0x44311c(0x764)](_0x44311c(0xa90),handlePointerUp),_0x29b994[_0x44311c(0x996)](_0x44311c(0x46c),handlePointerDown),_0x29b994['addEventListener'](_0x44311c(0x809),handlePointerMove),_0x29b994['addEventListener'](_0x44311c(0x246),handlePointerUp),_0x29b994[_0x44311c(0x996)](_0x44311c(0x672),handlePointerUp),_0x29b994[_0x44311c(0x996)]('wheel',handleWheel,{'passive':![]}),_0x29b994['addEventListener'](_0x44311c(0x304),handlePointerDown,{'passive':![]}),_0x29b994[_0x44311c(0x996)](_0x44311c(0x20d),handlePointerMove,{'passive':![]}),_0x29b994[_0x44311c(0x996)](_0x44311c(0xa90),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5a8e37=_0x712516,_0x27c7d6=document['getElementById'](_0x5a8e37(0x9bf)),_0x5e55ef=document[_0x5a8e37(0x7e1)](_0x5a8e37(0x9ca));_0x5e55ef['innerHTML']=_0x5a8e37(0x1ea)+scratchpadHighlighterSize+_0x5a8e37(0x508);const _0x24a896=document[_0x5a8e37(0x7e1)](_0x5a8e37(0x31c)),_0x2a292e=document[_0x5a8e37(0x7e1)](_0x5a8e37(0x28a)),_0x4bf796=document[_0x5a8e37(0x7e1)](_0x5a8e37(0x800)),_0x27626b=document['getElementById'](_0x5a8e37(0x52b)),_0x3c91f0=document[_0x5a8e37(0x7e1)](_0x5a8e37(0xaa1)),_0x1c87b6=document['getElementById'](_0x5a8e37(0xa44)),_0x81fcef=[_0x24a896,_0x2a292e,_0x4bf796,_0x27626b];document['getElementById'](_0x5a8e37(0x6d5))[_0x5a8e37(0x996)]('click',()=>_0x27c7d6[_0x5a8e37(0x709)]['add'](_0x5a8e37(0x984))),document[_0x5a8e37(0x7e1)]('reset-view-btn')['addEventListener'](_0x5a8e37(0x66f),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById']('scratchpad-clear-btn')[_0x5a8e37(0x996)](_0x5a8e37(0x66f),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5a8e37(0x7e1)]('undo-btn')[_0x5a8e37(0x996)](_0x5a8e37(0x66f),undo),document[_0x5a8e37(0x7e1)]('redo-btn')['addEventListener'](_0x5a8e37(0x66f),redo);const _0x548cc3=_0x13dff6=>{const _0x10f802=_0x5a8e37;_0x81fcef['forEach'](_0xbbe682=>_0xbbe682[_0x10f802(0x709)][_0x10f802(0x5b3)](_0x10f802(0x2e2))),_0x13dff6[_0x10f802(0x709)][_0x10f802(0x484)]('active');const _0x16789f=_0x13dff6===_0x27626b;_0x3c91f0[_0x10f802(0x709)][_0x10f802(0xa3d)]('hidden',_0x16789f),_0x1c87b6[_0x10f802(0x709)][_0x10f802(0xa3d)](_0x10f802(0x984),!_0x16789f);};_0x24a896[_0x5a8e37(0x996)]('click',()=>{const _0x204df8=_0x5a8e37;activeTool=_0x204df8(0x74e),_0x548cc3(_0x24a896);}),_0x2a292e[_0x5a8e37(0x996)](_0x5a8e37(0x66f),()=>{const _0x5dcc71=_0x5a8e37;activeTool=_0x5dcc71(0x4a2),_0x548cc3(_0x2a292e);}),_0x4bf796['addEventListener']('click',()=>{const _0x57232e=_0x5a8e37;activeTool=_0x57232e(0x4c5),_0x548cc3(_0x4bf796);}),_0x27626b['addEventListener'](_0x5a8e37(0x66f),()=>{const _0x2659af=_0x5a8e37;activeTool=_0x2659af(0x5f7),_0x548cc3(_0x27626b);}),_0x3c91f0[_0x5a8e37(0xa58)](_0x5a8e37(0x7b3))[_0x5a8e37(0x8e0)](_0x56f146=>{const _0x39533c=_0x5a8e37;_0x56f146[_0x39533c(0x996)]('click',_0x1f3429=>{const _0x4f5fc2=_0x39533c;scratchpadPenSize=parseInt(_0x1f3429[_0x4f5fc2(0x815)]['dataset'][_0x4f5fc2(0xa84)],0xa),_0x3c91f0[_0x4f5fc2(0xa58)](_0x4f5fc2(0x7b3))[_0x4f5fc2(0x8e0)](_0x3d951f=>_0x3d951f['classList']['remove'](_0x4f5fc2(0x2e2))),_0x1f3429['target']['classList'][_0x4f5fc2(0x484)]('active');});}),_0x3c91f0[_0x5a8e37(0xa58)](_0x5a8e37(0x721))[_0x5a8e37(0x8e0)](_0x27e352=>{const _0x193b4e=_0x5a8e37;_0x27e352['addEventListener'](_0x193b4e(0x66f),_0x32883c=>{const _0x29205a=_0x193b4e;scratchpadPenColor=_0x32883c[_0x29205a(0x815)]['dataset']['color'],_0x3c91f0[_0x29205a(0xa58)]('.pen-color-btn')['forEach'](_0x1bbdd6=>_0x1bbdd6['classList'][_0x29205a(0x5b3)]('active')),_0x32883c[_0x29205a(0x815)][_0x29205a(0x709)][_0x29205a(0x484)]('active');});}),_0x1c87b6[_0x5a8e37(0xa58)](_0x5a8e37(0x233))['forEach'](_0x4b0523=>{const _0x1c21b3=_0x5a8e37;_0x4b0523['addEventListener'](_0x1c21b3(0x66f),_0x2a5049=>{const _0x3287bb=_0x1c21b3;scratchpadHighlighterColor=_0x2a5049[_0x3287bb(0x815)]['dataset']['color'],_0x1c87b6[_0x3287bb(0xa58)](_0x3287bb(0x233))[_0x3287bb(0x8e0)](_0x391fdb=>_0x391fdb[_0x3287bb(0x709)][_0x3287bb(0x5b3)](_0x3287bb(0x2e2))),_0x2a5049[_0x3287bb(0x815)][_0x3287bb(0x709)][_0x3287bb(0x484)](_0x3287bb(0x2e2));});});const _0xedb2d6=document[_0x5a8e37(0x7e1)](_0x5a8e37(0x9a0)),_0x179462=document[_0x5a8e37(0x7e1)]('highlighter-size-value');_0xedb2d6[_0x5a8e37(0x996)]('input',_0x8af056=>{const _0x166c1d=_0x5a8e37,_0x27e234=parseInt(_0x8af056[_0x166c1d(0x815)][_0x166c1d(0x848)],0xa);scratchpadHighlighterSize=_0x27e234,_0x179462['textContent']=_0x27e234;}),window['addEventListener'](_0x5a8e37(0x970),()=>{const _0x4c6327=_0x5a8e37;!_0x27c7d6['classList'][_0x4c6327(0xb03)](_0x4c6327(0x984))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x712516(0xa95),'description':_0x712516(0x259),'icon':_0x712516(0xaf4)},'QUICK_THINKER':{'id':_0x712516(0x3b6),'name':'เซียนสมองไว','description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x712516(0x7f9),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x712516(0x4b4)},'FIRST_TRY_ACE':{'id':_0x712516(0x350),'name':_0x712516(0x9c0),'description':_0x712516(0x219),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x712516(0xb12),'name':_0x712516(0x467),'description':_0x712516(0x312),'icon':_0x712516(0x60c)},'SPECIALIST':{'id':_0x712516(0x52d),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x712516(0x84f)},'PERSEVERANCE':{'id':_0x712516(0x70c),'name':_0x712516(0x29c),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x712516(0x4d6)}},firebaseConfig={'apiKey':_0x712516(0x5fc),'authDomain':_0x712516(0x311),'projectId':'ai-quiz-app-aefee','storageBucket':_0x712516(0xa65),'messagingSenderId':_0x712516(0x4f1),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x712516(0x527)},appId=typeof __app_id!=='undefined'?__app_id:_0x712516(0x879),adminView=document['getElementById']('admin-view'),studentView=document[_0x712516(0x7e1)]('student-view'),projectDashboardView=document['getElementById'](_0x712516(0x7a6)),projectDetailView=document[_0x712516(0x7e1)]('project-detail-view'),quizResultsView=document[_0x712516(0x7e1)](_0x712516(0x4e6)),projectList=document[_0x712516(0x7e1)](_0x712516(0x3d6)),noProjectsMsg=document[_0x712516(0x7e1)](_0x712516(0x917)),projectTitle=document[_0x712516(0x7e1)](_0x712516(0x6e3)),projectIdDisplay=document[_0x712516(0x7e1)](_0x712516(0x3b1)),studentList=document[_0x712516(0x7e1)]('student-list'),messageModal=document[_0x712516(0x7e1)]('message-modal'),modalMessage=document[_0x712516(0x7e1)]('modal-message'),createProjectModal=document[_0x712516(0x7e1)]('create-project-modal'),adminPasswordModal=document[_0x712516(0x7e1)](_0x712516(0x8c8)),confirmationModal=document['getElementById']('confirmation-modal'),userIdDisplay=document['getElementById'](_0x712516(0x26d)),topicTab=document['getElementById'](_0x712516(0x642)),textTab=document[_0x712516(0x7e1)](_0x712516(0xa81)),topicInputArea=document[_0x712516(0x7e1)](_0x712516(0x737)),textInputArea=document['getElementById'](_0x712516(0x5f5)),manageTab=document['getElementById']('manage-tab'),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document['getElementById'](_0x712516(0xa92)),manageTabContent=document[_0x712516(0x7e1)](_0x712516(0x41b)),resultsTabContent=document[_0x712516(0x7e1)](_0x712516(0x244)),leaderboardTabContent=document['getElementById'](_0x712516(0xa63)),projectQuizzesList=document[_0x712516(0x7e1)](_0x712516(0x4cb)),fileTab=document[_0x712516(0x7e1)](_0x712516(0x6ca)),fileInputArea=document[_0x712516(0x7e1)](_0x712516(0x4ea)),fileUploadInput=document['getElementById'](_0x712516(0x998)),worksheetTab=document[_0x712516(0x7e1)]('worksheet-tab'),worksheetInputArea=document[_0x712516(0x7e1)](_0x712516(0x22b)),generateWorksheetBtn=document[_0x712516(0x7e1)](_0x712516(0x844)),studentInitialView=document['getElementById'](_0x712516(0x96c)),studentNameSelectionView=document[_0x712516(0x7e1)](_0x712516(0x872)),studentQuizArea=document[_0x712516(0x7e1)](_0x712516(0xb20)),studentResultArea=document[_0x712516(0x7e1)](_0x712516(0x8e5)),studentReadingArea=document[_0x712516(0x7e1)](_0x712516(0x454)),loadQuizBtn=document[_0x712516(0x7e1)]('load-quiz-btn'),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0x712516(0x7e1)](_0x712516(0x210)),presentationModal=document[_0x712516(0x7e1)](_0x712516(0x428)),renameQuizModal=document[_0x712516(0x7e1)](_0x712516(0x3fa)),moveQuizModal=document[_0x712516(0x7e1)]('move-quiz-modal'),quizSettingsModal=document[_0x712516(0x7e1)](_0x712516(0xb0b)),quizStatusModal=document[_0x712516(0x7e1)](_0x712516(0x76f)),liveGameView=document[_0x712516(0x7e1)](_0x712516(0x8a1));function handleAutoFixLatex(){const _0x363953=_0x712516,_0x26c846=document[_0x363953(0x7e1)]('quiz-editor-questions-container')||document,_0x447232=_0x26c846[_0x363953(0xa58)](['textarea',_0x363953(0x65e),_0x363953(0xa4d),_0x363953(0xa22),_0x363953(0x294),'label',_0x363953(0x373),_0x363953(0xad7),_0x363953(0x44d)][_0x363953(0x85c)](','));let _0x118dec=0x0;const _0x1e18fb=_0x142d84=>'value'in _0x142d84?String(_0x142d84[_0x363953(0x848)]):_0x142d84['innerText']!==undefined?_0x142d84['innerText']:_0x142d84[_0x363953(0x8b8)]||'',_0x534427=(_0x3f8397,_0x32eb43)=>{const _0xa0e836=_0x363953;if(_0xa0e836(0x848)in _0x3f8397){_0x3f8397[_0xa0e836(0x848)]=_0x32eb43;return;}if(_0x3f8397['querySelector']&&_0x3f8397['querySelector']('mjx-container'))return;if(_0x3f8397[_0xa0e836(0xa54)]!==undefined)_0x3f8397[_0xa0e836(0xa54)]=_0x32eb43;else _0x3f8397[_0xa0e836(0x8b8)]=_0x32eb43;},_0x4d857d=_0xd3f19d=>_0xd3f19d['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x363953(0x59e)](/\r\n?/g,'\x0a'),_0x253690=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x22540c=_0x1accd1=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x363953(0x2ad)](_0x1accd1),_0x527c6c=_0x36c26a=>{const _0x50af34=_0x363953,_0x5e3cf4=(_0x36c26a[_0x50af34(0x820)](/\{/g)||[])['length'],_0x49f9a3=(_0x36c26a[_0x50af34(0x820)](/\}/g)||[])[_0x50af34(0x88b)];if(_0x5e3cf4>_0x49f9a3)_0x36c26a=_0x36c26a+'}'['repeat'](_0x5e3cf4-_0x49f9a3);return _0x36c26a;},_0x2af726=_0x284c45=>{const _0x1ffdb9=_0x363953;let _0x3309a8=_0x284c45[_0x1ffdb9(0x847)]();const _0x1307e4=[_0x1ffdb9(0x788),_0x1ffdb9(0x500),_0x1ffdb9(0x4e9),'sqrt',_0x1ffdb9(0x7c6),'times',_0x1ffdb9(0x9d9),_0x1ffdb9(0x916),'leq',_0x1ffdb9(0x724),'le','ge',_0x1ffdb9(0xa64),'pm','approx','sin',_0x1ffdb9(0x7f8),_0x1ffdb9(0x2b3),_0x1ffdb9(0xa87),'ln',_0x1ffdb9(0x378),_0x1ffdb9(0xa36),'binom',_0x1ffdb9(0x6f2),_0x1ffdb9(0x6ef),_0x1ffdb9(0x5c2),_0x1ffdb9(0xb26),_0x1ffdb9(0x587),'deg'];_0x3309a8=_0x3309a8['replace'](new RegExp(_0x1ffdb9(0x94e)+_0x1307e4[_0x1ffdb9(0x85c)]('|')+_0x1ffdb9(0x82f),'g'),'\x5c'),_0x1307e4[_0x1ffdb9(0x8e0)](_0x476495=>{const _0x222585=_0x1ffdb9;_0x3309a8=_0x3309a8[_0x222585(0x59e)](new RegExp(_0x222585(0x1f8)+_0x476495+'\x5cb','g'),(_0x3f5d9d,_0x303dcf)=>_0x303dcf+'\x5c'+_0x476495);});const _0x4db4ac=[[/×/g,_0x1ffdb9(0x87a)],[/·/g,_0x1ffdb9(0x6ce)],[/÷/g,_0x1ffdb9(0x49f)],[/≤/g,_0x1ffdb9(0x77f)],[/≥/g,_0x1ffdb9(0x8c3)],[/≠/g,_0x1ffdb9(0xaf3)],[/±/g,_0x1ffdb9(0x6e0)],[/∑/g,'\x5csum'],[/−/g,'-']];_0x4db4ac['forEach'](([_0x542107,_0x330471])=>{const _0x19c4a9=_0x1ffdb9;_0x3309a8=_0x3309a8[_0x19c4a9(0x59e)](_0x542107,_0x330471);}),_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/√\s*\(([^)]*)\)/g,_0x1ffdb9(0xa61)),_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/√\s*([A-Za-z0-9]+)/g,_0x1ffdb9(0xa61)),_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/(^|[^\\])\bimes\b/g,_0x1ffdb9(0x8f3))[_0x1ffdb9(0x59e)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x1ffdb9(0x568))[_0x1ffdb9(0x59e)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x1ffdb9(0x59e)](/(^|[^\\])ext\(/g,_0x1ffdb9(0x369))[_0x1ffdb9(0x59e)](/\\text\(([^)]*)\)/g,_0x1ffdb9(0x8ac))[_0x1ffdb9(0x59e)](/\s\\frac/g,_0x1ffdb9(0x976)),_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x5bbd03,_0x4a3098,_0xd01abe,_0x18f420)=>_0x4a3098+_0x1ffdb9(0x955)+_0xd01abe+'}{'+_0x18f420+'}'),_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x1ffdb9(0x5de))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x1ffdb9(0x5de))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x1ffdb9(0x5de)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x1ffdb9(0x589)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x1ffdb9(0x589)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x1ffdb9(0x589)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x1ffdb9(0x589)],[/(\d+)\s*°\s*C/g,_0x1ffdb9(0x589)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x1ffdb9(0x4fa)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x1ffdb9(0x589)]]['forEach'](([_0x2ca440,_0x5e60e8])=>{const _0x2f2b46=_0x1ffdb9;_0x3309a8=_0x3309a8[_0x2f2b46(0x59e)](_0x2ca440,_0x5e60e8);}),_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/(\d+)\s*%/g,_0x1ffdb9(0x798)),_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x1ffdb9(0x78e))[_0x1ffdb9(0x59e)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x1ffdb9(0x653))[_0x1ffdb9(0x59e)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x1ffdb9(0x958),_0x1ffdb9(0x7f8),'tan',_0x1ffdb9(0xa87),'ln'][_0x1ffdb9(0x8e0)](_0x2b133c=>{const _0x1a02c7=_0x1ffdb9;_0x3309a8=_0x3309a8[_0x1a02c7(0x59e)](new RegExp(_0x1a02c7(0x1f8)+_0x2b133c+_0x1a02c7(0x566),'g'),(_0x14d32a,_0x217d37)=>_0x217d37+'\x5c'+_0x2b133c+'(');});const _0x2cce5d=(_0x3309a8['match'](/\\left\b/g)||[])[_0x1ffdb9(0x88b)],_0x2d7ccb=(_0x3309a8['match'](/\\right\b/g)||[])[_0x1ffdb9(0x88b)];if(_0x2cce5d!==_0x2d7ccb)_0x3309a8=_0x3309a8[_0x1ffdb9(0x59e)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x3309a8=_0x527c6c(_0x3309a8),_0x3309a8;},_0x57ad4c=_0x35dbc4=>{const _0x23c752=_0x363953;if(/\$|\\\(|\\\[/['test'](_0x35dbc4))return _0x35dbc4;if(!_0x253690[_0x23c752(0x2ad)](_0x35dbc4))return _0x35dbc4;const _0x2062f7=_0x35dbc4[_0x23c752(0x820)](/^\s*/)[0x0],_0x4c6ee8=_0x35dbc4['match'](/\s*$/)[0x0],_0x2a09df=_0x35dbc4[_0x23c752(0x847)]();return _0x2062f7+'$'+_0x2af726(_0x2a09df)+'$'+_0x4c6ee8;},_0x567af3=_0x41c9f2=>_0x41c9f2[_0x363953(0x9c2)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x447232[_0x363953(0x8e0)](_0x4a273e=>{const _0x6fe8ff=_0x363953;if(_0x4a273e['querySelector']&&_0x4a273e[_0x6fe8ff(0x622)](_0x6fe8ff(0x9ff)))return;const _0x4b8567=_0x1e18fb(_0x4a273e);let _0x388543=_0x4d857d(_0x4b8567);_0x388543=_0x388543[_0x6fe8ff(0x59e)](/\$\$([\s\S]*?)\$\$/g,(_0x4823d6,_0x2ab9f7)=>'$$'+_0x2af726(_0x2ab9f7)+'$$')[_0x6fe8ff(0x59e)](/\$([^$]*?)\$/g,(_0x263ff2,_0x490653)=>'$'+_0x2af726(_0x490653)+'$')[_0x6fe8ff(0x59e)](/\\\(([\s\S]*?)\\\)/g,(_0x5bba32,_0x1d29ce)=>'\x5c('+_0x2af726(_0x1d29ce)+'\x5c)')[_0x6fe8ff(0x59e)](/\\\[([\s\S]*?)\\\]/g,(_0x1948e7,_0x37b0f9)=>'\x5c['+_0x2af726(_0x37b0f9)+'\x5c]');let _0x2afd2c=_0x388543,_0x5f38b9=0x0;const _0x2d32fa=_0x2858b8=>_0x2858b8[_0x6fe8ff(0x59e)](/S([^S]{0,2000}?)S/g,(_0x92e9b6,_0x12922c)=>_0x253690[_0x6fe8ff(0x2ad)](_0x12922c)?'$'+_0x2af726(_0x12922c)+'$':_0x92e9b6);while(_0x5f38b9++<0x14){const _0x15fb79=_0x2d32fa(_0x2afd2c);if(_0x15fb79===_0x2afd2c)break;_0x2afd2c=_0x15fb79;}_0x388543=_0x2afd2c,_0x388543=_0x388543[_0x6fe8ff(0x9c2)]('\x0a')['map'](_0x1b9b5b=>{const _0x3beac2=_0x6fe8ff;if(!(/[,\u3001，;；]/['test'](_0x1b9b5b)||/\s(?:และ|หรือ)\s/[_0x3beac2(0x2ad)](_0x1b9b5b))||!_0x253690['test'](_0x1b9b5b))return _0x1b9b5b;return _0x567af3(_0x1b9b5b)['map'](_0x58eaba=>{if(/^\s(?:และ|หรือ)\s$/['test'](_0x58eaba)||/^[,\u3001，;；]$/['test'](_0x58eaba))return _0x58eaba;return _0x57ad4c(_0x58eaba);})[_0x3beac2(0x85c)]('');})[_0x6fe8ff(0x85c)]('\x0a'),_0x388543=_0x388543[_0x6fe8ff(0x9c2)]('\x0a')['map'](_0x5d74f0=>{const _0x476115=_0x6fe8ff,_0x4deb34=_0x5d74f0[_0x476115(0x847)]();if(!_0x4deb34)return _0x5d74f0;const _0x25994b=/\$|\\\(|\\\[/[_0x476115(0x2ad)](_0x4deb34),_0x45fd6f=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x476115(0x2ad)](_0x4deb34);if(_0x25994b||!_0x45fd6f||_0x22540c(_0x4deb34))return _0x5d74f0;return _0x5d74f0[_0x476115(0x59e)](_0x4deb34,'$'+_0x2af726(_0x4deb34)+'$');})[_0x6fe8ff(0x85c)]('\x0a'),_0x388543=_0x388543[_0x6fe8ff(0x59e)](/(\d+)\s*°\s*C\b/g,(_0x23d6cf,_0x4155e4,_0x100a03,_0xb84da3)=>{const _0x1226fa=_0x6fe8ff,_0x236afc=_0xb84da3[_0x100a03-0x1];if(_0x236afc==='$'||_0x236afc==='S'||_0x236afc==='\x5c')return _0x23d6cf;return'$'+_0x4155e4+_0x1226fa(0xac8);})[_0x6fe8ff(0x59e)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5c84be,_0x12f3a6,_0x8adc3f,_0x53dd99)=>{const _0x157898=_0x6fe8ff,_0x514de0=_0x53dd99[_0x8adc3f-0x1];if(_0x514de0==='$'||_0x514de0==='S'||_0x514de0==='\x5c')return _0x5c84be;return'$'+_0x12f3a6+_0x157898(0xac8);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x29cd15,_0x7805b0,_0x5d0193,_0x437f4b)=>{const _0x373b88=_0x6fe8ff,_0x4d7b49=_0x437f4b[_0x5d0193-0x1];if(_0x4d7b49==='$'||_0x4d7b49==='S'||_0x4d7b49==='\x5c')return _0x29cd15;return'$'+_0x7805b0+_0x373b88(0xac8);}),_0x388543=_0x388543[_0x6fe8ff(0x59e)](/\$\s*\$/g,'$$'),_0x388543!==_0x4b8567&&(_0x534427(_0x4a273e,_0x388543),_0x118dec++);});if(_0x118dec>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x118dec+'\x20ช่อง');try{if(window['MathJax']&&MathJax[_0x363953(0x7a9)])MathJax[_0x363953(0x7a9)]();window[_0x363953(0x295)]&&typeof renderMathInElement===_0x363953(0xaa6)&&renderMathInElement(_0x26c846,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x452856){}}else showMessage(_0x363953(0xb25));}async function listenForCustomMathTopics(){const _0x5f28eb=_0x712516,_0x786f8d=collection(db,_0x5f28eb(0xade)+appId+_0x5f28eb(0x7b4));onSnapshot(_0x786f8d,_0x584842=>{const _0x3f467b=_0x5f28eb;customMathTopics=_0x584842[_0x3f467b(0xa6a)]['map'](_0x40cfbd=>({'id':_0x40cfbd['id'],..._0x40cfbd[_0x3f467b(0x4fb)]()})),renderTopicCheckboxes();},_0xe59f10=>{const _0x15c81f=_0x5f28eb;console[_0x15c81f(0x7e3)](_0x15c81f(0x4ac),_0xe59f10);});}function handleSelectAllTopics(){const _0x2fdc12=_0x712516,_0x2a9691=document[_0x2fdc12(0x7e1)](_0x2fdc12(0x42d)),_0x408eed=_0x2a9691[_0x2fdc12(0xa58)]('input[type=\x22checkbox\x22]');_0x408eed[_0x2fdc12(0x8e0)](_0x596137=>{const _0x540fd4=_0x2fdc12;_0x596137[_0x540fd4(0x8ed)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x1e48b1=_0x712516,_0x837c54=document[_0x1e48b1(0x7e1)](_0x1e48b1(0x42d)),_0x193771=_0x837c54[_0x1e48b1(0xa58)](_0x1e48b1(0x52a));_0x193771[_0x1e48b1(0x8e0)](_0x360aeb=>{const _0x4b1e8f=_0x1e48b1;_0x360aeb[_0x4b1e8f(0x8ed)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x59aa1c){const _0x5daea4=_0x712516;if(!_0x59aa1c)return;try{const _0xe8b8c2=doc(db,_0x5daea4(0xade)+appId+_0x5daea4(0x7b4),_0x59aa1c);await deleteDoc(_0xe8b8c2),showMessage(_0x5daea4(0x9c7));}catch(_0x321889){console[_0x5daea4(0x7e3)](_0x5daea4(0x9b3),_0x321889),showMessage(_0x5daea4(0x712));}}async function handleAddCustomMathTopic(){const _0x1cc7b5=_0x712516,_0x57b867=document[_0x1cc7b5(0x7e1)](_0x1cc7b5(0x7a5)),_0xd4e312=_0x57b867['value']['trim']();if(!_0xd4e312){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x1cc7b5(0x4f2));return;}try{const _0x2f38bb=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0x2f38bb,{'name':_0xd4e312,'createdAt':serverTimestamp()}),_0x57b867[_0x1cc7b5(0x848)]='',showMessage(_0x1cc7b5(0x982)+_0xd4e312+'\x22\x20สำเร็จ');}catch(_0x3a23b6){console[_0x1cc7b5(0x7e3)]('Error\x20adding\x20custom\x20topic:',_0x3a23b6),showMessage(_0x1cc7b5(0x5cd));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x4c3c9c=_0x158c,_0x56ae35=document[_0x4c3c9c(0x7e1)](_0x4c3c9c(0x521)),_0x26100b=document[_0x4c3c9c(0x7e1)](_0x4c3c9c(0x93e)),_0x17bb19=_0x26100b['textContent'];_0x56ae35[_0x4c3c9c(0x709)][_0x4c3c9c(0x5b3)](_0x4c3c9c(0x984)),_0x26100b[_0x4c3c9c(0x8b8)]=_0x4c3c9c(0x2a7);try{const _0x13a9a9=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0xf01db9=await getDocs(_0x13a9a9);if(_0xf01db9[_0x4c3c9c(0x47c)]){showMessage(_0x4c3c9c(0x7db));return;}const _0xe6404=writeBatch(db);let _0x393a3e=0x0;_0xf01db9[_0x4c3c9c(0x8e0)](_0x5dbf5b=>{const _0x492828=_0x4c3c9c,_0x3dfe90=_0x5dbf5b['data'](),_0xcabea1=_0x5dbf5b['id'];if(_0x3dfe90['questions']&&_0x3dfe90[_0x492828(0x2f6)][_0x492828(0x88b)]>0x0&&!_0x3dfe90[_0x492828(0x2f6)][0x0][_0x492828(0x670)]('id')){console[_0x492828(0xa87)](_0x492828(0x9ba)+_0xcabea1+'\x20('+_0x3dfe90['topic']+')'),_0x393a3e++;const _0x2ee499=_0x3dfe90[_0x492828(0x2f6)][_0x492828(0x4b7)]((_0x5f0474,_0x46faca)=>{const _0x2d5e11=_0x492828;return{..._0x5f0474,'id':_0x5f0474['id']||'q_'+Date[_0x2d5e11(0x8a2)]()+'_'+_0xcabea1+'_'+_0x46faca};}),_0x244019=doc(db,'artifacts/'+appId+_0x492828(0x4b0),_0xcabea1);_0xe6404['update'](_0x244019,{'questions':_0x2ee499});}}),_0x393a3e>0x0?(_0x26100b[_0x4c3c9c(0x8b8)]=_0x4c3c9c(0x7eb)+_0x393a3e+'\x20รายการ...',await _0xe6404[_0x4c3c9c(0x80f)](),showMessage(_0x4c3c9c(0xa51)+_0x393a3e+_0x4c3c9c(0x716))):showMessage(_0x4c3c9c(0x8c9));}catch(_0x5670df){console[_0x4c3c9c(0x7e3)](_0x4c3c9c(0x710),_0x5670df),showMessage(_0x4c3c9c(0x25d)+_0x5670df['message']);}finally{_0x56ae35['classList'][_0x4c3c9c(0x484)]('hidden'),_0x26100b[_0x4c3c9c(0x8b8)]=_0x17bb19;}});}async function handleBulkUpdateQuizSettings(){const _0x9d7741=_0x712516,_0x4fb6fd={'shuffle':document[_0x9d7741(0x7e1)](_0x9d7741(0x2af))[_0x9d7741(0x848)],'resultsDisplay':document['getElementById']('bulk-results-display-select')[_0x9d7741(0x848)],'loopUntilPass':document['getElementById'](_0x9d7741(0x74a))[_0x9d7741(0x8ed)]},_0x323218=allQuizzesGlobal[_0x9d7741(0x88b)];showConfirmation(_0x9d7741(0x757)+_0x323218+_0x9d7741(0x6a3),async()=>{const _0x3c0ebd=_0x9d7741,_0x553d5a=document[_0x3c0ebd(0x7e1)](_0x3c0ebd(0x869));_0x553d5a[_0x3c0ebd(0xab8)]=!![],_0x553d5a[_0x3c0ebd(0x519)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x4163f2=writeBatch(db);allQuizzesGlobal[_0x3c0ebd(0x8e0)](_0x50cf36=>{const _0x4e7746=_0x3c0ebd,_0x3022f0=doc(db,_0x4e7746(0xade)+appId+_0x4e7746(0x4b0),_0x50cf36['id']),_0x433301={..._0x50cf36[_0x4e7746(0x9c9)]||{},..._0x4fb6fd};_0x4163f2[_0x4e7746(0xa37)](_0x3022f0,{'settings':_0x433301});}),await _0x4163f2[_0x3c0ebd(0x80f)](),document[_0x3c0ebd(0x7e1)](_0x3c0ebd(0xa13))['classList'][_0x3c0ebd(0x484)](_0x3c0ebd(0x984)),showMessage(_0x3c0ebd(0x953)+_0x323218+'\x20ชุดสำเร็จ!');}catch(_0x327b76){console[_0x3c0ebd(0x7e3)](_0x3c0ebd(0x962),_0x327b76),showMessage(_0x3c0ebd(0xb04));}finally{_0x553d5a['disabled']=![],_0x553d5a[_0x3c0ebd(0x519)]=_0x3c0ebd(0x5fa);}});}async function handleSaveProjectName(){const _0x1882cb=_0x712516,_0x1c3d5e=document['getElementById'](_0x1882cb(0x6e3)),_0x2ba541=document[_0x1882cb(0x7e1)]('save-project-name-btn'),_0x6a4c60=_0x1c3d5e[_0x1882cb(0x8b8)][_0x1882cb(0x847)]();if(!_0x6a4c60||!currentProjectId){showMessage(_0x1882cb(0x938)),_0x1c3d5e['textContent']=currentProjectData[_0x1882cb(0x567)];return;}_0x2ba541[_0x1882cb(0xab8)]=!![],_0x2ba541[_0x1882cb(0x519)]=_0x1882cb(0x7a1);try{const _0x4db176=doc(db,'artifacts/'+appId+_0x1882cb(0x42a),currentProjectId);await updateDoc(_0x4db176,{'projectName':_0x6a4c60}),currentProjectData&&(currentProjectData[_0x1882cb(0x567)]=_0x6a4c60),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x5eea19){console[_0x1882cb(0x7e3)]('Error\x20updating\x20project\x20name:',_0x5eea19),showMessage(_0x1882cb(0xa6e)),_0x1c3d5e['textContent']=currentProjectData[_0x1882cb(0x567)];}finally{_0x2ba541[_0x1882cb(0x709)][_0x1882cb(0x484)]('hidden'),_0x2ba541['disabled']=![],_0x2ba541['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x3d5916=_0x712516;try{const _0x17e38e=initializeApp(firebaseConfig);db=getFirestore(_0x17e38e),auth=getAuth(_0x17e38e),setupAuthListener(),setupEventListeners(),showView(_0x3d5916(0x6ab)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x4d639e){console[_0x3d5916(0x7e3)](_0x3d5916(0x747),_0x4d639e),showMessage(_0x3d5916(0x5ce));}}async function handleVerifyAnswersInEditor(){const _0x5317cf=_0x712516,_0x304a97=document['getElementById'](_0x5317cf(0x553));if(!_0x304a97)return;const _0x278521=document[_0x5317cf(0x7e1)](_0x5317cf(0x870));_0x278521[_0x5317cf(0xab8)]=!![],_0x278521[_0x5317cf(0x519)]=_0x5317cf(0x4d0);try{const _0x2ac048=_0x304a97[_0x5317cf(0xa58)](_0x5317cf(0x391)),_0xeafb35=Array[_0x5317cf(0x972)](_0x2ac048)[_0x5317cf(0x4b7)]((_0x595fd0,_0x4ef12f)=>{const _0x2ae123=_0x5317cf,_0x4fa48a=_0x595fd0[_0x2ae123(0x478)]['qType'],_0x2ef841=_0x595fd0['querySelector'](_0x2ae123(0x951))[_0x2ae123(0x848)];let _0x2142c9=null,_0x2c8a6f='';switch(_0x4fa48a){case _0x2ae123(0xaa4):const _0x9677e6=_0x595fd0[_0x2ae123(0xa58)](_0x2ae123(0x65e));_0x2142c9=Array[_0x2ae123(0x972)](_0x9677e6)[_0x2ae123(0x4b7)](_0x4a4a51=>_0x4a4a51[_0x2ae123(0x848)]);const _0x357516=_0x595fd0[_0x2ae123(0x622)](_0x2ae123(0x905));_0x357516&&(_0x2c8a6f=_0x2142c9[parseInt(_0x357516[_0x2ae123(0x848)])]);break;case _0x2ae123(0x344):_0x2c8a6f=_0x595fd0[_0x2ae123(0x622)]('.ideal-answer-input')['value'];break;case'true_false':const _0x3153c1=_0x595fd0[_0x2ae123(0x622)](_0x2ae123(0x905));_0x2c8a6f=_0x3153c1?_0x3153c1[_0x2ae123(0x848)]:'';break;case _0x2ae123(0x476):_0x2c8a6f=_0x595fd0['querySelector'](_0x2ae123(0xa31))['value'];break;}return{'question':_0x2ef841,'options':_0x2142c9,'proposedAnswer':_0x2c8a6f};}),_0x143701='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x5317cf(0x44c)](_0xeafb35)+_0x5317cf(0x21f),_0x232f3f={'type':'ARRAY','items':{'type':_0x5317cf(0xa18),'properties':{'questionIndex':{'type':_0x5317cf(0x6d8)},'isCorrect':{'type':_0x5317cf(0x80d)},'justification':{'type':_0x5317cf(0x208)},'suggestedAnswer':{'type':_0x5317cf(0x208)}},'required':[_0x5317cf(0x4a6),'isCorrect',_0x5317cf(0x227)]}},_0x1a94d6=await callAnalysisApi(_0x143701,{'type':_0x5317cf(0xa18),'properties':{'result':_0x232f3f},'required':[_0x5317cf(0x235)]});displayVerificationResultsInEditor(_0x1a94d6['result']);}catch(_0x30b682){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x30b682),showMessage(_0x5317cf(0x390));}finally{_0x278521[_0x5317cf(0xab8)]=![],_0x278521[_0x5317cf(0x519)]=_0x5317cf(0x760);}}function displayVerificationResultsInEditor(_0x34d2d6){const _0x182d0b=_0x712516;_0x34d2d6[_0x182d0b(0x8e0)](_0x121f5c=>{const _0x3132ae=_0x182d0b,_0x1f992a=document[_0x3132ae(0x622)](_0x3132ae(0x8da)+_0x121f5c[_0x3132ae(0x4a6)]+'\x22]');if(!_0x1f992a)return;const _0x5ca0ad=_0x1f992a['querySelector'](_0x3132ae(0x552));if(_0x5ca0ad)_0x5ca0ad[_0x3132ae(0x5b3)]();let _0x31131c='';if(_0x121f5c[_0x3132ae(0xa3c)])_0x31131c=_0x3132ae(0x6a4);else{const _0x1e3e66=_0x121f5c[_0x3132ae(0x99a)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x31131c=_0x3132ae(0x54f)+_0x1e3e66+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x121f5c[_0x3132ae(0x227)]+_0x3132ae(0x6d9)+(_0x121f5c[_0x3132ae(0x99a)]?_0x3132ae(0x9df)+_0x121f5c[_0x3132ae(0x99a)]+_0x3132ae(0x9ad):'')+_0x3132ae(0xb14);}_0x1f992a[_0x3132ae(0xaa3)](_0x3132ae(0x935),_0x31131c);if(!_0x121f5c['isCorrect']&&_0x121f5c[_0x3132ae(0x99a)]){const _0x499897=_0x1f992a[_0x3132ae(0x478)][_0x3132ae(0x330)],_0x48d917=_0x3b3161=>{const _0x3f66ae=_0x3132ae;if(!_0x3b3161)return;_0x3b3161['classList']['add']('bg-green-200',_0x3f66ae(0x6f8),_0x3f66ae(0x86d)),setTimeout(()=>{const _0x2e44b5=_0x3f66ae;_0x3b3161['classList'][_0x2e44b5(0x5b3)](_0x2e44b5(0x77d));},0x9c4);};if(_0x499897==='multiple_choice'){const _0x5bd33d=Array['from'](_0x1f992a[_0x3132ae(0xa58)](_0x3132ae(0x65e))),_0x2b032b=_0x5bd33d[_0x3132ae(0xb1c)](_0x5034fc=>_0x5034fc['value'][_0x3132ae(0x847)]()['toLowerCase']()===_0x121f5c['suggestedAnswer']['trim']()[_0x3132ae(0xaec)]());if(_0x2b032b!==-0x1){const _0x5c826c=_0x1f992a[_0x3132ae(0x622)]('input[type=\x22radio\x22][value=\x22'+_0x2b032b+'\x22]');_0x5c826c&&(_0x5c826c['checked']=!![],_0x48d917(_0x5c826c[_0x3132ae(0x56d)](_0x3132ae(0x916))));}}else{if(_0x499897===_0x3132ae(0x344)||_0x499897===_0x3132ae(0x476)){const _0x184576=_0x1f992a[_0x3132ae(0x622)](_0x3132ae(0x868));_0x184576&&(_0x184576[_0x3132ae(0x848)]=_0x121f5c[_0x3132ae(0x99a)],_0x48d917(_0x184576));}else{if(_0x499897===_0x3132ae(0x34b)){const _0x565ff1=_0x121f5c[_0x3132ae(0x99a)][_0x3132ae(0x847)]()['toLowerCase'](),_0x3c701e=_0x1f992a[_0x3132ae(0x622)](_0x3132ae(0x632)+_0x565ff1+'\x22]');_0x3c701e&&(_0x3c701e[_0x3132ae(0x8ed)]=!![],_0x48d917(_0x3c701e['closest']('div')));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x18fe16=_0x712516;if(!currentQuizData||!currentQuizData[_0x18fe16(0x2f6)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x25252f=document[_0x18fe16(0x7e1)](_0x18fe16(0xa5e));_0x25252f['disabled']=!![],_0x25252f[_0x18fe16(0x519)]=_0x18fe16(0x4d0);try{const _0x12f137=currentQuizData['questions'][_0x18fe16(0x4b7)]((_0x4d3316,_0x416686)=>{const _0xe0eb47=_0x18fe16;let _0x3079ce='';const _0x2d0499=_0x4d3316[_0xe0eb47(0xad0)]||currentQuizData[_0xe0eb47(0x817)];switch(_0x2d0499){case _0xe0eb47(0xaa4):_0x3079ce=_0x4d3316[_0xe0eb47(0x89f)][_0x4d3316['correctAnswerIndex']];break;case'short_answer':_0x3079ce=_0x4d3316[_0xe0eb47(0x63a)];break;case'true_false':_0x3079ce=_0x4d3316[_0xe0eb47(0xa24)][_0xe0eb47(0x431)]();break;case _0xe0eb47(0x476):_0x3079ce=_0x4d3316[_0xe0eb47(0x1f2)];break;}return{'question':_0x4d3316[_0xe0eb47(0x20f)]||_0x4d3316[_0xe0eb47(0x383)],'options':_0x4d3316[_0xe0eb47(0x89f)]||null,'proposedAnswer':_0x3079ce};}),_0x13ff4e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x18fe16(0x44c)](_0x12f137)+_0x18fe16(0x387),_0x1ef22a={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x18fe16(0x6d8)},'isCorrect':{'type':_0x18fe16(0x80d)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x18fe16(0x208)}},'required':[_0x18fe16(0x4a6),_0x18fe16(0xa3c),_0x18fe16(0x227)]}},_0x33078f=await callAnalysisApi(_0x13ff4e,{'type':'OBJECT','properties':{'result':_0x1ef22a},'required':[_0x18fe16(0x235)]});displayVerificationResults(_0x33078f[_0x18fe16(0x235)]);}catch(_0x4d2312){console[_0x18fe16(0x7e3)](_0x18fe16(0x40f),_0x4d2312),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x25252f[_0x18fe16(0xab8)]=![],_0x25252f[_0x18fe16(0x519)]=_0x18fe16(0x8eb);}}function displayVerificationResults(_0xe40316){const _0x1e7b73=_0x712516;_0xe40316[_0x1e7b73(0x8e0)](_0x13daa0=>{const _0x14c2ef=_0x1e7b73,_0x11d29c=document['querySelector'](_0x14c2ef(0x5ac)+_0x13daa0[_0x14c2ef(0x4a6)]+'\x22]');if(_0x11d29c){const _0x454252=_0x11d29c[_0x14c2ef(0x622)](_0x14c2ef(0x3fb));if(_0x454252)_0x454252[_0x14c2ef(0x5b3)]();let _0x4efb2a='';_0x13daa0[_0x14c2ef(0xa3c)]?_0x4efb2a=_0x14c2ef(0x8f8):_0x4efb2a=_0x14c2ef(0x27d)+_0x13daa0[_0x14c2ef(0x227)]+_0x14c2ef(0xa83)+(_0x13daa0[_0x14c2ef(0x99a)]?_0x14c2ef(0x9df)+_0x13daa0['suggestedAnswer']+_0x14c2ef(0x9ad):'')+_0x14c2ef(0x9a8),_0x11d29c['insertAdjacentHTML'](_0x14c2ef(0x935),_0x4efb2a);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x29c244,_0x313206){const _0x1ae263=_0x712516,_0x5465e6=String(_0x29c244)['replace'](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x307476=String(_0x313206)[_0x1ae263(0x59e)](',','.')[_0x1ae263(0x59e)](/[^\d.-]/g,'')[_0x1ae263(0x847)]();if(_0x5465e6===''||_0x307476==='')return![];const _0xd1495d=parseFloat(_0x5465e6),_0x1bc070=parseFloat(_0x307476);if(isNaN(_0xd1495d)||isNaN(_0x1bc070))return![];return Math[_0x1ae263(0x921)](_0xd1495d-_0x1bc070)<0.001;}async function gradeShortAnswer(_0xaa0a41,_0x890222){const _0x5b383e=_0x712516,_0x4b7a20=_0x890222['idealAnswer'];if(String(_0xaa0a41)[_0x5b383e(0x847)]()['toLowerCase']()===String(_0x4b7a20)[_0x5b383e(0x847)]()[_0x5b383e(0xaec)]())return!![];if(compareNumericalAnswers(_0xaa0a41,_0x4b7a20))return!![];return console[_0x5b383e(0xa87)](_0x5b383e(0x7d6)),await gradeShortAnswerWithAI(_0xaa0a41,_0x4b7a20);}async function revealAnswerForAdmin(_0x166921,_0x3d64ae){const _0x52e123=_0x712516,_0x4b239a=doc(db,_0x52e123(0xade)+appId+_0x52e123(0x828),currentLiveGameId);await updateDoc(_0x4b239a,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x46b6eb){const _0x3b7d0c=_0x712516,_0x502fca=Object[_0x3b7d0c(0x48c)](_0x46b6eb[_0x3b7d0c(0x3b0)]||{})[_0x3b7d0c(0xa4a)](_0x2179f5=>_0x2179f5[_0x3b7d0c(0x407)]===_0x3b7d0c(0x2e2));_0x502fca[_0x3b7d0c(0x778)]((_0x42cb33,_0x1dfc1b)=>_0x1dfc1b['score']-_0x42cb33['score']);const _0x52158c=_0x502fca[_0x3b7d0c(0x7c1)](0x0,0x5),_0x10f6f5=_0x3b7d0c(0x251)+_0x52158c[_0x3b7d0c(0x4b7)]((_0x60f30a,_0x2d59d4)=>_0x3b7d0c(0x777)+(_0x2d59d4+0x1)+'.\x20'+(_0x60f30a[_0x3b7d0c(0x4ad)]||Object[_0x3b7d0c(0x662)](_0x46b6eb[_0x3b7d0c(0x3b0)])[_0x3b7d0c(0xafd)](_0x1f082e=>_0x46b6eb[_0x3b7d0c(0x3b0)][_0x1f082e]===_0x60f30a))+_0x3b7d0c(0x92a)+_0x60f30a[_0x3b7d0c(0x634)]+_0x3b7d0c(0x35d))['join']('')+_0x3b7d0c(0x574)+(_0x46b6eb['currentQuestionIndex']+0x1===currentQuizData[_0x3b7d0c(0x2f6)][_0x3b7d0c(0x88b)]?_0x3b7d0c(0x495):_0x3b7d0c(0x725))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x3b7d0c(0x519)]=_0x10f6f5,document[_0x3b7d0c(0x7e1)](_0x3b7d0c(0x4f3))[_0x3b7d0c(0x996)]('click',async()=>{const _0x59b4d8=_0x3b7d0c,_0x163314=doc(db,'artifacts/'+appId+_0x59b4d8(0x828),currentLiveGameId),_0x3cc1f8=_0x46b6eb[_0x59b4d8(0xa7b)]+0x1;if(_0x3cc1f8<currentQuizData['questions'][_0x59b4d8(0x88b)]){const _0x156c2d={'currentQuestionIndex':_0x3cc1f8,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x59b4d8(0x662)](_0x46b6eb[_0x59b4d8(0x3b0)])[_0x59b4d8(0x8e0)](_0x51ccd8=>{const _0x4d1802=_0x59b4d8;_0x156c2d[_0x4d1802(0xae9)+_0x51ccd8+_0x4d1802(0x660)]=![];}),await updateDoc(_0x163314,_0x156c2d);}else await updateDoc(_0x163314,{'status':_0x59b4d8(0x8f7)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2e0c61=>{const _0xc5af04=_0x158c;if(_0x2e0c61){userId=_0x2e0c61[_0xc5af04(0x310)],userIdDisplay['textContent']=userId;const _0x81d473=await loadUserPreferences();_0x81d473[_0xc5af04(0x20b)]&&(document[_0xc5af04(0x7e1)](_0xc5af04(0x20c))[_0xc5af04(0x848)]=_0x81d473[_0xc5af04(0x20b)]);globalDashboardSettings[_0xc5af04(0xac0)]=_0x81d473[_0xc5af04(0xac0)]||_0xc5af04(0x60a);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x46c405,_0x22f11a){const _0x47cae1=_0x712516;if(!userId)return;try{const _0x410784=doc(db,_0x47cae1(0xade)+appId+_0x47cae1(0xa78)+userId+_0x47cae1(0x8bf)),_0x1c77c9={};_0x1c77c9[_0x46c405]=_0x22f11a,await setDoc(_0x410784,_0x1c77c9,{'merge':!![]});}catch(_0x1ea5eb){console['error']('Error\x20saving\x20user\x20preference:',_0x1ea5eb);}}async function loadUserPreferences(){const _0x3b0a5c=_0x712516;if(!userId)return{};try{const _0x91bb3b=doc(db,'artifacts/'+appId+_0x3b0a5c(0xa78)+userId+_0x3b0a5c(0x8bf)),_0x5d0db2=await getDoc(_0x91bb3b);if(_0x5d0db2[_0x3b0a5c(0x23c)]())return _0x5d0db2[_0x3b0a5c(0x4fb)]();return{};}catch(_0x34a4e6){return console['error'](_0x3b0a5c(0x5df),_0x34a4e6),{};}}function showPodiumView(_0x2e2320,_0x37625e=_0x712516(0x623)){const _0x45125f=_0x712516,_0x6f1f19=Object[_0x45125f(0x90d)](_0x2e2320)[_0x45125f(0x4b7)](([_0x55d7a4,_0x9950ef])=>({'name':_0x55d7a4,'score':_0x9950ef[_0x45125f(0x634)]||0x0,'badges':_0x9950ef['badges']||[],'hasPerfectScoreBonus':_0x9950ef[_0x45125f(0x513)]||![]}));_0x6f1f19[_0x45125f(0x778)]((_0x1b3963,_0x43cc27)=>{const _0xacfb=_0x45125f,_0x416550=_0x43cc27[_0xacfb(0x634)]-_0x1b3963[_0xacfb(0x634)];if(_0x416550!==0x0)return _0x416550;return(_0x43cc27[_0xacfb(0x38e)][_0xacfb(0x88b)]||0x0)-(_0x1b3963['badges'][_0xacfb(0x88b)]||0x0);});const _0x2f7811=_0xce83fb=>{const _0x19196e=_0x45125f;if(!_0xce83fb||_0xce83fb[_0x19196e(0x88b)]===0x0)return'';const _0x5d4af5={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0xce83fb[_0x19196e(0x4b7)](_0x307d27=>_0x5d4af5[_0x307d27]||'')[_0x19196e(0x85c)]('')+_0x19196e(0x6b3);},_0x2f8be2=_0x6f1f19['slice'](0x3),_0x4f1d28=_0x2f8be2[_0x45125f(0x88b)]>0x0?_0x45125f(0x751)+_0x2f8be2['map']((_0x390ce5,_0x29c240)=>{const _0x2d80f0=_0x45125f,_0x3daade=_0x390ce5[_0x2d80f0(0x513)]?_0x2d80f0(0x6cd):'';return _0x2d80f0(0x9c5)+(_0x29c240+0x4)+_0x2d80f0(0x7c5)+_0x390ce5[_0x2d80f0(0x4ad)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x390ce5[_0x2d80f0(0x634)]+_0x2d80f0(0x494)+_0x3daade+_0x2d80f0(0x9bb);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x353207=_0x45125f(0x3f4)+(_0x6f1f19[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x6f1f19[0x1]['name']+_0x45125f(0x9ad)+_0x2f7811(_0x6f1f19[0x1][_0x45125f(0x38e)])+_0x45125f(0x9de)+_0x6f1f19[0x1]['score']+_0x45125f(0x494)+(_0x6f1f19[0x1][_0x45125f(0x513)]?_0x45125f(0x3db):'')+_0x45125f(0x881):_0x45125f(0x767))+_0x45125f(0x851)+(_0x6f1f19[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x6f1f19[0x0][_0x45125f(0x4ad)]+_0x45125f(0x9ad)+_0x2f7811(_0x6f1f19[0x0][_0x45125f(0x38e)])+'<p\x20class=\x22text-2xl\x22>'+_0x6f1f19[0x0]['score']+_0x45125f(0x494)+(_0x6f1f19[0x0][_0x45125f(0x513)]?_0x45125f(0x3db):'')+_0x45125f(0x7bd):_0x45125f(0x767))+_0x45125f(0x851)+(_0x6f1f19[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x6f1f19[0x2][_0x45125f(0x4ad)]+_0x45125f(0x9ad)+_0x2f7811(_0x6f1f19[0x2][_0x45125f(0x38e)])+_0x45125f(0x9de)+_0x6f1f19[0x2][_0x45125f(0x634)]+_0x45125f(0x494)+(_0x6f1f19[0x2][_0x45125f(0x513)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x45125f(0x4f9):'<div\x20class=\x22flex-1\x22></div>')+_0x45125f(0x5f4)+_0x4f1d28+_0x45125f(0x316)+(currentMode===_0x45125f(0x250)?_0x45125f(0x83b):_0x45125f(0x6e1))+_0x45125f(0x6cc);liveGameView['innerHTML']=_0x353207,currentMode===_0x45125f(0x250)&&document['getElementById'](_0x45125f(0x209))['addEventListener'](_0x45125f(0x66f),async()=>{const _0x985590=_0x45125f;let _0x41625c;_0x37625e===_0x985590(0x6eb)?_0x41625c=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId):_0x41625c=doc(db,_0x985590(0xade)+appId+_0x985590(0x828),currentLiveGameId),await deleteDoc(_0x41625c);});}function renderSyncSummaryView(_0x56ee4d,_0x1920a3,_0x171988){const _0x1c2cc0=_0x712516,_0x37d0a0=Object[_0x1c2cc0(0x48c)](_0x56ee4d[_0x1c2cc0(0x3b0)]||{}),_0x2ebd04=_0x1920a3[_0x1c2cc0(0x89f)]||[],_0x308eff=new Array(_0x2ebd04['length'])[_0x1c2cc0(0x3f2)](0x0),_0x302da6={};_0x2ebd04['forEach']((_0x594b7c,_0x305aee)=>{_0x302da6[_0x305aee]=[];}),Object[_0x1c2cc0(0x90d)](_0x56ee4d[_0x1c2cc0(0x3b0)]||{})[_0x1c2cc0(0x8e0)](([_0x591fd6,_0x5b9485])=>{const _0x4c09f7=_0x1c2cc0;if(_0x5b9485[_0x4c09f7(0x407)]!==_0x4c09f7(0x516)&&_0x5b9485[_0x4c09f7(0x2cf)]!==undefined&&_0x5b9485[_0x4c09f7(0x2cf)]!==null){const _0x4d4de7=_0x5b9485['lastAnswerIndex'];_0x302da6[_0x4d4de7]!==undefined&&(_0x302da6[_0x4d4de7]['push'](_0x591fd6),_0x308eff[_0x4d4de7]++);}});let _0xd28eae='';_0x171988?_0xd28eae=_0x1c2cc0(0x2e5):_0xd28eae=_0x1c2cc0(0x756);const _0x49c102=_0x1c2cc0(0x830)+_0x1920a3[_0x1c2cc0(0x383)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x308eff[_0x1c2cc0(0x4b7)]((_0x213201,_0x2341e2)=>{const _0x5aa07d=_0x1c2cc0,_0x5d236d=_0x302da6[_0x2341e2][_0x5aa07d(0x88b)]>0x0?_0x302da6[_0x2341e2][_0x5aa07d(0x85c)](',\x20'):_0x5aa07d(0x9b5),_0x3e383f=_0x5aa07d(0x4ef);return _0x5aa07d(0x32c)+_0x213201+_0x5aa07d(0x8be)+_0x3e383f+_0x5aa07d(0x6e9)+_0x2341e2+_0x5aa07d(0x95d)+_0x2ebd04[_0x2341e2]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x2341e2+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d236d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1c2cc0(0x85c)]('')+_0x1c2cc0(0xae0)+_0xd28eae+_0x1c2cc0(0x99b);liveGameView['innerHTML']=_0x49c102;if(window[_0x1c2cc0(0x7e0)])MathJax[_0x1c2cc0(0x7a9)]();_0x171988&&(document[_0x1c2cc0(0x7e1)](_0x1c2cc0(0x4a5))[_0x1c2cc0(0x996)](_0x1c2cc0(0x66f),async()=>{const _0x564502=_0x1c2cc0,_0x3c977c=doc(db,_0x564502(0xade)+appId+_0x564502(0x832),currentLiveGameId);await updateDoc(_0x3c977c,{'status':_0x564502(0x388)});}),document[_0x1c2cc0(0x7e1)]('open-sync-scratchpad-btn')['onclick']=()=>{openScratchpad(_0x1920a3,_0x2ebd04);});}async function handleShowStudentRankings(){const _0x1914cc=_0x712516,_0x1a1561=document[_0x1914cc(0x622)]('#student-quiz-leaderboard-content\x20thead');_0x1a1561&&(_0x1a1561[_0x1914cc(0x519)]=_0x1914cc(0x7be));const _0x2890cc=document[_0x1914cc(0x622)](_0x1914cc(0x2be));_0x2890cc&&(_0x2890cc[_0x1914cc(0x519)]=_0x1914cc(0x3e2));const _0x19d2e6=document[_0x1914cc(0x7e1)](_0x1914cc(0x4b1));_0x19d2e6[_0x1914cc(0x709)][_0x1914cc(0x5b3)]('hidden'),document['getElementById']('close-student-rankings-btn')[_0x1914cc(0x903)]=()=>_0x19d2e6[_0x1914cc(0x709)][_0x1914cc(0x484)](_0x1914cc(0x984));const _0x2a5ef5=document[_0x1914cc(0x7e1)]('student-quiz-leaderboard-tab'),_0x5767ba=document[_0x1914cc(0x7e1)](_0x1914cc(0x3e5)),_0x51d134=document[_0x1914cc(0x7e1)]('student-quiz-leaderboard-content'),_0x232da8=document[_0x1914cc(0x7e1)](_0x1914cc(0x5e0));_0x2a5ef5[_0x1914cc(0x903)]=()=>{const _0x42ad6a=_0x1914cc;_0x2a5ef5[_0x42ad6a(0x709)][_0x42ad6a(0x484)](_0x42ad6a(0x2e2)),_0x5767ba[_0x42ad6a(0x709)][_0x42ad6a(0x5b3)]('active'),_0x51d134[_0x42ad6a(0x709)][_0x42ad6a(0x5b3)](_0x42ad6a(0x984)),_0x232da8[_0x42ad6a(0x709)][_0x42ad6a(0x484)](_0x42ad6a(0x984));},_0x5767ba[_0x1914cc(0x903)]=()=>{const _0x8c855b=_0x1914cc;_0x5767ba[_0x8c855b(0x709)][_0x8c855b(0x484)](_0x8c855b(0x2e2)),_0x2a5ef5[_0x8c855b(0x709)][_0x8c855b(0x5b3)](_0x8c855b(0x2e2)),_0x232da8[_0x8c855b(0x709)][_0x8c855b(0x5b3)](_0x8c855b(0x984)),_0x51d134['classList'][_0x8c855b(0x484)](_0x8c855b(0x984));};try{const _0x152c24=collection(db,_0x1914cc(0xade)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1914cc(0x437)),_0x349411=await getDocs(_0x152c24),_0x352609=_0x349411[_0x1914cc(0xa6a)][_0x1914cc(0x4b7)](_0x3a7216=>_0x3a7216['data']());renderQuizLeaderboard(_0x352609,currentQuizData,'student-quiz-leaderboard-table-body');const _0x3a613d=collection(db,'artifacts/'+appId+_0x1914cc(0x203)+currentQuizData[_0x1914cc(0x243)]+'/studentProfiles'),_0x3d60b1=await getDocs(_0x3a613d),_0x121691=_0x3d60b1[_0x1914cc(0xa6a)]['map'](_0x40dd05=>_0x40dd05[_0x1914cc(0x4fb)]());renderLeaderboard(_0x121691,'student-project-leaderboard-table-body');}catch(_0x1098cf){console[_0x1914cc(0x7e3)](_0x1914cc(0x394),_0x1098cf),showMessage(_0x1914cc(0x266));}}async function handleSaveToBank(_0x1d9d65){const _0x170e9c=_0x712516,_0x500732=_0x1d9d65['currentTarget'],_0x216f03=_0x500732[_0x170e9c(0x478)][_0x170e9c(0x65d)],_0x55e7bf=currentQuizData[_0x170e9c(0x2f6)][_0x216f03];if(!userId){showMessage(_0x170e9c(0x81b));return;}try{const _0xfc37ad={..._0x55e7bf,'originalTopic':currentQuizData[_0x170e9c(0x9b8)],'savedAt':serverTimestamp()},_0x30ecd4=collection(db,_0x170e9c(0xade)+appId+_0x170e9c(0xa78)+userId+_0x170e9c(0x713));await addDoc(_0x30ecd4,_0xfc37ad),showMessage(_0x170e9c(0x631)),_0x500732[_0x170e9c(0x709)][_0x170e9c(0x5b3)]('text-purple-600'),_0x500732[_0x170e9c(0x709)][_0x170e9c(0x484)](_0x170e9c(0x370)),_0x500732[_0x170e9c(0xab8)]=!![];}catch(_0x36716c){console['error'](_0x170e9c(0x776),_0x36716c),showMessage(_0x170e9c(0xa6e));}}function listenForStarredQuizzes(){const _0x2ae5a3=_0x712516;if(!userId)return;const _0x343f43=collection(db,_0x2ae5a3(0xade)+appId+_0x2ae5a3(0x4b0)),_0x32a117=query(_0x343f43,where(_0x2ae5a3(0x2a8),'==',!![]));onSnapshot(_0x32a117,_0x4571ea=>{const _0x5515c5=_0x2ae5a3;starredQuizzes=_0x4571ea[_0x5515c5(0xa6a)][_0x5515c5(0x4b7)](_0x16503a=>({'id':_0x16503a['id'],..._0x16503a['data']()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x3c1756=>{const _0x237fe0=_0x2ae5a3;console['error'](_0x237fe0(0xa77),_0x3c1756);});}function exportQuizAsWorksheetPDF(){const _0x28c7af=_0x712516;if(!currentQuizData||!currentQuizData[_0x28c7af(0x2f6)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0xfd212a=currentQuizData,_0x44ff09=window[_0x28c7af(0x546)]('',_0x28c7af(0xb0d)),_0x715c65=_0x463781=>String[_0x28c7af(0xa60)](0x41+_0x463781),_0x57a180=_0x28c7af(0x8df)+_0xfd212a[_0x28c7af(0x9b8)]+_0x28c7af(0x93c)+_0xfd212a[_0x28c7af(0x9b8)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfd212a['questions'][_0x28c7af(0x4b7)]((_0x29c386,_0x16de2d)=>{const _0x3d5c52=_0x28c7af;let _0x53bad2='';const _0x1d2b74=_0x29c386[_0x3d5c52(0xad0)]||_0xfd212a[_0x3d5c52(0x817)];switch(_0x1d2b74){case _0x3d5c52(0xaa4):case'fill_in_with_choices':_0x53bad2=_0x3d5c52(0xa2c)+_0x29c386[_0x3d5c52(0x89f)][_0x3d5c52(0x4b7)]((_0x1bbb61,_0x345b3e)=>_0x3d5c52(0x205)+_0x715c65(_0x345b3e)+'.\x20'+_0x1bbb61+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3d5c52(0x85c)](_0x3d5c52(0xaaa))+_0x3d5c52(0x6b3);break;case _0x3d5c52(0x34b):_0x53bad2='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x53bad2=_0x3d5c52(0xb07);break;}return _0x3d5c52(0x4b6)+(_0x16de2d+0x1)+_0x3d5c52(0x83c)+(_0x29c386[_0x3d5c52(0x20f)]||_0x29c386[_0x3d5c52(0x383)])+_0x3d5c52(0x648)+(_0x29c386[_0x3d5c52(0x92b)]?_0x3d5c52(0x646)+_0x29c386[_0x3d5c52(0x92b)]+'</div>':'')+_0x3d5c52(0xa48)+_0x53bad2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x28c7af(0x85c)]('')+_0x28c7af(0xa7e);_0x44ff09['document'][_0x28c7af(0x9be)](_0x57a180),_0x44ff09[_0x28c7af(0x57c)][_0x28c7af(0x9cd)](),_0x44ff09[_0x28c7af(0x5e3)]=function(){setTimeout(()=>{_0x44ff09['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x580fa8=_0x712516;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x580fa8(0x464));return;}const _0x272004=currentQuizData,_0x2e65a2=window[_0x580fa8(0x546)]('',_0x580fa8(0xb0d)),_0x59c5c0=_0x48de5b=>String['fromCharCode'](0x41+_0x48de5b),_0x312c29=_0x580fa8(0x5ca)+_0x272004[_0x580fa8(0x9b8)]+_0x580fa8(0x3df)+_0x272004[_0x580fa8(0x2f6)][_0x580fa8(0x4b7)]((_0x16ec23,_0x57aeab)=>{const _0x8f5dee=_0x580fa8;let _0x249440='';const _0x134cc7=_0x16ec23['questionType']||_0x272004[_0x8f5dee(0x817)];switch(_0x134cc7){case _0x8f5dee(0xaa4):case _0x8f5dee(0x21c):_0x249440=_0x8f5dee(0x78b)+_0x16ec23['options'][_0x8f5dee(0x4b7)]((_0x47b314,_0x31a3c1)=>_0x8f5dee(0xa8f)+_0x59c5c0(_0x31a3c1)+'.\x20'+_0x47b314+'</span>')[_0x8f5dee(0x85c)](_0x8f5dee(0xaaa))+_0x8f5dee(0xb14);break;case _0x8f5dee(0x34b):_0x249440='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x249440='';break;}return _0x8f5dee(0x22a)+_0x272004[_0x8f5dee(0x9b8)]+_0x8f5dee(0x35b)+(_0x57aeab+0x1)+_0x8f5dee(0x93a)+(_0x16ec23[_0x8f5dee(0x20f)]||_0x16ec23[_0x8f5dee(0x383)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16ec23[_0x8f5dee(0x92b)]?_0x8f5dee(0x2eb)+_0x16ec23[_0x8f5dee(0x92b)]+_0x8f5dee(0x6b3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x249440+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x580fa8(0x85c)]('')+_0x580fa8(0x889);_0x2e65a2[_0x580fa8(0x57c)]['write'](_0x312c29),_0x2e65a2['document'][_0x580fa8(0x9cd)](),_0x2e65a2[_0x580fa8(0x5e3)]=function(){setTimeout(()=>{const _0x5c2cdb=_0x158c;_0x2e65a2[_0x5c2cdb(0xb0f)]();},0x5dc);};}async function handleToggleStarQuiz(_0x3a9c5b){const _0x4cafd6=_0x712516,_0xdf4196=doc(db,_0x4cafd6(0xade)+appId+_0x4cafd6(0x4b0),_0x3a9c5b);try{const _0x155bce=await getDoc(_0xdf4196);if(_0x155bce[_0x4cafd6(0x23c)]()){const _0x38511d=_0x155bce[_0x4cafd6(0x4fb)]()['isStarred']||![];await updateDoc(_0xdf4196,{'isStarred':!_0x38511d});}}catch(_0x2dd3cb){console['error'](_0x4cafd6(0x355),_0x2dd3cb),showMessage(_0x4cafd6(0x842));}}async function displayQuestionBank(){const _0x44679e=_0x712516,_0x46b6a0=document[_0x44679e(0x7e1)](_0x44679e(0x400));_0x46b6a0['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x247bf8=collection(db,_0x44679e(0xade)+appId+_0x44679e(0xa78)+userId+_0x44679e(0x713)),_0x1eaa32=query(_0x247bf8),_0x23f54a=await getDocs(_0x1eaa32);if(_0x23f54a['empty']){_0x46b6a0['innerHTML']=_0x44679e(0x4bf);return;}let _0x561734=_0x23f54a[_0x44679e(0xa6a)]['map'](_0x42c25f=>{const _0x4c175c=_0x44679e,_0x3d595d=_0x42c25f['data'](),_0x4ba18c=_0x42c25f['id'];return _0x4c175c(0x7b7)+JSON['stringify'](_0x3d595d)+_0x4c175c(0x258)+(_0x3d595d[_0x4c175c(0x383)]||_0x3d595d[_0x4c175c(0x20f)])+_0x4c175c(0x503)+_0x3d595d['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x44679e(0x85c)]('');_0x46b6a0[_0x44679e(0x519)]=_0x44679e(0x86b)+_0x561734+_0x44679e(0x92d),document[_0x44679e(0x7e1)](_0x44679e(0x6e7))[_0x44679e(0x996)]('click',createQuizFromBank);}catch(_0x356431){console[_0x44679e(0x7e3)](_0x44679e(0x4c7),_0x356431),_0x46b6a0[_0x44679e(0x519)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x8183a5,_0x3c4edb,_0x3a208a){const _0xb846ef=_0x712516,_0x589347=_0x8183a5[_0xb846ef(0xad0)]||currentQuizData[_0xb846ef(0x817)];let _0x1e39d6='';if(_0x589347===_0xb846ef(0xaa4)||_0x589347===_0xb846ef(0x34b)){const _0x4df80e=_0x589347===_0xb846ef(0x34b)?[_0xb846ef(0x359),_0xb846ef(0x597)]:_0x8183a5['options'],_0x42337a=_0x589347===_0xb846ef(0x34b)?_0x8183a5[_0xb846ef(0xa24)]?0x0:0x1:_0x8183a5[_0xb846ef(0x4d1)];_0x1e39d6=_0x4df80e[_0xb846ef(0x4b7)]((_0x5cd1be,_0x4c145e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x4c145e===_0x42337a)+_0xb846ef(0xae7)+_0x5cd1be+_0xb846ef(0x63c))[_0xb846ef(0x85c)]('');}else{if(_0x589347===_0xb846ef(0x476)){const _0x40a47a=_0x8183a5[_0xb846ef(0xa5c)]||[];_0x1e39d6=_0x40a47a[_0xb846ef(0x4b7)](_0x43bc1c=>_0xb846ef(0x463)+(_0x43bc1c===_0x8183a5[_0xb846ef(0x1f2)])+_0xb846ef(0xae7)+_0x43bc1c+_0xb846ef(0x63c))[_0xb846ef(0x85c)]('');}}const _0x232316=_0x8183a5[_0xb846ef(0x20f)]||_0x8183a5[_0xb846ef(0x383)],_0x1a7a00='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x3c4edb+0x1)+_0xb846ef(0xb05)+_0x3a208a+_0xb846ef(0x39b)+currentLiveGamePin+_0xb846ef(0x661)+_0x232316+_0xb846ef(0xab5)+_0x1e39d6+_0xb846ef(0x3d9);liveGameView[_0xb846ef(0x519)]=_0x1a7a00,window['MathJax']&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]),document[_0xb846ef(0x7e1)](_0xb846ef(0x442))['addEventListener'](_0xb846ef(0x66f),()=>revealAnswerForAdmin(_0x3c4edb,_0x3a208a)),document[_0xb846ef(0x7e1)](_0xb846ef(0x779))[_0xb846ef(0x996)]('click',async()=>{const _0x4002fc=_0xb846ef;showConfirmation(_0x4002fc(0x3e8),async()=>{const _0x4933f7=_0x4002fc,_0x59d56d=doc(db,_0x4933f7(0xade)+appId+_0x4933f7(0x828),currentLiveGameId);await updateDoc(_0x59d56d,{'status':_0x4933f7(0x8f7)});});}),document[_0xb846ef(0x7e1)]('manage-players-btn')[_0xb846ef(0x996)](_0xb846ef(0x66f),()=>{const _0x22b658=_0xb846ef;document[_0x22b658(0x7e1)](_0x22b658(0x8d0))['classList'][_0x22b658(0xa3d)](_0x22b658(0x984));});}function showStudentLiveQuestionView(_0x29db07,_0xae037e,_0x5b79ec){const _0x44f21f=_0x712516,_0x2538bb=_0x29db07['questionType']||currentQuizData['quizType'];let _0xa636c8='';if(_0x2538bb==='multiple_choice'||_0x2538bb===_0x44f21f(0x34b)){const _0x44c3bf=_0x2538bb==='true_false'?[_0x44f21f(0x359),'ไม่ใช่']:_0x29db07[_0x44f21f(0x89f)];_0xa636c8=_0x44c3bf[_0x44f21f(0x4b7)]((_0x4f3443,_0x390679)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x390679+_0x44f21f(0x98b)+_0x4f3443+_0x44f21f(0x9d1))[_0x44f21f(0x85c)]('');}else{if(_0x2538bb===_0x44f21f(0x476)){const _0x596c9c=_0x29db07[_0x44f21f(0xa5c)]||[];_0xa636c8=_0x596c9c[_0x44f21f(0x4b7)]((_0x23b904,_0x176ec5)=>_0x44f21f(0x9ee)+_0x176ec5+_0x44f21f(0x98b)+_0x23b904+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x2538bb===_0x44f21f(0x344)&&(_0xa636c8=_0x44f21f(0x7d5));}const _0x38cedb=_0x29db07[_0x44f21f(0x20f)]||_0x29db07['questionText'],_0x1d1088=_0x44f21f(0x740)+(_0xae037e+0x1)+'\x20/\x20'+_0x5b79ec+_0x44f21f(0x64a)+_0x38cedb+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa636c8+_0x44f21f(0x510);liveGameView[_0x44f21f(0x519)]=_0x1d1088;window[_0x44f21f(0x7e0)]&&MathJax[_0x44f21f(0x7a9)]&&MathJax['typesetPromise']([liveGameView]);const _0x494ac0=document[_0x44f21f(0x7e1)](_0x44f21f(0x71e));_0x494ac0&&_0x494ac0[_0x44f21f(0x996)](_0x44f21f(0x66f),()=>{const _0x20dc78=_0x44f21f,_0x185135=document[_0x20dc78(0x7e1)]('live-short-answer-input')[_0x20dc78(0x848)];handleLiveAnswer(_0x185135,_0x29db07);}),document[_0x44f21f(0x7e1)](_0x44f21f(0x43a))[_0x44f21f(0x996)]('click',_0x4b3798=>{const _0x2cb04c=_0x44f21f,_0x3b8ba5=_0x4b3798[_0x2cb04c(0x815)][_0x2cb04c(0x56d)]('.live-answer-btn');if(_0x3b8ba5){const _0x57f674=parseInt(_0x3b8ba5['dataset'][_0x2cb04c(0x65d)]);handleLiveAnswer(_0x57f674,_0x29db07);}});}async function handleLiveAnswer(_0xd99fd9,_0x39009c){const _0x5a8765=_0x712516;document[_0x5a8765(0xa58)](_0x5a8765(0x655))[_0x5a8765(0x8e0)](_0xae7af=>_0xae7af[_0x5a8765(0xab8)]=!![]);const _0x3d36c3=_0x39009c[_0x5a8765(0xad0)]||currentQuizData['quizType'];let _0x4f384f=![],_0x56110c=_0xd99fd9;if(_0x3d36c3==='short_answer'){const _0x278a88=(_0xd99fd9||'')['toString']();_0x4f384f=await gradeShortAnswer(_0x278a88,_0x39009c);}else{if(_0x3d36c3==='multiple_choice')_0x4f384f=_0xd99fd9===_0x39009c[_0x5a8765(0x4d1)];else{if(_0x3d36c3===_0x5a8765(0x34b)){const _0x3c8928=_0x39009c[_0x5a8765(0xa24)];_0x4f384f=_0xd99fd9===0x0&&_0x3c8928||_0xd99fd9===0x1&&!_0x3c8928;}else{if(_0x3d36c3===_0x5a8765(0x476)){const _0x2bc05a=_0x39009c[_0x5a8765(0xa5c)][_0xd99fd9];_0x4f384f=_0x2bc05a===_0x39009c['correctResponse'],_0x56110c=_0x2bc05a;}}}}const _0x19020b=doc(db,_0x5a8765(0xade)+appId+_0x5a8765(0x828),currentLiveGameId),_0x331af7={};_0x331af7['players.'+currentStudentName+_0x5a8765(0x660)]=!![],_0x331af7[_0x5a8765(0xae9)+currentStudentName+_0x5a8765(0x23f)]=_0x4f384f,_0x331af7[_0x5a8765(0xae9)+currentStudentName+_0x5a8765(0xa1f)]=_0x3d36c3===_0x5a8765(0x344)||_0x3d36c3==='matching_item'?null:_0xd99fd9,_0x331af7['players.'+currentStudentName+_0x5a8765(0x506)]=_0x56110c,_0x331af7[_0x5a8765(0xae9)+currentStudentName+_0x5a8765(0x5e9)]=serverTimestamp(),_0x331af7[_0x5a8765(0xae9)+currentStudentName+_0x5a8765(0xa9a)]=![],await updateDoc(_0x19020b,_0x331af7),liveGameView['innerHTML']=_0x5a8765(0xace);}function showAdminSummaryView(_0x581442,_0x4474ab){const _0x25c920=_0x712516,_0x19b595=Object[_0x25c920(0x48c)](_0x581442[_0x25c920(0x3b0)]||{}),_0x44cf48=_0x4474ab['questionType']||currentQuizData[_0x25c920(0x817)],_0x1ab2c0=_0x44cf48===_0x25c920(0x34b)?[_0x25c920(0x359),_0x25c920(0x597)]:_0x4474ab['options']||_0x4474ab['allResponses']||[],_0xe9cb9d={},_0xc755d6=new Array(_0x1ab2c0['length'])['fill'](0x0);_0x1ab2c0[_0x25c920(0x8e0)]((_0x170e08,_0xefaa18)=>{_0xe9cb9d[_0xefaa18]=[];}),Object[_0x25c920(0x90d)](_0x581442[_0x25c920(0x3b0)]||{})[_0x25c920(0x8e0)](([_0x3ca602,_0x3fdf13])=>{const _0x267a82=_0x25c920;if(_0x3fdf13['status']===_0x267a82(0x2e2)&&_0x3fdf13['lastAnswerIndex']!==undefined){const _0x25cb0c=_0x3fdf13[_0x267a82(0x2cf)];_0xe9cb9d[_0x25cb0c]&&(_0xe9cb9d[_0x25cb0c][_0x267a82(0x95b)](_0x3ca602),_0xc755d6[_0x25cb0c]++);}});const _0x3727b0=Math[_0x25c920(0xa7d)](..._0xc755d6,0x1),_0x3e0522=_0x25c920(0x67a)+(_0x4474ab[_0x25c920(0x20f)]||_0x4474ab[_0x25c920(0x383)])+_0x25c920(0x41c)+_0xc755d6['map']((_0x1a1ec8,_0x445139)=>{const _0x11ffcc=_0x25c920,_0x2cbc38=_0xe9cb9d[_0x445139][_0x11ffcc(0x88b)]>0x0?_0xe9cb9d[_0x445139]['join'](',\x20'):_0x11ffcc(0x9b5);let _0x5e6b8e=![];if(_0x44cf48===_0x11ffcc(0xaa4))_0x5e6b8e=_0x445139===_0x4474ab[_0x11ffcc(0x4d1)];else{if(_0x44cf48==='true_false'){const _0x34021b=_0x4474ab[_0x11ffcc(0xa24)];_0x5e6b8e=_0x34021b&&_0x445139===0x0||!_0x34021b&&_0x445139===0x1;}else _0x44cf48==='matching_item'&&(_0x5e6b8e=_0x1ab2c0[_0x445139]===_0x4474ab['correctResponse']);}const _0x45b2c8=_0x5e6b8e?_0x11ffcc(0xa57):_0x11ffcc(0x5f0);return _0x11ffcc(0x67c)+_0x1a1ec8+_0x11ffcc(0x265)+_0x45b2c8+_0x11ffcc(0x6e9)+_0x445139+_0x11ffcc(0x49a)+_0x1ab2c0[_0x445139]+_0x11ffcc(0x3bd)+_0x445139+_0x11ffcc(0x42c)+_0x2cbc38+_0x11ffcc(0xa79);})[_0x25c920(0x85c)]('')+_0x25c920(0x2b8);liveGameView[_0x25c920(0x519)]=_0x3e0522;if(window[_0x25c920(0x7e0)])MathJax[_0x25c920(0x7a9)]();document[_0x25c920(0x7e1)](_0x25c920(0x42e))[_0x25c920(0x996)]('click',async()=>{const _0x290b1b=_0x25c920,_0x2b9f6d=doc(db,_0x290b1b(0xade)+appId+_0x290b1b(0x828),currentLiveGameId);await updateDoc(_0x2b9f6d,{'questionStatus':_0x290b1b(0x421)});}),document[_0x25c920(0x7e1)](_0x25c920(0x8d6))['addEventListener'](_0x25c920(0x66f),()=>{openScratchpad(_0x4474ab,_0x1ab2c0);});}function showPlayerSummaryView(_0x4df135,_0x4ebc7a){const _0x36ec6a=_0x712516,_0x331664=Object[_0x36ec6a(0x48c)](_0x4df135[_0x36ec6a(0x3b0)]||{}),_0x4dfb54=_0x4df135['players'][_0x4ebc7a],_0xe03ffe=_0x331664[_0x36ec6a(0xa4a)](_0x46bbc0=>_0x46bbc0['status']===_0x36ec6a(0x2e2))[_0x36ec6a(0x778)]((_0x15543c,_0x356388)=>_0x356388[_0x36ec6a(0x634)]-_0x15543c[_0x36ec6a(0x634)]),_0x5d5fe3=_0xe03ffe[_0x36ec6a(0xb1c)](_0x5781af=>_0x5781af===_0x4dfb54)+0x1,_0x10bc20=_0x4dfb54[_0x36ec6a(0x897)]?_0x36ec6a(0xada):_0x36ec6a(0x715),_0x9de6fe=_0x4dfb54[_0x36ec6a(0x897)]?_0x36ec6a(0x860):_0x36ec6a(0x27f),_0x3f134c=_0x4dfb54[_0x36ec6a(0x66d)]||0x0,_0x2735ec=_0x36ec6a(0x285),_0x47e8a4=_0x36ec6a(0xa2e)+_0x2735ec+_0x36ec6a(0x54b)+_0x9de6fe+_0x36ec6a(0xa1b)+_0x10bc20+_0x36ec6a(0x649)+_0x3f134c+_0x36ec6a(0xa9b)+(_0x5d5fe3>0x0?_0x5d5fe3:'-')+_0x36ec6a(0xa08);liveGameView[_0x36ec6a(0x519)]=_0x47e8a4;}function createQuizFromBank(){const _0x1cb134=_0x712516,_0x3e6108=document['querySelectorAll'](_0x1cb134(0x4f4));if(_0x3e6108['length']===0x0){showMessage(_0x1cb134(0x87f));return;}const _0x2fbac8=[];_0x3e6108[_0x1cb134(0x8e0)](_0x47fc51=>{const _0x4928bf=_0x1cb134;_0x2fbac8[_0x4928bf(0x95b)](JSON[_0x4928bf(0x689)](_0x47fc51[_0x4928bf(0x848)]));});const _0x1e220b={'topic':_0x1cb134(0x96d),'questions':_0x2fbac8};displayGeneratedQuiz(_0x1e220b);}function showAdminLobbyView(_0xb1cf2,_0x52dd06){const _0x28f61b=_0x712516;showView(_0x28f61b(0x6ed));const _0x3aa498=_0x28f61b(0x4df)+_0x52dd06+_0x28f61b(0x539)+_0xb1cf2+_0x28f61b(0x852);liveGameView[_0x28f61b(0x519)]=_0x3aa498,document[_0x28f61b(0x7e1)](_0x28f61b(0x45e))[_0x28f61b(0x996)](_0x28f61b(0x66f),async()=>{const _0x37da3a=_0x28f61b;if(!currentQuizData||!currentQuizData[_0x37da3a(0x2f6)]||currentQuizData[_0x37da3a(0x2f6)]['length']===0x0){showMessage(_0x37da3a(0x217));return;}try{const _0x18345f=doc(db,_0x37da3a(0xade)+appId+_0x37da3a(0x828),currentLiveGameId);await updateDoc(_0x18345f,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1b4423=currentQuizData[_0x37da3a(0x2f6)][0x0],_0x2a3ea6=currentQuizData[_0x37da3a(0x2f6)][_0x37da3a(0x88b)];showAdminLiveQuestionView(_0x1b4423,0x0,_0x2a3ea6);}catch(_0x32eb14){console[_0x37da3a(0x7e3)](_0x37da3a(0x32e),_0x32eb14),showMessage(_0x37da3a(0x73f));}});}async function openGlobalLiveModal(){const _0xa232c6=_0x712516;if(allQuizzesGlobal[_0xa232c6(0x88b)]===0x0){const _0x5da1b7=await getDocs(collection(db,_0xa232c6(0xade)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5da1b7[_0xa232c6(0xa6a)][_0xa232c6(0x4b7)](_0x3625a4=>({'id':_0x3625a4['id'],..._0x3625a4['data']()}));}renderGlobalQuizList(''),document[_0xa232c6(0x7e1)]('global-live-game-modal')[_0xa232c6(0x709)]['remove']('hidden');}async function openQuizBankModal(){const _0x3a7158=_0x712516;if(allQuizzesGlobal[_0x3a7158(0x88b)]===0x0){const _0x2e1d4c=await getDocs(collection(db,_0x3a7158(0xade)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2e1d4c[_0x3a7158(0xa6a)][_0x3a7158(0x4b7)](_0xea6f5a=>({'id':_0xea6f5a['id'],..._0xea6f5a[_0x3a7158(0x4fb)]()}));}renderQuizBankList(''),document['getElementById'](_0x3a7158(0x2e8))['classList'][_0x3a7158(0x5b3)]('hidden');}function renderQuizBankList(_0x3de814=''){const _0x412ea8=_0x712516,_0x346080=document['getElementById'](_0x412ea8(0x600)),_0x2688df=_0x3de814[_0x412ea8(0xaec)]()['trim'](),_0x19c27e=allQuizzesGlobal[_0x412ea8(0x4b7)](_0x11cfd7=>({..._0x11cfd7,'projectName':allProjects[_0x412ea8(0xafd)](_0xf5e60d=>_0xf5e60d['id']===_0x11cfd7['projectId'])?.[_0x412ea8(0x567)]||_0x412ea8(0x735)}))['filter'](_0x2a32c8=>(_0x2a32c8[_0x412ea8(0x9b8)]||'')[_0x412ea8(0xaec)]()['includes'](_0x2688df)||(_0x2a32c8['projectName']||'')['toLowerCase']()[_0x412ea8(0x29d)](_0x2688df)||_0x2a32c8['id'][_0x412ea8(0x431)]()[_0x412ea8(0x29d)](_0x2688df));document['getElementById']('quiz-bank-count')[_0x412ea8(0x8b8)]='('+_0x19c27e[_0x412ea8(0x88b)]+_0x412ea8(0x93f),_0x346080[_0x412ea8(0x519)]=_0x19c27e[_0x412ea8(0x88b)]?_0x19c27e[_0x412ea8(0x4b7)](_0x2a842b=>_0x412ea8(0x324)+_0x2a842b['id']+_0x412ea8(0x2ff)+(_0x2a842b['topic']||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x2a842b[_0x412ea8(0x2f6)]?.[_0x412ea8(0x88b)]||0x0)+_0x412ea8(0x94f)+_0x2a842b[_0x412ea8(0x567)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x2a842b['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a842b['id']+_0x412ea8(0xa49)+_0x2a842b['id']+_0x412ea8(0x877)+_0x2a842b['id']+_0x412ea8(0x58a)+_0x2a842b['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a842b['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a842b['id']+_0x412ea8(0x292)+_0x2a842b[_0x412ea8(0x9b8)]+_0x412ea8(0x626))['join'](''):_0x412ea8(0x1eb),_0x346080[_0x412ea8(0xa58)](_0x412ea8(0x866))[_0x412ea8(0x8e0)](_0x18faa4=>{const _0x5c5a37=_0x412ea8;_0x18faa4[_0x5c5a37(0x996)]('click',()=>{const _0x195bc0=_0x5c5a37,_0x25bd08=_0x18faa4[_0x195bc0(0x478)]['id'];document['getElementById'](_0x195bc0(0x2e8))[_0x195bc0(0x709)][_0x195bc0(0x484)](_0x195bc0(0x984)),showQuizDetailView(_0x25bd08);});}),_0x346080[_0x412ea8(0xa58)](_0x412ea8(0xa3e))[_0x412ea8(0x8e0)](_0x56d4c0=>{const _0x2c107c=_0x412ea8;_0x56d4c0[_0x2c107c(0x996)]('click',_0xee1d37=>{const _0x4a4f42=_0x2c107c;_0xee1d37['stopPropagation']();const _0x4316b9=_0x56d4c0[_0x4a4f42(0x478)]['id'],_0x58133c=allQuizzesGlobal[_0x4a4f42(0xafd)](_0x920e84=>_0x920e84['id']===_0x4316b9);_0x58133c?(currentQuizData=_0x58133c,document['getElementById'](_0x4a4f42(0x2e8))[_0x4a4f42(0x709)][_0x4a4f42(0x484)]('hidden'),startAdminTest()):showMessage(_0x4a4f42(0x96a));});}),_0x346080[_0x412ea8(0xa58)](_0x412ea8(0x8fa))[_0x412ea8(0x8e0)](_0x264e33=>{const _0x5363df=_0x412ea8;_0x264e33[_0x5363df(0x996)](_0x5363df(0x66f),_0x18b5b2=>{const _0x5deea7=_0x5363df;_0x18b5b2[_0x5deea7(0x45f)]();const _0x55b9e4=_0x264e33[_0x5deea7(0x478)]['id'],_0x158d79=allQuizzesGlobal[_0x5deea7(0xafd)](_0x9d6edf=>_0x9d6edf['id']===_0x55b9e4);_0x158d79?(document[_0x5deea7(0x7e1)]('quiz-bank-modal')[_0x5deea7(0x709)]['add'](_0x5deea7(0x984)),handleGenerateParallelFromBank(_0x158d79)):showMessage(_0x5deea7(0x96a));});}),_0x346080[_0x412ea8(0xa58)]('.quiz-bank-present-btn')['forEach'](_0x18c847=>{const _0x1b09cc=_0x412ea8;_0x18c847[_0x1b09cc(0x996)](_0x1b09cc(0x66f),_0x54ef9f=>{const _0x5a9f26=_0x1b09cc;_0x54ef9f[_0x5a9f26(0x45f)]();const _0x43830e=_0x18c847[_0x5a9f26(0x478)]['id'],_0x51b03b=allQuizzesGlobal[_0x5a9f26(0xafd)](_0xe11001=>_0xe11001['id']===_0x43830e);_0x51b03b?(document[_0x5a9f26(0x7e1)](_0x5a9f26(0x2e8))[_0x5a9f26(0x709)][_0x5a9f26(0x484)](_0x5a9f26(0x984)),startPresentation(_0x51b03b)):showMessage(_0x5a9f26(0x96a));});}),_0x346080[_0x412ea8(0xa58)](_0x412ea8(0xa5d))[_0x412ea8(0x8e0)](_0x1e9eb6=>{const _0x2a66c4=_0x412ea8;_0x1e9eb6[_0x2a66c4(0x996)](_0x2a66c4(0x66f),_0x10c2fb=>{const _0x27632=_0x2a66c4;_0x10c2fb['stopPropagation']();const _0x437183=_0x1e9eb6[_0x27632(0x478)]['id'];document[_0x27632(0x7e1)]('quiz-bank-modal')[_0x27632(0x709)][_0x27632(0x484)](_0x27632(0x984)),handleMoveQuiz(_0x437183);});}),_0x346080[_0x412ea8(0xa58)](_0x412ea8(0x9cf))[_0x412ea8(0x8e0)](_0x48ffb4=>{const _0x391845=_0x412ea8;_0x48ffb4[_0x391845(0x996)](_0x391845(0x66f),_0x49a8ec=>{const _0x404429=_0x391845;_0x49a8ec[_0x404429(0x45f)]();const _0x50dc22=_0x48ffb4['dataset']['id'];document[_0x404429(0x7e1)]('quiz-bank-modal')['classList'][_0x404429(0x484)](_0x404429(0x984)),handleQuizSettings(_0x50dc22);});}),_0x346080[_0x412ea8(0xa58)](_0x412ea8(0x997))[_0x412ea8(0x8e0)](_0x35e6a7=>{const _0x267ca2=_0x412ea8;_0x35e6a7['addEventListener'](_0x267ca2(0x66f),_0x32064f=>{const _0x413ea8=_0x267ca2;_0x32064f[_0x413ea8(0x45f)]();const _0x3d644b=_0x35e6a7[_0x413ea8(0x478)]['id'],_0x4e746a=_0x35e6a7[_0x413ea8(0x478)][_0x413ea8(0x9b8)];showConfirmation(_0x413ea8(0x608)+_0x4e746a+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x3d644b));});});}async function handleCompareResults(_0x50a1db,_0x520b00){const _0x5e6dea=_0x712516,_0x184fd8=document[_0x5e6dea(0x7e1)](_0x5e6dea(0x45b)),_0x1f2810=document[_0x5e6dea(0x7e1)](_0x5e6dea(0x730)),_0x46c8e0=document['getElementById']('comparison-individual-content');document[_0x5e6dea(0x7e1)]('comparison-overall-tab')[_0x5e6dea(0x709)][_0x5e6dea(0x484)](_0x5e6dea(0x2e2)),document[_0x5e6dea(0x7e1)](_0x5e6dea(0x636))[_0x5e6dea(0x709)][_0x5e6dea(0x5b3)](_0x5e6dea(0x2e2)),_0x1f2810[_0x5e6dea(0x709)][_0x5e6dea(0x5b3)](_0x5e6dea(0x984)),_0x46c8e0[_0x5e6dea(0x709)][_0x5e6dea(0x484)](_0x5e6dea(0x984)),_0x1f2810['innerHTML']=_0x5e6dea(0x9fa),_0x46c8e0['innerHTML']='',_0x184fd8[_0x5e6dea(0x709)]['remove'](_0x5e6dea(0x984));try{const _0x4a7001=doc(db,'artifacts/'+appId+_0x5e6dea(0x4b0),_0x50a1db),_0x453926=await getDoc(_0x4a7001);if(!_0x453926['exists']())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x10943b=_0x453926[_0x5e6dea(0x4fb)](),_0x47b98a=_0x10943b['questions'][_0x5e6dea(0x88b)],_0x538b7c=collection(db,_0x5e6dea(0xade)+appId+_0x5e6dea(0x8a4)+_0x520b00+_0x5e6dea(0x437)),_0x3fd4c2=collection(db,_0x5e6dea(0xade)+appId+_0x5e6dea(0x8a4)+_0x50a1db+_0x5e6dea(0x437)),[_0x4d9bb5,_0x1b42a1]=await Promise['all']([getDocs(_0x538b7c),getDocs(_0x3fd4c2)]),_0x3bf45d=_0x4d9bb5[_0x5e6dea(0xa6a)][_0x5e6dea(0x4b7)](_0x42429d=>_0x42429d[_0x5e6dea(0x4fb)]()),_0x1035dd=_0x1b42a1[_0x5e6dea(0xa6a)][_0x5e6dea(0x4b7)](_0x3f2fdd=>_0x3f2fdd[_0x5e6dea(0x4fb)]()),_0x7718b3=_0x3bf45d['map'](_0x24d9a1=>_0x24d9a1['latestScore']),_0x212592=_0x1035dd[_0x5e6dea(0x4b7)](_0x528f33=>_0x528f33[_0x5e6dea(0x4dd)]),_0x18cd46=calculateMeanAndStdDev(_0x7718b3),_0x47eb18=calculateMeanAndStdDev(_0x212592),_0x47141a=_0x18cd46['mean'],_0x5647af=_0x47eb18[_0x5e6dea(0x4d8)],_0x281e6c=_0x5647af-_0x47141a;let _0x4495a2=_0x5e6dea(0x55f)+_0x47141a[_0x5e6dea(0x7d8)](0x2)+_0x5e6dea(0x8e7)+_0x5647af[_0x5e6dea(0x7d8)](0x2)+_0x5e6dea(0xa4b)+(_0x281e6c>=0x0?_0x5e6dea(0x33f):_0x5e6dea(0x2ec))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x281e6c>=0x0?_0x5e6dea(0x5f8):_0x5e6dea(0x8a3))+_0x5e6dea(0x4cc)+(_0x281e6c>=0x0?_0x5e6dea(0x9dc):_0x5e6dea(0x65b))+'\x22>'+(_0x281e6c>=0x0?'+':'')+_0x281e6c[_0x5e6dea(0x7d8)](0x2)+_0x5e6dea(0x1e3);_0x1f2810[_0x5e6dea(0x519)]=_0x4495a2;const _0x5a28d5=document[_0x5e6dea(0x7e1)](_0x5e6dea(0x9e3))[_0x5e6dea(0xab3)]('2d');if(chartInstances[_0x5e6dea(0x4ba)])chartInstances[_0x5e6dea(0x4ba)][_0x5e6dea(0x82a)]();chartInstances[_0x5e6dea(0x4ba)]=new Chart(_0x5a28d5,{'type':_0x5e6dea(0x7f6),'data':{'labels':[_0x5e6dea(0x68f)],'datasets':[{'label':'ก่อนเรียน','data':[_0x47141a],'backgroundColor':_0x5e6dea(0x5f1)},{'label':_0x5e6dea(0x900),'data':[_0x5647af],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x47b98a}}}});const _0x35617c=currentProjectData[_0x5e6dea(0xa29)]||[],_0x13362e=_0x35617c[_0x5e6dea(0x4b7)](_0x5e75f5=>{const _0x405018=_0x5e6dea,_0xeb191c=_0x3bf45d[_0x405018(0xafd)](_0x487111=>_0x487111[_0x405018(0x4ed)]===_0x5e75f5),_0x270ada=_0x1035dd[_0x405018(0xafd)](_0x197e62=>_0x197e62[_0x405018(0x4ed)]===_0x5e75f5),_0x22d1d1=_0xeb191c?_0xeb191c[_0x405018(0x4dd)]:null,_0x12de52=_0x270ada?_0x270ada[_0x405018(0x4dd)]:null,_0x393fb2=_0x22d1d1!==null&&_0x12de52!==null?_0x12de52-_0x22d1d1:null,_0x336ca0=_0x22d1d1!==null?calculateZScore(_0x22d1d1,_0x18cd46[_0x405018(0x4d8)],_0x18cd46[_0x405018(0x3ea)]):null,_0x478588=_0x12de52!==null?calculateZScore(_0x12de52,_0x47eb18[_0x405018(0x4d8)],_0x47eb18[_0x405018(0x3ea)]):null,_0x339101=_0x336ca0!==null?calculateTScore(_0x336ca0):null,_0x332fc0=_0x478588!==null?calculateTScore(_0x478588):null,_0x3b29cb=_0x339101!==null&&_0x332fc0!==null?_0x332fc0-_0x339101:null;return{'name':_0x5e75f5,'preScore':_0x22d1d1,'postScore':_0x12de52,'gain':_0x393fb2,'preTScore':_0x339101,'postTScore':_0x332fc0,'tGain':_0x3b29cb};});renderIndividualComparisonTable(_0x13362e,_0x46c8e0);}catch(_0x5d417c){console['error'](_0x5e6dea(0x855),_0x5d417c),_0x1f2810['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x1f5177,_0x22c221){const _0x527305=_0x712516,_0x58aa8c=_0x1f5177>=_0x22c221/0x2,_0xb8fe2f=_0x58aa8c?_0x527305(0x969):_0x527305(0x2ec),_0x4579c3=_0x58aa8c?_0x527305(0x320):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x2dbef1=_0x58aa8c?_0x527305(0x9ab):_0x527305(0x8a3),_0x288847=_0x58aa8c?_0x527305(0x2d5):_0x527305(0x1fe),_0x179fe5=_0x58aa8c?_0x527305(0xacd):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x3b2d9a=_0x527305(0xa6b)+_0xb8fe2f+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4579c3+_0x527305(0x824)+_0x2dbef1+'\x20mb-2\x22>'+_0x288847+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x179fe5+_0x527305(0x6ba);studentResultArea[_0x527305(0x519)]=_0x3b2d9a,studentResultArea[_0x527305(0x709)][_0x527305(0x5b3)](_0x527305(0x984)),studentQuizArea[_0x527305(0x709)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x58aa8c});}function displayPerfectScoreResult(_0x4c5f79,_0x4510d8){const _0x28a960=_0x712516,_0x74ee46=_0x4c5f79===_0x4510d8,_0x276ff7=_0x74ee46?_0x28a960(0x335):_0x28a960(0x3b3),_0xd1f81=_0x74ee46?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x1c83fc=_0x74ee46?_0x28a960(0x81f):_0x28a960(0xa4e),_0x574cf8=_0x74ee46?_0x28a960(0x365):_0x28a960(0x62d),_0x283a12=_0x74ee46?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x28a960(0x755);let _0x27305c=_0x28a960(0xa6b)+_0x276ff7+_0x28a960(0xad3)+_0xd1f81+_0x28a960(0x824)+_0x1c83fc+'\x20mb-2\x22>'+_0x574cf8+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x283a12+_0x28a960(0x6ba);studentResultArea[_0x28a960(0x519)]=_0x27305c,studentResultArea['classList'][_0x28a960(0x5b3)](_0x28a960(0x984)),studentQuizArea['classList'][_0x28a960(0x484)](_0x28a960(0x984)),setupResultScreenBackButton({'showRankings':![],'score':_0x4c5f79,'totalQuestions':_0x4510d8});}function renderIndividualComparisonTable(_0x276ded,_0x1cb38e){const _0x30fd90=_0x712516;_0x276ded[_0x30fd90(0x778)]((_0x588eba,_0xa5be7a)=>(_0xa5be7a[_0x30fd90(0xabb)]??-Infinity)-(_0x588eba[_0x30fd90(0xabb)]??-Infinity));let _0x3f46a1=_0x30fd90(0x81d);_0x276ded[_0x30fd90(0x88b)]===0x0?_0x3f46a1+=_0x30fd90(0x601):_0x276ded[_0x30fd90(0x8e0)]((_0x1f8848,_0x192320)=>{const _0x38844c=_0x30fd90;let _0xd419d6='-',_0x117803='';if(_0x1f8848[_0x38844c(0xa04)]!==null){const _0x436125=_0x1f8848[_0x38844c(0xa04)]>0x0?_0x38844c(0x370):_0x1f8848[_0x38844c(0xa04)]<0x0?_0x38844c(0x5ee):'text-gray-500',_0xcbf132=_0x1f8848[_0x38844c(0xa04)]>0x0?'+':'';_0xd419d6=_0x38844c(0x2ba)+_0x436125+'\x22>'+_0xcbf132+_0x1f8848[_0x38844c(0xa04)]+'</span>';if(_0x1f8848[_0x38844c(0xa04)]>0x0)_0x117803=_0x38844c(0x957);else _0x1f8848[_0x38844c(0xa04)]<0x0?_0x117803=_0x38844c(0x4a3):_0x117803='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x58c96c='-';if(_0x1f8848[_0x38844c(0xabb)]!==null){const _0x14167a=_0x1f8848[_0x38844c(0xabb)]>0x0?'text-green-600':_0x1f8848[_0x38844c(0xabb)]<0x0?'text-red-600':_0x38844c(0x864),_0x12cd9c=_0x1f8848[_0x38844c(0xabb)]>0x0?'+':'';_0x58c96c='<span\x20class=\x22font-bold\x20'+_0x14167a+'\x22>'+_0x12cd9c+_0x1f8848[_0x38844c(0xabb)][_0x38844c(0x7d8)](0x2)+'</span>';}_0x3f46a1+=_0x38844c(0x2fe)+(_0x192320+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x1f8848['name']+_0x38844c(0x3de)+(_0x1f8848['preScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x1f8848[_0x38844c(0x6b4)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0xd419d6+_0x38844c(0x2aa)+_0x117803+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x1f8848[_0x38844c(0x4b5)]?.[_0x38844c(0x7d8)](0x2)??'-')+_0x38844c(0x33b)+(_0x1f8848[_0x38844c(0x6fc)]?.[_0x38844c(0x7d8)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x58c96c+_0x38844c(0x5d9);}),_0x3f46a1+=_0x30fd90(0x30c),_0x1cb38e[_0x30fd90(0x519)]=_0x3f46a1;}function handleRenameQuiz(_0x3cd50f,_0x521cde){const _0x26bc6f=_0x712516;actionTargetId=_0x3cd50f,document[_0x26bc6f(0x7e1)](_0x26bc6f(0x890))[_0x26bc6f(0x848)]=_0x521cde,renameQuizModal[_0x26bc6f(0x709)][_0x26bc6f(0x5b3)](_0x26bc6f(0x984));}function setupComparisonModalTabs(){const _0x1c6542=_0x712516,_0x2e1977=document[_0x1c6542(0x7e1)]('comparison-overall-tab'),_0x349303=document[_0x1c6542(0x7e1)](_0x1c6542(0x636)),_0x4f27eb=document[_0x1c6542(0x7e1)](_0x1c6542(0x730)),_0x1d8c0c=document[_0x1c6542(0x7e1)](_0x1c6542(0x61f));_0x2e1977[_0x1c6542(0x996)]('click',()=>{const _0x4a184c=_0x1c6542;_0x2e1977[_0x4a184c(0x709)][_0x4a184c(0x484)](_0x4a184c(0x2e2)),_0x349303[_0x4a184c(0x709)][_0x4a184c(0x5b3)](_0x4a184c(0x2e2)),_0x4f27eb[_0x4a184c(0x709)][_0x4a184c(0x5b3)](_0x4a184c(0x984)),_0x1d8c0c['classList'][_0x4a184c(0x484)]('hidden');}),_0x349303[_0x1c6542(0x996)]('click',()=>{const _0x892a82=_0x1c6542;_0x349303[_0x892a82(0x709)][_0x892a82(0x484)](_0x892a82(0x2e2)),_0x2e1977['classList'][_0x892a82(0x5b3)]('active'),_0x1d8c0c[_0x892a82(0x709)][_0x892a82(0x5b3)](_0x892a82(0x984)),_0x4f27eb[_0x892a82(0x709)][_0x892a82(0x484)]('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x4d5df0=''){const _0x4e6591=_0x712516,_0x1fb03e=document[_0x4e6591(0x7e1)](_0x4e6591(0x907)),_0x369346=_0x4d5df0[_0x4e6591(0xaec)]()[_0x4e6591(0x847)](),_0x587a51=allQuizzesGlobal[_0x4e6591(0x4b7)](_0x1fc5a9=>({..._0x1fc5a9,'projectName':allProjects[_0x4e6591(0xafd)](_0x19f17a=>_0x19f17a['id']===_0x1fc5a9['projectId'])?.[_0x4e6591(0x567)]||_0x1fc5a9[_0x4e6591(0x243)]}))[_0x4e6591(0xa4a)](_0x3ec403=>(_0x3ec403[_0x4e6591(0x9b8)]||'')[_0x4e6591(0xaec)]()[_0x4e6591(0x29d)](_0x369346)||(_0x3ec403[_0x4e6591(0x567)]||'')[_0x4e6591(0xaec)]()['includes'](_0x369346));document[_0x4e6591(0x7e1)](_0x4e6591(0xa73))[_0x4e6591(0x8b8)]='('+_0x587a51[_0x4e6591(0x88b)]+'\x20ชุด)',_0x1fb03e['innerHTML']=_0x587a51[_0x4e6591(0x88b)]?_0x587a51[_0x4e6591(0x4b7)](_0x13780d=>_0x4e6591(0x33a)+_0x13780d['id']+_0x4e6591(0x4aa)+(_0x13780d[_0x4e6591(0x9b8)]||_0x4e6591(0x645))+_0x4e6591(0x2db)+(_0x13780d['questions']?.[_0x4e6591(0x88b)]||0x0)+_0x4e6591(0xafe)+_0x13780d['projectName']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')[_0x4e6591(0x85c)](''):_0x4e6591(0x6f9),selectedGlobalQuizId=null,document[_0x4e6591(0x7e1)]('confirm-global-live-btn')[_0x4e6591(0xab8)]=!![],_0x1fb03e[_0x4e6591(0xa58)](_0x4e6591(0x60d))[_0x4e6591(0x8e0)](_0x205ddc=>{const _0x2b5711=_0x4e6591;_0x205ddc[_0x2b5711(0x996)](_0x2b5711(0x66f),()=>{const _0x5f391d=_0x2b5711;selectedGlobalQuizId=_0x205ddc['dataset']['id'],_0x1fb03e['querySelectorAll']('button')[_0x5f391d(0x8e0)](_0x4dfbde=>_0x4dfbde[_0x5f391d(0x709)][_0x5f391d(0x5b3)](_0x5f391d(0x752),_0x5f391d(0x664),_0x5f391d(0xae4))),_0x205ddc['classList']['add'](_0x5f391d(0x752),_0x5f391d(0x664),_0x5f391d(0xae4)),document[_0x5f391d(0x7e1)](_0x5f391d(0x952))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x598a97=_0x712516;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4e1423=doc(db,_0x598a97(0xade)+appId+_0x598a97(0x828),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4e1423,_0x18270b=>{const _0x1f23e7=_0x598a97;if(!_0x18270b[_0x1f23e7(0x23c)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x36ac72=_0x18270b[_0x1f23e7(0x4fb)]();_0x36ac72[_0x1f23e7(0x891)]&&(currentQuizData=_0x36ac72[_0x1f23e7(0x891)]);!currentQuizData&&_0x36ac72[_0x1f23e7(0x351)]&&((async()=>{const _0x4ed8d0=_0x1f23e7;try{const _0x2252ae=doc(db,_0x4ed8d0(0xade)+appId+_0x4ed8d0(0x4b0),_0x36ac72[_0x4ed8d0(0x351)]),_0xbdbeaf=await getDoc(_0x2252ae);_0xbdbeaf[_0x4ed8d0(0x23c)]()&&(currentQuizData={'id':_0xbdbeaf['id'],..._0xbdbeaf[_0x4ed8d0(0x4fb)]()});}catch(_0x10d89d){console[_0x4ed8d0(0x7e3)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x10d89d);}})());switch(_0x36ac72[_0x1f23e7(0x407)]){case'lobby':if(currentMode===_0x1f23e7(0x250)){const _0x2b7f13=_0x36ac72['players']?Object['entries'](_0x36ac72['players']):[],_0x20b1fe=_0x2b7f13[_0x1f23e7(0xa4a)](([_0x1fffe6,_0x2ed937])=>_0x2ed937[_0x1f23e7(0x407)]===_0x1f23e7(0x2e2)),_0x4b9fa3=document[_0x1f23e7(0x7e1)](_0x1f23e7(0x94b));if(_0x4b9fa3)_0x4b9fa3['textContent']=_0x20b1fe[_0x1f23e7(0x88b)];const _0x4f3e16=document[_0x1f23e7(0x7e1)](_0x1f23e7(0x2c8));_0x4f3e16&&(_0x4f3e16[_0x1f23e7(0x519)]=_0x20b1fe[_0x1f23e7(0x4b7)](([_0x15a17b,_0x7862bb])=>_0x1f23e7(0x4f5)+_0x15a17b+_0x1f23e7(0x987)+_0x15a17b+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1f23e7(0x85c)](''));const _0x5d116f=document[_0x1f23e7(0x7e1)](_0x1f23e7(0x45e));_0x5d116f&&(_0x5d116f[_0x1f23e7(0xab8)]=_0x20b1fe[_0x1f23e7(0x88b)]===0x0);}else showView(_0x1f23e7(0x6ed)),liveGameView[_0x1f23e7(0x519)]=_0x1f23e7(0x88f)+currentStudentName+_0x1f23e7(0x40b);break;case'question':const _0x489f1b=_0x36ac72['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x1f23e7(0x2f6)][_0x489f1b]){const _0x14e1b8=currentQuizData[_0x1f23e7(0x2f6)][_0x489f1b],_0x50d925=_0x36ac72[_0x1f23e7(0x5cb)]||_0x1f23e7(0xa6d);switch(_0x50d925){case _0x1f23e7(0x1fd):currentMode===_0x1f23e7(0x250)?showAdminSummaryView(_0x36ac72,_0x14e1b8):showPlayerSummaryView(_0x36ac72,currentStudentName);break;case _0x1f23e7(0x421):currentMode===_0x1f23e7(0x250)&&showTop5LeaderboardView(_0x36ac72);break;case _0x1f23e7(0xa6d):default:if(currentMode===_0x1f23e7(0x250)){const _0x268d72=writeBatch(db);let _0x3b268b=![];Object[_0x1f23e7(0x90d)](_0x36ac72['players'])['forEach'](([_0x4c7ac0,_0x2b6f36])=>{const _0x5b3928=_0x1f23e7;if(_0x2b6f36[_0x5b3928(0x407)]===_0x5b3928(0x2e2)&&_0x2b6f36['submittedAt']&&!_0x2b6f36[_0x5b3928(0x83a)]){_0x3b268b=!![];const _0x34dcd7=_0x2b6f36[_0x5b3928(0x287)][_0x5b3928(0x4ca)]()-_0x36ac72[_0x5b3928(0x7e7)]['toDate']();let _0x28a3bb=0x0;if(_0x2b6f36['lastAnswerCorrect']){const _0x2fbe9e=0x3e8,_0x1774de=0x1f4,_0x5c1cf3=0x4e20;let _0x4a1fa0=_0x34dcd7/_0x5c1cf3;if(_0x4a1fa0>0x1)_0x4a1fa0=0x1;const _0x4fbbc5=Math[_0x5b3928(0x91b)](_0x4a1fa0*_0x1774de);_0x28a3bb=_0x2fbe9e-_0x4fbbc5;}const _0x10bd35=doc(db,_0x5b3928(0xade)+appId+_0x5b3928(0x828),currentLiveGameId);_0x268d72[_0x5b3928(0xa37)](_0x10bd35,{[_0x5b3928(0xae9)+_0x4c7ac0+_0x5b3928(0x580)]:increment(_0x28a3bb),[_0x5b3928(0xae9)+_0x4c7ac0+_0x5b3928(0x5c1)]:_0x28a3bb,[_0x5b3928(0xae9)+_0x4c7ac0+_0x5b3928(0xa9a)]:!![]});}});_0x3b268b&&_0x268d72[_0x1f23e7(0x80f)]()[_0x1f23e7(0x9b0)](_0x32326e=>console['error'](_0x1f23e7(0x93d),_0x32326e));lastRenderedAdminQuestionIndex!==_0x489f1b&&(showAdminLiveQuestionView(_0x14e1b8,_0x489f1b,currentQuizData[_0x1f23e7(0x2f6)][_0x1f23e7(0x88b)]),lastRenderedAdminQuestionIndex=_0x489f1b);const _0x5335f4=_0x36ac72[_0x1f23e7(0x3b0)]||{},_0x2114a7=Object[_0x1f23e7(0x48c)](_0x5335f4)[_0x1f23e7(0xa4a)](_0x45d996=>_0x45d996[_0x1f23e7(0x407)]==='active'),_0x347b2f=_0x2114a7[_0x1f23e7(0x88b)],_0x5f1d7f=_0x2114a7[_0x1f23e7(0xa4a)](_0xa79a0b=>_0xa79a0b[_0x1f23e7(0x880)]===!![])[_0x1f23e7(0x88b)],_0x1284fc=document[_0x1f23e7(0x7e1)](_0x1f23e7(0x993));if(_0x1284fc)_0x1284fc[_0x1f23e7(0x8b8)]=_0x5f1d7f+'/'+_0x347b2f;const _0x5f381d=document['getElementById']('live-player-list');if(_0x5f381d){let _0x4c8cab=Object['entries'](_0x5335f4)[_0x1f23e7(0xa4a)](([_0x80c9ea,_0x2c8464])=>_0x2c8464[_0x1f23e7(0x407)]===_0x1f23e7(0x2e2))[_0x1f23e7(0x4b7)](([_0x52dd54,_0x1020b4])=>{const _0x1e42bf=_0x1f23e7,_0x4bab42=_0x1020b4[_0x1e42bf(0x880)]===!![],_0x5eabb5=_0x4bab42?_0x1e42bf(0x860):_0x1e42bf(0x6cb),_0x32906b=_0x4bab42?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x1e42bf(0xa75);return _0x1e42bf(0x2f5)+_0x5eabb5+_0x1e42bf(0x739)+_0x32906b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x52dd54+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x52dd54+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1f23e7(0x85c)]('');_0x5f381d['innerHTML']=_0x4c8cab||_0x1f23e7(0x843);}_0x347b2f>0x0&&_0x5f1d7f===_0x347b2f&&revealAnswerForAdmin(_0x489f1b,currentQuizData[_0x1f23e7(0x2f6)][_0x1f23e7(0x88b)]);}else{const _0x4990bd=_0x36ac72[_0x1f23e7(0x3b0)][currentStudentName];_0x4990bd&&!_0x4990bd[_0x1f23e7(0x880)]&&showStudentLiveQuestionView(_0x14e1b8,_0x489f1b,currentQuizData['questions'][_0x1f23e7(0x88b)]);}break;}}break;case _0x1f23e7(0x8f7):showPodiumView(_0x36ac72[_0x1f23e7(0x3b0)],_0x1f23e7(0x623));break;}});}async function handleKickPlayer(_0x5d72b5){const _0x27016b=_0x712516;if(!currentLiveGameId||!_0x5d72b5)return;const _0x393e3c=doc(db,_0x27016b(0xade)+appId+_0x27016b(0x828),currentLiveGameId),_0x28a1e1={};_0x28a1e1[_0x27016b(0xae9)+_0x5d72b5+_0x27016b(0x36f)]=_0x27016b(0x516);try{await updateDoc(_0x393e3c,_0x28a1e1);}catch(_0x114b4e){console[_0x27016b(0x7e3)](_0x27016b(0x635)+_0x5d72b5+':',_0x114b4e),showMessage(_0x27016b(0x7ee));}}async function authenticateUser(){const _0x479ad0=_0x712516;try{typeof __initial_auth_token!==_0x479ad0(0x3da)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5cbe72){console[_0x479ad0(0x7e3)]('Authentication\x20failed:',_0x5cbe72),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x47427d){const _0x37e752=_0x712516;adminView[_0x37e752(0x709)][_0x37e752(0x484)](_0x37e752(0x984)),studentView[_0x37e752(0x709)][_0x37e752(0x484)](_0x37e752(0x984)),projectDashboardView[_0x37e752(0x709)]['add'](_0x37e752(0x984)),projectDetailView[_0x37e752(0x709)][_0x37e752(0x484)](_0x37e752(0x984)),quizResultsView[_0x37e752(0x709)][_0x37e752(0x484)](_0x37e752(0x984)),liveGameView[_0x37e752(0x709)][_0x37e752(0x484)](_0x37e752(0x984)),studentInitialView[_0x37e752(0x709)][_0x37e752(0x484)](_0x37e752(0x984)),studentJoinGameView[_0x37e752(0x709)]['add']('hidden'),studentNameSelectionView['classList'][_0x37e752(0x484)](_0x37e752(0x984)),studentQuizArea['classList']['add']('hidden'),studentResultArea['classList'][_0x37e752(0x484)](_0x37e752(0x984)),studentReadingArea[_0x37e752(0x709)][_0x37e752(0x484)]('hidden');const _0x253237=document[_0x37e752(0x7e1)](_0x37e752(0x475)),_0x547fbb=document[_0x37e752(0x7e1)](_0x37e752(0x364));if(_0x253237)_0x253237[_0x37e752(0x709)]['add'](_0x37e752(0x984));if(_0x547fbb)_0x547fbb[_0x37e752(0x709)][_0x37e752(0x484)]('hidden');switch(_0x47427d){case _0x37e752(0x6fd):adminView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984)),projectDashboardView[_0x37e752(0x709)]['remove'](_0x37e752(0x984));break;case _0x37e752(0xa03):adminView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984)),projectDetailView[_0x37e752(0x709)]['remove']('hidden');break;case _0x37e752(0x941):adminView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984)),quizResultsView[_0x37e752(0x709)]['remove'](_0x37e752(0x984));break;case _0x37e752(0x6ab):studentView[_0x37e752(0x709)]['remove'](_0x37e752(0x984)),studentInitialView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984));break;case _0x37e752(0x6ed):liveGameView['classList'][_0x37e752(0x5b3)](_0x37e752(0x984));break;case _0x37e752(0x56e):studentView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984));if(_0x253237)_0x253237[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984));break;case _0x37e752(0x45a):studentView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984));if(_0x547fbb)_0x547fbb['classList'][_0x37e752(0x5b3)](_0x37e752(0x984));break;default:studentView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984)),studentInitialView[_0x37e752(0x709)][_0x37e752(0x5b3)](_0x37e752(0x984));break;}}function showJoinGameView(){const _0x37d325=_0x712516;studentInitialView[_0x37d325(0x709)][_0x37d325(0x484)](_0x37d325(0x984)),studentJoinGameView[_0x37d325(0x709)][_0x37d325(0x5b3)](_0x37d325(0x984));}async function handleSaveVisibilitySettings(){const _0x157ea0=_0x712516;if(!currentProjectId)return;const _0x1cb33f=doc(db,'artifacts/'+appId+_0x157ea0(0x42a),currentProjectId);try{await updateDoc(_0x1cb33f,{'settings.showInStudentDashboard':document['getElementById'](_0x157ea0(0x414))[_0x157ea0(0x8ed)],'settings.isPasscodeEnabled':document[_0x157ea0(0x7e1)](_0x157ea0(0x650))[_0x157ea0(0x8ed)],'settings.passcode':document['getElementById'](_0x157ea0(0x512))[_0x157ea0(0x848)][_0x157ea0(0x847)]()}),showMessage(_0x157ea0(0x38a));}catch(_0x1bb0d1){console[_0x157ea0(0x7e3)](_0x157ea0(0x604),_0x1bb0d1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x405983=_0x712516,_0x4470c9=document[_0x405983(0x7e1)](_0x405983(0x47b)),_0x49a58b=async _0x28af1c=>{const _0x570ca9=_0x405983;_0x4470c9[_0x570ca9(0x709)][_0x570ca9(0x484)](_0x570ca9(0x984));const _0x291609=parseInt(document[_0x570ca9(0x7e1)](_0x570ca9(0x6f5))[_0x570ca9(0x848)]),_0x12fb13=doc(db,_0x570ca9(0xade)+appId+_0x570ca9(0x832),currentLiveGameId),_0xb1a1c3=await getDoc(_0x12fb13);if(!_0xb1a1c3[_0x570ca9(0x23c)]())return;const _0x8685c4=_0xb1a1c3[_0x570ca9(0x4fb)](),_0x135c13=_0x8685c4[_0x570ca9(0xa7b)],_0x5606ce=_0x8685c4[_0x570ca9(0x891)][_0x570ca9(0x2f6)][_0x135c13],_0x4c12a4=localTeamPlayers[localPlayerTurnIndex];handleSyncAnswerSubmit(_0x291609,_0x5606ce,_0x8685c4,_0x4c12a4,_0x28af1c);};document['getElementById']('confirm-confident')['addEventListener'](_0x405983(0x66f),()=>_0x49a58b(!![])),document[_0x405983(0x7e1)](_0x405983(0x2c4))[_0x405983(0x996)](_0x405983(0x66f),()=>_0x49a58b(![])),liveGameView[_0x405983(0x996)](_0x405983(0x66f),_0x5bc8d7=>{const _0x53f350=_0x405983,_0xbe09c9=_0x5bc8d7[_0x53f350(0x815)][_0x53f350(0x56d)](_0x53f350(0xa2f));if(_0xbe09c9){const _0xc4b8ce=_0xbe09c9[_0x53f350(0x478)][_0x53f350(0x317)];_0xc4b8ce&&handleKickPlayerSync(_0xc4b8ce);}});const _0x4b1404=document['getElementById'](_0x405983(0x7c4)),_0x6b7776=document[_0x405983(0x7e1)](_0x405983(0x633));_0x6b7776[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x1e67ae=_0x405983;document['getElementById'](_0x1e67ae(0x25c))[_0x1e67ae(0x709)][_0x1e67ae(0x484)](_0x1e67ae(0x984));}),_0x4b1404[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x5d60b4=_0x405983,_0x380adf=document[_0x5d60b4(0x7e1)](_0x5d60b4(0x2fc))[_0x5d60b4(0x848)],_0x41fbee=document[_0x5d60b4(0x7e1)](_0x5d60b4(0xa96))[_0x5d60b4(0x848)],_0x29866b=document[_0x5d60b4(0x7e1)](_0x5d60b4(0x3a2))[_0x5d60b4(0x8ed)];document[_0x5d60b4(0x7e1)]('confirm-game-start-modal')[_0x5d60b4(0x709)][_0x5d60b4(0x484)](_0x5d60b4(0x984));switch(_0x41fbee){case'live-race':handleStartLiveRace(_0x380adf,_0x29866b);break;case'team':handleStartTeamQuiz(_0x380adf,_0x29866b);break;case _0x5d60b4(0x91a):handleStartGroupMode(_0x380adf,_0x29866b);break;case _0x5d60b4(0x6eb):handleStartSyncMode(_0x380adf,_0x29866b);break;}}),document[_0x405983(0x7e1)](_0x405983(0x3d1))[_0x405983(0x996)]('click',handleJoinGroupActivity),liveGameView[_0x405983(0x996)](_0x405983(0x66f),_0xcda05e=>{const _0x146ce1=_0x405983,_0x815637=_0xcda05e[_0x146ce1(0x815)][_0x146ce1(0x56d)](_0x146ce1(0x885));document[_0x146ce1(0xa58)](_0x146ce1(0x9e0))[_0x146ce1(0x8e0)](_0xa12ec9=>{const _0x172e87=_0x146ce1;(!_0x815637||_0xa12ec9['id']!==_0x815637[_0x172e87(0x478)]['tooltipTarget'])&&_0xa12ec9[_0x172e87(0x709)][_0x172e87(0x5b3)](_0x172e87(0x382));});if(!_0x815637)return;const _0x5be937=_0x815637[_0x146ce1(0x478)]['tooltipTarget'],_0x35bff4=document[_0x146ce1(0x7e1)](_0x5be937);_0x35bff4&&_0x35bff4[_0x146ce1(0x709)]['toggle'](_0x146ce1(0x382));}),liveGameView[_0x405983(0x996)](_0x405983(0x66f),_0x5f1d19=>{const _0x542ac2=_0x405983;if(_0x5f1d19['target'][_0x542ac2(0x709)][_0x542ac2(0xb03)](_0x542ac2(0x785))){const _0x3086ad=_0x5f1d19[_0x542ac2(0x815)][_0x542ac2(0x478)]['playerName'];_0x3086ad&&handleKickPlayer(_0x3086ad);}}),document[_0x405983(0x7e1)]('project-title')['addEventListener'](_0x405983(0x216),()=>document[_0x405983(0x7e1)]('save-project-name-btn')['classList'][_0x405983(0x5b3)](_0x405983(0x984))),document[_0x405983(0x7e1)](_0x405983(0x6b5))[_0x405983(0x996)]('click',handleSaveProjectName),document['getElementById']('project-title')[_0x405983(0x996)](_0x405983(0x465),_0x5ae972=>{const _0x6a19c5=_0x405983;_0x5ae972['key']==='Enter'&&(_0x5ae972['preventDefault'](),_0x5ae972[_0x6a19c5(0x815)][_0x6a19c5(0x33d)](),handleSaveProjectName());}),document[_0x405983(0x7e1)](_0x405983(0x3a9))[_0x405983(0x996)]('click',()=>{const _0x21d0de=_0x405983;document[_0x21d0de(0x7e1)](_0x21d0de(0xa13))['classList'][_0x21d0de(0x5b3)](_0x21d0de(0x984));}),document['getElementById']('cancel-bulk-quiz-settings-btn')[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x2445e9=_0x405983;document[_0x2445e9(0x7e1)](_0x2445e9(0xa13))['classList']['add'](_0x2445e9(0x984));}),document[_0x405983(0x7e1)]('confirm-bulk-quiz-settings-btn')[_0x405983(0x996)](_0x405983(0x66f),handleBulkUpdateQuizSettings),document[_0x405983(0x7e1)]('mode-switcher-btn')[_0x405983(0x996)]('click',handleModeSwitch),document['getElementById']('update-old-quizzes-btn')[_0x405983(0x996)](_0x405983(0x66f),handleUpdateOldQuizzes),document['getElementById'](_0x405983(0x9af))['addEventListener']('click',handleResetProjectOrder),document[_0x405983(0x7e1)](_0x405983(0x2ee))['addEventListener']('click',handleSaveVisibilitySettings),document[_0x405983(0x7e1)](_0x405983(0x361))[_0x405983(0x996)](_0x405983(0x66f),handleAddCustomMathTopic),document[_0x405983(0x7e1)]('select-all-topics-btn')[_0x405983(0x996)](_0x405983(0x66f),handleSelectAllTopics),document[_0x405983(0x7e1)](_0x405983(0x6b9))[_0x405983(0x996)]('click',handleDeselectAllTopics),document[_0x405983(0x7e1)](_0x405983(0x5cf))[_0x405983(0x996)]('click',()=>{const _0x5ad48b=_0x405983;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5ad48b(0x6fd));}),document[_0x405983(0x7e1)]('back-to-project-btn')[_0x405983(0x996)]('click',()=>{const _0x3e11c2=_0x405983;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3e11c2(0xa03));}),document[_0x405983(0x7e1)]('back-to-dashboard-from-results-btn')[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x3c3151=_0x405983;showView(_0x3c3151(0x6fd));}),document['getElementById']('modal-close-btn')['addEventListener'](_0x405983(0x66f),()=>{const _0x3d6cc7=_0x405983;messageModal[_0x3d6cc7(0x709)][_0x3d6cc7(0x484)]('hidden'),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x405983(0x7e1)](_0x405983(0x681))[_0x405983(0x996)](_0x405983(0x66f),()=>createProjectModal['classList'][_0x405983(0x5b3)](_0x405983(0x984))),document[_0x405983(0x7e1)]('cancel-create-project-btn')['addEventListener'](_0x405983(0x66f),()=>createProjectModal['classList'][_0x405983(0x484)](_0x405983(0x984))),document[_0x405983(0x7e1)]('cancel-admin-login-btn')[_0x405983(0x996)](_0x405983(0x66f),()=>adminPasswordModal[_0x405983(0x709)][_0x405983(0x484)](_0x405983(0x984))),document['getElementById'](_0x405983(0x64c))[_0x405983(0x996)](_0x405983(0x66f),handleAdminLogin),document['getElementById'](_0x405983(0x8dc))[_0x405983(0x996)](_0x405983(0x75a),_0x121f88=>{const _0x21a7c9=_0x405983;if(_0x121f88[_0x21a7c9(0x922)]===_0x21a7c9(0xa55))handleAdminLogin();}),document[_0x405983(0x7e1)]('cancel-delete-btn')['addEventListener'](_0x405983(0x66f),()=>{const _0x1f3d45=_0x405983;confirmationModal[_0x1f3d45(0x709)][_0x1f3d45(0x484)](_0x1f3d45(0x984)),confirmAction=null;}),document[_0x405983(0x7e1)](_0x405983(0x239))[_0x405983(0x996)]('click',()=>{const _0x285062=_0x405983;confirmAction&&confirmAction(),confirmationModal[_0x285062(0x709)][_0x285062(0x484)](_0x285062(0x984)),confirmAction=null;}),document['getElementById'](_0x405983(0x261))[_0x405983(0x996)]('click',()=>renameQuizModal[_0x405983(0x709)][_0x405983(0x484)](_0x405983(0x984))),document[_0x405983(0x7e1)]('confirm-rename-quiz-btn')[_0x405983(0x996)](_0x405983(0x66f),confirmRenameQuiz),document[_0x405983(0x7e1)](_0x405983(0x744))[_0x405983(0x996)](_0x405983(0x66f),()=>moveQuizModal['classList'][_0x405983(0x484)](_0x405983(0x984))),document['getElementById'](_0x405983(0xaf0))[_0x405983(0x996)]('click',confirmMoveQuiz),document[_0x405983(0x7e1)](_0x405983(0x651))[_0x405983(0x996)]('click',()=>quizSettingsModal[_0x405983(0x709)]['add'](_0x405983(0x984))),document[_0x405983(0x7e1)](_0x405983(0x48a))[_0x405983(0x996)](_0x405983(0x66f),confirmQuizSettings),document[_0x405983(0x7e1)](_0x405983(0x9ed))[_0x405983(0x996)]('click',()=>quizStatusModal[_0x405983(0x709)][_0x405983(0x484)]('hidden')),document[_0x405983(0x7e1)]('confirm-quiz-status-btn')[_0x405983(0x996)](_0x405983(0x66f),confirmQuizStatus);const _0x570362=document['getElementById'](_0x405983(0x5ba));document[_0x405983(0x7e1)](_0x405983(0x91d))[_0x405983(0x996)]('click',()=>{const _0x3d7779=_0x405983;_0x570362[_0x3d7779(0x709)][_0x3d7779(0x484)](_0x3d7779(0x984));}),document[_0x405983(0x7e1)](_0x405983(0x477))[_0x405983(0x996)](_0x405983(0x66f),async()=>{const _0x352d92=_0x405983,_0x5c85f5=allQuizzes[_0x352d92(0xafd)](_0x6d8baf=>_0x6d8baf['id']===actionTargetId);_0x5c85f5?(currentQuizData=_0x5c85f5,exportQuizAsWorksheetPDF()):showMessage(_0x352d92(0x96a)),_0x570362[_0x352d92(0x709)][_0x352d92(0x484)](_0x352d92(0x984));}),document[_0x405983(0x7e1)]('export-tutor-pdf-btn')[_0x405983(0x996)](_0x405983(0x66f),async()=>{const _0x1aac4f=_0x405983,_0x3b0e7a=allQuizzes[_0x1aac4f(0xafd)](_0x3f44de=>_0x3f44de['id']===actionTargetId);_0x3b0e7a?(currentQuizData=_0x3b0e7a,exportQuizAsTutorPDF()):showMessage(_0x1aac4f(0x96a)),_0x570362[_0x1aac4f(0x709)]['add']('hidden');}),document[_0x405983(0x7e1)]('open-global-live-btn')['addEventListener'](_0x405983(0x66f),openGlobalLiveModal),document['getElementById']('cancel-global-live-btn')[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x8c7aab=_0x405983;document[_0x8c7aab(0x7e1)](_0x8c7aab(0x867))[_0x8c7aab(0x709)][_0x8c7aab(0x484)]('hidden'),selectedGlobalQuizId=null;}),document[_0x405983(0x7e1)](_0x405983(0x315))[_0x405983(0x996)]('input',_0x493905=>renderGlobalQuizList(_0x493905[_0x405983(0x815)][_0x405983(0x848)])),document[_0x405983(0x7e1)](_0x405983(0x952))[_0x405983(0x996)]('click',()=>{const _0xd2d916=_0x405983,_0x58f59d=selectedGlobalQuizId;if(!_0x58f59d)return;document[_0xd2d916(0x7e1)](_0xd2d916(0x867))[_0xd2d916(0x709)]['add'](_0xd2d916(0x984)),handleStartLiveRace(_0x58f59d);}),document[_0x405983(0x7e1)]('project-search-input')[_0x405983(0x996)]('input',renderProjects),document[_0x405983(0x7e1)](_0x405983(0x20c))[_0x405983(0x996)](_0x405983(0x913),async()=>{const _0x382253=_0x405983,_0x368478=document[_0x382253(0x7e1)](_0x382253(0x20c))[_0x382253(0x848)],_0x2d776c=doc(db,_0x382253(0xb21),_0x382253(0x599));try{await setDoc(_0x2d776c,{'projectSort':_0x368478},{'merge':!![]});}catch(_0x1153a3){console[_0x382253(0x7e3)]('Error\x20updating\x20sort\x20preference:',_0x1153a3),showMessage(_0x382253(0x641));}}),document[_0x405983(0x7e1)](_0x405983(0x5b8))[_0x405983(0x996)](_0x405983(0x9b6),renderQuizzes),document[_0x405983(0x7e1)](_0x405983(0x9d4))[_0x405983(0x996)]('click',()=>{const _0x566403=_0x405983;globalDashboardSettings[_0x566403(0xac0)]=_0x566403(0x60a),saveUserPreference(_0x566403(0xac0),'grid'),renderProjects();}),document[_0x405983(0x7e1)](_0x405983(0x422))[_0x405983(0x996)]('click',()=>{const _0x23563b=_0x405983;globalDashboardSettings[_0x23563b(0xac0)]='list',saveUserPreference(_0x23563b(0xac0),_0x23563b(0x929)),renderProjects();}),manageTab['addEventListener'](_0x405983(0x66f),()=>switchProjectTab('manage')),resultsTab['addEventListener'](_0x405983(0x66f),()=>switchProjectTab('results')),leaderboardTab[_0x405983(0x996)](_0x405983(0x66f),()=>switchProjectTab(_0x405983(0x421))),document[_0x405983(0x7e1)]('analytics-tab-btn')[_0x405983(0x996)]('click',()=>switchQuizDetailTab(_0x405983(0xb15))),document[_0x405983(0x7e1)](_0x405983(0x457))[_0x405983(0x996)](_0x405983(0x66f),()=>switchQuizDetailTab(_0x405983(0x445))),document[_0x405983(0x7e1)](_0x405983(0x823))[_0x405983(0x996)](_0x405983(0x66f),()=>switchQuizDetailTab(_0x405983(0x673))),document[_0x405983(0x7e1)](_0x405983(0xa68))['addEventListener']('click',()=>switchQuizDetailTab(_0x405983(0x6df))),document[_0x405983(0x7e1)](_0x405983(0x249))[_0x405983(0x996)](_0x405983(0x66f),handleAnalyzeClass),generateWorksheetBtn[_0x405983(0x996)](_0x405983(0x66f),generateWorksheet);const _0x1b92d6=document[_0x405983(0x7e1)](_0x405983(0x8cb)),_0x32561c=document['getElementById'](_0x405983(0xb1f)),_0x4a209c=document[_0x405983(0x7e1)](_0x405983(0x26f)),_0x18d57a=document['getElementById'](_0x405983(0xaf6)),_0x591274=document['getElementById'](_0x405983(0x775)),_0x3884ec=document[_0x405983(0x7e1)](_0x405983(0x5bf));topicTab[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x3c9f27=_0x405983;topicTab[_0x3c9f27(0x709)][_0x3c9f27(0x484)]('active'),textTab[_0x3c9f27(0x709)]['remove'](_0x3c9f27(0x2e2)),fileTab[_0x3c9f27(0x709)][_0x3c9f27(0x5b3)](_0x3c9f27(0x2e2)),worksheetTab[_0x3c9f27(0x709)][_0x3c9f27(0x5b3)]('active');if(_0x1b92d6)_0x1b92d6[_0x3c9f27(0x709)][_0x3c9f27(0x5b3)]('active');if(_0x4a209c)_0x4a209c[_0x3c9f27(0x709)][_0x3c9f27(0x5b3)](_0x3c9f27(0x2e2));if(_0x591274)_0x591274[_0x3c9f27(0x709)][_0x3c9f27(0x5b3)](_0x3c9f27(0x2e2));topicInputArea['classList'][_0x3c9f27(0x5b3)](_0x3c9f27(0x984)),textInputArea[_0x3c9f27(0x709)]['add'](_0x3c9f27(0x984)),fileInputArea[_0x3c9f27(0x709)][_0x3c9f27(0x484)](_0x3c9f27(0x984)),worksheetInputArea[_0x3c9f27(0x709)]['add'](_0x3c9f27(0x984));if(_0x32561c)_0x32561c['classList'][_0x3c9f27(0x484)](_0x3c9f27(0x984));if(_0x18d57a)_0x18d57a[_0x3c9f27(0x709)][_0x3c9f27(0x484)]('hidden');if(_0x3884ec)_0x3884ec['classList'][_0x3c9f27(0x484)](_0x3c9f27(0x984));}),textTab[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0xe5328e=_0x405983;textTab[_0xe5328e(0x709)]['add'](_0xe5328e(0x2e2)),topicTab['classList'][_0xe5328e(0x5b3)](_0xe5328e(0x2e2)),fileTab['classList'][_0xe5328e(0x5b3)](_0xe5328e(0x2e2)),worksheetTab[_0xe5328e(0x709)][_0xe5328e(0x5b3)]('active');if(_0x1b92d6)_0x1b92d6[_0xe5328e(0x709)][_0xe5328e(0x5b3)](_0xe5328e(0x2e2));if(_0x4a209c)_0x4a209c[_0xe5328e(0x709)][_0xe5328e(0x5b3)]('active');if(_0x591274)_0x591274[_0xe5328e(0x709)][_0xe5328e(0x5b3)]('active');textInputArea[_0xe5328e(0x709)][_0xe5328e(0x5b3)](_0xe5328e(0x984)),topicInputArea['classList'][_0xe5328e(0x484)](_0xe5328e(0x984)),fileInputArea[_0xe5328e(0x709)][_0xe5328e(0x484)](_0xe5328e(0x984)),worksheetInputArea['classList'][_0xe5328e(0x484)](_0xe5328e(0x984));if(_0x32561c)_0x32561c['classList']['add'](_0xe5328e(0x984));if(_0x18d57a)_0x18d57a['classList'][_0xe5328e(0x484)](_0xe5328e(0x984));if(_0x3884ec)_0x3884ec[_0xe5328e(0x709)][_0xe5328e(0x484)](_0xe5328e(0x984));}),fileTab[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x8806ae=_0x405983;fileTab[_0x8806ae(0x709)][_0x8806ae(0x484)](_0x8806ae(0x2e2)),topicTab[_0x8806ae(0x709)]['remove'](_0x8806ae(0x2e2)),textTab[_0x8806ae(0x709)]['remove'](_0x8806ae(0x2e2)),worksheetTab['classList'][_0x8806ae(0x5b3)](_0x8806ae(0x2e2));if(_0x1b92d6)_0x1b92d6[_0x8806ae(0x709)]['remove'](_0x8806ae(0x2e2));if(_0x4a209c)_0x4a209c[_0x8806ae(0x709)][_0x8806ae(0x5b3)]('active');if(_0x591274)_0x591274[_0x8806ae(0x709)][_0x8806ae(0x5b3)](_0x8806ae(0x2e2));fileInputArea[_0x8806ae(0x709)][_0x8806ae(0x5b3)]('hidden'),topicInputArea[_0x8806ae(0x709)][_0x8806ae(0x484)]('hidden'),textInputArea[_0x8806ae(0x709)][_0x8806ae(0x484)](_0x8806ae(0x984)),worksheetInputArea[_0x8806ae(0x709)][_0x8806ae(0x484)]('hidden');if(_0x32561c)_0x32561c['classList'][_0x8806ae(0x484)](_0x8806ae(0x984));if(_0x18d57a)_0x18d57a['classList']['add'](_0x8806ae(0x984));if(_0x3884ec)_0x3884ec[_0x8806ae(0x709)][_0x8806ae(0x484)](_0x8806ae(0x984));}),worksheetTab[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x35e783=_0x405983;worksheetTab['classList'][_0x35e783(0x484)](_0x35e783(0x2e2)),topicTab['classList'][_0x35e783(0x5b3)](_0x35e783(0x2e2)),textTab[_0x35e783(0x709)]['remove']('active'),fileTab[_0x35e783(0x709)][_0x35e783(0x5b3)](_0x35e783(0x2e2));if(_0x1b92d6)_0x1b92d6['classList']['remove']('active');if(_0x4a209c)_0x4a209c['classList'][_0x35e783(0x5b3)](_0x35e783(0x2e2));if(_0x591274)_0x591274[_0x35e783(0x709)][_0x35e783(0x5b3)](_0x35e783(0x2e2));worksheetInputArea[_0x35e783(0x709)]['remove']('hidden'),topicInputArea['classList']['add'](_0x35e783(0x984)),textInputArea[_0x35e783(0x709)][_0x35e783(0x484)]('hidden'),fileInputArea[_0x35e783(0x709)][_0x35e783(0x484)](_0x35e783(0x984));if(_0x32561c)_0x32561c[_0x35e783(0x709)][_0x35e783(0x484)](_0x35e783(0x984));if(_0x18d57a)_0x18d57a[_0x35e783(0x709)][_0x35e783(0x484)](_0x35e783(0x984));if(_0x3884ec)_0x3884ec[_0x35e783(0x709)][_0x35e783(0x484)]('hidden');});const _0x132c99=document[_0x405983(0x7e1)](_0x405983(0x240)),_0x3da5c6=document[_0x405983(0x7e1)](_0x405983(0x400));_0x132c99&&_0x132c99[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x2ba98f=_0x405983;topicTab[_0x2ba98f(0x709)][_0x2ba98f(0x5b3)](_0x2ba98f(0x2e2)),textTab[_0x2ba98f(0x709)][_0x2ba98f(0x5b3)](_0x2ba98f(0x2e2)),fileTab['classList'][_0x2ba98f(0x5b3)](_0x2ba98f(0x2e2)),worksheetTab[_0x2ba98f(0x709)][_0x2ba98f(0x5b3)](_0x2ba98f(0x2e2));if(_0x1b92d6)_0x1b92d6['classList'][_0x2ba98f(0x5b3)](_0x2ba98f(0x2e2));if(_0x4a209c)_0x4a209c['classList'][_0x2ba98f(0x5b3)]('active');if(_0x591274)_0x591274[_0x2ba98f(0x709)][_0x2ba98f(0x5b3)]('active');_0x132c99[_0x2ba98f(0x709)][_0x2ba98f(0x484)]('active'),topicInputArea[_0x2ba98f(0x709)]['add'](_0x2ba98f(0x984)),textInputArea[_0x2ba98f(0x709)]['add']('hidden'),fileInputArea[_0x2ba98f(0x709)]['add'](_0x2ba98f(0x984)),worksheetInputArea[_0x2ba98f(0x709)][_0x2ba98f(0x484)](_0x2ba98f(0x984));if(_0x32561c)_0x32561c[_0x2ba98f(0x709)][_0x2ba98f(0x484)]('hidden');if(_0x18d57a)_0x18d57a[_0x2ba98f(0x709)][_0x2ba98f(0x484)](_0x2ba98f(0x984));if(_0x3884ec)_0x3884ec[_0x2ba98f(0x709)][_0x2ba98f(0x484)]('hidden');_0x3da5c6[_0x2ba98f(0x709)][_0x2ba98f(0x5b3)]('hidden'),displayQuestionBank();});_0x1b92d6&&(_0x1b92d6['addEventListener'](_0x405983(0x66f),()=>{const _0x19c555=_0x405983;_0x1b92d6[_0x19c555(0x709)][_0x19c555(0x484)](_0x19c555(0x2e2)),topicTab[_0x19c555(0x709)][_0x19c555(0x5b3)](_0x19c555(0x2e2)),textTab['classList'][_0x19c555(0x5b3)](_0x19c555(0x2e2)),fileTab[_0x19c555(0x709)][_0x19c555(0x5b3)](_0x19c555(0x2e2)),worksheetTab['classList'][_0x19c555(0x5b3)](_0x19c555(0x2e2));if(_0x4a209c)_0x4a209c[_0x19c555(0x709)][_0x19c555(0x5b3)](_0x19c555(0x2e2));if(_0x591274)_0x591274[_0x19c555(0x709)][_0x19c555(0x5b3)](_0x19c555(0x2e2));_0x32561c[_0x19c555(0x709)][_0x19c555(0x5b3)](_0x19c555(0x984)),topicInputArea[_0x19c555(0x709)][_0x19c555(0x484)](_0x19c555(0x984)),textInputArea['classList'][_0x19c555(0x484)](_0x19c555(0x984)),fileInputArea[_0x19c555(0x709)][_0x19c555(0x484)](_0x19c555(0x984)),worksheetInputArea['classList'][_0x19c555(0x484)](_0x19c555(0x984));if(_0x18d57a)_0x18d57a[_0x19c555(0x709)][_0x19c555(0x484)](_0x19c555(0x984));if(_0x3884ec)_0x3884ec[_0x19c555(0x709)][_0x19c555(0x484)](_0x19c555(0x984));}),document[_0x405983(0x7e1)](_0x405983(0x3a6))[_0x405983(0x996)](_0x405983(0x66f),handleGenerateFromLink));_0x4a209c&&_0x4a209c[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x3c8c00=_0x405983;_0x4a209c[_0x3c8c00(0x709)][_0x3c8c00(0x484)](_0x3c8c00(0x2e2)),topicTab[_0x3c8c00(0x709)][_0x3c8c00(0x5b3)](_0x3c8c00(0x2e2)),textTab[_0x3c8c00(0x709)][_0x3c8c00(0x5b3)](_0x3c8c00(0x2e2)),fileTab['classList'][_0x3c8c00(0x5b3)](_0x3c8c00(0x2e2)),worksheetTab[_0x3c8c00(0x709)][_0x3c8c00(0x5b3)](_0x3c8c00(0x2e2));if(_0x1b92d6)_0x1b92d6[_0x3c8c00(0x709)][_0x3c8c00(0x5b3)](_0x3c8c00(0x2e2));if(_0x132c99)_0x132c99[_0x3c8c00(0x709)]['remove'](_0x3c8c00(0x2e2));if(_0x591274)_0x591274[_0x3c8c00(0x709)][_0x3c8c00(0x5b3)](_0x3c8c00(0x2e2));_0x18d57a[_0x3c8c00(0x709)][_0x3c8c00(0x5b3)]('hidden'),topicInputArea[_0x3c8c00(0x709)]['add'](_0x3c8c00(0x984)),textInputArea[_0x3c8c00(0x709)][_0x3c8c00(0x484)]('hidden'),fileInputArea[_0x3c8c00(0x709)][_0x3c8c00(0x484)](_0x3c8c00(0x984)),worksheetInputArea[_0x3c8c00(0x709)][_0x3c8c00(0x484)](_0x3c8c00(0x984));if(_0x32561c)_0x32561c['classList'][_0x3c8c00(0x484)](_0x3c8c00(0x984));if(_0x3da5c6)_0x3da5c6[_0x3c8c00(0x709)][_0x3c8c00(0x484)](_0x3c8c00(0x984));if(_0x3884ec)_0x3884ec['classList'][_0x3c8c00(0x484)]('hidden');});_0x591274&&_0x591274[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x21297a=_0x405983;_0x591274[_0x21297a(0x709)][_0x21297a(0x484)](_0x21297a(0x2e2)),topicTab[_0x21297a(0x709)]['remove'](_0x21297a(0x2e2)),textTab[_0x21297a(0x709)][_0x21297a(0x5b3)](_0x21297a(0x2e2)),fileTab[_0x21297a(0x709)][_0x21297a(0x5b3)]('active'),worksheetTab[_0x21297a(0x709)][_0x21297a(0x5b3)](_0x21297a(0x2e2));if(_0x1b92d6)_0x1b92d6[_0x21297a(0x709)][_0x21297a(0x5b3)]('active');if(_0x4a209c)_0x4a209c[_0x21297a(0x709)][_0x21297a(0x5b3)](_0x21297a(0x2e2));if(_0x132c99)_0x132c99['classList'][_0x21297a(0x5b3)](_0x21297a(0x2e2));_0x3884ec[_0x21297a(0x709)][_0x21297a(0x5b3)](_0x21297a(0x984)),topicInputArea[_0x21297a(0x709)]['add']('hidden'),textInputArea[_0x21297a(0x709)][_0x21297a(0x484)](_0x21297a(0x984)),fileInputArea['classList'][_0x21297a(0x484)](_0x21297a(0x984)),worksheetInputArea[_0x21297a(0x709)][_0x21297a(0x484)](_0x21297a(0x984));if(_0x32561c)_0x32561c[_0x21297a(0x709)][_0x21297a(0x484)](_0x21297a(0x984));if(_0x18d57a)_0x18d57a[_0x21297a(0x709)][_0x21297a(0x484)](_0x21297a(0x984));if(_0x3da5c6)_0x3da5c6['classList'][_0x21297a(0x484)](_0x21297a(0x984));});const _0x529838=document['getElementById'](_0x405983(0x980)),_0x36b542=document[_0x405983(0x7e1)]('generate-from-blueprint-btn');_0x529838&&_0x529838[_0x405983(0x996)](_0x405983(0x913),_0x1cd861=>{const _0x5b41bb=_0x405983;_0x1cd861[_0x5b41bb(0x815)]['files']['length']>0x0?_0x36b542['disabled']=![]:_0x36b542[_0x5b41bb(0xab8)]=!![];});_0x36b542&&_0x36b542['addEventListener'](_0x405983(0x66f),handleGenerateFromBlueprint);const _0x17af82=document['getElementById'](_0x405983(0x936)),_0x1a2a48=document[_0x405983(0x7e1)]('generate-from-parallel-test-btn');_0x17af82&&_0x17af82[_0x405983(0x996)]('change',_0x4c6188=>{const _0x3faba4=_0x405983;_0x1a2a48[_0x3faba4(0xab8)]=_0x4c6188[_0x3faba4(0x815)][_0x3faba4(0x609)][_0x3faba4(0x88b)]===0x0;});_0x1a2a48&&_0x1a2a48[_0x405983(0x996)](_0x405983(0x66f),handleGenerateParallelTest);loadQuizBtn[_0x405983(0x996)](_0x405983(0x66f),handleLoadQuiz),startQuizBtn[_0x405983(0x996)](_0x405983(0x66f),async()=>{const _0x462949=_0x405983,_0x55c4ac=document[_0x462949(0x7e1)](_0x462949(0x201));currentStudentName=_0x55c4ac[_0x462949(0x848)];if(!currentStudentName){showMessage(_0x462949(0x594));return;}try{const _0x191d55=currentQuizData['id'],_0x2f7f63=doc(db,'artifacts/'+appId+_0x462949(0x8a4)+_0x191d55+'/submissions',currentStudentName);await setDoc(_0x2f7f63,{'studentName':currentStudentName,'startedAt':new Date()[_0x462949(0x783)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x147519){console[_0x462949(0x7e3)](_0x462949(0x5a8),_0x147519),showMessage(_0x462949(0x813));return;}studentNameSelectionView['classList']['add'](_0x462949(0x984)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x405983(0x7e1)](_0x405983(0x541))[_0x405983(0x996)](_0x405983(0x66f),showJoinGameView),document['getElementById'](_0x405983(0x37a))[_0x405983(0x996)]('click',handleJoinLiveGame),document[_0x405983(0x7e1)](_0x405983(0x659))[_0x405983(0x996)](_0x405983(0x66f),()=>showView(_0x405983(0x6ab)));const _0x4bab7c=()=>{const _0x3ad33c=_0x405983,_0x20ba8d=document[_0x3ad33c(0x7e1)]('results-quiz-title')[_0x3ad33c(0x8b8)][_0x3ad33c(0x59e)](/[^a-z0-9]/gi,'_')[_0x3ad33c(0xaec)]();return _0x3ad33c(0x8a8)+(_0x20ba8d||'quiz');},_0x43d4b8=document['getElementById']('math-topic-search-input');_0x43d4b8&&_0x43d4b8[_0x405983(0x996)]('input',_0x343773=>{const _0x1133c2=_0x405983,_0x313623=_0x343773[_0x1133c2(0x815)][_0x1133c2(0x848)][_0x1133c2(0xaec)]()[_0x1133c2(0x847)](),_0x40ff18=document[_0x1133c2(0x7e1)](_0x1133c2(0x42d)),_0x2ce18a=_0x40ff18[_0x1133c2(0xa58)](_0x1133c2(0x455));_0x2ce18a[_0x1133c2(0x8e0)](_0x4f9274=>{const _0x26a42d=_0x1133c2;let _0x4a0933=![];const _0x5cb146=_0x4f9274[_0x26a42d(0xa58)]('.topic-row');_0x5cb146['forEach'](_0x13684f=>{const _0x395f17=_0x26a42d,_0x5ed49d=_0x13684f[_0x395f17(0x622)]('.topic-name-display')[_0x395f17(0x8b8)][_0x395f17(0xaec)]();_0x5ed49d['includes'](_0x313623)?(_0x13684f['style'][_0x395f17(0x5d6)]=_0x395f17(0x4ec),_0x4a0933=!![]):_0x13684f[_0x395f17(0x38f)][_0x395f17(0x5d6)]=_0x395f17(0x994);}),_0x4a0933?_0x4f9274['style']['display']='block':_0x4f9274[_0x26a42d(0x38f)][_0x26a42d(0x5d6)]=_0x26a42d(0x994);});});document[_0x405983(0x7e1)](_0x405983(0x275))[_0x405983(0x996)](_0x405983(0x66f),()=>exportTableAsImage(_0x405983(0x6b8),_0x4bab7c())),document[_0x405983(0x7e1)](_0x405983(0x30d))[_0x405983(0x996)](_0x405983(0x66f),()=>exportTableAsPDF(_0x405983(0xa50),_0x4bab7c())),document['getElementById']('export-word-btn')[_0x405983(0x996)](_0x405983(0x66f),()=>exportTableAsWord('results-table-container',_0x4bab7c())),document['getElementById'](_0x405983(0x707))[_0x405983(0x996)](_0x405983(0x66f),()=>exportTableAsExcel('results-table',_0x4bab7c()));const _0x1e2b1a=()=>{const _0x2ab843=_0x405983,_0x245e5c=document[_0x2ab843(0x7e1)](_0x2ab843(0x22d))[_0x2ab843(0x8b8)][_0x2ab843(0x59e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2ab843(0x6ac)+(_0x245e5c||_0x2ab843(0xac1));};document[_0x405983(0x7e1)]('export-leaderboard-image-btn')['addEventListener'](_0x405983(0x66f),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x1e2b1a())),document[_0x405983(0x7e1)](_0x405983(0x5b5))[_0x405983(0x996)](_0x405983(0x66f),()=>exportTableAsPDF(_0x405983(0xaa7),_0x1e2b1a())),document[_0x405983(0x7e1)](_0x405983(0x3fc))[_0x405983(0x996)](_0x405983(0x66f),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x1e2b1a())),document[_0x405983(0x7e1)](_0x405983(0x1f7))[_0x405983(0x996)](_0x405983(0x66f),()=>exportTableAsExcel(_0x405983(0xaa7),_0x1e2b1a())),projectQuizzesList[_0x405983(0x996)](_0x405983(0x66f),async _0x319c43=>{const _0x1eaa54=_0x405983,_0x5a9581=_0x319c43[_0x1eaa54(0x815)]['closest']('.quiz-result-card'),_0x3cdaf8=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x898)),_0x23669b=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x675)),_0x2a2037=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x2d8)),_0x1e8cd2=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x3ca)),_0x5b3d73=_0x319c43['target'][_0x1eaa54(0x56d)](_0x1eaa54(0x366)),_0x11d2bc=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x31a)),_0x576881=_0x319c43['target'][_0x1eaa54(0x56d)](_0x1eaa54(0xafb)),_0x4976bc=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x2bb)),_0x52c51c=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x97b)),_0x322fdf=_0x319c43['target'][_0x1eaa54(0x56d)](_0x1eaa54(0x3f3)),_0x4a10c7=_0x319c43[_0x1eaa54(0x815)]['closest'](_0x1eaa54(0x8db)),_0x18c2e6=_0x319c43[_0x1eaa54(0x815)]['closest'](_0x1eaa54(0x371)),_0x1a9639=_0x319c43[_0x1eaa54(0x815)]['closest'](_0x1eaa54(0xa34)),_0x443700=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)]('.start-presentation-list-btn'),_0x58b9e7=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x2f9)),_0x33f42e=_0x319c43['target'][_0x1eaa54(0x56d)]('.export-pdf-list-btn'),_0x3bbfae=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)]('.delete-quiz-btn'),_0x326d76=_0x319c43[_0x1eaa54(0x815)]['closest']('.quiz-status-btn'),_0x1f9c02=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)](_0x1eaa54(0x267)),_0x1dc1ed=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)]('.generate-easy-version-btn'),_0x13fd50=_0x319c43[_0x1eaa54(0x815)][_0x1eaa54(0x56d)]('.start-game-btn'),_0x7b52bf=_0x319c43['target'][_0x1eaa54(0x56d)](_0x1eaa54(0x3ba));if(_0x13fd50){const _0x5b900c=_0x13fd50['dataset'][_0x1eaa54(0x351)],_0x4acba2=_0x13fd50['dataset']['mode'],_0xa9adc0=allQuizzes[_0x1eaa54(0xafd)](_0x5abd0b=>_0x5abd0b['id']===_0x5b900c);_0xa9adc0&&showGameStartConfirmationModal(_0x5b900c,_0x4acba2,_0xa9adc0[_0x1eaa54(0x9b8)]);}else{if(_0x7b52bf){const _0x16b3ee=_0x7b52bf['dataset'][_0x1eaa54(0x351)];handleStartLiveRace(_0x16b3ee);}else{if(_0x1f9c02){const _0x295290=_0x1f9c02[_0x1eaa54(0x478)][_0x1eaa54(0x351)],_0x517f5d=document[_0x1eaa54(0x7e1)](_0x1eaa54(0x440)+_0x295290);_0x517f5d&&_0x517f5d[_0x1eaa54(0x709)][_0x1eaa54(0xa3d)](_0x1eaa54(0x984));}else{if(_0x3cdaf8){const _0x2cceea=_0x3cdaf8[_0x1eaa54(0x478)]['quizId'],_0x5e445c=allQuizzes[_0x1eaa54(0xafd)](_0x335e09=>_0x335e09['id']===_0x2cceea);_0x5e445c&&handleGenerateParallelPostTest(_0x5e445c);}else{if(_0x23669b)handleCompareResults(_0x23669b['dataset'][_0x1eaa54(0x351)],_0x23669b[_0x1eaa54(0x478)]['preTestId']);else{if(_0x2a2037){const _0x3a58d5=_0x2a2037[_0x1eaa54(0x478)][_0x1eaa54(0x351)],_0x3868d8=allQuizzes[_0x1eaa54(0xafd)](_0x5346f9=>_0x5346f9['id']===_0x3a58d5);_0x3868d8&&_0x3868d8[_0x1eaa54(0x975)]?(displayLessonPlan(_0x3868d8[_0x1eaa54(0x975)],_0x3868d8),showConfirmation(_0x1eaa54(0x450),()=>handleGenerateLessonPlan(_0x3a58d5)),document[_0x1eaa54(0x7e1)](_0x1eaa54(0x5aa))['querySelector']('h3')[_0x1eaa54(0x8b8)]=_0x1eaa54(0x808),document[_0x1eaa54(0x7e1)]('confirm-delete-btn')[_0x1eaa54(0x8b8)]=_0x1eaa54(0x392)):handleGenerateLessonPlan(_0x3a58d5);}else{if(_0x1e8cd2)handleToggleStarQuiz(_0x1e8cd2[_0x1eaa54(0x478)][_0x1eaa54(0x351)]);else{if(_0x5b3d73)copyTextToClipboard(_0x5b3d73[_0x1eaa54(0x478)]['quizId'],_0x1eaa54(0xaf1));else{if(_0x11d2bc)handleOpenQuizEditor(_0x11d2bc['dataset'][_0x1eaa54(0x351)]);else{if(_0x576881)handleQuizSettings(_0x576881['dataset']['quizId']);else{if(_0x4976bc)handleDuplicateQuiz(_0x4976bc[_0x1eaa54(0x478)][_0x1eaa54(0x351)]);else{if(_0x52c51c)handleRenameQuiz(_0x52c51c['dataset'][_0x1eaa54(0x351)],_0x52c51c[_0x1eaa54(0x478)]['topic']);else{if(_0x322fdf){const _0x11db59=_0x322fdf[_0x1eaa54(0x478)][_0x1eaa54(0x351)],_0x3a67f8=allQuizzes['find'](_0x1b2af8=>_0x1b2af8['id']===_0x11db59);_0x3a67f8&&handleGenerateParallelFromBank(_0x3a67f8);}else{if(_0x4a10c7)handleMoveQuiz(_0x4a10c7[_0x1eaa54(0x478)][_0x1eaa54(0x351)]);else{if(_0x18c2e6)handleManualQuizPairing(_0x18c2e6[_0x1eaa54(0x478)][_0x1eaa54(0x351)]);else{if(_0x1a9639)handleUnpairQuiz(_0x1a9639[_0x1eaa54(0x478)]['quizId']);else{if(_0x443700){const _0x4d1310=_0x443700[_0x1eaa54(0x478)]['quizId'],_0x2887c7=allQuizzes[_0x1eaa54(0xafd)](_0x388c25=>_0x388c25['id']===_0x4d1310);if(_0x2887c7)startPresentation(_0x2887c7);}else{if(_0x58b9e7){const _0x5ce02b=_0x58b9e7[_0x1eaa54(0x478)][_0x1eaa54(0x351)],_0x225411=allQuizzes[_0x1eaa54(0xafd)](_0x50e00b=>_0x50e00b['id']===_0x5ce02b);_0x225411&&(currentQuizData=_0x225411,startAdminTest());}else{if(_0x33f42e)actionTargetId=_0x33f42e[_0x1eaa54(0x478)][_0x1eaa54(0x351)],document[_0x1eaa54(0x7e1)](_0x1eaa54(0x5ba))[_0x1eaa54(0x709)][_0x1eaa54(0x5b3)](_0x1eaa54(0x984));else{if(_0x3bbfae)showConfirmation(_0x1eaa54(0x608)+_0x3bbfae[_0x1eaa54(0x478)][_0x1eaa54(0x9b8)]+_0x1eaa54(0x5e6),()=>handleDeleteQuiz(_0x3bbfae[_0x1eaa54(0x478)]['quizId']));else{if(_0x326d76)handleQuizStatus(_0x326d76[_0x1eaa54(0x478)][_0x1eaa54(0x351)]);else{if(_0x1dc1ed)handleGenerateEasyVersionQuiz(_0x1dc1ed[_0x1eaa54(0x478)][_0x1eaa54(0x351)]);else _0x5a9581&&showQuizDetailView(_0x5a9581[_0x1eaa54(0x478)][_0x1eaa54(0x351)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x405983(0x7e1)](_0x405983(0x77b))[_0x405983(0x996)](_0x405983(0x66f),()=>showView(_0x405983(0x6ab))),document[_0x405983(0x7e1)]('confirm-team-players-btn')[_0x405983(0x996)]('click',confirmAndStartTeamQuiz),document[_0x405983(0x7e1)](_0x405983(0xaa7))[_0x405983(0x622)](_0x405983(0x78f))[_0x405983(0x996)]('click',_0x37ed05=>{const _0x5c4172=_0x405983,_0x4210d6=_0x37ed05[_0x5c4172(0x815)][_0x5c4172(0x56d)](_0x5c4172(0x50d));if(!_0x4210d6||!_0x4210d6[_0x5c4172(0x478)][_0x5c4172(0x778)])return;const _0x1f5bb1=_0x4210d6[_0x5c4172(0x478)]['sort'];if(quizLeaderboardSortBy===_0x1f5bb1)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5c4172(0x468)?_0x5c4172(0x702):'asc';else{quizLeaderboardSortBy=_0x1f5bb1;const _0xcff18d=[_0x5c4172(0x4ed)];quizLeaderboardSortOrder=_0xcff18d['includes'](_0x1f5bb1)?'asc':_0x5c4172(0x702);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5c4172(0x3aa));}),document['getElementById'](_0x405983(0x5d5))[_0x405983(0x996)](_0x405983(0x66f),closePresentation),document[_0x405983(0x7e1)](_0x405983(0x4bd))[_0x405983(0x996)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x405983(0x7e1)](_0x405983(0x9dd))[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x250f6d=_0x405983;currentQuizData[_0x250f6d(0x2f6)]&&currentPresentationSlide<currentQuizData['questions'][_0x250f6d(0x88b)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x405983(0xaea),()=>{const _0x567a4a=_0x405983;!document['fullscreenElement']&&(presentationModal[_0x567a4a(0x38f)][_0x567a4a(0x5d6)]=_0x567a4a(0x994));}),document[_0x405983(0x7e1)](_0x405983(0x386))['addEventListener'](_0x405983(0x66f),handleDeleteAllStudents),studentList['addEventListener'](_0x405983(0x66f),_0x55e345=>{const _0xe2c981=_0x405983,_0x29d395=_0x55e345[_0xe2c981(0x815)][_0xe2c981(0x56d)](_0xe2c981(0x78d));if(_0x29d395){const _0x567f91=_0x29d395[_0xe2c981(0x478)][_0xe2c981(0x4ed)];handleDeleteStudent(_0x567f91);}}),document[_0x405983(0x7e1)](_0x405983(0xa27))['addEventListener'](_0x405983(0x66f),handleGenerateFromFileClick),fileUploadInput[_0x405983(0x996)](_0x405983(0x913),_0x37faa4=>{const _0x1986d1=_0x405983,_0x152c19=_0x37faa4[_0x1986d1(0x815)][_0x1986d1(0x609)][0x0],_0x57f448=document[_0x1986d1(0x7e1)](_0x1986d1(0xa27));_0x152c19?(selectedFile=_0x152c19,_0x57f448['disabled']=![]):(selectedFile=null,_0x57f448[_0x1986d1(0xab8)]=!![]);}),document['getElementById'](_0x405983(0x462))[_0x405983(0x996)]('change',_0x293baf=>{const _0x720d=_0x405983,_0x45bcf4=document['getElementById'](_0x720d(0x836)),_0x431144=document[_0x720d(0x7e1)]('timer-duration-label'),_0x3aa58a=document[_0x720d(0x7e1)](_0x720d(0xa23));_0x293baf[_0x720d(0x815)][_0x720d(0x848)]===_0x720d(0x994)?_0x45bcf4['classList'][_0x720d(0x484)]('hidden'):(_0x45bcf4[_0x720d(0x709)]['remove'](_0x720d(0x984)),_0x293baf[_0x720d(0x815)][_0x720d(0x848)]==='whole_quiz'?(_0x431144[_0x720d(0x8b8)]=_0x720d(0x415),_0x3aa58a[_0x720d(0x848)]='10'):(_0x431144[_0x720d(0x8b8)]=_0x720d(0xa82),_0x3aa58a['value']='30'));}),document[_0x405983(0x7e1)](_0x405983(0x5da))[_0x405983(0x996)](_0x405983(0x913),_0x349f9a=>{const _0x1ca853=_0x405983,_0x1dd1ff=document[_0x1ca853(0x7e1)](_0x1ca853(0x50b)),_0x2d8e36=_0x349f9a[_0x1ca853(0x815)][_0x1ca853(0x848)],_0x436a1b=document['querySelector'](_0x1ca853(0x6d3)),_0x2eefb1=document[_0x1ca853(0x7e1)]('passing-score-input'),_0x3f19b9=document[_0x1ca853(0x7e1)](_0x1ca853(0xa19));_0x2d8e36==='matching'?_0x436a1b[_0x1ca853(0x8b8)]=_0x1ca853(0x56c):_0x436a1b[_0x1ca853(0x8b8)]=_0x1ca853(0x8f0),_0x2d8e36==='multiple_choice'||_0x2d8e36===_0x1ca853(0x21c)||_0x2d8e36===_0x1ca853(0x682)?_0x1dd1ff[_0x1ca853(0x709)][_0x1ca853(0x5b3)](_0x1ca853(0x984)):_0x1dd1ff['classList'][_0x1ca853(0x484)](_0x1ca853(0x984)),_0x2eefb1['max']=_0x3f19b9[_0x1ca853(0x848)];}),document[_0x405983(0x7e1)](_0x405983(0xa19))['addEventListener'](_0x405983(0x9b6),_0x4b1458=>{const _0x3631ed=_0x405983;document[_0x3631ed(0x7e1)](_0x3631ed(0x731))[_0x3631ed(0xa7d)]=_0x4b1458[_0x3631ed(0x815)][_0x3631ed(0x848)];}),document['getElementById']('modal-timer-mode-select')['addEventListener']('change',_0x136d12=>{const _0x289c2b=_0x405983,_0x4b2adf=document['getElementById']('modal-timer-duration-container'),_0x4ad5fc=document[_0x289c2b(0x7e1)]('modal-timer-duration-label'),_0x4bb9af=document['getElementById'](_0x289c2b(0x53a));_0x136d12[_0x289c2b(0x815)]['value']===_0x289c2b(0x994)?_0x4b2adf['classList']['add']('hidden'):(_0x4b2adf[_0x289c2b(0x709)]['remove'](_0x289c2b(0x984)),_0x136d12[_0x289c2b(0x815)][_0x289c2b(0x848)]===_0x289c2b(0x427)?_0x4ad5fc[_0x289c2b(0x8b8)]=_0x289c2b(0x415):_0x4ad5fc[_0x289c2b(0x8b8)]=_0x289c2b(0xa82));}),document[_0x405983(0x7e1)](_0x405983(0x21a))[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x1d5b64=_0x405983;document['getElementById'](_0x1d5b64(0x553))[_0x1d5b64(0x709)][_0x1d5b64(0x484)]('hidden');}),document[_0x405983(0x7e1)](_0x405983(0x8fd))[_0x405983(0x996)]('click',()=>{const _0x2efcee=_0x405983;document[_0x2efcee(0x7e1)]('quiz-editor-modal')[_0x2efcee(0x709)][_0x2efcee(0x484)](_0x2efcee(0x984));}),document[_0x405983(0x7e1)](_0x405983(0x870))[_0x405983(0x996)](_0x405983(0x66f),handleVerifyAnswersInEditor),document['getElementById'](_0x405983(0x8ef))['addEventListener'](_0x405983(0x66f),()=>{const _0x2ed112=_0x405983;document[_0x2ed112(0x7e1)]('quiz-editor-modal')['classList']['add']('hidden'),showConfirmation(_0x2ed112(0x77a),handleSaveChanges);}),document[_0x405983(0x7e1)](_0x405983(0xa0a))[_0x405983(0x996)](_0x405983(0x66f),handleAutoFixLatex);const _0x30bc0a=document[_0x405983(0x7e1)](_0x405983(0x37f));_0x30bc0a&&_0x30bc0a[_0x405983(0x996)]('click',_0x5013cb=>{const _0x1ceb9a=_0x405983,_0x3fe908=_0x5013cb[_0x1ceb9a(0x815)][_0x1ceb9a(0x56d)](_0x1ceb9a(0x80e)),_0x66f491=_0x5013cb['target'][_0x1ceb9a(0x56d)](_0x1ceb9a(0x4e2));if(_0x3fe908){const _0x28b3b4=_0x3fe908[_0x1ceb9a(0x56d)](_0x1ceb9a(0x391)),_0xa43b7b=parseInt(_0x28b3b4[_0x1ceb9a(0x478)][_0x1ceb9a(0x331)],0xa);handleRegenerateQuestionInEditor(_0xa43b7b);}else{if(_0x66f491){const _0x4e6c6d=_0x66f491['closest'](_0x1ceb9a(0x391)),_0x1909ec=parseInt(_0x4e6c6d[_0x1ceb9a(0x478)][_0x1ceb9a(0x331)],0xa);handleAiFixFormula(_0x1909ec);}}});document[_0x405983(0x7e1)](_0x405983(0x9e1))['addEventListener'](_0x405983(0x66f),openQuizBankModal),document[_0x405983(0x7e1)]('cancel-quiz-bank-btn')['addEventListener'](_0x405983(0x66f),()=>{const _0x50b2b7=_0x405983;document['getElementById'](_0x50b2b7(0x2e8))[_0x50b2b7(0x709)][_0x50b2b7(0x484)](_0x50b2b7(0x984));}),document[_0x405983(0x7e1)](_0x405983(0x35c))[_0x405983(0x996)]('input',_0x6c003d=>renderQuizBankList(_0x6c003d[_0x405983(0x815)][_0x405983(0x848)]));const _0x25e47a=document[_0x405983(0x7e1)](_0x405983(0x42d));if(_0x25e47a){let _0x2ffcbe=null;_0x25e47a[_0x405983(0x996)](_0x405983(0x66f),_0x52d958=>{const _0x19a648=_0x405983,_0x5b89bb=_0x52d958[_0x19a648(0x815)],_0x286c92=_0x5b89bb['closest'](_0x19a648(0x9f7)),_0x7ae4b2=_0x5b89bb[_0x19a648(0x56d)](_0x19a648(0x643)),_0x468699=_0x5b89bb[_0x19a648(0x56d)](_0x19a648(0x74f)),_0x57b7fa=_0x5b89bb[_0x19a648(0x56d)](_0x19a648(0x5a5));if(_0x7ae4b2){_0x52d958['preventDefault']();const _0x814ee2=_0x7ae4b2[_0x19a648(0x478)]['id'],_0x883185=_0x7ae4b2[_0x19a648(0x56d)](_0x19a648(0x57b))[_0x19a648(0x622)]('.topic-name-display')[_0x19a648(0x8b8)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x883185+'\x22?',()=>handleDeleteCustomTopic(_0x814ee2));}else{if(_0x286c92){_0x52d958['preventDefault']();_0x2ffcbe&&toggleTopicEditMode(_0x2ffcbe,![]);const _0x1aa78b=_0x286c92[_0x19a648(0x56d)](_0x19a648(0x75f));_0x2ffcbe=_0x1aa78b,toggleTopicEditMode(_0x1aa78b,!![]);}else{if(_0x468699){_0x52d958[_0x19a648(0x6db)]();const _0x54d145=_0x468699[_0x19a648(0x478)]['id'],_0x3adfd6=_0x468699['closest']('[data-topic-container-id]'),_0x1f0750=_0x3adfd6['querySelector'](_0x19a648(0xad6))[_0x19a648(0x848)];handleUpdateCustomTopic(_0x54d145,_0x1f0750),_0x2ffcbe=null;}else{if(_0x57b7fa){_0x52d958[_0x19a648(0x6db)]();const _0x2f7ebc=_0x57b7fa['closest'](_0x19a648(0x75f));toggleTopicEditMode(_0x2f7ebc,![]),_0x2ffcbe=null;}}}}}),document[_0x405983(0x7e1)](_0x405983(0x8f6))[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x19daf4=_0x405983;document[_0x19daf4(0x7e1)](_0x19daf4(0x8ae))[_0x19daf4(0x709)]['add'](_0x19daf4(0x984));}),document[_0x405983(0x7e1)]('close-lesson-plan-modal-footer-btn')['addEventListener'](_0x405983(0x66f),()=>{const _0x5bf3d8=_0x405983;document['getElementById'](_0x5bf3d8(0x8ae))['classList'][_0x5bf3d8(0x484)](_0x5bf3d8(0x984));}),document[_0x405983(0x7e1)](_0x405983(0x5bc))[_0x405983(0x996)]('click',handleExportLessonPDF);}document[_0x405983(0x7e1)]('close-comparison-modal-btn')[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x234571=_0x405983;document[_0x234571(0x7e1)](_0x234571(0x45b))['classList'][_0x234571(0x484)](_0x234571(0x984));}),document['getElementById']('close-comparison-modal-footer-btn')[_0x405983(0x996)](_0x405983(0x66f),()=>{const _0x195187=_0x405983;document[_0x195187(0x7e1)](_0x195187(0x45b))[_0x195187(0x709)][_0x195187(0x484)]('hidden');}),setupComparisonModalTabs(),document[_0x405983(0x837)][_0x405983(0x996)](_0x405983(0x66f),function(_0x167e2e){const _0x5ea9c2=_0x405983;if(_0x167e2e[_0x5ea9c2(0x815)][_0x5ea9c2(0x709)][_0x5ea9c2(0xb03)](_0x5ea9c2(0x90e))){const _0x5b9111=unescape(_0x167e2e[_0x5ea9c2(0x815)][_0x5ea9c2(0x478)][_0x5ea9c2(0x9b8)]);startSkillPractice(_0x5b9111);}}),document[_0x405983(0x7e1)](_0x405983(0x781))['addEventListener'](_0x405983(0x66f),_0x458aa2=>{const _0xf8a0fa=_0x405983,_0x54987a=_0x458aa2[_0xf8a0fa(0x815)][_0xf8a0fa(0x56d)](_0xf8a0fa(0x479));if(_0x54987a){const _0xb3539e=_0x54987a[_0xf8a0fa(0x478)]['studentName'];handleDeleteSubmission(_0xb3539e);}});}async function handleStartGroupMode(_0x536f80,_0x226b1a=![]){const _0x360a6c=_0x712516,_0x5eb2f7=allQuizzes[_0x360a6c(0xafd)](_0x3463b9=>_0x3463b9['id']===_0x536f80)||allQuizzesGlobal[_0x360a6c(0xafd)](_0x5b9c1d=>_0x5b9c1d['id']===_0x536f80);if(!_0x5eb2f7){showMessage(_0x360a6c(0x96a));return;}currentQuizData=getShuffledQuiz(_0x5eb2f7);const _0xa9e928=Math['floor'](0x3e8+Math[_0x360a6c(0x658)]()*0x2328)['toString']();try{const _0x42bd25=await addDoc(collection(db,_0x360a6c(0xade)+appId+_0x360a6c(0x711)),{'quizId':_0x5eb2f7['id'],'projectId':_0x5eb2f7[_0x360a6c(0x243)],'status':'lobby','pin':_0xa9e928,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x226b1a});currentTeamQuizId=_0x42bd25['id'],showView(_0x360a6c(0x6ed)),renderAdminTeamQuizDashboard(_0xa9e928,_0x5eb2f7[_0x360a6c(0x9b8)],'group'),listenForTeamQuizUpdates();}catch(_0x8af9db){console['error'](_0x360a6c(0x2fb),_0x8af9db),showMessage(_0x360a6c(0x290));}}async function showStudentProgressView(){const _0x26a47a=_0x712516;studentInitialView[_0x26a47a(0x709)][_0x26a47a(0x484)](_0x26a47a(0x984)),document['getElementById']('student-progress-view')[_0x26a47a(0x709)][_0x26a47a(0x5b3)]('hidden');const _0x502f32=document[_0x26a47a(0x7e1)](_0x26a47a(0x236)),_0x198980=document[_0x26a47a(0x7e1)](_0x26a47a(0x90a)),_0x49243c=document['getElementById']('student-progress-content');_0x49243c[_0x26a47a(0x519)]=_0x26a47a(0x218),_0x198980['innerHTML']=_0x26a47a(0xa10),_0x198980[_0x26a47a(0xab8)]=!![],_0x502f32[_0x26a47a(0x519)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x26a47a(0x88b)]===0x0){const _0x40ff13=collection(db,_0x26a47a(0xade)+appId+_0x26a47a(0x42a)),_0x263298=await getDocs(_0x40ff13);allProjects=_0x263298[_0x26a47a(0xa6a)][_0x26a47a(0x4b7)](_0x12fc08=>({'id':_0x12fc08['id'],..._0x12fc08['data']()}));}const _0x4d718d=allProjects['filter'](_0x2548d3=>_0x2548d3[_0x26a47a(0x9c9)]?.[_0x26a47a(0x28b)]!==![]);_0x4d718d[_0x26a47a(0x778)]((_0x26eb3c,_0x4a9ba2)=>_0x26eb3c['projectName'][_0x26a47a(0x39f)](_0x4a9ba2[_0x26a47a(0x567)],'th')),_0x502f32[_0x26a47a(0x519)]=_0x26a47a(0x3ad)+_0x4d718d[_0x26a47a(0x4b7)](_0x5cc473=>'<option\x20value=\x22'+_0x5cc473['id']+'\x22>'+_0x5cc473[_0x26a47a(0x567)]+_0x26a47a(0xa85))[_0x26a47a(0x85c)](''),_0x502f32[_0x26a47a(0x887)]=()=>{const _0x5bf50e=_0x26a47a,_0x8961c0=_0x198980['value'],_0x116d4b=_0x502f32['value'];_0x198980[_0x5bf50e(0xab8)]=!![],_0x198980[_0x5bf50e(0x519)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x49243c[_0x5bf50e(0x519)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x116d4b)return;const _0x2008aa=allProjects[_0x5bf50e(0xafd)](_0xb8f7a6=>_0xb8f7a6['id']===_0x116d4b);if(!_0x2008aa||!_0x2008aa['students'])return;const _0x524403=()=>{const _0x503ddf=_0x5bf50e;_0x198980[_0x503ddf(0x519)]=_0x503ddf(0xa10)+_0x2008aa['students'][_0x503ddf(0x4b7)](_0x510fc0=>_0x503ddf(0x7ac)+_0x510fc0+'\x22>'+_0x510fc0+'</option>')[_0x503ddf(0x85c)](''),_0x198980[_0x503ddf(0xab8)]=![];const _0x325e14=Array[_0x503ddf(0x972)](_0x198980[_0x503ddf(0x89f)])[_0x503ddf(0x4b7)](_0x301a0f=>_0x301a0f[_0x503ddf(0x848)]);if(_0x8961c0&&_0x325e14[_0x503ddf(0x29d)](_0x8961c0))_0x198980[_0x503ddf(0x848)]=_0x8961c0,_0x198980[_0x503ddf(0x260)](new Event(_0x503ddf(0x913)));else _0x2008aa[_0x503ddf(0xa29)][_0x503ddf(0x88b)]===0x1&&(_0x198980[_0x503ddf(0x848)]=_0x2008aa[_0x503ddf(0xa29)][0x0],_0x198980['dispatchEvent'](new Event(_0x503ddf(0x913))));};if(_0x2008aa[_0x5bf50e(0x9c9)]?.[_0x5bf50e(0x3ab)]){if(sessionStorage[_0x5bf50e(0x4c0)]('authed_project_'+_0x116d4b)===_0x5bf50e(0xa46)){_0x524403();return;}const _0x548431=document[_0x5bf50e(0x7e1)]('project-passcode-modal'),_0x58db68=document[_0x5bf50e(0x7e1)](_0x5bf50e(0x79e)),_0x53ed75=document[_0x5bf50e(0x7e1)](_0x5bf50e(0x835)),_0x3fb563=document[_0x5bf50e(0x7e1)](_0x5bf50e(0x4f8)),_0x6168e9=document['getElementById'](_0x5bf50e(0x841));document[_0x5bf50e(0x7e1)](_0x5bf50e(0x69b))[_0x5bf50e(0x8b8)]='สำหรับโปรเจค:\x20'+_0x2008aa[_0x5bf50e(0x567)],_0x3fb563['value']='',_0x6168e9[_0x5bf50e(0x709)][_0x5bf50e(0x484)](_0x5bf50e(0x984)),_0x548431[_0x5bf50e(0x709)]['remove'](_0x5bf50e(0x984));const _0x45e02a=()=>{const _0xdc2330=_0x5bf50e,_0x4cf70c=_0x3fb563[_0xdc2330(0x848)]['trim']();_0x4cf70c===_0x2008aa[_0xdc2330(0x9c9)][_0xdc2330(0x787)]?(sessionStorage[_0xdc2330(0x9f4)](_0xdc2330(0x738)+_0x116d4b,'true'),_0x548431[_0xdc2330(0x709)][_0xdc2330(0x484)](_0xdc2330(0x984)),_0x524403(),_0x58db68['removeEventListener'](_0xdc2330(0x66f),_0x45e02a)):_0x6168e9['classList'][_0xdc2330(0x5b3)](_0xdc2330(0x984));};_0x58db68[_0x5bf50e(0x903)]=_0x45e02a,_0x53ed75[_0x5bf50e(0x903)]=()=>{const _0x4a1458=_0x5bf50e;_0x548431[_0x4a1458(0x709)][_0x4a1458(0x484)](_0x4a1458(0x984)),_0x502f32[_0x4a1458(0x848)]='',_0x58db68[_0x4a1458(0x764)](_0x4a1458(0x66f),_0x45e02a);};}else _0x524403();},_0x198980[_0x26a47a(0x887)]=()=>{const _0x5b06d2=_0x26a47a,_0x4c6187=_0x502f32[_0x5b06d2(0x848)],_0x392603=_0x198980[_0x5b06d2(0x848)];_0x4c6187&&_0x392603&&renderStudentProgressDashboard(_0x4c6187,_0x392603);};}async function confirmAndJoinSyncGame(){const _0x3d6476=_0x712516,_0xdd5f23=Array[_0x3d6476(0x972)](document[_0x3d6476(0xa58)](_0x3d6476(0x89a)))[_0x3d6476(0x4b7)](_0x3bd0e4=>_0x3bd0e4[_0x3d6476(0x848)]);if(_0xdd5f23['length']===0x0){showMessage(_0x3d6476(0xa14));return;}localTeamPlayers=_0xdd5f23,localPlayerTurnIndex=0x0;const _0x286cbe=doc(db,'artifacts/'+appId+_0x3d6476(0x832),currentLiveGameId),_0x1d614a={};_0xdd5f23[_0x3d6476(0x8e0)](_0x4ea09e=>{const _0x2fee22=_0x3d6476;_0x1d614a[_0x2fee22(0xae9)+_0x4ea09e]={'name':_0x4ea09e,'score':0x0,'answered':![]};});try{await updateDoc(_0x286cbe,_0x1d614a),document[_0x3d6476(0x7e1)](_0x3d6476(0x475))[_0x3d6476(0x709)][_0x3d6476(0x484)](_0x3d6476(0x984)),currentStudentName=_0xdd5f23[0x0],listenForSyncGameUpdates();const _0x57857e={'gameId':currentLiveGameId,'mode':_0x3d6476(0x6eb),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3d6476(0x9f4)]('activeGameSession',JSON['stringify'](_0x57857e));}catch(_0x319acf){console[_0x3d6476(0x7e3)](_0x3d6476(0x43f),_0x319acf),showMessage(_0x3d6476(0x3a5));}}async function resumeActiveGameSession(){const _0x26599=_0x712516,_0x569aa5=sessionStorage[_0x26599(0x4c0)](_0x26599(0x401));if(!_0x569aa5)return;const _0x37b8b2=JSON[_0x26599(0x689)](_0x569aa5),{gameId:_0x1943ca,mode:_0x54209c,players:_0xb147c7,turnIndex:_0x3153bd}=_0x37b8b2;try{let _0x1c094d,_0x1b1224;_0x54209c===_0x26599(0x6eb)?_0x1c094d=doc(db,'artifacts/'+appId+_0x26599(0x832),_0x1943ca):_0x1c094d=doc(db,_0x26599(0xade)+appId+'/public/data/teamQuizzes',_0x1943ca);_0x1b1224=await getDoc(_0x1c094d);if(!_0x1b1224[_0x26599(0x23c)]()||_0x1b1224['data']()[_0x26599(0x407)]===_0x26599(0x968)||_0x1b1224['data']()['status']===_0x26599(0x8f7)){sessionStorage[_0x26599(0x322)](_0x26599(0x401));return;}console[_0x26599(0xa87)](_0x26599(0x46a)+_0x54209c+_0x26599(0xa56)+_0x1943ca+')'),localTeamPlayers=_0xb147c7,localPlayerTurnIndex=_0x3153bd;if(_0x54209c==='sync')currentLiveGameId=_0x1943ca,currentStudentName=_0xb147c7[0x0],showView(_0x26599(0x6ed)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x1943ca;const _0x23e279=_0x1b1224[_0x26599(0x4fb)](),_0x43bbb9=doc(db,_0x26599(0xade)+appId+_0x26599(0x4b0),_0x23e279[_0x26599(0x351)]),_0x1f89e9=await getDoc(_0x43bbb9);_0x1f89e9[_0x26599(0x23c)]()&&(currentQuizData=getShuffledQuiz({'id':_0x1f89e9['id'],..._0x1f89e9[_0x26599(0x4fb)]()}),showView(_0x26599(0x6ab)),studentInitialView[_0x26599(0x709)][_0x26599(0x484)](_0x26599(0x984)),renderTeamQuizQuestion());}}catch(_0xd3b84a){console['error'](_0x26599(0x385),_0xd3b84a),sessionStorage[_0x26599(0x322)]('activeGameSession');}}async function handleKickPlayerSync(_0x2ab78a){const _0x9686e3=_0x712516;if(!currentLiveGameId||!_0x2ab78a)return;const _0x3af1ce=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x481c18={};_0x481c18[_0x9686e3(0xae9)+_0x2ab78a+_0x9686e3(0x36f)]=_0x9686e3(0x516);try{await updateDoc(_0x3af1ce,_0x481c18);}catch(_0x16c0e9){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x2ab78a+_0x9686e3(0x8b5),_0x16c0e9),showMessage(_0x9686e3(0x7ee));}}async function renderStudentProgressDashboard(_0x387c61,_0x54ce14){const _0x25229b=_0x712516,_0x1dc3c4=document[_0x25229b(0x7e1)](_0x25229b(0x5e7));_0x1dc3c4[_0x25229b(0x519)]=_0x25229b(0x9fa);try{const _0x25e0e4=collection(db,'artifacts/'+appId+_0x25229b(0x4b0)),_0x3836d7=query(_0x25e0e4,where(_0x25229b(0x243),'==',_0x387c61)),_0x127736=await getDocs(_0x3836d7),_0x2d2171=_0x127736[_0x25229b(0xa6a)][_0x25229b(0x4b7)](_0x4b5024=>({'id':_0x4b5024['id'],..._0x4b5024['data']()})),_0x3f7c16=_0x2d2171[_0x25229b(0x4b7)](_0x4ae64f=>getDoc(doc(db,_0x25229b(0xade)+appId+_0x25229b(0x8a4)+_0x4ae64f['id']+_0x25229b(0x437),_0x54ce14))),_0x463944=await Promise['all'](_0x3f7c16),_0x8750bd=_0x463944[_0x25229b(0xa4a)](_0x2629db=>_0x2629db[_0x25229b(0x23c)]())['map'](_0x1ec2ff=>({'quizId':_0x1ec2ff[_0x25229b(0x309)][_0x25229b(0x886)]['parent']['id'],..._0x1ec2ff['data']()}));if(_0x8750bd[_0x25229b(0x88b)]===0x0){_0x1dc3c4[_0x25229b(0x519)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x24fe15=_0x25229b(0x7e5);_0x8750bd[_0x25229b(0x8e0)](_0x391a74=>{const _0x6cb6dc=_0x25229b,_0x3ed38d=_0x2d2171[_0x6cb6dc(0xafd)](_0x479030=>_0x479030['id']===_0x391a74[_0x6cb6dc(0x351)]),_0x4f7c5f=_0x3ed38d[_0x6cb6dc(0x9c9)]?.[_0x6cb6dc(0x2f1)]||_0x6cb6dc(0x8b1),_0x3e0c69=_0x3ed38d[_0x6cb6dc(0x9c9)]?.[_0x6cb6dc(0x96f)]??0x0,_0x2df8fc=_0x391a74[_0x6cb6dc(0x3d0)]>=_0x3e0c69;let _0x54366e='',_0x167224=_0x6cb6dc(0x5f6);switch(_0x4f7c5f){case _0x6cb6dc(0x8b1):case _0x6cb6dc(0x6ff):_0x167224=_0x2df8fc?_0x6cb6dc(0xaa2):_0x6cb6dc(0x314),_0x54366e=_0x6cb6dc(0x874)+(_0x2df8fc?'text-green-700':_0x6cb6dc(0x63f))+'\x22>'+_0x391a74[_0x6cb6dc(0x3d0)]+_0x6cb6dc(0xb05)+_0x391a74[_0x6cb6dc(0x9e9)]+_0x6cb6dc(0x620)+(_0x2df8fc?'bg-green-200\x20text-green-800':_0x6cb6dc(0x7c8))+'\x22>'+(_0x2df8fc?_0x6cb6dc(0x7a7):'ไม่ผ่าน')+_0x6cb6dc(0x2b7);break;case _0x6cb6dc(0x4d2):_0x167224=_0x2df8fc?'bg-green-50':_0x6cb6dc(0x314),_0x54366e=_0x6cb6dc(0x4e5)+(_0x2df8fc?_0x6cb6dc(0x569):'bg-red-200\x20text-red-800')+'\x22>'+(_0x2df8fc?'ผ่าน':_0x6cb6dc(0x1f4))+_0x6cb6dc(0x2b7);break;case _0x6cb6dc(0x668):_0x167224=_0x6cb6dc(0x2f8),_0x54366e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x24fe15+=_0x6cb6dc(0x76a)+_0x167224+_0x6cb6dc(0x307)+_0x3ed38d[_0x6cb6dc(0x9b8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x391a74[_0x6cb6dc(0x5ae)]['length']+_0x6cb6dc(0xb10)+new Date(_0x391a74['latestSubmittedAt'])[_0x6cb6dc(0x912)](_0x6cb6dc(0x57f))+_0x6cb6dc(0x714)+_0x54366e+_0x6cb6dc(0xa8d);}),_0x24fe15+=_0x25229b(0x6b3),_0x1dc3c4['innerHTML']=_0x24fe15;}catch(_0x370f3e){console['error'](_0x25229b(0x763),_0x370f3e),_0x1dc3c4['innerHTML']=_0x25229b(0x919);}}function setupStudentProgressListeners(){const _0x8979b6=_0x712516;document['getElementById']('view-my-progress-btn')[_0x8979b6(0x996)](_0x8979b6(0x66f),showStudentProgressView),document[_0x8979b6(0x7e1)](_0x8979b6(0xaee))[_0x8979b6(0x996)]('click',()=>{const _0x4f134a=_0x8979b6;document[_0x4f134a(0x7e1)](_0x4f134a(0x364))[_0x4f134a(0x709)][_0x4f134a(0x484)](_0x4f134a(0x984)),document[_0x4f134a(0x7e1)](_0x4f134a(0x96c))[_0x4f134a(0x709)][_0x4f134a(0x5b3)]('hidden');});}async function startSkillPractice(_0x32046c){const _0x34bcde=_0x712516;studentResultArea[_0x34bcde(0x709)]['add']('hidden'),studentQuizArea['innerHTML']=_0x34bcde(0x226),studentQuizArea['classList'][_0x34bcde(0x5b3)](_0x34bcde(0x984));try{const _0x4a8a6f=await getStandardizedTopic(_0x32046c);console[_0x34bcde(0xa87)](_0x34bcde(0x2d3)+_0x32046c+_0x34bcde(0xa11)+_0x4a8a6f+'\x22'),studentQuizArea[_0x34bcde(0x622)]('p')['textContent']=_0x34bcde(0x5dd)+_0x4a8a6f+_0x34bcde(0x49c);const _0x5a9268=collection(db,_0x34bcde(0xade)+appId+_0x34bcde(0x690)),_0x484a17=query(_0x5a9268,where(_0x34bcde(0x9b8),'==',_0x4a8a6f)),_0x139ea9=await getDocs(_0x484a17);if(_0x139ea9[_0x34bcde(0xa6a)][_0x34bcde(0x88b)]>=0x3){console[_0x34bcde(0xa87)](_0x34bcde(0x229)+_0x139ea9[_0x34bcde(0xa6a)][_0x34bcde(0x88b)]+_0x34bcde(0xb22)+_0x4a8a6f+_0x34bcde(0x9ef));let _0x4e2407=_0x139ea9[_0x34bcde(0xa6a)][_0x34bcde(0x4b7)](_0x3cce67=>_0x3cce67['data']());shuffleArray(_0x4e2407);const _0x47e1d1={'topic':_0x4a8a6f,'questions':_0x4e2407[_0x34bcde(0x7c1)](0x0,0x3)};displaySkillPracticeDrill(_0x47e1d1);}else{console[_0x34bcde(0xa87)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x4a8a6f+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x458f7d=await generatePracticeQuestions(_0x4a8a6f);await saveDrillToPracticeBank(_0x458f7d,_0x4a8a6f),displaySkillPracticeDrill(_0x458f7d);}}catch(_0x1ceb7c){console[_0x34bcde(0x7e3)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x1ceb7c),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x34bcde(0x709)]['add'](_0x34bcde(0x984)),studentResultArea[_0x34bcde(0x709)][_0x34bcde(0x5b3)]('hidden');}}async function saveDrillToPracticeBank(_0x38dbab,_0x426fc2){const _0x1bd4cf=_0x712516,_0x34cf5d=collection(db,_0x1bd4cf(0xade)+appId+_0x1bd4cf(0x690)),_0xe072cd=writeBatch(db);_0x38dbab[_0x1bd4cf(0x2f6)][_0x1bd4cf(0x8e0)](_0x1a4259=>{const _0x1b6732=_0x1bd4cf,_0x48d131=doc(_0x34cf5d);_0xe072cd[_0x1b6732(0x679)](_0x48d131,{'topic':_0x426fc2,'questionText':_0x1a4259[_0x1b6732(0x383)],'options':_0x1a4259['options'],'correctAnswerIndex':_0x1a4259[_0x1b6732(0x4d1)],'explanation':_0x1a4259['explanation'],'createdAt':serverTimestamp()});});try{await _0xe072cd[_0x1bd4cf(0x80f)](),console[_0x1bd4cf(0xa87)](_0x1bd4cf(0xabd)+_0x38dbab['questions'][_0x1bd4cf(0x88b)]+_0x1bd4cf(0x770));}catch(_0x287b6f){console[_0x1bd4cf(0x7e3)](_0x1bd4cf(0x92f),_0x287b6f);}}async function getStandardizedTopic(_0x85a308){const _0x5ab9d0=_0x712516,_0x2fafb0=_0x5ab9d0(0xafc)+_0x85a308+_0x5ab9d0(0x279),_0x5e81da={'type':'OBJECT','properties':{'standardTopic':{'type':_0x5ab9d0(0x208)}},'required':['standardTopic']};try{const _0x1434b6=await callAnalysisApi(_0x2fafb0,_0x5e81da);return _0x1434b6[_0x5ab9d0(0x854)];}catch(_0x129eb9){return console[_0x5ab9d0(0x7e3)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x129eb9),_0x85a308;}}async function handleGenerateEasyVersionQuiz(_0x44835d){const _0x33296f=_0x712516;showConfirmation(_0x33296f(0x404),async()=>{const _0xe7c578=_0x33296f;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0x2f80fe=allQuizzes['find'](_0x23d3d1=>_0x23d3d1['id']===_0x44835d);if(!_0x2f80fe)throw new Error(_0xe7c578(0x819));const _0x166cc0=_0xe7c578(0x86f)+JSON[_0xe7c578(0x44c)](_0x2f80fe[_0xe7c578(0x2f6)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x10c755={'type':'OBJECT','properties':{'questionText':{'type':_0xe7c578(0x208)},'questionType':{'type':'STRING'},'options':{'type':_0xe7c578(0x20e),'items':{'type':_0xe7c578(0x208)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xe7c578(0x208)},'explanation':{'type':_0xe7c578(0x208)},'imageCode':{'type':_0xe7c578(0x208)}},'required':[_0xe7c578(0x383),_0xe7c578(0xad0),_0xe7c578(0x81e)]},_0x608f2c={'type':_0xe7c578(0xa18),'properties':{'questions':{'type':'ARRAY','items':_0x10c755}},'required':['questions']},_0x42f64b=await callAnalysisApi(_0x166cc0,_0x608f2c);_0x42f64b&&_0x42f64b[_0xe7c578(0x2f6)]&&_0x42f64b[_0xe7c578(0x2f6)][_0xe7c578(0x8e0)](_0x1630c5=>{const _0x229e0d=_0xe7c578;_0x1630c5[_0x229e0d(0x383)]&&(_0x1630c5[_0x229e0d(0x383)]=_0x1630c5[_0x229e0d(0x383)][_0x229e0d(0x847)]()[_0x229e0d(0x59e)](/,$/,'')[_0x229e0d(0x847)]());_0x1630c5[_0x229e0d(0x89f)]&&Array[_0x229e0d(0x45d)](_0x1630c5[_0x229e0d(0x89f)])&&(_0x1630c5[_0x229e0d(0x89f)]=_0x1630c5[_0x229e0d(0x89f)][_0x229e0d(0x4b7)](_0x218d1e=>_0x218d1e||'(ตัวเลือกผิดพลาด)'));if(_0x1630c5[_0x229e0d(0x92b)]){const _0x5c79f2=_0x1630c5[_0x229e0d(0x92b)][_0x229e0d(0x847)]();_0x5c79f2===''||_0x5c79f2['toLowerCase']()==='null'||!_0x5c79f2['startsWith']('<svg')?delete _0x1630c5['imageCode']:_0x1630c5[_0x229e0d(0x92b)]=_0x5c79f2;}});if(!_0x42f64b||!_0x42f64b[_0xe7c578(0x2f6)]||_0x42f64b['questions'][_0xe7c578(0x88b)]===0x0)throw new Error(_0xe7c578(0x6ae));const _0x363af9={'projectId':_0x2f80fe[_0xe7c578(0x243)],'quizType':_0x2f80fe[_0xe7c578(0x817)],'settings':_0x2f80fe[_0xe7c578(0x9c9)],'createdBy':_0x2f80fe[_0xe7c578(0x774)],'status':_0xe7c578(0x2e2),'topic':_0xe7c578(0x6f0)+_0x2f80fe[_0xe7c578(0x9b8)],'questions':_0x42f64b[_0xe7c578(0x2f6)],'createdAt':new Date()[_0xe7c578(0x783)](),'quizMode':_0xe7c578(0x8cd),'pairedQuizId':null};let _0x431ab8;while(!![]){_0x431ab8=Math[_0xe7c578(0xa67)](0x3e8+Math[_0xe7c578(0x658)]()*0x2328)[_0xe7c578(0x431)]();const _0xbb90a3=await getDoc(doc(db,_0xe7c578(0xade)+appId+_0xe7c578(0x4b0),_0x431ab8));if(!_0xbb90a3['exists']())break;}await setDoc(doc(db,_0xe7c578(0xade)+appId+'/public/data/quizzes',_0x431ab8),_0x363af9),showMessage(_0xe7c578(0x7f1));}catch(_0xf8c9e1){console['error'](_0xe7c578(0x376),_0xf8c9e1),showMessage('เกิดข้อผิดพลาด:\x20'+_0xf8c9e1[_0xe7c578(0x7e4)]);}});}async function generatePracticeQuestions(_0x28100d){const _0x55cf01=_0x712516,_0x204698=_0x55cf01(0xa21)+_0x28100d+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x11200d={'type':_0x55cf01(0xa18),'properties':{'questionText':{'type':_0x55cf01(0x208)},'options':{'type':'ARRAY','items':{'type':_0x55cf01(0x208)}},'correctAnswerIndex':{'type':_0x55cf01(0x6d8)},'explanation':{'type':_0x55cf01(0x208)}},'required':['questionText','options','correctAnswerIndex',_0x55cf01(0x81e)]},_0xdf0ec9={'type':_0x55cf01(0xa18),'properties':{'topic':{'type':_0x55cf01(0x208)},'questions':{'type':_0x55cf01(0x20e),'items':_0x11200d}},'required':[_0x55cf01(0x9b8),_0x55cf01(0x2f6)]};return await callAnalysisApi(_0x204698,_0xdf0ec9);}function displayLessonPlan(_0x333765,_0x2992c0){const _0x470e2a=_0x712516,_0x5a6cae=_0x470e2a(0x750)+_0x2992c0['topic']+_0x470e2a(0x8fe)+_0x333765['learningGaps'][_0x470e2a(0x4b7)](_0x293278=>_0x470e2a(0xaab)+_0x293278+_0x470e2a(0x97e))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x333765['teachingContent']+_0x470e2a(0x586)+_0x333765['practiceProblems'][_0x470e2a(0x4b7)](_0x5e5983=>_0x470e2a(0x3cb)+_0x5e5983['question']+_0x470e2a(0x1e5)+_0x5e5983[_0x470e2a(0x838)]+_0x470e2a(0x23d))[_0x470e2a(0x85c)]('')+_0x470e2a(0x67e);document[_0x470e2a(0x7e1)]('lesson-plan-title')['textContent']=_0x470e2a(0x5fb)+_0x2992c0[_0x470e2a(0x9b8)],document[_0x470e2a(0x7e1)](_0x470e2a(0x7b5))[_0x470e2a(0x519)]=_0x5a6cae,document[_0x470e2a(0x7e1)](_0x470e2a(0x8ae))[_0x470e2a(0x709)][_0x470e2a(0x5b3)](_0x470e2a(0x984));if(window[_0x470e2a(0x7e0)])MathJax[_0x470e2a(0x7a9)]();}function displaySkillPracticeDrill(_0x574fb7){const _0x3ee8ec=_0x712516;let _0x4d0761=0x0;const _0x1b626f=_0x574fb7[_0x3ee8ec(0x2f6)],_0x163807=()=>{const _0x2b8a6b=_0x3ee8ec,_0x238e27=_0x1b626f[_0x4d0761],_0x90836d=_0x2b8a6b(0x6dd)+(_0x4d0761+0x1)+_0x2b8a6b(0xb05)+_0x1b626f['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x238e27[_0x2b8a6b(0x383)]+_0x2b8a6b(0xa1c)+_0x238e27['options'][_0x2b8a6b(0x4b7)]((_0x144ac6,_0x79e19e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x79e19e+_0x2b8a6b(0x79f)+_0x79e19e+_0x2b8a6b(0x8e1)+_0x79e19e+'\x22>'+_0x144ac6+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2b8a6b(0x85c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x2b8a6b(0x519)]=_0x90836d;if(window[_0x2b8a6b(0x7e0)])MathJax[_0x2b8a6b(0x7a9)]([studentQuizArea]);document['getElementById']('hint-btn')[_0x2b8a6b(0x996)](_0x2b8a6b(0x66f),async()=>{const _0x2e7097=_0x2b8a6b,_0x47483a=await getHintForQuestion(_0x238e27[_0x2e7097(0x383)]);showMessage(_0x47483a);}),document[_0x2b8a6b(0x7e1)](_0x2b8a6b(0x4d3))[_0x2b8a6b(0x996)](_0x2b8a6b(0x66f),()=>{const _0x8a9e78=_0x2b8a6b,_0x23a6c3=document[_0x8a9e78(0x622)]('input[name=\x22drill_answer\x22]:checked');if(!_0x23a6c3){showMessage(_0x8a9e78(0xafa));return;}const _0x332c43=document[_0x8a9e78(0x7e1)](_0x8a9e78(0xa9d)),_0x41d565=parseInt(_0x23a6c3['value'])===_0x238e27[_0x8a9e78(0x4d1)];_0x41d565?(_0x332c43[_0x8a9e78(0xb01)]=_0x8a9e78(0x35a),_0x332c43['innerHTML']='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x238e27[_0x8a9e78(0x81e)]):(_0x332c43[_0x8a9e78(0xb01)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x332c43[_0x8a9e78(0x519)]=_0x8a9e78(0x430)+_0x238e27['explanation']);_0x332c43[_0x8a9e78(0x709)][_0x8a9e78(0x5b3)](_0x8a9e78(0x984));if(window[_0x8a9e78(0x7e0)])MathJax[_0x8a9e78(0x7a9)]([_0x332c43]);document['getElementById']('check-answer-btn')['classList']['add'](_0x8a9e78(0x984)),document[_0x8a9e78(0x7e1)](_0x8a9e78(0xa3b))['classList'][_0x8a9e78(0x484)](_0x8a9e78(0x984)),document['getElementById'](_0x8a9e78(0x460))[_0x8a9e78(0x709)][_0x8a9e78(0x5b3)](_0x8a9e78(0x984));}),document[_0x2b8a6b(0x7e1)](_0x2b8a6b(0x460))[_0x2b8a6b(0x996)](_0x2b8a6b(0x66f),()=>{const _0x36c124=_0x2b8a6b;_0x4d0761++,_0x4d0761<_0x1b626f[_0x36c124(0x88b)]?_0x163807():(studentQuizArea['innerHTML']=_0x36c124(0xaed),document[_0x36c124(0x7e1)]('back-to-results-btn')['addEventListener'](_0x36c124(0x66f),()=>{const _0x15aa13=_0x36c124;studentQuizArea[_0x15aa13(0x709)][_0x15aa13(0x484)](_0x15aa13(0x984)),studentResultArea[_0x15aa13(0x709)][_0x15aa13(0x5b3)](_0x15aa13(0x984));}));});};_0x163807();}async function getHintForQuestion(_0x582341){const _0x170c52=_0x712516,_0x409e26=_0x170c52(0x9f9)+_0x582341+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x3eb728={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x5e0ee5=await callAnalysisApi(_0x409e26,_0x3eb728);return _0x5e0ee5['hint'];}catch(_0x1beced){return console[_0x170c52(0x7e3)](_0x170c52(0x5ed),_0x1beced),_0x170c52(0x22f);}}async function extractTextFromPdf(_0x1729e5){const _0x156a7a=_0x712516;pdfjsLib[_0x156a7a(0xaad)]['workerSrc']=_0x156a7a(0x85b);const _0x126e09=await _0x1729e5['arrayBuffer'](),_0x3c20e7=await pdfjsLib['getDocument'](_0x126e09)[_0x156a7a(0xb08)],_0x337881=_0x3c20e7[_0x156a7a(0x289)];let _0x4ba4da='';for(let _0x4a94b8=0x1;_0x4a94b8<=_0x337881;_0x4a94b8++){const _0x161bf3=await _0x3c20e7['getPage'](_0x4a94b8),_0x55e903=await _0x161bf3[_0x156a7a(0x9b1)](),_0x26016f=_0x55e903[_0x156a7a(0x72b)]['map'](_0xdd75b0=>_0xdd75b0[_0x156a7a(0x542)])['join']('\x20');_0x4ba4da+=_0x26016f+'\x0a\x0a';}return _0x4ba4da;}async function handleGenerateFromBlueprint(){const _0x22a072=_0x712516,_0x501e7e=document[_0x22a072(0x7e1)](_0x22a072(0x980)),_0x5c90c7=document[_0x22a072(0x7e1)]('reference-pdf-upload'),_0x2fd220=_0x501e7e['files'][0x0],_0x33fdab=_0x5c90c7[_0x22a072(0x609)]['length']>0x0?_0x5c90c7[_0x22a072(0x609)][0x0]:null;if(!_0x2fd220){showMessage(_0x22a072(0x771));return;}const _0x555f6f=document[_0x22a072(0x7e1)](_0x22a072(0x521)),_0x5db0ae=document[_0x22a072(0x7e1)](_0x22a072(0x93e)),_0x554f1c=document[_0x22a072(0x7e1)](_0x22a072(0x9eb)),_0x51767e=document[_0x22a072(0x7e1)](_0x22a072(0xb17));_0x51767e['disabled']=!![],document[_0x22a072(0x7e1)](_0x22a072(0x4a9))[_0x22a072(0x709)][_0x22a072(0x5b3)]('hidden'),_0x554f1c[_0x22a072(0x519)]='',_0x555f6f[_0x22a072(0x709)][_0x22a072(0x5b3)](_0x22a072(0x984));try{_0x5db0ae['textContent']=_0x22a072(0x4eb);const _0x36091a=await extractTextFromPdf(_0x2fd220);if(!_0x36091a[_0x22a072(0x847)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x5550b1='';_0x33fdab&&(_0x5db0ae[_0x22a072(0x8b8)]=_0x22a072(0x53f),_0x5550b1=await extractTextFromPdf(_0x33fdab));_0x5db0ae[_0x22a072(0x8b8)]=_0x22a072(0x6c9);const _0x14cac0=document[_0x22a072(0x7e1)]('include-images-checkbox')[_0x22a072(0x8ed)],_0x120ffd=_0x14cac0?_0x22a072(0x8fc):'',_0x5494a0=_0x5550b1?_0x22a072(0x806)+_0x5550b1+_0x22a072(0x389):'',_0x5aeac5=_0x22a072(0x9d6)+(_0x5550b1?_0x22a072(0x84a):'')+_0x22a072(0x5b1)+_0x36091a+_0x22a072(0x389)+_0x5494a0+_0x22a072(0x96b)+_0x120ffd+_0x22a072(0x607)+simpleMathPrompt+_0x22a072(0x43e),_0x1ced05={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x22a072(0x208),'enum':[_0x22a072(0xaa4),_0x22a072(0x344)]},'options':{'type':_0x22a072(0x20e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x22a072(0x6d8)},'idealAnswer':{'type':_0x22a072(0x208)},'explanation':{'type':_0x22a072(0x208)},'imageCode':{'type':_0x22a072(0x208)}},'required':['questionText',_0x22a072(0xad0),_0x22a072(0x81e)]},_0x24edaf={'type':_0x22a072(0xa18),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x1ced05}},'required':[_0x22a072(0x9b8),_0x22a072(0x2f6)]};await handleApiCall(_0x5aeac5,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x24edaf);}catch(_0x9c25cd){console[_0x22a072(0x7e3)](_0x22a072(0x5b6),_0x9c25cd),showMessage(_0x22a072(0x90c)+_0x9c25cd['message']),_0x554f1c[_0x22a072(0x519)]=_0x22a072(0x538);}finally{_0x555f6f[_0x22a072(0x709)][_0x22a072(0x484)](_0x22a072(0x984)),_0x51767e['disabled']=![];}}function renderAdminSyncDashboard(_0x316158,_0x131a95){const _0x461b43=_0x712516,_0x2899f1=Object[_0x461b43(0x48c)](_0x316158[_0x461b43(0x3b0)]||{}),_0x2130a9=_0x2899f1[_0x461b43(0x88b)],_0x5c6c10=[..._0x2899f1][_0x461b43(0x778)]((_0xc29162,_0x414019)=>_0x414019[_0x461b43(0x634)]-_0xc29162[_0x461b43(0x634)]),_0x3c20b4=_0x316158[_0x461b43(0xa7b)];let _0xefdadf='';const _0x46bb52=_0x316158[_0x461b43(0x891)]['questions'],_0x30fad9=_0x46bb52[_0x3c20b4],_0x590e0b=_0x2d9b79=>String['fromCharCode'](0x41+_0x2d9b79);if(_0x30fad9&&_0x30fad9['options']&&_0x30fad9[_0x461b43(0x4d1)]!==undefined){const _0x35a67d=_0x30fad9[_0x461b43(0x89f)][_0x30fad9[_0x461b43(0x4d1)]];_0xefdadf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x3c20b4+0x1)+_0x461b43(0x8f1)+_0x590e0b(_0x30fad9[_0x461b43(0x4d1)])+'.\x20'+_0x35a67d+_0x461b43(0x85e);}const _0x59d7ec=_0x5c6c10['map'](_0x30f1c0=>{const _0x276d8d=_0x461b43;let _0x486b38=![];if(_0x30f1c0[_0x276d8d(0xb13)]&&_0x3c20b4!==-0x1){const _0x1dc130=_0x30f1c0[_0x276d8d(0xb13)]['find'](_0x331a5d=>_0x331a5d[_0x276d8d(0x4a6)]===_0x3c20b4);_0x1dc130&&_0x1dc130[_0x276d8d(0xa3c)]&&(_0x486b38=!![]);}const _0x122d49=_0x486b38?_0x276d8d(0x46b):_0x276d8d(0x372);return _0x276d8d(0x859)+_0x122d49+_0x276d8d(0x2c3)+_0x30f1c0[_0x276d8d(0x4ad)]+'</span><span\x20class=\x22font-bold\x22>'+_0x30f1c0['score']+_0x276d8d(0x3c2);})[_0x461b43(0x85c)](''),_0x511771=_0x46bb52[_0x461b43(0x4b7)]((_0x310977,_0x3ba25a)=>{const _0x469df2=_0x461b43,_0x1c9182=_0x2899f1[_0x469df2(0xa4a)](_0x4550eb=>_0x4550eb[_0x469df2(0xb13)]&&_0x4550eb['answers'][_0x469df2(0xafd)](_0x1ae805=>_0x1ae805[_0x469df2(0x4a6)]===_0x3ba25a&&_0x1ae805['isCorrect']))['length'],_0x243325=_0x3ba25a===_0x3c20b4,_0x9d847c=_0x243325?_0x469df2(0x630):_0x469df2(0x4cf);return _0x469df2(0x720)+_0x9d847c+_0x469df2(0x4ee)+(_0x3ba25a+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x1c9182+_0x469df2(0xb05)+_0x2130a9+_0x469df2(0x79d);})['join']('');let _0x4222f2='',_0x44dc63='';if(_0x131a95){const _0x52f354=_0x316158[_0x461b43(0xa7b)]>=_0x46bb52['length']-0x1;_0x4222f2=_0x461b43(0x72d)+(_0x52f354?_0x461b43(0x6f7):_0x461b43(0x725))+_0x461b43(0x7d2),_0x44dc63=_0x461b43(0x69e);}const _0x4b16a1=_0x461b43(0x4db)+_0x316158[_0x461b43(0x891)][_0x461b43(0x9b8)]+_0x461b43(0x98c)+_0x44dc63+_0x461b43(0xae1)+_0xefdadf+_0x461b43(0x6b1)+(_0x59d7ec||_0x461b43(0x665))+_0x461b43(0x7f3)+_0x511771+_0x461b43(0x914)+(_0x131a95?_0x461b43(0x8b4)+_0x4222f2+'</div>':'')+_0x461b43(0x6bc);liveGameView[_0x461b43(0x519)]=_0x4b16a1;if(window['MathJax']){const _0x65323c=document['getElementById']('main-correct-answer-display');_0x65323c&&MathJax[_0x461b43(0x7a9)]([_0x65323c]);}if(_0x131a95){document[_0x461b43(0x7e1)](_0x461b43(0x821))['onclick']=async()=>{const _0x3e2f85=_0x461b43,_0x4626fc=doc(db,_0x3e2f85(0xade)+appId+_0x3e2f85(0x832),currentLiveGameId),_0x478546=_0x316158[_0x3e2f85(0xa7b)]+0x1;if(_0x478546<_0x46bb52[_0x3e2f85(0x88b)]){const _0x522c6a={};Object[_0x3e2f85(0x662)](_0x316158[_0x3e2f85(0x3b0)])[_0x3e2f85(0x8e0)](_0x5ca88b=>{const _0x565b01=_0x3e2f85;_0x522c6a[_0x565b01(0xae9)+_0x5ca88b+_0x565b01(0x979)]=![],_0x522c6a['players.'+_0x5ca88b+_0x565b01(0xa1f)]=null;}),await updateDoc(_0x4626fc,{..._0x522c6a,'status':_0x3e2f85(0x25a),'currentQuestionIndex':_0x478546,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4626fc,{'status':'podium'});};const _0x4892f1=document[_0x461b43(0x7e1)](_0x461b43(0x858));_0x4892f1&&(_0x4892f1[_0x461b43(0x903)]=()=>{const _0x30ff27=_0x461b43;showConfirmation(_0x30ff27(0x3e8),async()=>{const _0x301b26=_0x30ff27,_0x21e3be=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x21e3be,{'status':_0x301b26(0x8f7)});});});}}async function handleGenerateParallelFromBank(_0x31efa3){const _0x1e2fd2=_0x712516;switchProjectTab(_0x1e2fd2(0x7fe));const _0x33ac02=document[_0x1e2fd2(0x7e1)](_0x1e2fd2(0x521)),_0x5a69d0=document[_0x1e2fd2(0x7e1)](_0x1e2fd2(0x93e)),_0x39cdf2=document[_0x1e2fd2(0x7e1)](_0x1e2fd2(0x9eb));document[_0x1e2fd2(0x7e1)](_0x1e2fd2(0x4a9))[_0x1e2fd2(0x709)][_0x1e2fd2(0x5b3)](_0x1e2fd2(0x984)),_0x39cdf2[_0x1e2fd2(0x519)]='',_0x33ac02[_0x1e2fd2(0x709)]['remove'](_0x1e2fd2(0x984)),_0x5a69d0[_0x1e2fd2(0x8b8)]=_0x1e2fd2(0x621)+_0x31efa3[_0x1e2fd2(0x9b8)]+_0x1e2fd2(0x9e5);try{const _0x1b5829=_0x31efa3[_0x1e2fd2(0x2f6)][_0x1e2fd2(0x4b7)]((_0x470102,_0x3ad8a5)=>{const _0x3a287c=_0x1e2fd2;let _0x4b1510=_0x3ad8a5+0x1+'.\x20'+(_0x470102[_0x3a287c(0x383)]||_0x470102[_0x3a287c(0x20f)])+'\x0a';if(_0x470102[_0x3a287c(0x89f)])_0x4b1510+=_0x470102['options'][_0x3a287c(0x4b7)]((_0x5ee0f3,_0xdc8ea1)=>_0x3a287c(0x6a9)+(_0xdc8ea1===_0x470102[_0x3a287c(0x4d1)]?_0x3a287c(0x98f):'')+'\x20'+_0x5ee0f3)[_0x3a287c(0x85c)]('\x0a');else _0x470102[_0x3a287c(0x63a)]&&(_0x4b1510+=_0x3a287c(0x3e1)+_0x470102[_0x3a287c(0x63a)]);return _0x4b1510;})['join']('\x0a\x0a');_0x5a69d0[_0x1e2fd2(0x8b8)]=_0x1e2fd2(0x928);const _0x1fc6b2=_0x31efa3[_0x1e2fd2(0x2f6)][_0x1e2fd2(0x88b)],_0x3c5f85=_0x1e2fd2(0x845)+_0x31efa3[_0x1e2fd2(0x9b8)]+_0x1e2fd2(0xa38)+_0x1fc6b2+_0x1e2fd2(0x8d7)+_0x1b5829+_0x1e2fd2(0xb1b)+_0x1fc6b2+_0x1e2fd2(0x439)+simpleMathPrompt+_0x1e2fd2(0x43e),_0x18b686={'type':_0x1e2fd2(0xa18),'properties':{'questionText':{'type':_0x1e2fd2(0x208)},'questionType':{'type':_0x1e2fd2(0x208),'enum':[_0x1e2fd2(0xaa4),_0x1e2fd2(0x344),_0x1e2fd2(0x34b),_0x1e2fd2(0x476)]},'options':{'type':_0x1e2fd2(0x20e),'items':{'type':_0x1e2fd2(0x208)}},'correctAnswerIndex':{'type':_0x1e2fd2(0x6d8)},'idealAnswer':{'type':_0x1e2fd2(0x208)},'correctAnswer':{'type':_0x1e2fd2(0x80d)},'stem':{'type':_0x1e2fd2(0x208)},'correctResponse':{'type':_0x1e2fd2(0x208)},'allResponses':{'type':_0x1e2fd2(0x20e),'items':{'type':_0x1e2fd2(0x208)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x1e2fd2(0x383),_0x1e2fd2(0xad0),_0x1e2fd2(0x81e)]},_0x489ca5={'type':'OBJECT','properties':{'topic':{'type':_0x1e2fd2(0x208)},'questions':{'type':_0x1e2fd2(0x20e),'items':_0x18b686}},'required':[_0x1e2fd2(0x9b8),_0x1e2fd2(0x2f6)]},_0x1d1db4=await callAnalysisApi(_0x3c5f85,_0x489ca5);_0x1d1db4[_0x1e2fd2(0x2f6)][_0x1e2fd2(0x88b)]>_0x1fc6b2&&(_0x1d1db4[_0x1e2fd2(0x2f6)]=_0x1d1db4[_0x1e2fd2(0x2f6)][_0x1e2fd2(0x7c1)](0x0,_0x1fc6b2)),_0x1d1db4[_0x1e2fd2(0x9b8)]=_0x1e2fd2(0x95a)+_0x31efa3['topic'],_0x1d1db4[_0x1e2fd2(0x817)]=_0x31efa3['quizType'],currentQuizData=_0x1d1db4,displayGeneratedQuiz(_0x1d1db4),document['getElementById'](_0x1e2fd2(0x41b))[_0x1e2fd2(0x257)]({'behavior':_0x1e2fd2(0x940)});}catch(_0x4ef30b){console[_0x1e2fd2(0x7e3)](_0x1e2fd2(0xb18),_0x4ef30b),showMessage(_0x1e2fd2(0x90c)+_0x4ef30b['message']),_0x39cdf2[_0x1e2fd2(0x519)]=_0x1e2fd2(0xa28);}finally{_0x33ac02[_0x1e2fd2(0x709)][_0x1e2fd2(0x484)](_0x1e2fd2(0x984));}}async function handleGenerateParallelPostTest(_0x4cfbd6){const _0x53ae07=_0x712516,_0xf82b40=document['getElementById'](_0x53ae07(0x244)),_0x42a26e=document[_0x53ae07(0x7e1)](_0x53ae07(0x4cb));_0x42a26e[_0x53ae07(0x709)][_0x53ae07(0x484)](_0x53ae07(0x984));const _0xa98ee3=_0x53ae07(0x72f);_0xf82b40[_0x53ae07(0xaa3)](_0x53ae07(0x935),_0xa98ee3);try{const _0x4f1507=_0x4cfbd6[_0x53ae07(0x2f6)][_0x53ae07(0x4b7)]((_0x22750c,_0x5de788)=>{const _0x189e48=_0x53ae07;let _0x53c425=_0x5de788+0x1+'.\x20'+(_0x22750c[_0x189e48(0x383)]||_0x22750c[_0x189e48(0x20f)]);if(_0x22750c['options'])_0x53c425+=_0x189e48(0xabf)+_0x22750c['options'][_0x189e48(0x85c)](',\x20');return _0x53c425;})['join']('\x0a\x0a'),_0x4b2a56=_0x53ae07(0x1e9)+_0x4cfbd6[_0x53ae07(0x9b8)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f1507+_0x53ae07(0x70f)+simpleMathPrompt+_0x53ae07(0x43e),_0x25c4bd={'type':_0x53ae07(0xa18),'properties':{'topic':{'type':_0x53ae07(0x208)},'questions':{'type':_0x53ae07(0x20e),'items':{'type':_0x53ae07(0xa18),'properties':{'questionText':{'type':_0x53ae07(0x208)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x53ae07(0x208)}},'correctAnswerIndex':{'type':_0x53ae07(0x6d8)},'idealAnswer':{'type':_0x53ae07(0x208)},'explanation':{'type':_0x53ae07(0x208)}},'required':[_0x53ae07(0x383),_0x53ae07(0x81e)]}}},'required':[_0x53ae07(0x9b8),_0x53ae07(0x2f6)]},_0x113e1d=await callAnalysisApi(_0x4b2a56,_0x25c4bd),_0x1ec550=_0x4cfbd6[_0x53ae07(0x9b8)][_0x53ae07(0x59e)](_0x53ae07(0x6a1),'')['trim'](),_0x188f52='(หลังเรียน)\x20'+_0x1ec550,_0x3af058={..._0x113e1d,'topic':_0x188f52,'quizType':_0x4cfbd6[_0x53ae07(0x817)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x53ae07(0x783)](),'status':'active','settings':_0x4cfbd6[_0x53ae07(0x9c9)],'quizMode':_0x53ae07(0x441),'pairedQuizId':_0x4cfbd6['id']};let _0x5f0e14;while(!![]){_0x5f0e14=Math['floor'](0x3e8+Math[_0x53ae07(0x658)]()*0x2328)[_0x53ae07(0x431)]();const _0x4de041=await getDoc(doc(db,_0x53ae07(0xade)+appId+_0x53ae07(0x4b0),_0x5f0e14));if(!_0x4de041[_0x53ae07(0x23c)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x53ae07(0x4b0),_0x5f0e14),_0x3af058);const _0x7d648e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4cfbd6['id']);await updateDoc(_0x7d648e,{'pairedQuizId':_0x5f0e14}),showMessage(_0x53ae07(0x301));}catch(_0x1a5f72){console[_0x53ae07(0x7e3)]('Error\x20generating\x20parallel\x20post-test:',_0x1a5f72),showMessage(_0x53ae07(0x90c)+_0x1a5f72[_0x53ae07(0x7e4)]);}finally{const _0x23359d=document[_0x53ae07(0x7e1)](_0x53ae07(0x94c));if(_0x23359d)_0x23359d['remove']();_0x42a26e[_0x53ae07(0x709)][_0x53ae07(0x5b3)](_0x53ae07(0x984));}}async function handleGenerateParallelTest(){const _0x379e64=_0x712516,_0x3186d3=document['getElementById']('parallel-test-upload-input'),_0x1630be=_0x3186d3[_0x379e64(0x609)][0x0];if(!_0x1630be){showMessage(_0x379e64(0x3c0));return;}const _0x15cc56=document[_0x379e64(0x7e1)](_0x379e64(0x521)),_0x3b67a1=document[_0x379e64(0x7e1)]('loader-text'),_0x280d6c=document['getElementById'](_0x379e64(0x9eb)),_0x3fe26b=document[_0x379e64(0x7e1)]('generate-from-parallel-test-btn');_0x3fe26b[_0x379e64(0xab8)]=!![],document[_0x379e64(0x7e1)](_0x379e64(0x4a9))[_0x379e64(0x709)][_0x379e64(0x5b3)](_0x379e64(0x984)),_0x280d6c[_0x379e64(0x519)]='',_0x15cc56['classList'][_0x379e64(0x5b3)](_0x379e64(0x984)),_0x3b67a1[_0x379e64(0x8b8)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x2c31e9=await extractTextFromPdf(_0x1630be);if(!_0x2c31e9[_0x379e64(0x847)]())throw new Error(_0x379e64(0x38b));_0x3b67a1[_0x379e64(0x8b8)]=_0x379e64(0x928);const _0x52fc38=document['getElementById'](_0x379e64(0x5b9))[_0x379e64(0x8ed)],_0x724668=_0x52fc38?_0x379e64(0x8fc):'',_0x55ae3a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c31e9+_0x379e64(0x2cc)+_0x724668+_0x379e64(0x607)+simpleMathPrompt+_0x379e64(0x43e),_0x33ee09={'type':_0x379e64(0xa18),'properties':{'questionText':{'type':_0x379e64(0x208)},'questionType':{'type':_0x379e64(0x208),'enum':[_0x379e64(0xaa4),_0x379e64(0x344)]},'options':{'type':_0x379e64(0x20e),'items':{'type':_0x379e64(0x208)}},'correctAnswerIndex':{'type':_0x379e64(0x6d8)},'idealAnswer':{'type':_0x379e64(0x208)},'explanation':{'type':_0x379e64(0x208)},'imageCode':{'type':_0x379e64(0x208)}},'required':['questionText','questionType',_0x379e64(0x81e)]},_0x1b5823={'type':_0x379e64(0xa18),'properties':{'topic':{'type':_0x379e64(0x208)},'questions':{'type':_0x379e64(0x20e),'items':_0x33ee09}},'required':[_0x379e64(0x9b8),'questions']};await handleApiCall(_0x55ae3a,_0x379e64(0x71f),_0x1b5823);}catch(_0x3d3d1f){console[_0x379e64(0x7e3)](_0x379e64(0x88c),_0x3d3d1f),showMessage(_0x379e64(0x90c)+_0x3d3d1f[_0x379e64(0x7e4)]),_0x280d6c[_0x379e64(0x519)]=_0x379e64(0xa28);}finally{_0x15cc56[_0x379e64(0x709)][_0x379e64(0x484)](_0x379e64(0x984)),_0x3fe26b[_0x379e64(0xab8)]=![];}}async function handleRegenerateQuestionInEditor(_0x323265){const _0x46ee4f=_0x712516;if(currentEditingQuizData===null)return;const _0x428d9f=document[_0x46ee4f(0x622)](_0x46ee4f(0x8da)+_0x323265+'\x22]');_0x428d9f&&(_0x428d9f[_0x46ee4f(0x519)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x9358d4=currentEditingQuizData[_0x46ee4f(0x2f6)][_0x323265],_0x573655=currentEditingQuizData['topic'],_0x468ebf=_0x9358d4[_0x46ee4f(0xad0)],_0x5b6562={'type':'OBJECT','properties':{'questionText':{'type':_0x46ee4f(0x208)},'options':{'type':_0x46ee4f(0x20e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x46ee4f(0x6d8)},'explanation':{'type':_0x46ee4f(0x208)}},'required':[_0x46ee4f(0x383),_0x46ee4f(0x89f),_0x46ee4f(0x4d1),'explanation']},_0x45b66f={'type':_0x46ee4f(0xa18),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x46ee4f(0x208)},'explanation':{'type':_0x46ee4f(0x208)}},'required':['questionText',_0x46ee4f(0x63a),'explanation']};let _0x55828c,_0x23cdcc='';_0x468ebf===_0x46ee4f(0xaa4)?(_0x55828c=_0x5b6562,_0x23cdcc='แบบปรนัย\x204\x20ตัวเลือก'):(_0x55828c=_0x45b66f,_0x23cdcc='แบบเติมคำตอบ');const _0x33e505='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x573655+_0x46ee4f(0x639)+_0x23cdcc+_0x46ee4f(0x4a4)+(_0x9358d4[_0x46ee4f(0x383)]||_0x9358d4[_0x46ee4f(0x20f)])+'\x22.\x20'+simpleMathPrompt;try{const _0x1119e2=await callAnalysisApi(_0x33e505,_0x55828c);currentEditingQuizData[_0x46ee4f(0x2f6)][_0x323265]={..._0x9358d4,..._0x1119e2},renderQuizEditor(currentEditingQuizData);}catch(_0x469142){console[_0x46ee4f(0x7e3)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x469142),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x24fdc3=_0x712516,_0xe67229=document[_0x24fdc3(0x7e1)](_0x24fdc3(0x5c0));currentMode===_0x24fdc3(0x6ab)?(currentMode=_0x24fdc3(0x250),_0xe67229[_0x24fdc3(0x519)]=_0x24fdc3(0x616),_0xe67229[_0x24fdc3(0xa59)]='สลับไปโหมดนักเรียน',showView(_0x24fdc3(0x6fd))):(currentMode=_0x24fdc3(0x6ab),_0xe67229[_0x24fdc3(0x519)]=_0x24fdc3(0x90b),_0xe67229[_0x24fdc3(0xa59)]=_0x24fdc3(0x69d),showView(_0x24fdc3(0x6ab)));}function handleAdminLogin(){const _0x1d5e76=_0x712516,_0x2c9f0b=document['getElementById'](_0x1d5e76(0x8dc)),_0x546d7a=document['getElementById'](_0x1d5e76(0x358));if(_0x2c9f0b[_0x1d5e76(0x848)]===_0x1d5e76(0x406)){adminPasswordModal[_0x1d5e76(0x709)][_0x1d5e76(0x484)](_0x1d5e76(0x984)),_0x2c9f0b[_0x1d5e76(0x848)]='',_0x546d7a[_0x1d5e76(0x709)][_0x1d5e76(0x484)](_0x1d5e76(0x984)),currentMode=_0x1d5e76(0x250);const _0x2df7be=document[_0x1d5e76(0x7e1)](_0x1d5e76(0x5c0));_0x2df7be['innerHTML']=_0x1d5e76(0x616),_0x2df7be[_0x1d5e76(0xa59)]=_0x1d5e76(0xb02),showView(_0x1d5e76(0x6fd));}else _0x546d7a[_0x1d5e76(0x709)]['remove'](_0x1d5e76(0x984)),_0x2c9f0b['value']='';}function switchProjectTab(_0x2c1b45){const _0x139d26=_0x712516;['manage','results','leaderboard'][_0x139d26(0x8e0)](_0x5157b0=>{const _0x4ee107=_0x139d26;document[_0x4ee107(0x7e1)](_0x5157b0+_0x4ee107(0x7a8))[_0x4ee107(0x709)]['remove']('active'),document[_0x4ee107(0x7e1)](_0x5157b0+_0x4ee107(0x963))[_0x4ee107(0x709)][_0x4ee107(0x484)]('hidden');}),document[_0x139d26(0x7e1)](_0x2c1b45+'-tab')[_0x139d26(0x709)][_0x139d26(0x484)](_0x139d26(0x2e2)),document[_0x139d26(0x7e1)](_0x2c1b45+_0x139d26(0x963))[_0x139d26(0x709)]['remove']('hidden');}function switchQuizDetailTab(_0x1e3e34){const _0x246780=_0x712516,_0x2320f8={'analytics':{'btn':'analytics-tab-btn','content':_0x246780(0x612)},'scores':{'btn':'scores-tab-btn','content':_0x246780(0x781)},'leaderboard-quiz':{'btn':_0x246780(0x823),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x246780(0xa68),'content':_0x246780(0x6de)}};for(const _0x5d21b7 in _0x2320f8){document['getElementById'](_0x2320f8[_0x5d21b7]['btn'])['classList'][_0x246780(0x5b3)](_0x246780(0x2e2)),document['getElementById'](_0x2320f8[_0x5d21b7][_0x246780(0x296)])[_0x246780(0x709)][_0x246780(0x484)](_0x246780(0x984));}document[_0x246780(0x7e1)](_0x2320f8[_0x1e3e34][_0x246780(0x4d4)])['classList'][_0x246780(0x484)](_0x246780(0x2e2)),document[_0x246780(0x7e1)](_0x2320f8[_0x1e3e34][_0x246780(0x296)])['classList'][_0x246780(0x5b3)](_0x246780(0x984));}function showMessage(_0xbf26dc,_0x381db3=null){const _0x509132=_0x712516;modalMessage[_0x509132(0x8b8)]=_0xbf26dc,modalConfirmAction=_0x381db3,messageModal[_0x509132(0x709)][_0x509132(0x5b3)](_0x509132(0x984));}function showConfirmation(_0x167869,_0x35c059){const _0x53de6e=_0x712516;document[_0x53de6e(0x7e1)](_0x53de6e(0x82b))[_0x53de6e(0x8b8)]=_0x167869,document[_0x53de6e(0x7e1)](_0x53de6e(0x5aa))['querySelector']('h3')[_0x53de6e(0x8b8)]='ยืนยันการกระทำ',confirmAction=_0x35c059,confirmationModal[_0x53de6e(0x709)][_0x53de6e(0x5b3)](_0x53de6e(0x984));}function listenForProjects(){const _0x13d3ae=_0x712516,_0x1cae45=doc(db,'globalSettings',_0x13d3ae(0x599));onSnapshot(_0x1cae45,_0x41606a=>{const _0x41fce0=_0x13d3ae;if(_0x41606a['exists']()){const _0x34c310=_0x41606a[_0x41fce0(0x4fb)]();globalDashboardSettings['projectSort']=_0x34c310['projectSort']||_0x41fce0(0x84c),globalDashboardSettings['pinnedProjects']=_0x34c310[_0x41fce0(0x449)]||[],globalDashboardSettings[_0x41fce0(0x9f3)]=_0x34c310[_0x41fce0(0x9f3)]||[];}allProjects[_0x41fce0(0x88b)]>0x0&&renderProjects();});const _0x5f0049=collection(db,_0x13d3ae(0xade)+appId+_0x13d3ae(0x42a));unsubscribeProjectsListener=onSnapshot(_0x5f0049,_0x192328=>{const _0x8dc48=_0x13d3ae;allProjects=_0x192328['docs'][_0x8dc48(0x4b7)](_0x511aab=>({'id':_0x511aab['id'],..._0x511aab[_0x8dc48(0x4fb)]()})),renderProjects();},_0x4d1819=>{const _0x981cb0=_0x13d3ae;console[_0x981cb0(0x7e3)](_0x981cb0(0x888),_0x4d1819),showMessage(_0x981cb0(0x99d));});}function showColorPalette(_0x219f55,_0x387acd){const _0xe3829d=_0x712516;document[_0xe3829d(0xa58)](_0xe3829d(0x944))[_0xe3829d(0x8e0)](_0x318665=>_0x318665[_0xe3829d(0x5b3)]());const _0x4cae3c=['#FFFFFF',_0xe3829d(0x356),_0xe3829d(0x238),'#D1FAE5',_0xe3829d(0x899),_0xe3829d(0xa43),_0xe3829d(0x978),_0xe3829d(0x884),'#E5E7EB'],_0xba5b34=document[_0xe3829d(0x253)](_0xe3829d(0x916));_0xba5b34['className']=_0xe3829d(0x70b),_0x4cae3c['forEach'](_0x35988a=>{const _0x58a5d8=_0xe3829d,_0x309465=document['createElement']('div');_0x309465[_0x58a5d8(0xb01)]=_0x58a5d8(0x89c),_0x309465[_0x58a5d8(0x38f)][_0x58a5d8(0xa7f)]=_0x35988a,_0x309465['addEventListener'](_0x58a5d8(0x66f),()=>{const _0x23b324=_0x58a5d8;handleProjectColorChange(_0x387acd,_0x35988a),_0xba5b34[_0x23b324(0x5b3)]();}),_0xba5b34[_0x58a5d8(0x97a)](_0x309465);}),document['body'][_0xe3829d(0x97a)](_0xba5b34);const _0x4220d8=_0x219f55[_0xe3829d(0x780)]();_0xba5b34[_0xe3829d(0x38f)]['top']=_0x4220d8['bottom']+window[_0xe3829d(0x624)]+'px',_0xba5b34[_0xe3829d(0x38f)][_0xe3829d(0x6f2)]=_0x4220d8[_0xe3829d(0x6f2)]+window[_0xe3829d(0x6b6)]-_0xba5b34[_0xe3829d(0x550)]/0x2+'px';}async function handleProjectColorChange(_0x552577,_0x4cd13d){const _0x470088=_0x712516,_0x556f61=doc(db,_0x470088(0xade)+appId+_0x470088(0x42a),_0x552577);try{await updateDoc(_0x556f61,{'color':_0x4cd13d});}catch(_0x998dd1){console[_0x470088(0x7e3)]('Error\x20updating\x20project\x20color:',_0x998dd1),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x431301=_0x712516,_0x139c09=globalDashboardSettings['projectSort']||_0x431301(0x84c),_0x971b6f=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x1fc313=globalDashboardSettings[_0x431301(0xac0)]||_0x431301(0x60a),_0x2a3e60=document[_0x431301(0x7e1)]('grid-view-btn'),_0x5829f8=document['getElementById'](_0x431301(0x422));_0x2a3e60['classList'][_0x431301(0xa3d)](_0x431301(0x2e2),_0x1fc313===_0x431301(0x60a)),_0x5829f8['classList'][_0x431301(0xa3d)](_0x431301(0x2e2),_0x1fc313===_0x431301(0x929)),document[_0x431301(0x7e1)](_0x431301(0x20c))[_0x431301(0x848)]=_0x139c09;const _0x2712bf=document['getElementById']('project-search-input')[_0x431301(0x848)][_0x431301(0xaec)]();let _0x343f2d=allProjects['filter'](_0x468bdc=>_0x468bdc[_0x431301(0x567)][_0x431301(0xaec)]()[_0x431301(0x29d)](_0x2712bf));const _0x8e329f=_0x343f2d['filter'](_0x405252=>_0x971b6f['has'](_0x405252['id'])),_0x219077=_0x343f2d[_0x431301(0xa4a)](_0x4d31d4=>!_0x971b6f['has'](_0x4d31d4['id'])),_0x4a092f=(_0x10894c,_0x33ecce)=>{const _0x40ab1d=_0x431301;switch(_0x139c09){case _0x40ab1d(0x443):return _0x10894c['projectName'][_0x40ab1d(0x39f)](_0x33ecce[_0x40ab1d(0x567)],'th');case _0x40ab1d(0x598):return _0x33ecce['projectName']['localeCompare'](_0x10894c[_0x40ab1d(0x567)],'th');case _0x40ab1d(0x31d):return new Date(_0x10894c[_0x40ab1d(0x37c)])-new Date(_0x33ecce[_0x40ab1d(0x37c)]);default:return new Date(_0x33ecce[_0x40ab1d(0x37c)])-new Date(_0x10894c[_0x40ab1d(0x37c)]);}};_0x8e329f[_0x431301(0x778)](_0x4a092f),_0x219077[_0x431301(0x778)](_0x4a092f);const _0x2cc2ff=[..._0x8e329f,..._0x219077],_0x5cb36f=globalDashboardSettings[_0x431301(0x9f3)]||[];_0x5cb36f[_0x431301(0x88b)]>0x0&&_0x1fc313===_0x431301(0x60a)&&_0x2cc2ff[_0x431301(0x778)]((_0xe4c3e0,_0x53c171)=>{const _0x25a56d=_0x5cb36f['indexOf'](_0xe4c3e0['id']),_0x3b7e7f=_0x5cb36f['indexOf'](_0x53c171['id']);if(_0x25a56d===-0x1)return 0x1;if(_0x3b7e7f===-0x1)return-0x1;return _0x25a56d-_0x3b7e7f;});const _0x5ea30f={};await Promise['all'](_0x2cc2ff['map'](async _0x4ef5de=>{const _0x2e3742=_0x431301,_0x18352a=query(collection(db,_0x2e3742(0xade)+appId+_0x2e3742(0x4b0)),where('projectId','==',_0x4ef5de['id'])),_0x1bc79b=await getDocs(_0x18352a);_0x5ea30f[_0x4ef5de['id']]=_0x1bc79b[_0x2e3742(0xa84)];}));const _0xafd523=document[_0x431301(0x7e1)](_0x431301(0x3d6));let _0x43717c='';if(_0x1fc313===_0x431301(0x60a)){_0xafd523[_0x431301(0xb01)]=_0x431301(0x55c);if(starredQuizzes[_0x431301(0x88b)]>0x0&&_0x2712bf===''){const _0x58ffc5=starredQuizzes[_0x431301(0x4b7)](_0x995041=>{const _0xfc6011=_0x431301,_0x2c5d9c=allProjects[_0xfc6011(0xafd)](_0x3db7fd=>_0x3db7fd['id']===_0x995041[_0xfc6011(0x243)]);return{..._0x995041,'projectName':_0x2c5d9c?_0x2c5d9c[_0xfc6011(0x567)]:_0xfc6011(0x735)};});_0x43717c+=_0x431301(0x5eb)+_0x58ffc5[_0x431301(0x4b7)](_0x15ac4c=>_0x431301(0x224)+_0x15ac4c['topic']+'\x22>'+_0x15ac4c[_0x431301(0x9b8)]+_0x431301(0x86a)+_0x15ac4c['projectName']+_0x431301(0x51a)+_0x15ac4c['projectName']+_0x431301(0x734))['join']('')+_0x431301(0x45c)+starredQuizzes['length']+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x2cc2ff[_0x431301(0x8e0)](_0x2864a9=>{const _0x544ed9=_0x431301,_0x54dc0b=_0x5ea30f[_0x2864a9['id']]??0x0,_0x29c069=_0x971b6f['has'](_0x2864a9['id']),_0x18473f=_0x2864a9[_0x544ed9(0x8ec)]||_0x544ed9(0x8fb),_0x3397ce=parseInt(_0x18473f[_0x544ed9(0x865)](0x1,0x3),0x10)*0.299+parseInt(_0x18473f[_0x544ed9(0x865)](0x3,0x5),0x10)*0.587+parseInt(_0x18473f[_0x544ed9(0x865)](0x5,0x7),0x10)*0.114<0xba,_0x43aace=_0x3397ce?_0x544ed9(0x9cb):_0x544ed9(0x584),_0x1144af=_0x3397ce?_0x544ed9(0x9e7):_0x544ed9(0x864);_0x43717c+=_0x544ed9(0x63d)+(_0x29c069?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x544ed9(0xb0e)+_0x18473f+_0x544ed9(0x4af)+_0x2864a9['id']+_0x544ed9(0x6fe)+_0x2864a9['id']+_0x544ed9(0x9a6)+(_0x3397ce?_0x544ed9(0x602):_0x544ed9(0x30e))+_0x544ed9(0x893)+_0x2864a9['id']+_0x544ed9(0x410)+(_0x3397ce?_0x544ed9(0x602):_0x544ed9(0x30e))+_0x544ed9(0x8cc)+(_0x29c069?_0x3397ce?'text-yellow-300':_0x544ed9(0x3c7):'')+_0x544ed9(0x942)+_0x2864a9['id']+_0x544ed9(0xa93)+_0x43aace+_0x544ed9(0xb24)+_0x2864a9['projectName']+_0x544ed9(0x252)+_0x1144af+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2864a9[_0x544ed9(0x37c)])[_0x544ed9(0x912)]('th-TH')+_0x544ed9(0x950)+(_0x3397ce?_0x544ed9(0x615):'text-gray-700')+_0x544ed9(0x7f4)+_0x54dc0b+_0x544ed9(0x305)+_0x2864a9['id']+_0x544ed9(0x9b9)+_0x2864a9['projectName']+_0x544ed9(0x492)+(_0x3397ce?_0x544ed9(0xa80):'text-red-500\x20hover:text-red-700')+_0x544ed9(0x3c3);});}else _0xafd523[_0x431301(0xb01)]=_0x431301(0x619),starredQuizzes[_0x431301(0x88b)]>0x0&&_0x2712bf===''&&(_0x43717c+=_0x431301(0x4be)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x43717c+=_0x431301(0x4a0),_0x2cc2ff[_0x431301(0x8e0)](_0x2b7dd1=>{const _0x24360f=_0x431301,_0x5ecf81=_0x5ea30f[_0x2b7dd1['id']]??0x0,_0x5981a1=_0x971b6f['has'](_0x2b7dd1['id']);_0x43717c+=_0x24360f(0x68d)+(_0x2b7dd1[_0x24360f(0x8ec)]||_0x24360f(0xa5f))+_0x24360f(0x7ca)+_0x2b7dd1['id']+_0x24360f(0x790)+_0x2b7dd1[_0x24360f(0x567)]+_0x24360f(0x59d)+_0x5ecf81+_0x24360f(0x1e1)+new Date(_0x2b7dd1[_0x24360f(0x37c)])[_0x24360f(0x453)](_0x24360f(0x57f))+_0x24360f(0x8d8)+_0x2b7dd1['id']+_0x24360f(0x9d8)+(_0x5981a1?_0x24360f(0x3c7):'')+_0x24360f(0x961)+_0x2b7dd1['id']+_0x24360f(0x9b9)+_0x2b7dd1[_0x24360f(0x567)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList['innerHTML']=_0x43717c,noProjectsMsg[_0x431301(0x709)][_0x431301(0xa3d)](_0x431301(0x984),_0x43717c['length']>0x0);}document[_0x712516(0x7e1)](_0x712516(0x514))[_0x712516(0x996)](_0x712516(0x66f),async()=>{const _0x5a3130=_0x712516,_0x36a506=document['getElementById'](_0x5a3130(0x82d)),_0x51d0b4=_0x36a506[_0x5a3130(0x848)][_0x5a3130(0x847)]();if(!_0x51d0b4){showMessage(_0x5a3130(0x3b7));return;}try{const _0x3ef481=doc(collection(db,_0x5a3130(0xade)+appId+_0x5a3130(0x42a)));await setDoc(_0x3ef481,{'projectName':_0x51d0b4,'students':[],'settings':{'resultsDisplay':_0x5a3130(0x8b1),'shuffleSetting':_0x5a3130(0x994),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x5a3130(0x994),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x5a3130(0x783)]()}),_0x36a506[_0x5a3130(0x848)]='',createProjectModal[_0x5a3130(0x709)][_0x5a3130(0x484)]('hidden'),showMessage(_0x5a3130(0x55d));}catch(_0x9b331a){console[_0x5a3130(0x7e3)](_0x5a3130(0x434),_0x9b331a),showMessage(_0x5a3130(0x7aa));}}),projectList['addEventListener'](_0x712516(0x66f),async _0x19a873=>{const _0x442b1d=_0x712516,_0x293af3=_0x19a873[_0x442b1d(0x815)]['closest'](_0x442b1d(0xae6)),_0x1a9f0a=_0x19a873[_0x442b1d(0x815)][_0x442b1d(0x56d)](_0x442b1d(0xa35)),_0x5dfa28=_0x19a873['target'][_0x442b1d(0x56d)](_0x442b1d(0x4cd)),_0x4bd67b=_0x19a873[_0x442b1d(0x815)][_0x442b1d(0x56d)](_0x442b1d(0x754));if(_0x5dfa28){const _0x2da9fd=_0x5dfa28[_0x442b1d(0x478)]['id'],_0x2da134=doc(db,_0x442b1d(0xb21),_0x442b1d(0x599)),_0x211d3b=globalDashboardSettings[_0x442b1d(0x449)];let _0x3dd5b3;_0x211d3b[_0x442b1d(0x29d)](_0x2da9fd)?_0x3dd5b3=_0x211d3b[_0x442b1d(0xa4a)](_0x157ed6=>_0x157ed6!==_0x2da9fd):_0x3dd5b3=[..._0x211d3b,_0x2da9fd];try{await setDoc(_0x2da134,{'pinnedProjects':_0x3dd5b3},{'merge':!![]});}catch(_0x4b7275){console[_0x442b1d(0x7e3)](_0x442b1d(0x5e4),_0x4b7275),showMessage(_0x442b1d(0x8dd));}}else{if(_0x4bd67b){const _0x1f27b7=_0x4bd67b[_0x442b1d(0x478)]['id'];showColorPalette(_0x4bd67b,_0x1f27b7);}else{if(_0x293af3){const _0x9e52a6=_0x293af3[_0x442b1d(0x478)]['id'];_0x9e52a6===_0x442b1d(0x9aa)?showStarredProjectView():(currentProjectId=_0x9e52a6,await loadProjectDetails(currentProjectId),showView(_0x442b1d(0xa03)));}else{if(_0x1a9f0a){const _0x4a0ea4=_0x1a9f0a[_0x442b1d(0x478)]['id'],_0x18b64f=_0x1a9f0a['dataset'][_0x442b1d(0x4ad)];showConfirmation(_0x442b1d(0xa1a)+_0x18b64f+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x4a0ea4));}}}}}),projectList['addEventListener'](_0x712516(0x75e),_0x483fd4=>{const _0x5e4f6c=_0x712516,_0x12d5e3=_0x483fd4[_0x5e4f6c(0x815)][_0x5e4f6c(0x56d)](_0x5e4f6c(0x3ee));_0x12d5e3&&_0x12d5e3[_0x5e4f6c(0x709)][_0x5e4f6c(0x484)](_0x5e4f6c(0x930));}),projectList[_0x712516(0x996)](_0x712516(0x6da),_0x35266a=>{const _0x351f9e=_0x712516,_0x448730=_0x35266a[_0x351f9e(0x815)][_0x351f9e(0x56d)]('.project-card-container');_0x448730&&_0x448730[_0x351f9e(0x709)][_0x351f9e(0x5b3)]('opacity-50');}),projectList[_0x712516(0x996)]('dragover',_0x4ac1aa=>{const _0x3b93d5=_0x712516;_0x4ac1aa[_0x3b93d5(0x6db)]();const _0x571e30=document[_0x3b93d5(0x622)](_0x3b93d5(0x3e7));if(!_0x571e30)return;const _0x535472=getDragAfterElement(projectList,_0x4ac1aa['clientY']);_0x535472==null?projectList[_0x3b93d5(0x97a)](_0x571e30):projectList[_0x3b93d5(0x4c4)](_0x571e30,_0x535472);}),projectList[_0x712516(0x996)]('drop',_0x2c363a=>{const _0x35eb18=_0x712516;_0x2c363a[_0x35eb18(0x6db)]();const _0x5535bb=[...projectList[_0x35eb18(0xa58)](_0x35eb18(0x902))][_0x35eb18(0x4b7)](_0x44fcd5=>_0x44fcd5['dataset']['id']);saveProjectOrder(_0x5535bb);});function renderBehaviorLog(_0x40c754){const _0x145c0a=_0x712516,_0x916a83=document[_0x145c0a(0x7e1)](_0x145c0a(0xa70));if(!_0x916a83)return;const _0x5e83e9=_0x40c754[_0x145c0a(0xa4a)](_0x546dce=>_0x546dce[_0x145c0a(0x60b)]&&_0x546dce['behaviorLog'][_0x145c0a(0x88b)]>0x0);if(_0x5e83e9[_0x145c0a(0x88b)]===0x0){_0x916a83[_0x145c0a(0x519)]=_0x145c0a(0x910);return;}let _0x164359='';_0x5e83e9[_0x145c0a(0x8e0)](_0xa429f=>{const _0x415ad7=_0x145c0a;_0x164359+=_0x415ad7(0xa5a)+_0xa429f[_0x415ad7(0x4ed)]+_0x415ad7(0xa4f),_0xa429f[_0x415ad7(0x60b)]['sort']((_0x6f1a20,_0x4a144b)=>new Date(_0x4a144b[_0x415ad7(0xa88)])-new Date(_0x6f1a20['timestamp']))[_0x415ad7(0x8e0)](_0x2c251f=>{const _0x496597=_0x415ad7,_0x21e94a=new Date(_0x2c251f[_0x496597(0xa88)])['toLocaleString'](_0x496597(0x57f),{'dateStyle':_0x496597(0x61b),'timeStyle':_0x496597(0xaae)});_0x164359+=_0x496597(0x7af)+_0x2c251f[_0x496597(0x554)]+_0x496597(0x3cd)+_0x21e94a+_0x496597(0x9fb);}),_0x164359+=_0x415ad7(0x206);}),_0x916a83['innerHTML']=_0x164359;}function getDragAfterElement(_0x5e1989,_0xd2f567){const _0x1e0c1e=_0x712516,_0x351629=[..._0x5e1989['querySelectorAll'](_0x1e0c1e(0x451))];return _0x351629[_0x1e0c1e(0x2fa)]((_0x7e2372,_0x5f3260)=>{const _0x2f8af9=_0x1e0c1e,_0x1b02d4=_0x5f3260[_0x2f8af9(0x780)](),_0x674aff=_0xd2f567-_0x1b02d4['top']-_0x1b02d4[_0x2f8af9(0x7ba)]/0x2;return _0x674aff<0x0&&_0x674aff>_0x7e2372[_0x2f8af9(0xa2b)]?{'offset':_0x674aff,'element':_0x5f3260}:_0x7e2372;},{'offset':Number[_0x1e0c1e(0x3f8)]})[_0x1e0c1e(0x9d3)];}async function saveProjectOrder(_0x25dafb){const _0x42e9df=_0x712516,_0x344804=doc(db,_0x42e9df(0xb21),'dashboardConfig');try{await setDoc(_0x344804,{'projectOrder':_0x25dafb},{'merge':!![]});}catch(_0x5bf046){console['error'](_0x42e9df(0x487),_0x5bf046),showMessage(_0x42e9df(0x748));}}async function logBehaviorEvent(_0x5dd370,_0x31ce9d={}){const _0x208a2e=_0x712516;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x208a2e(0x73a));return;}const _0x549795=doc(db,_0x208a2e(0xade)+appId+_0x208a2e(0x8a4)+currentQuizData['id']+'/submissions',currentStudentName),_0x54cafa={'event':_0x5dd370,'timestamp':new Date()[_0x208a2e(0x783)](),..._0x31ce9d};try{await updateDoc(_0x549795,{'behaviorLog':arrayUnion(_0x54cafa)}),console['log'](_0x208a2e(0x53e)+currentStudentName+_0x208a2e(0x758));}catch(_0x853f83){_0x853f83[_0x208a2e(0x202)]==='not-found'?console[_0x208a2e(0x592)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x208a2e(0xadc)):console[_0x208a2e(0x7e3)](_0x208a2e(0x97c),_0x853f83);}}function calculateMeanAndStdDev(_0x157e5d){const _0x4cf958=_0x712516;if(_0x157e5d[_0x4cf958(0x88b)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x35da6a=_0x157e5d[_0x4cf958(0x2fa)]((_0x307fa5,_0x3fa375)=>_0x307fa5+_0x3fa375,0x0)/_0x157e5d[_0x4cf958(0x88b)];if(_0x157e5d[_0x4cf958(0x88b)]===0x1)return{'mean':_0x35da6a,'stdDev':0x0};const _0xc95112=Math['sqrt'](_0x157e5d[_0x4cf958(0x4b7)](_0x3b6546=>Math[_0x4cf958(0x78c)](_0x3b6546-_0x35da6a,0x2))['reduce']((_0x375db1,_0x189118)=>_0x375db1+_0x189118,0x0)/(_0x157e5d[_0x4cf958(0x88b)]-0x1));return{'mean':_0x35da6a,'stdDev':_0xc95112};}function calculateZScore(_0x2a2d03,_0x4f859a,_0x21161a){if(_0x21161a===0x0)return 0x0;return(_0x2a2d03-_0x4f859a)/_0x21161a;}function calculateTScore(_0x52dff1){return 0xa*_0x52dff1+0x32;}function showStarredProjectView(){const _0x2d83b6=_0x712516;currentProjectId=_0x2d83b6(0xa3a),currentProjectData=null,projectTitle[_0x2d83b6(0x8b8)]=_0x2d83b6(0x3a1),projectIdDisplay[_0x2d83b6(0x8b8)]=_0x2d83b6(0x733),showView('project-detail'),manageTab['classList'][_0x2d83b6(0x484)](_0x2d83b6(0x984)),leaderboardTab[_0x2d83b6(0x709)]['add'](_0x2d83b6(0x984)),switchProjectTab(_0x2d83b6(0x388)),renderQuizzes();}async function loadProjectDetails(_0x5501ee){const _0x512f7c=_0x712516,_0x43381f=doc(db,_0x512f7c(0xade)+appId+_0x512f7c(0x42a),_0x5501ee),_0x2a7e95=await getDoc(_0x43381f);if(_0x2a7e95[_0x512f7c(0x23c)]()){manageTab['classList'][_0x512f7c(0x5b3)]('hidden'),leaderboardTab[_0x512f7c(0x709)][_0x512f7c(0x5b3)](_0x512f7c(0x984)),currentProjectData=_0x2a7e95['data'](),projectTitle[_0x512f7c(0x8b8)]=currentProjectData['projectName'],projectIdDisplay[_0x512f7c(0x8b8)]=_0x5501ee;const _0x8af046=currentProjectData[_0x512f7c(0x9c9)]||{};document[_0x512f7c(0x7e1)](_0x512f7c(0x55a))[_0x512f7c(0x848)]=_0x8af046['shuffleSetting']||'none';const _0x531d56=document[_0x512f7c(0x7e1)](_0x512f7c(0x414));_0x531d56[_0x512f7c(0x8ed)]=_0x8af046[_0x512f7c(0x28b)]!==![];const _0x494d9f=document['getElementById'](_0x512f7c(0x650)),_0x29e5c8=document['getElementById'](_0x512f7c(0x2ae)),_0x8a51c8=document['getElementById'](_0x512f7c(0x512)),_0x24d262=_0x8af046[_0x512f7c(0x3ab)]||![];_0x494d9f[_0x512f7c(0x8ed)]=_0x24d262,_0x8a51c8[_0x512f7c(0x848)]=_0x8af046[_0x512f7c(0x787)]||'',_0x29e5c8[_0x512f7c(0x709)][_0x512f7c(0xa3d)](_0x512f7c(0x984),!_0x24d262),_0x494d9f['onchange']=()=>{const _0x5686b7=_0x512f7c;_0x29e5c8[_0x5686b7(0x709)][_0x5686b7(0xa3d)]('hidden',!_0x494d9f[_0x5686b7(0x8ed)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5501ee),listenForProjectQuizzes(_0x5501ee),listenForStudentProfiles(_0x5501ee);}else showMessage(_0x512f7c(0x7c9)),showView(_0x512f7c(0x6fd));}async function handleResetProjectOrder(){const _0x260f42=_0x712516,_0x2ac111=doc(db,_0x260f42(0xb21),_0x260f42(0x599));try{await setDoc(_0x2ac111,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x183014){console[_0x260f42(0x7e3)]('Error\x20resetting\x20project\x20order:',_0x183014),showMessage(_0x260f42(0x2e7));}}async function handleTogglePinProject(_0x138268){const _0x352d35=_0x712516;if(!_0x138268)return;const _0x4b5430=doc(db,_0x352d35(0xade)+appId+'/public/data/projects',_0x138268);try{const _0x542be4=await getDoc(_0x4b5430);if(_0x542be4['exists']()){const _0x4453c3=_0x542be4['data']()[_0x352d35(0x7da)]||![];await updateDoc(_0x4b5430,{'isPinned':!_0x4453c3});}}catch(_0x2d6af1){console[_0x352d35(0x7e3)](_0x352d35(0xa62),_0x2d6af1),showMessage(_0x352d35(0x8dd));}}async function handleDeleteProject(_0x221f8f){const _0x3a04c6=_0x712516;try{const _0xe7dcc3=writeBatch(db),_0x147b05=collection(db,_0x3a04c6(0xade)+appId+_0x3a04c6(0x4b0)),_0x36d2ed=query(_0x147b05,where('projectId','==',_0x221f8f)),_0x5e85b1=await getDocs(_0x36d2ed);for(const _0x1bc80 of _0x5e85b1[_0x3a04c6(0xa6a)]){const _0x531eca=collection(db,_0x3a04c6(0xade)+appId+'/public/data/quizzes/'+_0x1bc80['id']+_0x3a04c6(0x437)),_0x35227a=await getDocs(_0x531eca);_0x35227a[_0x3a04c6(0x8e0)](_0x66309c=>{const _0xb76991=_0x3a04c6;_0xe7dcc3[_0xb76991(0x4d9)](_0x66309c[_0xb76991(0x309)]);}),_0xe7dcc3[_0x3a04c6(0x4d9)](_0x1bc80['ref']);}const _0x311f84=collection(db,_0x3a04c6(0xade)+appId+_0x3a04c6(0x203)+_0x221f8f+_0x3a04c6(0x765)),_0x35859b=await getDocs(_0x311f84);_0x35859b['forEach'](_0xa126cd=>{const _0x1ab066=_0x3a04c6;_0xe7dcc3[_0x1ab066(0x4d9)](_0xa126cd['ref']);});const _0x599a80=doc(db,_0x3a04c6(0xade)+appId+_0x3a04c6(0x42a),_0x221f8f);_0xe7dcc3['delete'](_0x599a80),await _0xe7dcc3[_0x3a04c6(0x80f)](),showMessage(_0x3a04c6(0x573)),showView(_0x3a04c6(0x6fd));}catch(_0x387738){console[_0x3a04c6(0x7e3)]('Error\x20deleting\x20project:',_0x387738),showMessage(_0x3a04c6(0xa06));}}document[_0x712516(0x7e1)](_0x712516(0x28d))[_0x712516(0x996)](_0x712516(0x66f),async()=>{const _0x513750=_0x712516;if(!currentProjectId)return;const _0x446ba7={'defaultNumQuestions':parseInt(document[_0x513750(0x7e1)](_0x513750(0xa19))[_0x513750(0x848)]),'defaultNumChoices':parseInt(document['getElementById'](_0x513750(0x349))['value']),'defaultPassingScore':parseInt(document['getElementById'](_0x513750(0x731))[_0x513750(0x848)]),'resultsDisplay':document['getElementById'](_0x513750(0x7cc))[_0x513750(0x848)],'shuffleSetting':document[_0x513750(0x7e1)](_0x513750(0x55a))['value'],'timerMode':document[_0x513750(0x7e1)](_0x513750(0x462))[_0x513750(0x848)],'timerDuration':parseInt(document[_0x513750(0x7e1)](_0x513750(0xa23))[_0x513750(0x848)])};try{const _0x5e7fde=doc(db,'artifacts/'+appId+_0x513750(0x42a),currentProjectId);await updateDoc(_0x5e7fde,{'settings':_0x446ba7}),showMessage(_0x513750(0x65c));}catch(_0xb95d9f){console[_0x513750(0x7e3)]('Error\x20saving\x20settings:',_0xb95d9f),showMessage(_0x513750(0x875));}});function listenForStudents(_0x20e931){const _0x1a1a01=_0x712516,_0x25f16c=doc(db,_0x1a1a01(0xade)+appId+_0x1a1a01(0x42a),_0x20e931);unsubscribeStudentsListener=onSnapshot(_0x25f16c,_0x48893b=>{const _0x26810c=_0x1a1a01;if(_0x48893b[_0x26810c(0x23c)]()){const _0xdda8f2=_0x48893b['data']();currentProjectData=_0xdda8f2,renderStudentList(_0xdda8f2[_0x26810c(0xa29)]||[]);}});}function renderStudentList(_0x1e4c49){const _0xbc8897=_0x712516,_0x50911e=document[_0xbc8897(0x7e1)](_0xbc8897(0x386));_0x1e4c49[_0xbc8897(0x88b)]===0x0?(studentList[_0xbc8897(0x519)]=_0xbc8897(0xa52),_0x50911e[_0xbc8897(0x709)]['add'](_0xbc8897(0x984))):(studentList[_0xbc8897(0x519)]=_0x1e4c49[_0xbc8897(0x4b7)](_0x3ca5a0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3ca5a0+_0xbc8897(0x225)+_0x3ca5a0+_0xbc8897(0x83e))['join'](''),_0x50911e[_0xbc8897(0x709)]['remove'](_0xbc8897(0x984)));}document[_0x712516(0x7e1)](_0x712516(0x59a))[_0x712516(0x996)](_0x712516(0x66f),async()=>{const _0x2d60c1=_0x712516;if(!currentProjectId)return;const _0x2ea913=document[_0x2d60c1(0x7e1)]('student-name-input'),_0x429869=_0x2ea913[_0x2d60c1(0x848)]['trim']();if(!_0x429869){showMessage(_0x2d60c1(0x871));return;}const _0x20e3e1=_0x429869['split']('\x0a')[_0x2d60c1(0x4b7)](_0x54cc36=>_0x54cc36['trim']())['filter'](_0x54d3fc=>_0x54d3fc);if(_0x20e3e1[_0x2d60c1(0x88b)]===0x0)return;try{const _0x1c56b1=doc(db,_0x2d60c1(0xade)+appId+_0x2d60c1(0x42a),currentProjectId),_0x7d816d=await getDoc(_0x1c56b1);if(_0x7d816d[_0x2d60c1(0x23c)]()){const _0x177a97=_0x7d816d[_0x2d60c1(0x4fb)]()[_0x2d60c1(0xa29)]||[],_0x55648c=[...new Set([..._0x177a97,..._0x20e3e1])];await updateDoc(_0x1c56b1,{'students':_0x55648c}),_0x2ea913['value']='';}}catch(_0x5473a7){console[_0x2d60c1(0x7e3)](_0x2d60c1(0x398),_0x5473a7),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0xe8dabc){const _0xcf3315=_0x712516,_0x8e8176=document[_0xcf3315(0x7e1)](_0xcf3315(0x570)),_0x3f7b58=document['getElementById'](_0xcf3315(0x70d)),_0x26f97d=_0x8e8176[_0xcf3315(0x622)]('h3'),_0x555ba8=document[_0xcf3315(0x7e1)]('confirm-move-quiz-btn'),_0x1bd26a=document[_0xcf3315(0x7e1)](_0xcf3315(0x744));_0x26f97d[_0xcf3315(0x8b8)]=_0xcf3315(0x268),_0x3f7b58[_0xcf3315(0x519)]=_0xcf3315(0x3cc),_0x555ba8[_0xcf3315(0x8b8)]=_0xcf3315(0x2a4),_0x8e8176['classList']['remove'](_0xcf3315(0x984));const _0x53c7a5=allQuizzes[_0xcf3315(0xa4a)](_0xc56c7e=>_0xc56c7e['id']!==_0xe8dabc);_0x53c7a5[_0xcf3315(0x88b)]===0x0?(_0x3f7b58[_0xcf3315(0x519)]=_0xcf3315(0xaf9),_0x555ba8[_0xcf3315(0xab8)]=!![]):(_0x3f7b58[_0xcf3315(0x519)]=_0xcf3315(0x71b)+_0x53c7a5['map'](_0x5048ae=>'<option\x20value=\x22'+_0x5048ae['id']+'\x22>'+_0x5048ae[_0xcf3315(0x9b8)]+_0xcf3315(0xa85))[_0xcf3315(0x85c)](''),_0x555ba8['disabled']=![]);const _0x1a0dd3=async()=>{const _0x27205b=_0xcf3315,_0x2a2dfa=_0x3f7b58[_0x27205b(0x848)];if(!_0x2a2dfa){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x555ba8['disabled']=!![],_0x555ba8[_0x27205b(0x8b8)]=_0x27205b(0x3ed);try{const _0x2c56b8=doc(db,_0x27205b(0xade)+appId+'/public/data/quizzes',_0xe8dabc),_0x55e9fa=doc(db,_0x27205b(0xade)+appId+'/public/data/quizzes',_0x2a2dfa),_0x219f2d=writeBatch(db);_0x219f2d[_0x27205b(0xa37)](_0x2c56b8,{'pairedQuizId':_0x2a2dfa}),_0x219f2d[_0x27205b(0xa37)](_0x55e9fa,{'pairedQuizId':_0xe8dabc}),await _0x219f2d[_0x27205b(0x80f)](),showMessage(_0x27205b(0x498)),_0x8e8176[_0x27205b(0x709)][_0x27205b(0x484)](_0x27205b(0x984));}catch(_0x28c9f2){console['error'](_0x27205b(0x4f0),_0x28c9f2),showMessage(_0x27205b(0x71d));}finally{_0x26f97d[_0x27205b(0x8b8)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x555ba8[_0x27205b(0x8b8)]=_0x27205b(0x9f6),_0x555ba8[_0x27205b(0xab8)]=![],_0x555ba8[_0x27205b(0x764)](_0x27205b(0x66f),_0x1a0dd3),_0x1bd26a[_0x27205b(0x764)](_0x27205b(0x66f),_0x12417d);}},_0x12417d=()=>{const _0x35bda7=_0xcf3315;_0x8e8176[_0x35bda7(0x709)][_0x35bda7(0x484)]('hidden'),_0x26f97d['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x555ba8[_0x35bda7(0x8b8)]=_0x35bda7(0x9f6),_0x555ba8[_0x35bda7(0x764)](_0x35bda7(0x66f),_0x1a0dd3),_0x1bd26a[_0x35bda7(0x764)]('click',_0x12417d);};_0x555ba8['addEventListener'](_0xcf3315(0x66f),_0x1a0dd3),_0x1bd26a['addEventListener'](_0xcf3315(0x66f),_0x12417d);}function handleDeleteStudent(_0x45bbac){const _0x27b1b5=_0x712516;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x45bbac+_0x27b1b5(0x530),async()=>{const _0x15a300=_0x27b1b5;if(!currentProjectId||!currentProjectData)return;const _0x530ddf=currentProjectData['students'][_0x15a300(0xa4a)](_0x13c72c=>_0x13c72c!==_0x45bbac);try{const _0x35418d=doc(db,'artifacts/'+appId+_0x15a300(0x42a),currentProjectId),_0x582d6f=doc(db,_0x15a300(0xade)+appId+'/public/data/projects/'+currentProjectId+_0x15a300(0x765),_0x45bbac),_0x55f347=writeBatch(db);_0x55f347[_0x15a300(0xa37)](_0x35418d,{'students':_0x530ddf}),_0x55f347[_0x15a300(0x4d9)](_0x582d6f),await _0x55f347[_0x15a300(0x80f)]();}catch(_0x2558d3){console[_0x15a300(0x7e3)]('Error\x20deleting\x20student:',_0x2558d3),showMessage(_0x15a300(0x283));}});}function handleDeleteAllStudents(){const _0x2cc41e=_0x712516;showConfirmation(_0x2cc41e(0x628),async()=>{const _0xb5e219=_0x2cc41e;if(!currentProjectId)return;try{const _0x34aef5=doc(db,'artifacts/'+appId+_0xb5e219(0x42a),currentProjectId),_0x53a51f=collection(db,_0xb5e219(0xade)+appId+_0xb5e219(0x203)+currentProjectId+_0xb5e219(0x765)),_0x121fd6=await getDocs(_0x53a51f),_0x4056df=writeBatch(db);_0x4056df[_0xb5e219(0xa37)](_0x34aef5,{'students':[]}),_0x121fd6[_0xb5e219(0x8e0)](_0x12466a=>_0x4056df[_0xb5e219(0x4d9)](_0x12466a['ref'])),await _0x4056df[_0xb5e219(0x80f)]();}catch(_0x20e142){console[_0xb5e219(0x7e3)](_0xb5e219(0x536),_0x20e142),showMessage(_0xb5e219(0x493));}});}async function handleGenerateFromFileClick(){const _0x1c18f8=_0x712516;if(!selectedFile){showMessage(_0x1c18f8(0xaf2));return;}const _0x29859a=document[_0x1c18f8(0x7e1)](_0x1c18f8(0x521)),_0x3a2c1e=document['getElementById'](_0x1c18f8(0x93e)),_0x9e3243=document[_0x1c18f8(0x7e1)](_0x1c18f8(0x9eb)),_0x16e1a8=document['getElementById'](_0x1c18f8(0xa27));_0x16e1a8[_0x1c18f8(0xab8)]=!![],document[_0x1c18f8(0x7e1)]('quiz-generation-area')[_0x1c18f8(0x709)][_0x1c18f8(0x5b3)]('hidden'),_0x9e3243['innerHTML']='',_0x29859a[_0x1c18f8(0x709)][_0x1c18f8(0x5b3)](_0x1c18f8(0x984)),_0x3a2c1e[_0x1c18f8(0x8b8)]=_0x1c18f8(0x32b);const _0x2dccdd=new FileReader();_0x2dccdd[_0x1c18f8(0x671)](selectedFile),_0x2dccdd[_0x1c18f8(0x5e3)]=async()=>{const _0x45d9c2=_0x1c18f8;try{const _0x423337=_0x2dccdd[_0x45d9c2(0x235)]['split'](',')[0x1],_0x1bfa16=selectedFile[_0x45d9c2(0x595)];await generateQuizFromFile(_0x1bfa16,_0x423337);}catch(_0x2288c4){console[_0x45d9c2(0x7e3)](_0x45d9c2(0x522),_0x2288c4),showMessage(_0x45d9c2(0x9a5)+_0x2288c4['message']),_0x29859a[_0x45d9c2(0x709)][_0x45d9c2(0x484)]('hidden');}finally{}},_0x2dccdd['onerror']=_0x2bdb37=>{const _0x38056e=_0x1c18f8;console[_0x38056e(0x7e3)](_0x38056e(0x81a),_0x2bdb37),showMessage(_0x38056e(0x534)),_0x29859a[_0x38056e(0x709)][_0x38056e(0x484)](_0x38056e(0x984)),_0x16e1a8[_0x38056e(0xab8)]=![];};}function autoFormatMath(_0x2c495a){const _0x1c1cbe=_0x712516;if(typeof _0x2c495a!==_0x1c1cbe(0x80a)||!_0x2c495a)return _0x2c495a;const _0x42acca=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x283d8b=_0x2c495a['replace'](_0x42acca,_0x2fe18c=>{const _0x3cb5ad=_0x1c1cbe;return'$'+_0x2fe18c[_0x3cb5ad(0x847)]()+'$';});return _0x283d8b;}function sanitizeQuizData(_0x5e087f){const _0x1240e2=_0x712516;if(!_0x5e087f||!_0x5e087f[_0x1240e2(0x2f6)])return _0x5e087f;const _0x1faca2={'imes':_0x1240e2(0x87a),'div':_0x1240e2(0x49f)},_0x293a43=_0x1adb88=>{const _0x686219=_0x1240e2;if(typeof _0x1adb88!==_0x686219(0x80a))return _0x1adb88;let _0x38676f=_0x1adb88;for(const [_0x41c6eb,_0x2a62d8]of Object[_0x686219(0x90d)](_0x1faca2)){const _0x25f2af=new RegExp('\x5cb'+_0x41c6eb+'\x5cb','g');_0x38676f=_0x38676f[_0x686219(0x59e)](_0x25f2af,_0x2a62d8);}return _0x38676f=_0x38676f['replace'](/\\\//g,_0x686219(0x49f)),_0x38676f=_0x38676f['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x686219(0x49f))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x686219(0x87a))['replace'](/÷/g,'\x5cdiv')[_0x686219(0x59e)](/×/g,'\x5ctimes'),_0x38676f=_0x38676f[_0x686219(0x59e)](/(\d)(\\frac)/g,_0x686219(0x853)),_0x38676f=autoFormatMath(_0x38676f),_0x38676f;};return _0x5e087f[_0x1240e2(0x9b8)]&&(_0x5e087f[_0x1240e2(0x9b8)]=_0x293a43(_0x5e087f[_0x1240e2(0x9b8)])),_0x5e087f[_0x1240e2(0x2f6)]['forEach'](_0x264a46=>{const _0x384bc8=_0x1240e2;_0x264a46[_0x384bc8(0x383)]=_0x293a43(_0x264a46[_0x384bc8(0x383)]),_0x264a46['options']&&(_0x264a46[_0x384bc8(0x89f)]=_0x264a46[_0x384bc8(0x89f)][_0x384bc8(0x4b7)](_0x293a43)),_0x264a46[_0x384bc8(0x81e)]&&(_0x264a46[_0x384bc8(0x81e)]=_0x293a43(_0x264a46[_0x384bc8(0x81e)])),_0x264a46[_0x384bc8(0x20f)]&&(_0x264a46[_0x384bc8(0x20f)]=_0x293a43(_0x264a46[_0x384bc8(0x20f)])),_0x264a46[_0x384bc8(0x1f2)]&&(_0x264a46[_0x384bc8(0x1f2)]=_0x293a43(_0x264a46['correctResponse'])),_0x264a46['allResponses']&&(_0x264a46[_0x384bc8(0xa5c)]=_0x264a46[_0x384bc8(0xa5c)]['map'](_0x293a43));}),_0x5e087f;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0xae5ce6=_0x712516,_0x311771=document['getElementById'](_0xae5ce6(0x611)),_0x3348b5=document['getElementById'](_0xae5ce6(0x27e)),_0x58879c=_0x311771[_0xae5ce6(0x848)][_0xae5ce6(0x847)](),_0x5aa2bc=_0x3348b5[_0xae5ce6(0x848)]['trim']();if(!_0x58879c){showMessage(_0xae5ce6(0x419));return;}const _0x3daecc=document[_0xae5ce6(0x7e1)](_0xae5ce6(0x521)),_0x111cc7=document[_0xae5ce6(0x7e1)](_0xae5ce6(0x93e)),_0x502483=document[_0xae5ce6(0x7e1)](_0xae5ce6(0x9eb)),_0x254c37=document[_0xae5ce6(0x7e1)](_0xae5ce6(0x3a6));document[_0xae5ce6(0x7e1)](_0xae5ce6(0x4a9))[_0xae5ce6(0x709)][_0xae5ce6(0x5b3)](_0xae5ce6(0x984)),_0x502483[_0xae5ce6(0x519)]='',_0x3daecc[_0xae5ce6(0x709)][_0xae5ce6(0x5b3)]('hidden'),_0x111cc7[_0xae5ce6(0x8b8)]=_0xae5ce6(0x4ce),_0x254c37['disabled']=!![];try{const _0x2ed1ab=_0xae5ce6(0x986)+encodeURIComponent(_0x58879c),_0x498143=await fetch(_0x2ed1ab);if(!_0x498143['ok'])throw new Error(_0xae5ce6(0x4ab)+_0x498143[_0xae5ce6(0x407)]+')');const _0x1f543f=await _0x498143['text'](),_0x478fa2=extractTextFromHtml(_0x1f543f);if(!_0x478fa2||_0x478fa2[_0xae5ce6(0x88b)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x5aa2bc,_0x478fa2);}catch(_0x20ce79){console[_0xae5ce6(0x7e3)](_0xae5ce6(0x28e),_0x20ce79),showMessage('เกิดข้อผิดพลาด:\x20'+_0x20ce79[_0xae5ce6(0x7e4)]),_0x502483['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x3daecc[_0xae5ce6(0x709)]['add']('hidden'),_0x254c37['disabled']=![];}}function extractTextFromHtml(_0x1edc08){const _0x2b2fed=_0x712516,_0x197389=new DOMParser()[_0x2b2fed(0x51b)](_0x1edc08,'text/html');return _0x197389[_0x2b2fed(0xa58)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x4b2cb2=>_0x4b2cb2[_0x2b2fed(0x5b3)]()),_0x197389[_0x2b2fed(0x837)][_0x2b2fed(0x8b8)]||'';}document[_0x712516(0x7e1)](_0x712516(0x6d6))[_0x712516(0x996)]('click',()=>{const _0x5b41a3=_0x712516,_0x2e47c3=document[_0x5b41a3(0x7e1)](_0x5b41a3(0x411))[_0x5b41a3(0x848)]['trim']();generateQuiz(_0x2e47c3,null);}),document[_0x712516(0x7e1)](_0x712516(0x8d1))[_0x712516(0x996)]('click',()=>{const _0x23254e=_0x712516,_0xc129e5=document[_0x23254e(0x7e1)]('text-content-input')[_0x23254e(0x848)][_0x23254e(0x847)]();if(!_0xc129e5){showMessage(_0x23254e(0x5f9));return;}const _0x307776=document[_0x23254e(0x7e1)](_0x23254e(0x411))[_0x23254e(0x848)][_0x23254e(0x847)]();generateQuiz(_0x307776,_0xc129e5);});async function generateQuiz(_0x30d655,_0x4f7e36,_0x2ffa32=null){const _0x3e01dc=_0x712516,_0x21ed92=document[_0x3e01dc(0x7e1)](_0x3e01dc(0x5b9))[_0x3e01dc(0x8ed)],_0x459869=document[_0x3e01dc(0x7e1)](_0x3e01dc(0x5da))['value'],_0x37a5a=document['getElementById'](_0x3e01dc(0xa19))[_0x3e01dc(0x848)],_0x3c1f0f=document['getElementById']('num-choices')['value'],_0x3c93a0=document[_0x3e01dc(0x7e1)]('force-math-checkbox')[_0x3e01dc(0x8ed)],_0x187907=_0x3c93a0?'':_0x3e01dc(0x924),_0x13a7aa=document[_0x3e01dc(0x7e1)](_0x3e01dc(0xb1d)),_0x3d4384=_0x13a7aa[_0x3e01dc(0x848)];let _0x437b61='';_0x3d4384!==_0x3e01dc(0x956)&&(_0x437b61='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x3d4384+'\x22');const _0x30886b=document[_0x3e01dc(0x7e1)](_0x3e01dc(0x58c)),_0x51ced3=_0x30886b[_0x3e01dc(0x848)];let _0x15558d='';_0x51ced3!==_0x3e01dc(0x682)&&(_0x15558d=_0x3e01dc(0x695)+_0x51ced3+_0x3e01dc(0x28f));const _0x306bd7=document[_0x3e01dc(0xa58)](_0x3e01dc(0x666)),_0xbd2abe=Array[_0x3e01dc(0x972)](_0x306bd7)[_0x3e01dc(0x4b7)](_0xf9a378=>_0xf9a378['value']);let _0x29b7fc='';_0xbd2abe[_0x3e01dc(0x88b)]>0x0&&(_0x29b7fc='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0xbd2abe['join'](',\x20')+_0x3e01dc(0x424));let _0x504f9d='',_0x1b7c6b='',_0x4c6f68,_0x58c25a=_0x3e01dc(0x7e6)+_0x30d655+'\x22';if(!_0x30d655&&_0x4f7e36)_0x58c25a=_0x3e01dc(0x923);else!_0x30d655&&!_0x4f7e36&&(_0x58c25a=_0x3e01dc(0x9d2));const _0x4e5380={'type':_0x3e01dc(0xa18),'properties':{'questionText':{'type':_0x3e01dc(0x208)},'options':{'type':'ARRAY','items':{'type':_0x3e01dc(0x208)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3e01dc(0x208)},'imageCode':{'type':_0x3e01dc(0x208)}},'required':[_0x3e01dc(0x383),_0x3e01dc(0x89f),_0x3e01dc(0x4d1),_0x3e01dc(0x81e)]},_0x3bbb4c={'type':_0x3e01dc(0xa18),'properties':{'questionText':{'type':_0x3e01dc(0x208)},'idealAnswer':{'type':_0x3e01dc(0x208)},'explanation':{'type':_0x3e01dc(0x208)},'imageCode':{'type':_0x3e01dc(0x208)}},'required':[_0x3e01dc(0x383),_0x3e01dc(0x63a),_0x3e01dc(0x81e)]},_0x5b0d5e={'type':'OBJECT','properties':{'questionText':{'type':_0x3e01dc(0x208)},'questionType':{'type':'STRING','enum':[_0x3e01dc(0xaa4),'short_answer']},'options':{'type':_0x3e01dc(0x20e),'items':{'type':_0x3e01dc(0x208)}},'correctAnswerIndex':{'type':_0x3e01dc(0x6d8)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3e01dc(0x208)},'imageCode':{'type':_0x3e01dc(0x208)}},'required':[_0x3e01dc(0x383),_0x3e01dc(0xad0),_0x3e01dc(0x81e)]},_0x2e8b30={'type':_0x3e01dc(0xa18),'properties':{'questionText':{'type':_0x3e01dc(0x208)},'correctAnswer':{'type':_0x3e01dc(0x80d)},'explanation':{'type':_0x3e01dc(0x208)},'imageCode':{'type':_0x3e01dc(0x208)}},'required':[_0x3e01dc(0x383),'correctAnswer',_0x3e01dc(0x81e)]},_0x578f12={'type':_0x3e01dc(0xa18),'properties':{'questionType':{'type':_0x3e01dc(0x208),'enum':[_0x3e01dc(0x476)]},'stem':{'type':_0x3e01dc(0x208)},'correctResponse':{'type':_0x3e01dc(0x208)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3e01dc(0x208)}},'required':[_0x3e01dc(0xad0),_0x3e01dc(0x20f),_0x3e01dc(0x1f2),_0x3e01dc(0xa5c),'explanation']};let _0x96781;if(_0x2ffa32!==null){const _0x572bd1=currentQuizData[_0x3e01dc(0x2f6)][_0x2ffa32][_0x3e01dc(0xad0)],_0x4e60d6=_0x21ed92?_0x3e01dc(0x5d8):'';_0x504f9d=_0x3e01dc(0x73b)+_0x58c25a+'\x20'+_0x29b7fc+'\x20'+_0x437b61+_0x3e01dc(0x231)+_0x4e60d6+'\x20'+simpleMathPrompt;if(_0x572bd1===_0x3e01dc(0xaa4))_0x4c6f68=_0x4e5380;else{if(_0x572bd1==='matching_item')_0x4c6f68={'type':_0x3e01dc(0xa18),'properties':{'questionType':{'type':'STRING','enum':[_0x3e01dc(0x476)]},'stem':{'type':_0x3e01dc(0x208)},'correctResponse':{'type':_0x3e01dc(0x208)},'explanation':{'type':_0x3e01dc(0x208)},'imageCode':{'type':'STRING'}},'required':[_0x3e01dc(0xad0),_0x3e01dc(0x20f),_0x3e01dc(0x1f2),'explanation']};else _0x4c6f68=_0x3bbb4c;}_0x96781=_0x4c6f68;}else{const _0x5a221e=_0x21ed92?_0x3e01dc(0xb23):'',_0x48d3e6='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x459869){case _0x3e01dc(0xaa4):_0x504f9d=_0x3e01dc(0x76b)+_0x187907+'\x20'+_0x37a5a+'\x20ข้อ\x20'+_0x58c25a+'\x20'+_0x29b7fc+'\x20'+_0x437b61+'\x20'+_0x15558d+_0x3e01dc(0x945)+_0x3c1f0f+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5a221e+'\x20'+simpleMathPrompt,_0x4c6f68=_0x4e5380;break;case _0x3e01dc(0x21c):_0x504f9d=_0x3e01dc(0x8b0)+_0x187907+'\x20'+_0x37a5a+_0x3e01dc(0x57d)+_0x58c25a+'\x20'+_0x29b7fc+'\x20'+_0x437b61+'\x20'+_0x15558d+_0x3e01dc(0x95c)+_0x3c1f0f+_0x3e01dc(0x7d1)+_0x5a221e+'\x20'+simpleMathPrompt,_0x4c6f68=_0x4e5380;break;case _0x3e01dc(0xb16):_0x504f9d=_0x3e01dc(0x8b0)+_0x187907+'\x20'+_0x37a5a+_0x3e01dc(0x57d)+_0x58c25a+'\x20'+_0x29b7fc+'\x20'+_0x437b61+'\x20'+_0x15558d+_0x3e01dc(0x432)+_0x5a221e+'\x20'+simpleMathPrompt,_0x4c6f68=_0x3bbb4c;break;case _0x3e01dc(0x682):_0x504f9d=_0x3e01dc(0x37b)+_0x187907+'\x20'+_0x37a5a+'\x20ข้อ\x20'+_0x58c25a+'\x20'+_0x29b7fc+'\x20'+_0x437b61+'\x20'+_0x15558d+_0x3e01dc(0x485)+_0x3c1f0f+_0x3e01dc(0x5ea)+_0x5a221e+'\x20'+simpleMathPrompt+'.',_0x4c6f68=_0x5b0d5e;break;case _0x3e01dc(0x34b):_0x504f9d=_0x3e01dc(0x72c)+_0x187907+'\x20'+_0x37a5a+_0x3e01dc(0x57d)+_0x58c25a+'\x20'+_0x29b7fc+'\x20'+_0x437b61+'\x20'+_0x15558d+_0x3e01dc(0x36a)+_0x5a221e+'\x20'+simpleMathPrompt,_0x4c6f68=_0x2e8b30;break;case _0x3e01dc(0x5ad):_0x504f9d=_0x3e01dc(0x72e)+_0x187907+'\x20'+_0x37a5a+_0x3e01dc(0x688)+_0x58c25a+'\x20'+_0x29b7fc+'\x20'+_0x437b61+'\x20'+_0x15558d+_0x3e01dc(0x3ac)+_0x5a221e+'\x20'+simpleMathPrompt,_0x4c6f68=_0x578f12;break;}_0x96781={'type':'OBJECT','properties':{'topic':{'type':_0x3e01dc(0x208)},'questions':{'type':_0x3e01dc(0x20e),'items':_0x4c6f68}},'required':[_0x3e01dc(0x9b8),'questions']};}return _0x4f7e36?(_0x504f9d=_0x3e01dc(0x68a)+_0x4f7e36+'\x22,\x20'+_0x504f9d,_0x1b7c6b=_0x3e01dc(0x544)):_0x1b7c6b=_0x3e01dc(0x5ec),handleApiCall(_0x504f9d,_0x1b7c6b,_0x96781,_0x2ffa32);}async function generateQuizFromFile(_0x13eae6,_0x379459){const _0x441536=_0x712516,_0x1d021a=document[_0x441536(0x7e1)](_0x441536(0x983))[_0x441536(0x848)][_0x441536(0x847)](),_0x3f9e4d=document[_0x441536(0x7e1)]('quiz-type-select')[_0x441536(0x848)],_0xccd3c4=document['getElementById'](_0x441536(0xa19))[_0x441536(0x848)],_0x53fade=document[_0x441536(0x7e1)](_0x441536(0x349))[_0x441536(0x848)],_0x518b15=document[_0x441536(0x7e1)](_0x441536(0x5b9))[_0x441536(0x8ed)],_0x4bd776=document[_0x441536(0x7e1)]('force-math-checkbox')[_0x441536(0x8ed)],_0x391288=_0x4bd776?'':_0x441536(0x924);let _0x2fce3f='',_0x3f351a,_0x2c250f=_0x441536(0x7e6)+_0x1d021a+'\x22';!_0x1d021a&&(_0x2c250f='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0xe4591b=_0x518b15?_0x441536(0xb23):'';switch(_0x3f9e4d){case _0x441536(0xaa4):_0x2fce3f=_0x441536(0x76b)+_0x391288+'\x20'+_0xccd3c4+_0x441536(0x57d)+_0x2c250f+_0x441536(0x945)+_0x53fade+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xe4591b+'\x20'+simpleMathPrompt,_0x3f351a={'type':_0x441536(0xa18),'properties':{'questionText':{'type':_0x441536(0x208)},'options':{'type':_0x441536(0x20e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x441536(0x6d8)},'explanation':{'type':_0x441536(0x208)},'imageCode':{'type':_0x441536(0x208)}},'required':['questionText',_0x441536(0x89f),_0x441536(0x4d1),'explanation']};break;case _0x441536(0x21c):_0x2fce3f=_0x441536(0x8b0)+_0x391288+'\x20'+_0xccd3c4+_0x441536(0x57d)+_0x2c250f+_0x441536(0x95c)+_0x53fade+_0x441536(0x7d1)+_0xe4591b+'\x20'+simpleMathPrompt,_0x3f351a={'type':_0x441536(0xa18),'properties':{'questionText':{'type':_0x441536(0x208)},'options':{'type':_0x441536(0x20e),'items':{'type':_0x441536(0x208)}},'correctAnswerIndex':{'type':_0x441536(0x6d8)},'explanation':{'type':_0x441536(0x208)},'imageCode':{'type':_0x441536(0x208)}},'required':[_0x441536(0x383),_0x441536(0x89f),_0x441536(0x4d1),'explanation']};break;case'fill_in_no_choices':_0x2fce3f=_0x441536(0x8b0)+_0x391288+'\x20'+_0xccd3c4+_0x441536(0x57d)+_0x2c250f+_0x441536(0x432)+_0xe4591b+'\x20'+simpleMathPrompt,_0x3f351a={'type':_0x441536(0xa18),'properties':{'questionText':{'type':_0x441536(0x208)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x441536(0x208)},'imageCode':{'type':_0x441536(0x208)}},'required':['questionText',_0x441536(0x63a),_0x441536(0x81e)]};break;case'mixed':_0x2fce3f=_0x441536(0x37b)+_0x391288+'\x20'+_0xccd3c4+_0x441536(0x57d)+_0x2c250f+_0x441536(0x964)+_0x53fade+_0x441536(0x5ea)+_0xe4591b+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x3f351a={'type':_0x441536(0xa18),'properties':{'questionText':{'type':_0x441536(0x208)},'questionType':{'type':_0x441536(0x208),'enum':[_0x441536(0xaa4),_0x441536(0x344)]},'options':{'type':_0x441536(0x20e),'items':{'type':_0x441536(0x208)}},'correctAnswerIndex':{'type':_0x441536(0x6d8)},'idealAnswer':{'type':_0x441536(0x208)},'explanation':{'type':_0x441536(0x208)},'imageCode':{'type':_0x441536(0x208)}},'required':[_0x441536(0x383),_0x441536(0xad0),'explanation']};break;case _0x441536(0x34b):_0x2fce3f=_0x441536(0x72c)+_0x391288+'\x20'+_0xccd3c4+_0x441536(0x57d)+_0x2c250f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0xe4591b+'\x20'+simpleMathPrompt,_0x3f351a={'type':'OBJECT','properties':{'questionText':{'type':_0x441536(0x208)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x441536(0x208)},'imageCode':{'type':_0x441536(0x208)}},'required':[_0x441536(0x383),_0x441536(0xa24),_0x441536(0x81e)]};break;case _0x441536(0x5ad):_0x2fce3f=_0x441536(0x72e)+_0x391288+'\x20'+_0xccd3c4+_0x441536(0x688)+_0x2c250f+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0xccd3c4+_0x441536(0x67f)+_0xe4591b+'\x20'+simpleMathPrompt,_0x3f351a={'type':_0x441536(0xa18),'properties':{'questionType':{'type':_0x441536(0x208),'enum':[_0x441536(0x476)]},'stem':{'type':_0x441536(0x208)},'correctResponse':{'type':_0x441536(0x208)},'allResponses':{'type':_0x441536(0x20e),'items':{'type':_0x441536(0x208)}},'explanation':{'type':_0x441536(0x208)},'imageCode':{'type':_0x441536(0x208)}},'required':[_0x441536(0xad0),_0x441536(0x20f),_0x441536(0x1f2),_0x441536(0xa5c),'explanation']};break;}const _0x5e143c={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x441536(0x20e),'items':_0x3f351a}},'required':[_0x441536(0x9b8),_0x441536(0x2f6)]},_0x1138f6=_0x441536(0x341)+_0x2fce3f,_0x26ad6b={'contents':[{'parts':[{'text':_0x1138f6},{'inlineData':{'mimeType':_0x13eae6,'data':_0x379459}}]}],'generationConfig':{'responseMimeType':_0x441536(0x3b8),'responseSchema':_0x5e143c}};return handleApiCall(_0x26ad6b[_0x441536(0x3be)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x5e143c);}async function handleApiCall(_0x24d96b,_0x1afe4d,_0x2df75c,_0x2ba1af=null){const _0x5a95c2=_0x712516,_0x59bb41=document['getElementById'](_0x5a95c2(0x4a9)),_0x11255b=document[_0x5a95c2(0x7e1)](_0x5a95c2(0x521)),_0x1619ab=document[_0x5a95c2(0x7e1)](_0x5a95c2(0x93e)),_0x313a7c=document[_0x5a95c2(0x7e1)]('generated-quiz-container');_0x59bb41[_0x5a95c2(0x709)][_0x5a95c2(0x5b3)](_0x5a95c2(0x984));_0x2ba1af===null&&(_0x313a7c[_0x5a95c2(0x519)]='');_0x11255b[_0x5a95c2(0x709)][_0x5a95c2(0x5b3)]('hidden'),_0x1619ab['textContent']=_0x1afe4d,document[_0x5a95c2(0x7e1)](_0x5a95c2(0x6d6))[_0x5a95c2(0xab8)]=!![],document[_0x5a95c2(0x7e1)](_0x5a95c2(0x8d1))['disabled']=!![],document[_0x5a95c2(0x7e1)](_0x5a95c2(0x3a6))[_0x5a95c2(0xab8)]=!![];try{const _0x4328cf={'responseMimeType':_0x5a95c2(0x3b8),'responseSchema':_0x2df75c},_0x27177f=Array[_0x5a95c2(0x45d)](_0x24d96b)?_0x24d96b:[{'text':_0x24d96b}],_0x12b5ae={'contents':[{'role':_0x5a95c2(0x524),'parts':_0x27177f}],'generationConfig':_0x4328cf},_0x3f6b24='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x55584f=_0x5a95c2(0x610)+_0x3f6b24,_0x5b7180=await fetch(_0x55584f,{'method':_0x5a95c2(0x4fc),'headers':{'Content-Type':_0x5a95c2(0x3b8)},'body':JSON[_0x5a95c2(0x44c)](_0x12b5ae)});if(!_0x5b7180['ok'])throw new Error(_0x5a95c2(0x565)+_0x5b7180[_0x5a95c2(0x407)]);const _0x492343=await _0x5b7180['json']();if(_0x492343['candidates']?.[0x0]?.['content']?.['parts']?.[0x0]){let _0xea7cd9=_0x492343[_0x5a95c2(0x9c3)][0x0][_0x5a95c2(0x296)][_0x5a95c2(0x532)][0x0][_0x5a95c2(0x7c6)],_0x50563e;try{if(_0xea7cd9['startsWith']('```json'))_0xea7cd9=_0xea7cd9[_0x5a95c2(0x865)](0x7,_0xea7cd9[_0x5a95c2(0x88b)]-0x3)['trim']();else _0xea7cd9[_0x5a95c2(0x489)](_0x5a95c2(0x9ea))&&(_0xea7cd9=_0xea7cd9[_0x5a95c2(0x865)](0x3,_0xea7cd9[_0x5a95c2(0x88b)]-0x3)[_0x5a95c2(0x847)]());_0x50563e=JSON['parse'](_0xea7cd9);}catch(_0x27fc4a){console['error']('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x27fc4a,_0xea7cd9);throw new Error(_0x5a95c2(0x4c1));}if(_0x2ba1af!==null){if(_0x50563e['questionType']==='matching_item'){const _0x13cb92=currentQuizData['questions'][_0x5a95c2(0x4b7)](_0x2bf741=>_0x2bf741['correctResponse']);_0x50563e['allResponses']=_0x13cb92;const _0x22e0d9=currentQuizData[_0x5a95c2(0x2f6)][_0x2ba1af][_0x5a95c2(0x1f2)],_0x242ad9=_0x13cb92[_0x5a95c2(0x7cb)](_0x22e0d9);_0x242ad9>-0x1&&(_0x13cb92[_0x242ad9]=_0x50563e[_0x5a95c2(0x1f2)]),currentQuizData[_0x5a95c2(0x2f6)][_0x5a95c2(0x8e0)](_0x39a5a6=>{const _0x47b4be=_0x5a95c2;if(_0x39a5a6[_0x47b4be(0xad0)]===_0x47b4be(0x476))_0x39a5a6[_0x47b4be(0xa5c)]=_0x13cb92;});}currentQuizData[_0x5a95c2(0x2f6)][_0x2ba1af]=_0x50563e,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x50563e;const _0x3656a5=document[_0x5a95c2(0x7e1)](_0x5a95c2(0x5da))[_0x5a95c2(0x848)];currentQuizData[_0x5a95c2(0x817)]=_0x3656a5,currentQuizData['questions']&&currentQuizData['questions'][_0x5a95c2(0x8e0)](_0xdbfc88=>{const _0x2aa1b3=_0x5a95c2;if(!_0xdbfc88[_0x2aa1b3(0xad0)]){if(_0x3656a5===_0x2aa1b3(0x21c))_0xdbfc88[_0x2aa1b3(0xad0)]=_0x2aa1b3(0xaa4);else _0x3656a5===_0x2aa1b3(0xb16)?_0xdbfc88[_0x2aa1b3(0xad0)]=_0x2aa1b3(0x344):_0xdbfc88['questionType']=_0x3656a5;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x5a95c2(0x7e3)](_0x5a95c2(0x4b8),JSON[_0x5a95c2(0x44c)](_0x492343));throw new Error(_0x5a95c2(0x4c1));}}catch(_0x24b0de){console[_0x5a95c2(0x7e3)]('Error\x20generating\x20quiz:',_0x24b0de),showMessage(_0x5a95c2(0x8de)),_0x2ba1af===null&&(_0x313a7c[_0x5a95c2(0x519)]=_0x5a95c2(0x60e));}finally{_0x11255b[_0x5a95c2(0x709)]['add'](_0x5a95c2(0x984)),document[_0x5a95c2(0x7e1)]('generate-from-topic-btn')[_0x5a95c2(0xab8)]=![],document[_0x5a95c2(0x7e1)](_0x5a95c2(0x8d1))['disabled']=![],document[_0x5a95c2(0x7e1)](_0x5a95c2(0x3a6))['disabled']=![];const _0x38ed8d=document[_0x5a95c2(0x7e1)](_0x5a95c2(0xa27));_0x38ed8d&&(_0x38ed8d[_0x5a95c2(0xab8)]=![]);}}function exitFullscreen(){const _0x48d8a5=_0x712516;if(document[_0x48d8a5(0x803)])document[_0x48d8a5(0x803)]()[_0x48d8a5(0x9b0)](_0x577df9=>console['error'](_0x577df9));else{if(document[_0x48d8a5(0xad2)])document[_0x48d8a5(0xad2)]();else document[_0x48d8a5(0x1e8)]&&document[_0x48d8a5(0x1e8)]();}}function enterFullscreen(){const _0x3285ed=_0x712516,_0x25b65a=document[_0x3285ed(0x482)];if(_0x25b65a[_0x3285ed(0x3b9)])_0x25b65a['requestFullscreen']()[_0x3285ed(0x9b0)](_0x16c07e=>{const _0xfb7f27=_0x3285ed;console[_0xfb7f27(0x7e3)](_0xfb7f27(0x560)+_0x16c07e[_0xfb7f27(0x7e4)]+'\x20('+_0x16c07e[_0xfb7f27(0x4ad)]+')');});else{if(_0x25b65a['webkitRequestFullscreen'])_0x25b65a['webkitRequestFullscreen']();else _0x25b65a[_0x3285ed(0x2c5)]&&_0x25b65a[_0x3285ed(0x2c5)]();}}function handleCheatingEvent(){const _0x1cd9c7=_0x712516;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x1cd9c7(0x9db),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1cd9c7(0x796)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document['getElementById'](_0x1cd9c7(0x7a0))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x1cd9c7(0x764)]('visibilitychange',handleVisibilityChange),document[_0x1cd9c7(0x764)](_0x1cd9c7(0xaea),handleFullscreenChange)):showMessage(_0x1cd9c7(0x6af)+cheatAttempts+'/'+maxCheatAttempts+_0x1cd9c7(0x32d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4b9f13=_0x712516;if(currentMode===_0x4b9f13(0xa6f)||!isQuizActive)return;if(document['visibilityState']===_0x4b9f13(0x984))handleCheatingEvent();else document['visibilityState']===_0x4b9f13(0x382)&&(console[_0x4b9f13(0xa87)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x5b555e=_0x712516;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x5b555e(0x656)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3ae503){const _0x249f46=_0x712516,_0x5444e6=document[_0x249f46(0x7e1)](_0x249f46(0x9eb));let _0x4a19d0=_0x249f46(0x8e9)+_0x3ae503[_0x249f46(0x9b8)]+_0x249f46(0x273);_0x3ae503[_0x249f46(0x2f6)][_0x249f46(0x8e0)]((_0x7be82d,_0xec4aac)=>{const _0x2967ef=_0x249f46;!_0x7be82d['id']&&(_0x7be82d['id']='q_'+Date[_0x2967ef(0x8a2)]()+'_'+_0xec4aac);const _0x4278e8=_0x7be82d[_0x2967ef(0xad0)]||_0x3ae503[_0x2967ef(0x817)];_0x4a19d0+=_0x2967ef(0x696)+_0xec4aac+_0x2967ef(0x89d)+_0xec4aac+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xec4aac+_0x2967ef(0xad9)+_0xec4aac+_0x2967ef(0x657);switch(_0x4278e8){case _0x2967ef(0x476):_0x4a19d0+=_0x2967ef(0x28c)+_0xec4aac+'\x22>'+(_0xec4aac+0x1)+'.\x20'+_0x7be82d[_0x2967ef(0x20f)]+_0x2967ef(0x9ad);_0x7be82d[_0x2967ef(0x92b)]&&(_0x4a19d0+='<div\x20id=\x22q-image-container-'+_0xec4aac+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x7be82d[_0x2967ef(0x92b)]+_0x2967ef(0x6b3));_0x4a19d0+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0xec4aac+'\x22>'+_0x7be82d[_0x2967ef(0x1f2)]+'</span></div>',_0x4a19d0+=_0x2967ef(0x6dc)+_0xec4aac+'\x22>'+_0x7be82d[_0x2967ef(0x81e)]+_0x2967ef(0x368);break;case _0x2967ef(0x344):_0x4a19d0+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xec4aac+'\x22>'+(_0xec4aac+0x1)+'.\x20'+_0x7be82d[_0x2967ef(0x383)]+'</p>';_0x7be82d[_0x2967ef(0x92b)]&&(_0x4a19d0+=_0x2967ef(0x8a0)+_0xec4aac+_0x2967ef(0x729)+_0x7be82d[_0x2967ef(0x92b)]+_0x2967ef(0x6b3));_0x4a19d0+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0xec4aac+'\x22>'+_0x7be82d['idealAnswer']+_0x2967ef(0x368),_0x4a19d0+=_0x2967ef(0x6dc)+_0xec4aac+'\x22>'+_0x7be82d[_0x2967ef(0x81e)]+'</span></div>';break;case _0x2967ef(0x34b):_0x4a19d0+=_0x2967ef(0x28c)+_0xec4aac+'\x22>'+(_0xec4aac+0x1)+'.\x20'+_0x7be82d[_0x2967ef(0x383)]+'</p>';_0x7be82d['imageCode']&&(_0x4a19d0+='<div\x20id=\x22q-image-container-'+_0xec4aac+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x7be82d[_0x2967ef(0x92b)]+'</div>');_0x4a19d0+=_0x2967ef(0x3ff)+(_0x7be82d['correctAnswer']===!![]?_0x2967ef(0x47f):'')+_0x2967ef(0x7df)+(_0x7be82d[_0x2967ef(0xa24)]===![]?_0x2967ef(0x47f):'')+_0x2967ef(0x591),_0x4a19d0+=_0x2967ef(0x6dc)+_0xec4aac+'\x22>'+_0x7be82d[_0x2967ef(0x81e)]+_0x2967ef(0x368);break;case'fill_in_the_blank':case _0x2967ef(0xaa4):default:_0x4a19d0+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xec4aac+'\x22>'+(_0xec4aac+0x1)+'.\x20'+_0x7be82d[_0x2967ef(0x383)]+_0x2967ef(0x9ad);_0x7be82d[_0x2967ef(0x92b)]&&(_0x4a19d0+=_0x2967ef(0x8a0)+_0xec4aac+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x7be82d[_0x2967ef(0x92b)]+'</div>');_0x4a19d0+=_0x2967ef(0x7c0)+_0xec4aac+_0x2967ef(0x773)+_0x7be82d[_0x2967ef(0x89f)][_0x2967ef(0x4b7)]((_0x59f526,_0x52835a)=>_0x2967ef(0x1f6)+(_0x52835a===_0x7be82d['correctAnswerIndex']?_0x2967ef(0x47f):'')+'\x22>'+_0x59f526+_0x2967ef(0x97e))[_0x2967ef(0x85c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x4a19d0+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xec4aac+'\x22>'+_0x7be82d[_0x2967ef(0x81e)]+_0x2967ef(0x368);break;}_0x4a19d0+='</div>';}),_0x4a19d0+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x5444e6[_0x249f46(0x519)]=_0x4a19d0,document[_0x249f46(0xa58)](_0x249f46(0xa05))['forEach'](_0x29dad7=>_0x29dad7['addEventListener'](_0x249f46(0x66f),handleEditQuestion)),document['querySelectorAll'](_0x249f46(0x50c))['forEach'](_0x455300=>_0x455300[_0x249f46(0x996)](_0x249f46(0x66f),handleRegenerateQuestion)),document[_0x249f46(0xa58)](_0x249f46(0x9c8))[_0x249f46(0x8e0)](_0x2ee702=>_0x2ee702[_0x249f46(0x996)]('click',handleSaveToBank)),document[_0x249f46(0x7e1)](_0x249f46(0x826))[_0x249f46(0x996)](_0x249f46(0x66f),exportQuizAsWorksheetPDF),document['getElementById'](_0x249f46(0x3d5))[_0x249f46(0x996)](_0x249f46(0x66f),saveQuiz),document[_0x249f46(0x7e1)](_0x249f46(0xa5e))[_0x249f46(0x996)](_0x249f46(0x66f),handleVerifyAnswers);if(window[_0x249f46(0x7e0)])window[_0x249f46(0x7e0)][_0x249f46(0x7a9)]([_0x5444e6]);}function handleRegenerateQuestion(_0x3b2917){const _0x26b360=_0x712516,_0x56674b=_0x3b2917[_0x26b360(0x973)][_0x26b360(0x478)][_0x26b360(0x65d)],_0x1e6f2d=currentQuizData['topic'];showMessage(_0x26b360(0x9c1)+(parseInt(_0x56674b)+0x1)+'\x20ใหม่...'),generateQuiz(_0x1e6f2d,null,parseInt(_0x56674b));}function getPointerPosition(_0x6ba0a,_0x1615c7){const _0x395f91=_0x712516,_0xcc57f6=_0x6ba0a[_0x395f91(0x2d6)]();let _0x8e7de7,_0x441aaa;return _0x1615c7[_0x395f91(0xa16)]&&_0x1615c7[_0x395f91(0xa16)][_0x395f91(0x88b)]>0x0?(_0x8e7de7=_0x1615c7['touches'][0x0][_0x395f91(0x7e2)],_0x441aaa=_0x1615c7[_0x395f91(0xa16)][0x0][_0x395f91(0x9bc)]):(_0x8e7de7=_0x1615c7[_0x395f91(0x7e2)],_0x441aaa=_0x1615c7['clientY']),{'x':(_0x8e7de7-_0xcc57f6['e'])/_0xcc57f6['a'],'y':(_0x441aaa-_0xcc57f6['f'])/_0xcc57f6['d']};}function startDrag(_0x4d2819){const _0x173b18=_0x712516;_0x4d2819[_0x173b18(0x595)]===_0x173b18(0x304)&&_0x4d2819[_0x173b18(0x6db)]();const _0x3a9183=_0x4d2819[_0x173b18(0x815)][_0x173b18(0x56d)](_0x173b18(0x63e));if(_0x3a9183){draggedSvgElement=_0x3a9183;const _0x5d1330=draggedSvgElement[_0x173b18(0x531)],_0x2f85f3=getPointerPosition(_0x5d1330,_0x4d2819);svgOffset['x']=_0x2f85f3['x']-parseFloat(draggedSvgElement[_0x173b18(0x974)](null,'x')),svgOffset['y']=_0x2f85f3['y']-parseFloat(draggedSvgElement[_0x173b18(0x974)](null,'y'));}}function calculateItemAnalysis(_0x3b4f32,_0x461809){const _0x1efc80=_0x712516,_0x13b42a={};if(_0x461809[_0x1efc80(0x88b)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xef237a=[..._0x461809]['sort']((_0x527f0d,_0x16e2fa)=>{const _0x141968=_0x1efc80,_0x2280e4=_0x16e2fa[_0x141968(0x4dd)]-_0x527f0d[_0x141968(0x4dd)];if(_0x2280e4!==0x0)return _0x2280e4;const _0x197614=_0x527f0d[_0x141968(0x5ae)]?.[_0x141968(0x88b)]||0x1,_0x34d18d=_0x16e2fa[_0x141968(0x5ae)]?.['length']||0x1,_0x12237c=_0x197614-_0x34d18d;if(_0x12237c!==0x0)return _0x12237c;const _0xb1cab1=new Date(_0x527f0d[_0x141968(0x49d)]),_0x33e399=new Date(_0x16e2fa['latestSubmittedAt']),_0x528fa6=_0xb1cab1-_0x33e399;if(_0x528fa6!==0x0)return _0x528fa6;return _0x527f0d['studentName'][_0x141968(0x39f)](_0x16e2fa[_0x141968(0x4ed)],'th');}),_0x397a01=_0xef237a[_0x1efc80(0x88b)],_0x5d7a3c=Math[_0x1efc80(0xa7d)](0x1,Math['floor'](_0x397a01*0.33));if(_0x5d7a3c===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x184fb2=_0xef237a[_0x1efc80(0x7c1)](0x0,_0x5d7a3c),_0x23a4ff=_0xef237a['slice'](-_0x5d7a3c),_0x1ce739=_0x184fb2[_0x1efc80(0x4b7)](_0x3bf75e=>_0x3bf75e[_0x1efc80(0x4ed)]),_0xb7a0bb=_0x23a4ff[_0x1efc80(0x4b7)](_0x566b0c=>_0x566b0c['studentName']);return _0x3b4f32[_0x1efc80(0x2f6)][_0x1efc80(0x8e0)]((_0x40be1a,_0x343c22)=>{const _0x2e8a8d=_0x1efc80,_0x48a272=_0x40be1a['stem']||_0x40be1a['questionText'];let _0x49abad=0x0,_0x1c28b2=0x0,_0x17c8c8=0x0;const _0x1bd955=[],_0x95d711=[];_0x184fb2[_0x2e8a8d(0x8e0)](_0x5b88cd=>{const _0x253f36=_0x2e8a8d,_0x572b0b=_0x5b88cd[_0x253f36(0x5ae)][_0x5b88cd['attempts'][_0x253f36(0x88b)]-0x1],_0x55fc1c=_0x572b0b['answers'][_0x253f36(0xafd)](_0x9c9f90=>_0x9c9f90[_0x253f36(0x7bc)]===_0x48a272);_0x1bd955[_0x253f36(0x95b)]({'name':_0x5b88cd[_0x253f36(0x4ed)],'isCorrect':_0x55fc1c?_0x55fc1c[_0x253f36(0xa3c)]:![]}),_0x55fc1c&&_0x55fc1c[_0x253f36(0xa3c)]&&_0x1c28b2++;}),_0x23a4ff['forEach'](_0x446597=>{const _0x5be1ec=_0x2e8a8d,_0xfed5d3=_0x446597[_0x5be1ec(0x5ae)][_0x446597[_0x5be1ec(0x5ae)][_0x5be1ec(0x88b)]-0x1],_0x55793f=_0xfed5d3['answers']['find'](_0x8de209=>_0x8de209[_0x5be1ec(0x7bc)]===_0x48a272);_0x95d711[_0x5be1ec(0x95b)]({'name':_0x446597['studentName'],'isCorrect':_0x55793f?_0x55793f[_0x5be1ec(0xa3c)]:![]}),_0x55793f&&_0x55793f[_0x5be1ec(0xa3c)]&&_0x17c8c8++;}),_0x461809[_0x2e8a8d(0x8e0)](_0x2f1d36=>{const _0x165b07=_0x2e8a8d,_0x116823=_0x2f1d36['attempts'][_0x2f1d36[_0x165b07(0x5ae)]['length']-0x1],_0x5a022d=_0x116823[_0x165b07(0xb13)][_0x165b07(0xafd)](_0x25711b=>_0x25711b[_0x165b07(0x7bc)]===_0x48a272);_0x5a022d&&_0x5a022d[_0x165b07(0xa3c)]&&_0x49abad++;});const _0x5ae1b2=_0x397a01>0x0?_0x49abad/_0x397a01:0x0,_0x3a05ea=_0x5d7a3c>0x0?_0x1c28b2/_0x5d7a3c-_0x17c8c8/_0x5d7a3c:0x0;_0x13b42a[_0x343c22]={'p':_0x5ae1b2,'r':_0x3a05ea,'upperGroupResponders':_0x1bd955,'lowerGroupResponders':_0x95d711};}),{'perQuestionStats':_0x13b42a,'overallGroups':{'upperGroupNames':_0x1ce739,'lowerGroupNames':_0xb7a0bb}};}function drag(_0x347be1){const _0x2f0402=_0x712516;if(draggedSvgElement){_0x347be1[_0x2f0402(0x6db)]();const _0x2cd729=draggedSvgElement[_0x2f0402(0x531)],_0x84edf9=getPointerPosition(_0x2cd729,_0x347be1),_0x40a441=_0x2cd729[_0x2f0402(0x927)][_0x2f0402(0x9b4)];let _0x4643b8=_0x84edf9['x']-svgOffset['x'],_0xa4307a=_0x84edf9['y']-svgOffset['y'];const _0x91aa65=draggedSvgElement[_0x2f0402(0xaf8)]();_0x4643b8=Math[_0x2f0402(0xa7d)](_0x40a441['x'],Math[_0x2f0402(0x822)](_0x4643b8,_0x40a441['x']+_0x40a441[_0x2f0402(0x726)]-_0x91aa65[_0x2f0402(0x726)])),_0xa4307a=Math['max'](_0x40a441['y'],Math[_0x2f0402(0x822)](_0xa4307a,_0x40a441['y']+_0x40a441['height']-_0x91aa65[_0x2f0402(0x7ba)])),draggedSvgElement['setAttributeNS'](null,'x',_0x4643b8),draggedSvgElement[_0x2f0402(0x6c1)](null,'y',_0xa4307a);}}function endDrag(_0x43f4fb){draggedSvgElement=null;}function handleSvgEditClick(_0x190445){const _0x193c88=_0x712516;if(_0x190445[_0x193c88(0x815)]['classList'][_0x193c88(0xb03)](_0x193c88(0x1e6))){const _0x1d3c46=_0x190445[_0x193c88(0x815)][_0x193c88(0x478)][_0x193c88(0xb0c)],_0x3f2704=_0x190445[_0x193c88(0x973)],_0x4e2b2a=_0x3f2704['querySelector']('#'+_0x1d3c46);_0x4e2b2a&&_0x4e2b2a[_0x193c88(0x5b3)](),_0x190445['target'][_0x193c88(0x5b3)]();}}function handleEditQuestion(_0x564042){const _0x502a1e=_0x712516,_0x8b77cf=_0x564042[_0x502a1e(0x973)],_0x285e04=_0x8b77cf[_0x502a1e(0x478)][_0x502a1e(0x65d)],_0x58821c=currentQuizData[_0x502a1e(0x2f6)][_0x285e04],_0x2a22a4=document[_0x502a1e(0x7e1)]('q-text-'+_0x285e04),_0x5081e5=document['getElementById']('q-explanation-'+_0x285e04),_0x358075=document[_0x502a1e(0x7e1)]('q-image-container-'+_0x285e04);if(_0x8b77cf[_0x502a1e(0x519)][_0x502a1e(0x29d)]('fa-pen')){_0x8b77cf[_0x502a1e(0x519)]=_0x502a1e(0x8e8),_0x8b77cf['title']=_0x502a1e(0x87d);if(_0x2a22a4)_0x2a22a4[_0x502a1e(0xa4c)]=!![];if(_0x5081e5)_0x5081e5['contentEditable']=!![];if(_0x358075){const _0x3c2f1c=_0x358075['querySelector'](_0x502a1e(0x3ef));if(_0x3c2f1c){const _0xd875a1=_0x3c2f1c[_0x502a1e(0xa58)](_0x502a1e(0x7c6));_0xd875a1[_0x502a1e(0x8e0)]((_0x42cc00,_0x4cf6bc)=>{const _0x55bcad=_0x502a1e,_0x2b9e36='editable-text-'+_0x285e04+'-'+_0x4cf6bc;_0x42cc00['id']=_0x2b9e36,_0x42cc00['classList'][_0x55bcad(0x484)](_0x55bcad(0xaa5)),_0x42cc00[_0x55bcad(0x38f)][_0x55bcad(0xa26)]=_0x55bcad(0x6e2);const _0x457cdd=document[_0x55bcad(0x496)]('http://www.w3.org/2000/svg',_0x55bcad(0xa2d)),_0x502f4c=_0x42cc00[_0x55bcad(0xaf8)]();_0x457cdd[_0x55bcad(0x684)]('cx',String(_0x502f4c['x']+_0x502f4c[_0x55bcad(0x726)]+0x5)),_0x457cdd['setAttribute']('cy',String(_0x502f4c['y']+_0x502f4c[_0x55bcad(0x7ba)]/0x2-0x5)),_0x457cdd['setAttribute']('r','5'),_0x457cdd[_0x55bcad(0x684)](_0x55bcad(0x3f2),_0x55bcad(0xae5)),_0x457cdd[_0x55bcad(0x684)](_0x55bcad(0x207),_0x55bcad(0x1e6)),_0x457cdd[_0x55bcad(0x478)][_0x55bcad(0xb0c)]=_0x2b9e36,_0x42cc00['after'](_0x457cdd);}),_0x3c2f1c[_0x502a1e(0x996)]('mousedown',startDrag),_0x3c2f1c['addEventListener'](_0x502a1e(0x491),drag),_0x3c2f1c[_0x502a1e(0x996)]('mouseup',endDrag),_0x3c2f1c[_0x502a1e(0x996)]('mouseleave',endDrag),_0x3c2f1c['addEventListener'](_0x502a1e(0x304),startDrag,{'passive':![]}),_0x3c2f1c[_0x502a1e(0x996)](_0x502a1e(0x20d),drag,{'passive':![]}),_0x3c2f1c['addEventListener'](_0x502a1e(0xa90),endDrag),_0x3c2f1c[_0x502a1e(0x996)](_0x502a1e(0x3cf),endDrag),_0x3c2f1c[_0x502a1e(0x996)](_0x502a1e(0x66f),handleSvgEditClick);}}if(_0x2a22a4)_0x2a22a4[_0x502a1e(0x216)]();}else{_0x8b77cf[_0x502a1e(0x519)]=_0x502a1e(0x988),_0x8b77cf[_0x502a1e(0xa59)]=_0x502a1e(0x9e6);if(_0x2a22a4){_0x2a22a4[_0x502a1e(0xa4c)]=![];const _0x48020b=_0x58821c[_0x502a1e(0xad0)]||currentQuizData[_0x502a1e(0x817)];_0x48020b===_0x502a1e(0x476)?_0x58821c[_0x502a1e(0x20f)]=_0x2a22a4[_0x502a1e(0xa54)][_0x502a1e(0x865)](_0x2a22a4[_0x502a1e(0xa54)][_0x502a1e(0x7cb)]('.')+0x2)[_0x502a1e(0x847)]():_0x58821c[_0x502a1e(0x383)]=_0x2a22a4[_0x502a1e(0xa54)][_0x502a1e(0x865)](_0x2a22a4[_0x502a1e(0xa54)][_0x502a1e(0x7cb)]('.')+0x2)[_0x502a1e(0x847)]();}_0x5081e5&&(_0x5081e5['contentEditable']=![],_0x58821c[_0x502a1e(0x81e)]=_0x5081e5[_0x502a1e(0xa54)]);if(_0x358075){const _0x57cb2d=_0x358075[_0x502a1e(0x622)](_0x502a1e(0x3ef));if(_0x57cb2d){const _0x4e5d3f=_0x57cb2d[_0x502a1e(0x64b)](!![]);_0x4e5d3f['querySelectorAll'](_0x502a1e(0x3a4))['forEach'](_0x42fbb7=>_0x42fbb7[_0x502a1e(0x5b3)]()),_0x4e5d3f['querySelectorAll'](_0x502a1e(0x63e))['forEach'](_0x5c11b2=>{const _0x3aef0f=_0x502a1e;_0x5c11b2[_0x3aef0f(0x709)][_0x3aef0f(0x5b3)](_0x3aef0f(0xaa5)),_0x5c11b2['style'][_0x3aef0f(0xa26)]=_0x3aef0f(0x347),_0x5c11b2['removeAttribute']('id');}),_0x58821c[_0x502a1e(0x92b)]=_0x4e5d3f[_0x502a1e(0x7f5)],_0x57cb2d[_0x502a1e(0x764)](_0x502a1e(0x357),startDrag),_0x57cb2d[_0x502a1e(0x764)](_0x502a1e(0x491),drag),_0x57cb2d[_0x502a1e(0x764)](_0x502a1e(0x25e),endDrag),_0x57cb2d['removeEventListener'](_0x502a1e(0x718),endDrag),_0x57cb2d[_0x502a1e(0x764)](_0x502a1e(0x304),startDrag),_0x57cb2d['removeEventListener'](_0x502a1e(0x20d),drag),_0x57cb2d[_0x502a1e(0x764)](_0x502a1e(0xa90),endDrag),_0x57cb2d['removeEventListener'](_0x502a1e(0x3cf),endDrag),_0x57cb2d[_0x502a1e(0x764)]('click',handleSvgEditClick),_0x57cb2d[_0x502a1e(0xa58)]('.delete-svg-btn')[_0x502a1e(0x8e0)](_0x45a9c2=>_0x45a9c2[_0x502a1e(0x5b3)]()),_0x57cb2d[_0x502a1e(0xa58)](_0x502a1e(0x63e))['forEach'](_0x555a8f=>{const _0xd665d6=_0x502a1e;_0x555a8f[_0xd665d6(0x709)][_0xd665d6(0x5b3)](_0xd665d6(0xaa5)),_0x555a8f[_0xd665d6(0x38f)][_0xd665d6(0xa26)]=_0xd665d6(0x347);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2c679d){const _0x1f28d5=_0x712516,_0x358f9f=document[_0x1f28d5(0x7e1)](_0x1f28d5(0x553)),_0x3e450f=document['getElementById'](_0x1f28d5(0x37f));_0x3e450f[_0x1f28d5(0x519)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x358f9f['classList'][_0x1f28d5(0x5b3)](_0x1f28d5(0x984));try{const _0x55885e=doc(db,_0x1f28d5(0xade)+appId+_0x1f28d5(0x4b0),_0x2c679d),_0x3516ed=await getDoc(_0x55885e);if(!_0x3516ed[_0x1f28d5(0x23c)]())throw new Error(_0x1f28d5(0x8e6));currentEditingQuizData={'id':_0x2c679d,..._0x3516ed['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x1647c0){console['error'](_0x1f28d5(0x795),_0x1647c0),showMessage(_0x1f28d5(0x49e)),_0x358f9f[_0x1f28d5(0x709)][_0x1f28d5(0x484)](_0x1f28d5(0x984));}}function renderQuizEditor(_0x3ac61a){const _0x3b5ae1=_0x712516;document[_0x3b5ae1(0x7e1)](_0x3b5ae1(0x810))[_0x3b5ae1(0x848)]=_0x3ac61a['topic'];const _0x17b165=document[_0x3b5ae1(0x7e1)](_0x3b5ae1(0x37f));let _0xa9b466=_0x3ac61a['questions'][_0x3b5ae1(0x4b7)]((_0x3445e1,_0x348473)=>{const _0x276048=_0x3b5ae1;let _0x38398e='';const _0x16792e=_0x3445e1[_0x276048(0xad0)]||_0x3ac61a[_0x276048(0x817)];switch(_0x16792e){case _0x276048(0xaa4):const _0x587f81=(_0x3445e1[_0x276048(0x89f)]||[])[_0x276048(0x4b7)]((_0x5ddfc4,_0x1f085f)=>_0x276048(0x5d2)+_0x348473+_0x276048(0x408)+_0x1f085f+'\x22\x20'+(_0x1f085f===_0x3445e1[_0x276048(0x4d1)]?_0x276048(0x8ed):'')+_0x276048(0xa01)+_0x5ddfc4+_0x276048(0x856))[_0x276048(0x85c)]('');_0x38398e=_0x276048(0x991)+_0x587f81+_0x276048(0xa98);break;case _0x276048(0x344):_0x38398e=_0x276048(0x95f)+(_0x3445e1['idealAnswer']||'')+_0x276048(0x79a);break;case _0x276048(0x34b):_0x38398e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x348473+_0x276048(0x520)+(_0x3445e1[_0x276048(0xa24)]===!![]?_0x276048(0x8ed):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x348473+'\x22\x20value=\x22false\x22\x20'+(_0x3445e1['correctAnswer']===![]?_0x276048(0x8ed):'')+_0x276048(0x3a8);break;case'matching_item':_0x38398e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x3445e1[_0x276048(0x1f2)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x40b60c=_0x3445e1[_0x276048(0x383)]||_0x3445e1[_0x276048(0x20f)]||'';return _0x276048(0xa3f)+_0x348473+'\x22\x20data-q-type=\x22'+_0x16792e+_0x276048(0x705)+(_0x348473+0x1)+'\x20('+_0x16792e+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x40b60c+_0x276048(0x6d1)+_0x38398e+'</div>\x0a</div>\x0a';})[_0x3b5ae1(0x85c)]('');_0x17b165[_0x3b5ae1(0x519)]=_0xa9b466,_0x17b165[_0x3b5ae1(0xa58)](_0x3b5ae1(0x667))['forEach'](_0x2264d5=>{const _0x54120e=_0x3b5ae1;_0x2264d5['addEventListener'](_0x54120e(0x66f),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x235de7){const _0x4b9342=_0x712516,_0x510814=_0x235de7[_0x4b9342(0x973)],_0x31201f=_0x510814[_0x4b9342(0x56d)](_0x4b9342(0x391));if(!_0x31201f)return;const _0x54cde5=parseInt(_0x31201f[_0x4b9342(0x478)][_0x4b9342(0x331)],0xa);if(isNaN(_0x54cde5)||!currentEditingQuizData[_0x4b9342(0x2f6)][_0x54cde5]){showMessage(_0x4b9342(0x433));return;}const _0x4de34e=currentEditingQuizData[_0x4b9342(0x2f6)][_0x54cde5];_0x510814[_0x4b9342(0x519)]=_0x4b9342(0x7a1),_0x510814[_0x4b9342(0xab8)]=!![];const _0x3070c2=_0x4b9342(0x7de)+JSON[_0x4b9342(0x44c)](_0x4de34e)+_0x4b9342(0x56b);let _0x55d73d;const _0x4a542a=_0x4de34e[_0x4b9342(0xad0)]||currentEditingQuizData[_0x4b9342(0x817)];switch(_0x4a542a){case _0x4b9342(0x344):_0x55d73d={'type':'OBJECT','properties':{'questionText':{'type':_0x4b9342(0x208)},'idealAnswer':{'type':_0x4b9342(0x208)},'explanation':{'type':_0x4b9342(0x208)},'imageCode':{'type':_0x4b9342(0x208)}},'required':[_0x4b9342(0x383),_0x4b9342(0x63a),_0x4b9342(0x81e)]};break;case'multiple_choice':default:_0x55d73d={'type':_0x4b9342(0xa18),'properties':{'questionText':{'type':_0x4b9342(0x208)},'options':{'type':'ARRAY','items':{'type':_0x4b9342(0x208)}},'correctAnswerIndex':{'type':_0x4b9342(0x6d8)},'explanation':{'type':_0x4b9342(0x208)},'imageCode':{'type':_0x4b9342(0x208)}},'required':[_0x4b9342(0x383),'options','correctAnswerIndex',_0x4b9342(0x81e)]};break;}try{let _0x3674ba=await callAnalysisApi(_0x3070c2,_0x55d73d);_0x3674ba[_0x4b9342(0x89f)]&&Array[_0x4b9342(0x45d)](_0x3674ba[_0x4b9342(0x89f)])&&(_0x3674ba[_0x4b9342(0x89f)]=_0x3674ba[_0x4b9342(0x89f)][_0x4b9342(0x4b7)](_0x4e09d6=>typeof _0x4e09d6===_0x4b9342(0x80a)?_0x4e09d6[_0x4b9342(0x59e)](/S(\s*[\d_]+?\s*)S/g,_0x4b9342(0x7c3)):_0x4e09d6)),_0x4de34e[_0x4b9342(0x92b)]&&_0x4de34e[_0x4b9342(0x92b)][_0x4b9342(0x29d)](_0x4b9342(0x48d))&&(_0x3674ba['imageCode']=''),currentEditingQuizData[_0x4b9342(0x2f6)][_0x54cde5]={..._0x4de34e,..._0x3674ba},renderQuizEditor(currentEditingQuizData),showMessage(_0x4b9342(0x678));}catch(_0x55c1f4){console[_0x4b9342(0x7e3)](_0x4b9342(0x8ca),_0x55c1f4),showMessage(_0x4b9342(0x585)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1b9b2c=_0x712516,_0x350461=document[_0x1b9b2c(0x7e1)]('save-quiz-edits-btn');_0x350461[_0x1b9b2c(0xab8)]=!![],_0x350461[_0x1b9b2c(0x519)]=_0x1b9b2c(0xa66);try{const _0x106894=document[_0x1b9b2c(0x7e1)](_0x1b9b2c(0x810))[_0x1b9b2c(0x848)],_0x2e473f=document[_0x1b9b2c(0xa58)]('.question-editor-item');let _0x42d1b5=[];const _0xc6fd42=Array[_0x1b9b2c(0x972)](_0x2e473f)[_0x1b9b2c(0x4b7)]((_0x263ff5,_0x5af748)=>{const _0x46a541=_0x1b9b2c,_0x459b41=_0x263ff5['dataset'][_0x46a541(0x330)],_0x3f12c4=_0x263ff5[_0x46a541(0x622)](_0x46a541(0x951))['value'];let _0x42a141={'questionType':_0x459b41};const _0x270ffc=currentEditingQuizData[_0x46a541(0x2f6)][_0x5af748];switch(_0x459b41){case'multiple_choice':_0x42a141[_0x46a541(0x383)]=_0x3f12c4;const _0x11a33d=_0x263ff5['querySelectorAll']('input[type=\x22text\x22]');_0x42a141[_0x46a541(0x89f)]=Array['from'](_0x11a33d)[_0x46a541(0x4b7)](_0x2644ab=>_0x2644ab[_0x46a541(0x848)]);const _0x3f9046=_0x263ff5[_0x46a541(0x622)]('input[type=\x22radio\x22]:checked');_0x42a141[_0x46a541(0x4d1)]=_0x3f9046?parseInt(_0x3f9046[_0x46a541(0x848)]):0x0;break;case _0x46a541(0x344):_0x42a141[_0x46a541(0x383)]=_0x3f12c4,_0x42a141[_0x46a541(0x63a)]=_0x263ff5[_0x46a541(0x622)]('.ideal-answer-input')[_0x46a541(0x848)];break;case _0x46a541(0x34b):_0x42a141['questionText']=_0x3f12c4;const _0x5ae0de=_0x263ff5['querySelector'](_0x46a541(0x905));_0x42a141[_0x46a541(0xa24)]=_0x5ae0de?_0x5ae0de[_0x46a541(0x848)]==='true':!![];break;case _0x46a541(0x476):_0x42a141['stem']=_0x3f12c4;const _0xef71b=_0x263ff5[_0x46a541(0x622)](_0x46a541(0xa31));_0x42a141[_0x46a541(0x1f2)]=_0xef71b?_0xef71b['value']:'',_0x42d1b5[_0x46a541(0x95b)](_0x42a141[_0x46a541(0x1f2)]);break;default:_0x42a141[_0x46a541(0x383)]=_0x3f12c4;break;}return{..._0x270ffc,..._0x42a141};});_0x42d1b5['length']>0x0&&_0xc6fd42[_0x1b9b2c(0x8e0)](_0x4d709b=>{const _0x12dfa3=_0x1b9b2c;_0x4d709b['questionType']===_0x12dfa3(0x476)&&(_0x4d709b['allResponses']=_0x42d1b5);});const _0x240f5f=currentEditingQuizData['id'],_0x5ca8f7=doc(db,_0x1b9b2c(0xade)+appId+_0x1b9b2c(0x4b0),_0x240f5f);await updateDoc(_0x5ca8f7,{'topic':_0x106894,'questions':_0xc6fd42}),document[_0x1b9b2c(0x7e1)](_0x1b9b2c(0x553))[_0x1b9b2c(0x709)]['add'](_0x1b9b2c(0x984)),showMessage(_0x1b9b2c(0x326),()=>initiateReGradeProcess(_0x240f5f));}catch(_0x3c721c){console[_0x1b9b2c(0x7e3)](_0x1b9b2c(0x8b7),_0x3c721c),showMessage(_0x1b9b2c(0xa6e));}finally{_0x350461['disabled']=![],_0x350461[_0x1b9b2c(0x519)]=_0x1b9b2c(0xb19);}}async function initiateReGradeProcess(_0x4a47fc){const _0x35df43=_0x712516;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x1fffaf=doc(db,_0x35df43(0xade)+appId+_0x35df43(0x4b0),_0x4a47fc),_0x12b5ed=await getDoc(_0x1fffaf);if(!_0x12b5ed[_0x35df43(0x23c)]())throw new Error(_0x35df43(0x96a));const _0x4d3c4e={'id':_0x4a47fc,..._0x12b5ed[_0x35df43(0x4fb)]()},_0x1e2881=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x4a47fc,_0x35df43(0x213)),_0x3a677c=await getDocs(_0x1e2881);if(_0x3a677c[_0x35df43(0x47c)]){showMessage(_0x35df43(0x24f));return;}const _0x45dd33=_0x3a677c['docs'][_0x35df43(0x4b7)](_0x1edee9=>reGradeSingleSubmission(_0x1edee9,_0x4d3c4e));await Promise['all'](_0x45dd33);if(_0x4d3c4e[_0x35df43(0x243)]){const _0x45cad7=doc(db,_0x35df43(0xade)+appId+'/public/data/projects',_0x4d3c4e[_0x35df43(0x243)]),_0x2463de=await getDoc(_0x45cad7);if(_0x2463de['exists']()&&_0x2463de[_0x35df43(0x4fb)]()[_0x35df43(0xa29)]){const _0x3cb7f0=_0x2463de[_0x35df43(0x4fb)]()[_0x35df43(0xa29)]['map'](_0x4dacb3=>updateStudentProfile(_0x4d3c4e[_0x35df43(0x243)],_0x4dacb3));await Promise[_0x35df43(0x2e1)](_0x3cb7f0);}}showMessage(_0x35df43(0x7f7)+_0x3a677c['size']+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x449683){console['error'](_0x35df43(0x47d),_0x449683),showMessage(_0x35df43(0x2b9)+_0x449683[_0x35df43(0x7e4)]);}}async function reGradeSingleSubmission(_0x451856,_0x3d882d){const _0x48e092=_0x712516,_0x565a8a=_0x451856[_0x48e092(0x4fb)](),_0x86159c=_0x565a8a[_0x48e092(0x4ed)],_0x24e070=_0x565a8a[_0x48e092(0x5ae)]||[],_0x5b1a41=[];for(const _0x591606 of _0x24e070){let _0x4c3435=0x0,_0x1b1562=[],_0x295b65=0x0;const _0x23f559=[];for(const _0x1ecad4 of _0x591606[_0x48e092(0xb13)]){let _0x124967;_0x1ecad4[_0x48e092(0x472)]&&(_0x124967=_0x3d882d[_0x48e092(0x2f6)]['find'](_0x575d4f=>_0x575d4f['id']===_0x1ecad4[_0x48e092(0x472)]));!_0x124967&&_0x1ecad4[_0x48e092(0x7bc)]&&(_0x124967=_0x3d882d[_0x48e092(0x2f6)][_0x48e092(0xafd)](_0x2c9b82=>(_0x2c9b82['stem']||_0x2c9b82[_0x48e092(0x383)])===_0x1ecad4[_0x48e092(0x7bc)]));let _0x3a99b9=![];if(_0x124967){const _0x51af53=_0x124967[_0x48e092(0xad0)]||_0x3d882d['quizType'];switch(_0x51af53){case'multiple_choice':if(_0x124967[_0x48e092(0x89f)]&&_0x124967['correctAnswerIndex']<_0x124967['options']['length']){const _0x74eb4e=_0x124967['options'][_0x124967[_0x48e092(0x4d1)]];_0x3a99b9=_0x1ecad4[_0x48e092(0x797)]===_0x74eb4e;}break;case _0x48e092(0x34b):const _0x15c6ea=_0x1ecad4[_0x48e092(0x8ea)]===!![]||_0x1ecad4[_0x48e092(0x8ea)]===_0x48e092(0xa46);_0x3a99b9=_0x15c6ea===_0x124967['correctAnswer'];break;case _0x48e092(0x476):_0x3a99b9=_0x1ecad4[_0x48e092(0x8ea)]===_0x124967['correctResponse'];break;case _0x48e092(0x344):_0x3a99b9=await gradeShortAnswer(_0x1ecad4[_0x48e092(0x8ea)],_0x124967);break;default:_0x3a99b9=_0x1ecad4['isCorrect'];break;}}if(_0x3a99b9){_0x4c3435++,_0x295b65++;if(_0x295b65===0x3)_0x1b1562['push'](BADGES['ON_FIRE']['id']);}else _0x295b65=0x0;_0x23f559['push']({..._0x1ecad4,'isCorrect':_0x3a99b9});}let _0x2b8086=_0x4c3435*0xa;_0x4c3435===_0x3d882d[_0x48e092(0x2f6)][_0x48e092(0x88b)]&&(_0x2b8086+=0x32,_0x1b1562[_0x48e092(0x95b)](BADGES[_0x48e092(0xab6)]['id'])),_0x5b1a41[_0x48e092(0x95b)]({..._0x591606,'score':_0x4c3435,'points':_0x2b8086,'badges':Array[_0x48e092(0x972)](new Set(_0x1b1562)),'answers':_0x23f559});}const _0x402e99=_0x5b1a41[_0x48e092(0x88b)]>0x0?_0x5b1a41[0x0][_0x48e092(0x634)]:0x0,_0x28ec05=Math[_0x48e092(0xa7d)](..._0x5b1a41[_0x48e092(0x4b7)](_0x337baf=>_0x337baf['score'])),_0x16c354=_0x5b1a41[_0x48e092(0x88b)]>0x0?_0x5b1a41[_0x5b1a41[_0x48e092(0x88b)]-0x1][_0x48e092(0x634)]:0x0,_0x5bd5b7=_0x5b1a41['length']>0x0?_0x5b1a41[_0x5b1a41[_0x48e092(0x88b)]-0x1]['points']:0x0,_0x19e9d1=doc(db,_0x48e092(0xade)+appId+_0x48e092(0x8a4)+_0x3d882d['id']+_0x48e092(0x437),_0x86159c);await updateDoc(_0x19e9d1,{'attempts':_0x5b1a41,'firstScore':_0x402e99,'bestScore':_0x28ec05,'latestScore':_0x16c354,'points':_0x5bd5b7});}function cleanupQuizOptions(_0x536a54){const _0x43f38b=_0x712516,_0x5b217b=(_0x551af6,_0x51bac0)=>_0x51bac0===0x0?_0x551af6:_0x5b217b(_0x51bac0,_0x551af6%_0x51bac0),_0x5c98c5=_0x46bfba=>{const _0xa5b6e0=_0x158c;if(typeof _0x46bfba!==_0xa5b6e0(0x80a))return null;_0x46bfba=_0x46bfba[_0xa5b6e0(0x847)]();const _0x11933f=_0x46bfba[_0xa5b6e0(0x9c2)](/[ /]/)[_0xa5b6e0(0xa4a)](_0x255c0c=>_0x255c0c!=='');if(_0x11933f[_0xa5b6e0(0x88b)]===0x3)return parseInt(_0x11933f[0x0])+parseInt(_0x11933f[0x1])/parseInt(_0x11933f[0x2]);else{if(_0x11933f[_0xa5b6e0(0x88b)]===0x2)return parseInt(_0x11933f[0x0])/parseInt(_0x11933f[0x1]);else{if(_0x11933f[_0xa5b6e0(0x88b)]===0x1&&!isNaN(_0x11933f[0x0]))return parseFloat(_0x11933f[0x0]);}}return null;},_0x22d22b=_0x7198a=>{const _0x32cef4=_0x158c;if(typeof _0x7198a!==_0x32cef4(0x80a))return _0x7198a;const _0x202018=_0x7198a[_0x32cef4(0x820)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x202018){const _0x273232=parseInt(_0x202018[0x1]);let _0x37758e=parseInt(_0x202018[0x2]),_0x50d97c=parseInt(_0x202018[0x3]);const _0x3f7559=_0x5b217b(_0x37758e,_0x50d97c);_0x37758e/=_0x3f7559,_0x50d97c/=_0x3f7559;if(_0x50d97c===0x1)return(_0x273232+_0x37758e)[_0x32cef4(0x431)]();return _0x273232+'\x20'+_0x37758e+'/'+_0x50d97c;}return _0x7198a;};return _0x536a54&&_0x536a54['questions']&&_0x536a54[_0x43f38b(0x2f6)]['forEach'](_0x1ae01e=>{const _0x17174a=_0x43f38b;if(_0x1ae01e[_0x17174a(0xad0)]===_0x17174a(0xaa4)&&_0x1ae01e[_0x17174a(0x89f)]){const _0x17e23c=new Map(),_0x26f13d=_0x1ae01e[_0x17174a(0x89f)][_0x1ae01e['correctAnswerIndex']];_0x1ae01e[_0x17174a(0x89f)][_0x17174a(0x8e0)](_0x1ed5e7=>{const _0x48c86c=_0x17174a,_0x54e26d=_0x22d22b(_0x1ed5e7),_0xfa7355=_0x5c98c5(_0x54e26d);_0xfa7355!==null&&!_0x17e23c[_0x48c86c(0x535)](_0xfa7355)&&_0x17e23c[_0x48c86c(0x679)](_0xfa7355,_0x54e26d);}),_0x1ae01e[_0x17174a(0x89f)]=Array['from'](_0x17e23c['values']());const _0x20f4fa=_0x1ae01e[_0x17174a(0x89f)][_0x17174a(0xb1c)](_0x38528f=>_0x38528f===_0x22d22b(_0x26f13d));_0x1ae01e[_0x17174a(0x4d1)]=_0x20f4fa!==-0x1?_0x20f4fa:0x0;}}),_0x536a54;}function showGameStartConfirmationModal(_0x37c0b1,_0x14d21d,_0x46b14f){const _0x3e00d0=_0x712516,_0x3c4aed=document['getElementById'](_0x3e00d0(0x25c));document[_0x3e00d0(0x7e1)](_0x3e00d0(0x73c))[_0x3e00d0(0x8b8)]=_0x3e00d0(0x9ac)+_0x46b14f,document['getElementById']('game-start-quiz-id')['value']=_0x37c0b1,document[_0x3e00d0(0x7e1)](_0x3e00d0(0xa96))[_0x3e00d0(0x848)]=_0x14d21d,document[_0x3e00d0(0x7e1)]('save-game-results-checkbox')[_0x3e00d0(0x8ed)]=!![],_0x3c4aed[_0x3e00d0(0x709)][_0x3e00d0(0x5b3)](_0x3e00d0(0x984));}async function saveGameResultsAsSubmissions(_0xf25123){const _0xa75097=_0x712516;console[_0xa75097(0xa87)](_0xa75097(0xb09),_0xf25123);const _0x42a10e=_0xf25123[_0xa75097(0x351)];let _0x213972=[];if(_0xf25123['players'])_0x213972=Object[_0xa75097(0x90d)](_0xf25123[_0xa75097(0x3b0)])['map'](([_0x154af7,_0x25b667])=>({'name':_0x154af7,..._0x25b667}));else{if(_0xf25123[_0xa75097(0x381)])Object[_0xa75097(0x48c)](_0xf25123['groups'])[_0xa75097(0x8e0)](_0x4e9b09=>{const _0x2d7d0e=_0xa75097;_0x4e9b09[_0x2d7d0e(0x931)][_0x2d7d0e(0x8e0)](_0x529553=>{const _0x1f9d26=_0x2d7d0e;_0x213972[_0x1f9d26(0x95b)]({'name':_0x529553,'score':_0x4e9b09[_0x1f9d26(0x634)]});});});else _0xf25123[_0xa75097(0x77c)]&&Object[_0xa75097(0x90d)](_0xf25123[_0xa75097(0x77c)])[_0xa75097(0x8e0)](([_0x13ca29,_0x39717c])=>{const _0x4ef8f0=_0xa75097;_0x213972[_0x4ef8f0(0x95b)]({'name':_0x13ca29,..._0x39717c});});}if(_0x213972[_0xa75097(0x88b)]===0x0){console['log'](_0xa75097(0x6e5));return;}const _0x2d49c3=_0xf25123[_0xa75097(0x891)]?.[_0xa75097(0x2f6)]['length']||currentQuizData[_0xa75097(0x2f6)]['length'],_0x355e97=writeBatch(db);for(const _0x3dd7c6 of _0x213972){const _0x18ae7b=_0x3dd7c6[_0xa75097(0x634)]||0x0,_0x5856b4=doc(db,_0xa75097(0xade)+appId+_0xa75097(0x8a4)+_0x42a10e+'/submissions',_0x3dd7c6[_0xa75097(0x4ad)]),_0x2f4812={'score':_0x18ae7b,'points':_0x18ae7b*0xa,'badges':_0x3dd7c6[_0xa75097(0x38e)]||[],'submittedAt':new Date()[_0xa75097(0x783)](),'answers':(_0x3dd7c6['answers']||[])[_0xa75097(0x4b7)](_0x2e7e80=>({'questionId':_0x2e7e80[_0xa75097(0x472)],'answer':_0x2e7e80[_0xa75097(0x8ea)],'answerText':_0x2e7e80[_0xa75097(0x797)],'isCorrect':_0x2e7e80[_0xa75097(0xa3c)],'originalQuestionText':_0x2e7e80['originalQuestionText']}))},_0xb164cf=await getDoc(_0x5856b4),_0x3d175b=_0xb164cf['exists']()?_0xb164cf[_0xa75097(0x4fb)]():{},_0x448ef5=_0x3d175b[_0xa75097(0x3d0)]||0x0,_0x4b285b=_0x3d175b[_0xa75097(0x5ae)]||[],_0xa540f7={'studentName':_0x3dd7c6[_0xa75097(0x4ad)],'totalQuestions':_0x2d49c3,'attempts':arrayUnion(_0x2f4812),'latestScore':_0x18ae7b,'latestSubmittedAt':_0x2f4812['submittedAt'],'bestScore':Math[_0xa75097(0xa7d)](_0x448ef5,_0x18ae7b),'firstScore':_0x4b285b[_0xa75097(0x88b)]===0x0?_0x18ae7b:_0x3d175b['firstScore']||0x0};_0x355e97[_0xa75097(0x679)](_0x5856b4,_0xa540f7,{'merge':!![]});}try{await _0x355e97[_0xa75097(0x80f)](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x213972[_0xa75097(0x88b)]+'\x20รายการ\x20สำเร็จ!');const _0x4527fb=_0xf25123[_0xa75097(0x891)]?.[_0xa75097(0x243)]||currentQuizData?.[_0xa75097(0x243)]||currentProjectId;if(_0x4527fb){const _0x29095e=[...new Set(_0x213972[_0xa75097(0x4b7)](_0x233e34=>_0x233e34[_0xa75097(0x4ad)]))];for(const _0x873717 of _0x29095e){await updateStudentProfile(_0x4527fb,_0x873717);}}}catch(_0x2b6c53){console[_0xa75097(0x7e3)](_0xa75097(0x7b0),_0x2b6c53),showMessage(_0xa75097(0x693));}}async function saveQuiz(){const _0x370150=_0x712516;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x475695=document[_0x370150(0x7e1)](_0x370150(0x3d5));_0x475695[_0x370150(0xab8)]=!![],_0x475695[_0x370150(0x519)]=_0x370150(0xa66);const _0x55205f=document[_0x370150(0x7e1)](_0x370150(0x4b2))['checked'];let _0x483c3f=document[_0x370150(0x7e1)]('editable-quiz-topic')['innerText'][_0x370150(0x847)]();_0x55205f&&!_0x483c3f[_0x370150(0x489)](_0x370150(0x6a1))&&(_0x483c3f=_0x370150(0x333)+_0x483c3f);try{const _0xe5bf49={'resultsDisplay':document['getElementById']('results-display-select')[_0x370150(0x848)],'shuffle':document['getElementById'](_0x370150(0x55a))[_0x370150(0x848)],'timerMode':document[_0x370150(0x7e1)](_0x370150(0x462))[_0x370150(0x848)],'timerDuration':parseInt(document[_0x370150(0x7e1)](_0x370150(0xa23))[_0x370150(0x848)])||0xa,'passingScore':parseInt(document['getElementById'](_0x370150(0x731))[_0x370150(0x848)])||0x0,'isAdaptive':document[_0x370150(0x7e1)](_0x370150(0xa71))['checked'],'loopUntilPass':document['getElementById'](_0x370150(0x605))['checked']},_0x1e9878=(currentQuizData['questions']||[])[_0x370150(0x4b7)]((_0x239f13,_0x43c027)=>{const _0x2d7c85=_0x370150,_0x8b354d=document['getElementById'](_0x2d7c85(0x5da))['value'],_0x551aec={'id':'q_'+Date[_0x2d7c85(0x8a2)]()+'_'+_0x43c027,'questionText':_0x239f13[_0x2d7c85(0x383)]||'','explanation':_0x239f13[_0x2d7c85(0x81e)]||_0x2d7c85(0x576),'questionType':_0x239f13['questionType']||_0x8b354d,'imageCode':_0x239f13[_0x2d7c85(0x92b)]||null};return(_0x551aec['questionType']===_0x2d7c85(0xaa4)||_0x551aec[_0x2d7c85(0xad0)]===_0x2d7c85(0x21c)||_0x551aec[_0x2d7c85(0xad0)]==='mixed'&&_0x239f13[_0x2d7c85(0x89f)])&&(_0x551aec[_0x2d7c85(0x89f)]=_0x239f13[_0x2d7c85(0x89f)]||[],_0x551aec[_0x2d7c85(0x4d1)]=_0x239f13[_0x2d7c85(0x4d1)]!==undefined?_0x239f13[_0x2d7c85(0x4d1)]:0x0),(_0x551aec[_0x2d7c85(0xad0)]===_0x2d7c85(0x344)||_0x551aec['questionType']===_0x2d7c85(0xb16)||_0x551aec['questionType']===_0x2d7c85(0x682)&&_0x239f13[_0x2d7c85(0x63a)])&&(_0x551aec[_0x2d7c85(0x63a)]=_0x239f13[_0x2d7c85(0x63a)]||''),_0x551aec[_0x2d7c85(0xad0)]===_0x2d7c85(0x34b)&&(_0x551aec[_0x2d7c85(0xa24)]=_0x239f13[_0x2d7c85(0xa24)]===!![]),_0x551aec[_0x2d7c85(0xad0)]==='matching_item'&&(_0x551aec[_0x2d7c85(0x20f)]=_0x239f13[_0x2d7c85(0x20f)]||'',_0x551aec[_0x2d7c85(0x1f2)]=_0x239f13[_0x2d7c85(0x1f2)]||'',_0x551aec[_0x2d7c85(0xa5c)]=_0x239f13['allResponses']||[]),_0x551aec;}),_0x170be0={'topic':_0x483c3f,'quizType':currentQuizData['quizType']||_0x370150(0xaa4),'questions':_0x1e9878,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x370150(0x783)](),'status':_0x370150(0x2e2),'settings':_0xe5bf49,'quizMode':_0x55205f?_0x370150(0x71c):_0x370150(0x8cd),'pairedQuizId':null,'lessonPlan':null};let _0x2f9167;while(!![]){_0x2f9167=Math[_0x370150(0xa67)](0x3e8+Math[_0x370150(0x658)]()*0x2328)['toString']();const _0xc63bd7=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2f9167));if(!_0xc63bd7[_0x370150(0x23c)]())break;}await setDoc(doc(db,_0x370150(0xade)+appId+_0x370150(0x4b0),_0x2f9167),_0x170be0),currentQuizData[_0x370150(0x9c9)]=_0xe5bf49,currentQuizData['id']=_0x2f9167;const _0x18bb02=document[_0x370150(0x7e1)](_0x370150(0x741));_0x18bb02[_0x370150(0x519)]=_0x370150(0x490)+_0x2f9167+_0x370150(0xaba),document[_0x370150(0x7e1)](_0x370150(0x753))['addEventListener']('click',()=>copyTextToClipboard(_0x2f9167,_0x370150(0xaf1))),document[_0x370150(0x7e1)](_0x370150(0x247))['addEventListener']('click',()=>handleStartLiveRace(_0x2f9167)),document[_0x370150(0x7e1)]('start-presentation-btn')[_0x370150(0x996)](_0x370150(0x66f),()=>startPresentation(currentQuizData)),document[_0x370150(0x7e1)](_0x370150(0x5a3))['addEventListener'](_0x370150(0x66f),startAdminTest),showMessage(_0x370150(0x56a));}catch(_0xdc6505){console[_0x370150(0x7e3)](_0x370150(0x20a),_0xdc6505),showMessage(_0x370150(0x418)),_0x475695[_0x370150(0xab8)]=![],_0x475695[_0x370150(0x519)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x3f6495=_0x712516,_0x534ad1=document[_0x3f6495(0x7e1)](_0x3f6495(0x570)),_0x2051f3=document['getElementById'](_0x3f6495(0x70d)),_0x519791=_0x534ad1[_0x3f6495(0x622)]('h3'),_0x4adca8=document[_0x3f6495(0x7e1)](_0x3f6495(0xaf0));_0x519791['textContent']=_0x3f6495(0x363),_0x4adca8[_0x3f6495(0x8b8)]=_0x3f6495(0x55b);allProjects[_0x3f6495(0x88b)]===0x0?(_0x2051f3['innerHTML']=_0x3f6495(0x794),_0x4adca8[_0x3f6495(0xab8)]=!![]):(_0x2051f3[_0x3f6495(0x519)]=allProjects[_0x3f6495(0x4b7)](_0x4bfeac=>'<option\x20value=\x22'+_0x4bfeac['id']+'\x22>'+_0x4bfeac[_0x3f6495(0x567)]+_0x3f6495(0xa85))[_0x3f6495(0x85c)](''),_0x4adca8[_0x3f6495(0xab8)]=![]);_0x534ad1[_0x3f6495(0x709)][_0x3f6495(0x5b3)]('hidden');const _0x14f6d1=()=>{const _0x37ff84=_0x3f6495,_0x2aaf58=_0x2051f3[_0x37ff84(0x848)];_0x2aaf58?(currentProjectId=_0x2aaf58,_0x534ad1[_0x37ff84(0x709)][_0x37ff84(0x484)](_0x37ff84(0x984)),saveQuiz(),_0x519791['textContent']=_0x37ff84(0x8c6),_0x4adca8['textContent']=_0x37ff84(0x9f6),_0x4adca8[_0x37ff84(0x764)](_0x37ff84(0x66f),_0x14f6d1),_0x4adca8[_0x37ff84(0x996)](_0x37ff84(0x66f),confirmMoveQuiz)):showMessage(_0x37ff84(0x3ae));};_0x4adca8['removeEventListener'](_0x3f6495(0x66f),confirmMoveQuiz),_0x4adca8['addEventListener'](_0x3f6495(0x66f),_0x14f6d1);}function copyTextToClipboard(_0x49e756,_0x152404){const _0x1c8cc2=_0x712516,_0x4fc724=document['createElement'](_0x1c8cc2(0x951));_0x4fc724[_0x1c8cc2(0x848)]=_0x49e756,_0x4fc724[_0x1c8cc2(0x38f)][_0x1c8cc2(0xa91)]=_0x1c8cc2(0x47a),_0x4fc724[_0x1c8cc2(0x38f)][_0x1c8cc2(0x22e)]='0',document[_0x1c8cc2(0x837)]['appendChild'](_0x4fc724),_0x4fc724[_0x1c8cc2(0x216)](),_0x4fc724[_0x1c8cc2(0x2a2)]();try{const _0x45d30a=document['execCommand'](_0x1c8cc2(0x99f));showMessage(_0x45d30a?_0x152404:'คัดลอกไม่สำเร็จ');}catch(_0x5ddb0b){showMessage(_0x1c8cc2(0x35f)),console[_0x1c8cc2(0x7e3)]('Copy\x20command\x20failed',_0x5ddb0b);}document[_0x1c8cc2(0x837)][_0x1c8cc2(0x9a4)](_0x4fc724);}function listenForProjectQuizzes(_0x29bf20){const _0x2270d2=_0x712516,_0x1a9355=collection(db,_0x2270d2(0xade)+appId+_0x2270d2(0x4b0)),_0x116187=query(_0x1a9355,where(_0x2270d2(0x243),'==',_0x29bf20));unsubscribeQuizzesListener=onSnapshot(_0x116187,async _0x2f7f0f=>{const _0xe5ee96=_0x2270d2;allQuizzes=_0x2f7f0f[_0xe5ee96(0xa6a)][_0xe5ee96(0x4b7)](_0x250ead=>({'id':_0x250ead['id'],..._0x250ead['data']()})),renderQuizzes();},_0x71a003=>{const _0x1ea70f=_0x2270d2;console[_0x1ea70f(0x7e3)]('Error\x20fetching\x20project\x20quizzes:',_0x71a003),document[_0x1ea70f(0x7e1)](_0x1ea70f(0x4cb))['innerHTML']=_0x1ea70f(0x3f7);});}async function renderQuizzes(){const _0x2f6ad3=_0x712516,_0x142edd=document['getElementById'](_0x2f6ad3(0x4cb)),_0x532b54=document[_0x2f6ad3(0x7e1)](_0x2f6ad3(0x5b8))[_0x2f6ad3(0x848)][_0x2f6ad3(0xaec)]();let _0x94f256;currentProjectId===_0x2f6ad3(0xa3a)?_0x94f256=starredQuizzes:_0x94f256=allQuizzes;let _0x274cad=_0x94f256[_0x2f6ad3(0xa4a)](_0x15cb00=>_0x15cb00[_0x2f6ad3(0x9b8)][_0x2f6ad3(0xaec)]()['includes'](_0x532b54));_0x274cad[_0x2f6ad3(0x778)]((_0x597bca,_0x422bf8)=>new Date(_0x422bf8[_0x2f6ad3(0x37c)])-new Date(_0x597bca[_0x2f6ad3(0x37c)]));if(_0x274cad[_0x2f6ad3(0x88b)]===0x0){_0x142edd['innerHTML']=_0x2f6ad3(0x1f0);return;}const _0xbbd46d={},_0x5e051f=_0x274cad[_0x2f6ad3(0x4b7)](async _0x29ede1=>{const _0x18eeaf=_0x2f6ad3,_0x199a9a=collection(db,'artifacts/'+appId+_0x18eeaf(0x8a4)+_0x29ede1['id']+_0x18eeaf(0x437)),_0x122db1=await getDocs(_0x199a9a);_0xbbd46d[_0x29ede1['id']]=_0x122db1['size'];});await Promise['all'](_0x5e051f);let _0x2ba65a='';_0x274cad[_0x2f6ad3(0x8e0)](_0x26c8c1=>{const _0x57b7a9=_0x2f6ad3,_0x56ec6e=_0xbbd46d[_0x26c8c1['id']]||0x0,_0x41cceb=_0x26c8c1[_0x57b7a9(0x407)]||_0x57b7a9(0x2e2),_0x955f09=_0x26c8c1[_0x57b7a9(0x9c9)]?.['timerMode']||_0x57b7a9(0x994);let _0x170acd='',_0x5eb772='';const _0x3b41db=new Date();let _0x3d62bf=_0x41cceb;if(_0x41cceb===_0x57b7a9(0x6b2)){const _0x213ef2=_0x26c8c1[_0x57b7a9(0x84e)]?new Date(_0x26c8c1[_0x57b7a9(0x84e)]):null,_0x29140b=_0x26c8c1['endTime']?new Date(_0x26c8c1[_0x57b7a9(0x74b)]):null;if(_0x29140b&&_0x3b41db>_0x29140b)_0x3d62bf=_0x57b7a9(0x516);else _0x213ef2&&_0x3b41db<_0x213ef2?_0x3d62bf=_0x57b7a9(0x59b):_0x3d62bf='active';}switch(_0x3d62bf){case _0x57b7a9(0x516):_0x170acd=_0x57b7a9(0xa0b),_0x5eb772=_0x57b7a9(0x627);break;case _0x57b7a9(0x59b):_0x170acd=_0x57b7a9(0x6b7),_0x5eb772=_0x57b7a9(0x297);break;case _0x57b7a9(0x2e2):_0x170acd=_0x955f09!=='none'?_0x57b7a9(0x374):_0x57b7a9(0x393),_0x5eb772='text-green-700\x20bg-green-100';break;default:_0x170acd=_0x57b7a9(0x3f9),_0x5eb772=_0x57b7a9(0x3c8);break;}let _0x14f327='';const _0x2f9d00={'day':_0x57b7a9(0x4f7),'month':_0x57b7a9(0x4f7),'year':_0x57b7a9(0x981),'hour':_0x57b7a9(0x4f7),'minute':_0x57b7a9(0x4f7),'hour12':![]};if(_0x41cceb===_0x57b7a9(0x6b2)){if(_0x26c8c1[_0x57b7a9(0x84e)])_0x14f327+=_0x57b7a9(0x293)+new Date(_0x26c8c1['startTime'])[_0x57b7a9(0x453)](_0x57b7a9(0x57f),_0x2f9d00)+_0x57b7a9(0x9ad);if(_0x26c8c1[_0x57b7a9(0x74b)])_0x14f327+=_0x57b7a9(0x276)+new Date(_0x26c8c1[_0x57b7a9(0x74b)])[_0x57b7a9(0x453)](_0x57b7a9(0x57f),_0x2f9d00)+_0x57b7a9(0x9ad);}let _0x1dbbf5='';if(_0x26c8c1[_0x57b7a9(0x2c1)]){const _0x467479=allQuizzes['find'](_0x51846d=>_0x51846d['id']===_0x26c8c1[_0x57b7a9(0x2c1)]);if(_0x467479){let _0x4f386b,_0x493ce7;new Date(_0x26c8c1[_0x57b7a9(0x37c)])<new Date(_0x467479[_0x57b7a9(0x37c)])?(_0x4f386b=_0x26c8c1['id'],_0x493ce7=_0x467479['id']):(_0x4f386b=_0x467479['id'],_0x493ce7=_0x26c8c1['id']),_0x1dbbf5+=_0x57b7a9(0x934)+_0x493ce7+_0x57b7a9(0x603)+_0x4f386b+_0x57b7a9(0x561);}}else _0x26c8c1[_0x57b7a9(0x55e)]===_0x57b7a9(0x71c)&&(_0x1dbbf5+=_0x57b7a9(0x759)+_0x26c8c1['id']+_0x57b7a9(0xa32));if(_0x26c8c1[_0x57b7a9(0x55e)]===_0x57b7a9(0x71c)&&_0x56ec6e>0x0)_0x1dbbf5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26c8c1['id']+_0x57b7a9(0x336);else!_0x26c8c1[_0x57b7a9(0x2c1)]&&_0x26c8c1[_0x57b7a9(0x55e)]!==_0x57b7a9(0x71c)&&_0x56ec6e>0x0&&(_0x1dbbf5+=_0x57b7a9(0x759)+_0x26c8c1['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x358a5d='';_0x26c8c1['pairedQuizId']?_0x358a5d=_0x57b7a9(0x286)+_0x26c8c1['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x358a5d='<button\x20data-quiz-id=\x22'+_0x26c8c1['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x2ba65a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x26c8c1['id']+_0x57b7a9(0x2a0)+_0x26c8c1[_0x57b7a9(0x9b8)]+_0x57b7a9(0xab4)+_0x26c8c1[_0x57b7a9(0x2f6)][_0x57b7a9(0x88b)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x26c8c1[_0x57b7a9(0x37c)])[_0x57b7a9(0x453)](_0x57b7a9(0x57f))+_0x57b7a9(0x2e3)+_0x56ec6e+_0x57b7a9(0x8a7)+_0x14f327+_0x57b7a9(0x4c9)+_0x5eb772+'\x22>'+_0x170acd+_0x57b7a9(0x699)+_0x26c8c1['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26c8c1['id']+_0x57b7a9(0x3e0)+(_0x26c8c1[_0x57b7a9(0x2a8)]?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0x57b7a9(0x29e)+_0x1dbbf5+_0x57b7a9(0x57e)+_0x26c8c1['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x26c8c1['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26c8c1['id']+_0x57b7a9(0x8ab)+_0x26c8c1['id']+_0x57b7a9(0x448)+_0x26c8c1['id']+_0x57b7a9(0x27b)+_0x26c8c1['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26c8c1['id']+_0x57b7a9(0x292)+_0x26c8c1[_0x57b7a9(0x9b8)]+_0x57b7a9(0x829)+_0x26c8c1['id']+_0x57b7a9(0x26e)+_0x26c8c1['id']+_0x57b7a9(0x3b5)+_0x358a5d+_0x57b7a9(0x7a2)+_0x26c8c1['id']+_0x57b7a9(0x896)+_0x26c8c1['id']+_0x57b7a9(0x348)+_0x26c8c1['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26c8c1['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26c8c1['id']+_0x57b7a9(0x91c)+_0x26c8c1['id']+_0x57b7a9(0x37e)+_0x26c8c1['id']+_0x57b7a9(0x62f)+_0x26c8c1['id']+_0x57b7a9(0x292)+_0x26c8c1[_0x57b7a9(0x9b8)]+_0x57b7a9(0x88e)+_0x26c8c1['id']+_0x57b7a9(0x946);}),_0x142edd['innerHTML']=_0x2ba65a,document[_0x2f6ad3(0xa58)](_0x2f6ad3(0x5e1))[_0x2f6ad3(0x8e0)](_0x1687e4=>{const _0x600ab9=_0x2f6ad3;_0x1687e4[_0x600ab9(0x996)](_0x600ab9(0x66f),()=>{const _0x537296=_0x600ab9,_0xe0992f=_0x1687e4[_0x537296(0x478)][_0x537296(0x351)];showQuizDetailView(_0xe0992f);});});}async function handleUnpairQuiz(_0x35505c){const _0x43b278=_0x712516,_0x3ebb88=allQuizzes[_0x43b278(0xafd)](_0x4f48bb=>_0x4f48bb['id']===_0x35505c);if(!_0x3ebb88||!_0x3ebb88[_0x43b278(0x2c1)]){showMessage(_0x43b278(0x557));return;}showConfirmation(_0x43b278(0x2c7),async()=>{const _0x39ed85=_0x43b278;try{const _0x10d6d5=doc(db,_0x39ed85(0xade)+appId+_0x39ed85(0x4b0),_0x35505c),_0x47b450=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3ebb88['pairedQuizId']),_0x50cdf7=writeBatch(db);_0x50cdf7[_0x39ed85(0xa37)](_0x10d6d5,{'pairedQuizId':null}),_0x50cdf7[_0x39ed85(0xa37)](_0x47b450,{'pairedQuizId':null}),await _0x50cdf7[_0x39ed85(0x80f)](),showMessage(_0x39ed85(0x559));}catch(_0x291b5c){console['error'](_0x39ed85(0x230),_0x291b5c),showMessage(_0x39ed85(0x7dd));}});}function formatAndPrintLessonPlan(_0x4c4381,_0x22b3c0){const _0x1b2012=_0x712516,_0x58362a=window[_0x1b2012(0x546)]('',_0x1b2012(0xb0d)),_0xa7ceec=_0x1b2012(0x42b)+_0x22b3c0[_0x1b2012(0x9b8)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x22b3c0[_0x1b2012(0x9b8)]+_0x1b2012(0x6c6)+_0x4c4381[_0x1b2012(0x51c)]['map'](_0x56adba=>'<li>'+_0x56adba+'</li>')['join']('')+_0x1b2012(0x96e)+_0x4c4381['teachingContent']+_0x1b2012(0xa9f)+_0x4c4381[_0x1b2012(0x5f2)][_0x1b2012(0x4b7)](_0x2b2ec2=>_0x1b2012(0xa02)+_0x2b2ec2[_0x1b2012(0x25a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x2b2ec2['solution']+_0x1b2012(0x41a))[_0x1b2012(0x85c)]('')+_0x1b2012(0x6c3);_0x58362a[_0x1b2012(0x57c)]['write'](_0xa7ceec),_0x58362a[_0x1b2012(0x57c)][_0x1b2012(0x9cd)](),_0x58362a['onload']=function(){setTimeout(()=>{const _0xd11281=_0x158c;_0x58362a[_0xd11281(0xb0f)]();},0x3e8);};}async function handleAiFixFormula(_0x552a30){const _0x36ce21=_0x712516,_0x376f21=document[_0x36ce21(0x622)](_0x36ce21(0x8da)+_0x552a30+'\x22]');if(!_0x376f21)return;const _0x35b592=_0x376f21[_0x36ce21(0x478)][_0x36ce21(0x330)],_0x6aca64=_0x376f21['querySelector'](_0x36ce21(0x4e2));let _0x82247f={'question':_0x376f21[_0x36ce21(0x622)](_0x36ce21(0x951))[_0x36ce21(0x848)]};switch(_0x35b592){case'multiple_choice':_0x82247f[_0x36ce21(0x89f)]=Array['from'](_0x376f21[_0x36ce21(0xa58)](_0x36ce21(0x65e)))[_0x36ce21(0x4b7)](_0x4fc80b=>_0x4fc80b[_0x36ce21(0x848)]);break;case'short_answer':_0x82247f['idealAnswer']=_0x376f21['querySelector'](_0x36ce21(0x2f7))[_0x36ce21(0x848)];break;case _0x36ce21(0x476):_0x82247f['correctResponse']=_0x376f21[_0x36ce21(0x622)]('.correct-response-input')[_0x36ce21(0x848)];break;}_0x6aca64[_0x36ce21(0x519)]=_0x36ce21(0x7a1),_0x6aca64[_0x36ce21(0xab8)]=!![];try{const _0x5570ee=_0x36ce21(0x72a)+JSON[_0x36ce21(0x44c)](_0x82247f)+_0x36ce21(0x9cc),_0x289abb={'type':_0x36ce21(0xa18),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x36ce21(0x208)},'options':{'type':_0x36ce21(0x20e),'items':{'type':_0x36ce21(0x208)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x36ce21(0x208)}},'required':[_0x36ce21(0x25a)]}},'required':['fixedData']},_0x1627d1=await callAnalysisApi(_0x5570ee,_0x289abb);if(_0x1627d1&&_0x1627d1['fixedData']){const _0x23321e=_0x1627d1[_0x36ce21(0x509)];_0x376f21[_0x36ce21(0x622)](_0x36ce21(0x951))[_0x36ce21(0x848)]=_0x23321e[_0x36ce21(0x25a)]||_0x82247f['question'];switch(_0x35b592){case _0x36ce21(0xaa4):_0x23321e['options']&&_0x23321e['options'][_0x36ce21(0x88b)]>0x0&&_0x376f21[_0x36ce21(0xa58)]('input[type=\x22text\x22]')[_0x36ce21(0x8e0)]((_0x56555a,_0x2d5b81)=>{const _0x50720e=_0x36ce21;_0x56555a[_0x50720e(0x848)]=_0x23321e[_0x50720e(0x89f)][_0x2d5b81]||_0x82247f[_0x50720e(0x89f)][_0x2d5b81];});break;case'short_answer':_0x376f21[_0x36ce21(0x622)]('.ideal-answer-input')[_0x36ce21(0x848)]=_0x23321e[_0x36ce21(0x63a)]||_0x82247f[_0x36ce21(0x63a)];break;case _0x36ce21(0x476):_0x376f21[_0x36ce21(0x622)](_0x36ce21(0xa31))[_0x36ce21(0x848)]=_0x23321e[_0x36ce21(0x1f2)]||_0x82247f[_0x36ce21(0x1f2)];break;}if(_0x82247f[_0x36ce21(0x25a)]!==_0x23321e[_0x36ce21(0x25a)])try{const _0x5b08e4=collection(db,_0x36ce21(0xade)+appId+_0x36ce21(0x83f));await addDoc(_0x5b08e4,{'broken':_0x82247f[_0x36ce21(0x25a)],'fixed':_0x23321e['question'],'createdAt':serverTimestamp()});}catch(_0x5d1650){console['error'](_0x36ce21(0x3c5),_0x5d1650);}showMessage(_0x36ce21(0x517));}else throw new Error(_0x36ce21(0x92c));}catch(_0x43c78d){console[_0x36ce21(0x7e3)]('AI\x20Formula\x20Fix\x20Error:',_0x43c78d),showMessage(_0x36ce21(0x769));}finally{_0x6aca64['innerHTML']=_0x36ce21(0x9bd),_0x6aca64['disabled']=![];}}async function handleGenerateLessonPlan(_0x23ebf1){const _0x460f6a=_0x712516;showMessage(_0x460f6a(0xaac));try{const _0x5bf947=doc(db,'artifacts/'+appId+_0x460f6a(0x4b0),_0x23ebf1),_0x3413ee=await getDoc(_0x5bf947);if(!_0x3413ee['exists']())throw new Error(_0x460f6a(0x96a));const _0x441676={'id':_0x23ebf1,..._0x3413ee[_0x460f6a(0x4fb)]()},_0x2b2310=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x23ebf1,_0x460f6a(0x213)),_0x291221=await getDocs(_0x2b2310),_0x42bf73=_0x291221[_0x460f6a(0xa6a)][_0x460f6a(0x4b7)](_0x20677c=>_0x20677c[_0x460f6a(0x4fb)]());if(_0x42bf73[_0x460f6a(0x88b)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x2bc379=calculateItemAnalysis(_0x441676,_0x42bf73)[_0x460f6a(0x405)],_0x53c08c=calculateDistractorAnalysis(_0x441676,_0x42bf73),_0x3e780a=_0x21b357=>{const _0x1a384c=_0x460f6a;if(!_0x21b357)return'';return _0x21b357[_0x1a384c(0x59e)](/\\/g,'\x5c\x5c')[_0x1a384c(0x59e)](/"/g,'\x5c\x22')[_0x1a384c(0x59e)](/\n/g,'\x5cn');};let _0x491e0f='สรุปผลการวิเคราะห์:\x5cn';_0x441676[_0x460f6a(0x2f6)][_0x460f6a(0x8e0)]((_0x5d4e53,_0x402577)=>{const _0x1db774=_0x460f6a,_0x2be0a1=_0x2bc379[_0x402577]?.['p'][_0x1db774(0x7d8)](0x2)||_0x1db774(0x735),_0x106624=_0x2bc379[_0x402577]?.['r'][_0x1db774(0x7d8)](0x2)||_0x1db774(0x735),_0x361e16=_0x3e780a(_0x5d4e53[_0x1db774(0x383)]||_0x5d4e53['stem']);_0x491e0f+=_0x1db774(0x2df)+(_0x402577+0x1)+_0x1db774(0x762)+_0x2be0a1+',\x20r='+_0x106624+'):\x20'+_0x361e16+'\x5cn';if(_0x5d4e53['questionType']===_0x1db774(0xaa4)&&_0x53c08c[_0x402577]){const _0x56f6a8=_0x53c08c[_0x402577],_0x20286b=Object[_0x1db774(0x662)](_0x56f6a8)['filter'](_0x58a2a5=>parseInt(_0x58a2a5)!==_0x5d4e53[_0x1db774(0x4d1)])[_0x1db774(0x778)]((_0x4f24a4,_0x52c856)=>_0x56f6a8[_0x52c856][_0x1db774(0x325)]-_0x56f6a8[_0x4f24a4]['total'])[0x0];if(_0x20286b&&_0x56f6a8[_0x20286b][_0x1db774(0x325)]>0x0){const _0x338919=_0x3e780a(_0x56f6a8[_0x20286b]['text']);_0x491e0f+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x338919+'\x22\x5cn';}}});const _0x166324=_0x460f6a(0x6f1)+_0x441676[_0x460f6a(0x9b8)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x491e0f+_0x460f6a(0x6aa),_0x50e1ec={'type':_0x460f6a(0xa18),'properties':{'learningGaps':{'type':_0x460f6a(0x20e),'items':{'type':_0x460f6a(0x208)}},'teachingContent':{'type':_0x460f6a(0x208)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x460f6a(0xa18),'properties':{'question':{'type':_0x460f6a(0x208)},'solution':{'type':_0x460f6a(0x208)}}}}},'required':[_0x460f6a(0x51c),_0x460f6a(0x2cb),'practiceProblems']},_0x2c37a9=await callAnalysisApi(_0x166324,_0x50e1ec);await updateDoc(_0x5bf947,{'lessonPlan':_0x2c37a9});const _0x17cae2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x441676[_0x460f6a(0x9b8)]+_0x460f6a(0x2ab)+_0x2c37a9[_0x460f6a(0x51c)][_0x460f6a(0x4b7)](_0x51c77b=>_0x460f6a(0xaab)+_0x51c77b+_0x460f6a(0x97e))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2c37a9[_0x460f6a(0x2cb)]+_0x460f6a(0x2ed)+_0x2c37a9[_0x460f6a(0x5f2)][_0x460f6a(0x4b7)](_0x1f81ca=>_0x460f6a(0x3cb)+_0x1f81ca[_0x460f6a(0x25a)]+_0x460f6a(0x1e5)+_0x1f81ca[_0x460f6a(0x838)]+_0x460f6a(0x23d))[_0x460f6a(0x85c)]('')+_0x460f6a(0x3e9);document['getElementById']('lesson-plan-title')[_0x460f6a(0x8b8)]=_0x460f6a(0x5fb)+_0x441676[_0x460f6a(0x9b8)],document['getElementById'](_0x460f6a(0x7b5))['innerHTML']=_0x17cae2,document[_0x460f6a(0x7e1)](_0x460f6a(0x8ae))['classList'][_0x460f6a(0x5b3)]('hidden');if(window[_0x460f6a(0x7e0)])MathJax[_0x460f6a(0x7a9)]();messageModal[_0x460f6a(0x709)][_0x460f6a(0x484)](_0x460f6a(0x984));}catch(_0x1855ab){console[_0x460f6a(0x7e3)](_0x460f6a(0xb11),_0x1855ab),showMessage(_0x460f6a(0x90c)+_0x1855ab[_0x460f6a(0x7e4)]);}}async function handleDuplicateQuiz(_0xf04840){const _0x5974ef=_0x712516;try{const _0x2c8583=doc(db,'artifacts/'+appId+_0x5974ef(0x4b0),_0xf04840),_0x1fea7d=await getDoc(_0x2c8583);if(_0x1fea7d[_0x5974ef(0x23c)]()){const _0x10d94c=_0x1fea7d['data']();let _0x12fb16='',_0x249b4a=_0x5974ef(0x8cd),_0x100546=null;if(_0x10d94c['quizMode']===_0x5974ef(0x71c)){let _0x43425a=_0x10d94c[_0x5974ef(0x9b8)][_0x5974ef(0x59e)]('(ก่อนเรียน)','')[_0x5974ef(0x847)]();_0x12fb16=_0x5974ef(0x562)+_0x43425a,_0x249b4a=_0x5974ef(0x441),_0x100546=_0xf04840;}else _0x12fb16='(คัดลอก)\x20'+_0x10d94c[_0x5974ef(0x9b8)];const _0x58769e={..._0x10d94c,'topic':_0x12fb16,'createdAt':new Date()[_0x5974ef(0x783)](),'quizMode':_0x249b4a,'pairedQuizId':_0x100546};let _0x16deed;while(!![]){_0x16deed=Math[_0x5974ef(0xa67)](0x3e8+Math['random']()*0x2328)[_0x5974ef(0x431)]();const _0x5117b2=await getDoc(doc(db,_0x5974ef(0xade)+appId+_0x5974ef(0x4b0),_0x16deed));if(!_0x5117b2['exists']())break;}const _0x14ceaa=doc(db,_0x5974ef(0xade)+appId+'/public/data/quizzes',_0x16deed);await setDoc(_0x14ceaa,_0x58769e),_0x58769e[_0x5974ef(0x55e)]===_0x5974ef(0x441)&&await updateDoc(_0x2c8583,{'pairedQuizId':_0x16deed}),showMessage(_0x5974ef(0x2b2));}else throw new Error(_0x5974ef(0x1fb));}catch(_0x389d10){console[_0x5974ef(0x7e3)](_0x5974ef(0xa47),_0x389d10),showMessage(_0x5974ef(0x3c9));}}async function handleDeleteQuiz(_0x5d31a1,_0x1b2365=!![]){const _0x119e06=_0x712516;try{const _0x11a278=writeBatch(db),_0x405a57=collection(db,_0x119e06(0xade)+appId+_0x119e06(0x8a4)+_0x5d31a1+_0x119e06(0x437)),_0x41d522=await getDocs(_0x405a57);_0x41d522['forEach'](_0x18dd90=>{const _0x3b0182=_0x119e06;_0x11a278[_0x3b0182(0x4d9)](doc(_0x405a57,_0x18dd90['id']));});const _0x32ee69=doc(db,_0x119e06(0xade)+appId+'/public/data/quizzes',_0x5d31a1);_0x11a278[_0x119e06(0x4d9)](_0x32ee69),await _0x11a278[_0x119e06(0x80f)](),_0x1b2365&&showMessage(_0x119e06(0xa1d));}catch(_0x5b659d){console[_0x119e06(0x7e3)](_0x119e06(0x3ce),_0x5b659d),_0x1b2365&&showMessage(_0x119e06(0x743));}}async function showQuizDetailView(_0x560d79){const _0xe7e1a2=_0x712516;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xe7e1a2(0xb15));try{const _0x52b552=doc(db,_0xe7e1a2(0xade)+appId+_0xe7e1a2(0x4b0),_0x560d79),_0x364f59=await getDoc(_0x52b552);if(!_0x364f59['exists']()){showMessage(_0xe7e1a2(0x96a));return;}const _0x2da6d7={'id':_0x364f59['id'],..._0x364f59[_0xe7e1a2(0x4fb)]()};currentQuizData=_0x2da6d7;const _0x56ddc1=doc(db,_0xe7e1a2(0xade)+appId+_0xe7e1a2(0x42a),_0x2da6d7[_0xe7e1a2(0x243)]),_0xf434f3=await getDoc(_0x56ddc1);_0xf434f3[_0xe7e1a2(0x23c)]()?(currentProjectData=_0xf434f3[_0xe7e1a2(0x4fb)](),currentProjectId=_0x2da6d7[_0xe7e1a2(0x243)]):(currentProjectData={'students':[]},currentProjectId=_0x2da6d7[_0xe7e1a2(0x243)]);document[_0xe7e1a2(0x7e1)]('results-quiz-title')[_0xe7e1a2(0x8b8)]=_0x2da6d7[_0xe7e1a2(0x9b8)],document[_0xe7e1a2(0x7e1)]('results-quiz-id-display')[_0xe7e1a2(0x8b8)]=_0x560d79;const _0x3c2780=collection(db,_0xe7e1a2(0xade)+appId+_0xe7e1a2(0x4b0),_0x560d79,_0xe7e1a2(0x213));unsubscribeSubmissionsListener=onSnapshot(_0x3c2780,_0x55cfd8=>{const _0xc726bf=_0xe7e1a2,_0x29a913=_0x55cfd8[_0xc726bf(0xa6a)][_0xc726bf(0x4b7)](_0x5b98d6=>({'id':_0x5b98d6['id'],..._0x5b98d6[_0xc726bf(0x4fb)]()}));currentSubmissions=_0x29a913;const _0x5b501f=_0x29a913[_0xc726bf(0xa4a)](_0x39a80d=>_0x39a80d[_0xc726bf(0x5ae)]&&_0x39a80d['attempts'][_0xc726bf(0x88b)]>0x0);renderBehaviorLog(_0x29a913),renderAnswerGrid(currentProjectData[_0xc726bf(0xa29)],_0x5b501f,_0x2da6d7),renderAnalytics(_0x2da6d7,_0x5b501f),renderQuizResultsTable(currentProjectData[_0xc726bf(0xa29)],_0x29a913,_0x2da6d7),renderQuizLeaderboard(_0x5b501f,_0x2da6d7,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x3be404){console['error'](_0xe7e1a2(0xacf),_0x3be404),showMessage(_0xe7e1a2(0x694));}}function renderAnswerGrid(_0x369bae,_0x4d5454,_0x4e1560){const _0x3536b4=_0x712516,_0x2f7629=document[_0x3536b4(0x7e1)](_0x3536b4(0x3a3));if(!_0x2f7629)return;if(!_0x369bae||_0x369bae['length']===0x0){_0x2f7629['innerHTML']=_0x3536b4(0x3bf);return;}const _0x189615=_0x4e1560[_0x3536b4(0x2f6)],_0xb099e7=_0x4d5454[_0x3536b4(0x2fa)]((_0x1afb03,_0x360998)=>{return _0x1afb03[_0x360998['studentName']]=_0x360998,_0x1afb03;},{}),_0x595826=_0x3490cd=>String[_0x3536b4(0xa60)](0x41+_0x3490cd),_0x375a86=_0x3752b2=>{const _0x21e4b5=_0x3536b4,_0x590b00=_0x3752b2[_0x21e4b5(0xad0)]||_0x4e1560['quizType'];switch(_0x590b00){case'multiple_choice':return _0x3752b2[_0x21e4b5(0x89f)]&&_0x3752b2[_0x21e4b5(0x89f)][_0x21e4b5(0x88b)]>_0x3752b2[_0x21e4b5(0x4d1)]?_0x595826(_0x3752b2['correctAnswerIndex']):'-';case _0x21e4b5(0x34b):return _0x3752b2[_0x21e4b5(0xa24)]?'ใช่':_0x21e4b5(0x597);case'matching_item':return _0x3752b2[_0x21e4b5(0x1f2)]||'-';case'short_answer':return _0x21e4b5(0x4bb);default:return'-';}},_0x27653d=(_0x17d73d,_0x31d739)=>{const _0xbde8da=_0x3536b4;if(_0x31d739[_0xbde8da(0x8ea)]===null||_0x31d739[_0xbde8da(0x8ea)]===undefined)return'-';const _0x53f8e9=_0x17d73d[_0xbde8da(0xad0)]||_0x4e1560[_0xbde8da(0x817)];switch(_0x53f8e9){case'multiple_choice':const _0x2fc4ae=_0x17d73d[_0xbde8da(0x89f)]['findIndex'](_0x45501b=>_0x45501b===_0x31d739[_0xbde8da(0x797)]);return _0x2fc4ae!==-0x1?_0x595826(_0x2fc4ae):_0x31d739[_0xbde8da(0x797)]||'-';case _0xbde8da(0x34b):return _0x31d739['answer']===_0xbde8da(0xa46)||_0x31d739[_0xbde8da(0x8ea)]===!![]?_0xbde8da(0x359):'ไม่ใช่';default:return _0x31d739[_0xbde8da(0x8ea)];}};let _0x2e7ff2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x189615['map']((_0x190019,_0x268d5b)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x268d5b+0x1)+_0x3536b4(0x7ff))[_0x3536b4(0x85c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x189615[_0x3536b4(0x4b7)](_0x576868=>_0x3536b4(0x9ae)+_0x375a86(_0x576868)+_0x3536b4(0x4dc))[_0x3536b4(0x85c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x369bae['forEach'](_0x3269bc=>{const _0x5a492a=_0x3536b4;_0x2e7ff2+='<tr>',_0x2e7ff2+=_0x5a492a(0xa99)+_0x3269bc+_0x5a492a(0x4dc);const _0x22d6bc=_0xb099e7[_0x3269bc];if(_0x22d6bc){const _0x436a3e=_0x22d6bc[_0x5a492a(0x5ae)][_0x22d6bc[_0x5a492a(0x5ae)]['length']-0x1];_0x189615[_0x5a492a(0x8e0)]((_0x51f28e,_0x4a37d5)=>{const _0x5ec0e1=_0x5a492a,_0x2073dc=_0x436a3e['answers'][_0x5ec0e1(0xafd)](_0x3d09a9=>_0x3d09a9[_0x5ec0e1(0x472)]===_0x51f28e['id']);if(_0x2073dc){let _0x537e10=![];const _0x1b7359=_0x51f28e['questionType']||_0x4e1560[_0x5ec0e1(0x817)];if(_0x2073dc[_0x5ec0e1(0x8ea)]!==null&&_0x2073dc[_0x5ec0e1(0x8ea)]!==undefined)switch(_0x1b7359){case _0x5ec0e1(0xaa4):const _0x5396bb=_0x51f28e[_0x5ec0e1(0x89f)][_0x51f28e[_0x5ec0e1(0x4d1)]];_0x537e10=_0x2073dc[_0x5ec0e1(0x797)]===_0x5396bb;break;case _0x5ec0e1(0x34b):const _0x270870=_0x2073dc[_0x5ec0e1(0x8ea)]===!![]||_0x2073dc[_0x5ec0e1(0x8ea)]===_0x5ec0e1(0xa46);_0x537e10=_0x270870===_0x51f28e[_0x5ec0e1(0xa24)];break;case _0x5ec0e1(0x476):_0x537e10=_0x2073dc[_0x5ec0e1(0x8ea)]===_0x51f28e['correctResponse'];break;default:_0x537e10=_0x2073dc[_0x5ec0e1(0xa3c)];break;}const _0x28ac6b=_0x537e10?_0x5ec0e1(0x969):_0x5ec0e1(0x2ec);_0x2e7ff2+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x28ac6b+'\x22>'+_0x27653d(_0x51f28e,_0x2073dc)+_0x5ec0e1(0x4dc);}else _0x2e7ff2+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x2e7ff2+=_0x189615[_0x5a492a(0x4b7)](()=>_0x5a492a(0x6d7))[_0x5a492a(0x85c)]('');_0x2e7ff2+=_0x5a492a(0x782);}),_0x2e7ff2+=_0x3536b4(0x6ea),_0x2f7629[_0x3536b4(0x519)]=_0x2e7ff2;}function renderQuizResultsTable(_0x2d1fab,_0x212363,_0x28b22d){const _0x46230d=_0x712516,_0x2485a8=_0x212363['reduce']((_0x2c6874,_0x3368bd)=>{const _0x181e04=_0x158c;return _0x2c6874[_0x3368bd[_0x181e04(0x4ed)]]=_0x3368bd,_0x2c6874;},{}),_0x3a4c0b=document[_0x46230d(0x622)](_0x46230d(0xac7));_0x3a4c0b&&!_0x3a4c0b[_0x46230d(0x519)][_0x46230d(0x29d)](_0x46230d(0x425))&&(_0x3a4c0b[_0x46230d(0x519)]+=_0x46230d(0x277));const _0x35a36a=document[_0x46230d(0x7e1)](_0x46230d(0xa17));if(!_0x2d1fab||_0x2d1fab[_0x46230d(0x88b)]===0x0){_0x35a36a[_0x46230d(0x519)]=_0x46230d(0x1e4);return;}const _0x2903df=_0x28b22d[_0x46230d(0x812)]===!![],_0x50ead4=_0x28b22d[_0x46230d(0x9c9)]?.[_0x46230d(0x96f)]??-0x1;let _0x2439c3='';_0x2d1fab[_0x46230d(0x8e0)](_0x23b995=>{const _0x527e14=_0x46230d,_0x19db0b=_0x2485a8[_0x23b995];let _0x24bc07='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x2903df?_0x527e14(0x71a):_0x527e14(0x697))+'\x22>'+(_0x2903df?'สอบซ่อม':_0x527e14(0x6e8))+_0x527e14(0x2e9);if(_0x19db0b){if(_0x19db0b[_0x527e14(0x5ae)]&&_0x19db0b[_0x527e14(0x5ae)][_0x527e14(0x88b)]>0x0){let _0x474ca4=_0x2903df?_0x19db0b['bestScore']===_0x19db0b[_0x527e14(0x9e9)]:_0x50ead4!==-0x1&&_0x19db0b['bestScore']>=_0x50ead4;const _0xfba466=_0x474ca4?_0x527e14(0x9b7):_0x527e14(0x412),_0x4ac2f5=_0x474ca4?_0x527e14(0x7a7):_0x527e14(0x1f4),_0x3b4b1b=_0x527e14(0x24a)+_0xfba466+'\x22>'+_0x4ac2f5+_0x527e14(0x2e9),_0x1590cf=_0x527e14(0xa0f)+(_0x19db0b['attempts']?.[_0x527e14(0x88b)]||0x1)+_0x527e14(0x3f6);_0x2439c3+=_0x527e14(0xa41)+_0x23b995+_0x527e14(0xa07)+_0x19db0b['bestScore']+_0x527e14(0xb05)+_0x19db0b[_0x527e14(0x9e9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b4b1b+_0x527e14(0x786)+_0x24bc07+_0x527e14(0xa86)+_0x19db0b[_0x527e14(0x220)]+_0x527e14(0xb05)+_0x19db0b[_0x527e14(0x9e9)]+_0x527e14(0x937)+_0x19db0b[_0x527e14(0x4dd)]+_0x527e14(0xb05)+_0x19db0b[_0x527e14(0x9e9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x19db0b[_0x527e14(0x6f4)]||0x0)+_0x527e14(0x308)+_0x1590cf+_0x527e14(0x4c6)+new Date(_0x19db0b[_0x527e14(0x49d)])[_0x527e14(0x453)](_0x527e14(0x57f))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x23b995+_0x527e14(0x8ba);}else{const _0x460b09=_0x527e14(0x3c1);_0x2439c3+=_0x527e14(0x7c7)+_0x23b995+_0x527e14(0x2da)+_0x24bc07+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x460b09+_0x527e14(0x4c6)+new Date(_0x19db0b[_0x527e14(0x925)])['toLocaleString'](_0x527e14(0x57f))+_0x527e14(0xadb)+_0x23b995+_0x527e14(0x8ba);}}else{const _0x4c112b=_0x527e14(0x895);_0x2439c3+=_0x527e14(0x9f5)+_0x23b995+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24bc07+_0x527e14(0x38c)+_0x4c112b+_0x527e14(0x4b3);}}),_0x35a36a[_0x46230d(0x519)]=_0x2439c3;}async function confirmRenameQuiz(){const _0x472056=_0x712516,_0x340649=document[_0x472056(0x7e1)](_0x472056(0x890))[_0x472056(0x848)][_0x472056(0x847)]();if(!_0x340649){showMessage(_0x472056(0x575));return;}if(!actionTargetId)return;const _0x1757fa=doc(db,'artifacts/'+appId+_0x472056(0x4b0),actionTargetId);try{await updateDoc(_0x1757fa,{'topic':_0x340649}),showMessage(_0x472056(0x81c)),renameQuizModal[_0x472056(0x709)][_0x472056(0x484)]('hidden'),actionTargetId=null;}catch(_0x57abaa){console[_0x472056(0x7e3)](_0x472056(0x8c1),_0x57abaa),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0xa0ae87){const _0x377098=_0x712516;actionTargetId=_0xa0ae87;const _0x6bdaa1=document['getElementById'](_0x377098(0x70d));_0x6bdaa1[_0x377098(0x519)]=_0x377098(0x1e7),moveQuizModal[_0x377098(0x709)][_0x377098(0x5b3)]('hidden');try{const _0x19bd48=collection(db,_0x377098(0xade)+appId+_0x377098(0x42a)),_0x196440=await getDocs(_0x19bd48),_0x3c9358=_0x196440['docs']['map'](_0xd76b48=>({'id':_0xd76b48['id'],..._0xd76b48[_0x377098(0x4fb)]()})),_0x25b2c8=_0x3c9358[_0x377098(0xa4a)](_0x3a63d6=>_0x3a63d6['id']!==currentProjectId);if(_0x25b2c8[_0x377098(0x88b)]===0x0){_0x6bdaa1[_0x377098(0x519)]=_0x377098(0x27a),document[_0x377098(0x7e1)]('confirm-move-quiz-btn')[_0x377098(0xab8)]=!![];return;}_0x6bdaa1['innerHTML']=_0x25b2c8['map'](_0x443698=>_0x377098(0x7ac)+_0x443698['id']+'\x22>'+_0x443698['projectName']+_0x377098(0xa85))[_0x377098(0x85c)](''),document[_0x377098(0x7e1)](_0x377098(0xaf0))[_0x377098(0xab8)]=![];}catch(_0xa1bd1d){console['error'](_0x377098(0x545),_0xa1bd1d),showMessage(_0x377098(0x99c)),moveQuizModal[_0x377098(0x709)][_0x377098(0x484)](_0x377098(0x984));}}async function confirmMoveQuiz(){const _0x557bc6=_0x712516,_0x130186=document[_0x557bc6(0x7e1)]('move-quiz-project-select')[_0x557bc6(0x848)];if(!_0x130186){showMessage(_0x557bc6(0x3af));return;}if(!actionTargetId)return;const _0x62df28=doc(db,_0x557bc6(0xade)+appId+_0x557bc6(0x4b0),actionTargetId);try{await updateDoc(_0x62df28,{'projectId':_0x130186}),showMessage(_0x557bc6(0x5e5)),moveQuizModal[_0x557bc6(0x709)][_0x557bc6(0x484)](_0x557bc6(0x984)),actionTargetId=null;}catch(_0x7f742c){console[_0x557bc6(0x7e3)](_0x557bc6(0x76c),_0x7f742c),showMessage(_0x557bc6(0x3e3));}}async function handleQuizSettings(_0x5addc3){const _0x550173=_0x712516;actionTargetId=_0x5addc3;const _0x537b10=doc(db,_0x550173(0xade)+appId+_0x550173(0x4b0),_0x5addc3);try{const _0x403077=await getDoc(_0x537b10);if(_0x403077[_0x550173(0x23c)]()){const _0x4d628e=_0x403077[_0x550173(0x4fb)](),_0x12940b=_0x4d628e[_0x550173(0x9c9)]||{},_0x4732a2=_0x4d628e['questions']['length'];document[_0x550173(0x7e1)]('modal-shuffle-select')[_0x550173(0x848)]=_0x12940b['shuffle']||_0x550173(0x994),document[_0x550173(0x7e1)](_0x550173(0x8b3))[_0x550173(0x848)]=_0x12940b[_0x550173(0x2f1)]||_0x550173(0x8b1),document['getElementById'](_0x550173(0x6a6))[_0x550173(0x848)]=_0x12940b['timerMode']||'none',document['getElementById'](_0x550173(0x53a))[_0x550173(0x848)]=_0x12940b[_0x550173(0x9d0)]||0xa,document[_0x550173(0x7e1)](_0x550173(0x76e))['value']=_0x12940b['passingScore']||Math['floor'](_0x4732a2/0x2),document[_0x550173(0x7e1)](_0x550173(0x76e))[_0x550173(0xa7d)]=_0x4732a2,document[_0x550173(0x7e1)]('modal-adaptive-quiz-checkbox')[_0x550173(0x8ed)]=_0x12940b[_0x550173(0x8bc)]||![],document[_0x550173(0x7e1)]('modal-loop-until-pass-checkbox')['checked']=_0x12940b['loopUntilPass']||![],document[_0x550173(0x7e1)](_0x550173(0x6a6))[_0x550173(0x260)](new Event('change')),quizSettingsModal[_0x550173(0x709)][_0x550173(0x5b3)](_0x550173(0x984));}else showMessage(_0x550173(0x96a));}catch(_0x521f80){console[_0x550173(0x7e3)]('Error\x20fetching\x20quiz\x20settings:',_0x521f80),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x5ea3a1=_0x712516;if(!actionTargetId)return;const _0x4b9138=doc(db,_0x5ea3a1(0xade)+appId+_0x5ea3a1(0x4b0),actionTargetId),_0xf22271={'shuffle':document['getElementById'](_0x5ea3a1(0x426))[_0x5ea3a1(0x848)],'resultsDisplay':document['getElementById']('modal-results-display-select')['value'],'timerMode':document[_0x5ea3a1(0x7e1)](_0x5ea3a1(0x6a6))[_0x5ea3a1(0x848)],'timerDuration':parseInt(document[_0x5ea3a1(0x7e1)]('modal-timer-duration-input')[_0x5ea3a1(0x848)])||0xa,'passingScore':parseInt(document[_0x5ea3a1(0x7e1)]('modal-passing-score-input')[_0x5ea3a1(0x848)])||0x0,'passingScore':parseInt(document['getElementById'](_0x5ea3a1(0x76e))[_0x5ea3a1(0x848)])||0x0,'isAdaptive':document['getElementById'](_0x5ea3a1(0x543))[_0x5ea3a1(0x8ed)],'loopUntilPass':document['getElementById'](_0x5ea3a1(0x6fb))[_0x5ea3a1(0x8ed)]};try{await updateDoc(_0x4b9138,{'settings':_0xf22271}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList']['add'](_0x5ea3a1(0x984)),actionTargetId=null;}catch(_0x4b6b8e){console['error']('Error\x20updating\x20quiz\x20settings:',_0x4b6b8e),showMessage(_0x5ea3a1(0xa6e));}}async function handleQuizStatus(_0x435909){const _0x3412c4=_0x712516;actionTargetId=_0x435909;const _0x186f72=doc(db,_0x3412c4(0xade)+appId+'/public/data/quizzes',_0x435909);try{const _0x7e3379=await getDoc(_0x186f72);if(_0x7e3379[_0x3412c4(0x23c)]()){const _0x25603b=_0x7e3379['data'](),_0x3900d2=_0x25603b[_0x3412c4(0x407)]||_0x3412c4(0x2e2),_0x18cf64=document[_0x3412c4(0x7e1)]('quiz-status-options'),_0x4365b9=document[_0x3412c4(0x7e1)](_0x3412c4(0x908)),_0x196fcb=document[_0x3412c4(0x7e1)](_0x3412c4(0x8aa));let _0x5ae851=_0x3412c4(0x523)+(_0x3900d2==='active'?_0x3412c4(0x8ed):'')+_0x3412c4(0x3d7)+(_0x3900d2===_0x3412c4(0x516)?_0x3412c4(0x8ed):'')+_0x3412c4(0x7d7)+(_0x3900d2===_0x3412c4(0x6b2)?_0x3412c4(0x8ed):'')+_0x3412c4(0x82c);_0x18cf64[_0x3412c4(0x519)]=_0x5ae851;const _0x15e6e9=_0x3900d2===_0x3412c4(0x6b2);_0x4365b9[_0x3412c4(0x709)][_0x3412c4(0xa3d)](_0x3412c4(0x984),!_0x15e6e9),_0x196fcb['classList'][_0x3412c4(0xa3d)](_0x3412c4(0x984),!_0x15e6e9),document['getElementById'](_0x3412c4(0x948))['value']=_0x25603b[_0x3412c4(0x84e)]?_0x25603b[_0x3412c4(0x84e)][_0x3412c4(0x865)](0x0,0x10):'',document[_0x3412c4(0x7e1)]('quiz-end-time')[_0x3412c4(0x848)]=_0x25603b['endTime']?_0x25603b[_0x3412c4(0x74b)][_0x3412c4(0x865)](0x0,0x10):'',_0x18cf64[_0x3412c4(0xa58)](_0x3412c4(0xa09))[_0x3412c4(0x8e0)](_0x3a4859=>{const _0x4b9b97=_0x3412c4;_0x3a4859[_0x4b9b97(0x996)](_0x4b9b97(0x913),_0x396995=>{const _0x2e9d35=_0x4b9b97,_0x346d32=_0x396995[_0x2e9d35(0x815)][_0x2e9d35(0x848)]==='schedule';_0x4365b9[_0x2e9d35(0x709)][_0x2e9d35(0xa3d)](_0x2e9d35(0x984),!_0x346d32),_0x196fcb['classList'][_0x2e9d35(0xa3d)](_0x2e9d35(0x984),!_0x346d32);});}),quizStatusModal[_0x3412c4(0x709)][_0x3412c4(0x5b3)]('hidden');}}catch(_0x444c23){console[_0x3412c4(0x7e3)](_0x3412c4(0x719),_0x444c23),showMessage(_0x3412c4(0x54a));}}async function confirmQuizStatus(){const _0x5c4a3c=_0x712516;if(!actionTargetId)return;const _0x12a321=doc(db,_0x5c4a3c(0xade)+appId+_0x5c4a3c(0x4b0),actionTargetId),_0x185bb8=document[_0x5c4a3c(0x622)](_0x5c4a3c(0x403));if(!_0x185bb8){showMessage('กรุณาเลือกสถานะ');return;}const _0x3a6994=_0x185bb8[_0x5c4a3c(0x848)];let _0x57d121={};if(_0x3a6994===_0x5c4a3c(0x2e2)||_0x3a6994===_0x5c4a3c(0x516))_0x57d121={'status':_0x3a6994,'startTime':null,'endTime':null};else{if(_0x3a6994===_0x5c4a3c(0x6c7)){const _0x4b946f=document['getElementById'](_0x5c4a3c(0x948))[_0x5c4a3c(0x848)],_0x751b9a=document[_0x5c4a3c(0x7e1)]('quiz-end-time')[_0x5c4a3c(0x848)];if(!_0x4b946f&&!_0x751b9a){showMessage(_0x5c4a3c(0x94a));return;}_0x57d121={'status':'scheduled','startTime':_0x4b946f?new Date(_0x4b946f)[_0x5c4a3c(0x783)]():null,'endTime':_0x751b9a?new Date(_0x751b9a)[_0x5c4a3c(0x783)]():null};}}try{await updateDoc(_0x12a321,_0x57d121),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x5c4a3c(0x484)](_0x5c4a3c(0x984)),actionTargetId=null;}catch(_0x22f21d){console[_0x5c4a3c(0x7e3)](_0x5c4a3c(0x353),_0x22f21d),showMessage(_0x5c4a3c(0x943));}}function listenForStudentProfiles(_0x2b56ba){const _0x1a22f2=_0x712516,_0x5b4e84=collection(db,_0x1a22f2(0xade)+appId+_0x1a22f2(0x203)+_0x2b56ba+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x5b4e84,_0x28f023=>{const _0x131b7e=_0x1a22f2,_0x5af1d1=_0x28f023[_0x131b7e(0xa6a)][_0x131b7e(0x4b7)](_0x2c3c24=>_0x2c3c24['data']());renderLeaderboard(_0x5af1d1,_0x131b7e(0x337));},_0x12c33f=>{const _0x50f65e=_0x1a22f2;console[_0x50f65e(0x7e3)]('Error\x20listening\x20for\x20student\x20profiles:',_0x12c33f),document[_0x50f65e(0x7e1)](_0x50f65e(0x337))[_0x50f65e(0x519)]=_0x50f65e(0x732);});}function renderLeaderboard(_0x42a481,_0xcc73b5){const _0x20e7d9=_0x712516,_0x4bcc9c=document[_0x20e7d9(0x7e1)](_0xcc73b5);if(!_0x42a481||_0x42a481[_0x20e7d9(0x88b)]===0x0){_0x4bcc9c[_0x20e7d9(0x519)]=_0x20e7d9(0x663);return;}_0x42a481[_0x20e7d9(0x778)]((_0xdc0de1,_0x2ffb88)=>{const _0x218ae6=_0x20e7d9,_0x45d8d4=(_0x2ffb88[_0x218ae6(0x66e)]||0x0)-(_0xdc0de1['totalPoints']||0x0);if(_0x45d8d4!==0x0)return _0x45d8d4;const _0x226388=(_0x2ffb88[_0x218ae6(0x6be)]?.[_0x218ae6(0x52d)]||0x0)-(_0xdc0de1[_0x218ae6(0x6be)]?.['specialist']||0x0);if(_0x226388!==0x0)return _0x226388;const _0x3aeaa4=(_0x2ffb88[_0x218ae6(0x6be)]?.['first_try_ace']||0x0)-(_0xdc0de1['badgesCount']?.[_0x218ae6(0x350)]||0x0);if(_0x3aeaa4!==0x0)return _0x3aeaa4;const _0x473f9a=(_0x2ffb88[_0x218ae6(0x6be)]?.['perfect_score']||0x0)-(_0xdc0de1[_0x218ae6(0x6be)]?.['perfect_score']||0x0);if(_0x473f9a!==0x0)return _0x473f9a;const _0x5234e5=(_0x2ffb88['badgesCount']?.[_0x218ae6(0x3b6)]||0x0)-(_0xdc0de1[_0x218ae6(0x6be)]?.[_0x218ae6(0x3b6)]||0x0);if(_0x5234e5!==0x0)return _0x5234e5;return _0xdc0de1[_0x218ae6(0x4ed)][_0x218ae6(0x39f)](_0x2ffb88['studentName'],'th');});let _0x40cc1b='';_0x42a481[_0x20e7d9(0x8e0)]((_0x1ffc77,_0x2f4e2e)=>{const _0x34b8a3=_0x20e7d9,_0x166182=_0x2f4e2e+0x1,_0x260e36=_0x1ffc77[_0x34b8a3(0x6be)]||{};let _0x5187bb='';const _0x5891a0=['specialist',_0x34b8a3(0x8cf),_0x34b8a3(0x350),_0x34b8a3(0x3b6)];_0x5891a0[_0x34b8a3(0x8e0)](_0x287284=>{const _0x53645c=_0x34b8a3;if(_0x260e36[_0x287284]>0x0){const _0x3b8d4d=Object[_0x53645c(0x48c)](BADGES)[_0x53645c(0xafd)](_0x25d23d=>_0x25d23d['id']===_0x287284);_0x3b8d4d&&(_0x287284===_0x53645c(0x52d)?_0x5187bb+=_0x53645c(0x22c)+_0x3b8d4d[_0x53645c(0x4ad)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3b8d4d[_0x53645c(0x228)]+_0x53645c(0xa0d):_0x5187bb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x3b8d4d[_0x53645c(0x4ad)]+'\x20('+_0x260e36[_0x287284]+_0x53645c(0x2c2)+_0x3b8d4d[_0x53645c(0x228)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x260e36[_0x287284]+_0x53645c(0x2b0));}}),_0x40cc1b+=_0x34b8a3(0x29b)+_0x166182+_0x34b8a3(0x98e)+_0x1ffc77[_0x34b8a3(0x4ed)]+_0x34b8a3(0x93b)+(_0x1ffc77['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x5187bb||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4bcc9c[_0x20e7d9(0x519)]=_0x40cc1b;}function displayLoopScreen(_0x472fb3,_0x468a10,_0x30b888){const _0x3bab14=_0x712516;let _0x2d2c98='';_0x30b888!==_0x3bab14(0x4d2)&&(_0x2d2c98='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x472fb3+_0x3bab14(0xb05)+_0x468a10+_0x3bab14(0x727));const _0x37f078=_0x3bab14(0x873)+_0x2d2c98+_0x3bab14(0x511);studentResultArea['innerHTML']=_0x37f078,studentResultArea[_0x3bab14(0x709)][_0x3bab14(0x5b3)](_0x3bab14(0x984)),studentQuizArea['classList']['add'](_0x3bab14(0x984)),document[_0x3bab14(0x7e1)](_0x3bab14(0x23a))[_0x3bab14(0x996)](_0x3bab14(0x66f),()=>{const _0x54fc98=_0x3bab14;studentResultArea[_0x54fc98(0x709)][_0x54fc98(0x484)](_0x54fc98(0x984)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x304c5a,_0x3f6c25,_0x2f45aa){const _0x52e1c3=_0x712516,_0x2768b0=document[_0x52e1c3(0x7e1)](_0x2f45aa),_0xb1416b=_0x2f45aa===_0x52e1c3(0x761),_0xe9440=_0x3f6c25['questions'][_0x52e1c3(0x88b)],_0x15bcfc=document[_0x52e1c3(0x7e1)](_0x2f45aa)[_0x52e1c3(0x56d)](_0x52e1c3(0x932));if(_0x15bcfc&&!_0xb1416b){const _0x348f2f=_0x15bcfc[_0x52e1c3(0x622)](_0x52e1c3(0x78f));_0x348f2f[_0x52e1c3(0x519)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x304c5a||_0x304c5a[_0x52e1c3(0x88b)]===0x0){_0x2768b0['innerHTML']=_0x52e1c3(0x35e)+(_0xb1416b?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x5ee744=[..._0x304c5a];_0x5ee744[_0x52e1c3(0x778)]((_0x5bfb00,_0x1b82f1)=>{const _0x59b3a6=_0x52e1c3;let _0x1f8504,_0xa20ba2;switch(quizLeaderboardSortBy){case _0x59b3a6(0x4ed):_0x1f8504=_0x5bfb00[_0x59b3a6(0x4ed)]||'',_0xa20ba2=_0x1b82f1[_0x59b3a6(0x4ed)]||'';return quizLeaderboardSortOrder==='asc'?_0x1f8504[_0x59b3a6(0x39f)](_0xa20ba2,'th'):_0xa20ba2['localeCompare'](_0x1f8504,'th');case _0x59b3a6(0x6f4):_0x1f8504=_0x5bfb00[_0x59b3a6(0x6f4)]||0x0,_0xa20ba2=_0x1b82f1[_0x59b3a6(0x6f4)]||0x0;break;case'attempts':_0x1f8504=_0x5bfb00['attempts']?.[_0x59b3a6(0x88b)]||0x1,_0xa20ba2=_0x1b82f1[_0x59b3a6(0x5ae)]?.[_0x59b3a6(0x88b)]||0x1;break;case'latestSubmittedAt':_0x1f8504=new Date(_0x5bfb00['latestSubmittedAt']),_0xa20ba2=new Date(_0x1b82f1[_0x59b3a6(0x49d)]);break;case _0x59b3a6(0x3d0):default:_0x1f8504=_0x5bfb00[_0x59b3a6(0x3d0)],_0xa20ba2=_0x1b82f1[_0x59b3a6(0x3d0)];break;}if(_0x1f8504<_0xa20ba2)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x1f8504>_0xa20ba2)return quizLeaderboardSortOrder===_0x59b3a6(0x468)?0x1:-0x1;return 0x0;});const _0x1de30e=_0x3f6c25[_0x52e1c3(0x812)]===!![],_0x170b25=_0x3f6c25['settings']?.[_0x52e1c3(0x96f)]??-0x1;let _0x12856e='';_0x5ee744[_0x52e1c3(0x8e0)]((_0x2f4a12,_0x4b103f)=>{const _0x30ae00=_0x52e1c3,_0x3a7d47=_0x4b103f+0x1;let _0x7ff406='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x1de30e||_0x170b25!==-0x1){let _0x11750b=_0x1de30e?_0x2f4a12[_0x30ae00(0x3d0)]===_0xe9440:_0x2f4a12[_0x30ae00(0x3d0)]>=_0x170b25;const _0x2a6492=_0x11750b?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x50aeb6=_0x11750b?_0x30ae00(0x7a7):_0x30ae00(0x1f4);_0x7ff406=_0x30ae00(0x967)+_0x2a6492+'\x22>'+_0x50aeb6+_0x30ae00(0x2e9);}const _0x572c4d=_0x2f4a12['attempts'][_0x2f4a12[_0x30ae00(0x5ae)][_0x30ae00(0x88b)]-0x1],_0x3877e1=(_0x572c4d[_0x30ae00(0x38e)]||[])['map'](_0x429c5e=>{const _0x3efe31=_0x30ae00,_0x39b32c=Object[_0x3efe31(0x48c)](BADGES)[_0x3efe31(0xafd)](_0x4204cb=>_0x4204cb['id']===_0x429c5e);return _0x39b32c?_0x3efe31(0x6d0)+_0x39b32c[_0x3efe31(0x4ad)]+_0x3efe31(0x2dc)+_0x39b32c[_0x3efe31(0x228)]+_0x3efe31(0x564):'';})[_0x30ae00(0x85c)]('');_0x12856e+=_0x30ae00(0x59c)+_0x3a7d47+_0x30ae00(0x396)+_0x2f4a12[_0x30ae00(0x4ed)]+_0x30ae00(0x40e)+_0x2f4a12[_0x30ae00(0x3d0)]+'\x20/\x20'+_0xe9440+_0x30ae00(0x34d)+_0x7ff406+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x2f4a12['points']||0x0)+_0x30ae00(0x34d)+(_0xb1416b?'':_0x30ae00(0x792)+(_0x2f4a12[_0x30ae00(0x5ae)]?.[_0x30ae00(0x88b)]||0x1)+_0x30ae00(0x4dc))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb1416b?'':_0x30ae00(0x3b2)+new Date(_0x2f4a12['latestSubmittedAt'])['toLocaleString']('th-TH')+_0x30ae00(0x4dc))+_0x30ae00(0xad5)+(_0x3877e1||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2768b0[_0x52e1c3(0x519)]=_0x12856e,_0x15bcfc&&!_0xb1416b&&_0x15bcfc[_0x52e1c3(0xa58)](_0x52e1c3(0xb06))[_0x52e1c3(0x8e0)](_0x35c55a=>{const _0x2a828a=_0x52e1c3,_0x269049=_0x35c55a[_0x2a828a(0x622)](_0x2a828a(0x746));if(_0x269049)_0x269049[_0x2a828a(0x5b3)]();_0x35c55a[_0x2a828a(0x478)]['sort']===quizLeaderboardSortBy&&(_0x35c55a['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x2a828a(0x703));});}async function handleDeleteSubmission(_0x5691b9){const _0x3b211c=_0x712516;if(!currentQuizData||!currentQuizData['id']||!_0x5691b9){showMessage(_0x3b211c(0x708));return;}showConfirmation(_0x3b211c(0xaa0)+_0x5691b9+_0x3b211c(0x237),async()=>{const _0x3e13bc=_0x3b211c,_0x5cbf39=currentQuizData['id'],_0x27d3d9=doc(db,_0x3e13bc(0xade)+appId+_0x3e13bc(0x8a4)+_0x5cbf39+_0x3e13bc(0x437),_0x5691b9);try{await deleteDoc(_0x27d3d9),showMessage(_0x3e13bc(0x43c)+_0x5691b9+_0x3e13bc(0x758));}catch(_0xbf08e0){console[_0x3e13bc(0x7e3)](_0x3e13bc(0x1f3),_0xbf08e0),showMessage(_0x3e13bc(0xab7));}});}async function handleLoadQuiz(){const _0x18804b=_0x712516,_0x27faad=document['getElementById'](_0x18804b(0x84b)),_0x325bfc=_0x27faad['value'][_0x18804b(0x847)]();if(!_0x325bfc){showMessage(_0x18804b(0x271));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']=_0x18804b(0xac4);try{const _0x2f1c8c=doc(db,_0x18804b(0xade)+appId+'/public/data/quizzes',_0x325bfc),_0x22c2c0=await getDoc(_0x2f1c8c);if(!_0x22c2c0['exists']()){showMessage(_0x18804b(0x458));return;}currentQuizData={'id':_0x22c2c0['id'],..._0x22c2c0['data']()};const _0x1ef08b=currentQuizData[_0x18804b(0x407)]||'active',_0x3fffdb=new Date();if(_0x1ef08b===_0x18804b(0x516)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x1ef08b===_0x18804b(0x6b2)){const _0x46f3e7=currentQuizData[_0x18804b(0x84e)]?new Date(currentQuizData[_0x18804b(0x84e)]):null,_0x1614ce=currentQuizData[_0x18804b(0x74b)]?new Date(currentQuizData['endTime']):null;if(_0x46f3e7&&_0x3fffdb<_0x46f3e7){showMessage(_0x18804b(0x4a8)+_0x46f3e7['toLocaleString'](_0x18804b(0x57f),{'hour12':![]}));return;}if(_0x1614ce&&_0x3fffdb>_0x1614ce){showMessage(_0x18804b(0x8ff));return;}}const _0x4a2dbb=currentQuizData['projectId'];currentProjectId=_0x4a2dbb;const _0x2f8785=doc(db,_0x18804b(0xade)+appId+_0x18804b(0x42a),_0x4a2dbb),_0x22b28d=await getDoc(_0x2f8785);if(!_0x22b28d[_0x18804b(0x23c)]()){showMessage(_0x18804b(0x2bf));return;}const _0x4096d6=_0x22b28d[_0x18804b(0x4fb)]();currentStudentProjectData=_0x4096d6,displayStudentNameSelector(_0x4096d6[_0x18804b(0xa29)],currentQuizData['topic']);}catch(_0x152124){console['error'](_0x18804b(0x41e),_0x152124),showMessage(_0x18804b(0x685));}finally{loadQuizBtn[_0x18804b(0xab8)]=![],loadQuizBtn['innerHTML']=_0x18804b(0x722);}}async function handleJoinLiveGame(){const _0x318d27=_0x712516,_0x576d09=document[_0x318d27(0x7e1)](_0x318d27(0x6a0)),_0x38a20a=document['getElementById'](_0x318d27(0x989)),_0x5aaebe=document[_0x318d27(0x7e1)](_0x318d27(0x37a)),_0x4e12fe=_0x576d09[_0x318d27(0x848)][_0x318d27(0x847)](),_0x1952f1=_0x38a20a[_0x318d27(0x848)][_0x318d27(0x847)]();if(!_0x4e12fe||!_0x1952f1){showMessage(_0x318d27(0xa42));return;}_0x5aaebe[_0x318d27(0xab8)]=!![],_0x5aaebe['innerHTML']=_0x318d27(0x5ff);try{const _0xb8681=collection(db,_0x318d27(0xade)+appId+_0x318d27(0x828)),_0x406357=query(_0xb8681,where(_0x318d27(0x8d3),'==',_0x4e12fe),where('status','in',[_0x318d27(0xa00),_0x318d27(0x25a)])),_0x147ee9=await getDocs(_0x406357);if(_0x147ee9[_0x318d27(0x47c)]){showMessage(_0x318d27(0x40d));return;}const _0x5d2235=_0x147ee9[_0x318d27(0xa6a)][0x0],_0x535f02=_0x5d2235[_0x318d27(0x4fb)]();currentLiveGameId=_0x5d2235['id'];const _0x3d5378=_0x535f02[_0x318d27(0x351)],_0x32f35b=doc(db,_0x318d27(0xade)+appId+'/public/data/quizzes',_0x3d5378),_0x12bab7=await getDoc(_0x32f35b);if(!_0x12bab7['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x12bab7['id'],..._0x12bab7[_0x318d27(0x4fb)]()};if(_0x535f02['players']&&_0x535f02[_0x318d27(0x3b0)][_0x1952f1]){const _0x16e2dd=_0x535f02[_0x318d27(0x3b0)][_0x1952f1];if(_0x16e2dd[_0x318d27(0x407)]===_0x318d27(0x516)){_0x5aaebe[_0x318d27(0x519)]=_0x318d27(0x30f);const _0x77c322={};_0x77c322[_0x318d27(0xae9)+_0x1952f1+_0x318d27(0x36f)]=_0x318d27(0x2e2),await updateDoc(doc(db,_0x318d27(0xade)+appId+'/public/data/liveGames',currentLiveGameId),_0x77c322),showView('live-game'),currentStudentName=_0x1952f1,listenForLiveGameUpdates();return;}else{showMessage(_0x318d27(0x7ea));return;}}if(_0x535f02[_0x318d27(0x407)]!=='lobby'){showMessage(_0x318d27(0x909));return;}_0x5aaebe[_0x318d27(0x519)]=_0x318d27(0x669);const _0x3a051e={};_0x3a051e['players.'+_0x1952f1]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x318d27(0x2e2)},await updateDoc(doc(db,_0x318d27(0xade)+appId+'/public/data/liveGames',currentLiveGameId),_0x3a051e),currentStudentName=_0x1952f1,listenForLiveGameUpdates();}catch(_0x28369a){console[_0x318d27(0x7e3)](_0x318d27(0xaff),_0x28369a),showMessage(_0x318d27(0x549));}finally{_0x5aaebe['disabled']=![],_0x5aaebe['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x2a8b97,_0x224afb){const _0x127375=_0x712516,_0x4535cc=document[_0x127375(0x7e1)](_0x127375(0x201));document[_0x127375(0x7e1)]('student-quiz-topic')['textContent']=_0x127375(0x2bc)+_0x224afb,!_0x2a8b97||_0x2a8b97[_0x127375(0x88b)]===0x0?(_0x4535cc[_0x127375(0x519)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x127375(0xab8)]=!![]):(_0x4535cc[_0x127375(0x519)]=_0x127375(0x8b2),_0x2a8b97['forEach'](_0x174072=>{const _0x5e4e29=_0x127375,_0x4d5c93=document[_0x5e4e29(0x253)]('option');_0x4d5c93['value']=_0x174072,_0x4d5c93['textContent']=_0x174072,_0x4535cc[_0x5e4e29(0x97a)](_0x4d5c93);}),startQuizBtn[_0x127375(0xab8)]=![]),studentInitialView['classList'][_0x127375(0x484)]('hidden'),studentNameSelectionView[_0x127375(0x709)][_0x127375(0x5b3)](_0x127375(0x984));}function shuffleArray(_0x2f2067){const _0x587bd0=_0x712516;for(let _0x56381b=_0x2f2067[_0x587bd0(0x88b)]-0x1;_0x56381b>0x0;_0x56381b--){const _0x5a9102=Math[_0x587bd0(0xa67)](Math[_0x587bd0(0x658)]()*(_0x56381b+0x1));[_0x2f2067[_0x56381b],_0x2f2067[_0x5a9102]]=[_0x2f2067[_0x5a9102],_0x2f2067[_0x56381b]];}}function getShuffledQuiz(_0x5badb6){const _0x172b1a=_0x712516;let _0x4c63ed=JSON[_0x172b1a(0x689)](JSON[_0x172b1a(0x44c)](_0x5badb6));const _0x3bf82d=_0x4c63ed[_0x172b1a(0x9c9)]?.[_0x172b1a(0x60f)]||_0x172b1a(0x994);if(_0x3bf82d==='none')return _0x4c63ed;return(_0x3bf82d===_0x172b1a(0x9d5)||_0x3bf82d===_0x172b1a(0x2c9))&&shuffleArray(_0x4c63ed['questions']),(_0x3bf82d===_0x172b1a(0x4e1)||_0x3bf82d===_0x172b1a(0x2c9))&&_0x4c63ed[_0x172b1a(0x2f6)]['forEach'](_0x2114f4=>{const _0xf2ffa5=_0x172b1a,_0xb009d5=_0x2114f4['questionType']||_0x4c63ed['quizType'];if(_0x2114f4[_0xf2ffa5(0x89f)]){let _0x4f49f7=_0x2114f4[_0xf2ffa5(0x89f)][_0xf2ffa5(0x4b7)]((_0x2e1e64,_0x2ce46b)=>({'text':_0x2e1e64,'isCorrect':_0x2ce46b===_0x2114f4['correctAnswerIndex']}));shuffleArray(_0x4f49f7),_0x2114f4[_0xf2ffa5(0x89f)]=_0x4f49f7[_0xf2ffa5(0x4b7)](_0x1359d9=>_0x1359d9[_0xf2ffa5(0x7c6)]),_0x2114f4[_0xf2ffa5(0x4d1)]=_0x4f49f7['findIndex'](_0x28d45f=>_0x28d45f[_0xf2ffa5(0xa3c)]);}_0xb009d5===_0xf2ffa5(0x476)&&_0x2114f4['allResponses']&&shuffleArray(_0x2114f4[_0xf2ffa5(0xa5c)]);}),_0x4c63ed;}function displayQuizForStudent(_0x5eb548){const _0x3533bb=_0x712516;studentQuizArea[_0x3533bb(0x709)][_0x3533bb(0x5b3)](_0x3533bb(0x984)),currentDisplayedQuiz=getShuffledQuiz(_0x5eb548);currentMode!==_0x3533bb(0xa6f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3533bb(0x996)](_0x3533bb(0xaea),handleFullscreenChange),document[_0x3533bb(0x996)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x3533bb(0x996)](_0x3533bb(0x491),resetDimTimer),window[_0x3533bb(0x996)]('mousedown',resetDimTimer),window[_0x3533bb(0x996)](_0x3533bb(0x304),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x4218da=currentDisplayedQuiz[_0x3533bb(0x9c9)]?.[_0x3533bb(0x2ce)]||_0x3533bb(0x994);if(_0x4218da===_0x3533bb(0x427))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x3533bb(0x9d0)]);else _0x4218da===_0x3533bb(0x221)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x35c2fb=_0x712516;let _0x528ee6=_0x35c2fb(0x360)+currentDisplayedQuiz['topic']+_0x35c2fb(0xaa9)+(currentMode===_0x35c2fb(0xa6f)?_0x35c2fb(0x4a7):'')+_0x35c2fb(0x54c);currentDisplayedQuiz['questions']['forEach']((_0x40c48a,_0x127093)=>{const _0x272a25=_0x35c2fb,_0x247bf1=_0x40c48a['questionType']||currentDisplayedQuiz[_0x272a25(0x817)];_0x528ee6+=_0x272a25(0x687);_0x247bf1===_0x272a25(0x476)?_0x528ee6+=_0x272a25(0x3ec)+(_0x127093+0x1)+'.\x20'+_0x40c48a[_0x272a25(0x20f)]+_0x272a25(0x8c5)+_0x127093+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40c48a[_0x272a25(0xa5c)]['map'](_0x252773=>_0x272a25(0x7ac)+_0x252773+'\x22>'+_0x252773+_0x272a25(0xa85))[_0x272a25(0x85c)]('')+_0x272a25(0x814):(_0x528ee6+='<p>'+(_0x127093+0x1)+'.\x20'+(_0x40c48a[_0x272a25(0x811)]||_0x40c48a[_0x272a25(0x383)])+_0x272a25(0x9ad),_0x40c48a['imageCode']&&(_0x528ee6+=_0x272a25(0x34e)+_0x40c48a[_0x272a25(0x92b)]+_0x272a25(0x6b3)));_0x528ee6+=_0x272a25(0x75c);switch(_0x247bf1){case _0x272a25(0x344):_0x528ee6+=_0x272a25(0x876)+_0x127093+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x272a25(0x34b):_0x528ee6+=_0x272a25(0x384)+_0x127093+_0x272a25(0x8c4)+_0x127093+_0x272a25(0x345)+_0x127093+_0x272a25(0x2de),_0x528ee6+=_0x272a25(0x384)+_0x127093+_0x272a25(0x474)+_0x127093+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x127093+_0x272a25(0x7d9);break;case _0x272a25(0x476):break;case'fill_in_the_blank':case _0x272a25(0xaa4):default:_0x528ee6+=_0x40c48a['options'][_0x272a25(0x4b7)]((_0x40bf97,_0x2a315c)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x127093+_0x272a25(0x80b)+_0x2a315c+_0x272a25(0x3e6)+_0x127093+_0x272a25(0x408)+_0x2a315c+_0x272a25(0x31b)+_0x127093+_0x272a25(0x80b)+_0x2a315c+'\x22>'+_0x40bf97+_0x272a25(0x270))[_0x272a25(0x85c)]('');break;}_0x528ee6+=_0x272a25(0x68b);}),_0x528ee6+=_0x35c2fb(0x3bc),_0x528ee6+=_0x35c2fb(0xa53),studentQuizArea[_0x35c2fb(0x519)]=_0x528ee6;if(currentMode===_0x35c2fb(0xa6f)){const _0x35c8ed=document['getElementById'](_0x35c2fb(0x583));if(_0x35c8ed)_0x35c8ed[_0x35c2fb(0x996)](_0x35c2fb(0x66f),cancelAdminTest);}document[_0x35c2fb(0x7e1)](_0x35c2fb(0x7a0))[_0x35c2fb(0x996)]('submit',handleSubmitQuiz);if(window['MathJax'])window[_0x35c2fb(0x7e0)][_0x35c2fb(0x7a9)]([studentQuizArea]);}async function handleSubmitQuiz(_0x392385){const _0x17c606=_0x712516;if(_0x392385)_0x392385[_0x17c606(0x6db)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4f66de=document['getElementById'](_0x17c606(0x7a0));if(!_0x4f66de)return;const _0x2c50de=_0x4f66de[_0x17c606(0x622)](_0x17c606(0x397)),_0x288d09=currentDisplayedQuiz[_0x17c606(0x2f6)]['some'](_0x495537=>_0x495537[_0x17c606(0xad0)]==='short_answer');_0x2c50de&&(_0x2c50de[_0x17c606(0xab8)]=!![],_0x288d09?_0x2c50de[_0x17c606(0x519)]=_0x17c606(0x21d):_0x2c50de[_0x17c606(0x519)]=_0x17c606(0x3d4));const _0x23e6e6=new FormData(_0x4f66de),_0x198f55=currentDisplayedQuiz[_0x17c606(0x2f6)]['map']((_0x28d8ab,_0x4aabac)=>{const _0x401e1d=_0x17c606,_0x5eb1c0=_0x28d8ab[_0x401e1d(0xad0)]||currentDisplayedQuiz[_0x401e1d(0x817)],_0x560d67=_0x23e6e6[_0x401e1d(0x62e)](_0x401e1d(0x25a)+_0x4aabac);if(_0x560d67!==null&&_0x560d67!==undefined){if(_0x5eb1c0===_0x401e1d(0xaa4)||_0x5eb1c0==='fill_in_the_blank')return parseInt(_0x560d67);return _0x560d67;}return null;}),_0x3138bd=currentQuizData['id'],_0xa66eb7=doc(db,_0x17c606(0xade)+appId+_0x17c606(0x8a4)+_0x3138bd+_0x17c606(0x437),currentStudentName),_0x45e254=await getDoc(_0xa66eb7),_0x46bb6d=_0x45e254[_0x17c606(0x23c)]()?_0x45e254['data']():{},_0x11bf2d=_0x46bb6d[_0x17c606(0x5ae)]||[];await processAndSubmitAnswers(_0x198f55,_0x11bf2d);}async function gradeShortAnswerWithAI(_0x472c2f,_0x3f6c9d){const _0x21168d=_0x712516;if(!_0x472c2f||!_0x3f6c9d)return![];try{const _0x415c46='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x472c2f+_0x21168d(0xa6c)+_0x3f6c9d+_0x21168d(0x4a1),_0x377753={'contents':[{'role':_0x21168d(0x524),'parts':[{'text':_0x415c46}]}]},_0x9de7c4=_0x21168d(0x1f9),_0x47a748=_0x21168d(0x610)+_0x9de7c4,_0x8826cb=await fetch(_0x47a748,{'method':_0x21168d(0x4fc),'headers':{'Content-Type':_0x21168d(0x3b8)},'body':JSON[_0x21168d(0x44c)](_0x377753)});if(!_0x8826cb['ok'])throw new Error(_0x21168d(0x6a7));const _0x5d774d=await _0x8826cb[_0x21168d(0x515)](),_0x231d55=_0x5d774d['candidates'][0x0][_0x21168d(0x296)][_0x21168d(0x532)][0x0][_0x21168d(0x7c6)]['trim']()['toLowerCase']();return _0x231d55==='true';}catch(_0xc46f83){return console[_0x21168d(0x7e3)](_0x21168d(0x4c2),_0xc46f83),![];}}async function processAndSubmitAnswers(_0x3fd0ee,_0x4d1cca){const _0x3a902c=_0x712516;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3a902c(0x764)](_0x3a902c(0xaea),handleFullscreenChange),document[_0x3a902c(0x764)](_0x3a902c(0x214),handleVisibilityChange);let _0x8ef0c6=0x0,_0x5e8ba7=0x0,_0x2770d0=[];const _0x56269a=[],_0x17272e=currentDisplayedQuiz[_0x3a902c(0x2f6)]['length'];let _0x37a415=0x0;const _0x4c0cfc=currentDisplayedQuiz['questions'];for(let _0x2bf484=0x0;_0x2bf484<_0x4c0cfc[_0x3a902c(0x88b)];_0x2bf484++){const _0x29189c=_0x4c0cfc[_0x2bf484],_0x36672b=_0x3fd0ee[_0x2bf484],_0x58db1c=_0x29189c[_0x3a902c(0xad0)]||currentDisplayedQuiz[_0x3a902c(0x817)];let _0x31e170=![];if(_0x36672b!==null&&_0x36672b!=='')switch(_0x58db1c){case'matching_item':_0x31e170=_0x36672b===_0x29189c[_0x3a902c(0x1f2)];break;case'true_false':const _0x5cd377=_0x36672b===!![]||_0x36672b==='true';_0x31e170=_0x5cd377===_0x29189c['correctAnswer'];break;case _0x3a902c(0x344):_0x31e170=await gradeShortAnswer(_0x36672b,_0x29189c);break;case _0x3a902c(0xaa4):default:_0x31e170=Number(_0x36672b)===_0x29189c[_0x3a902c(0x4d1)];break;}_0x31e170?(_0x8ef0c6++,_0x37a415++,_0x37a415===0x3&&(_0x2770d0['push'](BADGES[_0x3a902c(0x9a1)]['id']),_0x37a415=0x0)):_0x37a415=0x0;let _0x42563f=null;_0x29189c['options']&&_0x36672b!==null&&(_0x42563f=_0x29189c[_0x3a902c(0x89f)][_0x36672b]),_0x56269a['push']({'questionId':_0x29189c['id'],'answer':_0x36672b,'answerText':_0x42563f,'isCorrect':_0x31e170,'originalQuestionText':_0x29189c[_0x3a902c(0x20f)]||_0x29189c[_0x3a902c(0x383)]});}_0x5e8ba7=_0x8ef0c6*0xa;_0x8ef0c6===_0x17272e&&_0x17272e>0x0&&!currentDisplayedQuiz[_0x3a902c(0x812)]&&(_0x5e8ba7+=0x32,_0x2770d0[_0x3a902c(0x95b)](BADGES['PERFECT_SCORE']['id']));const _0x288dbc=currentDisplayedQuiz[_0x3a902c(0x9c9)]?.['passingScore']??Math[_0x3a902c(0xa67)](_0x17272e/0x2),_0x2b514d=currentDisplayedQuiz['settings']?.[_0x3a902c(0x2ce)];if(_0x2b514d===_0x3a902c(0x427)&&quizStartTime){const _0x299004=(new Date()-quizStartTime)/0x3e8,_0x2bd830=currentDisplayedQuiz[_0x3a902c(0x9c9)][_0x3a902c(0x9d0)]*0x3c;_0x8ef0c6>=_0x288dbc&&_0x299004<_0x2bd830/0x2&&(_0x5e8ba7+=0x14,_0x2770d0[_0x3a902c(0x95b)](BADGES['QUICK_THINKER']['id']));}_0x4d1cca['length']===0x0&&_0x8ef0c6===_0x17272e&&_0x17272e>0x0&&_0x2770d0[_0x3a902c(0x95b)](BADGES[_0x3a902c(0x212)]['id']);if(_0x4d1cca[_0x3a902c(0x88b)]>0x0){const _0x544156=_0x4d1cca[0x0][_0x3a902c(0x634)];if(_0x544156<_0x288dbc&&_0x8ef0c6>=_0x288dbc){const _0x59b991=_0x4d1cca[_0x3a902c(0x6cf)](_0x1298ed=>(_0x1298ed['badges']||[])[_0x3a902c(0x29d)](BADGES[_0x3a902c(0x69a)]['id']));!_0x59b991&&_0x2770d0[_0x3a902c(0x95b)](BADGES[_0x3a902c(0x69a)]['id']);}}_0x4d1cca[_0x3a902c(0x88b)]===0x4&&_0x2770d0[_0x3a902c(0x95b)](BADGES[_0x3a902c(0x701)]['id']);const _0x352a0d=currentDisplayedQuiz[_0x3a902c(0x9c9)]['resultsDisplay'];if(currentMode==='admin-testing'){handleResultDisplay(_0x352a0d,_0x8ef0c6,_0x5e8ba7,_0x2770d0,_0x56269a,_0x17272e);return;}const _0x3cae8f=currentQuizData['id'],_0x1377ab=doc(db,_0x3a902c(0xade)+appId+_0x3a902c(0x8a4)+_0x3cae8f+_0x3a902c(0x437),currentStudentName);try{const _0x3b048a=[..._0x4d1cca],_0x47d273={'score':_0x8ef0c6,'points':_0x5e8ba7,'badges':_0x2770d0,'submittedAt':new Date()['toISOString'](),'answers':_0x56269a};_0x3b048a[_0x3a902c(0x95b)](_0x47d273);const _0xc67353=_0x4d1cca[_0x3a902c(0x88b)]===0x0?_0x8ef0c6:_0x4d1cca[0x0][_0x3a902c(0x634)]||0x0,_0xf67497=Math[_0x3a902c(0xa7d)](..._0x3b048a[_0x3a902c(0x4b7)](_0x1827d6=>_0x1827d6['score'])),_0x4c8fdb=_0x8ef0c6,_0x4593a2=_0x47d273['submittedAt'];await setDoc(_0x1377ab,{'studentName':currentStudentName,'totalQuestions':_0x17272e,'attempts':_0x3b048a,'firstScore':_0xc67353,'bestScore':_0xf67497,'latestScore':_0x4c8fdb,'points':_0x5e8ba7,'latestSubmittedAt':_0x4593a2},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x3a902c(0x243)],currentStudentName),handleResultDisplay(_0x352a0d,_0x8ef0c6,_0x5e8ba7,_0x2770d0,_0x56269a,_0x17272e);}catch(_0x47f2a4){console[_0x3a902c(0x7e3)](_0x3a902c(0x242),_0x47f2a4),showMessage(_0x3a902c(0x61e));}}function _0x34d8(){const _0xdd73c5=['clientY','<i\x20class=\x22fas\x20fa-magic\x22></i>','write','scratchpad-modal','ผ่านฉลุย','กำลังสร้างคำถามข้อ\x20','split','candidates','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x20คน\x20ตอบถูก</p></div>','ลบหัวข้อสำเร็จ','.save-to-bank-btn','settings','scratchpad-controls','text-white','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','.quiz-bank-settings-btn','timerDuration','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','element','grid-view-btn','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','cdot','isFinished','screen_exit','text-emerald-900','next-question-btn','<p\x20class=\x22text-xl\x22>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','.live-summary-tooltip.visible','open-quiz-bank-btn',':</p><p\x20class=\x22text-xs\x22>','comparison-chart','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x22\x20เพื่อสร้างชุดคู่ขนาน...','แก้ไขข้อนี้','text-gray-200','จำนวนเชิงซ้อน\x20(เสริม)','totalQuestions','```','generated-quiz-container','Failed\x20to\x20end\x20group\x20mode\x20game:','cancel-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','scale','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','mode','projectOrder','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ย้าย','.edit-custom-topic-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<div\x20class=\x22loader\x20mx-auto\x22></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','false','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','<p\x20class=\x22','mjx-container','lobby','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','project-detail','gain','.edit-question-btn','เกิดข้อผิดพลาดในการลบโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]','auto-fix-latex-btn','ปิดใช้งาน','กรุณาเลือกคำตอบของกลุ่ม','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','text-indigo-700','bulk-quiz-settings-modal','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','touches','quiz-results-table-body','OBJECT','num-questions','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','transformOrigin','.lastAnswerIndex','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','[role=\x22textbox\x22]','timer-duration-input','correctAnswer','answered','cursor','generate-from-file-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','students','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','offset','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','.kick-player-btn-sync','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','.correct-response-input','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','.unpair-quiz-btn','.delete-project-btn','prod','update','\x22\x20ซึ่งมีทั้งหมด\x20','team-student-list','starred','hint-btn','isCorrect','toggle','.quiz-bank-try-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','autoTable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','#E0E7FF','highlighter-tools-group','พื้นที่ใต้กราฟ/ระหว่างกราฟ','true','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','filter','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','contentEditable','[contenteditable=\x22true\x22]','text-blue-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results-table','อัปเดตแบบทดสอบเก่า\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','</form>','innerText','Enter','\x20(ID:\x20','#26890c','querySelectorAll','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','allResponses','.quiz-bank-move-btn','verify-answers-btn','#E5E7EB','fromCharCode','\x5csqrt{$1}','Error\x20toggling\x20pin\x20status:','leaderboard-tab-content','neq','ai-quiz-app-aefee.firebasestorage.app','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','floor','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x22.\x20Ideal\x20Answer:\x20\x22','answering','เกิดข้อผิดพลาดในการบันทึก','admin-testing','behavior-log-container','adaptive-quiz-checkbox','lineCap','global-live-game-count','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','teacherSuggestions','Error\x20listening\x20for\x20starred\x20quizzes:','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','currentQuestionIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','backgroundColor','text-red-300\x20hover:text-red-100','text-tab','ระยะเวลา\x20(วินาที):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','size','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','log','timestamp','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','การลบเศษส่วน','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doughnut','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','touchend','position','leaderboard-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','</label></div>','คะแนนเต็ม','game-start-mode','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','.isScored','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<div>','drill-feedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','pen-tools-group','bg-green-50','insertAdjacentHTML','multiple_choice','draggable-text','function','quiz-leaderboard-table','19902916reQUGg','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<br>','<li>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','GlobalWorkerOptions','medium','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พีชคณิตและฟังก์ชัน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','ฟังก์ชันราก\x20(root)','getContext','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERFECT_SCORE','เกิดข้อผิดพลาดในการลบผลสอบ','disabled','ฟังก์ชันพหุนาม','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','tGain','pin','บันทึกคำถามใหม่\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','projectView','quiz','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','ฟังก์ชันสัมพัทธ์\x20(rational)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','#results-table\x20thead\x20tr','^{\x5ccirc}\x5ctext{C}$','.scratchpad-content-wrapper','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','ยอดเยี่ยม!','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','Error\x20showing\x20quiz\x20detail\x20view:','questionType','สัญกรณ์วิทยาศาสตร์','webkitExitFullscreen','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.topic-name-input','.option-text','presentation-short-answer-input','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ถูกต้อง!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','submit-team-answer-btn','artifacts/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','jspdf','ring-purple-400','red','.project-card-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#per-question-options\x20textarea','players.','fullscreenchange','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','toLowerCase','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-home-btn','\x20</div>\x0a\x20\x20\x20\x20','confirm-move-quiz-btn','คัดลอกรหัสแล้ว!','กรุณาเลือกไฟล์ก่อน','\x5cneq','fa-crown\x20text-yellow-500','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','blueprint-input-area','กลุ่ม:\x20','getBBox','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','กรุณาเลือกคำตอบก่อนครับ','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','find','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','Error\x20joining\x20live\x20game:','สมการเหตุผล\x20(rational)','className','สลับไปโหมดนักเรียน','contains','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','\x20/\x20','thead\x20.sortable-header','<div\x20class=\x22answer-space\x22></div>','promise','Attempting\x20to\x20save\x20game\x20results...','confidence-scoring-toggle','quiz-settings-modal','targetId','_blank','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','print','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','Error\x20generating\x20lesson\x20plan:','comeback_king','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','analytics','fill_in_no_choices','generate-from-blueprint-btn','Error\x20generating\x20parallel\x20test\x20from\x20bank:','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','findIndex','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','link-input-area','student-quiz-area','globalSettings','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x20pointer-events-none\x22>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','underline','ปริมาตร/ความจุและการแปลง','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</p><p><strong>เฉลย:</strong>\x20','delete-svg-btn','<option>กำลังโหลดโปรเจค...</option>','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','พาราโบลา','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','data:application/vnd.ms-word;charset=utf-8,','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','correctResponse','Error\x20deleting\x20submission:','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','<li\x20class=\x22','export-leaderboard-excel-btn','(^|[^\x5c\x5c])\x5cb','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Original\x20quiz\x20not\x20found','translate(','summary_chart','คะแนนยังไม่ถึงครึ่ง','แผนภาพกล่อง\x20(box\x20plot)','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','student-name-select','code','/public/data/projects/','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','class','STRING','close-game-final-btn','Error\x20saving\x20quiz:','projectSortOrder','project-sort-select','touchmove','ARRAY','stem','student-join-game-view','every','FIRST_TRY_ACE','submissions','visibilitychange','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','focus','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ทำคะแนนเต็มในการทำครั้งแรก','cancel-quiz-edits-btn','presentation-ai-result','fill_in_with_choices','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','per_question','ความแปรปรวน','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','justification','icon','พบข้อสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','results-quiz-title','opacity','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','Error\x20unpairing\x20quizzes:','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','ผู้ควบคุม\x20(ทดสอบ)','.highlighter-color-btn','การคูณ','result','progress-project-select','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','#FEF3C7','confirm-delete-btn','retake-quiz-loop-btn','pointerType','exists','</p></div>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','.lastAnswerCorrect','bank-tab','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','Error\x20saving\x20submission:','projectId','results-tab-content','#ffffff','pointerup','start-live-race-generated-btn','showImproveButton','analyze-strengths-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','padStart','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','upperGroupNames','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','createElement','ผลรวมอนุกรม\x20(Σ)','403141RkQteS','ดอกเบี้ยทบต้น','scrollIntoView','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ตอบถูกทุกข้อในแบบทดสอบนี้','question','input[type=\x22checkbox\x22]:checked','confirm-game-start-modal','เกิดข้อผิดพลาดในการอัปเดต:\x20','mouseup','deltaY','dispatchEvent','cancel-rename-quiz-btn','</p><div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','ส่วนเบี่ยงเบนเฉลี่ย','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ไม่สามารถโหลดข้อมูลอันดับได้','.toggle-actions-btn','จับคู่เพื่อเปรียบเทียบผล','transform','ค่าเสื่อมราคา','ค่าเฉลี่ย','#10B981','user-id-display','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blueprint-tab','</label>\x0a\x20\x20\x20\x20</div>\x0a','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h3>','#F59E0B','export-image-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','link-topic-input','bg-red-500','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียน','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<button\x20data-quiz-id=\x22','submittedAt','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','numPages','eraser-tool-btn','showInStudentDashboard','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','save-settings-btn','Error\x20generating\x20from\x20link:','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','#view-rankings-btn','\x22\x20data-topic=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','.ql-editor','katex','content','text-blue-700\x20bg-blue-100','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','line-through\x20text-red-700','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ผู้ไม่ยอมแพ้','includes','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','select','00:00','ยืนยันการจับคู่','scratchpad-question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสแกนหาแบบทดสอบเก่า...','isStarred','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','เกิดข้อผิดพลาดในการสร้างใบงาน','test','passcode-input-container','bulk-shuffle-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบทศนิยม','คัดลอกแบบทดสอบสำเร็จ','tan','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','shadowBlur','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','<span\x20class=\x22font-bold\x20','.duplicate-quiz-btn','แบบทดสอบ:\x20','redo-btn','#student-project-leaderboard-content\x20thead','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','pairedQuizId','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22><span>','confirm-not-confident','msRequestFullscreen','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','player-list-lobby','both','ดอทโปรดักต์\x20(dot)','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','timerMode','lastAnswerIndex','touch','#per-question-options\x20select','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนได้เกินครึ่ง','getScreenCTM','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.generate-lesson-btn','summary','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22><i\x20class=\x22fas\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','_opt0\x22>ใช่</label></div>','-\x20ข้อ\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','all','active','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','quiz-bank-modal','</span></td>','\x22>ไม่ใช่</p>','<div\x20class=\x22my-6\x22>','bg-red-100','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','save-visibility-settings-btn','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','shouldSaveResults','resultsDisplay','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','การหาร','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','questions','.ideal-answer-input','bg-yellow-50','.admin-try-quiz-list-btn','reduce','Error\x20starting\x20group\x20quiz:','game-start-quiz-id','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','สมการราก\x20(radical)','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','confirm-team-players-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','touchstart','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','หัวข้อที่สร้างเอง','</tbody></table></div>','export-pdf-btn','text-gray-400\x20hover:text-indigo-600','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','uid','ai-quiz-app-aefee.firebaseapp.com','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','globalCompositeOperation','bg-red-50','global-quiz-search-input','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','playerName','ตรีโกณมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-quiz-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','pen-tool-btn','date_asc','ฟังก์ชันเชิงเส้นและกราฟ','ค.ร.น.\x20(LCM)','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','การบวก','removeItem','upper_group_count','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','total','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sync-player-management','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','Error\x20starting\x20game:','ไม่ได้ตอบ','qType','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','(ก่อนเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-table-body','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','.topic-actions-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','beginPath','blur','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','bg-emerald-100','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','จากไฟล์ที่แนบมานี้,\x20','ค่าความจริง/ตารางค่าความจริง','image/png','short_answer','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','อัตราการเปลี่ยนแปลงทันที','default','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','num-choices','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','true_false','wakeLock','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','</button>','first_try_ace','quizId','createObjectURL','Error\x20updating\x20quiz\x20status:','mouse','Error\x20toggling\x20star\x20status:','#FEE2E2','mousedown','password-error-msg','ใช่','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','bank-quiz-search-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x22','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','add-custom-math-topic-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','student-progress-view','คะแนนเต็ม!','.copy-quiz-id-list-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','</span></div>','$1\x5ctext(','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','confidence-scoring-description','จำนวนและการดำเนินการ','block','การแยกตัวประกอบ','.status','text-green-600','.pair-quiz-btn','bg-black/20','.choice-text','เปิด\x20(จับเวลา)','classWeaknesses','Error\x20generating\x20easy\x20version\x20quiz:','จุด\x20เส้น\x20ระนาบ','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-join-game-btn','สร้างแบบทดสอบ','createdAt','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-editor-questions-container','ห.ร.ม.\x20(GCD)','groups','visible','questionText','<div><input\x20type=\x22radio\x22\x20id=\x22q','Failed\x20to\x20resume\x20game\x20session:','delete-all-students-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','badges','style','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.question-editor-item','สร้างใหม่','เปิดใช้งาน','Error\x20fetching\x20student\x20rankings:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','button[type=\x22submit\x22]','Error\x20adding\x20students:','เงินงวด\x20(อนุกรมเงินงวด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','.pdf','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','localeCompare','ไฮเพอร์โบลา','แบบทดสอบที่ติดดาว','save-game-results-checkbox','answer-grid-container','.delete-svg-btn','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','generate-from-link-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-btn','quiz-leaderboard-table-body','isPasscodeEnabled','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','กรุณาเลือกโปรเจคปลายทาง','players','project-id-display','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','bg-blue-100','รหัสไม่ถูกต้อง','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quick_thinker','กรุณาใส่ชื่อโปรเจค','application/json','requestFullscreen','.start-live-race-btn','สเกลและแผนที่','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','contents','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x20คะแนน</span></div>','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></p>','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','text-indigo-600','text-green-700\x20bg-green-100','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','.star-quiz-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','Error\x20deleting\x20quiz:','touchcancel','bestScore','join-group-activity-btn','category','มุมพิเศษ\x2030°-60°-90°','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','save-quiz-btn','project-list','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','start-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','undefined','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ไม่พบข้อมูลโปรเจค','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x20\x20\x20-\x20คำตอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','student-project-leaderboard-tab','\x22\x20name=\x22question','.project-card-container.opacity-50','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','stdDev','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','กำลังจับคู่...','.project-card-container','svg','Error\x20joining\x20activity:','รูปสแควร์รูท\x20(surd)','fill','.parallel-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','NEGATIVE_INFINITY','ตั้งเวลา\x20(เปิด)','rename-quiz-modal','.verification-result','export-leaderboard-word-btn','border-green-300\x20bg-green-50','หน่วยมวล/น้ำหนักและการแปลง','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','bank-input-area','activeGameSession','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','input[name=\x22status-option\x22]:checked','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','perQuestionStats','27411472','status','\x22\x20value=\x22','fas\x20fa-bookmark','การวัด','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Team\x20Quiz','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','Error\x20verifying\x20answers:','\x22\x20class=\x22pin-project-btn\x20','topic-input','bg-red-100\x20text-red-800','กราฟฟังก์ชันตรีโกณ','show-in-student-dashboard-checkbox','ระยะเวลา\x20(นาที):','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การเรียงสับเปลี่ยน\x20(Permutation)','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','กรุณาวาง\x20URL\x20ของบทความก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(255,\x20255,\x200,\x200.5)','Error\x20loading\x20quiz\x20for\x20student:','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','10KuayOR','leaderboard','list-view-btn','setFont','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','จัดการ','modal-shuffle-select','whole_quiz','presentation-modal','</body></html>','/public/data/projects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topics-checkbox-container','show-leaderboard-btn','สมการยกกำลัง','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','toString','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','Error\x20creating\x20project:','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','/submissions','ฟังก์ชันแบบชิ้นส่วน','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-options-container','Error\x20generating\x20worksheet:','ลบผลสอบของ\x20','สมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20confirming\x20players\x20for\x20sync\x20game:','actions-container-','post-test','reveal-answer-btn','name_asc','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scores','มุมพิเศษ\x2045°-45°-90°','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pinnedProjects','input[name=\x22question_single\x22]:checked','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','stringify','.answer-text','จำนวนเต็มบวก','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','.project-card-container:not(.opacity-50)','ส่งคำตอบ','toLocaleString','student-reading-area','.topic-category','สามเหลี่ยม\x20(ชนิด/สมบัติ)','scores-tab-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','student-progress','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','isArray','start-game-btn','stopPropagation','next-drill-btn','then','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','ราชาคัมแบ็ก','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','กำลังกลับเข้าสู่เกม\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','pointerdown','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','text/csv;charset=utf-8;','analytics-summary-cards','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','questionId','shadowColor','_opt1\x22\x20name=\x22question','student-team-selection-view','matching_item','export-compact-pdf-btn','dataset','.delete-submission-btn','fixed','confidence-modal','empty','Re-grade\x20process\x20failed:','พบ\x20Team\x20Quiz!','text-green-600\x20font-bold','กลุ่มของคุณ','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','documentElement','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','add',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','Error\x20saving\x20project\x20order:','การสร้างรูปด้วยวงเวียน–สันตรง','startsWith','confirm-quiz-settings-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','values','fix\x20the\x20option','td,\x20th','ระบบเลขและค่าประจำหลัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','mousemove','\x22\x20class=\x22delete-project-btn\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x20คะแนน\x20','สรุปผลสุดท้าย','createElementNS','คำถามถัดไป','จับคู่แบบทดสอบสำเร็จ!','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','พื้นที่วงกลม/ส่วนของวงกลม','\x22...','latestSubmittedAt','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x5cdiv','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','eraser','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','show-results-btn','questionIndex','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','quiz-generation-area','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','name','question-analytics-container',';\x22\x20data-id=\x22','/public/data/quizzes','student-rankings-modal','pre-test-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','map','Invalid\x20response\x20structure\x20from\x20AI:','#results-table','comparison','พิมพ์ตอบ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','prev-question-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','getItem','Invalid\x20response\x20structure\x20from\x20AI.','AI\x20grading\x20failed:','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','insertBefore','trail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20displaying\x20question\x20bank:','ศูนย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','toDate','project-quizzes-list','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','.pin-project-btn','กำลังดึงข้อมูลจากลิงก์...','p-2\x20bg-black/10\x20rounded-md','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','correctAnswerIndex','show_pass_fail_only','check-answer-btn','btn','sync-manage-players-btn','fa-dumbbell\x20text-gray-700','devicePixelRatio','mean','delete','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','</td>','latestScore','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','175DGxnod','choices_only','.ai-fix-formula-btn','destination-out','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','quiz-results-view','loopUntilPass','classStrengths','tfrac','file-input-area','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','flex','studentName','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','#6366F1','Error\x20pairing\x20quizzes:','274192258111','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','goto-next-question-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','พื้นที่สี่เหลี่ยม','2-digit','student-passcode-input','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','$1^{\x5ccirc}','data','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','มัธยฐาน','dfrac','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','toDataURL','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fixedData','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','num-choices-container','.regenerate-question-btn','.sortable-header','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-passcode-input','hasPerfectScoreBonus','confirm-create-project-btn','json','inactive','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','scratchpad-header','innerHTML','\x22>จาก:\x20','parseFromString','learningGaps','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22\x20value=\x22true\x22\x20','loader','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','user','เรขาคณิต','quadraticCurveTo','G-V90KRM0L63','STOP','canvas','input[type=\x22checkbox\x22]','highlighter-tool-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','specialist','ลำดับการดำเนินการ\x20(PEMDAS)','กรุณาป้อนหัวข้อสำหรับใบงาน','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','ownerSVGElement','parts','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการอ่านไฟล์','has','Error\x20deleting\x20all\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','modal-timer-duration-input','font-bold\x20text-red-700\x20line-through','team-player-status-grid','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','234KPvwUn','join-live-game-btn','str','modal-adaptive-quiz-checkbox','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Error\x20fetching\x20projects\x20for\x20move:','open','href','สมการเชิงเส้นตัวแปรเดียว','เกิดข้อผิดพลาดในการเข้าร่วมเกม','เกิดข้อผิดพลาดในการโหลดสถานะ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','quiz-editor-modal','attemptNumber','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','กราฟแท่ง\x20กราฟเส้น','ไม่พบข้อมูลการจับคู่','bottom','ยกเลิกการจับคู่สำเร็จ','shuffle-setting-select','เลือกและบันทึก','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','สร้างโปรเจคสำเร็จ!','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(หลังเรียน)\x20','groups.','\x20mx-1\x20text-lg\x22></i></span>','API\x20call\x20failed\x20with\x20status:\x20','\x5cs*\x5c(','projectName','$1\x5cfrac','bg-green-200\x20text-green-800','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','จำนวนคู่:','closest','student-team-join','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','move-quiz-modal','จำนวนคละ','ความสัมพันธ์ของมุม','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อใหม่','ไม่มีคำอธิบาย','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','71754ztKDRo','พิสัย','\x0a\x20\x20\x20\x20','.group','document','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','th-TH','.score','แคลคูลัสเบื้องต้น','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','cancel-test-btn','text-indigo-800','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','circ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','$1^{\x5ccirc}\x5ctext{C}','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','dimmed','question-complexity-select','<p\x20class=\x22font-bold\x20text-sm\x20','.csv','isConfidenceScoringEnabled','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','warn','source-over','กรุณาเลือกชื่อของคุณ','type','ปริมาตรรูปทรงสามมิติ','ไม่ใช่','name_desc','dashboardConfig','add-student-btn','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','replace','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','สมการตรีโกณมิติ','ความคล้ายของรูป','<button\x20id=\x22','admin-try-quiz-btn','rgba(239,\x2068,\x2068,\x200.9)','.cancel-edit-topic-btn','การลบ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','Failed\x20to\x20create\x20initial\x20submission\x20record:','กฎบวกและกฎคูณ','confirmation-modal','อัตราส่วนและสัดส่วน','div[data-question-index=\x22','matching','attempts','กำลังค้นหากิจกรรม...','สมการลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','export-leaderboard-pdf-btn','Error\x20generating\x20from\x20blueprint:','</span><span\x20class=\x22font-bold\x22>','quiz-search-input','include-images-checkbox','export-pdf-modal','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','export-lesson-pdf-btn','scratchpad-options','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','parallel-test-input-area','mode-switcher-btn','.pointsLastQuestion','overline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','ไม่มี','ชนิดของข้อมูลและการเก็บข้อมูล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<p><strong>คำตอบของคุณ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','questionStatus','เรขาคณิตวิเคราะห์','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','back-to-dashboard-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#000000','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','half_mark_status','timer-container','close-presentation-btn','display','ฮิสโตแกรม','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','px)\x20scale(','.topic-name-display','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x5cfrac{$1}{$2}','Error\x20loading\x20user\x20preferences:','student-project-leaderboard-content','.quiz-result-card','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','onload','Error\x20updating\x20pin\x20status:','ย้ายแบบทดสอบสำเร็จ','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','student-progress-content','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','.submittedAt','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','Failed\x20to\x20get\x20hint:','text-red-600','presentation-slide-container','#e21b3c','rgba(59,\x20130,\x20246,\x200.7)','practiceProblems','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-input-area','bg-gray-50','highlighter','text-emerald-800','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','ยืนยันและอัปเดตทั้งหมด','แผนการสอน:\x20','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','%</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','bank-quiz-list','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','text-gray-300\x20hover:text-white','\x22\x20data-pre-test-id=\x22','Error\x20saving\x20visibility\x20settings:','loop-until-pass-checkbox','globalAlpha','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','files','grid','behaviorLog','fa-shield-alt\x20text-gray-600','button[data-id]','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','shuffle','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','link-url-input','analytics-tab-content','perfect_score_status','การนับ','text-gray-100','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','Error\x20joining\x20sync\x20game:','flex\x20flex-col\x20gap-2','multiply','short','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','comparison-individual-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','กำลังวิเคราะห์ข้อสอบ\x20\x22','querySelector','live-race','scrollY','ความเท่ากันทุกประการของสามเหลี่ยม','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-700\x20bg-red-100','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','แก้ไขหัวข้อสำเร็จ','<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ยังไม่เต็มนะ','get','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','input[type=\x22radio\x22][value=\x22','cancel-game-start-btn','score','Failed\x20to\x20kick\x20player\x20','comparison-individual-tab','check-presentation-answer-btn','สมมาตร\x20(แกน/จุด)','\x22\x20ให้เป็นคำถามประเภท\x20\x22','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','.draggable-text','text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','topic-tab','.delete-custom-topic-btn','stroke','(ไม่มีชื่อ)','<div\x20class=\x22my-2\x22>','clearRect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','cloneNode','confirm-admin-login-btn','fas\x20fa-user-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pop','enable-passcode-checkbox','cancel-quiz-settings-btn','promptFeedback','$1_{$2}','</td></tr>','.live-answer-btn,\x20#live-submit-short-answer-btn','fullscreenElement','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','random','back-to-student-initial-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','text-red-900','บันทึกการตั้งค่าแล้ว','index','input[type=\x22text\x22]','Sync\x20Mode','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','keys','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','ring-2','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','#math-topics-checkbox-container\x20input:checked','.ai-fix-question-btn','manual_release','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','upperGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','totalPoints','click','hasOwnProperty','readAsDataURL','pointercancel','leaderboard-quiz','การประยุกต์เวกเตอร์พื้นฐาน','.compare-results-btn','อนุพันธ์:\x20กฎพื้นฐาน','moveTo','AI\x20แก้ไขคำถามสำเร็จ!','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ลำดับเรขาคณิต\x20(GP)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','create-project-btn','mixed','การหารเศษส่วน','setAttribute','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','parse','จากเนื้อหาต่อไปนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','.doc','คะแนนเฉลี่ย','/public/data/practiceBank','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','bg-blue-100\x20text-blue-800','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','COMEBACK_KING','passcode-prompt-message','back-from-results-btn','สลับไปโหมดผู้ควบคุม','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','เส้นรอบรูป','game-pin-input','(ก่อนเรียน)','correct','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','modal-timer-mode-select','API\x20call\x20failed','button','\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student','leaderboard_','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','คำเตือน\x20(','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','scheduled','</div>','postScore','save-project-name-btn','scrollX','รอเปิด','results-table-container','deselect-all-topics-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','badgesCount','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','กฎของโคไซน์','setAttributeNS','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','การหารทศนิยม','การปัดเศษและประมาณค่า','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','schedule','ระบบอสมการ','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','file-tab','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','\x5ccdot','some','<span\x20title=\x22','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','label[for=\x22num-questions\x22]','lineJoin','scratchpad-close-btn','generate-from-topic-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','NUMBER','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragend','preventDefault','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','behavior-log-tab-content','behavior-log','\x5cpm','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','move','project-title','per-question-options','No\x20player\x20data\x20to\x20save.','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','สอบปกติ',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','</tbody></table>','sync','ทฤษฎีบทพีทาโกรัสและการประยุกต์','live-game','หน่วยเวลาและการคำนวณเวลา','right','(ฉบับง่าย)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','left','153852yXpXLS','points','selected-answer-index-hidden','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','ดูผลสรุปสุดท้าย','transition-all','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ตัวแปรและนิพจน์','modal-loop-until-pass-checkbox','postTScore','admin-dashboard','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','show_results_only','จำนวนเต็มลบ','PERSEVERANCE','desc','</span>','Error\x20submitting\x20group\x20answer:','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','1337864CDqHMj','export-excel-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','classList','3310JjSZlf','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','perseverance','move-quiz-project-select','รูปสี่เหลี่ยมและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20old\x20quizzes:','/public/data/teamQuizzes','เกิดข้อผิดพลาดในการลบหัวข้อ','/questionBank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผิด','\x20รายการสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','mouseleave','Error\x20fetching\x20quiz\x20status:','bg-amber-100\x20text-amber-800','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','pre-test','เกิดข้อผิดพลาดในการจับคู่','live-submit-short-answer-btn','กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.pen-color-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','geq','ข้อต่อไป','width','</strong></p>','การบวกเศษส่วน','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','items','สร้างคำถามแบบใช่/ไม่ใช่','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison-overall-content','passing-score-input','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','pinned-items','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','N/A','border-red-700','topic-input-area','authed_project_','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','สร้างคำถามใหม่\x201\x20ข้อ\x20','game-start-modal-title','การคูณเศษส่วน','แผนภาพเวนน์','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','generated-quiz-actions','พื้นที่ผิวรูปทรงสามมิติ','เกิดข้อผิดพลาดในการลบแบบทดสอบ','cancel-move-quiz-btn','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','Firebase\x20initialization\x20failed:','เกิดข้อผิดพลาดในการบันทึกลำดับ','ฟังก์ชันลอการิทึม','bulk-loop-until-pass-checkbox','endTime','team','ฟังก์ชันกำลังสองและกราฟ','pen','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-50','copy-quiz-id-btn','.color-palette-btn','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','keyup','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','dragstart','[data-topic-container-id]','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','student-quiz-leaderboard-table-body','\x20(p=','Error\x20rendering\x20student\x20progress:','removeEventListener','/studentProfiles','AI\x20request\x20was\x20blocked.\x20Reason:\x20','<div\x20class=\x22flex-1\x22></div>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','สร้างแบบทดสอบปรนัย','Error\x20moving\x20quiz:','ร้อยละประยุกต์','modal-passing-score-input','quiz-status-modal','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','คณิตการเงิน/บูรณาการ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdBy','parallel-test-tab','Error\x20saving\x20to\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','sort','end-game-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','cancel-team-selection-btn','responses','bg-green-200','การคูณทศนิยม','\x5cle','getBoundingClientRect','scores-tab-content','</tr>','toISOString','presentation-explanation','kick-player-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','pow','.delete-student-btn','$1^{$2}','thead','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','next-question-timed-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20opening\x20quiz\x20editor:','ตรวจพบการออกจากหน้าจอครบ\x20','answerText','$1\x5c%','กฎของไซน์','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-300\x20bg-red-50','save','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-passcode-btn','\x22\x20name=\x22drill_answer\x22\x20value=\x22','quiz-form','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bg-green-100\x20font-bold','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','custom-math-topic-input','project-dashboard-view','ผ่าน','-tab','typesetPromise','ไม่สามารถสร้างโปรเจคได้','การกระจายและการจัดหมู่','<option\x20value=\x22','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','Error\x20saving\x20game\x20results:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','Error\x20confirming\x20players:','.pen-size-btn','/public/data/customMathTopics','lesson-plan-content','กรุณาพิมพ์คำตอบของกลุ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','ไม่พบตารางสำหรับ\x20Export','คะแนน','height','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','originalQuestionText','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','slice','ระบบสมการเชิงเส้นสองตัวแปร','$$$1$','confirm-game-start-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bg-red-200\x20text-red-800','ไม่พบโปรเจค','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','indexOf','results-display-select','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','ดีเทอร์มิแนนต์','grabbing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','toFixed','_opt1\x22>ไม่ใช่</label></div>','isPinned','ไม่พบแบบทดสอบในระบบเลย','ฐานนิยม','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','MathJax','getElementById','clientX','error','message','<div\x20class=\x22space-y-4\x22>','เกี่ยวกับหัวข้อ\x20\x22','questionDisplayedAt','จำนวนนักเรียน','0\x200','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','กำลังอัปเดตแบบทดสอบ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','.answers','เกิดข้อผิดพลาดในการนำผู้เล่นออก','download','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','outerHTML','bar','ตรวจคะแนนใหม่\x20','cos','on_fire','open-sync-scratchpad-btn','ความต่อเนื่อง','back-to-home-manual-release','All\x20groups\x20have\x20finished.\x20Ending\x20game.','manage','</th>','trail-tool-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','exitFullscreen','\x22>ใช่</p>','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แผนการสอน','pointermove','string','_opt','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','BOOLEAN','.regenerate-question-editor-btn','commit','editor-quiz-topic','instructions','isRemedial','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','target','turnIndex','quizType','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','FileReader\x20error:','ไม่พบข้อมูลผู้ใช้','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','explanation','text-yellow-800','match','next-sync-question-btn','min','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','วงรี','export-worksheet-pdf-btn','ค่าคลาดเคลื่อนของการวัด','/public/data/liveGames','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','destroy','confirmation-message','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22',')\x5cb)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','font-bold\x20text-green-700','/public/data/syncGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Group\x20Mode','cancel-passcode-btn','timer-duration-container','body','solution','fadeStartTime','isScored','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20หัวข้อ)','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','per-question-timer-container','passcode-error-msg','เกิดข้อผิดพลาดในการติดดาว','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','generate-worksheet-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','ตัวประกอบและตัวประกอบเฉพาะ','trim','value','ฟังก์ชันค่าสัมบูรณ์','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','quiz-id-input','date_desc','เรเดียนและการแปลงหน่วย','startTime','fa-user-astronaut\x20text-blue-700','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','$1\x20\x5cfrac','standardTopic','Error\x20comparing\x20results:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-sync-game-btn','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','ลิมิต','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','join','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','bg-green-500','อสมการค่าสัมบูรณ์','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','substring','.quiz-bank-item','global-live-game-modal','.ideal-answer-input,\x20.correct-response-input','confirm-bulk-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','tool','duration-300','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','verify-answers-editor-btn','กรุณาใส่ชื่อนักเรียน','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ไม่สามารถบันทึกการตั้งค่าได้','<textarea\x20name=\x22question','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','fill_in_the_blank','ai-quiz-generator-v3','\x5ctimes','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','lowerGroupNames','บันทึกการแก้ไข','ความน่าจะเป็นแบบมีเงื่อนไข','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','answeredCurrentQuestion','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','#FCE7F3','.summary-bar-item','parent','onchange','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','length','Error\x20generating\x20from\x20parallel\x20test\x20file:','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','rename-quiz-input','shuffledQuiz','ลำดับเลขคณิต\x20(AP)','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','s;\x22\x20title=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lastAnswerCorrect','.generate-post-test-btn','#DBEAFE','input[name=\x22team_player\x22]:checked','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','closePath','options','<div\x20id=\x22q-image-container-','live-game-view','now','text-red-800','/public/data/quizzes/','text-blue-700','<button\x20data-index=\x22','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results_','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','quiz-schedule-end-container','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5ctext{$1}','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','show_results_and_answers','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','modal-results-display-select','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x20from\x20sync\x20game:','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','Error\x20saving\x20quiz\x20edits:','textContent','overallGroups','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะจากจุดถึงเส้นตรง','isAdaptive','215008zezaYu','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','/preferences/main','screen','Error\x20renaming\x20quiz:','หน่วยความยาวและการแปลง','\x5cge','_opt0\x22\x20name=\x22question','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ย้ายแบบทดสอบไปโปรเจคอื่น','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-password-modal','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','AI\x20Fix\x20Error:','link-tab','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','standard','strength-weakness-analysis-container','perfect_score','live-player-management','generate-from-text-btn','px,\x20','gamePin','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-scratchpad-btn','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','.question-editor-item[data-q-index=\x22','.move-quiz-btn','admin-password-input','เกิดข้อผิดพลาดในการปักหมุด','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','forEach','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','normal','showRankings','องค์ประกอบของฟังก์ชัน','student-result-area','ไม่พบแบบทดสอบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','answer','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','color','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','save-quiz-edits-btn','จำนวนข้อ:','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','$1\x5ctimes','ชื่อหัวข้อห้ามว่าง','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','close-lesson-plan-modal-btn','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนมาตรฐาน','.quiz-bank-parallel-btn','#FFFFFF','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','cancel-quiz-edits-btn-footer','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','แบบทดสอบนี้หมดเวลาแล้ว','หลังเรียน','(เลือกแล้ว\x20','.project-card-container[data-id]','onclick','ควรปรับปรุง','input[type=\x22radio\x22]:checked','เส้นตรง:\x20รูปแบบสมการ','global-quiz-list','quiz-schedule-start-container','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','progress-student-select','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','เกิดข้อผิดพลาด:\x20','entries','practice-topic-btn','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ความชันและเส้นตรง','toLocaleDateString','change','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','div','no-projects-msg','อุณหภูมิและการแปลง','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','group','round','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-export-pdf-btn','56sVtPhx','ระยะทางและจุดกึ่งกลาง','ทฤษฎีทวินาม\x20(เบื้องต้น)','abs','key','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','คณิตศาสตร์','startedAt','Error\x20during\x20class\x20analysis:','viewBox','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','imageCode','AI\x20ไม่สามารถประมวลผลข้อมูลได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','Error\x20saving\x20questions\x20to\x20practice\x20bank:','opacity-50','members','table','textarea[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','beforeend','parallel-test-upload-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ชื่อโปรเจคห้ามว่าง','<div\x20class=\x22mb-3\x20topic-category\x22>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','Error\x20committing\x20score\x20updates:','loader-text','\x20ชุด)','smooth','quiz-results','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','เกิดข้อผิดพลาดในการอัปเดตสถานะ','.color-palette-popup','.\x20แต่ละข้อมี\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','quiz-start-time','strokeStyle','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','player-count','temp-loader-results','ค่าสัมบูรณ์','\x5c\x5c\x5c\x5c(?=(','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','textarea','confirm-global-live-btn','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x22><p\x20class=\x22font-semibold\x22>','\x5cfrac{','auto','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','sin','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','(คู่ขนาน)\x20','push','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','#retake-for-improvement-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','lower_group_count','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','-tab-content',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ไม่พบข้อมูลเกม','lowerGroupResponders','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','finished','bg-green-100','ไม่พบข้อมูลแบบทดสอบ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','passingScore','resize','submission','from','currentTarget','getAttributeNS','lessonPlan','\x5cfrac','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#F3E8FF','.answered','appendChild','.rename-quiz-btn','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','</li>','responses.','blueprint-upload-input','numeric','เพิ่มหัวข้อ\x20\x22','file-topic-input','hidden','.presentation-option','https://corsproxy.io/?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<i\x20class=\x22fas\x20fa-pen\x22></i>','nickname-input','label','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','[*]','<h1></h1>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','lineWidth','answer-counter','none','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addEventListener','.quiz-bank-delete-btn','file-upload-input','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','suggestedAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถโหลดรายการโปรเจคได้','เกิดข้อผิดพลาดในการโหลดโปรเจค','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','copy','highlighter-size-slider','ON_FIRE','\x20จาก\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','removeChild','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x22\x20class=\x22color-palette-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันยกกำลัง','starred-project','text-green-800','เริ่มกิจกรรม:\x20','</p>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','reset-project-order-btn','catch','getTextContent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20deleting\x20custom\x20topic:','baseVal','ไม่มีผู้ตอบตัวเลือกนี้','input','bg-green-100\x20text-green-800','topic','\x22\x20data-name=\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x34d8=function(){return _0xdd73c5;};return _0x34d8();}async function updateStudentProfile(_0x9a95e8,_0x56acbe){const _0x4b46db=_0x712516,_0x17b417=doc(db,_0x4b46db(0xade)+appId+'/public/data/projects/'+_0x9a95e8+_0x4b46db(0x765),_0x56acbe);try{const _0x14e7ce=query(collection(db,_0x4b46db(0xade)+appId+_0x4b46db(0x4b0)),where(_0x4b46db(0x243),'==',_0x9a95e8)),_0x59b52f=await getDocs(_0x14e7ce),_0x2fdabe=new Map(_0x59b52f['docs'][_0x4b46db(0x4b7)](_0x35179e=>[_0x35179e['id'],_0x35179e['data']()])),_0x7183e3=Array[_0x4b46db(0x972)](_0x2fdabe[_0x4b46db(0x662)]());await runTransaction(db,async _0x4833c8=>{const _0x43b502=_0x4b46db;let _0x4e5fbe=0x0;const _0x3c276c={};let _0x33298a=!![],_0x2679dd=0x0,_0x29b845=0x0;for(const _0x25bcd0 of _0x7183e3){const _0x3f8363=_0x2fdabe[_0x43b502(0x62e)](_0x25bcd0),_0x3ef089=doc(db,_0x43b502(0xade)+appId+'/public/data/quizzes/'+_0x25bcd0+'/submissions',_0x56acbe),_0x5cf0cd=await _0x4833c8['get'](_0x3ef089);if(_0x5cf0cd[_0x43b502(0x23c)]()){const _0x3ba59d=_0x5cf0cd['data'](),_0x30c75f=_0x3ba59d[_0x43b502(0x5ae)]||[];if(_0x30c75f['length']>0x0){const _0x2f0a6e=_0x30c75f[_0x43b502(0x2fa)]((_0x377849,_0x4572db)=>{const _0x15c1f3=_0x43b502;if(_0x4572db[_0x15c1f3(0x634)]>_0x377849[_0x15c1f3(0x634)])return _0x4572db;if(_0x4572db['score']===_0x377849['score'])return(_0x4572db[_0x15c1f3(0x6f4)]||0x0)>(_0x377849['points']||0x0)?_0x4572db:_0x377849;return _0x377849;},{'score':-0x1,'points':-0x1});_0x2f0a6e[_0x43b502(0x634)]>-0x1&&(_0x4e5fbe+=_0x2f0a6e[_0x43b502(0x6f4)]||0x0,(_0x2f0a6e[_0x43b502(0x38e)]||[])[_0x43b502(0x8e0)](_0x5b0880=>{_0x3c276c[_0x5b0880]=(_0x3c276c[_0x5b0880]||0x0)+0x1;}));}}if(_0x3f8363[_0x43b502(0x9b8)]!=='แบบทดสอบซ่อมเสริม'){_0x29b845++;if(_0x5cf0cd[_0x43b502(0x23c)]()){_0x2679dd++;const _0x7589cd=_0x5cf0cd[_0x43b502(0x4fb)]();_0x7589cd[_0x43b502(0x3d0)]!==_0x7589cd['totalQuestions']&&(_0x33298a=![]);}else _0x33298a=![];}}_0x29b845>0x0&&_0x2679dd===_0x29b845&&_0x33298a?_0x3c276c['specialist']=0x1:_0x3c276c['specialist']=0x0,_0x4833c8[_0x43b502(0x679)](_0x17b417,{'studentName':_0x56acbe,'totalPoints':_0x4e5fbe,'unlockedBadges':Object[_0x43b502(0x662)](_0x3c276c)[_0x43b502(0xa4a)](_0x427ce8=>_0x3c276c[_0x427ce8]>0x0),'badgesCount':_0x3c276c},{'merge':!![]});});}catch(_0x487da3){console[_0x4b46db(0x7e3)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x487da3),showMessage(_0x4b46db(0x9d7));}}function startAdminTest(){const _0xa215da=_0x712516;if(!currentQuizData){showMessage(_0xa215da(0x698));return;}let _0x2426b8=JSON[_0xa215da(0x689)](JSON[_0xa215da(0x44c)](currentQuizData));currentMode='admin-testing',currentStudentName=_0xa215da(0x232),adminView[_0xa215da(0x709)][_0xa215da(0x484)](_0xa215da(0x984)),studentView[_0xa215da(0x709)][_0xa215da(0x5b3)](_0xa215da(0x984)),studentInitialView[_0xa215da(0x709)][_0xa215da(0x484)]('hidden'),studentNameSelectionView[_0xa215da(0x709)][_0xa215da(0x484)](_0xa215da(0x984)),studentResultArea[_0xa215da(0x709)][_0xa215da(0x484)](_0xa215da(0x984)),studentQuizArea[_0xa215da(0x709)][_0xa215da(0x5b3)](_0xa215da(0x984)),quizStartTime=new Date(),displayQuizForStudent(_0x2426b8);}function handleResultDisplay(_0x5e5b57,_0xebd49,_0x2e692c,_0x2b7292,_0x5bac72,_0x270303){const _0x8abc96=_0x712516;if(_0x5e5b57==='manual_release'){displaySubmissionConfirmation();return;}const _0x5dcc0f=currentDisplayedQuiz['settings']?.[_0x8abc96(0x96f)]??Math[_0x8abc96(0xa67)](_0x270303/0x2),_0xf8f6e9=currentDisplayedQuiz[_0x8abc96(0x9c9)]?.[_0x8abc96(0x8bc)]??![],_0x3a4b47=currentDisplayedQuiz[_0x8abc96(0x9c9)]?.[_0x8abc96(0x4e7)]===!![],_0x26251e=_0xebd49<_0x5dcc0f,_0x1fede9=_0x5e5b57===_0x8abc96(0x5d3)||_0x5e5b57===_0x8abc96(0x613);if(_0x3a4b47&&_0x26251e&&!_0x1fede9){_0x5e5b57===_0x8abc96(0x8b1)?displayResultsWithAnswers(_0xebd49,_0x2e692c,_0x2b7292,_0x5bac72,_0x270303,!![]):displayLoopScreen(_0xebd49,_0x270303,_0x5e5b57);return;}if(_0xf8f6e9&&_0x26251e){startAdaptiveFlow(_0x5bac72,_0xebd49,_0x270303);return;}switch(_0x5e5b57){case'show_results_and_answers':displayResultsWithAnswers(_0xebd49,_0x2e692c,_0x2b7292,_0x5bac72,_0x270303);break;case _0x8abc96(0x6ff):displayResultsScoreOnly(_0xebd49,_0x2e692c,_0x2b7292,_0x270303);break;case _0x8abc96(0x4d2):displayPassFailOnly(_0xebd49,_0x270303);break;case _0x8abc96(0x5d3):displayHalfMarkResult(_0xebd49,_0x270303);break;case _0x8abc96(0x613):displayPerfectScoreResult(_0xebd49,_0x270303);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1e65e7){const _0xbab7a6=_0x712516;studentReadingArea[_0xbab7a6(0x519)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x436176='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e65e7+_0xbab7a6(0x5a7)+simpleMathPrompt+_0xbab7a6(0x57a),_0x374ca7={'type':_0xbab7a6(0xa18),'properties':{'questionText':{'type':_0xbab7a6(0x208)},'options':{'type':_0xbab7a6(0x20e),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0xbab7a6(0x383),_0xbab7a6(0x89f),'correctAnswerIndex',_0xbab7a6(0x81e)]},_0x51301d={'type':_0xbab7a6(0xa18),'properties':{'topic':{'type':_0xbab7a6(0x208)},'questions':{'type':_0xbab7a6(0x20e),'items':_0x374ca7}},'required':[_0xbab7a6(0x9b8),_0xbab7a6(0x2f6)]};try{const _0xd26c77=await callAnalysisApi(_0x436176,_0x51301d);_0xd26c77[_0xbab7a6(0x812)]=!![],studentReadingArea[_0xbab7a6(0x709)][_0xbab7a6(0x484)](_0xbab7a6(0x984));const _0x463721={...currentDisplayedQuiz[_0xbab7a6(0x9c9)],'isAdaptive':![],'resultsDisplay':_0xbab7a6(0x8b1)};_0xd26c77[_0xbab7a6(0x9c9)]=_0x463721,displayQuizForStudent(_0xd26c77);}catch(_0x4c2071){console[_0xbab7a6(0x7e3)]('Remedial\x20quiz\x20generation\x20failed:',_0x4c2071),showMessage(_0xbab7a6(0x8d9)),showView(_0xbab7a6(0x6ab));}}function displayPassFailOnly(_0x44ee9b,_0x153797){const _0x297f6d=_0x712516,_0x46e338=currentDisplayedQuiz[_0x297f6d(0x9c9)]?.[_0x297f6d(0x96f)]??-0x1,_0xd18201=currentDisplayedQuiz[_0x297f6d(0x812)]===!![];let _0x3d6361='',_0xb8bef2=![];if(_0xd18201||_0x46e338!==-0x1){_0xb8bef2=_0xd18201?_0x44ee9b===_0x153797:_0x44ee9b>=_0x46e338;const _0x5bbd0d=_0xb8bef2?_0x297f6d(0x9b7):'bg-red-100\x20text-red-800',_0x4aab09=_0xb8bef2?_0x297f6d(0x7a7):_0x297f6d(0x1f4);_0x3d6361=_0x297f6d(0x99e)+_0x5bbd0d+'\x22>'+_0x4aab09+_0x297f6d(0x368);}else _0x3d6361=_0x297f6d(0x2c0);let _0x4ece62=_0x297f6d(0x504)+currentStudentName+_0x297f6d(0x282)+_0x3d6361+_0x297f6d(0x6bc);studentResultArea[_0x297f6d(0x519)]=_0x4ece62,studentResultArea[_0x297f6d(0x709)][_0x297f6d(0x5b3)](_0x297f6d(0x984)),studentQuizArea[_0x297f6d(0x709)]['add'](_0x297f6d(0x984)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xb8bef2});}function cancelAdminTest(){const _0x4e8675=_0x712516;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x4e8675(0xaea),handleFullscreenChange),document[_0x4e8675(0x764)](_0x4e8675(0x214),handleVisibilityChange),currentMode=_0x4e8675(0x250),studentView[_0x4e8675(0x709)][_0x4e8675(0x484)](_0x4e8675(0x984)),adminView[_0x4e8675(0x709)][_0x4e8675(0x5b3)](_0x4e8675(0x984)),showView('project-detail');}function setupResultScreenBackButton(_0x3a2b9e){const _0x4da4ea=_0x712516,_0x16d479={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3a2b9e};if(_0x16d479['isLooping']){const _0x2b8402=_0x4da4ea(0x2d4);studentResultArea['insertAdjacentHTML']('beforeend',_0x2b8402),document[_0x4da4ea(0x7e1)](_0x4da4ea(0x23a))[_0x4da4ea(0x996)](_0x4da4ea(0x66f),()=>{const _0x592383=_0x4da4ea;studentResultArea[_0x592383(0x709)][_0x592383(0x484)](_0x592383(0x984)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x238ace=_0x4da4ea(0x69c),_0x1bd854=currentMode===_0x4da4ea(0xa6f),_0x353334=_0x1bd854?_0x4da4ea(0x447):_0x4da4ea(0x90f);let _0x3ce998='';_0x16d479[_0x4da4ea(0x8e3)]&&(_0x3ce998+=_0x4da4ea(0xa0e));let _0x56889c=_0x16d479[_0x4da4ea(0x248)];_0x56889c===undefined&&(_0x56889c=_0x16d479['score']<_0x16d479['totalQuestions']);_0x56889c&&(_0x3ce998+=_0x4da4ea(0x367));_0x3ce998+=_0x4da4ea(0x5a2)+_0x238ace+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x353334+_0x4da4ea(0x34f);const _0x740c9e='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x3ce998+_0x4da4ea(0x6b3);studentResultArea[_0x4da4ea(0xaa3)](_0x4da4ea(0x935),_0x740c9e),studentResultArea[_0x4da4ea(0x622)](_0x4da4ea(0x291))?.[_0x4da4ea(0x996)]('click',handleShowStudentRankings);const _0x3a5404=studentResultArea[_0x4da4ea(0x622)](_0x4da4ea(0x95e));_0x3a5404&&_0x3a5404[_0x4da4ea(0x996)](_0x4da4ea(0x66f),()=>{const _0x5403e2=_0x4da4ea;studentResultArea[_0x5403e2(0x709)][_0x5403e2(0x484)](_0x5403e2(0x984)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4da4ea(0x7e1)](_0x238ace)['addEventListener'](_0x4da4ea(0x66f),()=>{const _0x62b51e=_0x4da4ea;_0x1bd854?(currentMode='admin',studentView[_0x62b51e(0x709)][_0x62b51e(0x484)](_0x62b51e(0x984)),adminView['classList'][_0x62b51e(0x5b3)](_0x62b51e(0x984)),showView('project-detail')):(showView('student'),document[_0x62b51e(0x7e1)](_0x62b51e(0x84b))[_0x62b51e(0x848)]='');});}function displayResultsWithAnswers(_0x4108ba,_0x5cb081,_0x316cde,_0x30f4d6,_0x3a64c5,_0xb17ba4=![]){const _0xa2133a=_0x712516,_0x407198=_0x3a64c5>0x0?_0x4108ba/_0x3a64c5*0x64:0x0,_0x16ca81=currentDisplayedQuiz['settings']?.[_0xa2133a(0x96f)]??-0x1,_0x5d0f3d=currentDisplayedQuiz[_0xa2133a(0x812)]===!![];let _0x29c14e='';if(_0x5d0f3d||_0x16ca81!==-0x1){let _0x3c9d11=_0x5d0f3d?_0x4108ba===_0x3a64c5:_0x4108ba>=_0x16ca81;const _0x2c6448=_0x3c9d11?_0xa2133a(0x9b7):_0xa2133a(0x412),_0x4689ba=_0x3c9d11?_0xa2133a(0x7a7):_0xa2133a(0x1f4);_0x29c14e='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x2c6448+'\x22>'+_0x4689ba+_0xa2133a(0x9ad);}let _0x2a4e1e=_0xa2133a(0x640)+currentStudentName+_0xa2133a(0x78a)+_0x4108ba+_0xa2133a(0x7cd)+_0x3a64c5+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29c14e+_0xa2133a(0x502)+_0x5cb081+_0xa2133a(0x7b1)+_0x407198[_0xa2133a(0x7d8)](0x0)+_0xa2133a(0x34a);currentDisplayedQuiz[_0xa2133a(0x2f6)]['forEach']((_0x591052,_0x58b0db)=>{const _0x4d64bf=_0xa2133a,_0x27dade=_0x30f4d6[_0x58b0db],_0x404d07=_0x27dade[_0x4d64bf(0x8ea)],_0x498854=_0x27dade[_0x4d64bf(0xa3c)],_0x29a8a4=_0x591052[_0x4d64bf(0xad0)]||currentDisplayedQuiz[_0x4d64bf(0x817)];_0x2a4e1e+=_0x4d64bf(0xa5b)+(_0x498854?_0x4d64bf(0x3fd):_0x4d64bf(0x79b))+_0x4d64bf(0x954)+(_0x58b0db+0x1)+'.\x20'+(_0x591052['stem']||_0x591052[_0x4d64bf(0x383)])+_0x4d64bf(0x65a);switch(_0x29a8a4){case _0x4d64bf(0x476):const _0x43efe9=_0x404d07||_0x4d64bf(0x32f),_0x29b859=_0x591052[_0x4d64bf(0x1f2)];_0x2a4e1e+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x498854?'line-through\x20text-red-700':'')+'\x22>'+_0x43efe9+_0x4d64bf(0x3c4);!_0x498854&&(_0x2a4e1e+=_0x4d64bf(0xabe)+_0x29b859+_0x4d64bf(0x9ad));break;case _0x4d64bf(0x344):_0x2a4e1e+=_0x4d64bf(0x5c9)+(_0x404d07||_0x4d64bf(0x32f))+_0x4d64bf(0x9ad),_0x2a4e1e+=_0x4d64bf(0x306)+_0x591052[_0x4d64bf(0x63a)]+_0x4d64bf(0x9ad);break;case _0x4d64bf(0x34b):_0x2a4e1e+=_0x4d64bf(0x9fe)+(_0x591052[_0x4d64bf(0xa24)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x404d07===_0x4d64bf(0xa46)&&!_0x498854?'line-through\x20text-red-700':'')+_0x4d64bf(0x804),_0x2a4e1e+='<p\x20class=\x22'+(_0x591052[_0x4d64bf(0xa24)]===![]?_0x4d64bf(0x831):'')+'\x20'+(_0x404d07===_0x4d64bf(0x9fc)&&!_0x498854?_0x4d64bf(0x299):'')+_0x4d64bf(0x2ea);break;default:_0x2a4e1e+=_0x591052[_0x4d64bf(0x89f)][_0x4d64bf(0x4b7)]((_0x1ab2a8,_0x54cfab)=>{const _0x24d7d8=_0x4d64bf;let _0x41c5ce='',_0x5816b8='';if(_0x54cfab===_0x591052[_0x24d7d8(0x4d1)])_0x41c5ce=_0x24d7d8(0x831),_0x5816b8=_0x24d7d8(0xac2);else _0x54cfab===_0x404d07&&(_0x41c5ce=_0x24d7d8(0x53b),_0x5816b8=_0x24d7d8(0x27c));return'<div\x20class=\x22'+_0x41c5ce+'\x22>'+_0x5816b8+_0x1ab2a8+_0x24d7d8(0x6b3);})[_0x4d64bf(0x85c)]('');break;}_0x2a4e1e+=_0x4d64bf(0x8a9)+(_0x591052[_0x4d64bf(0x81e)]||'ไม่มีคำอธิบาย')+_0x4d64bf(0x6b3);if(!_0x498854){const _0x44cb3a=_0x591052[_0x4d64bf(0x20f)]||_0x591052[_0x4d64bf(0x383)];_0x2a4e1e+=_0x4d64bf(0x533)+escape(_0x44cb3a)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x2a4e1e+=_0x4d64bf(0x6b3);}),studentResultArea['innerHTML']=_0x2a4e1e,renderEarnedBadges(_0x316cde,_0xa2133a(0x223)),studentResultArea[_0xa2133a(0x709)][_0xa2133a(0x5b3)](_0xa2133a(0x984)),studentQuizArea[_0xa2133a(0x709)][_0xa2133a(0x484)](_0xa2133a(0x984)),setupResultScreenBackButton({'isLooping':_0xb17ba4,'score':_0x4108ba,'totalQuestions':_0x3a64c5,'showRankings':!![]});if(window[_0xa2133a(0x7e0)])window['MathJax']['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x30cb06,_0x49c155,_0x544a05,_0x429530){const _0x7d7163=_0x712516,_0x202332=_0x429530>0x0?_0x30cb06/_0x429530*0x64:0x0,_0x22a023=currentDisplayedQuiz[_0x7d7163(0x9c9)]?.[_0x7d7163(0x96f)]??-0x1,_0xd1c823=currentDisplayedQuiz[_0x7d7163(0x812)]===!![];let _0x26d0e5='';if(_0xd1c823||_0x22a023!==-0x1){let _0x388f1c=_0xd1c823?_0x30cb06===_0x429530:_0x30cb06>=_0x22a023;const _0x2f58e3=_0x388f1c?_0x7d7163(0x9b7):_0x7d7163(0x412),_0x3316f2=_0x388f1c?_0x7d7163(0x7a7):'ไม่ผ่าน';_0x26d0e5=_0x7d7163(0x802)+_0x2f58e3+'\x22>'+_0x3316f2+_0x7d7163(0x9ad);}let _0x4664e3=_0x7d7163(0x504)+currentStudentName+_0x7d7163(0x402)+_0x30cb06+_0x7d7163(0x85d)+_0x429530+_0x7d7163(0xaaf)+_0x26d0e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x49c155+_0x7d7163(0x7a4)+_0x202332[_0x7d7163(0x7d8)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x7d7163(0x519)]=_0x4664e3,renderEarnedBadges(_0x544a05,'earned-badges-container'),studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x7d7163(0x709)][_0x7d7163(0x484)](_0x7d7163(0x984)),setupResultScreenBackButton({'score':_0x30cb06,'totalQuestions':_0x429530,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x57d344=_0x712516;let _0x580f4d=_0x57d344(0x88a)+currentStudentName+_0x57d344(0x8c7);studentResultArea[_0x57d344(0x519)]=_0x580f4d,studentResultArea[_0x57d344(0x709)][_0x57d344(0x5b3)](_0x57d344(0x984)),studentQuizArea[_0x57d344(0x709)][_0x57d344(0x484)](_0x57d344(0x984)),document[_0x57d344(0x7e1)](_0x57d344(0x7fc))[_0x57d344(0x996)](_0x57d344(0x66f),()=>{const _0x285dfb=_0x57d344;showView(_0x285dfb(0x6ab)),document['getElementById'](_0x285dfb(0x84b))[_0x285dfb(0x848)]='';});}function renderEarnedBadges(_0x12c94d,_0x182040){const _0x29b48b=_0x712516,_0x56be0f=document[_0x29b48b(0x7e1)](_0x182040);if(!_0x56be0f||!_0x12c94d||_0x12c94d['length']===0x0)return;let _0x43ebe1='';_0x12c94d['forEach']((_0xd3d9e2,_0x4232d9)=>{const _0x755bd6=_0x29b48b,_0x55266f=Object[_0x755bd6(0x48c)](BADGES)[_0x755bd6(0xafd)](_0x56871a=>_0x56871a['id']===_0xd3d9e2);_0x55266f&&(_0x43ebe1+=_0x755bd6(0x7d4)+_0x4232d9*0.2+_0x755bd6(0x894)+_0x55266f['description']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x55266f[_0x755bd6(0x228)]+_0x755bd6(0x590)+_0x55266f[_0x755bd6(0x4ad)]+_0x755bd6(0x5b2));}),_0x56be0f[_0x29b48b(0x519)]=_0x43ebe1;}function startPresentation(_0x215e36){const _0x14bc5e=_0x712516;currentQuizData=getShuffledQuiz(_0x215e36),currentPresentationSlide=0x0,presentationModal[_0x14bc5e(0x38f)]['display']=_0x14bc5e(0x4ec),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0xde83de=_0x712516;document['fullscreenElement']&&document[_0xde83de(0x803)](),presentationModal[_0xde83de(0x38f)]['display']=_0xde83de(0x994);}function renderPresentationSlide(_0x18b316){const _0x19ae08=_0x712516,_0x5ce35a=document[_0x19ae08(0x7e1)](_0x19ae08(0x5ef));if(!currentQuizData||!currentQuizData[_0x19ae08(0x2f6)]||!currentQuizData[_0x19ae08(0x2f6)][_0x18b316]){_0x5ce35a['innerHTML']=_0x19ae08(0x9e4);return;}const _0x4ac2f3=currentQuizData[_0x19ae08(0x2f6)][_0x18b316],_0x133cfd=_0x4ac2f3[_0x19ae08(0xad0)]||currentQuizData[_0x19ae08(0x817)];_0x5ce35a[_0x19ae08(0x519)]='';let _0x3f8cbc=_0x19ae08(0x4fd)+(_0x4ac2f3[_0x19ae08(0x92b)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4ac2f3[_0x19ae08(0x92b)]+_0x19ae08(0x6b3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x18b316+0x1)+'.\x20'+(_0x4ac2f3['stem']||_0x4ac2f3['questionText'])+_0x19ae08(0x8af);switch(_0x133cfd){case _0x19ae08(0x476):_0x3f8cbc+=_0x4ac2f3[_0x19ae08(0xa5c)]['map'](_0x244226=>_0x19ae08(0x334)+_0x244226+_0x19ae08(0x39a))[_0x19ae08(0x85c)]('');break;case _0x19ae08(0x34b):_0x3f8cbc+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x3f8cbc+=_0x19ae08(0x483);break;case _0x19ae08(0xb16):case _0x19ae08(0x344):_0x3f8cbc+=_0x19ae08(0x692);break;case _0x19ae08(0x878):case _0x19ae08(0xaa4):default:_0x3f8cbc+=_0x4ac2f3[_0x19ae08(0x89f)]['map']((_0x1c664e,_0x131efe)=>_0x19ae08(0x82e)+_0x131efe+_0x19ae08(0x51e)+_0x1c664e+_0x19ae08(0x39a))[_0x19ae08(0x85c)]('');break;}_0x3f8cbc+=_0x19ae08(0x2b5)+(_0x4ac2f3[_0x19ae08(0x81e)]||_0x19ae08(0x576))+_0x19ae08(0xa8d),_0x5ce35a[_0x19ae08(0x519)]=_0x3f8cbc;if(window['MathJax'])window['MathJax'][_0x19ae08(0x7a9)]([_0x5ce35a]);let _0x14e0ce=[];switch(_0x133cfd){case _0x19ae08(0x476):_0x14e0ce=_0x4ac2f3['allResponses']||[];break;case _0x19ae08(0x34b):_0x14e0ce=['ใช่','ไม่ใช่'];break;default:_0x14e0ce=_0x4ac2f3[_0x19ae08(0x89f)]||[];break;}const _0xf024d9=document[_0x19ae08(0x7e1)]('presentation-scratchpad-btn');_0xf024d9&&(_0xf024d9[_0x19ae08(0x903)]=()=>{openScratchpad(_0x4ac2f3,_0x14e0ce);});document[_0x19ae08(0xa58)]('.presentation-option')['forEach'](_0x5750d9=>{const _0x183e1d=_0x19ae08;_0x5750d9[_0x183e1d(0x996)](_0x183e1d(0x66f),_0x4ce253=>revealAnswerForPresentation(_0x18b316,_0x4ce253[_0x183e1d(0x973)]));});const _0x1e142e=document[_0x19ae08(0x7e1)](_0x19ae08(0x637));_0x1e142e&&_0x1e142e[_0x19ae08(0x996)](_0x19ae08(0x66f),()=>checkShortAnswerForPresentation(_0x18b316)),document[_0x19ae08(0x7e1)]('slide-counter')[_0x19ae08(0x8b8)]=_0x19ae08(0x2fd)+(_0x18b316+0x1)+_0x19ae08(0xb05)+currentQuizData[_0x19ae08(0x2f6)][_0x19ae08(0x88b)],document[_0x19ae08(0x7e1)](_0x19ae08(0x4bd))['disabled']=_0x18b316===0x0,document[_0x19ae08(0x7e1)](_0x19ae08(0x9dd))[_0x19ae08(0xab8)]=_0x18b316===currentQuizData['questions'][_0x19ae08(0x88b)]-0x1;}async function checkShortAnswerForPresentation(_0x1ad810){const _0x4f5d4a=_0x712516,_0x5190c2=currentQuizData[_0x4f5d4a(0x2f6)][_0x1ad810],_0x37a57c=document[_0x4f5d4a(0x7e1)](_0x4f5d4a(0xad8)),_0x34cf98=document[_0x4f5d4a(0x7e1)](_0x4f5d4a(0x637)),_0x2fb4cb=document['getElementById'](_0x4f5d4a(0x21b)),_0x32f24e=document['getElementById'](_0x4f5d4a(0x784));if(!_0x37a57c||!_0x34cf98||!_0x2fb4cb||!_0x32f24e)return;const _0x499a77=_0x37a57c[_0x4f5d4a(0x848)][_0x4f5d4a(0x847)]();if(_0x499a77==='')return;_0x34cf98[_0x4f5d4a(0xab8)]=!![],_0x34cf98[_0x4f5d4a(0x519)]=_0x4f5d4a(0x499),_0x37a57c[_0x4f5d4a(0xab8)]=!![];const _0x1b8f47=await gradeShortAnswer(_0x499a77,_0x5190c2);_0x1b8f47?_0x2fb4cb['innerHTML']='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x2fb4cb[_0x4f5d4a(0x519)]=_0x4f5d4a(0x5bb)+_0x5190c2['idealAnswer']+')',_0x2fb4cb['classList']['remove'](_0x4f5d4a(0x984)),_0x32f24e[_0x4f5d4a(0x709)][_0x4f5d4a(0x5b3)]('hidden'),_0x34cf98[_0x4f5d4a(0x709)]['add'](_0x4f5d4a(0x984));}function revealAnswerForPresentation(_0x535ba9,_0x117dc5){const _0x1cb5dd=_0x712516,_0x59d28c=currentQuizData[_0x1cb5dd(0x2f6)][_0x535ba9],_0x5ae5e6=_0x59d28c[_0x1cb5dd(0xad0)]||currentQuizData[_0x1cb5dd(0x817)];document['querySelectorAll'](_0x1cb5dd(0x985))[_0x1cb5dd(0x8e0)](_0x385d23=>{const _0xff6caa=_0x1cb5dd;_0x385d23[_0xff6caa(0xab8)]=!![],_0x385d23[_0xff6caa(0x709)][_0xff6caa(0x5b3)]('hover:bg-indigo-100');let _0x104e5f=![];if(_0x5ae5e6===_0xff6caa(0xaa4)||_0x5ae5e6===_0xff6caa(0x878)){const _0x3845e4=parseInt(_0x385d23[_0xff6caa(0x478)]['index']);_0x104e5f=_0x3845e4===_0x59d28c[_0xff6caa(0x4d1)];}else{if(_0x5ae5e6===_0xff6caa(0x34b)){const _0x50f0db=_0x385d23[_0xff6caa(0x478)][_0xff6caa(0x8ea)]===_0xff6caa(0xa46);_0x104e5f=_0x50f0db===_0x59d28c[_0xff6caa(0xa24)];}else _0x5ae5e6===_0xff6caa(0x476)&&(_0x104e5f=_0x385d23[_0xff6caa(0x8b8)]['trim']()===_0x59d28c[_0xff6caa(0x1f2)]);}_0x104e5f?_0x385d23[_0xff6caa(0x709)][_0xff6caa(0x484)](_0xff6caa(0x860),_0xff6caa(0x9cb),_0xff6caa(0x98d)):_0x385d23[_0xff6caa(0x709)]['add'](_0xff6caa(0x930));}),_0x117dc5[_0x1cb5dd(0x709)][_0x1cb5dd(0x5b3)](_0x1cb5dd(0x930));let _0x5398a1=![];if(_0x5ae5e6===_0x1cb5dd(0xaa4))_0x5398a1=parseInt(_0x117dc5['dataset'][_0x1cb5dd(0x65d)])===_0x59d28c['correctAnswerIndex'];else{if(_0x5ae5e6==='true_false')_0x5398a1=_0x117dc5[_0x1cb5dd(0x478)][_0x1cb5dd(0x8ea)]===_0x1cb5dd(0xa46)===_0x59d28c[_0x1cb5dd(0xa24)];else _0x5ae5e6==='matching_item'&&(_0x5398a1=_0x117dc5[_0x1cb5dd(0x8b8)][_0x1cb5dd(0x847)]()===_0x59d28c[_0x1cb5dd(0x1f2)]);}!_0x5398a1&&_0x117dc5[_0x1cb5dd(0x709)][_0x1cb5dd(0x484)]('bg-red-500',_0x1cb5dd(0x9cb),_0x1cb5dd(0x736)),document[_0x1cb5dd(0x7e1)](_0x1cb5dd(0x784))[_0x1cb5dd(0x709)][_0x1cb5dd(0x5b3)](_0x1cb5dd(0x984));}function startWholeQuizTimer(_0x402da6){const _0x1c8024=_0x712516,_0x4985a1=document[_0x1c8024(0x7e1)](_0x1c8024(0x5d4));if(!_0x4985a1)return;const _0x5290aa=Date[_0x1c8024(0x8a2)]()+_0x402da6*0x3c*0x3e8;_0x4985a1[_0x1c8024(0x519)]=_0x1c8024(0x2a6);const _0xfb9228=document[_0x1c8024(0x7e1)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x1f62da=_0x1c8024,_0x39cac8=_0x5290aa-Date[_0x1f62da(0x8a2)]();if(_0x39cac8<=0x0)clearInterval(quizTimerInterval),_0xfb9228['textContent']=_0x1f62da(0x2a3),showMessage(_0x1f62da(0x86e)),handleSubmitQuiz(null);else{const _0x1726fd=Math[_0x1f62da(0xa67)](_0x39cac8/0x3e8/0x3c%0x3c)[_0x1f62da(0x431)]()[_0x1f62da(0x24b)](0x2,'0'),_0x128277=Math[_0x1f62da(0xa67)](_0x39cac8/0x3e8%0x3c)[_0x1f62da(0x431)]()[_0x1f62da(0x24b)](0x2,'0');_0xfb9228[_0x1f62da(0x8b8)]=_0x1726fd+':'+_0x128277;}},0x3e8);}function _0x158c(_0x494f0e,_0x4ae906){const _0x34d8ad=_0x34d8();return _0x158c=function(_0x158c7a,_0x296c4b){_0x158c7a=_0x158c7a-0x1e1;let _0x266a52=_0x34d8ad[_0x158c7a];return _0x266a52;},_0x158c(_0x494f0e,_0x4ae906);}function renderPerQuestionView(){const _0x37a4f5=_0x712516;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x46baf4=currentDisplayedQuiz[_0x37a4f5(0x2f6)][currentQuestionIndex],_0x5df5e9=_0x46baf4[_0x37a4f5(0xad0)]||currentDisplayedQuiz['quizType'];let _0x161a27=_0x37a4f5(0xa9e)+(currentQuestionIndex+0x1)+_0x37a4f5(0x9a2)+currentDisplayedQuiz['questions']['length']+_0x37a4f5(0x319)+(currentMode===_0x37a4f5(0xa6f)?_0x37a4f5(0x4a7):'')+_0x37a4f5(0x466)+currentDisplayedQuiz[_0x37a4f5(0x9b8)]+_0x37a4f5(0x6ad)+(currentQuestionIndex===currentDisplayedQuiz[_0x37a4f5(0x2f6)]['length']-0x1?_0x37a4f5(0x452):_0x37a4f5(0x497))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea[_0x37a4f5(0x519)]=_0x161a27;let _0x445abc='',_0x2526d3='';switch(_0x5df5e9){case'matching_item':_0x445abc=currentQuestionIndex+0x1+'.\x20'+_0x46baf4[_0x37a4f5(0x20f)],_0x2526d3=_0x37a4f5(0x7ae)+_0x46baf4[_0x37a4f5(0xa5c)]['map'](_0x48d283=>'<option\x20value=\x22'+_0x48d283+'\x22>'+_0x48d283+_0x37a4f5(0xa85))[_0x37a4f5(0x85c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x37a4f5(0x34b):_0x445abc=currentQuestionIndex+0x1+'.\x20'+_0x46baf4[_0x37a4f5(0x383)],_0x2526d3=_0x37a4f5(0x551);break;case _0x37a4f5(0x344):case _0x37a4f5(0xb16):_0x445abc=currentQuestionIndex+0x1+'.\x20'+_0x46baf4[_0x37a4f5(0x383)],_0x2526d3='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x37a4f5(0xaa4):case _0x37a4f5(0x21c):default:_0x445abc=currentQuestionIndex+0x1+'.\x20'+_0x46baf4[_0x37a4f5(0x383)],_0x2526d3=_0x46baf4[_0x37a4f5(0x89f)][_0x37a4f5(0x4b7)]((_0x24c3f0,_0x2eec2e)=>_0x37a4f5(0x97d)+_0x2eec2e+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x2eec2e+_0x37a4f5(0x6a5)+_0x2eec2e+'\x22>'+_0x24c3f0+_0x37a4f5(0x39d))[_0x37a4f5(0x85c)]('');break;}_0x46baf4[_0x37a4f5(0x92b)]&&(_0x445abc+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x46baf4[_0x37a4f5(0x92b)]+'</div>');document[_0x37a4f5(0x7e1)]('per-question-text')[_0x37a4f5(0x519)]=_0x445abc,document['getElementById'](_0x37a4f5(0x6e4))[_0x37a4f5(0x519)]=_0x2526d3;if(currentMode==='admin-testing'){const _0x18eabe=document[_0x37a4f5(0x7e1)](_0x37a4f5(0x583));if(_0x18eabe)_0x18eabe[_0x37a4f5(0x996)](_0x37a4f5(0x66f),cancelAdminTest);}document[_0x37a4f5(0x7e1)](_0x37a4f5(0x793))[_0x37a4f5(0x996)](_0x37a4f5(0x66f),()=>handleNextQuestionInTimedMode(![]));if(window[_0x37a4f5(0x7e0)])window[_0x37a4f5(0x7e0)][_0x37a4f5(0x7a9)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x10c90a=_0x712516,_0x3fd5ab=currentDisplayedQuiz[_0x10c90a(0x9c9)][_0x10c90a(0x9d0)],_0x1499ef=document['getElementById'](_0x10c90a(0x840));if(!_0x1499ef)return;let _0x427cb7=_0x3fd5ab;_0x1499ef[_0x10c90a(0x519)]=_0x10c90a(0x1f5)+_0x427cb7+_0x10c90a(0x53d);const _0x21df01=document[_0x10c90a(0x7e1)](_0x10c90a(0x68c)),_0x5c3ed9=document[_0x10c90a(0x7e1)](_0x10c90a(0x2b4));perQuestionTimerInterval=setInterval(()=>{const _0x5c5c1e=_0x10c90a;_0x427cb7--;const _0x2d38a0=_0x427cb7/_0x3fd5ab*0x64;_0x21df01[_0x5c5c1e(0x38f)]['width']=_0x2d38a0+'%',_0x5c3ed9[_0x5c5c1e(0x8b8)]=_0x427cb7,_0x427cb7<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x33a630=![]){const _0x1532dc=_0x712516;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x349b86=null;if(!_0x33a630){const _0x89d82e=currentDisplayedQuiz[_0x1532dc(0x2f6)][currentQuestionIndex],_0x1a1d77=_0x89d82e[_0x1532dc(0xad0)]||currentDisplayedQuiz[_0x1532dc(0x817)];if(_0x1a1d77===_0x1532dc(0x344)||_0x1a1d77==='fill_in_no_choices'){const _0x21ed63=document[_0x1532dc(0x622)](_0x1532dc(0xae8));_0x349b86=_0x21ed63?_0x21ed63[_0x1532dc(0x848)][_0x1532dc(0x847)]():'';}else{if(_0x1a1d77===_0x1532dc(0x476)){const _0x4e42f9=document['querySelector'](_0x1532dc(0x2d1));_0x349b86=_0x4e42f9?_0x4e42f9[_0x1532dc(0x848)]:'';}else{const _0x419aba=document[_0x1532dc(0x622)](_0x1532dc(0x44a));if(_0x419aba){const _0x2de354=_0x419aba['value'];_0x349b86=!isNaN(parseInt(_0x2de354,0xa))&&_0x2de354[_0x1532dc(0x847)]()!==''?parseInt(_0x2de354,0xa):_0x2de354;}}}}studentAnswersPerQuestion[_0x1532dc(0x95b)](_0x349b86),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x1532dc(0x2f6)][_0x1532dc(0x88b)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x14d6ea=_0x712516,_0x1b6201=currentDisplayedQuiz[_0x14d6ea(0x2f6)][_0x14d6ea(0x6cf)](_0x2346d6=>_0x2346d6[_0x14d6ea(0xad0)]==='short_answer');_0x1b6201?showMessage(_0x14d6ea(0x5b4)):showMessage(_0x14d6ea(0x46d));const _0x4073aa=currentQuizData['id'],_0x3749e9=doc(db,'artifacts/'+appId+_0x14d6ea(0x8a4)+_0x4073aa+'/submissions',currentStudentName),_0x47e7d1=await getDoc(_0x3749e9),_0x477e3c=_0x47e7d1[_0x14d6ea(0x23c)]()?_0x47e7d1['data']():{},_0x3d4d99=_0x477e3c[_0x14d6ea(0x5ae)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3d4d99);}function getResultsFilename(){const _0x23d919=_0x712516,_0x3d5905=document[_0x23d919(0x7e1)]('results-quiz-title')[_0x23d919(0x8b8)][_0x23d919(0x59e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x23d919(0x8a8)+(_0x3d5905||_0x23d919(0xac1));}function exportResultsAsImage(){const _0x5211ba=_0x712516,_0x5ecf9b=document[_0x5211ba(0x7e1)](_0x5211ba(0x6b8));showMessage(_0x5211ba(0x5c4)),html2canvas(_0x5ecf9b)['then'](_0x1dcb08=>{const _0x57571b=_0x5211ba,_0x2b4542=document[_0x57571b(0x253)]('a');_0x2b4542[_0x57571b(0x7ef)]=getResultsFilename()+_0x57571b(0x2cd),_0x2b4542[_0x57571b(0x547)]=_0x1dcb08[_0x57571b(0x505)](_0x57571b(0x343)),_0x2b4542[_0x57571b(0x66f)](),messageModal[_0x57571b(0x709)][_0x57571b(0x484)]('hidden');});}function exportResultsAsPDF(){const _0x112eca=_0x712516,{jsPDF:_0x50e656}=window[_0x112eca(0xae3)],_0x1f2253=new _0x50e656();_0x1f2253['setFont']('helvetica',_0x112eca(0x8e2)),_0x1f2253['autoTable']({'html':_0x112eca(0x4b9)}),_0x1f2253['save'](getResultsFilename()+_0x112eca(0x39c));}function exportResultsAsWord(){const _0x484733=_0x712516,_0x35903f=_0x484733(0x8f5)+_0x484733(0x41f)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x484733(0x4fe),_0x45ad8d='</body></html>',_0x90b2f1=_0x35903f+document['getElementById'](_0x484733(0x6b8))[_0x484733(0x519)]+_0x45ad8d,_0x1fea12=_0x484733(0x1ef)+encodeURIComponent(_0x90b2f1),_0x321a21=document[_0x484733(0x253)]('a');document['body']['appendChild'](_0x321a21),_0x321a21['href']=_0x1fea12,_0x321a21['download']=getResultsFilename()+_0x484733(0x68e),_0x321a21[_0x484733(0x66f)](),document[_0x484733(0x837)]['removeChild'](_0x321a21);}function exportResultsAsExcel(){const _0x216a29=_0x712516,_0x1b2880=document[_0x216a29(0x7e1)](_0x216a29(0xa50));let _0x22067d=[];for(let _0x211577=0x0;_0x211577<_0x1b2880[_0x216a29(0x67b)][_0x216a29(0x88b)];_0x211577++){let _0x34cf8f=[],_0x373199=_0x1b2880[_0x216a29(0x67b)][_0x211577][_0x216a29(0xa58)](_0x216a29(0x48e));for(let _0x392b69=0x0;_0x392b69<_0x373199['length'];_0x392b69++){_0x34cf8f['push']('\x22'+_0x373199[_0x392b69][_0x216a29(0xa54)][_0x216a29(0x59e)](/"/g,'\x22\x22')+'\x22');}_0x22067d[_0x216a29(0x95b)](_0x34cf8f[_0x216a29(0x85c)](','));}const _0x320df6=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x22067d['join']('\x0a')],{'type':_0x216a29(0x46e)}),_0x5a2f4c=document['createElement']('a');_0x5a2f4c[_0x216a29(0x547)]=URL[_0x216a29(0x352)](_0x320df6),_0x5a2f4c['download']=getResultsFilename()+_0x216a29(0x58e),_0x5a2f4c[_0x216a29(0x66f)]();}function exportTableAsImage(_0x4c68bf,_0x41ae87){const _0x1b49f3=_0x712516,_0x315d17=document[_0x1b49f3(0x7e1)](_0x4c68bf);if(!_0x315d17){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x1b49f3(0x5c4)),html2canvas(_0x315d17)[_0x1b49f3(0x461)](_0x12f337=>{const _0x2ba358=_0x1b49f3,_0x40d8ba=document[_0x2ba358(0x253)]('a');_0x40d8ba[_0x2ba358(0x7ef)]=_0x41ae87+_0x2ba358(0x2cd),_0x40d8ba[_0x2ba358(0x547)]=_0x12f337['toDataURL'](_0x2ba358(0x343)),_0x40d8ba[_0x2ba358(0x66f)](),messageModal['classList'][_0x2ba358(0x484)](_0x2ba358(0x984));});}function exportTableAsPDF(_0x50e303,_0x5e4195){const _0x156ee7=_0x712516,{jsPDF:_0x492ace}=window[_0x156ee7(0xae3)],_0x325194=new _0x492ace();_0x325194[_0x156ee7(0x423)]('helvetica',_0x156ee7(0x8e2)),_0x325194[_0x156ee7(0xa40)]({'html':'#'+_0x50e303}),_0x325194[_0x156ee7(0x79c)](_0x5e4195+_0x156ee7(0x39c));}function exportTableAsWord(_0x4c32ad,_0x1128b6){const _0x2cd750=_0x712516,_0x37012f=document[_0x2cd750(0x7e1)](_0x4c32ad);if(!_0x37012f){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x55b29f=_0x2cd750(0x8f5)+_0x2cd750(0x41f)+_0x2cd750(0x999)+_0x2cd750(0x4fe),_0x33bb40=_0x2cd750(0x429),_0xf59774=_0x55b29f+_0x37012f[_0x2cd750(0x519)]+_0x33bb40,_0x59b26b=_0x2cd750(0x1ef)+encodeURIComponent(_0xf59774),_0x4629e6=document['createElement']('a');document['body'][_0x2cd750(0x97a)](_0x4629e6),_0x4629e6[_0x2cd750(0x547)]=_0x59b26b,_0x4629e6['download']=_0x1128b6+_0x2cd750(0x68e),_0x4629e6[_0x2cd750(0x66f)](),document['body'][_0x2cd750(0x9a4)](_0x4629e6);}function exportTableAsExcel(_0x4c923b,_0x525c88){const _0x1400ef=_0x712516,_0x33e414=document[_0x1400ef(0x7e1)](_0x4c923b);if(!_0x33e414){showMessage(_0x1400ef(0x7b8));return;}let _0x424b24=[];for(let _0x4da145=0x0;_0x4da145<_0x33e414['rows']['length'];_0x4da145++){let _0x5f5063=[],_0x12f1b0=_0x33e414[_0x1400ef(0x67b)][_0x4da145]['querySelectorAll'](_0x1400ef(0x48e));for(let _0x56bd0c=0x0;_0x56bd0c<_0x12f1b0[_0x1400ef(0x88b)];_0x56bd0c++){_0x5f5063[_0x1400ef(0x95b)]('\x22'+_0x12f1b0[_0x56bd0c][_0x1400ef(0xa54)][_0x1400ef(0x59e)](/"/g,'\x22\x22')+'\x22');}_0x424b24[_0x1400ef(0x95b)](_0x5f5063[_0x1400ef(0x85c)](','));}const _0x4fbd2d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x424b24[_0x1400ef(0x85c)]('\x0a')],{'type':_0x1400ef(0x46e)}),_0x7ca572=document[_0x1400ef(0x253)]('a');_0x7ca572[_0x1400ef(0x547)]=URL[_0x1400ef(0x352)](_0x4fbd2d),_0x7ca572[_0x1400ef(0x7ef)]=_0x525c88+_0x1400ef(0x58e),_0x7ca572[_0x1400ef(0x66f)]();}function renderAnalytics(_0x545e98,_0x3e9445){const _0x12e10c=_0x712516,_0x343fa6=_0x3e9445[_0x12e10c(0xa4a)](_0x44c344=>_0x44c344['latestScore']!==undefined),_0x16e8c7=currentProjectData[_0x12e10c(0xa29)][_0x12e10c(0x88b)],_0xd728f0=_0x343fa6['length'],_0x127924=_0x16e8c7-_0xd728f0,_0x1af79d=_0x16e8c7>0x0?_0xd728f0/_0x16e8c7*0x64:0x0,_0x2fd0e9=_0x343fa6[_0x12e10c(0x4b7)](_0x231fb1=>_0x231fb1[_0x12e10c(0x4dd)]),_0x10298f=_0x2fd0e9['length']>0x0?_0x2fd0e9[_0x12e10c(0x2fa)]((_0x1a77bd,_0x482651)=>_0x1a77bd+_0x482651,0x0)/_0x2fd0e9[_0x12e10c(0x88b)]:0x0,_0x202feb=_0x545e98[_0x12e10c(0x2f6)][_0x12e10c(0x88b)],_0x4218bd=_0x202feb>0x0?_0x10298f/_0x202feb*0x64:0x0,_0x1fb2fc=calculateItemAnalysis(_0x545e98,_0x343fa6),_0x58ef63=calculateReliabilityKR20(_0x545e98,_0x343fa6,_0x1fb2fc[_0x12e10c(0x405)]);let _0x3c8860='';if(_0x58ef63!==null){let _0x4d316a='';if(_0x58ef63>=0.9)_0x4d316a=_0x12e10c(0xad4);else{if(_0x58ef63>=0.8)_0x4d316a='ดีมาก';else{if(_0x58ef63>=0.7)_0x4d316a='ดี';else{if(_0x58ef63>=0.6)_0x4d316a=_0x12e10c(0x204);else _0x4d316a=_0x12e10c(0x904);}}}_0x3c8860='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x58ef63[_0x12e10c(0x7d8)](0x2)+_0x12e10c(0x883)+_0x4d316a+_0x12e10c(0x1fa);}const _0x36a2ba=document[_0x12e10c(0x7e1)](_0x12e10c(0x46f));_0x36a2ba[_0x12e10c(0x519)]=_0x12e10c(0x459)+_0x1af79d[_0x12e10c(0x7d8)](0x0)+_0x12e10c(0x288)+_0xd728f0+'/'+_0x16e8c7+_0x12e10c(0x6f6)+_0x10298f[_0x12e10c(0x7d8)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x4218bd['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x2fd0e9[_0x12e10c(0x88b)]>0x0?Math['max'](..._0x2fd0e9):_0x12e10c(0x735))+_0x12e10c(0x5c7)+(_0x2fd0e9[_0x12e10c(0x88b)]>0x0?Math[_0x12e10c(0x822)](..._0x2fd0e9):_0x12e10c(0x735))+_0x12e10c(0x6d2)+_0x3c8860+_0x12e10c(0x57a);const _0x2a0581=document[_0x12e10c(0x7e1)]('interesting-stats-wrapper');_0x2a0581&&_0x2a0581[_0x12e10c(0x5b3)]();const _0x787f75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x36a2ba[_0x12e10c(0xaa3)]('afterend',_0x787f75);const _0x4cc946=currentProjectData[_0x12e10c(0xa29)]||[];renderSubmissionChart(_0xd728f0,_0x127924,_0x343fa6,_0x4cc946),renderScoreDistributionChart(_0x343fa6,_0x202feb),renderQuestionAnalytics(_0x545e98,_0x343fa6,_0x4cc946),renderInterestingStats(_0x545e98,_0x343fa6);}async function handleExportLessonPDF(){const _0x41a760=_0x712516,_0x2b52f2=document[_0x41a760(0x7e1)](_0x41a760(0x7b5)),_0x267bdf=document[_0x41a760(0x7e1)]('lesson-plan-title')['textContent'],_0x5a2921=window['open']('',_0x41a760(0xb0d)),_0xca09e2=_0x41a760(0x471)+_0x267bdf+_0x41a760(0x6e6)+_0x2b52f2[_0x41a760(0x519)]+_0x41a760(0x362);_0x5a2921[_0x41a760(0x57c)][_0x41a760(0x9be)](_0xca09e2),_0x5a2921[_0x41a760(0x57c)][_0x41a760(0x9cd)](),_0x5a2921['onload']=function(){setTimeout(()=>{const _0x9ef9d6=_0x158c;_0x5a2921[_0x9ef9d6(0xb0f)]();},0x5dc);};}function renderInterestingStats(_0x5b83ae,_0x275312){const _0x50ef0d=_0x712516,_0x294aa7=document[_0x50ef0d(0x7e1)]('interesting-stats-container');if(!_0x294aa7)return;if(_0x275312[_0x50ef0d(0x88b)]===0x0){_0x294aa7[_0x50ef0d(0x519)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x234da5=_0x5b83ae[_0x50ef0d(0x2f6)][_0x50ef0d(0x4b7)]((_0x28ab8b,_0x4a7ce3)=>({'index':_0x4a7ce3+0x1,'text':_0x28ab8b[_0x50ef0d(0x383)]||_0x28ab8b['stem'],'correct':0x0}));_0x275312[_0x50ef0d(0x8e0)](_0x379247=>{const _0xc7df1f=_0x50ef0d,_0x5727a5=_0x379247[_0xc7df1f(0x5ae)][_0x379247[_0xc7df1f(0x5ae)]['length']-0x1];_0x5727a5&&_0x5727a5[_0xc7df1f(0xb13)]&&_0x5727a5[_0xc7df1f(0xb13)][_0xc7df1f(0x8e0)](_0x38e381=>{const _0x4b044f=_0xc7df1f,_0x33d94f=_0x234da5[_0x4b044f(0xafd)](_0x5a49fe=>_0x5a49fe[_0x4b044f(0x7c6)]===_0x38e381[_0x4b044f(0x7bc)]);_0x38e381['isCorrect']&&_0x33d94f&&_0x33d94f[_0x4b044f(0x6a2)]++;});});const _0x257556=_0x275312[_0x50ef0d(0x88b)],_0x8865da=Math[_0x50ef0d(0xa7d)](..._0x234da5[_0x50ef0d(0x4b7)](_0x20ea5a=>_0x20ea5a[_0x50ef0d(0x6a2)])),_0x329377=Math['min'](..._0x234da5[_0x50ef0d(0x4b7)](_0x277939=>_0x277939[_0x50ef0d(0x6a2)])),_0xc20a0a=_0x234da5[_0x50ef0d(0xa4a)](_0x48a674=>_0x48a674[_0x50ef0d(0x6a2)]===_0x8865da)[_0x50ef0d(0x4b7)](_0x4afe36=>'ข้อ\x20'+_0x4afe36['index']),_0x347f85=_0x234da5[_0x50ef0d(0xa4a)](_0x1c1599=>_0x1c1599[_0x50ef0d(0x6a2)]===_0x329377)[_0x50ef0d(0x4b7)](_0x59d91d=>'ข้อ\x20'+_0x59d91d[_0x50ef0d(0x65d)]),_0x59d3ca=_0x275312['sort']((_0x241f8a,_0x3af3ba)=>_0x3af3ba['latestScore']-_0x241f8a[_0x50ef0d(0x4dd)])['filter']((_0x42c0b1,_0x31cd37,_0x4a951c)=>_0x42c0b1[_0x50ef0d(0x4dd)]===_0x4a951c[0x0][_0x50ef0d(0x4dd)]),_0x14bd3a=_0x275312[_0x50ef0d(0x778)]((_0x152415,_0x20e512)=>_0x152415[_0x50ef0d(0x4dd)]-_0x20e512['latestScore'])['filter']((_0x25e9a9,_0x476177,_0x4be25e)=>_0x25e9a9[_0x50ef0d(0x4dd)]===_0x4be25e[0x0]['latestScore']),_0x273548='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0xc20a0a[_0x50ef0d(0x85c)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x8865da+_0x50ef0d(0xb05)+_0x257556+_0x50ef0d(0x29f)+_0x347f85[_0x50ef0d(0x85c)](',\x20')+_0x50ef0d(0x51d)+(_0x257556-_0x329377)+_0x50ef0d(0xb05)+_0x257556+_0x50ef0d(0x1ee)+_0x59d3ca['map'](_0x412bb5=>_0x412bb5[_0x50ef0d(0x4ed)])[_0x50ef0d(0x85c)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x59d3ca[0x0]['latestScore']+_0x50ef0d(0x2d2)+_0x14bd3a[_0x50ef0d(0x4b7)](_0x2d9fb2=>_0x2d9fb2[_0x50ef0d(0x4ed)])['join'](',\x20')+_0x50ef0d(0x3c6)+_0x14bd3a[0x0]['latestScore']+_0x50ef0d(0xa8b);_0x294aa7[_0x50ef0d(0x519)]=_0x273548;}function renderSubmissionChart(_0x4712de,_0x15ffee,_0x16c2ef,_0x5b265e){const _0x44d2e2=_0x712516,_0x1ffd7e=document[_0x44d2e2(0x7e1)]('submission-status-chart')[_0x44d2e2(0xab3)]('2d'),_0x24cf00=_0x16c2ef[_0x44d2e2(0x4b7)](_0x5d8546=>_0x5d8546[_0x44d2e2(0x4ed)]),_0x431eca=_0x5b265e[_0x44d2e2(0xa4a)](_0x2a0b3e=>!_0x24cf00[_0x44d2e2(0x29d)](_0x2a0b3e));chartInstances[_0x44d2e2(0x971)]&&chartInstances['submission'][_0x44d2e2(0x82a)](),chartInstances[_0x44d2e2(0x971)]=new Chart(_0x1ffd7e,{'type':_0x44d2e2(0xa8e),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x4712de,_0x15ffee],'backgroundColor':[_0x44d2e2(0x26c),_0x44d2e2(0x274)],'borderColor':[_0x44d2e2(0x245),_0x44d2e2(0x245)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x44d2e2(0x558)},'tooltip':{'callbacks':{'label':function(_0x148e31){const _0x3e3aa6=_0x44d2e2;let _0x534f5c=_0x148e31[_0x3e3aa6(0x98a)]||'';return _0x534f5c&&(_0x534f5c+=':\x20'),_0x534f5c+=_0x148e31['raw'],_0x534f5c;},'afterLabel':function(_0x1ae663){const _0x5edb75=_0x44d2e2;let _0xa5f81f;return _0x1ae663['dataIndex']===0x0?_0xa5f81f=_0x24cf00:_0xa5f81f=_0x431eca,_0xa5f81f[_0x5edb75(0x88b)]>0x0?_0xa5f81f[_0x5edb75(0x85c)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x47e2cc,_0x482be5){const _0xc69d12=_0x712516,_0x6fc3d8=document[_0xc69d12(0x7e1)]('score-distribution-chart')[_0xc69d12(0xab3)]('2d'),_0x49a351={};for(let _0x2dd101=0x0;_0x2dd101<=_0x482be5;_0x2dd101++){_0x49a351[_0x2dd101]=0x0;}_0x47e2cc[_0xc69d12(0x8e0)](_0x4d77fc=>{const _0x426c1b=_0xc69d12;_0x49a351[_0x4d77fc['latestScore']]!==undefined&&_0x49a351[_0x4d77fc[_0x426c1b(0x4dd)]]++;}),chartInstances['score']&&chartInstances[_0xc69d12(0x634)]['destroy'](),chartInstances[_0xc69d12(0x634)]=new Chart(_0x6fc3d8,{'type':_0xc69d12(0x7f6),'data':{'labels':Object[_0xc69d12(0x662)](_0x49a351),'datasets':[{'label':_0xc69d12(0x7e8),'data':Object[_0xc69d12(0x48c)](_0x49a351),'backgroundColor':_0xc69d12(0x327),'borderColor':_0xc69d12(0x21e),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0xc69d12(0x7b9)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1b5e60){const _0x19ba2b=_0xc69d12,_0x515a4d=_0x1b5e60[_0x19ba2b(0x98a)],_0x3ecb2a=_0x47e2cc[_0x19ba2b(0xa4a)](_0x263d49=>_0x263d49[_0x19ba2b(0x4dd)]==_0x515a4d)['map'](_0x11fc25=>_0x11fc25[_0x19ba2b(0x4ed)]);return _0x3ecb2a[_0x19ba2b(0x88b)]>0x0?_0x3ecb2a[_0x19ba2b(0x85c)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2cdd86,_0x124f54,_0x49fa54){const _0x388fb9=_0x712516,_0x59ad48=document[_0x388fb9(0x7e1)](_0x388fb9(0x4ae));if(_0x49fa54['length']===0x0){_0x59ad48[_0x388fb9(0x519)]=_0x388fb9(0xa2a);return;}const _0x139eea=calculateItemAnalysis(_0x2cdd86,_0x124f54),_0x3c22fd=calculateDistractorAnalysis(_0x2cdd86,_0x124f54);let _0xb7b22a='';_0x139eea['overallGroups']&&(_0xb7b22a=_0x388fb9(0x833)+_0x139eea[_0x388fb9(0x8b9)][_0x388fb9(0x24d)][_0x388fb9(0x88b)]+_0x388fb9(0x3f5)+_0x139eea[_0x388fb9(0x8b9)][_0x388fb9(0x24d)][_0x388fb9(0x4b7)](_0x3a7c96=>_0x388fb9(0xaab)+_0x3a7c96+_0x388fb9(0x97e))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x139eea[_0x388fb9(0x8b9)][_0x388fb9(0x87c)][_0x388fb9(0x88b)]+_0x388fb9(0x3f5)+_0x139eea[_0x388fb9(0x8b9)][_0x388fb9(0x87c)][_0x388fb9(0x4b7)](_0xde6ed3=>_0x388fb9(0xaab)+_0xde6ed3+_0x388fb9(0x97e))[_0x388fb9(0x85c)]('')+_0x388fb9(0x64e));let _0x9ec3e5='';const _0x3b4c62=_0x124f54['map'](_0x1cc747=>_0x1cc747[_0x388fb9(0x4ed)]),_0x435fb1=_0x28de6d=>{const _0x5a5789=_0x388fb9;if(_0x28de6d>=0.8)return _0x5a5789(0x44f);if(_0x28de6d>=0.6)return _0x5a5789(0x2a1);if(_0x28de6d>=0.4)return _0x5a5789(0x801);if(_0x28de6d>=0.2)return _0x5a5789(0xab1);return _0x5a5789(0x882);},_0x5bb7dd=_0x52c6cb=>{const _0x404f56=_0x388fb9;if(_0x52c6cb<0x0)return _0x404f56(0x338);if(_0x52c6cb>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x52c6cb>=0.3)return _0x404f56(0x200);if(_0x52c6cb>=0.2)return _0x404f56(0x723);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0xa872b9=_0x137b67=>{const _0x24e3f2=_0x388fb9,_0x3cd936=_0x137b67[_0x24e3f2(0x7d8)](0x0);if(parseFloat(_0x3cd936)===0x64)return _0x24e3f2(0x24c)+_0x3cd936+_0x24e3f2(0x5fe);if(_0x137b67>=0x32)return _0x24e3f2(0x5c8)+_0x3cd936+_0x24e3f2(0x5fe);return _0x24e3f2(0x59f)+_0x3cd936+_0x24e3f2(0x5fe);};_0x2cdd86[_0x388fb9(0x2f6)][_0x388fb9(0x8e0)]((_0x16fe06,_0x59811b)=>{const _0x1f8fd2=_0x388fb9,_0x34f745=_0x139eea[_0x1f8fd2(0x405)][_0x59811b],_0x58d85b=_0x3c22fd[_0x59811b],_0x2255ed=_0x16fe06['stem']||_0x16fe06[_0x1f8fd2(0x383)]||_0x16fe06[_0x1f8fd2(0x811)];let _0x105e93=0x0;const _0x48750b=[],_0x32b9f7=[];_0x124f54[_0x1f8fd2(0x8e0)](_0x449b2d=>{const _0x1fcc4d=_0x1f8fd2,_0x25221d=_0x449b2d['attempts'][_0x449b2d['attempts'][_0x1fcc4d(0x88b)]-0x1];if(_0x25221d&&_0x25221d['answers']){const _0x5723b7=_0x25221d[_0x1fcc4d(0xb13)]['find'](_0x31f52c=>_0x31f52c[_0x1fcc4d(0x7bc)]===_0x2255ed)??_0x25221d[_0x1fcc4d(0xb13)][_0x59811b]??null;_0x5723b7&&(_0x5723b7[_0x1fcc4d(0xa3c)]?(_0x105e93++,_0x48750b[_0x1fcc4d(0x95b)](_0x449b2d[_0x1fcc4d(0x4ed)])):_0x32b9f7['push'](_0x449b2d[_0x1fcc4d(0x4ed)]));}});const _0x4954f8=_0x124f54[_0x1f8fd2(0x88b)]>0x0?_0x105e93/_0x124f54['length']*0x64:0x0,_0x1f50d1=_0x49fa54[_0x1f8fd2(0xa4a)](_0x26ae7d=>!_0x3b4c62['includes'](_0x26ae7d)),_0x1d8f92=_0x34f745?_0x1f8fd2(0xa33)+_0x34f745['p'][_0x1f8fd2(0x7d8)](0x2)+_0x1f8fd2(0x262)+_0x435fb1(_0x34f745['p'])+_0x1f8fd2(0x486)+_0x34f745['r']['toFixed'](0x2)+_0x1f8fd2(0x262)+_0x5bb7dd(_0x34f745['r'])+_0x1f8fd2(0x6bb)+_0xa872b9(_0x4954f8)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x372efe='';_0x58d85b&&(_0x372efe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x1f8fd2(0x662)](_0x58d85b)[_0x1f8fd2(0x4b7)](_0x3ae6ed=>{const _0x85285b=_0x1f8fd2,_0x383967=_0x58d85b[_0x3ae6ed],_0x5eb0a3=parseInt(_0x3ae6ed)===_0x16fe06[_0x85285b(0x4d1)],_0x315b77=!_0x5eb0a3&&_0x383967[_0x85285b(0x960)]>_0x383967[_0x85285b(0x323)];return'<tr\x20class=\x22'+(_0x5eb0a3?_0x85285b(0x7a3):'')+_0x85285b(0x340)+(_0x5eb0a3?'✔\x20':'')+_0x383967[_0x85285b(0x7c6)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x383967[_0x85285b(0x323)]+_0x85285b(0x66a)+_0x383967[_0x85285b(0x960)]+'\x20'+(_0x315b77?'👍':'')+_0x85285b(0x66a)+_0x383967[_0x85285b(0x325)]+_0x85285b(0x654);})['join']('')+_0x1f8fd2(0x789));let _0x5a3d03='';_0x34f745&&_0x34f745[_0x1f8fd2(0x66b)]&&(_0x5a3d03=_0x1f8fd2(0x469)+_0x34f745[_0x1f8fd2(0x66b)][_0x1f8fd2(0x88b)]+_0x1f8fd2(0x4bc)+_0x34f745[_0x1f8fd2(0x66b)][_0x1f8fd2(0x4b7)](_0x4d22bf=>_0x1f8fd2(0xaab)+(_0x4d22bf[_0x1f8fd2(0xa3c)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4d22bf[_0x1f8fd2(0x4ad)]+_0x1f8fd2(0x97e))[_0x1f8fd2(0x85c)]('')+_0x1f8fd2(0x51f)+_0x34f745[_0x1f8fd2(0x966)][_0x1f8fd2(0x88b)]+_0x1f8fd2(0x4bc)+_0x34f745[_0x1f8fd2(0x966)][_0x1f8fd2(0x4b7)](_0x474406=>_0x1f8fd2(0xaab)+(_0x474406[_0x1f8fd2(0xa3c)]?_0x1f8fd2(0x691):_0x1f8fd2(0x7f2))+'\x20'+_0x474406[_0x1f8fd2(0x4ad)]+_0x1f8fd2(0x97e))[_0x1f8fd2(0x85c)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x9ec3e5+=_0x1f8fd2(0xa69)+(_0x59811b+0x1)+':\x20'+_0x2255ed+_0x1f8fd2(0xac3)+_0x1d8f92+_0x1f8fd2(0xa30)+_0x2255ed+_0x1f8fd2(0xa7c)+_0x105e93+_0x1f8fd2(0x9a2)+_0x124f54[_0x1f8fd2(0x88b)]+_0x1f8fd2(0x9f8)+_0x4954f8[_0x1f8fd2(0x7d8)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x48750b[_0x1f8fd2(0x88b)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x48750b['length']>0x0?_0x48750b[_0x1f8fd2(0x85c)](',\x20'):_0x1f8fd2(0x5c5))+_0x1f8fd2(0x6bd)+_0x32b9f7['length']+_0x1f8fd2(0x23e)+(_0x32b9f7[_0x1f8fd2(0x88b)]>0x0?_0x32b9f7[_0x1f8fd2(0x85c)](',\x20'):_0x1f8fd2(0x5c5))+_0x1f8fd2(0x436)+_0x1f50d1[_0x1f8fd2(0x88b)]+_0x1f8fd2(0x23e)+(_0x1f50d1[_0x1f8fd2(0x88b)]>0x0?_0x1f50d1[_0x1f8fd2(0x85c)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x372efe+_0x1f8fd2(0x379)+_0x5a3d03+_0x1f8fd2(0x329);}),_0x59ad48['innerHTML']=_0xb7b22a+_0x9ec3e5;try{window['MathJax']&&MathJax[_0x388fb9(0x7a9)]&&MathJax[_0x388fb9(0x7a9)]([_0x59ad48]);}catch(_0x33a961){console[_0x388fb9(0x7e3)]('MathJax\x20typeset\x20error\x20(analytics):',_0x33a961);}}function calculateDistractorAnalysis(_0x2224b3,_0x30b9aa){const _0xcfa1fa=_0x712516,_0x4e037e={};if(_0x30b9aa[_0xcfa1fa(0x88b)]<0x2)return _0x4e037e;const _0x2e5372=[..._0x30b9aa][_0xcfa1fa(0x778)]((_0x4be893,_0x2c64c3)=>{const _0xf10938=_0xcfa1fa,_0x2b49f5=_0x2c64c3[_0xf10938(0x4dd)]-_0x4be893[_0xf10938(0x4dd)];if(_0x2b49f5!==0x0)return _0x2b49f5;const _0x31592d=_0x4be893[_0xf10938(0x5ae)]?.[_0xf10938(0x88b)]||0x1,_0x1679e1=_0x2c64c3[_0xf10938(0x5ae)]?.[_0xf10938(0x88b)]||0x1,_0x15350b=_0x31592d-_0x1679e1;if(_0x15350b!==0x0)return _0x15350b;const _0x3bad9d=new Date(_0x4be893[_0xf10938(0x49d)]),_0x127c28=new Date(_0x2c64c3['latestSubmittedAt']),_0x593425=_0x3bad9d-_0x127c28;if(_0x593425!==0x0)return _0x593425;return _0x4be893[_0xf10938(0x4ed)][_0xf10938(0x39f)](_0x2c64c3[_0xf10938(0x4ed)],'th');}),_0x5eca74=_0x2e5372[_0xcfa1fa(0x88b)],_0x13a11a=Math[_0xcfa1fa(0xa7d)](0x1,Math[_0xcfa1fa(0xa67)](_0x5eca74*0.33)),_0xfd75e9=_0x2e5372['slice'](0x0,_0x13a11a),_0x38ba5e=_0x2e5372[_0xcfa1fa(0x7c1)](-_0x13a11a);return _0x2224b3['questions'][_0xcfa1fa(0x8e0)]((_0x54e438,_0x2a9ed1)=>{const _0x37e82f=_0xcfa1fa;if(_0x54e438[_0x37e82f(0xad0)]!==_0x37e82f(0xaa4)||!_0x54e438[_0x37e82f(0x89f)])return;const _0x49fea3=_0x54e438[_0x37e82f(0x383)],_0x2b4446={};_0x54e438[_0x37e82f(0x89f)][_0x37e82f(0x8e0)]((_0x416237,_0xb35570)=>{_0x2b4446[_0xb35570]={'text':_0x416237,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2e5372['forEach'](_0x1c5299=>{const _0x146d6c=_0x37e82f,_0x2aea61=_0x1c5299[_0x146d6c(0x5ae)][_0x1c5299['attempts'][_0x146d6c(0x88b)]-0x1],_0x431f48=_0x2aea61['answers'][_0x146d6c(0xafd)](_0xbc7a5b=>_0xbc7a5b[_0x146d6c(0x7bc)]===_0x49fea3);if(_0x431f48&&_0x431f48[_0x146d6c(0x8ea)]!==null){const _0x4bcf95=_0x54e438[_0x146d6c(0x89f)][_0x146d6c(0xb1c)](_0x2c98c6=>_0x2c98c6===_0x431f48[_0x146d6c(0x797)]);_0x4bcf95!==-0x1&&_0x2b4446[_0x4bcf95]&&(_0x2b4446[_0x4bcf95][_0x146d6c(0x325)]++,_0xfd75e9[_0x146d6c(0x29d)](_0x1c5299)&&_0x2b4446[_0x4bcf95][_0x146d6c(0x323)]++,_0x38ba5e[_0x146d6c(0x29d)](_0x1c5299)&&_0x2b4446[_0x4bcf95]['lower_group_count']++);}}),_0x4e037e[_0x2a9ed1]=_0x2b4446;}),_0x4e037e;}function calculateReliabilityKR20(_0x3bdd10,_0x824b99,_0x1d1e7a){const _0x3f5282=_0x712516,_0x5bdd11=_0x3bdd10[_0x3f5282(0x2f6)][_0x3f5282(0x88b)];if(_0x5bdd11<0x2||_0x824b99[_0x3f5282(0x88b)]<0x2)return null;const _0x468b73=_0x824b99[_0x3f5282(0x4b7)](_0x443426=>_0x443426[_0x3f5282(0x4dd)]),_0x31fe91=_0x468b73[_0x3f5282(0x2fa)]((_0x17802f,_0x1c5e29)=>_0x17802f+_0x1c5e29,0x0)/_0x468b73['length'],_0xda9dbc=_0x468b73[_0x3f5282(0x4b7)](_0x4019d0=>Math['pow'](_0x4019d0-_0x31fe91,0x2))[_0x3f5282(0x2fa)]((_0x33110f,_0x404547)=>_0x33110f+_0x404547,0x0)/_0x468b73[_0x3f5282(0x88b)];if(_0xda9dbc===0x0)return null;let _0x5b97b5=0x0;for(let _0x10d21a=0x0;_0x10d21a<_0x5bdd11;_0x10d21a++){const _0x300eae=_0x1d1e7a[_0x10d21a]?.['p'];if(_0x300eae===undefined)continue;const _0x23e245=0x1-_0x300eae;_0x5b97b5+=_0x300eae*_0x23e245;}if(_0x5b97b5===0x0)return null;const _0x1684b9=_0x5bdd11/(_0x5bdd11-0x1)*(0x1-_0x5b97b5/_0xda9dbc);if(_0x1684b9>0x1)return null;return _0x1684b9;}async function handleAnalyzeClass(){const _0x56b21b=_0x712516;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x56b21b(0x768));return;}const _0x58cb92=collection(db,_0x56b21b(0xade)+appId+_0x56b21b(0x8a4)+currentQuizData['id']+_0x56b21b(0x437)),_0x939f6b=await getDocs(_0x58cb92),_0x5593c5=_0x939f6b[_0x56b21b(0xa6a)][_0x56b21b(0x4b7)](_0x1b2fc2=>_0x1b2fc2[_0x56b21b(0x4fb)]());if(_0x5593c5[_0x56b21b(0x88b)]<0x2){showMessage(_0x56b21b(0x29a));return;}const _0x367e14=document[_0x56b21b(0x7e1)](_0x56b21b(0x8ce));_0x367e14[_0x56b21b(0x519)]=_0x56b21b(0x63b),document['getElementById'](_0x56b21b(0x249))[_0x56b21b(0xab8)]=!![];const _0x4e2ec7=_0x5593c5[_0x56b21b(0x4b7)]((_0x3393c7,_0x2eb4a0)=>{const _0x8a2932=_0x56b21b,_0x381456=_0x3393c7[_0x8a2932(0x5ae)][_0x3393c7[_0x8a2932(0x5ae)]['length']-0x1];if(!_0x381456)return'';return _0x8a2932(0xae2)+(_0x2eb4a0+0x1)+'\x20('+_0x3393c7[_0x8a2932(0x4ed)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x381456[_0x8a2932(0x634)]+'/'+_0x3393c7[_0x8a2932(0x9e9)]+_0x8a2932(0x328)+JSON[_0x8a2932(0x44c)](_0x381456['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x56b21b(0x85c)](_0x56b21b(0x4de)),_0xe0ebf7=_0x56b21b(0x588)+currentQuizData[_0x56b21b(0x9b8)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x56b21b(0x44c)](currentQuizData['questions'])+_0x56b21b(0x37d)+_0x4e2ec7+_0x56b21b(0x284),_0x53a7cf={'type':'OBJECT','properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x56b21b(0x208)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x56b21b(0x208)}},'teacherSuggestions':{'type':_0x56b21b(0x20e),'items':{'type':_0x56b21b(0x208)}}},'required':[_0x56b21b(0x4e8),_0x56b21b(0x375),_0x56b21b(0xa76)]};try{const _0x4cfe5a=await callAnalysisApi(_0xe0ebf7,_0x53a7cf);displayClassAnalysis(_0x4cfe5a);}catch(_0x53089d){console['error'](_0x56b21b(0x926),_0x53089d),_0x367e14[_0x56b21b(0x519)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x53089d[_0x56b21b(0x7e4)]+_0x56b21b(0x23d);}finally{document['getElementById'](_0x56b21b(0x249))['disabled']=![];}}function displayClassAnalysis(_0x5effed){const _0x4f07fc=_0x712516,_0x1848de=document[_0x4f07fc(0x7e1)](_0x4f07fc(0x8ce));if(!_0x5effed){_0x1848de[_0x4f07fc(0x519)]=_0x4f07fc(0x215);return;}_0x1848de[_0x4f07fc(0x519)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5effed[_0x4f07fc(0x4e8)]['map'](_0x373732=>'<li>'+_0x373732+_0x4f07fc(0x97e))[_0x4f07fc(0x85c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5effed[_0x4f07fc(0x375)][_0x4f07fc(0x4b7)](_0x2b642f=>'<li>'+_0x2b642f+_0x4f07fc(0x97e))[_0x4f07fc(0x85c)]('')+_0x4f07fc(0xadf)+_0x5effed[_0x4f07fc(0xa76)][_0x4f07fc(0x4b7)](_0x25f133=>_0x4f07fc(0xaab)+_0x25f133+_0x4f07fc(0x97e))[_0x4f07fc(0x85c)]('')+_0x4f07fc(0x278);}function formatAndPrintWorksheet(_0x2a7bda,_0x399071){const _0x5e42a4=_0x712516,_0x207052=_0x5e42a4(0x8ee)+_0x2a7bda[_0x5e42a4(0x9b8)]+_0x5e42a4(0x5fd)+_0x2a7bda[_0x5e42a4(0x9b8)]+_0x5e42a4(0x995)+_0x2a7bda[_0x5e42a4(0x2f6)]['map']((_0x857c15,_0x5d5c83)=>_0x5e42a4(0x62c)+(_0x5d5c83+0x1)+'.\x20'+_0x857c15[_0x5e42a4(0x383)]+_0x5e42a4(0x66c)+(_0x857c15['imageCode']?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x857c15[_0x5e42a4(0x92b)]+_0x5e42a4(0x6b3):'')+_0x5e42a4(0x5c3))[_0x5e42a4(0x85c)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x399071[_0x5e42a4(0x57c)][_0x5e42a4(0x9be)](_0x207052),_0x399071[_0x5e42a4(0x57c)][_0x5e42a4(0x9cd)](),_0x399071['onload']=function(){setTimeout(()=>{const _0x590be0=_0x158c;_0x399071[_0x590be0(0xb0f)]();},0x3e8);};}async function generateWorksheet(){const _0x4a5f01=_0x712516,_0x2af0a9=document[_0x4a5f01(0x7e1)]('worksheet-topic-input')[_0x4a5f01(0x848)]['trim']();if(!_0x2af0a9){showMessage(_0x4a5f01(0x52f));return;}const _0x24b64e=document['getElementById']('force-math-checkbox')[_0x4a5f01(0x8ed)],_0x13dbfd=_0x24b64e?'':_0x4a5f01(0x924),_0x3fe229=window[_0x4a5f01(0x546)]('',_0x4a5f01(0xb0d));_0x3fe229['document'][_0x4a5f01(0x9be)](_0x4a5f01(0x990));const _0x121406=parseInt(document['getElementById']('num-questions')[_0x4a5f01(0x848)]),_0x5c0545=document['getElementById']('include-images-checkbox')['checked'],_0x24bfcc=_0x5c0545?_0x4a5f01(0x52c):'',_0x28721f=_0x4a5f01(0x537)+_0x13dbfd+_0x4a5f01(0x805)+_0x121406+_0x4a5f01(0xaca)+_0x2af0a9+_0x4a5f01(0x745)+_0x24bfcc+_0x4a5f01(0x977)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x4ecc3f={'type':_0x4a5f01(0xa18),'properties':{'topic':{'type':_0x4a5f01(0x208)},'questions':{'type':_0x4a5f01(0x20e),'items':{'type':_0x4a5f01(0xa18),'properties':{'questionText':{'type':_0x4a5f01(0x208)},'imageCode':{'type':_0x4a5f01(0x208)}},'required':['questionText']}}},'required':[_0x4a5f01(0x9b8),_0x4a5f01(0x2f6)]};document[_0x4a5f01(0x7e1)]('loader-text')[_0x4a5f01(0x8b8)]='',document['getElementById'](_0x4a5f01(0x521))['classList']['remove'](_0x4a5f01(0x984)),document[_0x4a5f01(0x7e1)](_0x4a5f01(0x4a9))[_0x4a5f01(0x709)]['remove'](_0x4a5f01(0x984)),generateWorksheetBtn['disabled']=!![];try{const _0x3f0d03=await callAnalysisApi(_0x28721f,_0x4ecc3f);formatAndPrintWorksheet(_0x3f0d03,_0x3fe229);}catch(_0x3f7a97){console[_0x4a5f01(0x7e3)](_0x4a5f01(0x43b),_0x3f7a97);if(_0x3fe229)_0x3fe229['close']();showMessage(_0x4a5f01(0x2ac));}finally{document[_0x4a5f01(0x7e1)](_0x4a5f01(0x521))[_0x4a5f01(0x709)][_0x4a5f01(0x484)]('hidden'),document[_0x4a5f01(0x7e1)](_0x4a5f01(0x4a9))[_0x4a5f01(0x709)][_0x4a5f01(0x484)](_0x4a5f01(0x984)),generateWorksheetBtn[_0x4a5f01(0xab8)]=![];}}async function callAnalysisApi(_0x41ffb8,_0x1f8aa0){const _0x21602d=_0x712516,_0x35d525={'contents':[{'role':_0x21602d(0x524),'parts':[{'text':_0x41ffb8}]}],'generationConfig':{'responseMimeType':_0x21602d(0x3b8),'responseSchema':_0x1f8aa0}},_0x345ad7=_0x21602d(0x1f9),_0x3bf111='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x345ad7,_0x338f70=await fetch(_0x3bf111,{'method':_0x21602d(0x4fc),'headers':{'Content-Type':_0x21602d(0x3b8)},'body':JSON[_0x21602d(0x44c)](_0x35d525)});if(!_0x338f70['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x338f70[_0x21602d(0x407)]);const _0x3b1742=await _0x338f70[_0x21602d(0x515)]();if(_0x3b1742['candidates']?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x21602d(0x689)](_0x3b1742['candidates'][0x0][_0x21602d(0x296)]['parts'][0x0][_0x21602d(0x7c6)]);else{let _0x3e8270=_0x21602d(0x4c1);if(_0x3b1742[_0x21602d(0x652)]?.[_0x21602d(0x862)])_0x3e8270=_0x21602d(0x766)+_0x3b1742['promptFeedback'][_0x21602d(0x862)]+'.';else _0x3b1742[_0x21602d(0x9c3)]?.[0x0]?.['finishReason']&&_0x3b1742[_0x21602d(0x9c3)][0x0][_0x21602d(0x50e)]!==_0x21602d(0x528)&&(_0x3e8270='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x3b1742[_0x21602d(0x9c3)][0x0][_0x21602d(0x50e)]+'.');console[_0x21602d(0x7e3)](_0x3e8270,JSON[_0x21602d(0x44c)](_0x3b1742));throw new Error(_0x3e8270);}}async function handleStartSyncMode(_0x5ea5d9,_0x44abce=![]){const _0x308c32=_0x712516,_0x69c0aa=allQuizzes[_0x308c32(0xafd)](_0xbf4b78=>_0xbf4b78['id']===_0x5ea5d9)||allQuizzesGlobal[_0x308c32(0xafd)](_0x37d46b=>_0x37d46b['id']===_0x5ea5d9);if(!_0x69c0aa){showMessage(_0x308c32(0x96a));return;}currentQuizData=getShuffledQuiz(_0x69c0aa);const _0x363c9a=Math[_0x308c32(0xa67)](0x3e8+Math[_0x308c32(0x658)]()*0x2328)[_0x308c32(0x431)]();try{const _0x404d35=await addDoc(collection(db,_0x308c32(0xade)+appId+'/public/data/syncGames'),{'quizId':_0x69c0aa['id'],'pin':_0x363c9a,'status':_0x308c32(0xa00),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x44abce,'players':{}});currentLiveGameId=_0x404d35['id'],showView(_0x308c32(0x6ed)),renderSyncLobbyView(_0x363c9a,_0x69c0aa['topic']),listenForSyncGameUpdates();}catch(_0x179cdc){console[_0x308c32(0x7e3)]('Error\x20starting\x20sync\x20game:',_0x179cdc),showMessage(_0x308c32(0x241));}}function calculateFinalPodiumScores(_0x1bfc10){const _0x489bbd=_0x712516;if(!_0x1bfc10||!_0x1bfc10['shuffledQuiz']||!_0x1bfc10[_0x489bbd(0x3b0)])return _0x1bfc10[_0x489bbd(0x3b0)]||{};const _0xbc1054=_0x1bfc10[_0x489bbd(0x891)][_0x489bbd(0x2f6)][_0x489bbd(0x88b)],_0x3b5760=JSON['parse'](JSON[_0x489bbd(0x44c)](_0x1bfc10[_0x489bbd(0x3b0)]));return Object[_0x489bbd(0x48c)](_0x3b5760)['forEach'](_0x11ddf2=>{const _0x45b483=_0x489bbd,_0xa8e79=_0x11ddf2[_0x45b483(0x634)];let _0x1362b3=0x0;_0x1bfc10[_0x45b483(0x58f)]&&_0x11ddf2[_0x45b483(0xb13)]&&_0x11ddf2['answers'][_0x45b483(0x8e0)](_0x51a36c=>{const _0x13366b=_0x45b483;if(_0x51a36c[_0x13366b(0xa3c)]&&_0x51a36c['wasConfident'])_0x1362b3+=0x1;else!_0x51a36c['isCorrect']&&_0x51a36c['wasConfident']&&(_0x1362b3-=0x1);}),_0x11ddf2[_0x45b483(0x634)]=_0xa8e79+_0x1362b3,_0xbc1054>0x0&&_0xa8e79===_0xbc1054&&(_0x11ddf2['score']+=0x1,_0x11ddf2['hasPerfectScoreBonus']=!![]);}),_0x3b5760;}function listenForSyncGameUpdates(){const _0xe3a9e4=_0x712516;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1e0251=doc(db,_0xe3a9e4(0xade)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1e0251,_0x1d7baf=>{const _0x580fd1=_0xe3a9e4;if(!_0x1d7baf[_0x580fd1(0x23c)]()){sessionStorage[_0x580fd1(0x322)](_0x580fd1(0x401));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode===_0x580fd1(0x250)?_0x580fd1(0xa03):'student');return;}const _0x2f919b=_0x1d7baf[_0x580fd1(0x4fb)]();currentMode===_0x580fd1(0x250)?updateAdminSyncView(_0x2f919b):updateStudentSyncView(_0x2f919b);});}function renderSyncLobbyView(_0x342e5b,_0x50dbe2){const _0x19a6a1=_0x712516;liveGameView[_0x19a6a1(0x519)]=_0x19a6a1(0x7d3)+_0x50dbe2+_0x19a6a1(0x539)+_0x342e5b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x52c9a4=document[_0x19a6a1(0x7e1)]('confidence-scoring-toggle'),_0x2ec601=document[_0x19a6a1(0x7e1)](_0x19a6a1(0x36b));_0x52c9a4[_0x19a6a1(0x996)](_0x19a6a1(0x913),()=>{const _0x5470dd=_0x19a6a1;_0x2ec601[_0x5470dd(0x38f)][_0x5470dd(0x5d6)]=_0x52c9a4[_0x5470dd(0x8ed)]?_0x5470dd(0x36d):_0x5470dd(0x994);}),document['getElementById']('start-sync-game-btn')[_0x19a6a1(0x996)](_0x19a6a1(0x66f),async()=>{const _0x316a7a=_0x19a6a1,_0x19cffe=doc(db,_0x316a7a(0xade)+appId+'/public/data/syncGames',currentLiveGameId),_0x545a2e=document[_0x316a7a(0x7e1)](_0x316a7a(0xb0a))[_0x316a7a(0x8ed)];await updateDoc(_0x19cffe,{'status':_0x316a7a(0x25a),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x545a2e});});}function updateAdminSyncView(_0x4a357a){const _0x78f55f=_0x712516;switch(_0x4a357a[_0x78f55f(0x407)]){case _0x78f55f(0xa00):renderSyncLobbyView(_0x4a357a[_0x78f55f(0xabc)],_0x4a357a[_0x78f55f(0x891)][_0x78f55f(0x9b8)]);const _0x4a6e42=Object[_0x78f55f(0x90d)](_0x4a357a[_0x78f55f(0x3b0)]||{})[_0x78f55f(0xa4a)](([_0x1f622e,_0x282888])=>_0x282888[_0x78f55f(0x407)]!=='inactive');document['getElementById'](_0x78f55f(0x94b))[_0x78f55f(0x8b8)]=_0x4a6e42['length'],document[_0x78f55f(0x7e1)](_0x78f55f(0x2c8))[_0x78f55f(0x519)]=_0x4a6e42['map'](([_0x4ae81a,_0x275f3f])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4ae81a+_0x78f55f(0x1ed)+_0x4ae81a+_0x78f55f(0x850))[_0x78f55f(0x85c)]('')||_0x78f55f(0x61d),document[_0x78f55f(0x7e1)](_0x78f55f(0x3d8))[_0x78f55f(0xab8)]=_0x4a6e42[_0x78f55f(0x88b)]===0x0;break;case _0x78f55f(0x25a):const _0x205c6e=Object[_0x78f55f(0x48c)](_0x4a357a[_0x78f55f(0x3b0)]||{})[_0x78f55f(0xa4a)](_0x3b5bd3=>_0x3b5bd3[_0x78f55f(0x407)]!==_0x78f55f(0x516)),_0x32dd2f=_0x205c6e[_0x78f55f(0xa4a)](_0x3fcf17=>_0x3fcf17['answered'])[_0x78f55f(0x88b)],_0x3f7289=_0x32dd2f===_0x205c6e['length']&&_0x205c6e[_0x78f55f(0x88b)]>0x0;if(_0x3f7289&&_0x4a357a[_0x78f55f(0x407)]===_0x78f55f(0x25a)){const _0xb54b84=doc(db,_0x78f55f(0xade)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0xb54b84,{'status':_0x78f55f(0x2d9)});}else{if(document[_0x78f55f(0x7e1)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x4a357a);else{const _0x281006=document[_0x78f55f(0x7e1)]('answer-counter');_0x281006&&(_0x281006[_0x78f55f(0x8b8)]=_0x32dd2f+'/'+_0x205c6e[_0x78f55f(0x88b)]);const _0x36926a=document[_0x78f55f(0x7e1)]('sync-player-list');_0x36926a&&(_0x36926a[_0x78f55f(0x519)]=_0x205c6e[_0x78f55f(0x4b7)](_0x5e6e2f=>{const _0x98964a=_0x78f55f,_0x2d7f55=_0x5e6e2f[_0x98964a(0xa25)]?_0x98964a(0x860):_0x98964a(0x6cb),_0x27cd12=_0x5e6e2f['answered']?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x98964a(0xa75);return _0x98964a(0x717)+_0x2d7f55+_0x98964a(0x8ad)+_0x27cd12+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5e6e2f[_0x98964a(0x4ad)]+_0x98964a(0x9b2)+_0x5e6e2f[_0x98964a(0x4ad)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x78f55f(0x85c)](''));}}break;case _0x78f55f(0x2d9):const _0x592953=_0x4a357a[_0x78f55f(0xa7b)],_0x4e19dc=_0x4a357a['shuffledQuiz'][_0x78f55f(0x2f6)][_0x592953];renderSyncSummaryView(_0x4a357a,_0x4e19dc,!![]);break;case _0x78f55f(0x388):renderAdminSyncDashboard(_0x4a357a,!![]);break;case _0x78f55f(0x8f7):_0x4a357a[_0x78f55f(0x2f0)]&&saveGameResultsAsSubmissions(_0x4a357a);sessionStorage['removeItem'](_0x78f55f(0x401));const _0x5f56f7=calculateFinalPodiumScores(_0x4a357a);showPodiumView(_0x5f56f7,'sync');break;}}function renderAdminSyncQuestionView(_0x120c4f){const _0x285622=_0x712516,_0xf69ee4=_0x120c4f[_0x285622(0xa7b)],_0x4a873a=_0x120c4f[_0x285622(0x891)]['questions'][_0xf69ee4],_0xce5894=_0x120c4f[_0x285622(0x891)][_0x285622(0x2f6)]['length'],_0x225bf1=Object['values'](_0x120c4f[_0x285622(0x3b0)]||{})[_0x285622(0xa4a)](_0x1939c9=>_0x1939c9[_0x285622(0x407)]!==_0x285622(0x516)),_0x32373e=_0x225bf1[_0x285622(0xa4a)](_0x402b71=>_0x402b71['answered'])[_0x285622(0x88b)],_0xd4bf5b=_0x32373e===_0x225bf1[_0x285622(0x88b)]&&_0x225bf1['length']>0x0,_0x20f016=(_0x4a873a[_0x285622(0x89f)]||[])[_0x285622(0x4b7)](_0x5e0e1f=>_0x285622(0x2f2)+_0x5e0e1f+_0x285622(0x6b3))[_0x285622(0x85c)]('');liveGameView[_0x285622(0x519)]=_0x285622(0x9a7)+(_0xf69ee4+0x1)+_0x285622(0xb05)+_0xce5894+_0x285622(0x959)+_0x32373e+'/'+_0x225bf1[_0x285622(0x88b)]+_0x285622(0x80c)+_0x4a873a['questionText']+_0x285622(0x2dd)+_0x20f016+_0x285622(0x263)+(!_0xd4bf5b?_0x285622(0xab8):'')+_0x285622(0xa7a);if(window[_0x285622(0x7e0)])MathJax[_0x285622(0x7a9)]();document[_0x285622(0x7e1)](_0x285622(0x4a5))['addEventListener'](_0x285622(0x66f),async()=>{const _0x564ac7=_0x285622,_0x1b6bea=doc(db,_0x564ac7(0xade)+appId+_0x564ac7(0x832),currentLiveGameId);await updateDoc(_0x1b6bea,{'status':_0x564ac7(0x388)});}),document[_0x285622(0x7e1)](_0x285622(0x7fa))[_0x285622(0x903)]=()=>{const _0x419f1c=_0x285622;openScratchpad(_0x4a873a,_0x4a873a[_0x419f1c(0x89f)]||[]);},document[_0x285622(0x7e1)](_0x285622(0x4d5))[_0x285622(0x996)](_0x285622(0x66f),()=>{const _0x27ae16=_0x285622;document[_0x27ae16(0x7e1)](_0x27ae16(0x32a))['classList'][_0x27ae16(0xa3d)](_0x27ae16(0x984));});}function renderSyncLeaderboardView(_0x7d24cc,_0x3ebfb4){const _0x345da4=_0x712516,_0x45bd93=Object['values'](_0x7d24cc[_0x345da4(0x3b0)]||{});_0x45bd93[_0x345da4(0x778)]((_0x4b211a,_0x9cf2f9)=>_0x9cf2f9[_0x345da4(0x634)]-_0x4b211a[_0x345da4(0x634)]);const _0xcecc00=_0x45bd93[_0x345da4(0x7c1)](0x0,0x5);let _0x4c029e='';if(_0x3ebfb4){const _0x2ee84e=_0x7d24cc[_0x345da4(0xa7b)]>=_0x7d24cc['shuffledQuiz'][_0x345da4(0x2f6)]['length']-0x1;_0x4c029e=_0x345da4(0x50a)+(_0x2ee84e?_0x345da4(0x6f7):_0x345da4(0x725))+_0x345da4(0x7d2);}else _0x4c029e=_0x345da4(0x61c);liveGameView[_0x345da4(0x519)]=_0x345da4(0x7d0)+_0xcecc00['map']((_0x20c78a,_0x4f11e2)=>_0x345da4(0x818)+(_0x4f11e2+0x1)+'.\x20'+_0x20c78a[_0x345da4(0x4ad)]+'</span><span\x20class=\x22font-bold\x22>'+_0x20c78a[_0x345da4(0x634)]+_0x345da4(0x368))[_0x345da4(0x85c)]('')+_0x345da4(0x3a7)+_0x4c029e+_0x345da4(0x6bc),_0x3ebfb4&&document[_0x345da4(0x7e1)](_0x345da4(0x821))['addEventListener']('click',async()=>{const _0x37c9b7=_0x345da4,_0x59d57b=doc(db,_0x37c9b7(0xade)+appId+_0x37c9b7(0x832),currentLiveGameId),_0x3ba526=_0x7d24cc[_0x37c9b7(0xa7b)]+0x1;if(_0x3ba526<_0x7d24cc[_0x37c9b7(0x891)][_0x37c9b7(0x2f6)]['length']){const _0x27b56f={};Object[_0x37c9b7(0x662)](_0x7d24cc[_0x37c9b7(0x3b0)])[_0x37c9b7(0x8e0)](_0x22ac01=>{const _0x4ec430=_0x37c9b7;_0x27b56f[_0x4ec430(0xae9)+_0x22ac01+_0x4ec430(0x979)]=![];}),await updateDoc(_0x59d57b,{..._0x27b56f,'status':_0x37c9b7(0x25a),'currentQuestionIndex':_0x3ba526,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x59d57b,{'status':_0x37c9b7(0x8f7)});});}async function handleJoinSyncGame(){const _0x4ec6b5=_0x712516,_0x5d10eb=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x5d10eb||_0x5d10eb[_0x4ec6b5(0x847)]()[_0x4ec6b5(0x88b)]!==0x2){showMessage(_0x4ec6b5(0x3b4));return;}try{const _0x103e04=collection(db,'artifacts/'+appId+_0x4ec6b5(0x832)),_0x4a5266=query(_0x103e04,where(_0x4ec6b5(0xabc),'==',_0x5d10eb['trim']()),where(_0x4ec6b5(0x407),'==',_0x4ec6b5(0xa00))),_0x33d308=await getDocs(_0x4a5266);if(_0x33d308[_0x4ec6b5(0x47c)]){showMessage(_0x4ec6b5(0x947));return;}const _0x107e36=_0x33d308[_0x4ec6b5(0xa6a)][0x0];currentLiveGameId=_0x107e36['id'];const _0x1f9298=_0x107e36[_0x4ec6b5(0x4fb)](),_0xb69cac=doc(db,_0x4ec6b5(0xade)+appId+_0x4ec6b5(0x4b0),_0x1f9298[_0x4ec6b5(0x351)]),_0xfd6b4e=await getDoc(_0xb69cac);if(!_0xfd6b4e[_0x4ec6b5(0x23c)]())throw new Error(_0x4ec6b5(0x6b0));const _0x376d24=_0xfd6b4e[_0x4ec6b5(0x4fb)](),_0x4ad9fb=doc(db,_0x4ec6b5(0xade)+appId+'/public/data/projects',_0x376d24['projectId']),_0x5aa25e=await getDoc(_0x4ad9fb);if(!_0x5aa25e['exists']())throw new Error(_0x4ec6b5(0x3dc));currentQuizData=_0x1f9298[_0x4ec6b5(0x891)];const _0x11c18d=_0x5aa25e['data']();showView(_0x4ec6b5(0x56e)),showTeamPlayerSelection(_0x11c18d[_0x4ec6b5(0xa29)],_0x376d24['topic']);const _0x445726=document[_0x4ec6b5(0x7e1)]('confirm-team-players-btn');_0x445726[_0x4ec6b5(0x903)]=confirmAndJoinSyncGame;}catch(_0xeff9ca){console[_0x4ec6b5(0x7e3)](_0x4ec6b5(0x618),_0xeff9ca),showMessage(_0x4ec6b5(0x90c)+_0xeff9ca['message']);}}function updateStudentSyncView(_0x3e3531){const _0x52249f=_0x712516,_0x1ab71c=_0x3e3531['players'][localTeamPlayers[0x0]];switch(_0x3e3531[_0x52249f(0x407)]){case _0x52249f(0xa00):showView('live-game'),liveGameView[_0x52249f(0x519)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x52249f(0x25a):const _0x444493=localTeamPlayers[_0x52249f(0x211)](_0x4fb9cb=>_0x3e3531[_0x52249f(0x3b0)][_0x4fb9cb]?.[_0x52249f(0xa25)]===!![]);_0x444493?liveGameView[_0x52249f(0x519)]=_0x52249f(0x5be):renderStudentSyncQuestionView(_0x3e3531);break;case _0x52249f(0x2d9):liveGameView[_0x52249f(0x519)]=_0x52249f(0xacb);break;case _0x52249f(0x388):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x3e3531);break;case _0x52249f(0x8f7):sessionStorage['removeItem'](_0x52249f(0x401));const _0x3471bc=calculateFinalPodiumScores(_0x3e3531);showPodiumView(_0x3471bc,'sync');break;}}function renderStudentSyncResultsView(_0x15c395){const _0xf81ddf=_0x712516,_0x390d05=localTeamPlayers[_0xf81ddf(0x4b7)](_0x13eeda=>_0x15c395['players'][_0x13eeda])[_0xf81ddf(0xa4a)](Boolean);_0x390d05[_0xf81ddf(0x778)]((_0xd66f76,_0x5bba9e)=>(_0x5bba9e[_0xf81ddf(0x634)]||0x0)-(_0xd66f76[_0xf81ddf(0x634)]||0x0));const _0x2804c3=_0x15c395[_0xf81ddf(0xa7b)]>=_0x15c395[_0xf81ddf(0x891)][_0xf81ddf(0x2f6)][_0xf81ddf(0x88b)]-0x1;let _0xf9d421='';_0x2804c3?_0xf9d421=_0xf81ddf(0x555):_0xf9d421='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x954152=_0xf81ddf(0x863)+_0x390d05[_0xf81ddf(0x4b7)]((_0xdef85d,_0xabb69)=>_0xf81ddf(0x617)+(_0xabb69+0x1)+_0xf81ddf(0x89b)+_0xdef85d[_0xf81ddf(0x4ad)]+_0xf81ddf(0x6bf)+_0xdef85d['score']+_0xf81ddf(0xb1a))[_0xf81ddf(0x85c)]('')+_0xf81ddf(0x5f4)+_0xf9d421+_0xf81ddf(0xaef);liveGameView[_0xf81ddf(0x519)]=_0x954152;}function renderStudentSyncQuestionView(_0x1d0f7d){const _0x4b5129=_0x712516;while(localPlayerTurnIndex<localTeamPlayers[_0x4b5129(0x88b)]&&_0x1d0f7d[_0x4b5129(0x3b0)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x4b5129(0xa25)]===!![]){localPlayerTurnIndex++;}const _0x1d75a6=localTeamPlayers[localPlayerTurnIndex];if(!_0x1d75a6)return;const _0x210a1d=_0x1d0f7d[_0x4b5129(0xa7b)],_0x2fe8da=_0x1d0f7d[_0x4b5129(0x891)][_0x4b5129(0x2f6)]['length'],_0x1f81f0=_0x1d0f7d[_0x4b5129(0x891)][_0x4b5129(0x2f6)][_0x210a1d],_0x10834b=(_0x1f81f0['options']||[])[_0x4b5129(0x4b7)]((_0x4fdc17,_0x2fd221)=>_0x4b5129(0x8a6)+_0x2fd221+_0x4b5129(0x280)+_0x4fdc17+_0x4b5129(0x34f))[_0x4b5129(0x85c)]('');liveGameView[_0x4b5129(0x519)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x210a1d+0x1)+_0x4b5129(0xb05)+_0x2fe8da+_0x4b5129(0x7ec)+_0x1d75a6+_0x4b5129(0x64a)+_0x1f81f0[_0x4b5129(0x383)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x10834b+_0x4b5129(0x444);if(window[_0x4b5129(0x7e0)])MathJax[_0x4b5129(0x7a9)]();document[_0x4b5129(0xa58)]('.live-answer-btn')[_0x4b5129(0x8e0)](_0x3906c1=>{const _0x5868ed=_0x4b5129;_0x3906c1[_0x5868ed(0x996)]('click',()=>{const _0x5697dc=_0x5868ed,_0x559128=parseInt(_0x3906c1[_0x5697dc(0x478)][_0x5697dc(0x65d)]);_0x1d0f7d[_0x5697dc(0x58f)]?(document['getElementById'](_0x5697dc(0x6f5))[_0x5697dc(0x848)]=_0x559128,document[_0x5697dc(0x7e1)](_0x5697dc(0x47b))[_0x5697dc(0x709)][_0x5697dc(0x5b3)](_0x5697dc(0x984))):handleSyncAnswerSubmit(_0x559128,_0x1f81f0,_0x1d0f7d,_0x1d75a6,![]);});});}async function handleSyncAnswerSubmit(_0x41d02f,_0x16d281,_0x110d1e,_0x491bbb,_0x3519d4){const _0x335e73=_0x712516;document[_0x335e73(0xa58)]('.live-answer-btn')[_0x335e73(0x8e0)](_0x4fc939=>_0x4fc939['disabled']=!![]);const _0xd507bf=_0x41d02f===_0x16d281[_0x335e73(0x4d1)],_0x3b958b=_0xd507bf?0x1:0x0,_0x56371f=doc(db,'artifacts/'+appId+_0x335e73(0x832),currentLiveGameId),_0x3ad761={};_0x3ad761[_0x335e73(0xae9)+_0x491bbb+_0x335e73(0x580)]=increment(_0x3b958b),_0x3ad761['players.'+_0x491bbb+_0x335e73(0x979)]=!![],_0x3ad761[_0x335e73(0xae9)+_0x491bbb+_0x335e73(0xa1f)]=_0x41d02f;const _0x2f165b=_0x16d281[_0x335e73(0x89f)]&&_0x16d281[_0x335e73(0x89f)][_0x41d02f]?_0x16d281['options'][_0x41d02f]:null,_0x45827c={'questionIndex':_0x110d1e[_0x335e73(0xa7b)],'questionId':_0x16d281['id'],'answer':_0x41d02f,'answerText':_0x2f165b,'isCorrect':_0xd507bf,'originalQuestionText':_0x16d281[_0x335e73(0x383)],'wasConfident':_0x3519d4};_0x3ad761[_0x335e73(0xae9)+_0x491bbb+_0x335e73(0x7ed)]=arrayUnion(_0x45827c),await updateDoc(_0x56371f,_0x3ad761);}initialize();
