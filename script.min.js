const _0x157a22=_0x28ee;(function(_0x1c0620,_0x4653c6){const _0x4d4f36=_0x28ee,_0x34ec7a=_0x1c0620();while(!![]){try{const _0x1587fd=-parseInt(_0x4d4f36(0x323))/0x1*(parseInt(_0x4d4f36(0xbc9))/0x2)+-parseInt(_0x4d4f36(0x23b))/0x3+-parseInt(_0x4d4f36(0x20a))/0x4+parseInt(_0x4d4f36(0x9c9))/0x5+-parseInt(_0x4d4f36(0x3a4))/0x6+-parseInt(_0x4d4f36(0x3c7))/0x7+-parseInt(_0x4d4f36(0x9d8))/0x8*(-parseInt(_0x4d4f36(0xa51))/0x9);if(_0x1587fd===_0x4653c6)break;else _0x34ec7a['push'](_0x34ec7a['shift']());}catch(_0x368e1a){_0x34ec7a['push'](_0x34ec7a['shift']());}}}(_0x3eae,0x3b3d0));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x157a22(0x692),_0x157a22(0x4b4),_0x157a22(0xa68),_0x157a22(0x348),_0x157a22(0xadd),_0x157a22(0xe49),'โลมาบิน',_0x157a22(0x859),_0x157a22(0xbd4),_0x157a22(0x4a3),_0x157a22(0x22f),'มือปราบสายรุ้ง',_0x157a22(0xbec),_0x157a22(0x7cd),_0x157a22(0x318),_0x157a22(0x577),'นินจาชาเขียว',_0x157a22(0x396),'โจรสลัดอวกาศ','มังกรกินจุ',_0x157a22(0x645),'แมวเก้าชีวิต',_0x157a22(0x210),_0x157a22(0x27d),_0x157a22(0xa4e),'หมาป่าเดียวดาย','กระต่ายตื่นตูม',_0x157a22(0xdce),'ม้าดีดกะโหลก',_0x157a22(0x118),_0x157a22(0xcbc),_0x157a22(0x5eb),_0x157a22(0x523),_0x157a22(0x1cb),_0x157a22(0x36b),'CEOพันล้าน',_0x157a22(0x446),_0x157a22(0x451),'เน็ตไอดอล',_0x157a22(0xb2f),_0x157a22(0x465),'ชาไข่มุก','ส้มตำปูปลาร้า',_0x157a22(0x2b2),_0x157a22(0xd8b),_0x157a22(0xb0f),_0x157a22(0xdc5),_0x157a22(0x893),_0x157a22(0x1aa),'ลาเต้ไม่หวาน',_0x157a22(0xd4e),_0x157a22(0xab6),'ออฟฟิศซินโดรม',_0x157a22(0x131),'ติดซีรีส์',_0x157a22(0x313),_0x157a22(0x3b5),_0x157a22(0xd84),'404\x20Not\x20Found',_0x157a22(0x2fc),'จันทร์เจ้า',_0x157a22(0xe32),_0x157a22(0x436),_0x157a22(0x531),_0x157a22(0x476),_0x157a22(0xe6),_0x157a22(0x120),'ภูเขา',_0x157a22(0x7f6),'แม่น้ำ',_0x157a22(0x55f),_0x157a22(0x794),_0x157a22(0x266),_0x157a22(0xde7),_0x157a22(0x30e),'นักเขียน','นักวิทยาศาสตร์',_0x157a22(0x461),_0x157a22(0x871),_0x157a22(0xe20),_0x157a22(0xc06),_0x157a22(0xab0),_0x157a22(0x330),'ตัวแทนแห่งดวงจันทร์',_0x157a22(0xb83),_0x157a22(0x105),_0x157a22(0x16d),'ไอรอนแมน',_0x157a22(0x6b4),'ฮัลค์','รักแรกพบ','คนโสด',_0x157a22(0x4c5),_0x157a22(0xd12),_0x157a22(0x6e2),_0x157a22(0xdd6),_0x157a22(0x8e0),_0x157a22(0x20d),'สถานะไม่ชัดเจน',_0x157a22(0xa32)];let lastSeenQuestionIndex=-0x1,orderedPlayerSelection=[],clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x157a22(0x3d5),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x157a22(0x3d5),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4d42dd=_0x157a22;if(_0x4d42dd(0x79d)in navigator)try{wakeLock=await navigator[_0x4d42dd(0x79d)][_0x4d42dd(0x908)]('screen'),console[_0x4d42dd(0x700)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener'](_0x4d42dd(0x8b9),()=>{const _0x3666c3=_0x4d42dd;console[_0x3666c3(0x700)](_0x3666c3(0x8e4));});}catch(_0x73dcd8){console[_0x4d42dd(0xada)](_0x4d42dd(0x9f1)+_0x73dcd8[_0x4d42dd(0x190)]+',\x20'+_0x73dcd8[_0x4d42dd(0x267)]);}else console[_0x4d42dd(0x735)](_0x4d42dd(0xe62));},releaseWakeLock=async()=>{const _0x45067f=_0x157a22;wakeLock!==null&&(await wakeLock[_0x45067f(0x8b9)](),wakeLock=null,console[_0x45067f(0x700)](_0x45067f(0x3dd)));};let dimTimer=null;function _0x28ee(_0x8e0c0c,_0xb4f4ca){const _0x3eae8e=_0x3eae();return _0x28ee=function(_0x28eeec,_0x4c4d9c){_0x28eeec=_0x28eeec-0xbe;let _0x227b41=_0x3eae8e[_0x28eeec];return _0x227b41;},_0x28ee(_0x8e0c0c,_0xb4f4ca);}const inactivityTime=0xea60;function resetDimTimer(){const _0x29fd6d=_0x157a22;if(!document[_0x29fd6d(0x95a)][_0x29fd6d(0x807)][_0x29fd6d(0xa2d)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x1f0acf=_0x29fd6d;document[_0x1f0acf(0x95a)][_0x1f0acf(0x807)][_0x1f0acf(0xcec)]('dimmed'),console[_0x1f0acf(0x700)](_0x1f0acf(0x83e));},inactivityTime);}}function wakeUpScreen(_0x189785){const _0x121e09=_0x157a22;_0x189785&&(_0x189785[_0x121e09(0x18e)](),_0x189785['preventDefault']());document[_0x121e09(0x95a)][_0x121e09(0x807)]['remove']('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0xcab8da=_0x121e09;document['body'][_0xcab8da(0x807)][_0xcab8da(0xcec)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x5d7068=_0x157a22;if(dimTimer)clearTimeout(dimTimer);document[_0x5d7068(0x95a)][_0x5d7068(0x807)][_0x5d7068(0x90e)](_0x5d7068(0xa28)),window[_0x5d7068(0xb65)](_0x5d7068(0x8ee),resetDimTimer),window[_0x5d7068(0xb65)]('mousedown',resetDimTimer),window[_0x5d7068(0xb65)](_0x5d7068(0x211),resetDimTimer),window[_0x5d7068(0xb65)](_0x5d7068(0x77a),resetDimTimer),console[_0x5d7068(0x700)](_0x5d7068(0x6d7));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x14499d,_0x2afbcc=![]){const _0x51cd09=_0x157a22,_0xa05f55=allQuizzes['find'](_0x386361=>_0x386361['id']===_0x14499d)||allQuizzesGlobal[_0x51cd09(0x48e)](_0x13583d=>_0x13583d['id']===_0x14499d);if(!_0xa05f55){showMessage(_0x51cd09(0x121));return;}currentQuizData=getShuffledQuiz(_0xa05f55);const _0x26c958=Math[_0x51cd09(0xc3c)](0x3e8+Math[_0x51cd09(0x373)]()*0x2328)['toString']();try{const _0xc93316=await addDoc(collection(db,_0x51cd09(0x331)+appId+_0x51cd09(0x2a5)),{'quizId':_0xa05f55['id'],'projectId':_0xa05f55[_0x51cd09(0x737)],'status':_0x51cd09(0x70a),'pin':_0x26c958,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2afbcc});currentTeamQuizId=_0xc93316['id'],showView(_0x51cd09(0xd43)),renderAdminTeamQuizDashboard(_0x26c958,_0xa05f55[_0x51cd09(0xe36)]),listenForTeamQuizUpdates();}catch(_0x2cc430){console[_0x51cd09(0xada)](_0x51cd09(0x759),_0x2cc430),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x2f363d,_0x45a8ed,_0x7cf055=_0x157a22(0x9cb)){const _0x135024=_0x157a22,_0xc33328=_0x7cf055===_0x135024(0x749)?'Group\x20Mode':'Team\x20Quiz';liveGameView[_0x135024(0x93e)]=_0x135024(0x1f1)+_0xc33328+':\x20'+_0x45a8ed+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2f363d+_0x135024(0xa80),document['getElementById'](_0x135024(0x6b1))[_0x135024(0x7d6)]('click',async()=>{const _0x514295=_0x135024;showConfirmation(_0x514295(0xbe4),async()=>{const _0x1cc22b=_0x514295;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x1cc22b(0x331)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x1cc22b(0xd48));});});}function listenForTeamQuizUpdates(){const _0x3fc8da=_0x157a22;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x380694=doc(db,_0x3fc8da(0x331)+appId+_0x3fc8da(0x2a5),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x380694,_0x4d43ff=>{const _0x111719=_0x3fc8da;if(!_0x4d43ff['exists']()){sessionStorage[_0x111719(0x545)](_0x111719(0xbc0));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x111719(0x140)?showView('project-detail'):showView('student');return;}const _0x3c5a84=_0x4d43ff[_0x111719(0xd60)]();if(currentMode==='admin'){if(_0x3c5a84['mode']==='group'&&_0x3c5a84[_0x111719(0xab3)]!==_0x111719(0x863)&&_0x3c5a84[_0x111719(0xab3)]!==_0x111719(0x1c1)){const _0x112580=Object[_0x111719(0x11b)](_0x3c5a84[_0x111719(0xbeb)]||{});if(_0x112580[_0x111719(0x34a)]>0x0){const _0x25c82c=_0x112580[_0x111719(0x8a5)](_0x57fa2c=>_0x57fa2c['isFinished']===!![]);_0x25c82c&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3c5a84);}else{if(_0x3c5a84[_0x111719(0xab3)]===_0x111719(0x863)||_0x3c5a84[_0x111719(0xab3)]===_0x111719(0x1c1)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3c5a84[_0x111719(0x2a8)]===_0x111719(0x749)){const _0x13a08b=_0x3c5a84[_0x111719(0xbeb)][userId];(!_0x13a08b||!_0x13a08b[_0x111719(0x2d3)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x595b2d){const _0x3d5667=_0x157a22;console[_0x3d5667(0x700)](_0x3d5667(0x9e1));const _0x5e8c66=doc(db,_0x3d5667(0x331)+appId+'/public/data/teamQuizzes',_0x595b2d);try{const _0x274bbb=await getDoc(_0x5e8c66);if(_0x274bbb[_0x3d5667(0xc43)]()){const _0x5d44bd=_0x274bbb['data']();_0x5d44bd[_0x3d5667(0x6bd)]&&await saveGameResultsAsSubmissions(_0x5d44bd);}await updateDoc(_0x5e8c66,{'status':_0x3d5667(0x863)});}catch(_0x64fdc9){console[_0x3d5667(0xada)](_0x3d5667(0x475),_0x64fdc9);}}function updateAdminTeamDashboard(_0x59bed5){const _0x310dca=_0x157a22,_0x52ab53=document[_0x310dca(0xccc)](_0x310dca(0x646));if(!_0x52ab53)return;const _0x4c0420=_0x59bed5[_0x310dca(0x2a8)]||'team',_0x33f512=currentQuizData['questions']['length'];if(_0x4c0420==='group'){const _0x4a91c5=Object['values'](_0x59bed5[_0x310dca(0xbeb)]||{});if(_0x4a91c5['length']===0x0){_0x52ab53[_0x310dca(0x93e)]=_0x310dca(0x34e);return;}const _0x1a9947=[..._0x4a91c5]['sort']((_0xe78512,_0x33fded)=>_0x33fded[_0x310dca(0x5c3)]-_0xe78512['score']),_0x4f1876=_0x1a9947[_0x310dca(0x141)]((_0x135109,_0xbea72)=>{const _0x1608c4=_0x310dca,_0x12b0d9=_0x135109[_0x1608c4(0x534)]?.['length']||0x0;return _0x1608c4(0x9af)+(_0xbea72+0x1)+_0x1608c4(0xc81)+_0x135109[_0x1608c4(0xd1c)][_0x1608c4(0x72e)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x12b0d9+'/'+_0x33f512+_0x1608c4(0x7a2)+_0x135109['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x310dca(0x72e)](''),_0x3633b7=currentQuizData[_0x310dca(0xdbf)][_0x310dca(0x141)]((_0x16b8bf,_0x1e98ee)=>{const _0x44905d=_0x310dca;let _0x4f755c=0x0,_0x1f535e=0x0;_0x4a91c5[_0x44905d(0x8f9)](_0x4a3859=>{const _0x28311d=_0x44905d,_0x36dc9a=_0x4a3859['answers']?.[_0x28311d(0x48e)](_0x43bd21=>_0x43bd21['questionIndex']===_0x1e98ee);if(_0x36dc9a){_0x1f535e++;if(_0x36dc9a[_0x28311d(0xa04)])_0x4f755c++;}});const _0x14d9ac=_0x1f535e>0x0&&_0x1f535e===_0x4a91c5[_0x44905d(0x34a)],_0x44bbbf=_0x14d9ac?'bg-green-200\x20text-green-900\x20font-bold':_0x44905d(0xe2c),_0x38e2a1=_0x14d9ac?_0x44905d(0x157):'';return _0x44905d(0x49c)+_0x44bbbf+_0x44905d(0x912)+(_0x1e98ee+0x1)+':</span><span>'+_0x38e2a1+_0x44905d(0x1ad)+_0x4f755c+'/'+_0x4a91c5['length']+_0x44905d(0x482);})[_0x310dca(0x72e)]('');_0x52ab53['innerHTML']=_0x310dca(0xa6a)+_0x4f1876+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x3633b7+_0x310dca(0x77f);return;}const _0x303b90=_0x59bed5['responses']||{},_0x4b40ac=Object[_0x310dca(0x69e)](_0x303b90);if(_0x4b40ac[_0x310dca(0x34a)]===0x0){_0x52ab53[_0x310dca(0x93e)]=_0x310dca(0xe94);return;}const _0x30ffcd=_0x4b40ac[_0x310dca(0x141)](_0x28faac=>({'name':_0x28faac,'score':_0x303b90[_0x28faac]['score']||0x0}))[_0x310dca(0x4b3)]((_0x1df03f,_0x35f6fb)=>_0x35f6fb[_0x310dca(0x5c3)]-_0x1df03f['score']),_0x9cf41a=_0x30ffcd['map'](_0x94d37a=>{const _0x42a7a9=_0x310dca,_0x361d0d=_0x303b90[_0x94d37a[_0x42a7a9(0x190)]]?.[_0x42a7a9(0x534)]?.['length']||0x0,_0x243228=Math[_0x42a7a9(0xe5)](_0x33f512/_0x4b40ac[_0x42a7a9(0x34a)]);return _0x42a7a9(0x3b3)+_0x94d37a[_0x42a7a9(0x190)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x361d0d+'/'+_0x243228+_0x42a7a9(0x135)+_0x94d37a[_0x42a7a9(0x5c3)]+_0x42a7a9(0xc9f);})[_0x310dca(0x72e)](''),_0x174881=_0x4b40ac['reduce']((_0x4a0a12,_0x542800)=>_0x4a0a12+(_0x303b90[_0x542800][_0x310dca(0x534)]?.[_0x310dca(0x34a)]||0x0),0x0),_0x3c0127=currentQuizData[_0x310dca(0xdbf)][_0x310dca(0x141)]((_0x5cf201,_0x3c5bd3)=>{const _0x1836da=_0x310dca;let _0x5ca8c3=null,_0x4acf16=null;for(const _0x3f374e of _0x4b40ac){const _0x23b06f=_0x303b90[_0x3f374e]['answers']?.[_0x1836da(0x48e)](_0x46dd17=>_0x46dd17['questionIndex']===_0x3c5bd3);if(_0x23b06f){_0x5ca8c3=_0x23b06f,_0x4acf16=_0x3f374e;break;}}const _0x3cb702=!!_0x5ca8c3,_0x326cff=_0x3cb702&&_0x5ca8c3[_0x1836da(0xa04)],_0x532b92=(Math['floor'](_0x3c5bd3/_0x4b40ac['length'])+0x1)*_0x4b40ac[_0x1836da(0x34a)],_0x2e687d=_0x174881>=_0x532b92,_0x5ad6bb=_0x2e687d?_0x1836da(0x336):_0x1836da(0xe2c),_0x175361=_0x2e687d?_0x1836da(0x157):'';let _0x25d1aa=_0x1836da(0xe95);return _0x3cb702&&(_0x25d1aa=_0x4acf16+_0x1836da(0xba0)+(_0x326cff?_0x1836da(0x939):'ผิด')),_0x1836da(0x49c)+_0x5ad6bb+_0x1836da(0x912)+(_0x3c5bd3+0x1)+':</span><span>'+_0x175361+_0x1836da(0x18a)+_0x25d1aa+_0x1836da(0xaef);})[_0x310dca(0x72e)]('');_0x52ab53[_0x310dca(0x93e)]=_0x310dca(0x22e)+_0x9cf41a+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x3c0127+_0x310dca(0x77f);}async function handleJoinTeamQuiz(){const _0x5a5e3f=_0x157a22,_0x251f3c=prompt(_0x5a5e3f(0x934));if(!_0x251f3c||_0x251f3c[_0x5a5e3f(0x6b3)]()[_0x5a5e3f(0x34a)]!==0x4){showMessage(_0x5a5e3f(0x788));return;}try{const _0x1a12c4=collection(db,_0x5a5e3f(0x331)+appId+_0x5a5e3f(0x2a5)),_0x2a8d89=query(_0x1a12c4,where(_0x5a5e3f(0xe12),'==',_0x251f3c[_0x5a5e3f(0x6b3)]()),where(_0x5a5e3f(0xab3),'==',_0x5a5e3f(0x70a))),_0xea0e83=await getDocs(_0x2a8d89);if(_0xea0e83[_0x5a5e3f(0x8bc)]){showMessage(_0x5a5e3f(0x1d2));return;}const _0x15ac38=_0xea0e83[_0x5a5e3f(0xbe9)][0x0];currentTeamQuizId=_0x15ac38['id'];const _0x1dbc00=_0x15ac38[_0x5a5e3f(0xd60)](),_0x3e2508=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1dbc00[_0x5a5e3f(0x737)]),_0x4ffdf8=doc(db,'artifacts/'+appId+_0x5a5e3f(0x78d),_0x1dbc00[_0x5a5e3f(0x9c4)]),[_0x204a98,_0x2c6302]=await Promise[_0x5a5e3f(0x3d5)]([getDoc(_0x3e2508),getDoc(_0x4ffdf8)]);if(!_0x204a98[_0x5a5e3f(0xc43)]()||!_0x2c6302[_0x5a5e3f(0xc43)]())throw new Error(_0x5a5e3f(0x108));currentQuizData=getShuffledQuiz({'id':_0x2c6302['id'],..._0x2c6302[_0x5a5e3f(0xd60)]()});const _0xd88bfe=_0x204a98[_0x5a5e3f(0xd60)]();showTeamPlayerSelection(_0xd88bfe[_0x5a5e3f(0xb5a)],currentQuizData[_0x5a5e3f(0xe36)]);}catch(_0x5dec08){console[_0x5a5e3f(0xada)](_0x5a5e3f(0x970),_0x5dec08),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5dec08[_0x5a5e3f(0x267)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x2554ed=_0x157a22;currentInputPin='',updatePinDisplay(),document['getElementById'](_0x2554ed(0x9d0))[_0x2554ed(0x807)]['remove'](_0x2554ed(0x9f0));}function updatePinDisplay(){const _0x2ff309=_0x157a22,_0x54b010=document[_0x2ff309(0x5f0)](_0x2ff309(0xbb2));_0x54b010[_0x2ff309(0x8f9)]((_0x3c5466,_0xb90653)=>{const _0x8f4e36=_0x2ff309;_0xb90653<currentInputPin[_0x8f4e36(0x34a)]?(_0x3c5466[_0x8f4e36(0xc76)]=currentInputPin[_0xb90653],_0x3c5466['classList'][_0x8f4e36(0xcec)]('border-indigo-500','bg-white'),_0x3c5466[_0x8f4e36(0x807)]['remove'](_0x8f4e36(0x860),'bg-gray-50')):(_0x3c5466[_0x8f4e36(0xc76)]='',_0x3c5466[_0x8f4e36(0x807)]['remove'](_0x8f4e36(0x198),'bg-white'),_0x3c5466['classList']['add']('border-gray-300',_0x8f4e36(0x8ac)));});}async function handlePinKeyPress(_0x1ca573){const _0x52e68f=_0x157a22;if(_0x1ca573===_0x52e68f(0xe09))currentInputPin=currentInputPin[_0x52e68f(0xd3d)](0x0,-0x1);else currentInputPin['length']<0x4&&(currentInputPin+=_0x1ca573);updatePinDisplay(),currentInputPin['length']===0x4&&setTimeout(async()=>{const _0x13503a=_0x52e68f;document['getElementById']('pin-entry-modal')['classList'][_0x13503a(0xcec)](_0x13503a(0x9f0)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0xeb5a58){const _0x1cfd77=_0x157a22,_0x20e5dd=_0xeb5a58[_0x1cfd77(0x6b3)]();showMessage(_0x1cfd77(0x846));try{const _0x32ec5e=collection(db,'artifacts/'+appId+_0x1cfd77(0x2a5)),_0x17fbd6=query(_0x32ec5e,where(_0x1cfd77(0xe12),'==',_0x20e5dd),where('status','==','lobby')),_0x3f35fd=await getDocs(_0x17fbd6);if(!_0x3f35fd[_0x1cfd77(0x8bc)]){console[_0x1cfd77(0x700)](_0x1cfd77(0x65c)),await proceedWithTeamQuizJoin(_0x3f35fd['docs'][0x0]);return;}const _0x19c25f=collection(db,'artifacts/'+appId+_0x1cfd77(0x334)),_0x28cd72=query(_0x19c25f,where(_0x1cfd77(0xe12),'==',_0x20e5dd),where('status','in',[_0x1cfd77(0x70a),_0x1cfd77(0x4c0),_0x1cfd77(0xa3b),_0x1cfd77(0xaca)])),_0x4964df=await getDocs(_0x28cd72);if(!_0x4964df[_0x1cfd77(0x8bc)]){console[_0x1cfd77(0x700)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x4964df[_0x1cfd77(0xbe9)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x20f760){console[_0x1cfd77(0xada)](_0x1cfd77(0x2f2),_0x20f760),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x20f760[_0x1cfd77(0x267)]);}}async function proceedWithTeamQuizJoin(_0x2e6e3a){const _0x537ce7=_0x157a22;currentTeamQuizId=_0x2e6e3a['id'];const _0x1e52cc=_0x2e6e3a[_0x537ce7(0xd60)](),_0x3ee5fd=doc(db,_0x537ce7(0x331)+appId+_0x537ce7(0x21d),_0x1e52cc[_0x537ce7(0x737)]),_0x4a62f9=doc(db,_0x537ce7(0x331)+appId+'/public/data/quizzes',_0x1e52cc[_0x537ce7(0x9c4)]),[_0x50c189,_0x47d094]=await Promise[_0x537ce7(0x3d5)]([getDoc(_0x3ee5fd),getDoc(_0x4a62f9)]);if(!_0x50c189[_0x537ce7(0xc43)]()||!_0x47d094[_0x537ce7(0xc43)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x47d094['id'],..._0x47d094['data']()}),showTeamPlayerSelection(_0x50c189['data']()[_0x537ce7(0xb5a)],currentQuizData[_0x537ce7(0xe36)],_0x1e52cc[_0x537ce7(0x2a8)]||'team'),messageModal[_0x537ce7(0x807)][_0x537ce7(0xcec)](_0x537ce7(0x9f0));}async function proceedWithSyncQuizJoin(_0x218ec2){const _0x3f3369=_0x157a22;currentLiveGameId=_0x218ec2['id'];const _0x31c47c=_0x218ec2['data'](),_0x13ab31=doc(db,_0x3f3369(0x331)+appId+'/public/data/quizzes',_0x31c47c['quizId']),_0x55b286=await getDoc(_0x13ab31);if(!_0x55b286['exists']())throw new Error(_0x3f3369(0x121));const _0x1a6d2f=_0x55b286[_0x3f3369(0xd60)](),_0x2b28ee=doc(db,_0x3f3369(0x331)+appId+'/public/data/projects',_0x1a6d2f[_0x3f3369(0x737)]),_0x382317=await getDoc(_0x2b28ee);if(!_0x382317['exists']())throw new Error(_0x3f3369(0xb48));currentQuizData=_0x31c47c['shuffledQuiz'],showView(_0x3f3369(0x593)),showTeamPlayerSelection(_0x382317[_0x3f3369(0xd60)]()[_0x3f3369(0xb5a)],_0x1a6d2f[_0x3f3369(0xe36)],_0x3f3369(0xd2a));const _0x482a70=document[_0x3f3369(0xccc)](_0x3f3369(0xe3)),_0x37cbeb=_0x482a70['cloneNode'](!![]);_0x482a70[_0x3f3369(0xf4)][_0x3f3369(0x528)](_0x37cbeb,_0x482a70),_0x37cbeb[_0x3f3369(0xc51)]=confirmAndJoinSyncGame,messageModal[_0x3f3369(0x807)][_0x3f3369(0xcec)](_0x3f3369(0x9f0));}function getCleanApplicationHTML(){const _0x267583=_0x157a22,_0x20e346=document[_0x267583(0xccc)](_0x267583(0xda0));if(!_0x20e346)return'';const _0x5cb00c=_0x20e346[_0x267583(0x101)](!![]);return _0x5cb00c['querySelectorAll'](_0x267583(0xc41))[_0x267583(0x8f9)](_0x16e08e=>{const _0x2ec48f=_0x267583;_0x16e08e[_0x2ec48f(0x807)][_0x2ec48f(0x90e)](_0x2ec48f(0x52a),'incorrect'),_0x16e08e[_0x2ec48f(0x7ef)]=![];}),_0x5cb00c[_0x267583(0x93e)];}function showTeamPlayerSelection(_0x11d6ca,_0x9f2a67,_0x971bd0=_0x157a22(0x9cb)){const _0x960f64=_0x157a22;studentInitialView[_0x960f64(0x807)][_0x960f64(0xcec)](_0x960f64(0x9f0)),studentJoinGameView[_0x960f64(0x807)][_0x960f64(0xcec)](_0x960f64(0x9f0)),document[_0x960f64(0xccc)](_0x960f64(0xa21))['classList'][_0x960f64(0x90e)]('hidden'),orderedPlayerSelection=[];let _0x3d789d=_0x960f64(0xcc7);if(_0x971bd0===_0x960f64(0x749))_0x3d789d=_0x960f64(0x698);else _0x971bd0===_0x960f64(0xd2a)&&(_0x3d789d='Sync\x20Mode');document[_0x960f64(0xccc)](_0x960f64(0x70d))[_0x960f64(0xc76)]=_0x3d789d+':\x20'+_0x9f2a67;const _0x550623=document[_0x960f64(0xccc)](_0x960f64(0x62f));if(!_0x11d6ca||_0x11d6ca[_0x960f64(0x34a)]===0x0){_0x550623[_0x960f64(0x93e)]=_0x960f64(0xe7f),document[_0x960f64(0xccc)](_0x960f64(0xe3))[_0x960f64(0x7ef)]=!![];return;}_0x550623[_0x960f64(0x93e)]=_0x11d6ca[_0x960f64(0x141)](_0x4ae6fc=>_0x960f64(0x90f)+_0x4ae6fc+_0x960f64(0x696)+_0x4ae6fc+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22order-badge\x20bg-indigo-600\x20text-white\x20text-xs\x20font-bold\x20px-2\x20py-1\x20rounded-full\x20hidden\x20shadow-sm\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''),document[_0x960f64(0xccc)](_0x960f64(0xe3))['disabled']=![];const _0x45cfe4=_0x550623[_0x960f64(0x5f0)](_0x960f64(0x1a5));_0x45cfe4[_0x960f64(0x8f9)](_0x5edf85=>{const _0x4832d7=_0x960f64;_0x5edf85[_0x4832d7(0x7d6)]('change',_0x57f7ef=>{const _0x4fce82=_0x4832d7,_0x400c69=_0x57f7ef[_0x4fce82(0xc55)][_0x4fce82(0xa9f)];_0x57f7ef[_0x4fce82(0xc55)]['checked']?!orderedPlayerSelection['includes'](_0x400c69)&&orderedPlayerSelection[_0x4fce82(0xde9)](_0x400c69):orderedPlayerSelection=orderedPlayerSelection[_0x4fce82(0x512)](_0x2015bf=>_0x2015bf!==_0x400c69),updateSelectionOrderVisuals(_0x550623);});});}function updateSelectionOrderVisuals(_0x3b8a48){const _0x4afb44=_0x157a22,_0x5576d0=_0x3b8a48[_0x4afb44(0x5f0)](_0x4afb44(0x1a5));_0x5576d0['forEach'](_0x59f5d7=>{const _0x5be3f2=_0x4afb44,_0x4f5361=_0x59f5d7[_0x5be3f2(0x43a)](_0x5be3f2(0x4ee)),_0x44d2ed=_0x4f5361[_0x5be3f2(0xdd0)]('.order-badge');if(_0x59f5d7['checked']){const _0x585648=orderedPlayerSelection['indexOf'](_0x59f5d7[_0x5be3f2(0xa9f)]);_0x585648!==-0x1&&(_0x44d2ed[_0x5be3f2(0xc76)]=_0x5be3f2(0xabe)+(_0x585648+0x1),_0x44d2ed[_0x5be3f2(0x807)][_0x5be3f2(0x90e)](_0x5be3f2(0x9f0)),_0x4f5361[_0x5be3f2(0x807)][_0x5be3f2(0xcec)]('bg-indigo-50',_0x5be3f2(0x7ed)));}else _0x44d2ed[_0x5be3f2(0x807)][_0x5be3f2(0xcec)]('hidden'),_0x4f5361[_0x5be3f2(0x807)]['remove'](_0x5be3f2(0xb40),_0x5be3f2(0x7ed));});}async function confirmAndStartTeamQuiz(){const _0x3e67b9=_0x157a22,_0x372dcc=[...orderedPlayerSelection];if(_0x372dcc['length']===0x0){showMessage(_0x3e67b9(0xe24));return;}localTeamPlayers=_0x372dcc,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x429c9b=doc(db,_0x3e67b9(0x331)+appId+_0x3e67b9(0x2a5),currentTeamQuizId);try{const _0x3c6e4c=await getDoc(_0x429c9b);if(!_0x3c6e4c['exists']())throw new Error(_0x3e67b9(0x2b1));const _0x48ed1f=_0x3c6e4c[_0x3e67b9(0xd60)]();if(_0x48ed1f['mode']===_0x3e67b9(0x749)){const _0x11af31={[_0x3e67b9(0x4a7)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x429c9b,_0x11af31);}else{const _0x2ad85c=_0x48ed1f[_0x3e67b9(0x2dd)]||{};localTeamPlayers[_0x3e67b9(0x8f9)](_0x36cd46=>{!_0x2ad85c[_0x36cd46]&&(_0x2ad85c[_0x36cd46]={'score':0x0,'answers':[]});}),await updateDoc(_0x429c9b,{'responses':_0x2ad85c});}document['getElementById'](_0x3e67b9(0xa21))[_0x3e67b9(0x807)][_0x3e67b9(0xcec)](_0x3e67b9(0x9f0)),renderTeamQuizQuestion();const _0x2e64a3={'gameId':currentTeamQuizId,'mode':_0x48ed1f[_0x3e67b9(0x2a8)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3e67b9(0xc9c)](_0x3e67b9(0xbc0),JSON[_0x3e67b9(0x5ad)](_0x2e64a3)),listenForTeamQuizUpdates();}catch(_0xa3a0f3){console[_0x3e67b9(0xada)](_0x3e67b9(0xb6d),_0xa3a0f3),showMessage(_0x3e67b9(0x791));}}async function renderTeamQuizQuestion(){const _0x324537=_0x157a22;if(localQuestionIndex>=currentQuizData['questions'][_0x324537(0x34a)]){displayTeamQuizFinalResults();return;}const _0x43b523=currentQuizData[_0x324537(0xdbf)][localQuestionIndex],_0x5f3322=localTeamPlayers[localPlayerIndex],_0x2eee56=_0x43b523['questionType']||currentQuizData[_0x324537(0x7fc)];let _0x3f8ccb=_0x43b523['stem']||_0x43b523[_0x324537(0x885)],_0x6ebdb5='';switch(_0x2eee56){case _0x324537(0x75f):case'fill_in_with_choices':_0x6ebdb5=_0x43b523['options']['map']((_0x255e85,_0xb30755)=>_0x324537(0xb8e)+_0xb30755+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0xb30755+_0x324537(0x477)+_0xb30755+'\x22>'+_0x255e85+_0x324537(0x606))[_0x324537(0x72e)]('');break;case _0x324537(0xc6b):_0x6ebdb5=_0x324537(0x7bf);break;case _0x324537(0xb27):case _0x324537(0xdf0):_0x6ebdb5='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case'matching_item':_0x6ebdb5='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x43b523[_0x324537(0x2c7)][_0x324537(0x141)](_0x226e7a=>'<option\x20value=\x22'+_0x226e7a+'\x22>'+_0x226e7a+_0x324537(0x877))[_0x324537(0x72e)]('')+_0x324537(0xb25);break;default:_0x6ebdb5=_0x324537(0x6f6);break;}studentQuizArea[_0x324537(0x93e)]=_0x324537(0x6f9)+(localQuestionIndex+0x1)+_0x324537(0xc71)+currentQuizData[_0x324537(0xdbf)][_0x324537(0x34a)]+_0x324537(0x933)+_0x5f3322+_0x324537(0xb85)+(localQuestionIndex+0x1)+'.\x20'+_0x3f8ccb+_0x324537(0xdba)+(_0x43b523['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x43b523[_0x324537(0x71e)]+_0x324537(0x6ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x6ebdb5+_0x324537(0xb28),studentQuizArea['classList'][_0x324537(0x90e)](_0x324537(0x9f0));if(window[_0x324537(0x5e4)])MathJax[_0x324537(0xd06)]([studentQuizArea]);document[_0x324537(0xccc)](_0x324537(0x235))['addEventListener'](_0x324537(0x343),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x2dbeee=_0x157a22,_0x46a049=currentQuizData[_0x2dbeee(0xdbf)][localQuestionIndex],_0x1228bb=_0x46a049[_0x2dbeee(0x36c)]||currentQuizData[_0x2dbeee(0x7fc)];let _0xc8f31a=null,_0x3c0ae7=![];if(_0x1228bb===_0x2dbeee(0xb27)||_0x1228bb===_0x2dbeee(0xdf0)){const _0x9a1692=document[_0x2dbeee(0xdd0)]('textarea[name=\x22team_answer\x22]');if(!_0x9a1692||!_0x9a1692[_0x2dbeee(0xa9f)]['trim']()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0xc8f31a=_0x9a1692[_0x2dbeee(0xa9f)][_0x2dbeee(0x6b3)](),_0x3c0ae7=await gradeShortAnswer(_0xc8f31a,_0x46a049);}else{const _0x1a5a64=document[_0x2dbeee(0xdd0)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x1a5a64||_0x1a5a64[_0x2dbeee(0xa9f)]===''){showMessage(_0x2dbeee(0x6e9));return;}_0xc8f31a=_0x1a5a64[_0x2dbeee(0xa9f)];switch(_0x1228bb){case _0x2dbeee(0xc6b):_0x3c0ae7=_0xc8f31a===_0x2dbeee(0x5d8)===_0x46a049[_0x2dbeee(0xcab)];break;case _0x2dbeee(0x283):_0x3c0ae7=_0xc8f31a===_0x46a049[_0x2dbeee(0xb75)];break;default:_0x3c0ae7=parseInt(_0xc8f31a)===_0x46a049[_0x2dbeee(0x2bd)];break;}}const _0x156d08={'questionIndex':localQuestionIndex,'isCorrect':_0x3c0ae7},_0x2d7677=userId,_0x58d809={['groups.'+_0x2d7677+'.answers']:arrayUnion(_0x156d08)};_0x3c0ae7&&(_0x58d809[_0x2dbeee(0x4a7)+_0x2d7677+_0x2dbeee(0x45c)]=increment(0x1));try{await updateDoc(doc(db,_0x2dbeee(0x331)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x58d809),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x2dbeee(0xdbf)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x46d688){console['error'](_0x2dbeee(0x447),_0x46d688),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x5080f4=_0x157a22,_0x31155d=await getDoc(doc(db,'artifacts/'+appId+_0x5080f4(0x2a5),currentTeamQuizId));if(!_0x31155d[_0x5080f4(0xc43)]())return;const _0x53f06b=_0x31155d['data']();if(_0x53f06b[_0x5080f4(0x2a8)]===_0x5080f4(0x749)){handleGroupAnswerSubmit();return;}const _0x4f0f74=localTeamPlayers[localPlayerIndex],_0x40160d=currentQuizData[_0x5080f4(0xdbf)][localQuestionIndex],_0x485cbc=_0x40160d[_0x5080f4(0x36c)]||currentQuizData[_0x5080f4(0x7fc)];let _0x556953=null,_0x315ab3=![];if(_0x485cbc==='short_answer'||_0x485cbc==='fill_in_no_choices'){const _0x4059b2=document[_0x5080f4(0xdd0)](_0x5080f4(0x228));if(!_0x4059b2||!_0x4059b2['value'][_0x5080f4(0x6b3)]()){showMessage(_0x5080f4(0x7fb));return;}_0x556953=_0x4059b2[_0x5080f4(0xa9f)]['trim'](),_0x315ab3=await gradeShortAnswer(_0x556953,_0x40160d);}else{const _0x36a161=document[_0x5080f4(0xdd0)](_0x5080f4(0x704));if(!_0x36a161||_0x36a161[_0x5080f4(0xa9f)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x556953=_0x36a161['value'];switch(_0x485cbc){case'true_false':_0x315ab3=_0x556953===_0x5080f4(0x5d8)===_0x40160d[_0x5080f4(0xcab)];break;case _0x5080f4(0x283):_0x315ab3=_0x556953===_0x40160d[_0x5080f4(0xb75)];break;default:_0x315ab3=parseInt(_0x556953)===_0x40160d[_0x5080f4(0x2bd)];break;}}const _0x44855b={'questionIndex':localQuestionIndex,'isCorrect':_0x315ab3,'answerValue':_0x556953},_0x4d88b8={['responses.'+_0x4f0f74+_0x5080f4(0x9fe)]:arrayUnion(_0x44855b)};_0x315ab3&&(_0x4d88b8['responses.'+_0x4f0f74+_0x5080f4(0x45c)]=increment(0x1));try{await updateDoc(doc(db,_0x5080f4(0x331)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4d88b8),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5080f4(0x34a)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x229973){console[_0x5080f4(0xada)](_0x5080f4(0x375),_0x229973),showMessage(_0x5080f4(0xc03));}}async function displayTeamQuizFinalResults(){const _0x231dac=_0x157a22;studentQuizArea['classList'][_0x231dac(0xcec)](_0x231dac(0x9f0)),studentResultArea['classList']['remove']('hidden');const _0x4db394=doc(db,'artifacts/'+appId+_0x231dac(0x2a5),currentTeamQuizId),_0x1b664a=await getDoc(_0x4db394);if(!_0x1b664a[_0x231dac(0xc43)]()){studentResultArea[_0x231dac(0x93e)]=_0x231dac(0x1ca);return;}const _0x5ae8f8=_0x1b664a['data']();let _0x577c1c=[];const _0x16cf44=_0x5ae8f8[_0x231dac(0x2a8)]||_0x231dac(0x9cb);if(_0x16cf44===_0x231dac(0x749)){const _0x41fbad=_0x5ae8f8[_0x231dac(0xbeb)][userId];_0x41fbad?_0x577c1c=[{'name':_0x231dac(0xa84)+localTeamPlayers[_0x231dac(0x72e)](',\x20'),'score':_0x41fbad[_0x231dac(0x5c3)]||0x0}]:_0x577c1c=[{'name':'กลุ่มของคุณ','score':_0x231dac(0x156)}];}else _0x577c1c=localTeamPlayers[_0x231dac(0x141)](_0xa4df80=>({'name':_0xa4df80,'score':_0x5ae8f8[_0x231dac(0x2dd)][_0xa4df80]?.[_0x231dac(0x5c3)]||0x0}))[_0x231dac(0x4b3)]((_0x41a6a7,_0x262f2c)=>_0x262f2c['score']-_0x41a6a7[_0x231dac(0x5c3)]);studentResultArea[_0x231dac(0x93e)]=_0x231dac(0x33e)+_0x577c1c[_0x231dac(0x141)](_0x1411db=>_0x231dac(0x1fc)+_0x1411db['name']+_0x231dac(0x674)+_0x1411db[_0x231dac(0x5c3)]+_0x231dac(0xc91))['join']('')+_0x231dac(0x177),sessionStorage[_0x231dac(0x545)]('activeGameSession'),currentMode===_0x231dac(0x140)&&currentTeamQuizId&&setTimeout(()=>{const _0x4d333e=_0x231dac;deleteDoc(doc(db,'artifacts/'+appId+_0x4d333e(0x2a5),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x157a22(0x799)};const allMathTopics=[{'category':_0x157a22(0x5a3),'name':_0x157a22(0x8ae)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0xc7f)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0xb4f)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x9e4)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x6de)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x9eb)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x3b7)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x9ab)},{'category':_0x157a22(0x5a3),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x776)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0xc18)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0xf3)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0xd8c)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x62c)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x5ff)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x77c)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x339)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0xd56)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x7d3)},{'category':_0x157a22(0x5a3),'name':'การลบเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0xc0)},{'category':'จำนวนและการดำเนินการ','name':'การหารเศษส่วน'},{'category':_0x157a22(0x5a3),'name':'จำนวนคละ'},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x68d)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0xcc9)},{'category':_0x157a22(0x5a3),'name':'การลบทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0xd01)},{'category':'จำนวนและการดำเนินการ','name':_0x157a22(0x813)},{'category':_0x157a22(0x5a3),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x3a7)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x15e)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x564)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0xf6)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0xa60)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0x1d1)},{'category':_0x157a22(0x5a3),'name':_0x157a22(0xa46)},{'category':'การวัด','name':_0x157a22(0x166)},{'category':_0x157a22(0x75b),'name':_0x157a22(0x32b)},{'category':'การวัด','name':_0x157a22(0xb3c)},{'category':_0x157a22(0x75b),'name':_0x157a22(0x6c6)},{'category':'การวัด','name':'อุณหภูมิและการแปลง'},{'category':_0x157a22(0x75b),'name':_0x157a22(0x8cc)},{'category':_0x157a22(0x75b),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x157a22(0x75b),'name':_0x157a22(0x9a4)},{'category':_0x157a22(0x75b),'name':_0x157a22(0x5df)},{'category':'การวัด','name':_0x157a22(0xab9)},{'category':_0x157a22(0x75b),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x157a22(0x75b),'name':'มุมและการวัดมุม'},{'category':_0x157a22(0x75b),'name':'สเกลและแผนที่'},{'category':'การวัด','name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x157a22(0xa13),'name':_0x157a22(0x891)},{'category':_0x157a22(0xa13),'name':_0x157a22(0x748)},{'category':'เรขาคณิต','name':_0x157a22(0x5a8)},{'category':_0x157a22(0xa13),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x157a22(0xa13),'name':_0x157a22(0xc60)},{'category':_0x157a22(0xa13),'name':_0x157a22(0x206)},{'category':_0x157a22(0xa13),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x157a22(0xa13),'name':_0x157a22(0x775)},{'category':'เรขาคณิต','name':_0x157a22(0x5f8)},{'category':_0x157a22(0xa13),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x157a22(0xa13),'name':_0x157a22(0x708)},{'category':_0x157a22(0xa13),'name':_0x157a22(0x841)},{'category':_0x157a22(0xa13),'name':_0x157a22(0x522)},{'category':_0x157a22(0xa13),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x157a22(0xa13),'name':_0x157a22(0x1dd)},{'category':_0x157a22(0x541),'name':_0x157a22(0x6be)},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x157a22(0x541),'name':_0x157a22(0x15d)},{'category':_0x157a22(0x541),'name':_0x157a22(0x24e)},{'category':_0x157a22(0x541),'name':_0x157a22(0x414)},{'category':_0x157a22(0x541),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x157a22(0x541),'name':_0x157a22(0xd66)},{'category':_0x157a22(0x541),'name':_0x157a22(0x54f)},{'category':_0x157a22(0x541),'name':_0x157a22(0xe15)},{'category':_0x157a22(0x541),'name':_0x157a22(0x109)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0x157a22(0x541),'name':_0x157a22(0x4af)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x157a22(0x32e)},{'category':_0x157a22(0x541),'name':_0x157a22(0xb29)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x157a22(0x905)},{'category':_0x157a22(0x541),'name':_0x157a22(0x2c5)},{'category':_0x157a22(0x541),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x157a22(0x541),'name':'ฟังก์ชันผกผัน'},{'category':_0x157a22(0x541),'name':_0x157a22(0x9c6)},{'category':_0x157a22(0x541),'name':_0x157a22(0xa6c)},{'category':_0x157a22(0x541),'name':_0x157a22(0x636)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x157a22(0xbfa)},{'category':_0x157a22(0x541),'name':_0x157a22(0xc5f)},{'category':_0x157a22(0x541),'name':_0x157a22(0x4d0)},{'category':_0x157a22(0x541),'name':_0x157a22(0x554)},{'category':_0x157a22(0x541),'name':_0x157a22(0x5e6)},{'category':_0x157a22(0x541),'name':_0x157a22(0xcac)},{'category':_0x157a22(0x541),'name':_0x157a22(0x2f3)},{'category':_0x157a22(0x541),'name':_0x157a22(0x710)},{'category':_0x157a22(0x541),'name':_0x157a22(0x898)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x157a22(0xd1a)},{'category':_0x157a22(0x541),'name':_0x157a22(0xb5e)},{'category':_0x157a22(0x541),'name':_0x157a22(0x3b0)},{'category':_0x157a22(0xadf),'name':_0x157a22(0x2e0)},{'category':'เรขาคณิตวิเคราะห์','name':_0x157a22(0x2f4)},{'category':'เรขาคณิตวิเคราะห์','name':_0x157a22(0x76b)},{'category':_0x157a22(0xadf),'name':_0x157a22(0x273)},{'category':'เรขาคณิตวิเคราะห์','name':_0x157a22(0x90c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x157a22(0xe02)},{'category':_0x157a22(0xadf),'name':_0x157a22(0xd25)},{'category':_0x157a22(0xadf),'name':_0x157a22(0x5e0)},{'category':_0x157a22(0xadf),'name':'ไฮเพอร์โบลา'},{'category':'ตรีโกณมิติ','name':_0x157a22(0xad4)},{'category':_0x157a22(0x8df),'name':_0x157a22(0xa05)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x157a22(0x8df),'name':_0x157a22(0xa66)},{'category':_0x157a22(0x8df),'name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x157a22(0x8df),'name':_0x157a22(0x7a7)},{'category':_0x157a22(0x8df),'name':_0x157a22(0xcdc)},{'category':_0x157a22(0x8df),'name':_0x157a22(0x81b)},{'category':_0x157a22(0x8df),'name':_0x157a22(0xc6)},{'category':_0x157a22(0x8df),'name':_0x157a22(0x80e)},{'category':'สถิติและความน่าจะเป็น','name':_0x157a22(0x91a)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x97a)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x85f)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x786)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x9f9)},{'category':_0x157a22(0xbde),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':'สถิติและความน่าจะเป็น','name':_0x157a22(0xd5)},{'category':'สถิติและความน่าจะเป็น','name':_0x157a22(0x1e0)},{'category':'สถิติและความน่าจะเป็น','name':_0x157a22(0x5ac)},{'category':_0x157a22(0xbde),'name':_0x157a22(0xaeb)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x7f7)},{'category':_0x157a22(0xbde),'name':_0x157a22(0xe5e)},{'category':'สถิติและความน่าจะเป็น','name':_0x157a22(0x834)},{'category':'สถิติและความน่าจะเป็น','name':_0x157a22(0x85a)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x269)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x429)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x60e)},{'category':_0x157a22(0xbde),'name':_0x157a22(0xb70)},{'category':_0x157a22(0xbde),'name':_0x157a22(0xd6d)},{'category':_0x157a22(0xbde),'name':_0x157a22(0xf7)},{'category':_0x157a22(0xbde),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x157a22(0xbde),'name':_0x157a22(0x680)},{'category':_0x157a22(0xbde),'name':_0x157a22(0xc4f)},{'category':_0x157a22(0xbde),'name':_0x157a22(0x1a1)},{'category':'แคลคูลัสเบื้องต้น','name':_0x157a22(0xb1d)},{'category':_0x157a22(0x432),'name':_0x157a22(0x34b)},{'category':_0x157a22(0x432),'name':_0x157a22(0x4ca)},{'category':_0x157a22(0x432),'name':_0x157a22(0x5be)},{'category':_0x157a22(0x432),'name':_0x157a22(0xad3)},{'category':_0x157a22(0x432),'name':_0x157a22(0x2b5)},{'category':'แคลคูลัสเบื้องต้น','name':_0x157a22(0x97b)},{'category':'แคลคูลัสเบื้องต้น','name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x157a22(0x432),'name':_0x157a22(0xb4a)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':_0x157a22(0x432),'name':'ปริพันธ์จำกัด'},{'category':_0x157a22(0x432),'name':_0x157a22(0x405)},{'category':_0x157a22(0x432),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x157a22(0x590),'name':_0x157a22(0x364)},{'category':_0x157a22(0x590),'name':_0x157a22(0x430)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x157a22(0x54d)},{'category':_0x157a22(0x590),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x157a22(0x590),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x157a22(0x590),'name':'ดีเทอร์มิแนนต์'},{'category':_0x157a22(0x590),'name':_0x157a22(0x88b)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x157a22(0x217)},{'category':_0x157a22(0x8af),'name':_0x157a22(0x806)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x157a22(0xd37)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x157a22(0x3c8)},{'category':_0x157a22(0x8af),'name':_0x157a22(0xb4d)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x157a22(0x7f8),'name':'รูปแบบการให้เหตุผล'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x4f4a15=_0x157a22,_0x34c424=document[_0x4f4a15(0xccc)](_0x4f4a15(0xe1d));if(!_0x34c424)return;const _0x360664=allMathTopics,_0x448828=customMathTopics[_0x4f4a15(0x141)](_0x2186ad=>({'id':_0x2186ad['id'],'category':'หัวข้อที่สร้างเอง','name':_0x2186ad[_0x4f4a15(0x190)]})),_0x47976f=[..._0x360664,..._0x448828],_0x183593=_0x47976f[_0x4f4a15(0xc59)]((_0x8230d2,_0x124e2d)=>{const _0x5cd7de=_0x4f4a15;return!_0x8230d2[_0x124e2d[_0x5cd7de(0x116)]]&&(_0x8230d2[_0x124e2d['category']]=[]),_0x8230d2[_0x124e2d[_0x5cd7de(0x116)]][_0x5cd7de(0xde9)](_0x124e2d),_0x8230d2;},{});let _0x3dac1f='';const _0x313cda=[_0x4f4a15(0x49f),...Object[_0x4f4a15(0x69e)](_0x183593)['filter'](_0x958d1a=>_0x958d1a!=='หัวข้อที่สร้างเอง')];for(const _0x13380d of _0x313cda){if(_0x183593[_0x13380d]){const _0x5eadc6=_0x13380d===_0x4f4a15(0x49f),_0x6011e=_0x5eadc6?_0x4f4a15(0xc3e):_0x4f4a15(0xa1f),_0x85891b=_0x5eadc6?_0x4f4a15(0x6e4):_0x4f4a15(0x8dd);_0x3dac1f+=_0x4f4a15(0x824),_0x3dac1f+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x85891b+_0x4f4a15(0x467)+_0x6011e+_0x4f4a15(0x527)+_0x13380d+'</p>',_0x183593[_0x13380d][_0x4f4a15(0x8f9)](_0x980801=>{const _0x3217a9=_0x4f4a15,_0x131cc5=!!_0x980801['id'],_0x2d59d5=_0x131cc5?_0x3217a9(0x6b2)+_0x980801['id']+_0x3217a9(0x765)+_0x980801['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x980801['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x980801['id']+_0x3217a9(0x7c2):'';_0x3dac1f+=_0x3217a9(0xc38)+(_0x980801['id']||'')+_0x3217a9(0x6f0)+_0x980801[_0x3217a9(0x190)]+_0x3217a9(0xd79)+_0x980801['name']+_0x3217a9(0x889)+(_0x131cc5?_0x3217a9(0x843)+_0x980801[_0x3217a9(0x190)]+'\x22>':'')+_0x3217a9(0x530)+_0x2d59d5+_0x3217a9(0x712);}),_0x3dac1f+='</div>';}}_0x34c424[_0x4f4a15(0x93e)]=_0x3dac1f||_0x4f4a15(0xccd),_0x34c424[_0x4f4a15(0xb65)](_0x4f4a15(0x1b7),updateSelectedTopicsCount),_0x34c424[_0x4f4a15(0x7d6)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x8087b,_0xcf034){const _0x8f3c8c=_0x157a22;if(!_0x8087b||!_0xcf034[_0x8f3c8c(0x6b3)]()){showMessage(_0x8f3c8c(0x66a));return;}try{const _0x3bd23c=doc(db,_0x8f3c8c(0x331)+appId+'/public/data/customMathTopics',_0x8087b);await updateDoc(_0x3bd23c,{'name':_0xcf034[_0x8f3c8c(0x6b3)]()}),showMessage(_0x8f3c8c(0xcc2));}catch(_0x11162f){console[_0x8f3c8c(0xada)]('Error\x20updating\x20custom\x20topic:',_0x11162f),showMessage(_0x8f3c8c(0x32c));}}function toggleTopicEditMode(_0x3eef24,_0x5a189a){const _0x1b912f=_0x157a22;if(!_0x3eef24)return;const _0x4356b1=_0x3eef24[_0x1b912f(0xdd0)](_0x1b912f(0x3be)),_0x53904a=_0x3eef24[_0x1b912f(0xdd0)](_0x1b912f(0x691)),_0x2046a0=_0x3eef24[_0x1b912f(0xdd0)](_0x1b912f(0xf2)),_0x2d05da=_0x3eef24[_0x1b912f(0xdd0)]('.topic-actions-edit');_0x4356b1['classList'][_0x1b912f(0x9e5)](_0x1b912f(0x9f0),_0x5a189a),_0x53904a[_0x1b912f(0x807)][_0x1b912f(0x9e5)](_0x1b912f(0x9f0),!_0x5a189a),_0x2046a0['classList'][_0x1b912f(0x9e5)]('hidden',_0x5a189a),_0x2d05da[_0x1b912f(0x807)][_0x1b912f(0x9e5)](_0x1b912f(0x9f0),!_0x5a189a),_0x5a189a&&(_0x53904a[_0x1b912f(0x557)](),_0x53904a[_0x1b912f(0x549)]());}async function handleStartLiveRace(_0x3ceca5){const _0x440269=_0x157a22;let _0x2b76d8=allQuizzes[_0x440269(0x48e)](_0x2a7d97=>_0x2a7d97['id']===_0x3ceca5);if(!_0x2b76d8){const _0x47a881=doc(db,_0x440269(0x331)+appId+_0x440269(0x78d),_0x3ceca5),_0x42e592=await getDoc(_0x47a881);if(!_0x42e592[_0x440269(0xc43)]()){showMessage(_0x440269(0x121));return;}_0x2b76d8={'id':_0x42e592['id'],..._0x42e592[_0x440269(0xd60)]()};}const _0x18d471=getShuffledQuiz(_0x2b76d8);currentQuizData=_0x18d471;const _0x4226ad=_0x2b76d8['projectId']||currentProjectId||null,_0x4cca09=Math[_0x440269(0xc3c)](0x3e8+Math[_0x440269(0x373)]()*0x2328)[_0x440269(0x438)]();currentLiveGamePin=_0x4cca09;try{const _0x162134=await addDoc(collection(db,_0x440269(0x331)+appId+'/public/data/liveGames'),{'quizId':_0x3ceca5,'projectId':_0x4226ad,'status':_0x440269(0x70a),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4cca09,'createdAt':serverTimestamp(),'shuffledQuiz':_0x18d471});currentLiveGameId=_0x162134['id'],showAdminLobbyView(_0x4cca09,_0x2b76d8[_0x440269(0xe36)]),listenForLiveGameUpdates();}catch(_0x309c59){console[_0x440269(0xada)](_0x440269(0xc82),_0x309c59),showMessage(_0x440269(0xaf5));}}function updateSelectedTopicsCount(){const _0x2ffb07=_0x157a22,_0x6e9a4d=document[_0x2ffb07(0xccc)](_0x2ffb07(0xe1d)),_0x1b2e5a=_0x6e9a4d[_0x2ffb07(0x5f0)](_0x2ffb07(0x4ea))[_0x2ffb07(0x34a)],_0x515d26=document['getElementById'](_0x2ffb07(0x1b5));_0x1b2e5a>0x0?_0x515d26[_0x2ffb07(0xc76)]=_0x2ffb07(0xaa8)+_0x1b2e5a+'\x20หัวข้อ)':_0x515d26['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x157a22(0x213),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x157a22(0x215),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x157a22(0x423),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x157a22(0x8b6),scratchpadPenColor=_0x157a22(0xe70),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x21d20a,_0x1fa637){const _0x1f9b7c=_0x157a22;return Math['sqrt'](Math['pow'](_0x21d20a['x']-_0x1fa637['x'],0x2)+Math[_0x1f9b7c(0xe57)](_0x21d20a['y']-_0x1fa637['y'],0x2));}function getMidpoint(_0x178423,_0x3002a4){return{'x':(_0x178423['x']+_0x3002a4['x'])/0x2,'y':(_0x178423['y']+_0x3002a4['y'])/0x2};}function getTransformedPoint(_0x5754c3,_0x344ebf){return{'x':(_0x5754c3-scratchpadOffset['x'])/scratchpadScale,'y':(_0x344ebf-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x41b19e=_0x157a22;if(!scratchpadCtx)return;const _0x5b5350=scratchpadCtx[_0x41b19e(0xe6b)],_0x5c9907=window[_0x41b19e(0xbcf)]||0x1,_0x2f71b2=document[_0x41b19e(0xccc)](_0x41b19e(0xe0f));_0x2f71b2&&(_0x2f71b2[_0x41b19e(0xb74)]['transformOrigin']=_0x41b19e(0x345),_0x2f71b2['style'][_0x41b19e(0x367)]=_0x41b19e(0x652)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x5c9907,0x0,0x0,_0x5c9907,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x5b5350['width'],_0x5b5350[_0x41b19e(0x612)]),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x41b19e(0x188)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x41b19e(0xe08)](scratchpadScale,scratchpadScale),strokes[_0x41b19e(0x8f9)](_0x1f1052=>{drawStroke(_0x1f1052);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x41b19e(0x600)]();}function renderGroupModeQuestion(){const _0x42ede8=_0x157a22;if(localQuestionIndex>=currentQuizData['questions'][_0x42ede8(0x34a)]){displayTeamQuizFinalResults();return;}const _0x42a2f6=currentQuizData['questions'][localQuestionIndex],_0x19a3a5=_0x42a2f6[_0x42ede8(0x36c)]||currentQuizData[_0x42ede8(0x7fc)];let _0x5cfa4b=_0x42a2f6[_0x42ede8(0x6a8)]||_0x42a2f6[_0x42ede8(0x885)],_0x369a8a='';switch(_0x19a3a5){case'multiple_choice':case'fill_in_with_choices':_0x369a8a=_0x42a2f6['options'][_0x42ede8(0x141)]((_0x4d730a,_0x1cbe55)=>_0x42ede8(0xb8e)+_0x1cbe55+_0x42ede8(0x9de)+_0x1cbe55+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x1cbe55+'\x22>'+_0x4d730a+_0x42ede8(0x606))[_0x42ede8(0x72e)]('');break;case _0x42ede8(0xc6b):_0x369a8a=_0x42ede8(0x7bf);break;case'short_answer':case _0x42ede8(0xdf0):_0x369a8a=_0x42ede8(0x508);break;case _0x42ede8(0x283):_0x369a8a=_0x42ede8(0x1e4)+_0x42a2f6[_0x42ede8(0x2c7)][_0x42ede8(0x141)](_0x3e2986=>_0x42ede8(0x4be)+_0x3e2986+'\x22>'+_0x3e2986+_0x42ede8(0x877))['join']('')+_0x42ede8(0xb25);break;default:_0x369a8a='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x42ede8(0x93e)]=_0x42ede8(0x6f9)+(localQuestionIndex+0x1)+_0x42ede8(0xc71)+currentQuizData[_0x42ede8(0xdbf)][_0x42ede8(0x34a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers['join'](',\x20')+_0x42ede8(0xb85)+(localQuestionIndex+0x1)+'.\x20'+_0x5cfa4b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42a2f6[_0x42ede8(0x71e)]?_0x42ede8(0xdd)+_0x42a2f6[_0x42ede8(0x71e)]+_0x42ede8(0x6ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x369a8a+_0x42ede8(0x4f1),studentQuizArea[_0x42ede8(0x807)][_0x42ede8(0x90e)](_0x42ede8(0x9f0));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x42ede8(0x555))[_0x42ede8(0x7d6)](_0x42ede8(0x343),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x44a871,_0xb3a060=null,_0x2d9b41,_0x4e818a=null,_0x4930c5=![],_0x54bec9=null){const _0x1d36a8=_0x157a22,_0x2a1523=document[_0x1d36a8(0xccc)](_0x1d36a8(0xa8a));_0x2a1523&&_0x2a1523[_0x1d36a8(0x589)]({'behavior':'smooth','block':_0x1d36a8(0x6ea)}),generateQuiz(_0x44a871,_0xb3a060,null,_0x54bec9,!![],_0x2d9b41,_0x4e818a,_0x4930c5);}function handleGenerateAndShowLesson(_0x145b57,_0x387b40){const _0x119e67=_0x157a22,_0x4cdae3=document[_0x119e67(0xccc)](_0x119e67(0xe6e)),_0x3b3282=document[_0x119e67(0xccc)](_0x119e67(0x67a)),_0xfe9ad9=document[_0x119e67(0xccc)](_0x119e67(0xcf9)),_0x14ff20=document[_0x119e67(0xccc)](_0x119e67(0xa57));[_0x119e67(0x28e),'memoryContent',_0x119e67(0xda0),_0x119e67(0x36f)][_0x119e67(0x8f9)](_0x33adfb=>{const _0x54dd8e=_0x119e67,_0x13c77b=document['getElementById'](_0x33adfb)[_0x54dd8e(0x98e)];_0x13c77b&&(_0x13c77b[_0x54dd8e(0xb74)][_0x54dd8e(0xaea)]='block');}),_0x3b3282[_0x119e67(0xc76)]=_0x119e67(0x9b8)+_0x145b57,_0x14ff20[_0x119e67(0x807)]['add'](_0x119e67(0x9f0)),_0xfe9ad9['classList'][_0x119e67(0x90e)](_0x119e67(0x9f0)),_0x4cdae3['classList']['remove'](_0x119e67(0x9f0)),generateLesson(_0x145b57,_0x387b40)[_0x119e67(0x43c)](_0x43ea03=>{const _0xa030e5=_0x119e67;console['error']('Failed\x20to\x20generate\x20lesson:',_0x43ea03),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x4cdae3[_0xa030e5(0x807)][_0xa030e5(0xcec)](_0xa030e5(0x9f0));});}function handlePointerDown(_0x4035a1){const _0x5464bb=_0x157a22;_0x4035a1[_0x5464bb(0x54c)]();const _0x33b270=scratchpadCtx[_0x5464bb(0xe6b)],_0x386a13=_0x33b270[_0x5464bb(0x836)](),_0x49445c=_0x4035a1[_0x5464bb(0xe93)]||(_0x4035a1[_0x5464bb(0xd31)]?_0x5464bb(0x72f):'mouse');if(_0x49445c==='pen'||_0x49445c===_0x5464bb(0xd5a)){if(_0x4035a1[_0x5464bb(0xe93)]===_0x5464bb(0xd5a)&&_0x4035a1['button']!==0x0){_0x4035a1[_0x5464bb(0xb93)]===0x1&&(isMousePanning=!![],panStart={'x':_0x4035a1['clientX'],'y':_0x4035a1[_0x5464bb(0x950)]},_0x33b270[_0x5464bb(0xb74)][_0x5464bb(0x938)]=_0x5464bb(0x261));return;}activeTool===_0x5464bb(0x99b)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0xe71cbd=getTransformedPoint(_0x4035a1[_0x5464bb(0xc20)]-_0x386a13[_0x5464bb(0xdc)],_0x4035a1[_0x5464bb(0x950)]-_0x386a13[_0x5464bb(0xf5)]);let _0x4c994f={'tool':activeTool,'points':[_0xe71cbd]};if(activeTool==='pen')_0x4c994f[_0x5464bb(0xb80)]=scratchpadPenColor,_0x4c994f[_0x5464bb(0x97e)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x4c994f[_0x5464bb(0xb80)]=scratchpadPenColor,_0x4c994f[_0x5464bb(0x97e)]=scratchpadEraserSize;else{if(activeTool===_0x5464bb(0x7c0))_0x4c994f[_0x5464bb(0xb80)]=scratchpadHighlighterColor,_0x4c994f[_0x5464bb(0x97e)]=scratchpadHighlighterSize;else activeTool===_0x5464bb(0x99b)&&(_0x4c994f[_0x5464bb(0xb80)]=scratchpadPenColor,_0x4c994f['size']=scratchpadPenSize);}}currentStroke=_0x4c994f;}else _0x4035a1['touches']&&(_0x4035a1[_0x5464bb(0xd31)][_0x5464bb(0x34a)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x4035a1[_0x5464bb(0xd31)][0x0]['clientX'],'y':_0x4035a1[_0x5464bb(0xd31)][0x0]['clientY']},{'x':_0x4035a1['touches'][0x1]['clientX'],'y':_0x4035a1[_0x5464bb(0xd31)][0x1][_0x5464bb(0x950)]}),initialPinchDistance=getDistance({'x':_0x4035a1[_0x5464bb(0xd31)][0x0][_0x5464bb(0xc20)],'y':_0x4035a1[_0x5464bb(0xd31)][0x0][_0x5464bb(0x950)]},{'x':_0x4035a1[_0x5464bb(0xd31)][0x1][_0x5464bb(0xc20)],'y':_0x4035a1[_0x5464bb(0xd31)][0x1]['clientY']})));}function animateTrail(){const _0x29df14=_0x157a22,_0x3def7c=Date[_0x29df14(0x338)]();let _0x20597e=![];for(let _0x571901=strokes[_0x29df14(0x34a)]-0x1;_0x571901>=0x0;_0x571901--){const _0x2dfafd=strokes[_0x571901];if(_0x2dfafd[_0x29df14(0x529)]===_0x29df14(0x99b)&&_0x2dfafd[_0x29df14(0x6e7)]){const _0x12b726=_0x3def7c-_0x2dfafd['fadeStartTime'];_0x12b726>=TRAIL_DURATION?strokes['splice'](_0x571901,0x1):(_0x2dfafd[_0x29df14(0xb53)]=0x1-_0x12b726/TRAIL_DURATION,_0x20597e=!![]);}}redrawScratchpad(),_0x20597e?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x1f2232){const _0x75445b=_0x157a22;if(!_0x1f2232||_0x1f2232[_0x75445b(0x7ff)]['length']<0x1)return;scratchpadCtx[_0x75445b(0xa33)](),scratchpadCtx[_0x75445b(0x3a6)]=_0x75445b(0xc4b),scratchpadCtx[_0x75445b(0xaed)]=_0x75445b(0xc4b);if(_0x1f2232[_0x75445b(0x529)]==='trail'){const _0x31d85d=_0x1f2232['size']/scratchpadScale;scratchpadCtx[_0x75445b(0xdb2)]=_0x1f2232['opacity']??0x1,scratchpadCtx['shadowColor']=_0x75445b(0x2c8),scratchpadCtx[_0x75445b(0xb38)]=_0x31d85d*0x3,scratchpadCtx[_0x75445b(0xa0a)]=_0x75445b(0xadc),scratchpadCtx[_0x75445b(0xdcd)]=_0x31d85d*2.5,scratchpadCtx[_0x75445b(0xa8b)](),scratchpadCtx[_0x75445b(0x7d4)](_0x1f2232[_0x75445b(0x7ff)][0x0]['x'],_0x1f2232['points'][0x0]['y']);for(let _0x4bceb5=0x1;_0x4bceb5<_0x1f2232[_0x75445b(0x7ff)][_0x75445b(0x34a)]-0x1;_0x4bceb5++){const _0x5c091b=getMidpoint(_0x1f2232[_0x75445b(0x7ff)][_0x4bceb5],_0x1f2232[_0x75445b(0x7ff)][_0x4bceb5+0x1]);scratchpadCtx['quadraticCurveTo'](_0x1f2232[_0x75445b(0x7ff)][_0x4bceb5]['x'],_0x1f2232[_0x75445b(0x7ff)][_0x4bceb5]['y'],_0x5c091b['x'],_0x5c091b['y']);}scratchpadCtx[_0x75445b(0xb51)](),scratchpadCtx[_0x75445b(0x5d2)]=_0x75445b(0x79e),scratchpadCtx[_0x75445b(0xb38)]=0x0,scratchpadCtx['strokeStyle']=_0x75445b(0x1e6),scratchpadCtx[_0x75445b(0xdcd)]=_0x31d85d,scratchpadCtx[_0x75445b(0xb51)](),scratchpadCtx[_0x75445b(0xe51)]();}else{if(_0x1f2232[_0x75445b(0x529)]===_0x75445b(0x7c0)){scratchpadCtx[_0x75445b(0xa49)]='multiply',scratchpadCtx[_0x75445b(0xa0a)]=_0x1f2232['color'],scratchpadCtx['lineWidth']=_0x1f2232[_0x75445b(0x97e)],scratchpadCtx[_0x75445b(0xa8b)](),scratchpadCtx[_0x75445b(0x7d4)](_0x1f2232['points'][0x0]['x'],_0x1f2232[_0x75445b(0x7ff)][0x0]['y']);for(let _0x116609=0x1;_0x116609<_0x1f2232['points'][_0x75445b(0x34a)]-0x1;_0x116609++){const _0x1d5624=getMidpoint(_0x1f2232[_0x75445b(0x7ff)][_0x116609],_0x1f2232[_0x75445b(0x7ff)][_0x116609+0x1]);scratchpadCtx[_0x75445b(0x975)](_0x1f2232[_0x75445b(0x7ff)][_0x116609]['x'],_0x1f2232['points'][_0x116609]['y'],_0x1d5624['x'],_0x1d5624['y']);}scratchpadCtx[_0x75445b(0xb51)](),scratchpadCtx[_0x75445b(0xe51)]();}else{scratchpadCtx[_0x75445b(0xa49)]=_0x1f2232[_0x75445b(0x529)]===_0x75445b(0xe3f)?_0x75445b(0x8f1):_0x75445b(0xcbe),scratchpadCtx['strokeStyle']=_0x1f2232[_0x75445b(0xb80)],scratchpadCtx['lineWidth']=_0x1f2232[_0x75445b(0x97e)],scratchpadCtx[_0x75445b(0xa8b)](),scratchpadCtx[_0x75445b(0x7d4)](_0x1f2232[_0x75445b(0x7ff)][0x0]['x'],_0x1f2232[_0x75445b(0x7ff)][0x0]['y']);for(let _0x13b23c=0x1;_0x13b23c<_0x1f2232[_0x75445b(0x7ff)][_0x75445b(0x34a)]-0x1;_0x13b23c++){const _0x19a15b=getMidpoint(_0x1f2232[_0x75445b(0x7ff)][_0x13b23c],_0x1f2232[_0x75445b(0x7ff)][_0x13b23c+0x1]);scratchpadCtx[_0x75445b(0x975)](_0x1f2232[_0x75445b(0x7ff)][_0x13b23c]['x'],_0x1f2232[_0x75445b(0x7ff)][_0x13b23c]['y'],_0x19a15b['x'],_0x19a15b['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x75445b(0xe51)]();}}scratchpadCtx[_0x75445b(0x600)]();}function handlePointerMove(_0x787e8){const _0x90a4bc=_0x157a22;_0x787e8[_0x90a4bc(0x54c)]();const _0x548e71=scratchpadCtx['canvas'],_0x16972f=_0x548e71[_0x90a4bc(0x836)]();if(_0x787e8[_0x90a4bc(0xd31)]){if(_0x787e8[_0x90a4bc(0xd31)][_0x90a4bc(0x34a)]===0x1&&isDrawingOnScratchpad){const _0x1ebc3e=getTransformedPoint(_0x787e8['touches'][0x0][_0x90a4bc(0xc20)]-_0x16972f[_0x90a4bc(0xdc)],_0x787e8[_0x90a4bc(0xd31)][0x0]['clientY']-_0x16972f[_0x90a4bc(0xf5)]);currentStroke[_0x90a4bc(0x7ff)]['push'](_0x1ebc3e),redrawScratchpad();}else{if(_0x787e8['touches'][_0x90a4bc(0x34a)]===0x2&&isPanning){const _0x396e38=getDistance({'x':_0x787e8['touches'][0x0]['clientX'],'y':_0x787e8[_0x90a4bc(0xd31)][0x0][_0x90a4bc(0x950)]},{'x':_0x787e8[_0x90a4bc(0xd31)][0x1]['clientX'],'y':_0x787e8[_0x90a4bc(0xd31)][0x1][_0x90a4bc(0x950)]}),_0x4b6c74=getMidpoint({'x':_0x787e8[_0x90a4bc(0xd31)][0x0][_0x90a4bc(0xc20)],'y':_0x787e8[_0x90a4bc(0xd31)][0x0][_0x90a4bc(0x950)]},{'x':_0x787e8[_0x90a4bc(0xd31)][0x1][_0x90a4bc(0xc20)],'y':_0x787e8[_0x90a4bc(0xd31)][0x1]['clientY']}),_0x3eaf50=_0x396e38/ initialPinchDistance,_0x162c67=Math['min'](Math[_0x90a4bc(0xaa7)](scratchpadScale*_0x3eaf50,MIN_SCALE),MAX_SCALE),_0x4dc5d2=_0x4b6c74['x']-panStart['x'],_0x5d2207=_0x4b6c74['y']-panStart['y'];scratchpadOffset['x']=_0x4b6c74['x']-(_0x4b6c74['x']-scratchpadOffset['x'])*(_0x162c67/scratchpadScale),scratchpadOffset['y']=_0x4b6c74['y']-(_0x4b6c74['y']-scratchpadOffset['y'])*(_0x162c67/scratchpadScale),scratchpadOffset['x']+=_0x4dc5d2,scratchpadOffset['y']+=_0x5d2207,scratchpadScale=_0x162c67,initialPinchDistance=_0x396e38,panStart=_0x4b6c74,redrawScratchpad();}}}else{if(isMousePanning){const _0x3804ab=_0x787e8[_0x90a4bc(0xc20)]-panStart['x'],_0x32ca9d=_0x787e8[_0x90a4bc(0x950)]-panStart['y'];scratchpadOffset['x']+=_0x3804ab,scratchpadOffset['y']+=_0x32ca9d,panStart={'x':_0x787e8['clientX'],'y':_0x787e8['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x10f5ea=getTransformedPoint(_0x787e8['clientX']-_0x16972f[_0x90a4bc(0xdc)],_0x787e8[_0x90a4bc(0x950)]-_0x16972f[_0x90a4bc(0xf5)]);currentStroke[_0x90a4bc(0x7ff)]['push'](_0x10f5ea),redrawScratchpad();}}}}function handlePointerUp(_0x4bf722){const _0x1c8036=_0x157a22;_0x4bf722['preventDefault']();const _0x55bcff=scratchpadCtx[_0x1c8036(0xe6b)];isMousePanning&&(isMousePanning=![],_0x55bcff[_0x1c8036(0xb74)][_0x1c8036(0x938)]=_0x1c8036(0x19a)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x1c8036(0x7ff)][_0x1c8036(0x34a)]>0x1&&(strokes[_0x1c8036(0xde9)](currentStroke),currentStroke[_0x1c8036(0x529)]===_0x1c8036(0x99b)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xb9e9c9=_0x1c8036,_0x443567=strokes[_0xb9e9c9(0x512)](_0x8373b3=>_0x8373b3['tool']===_0xb9e9c9(0x99b)&&!_0x8373b3[_0xb9e9c9(0x6e7)]);if(_0x443567[_0xb9e9c9(0x34a)]>0x0){const _0x27fd4a=Date[_0xb9e9c9(0x338)]();_0x443567[_0xb9e9c9(0x8f9)](_0x3c08d1=>_0x3c08d1[_0xb9e9c9(0x6e7)]=_0x27fd4a),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1c0ec6){const _0xd7dcbf=_0x157a22;_0x1c0ec6[_0xd7dcbf(0x54c)]();const _0x26807=_0x1c0ec6['deltaY']*-0.005,_0x59d1ed=Math[_0xd7dcbf(0x387)](Math[_0xd7dcbf(0xaa7)](scratchpadScale+_0x26807,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1c0ec6[_0xd7dcbf(0xc20)]-(_0x1c0ec6['clientX']-scratchpadOffset['x'])*(_0x59d1ed/scratchpadScale),scratchpadOffset['y']=_0x1c0ec6[_0xd7dcbf(0x950)]-(_0x1c0ec6['clientY']-scratchpadOffset['y'])*(_0x59d1ed/scratchpadScale),scratchpadScale=_0x59d1ed,redrawScratchpad();}function undo(){const _0x3f6575=_0x157a22;strokes[_0x3f6575(0x34a)]>0x0&&(redoStrokes[_0x3f6575(0xde9)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x26e794=_0x157a22;redoStrokes[_0x26e794(0x34a)]>0x0&&(strokes[_0x26e794(0xde9)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x49b075=_0x157a22;document[_0x49b075(0xccc)](_0x49b075(0x888))['disabled']=strokes[_0x49b075(0x34a)]===0x0,document['getElementById'](_0x49b075(0x52b))['disabled']=redoStrokes[_0x49b075(0x34a)]===0x0;}function openScratchpad(_0x14c87b,_0xc71a19){const _0x43d467=_0x157a22,_0x31c829=document[_0x43d467(0xccc)](_0x43d467(0x9ce)),_0x4974a4=document[_0x43d467(0xccc)](_0x43d467(0x7db)),_0x4d1e6d=document[_0x43d467(0xccc)]('scratchpad-options'),_0x2cac39=document[_0x43d467(0xccc)](_0x43d467(0xa06));_0x4974a4['innerHTML']=_0x14c87b[_0x43d467(0x6a8)]||_0x14c87b[_0x43d467(0x885)],_0x4d1e6d[_0x43d467(0x93e)]=_0xc71a19['map']((_0x12fe6c,_0x5ead8b)=>_0x43d467(0xc9e)+String[_0x43d467(0xad9)](0x41+_0x5ead8b)+'.\x20'+_0x12fe6c+'</div>')['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x31c829[_0x43d467(0x807)][_0x43d467(0x90e)](_0x43d467(0x9f0)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x43d467(0x5e4)])MathJax[_0x43d467(0xd06)]([_0x4974a4,_0x4d1e6d]);}function openBlueprintQuizSettings(){const _0x3caf27=_0x157a22,_0x5e2445=document[_0x3caf27(0xccc)](_0x3caf27(0x86c)),_0x4a9d5d=blueprintPageSettings||(currentProjectData?currentProjectData[_0x3caf27(0x640)]:{})||{};document[_0x3caf27(0xccc)](_0x3caf27(0x242))[_0x3caf27(0xa9f)]=_0x4a9d5d['quizType']||document[_0x3caf27(0xccc)]('quiz-type-select')[_0x3caf27(0xa9f)],document[_0x3caf27(0xccc)](_0x3caf27(0x6a6))['innerHTML']=document[_0x3caf27(0xccc)](_0x3caf27(0x204))[_0x3caf27(0x93e)],document[_0x3caf27(0xccc)]('bp-modal-difficulty-level-select')[_0x3caf27(0xa9f)]=_0x4a9d5d[_0x3caf27(0x822)]||document[_0x3caf27(0xccc)](_0x3caf27(0x204))[_0x3caf27(0xa9f)],document[_0x3caf27(0xccc)](_0x3caf27(0x4aa))[_0x3caf27(0x93e)]=document[_0x3caf27(0xccc)](_0x3caf27(0xb5c))[_0x3caf27(0x93e)],document[_0x3caf27(0xccc)](_0x3caf27(0x4aa))[_0x3caf27(0xa9f)]=_0x4a9d5d[_0x3caf27(0xc8e)]||document['getElementById'](_0x3caf27(0xb5c))[_0x3caf27(0xa9f)],document[_0x3caf27(0xccc)]('bp-modal-num-questions')[_0x3caf27(0xa9f)]=_0x4a9d5d[_0x3caf27(0x502)]||document[_0x3caf27(0xccc)](_0x3caf27(0x28f))['value'],document[_0x3caf27(0xccc)](_0x3caf27(0xa72))['value']=_0x4a9d5d[_0x3caf27(0xd19)]||document[_0x3caf27(0xccc)]('passing-score-input')['value'],document[_0x3caf27(0xccc)](_0x3caf27(0x9df))[_0x3caf27(0xa9f)]=_0x4a9d5d[_0x3caf27(0x879)]||document[_0x3caf27(0xccc)](_0x3caf27(0x3fd))[_0x3caf27(0xa9f)],document[_0x3caf27(0xccc)](_0x3caf27(0x10c))[_0x3caf27(0xa9f)]=_0x4a9d5d[_0x3caf27(0xabd)]||document['getElementById'](_0x3caf27(0x520))[_0x3caf27(0xa9f)],document['getElementById']('bp-modal-include-images-checkbox')[_0x3caf27(0x174)]=_0x4a9d5d[_0x3caf27(0x496)]||document[_0x3caf27(0xccc)](_0x3caf27(0xd7d))[_0x3caf27(0x174)],_0x5e2445[_0x3caf27(0x807)][_0x3caf27(0x90e)](_0x3caf27(0x9f0));}function handleSaveBlueprintPageSettings(){const _0x30ab71=_0x157a22;blueprintPageSettings={'quizType':document[_0x30ab71(0xccc)]('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x30ab71(0xccc)](_0x30ab71(0x6a6))[_0x30ab71(0xa9f)],'complexityValue':document[_0x30ab71(0xccc)]('bp-modal-question-complexity-select')[_0x30ab71(0xa9f)],'numQuestions':document['getElementById'](_0x30ab71(0x486))['value'],'passingScore':document[_0x30ab71(0xccc)]('bp-modal-passing-score-input')[_0x30ab71(0xa9f)],'numChoices':document[_0x30ab71(0xccc)](_0x30ab71(0x9df))[_0x30ab71(0xa9f)],'shuffle':document[_0x30ab71(0xccc)](_0x30ab71(0x10c))[_0x30ab71(0xa9f)],'includeImages':document['getElementById'](_0x30ab71(0x542))[_0x30ab71(0x174)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x30ab71(0xccc)]('blueprint-settings-modal')[_0x30ab71(0x807)][_0x30ab71(0xcec)]('hidden');}function listenForParallelTestShortcuts(){const _0x31353e=_0x157a22,_0x37bec6=doc(db,'globalSettings',_0x31353e(0xd0a));onSnapshot(_0x37bec6,_0x5c3b60=>{const _0x4ba33a=_0x31353e;let _0x50a1a5=[],_0x26f3e3=[],_0x4c37bd={};if(_0x5c3b60['exists']()){const _0x267abb=_0x5c3b60[_0x4ba33a(0xd60)]();_0x50a1a5=_0x267abb[_0x4ba33a(0xd2e)]||[],_0x26f3e3=_0x267abb['parallelShortcutTabs']||[],_0x4c37bd=_0x267abb['parallelShortcutOrder']||{};}!_0x26f3e3[_0x4ba33a(0x48e)](_0x33aa10=>_0x33aa10['id']===_0x4ba33a(0x3d5))&&_0x26f3e3[_0x4ba33a(0x601)]({'id':_0x4ba33a(0x3d5),'name':_0x4ba33a(0xcb1),'isDefault':!![]}),!_0x50a1a5['find'](_0xa44c7f=>_0xa44c7f['id']===_0x4ba33a(0x610))&&_0x50a1a5[_0x4ba33a(0x601)]({'id':_0x4ba33a(0x610),'name':_0x4ba33a(0x288),'url':'','isDefault':!![]}),!_0x50a1a5[_0x4ba33a(0x48e)](_0x296c63=>_0x296c63['id']===_0x4ba33a(0x2b3))&&_0x50a1a5['unshift']({'id':_0x4ba33a(0x2b3),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x50a1a5,parallelShortcutTabs=_0x26f3e3,parallelShortcutOrder=_0x4c37bd,renderParallelTestShortcuts(),!document[_0x4ba33a(0xccc)]('additional-parallel-shortcuts-modal')[_0x4ba33a(0x807)][_0x4ba33a(0xa2d)](_0x4ba33a(0x9f0))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x1f2d32=_0x157a22,_0x2844ed=doc(db,_0x1f2d32(0x7e7),_0x1f2d32(0xd0a));try{await setDoc(_0x2844ed,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x16b2f6){console[_0x1f2d32(0xada)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x16b2f6);}}function renderAdditionalParallelShortcutsModal(){const _0x3adc44=_0x157a22,_0x272f1d=document[_0x3adc44(0xccc)](_0x3adc44(0xe91)),_0x54aa8d=document[_0x3adc44(0xccc)](_0x3adc44(0x750));if(!_0x272f1d||!_0x54aa8d)return;_0x272f1d[_0x3adc44(0x93e)]=parallelShortcutTabs[_0x3adc44(0x141)](_0x2b659a=>{const _0x288f50=_0x3adc44,_0x9d0821=_0x2b659a['id']===activeParallelShortcutTabId;return _0x288f50(0xd22)+_0x2b659a['id']+_0x288f50(0xb17)+(_0x9d0821?_0x288f50(0x635):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x288f50(0x462)+_0x2b659a[_0x288f50(0x190)]+_0x288f50(0x936)+_0x2b659a[_0x288f50(0x190)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2b659a['isDefault']?'<button\x20data-tab-id=\x22'+_0x2b659a['id']+_0x288f50(0xb05):'')+_0x288f50(0x995);})['join']('');const _0x1f1df1=parallelShortcutTabs[_0x3adc44(0x48e)](_0x384edf=>_0x384edf['id']===activeParallelShortcutTabId);let _0x1335da=_0x1f1df1?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts[_0x3adc44(0x512)](_0x2ff8e8=>(_0x1f1df1?.[_0x3adc44(0xab5)]||[])['includes'](_0x2ff8e8['id']));const _0x56c6c2=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x1335da[_0x3adc44(0x4b3)]((_0x12d067,_0x4a3d93)=>{const _0x3a1baa=_0x3adc44,_0x36e6ab=_0x56c6c2[_0x3a1baa(0x971)](_0x12d067['id']),_0x1a7303=_0x56c6c2['indexOf'](_0x4a3d93['id']);return(_0x36e6ab===-0x1?Infinity:_0x36e6ab)-(_0x1a7303===-0x1?Infinity:_0x1a7303);}),_0x54aa8d[_0x3adc44(0x93e)]=_0x1335da['map'](_0xa96c8=>{const _0x47256d=_0x3adc44,_0x431299=_0xa96c8['url']?'🔁':'🔗',_0x272d52=parallelShortcutTabs[_0x47256d(0x512)](_0x430aaa=>!_0x430aaa[_0x47256d(0x6a2)]),_0x4326b3=_0x1f1df1[_0x47256d(0x6a2)]&&_0x272d52[_0x47256d(0x34a)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x272d52[_0x47256d(0x141)](_0x7c5001=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0xa96c8['id']+'\x22\x20data-target-tab-id=\x22'+_0x7c5001['id']+'\x22>'+_0x7c5001[_0x47256d(0x190)]+'</a>')['join']('')+_0x47256d(0x4dc):'';return _0x47256d(0xbb8)+_0xa96c8['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x431299+'\x20'+_0xa96c8[_0x47256d(0x190)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa96c8['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa96c8['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xa96c8[_0x47256d(0x6a2)]?'<button\x20data-id=\x22'+_0xa96c8['id']+_0x47256d(0xc62):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1f1df1['isDefault']?_0x47256d(0xa2c)+_0xa96c8['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x47256d(0xa35)+_0x4326b3+_0x47256d(0xb2b);})[_0x3adc44(0x72e)]('')||_0x3adc44(0xdcc),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x19a7b3=_0x157a22;document[_0x19a7b3(0x5f0)]('.parallel-shortcut-tab-btn')[_0x19a7b3(0x8f9)](_0x83bcf6=>{const _0x329f35=_0x19a7b3;_0x83bcf6[_0x329f35(0xc51)]=_0x5d2ca7=>{const _0x15de59=_0x329f35;activeParallelShortcutTabId=_0x5d2ca7[_0x15de59(0xb10)][_0x15de59(0x87a)][_0x15de59(0xaa3)],renderAdditionalParallelShortcutsModal();},_0x83bcf6[_0x329f35(0x740)]=_0x3dd92f=>{const _0xe84484=_0x329f35,_0x121517=_0x3dd92f[_0xe84484(0xb10)][_0xe84484(0xdd0)](_0xe84484(0xc7));_0x3dd92f[_0xe84484(0xb10)][_0xe84484(0xdd0)](_0xe84484(0x961))[_0xe84484(0x807)]['add']('hidden'),_0x121517[_0xe84484(0x807)]['remove'](_0xe84484(0x9f0)),_0x121517[_0xe84484(0x557)](),_0x121517[_0xe84484(0x549)]();};}),document[_0x19a7b3(0x5f0)](_0x19a7b3(0x9b0))[_0x19a7b3(0x8f9)](_0x47c591=>{const _0x45fb73=_0x19a7b3,_0x2fa018=()=>{const _0x94553d=_0x28ee,_0x741d79=_0x47c591[_0x94553d(0x43a)](_0x94553d(0x27b))[_0x94553d(0x87a)]['tabId'],_0x5c00c8=parallelShortcutTabs[_0x94553d(0x48e)](_0x3b31b9=>_0x3b31b9['id']===_0x741d79);_0x5c00c8&&(_0x5c00c8[_0x94553d(0x190)]=_0x47c591[_0x94553d(0xa9f)][_0x94553d(0x6b3)]()||_0x5c00c8[_0x94553d(0x190)],saveParallelShortcutConfig());};_0x47c591[_0x45fb73(0x941)]=_0x2fa018,_0x47c591[_0x45fb73(0x9f5)]=_0x5a6285=>{const _0x56265f=_0x45fb73;if(_0x5a6285[_0x56265f(0x40a)]===_0x56265f(0xe28))_0x47c591[_0x56265f(0x4d4)]();};}),document['querySelectorAll'](_0x19a7b3(0xd3a))[_0x19a7b3(0x8f9)](_0xe4dc97=>_0xe4dc97[_0x19a7b3(0xc51)]=_0x2503c1=>{const _0x5f52dd=_0x19a7b3,_0x4c86f2=_0x2503c1[_0x5f52dd(0xb10)][_0x5f52dd(0x87a)][_0x5f52dd(0xaa3)];showConfirmation(_0x5f52dd(0x240),()=>{const _0x47149d=_0x5f52dd;parallelShortcutTabs=parallelShortcutTabs[_0x47149d(0x512)](_0x2c0e6e=>_0x2c0e6e['id']!==_0x4c86f2),delete parallelShortcutOrder[_0x4c86f2];if(activeParallelShortcutTabId===_0x4c86f2)activeParallelShortcutTabId=_0x47149d(0x3d5);saveParallelShortcutConfig();});}),document[_0x19a7b3(0x5f0)](_0x19a7b3(0x5ab))[_0x19a7b3(0x8f9)](_0x3e0266=>_0x3e0266['onclick']=_0x40aab1=>{const _0x298916=_0x19a7b3;_0x40aab1['preventDefault']();const {shortcutId:_0x38ca04,targetTabId:_0x1f36ff}=_0x40aab1[_0x298916(0xb10)][_0x298916(0x87a)],_0x96c86f=parallelShortcutTabs[_0x298916(0x48e)](_0x19bd2d=>_0x19bd2d['id']===_0x1f36ff);_0x96c86f&&!_0x96c86f[_0x298916(0xab5)][_0x298916(0x9e3)](_0x38ca04)&&(_0x96c86f[_0x298916(0xab5)][_0x298916(0xde9)](_0x38ca04),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x19a7b3(0x4b7))['forEach'](_0x39c235=>_0x39c235[_0x19a7b3(0xc51)]=_0x5d44f3=>{const _0x24b2a6=_0x19a7b3,_0x2f8105=_0x5d44f3['currentTarget'][_0x24b2a6(0x87a)][_0x24b2a6(0xb69)],_0x1fe006=parallelShortcutTabs[_0x24b2a6(0x48e)](_0x48f909=>_0x48f909['id']===activeParallelShortcutTabId);_0x1fe006&&!_0x1fe006['isDefault']&&(_0x1fe006[_0x24b2a6(0xab5)]=_0x1fe006[_0x24b2a6(0xab5)][_0x24b2a6(0x512)](_0x50923b=>_0x50923b!==_0x2f8105),saveParallelShortcutConfig());}),document[_0x19a7b3(0x5f0)]('.move-parallel-shortcut-menu-btn')[_0x19a7b3(0x8f9)](_0xd84e11=>_0xd84e11[_0x19a7b3(0xc51)]=_0x2bcb82=>{const _0x2ceb2f=_0x19a7b3;_0x2bcb82[_0x2ceb2f(0x18e)]();const _0x5ce9e3=_0x2bcb82[_0x2ceb2f(0xb10)]['nextElementSibling'];document[_0x2ceb2f(0x5f0)](_0x2ceb2f(0xc1))[_0x2ceb2f(0x8f9)](_0x5e4ec5=>_0x5e4ec5[_0x2ceb2f(0x807)][_0x2ceb2f(0xcec)](_0x2ceb2f(0x9f0))),_0x5ce9e3['classList'][_0x2ceb2f(0x90e)](_0x2ceb2f(0x9f0));});const _0x55fb15=document[_0x19a7b3(0xccc)](_0x19a7b3(0x750));let _0x86b488=null;_0x55fb15['ondragstart']=_0x21ffe2=>{const _0x4d041c=_0x19a7b3;_0x86b488=_0x21ffe2['target'][_0x4d041c(0x43a)](_0x4d041c(0xbfd));if(_0x86b488)setTimeout(()=>_0x86b488[_0x4d041c(0x807)]['add'](_0x4d041c(0xd58)),0x0);},_0x55fb15[_0x19a7b3(0x1fe)]=()=>{const _0x595c79=_0x19a7b3;_0x86b488&&(_0x86b488['classList'][_0x595c79(0x90e)](_0x595c79(0xd58)),_0x86b488=null);},_0x55fb15[_0x19a7b3(0xe6f)]=_0x12c106=>{const _0x570bb9=_0x19a7b3;_0x12c106[_0x570bb9(0x54c)]();},_0x55fb15[_0x19a7b3(0x9cd)]=_0x3cac0e=>{const _0x4e7656=_0x19a7b3;_0x3cac0e[_0x4e7656(0x54c)]();if(_0x86b488){const _0x411ce2=[..._0x55fb15[_0x4e7656(0x5f0)](_0x4e7656(0xe8))][_0x4e7656(0xc59)]((_0x449c5b,_0x82004e)=>{const _0x1ae0c2=_0x4e7656,_0xde515f=_0x82004e[_0x1ae0c2(0x836)](),_0x52cce1=_0x3cac0e['clientY']-_0xde515f[_0x1ae0c2(0xf5)]-_0xde515f[_0x1ae0c2(0x612)]/0x2;return _0x52cce1<0x0&&_0x52cce1>_0x449c5b['offset']?{'offset':_0x52cce1,'element':_0x82004e}:_0x449c5b;},{'offset':Number[_0x4e7656(0xb9d)]})[_0x4e7656(0x46e)];_0x411ce2==null?_0x55fb15[_0x4e7656(0xb18)](_0x86b488):_0x55fb15[_0x4e7656(0xbe2)](_0x86b488,_0x411ce2);const _0x5db76b=[..._0x55fb15[_0x4e7656(0x5f0)]('.shortcut-list-item')][_0x4e7656(0x141)](_0x334ec2=>_0x334ec2[_0x4e7656(0x87a)][_0x4e7656(0xb69)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x5db76b,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1c34b8=_0x157a22,_0x38d22a=prompt(_0x1c34b8(0x129),_0x1c34b8(0x960));_0x38d22a&&_0x38d22a[_0x1c34b8(0x6b3)]()&&(parallelShortcutTabs[_0x1c34b8(0xde9)]({'id':'tab_'+Date[_0x1c34b8(0x338)](),'name':_0x38d22a['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x446838=_0x157a22,_0x4ca341=document[_0x446838(0xccc)](_0x446838(0xa59)),_0x26e3d1=document['getElementById'](_0x446838(0x750)),_0x59b121=document[_0x446838(0xccc)]('parallel-shortcuts-loading-msg');if(_0x59b121)_0x59b121[_0x446838(0x807)][_0x446838(0xcec)](_0x446838(0x9f0));if(!_0x4ca341||!_0x26e3d1)return;const _0x4003f1=parallelTestShortcuts[_0x446838(0xd3d)](0x0,0x4),_0x4d7484=parallelTestShortcuts[_0x446838(0xd3d)](0x4);_0x4ca341[_0x446838(0x93e)]=_0x4003f1[_0x446838(0x141)](_0x6233e4=>{const _0x4756e2=_0x446838,_0x239509=_0x6233e4['url']&&_0x6233e4['url'][_0x4756e2(0x6b3)]()!=='',_0x15926d=_0x239509?'bg-teal-500\x20hover:bg-teal-600\x20text-white':'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x38fc78=_0x239509?'🔁':'🔗',_0x468836=!_0x6233e4[_0x4756e2(0x6a2)]?_0x4756e2(0xcf5)+_0x6233e4['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x6233e4['id']+_0x4756e2(0x7e3)+_0x15926d+_0x4756e2(0xaab)+_0x38fc78+'\x20'+_0x6233e4['name']+_0x4756e2(0x755)+_0x6233e4['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x468836+_0x4756e2(0xc98);})[_0x446838(0x72e)](''),_0x4d7484[_0x446838(0x34a)]>0x0&&(_0x4ca341['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4d7484[_0x446838(0x34a)]>0x0?_0x26e3d1[_0x446838(0x93e)]=_0x4d7484[_0x446838(0x141)](_0x3b8a51=>_0x446838(0xa9d)+(_0x3b8a51[_0x446838(0xac4)]?'🔁':'🔗')+'\x20'+_0x3b8a51[_0x446838(0x190)]+_0x446838(0x4e6)+_0x3b8a51['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3b8a51['id']+_0x446838(0xb77)+(!_0x3b8a51[_0x446838(0x6a2)]?_0x446838(0xcf5)+_0x3b8a51['id']+_0x446838(0xc62):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x26e3d1['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x12a229=null){const _0x4b25bc=_0x157a22,_0x4f7759=document['getElementById'](_0x4b25bc(0xd09)),_0x15357a=document[_0x4b25bc(0xccc)](_0x4b25bc(0x77b)),_0x41143c=document['getElementById']('parallel-shortcut-id-input'),_0x2365ac=document[_0x4b25bc(0xccc)](_0x4b25bc(0x3e5)),_0x5d5b98=document[_0x4b25bc(0xccc)]('parallel-shortcut-url-input');if(_0x12a229){const _0x1384a3=parallelTestShortcuts[_0x4b25bc(0x48e)](_0x1eb551=>_0x1eb551['id']===_0x12a229);if(!_0x1384a3)return;_0x15357a[_0x4b25bc(0xc76)]=_0x4b25bc(0x2ea),_0x41143c[_0x4b25bc(0xa9f)]=_0x1384a3['id'],_0x2365ac[_0x4b25bc(0xa9f)]=_0x1384a3['name'],_0x5d5b98[_0x4b25bc(0xa9f)]=_0x1384a3['url']||'';}else _0x15357a[_0x4b25bc(0xc76)]=_0x4b25bc(0x41c),_0x41143c[_0x4b25bc(0xa9f)]='',_0x2365ac[_0x4b25bc(0xa9f)]='',_0x5d5b98[_0x4b25bc(0xa9f)]='';_0x4f7759[_0x4b25bc(0x807)][_0x4b25bc(0x90e)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x414e40=_0x157a22,_0x365bc9=document['getElementById'](_0x414e40(0x7bd))['value'],_0x487e65=document[_0x414e40(0xccc)](_0x414e40(0x3e5))[_0x414e40(0xa9f)]['trim'](),_0x2a5516=document[_0x414e40(0xccc)]('parallel-shortcut-url-input')[_0x414e40(0xa9f)]['trim']();if(!_0x487e65){showMessage(_0x414e40(0x5d4));return;}const _0x52286a={'id':_0x365bc9||_0x414e40(0x31c)+Date[_0x414e40(0x338)](),'name':_0x487e65,'url':_0x2a5516,'isDefault':_0x365bc9['startsWith'](_0x414e40(0x5ed))};let _0x3068f3;_0x365bc9?_0x3068f3=parallelTestShortcuts['map'](_0x456a59=>_0x456a59['id']===_0x365bc9?_0x52286a:_0x456a59):_0x3068f3=[...parallelTestShortcuts,_0x52286a];try{const _0x1ce70d=doc(db,_0x414e40(0x7e7),_0x414e40(0xd0a));await setDoc(_0x1ce70d,{'shortcuts':_0x3068f3},{'merge':!![]}),document['getElementById'](_0x414e40(0xd09))[_0x414e40(0x807)][_0x414e40(0xcec)](_0x414e40(0x9f0));}catch(_0x17c200){console[_0x414e40(0xada)]('Error\x20saving\x20parallel\x20shortcut:',_0x17c200),showMessage(_0x414e40(0xc5e));}}async function handleParallelTestShortcutClick(_0x21814d){const _0x359819=_0x157a22,_0x4ad92a=parallelTestShortcuts[_0x359819(0x48e)](_0x6cb6f4=>_0x6cb6f4['id']===_0x21814d);if(!_0x4ad92a)return;if(!_0x4ad92a[_0x359819(0xac4)]||_0x4ad92a[_0x359819(0xac4)][_0x359819(0x6b3)]()===''){openParallelTestShortcutEditor(_0x21814d);return;}const _0x523088=document['getElementById']('loader'),_0x4df831=document[_0x359819(0xccc)](_0x359819(0x38f));document['getElementById']('quiz-generation-area')[_0x359819(0x807)]['remove'](_0x359819(0x9f0)),document[_0x359819(0xccc)](_0x359819(0x4b1))[_0x359819(0x93e)]='',_0x523088[_0x359819(0x807)][_0x359819(0x90e)](_0x359819(0x9f0)),_0x4df831[_0x359819(0xc76)]=_0x359819(0xa39);try{let _0x4a30bd;_0x4ad92a[_0x359819(0xac4)][_0x359819(0x8e9)]()[_0x359819(0x9e3)](_0x359819(0x51e))?_0x4a30bd='source_document.txt':_0x4a30bd=_0x359819(0xa47);const _0x5cac2b=await fetchFileFromUrl(_0x4ad92a['url'],_0x4a30bd);await handleGenerateParallelTest(_0x5cac2b);}catch(_0x1ac96f){console[_0x359819(0xada)](_0x359819(0x151),_0x1ac96f),showMessage(_0x359819(0x153)+_0x1ac96f['message']),_0x523088[_0x359819(0x807)]['add'](_0x359819(0x9f0));}}function initializeScratchpadCanvas(){const _0x1f5597=_0x157a22,_0x3d17f0=document['getElementById']('scratchpad-canvas'),_0xcd205e=document[_0x1f5597(0xdd0)]('.scratchpad-content-wrapper');if(!_0x3d17f0||!_0xcd205e)return;scratchpadCtx=_0x3d17f0[_0x1f5597(0xda2)]('2d',{'willReadFrequently':!![]});const _0x25a609=window[_0x1f5597(0xbcf)]||0x1,_0x3189a1=_0xcd205e[_0x1f5597(0x836)]();_0x3d17f0[_0x1f5597(0x507)]=_0x3189a1[_0x1f5597(0x507)]*_0x25a609,_0x3d17f0[_0x1f5597(0x612)]=_0x3189a1[_0x1f5597(0x612)]*_0x25a609,_0x3d17f0[_0x1f5597(0xb74)]['width']=_0x3189a1['width']+'px',_0x3d17f0[_0x1f5597(0xb74)]['height']=_0x3189a1[_0x1f5597(0x612)]+'px',scratchpadCtx[_0x1f5597(0xe08)](_0x25a609,_0x25a609),scratchpadCtx[_0x1f5597(0x3a6)]=_0x1f5597(0xc4b),scratchpadCtx[_0x1f5597(0xaed)]='round',_0x3d17f0[_0x1f5597(0xb65)]('pointerdown',handlePointerDown),_0x3d17f0[_0x1f5597(0xb65)](_0x1f5597(0xb01),handlePointerMove),_0x3d17f0[_0x1f5597(0xb65)](_0x1f5597(0x52c),handlePointerUp),_0x3d17f0[_0x1f5597(0xb65)](_0x1f5597(0x594),handlePointerUp),_0x3d17f0[_0x1f5597(0xb65)]('wheel',handleWheel),_0x3d17f0[_0x1f5597(0xb65)](_0x1f5597(0x211),handlePointerDown),_0x3d17f0[_0x1f5597(0xb65)](_0x1f5597(0x5f7),handlePointerMove),_0x3d17f0[_0x1f5597(0xb65)]('touchend',handlePointerUp),_0x3d17f0[_0x1f5597(0x7d6)]('pointerdown',handlePointerDown),_0x3d17f0[_0x1f5597(0x7d6)]('pointermove',handlePointerMove),_0x3d17f0[_0x1f5597(0x7d6)](_0x1f5597(0x52c),handlePointerUp),_0x3d17f0[_0x1f5597(0x7d6)](_0x1f5597(0x594),handlePointerUp),_0x3d17f0['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x3d17f0[_0x1f5597(0x7d6)](_0x1f5597(0x211),handlePointerDown,{'passive':![]}),_0x3d17f0['addEventListener'](_0x1f5597(0x5f7),handlePointerMove,{'passive':![]}),_0x3d17f0[_0x1f5597(0x7d6)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x154eab=_0x157a22,_0x195eea=document[_0x154eab(0xccc)](_0x154eab(0x9ce)),_0x3c01a0=document[_0x154eab(0xccc)](_0x154eab(0xa06));_0x3c01a0[_0x154eab(0x93e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x154eab(0x165);const _0x554e39=document[_0x154eab(0xccc)]('pen-tool-btn'),_0x40806f=document[_0x154eab(0xccc)]('eraser-tool-btn'),_0x3199d9=document[_0x154eab(0xccc)](_0x154eab(0x93a)),_0x4315b9=document[_0x154eab(0xccc)](_0x154eab(0xc65)),_0x209ef0=document['getElementById'](_0x154eab(0xa52)),_0x460cc2=document['getElementById']('highlighter-tools-group'),_0x4b805d=document[_0x154eab(0xccc)]('eraser-tools-group'),_0xc8cacf=[_0x554e39,_0x40806f,_0x3199d9,_0x4315b9];document[_0x154eab(0xccc)](_0x154eab(0x869))[_0x154eab(0x7d6)](_0x154eab(0x343),()=>_0x195eea[_0x154eab(0x807)][_0x154eab(0xcec)](_0x154eab(0x9f0))),document[_0x154eab(0xccc)](_0x154eab(0xc36))[_0x154eab(0x7d6)](_0x154eab(0x343),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x154eab(0xccc)](_0x154eab(0xb4c))[_0x154eab(0x7d6)](_0x154eab(0x343),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x154eab(0xccc)](_0x154eab(0x888))['addEventListener']('click',undo),document[_0x154eab(0xccc)](_0x154eab(0x52b))[_0x154eab(0x7d6)]('click',redo);const _0x329a72=_0x5c4f90=>{const _0x5c5928=_0x154eab;_0xc8cacf[_0x5c5928(0x8f9)](_0x4ee075=>_0x4ee075[_0x5c5928(0x807)][_0x5c5928(0x90e)](_0x5c5928(0x130))),_0x5c4f90[_0x5c5928(0x807)][_0x5c5928(0xcec)](_0x5c5928(0x130)),_0x209ef0[_0x5c5928(0x807)][_0x5c5928(0xcec)](_0x5c5928(0x9f0)),_0x460cc2[_0x5c5928(0x807)]['add'](_0x5c5928(0x9f0)),_0x4b805d['classList'][_0x5c5928(0xcec)](_0x5c5928(0x9f0));if(activeTool===_0x5c5928(0x8b6)||activeTool===_0x5c5928(0x99b))_0x209ef0[_0x5c5928(0x807)][_0x5c5928(0x90e)](_0x5c5928(0x9f0));else{if(activeTool===_0x5c5928(0x7c0))_0x460cc2['classList']['remove'](_0x5c5928(0x9f0));else activeTool===_0x5c5928(0xe3f)&&_0x4b805d[_0x5c5928(0x807)]['remove'](_0x5c5928(0x9f0));}};_0x554e39[_0x154eab(0x7d6)](_0x154eab(0x343),()=>{const _0x51ef45=_0x154eab;activeTool=_0x51ef45(0x8b6),_0x329a72(_0x554e39);}),_0x40806f[_0x154eab(0x7d6)](_0x154eab(0x343),()=>{const _0xc15707=_0x154eab;activeTool=_0xc15707(0xe3f),_0x329a72(_0x40806f);}),_0x3199d9[_0x154eab(0x7d6)](_0x154eab(0x343),()=>{const _0x1cfac6=_0x154eab;activeTool=_0x1cfac6(0x99b),_0x329a72(_0x3199d9);}),_0x4315b9[_0x154eab(0x7d6)]('click',()=>{const _0xaaf0bf=_0x154eab;activeTool=_0xaaf0bf(0x7c0),_0x329a72(_0x4315b9);}),_0x209ef0['querySelectorAll'](_0x154eab(0x64b))[_0x154eab(0x8f9)](_0x20767a=>{const _0x3f7011=_0x154eab;_0x20767a[_0x3f7011(0x7d6)](_0x3f7011(0x343),_0x49532c=>{const _0x4c54db=_0x3f7011;scratchpadPenSize=parseInt(_0x49532c[_0x4c54db(0xc55)][_0x4c54db(0x87a)][_0x4c54db(0x97e)],0xa),_0x209ef0[_0x4c54db(0x5f0)]('.pen-size-btn')[_0x4c54db(0x8f9)](_0x29493e=>_0x29493e[_0x4c54db(0x807)][_0x4c54db(0x90e)]('active')),_0x49532c[_0x4c54db(0xc55)][_0x4c54db(0x807)][_0x4c54db(0xcec)](_0x4c54db(0x130));});}),_0x4b805d[_0x154eab(0x5f0)]('.eraser-size-btn')[_0x154eab(0x8f9)](_0x25c001=>{const _0xa510a0=_0x154eab;_0x25c001[_0xa510a0(0x7d6)](_0xa510a0(0x343),_0x587647=>{const _0x160fad=_0xa510a0,_0x2de3db=_0x587647[_0x160fad(0xb10)];scratchpadEraserSize=parseInt(_0x2de3db['dataset']['size'],0xa),_0x4b805d['querySelectorAll'](_0x160fad(0x5f5))[_0x160fad(0x8f9)](_0x17a744=>_0x17a744['classList'][_0x160fad(0x90e)](_0x160fad(0x130))),_0x2de3db['classList'][_0x160fad(0xcec)](_0x160fad(0x130));});}),_0x209ef0[_0x154eab(0x5f0)](_0x154eab(0xdb4))[_0x154eab(0x8f9)](_0x41aa7f=>{const _0x1ed7f6=_0x154eab;_0x41aa7f['addEventListener'](_0x1ed7f6(0x343),_0x2a8984=>{const _0x31d744=_0x1ed7f6;scratchpadPenColor=_0x2a8984[_0x31d744(0xc55)][_0x31d744(0x87a)]['color'],_0x209ef0[_0x31d744(0x5f0)](_0x31d744(0xdb4))['forEach'](_0x38a703=>_0x38a703[_0x31d744(0x807)][_0x31d744(0x90e)]('active')),_0x2a8984[_0x31d744(0xc55)][_0x31d744(0x807)][_0x31d744(0xcec)]('active');});}),_0x460cc2[_0x154eab(0x5f0)]('.highlighter-color-btn')[_0x154eab(0x8f9)](_0x1ecfb2=>{const _0x609d93=_0x154eab;_0x1ecfb2[_0x609d93(0x7d6)](_0x609d93(0x343),_0x349a02=>{const _0x563bba=_0x609d93;scratchpadHighlighterColor=_0x349a02[_0x563bba(0xc55)]['dataset']['color'],_0x460cc2[_0x563bba(0x5f0)](_0x563bba(0x539))[_0x563bba(0x8f9)](_0x50485a=>_0x50485a['classList'][_0x563bba(0x90e)](_0x563bba(0x130))),_0x349a02[_0x563bba(0xc55)][_0x563bba(0x807)][_0x563bba(0xcec)](_0x563bba(0x130));});});const _0x192343=document['getElementById']('highlighter-size-slider'),_0x1e41cc=document[_0x154eab(0xccc)](_0x154eab(0x815));_0x192343[_0x154eab(0x7d6)](_0x154eab(0x6ad),_0x46e0e5=>{const _0x29d387=_0x154eab,_0x1e623e=parseInt(_0x46e0e5[_0x29d387(0xc55)][_0x29d387(0xa9f)],0xa);scratchpadHighlighterSize=_0x1e623e,_0x1e41cc[_0x29d387(0xc76)]=_0x1e623e;}),window[_0x154eab(0x7d6)]('resize',()=>{const _0x1c29a2=_0x154eab;!_0x195eea[_0x1c29a2(0x807)][_0x1c29a2(0xa2d)](_0x1c29a2(0x9f0))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x157a22(0xca3),'name':'คะแนนเต็ม','description':_0x157a22(0xa2b),'icon':_0x157a22(0x152)},'QUICK_THINKER':{'id':_0x157a22(0x622),'name':_0x157a22(0xde4),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x157a22(0x399),'name':_0x157a22(0xcea),'description':_0x157a22(0x251),'icon':_0x157a22(0xdb8)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x157a22(0x422),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x157a22(0x89c)},'COMEBACK_KING':{'id':_0x157a22(0x8c5),'name':_0x157a22(0xc50),'description':_0x157a22(0x579),'icon':_0x157a22(0xe79)},'SPECIALIST':{'id':_0x157a22(0x408),'name':_0x157a22(0xbab),'description':_0x157a22(0xdcb),'icon':_0x157a22(0xcb6)},'PERSEVERANCE':{'id':_0x157a22(0x2e1),'name':_0x157a22(0xa9c),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x157a22(0xe0b)}},firebaseConfig={'apiKey':_0x157a22(0x292),'authDomain':_0x157a22(0x366),'projectId':'ai-quiz-app-aefee','storageBucket':_0x157a22(0x990),'messagingSenderId':_0x157a22(0x5f1),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x157a22(0x1b3)},appId=typeof __app_id!==_0x157a22(0x145)?__app_id:_0x157a22(0x8cd),adminView=document[_0x157a22(0xccc)](_0x157a22(0x6a7)),studentView=document['getElementById'](_0x157a22(0x176)),projectDashboardView=document[_0x157a22(0xccc)](_0x157a22(0x7c8)),projectDetailView=document[_0x157a22(0xccc)]('project-detail-view'),quizResultsView=document[_0x157a22(0xccc)](_0x157a22(0x9a0)),projectList=document[_0x157a22(0xccc)](_0x157a22(0xb67)),noProjectsMsg=document[_0x157a22(0xccc)](_0x157a22(0x27f)),projectTitle=document[_0x157a22(0xccc)](_0x157a22(0xbe)),projectIdDisplay=document[_0x157a22(0xccc)](_0x157a22(0x671)),studentList=document[_0x157a22(0xccc)](_0x157a22(0x464)),messageModal=document[_0x157a22(0xccc)](_0x157a22(0xd5f)),modalMessage=document[_0x157a22(0xccc)](_0x157a22(0xafe)),createProjectModal=document[_0x157a22(0xccc)](_0x157a22(0xb82)),adminPasswordModal=document['getElementById'](_0x157a22(0x8da)),confirmationModal=document['getElementById'](_0x157a22(0x59b)),userIdDisplay=document[_0x157a22(0xccc)](_0x157a22(0x92c)),topicTab=document[_0x157a22(0xccc)](_0x157a22(0xb21)),textTab=document[_0x157a22(0xccc)](_0x157a22(0xd51)),topicInputArea=document[_0x157a22(0xccc)](_0x157a22(0xc89)),textInputArea=document[_0x157a22(0xccc)](_0x157a22(0xc26)),manageTab=document[_0x157a22(0xccc)](_0x157a22(0xc99)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document[_0x157a22(0xccc)]('leaderboard-tab'),manageTabContent=document[_0x157a22(0xccc)]('manage-tab-content'),resultsTabContent=document[_0x157a22(0xccc)]('results-tab-content'),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document[_0x157a22(0xccc)]('project-quizzes-list'),fileTab=document[_0x157a22(0xccc)]('file-tab'),fileInputArea=document['getElementById'](_0x157a22(0xc8)),fileUploadInput=document['getElementById'](_0x157a22(0x42f)),worksheetTab=document['getElementById'](_0x157a22(0x468)),worksheetInputArea=document[_0x157a22(0xccc)](_0x157a22(0x7b2)),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document[_0x157a22(0xccc)](_0x157a22(0x6d3)),studentNameSelectionView=document['getElementById'](_0x157a22(0xb3a)),studentQuizArea=document[_0x157a22(0xccc)](_0x157a22(0x8d1)),studentResultArea=document[_0x157a22(0xccc)]('student-result-area'),studentReadingArea=document[_0x157a22(0xccc)](_0x157a22(0xbbf)),loadQuizBtn=document[_0x157a22(0xccc)](_0x157a22(0x9aa)),startQuizBtn=document[_0x157a22(0xccc)](_0x157a22(0x718)),studentJoinGameView=document[_0x157a22(0xccc)](_0x157a22(0x8fb)),presentationModal=document[_0x157a22(0xccc)](_0x157a22(0xe4f)),renameQuizModal=document[_0x157a22(0xccc)]('rename-quiz-modal'),moveQuizModal=document[_0x157a22(0xccc)](_0x157a22(0x70c)),quizSettingsModal=document[_0x157a22(0xccc)](_0x157a22(0xd1b)),quizStatusModal=document['getElementById']('quiz-status-modal'),liveGameView=document[_0x157a22(0xccc)]('live-game-view');function handleFixLessonLatex(){const _0xfe9ad6=_0x157a22,_0x3864d7=document['getElementById'](_0xfe9ad6(0x1fa));if(!_0x3864d7){showMessage(_0xfe9ad6(0x1b1));return;}const _0x3b1e40=_0x3864d7[_0xfe9ad6(0x5f0)]([_0xfe9ad6(0x2d6),'.ai-content\x20li',_0xfe9ad6(0x463),_0xfe9ad6(0x4b2),_0xfe9ad6(0x717)]['join'](','));let _0x1bd839=0x0;const _0x462fc2=_0x308872=>_0x308872[_0xfe9ad6(0xc76)]||'',_0x50bcc4=(_0x64c0dd,_0x5d0327)=>{const _0x1dab9e=_0xfe9ad6;if(_0x64c0dd[_0x1dab9e(0xdd0)]&&_0x64c0dd[_0x1dab9e(0xdd0)](_0x1dab9e(0x8f4)))return;_0x64c0dd[_0x1dab9e(0xc76)]=_0x5d0327;},_0x309163=_0xc5ace8=>_0xc5ace8[_0xfe9ad6(0xb64)](/\u00A0/g,'\x20')[_0xfe9ad6(0xb64)](/\u200B/g,'')[_0xfe9ad6(0xb64)](/\r\n?/g,'\x0a'),_0x393017=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x34eb23=_0x42b577=>{const _0x1916a=_0xfe9ad6;let _0x4c3d31=_0x42b577[_0x1916a(0x6b3)]();const _0x323184=[_0x1916a(0xb2a),_0x1916a(0x4a9),_0x1916a(0x632),_0x1916a(0x2a4),_0x1916a(0x84b),_0x1916a(0x226),_0x1916a(0xbc7),_0x1916a(0xcd3),_0x1916a(0xa17),_0x1916a(0x967),'le','ge',_0x1916a(0x3f1),'pm','approx',_0x1916a(0x926),_0x1916a(0x471),'tan',_0x1916a(0x700),'ln',_0x1916a(0xb0b),_0x1916a(0x95c),_0x1916a(0x965),_0x1916a(0xdc),_0x1916a(0x306),_0x1916a(0x922),_0x1916a(0xc34),_0x1916a(0x76e),'deg'];_0x323184[_0x1916a(0x8f9)](_0x52ada2=>{const _0x5b2950=_0x1916a;_0x4c3d31=_0x4c3d31[_0x5b2950(0xb64)](new RegExp(_0x5b2950(0xc0d)+_0x52ada2+'\x5cb','g'),(_0x452f6c,_0x20f53a)=>_0x20f53a+'\x5c'+_0x52ada2);});const _0x2465bd=[[/×/g,_0x1916a(0x5fa)],[/·/g,_0x1916a(0x453)],[/÷/g,_0x1916a(0xcf8)],[/≤/g,_0x1916a(0xbbc)],[/≥/g,_0x1916a(0x58e)],[/≠/g,'\x5cneq'],[/±/g,_0x1916a(0x1d5)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x2465bd[_0x1916a(0x8f9)](([_0x5aaba0,_0x5819b6])=>{_0x4c3d31=_0x4c3d31['replace'](_0x5aaba0,_0x5819b6);}),_0x4c3d31=_0x4c3d31[_0x1916a(0xb64)](/√\s*([A-Za-z0-9]+)/g,_0x1916a(0x12f)),_0x4c3d31=_0x4c3d31['replace'](/(\d+)\s*%/g,_0x1916a(0xa55)),_0x4c3d31;},_0x55ed7c=_0x21485e=>{const _0x11a28a=_0xfe9ad6;if(/\$|\\\(|\\\[/['test'](_0x21485e))return _0x21485e;if(!_0x393017[_0x11a28a(0x434)](_0x21485e))return _0x21485e;const _0x9086f2=_0x21485e[_0x11a28a(0xd3c)](/^\s*/)[0x0],_0x4e1a5c=_0x21485e[_0x11a28a(0xd3c)](/\s*$/)[0x0],_0x28222e=_0x21485e[_0x11a28a(0x6b3)]();return _0x9086f2+'$'+_0x34eb23(_0x28222e)+'$'+_0x4e1a5c;};_0x3b1e40[_0xfe9ad6(0x8f9)](_0x1b222c=>{const _0x4b8746=_0xfe9ad6,_0x3e6c14=_0x462fc2(_0x1b222c);let _0x4785fc=_0x309163(_0x3e6c14);_0x4785fc=_0x4785fc[_0x4b8746(0xb64)](/\$([^$]*?)\$/g,(_0x3980be,_0x34f092)=>'$'+_0x34eb23(_0x34f092)+'$');const _0x30d8ba=_0x4785fc[_0x4b8746(0x9ae)](/(\s+)/),_0x3e8ca4=_0x30d8ba[_0x4b8746(0x141)](_0xc8b02f=>{const _0x5a0eef=_0x4b8746;if(/\s+/[_0x5a0eef(0x434)](_0xc8b02f))return _0xc8b02f;return _0x55ed7c(_0xc8b02f);});_0x4785fc=_0x3e8ca4[_0x4b8746(0x72e)](''),_0x4785fc!==_0x3e6c14&&(_0x50bcc4(_0x1b222c,_0x4785fc),_0x1bd839++);});if(_0x1bd839>0x0){showMessage(_0xfe9ad6(0x7cb)+_0x1bd839+_0xfe9ad6(0xcd8));try{window[_0xfe9ad6(0x5e4)]&&MathJax[_0xfe9ad6(0xd06)]&&MathJax[_0xfe9ad6(0xd06)]([_0x3864d7]);}catch(_0x4ab306){console[_0xfe9ad6(0xada)](_0xfe9ad6(0x3fc),_0x4ab306);}}else showMessage(_0xfe9ad6(0x99d));}function handleAutoFixLatex(){const _0x31ef4c=_0x157a22,_0x238f42=document['getElementById'](_0x31ef4c(0x4e4))||document,_0x2141f8=_0x238f42[_0x31ef4c(0x5f0)](_0x31ef4c(0xaa4));let _0x54e83c=0x0;const _0x4dc3e8=_0x455ee4=>_0x31ef4c(0xa9f)in _0x455ee4?String(_0x455ee4[_0x31ef4c(0xa9f)]):_0x455ee4[_0x31ef4c(0xdbb)]!==undefined?_0x455ee4[_0x31ef4c(0xdbb)]:_0x455ee4[_0x31ef4c(0xc76)]||'',_0x672e03=(_0x679ade,_0x3abef6)=>{const _0x3c5d56=_0x31ef4c;if(_0x3c5d56(0xa9f)in _0x679ade){_0x679ade[_0x3c5d56(0xa9f)]=_0x3abef6;return;}if(_0x679ade[_0x3c5d56(0xdd0)]&&_0x679ade['querySelector'](_0x3c5d56(0x8f4)))return;if(_0x679ade['innerText']!==undefined)_0x679ade[_0x3c5d56(0xdbb)]=_0x3abef6;else _0x679ade[_0x3c5d56(0xc76)]=_0x3abef6;},_0x20ff6e=_0x431f19=>_0x431f19['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x31ef4c(0xb64)](/\r\n?/g,'\x0a'),_0x2a6b49=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x3d89e0=_0x384f74=>{const _0xb7d843=_0x31ef4c;let _0x1b9eeb=_0x384f74[_0xb7d843(0x6b3)]();_0x1b9eeb=_0x1b9eeb[_0xb7d843(0xb64)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0xb7d843(0x568)),_0x1b9eeb=_0x1b9eeb[_0xb7d843(0xb64)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x2cbd85=[_0xb7d843(0xb2a),_0xb7d843(0x2a4),_0xb7d843(0x226),'cdot',_0xb7d843(0xcd3),'leq',_0xb7d843(0x967),_0xb7d843(0x3f1),'pm',_0xb7d843(0x926),'cos','tan',_0xb7d843(0x700),'ln'];_0x2cbd85[_0xb7d843(0x8f9)](_0x39f2f6=>{const _0x4b6616=_0xb7d843;_0x1b9eeb=_0x1b9eeb[_0x4b6616(0xb64)](new RegExp(_0x4b6616(0xc0d)+_0x39f2f6+'\x5cb','g'),(_0x5af87b,_0x17ace8)=>_0x17ace8+'\x5c'+_0x39f2f6);});const _0x507fb8=[[/×/g,'\x5ctimes'],[/·/g,_0xb7d843(0x453)],[/÷/g,_0xb7d843(0xcf8)],[/≤/g,_0xb7d843(0xbbc)],[/≥/g,_0xb7d843(0x58e)],[/≠/g,_0xb7d843(0x304)],[/±/g,'\x5cpm']];return _0x507fb8[_0xb7d843(0x8f9)](([_0x41ec92,_0x53f52f])=>{const _0x2d93c1=_0xb7d843;_0x1b9eeb=_0x1b9eeb[_0x2d93c1(0xb64)](_0x41ec92,_0x53f52f);}),_0x1b9eeb;},_0x51e4ce=_0x247f66=>{const _0x54ddaa=_0x31ef4c;if(/\$|\\\(|\\\[/[_0x54ddaa(0x434)](_0x247f66))return _0x247f66;if(!_0x2a6b49[_0x54ddaa(0x434)](_0x247f66))return _0x247f66;const _0x1eb910=_0x247f66[_0x54ddaa(0xd3c)](/^\s*/)[0x0],_0x1c06c9=_0x247f66[_0x54ddaa(0xd3c)](/\s*$/)[0x0],_0x545c42=_0x247f66[_0x54ddaa(0x6b3)]();return _0x1eb910+'$'+_0x3d89e0(_0x545c42)+'$'+_0x1c06c9;};_0x2141f8['forEach'](_0x54742f=>{const _0x53e3e3=_0x31ef4c,_0x26c322=_0x4dc3e8(_0x54742f);let _0x164cb5=_0x20ff6e(_0x26c322);_0x164cb5=_0x164cb5[_0x53e3e3(0xb64)](/\$([^$]*?)\$/g,(_0x317cc7,_0x587d0e)=>'$'+_0x3d89e0(_0x587d0e)+'$');const _0x43ed25=_0x164cb5[_0x53e3e3(0x9ae)](/(\s+)/),_0x21f8ec=_0x43ed25[_0x53e3e3(0x141)](_0xabb34b=>/\s+/[_0x53e3e3(0x434)](_0xabb34b)?_0xabb34b:_0x51e4ce(_0xabb34b));_0x164cb5=_0x21f8ec[_0x53e3e3(0x72e)](''),_0x164cb5!==_0x26c322&&(_0x672e03(_0x54742f,_0x164cb5),_0x54e83c++);});if(_0x54e83c>0x0){showMessage(_0x31ef4c(0xd1f)+_0x54e83c+_0x31ef4c(0xb47));try{if(window[_0x31ef4c(0x5e4)]&&MathJax['typesetPromise'])MathJax['typesetPromise']();}catch(_0x140bda){}}else showMessage(_0x31ef4c(0xc0f));}async function listenForCustomMathTopics(){const _0x2db6f0=_0x157a22,_0x55a1f3=collection(db,_0x2db6f0(0x331)+appId+_0x2db6f0(0xbf7));onSnapshot(_0x55a1f3,_0x391f92=>{const _0xd19e70=_0x2db6f0;customMathTopics=_0x391f92['docs'][_0xd19e70(0x141)](_0x27f562=>({'id':_0x27f562['id'],..._0x27f562[_0xd19e70(0xd60)]()})),renderTopicCheckboxes();},_0x398ce7=>{const _0x20836c=_0x2db6f0;console[_0x20836c(0xada)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x398ce7);});}function handleSelectAllTopics(){const _0x5d3655=_0x157a22,_0x483429=document[_0x5d3655(0xccc)]('math-topics-checkbox-container'),_0x3178bc=_0x483429[_0x5d3655(0x5f0)](_0x5d3655(0x21b));_0x3178bc[_0x5d3655(0x8f9)](_0x37e73e=>{const _0x3f308d=_0x5d3655;_0x37e73e[_0x3f308d(0x174)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4a5dd7=_0x157a22,_0x484978=document[_0x4a5dd7(0xccc)](_0x4a5dd7(0xe1d)),_0x1ae83e=_0x484978['querySelectorAll']('input[type=\x22checkbox\x22]');_0x1ae83e[_0x4a5dd7(0x8f9)](_0x46ec74=>{const _0x581dff=_0x4a5dd7;_0x46ec74[_0x581dff(0x174)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x149aea){const _0x51c915=_0x157a22;if(!_0x149aea)return;try{const _0x4e9fca=doc(db,'artifacts/'+appId+_0x51c915(0xbf7),_0x149aea);await deleteDoc(_0x4e9fca),showMessage(_0x51c915(0x229));}catch(_0x4901f2){console[_0x51c915(0xada)](_0x51c915(0x870),_0x4901f2),showMessage(_0x51c915(0xe85));}}async function handleAddCustomMathTopic(){const _0x1bcbc4=_0x157a22,_0x4fd033=document['getElementById'](_0x1bcbc4(0xd20)),_0x11c398=_0x4fd033[_0x1bcbc4(0xa9f)][_0x1bcbc4(0x6b3)]();if(!_0x11c398){showMessage(_0x1bcbc4(0x40f));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x1751f4=collection(db,_0x1bcbc4(0x331)+appId+_0x1bcbc4(0xbf7));await addDoc(_0x1751f4,{'name':_0x11c398,'createdAt':serverTimestamp()}),_0x4fd033[_0x1bcbc4(0xa9f)]='',showMessage(_0x1bcbc4(0x18c)+_0x11c398+_0x1bcbc4(0x7f4));}catch(_0xdb3a7f){console[_0x1bcbc4(0xada)](_0x1bcbc4(0x1dc),_0xdb3a7f),showMessage(_0x1bcbc4(0x567));}}async function handleUpdateOldQuizzes(){const _0x42d37e=_0x157a22;showConfirmation(_0x42d37e(0x63d),async()=>{const _0x5ac1f2=_0x42d37e,_0x36868f=document[_0x5ac1f2(0xccc)](_0x5ac1f2(0xdf)),_0x597fb9=document[_0x5ac1f2(0xccc)](_0x5ac1f2(0x38f)),_0x13fc72=_0x597fb9[_0x5ac1f2(0xc76)];_0x36868f[_0x5ac1f2(0x807)]['remove'](_0x5ac1f2(0x9f0)),_0x597fb9['textContent']=_0x5ac1f2(0x9c1);try{const _0x452dd1=collection(db,_0x5ac1f2(0x331)+appId+_0x5ac1f2(0x78d)),_0x3a5de0=await getDocs(_0x452dd1);if(_0x3a5de0[_0x5ac1f2(0x8bc)]){showMessage(_0x5ac1f2(0xdc7));return;}const _0x1ee072=writeBatch(db);let _0x317b1c=0x0;_0x3a5de0[_0x5ac1f2(0x8f9)](_0x3f6a6d=>{const _0x4afb9e=_0x5ac1f2,_0x22d7fe=_0x3f6a6d[_0x4afb9e(0xd60)](),_0x17e605=_0x3f6a6d['id'];if(_0x22d7fe[_0x4afb9e(0xdbf)]&&_0x22d7fe[_0x4afb9e(0xdbf)][_0x4afb9e(0x34a)]>0x0&&!_0x22d7fe[_0x4afb9e(0xdbf)][0x0][_0x4afb9e(0x51f)]('id')){console[_0x4afb9e(0x700)](_0x4afb9e(0x25e)+_0x17e605+'\x20('+_0x22d7fe[_0x4afb9e(0xe36)]+')'),_0x317b1c++;const _0xa049e9=_0x22d7fe['questions'][_0x4afb9e(0x141)]((_0x1da157,_0x3d87dc)=>{return{..._0x1da157,'id':_0x1da157['id']||'q_'+Date['now']()+'_'+_0x17e605+'_'+_0x3d87dc};}),_0x452d3f=doc(db,_0x4afb9e(0x331)+appId+_0x4afb9e(0x78d),_0x17e605);_0x1ee072['update'](_0x452d3f,{'questions':_0xa049e9});}}),_0x317b1c>0x0?(_0x597fb9[_0x5ac1f2(0xc76)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x317b1c+_0x5ac1f2(0xae9),await _0x1ee072[_0x5ac1f2(0x34c)](),showMessage(_0x5ac1f2(0x61b)+_0x317b1c+_0x5ac1f2(0xe75))):showMessage(_0x5ac1f2(0x619));}catch(_0x5b7c41){console[_0x5ac1f2(0xada)](_0x5ac1f2(0x63f),_0x5b7c41),showMessage(_0x5ac1f2(0x6f5)+_0x5b7c41[_0x5ac1f2(0x267)]);}finally{_0x36868f['classList'][_0x5ac1f2(0xcec)](_0x5ac1f2(0x9f0)),_0x597fb9['textContent']=_0x13fc72;}});}async function handleBulkUpdateQuizSettings(){const _0x1d4811=_0x157a22,_0x3bc3cf={'shuffle':document[_0x1d4811(0xccc)](_0x1d4811(0x103))[_0x1d4811(0xa9f)],'resultsDisplay':document['getElementById'](_0x1d4811(0xa96))[_0x1d4811(0xa9f)],'loopUntilPass':document[_0x1d4811(0xccc)](_0x1d4811(0x3d8))[_0x1d4811(0x174)],'isConfidenceScoringEnabled':document[_0x1d4811(0xccc)](_0x1d4811(0x945))[_0x1d4811(0x174)],'confidenceMode':document['getElementById'](_0x1d4811(0xc4))['value']};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x4f6ad3=await getDocs(collection(db,_0x1d4811(0x331)+appId+_0x1d4811(0x78d))),_0x339fbc=_0x4f6ad3[_0x1d4811(0xbe9)][_0x1d4811(0x141)](_0x529c19=>({'id':_0x529c19['id'],'data':_0x529c19['data']()})),_0x4c71ca=_0x339fbc['length'];showConfirmation(_0x1d4811(0x64e)+_0x4c71ca+_0x1d4811(0x803),async()=>{const _0x45ac07=_0x1d4811,_0x567dca=document[_0x45ac07(0xccc)](_0x45ac07(0x3e7));_0x567dca[_0x45ac07(0x7ef)]=!![],_0x567dca[_0x45ac07(0x93e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x206a98=writeBatch(db);_0x339fbc[_0x45ac07(0x8f9)](_0x2ca5e6=>{const _0x17c93c=_0x45ac07,_0x28870=doc(db,'artifacts/'+appId+_0x17c93c(0x78d),_0x2ca5e6['id']),_0x12f692={..._0x2ca5e6[_0x17c93c(0xd60)]['settings']||{},..._0x3bc3cf};_0x206a98['update'](_0x28870,{'settings':_0x12f692});}),await _0x206a98[_0x45ac07(0x34c)](),document[_0x45ac07(0xccc)](_0x45ac07(0xdb0))[_0x45ac07(0x807)][_0x45ac07(0xcec)](_0x45ac07(0x9f0)),showMessage(_0x45ac07(0x407)+_0x4c71ca+_0x45ac07(0x921));}catch(_0x370f55){console[_0x45ac07(0xada)](_0x45ac07(0x563),_0x370f55),showMessage(_0x45ac07(0x1ff));}finally{_0x567dca[_0x45ac07(0x7ef)]=![],_0x567dca['innerHTML']=_0x45ac07(0xa7c);}});}catch(_0x4b2ac3){console[_0x1d4811(0xada)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x4b2ac3),showMessage(_0x1d4811(0x532));}}async function handleSaveProjectName(){const _0x69d6fb=_0x157a22,_0x2360d6=document[_0x69d6fb(0xccc)]('project-title'),_0x2f4249=document[_0x69d6fb(0xccc)](_0x69d6fb(0x2ed)),_0x4fc377=_0x2360d6['textContent']['trim']();if(!_0x4fc377||!currentProjectId){showMessage(_0x69d6fb(0x154)),_0x2360d6[_0x69d6fb(0xc76)]=currentProjectData[_0x69d6fb(0x284)];return;}_0x2f4249[_0x69d6fb(0x7ef)]=!![],_0x2f4249[_0x69d6fb(0x93e)]=_0x69d6fb(0xac9);try{const _0x15550d=doc(db,_0x69d6fb(0x331)+appId+_0x69d6fb(0x21d),currentProjectId);await updateDoc(_0x15550d,{'projectName':_0x4fc377}),currentProjectData&&(currentProjectData['projectName']=_0x4fc377),showMessage(_0x69d6fb(0x249));}catch(_0x2fe554){console[_0x69d6fb(0xada)](_0x69d6fb(0x3b9),_0x2fe554),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x2360d6[_0x69d6fb(0xc76)]=currentProjectData[_0x69d6fb(0x284)];}finally{_0x2f4249['classList'][_0x69d6fb(0xcec)]('hidden'),_0x2f4249[_0x69d6fb(0x7ef)]=![],_0x2f4249['innerHTML']=_0x69d6fb(0x466);}}function handleGeneratePracticeTest(_0x4dd548,_0x13ac34){const _0x123a07=_0x157a22,_0x502b15=document['getElementById']('lesson-view-modal'),_0x282873=document[_0x123a07(0xccc)]('lesson-view-title'),_0x59d369=document[_0x123a07(0xccc)]('lesson-loader'),_0x46bd9d=document[_0x123a07(0xccc)](_0x123a07(0xa57));_0x282873[_0x123a07(0xc76)]=_0x123a07(0x778)+_0x4dd548,_0x46bd9d[_0x123a07(0x807)][_0x123a07(0xcec)](_0x123a07(0x9f0)),_0x59d369[_0x123a07(0x807)][_0x123a07(0x90e)](_0x123a07(0x9f0)),_0x502b15['classList'][_0x123a07(0x90e)]('hidden'),generatePracticeTest(_0x4dd548,_0x13ac34)[_0x123a07(0x43c)](_0x258b49=>{const _0x617879=_0x123a07;console[_0x617879(0xada)](_0x617879(0xb13),_0x258b49),showMessage(_0x617879(0x526)),_0x502b15[_0x617879(0x807)][_0x617879(0xcec)](_0x617879(0x9f0));});}async function generatePracticeTest(_0x5d3ac7,_0x51549d){const _0x53c268=_0x157a22;[_0x53c268(0x28e),_0x53c268(0x209),_0x53c268(0xda0),_0x53c268(0x36f)][_0x53c268(0x8f9)](_0x1aed4c=>{const _0x1b7767=_0x53c268,_0x196c89=document[_0x1b7767(0xccc)](_0x1aed4c)['parentElement'];_0x196c89&&(_0x196c89[_0x1b7767(0xb74)][_0x1b7767(0xaea)]=_0x1b7767(0x80b));});try{const _0x817a2a='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x15e6b8=_0x53c268(0xe96)+_0x51549d+_0x53c268(0x6d2)+_0x5d3ac7+_0x53c268(0x7bc),_0x31fc56=await callGemini(_0x15e6b8,!![]),_0x40df6c=document['getElementById']('lesson-view-title'),_0x4afeb0=document[_0x53c268(0xccc)](_0x53c268(0xcf9)),_0x449de1=document[_0x53c268(0xccc)](_0x53c268(0xa57)),_0x5b41c8=document['getElementById'](_0x53c268(0xda0))[_0x53c268(0x98e)];_0x40df6c[_0x53c268(0xdbb)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x5d3ac7[_0x53c268(0xb64)](/•\s/g,'')+_0x53c268(0x7a6)+_0x51549d+')',currentApplicationData=JSON[_0x53c268(0xcd5)](_0x31fc56);const _0x2775d0=document['getElementById']('applicationContent');_0x2775d0['innerHTML']=currentApplicationData[_0x53c268(0x141)]((_0x3636c3,_0x7c5a57)=>_0x53c268(0xc85)+(_0x7c5a57+0x1)+'.\x20'+marked[_0x53c268(0x14e)](_0x3636c3[_0x53c268(0x4c0)])+_0x53c268(0xcf)+_0x7c5a57+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3636c3['options'][_0x53c268(0x141)]((_0x69afb8,_0x498f77)=>_0x53c268(0xc52)+_0x7c5a57+',\x20'+_0x498f77+_0x53c268(0x29f)+String[_0x53c268(0xad9)](0x61+_0x498f77)+'.\x20'+marked[_0x53c268(0x14e)](_0x69afb8)+_0x53c268(0x754))[_0x53c268(0x72e)]('')+_0x53c268(0x789))[_0x53c268(0x72e)](''),window[_0x53c268(0x5e4)]&&MathJax['typesetPromise']([_0x2775d0]),_0x5b41c8&&(_0x5b41c8[_0x53c268(0xb74)][_0x53c268(0xaea)]=_0x53c268(0xad2)),_0x4afeb0[_0x53c268(0x807)]['add'](_0x53c268(0x9f0)),_0x449de1[_0x53c268(0x807)]['remove'](_0x53c268(0x9f0));}catch(_0x30af7d){console[_0x53c268(0xada)](_0x30af7d);throw _0x30af7d;}}async function callGemini(_0x2f5809,_0x10d964=![]){const _0x37946d=_0x157a22,_0x591489=_0x37946d(0x4ba),_0x1b668e=_0x37946d(0x184)+_0x591489,_0x20fce4={'contents':[{'parts':[{'text':_0x2f5809}]}]};_0x10d964&&(_0x20fce4['generationConfig']={'responseMimeType':'application/json'},_0x2f5809[_0x37946d(0x9e3)](_0x37946d(0x163))?_0x20fce4[_0x37946d(0xe8a)][_0x37946d(0xb49)]={'type':_0x37946d(0xd8a),'properties':{'gradeLevel':{'type':_0x37946d(0x685)},'curriculum':{'type':_0x37946d(0x83a),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x37946d(0x685)},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':_0x37946d(0x685)},'subTopics':{'type':_0x37946d(0x83a),'items':{'type':'STRING'}}},'required':[_0x37946d(0xd8),_0x37946d(0x80d)]}}},'required':[_0x37946d(0x47e),'mainTopics']}}},'required':[_0x37946d(0x424),_0x37946d(0xc77)]}:_0x20fce4[_0x37946d(0xe8a)][_0x37946d(0xb49)]={'type':_0x37946d(0x83a),'items':{'type':_0x37946d(0xd8a),'properties':{'question':{'type':_0x37946d(0x685)},'options':{'type':_0x37946d(0x83a),'items':{'type':_0x37946d(0x685)}},'answer':{'type':'NUMBER'}},'required':[_0x37946d(0x4c0),_0x37946d(0xaee),'answer']}});try{const _0x3df5e5=await fetch(_0x1b668e,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x37946d(0x5ad)](_0x20fce4)});if(!_0x3df5e5['ok']){const _0xe9e29=await _0x3df5e5[_0x37946d(0x84b)]();console[_0x37946d(0xada)](_0x37946d(0x3da),_0xe9e29);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x3df5e5['status']);}const _0xb62dd8=await _0x3df5e5[_0x37946d(0x596)]();if(_0xb62dd8[_0x37946d(0xe2)]&&_0xb62dd8['candidates'][0x0]['content']&&_0xb62dd8[_0x37946d(0xe2)][0x0][_0x37946d(0xd32)]['parts'][0x0])return _0xb62dd8[_0x37946d(0xe2)][0x0]['content']['parts'][0x0]['text'];else{console[_0x37946d(0xada)](_0x37946d(0x819),_0xb62dd8);if(_0xb62dd8['candidates']&&_0xb62dd8[_0x37946d(0xe2)][0x0][_0x37946d(0x1e8)]===_0x37946d(0x483))return JSON[_0x37946d(0x5ad)]({'error':_0x37946d(0xe73)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x5df9cb){console[_0x37946d(0xada)]('Error\x20calling\x20Gemini\x20API:',_0x5df9cb);throw _0x5df9cb;}}async function generateLesson(_0x21cf01=null,_0x59687b=null){const _0x2044ab=_0x157a22,_0xe0452=_0x21cf01,_0x2d643d=_0x59687b||_0x2044ab(0x49e),_0x20cf1e=document[_0x2044ab(0xccc)]('lesson-loader'),_0xe9e475=document['getElementById'](_0x2044ab(0xb6e));_0xe9e475[_0x2044ab(0xc76)]=_0x2044ab(0x49b)+_0xe0452+_0x2044ab(0x9ac);try{let _0x1a8808=[];const _0x5a0ed6=document['getElementById'](_0x2044ab(0x3a9))?.['value'][_0x2044ab(0x6b3)]();if(_0x5a0ed6)try{_0xe9e475[_0x2044ab(0xc76)]=_0x2044ab(0xba2);const _0x2093b1=await fetchFileFromUrl(_0x5a0ed6,_0x2044ab(0xde3)),_0x18fde3=await new Promise((_0x484212,_0x140c69)=>{const _0x3a0bfd=_0x2044ab,_0x31b42e=new FileReader();_0x31b42e[_0x3a0bfd(0xc7e)](_0x2093b1),_0x31b42e[_0x3a0bfd(0x96d)]=()=>_0x484212(_0x31b42e[_0x3a0bfd(0x1c8)][_0x3a0bfd(0x9ae)](',')[0x1]),_0x31b42e['onerror']=_0x140c69;});_0x1a8808[_0x2044ab(0xde9)]({'inlineData':{'mimeType':_0x2093b1[_0x2044ab(0xd10)],'data':_0x18fde3}});}catch(_0x1122ea){console[_0x2044ab(0xada)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x1122ea),showMessage(_0x2044ab(0x84a));}const _0x166e63='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0xe0452+_0x2044ab(0x37f)+_0xe0452+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0xe9e475[_0x2044ab(0xc76)]=_0x2044ab(0x49b)+_0xe0452+'\x22...';const _0x5e6e83='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x2d643d+_0x2044ab(0x6d2)+_0xe0452+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x166e63+_0x2044ab(0x551),_0x266040=_0x2044ab(0x4f0)+_0xe0452+_0x2044ab(0x11f)+_0x2d643d+_0x2044ab(0x13e)+_0x166e63+_0x2044ab(0x91d),_0x5a7bb2=_0x2044ab(0x7f5),_0x1f82e0=_0x2044ab(0xe96)+_0x2d643d+'\x27\x20ในหัวข้อ\x20\x27'+_0xe0452+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x166e63+_0x2044ab(0xa97)+_0x5a7bb2+_0x2044ab(0x337),_0x5c44c3='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0xe0452+_0x2044ab(0x39c)+_0x2d643d+_0x2044ab(0xd9d)+_0x166e63+_0x2044ab(0x4f9),_0x1dc9d1={'type':_0x2044ab(0x83a),'items':{'type':_0x2044ab(0xd8a),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x2044ab(0x685)}},'answer':{'type':_0x2044ab(0x96f)}},'required':[_0x2044ab(0x4c0),'options','answer']}},[_0x34effd,_0x3595bd,_0x808f3a,_0x5cdceb]=await Promise[_0x2044ab(0x3d5)]([handleApiCall([{'text':_0x5e6e83},..._0x1a8808],_0x2044ab(0xd5d),null,null,![]),handleApiCall([{'text':_0x266040},..._0x1a8808],_0x2044ab(0xd5d),null,null,![]),handleApiCall([{'text':_0x1f82e0},..._0x1a8808],'...',_0x1dc9d1,null,![]),handleApiCall([{'text':_0x5c44c3},..._0x1a8808],'...',null,null,![])]),_0x111f84=JSON['stringify'](_0x808f3a||[]),_0x486186=document[_0x2044ab(0xccc)](_0x2044ab(0x67a)),_0x13db0d=document[_0x2044ab(0xccc)](_0x2044ab(0xa57));_0x486186[_0x2044ab(0xdbb)]=_0x2044ab(0x499)+_0xe0452['replace'](/•\s/g,'')+_0x2044ab(0x7a6)+_0x2d643d+')',[_0x2044ab(0x28e),_0x2044ab(0x209),_0x2044ab(0x36f)][_0x2044ab(0x8f9)](_0x38036c=>{const _0x7a1b19=_0x2044ab;document['getElementById'](_0x38036c)[_0x7a1b19(0x93e)]='';}),document[_0x2044ab(0xccc)](_0x2044ab(0x28e))[_0x2044ab(0x93e)]=_0x34effd?marked[_0x2044ab(0xcd5)](_0x34effd):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById']('memoryContent')[_0x2044ab(0x93e)]=_0x3595bd?marked[_0x2044ab(0xcd5)](_0x3595bd):_0x2044ab(0x455),document['getElementById'](_0x2044ab(0x36f))[_0x2044ab(0x93e)]=_0x5cdceb?marked[_0x2044ab(0xcd5)](_0x5cdceb):_0x2044ab(0x455),currentApplicationData=JSON[_0x2044ab(0xcd5)](_0x111f84);const _0x2e2d63=document[_0x2044ab(0xccc)](_0x2044ab(0xda0));_0x2e2d63[_0x2044ab(0x93e)]=(currentApplicationData||[])[_0x2044ab(0x141)]((_0x31b73a,_0x1015d6)=>_0x2044ab(0xc85)+(_0x1015d6+0x1)+'.\x20'+marked['parseInline'](_0x31b73a[_0x2044ab(0x4c0)]||'')+_0x2044ab(0xcf)+_0x1015d6+_0x2044ab(0x724)+(_0x31b73a[_0x2044ab(0xaee)]||[])[_0x2044ab(0x141)]((_0xf87ad0,_0x97a470)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x1015d6+',\x20'+_0x97a470+_0x2044ab(0x29f)+String['fromCharCode'](0x61+_0x97a470)+'.\x20'+marked[_0x2044ab(0x14e)](_0xf87ad0||'')+_0x2044ab(0x754))[_0x2044ab(0x72e)]('')+_0x2044ab(0x789))[_0x2044ab(0x72e)]('')||_0x2044ab(0x614),window[_0x2044ab(0x5e4)]&&MathJax[_0x2044ab(0xd06)]([_0x13db0d]),_0x20cf1e['classList']['add'](_0x2044ab(0x9f0)),_0x13db0d[_0x2044ab(0x807)]['remove'](_0x2044ab(0x9f0));}catch(_0xb9c77d){console[_0x2044ab(0xada)](_0xb9c77d);throw _0xb9c77d;}}function checkAnswer(_0x1bfd20,_0x7f5a1c){const _0x3e049=_0x157a22,_0x3ad634=currentApplicationData[_0x1bfd20],_0x1edddc=document['getElementById']('q'+_0x1bfd20+_0x3e049(0x457)),_0x4eddb8=_0x1edddc[_0x3e049(0xb9f)](_0x3e049(0xb93));for(let _0x2c8a3d of _0x4eddb8){_0x2c8a3d[_0x3e049(0x7ef)]=!![];}_0x7f5a1c===_0x3ad634[_0x3e049(0x649)]?_0x4eddb8[_0x7f5a1c][_0x3e049(0x807)][_0x3e049(0xcec)]('correct'):(_0x4eddb8[_0x7f5a1c]['classList']['add']('incorrect'),_0x4eddb8[_0x3ad634[_0x3e049(0x649)]]['classList'][_0x3e049(0xcec)](_0x3e049(0x52a)));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x157a22(0xc8d)]=checkAnswer,window[_0x157a22(0x682)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x51faa7=_0x157a22;if(document['getElementById'](_0x51faa7(0xc3)))return;const _0x5d4edb='\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>';document[_0x51faa7(0x95a)]['insertAdjacentHTML'](_0x51faa7(0xe2f),_0x5d4edb),setupCropperButtons();}function setupCropperButtons(){const _0x4caa3f=_0x157a22;document[_0x4caa3f(0xccc)](_0x4caa3f(0x43e))[_0x4caa3f(0x7d6)](_0x4caa3f(0x343),()=>{const _0x23aa6e=_0x4caa3f;document['getElementById'](_0x23aa6e(0xc3))['classList'][_0x23aa6e(0xcec)]('hidden'),cropperInstance&&(cropperInstance[_0x23aa6e(0x5e7)](),cropperInstance=null),document[_0x23aa6e(0xccc)](_0x23aa6e(0x857))['value']='';}),document['getElementById'](_0x4caa3f(0x208))[_0x4caa3f(0x7d6)](_0x4caa3f(0x343),()=>{const _0x1d357e=_0x4caa3f;if(!cropperInstance)return;const _0x370446=document[_0x1d357e(0xccc)]('confirm-crop-btn'),_0x48c0fb=_0x370446[_0x1d357e(0x93e)];_0x370446[_0x1d357e(0x93e)]=_0x1d357e(0x958),_0x370446[_0x1d357e(0x7ef)]=!![],cropperInstance['getCroppedCanvas']()[_0x1d357e(0xc70)](async _0x39f870=>{const _0x3397c8=_0x1d357e;document[_0x3397c8(0xccc)](_0x3397c8(0xc3))[_0x3397c8(0x807)]['add']('hidden');const _0x2abda5=new File([_0x39f870],_0x3397c8(0x966),{'type':_0x3397c8(0xd26)});await handleScanImageForText(_0x2abda5),_0x370446[_0x3397c8(0x93e)]=_0x48c0fb,_0x370446[_0x3397c8(0x7ef)]=![],cropperInstance[_0x3397c8(0x5e7)](),cropperInstance=null;},_0x1d357e(0xd26));});}function startCropper(_0x57c081){const _0x2a5312=_0x157a22;ensureCropperModalExists();const _0x23a965=document[_0x2a5312(0xccc)](_0x2a5312(0xc3)),_0x866ca5=document[_0x2a5312(0xccc)](_0x2a5312(0xb03)),_0x2070da=new FileReader();_0x2070da[_0x2a5312(0x96d)]=_0x1a1fc6=>{const _0x2ea314=_0x2a5312;_0x866ca5[_0x2ea314(0xb33)]=_0x1a1fc6[_0x2ea314(0xc55)][_0x2ea314(0x1c8)],_0x23a965['classList'][_0x2ea314(0x90e)](_0x2ea314(0x9f0));if(cropperInstance)cropperInstance[_0x2ea314(0x5e7)]();cropperInstance=new Cropper(_0x866ca5,{'viewMode':0x1,'dragMode':_0x2ea314(0x2aa),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x2070da[_0x2a5312(0xc7e)](_0x57c081);}document[_0x157a22(0x7d6)](_0x157a22(0x45a),()=>{const _0x1cb019=_0x157a22,_0x33fd2a=document['getElementById']('camera-input'),_0xada6cc=document[_0x1cb019(0xccc)](_0x1cb019(0xca8));_0xada6cc&&_0x33fd2a&&(_0xada6cc[_0x1cb019(0x7d6)](_0x1cb019(0x343),()=>{const _0xa6e9ed=_0x1cb019;_0x33fd2a[_0xa6e9ed(0xa9f)]='',_0x33fd2a[_0xa6e9ed(0x343)]();}),_0x33fd2a[_0x1cb019(0x7d6)](_0x1cb019(0x1b7),_0x436b46=>{const _0xa550b5=_0x1cb019;_0x436b46[_0xa550b5(0xc55)][_0xa550b5(0x9ea)]&&_0x436b46[_0xa550b5(0xc55)][_0xa550b5(0x9ea)][_0xa550b5(0x34a)]>0x0&&startCropper(_0x436b46[_0xa550b5(0xc55)][_0xa550b5(0x9ea)][0x0]);}));});async function handleScanImageForText(_0x621fdf){const _0x581c8f=_0x157a22,_0x3bf939=document['getElementById'](_0x581c8f(0x493)),_0x125dbf=document['getElementById'](_0x581c8f(0xae8));if(!_0x621fdf)return;_0x125dbf['disabled']=!![],_0x125dbf[_0x581c8f(0x93e)]=_0x581c8f(0xd91),_0x3bf939[_0x581c8f(0x4e2)]=_0x581c8f(0x838);try{const _0x398a65=await new Promise((_0x4e3e64,_0x47b249)=>{const _0x2b4699=_0x581c8f,_0x477496=new FileReader();_0x477496[_0x2b4699(0xc7e)](_0x621fdf),_0x477496[_0x2b4699(0x96d)]=()=>_0x4e3e64(_0x477496[_0x2b4699(0x1c8)][_0x2b4699(0x9ae)](',')[0x1]),_0x477496[_0x2b4699(0x26d)]=_0x47b249;}),_0x3b462f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x39c97b=[{'text':_0x3b462f},{'inlineData':{'mimeType':_0x621fdf['type'],'data':_0x398a65}}],_0x3da8f9=await handleApiCall(_0x39c97b,_0x581c8f(0xd92),null,null,![]);if(_0x3da8f9){const _0x6028ae=_0x3bf939[_0x581c8f(0xa9f)]['trim']();_0x3bf939[_0x581c8f(0xa9f)]=_0x6028ae?_0x6028ae+'\x0a\x0a'+_0x3da8f9:_0x3da8f9,showMessage('สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ');}else throw new Error(_0x581c8f(0x603));}catch(_0x2655ec){console['error']('OCR\x20Error:',_0x2655ec),showMessage(_0x581c8f(0xde6)+_0x2655ec[_0x581c8f(0x267)]);}finally{_0x125dbf['disabled']=![],_0x125dbf[_0x581c8f(0x93e)]=_0x581c8f(0xe82),document['getElementById'](_0x581c8f(0x916))[_0x581c8f(0xa9f)]='';}}async function initialize(){const _0xd74713=_0x157a22;try{const _0x1577e4=initializeApp(firebaseConfig);db=getFirestore(_0x1577e4),auth=getAuth(_0x1577e4),setupAuthListener(),setupEventListeners(),showView(_0xd74713(0x213)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x8876bc){console[_0xd74713(0xada)]('Firebase\x20initialization\x20failed:',_0x8876bc),showMessage(_0xd74713(0x8ef));}}async function handleVerifyAnswersInEditor(){const _0x376a2f=_0x157a22,_0x2744e6=document[_0x376a2f(0xccc)](_0x376a2f(0xe25));if(!_0x2744e6)return;const _0x692e9=document[_0x376a2f(0xccc)](_0x376a2f(0xade));_0x692e9['disabled']=!![],_0x692e9[_0x376a2f(0x93e)]=_0x376a2f(0x5db);try{const _0xc1c98d=_0x2744e6[_0x376a2f(0x5f0)]('.question-editor-item'),_0x1ff912=Array[_0x376a2f(0x2d0)](_0xc1c98d)['map']((_0x13342c,_0x46f5a9)=>{const _0x4e05f5=_0x376a2f,_0x142a3c=_0x13342c[_0x4e05f5(0x87a)][_0x4e05f5(0x170)],_0x2aad3b=_0x13342c[_0x4e05f5(0xdd0)]('textarea')[_0x4e05f5(0xa9f)];let _0x266d00=null,_0x149db1='';switch(_0x142a3c){case _0x4e05f5(0x75f):const _0x3c0e5b=_0x13342c[_0x4e05f5(0x5f0)](_0x4e05f5(0x1de));_0x266d00=Array[_0x4e05f5(0x2d0)](_0x3c0e5b)[_0x4e05f5(0x141)](_0x12f97f=>_0x12f97f[_0x4e05f5(0xa9f)]);const _0x93f942=_0x13342c[_0x4e05f5(0xdd0)](_0x4e05f5(0x9f7));_0x93f942&&(_0x149db1=_0x266d00[parseInt(_0x93f942[_0x4e05f5(0xa9f)])]||'');break;case _0x4e05f5(0xb27):case _0x4e05f5(0xdf0):_0x266d00=[],_0x149db1=_0x13342c[_0x4e05f5(0xdd0)](_0x4e05f5(0x3aa))['value'];break;case'true_false':_0x266d00=['true',_0x4e05f5(0xb54)];const _0x1a370f=_0x13342c[_0x4e05f5(0xdd0)](_0x4e05f5(0x9f7));_0x149db1=_0x1a370f?_0x1a370f['value']:'';break;case _0x4e05f5(0x283):_0x266d00=[],_0x149db1=_0x13342c['querySelector'](_0x4e05f5(0x254))[_0x4e05f5(0xa9f)];break;}return{'questionIndex':_0x46f5a9,'questionType':_0x142a3c,'question':_0x2aad3b,'options':_0x266d00,'proposedAnswer':_0x149db1};}),_0x52937d=_0x376a2f(0xef)+JSON[_0x376a2f(0x5ad)](_0x1ff912)+_0x376a2f(0xd81),_0x3a4835={'type':_0x376a2f(0x83a),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x376a2f(0x685)},'correctOptionExists':{'type':_0x376a2f(0x3cb)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x376a2f(0xd8a),'properties':{'newOptions':{'type':_0x376a2f(0x83a),'items':{'type':_0x376a2f(0x685)}},'newCorrectIndex':{'type':_0x376a2f(0x96f)}},'required':[_0x376a2f(0xd18),_0x376a2f(0x1f9)]}},'required':[_0x376a2f(0xb87),_0x376a2f(0xa04),'justification']}},_0x157478=await callAnalysisApi(_0x52937d,{'type':_0x376a2f(0xd8a),'properties':{'result':_0x3a4835},'required':[_0x376a2f(0x1c8)]});if(_0x157478&&_0x157478[_0x376a2f(0x1c8)])displayVerificationResultsInEditor(_0x157478[_0x376a2f(0x1c8)]);else throw new Error('AI\x20ไม่ส่งผลลัพธ์กลับมา');}catch(_0x3c8646){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x3c8646),showMessage(_0x376a2f(0x17d)+_0x3c8646[_0x376a2f(0x267)]);}finally{_0x692e9[_0x376a2f(0x7ef)]=![],_0x692e9[_0x376a2f(0x93e)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x30c5c6){const _0xa3a8fd=_0x157a22;_0x30c5c6[_0xa3a8fd(0x8f9)](_0xe53d83=>{const _0x4f7c9b=_0xa3a8fd,_0x273c95=document[_0x4f7c9b(0xdd0)]('.question-editor-item[data-q-index=\x22'+_0xe53d83[_0x4f7c9b(0xb87)]+'\x22]');if(!_0x273c95)return;const _0x51df55=_0x273c95[_0x4f7c9b(0xdd0)]('.verification-result-editor');if(_0x51df55)_0x51df55[_0x4f7c9b(0x90e)]();let _0x1d5f50='';if(_0xe53d83[_0x4f7c9b(0x441)]&&_0xe53d83['newOptionsPayload'][_0x4f7c9b(0xd18)]){const _0x544f11=_0xe53d83[_0x4f7c9b(0x441)][_0x4f7c9b(0xd18)],_0x5516d4=_0xe53d83[_0x4f7c9b(0x441)][_0x4f7c9b(0x1f9)],_0x384a97=_0x273c95['dataset'][_0x4f7c9b(0x170)];if(_0x384a97==='multiple_choice'){const _0x5a892f=_0x273c95[_0x4f7c9b(0x5f0)](_0x4f7c9b(0x1de));_0x5a892f[_0x4f7c9b(0x8f9)]((_0xe3adcf,_0x4dcacd)=>{const _0x334499=_0x4f7c9b;_0x544f11[_0x4dcacd]?_0xe3adcf[_0x334499(0xa9f)]=_0x544f11[_0x4dcacd]:_0xe3adcf[_0x334499(0xa9f)]=_0x334499(0x769);});const _0x154939=_0x273c95[_0x4f7c9b(0xdd0)](_0x4f7c9b(0x8f5)+_0x5516d4+'\x22]');_0x154939&&(_0x154939[_0x4f7c9b(0x174)]=!![]),_0x1d5f50='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x273c95[_0x4f7c9b(0x807)]['add']('bg-yellow-200',_0x4f7c9b(0x36a),_0x4f7c9b(0x510)),setTimeout(()=>{const _0x10d97b=_0x4f7c9b;_0x273c95[_0x10d97b(0x807)][_0x10d97b(0x90e)]('bg-yellow-200');},0x9c4);}}else{if(!_0xe53d83[_0x4f7c9b(0xa04)]&&_0xe53d83[_0x4f7c9b(0x28d)]){const _0x5b018a=_0xe53d83[_0x4f7c9b(0x28d)]?_0x4f7c9b(0x1b9):'';_0x1d5f50='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x5b018a+_0x4f7c9b(0x149)+_0xe53d83[_0x4f7c9b(0x6ce)]+_0x4f7c9b(0x107)+(_0xe53d83['suggestedAnswer']?_0x4f7c9b(0xdee)+_0xe53d83[_0x4f7c9b(0x28d)]+_0x4f7c9b(0x723):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x5ea61e=_0x273c95[_0x4f7c9b(0x87a)][_0x4f7c9b(0x170)],_0x16c138=_0x3ead2d=>{const _0x1d4b92=_0x4f7c9b;if(!_0x3ead2d)return;_0x3ead2d['classList'][_0x1d4b92(0xcec)]('bg-green-200',_0x1d4b92(0x36a),_0x1d4b92(0x510)),setTimeout(()=>{const _0x4c5314=_0x1d4b92;_0x3ead2d[_0x4c5314(0x807)][_0x4c5314(0x90e)](_0x4c5314(0x398));},0x9c4);};if(_0x5ea61e===_0x4f7c9b(0x75f)){const _0x3e87c2=Array[_0x4f7c9b(0x2d0)](_0x273c95['querySelectorAll'](_0x4f7c9b(0x1de))),_0x30686d=_0x3e87c2[_0x4f7c9b(0xb42)](_0x499775=>_0x499775[_0x4f7c9b(0xa9f)][_0x4f7c9b(0x6b3)]()[_0x4f7c9b(0x8e9)]()===_0xe53d83['suggestedAnswer'][_0x4f7c9b(0x6b3)]()[_0x4f7c9b(0x8e9)]());if(_0x30686d!==-0x1){const _0x3aee3b=_0x273c95[_0x4f7c9b(0xdd0)](_0x4f7c9b(0x8f5)+_0x30686d+'\x22]');_0x3aee3b&&(_0x3aee3b['checked']=!![],_0x16c138(_0x3aee3b[_0x4f7c9b(0x43a)]('div')));}}else{if(_0x5ea61e==='short_answer'||_0x5ea61e===_0x4f7c9b(0x283)){const _0x1859ad=_0x273c95[_0x4f7c9b(0xdd0)](_0x4f7c9b(0x629));_0x1859ad&&(_0x1859ad['value']=_0xe53d83['suggestedAnswer'],_0x16c138(_0x1859ad));}else{if(_0x5ea61e===_0x4f7c9b(0xc6b)){const _0x4cbfb5=_0xe53d83[_0x4f7c9b(0x28d)][_0x4f7c9b(0x6b3)]()[_0x4f7c9b(0x8e9)](),_0x8b0fc=_0x273c95[_0x4f7c9b(0xdd0)](_0x4f7c9b(0x8f5)+_0x4cbfb5+'\x22]');_0x8b0fc&&(_0x8b0fc[_0x4f7c9b(0x174)]=!![],_0x16c138(_0x8b0fc[_0x4f7c9b(0x43a)]('div')));}}}}else _0xe53d83['isCorrect']&&(_0x1d5f50=_0x4f7c9b(0x9f3));}_0x273c95[_0x4f7c9b(0x97f)](_0x4f7c9b(0xe2f),_0x1d5f50);}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0xdd1b9f=_0x157a22;if(!currentQuizData||!currentQuizData[_0xdd1b9f(0xdbf)]){showMessage(_0xdd1b9f(0xbef));return;}const _0xda7555=document['getElementById'](_0xdd1b9f(0xc86));_0xda7555[_0xdd1b9f(0x7ef)]=!![],_0xda7555[_0xdd1b9f(0x93e)]=_0xdd1b9f(0x5db);try{const _0x152cd7=currentQuizData['questions']['map']((_0x508ae5,_0x3e0127)=>{const _0x5adb0d=_0xdd1b9f;let _0x5e2b87='';const _0x19e68b=_0x508ae5['questionType']||currentQuizData[_0x5adb0d(0x7fc)];switch(_0x19e68b){case _0x5adb0d(0x75f):_0x5e2b87=_0x508ae5[_0x5adb0d(0xaee)][_0x508ae5[_0x5adb0d(0x2bd)]];break;case'short_answer':_0x5e2b87=_0x508ae5[_0x5adb0d(0x314)];break;case _0x5adb0d(0xc6b):_0x5e2b87=_0x508ae5[_0x5adb0d(0xcab)][_0x5adb0d(0x438)]();break;case _0x5adb0d(0x283):_0x5e2b87=_0x508ae5[_0x5adb0d(0xb75)];break;}return{'question':_0x508ae5['stem']||_0x508ae5[_0x5adb0d(0x885)],'options':_0x508ae5[_0x5adb0d(0xaee)]||null,'proposedAnswer':_0x5e2b87};}),_0x30d752=_0xdd1b9f(0xddd)+JSON[_0xdd1b9f(0x5ad)](_0x152cd7)+_0xdd1b9f(0x503),_0x2d11a5={'type':'ARRAY','items':{'type':_0xdd1b9f(0xd8a),'properties':{'questionIndex':{'type':_0xdd1b9f(0x96f)},'isCorrect':{'type':_0xdd1b9f(0x3cb)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':[_0xdd1b9f(0xb87),'isCorrect',_0xdd1b9f(0x6ce)]}},_0x286046=await callAnalysisApi(_0x30d752,{'type':_0xdd1b9f(0xd8a),'properties':{'result':_0x2d11a5},'required':[_0xdd1b9f(0x1c8)]});displayVerificationResults(_0x286046[_0xdd1b9f(0x1c8)]);}catch(_0x35c47c){console[_0xdd1b9f(0xada)]('Error\x20verifying\x20answers:',_0x35c47c),showMessage(_0xdd1b9f(0x6f7));}finally{_0xda7555[_0xdd1b9f(0x7ef)]=![],_0xda7555[_0xdd1b9f(0x93e)]=_0xdd1b9f(0x250);}}function displayVerificationResults(_0x19c182){const _0x153f27=_0x157a22;_0x19c182['forEach'](_0x35d8cb=>{const _0x1b1f9b=_0x28ee,_0x837442=document[_0x1b1f9b(0xdd0)]('div[data-question-index=\x22'+_0x35d8cb[_0x1b1f9b(0xb87)]+'\x22]');if(_0x837442){const _0x31faae=_0x837442[_0x1b1f9b(0xdd0)](_0x1b1f9b(0x32a));if(_0x31faae)_0x31faae[_0x1b1f9b(0x90e)]();let _0x494075='';_0x35d8cb[_0x1b1f9b(0xa04)]?_0x494075=_0x1b1f9b(0x604):_0x494075=_0x1b1f9b(0x2e5)+_0x35d8cb['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x35d8cb[_0x1b1f9b(0x28d)]?_0x1b1f9b(0xdee)+_0x35d8cb['suggestedAnswer']+_0x1b1f9b(0x723):'')+_0x1b1f9b(0x9dc),_0x837442[_0x1b1f9b(0x97f)](_0x1b1f9b(0xe2f),_0x494075);}}),showMessage(_0x153f27(0xbd6));}function compareNumericalAnswers(_0x3a65eb,_0x36ea37){const _0x317e3d=_0x157a22,_0x4bf785=String(_0x3a65eb)[_0x317e3d(0xb64)](',','.')['replace'](/[^\d.-]/g,'')[_0x317e3d(0x6b3)](),_0x5cb883=String(_0x36ea37)[_0x317e3d(0xb64)](',','.')[_0x317e3d(0xb64)](/[^\d.-]/g,'')[_0x317e3d(0x6b3)]();if(_0x4bf785===''||_0x5cb883==='')return![];const _0x39d093=parseFloat(_0x4bf785),_0x510c6b=parseFloat(_0x5cb883);if(isNaN(_0x39d093)||isNaN(_0x510c6b))return![];return Math[_0x317e3d(0x1e5)](_0x39d093-_0x510c6b)<0.001;}function isPotentiallyNumeric(_0x3969a7){const _0x1c6add=_0x157a22;if(typeof _0x3969a7!=='string'&&typeof _0x3969a7!==_0x1c6add(0xba4))return![];const _0x4bff9a=String(_0x3969a7)[_0x1c6add(0xb64)](',','.')[_0x1c6add(0x6b3)]();return _0x4bff9a!==''&&!isNaN(parseFloat(_0x4bff9a))&&isFinite(_0x4bff9a);}async function gradeShortAnswer(_0xfd87c,_0x1d4020){const _0x443efd=_0x157a22,_0x117576=_0x1d4020[_0x443efd(0x314)],_0x573d03=String(_0xfd87c)[_0x443efd(0xb64)](/\$/g,'')['trim'](),_0x149cf8=String(_0x117576)['replace'](/\$/g,'')[_0x443efd(0x6b3)]();if(_0x573d03[_0x443efd(0x8e9)]()===_0x149cf8[_0x443efd(0x8e9)]())return!![];if(isPotentiallyNumeric(_0x573d03)&&isPotentiallyNumeric(_0x149cf8)){if(compareNumericalAnswers(_0x573d03,_0x149cf8))return!![];}return console[_0x443efd(0x700)](_0x443efd(0x713)),![];}async function revealAnswerForAdmin(_0x3437a7,_0x391b45){const _0x2da6ef=_0x157a22,_0x3d8417=doc(db,_0x2da6ef(0x331)+appId+_0x2da6ef(0xaa9),currentLiveGameId);await updateDoc(_0x3d8417,{'questionStatus':_0x2da6ef(0x9f6)});}function showTop5LeaderboardView(_0x40a4ea){const _0x428b24=_0x157a22,_0x239b63=Object[_0x428b24(0x11b)](_0x40a4ea[_0x428b24(0xded)]||{})['filter'](_0xd4ecaf=>_0xd4ecaf['status']==='active');_0x239b63[_0x428b24(0x4b3)]((_0x1a8b40,_0x5f1d98)=>_0x5f1d98['score']-_0x1a8b40[_0x428b24(0x5c3)]);const _0x4a2ca0=_0x239b63[_0x428b24(0xd3d)](0x0,0x5),_0x8ea9b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a2ca0['map']((_0x409aab,_0x547ac1)=>_0x428b24(0x4c6)+(_0x547ac1+0x1)+'.\x20'+(_0x409aab['name']||Object[_0x428b24(0x69e)](_0x40a4ea[_0x428b24(0xded)])['find'](_0x3a4c0f=>_0x40a4ea['players'][_0x3a4c0f]===_0x409aab))+_0x428b24(0xd2b)+_0x409aab[_0x428b24(0x5c3)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x428b24(0x72e)]('')+_0x428b24(0x7c3)+(_0x40a4ea['currentQuestionIndex']+0x1===currentQuizData[_0x428b24(0xdbf)]['length']?_0x428b24(0xa4f):_0x428b24(0xba7))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x428b24(0x93e)]=_0x8ea9b4,document[_0x428b24(0xccc)](_0x428b24(0x85b))['addEventListener'](_0x428b24(0x343),async()=>{const _0x4cc646=_0x428b24,_0x560d99=doc(db,'artifacts/'+appId+_0x4cc646(0xaa9),currentLiveGameId),_0x255c7b=_0x40a4ea[_0x4cc646(0x8cb)]+0x1;if(_0x255c7b<currentQuizData['questions']['length']){const _0x55c4f4={'currentQuestionIndex':_0x255c7b,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x4cc646(0x69e)](_0x40a4ea[_0x4cc646(0xded)])[_0x4cc646(0x8f9)](_0x51414c=>{const _0x3187e8=_0x4cc646;_0x55c4f4['players.'+_0x51414c+_0x3187e8(0x1f4)]=![];}),await updateDoc(_0x560d99,_0x55c4f4);}else await updateDoc(_0x560d99,{'status':_0x4cc646(0x863)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2e9042=>{const _0x199584=_0x28ee;if(_0x2e9042){userId=_0x2e9042['uid'],userIdDisplay['textContent']=userId;const _0x215395=await loadUserPreferences();_0x215395['projectSortOrder']&&(document[_0x199584(0xccc)]('project-sort-select')[_0x199584(0xa9f)]=_0x215395[_0x199584(0x3b4)]);globalDashboardSettings[_0x199584(0x5bf)]=_0x215395[_0x199584(0x5bf)]||_0x199584(0x799);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x207529,_0x4657f4){const _0x9315f2=_0x157a22;if(!userId)return;try{const _0xb4a226=doc(db,'artifacts/'+appId+_0x9315f2(0xe92)+userId+_0x9315f2(0xd34)),_0x258106={};_0x258106[_0x207529]=_0x4657f4,await setDoc(_0xb4a226,_0x258106,{'merge':!![]});}catch(_0x2bc611){console[_0x9315f2(0xada)]('Error\x20saving\x20user\x20preference:',_0x2bc611);}}async function loadUserPreferences(){const _0x5fdfae=_0x157a22;if(!userId)return{};try{const _0x1e08d2=doc(db,_0x5fdfae(0x331)+appId+_0x5fdfae(0xe92)+userId+_0x5fdfae(0xd34)),_0xd7049e=await getDoc(_0x1e08d2);if(_0xd7049e[_0x5fdfae(0xc43)]())return _0xd7049e[_0x5fdfae(0xd60)]();return{};}catch(_0x332f58){return console[_0x5fdfae(0xada)](_0x5fdfae(0x495),_0x332f58),{};}}function parseIndentedBlueprint(_0x67ad8a){const _0x40b77a=_0x157a22,_0x2c740a=_0x67ad8a['split']('\x0a')[_0x40b77a(0x512)](_0x5b5d40=>_0x5b5d40[_0x40b77a(0x6b3)]()!==''),_0x8fe6cf=[];let _0x32daf4=null,_0x47584b=null;return _0x2c740a[_0x40b77a(0x8f9)](_0x168f03=>{const _0x21012b=_0x40b77a,_0x56d7ed=_0x168f03[_0x21012b(0xd3c)](/^\s*/)[0x0]['length'],_0x128f9a=_0x168f03['trim']();if(_0x56d7ed===0x0)_0x32daf4={'sara':_0x128f9a,'mainTopics':[]},_0x8fe6cf[_0x21012b(0xde9)](_0x32daf4),_0x47584b=null;else{if(_0x56d7ed>0x0&&_0x56d7ed<0x8&&_0x32daf4)_0x47584b={'topicName':_0x128f9a,'subTopics':[]},_0x32daf4[_0x21012b(0x21e)][_0x21012b(0xde9)](_0x47584b);else _0x56d7ed>=0x8&&_0x47584b&&_0x47584b[_0x21012b(0x80d)][_0x21012b(0xde9)](_0x128f9a);}}),{'curriculum':_0x8fe6cf};}async function handleManualBlueprintSave(){const _0x2d1e61=_0x157a22,_0xd7b1a0=document[_0x2d1e61(0xccc)](_0x2d1e61(0x42b))[_0x2d1e61(0xa9f)][_0x2d1e61(0x6b3)](),_0x536a12=document[_0x2d1e61(0xccc)]('manual-bp-grade-level')['value'][_0x2d1e61(0x6b3)](),_0x1f8a51=document[_0x2d1e61(0xccc)](_0x2d1e61(0x415))[_0x2d1e61(0xa9f)];if(!_0xd7b1a0||!_0x536a12||!_0x1f8a51){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x5f46b1=parseIndentedBlueprint(_0x1f8a51);if(!_0x5f46b1[_0x2d1e61(0xc77)]||_0x5f46b1['curriculum'][_0x2d1e61(0x34a)]===0x0){showMessage(_0x2d1e61(0xce6));return;}const _0x4b453a={};let _0x4e63e4=0x0;_0x5f46b1[_0x2d1e61(0xc77)][_0x2d1e61(0x8f9)](_0x5b9146=>{const _0x3ddb0a=_0x2d1e61;_0x5b9146[_0x3ddb0a(0x21e)][_0x3ddb0a(0x8f9)](_0x40fd61=>{const _0x9805e0=_0x3ddb0a;_0x40fd61[_0x9805e0(0x80d)][_0x9805e0(0x8f9)](_0x360c8e=>{const _0x12a750=_0x9805e0,_0x2f7c59=_0x12a750(0xdc9)+Date[_0x12a750(0x338)]()+Math[_0x12a750(0x373)]()[_0x12a750(0x438)](0x24)['substr'](0x2,0x9);_0x4b453a[_0x2f7c59]={'sara':_0x5b9146[_0x12a750(0x47e)],'mainTopic':_0x40fd61['topicName'],'subTopic':_0x360c8e,'status':_0x12a750(0x5bc),'lessonContent':null,'order':_0x4e63e4++};});});});try{const _0x5ccd86=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x5ccd86,{'projectName':_0xd7b1a0,'gradeLevel':_0x536a12,'topics':_0x4b453a,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0xd7b1a0+_0x2d1e61(0x7dd)),document[_0x2d1e61(0xccc)](_0x2d1e61(0x3e4))[_0x2d1e61(0x807)][_0x2d1e61(0xcec)]('hidden');}catch(_0x34e221){console[_0x2d1e61(0xada)](_0x2d1e61(0xb8c),_0x34e221),showMessage(_0x2d1e61(0x317));}}function handleClearAllLinksForTopic(_0x3456b5){const _0x11d397=_0x157a22;showConfirmation(_0x11d397(0x8e1),async()=>{const _0x55b50c=_0x11d397;try{const _0x20e04c=doc(db,_0x55b50c(0x331)+appId+_0x55b50c(0x160),currentBlueprintProjectId);await updateDoc(_0x20e04c,{[_0x55b50c(0x6d1)+_0x3456b5+'.linkedQuizIds']:[]}),showMessage(_0x55b50c(0xcc3)),openTopicQuizBank(_0x3456b5),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4ea2a9){console['error'](_0x55b50c(0x412),_0x4ea2a9),showMessage(_0x55b50c(0x53a));}});}function showPodiumView(_0x234583,_0x1d18f5=_0x157a22(0xbf4),_0x476d60=null){const _0x17c60a=_0x157a22,_0x22ff44=_0x476d60?.[_0x17c60a(0xc1b)]===!![],_0x2c62cc=Object[_0x17c60a(0xbd3)](_0x234583)['map'](([_0x394e1b,_0x27d4c5])=>({'name':_0x394e1b,'realScore':_0x27d4c5[_0x17c60a(0xd53)]||_0x27d4c5['score']||0x0,'totalPoints':_0x27d4c5['totalPoints']||0x0,'badges':_0x27d4c5[_0x17c60a(0x6d4)]||[],'hasPerfectScoreBonus':_0x27d4c5[_0x17c60a(0x80c)]||![],'correctStreak':_0x27d4c5[_0x17c60a(0x55b)]||0x0})),_0x126d5b=Math[_0x17c60a(0xaa7)](..._0x2c62cc[_0x17c60a(0x141)](_0x1a5fdc=>_0x1a5fdc[_0x17c60a(0xaa6)]),-Infinity),_0x4694b9=Math['max'](..._0x2c62cc[_0x17c60a(0x141)](_0x27472d=>_0x27472d['realScore']),-Infinity);_0x2c62cc[_0x17c60a(0x4b3)]((_0x4ded30,_0x20ec81)=>{const _0x2f9870=_0x17c60a;if(_0x22ff44){const _0x40c647=_0x20ec81[_0x2f9870(0xaa6)]-_0x4ded30[_0x2f9870(0xaa6)];if(_0x40c647!==0x0)return _0x40c647;const _0x59d330=_0x20ec81[_0x2f9870(0xd53)]-_0x4ded30['realScore'];if(_0x59d330!==0x0)return _0x59d330;return _0x4ded30[_0x2f9870(0x190)][_0x2f9870(0x2ef)](_0x20ec81[_0x2f9870(0x190)],'th');}else{const _0x1cf978=_0x20ec81['totalPoints']-_0x4ded30[_0x2f9870(0xaa6)];if(_0x1cf978!==0x0)return _0x1cf978;const _0x48c4d6=_0x20ec81[_0x2f9870(0xd53)]-_0x4ded30['realScore'];if(_0x48c4d6!==0x0)return _0x48c4d6;return _0x4ded30[_0x2f9870(0x190)]['localeCompare'](_0x20ec81[_0x2f9870(0x190)],'th');}});let _0x264e78=0x1;for(let _0x2768f4=0x0;_0x2768f4<_0x2c62cc[_0x17c60a(0x34a)];_0x2768f4++){if(_0x2768f4>0x0){const _0x1484d4=_0x2c62cc[_0x2768f4-0x1],_0x24fd53=_0x2c62cc[_0x2768f4],_0x154119=_0x24fd53[_0x17c60a(0xaa6)]===_0x1484d4['totalPoints']&&_0x24fd53[_0x17c60a(0xd53)]===_0x1484d4[_0x17c60a(0xd53)];!_0x154119&&(_0x264e78=_0x2768f4+0x1);}_0x2c62cc[_0x2768f4][_0x17c60a(0xe89)]=_0x264e78;}const _0x348281=_0x4bf7f3=>{const _0x3bcd24=_0x17c60a;if(!_0x4bf7f3||_0x4bf7f3['length']===0x0)return'';const _0x14a579={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3bcd24(0xafb)+_0x4bf7f3[_0x3bcd24(0x141)](_0x17efbe=>_0x14a579[_0x17efbe]||'')[_0x3bcd24(0x72e)]('')+_0x3bcd24(0x6ae);},_0x1b7073=_0x444c0c=>{const _0x1d8e8d=_0x17c60a;let _0x294976='';if(_0x22ff44){if(_0x444c0c[_0x1d8e8d(0xaa6)]===_0x126d5b&&_0x126d5b>0x0)_0x294976+='<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20';if(_0x444c0c[_0x1d8e8d(0xd53)]===_0x4694b9&&_0x4694b9>0x0)_0x294976+=_0x1d8e8d(0x3ea);}else{if(_0x444c0c[_0x1d8e8d(0x80c)])_0x294976=_0x1d8e8d(0x627);}let _0x5d5721='';_0x444c0c[_0x1d8e8d(0x55b)]>=0x3&&(_0x5d5721=_0x1d8e8d(0x65b)+_0x444c0c[_0x1d8e8d(0x55b)]+'</span>');if(_0x22ff44){const _0x155e01=_0x444c0c['totalPoints']>=0x0?'(+'+_0x444c0c['totalPoints'][_0x1d8e8d(0x84e)]()+')':'('+_0x444c0c[_0x1d8e8d(0xaa6)]['toLocaleString']()+')';return _0x1d8e8d(0x631)+_0x444c0c[_0x1d8e8d(0xd53)]+_0x1d8e8d(0xb6f)+_0x155e01+_0x1d8e8d(0xe8b)+_0x294976+_0x5d5721+_0x1d8e8d(0x609);}else return _0x1d8e8d(0x631)+_0x444c0c[_0x1d8e8d(0xaa6)][_0x1d8e8d(0x84e)]()+_0x1d8e8d(0x332)+_0x294976+_0x5d5721+_0x1d8e8d(0x609);},_0xf2906e=_0x39a1d3=>{const _0x4acbf9=_0x17c60a;if(_0x39a1d3>=0x3)return _0x4acbf9(0x142)+_0x39a1d3+'</span>';return'';},_0x39b6ea=_0x2c62cc[_0x17c60a(0xd3d)](0x3),_0x8691fa=_0x39b6ea[_0x17c60a(0x34a)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39b6ea['map']((_0x18a625,_0x8a2323)=>{const _0x5bb97d=_0x17c60a;let _0x5be013='';if(_0x22ff44){if(_0x18a625[_0x5bb97d(0xaa6)]===_0x126d5b&&_0x126d5b>0x0)_0x5be013+=_0x5bb97d(0x99a);if(_0x18a625[_0x5bb97d(0xd53)]===_0x4694b9&&_0x4694b9>0x0)_0x5be013+=_0x5bb97d(0x559);}let _0x4f0b8f='';return _0x22ff44?_0x4f0b8f=_0x18a625[_0x5bb97d(0xd53)]+'\x20คะแนน\x20('+_0x18a625[_0x5bb97d(0xaa6)][_0x5bb97d(0x84e)]()+')':_0x4f0b8f=_0x18a625['totalPoints'][_0x5bb97d(0x84e)]()+_0x5bb97d(0x196),_0x5bb97d(0x98c)+_0x18a625[_0x5bb97d(0xe89)]+_0x5bb97d(0xd44)+_0x18a625[_0x5bb97d(0x190)]+_0x5bb97d(0x8b8)+_0xf2906e(_0x18a625['correctStreak'])+'\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f0b8f+'\x20'+_0x5be013+_0x5bb97d(0xb96);})[_0x17c60a(0x72e)]('')+_0x17c60a(0xa27):'',_0x4b5e85=_0x17c60a(0x2ba)+(_0x2c62cc[0x1]?_0x17c60a(0xd7e)+_0x2c62cc[0x1][_0x17c60a(0x190)]+_0x17c60a(0x723)+_0x1b7073(_0x2c62cc[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>'+_0x2c62cc[0x1][_0x17c60a(0xe89)]+'</div></div>':_0x17c60a(0x8d5))+_0x17c60a(0x823)+(_0x2c62cc[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>'+_0x2c62cc[0x0][_0x17c60a(0x190)]+_0x17c60a(0x723)+_0x1b7073(_0x2c62cc[0x0])+_0x17c60a(0x5bd)+_0x2c62cc[0x0]['displayRank']+_0x17c60a(0x303):_0x17c60a(0x8d5))+_0x17c60a(0x823)+(_0x2c62cc[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>'+_0x2c62cc[0x2][_0x17c60a(0x190)]+_0x17c60a(0x723)+_0x1b7073(_0x2c62cc[0x2])+_0x17c60a(0xb88)+_0x2c62cc[0x2][_0x17c60a(0xe89)]+_0x17c60a(0x303):_0x17c60a(0x8d5))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8691fa+_0x17c60a(0xa01)+(currentMode==='admin'?_0x17c60a(0x50f):_0x17c60a(0x128))+_0x17c60a(0x3c6);liveGameView[_0x17c60a(0x93e)]=_0x4b5e85,currentMode===_0x17c60a(0x140)?document[_0x17c60a(0xccc)](_0x17c60a(0xbb4))[_0x17c60a(0x7d6)]('click',async()=>{const _0x4e74ed=_0x17c60a;let _0x31e9c0;_0x1d18f5==='sync'?_0x31e9c0=doc(db,_0x4e74ed(0x331)+appId+_0x4e74ed(0x334),currentLiveGameId):_0x31e9c0=doc(db,_0x4e74ed(0x331)+appId+_0x4e74ed(0xaa9),currentLiveGameId),await deleteDoc(_0x31e9c0);}):document['getElementById']('student-back-to-home-btn')?.['addEventListener'](_0x17c60a(0x343),()=>{const _0x1cfe3d=_0x17c60a;showView(_0x1cfe3d(0x213));});}function renderSyncSummaryView(_0x450676,_0x5473ad,_0x4a2577){const _0xaa0dc2=_0x157a22,_0x2f7551=_0x450676[_0xaa0dc2(0xd21)]||_0xaa0dc2(0xe04),_0x4d1f26=(_0x2f7551===_0xaa0dc2(0x114)||_0x2f7551==='anonymous_reveal_end')&&_0x450676[_0xaa0dc2(0x684)]===![],_0x34138f=_0x2f7551===_0xaa0dc2(0x9a8)||_0x2f7551===_0xaa0dc2(0x96b),_0x4f9ed6=_0x450676[_0xaa0dc2(0x937)][_0xaa0dc2(0xdbf)],_0xd3a217=_0x5473ad[_0xaa0dc2(0x36c)]||_0x450676[_0xaa0dc2(0x937)][_0xaa0dc2(0x7fc)],_0x1fcd65=_0xd3a217===_0xaa0dc2(0xb27)||_0xd3a217===_0xaa0dc2(0xdf0)||_0xd3a217===_0xaa0dc2(0x283);let _0x3b2b84='';if(_0x1fcd65){let _0x26752d=0x0,_0x5d261b=0x0;const _0x31203a=[],_0x75e6c1=[];Object['entries'](_0x450676['players']||{})[_0xaa0dc2(0x8f9)](([_0x163b4c,_0x19aa2a])=>{const _0x21c691=_0xaa0dc2,_0x102690=(_0x19aa2a[_0x21c691(0x534)]||[])['find'](_0xe94824=>_0xe94824[_0x21c691(0xb87)]===_0x450676[_0x21c691(0x8cb)]);if(_0x19aa2a[_0x21c691(0xab3)]!=='inactive'&&_0x102690){const _0x1f56ed=_0x102690[_0x21c691(0x79b)],_0x13f293=_0x4d1f26?_0x450676['playerNicknames'][_0x163b4c]||_0x21c691(0x7ab):_0x163b4c;_0x102690['isCorrect']?(_0x26752d++,_0x31203a[_0x21c691(0xde9)](_0x13f293)):(_0x5d261b++,_0x75e6c1['push'](_0x21c691(0x34d)+_0x13f293+_0x21c691(0x68f)+(_0x1f56ed||_0x21c691(0x15a))));}}),_0x3b2b84=_0xaa0dc2(0x587)+_0x26752d+_0xaa0dc2(0xc7d)+(_0x31203a['length']>0x0?_0x31203a[_0xaa0dc2(0x72e)](',\x20'):'-')+_0xaa0dc2(0x5e5)+_0x5d261b+_0xaa0dc2(0x53e)+(_0x75e6c1[_0xaa0dc2(0x34a)]>0x0?_0x75e6c1['join'](_0xaa0dc2(0x988)):'-')+_0xaa0dc2(0x74a);}else{let _0x1e43b6=[];_0xd3a217==='true_false'?_0x1e43b6=[_0xaa0dc2(0x814),'ไม่ใช่\x20/\x20ผิด']:_0x1e43b6=_0x5473ad[_0xaa0dc2(0xaee)]||[];const _0x3630b3=new Array(_0x1e43b6['length'])['fill'](0x0),_0x203ac3={};_0x1e43b6['forEach']((_0x39d826,_0x2da5e0)=>{_0x203ac3[_0x2da5e0]=[];}),Object[_0xaa0dc2(0xbd3)](_0x450676[_0xaa0dc2(0xded)]||{})['forEach'](([_0x19c060,_0x40ec0e])=>{const _0x527cea=_0xaa0dc2,_0x5ec967=(_0x40ec0e[_0x527cea(0x534)]||[])[_0x527cea(0x48e)](_0x45a6e2=>_0x45a6e2[_0x527cea(0xb87)]===_0x450676[_0x527cea(0x8cb)]);if(_0x40ec0e['status']!=='inactive'&&_0x5ec967&&_0x5ec967[_0x527cea(0x649)]!==null){const _0x58fced=parseInt(_0x5ec967[_0x527cea(0x649)]);if(!isNaN(_0x58fced)&&_0x203ac3[_0x58fced]!==undefined){const _0x237e09=_0x4d1f26?_0x450676[_0x527cea(0x62a)][_0x19c060]||'???':_0x19c060;_0x203ac3[_0x58fced][_0x527cea(0xde9)](_0x237e09),_0x3630b3[_0x58fced]++;}}}),_0x3b2b84=_0xaa0dc2(0xb89)+_0x3630b3[_0xaa0dc2(0x141)]((_0x434610,_0x360e14)=>{const _0x4a6cf9=_0xaa0dc2,_0x3b33a0=_0x203ac3[_0x360e14]['length']>0x0?_0x203ac3[_0x360e14][_0x4a6cf9(0x72e)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x2d0cc7=_0x4a6cf9(0x2c4);return _0x4a6cf9(0xe81)+_0x434610+_0x4a6cf9(0x615)+_0x2d0cc7+_0x4a6cf9(0x5aa)+_0x360e14+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x1e43b6[_0x360e14]+_0x4a6cf9(0x99e)+_0x360e14+_0x4a6cf9(0x701)+_0x3b33a0+_0x4a6cf9(0x35f);})[_0xaa0dc2(0x72e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}let _0x724869='';const _0x1b4258=_0x450676[_0xaa0dc2(0x8cb)]>=_0x4f9ed6[_0xaa0dc2(0x34a)]-0x1;_0x4a2577?_0x34138f?_0x1b4258?_0x724869=_0xaa0dc2(0x78b):_0x724869='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x724869=_0xaa0dc2(0x67f):_0x34138f?_0x724869=_0xaa0dc2(0xbdd):_0x724869=_0xaa0dc2(0xc6c);const _0x6dd750=_0x4a2577?'<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x450676[_0xaa0dc2(0xe12)]+_0xaa0dc2(0x402):'',_0x2ce48d=_0xaa0dc2(0x199)+_0x6dd750+_0xaa0dc2(0x2a0)+(_0x5473ad['questionText']||_0x5473ad['stem']||'')+_0xaa0dc2(0xb79)+_0x3b2b84+_0xaa0dc2(0x275)+_0x724869+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xaa0dc2(0x93e)]=_0x2ce48d;if(window[_0xaa0dc2(0x5e4)])MathJax['typesetPromise']();if(_0x4a2577){const _0x3afe62=doc(db,_0xaa0dc2(0x331)+appId+_0xaa0dc2(0x334),currentLiveGameId);document[_0xaa0dc2(0xccc)](_0xaa0dc2(0x78a))?.[_0xaa0dc2(0x7d6)](_0xaa0dc2(0x343),async()=>{const _0x430683=_0xaa0dc2,_0xf972e7=Object['values'](_0x450676[_0x430683(0xded)]||{})[_0x430683(0x141)](_0x74a95b=>({'name':_0x74a95b['name'],'score':_0x74a95b[_0x430683(0x5c3)]||0x0,'totalPoints':_0x74a95b[_0x430683(0xaa6)]||0x0,'pointsLastRound':_0x74a95b[_0x430683(0xe4c)]||0x0,'answers':_0x74a95b[_0x430683(0x534)]||[],'correctStreak':_0x74a95b[_0x430683(0x55b)]||0x0}));await updateDoc(_0x3afe62,{'status':_0x430683(0xaca),'publicLeaderboard':_0xf972e7});}),document[_0xaa0dc2(0xccc)](_0xaa0dc2(0xa71))?.[_0xaa0dc2(0x7d6)]('click',()=>{const _0x8c8fba=_0xaa0dc2;openScratchpad(_0x5473ad,_0x5473ad[_0x8c8fba(0xaee)]||_0x5473ad[_0x8c8fba(0x2c7)]||[]);}),document[_0xaa0dc2(0xccc)]('next-sync-question-btn')?.['addEventListener'](_0xaa0dc2(0x343),async()=>{const _0xe0b7e4=_0xaa0dc2,_0x2bc4dc=_0x450676[_0xe0b7e4(0x8cb)]+0x1;await updateDoc(_0x3afe62,{'status':'question','currentQuestionIndex':_0x2bc4dc,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document['getElementById'](_0xaa0dc2(0xa45))?.[_0xaa0dc2(0x7d6)]('click',async()=>{const _0x136dfd=_0xaa0dc2,_0x398f15=Object[_0x136dfd(0x11b)](_0x450676['players']||{})['map'](_0x57050a=>({'name':_0x57050a[_0x136dfd(0x190)],'score':_0x57050a[_0x136dfd(0x5c3)]||0x0,'totalPoints':_0x57050a[_0x136dfd(0xaa6)]||0x0,'pointsLastRound':_0x57050a[_0x136dfd(0xe4c)]||0x0,'answers':_0x57050a[_0x136dfd(0x534)]||[],'correctStreak':_0x57050a[_0x136dfd(0x55b)]||0x0}));await updateDoc(_0x3afe62,{'status':_0x136dfd(0xaca),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x398f15});});}}function renderAnonymousStudentResultsView(_0x3078db){const _0x227b3e=_0x157a22,_0x151cb7=_0x3078db['currentQuestionIndex']>=_0x3078db[_0x227b3e(0x937)][_0x227b3e(0xdbf)]['length']-0x1;let _0x26c47f='';if(_0x3078db['isAnonymousRevealed']===!![]){const _0x178766=_0x3078db[_0x227b3e(0xded)][localTeamPlayers[0x0]],_0x241d1f=_0x178766[_0x227b3e(0x190)],_0x17b466=_0x178766[_0x227b3e(0x5c3)];_0x26c47f=_0x227b3e(0x64c)+_0x241d1f+'\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>'+_0x17b466+_0x227b3e(0x5fc);}else _0x26c47f=_0x227b3e(0x573)+(_0x151cb7?_0x227b3e(0x5c9):_0x227b3e(0x79c))+_0x227b3e(0xb4b);const _0x6c54f9=_0x227b3e(0xb02)+_0x26c47f+_0x227b3e(0x616);liveGameView[_0x227b3e(0x93e)]=_0x6c54f9;}async function handleShowStudentRankings(){const _0x47d53f=_0x157a22,_0x3a8162=document['querySelector'](_0x47d53f(0xe8f));_0x3a8162&&(_0x3a8162[_0x47d53f(0x93e)]=_0x47d53f(0x65f));const _0xf6bd2a=document[_0x47d53f(0xdd0)]('#student-project-leaderboard-content\x20thead');_0xf6bd2a&&(_0xf6bd2a[_0x47d53f(0x93e)]=_0x47d53f(0xc16));const _0x2f2c7a=document[_0x47d53f(0xccc)](_0x47d53f(0x3e3));_0x2f2c7a[_0x47d53f(0x807)][_0x47d53f(0x90e)](_0x47d53f(0x9f0)),document[_0x47d53f(0xccc)](_0x47d53f(0x7b7))[_0x47d53f(0xc51)]=()=>_0x2f2c7a[_0x47d53f(0x807)][_0x47d53f(0xcec)](_0x47d53f(0x9f0));const _0x59180c=document[_0x47d53f(0xccc)](_0x47d53f(0x169)),_0x2929df=document[_0x47d53f(0xccc)](_0x47d53f(0xa61)),_0x42d9f1=document[_0x47d53f(0xccc)]('student-quiz-leaderboard-content'),_0x50e525=document[_0x47d53f(0xccc)]('student-project-leaderboard-content');_0x59180c[_0x47d53f(0xc51)]=()=>{const _0x190193=_0x47d53f;_0x59180c['classList'][_0x190193(0xcec)](_0x190193(0x130)),_0x2929df['classList']['remove'](_0x190193(0x130)),_0x42d9f1[_0x190193(0x807)][_0x190193(0x90e)]('hidden'),_0x50e525[_0x190193(0x807)][_0x190193(0xcec)]('hidden');},_0x2929df[_0x47d53f(0xc51)]=()=>{const _0x5de1f1=_0x47d53f;_0x2929df[_0x5de1f1(0x807)][_0x5de1f1(0xcec)](_0x5de1f1(0x130)),_0x59180c[_0x5de1f1(0x807)][_0x5de1f1(0x90e)]('active'),_0x50e525[_0x5de1f1(0x807)][_0x5de1f1(0x90e)](_0x5de1f1(0x9f0)),_0x42d9f1['classList'][_0x5de1f1(0xcec)](_0x5de1f1(0x9f0));};try{const _0x5ea74a=collection(db,_0x47d53f(0x331)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x47d53f(0x3d6)),_0x1917bb=await getDocs(_0x5ea74a),_0x1831bb=_0x1917bb['docs']['map'](_0x7e1306=>_0x7e1306['data']());renderQuizLeaderboard(_0x1831bb,currentQuizData,_0x47d53f(0xe68));const _0x2d4104=collection(db,_0x47d53f(0x331)+appId+'/public/data/projects/'+currentQuizData['projectId']+_0x47d53f(0x798)),_0x46a242=await getDocs(_0x2d4104),_0xccc24b=_0x46a242[_0x47d53f(0xbe9)][_0x47d53f(0x141)](_0x2379f3=>_0x2379f3['data']());renderLeaderboard(_0xccc24b,_0x47d53f(0x124));}catch(_0x248614){console[_0x47d53f(0xada)](_0x47d53f(0xddf),_0x248614),showMessage(_0x47d53f(0x2a2));}}async function handleSaveToBank(_0x54372f){const _0x501acf=_0x157a22,_0x41d879=_0x54372f[_0x501acf(0xb10)],_0xf913ca=_0x41d879['dataset'][_0x501acf(0x479)],_0x5107dc=currentQuizData[_0x501acf(0xdbf)][_0xf913ca];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x4826ef={..._0x5107dc,'originalTopic':currentQuizData[_0x501acf(0xe36)],'savedAt':serverTimestamp()},_0x23d166=collection(db,_0x501acf(0x331)+appId+_0x501acf(0xe92)+userId+_0x501acf(0xd0c));await addDoc(_0x23d166,_0x4826ef),showMessage(_0x501acf(0x2ec)),_0x41d879[_0x501acf(0x807)][_0x501acf(0x90e)](_0x501acf(0xd3b)),_0x41d879[_0x501acf(0x807)][_0x501acf(0xcec)]('text-green-600'),_0x41d879[_0x501acf(0x7ef)]=!![];}catch(_0x10f0b9){console['error'](_0x501acf(0xc3d),_0x10f0b9),showMessage(_0x501acf(0xc5e));}}async function selectProjectAndGenerateBlueprintQuiz(_0x3f97aa,_0x36081f=null,_0x1c21a9=null,_0x39145f=![]){const _0x5a5ed1=_0x157a22;cameFromBlueprint=!![];const _0x4da5da=document[_0x5a5ed1(0xccc)](_0x5a5ed1(0x3a9))?.[_0x5a5ed1(0xa9f)]['trim']();let _0x10630a=null;if(_0x4da5da){showMessage(_0x5a5ed1(0xba2));try{const _0x819b49=await fetchFileFromUrl(_0x4da5da,'reference_onet.pdf'),_0x4dcda1=await new Promise((_0x345aec,_0x574f5e)=>{const _0x32e724=_0x5a5ed1,_0x3a6857=new FileReader();_0x3a6857[_0x32e724(0xc7e)](_0x819b49),_0x3a6857[_0x32e724(0x96d)]=()=>_0x345aec(_0x3a6857['result'][_0x32e724(0x9ae)](',')[0x1]),_0x3a6857['onerror']=_0x574f5e;});_0x10630a=[{'inlineData':{'mimeType':_0x819b49['type'],'data':_0x4dcda1}}],messageModal[_0x5a5ed1(0x807)]['add']('hidden');}catch(_0x4fa94e){console[_0x5a5ed1(0xada)](_0x5a5ed1(0x946),_0x4fa94e),showMessage(_0x5a5ed1(0xbd8));}}const _0x3aa40a=document['getElementById'](_0x5a5ed1(0x70c)),_0x4d6bf2=document[_0x5a5ed1(0xccc)](_0x5a5ed1(0x591)),_0x2149e4=_0x3aa40a[_0x5a5ed1(0xdd0)]('h3'),_0x38e3fc=document[_0x5a5ed1(0xccc)](_0x5a5ed1(0xda8)),_0x248097=document[_0x5a5ed1(0xccc)](_0x5a5ed1(0x658));_0x2149e4[_0x5a5ed1(0xc76)]=_0x5a5ed1(0xd7a),_0x38e3fc['textContent']=_0x5a5ed1(0x1df),_0x38e3fc['disabled']=!![];allProjects[_0x5a5ed1(0x34a)]===0x0?_0x4d6bf2[_0x5a5ed1(0x93e)]=_0x5a5ed1(0xce3):(_0x4d6bf2[_0x5a5ed1(0x93e)]=_0x5a5ed1(0x515)+allProjects[_0x5a5ed1(0x141)](_0x295419=>_0x5a5ed1(0x4be)+_0x295419['id']+'\x22>'+_0x295419[_0x5a5ed1(0x284)]+_0x5a5ed1(0x877))[_0x5a5ed1(0x72e)](''),_0x38e3fc[_0x5a5ed1(0x7ef)]=![]);_0x3aa40a[_0x5a5ed1(0x807)][_0x5a5ed1(0x90e)](_0x5a5ed1(0x9f0));const _0x51e0d0=async()=>{const _0x4229c3=_0x5a5ed1,_0x2b6e3d=_0x4d6bf2[_0x4229c3(0xa9f)];if(!_0x2b6e3d){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x3aa40a['classList']['add'](_0x4229c3(0x9f0)),document[_0x4229c3(0xccc)](_0x4229c3(0xdae))['classList']['add']('hidden'),await loadProjectDetails(_0x2b6e3d),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x3f97aa,_0x36081f,_0x2b6e3d,_0x1c21a9,_0x39145f,_0x10630a),_0x2a43b4();},_0x2a43b4=()=>{const _0x535dca=_0x5a5ed1;_0x2149e4[_0x535dca(0xc76)]=_0x535dca(0x4b0),_0x38e3fc[_0x535dca(0xc76)]=_0x535dca(0xcd1),_0x38e3fc[_0x535dca(0xb65)](_0x535dca(0x343),_0x51e0d0),_0x248097['removeEventListener'](_0x535dca(0x343),_0x2a43b4),_0x38e3fc['addEventListener']('click',confirmMoveQuiz);};_0x38e3fc[_0x5a5ed1(0xb65)](_0x5a5ed1(0x343),confirmMoveQuiz),_0x38e3fc['addEventListener']('click',_0x51e0d0),_0x248097[_0x5a5ed1(0x7d6)]('click',_0x2a43b4);}function listenForStarredQuizzes(){const _0x3c29ca=_0x157a22;if(!userId)return;const _0x38266c=collection(db,_0x3c29ca(0x331)+appId+_0x3c29ca(0x78d)),_0x5bbdba=query(_0x38266c,where(_0x3c29ca(0x611),'==',!![]));onSnapshot(_0x5bbdba,_0x4fbccf=>{const _0x530d19=_0x3c29ca;starredQuizzes=_0x4fbccf[_0x530d19(0xbe9)]['map'](_0x3993f9=>({'id':_0x3993f9['id'],..._0x3993f9['data']()})),currentProjectId===_0x530d19(0x509)?renderQuizzes():renderProjects();},_0x1d8e99=>{const _0x14dfb8=_0x3c29ca;console['error'](_0x14dfb8(0xea),_0x1d8e99);});}function listenForFileShortcuts(){const _0x447f69=doc(db,'globalSettings','fileShortcutsConfig');onSnapshot(_0x447f69,_0x1ff665=>{const _0x45828a=_0x28ee;let _0x22af52=[],_0x450479=[],_0x1128c1={};if(_0x1ff665[_0x45828a(0xc43)]()){const _0xd6d702=_0x1ff665['data']();_0x22af52=_0xd6d702[_0x45828a(0xd2e)]||[],_0x450479=_0xd6d702[_0x45828a(0x81c)]||[],_0x1128c1=_0xd6d702[_0x45828a(0xb50)]||{};}!_0x450479[_0x45828a(0x48e)](_0xfba07d=>_0xfba07d['id']===_0x45828a(0x3d5))&&_0x450479[_0x45828a(0x601)]({'id':_0x45828a(0x3d5),'name':_0x45828a(0x187),'isDefault':!![]}),!_0x22af52[_0x45828a(0x48e)](_0x477d2e=>_0x477d2e['id']===_0x45828a(0x5e1))&&_0x22af52[_0x45828a(0x601)]({'id':_0x45828a(0x5e1),'name':_0x45828a(0xd62),'url':'','isDefault':!![]}),!_0x22af52[_0x45828a(0x48e)](_0x148664=>_0x148664['id']==='file-default-2')&&_0x22af52[_0x45828a(0x601)]({'id':_0x45828a(0x1f0),'name':_0x45828a(0xb23),'url':'','isDefault':!![]}),fileShortcuts=_0x22af52,fileShortcutTabs=_0x450479,fileShortcutOrder=_0x1128c1,renderFileShortcuts(),!document[_0x45828a(0xccc)](_0x45828a(0x2bf))[_0x45828a(0x807)][_0x45828a(0xa2d)](_0x45828a(0x9f0))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x2d913a=_0x157a22,_0x23a29c=doc(db,'globalSettings',_0x2d913a(0x87e));try{await setDoc(_0x23a29c,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x193150){console['error'](_0x2d913a(0x647),_0x193150);}}function renderAdditionalFileShortcutsModal(){const _0x57d5b0=_0x157a22,_0x40e1ca=document[_0x57d5b0(0xccc)]('file-shortcut-tabs-nav'),_0x2f097a=document[_0x57d5b0(0xccc)](_0x57d5b0(0xa56));if(!_0x40e1ca||!_0x2f097a)return;_0x40e1ca[_0x57d5b0(0x93e)]=fileShortcutTabs[_0x57d5b0(0x141)](_0x3c4f73=>{const _0x17ea8a=_0x57d5b0,_0x398f71=_0x3c4f73['id']===activeFileShortcutTabId;return _0x17ea8a(0xd22)+_0x3c4f73['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x398f71?'border-indigo-500\x20text-indigo-600':_0x17ea8a(0x9a1))+_0x17ea8a(0x462)+_0x3c4f73['name']+_0x17ea8a(0x936)+_0x3c4f73['name']+_0x17ea8a(0xd96)+(!_0x3c4f73[_0x17ea8a(0x6a2)]?_0x17ea8a(0x7f1)+_0x3c4f73['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x17ea8a(0x995);})[_0x57d5b0(0x72e)]('');const _0x4e8073=fileShortcutTabs[_0x57d5b0(0x48e)](_0x43209e=>_0x43209e['id']===activeFileShortcutTabId);let _0x595c39=_0x4e8073?.[_0x57d5b0(0x6a2)]?[...fileShortcuts]:fileShortcuts[_0x57d5b0(0x512)](_0x5b7647=>(_0x4e8073?.[_0x57d5b0(0xab5)]||[])[_0x57d5b0(0x9e3)](_0x5b7647['id']));const _0x2dc6b0=fileShortcutOrder[activeFileShortcutTabId]||[];_0x595c39[_0x57d5b0(0x4b3)]((_0x9847c5,_0x33a541)=>{const _0x2f7fb2=_0x2dc6b0['indexOf'](_0x9847c5['id']),_0x5390b0=_0x2dc6b0['indexOf'](_0x33a541['id']);return(_0x2f7fb2===-0x1?Infinity:_0x2f7fb2)-(_0x5390b0===-0x1?Infinity:_0x5390b0);}),_0x2f097a['innerHTML']=_0x595c39[_0x57d5b0(0x141)](_0x5ac5f8=>{const _0x4ed367=_0x57d5b0,_0x1e34e8=_0x5ac5f8[_0x4ed367(0xac4)]?'📄':'🔗',_0x136d3e=fileShortcutTabs['filter'](_0x400935=>!_0x400935[_0x4ed367(0x6a2)]),_0x4702fc=_0x4e8073['isDefault']&&_0x136d3e[_0x4ed367(0x34a)]>0x0?_0x4ed367(0xc58)+_0x136d3e[_0x4ed367(0x141)](_0x3d72c1=>_0x4ed367(0x2ff)+_0x5ac5f8['id']+'\x22\x20data-target-tab-id=\x22'+_0x3d72c1['id']+'\x22>'+_0x3d72c1[_0x4ed367(0x190)]+_0x4ed367(0xb66))[_0x4ed367(0x72e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x4ed367(0xbb8)+_0x5ac5f8['id']+_0x4ed367(0x634)+_0x1e34e8+'\x20'+_0x5ac5f8[_0x4ed367(0x190)]+_0x4ed367(0x3b1)+_0x5ac5f8['id']+_0x4ed367(0x613)+_0x5ac5f8['id']+_0x4ed367(0x2d5)+(!_0x5ac5f8[_0x4ed367(0x6a2)]?_0x4ed367(0xcf5)+_0x5ac5f8['id']+_0x4ed367(0x1c7):'')+_0x4ed367(0xa35)+(!_0x4e8073[_0x4ed367(0x6a2)]?_0x4ed367(0xa2c)+_0x5ac5f8['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x4ed367(0xa35)+_0x4702fc+_0x4ed367(0xb2b);})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x31535e=_0x157a22;document[_0x31535e(0x5f0)](_0x31535e(0x773))[_0x31535e(0x8f9)](_0x5109b6=>{const _0x47d138=_0x31535e;_0x5109b6[_0x47d138(0xc51)]=_0x48a82d=>{const _0x4cca18=_0x47d138;activeFileShortcutTabId=_0x48a82d['currentTarget'][_0x4cca18(0x87a)]['tabId'],renderAdditionalFileShortcutsModal();},_0x5109b6[_0x47d138(0x740)]=_0x563163=>{const _0x40778e=_0x47d138,_0x365aaa=_0x563163[_0x40778e(0xb10)][_0x40778e(0xdd0)](_0x40778e(0xc7));_0x563163[_0x40778e(0xb10)]['querySelector']('.tab-name-display')[_0x40778e(0x807)]['add'](_0x40778e(0x9f0)),_0x365aaa[_0x40778e(0x807)][_0x40778e(0x90e)](_0x40778e(0x9f0)),_0x365aaa[_0x40778e(0x557)](),_0x365aaa[_0x40778e(0x549)]();};}),document[_0x31535e(0x5f0)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x31535e(0x8f9)](_0x1c2400=>{const _0x417baa=_0x31535e,_0x2c31ec=()=>{const _0x5452eb=_0x28ee,_0x41879b=_0x1c2400[_0x5452eb(0x43a)](_0x5452eb(0x773))[_0x5452eb(0x87a)][_0x5452eb(0xaa3)],_0x39ee29=fileShortcutTabs['find'](_0x391446=>_0x391446['id']===_0x41879b);_0x39ee29&&(_0x39ee29[_0x5452eb(0x190)]=_0x1c2400[_0x5452eb(0xa9f)][_0x5452eb(0x6b3)]()||_0x39ee29[_0x5452eb(0x190)],saveFileShortcutConfig());};_0x1c2400[_0x417baa(0x941)]=_0x2c31ec,_0x1c2400[_0x417baa(0x9f5)]=_0x3a2b4d=>{const _0x5780e4=_0x417baa;if(_0x3a2b4d[_0x5780e4(0x40a)]===_0x5780e4(0xe28))_0x1c2400[_0x5780e4(0x4d4)]();};}),document['querySelectorAll'](_0x31535e(0x22d))[_0x31535e(0x8f9)](_0x1f5fca=>_0x1f5fca[_0x31535e(0xc51)]=_0x3d5625=>{const _0x1a2f2e=_0x31535e,_0x519974=_0x3d5625[_0x1a2f2e(0xb10)][_0x1a2f2e(0x87a)][_0x1a2f2e(0xaa3)];showConfirmation(_0x1a2f2e(0x240),()=>{const _0x57b57e=_0x1a2f2e;fileShortcutTabs=fileShortcutTabs[_0x57b57e(0x512)](_0x3b90de=>_0x3b90de['id']!==_0x519974),delete fileShortcutOrder[_0x519974];if(activeFileShortcutTabId===_0x519974)activeFileShortcutTabId=_0x57b57e(0x3d5);saveFileShortcutConfig();});}),document[_0x31535e(0x5f0)](_0x31535e(0x489))[_0x31535e(0x8f9)](_0x1c88fe=>_0x1c88fe[_0x31535e(0xc51)]=_0x2dfb4e=>{const _0x46275b=_0x31535e;_0x2dfb4e[_0x46275b(0x54c)]();const {shortcutId:_0x593e80,targetTabId:_0x15979c}=_0x2dfb4e['currentTarget'][_0x46275b(0x87a)],_0x5f1836=fileShortcutTabs['find'](_0x160ea5=>_0x160ea5['id']===_0x15979c);_0x5f1836&&!_0x5f1836[_0x46275b(0xab5)][_0x46275b(0x9e3)](_0x593e80)&&(_0x5f1836[_0x46275b(0xab5)][_0x46275b(0xde9)](_0x593e80),saveFileShortcutConfig());}),document[_0x31535e(0x5f0)](_0x31535e(0x659))['forEach'](_0x3407ad=>_0x3407ad['onclick']=_0x356f3f=>{const _0x37545e=_0x31535e,_0xe39ca3=_0x356f3f[_0x37545e(0xb10)][_0x37545e(0x87a)]['shortcutId'],_0x27bac7=fileShortcutTabs['find'](_0x4a5642=>_0x4a5642['id']===activeFileShortcutTabId);_0x27bac7&&!_0x27bac7[_0x37545e(0x6a2)]&&(_0x27bac7[_0x37545e(0xab5)]=_0x27bac7['shortcutIds'][_0x37545e(0x512)](_0x294fc0=>_0x294fc0!==_0xe39ca3),saveFileShortcutConfig());}),document[_0x31535e(0x5f0)]('.move-file-shortcut-menu-btn')[_0x31535e(0x8f9)](_0x21361e=>_0x21361e['onclick']=_0x45cb43=>{const _0x5e87fd=_0x31535e;_0x45cb43[_0x5e87fd(0x18e)]();const _0xc1b02c=_0x45cb43[_0x5e87fd(0xb10)][_0x5e87fd(0xca6)];document[_0x5e87fd(0x5f0)](_0x5e87fd(0x911))[_0x5e87fd(0x8f9)](_0x2318c2=>_0x2318c2[_0x5e87fd(0x807)][_0x5e87fd(0xcec)](_0x5e87fd(0x9f0))),_0xc1b02c['classList'][_0x5e87fd(0x90e)]('hidden');});const _0x6f8a0=document[_0x31535e(0xccc)](_0x31535e(0xa56));let _0x5c3f91=null;_0x6f8a0['ondragstart']=_0x8651c6=>{const _0xa0d572=_0x31535e;_0x5c3f91=_0x8651c6['target'][_0xa0d572(0x43a)](_0xa0d572(0xbfd));if(_0x5c3f91)setTimeout(()=>_0x5c3f91[_0xa0d572(0x807)][_0xa0d572(0xcec)](_0xa0d572(0xd58)),0x0);},_0x6f8a0[_0x31535e(0x1fe)]=()=>{const _0x17a221=_0x31535e;_0x5c3f91&&(_0x5c3f91['classList']['remove'](_0x17a221(0xd58)),_0x5c3f91=null);},_0x6f8a0[_0x31535e(0xe6f)]=_0x329587=>{const _0x4d91c0=_0x31535e;_0x329587[_0x4d91c0(0x54c)]();},_0x6f8a0[_0x31535e(0x9cd)]=_0x1a4d16=>{const _0x1a0268=_0x31535e;_0x1a4d16[_0x1a0268(0x54c)]();if(_0x5c3f91){const _0x4ea6b2=[..._0x6f8a0[_0x1a0268(0x5f0)](_0x1a0268(0xe8))][_0x1a0268(0xc59)]((_0x3de182,_0x13c398)=>{const _0x538619=_0x1a0268,_0xe65398=_0x13c398[_0x538619(0x836)](),_0x4ac1c9=_0x1a4d16[_0x538619(0x950)]-_0xe65398['top']-_0xe65398[_0x538619(0x612)]/0x2;return _0x4ac1c9<0x0&&_0x4ac1c9>_0x3de182[_0x538619(0x67d)]?{'offset':_0x4ac1c9,'element':_0x13c398}:_0x3de182;},{'offset':Number[_0x1a0268(0xb9d)]})[_0x1a0268(0x46e)];_0x4ea6b2==null?_0x6f8a0[_0x1a0268(0xb18)](_0x5c3f91):_0x6f8a0[_0x1a0268(0xbe2)](_0x5c3f91,_0x4ea6b2);const _0x26f030=[..._0x6f8a0[_0x1a0268(0x5f0)]('.shortcut-list-item')][_0x1a0268(0x141)](_0xa1eb0=>_0xa1eb0[_0x1a0268(0x87a)][_0x1a0268(0xb69)]);fileShortcutOrder[activeFileShortcutTabId]=_0x26f030,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x4dd4fb=_0x157a22,_0x392562=prompt(_0x4dd4fb(0x129),_0x4dd4fb(0x960));_0x392562&&_0x392562[_0x4dd4fb(0x6b3)]()&&(fileShortcutTabs[_0x4dd4fb(0xde9)]({'id':_0x4dd4fb(0xbd7)+Date[_0x4dd4fb(0x338)](),'name':_0x392562['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x267a01=_0x157a22,_0x180331=document[_0x267a01(0xccc)]('file-shortcut-container'),_0x3b9490=document[_0x267a01(0xccc)](_0x267a01(0xa56)),_0x3f14b4=document[_0x267a01(0xccc)]('file-shortcuts-loading-msg');if(_0x3f14b4)_0x3f14b4[_0x267a01(0x807)][_0x267a01(0xcec)](_0x267a01(0x9f0));if(!_0x180331||!_0x3b9490)return;const _0x2040eb=fileShortcuts[_0x267a01(0xd3d)](0x0,0x4),_0x4a9908=fileShortcuts[_0x267a01(0xd3d)](0x4);_0x180331[_0x267a01(0x93e)]=_0x2040eb[_0x267a01(0x141)](_0x28e9a6=>{const _0x1ad16b=_0x267a01,_0x2dd447=_0x28e9a6['url']&&_0x28e9a6[_0x1ad16b(0xac4)][_0x1ad16b(0x6b3)]()!=='',_0x3b608b=selectedFile&&selectedFile[_0x1ad16b(0xb69)]===_0x28e9a6['id'];let _0x48695a=_0x1ad16b(0x1ec),_0x7f4971='🔗';if(_0x3b608b)_0x48695a='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x7f4971=_0x1ad16b(0x5dd);else _0x2dd447&&(_0x48695a=_0x1ad16b(0xa14),_0x7f4971='📄');const _0xb49bf7=!_0x28e9a6['isDefault']?_0x1ad16b(0xcf5)+_0x28e9a6['id']+_0x1ad16b(0x1f3):'';return _0x1ad16b(0x4b6)+_0x28e9a6['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x48695a+_0x1ad16b(0x67b)+_0x7f4971+_0x1ad16b(0x360)+_0x28e9a6[_0x1ad16b(0x190)]+_0x1ad16b(0x8d4)+_0x28e9a6['id']+_0x1ad16b(0x144)+_0xb49bf7+_0x1ad16b(0xc98);})[_0x267a01(0x72e)](''),_0x4a9908[_0x267a01(0x34a)]>0x0&&(_0x180331[_0x267a01(0x93e)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4a9908['length']>0x0?_0x3b9490['innerHTML']=_0x4a9908[_0x267a01(0x141)](_0x3d7867=>_0x267a01(0x57c)+(_0x3d7867[_0x267a01(0xac4)]?'📄':'🔗')+'\x20'+_0x3d7867[_0x267a01(0x190)]+_0x267a01(0x4e6)+_0x3d7867['id']+_0x267a01(0xc96)+_0x3d7867['id']+_0x267a01(0x4c8)+(!_0x3d7867[_0x267a01(0x6a2)]?_0x267a01(0xcf5)+_0x3d7867['id']+_0x267a01(0x1c7):'')+_0x267a01(0x789))[_0x267a01(0x72e)](''):_0x3b9490[_0x267a01(0x93e)]=_0x267a01(0xa4a);}function openFileShortcutEditor(_0x3779ad=null){const _0x3402f1=_0x157a22,_0x512135=document[_0x3402f1(0xccc)](_0x3402f1(0x1ba)),_0x32ea1=document['getElementById'](_0x3402f1(0x2bb)),_0x1b02f5=document[_0x3402f1(0xccc)](_0x3402f1(0xc17)),_0x30a178=document[_0x3402f1(0xccc)](_0x3402f1(0x639)),_0x569afe=document['getElementById'](_0x3402f1(0xb84));if(_0x3779ad){const _0x39baf4=fileShortcuts[_0x3402f1(0x48e)](_0x4e541f=>_0x4e541f['id']===_0x3779ad);if(!_0x39baf4)return;_0x32ea1[_0x3402f1(0xc76)]=_0x3402f1(0xa7e),_0x1b02f5[_0x3402f1(0xa9f)]=_0x39baf4['id'],_0x30a178['value']=_0x39baf4['name'],_0x569afe['value']=_0x39baf4[_0x3402f1(0xac4)]||'';}else _0x32ea1[_0x3402f1(0xc76)]=_0x3402f1(0xc49),_0x1b02f5[_0x3402f1(0xa9f)]='',_0x30a178[_0x3402f1(0xa9f)]='',_0x569afe[_0x3402f1(0xa9f)]='';_0x512135[_0x3402f1(0x807)][_0x3402f1(0x90e)](_0x3402f1(0x9f0));}async function saveFileShortcutChanges(){const _0x20c4d8=_0x157a22,_0xfddd64=document[_0x20c4d8(0xccc)]('file-shortcut-id-input')['value'],_0x3e8965=document[_0x20c4d8(0xccc)]('file-shortcut-name-input')['value'][_0x20c4d8(0x6b3)](),_0xf681f8=document[_0x20c4d8(0xccc)]('file-shortcut-url-input')['value']['trim']();if(!_0x3e8965){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x566f1e={'id':_0xfddd64||_0x20c4d8(0x4ac)+Date[_0x20c4d8(0x338)](),'name':_0x3e8965,'url':_0xf681f8,'isDefault':_0xfddd64[_0x20c4d8(0xb2c)](_0x20c4d8(0x575))};let _0x360001;_0xfddd64?_0x360001=fileShortcuts['map'](_0x4c2aa2=>_0x4c2aa2['id']===_0xfddd64?_0x566f1e:_0x4c2aa2):_0x360001=[...fileShortcuts,_0x566f1e];try{const _0xa5d73f=doc(db,_0x20c4d8(0x7e7),'fileShortcutsConfig');await setDoc(_0xa5d73f,{'shortcuts':_0x360001},{'merge':!![]}),document[_0x20c4d8(0xccc)](_0x20c4d8(0x1ba))[_0x20c4d8(0x807)][_0x20c4d8(0xcec)](_0x20c4d8(0x9f0));}catch(_0x533d38){console[_0x20c4d8(0xada)]('Error\x20saving\x20file\x20shortcut:',_0x533d38),showMessage(_0x20c4d8(0xc5e));}}async function handleFileShortcutClick(_0x44a843){const _0x26a460=_0x157a22,_0xa093fc=fileShortcuts[_0x26a460(0x48e)](_0x437ab1=>_0x437ab1['id']===_0x44a843);if(!_0xa093fc)return;if(!_0xa093fc[_0x26a460(0xac4)]||_0xa093fc[_0x26a460(0xac4)]['trim']()===''){openFileShortcutEditor(_0x44a843);return;}const _0x15322d=document['querySelector']('.file-shortcut-btn[data-id=\x22'+_0x44a843+'\x22]');if(_0x15322d){const _0x1c5e11=_0x15322d[_0x26a460(0x93e)];_0x15322d['innerHTML']=_0x26a460(0x4b5),_0x15322d[_0x26a460(0x7ef)]=!![];}document[_0x26a460(0x5f0)](_0x26a460(0x6fb))['forEach'](_0x5b1716=>{const _0x3b0fec=_0x26a460;if(_0x5b1716[_0x3b0fec(0x87a)]['id']!==_0x44a843)_0x5b1716[_0x3b0fec(0x807)][_0x3b0fec(0xcec)](_0x3b0fec(0xd58),_0x3b0fec(0x804));});try{const _0x56e074=new URL(_0xa093fc['url'])['pathname'],_0x10610e=_0x56e074[_0x26a460(0x500)](_0x56e074[_0x26a460(0x63e)]('/')+0x1)||(_0xa093fc[_0x26a460(0xac4)][_0x26a460(0x9e3)](_0x26a460(0x51e))?'file.txt':'file.pdf'),_0x30d103=await fetchFileFromUrl(_0xa093fc['url'],_0x10610e);_0x30d103[_0x26a460(0xb69)]=_0x44a843,selectedFile=_0x30d103,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x26a460(0xc8))[_0x26a460(0x589)]({'behavior':_0x26a460(0x7a0),'block':_0x26a460(0x6ea)});}catch(_0x3f9a49){console['error']('Error\x20processing\x20file\x20shortcut\x20click:',_0x3f9a49),showMessage(_0x26a460(0x513)+_0x3f9a49[_0x26a460(0x267)]),renderFileShortcuts();}finally{document[_0x26a460(0x5f0)]('.file-shortcut-btn')[_0x26a460(0x8f9)](_0x449da9=>{const _0x560d6b=_0x26a460;_0x449da9[_0x560d6b(0x807)][_0x560d6b(0x90e)](_0x560d6b(0xd58),_0x560d6b(0x804)),_0x449da9[_0x560d6b(0x7ef)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x170c8e=_0x157a22;if(allQuizzesGlobal['length']>0x0)return;console[_0x170c8e(0x700)](_0x170c8e(0x2ac)),showMessage(_0x170c8e(0x3fe));try{const _0x1e56e9=await getDocs(collection(db,_0x170c8e(0x331)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x1e56e9[_0x170c8e(0xbe9)][_0x170c8e(0x141)](_0x1d39ef=>({'id':_0x1d39ef['id'],..._0x1d39ef[_0x170c8e(0xd60)]()})),console[_0x170c8e(0x700)]('Loaded\x20'+allQuizzesGlobal[_0x170c8e(0x34a)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x170c8e(0x807)][_0x170c8e(0xcec)](_0x170c8e(0x9f0));}catch(_0x58e417){console[_0x170c8e(0xada)](_0x170c8e(0x3ed),_0x58e417),messageModal[_0x170c8e(0x807)][_0x170c8e(0xcec)](_0x170c8e(0x9f0));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x4c5b10=_0x157a22;if(!currentQuizData||!currentQuizData[_0x4c5b10(0xdbf)]){showMessage(_0x4c5b10(0x81d));return;}const _0x270256=currentQuizData,_0x1e5431=window[_0x4c5b10(0xb0c)]('',_0x4c5b10(0xbc8)),_0x2e8f7e=_0x29d192=>String['fromCharCode'](0x41+_0x29d192),_0x57c5fb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x270256['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x270256['topic']+_0x4c5b10(0x262)+_0x270256[_0x4c5b10(0xdbf)][_0x4c5b10(0x141)]((_0xaa7927,_0x5180e4)=>{const _0x57248b=_0x4c5b10;let _0x595fdb='';const _0x6676ec=_0xaa7927[_0x57248b(0x36c)]||_0x270256[_0x57248b(0x7fc)];switch(_0x6676ec){case _0x57248b(0x75f):case _0x57248b(0x5b0):_0x595fdb='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0xaa7927[_0x57248b(0xaee)][_0x57248b(0x141)]((_0x41c2c1,_0x3845b7)=>_0x57248b(0xa10)+_0x2e8f7e(_0x3845b7)+'.\x20'+_0x41c2c1+_0x57248b(0x8b8))[_0x57248b(0x72e)](_0x57248b(0x988))+_0x57248b(0x6ae);break;case _0x57248b(0xc6b):_0x595fdb=_0x57248b(0x6a1);break;default:_0x595fdb='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x5180e4+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0xaa7927[_0x57248b(0x6a8)]||_0xaa7927[_0x57248b(0x885)])+_0x57248b(0x40e)+(_0xaa7927['imageCode']?_0x57248b(0x1bc)+_0xaa7927['imageCode']+_0x57248b(0x6ae):'')+_0x57248b(0x98f)+_0x595fdb+_0x57248b(0xaff);})['join']('')+_0x4c5b10(0x484);_0x1e5431['document'][_0x4c5b10(0x8e6)](_0x57c5fb),_0x1e5431[_0x4c5b10(0x19d)][_0x4c5b10(0x431)](),_0x1e5431[_0x4c5b10(0x96d)]=function(){setTimeout(()=>{const _0x13c59c=_0x28ee;_0x1e5431[_0x13c59c(0xe11)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1d122d=_0x157a22;if(!currentQuizData||!currentQuizData[_0x1d122d(0xdbf)]){showMessage(_0x1d122d(0x81d));return;}const _0x280fdb=currentQuizData,_0x5113d0=window[_0x1d122d(0xb0c)]('','_blank'),_0x395177=_0x4878bd=>String[_0x1d122d(0xad9)](0x41+_0x4878bd),_0x26e6bd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x280fdb[_0x1d122d(0xe36)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x280fdb[_0x1d122d(0xdbf)][_0x1d122d(0x141)]((_0x23321f,_0x3e9198)=>{const _0x2749ab=_0x1d122d;let _0xe87584='';const _0xf8d04e=_0x23321f[_0x2749ab(0x36c)]||_0x280fdb['quizType'];switch(_0xf8d04e){case'multiple_choice':case _0x2749ab(0x5b0):_0xe87584=_0x2749ab(0xb12)+_0x23321f[_0x2749ab(0xaee)][_0x2749ab(0x141)]((_0x4e3b6c,_0x5db193)=>_0x2749ab(0x14f)+_0x395177(_0x5db193)+'.\x20'+_0x4e3b6c+_0x2749ab(0x27c))[_0x2749ab(0x72e)](_0x2749ab(0x988))+_0x2749ab(0x125);break;case'true_false':_0xe87584=_0x2749ab(0xdfe);break;default:_0xe87584='';break;}return _0x2749ab(0xb98)+_0x280fdb[_0x2749ab(0xe36)]+_0x2749ab(0x716)+(_0x3e9198+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x23321f[_0x2749ab(0x6a8)]||_0x23321f[_0x2749ab(0x885)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x23321f['imageCode']?_0x2749ab(0x9ad)+_0x23321f[_0x2749ab(0x71e)]+_0x2749ab(0x6ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe87584+_0x2749ab(0xe59);})[_0x1d122d(0x72e)]('')+_0x1d122d(0x656);_0x5113d0['document']['write'](_0x26e6bd),_0x5113d0[_0x1d122d(0x19d)][_0x1d122d(0x431)](),_0x5113d0[_0x1d122d(0x96d)]=function(){setTimeout(()=>{_0x5113d0['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x1b048e){const _0x5c637f=_0x157a22,_0x13a417=doc(db,_0x5c637f(0x331)+appId+_0x5c637f(0x78d),_0x1b048e);try{const _0x157fec=await getDoc(_0x13a417);if(_0x157fec['exists']()){const _0x411a69=_0x157fec[_0x5c637f(0xd60)]()[_0x5c637f(0x611)]||![];await updateDoc(_0x13a417,{'isStarred':!_0x411a69});}}catch(_0x4da00c){console['error'](_0x5c637f(0x7ba),_0x4da00c),showMessage(_0x5c637f(0xcd9));}}async function displayQuestionBank(){const _0x330c1d=_0x157a22,_0x2e1dc6=document[_0x330c1d(0xccc)](_0x330c1d(0xa00));_0x2e1dc6[_0x330c1d(0x93e)]=_0x330c1d(0x8a2);try{const _0x2456ef=collection(db,_0x330c1d(0x331)+appId+'/users/'+userId+'/questionBank'),_0x3ea7df=query(_0x2456ef),_0x73c7f2=await getDocs(_0x3ea7df);if(_0x73c7f2[_0x330c1d(0x8bc)]){_0x2e1dc6[_0x330c1d(0x93e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x477fd5=_0x73c7f2[_0x330c1d(0xbe9)][_0x330c1d(0x141)](_0x13b490=>{const _0x46874e=_0x330c1d,_0x3606ee=_0x13b490[_0x46874e(0xd60)](),_0x239fca=_0x13b490['id'];return _0x46874e(0x90b)+JSON['stringify'](_0x3606ee)+_0x46874e(0x205)+(_0x3606ee[_0x46874e(0x885)]||_0x3606ee[_0x46874e(0x6a8)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x3606ee[_0x46874e(0xd89)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x330c1d(0x72e)]('');_0x2e1dc6[_0x330c1d(0x93e)]=_0x330c1d(0x5a9)+_0x477fd5+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x330c1d(0x8bb))['addEventListener'](_0x330c1d(0x343),createQuizFromBank);}catch(_0x286c91){console['error'](_0x330c1d(0x949),_0x286c91),_0x2e1dc6[_0x330c1d(0x93e)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x51049e=_0x157a22,_0x17b0c0=document['getElementById']('lesson-sections-container'),_0x3e4be6=document[_0x51049e(0xccc)](_0x51049e(0x67a))[_0x51049e(0xc76)]||'บทเรียน';if(!_0x17b0c0){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x413211=window[_0x51049e(0xb0c)]('',_0x51049e(0xbc8)),_0x17e0c7=_0x51049e(0x7f0)+_0x3e4be6+_0x51049e(0x70e)+_0x3e4be6+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17b0c0[_0x51049e(0x93e)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x413211[_0x51049e(0x19d)]['write'](_0x17e0c7),_0x413211[_0x51049e(0x19d)][_0x51049e(0x431)](),_0x413211['onload']=function(){setTimeout(()=>{_0x413211['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x138e52,_0x3a8798,_0xbe23d){const _0x1800bd=_0x157a22,_0x113ad0=_0x138e52[_0x1800bd(0x36c)]||currentQuizData[_0x1800bd(0x7fc)];let _0x4ac834='';if(_0x113ad0==='multiple_choice'||_0x113ad0===_0x1800bd(0xc6b)){const _0xe60774=_0x113ad0===_0x1800bd(0xc6b)?[_0x1800bd(0xab2),_0x1800bd(0x342)]:_0x138e52['options'],_0x239e1d=_0x113ad0==='true_false'?_0x138e52[_0x1800bd(0xcab)]?0x0:0x1:_0x138e52[_0x1800bd(0x2bd)];_0x4ac834=_0xe60774['map']((_0x56133a,_0x282d2f)=>_0x1800bd(0xd73)+(_0x282d2f===_0x239e1d)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56133a+_0x1800bd(0xc98))[_0x1800bd(0x72e)]('');}else{if(_0x113ad0===_0x1800bd(0x283)){const _0x2e1ea5=_0x138e52[_0x1800bd(0x2c7)]||[];_0x4ac834=_0x2e1ea5[_0x1800bd(0x141)](_0x362673=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x362673===_0x138e52[_0x1800bd(0xb75)])+_0x1800bd(0x817)+_0x362673+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}}const _0x39c5c2=_0x138e52['stem']||_0x138e52['questionText'],_0x422f9f=_0x1800bd(0x328)+(_0x3a8798+0x1)+_0x1800bd(0xc71)+_0xbe23d+_0x1800bd(0x932)+currentLiveGamePin+_0x1800bd(0x27a)+_0x39c5c2+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ac834+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1800bd(0x93e)]=_0x422f9f,window[_0x1800bd(0x5e4)]&&MathJax[_0x1800bd(0xd06)]&&MathJax['typesetPromise']([liveGameView]),document[_0x1800bd(0xccc)]('reveal-answer-btn')[_0x1800bd(0x7d6)](_0x1800bd(0x343),()=>revealAnswerForAdmin(_0x3a8798,_0xbe23d)),document['getElementById']('end-game-btn')[_0x1800bd(0x7d6)]('click',async()=>{const _0x313c79=_0x1800bd;showConfirmation(_0x313c79(0x1f8),async()=>{const _0x3dc753=_0x313c79,_0x407604=doc(db,_0x3dc753(0x331)+appId+_0x3dc753(0xaa9),currentLiveGameId);await updateDoc(_0x407604,{'status':'podium'});});}),document[_0x1800bd(0xccc)](_0x1800bd(0xcf6))[_0x1800bd(0x7d6)](_0x1800bd(0x343),()=>{const _0x27c2ed=_0x1800bd;document[_0x27c2ed(0xccc)]('live-player-management')[_0x27c2ed(0x807)][_0x27c2ed(0x9e5)](_0x27c2ed(0x9f0));});}function promptForProjectBeforeGenerating(_0x2b0193){const _0x5bea28=_0x157a22,_0x103e5f=document['getElementById']('move-quiz-modal'),_0x3058fd=document[_0x5bea28(0xccc)](_0x5bea28(0x591)),_0x29dccd=_0x103e5f[_0x5bea28(0xdd0)]('h3'),_0x1c0133=document[_0x5bea28(0xccc)]('confirm-move-quiz-btn'),_0x4905a0=document[_0x5bea28(0xccc)](_0x5bea28(0x658));_0x29dccd[_0x5bea28(0xc76)]=_0x5bea28(0xd7a),_0x1c0133[_0x5bea28(0xc76)]=_0x5bea28(0x1df),_0x1c0133[_0x5bea28(0x7ef)]=!![];allProjects[_0x5bea28(0x34a)]===0x0?_0x3058fd[_0x5bea28(0x93e)]=_0x5bea28(0xce3):(_0x3058fd[_0x5bea28(0x93e)]=_0x5bea28(0x515)+allProjects[_0x5bea28(0x141)](_0x1e4c55=>_0x5bea28(0x4be)+_0x1e4c55['id']+'\x22>'+_0x1e4c55[_0x5bea28(0x284)]+_0x5bea28(0x877))[_0x5bea28(0x72e)](''),_0x1c0133[_0x5bea28(0x7ef)]=![]);_0x103e5f[_0x5bea28(0x807)][_0x5bea28(0x90e)](_0x5bea28(0x9f0));const _0x9c9c=async()=>{const _0x102fa5=_0x5bea28,_0x260247=_0x3058fd[_0x102fa5(0xa9f)];if(!_0x260247){showMessage(_0x102fa5(0x74f));return;}_0x103e5f[_0x102fa5(0x807)][_0x102fa5(0xcec)]('hidden'),await loadProjectDetails(_0x260247),showView(_0x102fa5(0xd48)),handleGenerateQuizFromBlueprintTopic(_0x2b0193),_0x320ca2();},_0x320ca2=()=>{const _0x153af8=_0x5bea28;_0x29dccd[_0x153af8(0xc76)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1c0133[_0x153af8(0xc76)]=_0x153af8(0xcd1),_0x1c0133['removeEventListener'](_0x153af8(0x343),_0x9c9c),_0x4905a0[_0x153af8(0xb65)]('click',_0x320ca2),_0x1c0133[_0x153af8(0x7d6)](_0x153af8(0x343),confirmMoveQuiz);};_0x1c0133[_0x5bea28(0xb65)](_0x5bea28(0x343),confirmMoveQuiz),_0x1c0133[_0x5bea28(0x7d6)](_0x5bea28(0x343),_0x9c9c),_0x4905a0[_0x5bea28(0x7d6)](_0x5bea28(0x343),_0x320ca2);}function showStudentLiveQuestionView(_0x597d58,_0x273a0b,_0x2efa37){const _0x3b423f=_0x157a22,_0x1a4b3f=_0x597d58[_0x3b423f(0x36c)]||currentQuizData['quizType'];let _0xaa4cae='';if(_0x1a4b3f==='multiple_choice'||_0x1a4b3f==='true_false'){const _0x3c2060=_0x1a4b3f===_0x3b423f(0xc6b)?[_0x3b423f(0xab2),_0x3b423f(0x342)]:_0x597d58['options'];_0xaa4cae=_0x3c2060[_0x3b423f(0x141)]((_0x51fc97,_0x113da9)=>_0x3b423f(0x731)+_0x113da9+_0x3b423f(0xe46)+_0x51fc97+_0x3b423f(0xe4))[_0x3b423f(0x72e)]('');}else{if(_0x1a4b3f===_0x3b423f(0x283)){const _0x4f07f0=_0x597d58[_0x3b423f(0x2c7)]||[];_0xaa4cae=_0x4f07f0[_0x3b423f(0x141)]((_0x4709da,_0x344e14)=>_0x3b423f(0x731)+_0x344e14+_0x3b423f(0xe46)+_0x4709da+_0x3b423f(0xe4))[_0x3b423f(0x72e)]('');}else _0x1a4b3f===_0x3b423f(0xb27)&&(_0xaa4cae=_0x3b423f(0x78c));}const _0x3ebf94=_0x597d58['stem']||_0x597d58[_0x3b423f(0x885)],_0xda2fc8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x273a0b+0x1)+'\x20/\x20'+_0x2efa37+_0x3b423f(0x72b)+_0x3ebf94+_0x3b423f(0xc4e)+_0xaa4cae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3b423f(0x93e)]=_0xda2fc8;window[_0x3b423f(0x5e4)]&&MathJax['typesetPromise']&&MathJax[_0x3b423f(0xd06)]([liveGameView]);const _0x436405=document[_0x3b423f(0xccc)]('live-submit-short-answer-btn');_0x436405&&_0x436405[_0x3b423f(0x7d6)]('click',()=>{const _0x5df674=_0x3b423f,_0x2d9367=document[_0x5df674(0xccc)](_0x5df674(0x2fd))[_0x5df674(0xa9f)];handleLiveAnswer(_0x2d9367,_0x597d58);}),document[_0x3b423f(0xccc)](_0x3b423f(0xcbb))[_0x3b423f(0x7d6)](_0x3b423f(0x343),_0x118253=>{const _0x1fac91=_0x3b423f,_0x517eca=_0x118253[_0x1fac91(0xc55)][_0x1fac91(0x43a)](_0x1fac91(0x38b));if(_0x517eca){const _0x5ae667=parseInt(_0x517eca[_0x1fac91(0x87a)][_0x1fac91(0x479)]);handleLiveAnswer(_0x5ae667,_0x597d58);}});}function listenForBlueprintShortcuts(){const _0x11ceac=_0x157a22,_0x47aab8=doc(db,_0x11ceac(0x7e7),'dashboardConfig');onSnapshot(_0x47aab8,_0x134ecc=>{const _0x1f8395=_0x11ceac;let _0x2910e6=[],_0x26980d=[],_0x46c7dc={};if(_0x134ecc[_0x1f8395(0xc43)]()){const _0x463dcb=_0x134ecc[_0x1f8395(0xd60)]();_0x2910e6=_0x463dcb[_0x1f8395(0xdde)]||[],_0x26980d=_0x463dcb[_0x1f8395(0x580)]||[],_0x46c7dc=_0x463dcb[_0x1f8395(0x168)]||{};}!_0x26980d['find'](_0x4b6c3f=>_0x4b6c3f['id']===_0x1f8395(0x3d5))&&_0x26980d[_0x1f8395(0x601)]({'id':_0x1f8395(0x3d5),'name':_0x1f8395(0x189),'isDefault':!![]}),!_0x2910e6[_0x1f8395(0x48e)](_0x4f15b9=>_0x4f15b9['id']==='default-1')&&_0x2910e6[_0x1f8395(0x601)]({'id':_0x1f8395(0x456),'name':_0x1f8395(0xda9),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2910e6[_0x1f8395(0x48e)](_0x42da49=>_0x42da49['id']===_0x1f8395(0x13c))&&_0x2910e6[_0x1f8395(0x601)]({'id':_0x1f8395(0x13c),'name':_0x1f8395(0x795),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2910e6,shortcutTabs=_0x26980d,shortcutOrder=_0x46c7dc,renderBlueprintShortcuts(),!document[_0x1f8395(0xccc)](_0x1f8395(0x521))['classList'][_0x1f8395(0xa2d)](_0x1f8395(0x9f0))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x528cee=_0x157a22,_0x50053b=document['getElementById'](_0x528cee(0x1d9)),_0xa6ac43=document[_0x528cee(0xccc)](_0x528cee(0xc28));if(!_0x50053b||!_0xa6ac43)return;_0x50053b[_0x528cee(0x93e)]=shortcutTabs[_0x528cee(0x141)](_0x367f1e=>{const _0x25cb1a=_0x528cee,_0xd77ab9=_0x367f1e['id']===activeShortcutTabId,_0x4808b6=_0x25cb1a(0x635),_0x4bf470=_0x25cb1a(0x9a1);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x367f1e['id']+_0x25cb1a(0xd97)+(_0xd77ab9?_0x4808b6:_0x4bf470)+_0x25cb1a(0x4cc)+_0x367f1e[_0x25cb1a(0x190)]+_0x25cb1a(0x30d)+_0x367f1e['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x367f1e[_0x25cb1a(0x6a2)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x367f1e['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x25cb1a(0xc98);})['join']('');const _0x4a7ab2=shortcutTabs['find'](_0x1a7b6e=>_0x1a7b6e['id']===activeShortcutTabId);let _0xc0beae=[];if(_0x4a7ab2){if(_0x4a7ab2[_0x528cee(0x6a2)])_0xc0beae=[...blueprintShortcuts];else{const _0xacfdad=_0x4a7ab2[_0x528cee(0xab5)]||[];_0xc0beae=blueprintShortcuts[_0x528cee(0x512)](_0x10bc56=>_0xacfdad[_0x528cee(0x9e3)](_0x10bc56['id']));}}const _0x411ac7=shortcutOrder[activeShortcutTabId]||[];_0xc0beae[_0x528cee(0x4b3)]((_0x20124b,_0x52ebee)=>{const _0x27ba14=_0x528cee,_0x3984b0=_0x411ac7[_0x27ba14(0x971)](_0x20124b['id']),_0x514623=_0x411ac7[_0x27ba14(0x971)](_0x52ebee['id']);if(_0x3984b0===-0x1)return 0x1;if(_0x514623===-0x1)return-0x1;return _0x3984b0-_0x514623;}),_0xa6ac43['innerHTML']=_0xc0beae[_0x528cee(0x34a)]>0x0?_0xc0beae[_0x528cee(0x141)](_0xa9f8f5=>{const _0x4c1265=_0x528cee;let _0x22bd1e='🧩';if(_0xa9f8f5[_0x4c1265(0xc95)]&&_0xa9f8f5[_0x4c1265(0xe0)])_0x22bd1e='📗';else{if(_0xa9f8f5['blueprintUrl'])_0x22bd1e='📘';}const _0x47ed88=shortcutTabs[_0x4c1265(0x512)](_0x1a7924=>!_0x1a7924['isDefault']),_0x2fa745=_0x4a7ab2[_0x4c1265(0x6a2)]&&_0x47ed88['length']>0x0?_0x4c1265(0xc79)+_0x47ed88[_0x4c1265(0x141)](_0x38c4a5=>_0x4c1265(0x9c8)+_0xa9f8f5['id']+_0x4c1265(0x74d)+_0x38c4a5['id']+'\x22>'+_0x38c4a5['name']+_0x4c1265(0xbbd))[_0x4c1265(0x72e)]('')+_0x4c1265(0xae5):'';return _0x4c1265(0x597)+_0xa9f8f5['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x22bd1e+'\x20'+_0xa9f8f5[_0x4c1265(0x190)]+_0x4c1265(0x1a8)+_0xa9f8f5['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xa9f8f5['id']+_0x4c1265(0x15c)+(!_0xa9f8f5[_0x4c1265(0x6a2)]?_0x4c1265(0xcf5)+_0xa9f8f5['id']+_0x4c1265(0x694):'')+_0x4c1265(0xc4d)+(!_0x4a7ab2[_0x4c1265(0x6a2)]?_0x4c1265(0xa2c)+_0xa9f8f5['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x4c1265(0xc4d)+_0x2fa745+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x528cee(0x72e)](''):_0x528cee(0xdcc),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x30a741=_0x157a22;document['querySelectorAll'](_0x30a741(0x3f4))[_0x30a741(0x8f9)](_0x9f789e=>{const _0x56841b=_0x30a741;_0x9f789e[_0x56841b(0x7d6)]('click',_0x320ecc=>{const _0x54076f=_0x56841b;activeShortcutTabId=_0x320ecc[_0x54076f(0xb10)][_0x54076f(0x87a)][_0x54076f(0xaa3)],renderAdditionalShortcutsModal();}),_0x9f789e[_0x56841b(0x7d6)](_0x56841b(0x6a5),_0x5eb86e=>{const _0x34d642=_0x56841b,_0x309a62=_0x5eb86e[_0x34d642(0xb10)];_0x309a62[_0x34d642(0xdd0)](_0x34d642(0x961))[_0x34d642(0x807)]['add'](_0x34d642(0x9f0));const _0x50682e=_0x309a62[_0x34d642(0xdd0)]('.tab-name-input');_0x50682e[_0x34d642(0x807)]['remove'](_0x34d642(0x9f0)),_0x50682e[_0x34d642(0x557)](),_0x50682e['select']();});}),document[_0x30a741(0x5f0)](_0x30a741(0xc7))[_0x30a741(0x8f9)](_0x4512c1=>{const _0x14c8d9=_0x30a741,_0xeffe45=()=>{const _0x1109fe=_0x28ee,_0x159a83=_0x4512c1['closest'](_0x1109fe(0x3f4))[_0x1109fe(0x87a)][_0x1109fe(0xaa3)];handleRenameShortcutTab(_0x159a83,_0x4512c1[_0x1109fe(0xa9f)]);};_0x4512c1[_0x14c8d9(0x7d6)](_0x14c8d9(0x4d4),_0xeffe45),_0x4512c1[_0x14c8d9(0x7d6)](_0x14c8d9(0x77a),_0x2a25b9=>{const _0x4b3682=_0x14c8d9;if(_0x2a25b9[_0x4b3682(0x40a)]===_0x4b3682(0xe28))_0x4512c1['blur']();});}),document['querySelectorAll'](_0x30a741(0x6df))[_0x30a741(0x8f9)](_0x4a585d=>{const _0x2b8f38=_0x30a741;_0x4a585d[_0x2b8f38(0x7d6)](_0x2b8f38(0x343),_0x5721af=>handleDeleteShortcutTab(_0x5721af['currentTarget']['dataset']['tabId']));}),document['querySelectorAll'](_0x30a741(0xe4d))[_0x30a741(0x8f9)](_0xcf87a8=>{const _0x3c8953=_0x30a741;_0xcf87a8[_0x3c8953(0x7d6)]('click',_0x295cf5=>{const _0x219519=_0x3c8953;_0x295cf5[_0x219519(0x54c)]();const {shortcutId:_0x483139,targetTabId:_0x3e1888}=_0x295cf5[_0x219519(0xb10)]['dataset'];handleMoveShortcutToTab(_0x483139,_0x3e1888);});}),document[_0x30a741(0x5f0)](_0x30a741(0xc46))[_0x30a741(0x8f9)](_0x32755a=>{const _0x792ce6=_0x30a741;_0x32755a['addEventListener'](_0x792ce6(0x343),_0x3c37b3=>{const _0x1dcf22=_0x792ce6;handleRemoveShortcutFromTab(_0x3c37b3[_0x1dcf22(0xb10)][_0x1dcf22(0x87a)][_0x1dcf22(0xb69)],activeShortcutTabId);});});const _0x446ec3=document['getElementById'](_0x30a741(0xc28));_0x446ec3[_0x30a741(0x5f0)](_0x30a741(0xbe7))[_0x30a741(0x8f9)](_0x4a6e84=>{const _0x3d379a=_0x30a741;_0x4a6e84[_0x3d379a(0x7d6)]('click',()=>{const _0x177158=_0x3d379a;document['getElementById'](_0x177158(0x521))[_0x177158(0x807)]['add'](_0x177158(0x9f0)),handleShortcutClick(_0x4a6e84[_0x177158(0x87a)]['id']);});});let _0x49b64b=null;_0x446ec3[_0x30a741(0x7d6)](_0x30a741(0xe19),_0x175fe3=>{const _0x29ca94=_0x30a741;_0x49b64b=_0x175fe3[_0x29ca94(0xc55)][_0x29ca94(0x43a)](_0x29ca94(0xbfd)),_0x49b64b&&setTimeout(()=>_0x49b64b[_0x29ca94(0x807)][_0x29ca94(0xcec)](_0x29ca94(0xd58)),0x0);}),_0x446ec3[_0x30a741(0x7d6)]('dragend',()=>{const _0x39d701=_0x30a741;_0x49b64b&&(_0x49b64b[_0x39d701(0x807)][_0x39d701(0x90e)]('opacity-50'),_0x49b64b=null);}),_0x446ec3[_0x30a741(0x7d6)](_0x30a741(0x74b),_0x2f56ae=>{const _0x287318=_0x30a741;_0x2f56ae[_0x287318(0x54c)]();const _0x318c15=[..._0x446ec3[_0x287318(0x5f0)](_0x287318(0xe8))][_0x287318(0xc59)]((_0x5c3b5a,_0x2d75cb)=>{const _0x3841ca=_0x287318,_0x12515f=_0x2d75cb[_0x3841ca(0x836)](),_0x5070b9=_0x2f56ae[_0x3841ca(0x950)]-_0x12515f['top']-_0x12515f[_0x3841ca(0x612)]/0x2;return _0x5070b9<0x0&&_0x5070b9>_0x5c3b5a['offset']?{'offset':_0x5070b9,'element':_0x2d75cb}:_0x5c3b5a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x287318(0x46e)];_0x318c15==null?_0x446ec3[_0x287318(0xb18)](_0x49b64b):_0x446ec3[_0x287318(0xbe2)](_0x49b64b,_0x318c15);}),_0x446ec3['addEventListener'](_0x30a741(0x274),_0x21fd06=>{const _0xcae0e4=_0x30a741;_0x21fd06['preventDefault']();if(_0x49b64b){const _0x1da78e=[..._0x446ec3[_0xcae0e4(0x5f0)](_0xcae0e4(0xbfd))][_0xcae0e4(0x141)](_0x41957b=>_0x41957b[_0xcae0e4(0x87a)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x1da78e);}}),document[_0x30a741(0x5f0)](_0x30a741(0x216))[_0x30a741(0x8f9)](_0x5096ee=>{const _0x334db0=_0x30a741;_0x5096ee[_0x334db0(0x7d6)]('click',_0x550a4d=>{const _0xed4a1a=_0x334db0;_0x550a4d[_0xed4a1a(0x18e)]();const _0x1ca376=_0x550a4d[_0xed4a1a(0xb10)][_0xed4a1a(0xca6)],_0x44483f=_0x1ca376['classList'][_0xed4a1a(0xa2d)]('hidden');document['querySelectorAll']('.move-shortcut-dropdown')[_0xed4a1a(0x8f9)](_0x5385e2=>_0x5385e2['classList']['add'](_0xed4a1a(0x9f0))),_0x44483f&&_0x1ca376[_0xed4a1a(0x807)][_0xed4a1a(0x90e)](_0xed4a1a(0x9f0));});});}document['addEventListener'](_0x157a22(0x343),_0x138600=>{const _0x46591f=_0x157a22;!_0x138600[_0x46591f(0xc55)][_0x46591f(0x43a)](_0x46591f(0xf9))&&document[_0x46591f(0x5f0)](_0x46591f(0x95e))[_0x46591f(0x8f9)](_0x3e9c9f=>_0x3e9c9f[_0x46591f(0x807)][_0x46591f(0xcec)](_0x46591f(0x9f0)));});async function saveShortcutConfig(){const _0x3668a3=_0x157a22,_0x3cc5d6=doc(db,_0x3668a3(0x7e7),_0x3668a3(0x5ce));try{await setDoc(_0x3cc5d6,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x219176){console[_0x3668a3(0xada)]('Error\x20saving\x20shortcut\x20config:',_0x219176);}}async function handleAddShortcutTab(){const _0x52c8a9=_0x157a22,_0x53c760=prompt(_0x52c8a9(0x129),_0x52c8a9(0x960));if(!_0x53c760||_0x53c760[_0x52c8a9(0x6b3)]()==='')return;shortcutTabs[_0x52c8a9(0xde9)]({'id':_0x52c8a9(0xbd7)+Date[_0x52c8a9(0x338)](),'name':_0x53c760[_0x52c8a9(0x6b3)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x36e8e9,_0x2e6488){const _0x1d1184=_0x157a22,_0x11e2e8=shortcutTabs[_0x1d1184(0x48e)](_0x33de29=>_0x33de29['id']===_0x36e8e9);_0x11e2e8&&_0x2e6488[_0x1d1184(0x6b3)]()!==''&&(_0x11e2e8[_0x1d1184(0x190)]=_0x2e6488[_0x1d1184(0x6b3)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4554b2){const _0x444f61=_0x157a22,_0x4ecf38=shortcutTabs[_0x444f61(0x48e)](_0xcf2420=>_0xcf2420['id']===_0x4554b2);_0x4ecf38&&!_0x4ecf38['isDefault']&&showConfirmation(_0x444f61(0x277)+_0x4ecf38[_0x444f61(0x190)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x101fbd=_0x444f61;shortcutTabs=shortcutTabs[_0x101fbd(0x512)](_0x5008aa=>_0x5008aa['id']!==_0x4554b2),delete shortcutOrder[_0x4554b2];if(activeShortcutTabId===_0x4554b2)activeShortcutTabId=_0x101fbd(0x3d5);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x32d527,_0x5dbe32){const _0x2c4200=_0x157a22,_0x335b11=shortcutTabs[_0x2c4200(0x48e)](_0x4d4197=>_0x4d4197['id']===_0x5dbe32);_0x335b11&&!_0x335b11[_0x2c4200(0xab5)][_0x2c4200(0x9e3)](_0x32d527)&&(_0x335b11[_0x2c4200(0xab5)][_0x2c4200(0xde9)](_0x32d527),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x1997bc,_0x1bae28){const _0x721bc=_0x157a22,_0x404f1f=shortcutTabs[_0x721bc(0x48e)](_0x3e454d=>_0x3e454d['id']===_0x1bae28);_0x404f1f&&!_0x404f1f[_0x721bc(0x6a2)]&&(_0x404f1f[_0x721bc(0xab5)]=_0x404f1f['shortcutIds'][_0x721bc(0x512)](_0x4a4079=>_0x4a4079!==_0x1997bc),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x5562d8,_0x5c344d){shortcutOrder[_0x5562d8]=_0x5c344d,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x2c2185=_0x157a22,_0x340660=document['getElementById']('blueprint-shortcut-container'),_0x1fd89f=document[_0x2c2185(0xccc)]('additional-shortcuts-list'),_0x45cf66=document[_0x2c2185(0xccc)](_0x2c2185(0x654));_0x45cf66&&_0x45cf66[_0x2c2185(0x807)]['add'](_0x2c2185(0x9f0));if(!_0x340660||!_0x1fd89f)return;const _0x4844ad=blueprintShortcuts[_0x2c2185(0xd3d)](0x0,0x4),_0x1268ac=blueprintShortcuts['slice'](0x4);_0x340660[_0x2c2185(0x93e)]=_0x4844ad[_0x2c2185(0x141)](_0x59fba2=>{const _0x36e1b9=_0x2c2185;let _0x20a7c8=_0x36e1b9(0x1ec),_0x11f34b='🧩';if(_0x59fba2[_0x36e1b9(0xc95)]&&_0x59fba2[_0x36e1b9(0xe0)])_0x20a7c8=_0x36e1b9(0xab7),_0x11f34b='📗';else _0x59fba2['blueprintUrl']&&(_0x20a7c8=_0x36e1b9(0xa14),_0x11f34b='📘');const _0xf98bf9=!_0x59fba2[_0x36e1b9(0x6a2)]?_0x36e1b9(0xcf5)+_0x59fba2['id']+_0x36e1b9(0x64d):'';return _0x36e1b9(0x4b6)+_0x59fba2['id']+_0x36e1b9(0x5c5)+_0x20a7c8+_0x36e1b9(0xaab)+_0x11f34b+'\x20'+_0x59fba2[_0x36e1b9(0x190)]+_0x36e1b9(0x755)+_0x59fba2['id']+_0x36e1b9(0x3a2)+_0xf98bf9+_0x36e1b9(0xc98);})[_0x2c2185(0x72e)](''),_0x1268ac['length']>0x0&&(_0x340660[_0x2c2185(0x93e)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1268ac[_0x2c2185(0x34a)]>0x0?_0x1fd89f[_0x2c2185(0x93e)]=_0x1268ac['map'](_0x1233ef=>{const _0x3d7cb5=_0x2c2185;let _0x566723='🧩';if(_0x1233ef['blueprintUrl']&&_0x1233ef[_0x3d7cb5(0xe0)])_0x566723='📗';else _0x1233ef[_0x3d7cb5(0xc95)]&&(_0x566723='📘');return _0x3d7cb5(0xb55)+_0x566723+'\x20'+_0x1233ef[_0x3d7cb5(0x190)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1233ef['id']+_0x3d7cb5(0x497)+_0x1233ef['id']+_0x3d7cb5(0x15c)+(!_0x1233ef[_0x3d7cb5(0x6a2)]?_0x3d7cb5(0xcf5)+_0x1233ef['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x3d7cb5(0x3bb);})[_0x2c2185(0x72e)](''):_0x1fd89f['innerHTML']=_0x2c2185(0xa4a);}function getMimeTypeFromFilename(_0x3a9169){const _0x297aec=_0x157a22,_0x274bdc=_0x3a9169[_0x297aec(0x9ae)]('.')[_0x297aec(0x89f)]()[_0x297aec(0x8e9)]();switch(_0x274bdc){case _0x297aec(0xd7f):return'application/pdf';case'txt':return _0x297aec(0xd6);default:return'application/pdf';}}function openShortcutEditor(_0x421d24=null){const _0x1ffb22=_0x157a22,_0x5d7942=document['getElementById'](_0x1ffb22(0x25a)),_0xbba3c0=document[_0x1ffb22(0xccc)](_0x1ffb22(0xa5d)),_0x1d672c=document[_0x1ffb22(0xccc)](_0x1ffb22(0xa8c)),_0xd5a40=document[_0x1ffb22(0xccc)]('shortcut-name-input'),_0x2e10cd=document[_0x1ffb22(0xccc)](_0x1ffb22(0xc66)),_0xf64d5=document[_0x1ffb22(0xccc)](_0x1ffb22(0x746));if(_0x421d24){const _0x5a853f=blueprintShortcuts[_0x1ffb22(0x48e)](_0x348e63=>_0x348e63['id']===_0x421d24);if(!_0x5a853f)return;_0xbba3c0['textContent']='แก้ไขปุ่มลัด',_0x1d672c[_0x1ffb22(0xa9f)]=_0x5a853f['id'],_0xd5a40['value']=_0x5a853f[_0x1ffb22(0x190)],_0x2e10cd[_0x1ffb22(0xa9f)]=_0x5a853f[_0x1ffb22(0xc95)]||'',_0xf64d5[_0x1ffb22(0xa9f)]=_0x5a853f['referenceUrl']||'';}else _0xbba3c0['textContent']=_0x1ffb22(0x840),_0x1d672c[_0x1ffb22(0xa9f)]='',_0xd5a40[_0x1ffb22(0xa9f)]='',_0x2e10cd[_0x1ffb22(0xa9f)]='',_0xf64d5['value']='';_0x5d7942[_0x1ffb22(0x807)][_0x1ffb22(0x90e)](_0x1ffb22(0x9f0));}async function saveShortcutChanges(){const _0x143e85=_0x157a22,_0x41922e=document[_0x143e85(0xccc)](_0x143e85(0xa8c))['value'],_0x5c898e=document[_0x143e85(0xccc)](_0x143e85(0xe87))[_0x143e85(0xa9f)][_0x143e85(0x6b3)](),_0x151b21=document[_0x143e85(0xccc)](_0x143e85(0xc66))[_0x143e85(0xa9f)][_0x143e85(0x6b3)]();if(!_0x5c898e||!_0x151b21){showMessage(_0x143e85(0xdd7));return;}const _0x105c00={'id':_0x41922e||_0x143e85(0xb9b)+Date[_0x143e85(0x338)](),'name':_0x5c898e,'blueprintUrl':_0x151b21,'referenceUrl':document[_0x143e85(0xccc)](_0x143e85(0x746))[_0x143e85(0xa9f)]['trim'](),'isDefault':_0x41922e[_0x143e85(0xb2c)](_0x143e85(0xbcd))};let _0xf10273;_0x41922e?_0xf10273=blueprintShortcuts[_0x143e85(0x141)](_0x23a3a5=>_0x23a3a5['id']===_0x41922e?_0x105c00:_0x23a3a5):_0xf10273=[...blueprintShortcuts,_0x105c00];try{const _0x289dd5=doc(db,_0x143e85(0x7e7),_0x143e85(0x5ce));await setDoc(_0x289dd5,{'blueprintShortcuts':_0xf10273},{'merge':!![]}),document[_0x143e85(0xccc)]('shortcut-editor-modal')[_0x143e85(0x807)][_0x143e85(0xcec)]('hidden');}catch(_0x37f543){console[_0x143e85(0xada)](_0x143e85(0xe41),_0x37f543),showMessage(_0x143e85(0xc5e));}}async function handleShortcutClick(_0x1aa13e){const _0x3d9452=_0x157a22,_0x43f0a7=blueprintShortcuts[_0x3d9452(0x48e)](_0x3af415=>_0x3af415['id']===_0x1aa13e);if(!_0x43f0a7||!_0x43f0a7[_0x3d9452(0xc95)])return;document[_0x3d9452(0xccc)]('blueprint-options-container')['classList'][_0x3d9452(0xcec)]('hidden'),document[_0x3d9452(0xccc)](_0x3d9452(0x185))[_0x3d9452(0x7ef)]=!![];const _0x4bce66=document['getElementById'](_0x3d9452(0xdf)),_0x1a7fb0=document[_0x3d9452(0xccc)]('loader-text');document[_0x3d9452(0xccc)]('quiz-generation-area')[_0x3d9452(0x807)]['remove']('hidden'),document[_0x3d9452(0xccc)](_0x3d9452(0x4b1))['innerHTML']='',_0x4bce66[_0x3d9452(0x807)]['remove']('hidden');try{_0x1a7fb0[_0x3d9452(0xc76)]=_0x3d9452(0x7c7);const _0x404c98=await fetchFileFromUrl(_0x43f0a7[_0x3d9452(0xc95)],_0x3d9452(0xb57));let _0x11f9c0=null;if(_0x43f0a7[_0x3d9452(0xe0)]){_0x1a7fb0[_0x3d9452(0xc76)]=_0x3d9452(0x910);const _0x2be789=_0x43f0a7[_0x3d9452(0xe0)][_0x3d9452(0x8e9)]()[_0x3d9452(0x866)](_0x3d9452(0x51e))?_0x3d9452(0x13d):_0x3d9452(0x4bd);_0x11f9c0=await fetchFileFromUrl(_0x43f0a7[_0x3d9452(0xe0)],_0x2be789);}await handleGenerateFromBlueprintWithFiles(_0x404c98,_0x11f9c0);}catch(_0x49766e){console[_0x3d9452(0xada)](_0x3d9452(0x4f7),_0x49766e),showMessage(_0x3d9452(0x153)+_0x49766e[_0x3d9452(0x267)]),_0x4bce66['classList'][_0x3d9452(0xcec)](_0x3d9452(0x9f0));}}function getDirectDownloadUrl(_0x128d84){const _0x32a09d=_0x157a22,_0x58a961=_0x128d84[_0x32a09d(0xd3c)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x58a961&&_0x58a961[0x1])return _0x32a09d(0xf1)+_0x58a961[0x1];return _0x128d84;}async function fetchFileFromUrl(_0xbf202,_0x54d022){const _0x164833=_0x157a22,_0x553e61=getDirectDownloadUrl(_0xbf202),_0x4c1121='https://corsproxy.io/?'+encodeURIComponent(_0x553e61),_0x5dc17b=await fetch(_0x4c1121);if(!_0x5dc17b['ok'])throw new Error(_0x164833(0xb1b)+_0x5dc17b[_0x164833(0xab3)]+')');const _0x4848d4=await _0x5dc17b['blob'](),_0x301d02=await new Promise((_0x56bbc6,_0x422f01)=>{const _0x48660e=_0x164833,_0x50176f=new FileReader();_0x50176f['onloadend']=()=>_0x56bbc6(new Uint8Array(_0x50176f[_0x48660e(0x1c8)])),_0x50176f['onerror']=_0x422f01,_0x50176f[_0x48660e(0x3dc)](_0x4848d4['slice'](0x0,0x4));});let _0x61e539='';const _0x30831c=new TextDecoder()[_0x164833(0x4e0)](_0x301d02);return _0x30831c===_0x164833(0x11d)?(_0x61e539=_0x164833(0x132),console[_0x164833(0x700)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x61e539=_0x164833(0xd6),console[_0x164833(0x700)](_0x164833(0x308))),new File([_0x4848d4],_0x54d022,{'type':_0x61e539});}async function handleGenerateFromBlueprintWithFiles(_0x2dc138,_0x574355=null){const _0x2dd929=_0x157a22;if(!_0x2dc138){showMessage(_0x2dd929(0x987));return;}const _0x25efee=document['getElementById'](_0x2dd929(0xdf)),_0x2aed82=document[_0x2dd929(0xccc)](_0x2dd929(0x38f));_0x25efee[_0x2dd929(0x807)][_0x2dd929(0x90e)]('hidden'),document[_0x2dd929(0xccc)]('quiz-generation-area')[_0x2dd929(0x807)]['remove']('hidden'),document[_0x2dd929(0xccc)](_0x2dd929(0x4b1))[_0x2dd929(0x93e)]='';try{_0x2aed82[_0x2dd929(0xc76)]=_0x2dd929(0x50e);const _0x27fea8=await new Promise((_0xd7e099,_0x4ee73b)=>{const _0x87cba4=_0x2dd929,_0x1f8c0d=new FileReader();_0x1f8c0d[_0x87cba4(0xc7e)](_0x2dc138),_0x1f8c0d['onload']=()=>_0xd7e099(_0x1f8c0d['result'][_0x87cba4(0x9ae)](',')[0x1]),_0x1f8c0d['onerror']=_0x4ee73b;}),_0x275891=[];if(_0x574355){_0x2aed82[_0x2dd929(0xc76)]=_0x2dd929(0x3a3);const _0x5e587f=await _0x574355[_0x2dd929(0x84b)]();_0x275891[_0x2dd929(0xde9)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x5e587f});}const _0x3497c9=[{'text':'...'},{'inlineData':{'mimeType':_0x2dc138['type'],'data':_0x27fea8}},..._0x275891];await handleGenerateFromBlueprint(_0x3497c9);}catch(_0x21659a){console[_0x2dd929(0xada)]('Error\x20in\x20generating\x20from\x20files:',_0x21659a),showMessage(_0x2dd929(0x153)+_0x21659a['message']),_0x25efee['classList']['add'](_0x2dd929(0x9f0));}}async function handleLiveAnswer(_0x393e2a,_0x533ddb){const _0x284269=_0x157a22;document[_0x284269(0x5f0)](_0x284269(0xa42))[_0x284269(0x8f9)](_0x5ea48d=>_0x5ea48d[_0x284269(0x7ef)]=!![]);const _0x4ccfbe=_0x533ddb[_0x284269(0x36c)]||currentQuizData[_0x284269(0x7fc)];let _0x63ddce=![],_0x341eed=_0x393e2a;if(_0x4ccfbe===_0x284269(0xb27)){const _0x4671f6=(_0x393e2a||'')[_0x284269(0x438)]();_0x63ddce=await gradeShortAnswer(_0x4671f6,_0x533ddb);}else{if(_0x4ccfbe===_0x284269(0x75f))_0x63ddce=_0x393e2a===_0x533ddb[_0x284269(0x2bd)];else{if(_0x4ccfbe===_0x284269(0xc6b)){const _0x5ade4b=_0x533ddb[_0x284269(0xcab)];_0x63ddce=_0x393e2a===0x0&&_0x5ade4b||_0x393e2a===0x1&&!_0x5ade4b;}else{if(_0x4ccfbe==='matching_item'){const _0x428e6e=_0x533ddb[_0x284269(0x2c7)][_0x393e2a];_0x63ddce=_0x428e6e===_0x533ddb[_0x284269(0xb75)],_0x341eed=_0x428e6e;}}}}const _0x111936=doc(db,'artifacts/'+appId+_0x284269(0xaa9),currentLiveGameId),_0x26b4c5={};_0x26b4c5[_0x284269(0x411)+currentStudentName+_0x284269(0x1f4)]=!![],_0x26b4c5['players.'+currentStudentName+_0x284269(0x687)]=_0x63ddce,_0x26b4c5['players.'+currentStudentName+_0x284269(0xa8d)]=_0x4ccfbe==='short_answer'||_0x4ccfbe===_0x284269(0x283)?null:_0x393e2a,_0x26b4c5['players.'+currentStudentName+'.lastAnswerValue']=_0x341eed,_0x26b4c5[_0x284269(0x411)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x26b4c5['players.'+currentStudentName+_0x284269(0xa58)]=![],await updateDoc(_0x111936,_0x26b4c5),liveGameView[_0x284269(0x93e)]=_0x284269(0x17c);}function showAdminSummaryView(_0x29cbe2,_0x5c9844){const _0x29c04e=_0x157a22,_0x50fd91=Object[_0x29c04e(0x11b)](_0x29cbe2[_0x29c04e(0xded)]||{}),_0x2aed81=_0x5c9844[_0x29c04e(0x36c)]||currentQuizData['quizType'],_0x41b3fa=_0x2aed81===_0x29c04e(0xc6b)?[_0x29c04e(0xab2),_0x29c04e(0x342)]:_0x5c9844['options']||_0x5c9844[_0x29c04e(0x2c7)]||[],_0x165fff={},_0x16a7f3=new Array(_0x41b3fa[_0x29c04e(0x34a)])[_0x29c04e(0xa43)](0x0);_0x41b3fa[_0x29c04e(0x8f9)]((_0x27b1df,_0xf50a3d)=>{_0x165fff[_0xf50a3d]=[];}),Object[_0x29c04e(0xbd3)](_0x29cbe2[_0x29c04e(0xded)]||{})[_0x29c04e(0x8f9)](([_0x3cae3a,_0x39eb7b])=>{const _0x5c238b=_0x29c04e;if(_0x39eb7b[_0x5c238b(0xab3)]===_0x5c238b(0x130)&&_0x39eb7b[_0x5c238b(0x5ea)]!==undefined){const _0x4e822e=_0x39eb7b['lastAnswerIndex'];_0x165fff[_0x4e822e]&&(_0x165fff[_0x4e822e][_0x5c238b(0xde9)](_0x3cae3a),_0x16a7f3[_0x4e822e]++);}});const _0x1e3f81=Math[_0x29c04e(0xaa7)](..._0x16a7f3,0x1),_0x3cb5a1=_0x29c04e(0x651)+(_0x5c9844[_0x29c04e(0x6a8)]||_0x5c9844[_0x29c04e(0x885)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16a7f3['map']((_0x3a819c,_0x1b9216)=>{const _0x34a007=_0x29c04e,_0x1d7c2a=_0x165fff[_0x1b9216][_0x34a007(0x34a)]>0x0?_0x165fff[_0x1b9216]['join'](',\x20'):_0x34a007(0xe83);let _0x7210ff=![];if(_0x2aed81==='multiple_choice')_0x7210ff=_0x1b9216===_0x5c9844['correctAnswerIndex'];else{if(_0x2aed81===_0x34a007(0xc6b)){const _0x43978c=_0x5c9844[_0x34a007(0xcab)];_0x7210ff=_0x43978c&&_0x1b9216===0x0||!_0x43978c&&_0x1b9216===0x1;}else _0x2aed81==='matching_item'&&(_0x7210ff=_0x41b3fa[_0x1b9216]===_0x5c9844['correctResponse']);}const _0xac1e0d=_0x7210ff?_0x34a007(0x291):_0x34a007(0xd3);return _0x34a007(0x4eb)+_0x3a819c+_0x34a007(0xa03)+_0xac1e0d+_0x34a007(0x883)+_0x1b9216+_0x34a007(0x73d)+_0x41b3fa[_0x1b9216]+_0x34a007(0xe35)+_0x1b9216+_0x34a007(0x59c)+_0x1d7c2a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x29c04e(0x72e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x29c04e(0x93e)]=_0x3cb5a1;if(window[_0x29c04e(0x5e4)])MathJax[_0x29c04e(0xd06)]();document[_0x29c04e(0xccc)](_0x29c04e(0x413))['addEventListener'](_0x29c04e(0x343),async()=>{const _0x4a11bd=_0x29c04e,_0x5b6a33=doc(db,_0x4a11bd(0x331)+appId+_0x4a11bd(0xaa9),currentLiveGameId);await updateDoc(_0x5b6a33,{'questionStatus':_0x4a11bd(0x56f)});}),document[_0x29c04e(0xccc)](_0x29c04e(0x6d5))[_0x29c04e(0x7d6)]('click',()=>{openScratchpad(_0x5c9844,_0x41b3fa);});}function showPlayerSummaryView(_0x7c8952,_0x2e7e1e){const _0x5228ae=_0x157a22,_0xa2f825=Object[_0x5228ae(0x11b)](_0x7c8952[_0x5228ae(0xded)]||{}),_0x4556e8=_0x7c8952[_0x5228ae(0xded)][_0x2e7e1e],_0x944f5=_0xa2f825['filter'](_0x33b8b6=>_0x33b8b6[_0x5228ae(0xab3)]===_0x5228ae(0x130))[_0x5228ae(0x4b3)]((_0x846cfc,_0x22a1b8)=>_0x22a1b8[_0x5228ae(0x5c3)]-_0x846cfc[_0x5228ae(0x5c3)]),_0x414da4=_0x944f5['findIndex'](_0x32340c=>_0x32340c===_0x4556e8)+0x1,_0x55cedd=_0x4556e8[_0x5228ae(0xe4e)]?_0x5228ae(0xb14):_0x5228ae(0xae0),_0x5b3bb0=_0x4556e8[_0x5228ae(0xe4e)]?_0x5228ae(0x237):_0x5228ae(0xa2a),_0x55d8ea=_0x4556e8[_0x5228ae(0x9d5)]||0x0,_0x36095b=_0x5228ae(0x380),_0x31f315=_0x5228ae(0xc9)+_0x36095b+_0x5228ae(0x930)+_0x5b3bb0+_0x5228ae(0xd49)+_0x55cedd+_0x5228ae(0xa74)+_0x55d8ea+_0x5228ae(0xafa)+(_0x414da4>0x0?_0x414da4:'-')+_0x5228ae(0xb68);liveGameView[_0x5228ae(0x93e)]=_0x31f315;}function createQuizFromBank(){const _0x2c0390=_0x157a22,_0x44527f=document[_0x2c0390(0x5f0)](_0x2c0390(0x54b));if(_0x44527f[_0x2c0390(0x34a)]===0x0){showMessage(_0x2c0390(0x403));return;}const _0x42e7ec=[];_0x44527f['forEach'](_0x50e1d2=>{const _0x376b58=_0x2c0390;_0x42e7ec['push'](JSON['parse'](_0x50e1d2[_0x376b58(0xa9f)]));});const _0x4efc90={'topic':_0x2c0390(0xd4a),'questions':_0x42e7ec};displayGeneratedQuiz(_0x4efc90);}function showAdminLobbyView(_0x3f9745,_0x1b43e6){const _0x15e5d5=_0x157a22;showView(_0x15e5d5(0xd43));const _0x262a80=_0x15e5d5(0xd67)+_0x1b43e6+_0x15e5d5(0x5a4)+_0x3f9745+_0x15e5d5(0x533);liveGameView['innerHTML']=_0x262a80,document['getElementById'](_0x15e5d5(0x4cf))[_0x15e5d5(0x7d6)](_0x15e5d5(0x343),async()=>{const _0x23b6c5=_0x15e5d5;if(!currentQuizData||!currentQuizData[_0x23b6c5(0xdbf)]||currentQuizData[_0x23b6c5(0xdbf)][_0x23b6c5(0x34a)]===0x0){showMessage(_0x23b6c5(0x875));return;}try{const _0x28e23d=doc(db,_0x23b6c5(0x331)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x28e23d,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1c05cd=currentQuizData[_0x23b6c5(0xdbf)][0x0],_0x4c4609=currentQuizData[_0x23b6c5(0xdbf)][_0x23b6c5(0x34a)];showAdminLiveQuestionView(_0x1c05cd,0x0,_0x4c4609);}catch(_0x3adae2){console[_0x23b6c5(0xada)](_0x23b6c5(0x239),_0x3adae2),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x5efcf6=_0x157a22;if(allQuizzesGlobal[_0x5efcf6(0x34a)]===0x0){const _0x28cf9c=await getDocs(collection(db,_0x5efcf6(0x331)+appId+_0x5efcf6(0x78d)));allQuizzesGlobal=_0x28cf9c['docs'][_0x5efcf6(0x141)](_0xe1e999=>({'id':_0xe1e999['id'],..._0xe1e999[_0x5efcf6(0xd60)]()}));}renderQuizBankList(''),document[_0x5efcf6(0xccc)](_0x5efcf6(0x86a))[_0x5efcf6(0x807)][_0x5efcf6(0x90e)](_0x5efcf6(0x9f0));}function renderQuizBankList(_0x49a215='',_0x29c757=![]){const _0x5b65fb=_0x157a22,_0x292ccf=document[_0x5b65fb(0xccc)]('bank-quiz-list'),_0x5ae64f=_0x49a215['toLowerCase']()['trim'](),_0x55fe34=allQuizzesGlobal[_0x5b65fb(0x141)](_0xe4ebdf=>({..._0xe4ebdf,'projectName':allProjects[_0x5b65fb(0x48e)](_0x3df172=>_0x3df172['id']===_0xe4ebdf[_0x5b65fb(0x737)])?.[_0x5b65fb(0x284)]||_0x5b65fb(0x156)}))['filter'](_0x2f43fa=>(_0x2f43fa[_0x5b65fb(0xe36)]||'')[_0x5b65fb(0x8e9)]()[_0x5b65fb(0x9e3)](_0x5ae64f)||(_0x2f43fa['projectName']||'')[_0x5b65fb(0x8e9)]()[_0x5b65fb(0x9e3)](_0x5ae64f)||_0x2f43fa['id'][_0x5b65fb(0x438)]()[_0x5b65fb(0x9e3)](_0x5ae64f));document[_0x5b65fb(0xccc)](_0x5b65fb(0x16c))[_0x5b65fb(0xc76)]='('+_0x55fe34[_0x5b65fb(0x34a)]+_0x5b65fb(0x61e),_0x292ccf[_0x5b65fb(0x93e)]=_0x55fe34[_0x5b65fb(0x34a)]?_0x55fe34[_0x5b65fb(0x141)](_0x5d781c=>{const _0x4d4dad=_0x5b65fb,_0x5663a9=!_0x29c757?_0x4d4dad(0x8ec)+_0x5d781c['id']+_0x4d4dad(0x450)+_0x5d781c['id']+_0x4d4dad(0xaf2)+_0x5d781c['id']+_0x4d4dad(0x194)+_0x5d781c['id']+_0x4d4dad(0x925)+_0x5d781c['id']+_0x4d4dad(0xc2c)+_0x5d781c['id']+_0x4d4dad(0xbda)+_0x5d781c[_0x4d4dad(0xe36)]+_0x4d4dad(0xe06):'';return _0x4d4dad(0xa23)+_0x5d781c['id']+_0x4d4dad(0x485)+(_0x5d781c[_0x4d4dad(0xe36)]||'(ไม่มีชื่อ)')+_0x4d4dad(0x11c)+(_0x5d781c[_0x4d4dad(0xdbf)]?.[_0x4d4dad(0x34a)]||0x0)+_0x4d4dad(0x5f4)+_0x5d781c[_0x4d4dad(0x284)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x5d781c['id']+_0x4d4dad(0xdef)+_0x5663a9+_0x4d4dad(0xc12);})['join'](''):_0x5b65fb(0x16a),!_0x29c757&&(_0x292ccf[_0x5b65fb(0x5f0)](_0x5b65fb(0x349))[_0x5b65fb(0x8f9)](_0x2fb6f3=>{const _0x552543=_0x5b65fb;_0x2fb6f3[_0x552543(0x7d6)]('click',()=>{const _0x3606c8=_0x552543,_0x27ce6d=_0x2fb6f3[_0x3606c8(0x87a)]['id'];document['getElementById'](_0x3606c8(0x86a))[_0x3606c8(0x807)][_0x3606c8(0xcec)]('hidden'),showQuizDetailView(_0x27ce6d);});}),_0x292ccf[_0x5b65fb(0x5f0)]('.quiz-bank-try-btn')[_0x5b65fb(0x8f9)](_0x3f6979=>{const _0x205347=_0x5b65fb;_0x3f6979['addEventListener'](_0x205347(0x343),_0x546601=>{const _0x3041f4=_0x205347;_0x546601[_0x3041f4(0x18e)]();const _0x207a0c=_0x3f6979[_0x3041f4(0x87a)]['id'],_0x5ab6b8=allQuizzesGlobal[_0x3041f4(0x48e)](_0x54503d=>_0x54503d['id']===_0x207a0c);_0x5ab6b8?(currentQuizData=_0x5ab6b8,document[_0x3041f4(0xccc)]('quiz-bank-modal')[_0x3041f4(0x807)][_0x3041f4(0xcec)](_0x3041f4(0x9f0)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x292ccf[_0x5b65fb(0x5f0)](_0x5b65fb(0x193))[_0x5b65fb(0x8f9)](_0x29b934=>{const _0x5a9214=_0x5b65fb;_0x29b934[_0x5a9214(0x7d6)](_0x5a9214(0x343),_0x404975=>{const _0x2d5b6c=_0x5a9214;_0x404975[_0x2d5b6c(0x18e)]();const _0x42b06a=_0x29b934[_0x2d5b6c(0x87a)]['id'],_0x2c8ada=allQuizzesGlobal[_0x2d5b6c(0x48e)](_0xc8ba1b=>_0xc8ba1b['id']===_0x42b06a);_0x2c8ada?(document[_0x2d5b6c(0xccc)](_0x2d5b6c(0x86a))[_0x2d5b6c(0x807)][_0x2d5b6c(0xcec)]('hidden'),handleGenerateParallelFromBank(_0x2c8ada)):showMessage(_0x2d5b6c(0x121));});}),_0x292ccf[_0x5b65fb(0x5f0)](_0x5b65fb(0x48c))[_0x5b65fb(0x8f9)](_0x7ffc26=>{const _0x1817b9=_0x5b65fb;_0x7ffc26[_0x1817b9(0x7d6)]('click',_0x56e8f6=>{const _0x2e2012=_0x1817b9;_0x56e8f6[_0x2e2012(0x18e)]();const _0x4c758c=_0x7ffc26[_0x2e2012(0x87a)]['id'],_0x4c65ee=allQuizzesGlobal[_0x2e2012(0x48e)](_0x5ad242=>_0x5ad242['id']===_0x4c758c);_0x4c65ee?(document[_0x2e2012(0xccc)](_0x2e2012(0x86a))[_0x2e2012(0x807)]['add'](_0x2e2012(0x9f0)),startPresentation(_0x4c65ee)):showMessage(_0x2e2012(0x121));});}),_0x292ccf[_0x5b65fb(0x5f0)]('.quiz-bank-move-btn')[_0x5b65fb(0x8f9)](_0x2732bf=>{const _0x58174d=_0x5b65fb;_0x2732bf[_0x58174d(0x7d6)](_0x58174d(0x343),_0x9f14d3=>{const _0x5ad164=_0x58174d;_0x9f14d3[_0x5ad164(0x18e)]();const _0x5c0a36=_0x2732bf[_0x5ad164(0x87a)]['id'];document[_0x5ad164(0xccc)](_0x5ad164(0x86a))[_0x5ad164(0x807)][_0x5ad164(0xcec)](_0x5ad164(0x9f0)),handleMoveQuiz(_0x5c0a36);});}),_0x292ccf['querySelectorAll'](_0x5b65fb(0x1bd))['forEach'](_0x300948=>{const _0x2f6b0c=_0x5b65fb;_0x300948[_0x2f6b0c(0x7d6)](_0x2f6b0c(0x343),_0x52dcef=>{const _0x1042d6=_0x2f6b0c;_0x52dcef[_0x1042d6(0x18e)]();const _0x51834e=_0x300948[_0x1042d6(0x87a)]['id'];document[_0x1042d6(0xccc)]('quiz-bank-modal')[_0x1042d6(0x807)][_0x1042d6(0xcec)]('hidden'),handleQuizSettings(_0x51834e);});}),_0x292ccf[_0x5b65fb(0x5f0)]('.quiz-bank-delete-btn')[_0x5b65fb(0x8f9)](_0x485dcb=>{const _0x559708=_0x5b65fb;_0x485dcb[_0x559708(0x7d6)](_0x559708(0x343),_0x3b72fd=>{const _0x3365b8=_0x559708;_0x3b72fd['stopPropagation']();const _0x229035=_0x485dcb[_0x3365b8(0x87a)]['id'],_0x1c3923=_0x485dcb[_0x3365b8(0x87a)][_0x3365b8(0xe36)];showConfirmation(_0x3365b8(0x231)+_0x1c3923+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x229035));});}));}async function handleCompareResults(_0x23e7cf,_0x31b5ff){const _0x13f6ef=_0x157a22,_0x12d3e6=document[_0x13f6ef(0xccc)]('comparison-modal'),_0x23f1de=document[_0x13f6ef(0xccc)](_0x13f6ef(0xbe6)),_0x5a2c52=document[_0x13f6ef(0xccc)](_0x13f6ef(0xc74));document['getElementById']('comparison-overall-tab')[_0x13f6ef(0x807)][_0x13f6ef(0xcec)](_0x13f6ef(0x130)),document['getElementById']('comparison-individual-tab')[_0x13f6ef(0x807)][_0x13f6ef(0x90e)]('active'),_0x23f1de[_0x13f6ef(0x807)][_0x13f6ef(0x90e)]('hidden'),_0x5a2c52[_0x13f6ef(0x807)][_0x13f6ef(0xcec)](_0x13f6ef(0x9f0)),_0x23f1de[_0x13f6ef(0x93e)]=_0x13f6ef(0x8a2),_0x5a2c52[_0x13f6ef(0x93e)]='',_0x12d3e6[_0x13f6ef(0x807)]['remove'](_0x13f6ef(0x9f0));try{const _0x4bcae2=doc(db,'artifacts/'+appId+_0x13f6ef(0x78d),_0x23e7cf),_0x22c6b7=await getDoc(_0x4bcae2);if(!_0x22c6b7[_0x13f6ef(0xc43)]())throw new Error(_0x13f6ef(0x4ad));const _0x33b939=_0x22c6b7[_0x13f6ef(0xd60)](),_0x10b65a=_0x33b939[_0x13f6ef(0xdbf)]['length'],_0x518ed8=collection(db,'artifacts/'+appId+_0x13f6ef(0xe48)+_0x31b5ff+_0x13f6ef(0x3d6)),_0x4cb5dd=collection(db,_0x13f6ef(0x331)+appId+_0x13f6ef(0xe48)+_0x23e7cf+'/submissions'),[_0x4d2bf5,_0x534eb3]=await Promise[_0x13f6ef(0x3d5)]([getDocs(_0x518ed8),getDocs(_0x4cb5dd)]),_0x2fbfc3=_0x4d2bf5['docs'][_0x13f6ef(0x141)](_0x2a02e6=>_0x2a02e6[_0x13f6ef(0xd60)]()),_0x30d000=_0x534eb3[_0x13f6ef(0xbe9)]['map'](_0x5d0cc0=>_0x5d0cc0[_0x13f6ef(0xd60)]()),_0x2761b3=_0x2fbfc3[_0x13f6ef(0x141)](_0x31df06=>_0x31df06[_0x13f6ef(0x2d2)]),_0x4092c1=_0x30d000[_0x13f6ef(0x141)](_0x3f051f=>_0x3f051f[_0x13f6ef(0x2d2)]),_0x141777=calculateMeanAndStdDev(_0x2761b3),_0x5ea22f=calculateMeanAndStdDev(_0x4092c1),_0x35c89a=_0x141777[_0x13f6ef(0x232)],_0x44cab8=_0x5ea22f[_0x13f6ef(0x232)],_0x576e1c=_0x44cab8-_0x35c89a;let _0x3dcf8f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x35c89a[_0x13f6ef(0xd2d)](0x2)+_0x13f6ef(0x148)+_0x44cab8['toFixed'](0x2)+_0x13f6ef(0x490)+(_0x576e1c>=0x0?'bg-emerald-100':_0x13f6ef(0x3c2))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x576e1c>=0x0?_0x13f6ef(0xe84):_0x13f6ef(0xcfb))+_0x13f6ef(0xa6f)+(_0x576e1c>=0x0?_0x13f6ef(0x161):_0x13f6ef(0x4f5))+'\x22>'+(_0x576e1c>=0x0?'+':'')+_0x576e1c['toFixed'](0x2)+_0x13f6ef(0x6c8);_0x23f1de['innerHTML']=_0x3dcf8f;const _0x1e6baf=document['getElementById'](_0x13f6ef(0x2e9))[_0x13f6ef(0xda2)]('2d');if(chartInstances['comparison'])chartInstances[_0x13f6ef(0x2cd)][_0x13f6ef(0x5e7)]();chartInstances['comparison']=new Chart(_0x1e6baf,{'type':_0x13f6ef(0x827),'data':{'labels':[_0x13f6ef(0x562)],'datasets':[{'label':_0x13f6ef(0xd88),'data':[_0x35c89a],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x13f6ef(0x772),'data':[_0x44cab8],'backgroundColor':_0x13f6ef(0x8f7)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x10b65a}}}});const _0x5164e6=currentProjectData['students']||[],_0x514c51=_0x5164e6[_0x13f6ef(0x141)](_0x554ee5=>{const _0x204ab6=_0x13f6ef,_0x276cbe=_0x2fbfc3[_0x204ab6(0x48e)](_0x13d201=>_0x13d201[_0x204ab6(0x894)]===_0x554ee5),_0x17eb20=_0x30d000['find'](_0x3ba8ee=>_0x3ba8ee[_0x204ab6(0x894)]===_0x554ee5),_0x3e9277=_0x276cbe?_0x276cbe[_0x204ab6(0x2d2)]:null,_0x29817d=_0x17eb20?_0x17eb20[_0x204ab6(0x2d2)]:null,_0x15fa83=_0x3e9277!==null&&_0x29817d!==null?_0x29817d-_0x3e9277:null,_0x46f1bb=_0x3e9277!==null?calculateZScore(_0x3e9277,_0x141777['mean'],_0x141777['stdDev']):null,_0x1700e7=_0x29817d!==null?calculateZScore(_0x29817d,_0x5ea22f['mean'],_0x5ea22f[_0x204ab6(0xdf2)]):null,_0x2fd196=_0x46f1bb!==null?calculateTScore(_0x46f1bb):null,_0x37bd7d=_0x1700e7!==null?calculateTScore(_0x1700e7):null,_0x250c80=_0x2fd196!==null&&_0x37bd7d!==null?_0x37bd7d-_0x2fd196:null;return{'name':_0x554ee5,'preScore':_0x3e9277,'postScore':_0x29817d,'gain':_0x15fa83,'preTScore':_0x2fd196,'postTScore':_0x37bd7d,'tGain':_0x250c80};});renderIndividualComparisonTable(_0x514c51,_0x5a2c52);}catch(_0x252e5c){console[_0x13f6ef(0xada)](_0x13f6ef(0xe56),_0x252e5c),_0x23f1de[_0x13f6ef(0x93e)]=_0x13f6ef(0xc32);}}async function saveBlueprintProject(){const _0x325505=_0x157a22;if(!extractedBlueprintData||!extractedBlueprintData[_0x325505(0xc77)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x5f19e9=prompt(_0x325505(0xd03),_0x325505(0x811));if(!_0x5f19e9||_0x5f19e9['trim']()==='')return;const _0x38c377={};extractedBlueprintData[_0x325505(0xc77)]['forEach'](_0x39ee0b=>{const _0x4c3168=_0x325505;_0x39ee0b[_0x4c3168(0x21e)][_0x4c3168(0x8f9)](_0x30ad53=>{const _0x28ddb6=_0x4c3168;_0x30ad53[_0x28ddb6(0x80d)][_0x28ddb6(0x8f9)](_0x2cdde0=>{const _0x4b4ade=_0x28ddb6,_0x4912f2=_0x4b4ade(0xdc9)+Date[_0x4b4ade(0x338)]()+Math[_0x4b4ade(0x373)]()[_0x4b4ade(0x438)](0x24)[_0x4b4ade(0xb97)](0x2,0x9);_0x38c377[_0x4912f2]={'sara':_0x39ee0b[_0x4b4ade(0x47e)],'mainTopic':_0x30ad53[_0x4b4ade(0xd8)],'subTopic':_0x2cdde0,'status':_0x4b4ade(0x5bc),'lessonContent':null};});});});try{const _0x1c5d84=collection(db,_0x325505(0x331)+appId+_0x325505(0x160));await addDoc(_0x1c5d84,{'projectName':_0x5f19e9[_0x325505(0x6b3)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x38c377,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x5f19e9[_0x325505(0x6b3)]()+'\x22\x20สำเร็จ!'),document[_0x325505(0xccc)](_0x325505(0xe6d))['classList'][_0x325505(0xcec)](_0x325505(0x9f0));}catch(_0xabd1fc){console[_0x325505(0xada)]('Error\x20saving\x20blueprint\x20project:',_0xabd1fc),showMessage(_0x325505(0x317));}}async function showBlueprintProjects(){const _0x2f0b65=_0x157a22,_0xfeec70=document[_0x2f0b65(0xccc)](_0x2f0b65(0x3ee)),_0x5677bb=document[_0x2f0b65(0xccc)](_0x2f0b65(0x45b));_0x5677bb[_0x2f0b65(0x93e)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0xfeec70[_0x2f0b65(0x807)]['remove'](_0x2f0b65(0x9f0));try{const _0x1db472=collection(db,_0x2f0b65(0x331)+appId+'/public/data/blueprintProjects'),_0x341c4b=await getDocs(_0x1db472);if(_0x341c4b['empty']){_0x5677bb[_0x2f0b65(0x93e)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x296519=_0x341c4b[_0x2f0b65(0xbe9)][_0x2f0b65(0x141)](_0x51ed33=>({'id':_0x51ed33['id'],..._0x51ed33[_0x2f0b65(0xd60)]()}));_0x296519['sort']((_0x2e9686,_0x3a4088)=>_0x2e9686[_0x2f0b65(0x284)][_0x2f0b65(0x2ef)](_0x3a4088[_0x2f0b65(0x284)],'th')),_0x5677bb[_0x2f0b65(0x93e)]=_0x296519[_0x2f0b65(0x141)](_0xdbff36=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0xdbff36[_0x2f0b65(0x284)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0xdbff36[_0x2f0b65(0x424)]+_0x2f0b65(0x43f)+Object[_0x2f0b65(0x69e)](_0xdbff36[_0x2f0b65(0x6e0)])[_0x2f0b65(0x34a)]+_0x2f0b65(0xd5b)+_0xdbff36['id']+_0x2f0b65(0x8e2)+_0xdbff36['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2f0b65(0x72e)]('');}catch(_0x457de7){console[_0x2f0b65(0xada)](_0x2f0b65(0x504),_0x457de7),_0x5677bb[_0x2f0b65(0x93e)]=_0x2f0b65(0xc8c);}}async function displayBlueprintProjectManager(_0x50390a){const _0x561ee5=_0x157a22;currentBlueprintProjectId=_0x50390a,document[_0x561ee5(0xccc)]('blueprint-projects-modal')[_0x561ee5(0x807)][_0x561ee5(0xcec)](_0x561ee5(0x9f0)),showView(_0x561ee5(0x5d3)),projectDashboardView[_0x561ee5(0x807)][_0x561ee5(0xcec)](_0x561ee5(0x9f0));const _0x1c0ec8=document[_0x561ee5(0xccc)]('blueprint-project-manager-view');_0x1c0ec8[_0x561ee5(0x807)][_0x561ee5(0x90e)](_0x561ee5(0x9f0)),document['getElementById'](_0x561ee5(0xb09))[_0x561ee5(0x93e)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x38b400=doc(db,_0x561ee5(0x331)+appId+'/public/data/blueprintProjects',_0x50390a),_0x2fa380=await getDoc(_0x38b400);if(!_0x2fa380['exists']())throw new Error(_0x561ee5(0xec));const _0x5f06bd={'id':_0x2fa380['id'],..._0x2fa380[_0x561ee5(0xd60)]()};document['getElementById'](_0x561ee5(0xd47))[_0x561ee5(0xc76)]=_0x5f06bd[_0x561ee5(0x284)],document[_0x561ee5(0xccc)](_0x561ee5(0x3a9))[_0x561ee5(0xa9f)]=_0x5f06bd[_0x561ee5(0x511)]||'',renderBlueprintTopicManager(_0x5f06bd);}catch(_0x293ad5){console[_0x561ee5(0xada)](_0x561ee5(0x2e2),_0x293ad5),showMessage(_0x293ad5[_0x561ee5(0x267)]),showView(_0x561ee5(0x5d3));}}function renderBlueprintTopicManager(_0x33acc5){const _0x204e47=_0x157a22,_0x23a0b1=document[_0x204e47(0xccc)](_0x204e47(0xb09)),_0x4eef7d=_0x33acc5[_0x204e47(0x6e0)]||{};if(Object['keys'](_0x4eef7d)[_0x204e47(0x34a)]===0x0){_0x23a0b1['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x59cac8=Object['entries'](_0x4eef7d)[_0x204e47(0x141)](([_0x364279,_0x3f5988])=>({'id':_0x364279,..._0x3f5988}))['sort']((_0x58bdfb,_0x1e217f)=>(_0x58bdfb[_0x204e47(0xcc5)]??Infinity)-(_0x1e217f[_0x204e47(0xcc5)]??Infinity)),_0x5415f4={};_0x59cac8[_0x204e47(0x8f9)](_0x42ed7e=>{const _0x4d7265=_0x204e47,{sara:_0x552212,mainTopic:_0x5165bb}=_0x42ed7e;!_0x5415f4[_0x552212]&&(_0x5415f4[_0x552212]={}),!_0x5415f4[_0x552212][_0x5165bb]&&(_0x5415f4[_0x552212][_0x5165bb]=[]),_0x5415f4[_0x552212][_0x5165bb][_0x4d7265(0xde9)](_0x42ed7e);});let _0x2c8191='';for(const _0x579500 in _0x5415f4){_0x2c8191+=_0x204e47(0x247)+_0x579500+'</h4>';for(const _0x39b229 in _0x5415f4[_0x579500]){_0x2c8191+=_0x204e47(0xe2b)+_0x39b229+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x5415f4[_0x579500][_0x39b229][_0x204e47(0x8f9)](_0x125234=>{const _0x55a346=_0x204e47,_0x3413a1=_0x125234['id'],_0x5e363c=_0x125234['linkedQuizIds']||[],_0x5b05c9=_0x5e363c[_0x55a346(0x34a)]>0x0,_0x350d94=_0x125234[_0x55a346(0xab3)]==='generated';let _0x4ee174='';_0x5b05c9?_0x4ee174=_0x55a346(0xacc)+_0x5e363c[_0x55a346(0x34a)]+'\x20ชุด)</span>':_0x4ee174=_0x55a346(0x2a1)+(_0x350d94?_0x55a346(0x6f3):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x350d94?_0x55a346(0x50a):_0x55a346(0xbf5))+_0x55a346(0x27c);const _0x26aabd=!_0x350d94?_0x55a346(0xe33):'',_0xe8a41a=!_0x350d94?_0x55a346(0x97d):'';let _0x3a366b=_0x350d94?_0x55a346(0xaa5):'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x2c8191+=_0x55a346(0x353)+_0x3413a1+_0x55a346(0x82c)+_0x125234[_0x55a346(0x1c3)]+_0x55a346(0x881)+_0x4ee174+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x26aabd+_0x55a346(0x319)+_0xe8a41a+_0x55a346(0x42e)+_0x3a366b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2c8191+=_0x204e47(0x303);}_0x2c8191+='</div>';}_0x23a0b1[_0x204e47(0x93e)]=_0x2c8191;}async function handleDeepDeleteBlueprintProject(_0x560e5c){const _0x61a4d0=_0x157a22,_0x47a93d=doc(db,_0x61a4d0(0x331)+appId+_0x61a4d0(0x160),_0x560e5c),_0x3972a4=await getDoc(_0x47a93d);if(!_0x3972a4['exists']()){showMessage(_0x61a4d0(0xb52));return;}const _0x292a7f=_0x3972a4[_0x61a4d0(0xd60)]()['projectName'];showConfirmation(_0x61a4d0(0xda1)+_0x292a7f+_0x61a4d0(0x60b),async()=>{const _0x4ff500=_0x61a4d0;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x46b447=writeBatch(db),_0x1b1755=_0x3972a4[_0x4ff500(0xd60)](),_0x30bca9=_0x1b1755[_0x4ff500(0x6e0)]||{};for(const _0x297dcd in _0x30bca9){const _0x2497b6=doc(db,_0x4ff500(0x331)+appId+_0x4ff500(0x25b)+_0x560e5c+_0x4ff500(0xfe),_0x297dcd);_0x46b447['delete'](_0x2497b6);}const _0x28c01a=new Set();for(const _0x2441e4 in _0x30bca9){_0x30bca9[_0x2441e4][_0x4ff500(0x828)]&&_0x30bca9[_0x2441e4][_0x4ff500(0x828)][_0x4ff500(0x8f9)](_0x436d2a=>_0x28c01a[_0x4ff500(0xcec)](_0x436d2a));}for(const _0x298b6b of _0x28c01a){await handleDeleteQuiz(_0x298b6b,![]);}_0x46b447[_0x4ff500(0xa0f)](_0x47a93d),await _0x46b447[_0x4ff500(0x34c)](),showMessage(_0x4ff500(0x1a7)+_0x292a7f+_0x4ff500(0x350)),showBlueprintProjects();}catch(_0xa34253){console[_0x4ff500(0xada)](_0x4ff500(0xe74),_0xa34253),showMessage(_0x4ff500(0x5e8));}});}async function openTopicQuizBank(_0x6c98f){const _0x3575b4=_0x157a22,_0x259a4c=document[_0x3575b4(0xccc)](_0x3575b4(0xa89)),_0x46d6dc=document[_0x3575b4(0xccc)]('topic-bank-list'),_0x22f2e6=document[_0x3575b4(0xccc)](_0x3575b4(0xcc4));try{await ensureGlobalQuizzesLoaded();const _0x2b98ce=doc(db,_0x3575b4(0x331)+appId+_0x3575b4(0x160),currentBlueprintProjectId),_0x474f15=await getDoc(_0x2b98ce);if(!_0x474f15[_0x3575b4(0xc43)]())return;const _0x25f44b=_0x474f15[_0x3575b4(0xd60)](),_0x9d510c=_0x25f44b[_0x3575b4(0x6e0)][_0x6c98f];document[_0x3575b4(0xccc)](_0x3575b4(0x850))[_0x3575b4(0xc76)]=_0x9d510c['subTopic'];const _0x21caa5=_0x9d510c[_0x3575b4(0x828)]||[];_0x22f2e6[_0x3575b4(0x807)]['toggle'](_0x3575b4(0x9f0),_0x21caa5['length']===0x0),_0x22f2e6['onclick']=()=>handleClearAllLinksForTopic(_0x6c98f);if(_0x21caa5['length']===0x0)_0x46d6dc[_0x3575b4(0x93e)]=_0x3575b4(0xcb2);else{const _0x28cee8=allQuizzesGlobal[_0x3575b4(0x512)](_0x39f4bb=>_0x21caa5[_0x3575b4(0x9e3)](_0x39f4bb['id']));_0x46d6dc[_0x3575b4(0x93e)]=_0x28cee8[_0x3575b4(0x141)](_0xf69726=>_0x3575b4(0x41b)+_0xf69726['id']+_0x3575b4(0x1d3)+_0xf69726['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0xf69726['id']+'\x20|\x20'+_0xf69726[_0x3575b4(0xdbf)][_0x3575b4(0x34a)]+_0x3575b4(0x219)+_0xf69726['id']+_0x3575b4(0x325)+_0xf69726['id']+_0x3575b4(0x272)+_0xf69726['id']+_0x3575b4(0x917)+_0xf69726['id']+_0x3575b4(0xe17)+_0x6c98f+_0x3575b4(0xd3f)+_0xf69726['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3575b4(0x72e)]('');}document[_0x3575b4(0xccc)]('add-from-global-bank-btn')[_0x3575b4(0xc51)]=()=>{openQuizSelectorForBlueprint(_0x6c98f);},document[_0x3575b4(0xccc)](_0x3575b4(0x668))['onclick']=()=>_0x259a4c[_0x3575b4(0x807)]['add'](_0x3575b4(0x9f0)),_0x259a4c['classList']['remove']('hidden');}catch(_0x1d4899){showMessage(_0x1d4899[_0x3575b4(0x267)]);}}async function openQuizSelectorForBlueprint(_0x3504f5){const _0x26f971=_0x157a22,_0x11f811=document[_0x26f971(0xccc)](_0x26f971(0x86a)),_0x20b0ea=document['getElementById'](_0x26f971(0xa89));_0x20b0ea[_0x26f971(0x807)]['add'](_0x26f971(0x9f0)),document['getElementById'](_0x26f971(0x770))?.[_0x26f971(0x90e)]();const _0x431d9f=document[_0x26f971(0xd4f)](_0x26f971(0xb93));_0x431d9f['id']=_0x26f971(0x770),_0x431d9f[_0x26f971(0x984)]=_0x26f971(0x1bf),_0x431d9f[_0x26f971(0xc76)]=_0x26f971(0xd35),_0x431d9f['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x11f811[_0x26f971(0x807)]['remove'](_0x26f971(0x9f0)),renderQuizBankListForMultiSelect(''),document[_0x26f971(0xccc)](_0x26f971(0x991))[_0x26f971(0xb74)][_0x26f971(0xaea)]=_0x26f971(0x80b),_0x11f811[_0x26f971(0xdd0)](_0x26f971(0x4ae))[_0x26f971(0xb18)](_0x431d9f);const _0x440788=(_0x54dbe6=![])=>{const _0x2c50bb=_0x26f971;_0x11f811[_0x2c50bb(0x807)]['add'](_0x2c50bb(0x9f0)),document['getElementById']('bulk-quiz-settings-btn')[_0x2c50bb(0xb74)][_0x2c50bb(0xaea)]=_0x2c50bb(0xe10),_0x431d9f[_0x2c50bb(0x90e)](),_0x54dbe6&&openTopicQuizBank(_0x3504f5);};_0x431d9f[_0x26f971(0xc51)]=async()=>{const _0x5601e9=_0x26f971,_0xcd529a=Array['from'](document['querySelectorAll']('.quiz-bank-checkbox:checked'))['map'](_0x532b75=>_0x532b75[_0x5601e9(0xa9f)]);if(_0xcd529a['length']===0x0)return;try{const _0xe250f5=doc(db,_0x5601e9(0x331)+appId+_0x5601e9(0x160),currentBlueprintProjectId),_0x20799d=(await getDoc(_0xe250f5))[_0x5601e9(0xd60)](),_0x25b788=_0x20799d[_0x5601e9(0x6e0)][_0x3504f5][_0x5601e9(0x828)]||[],_0x387364=[...new Set([..._0x25b788,..._0xcd529a])];await updateDoc(_0xe250f5,{[_0x5601e9(0x6d1)+_0x3504f5+'.linkedQuizIds']:_0x387364}),showMessage(_0x5601e9(0x458)+_0xcd529a['length']+_0x5601e9(0x9fd)),_0x440788(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4e19d1){console[_0x5601e9(0xada)](_0x5601e9(0x381),_0x4e19d1);}},document['getElementById'](_0x26f971(0x7f3))[_0x26f971(0xc51)]=()=>_0x440788(!![]);}catch(_0x2236a3){showMessage(_0x2236a3[_0x26f971(0x267)]),_0x20b0ea[_0x26f971(0x807)][_0x26f971(0x90e)](_0x26f971(0x9f0));}}function handleClearLinkedQuiz(_0x5ef6bd){const _0x4a5034=_0x157a22;showConfirmation(_0x4a5034(0x9ec),async()=>{const _0x415422=_0x4a5034;try{const _0x3cfe7c=doc(db,'artifacts/'+appId+_0x415422(0x160),currentBlueprintProjectId);await updateDoc(_0x3cfe7c,{[_0x415422(0x6d1)+_0x5ef6bd+_0x415422(0xb7d)]:deleteField()}),showMessage(_0x415422(0x69f)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x288be1){console['error'](_0x415422(0x49a),_0x288be1),showMessage(_0x415422(0x9f8));}});}async function addTopicToProject(){const _0xd39767=_0x157a22,_0xc1fe1d=prompt(_0xd39767(0x914));if(!_0xc1fe1d||_0xc1fe1d['trim']()==='')return;const _0x3c02ec=prompt('อยู่ในสาระการเรียนรู้ใด:',_0xd39767(0xcaf)),_0x45af13=prompt(_0xd39767(0x989),_0xd39767(0xa86)),_0x1bc7d0=_0xd39767(0xdc9)+Date[_0xd39767(0x338)]()+Math[_0xd39767(0x373)]()[_0xd39767(0x438)](0x24)[_0xd39767(0xb97)](0x2,0x9),_0x521284={'sara':_0x3c02ec,'mainTopic':_0x45af13,'subTopic':_0xc1fe1d['trim'](),'status':'not_generated','lessonContent':null};try{const _0xf98179=doc(db,_0xd39767(0x331)+appId+_0xd39767(0x160),currentBlueprintProjectId);await updateDoc(_0xf98179,{['topics.'+_0x1bc7d0]:_0x521284}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x482e29){console[_0xd39767(0xada)]('Error\x20adding\x20topic:',_0x482e29),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x2600fa){const _0x1fe143=_0x157a22,_0x3d9ada=document[_0x1fe143(0xdd0)]('[data-topic-id=\x22'+_0x2600fa+'\x22]'),_0x20bbfe=_0x3d9ada[_0x1fe143(0xdd0)](_0x1fe143(0x733)),_0x2df51f=_0x20bbfe['textContent'],_0x271429=prompt(_0x1fe143(0xc68),_0x2df51f);if(!_0x271429||_0x271429[_0x1fe143(0x6b3)]()===''||_0x271429[_0x1fe143(0x6b3)]()===_0x2df51f)return;try{const _0x12880a=doc(db,_0x1fe143(0x331)+appId+_0x1fe143(0x160),currentBlueprintProjectId);await updateDoc(_0x12880a,{[_0x1fe143(0x6d1)+_0x2600fa+_0x1fe143(0xdaa)]:_0x271429[_0x1fe143(0x6b3)]()}),_0x20bbfe[_0x1fe143(0xc76)]=_0x271429[_0x1fe143(0x6b3)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x26ccdd){console[_0x1fe143(0xada)]('Error\x20editing\x20topic:',_0x26ccdd),showMessage(_0x1fe143(0x2fb));}}async function deleteTopicFromProject(_0x49e519){const _0x3eb716=_0x157a22;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x4a3b83=doc(db,_0x3eb716(0x331)+appId+_0x3eb716(0x160),currentBlueprintProjectId);await updateDoc(_0x4a3b83,{[_0x3eb716(0x6d1)+_0x49e519]:deleteField()}),document[_0x3eb716(0xdd0)](_0x3eb716(0xd6b)+_0x49e519+'\x22]')[_0x3eb716(0x90e)](),showMessage(_0x3eb716(0x229));}catch(_0x554acf){console['error'](_0x3eb716(0x954),_0x554acf),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x8d292e,_0x2c8435,_0x3e307b){handleGenerateAndShowLesson(_0x2c8435,_0x3e307b);const _0x57a495=setInterval(async()=>{const _0x332683=_0x28ee,_0x5ea166=document[_0x332683(0xccc)]('lesson-view-modal'),_0x4756cb=_0x5ea166[_0x332683(0x807)][_0x332683(0xa2d)](_0x332683(0x9f0));if(_0x4756cb){clearInterval(_0x57a495);if(currentApplicationData&&currentApplicationData[_0x332683(0x34a)]>0x0){const _0x5753ba={'point':document[_0x332683(0xccc)](_0x332683(0x28e))[_0x332683(0x93e)],'memory':document[_0x332683(0xccc)](_0x332683(0x209))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x332683(0x36f))[_0x332683(0x93e)]};try{const _0x28babd=doc(db,_0x332683(0x331)+appId+_0x332683(0x160),currentBlueprintProjectId),_0x1d8f2f=doc(db,'artifacts/'+appId+_0x332683(0x25b)+currentBlueprintProjectId+'/lessons',_0x8d292e),_0x6fa748=writeBatch(db);_0x6fa748[_0x332683(0x301)](_0x1d8f2f,{'content':_0x5753ba}),_0x6fa748['update'](_0x28babd,{['topics.'+_0x8d292e+_0x332683(0x6cf)]:'generated'}),await _0x6fa748[_0x332683(0x34c)](),console[_0x332683(0x700)](_0x332683(0x8d7)+_0x8d292e+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x267d66){console[_0x332683(0xada)]('Error\x20saving\x20lesson\x20to\x20project:',_0x267d66);}}}},0x3e8);}function displayHalfMarkResult(_0x37b7fb,_0x15539e){const _0x1bd8f1=_0x157a22,_0x376982=_0x37b7fb>=_0x15539e/0x2,_0x10aad5=_0x376982?_0x1bd8f1(0x5b8):_0x1bd8f1(0x3c2),_0x3d4525=_0x376982?_0x1bd8f1(0xe2d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x58ba14=_0x376982?_0x1bd8f1(0x8e5):_0x1bd8f1(0xcfb),_0x4224e1=_0x376982?'ทำคะแนนได้เกินครึ่ง':_0x1bd8f1(0x2bc),_0x19b4c1=_0x376982?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x271383=_0x1bd8f1(0x73e)+_0x10aad5+_0x1bd8f1(0x63a)+_0x3d4525+_0x1bd8f1(0xb3e)+_0x58ba14+_0x1bd8f1(0xd8d)+_0x4224e1+_0x1bd8f1(0x3bf)+_0x19b4c1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1bd8f1(0x93e)]=_0x271383,studentResultArea[_0x1bd8f1(0x807)][_0x1bd8f1(0x90e)](_0x1bd8f1(0x9f0)),studentQuizArea['classList'][_0x1bd8f1(0xcec)](_0x1bd8f1(0x9f0)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x376982});}function displayPerfectScoreResult(_0xc4cb37,_0x579f61){const _0x531d30=_0x157a22,_0x4fc18b=_0xc4cb37===_0x579f61,_0x45c58a=_0x4fc18b?_0x531d30(0x71d):_0x531d30(0xd33),_0x19757a=_0x4fc18b?_0x531d30(0xa85):_0x531d30(0x66c),_0x1c1102=_0x4fc18b?_0x531d30(0x7a5):_0x531d30(0x3e9),_0x1a11df=_0x4fc18b?'คะแนนเต็ม!':_0x531d30(0xb1f),_0x3fdcbc=_0x4fc18b?_0x531d30(0x8aa):_0x531d30(0x505);let _0x5bb0f5=_0x531d30(0x73e)+_0x45c58a+_0x531d30(0x63a)+_0x19757a+_0x531d30(0xb3e)+_0x1c1102+'\x20mb-2\x22>'+_0x1a11df+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x3fdcbc+_0x531d30(0x787);studentResultArea[_0x531d30(0x93e)]=_0x5bb0f5,studentResultArea[_0x531d30(0x807)]['remove']('hidden'),studentQuizArea[_0x531d30(0x807)][_0x531d30(0xcec)](_0x531d30(0x9f0)),setupResultScreenBackButton({'showRankings':![],'score':_0xc4cb37,'totalQuestions':_0x579f61});}function renderIndividualComparisonTable(_0x7a4969,_0x23c6c3){const _0x45e750=_0x157a22;_0x7a4969[_0x45e750(0x4b3)]((_0x43e951,_0x9ce1)=>(_0x9ce1[_0x45e750(0x56b)]??-Infinity)-(_0x43e951[_0x45e750(0x56b)]??-Infinity));let _0x45d649='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x7a4969[_0x45e750(0x34a)]===0x0?_0x45d649+=_0x45e750(0x7b4):_0x7a4969['forEach']((_0x18d8e6,_0x43c6d8)=>{const _0x49cd51=_0x45e750;let _0x5f0d7a='-',_0x3f30c0='';if(_0x18d8e6[_0x49cd51(0x7d7)]!==null){const _0x3442eb=_0x18d8e6[_0x49cd51(0x7d7)]>0x0?'text-green-600':_0x18d8e6[_0x49cd51(0x7d7)]<0x0?_0x49cd51(0x3ef):'text-gray-500',_0x28d927=_0x18d8e6['gain']>0x0?'+':'';_0x5f0d7a=_0x49cd51(0xaf8)+_0x3442eb+'\x22>'+_0x28d927+_0x18d8e6['gain']+_0x49cd51(0x27c);if(_0x18d8e6[_0x49cd51(0x7d7)]>0x0)_0x3f30c0=_0x49cd51(0x89b);else _0x18d8e6[_0x49cd51(0x7d7)]<0x0?_0x3f30c0='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x3f30c0=_0x49cd51(0xc73);}let _0x16dbb6='-';if(_0x18d8e6['tGain']!==null){const _0xbfede3=_0x18d8e6['tGain']>0x0?_0x49cd51(0x346):_0x18d8e6['tGain']<0x0?_0x49cd51(0x3ef):_0x49cd51(0x9bd),_0xf35ab3=_0x18d8e6[_0x49cd51(0x56b)]>0x0?'+':'';_0x16dbb6=_0x49cd51(0xaf8)+_0xbfede3+'\x22>'+_0xf35ab3+_0x18d8e6[_0x49cd51(0x56b)][_0x49cd51(0xd2d)](0x2)+_0x49cd51(0x27c);}_0x45d649+=_0x49cd51(0xc00)+(_0x43c6d8+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x18d8e6['name']+_0x49cd51(0x68b)+(_0x18d8e6[_0x49cd51(0xba5)]??'-')+_0x49cd51(0xa2f)+(_0x18d8e6[_0x49cd51(0x952)]??'-')+_0x49cd51(0x68b)+_0x5f0d7a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x3f30c0+_0x49cd51(0x5c7)+(_0x18d8e6[_0x49cd51(0x3ce)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x18d8e6['postTScore']?.[_0x49cd51(0xd2d)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x16dbb6+_0x49cd51(0x454);}),_0x45d649+='</tbody></table></div>',_0x23c6c3[_0x45e750(0x93e)]=_0x45d649;}function handleRenameQuiz(_0x194b68,_0x3cc18d){const _0x4a51a3=_0x157a22;actionTargetId=_0x194b68,document['getElementById'](_0x4a51a3(0x9a3))[_0x4a51a3(0xa9f)]=_0x3cc18d,renameQuizModal[_0x4a51a3(0x807)]['remove']('hidden');}function setupComparisonModalTabs(){const _0x3d1a90=_0x157a22,_0x40c262=document[_0x3d1a90(0xccc)](_0x3d1a90(0x46c)),_0x5796d0=document[_0x3d1a90(0xccc)](_0x3d1a90(0xa9a)),_0x48f603=document[_0x3d1a90(0xccc)](_0x3d1a90(0xbe6)),_0x39d0b2=document[_0x3d1a90(0xccc)]('comparison-individual-content');_0x40c262[_0x3d1a90(0x7d6)](_0x3d1a90(0x343),()=>{const _0x29eb0d=_0x3d1a90;_0x40c262[_0x29eb0d(0x807)]['add'](_0x29eb0d(0x130)),_0x5796d0['classList'][_0x29eb0d(0x90e)](_0x29eb0d(0x130)),_0x48f603['classList']['remove']('hidden'),_0x39d0b2[_0x29eb0d(0x807)][_0x29eb0d(0xcec)](_0x29eb0d(0x9f0));}),_0x5796d0[_0x3d1a90(0x7d6)](_0x3d1a90(0x343),()=>{const _0xd6f434=_0x3d1a90;_0x5796d0['classList']['add']('active'),_0x40c262[_0xd6f434(0x807)][_0xd6f434(0x90e)](_0xd6f434(0x130)),_0x39d0b2[_0xd6f434(0x807)][_0xd6f434(0x90e)]('hidden'),_0x48f603[_0xd6f434(0x807)][_0xd6f434(0xcec)](_0xd6f434(0x9f0));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x30ecf5=_0x157a22;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x26ef1d=doc(db,_0x30ecf5(0x331)+appId+_0x30ecf5(0xaa9),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x26ef1d,_0x4e4a38=>{const _0x3266e9=_0x30ecf5;if(!_0x4e4a38[_0x3266e9(0xc43)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x3266e9(0x140)?showView(_0x3266e9(0xd48)):showView('student');return;}const _0x566ee4=_0x4e4a38[_0x3266e9(0xd60)]();_0x566ee4[_0x3266e9(0x937)]&&(currentQuizData=_0x566ee4[_0x3266e9(0x937)]);!currentQuizData&&_0x566ee4['quizId']&&((async()=>{const _0x25dcfa=_0x3266e9;try{const _0x21b080=doc(db,_0x25dcfa(0x331)+appId+'/public/data/quizzes',_0x566ee4[_0x25dcfa(0x9c4)]),_0x1a70a8=await getDoc(_0x21b080);_0x1a70a8['exists']()&&(currentQuizData={'id':_0x1a70a8['id'],..._0x1a70a8['data']()});}catch(_0x745c41){console[_0x25dcfa(0xada)](_0x25dcfa(0xa20),_0x745c41);}})());switch(_0x566ee4['status']){case'lobby':if(currentMode===_0x3266e9(0x140)){const _0x321f0a=_0x566ee4[_0x3266e9(0xded)]?Object['entries'](_0x566ee4[_0x3266e9(0xded)]):[],_0x3aeefa=_0x321f0a[_0x3266e9(0x512)](([_0x43fe09,_0x88ea85])=>_0x88ea85[_0x3266e9(0xab3)]==='active'),_0x27ea41=document[_0x3266e9(0xccc)](_0x3266e9(0xa82));if(_0x27ea41)_0x27ea41[_0x3266e9(0xc76)]=_0x3aeefa[_0x3266e9(0x34a)];const _0x2b0186=document[_0x3266e9(0xccc)]('player-list-lobby');_0x2b0186&&(_0x2b0186[_0x3266e9(0x93e)]=_0x3aeefa['map'](([_0x30ab33,_0x25f824])=>_0x3266e9(0x236)+_0x30ab33+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x30ab33+_0x3266e9(0xc6f))[_0x3266e9(0x72e)](''));const _0x54597b=document[_0x3266e9(0xccc)](_0x3266e9(0x4cf));_0x54597b&&(_0x54597b[_0x3266e9(0x7ef)]=_0x3aeefa[_0x3266e9(0x34a)]===0x0);}else showView('live-game'),liveGameView[_0x3266e9(0x93e)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x3266e9(0x94d);break;case _0x3266e9(0x4c0):const _0x361345=_0x566ee4[_0x3266e9(0x8cb)];if(currentQuizData&&currentQuizData[_0x3266e9(0xdbf)][_0x361345]){const _0x7171b4=currentQuizData[_0x3266e9(0xdbf)][_0x361345],_0x1e554a=_0x566ee4[_0x3266e9(0xd72)]||_0x3266e9(0xa34);switch(_0x1e554a){case _0x3266e9(0x9f6):currentMode===_0x3266e9(0x140)?showAdminSummaryView(_0x566ee4,_0x7171b4):showPlayerSummaryView(_0x566ee4,currentStudentName);break;case _0x3266e9(0x56f):currentMode===_0x3266e9(0x140)&&showTop5LeaderboardView(_0x566ee4);break;case'answering':default:if(currentMode===_0x3266e9(0x140)){const _0x50db0d=writeBatch(db);let _0x38f15e=![];Object[_0x3266e9(0xbd3)](_0x566ee4[_0x3266e9(0xded)])['forEach'](([_0x5bf8df,_0x3fced7])=>{const _0x3a44ac=_0x3266e9;if(_0x3fced7[_0x3a44ac(0xab3)]===_0x3a44ac(0x130)&&_0x3fced7[_0x3a44ac(0xcb8)]&&!_0x3fced7[_0x3a44ac(0x993)]){_0x38f15e=!![];const _0x5254a4=_0x3fced7[_0x3a44ac(0xcb8)]['toDate']()-_0x566ee4[_0x3a44ac(0x78f)][_0x3a44ac(0xb9a)]();let _0x10c58b=0x0;if(_0x3fced7[_0x3a44ac(0xe4e)]){const _0x44baf1=0x3e8,_0x1fba33=0x1f4,_0x2ce0c8=0x4e20;let _0x559751=_0x5254a4/_0x2ce0c8;if(_0x559751>0x1)_0x559751=0x1;const _0x38fc93=Math['round'](_0x559751*_0x1fba33);_0x10c58b=_0x44baf1-_0x38fc93;}const _0x4f6970=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);_0x50db0d['update'](_0x4f6970,{['players.'+_0x5bf8df+_0x3a44ac(0x45c)]:increment(_0x10c58b),['players.'+_0x5bf8df+_0x3a44ac(0xe67)]:_0x10c58b,['players.'+_0x5bf8df+_0x3a44ac(0xa58)]:!![]});}});_0x38f15e&&_0x50db0d[_0x3266e9(0x34c)]()[_0x3266e9(0x43c)](_0x19ab63=>console[_0x3266e9(0xada)](_0x3266e9(0x8c4),_0x19ab63));lastRenderedAdminQuestionIndex!==_0x361345&&(showAdminLiveQuestionView(_0x7171b4,_0x361345,currentQuizData[_0x3266e9(0xdbf)][_0x3266e9(0x34a)]),lastRenderedAdminQuestionIndex=_0x361345);const _0x23954=_0x566ee4[_0x3266e9(0xded)]||{},_0x2b9ae8=Object['values'](_0x23954)[_0x3266e9(0x512)](_0x4ad1e6=>_0x4ad1e6[_0x3266e9(0xab3)]==='active'),_0x75e5b=_0x2b9ae8[_0x3266e9(0x34a)],_0x4e703f=_0x2b9ae8['filter'](_0x1a8ebd=>_0x1a8ebd[_0x3266e9(0x4c4)]===!![])[_0x3266e9(0x34a)],_0xca07e9=document[_0x3266e9(0xccc)](_0x3266e9(0x180));if(_0xca07e9)_0xca07e9[_0x3266e9(0xc76)]=_0x4e703f+'/'+_0x75e5b;const _0x31b25b=document['getElementById']('live-player-list');if(_0x31b25b){let _0x1d0852=Object[_0x3266e9(0xbd3)](_0x23954)[_0x3266e9(0x512)](([_0xe42df,_0x33174a])=>_0x33174a['status']===_0x3266e9(0x130))[_0x3266e9(0x141)](([_0x3d2489,_0x15df70])=>{const _0x43b155=_0x3266e9,_0x386761=_0x15df70[_0x43b155(0x4c4)]===!![],_0x6835d0=_0x386761?_0x43b155(0x237):_0x43b155(0xbf1),_0x1e5d23=_0x386761?_0x43b155(0x5dd):_0x43b155(0xc53);return _0x43b155(0x6e1)+_0x6835d0+_0x43b155(0xc72)+_0x1e5d23+_0x43b155(0x1c6)+_0x3d2489+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x3d2489+_0x43b155(0x59d);})['join']('');_0x31b25b[_0x3266e9(0x93e)]=_0x1d0852||_0x3266e9(0xa02);}_0x75e5b>0x0&&_0x4e703f===_0x75e5b&&revealAnswerForAdmin(_0x361345,currentQuizData[_0x3266e9(0xdbf)][_0x3266e9(0x34a)]);}else{const _0x1c972b=_0x566ee4[_0x3266e9(0xded)][currentStudentName];_0x1c972b&&!_0x1c972b[_0x3266e9(0x4c4)]&&showStudentLiveQuestionView(_0x7171b4,_0x361345,currentQuizData[_0x3266e9(0xdbf)][_0x3266e9(0x34a)]);}break;}}break;case _0x3266e9(0x863):showPodiumView(_0x566ee4[_0x3266e9(0xded)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x1f1432=_0x157a22;if(allQuizzesGlobal[_0x1f1432(0x34a)]===0x0){const _0x47db9a=await getDocs(collection(db,_0x1f1432(0x331)+appId+_0x1f1432(0x78d)));allQuizzesGlobal=_0x47db9a['docs'][_0x1f1432(0x141)](_0x23d602=>({'id':_0x23d602['id'],..._0x23d602[_0x1f1432(0xd60)]()}));}renderGlobalActivityList(''),document['getElementById'](_0x1f1432(0x178))['classList'][_0x1f1432(0x90e)]('hidden');}function renderGlobalActivityList(_0x28c3d7=''){const _0x4b794a=_0x157a22,_0x4814f6=document[_0x4b794a(0xccc)](_0x4b794a(0xdc1)),_0x5bee5a=_0x28c3d7[_0x4b794a(0x8e9)]()[_0x4b794a(0x6b3)](),_0x51caff=allQuizzesGlobal[_0x4b794a(0x141)](_0x22e61d=>({..._0x22e61d,'projectName':allProjects['find'](_0x239ea7=>_0x239ea7['id']===_0x22e61d[_0x4b794a(0x737)])?.[_0x4b794a(0x284)]||_0x4b794a(0x156)}))[_0x4b794a(0x512)](_0x33d995=>(_0x33d995[_0x4b794a(0xe36)]||'')[_0x4b794a(0x8e9)]()[_0x4b794a(0x9e3)](_0x5bee5a)||(_0x33d995[_0x4b794a(0x284)]||'')[_0x4b794a(0x8e9)]()[_0x4b794a(0x9e3)](_0x5bee5a));document[_0x4b794a(0xccc)]('global-quiz-count')[_0x4b794a(0xc76)]='('+_0x51caff[_0x4b794a(0x34a)]+_0x4b794a(0x61e),_0x4814f6[_0x4b794a(0x93e)]=_0x51caff[_0x4b794a(0x34a)]?_0x51caff[_0x4b794a(0x141)](_0x159222=>_0x4b794a(0x3ff)+(_0x159222[_0x4b794a(0xe36)]||_0x4b794a(0x1eb))+_0x4b794a(0xce8)+(_0x159222[_0x4b794a(0xdbf)]?.['length']||0x0)+_0x4b794a(0x95f)+_0x159222['projectName']+_0x4b794a(0x552)+_0x159222['id']+_0x4b794a(0x2c1)+_0x159222['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x4b794a(0x72e)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x5095d0){const _0x390ecb=_0x157a22;if(!currentLiveGameId||!_0x5095d0)return;const _0x33cb24=doc(db,_0x390ecb(0x331)+appId+_0x390ecb(0xaa9),currentLiveGameId),_0x21cfb0={};_0x21cfb0['players.'+_0x5095d0+_0x390ecb(0x6cf)]='inactive';try{await updateDoc(_0x33cb24,_0x21cfb0);}catch(_0x11c613){console[_0x390ecb(0xada)](_0x390ecb(0x37e)+_0x5095d0+':',_0x11c613),showMessage(_0x390ecb(0x9bf));}}async function authenticateUser(){const _0x18f31a=_0x157a22;try{typeof __initial_auth_token!==_0x18f31a(0x145)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x3eff30){console[_0x18f31a(0xada)]('Authentication\x20failed:',_0x3eff30),showMessage(_0x18f31a(0x86e));}}function showView(_0x4c6818){const _0x4b78dc=_0x157a22;adminView[_0x4b78dc(0x807)][_0x4b78dc(0xcec)]('hidden'),studentView[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0)),projectDashboardView[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0)),projectDetailView[_0x4b78dc(0x807)]['add'](_0x4b78dc(0x9f0)),quizResultsView[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0)),liveGameView[_0x4b78dc(0x807)]['add'](_0x4b78dc(0x9f0)),document[_0x4b78dc(0xccc)](_0x4b78dc(0xdae))['classList']['add']('hidden'),studentInitialView[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0)),studentJoinGameView['classList'][_0x4b78dc(0xcec)]('hidden'),studentNameSelectionView[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0)),studentQuizArea[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0)),studentResultArea[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0)),studentReadingArea['classList'][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0));const _0x2df35b=document[_0x4b78dc(0xccc)]('student-team-selection-view'),_0x1ab357=document[_0x4b78dc(0xccc)](_0x4b78dc(0x886));if(_0x2df35b)_0x2df35b['classList'][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0));if(_0x1ab357)_0x1ab357[_0x4b78dc(0x807)][_0x4b78dc(0xcec)](_0x4b78dc(0x9f0));switch(_0x4c6818){case _0x4b78dc(0x5d3):adminView['classList'][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0)),projectDashboardView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0));break;case'project-detail':adminView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0)),projectDetailView[_0x4b78dc(0x807)]['remove'](_0x4b78dc(0x9f0));break;case _0x4b78dc(0xb7a):adminView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0)),quizResultsView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0));break;case'student':studentView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0)),studentInitialView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)]('hidden');break;case _0x4b78dc(0xd43):liveGameView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0));break;case _0x4b78dc(0x593):studentView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)]('hidden');if(_0x2df35b)_0x2df35b['classList'][_0x4b78dc(0x90e)]('hidden');break;case'student-progress':studentView['classList'][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0));if(_0x1ab357)_0x1ab357[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0));break;default:studentView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)]('hidden'),studentInitialView[_0x4b78dc(0x807)][_0x4b78dc(0x90e)](_0x4b78dc(0x9f0));break;}}function showJoinGameView(){const _0x5bcceb=_0x157a22;studentInitialView[_0x5bcceb(0x807)][_0x5bcceb(0xcec)](_0x5bcceb(0x9f0)),studentJoinGameView['classList'][_0x5bcceb(0x90e)](_0x5bcceb(0x9f0));}async function handleSaveVisibilitySettings(){const _0x128289=_0x157a22;if(!currentProjectId)return;const _0x3cbf88=doc(db,_0x128289(0x331)+appId+_0x128289(0x21d),currentProjectId);try{await updateDoc(_0x3cbf88,{'settings.showInStudentDashboard':document[_0x128289(0xccc)](_0x128289(0x6fe))[_0x128289(0x174)],'settings.isPasscodeEnabled':document[_0x128289(0xccc)](_0x128289(0x54a))[_0x128289(0x174)],'settings.passcode':document[_0x128289(0xccc)]('project-passcode-input')[_0x128289(0xa9f)][_0x128289(0x6b3)]()}),showMessage(_0x128289(0xc9d));}catch(_0x18d302){console['error'](_0x128289(0xe4a),_0x18d302),showMessage(_0x128289(0xc5e));}}function setupEventListeners(){const _0x52e3e9=_0x157a22,_0x4adec5=document[_0x52e3e9(0xccc)](_0x52e3e9(0x916)),_0x52042e=document[_0x52e3e9(0xccc)](_0x52e3e9(0xae8));_0x4adec5&&_0x52042e&&(_0x52042e[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>_0x4adec5[_0x52e3e9(0x343)]()),_0x4adec5[_0x52e3e9(0x7d6)](_0x52e3e9(0x1b7),_0x351389=>{const _0x20333c=_0x52e3e9;_0x351389[_0x20333c(0xc55)][_0x20333c(0x9ea)][_0x20333c(0x34a)]>0x0&&handleScanImageForText(_0x351389['target'][_0x20333c(0x9ea)][0x0]);}));const _0x29b71c=document[_0x52e3e9(0xccc)](_0x52e3e9(0x394));_0x29b71c&&_0x29b71c[_0x52e3e9(0x7d6)]('click',()=>{const _0x5e0140=_0x52e3e9,_0x42e9f1=document[_0x5e0140(0xccc)](_0x5e0140(0x478)),_0x158e47=document[_0x5e0140(0xccc)](_0x5e0140(0x683));_0x42e9f1&&(_0x42e9f1[_0x5e0140(0xa9f)]=_0x42e9f1[_0x5e0140(0xaa7)],_0x158e47&&(_0x158e47[_0x5e0140(0xc76)]=_0x42e9f1[_0x5e0140(0xa9f)],_0x158e47['classList'][_0x5e0140(0x90e)]('scale-125'),void _0x158e47[_0x5e0140(0x662)],_0x158e47[_0x5e0140(0x807)]['add'](_0x5e0140(0x367),_0x5e0140(0x7ce),_0x5e0140(0x9d9),_0x5e0140(0x3ef)),setTimeout(()=>_0x158e47[_0x5e0140(0x807)][_0x5e0140(0x90e)](_0x5e0140(0x9d9),_0x5e0140(0x3ef)),0xc8)));});document[_0x52e3e9(0xccc)](_0x52e3e9(0xd4c))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x15209c=_0x52e3e9;document[_0x15209c(0xccc)]('wager-modal')[_0x15209c(0x807)][_0x15209c(0xcec)](_0x15209c(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xccb))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x1ebf50=_0x52e3e9,_0x4ef646=document[_0x1ebf50(0xccc)]('wager-modal'),_0x1a68de=document['getElementById']('selected-answer-index-hidden-wager'),_0x4e86bb=document[_0x1ebf50(0xccc)](_0x1ebf50(0x478))[_0x1ebf50(0xa9f)],_0x1bc7b4=_0x1a68de[_0x1ebf50(0x87a)]['answerValue'],_0x2279e6=JSON[_0x1ebf50(0xcd5)](_0x1a68de['dataset']['question']),_0x3ad94b=JSON[_0x1ebf50(0xcd5)](_0x1a68de[_0x1ebf50(0x87a)][_0x1ebf50(0xb7b)]),_0x34d415=_0x1a68de[_0x1ebf50(0x87a)][_0x1ebf50(0x89e)];_0x4ef646[_0x1ebf50(0x807)][_0x1ebf50(0xcec)]('hidden'),handleSyncAnswerSubmit(_0x1bc7b4,_0x2279e6,_0x3ad94b,_0x34d415,![],_0x4e86bb);}),document[_0x52e3e9(0x5f0)](_0x52e3e9(0x31d))[_0x52e3e9(0x8f9)](_0x59d351=>{const _0x78abdf=_0x52e3e9;_0x59d351[_0x78abdf(0x7d6)](_0x78abdf(0x1b7),_0x3b0d89=>{const _0x5c80aa=_0x78abdf,_0x153d9a=document[_0x5c80aa(0xccc)](_0x5c80aa(0x13a));_0x3b0d89[_0x5c80aa(0xc55)][_0x5c80aa(0xa9f)]===_0x5c80aa(0x114)?_0x153d9a[_0x5c80aa(0x807)]['remove'](_0x5c80aa(0x9f0)):_0x153d9a[_0x5c80aa(0x807)]['add']('hidden');});}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x21a))['addEventListener'](_0x52e3e9(0x1b7),_0x3802ea=>{const _0x3bafd4=_0x52e3e9;document[_0x3bafd4(0xccc)]('sync-timer-duration-container')['classList'][_0x3bafd4(0x9e5)](_0x3bafd4(0x9f0),!_0x3802ea[_0x3bafd4(0xc55)][_0x3bafd4(0x174)]);});const _0x402e41=document['getElementById']('cancel-confidence-btn'),_0x433345=document[_0x52e3e9(0xccc)](_0x52e3e9(0x443));_0x402e41&&_0x433345&&_0x402e41[_0x52e3e9(0x7d6)]('click',()=>{const _0x3f8a6e=_0x52e3e9;_0x433345[_0x3f8a6e(0x807)][_0x3f8a6e(0xcec)](_0x3f8a6e(0x9f0)),_0x433345[_0x3f8a6e(0x87a)][_0x3f8a6e(0xe65)]='';});const _0x4313cd=document[_0x52e3e9(0xccc)]('dim-overlay');_0x4313cd&&(_0x4313cd[_0x52e3e9(0x7d6)](_0x52e3e9(0xd80),wakeUpScreen),_0x4313cd[_0x52e3e9(0x7d6)]('touchstart',wakeUpScreen));document[_0x52e3e9(0xccc)](_0x52e3e9(0xe52))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),async()=>{const _0x16c263=_0x52e3e9;if(!currentBlueprintProjectId)return;const _0x5d49c5=document[_0x16c263(0xccc)](_0x16c263(0x3a9))[_0x16c263(0xa9f)][_0x16c263(0x6b3)](),_0x40807d=doc(db,'artifacts/'+appId+_0x16c263(0x160),currentBlueprintProjectId);try{await updateDoc(_0x40807d,{'referenceFileUrl':_0x5d49c5}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x43210e){console['error'](_0x16c263(0xdc3),_0x43210e),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}),document['getElementById']('add-parallel-shortcut-tab-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleAddParallelShortcutTab),document[_0x52e3e9(0xccc)](_0x52e3e9(0xa31))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x5d8110=>{const _0xbd67cc=_0x52e3e9;_0x5d8110[_0xbd67cc(0xc55)]['closest']('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId=_0xbd67cc(0x3d5),renderAdditionalParallelShortcutsModal(),document[_0xbd67cc(0xccc)]('additional-parallel-shortcuts-modal')[_0xbd67cc(0x807)][_0xbd67cc(0x90e)](_0xbd67cc(0x9f0)));}),document[_0x52e3e9(0xccc)]('close-additional-parallel-shortcuts-btn')['addEventListener']('click',()=>{const _0x39e386=_0x52e3e9;document[_0x39e386(0xccc)]('additional-parallel-shortcuts-modal')[_0x39e386(0x807)][_0x39e386(0xcec)]('hidden');}),document['addEventListener'](_0x52e3e9(0x343),_0x317b13=>{const _0x20ffd8=_0x52e3e9;!_0x317b13['target'][_0x20ffd8(0x43a)](_0x20ffd8(0x295))&&document[_0x20ffd8(0x5f0)](_0x20ffd8(0xc1))[_0x20ffd8(0x8f9)](_0x471cf9=>_0x471cf9[_0x20ffd8(0x807)]['add'](_0x20ffd8(0x9f0)));}),document[_0x52e3e9(0xccc)]('add-file-shortcut-tab-btn')[_0x52e3e9(0x7d6)]('click',handleAddFileShortcutTab),document[_0x52e3e9(0xccc)](_0x52e3e9(0xc8))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x4ae47d=>{const _0x157fb6=_0x52e3e9;_0x4ae47d[_0x157fb6(0xc55)][_0x157fb6(0x43a)](_0x157fb6(0xba3))&&(activeFileShortcutTabId=_0x157fb6(0x3d5),renderAdditionalFileShortcutsModal(),document[_0x157fb6(0xccc)](_0x157fb6(0x2bf))[_0x157fb6(0x807)][_0x157fb6(0x90e)](_0x157fb6(0x9f0)));}),document[_0x52e3e9(0xccc)]('close-additional-file-shortcuts-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x179a22=_0x52e3e9;document[_0x179a22(0xccc)](_0x179a22(0x2bf))[_0x179a22(0x807)][_0x179a22(0xcec)](_0x179a22(0x9f0));}),document[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x22ccef=>{const _0x1619f8=_0x52e3e9;!_0x22ccef[_0x1619f8(0xc55)][_0x1619f8(0x43a)](_0x1619f8(0x9ed))&&document['querySelectorAll'](_0x1619f8(0x911))[_0x1619f8(0x8f9)](_0x4f774d=>_0x4f774d['classList'][_0x1619f8(0xcec)](_0x1619f8(0x9f0)));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x7ee))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleAddShortcutTab),document[_0x52e3e9(0xccc)](_0x52e3e9(0xa59))['addEventListener'](_0x52e3e9(0x343),_0x548360=>{const _0x13e573=_0x52e3e9,_0x1ea3b9=_0x548360[_0x13e573(0xc55)][_0x13e573(0x43a)](_0x13e573(0xbc4)),_0x2dc8f6=_0x548360[_0x13e573(0xc55)][_0x13e573(0x43a)]('.edit-parallel-shortcut-btn'),_0x27b429=_0x548360[_0x13e573(0xc55)][_0x13e573(0x43a)](_0x13e573(0x896));if(_0x2dc8f6)openParallelTestShortcutEditor(_0x2dc8f6[_0x13e573(0x87a)]['id']);else{if(_0x27b429){const _0x17b371=_0x27b429[_0x13e573(0x87a)]['id'];showConfirmation(_0x13e573(0x26f),async()=>{const _0x1db42c=_0x13e573,_0xebcda7=parallelTestShortcuts[_0x1db42c(0x512)](_0x54a88e=>_0x54a88e['id']!==_0x17b371),_0x2d1ff7=doc(db,_0x1db42c(0x7e7),'parallelTestShortcutsConfig');await setDoc(_0x2d1ff7,{'shortcuts':_0xebcda7},{'merge':!![]});});}else _0x1ea3b9&&handleParallelTestShortcutClick(_0x1ea3b9[_0x13e573(0x87a)]['id']);}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xae6))[_0x52e3e9(0x7d6)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x52e3e9(0xccc)]('cancel-parallel-shortcut-edit-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x5a9fd9=_0x52e3e9;document['getElementById']('parallel-shortcut-editor-modal')[_0x5a9fd9(0x807)]['add']('hidden');}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x3fb))['addEventListener']('click',saveParallelTestShortcutChanges),document['getElementById']('parallel-test-input-area')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x23a277=>{const _0x2bfae7=_0x52e3e9;_0x23a277[_0x2bfae7(0xc55)][_0x2bfae7(0x43a)](_0x2bfae7(0xa5b))&&document[_0x2bfae7(0xccc)]('additional-parallel-shortcuts-modal')[_0x2bfae7(0x807)][_0x2bfae7(0x90e)](_0x2bfae7(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x27e))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x833a6=_0x52e3e9;document[_0x833a6(0xccc)]('additional-parallel-shortcuts-modal')[_0x833a6(0x807)][_0x833a6(0xcec)]('hidden');}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x750))['addEventListener'](_0x52e3e9(0x343),_0x5548f0=>{const _0x1cf3e2=_0x52e3e9,_0x367ca6=document['getElementById'](_0x1cf3e2(0x2cb)),_0x57d3e1=_0x5548f0[_0x1cf3e2(0xc55)]['closest'](_0x1cf3e2(0x7e6)),_0x3cc03d=_0x5548f0[_0x1cf3e2(0xc55)][_0x1cf3e2(0x43a)](_0x1cf3e2(0x23d)),_0x1022f2=_0x5548f0[_0x1cf3e2(0xc55)][_0x1cf3e2(0x43a)](_0x1cf3e2(0x370));if(_0x57d3e1)_0x367ca6[_0x1cf3e2(0x807)][_0x1cf3e2(0xcec)](_0x1cf3e2(0x9f0)),handleParallelTestShortcutClick(_0x57d3e1['dataset']['id']);else{if(_0x3cc03d)_0x367ca6[_0x1cf3e2(0x807)][_0x1cf3e2(0xcec)](_0x1cf3e2(0x9f0)),openParallelTestShortcutEditor(_0x3cc03d[_0x1cf3e2(0x87a)]['id']);else{if(_0x1022f2){const _0x4381d3=_0x1022f2[_0x1cf3e2(0x87a)]['id'];showConfirmation(_0x1cf3e2(0x26f),async()=>{const _0x47f42c=_0x1cf3e2,_0x14ce88=parallelTestShortcuts[_0x47f42c(0x512)](_0x4c8005=>_0x4c8005['id']!==_0x4381d3),_0xe72f51=doc(db,_0x47f42c(0x7e7),'parallelTestShortcutsConfig');await setDoc(_0xe72f51,{'shortcuts':_0x14ce88},{'merge':!![]});});}}}}),document['getElementById'](_0x52e3e9(0xcfc))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x129f82=>{const _0x4d543c=_0x52e3e9,_0x351526=_0x129f82[_0x4d543c(0xc55)][_0x4d543c(0x43a)](_0x4d543c(0x6fb)),_0x228719=_0x129f82[_0x4d543c(0xc55)][_0x4d543c(0x43a)](_0x4d543c(0x625)),_0x48e2ce=_0x129f82[_0x4d543c(0xc55)][_0x4d543c(0x43a)](_0x4d543c(0x6b7));if(_0x228719)openFileShortcutEditor(_0x228719[_0x4d543c(0x87a)]['id']);else{if(_0x48e2ce){const _0x387790=_0x48e2ce[_0x4d543c(0x87a)]['id'];showConfirmation(_0x4d543c(0x26f),async()=>{const _0xc72c17=_0x4d543c,_0x5a937a=fileShortcuts['filter'](_0x291be2=>_0x291be2['id']!==_0x387790),_0x519d3d=doc(db,'globalSettings',_0xc72c17(0x87e));await setDoc(_0x519d3d,{'shortcuts':_0x5a937a},{'merge':!![]});});}else _0x351526&&handleFileShortcutClick(_0x351526[_0x4d543c(0x87a)]['id']);}}),document['getElementById']('add-file-shortcut-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>openFileShortcutEditor(null)),document[_0x52e3e9(0xccc)]('cancel-file-shortcut-edit-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x448cc8=_0x52e3e9;document[_0x448cc8(0xccc)](_0x448cc8(0x1ba))[_0x448cc8(0x807)][_0x448cc8(0xcec)](_0x448cc8(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xa3f))[_0x52e3e9(0x7d6)]('click',saveFileShortcutChanges),document[_0x52e3e9(0xccc)](_0x52e3e9(0xc8))['addEventListener'](_0x52e3e9(0x343),_0x101338=>{const _0x258d83=_0x52e3e9;_0x101338[_0x258d83(0xc55)][_0x258d83(0x43a)](_0x258d83(0xba3))&&document['getElementById'](_0x258d83(0x2bf))[_0x258d83(0x807)][_0x258d83(0x90e)]('hidden');}),document['getElementById'](_0x52e3e9(0x566))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x28a0ad=_0x52e3e9;document[_0x28a0ad(0xccc)](_0x28a0ad(0x2bf))[_0x28a0ad(0x807)][_0x28a0ad(0xcec)](_0x28a0ad(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xa56))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x43122b=>{const _0x5abe4f=_0x52e3e9,_0x47019e=document['getElementById']('additional-file-shortcuts-modal'),_0x821103=_0x43122b[_0x5abe4f(0xc55)][_0x5abe4f(0x43a)](_0x5abe4f(0xb30)),_0x4c3930=_0x43122b[_0x5abe4f(0xc55)][_0x5abe4f(0x43a)](_0x5abe4f(0x59a)),_0x1acecc=_0x43122b[_0x5abe4f(0xc55)]['closest']('.delete-hidden-file-shortcut-btn');if(_0x821103)_0x47019e[_0x5abe4f(0x807)]['add'](_0x5abe4f(0x9f0)),handleFileShortcutClick(_0x821103[_0x5abe4f(0x87a)]['id']);else{if(_0x4c3930)_0x47019e['classList'][_0x5abe4f(0xcec)](_0x5abe4f(0x9f0)),openFileShortcutEditor(_0x4c3930['dataset']['id']);else{if(_0x1acecc){const _0x96c002=_0x1acecc[_0x5abe4f(0x87a)]['id'];showConfirmation(_0x5abe4f(0x26f),async()=>{const _0x35b43c=fileShortcuts['filter'](_0x478e3a=>_0x478e3a['id']!==_0x96c002),_0x1986bc=doc(db,'globalSettings','fileShortcutsConfig');await setDoc(_0x1986bc,{'shortcuts':_0x35b43c},{'merge':!![]});});}}}}),document[_0x52e3e9(0xccc)]('blueprint-input-area')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x26e3e6=>{const _0x3d0086=_0x52e3e9;_0x26e3e6[_0x3d0086(0xc55)][_0x3d0086(0x43a)](_0x3d0086(0xc1e))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x3d0086(0xccc)](_0x3d0086(0x521))['classList'][_0x3d0086(0x90e)](_0x3d0086(0x9f0)));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xcbf))[_0x52e3e9(0x7d6)]('click',()=>{const _0x2ad4b1=_0x52e3e9;document[_0x2ad4b1(0xccc)]('additional-shortcuts-modal')['classList']['add'](_0x2ad4b1(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xc28))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x4eec9e=>{const _0x134647=_0x52e3e9,_0x54e64a=_0x4eec9e[_0x134647(0xc55)][_0x134647(0x43a)](_0x134647(0xbe7)),_0x380176=_0x4eec9e[_0x134647(0xc55)][_0x134647(0x43a)]('.edit-hidden-shortcut-btn'),_0x10e884=_0x4eec9e[_0x134647(0xc55)]['closest'](_0x134647(0x9b9)),_0x1bca01=document[_0x134647(0xccc)](_0x134647(0x521));if(_0x54e64a)_0x1bca01[_0x134647(0x807)][_0x134647(0xcec)](_0x134647(0x9f0)),handleShortcutClick(_0x54e64a['dataset']['id']);else{if(_0x380176)_0x1bca01['classList'][_0x134647(0xcec)](_0x134647(0x9f0)),openShortcutEditor(_0x380176[_0x134647(0x87a)]['id']);else{if(_0x10e884){const _0x354dca=_0x10e884['dataset']['id'],_0xa0f6aa=blueprintShortcuts[_0x134647(0x48e)](_0x39882f=>_0x39882f['id']===_0x354dca)?.['name'];showConfirmation(_0x134647(0xdb)+_0xa0f6aa+'\x22?',async()=>{const _0x3cf948=_0x134647,_0x3193c5=blueprintShortcuts[_0x3cf948(0x512)](_0x2f2721=>_0x2f2721['id']!==_0x354dca);try{const _0x3718bb=doc(db,_0x3cf948(0x7e7),_0x3cf948(0x5ce));await setDoc(_0x3718bb,{'blueprintShortcuts':_0x3193c5},{'merge':!![]});}catch(_0x2f71db){console[_0x3cf948(0xada)]('Error\x20deleting\x20shortcut:',_0x2f71db);}});}}}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x329))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x507a03=>{const _0x33c8f3=_0x52e3e9,_0x493bcf=_0x507a03['target'][_0x33c8f3(0x43a)](_0x33c8f3(0x518)),_0x29d79e=_0x507a03[_0x33c8f3(0xc55)][_0x33c8f3(0x43a)](_0x33c8f3(0xab8)),_0x58220e=_0x507a03['target'][_0x33c8f3(0x43a)](_0x33c8f3(0xcae));if(_0x29d79e)openShortcutEditor(_0x29d79e['dataset']['id']);else{if(_0x58220e){const _0x3bb459=_0x58220e[_0x33c8f3(0x87a)]['id'],_0x32bdb8=blueprintShortcuts[_0x33c8f3(0x48e)](_0x287f6b=>_0x287f6b['id']===_0x3bb459)?.[_0x33c8f3(0x190)];showConfirmation(_0x33c8f3(0xdb)+_0x32bdb8+'\x22?',async()=>{const _0x214edb=_0x33c8f3,_0x4e8767=blueprintShortcuts[_0x214edb(0x512)](_0x2f36db=>_0x2f36db['id']!==_0x3bb459);try{const _0x47d5ec=doc(db,_0x214edb(0x7e7),'dashboardConfig');await setDoc(_0x47d5ec,{'blueprintShortcuts':_0x4e8767},{'merge':!![]});}catch(_0x4ad450){console[_0x214edb(0xada)](_0x214edb(0xc39),_0x4ad450);}});}else _0x493bcf&&handleShortcutClick(_0x493bcf[_0x33c8f3(0x87a)]['id']);}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x4b9))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>openShortcutEditor(null)),document[_0x52e3e9(0xccc)]('cancel-shortcut-edit-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x4076b3=_0x52e3e9;document[_0x4076b3(0xccc)](_0x4076b3(0x25a))[_0x4076b3(0x807)]['add']('hidden');}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x7af))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),saveShortcutChanges),document[_0x52e3e9(0xccc)]('generate-from-blueprint-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),async()=>{const _0x30592e=_0x52e3e9,_0x44d7c8=document['getElementById']('blueprint-upload-input'),_0x496e79=document[_0x30592e(0xccc)](_0x30592e(0x195));_0x44d7c8['files'][_0x30592e(0x34a)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x44d7c8[_0x30592e(0x9ea)][0x0],_0x496e79[_0x30592e(0x9ea)][0x0]||null):showMessage(_0x30592e(0x719));}),document[_0x52e3e9(0xccc)]('topic-quiz-bank-modal')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),async _0x20e7e2=>{const _0x103ca9=_0x52e3e9,_0x4fb9b6=document[_0x103ca9(0xccc)](_0x103ca9(0xa89)),_0x48be7b=_0x20e7e2[_0x103ca9(0xc55)][_0x103ca9(0x43a)](_0x103ca9(0x4d6)),_0x4a47e5=_0x20e7e2[_0x103ca9(0xc55)][_0x103ca9(0x43a)](_0x103ca9(0x876)),_0x4aa5ed=_0x20e7e2[_0x103ca9(0xc55)]['closest'](_0x103ca9(0x709)),_0x131d86=_0x20e7e2[_0x103ca9(0xc55)][_0x103ca9(0x43a)]('.bp-try-btn'),_0x21d519=_0x20e7e2[_0x103ca9(0xc55)][_0x103ca9(0x43a)](_0x103ca9(0xe30)),_0x467e0c=_0x20e7e2[_0x103ca9(0xc55)]['closest']('.bp-game-btn');if(_0x48be7b){cameFromBlueprint=!![];const _0x3f82cf=_0x48be7b[_0x103ca9(0x87a)]['quizId'];showQuizDetailView(_0x3f82cf),_0x4fb9b6['classList']['add'](_0x103ca9(0x9f0));}else{if(_0x4a47e5){const _0x48c9d4=_0x4a47e5[_0x103ca9(0x87a)][_0x103ca9(0x3a1)],_0x28fca2=_0x4a47e5[_0x103ca9(0x87a)]['quizId'],_0x2f8227=allQuizzesGlobal[_0x103ca9(0x48e)](_0x563cf7=>_0x563cf7['id']===_0x28fca2),_0x3fcd88=_0x2f8227?_0x2f8227[_0x103ca9(0xe36)]:_0x103ca9(0x409);showConfirmation(_0x103ca9(0x2ca)+_0x3fcd88+_0x103ca9(0x45d),async()=>{const _0x3d383c=_0x103ca9;try{const _0x284ea1=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x284ea1,{['topics.'+_0x48c9d4+'.linkedQuizIds']:arrayRemove(_0x28fca2)}),showMessage(_0x3d383c(0xe3a)),openTopicQuizBank(_0x48c9d4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x32bacc){console[_0x3d383c(0xada)](_0x3d383c(0xdd5),_0x32bacc),showMessage(_0x3d383c(0xcda));}});}else{if(_0x4aa5ed){cameFromBlueprint=!![];const _0x2bcaea=_0x4aa5ed[_0x103ca9(0x87a)][_0x103ca9(0x9c4)],_0x171a63=allQuizzesGlobal['find'](_0x42da30=>_0x42da30['id']===_0x2bcaea);_0x171a63&&(startPresentation(_0x171a63),_0x4fb9b6[_0x103ca9(0x807)][_0x103ca9(0xcec)](_0x103ca9(0x9f0)));}else{if(_0x131d86){cameFromBlueprint=!![];const _0x1d2c1c=_0x131d86['dataset'][_0x103ca9(0x9c4)],_0x4d3cbd=allQuizzesGlobal[_0x103ca9(0x48e)](_0x31d945=>_0x31d945['id']===_0x1d2c1c);_0x4d3cbd&&(currentQuizData=_0x4d3cbd,startAdminTest(),_0x4fb9b6[_0x103ca9(0x807)]['add']('hidden'));}else{if(_0x21d519)cameFromBlueprint=!![],handleStartLiveRace(_0x21d519['dataset'][_0x103ca9(0x9c4)]),_0x4fb9b6[_0x103ca9(0x807)][_0x103ca9(0xcec)](_0x103ca9(0x9f0));else{if(_0x467e0c){cameFromBlueprint=!![];const _0x32a5a7=_0x467e0c[_0x103ca9(0x87a)][_0x103ca9(0x9c4)],_0x4975a2=_0x467e0c[_0x103ca9(0x87a)]['mode'],_0xcc273c=allQuizzesGlobal[_0x103ca9(0x48e)](_0x404a31=>_0x404a31['id']===_0x32a5a7);_0xcc273c&&(showGameStartConfirmationModal(_0x32a5a7,_0x4975a2,_0xcc273c[_0x103ca9(0xe36)]),_0x4fb9b6[_0x103ca9(0x807)][_0x103ca9(0xcec)]('hidden'));}}}}}}}),document['getElementById'](_0x52e3e9(0x1a4))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x2eb973=_0x52e3e9;document[_0x2eb973(0xccc)](_0x2eb973(0x3e4))[_0x2eb973(0x807)][_0x2eb973(0x90e)](_0x2eb973(0x9f0)),document[_0x2eb973(0xccc)](_0x2eb973(0x42b))['value']='',document[_0x2eb973(0xccc)](_0x2eb973(0x14d))[_0x2eb973(0xa9f)]='',document['getElementById'](_0x2eb973(0x415))[_0x2eb973(0xa9f)]='';}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x51a))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x3f4dcc=_0x52e3e9;document[_0x3f4dcc(0xccc)](_0x3f4dcc(0x3e4))['classList']['add'](_0x3f4dcc(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xb24))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleManualBlueprintSave),document[_0x52e3e9(0xccc)](_0x52e3e9(0x571))[_0x52e3e9(0x7d6)]('click',()=>document[_0x52e3e9(0xccc)](_0x52e3e9(0x86c))[_0x52e3e9(0x807)][_0x52e3e9(0xcec)](_0x52e3e9(0x9f0))),document[_0x52e3e9(0xccc)]('save-bp-settings-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleSaveBlueprintPageSettings),document[_0x52e3e9(0xccc)](_0x52e3e9(0xe3c))['addEventListener'](_0x52e3e9(0x343),openBlueprintQuizSettings),document[_0x52e3e9(0xccc)](_0x52e3e9(0xe6d))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),saveBlueprintProject),document[_0x52e3e9(0xccc)]('open-blueprint-projects-btn')[_0x52e3e9(0x7d6)]('click',showBlueprintProjects),document[_0x52e3e9(0xccc)](_0x52e3e9(0xd7c))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x12fc26=_0x52e3e9;document[_0x12fc26(0xccc)]('blueprint-projects-modal')[_0x12fc26(0x807)][_0x12fc26(0xcec)]('hidden');}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x45b))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x548f0a=>{const _0x5d8b13=_0x52e3e9,_0x2cf882=_0x548f0a[_0x5d8b13(0xc55)][_0x5d8b13(0x43a)](_0x5d8b13(0xa5e)),_0x843080=_0x548f0a['target']['closest'](_0x5d8b13(0xcaa));if(_0x2cf882)displayBlueprintProjectManager(_0x2cf882[_0x5d8b13(0x87a)]['id']);else _0x843080&&handleDeepDeleteBlueprintProject(_0x843080[_0x5d8b13(0x87a)]['id']);}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x56a))[_0x52e3e9(0x7d6)]('click',()=>{const _0x1604f0=_0x52e3e9;currentBlueprintProjectId=null,currentProjectId=null,document[_0x1604f0(0xccc)]('blueprint-project-manager-view')[_0x1604f0(0x807)][_0x1604f0(0xcec)]('hidden'),showView(_0x1604f0(0x5d3));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x868))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),addTopicToProject),document[_0x52e3e9(0xccc)](_0x52e3e9(0xb09))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),async _0x17ba95=>{const _0x3b6d90=_0x52e3e9,_0x1b0c80=_0x17ba95[_0x3b6d90(0xc55)]['closest'](_0x3b6d90(0xd78));if(!_0x1b0c80)return;const _0x54863e=_0x1b0c80['dataset'][_0x3b6d90(0x3a1)],_0x139ec=_0x17ba95[_0x3b6d90(0xc55)][_0x3b6d90(0x43a)](_0x3b6d90(0x56e)),_0x1f7892=_0x17ba95['target'][_0x3b6d90(0x43a)](_0x3b6d90(0x18b)),_0x157913=_0x17ba95[_0x3b6d90(0xc55)][_0x3b6d90(0x43a)](_0x3b6d90(0x30a)),_0x995325=_0x17ba95[_0x3b6d90(0xc55)][_0x3b6d90(0x43a)]('.bp-open-topic-bank-btn'),_0x4c68ab=_0x17ba95['target'][_0x3b6d90(0x43a)](_0x3b6d90(0xaa1)),_0x17f7e8=_0x17ba95['target'][_0x3b6d90(0x43a)](_0x3b6d90(0x290)),_0xe42e93=_0x17ba95[_0x3b6d90(0xc55)][_0x3b6d90(0x43a)](_0x3b6d90(0xce7)),_0x769308=_0x17ba95[_0x3b6d90(0xc55)][_0x3b6d90(0x43a)](_0x3b6d90(0xb6c)),_0x5cfdee=_0xb77223=>{const _0x39d6b8=_0x3b6d90,_0x2c12fd=_0xb77223[_0x39d6b8(0xdd0)]('[data-field=\x22subTopic\x22]')[_0x39d6b8(0xc76)]['trim'](),_0x18f626=_0xb77223[_0x39d6b8(0x43a)](_0x39d6b8(0xc1c))['previousElementSibling'],_0x58b81a=_0x18f626?_0x18f626['textContent']['trim']():'';return _0x58b81a+':\x20'+_0x2c12fd;};if(_0x995325)openTopicQuizBank(_0x54863e);else{if(_0x139ec){const _0x1f6b97=_0x5cfdee(_0x1b0c80);selectProjectAndGenerateBlueprintQuiz(_0x1f6b97,null,_0x54863e,!![]);}else{if(_0x1f7892){const _0x1360eb=_0x5cfdee(_0x1b0c80);try{const _0x2c90b8=doc(db,_0x3b6d90(0x331)+appId+_0x3b6d90(0x25b)+currentBlueprintProjectId+_0x3b6d90(0xfe),_0x54863e),_0x289f1a=await getDoc(_0x2c90b8);if(_0x289f1a[_0x3b6d90(0xc43)]()){const _0x5d37d0=_0x289f1a[_0x3b6d90(0xd60)]()[_0x3b6d90(0xd32)],_0x4b62e4=document[_0x3b6d90(0xd4f)](_0x3b6d90(0xcd3)),_0x413cda=_0x21ca6e=>{const _0x2c736b=_0x3b6d90;if(!_0x21ca6e)return'';return _0x4b62e4[_0x2c736b(0x93e)]=_0x21ca6e,_0x4b62e4[_0x2c736b(0xc76)]||_0x4b62e4[_0x2c736b(0xdbb)]||'';},_0x30f870=(_0x413cda(_0x5d37d0[_0x3b6d90(0xbaa)])+'\x20'+_0x413cda(_0x5d37d0['memory'])+'\x20'+_0x413cda(_0x5d37d0[_0x3b6d90(0xa3b)]))[_0x3b6d90(0x6b3)]();selectProjectAndGenerateBlueprintQuiz(_0x1360eb,_0x30f870,_0x54863e,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x4057b9){console[_0x3b6d90(0xada)](_0x3b6d90(0xceb),_0x4057b9),showMessage(_0x3b6d90(0xbf6));}}else{if(_0x157913){const _0x43f496=_0x5cfdee(_0x1b0c80);selectProjectAndGenerateBlueprintQuiz(_0x43f496,null,_0x54863e,![]);}else{if(_0x4c68ab){const _0x5db59a=doc(db,'artifacts/'+appId+_0x3b6d90(0x160),currentBlueprintProjectId),_0x57b42d=await getDoc(_0x5db59a);if(_0x57b42d['exists']()){const _0x5c7009=_0x57b42d['data'](),_0x5db886=_0x5c7009['topics'][_0x54863e];if(_0x5db886&&_0x5db886['status']===_0x3b6d90(0xc08))try{const _0x63f394=doc(db,_0x3b6d90(0x331)+appId+_0x3b6d90(0x25b)+currentBlueprintProjectId+_0x3b6d90(0xfe),_0x54863e),_0xc7f658=await getDoc(_0x63f394);if(_0xc7f658['exists']()){const _0x165f37=_0xc7f658[_0x3b6d90(0xd60)]()['content'];document[_0x3b6d90(0xccc)]('lesson-view-title')[_0x3b6d90(0xc76)]='บทเรียนเรื่อง:\x20'+_0x5cfdee(_0x1b0c80),document[_0x3b6d90(0xccc)](_0x3b6d90(0x28e))[_0x3b6d90(0x93e)]=_0x165f37[_0x3b6d90(0xbaa)],document[_0x3b6d90(0xccc)]('memoryContent')[_0x3b6d90(0x93e)]=_0x165f37[_0x3b6d90(0x57b)],document[_0x3b6d90(0xccc)](_0x3b6d90(0x36f))['innerHTML']=_0x165f37[_0x3b6d90(0xa3b)];const _0x52d4dc=document['getElementById']('applicationContent');_0x165f37[_0x3b6d90(0x207)]?(currentApplicationData=_0x165f37[_0x3b6d90(0x207)],_0x52d4dc[_0x3b6d90(0x93e)]=currentApplicationData[_0x3b6d90(0x141)]((_0x176e25,_0x266505)=>_0x3b6d90(0xb3d)+(_0x266505+0x1)+'.\x20'+marked['parseInline'](_0x176e25[_0x3b6d90(0x4c0)])+_0x3b6d90(0x7de)+_0x266505+_0x3b6d90(0x7c5)+_0x176e25[_0x3b6d90(0xaee)][_0x3b6d90(0x141)]((_0x3b8c5e,_0x5e2dd4)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x266505+',\x20'+_0x5e2dd4+_0x3b6d90(0x29f)+String[_0x3b6d90(0xad9)](0x61+_0x5e2dd4)+'.\x20'+marked[_0x3b6d90(0x14e)](_0x3b8c5e)+_0x3b6d90(0x581))[_0x3b6d90(0x72e)]('')+_0x3b6d90(0x303))[_0x3b6d90(0x72e)]('')):(currentApplicationData=[],_0x52d4dc[_0x3b6d90(0x93e)]=_0x165f37['applicationHTML']||_0x165f37[_0x3b6d90(0x1d6)]),document[_0x3b6d90(0xccc)]('lesson-loader')[_0x3b6d90(0x807)][_0x3b6d90(0xcec)](_0x3b6d90(0x9f0)),document[_0x3b6d90(0xccc)](_0x3b6d90(0xa57))[_0x3b6d90(0x807)]['remove'](_0x3b6d90(0x9f0)),document[_0x3b6d90(0xccc)]('lesson-view-modal')[_0x3b6d90(0x807)][_0x3b6d90(0x90e)](_0x3b6d90(0x9f0)),window[_0x3b6d90(0x5e4)]&&MathJax[_0x3b6d90(0xd06)]([document['getElementById'](_0x3b6d90(0x1fa))]);}else showMessage(_0x3b6d90(0x6f4));}catch(_0x47a909){console[_0x3b6d90(0xada)](_0x3b6d90(0x55a),_0x47a909),showMessage(_0x3b6d90(0x40b));}else showMessage(_0x3b6d90(0x30c));}}else{if(_0x17f7e8){const _0x28aca4=_0x5cfdee(_0x1b0c80),_0x392da2=doc(db,_0x3b6d90(0x331)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x2207ef=await getDoc(_0x392da2);if(_0x2207ef[_0x3b6d90(0xc43)]()){const _0x3348c0=_0x2207ef[_0x3b6d90(0xd60)]();generateAndSaveLessonForBlueprint(_0x54863e,_0x28aca4,_0x3348c0[_0x3b6d90(0x424)]);}}else{if(_0xe42e93)editTopicInProject(_0x54863e);else _0x769308&&deleteTopicFromProject(_0x54863e);}}}}}}}),document['getElementById'](_0x52e3e9(0x565))[_0x52e3e9(0x7d6)]('click',handleFixLessonLatex),document[_0x52e3e9(0xccc)](_0x52e3e9(0xd83))[_0x52e3e9(0x7d6)]('click',handleExportLessonToPDF),document[_0x52e3e9(0xccc)](_0x52e3e9(0x985))['addEventListener'](_0x52e3e9(0x343),()=>{const _0xa8b2ae=_0x52e3e9;document[_0xa8b2ae(0xccc)](_0xa8b2ae(0xe6e))[_0xa8b2ae(0x807)][_0xa8b2ae(0xcec)](_0xa8b2ae(0x9f0));});const _0x547d5b=document[_0x52e3e9(0xccc)](_0x52e3e9(0x945)),_0x475fa6=document['getElementById'](_0x52e3e9(0x32d));_0x547d5b[_0x52e3e9(0x7d6)]('change',()=>{const _0x20654b=_0x52e3e9;_0x475fa6['classList']['toggle'](_0x20654b(0x9f0),!_0x547d5b[_0x20654b(0x174)]);});const _0x395c40=document[_0x52e3e9(0xccc)](_0x52e3e9(0x906)),_0x50fe71=document['getElementById'](_0x52e3e9(0xb6a));_0x395c40['addEventListener'](_0x52e3e9(0x1b7),()=>{const _0x3e8bef=_0x52e3e9;_0x50fe71['classList'][_0x3e8bef(0x9e5)](_0x3e8bef(0x9f0),!_0x395c40[_0x3e8bef(0x174)]);});const _0x567d2d=document[_0x52e3e9(0xccc)](_0x52e3e9(0x21f)),_0x52be3b=document[_0x52e3e9(0xccc)](_0x52e3e9(0x96a));_0x567d2d[_0x52e3e9(0x7d6)](_0x52e3e9(0x1b7),()=>{const _0x3d9a96=_0x52e3e9;_0x52be3b[_0x3d9a96(0x807)]['toggle'](_0x3d9a96(0x9f0),!_0x567d2d[_0x3d9a96(0x174)]);});const _0x1aa0d8=document[_0x52e3e9(0xccc)]('confidence-modal'),_0x1d5b25=async _0x32c380=>{const _0x5e334c=_0x52e3e9,_0x5ef7ad=document['getElementById'](_0x5e334c(0x443)),_0x209dc1=_0x5ef7ad['dataset']['currentMode'],_0x2242b9=document[_0x5e334c(0xccc)](_0x5e334c(0x6e8));_0x5ef7ad['classList'][_0x5e334c(0xcec)](_0x5e334c(0x9f0));if(_0x209dc1===_0x5e334c(0xa69)){const _0x3e159d=_0x2242b9[_0x5e334c(0xa9f)],_0xf1a286={'answer':_0x3e159d,'wasConfident':_0x32c380};proceedToNextQuestion(_0xf1a286);}else{if(_0x209dc1===_0x5e334c(0xd2a)){const _0x53148d=_0x2242b9[_0x5e334c(0x87a)]['answerValue'],_0x5e566a=JSON[_0x5e334c(0xcd5)](_0x2242b9['dataset'][_0x5e334c(0x4c0)]),_0x3c26d6=JSON[_0x5e334c(0xcd5)](_0x2242b9[_0x5e334c(0x87a)][_0x5e334c(0xb7b)]),_0x2c6c44=_0x2242b9['dataset'][_0x5e334c(0x89e)];handleSyncAnswerSubmit(_0x53148d,_0x5e566a,_0x3c26d6,_0x2c6c44,_0x32c380);}}_0x5ef7ad[_0x5e334c(0x87a)][_0x5e334c(0xe65)]='';};document['getElementById'](_0x52e3e9(0x19f))[_0x52e3e9(0x7d6)]('click',()=>_0x1d5b25(!![])),document[_0x52e3e9(0xccc)]('confirm-not-confident')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>_0x1d5b25(![])),liveGameView['addEventListener'](_0x52e3e9(0x343),_0x44e83e=>{const _0x30cb52=_0x52e3e9,_0x5442e7=_0x44e83e[_0x30cb52(0xc55)][_0x30cb52(0x43a)]('.kick-player-btn-sync');if(_0x5442e7){const _0x570dd4=_0x5442e7['dataset'][_0x30cb52(0x89e)];_0x570dd4&&handleKickPlayerSync(_0x570dd4);}});const _0x3869ac=document[_0x52e3e9(0xccc)](_0x52e3e9(0x29a)),_0x3e0bed=document[_0x52e3e9(0xccc)]('cancel-game-start-btn');_0x3e0bed['addEventListener'](_0x52e3e9(0x343),()=>{const _0x5332a8=_0x52e3e9;document[_0x5332a8(0xccc)]('confirm-game-start-modal')[_0x5332a8(0x807)][_0x5332a8(0xcec)](_0x5332a8(0x9f0));}),_0x3869ac[_0x52e3e9(0x7d6)]('click',()=>{const _0x4222a5=_0x52e3e9,_0x555a0b=document[_0x4222a5(0xccc)](_0x4222a5(0x576))[_0x4222a5(0xa9f)],_0x2ebf3e=document['getElementById'](_0x4222a5(0x159))[_0x4222a5(0xa9f)],_0x5e75aa=document[_0x4222a5(0xccc)](_0x4222a5(0x47a))[_0x4222a5(0x174)];document[_0x4222a5(0xccc)](_0x4222a5(0x535))[_0x4222a5(0x807)][_0x4222a5(0xcec)](_0x4222a5(0x9f0));switch(_0x2ebf3e){case _0x4222a5(0xbf4):handleStartLiveRace(_0x555a0b,_0x5e75aa);break;case _0x4222a5(0x9cb):handleStartTeamQuiz(_0x555a0b,_0x5e75aa);break;case _0x4222a5(0x749):handleStartGroupMode(_0x555a0b,_0x5e75aa);break;case _0x4222a5(0xd2a):const _0x253103=document[_0x4222a5(0xdd0)](_0x4222a5(0x16b))['value']||_0x4222a5(0xe04);handleStartSyncMode(_0x555a0b,_0x5e75aa,_0x253103);break;}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x897))['addEventListener'](_0x52e3e9(0x343),handleJoinGroupActivity),liveGameView[_0x52e3e9(0x7d6)]('click',_0x568b95=>{const _0x3de6f9=_0x52e3e9,_0x5722a6=_0x568b95[_0x3de6f9(0xc55)][_0x3de6f9(0x43a)](_0x3de6f9(0xd00));document[_0x3de6f9(0x5f0)](_0x3de6f9(0x4a4))['forEach'](_0x2741ea=>{const _0x31efda=_0x3de6f9;(!_0x5722a6||_0x2741ea['id']!==_0x5722a6['dataset']['tooltipTarget'])&&_0x2741ea[_0x31efda(0x807)][_0x31efda(0x90e)](_0x31efda(0xc3a));});if(!_0x5722a6)return;const _0x2a522e=_0x5722a6['dataset']['tooltipTarget'],_0x1aabcc=document[_0x3de6f9(0xccc)](_0x2a522e);_0x1aabcc&&_0x1aabcc[_0x3de6f9(0x807)]['toggle'](_0x3de6f9(0xc3a));}),liveGameView[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x203acf=>{const _0x1a0ba1=_0x52e3e9;if(_0x203acf[_0x1a0ba1(0xc55)][_0x1a0ba1(0x807)][_0x1a0ba1(0xa2d)](_0x1a0ba1(0xc4c))){const _0x114f68=_0x203acf[_0x1a0ba1(0xc55)][_0x1a0ba1(0x87a)]['playerName'];_0x114f68&&handleKickPlayer(_0x114f68);}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xbe))[_0x52e3e9(0x7d6)](_0x52e3e9(0x557),()=>document[_0x52e3e9(0xccc)]('save-project-name-btn')[_0x52e3e9(0x807)][_0x52e3e9(0x90e)](_0x52e3e9(0x9f0))),document[_0x52e3e9(0xccc)](_0x52e3e9(0x2ed))['addEventListener']('click',handleSaveProjectName),document[_0x52e3e9(0xccc)](_0x52e3e9(0xbe))[_0x52e3e9(0x7d6)]('keydown',_0x19e81f=>{const _0x5b78d8=_0x52e3e9;_0x19e81f[_0x5b78d8(0x40a)]==='Enter'&&(_0x19e81f[_0x5b78d8(0x54c)](),_0x19e81f[_0x5b78d8(0xc55)]['blur'](),handleSaveProjectName());}),document[_0x52e3e9(0xccc)]('bulk-quiz-settings-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x3f4181=_0x52e3e9;document[_0x3f4181(0xccc)](_0x3f4181(0xdb0))[_0x3f4181(0x807)][_0x3f4181(0x90e)]('hidden');}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x4a6))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x15d756=_0x52e3e9;document['getElementById']('bulk-quiz-settings-modal')[_0x15d756(0x807)][_0x15d756(0xcec)](_0x15d756(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x3e7))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleBulkUpdateQuizSettings),document[_0x52e3e9(0xccc)](_0x52e3e9(0x972))[_0x52e3e9(0x7d6)]('click',handleModeSwitch),document[_0x52e3e9(0xccc)](_0x52e3e9(0x281))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleUpdateOldQuizzes),document[_0x52e3e9(0xccc)]('reset-project-order-btn')[_0x52e3e9(0x7d6)]('click',handleResetProjectOrder),document[_0x52e3e9(0xccc)]('save-visibility-settings-btn')['addEventListener'](_0x52e3e9(0x343),handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x52e3e9(0x7d6)]('click',handleAddCustomMathTopic),document[_0x52e3e9(0xccc)]('select-all-topics-btn')['addEventListener'](_0x52e3e9(0x343),handleSelectAllTopics),document[_0x52e3e9(0xccc)](_0x52e3e9(0xb5d))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleDeselectAllTopics),document[_0x52e3e9(0xccc)](_0x52e3e9(0x85c))['addEventListener'](_0x52e3e9(0x343),()=>{const _0xb89efd=_0x52e3e9;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0xb89efd(0x5d3));}}),document[_0x52e3e9(0xccc)]('back-to-project-btn')['addEventListener'](_0x52e3e9(0x343),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x52e3e9(0xccc)]('back-to-dashboard-from-results-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x5b1760=_0x52e3e9;showView(_0x5b1760(0x5d3));}),document['getElementById'](_0x52e3e9(0x13f))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x2b2084=_0x52e3e9;messageModal[_0x2b2084(0x807)][_0x2b2084(0xcec)]('hidden'),typeof modalConfirmAction===_0x2b2084(0xc3f)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById']('create-project-btn')['addEventListener'](_0x52e3e9(0x343),()=>createProjectModal[_0x52e3e9(0x807)]['remove'](_0x52e3e9(0x9f0))),document[_0x52e3e9(0xccc)](_0x52e3e9(0x826))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>createProjectModal[_0x52e3e9(0x807)][_0x52e3e9(0xcec)]('hidden')),document[_0x52e3e9(0xccc)](_0x52e3e9(0x4e5))['addEventListener'](_0x52e3e9(0x343),()=>adminPasswordModal['classList']['add'](_0x52e3e9(0x9f0))),document[_0x52e3e9(0xccc)](_0x52e3e9(0xa25))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleAdminLogin),document[_0x52e3e9(0xccc)](_0x52e3e9(0xb35))[_0x52e3e9(0x7d6)]('keyup',_0x2f07d7=>{const _0x3cf6c9=_0x52e3e9;if(_0x2f07d7[_0x3cf6c9(0x40a)]===_0x3cf6c9(0xe28))handleAdminLogin();}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x96e))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x4eae4c=_0x52e3e9;confirmationModal[_0x4eae4c(0x807)][_0x4eae4c(0xcec)](_0x4eae4c(0x9f0)),typeof cancelAction===_0x4eae4c(0xc3f)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x52e3e9(0x82e))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x396dfd=_0x52e3e9;confirmAction&&confirmAction(),confirmationModal[_0x396dfd(0x807)][_0x396dfd(0xcec)](_0x396dfd(0x9f0)),confirmAction=null,cancelAction=null;}),document[_0x52e3e9(0xccc)]('cancel-rename-quiz-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>renameQuizModal[_0x52e3e9(0x807)][_0x52e3e9(0xcec)](_0x52e3e9(0x9f0))),document['getElementById'](_0x52e3e9(0xdca))['addEventListener'](_0x52e3e9(0x343),confirmRenameQuiz),document['getElementById'](_0x52e3e9(0x658))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>moveQuizModal['classList']['add']('hidden')),document[_0x52e3e9(0xccc)](_0x52e3e9(0xda8))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),confirmMoveQuiz),document[_0x52e3e9(0xccc)](_0x52e3e9(0xd0b))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>quizSettingsModal[_0x52e3e9(0x807)][_0x52e3e9(0xcec)]('hidden')),document[_0x52e3e9(0xccc)](_0x52e3e9(0x90a))['addEventListener'](_0x52e3e9(0x343),confirmQuizSettings),document['getElementById'](_0x52e3e9(0xaad))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>quizStatusModal['classList'][_0x52e3e9(0xcec)](_0x52e3e9(0x9f0))),document[_0x52e3e9(0xccc)](_0x52e3e9(0xcfe))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),confirmQuizStatus);const _0x4a30bf=document[_0x52e3e9(0xccc)](_0x52e3e9(0x3c9));document[_0x52e3e9(0xccc)]('cancel-export-pdf-btn')['addEventListener']('click',()=>{const _0x1968f6=_0x52e3e9;_0x4a30bf['classList'][_0x1968f6(0xcec)]('hidden');}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x605))[_0x52e3e9(0x7d6)]('click',async()=>{const _0x1ef848=_0x52e3e9,_0x44f5e0=allQuizzes['find'](_0x394821=>_0x394821['id']===actionTargetId);_0x44f5e0?(currentQuizData=_0x44f5e0,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4a30bf[_0x1ef848(0x807)][_0x1ef848(0xcec)](_0x1ef848(0x9f0));}),document['getElementById'](_0x52e3e9(0xcf0))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),async()=>{const _0x3f292c=_0x52e3e9,_0x7faa6f=allQuizzes[_0x3f292c(0x48e)](_0x3065e5=>_0x3065e5['id']===actionTargetId);_0x7faa6f?(currentQuizData=_0x7faa6f,exportQuizAsTutorPDF()):showMessage(_0x3f292c(0x121)),_0x4a30bf[_0x3f292c(0x807)][_0x3f292c(0xcec)](_0x3f292c(0x9f0));});const _0x4f198e=document[_0x52e3e9(0xccc)]('open-global-live-btn');_0x4f198e[_0x52e3e9(0x93e)]=_0x52e3e9(0xa53),_0x4f198e[_0x52e3e9(0x7d6)]('click',openGlobalActivityModal),document['getElementById']('cancel-global-activity-btn')['addEventListener'](_0x52e3e9(0x343),()=>{const _0x1998cd=_0x52e3e9;document[_0x1998cd(0xccc)](_0x1998cd(0x178))['classList']['add'](_0x1998cd(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xb59))[_0x52e3e9(0x7d6)](_0x52e3e9(0x6ad),_0x45960d=>{renderGlobalActivityList(_0x45960d['target']['value']);}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xdc1))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x4b3508=>{const _0x13b7fc=_0x52e3e9,_0xd0f05a=_0x4b3508['target'][_0x13b7fc(0x43a)](_0x13b7fc(0x695));if(!_0xd0f05a)return;const _0x3996b4=_0xd0f05a[_0x13b7fc(0x87a)]['id'],_0x31d47f=_0xd0f05a[_0x13b7fc(0x87a)][_0x13b7fc(0x2a8)],_0x5472c6=allQuizzesGlobal[_0x13b7fc(0x48e)](_0x599a0f=>_0x599a0f['id']===_0x3996b4);_0x5472c6&&(document[_0x13b7fc(0xccc)](_0x13b7fc(0x178))['classList'][_0x13b7fc(0xcec)](_0x13b7fc(0x9f0)),_0x31d47f===_0x13b7fc(0xbf4)?handleStartLiveRace(_0x3996b4):showGameStartConfirmationModal(_0x3996b4,_0x31d47f,_0x5472c6[_0x13b7fc(0xe36)]));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xdeb))[_0x52e3e9(0x7d6)](_0x52e3e9(0x6ad),renderProjects),document['getElementById'](_0x52e3e9(0xa81))['addEventListener']('change',async()=>{const _0x4c568d=_0x52e3e9,_0x277b12=document[_0x4c568d(0xccc)](_0x4c568d(0xa81))[_0x4c568d(0xa9f)],_0x519ea4=doc(db,_0x4c568d(0x7e7),_0x4c568d(0x5ce));try{await setDoc(_0x519ea4,{'projectSort':_0x277b12},{'merge':!![]});}catch(_0x3496f9){console[_0x4c568d(0xada)](_0x4c568d(0x95b),_0x3496f9),showMessage(_0x4c568d(0x115));}}),document[_0x52e3e9(0xccc)]('quiz-search-input')[_0x52e3e9(0x7d6)]('input',renderQuizzes),document[_0x52e3e9(0xccc)](_0x52e3e9(0x9b7))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x3f19ce=_0x52e3e9;globalDashboardSettings[_0x3f19ce(0x5bf)]='grid',saveUserPreference('projectView',_0x3f19ce(0x799)),renderProjects();}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x50c))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x36a4a9=_0x52e3e9;globalDashboardSettings[_0x36a4a9(0x5bf)]=_0x36a4a9(0x1d8),saveUserPreference(_0x36a4a9(0x5bf),'list'),renderProjects();}),manageTab[_0x52e3e9(0x7d6)]('click',()=>switchProjectTab(_0x52e3e9(0x9e7))),resultsTab['addEventListener'](_0x52e3e9(0x343),()=>switchProjectTab(_0x52e3e9(0xaca))),leaderboardTab[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>switchProjectTab(_0x52e3e9(0x56f))),document[_0x52e3e9(0xccc)](_0x52e3e9(0x607))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>switchQuizDetailTab('analytics')),document[_0x52e3e9(0xccc)]('scores-tab-btn')['addEventListener'](_0x52e3e9(0x343),()=>switchQuizDetailTab(_0x52e3e9(0x297))),document[_0x52e3e9(0xccc)](_0x52e3e9(0x5ec))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>switchQuizDetailTab(_0x52e3e9(0x728))),document[_0x52e3e9(0xccc)](_0x52e3e9(0x768))[_0x52e3e9(0x7d6)]('click',()=>switchQuizDetailTab(_0x52e3e9(0xa12))),document[_0x52e3e9(0xccc)]('analyze-strengths-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleAnalyzeClass),generateWorksheetBtn[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),generateWorksheet);const _0x2e9e5d=document['getElementById'](_0x52e3e9(0xd9b)),_0x2d1126=document[_0x52e3e9(0xccc)](_0x52e3e9(0xce5)),_0x214aac=document[_0x52e3e9(0xccc)](_0x52e3e9(0x300)),_0x3b5301=document[_0x52e3e9(0xccc)](_0x52e3e9(0x832)),_0xd5213=document['getElementById'](_0x52e3e9(0xd36)),_0x1e765a=document[_0x52e3e9(0xccc)]('parallel-test-input-area');topicTab['addEventListener'](_0x52e3e9(0x343),()=>{const _0x30f7e2=_0x52e3e9;topicTab[_0x30f7e2(0x807)][_0x30f7e2(0xcec)]('active'),textTab[_0x30f7e2(0x807)]['remove'](_0x30f7e2(0x130)),fileTab['classList'][_0x30f7e2(0x90e)]('active'),worksheetTab[_0x30f7e2(0x807)][_0x30f7e2(0x90e)](_0x30f7e2(0x130));if(_0x2e9e5d)_0x2e9e5d[_0x30f7e2(0x807)][_0x30f7e2(0x90e)](_0x30f7e2(0x130));if(_0x214aac)_0x214aac[_0x30f7e2(0x807)]['remove'](_0x30f7e2(0x130));if(_0xd5213)_0xd5213['classList']['remove']('active');topicInputArea[_0x30f7e2(0x807)][_0x30f7e2(0x90e)](_0x30f7e2(0x9f0)),textInputArea[_0x30f7e2(0x807)][_0x30f7e2(0xcec)](_0x30f7e2(0x9f0)),fileInputArea[_0x30f7e2(0x807)]['add'](_0x30f7e2(0x9f0)),worksheetInputArea['classList']['add'](_0x30f7e2(0x9f0));if(_0x2d1126)_0x2d1126[_0x30f7e2(0x807)][_0x30f7e2(0xcec)](_0x30f7e2(0x9f0));if(_0x3b5301)_0x3b5301[_0x30f7e2(0x807)][_0x30f7e2(0xcec)]('hidden');if(_0x1e765a)_0x1e765a[_0x30f7e2(0x807)][_0x30f7e2(0xcec)](_0x30f7e2(0x9f0));}),textTab['addEventListener'](_0x52e3e9(0x343),()=>{const _0x4bdd1c=_0x52e3e9;textTab['classList']['add'](_0x4bdd1c(0x130)),topicTab['classList'][_0x4bdd1c(0x90e)](_0x4bdd1c(0x130)),fileTab[_0x4bdd1c(0x807)][_0x4bdd1c(0x90e)](_0x4bdd1c(0x130)),worksheetTab[_0x4bdd1c(0x807)][_0x4bdd1c(0x90e)](_0x4bdd1c(0x130));if(_0x2e9e5d)_0x2e9e5d['classList']['remove'](_0x4bdd1c(0x130));if(_0x214aac)_0x214aac[_0x4bdd1c(0x807)]['remove'](_0x4bdd1c(0x130));if(_0xd5213)_0xd5213['classList'][_0x4bdd1c(0x90e)](_0x4bdd1c(0x130));textInputArea['classList']['remove']('hidden'),topicInputArea[_0x4bdd1c(0x807)][_0x4bdd1c(0xcec)](_0x4bdd1c(0x9f0)),fileInputArea[_0x4bdd1c(0x807)][_0x4bdd1c(0xcec)](_0x4bdd1c(0x9f0)),worksheetInputArea[_0x4bdd1c(0x807)][_0x4bdd1c(0xcec)]('hidden');if(_0x2d1126)_0x2d1126[_0x4bdd1c(0x807)][_0x4bdd1c(0xcec)]('hidden');if(_0x3b5301)_0x3b5301[_0x4bdd1c(0x807)][_0x4bdd1c(0xcec)](_0x4bdd1c(0x9f0));if(_0x1e765a)_0x1e765a['classList'][_0x4bdd1c(0xcec)](_0x4bdd1c(0x9f0));}),fileTab[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x45250d=_0x52e3e9;fileTab[_0x45250d(0x807)][_0x45250d(0xcec)](_0x45250d(0x130)),topicTab[_0x45250d(0x807)][_0x45250d(0x90e)](_0x45250d(0x130)),textTab[_0x45250d(0x807)][_0x45250d(0x90e)](_0x45250d(0x130)),worksheetTab[_0x45250d(0x807)][_0x45250d(0x90e)](_0x45250d(0x130));if(_0x2e9e5d)_0x2e9e5d[_0x45250d(0x807)][_0x45250d(0x90e)]('active');if(_0x214aac)_0x214aac[_0x45250d(0x807)][_0x45250d(0x90e)]('active');if(_0xd5213)_0xd5213[_0x45250d(0x807)][_0x45250d(0x90e)]('active');fileInputArea[_0x45250d(0x807)][_0x45250d(0x90e)](_0x45250d(0x9f0)),topicInputArea[_0x45250d(0x807)][_0x45250d(0xcec)](_0x45250d(0x9f0)),textInputArea[_0x45250d(0x807)][_0x45250d(0xcec)](_0x45250d(0x9f0)),worksheetInputArea['classList'][_0x45250d(0xcec)](_0x45250d(0x9f0));if(_0x2d1126)_0x2d1126[_0x45250d(0x807)][_0x45250d(0xcec)](_0x45250d(0x9f0));if(_0x3b5301)_0x3b5301[_0x45250d(0x807)][_0x45250d(0xcec)]('hidden');if(_0x1e765a)_0x1e765a[_0x45250d(0x807)]['add'](_0x45250d(0x9f0));}),worksheetTab['addEventListener'](_0x52e3e9(0x343),()=>{const _0x277c98=_0x52e3e9;worksheetTab[_0x277c98(0x807)]['add'](_0x277c98(0x130)),topicTab['classList'][_0x277c98(0x90e)](_0x277c98(0x130)),textTab['classList'][_0x277c98(0x90e)](_0x277c98(0x130)),fileTab[_0x277c98(0x807)][_0x277c98(0x90e)](_0x277c98(0x130));if(_0x2e9e5d)_0x2e9e5d[_0x277c98(0x807)]['remove'](_0x277c98(0x130));if(_0x214aac)_0x214aac[_0x277c98(0x807)][_0x277c98(0x90e)]('active');if(_0xd5213)_0xd5213['classList'][_0x277c98(0x90e)]('active');worksheetInputArea[_0x277c98(0x807)][_0x277c98(0x90e)]('hidden'),topicInputArea[_0x277c98(0x807)][_0x277c98(0xcec)](_0x277c98(0x9f0)),textInputArea['classList'][_0x277c98(0xcec)](_0x277c98(0x9f0)),fileInputArea[_0x277c98(0x807)][_0x277c98(0xcec)](_0x277c98(0x9f0));if(_0x2d1126)_0x2d1126[_0x277c98(0x807)][_0x277c98(0xcec)](_0x277c98(0x9f0));if(_0x3b5301)_0x3b5301[_0x277c98(0x807)][_0x277c98(0xcec)](_0x277c98(0x9f0));if(_0x1e765a)_0x1e765a[_0x277c98(0x807)][_0x277c98(0xcec)](_0x277c98(0x9f0));});const _0x58b973=document['getElementById'](_0x52e3e9(0xdb6)),_0x15ec64=document[_0x52e3e9(0xccc)](_0x52e3e9(0xa00));_0x58b973&&_0x58b973['addEventListener'](_0x52e3e9(0x343),()=>{const _0x1ea1d5=_0x52e3e9;topicTab[_0x1ea1d5(0x807)][_0x1ea1d5(0x90e)](_0x1ea1d5(0x130)),textTab[_0x1ea1d5(0x807)][_0x1ea1d5(0x90e)]('active'),fileTab['classList']['remove']('active'),worksheetTab[_0x1ea1d5(0x807)][_0x1ea1d5(0x90e)](_0x1ea1d5(0x130));if(_0x2e9e5d)_0x2e9e5d[_0x1ea1d5(0x807)][_0x1ea1d5(0x90e)](_0x1ea1d5(0x130));if(_0x214aac)_0x214aac[_0x1ea1d5(0x807)]['remove'](_0x1ea1d5(0x130));if(_0xd5213)_0xd5213[_0x1ea1d5(0x807)][_0x1ea1d5(0x90e)](_0x1ea1d5(0x130));_0x58b973[_0x1ea1d5(0x807)][_0x1ea1d5(0xcec)](_0x1ea1d5(0x130)),topicInputArea[_0x1ea1d5(0x807)][_0x1ea1d5(0xcec)](_0x1ea1d5(0x9f0)),textInputArea[_0x1ea1d5(0x807)][_0x1ea1d5(0xcec)](_0x1ea1d5(0x9f0)),fileInputArea[_0x1ea1d5(0x807)]['add'](_0x1ea1d5(0x9f0)),worksheetInputArea[_0x1ea1d5(0x807)][_0x1ea1d5(0xcec)](_0x1ea1d5(0x9f0));if(_0x2d1126)_0x2d1126[_0x1ea1d5(0x807)][_0x1ea1d5(0xcec)](_0x1ea1d5(0x9f0));if(_0x3b5301)_0x3b5301[_0x1ea1d5(0x807)][_0x1ea1d5(0xcec)](_0x1ea1d5(0x9f0));if(_0x1e765a)_0x1e765a[_0x1ea1d5(0x807)][_0x1ea1d5(0xcec)](_0x1ea1d5(0x9f0));_0x15ec64['classList'][_0x1ea1d5(0x90e)]('hidden'),displayQuestionBank();});_0x2e9e5d&&(_0x2e9e5d['addEventListener']('click',()=>{const _0x4bc1ba=_0x52e3e9;_0x2e9e5d['classList'][_0x4bc1ba(0xcec)](_0x4bc1ba(0x130)),topicTab[_0x4bc1ba(0x807)][_0x4bc1ba(0x90e)](_0x4bc1ba(0x130)),textTab[_0x4bc1ba(0x807)]['remove'](_0x4bc1ba(0x130)),fileTab[_0x4bc1ba(0x807)][_0x4bc1ba(0x90e)](_0x4bc1ba(0x130)),worksheetTab[_0x4bc1ba(0x807)][_0x4bc1ba(0x90e)](_0x4bc1ba(0x130));if(_0x214aac)_0x214aac[_0x4bc1ba(0x807)][_0x4bc1ba(0x90e)]('active');if(_0xd5213)_0xd5213[_0x4bc1ba(0x807)][_0x4bc1ba(0x90e)](_0x4bc1ba(0x130));_0x2d1126[_0x4bc1ba(0x807)][_0x4bc1ba(0x90e)]('hidden'),topicInputArea[_0x4bc1ba(0x807)][_0x4bc1ba(0xcec)](_0x4bc1ba(0x9f0)),textInputArea['classList'][_0x4bc1ba(0xcec)]('hidden'),fileInputArea[_0x4bc1ba(0x807)]['add']('hidden'),worksheetInputArea[_0x4bc1ba(0x807)][_0x4bc1ba(0xcec)](_0x4bc1ba(0x9f0));if(_0x3b5301)_0x3b5301[_0x4bc1ba(0x807)][_0x4bc1ba(0xcec)](_0x4bc1ba(0x9f0));if(_0x1e765a)_0x1e765a[_0x4bc1ba(0x807)][_0x4bc1ba(0xcec)](_0x4bc1ba(0x9f0));}),document[_0x52e3e9(0xccc)]('generate-from-link-btn')[_0x52e3e9(0x7d6)]('click',handleGenerateFromLink));_0x214aac&&_0x214aac['addEventListener'](_0x52e3e9(0x343),()=>{const _0x499481=_0x52e3e9;_0x214aac[_0x499481(0x807)][_0x499481(0xcec)](_0x499481(0x130)),topicTab[_0x499481(0x807)]['remove'](_0x499481(0x130)),textTab[_0x499481(0x807)][_0x499481(0x90e)](_0x499481(0x130)),fileTab[_0x499481(0x807)]['remove'](_0x499481(0x130)),worksheetTab[_0x499481(0x807)][_0x499481(0x90e)]('active');if(_0x2e9e5d)_0x2e9e5d[_0x499481(0x807)]['remove'](_0x499481(0x130));if(_0x58b973)_0x58b973['classList'][_0x499481(0x90e)](_0x499481(0x130));if(_0xd5213)_0xd5213[_0x499481(0x807)]['remove'](_0x499481(0x130));_0x3b5301[_0x499481(0x807)]['remove'](_0x499481(0x9f0)),topicInputArea[_0x499481(0x807)]['add']('hidden'),textInputArea['classList']['add'](_0x499481(0x9f0)),fileInputArea[_0x499481(0x807)][_0x499481(0xcec)](_0x499481(0x9f0)),worksheetInputArea[_0x499481(0x807)]['add'](_0x499481(0x9f0));if(_0x2d1126)_0x2d1126['classList'][_0x499481(0xcec)](_0x499481(0x9f0));if(_0x15ec64)_0x15ec64[_0x499481(0x807)][_0x499481(0xcec)](_0x499481(0x9f0));if(_0x1e765a)_0x1e765a['classList'][_0x499481(0xcec)](_0x499481(0x9f0));});_0xd5213&&_0xd5213[_0x52e3e9(0x7d6)]('click',()=>{const _0xb3b9d=_0x52e3e9;_0xd5213['classList'][_0xb3b9d(0xcec)](_0xb3b9d(0x130)),topicTab[_0xb3b9d(0x807)][_0xb3b9d(0x90e)](_0xb3b9d(0x130)),textTab[_0xb3b9d(0x807)][_0xb3b9d(0x90e)](_0xb3b9d(0x130)),fileTab[_0xb3b9d(0x807)][_0xb3b9d(0x90e)]('active'),worksheetTab[_0xb3b9d(0x807)]['remove'](_0xb3b9d(0x130));if(_0x2e9e5d)_0x2e9e5d[_0xb3b9d(0x807)]['remove'](_0xb3b9d(0x130));if(_0x214aac)_0x214aac['classList']['remove']('active');if(_0x58b973)_0x58b973['classList'][_0xb3b9d(0x90e)](_0xb3b9d(0x130));_0x1e765a[_0xb3b9d(0x807)][_0xb3b9d(0x90e)]('hidden'),topicInputArea['classList'][_0xb3b9d(0xcec)]('hidden'),textInputArea[_0xb3b9d(0x807)][_0xb3b9d(0xcec)](_0xb3b9d(0x9f0)),fileInputArea[_0xb3b9d(0x807)][_0xb3b9d(0xcec)](_0xb3b9d(0x9f0)),worksheetInputArea['classList'][_0xb3b9d(0xcec)](_0xb3b9d(0x9f0));if(_0x2d1126)_0x2d1126[_0xb3b9d(0x807)][_0xb3b9d(0xcec)]('hidden');if(_0x3b5301)_0x3b5301['classList'][_0xb3b9d(0xcec)]('hidden');if(_0x15ec64)_0x15ec64[_0xb3b9d(0x807)]['add'](_0xb3b9d(0x9f0));});const _0xcb9243=document['getElementById'](_0x52e3e9(0x5fd)),_0x22ff31=document['getElementById'](_0x52e3e9(0x185));if(_0xcb9243){const _0x5a10b0=document[_0x52e3e9(0xccc)]('blueprint-upload-input'),_0x45e1c6=document[_0x52e3e9(0xccc)](_0x52e3e9(0x185)),_0x119fdd=document[_0x52e3e9(0xccc)]('blueprint-options-container'),_0x3e4968=document[_0x52e3e9(0xccc)]('separate-by-content-checkbox'),_0x857272=document[_0x52e3e9(0xccc)](_0x52e3e9(0xdff)),_0x5ede26=document[_0x52e3e9(0xccc)](_0x52e3e9(0x143));_0x5a10b0&&_0x5a10b0['addEventListener'](_0x52e3e9(0x1b7),async _0x3bf3c4=>{const _0x4e021f=_0x52e3e9;_0x119fdd[_0x4e021f(0x807)][_0x4e021f(0xcec)](_0x4e021f(0x9f0)),_0x857272[_0x4e021f(0x807)][_0x4e021f(0xcec)](_0x4e021f(0x9f0)),_0x3e4968['checked']=![],_0x45e1c6[_0x4e021f(0x7ef)]=!![];const _0x6f5e3d=_0x3bf3c4[_0x4e021f(0xc55)]['files'][0x0];if(_0x6f5e3d){_0x45e1c6[_0x4e021f(0x7ef)]=![];try{const _0x563fe4=await extractTextFromPdf(_0x6f5e3d);await analyzeBlueprintForTopics(_0x563fe4);}catch(_0x17b2a9){showMessage(_0x4e021f(0xca2)),_0x119fdd['classList'][_0x4e021f(0xcec)](_0x4e021f(0x9f0));}}}),_0x3e4968&&_0x3e4968['addEventListener']('change',_0x17bf5f=>{const _0x40eac5=_0x52e3e9,_0x165a5f=_0x17bf5f[_0x40eac5(0xc55)][_0x40eac5(0x174)];_0x857272[_0x40eac5(0x807)][_0x40eac5(0x9e5)](_0x40eac5(0x9f0),!_0x165a5f),_0x45e1c6[_0x40eac5(0x7ef)]=_0x165a5f;}),_0x5ede26&&(_0x5ede26&&_0x5ede26[_0x52e3e9(0x7d6)]('click',_0x1953d9=>{const _0xef3039=_0x52e3e9,_0x567f1e=_0x1953d9[_0xef3039(0xc55)]['closest'](_0xef3039(0x4d9)),_0x4e3844=_0x1953d9[_0xef3039(0xc55)][_0xef3039(0x43a)]('.generate-content-btn');if(_0x567f1e){const _0x503e44=unescape(_0x567f1e[_0xef3039(0x87a)][_0xef3039(0xe36)]);generateQuizForSingleTopic(_0x503e44);}else{if(_0x4e3844){const _0x40d7ce=unescape(_0x4e3844[_0xef3039(0x87a)][_0xef3039(0xe36)]);handleGenerateTeachingContent(_0x40d7ce);}}}));}_0x22ff31&&_0x22ff31[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleGenerateFromBlueprint);const _0x4bf86e=document[_0x52e3e9(0xccc)](_0x52e3e9(0x38a)),_0x51c372=document['getElementById'](_0x52e3e9(0x72a));_0x4bf86e&&_0x4bf86e[_0x52e3e9(0x7d6)](_0x52e3e9(0x1b7),_0x29b900=>{const _0x40c95a=_0x52e3e9;_0x51c372['disabled']=_0x29b900[_0x40c95a(0xc55)][_0x40c95a(0x9ea)][_0x40c95a(0x34a)]===0x0;});_0x51c372&&_0x51c372[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x52e3e9(0x7d6)]('click',handleLoadQuiz),startQuizBtn[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),async()=>{const _0x1767c0=_0x52e3e9,_0x49bc85=document['getElementById']('student-name-select');currentStudentName=_0x49bc85[_0x1767c0(0xa9f)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x2b4fac=currentQuizData['id'],_0x14984d=doc(db,_0x1767c0(0x331)+appId+_0x1767c0(0xe48)+_0x2b4fac+'/submissions',currentStudentName),_0x39f99a=await getDoc(_0x14984d);!_0x39f99a[_0x1767c0(0xc43)]()?await setDoc(_0x14984d,{'studentName':currentStudentName,'startedAt':new Date()[_0x1767c0(0x2f9)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x14984d,{'startedAt':new Date()[_0x1767c0(0x2f9)]()});}catch(_0x95cb36){console[_0x1767c0(0xada)](_0x1767c0(0x757),_0x95cb36),showMessage(_0x1767c0(0x36d));return;}studentNameSelectionView[_0x1767c0(0x807)][_0x1767c0(0xcec)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x52e3e9(0xd5c))[_0x52e3e9(0x7d6)]('click',showJoinGameView),document[_0x52e3e9(0xccc)](_0x52e3e9(0xa41))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleJoinLiveGame),document[_0x52e3e9(0xccc)](_0x52e3e9(0x427))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>showView(_0x52e3e9(0x213)));const _0x238f09=()=>{const _0x1c0d5f=_0x52e3e9,_0x1e83fd=document['getElementById'](_0x1c0d5f(0xca7))[_0x1c0d5f(0xc76)]['replace'](/[^a-z0-9]/gi,'_')[_0x1c0d5f(0x8e9)]();return _0x1c0d5f(0x2eb)+(_0x1e83fd||_0x1c0d5f(0xdcf));},_0x454cc7=document[_0x52e3e9(0xccc)](_0x52e3e9(0x3ad));_0x454cc7&&_0x454cc7[_0x52e3e9(0x7d6)](_0x52e3e9(0x6ad),_0xef9c78=>{const _0x2df801=_0x52e3e9,_0x209194=_0xef9c78[_0x2df801(0xc55)][_0x2df801(0xa9f)]['toLowerCase']()[_0x2df801(0x6b3)](),_0x2a3291=document[_0x2df801(0xccc)]('math-topics-checkbox-container'),_0x54a24f=_0x2a3291[_0x2df801(0x5f0)](_0x2df801(0xc11));_0x54a24f['forEach'](_0x57e42c=>{const _0x3fcae2=_0x2df801;let _0x3ff426=![];const _0x533517=_0x57e42c['querySelectorAll']('.topic-row');_0x533517[_0x3fcae2(0x8f9)](_0x545d94=>{const _0x3c2623=_0x3fcae2,_0x22066e=_0x545d94[_0x3c2623(0xdd0)](_0x3c2623(0x3be))[_0x3c2623(0xc76)][_0x3c2623(0x8e9)]();_0x22066e[_0x3c2623(0x9e3)](_0x209194)?(_0x545d94['style'][_0x3c2623(0xaea)]=_0x3c2623(0xe10),_0x3ff426=!![]):_0x545d94[_0x3c2623(0xb74)][_0x3c2623(0xaea)]=_0x3c2623(0x80b);}),_0x3ff426?_0x57e42c[_0x3fcae2(0xb74)][_0x3fcae2(0xaea)]=_0x3fcae2(0xad2):_0x57e42c[_0x3fcae2(0xb74)][_0x3fcae2(0xaea)]=_0x3fcae2(0x80b);});});document[_0x52e3e9(0xccc)](_0x52e3e9(0x97c))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>exportTableAsImage(_0x52e3e9(0x10e),_0x238f09())),document['getElementById'](_0x52e3e9(0xd90))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>exportTableAsPDF(_0x52e3e9(0x8b7),_0x238f09())),document[_0x52e3e9(0xccc)](_0x52e3e9(0x3b6))[_0x52e3e9(0x7d6)]('click',()=>exportTableAsWord(_0x52e3e9(0x10e),_0x238f09())),document['getElementById'](_0x52e3e9(0x470))['addEventListener'](_0x52e3e9(0x343),()=>exportTableAsExcel(_0x52e3e9(0x8b7),_0x238f09()));const _0xd7e139=()=>{const _0x53355e=_0x52e3e9,_0x5827a9=document[_0x53355e(0xccc)]('results-quiz-title')[_0x53355e(0xc76)][_0x53355e(0xb64)](/[^a-z0-9]/gi,'_')[_0x53355e(0x8e9)]();return'leaderboard_'+(_0x5827a9||_0x53355e(0xdcf));};document[_0x52e3e9(0xccc)]('export-leaderboard-image-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>exportTableAsImage(_0x52e3e9(0xd65),_0xd7e139())),document['getElementById'](_0x52e3e9(0xccf))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>exportTableAsPDF(_0x52e3e9(0x4f8),_0xd7e139())),document[_0x52e3e9(0xccc)](_0x52e3e9(0xe50))['addEventListener']('click',()=>exportTableAsWord(_0x52e3e9(0xd65),_0xd7e139())),document[_0x52e3e9(0xccc)](_0x52e3e9(0x6e3))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>exportTableAsExcel(_0x52e3e9(0x4f8),_0xd7e139())),projectQuizzesList[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),async _0x634b14=>{const _0x34f318=_0x52e3e9,_0x4ff462=_0x634b14[_0x34f318(0xc55)]['closest'](_0x34f318(0x71b)),_0x580304=_0x634b14['target'][_0x34f318(0x43a)]('.generate-post-test-btn'),_0x4970e7=_0x634b14[_0x34f318(0xc55)]['closest']('.compare-results-btn'),_0x3c2f42=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0xca9)),_0x17c815=_0x634b14['target'][_0x34f318(0x43a)](_0x34f318(0xc93)),_0x43f9af=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0x816)),_0x38b249=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0x976)),_0x20c601=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)]('.quiz-settings-btn'),_0xd18c6a=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0xb39)),_0x2a94dd=_0x634b14['target']['closest'](_0x34f318(0x7f9)),_0x52b019=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)]('.parallel-quiz-btn'),_0x434289=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0xcba)),_0x2b0cb4=_0x634b14[_0x34f318(0xc55)]['closest'](_0x34f318(0xdb7)),_0x3e4bd9=_0x634b14[_0x34f318(0xc55)]['closest'](_0x34f318(0x8d3)),_0x321b2e=_0x634b14[_0x34f318(0xc55)]['closest'](_0x34f318(0xd41)),_0x7d02d3=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0x55d)),_0x1ded6d=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)]('.export-pdf-list-btn'),_0x496e4f=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0x820)),_0x53747f=_0x634b14['target'][_0x34f318(0x43a)]('.quiz-status-btn'),_0x1935c4=_0x634b14[_0x34f318(0xc55)][_0x34f318(0x43a)](_0x34f318(0x347)),_0xa54730=_0x634b14[_0x34f318(0xc55)]['closest'](_0x34f318(0xa22)),_0x5c9b42=_0x634b14[_0x34f318(0xc55)]['closest'](_0x34f318(0x653)),_0x3c6abd=_0x634b14['target'][_0x34f318(0x43a)](_0x34f318(0x66f));if(_0x5c9b42){const _0x1be95f=_0x5c9b42[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x3c8f2d=_0x5c9b42[_0x34f318(0x87a)][_0x34f318(0x2a8)],_0x1b285f=allQuizzes[_0x34f318(0x48e)](_0x274663=>_0x274663['id']===_0x1be95f);_0x1b285f&&showGameStartConfirmationModal(_0x1be95f,_0x3c8f2d,_0x1b285f[_0x34f318(0xe36)]);}else{if(_0x3c6abd){const _0x556a91=_0x3c6abd[_0x34f318(0x87a)][_0x34f318(0x9c4)];handleStartLiveRace(_0x556a91);}else{if(_0x1935c4){const _0x8afddb=_0x1935c4[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x5ca493=document[_0x34f318(0xccc)](_0x34f318(0x758)+_0x8afddb);_0x5ca493&&_0x5ca493[_0x34f318(0x807)][_0x34f318(0x9e5)](_0x34f318(0x9f0));}else{if(_0x580304){const _0xe271f4=_0x580304[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x2a2155=allQuizzes[_0x34f318(0x48e)](_0x18c10d=>_0x18c10d['id']===_0xe271f4);_0x2a2155&&handleGenerateParallelPostTest(_0x2a2155);}else{if(_0x4970e7)handleCompareResults(_0x4970e7[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x4970e7['dataset']['preTestId']);else{if(_0x3c2f42){const _0x8384eb=_0x3c2f42[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x3be806=allQuizzes[_0x34f318(0x48e)](_0x2af9c5=>_0x2af9c5['id']===_0x8384eb);_0x3be806&&_0x3be806[_0x34f318(0x65d)]?(displayLessonPlan(_0x3be806[_0x34f318(0x65d)],_0x3be806),showConfirmation(_0x34f318(0xa76),()=>handleGenerateLessonPlan(_0x8384eb)),document['getElementById'](_0x34f318(0x59b))[_0x34f318(0xdd0)]('h3')[_0x34f318(0xc76)]='แผนการสอน',document['getElementById'](_0x34f318(0x82e))[_0x34f318(0xc76)]='สร้างใหม่'):handleGenerateLessonPlan(_0x8384eb);}else{if(_0x17c815)handleToggleStarQuiz(_0x17c815['dataset']['quizId']);else{if(_0x43f9af)copyTextToClipboard(_0x43f9af[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x34f318(0xce1));else{if(_0x38b249)handleOpenQuizEditor(_0x38b249[_0x34f318(0x87a)]['quizId']);else{if(_0x20c601)handleQuizSettings(_0x20c601[_0x34f318(0x87a)][_0x34f318(0x9c4)]);else{if(_0xd18c6a)handleDuplicateQuiz(_0xd18c6a['dataset']['quizId']);else{if(_0x2a94dd)handleRenameQuiz(_0x2a94dd['dataset'][_0x34f318(0x9c4)],_0x2a94dd[_0x34f318(0x87a)][_0x34f318(0xe36)]);else{if(_0x52b019){const _0x1e950e=_0x52b019[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x4bfd62=allQuizzes[_0x34f318(0x48e)](_0x28de62=>_0x28de62['id']===_0x1e950e);_0x4bfd62&&handleGenerateParallelFromBank(_0x4bfd62);}else{if(_0x434289)handleMoveQuiz(_0x434289['dataset'][_0x34f318(0x9c4)]);else{if(_0x2b0cb4)handleManualQuizPairing(_0x2b0cb4['dataset'][_0x34f318(0x9c4)]);else{if(_0x3e4bd9)handleUnpairQuiz(_0x3e4bd9[_0x34f318(0x87a)][_0x34f318(0x9c4)]);else{if(_0x321b2e){const _0x2c98af=_0x321b2e['dataset']['quizId'],_0x2cc716=allQuizzes['find'](_0x25aa01=>_0x25aa01['id']===_0x2c98af);if(_0x2cc716)startPresentation(_0x2cc716);}else{if(_0x7d02d3){const _0x2c8d40=_0x7d02d3[_0x34f318(0x87a)][_0x34f318(0x9c4)],_0x957866=allQuizzes[_0x34f318(0x48e)](_0x591257=>_0x591257['id']===_0x2c8d40);_0x957866&&(currentQuizData=_0x957866,startAdminTest());}else{if(_0x1ded6d)actionTargetId=_0x1ded6d['dataset'][_0x34f318(0x9c4)],document[_0x34f318(0xccc)](_0x34f318(0x3c9))['classList'][_0x34f318(0x90e)](_0x34f318(0x9f0));else{if(_0x496e4f)showConfirmation(_0x34f318(0x231)+_0x496e4f[_0x34f318(0x87a)][_0x34f318(0xe36)]+_0x34f318(0xc64),()=>handleDeleteQuiz(_0x496e4f['dataset'][_0x34f318(0x9c4)]));else{if(_0x53747f)handleQuizStatus(_0x53747f[_0x34f318(0x87a)]['quizId']);else{if(_0xa54730)handleGenerateEasyVersionQuiz(_0xa54730[_0x34f318(0x87a)][_0x34f318(0x9c4)]);else _0x4ff462&&showQuizDetailView(_0x4ff462[_0x34f318(0x87a)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x33d))['addEventListener'](_0x52e3e9(0x343),()=>showView(_0x52e3e9(0x213))),document[_0x52e3e9(0xccc)](_0x52e3e9(0xe3))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),confirmAndStartTeamQuiz),document['getElementById'](_0x52e3e9(0x4f8))['querySelector']('thead')['addEventListener'](_0x52e3e9(0x343),_0x438c64=>{const _0x22d013=_0x52e3e9,_0x7cc786=_0x438c64[_0x22d013(0xc55)]['closest'](_0x22d013(0xc8a));if(!_0x7cc786||!_0x7cc786[_0x22d013(0x87a)][_0x22d013(0x4b3)])return;const _0x3df37e=_0x7cc786[_0x22d013(0x87a)]['sort'];if(quizLeaderboardSortBy===_0x3df37e)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x22d013(0x365)?_0x22d013(0x215):_0x22d013(0x365);else{quizLeaderboardSortBy=_0x3df37e;const _0x5eeda3=[_0x22d013(0x894)];quizLeaderboardSortOrder=_0x5eeda3[_0x22d013(0x9e3)](_0x3df37e)?_0x22d013(0x365):_0x22d013(0x215);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x296))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),closePresentation),document[_0x52e3e9(0xccc)](_0x52e3e9(0x58a))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x52e3e9(0x7a3))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x57cc6f=_0x52e3e9;currentQuizData[_0x57cc6f(0xdbf)]&&currentPresentationSlide<currentQuizData['questions'][_0x57cc6f(0x34a)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x52e3e9(0x7d6)](_0x52e3e9(0x2ab),()=>{const _0x42145e=_0x52e3e9;!document[_0x42145e(0xaa0)]&&(presentationModal['style'][_0x42145e(0xaea)]=_0x42145e(0x80b));}),document[_0x52e3e9(0xccc)]('delete-all-students-btn')['addEventListener'](_0x52e3e9(0x343),handleDeleteAllStudents),studentList[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x32c83f=>{const _0x3c6d7a=_0x52e3e9,_0x211dc2=_0x32c83f[_0x3c6d7a(0xc55)]['closest'](_0x3c6d7a(0x8b3));if(_0x211dc2){const _0x1e36a1=_0x211dc2['dataset'][_0x3c6d7a(0x894)];handleDeleteStudent(_0x1e36a1);}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xdb9))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0x5dd027=>{const _0x406abc=_0x52e3e9,_0x188057=_0x5dd027['target'][_0x406abc(0x9ea)][0x0],_0x5bff61=document[_0x406abc(0xccc)](_0x406abc(0xdb9)),_0x233148=document['getElementById'](_0x406abc(0xb9e)),_0xc4a8be=document[_0x406abc(0xccc)](_0x406abc(0x26a));_0x188057?(selectedFile=_0x188057,_0xc4a8be[_0x406abc(0x174)]?(_0x5bff61['disabled']=!![],analyzeFileForTopics(_0x188057)):(_0x5bff61[_0x406abc(0x7ef)]=![],_0x233148[_0x406abc(0x807)][_0x406abc(0xcec)]('hidden'))):(selectedFile=null,_0x5bff61[_0x406abc(0x7ef)]=!![],_0x233148[_0x406abc(0x807)][_0x406abc(0xcec)](_0x406abc(0x9f0)));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x26a))['addEventListener'](_0x52e3e9(0x1b7),_0x155bf8=>{const _0x1e66b9=_0x52e3e9,_0x1739e2=_0x155bf8[_0x1e66b9(0xc55)][_0x1e66b9(0x174)],_0x53ed86=document[_0x1e66b9(0xccc)](_0x1e66b9(0xdb9)),_0x1a8af4=document[_0x1e66b9(0xccc)]('file-topics-list-container');_0x1739e2?(_0x53ed86['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x1a8af4[_0x1e66b9(0x807)][_0x1e66b9(0x90e)](_0x1e66b9(0x9f0)),document['getElementById'](_0x1e66b9(0x847))['innerHTML']=_0x1e66b9(0x935))):(_0x1a8af4[_0x1e66b9(0x807)][_0x1e66b9(0xcec)](_0x1e66b9(0x9f0)),_0x53ed86[_0x1e66b9(0x7ef)]=!selectedFile);}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xb9e))['addEventListener']('click',_0x4a2e90=>{const _0x41d7e8=_0x52e3e9,_0x590b90=_0x4a2e90[_0x41d7e8(0xc55)][_0x41d7e8(0x43a)]('.file-topic-selection-btn'),_0x290e32=_0x4a2e90[_0x41d7e8(0xc55)][_0x41d7e8(0x43a)]('.generate-content-btn');if(_0x590b90){const _0x3bad40=unescape(_0x590b90['dataset'][_0x41d7e8(0xe36)]);generateHybridQuizForTopic(_0x3bad40);}else{if(_0x290e32){const _0x204452=unescape(_0x290e32[_0x41d7e8(0x87a)][_0x41d7e8(0xe36)]),_0x5a394e=document[_0x41d7e8(0xccc)]('difficulty-level-select')[_0x41d7e8(0xa9f)];handleGenerateAndShowLesson(_0x204452,_0x5a394e);}}}),document[_0x52e3e9(0xccc)]('timer-mode-select')[_0x52e3e9(0x7d6)](_0x52e3e9(0x1b7),_0x4977ac=>{const _0x529ce1=_0x52e3e9,_0x25ea0c=document[_0x529ce1(0xccc)](_0x529ce1(0x7dc)),_0xb960fe=document[_0x529ce1(0xccc)](_0x529ce1(0xa4b)),_0x463c5c=document['getElementById'](_0x529ce1(0xe23));_0x4977ac[_0x529ce1(0xc55)][_0x529ce1(0xa9f)]==='none'?_0x25ea0c[_0x529ce1(0x807)][_0x529ce1(0xcec)](_0x529ce1(0x9f0)):(_0x25ea0c[_0x529ce1(0x807)][_0x529ce1(0x90e)](_0x529ce1(0x9f0)),_0x4977ac['target']['value']===_0x529ce1(0x35d)?(_0xb960fe[_0x529ce1(0xc76)]=_0x529ce1(0x7d5),_0x463c5c[_0x529ce1(0xa9f)]='10'):(_0xb960fe[_0x529ce1(0xc76)]=_0x529ce1(0x4da),_0x463c5c[_0x529ce1(0xa9f)]='30'));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xc5))['addEventListener'](_0x52e3e9(0x1b7),_0x4ddb11=>{const _0x49fe7b=_0x52e3e9,_0x38e3f3=document[_0x49fe7b(0xccc)](_0x49fe7b(0x162)),_0x1314f5=_0x4ddb11[_0x49fe7b(0xc55)][_0x49fe7b(0xa9f)],_0x4fc1bb=document[_0x49fe7b(0xdd0)]('label[for=\x22num-questions\x22]'),_0x2a726c=document[_0x49fe7b(0xccc)]('passing-score-input'),_0x424db8=document[_0x49fe7b(0xccc)](_0x49fe7b(0x28f));_0x1314f5===_0x49fe7b(0x2d1)?_0x4fc1bb[_0x49fe7b(0xc76)]=_0x49fe7b(0xc13):_0x4fc1bb[_0x49fe7b(0xc76)]=_0x49fe7b(0x1a9),_0x1314f5===_0x49fe7b(0x75f)||_0x1314f5===_0x49fe7b(0x5b0)||_0x1314f5===_0x49fe7b(0x48d)?_0x38e3f3[_0x49fe7b(0x807)][_0x49fe7b(0x90e)](_0x49fe7b(0x9f0)):_0x38e3f3[_0x49fe7b(0x807)][_0x49fe7b(0xcec)]('hidden'),_0x2a726c[_0x49fe7b(0xaa7)]=_0x424db8[_0x49fe7b(0xa9f)];}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x28f))[_0x52e3e9(0x7d6)]('input',_0x5aae72=>{const _0x2e405c=_0x52e3e9;document[_0x2e405c(0xccc)](_0x2e405c(0xe37))[_0x2e405c(0xaa7)]=_0x5aae72[_0x2e405c(0xc55)][_0x2e405c(0xa9f)];}),document['getElementById']('modal-timer-mode-select')['addEventListener']('change',_0x15988d=>{const _0x47167e=_0x52e3e9,_0x108f1b=document['getElementById'](_0x47167e(0x744)),_0x263a3b=document[_0x47167e(0xccc)](_0x47167e(0x8b4)),_0x2c65a2=document['getElementById']('modal-timer-duration-input');_0x15988d[_0x47167e(0xc55)][_0x47167e(0xa9f)]===_0x47167e(0x80b)?_0x108f1b['classList'][_0x47167e(0xcec)](_0x47167e(0x9f0)):(_0x108f1b[_0x47167e(0x807)][_0x47167e(0x90e)](_0x47167e(0x9f0)),_0x15988d[_0x47167e(0xc55)][_0x47167e(0xa9f)]===_0x47167e(0x35d)?_0x263a3b[_0x47167e(0xc76)]='ระยะเวลา\x20(นาที):':_0x263a3b['textContent']=_0x47167e(0x4da));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x355))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x4774e8=_0x52e3e9;document[_0x4774e8(0xccc)](_0x4774e8(0xe25))[_0x4774e8(0x807)][_0x4774e8(0xcec)](_0x4774e8(0x9f0));}),document['getElementById'](_0x52e3e9(0xcd2))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x14c687=_0x52e3e9;document[_0x14c687(0xccc)](_0x14c687(0xe25))[_0x14c687(0x807)]['add'](_0x14c687(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xade))[_0x52e3e9(0x7d6)]('click',handleVerifyAnswersInEditor),document[_0x52e3e9(0xccc)](_0x52e3e9(0x58f))[_0x52e3e9(0x7d6)]('click',()=>{const _0x4056e2=_0x52e3e9;document[_0x4056e2(0xccc)](_0x4056e2(0xe25))[_0x4056e2(0x807)][_0x4056e2(0xcec)]('hidden'),showConfirmation(_0x4056e2(0x28a),handleSaveChanges);}),document[_0x52e3e9(0xccc)]('auto-fix-latex-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),handleAutoFixLatex);const _0x27e2d3=document[_0x52e3e9(0xccc)](_0x52e3e9(0x4e4));_0x27e2d3&&_0x27e2d3[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x24db93=>{const _0x3e6a5c=_0x52e3e9,_0xe366ba=_0x24db93[_0x3e6a5c(0xc55)][_0x3e6a5c(0x43a)]('.regenerate-question-editor-btn');if(_0xe366ba){const _0x258c9c=_0xe366ba[_0x3e6a5c(0x43a)]('.question-editor-item'),_0x5d873f=parseInt(_0x258c9c['dataset'][_0x3e6a5c(0x4e7)],0xa);handleRegenerateQuestionInEditor(_0x5d873f);return;}const _0x274ffc=_0x24db93[_0x3e6a5c(0xc55)][_0x3e6a5c(0x43a)](_0x3e6a5c(0x3c4));if(_0x274ffc){const _0x499702=_0x274ffc[_0x3e6a5c(0x43a)](_0x3e6a5c(0x895)),_0x3d7370=parseInt(_0x499702[_0x3e6a5c(0x87a)][_0x3e6a5c(0x4e7)],0xa);handleDeleteQuestionInEditor(_0x3d7370);return;}const _0x480f2a=_0x24db93[_0x3e6a5c(0xc55)]['closest'](_0x3e6a5c(0xd4d));if(_0x480f2a){handleAddQuestionInEditor();return;}});document[_0x52e3e9(0xccc)](_0x52e3e9(0x903))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),openQuizBankModal),document[_0x52e3e9(0xccc)](_0x52e3e9(0x7f3))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x189ee0=_0x52e3e9;document[_0x189ee0(0xccc)]('quiz-bank-modal')[_0x189ee0(0x807)][_0x189ee0(0xcec)](_0x189ee0(0x9f0));}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x546))[_0x52e3e9(0x7d6)](_0x52e3e9(0x6ad),_0x50e6a0=>renderQuizBankList(_0x50e6a0[_0x52e3e9(0xc55)][_0x52e3e9(0xa9f)]));const _0xd9c751=document[_0x52e3e9(0xccc)](_0x52e3e9(0xe1d));if(_0xd9c751){let _0x38bb86=null;_0xd9c751[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x56fe4e=>{const _0x463ca9=_0x52e3e9,_0x3d0429=_0x56fe4e[_0x463ca9(0xc55)],_0x29b6d3=_0x3d0429[_0x463ca9(0x43a)](_0x463ca9(0x538)),_0x15876c=_0x3d0429[_0x463ca9(0x43a)](_0x463ca9(0x9a9)),_0x1adabc=_0x3d0429[_0x463ca9(0x43a)](_0x463ca9(0xdb3)),_0x21c7f1=_0x3d0429[_0x463ca9(0x43a)](_0x463ca9(0xad5));if(_0x15876c){_0x56fe4e[_0x463ca9(0x54c)]();const _0x114817=_0x15876c[_0x463ca9(0x87a)]['id'],_0x536c8e=_0x15876c[_0x463ca9(0x43a)](_0x463ca9(0x2fe))[_0x463ca9(0xdd0)]('.topic-name-display')[_0x463ca9(0xc76)];showConfirmation(_0x463ca9(0x3eb)+_0x536c8e+'\x22?',()=>handleDeleteCustomTopic(_0x114817));}else{if(_0x29b6d3){_0x56fe4e[_0x463ca9(0x54c)]();_0x38bb86&&toggleTopicEditMode(_0x38bb86,![]);const _0x58881c=_0x29b6d3['closest'](_0x463ca9(0x1db));_0x38bb86=_0x58881c,toggleTopicEditMode(_0x58881c,!![]);}else{if(_0x1adabc){_0x56fe4e[_0x463ca9(0x54c)]();const _0x5a2333=_0x1adabc['dataset']['id'],_0x30cbfc=_0x1adabc[_0x463ca9(0x43a)](_0x463ca9(0x1db)),_0xb68513=_0x30cbfc[_0x463ca9(0xdd0)]('.topic-name-input')[_0x463ca9(0xa9f)];handleUpdateCustomTopic(_0x5a2333,_0xb68513),_0x38bb86=null;}else{if(_0x21c7f1){_0x56fe4e[_0x463ca9(0x54c)]();const _0x376641=_0x21c7f1[_0x463ca9(0x43a)](_0x463ca9(0x1db));toggleTopicEditMode(_0x376641,![]),_0x38bb86=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x1c9f6c=_0x52e3e9;document['getElementById'](_0x1c9f6c(0xbb7))[_0x1c9f6c(0x807)]['add'](_0x1c9f6c(0x9f0));}),document[_0x52e3e9(0xccc)]('close-lesson-plan-modal-footer-btn')[_0x52e3e9(0x7d6)]('click',()=>{const _0x3181ce=_0x52e3e9;document[_0x3181ce(0xccc)](_0x3181ce(0xbb7))[_0x3181ce(0x807)][_0x3181ce(0xcec)]('hidden');}),document[_0x52e3e9(0xccc)]('export-lesson-pdf-btn')['addEventListener'](_0x52e3e9(0x343),handleExportLessonPDF);}document[_0x52e3e9(0xccc)](_0x52e3e9(0x69b))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),()=>{const _0x1b5abe=_0x52e3e9;document[_0x1b5abe(0xccc)](_0x1b5abe(0x3ba))[_0x1b5abe(0x807)]['add']('hidden');}),document['getElementById'](_0x52e3e9(0x99f))['addEventListener'](_0x52e3e9(0x343),()=>{const _0x27cc66=_0x52e3e9;document[_0x27cc66(0xccc)](_0x27cc66(0x3ba))['classList'][_0x27cc66(0xcec)](_0x27cc66(0x9f0));}),setupComparisonModalTabs(),document[_0x52e3e9(0x95a)][_0x52e3e9(0x7d6)]('click',function(_0x499352){const _0x25ff56=_0x52e3e9;if(_0x499352['target'][_0x25ff56(0x807)][_0x25ff56(0xa2d)](_0x25ff56(0x514))){const _0x58a3be=unescape(_0x499352['target'][_0x25ff56(0x87a)][_0x25ff56(0xe36)]);startSkillPractice(_0x58a3be);}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x8f6))[_0x52e3e9(0x7d6)](_0x52e3e9(0x343),_0x1d1c90=>{const _0x4ed723=_0x52e3e9,_0x55d6af=_0x1d1c90[_0x4ed723(0xc55)][_0x4ed723(0x43a)]('.delete-submission-btn');if(_0x55d6af){const _0x2de31b=_0x55d6af['dataset'][_0x4ed723(0x894)];handleDeleteSubmission(_0x2de31b);return;}const _0x300ea7=_0x1d1c90[_0x4ed723(0xc55)]['closest'](_0x4ed723(0x548));if(_0x300ea7){const _0x550b75=_0x300ea7[_0x4ed723(0x87a)][_0x4ed723(0x894)],_0x10eca7=_0x300ea7[_0x4ed723(0x87a)][_0x4ed723(0xadb)],_0x5d9c82=prompt(_0x4ed723(0x6d6)+_0x550b75+_0x4ed723(0x362),_0x10eca7);if(_0x5d9c82!==null&&_0x5d9c82[_0x4ed723(0x6b3)]()!==''){const _0x3a1894=parseInt(_0x5d9c82,0xa);!isNaN(_0x3a1894)?handleManualEditPoints(_0x550b75,_0x3a1894):alert(_0x4ed723(0x852));}}}),document[_0x52e3e9(0xccc)](_0x52e3e9(0x61c))?.[_0x52e3e9(0x7d6)]('click',()=>{const _0x289948=_0x52e3e9;document[_0x289948(0xccc)](_0x289948(0x9d0))[_0x289948(0x807)][_0x289948(0xcec)]('hidden');}),document[_0x52e3e9(0x5f0)]('.pin-key')[_0x52e3e9(0x8f9)](_0x2beff8=>{const _0x5567ac=_0x52e3e9;_0x2beff8[_0x5567ac(0x7d6)](_0x5567ac(0x343),()=>{const _0x5188af=_0x5567ac;handlePinKeyPress(_0x2beff8[_0x5188af(0x87a)][_0x5188af(0x378)]);});}),document[_0x52e3e9(0xccc)](_0x52e3e9(0xb91))?.['addEventListener'](_0x52e3e9(0x343),()=>{const _0x3201d1=_0x52e3e9;handlePinKeyPress(_0x3201d1(0xe09));});}async function handleStartGroupMode(_0x2496db,_0x52c06f=![]){const _0xfc2f31=_0x157a22,_0x58ffba=allQuizzes[_0xfc2f31(0x48e)](_0x3223dc=>_0x3223dc['id']===_0x2496db)||allQuizzesGlobal[_0xfc2f31(0x48e)](_0x1d4b38=>_0x1d4b38['id']===_0x2496db);if(!_0x58ffba){showMessage(_0xfc2f31(0x121));return;}currentQuizData=getShuffledQuiz(_0x58ffba);const _0x3b5d64=Math[_0xfc2f31(0xc3c)](0x3e8+Math['random']()*0x2328)[_0xfc2f31(0x438)]();try{const _0x395bbf=await addDoc(collection(db,_0xfc2f31(0x331)+appId+_0xfc2f31(0x2a5)),{'quizId':_0x58ffba['id'],'projectId':_0x58ffba[_0xfc2f31(0x737)],'status':_0xfc2f31(0x70a),'pin':_0x3b5d64,'mode':_0xfc2f31(0x749),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x52c06f});currentTeamQuizId=_0x395bbf['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x3b5d64,_0x58ffba['topic'],_0xfc2f31(0x749)),listenForTeamQuizUpdates();}catch(_0x5e3110){console[_0xfc2f31(0xada)](_0xfc2f31(0xe0c),_0x5e3110),showMessage(_0xfc2f31(0x4a8));}}async function showStudentProgressView(){const _0x22dcb9=_0x157a22;studentInitialView[_0x22dcb9(0x807)][_0x22dcb9(0xcec)](_0x22dcb9(0x9f0)),document[_0x22dcb9(0xccc)](_0x22dcb9(0x886))[_0x22dcb9(0x807)]['remove'](_0x22dcb9(0x9f0));const _0x57c5f6=document['getElementById'](_0x22dcb9(0x6c4)),_0x4010b8=document[_0x22dcb9(0xccc)](_0x22dcb9(0x2b6)),_0x33b6be=document[_0x22dcb9(0xccc)](_0x22dcb9(0x91e));_0x33b6be[_0x22dcb9(0x93e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x4010b8[_0x22dcb9(0x93e)]=_0x22dcb9(0x711),_0x4010b8[_0x22dcb9(0x7ef)]=!![],_0x57c5f6['innerHTML']=_0x22dcb9(0x191);if(allProjects[_0x22dcb9(0x34a)]===0x0){const _0x516ce5=collection(db,_0x22dcb9(0x331)+appId+_0x22dcb9(0x21d)),_0x37a73a=await getDocs(_0x516ce5);allProjects=_0x37a73a[_0x22dcb9(0xbe9)]['map'](_0x45f956=>({'id':_0x45f956['id'],..._0x45f956[_0x22dcb9(0xd60)]()}));}const _0x29470c=allProjects[_0x22dcb9(0x512)](_0x40572e=>_0x40572e[_0x22dcb9(0x640)]?.['showInStudentDashboard']!==![]);_0x29470c['sort']((_0x29874d,_0x528767)=>_0x29874d[_0x22dcb9(0x284)][_0x22dcb9(0x2ef)](_0x528767[_0x22dcb9(0x284)],'th')),_0x57c5f6['innerHTML']=_0x22dcb9(0x515)+_0x29470c[_0x22dcb9(0x141)](_0x65a43=>_0x22dcb9(0x4be)+_0x65a43['id']+'\x22>'+_0x65a43[_0x22dcb9(0x284)]+_0x22dcb9(0x877))[_0x22dcb9(0x72e)](''),_0x57c5f6[_0x22dcb9(0xb00)]=()=>{const _0x279d45=_0x22dcb9,_0x4613b3=_0x4010b8['value'],_0x3ae511=_0x57c5f6[_0x279d45(0xa9f)];_0x4010b8['disabled']=!![],_0x4010b8[_0x279d45(0x93e)]=_0x279d45(0x711),_0x33b6be[_0x279d45(0x93e)]=_0x279d45(0x4fa);if(!_0x3ae511)return;const _0x4938ed=allProjects[_0x279d45(0x48e)](_0x376fed=>_0x376fed['id']===_0x3ae511);if(!_0x4938ed||!_0x4938ed[_0x279d45(0xb5a)])return;const _0x5ae52b=()=>{const _0x601a46=_0x279d45;_0x4010b8[_0x601a46(0x93e)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x4938ed[_0x601a46(0xb5a)][_0x601a46(0x141)](_0x275470=>_0x601a46(0x4be)+_0x275470+'\x22>'+_0x275470+'</option>')[_0x601a46(0x72e)](''),_0x4010b8['disabled']=![];const _0x4913c8=Array['from'](_0x4010b8['options'])['map'](_0x57f141=>_0x57f141[_0x601a46(0xa9f)]);if(_0x4613b3&&_0x4913c8[_0x601a46(0x9e3)](_0x4613b3))_0x4010b8['value']=_0x4613b3,_0x4010b8[_0x601a46(0x10d)](new Event(_0x601a46(0x1b7)));else _0x4938ed[_0x601a46(0xb5a)][_0x601a46(0x34a)]===0x1&&(_0x4010b8[_0x601a46(0xa9f)]=_0x4938ed['students'][0x0],_0x4010b8[_0x601a46(0x10d)](new Event(_0x601a46(0x1b7))));};if(_0x4938ed[_0x279d45(0x640)]?.['isPasscodeEnabled']){if(sessionStorage[_0x279d45(0x1c4)](_0x279d45(0xaf7)+_0x3ae511)==='true'){_0x5ae52b();return;}const _0x26effa=document[_0x279d45(0xccc)]('project-passcode-modal'),_0x31bb6c=document[_0x279d45(0xccc)](_0x279d45(0x307)),_0x4d263f=document['getElementById'](_0x279d45(0xaae)),_0x479005=document['getElementById'](_0x279d45(0x86d)),_0x30fa77=document[_0x279d45(0xccc)](_0x279d45(0x9a7));document['getElementById'](_0x279d45(0x9d7))['textContent']='สำหรับโปรเจค:\x20'+_0x4938ed[_0x279d45(0x284)],_0x479005[_0x279d45(0xa9f)]='',_0x30fa77[_0x279d45(0x807)][_0x279d45(0xcec)](_0x279d45(0x9f0)),_0x26effa[_0x279d45(0x807)][_0x279d45(0x90e)](_0x279d45(0x9f0));const _0x384bc2=()=>{const _0x1eb57b=_0x279d45,_0x53b42d=_0x479005[_0x1eb57b(0xa9f)]['trim']();_0x53b42d===_0x4938ed[_0x1eb57b(0x640)]['passcode']?(sessionStorage[_0x1eb57b(0xc9c)](_0x1eb57b(0xaf7)+_0x3ae511,_0x1eb57b(0x5d8)),_0x26effa[_0x1eb57b(0x807)][_0x1eb57b(0xcec)](_0x1eb57b(0x9f0)),_0x5ae52b(),_0x31bb6c[_0x1eb57b(0xb65)](_0x1eb57b(0x343),_0x384bc2)):_0x30fa77['classList'][_0x1eb57b(0x90e)](_0x1eb57b(0x9f0));};_0x31bb6c['onclick']=_0x384bc2,_0x4d263f[_0x279d45(0xc51)]=()=>{const _0x38787b=_0x279d45;_0x26effa[_0x38787b(0x807)][_0x38787b(0xcec)]('hidden'),_0x57c5f6[_0x38787b(0xa9f)]='',_0x31bb6c[_0x38787b(0xb65)](_0x38787b(0x343),_0x384bc2);};}else _0x5ae52b();},_0x4010b8['onchange']=()=>{const _0xb8721a=_0x57c5f6['value'],_0x3fec4d=_0x4010b8['value'];_0xb8721a&&_0x3fec4d&&renderStudentProgressDashboard(_0xb8721a,_0x3fec4d);};}async function confirmAndJoinSyncGame(){const _0x85a9df=_0x157a22;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0x85a9df(0x391)),sessionStorage[_0x85a9df(0x545)](_0x85a9df(0x372)),Object[_0x85a9df(0x69e)](sessionStorage)[_0x85a9df(0x8f9)](_0x230f37=>{const _0x22a518=_0x85a9df;(_0x230f37[_0x22a518(0xb2c)](_0x22a518(0xb44))||_0x230f37[_0x22a518(0xb2c)](_0x22a518(0x225))||_0x230f37[_0x22a518(0xb2c)](_0x22a518(0x85d)))&&sessionStorage[_0x22a518(0x545)](_0x230f37);});const _0x381dcb=[...orderedPlayerSelection];if(_0x381dcb['length']===0x0){showMessage(_0x85a9df(0xe24));return;}localTeamPlayers=_0x381dcb,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x99b4ac=writeBatch(db),_0x34e222=serverTimestamp();for(const _0x4e40ff of _0x381dcb){const _0x29bc3e=doc(db,_0x85a9df(0x331)+appId+_0x85a9df(0x309)+currentLiveGameId+_0x85a9df(0x9f4),_0x4e40ff),_0x21a250=await getDoc(_0x29bc3e);if(_0x21a250[_0x85a9df(0xc43)]())_0x99b4ac[_0x85a9df(0x8bf)](_0x29bc3e,{'status':_0x85a9df(0x130)});else{const _0x4959b1={'name':_0x4e40ff,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x85a9df(0x130),'answers':[],'joinedAt':_0x34e222,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x99b4ac[_0x85a9df(0x301)](_0x29bc3e,_0x4959b1);}}await _0x99b4ac[_0x85a9df(0x34c)](),showView(_0x85a9df(0xd43)),document[_0x85a9df(0xccc)](_0x85a9df(0xa21))[_0x85a9df(0x807)][_0x85a9df(0xcec)](_0x85a9df(0x9f0)),currentStudentName=_0x381dcb[0x0],listenForSyncGameUpdates();const _0x4af514={'gameId':currentLiveGameId,'mode':_0x85a9df(0xd2a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x85a9df(0xc9c)]('activeGameSession',JSON[_0x85a9df(0x5ad)](_0x4af514)),currentMode!==_0x85a9df(0xba1)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x85a9df(0x7d6)](_0x85a9df(0x2ab),handleFullscreenChange),document[_0x85a9df(0x7d6)](_0x85a9df(0xd4b),handleVisibilityChange),enterFullscreen(),window[_0x85a9df(0x7d6)](_0x85a9df(0x8ee),resetDimTimer),window[_0x85a9df(0x7d6)](_0x85a9df(0xd80),resetDimTimer),window[_0x85a9df(0x7d6)](_0x85a9df(0x211),resetDimTimer),window[_0x85a9df(0x7d6)](_0x85a9df(0x77a),resetDimTimer),resetDimTimer());}catch(_0x37ffb6){console['error'](_0x85a9df(0xe3b),_0x37ffb6),showMessage('เกิดข้อผิดพลาดในการเข้าร่วม:\x20'+_0x37ffb6[_0x85a9df(0x267)]);}}async function resumeActiveGameSession(){const _0x57bef7=_0x157a22,_0x31e1c6=sessionStorage[_0x57bef7(0x1c4)]('activeGameSession');if(!_0x31e1c6)return;const _0x351cde=JSON['parse'](_0x31e1c6),{gameId:_0x13b971,mode:_0x9293b,role:_0x9c9198,players:_0x50b2cd,turnIndex:_0x513968}=_0x351cde;try{if(_0x9c9198===_0x57bef7(0x140)&&_0x9293b==='sync'){const _0x11c550=doc(db,'artifacts/'+appId+_0x57bef7(0x334),_0x13b971),_0xd1979=await getDoc(_0x11c550);if(!_0xd1979[_0x57bef7(0xc43)]()||_0xd1979[_0x57bef7(0xd60)]()[_0x57bef7(0xab3)]===_0x57bef7(0x863)||_0xd1979[_0x57bef7(0xd60)]()[_0x57bef7(0xab3)]==='finished'){sessionStorage[_0x57bef7(0x545)]('activeGameSession');return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0x13b971+')'),currentMode=_0x57bef7(0x140),currentLiveGameId=_0x13b971,currentQuizData=_0xd1979[_0x57bef7(0xd60)]()[_0x57bef7(0x937)],showView(_0x57bef7(0xd43)),listenForSyncGameUpdates();}else{if(_0x9293b===_0x57bef7(0xd2a)&&_0x50b2cd){const _0x2fbc49=doc(db,_0x57bef7(0x331)+appId+_0x57bef7(0x334),_0x13b971),_0x1c5a92=await getDoc(_0x2fbc49);if(!_0x1c5a92[_0x57bef7(0xc43)]()||_0x1c5a92[_0x57bef7(0xd60)]()[_0x57bef7(0xab3)]===_0x57bef7(0x863)||_0x1c5a92['data']()[_0x57bef7(0xab3)]===_0x57bef7(0x1c1)){sessionStorage[_0x57bef7(0x545)]('activeGameSession');return;}console['log'](_0x57bef7(0xd70)+_0x13b971+')'),currentLiveGameId=_0x13b971,currentStudentName=_0x50b2cd[0x0],localTeamPlayers=_0x50b2cd,showView(_0x57bef7(0xd43)),listenForSyncGameUpdates();}else{if((_0x9293b===_0x57bef7(0x9cb)||_0x9293b===_0x57bef7(0x749))&&_0x50b2cd){const _0x45be06=doc(db,_0x57bef7(0x331)+appId+_0x57bef7(0x2a5),_0x13b971),_0x5f3f07=await getDoc(_0x45be06);if(!_0x5f3f07[_0x57bef7(0xc43)]()||_0x5f3f07[_0x57bef7(0xd60)]()['status']==='podium'||_0x5f3f07[_0x57bef7(0xd60)]()[_0x57bef7(0xab3)]===_0x57bef7(0x1c1)){sessionStorage['removeItem'](_0x57bef7(0xbc0));return;}console[_0x57bef7(0x700)](_0x57bef7(0x706)+_0x9293b+'\x20(Player)\x20(ID:\x20'+_0x13b971+')'),currentTeamQuizId=_0x13b971,localTeamPlayers=_0x50b2cd,localQuestionIndex=_0x351cde[_0x57bef7(0xb87)]||0x0,localPlayerIndex=_0x351cde['playerIndex']||0x0;const _0x3b2b2a=_0x5f3f07['data'](),_0x909002=doc(db,_0x57bef7(0x331)+appId+'/public/data/quizzes',_0x3b2b2a[_0x57bef7(0x9c4)]),_0x4b7069=await getDoc(_0x909002);_0x4b7069[_0x57bef7(0xc43)]()&&(currentQuizData=getShuffledQuiz({'id':_0x4b7069['id'],..._0x4b7069['data']()}),showView('student'),studentInitialView[_0x57bef7(0x807)][_0x57bef7(0xcec)]('hidden'),_0x9293b==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x1f3bdd){console['error']('Failed\x20to\x20resume\x20game\x20session:',_0x1f3bdd),sessionStorage[_0x57bef7(0x545)](_0x57bef7(0xbc0));}}async function handleUsePowerup(_0x313a9e,_0x2d809d,_0x148d53,_0x1c13c6,_0x4a8536){const _0x34dbff=_0x157a22,_0x8b8297=_0x1c13c6[_0x34dbff(0x8cb)],_0x1b8eaf='powerupUsed_q'+_0x8b8297+'_p'+_0x313a9e,_0x85bb1b=sessionStorage[_0x34dbff(0x1c4)](_0x1b8eaf);if(_0x85bb1b&&_0x2d809d!=='buyTime'&&_0x2d809d!=='strategyScan'){showMessage('คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ');const _0x1ce68b=document[_0x34dbff(0xccc)](_0x34dbff(0xb36)+_0x2d809d);if(_0x1ce68b)_0x1ce68b[_0x34dbff(0x7ef)]=![];return;}if(_0x2d809d==='wagerMultiplier'){sessionStorage[_0x34dbff(0xc9c)](_0x1b8eaf,_0x2d809d),playSystemSound('powerup'),renderStudentSyncQuestionView(_0x1c13c6);return;}const _0x410afc=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x34dbff(0x9f4),_0x313a9e);try{await runTransaction(db,async _0x4d4d20=>{const _0xe9ca21=_0x34dbff,_0x214459=await _0x4d4d20[_0xe9ca21(0x222)](_0x410afc);if(!_0x214459['exists']())throw _0xe9ca21(0xd27);const _0x19729b=_0x214459['data'](),_0x565c8e=_0x19729b[_0xe9ca21(0x81f)]||{},_0x34c1b3=_0x565c8e[_0x2d809d]||0x0;if(_0x34c1b3<=0x0)throw _0xe9ca21(0x918);const _0x478909={};_0x478909[_0xe9ca21(0xd9e)+_0x2d809d]=increment(-0x1);_0x2d809d!=='wagerMultiplier'&&(_0x478909[_0xe9ca21(0x55b)]=0x0);if(_0x2d809d===_0xe9ca21(0xe77)){const _0x180955=(_0x1c13c6['timerDuration']||0xf0)*0x3e8,_0x2ff471=_0x180955*0.25;_0x478909[_0xe9ca21(0xae4)]=increment(_0x2ff471);}_0x4d4d20[_0xe9ca21(0x8bf)](_0x410afc,_0x478909);}),_0x2d809d===_0x34dbff(0x286)&&sessionStorage[_0x34dbff(0xc9c)](_0x34dbff(0x391),'true'),_0x2d809d!==_0x34dbff(0xe77)&&_0x2d809d!==_0x34dbff(0x1e7)&&sessionStorage[_0x34dbff(0xc9c)](_0x1b8eaf,_0x2d809d),playSystemSound(_0x34dbff(0x26c)),applyPowerupEffect(_0x313a9e,_0x2d809d,_0x148d53,_0x1c13c6,_0x4a8536),(_0x2d809d==='cutOne'||_0x2d809d===_0x34dbff(0xe40)||_0x2d809d===_0x34dbff(0x76c)||_0x2d809d===_0x34dbff(0xb0e))&&renderStudentSyncQuestionView(_0x1c13c6),_0x2d809d!=='wagerMultiplier'&&_0x4a8536[_0x34dbff(0x55b)]>0x0&&showMessage('คุณใช้ตัวช่วย\x20\x22'+_0x2d809d+_0x34dbff(0x81e));}catch(_0x23a9e){console[_0x34dbff(0xada)](_0x34dbff(0x5b2),_0x23a9e),showMessage(typeof _0x23a9e===_0x34dbff(0xa30)?_0x23a9e:_0x34dbff(0x2d9));const _0x1097fc=document[_0x34dbff(0xccc)](_0x34dbff(0xb36)+_0x2d809d);if(_0x1097fc)_0x1097fc[_0x34dbff(0x7ef)]=![];}}async function getCachedOtherPlayers(_0x10d153,_0x84f057){const _0x3783f1=_0x157a22,_0x5b7b68=_0x10d153[_0x3783f1(0x8cb)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x5b7b68)return console[_0x3783f1(0x700)](_0x3783f1(0x8a7)),cachedOtherPlayersForQuestion;console[_0x3783f1(0x700)](_0x3783f1(0x2ce));const _0x50ebdd=collection(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3783f1(0x9f4)),_0x4071fc=query(_0x50ebdd,where(_0x3783f1(0xab3),'==',_0x3783f1(0x130))),_0x401057=await getDocs(_0x4071fc),_0x27b7cf=[];return _0x401057[_0x3783f1(0x8f9)](_0x5e0ef9=>{const _0x420fda=_0x3783f1,_0x3b37a7=_0x5e0ef9[_0x420fda(0xd60)]();_0x27b7cf['push'](_0x3b37a7);}),cachedOtherPlayersForQuestion=_0x27b7cf,cachedQuestionIndexForPlayers=_0x5b7b68,_0x27b7cf;}async function applyPowerupEffect(_0x2fe6a7,_0x322b6b,_0x3f2327,_0x294680,_0x53ad90){const _0x56b5b3=_0x157a22,_0x2c6353=_0x3f2327,_0x4c4289=_0x294680[_0x56b5b3(0x8cb)];switch(_0x322b6b){case'wagerMultiplier':showMessage(_0x56b5b3(0x23c));break;case'secondChance':showMessage(_0x56b5b3(0x43b));break;case'buyTime':const _0x5a4b2f=(_0x294680[_0x56b5b3(0x37a)]||0xf0)*0.25;showMessage(_0x56b5b3(0x112)+_0x5a4b2f+_0x56b5b3(0x9cc));break;case'cutOne':case'fiftyFifty':const _0x153cde=document[_0x56b5b3(0x5f0)](_0x56b5b3(0x38b));if(_0x153cde[_0x56b5b3(0x34a)]===0x0){showMessage(_0x56b5b3(0xdbe));return;}const _0x144ce1='hiddenOptions_q'+_0x4c4289+'_p'+_0x2fe6a7,_0x5d3125=JSON[_0x56b5b3(0xcd5)](sessionStorage[_0x56b5b3(0x1c4)](_0x144ce1)||'[]');let _0x5372f7;const _0x44908e=_0x2c6353[_0x56b5b3(0x36c)]||_0x294680[_0x56b5b3(0x937)][_0x56b5b3(0x7fc)];_0x44908e==='true_false'?_0x5372f7=String(_0x2c6353['correctAnswer'])[_0x56b5b3(0x8e9)]()===_0x56b5b3(0x5d8)?0x0:0x1:_0x5372f7=_0x2c6353[_0x56b5b3(0x2bd)];const _0x1ea40f=Array[_0x56b5b3(0x2d0)](_0x153cde)[_0x56b5b3(0x512)](_0x25c56b=>parseInt(_0x25c56b[_0x56b5b3(0x87a)]['value'])!==_0x5372f7&&!_0x5d3125[_0x56b5b3(0x9e3)](_0x25c56b[_0x56b5b3(0x87a)][_0x56b5b3(0xa9f)]));if(_0x1ea40f[_0x56b5b3(0x34a)]===0x0){showMessage(_0x56b5b3(0x854));return;}shuffleArray(_0x1ea40f);const _0x3d69a3=_0x322b6b==='cutOne'?0x1:0x2,_0x7a26e=[];for(let _0x5f577b=0x0;_0x5f577b<_0x3d69a3;_0x5f577b++){_0x1ea40f[_0x5f577b]&&(_0x1ea40f[_0x5f577b][_0x56b5b3(0x807)][_0x56b5b3(0xcec)](_0x56b5b3(0x9f0)),_0x7a26e[_0x56b5b3(0xde9)](_0x1ea40f[_0x5f577b][_0x56b5b3(0x87a)][_0x56b5b3(0xa9f)]));}const _0x103593=[..._0x5d3125,..._0x7a26e];sessionStorage[_0x56b5b3(0xc9c)](_0x144ce1,JSON[_0x56b5b3(0x5ad)](_0x103593)),showMessage(_0x322b6b===_0x56b5b3(0xda5)?_0x56b5b3(0x3ec):_0x56b5b3(0x279));break;default:showMessage(_0x56b5b3(0x9fa)+_0x322b6b+_0x56b5b3(0xde1));}}async function handleForceConfident(_0x15e97b,_0xdb94dc){const _0x58485b=_0x157a22;if(!currentLiveGameId||!_0x15e97b)return;const _0x5d6715=doc(db,_0x58485b(0x331)+appId+_0x58485b(0x309)+currentLiveGameId+_0x58485b(0x9f4),_0x15e97b);try{await updateDoc(_0x5d6715,{'isForcedConfident':!![]}),showMessage(_0x58485b(0xc2d)+_0xdb94dc+_0x58485b(0xe5b));}catch(_0x5104ea){console[_0x58485b(0xada)]('Failed\x20to\x20apply\x20forceConfident:',_0x5104ea),showMessage(_0x58485b(0xb60));}}async function handleRefundPowerup(_0x1dcdd6,_0xdcb655){const _0x4c5edd=_0x157a22,_0x311a1c=doc(db,_0x4c5edd(0x331)+appId+_0x4c5edd(0x309)+currentLiveGameId+_0x4c5edd(0x9f4),_0x1dcdd6);try{const _0x57a46b={};_0x57a46b[_0x4c5edd(0xd9e)+_0xdcb655]=increment(0x1),await updateDoc(_0x311a1c,_0x57a46b),console[_0x4c5edd(0x700)](_0x4c5edd(0x9e6)+_0xdcb655+_0x4c5edd(0xc97)+_0x1dcdd6);}catch(_0x33fd61){console['error'](_0x4c5edd(0x47b),_0x33fd61);}}async function handleApplyJinx(_0x38a516,_0x41516f){const _0x6c9dfc=_0x157a22;if(!currentLiveGameId||!_0x38a516)return;const _0x2e53e2=doc(db,'artifacts/'+appId+_0x6c9dfc(0x309)+currentLiveGameId+_0x6c9dfc(0x9f4),_0x38a516);try{await updateDoc(_0x2e53e2,{'isJinxed':!![]}),showMessage(_0x6c9dfc(0xd14)+_0x41516f+_0x6c9dfc(0xe5b));}catch(_0x5c799f){console['error'](_0x6c9dfc(0x68c),_0x5c799f),showMessage(_0x6c9dfc(0xb60));}}function activateFileInputAreaWithLoadedFile(){const _0x57a95a=_0x157a22,_0x111a61=document['getElementById'](_0x57a95a(0xdb9)),_0x23ce89=document[_0x57a95a(0xccc)](_0x57a95a(0xb9e)),_0x18cd27=document['getElementById']('separate-by-content-from-file-checkbox');selectedFile?_0x18cd27[_0x57a95a(0x174)]?(_0x111a61['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x111a61[_0x57a95a(0x7ef)]=![],_0x23ce89[_0x57a95a(0x807)][_0x57a95a(0xcec)](_0x57a95a(0x9f0))):(_0x111a61[_0x57a95a(0x7ef)]=!![],_0x23ce89['classList']['add']('hidden'));}async function handleKickPlayerSync(_0x163450){const _0x57a8a4=_0x157a22;if(!currentLiveGameId||!_0x163450)return;const _0x310bfb=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x57a8a4(0x9f4),_0x163450);try{await updateDoc(_0x310bfb,{'status':_0x57a8a4(0x6e5)});}catch(_0x5ebc8c){console[_0x57a8a4(0xada)]('Failed\x20to\x20kick\x20player\x20'+_0x163450+':',_0x5ebc8c),showMessage(_0x57a8a4(0x9bf));}}async function renderStudentProgressDashboard(_0xe294ba,_0x3fb271){const _0x486994=_0x157a22,_0x1cfa8f=document[_0x486994(0xccc)](_0x486994(0x91e));_0x1cfa8f[_0x486994(0x93e)]=_0x486994(0x8a2);try{const _0x264880=collection(db,_0x486994(0x331)+appId+'/public/data/quizzes'),_0x42615d=query(_0x264880,where('projectId','==',_0xe294ba)),_0x29dbbe=await getDocs(_0x42615d),_0x4e0551=_0x29dbbe[_0x486994(0xbe9)]['map'](_0x47c009=>({'id':_0x47c009['id'],..._0x47c009[_0x486994(0xd60)]()})),_0x1cde8c=_0x4e0551[_0x486994(0x141)](_0xe2e87b=>getDoc(doc(db,_0x486994(0x331)+appId+'/public/data/quizzes/'+_0xe2e87b['id']+'/submissions',_0x3fb271))),_0x4e42ab=await Promise[_0x486994(0x3d5)](_0x1cde8c),_0x1ea822=_0x4e42ab[_0x486994(0x512)](_0x49dae0=>_0x49dae0[_0x486994(0xc43)]())[_0x486994(0x141)](_0xbf15c6=>({'quizId':_0xbf15c6[_0x486994(0x940)]['parent'][_0x486994(0xca0)]['id'],..._0xbf15c6[_0x486994(0xd60)]()}));if(_0x1ea822[_0x486994(0x34a)]===0x0){_0x1cfa8f[_0x486994(0x93e)]=_0x486994(0xb8b);return;}let _0x228fd6='<div\x20class=\x22space-y-4\x22>';_0x1ea822[_0x486994(0x8f9)](_0x53e4cc=>{const _0x1e9a9e=_0x486994,_0x332ff7=_0x4e0551['find'](_0x2333e8=>_0x2333e8['id']===_0x53e4cc['quizId']),_0x46d491=_0x332ff7[_0x1e9a9e(0x640)]?.[_0x1e9a9e(0x726)]||'show_results_and_answers',_0x389d24=_0x332ff7[_0x1e9a9e(0x640)]?.[_0x1e9a9e(0xd19)]??0x0,_0x4162a1=_0x53e4cc[_0x1e9a9e(0x4d8)]>=_0x389d24;let _0x3396d1='',_0x5b80eb=_0x1e9a9e(0x8ac);switch(_0x46d491){case _0x1e9a9e(0xc8b):case _0x1e9a9e(0x23e):_0x5b80eb=_0x4162a1?'bg-green-50':'bg-red-50',_0x3396d1=_0x1e9a9e(0x948)+(_0x4162a1?_0x1e9a9e(0xbee):_0x1e9a9e(0x5d7))+'\x22>'+_0x53e4cc[_0x1e9a9e(0x4d8)]+_0x1e9a9e(0xc71)+_0x53e4cc[_0x1e9a9e(0xff)]+_0x1e9a9e(0x6da)+(_0x4162a1?_0x1e9a9e(0x6f3):_0x1e9a9e(0x12d))+'\x22>'+(_0x4162a1?_0x1e9a9e(0xb8d):_0x1e9a9e(0x87d))+_0x1e9a9e(0xdba);break;case _0x1e9a9e(0x61d):_0x5b80eb=_0x4162a1?'bg-green-50':'bg-red-50',_0x3396d1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x4162a1?'bg-green-200\x20text-green-800':_0x1e9a9e(0x12d))+'\x22>'+(_0x4162a1?'ผ่าน':_0x1e9a9e(0x87d))+_0x1e9a9e(0xdba);break;case _0x1e9a9e(0xd11):_0x5b80eb=_0x1e9a9e(0xe78),_0x3396d1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x228fd6+=_0x1e9a9e(0x320)+_0x5b80eb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x332ff7['topic']+_0x1e9a9e(0x927)+_0x53e4cc[_0x1e9a9e(0xbae)][_0x1e9a9e(0x34a)]+_0x1e9a9e(0x790)+new Date(_0x53e4cc[_0x1e9a9e(0x2b4)])[_0x1e9a9e(0xa92)]('th-TH')+_0x1e9a9e(0xc3b)+_0x3396d1+_0x1e9a9e(0xde2);}),_0x228fd6+=_0x486994(0x6ae),_0x1cfa8f[_0x486994(0x93e)]=_0x228fd6;}catch(_0x5b9666){console[_0x486994(0xada)](_0x486994(0x736),_0x5b9666),_0x1cfa8f[_0x486994(0x93e)]=_0x486994(0xdab);}}function renderQuizBankListForMultiSelect(_0x3e7783=''){const _0xe51dfc=_0x157a22,_0x3e07d1=document['getElementById'](_0xe51dfc(0x14a)),_0x24868d=_0x3e7783[_0xe51dfc(0x8e9)]()[_0xe51dfc(0x6b3)](),_0x3e635a=allQuizzesGlobal[_0xe51dfc(0x141)](_0x3e92d9=>({..._0x3e92d9,'projectName':allProjects[_0xe51dfc(0x48e)](_0x358664=>_0x358664['id']===_0x3e92d9[_0xe51dfc(0x737)])?.[_0xe51dfc(0x284)]||_0xe51dfc(0x156)}))[_0xe51dfc(0x512)](_0x3f6acc=>(_0x3f6acc[_0xe51dfc(0xe36)]||'')[_0xe51dfc(0x8e9)]()['includes'](_0x24868d)||(_0x3f6acc[_0xe51dfc(0x284)]||'')[_0xe51dfc(0x8e9)]()['includes'](_0x24868d)||_0x3f6acc['id']['toString']()['includes'](_0x24868d));_0x3e07d1[_0xe51dfc(0x93e)]=_0x3e635a[_0xe51dfc(0x34a)]?_0x3e635a['map'](_0x41a7bd=>_0xe51dfc(0xb99)+_0x41a7bd['id']+_0xe51dfc(0xb7f)+(_0x41a7bd[_0xe51dfc(0xe36)]||_0xe51dfc(0x1eb))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x41a7bd[_0xe51dfc(0x284)]+_0xe51dfc(0x1cc)+_0x41a7bd['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0xe51dfc(0x72e)](''):_0xe51dfc(0x16a),_0x3e07d1['onchange']=()=>{const _0xe8d08a=_0xe51dfc,_0x3f83f4=document[_0xe8d08a(0xdd0)]('.quiz-bank-checkbox:checked');document[_0xe8d08a(0xccc)](_0xe8d08a(0x770))['disabled']=!_0x3f83f4;};}function setupStudentProgressListeners(){const _0x22cc71=_0x157a22;document[_0x22cc71(0xccc)](_0x22cc71(0xe1f))[_0x22cc71(0x7d6)](_0x22cc71(0x343),showStudentProgressView),document[_0x22cc71(0xccc)]('back-to-student-home-btn')[_0x22cc71(0x7d6)](_0x22cc71(0x343),()=>{const _0x285d4a=_0x22cc71;document[_0x285d4a(0xccc)]('student-progress-view')[_0x285d4a(0x807)][_0x285d4a(0xcec)](_0x285d4a(0x9f0)),document[_0x285d4a(0xccc)](_0x285d4a(0x6d3))[_0x285d4a(0x807)][_0x285d4a(0x90e)](_0x285d4a(0x9f0));});}async function startSkillPractice(_0x3c0494){const _0x157fd8=_0x157a22;studentResultArea['classList'][_0x157fd8(0xcec)](_0x157fd8(0x9f0)),studentQuizArea[_0x157fd8(0x93e)]=_0x157fd8(0xa8e),studentQuizArea[_0x157fd8(0x807)][_0x157fd8(0x90e)]('hidden');try{const _0x63e2b1=await getStandardizedTopic(_0x3c0494);console[_0x157fd8(0x700)](_0x157fd8(0x540)+_0x3c0494+_0x157fd8(0xbd5)+_0x63e2b1+'\x22'),studentQuizArea[_0x157fd8(0xdd0)]('p')[_0x157fd8(0xc76)]=_0x157fd8(0x650)+_0x63e2b1+_0x157fd8(0x9ac);const _0x253e49=collection(db,_0x157fd8(0x331)+appId+'/public/data/practiceBank'),_0x144e16=query(_0x253e49,where('topic','==',_0x63e2b1)),_0xf0603a=await getDocs(_0x144e16);if(_0xf0603a[_0x157fd8(0xbe9)][_0x157fd8(0x34a)]>=0x3){console['log'](_0x157fd8(0xdd9)+_0xf0603a[_0x157fd8(0xbe9)]['length']+_0x157fd8(0xa1c)+_0x63e2b1+_0x157fd8(0x86f));let _0x3bd526=_0xf0603a['docs'][_0x157fd8(0x141)](_0x46a726=>_0x46a726[_0x157fd8(0xd60)]());shuffleArray(_0x3bd526);const _0xabb868={'topic':_0x63e2b1,'questions':_0x3bd526[_0x157fd8(0xd3d)](0x0,0x3)};displaySkillPracticeDrill(_0xabb868);}else{console[_0x157fd8(0x700)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x63e2b1+_0x157fd8(0xac8));const _0x266ada=await generatePracticeQuestions(_0x63e2b1);await saveDrillToPracticeBank(_0x266ada,_0x63e2b1),displaySkillPracticeDrill(_0x266ada);}}catch(_0x17e1bd){console[_0x157fd8(0xada)](_0x157fd8(0x469),_0x17e1bd),showMessage(_0x157fd8(0x9d4)),studentQuizArea['classList'][_0x157fd8(0xcec)](_0x157fd8(0x9f0)),studentResultArea[_0x157fd8(0x807)][_0x157fd8(0x90e)](_0x157fd8(0x9f0));}}async function saveDrillToPracticeBank(_0x104c46,_0xe31c60){const _0x25da05=_0x157a22,_0x92d6fd=collection(db,_0x25da05(0x331)+appId+_0x25da05(0x53c)),_0x385fb7=writeBatch(db);_0x104c46[_0x25da05(0xdbf)]['forEach'](_0x577fd0=>{const _0x87fe34=_0x25da05,_0x2ec49b=doc(_0x92d6fd);_0x385fb7[_0x87fe34(0x301)](_0x2ec49b,{'topic':_0xe31c60,'questionText':_0x577fd0['questionText'],'options':_0x577fd0[_0x87fe34(0xaee)],'correctAnswerIndex':_0x577fd0['correctAnswerIndex'],'explanation':_0x577fd0[_0x87fe34(0x928)],'createdAt':serverTimestamp()});});try{await _0x385fb7[_0x25da05(0x34c)](),console[_0x25da05(0x700)](_0x25da05(0x5a0)+_0x104c46['questions'][_0x25da05(0x34a)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x387a6e){console['error'](_0x25da05(0x7d8),_0x387a6e);}}async function getStandardizedTopic(_0x204002){const _0x4fc7b1=_0x157a22,_0x85d5b5=_0x4fc7b1(0x23a)+_0x204002+_0x4fc7b1(0x491),_0x4e568c={'type':_0x4fc7b1(0xd8a),'properties':{'standardTopic':{'type':_0x4fc7b1(0x685)}},'required':[_0x4fc7b1(0x913)]};try{const _0x1d60b2=await callAnalysisApi(_0x85d5b5,_0x4e568c);return _0x1d60b2[_0x4fc7b1(0x913)];}catch(_0x318f52){return console[_0x4fc7b1(0xada)](_0x4fc7b1(0xd85),_0x318f52),_0x204002;}}async function handleGenerateEasyVersionQuiz(_0x348ab9){const _0x47a795=_0x157a22,_0x537c3b=document[_0x47a795(0xccc)](_0x47a795(0x167)),_0xc89011=document[_0x47a795(0xccc)](_0x47a795(0xbfe));_0xc89011['classList'][_0x47a795(0xcec)]('hidden');const _0x1effbb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x537c3b[_0x47a795(0x97f)](_0x47a795(0xe2f),_0x1effbb);try{const _0x1e3cb3=allQuizzes[_0x47a795(0x48e)](_0x4ad8ef=>_0x4ad8ef['id']===_0x348ab9);if(!_0x1e3cb3)throw new Error(_0x47a795(0x9c0));const _0x879a1b=_0x47a795(0xd1e)+JSON['stringify'](_0x1e3cb3[_0x47a795(0xdbf)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1c3e40={'type':_0x47a795(0xd8a),'properties':{'questionText':{'type':_0x47a795(0x685)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x47a795(0x685)}},'correctAnswerIndex':{'type':_0x47a795(0x96f)},'idealAnswer':{'type':_0x47a795(0x685)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x47a795(0x685)}},'required':[_0x47a795(0x885),_0x47a795(0x36c),_0x47a795(0x928)]},_0x1eac38={'type':'OBJECT','properties':{'questions':{'type':_0x47a795(0x83a),'items':_0x1c3e40}},'required':[_0x47a795(0xdbf)]},_0x5308f2=await callAnalysisApi(_0x879a1b,_0x1eac38);_0x5308f2&&_0x5308f2[_0x47a795(0xdbf)]&&_0x5308f2[_0x47a795(0xdbf)][_0x47a795(0x8f9)](_0x31bdc2=>{const _0x49b658=_0x47a795;if(_0x31bdc2[_0x49b658(0x51f)](_0x49b658(0x71e))){const _0x53cf1d=String(_0x31bdc2['imageCode'])[_0x49b658(0x6b3)]();(_0x53cf1d===''||_0x53cf1d[_0x49b658(0x8e9)]()===_0x49b658(0x569)||!_0x53cf1d[_0x49b658(0xb2c)]('<svg'))&&delete _0x31bdc2[_0x49b658(0x71e)];}});if(!_0x5308f2||!_0x5308f2[_0x47a795(0xdbf)]||_0x5308f2[_0x47a795(0xdbf)][_0x47a795(0x34a)]===0x0)throw new Error(_0x47a795(0x3ca));const _0x390f54=_0x5308f2[_0x47a795(0xdbf)]['map']((_0x27bf3e,_0x30ba63)=>({..._0x27bf3e,'id':'q_'+Date['now']()+'_'+_0x30ba63})),_0x22c6d6={'projectId':_0x1e3cb3[_0x47a795(0x737)],'quizType':_0x1e3cb3[_0x47a795(0x7fc)],'settings':_0x1e3cb3[_0x47a795(0x640)],'createdBy':_0x1e3cb3[_0x47a795(0x657)],'status':'active','topic':_0x47a795(0xd6c)+_0x1e3cb3[_0x47a795(0xe36)],'questions':_0x390f54,'createdAt':new Date()[_0x47a795(0x2f9)](),'quizMode':_0x47a795(0xc22),'pairedQuizId':null};let _0x52cb33;while(!![]){_0x52cb33=Math[_0x47a795(0xc3c)](0x3e8+Math[_0x47a795(0x373)]()*0x2328)['toString']();const _0xda8c9=await getDoc(doc(db,_0x47a795(0x331)+appId+'/public/data/quizzes',_0x52cb33));if(!_0xda8c9[_0x47a795(0xc43)]())break;}await setDoc(doc(db,_0x47a795(0x331)+appId+_0x47a795(0x78d),_0x52cb33),_0x22c6d6),showMessage(_0x47a795(0x8e7));}catch(_0x5078b9){console[_0x47a795(0xada)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x5078b9),showMessage(_0x47a795(0x153)+_0x5078b9['message']);}finally{const _0x4ebce0=document[_0x47a795(0xccc)](_0x47a795(0x335));_0x4ebce0&&_0x4ebce0[_0x47a795(0x90e)](),_0xc89011['classList'][_0x47a795(0x90e)](_0x47a795(0x9f0));}}async function generatePracticeQuestions(_0xdc8a0f){const _0x2a9bd4=_0x157a22,_0x2158e1=_0x2a9bd4(0x3d0)+_0xdc8a0f+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2a9bd4(0x5d6),_0x417898={'type':_0x2a9bd4(0xd8a),'properties':{'questionText':{'type':_0x2a9bd4(0x685)},'options':{'type':_0x2a9bd4(0x83a),'items':{'type':_0x2a9bd4(0x685)}},'correctAnswerIndex':{'type':_0x2a9bd4(0x96f)},'explanation':{'type':_0x2a9bd4(0x685)}},'required':[_0x2a9bd4(0x885),_0x2a9bd4(0xaee),_0x2a9bd4(0x2bd),_0x2a9bd4(0x928)]},_0x2ab3d3={'type':'OBJECT','properties':{'topic':{'type':_0x2a9bd4(0x685)},'questions':{'type':'ARRAY','items':_0x417898}},'required':[_0x2a9bd4(0xe36),'questions']};return await callAnalysisApi(_0x2158e1,_0x2ab3d3);}function displayLessonPlan(_0x32d62c,_0x475c4d){const _0x56ae4a=_0x157a22,_0xda54bd=_0x56ae4a(0xdf3)+_0x475c4d[_0x56ae4a(0xe36)]+_0x56ae4a(0x968)+_0x32d62c[_0x56ae4a(0xa37)][_0x56ae4a(0x141)](_0xaf832e=>_0x56ae4a(0x440)+_0xaf832e+_0x56ae4a(0x5af))[_0x56ae4a(0x72e)]('')+_0x56ae4a(0xad1)+_0x32d62c[_0x56ae4a(0xc2)]+_0x56ae4a(0x2b9)+_0x32d62c[_0x56ae4a(0xb2d)]['map'](_0x22b0b8=>_0x56ae4a(0xa50)+_0x22b0b8[_0x56ae4a(0x4c0)]+_0x56ae4a(0x661)+_0x22b0b8['solution']+'</p></div>')['join']('')+_0x56ae4a(0xdf5);document[_0x56ae4a(0xccc)]('lesson-plan-title')[_0x56ae4a(0xc76)]=_0x56ae4a(0x2be)+_0x475c4d[_0x56ae4a(0xe36)],document[_0x56ae4a(0xccc)](_0x56ae4a(0xe05))[_0x56ae4a(0x93e)]=_0xda54bd,document[_0x56ae4a(0xccc)]('lesson-plan-modal')[_0x56ae4a(0x807)][_0x56ae4a(0x90e)](_0x56ae4a(0x9f0));if(window[_0x56ae4a(0x5e4)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x532ca6){let _0x3c7f45=0x0;const _0x3dec08=_0x532ca6['questions'],_0x330b7b=()=>{const _0x5c200e=_0x28ee,_0x36222d=_0x3dec08[_0x3c7f45],_0x224986=_0x5c200e(0xdf4)+(_0x3c7f45+0x1)+_0x5c200e(0xc71)+_0x3dec08[_0x5c200e(0x34a)]+_0x5c200e(0x2e3)+_0x36222d[_0x5c200e(0x885)]+_0x5c200e(0xc19)+_0x36222d[_0x5c200e(0xaee)][_0x5c200e(0x141)]((_0x38e8b7,_0x38f635)=>_0x5c200e(0x3cd)+_0x38f635+_0x5c200e(0x994)+_0x38f635+_0x5c200e(0xcb5)+_0x38f635+'\x22>'+_0x38e8b7+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x5c200e(0x93e)]=_0x224986;if(window[_0x5c200e(0x5e4)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x5c200e(0x9da))[_0x5c200e(0x7d6)](_0x5c200e(0x343),async()=>{const _0x47dd91=await getHintForQuestion(_0x36222d['questionText']);showMessage(_0x47dd91);}),document[_0x5c200e(0xccc)](_0x5c200e(0x1b2))[_0x5c200e(0x7d6)](_0x5c200e(0x343),()=>{const _0x4f51b2=_0x5c200e,_0x31121e=document[_0x4f51b2(0xdd0)]('input[name=\x22drill_answer\x22]:checked');if(!_0x31121e){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0xf36df9=document['getElementById'](_0x4f51b2(0xc1a)),_0x57411f=parseInt(_0x31121e['value'])===_0x36222d[_0x4f51b2(0x2bd)];_0x57411f?(_0xf36df9['className']=_0x4f51b2(0x628),_0xf36df9[_0x4f51b2(0x93e)]=_0x4f51b2(0x248)+_0x36222d['explanation']):(_0xf36df9[_0x4f51b2(0x984)]=_0x4f51b2(0x57a),_0xf36df9[_0x4f51b2(0x93e)]=_0x4f51b2(0x59e)+_0x36222d[_0x4f51b2(0x928)]);_0xf36df9[_0x4f51b2(0x807)][_0x4f51b2(0x90e)](_0x4f51b2(0x9f0));if(window[_0x4f51b2(0x5e4)])MathJax[_0x4f51b2(0xd06)]([_0xf36df9]);document[_0x4f51b2(0xccc)](_0x4f51b2(0x1b2))[_0x4f51b2(0x807)][_0x4f51b2(0xcec)](_0x4f51b2(0x9f0)),document[_0x4f51b2(0xccc)](_0x4f51b2(0x9da))[_0x4f51b2(0x807)][_0x4f51b2(0xcec)]('hidden'),document[_0x4f51b2(0xccc)](_0x4f51b2(0xdc8))[_0x4f51b2(0x807)]['remove'](_0x4f51b2(0x9f0));}),document[_0x5c200e(0xccc)](_0x5c200e(0xdc8))[_0x5c200e(0x7d6)](_0x5c200e(0x343),()=>{const _0x538ebe=_0x5c200e;_0x3c7f45++,_0x3c7f45<_0x3dec08[_0x538ebe(0x34a)]?_0x330b7b():(studentQuizArea[_0x538ebe(0x93e)]=_0x538ebe(0xd1d),document[_0x538ebe(0xccc)](_0x538ebe(0x265))['addEventListener'](_0x538ebe(0x343),()=>{const _0x39c83f=_0x538ebe;studentQuizArea['classList'][_0x39c83f(0xcec)](_0x39c83f(0x9f0)),studentResultArea[_0x39c83f(0x807)][_0x39c83f(0x90e)]('hidden');}));});};_0x330b7b();}async function getHintForQuestion(_0x2e86ae){const _0x3867a8=_0x157a22,_0x27d28d=_0x3867a8(0x962)+_0x2e86ae+_0x3867a8(0x1d4),_0x57271b={'type':_0x3867a8(0xd8a),'properties':{'hint':{'type':_0x3867a8(0x685)}},'required':[_0x3867a8(0x282)]};try{const _0xdb9a33=await callAnalysisApi(_0x27d28d,_0x57271b);return _0xdb9a33['hint'];}catch(_0x5603ce){return console[_0x3867a8(0xada)](_0x3867a8(0x94b),_0x5603ce),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x1cd74f){const _0x36f13d=_0x157a22;pdfjsLib['GlobalWorkerOptions'][_0x36f13d(0xc4a)]=_0x36f13d(0x626);const _0x496214=await _0x1cd74f[_0x36f13d(0xb56)](),_0x575050=await pdfjsLib[_0x36f13d(0x738)](_0x496214)[_0x36f13d(0xbe5)],_0x5a85cd=_0x575050['numPages'];let _0x3541a9='';for(let _0xa243b3=0x1;_0xa243b3<=_0x5a85cd;_0xa243b3++){const _0x3da11d=await _0x575050[_0x36f13d(0x872)](_0xa243b3),_0x574eb8=await _0x3da11d[_0x36f13d(0xa75)](),_0x26e253=_0x574eb8['items'][_0x36f13d(0x141)](_0x19c24e=>_0x19c24e['str'])[_0x36f13d(0x72e)]('\x20');_0x3541a9+=_0x26e253+'\x0a\x0a';}return _0x3541a9;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x509698){const _0x1fd26a=_0x157a22,_0x3adaa3=document[_0x1fd26a(0xccc)](_0x1fd26a(0x315)),_0xd829e4=document[_0x1fd26a(0xccc)](_0x1fd26a(0x143)),_0x7d91c=document[_0x1fd26a(0xccc)](_0x1fd26a(0xe6d));_0x3adaa3[_0x1fd26a(0x807)][_0x1fd26a(0x90e)](_0x1fd26a(0x9f0)),_0xd829e4[_0x1fd26a(0x93e)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x7d91c[_0x1fd26a(0x807)][_0x1fd26a(0xcec)](_0x1fd26a(0x9f0));try{const _0x26cda5=_0x1fd26a(0x8fd)+_0x509698+'\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27',_0xc3c8e9={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x1fd26a(0x83a),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x1fd26a(0x685)},'mainTopics':{'type':_0x1fd26a(0x83a),'items':{'type':_0x1fd26a(0xd8a),'properties':{'topicName':{'type':_0x1fd26a(0x685)},'subTopics':{'type':'ARRAY','items':{'type':_0x1fd26a(0x685)}}},'required':[_0x1fd26a(0xd8),'subTopics']}}},'required':[_0x1fd26a(0x47e),_0x1fd26a(0x21e)]}}},'required':['gradeLevel',_0x1fd26a(0xc77)]},_0x315ca8=await callAnalysisApi(_0x26cda5,_0xc3c8e9);if(_0x315ca8&&_0x315ca8['curriculum'])extractedBlueprintData=_0x315ca8,renderBlueprintTopics(_0x315ca8),_0x7d91c[_0x1fd26a(0x807)][_0x1fd26a(0x90e)](_0x1fd26a(0x9f0));else throw new Error(_0x1fd26a(0x9ef));}catch(_0x3be984){console[_0x1fd26a(0xada)](_0x1fd26a(0x8c2),_0x3be984),_0xd829e4[_0x1fd26a(0x93e)]=_0x1fd26a(0x763);}}function renderBlueprintTopics(_0x3f0423){const _0x35cd1a=_0x157a22,_0x359858=document[_0x35cd1a(0xccc)](_0x35cd1a(0x143)),_0x170225=_0x3f0423[_0x35cd1a(0x424)],_0x24353b='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x170225+_0x35cd1a(0x421);let _0x4c6203='';_0x3f0423['curriculum'][_0x35cd1a(0x8f9)](_0x74145=>{const _0x1a05d4=_0x35cd1a;_0x4c6203+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x74145[_0x1a05d4(0x47e)]+_0x1a05d4(0xe3d),_0x74145[_0x1a05d4(0x21e)][_0x1a05d4(0x8f9)](_0x9e82a6=>{const _0x7f110f=_0x1a05d4;_0x4c6203+=_0x7f110f(0x2cf)+_0x9e82a6[_0x7f110f(0xd8)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x9e82a6['subTopics']['forEach'](_0x409cc2=>{const _0xbbf438=_0x7f110f;_0x4c6203+=_0xbbf438(0x3d3)+_0x409cc2[_0xbbf438(0xb64)](/'/g,'\x5c\x27')+_0xbbf438(0xc24)+_0x170225[_0xbbf438(0xb64)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x409cc2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x409cc2[_0xbbf438(0xb64)](/'/g,'\x5c\x27')+_0xbbf438(0xaf1);}),_0x4c6203+=_0x7f110f(0x303);}),_0x4c6203+=_0x1a05d4(0x6ae);}),_0x359858[_0x35cd1a(0x93e)]=_0x24353b+_0x4c6203;}async function handleGenerateTeachingContent(_0x432b3b){const _0x24b2a9=_0x157a22,_0x3b3cdf=document[_0x24b2a9(0xccc)](_0x24b2a9(0xbb7)),_0x32d639=document[_0x24b2a9(0xccc)]('lesson-plan-content');document[_0x24b2a9(0xccc)](_0x24b2a9(0xbbb))['textContent']=_0x24b2a9(0xa0b)+_0x432b3b,_0x32d639[_0x24b2a9(0x93e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x3b3cdf['classList'][_0x24b2a9(0x90e)](_0x24b2a9(0x9f0));try{const _0x448b79=_0x24b2a9(0x13b)+_0x432b3b+_0x24b2a9(0x8f8),_0x2f1787={'type':_0x24b2a9(0xd8a),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x24b2a9(0x685)}},'commonMistakes':{'type':_0x24b2a9(0x83a),'items':{'type':_0x24b2a9(0x685)}},'stepByStepExamples':{'type':_0x24b2a9(0x83a),'items':{'type':_0x24b2a9(0xd8a),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x24b2a9(0x685)}},'required':[_0x24b2a9(0x4c0),_0x24b2a9(0x6c3)]}},'teacherTips':{'type':_0x24b2a9(0x83a),'items':{'type':_0x24b2a9(0x685)}}},'required':[_0x24b2a9(0x278),_0x24b2a9(0x720),_0x24b2a9(0xba9),_0x24b2a9(0x26e)]},_0x41eb98=await callAnalysisApi(_0x448b79,_0x2f1787);displayTeachingContent(_0x41eb98,_0x432b3b);}catch(_0x3a2cd3){console[_0x24b2a9(0xada)](_0x24b2a9(0xce4),_0x3a2cd3),_0x32d639[_0x24b2a9(0x93e)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x3a2cd3[_0x24b2a9(0x267)]+_0x24b2a9(0x723);}}function displayTeachingContent(_0x1f40af,_0x178e4a){const _0x116b27=_0x157a22,_0x2ab433=document['getElementById']('lesson-plan-content');document[_0x116b27(0xccc)](_0x116b27(0xbbb))[_0x116b27(0xc76)]=_0x116b27(0x9ba)+_0x178e4a;const _0x1fbbc9=_0x116b27(0x890)+_0x1f40af['keyConcepts'][_0x116b27(0x141)](_0x421805=>_0x116b27(0x440)+_0x421805+_0x116b27(0x5af))[_0x116b27(0x72e)]('')+_0x116b27(0x488)+_0x1f40af[_0x116b27(0x720)]['map'](_0x19faa4=>_0x116b27(0x440)+_0x19faa4+'</li>')[_0x116b27(0x72e)]('')+_0x116b27(0xd28)+_0x1f40af[_0x116b27(0xba9)][_0x116b27(0x141)](_0x241c11=>_0x116b27(0xd2c)+_0x241c11[_0x116b27(0x4c0)]+_0x116b27(0xcef)+_0x241c11['solution']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x116b27(0x72e)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1f40af[_0x116b27(0x26e)][_0x116b27(0x141)](_0x45522d=>_0x116b27(0x440)+_0x45522d+_0x116b27(0x5af))[_0x116b27(0x72e)]('')+_0x116b27(0x6f8);_0x2ab433['innerHTML']=_0x1fbbc9;if(window[_0x116b27(0x5e4)])MathJax[_0x116b27(0xd06)]([_0x2ab433]);}async function generateQuizForSingleTopic(_0x584310){const _0x1ea5da=_0x157a22;console[_0x1ea5da(0x700)](_0x1ea5da(0x24a)+_0x584310+'\x22');const _0x1a6e90=document[_0x1ea5da(0xccc)]('reference-pdf-upload'),_0x22119d=_0x1a6e90[_0x1ea5da(0x9ea)]['length']>0x0?_0x1a6e90[_0x1ea5da(0x9ea)][0x0]:null;let _0xd417f6=null;if(_0x22119d)try{const _0x2e6caa=new FileReader();_0x2e6caa[_0x1ea5da(0xc7e)](_0x22119d);const _0x31c755=await new Promise((_0x1e8c26,_0x25abb4)=>{const _0xc7be7b=_0x1ea5da;_0x2e6caa[_0xc7be7b(0x96d)]=()=>_0x1e8c26(_0x2e6caa[_0xc7be7b(0x1c8)][_0xc7be7b(0x9ae)](',')[0x1]),_0x2e6caa[_0xc7be7b(0x26d)]=_0x47421c=>_0x25abb4(_0x47421c);});_0xd417f6=[{'inlineData':{'mimeType':_0x22119d[_0x1ea5da(0xd10)],'data':_0x31c755}}];}catch(_0xad86ed){console[_0x1ea5da(0xada)](_0x1ea5da(0x10f),_0xad86ed),showMessage(_0x1ea5da(0x48f));return;}generateQuiz(_0x584310,null,null,_0xd417f6,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x4a0f93=null){const _0x199470=_0x157a22,_0x3468dc=document['getElementById']('loader'),_0x39035a=document['getElementById'](_0x199470(0x38f));let _0x577ad5,_0x21c614=[];if(_0x4a0f93)_0x577ad5=_0x4a0f93,_0x21c614=_0x577ad5[_0x199470(0xd3d)](0x2);else{const _0x10a927=document[_0x199470(0xccc)](_0x199470(0x5fd)),_0xc21539=document['getElementById'](_0x199470(0x195)),_0x57b1cb=_0x10a927[_0x199470(0x9ea)][0x0];if(!_0x57b1cb){showMessage(_0x199470(0xe8d));return;}_0x39035a[_0x199470(0xc76)]=_0x199470(0x7b3);const _0x2363f7=await new Promise((_0x4d2853,_0x157596)=>{const _0x1aea93=_0x199470,_0x53352c=new FileReader();_0x53352c[_0x1aea93(0xc7e)](_0x57b1cb),_0x53352c[_0x1aea93(0x96d)]=()=>_0x4d2853(_0x53352c[_0x1aea93(0x1c8)][_0x1aea93(0x9ae)](',')[0x1]),_0x53352c[_0x1aea93(0x26d)]=_0x157596;});_0x577ad5=[{'text':_0x199470(0xcbd)},{'inlineData':{'mimeType':_0x57b1cb[_0x199470(0xd10)],'data':_0x2363f7}}];if(_0xc21539['files'][_0x199470(0x34a)]>0x0){const _0x20b044=_0xc21539['files'][0x0];_0x39035a['textContent']=_0x199470(0xdac);const _0x42017e=await new Promise((_0x12795c,_0x136ff2)=>{const _0x311c13=_0x199470,_0x4243d2=new FileReader();_0x4243d2[_0x311c13(0xc7e)](_0x20b044),_0x4243d2['onload']=()=>_0x12795c(_0x4243d2[_0x311c13(0x1c8)]['split'](',')[0x1]),_0x4243d2['onerror']=_0x136ff2;}),_0x12c248={'inlineData':{'mimeType':_0x20b044[_0x199470(0xd10)],'data':_0x42017e}};_0x577ad5[_0x199470(0xde9)](_0x12c248),_0x21c614['push'](_0x12c248);}}const _0x21c3a1=_0x199470(0xa63),_0x5f76e=_0x199470(0x8ed);let _0xa44744='';_0x21c614&&_0x21c614[_0x199470(0x34a)]>0x0?_0xa44744=_0x21c3a1:_0xa44744=_0x5f76e;const _0x16e481=_0x199470(0x1af)+_0xa44744+_0x199470(0xa16),_0x2d5b9f={'type':_0x199470(0xd8a),'properties':{'questionText':{'type':_0x199470(0x685)},'questionType':{'type':_0x199470(0x685),'enum':[_0x199470(0x75f),_0x199470(0xb27),'true_false','matching_item']},'options':{'type':_0x199470(0x83a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x199470(0x685)},'correctAnswer':{'type':_0x199470(0x3cb)},'explanation':{'type':_0x199470(0x685)},'imageCode':{'type':'STRING'}},'required':[_0x199470(0x36c),_0x199470(0x928)]},_0x10b2d9={'type':_0x199470(0xd8a),'properties':{'topic':{'type':_0x199470(0x685)},'questions':{'type':_0x199470(0x83a),'items':_0x2d5b9f}},'required':['topic',_0x199470(0xdbf)]};_0x577ad5[0x0]['text']=_0x16e481,await handleApiCall(_0x577ad5,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x10b2d9);}function proceedToNextQuestion(_0x54275b){studentAnswersPerQuestion['push'](_0x54275b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function getCentralPotHTML(_0x55faeb){const _0x6e037e=_0x157a22,_0x1ea61d=_0x55faeb[_0x6e037e(0x842)]||0x0,_0x196fe5=_0x55faeb[_0x6e037e(0xc1b)]===!![];if(!_0x196fe5)return'';if(_0x1ea61d===0x0)return _0x6e037e(0xc1f);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-gradient-to-r\x20from-yellow-500\x20to-amber-600\x20text-white\x20px-4\x20py-1\x20rounded-full\x20border-2\x20border-yellow-200\x20shadow-lg\x20shadow-yellow-500/50\x20animate-pulse\x20transform\x20hover:scale-105\x20transition-transform\x20cursor-help\x22\x20title=\x22เงินรางวัลส่วนเกินจากรอบที่แล้ว\x20จะถูกนำมาหารเพิ่มให้ผู้ชนะในรอบนี้!\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x20text-xl\x20animate-bounce\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20drop-shadow-md\x22>กองกลาง:\x20'+_0x1ea61d[_0x6e037e(0x84e)]()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function renderAdminSyncDashboard(_0x102c52,_0x33b71a,_0x225610){const _0x3c4cd6=_0x157a22,_0x362baf=Object[_0x3c4cd6(0x11b)](_0x102c52[_0x3c4cd6(0xded)]||{}),_0x25da9c=_0x362baf[_0x3c4cd6(0x34a)],_0x234501=_0x225610,_0x599312=_0x102c52['gameVariant']||'classic',_0x766cdf=_0x599312===_0x3c4cd6(0x114)||_0x599312==='anonymous_reveal_end',_0xe8dca=_0x599312===_0x3c4cd6(0x9a8)||_0x599312===_0x3c4cd6(0x96b),_0x32c80d=_0x102c52['isAnonymousRevealed']===!![],_0x519600=_0x599312===_0x3c4cd6(0x4df),_0x5c487f=_0x102c52['shuffledQuiz']['questions'],_0x44e8d6=_0x5c487f[_0x234501],_0x174fa3=_0x3fe9c3=>String[_0x3c4cd6(0xad9)](0x41+_0x3fe9c3),_0x1f8a59=_0x362baf['map'](_0x5a53c9=>{const _0x14a810=_0x3c4cd6,_0xcc576=(_0x5a53c9[_0x14a810(0x534)]||[])[_0x14a810(0x512)](_0x257fe6=>{if(_0xe8dca)return _0x257fe6['questionIndex']<=_0x234501;return!![];});let _0x32649a=0x0,_0x9ebcb3=0x0;_0xe8dca?(_0x32649a=_0xcc576['filter'](_0x21d896=>_0x21d896[_0x14a810(0xa04)])[_0x14a810(0x34a)],_0x9ebcb3=_0xcc576[_0x14a810(0xc59)]((_0x844ed7,_0x52ca6f)=>_0x844ed7+(_0x52ca6f[_0x14a810(0x472)]||0x0),0x0)):(_0x32649a=_0x5a53c9[_0x14a810(0x5c3)]||0x0,_0x9ebcb3=_0x5a53c9[_0x14a810(0xaa6)]||0x0);let _0x153dd9=0x0;for(let _0x21281e=0x0;_0x21281e<=_0x234501;_0x21281e++){const _0x126a6d=_0xcc576['find'](_0x39d693=>_0x39d693['questionIndex']===_0x21281e);if(_0x126a6d){const _0x311f68=_0x126a6d[_0x14a810(0x561)]&&_0x126a6d[_0x14a810(0x561)]!=='wagerMultiplier'||_0x126a6d[_0x14a810(0x8a1)];_0x126a6d[_0x14a810(0xa04)]?_0x311f68?_0x153dd9=0x0:_0x153dd9++:_0x153dd9=0x0;}else _0x153dd9=0x0;}return{..._0x5a53c9,'realScore':_0x32649a,'totalPoints':_0x9ebcb3,'answers':_0xcc576,'correctStreak':_0x153dd9};}),_0x445365=Math[_0x3c4cd6(0xaa7)](..._0x1f8a59[_0x3c4cd6(0x141)](_0x368d1f=>_0x368d1f['totalPoints']),-Infinity),_0x4b7d2c=Math[_0x3c4cd6(0xaa7)](..._0x1f8a59[_0x3c4cd6(0x141)](_0xf25b31=>_0xf25b31['realScore']),-Infinity),_0x9dc43c=_0x102c52['isBlackMarketEnabled']===!![],_0x3bbb87=[..._0x1f8a59][_0x3c4cd6(0x4b3)]((_0x331efc,_0x2c728e)=>{const _0x4db180=_0x3c4cd6;if(_0x9dc43c){const _0x1f5a54=_0x2c728e['totalPoints']-_0x331efc[_0x4db180(0xaa6)];if(_0x1f5a54!==0x0)return _0x1f5a54;const _0xe2cf35=_0x2c728e[_0x4db180(0xd53)]-_0x331efc[_0x4db180(0xd53)];if(_0xe2cf35!==0x0)return _0xe2cf35;return(_0x331efc['name']||'')['localeCompare'](_0x2c728e['name']||'','th');}else{const _0x2cd754=_0x2c728e[_0x4db180(0xaa6)]-_0x331efc[_0x4db180(0xaa6)];if(_0x2cd754!==0x0)return _0x2cd754;const _0x272338=_0x2c728e[_0x4db180(0xd53)]-_0x331efc['realScore'];if(_0x272338!==0x0)return _0x272338;return(_0x331efc[_0x4db180(0x190)]||'')[_0x4db180(0x2ef)](_0x2c728e['name']||'','th');}});let _0x175a24=0x1;for(let _0x563689=0x0;_0x563689<_0x3bbb87[_0x3c4cd6(0x34a)];_0x563689++){if(_0x563689>0x0){const _0x3da66f=_0x3bbb87[_0x563689-0x1],_0x55e030=_0x3bbb87[_0x563689];let _0x5e632c=![];_0x9dc43c?_0x5e632c=_0x55e030[_0x3c4cd6(0xaa6)]===_0x3da66f[_0x3c4cd6(0xaa6)]&&_0x55e030['realScore']===_0x3da66f[_0x3c4cd6(0xd53)]:_0x5e632c=_0x55e030[_0x3c4cd6(0xaa6)]===_0x3da66f['totalPoints']&&_0x55e030[_0x3c4cd6(0xd53)]===_0x3da66f[_0x3c4cd6(0xd53)],!_0x5e632c&&(_0x175a24=_0x563689+0x1);}_0x3bbb87[_0x563689][_0x3c4cd6(0xe89)]=_0x175a24;}let _0x29e33d='';const _0x41abbe=!_0x519600&&!(_0x766cdf&&_0x102c52[_0x3c4cd6(0xc63)]===![]);if(_0x44e8d6&&_0x41abbe){let _0x5c7a75='',_0x53c932='';const _0x45354a=_0x44e8d6[_0x3c4cd6(0x36c)]||_0x102c52[_0x3c4cd6(0x937)]['quizType'];if(_0x45354a===_0x3c4cd6(0x75f)&&_0x44e8d6[_0x3c4cd6(0xaee)]){const _0x59a0b8=_0x44e8d6[_0x3c4cd6(0x2bd)];_0x5c7a75=_0x44e8d6[_0x3c4cd6(0xaee)][_0x59a0b8],_0x53c932=_0x174fa3(_0x59a0b8)+'.';}else{if(_0x45354a===_0x3c4cd6(0xc6b)){const _0x8e4f21=String(_0x44e8d6[_0x3c4cd6(0xcab)])[_0x3c4cd6(0x8e9)]()===_0x3c4cd6(0x5d8);_0x5c7a75=_0x8e4f21?_0x3c4cd6(0x814):_0x3c4cd6(0x29c),_0x53c932=_0x8e4f21?'ก.':'ข.';}else{if(_0x45354a===_0x3c4cd6(0x283))_0x5c7a75=_0x44e8d6['correctResponse']||'-';else(_0x45354a===_0x3c4cd6(0xb27)||_0x45354a==='fill_in_no_choices')&&(_0x5c7a75=_0x44e8d6[_0x3c4cd6(0x314)]||'-');}}_0x5c7a75&&(_0x29e33d=_0x3c4cd6(0xd0)+(_0x234501+0x1)+_0x3c4cd6(0x45f)+_0x53c932+'\x20'+_0x5c7a75+_0x3c4cd6(0x384));}const _0x42f1b2=_0x3bbb87[_0x3c4cd6(0x141)]((_0x5f221a,_0x4fbd76)=>{const _0xf2bfb7=_0x3c4cd6,_0x26cc8c=_0x5f221a[_0xf2bfb7(0xd53)],_0x4818c3=_0x5f221a[_0xf2bfb7(0xaa6)],_0x58d882=(_0x5f221a['answers']||[])[_0xf2bfb7(0x48e)](_0x264775=>_0x264775[_0xf2bfb7(0xb87)]===_0x225610),_0x38566=_0x5f221a[_0xf2bfb7(0x534)][_0xf2bfb7(0x34a)];let _0x3ce7cf='';_0x58d882&&_0x58d882[_0xf2bfb7(0x72c)]>0x0&&(_0x3ce7cf=_0xf2bfb7(0x6dd)+_0x58d882[_0xf2bfb7(0x72c)]+_0xf2bfb7(0xc6a));let _0x107b41='';if(_0x58d882){if(_0x58d882[_0xf2bfb7(0xb1a)])_0x107b41+=_0xf2bfb7(0xb08);if(_0x58d882[_0xf2bfb7(0xa3c)])_0x107b41+=_0xf2bfb7(0x655);if(_0x58d882[_0xf2bfb7(0x8a1)])_0x107b41+=_0xf2bfb7(0x386);const _0x5b25d8=_0x58d882[_0xf2bfb7(0x561)];if(_0x5b25d8){const _0x3a7a55={'poll':'📊','cutOne':'✂️','insurance':_0xf2bfb7(0x82f),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0xf2bfb7(0x21c)};if(_0x3a7a55[_0x5b25d8])_0x107b41+='<span\x20title=\x22ใช้ไอเทม\x22>'+_0x3a7a55[_0x5b25d8]+_0xf2bfb7(0x27c);}}let _0x3d921a='';const _0x6c752a=_0x5f221a[_0xf2bfb7(0x55b)]||0x0,_0x26fcf2=_0x58d882&&_0x58d882[_0xf2bfb7(0x8a1)],_0x47e229=_0x58d882&&_0x58d882[_0xf2bfb7(0x561)]&&_0x58d882[_0xf2bfb7(0x561)]!==_0xf2bfb7(0xd1);!_0x519600&&_0x6c752a>=0x3&&!_0x26fcf2&&!_0x47e229&&(_0x3d921a+=_0xf2bfb7(0x376)+_0x6c752a+'</span>');if(!_0x519600&&_0x38566>0x0){if(_0x9dc43c){if(_0x4818c3===_0x445365&&_0x445365>0x0)_0x3d921a+=_0xf2bfb7(0x4c1);if(_0x26cc8c===_0x4b7d2c&&_0x4b7d2c>0x0)_0x3d921a+=_0xf2bfb7(0x377);}else{const _0x2c3b14=_0x5f221a[_0xf2bfb7(0xd53)]===_0x225610+0x1;if(_0x2c3b14)_0x3d921a+=_0xf2bfb7(0x401);}if(_0x3d921a===''&&_0x4818c3<0x0)_0x3d921a+=_0xf2bfb7(0x663);}let _0xc733a1=_0xf2bfb7(0xc61),_0xb33092=![],_0x35a7c1=![];if(!_0x519600){const _0x1d553e=(_0x5f221a[_0xf2bfb7(0x534)]||[])[_0xf2bfb7(0x48e)](_0x48e703=>_0x48e703[_0xf2bfb7(0xb87)]===_0x234501);if(_0x1d553e){const _0x4e7f7e=_0x1d553e['isCorrect'],_0x2cbb64=_0x1d553e[_0xf2bfb7(0x6f1)]===!![]||_0x1d553e[_0xf2bfb7(0x6f1)]===_0xf2bfb7(0xbea),_0xd9b78e=_0x1d553e['powerupUsed'];if(_0xd9b78e===_0xf2bfb7(0xd1))_0x4e7f7e?(_0xc733a1=_0xf2bfb7(0x618),_0xb33092=!![]):(_0xc733a1=_0xf2bfb7(0xe53),_0x35a7c1=!![]);else{if(_0x2cbb64)_0xc733a1=_0x4e7f7e?_0xf2bfb7(0xb73):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x4e7f7e&&(_0xc733a1=_0xf2bfb7(0xd04));}}}let _0x1b09a6='';const _0xf1ac22=_0x5f221a[_0xf2bfb7(0x190)],_0x89d956=_0x102c52[_0xf2bfb7(0x62a)][_0x5f221a[_0xf2bfb7(0x190)]]||'???',_0x121560=_0xf2bfb7(0xa1e),_0x1baf29=_0xf2bfb7(0x73b),_0x52e38a=_0xb33092?_0xf2bfb7(0x7a5):_0xf2bfb7(0x833);let _0x53b520='';const _0x51afb5=_0x4818c3>=0x0?'(+'+_0x4818c3[_0xf2bfb7(0x84e)]()+')':'('+_0x4818c3[_0xf2bfb7(0x84e)]()+')',_0x297069=_0xf2bfb7(0xc2f)+_0x26cc8c+_0xf2bfb7(0xb6f)+_0x51afb5+'\x20'+_0x3ce7cf+_0xf2bfb7(0x72d);if(_0x33b71a){if(_0x766cdf&&!_0x32c80d)_0x35a7c1?_0x1b09a6=_0xf2bfb7(0x9c7)+_0x121560+_0xf2bfb7(0x418)+_0xf1ac22+'\x20('+_0x89d956+_0xf2bfb7(0xd64)+_0x1baf29+'\x22>'+_0xf1ac22+_0xf2bfb7(0x9be)+_0x107b41+'\x20'+_0x3d921a+_0xf2bfb7(0x920)+_0x52e38a+_0xf2bfb7(0x29d)+_0x1baf29+_0xf2bfb7(0xc04)+_0x89d956+')</span></div>':_0x1b09a6=_0xf2bfb7(0x9c7)+_0x121560+_0xf2bfb7(0x418)+_0x89d956+_0xf2bfb7(0xcd4)+_0x1baf29+'\x22>'+_0x89d956+_0xf2bfb7(0x9be)+_0x107b41+'\x20'+_0x3d921a+_0xf2bfb7(0x6ae),_0x53b520=_0x297069;else{if(_0x766cdf&&_0x32c80d)_0x1b09a6='<div\x20style=\x22'+_0x121560+_0xf2bfb7(0x418)+_0xf1ac22+_0xf2bfb7(0xcd4)+_0x1baf29+'\x22>'+_0xf1ac22+_0xf2bfb7(0x9be)+_0x107b41+'\x20'+_0x3d921a+'<span\x20class=\x22block\x20text-sm\x20'+_0x52e38a+_0xf2bfb7(0x29d)+_0x1baf29+_0xf2bfb7(0xc04)+_0x89d956+_0xf2bfb7(0x6a4),_0x53b520=_0x297069;else _0x519600?(_0x1b09a6=_0xf2bfb7(0x9c7)+_0x121560+_0xf2bfb7(0x418)+_0xf1ac22+'\x22><span\x20style=\x22'+_0x1baf29+'\x22>'+_0xf1ac22+_0xf2bfb7(0x9be)+_0x107b41+'\x20'+_0x3d921a+_0xf2bfb7(0x6ae),_0x53b520=''):(_0x1b09a6=_0xf2bfb7(0x9c7)+_0x121560+_0xf2bfb7(0x418)+_0xf1ac22+'\x22><span\x20style=\x22'+_0x1baf29+'\x22>'+_0xf1ac22+_0xf2bfb7(0x9be)+_0x107b41+'\x20'+_0x3d921a+_0xf2bfb7(0x6ae),_0x53b520=_0x297069);}}return _0xf2bfb7(0xc78)+_0xc733a1+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+_0x5f221a[_0xf2bfb7(0xe89)]+_0xf2bfb7(0x82d)+_0x1b09a6+_0xf2bfb7(0x712)+_0x53b520+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3c4cd6(0x72e)](''),_0x52cf8a=_0x5c487f[_0x3c4cd6(0x141)]((_0x54cd5e,_0x52c7cd)=>{const _0x384b14=_0x3c4cd6;if(_0xe8dca&&_0x52c7cd>_0x234501||_0x519600)return'';const _0x2557d9=_0x1f8a59[_0x384b14(0x512)](_0x44eaca=>_0x44eaca[_0x384b14(0x534)]&&_0x44eaca[_0x384b14(0x534)][_0x384b14(0x48e)](_0x11b07e=>_0x11b07e[_0x384b14(0xb87)]===_0x52c7cd&&_0x11b07e['isCorrect']))[_0x384b14(0x34a)],_0x294423=_0x52c7cd===_0x234501,_0x59247d=_0x294423?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':'p-2\x20bg-black/10\x20rounded-md';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x59247d+_0x384b14(0x397)+(_0x52c7cd+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x2557d9+_0x384b14(0xc71)+_0x25da9c+_0x384b14(0xe7d);})[_0x3c4cd6(0x72e)]('');let _0x472a04='',_0x126328='';if(_0x33b71a){const _0x522ed7=_0x599312==='classic'&&_0x102c52[_0x3c4cd6(0x8cb)]>=_0x5c487f[_0x3c4cd6(0x34a)]-0x1,_0x37602b=_0xe8dca&&_0x102c52[_0x3c4cd6(0xa70)]>=_0x5c487f[_0x3c4cd6(0x34a)]-0x1,_0x204a33=_0x599312==='competition'&&_0x102c52[_0x3c4cd6(0x8cb)]>=_0x5c487f['length']-0x1,_0x50a7f9=_0x766cdf&&!_0xe8dca&&_0x102c52['currentQuestionIndex']>=_0x5c487f[_0x3c4cd6(0x34a)]-0x1;if(_0xe8dca)_0x37602b?_0x766cdf&&!_0x32c80d?_0x472a04=_0x3c4cd6(0x8cf):_0x472a04=_0x3c4cd6(0x734):_0x472a04='<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';else _0x522ed7||_0x204a33||_0x50a7f9?_0x766cdf&&!_0x32c80d?_0x472a04=_0x3c4cd6(0x8cf):_0x472a04=_0x3c4cd6(0x734):_0x472a04=_0x3c4cd6(0xe8e);_0x126328=_0x3c4cd6(0xae7);}const _0x5200e7=_0x519600||_0x766cdf&&!_0x102c52[_0x3c4cd6(0xc63)]?'':_0x3c4cd6(0x845)+_0x52cf8a+_0x3c4cd6(0x303),_0x52532e=_0x519600||_0x766cdf&&!_0x102c52[_0x3c4cd6(0xc63)]?_0x3c4cd6(0x809):_0x3c4cd6(0x6dc),_0xd58fe1=getCentralPotHTML(_0x102c52),_0x35529a=_0x3c4cd6(0x5cc)+_0x102c52['shuffledQuiz'][_0x3c4cd6(0xe36)]+_0x3c4cd6(0xeb)+_0x102c52[_0x3c4cd6(0xe12)]+_0x3c4cd6(0x5ba)+_0xd58fe1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x126328+_0x3c4cd6(0x864)+_0x29e33d+_0x3c4cd6(0x241)+_0x52532e+_0x3c4cd6(0xb22)+(_0x42f1b2||_0x3c4cd6(0x5fb))+_0x3c4cd6(0xd38)+_0x5200e7+_0x3c4cd6(0xbca)+(_0x33b71a?_0x3c4cd6(0xda3)+_0x472a04+_0x3c4cd6(0x6ae):'')+_0x3c4cd6(0x616);liveGameView[_0x3c4cd6(0x93e)]=_0x35529a;if(window[_0x3c4cd6(0x5e4)]){const _0x3dac9a=document['getElementById'](_0x3c4cd6(0x5e3));_0x3dac9a&&MathJax[_0x3c4cd6(0xd06)]([_0x3dac9a]);}if(_0x33b71a){const _0x502f26=document['getElementById'](_0x3c4cd6(0xd7b));_0x502f26&&(_0x502f26[_0x3c4cd6(0xc51)]=async()=>{const _0x417f23=_0x3c4cd6,_0x3233e9=doc(db,_0x417f23(0x331)+appId+_0x417f23(0x334),currentLiveGameId),_0x37d8da=_0x102c52['currentQuestionIndex']+0x1,_0x2d379b=_0x102c52['shuffledQuiz'][_0x417f23(0xdbf)][_0x417f23(0x34a)];!_0xe8dca&&_0x37d8da<_0x2d379b?await updateDoc(_0x3233e9,{'status':_0x417f23(0x4c0),'currentQuestionIndex':_0x37d8da,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x3233e9,{'status':_0x417f23(0x863)});});const _0x57e04f=document[_0x3c4cd6(0xccc)](_0x3c4cd6(0x8b2));_0x57e04f&&(_0x57e04f[_0x3c4cd6(0xc51)]=async()=>{const _0x6710cd=_0x3c4cd6,_0x469163=doc(db,_0x6710cd(0x331)+appId+_0x6710cd(0x334),currentLiveGameId);await updateDoc(_0x469163,{'reviewQuestionIndex':increment(0x1)});});document[_0x3c4cd6(0xccc)](_0x3c4cd6(0xc0c))?.[_0x3c4cd6(0x7d6)](_0x3c4cd6(0x343),async()=>{const _0x181456=_0x3c4cd6;await updateDoc(doc(db,_0x181456(0x331)+appId+'/public/data/syncGames',currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x473822=document[_0x3c4cd6(0xccc)]('end-sync-game-btn');_0x473822&&(_0x473822[_0x3c4cd6(0xc51)]=()=>{const _0x62193b=_0x3c4cd6;showConfirmation(_0x62193b(0x1f8),async()=>{const _0x51b7cb=_0x62193b;await updateDoc(doc(db,_0x51b7cb(0x331)+appId+_0x51b7cb(0x334),currentLiveGameId),{'status':_0x51b7cb(0x863)});});});}}async function handleGenerateParallelFromBank(_0x194430){const _0x198753=_0x157a22,_0x33554f=document[_0x198753(0xccc)]('results-tab-content'),_0x397894=document[_0x198753(0xccc)]('project-quizzes-list');_0x397894['classList'][_0x198753(0xcec)](_0x198753(0x9f0));const _0x3177ef=_0x198753(0x91f)+_0x194430[_0x198753(0xe36)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x33554f[_0x198753(0x97f)]('beforeend',_0x3177ef);const _0x500fcc=document[_0x198753(0xccc)](_0x198753(0x688));try{const _0x58e2fa=_0x194430['questions'][_0x198753(0x141)]((_0x2a2761,_0x2333c1)=>{const _0x80ab07=_0x198753;let _0xd6c6a2=_0x2333c1+0x1+'.\x20'+(_0x2a2761[_0x80ab07(0x885)]||_0x2a2761[_0x80ab07(0x6a8)])+'\x0a';if(_0x2a2761['options'])_0xd6c6a2+=_0x2a2761[_0x80ab07(0xaee)][_0x80ab07(0x141)]((_0x2e1dba,_0xf71ca5)=>'\x20\x20\x20-\x20'+(_0xf71ca5===_0x2a2761['correctAnswerIndex']?_0x80ab07(0x5c1):'')+'\x20'+_0x2e1dba)[_0x80ab07(0x72e)]('\x0a');else _0x2a2761[_0x80ab07(0x314)]&&(_0xd6c6a2+=_0x80ab07(0x849)+_0x2a2761['idealAnswer']);return _0xd6c6a2;})[_0x198753(0x72e)]('\x0a\x0a');_0x500fcc[_0x198753(0xc76)]=_0x198753(0x67e);const _0x4165bb=_0x198753(0xbfb)+_0x194430[_0x198753(0xe36)]+_0x198753(0x524)+_0x58e2fa+_0x198753(0x34f)+simpleMathPrompt+_0x198753(0xd81),_0x74abb={'type':_0x198753(0xd8a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x198753(0x685),'enum':[_0x198753(0x75f),_0x198753(0xb27),'true_false',_0x198753(0x283)]},'options':{'type':'ARRAY','items':{'type':_0x198753(0x685)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x198753(0x685)},'correctAnswer':{'type':_0x198753(0x3cb)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x198753(0x685)},'allResponses':{'type':_0x198753(0x83a),'items':{'type':_0x198753(0x685)}},'explanation':{'type':_0x198753(0x685)},'imageCode':{'type':_0x198753(0x685)}},'required':[_0x198753(0x36c),'explanation']},_0x3a671d={'type':'OBJECT','properties':{'topic':{'type':_0x198753(0x685)},'questions':{'type':'ARRAY','items':_0x74abb}},'required':[_0x198753(0xe36),_0x198753(0xdbf)]},_0x43101d=await callAnalysisApi(_0x4165bb,_0x3a671d),_0x4df7db=_0x43101d['questions'][_0x198753(0x141)]((_0x5ee487,_0x173d07)=>({..._0x5ee487,'id':'q_'+Date[_0x198753(0x338)]()+'_'+_0x173d07})),_0xb9dbc2=_0x198753(0x69d)+_0x194430[_0x198753(0xe36)],_0x5a3d82={'topic':_0xb9dbc2,'questions':_0x4df7db,'quizType':_0x194430[_0x198753(0x7fc)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x198753(0x2f9)](),'status':_0x198753(0x130),'settings':_0x194430[_0x198753(0x640)],'quizMode':_0x198753(0xc22),'pairedQuizId':null,'lessonPlan':null};let _0x24e88b;while(!![]){_0x24e88b=Math[_0x198753(0xc3c)](0x3e8+Math['random']()*0x2328)['toString']();const _0x30c3f2=await getDoc(doc(db,_0x198753(0x331)+appId+'/public/data/quizzes',_0x24e88b));if(!_0x30c3f2[_0x198753(0xc43)]())break;}await setDoc(doc(db,_0x198753(0x331)+appId+_0x198753(0x78d),_0x24e88b),_0x5a3d82),showMessage(_0x198753(0xc25));}catch(_0x4f7003){console['error'](_0x198753(0x1fb),_0x4f7003),showMessage(_0x198753(0x153)+_0x4f7003[_0x198753(0x267)]);}finally{const _0x45922f=document[_0x198753(0xccc)](_0x198753(0x335));_0x45922f&&_0x45922f[_0x198753(0x90e)](),_0x397894[_0x198753(0x807)][_0x198753(0x90e)]('hidden');}}async function handleGenerateParallelPostTest(_0x562b21){const _0x33eebe=_0x157a22,_0x3bd65a=document[_0x33eebe(0xccc)](_0x33eebe(0x167)),_0x3d43a9=document[_0x33eebe(0xccc)]('project-quizzes-list');_0x3d43a9['classList'][_0x33eebe(0xcec)](_0x33eebe(0x9f0));const _0x7ae7d3=_0x33eebe(0x439);_0x3bd65a[_0x33eebe(0x97f)](_0x33eebe(0xe2f),_0x7ae7d3);try{const _0x2c630b=_0x562b21[_0x33eebe(0xdbf)][_0x33eebe(0x141)]((_0x52e4b5,_0x3faf52)=>{const _0x42e380=_0x33eebe;let _0x441a0f=_0x3faf52+0x1+'.\x20'+(_0x52e4b5['questionText']||_0x52e4b5[_0x42e380(0x6a8)]);if(_0x52e4b5[_0x42e380(0xaee)])_0x441a0f+=_0x42e380(0x4c2)+_0x52e4b5[_0x42e380(0xaee)][_0x42e380(0x72e)](',\x20');return _0x441a0f;})[_0x33eebe(0x72e)]('\x0a\x0a'),_0x422793=_0x33eebe(0xe71)+_0x562b21[_0x33eebe(0xe36)]+_0x33eebe(0x1f7)+_0x2c630b+_0x33eebe(0x1d0)+simpleMathPrompt+_0x33eebe(0xd81),_0x29c9e6={'type':_0x33eebe(0xd8a),'properties':{'topic':{'type':_0x33eebe(0x685)},'questions':{'type':_0x33eebe(0x83a),'items':{'type':_0x33eebe(0xd8a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x33eebe(0x685)},'options':{'type':_0x33eebe(0x83a),'items':{'type':_0x33eebe(0x685)}},'correctAnswerIndex':{'type':_0x33eebe(0x96f)},'idealAnswer':{'type':_0x33eebe(0x685)},'explanation':{'type':_0x33eebe(0x685)}},'required':[_0x33eebe(0x885),_0x33eebe(0x928)]}}},'required':[_0x33eebe(0xe36),'questions']},_0x4b7b73=await callAnalysisApi(_0x422793,_0x29c9e6),_0x39149c=_0x562b21[_0x33eebe(0xe36)][_0x33eebe(0xb64)](_0x33eebe(0x44e),'')[_0x33eebe(0x6b3)](),_0x1f9296=_0x33eebe(0x270)+_0x39149c,_0x1fc099={..._0x4b7b73,'topic':_0x1f9296,'quizType':_0x562b21[_0x33eebe(0x7fc)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x33eebe(0x2f9)](),'status':_0x33eebe(0x130),'settings':_0x562b21['settings'],'quizMode':'post-test','pairedQuizId':_0x562b21['id']};let _0x5c7e13;while(!![]){_0x5c7e13=Math[_0x33eebe(0xc3c)](0x3e8+Math[_0x33eebe(0x373)]()*0x2328)['toString']();const _0x3f51f5=await getDoc(doc(db,'artifacts/'+appId+_0x33eebe(0x78d),_0x5c7e13));if(!_0x3f51f5[_0x33eebe(0xc43)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5c7e13),_0x1fc099);const _0x296e91=doc(db,_0x33eebe(0x331)+appId+_0x33eebe(0x78d),_0x562b21['id']);await updateDoc(_0x296e91,{'pairedQuizId':_0x5c7e13}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x17213d){console['error'](_0x33eebe(0x102),_0x17213d),showMessage(_0x33eebe(0x153)+_0x17213d[_0x33eebe(0x267)]);}finally{const _0x126b74=document[_0x33eebe(0xccc)](_0x33eebe(0x335));if(_0x126b74)_0x126b74[_0x33eebe(0x90e)]();_0x3d43a9[_0x33eebe(0x807)][_0x33eebe(0x90e)](_0x33eebe(0x9f0));}}async function handleGenerateParallelTest(_0x3bf89e=null){const _0x38a6d6=_0x157a22;let _0x3d945d=_0x3bf89e;if(!_0x3d945d){const _0x3f7807=document[_0x38a6d6(0xccc)](_0x38a6d6(0x38a));_0x3f7807[_0x38a6d6(0x9ea)][_0x38a6d6(0x34a)]>0x0&&(_0x3d945d=_0x3f7807[_0x38a6d6(0x9ea)][0x0]);}if(!_0x3d945d){showMessage(_0x38a6d6(0x992));return;}const _0x5309c3=document[_0x38a6d6(0xccc)]('loader'),_0x47bd51=document[_0x38a6d6(0xccc)](_0x38a6d6(0x38f)),_0x391416=document[_0x38a6d6(0xccc)](_0x38a6d6(0x4b1)),_0x269d5f=document[_0x38a6d6(0xccc)]('generate-from-parallel-test-btn');_0x269d5f[_0x38a6d6(0x7ef)]=!![],document[_0x38a6d6(0xccc)]('quiz-generation-area')[_0x38a6d6(0x807)][_0x38a6d6(0x90e)](_0x38a6d6(0x9f0)),_0x391416[_0x38a6d6(0x93e)]='',_0x5309c3[_0x38a6d6(0x807)][_0x38a6d6(0x90e)](_0x38a6d6(0x9f0)),_0x47bd51[_0x38a6d6(0xc76)]=_0x38a6d6(0x5a6);const _0x297885=new FileReader();_0x297885[_0x38a6d6(0xc7e)](_0x3d945d),_0x297885['onload']=async()=>{const _0x3c50c1=_0x38a6d6;try{const _0x166a2f=_0x297885[_0x3c50c1(0x1c8)][_0x3c50c1(0x9ae)](',')[0x1],_0x16ba8e=_0x3d945d[_0x3c50c1(0xd10)];_0x47bd51[_0x3c50c1(0xc76)]=_0x3c50c1(0xc67);const _0x203832=document[_0x3c50c1(0xccc)](_0x3c50c1(0xd7d))['checked'],_0x12e02f=_0x203832?_0x3c50c1(0x87f):'',_0x2a7bd1=_0x3c50c1(0x294),_0x3af99e={'type':_0x3c50c1(0xd8a),'properties':{'questionText':{'type':_0x3c50c1(0x685)},'questionType':{'type':_0x3c50c1(0x685),'enum':[_0x3c50c1(0x75f),_0x3c50c1(0xb27)]},'options':{'type':_0x3c50c1(0x83a),'items':{'type':_0x3c50c1(0x685)}},'correctAnswerIndex':{'type':_0x3c50c1(0x96f)},'idealAnswer':{'type':_0x3c50c1(0x685)},'explanation':{'type':_0x3c50c1(0x685)},'imageCode':{'type':_0x3c50c1(0x685)}},'required':[_0x3c50c1(0x885),_0x3c50c1(0x36c),_0x3c50c1(0x928)]},_0x563abc={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3c50c1(0x83a),'items':_0x3af99e}},'required':[_0x3c50c1(0xe36),'questions']},_0x5d780e=[{'text':_0x2a7bd1},{'inlineData':{'mimeType':_0x16ba8e,'data':_0x166a2f}}];await handleApiCall(_0x5d780e,_0x3c50c1(0x76d),_0x563abc);}catch(_0x437fae){console[_0x3c50c1(0xada)](_0x3c50c1(0x12a),_0x437fae),showMessage('เกิดข้อผิดพลาด:\x20'+_0x437fae[_0x3c50c1(0x267)]),_0x391416['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x5309c3['classList'][_0x3c50c1(0xcec)]('hidden'),_0x269d5f[_0x3c50c1(0x7ef)]=![];}},_0x297885[_0x38a6d6(0x26d)]=_0x3ba735=>{const _0x58a05d=_0x38a6d6;console[_0x58a05d(0xada)](_0x58a05d(0x2f0),_0x3ba735),showMessage(_0x58a05d(0x982)),_0x5309c3['classList']['add'](_0x58a05d(0x9f0)),_0x269d5f[_0x58a05d(0x7ef)]=![];};}async function handleRegenerateQuestionInEditor(_0x3dcde7){const _0x54f0ca=_0x157a22;if(currentEditingQuizData===null)return;const _0x5b5134=document['querySelector'](_0x54f0ca(0x8f0)+_0x3dcde7+'\x22]');_0x5b5134&&(_0x5b5134[_0x54f0ca(0x93e)]=_0x54f0ca(0x9a6));const _0xfd8e0c=currentEditingQuizData[_0x54f0ca(0xdbf)][_0x3dcde7],_0xb131ad=currentEditingQuizData[_0x54f0ca(0xe36)],_0x3a503a=_0xfd8e0c['questionType'],_0x1ed3bf={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x54f0ca(0x685)}},'correctAnswerIndex':{'type':_0x54f0ca(0x96f)},'explanation':{'type':_0x54f0ca(0x685)}},'required':[_0x54f0ca(0x885),_0x54f0ca(0xaee),_0x54f0ca(0x2bd),_0x54f0ca(0x928)]},_0x4efdb3={'type':_0x54f0ca(0xd8a),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x54f0ca(0x885),_0x54f0ca(0x314),_0x54f0ca(0x928)]};let _0x39aea6,_0x4c07b8='';_0x3a503a==='multiple_choice'?(_0x39aea6=_0x1ed3bf,_0x4c07b8='แบบปรนัย\x204\x20ตัวเลือก'):(_0x39aea6=_0x4efdb3,_0x4c07b8=_0x54f0ca(0xc0b));const _0x3d7aec=_0x54f0ca(0xafd)+_0xb131ad+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x4c07b8+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0xfd8e0c[_0x54f0ca(0x885)]||_0xfd8e0c[_0x54f0ca(0x6a8)])+_0x54f0ca(0x672)+simpleMathPrompt;try{const _0x2cd4b7=await callAnalysisApi(_0x3d7aec,_0x39aea6);currentEditingQuizData['questions'][_0x3dcde7]={..._0xfd8e0c,..._0x2cd4b7},renderQuizEditor(currentEditingQuizData);}catch(_0x547104){console['error'](_0x54f0ca(0xcb3),_0x547104),showMessage(_0x54f0ca(0x24b)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x342801=_0x157a22,_0x4ac5e5=document[_0x342801(0xccc)](_0x342801(0x972));currentMode==='student'?(currentMode=_0x342801(0x140),_0x4ac5e5[_0x342801(0x93e)]=_0x342801(0x263),_0x4ac5e5['title']=_0x342801(0x669),showView('admin-dashboard')):(currentMode=_0x342801(0x213),_0x4ac5e5[_0x342801(0x93e)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x4ac5e5[_0x342801(0xbd0)]=_0x342801(0xd77),showView(_0x342801(0x213)));}function handleAdminLogin(){const _0x237e42=_0x157a22,_0x232c84=document[_0x237e42(0xccc)](_0x237e42(0xb35)),_0x4935a3=document[_0x237e42(0xccc)](_0x237e42(0x4c7));if(_0x232c84[_0x237e42(0xa9f)]===_0x237e42(0x9db)){adminPasswordModal[_0x237e42(0x807)]['add'](_0x237e42(0x9f0)),_0x232c84['value']='',_0x4935a3[_0x237e42(0x807)][_0x237e42(0xcec)](_0x237e42(0x9f0)),currentMode=_0x237e42(0x140);const _0x4eae2b=document[_0x237e42(0xccc)](_0x237e42(0x972));_0x4eae2b[_0x237e42(0x93e)]=_0x237e42(0x263),_0x4eae2b[_0x237e42(0xbd0)]='สลับไปโหมดนักเรียน',showView(_0x237e42(0x5d3));}else _0x4935a3[_0x237e42(0x807)][_0x237e42(0x90e)](_0x237e42(0x9f0)),_0x232c84['value']='';}function switchProjectTab(_0x385398){const _0x40c325=_0x157a22;[_0x40c325(0x9e7),_0x40c325(0xaca),_0x40c325(0x56f)]['forEach'](_0x564f52=>{const _0x2774ba=_0x40c325;document[_0x2774ba(0xccc)](_0x564f52+_0x2774ba(0x808))[_0x2774ba(0x807)][_0x2774ba(0x90e)](_0x2774ba(0x130)),document[_0x2774ba(0xccc)](_0x564f52+_0x2774ba(0x902))[_0x2774ba(0x807)]['add'](_0x2774ba(0x9f0));}),document[_0x40c325(0xccc)](_0x385398+_0x40c325(0x808))[_0x40c325(0x807)][_0x40c325(0xcec)](_0x40c325(0x130)),document['getElementById'](_0x385398+_0x40c325(0x902))[_0x40c325(0x807)][_0x40c325(0x90e)](_0x40c325(0x9f0));}function switchQuizDetailTab(_0x4799e6){const _0x27d80d=_0x157a22,_0x14ec63={'analytics':{'btn':_0x27d80d(0x607),'content':'analytics-tab-content'},'scores':{'btn':'scores-tab-btn','content':_0x27d80d(0x8f6)},'leaderboard-quiz':{'btn':_0x27d80d(0x5ec),'content':_0x27d80d(0x33f)},'behavior-log':{'btn':_0x27d80d(0x768),'content':'behavior-log-tab-content'}};for(const _0x140502 in _0x14ec63){document['getElementById'](_0x14ec63[_0x140502]['btn'])[_0x27d80d(0x807)]['remove'](_0x27d80d(0x130)),document[_0x27d80d(0xccc)](_0x14ec63[_0x140502][_0x27d80d(0xd32)])[_0x27d80d(0x807)][_0x27d80d(0xcec)](_0x27d80d(0x9f0));}document[_0x27d80d(0xccc)](_0x14ec63[_0x4799e6][_0x27d80d(0xc2e)])[_0x27d80d(0x807)][_0x27d80d(0xcec)](_0x27d80d(0x130)),document['getElementById'](_0x14ec63[_0x4799e6][_0x27d80d(0xd32)])['classList'][_0x27d80d(0x90e)](_0x27d80d(0x9f0));}function showMessage(_0x159f7b,_0x2ba2ec=null){const _0x58bb34=_0x157a22;modalMessage[_0x58bb34(0x93e)]=_0x159f7b['replace'](/\n/g,_0x58bb34(0x988)),modalConfirmAction=_0x2ba2ec,messageModal[_0x58bb34(0x807)][_0x58bb34(0x90e)]('hidden');}function showConfirmation(_0x389fba,_0x2cf326,_0x250f66=null){const _0x510585=_0x157a22;document[_0x510585(0xccc)](_0x510585(0x4bc))['textContent']=_0x389fba,document[_0x510585(0xccc)](_0x510585(0x59b))['querySelector']('h3')[_0x510585(0xc76)]=_0x510585(0x739),confirmAction=_0x2cf326,cancelAction=_0x250f66,confirmationModal[_0x510585(0x807)][_0x510585(0x90e)](_0x510585(0x9f0));}function listenForProjects(){const _0x3193aa=_0x157a22,_0x2587fa=doc(db,_0x3193aa(0x7e7),'dashboardConfig');onSnapshot(_0x2587fa,_0x176326=>{const _0xfb38c8=_0x3193aa;if(_0x176326[_0xfb38c8(0xc43)]()){const _0x5c97db=_0x176326[_0xfb38c8(0xd60)]();globalDashboardSettings[_0xfb38c8(0x9c3)]=_0x5c97db[_0xfb38c8(0x9c3)]||_0xfb38c8(0x36e),globalDashboardSettings[_0xfb38c8(0x51d)]=_0x5c97db[_0xfb38c8(0x51d)]||[],globalDashboardSettings[_0xfb38c8(0x2e4)]=_0x5c97db['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x2b72c5=collection(db,_0x3193aa(0x331)+appId+_0x3193aa(0x21d));unsubscribeProjectsListener=onSnapshot(_0x2b72c5,_0xffbd73=>{const _0x113f67=_0x3193aa;allProjects=_0xffbd73[_0x113f67(0xbe9)][_0x113f67(0x141)](_0x322955=>({'id':_0x322955['id'],..._0x322955[_0x113f67(0xd60)]()})),renderProjects();},_0x2b3da2=>{const _0x1d9eb6=_0x3193aa;console[_0x1d9eb6(0xada)](_0x1d9eb6(0x30b),_0x2b3da2),showMessage(_0x1d9eb6(0xe0d));});}function showColorPalette(_0xe9893f,_0x539134){const _0x3023f7=_0x157a22;document['querySelectorAll'](_0x3023f7(0x6d0))[_0x3023f7(0x8f9)](_0x11a30e=>_0x11a30e[_0x3023f7(0x90e)]());const _0x55c6ea=['#FFFFFF','#FEE2E2',_0x3023f7(0xabf),_0x3023f7(0x29b),'#DBEAFE',_0x3023f7(0xdfa),_0x3023f7(0xb3b),'#FCE7F3','#E5E7EB'],_0x510232=document[_0x3023f7(0xd4f)](_0x3023f7(0xcd3));_0x510232['className']=_0x3023f7(0x4e8),_0x55c6ea['forEach'](_0x2b81f6=>{const _0xf592b2=_0x3023f7,_0x512435=document[_0xf592b2(0xd4f)](_0xf592b2(0xcd3));_0x512435[_0xf592b2(0x984)]=_0xf592b2(0x6cc),_0x512435['style'][_0xf592b2(0x81a)]=_0x2b81f6,_0x512435[_0xf592b2(0x7d6)](_0xf592b2(0x343),()=>{const _0x1a379d=_0xf592b2;handleProjectColorChange(_0x539134,_0x2b81f6),_0x510232[_0x1a379d(0x90e)]();}),_0x510232[_0xf592b2(0xb18)](_0x512435);}),document[_0x3023f7(0x95a)][_0x3023f7(0xb18)](_0x510232);const _0x463507=_0xe9893f['getBoundingClientRect']();_0x510232[_0x3023f7(0xb74)][_0x3023f7(0xf5)]=_0x463507[_0x3023f7(0x46f)]+window[_0x3023f7(0x448)]+'px',_0x510232[_0x3023f7(0xb74)][_0x3023f7(0xdc)]=_0x463507[_0x3023f7(0xdc)]+window[_0x3023f7(0xb45)]-_0x510232[_0x3023f7(0x662)]/0x2+'px';}async function handleProjectColorChange(_0x5e1de6,_0x18a32c){const _0x31a0d1=_0x157a22,_0x93b432=doc(db,'artifacts/'+appId+_0x31a0d1(0x21d),_0x5e1de6);try{await updateDoc(_0x93b432,{'color':_0x18a32c});}catch(_0x12267d){console['error'](_0x31a0d1(0x6c2),_0x12267d),showMessage(_0x31a0d1(0x679));}}async function renderProjects(){const _0x649f8d=_0x157a22,_0x2ed008=globalDashboardSettings[_0x649f8d(0x9c3)]||_0x649f8d(0x36e),_0x264432=new Set(globalDashboardSettings[_0x649f8d(0x51d)]||[]),_0x1b050c=globalDashboardSettings[_0x649f8d(0x5bf)]||'grid',_0x31a514=document[_0x649f8d(0xccc)](_0x649f8d(0x9b7)),_0x46e081=document[_0x649f8d(0xccc)]('list-view-btn');_0x31a514['classList'][_0x649f8d(0x9e5)]('active',_0x1b050c===_0x649f8d(0x799)),_0x46e081[_0x649f8d(0x807)][_0x649f8d(0x9e5)](_0x649f8d(0x130),_0x1b050c===_0x649f8d(0x1d8)),document[_0x649f8d(0xccc)](_0x649f8d(0xa81))[_0x649f8d(0xa9f)]=_0x2ed008;const _0x160847=document[_0x649f8d(0xccc)](_0x649f8d(0xdeb))[_0x649f8d(0xa9f)][_0x649f8d(0x8e9)]();let _0x2fb735=allProjects[_0x649f8d(0x512)](_0x553b17=>_0x553b17[_0x649f8d(0x284)][_0x649f8d(0x8e9)]()['includes'](_0x160847));const _0xbfb5d6=_0x2fb735[_0x649f8d(0x512)](_0xa34d1b=>_0x264432[_0x649f8d(0x867)](_0xa34d1b['id'])),_0x47f820=_0x2fb735[_0x649f8d(0x512)](_0x2dcf23=>!_0x264432[_0x649f8d(0x867)](_0x2dcf23['id'])),_0x2d1f68=(_0x18ec3d,_0x3e0fd1)=>{const _0x40e0ba=_0x649f8d;switch(_0x2ed008){case _0x40e0ba(0x7cc):return _0x18ec3d['projectName']['localeCompare'](_0x3e0fd1[_0x40e0ba(0x284)],'th');case _0x40e0ba(0xbb3):return _0x3e0fd1[_0x40e0ba(0x284)][_0x40e0ba(0x2ef)](_0x18ec3d[_0x40e0ba(0x284)],'th');case _0x40e0ba(0x324):return new Date(_0x18ec3d['createdAt'])-new Date(_0x3e0fd1['createdAt']);default:return new Date(_0x3e0fd1[_0x40e0ba(0x20c)])-new Date(_0x18ec3d[_0x40e0ba(0x20c)]);}};_0xbfb5d6['sort'](_0x2d1f68),_0x47f820['sort'](_0x2d1f68);const _0x18e657=[..._0xbfb5d6,..._0x47f820],_0x538c6e=globalDashboardSettings[_0x649f8d(0x2e4)]||[];_0x538c6e[_0x649f8d(0x34a)]>0x0&&_0x1b050c==='grid'&&_0x18e657[_0x649f8d(0x4b3)]((_0x2e4819,_0x3f41f0)=>{const _0x5d4642=_0x649f8d,_0x3a9d98=_0x538c6e[_0x5d4642(0x971)](_0x2e4819['id']),_0x5a5ad5=_0x538c6e[_0x5d4642(0x971)](_0x3f41f0['id']);if(_0x3a9d98===-0x1)return 0x1;if(_0x5a5ad5===-0x1)return-0x1;return _0x3a9d98-_0x5a5ad5;});const _0x322c7a={};await Promise[_0x649f8d(0x3d5)](_0x18e657[_0x649f8d(0x141)](async _0x3fd0f6=>{const _0x5817f0=_0x649f8d,_0x4f942a=query(collection(db,_0x5817f0(0x331)+appId+'/public/data/quizzes'),where(_0x5817f0(0x737),'==',_0x3fd0f6['id'])),_0xb17e3c=await getCountFromServer(_0x4f942a);_0x322c7a[_0x3fd0f6['id']]=_0xb17e3c['data']()['count'];}));const _0x88f1b2=document['getElementById'](_0x649f8d(0xb67));let _0x3c7ceb='';if(_0x1b050c==='grid'){_0x88f1b2['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x649f8d(0x34a)]>0x0&&_0x160847===''){const _0x16942a=starredQuizzes['map'](_0x4d74d1=>{const _0x5ecbf8=_0x649f8d,_0x1c2dce=allProjects[_0x5ecbf8(0x48e)](_0x4ec26f=>_0x4ec26f['id']===_0x4d74d1[_0x5ecbf8(0x737)]);return{..._0x4d74d1,'projectName':_0x1c2dce?_0x1c2dce[_0x5ecbf8(0x284)]:'N/A'};});_0x3c7ceb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16942a[_0x649f8d(0x141)](_0x50d50b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x50d50b['topic']+'\x22>'+_0x50d50b['topic']+_0x649f8d(0x821)+_0x50d50b[_0x649f8d(0x284)]+_0x649f8d(0xc27)+_0x50d50b[_0x649f8d(0x284)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x649f8d(0x72e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes['length']+_0x649f8d(0xd54);}_0x18e657['forEach'](_0x432578=>{const _0x4455bf=_0x649f8d,_0x1eb9ce=_0x322c7a[_0x432578['id']]??0x0,_0x269847=_0x264432[_0x4455bf(0x867)](_0x432578['id']),_0x59e0d5=_0x432578[_0x4455bf(0xb80)]||_0x4455bf(0x1e6),_0x22ecb4=parseInt(_0x59e0d5['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x59e0d5['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x59e0d5[_0x4455bf(0x500)](0x5,0x7),0x10)*0.114<0xba,_0x256bb8=_0x22ecb4?_0x4455bf(0xc7a):_0x4455bf(0x3d1),_0x56acf1=_0x22ecb4?_0x4455bf(0x1ce):_0x4455bf(0x9bd);_0x3c7ceb+=_0x4455bf(0x1da)+(_0x269847?_0x4455bf(0xbb5):_0x4455bf(0x123))+_0x4455bf(0x2c2)+_0x59e0d5+';\x22\x20data-id=\x22'+_0x432578['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x432578['id']+_0x4455bf(0x2f7)+(_0x22ecb4?_0x4455bf(0x2a7):_0x4455bf(0xd82))+_0x4455bf(0x93d)+_0x432578['id']+_0x4455bf(0x887)+(_0x22ecb4?_0x4455bf(0x2a7):_0x4455bf(0xd82))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x269847?_0x22ecb4?_0x4455bf(0x60d):_0x4455bf(0xdf8):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x432578['id']+_0x4455bf(0x57d)+_0x256bb8+_0x4455bf(0x784)+_0x432578[_0x4455bf(0x284)]+_0x4455bf(0xb32)+_0x56acf1+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x432578[_0x4455bf(0x20c)])[_0x4455bf(0xa92)](_0x4455bf(0x31e))+_0x4455bf(0x374)+(_0x22ecb4?_0x4455bf(0x359):_0x4455bf(0xd75))+_0x4455bf(0xdfd)+_0x1eb9ce+_0x4455bf(0x837)+_0x432578['id']+'\x22\x20data-name=\x22'+_0x432578[_0x4455bf(0x284)]+_0x4455bf(0x5dc)+(_0x22ecb4?_0x4455bf(0x882):_0x4455bf(0x3d4))+_0x4455bf(0x234);});}else _0x88f1b2['className']=_0x649f8d(0x745),starredQuizzes['length']>0x0&&_0x160847===''&&(_0x3c7ceb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x649f8d(0x34a)]+_0x649f8d(0xac3)),_0x3c7ceb+=_0x649f8d(0x586),_0x18e657['forEach'](_0x26dce9=>{const _0x269905=_0x649f8d,_0x1bcaac=_0x322c7a[_0x26dce9['id']]??0x0,_0x4c5638=_0x264432['has'](_0x26dce9['id']);_0x3c7ceb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x26dce9[_0x269905(0xb80)]||_0x269905(0xa29))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x26dce9['id']+_0x269905(0x598)+_0x26dce9['projectName']+_0x269905(0xe26)+_0x1bcaac+_0x269905(0x874)+new Date(_0x26dce9[_0x269905(0x20c)])[_0x269905(0x84e)](_0x269905(0x31e))+_0x269905(0xbf0)+_0x26dce9['id']+_0x269905(0xf0)+(_0x4c5638?_0x269905(0xdf8):'')+_0x269905(0xd02)+_0x26dce9['id']+_0x269905(0xe47)+_0x26dce9[_0x269905(0x284)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});_0x88f1b2[_0x649f8d(0x93e)]=_0x3c7ceb,noProjectsMsg[_0x649f8d(0x807)][_0x649f8d(0x9e5)](_0x649f8d(0x9f0),_0x3c7ceb[_0x649f8d(0x34a)]>0x0);}document['getElementById'](_0x157a22(0x621))[_0x157a22(0x7d6)]('click',async()=>{const _0x110bc8=_0x157a22,_0x2f3d06=document[_0x110bc8(0xccc)](_0x110bc8(0xb72)),_0x32a3ac=_0x2f3d06['value']['trim']();if(!_0x32a3ac){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x2569a6=doc(collection(db,_0x110bc8(0x331)+appId+'/public/data/projects'));await setDoc(_0x2569a6,{'projectName':_0x32a3ac,'students':[],'settings':{'resultsDisplay':_0x110bc8(0xc8b),'shuffleSetting':_0x110bc8(0x80b),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x110bc8(0x80b),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x110bc8(0x2f9)]()}),_0x2f3d06[_0x110bc8(0xa9f)]='',createProjectModal[_0x110bc8(0x807)][_0x110bc8(0xcec)]('hidden'),showMessage(_0x110bc8(0x699));}catch(_0x56bd5c){console[_0x110bc8(0xada)](_0x110bc8(0x5b6),_0x56bd5c),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x157a22(0x343),async _0x35bcec=>{const _0x1f3b8b=_0x157a22,_0x6755da=_0x35bcec[_0x1f3b8b(0xc55)][_0x1f3b8b(0x43a)](_0x1f3b8b(0xb78)),_0x2fade9=_0x35bcec[_0x1f3b8b(0xc55)][_0x1f3b8b(0x43a)](_0x1f3b8b(0xb71)),_0x59ef25=_0x35bcec[_0x1f3b8b(0xc55)][_0x1f3b8b(0x43a)](_0x1f3b8b(0xe43)),_0xcaba35=_0x35bcec[_0x1f3b8b(0xc55)][_0x1f3b8b(0x43a)](_0x1f3b8b(0x379));if(_0x59ef25){const _0x33f4bb=_0x59ef25['dataset']['id'],_0x1cb687=doc(db,_0x1f3b8b(0x7e7),_0x1f3b8b(0x5ce)),_0xd95d42=globalDashboardSettings['pinnedProjects'];let _0x522aa8;_0xd95d42[_0x1f3b8b(0x9e3)](_0x33f4bb)?_0x522aa8=_0xd95d42['filter'](_0x22a1c8=>_0x22a1c8!==_0x33f4bb):_0x522aa8=[..._0xd95d42,_0x33f4bb];try{await setDoc(_0x1cb687,{'pinnedProjects':_0x522aa8},{'merge':!![]});}catch(_0x92aafe){console[_0x1f3b8b(0xada)]('Error\x20updating\x20pin\x20status:',_0x92aafe),showMessage(_0x1f3b8b(0x9cf));}}else{if(_0xcaba35){const _0x1fcd25=_0xcaba35[_0x1f3b8b(0x87a)]['id'];showColorPalette(_0xcaba35,_0x1fcd25);}else{if(_0x6755da){const _0x3c51ee=_0x6755da[_0x1f3b8b(0x87a)]['id'];_0x3c51ee==='starred-project'?showStarredProjectView():(currentProjectId=_0x3c51ee,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x2fade9){const _0x58558d=_0x2fade9['dataset']['id'],_0x5483c9=_0x2fade9[_0x1f3b8b(0x87a)][_0x1f3b8b(0x190)];showConfirmation(_0x1f3b8b(0x8a8)+_0x5483c9+_0x1f3b8b(0xc64),()=>handleDeleteProject(_0x58558d));}}}}}),projectList['addEventListener'](_0x157a22(0xe19),_0x316adb=>{const _0x47e602=_0x157a22,_0x48491b=_0x316adb[_0x47e602(0xc55)][_0x47e602(0x43a)](_0x47e602(0x1b8));_0x48491b&&_0x48491b[_0x47e602(0x807)][_0x47e602(0xcec)](_0x47e602(0xd58));}),projectList['addEventListener']('dragend',_0x393a9a=>{const _0x5926d7=_0x157a22,_0x1d4fda=_0x393a9a[_0x5926d7(0xc55)][_0x5926d7(0x43a)](_0x5926d7(0x1b8));_0x1d4fda&&_0x1d4fda[_0x5926d7(0x807)][_0x5926d7(0x90e)](_0x5926d7(0xd58));}),projectList[_0x157a22(0x7d6)](_0x157a22(0x74b),_0x112846=>{const _0x157770=_0x157a22;_0x112846[_0x157770(0x54c)]();const _0x237a46=document[_0x157770(0xdd0)](_0x157770(0x3fa));if(!_0x237a46)return;const _0x529359=getDragAfterElement(projectList,_0x112846[_0x157770(0x950)]);_0x529359==null?projectList[_0x157770(0xb18)](_0x237a46):projectList[_0x157770(0xbe2)](_0x237a46,_0x529359);}),projectList[_0x157a22(0x7d6)]('drop',_0x728b90=>{const _0x963f2c=_0x157a22;_0x728b90['preventDefault']();const _0x543f97=[...projectList['querySelectorAll'](_0x963f2c(0xc02))][_0x963f2c(0x141)](_0x1cd7ec=>_0x1cd7ec['dataset']['id']);saveProjectOrder(_0x543f97);});function renderBehaviorLog(_0x3dff83){const _0x18a859=_0x157a22,_0x2a8fc0=document[_0x18a859(0xccc)]('behavior-log-container');if(!_0x2a8fc0)return;const _0xf0129a=_0x3dff83[_0x18a859(0x512)](_0x2637ee=>_0x2637ee[_0x18a859(0x42d)]&&_0x2637ee[_0x18a859(0x42d)][_0x18a859(0x34a)]>0x0);if(_0xf0129a[_0x18a859(0x34a)]===0x0){_0x2a8fc0['innerHTML']=_0x18a859(0xdf7);return;}let _0x326a92='';_0xf0129a[_0x18a859(0x8f9)](_0x2cdf8f=>{const _0x5beb1a=_0x18a859;_0x326a92+=_0x5beb1a(0x771)+_0x2cdf8f[_0x5beb1a(0x894)]+_0x5beb1a(0x8c6),_0x2cdf8f[_0x5beb1a(0x42d)][_0x5beb1a(0x4b3)]((_0x4b9ee1,_0x34010f)=>new Date(_0x34010f['timestamp'])-new Date(_0x4b9ee1[_0x5beb1a(0xe60)]))['forEach'](_0x1051e3=>{const _0xf1d55e=_0x5beb1a,_0x25310b=new Date(_0x1051e3[_0xf1d55e(0xe60)])['toLocaleString']('th-TH',{'dateStyle':_0xf1d55e(0xe7b),'timeStyle':'medium'});_0x326a92+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x1051e3['attemptNumber']+_0xf1d55e(0x9ee)+_0x25310b+_0xf1d55e(0x98d);}),_0x326a92+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2a8fc0[_0x18a859(0x93e)]=_0x326a92;}function getDragAfterElement(_0x2c82de,_0x52cdc7){const _0xd20f7=_0x157a22,_0x27d15d=[..._0x2c82de[_0xd20f7(0x5f0)](_0xd20f7(0x7e2))];return _0x27d15d[_0xd20f7(0xc59)]((_0x59a43b,_0x2e1150)=>{const _0x5b9da8=_0xd20f7,_0xa67fd1=_0x2e1150[_0x5b9da8(0x836)](),_0x286861=_0x52cdc7-_0xa67fd1[_0x5b9da8(0xf5)]-_0xa67fd1['height']/0x2;return _0x286861<0x0&&_0x286861>_0x59a43b['offset']?{'offset':_0x286861,'element':_0x2e1150}:_0x59a43b;},{'offset':Number['NEGATIVE_INFINITY']})[_0xd20f7(0x46e)];}async function saveProjectOrder(_0x5c72bf){const _0x106343=_0x157a22,_0x25bd3e=doc(db,_0x106343(0x7e7),_0x106343(0x5ce));try{await setDoc(_0x25bd3e,{'projectOrder':_0x5c72bf},{'merge':!![]});}catch(_0x4fcac0){console[_0x106343(0xada)](_0x106343(0x1f6),_0x4fcac0),showMessage(_0x106343(0x66b));}}async function logBehaviorEvent(_0x3c353e,_0x4d6b66={}){const _0x471d3f=_0x157a22;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x471d3f(0x735)](_0x471d3f(0x4bf));return;}const _0x3c0b45=doc(db,_0x471d3f(0x331)+appId+_0x471d3f(0xe48)+currentQuizData['id']+'/submissions',currentStudentName),_0x59bf83={'event':_0x3c353e,'timestamp':new Date()[_0x471d3f(0x2f9)](),..._0x4d6b66};try{await updateDoc(_0x3c0b45,{'behaviorLog':arrayUnion(_0x59bf83)}),console['log'](_0x471d3f(0x227)+currentStudentName+_0x471d3f(0xd74));}catch(_0x4e894f){_0x4e894f[_0x471d3f(0x2ee)]==='not-found'?console[_0x471d3f(0x735)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x471d3f(0xb07)):console[_0x471d3f(0xada)](_0x471d3f(0xa62),_0x4e894f);}}function getScoreTier(_0x56a788,_0x5a590f){const _0x4c1643=_0x157a22;if(_0x5a590f===0x0){if(_0x56a788===0x0)return{'text':_0x4c1643(0x147),'icon':'⏳'};return{'text':_0x4c1643(0x7d9),'icon':'😥'};}const _0x45f75b=_0x56a788/(_0x5a590f===0x0?0x1:_0x5a590f);if(_0x45f75b===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x45f75b>=0.7)return{'text':_0x4c1643(0x919),'icon':'🔥'};if(_0x45f75b>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':_0x4c1643(0x7d9),'icon':'😥'};}function calculateMeanAndStdDev(_0x46da6f){const _0x1c8abb=_0x157a22;if(_0x46da6f[_0x1c8abb(0x34a)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x5c6f9b=_0x46da6f[_0x1c8abb(0xc59)]((_0x5b611b,_0x12bdbd)=>_0x5b611b+_0x12bdbd,0x0)/_0x46da6f[_0x1c8abb(0x34a)];if(_0x46da6f[_0x1c8abb(0x34a)]===0x1)return{'mean':_0x5c6f9b,'stdDev':0x0};const _0x4c0c60=Math[_0x1c8abb(0x2a4)](_0x46da6f[_0x1c8abb(0x141)](_0x65955a=>Math[_0x1c8abb(0xe57)](_0x65955a-_0x5c6f9b,0x2))[_0x1c8abb(0xc59)]((_0x4676ef,_0xa1672a)=>_0x4676ef+_0xa1672a,0x0)/(_0x46da6f[_0x1c8abb(0x34a)]-0x1));return{'mean':_0x5c6f9b,'stdDev':_0x4c0c60};}function calculateZScore(_0x5d5422,_0x50f86c,_0x5ced0b){if(_0x5ced0b===0x0)return 0x0;return(_0x5d5422-_0x50f86c)/_0x5ced0b;}function calculateTScore(_0x4410a9){return 0xa*_0x4410a9+0x32;}function showStarredProjectView(){const _0x29cec4=_0x157a22;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x29cec4(0x91c),projectIdDisplay[_0x29cec4(0xc76)]=_0x29cec4(0x28c),showView('project-detail'),manageTab[_0x29cec4(0x807)][_0x29cec4(0xcec)]('hidden'),leaderboardTab[_0x29cec4(0x807)][_0x29cec4(0xcec)](_0x29cec4(0x9f0)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x1f673d){const _0x1edf71=_0x157a22,_0x57426f=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1f673d),_0xfb691c=await getDoc(_0x57426f);if(_0xfb691c[_0x1edf71(0xc43)]()){manageTab[_0x1edf71(0x807)][_0x1edf71(0x90e)](_0x1edf71(0x9f0)),leaderboardTab[_0x1edf71(0x807)][_0x1edf71(0x90e)](_0x1edf71(0x9f0)),currentProjectData=_0xfb691c[_0x1edf71(0xd60)](),projectTitle['textContent']=currentProjectData[_0x1edf71(0x284)],projectIdDisplay[_0x1edf71(0xc76)]=_0x1f673d;const _0x9596df=currentProjectData['settings']||{};document[_0x1edf71(0xccc)](_0x1edf71(0x520))['value']=_0x9596df['shuffleSetting']||'none';const _0x3665f8=document[_0x1edf71(0xccc)](_0x1edf71(0x6fe));_0x3665f8[_0x1edf71(0x174)]=_0x9596df['showInStudentDashboard']!==![];const _0x261cb8=document[_0x1edf71(0xccc)]('enable-passcode-checkbox'),_0x1b6602=document[_0x1edf71(0xccc)](_0x1edf71(0x371)),_0x487be4=document['getElementById'](_0x1edf71(0xdd4)),_0x55dec3=_0x9596df[_0x1edf71(0xde)]||![];_0x261cb8[_0x1edf71(0x174)]=_0x55dec3,_0x487be4[_0x1edf71(0xa9f)]=_0x9596df[_0x1edf71(0xdf9)]||'',_0x1b6602['classList']['toggle']('hidden',!_0x55dec3),_0x261cb8['onchange']=()=>{const _0x200bf7=_0x1edf71;_0x1b6602['classList']['toggle'](_0x200bf7(0x9f0),!_0x261cb8[_0x200bf7(0x174)]);},document[_0x1edf71(0xccc)](_0x1edf71(0x906))[_0x1edf71(0x174)]=_0x9596df[_0x1edf71(0xb5b)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1f673d),listenForProjectQuizzes(_0x1f673d),listenForStudentProfiles(_0x1f673d);}else showMessage(_0x1edf71(0xec)),showView(_0x1edf71(0x5d3));}async function handleResetProjectOrder(){const _0xb7c344=_0x157a22,_0x54574c=doc(db,_0xb7c344(0x7e7),_0xb7c344(0x5ce));try{await setDoc(_0x54574c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0xb7c344(0x33a));}catch(_0x3d2ee2){console['error'](_0xb7c344(0x1d7),_0x3d2ee2),showMessage(_0xb7c344(0x385));}}async function handleTogglePinProject(_0x5e38b5){const _0xcfc48a=_0x157a22;if(!_0x5e38b5)return;const _0x3a6761=doc(db,_0xcfc48a(0x331)+appId+_0xcfc48a(0x21d),_0x5e38b5);try{const _0x566611=await getDoc(_0x3a6761);if(_0x566611[_0xcfc48a(0xc43)]()){const _0x38c586=_0x566611[_0xcfc48a(0xd60)]()[_0xcfc48a(0xd9)]||![];await updateDoc(_0x3a6761,{'isPinned':!_0x38c586});}}catch(_0x1d7b97){console[_0xcfc48a(0xada)](_0xcfc48a(0x3db),_0x1d7b97),showMessage(_0xcfc48a(0x9cf));}}async function handleDeleteProject(_0x369676){const _0xc77128=_0x157a22;try{const _0x434c1d=writeBatch(db),_0x4b8672=collection(db,'artifacts/'+appId+_0xc77128(0x78d)),_0x321ffe=query(_0x4b8672,where('projectId','==',_0x369676)),_0x3697e9=await getDocs(_0x321ffe);for(const _0x4a779c of _0x3697e9['docs']){const _0x57f609=collection(db,_0xc77128(0x331)+appId+'/public/data/quizzes/'+_0x4a779c['id']+'/submissions'),_0xa20a03=await getDocs(_0x57f609);_0xa20a03[_0xc77128(0x8f9)](_0x1675d1=>{const _0x49add7=_0xc77128;_0x434c1d[_0x49add7(0xa0f)](_0x1675d1[_0x49add7(0x940)]);}),_0x434c1d[_0xc77128(0xa0f)](_0x4a779c['ref']);}const _0x161d81=collection(db,'artifacts/'+appId+_0xc77128(0xa18)+_0x369676+'/studentProfiles'),_0x207a46=await getDocs(_0x161d81);_0x207a46[_0xc77128(0x8f9)](_0x974ec3=>{const _0xce008b=_0xc77128;_0x434c1d[_0xce008b(0xa0f)](_0x974ec3[_0xce008b(0x940)]);});const _0x4bc9b9=doc(db,_0xc77128(0x331)+appId+_0xc77128(0x21d),_0x369676);_0x434c1d['delete'](_0x4bc9b9),await _0x434c1d[_0xc77128(0x34c)](),showMessage(_0xc77128(0x9a5)),showView(_0xc77128(0x5d3));}catch(_0x2f081c){console[_0xc77128(0xada)]('Error\x20deleting\x20project:',_0x2f081c),showMessage(_0xc77128(0x9fb));}}document[_0x157a22(0xccc)](_0x157a22(0x49d))[_0x157a22(0x7d6)](_0x157a22(0x343),async()=>{const _0x323d95=_0x157a22;if(!currentProjectId)return;const _0x289a09={'defaultNumQuestions':parseInt(document[_0x323d95(0xccc)](_0x323d95(0x28f))['value']),'defaultNumChoices':parseInt(document[_0x323d95(0xccc)](_0x323d95(0x3fd))['value']),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x323d95(0xa9f)]),'resultsDisplay':document[_0x323d95(0xccc)](_0x323d95(0x24d))[_0x323d95(0xa9f)],'shuffleSetting':document[_0x323d95(0xccc)](_0x323d95(0x520))[_0x323d95(0xa9f)],'timerMode':document[_0x323d95(0xccc)](_0x323d95(0x3b8))[_0x323d95(0xa9f)],'timerDuration':parseInt(document['getElementById'](_0x323d95(0xe23))[_0x323d95(0xa9f)]),'isConfidenceScoringEnabled':document[_0x323d95(0xccc)](_0x323d95(0x906))[_0x323d95(0x174)],'confidenceMode':document[_0x323d95(0xccc)](_0x323d95(0xe22))[_0x323d95(0xa9f)]};try{const _0x5305bc=doc(db,_0x323d95(0x331)+appId+_0x323d95(0x21d),currentProjectId);await updateDoc(_0x5305bc,{'settings':_0x289a09}),showMessage(_0x323d95(0x106));}catch(_0x3e54eb){console[_0x323d95(0xada)]('Error\x20saving\x20settings:',_0x3e54eb),showMessage(_0x323d95(0x238));}});function listenForStudents(_0x24b5b7){const _0x1a0c72=_0x157a22,_0x3009da=doc(db,_0x1a0c72(0x331)+appId+_0x1a0c72(0x21d),_0x24b5b7);unsubscribeStudentsListener=onSnapshot(_0x3009da,_0x2606e6=>{const _0xd569ab=_0x1a0c72;if(_0x2606e6[_0xd569ab(0xc43)]()){const _0x36fbe6=_0x2606e6[_0xd569ab(0xd60)]();currentProjectData=_0x36fbe6,renderStudentList(_0x36fbe6[_0xd569ab(0xb5a)]||[]);}});}function renderStudentList(_0x9c5edb){const _0x4c5801=_0x157a22,_0x12e81f=document[_0x4c5801(0xccc)](_0x4c5801(0x47c));_0x9c5edb[_0x4c5801(0x34a)]===0x0?(studentList[_0x4c5801(0x93e)]=_0x4c5801(0x5b7),_0x12e81f[_0x4c5801(0x807)][_0x4c5801(0xcec)](_0x4c5801(0x9f0))):(studentList['innerHTML']=_0x9c5edb[_0x4c5801(0x141)](_0x58c150=>_0x4c5801(0xacb)+_0x58c150+_0x4c5801(0xca)+_0x58c150+_0x4c5801(0xdbc))[_0x4c5801(0x72e)](''),_0x12e81f[_0x4c5801(0x807)]['remove'](_0x4c5801(0x9f0)));}document[_0x157a22(0xccc)](_0x157a22(0x7fe))[_0x157a22(0x7d6)]('click',async()=>{const _0x7e091c=_0x157a22;if(!currentProjectId)return;const _0x56e7c6=document[_0x7e091c(0xccc)]('student-name-input'),_0x29b9e6=_0x56e7c6['value'][_0x7e091c(0x6b3)]();if(!_0x29b9e6){showMessage(_0x7e091c(0x4ce));return;}const _0x369223=_0x29b9e6[_0x7e091c(0x9ae)]('\x0a')[_0x7e091c(0x141)](_0x52e863=>_0x52e863[_0x7e091c(0x6b3)]())['filter'](_0x297ef6=>_0x297ef6);if(_0x369223[_0x7e091c(0x34a)]===0x0)return;try{const _0x5ed1c5=doc(db,_0x7e091c(0x331)+appId+_0x7e091c(0x21d),currentProjectId),_0x366e47=await getDoc(_0x5ed1c5);if(_0x366e47[_0x7e091c(0xc43)]()){const _0x4ee730=_0x366e47[_0x7e091c(0xd60)]()[_0x7e091c(0xb5a)]||[],_0x2ffbdc=[...new Set([..._0x4ee730,..._0x369223])];await updateDoc(_0x5ed1c5,{'students':_0x2ffbdc}),_0x56e7c6[_0x7e091c(0xa9f)]='';}}catch(_0x398152){console[_0x7e091c(0xada)](_0x7e091c(0x16f),_0x398152),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x47ea5f){const _0x5c57cc=_0x157a22,_0x34a29a=document['getElementById'](_0x5c57cc(0x70c)),_0x1a5c42=document[_0x5c57cc(0xccc)](_0x5c57cc(0x591)),_0x14ff57=_0x34a29a[_0x5c57cc(0xdd0)]('h3'),_0x30c993=document[_0x5c57cc(0xccc)](_0x5c57cc(0xda8)),_0x5bd1df=document['getElementById'](_0x5c57cc(0x658));_0x14ff57[_0x5c57cc(0xc76)]=_0x5c57cc(0xe80),_0x1a5c42['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x30c993[_0x5c57cc(0xc76)]=_0x5c57cc(0x6b8),_0x34a29a[_0x5c57cc(0x807)][_0x5c57cc(0x90e)](_0x5c57cc(0x9f0));const _0x352625=allQuizzes[_0x5c57cc(0x512)](_0x46d695=>_0x46d695['id']!==_0x47ea5f);_0x352625[_0x5c57cc(0x34a)]===0x0?(_0x1a5c42[_0x5c57cc(0x93e)]=_0x5c57cc(0x492),_0x30c993[_0x5c57cc(0x7ef)]=!![]):(_0x1a5c42[_0x5c57cc(0x93e)]=_0x5c57cc(0xdd1)+_0x352625[_0x5c57cc(0x141)](_0x4fcaca=>'<option\x20value=\x22'+_0x4fcaca['id']+'\x22>'+_0x4fcaca['topic']+_0x5c57cc(0x877))['join'](''),_0x30c993[_0x5c57cc(0x7ef)]=![]);const _0x3aecfe=async()=>{const _0x1b0a56=_0x5c57cc,_0x1399aa=_0x1a5c42[_0x1b0a56(0xa9f)];if(!_0x1399aa){showMessage(_0x1b0a56(0x57e));return;}_0x30c993[_0x1b0a56(0x7ef)]=!![],_0x30c993['textContent']=_0x1b0a56(0x7aa);try{const _0x7d71e3=doc(db,_0x1b0a56(0x331)+appId+_0x1b0a56(0x78d),_0x47ea5f),_0x2a3506=doc(db,_0x1b0a56(0x331)+appId+_0x1b0a56(0x78d),_0x1399aa),_0x30fb8e=writeBatch(db);_0x30fb8e['update'](_0x7d71e3,{'pairedQuizId':_0x1399aa}),_0x30fb8e['update'](_0x2a3506,{'pairedQuizId':_0x47ea5f}),await _0x30fb8e[_0x1b0a56(0x34c)](),showMessage(_0x1b0a56(0x5c0)),_0x34a29a[_0x1b0a56(0x807)][_0x1b0a56(0xcec)](_0x1b0a56(0x9f0));}catch(_0x24a7b4){console[_0x1b0a56(0xada)](_0x1b0a56(0xbe3),_0x24a7b4),showMessage(_0x1b0a56(0xc7b));}finally{_0x14ff57[_0x1b0a56(0xc76)]=_0x1b0a56(0x4b0),_0x30c993[_0x1b0a56(0xc76)]=_0x1b0a56(0xcd1),_0x30c993[_0x1b0a56(0x7ef)]=![],_0x30c993['removeEventListener']('click',_0x3aecfe),_0x5bd1df[_0x1b0a56(0xb65)]('click',_0x50b0c0);}},_0x50b0c0=()=>{const _0x50f587=_0x5c57cc;_0x34a29a[_0x50f587(0x807)][_0x50f587(0xcec)](_0x50f587(0x9f0)),_0x14ff57[_0x50f587(0xc76)]=_0x50f587(0x4b0),_0x30c993[_0x50f587(0xc76)]='ย้าย',_0x30c993['removeEventListener']('click',_0x3aecfe),_0x5bd1df[_0x50f587(0xb65)](_0x50f587(0x343),_0x50b0c0);};_0x30c993[_0x5c57cc(0x7d6)](_0x5c57cc(0x343),_0x3aecfe),_0x5bd1df[_0x5c57cc(0x7d6)](_0x5c57cc(0x343),_0x50b0c0);}function handleDeleteStudent(_0x16f419){const _0x5c0193=_0x157a22;showConfirmation(_0x5c0193(0x19c)+_0x16f419+_0x5c0193(0xe29),async()=>{const _0x4e392d=_0x5c0193;if(!currentProjectId||!currentProjectData)return;const _0x2a9690=currentProjectData[_0x4e392d(0xb5a)][_0x4e392d(0x512)](_0x5f3189=>_0x5f3189!==_0x16f419);try{const _0x2e3883=doc(db,_0x4e392d(0x331)+appId+_0x4e392d(0x21d),currentProjectId),_0x4df211=doc(db,_0x4e392d(0x331)+appId+_0x4e392d(0xa18)+currentProjectId+_0x4e392d(0x798),_0x16f419),_0x4386b6=writeBatch(db);_0x4386b6[_0x4e392d(0x8bf)](_0x2e3883,{'students':_0x2a9690}),_0x4386b6[_0x4e392d(0xa0f)](_0x4df211),await _0x4386b6['commit']();}catch(_0xc0720d){console[_0x4e392d(0xada)](_0x4e392d(0x4d5),_0xc0720d),showMessage(_0x4e392d(0xe21));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x4b8505=_0x28ee;if(!currentProjectId)return;try{const _0x32fe09=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x329444=collection(db,_0x4b8505(0x331)+appId+_0x4b8505(0xa18)+currentProjectId+_0x4b8505(0x798)),_0x34bedf=await getDocs(_0x329444),_0x4dc011=writeBatch(db);_0x4dc011[_0x4b8505(0x8bf)](_0x32fe09,{'students':[]}),_0x34bedf[_0x4b8505(0x8f9)](_0x4a8aa5=>_0x4dc011[_0x4b8505(0xa0f)](_0x4a8aa5['ref'])),await _0x4dc011[_0x4b8505(0x34c)]();}catch(_0x47790a){console[_0x4b8505(0xada)](_0x4b8505(0xa6b),_0x47790a),showMessage(_0x4b8505(0xcce));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x5b64fe){const _0x2ab2d0=_0x157a22,_0x10220a=document[_0x2ab2d0(0xccc)](_0x2ab2d0(0xb9e)),_0x493d15=document['getElementById']('file-topics-list');_0x10220a[_0x2ab2d0(0x807)][_0x2ab2d0(0x90e)]('hidden'),_0x493d15[_0x2ab2d0(0x93e)]=_0x2ab2d0(0x494);try{const _0x27550e=new FileReader();_0x27550e[_0x2ab2d0(0xc7e)](_0x5b64fe),await new Promise((_0x41b2ed,_0x56e3bf)=>{const _0x295675=_0x2ab2d0;_0x27550e[_0x295675(0x96d)]=()=>{const _0x191a34=_0x295675;fileDataBase64=_0x27550e[_0x191a34(0x1c8)][_0x191a34(0x9ae)](',')[0x1],fileMimeType=_0x5b64fe[_0x191a34(0xd10)],_0x41b2ed();},_0x27550e[_0x295675(0x26d)]=_0x170789=>_0x56e3bf(_0x170789);});if(!fileDataBase64)throw new Error(_0x2ab2d0(0x7fd));const _0x5b9704=_0x2ab2d0(0xe5f),_0x1a7914={'type':_0x2ab2d0(0xd8a),'properties':{'topics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':['topics']},_0xbf9390=[{'text':_0x5b9704},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x499d67=await handleApiCall(_0xbf9390,_0x2ab2d0(0x73f),_0x1a7914,null,![]);if(_0x499d67&&_0x499d67[_0x2ab2d0(0x6e0)])extractedFileTopics=_0x499d67['topics'],renderFileTopics();else throw new Error(_0x2ab2d0(0x878));}catch(_0x2258f0){console['error'](_0x2ab2d0(0x2a3),_0x2258f0),_0x493d15[_0x2ab2d0(0x93e)]=_0x2ab2d0(0xab4)+_0x2258f0['message']+_0x2ab2d0(0x723);}}function renderFileTopics(){const _0x1a6657=_0x157a22,_0xf49222=document[_0x1a6657(0xccc)](_0x1a6657(0x847));if(extractedFileTopics[_0x1a6657(0x34a)]===0x0){_0xf49222['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0xf49222[_0x1a6657(0x93e)]=extractedFileTopics[_0x1a6657(0x141)](_0x4f656e=>_0x1a6657(0x5f3)+_0x4f656e+_0x1a6657(0xbdb)+escape(_0x4f656e)+_0x1a6657(0x3e6)+escape(_0x4f656e)+_0x1a6657(0xb20))['join']('');}async function generateHybridQuizForTopic(_0x1e1995){const _0x14698f=_0x157a22,_0x34a1fa=parseInt(document[_0x14698f(0xccc)]('num-questions')[_0x14698f(0xa9f)],0xa),_0x2fdd8f=document[_0x14698f(0xccc)]('quiz-type-select')[_0x14698f(0xa9f)],_0x3e0284=document['getElementById'](_0x14698f(0x3fd))[_0x14698f(0xa9f)],_0x1ffcc8=document[_0x14698f(0xccc)](_0x14698f(0xd7d))[_0x14698f(0x174)],_0x5c35e7=_0x1ffcc8?_0x14698f(0x584):_0x14698f(0xcdb);let _0x363e8b='',_0x36a082;const _0x5ae1d6={'type':_0x14698f(0xd8a),'properties':{'questionText':{'type':_0x14698f(0x685)},'options':{'type':_0x14698f(0x83a),'items':{'type':_0x14698f(0x685)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x14698f(0xaee),_0x14698f(0x2bd),_0x14698f(0x928)]},_0x14fac0={'type':'OBJECT','properties':{'questionText':{'type':_0x14698f(0x685)},'correctAnswer':{'type':_0x14698f(0x3cb)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x14698f(0x685)}},'required':[_0x14698f(0x885),_0x14698f(0xcab),_0x14698f(0x928)]},_0x24f9a6={'type':_0x14698f(0xd8a),'properties':{'questionText':{'type':_0x14698f(0x685)},'idealAnswer':{'type':_0x14698f(0x685)},'explanation':{'type':_0x14698f(0x685)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x14698f(0x314),_0x14698f(0x928)]},_0x49d01f={'type':_0x14698f(0xd8a),'properties':{'questionType':{'type':_0x14698f(0x685),'enum':[_0x14698f(0x283)]},'stem':{'type':_0x14698f(0x685)},'correctResponse':{'type':_0x14698f(0x685)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x14698f(0x685)}},'required':['questionType',_0x14698f(0x6a8),_0x14698f(0xb75),_0x14698f(0x2c7),_0x14698f(0x928)]};switch(_0x2fdd8f){case _0x14698f(0x75f):const _0x299e7b=_0x14698f(0x6cb);prompt=_0x14698f(0x47f)+subjectPrefix+'\x20'+settings[_0x14698f(0x502)]+_0x14698f(0xa9e)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x14698f(0x37b)+settings[_0x14698f(0x879)]+_0x14698f(0x404)+_0x299e7b+_0x14698f(0x779)+_0x5c35e7+'\x20'+simpleMathPrompt,schema=_0x5ae1d6;break;case _0x14698f(0xc6b):_0x363e8b=_0x14698f(0x5ae),_0x36a082=_0x14fac0;break;case _0x14698f(0xdf0):_0x363e8b=_0x14698f(0x3af),_0x36a082=_0x24f9a6;break;case _0x14698f(0x2d1):_0x363e8b='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x36a082=_0x49d01f;break;case _0x14698f(0x5b0):_0x363e8b=_0x14698f(0xb1c)+_0x3e0284+'\x20ตัวเลือก)',_0x36a082=_0x5ae1d6;break;default:_0x363e8b='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x3e0284+'\x20ตัวเลือก)',_0x36a082=_0x5ae1d6;break;}const _0x4f7381=_0x14698f(0x39e),_0x4b2308=document[_0x14698f(0xccc)](_0x14698f(0xdf)),_0x449eec=document[_0x14698f(0xccc)](_0x14698f(0x38f)),_0x570abe=document[_0x14698f(0xccc)]('generated-quiz-container');document[_0x14698f(0xccc)](_0x14698f(0xa8a))[_0x14698f(0x807)][_0x14698f(0x90e)](_0x14698f(0x9f0)),_0x570abe['innerHTML']='',_0x4b2308[_0x14698f(0x807)][_0x14698f(0x90e)](_0x14698f(0x9f0)),_0x449eec[_0x14698f(0xc76)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x1e1995+_0x14698f(0xcd)+_0x34a1fa+'\x20ข้อ...';try{const _0x40a5a3=_0x14698f(0x865),_0x502d4f=_0x14698f(0x435)+_0x1e1995+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x34a1fa+_0x14698f(0x5fe)+_0x1e1995+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x34a1fa+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x5c35e7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x363e8b+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x4f7381+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40a5a3+_0x14698f(0x311)+simpleMathPrompt+_0x14698f(0xd81),_0x17e0f9={'type':_0x14698f(0xd8a),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x14698f(0x83a),'items':_0x36a082}},'required':[_0x14698f(0xe36),'questions']},_0x23c528=[{'text':_0x502d4f},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x23c528,_0x14698f(0x92d)+_0x1e1995+_0x14698f(0x9ac),_0x17e0f9);}catch(_0x1d1527){console[_0x14698f(0xada)]('Error\x20generating\x20hybrid\x20quiz:',_0x1d1527),showMessage(_0x14698f(0x153)+_0x1d1527[_0x14698f(0x267)]),_0x570abe[_0x14698f(0x93e)]=_0x14698f(0x980);}finally{_0x4b2308[_0x14698f(0x807)][_0x14698f(0xcec)](_0x14698f(0x9f0));}}async function handleGenerateFromFileClick(){const _0x3bc62a=_0x157a22;if(!selectedFile){showMessage(_0x3bc62a(0x7eb));return;}const _0x272ed3=document[_0x3bc62a(0xccc)](_0x3bc62a(0xdf)),_0x48a00e=document[_0x3bc62a(0xccc)](_0x3bc62a(0x38f)),_0x5567e8=document[_0x3bc62a(0xccc)]('generated-quiz-container'),_0x17e446=document[_0x3bc62a(0xccc)](_0x3bc62a(0xdb9));_0x17e446['disabled']=!![],document[_0x3bc62a(0xccc)](_0x3bc62a(0xa8a))['classList'][_0x3bc62a(0x90e)](_0x3bc62a(0x9f0)),_0x5567e8['innerHTML']='',_0x272ed3[_0x3bc62a(0x807)][_0x3bc62a(0x90e)](_0x3bc62a(0x9f0)),_0x48a00e[_0x3bc62a(0xc76)]=_0x3bc62a(0x664);try{const _0x464e51=await new Promise((_0x4cbf2a,_0x1a3798)=>{const _0x52c0c5=_0x3bc62a,_0x2884c3=new FileReader();_0x2884c3[_0x52c0c5(0xc7e)](selectedFile),_0x2884c3[_0x52c0c5(0x96d)]=()=>_0x4cbf2a(_0x2884c3[_0x52c0c5(0x1c8)]['split'](',')[0x1]),_0x2884c3['onerror']=_0x2a5abe=>_0x1a3798(_0x2a5abe);});await generateQuizFromFile(selectedFile['type'],_0x464e51);}catch(_0x209238){console['error'](_0x3bc62a(0x608),_0x209238),showMessage(_0x3bc62a(0x244)+_0x209238[_0x3bc62a(0x267)]),_0x272ed3[_0x3bc62a(0x807)][_0x3bc62a(0xcec)](_0x3bc62a(0x9f0)),_0x17e446[_0x3bc62a(0x7ef)]=![];}}function autoFormatMath(_0x2dc4a3){const _0x4fd810=_0x157a22;if(typeof _0x2dc4a3!==_0x4fd810(0xa30)||!_0x2dc4a3)return _0x2dc4a3;const _0x23d390=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x352e11=_0x2dc4a3[_0x4fd810(0xb64)](_0x23d390,_0x3b8bba=>{return'$'+_0x3b8bba['trim']()+'$';});return _0x352e11;}function sanitizeQuizData(_0x58d153){const _0x1c48b1=_0x157a22;if(!_0x58d153||!_0x58d153[_0x1c48b1(0xdbf)])return _0x58d153;const _0x56c526=_0x5f00eb=>{const _0x315516=_0x1c48b1;if(typeof _0x5f00eb!==_0x315516(0xa30))return _0x5f00eb;let _0x23423a=_0x5f00eb;_0x23423a=_0x23423a['replace'](/\\\(/g,'$')[_0x315516(0xb64)](/\\\)/g,'$'),_0x23423a=_0x23423a['replace'](/\\\[/g,'$$')[_0x315516(0xb64)](/\\\]/g,'$$'),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?imes\b/g,_0x315516(0x5fa)),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?text\b/g,_0x315516(0x4a0)),_0x23423a=_0x23423a['replace'](/\\?sqrt\b/g,'\x5csqrt'),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?frac\b/g,_0x315516(0xbb9)),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?cdot\b/g,_0x315516(0x453)),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?pi\b/g,_0x315516(0xa3d)),_0x23423a=_0x23423a['replace'](/\\?div\b/g,_0x315516(0xcf8)),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?leq\b/g,_0x315516(0xa40)),_0x23423a=_0x23423a['replace'](/\\?geq\b/g,'\x5cgeq'),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?approx\b/g,_0x315516(0x7ae)),_0x23423a=_0x23423a[_0x315516(0xb64)](/\\?ne\b/g,'\x5cne');const _0x20582a=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x23423a=_0x23423a[_0x315516(0xb64)](_0x20582a,_0x22621f=>{const _0x4fd39c=_0x315516;return'$'+_0x22621f[_0x4fd39c(0x6b3)]()+'$';}),_0x23423a;};return _0x58d153[_0x1c48b1(0xe36)]&&(_0x58d153[_0x1c48b1(0xe36)]=_0x56c526(_0x58d153['topic'])),_0x58d153[_0x1c48b1(0xdbf)][_0x1c48b1(0x8f9)](_0x2d0769=>{const _0x5e76c2=_0x1c48b1;_0x2d0769['questionText']=_0x56c526(_0x2d0769['questionText']),_0x2d0769['stem']=_0x56c526(_0x2d0769[_0x5e76c2(0x6a8)]),_0x2d0769[_0x5e76c2(0xaee)]&&(_0x2d0769[_0x5e76c2(0xaee)]=_0x2d0769['options']['map'](_0x48db74=>_0x56c526(_0x48db74))),_0x2d0769[_0x5e76c2(0x928)]&&(_0x2d0769[_0x5e76c2(0x928)]=_0x56c526(_0x2d0769['explanation'])),_0x2d0769[_0x5e76c2(0xb75)]&&(_0x2d0769[_0x5e76c2(0xb75)]=_0x56c526(_0x2d0769[_0x5e76c2(0xb75)])),_0x2d0769[_0x5e76c2(0x2c7)]&&(_0x2d0769[_0x5e76c2(0x2c7)]=_0x2d0769[_0x5e76c2(0x2c7)]['map'](_0x1df45a=>_0x56c526(_0x1df45a))),_0x2d0769['idealAnswer']&&(_0x2d0769['idealAnswer']=_0x56c526(_0x2d0769[_0x5e76c2(0x314)]));}),_0x58d153;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x529e4e=_0x157a22,_0x40f1ec=document[_0x529e4e(0xccc)](_0x529e4e(0xafc)),_0x4ab00c=document[_0x529e4e(0xccc)](_0x529e4e(0x665)),_0x5db865=_0x40f1ec['value'][_0x529e4e(0x6b3)](),_0x573dad=_0x4ab00c[_0x529e4e(0xa9f)][_0x529e4e(0x6b3)]();if(!_0x5db865){showMessage(_0x529e4e(0x98b));return;}const _0x112290=document[_0x529e4e(0xccc)](_0x529e4e(0xdf)),_0x59a61f=document[_0x529e4e(0xccc)](_0x529e4e(0x38f)),_0x32038f=document[_0x529e4e(0xccc)](_0x529e4e(0x4b1)),_0x34f796=document[_0x529e4e(0xccc)](_0x529e4e(0x1ef));document[_0x529e4e(0xccc)](_0x529e4e(0xa8a))[_0x529e4e(0x807)]['remove'](_0x529e4e(0x9f0)),_0x32038f[_0x529e4e(0x93e)]='',_0x112290[_0x529e4e(0x807)][_0x529e4e(0x90e)](_0x529e4e(0x9f0)),_0x59a61f[_0x529e4e(0xc76)]='กำลังดึงข้อมูลจากลิงก์...',_0x34f796[_0x529e4e(0x7ef)]=!![];try{const _0x366a18=_0x529e4e(0x550)+encodeURIComponent(_0x5db865),_0x1eb222=await fetch(_0x366a18);if(!_0x1eb222['ok'])throw new Error(_0x529e4e(0x87b)+_0x1eb222[_0x529e4e(0xab3)]+')');const _0x114bf8=await _0x1eb222['text'](),_0xe82fc9=extractTextFromHtml(_0x114bf8);if(!_0xe82fc9||_0xe82fc9[_0x529e4e(0x34a)]<0x64)throw new Error(_0x529e4e(0x62b));await generateQuiz(_0x573dad,_0xe82fc9);}catch(_0xf3e10a){console['error'](_0x529e4e(0x7a8),_0xf3e10a),showMessage(_0x529e4e(0x153)+_0xf3e10a[_0x529e4e(0x267)]),_0x32038f[_0x529e4e(0x93e)]=_0x529e4e(0x253);}finally{_0x112290[_0x529e4e(0x807)][_0x529e4e(0xcec)](_0x529e4e(0x9f0)),_0x34f796['disabled']=![];}}function extractTextFromHtml(_0x187347){const _0x428636=_0x157a22,_0x3e144c=new DOMParser()[_0x428636(0x848)](_0x187347,_0x428636(0x923));return _0x3e144c[_0x428636(0x5f0)](_0x428636(0x6f2))[_0x428636(0x8f9)](_0x1b680c=>_0x1b680c[_0x428636(0x90e)]()),_0x3e144c[_0x428636(0x95a)][_0x428636(0xc76)]||'';}document[_0x157a22(0xccc)](_0x157a22(0xba8))[_0x157a22(0x7d6)](_0x157a22(0x343),()=>{const _0x9e5d65=_0x157a22,_0x2bee00=document[_0x9e5d65(0xccc)](_0x9e5d65(0x65a))[_0x9e5d65(0xa9f)][_0x9e5d65(0x6b3)]();generateQuiz(_0x2bee00,null);}),document['getElementById'](_0x157a22(0xbb6))['addEventListener'](_0x157a22(0x343),()=>{const _0xea0e62=_0x157a22,_0x55f620=document[_0xea0e62(0xccc)](_0xea0e62(0x493))[_0xea0e62(0xa9f)]['trim']();if(!_0x55f620){showMessage(_0xea0e62(0x697));return;}const _0x50ddd4=document[_0xea0e62(0xccc)]('topic-input')[_0xea0e62(0xa9f)]['trim']();generateQuiz(_0x50ddd4,_0x55f620);});async function generateQuiz(_0x19c751,_0x26b7d0,_0x344eba=null,_0x9b8ac1=null,_0x33dd0f=![],_0x327c25=null,_0x2a8e0c=null,_0x287af2=![]){const _0x345667=_0x157a22;let _0x5ae040={};if(_0x33dd0f&&blueprintPageSettings)_0x5ae040=blueprintPageSettings;else{const _0x472ca1=document[_0x345667(0x5f0)](_0x345667(0xb90));_0x5ae040={'quizType':document[_0x345667(0xccc)]('quiz-type-select')['value'],'numQuestions':document[_0x345667(0xccc)](_0x345667(0x28f))[_0x345667(0xa9f)],'numChoices':document[_0x345667(0xccc)]('num-choices')[_0x345667(0xa9f)],'includeImages':document['getElementById']('include-images-checkbox')[_0x345667(0x174)],'isNormalTopic':document[_0x345667(0xccc)](_0x345667(0xc6d))['checked'],'difficultyValue':document['getElementById']('difficulty-level-select')[_0x345667(0xa9f)],'complexityValue':document[_0x345667(0xccc)](_0x345667(0xb5c))[_0x345667(0xa9f)],'selectedTopicNames':Array['from'](_0x472ca1)[_0x345667(0x141)](_0x30d01d=>_0x30d01d[_0x345667(0xa9f)])};}const _0x315024=_0x5ae040['isNormalTopic']?'':_0x345667(0xc15),_0x9c735=_0x5ae040[_0x345667(0x822)]!=='auto'?_0x345667(0xd24)+_0x5ae040[_0x345667(0x822)]+'\x22':'',_0x2fd774=_0x5ae040[_0x345667(0xc8e)]!==_0x345667(0x48d)?_0x345667(0x224)+_0x5ae040[_0x345667(0xc8e)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x392d3c='';_0x5ae040['selectedTopicNames']&&_0x5ae040['selectedTopicNames'][_0x345667(0x34a)]>0x0&&(_0x392d3c='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x5ae040[_0x345667(0x8ce)][_0x345667(0x72e)](',\x20')+'.');let _0x37000d='';_0x9b8ac1&&(_0x37000d=_0x345667(0xe44));let _0x3430d1='',_0x1ba807='',_0x146a4c,_0x42d586=_0x345667(0xc48)+_0x19c751+'\x22';if(!_0x19c751&&_0x26b7d0)_0x42d586='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x19c751&&!_0x26b7d0&&(_0x42d586=_0x345667(0x9e8));const _0x1e86cc={'type':_0x345667(0xd8a),'properties':{'questionText':{'type':_0x345667(0x685)},'options':{'type':_0x345667(0x83a),'items':{'type':_0x345667(0x685)}},'correctAnswerIndex':{'type':_0x345667(0x96f)},'explanation':{'type':_0x345667(0x685)},'imageCode':{'type':_0x345667(0x685)}},'required':[_0x345667(0x885),'options',_0x345667(0x2bd),_0x345667(0x928)]},_0x48e4bc={'type':_0x345667(0xd8a),'properties':{'questionText':{'type':_0x345667(0x685)},'idealAnswer':{'type':_0x345667(0x685)},'explanation':{'type':_0x345667(0x685)},'imageCode':{'type':'STRING'}},'required':[_0x345667(0x885),_0x345667(0x314),'explanation']},_0x5ead85={'type':'OBJECT','properties':{'questionText':{'type':_0x345667(0x685)},'questionType':{'type':'STRING','enum':[_0x345667(0x75f),_0x345667(0xb27)]},'options':{'type':'ARRAY','items':{'type':_0x345667(0x685)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x345667(0x685)},'explanation':{'type':_0x345667(0x685)},'imageCode':{'type':_0x345667(0x685)}},'required':[_0x345667(0x885),_0x345667(0x36c),_0x345667(0x928)]},_0x2f04c8={'type':_0x345667(0xd8a),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x345667(0x3cb)},'explanation':{'type':_0x345667(0x685)},'imageCode':{'type':_0x345667(0x685)}},'required':[_0x345667(0x885),_0x345667(0xcab),_0x345667(0x928)]},_0x87f48a={'type':_0x345667(0xd8a),'properties':{'questionType':{'type':_0x345667(0x685),'enum':[_0x345667(0x283)]},'stem':{'type':_0x345667(0x685)},'correctResponse':{'type':_0x345667(0x685)},'allResponses':{'type':_0x345667(0x83a),'items':{'type':_0x345667(0x685)}},'explanation':{'type':_0x345667(0x685)},'imageCode':{'type':_0x345667(0x685)}},'required':[_0x345667(0x36c),_0x345667(0x6a8),_0x345667(0xb75),_0x345667(0x2c7),_0x345667(0x928)]};let _0x46d303;if(_0x344eba!==null){const _0x395f5a=currentQuizData[_0x345667(0xdbf)][_0x344eba]['questionType'],_0x476de7=_0x5ae040[_0x345667(0x496)]?_0x345667(0x93b):'';_0x3430d1='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x42d586+'\x20'+_0x392d3c+'\x20'+_0x9c735+_0x345667(0x1a2)+_0x476de7+'\x20'+simpleMathPrompt;if(_0x395f5a===_0x345667(0x75f))_0x146a4c=_0x1e86cc;else{if(_0x395f5a==='matching_item')_0x146a4c=_0x87f48a;else{if(_0x395f5a===_0x345667(0xc6b))_0x146a4c=_0x2f04c8;else _0x146a4c=_0x48e4bc;}}_0x46d303=_0x146a4c;}else{const _0x385d59=_0x5ae040[_0x345667(0x496)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์.':'';switch(_0x5ae040['quizType']){case _0x345667(0x75f):const _0x2e61c4=_0x345667(0x96c);_0x3430d1='สร้างแบบทดสอบปรนัย'+_0x315024+'\x20'+_0x5ae040[_0x345667(0x502)]+_0x345667(0xa9e)+_0x42d586+'\x20'+_0x392d3c+'\x20'+_0x9c735+'\x20'+_0x2fd774+'\x20'+_0x37000d+'.\x20แต่ละข้อมี\x20'+_0x5ae040[_0x345667(0x879)]+'\x20ตัวเลือก.\x20'+_0x2e61c4+'\x20ระบุคำตอบที่ถูกต้อง\x20และคำอธิบาย.\x20'+_0x385d59+'\x20'+simpleMathPrompt,_0x146a4c=_0x1e86cc;break;case _0x345667(0x5b0):_0x3430d1=_0x345667(0x1ea)+_0x315024+'\x20'+_0x5ae040[_0x345667(0x502)]+'\x20ข้อ\x20'+_0x42d586+_0x345667(0x9d3)+_0x5ae040[_0x345667(0x879)]+'\x20ตัว.\x20'+_0x385d59+'\x20'+simpleMathPrompt,_0x146a4c=_0x1e86cc;break;case'fill_in_no_choices':_0x3430d1=_0x345667(0x1ea)+_0x315024+'\x20'+_0x5ae040['numQuestions']+'\x20ข้อ\x20'+_0x42d586+_0x345667(0xb34)+_0x385d59+'\x20'+simpleMathPrompt,_0x146a4c=_0x48e4bc;break;case'mixed':_0x3430d1=_0x345667(0xb86)+_0x315024+'\x20'+_0x5ae040['numQuestions']+_0x345667(0xa9e)+_0x42d586+_0x345667(0x78e)+_0x385d59+'\x20'+simpleMathPrompt+'.',_0x146a4c=_0x5ead85;break;case'true_false':_0x3430d1=_0x345667(0xd6a)+_0x315024+'\x20'+_0x5ae040[_0x345667(0x502)]+_0x345667(0xa9e)+_0x42d586+'\x20'+_0x392d3c+'\x20'+_0x9c735+'\x20'+_0x2fd774+'\x20'+_0x37000d+_0x345667(0x71c)+_0x385d59+'\x20'+simpleMathPrompt,_0x146a4c=_0x2f04c8;break;case _0x345667(0x2d1):_0x3430d1=_0x345667(0x802)+_0x315024+'\x20'+_0x5ae040[_0x345667(0x502)]+_0x345667(0xd6f)+_0x42d586+_0x345667(0x6bb)+_0x385d59+'\x20'+simpleMathPrompt,_0x146a4c=_0x87f48a;break;}_0x46d303={'type':_0x345667(0xd8a),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x146a4c}},'required':['topic',_0x345667(0xdbf)]};}const _0x3f562b=_0x345667(0x139);if(_0x26b7d0)_0x3430d1=_0x287af2?'จากเนื้อหาต่อไปนี้:\x20\x22'+_0x26b7d0+_0x345667(0xa77)+_0x3430d1+_0x3f562b:_0x345667(0x84c)+_0x26b7d0+'\x22,\x20'+_0x3430d1,_0x1ba807=_0x345667(0x437);else{if(_0x287af2)_0x3430d1+=_0x3f562b;_0x1ba807=_0x345667(0x63b);}let _0x38d510;_0x9b8ac1?(_0x38d510=[{'text':_0x3430d1},..._0x9b8ac1],_0x1ba807=_0x345667(0x22b)):_0x38d510=_0x3430d1;const _0x5582e4=await handleApiCall(_0x38d510,_0x1ba807,_0x46d303,_0x344eba,!![],_0x327c25,_0x2a8e0c);return _0x5582e4&&currentQuizData&&(currentQuizData[_0x345667(0x7fc)]=_0x5ae040['quizType']),_0x5582e4;}async function generateQuizFromFile(_0xf545ce,_0xc2da15){const _0x5092dc=_0x157a22,_0x185269=document[_0x5092dc(0xccc)](_0x5092dc(0x2c6))['value'][_0x5092dc(0x6b3)](),_0x35a260=document[_0x5092dc(0xccc)](_0x5092dc(0xc5))[_0x5092dc(0xa9f)],_0x85bde1=document[_0x5092dc(0xccc)]('num-questions')[_0x5092dc(0xa9f)],_0x35ae82=document[_0x5092dc(0xccc)](_0x5092dc(0x3fd))[_0x5092dc(0xa9f)],_0x3d2a70=document[_0x5092dc(0xccc)](_0x5092dc(0xd7d))[_0x5092dc(0x174)],_0x5b2a5e=document[_0x5092dc(0xccc)](_0x5092dc(0xc6d))[_0x5092dc(0x174)],_0x384d42=_0x5b2a5e?'':_0x5092dc(0xc15),_0x43140d=document[_0x5092dc(0xccc)]('original-mode-checkbox')[_0x5092dc(0x174)];let _0x1b8bd7='',_0x3120d1;const _0x48a8c5=_0x3d2a70?_0x5092dc(0x31b):'';if(_0x43140d)_0x1b8bd7=_0x5092dc(0x1a6)+_0x48a8c5+'\x0a'+simpleMathPrompt+'\x0a',_0x3120d1={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5092dc(0x685),'enum':['multiple_choice',_0x5092dc(0xb27),_0x5092dc(0xc6b),_0x5092dc(0x283)]},'options':{'type':_0x5092dc(0x83a),'items':{'type':_0x5092dc(0x685)}},'correctAnswerIndex':{'type':_0x5092dc(0x96f)},'idealAnswer':{'type':_0x5092dc(0x685)},'correctAnswer':{'type':_0x5092dc(0x3cb)},'stem':{'type':_0x5092dc(0x685)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5092dc(0x83a),'items':{'type':_0x5092dc(0x685)}},'explanation':{'type':_0x5092dc(0x685)},'imageCode':{'type':_0x5092dc(0x685)}},'required':['questionType',_0x5092dc(0x928)]};else{let _0x3ee532=_0x5092dc(0xc48)+_0x185269+'\x22';!_0x185269&&(_0x3ee532=_0x5092dc(0xbdf));switch(_0x35a260){case _0x5092dc(0x75f):const _0x23fb79=_0x5092dc(0xd86);_0x1b8bd7=_0x5092dc(0x47f)+_0x384d42+'\x20'+_0x85bde1+_0x5092dc(0xa9e)+_0x3ee532+'.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20'+_0x35ae82+_0x5092dc(0x690)+_0x23fb79+_0x5092dc(0xbe8)+_0x48a8c5+'\x20'+simpleMathPrompt,_0x3120d1={'type':_0x5092dc(0xd8a),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5092dc(0x83a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5092dc(0x685)},'imageCode':{'type':_0x5092dc(0x685)}},'required':[_0x5092dc(0x885),'options',_0x5092dc(0x2bd),'explanation']};break;case'fill_in_with_choices':_0x1b8bd7='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x384d42+'\x20'+_0x85bde1+_0x5092dc(0xa9e)+_0x3ee532+_0x5092dc(0x64f)+_0x35ae82+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x48a8c5+'\x20'+simpleMathPrompt,_0x3120d1={'type':_0x5092dc(0xd8a),'properties':{'questionText':{'type':_0x5092dc(0x685)},'options':{'type':_0x5092dc(0x83a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5092dc(0x96f)},'explanation':{'type':_0x5092dc(0x685)},'imageCode':{'type':_0x5092dc(0x685)}},'required':[_0x5092dc(0x885),_0x5092dc(0xaee),_0x5092dc(0x2bd),_0x5092dc(0x928)]};break;case'fill_in_no_choices':_0x1b8bd7='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x384d42+'\x20'+_0x85bde1+'\x20ข้อ\x20'+_0x3ee532+_0x5092dc(0x220)+_0x48a8c5+'\x20'+simpleMathPrompt,_0x3120d1={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5092dc(0x685)},'imageCode':{'type':_0x5092dc(0x685)}},'required':['questionText',_0x5092dc(0x314),'explanation']};break;case _0x5092dc(0x48d):_0x1b8bd7=_0x5092dc(0xb86)+_0x384d42+'\x20'+_0x85bde1+_0x5092dc(0xa9e)+_0x3ee532+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x35ae82+_0x5092dc(0xc5d)+_0x48a8c5+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x3120d1={'type':_0x5092dc(0xd8a),'properties':{'questionText':{'type':_0x5092dc(0x685)},'questionType':{'type':_0x5092dc(0x685),'enum':['multiple_choice',_0x5092dc(0xb27)]},'options':{'type':'ARRAY','items':{'type':_0x5092dc(0x685)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5092dc(0x685)},'imageCode':{'type':'STRING'}},'required':[_0x5092dc(0x885),_0x5092dc(0x36c),'explanation']};break;case _0x5092dc(0xc6b):_0x1b8bd7=_0x5092dc(0xd6a)+_0x384d42+'\x20'+_0x85bde1+'\x20ข้อ\x20'+_0x3ee532+_0x5092dc(0x558)+_0x48a8c5+'\x20'+simpleMathPrompt,_0x3120d1={'type':_0x5092dc(0xd8a),'properties':{'questionText':{'type':_0x5092dc(0x685)},'correctAnswer':{'type':_0x5092dc(0x3cb)},'explanation':{'type':_0x5092dc(0x685)},'imageCode':{'type':_0x5092dc(0x685)}},'required':[_0x5092dc(0x885),_0x5092dc(0xcab),_0x5092dc(0x928)]};break;case _0x5092dc(0x2d1):_0x1b8bd7=_0x5092dc(0x802)+_0x384d42+'\x20'+_0x85bde1+_0x5092dc(0xd6f)+_0x3ee532+_0x5092dc(0x63c)+_0x85bde1+_0x5092dc(0xa0e)+_0x48a8c5+'\x20'+simpleMathPrompt,_0x3120d1={'type':_0x5092dc(0xd8a),'properties':{'questionType':{'type':_0x5092dc(0x685),'enum':[_0x5092dc(0x283)]},'stem':{'type':_0x5092dc(0x685)},'correctResponse':{'type':_0x5092dc(0x685)},'allResponses':{'type':_0x5092dc(0x83a),'items':{'type':_0x5092dc(0x685)}},'explanation':{'type':_0x5092dc(0x685)},'imageCode':{'type':_0x5092dc(0x685)}},'required':[_0x5092dc(0x36c),_0x5092dc(0x6a8),_0x5092dc(0xb75),'allResponses',_0x5092dc(0x928)]};break;}}const _0x9a650f={'type':_0x5092dc(0xd8a),'properties':{'topic':{'type':_0x5092dc(0x685)},'questions':{'type':_0x5092dc(0x83a),'items':_0x3120d1}},'required':[_0x5092dc(0xe36),_0x5092dc(0xdbf)]},_0x28df02='จากไฟล์ที่แนบมานี้,\x20'+_0x1b8bd7,_0xcb8949={'contents':[{'parts':[{'text':_0x28df02},{'inlineData':{'mimeType':_0xf545ce,'data':_0xc2da15}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x9a650f}};return handleApiCall(_0xcb8949[_0x5092dc(0x75e)][0x0][_0x5092dc(0x2de)],_0x5092dc(0x322),_0x9a650f);}async function handleApiCall(_0x1590eb,_0xc553f5,_0x277c6b,_0x4632c5=null,_0x391c02=!![],_0x2bbfc8=null,_0xa7fda8=null){const _0x37af50=_0x157a22,_0x294ea3=document[_0x37af50(0xccc)](_0x37af50(0xa8a)),_0x320145=document[_0x37af50(0xccc)](_0x37af50(0xdf)),_0x39742c=document[_0x37af50(0xccc)](_0x37af50(0x38f)),_0x1767fb=document['getElementById'](_0x37af50(0x4b1));_0x294ea3[_0x37af50(0x807)]['remove'](_0x37af50(0x9f0));_0x4632c5===null&&_0x391c02&&(_0x1767fb[_0x37af50(0x93e)]='');_0x320145[_0x37af50(0x807)][_0x37af50(0x90e)](_0x37af50(0x9f0)),_0x39742c[_0x37af50(0xc76)]=_0xc553f5,document[_0x37af50(0xccc)](_0x37af50(0xba8))[_0x37af50(0x7ef)]=!![],document['getElementById']('generate-from-text-btn')[_0x37af50(0x7ef)]=!![],document[_0x37af50(0xccc)](_0x37af50(0x1ef))['disabled']=!![];const _0x5845fc=document['getElementById'](_0x37af50(0xdb9));if(_0x5845fc)_0x5845fc[_0x37af50(0x7ef)]=!![];const _0x18454b=document[_0x37af50(0xccc)](_0x37af50(0x185));if(_0x18454b)_0x18454b[_0x37af50(0x7ef)]=!![];const _0x227cf8=document[_0x37af50(0xccc)](_0x37af50(0x72a));if(_0x227cf8)_0x227cf8[_0x37af50(0x7ef)]=!![];try{const _0x19be37=Array[_0x37af50(0x9c5)](_0x1590eb)?_0x1590eb:[{'text':_0x1590eb}],_0x478a60={'contents':[{'role':_0x37af50(0x752),'parts':_0x19be37}]};_0x277c6b&&(_0x478a60[_0x37af50(0xe8a)]={'responseMimeType':_0x37af50(0x71f),'responseSchema':_0x277c6b});const _0x5a01e1=_0x37af50(0x4ba),_0x2aa31d=_0x37af50(0x184)+_0x5a01e1,_0x162e63=await fetch(_0x2aa31d,{'method':_0x37af50(0x94a),'headers':{'Content-Type':'application/json'},'body':JSON[_0x37af50(0x5ad)](_0x478a60)});if(!_0x162e63['ok']){const _0x53acb9=await _0x162e63['text']();console[_0x37af50(0xada)](_0x37af50(0x82a),_0x53acb9);throw new Error(_0x37af50(0x762)+_0x162e63[_0x37af50(0xab3)]);}const _0x3ac648=await _0x162e63[_0x37af50(0x596)]();if(!_0x3ac648[_0x37af50(0xe2)]||_0x3ac648[_0x37af50(0xe2)][_0x37af50(0x34a)]===0x0){let _0x104546=_0x37af50(0x4f3);return _0x3ac648[_0x37af50(0x999)]?.[_0x37af50(0xa3a)]&&(_0x104546='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x3ac648['promptFeedback']['blockReason']+'.'),console[_0x37af50(0xada)](_0x104546,JSON['stringify'](_0x3ac648)),null;}const _0x337244=_0x3ac648[_0x37af50(0xe2)][0x0]['content']['parts'][0x0]['text'];if(_0x277c6b){let _0x5a016b=_0x337244;if(_0x5a016b[_0x37af50(0xb2c)](_0x37af50(0x8f2)))_0x5a016b=_0x5a016b[_0x37af50(0x500)](0x7,_0x5a016b[_0x37af50(0x34a)]-0x3)[_0x37af50(0x6b3)]();else _0x5a016b[_0x37af50(0xb2c)](_0x37af50(0x8db))&&(_0x5a016b=_0x5a016b[_0x37af50(0x500)](0x3,_0x5a016b[_0x37af50(0x34a)]-0x3)[_0x37af50(0x6b3)]());let _0x115e55=JSON[_0x37af50(0xcd5)](_0x5a016b);if(_0x115e55[_0x37af50(0xdbf)]&&Array[_0x37af50(0x9c5)](_0x115e55['questions'])){const _0x3587c0=_0x115e55['questions']['filter'](_0x2b15de=>_0x2b15de[_0x37af50(0x36c)]===_0x37af50(0x283));if(_0x3587c0[_0x37af50(0x34a)]>0x1){const _0x418275=_0x3587c0['map'](_0x141f5b=>_0x141f5b['correctResponse'])[_0x37af50(0x512)](_0x5f258e=>_0x5f258e&&_0x5f258e['trim']()!=='');shuffleArray(_0x418275),_0x3587c0[_0x37af50(0x8f9)](_0x24eb9f=>{const _0x2f44af=_0x37af50;_0x24eb9f[_0x2f44af(0x2c7)]=[..._0x418275];}),console['log']('Matching\x20options\x20synced:',_0x418275);}}if(_0x391c02){if(_0x4632c5!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x37af50(0xdbf)]){}}else currentQuizData=_0x115e55,displayGeneratedQuiz(currentQuizData,_0x2bbfc8,_0xa7fda8);}return _0x115e55;}else return _0x337244;}catch(_0x507273){console[_0x37af50(0xada)](_0x37af50(0x855),_0x507273),showMessage(_0x37af50(0xcc8)+_0x507273[_0x37af50(0x267)]);_0x391c02&&(_0x1767fb[_0x37af50(0x93e)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x507273;}finally{_0x320145[_0x37af50(0x807)][_0x37af50(0xcec)]('hidden'),document[_0x37af50(0xccc)](_0x37af50(0xba8))['disabled']=![],document['getElementById'](_0x37af50(0xbb6))[_0x37af50(0x7ef)]=![],document[_0x37af50(0xccc)](_0x37af50(0x1ef))['disabled']=![];if(_0x5845fc)_0x5845fc[_0x37af50(0x7ef)]=![];if(_0x18454b)_0x18454b[_0x37af50(0x7ef)]=![];if(_0x227cf8)_0x227cf8[_0x37af50(0x7ef)]=![];}}function exitFullscreen(){const _0x237d3b=_0x157a22;if(document[_0x237d3b(0x69c)])document['exitFullscreen']()[_0x237d3b(0x43c)](_0x13212f=>console[_0x237d3b(0xada)](_0x13212f));else{if(document[_0x237d3b(0xd98)])document[_0x237d3b(0xd98)]();else document[_0x237d3b(0x14b)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x28c96b=_0x157a22,_0x234d8e=document[_0x28c96b(0xd29)];if(_0x234d8e[_0x28c96b(0xbce)])_0x234d8e[_0x28c96b(0xbce)]()[_0x28c96b(0x43c)](_0x5a10d2=>{const _0xa0549f=_0x28c96b;console[_0xa0549f(0xada)](_0xa0549f(0xad7)+_0x5a10d2['message']+'\x20('+_0x5a10d2['name']+')');});else{if(_0x234d8e['webkitRequestFullscreen'])_0x234d8e['webkitRequestFullscreen']();else _0x234d8e['msRequestFullscreen']&&_0x234d8e[_0x28c96b(0x20f)]();}}function handleCheatingEvent(){const _0x3f619d=_0x157a22;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3f619d(0x212),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x3f619d(0xd61)+maxCheatAttempts+_0x3f619d(0x171)),document[_0x3f619d(0xccc)](_0x3f619d(0xed))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x3f619d(0xb65)](_0x3f619d(0xd4b),handleVisibilityChange),document[_0x3f619d(0xb65)](_0x3f619d(0x2ab),handleFullscreenChange)):showMessage(_0x3f619d(0x9b5)+cheatAttempts+'/'+maxCheatAttempts+_0x3f619d(0x4ff),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x39a5cb=_0x157a22;if(currentMode===_0x39a5cb(0xba1)||!isQuizActive)return;if(document[_0x39a5cb(0xc90)]===_0x39a5cb(0x9f0))handleCheatingEvent();else document[_0x39a5cb(0xc90)]===_0x39a5cb(0xc3a)&&(console['log'](_0x39a5cb(0x79f)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x417b96=_0x157a22;if(currentMode===_0x417b96(0xba1)||!isQuizActive)return;!document[_0x417b96(0xaa0)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x307a9b,_0xc61026=null,_0x2c17dd=null){const _0x317617=_0x157a22,_0x1954be=document['getElementById'](_0x317617(0x4b1));let _0x42dde9=_0x317617(0xa2e)+_0x307a9b[_0x317617(0xe36)]+_0x317617(0x421);_0x307a9b['questions']['forEach']((_0x2bf0be,_0x31e4b6)=>{const _0x50b3b1=_0x317617;!_0x2bf0be['id']&&(_0x2bf0be['id']='q_'+Date[_0x50b3b1(0x338)]()+'_'+_0x31e4b6);const _0x387d76=_0x2bf0be[_0x50b3b1(0x36c)]||_0x307a9b[_0x50b3b1(0x7fc)];_0x42dde9+=_0x50b3b1(0xad8)+_0x31e4b6+_0x50b3b1(0xaaa)+_0x31e4b6+_0x50b3b1(0x8de)+_0x31e4b6+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x387d76===_0x50b3b1(0x283)?_0x42dde9+=_0x50b3b1(0x2d7)+_0x31e4b6+'\x22>'+(_0x31e4b6+0x1)+'.\x20'+_0x2bf0be[_0x50b3b1(0x6a8)]+_0x50b3b1(0x723):_0x42dde9+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x31e4b6+'\x22>'+(_0x31e4b6+0x1)+'.\x20'+_0x2bf0be[_0x50b3b1(0x885)]+_0x50b3b1(0x723);_0x2bf0be['imageCode']&&(_0x42dde9+=_0x50b3b1(0x66e)+_0x31e4b6+_0x50b3b1(0x973)+_0x2bf0be['imageCode']+_0x50b3b1(0x6ae));if(_0x2bf0be[_0x50b3b1(0xaee)]&&Array[_0x50b3b1(0x9c5)](_0x2bf0be[_0x50b3b1(0xaee)])&&_0x2bf0be[_0x50b3b1(0xaee)]['length']>0x0)_0x42dde9+=_0x50b3b1(0x5d0)+_0x31e4b6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bf0be[_0x50b3b1(0xaee)]['map']((_0x1ed7cf,_0xde0b2b)=>'<li\x20class=\x22'+(_0xde0b2b===_0x2bf0be[_0x50b3b1(0x2bd)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x1ed7cf+_0x50b3b1(0x5af))[_0x50b3b1(0x72e)]('')+_0x50b3b1(0x924);else{if(_0x387d76===_0x50b3b1(0x283)||_0x2bf0be['correctResponse'])_0x42dde9+=_0x50b3b1(0x46b)+_0x31e4b6+'\x22>'+_0x2bf0be[_0x50b3b1(0xb75)]+_0x50b3b1(0xd99);else{if(_0x387d76==='true_false'||typeof _0x2bf0be['correctAnswer']===_0x50b3b1(0x104))_0x42dde9+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2bf0be[_0x50b3b1(0xcab)]===!![]?'text-green-600\x20font-bold':'')+_0x50b3b1(0xa24)+(_0x2bf0be['correctAnswer']===![]?'text-green-600\x20font-bold':'')+_0x50b3b1(0x12c);else _0x2bf0be[_0x50b3b1(0x314)]?_0x42dde9+=_0x50b3b1(0x5b1)+_0x31e4b6+'\x22>'+_0x2bf0be[_0x50b3b1(0x314)]+_0x50b3b1(0xd99):_0x42dde9+=_0x50b3b1(0xc29);}}_0x42dde9+=_0x50b3b1(0x830)+_0x31e4b6+'\x22>'+_0x2bf0be[_0x50b3b1(0x928)]+'</span></div>',_0x42dde9+=_0x50b3b1(0x6ae);}),_0x42dde9+=_0x317617(0x11e),_0x1954be['innerHTML']=_0x42dde9,document[_0x317617(0x5f0)](_0x317617(0xd0f))[_0x317617(0x8f9)](_0x751f07=>_0x751f07['addEventListener'](_0x317617(0x343),handleEditQuestion)),document['querySelectorAll'](_0x317617(0x7b6))[_0x317617(0x8f9)](_0x91525b=>_0x91525b[_0x317617(0x7d6)](_0x317617(0x343),handleRegenerateQuestion)),document['getElementById'](_0x317617(0x6af))[_0x317617(0x7d6)]('click',exportQuizAsWorksheetPDF),document[_0x317617(0xccc)]('verify-answers-btn')[_0x317617(0x7d6)](_0x317617(0x343),handleVerifyAnswers);const _0x1a4b05=document['getElementById']('save-quiz-btn');if(_0x1a4b05){const _0x4355c5=_0xc61026||currentProjectId;_0x1a4b05['addEventListener'](_0x317617(0x343),()=>saveQuiz(_0x4355c5,_0x2c17dd));}if(window[_0x317617(0x5e4)])window['MathJax'][_0x317617(0xd06)]([_0x1954be]);}function handleRegenerateQuestion(_0x595bb2){const _0x443077=_0x157a22,_0x4699e3=_0x595bb2[_0x443077(0xb10)][_0x443077(0x87a)][_0x443077(0x479)],_0xb96b07=currentQuizData[_0x443077(0xe36)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x4699e3)+0x1)+_0x443077(0xd17)),generateQuiz(_0xb96b07,null,parseInt(_0x4699e3));}function getPointerPosition(_0x1c9589,_0x13a20b){const _0x14960d=_0x157a22,_0x2cb68e=_0x1c9589[_0x14960d(0x644)]();let _0x1321d1,_0x527b26;return _0x13a20b[_0x14960d(0xd31)]&&_0x13a20b[_0x14960d(0xd31)][_0x14960d(0x34a)]>0x0?(_0x1321d1=_0x13a20b[_0x14960d(0xd31)][0x0][_0x14960d(0xc20)],_0x527b26=_0x13a20b[_0x14960d(0xd31)][0x0]['clientY']):(_0x1321d1=_0x13a20b[_0x14960d(0xc20)],_0x527b26=_0x13a20b[_0x14960d(0x950)]),{'x':(_0x1321d1-_0x2cb68e['e'])/_0x2cb68e['a'],'y':(_0x527b26-_0x2cb68e['f'])/_0x2cb68e['d']};}function startDrag(_0x45cb11){const _0x3f8bbc=_0x157a22;_0x45cb11['type']===_0x3f8bbc(0x211)&&_0x45cb11[_0x3f8bbc(0x54c)]();const _0x4c9fb3=_0x45cb11[_0x3f8bbc(0xc55)]['closest']('.draggable-text');if(_0x4c9fb3){draggedSvgElement=_0x4c9fb3;const _0x12172a=draggedSvgElement[_0x3f8bbc(0x4fd)],_0x2f1ed6=getPointerPosition(_0x12172a,_0x45cb11);svgOffset['x']=_0x2f1ed6['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x2f1ed6['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x978cd6,_0x4f6e59){const _0x2938df=_0x157a22,_0x3d0c2b={};if(_0x4f6e59[_0x2938df(0x34a)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x755abf=[..._0x4f6e59][_0x2938df(0x4b3)]((_0x5c13a0,_0x3edd65)=>{const _0xb1dc89=_0x2938df,_0x563de4=_0x3edd65[_0xb1dc89(0x2d2)]-_0x5c13a0['latestScore'];if(_0x563de4!==0x0)return _0x563de4;const _0x170953=_0x5c13a0[_0xb1dc89(0xbae)]?.['length']||0x1,_0x5f3657=_0x3edd65['attempts']?.[_0xb1dc89(0x34a)]||0x1,_0x226ee3=_0x170953-_0x5f3657;if(_0x226ee3!==0x0)return _0x226ee3;const _0x3f61f6=new Date(_0x5c13a0[_0xb1dc89(0x2b4)]),_0x5e1037=new Date(_0x3edd65[_0xb1dc89(0x2b4)]),_0x127037=_0x3f61f6-_0x5e1037;if(_0x127037!==0x0)return _0x127037;return _0x5c13a0['studentName'][_0xb1dc89(0x2ef)](_0x3edd65[_0xb1dc89(0x894)],'th');}),_0x28d1c7=_0x755abf[_0x2938df(0x34a)],_0x5e0f92=Math['max'](0x1,Math[_0x2938df(0xc3c)](_0x28d1c7*0.33));if(_0x5e0f92===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x35b33c=_0x755abf[_0x2938df(0xd3d)](0x0,_0x5e0f92),_0x335402=_0x755abf[_0x2938df(0xd3d)](-_0x5e0f92),_0x510357=_0x35b33c[_0x2938df(0x141)](_0x1faaba=>_0x1faaba[_0x2938df(0x894)]),_0x599c45=_0x335402[_0x2938df(0x141)](_0x33fb7f=>_0x33fb7f[_0x2938df(0x894)]);return _0x978cd6[_0x2938df(0xdbf)][_0x2938df(0x8f9)]((_0x77d605,_0xf3cacb)=>{const _0x22ee41=_0x2938df,_0x734206=_0x77d605[_0x22ee41(0x6a8)]||_0x77d605[_0x22ee41(0x885)];let _0x4d692f=0x0,_0xd00594=0x0,_0x3dd8cb=0x0;const _0x198395=[],_0xaff9da=[];_0x35b33c[_0x22ee41(0x8f9)](_0x9ca2a6=>{const _0x265c44=_0x22ee41,_0x4430da=_0x9ca2a6[_0x265c44(0xbae)][_0x9ca2a6[_0x265c44(0xbae)][_0x265c44(0x34a)]-0x1],_0x4346bd=_0x4430da[_0x265c44(0x534)]['find'](_0x52375f=>_0x52375f[_0x265c44(0x354)]===_0x734206);_0x198395[_0x265c44(0xde9)]({'name':_0x9ca2a6['studentName'],'isCorrect':_0x4346bd?_0x4346bd[_0x265c44(0xa04)]:![]}),_0x4346bd&&_0x4346bd[_0x265c44(0xa04)]&&_0xd00594++;}),_0x335402[_0x22ee41(0x8f9)](_0xcddce0=>{const _0x54d52f=_0x22ee41,_0x421ed1=_0xcddce0[_0x54d52f(0xbae)][_0xcddce0[_0x54d52f(0xbae)][_0x54d52f(0x34a)]-0x1],_0x1ca7fc=_0x421ed1[_0x54d52f(0x534)]['find'](_0x378095=>_0x378095['originalQuestionText']===_0x734206);_0xaff9da['push']({'name':_0xcddce0[_0x54d52f(0x894)],'isCorrect':_0x1ca7fc?_0x1ca7fc[_0x54d52f(0xa04)]:![]}),_0x1ca7fc&&_0x1ca7fc[_0x54d52f(0xa04)]&&_0x3dd8cb++;}),_0x4f6e59[_0x22ee41(0x8f9)](_0x538831=>{const _0xbe654=_0x22ee41,_0x464e3a=_0x538831[_0xbe654(0xbae)][_0x538831[_0xbe654(0xbae)][_0xbe654(0x34a)]-0x1],_0x29a930=_0x464e3a[_0xbe654(0x534)][_0xbe654(0x48e)](_0x4d8872=>_0x4d8872[_0xbe654(0x354)]===_0x734206);_0x29a930&&_0x29a930[_0xbe654(0xa04)]&&_0x4d692f++;});const _0x1f21f3=_0x28d1c7>0x0?_0x4d692f/_0x28d1c7:0x0,_0x4a54ee=_0x5e0f92>0x0?_0xd00594/_0x5e0f92-_0x3dd8cb/_0x5e0f92:0x0;_0x3d0c2b[_0xf3cacb]={'p':_0x1f21f3,'r':_0x4a54ee,'upperGroupResponders':_0x198395,'lowerGroupResponders':_0xaff9da};}),{'perQuestionStats':_0x3d0c2b,'overallGroups':{'upperGroupNames':_0x510357,'lowerGroupNames':_0x599c45}};}function drag(_0x46ea86){const _0x1158e9=_0x157a22;if(draggedSvgElement){_0x46ea86['preventDefault']();const _0x339168=draggedSvgElement['ownerSVGElement'],_0x5a18c5=getPointerPosition(_0x339168,_0x46ea86),_0x588fbb=_0x339168[_0x1158e9(0x356)][_0x1158e9(0xd45)];let _0x13669f=_0x5a18c5['x']-svgOffset['x'],_0xffd62e=_0x5a18c5['y']-svgOffset['y'];const _0x2725f4=draggedSvgElement[_0x1158e9(0xdea)]();_0x13669f=Math[_0x1158e9(0xaa7)](_0x588fbb['x'],Math['min'](_0x13669f,_0x588fbb['x']+_0x588fbb[_0x1158e9(0x507)]-_0x2725f4[_0x1158e9(0x507)])),_0xffd62e=Math[_0x1158e9(0xaa7)](_0x588fbb['y'],Math[_0x1158e9(0x387)](_0xffd62e,_0x588fbb['y']+_0x588fbb[_0x1158e9(0x612)]-_0x2725f4[_0x1158e9(0x612)])),draggedSvgElement[_0x1158e9(0x6fd)](null,'x',_0x13669f),draggedSvgElement[_0x1158e9(0x6fd)](null,'y',_0xffd62e);}}function endDrag(_0x2fdd4d){draggedSvgElement=null;}function handleSvgEditClick(_0x1ce54d){const _0x372629=_0x157a22;if(_0x1ce54d[_0x372629(0xc55)][_0x372629(0x807)][_0x372629(0xa2d)]('delete-svg-btn')){const _0x34ae2b=_0x1ce54d[_0x372629(0xc55)][_0x372629(0x87a)][_0x372629(0x69a)],_0x5b5a27=_0x1ce54d['currentTarget'],_0x1fa88b=_0x5b5a27[_0x372629(0xdd0)]('#'+_0x34ae2b);_0x1fa88b&&_0x1fa88b[_0x372629(0x90e)](),_0x1ce54d['target']['remove']();}}function handleEditQuestion(_0x1346a5){const _0x29f2d2=_0x157a22,_0x1c3fab=_0x1346a5[_0x29f2d2(0xb10)],_0x1a48ce=_0x1c3fab[_0x29f2d2(0x87a)][_0x29f2d2(0x479)],_0x1ee0da=currentQuizData[_0x29f2d2(0xdbf)][_0x1a48ce],_0x6b7b3f=document[_0x29f2d2(0xccc)]('q-text-'+_0x1a48ce),_0x5bfd70=document[_0x29f2d2(0xccc)](_0x29f2d2(0xb7e)+_0x1a48ce),_0x34cd03=document[_0x29f2d2(0xccc)](_0x29f2d2(0xb43)+_0x1a48ce);if(_0x1c3fab[_0x29f2d2(0x93e)][_0x29f2d2(0x9e3)](_0x29f2d2(0x4d1))){_0x1c3fab[_0x29f2d2(0x93e)]=_0x29f2d2(0x257),_0x1c3fab['title']='บันทึกการแก้ไข';if(_0x6b7b3f)_0x6b7b3f['contentEditable']=!![];if(_0x5bfd70)_0x5bfd70[_0x29f2d2(0x537)]=!![];if(_0x34cd03){const _0x90028a=_0x34cd03[_0x29f2d2(0xdd0)]('svg');if(_0x90028a){const _0x53d119=_0x90028a[_0x29f2d2(0x5f0)](_0x29f2d2(0x84b));_0x53d119['forEach']((_0x22f323,_0x2a657c)=>{const _0x2b5c56=_0x29f2d2,_0x4fc1a1='editable-text-'+_0x1a48ce+'-'+_0x2a657c;_0x22f323['id']=_0x4fc1a1,_0x22f323['classList']['add']('draggable-text'),_0x22f323[_0x2b5c56(0xb74)][_0x2b5c56(0x938)]=_0x2b5c56(0x2aa);const _0x28e2cd=document[_0x2b5c56(0x259)](_0x2b5c56(0xd9c),'circle'),_0x4f0dc9=_0x22f323[_0x2b5c56(0xdea)]();_0x28e2cd[_0x2b5c56(0xe90)]('cx',String(_0x4f0dc9['x']+_0x4f0dc9['width']+0x5)),_0x28e2cd[_0x2b5c56(0xe90)]('cy',String(_0x4f0dc9['y']+_0x4f0dc9[_0x2b5c56(0x612)]/0x2-0x5)),_0x28e2cd[_0x2b5c56(0xe90)]('r','5'),_0x28e2cd['setAttribute'](_0x2b5c56(0xa43),_0x2b5c56(0xaba)),_0x28e2cd[_0x2b5c56(0xe90)](_0x2b5c56(0xbc2),_0x2b5c56(0x7e4)),_0x28e2cd['dataset'][_0x2b5c56(0x69a)]=_0x4fc1a1,_0x22f323[_0x2b5c56(0xa1b)](_0x28e2cd);}),_0x90028a[_0x29f2d2(0x7d6)]('mousedown',startDrag),_0x90028a[_0x29f2d2(0x7d6)]('mousemove',drag),_0x90028a[_0x29f2d2(0x7d6)](_0x29f2d2(0x9b1),endDrag),_0x90028a[_0x29f2d2(0x7d6)]('mouseleave',endDrag),_0x90028a['addEventListener'](_0x29f2d2(0x211),startDrag,{'passive':![]}),_0x90028a[_0x29f2d2(0x7d6)](_0x29f2d2(0x5f7),drag,{'passive':![]}),_0x90028a[_0x29f2d2(0x7d6)](_0x29f2d2(0xc31),endDrag),_0x90028a[_0x29f2d2(0x7d6)](_0x29f2d2(0xdc6),endDrag),_0x90028a[_0x29f2d2(0x7d6)]('click',handleSvgEditClick);}}if(_0x6b7b3f)_0x6b7b3f['focus']();}else{_0x1c3fab['innerHTML']=_0x29f2d2(0x781),_0x1c3fab[_0x29f2d2(0xbd0)]=_0x29f2d2(0x85e);if(_0x6b7b3f){_0x6b7b3f['contentEditable']=![];const _0x577872=_0x1ee0da[_0x29f2d2(0x36c)]||currentQuizData[_0x29f2d2(0x7fc)];_0x577872==='matching_item'?_0x1ee0da['stem']=_0x6b7b3f['innerText'][_0x29f2d2(0x500)](_0x6b7b3f[_0x29f2d2(0xdbb)]['indexOf']('.')+0x2)[_0x29f2d2(0x6b3)]():_0x1ee0da[_0x29f2d2(0x885)]=_0x6b7b3f[_0x29f2d2(0xdbb)][_0x29f2d2(0x500)](_0x6b7b3f['innerText'][_0x29f2d2(0x971)]('.')+0x2)['trim']();}_0x5bfd70&&(_0x5bfd70[_0x29f2d2(0x537)]=![],_0x1ee0da[_0x29f2d2(0x928)]=_0x5bfd70[_0x29f2d2(0xdbb)]);if(_0x34cd03){const _0x4afd9a=_0x34cd03[_0x29f2d2(0xdd0)]('svg');if(_0x4afd9a){const _0x5ade9e=_0x4afd9a[_0x29f2d2(0x101)](!![]);_0x5ade9e[_0x29f2d2(0x5f0)](_0x29f2d2(0x9fc))[_0x29f2d2(0x8f9)](_0x5922c9=>_0x5922c9[_0x29f2d2(0x90e)]()),_0x5ade9e[_0x29f2d2(0x5f0)](_0x29f2d2(0x547))[_0x29f2d2(0x8f9)](_0x41d398=>{const _0x36f1ce=_0x29f2d2;_0x41d398[_0x36f1ce(0x807)][_0x36f1ce(0x90e)]('draggable-text'),_0x41d398['style'][_0x36f1ce(0x938)]=_0x36f1ce(0x19a),_0x41d398[_0x36f1ce(0xb62)]('id');}),_0x1ee0da[_0x29f2d2(0x71e)]=_0x5ade9e[_0x29f2d2(0x223)],_0x4afd9a['removeEventListener'](_0x29f2d2(0xd80),startDrag),_0x4afd9a['removeEventListener'](_0x29f2d2(0x8ee),drag),_0x4afd9a[_0x29f2d2(0xb65)](_0x29f2d2(0x9b1),endDrag),_0x4afd9a['removeEventListener'](_0x29f2d2(0xa1d),endDrag),_0x4afd9a[_0x29f2d2(0xb65)](_0x29f2d2(0x211),startDrag),_0x4afd9a[_0x29f2d2(0xb65)](_0x29f2d2(0x5f7),drag),_0x4afd9a[_0x29f2d2(0xb65)](_0x29f2d2(0xc31),endDrag),_0x4afd9a[_0x29f2d2(0xb65)](_0x29f2d2(0xdc6),endDrag),_0x4afd9a['removeEventListener'](_0x29f2d2(0x343),handleSvgEditClick),_0x4afd9a[_0x29f2d2(0x5f0)](_0x29f2d2(0x9fc))[_0x29f2d2(0x8f9)](_0x117d40=>_0x117d40[_0x29f2d2(0x90e)]()),_0x4afd9a[_0x29f2d2(0x5f0)]('.draggable-text')[_0x29f2d2(0x8f9)](_0x295f57=>{const _0x596353=_0x29f2d2;_0x295f57[_0x596353(0x807)][_0x596353(0x90e)](_0x596353(0x4bb)),_0x295f57['style'][_0x596353(0x938)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x14e454){const _0x86c5c=_0x157a22,_0x32e6a2=document[_0x86c5c(0xccc)]('quiz-editor-modal'),_0x1e2ed6=document[_0x86c5c(0xccc)](_0x86c5c(0x4e4));_0x1e2ed6['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x32e6a2[_0x86c5c(0x807)][_0x86c5c(0x90e)](_0x86c5c(0x9f0));try{const _0x4a2831=doc(db,'artifacts/'+appId+_0x86c5c(0x78d),_0x14e454),_0xfa3691=await getDoc(_0x4a2831);if(!_0xfa3691[_0x86c5c(0xc43)]())throw new Error(_0x86c5c(0x760));currentEditingQuizData={'id':_0x14e454,..._0xfa3691[_0x86c5c(0xd60)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xa12794){console['error'](_0x86c5c(0x7b0),_0xa12794),showMessage(_0x86c5c(0xcb7)),_0x32e6a2[_0x86c5c(0x807)][_0x86c5c(0xcec)]('hidden');}}function renderQuizEditor(_0x29fa96){const _0x326dd2=_0x157a22;document[_0x326dd2(0xccc)](_0x326dd2(0xacf))[_0x326dd2(0xa9f)]=_0x29fa96['topic'];const _0x26e8ec=document[_0x326dd2(0xccc)](_0x326dd2(0x4e4));let _0x137aa2=_0x29fa96['questions']['map']((_0x2cb78d,_0x2b8317)=>{const _0x145e7c=_0x326dd2;let _0x3e35d1='';const _0x5ec636=_0x2cb78d[_0x145e7c(0x36c)]||_0x29fa96[_0x145e7c(0x7fc)],_0x51a978=(_0x5ec636===_0x145e7c(0xb27)||_0x5ec636===_0x145e7c(0xdf0))&&_0x2cb78d[_0x145e7c(0xaee)]&&_0x2cb78d[_0x145e7c(0xaee)][_0x145e7c(0x34a)]>0x0;switch(_0x5ec636){case _0x145e7c(0x75f):const _0x3a2c1c=(_0x2cb78d[_0x145e7c(0xaee)]||[])['map']((_0x371bcc,_0x53b67f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2b8317+'\x22\x20value=\x22'+_0x53b67f+'\x22\x20'+(_0x53b67f===_0x2cb78d[_0x145e7c(0x2bd)]?'checked':'')+_0x145e7c(0xc6e)+_0x371bcc+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x145e7c(0x72e)]('');_0x3e35d1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x3a2c1c+_0x145e7c(0xcfa);break;case _0x145e7c(0xdf0):case'short_answer':_0x3e35d1=_0x145e7c(0xde8)+(_0x2cb78d[_0x145e7c(0x314)]||'')+_0x145e7c(0xd39);if(_0x51a978){const _0x537f17=(_0x2cb78d['options']||[])[_0x145e7c(0x141)]((_0x4894a1,_0x4d798a)=>_0x145e7c(0x2ae)+_0x2b8317+_0x145e7c(0x1cf)+_0x4d798a+'\x22\x20'+(_0x4d798a===_0x2cb78d['correctAnswerIndex']?_0x145e7c(0x174):'')+'\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4894a1+_0x145e7c(0x578))[_0x145e7c(0x72e)]('');_0x3e35d1+=_0x145e7c(0x8fc)+_0x537f17+_0x145e7c(0x599);}break;case _0x145e7c(0xc6b):_0x3e35d1=_0x145e7c(0x766)+_0x2b8317+_0x145e7c(0x831)+(_0x2cb78d[_0x145e7c(0xcab)]===!![]?'checked':'')+_0x145e7c(0x75d)+_0x2b8317+'\x22\x20value=\x22false\x22\x20'+(_0x2cb78d[_0x145e7c(0xcab)]===![]?_0x145e7c(0x174):'')+_0x145e7c(0x122);break;case _0x145e7c(0x283):_0x3e35d1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2cb78d[_0x145e7c(0xb75)]||'')+_0x145e7c(0xd6e);break;}let _0x2038b2=_0x2cb78d[_0x145e7c(0x885)]||_0x2cb78d[_0x145e7c(0x6a8)]||'';_0x2038b2=_0x2038b2[_0x145e7c(0xb64)](/<br\s*\/?>/gi,'\x0a');let _0x50986d='';if(_0x5ec636===_0x145e7c(0x75f))_0x50986d=_0x145e7c(0x83f);else _0x51a978&&(_0x50986d=_0x145e7c(0xb4e));return _0x145e7c(0x7e5)+_0x2b8317+_0x145e7c(0x8a9)+_0x5ec636+'\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50986d+_0x145e7c(0xe0e)+(_0x2b8317+0x1)+'\x20('+_0x5ec636+_0x145e7c(0xb04)+_0x2038b2+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x3e35d1+_0x145e7c(0x570);})['join']('');_0x26e8ec['innerHTML']=_0x137aa2;const _0x333bf7=_0x326dd2(0xcc0);_0x26e8ec[_0x326dd2(0x97f)](_0x326dd2(0xe2f),_0x333bf7),_0x26e8ec[_0x326dd2(0x5f0)]('.auto-resize-textarea')['forEach'](_0x1bc9c9=>{const _0x19c17a=_0x326dd2;_0x1bc9c9[_0x19c17a(0xb74)][_0x19c17a(0xcdd)]='hidden',_0x1bc9c9[_0x19c17a(0xb74)][_0x19c17a(0x983)]=_0x19c17a(0xe01),_0x1bc9c9['rows']=0x4;const _0x5a73bb=()=>{const _0x241f1a=_0x19c17a;_0x1bc9c9[_0x241f1a(0xb74)][_0x241f1a(0x612)]='auto',_0x1bc9c9['style'][_0x241f1a(0x612)]=_0x1bc9c9[_0x241f1a(0x12e)]+'px';};_0x1bc9c9[_0x19c17a(0x7d6)]('input',_0x5a73bb),_0x5a73bb();}),_0x26e8ec[_0x326dd2(0x5f0)](_0x326dd2(0x957))[_0x326dd2(0x8f9)](_0x88b32d=>{const _0x33e351=_0x326dd2;_0x88b32d[_0x33e351(0x7d6)](_0x33e351(0x343),handleAiFixQuestion);}),_0x26e8ec['querySelectorAll']('.ai-fix-formula-btn')['forEach'](_0x54d9b2=>{const _0x3763d8=_0x326dd2;_0x54d9b2[_0x3763d8(0x7d6)]('click',_0x4af417=>{const _0x84dd56=_0x3763d8,_0x4ec720=parseInt(_0x4af417[_0x84dd56(0xb10)]['closest']('.question-editor-item')[_0x84dd56(0x87a)][_0x84dd56(0x4e7)],0xa);handleAiFixFormula(_0x4ec720);});}),_0x26e8ec[_0x326dd2(0x5f0)](_0x326dd2(0xc0a))[_0x326dd2(0x8f9)](_0x18c01f=>{const _0x214a38=_0x326dd2;_0x18c01f[_0x214a38(0x7d6)]('click',_0x3a6724=>{const _0x1f3bd7=_0x214a38,_0x10e7f5=parseInt(_0x3a6724[_0x1f3bd7(0xb10)]['closest'](_0x1f3bd7(0x895))[_0x1f3bd7(0x87a)][_0x1f3bd7(0x4e7)],0xa);handleToggleHiddenOptions(_0x10e7f5);});});}function handleToggleHiddenOptions(_0x31ea95){const _0x4937a6=_0x157a22;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x31ea95])return;const _0x44e892=currentEditingQuizData[_0x4937a6(0xdbf)][_0x31ea95],_0x383973=_0x44e892[_0x4937a6(0x36c)]||_0x4937a6(0x75f),_0x4134bf=document['querySelector'](_0x4937a6(0x8f0)+_0x31ea95+'\x22]');if(_0x4134bf){_0x44e892[_0x4937a6(0x885)]=_0x4134bf[_0x4937a6(0xdd0)](_0x4937a6(0x3d9))['value'];if(_0x383973===_0x4937a6(0x75f)){const _0x239818=_0x4134bf[_0x4937a6(0x5f0)]('.option-input');_0x44e892[_0x4937a6(0xaee)]=Array[_0x4937a6(0x2d0)](_0x239818)[_0x4937a6(0x141)](_0x4f172d=>_0x4f172d[_0x4937a6(0xa9f)]);const _0x2c0360=_0x4134bf[_0x4937a6(0xdd0)](_0x4937a6(0x9f7));if(_0x2c0360)_0x44e892[_0x4937a6(0x2bd)]=parseInt(_0x2c0360['value']);}else{if(_0x383973==='short_answer'||_0x383973===_0x4937a6(0xdf0)){const _0x14780e=_0x4134bf[_0x4937a6(0xdd0)](_0x4937a6(0x3aa));if(_0x14780e)_0x44e892[_0x4937a6(0x314)]=_0x14780e['value'];const _0x4ce6ec=_0x4134bf['querySelectorAll'](_0x4937a6(0xa36));_0x4ce6ec[_0x4937a6(0x34a)]>0x0&&(_0x44e892['options']=Array[_0x4937a6(0x2d0)](_0x4ce6ec)[_0x4937a6(0x141)](_0x1773f3=>_0x1773f3[_0x4937a6(0xa9f)]));}}}_0x383973===_0x4937a6(0x75f)?(_0x44e892[_0x4937a6(0x36c)]=_0x4937a6(0xb27),_0x44e892[_0x4937a6(0xaee)]&&_0x44e892[_0x4937a6(0x2bd)]!==undefined&&(_0x44e892['idealAnswer']=_0x44e892[_0x4937a6(0xaee)][_0x44e892[_0x4937a6(0x2bd)]]||'')):_0x44e892[_0x4937a6(0x36c)]='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x3f5278){const _0x17c53a=_0x157a22;if(!currentEditingQuizData||!currentEditingQuizData[_0x17c53a(0xdbf)][_0x3f5278])return;const _0x3e7943=currentEditingQuizData[_0x17c53a(0xdbf)][_0x3f5278]['questionText']||currentEditingQuizData[_0x17c53a(0xdbf)][_0x3f5278][_0x17c53a(0x6a8)];showConfirmation(_0x17c53a(0x55c)+(_0x3f5278+0x1)+_0x17c53a(0x4f6)+_0x3e7943[_0x17c53a(0x500)](0x0,0x14)+_0x17c53a(0x3e1),()=>{const _0x3c6aa3=_0x17c53a;currentEditingQuizData[_0x3c6aa3(0xdbf)][_0x3c6aa3(0x183)](_0x3f5278,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x3c6aa3(0x899));});}function handleAddQuestionInEditor(){const _0x2edc3d=_0x157a22;if(!currentEditingQuizData)return;const _0x4b6b13=document[_0x2edc3d(0xccc)](_0x2edc3d(0x84d)),_0x7f9329=_0x4b6b13?_0x4b6b13[_0x2edc3d(0xa9f)]:_0x2edc3d(0x75f);let _0x21381f={'id':'q_'+Date[_0x2edc3d(0x338)]()+_0x2edc3d(0x2dc),'questionType':_0x7f9329,'questionText':_0x2edc3d(0x880),'explanation':'คำอธิบาย...'};switch(_0x7f9329){case'multiple_choice':_0x21381f['options']=[_0x2edc3d(0x445),_0x2edc3d(0x35a),'ตัวเลือก\x20ค','ตัวเลือก\x20ง'],_0x21381f[_0x2edc3d(0x2bd)]=0x0;break;case'short_answer':case'fill_in_no_choices':_0x21381f['idealAnswer']=_0x2edc3d(0x5b4);break;case _0x2edc3d(0xc6b):_0x21381f['correctAnswer']=!![];break;case'matching_item':_0x21381f['stem']='คำถาม...',_0x21381f[_0x2edc3d(0xb75)]=_0x2edc3d(0x7a9),_0x21381f['questionText']=_0x2edc3d(0x2b0);break;}currentEditingQuizData[_0x2edc3d(0xdbf)][_0x2edc3d(0xde9)](_0x21381f),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x5db1bf=_0x2edc3d,_0x4f5a6b=document[_0x5db1bf(0xdd0)](_0x5db1bf(0xc37));if(_0x4f5a6b){_0x4f5a6b[_0x5db1bf(0x589)]({'behavior':_0x5db1bf(0x7a0),'block':_0x5db1bf(0x6ea)});const _0x1b573f=_0x4f5a6b['querySelector'](_0x5db1bf(0x3d9));if(_0x1b573f)_0x1b573f[_0x5db1bf(0x557)]();}},0x64);}async function handleAiFixQuestion(_0x20f7e7){const _0x59074b=_0x157a22,_0x463dd2=_0x20f7e7[_0x59074b(0xb10)],_0x463fec=_0x463dd2['closest']('.question-editor-item');if(!_0x463fec)return;const _0x120943=parseInt(_0x463fec[_0x59074b(0x87a)][_0x59074b(0x4e7)],0xa);if(isNaN(_0x120943)||!currentEditingQuizData[_0x59074b(0xdbf)][_0x120943]){showMessage(_0x59074b(0x7a1));return;}const _0x217437=currentEditingQuizData[_0x59074b(0xdbf)][_0x120943];_0x463dd2['innerHTML']=_0x59074b(0xac9),_0x463dd2[_0x59074b(0x7ef)]=!![];const _0x4a2e82=_0x59074b(0xac5)+JSON['stringify'](_0x217437)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x65a46;const _0xa13ede=_0x217437['questionType']||currentEditingQuizData[_0x59074b(0x7fc)];switch(_0xa13ede){case _0x59074b(0xb27):_0x65a46={'type':_0x59074b(0xd8a),'properties':{'questionText':{'type':_0x59074b(0x685)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x59074b(0x685)}},'required':[_0x59074b(0x885),_0x59074b(0x314),_0x59074b(0x928)]};break;case _0x59074b(0x75f):default:_0x65a46={'type':_0x59074b(0xd8a),'properties':{'questionText':{'type':_0x59074b(0x685)},'options':{'type':_0x59074b(0x83a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x59074b(0x685)},'imageCode':{'type':'STRING'}},'required':[_0x59074b(0x885),_0x59074b(0xaee),_0x59074b(0x2bd),'explanation']};break;}try{let _0x4be40a=await callAnalysisApi(_0x4a2e82,_0x65a46);_0x4be40a['options']&&Array[_0x59074b(0x9c5)](_0x4be40a['options'])&&(_0x4be40a['options']=_0x4be40a[_0x59074b(0xaee)][_0x59074b(0x141)](_0x22749f=>typeof _0x22749f==='string'?_0x22749f[_0x59074b(0xb64)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x22749f)),_0x217437[_0x59074b(0x71e)]&&_0x217437[_0x59074b(0x71e)][_0x59074b(0x9e3)](_0x59074b(0xaf6))&&(_0x4be40a[_0x59074b(0x71e)]=''),currentEditingQuizData[_0x59074b(0xdbf)][_0x120943]={..._0x217437,..._0x4be40a},renderQuizEditor(currentEditingQuizData),showMessage(_0x59074b(0xab1));}catch(_0x4be8ad){console['error']('AI\x20Fix\x20Error:',_0x4be8ad),showMessage(_0x59074b(0x1ab)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x3e4757=_0x157a22,_0x2fb4e5=document[_0x3e4757(0xccc)](_0x3e4757(0x58f));_0x2fb4e5['disabled']=!![],_0x2fb4e5['innerHTML']=_0x3e4757(0x3f6);try{const _0x4559d9=document[_0x3e4757(0xccc)](_0x3e4757(0xacf))[_0x3e4757(0xa9f)],_0x1a1625=document['querySelectorAll']('.question-editor-item');let _0x585769=[];const _0x1b2c2e=Array[_0x3e4757(0x2d0)](_0x1a1625)[_0x3e4757(0x141)]((_0x65061c,_0x72d8ad)=>{const _0x8d70ae=_0x3e4757,_0xc748f7=_0x65061c[_0x8d70ae(0x87a)]['qType'],_0x36b2f0=_0x65061c[_0x8d70ae(0xdd0)](_0x8d70ae(0x3d9))[_0x8d70ae(0xa9f)]['replace'](/\n/g,_0x8d70ae(0x988));let _0x558bb3={'questionType':_0xc748f7};const _0x1a3548=currentEditingQuizData[_0x8d70ae(0xdbf)][_0x72d8ad]||{};switch(_0xc748f7){case _0x8d70ae(0x75f):_0x558bb3[_0x8d70ae(0x885)]=_0x36b2f0;const _0x3dcf06=_0x65061c[_0x8d70ae(0x5f0)]('.option-input');_0x558bb3[_0x8d70ae(0xaee)]=Array[_0x8d70ae(0x2d0)](_0x3dcf06)[_0x8d70ae(0x141)](_0x47d16a=>_0x47d16a[_0x8d70ae(0xa9f)]);const _0x15b8f7=_0x65061c[_0x8d70ae(0xdd0)](_0x8d70ae(0x9f7));_0x558bb3[_0x8d70ae(0x2bd)]=_0x15b8f7?parseInt(_0x15b8f7[_0x8d70ae(0xa9f)]):0x0;break;case _0x8d70ae(0xdf0):case _0x8d70ae(0xb27):_0x558bb3[_0x8d70ae(0x885)]=_0x36b2f0,_0x558bb3['idealAnswer']=_0x65061c[_0x8d70ae(0xdd0)](_0x8d70ae(0x3aa))[_0x8d70ae(0xa9f)];const _0x555d10=_0x65061c['querySelectorAll'](_0x8d70ae(0xa36));_0x555d10[_0x8d70ae(0x34a)]>0x0?(_0x558bb3[_0x8d70ae(0xaee)]=Array[_0x8d70ae(0x2d0)](_0x555d10)['map'](_0xb1f696=>_0xb1f696['value']),_0x1a3548[_0x8d70ae(0x2bd)]!==undefined?_0x558bb3[_0x8d70ae(0x2bd)]=_0x1a3548[_0x8d70ae(0x2bd)]:_0x558bb3[_0x8d70ae(0x2bd)]=0x0):(delete _0x558bb3[_0x8d70ae(0xaee)],delete _0x558bb3['correctAnswerIndex']);break;case _0x8d70ae(0xc6b):_0x558bb3[_0x8d70ae(0x885)]=_0x36b2f0;const _0x231be8=_0x65061c[_0x8d70ae(0xdd0)](_0x8d70ae(0x9f7));_0x558bb3[_0x8d70ae(0xcab)]=_0x231be8?_0x231be8[_0x8d70ae(0xa9f)]==='true':!![];break;case'matching_item':_0x558bb3[_0x8d70ae(0x6a8)]=_0x36b2f0;const _0x77894f=_0x65061c[_0x8d70ae(0xdd0)](_0x8d70ae(0x254));_0x558bb3[_0x8d70ae(0xb75)]=_0x77894f?_0x77894f[_0x8d70ae(0xa9f)]:'',_0x585769['push'](_0x558bb3[_0x8d70ae(0xb75)]);break;default:_0x558bb3['questionText']=_0x36b2f0;break;}return{..._0x1a3548,..._0x558bb3};});_0x585769[_0x3e4757(0x34a)]>0x0&&_0x1b2c2e['forEach'](_0x17e90f=>{const _0x1aac4b=_0x3e4757;_0x17e90f[_0x1aac4b(0x36c)]==='matching_item'&&(_0x17e90f[_0x1aac4b(0x2c7)]=_0x585769);});const _0xd1ff8d=currentEditingQuizData['id'],_0xf80787=doc(db,_0x3e4757(0x331)+appId+_0x3e4757(0x78d),_0xd1ff8d);await updateDoc(_0xf80787,{'topic':_0x4559d9,'questions':_0x1b2c2e}),document[_0x3e4757(0xccc)](_0x3e4757(0xe25))[_0x3e4757(0x807)][_0x3e4757(0xcec)](_0x3e4757(0x9f0)),showMessage(_0x3e4757(0x2d4),()=>initiateReGradeProcess(_0xd1ff8d));}catch(_0x2200d2){console[_0x3e4757(0xada)](_0x3e4757(0x179),_0x2200d2),showMessage(_0x3e4757(0xc5e));}finally{_0x2fb4e5[_0x3e4757(0x7ef)]=![],_0x2fb4e5[_0x3e4757(0x93e)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x3fab35){const _0x5917a4=_0x157a22;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x12005d=doc(db,_0x5917a4(0x331)+appId+'/public/data/quizzes',_0x3fab35),_0x1155e4=await getDoc(_0x12005d);if(!_0x1155e4['exists']())throw new Error(_0x5917a4(0x121));const _0x65445b={'id':_0x3fab35,..._0x1155e4[_0x5917a4(0xd60)]()},_0x4072a3=collection(db,_0x5917a4(0x331)+appId+_0x5917a4(0x78d),_0x3fab35,_0x5917a4(0x6bf)),_0xfd7307=await getDocs(_0x4072a3);if(_0xfd7307[_0x5917a4(0x8bc)]){showMessage(_0x5917a4(0x560));return;}const _0x178a5a=_0xfd7307['docs'][_0x5917a4(0x141)](_0xae518b=>reGradeSingleSubmission(_0xae518b,_0x65445b));await Promise[_0x5917a4(0x3d5)](_0x178a5a);if(_0x65445b[_0x5917a4(0x737)]){const _0xe53649=doc(db,_0x5917a4(0x331)+appId+_0x5917a4(0x21d),_0x65445b['projectId']),_0x41f6eb=await getDoc(_0xe53649);if(_0x41f6eb[_0x5917a4(0xc43)]()&&_0x41f6eb[_0x5917a4(0xd60)]()['students']){const _0x2eb5c7=_0x41f6eb['data']()[_0x5917a4(0xb5a)]['map'](_0x19d68f=>updateStudentProfile(_0x65445b[_0x5917a4(0x737)],_0x19d68f));await Promise['all'](_0x2eb5c7);}}showMessage('ตรวจคะแนนใหม่\x20'+_0xfd7307[_0x5917a4(0x97e)]+_0x5917a4(0x602));}catch(_0x530e26){console[_0x5917a4(0xada)](_0x5917a4(0x9bc),_0x530e26),showMessage(_0x5917a4(0x8b1)+_0x530e26[_0x5917a4(0x267)]);}}async function reGradeSingleSubmission(_0x581392,_0x35809a){const _0x3d723e=_0x157a22,_0x468801=_0x581392[_0x3d723e(0xd60)](),_0x237604=_0x468801[_0x3d723e(0x894)],_0x5d9254=_0x468801[_0x3d723e(0xbae)]||[],_0x1b7955=[];for(const _0x4a1ee8 of _0x5d9254){let _0x21423a=0x0,_0x3b0fe8=[],_0x115453=0x0;const _0x4fe6c3=[];for(const _0x16a6ed of _0x4a1ee8[_0x3d723e(0x534)]){let _0x1f36b3;_0x16a6ed[_0x3d723e(0x5c6)]&&(_0x1f36b3=_0x35809a[_0x3d723e(0xdbf)][_0x3d723e(0x48e)](_0x1701a2=>_0x1701a2['id']===_0x16a6ed[_0x3d723e(0x5c6)]));!_0x1f36b3&&_0x16a6ed[_0x3d723e(0x354)]&&(_0x1f36b3=_0x35809a['questions']['find'](_0x2211dd=>(_0x2211dd[_0x3d723e(0x6a8)]||_0x2211dd[_0x3d723e(0x885)])===_0x16a6ed[_0x3d723e(0x354)]));let _0x4c5e3a=![];if(_0x1f36b3){const _0x1d6734=_0x1f36b3[_0x3d723e(0x36c)]||_0x35809a['quizType'];switch(_0x1d6734){case _0x3d723e(0x75f):if(_0x1f36b3[_0x3d723e(0xaee)]&&_0x1f36b3[_0x3d723e(0x2bd)]<_0x1f36b3[_0x3d723e(0xaee)][_0x3d723e(0x34a)]){const _0x2732cc=_0x1f36b3['options'][_0x1f36b3[_0x3d723e(0x2bd)]];_0x4c5e3a=_0x16a6ed['answerText']===_0x2732cc;}break;case _0x3d723e(0xc6b):const _0x14d328=_0x16a6ed[_0x3d723e(0x649)]===!![]||_0x16a6ed[_0x3d723e(0x649)]==='true';_0x4c5e3a=_0x14d328===_0x1f36b3[_0x3d723e(0xcab)];break;case _0x3d723e(0x283):_0x4c5e3a=_0x16a6ed[_0x3d723e(0x649)]===_0x1f36b3['correctResponse'];break;case _0x3d723e(0xb27):_0x4c5e3a=await gradeShortAnswer(_0x16a6ed[_0x3d723e(0x649)],_0x1f36b3);break;default:_0x4c5e3a=_0x16a6ed[_0x3d723e(0xa04)];break;}}if(_0x4c5e3a){_0x21423a++,_0x115453++;if(_0x115453===0x3)_0x3b0fe8[_0x3d723e(0xde9)](BADGES[_0x3d723e(0x725)]['id']);}else _0x115453=0x0;_0x4fe6c3[_0x3d723e(0xde9)]({..._0x16a6ed,'isCorrect':_0x4c5e3a});}let _0x4183d5=0x0;const _0x52a8d2=_0x4a1ee8[_0x3d723e(0x86b)]===!![]||_0x4a1ee8[_0x3d723e(0x7ff)]>_0x35809a[_0x3d723e(0xdbf)]['length']*0x14;_0x52a8d2?_0x4183d5=_0x4a1ee8[_0x3d723e(0x7ff)]:(_0x4183d5=_0x21423a*0xa,_0x21423a===_0x35809a[_0x3d723e(0xdbf)][_0x3d723e(0x34a)]&&(_0x4183d5+=0x32,_0x3b0fe8[_0x3d723e(0xde9)](BADGES[_0x3d723e(0xcc6)]['id']))),_0x1b7955[_0x3d723e(0xde9)]({..._0x4a1ee8,'score':_0x21423a,'points':_0x4183d5,'badges':Array[_0x3d723e(0x2d0)](new Set(_0x3b0fe8)),'answers':_0x4fe6c3});}const _0x5ac38b=_0x1b7955[_0x3d723e(0x34a)]>0x0?_0x1b7955[0x0][_0x3d723e(0x5c3)]:0x0,_0x21ffdd=Math[_0x3d723e(0xaa7)](..._0x1b7955['map'](_0x4bf040=>_0x4bf040[_0x3d723e(0x5c3)])),_0x177ec2=_0x1b7955[_0x3d723e(0x34a)]>0x0?_0x1b7955[_0x1b7955[_0x3d723e(0x34a)]-0x1]['score']:0x0,_0x402c54=_0x1b7955[_0x3d723e(0x34a)]>0x0?_0x1b7955[_0x1b7955[_0x3d723e(0x34a)]-0x1]['points']:0x0,_0x27568f=doc(db,_0x3d723e(0x331)+appId+_0x3d723e(0xe48)+_0x35809a['id']+_0x3d723e(0x3d6),_0x237604);await updateDoc(_0x27568f,{'attempts':_0x1b7955,'firstScore':_0x5ac38b,'bestScore':_0x21ffdd,'latestScore':_0x177ec2,'points':_0x402c54});}function cleanupQuizOptions(_0x4a1807){const _0xabd27c=_0x157a22,_0x304314=(_0x4b80ed,_0x4e7481)=>_0x4e7481===0x0?_0x4b80ed:_0x304314(_0x4e7481,_0x4b80ed%_0x4e7481),_0x34f31e=_0xfa6c49=>{const _0x456f15=_0x28ee;if(typeof _0xfa6c49!==_0x456f15(0xa30))return null;_0xfa6c49=_0xfa6c49[_0x456f15(0x6b3)]();const _0x1593bd=_0xfa6c49['split'](/[ /]/)[_0x456f15(0x512)](_0x5840a2=>_0x5840a2!=='');if(_0x1593bd[_0x456f15(0x34a)]===0x3)return parseInt(_0x1593bd[0x0])+parseInt(_0x1593bd[0x1])/parseInt(_0x1593bd[0x2]);else{if(_0x1593bd['length']===0x2)return parseInt(_0x1593bd[0x0])/parseInt(_0x1593bd[0x1]);else{if(_0x1593bd[_0x456f15(0x34a)]===0x1&&!isNaN(_0x1593bd[0x0]))return parseFloat(_0x1593bd[0x0]);}}return null;},_0x4f6812=_0x197d5e=>{const _0x311487=_0x28ee;if(typeof _0x197d5e!==_0x311487(0xa30))return _0x197d5e;const _0x819e27=_0x197d5e[_0x311487(0xd3c)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x819e27){const _0x2a3654=parseInt(_0x819e27[0x1]);let _0xa64b5d=parseInt(_0x819e27[0x2]),_0x346703=parseInt(_0x819e27[0x3]);const _0x1d467a=_0x304314(_0xa64b5d,_0x346703);_0xa64b5d/=_0x1d467a,_0x346703/=_0x1d467a;if(_0x346703===0x1)return(_0x2a3654+_0xa64b5d)[_0x311487(0x438)]();return _0x2a3654+'\x20'+_0xa64b5d+'/'+_0x346703;}return _0x197d5e;};return _0x4a1807&&_0x4a1807['questions']&&_0x4a1807[_0xabd27c(0xdbf)][_0xabd27c(0x8f9)](_0x1dc7e3=>{const _0x37b01c=_0xabd27c;if(_0x1dc7e3[_0x37b01c(0x36c)]===_0x37b01c(0x75f)&&_0x1dc7e3[_0x37b01c(0xaee)]){const _0x3e1348=new Map(),_0x281a0f=_0x1dc7e3[_0x37b01c(0xaee)][_0x1dc7e3[_0x37b01c(0x2bd)]];_0x1dc7e3['options'][_0x37b01c(0x8f9)](_0x524cac=>{const _0x3d9bbf=_0x37b01c,_0x409d92=_0x4f6812(_0x524cac),_0xcd7f4=_0x34f31e(_0x409d92);_0xcd7f4!==null&&!_0x3e1348[_0x3d9bbf(0x867)](_0xcd7f4)&&_0x3e1348[_0x3d9bbf(0x301)](_0xcd7f4,_0x409d92);}),_0x1dc7e3[_0x37b01c(0xaee)]=Array['from'](_0x3e1348['values']());const _0x43b7eb=_0x1dc7e3[_0x37b01c(0xaee)][_0x37b01c(0xb42)](_0x334236=>_0x334236===_0x4f6812(_0x281a0f));_0x1dc7e3[_0x37b01c(0x2bd)]=_0x43b7eb!==-0x1?_0x43b7eb:0x0;}}),_0x4a1807;}function showGameStartConfirmationModal(_0x510681,_0x5351b8,_0x369d87){const _0x5e026b=_0x157a22,_0x5a695d=document['getElementById']('confirm-game-start-modal');document[_0x5e026b(0xccc)](_0x5e026b(0x8ad))[_0x5e026b(0xc76)]=_0x5e026b(0x978)+_0x369d87,document['getElementById'](_0x5e026b(0x576))[_0x5e026b(0xa9f)]=_0x510681,document[_0x5e026b(0xccc)]('game-start-mode')[_0x5e026b(0xa9f)]=_0x5351b8,document[_0x5e026b(0xccc)]('save-game-results-checkbox')['checked']=!![];const _0x3cdf93=document['getElementById']('sync-variant-selector'),_0x58b84f=document[_0x5e026b(0xccc)](_0x5e026b(0x21a)),_0x1ea50e=document[_0x5e026b(0xccc)](_0x5e026b(0x7be)),_0x5ebc32=document['getElementById'](_0x5e026b(0x1b0)),_0x4ccee9=document['getElementById'](_0x5e026b(0x13a));if(_0x5351b8===_0x5e026b(0xd2a)){_0x3cdf93[_0x5e026b(0x807)][_0x5e026b(0x90e)](_0x5e026b(0x9f0));const _0x2d6a99=_0x5e026b(0x114);document['querySelector'](_0x5e026b(0xd69)+_0x2d6a99+'\x22]')[_0x5e026b(0x174)]=!![];if(_0x4ccee9)_0x4ccee9[_0x5e026b(0x807)]['remove'](_0x5e026b(0x9f0));_0x58b84f[_0x5e026b(0x174)]=!![],_0x1ea50e[_0x5e026b(0x807)][_0x5e026b(0x90e)](_0x5e026b(0x9f0)),document['getElementById']('sync-timer-duration-input')[_0x5e026b(0xa9f)]=_0x5e026b(0x623),_0x5ebc32[_0x5e026b(0x807)][_0x5e026b(0x90e)](_0x5e026b(0x9f0)),document[_0x5e026b(0xccc)](_0x5e026b(0xa91))['checked']=!![];}else{_0x3cdf93['classList'][_0x5e026b(0xcec)](_0x5e026b(0x9f0));if(_0x4ccee9)_0x4ccee9[_0x5e026b(0x807)][_0x5e026b(0xcec)](_0x5e026b(0x9f0));_0x58b84f[_0x5e026b(0x174)]=![],_0x1ea50e['classList'][_0x5e026b(0xcec)](_0x5e026b(0x9f0)),_0x5ebc32[_0x5e026b(0x807)]['add']('hidden');}_0x5a695d[_0x5e026b(0x807)][_0x5e026b(0x90e)](_0x5e026b(0x9f0));}async function saveGameResultsAsSubmissions(_0x121312){const _0x40077f=_0x157a22;if(_0x121312[_0x40077f(0x4ec)]){console[_0x40077f(0x700)]('Game\x20results\x20already\x20saved.\x20Skipping.');return;}console[_0x40077f(0x700)](_0x40077f(0xa9b),_0x121312);const _0x495e03=_0x121312[_0x40077f(0x9c4)];let _0x114e95=[];if(_0x121312['players'])_0x114e95=Object[_0x40077f(0xbd3)](_0x121312['players'])[_0x40077f(0x141)](([_0x40b434,_0x2e795b])=>({'name':_0x40b434,..._0x2e795b}));else _0x121312[_0x40077f(0xbeb)]&&Object[_0x40077f(0x11b)](_0x121312[_0x40077f(0xbeb)])[_0x40077f(0x8f9)](_0x469b00=>{const _0x1d661d=_0x40077f;_0x469b00[_0x1d661d(0xd1c)]['forEach'](_0x15e60e=>{const _0x2a6277=_0x1d661d;_0x114e95['push']({'name':_0x15e60e,'score':_0x469b00[_0x2a6277(0x5c3)],'answers':_0x469b00[_0x2a6277(0x534)]});});});if(_0x114e95[_0x40077f(0x34a)]===0x0)return;const _0x3fb871=_0x121312[_0x40077f(0x937)]?.[_0x40077f(0xdbf)][_0x40077f(0x34a)]||currentQuizData[_0x40077f(0xdbf)][_0x40077f(0x34a)],_0x5df85c=writeBatch(db),_0x25025b=_0x121312['shuffledQuiz']?.[_0x40077f(0x737)]||currentQuizData?.[_0x40077f(0x737)]||currentProjectId,_0x49f8f9={};for(const _0x3270c7 of _0x114e95){const _0xe257da=doc(db,_0x40077f(0x331)+appId+_0x40077f(0xe48)+_0x495e03+_0x40077f(0x3d6),_0x3270c7[_0x40077f(0x190)]),_0x3986a3=(_0x3270c7[_0x40077f(0x534)]||[])[_0x40077f(0x512)](_0x1f4c5b=>_0x1f4c5b[_0x40077f(0xa04)])[_0x40077f(0x34a)];let _0x560558=_0x3270c7['totalPoints']!==undefined?_0x3270c7['totalPoints']:_0x3986a3,_0x3045ad=_0x3270c7[_0x40077f(0x6d4)]||[];if(_0x3986a3===_0x3fb871&&_0x3fb871>0x0){if(!_0x3045ad[_0x40077f(0x9e3)](_0x40077f(0xca3)))_0x3045ad[_0x40077f(0xde9)]('perfect_score');}const _0x59cfb8={'score':_0x3986a3,'points':_0x560558,'badges':_0x3045ad,'submittedAt':new Date()[_0x40077f(0x2f9)](),'isSyncGame':!![],'answers':(_0x3270c7[_0x40077f(0x534)]||[])['map'](_0x108ec2=>({'questionId':_0x108ec2[_0x40077f(0x5c6)],'answer':_0x108ec2[_0x40077f(0x649)],'answerText':_0x108ec2[_0x40077f(0x79b)],'isCorrect':_0x108ec2['isCorrect'],'originalQuestionText':_0x108ec2[_0x40077f(0x354)],'wasConfident':_0x108ec2[_0x40077f(0x6f1)],'powerupUsed':_0x108ec2[_0x40077f(0x561)]||null}))},_0x23bc35=await getDoc(_0xe257da),_0x2ec590=_0x23bc35[_0x40077f(0xc43)]()?_0x23bc35[_0x40077f(0xd60)]():{},_0x1c8d75=_0x2ec590[_0x40077f(0x7ff)]||0x0;let _0x3e4219=0x0;_0x560558>_0x1c8d75&&(_0x3e4219=_0x560558-_0x1c8d75);const _0x48799f={'studentName':_0x3270c7[_0x40077f(0x190)],'totalQuestions':_0x3fb871,'attempts':arrayUnion(_0x59cfb8),'latestScore':_0x3986a3,'points':Math['max'](_0x1c8d75,_0x560558),'latestSubmittedAt':_0x59cfb8[_0x40077f(0xcb8)],'bestScore':Math[_0x40077f(0xaa7)](_0x2ec590[_0x40077f(0x4d8)]||0x0,_0x3986a3),'firstScore':_0x2ec590['firstScore']!==undefined?_0x2ec590['firstScore']:_0x3986a3};_0x5df85c[_0x40077f(0x301)](_0xe257da,_0x48799f,{'merge':!![]}),_0x25025b&&(!_0x49f8f9[_0x3270c7[_0x40077f(0x190)]]&&(_0x49f8f9[_0x3270c7['name']]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x49f8f9[_0x3270c7['name']]['pointsToAdd']+=_0x3e4219,_0x3045ad['forEach'](_0x36ea64=>{const _0x3fe3e2=_0x40077f;_0x49f8f9[_0x3270c7['name']][_0x3fe3e2(0x4e9)]['push'](_0x36ea64);}));}if(_0x25025b)for(const [_0x1bdaf5,_0x468c43]of Object[_0x40077f(0xbd3)](_0x49f8f9)){if(_0x468c43[_0x40077f(0x9b4)]>0x0||_0x468c43[_0x40077f(0x4e9)][_0x40077f(0x34a)]>0x0){const _0x2b31dd=doc(db,'artifacts/'+appId+_0x40077f(0xa18)+_0x25025b+_0x40077f(0x798),_0x1bdaf5),_0x47f26f={'studentName':_0x1bdaf5,'totalPoints':increment(_0x468c43[_0x40077f(0x9b4)])};_0x468c43['badgesToAdd'][_0x40077f(0x8f9)](_0x55f60f=>{const _0x29ddc5=_0x40077f;_0x47f26f[_0x29ddc5(0xca5)+_0x55f60f]=increment(0x1);}),_0x5df85c['set'](_0x2b31dd,_0x47f26f,{'merge':!![]});}}try{if(currentLiveGameId){const _0x280823=doc(db,'artifacts/'+appId+_0x40077f(0x334),currentLiveGameId);_0x5df85c['update'](_0x280823,{'resultsSaved':!![]});}await _0x5df85c['commit'](),console['log'](_0x40077f(0x88f)),showMessage(_0x40077f(0xa64));}catch(_0x10bc7a){console[_0x40077f(0xada)](_0x40077f(0x6ac),_0x10bc7a),showMessage(_0x40077f(0x52e));}}async function saveQuiz(_0xb4c4df=null,_0x2195fd=null){const _0xf5190e=_0x157a22,_0x5a10c3=_0xb4c4df||currentProjectId;if(!_0x5a10c3){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0xf5190e(0xdbf)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0xdb408c=document['getElementById'](_0xf5190e(0x92e));_0xdb408c[_0xf5190e(0x7ef)]=!![],_0xdb408c[_0xf5190e(0x93e)]=_0xf5190e(0x3f6);const _0x29fa51=document[_0xf5190e(0xccc)]('pre-test-checkbox')['checked'];let _0x4daf4b=document[_0xf5190e(0xccc)](_0xf5190e(0xc9b))[_0xf5190e(0xdbb)][_0xf5190e(0x6b3)]();_0x29fa51&&!_0x4daf4b[_0xf5190e(0xb2c)](_0xf5190e(0x44e))&&(_0x4daf4b=_0xf5190e(0xb06)+_0x4daf4b);try{const _0x3ee2ec={'resultsDisplay':document[_0xf5190e(0xccc)](_0xf5190e(0x24d))[_0xf5190e(0xa9f)],'shuffle':document[_0xf5190e(0xccc)](_0xf5190e(0x520))[_0xf5190e(0xa9f)],'timerMode':document[_0xf5190e(0xccc)](_0xf5190e(0x3b8))[_0xf5190e(0xa9f)],'timerDuration':parseInt(document[_0xf5190e(0xccc)]('timer-duration-input')[_0xf5190e(0xa9f)])||0xa,'passingScore':parseInt(document[_0xf5190e(0xccc)](_0xf5190e(0xe37))[_0xf5190e(0xa9f)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0xf5190e(0x174)],'loopUntilPass':document[_0xf5190e(0xccc)]('loop-until-pass-checkbox')[_0xf5190e(0x174)]},_0x21a5ad=currentQuizData[_0xf5190e(0x7fc)]||document['getElementById'](_0xf5190e(0xc5))['value'],_0x28daa4=(currentQuizData['questions']||[])[_0xf5190e(0x141)]((_0x439512,_0x38e0cd)=>{const _0x37501d=_0xf5190e,_0x4825ff={'id':'q_'+Date[_0x37501d(0x338)]()+'_'+_0x38e0cd,'questionText':_0x439512['questionText']||'','explanation':_0x439512[_0x37501d(0x928)]||'ไม่มีคำอธิบาย','questionType':_0x439512[_0x37501d(0x36c)]||_0x21a5ad,'imageCode':_0x439512[_0x37501d(0x71e)]||null};return(_0x4825ff[_0x37501d(0x36c)]===_0x37501d(0x75f)||_0x4825ff[_0x37501d(0x36c)]===_0x37501d(0x5b0)||_0x4825ff[_0x37501d(0x36c)]===_0x37501d(0x48d)&&_0x439512[_0x37501d(0xaee)])&&(_0x4825ff['options']=_0x439512[_0x37501d(0xaee)]||[],_0x4825ff[_0x37501d(0x2bd)]=_0x439512[_0x37501d(0x2bd)]!==undefined?_0x439512[_0x37501d(0x2bd)]:0x0),(_0x4825ff[_0x37501d(0x36c)]===_0x37501d(0xb27)||_0x4825ff[_0x37501d(0x36c)]===_0x37501d(0xdf0)||_0x4825ff['questionType']===_0x37501d(0x48d)&&_0x439512[_0x37501d(0x314)])&&(_0x4825ff[_0x37501d(0x314)]=_0x439512[_0x37501d(0x314)]||''),_0x4825ff[_0x37501d(0x36c)]===_0x37501d(0xc6b)&&(_0x4825ff['correctAnswer']=_0x439512['correctAnswer']===!![]),_0x4825ff[_0x37501d(0x36c)]===_0x37501d(0x283)&&(_0x4825ff[_0x37501d(0x6a8)]=_0x439512[_0x37501d(0x6a8)]||'',_0x4825ff[_0x37501d(0xb75)]=_0x439512[_0x37501d(0xb75)]||'',_0x4825ff[_0x37501d(0x2c7)]=_0x439512[_0x37501d(0x2c7)]||[]),_0x4825ff;}),_0x123181={'topic':_0x4daf4b,'quizType':_0x21a5ad,'questions':_0x28daa4,'projectId':_0x5a10c3,'createdBy':userId,'createdAt':new Date()[_0xf5190e(0x2f9)](),'status':_0xf5190e(0x130),'settings':_0x3ee2ec,'quizMode':_0x29fa51?_0xf5190e(0xb94):_0xf5190e(0xc22),'pairedQuizId':null,'lessonPlan':null};let _0x4ef52f;while(!![]){_0x4ef52f=Math['floor'](0x3e8+Math[_0xf5190e(0x373)]()*0x2328)[_0xf5190e(0x438)]();const _0x39572d=await getDoc(doc(db,_0xf5190e(0x331)+appId+_0xf5190e(0x78d),_0x4ef52f));if(!_0x39572d[_0xf5190e(0xc43)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xf5190e(0x78d),_0x4ef52f),_0x123181);if(_0x2195fd&&currentBlueprintProjectId)try{const _0x340143=doc(db,_0xf5190e(0x331)+appId+_0xf5190e(0x160),currentBlueprintProjectId);await updateDoc(_0x340143,{['topics.'+_0x2195fd+_0xf5190e(0x7f2)]:arrayUnion(_0x4ef52f)});}catch(_0x4b8e83){console[_0xf5190e(0xada)](_0xf5190e(0x2c3),_0x4b8e83);}currentQuizData['settings']=_0x3ee2ec,currentQuizData['id']=_0x4ef52f;const _0x2f470b=document[_0xf5190e(0xccc)](_0xf5190e(0x18f));_0x2f470b[_0xf5190e(0x93e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x4ef52f+_0xf5190e(0x8d0),document['getElementById'](_0xf5190e(0x6c1))[_0xf5190e(0x7d6)](_0xf5190e(0x343),()=>copyTextToClipboard(_0x4ef52f,_0xf5190e(0xce1))),document[_0xf5190e(0xccc)](_0xf5190e(0x61f))['addEventListener'](_0xf5190e(0x343),()=>handleStartLiveRace(_0x4ef52f)),document[_0xf5190e(0xccc)](_0xf5190e(0x892))[_0xf5190e(0x7d6)]('click',()=>startPresentation(currentQuizData)),document[_0xf5190e(0xccc)](_0xf5190e(0x9ca))[_0xf5190e(0x7d6)](_0xf5190e(0x343),startAdminTest),showMessage(_0xf5190e(0xc05));}catch(_0x1b71bb){console[_0xf5190e(0xada)](_0xf5190e(0x449),_0x1b71bb),showMessage(_0xf5190e(0x3f9));}finally{_0xdb408c['disabled']=![],_0xdb408c[_0xf5190e(0x93e)]=_0xf5190e(0x79a);}}function promptForProjectAndSave(){const _0xdb1c59=_0x157a22,_0x1a2007=document[_0xdb1c59(0xccc)]('move-quiz-modal'),_0x1374ca=document[_0xdb1c59(0xccc)](_0xdb1c59(0x591)),_0x15a74e=_0x1a2007[_0xdb1c59(0xdd0)]('h3'),_0x45ffaf=document[_0xdb1c59(0xccc)](_0xdb1c59(0xda8));_0x15a74e[_0xdb1c59(0xc76)]=_0xdb1c59(0xd23),_0x45ffaf[_0xdb1c59(0xc76)]=_0xdb1c59(0xc21);allProjects['length']===0x0?(_0x1374ca[_0xdb1c59(0x93e)]=_0xdb1c59(0x624),_0x45ffaf[_0xdb1c59(0x7ef)]=!![]):(_0x1374ca[_0xdb1c59(0x93e)]=allProjects[_0xdb1c59(0x141)](_0x3cb2dd=>_0xdb1c59(0x4be)+_0x3cb2dd['id']+'\x22>'+_0x3cb2dd[_0xdb1c59(0x284)]+'</option>')['join'](''),_0x45ffaf[_0xdb1c59(0x7ef)]=![]);_0x1a2007[_0xdb1c59(0x807)][_0xdb1c59(0x90e)](_0xdb1c59(0x9f0));const _0x3eed83=()=>{const _0x580ed5=_0xdb1c59,_0xa98b74=_0x1374ca[_0x580ed5(0xa9f)];_0xa98b74?(currentProjectId=_0xa98b74,_0x1a2007[_0x580ed5(0x807)][_0x580ed5(0xcec)]('hidden'),saveQuiz(),_0x15a74e['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x45ffaf['textContent']=_0x580ed5(0xcd1),_0x45ffaf['removeEventListener'](_0x580ed5(0x343),_0x3eed83),_0x45ffaf[_0x580ed5(0x7d6)](_0x580ed5(0x343),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x45ffaf[_0xdb1c59(0xb65)](_0xdb1c59(0x343),confirmMoveQuiz),_0x45ffaf['addEventListener']('click',_0x3eed83);}function copyTextToClipboard(_0x46a80a,_0x1ce6ca){const _0x45944e=_0x157a22,_0x30a80a=document[_0x45944e(0xd4f)]('textarea');_0x30a80a[_0x45944e(0xa9f)]=_0x46a80a,_0x30a80a[_0x45944e(0xb74)]['position']=_0x45944e(0x4ed),_0x30a80a[_0x45944e(0xb74)][_0x45944e(0xb53)]='0',document[_0x45944e(0x95a)][_0x45944e(0xb18)](_0x30a80a),_0x30a80a['focus'](),_0x30a80a[_0x45944e(0x549)]();try{const _0xf8bd50=document['execCommand']('copy');showMessage(_0xf8bd50?_0x1ce6ca:'คัดลอกไม่สำเร็จ');}catch(_0x311555){showMessage('คัดลอกไม่สำเร็จ'),console[_0x45944e(0xada)](_0x45944e(0xbc3),_0x311555);}document[_0x45944e(0x95a)][_0x45944e(0xd46)](_0x30a80a);}function listenForProjectQuizzes(_0x46cb49){const _0x56bce8=_0x157a22,_0x2ab4ac=collection(db,_0x56bce8(0x331)+appId+'/public/data/quizzes'),_0x4e3edc=query(_0x2ab4ac,where('projectId','==',_0x46cb49));unsubscribeQuizzesListener=onSnapshot(_0x4e3edc,async _0x20b717=>{const _0x6083c0=_0x56bce8;allQuizzes=_0x20b717[_0x6083c0(0xbe9)][_0x6083c0(0x141)](_0x2571e8=>({'id':_0x2571e8['id'],..._0x2571e8[_0x6083c0(0xd60)]()})),renderQuizzes();},_0x143cd0=>{const _0x1a8311=_0x56bce8;console[_0x1a8311(0xada)]('Error\x20fetching\x20project\x20quizzes:',_0x143cd0),document[_0x1a8311(0xccc)](_0x1a8311(0xbfe))[_0x1a8311(0x93e)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x106516=_0x157a22,_0x59a741=document[_0x106516(0xccc)](_0x106516(0xbfe)),_0x5cb123=document[_0x106516(0xccc)](_0x106516(0x75c))['value'][_0x106516(0x8e9)]();let _0x3b24bd;currentProjectId===_0x106516(0x509)?_0x3b24bd=starredQuizzes:_0x3b24bd=allQuizzes;let _0x3b5fce=_0x3b24bd[_0x106516(0x512)](_0xf2d3c2=>_0xf2d3c2['topic'][_0x106516(0x8e9)]()[_0x106516(0x9e3)](_0x5cb123));_0x3b5fce[_0x106516(0x4b3)]((_0x4d2148,_0x27cfc2)=>new Date(_0x27cfc2[_0x106516(0x20c)])-new Date(_0x4d2148[_0x106516(0x20c)]));if(_0x3b5fce[_0x106516(0x34a)]===0x0){_0x59a741[_0x106516(0x93e)]=_0x106516(0x2b8);return;}const _0x436ca0={},_0x3c416f=_0x3b5fce[_0x106516(0x141)](async _0x201199=>{const _0x15ec22=_0x106516,_0x1f2b5e=collection(db,_0x15ec22(0x331)+appId+_0x15ec22(0xe48)+_0x201199['id']+_0x15ec22(0x3d6)),_0x880b82=await getCountFromServer(_0x1f2b5e);_0x436ca0[_0x201199['id']]=_0x880b82['data']()[_0x15ec22(0xa79)];});await Promise['all'](_0x3c416f);let _0x28ab79='';_0x3b5fce[_0x106516(0x8f9)](_0x220473=>{const _0xfc176a=_0x106516,_0xfbb676=_0x436ca0[_0x220473['id']]||0x0,_0x2d4caa=_0x220473[_0xfc176a(0xab3)]||'active',_0xd872af=_0x220473[_0xfc176a(0x640)]?.['timerMode']||_0xfc176a(0x80b);let _0x1c6259='',_0x577b11='';const _0x2fb0c5=new Date();let _0x3ae7db=_0x2d4caa;if(_0x2d4caa===_0xfc176a(0x419)){const _0x2a9a0f=_0x220473['startTime']?new Date(_0x220473[_0xfc176a(0x747)]):null,_0x155b0b=_0x220473['endTime']?new Date(_0x220473[_0xfc176a(0x17e)]):null;if(_0x155b0b&&_0x2fb0c5>_0x155b0b)_0x3ae7db=_0xfc176a(0x6e5);else _0x2a9a0f&&_0x2fb0c5<_0x2a9a0f?_0x3ae7db=_0xfc176a(0x4db):_0x3ae7db='active';}switch(_0x3ae7db){case'inactive':_0x1c6259=_0xfc176a(0xbf2),_0x577b11='text-red-700\x20bg-red-100';break;case _0xfc176a(0x4db):_0x1c6259=_0xfc176a(0xcff),_0x577b11='text-blue-700\x20bg-blue-100';break;case _0xfc176a(0x130):_0x1c6259=_0xd872af!==_0xfc176a(0x80b)?_0xfc176a(0xa83):_0xfc176a(0x119),_0x577b11=_0xfc176a(0x202);break;default:_0x1c6259='ตั้งเวลา\x20(เปิด)',_0x577b11='text-green-700\x20bg-green-100';break;}let _0x53753d='';const _0x1c3c62={'day':_0xfc176a(0x51c),'month':_0xfc176a(0x51c),'year':'numeric','hour':'2-digit','minute':_0xfc176a(0x51c),'hour12':![]};if(_0x2d4caa===_0xfc176a(0x419)){if(_0x220473[_0xfc176a(0x747)])_0x53753d+=_0xfc176a(0x8c9)+new Date(_0x220473['startTime'])[_0xfc176a(0x84e)](_0xfc176a(0x31e),_0x1c3c62)+'</p>';if(_0x220473[_0xfc176a(0x17e)])_0x53753d+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x220473[_0xfc176a(0x17e)])['toLocaleString'](_0xfc176a(0x31e),_0x1c3c62)+_0xfc176a(0x723);}let _0x49d04c='';if(_0x220473['pairedQuizId']){const _0x510f16=allQuizzes['find'](_0x1427d5=>_0x1427d5['id']===_0x220473[_0xfc176a(0xa88)]);if(_0x510f16){let _0xc04ed4,_0x335e26;new Date(_0x220473[_0xfc176a(0x20c)])<new Date(_0x510f16[_0xfc176a(0x20c)])?(_0xc04ed4=_0x220473['id'],_0x335e26=_0x510f16['id']):(_0xc04ed4=_0x510f16['id'],_0x335e26=_0x220473['id']),_0x49d04c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x335e26+_0xfc176a(0xe07)+_0xc04ed4+_0xfc176a(0xdad);}}else _0x220473[_0xfc176a(0xd3e)]==='pre-test'&&(_0x49d04c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x220473['id']+_0xfc176a(0xba6));if(_0x220473[_0xfc176a(0xd3e)]==='pre-test'&&_0xfbb676>0x0)_0x49d04c+=_0xfc176a(0x5c2)+_0x220473['id']+_0xfc176a(0x7ac);else!_0x220473['pairedQuizId']&&_0x220473['quizMode']!==_0xfc176a(0xb94)&&_0xfbb676>0x0&&(_0x49d04c+=_0xfc176a(0x5c2)+_0x220473['id']+_0xfc176a(0x99c));let _0x1ab592='';_0x220473[_0xfc176a(0xa88)]?_0x1ab592=_0xfc176a(0x5a1)+_0x220473['id']+_0xfc176a(0x60a):_0x1ab592='<button\x20data-quiz-id=\x22'+_0x220473['id']+_0xfc176a(0x221);const _0x1944d1=_0xfc176a(0x52f)+_0x220473['id']+_0xfc176a(0xe8c);_0x28ab79+=_0xfc176a(0x56c)+_0x220473['id']+_0xfc176a(0x75a)+_0x220473[_0xfc176a(0xe36)]+_0xfc176a(0x998)+_0x220473[_0xfc176a(0xdbf)][_0xfc176a(0x34a)]+_0xfc176a(0x8c0)+new Date(_0x220473['createdAt'])[_0xfc176a(0x84e)](_0xfc176a(0x31e))+_0xfc176a(0xd76)+_0xfbb676+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53753d+_0xfc176a(0xbe1)+_0x577b11+'\x22>'+_0x1c6259+_0xfc176a(0x1ee)+_0x220473['id']+_0xfc176a(0x944)+_0x220473['id']+_0xfc176a(0xd94)+(_0x220473[_0xfc176a(0x611)]?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0xfc176a(0xe7e)+_0x49d04c+_0xfc176a(0xa35)+_0x1944d1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x220473['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x220473['id']+_0xfc176a(0xb7c)+_0x220473['id']+_0xfc176a(0x30f)+_0x220473['id']+_0xfc176a(0x4d3)+_0x220473['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x220473['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x220473['id']+'\x22\x20data-topic=\x22'+_0x220473[_0xfc176a(0xe36)]+_0xfc176a(0x1c2)+_0x220473['id']+_0xfc176a(0x666)+_0x220473['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ab592+_0xfc176a(0x5a2)+_0x220473['id']+_0xfc176a(0x66d)+_0x220473['id']+_0xfc176a(0x633)+_0x220473['id']+_0xfc176a(0x37d)+_0x220473['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x220473['id']+'\x22\x20data-topic=\x22'+_0x220473['topic']+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x220473['id']+_0xfc176a(0x7b8);}),_0x59a741[_0x106516(0x93e)]=_0x28ab79,document[_0x106516(0x5f0)](_0x106516(0x71b))['forEach'](_0x3d82c3=>{const _0x409c54=_0x106516;_0x3d82c3[_0x409c54(0x7d6)](_0x409c54(0x343),()=>{const _0x522c44=_0x409c54,_0x4b00b8=_0x3d82c3['dataset'][_0x522c44(0x9c4)];showQuizDetailView(_0x4b00b8);});});}async function handleUnpairQuiz(_0x5e8c85){const _0x2a47ce=_0x157a22,_0x4649cd=allQuizzes[_0x2a47ce(0x48e)](_0x1ca108=>_0x1ca108['id']===_0x5e8c85);if(!_0x4649cd||!_0x4649cd[_0x2a47ce(0xa88)]){showMessage(_0x2a47ce(0xd71));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x3e7136=_0x2a47ce;try{const _0x45e82e=doc(db,'artifacts/'+appId+_0x3e7136(0x78d),_0x5e8c85),_0x2df029=doc(db,_0x3e7136(0x331)+appId+_0x3e7136(0x78d),_0x4649cd[_0x3e7136(0xa88)]),_0x20b9e5=writeBatch(db);_0x20b9e5[_0x3e7136(0x8bf)](_0x45e82e,{'pairedQuizId':null}),_0x20b9e5[_0x3e7136(0x8bf)](_0x2df029,{'pairedQuizId':null}),await _0x20b9e5['commit'](),showMessage(_0x3e7136(0x37c));}catch(_0x1b7bde){console[_0x3e7136(0xada)](_0x3e7136(0xdd2),_0x1b7bde),showMessage(_0x3e7136(0x312));}});}function formatAndPrintLessonPlan(_0x416c9a,_0x4937b8){const _0x3ed564=_0x157a22,_0x4481aa=window[_0x3ed564(0xb0c)]('',_0x3ed564(0xbc8)),_0x1c0879=_0x3ed564(0x729)+_0x4937b8[_0x3ed564(0xe36)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x4937b8[_0x3ed564(0xe36)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x416c9a[_0x3ed564(0xa37)]['map'](_0xe551da=>_0x3ed564(0x440)+_0xe551da+_0x3ed564(0x5af))['join']('')+_0x3ed564(0xdc0)+_0x416c9a['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x416c9a[_0x3ed564(0xb2d)][_0x3ed564(0x141)](_0x4f4db4=>_0x3ed564(0x4f4)+_0x4f4db4[_0x3ed564(0x4c0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x4f4db4[_0x3ed564(0x6c3)]+_0x3ed564(0xc9a))[_0x3ed564(0x72e)]('')+_0x3ed564(0x28b);_0x4481aa[_0x3ed564(0x19d)][_0x3ed564(0x8e6)](_0x1c0879),_0x4481aa[_0x3ed564(0x19d)][_0x3ed564(0x431)](),_0x4481aa['onload']=function(){setTimeout(()=>{const _0x4d2416=_0x28ee;_0x4481aa[_0x4d2416(0xe11)]();},0x3e8);};}async function handleAiFixFormula(_0x46a074){const _0x3db6ec=_0x157a22,_0x447985=document[_0x3db6ec(0xdd0)](_0x3db6ec(0x8f0)+_0x46a074+'\x22]');if(!_0x447985)return;const _0x5271f5=_0x447985[_0x3db6ec(0x87a)][_0x3db6ec(0x170)],_0x10af00=_0x447985[_0x3db6ec(0xdd0)](_0x3db6ec(0xce2));let _0x4d3d67={'question':_0x447985[_0x3db6ec(0xdd0)]('textarea')[_0x3db6ec(0xa9f)]};switch(_0x5271f5){case'multiple_choice':_0x4d3d67['options']=Array['from'](_0x447985[_0x3db6ec(0x5f0)](_0x3db6ec(0x1de)))['map'](_0x410d1f=>_0x410d1f[_0x3db6ec(0xa9f)]);break;case _0x3db6ec(0xdf0):case _0x3db6ec(0xb27):_0x4d3d67['idealAnswer']=_0x447985[_0x3db6ec(0xdd0)](_0x3db6ec(0x3aa))[_0x3db6ec(0xa9f)];break;case'matching_item':_0x4d3d67[_0x3db6ec(0xb75)]=_0x447985[_0x3db6ec(0xdd0)](_0x3db6ec(0x254))[_0x3db6ec(0xa9f)];break;}_0x10af00['innerHTML']=_0x3db6ec(0xac9),_0x10af00[_0x3db6ec(0x7ef)]=!![];try{const _0x55dcb9=_0x3db6ec(0xbf9)+JSON['stringify'](_0x4d3d67)+_0x3db6ec(0x1c9),_0x280cba={'type':'OBJECT','properties':{'fixedData':{'type':_0x3db6ec(0xd8a),'properties':{'question':{'type':'STRING'},'options':{'type':_0x3db6ec(0x83a),'items':{'type':_0x3db6ec(0x685)}},'idealAnswer':{'type':_0x3db6ec(0x685)},'correctResponse':{'type':_0x3db6ec(0x685)}},'required':[_0x3db6ec(0x4c0)]}},'required':['fixedData']},_0x2f1499=await callAnalysisApi(_0x55dcb9,_0x280cba);if(_0x2f1499&&_0x2f1499[_0x3db6ec(0x481)]){const _0x35c991=_0x2f1499[_0x3db6ec(0x481)];_0x447985[_0x3db6ec(0xdd0)](_0x3db6ec(0x3d9))[_0x3db6ec(0xa9f)]=_0x35c991[_0x3db6ec(0x4c0)]||_0x4d3d67[_0x3db6ec(0x4c0)];switch(_0x5271f5){case _0x3db6ec(0x75f):_0x35c991[_0x3db6ec(0xaee)]&&_0x35c991[_0x3db6ec(0xaee)][_0x3db6ec(0x34a)]>0x0&&_0x447985[_0x3db6ec(0x5f0)](_0x3db6ec(0x1de))[_0x3db6ec(0x8f9)]((_0x17f522,_0x4277a1)=>{const _0x486392=_0x3db6ec;_0x17f522[_0x486392(0xa9f)]=_0x35c991[_0x486392(0xaee)][_0x4277a1]||_0x4d3d67[_0x486392(0xaee)][_0x4277a1];});break;case'fill_in_no_choices':case _0x3db6ec(0xb27):_0x447985[_0x3db6ec(0xdd0)](_0x3db6ec(0x3aa))['value']=_0x35c991[_0x3db6ec(0x314)]||_0x4d3d67['idealAnswer'];break;case _0x3db6ec(0x283):_0x447985[_0x3db6ec(0xdd0)](_0x3db6ec(0x254))['value']=_0x35c991[_0x3db6ec(0xb75)]||_0x4d3d67[_0x3db6ec(0xb75)];break;}showMessage(_0x3db6ec(0x4ab));}else throw new Error(_0x3db6ec(0xd05));}catch(_0x3bf620){console[_0x3db6ec(0xada)](_0x3db6ec(0x5b5),_0x3bf620),showMessage(_0x3db6ec(0x3ac));}finally{_0x10af00['innerHTML']=_0x3db6ec(0x41d),_0x10af00[_0x3db6ec(0x7ef)]=![];}}async function handleGenerateLessonPlan(_0x1cddc2){const _0xd430e4=_0x157a22;showMessage(_0xd430e4(0xd5e));try{const _0x3e9e51=doc(db,_0xd430e4(0x331)+appId+'/public/data/quizzes',_0x1cddc2),_0x121510=await getDoc(_0x3e9e51);if(!_0x121510[_0xd430e4(0xc43)]())throw new Error(_0xd430e4(0x121));const _0x333360={'id':_0x1cddc2,..._0x121510['data']()},_0x1ac70f=collection(db,_0xd430e4(0x331)+appId+'/public/data/quizzes',_0x1cddc2,_0xd430e4(0x6bf)),_0x73d9aa=await getDocs(_0x1ac70f),_0x174e53=_0x73d9aa[_0xd430e4(0xbe9)]['map'](_0x23820d=>_0x23820d[_0xd430e4(0xd60)]());if(_0x174e53[_0xd430e4(0x34a)]===0x0)throw new Error(_0xd430e4(0x87c));const _0x1f7840=calculateItemAnalysis(_0x333360,_0x174e53)[_0xd430e4(0xaf4)],_0x28ee39=calculateDistractorAnalysis(_0x333360,_0x174e53),_0x3c8b3a=_0x23313a=>{const _0x1b1b1a=_0xd430e4;if(!_0x23313a)return'';return _0x23313a[_0x1b1b1a(0xb64)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x1b1b1a(0xb64)](/\n/g,'\x5cn');};let _0x2ee2c7=_0xd430e4(0x1f5);_0x333360[_0xd430e4(0xdbf)][_0xd430e4(0x8f9)]((_0x5d4602,_0x5310c4)=>{const _0x49055f=_0xd430e4,_0x3d9021=_0x1f7840[_0x5310c4]?.['p'][_0x49055f(0xd2d)](0x2)||_0x49055f(0x156),_0x405e4f=_0x1f7840[_0x5310c4]?.['r'][_0x49055f(0xd2d)](0x2)||_0x49055f(0x156),_0x2e15b6=_0x3c8b3a(_0x5d4602[_0x49055f(0x885)]||_0x5d4602[_0x49055f(0x6a8)]);_0x2ee2c7+='-\x20ข้อ\x20'+(_0x5310c4+0x1)+_0x49055f(0xbc1)+_0x3d9021+_0x49055f(0xb63)+_0x405e4f+_0x49055f(0x774)+_0x2e15b6+'\x5cn';if(_0x5d4602[_0x49055f(0x36c)]===_0x49055f(0x75f)&&_0x28ee39[_0x5310c4]){const _0x5e06db=_0x28ee39[_0x5310c4],_0x130acf=Object[_0x49055f(0x69e)](_0x5e06db)[_0x49055f(0x512)](_0x4caf1c=>parseInt(_0x4caf1c)!==_0x5d4602[_0x49055f(0x2bd)])[_0x49055f(0x4b3)]((_0x166e9c,_0x44076a)=>_0x5e06db[_0x44076a][_0x49055f(0x5f2)]-_0x5e06db[_0x166e9c]['total'])[0x0];if(_0x130acf&&_0x5e06db[_0x130acf]['total']>0x0){const _0x4c83ab=_0x3c8b3a(_0x5e06db[_0x130acf]['text']);_0x2ee2c7+=_0x49055f(0x6ba)+_0x4c83ab+'\x22\x5cn';}}});const _0x29e12c=_0xd430e4(0x41e)+_0x333360[_0xd430e4(0xe36)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ee2c7+_0xd430e4(0xb0d),_0x4947b6={'type':_0xd430e4(0xd8a),'properties':{'learningGaps':{'type':_0xd430e4(0x83a),'items':{'type':_0xd430e4(0x685)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0xd430e4(0x83a),'items':{'type':_0xd430e4(0xd8a),'properties':{'question':{'type':_0xd430e4(0x685)},'solution':{'type':_0xd430e4(0x685)}}}}},'required':[_0xd430e4(0xa37),'teachingContent',_0xd430e4(0xb2d)]},_0x55f56b=await callAnalysisApi(_0x29e12c,_0x4947b6);await updateDoc(_0x3e9e51,{'lessonPlan':_0x55f56b});const _0x4efbc1=_0xd430e4(0x138)+_0x333360[_0xd430e4(0xe36)]+_0xd430e4(0x7cf)+_0x55f56b[_0xd430e4(0xa37)][_0xd430e4(0x141)](_0x407763=>_0xd430e4(0x440)+_0x407763+_0xd430e4(0x5af))[_0xd430e4(0x72e)]('')+_0xd430e4(0x1c0)+_0x55f56b[_0xd430e4(0xc2)]+_0xd430e4(0x268)+_0x55f56b['practiceProblems'][_0xd430e4(0x141)](_0x2ae51e=>_0xd430e4(0xa50)+_0x2ae51e[_0xd430e4(0x4c0)]+_0xd430e4(0x661)+_0x2ae51e[_0xd430e4(0x6c3)]+_0xd430e4(0xaef))[_0xd430e4(0x72e)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0xd430e4(0xccc)](_0xd430e4(0xbbb))[_0xd430e4(0xc76)]='แผนการสอน:\x20'+_0x333360[_0xd430e4(0xe36)],document['getElementById']('lesson-plan-content')['innerHTML']=_0x4efbc1,document['getElementById'](_0xd430e4(0xbb7))['classList'][_0xd430e4(0x90e)]('hidden');if(window[_0xd430e4(0x5e4)])MathJax[_0xd430e4(0xd06)]();messageModal['classList'][_0xd430e4(0xcec)](_0xd430e4(0x9f0));}catch(_0x3f64a4){console['error'](_0xd430e4(0x35e),_0x3f64a4),showMessage(_0xd430e4(0x153)+_0x3f64a4[_0xd430e4(0x267)]);}}async function handleDuplicateQuiz(_0x35c12e){const _0x5aa73f=_0x157a22;try{const _0x4d9cf9=doc(db,_0x5aa73f(0x331)+appId+'/public/data/quizzes',_0x35c12e),_0x273f1b=await getDoc(_0x4d9cf9);if(_0x273f1b[_0x5aa73f(0xc43)]()){const _0x20323f=_0x273f1b[_0x5aa73f(0xd60)]();let _0x3e86b8='',_0x4f55fc=_0x5aa73f(0xc22),_0x1a655e=null;if(_0x20323f[_0x5aa73f(0xd3e)]===_0x5aa73f(0xb94)){let _0x1c5162=_0x20323f['topic'][_0x5aa73f(0xb64)](_0x5aa73f(0x44e),'')['trim']();_0x3e86b8='(หลังเรียน)\x20'+_0x1c5162,_0x4f55fc=_0x5aa73f(0x83b),_0x1a655e=_0x35c12e;}else _0x3e86b8=_0x5aa73f(0x256)+_0x20323f['topic'];const _0x5b0dcf={..._0x20323f,'topic':_0x3e86b8,'createdAt':new Date()[_0x5aa73f(0x2f9)](),'quizMode':_0x4f55fc,'pairedQuizId':_0x1a655e};let _0xbc1240;while(!![]){_0xbc1240=Math[_0x5aa73f(0xc3c)](0x3e8+Math[_0x5aa73f(0x373)]()*0x2328)[_0x5aa73f(0x438)]();const _0x660fc0=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xbc1240));if(!_0x660fc0[_0x5aa73f(0xc43)]())break;}const _0x3d58ef=doc(db,_0x5aa73f(0x331)+appId+'/public/data/quizzes',_0xbc1240);await setDoc(_0x3d58ef,_0x5b0dcf),_0x5b0dcf['quizMode']==='post-test'&&await updateDoc(_0x4d9cf9,{'pairedQuizId':_0xbc1240}),showMessage(_0x5aa73f(0x703));}else throw new Error(_0x5aa73f(0x6d9));}catch(_0x406b1f){console[_0x5aa73f(0xada)](_0x5aa73f(0x793),_0x406b1f),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x42244d,_0xee27ba=!![]){const _0x3cb13e=_0x157a22;try{const _0x479c15=writeBatch(db),_0x2e3795=collection(db,_0x3cb13e(0x331)+appId+_0x3cb13e(0xe48)+_0x42244d+_0x3cb13e(0x3d6)),_0xbb5325=await getDocs(_0x2e3795);_0xbb5325[_0x3cb13e(0x8f9)](_0x1c6062=>{const _0x51f371=_0x3cb13e;_0x479c15[_0x51f371(0xa0f)](doc(_0x2e3795,_0x1c6062['id']));});const _0x46ccc1=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x42244d);_0x479c15[_0x3cb13e(0xa0f)](_0x46ccc1),await _0x479c15[_0x3cb13e(0x34c)]();try{console[_0x3cb13e(0x700)](_0x3cb13e(0x3c3)+_0x42244d+_0x3cb13e(0x9bb));const _0x27ece5=collection(db,_0x3cb13e(0x331)+appId+_0x3cb13e(0x160)),_0x58976c=await getDocs(_0x27ece5),_0x2e9490=[];_0x58976c['forEach'](_0x892e59=>{const _0x74bfef=_0x3cb13e,_0x263c52=_0x892e59[_0x74bfef(0xd60)](),_0x102b39=_0x263c52[_0x74bfef(0x6e0)]||{};let _0x5af4b0=![];for(const _0x1f1912 in _0x102b39){const _0xee62ef=_0x102b39[_0x1f1912];if(_0xee62ef[_0x74bfef(0x828)]&&_0xee62ef[_0x74bfef(0x828)][_0x74bfef(0x9e3)](_0x42244d)){_0x5af4b0=!![];const _0x2d6e3d=doc(db,_0x74bfef(0x331)+appId+_0x74bfef(0x160),_0x892e59['id']),_0x292e07=updateDoc(_0x2d6e3d,{[_0x74bfef(0x6d1)+_0x1f1912+_0x74bfef(0x7f2)]:arrayRemove(_0x42244d)});_0x2e9490[_0x74bfef(0xde9)](_0x292e07);}}}),_0x2e9490[_0x3cb13e(0x34a)]>0x0&&(await Promise['all'](_0x2e9490),console[_0x3cb13e(0x700)](_0x3cb13e(0x5d9)+_0x2e9490['length']+_0x3cb13e(0x506)+_0x42244d+'.'));}catch(_0x25bbf7){console[_0x3cb13e(0xada)](_0x3cb13e(0x6ec),_0x25bbf7);}_0xee27ba&&showMessage(_0x3cb13e(0x58d));}catch(_0x348859){console[_0x3cb13e(0xada)]('Error\x20deleting\x20quiz:',_0x348859),_0xee27ba&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x4d7900){const _0x59db4a=_0x157a22;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x59db4a(0x5a5));try{const _0x1c98d3=doc(db,'artifacts/'+appId+_0x59db4a(0x78d),_0x4d7900),_0xdafdfa=await getDoc(_0x1c98d3);if(!_0xdafdfa[_0x59db4a(0xc43)]()){showMessage(_0x59db4a(0x121));return;}const _0x2ca4fb={'id':_0xdafdfa['id'],..._0xdafdfa['data']()};currentQuizData=_0x2ca4fb;const _0x410383=doc(db,_0x59db4a(0x331)+appId+'/public/data/projects',_0x2ca4fb[_0x59db4a(0x737)]),_0x52124d=await getDoc(_0x410383);_0x52124d[_0x59db4a(0xc43)]()?(currentProjectData=_0x52124d[_0x59db4a(0xd60)](),currentProjectId=_0x2ca4fb[_0x59db4a(0x737)]):(currentProjectData={'students':[]},currentProjectId=_0x2ca4fb[_0x59db4a(0x737)]);document[_0x59db4a(0xccc)]('results-quiz-title')[_0x59db4a(0xc76)]=_0x2ca4fb[_0x59db4a(0xe36)],document[_0x59db4a(0xccc)](_0x59db4a(0xe1c))['textContent']=_0x4d7900;const _0xad5714=collection(db,_0x59db4a(0x331)+appId+_0x59db4a(0x78d),_0x4d7900,_0x59db4a(0x6bf));unsubscribeSubmissionsListener=onSnapshot(_0xad5714,_0xdfbf6c=>{const _0x164be8=_0x59db4a,_0x197127=_0xdfbf6c[_0x164be8(0xbe9)]['map'](_0x3b9802=>({'id':_0x3b9802['id'],..._0x3b9802[_0x164be8(0xd60)]()}));currentSubmissions=_0x197127;const _0x563c81=_0x197127[_0x164be8(0x512)](_0x596a22=>_0x596a22[_0x164be8(0xbae)]&&_0x596a22[_0x164be8(0xbae)]['length']>0x0);renderBehaviorLog(_0x197127),renderAnswerGrid(currentProjectData['students'],_0x563c81,_0x2ca4fb),renderAnalytics(_0x2ca4fb,_0x563c81),renderQuizResultsTable(currentProjectData[_0x164be8(0xb5a)],_0x197127,_0x2ca4fb),renderQuizLeaderboard(_0x563c81,_0x2ca4fb,_0x164be8(0xbc5));}),showView('quiz-results');}catch(_0x430bb3){console[_0x59db4a(0xada)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x430bb3),showMessage(_0x59db4a(0x100));}}function renderAnswerGrid(_0x4c3e55,_0x376b72,_0x16247d){const _0x7f8ece=_0x157a22,_0x37356d=document['getElementById'](_0x7f8ece(0xe14));if(!_0x37356d)return;if(!_0x4c3e55||_0x4c3e55[_0x7f8ece(0x34a)]===0x0){_0x37356d['innerHTML']=_0x7f8ece(0xae1);return;}const _0x5728f5=_0x16247d[_0x7f8ece(0xdbf)],_0x432bb6=_0x376b72[_0x7f8ece(0xc59)]((_0x32e2b9,_0xb0cbf9)=>{return _0x32e2b9[_0xb0cbf9['studentName']]=_0xb0cbf9,_0x32e2b9;},{}),_0x3f8b53=_0x13d20d=>String['fromCharCode'](0x41+_0x13d20d),_0x7f4c4=_0x4f00fb=>{const _0x2ef2d8=_0x7f8ece,_0x43f799=_0x4f00fb[_0x2ef2d8(0x36c)]||_0x16247d[_0x2ef2d8(0x7fc)];switch(_0x43f799){case _0x2ef2d8(0x75f):return _0x4f00fb['options']&&_0x4f00fb[_0x2ef2d8(0xaee)][_0x2ef2d8(0x34a)]>_0x4f00fb[_0x2ef2d8(0x2bd)]?_0x3f8b53(_0x4f00fb[_0x2ef2d8(0x2bd)]):'-';case _0x2ef2d8(0xc6b):const _0x366656=_0x4f00fb[_0x2ef2d8(0xcab)]===!![]||String(_0x4f00fb['correctAnswer'])['toLowerCase']()===_0x2ef2d8(0x5d8);return _0x366656?_0x2ef2d8(0xab2):'ไม่ใช่';case _0x2ef2d8(0x283):return _0x4f00fb[_0x2ef2d8(0xb75)]||'-';case _0x2ef2d8(0xb27):return _0x2ef2d8(0x8ab);default:return'-';}},_0x19c9ab=(_0x4d4344,_0x57d74b)=>{const _0x12ca84=_0x7f8ece;if(_0x57d74b[_0x12ca84(0x649)]===null||_0x57d74b[_0x12ca84(0x649)]===undefined)return'-';const _0x3071ba=_0x4d4344[_0x12ca84(0x36c)]||_0x16247d[_0x12ca84(0x7fc)];switch(_0x3071ba){case _0x12ca84(0x75f):const _0x522bf6=_0x4d4344[_0x12ca84(0xaee)]['findIndex'](_0x5a2b67=>_0x5a2b67===_0x57d74b[_0x12ca84(0x79b)]);return _0x522bf6!==-0x1?_0x3f8b53(_0x522bf6):_0x57d74b[_0x12ca84(0x79b)]||'-';case _0x12ca84(0xc6b):if(_0x57d74b[_0x12ca84(0x649)]=='0'||_0x57d74b[_0x12ca84(0x649)]===!![]||_0x57d74b[_0x12ca84(0x649)]==='true')return _0x12ca84(0xab2);return _0x12ca84(0x342);default:return _0x57d74b[_0x12ca84(0x649)];}};let _0x213637=_0x7f8ece(0x110)+_0x5728f5['map']((_0xc41639,_0x526131)=>_0x7f8ece(0x1fd)+(_0x526131+0x1)+_0x7f8ece(0xe54))['join']('')+_0x7f8ece(0x8fa)+_0x5728f5[_0x7f8ece(0x141)](_0x6517fb=>_0x7f8ece(0xcfd)+_0x7f4c4(_0x6517fb)+_0x7f8ece(0xdbd))[_0x7f8ece(0x72e)]('')+_0x7f8ece(0x133);_0x4c3e55[_0x7f8ece(0x8f9)](_0x300729=>{const _0x206f25=_0x7f8ece;_0x213637+=_0x206f25(0x6b6),_0x213637+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x300729+'</td>';const _0x2c15ec=_0x432bb6[_0x300729];if(_0x2c15ec){const _0x410d65=_0x2c15ec[_0x206f25(0xbae)][_0x2c15ec[_0x206f25(0xbae)][_0x206f25(0x34a)]-0x1];_0x5728f5[_0x206f25(0x8f9)]((_0x45141a,_0x44846c)=>{const _0x3f6194=_0x206f25,_0x265c37=_0x410d65[_0x3f6194(0x534)][_0x3f6194(0x48e)](_0x2dcc19=>_0x2dcc19['questionId']===_0x45141a['id']);if(_0x265c37){let _0x15620d='';const _0x105206=_0x265c37['isCorrect']===!![],_0x3c8c59=_0x265c37[_0x3f6194(0x6f1)]===!![]||_0x265c37[_0x3f6194(0x6f1)]==='confident',_0x2c1fe3=_0x265c37[_0x3f6194(0x561)];if(_0x2c1fe3===_0x3f6194(0xd1))_0x105206?_0x15620d=_0x3f6194(0x618):_0x15620d=_0x3f6194(0xe53);else _0x3c8c59?_0x15620d=_0x105206?_0x3f6194(0x38e):'bg-red-500\x20text-white\x20font-bold':_0x15620d=_0x105206?_0x3f6194(0xbc6):_0x3f6194(0xcad);_0x213637+=_0x3f6194(0xcc)+_0x15620d+'\x22>'+_0x19c9ab(_0x45141a,_0x265c37)+'</td>';}else _0x213637+=_0x3f6194(0x2e7);});}else _0x213637+=_0x5728f5[_0x206f25(0x141)](()=>_0x206f25(0x7ad))['join']('');_0x213637+='</tr>';}),_0x213637+=_0x7f8ece(0xc2a),_0x37356d[_0x7f8ece(0x93e)]=_0x213637;}function renderQuizResultsTable(_0x342711,_0x1aba8f,_0x5f1871){const _0x5074f9=_0x157a22,_0x3fe4ef=_0x1aba8f[_0x5074f9(0xc59)]((_0x1ced1b,_0x120e0b)=>{return _0x1ced1b[_0x120e0b['studentName']]=_0x120e0b,_0x1ced1b;},{}),_0x1af046=document['querySelector'](_0x5074f9(0x23f));if(_0x1af046&&!document[_0x5074f9(0xccc)](_0x5074f9(0xe39))){const _0x838ca5=document[_0x5074f9(0xd4f)]('button');_0x838ca5['id']=_0x5074f9(0xe39),_0x838ca5[_0x5074f9(0x984)]=_0x5074f9(0x3f5),_0x838ca5['innerHTML']='<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบรายการที่เลือก\x20(<span\x20id=\x22selected-count\x22>0</span>)',_0x1af046['appendChild'](_0x838ca5),_0x838ca5[_0x5074f9(0x7d6)]('click',handleBulkDeleteSubmissions);}const _0xa8b0c5=document[_0x5074f9(0xdd0)](_0x5074f9(0xde5));_0xa8b0c5&&(_0xa8b0c5[_0x5074f9(0x93e)]=_0x5074f9(0xad0));const _0x2186e7=document[_0x5074f9(0xccc)](_0x5074f9(0xace));if(!_0x342711||_0x342711[_0x5074f9(0x34a)]===0x0){_0x2186e7['innerHTML']=_0x5074f9(0x5ca);return;}const _0x162263=_0x5f1871[_0x5074f9(0x7ca)]===!![],_0x16e646=_0x5f1871['settings']?.['passingScore']??-0x1;let _0x21fe62='';_0x342711[_0x5074f9(0x8f9)](_0x1929f8=>{const _0x44ba39=_0x5074f9,_0x11f1c1=_0x3fe4ef[_0x1929f8];let _0x5b2fb=_0x44ba39(0x673)+(_0x162263?'bg-amber-100\x20text-amber-800':_0x44ba39(0x4de))+'\x22>'+(_0x162263?_0x44ba39(0xee):_0x44ba39(0x480))+_0x44ba39(0x6a0),_0x19c673='';_0x11f1c1?_0x19c673=_0x44ba39(0xe7c)+_0x1929f8+'\x22>':_0x19c673=_0x44ba39(0x7d2);if(_0x11f1c1){if(_0x11f1c1[_0x44ba39(0xbae)]&&_0x11f1c1[_0x44ba39(0xbae)][_0x44ba39(0x34a)]>0x0){let _0x181d66=_0x162263?_0x11f1c1[_0x44ba39(0x4d8)]===_0x11f1c1[_0x44ba39(0xff)]:_0x16e646!==-0x1&&_0x11f1c1[_0x44ba39(0x4d8)]>=_0x16e646;const _0xccd110=_0x181d66?'bg-green-100\x20text-green-800':_0x44ba39(0xcad),_0x3b03db=_0x181d66?_0x44ba39(0xb8d):_0x44ba39(0x87d),_0x17af88=_0x44ba39(0x389)+_0xccd110+'\x22>'+_0x3b03db+_0x44ba39(0x6a0),_0x2b3888=_0x44ba39(0xb61)+(_0x11f1c1[_0x44ba39(0xbae)]?.[_0x44ba39(0x34a)]||0x1)+_0x44ba39(0xc84),_0x46050b=_0x44ba39(0x73a)+(_0x11f1c1[_0x44ba39(0x7ff)]||0x0)[_0x44ba39(0x84e)]()+_0x44ba39(0x52d)+_0x1929f8+_0x44ba39(0x53b)+(_0x11f1c1[_0x44ba39(0x7ff)]||0x0)+_0x44ba39(0x951);_0x21fe62+=_0x44ba39(0x46a)+_0x19c673+_0x44ba39(0x714)+_0x1929f8+_0x44ba39(0xce9)+_0x11f1c1[_0x44ba39(0x4d8)]+_0x44ba39(0xc71)+_0x11f1c1[_0x44ba39(0xff)]+_0x44ba39(0x732)+_0x17af88+_0x44ba39(0xa35)+_0x5b2fb+_0x44ba39(0x425)+_0x11f1c1[_0x44ba39(0xce0)]+_0x44ba39(0xc71)+_0x11f1c1[_0x44ba39(0xff)]+_0x44ba39(0x2f8)+_0x11f1c1[_0x44ba39(0x2d2)]+_0x44ba39(0xc71)+_0x11f1c1[_0x44ba39(0xff)]+_0x44ba39(0x714)+_0x46050b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b3888+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x11f1c1[_0x44ba39(0x2b4)])[_0x44ba39(0x84e)](_0x44ba39(0x31e))+_0x44ba39(0x38d)+_0x1929f8+_0x44ba39(0xa8f);}else{const _0x564631=_0x44ba39(0x3de);_0x21fe62+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+_0x19c673+_0x44ba39(0x714)+_0x1929f8+_0x44ba39(0x6c5)+_0x5b2fb+_0x44ba39(0x7b5)+_0x564631+_0x44ba39(0x368)+new Date(_0x11f1c1[_0x44ba39(0x7bb)])['toLocaleString'](_0x44ba39(0x31e))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1929f8+_0x44ba39(0xa8f);}}else{const _0x19d25c=_0x44ba39(0xda);_0x21fe62+=_0x44ba39(0xde0)+_0x19c673+_0x44ba39(0xb95)+_0x1929f8+_0x44ba39(0x637)+_0x5b2fb+_0x44ba39(0xd2)+_0x19d25c+_0x44ba39(0xbb0);}}),_0x2186e7[_0x5074f9(0x93e)]=_0x21fe62;const _0x32585e=document['getElementById'](_0x5074f9(0xc80)),_0x690cde=document['querySelectorAll'](_0x5074f9(0x89a)),_0x2b2b30=document[_0x5074f9(0xccc)]('bulk-delete-submissions-btn'),_0x52329b=document[_0x5074f9(0xccc)](_0x5074f9(0x6ed)),_0x105c95=()=>{const _0x11b08f=_0x5074f9,_0x2123a6=document[_0x11b08f(0x5f0)](_0x11b08f(0xa15))[_0x11b08f(0x34a)];if(_0x52329b)_0x52329b[_0x11b08f(0xc76)]=_0x2123a6;_0x2123a6>0x0?_0x2b2b30['classList'][_0x11b08f(0x90e)](_0x11b08f(0x9f0)):_0x2b2b30[_0x11b08f(0x807)][_0x11b08f(0xcec)](_0x11b08f(0x9f0));};_0x32585e&&_0x32585e[_0x5074f9(0x7d6)]('change',_0x3ccd62=>{const _0x5b1f67=_0x5074f9;_0x690cde['forEach'](_0x38c099=>_0x38c099[_0x5b1f67(0x174)]=_0x3ccd62['target']['checked']),_0x105c95();}),_0x690cde['forEach'](_0x15794f=>{const _0x8aecf=_0x5074f9;_0x15794f[_0x8aecf(0x7d6)](_0x8aecf(0x1b7),()=>{const _0x4730de=_0x8aecf;if(!_0x15794f[_0x4730de(0x174)]&&_0x32585e)_0x32585e[_0x4730de(0x174)]=![];if(_0x15794f[_0x4730de(0x174)]&&_0x32585e){const _0x348999=document[_0x4730de(0x5f0)]('.submission-checkbox:checked')['length']===_0x690cde[_0x4730de(0x34a)];if(_0x348999)_0x32585e[_0x4730de(0x174)]=!![];}_0x105c95();});});}async function handleBulkDeleteSubmissions(){const _0x5d2a86=_0x157a22,_0x552c0c=document[_0x5d2a86(0x5f0)](_0x5d2a86(0xa15)),_0x2b3dbc=Array[_0x5d2a86(0x2d0)](_0x552c0c)[_0x5d2a86(0x141)](_0x51af45=>_0x51af45[_0x5d2a86(0xa9f)]);if(_0x2b3dbc[_0x5d2a86(0x34a)]===0x0)return;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x5d2a86(0x6e6));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของนักเรียน\x20'+_0x2b3dbc[_0x5d2a86(0x34a)]+_0x5d2a86(0x9d6),async()=>{const _0x2c318d=_0x5d2a86,_0x2f3089=currentQuizData['id'],_0x230807=writeBatch(db);_0x2b3dbc['forEach'](_0x42dc19=>{const _0x1b1617=_0x28ee,_0x7fb1da=doc(db,_0x1b1617(0x331)+appId+_0x1b1617(0xe48)+_0x2f3089+_0x1b1617(0x3d6),_0x42dc19);_0x230807[_0x1b1617(0xa0f)](_0x7fb1da);});try{await _0x230807[_0x2c318d(0x34c)](),showMessage(_0x2c318d(0xc8f)+_0x2b3dbc['length']+_0x2c318d(0x298)),document[_0x2c318d(0xccc)]('bulk-delete-submissions-btn')['classList'][_0x2c318d(0xcec)](_0x2c318d(0x9f0));const _0x2fdd07=document[_0x2c318d(0xccc)](_0x2c318d(0xc80));if(_0x2fdd07)_0x2fdd07[_0x2c318d(0x174)]=![];}catch(_0x31ad14){console['error'](_0x2c318d(0x943),_0x31ad14),showMessage(_0x2c318d(0xa7b));}});}async function confirmRenameQuiz(){const _0x748e9b=_0x157a22,_0xded436=document['getElementById'](_0x748e9b(0x9a3))[_0x748e9b(0xa9f)]['trim']();if(!_0xded436){showMessage(_0x748e9b(0x417));return;}if(!actionTargetId)return;const _0x69c9ef=doc(db,_0x748e9b(0x331)+appId+_0x748e9b(0x78d),actionTargetId);try{await updateDoc(_0x69c9ef,{'topic':_0xded436}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x748e9b(0x807)][_0x748e9b(0xcec)](_0x748e9b(0x9f0)),actionTargetId=null;}catch(_0x40455f){console[_0x748e9b(0xada)](_0x748e9b(0xb6b),_0x40455f),showMessage(_0x748e9b(0xc5b));}}async function handleMoveQuiz(_0x31816a){const _0x50cca7=_0x157a22;actionTargetId=_0x31816a;const _0x391bf2=document[_0x50cca7(0xccc)]('move-quiz-project-select');_0x391bf2[_0x50cca7(0x93e)]=_0x50cca7(0x2f5),moveQuizModal[_0x50cca7(0x807)][_0x50cca7(0x90e)]('hidden');try{const _0x4b5831=collection(db,_0x50cca7(0x331)+appId+_0x50cca7(0x21d)),_0x1512a4=await getDocs(_0x4b5831),_0x28f987=_0x1512a4[_0x50cca7(0xbe9)][_0x50cca7(0x141)](_0x2d89d0=>({'id':_0x2d89d0['id'],..._0x2d89d0[_0x50cca7(0xd60)]()})),_0x57feda=_0x28f987[_0x50cca7(0x512)](_0x58434f=>_0x58434f['id']!==currentProjectId);if(_0x57feda['length']===0x0){_0x391bf2['innerHTML']=_0x50cca7(0x7df),document[_0x50cca7(0xccc)](_0x50cca7(0xda8))[_0x50cca7(0x7ef)]=!![];return;}_0x391bf2[_0x50cca7(0x93e)]=_0x57feda[_0x50cca7(0x141)](_0x1ca607=>'<option\x20value=\x22'+_0x1ca607['id']+'\x22>'+_0x1ca607[_0x50cca7(0x284)]+_0x50cca7(0x877))[_0x50cca7(0x72e)](''),document[_0x50cca7(0xccc)]('confirm-move-quiz-btn')[_0x50cca7(0x7ef)]=![];}catch(_0x5858ff){console[_0x50cca7(0xada)](_0x50cca7(0x2b7),_0x5858ff),showMessage(_0x50cca7(0x8c3)),moveQuizModal[_0x50cca7(0x807)][_0x50cca7(0xcec)](_0x50cca7(0x9f0));}}async function confirmMoveQuiz(){const _0x25e711=_0x157a22,_0x32771f=document['getElementById'](_0x25e711(0x591))['value'];if(!_0x32771f){showMessage(_0x25e711(0x7e1));return;}if(!actionTargetId)return;const _0x1b2bb2=doc(db,_0x25e711(0x331)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1b2bb2,{'projectId':_0x32771f}),showMessage(_0x25e711(0x8a4)),moveQuizModal[_0x25e711(0x807)]['add'](_0x25e711(0x9f0)),actionTargetId=null;}catch(_0xd31e3e){console[_0x25e711(0xada)](_0x25e711(0xca4),_0xd31e3e),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x4fba93){const _0x568af3=_0x157a22;actionTargetId=_0x4fba93;const _0x29e014=doc(db,_0x568af3(0x331)+appId+_0x568af3(0x78d),_0x4fba93);try{const _0x5364b2=await getDoc(_0x29e014);if(_0x5364b2['exists']()){const _0x1c62fe=_0x5364b2[_0x568af3(0xd60)](),_0x14d90c=_0x1c62fe[_0x568af3(0x640)]||{},_0x164df3=_0x1c62fe['questions'][_0x568af3(0x34a)];document[_0x568af3(0xccc)](_0x568af3(0x5f9))['value']=_0x14d90c[_0x568af3(0xabd)]||_0x568af3(0x80b),document[_0x568af3(0xccc)]('modal-results-display-select')['value']=_0x14d90c[_0x568af3(0x726)]||'show_results_and_answers',document[_0x568af3(0xccc)](_0x568af3(0x341))['value']=_0x14d90c['timerMode']||'none',document['getElementById']('modal-timer-duration-input')[_0x568af3(0xa9f)]=_0x14d90c[_0x568af3(0x37a)]||0xa,document[_0x568af3(0xccc)](_0x568af3(0xd59))[_0x568af3(0xa9f)]=_0x14d90c[_0x568af3(0xd19)]||Math[_0x568af3(0xc3c)](_0x164df3/0x2),document[_0x568af3(0xccc)](_0x568af3(0xd59))['max']=_0x164df3,document[_0x568af3(0xccc)]('modal-adaptive-quiz-checkbox')[_0x568af3(0x174)]=_0x14d90c['isAdaptive']||![],document[_0x568af3(0xccc)]('modal-loop-until-pass-checkbox')['checked']=_0x14d90c[_0x568af3(0x90d)]||![];const _0x2f66c6=_0x14d90c[_0x568af3(0xb5b)]||![];document['getElementById'](_0x568af3(0x21f))['checked']=_0x2f66c6,document[_0x568af3(0xccc)](_0x568af3(0x801))[_0x568af3(0xa9f)]=_0x14d90c[_0x568af3(0x29e)]||_0x568af3(0x6d8);const _0x2496fc=document[_0x568af3(0xccc)](_0x568af3(0x96a));_0x2496fc[_0x568af3(0x807)][_0x568af3(0x9e5)]('hidden',!_0x2f66c6),document[_0x568af3(0xccc)]('modal-timer-mode-select')[_0x568af3(0x10d)](new Event('change')),quizSettingsModal[_0x568af3(0x807)][_0x568af3(0x90e)](_0x568af3(0x9f0));}else showMessage(_0x568af3(0x121));}catch(_0x17a6fc){console[_0x568af3(0xada)](_0x568af3(0x721),_0x17a6fc),showMessage(_0x568af3(0x1e9));}}async function confirmQuizSettings(){const _0x5719ef=_0x157a22;if(!actionTargetId)return;const _0x1c29bd=doc(db,'artifacts/'+appId+_0x5719ef(0x78d),actionTargetId),_0x525199={'shuffle':document['getElementById'](_0x5719ef(0x5f9))['value'],'resultsDisplay':document[_0x5719ef(0xccc)](_0x5719ef(0xca1))[_0x5719ef(0xa9f)],'timerMode':document[_0x5719ef(0xccc)]('modal-timer-mode-select')[_0x5719ef(0xa9f)],'timerDuration':parseInt(document[_0x5719ef(0xccc)](_0x5719ef(0xc07))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x5719ef(0xd59))[_0x5719ef(0xa9f)])||0x0,'isAdaptive':document[_0x5719ef(0xccc)](_0x5719ef(0x675))[_0x5719ef(0x174)],'loopUntilPass':document['getElementById'](_0x5719ef(0xe69))['checked'],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')[_0x5719ef(0x174)],'confidenceMode':document['getElementById'](_0x5719ef(0x801))[_0x5719ef(0xa9f)]};try{await updateDoc(_0x1c29bd,{'settings':_0x525199}),showMessage(_0x5719ef(0x9e0)),quizSettingsModal[_0x5719ef(0x807)][_0x5719ef(0xcec)](_0x5719ef(0x9f0)),actionTargetId=null;}catch(_0x5901dd){console['error'](_0x5719ef(0x44d),_0x5901dd),showMessage(_0x5719ef(0xc5e));}}async function confirmQuizStatus(){const _0x308467=_0x157a22;if(!actionTargetId)return;const _0x391e61=doc(db,_0x308467(0x331)+appId+'/public/data/quizzes',actionTargetId),_0x5aa04b=document['querySelector'](_0x308467(0xe1a));if(!_0x5aa04b){showMessage(_0x308467(0x17b));return;}const _0x335ac8=_0x5aa04b[_0x308467(0xa9f)];let _0x35f291={};if(_0x335ac8===_0x308467(0x130)||_0x335ac8==='inactive')_0x35f291={'status':_0x335ac8,'startTime':null,'endTime':null};else{if(_0x335ac8===_0x308467(0x3f2)){const _0x261428=document[_0x308467(0xccc)](_0x308467(0x203))[_0x308467(0xa9f)],_0x311401=document[_0x308467(0xccc)](_0x308467(0x70b))['value'];if(!_0x261428&&!_0x311401){showMessage(_0x308467(0x88a));return;}_0x35f291={'status':_0x308467(0x419),'startTime':_0x261428?new Date(_0x261428)[_0x308467(0x2f9)]():null,'endTime':_0x311401?new Date(_0x311401)[_0x308467(0x2f9)]():null};}}try{await updateDoc(_0x391e61,_0x35f291),showMessage(_0x308467(0x7ea)),quizStatusModal[_0x308467(0x807)][_0x308467(0xcec)]('hidden'),actionTargetId=null;}catch(_0x51ce0b){console[_0x308467(0xada)](_0x308467(0x942),_0x51ce0b),showMessage(_0x308467(0x5de));}}function listenForStudentProfiles(_0x302741){const _0x5d475b=_0x157a22,_0x363426=collection(db,_0x5d475b(0x331)+appId+_0x5d475b(0xa18)+_0x302741+_0x5d475b(0x798));unsubscribeStudentProfilesListener=onSnapshot(_0x363426,_0x3a085a=>{const _0x4edd87=_0x5d475b,_0x2df28b=_0x3a085a[_0x4edd87(0xbe9)][_0x4edd87(0x141)](_0x5dafaa=>_0x5dafaa[_0x4edd87(0xd60)]());renderLeaderboard(_0x2df28b,_0x4edd87(0x406));},_0x56a656=>{const _0x3a126a=_0x5d475b;console['error'](_0x3a126a(0x6ca),_0x56a656),document[_0x3a126a(0xccc)](_0x3a126a(0x406))['innerHTML']=_0x3a126a(0xcb4);});}function renderLeaderboard(_0x1fb159,_0x7eaa53){const _0x240507=_0x157a22,_0x4ad4d5=document['getElementById'](_0x7eaa53);if(!_0x1fb159||_0x1fb159['length']===0x0){_0x4ad4d5[_0x240507(0x93e)]=_0x240507(0x6fa);return;}_0x1fb159[_0x240507(0x4b3)]((_0x2c49aa,_0x16e68e)=>{const _0x56acfe=_0x240507,_0x1f9dc0=(_0x16e68e['totalPoints']||0x0)-(_0x2c49aa['totalPoints']||0x0);if(_0x1f9dc0!==0x0)return _0x1f9dc0;const _0x1d59fc=(_0x16e68e[_0x56acfe(0x702)]?.[_0x56acfe(0x408)]||0x0)-(_0x2c49aa[_0x56acfe(0x702)]?.[_0x56acfe(0x408)]||0x0);if(_0x1d59fc!==0x0)return _0x1d59fc;const _0x15f997=(_0x16e68e['badgesCount']?.['first_try_ace']||0x0)-(_0x2c49aa[_0x56acfe(0x702)]?.[_0x56acfe(0x7b1)]||0x0);if(_0x15f997!==0x0)return _0x15f997;const _0x40ddd0=(_0x16e68e[_0x56acfe(0x702)]?.[_0x56acfe(0xca3)]||0x0)-(_0x2c49aa[_0x56acfe(0x702)]?.[_0x56acfe(0xca3)]||0x0);if(_0x40ddd0!==0x0)return _0x40ddd0;const _0x4eb27f=(_0x16e68e[_0x56acfe(0x702)]?.['quick_thinker']||0x0)-(_0x2c49aa[_0x56acfe(0x702)]?.['quick_thinker']||0x0);if(_0x4eb27f!==0x0)return _0x4eb27f;return _0x2c49aa['studentName']['localeCompare'](_0x16e68e['studentName'],'th');});let _0x4bdbe1='';_0x1fb159['forEach']((_0x39d4b4,_0x59efa7)=>{const _0x1944cc=_0x240507,_0x2ab55a=_0x59efa7+0x1,_0x3cedbf=_0x39d4b4[_0x1944cc(0x702)]||{};let _0x373346='';const _0x2da822=['specialist',_0x1944cc(0xca3),_0x1944cc(0x7b1),_0x1944cc(0x622)];_0x2da822[_0x1944cc(0x8f9)](_0x2dec14=>{const _0x413ff8=_0x1944cc;if(_0x3cedbf[_0x2dec14]>0x0){const _0x5695b8=Object[_0x413ff8(0x11b)](BADGES)[_0x413ff8(0x48e)](_0x1fa367=>_0x1fa367['id']===_0x2dec14);_0x5695b8&&(_0x2dec14===_0x413ff8(0x408)?_0x373346+=_0x413ff8(0x2f6)+_0x5695b8[_0x413ff8(0x190)]+_0x413ff8(0xa4c)+_0x5695b8[_0x413ff8(0x501)]+_0x413ff8(0x42a):_0x373346+=_0x413ff8(0x2f6)+_0x5695b8[_0x413ff8(0x190)]+'\x20('+_0x3cedbf[_0x2dec14]+_0x413ff8(0x40d)+_0x5695b8['icon']+_0x413ff8(0x1e3)+_0x3cedbf[_0x2dec14]+_0x413ff8(0xb15));}}),_0x4bdbe1+=_0x1944cc(0xc7c)+_0x2ab55a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x39d4b4[_0x1944cc(0x894)]+_0x1944cc(0xcf3)+(_0x39d4b4['totalPoints']||0x0)[_0x1944cc(0x84e)]()+_0x1944cc(0x714)+(_0x373346||'-')+_0x1944cc(0xc69);}),_0x4ad4d5[_0x240507(0x93e)]=_0x4bdbe1;}function displayLoopScreen(_0x326734,_0x2fb472,_0x2550ca){const _0x36d242=_0x157a22;let _0x4c5101='';_0x2550ca!==_0x36d242(0x61d)&&(_0x4c5101=_0x36d242(0x111)+_0x326734+_0x36d242(0xc71)+_0x2fb472+_0x36d242(0x113));const _0x35389c=_0x36d242(0x80a)+_0x4c5101+_0x36d242(0x60c);studentResultArea[_0x36d242(0x93e)]=_0x35389c,studentResultArea[_0x36d242(0x807)][_0x36d242(0x90e)]('hidden'),studentQuizArea[_0x36d242(0x807)][_0x36d242(0xcec)](_0x36d242(0x9f0)),document[_0x36d242(0xccc)](_0x36d242(0x48b))['addEventListener'](_0x36d242(0x343),()=>{const _0x16871f=_0x36d242;studentResultArea[_0x16871f(0x807)][_0x16871f(0xcec)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3177c3,_0x2c2ae8,_0x38c755){const _0xf052b9=_0x157a22,_0x253391=document['getElementById'](_0x38c755),_0xa5efdf=_0x38c755===_0xf052b9(0xe68),_0x2c95f1=_0x2c2ae8[_0xf052b9(0xdbf)]['length'],_0x4a4e61=document[_0xf052b9(0xccc)](_0x38c755)[_0xf052b9(0x43a)](_0xf052b9(0xc56));if(_0x4a4e61&&!_0xa5efdf){const _0x596bd2=_0x4a4e61[_0xf052b9(0xdd0)](_0xf052b9(0x3c5));_0x596bd2[_0xf052b9(0x93e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x3177c3||_0x3177c3[_0xf052b9(0x34a)]===0x0){_0x253391['innerHTML']=_0xf052b9(0x585)+(_0xa5efdf?0x6:0x8)+_0xf052b9(0x947);return;}const _0x4f751b=[..._0x3177c3];_0x4f751b['sort']((_0x3c8179,_0xc58f1e)=>{const _0x557678=_0xf052b9;let _0x3b8f29,_0x4c3b11;switch(quizLeaderboardSortBy){case _0x557678(0x894):_0x3b8f29=_0x3c8179['studentName']||'',_0x4c3b11=_0xc58f1e[_0x557678(0x894)]||'';return quizLeaderboardSortOrder==='asc'?_0x3b8f29[_0x557678(0x2ef)](_0x4c3b11,'th'):_0x4c3b11['localeCompare'](_0x3b8f29,'th');case _0x557678(0x7ff):_0x3b8f29=_0x3c8179[_0x557678(0x7ff)]||0x0,_0x4c3b11=_0xc58f1e[_0x557678(0x7ff)]||0x0;break;case'attempts':_0x3b8f29=_0x3c8179[_0x557678(0xbae)]?.[_0x557678(0x34a)]||0x1,_0x4c3b11=_0xc58f1e[_0x557678(0xbae)]?.['length']||0x1;break;case _0x557678(0x2b4):_0x3b8f29=new Date(_0x3c8179[_0x557678(0x2b4)]),_0x4c3b11=new Date(_0xc58f1e['latestSubmittedAt']);break;case _0x557678(0x4d8):default:_0x3b8f29=_0x3c8179[_0x557678(0x4d8)],_0x4c3b11=_0xc58f1e[_0x557678(0x4d8)];break;}if(_0x3b8f29<_0x4c3b11)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x3b8f29>_0x4c3b11)return quizLeaderboardSortOrder===_0x557678(0x365)?0x1:-0x1;return 0x0;});const _0x25803e=_0x2c2ae8[_0xf052b9(0x7ca)]===!![],_0xf05b07=_0x2c2ae8[_0xf052b9(0x640)]?.[_0xf052b9(0xd19)]??-0x1;let _0x2f20db='';_0x4f751b['forEach']((_0x5e2fc3,_0x3e0c39)=>{const _0x14257f=_0xf052b9,_0x3f1cb1=_0x3e0c39+0x1;let _0x1c5802=_0x14257f(0x200);if(_0x25803e||_0xf05b07!==-0x1){let _0x36d8d9=_0x25803e?_0x5e2fc3['bestScore']===_0x2c95f1:_0x5e2fc3['bestScore']>=_0xf05b07;const _0x12cb30=_0x36d8d9?'bg-green-100\x20text-green-800':_0x14257f(0xcad),_0x431fc6=_0x36d8d9?'ผ่าน':'ไม่ผ่าน';_0x1c5802=_0x14257f(0xac0)+_0x12cb30+'\x22>'+_0x431fc6+_0x14257f(0x6a0);}const _0x50d092=_0x5e2fc3['attempts'][_0x5e2fc3[_0x14257f(0xbae)][_0x14257f(0x34a)]-0x1],_0x3d984c=(_0x50d092['badges']||[])['map'](_0x8aa573=>{const _0x2af52b=_0x14257f,_0x59d14f=Object[_0x2af52b(0x11b)](BADGES)[_0x2af52b(0x48e)](_0xd782=>_0xd782['id']===_0x8aa573);return _0x59d14f?_0x2af52b(0x5d5)+_0x59d14f['name']+'\x22><i\x20class=\x22fas\x20'+_0x59d14f['icon']+_0x2af52b(0xb11):'';})['join']('');_0x2f20db+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x3f1cb1+_0x14257f(0x722)+_0x5e2fc3[_0x14257f(0x894)]+_0x14257f(0xa5f)+_0x5e2fc3['bestScore']+_0x14257f(0xc71)+_0x2c95f1+_0x14257f(0xb1e)+_0x1c5802+_0x14257f(0x536)+(_0x5e2fc3[_0x14257f(0x7ff)]||0x0)['toLocaleString']()+_0x14257f(0xb1e)+(_0xa5efdf?'':_0x14257f(0x592)+(_0x5e2fc3[_0x14257f(0xbae)]?.[_0x14257f(0x34a)]||0x1)+_0x14257f(0xdbd))+_0x14257f(0x823)+(_0xa5efdf?'':_0x14257f(0x252)+new Date(_0x5e2fc3['latestSubmittedAt'])['toLocaleString'](_0x14257f(0x31e))+_0x14257f(0xdbd))+_0x14257f(0xa1a)+(_0x3d984c||'-')+_0x14257f(0x233);}),_0x253391['innerHTML']=_0x2f20db,_0x4a4e61&&!_0xa5efdf&&_0x4a4e61[_0xf052b9(0x5f0)](_0xf052b9(0x50d))[_0xf052b9(0x8f9)](_0xfadc8f=>{const _0x12ff6a=_0xf052b9,_0x20bdf9=_0xfadc8f[_0x12ff6a(0xdd0)](_0x12ff6a(0x38c));if(_0x20bdf9)_0x20bdf9[_0x12ff6a(0x90e)]();_0xfadc8f[_0x12ff6a(0x87a)][_0x12ff6a(0x4b3)]===quizLeaderboardSortBy&&(_0xfadc8f[_0x12ff6a(0x93e)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x12ff6a(0x27c));});}async function handleDeleteSubmission(_0x4818ea){const _0x132e46=_0x157a22;if(!currentQuizData||!currentQuizData['id']||!_0x4818ea){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x132e46(0x3c0)+_0x4818ea+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x45d75c=_0x132e46,_0x4c622c=currentQuizData['id'],_0x8f8579=doc(db,_0x45d75c(0x331)+appId+'/public/data/quizzes/'+_0x4c622c+_0x45d75c(0x3d6),_0x4818ea);try{await deleteDoc(_0x8f8579),showMessage(_0x45d75c(0xb9c)+_0x4818ea+_0x45d75c(0xd74));}catch(_0x4b4f49){console[_0x45d75c(0xada)](_0x45d75c(0x5c4),_0x4b4f49),showMessage(_0x45d75c(0xb41));}});}async function handleLoadQuiz(){const _0x49f441=_0x157a22,_0x165e0a=document[_0x49f441(0xccc)](_0x49f441(0x428)),_0x455da5=_0x165e0a[_0x49f441(0xa9f)]['trim']();if(!_0x455da5){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x49f441(0x7ef)]=!![],loadQuizBtn['innerHTML']=_0x49f441(0x487);try{const _0xd7500c=doc(db,'artifacts/'+appId+_0x49f441(0x78d),_0x455da5),_0x3edbe2=await getDoc(_0xd7500c);if(!_0x3edbe2[_0x49f441(0xc43)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x3edbe2['id'],..._0x3edbe2[_0x49f441(0xd60)]()};const _0x5bb383=currentQuizData[_0x49f441(0xab3)]||_0x49f441(0x130),_0x347427=new Date();if(_0x5bb383==='inactive'){showMessage(_0x49f441(0x95d));return;}if(_0x5bb383===_0x49f441(0x419)){const _0x349c1e=currentQuizData[_0x49f441(0x747)]?new Date(currentQuizData[_0x49f441(0x747)]):null,_0x4b4dec=currentQuizData[_0x49f441(0x17e)]?new Date(currentQuizData['endTime']):null;if(_0x349c1e&&_0x347427<_0x349c1e){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x349c1e[_0x49f441(0x84e)](_0x49f441(0x31e),{'hour12':![]}));return;}if(_0x4b4dec&&_0x347427>_0x4b4dec){showMessage(_0x49f441(0x5f6));return;}}const _0x1975a4=currentQuizData[_0x49f441(0x737)];currentProjectId=_0x1975a4;const _0x29c45f=doc(db,_0x49f441(0x331)+appId+_0x49f441(0x21d),_0x1975a4),_0x3cf590=await getDoc(_0x29c45f);if(!_0x3cf590['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x40c824=_0x3cf590['data']();currentStudentProjectData=_0x40c824,displayStudentNameSelector(_0x40c824[_0x49f441(0xb5a)],currentQuizData[_0x49f441(0xe36)]);}catch(_0x1e1a2e){console[_0x49f441(0xada)]('Error\x20loading\x20quiz\x20for\x20student:',_0x1e1a2e),showMessage(_0x49f441(0x9b3));}finally{loadQuizBtn[_0x49f441(0x7ef)]=![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x498a01,_0x36f2a6){const _0x51e4f5=_0x157a22;if(!currentQuizData||!currentQuizData['id'])return;const _0x5abc83=currentQuizData['id'],_0x4b248e=doc(db,_0x51e4f5(0x331)+appId+'/public/data/quizzes/'+_0x5abc83+_0x51e4f5(0x3d6),_0x498a01);try{const _0x561718=await getDoc(_0x4b248e);if(!_0x561718[_0x51e4f5(0xc43)]())return;const _0x5ebc8a=_0x561718[_0x51e4f5(0xd60)](),_0x1b4d5a=_0x5ebc8a[_0x51e4f5(0xbae)]||[];_0x1b4d5a[_0x51e4f5(0x34a)]>0x0&&(_0x1b4d5a[_0x1b4d5a[_0x51e4f5(0x34a)]-0x1]['points']=_0x36f2a6,_0x1b4d5a[_0x1b4d5a[_0x51e4f5(0x34a)]-0x1][_0x51e4f5(0x86b)]=!![]),await updateDoc(_0x4b248e,{'points':_0x36f2a6,'attempts':_0x1b4d5a}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x498a01),showMessage('แก้ไข\x20Points\x20ของ\x20'+_0x498a01+_0x51e4f5(0x1ac)+_0x36f2a6+_0x51e4f5(0xe5b));}catch(_0xc30b07){console[_0x51e4f5(0xada)](_0x51e4f5(0x94c),_0xc30b07),showMessage(_0x51e4f5(0xc0e));}}async function handleJoinLiveGame(){const _0x9cf64d=_0x157a22,_0x1edcec=document[_0x9cf64d(0xccc)]('game-pin-input'),_0x17c8f3=document[_0x9cf64d(0xccc)](_0x9cf64d(0x10a)),_0x13a4b5=document['getElementById']('confirm-join-game-btn'),_0x2fedf9=_0x1edcec['value']['trim'](),_0x276553=_0x17c8f3['value'][_0x9cf64d(0x6b3)]();if(!_0x2fedf9||!_0x276553){showMessage(_0x9cf64d(0x751));return;}_0x13a4b5['disabled']=!![],_0x13a4b5[_0x9cf64d(0x93e)]=_0x9cf64d(0xa90);try{const _0x262a3c=collection(db,_0x9cf64d(0x331)+appId+_0x9cf64d(0x334)),_0x3d27ab=query(_0x262a3c,where(_0x9cf64d(0xe12),'==',_0x2fedf9),where('status','in',[_0x9cf64d(0x70a),'question','summary',_0x9cf64d(0xaca)])),_0xdc68f2=await getDocs(_0x3d27ab);if(_0xdc68f2[_0x9cf64d(0x8bc)]){const _0x13644a=collection(db,_0x9cf64d(0x331)+appId+'/public/data/liveGames'),_0x38eabb=query(_0x13644a,where('gamePin','==',_0x2fedf9)),_0x2cfa04=await getDocs(_0x38eabb);if(!_0x2cfa04['empty']){await proceedWithTeamQuizJoin(_0x2cfa04[_0x9cf64d(0xbe9)][0x0]);return;}showMessage(_0x9cf64d(0x4b8));return;}const _0x382f3a=_0xdc68f2[_0x9cf64d(0xbe9)][0x0];currentLiveGameId=_0x382f3a['id'];const _0x1be11e=_0x382f3a[_0x9cf64d(0xd60)](),_0x444b1c=doc(db,'artifacts/'+appId+_0x9cf64d(0x78d),_0x1be11e[_0x9cf64d(0x9c4)]),_0x2ca770=await getDoc(_0x444b1c);_0x2ca770[_0x9cf64d(0xc43)]()&&(currentQuizData=_0x1be11e[_0x9cf64d(0x937)]);const _0x377ae9=doc(db,_0x9cf64d(0x331)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x9cf64d(0x9f4),_0x276553),_0x2a7d0e=await getDoc(_0x377ae9);if(_0x2a7d0e['exists']())_0x13a4b5[_0x9cf64d(0x93e)]=_0x9cf64d(0xcd0),await updateDoc(_0x377ae9,{'status':_0x9cf64d(0x130)}),showMessage(_0x9cf64d(0x8be)+_0x276553+'!\x20ข้อมูลของคุณถูกกู้คืนแล้ว');else{if(_0x1be11e[_0x9cf64d(0xab3)]!=='lobby'){}_0x13a4b5[_0x9cf64d(0x93e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x5200ea={'name':_0x276553,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x9cf64d(0x130),'answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x377ae9,_0x5200ea);}currentStudentName=_0x276553,localTeamPlayers=[_0x276553],showView(_0x9cf64d(0xd43)),listenForSyncGameUpdates();const _0x5cd086={'gameId':currentLiveGameId,'mode':_0x9cf64d(0xd2a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x9cf64d(0xc9c)](_0x9cf64d(0xbc0),JSON[_0x9cf64d(0x5ad)](_0x5cd086));}catch(_0x3bc91f){console[_0x9cf64d(0xada)](_0x9cf64d(0xaf3),_0x3bc91f),showMessage(_0x9cf64d(0x327)+_0x3bc91f[_0x9cf64d(0x267)]);}finally{_0x13a4b5[_0x9cf64d(0x7ef)]=![];if(_0x13a4b5['innerHTML']['includes'](_0x9cf64d(0x3cc)))_0x13a4b5[_0x9cf64d(0x93e)]=_0x9cf64d(0x4fc);}}function displayStudentNameSelector(_0x31d31b,_0xead117){const _0x2cf3ab=_0x157a22,_0x44b7ab=document[_0x2cf3ab(0xccc)](_0x2cf3ab(0x767));document[_0x2cf3ab(0xccc)](_0x2cf3ab(0x7d0))['textContent']=_0x2cf3ab(0x8bd)+_0xead117,!_0x31d31b||_0x31d31b[_0x2cf3ab(0x34a)]===0x0?(_0x44b7ab['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn['disabled']=!![]):(_0x44b7ab['innerHTML']=_0x2cf3ab(0xc57),_0x31d31b[_0x2cf3ab(0x8f9)](_0x595eda=>{const _0x4ac73d=_0x2cf3ab,_0xf51e64=document[_0x4ac73d(0xd4f)](_0x4ac73d(0xa93));_0xf51e64['value']=_0x595eda,_0xf51e64[_0x4ac73d(0xc76)]=_0x595eda,_0x44b7ab['appendChild'](_0xf51e64);}),startQuizBtn[_0x2cf3ab(0x7ef)]=![]),studentInitialView['classList'][_0x2cf3ab(0xcec)]('hidden'),studentNameSelectionView[_0x2cf3ab(0x807)][_0x2cf3ab(0x90e)](_0x2cf3ab(0x9f0));}function shuffleArray(_0x4bf9bd){const _0x3e2b2b=_0x157a22;for(let _0x9d464c=_0x4bf9bd[_0x3e2b2b(0x34a)]-0x1;_0x9d464c>0x0;_0x9d464c--){const _0x129e9b=Math[_0x3e2b2b(0xc3c)](Math[_0x3e2b2b(0x373)]()*(_0x9d464c+0x1));[_0x4bf9bd[_0x9d464c],_0x4bf9bd[_0x129e9b]]=[_0x4bf9bd[_0x129e9b],_0x4bf9bd[_0x9d464c]];}}function getShuffledQuiz(_0x341c4f){const _0x39c1c0=_0x157a22;let _0x159676=JSON[_0x39c1c0(0xcd5)](JSON[_0x39c1c0(0x5ad)](_0x341c4f));const _0x53c969=_0x159676[_0x39c1c0(0x640)]?.[_0x39c1c0(0xabd)]||_0x39c1c0(0x80b);if(_0x53c969===_0x39c1c0(0x80b))return _0x159676;return(_0x53c969==='questions_only'||_0x53c969===_0x39c1c0(0x4d2))&&shuffleArray(_0x159676['questions']),(_0x53c969===_0x39c1c0(0xdc2)||_0x53c969==='both')&&_0x159676['questions']['forEach'](_0x5ba715=>{const _0x46aace=_0x39c1c0,_0x2aba9f=_0x5ba715['questionType']||_0x159676[_0x46aace(0x7fc)];if(_0x5ba715[_0x46aace(0xaee)]){let _0x1cdc47=_0x5ba715[_0x46aace(0xaee)][_0x46aace(0x141)]((_0x165a1e,_0xe9bb81)=>({'text':_0x165a1e,'isCorrect':_0xe9bb81===_0x5ba715[_0x46aace(0x2bd)]}));shuffleArray(_0x1cdc47),_0x5ba715[_0x46aace(0xaee)]=_0x1cdc47[_0x46aace(0x141)](_0x5f29c2=>_0x5f29c2['text']),_0x5ba715[_0x46aace(0x2bd)]=_0x1cdc47[_0x46aace(0xb42)](_0x2e984e=>_0x2e984e[_0x46aace(0xa04)]);}_0x2aba9f===_0x46aace(0x283)&&_0x5ba715['allResponses']&&shuffleArray(_0x5ba715[_0x46aace(0x2c7)]);}),_0x159676;}function displayQuizForStudent(_0x35f900){const _0xb7e4f3=_0x157a22;studentQuizArea[_0xb7e4f3(0x807)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x35f900);currentMode!==_0xb7e4f3(0xba1)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0xb7e4f3(0x2ab),handleFullscreenChange),document[_0xb7e4f3(0x7d6)](_0xb7e4f3(0xd4b),handleVisibilityChange),enterFullscreen(),window[_0xb7e4f3(0x7d6)](_0xb7e4f3(0x8ee),resetDimTimer),window[_0xb7e4f3(0x7d6)](_0xb7e4f3(0xd80),resetDimTimer),window[_0xb7e4f3(0x7d6)](_0xb7e4f3(0x211),resetDimTimer),window[_0xb7e4f3(0x7d6)]('keydown',resetDimTimer),resetDimTimer());const _0x24bf0c=currentDisplayedQuiz[_0xb7e4f3(0x640)]?.['timerMode']||_0xb7e4f3(0x80b);if(_0x24bf0c===_0xb7e4f3(0x35d))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0xb7e4f3(0x640)][_0xb7e4f3(0x37a)]);else _0x24bf0c==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x58b04b){const _0x590d00=_0x157a22,_0x21cc3b=document[_0x590d00(0xccc)](_0x590d00(0x172)+_0x58b04b),_0x17da09=document[_0x590d00(0x5f0)](_0x590d00(0xe5d));_0x17da09[_0x590d00(0x8f9)](_0x773e7e=>{const _0x229eb1=_0x590d00;if(_0x773e7e['id']!==_0x229eb1(0x172)+_0x58b04b)_0x773e7e[_0x229eb1(0x807)]['add']('hidden');});if(_0x21cc3b)_0x21cc3b['classList'][_0x590d00(0x9e5)](_0x590d00(0x9f0));},window[_0x157a22(0x4a2)]=function(_0x127c4c,_0x4305a0){const _0x1e9237=_0x157a22,_0x124f6a=currentDisplayedQuiz;if(!_0x124f6a)return;const _0x379124=_0x124f6a[_0x1e9237(0xdbf)][_0x127c4c],_0x2849f8=_0x379124['allResponses'][_0x4305a0],_0xffe180=document[_0x1e9237(0xccc)](_0x1e9237(0xa5c)+_0x127c4c);if(_0xffe180)_0xffe180['value']=_0x2849f8;const _0x542e52=document[_0x1e9237(0xccc)](_0x1e9237(0x525)+_0x127c4c);if(_0x542e52){_0x542e52['innerHTML']=_0x2849f8;if(window[_0x1e9237(0x5e4)])MathJax[_0x1e9237(0xd06)]([_0x542e52]);_0x542e52[_0x1e9237(0x807)][_0x1e9237(0xcec)]('text-indigo-700',_0x1e9237(0xe38));}const _0xf15bac=document[_0x1e9237(0xccc)]('dropdown-list-'+_0x127c4c);if(_0xf15bac)_0xf15bac[_0x1e9237(0x807)][_0x1e9237(0xcec)](_0x1e9237(0x9f0));},document[_0x157a22(0x7d6)](_0x157a22(0x343),_0x51bd43=>{const _0x5a76c3=_0x157a22;!_0x51bd43['target'][_0x5a76c3(0x43a)](_0x5a76c3(0x305))&&document[_0x5a76c3(0x5f0)](_0x5a76c3(0xe5d))['forEach'](_0x18d132=>_0x18d132[_0x5a76c3(0x807)][_0x5a76c3(0xcec)](_0x5a76c3(0x9f0)));});function renderFullQuizForm(){const _0x54e0b6=_0x157a22,_0x5858c8=currentDisplayedQuiz[_0x54e0b6(0x640)]?.[_0x54e0b6(0xb5b)]===!![],_0x109f18=currentDisplayedQuiz[_0x54e0b6(0x640)]?.[_0x54e0b6(0x29e)]||'checkbox';let _0x1573ab=![],_0x236027=_0x54e0b6(0x3d7)+currentDisplayedQuiz['topic']+_0x54e0b6(0x9e9)+(currentMode==='admin-testing'?_0x54e0b6(0xcca):'')+_0x54e0b6(0x201);currentDisplayedQuiz[_0x54e0b6(0xdbf)][_0x54e0b6(0x8f9)]((_0xf1abc8,_0x14b0db)=>{const _0x129d7b=_0x54e0b6,_0x33db82=_0xf1abc8[_0x129d7b(0x36c)]||currentDisplayedQuiz[_0x129d7b(0x7fc)],_0x4912b8=_0x129d7b(0xd2f)+(0x64-_0x14b0db)+';';_0x33db82===_0x129d7b(0x283)&&!_0x1573ab&&(_0x236027+=_0x129d7b(0x812),_0x1573ab=!![]);_0x236027+='<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22'+_0x4912b8+'\x22>';_0x33db82!=='matching_item'&&(_0x236027+=_0x129d7b(0xc5c)+(_0x14b0db+0x1)+'.\x20'+(_0xf1abc8[_0x129d7b(0xe86)]||_0xf1abc8[_0x129d7b(0x885)])+_0x129d7b(0xdba)+(_0xf1abc8[_0x129d7b(0x71e)]?_0x129d7b(0xdd)+_0xf1abc8[_0x129d7b(0x71e)]+_0x129d7b(0x6ae):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');_0x236027+=_0x129d7b(0xe13);if(_0x33db82==='matching_item'&&_0xf1abc8[_0x129d7b(0x2c7)])_0x236027+=_0x129d7b(0xdc4)+(_0x14b0db+0x1)+_0x129d7b(0x6b5)+_0xf1abc8[_0x129d7b(0x6a8)]+_0x129d7b(0x9c2)+_0x14b0db+_0x129d7b(0xe88)+_0x14b0db+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown('+_0x14b0db+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-'+_0x14b0db+_0x129d7b(0xcf7)+_0x14b0db+_0x129d7b(0xc23)+_0xf1abc8['allResponses'][_0x129d7b(0x141)]((_0x4c3546,_0x3dfa3a)=>_0x129d7b(0xae3)+_0x14b0db+',\x20'+_0x3dfa3a+_0x129d7b(0x264)+_0x4c3546+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x129d7b(0xb2e);else{if(_0x33db82===_0x129d7b(0xc6b))_0x236027+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x14b0db+_0x129d7b(0x572)+_0x14b0db+_0x129d7b(0x326)+_0x14b0db+_0x129d7b(0xe18),_0x236027+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x14b0db+_0x129d7b(0xac7)+_0x14b0db+_0x129d7b(0x5a7)+_0x14b0db+_0x129d7b(0xc5a);else _0xf1abc8[_0x129d7b(0xaee)]&&Array[_0x129d7b(0x9c5)](_0xf1abc8['options'])&&_0xf1abc8['options']['length']>0x0?_0x236027+=_0xf1abc8['options'][_0x129d7b(0x141)]((_0x202451,_0x461673)=>_0x129d7b(0x7ec)+_0x14b0db+_0x129d7b(0xac2)+_0x461673+'\x22\x20name=\x22question'+_0x14b0db+'\x22\x20value=\x22'+_0x461673+_0x129d7b(0x287)+_0x14b0db+_0x129d7b(0xac2)+_0x461673+'\x22>'+_0x202451+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x129d7b(0x72e)](''):_0x236027+=_0x129d7b(0x17f)+_0x14b0db+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';}_0x236027+=_0x129d7b(0x6ae),_0x5858c8&&(_0x236027+=_0x129d7b(0xc92),_0x109f18===_0x129d7b(0x3e0)?_0x236027+=_0x129d7b(0xaac)+_0x14b0db+'\x22\x20name=\x22confidence'+_0x14b0db+_0x129d7b(0x8d2)+_0x14b0db+_0x129d7b(0xda7)+_0x14b0db+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x236027+=_0x129d7b(0x67c)+_0x14b0db+_0x129d7b(0x35c)+_0x14b0db+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x14b0db+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x236027+=_0x129d7b(0x6ae)),_0x236027+=_0x129d7b(0x6ae);}),_0x236027+=_0x54e0b6(0x410),_0x236027+=_0x54e0b6(0x218),studentQuizArea['innerHTML']=_0x236027;if(currentMode==='admin-testing'){const _0x50c7ea=document['getElementById']('cancel-test-btn');if(_0x50c7ea)_0x50c7ea[_0x54e0b6(0x7d6)]('click',cancelAdminTest);}const _0x1d7ea0=document[_0x54e0b6(0xccc)]('quiz-form');_0x1d7ea0&&(_0x1d7ea0[_0x54e0b6(0x7d6)]('submit',handleSubmitQuiz),_0x1d7ea0['addEventListener'](_0x54e0b6(0x343),_0x4bb25f=>{const _0x4c7935=_0x54e0b6;if(_0x4bb25f['target'][_0x4c7935(0x807)][_0x4c7935(0xa2d)]('confidence-choice-btn')){const _0x53d4a9=_0x4bb25f[_0x4c7935(0xc55)],_0x332570=_0x53d4a9[_0x4c7935(0x87a)][_0x4c7935(0xb87)],_0x4e7b69=_0x53d4a9[_0x4c7935(0x87a)]['value'];document[_0x4c7935(0xccc)](_0x4c7935(0x862)+_0x332570)['value']=_0x4e7b69;const _0x243dee=_0x53d4a9['parentElement'];_0x243dee['querySelectorAll'](_0x4c7935(0xbcb))['forEach'](_0x418507=>_0x418507[_0x4c7935(0x807)][_0x4c7935(0x90e)](_0x4c7935(0x130))),_0x53d4a9[_0x4c7935(0x807)]['add']('active');}})),window[_0x54e0b6(0x5e4)]&&setTimeout(()=>{const _0x3b7477=_0x54e0b6;window[_0x3b7477(0x5e4)][_0x3b7477(0xd06)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x291c45){const _0x5d9d9f=_0x157a22;if(_0x291c45)_0x291c45[_0x5d9d9f(0x54c)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3377ad=document[_0x5d9d9f(0xccc)](_0x5d9d9f(0xed));if(!_0x3377ad)return;const _0x293292=currentDisplayedQuiz[_0x5d9d9f(0x640)]?.[_0x5d9d9f(0xb5b)]===!![],_0x5f00ad=currentDisplayedQuiz[_0x5d9d9f(0x640)]?.[_0x5d9d9f(0x29e)]||_0x5d9d9f(0x6d8);if(_0x293292&&_0x5f00ad===_0x5d9d9f(0x3e0)){let _0x3c1554=!![];for(let _0x333d5e=0x0;_0x333d5e<currentDisplayedQuiz['questions'][_0x5d9d9f(0x34a)];_0x333d5e++){const _0x2934e3=_0x3377ad[_0x5d9d9f(0xdd0)](_0x5d9d9f(0x7fa)+_0x333d5e);if(!_0x2934e3||_0x2934e3['value']===''){_0x3c1554=![];break;}}if(!_0x3c1554){showMessage(_0x5d9d9f(0xe6a));return;}}const _0xe27399=_0x3377ad['querySelector'](_0x5d9d9f(0x444)),_0xbad465=currentDisplayedQuiz[_0x5d9d9f(0xdbf)]['some'](_0x1dfa15=>_0x1dfa15[_0x5d9d9f(0x36c)]===_0x5d9d9f(0xb27));_0xe27399&&(_0xe27399[_0x5d9d9f(0x7ef)]=!![],_0xe27399[_0x5d9d9f(0x93e)]=_0xbad465?_0x5d9d9f(0xf8):_0x5d9d9f(0x3ae));const _0x56e65f=new FormData(_0x3377ad),_0x59088a=currentDisplayedQuiz[_0x5d9d9f(0xdbf)]['map']((_0x144adc,_0x2a24c8)=>{const _0x314854=_0x5d9d9f,_0xffe873=_0x56e65f[_0x314854(0x222)](_0x314854(0x4c0)+_0x2a24c8);let _0x270797;_0x5f00ad===_0x314854(0x3e0)?_0x270797=_0x56e65f[_0x314854(0x222)]('confidence'+_0x2a24c8):_0x270797=_0x56e65f[_0x314854(0x222)]('confidence'+_0x2a24c8)==='on';let _0x23c4aa=null;if(_0xffe873!==null&&_0xffe873!==undefined){const _0x3cfe9d=_0x144adc[_0x314854(0x36c)]||currentDisplayedQuiz[_0x314854(0x7fc)];_0x3cfe9d===_0x314854(0x75f)||_0x3cfe9d===_0x314854(0x8ea)?_0x23c4aa=parseInt(_0xffe873):_0x23c4aa=_0xffe873;}return{'answer':_0x23c4aa,'wasConfident':_0x270797};}),_0x423d82=currentQuizData['id'],_0x55c4b3=doc(db,'artifacts/'+appId+_0x5d9d9f(0xe48)+_0x423d82+'/submissions',currentStudentName),_0x534de2=await getDoc(_0x55c4b3),_0x55a86a=_0x534de2[_0x5d9d9f(0xc43)]()?_0x534de2[_0x5d9d9f(0xd60)]():{},_0x3a723a=_0x55a86a[_0x5d9d9f(0xbae)]||[];await processAndSubmitAnswers(_0x59088a,_0x3a723a);}async function gradeShortAnswerWithAI(_0x5a079c,_0x30f5f4){const _0xe475fc=_0x157a22;if(!_0x5a079c||!_0x30f5f4)return![];try{const _0xb2b19=_0xe475fc(0x192)+_0x5a079c+_0xe475fc(0x98a)+_0x30f5f4+_0xe475fc(0xbed),_0x1aa045={'contents':[{'role':_0xe475fc(0x752),'parts':[{'text':_0xb2b19}]}]},_0x46371e='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x3eaac6=_0xe475fc(0x184)+_0x46371e,_0x5792c5=await fetch(_0x3eaac6,{'method':_0xe475fc(0x94a),'headers':{'Content-Type':_0xe475fc(0x71f)},'body':JSON['stringify'](_0x1aa045)});if(!_0x5792c5['ok'])throw new Error(_0xe475fc(0xabb));const _0x58dd0b=await _0x5792c5[_0xe475fc(0x596)](),_0x52124b=_0x58dd0b[_0xe475fc(0xe2)][0x0]['content'][_0xe475fc(0x2de)][0x0][_0xe475fc(0x84b)][_0xe475fc(0x6b3)]()['toLowerCase']();return _0x52124b===_0xe475fc(0x5d8);}catch(_0x21405a){return console['error'](_0xe475fc(0x243),_0x21405a),![];}}async function processAndSubmitAnswers(_0x4edd04,_0x52f58c){const _0x852bd5=_0x157a22;releaseWakeLock(),stopDimTimer();try{document[_0x852bd5(0xaa0)]&&await document['exitFullscreen']();}catch(_0x5de91d){console[_0x852bd5(0x735)](_0x852bd5(0xe7),_0x5de91d);}isQuizActive=![],document[_0x852bd5(0xb65)](_0x852bd5(0x2ab),handleFullscreenChange),document[_0x852bd5(0xb65)](_0x852bd5(0xd4b),handleVisibilityChange);let _0x39aaa2=0x0;const _0x28534f=[],_0x47281f=currentDisplayedQuiz[_0x852bd5(0xdbf)][_0x852bd5(0x34a)];let _0xe0d152=0x0,_0x1e3c2f=[];const _0xb7ff91=currentDisplayedQuiz[_0x852bd5(0xdbf)];for(let _0x1a15e2=0x0;_0x1a15e2<_0xb7ff91[_0x852bd5(0x34a)];_0x1a15e2++){const _0x3652fa=_0xb7ff91[_0x1a15e2],_0x27f7b4=_0x4edd04[_0x1a15e2],_0x3fd925=_0x27f7b4?_0x27f7b4['answer']:null,_0x311652=_0x27f7b4?_0x27f7b4['wasConfident']:null;let _0x4a70c3=![],_0x2954b9=0x0;if(_0x3fd925!==null&&_0x3fd925!==''){const _0x4dfe57=_0x3652fa[_0x852bd5(0x36c)]||currentDisplayedQuiz[_0x852bd5(0x7fc)];switch(_0x4dfe57){case _0x852bd5(0x283):_0x4a70c3=_0x3fd925===_0x3652fa['correctResponse'];break;case _0x852bd5(0xc6b):const _0x1f21e2=_0x3fd925===!![]||_0x3fd925===_0x852bd5(0x5d8);_0x4a70c3=_0x1f21e2===_0x3652fa[_0x852bd5(0xcab)];break;case _0x852bd5(0xdf0):case _0x852bd5(0xb27):_0x4a70c3=await gradeShortAnswer(_0x3fd925,_0x3652fa);break;case _0x852bd5(0x75f):case _0x852bd5(0x5b0):default:_0x4a70c3=Number(_0x3fd925)===_0x3652fa['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x852bd5(0x640)]?.[_0x852bd5(0xb5b)]){const _0x193dac=_0x27f7b4?_0x27f7b4[_0x852bd5(0x6f1)]:null;if(_0x4a70c3&&(_0x193dac===!![]||_0x193dac==='confident'))_0x2954b9=0x2;else{if(_0x4a70c3)_0x2954b9=0x1;else{if(!_0x4a70c3&&(_0x193dac===![]||_0x193dac===_0x852bd5(0x351)||_0x193dac===null))_0x2954b9=0x0;else!_0x4a70c3&&(_0x193dac===!![]||_0x193dac==='confident')&&(_0x2954b9=-0x1);}}}else _0x2954b9=_0x4a70c3?0x1:0x0;_0x39aaa2+=_0x2954b9;if(_0x4a70c3){_0xe0d152++;if(_0xe0d152===0x3)_0x1e3c2f[_0x852bd5(0xde9)](BADGES['ON_FIRE']['id']);}else _0xe0d152=0x0;let _0x51d4ae=null;_0x3652fa[_0x852bd5(0xaee)]&&(_0x3652fa[_0x852bd5(0x36c)]==='multiple_choice'||_0x3652fa[_0x852bd5(0x36c)]===_0x852bd5(0x5b0))&&_0x3fd925!==null?_0x51d4ae=_0x3652fa[_0x852bd5(0xaee)][_0x3fd925]:_0x51d4ae=_0x3fd925,_0x28534f[_0x852bd5(0xde9)]({'questionId':_0x3652fa['id'],'answer':_0x3fd925,'answerText':_0x51d4ae,'isCorrect':_0x4a70c3,'wasConfident':_0x311652,'pointsAwarded':_0x2954b9,'originalQuestionText':_0x3652fa[_0x852bd5(0x6a8)]||_0x3652fa[_0x852bd5(0x885)]});}const _0x58bde0=_0x28534f[_0x852bd5(0x512)](_0x35443d=>_0x35443d[_0x852bd5(0xa04)])['length'],_0x506373=currentDisplayedQuiz[_0x852bd5(0x640)]?.['passingScore']??Math[_0x852bd5(0xc3c)](_0x47281f/0x2);_0x58bde0===_0x47281f&&_0x47281f>0x0&&!currentDisplayedQuiz[_0x852bd5(0x7ca)]&&_0x1e3c2f[_0x852bd5(0xde9)](BADGES[_0x852bd5(0xcc6)]['id']);const _0x42adf1=currentDisplayedQuiz[_0x852bd5(0x640)]?.[_0x852bd5(0x6bc)];if(_0x42adf1===_0x852bd5(0x35d)&&quizStartTime){const _0x6d551=(new Date()-quizStartTime)/0x3e8,_0x19fa62=currentDisplayedQuiz[_0x852bd5(0x640)]['timerDuration']*0x3c;_0x58bde0>=_0x506373&&_0x6d551<_0x19fa62/0x2&&_0x1e3c2f[_0x852bd5(0xde9)](BADGES[_0x852bd5(0x955)]['id']);}_0x52f58c[_0x852bd5(0x34a)]===0x0&&_0x58bde0===_0x47281f&&_0x47281f>0x0&&_0x1e3c2f[_0x852bd5(0xde9)](BADGES[_0x852bd5(0x9a2)]['id']);if(_0x52f58c['length']>0x0){const _0x225636=_0x52f58c[0x0]['score'];if(_0x225636<_0x506373&&_0x58bde0>=_0x506373){const _0x47e368=_0x52f58c[_0x852bd5(0x5d1)](_0x6f805d=>(_0x6f805d[_0x852bd5(0x6d4)]||[])[_0x852bd5(0x9e3)](BADGES[_0x852bd5(0x58b)]['id']));!_0x47e368&&_0x1e3c2f[_0x852bd5(0xde9)](BADGES['COMEBACK_KING']['id']);}}_0x52f58c[_0x852bd5(0x34a)]===0x4&&_0x1e3c2f[_0x852bd5(0xde9)](BADGES[_0x852bd5(0xc83)]['id']);const _0x31711f=currentDisplayedQuiz[_0x852bd5(0x640)][_0x852bd5(0x726)];if(currentMode==='admin-testing'){handleResultDisplay(_0x31711f,_0x58bde0,_0x39aaa2,_0x1e3c2f,_0x28534f,_0x47281f);return;}const _0x458094=currentQuizData['id'],_0x258e55=doc(db,'artifacts/'+appId+_0x852bd5(0xe48)+_0x458094+_0x852bd5(0x3d6),currentStudentName);try{const _0x10284a=[..._0x52f58c],_0x3fb2d5={'score':_0x58bde0,'points':_0x39aaa2,'badges':Array[_0x852bd5(0x2d0)](new Set(_0x1e3c2f)),'submittedAt':new Date()['toISOString'](),'answers':_0x28534f};_0x10284a[_0x852bd5(0xde9)](_0x3fb2d5);const _0x42f581=_0x52f58c[_0x852bd5(0x34a)]===0x0?_0x58bde0:_0x52f58c[0x0][_0x852bd5(0x5c3)]||0x0,_0x34f46e=Math['max'](..._0x10284a['map'](_0x1e6e28=>_0x1e6e28[_0x852bd5(0x5c3)]));await setDoc(_0x258e55,{'studentName':currentStudentName,'totalQuestions':_0x47281f,'attempts':_0x10284a,'firstScore':_0x42f581,'bestScore':_0x34f46e,'latestScore':_0x58bde0,'points':_0x39aaa2,'latestSubmittedAt':_0x3fb2d5['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x852bd5(0x737)],currentStudentName),handleResultDisplay(_0x31711f,_0x58bde0,_0x39aaa2,_0x1e3c2f,_0x28534f,_0x47281f);}catch(_0x4504fd){console[_0x852bd5(0xada)](_0x852bd5(0x796),_0x4504fd),showMessage(_0x852bd5(0x1f2));}}async function updateStudentProfile(_0x1a9dec,_0x73acc4){const _0x4c71e5=_0x157a22,_0x537184=doc(db,'artifacts/'+appId+_0x4c71e5(0xa18)+_0x1a9dec+_0x4c71e5(0x798),_0x73acc4);try{const _0x5c2cc9=query(collection(db,_0x4c71e5(0x331)+appId+_0x4c71e5(0x78d)),where('projectId','==',_0x1a9dec)),_0x2cebd7=await getDocs(_0x5c2cc9),_0x31b23b=_0x2cebd7['docs'][_0x4c71e5(0x141)](_0x303ef5=>_0x303ef5['id']);let _0x3affac=0x0;const _0xdbf5ea={},_0x23a982=_0x31b23b[_0x4c71e5(0x141)](_0x312008=>getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x312008+_0x4c71e5(0x3d6),_0x73acc4))),_0x57d50e=await Promise[_0x4c71e5(0x3d5)](_0x23a982);_0x57d50e[_0x4c71e5(0x8f9)](_0x2029be=>{const _0x15e6f2=_0x4c71e5;if(_0x2029be[_0x15e6f2(0xc43)]()){const _0x38e219=_0x2029be[_0x15e6f2(0xd60)]();_0x3affac+=_0x38e219[_0x15e6f2(0x7ff)]||0x0,_0x38e219['attempts']&&_0x38e219['attempts'][_0x15e6f2(0x8f9)](_0x26cf48=>{const _0x33b690=_0x15e6f2;_0x26cf48[_0x33b690(0x6d4)]&&_0x26cf48[_0x33b690(0x6d4)][_0x33b690(0x8f9)](_0x57da65=>{});});}}),await setDoc(_0x537184,{'studentName':_0x73acc4,'totalPoints':_0x3affac},{'merge':!![]});}catch(_0x1872dc){console[_0x4c71e5(0xada)](_0x4c71e5(0x20b),_0x1872dc);}}function startAdminTest(){const _0x1f9438=_0x157a22;if(!currentQuizData){showMessage(_0x1f9438(0x8c8));return;}let _0x50f685=JSON['parse'](JSON[_0x1f9438(0x5ad)](currentQuizData));currentMode=_0x1f9438(0xba1),currentStudentName=_0x1f9438(0xb46),adminView[_0x1f9438(0x807)]['add'](_0x1f9438(0x9f0)),studentView[_0x1f9438(0x807)][_0x1f9438(0x90e)](_0x1f9438(0x9f0)),studentInitialView['classList'][_0x1f9438(0xcec)](_0x1f9438(0x9f0)),studentNameSelectionView[_0x1f9438(0x807)]['add'](_0x1f9438(0x9f0)),studentResultArea[_0x1f9438(0x807)][_0x1f9438(0xcec)](_0x1f9438(0x9f0)),studentQuizArea[_0x1f9438(0x807)][_0x1f9438(0x90e)](_0x1f9438(0x9f0)),quizStartTime=new Date(),displayQuizForStudent(_0x50f685);}function handleResultDisplay(_0x26c77b,_0x9d801e,_0x2c50e9,_0x3f2130,_0xedf16c,_0x142d02){const _0xe03663=_0x157a22;if(_0x26c77b===_0xe03663(0xd11)){displaySubmissionConfirmation();return;}const _0x30dd06=currentDisplayedQuiz[_0xe03663(0x640)]?.[_0xe03663(0xd19)]??Math[_0xe03663(0xc3c)](_0x142d02/0x2),_0x26be15=currentDisplayedQuiz[_0xe03663(0x640)]?.[_0xe03663(0x2a9)]??![],_0x5263c9=currentDisplayedQuiz[_0xe03663(0x640)]?.[_0xe03663(0x90d)]===!![],_0x29e531=_0x9d801e<_0x30dd06,_0x49ffdc=_0x26c77b===_0xe03663(0xacd)||_0x26c77b==='perfect_score_status';if(_0x5263c9&&_0x29e531&&!_0x49ffdc){_0x26c77b===_0xe03663(0xc8b)?displayResultsWithAnswers(_0x9d801e,_0x2c50e9,_0x3f2130,_0xedf16c,_0x142d02,!![]):displayLoopScreen(_0x9d801e,_0x142d02,_0x26c77b);return;}if(_0x26be15&&_0x29e531){startAdaptiveFlow(_0xedf16c,_0x9d801e,_0x142d02);return;}switch(_0x26c77b){case _0xe03663(0xc8b):displayResultsWithAnswers(_0x9d801e,_0x2c50e9,_0x3f2130,_0xedf16c,_0x142d02);break;case _0xe03663(0x23e):displayResultsScoreOnly(_0x9d801e,_0x2c50e9,_0x3f2130,_0x142d02);break;case _0xe03663(0x61d):displayPassFailOnly(_0x9d801e,_0x142d02);break;case'half_mark_status':displayHalfMarkResult(_0x9d801e,_0x142d02);break;case _0xe03663(0xe64):displayPerfectScoreResult(_0x9d801e,_0x142d02);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1e10d2){const _0x1e5681=_0x157a22;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x454e38=_0x1e5681(0xbff)+_0x1e10d2+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x59daf0={'type':'OBJECT','properties':{'questionText':{'type':_0x1e5681(0x685)},'options':{'type':_0x1e5681(0x83a),'items':{'type':_0x1e5681(0x685)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x1e5681(0x885),_0x1e5681(0xaee),'correctAnswerIndex',_0x1e5681(0x928)]},_0x24746b={'type':_0x1e5681(0xd8a),'properties':{'topic':{'type':_0x1e5681(0x685)},'questions':{'type':_0x1e5681(0x83a),'items':_0x59daf0}},'required':['topic',_0x1e5681(0xdbf)]};try{const _0x1c617f=await callAnalysisApi(_0x454e38,_0x24746b);_0x1c617f[_0x1e5681(0x7ca)]=!![],studentReadingArea[_0x1e5681(0x807)]['add'](_0x1e5681(0x9f0));const _0x11e6fc={...currentDisplayedQuiz[_0x1e5681(0x640)],'isAdaptive':![],'resultsDisplay':_0x1e5681(0xc8b)};_0x1c617f['settings']=_0x11e6fc,displayQuizForStudent(_0x1c617f);}catch(_0x1ff769){console[_0x1e5681(0xada)]('Remedial\x20quiz\x20generation\x20failed:',_0x1ff769),showMessage(_0x1e5681(0x7e9)),showView(_0x1e5681(0x213));}}function displayPassFailOnly(_0x549da7,_0x4590e7){const _0x4edf6d=_0x157a22,_0x5764d0=currentDisplayedQuiz['settings']?.[_0x4edf6d(0xd19)]??-0x1,_0x33b7ca=currentDisplayedQuiz[_0x4edf6d(0x7ca)]===!![];let _0x9762da='',_0x2c4f7e=![];if(_0x33b7ca||_0x5764d0!==-0x1){_0x2c4f7e=_0x33b7ca?_0x549da7===_0x4590e7:_0x549da7>=_0x5764d0;const _0x3722ec=_0x2c4f7e?_0x4edf6d(0xbc6):_0x4edf6d(0xcad),_0x25cf1e=_0x2c4f7e?_0x4edf6d(0xb8d):_0x4edf6d(0x87d);_0x9762da='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x3722ec+'\x22>'+_0x25cf1e+'</span></div>';}else _0x9762da='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x569c05='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x4edf6d(0x6aa)+_0x9762da+_0x4edf6d(0x616);studentResultArea['innerHTML']=_0x569c05,studentResultArea[_0x4edf6d(0x807)][_0x4edf6d(0x90e)](_0x4edf6d(0x9f0)),studentQuizArea['classList'][_0x4edf6d(0xcec)](_0x4edf6d(0x9f0)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2c4f7e});}function cancelAdminTest(){const _0x40a269=_0x157a22;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x40a269(0x2ab),handleFullscreenChange),document[_0x40a269(0xb65)](_0x40a269(0xd4b),handleVisibilityChange),currentMode=_0x40a269(0x140),studentView[_0x40a269(0x807)]['add'](_0x40a269(0x9f0)),adminView[_0x40a269(0x807)]['remove'](_0x40a269(0x9f0)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x40a269(0xd48));}function setupResultScreenBackButton(_0x330fdb){const _0x357d12=_0x157a22,_0x36f543={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x330fdb};if(_0x36f543[_0x357d12(0x285)]){const _0x3dd2f0=_0x357d12(0x33b);studentResultArea[_0x357d12(0x97f)]('beforeend',_0x3dd2f0),document[_0x357d12(0xccc)](_0x357d12(0x48b))[_0x357d12(0x7d6)](_0x357d12(0x343),()=>{const _0x802aa6=_0x357d12;studentResultArea[_0x802aa6(0x807)][_0x802aa6(0xcec)](_0x802aa6(0x9f0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x40463d='back-from-results-btn',_0x41e46b=currentMode===_0x357d12(0xba1),_0x26750d=_0x41e46b?_0x357d12(0xd9f):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x20ca57='';_0x36f543[_0x357d12(0x1cd)]&&(_0x20ca57+=_0x357d12(0x825));let _0x3435a4=_0x36f543[_0x357d12(0x182)];_0x3435a4===undefined&&(_0x3435a4=_0x36f543[_0x357d12(0x5c3)]<_0x36f543[_0x357d12(0xff)]);_0x3435a4&&(_0x20ca57+=_0x357d12(0x44f));_0x20ca57+=_0x357d12(0xd68)+_0x40463d+_0x357d12(0x459)+_0x26750d+_0x357d12(0x581);const _0x515c4b=_0x357d12(0xc09)+_0x20ca57+_0x357d12(0x6ae);studentResultArea[_0x357d12(0x97f)]('beforeend',_0x515c4b),studentResultArea[_0x357d12(0xdd0)](_0x357d12(0x5da))?.[_0x357d12(0x7d6)](_0x357d12(0x343),handleShowStudentRankings);const _0x3f7439=studentResultArea['querySelector'](_0x357d12(0x785));_0x3f7439&&_0x3f7439[_0x357d12(0x7d6)](_0x357d12(0x343),()=>{const _0x45edbf=_0x357d12;studentResultArea[_0x45edbf(0x807)]['add'](_0x45edbf(0x9f0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x357d12(0xccc)](_0x40463d)['addEventListener'](_0x357d12(0x343),()=>{const _0x28076c=_0x357d12;_0x41e46b?(currentMode='admin',studentView[_0x28076c(0x807)][_0x28076c(0xcec)](_0x28076c(0x9f0)),adminView[_0x28076c(0x807)][_0x28076c(0x90e)](_0x28076c(0x9f0)),showView('project-detail')):(showView('student'),document[_0x28076c(0xccc)](_0x28076c(0x428))[_0x28076c(0xa9f)]='');});}function displayResultsWithAnswers(_0x136baf,_0x2e5825,_0x4f5ce1,_0x5db03a,_0x4f08a1,_0x3457ad=![]){const _0x724471=_0x157a22,_0x280a6a=_0x4f08a1>0x0?_0x136baf/_0x4f08a1*0x64:0x0,_0x27b1e3=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x16b484=currentDisplayedQuiz[_0x724471(0x7ca)]===!![];let _0x4fc119='';if(_0x16b484||_0x27b1e3!==-0x1){let _0x387887=_0x16b484?_0x136baf===_0x4f08a1:_0x136baf>=_0x27b1e3;const _0x419026=_0x387887?_0x724471(0xbc6):_0x724471(0xcad),_0xd279f9=_0x387887?_0x724471(0xb8d):_0x724471(0x87d);_0x4fc119=_0x724471(0x10b)+_0x419026+'\x22>'+_0xd279f9+_0x724471(0x723);}let _0x568768=_0x724471(0x6a3)+currentStudentName+_0x724471(0xcf2)+_0x136baf+_0x724471(0x442)+_0x4f08a1+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fc119+_0x724471(0x2f1)+_0x2e5825+_0x724471(0x214)+_0x280a6a[_0x724471(0xd2d)](0x0)+_0x724471(0x756);currentDisplayedQuiz[_0x724471(0xdbf)]['forEach']((_0x350a7b,_0x726097)=>{const _0x1b4b71=_0x724471,_0x2aba5b=_0x5db03a[_0x726097],_0x2e59fa=_0x2aba5b[_0x1b4b71(0x649)],_0x412add=_0x2aba5b[_0x1b4b71(0xa04)],_0x437147=_0x350a7b[_0x1b4b71(0x36c)]||currentDisplayedQuiz[_0x1b4b71(0x7fc)];_0x568768+=_0x1b4b71(0x146)+(_0x412add?'border-green-300\x20bg-green-50':_0x1b4b71(0x707))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x726097+0x1)+'.\x20'+(_0x350a7b['stem']||_0x350a7b[_0x1b4b71(0x885)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x437147){case _0x1b4b71(0x283):const _0x417a41=_0x2e59fa||_0x1b4b71(0x856),_0x1eec7d=_0x350a7b[_0x1b4b71(0xb75)];_0x568768+=_0x1b4b71(0x395)+(!_0x412add?_0x1b4b71(0xbf8):'')+'\x22>'+_0x417a41+'</span></p>';!_0x412add&&(_0x568768+=_0x1b4b71(0xdec)+_0x1eec7d+'</p>');break;case _0x1b4b71(0xdf0):case _0x1b4b71(0xb27):_0x568768+=_0x1b4b71(0x900)+(_0x2e59fa||_0x1b4b71(0x856))+_0x1b4b71(0x723),_0x568768+=_0x1b4b71(0xa99)+_0x350a7b[_0x1b4b71(0x314)]+_0x1b4b71(0x723);break;case'true_false':_0x568768+='<p\x20class=\x22'+(_0x350a7b['correctAnswer']===!![]?_0x1b4b71(0xe0a):'')+'\x20'+(_0x2e59fa==='true'&&!_0x412add?_0x1b4b71(0xbf8):'')+'\x22>ใช่</p>',_0x568768+=_0x1b4b71(0xaf0)+(_0x350a7b[_0x1b4b71(0xcab)]===![]?_0x1b4b71(0xe0a):'')+'\x20'+(_0x2e59fa===_0x1b4b71(0xb54)&&!_0x412add?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;case _0x1b4b71(0x75f):case _0x1b4b71(0x5b0):default:if(_0x350a7b['options']&&Array['isArray'](_0x350a7b[_0x1b4b71(0xaee)]))_0x568768+=_0x350a7b[_0x1b4b71(0xaee)][_0x1b4b71(0x141)]((_0x490418,_0x48d520)=>{const _0x5522b3=_0x1b4b71;let _0x10e149='',_0x302cff='';if(_0x48d520===_0x350a7b[_0x5522b3(0x2bd)])_0x10e149=_0x5522b3(0xe0a),_0x302cff=_0x5522b3(0xe55);else _0x48d520===_0x2e59fa&&(_0x10e149=_0x5522b3(0xe4b),_0x302cff=_0x5522b3(0xc35));return _0x5522b3(0xe66)+_0x10e149+'\x22>'+_0x302cff+_0x490418+_0x5522b3(0x6ae);})['join']('');else{_0x568768+=_0x1b4b71(0x900)+(_0x2e59fa||_0x1b4b71(0x856))+_0x1b4b71(0x723);if(!_0x412add)_0x568768+='<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>';}break;}_0x568768+=_0x1b4b71(0x6c9)+(_0x350a7b['explanation']||_0x1b4b71(0x660))+_0x1b4b71(0x6ae);if(!_0x412add){const _0x5eb7e3=_0x350a7b['stem']||_0x350a7b[_0x1b4b71(0x885)];_0x568768+=_0x1b4b71(0x9b6)+escape(_0x5eb7e3)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x568768+=_0x1b4b71(0x6ae);}),studentResultArea[_0x724471(0x93e)]=_0x568768,renderEarnedBadges(_0x4f5ce1,_0x724471(0x35b)),studentResultArea[_0x724471(0x807)][_0x724471(0x90e)](_0x724471(0x9f0)),studentQuizArea[_0x724471(0x807)][_0x724471(0xcec)](_0x724471(0x9f0)),setupResultScreenBackButton({'isLooping':_0x3457ad,'score':_0x136baf,'totalQuestions':_0x4f08a1,'showRankings':!![]});if(window[_0x724471(0x5e4)])window[_0x724471(0x5e4)][_0x724471(0xd06)]([studentResultArea]);}function displayResultsScoreOnly(_0x562107,_0x54b6ad,_0x261d34,_0x13e42d){const _0x1ac217=_0x157a22,_0x399fea=_0x13e42d>0x0?_0x562107/_0x13e42d*0x64:0x0,_0x38d2d8=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0xdcd9a=currentDisplayedQuiz['isRemedial']===!![];let _0x2f0b3b='';if(_0xdcd9a||_0x38d2d8!==-0x1){let _0x36ea92=_0xdcd9a?_0x562107===_0x13e42d:_0x562107>=_0x38d2d8;const _0x154435=_0x36ea92?_0x1ac217(0xbc6):_0x1ac217(0xcad),_0x11a55e=_0x36ea92?_0x1ac217(0xb8d):'ไม่ผ่าน';_0x2f0b3b=_0x1ac217(0x10b)+_0x154435+'\x22>'+_0x11a55e+_0x1ac217(0x723);}let _0x34c66c=_0x1ac217(0xdda)+currentStudentName+_0x1ac217(0x3e8)+_0x562107+_0x1ac217(0xb19)+_0x13e42d+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f0b3b+_0x1ac217(0x2f1)+_0x54b6ad+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x399fea[_0x1ac217(0xd2d)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1ac217(0x93e)]=_0x34c66c,renderEarnedBadges(_0x261d34,_0x1ac217(0x35b)),studentResultArea[_0x1ac217(0x807)][_0x1ac217(0x90e)]('hidden'),studentQuizArea[_0x1ac217(0x807)][_0x1ac217(0xcec)](_0x1ac217(0x9f0)),setupResultScreenBackButton({'score':_0x562107,'totalQuestions':_0x13e42d,'showRankings':!![]});}function _0x3eae(){const _0x1d1c6c=['join-live-game-btn','...','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','message-modal','data','ตรวจพบการออกจากหน้าจอครบ\x20','ไฟล์ลัด\x201','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ',')\x22><span\x20style=\x22','quiz-leaderboard-table-container','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','<button\x20id=\x22','input[name=\x22syncVariant\x22][value=\x22','สร้างคำถามแบบใช่/ไม่ใช่','[data-topic-id=\x22','(ฉบับง่าย)\x20','ความน่าจะเป็นแบบมีเงื่อนไข','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','ไม่พบข้อมูลการจับคู่','questionStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x20สำเร็จ','text-gray-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','สลับไปโหมดผู้ควบคุม','[data-topic-id]','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','next-sync-question-btn','cancel-blueprint-projects-btn','include-images-checkbox','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','pdf','mousedown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-400\x20hover:text-indigo-600','export-lesson-to-pdf-btn','โหลดนาน','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','ก่อนเรียน','originalTopic','OBJECT','ไอติมทอด','เส้นจำนวน','\x20mb-2\x22>','สรุปอันดับ','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22><div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div></div>','export-pdf-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','AI\x20กำลังสแกนข้อความ...','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','hover:bg-indigo-100','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','webkitExitFullscreen','</span></div>','พอใช้','link-tab','http://www.w3.org/2000/svg','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','powerups.','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','applicationContent','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','getContext','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>','cutOne','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x22>','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','confirm-move-quiz-btn','Blueprint\x201','.subTopic','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','กำลังเตรียมไฟล์อ้างอิง...','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-manager-view','\x22\x20data-index=\x22','bulk-quiz-settings-modal','responder-selection-overlay','globalAlpha','.save-custom-topic-btn','.pen-color-btn','<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','bank-tab','.pair-quiz-btn','fa-fire\x20text-orange-500','generate-from-file-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerText','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','global-activity-quiz-list','choices_only','Error\x20saving\x20reference\x20URL:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','หมูกระทะจะเยียวยาทุกสิ่ง','touchcancel','ไม่พบแบบทดสอบในระบบเลย','next-drill-btn','topic_','confirm-rename-quiz-btn','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','lineWidth','เสือซ่อนเล็บ','quiz','querySelector','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','Error\x20unpairing\x20quizzes:','มี\x20Points\x20ไม่เพียงพอ','project-passcode-input','Error\x20unlinking\x20quiz:','คู่จิ้น','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบข้อสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x22\x20x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','blueprintShortcuts','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x20แล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference_onet.pdf','เซียนสมองไว','#results-table\x20thead\x20tr','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','ศิลปิน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','push','getBBox','project-search-input','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','players','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','toDataURL','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','text-indigo-600','passcode','#E0E7FF','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint-topics-list-container','black-market-modal','100px','วงกลม:\x20สมการและสมบัติ','sync-matching-input','classic','lesson-plan-content','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20data-pre-test-id=\x22','scale','backspace','font-bold\x20text-green-700','fa-dumbbell\x20text-gray-700','Error\x20starting\x20group\x20quiz:','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','scratchpad-header','flex','print','pin','<div\x20class=\x22space-y-2\x22>','answer-grid-container','สมการเหตุผล\x20(rational)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','_opt0\x22>ใช่</label></div>','dragstart','input[name=\x22status-option\x22]:checked','modified','results-quiz-id-display','math-topics-checkbox-container','0\x20(รอโบนัส)','view-my-progress-btn','ครูใหญ่','เกิดข้อผิดพลาดในการลบนักเรียน','confidence-mode-select','timer-duration-input','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','quiz-editor-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','P/อัน)','Enter','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','AudioContext','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','bg-black/10','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','beforeend','.bp-live-btn','analyze-strengths-btn','ตะวันฉาย','disabled\x20bg-gray-400\x20cursor-not-allowed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','topic','passing-score-input','font-bold','bulk-delete-submissions-btn','นำแบบทดสอบออกจากคลังนี้แล้ว','Error\x20joining\x20sync\x20game:','bp-quiz-settings-btn','</h4>','กำลังสร้างรูปภาพ...','eraser','fiftyFifty','Error\x20saving\x20shortcut:','back-to-home-manual-release','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','/public/data/quizzes/','เต่าสายฟ้า','Error\x20saving\x20visibility\x20settings:','font-bold\x20text-red-700\x20line-through','pointsLastRound','.move-shortcut-item','lastAnswerCorrect','presentation-modal','export-leaderboard-word-btn','closePath','save-bp-reference-btn','bg-red-700\x20text-white\x20font-bold','</th>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','Error\x20comparing\x20results:','pow','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x20สำเร็จ!','presentation-short-answer-input','[id^=\x22dropdown-list-\x22]','ความแปรปรวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','perfect_score_status','currentMode','<div\x20class=\x22','.pointsLastQuestion','student-quiz-leaderboard-table-body','modal-loop-until-pass-checkbox','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','canvas','<span\x20title=\x22ใช้\x20','save-blueprint-as-project-btn','lesson-view-modal','ondragover','#000000','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','use-powerup-wagerMultiplier','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','Error\x20during\x20deep\x20delete:','\x20รายการสำเร็จ!','input-slow-count','buyTime','bg-yellow-50','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short','<input\x20type=\x22checkbox\x22\x20class=\x22submission-checkbox\x20h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x20cursor-pointer\x22\x20value=\x22','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','ไม่มีผู้ตอบตัวเลือกนี้','text-emerald-800','เกิดข้อผิดพลาดในการลบหัวข้อ','instructions','shortcut-name-input','\x22\x20id=\x22input-','displayRank','generationConfig','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','#student-quiz-leaderboard-content\x20thead','setAttribute','parallel-shortcut-tabs-nav','/users/','pointerType','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','รอ...','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','sync-timer-bar','project-title','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','การคูณเศษส่วน','.move-parallel-shortcut-dropdown','teachingContent','cropper-modal','bulk-confidence-mode-select','quiz-type-select','กราฟฟังก์ชันตรีโกณ','.tab-name-input','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ข้อที่\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','wagerMultiplier','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#e21b3c','เกิดข้อผิดพลาดในการซื้อ','ค่าเฉลี่ย','text/plain','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','topicName','isPinned','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','left','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','isPasscodeEnabled','loader','referenceUrl','instantWager','candidates','confirm-team-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ceil','ท้องฟ้า','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','.shortcut-list-item:not(.opacity-50)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22><i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','Error\x20listening\x20for\x20starred\x20quizzes:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','ไม่พบโปรเจค','quiz-form','สอบซ่อม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','https://drive.google.com/uc?export=download&id=','.topic-actions-view','ค่าสัมบูรณ์','parentNode','top','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ความเป็นอิสระของเหตุการณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.group\x5c/dropdown','</span>\x20วินาที</p></div>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','/lessons','totalQuestions','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','cloneNode','Error\x20generating\x20parallel\x20post-test:','bulk-shuffle-select','boolean','คาถาแยกเงาพันร่าง','บันทึกการตั้งค่าแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','สมการราก\x20(radical)','nickname-input','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','bp-modal-shuffle-setting-select','dispatchEvent','results-table-container','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','</strong></p>','anonymous','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','category','.live-answer-btn,\x20#sync-submit-btn','หนอนหนังสือ','เปิดใช้งาน','.doc','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','%PDF','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','ทะเล','ไม่พบข้อมูลแบบทดสอบ','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-gray-200','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','⏳\x20ซื้อเวลา','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','กรุณาตั้งชื่อแท็บใหม่:','Error\x20generating\x20from\x20parallel\x20test\x20file:','Export\x20Image\x20Error:','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-red-200\x20text-red-800','scrollHeight','\x5csqrt{$1}','active','นอนไม่พอ','application/pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ที่พิมพ์ได้\x20จำนวน\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','anon-settings-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','default-2','reference.txt','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','modal-close-btn','admin','map','<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x','blueprint-topics-list','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','(รอคะแนน)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','bank-quiz-list','msExitFullscreen','bg-gray-400','manual-bp-grade-level','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','Error\x20processing\x20parallel\x20shortcut\x20click:','fa-crown\x20text-yellow-500','เกิดข้อผิดพลาด:\x20','ชื่อโปรเจคห้ามว่าง','upperGroupResponders','N/A','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','then','game-start-mode','(ไม่ตอบ)','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','ปรับเพิ่ม/ลดเป็นร้อยละ','width\x2060s\x20linear','/public/data/blueprintProjects','text-emerald-900','num-choices-container','Test\x20Blueprint','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน่วยความยาวและการแปลง','results-tab-content','shortcutOrder','student-quiz-leaderboard-tab','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','input[name=\x22syncVariant\x22]:checked','quiz-bank-count','ธอร์ค้อนบิน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','Error\x20adding\x20students:','qType','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','dropdown-list-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','checked','doughnut','student-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','global-activity-modal','Error\x20saving\x20quiz\x20edits:','ไม่มี','กรุณาเลือกสถานะ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','endTime','<textarea\x20name=\x22question','answer-counter','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','showImproveButton','splice','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','generate-from-blueprint-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','ไฟล์ทั้งหมด','translate','ปุ่มลัดทั้งหมด','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','.bp-create-content-quiz-btn','เพิ่มหัวข้อ\x20\x22','ส่งแล้ว','stopPropagation','generated-quiz-actions','name','<option\x20value=\x22\x22>กำลังโหลด...</option>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','.quiz-bank-parallel-btn','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','reference-pdf-upload','\x20คะแนน','slow-responder-container','border-indigo-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','default','description','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','document','sync-dropdown-list','confirm-confident','score-distribution-chart','ความคาดหมาย\x20(Expected\x20value)','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','manual-create-blueprint-btn','input[name=\x22team_player\x22]','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','ลบโปรเจค\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนข้อ:','ชีสเค้ก','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x20เป็น\x20','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','ดูผลสรุปสุดท้าย','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','black-market-settings-container','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','check-answer-btn','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-topics-count','Error\x20calculating\x20final\x20scores\x20with\x20pot:','change','.project-card-container','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','file-shortcut-editor-modal','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<div\x20class=\x22my-2\x22>','.quiz-bank-settings-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','finished','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','subTopic','getItem','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div><p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','ดาวTikTok','\x20|\x20ID:\x20','showRankings','text-gray-200','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x5cpm','application','Error\x20resetting\x20project\x20order:','list','shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','[data-topic-container-id]','Error\x20adding\x20custom\x20topic:','ทฤษฎีบทพีทาโกรัสและการประยุกต์','input[type=\x22text\x22]','เลือกและเริ่มสร้าง','มัธยฐาน','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','use-powerup-fiftyFifty','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','abs','#FFFFFF','strategyScan','finishReason','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','สร้างคำถามแบบเติมคำในช่องว่าง','(ไม่มีชื่อ)','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','bg-gray-100\x20opacity-70','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','generate-from-link-btn','file-default-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','.answeredCurrentQuestion','สรุปผลการวิเคราะห์:\x5cn','Error\x20saving\x20project\x20order:','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','newCorrectIndex','lesson-view-content','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','ondragend','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','text-green-700\x20bg-green-100','quiz-start-time','difficulty-level-select','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ความคล้ายของรูป','applicationData','confirm-crop-btn','memoryContent','1373512AGTLxw','Profile\x20recalculation\x20error:','createdAt','คนคุย','fontSize','msRequestFullscreen','ปลาทูคะนอง','touchstart','screen_exit','student','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','desc','.move-shortcut-menu-btn','ดอกเบี้ยอย่างง่าย','</form>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sync-timer-enable-checkbox','input[type=\x22checkbox\x22]','👁️','/public/data/projects','mainTopics','modal-confidence-scoring-checkbox','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','get','outerHTML','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','powerupUsed_q','times','อัปเดตพฤติกรรมสำหรับ\x20','textarea[name=\x22team_answer\x22]','ลบหัวข้อสำเร็จ','confidence-scoring-toggle','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','helvetica','.delete-file-shortcut-tab-btn','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ผู้พิชิตดาว','bg-[#EF4444]\x20text-white\x20font-bold','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','mean','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','submit-team-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bg-green-500','ไม่สามารถบันทึกการตั้งค่าได้','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','831114GZcXXL','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','.edit-hidden-parallel-shortcut-btn','show_results_only','#scores-tab-content\x20.mb-4.flex','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','bp-modal-quiz-type-select','AI\x20grading\x20failed:','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','เปลี่ยนชื่อโปรเจคสำเร็จ','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p></div>','results-display-select','การแยกตัวประกอบ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','ตอบถูก\x203\x20ข้อติดต่อกัน','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x20sync-custom-dropdown\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22sync-matching-input\x22\x20value=\x22\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.toggleSyncDropdown()\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22sync-dropdown-display\x22\x20class=\x22text-gray-400\x20text-lg\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-dropdown-list\x22\x20class=\x22hidden\x20absolute\x20top-20\x20w-full\x20max-w-lg\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(คัดลอก)\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','lower_group_count','createElementNS','shortcut-editor-modal','/public/data/blueprintProjects/','<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','check-presentation-answer-btn','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','dataIndex','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grabbing','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-results-btn','เกมเมอร์','message','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','separate-by-content-from-file-checkbox','ไม่พบตารางสำหรับ\x20Export','powerup','onerror','teacherTips','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','(หลังเรียน)\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','เส้นตรง:\x20ขนาน/ตั้งฉาก','drop','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i><span>เวลาโบนัสทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p></div>','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','keyConcepts','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.parallel-shortcut-tab-btn','</span>','ไก่ฟ้าพญาลอ','close-additional-parallel-shortcuts-btn','no-projects-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','update-old-quizzes-btn','hint','matching_item','projectName','isLooping','poll','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','ต้นฉบับ\x201','><span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span></button>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','pinned-items','suggestedAnswer','pointContent','num-questions','.bp-generate-lesson-btn','#26890c','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group\x5c/dropdown-parallel','close-presentation-btn','scores','\x20รายการเรียบร้อยแล้ว','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','confirm-game-start-btn','#D1FAE5','ไม่ใช่\x20/\x20ผิด','\x22\x20style=\x22','confidenceMode',')\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ไม่สามารถโหลดข้อมูลอันดับได้','Error\x20analyzing\x20file\x20for\x20topics:','sqrt','/public/data/teamQuizzes','showSlowResponders','text-gray-300\x20hover:text-white','mode','isAdaptive','move','fullscreenchange','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','itemId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','download','คำถาม...','ไม่พบข้อมูลเกม','พิซซ่าหน้าทุเรียน','parallel-default-2','latestSubmittedAt','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','progress-student-select','Error\x20fetching\x20projects\x20for\x20move:','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-modal-title','คะแนนยังไม่ถึงครึ่ง','correctAnswerIndex','แผนการสอน:\x20','additional-file-shortcuts-modal','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','Failed\x20to\x20auto-link\x20quiz:','#6366F1','โดเมนและเรนจ์','file-topic-input','allResponses','rgba(239,\x2068,\x2068,\x200.9)','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','additional-parallel-shortcuts-modal','fontWeight','comparison','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','from','matching','latestScore','isFinished','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20p','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x22\x20class=\x22w-12\x20p-0.5\x20text-black\x20text-center\x20rounded\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-manage-btn\x22\x20class=\x22text-gray-400\x20hover:text-white\x20px-2\x22><i\x20class=\x22fas\x20fa-chevron-up\x22></i>\x20ซ่อน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-start\x20gap-2\x20max-h-32\x20overflow-y-auto\x20custom-scrollbar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการใช้ตัวช่วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x20drop-shadow-md\x22>ตาของ:\x20','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','_new','responses','parts','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','ระยะทางและจุดกึ่งกลาง','perseverance','Error\x20displaying\x20blueprint\x20project:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','transition','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','added','comparison-chart','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','results_','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','save-project-name-btn','code','localeCompare','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','Error\x20joining\x20activity:','ฟังก์ชันลอการิทึม','ความชันและเส้นตรง','<option>กำลังโหลดโปรเจค...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20class=\x22color-palette-btn\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','toISOString','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','เกิดข้อผิดพลาดในการแก้ไข','กองดอง','live-short-answer-input','.group','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','blueprint-tab','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','</div></div>','\x5cneq','.custom-math-dropdown','right','confirm-passcode-btn','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','/public/data/syncGames/','.bp-create-topic-quiz-btn','Error\x20listening\x20for\x20projects:','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','นักดนตรี','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','teacherSuggestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','แบตหมด','idealAnswer','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการบันทึกโปรเจค','อัศวินรัตติกาล','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','sync-player-management','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','parallel-shortcut_','input[name=\x22syncVariant\x22]','th-TH','overallGroups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','3hCMrtA','date_asc','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','blueprint-shortcut-container','.verification-result','หน่วยมวล/น้ำหนักและการแปลง','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','bulk-confidence-mode-container','อสมการค่าสัมบูรณ์','</span><button\x20data-player-name=\x22','แปลงร่าง','artifacts/','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','ซื้อ\x20\x22','/public/data/syncGames','temp-loader-results','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','now','อัตราส่วนและสัดส่วน','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','cancel-team-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-content','<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>','modal-timer-mode-select','ไม่ใช่','click','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','0\x200','text-green-600','.toggle-actions-btn','เหมียวขี้เซา','.quiz-bank-item','length','ความต่อเนื่อง','commit','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','not_confident','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','originalQuestionText','cancel-quiz-edits-btn','viewBox','classWeaknesses','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','text-gray-100','ตัวเลือก\x20ข','earned-badges-container','\x22\x20name=\x22confidence','whole_quiz','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','price','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','asc','ai-quiz-app-aefee.firebaseapp.com','transform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22switch-responder-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20text-sm\x20font-semibold\x20px-3\x20py-2\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20transition-all\x20border\x20border-white/30\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x22></i>\x20เปลี่ยน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','transition-all','ยูทูปเบอร์ฝึกหัด','questionType','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','date_desc','summaryContent','.delete-hidden-parallel-shortcut-btn','passcode-input-container','onSecondChance','random','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','Error\x20submitting\x20team\x20answer:','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','val','.color-palette-btn','timerDuration','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','ยกเลิกการจับคู่สำเร็จ','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20kick\x20player\x20','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','Error\x20linking\x20quizzes:','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','parallel-test-upload-input','.live-answer-btn','.sort-indicator','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','bg-green-400\x20text-white\x20font-bold','loader-text','suspended','pollUsedThisTurn','close-market-btn','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','wager-all-in-btn','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','ซามูไรสายเดี่ยว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','bg-green-200','on_fire','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-900/50\x20px-4\x20py-1.5\x20rounded-full\x20border\x20border-indigo-400/30\x20backdrop-blur-sm\x20shadow-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20font-bold\x20text-white\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อที่\x20<span\x20class=\x22text-yellow-300\x22>','close-manage-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','start','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','topicId','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์อ้างอิง...','1664298YGSJdc','raw','lineJoin','ร้อยละพื้นฐาน','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','bp-reference-file-url','.ideal-answer-input','createObjectURL','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','math-topic-search-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','จำนวนเชิงซ้อน\x20(เสริม)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','slowResponderCount','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','projectSortOrder','เน็ตช้า','export-word-btn','การคูณ','timer-mode-select','Error\x20updating\x20project\x20name:','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','padStart','.topic-name-display','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','.delete-question-editor-btn','thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','833210IUAPty','ค่าเสื่อมราคา','export-pdf-modal','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','BOOLEAN','spinner','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','preTScore','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','text-indigo-800','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','text-red-500\x20hover:text-red-700','all','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','bulk-loop-until-pass-checkbox','textarea','API\x20Error\x20Body:','Error\x20toggling\x20pin\x20status:','readAsArrayBuffer','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mb-8\x20drop-shadow-md\x22>ใครพร้อมตอบ?</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mandatory','...\x22)?','</body></html>','student-rankings-modal','manual-blueprint-modal','parallel-shortcut-name-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','confirm-bulk-quiz-settings-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','text-blue-800','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','blueprint-projects-modal','text-red-600','/3</span></div>','neq','schedule','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-tab-btn','hidden\x20bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20flex\x20items-center\x20gap-2\x20ml-auto\x20transition-all','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','position','AI\x20request\x20was\x20blocked.\x20Reason:\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','.project-card-container.opacity-50','save-parallel-shortcut-btn','MathJax\x20re-render\x20failed:','num-choices','กำลังโหลดคลังข้อสอบทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','webkitAudioContext','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','</strong></div>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','leaderboard-table-body','อัปเดตการตั้งค่าของแบบทดสอบ\x20','specialist','รายการนี้','key','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','bg-gray-600','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','players.','Error\x20clearing\x20all\x20links:','show-leaderboard-btn','สมการเชิงเส้นตัวแปรเดียว','manual-bp-content','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อใหม่','\x22\x20title=\x22','scheduled','\x22\x20name=\x22question_single\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','buy-time-quantity-input','bg-indigo-600\x20hover:bg-indigo-700','</h3>','ผ่านฉลุย','rgba(255,\x20255,\x200,\x200.5)','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','incorrect','back-to-student-initial-btn','quiz-id-input','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-bp-project-name','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behaviorLog','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-upload-input','ดอทโปรดักต์\x20(dot)','close','แคลคูลัสเบื้องต้น','fontFamily','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','สายหมอก','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','toString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','closest','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','catch','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','cancel-crop-btn','\x20|\x20','<li>','newOptionsPayload','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','confidence-modal','button[type=\x22submit\x22]','ตัวเลือก\x20ก','เศรษฐีดูไบ','Error\x20submitting\x20group\x20answer:','scrollY','Error\x20saving\x20quiz:','%</span>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x20mr-2\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scoresCalculated','Error\x20updating\x20quiz\x20settings:','(ก่อนเรียน)','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อินฟลูเอนเซอร์','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','\x5ccdot','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','default-1','-options','เพิ่ม\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','DOMContentLoaded','blueprint-project-list','.score','\x22\x20ออกจากคลังนี้?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','นักประดิษฐ์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.ai-content\x20blockquote','student-list','กาแฟขม','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','worksheet-tab','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','comparison-overall-tab','.pdf','element','bottom','export-excel-btn','cos','pointsAwarded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','linearRampToValueAtTime','Failed\x20to\x20end\x20group\x20mode\x20game:','ดวงดาว','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','wager-slider','index','save-game-results-checkbox','Failed\x20to\x20refund\x20powerup:','delete-all-students-btn','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','sara','สร้างแบบทดสอบปรนัย','สอบปกติ','fixedData','\x20กลุ่ม</p></div>','SAFETY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','bp-modal-num-questions','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.move-file-shortcut-item','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','retake-quiz-loop-btn','.quiz-bank-present-btn','mixed','find','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','text-content-input','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','Error\x20loading\x20user\x20preferences:','includeImages','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','บทเรียนเรื่อง:\x20','Error\x20clearing\x20linked\x20quiz:','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','<div\x20class=\x22p-2\x20rounded-md\x20','save-settings-btn','ไม่ระบุ','หัวข้อที่สร้างเอง','\x5ctext','wager-modal','selectMathOption','จิงโจ้สโลว์ไลฟ์','.live-summary-tooltip.visible','submission','cancel-bulk-quiz-settings-btn','groups.','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','dfrac','bp-modal-question-complexity-select','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','file-shortcut_','ไม่พบข้อมูลข้อสอบหลังเรียน','.flex.justify-between.items-center','อสมการเชิงเส้น','ย้ายแบบทดสอบไปโปรเจคอื่น','generated-quiz-container','.ai-content\x20td','sort','บักแตงโม','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.remove-parallel-shortcut-from-tab-btn','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','add-shortcut-btn','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','draggable-text','confirmation-message','reference.pdf','<option\x20value=\x22','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','question','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้?','answeredCurrentQuestion','แอบชอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','password-error-msg','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','อนุพันธ์:\x20กฎพื้นฐาน','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','exponentialRampToValueAtTime','กรุณาใส่ชื่อนักเรียน','start-game-btn','ฟังก์ชันราก\x20(root)','fa-pen','both','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','blur','Error\x20deleting\x20student:','.bp-view-analysis-btn','bg-green-100\x20font-bold','bestScore','.topic-selection-btn','ระยะเวลา\x20(วินาที):','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','publicLeaderboard','bg-blue-100\x20text-blue-800','competition','decode','เตรียมพบกับผลสรุปสุดท้าย','placeholder','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','quiz-editor-questions-container','cancel-admin-login-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','qIndex','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','badgesToAdd','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','resultsSaved','fixed','label','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','สำหรับหัวข้อ\x20\x27','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22><i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i><p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p></div>','AI\x20did\x20not\x20return\x20any\x20content.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','text-red-900','\x20(\x22','Error\x20processing\x20shortcut\x20click:','quiz-leaderboard-table','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','substring','icon','numQuestions','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x20link(s)\x20for\x20quiz\x20ID:\x20','width','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','starred','สร้างแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','list-view-btn','thead\x20.sortable-header','กำลังอ่านไฟล์\x20Test\x20Blueprint...','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','duration-300','referenceFileUrl','filter','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','practice-topic-btn','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','</p><div>','lowerGroupResponders','.shortcut-btn','<h1></h1>','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','pinnedProjects','.txt','hasOwnProperty','shuffle-setting-select','additional-shortcuts-modal','สมมาตร\x20(แกน/จุด)','คนดีศรีสยาม','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','selected-text-','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x20mr-2\x22></i>','replaceChild','tool','correct','redo-btn','pointerup','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ก้อนเมฆ','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answers','confirm-game-start-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','contentEditable','.edit-custom-topic-btn','.highlighter-color-btn','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','/public/data/practiceBank','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากคนตอบผิด\x22>+','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','คำถามดิบ:\x20\x22','พีชคณิตและฟังก์ชัน','bp-modal-include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectSyncOption(this.getAttribute(\x27data-value\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeItem','bank-quiz-search-input','.draggable-text','.edit-points-btn','select','enable-passcode-checkbox','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','preventDefault','การประยุกต์เวกเตอร์พื้นฐาน','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','สมการค่าสัมบูรณ์','https://corsproxy.io/?','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สรุปคะแนนของคุณ','ฟังก์ชันค่าสัมบูรณ์','submit-group-answer-btn','🔁\x20โอกาสครั้งที่สอง','focus','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','🎓\x20','Error\x20fetching\x20lesson\x20content:','correctStreak','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','.admin-try-quiz-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','นักเดินทาง','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','powerupUsed','คะแนนเฉลี่ย','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','fix-lesson-latex-btn','close-additional-file-shortcuts-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x5cfrac{$1}{$2}','null','back-to-dashboard-from-bp-btn','tGain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','per-q-countdown','.bp-create-onet-quiz-btn','leaderboard','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-bp-settings-btn','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','file-default-','game-start-quiz-id','จอมเวทย์ขนมหวาน','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','shortcutTabs','</button>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','<tr><td\x20colspan=\x22','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','scrollIntoView','prev-question-btn','COMEBACK_KING','#10B981','ลบแบบทดสอบสำเร็จแล้ว','\x5cge','save-quiz-edits-btn','เวกเตอร์และเมทริกซ์\x20(เสริม)','move-quiz-project-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','student-team-join','pointercancel','presentation-slide-container','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-hidden-file-shortcut-btn','confirmation-modal','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามใหม่\x20','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนและการดำเนินการ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','analytics','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>',';\x22\x20data-tooltip-target=\x22tooltip-','.move-parallel-shortcut-item','ฐานนิยม','stringify','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','</li>','fill_in_with_choices','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','Powerup\x20use\x20failed:','<span>','คำตอบที่ถูกต้อง','AI\x20Formula\x20Fix\x20Error:','Error\x20creating\x20project:','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','bg-green-100','rows','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(79,\x2070,\x20229,\x200.8)','not_generated','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>','อนุพันธ์:\x20กฎลูกโซ่','projectView','จับคู่แบบทดสอบสำเร็จ!','[*]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','score','Error\x20deleting\x20submission:','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','questionId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','Error\x20submitting\x20answer:','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','<tr><td\x20colspan=\x2211\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','dashboardConfig','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','some','shadowColor','admin-dashboard','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','<span\x20title=\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','text-red-700','true','Successfully\x20removed\x20','#view-rankings-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x22\x20class=\x22delete-project-btn\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','พื้นที่วงกลม/ส่วนของวงกลม','วงรี','file-default-1','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','main-correct-answer-display','MathJax','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ฟังก์ชันแบบชิ้นส่วน','destroy','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>','lastAnswerIndex','สายลับจับบ้านเล็ก','leaderboard-quiz-tab-btn','parallel-default-','close-responder-overlay','textAlign','querySelectorAll','274192258111','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','.eraser-size-btn','แบบทดสอบนี้หมดเวลาแล้ว','touchmove','วงกลม:\x20คอร์ดและเส้นสัมผัส','modal-shuffle-select','\x5ctimes','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-upload-input','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','ห.ร.ม.\x20(GCD)','restore','unshift','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','AI\x20ไม่สามารถอ่านข้อความได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','</label></div>','analytics-tab-btn','Error\x20processing\x20file\x20for\x20AI:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-yellow-300','กฎบวกและกฎคูณ','jspdf','parallel-default-1','isStarred','height','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','bg-yellow-300\x20text-yellow-900\x20font-bold','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','อัปเดตแบบทดสอบเก่า\x20','close-pin-modal-btn','show_pass_fail_only','\x20ชุด)','start-live-race-generated-btn','answerValue','confirm-create-project-btn','quick_thinker','300','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.edit-file-shortcut-btn','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','.ideal-answer-input,\x20.correct-response-input','playerNicknames','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ตัวประกอบและตัวประกอบเฉพาะ','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','\x27Sarabun\x27,\x20sans-serif','team-student-list','frequency','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','tfrac','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','border-indigo-500\x20text-indigo-600','ฟังก์ชันกำลังสองและกราฟ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','file-shortcut-name-input','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','lastIndexOf','Error\x20updating\x20old\x20quizzes:','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','presentation-explanation','getScreenCTM','หมีขั้วโลกใต้','team-player-status-grid','Error\x20saving\x20file\x20shortcut\x20config:','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','answer','doc','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','translate(','.start-game-btn','shortcuts-loading-msg','<span\x20title=\x22โดนคำสาป\x22>😈</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','createdBy','cancel-move-quiz-btn','.remove-file-shortcut-from-tab-btn','topic-input','\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x','พบ\x20Team\x20Quiz!','lessonPlan','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','</p><p><strong>เฉลย:</strong>\x20','offsetWidth','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','กำลังอ่านและเตรียมไฟล์...','link-topic-input','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confidence-scoring-description','close-topic-bank-btn','สลับไปโหมดนักเรียน','ชื่อหัวข้อห้ามว่าง','เกิดข้อผิดพลาดในการบันทึกลำดับ','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20id=\x22q-image-container-','.start-live-race-btn','use-powerup-wagerMultiplier-instant','project-id-display','\x22.\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','modal-adaptive-quiz-checkbox','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','lesson-view-title','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','offset','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การจัดหมู่\x20(Combination)','input[name=\x22question_single\x22]:checked','handleGeneratePracticeTest','wager-amount-display','isAnonymousRevealed','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerCorrect','temp-loader-text-results','<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','Failed\x20to\x20apply\x20jinx:','ทศนิยม\x20(ค่าประจำหลัก)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>:\x20','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','.topic-name-input','นักล่าฝัน','.answered','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.game-start-btn','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20text-gray-700\x22>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','Group\x20Mode','สร้างโปรเจคสำเร็จ!','targetId','close-comparison-modal-btn','exitFullscreen','(คู่ขนาน)\x20','keys','ยกเลิกการเชื่อมโยงสำเร็จ','</span></td>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isDefault','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>',')</span></div>','dblclick','bp-modal-difficulty-level-select','admin-view','stem','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ทำงานอยู่!</div>','Error\x20saving\x20game\x20results:','input','</div>','export-worksheet-pdf-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','end-team-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','trim','กัปตัน','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','<tr>','.delete-file-shortcut-btn','ยืนยันการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','.\x20**กฎสำคัญ:\x20สำหรับสูตรคณิตศาสตร์\x20(LaTeX)\x20ต้องใช้\x20Double\x20Backslash\x20(\x5c\x5c)\x20นำหน้าคำสั่งเสมอ**\x20','timerMode','shouldSaveResults','ตัวแปรและนิพจน์','submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy-quiz-id-btn','Error\x20updating\x20project\x20color:','solution','progress-project-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตร/ความจุและการแปลง','bg-white\x20text-gray-800','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','Error\x20listening\x20for\x20student\x20profiles:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','00:00','justification','.status','.color-palette-popup','topics.','\x27\x20ในหัวข้อ\x20\x27','student-initial-view','badges','open-scratchpad-btn','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','หยุดระบบจับเวลาหรี่หน้าจอ','checkbox','Original\x20quiz\x20not\x20found','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','md:col-span-1','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20border\x20border-yellow-300\x20shadow-sm\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+','การบวก','.delete-shortcut-tab-btn','topics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','เพื่อนสนิท','export-leaderboard-excel-btn','text-blue-700','inactive','ข้อมูลแบบทดสอบไม่ถูกต้อง','fadeStartTime','selected-answer-index-hidden','กรุณาเลือกคำตอบของกลุ่ม','center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x20backdrop-blur-sm\x20border\x20border-white/20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-500\x20disabled:cursor-not-allowed\x20shadow-lg\x22\x20','Error\x20during\x20blueprint\x20link\x20cleanup:','selected-count','ตลาดมืด\x20(','\x20border\x20border-white/10\x20shadow-sm\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','wasConfident','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','bg-green-200\x20text-green-800','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','เกิดข้อผิดพลาดในการอัปเดต:\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','.file-shortcut-btn','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p></div>','setAttributeNS','show-in-student-dashboard-checkbox','answered','log','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','badgesCount','คัดลอกแบบทดสอบสำเร็จ','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','กำลังกลับเข้าสู่เกม\x20','border-red-300\x20bg-red-50','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','.bp-present-btn','lobby','quiz-end-time','move-quiz-modal','team-quiz-topic','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','classStrengths','ลำดับเลขคณิต\x20(AP)','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','.ai-content\x20h3','start-quiz-btn','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-result-card','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20สำหรับสูตรคณิตศาสตร์\x20(LaTeX)\x20ต้องใช้\x20Double\x20Backslash\x20(\x5c\x5c)\x20นำหน้าคำสั่งเสมอ**\x20','bg-yellow-100','imageCode','application/json','commonMistakes','Error\x20fetching\x20quiz\x20settings:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ON_FIRE','resultsDisplay','resume','leaderboard-quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','generate-from-parallel-test-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','potBonus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>','join','touch','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-field=\x22subTopic\x22]','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','warn','Error\x20rendering\x20student\x20progress:','projectId','getDocument','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','word-break:\x20break-all;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','กำลังวิเคราะห์หัวข้อ...','ondblclick','sync-manage-players-btn','#ffffff','bg-red-100\x20text-red-900','modal-timer-duration-container','flex\x20flex-col\x20gap-2','shortcut-reference-url-input','startTime','ความสัมพันธ์ของมุม','group','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','dragover','data:application/vnd.ms-word;charset=utf-8,','\x22\x20data-target-tab-id=\x22','presentation-scratchpad-btn','กรุณาเลือกโปรเจคก่อน','additional-parallel-shortcuts-list','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','user','ข้อ\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','Failed\x20to\x20create/update\x20submission\x20record:','actions-container-','Error\x20starting\x20team\x20quiz:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','การวัด','quiz-search-input','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','contents','multiple_choice','ไม่พบแบบทดสอบ','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','API\x20call\x20failed\x20with\x20status:\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','student-name-select','behavior-log-tab-btn','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','bg-white','เส้นตรง:\x20รูปแบบสมการ','insurance','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','circ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-link-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','หลังเรียน','.file-shortcut-tab-btn','):\x20','รูปหลายเหลี่ยมและมุมภายใน','จำนวนเต็มลบ','interesting-stats-wrapper','กำลังสร้างแบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','keydown','parallel-shortcut-modal-title','ค.ร.น.\x20(LCM)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','</div></div></div>','STOP','<i\x20class=\x22fas\x20fa-pen\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x20pointer-events-none\x22>','#retake-for-improvement-btn','กราฟแท่ง\x20กราฟเส้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','show-results-btn','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes',',\x20คละกันระหว่างปรนัยและเติมคำ.\x20','questionDisplayedAt','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20duplicating\x20quiz:','ช่างภาพ','Blueprint\x202','Error\x20saving\x20submission:','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','/studentProfiles','grid','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','answerText','รอผู้ควบคุมไปข้อต่อไป...','wakeLock','transparent','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','smooth','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','next-question-btn','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','text-yellow-800','\x20(สำหรับ\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','Error\x20generating\x20from\x20link:','คู่คำตอบ...','กำลังจับคู่...','???','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x5capprox','save-shortcut-btn','Error\x20opening\x20quiz\x20editor:','first_try_ace','worksheet-input-area','กำลังเตรียมไฟล์...','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-btn','close-student-rankings-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p></div>','Error\x20toggling\x20star\x20status:','startedAt','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','parallel-shortcut-id-input','sync-timer-duration-container','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','highlighter','</span>\x20/\x20','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-options','-options\x22>','manage-total-players','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22student-exit-game-btn\x22\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','แก้ไขสูตรคณิตศาสตร์\x20','name_asc','สายลมแห่งโชคชะตา','transition-transform','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','student-quiz-topic','textarea[name=\x22question_single\x22]','<input\x20type=\x22checkbox\x22\x20disabled\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-200\x20text-gray-300\x20cursor-not-allowed\x22>','การบวกเศษส่วน','moveTo','ระยะเวลา\x20(นาที):','addEventListener','gain','Error\x20saving\x20questions\x20to\x20practice\x20bank:','(พยายามอยู่)','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','scratchpad-question','timer-duration-container','\x22\x20สำเร็จ!','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','sync-timer-duration-input','กรุณาเลือกโปรเจคปลายทาง','.project-card-container:not(.opacity-50)','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','.use-hidden-parallel-shortcut-btn','globalSettings','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','อัปเดตสถานะสำเร็จ','กรุณาเลือกไฟล์ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','border-indigo-200','add-shortcut-tab-btn','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<button\x20data-tab-id=\x22','.linkedQuizIds','cancel-quiz-bank-btn','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ป่าไม้','ส่วนเบี่ยงเบนเฉลี่ย','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','.rename-quiz-btn','#confidence-input-','กรุณาพิมพ์คำตอบ','quizType','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','add-student-btn','points','28px','modal-confidence-mode-select','สร้างชุดคำถามจับคู่','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','pointer-events-none','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','ดอกเบี้ยทบต้น','classList','-tab','md:col-span-3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','none','hasPerfectScoreBonus','subTopics','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-responder-overlay\x22\x20class=\x22mt-12\x20text-indigo-200\x20hover:text-white\x20underline\x20text-sm\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กลับไปตามลำดับปกติ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Blueprint\x20O-NET\x20ป.6','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหารทศนิยม','ใช่\x20/\x20ถูก','highlighter-size-value','.copy-quiz-id-list-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-800','Unexpected\x20API\x20response\x20structure:','backgroundColor','สมการตรีโกณมิติ','fileShortcutTabs','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','powerups','.delete-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','difficultyValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','cancel-create-project-btn','bar','linkedQuizIds','currentTime','API\x20Error\x20Response:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-delete-btn','🛡️','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x22\x20value=\x22true\x22\x20','blueprint-input-area','text-gray-300','ส่วนเบี่ยงเบนมาตรฐาน','<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','getBoundingClientRect','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','ยังไม่ส่ง','ARRAY','post-test','switch-responder-btn','firstElementChild','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','เพิ่มปุ่มลัดใหม่','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','centralPot','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','กำลังค้นหากิจกรรม...','file-topics-list','parseFromString','\x20\x20\x20-\x20คำตอบ:\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','text','จากเนื้อหาต่อไปนี้:\x20\x22','new-question-type-select','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','topic-bank-subtopic-name','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกเป็นตัวเลขเท่านั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','Error\x20in\x20handleApiCall:','ไม่ได้ตอบ','camera-input','หมดเวลา!\x20กำลังส่งคำตอบ...','สิงโตยิ้ม','การแจกแจงปกติและ\x20z-score','goto-next-question-btn','back-to-dashboard-btn','hiddenOptions_q','แก้ไขข้อนี้','ตารางความถี่','border-gray-300','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','confidence-input-','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','endsWith','has','bp-add-topic-btn','scratchpad-close-btn','quiz-bank-modal','isSyncGame','blueprint-settings-modal','student-passcode-input','การยืนยันตัวตนล้มเหลว','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','Error\x20deleting\x20custom\x20topic:','นักกีฬา','getPage','.presentation-option','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','.bp-unlink-quiz-btn','</option>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','numChoices','dataset','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','ยังไม่มีนักเรียนส่งงาน','ไม่ผ่าน','fileShortcutsConfig','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','---\x20[คำถามใหม่]\x20---','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-300\x20hover:text-red-100',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','questionText','student-progress-view','\x22\x20class=\x22pin-project-btn\x20','undo-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Save\x20complete\x20(Optimized\x20Read)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','จุด\x20เส้น\x20ระนาบ','start-presentation-btn','ครัวซองต์','studentName','.question-editor-item','.delete-parallel-shortcut-btn','join-group-activity-btn','ลำดับเรขาคณิต\x20(GP)','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','.submission-checkbox','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','fa-rocket\x20text-purple-500','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','playerName','pop','open-market-btn','usedBuyTime','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบสำเร็จ','every','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x20data-q-type=\x22','สุดยอด!\x20ตอบถูกทุกข้อ','พิมพ์ตอบ','bg-gray-50','game-start-modal-title','การนับ','คณิตการเงิน/บูรณาการ','secondChance','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','next-review-question-btn','.delete-student-btn','modal-timer-duration-label','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-2\x20font-semibold\x22><i\x20class=\x22fas\x20fa-bell\x22></i>\x20แจ้งเตือนคนช้า</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20text-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เตือนเมื่อเหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22input-slow-count\x22\x20value=\x22','pen','results-table','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x22>','create-from-bank-btn','empty','แบบทดสอบ:\x20','ยินดีต้อนรับกลับ\x20','update','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20analyzing\x20blueprint\x20topics:','ไม่สามารถโหลดรายการโปรเจคได้','Error\x20committing\x20score\x20updates:','comeback_king','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','currentQuestionIndex','เส้นรอบรูป','ai-quiz-generator-v3','selectedTopicNames','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-quiz-area','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','.unpair-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22flex-1\x22></div>','กรุณาป้อนหัวข้อสำหรับใบงาน','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','isJinxed','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x20max-w-5xl\x22>','admin-password-modal','```','<button\x20data-value=\x22','text-indigo-700','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ตรีโกณมิติ','แฟนทิพย์','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-4\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-0\x20left-0\x20w-full\x20h-full\x20bg-white\x20opacity-10\x20transform\x20-skew-x-12\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20mb-2\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x20fa-lg\x22></i>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>รออีก\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','text-green-800','write','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','.buy-item-btn','toLowerCase','fill_in_the_blank','per-question-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','mousemove','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','.question-editor-item[data-q-index=\x22','destination-out','```json','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mjx-container','input[type=\x22radio\x22][value=\x22','scores-tab-content','rgba(16,\x20185,\x20129,\x200.7)','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play-circle\x20text-3xl\x20text-indigo-400\x20group-hover:text-indigo-600\x20transition-colors\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<p><strong>คำตอบของคุณ:</strong>\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','-tab-content','open-quiz-bank-btn','sawtooth','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','confidence-scoring-checkbox','\x0a---\x0a','request','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','ระยะจากจุดถึงเส้นตรง','loopUntilPass','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20rounded-md\x20hover:bg-gray-100\x20cursor-pointer\x20border\x20border-transparent\x20hover:border-gray-200\x20transition-all\x20select-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','กำลังดึงไฟล์อ้างอิงจากลิงก์...','.move-file-shortcut-dropdown','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','standardTopic','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','slide-counter','scan-text-image-input','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','(ตามมาติดๆ)','ชนิดของข้อมูลและการเก็บข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','แบบทดสอบที่ติดดาว','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','<span\x20class=\x22block\x20text-sm\x20','\x20ชุดสำเร็จ!','overline','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','sin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','explanation','Error\x20starting\x20sync\x20game:','upperGroupNames','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','user-id-display','กำลังสร้างแบบทดสอบ\x20\x22','save-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-lg\x20text-gray-800\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','shuffledQuiz','cursor','ถูก','trail-tool-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์.','setValueAtTime','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','ref','onblur','Error\x20updating\x20quiz\x20status:','Error\x20bulk\x20deleting\x20submissions:','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bulk-confidence-scoring-checkbox','Could\x20not\x20fetch\x20reference\x20file:','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','Error\x20displaying\x20question\x20bank:','POST','Failed\x20to\x20get\x20hint:','Error\x20updating\x20points:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.mb-6.p-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','clientY','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postScore','setFont','Error\x20deleting\x20topic:','QUICK_THINKER','upper_group_count','.ai-fix-question-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...',')</button>','body','Error\x20updating\x20sort\x20preference:','prod','แบบทดสอบนี้ปิดใช้งานอยู่','.move-shortcut-dropdown','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','แท็บใหม่','.tab-name-display','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x20คนที่ส่ง\x20ตอบถูก\x20(','ซื้อ\x20(','binom','cropped_image.png','geq','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','modal-confidence-mode-container','anonymous_reveal_end','**กฎเหล็กการสร้างตัวเลือก:**\x20ห้ามสุ่มตัวเลขมั่ว,\x20ตัวเลือกผิดต้องเกิดจากความเข้าใจผิดที่พบบ่อย,\x20ตัวเลือกต้องดูสมเหตุสมผล','onload','cancel-delete-btn','NUMBER','Error\x20joining\x20team\x20quiz:','indexOf','mode-switcher-btn','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','quadraticCurveTo','.edit-quiz-btn','><span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span></button><button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','เริ่มกิจกรรม:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','การจัดกลุ่มข้อมูล','ความชันเส้นสัมผัส','export-image-btn','กรุณาสร้างบทเรียนก่อน','size','insertAdjacentHTML','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','minHeight','className','close-lesson-view-btn','Pot\x20Distributed.\x20Leaderboard\x20Updated.','ไม่พบไฟล์\x20Test\x20Blueprint','<br>','อยู่ในหัวข้อหลักใด:','\x22.\x20Ideal\x20Answer:\x20\x22','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee.firebasestorage.app','bulk-quiz-settings-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','isScored','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','question-analytics-container','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','promptFeedback','👑\x20','trail','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','close-comparison-modal-footer-btn','quiz-results-view','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','FIRST_TRY_ACE','rename-quiz-input','พื้นที่สามเหลี่ยม','ลบโปรเจคสำเร็จแล้ว','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','passcode-error-msg','reveal_at_end','.delete-custom-topic-btn','load-quiz-btn','การหาร','\x22...','<div\x20class=\x22my-6\x22>','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','#parallel-shortcut-tabs-nav\x20.tab-name-input','mouseup','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','pointsToAdd','คำเตือน\x20(','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','grid-view-btn','กำลังสร้างบทเรียน:\x20','.delete-hidden-shortcut-btn','เนื้อหาสำหรับสอน:\x20','\x20in\x20all\x20blueprint\x20projects.','Re-grade\x20process\x20failed:','text-gray-500','</span>\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','กำลังสแกนหาแบบทดสอบเก่า...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','projectSort','quizId','isArray','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','<div\x20style=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','2066260osUwwf','admin-try-quiz-btn','team','\x20วินาที','ondrop','scratchpad-modal','เกิดข้อผิดพลาดในการปักหมุด','pin-entry-modal','ดีมาก','afterend','.\x20มีตัวเลือก\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','pointsLastQuestion','\x20คนที่เลือก?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','passcode-prompt-message','1470496rxCupC','scale-125','hint-btn','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','bp-modal-num-choices','บันทึกการตั้งค่าสำเร็จ','All\x20groups\x20have\x20finished.\x20Ending\x20game.','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','includes','ลำดับการดำเนินการ\x20(PEMDAS)','toggle','Refunded\x20','manage','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','files','การลบ','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','.group\x5c/dropdown-file',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','hidden','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','/players','onkeydown','summary_chart','input[type=\x22radio\x22]:checked','เกิดข้อผิดพลาด','ฮิสโตแกรม','ใช้ไอเทม\x20','เกิดข้อผิดพลาดในการลบโปรเจค','.delete-svg-btn','\x20แบบทดสอบลงในคลังสำเร็จ!','.answers','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','bank-input-area','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','isCorrect','มุมพิเศษ\x2030°-60°-90°','scratchpad-controls','isForcedConfident','docChanges','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','strokeStyle','กำลังสร้างเนื้อหา:\x20','wagerAmount','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','delete','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','behavior-log','เรขาคณิต','bg-blue-500\x20hover:bg-blue-600\x20text-white','.submission-checkbox:checked','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','leq','/public/data/projects/','sync-timer-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','after','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','mouseleave','line-height:\x201.3;\x20min-width:\x200;','fas\x20fa-bookmark','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','student-team-selection-view','.generate-easy-version-btn','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','confirm-admin-login-btn','stop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','dimmed','#E5E7EB','bg-red-500','ตอบถูกทุกข้อในแบบทดสอบนี้','<button\x20data-shortcut-id=\x22','contains','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','string','parallel-test-input-area','มูเตลู','save','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.hidden-option-input','learningGaps','toggleSyncDropdown','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','blockReason','summary','wasJinxed','\x5cpi','🚀\x20คุณเดิมพันหมดหน้าตัก!','save-file-shortcut-btn','\x5cleq','confirm-join-game-btn','.live-answer-btn,\x20#live-submit-short-answer-btn','fill','sync-matching-select','show-final-results-btn','สัญกรณ์วิทยาศาสตร์','source_document.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','globalCompositeOperation','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','timer-duration-label','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>','กุ้งเต้นแร้งกา','สรุปผลสุดท้าย','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','45MOcmnu','pen-tools-group','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','$1\x5c%','additional-file-shortcuts-list','lesson-sections-container','.isScored','parallel-shortcut-container','\x20จาก\x20','#open-additional-parallel-shortcuts-btn','input-','shortcut-modal-title','.open-bp-project-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','รากที่สองและที่สาม','student-project-leaderboard-tab','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','เรเดียนและการแปลงหน่วย','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','เทพทรู','timed','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','Error\x20deleting\x20all\x20students:','ฟังก์ชันเชิงเส้นและกราฟ','padding','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','reviewQuestionIndex','open-sync-scratchpad-btn','bp-modal-passing-score-input','market-current-points','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','getTextContent','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20mt-2\x20opacity-90\x20font-medium\x20bg-black/20\x20inline-block\x20px-3\x20py-1\x20rounded-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20รีบตอบหน่อยจ้า!\x20เพื่อนรออยู่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','count','autoTable','เกิดข้อผิดพลาดในการลบข้อมูล','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20bg-white\x20text-indigo-700\x20font-bold\x20py-4\x20px-6\x20rounded-xl\x20shadow-md\x20hover:shadow-lg\x20transition-all\x20transform\x20hover:scale-105\x20flex\x20justify-between\x20items-center\x20group\x20select-responder-btn\x22\x20data-name=\x22','แก้ไขปุ่มลัดจากไฟล์','🌗\x2050:50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-sort-select','player-count','เปิด\x20(จับเวลา)','กลุ่ม:\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','หัวข้อหลักใหม่','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','pairedQuizId','topic-quiz-bank-modal','quiz-generation-area','beginPath','shortcut-id-input','.lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','enable-black-market-checkbox','toLocaleDateString','option','เกิดข้อผิดพลาดในการเข้าตลาดมืด','#4338ca','bulk-results-display-select','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x20border\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users-cog\x20mr-1\x22></i>\x20จัดการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-sm\x20border\x20border-white/10\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20justify-between\x20mb-3\x20pb-2\x20border-b\x20border-white/10\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20cursor-pointer\x20text-yellow-300\x20hover:text-yellow-200\x20select-none\x20bg-black/20\x20px-2\x20py-1\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22toggle-slow-responders\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20rounded\x22\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','comparison-individual-tab','Saving\x20game\x20results\x20(Optimized)...','ผู้ไม่ยอมแพ้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x20ข้อ\x20','value','fullscreenElement','.view-bp-lesson-btn','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','tabId','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','totalPoints','max','(เลือกแล้ว\x20','/public/data/liveGames','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','cancel-quiz-status-btn','cancel-passcode-btn','<span\x20title=\x22โดนบังคับ\x22>👻</span>','ปล่อยพลัง','AI\x20แก้ไขคำถามสำเร็จ!','ใช่','status','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','shortcutIds','ปวดหลัง','bg-green-500\x20hover:bg-green-600\x20text-white','.edit-shortcut-btn','พื้นที่ผิวรูปทรงสามมิติ','red','API\x20call\x20failed','1000px','shuffle','คนที่\x20','#FEF3C7','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','_opt','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','border-red-700','_opt1\x22\x20name=\x22question','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','half_mark_status','quiz-results-table-body','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22select-all-submissions\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ประเภท</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนครั้งแรก</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>สถานะ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','block','อนุพันธ์:\x20ผลคูณ/ผลหาร','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','.cancel-edit-topic-btn','rgba(79,\x2070,\x20229,\x201)','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','fromCharCode','error','currentPoints','rgba(239,\x2068,\x2068,\x200.7)','นกฮูกกลางวัน','verify-answers-editor-btn','เรขาคณิตวิเคราะห์','ผิด','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','timeBonusThisQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-parallel-shortcut-btn','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','scan-text-image-btn','\x20รายการ...','display','พิสัย','getTime','lineCap','options','</p></div>','<p\x20class=\x22','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20joining\x20live\x20game:','perQuestionStats','เกิดข้อผิดพลาดในการสร้างห้องเกม','fix\x20the\x20option','authed_project_','<span\x20class=\x22font-bold\x20','state','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','link-url-input','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','modal-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onchange','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image-to-crop','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','(ก่อนเรียน)\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','bp-topic-list-container','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p></div>','sum','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','revealOptions','ข้าวมันไก่พิเศษ','currentTarget','\x20mx-1\x20text-lg\x22></i></span>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','Failed\x20to\x20generate\x20practice\x20test:','ถูกต้อง!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','appendChild','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','wasForced','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','ลิมิต','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่เต็มนะ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-tab','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','ไฟล์ลัด\x202','confirm-manual-bp-btn','</select>','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','short_answer','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ระบบอสมการ','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','startsWith','practiceProblems','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดาวสภา','.use-hidden-file-shortcut-btn','submission-status-chart','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','src','.\x20พิมพ์ตอบเอง.\x20','admin-password-input','use-powerup-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','shadowBlur','.duplicate-quiz-btn','student-name-selection-view','#F3E8FF','หน่วยเวลาและการคำนวณเวลา','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','Error\x20during\x20class\x20analysis:','bg-indigo-50','เกิดข้อผิดพลาดในการลบผลสอบ','findIndex','q-image-container-','freeMarketEntryUsed_q','scrollX','ผู้ควบคุม\x20(ทดสอบ)','\x20จุด','ไม่พบข้อมูลโปรเจค','responseSchema','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-clear-btn','ร้อยละประยุกต์','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','การปัดเศษและประมาณค่า','fileShortcutOrder','stroke','ไม่พบโปรเจคที่ต้องการลบ','opacity','false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','arrayBuffer','blueprint.pdf','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','global-quiz-search-input','students','isConfidenceScoringEnabled','question-complexity-select','deselect-all-topics-btn','ทฤษฎีทวินาม\x20(เบื้องต้น)','กิจกรรมสิ้นสุดลงแล้ว','เกิดข้อผิดพลาดในการใช้ไอเทม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','removeAttribute',',\x20r=','replace','removeEventListener','</a>','project-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcutId','confidence-mode-container','Error\x20renaming\x20quiz:','.bp-delete-topic-btn','Error\x20confirming\x20players:','lesson-loader-text','\x20คะแนน\x20','แผนภาพเวนน์','.delete-project-btn','project-name-input','bg-[#4ADE80]\x20text-green-900\x20font-bold','style','correctResponse','oninput','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results','gameData','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.linkedQuizId','q-explanation-','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','color','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','create-project-modal','ดาบพิฆาตอสูร','file-shortcut-url-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','สร้างแบบทดสอบ','questionIndex','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตลาดมืด\x20(0\x20P)','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','Error\x20saving\x20manual\x20blueprint\x20project:','ผ่าน','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-end\x20transform\x20scale-90\x20origin-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','pin-backspace-btn','triangle','button','pre-test','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','toDate','shortcut_','ลบผลสอบของ\x20','NEGATIVE_INFINITY','file-topics-list-container','getElementsByTagName','\x20ตอบ','admin-testing','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','#open-additional-file-shortcuts-btn','number','preScore','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','generate-from-topic-btn','stepByStepExamples','point','ผู้เชี่ยวชาญ','-9999px','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attempts','Buy\x20Item\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','.pin-digit-box','name_desc','close-game-final-btn','border-indigo-400\x20ring-2\x20ring-indigo-200','generate-from-text-btn','lesson-plan-modal','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x5cfrac','lowerGroupNames','lesson-plan-title','\x5cle','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','💰\x20โหมดเดิมพันทำงานอยู่!','student-reading-area','activeGameSession','\x20(p=','class','Copy\x20command\x20failed','.parallel-shortcut-btn','quiz-leaderboard-table-body','bg-green-100\x20text-green-800','cdot','_blank','48562mhrdeB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.confidence-choice-btn','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','default-','requestFullscreen','devicePixelRatio','title','</span><span\x20class=\x22font-bold\x22>','คะแนน','entries','เพนกวินไฟ','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','ตรวจทานเฉลยเสร็จสิ้น!','tab_','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20data-topic=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','analytics-summary-cards','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','สถิติและความน่าจะเป็น','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','insertBefore','Error\x20pairing\x20quizzes:','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','promise','comparison-overall-content','.use-hidden-shortcut-btn','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','docs','confident','groups','เงาปริศนา','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','text-green-700','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-gray-500','ปิดใช้งาน','destination','live-race','ยังไม่สร้าง','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','/public/data/customMathTopics','line-through\x20text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','ฟังก์ชันพหุนาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>','.shortcut-list-item','project-quizzes-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','เกิดข้อผิดพลาดในการส่งคำตอบ','\x22>(','บันทึกแบบทดสอบสำเร็จแล้ว!','พลังคลื่นเต่า','modal-timer-duration-input','generated','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','.toggle-hidden-options-btn','แบบเติมคำตอบ','reveal-names-btn','(^|[^\x5c\x5c])\x5cb','เกิดข้อผิดพลาดในการบันทึกคะแนน','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','s;\x22\x20title=\x22','.topic-category','\x0a\x20\x20\x20\x20\x20\x20</div>','จำนวนคู่:','.select-responder-btn','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','file-shortcut-id-input','ศูนย์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drill-feedback','isBlackMarketEnabled','.space-y-1.pl-4','Market\x20entry\x20payment\x20failed:','#open-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-black/20\x20px-3\x20py-1\x20rounded-full\x20border\x20border-white/10\x20text-gray-300\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>กองกลาง:\x200</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','clientX','เลือกและบันทึก','standard','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20\x27','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','text-input-area','\x22>จาก:\x20','additional-shortcuts-list','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','</tbody></table>','interesting-stats-container','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','btn','<span\x20class=\x22font-bold\x20text-right\x20flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-1\x22\x20style=\x22flex-shrink:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchend','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','Error\x20generating\x20worksheet:','underline','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','reset-view-btn','.question-editor-item:last-of-type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','Error\x20deleting\x20shortcut:','visible','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','Error\x20saving\x20to\x20question\x20bank:','fas\x20fa-user-edit','function','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x20backdrop-blur-sm\x20border\x20border-white/10\x20shadow-sm\x22>','.application-options\x20button','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','exists','normal','<span\x20class=\x22font-bold\x22>','.remove-shortcut-from-tab-btn','per_question','เกี่ยวกับหัวข้อ\x20\x22','เพิ่มปุ่มลัดจากไฟล์ใหม่','workerSrc','round','kick-player-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','ราชาคัมแบ็ก','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','connect','target','table','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','_opt1\x22>ไม่ใช่</label></div>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','เกิดข้อผิดพลาดในการบันทึก','ฟังก์ชันสัมพัทธ์\x20(rational)','ความเท่ากันทุกประการของสามเหลี่ยม','bg-black/20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','showAnswerInAnonymous','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','highlighter-tool-btn','shortcut-blueprint-url-input','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','แก้ไขชื่อหัวข้อย่อย:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Pot</span>','true_false','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','force-math-checkbox','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toBlob','\x20/\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','comparison-individual-content','เกิดข้อผิดพลาดในการสร้างใบงาน','textContent','curriculum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','เกิดข้อผิดพลาดในการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','readAsDataURL','ระบบเลขและค่าประจำหลัก','select-all-submissions','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','Error\x20starting\x20live\x20race:','PERSEVERANCE','\x20ครั้ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','20px','topic-input-area','.sortable-header','show_results_and_answers','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','checkAnswer','complexityValue','ลบผลการสอบ\x20','visibilityState','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','.star-quiz-btn','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','blueprintUrl','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20to\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-quiz-topic','setItem','บันทึกการตั้งค่าการแสดงผลสำเร็จ','<div>','\x20คะแนน</span></div>','parent','modal-results-display-select','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','perfect_score','Error\x20moving\x20quiz:','badgesCount.','nextElementSibling','results-quiz-title','camera-crop-btn','.generate-lesson-btn','.delete-bp-project-btn','correctAnswer','ฟังก์ชันยกกำลัง','bg-red-100\x20text-red-800','.delete-shortcut-btn','สาระที่\x201','\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20font-extrabold\x20text-yellow-300\x20tracking-wide\x20drop-shadow-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้นฉบับทั้งหมด','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','Error\x20regenerating\x20question\x20in\x20editor:','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','fa-user-astronaut\x20text-blue-700','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','submittedAt','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','.move-quiz-btn','live-options-container','ยอดนักสืบ','PROMPT_PLACEHOLDER','source-over','close-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20min=\x221\x22\x20max=\x22','แก้ไขหัวข้อสำเร็จ','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','clear-all-links-btn','order','PERFECT_SCORE','Team\x20Quiz','เกิดข้อผิดพลาดในการสร้าง:\x20','การบวกทศนิยม','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','confirm-wager-btn','getElementById','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','export-leaderboard-pdf-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','ย้าย','cancel-quiz-edits-btn-footer','div','\x22><span\x20style=\x22','parse','.sync-custom-dropdown','เกิดข้อผิดพลาดในการสร้างรูปภาพ','\x20จุดเรียบร้อยแล้ว','เกิดข้อผิดพลาดในการติดดาว','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','การแปลงรูปอัตลักษณ์','overflowY','end-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','คัดลอกรหัสแล้ว!','.ai-fix-formula-btn','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','Error\x20generating\x20teaching\x20content:','link-input-area','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','.bp-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','ท็อปฟอร์ม','Error\x20preparing\x20content\x20quiz:','add','ยอดเยี่ยม','use-powerup-cutOne','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','export-tutor-pdf-btn','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<button\x20data-id=\x22','manage-players-btn','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','\x5cdiv','lesson-loader','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-800','file-shortcut-container','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','confirm-quiz-status-btn','รอเปิด','.summary-bar-item','การคูณทศนิยม','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','bg-[#DCFCE7]\x20text-green-900','AI\x20ไม่สามารถประมวลผลข้อมูลได้','typesetPromise','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','border-green-700','parallel-shortcut-editor-modal','parallelTestShortcutsConfig','cancel-quiz-settings-btn','/questionBank','\x20P)','confidence_single','.edit-question-btn','type','manual_release','อกหัก','หมดเวลาสำหรับข้อนี้!','ใช้\x20\x22คำสาป\x22\x20กับ\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-gray-400','\x20ใหม่...','newOptions','passingScore','ผลรวมอนุกรม\x20(Σ)','quiz-settings-modal','members','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','custom-math-topic-input','gameVariant','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','เลือกโปรเจคเพื่อบันทึก','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','พาราโบลา','image/png','ไม่พบข้อมูลผู้เล่น','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','documentElement','sync','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','toFixed','shortcuts','z-index:\x20','selected-answer-index-hidden-wager','touches','content','bg-blue-100','/preferences/main','เพิ่มรายการที่เลือก','parallel-test-tab','เงินงวด\x20(อนุกรมเงินงวด)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-parallel-shortcut-tab-btn','text-purple-600','match','slice','quizMode','\x22\x20data-quiz-id=\x22','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','live-game','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','baseVal','removeChild','bp-project-title','project-detail','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','แบบทดสอบจากคลังส่วนตัว','visibilitychange','cancel-wager-btn','#add-question-editor-btn','สายตาสั้น','createElement','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-tab','market-item-list','realScore','\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.csv','เศษส่วน\x20(ย่อ/ขยาย)','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','opacity-50','modal-passing-score-input','mouse','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'];_0x3eae=function(){return _0x1d1c6c;};return _0x3eae();}function displaySubmissionConfirmation(){const _0x3d753a=_0x157a22;let _0x3f97a7=_0x3d753a(0x55e)+currentStudentName+_0x3d753a(0xd15);studentResultArea[_0x3d753a(0x93e)]=_0x3f97a7,studentResultArea[_0x3d753a(0x807)][_0x3d753a(0x90e)](_0x3d753a(0x9f0)),studentQuizArea[_0x3d753a(0x807)][_0x3d753a(0xcec)](_0x3d753a(0x9f0)),document[_0x3d753a(0xccc)](_0x3d753a(0xe42))[_0x3d753a(0x7d6)](_0x3d753a(0x343),()=>{const _0x891359=_0x3d753a;showView(_0x891359(0x213)),document[_0x891359(0xccc)](_0x891359(0x428))[_0x891359(0xa9f)]='';});}function renderEarnedBadges(_0x293e66,_0x7ba5c){const _0x3560d5=_0x157a22,_0x37ab07=document[_0x3560d5(0xccc)](_0x7ba5c);if(!_0x37ab07||!_0x293e66||_0x293e66['length']===0x0)return;let _0x4c6872='';_0x293e66[_0x3560d5(0x8f9)]((_0xcf939c,_0x1c0d32)=>{const _0x5536e4=_0x3560d5,_0x106cbc=Object[_0x5536e4(0x11b)](BADGES)[_0x5536e4(0x48e)](_0x422691=>_0x422691['id']===_0xcf939c);_0x106cbc&&(_0x4c6872+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x1c0d32*0.2+_0x5536e4(0xc10)+_0x106cbc[_0x5536e4(0x19b)]+_0x5536e4(0xe16)+_0x106cbc[_0x5536e4(0x501)]+_0x5536e4(0x730)+_0x106cbc[_0x5536e4(0x190)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x37ab07[_0x3560d5(0x93e)]=_0x4c6872;}function startPresentation(_0x50cf6d){const _0x39602c=_0x157a22;currentQuizData=getShuffledQuiz(_0x50cf6d),currentPresentationSlide=0x0,presentationModal[_0x39602c(0xb74)][_0x39602c(0xaea)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3e2a7d=_0x157a22;document['fullscreenElement']&&document[_0x3e2a7d(0x69c)](),presentationModal[_0x3e2a7d(0xb74)][_0x3e2a7d(0xaea)]=_0x3e2a7d(0x80b);}function renderPresentationSlide(_0x33d6d8){const _0x5751a0=_0x157a22,_0xebdf7d=document['getElementById'](_0x5751a0(0x595));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x33d6d8]){_0xebdf7d[_0x5751a0(0x93e)]=_0x5751a0(0x382);return;}const _0x1e3d44=currentQuizData[_0x5751a0(0xdbf)][_0x33d6d8],_0xe116d2=_0x1e3d44['questionType']||currentQuizData[_0x5751a0(0x7fc)];_0xebdf7d[_0x5751a0(0x93e)]='';let _0x1ef940=_0x5751a0(0x1b4)+(_0x1e3d44[_0x5751a0(0x71e)]?_0x5751a0(0xdd)+_0x1e3d44['imageCode']+_0x5751a0(0x6ae):'')+_0x5751a0(0x6b9)+(_0x33d6d8+0x1)+'.\x20'+(_0x1e3d44[_0x5751a0(0x6a8)]||_0x1e3d44['questionText'])+_0x5751a0(0xc01);switch(_0xe116d2){case _0x5751a0(0x283):_0x1ef940+=_0x1e3d44[_0x5751a0(0x2c7)][_0x5751a0(0x141)](_0x26ae33=>_0x5751a0(0xe34)+_0x26ae33+_0x5751a0(0x8a3))[_0x5751a0(0x72e)]('');break;case _0x5751a0(0xc6b):_0x1ef940+=_0x5751a0(0xbe0),_0x1ef940+=_0x5751a0(0xb16);break;case _0x5751a0(0xdf0):case _0x5751a0(0xb27):_0x1ef940+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5751a0(0x8ea):case _0x5751a0(0x75f):default:_0x1ef940+=_0x1e3d44[_0x5751a0(0xaee)][_0x5751a0(0x141)]((_0x21c180,_0x3713a1)=>_0x5751a0(0xa48)+_0x3713a1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21c180+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x1ef940+=_0x5751a0(0x574)+(_0x1e3d44[_0x5751a0(0x928)]||_0x5751a0(0x660))+_0x5751a0(0xde2),_0xebdf7d[_0x5751a0(0x93e)]=_0x1ef940;if(window['MathJax'])window['MathJax'][_0x5751a0(0xd06)]([_0xebdf7d]);let _0x3a12a8=[];switch(_0xe116d2){case _0x5751a0(0x283):_0x3a12a8=_0x1e3d44[_0x5751a0(0x2c7)]||[];break;case _0x5751a0(0xc6b):_0x3a12a8=[_0x5751a0(0xab2),_0x5751a0(0x342)];break;default:_0x3a12a8=_0x1e3d44[_0x5751a0(0xaee)]||[];break;}const _0x58a833=document[_0x5751a0(0xccc)](_0x5751a0(0x74e));_0x58a833&&(_0x58a833['onclick']=()=>{openScratchpad(_0x1e3d44,_0x3a12a8);});document[_0x5751a0(0x5f0)](_0x5751a0(0x873))[_0x5751a0(0x8f9)](_0x4cadca=>{const _0x35e1db=_0x5751a0;_0x4cadca[_0x35e1db(0x7d6)]('click',_0x50c119=>revealAnswerForPresentation(_0x33d6d8,_0x50c119[_0x35e1db(0xb10)]));});const _0x214cea=document['getElementById'](_0x5751a0(0x25d));_0x214cea&&_0x214cea[_0x5751a0(0x7d6)]('click',()=>checkShortAnswerForPresentation(_0x33d6d8)),document[_0x5751a0(0xccc)](_0x5751a0(0x915))[_0x5751a0(0xc76)]=_0x5751a0(0xcb)+(_0x33d6d8+0x1)+_0x5751a0(0xc71)+currentQuizData[_0x5751a0(0xdbf)][_0x5751a0(0x34a)],document[_0x5751a0(0xccc)](_0x5751a0(0x58a))['disabled']=_0x33d6d8===0x0,document['getElementById']('next-question-btn')[_0x5751a0(0x7ef)]=_0x33d6d8===currentQuizData[_0x5751a0(0xdbf)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x51eaf8){const _0x20388f=_0x157a22,_0x5ea2a4=currentQuizData[_0x20388f(0xdbf)][_0x51eaf8],_0x36cc5b=document[_0x20388f(0xccc)](_0x20388f(0xe5c)),_0xf93b72=document[_0x20388f(0xccc)]('check-presentation-answer-btn'),_0x34af79=document[_0x20388f(0xccc)]('presentation-ai-result'),_0x3b8ec0=document[_0x20388f(0xccc)]('presentation-explanation');if(!_0x36cc5b||!_0xf93b72||!_0x34af79||!_0x3b8ec0)return;const _0x261247=_0x36cc5b[_0x20388f(0xa9f)][_0x20388f(0x6b3)]();if(_0x261247==='')return;_0xf93b72[_0x20388f(0x7ef)]=!![],_0xf93b72[_0x20388f(0x93e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x36cc5b['disabled']=!![];const _0x2c0ff7=await gradeShortAnswer(_0x261247,_0x5ea2a4);_0x2c0ff7?_0x34af79[_0x20388f(0x93e)]=_0x20388f(0xe2e):_0x34af79[_0x20388f(0x93e)]=_0x20388f(0x8ff)+_0x5ea2a4[_0x20388f(0x314)]+')',_0x34af79[_0x20388f(0x807)][_0x20388f(0x90e)](_0x20388f(0x9f0)),_0x3b8ec0[_0x20388f(0x807)][_0x20388f(0x90e)]('hidden'),_0xf93b72['classList'][_0x20388f(0xcec)](_0x20388f(0x9f0));}function revealAnswerForPresentation(_0x237f6f,_0x160fa9){const _0x57c541=_0x157a22,_0x3f2b05=currentQuizData['questions'][_0x237f6f],_0x34457c=_0x3f2b05['questionType']||currentQuizData['quizType'];document[_0x57c541(0x5f0)](_0x57c541(0x873))['forEach'](_0x498daa=>{const _0xdfa502=_0x57c541;_0x498daa['disabled']=!![],_0x498daa[_0xdfa502(0x807)][_0xdfa502(0x90e)](_0xdfa502(0xd95));let _0x30139b=![];if(_0x34457c===_0xdfa502(0x75f)||_0x34457c===_0xdfa502(0x8ea)){const _0xa45b48=parseInt(_0x498daa[_0xdfa502(0x87a)][_0xdfa502(0x479)]);_0x30139b=_0xa45b48===_0x3f2b05[_0xdfa502(0x2bd)];}else{if(_0x34457c===_0xdfa502(0xc6b)){const _0x50169d=_0x498daa['dataset'][_0xdfa502(0x649)]===_0xdfa502(0x5d8);_0x30139b=_0x50169d===_0x3f2b05[_0xdfa502(0xcab)];}else _0x34457c===_0xdfa502(0x283)&&(_0x30139b=_0x498daa[_0xdfa502(0xc76)][_0xdfa502(0x6b3)]()===_0x3f2b05['correctResponse']);}_0x30139b?_0x498daa[_0xdfa502(0x807)][_0xdfa502(0xcec)](_0xdfa502(0x237),_0xdfa502(0xc7a),_0xdfa502(0xd08)):_0x498daa['classList']['add']('opacity-50');}),_0x160fa9[_0x57c541(0x807)][_0x57c541(0x90e)](_0x57c541(0xd58));let _0x524001=![];if(_0x34457c===_0x57c541(0x75f))_0x524001=parseInt(_0x160fa9[_0x57c541(0x87a)]['index'])===_0x3f2b05[_0x57c541(0x2bd)];else{if(_0x34457c===_0x57c541(0xc6b))_0x524001=_0x160fa9[_0x57c541(0x87a)][_0x57c541(0x649)]===_0x57c541(0x5d8)===_0x3f2b05[_0x57c541(0xcab)];else _0x34457c==='matching_item'&&(_0x524001=_0x160fa9[_0x57c541(0xc76)][_0x57c541(0x6b3)]()===_0x3f2b05['correctResponse']);}!_0x524001&&_0x160fa9[_0x57c541(0x807)]['add'](_0x57c541(0xa2a),'text-white',_0x57c541(0xac6)),document[_0x57c541(0xccc)](_0x57c541(0x643))[_0x57c541(0x807)][_0x57c541(0x90e)](_0x57c541(0x9f0));}function startWholeQuizTimer(_0x559948){const _0x32128f=_0x157a22,_0x2fb07d=document[_0x32128f(0xccc)]('timer-container');if(!_0x2fb07d)return;const _0x4bf6ef=Date[_0x32128f(0x338)]()+_0x559948*0x3c*0x3e8;_0x2fb07d[_0x32128f(0x93e)]=_0x32128f(0x792);const _0x276b5b=document[_0x32128f(0xccc)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x53e680=_0x32128f,_0x4c7708=_0x4bf6ef-Date['now']();if(_0x4c7708<=0x0)clearInterval(quizTimerInterval),_0x276b5b[_0x53e680(0xc76)]=_0x53e680(0x6cd),showMessage(_0x53e680(0x858)),handleSubmitQuiz(null);else{const _0x28a920=Math[_0x53e680(0xc3c)](_0x4c7708/0x3e8/0x3c%0x3c)[_0x53e680(0x438)]()[_0x53e680(0x3bd)](0x2,'0'),_0x3b1bc6=Math[_0x53e680(0xc3c)](_0x4c7708/0x3e8%0x3c)[_0x53e680(0x438)]()[_0x53e680(0x3bd)](0x2,'0');_0x276b5b[_0x53e680(0xc76)]=_0x28a920+':'+_0x3b1bc6;}},0x3e8);}function renderPerQuestionView(){const _0x20ce70=_0x157a22;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x529fef=currentDisplayedQuiz[_0x20ce70(0xdbf)][currentQuestionIndex],_0x1a64e6=_0x529fef[_0x20ce70(0x36c)]||currentDisplayedQuiz['quizType'],_0x2f16d6=currentDisplayedQuiz[_0x20ce70(0x640)]?.[_0x20ce70(0xb5b)]===!![];let _0x1982e5=_0x20ce70(0x91b)+(currentQuestionIndex+0x1)+_0x20ce70(0xa5a)+currentDisplayedQuiz[_0x20ce70(0xdbf)][_0x20ce70(0x34a)]+_0x20ce70(0xdd8)+(currentMode===_0x20ce70(0xba1)?_0x20ce70(0xcca):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x20ce70(0xe36)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x20ce70(0x93e)]=_0x1982e5;let _0x2998c8=_0x529fef[_0x20ce70(0x6a8)]||_0x529fef[_0x20ce70(0x885)];_0x529fef['imageCode']&&(_0x2998c8+=_0x20ce70(0xdd)+_0x529fef[_0x20ce70(0x71e)]+_0x20ce70(0x6ae));let _0x4e144a='';switch(_0x1a64e6){case _0x20ce70(0xb27):case _0x20ce70(0xdf0):_0x4e144a=_0x20ce70(0x1e1);break;case _0x20ce70(0xc6b):_0x4e144a=_0x20ce70(0x2df);break;case _0x20ce70(0x283):_0x4e144a=_0x20ce70(0x8c1)+(_0x529fef[_0x20ce70(0x2c7)]||[])[_0x20ce70(0x141)](_0x4c454a=>_0x20ce70(0x4be)+_0x4c454a+'\x22>'+_0x4c454a+_0x20ce70(0x877))[_0x20ce70(0x72e)]('')+_0x20ce70(0x94f);break;default:_0x529fef[_0x20ce70(0xaee)]&&(_0x4e144a=_0x529fef[_0x20ce70(0xaee)]['map']((_0x4f318b,_0x2291f1)=>_0x20ce70(0x9ff)+_0x2291f1+_0x20ce70(0x41a)+_0x2291f1+_0x20ce70(0x137)+_0x2291f1+'\x22>'+_0x4f318b+_0x20ce70(0x606))[_0x20ce70(0x72e)](''));break;}document['getElementById'](_0x20ce70(0x8eb))[_0x20ce70(0x93e)]=_0x2998c8,document['getElementById'](_0x20ce70(0x7c4))['innerHTML']=_0x4e144a;const _0x3657b3=currentDisplayedQuiz['settings']?.[_0x20ce70(0xb5b)]===!![],_0x5b37b0=currentDisplayedQuiz[_0x20ce70(0x640)]?.['confidenceMode']||_0x20ce70(0x6d8);if(_0x3657b3&&_0x5b37b0===_0x20ce70(0x6d8)){const _0x483c46=_0x20ce70(0x642);studentQuizArea['querySelector'](_0x20ce70(0x94e))[_0x20ce70(0x97f)](_0x20ce70(0xe2f),_0x483c46);}studentQuizArea['insertAdjacentHTML'](_0x20ce70(0xe2f),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x20ce70(0x34a)]-0x1?_0x20ce70(0x3cf):'คำถามถัดไป')+_0x20ce70(0xb37));currentMode===_0x20ce70(0xba1)&&document[_0x20ce70(0xccc)]('cancel-test-btn')?.[_0x20ce70(0x7d6)](_0x20ce70(0x343),cancelAdminTest);document['getElementById']('next-question-timed-btn')[_0x20ce70(0x7d6)](_0x20ce70(0x343),()=>handleNextQuestionInTimedMode(![]));if(window[_0x20ce70(0x5e4)])window['MathJax'][_0x20ce70(0xd06)]([studentQuizArea]);currentDisplayedQuiz[_0x20ce70(0x640)]?.['timerMode']===_0x20ce70(0xc47)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x8b3794=_0x157a22,_0x5cdbf2=currentDisplayedQuiz[_0x8b3794(0x640)][_0x8b3794(0x37a)],_0x51a8aa=document[_0x8b3794(0xccc)](_0x8b3794(0x88d));if(!_0x51a8aa)return;let _0x57ba6f=_0x5cdbf2;_0x51a8aa[_0x8b3794(0x93e)]=_0x8b3794(0x4fe)+_0x57ba6f+_0x8b3794(0x851);const _0x575a80=document[_0x8b3794(0xccc)]('timer-bar'),_0x15160a=document[_0x8b3794(0xccc)](_0x8b3794(0x56d));perQuestionTimerInterval=setInterval(()=>{const _0x32240e=_0x8b3794;_0x57ba6f--;const _0x3b3156=_0x57ba6f/_0x5cdbf2*0x64;_0x575a80[_0x32240e(0xb74)]['width']=_0x3b3156+'%',_0x15160a[_0x32240e(0xc76)]=_0x57ba6f,_0x57ba6f<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x32240e(0xd13)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4dd8ca=![]){const _0x3f811f=_0x157a22;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4a4a26=null,_0x1481e3=![];if(!_0x4dd8ca){const _0x40b007=currentDisplayedQuiz[_0x3f811f(0xdbf)][currentQuestionIndex],_0x16b50d=_0x40b007[_0x3f811f(0x36c)]||currentDisplayedQuiz[_0x3f811f(0x7fc)];if(_0x16b50d===_0x3f811f(0xb27)||_0x16b50d===_0x3f811f(0xdf0))_0x4a4a26=document['querySelector'](_0x3f811f(0x7d1))?.['value'][_0x3f811f(0x6b3)]()??'';else{if(_0x16b50d===_0x3f811f(0x283))_0x4a4a26=document['querySelector']('select[name=\x22question_single\x22]')?.[_0x3f811f(0xa9f)]??'';else{const _0x1d2346=document[_0x3f811f(0xdd0)](_0x3f811f(0x681));_0x1d2346&&(_0x4a4a26=_0x1d2346['value']);}}if(_0x4a4a26===null||_0x4a4a26===''){showMessage(_0x3f811f(0xd63)),startPerQuestionTimer();return;}const _0x43f036=currentDisplayedQuiz[_0x3f811f(0x640)]?.[_0x3f811f(0xb5b)]===!![],_0x45c2c2=currentDisplayedQuiz[_0x3f811f(0x640)]?.['confidenceMode']||_0x3f811f(0x6d8);if(_0x43f036&&_0x45c2c2==='mandatory'){document['getElementById'](_0x3f811f(0x443))['dataset'][_0x3f811f(0xe65)]=_0x3f811f(0xa69),document['getElementById'](_0x3f811f(0x6e8))[_0x3f811f(0xa9f)]=_0x4a4a26,document[_0x3f811f(0xccc)](_0x3f811f(0x443))['classList'][_0x3f811f(0x90e)]('hidden');return;}const _0x4085a8=document[_0x3f811f(0xccc)](_0x3f811f(0xd0e));_0x4085a8&&(_0x1481e3=_0x4085a8[_0x3f811f(0x174)]);}const _0x4e6176={'answer':_0x4a4a26,'wasConfident':_0x1481e3};proceedToNextQuestion(_0x4e6176);}async function finalizePerQuestionQuiz(){const _0x3f6ec4=_0x157a22,_0x123731=currentDisplayedQuiz[_0x3f6ec4(0xdbf)][_0x3f6ec4(0x5d1)](_0x507dca=>_0x507dca['questionType']==='short_answer');_0x123731?showMessage(_0x3f6ec4(0xdfb)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x2e9d8d=currentQuizData['id'],_0xdcd0c8=doc(db,_0x3f6ec4(0x331)+appId+_0x3f6ec4(0xe48)+_0x2e9d8d+_0x3f6ec4(0x3d6),currentStudentName),_0x17b37a=await getDoc(_0xdcd0c8),_0x1bf42f=_0x17b37a[_0x3f6ec4(0xc43)]()?_0x17b37a['data']():{},_0x308906=_0x1bf42f[_0x3f6ec4(0xbae)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x308906);}function getResultsFilename(){const _0x1b7528=_0x157a22,_0x12ea4a=document[_0x1b7528(0xccc)]('results-quiz-title')[_0x1b7528(0xc76)][_0x1b7528(0xb64)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x1b7528(0x2eb)+(_0x12ea4a||_0x1b7528(0xdcf));}function exportResultsAsImage(){const _0x1a2359=_0x157a22,_0x3531ee=document[_0x1a2359(0xccc)](_0x1a2359(0x10e));showMessage(_0x1a2359(0xe3e)),html2canvas(_0x3531ee)['then'](_0x4f8087=>{const _0x13db97=_0x1a2359,_0x3f6bc6=document[_0x13db97(0xd4f)]('a');_0x3f6bc6['download']=getResultsFilename()+_0x13db97(0x4c9),_0x3f6bc6[_0x13db97(0x3bc)]=_0x4f8087[_0x13db97(0xdf1)](_0x13db97(0xd26)),_0x3f6bc6[_0x13db97(0x343)](),messageModal[_0x13db97(0x807)]['add'](_0x13db97(0x9f0));});}function exportResultsAsPDF(){const _0x532489=_0x157a22,{jsPDF:_0xcabf17}=window[_0x532489(0x60f)],_0x478671=new _0xcabf17();_0x478671[_0x532489(0x953)](_0x532489(0x22c),'normal'),_0x478671[_0x532489(0xa7a)]({'html':'#results-table'}),_0x478671[_0x532489(0xa33)](getResultsFilename()+_0x532489(0x46d));}function exportResultsAsWord(){const _0x128eb6=_0x157a22,_0x5693ce=_0x128eb6(0x1bb)+_0x128eb6(0x47d)+_0x128eb6(0x15b)+_0x128eb6(0x1be),_0x1f8b11=_0x128eb6(0x3e2),_0x55fae8=_0x5693ce+document[_0x128eb6(0xccc)](_0x128eb6(0x10e))[_0x128eb6(0x93e)]+_0x1f8b11,_0x3d9d56=_0x128eb6(0x74c)+encodeURIComponent(_0x55fae8),_0x248b55=document[_0x128eb6(0xd4f)]('a');document[_0x128eb6(0x95a)][_0x128eb6(0xb18)](_0x248b55),_0x248b55[_0x128eb6(0x3bc)]=_0x3d9d56,_0x248b55[_0x128eb6(0x2af)]=getResultsFilename()+_0x128eb6(0x11a),_0x248b55[_0x128eb6(0x343)](),document[_0x128eb6(0x95a)][_0x128eb6(0xd46)](_0x248b55);}function exportResultsAsExcel(){const _0x1a22fd=_0x157a22,_0x586cb7=document[_0x1a22fd(0xccc)]('results-table');let _0x183704=[];for(let _0x32dda4=0x0;_0x32dda4<_0x586cb7[_0x1a22fd(0x5b9)][_0x1a22fd(0x34a)];_0x32dda4++){let _0x4ade29=[],_0x361cc6=_0x586cb7[_0x1a22fd(0x5b9)][_0x32dda4][_0x1a22fd(0x5f0)](_0x1a22fd(0x65e));for(let _0xc5ef21=0x0;_0xc5ef21<_0x361cc6[_0x1a22fd(0x34a)];_0xc5ef21++){_0x4ade29[_0x1a22fd(0xde9)]('\x22'+_0x361cc6[_0xc5ef21][_0x1a22fd(0xdbb)][_0x1a22fd(0xb64)](/"/g,'\x22\x22')+'\x22');}_0x183704[_0x1a22fd(0xde9)](_0x4ade29['join'](','));}const _0x3e8ca3=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x183704['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x466a07=document[_0x1a22fd(0xd4f)]('a');_0x466a07[_0x1a22fd(0x3bc)]=URL[_0x1a22fd(0x3ab)](_0x3e8ca3),_0x466a07[_0x1a22fd(0x2af)]=getResultsFilename()+'.csv',_0x466a07['click']();}function exportTableAsImage(_0x12dc6a,_0x3dd7a0){const _0x4e4fd9=_0x157a22,_0xd38c13=document[_0x4e4fd9(0xccc)](_0x12dc6a),_0x359a7b=document[_0x4e4fd9(0xccc)]('results-quiz-title');if(!_0xd38c13){showMessage(_0x4e4fd9(0x26b));return;}showMessage(_0x4e4fd9(0x2db));const _0x176eed=document['createElement']('div');_0x176eed['style'][_0x4e4fd9(0x81a)]=_0x4e4fd9(0x742),_0x176eed[_0x4e4fd9(0xb74)][_0x4e4fd9(0xa6d)]='30px',_0x176eed['style'][_0x4e4fd9(0x507)]=_0x4e4fd9(0xabc),_0x176eed[_0x4e4fd9(0xb74)][_0x4e4fd9(0x3f7)]=_0x4e4fd9(0x4ed),_0x176eed[_0x4e4fd9(0xb74)][_0x4e4fd9(0xdc)]=_0x4e4fd9(0xbac),_0x176eed[_0x4e4fd9(0xb74)]['top']='0',_0x176eed['style']['zIndex']='-1';const _0x3cbb7f=document[_0x4e4fd9(0xd4f)]('h1');_0x3cbb7f[_0x4e4fd9(0xdbb)]=_0x359a7b?_0x359a7b[_0x4e4fd9(0xdbb)]:'รายงานผลคะแนน',_0x3cbb7f['style'][_0x4e4fd9(0x5ef)]=_0x4e4fd9(0x6ea),_0x3cbb7f[_0x4e4fd9(0xb74)][_0x4e4fd9(0x433)]=_0x4e4fd9(0x62e),_0x3cbb7f[_0x4e4fd9(0xb74)][_0x4e4fd9(0x20e)]=_0x4e4fd9(0x800),_0x3cbb7f[_0x4e4fd9(0xb74)][_0x4e4fd9(0x2cc)]='bold',_0x3cbb7f[_0x4e4fd9(0xb74)]['color']=_0x4e4fd9(0xa95),_0x3cbb7f[_0x4e4fd9(0xb74)]['marginBottom']=_0x4e4fd9(0xc88);const _0x2fe8a8=_0xd38c13[_0x4e4fd9(0x101)](!![]);_0x2fe8a8[_0x4e4fd9(0xb74)]['maxHeight']=_0x4e4fd9(0x80b),_0x2fe8a8[_0x4e4fd9(0xb74)]['overflow']=_0x4e4fd9(0xc3a);const _0x193bbe=_0x2fe8a8[_0x4e4fd9(0x5f0)]('th');let _0x36e407=-0x1;_0x193bbe['forEach']((_0x117123,_0x227a59)=>{const _0x105029=_0x4e4fd9;_0x117123[_0x105029(0xc76)][_0x105029(0x6b3)]()==='ผล'&&(_0x117123[_0x105029(0xb74)][_0x105029(0xaea)]=_0x105029(0x80b),_0x36e407=_0x227a59);});if(_0x36e407!==-0x1){const _0x25ff1f=_0x2fe8a8[_0x4e4fd9(0x5f0)]('tr');_0x25ff1f[_0x4e4fd9(0x8f9)](_0x3e8892=>{const _0x3c573c=_0x4e4fd9,_0x342503=_0x3e8892['querySelectorAll']('td');_0x342503[_0x3c573c(0x34a)]>_0x36e407&&(_0x342503[_0x36e407][_0x3c573c(0xb74)][_0x3c573c(0xaea)]=_0x3c573c(0x80b));});}_0x176eed[_0x4e4fd9(0xb18)](_0x3cbb7f),_0x176eed[_0x4e4fd9(0xb18)](_0x2fe8a8),document[_0x4e4fd9(0x95a)][_0x4e4fd9(0xb18)](_0x176eed),html2canvas(_0x176eed,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x4e4fd9(0x742)})[_0x4e4fd9(0x158)](_0x27ce94=>{const _0x2769d0=_0x4e4fd9,_0x4eff1f=document[_0x2769d0(0xd4f)]('a');_0x4eff1f[_0x2769d0(0x2af)]=_0x3dd7a0+'.png',_0x4eff1f[_0x2769d0(0x3bc)]=_0x27ce94[_0x2769d0(0xdf1)](_0x2769d0(0xd26)),_0x4eff1f[_0x2769d0(0x343)](),document[_0x2769d0(0x95a)][_0x2769d0(0xd46)](_0x176eed),messageModal[_0x2769d0(0x807)][_0x2769d0(0xcec)](_0x2769d0(0x9f0));})[_0x4e4fd9(0x43c)](_0x14b96b=>{const _0x51b6a2=_0x4e4fd9;console['error'](_0x51b6a2(0x12b),_0x14b96b),document[_0x51b6a2(0x95a)][_0x51b6a2(0xd46)](_0x176eed),showMessage(_0x51b6a2(0xcd7));});}function exportTableAsPDF(_0x4cd337,_0x43c53a){const _0x3c5cdd=_0x157a22,{jsPDF:_0x391791}=window[_0x3c5cdd(0x60f)],_0x1fca7a=new _0x391791();_0x1fca7a[_0x3c5cdd(0x953)](_0x3c5cdd(0x22c),_0x3c5cdd(0xc44)),_0x1fca7a[_0x3c5cdd(0xa7a)]({'html':'#'+_0x4cd337}),_0x1fca7a[_0x3c5cdd(0xa33)](_0x43c53a+_0x3c5cdd(0x46d));}function exportTableAsWord(_0x1d0a9d,_0x33dae3){const _0x5ea00c=_0x157a22,_0x73c456=document[_0x5ea00c(0xccc)](_0x1d0a9d);if(!_0x73c456){showMessage(_0x5ea00c(0x26b));return;}const _0x4fd605=_0x5ea00c(0x1bb)+_0x5ea00c(0x47d)+_0x5ea00c(0x15b)+_0x5ea00c(0x1be),_0x214953=_0x5ea00c(0x3e2),_0x8d7343=_0x4fd605+_0x73c456[_0x5ea00c(0x93e)]+_0x214953,_0x3fb643=_0x5ea00c(0x74c)+encodeURIComponent(_0x8d7343),_0xb63c11=document['createElement']('a');document['body'][_0x5ea00c(0xb18)](_0xb63c11),_0xb63c11['href']=_0x3fb643,_0xb63c11[_0x5ea00c(0x2af)]=_0x33dae3+_0x5ea00c(0x11a),_0xb63c11[_0x5ea00c(0x343)](),document[_0x5ea00c(0x95a)][_0x5ea00c(0xd46)](_0xb63c11);}function exportTableAsExcel(_0x4694db,_0x27c4bd){const _0x1d0ebd=_0x157a22,_0x35a820=document[_0x1d0ebd(0xccc)](_0x4694db);if(!_0x35a820){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x5ed242=[];for(let _0x21e3ec=0x0;_0x21e3ec<_0x35a820['rows'][_0x1d0ebd(0x34a)];_0x21e3ec++){let _0x436521=[],_0x50d733=_0x35a820['rows'][_0x21e3ec]['querySelectorAll'](_0x1d0ebd(0x65e));for(let _0x4f2e3f=0x0;_0x4f2e3f<_0x50d733[_0x1d0ebd(0x34a)];_0x4f2e3f++){_0x436521[_0x1d0ebd(0xde9)]('\x22'+_0x50d733[_0x4f2e3f][_0x1d0ebd(0xdbb)][_0x1d0ebd(0xb64)](/"/g,'\x22\x22')+'\x22');}_0x5ed242[_0x1d0ebd(0xde9)](_0x436521['join'](','));}const _0x4f24cd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5ed242[_0x1d0ebd(0x72e)]('\x0a')],{'type':_0x1d0ebd(0x3d2)}),_0x580955=document[_0x1d0ebd(0xd4f)]('a');_0x580955['href']=URL['createObjectURL'](_0x4f24cd),_0x580955[_0x1d0ebd(0x2af)]=_0x27c4bd+_0x1d0ebd(0xd55),_0x580955[_0x1d0ebd(0x343)]();}function renderAnalytics(_0x27ebfc,_0x38418d){const _0x442cbb=_0x157a22,_0x2e6adf=_0x38418d['filter'](_0x1bbce9=>_0x1bbce9[_0x442cbb(0x2d2)]!==undefined),_0x437d5b=currentProjectData['students']['length'],_0x4eb6f2=_0x2e6adf[_0x442cbb(0x34a)],_0x27ba83=_0x437d5b-_0x4eb6f2,_0x3fe5ad=_0x437d5b>0x0?_0x4eb6f2/_0x437d5b*0x64:0x0,_0x580ae7=_0x2e6adf[_0x442cbb(0x141)](_0xeb045d=>_0xeb045d[_0x442cbb(0x2d2)]),_0x2dea19=_0x580ae7[_0x442cbb(0x34a)]>0x0?_0x580ae7[_0x442cbb(0xc59)]((_0x41e0e1,_0x251f97)=>_0x41e0e1+_0x251f97,0x0)/_0x580ae7[_0x442cbb(0x34a)]:0x0,_0x2b7479=_0x27ebfc['questions'][_0x442cbb(0x34a)],_0x5851b5=_0x2b7479>0x0?_0x2dea19/_0x2b7479*0x64:0x0,_0x583f30=calculateItemAnalysis(_0x27ebfc,_0x2e6adf),_0x208932=calculateReliabilityKR20(_0x27ebfc,_0x2e6adf,_0x583f30[_0x442cbb(0xaf4)]);let _0x19e5bc='';if(_0x208932!==null){let _0x26ca21='';if(_0x208932>=0.9)_0x26ca21=_0x442cbb(0xced);else{if(_0x208932>=0.8)_0x26ca21=_0x442cbb(0x9d1);else{if(_0x208932>=0.7)_0x26ca21='ดี';else{if(_0x208932>=0.6)_0x26ca21=_0x442cbb(0xd9a);else _0x26ca21='ควรปรับปรุง';}}}_0x19e5bc=_0x442cbb(0xe61)+_0x208932[_0x442cbb(0xd2d)](0x2)+_0x442cbb(0xa54)+_0x26ca21+_0x442cbb(0x8f3);}const _0x87d9f3=document[_0x442cbb(0xccc)](_0x442cbb(0xbdc));_0x87d9f3[_0x442cbb(0x93e)]=_0x442cbb(0x388)+_0x3fe5ad[_0x442cbb(0xd2d)](0x0)+_0x442cbb(0x358)+_0x4eb6f2+'/'+_0x437d5b+_0x442cbb(0x68a)+_0x2dea19[_0x442cbb(0xd2d)](0x2)+_0x442cbb(0xa65)+_0x5851b5[_0x442cbb(0xd2d)](0x0)+_0x442cbb(0x9b2)+(_0x580ae7[_0x442cbb(0x34a)]>0x0?Math['max'](..._0x580ae7):_0x442cbb(0x156))+_0x442cbb(0x979)+(_0x580ae7[_0x442cbb(0x34a)]>0x0?Math[_0x442cbb(0x387)](..._0x580ae7):_0x442cbb(0x156))+_0x442cbb(0xdef)+_0x19e5bc+'\x0a\x20\x20\x20\x20';const _0x4ec0a3=document[_0x442cbb(0xccc)](_0x442cbb(0x777));_0x4ec0a3&&_0x4ec0a3[_0x442cbb(0x90e)]();const _0x25b483=_0x442cbb(0x1a3);_0x87d9f3[_0x442cbb(0x97f)](_0x442cbb(0x9d2),_0x25b483);const _0x392053=currentProjectData[_0x442cbb(0xb5a)]||[];renderSubmissionChart(_0x4eb6f2,_0x27ba83,_0x2e6adf,_0x392053),renderScoreDistributionChart(_0x2e6adf,_0x2b7479),renderQuestionAnalytics(_0x27ebfc,_0x2e6adf,_0x392053),renderInterestingStats(_0x27ebfc,_0x2e6adf);}async function handleExportLessonPDF(){const _0x2d5a86=_0x157a22,_0x426439=document['getElementById']('lesson-plan-content'),_0x3f3def=document[_0x2d5a86(0xccc)](_0x2d5a86(0xbbb))['textContent'],_0x1b9b59=window[_0x2d5a86(0xb0c)]('','_blank'),_0xfbd6b6=_0x2d5a86(0x7f0)+_0x3f3def+_0x2d5a86(0x59f)+_0x426439[_0x2d5a86(0x93e)]+_0x2d5a86(0x6a9);_0x1b9b59[_0x2d5a86(0x19d)][_0x2d5a86(0x8e6)](_0xfbd6b6),_0x1b9b59[_0x2d5a86(0x19d)]['close'](),_0x1b9b59[_0x2d5a86(0x96d)]=function(){setTimeout(()=>{_0x1b9b59['print']();},0x5dc);};}function renderInterestingStats(_0x17af08,_0x3a449e){const _0xf6b60d=_0x157a22,_0x45f7fa=document[_0xf6b60d(0xccc)](_0xf6b60d(0xc2b));if(!_0x45f7fa)return;if(_0x3a449e[_0xf6b60d(0x34a)]===0x0){_0x45f7fa[_0xf6b60d(0x93e)]=_0xf6b60d(0xc42);return;}const _0x50f1fd=_0x17af08[_0xf6b60d(0xdbf)][_0xf6b60d(0x141)]((_0x90083,_0x1e3a9a)=>({'index':_0x1e3a9a+0x1,'text':_0x90083[_0xf6b60d(0x885)]||_0x90083[_0xf6b60d(0x6a8)],'correct':0x0}));_0x3a449e['forEach'](_0x3b6b48=>{const _0x3be13a=_0xf6b60d,_0x1893b1=_0x3b6b48['attempts'][_0x3b6b48[_0x3be13a(0xbae)][_0x3be13a(0x34a)]-0x1];_0x1893b1&&_0x1893b1['answers']&&_0x1893b1['answers'][_0x3be13a(0x8f9)](_0x18eb4b=>{const _0x35aaec=_0x3be13a,_0x335597=_0x50f1fd[_0x35aaec(0x48e)](_0x1ae1ac=>_0x1ae1ac[_0x35aaec(0x84b)]===_0x18eb4b[_0x35aaec(0x354)]);_0x18eb4b[_0x35aaec(0xa04)]&&_0x335597&&_0x335597[_0x35aaec(0x52a)]++;});});const _0x50d4d6=_0x3a449e[_0xf6b60d(0x34a)],_0x3c6418=Math[_0xf6b60d(0xaa7)](..._0x50f1fd[_0xf6b60d(0x141)](_0x3c680f=>_0x3c680f[_0xf6b60d(0x52a)])),_0x327d2d=Math[_0xf6b60d(0x387)](..._0x50f1fd[_0xf6b60d(0x141)](_0x527026=>_0x527026['correct'])),_0x9a1907=_0x50f1fd[_0xf6b60d(0x512)](_0x4e222b=>_0x4e222b[_0xf6b60d(0x52a)]===_0x3c6418)[_0xf6b60d(0x141)](_0x57933b=>_0xf6b60d(0x753)+_0x57933b['index']),_0x40221f=_0x50f1fd[_0xf6b60d(0x512)](_0x1eba29=>_0x1eba29[_0xf6b60d(0x52a)]===_0x327d2d)[_0xf6b60d(0x141)](_0x5e7369=>_0xf6b60d(0x753)+_0x5e7369[_0xf6b60d(0x479)]),_0x2b0dd9=_0x3a449e['sort']((_0xa0d7b,_0x4cfa35)=>_0x4cfa35[_0xf6b60d(0x2d2)]-_0xa0d7b[_0xf6b60d(0x2d2)])[_0xf6b60d(0x512)]((_0x38571e,_0x2f41d7,_0x4510c9)=>_0x38571e['latestScore']===_0x4510c9[0x0][_0xf6b60d(0x2d2)]),_0x5f2014=_0x3a449e['sort']((_0x3a1833,_0x15beb5)=>_0x3a1833[_0xf6b60d(0x2d2)]-_0x15beb5[_0xf6b60d(0x2d2)])[_0xf6b60d(0x512)]((_0x274bc0,_0x356299,_0x16ef87)=>_0x274bc0['latestScore']===_0x16ef87[0x0]['latestScore']),_0x5b9ef0=_0xf6b60d(0x93f)+_0x9a1907[_0xf6b60d(0x72e)](',\x20')+_0xf6b60d(0x805)+_0x3c6418+'\x20/\x20'+_0x50d4d6+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x40221f[_0xf6b60d(0x72e)](',\x20')+_0xf6b60d(0x805)+(_0x50d4d6-_0x327d2d)+_0xf6b60d(0xc71)+_0x50d4d6+_0xf6b60d(0xd93)+_0x2b0dd9[_0xf6b60d(0x141)](_0x32a64e=>_0x32a64e[_0xf6b60d(0x894)])[_0xf6b60d(0x72e)](',\x20')+_0xf6b60d(0x4fb)+_0x2b0dd9[0x0]['latestScore']+_0xf6b60d(0xddb)+_0x5f2014[_0xf6b60d(0x141)](_0x3fd8e9=>_0x3fd8e9[_0xf6b60d(0x894)])[_0xf6b60d(0x72e)](',\x20')+_0xf6b60d(0x4fb)+_0x5f2014[0x0][_0xf6b60d(0x2d2)]+_0xf6b60d(0x5cb);_0x45f7fa['innerHTML']=_0x5b9ef0;}function renderSubmissionChart(_0x3583e9,_0x4f1ddc,_0x4d6ea7,_0x4761e6){const _0x5adfd6=_0x157a22,_0x46a0b2=document[_0x5adfd6(0xccc)](_0x5adfd6(0xb31))[_0x5adfd6(0xda2)]('2d'),_0x24120d=_0x4d6ea7[_0x5adfd6(0x141)](_0x5d36ff=>_0x5d36ff[_0x5adfd6(0x894)]),_0x14b7c4=_0x4761e6['filter'](_0x2b1db5=>!_0x24120d[_0x5adfd6(0x9e3)](_0x2b1db5));chartInstances['submission']&&chartInstances[_0x5adfd6(0x4a5)][_0x5adfd6(0x5e7)](),chartInstances['submission']=new Chart(_0x46a0b2,{'type':_0x5adfd6(0x175),'data':{'labels':[_0x5adfd6(0x18d),_0x5adfd6(0x839)],'datasets':[{'data':[_0x3583e9,_0x4f1ddc],'backgroundColor':[_0x5adfd6(0x58c),'#F59E0B'],'borderColor':[_0x5adfd6(0x742),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x4fb643){const _0x5bf1c3=_0x5adfd6;let _0x189b00=_0x4fb643['label']||'';return _0x189b00&&(_0x189b00+=':\x20'),_0x189b00+=_0x4fb643[_0x5bf1c3(0x3a5)],_0x189b00;},'afterLabel':function(_0x40f792){const _0x3c8696=_0x5adfd6;let _0x2e33d0;return _0x40f792[_0x3c8696(0x25f)]===0x0?_0x2e33d0=_0x24120d:_0x2e33d0=_0x14b7c4,_0x2e33d0[_0x3c8696(0x34a)]>0x0?_0x2e33d0[_0x3c8696(0x72e)]('\x0a'):_0x3c8696(0x17a);}}}}}});}function renderScoreDistributionChart(_0x17a025,_0x598a11){const _0x564882=_0x157a22,_0xba0c20=document[_0x564882(0xccc)](_0x564882(0x1a0))[_0x564882(0xda2)]('2d'),_0x3833a9={};for(let _0x413953=0x0;_0x413953<=_0x598a11;_0x413953++){_0x3833a9[_0x413953]=0x0;}_0x17a025['forEach'](_0x6f0622=>{const _0x24039a=_0x564882;_0x3833a9[_0x6f0622[_0x24039a(0x2d2)]]!==undefined&&_0x3833a9[_0x6f0622['latestScore']]++;}),chartInstances[_0x564882(0x5c3)]&&chartInstances[_0x564882(0x5c3)][_0x564882(0x5e7)](),chartInstances[_0x564882(0x5c3)]=new Chart(_0xba0c20,{'type':_0x564882(0x827),'data':{'labels':Object[_0x564882(0x69e)](_0x3833a9),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x564882(0x11b)](_0x3833a9),'backgroundColor':_0x564882(0x5bb),'borderColor':_0x564882(0xad6),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x564882(0xbd2)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x589f86){const _0x1e53f0=_0x564882,_0x35f663=_0x589f86[_0x1e53f0(0x4ee)],_0x109875=_0x17a025['filter'](_0x319be8=>_0x319be8[_0x1e53f0(0x2d2)]==_0x35f663)[_0x1e53f0(0x141)](_0x1290b5=>_0x1290b5['studentName']);return _0x109875['length']>0x0?_0x109875['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x55e10f,_0x136dd7,_0x2c3d49){const _0x3ac479=_0x157a22,_0x2abb47=document['getElementById'](_0x3ac479(0x997));if(_0x2c3d49[_0x3ac479(0x34a)]===0x0){_0x2abb47[_0x3ac479(0x93e)]=_0x3ac479(0x186);return;}const _0x2a2392=calculateItemAnalysis(_0x55e10f,_0x136dd7),_0x3f8f3f=calculateDistractorAnalysis(_0x55e10f,_0x136dd7);let _0x1c54dc='';_0x2a2392[_0x3ac479(0x31f)]&&(_0x1c54dc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x2a2392[_0x3ac479(0x31f)]['upperGroupNames']['length']+_0x3ac479(0x416)+_0x2a2392[_0x3ac479(0x31f)][_0x3ac479(0x92a)]['map'](_0x1f94d6=>_0x3ac479(0x440)+_0x1f94d6+_0x3ac479(0x5af))[_0x3ac479(0x72e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x2a2392[_0x3ac479(0x31f)][_0x3ac479(0xbba)][_0x3ac479(0x34a)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a2392[_0x3ac479(0x31f)][_0x3ac479(0xbba)]['map'](_0x365704=>_0x3ac479(0x440)+_0x365704+_0x3ac479(0x5af))[_0x3ac479(0x72e)]('')+_0x3ac479(0x71a));let _0x4f4052='';const _0x6f41b8=_0x136dd7[_0x3ac479(0x141)](_0x12f9b3=>_0x12f9b3[_0x3ac479(0x894)]),_0x36af67=_0x1463fc=>{const _0x5d3a3c=_0x3ac479;if(_0x1463fc>=0.8)return _0x5d3a3c(0xa87);if(_0x1463fc>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x1463fc>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x1463fc>=0.2)return _0x5d3a3c(0x363);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0xa3b939=_0x25724e=>{const _0x2fffa7=_0x3ac479;if(_0x25724e<0x0)return _0x2fffa7(0x4ef);if(_0x25724e>=0.4)return _0x2fffa7(0xe58);if(_0x25724e>=0.3)return _0x2fffa7(0x321);if(_0x25724e>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x2fffa7(0xa67);},_0x372cd5=_0x3ae55c=>{const _0x41b785=_0x3ac479,_0x782e09=_0x3ae55c[_0x41b785(0xd2d)](0x0);if(parseFloat(_0x782e09)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x782e09+'%</span>';if(_0x3ae55c>=0x32)return _0x41b785(0xe45)+_0x782e09+_0x41b785(0x44a);return _0x41b785(0x678)+_0x782e09+_0x41b785(0x44a);};_0x55e10f['questions'][_0x3ac479(0x8f9)]((_0x5c6abf,_0x4628d1)=>{const _0x1d6e16=_0x3ac479,_0x4743ba=_0x2a2392[_0x1d6e16(0xaf4)][_0x4628d1],_0x42748c=_0x3f8f3f[_0x4628d1],_0x3a2e52=_0x5c6abf['stem']||_0x5c6abf[_0x1d6e16(0x885)]||_0x5c6abf[_0x1d6e16(0xe86)];let _0x2ea65d=0x0;const _0x274e86=[],_0x3dbe87=[];_0x136dd7[_0x1d6e16(0x8f9)](_0x1a77a1=>{const _0x469cc0=_0x1d6e16,_0x372438=_0x1a77a1[_0x469cc0(0xbae)][_0x1a77a1['attempts'][_0x469cc0(0x34a)]-0x1];if(_0x372438&&_0x372438[_0x469cc0(0x534)]){const _0x13d42b=_0x372438['answers'][_0x469cc0(0x48e)](_0x382919=>_0x382919[_0x469cc0(0x354)]===_0x3a2e52)??_0x372438[_0x469cc0(0x534)][_0x4628d1]??null;_0x13d42b&&(_0x13d42b[_0x469cc0(0xa04)]?(_0x2ea65d++,_0x274e86[_0x469cc0(0xde9)](_0x1a77a1[_0x469cc0(0x894)])):_0x3dbe87[_0x469cc0(0xde9)](_0x1a77a1[_0x469cc0(0x894)]));}});const _0x10744d=_0x136dd7['length']>0x0?_0x2ea65d/_0x136dd7[_0x1d6e16(0x34a)]*0x64:0x0,_0x4c9215=_0x2c3d49[_0x1d6e16(0x512)](_0x455e50=>!_0x6f41b8['includes'](_0x455e50)),_0xdb7407=_0x4743ba?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x4743ba['p'][_0x1d6e16(0xd2d)](0x2)+_0x1d6e16(0x516)+_0x36af67(_0x4743ba['p'])+_0x1d6e16(0xfc)+_0x4743ba['r'][_0x1d6e16(0xd2d)](0x2)+_0x1d6e16(0x516)+_0xa3b939(_0x4743ba['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x372cd5(_0x10744d)+_0x1d6e16(0x316):'';let _0x18ad5c='';_0x42748c&&(_0x18ad5c=_0x1d6e16(0x280)+Object[_0x1d6e16(0x69e)](_0x42748c)[_0x1d6e16(0x141)](_0x3011cd=>{const _0x2ebbab=_0x1d6e16,_0x372267=_0x42748c[_0x3011cd],_0x294254=parseInt(_0x3011cd)===_0x5c6abf[_0x2ebbab(0x2bd)],_0x3e4bcd=!_0x294254&&_0x372267['lower_group_count']>_0x372267[_0x2ebbab(0x956)];return'<tr\x20class=\x22'+(_0x294254?_0x2ebbab(0x4d7):'')+_0x2ebbab(0x583)+(_0x294254?'✔\x20':'')+_0x372267[_0x2ebbab(0x84b)]+_0x2ebbab(0x150)+_0x372267['upper_group_count']+_0x2ebbab(0x150)+_0x372267[_0x2ebbab(0x258)]+'\x20'+(_0x3e4bcd?'👍':'')+_0x2ebbab(0x150)+_0x372267[_0x2ebbab(0x5f2)]+_0x2ebbab(0x80f);})[_0x1d6e16(0x72e)]('')+_0x1d6e16(0x84f));let _0x31a656='';_0x4743ba&&_0x4743ba[_0x1d6e16(0x155)]&&(_0x31a656=_0x1d6e16(0x53f)+_0x4743ba['upperGroupResponders'][_0x1d6e16(0x34a)]+_0x1d6e16(0x8ca)+_0x4743ba[_0x1d6e16(0x155)][_0x1d6e16(0x141)](_0x43ecdc=>'<li>'+(_0x43ecdc[_0x1d6e16(0xa04)]?_0x1d6e16(0x61a):_0x1d6e16(0x7da))+'\x20'+_0x43ecdc['name']+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x4743ba[_0x1d6e16(0x517)][_0x1d6e16(0x34a)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x4743ba[_0x1d6e16(0x517)]['map'](_0x14bb0e=>'<li>'+(_0x14bb0e[_0x1d6e16(0xa04)]?_0x1d6e16(0x61a):_0x1d6e16(0x7da))+'\x20'+_0x14bb0e[_0x1d6e16(0x190)]+_0x1d6e16(0x5af))[_0x1d6e16(0x72e)]('')+_0x1d6e16(0x638)),_0x4f4052+=_0x1d6e16(0x617)+(_0x4628d1+0x1)+':\x20'+_0x3a2e52+_0x1d6e16(0x16e)+_0xdb7407+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x3a2e52+_0x1d6e16(0x50b)+_0x2ea65d+_0x1d6e16(0xa5a)+_0x136dd7[_0x1d6e16(0x34a)]+_0x1d6e16(0x963)+_0x10744d[_0x1d6e16(0xd2d)](0x0)+_0x1d6e16(0xcf4)+_0x274e86['length']+_0x1d6e16(0x582)+(_0x274e86['length']>0x0?_0x274e86[_0x1d6e16(0x72e)](',\x20'):_0x1d6e16(0x17a))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x3dbe87[_0x1d6e16(0x34a)]+_0x1d6e16(0x582)+(_0x3dbe87[_0x1d6e16(0x34a)]>0x0?_0x3dbe87[_0x1d6e16(0x72e)](',\x20'):_0x1d6e16(0x17a))+_0x1d6e16(0xbd9)+_0x4c9215[_0x1d6e16(0x34a)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4c9215[_0x1d6e16(0x34a)]>0x0?_0x4c9215[_0x1d6e16(0x72e)](',\x20'):_0x1d6e16(0x17a))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18ad5c+_0x1d6e16(0xc4d)+_0x31a656+_0x1d6e16(0x173);}),_0x2abb47[_0x3ac479(0x93e)]=_0x1c54dc+_0x4f4052;try{window[_0x3ac479(0x5e4)]&&MathJax[_0x3ac479(0xd06)]&&MathJax[_0x3ac479(0xd06)]([_0x2abb47]);}catch(_0x1dcc79){console[_0x3ac479(0xada)]('MathJax\x20typeset\x20error\x20(analytics):',_0x1dcc79);}}function calculateDistractorAnalysis(_0x41146f,_0x34eb01){const _0xc96ae3=_0x157a22,_0x1755c0={};if(_0x34eb01[_0xc96ae3(0x34a)]<0x2)return _0x1755c0;const _0x41a706=[..._0x34eb01][_0xc96ae3(0x4b3)]((_0x3a9c65,_0x230d78)=>{const _0x461566=_0xc96ae3,_0x4bb998=_0x230d78[_0x461566(0x2d2)]-_0x3a9c65[_0x461566(0x2d2)];if(_0x4bb998!==0x0)return _0x4bb998;const _0x4d9802=_0x3a9c65[_0x461566(0xbae)]?.[_0x461566(0x34a)]||0x1,_0x154bd5=_0x230d78[_0x461566(0xbae)]?.[_0x461566(0x34a)]||0x1,_0x1418ea=_0x4d9802-_0x154bd5;if(_0x1418ea!==0x0)return _0x1418ea;const _0x27726d=new Date(_0x3a9c65[_0x461566(0x2b4)]),_0x2b25dd=new Date(_0x230d78[_0x461566(0x2b4)]),_0x356303=_0x27726d-_0x2b25dd;if(_0x356303!==0x0)return _0x356303;return _0x3a9c65[_0x461566(0x894)]['localeCompare'](_0x230d78[_0x461566(0x894)],'th');}),_0x37102f=_0x41a706[_0xc96ae3(0x34a)],_0x4e4b36=Math['max'](0x1,Math[_0xc96ae3(0xc3c)](_0x37102f*0.33)),_0x30b229=_0x41a706[_0xc96ae3(0xd3d)](0x0,_0x4e4b36),_0x11df40=_0x41a706[_0xc96ae3(0xd3d)](-_0x4e4b36);return _0x41146f[_0xc96ae3(0xdbf)][_0xc96ae3(0x8f9)]((_0x12e17b,_0x5d3656)=>{const _0x27d3d8=_0xc96ae3;if(_0x12e17b[_0x27d3d8(0x36c)]!==_0x27d3d8(0x75f)||!_0x12e17b['options'])return;const _0x6c3a6=_0x12e17b[_0x27d3d8(0x885)],_0x31b36a={};_0x12e17b[_0x27d3d8(0xaee)][_0x27d3d8(0x8f9)]((_0x5d3343,_0x1995d3)=>{_0x31b36a[_0x1995d3]={'text':_0x5d3343,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x41a706[_0x27d3d8(0x8f9)](_0x1bdd24=>{const _0x498509=_0x27d3d8,_0x588e9a=_0x1bdd24[_0x498509(0xbae)][_0x1bdd24[_0x498509(0xbae)][_0x498509(0x34a)]-0x1],_0x5b07a4=_0x588e9a[_0x498509(0x534)]['find'](_0x37ee22=>_0x37ee22[_0x498509(0x354)]===_0x6c3a6);if(_0x5b07a4&&_0x5b07a4[_0x498509(0x649)]!==null){const _0x156816=_0x12e17b[_0x498509(0xaee)][_0x498509(0xb42)](_0x3fa994=>_0x3fa994===_0x5b07a4['answerText']);_0x156816!==-0x1&&_0x31b36a[_0x156816]&&(_0x31b36a[_0x156816]['total']++,_0x30b229[_0x498509(0x9e3)](_0x1bdd24)&&_0x31b36a[_0x156816][_0x498509(0x956)]++,_0x11df40['includes'](_0x1bdd24)&&_0x31b36a[_0x156816][_0x498509(0x258)]++);}}),_0x1755c0[_0x5d3656]=_0x31b36a;}),_0x1755c0;}function calculateReliabilityKR20(_0x5e34c7,_0x4f0882,_0x35c53c){const _0x37adc6=_0x157a22,_0x58bc58=_0x5e34c7[_0x37adc6(0xdbf)]['length'];if(_0x58bc58<0x2||_0x4f0882['length']<0x2)return null;const _0x2378a7=_0x4f0882['map'](_0x15e6ec=>_0x15e6ec[_0x37adc6(0x2d2)]),_0x2424c3=_0x2378a7[_0x37adc6(0xc59)]((_0x1ccbd3,_0x43f8e1)=>_0x1ccbd3+_0x43f8e1,0x0)/_0x2378a7[_0x37adc6(0x34a)],_0x52eb60=_0x2378a7[_0x37adc6(0x141)](_0xd640db=>Math['pow'](_0xd640db-_0x2424c3,0x2))[_0x37adc6(0xc59)]((_0x3210f9,_0x2c0d4f)=>_0x3210f9+_0x2c0d4f,0x0)/_0x2378a7['length'];if(_0x52eb60===0x0)return null;let _0x5ca903=0x0;for(let _0x2cd034=0x0;_0x2cd034<_0x58bc58;_0x2cd034++){const _0x34fc37=_0x35c53c[_0x2cd034]?.['p'];if(_0x34fc37===undefined)continue;const _0xa6e8c7=0x1-_0x34fc37;_0x5ca903+=_0x34fc37*_0xa6e8c7;}if(_0x5ca903===0x0)return null;const _0x239f1e=_0x58bc58/(_0x58bc58-0x1)*(0x1-_0x5ca903/_0x52eb60);if(_0x239f1e>0x1)return null;return _0x239f1e;}async function handleAnalyzeClass(){const _0x1eab75=_0x157a22;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x4ade02=collection(db,_0x1eab75(0x331)+appId+_0x1eab75(0xe48)+currentQuizData['id']+_0x1eab75(0x3d6)),_0x10954d=await getDocs(_0x4ade02),_0x4628f9=_0x10954d[_0x1eab75(0xbe9)][_0x1eab75(0x141)](_0x3b85f4=>_0x3b85f4['data']());if(_0x4628f9['length']<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x29a3d9=document[_0x1eab75(0xccc)]('strength-weakness-analysis-container');_0x29a3d9[_0x1eab75(0x93e)]=_0x1eab75(0x126),document['getElementById'](_0x1eab75(0xe31))['disabled']=!![];const _0x2018ab=_0x4628f9[_0x1eab75(0x141)]((_0x3b7726,_0x43868c)=>{const _0x51d173=_0x1eab75,_0x2e2ddb=_0x3b7726[_0x51d173(0xbae)][_0x3b7726['attempts'][_0x51d173(0x34a)]-0x1];if(!_0x2e2ddb)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x43868c+0x1)+'\x20('+_0x3b7726[_0x51d173(0x894)]+_0x51d173(0x92b)+_0x2e2ddb[_0x51d173(0x5c3)]+'/'+_0x3b7726['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x51d173(0x5ad)](_0x2e2ddb[_0x51d173(0x534)])+_0x51d173(0xd81);})[_0x1eab75(0x72e)](_0x1eab75(0x907)),_0x2ead0a=_0x1eab75(0xd42)+currentQuizData[_0x1eab75(0xe36)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x1eab75(0x5ad)](currentQuizData[_0x1eab75(0xdbf)])+_0x1eab75(0x88c)+_0x2018ab+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0xe55def={'type':'OBJECT','properties':{'classStrengths':{'type':_0x1eab75(0x83a),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x1eab75(0x83a),'items':{'type':_0x1eab75(0x685)}},'teacherSuggestions':{'type':_0x1eab75(0x83a),'items':{'type':'STRING'}}},'required':[_0x1eab75(0x70f),'classWeaknesses',_0x1eab75(0x310)]};try{const _0x3654ec=await callAnalysisApi(_0x2ead0a,_0xe55def);displayClassAnalysis(_0x3654ec);}catch(_0x3c7e23){console[_0x1eab75(0xada)](_0x1eab75(0xb3f),_0x3c7e23),_0x29a3d9[_0x1eab75(0x93e)]=_0x1eab75(0xfd)+_0x3c7e23[_0x1eab75(0x267)]+_0x1eab75(0xaef);}finally{document[_0x1eab75(0xccc)]('analyze-strengths-btn')['disabled']=![];}}function displayClassAnalysis(_0x4eab67){const _0x3ce82c=_0x157a22,_0x1a4974=document['getElementById']('strength-weakness-analysis-container');if(!_0x4eab67){_0x1a4974[_0x3ce82c(0x93e)]=_0x3ce82c(0x245);return;}_0x1a4974['innerHTML']=_0x3ce82c(0xcdf)+_0x4eab67[_0x3ce82c(0x70f)][_0x3ce82c(0x141)](_0x11edb6=>_0x3ce82c(0x440)+_0x11edb6+_0x3ce82c(0x5af))[_0x3ce82c(0x72e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4eab67[_0x3ce82c(0x357)][_0x3ce82c(0x141)](_0x29e8a3=>_0x3ce82c(0x440)+_0x29e8a3+_0x3ce82c(0x5af))[_0x3ce82c(0x72e)]('')+_0x3ce82c(0x51b)+_0x4eab67[_0x3ce82c(0x310)][_0x3ce82c(0x141)](_0x5e1fa2=>'<li>'+_0x5e1fa2+_0x3ce82c(0x5af))[_0x3ce82c(0x72e)]('')+_0x3ce82c(0x6db);}function formatAndPrintWorksheet(_0x3b0e2d,_0x4151b0){const _0x3799c2=_0x157a22,_0x268346=_0x3799c2(0x677)+_0x3b0e2d[_0x3799c2(0xe36)]+_0x3799c2(0xe5a)+_0x3b0e2d[_0x3799c2(0xe36)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b0e2d[_0x3799c2(0xdbf)][_0x3799c2(0x141)]((_0x3af7f4,_0x3dfe3b)=>_0x3799c2(0x853)+(_0x3dfe3b+0x1)+'.\x20'+_0x3af7f4['questionText']+_0x3799c2(0x42c)+(_0x3af7f4[_0x3799c2(0x71e)]?_0x3799c2(0xd57)+_0x3af7f4[_0x3799c2(0x71e)]+_0x3799c2(0x6ae):'')+_0x3799c2(0x3c1))[_0x3799c2(0x72e)]('')+_0x3799c2(0x981);_0x4151b0['document'][_0x3799c2(0x8e6)](_0x268346),_0x4151b0[_0x3799c2(0x19d)][_0x3799c2(0x431)](),_0x4151b0['onload']=function(){setTimeout(()=>{const _0x579d20=_0x28ee;_0x4151b0[_0x579d20(0xe11)]();},0x3e8);};}async function generateWorksheet(){const _0x5eedde=_0x157a22,_0x1fb1e2=document[_0x5eedde(0xccc)]('worksheet-topic-input')[_0x5eedde(0xa9f)]['trim']();if(!_0x1fb1e2){showMessage(_0x5eedde(0x8d6));return;}const _0xa0858=document[_0x5eedde(0xccc)]('force-math-checkbox')[_0x5eedde(0x174)],_0x5afcb1=_0xa0858?'':'คณิตศาสตร์',_0x507008=window[_0x5eedde(0xb0c)]('',_0x5eedde(0xbc8));_0x507008[_0x5eedde(0x19d)][_0x5eedde(0x8e6)](_0x5eedde(0x519));const _0x49a8be=parseInt(document[_0x5eedde(0xccc)](_0x5eedde(0x28f))[_0x5eedde(0xa9f)]),_0x44f8d2=document[_0x5eedde(0xccc)](_0x5eedde(0xd7d))[_0x5eedde(0x174)],_0x4af280=_0x44f8d2?_0x5eedde(0x8c7):'',_0x4763eb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x5afcb1+_0x5eedde(0x136)+_0x49a8be+_0x5eedde(0x2c0)+_0x1fb1e2+_0x5eedde(0xd40)+_0x4af280+_0x5eedde(0x76f)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0xaff60f={'type':_0x5eedde(0xd8a),'properties':{'topic':{'type':_0x5eedde(0x685)},'questions':{'type':_0x5eedde(0x83a),'items':{'type':_0x5eedde(0xd8a),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5eedde(0x885)]}}},'required':[_0x5eedde(0xe36),'questions']};document['getElementById']('loader-text')[_0x5eedde(0xc76)]='',document[_0x5eedde(0xccc)]('loader')['classList'][_0x5eedde(0x90e)](_0x5eedde(0x9f0)),document[_0x5eedde(0xccc)](_0x5eedde(0xa8a))[_0x5eedde(0x807)][_0x5eedde(0x90e)]('hidden'),generateWorksheetBtn[_0x5eedde(0x7ef)]=!![];try{const _0x1be915=await callAnalysisApi(_0x4763eb,_0xaff60f);formatAndPrintWorksheet(_0x1be915,_0x507008);}catch(_0x2189d0){console[_0x5eedde(0xada)](_0x5eedde(0xc33),_0x2189d0);if(_0x507008)_0x507008[_0x5eedde(0x431)]();showMessage(_0x5eedde(0xc75));}finally{document['getElementById'](_0x5eedde(0xdf))[_0x5eedde(0x807)][_0x5eedde(0xcec)]('hidden'),document[_0x5eedde(0xccc)](_0x5eedde(0xa8a))['classList'][_0x5eedde(0xcec)](_0x5eedde(0x9f0)),generateWorksheetBtn[_0x5eedde(0x7ef)]=![];}}async function callAnalysisApi(_0x3d668d,_0x10e0d8){const _0x13de38=_0x157a22,_0x4030d2={'contents':[{'role':_0x13de38(0x752),'parts':[{'text':_0x3d668d}]}],'generationConfig':{'responseMimeType':_0x13de38(0x71f),'responseSchema':_0x10e0d8}},_0x49f0dd=_0x13de38(0x4ba),_0x3ae3e5=_0x13de38(0x184)+_0x49f0dd,_0x5c2e42=await fetch(_0x3ae3e5,{'method':_0x13de38(0x94a),'headers':{'Content-Type':_0x13de38(0x71f)},'body':JSON['stringify'](_0x4030d2)});if(!_0x5c2e42['ok'])throw new Error(_0x13de38(0x762)+_0x5c2e42[_0x13de38(0xab3)]);const _0x7f925d=await _0x5c2e42[_0x13de38(0x596)]();if(_0x7f925d[_0x13de38(0xe2)]?.[0x0]?.[_0x13de38(0xd32)]?.[_0x13de38(0x2de)]?.[0x0])return JSON[_0x13de38(0xcd5)](_0x7f925d[_0x13de38(0xe2)][0x0]['content']['parts'][0x0][_0x13de38(0x84b)]);else{let _0x5d4e12='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x7f925d[_0x13de38(0x999)]?.[_0x13de38(0xa3a)])_0x5d4e12=_0x13de38(0x3f8)+_0x7f925d['promptFeedback'][_0x13de38(0xa3a)]+'.';else _0x7f925d[_0x13de38(0xe2)]?.[0x0]?.['finishReason']&&_0x7f925d[_0x13de38(0xe2)][0x0][_0x13de38(0x1e8)]!==_0x13de38(0x780)&&(_0x5d4e12=_0x13de38(0x271)+_0x7f925d[_0x13de38(0xe2)][0x0]['finishReason']+'.');console['error'](_0x5d4e12,JSON['stringify'](_0x7f925d));throw new Error(_0x5d4e12);}}async function handleStartSyncMode(_0x13e9bd,_0x113189=![],_0x1b6520='classic'){const _0x184d5e=_0x157a22,_0x366c0f=allQuizzes[_0x184d5e(0x48e)](_0x471d57=>_0x471d57['id']===_0x13e9bd)||allQuizzesGlobal[_0x184d5e(0x48e)](_0x198429=>_0x198429['id']===_0x13e9bd);if(!_0x366c0f){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x366c0f);const _0xfb11a4=Math[_0x184d5e(0xc3c)](0x3e8+Math[_0x184d5e(0x373)]()*0x2328)['toString'](),_0x5cf639=doc(db,_0x184d5e(0x331)+appId+_0x184d5e(0x21d),_0x366c0f[_0x184d5e(0x737)]),_0x319bb3=await getDoc(_0x5cf639);if(!_0x319bb3[_0x184d5e(0xc43)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x121bed=_0x319bb3[_0x184d5e(0xd60)]()[_0x184d5e(0xb5a)]||[],_0x333a08={};if(_0x1b6520===_0x184d5e(0x114)||_0x1b6520===_0x184d5e(0x96b)){const _0x23d411=[...ANONYMOUS_NAMES][_0x184d5e(0x4b3)](()=>0.5-Math[_0x184d5e(0x373)]());_0x121bed[_0x184d5e(0x8f9)]((_0x41d0d4,_0x11ae56)=>{_0x333a08[_0x41d0d4]=_0x23d411[_0x11ae56]||'ผู้เล่น\x20'+(_0x11ae56+0x1);});}const _0x1228e3=document['getElementById'](_0x184d5e(0x21a))[_0x184d5e(0x174)],_0xa2168b=parseInt(document[_0x184d5e(0xccc)](_0x184d5e(0x7e0))[_0x184d5e(0xa9f)],0xa);let _0x4b9963={'timerMode':_0x184d5e(0x80b),'timerDuration':0x0};_0x1228e3&&(_0x4b9963[_0x184d5e(0x6bc)]=_0x184d5e(0xc47),_0x4b9963[_0x184d5e(0x37a)]=_0xa2168b||0xf0);const _0x3fb6ed=document[_0x184d5e(0xccc)]('anon-show-answer-toggle')[_0x184d5e(0x174)],_0x42741d=document[_0x184d5e(0xccc)](_0x184d5e(0xa91))[_0x184d5e(0x174)];try{const _0x2326d0=await addDoc(collection(db,_0x184d5e(0x331)+appId+_0x184d5e(0x334)),{'quizId':_0x366c0f['id'],'pin':_0xfb11a4,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x113189,'players':{},'gameVariant':_0x1b6520,'reviewQuestionIndex':0x0,'playerNicknames':_0x333a08,'isAnonymousRevealed':![],..._0x4b9963,'showAnswerInAnonymous':_0x3fb6ed,'isBlackMarketEnabled':_0x42741d,'showSlowResponders':!![],'slowResponderCount':0x3});currentLiveGameId=_0x2326d0['id'],showView(_0x184d5e(0xd43)),renderSyncLobbyView(_0xfb11a4,_0x366c0f[_0x184d5e(0xe36)]),listenForSyncGameUpdates();const _0x3001e8={'gameId':currentLiveGameId,'mode':_0x184d5e(0xd2a),'role':_0x184d5e(0x140)};sessionStorage['setItem'](_0x184d5e(0xbc0),JSON[_0x184d5e(0x5ad)](_0x3001e8));}catch(_0x4e54a6){console[_0x184d5e(0xada)](_0x184d5e(0x929),_0x4e54a6),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x39e578){const _0xba3e2d=_0x157a22;if(!_0x39e578||!_0x39e578[_0xba3e2d(0x937)]||!_0x39e578[_0xba3e2d(0xded)])return _0x39e578[_0xba3e2d(0xded)]||{};const _0x4e73be=_0x39e578['shuffledQuiz'][_0xba3e2d(0xdbf)][_0xba3e2d(0x34a)],_0x5050a0=JSON[_0xba3e2d(0xcd5)](JSON[_0xba3e2d(0x5ad)](_0x39e578[_0xba3e2d(0xded)]));return Object[_0xba3e2d(0x11b)](_0x5050a0)[_0xba3e2d(0x8f9)](_0x43aaa1=>{const _0x1c8bb4=_0xba3e2d,_0x3e087b=_0x43aaa1['score']||0x0,_0x4ee264=_0x43aaa1[_0x1c8bb4(0xaa6)]||0x0;_0x4e73be>0x0&&_0x3e087b===_0x4e73be?_0x43aaa1[_0x1c8bb4(0x80c)]=!![]:_0x43aaa1[_0x1c8bb4(0x80c)]=![],_0x43aaa1['realScore']=_0x3e087b,_0x43aaa1['totalPoints']=_0x4ee264;}),_0x5050a0;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x235295=_0x157a22;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x44b042=doc(db,'artifacts/'+appId+_0x235295(0x334),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x44b042,_0xe0d6af=>{const _0x109bfc=_0x235295;if(!_0xe0d6af[_0x109bfc(0xc43)]()){sessionStorage[_0x109bfc(0x545)](_0x109bfc(0xbc0)),showMessage(_0x109bfc(0xb5f));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x109bfc(0x140)?showView(_0x109bfc(0xd48)):showView(_0x109bfc(0x213));return;}cachedGameData=_0xe0d6af[_0x109bfc(0xd60)](),cachedGameData[_0x109bfc(0x937)]&&(currentQuizData=cachedGameData[_0x109bfc(0x937)]),syncDataAndRender();});const _0x8e197d=collection(db,_0x235295(0x331)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players');if(currentMode===_0x235295(0x140))unsubscribePlayersCollectionListener=onSnapshot(_0x8e197d,_0x1aa602=>{_0x1aa602['docChanges']()['forEach'](_0x5dfa24=>{const _0x565277=_0x28ee;if(_0x5dfa24[_0x565277(0xd10)]===_0x565277(0x2e8)||_0x5dfa24[_0x565277(0xd10)]===_0x565277(0xe1b))cachedPlayerData[_0x5dfa24[_0x565277(0x64a)]['id']]=_0x5dfa24['doc'][_0x565277(0xd60)]();else _0x5dfa24[_0x565277(0xd10)]==='removed'&&delete cachedPlayerData[_0x5dfa24[_0x565277(0x64a)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x235295(0x34a)]>0x0){const _0x1994a2=query(_0x8e197d,where(_0x235295(0x190),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x1994a2,_0x41bf18=>{const _0x3e1e84=_0x235295;_0x41bf18[_0x3e1e84(0xa08)]()[_0x3e1e84(0x8f9)](_0x360c94=>{const _0x2dcb71=_0x3e1e84;(_0x360c94[_0x2dcb71(0xd10)]===_0x2dcb71(0x2e8)||_0x360c94[_0x2dcb71(0xd10)]==='modified')&&(cachedPlayerData[_0x360c94[_0x2dcb71(0x64a)]['id']]=_0x360c94[_0x2dcb71(0x64a)][_0x2dcb71(0xd60)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x9b9e4f=_0x157a22;if(!cachedGameData)return;const _0x218153={},_0x580cec=cachedGameData[_0x9b9e4f(0x8cb)];Object['keys'](cachedPlayerData)['forEach'](_0x42b8c2=>{const _0x57087a=_0x9b9e4f,_0x36e3a=cachedPlayerData[_0x42b8c2],_0x50dbc6=_0x36e3a[_0x57087a(0x534)]&&_0x36e3a[_0x57087a(0x534)][_0x57087a(0x5d1)](_0x244ff5=>_0x244ff5[_0x57087a(0xb87)]===_0x580cec);_0x218153[_0x42b8c2]={..._0x36e3a,'answered':_0x50dbc6};});const _0xd03675={...cachedGameData,'players':_0x218153};currentMode===_0x9b9e4f(0x140)?updateAdminSyncView(_0xd03675):updateStudentSyncView(_0xd03675);}function renderSyncLobbyView(_0x5b207d,_0x3dcc42){const _0x5e030b=_0x157a22;liveGameView['innerHTML']=_0x5e030b(0xdfc)+_0x3dcc42+_0x5e030b(0x5a4)+_0x5b207d+_0x5e030b(0xa11);const _0x1116e6=document[_0x5e030b(0xccc)](_0x5e030b(0x22a)),_0x83de61=document['getElementById'](_0x5e030b(0x667));_0x1116e6[_0x5e030b(0x7d6)](_0x5e030b(0x1b7),()=>{const _0x1aba09=_0x5e030b;_0x83de61[_0x1aba09(0xb74)][_0x1aba09(0xaea)]=_0x1116e6[_0x1aba09(0x174)]?_0x1aba09(0xad2):'none';}),document['getElementById']('start-sync-game-btn')[_0x5e030b(0x7d6)](_0x5e030b(0x343),async()=>{const _0x173bda=_0x5e030b,_0x4804b0=doc(db,_0x173bda(0x331)+appId+_0x173bda(0x334),currentLiveGameId),_0x30d238=document[_0x173bda(0xccc)](_0x173bda(0x22a))['checked'];await updateDoc(_0x4804b0,{'status':_0x173bda(0x4c0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x30d238});});}function updateAdminSyncView(_0x301c64){const _0x33254f=_0x157a22;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x301c64['status']){case _0x33254f(0x70a):renderSyncLobbyView(_0x301c64[_0x33254f(0xe12)],_0x301c64[_0x33254f(0x937)][_0x33254f(0xe36)]);const _0x40e5cc=Object[_0x33254f(0xbd3)](_0x301c64[_0x33254f(0xded)]||{})['filter'](([_0x27109f,_0xcc5c4b])=>_0xcc5c4b[_0x33254f(0xab3)]!=='inactive');document[_0x33254f(0xccc)]('player-count')['textContent']=_0x40e5cc[_0x33254f(0x34a)],document[_0x33254f(0xccc)]('player-list-lobby')[_0x33254f(0x93e)]=_0x40e5cc[_0x33254f(0x141)](([_0x4e9000,_0x1fe456])=>_0x33254f(0x473)+_0x4e9000+_0x33254f(0x45e)+_0x4e9000+_0x33254f(0x260))['join']('')||_0x33254f(0x134),document[_0x33254f(0xccc)]('start-sync-game-btn')[_0x33254f(0x7ef)]=_0x40e5cc['length']===0x0;break;case _0x33254f(0x4c0):const _0x1eea3d=Object['values'](_0x301c64[_0x33254f(0xded)]||{})[_0x33254f(0x512)](_0x4477fe=>_0x4477fe[_0x33254f(0xab3)]!==_0x33254f(0x6e5)),_0x303cec=_0x1eea3d['filter'](_0x214db=>_0x214db[_0x33254f(0x6ff)]===!![]||_0x214db[_0x33254f(0x4c4)]===!![]),_0x5a6252=_0x1eea3d['filter'](_0x4c716f=>!_0x4c716f[_0x33254f(0x6ff)]&&!_0x4c716f['answeredCurrentQuestion']),_0xdd9f27=_0x303cec[_0x33254f(0x34a)],_0x5e2713=_0x5a6252[_0x33254f(0x34a)],_0x3e040d=_0x1eea3d[_0x33254f(0x34a)],_0xa0638c=_0xdd9f27===_0x3e040d&&_0x3e040d>0x0;if(_0xa0638c&&_0x301c64['status']===_0x33254f(0x4c0)){const _0x46879d=doc(db,_0x33254f(0x331)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x46879d,{'status':_0x33254f(0xa3b)});return;}if(document['getElementById'](_0x33254f(0x31a))===null)renderAdminSyncQuestionView(_0x301c64);else{const _0x4187e1=document[_0x33254f(0xccc)](_0x33254f(0x180));_0x4187e1&&(_0x4187e1['textContent']=_0xdd9f27+'/'+_0x3e040d);const _0x130833=document[_0x33254f(0xccc)](_0x33254f(0x78a));if(_0x130833)_0x130833[_0x33254f(0x7ef)]=!_0xa0638c;const _0x18c9d8=document[_0x33254f(0xccc)]('sync-player-list');_0x18c9d8&&(_0x18c9d8[_0x33254f(0x93e)]=_0x1eea3d[_0x33254f(0x141)](_0x17585d=>{const _0x529058=_0x33254f,_0x263786=_0x17585d['answered']===!![]||_0x17585d[_0x529058(0x4c4)]===!![],_0x7c391c=_0x263786?_0x529058(0x237):_0x529058(0x40c),_0x56eece=_0x263786?_0x529058(0x5dd):_0x529058(0xc53);return _0x529058(0x7a4)+_0x7c391c+'\x20border\x20border-white/10\x20shadow-sm\x22>'+_0x56eece+_0x529058(0x5b3)+_0x17585d[_0x529058(0x190)]+_0x529058(0x32f)+_0x17585d[_0x529058(0x190)]+_0x529058(0x181);})[_0x33254f(0x72e)](''));const _0x2db61b=document[_0x33254f(0xccc)](_0x33254f(0x7c6)),_0x5cb523=document['getElementById']('manage-waiting-players');if(_0x2db61b)_0x2db61b[_0x33254f(0xc76)]=_0x3e040d;if(_0x5cb523)_0x5cb523[_0x33254f(0xc76)]=_0x5e2713;const _0x50635e=_0x301c64[_0x33254f(0x2a6)]!==![],_0x1830e0=parseInt(_0x301c64[_0x33254f(0x3b2)]||0x3,0xa),_0x369982=document[_0x33254f(0xccc)](_0x33254f(0x197));if(_0x369982){if(_0x50635e&&_0x5e2713>0x0&&_0x5e2713<=_0x1830e0&&_0x3e040d>_0x5e2713){const _0x36e2fc=_0x5a6252['map'](_0x285b60=>_0x285b60[_0x33254f(0x190)])['join'](',\x20');_0x369982[_0x33254f(0x93e)]=_0x33254f(0x8e3)+_0x5e2713+_0x33254f(0xcb0)+_0x36e2fc+_0x33254f(0xa78);}else _0x369982['innerHTML']='';}}const _0x4381e6=_0x301c64[_0x33254f(0x6bc)]===_0x33254f(0xc47)&&_0x301c64['questionDisplayedAt'];if(_0x4381e6){const _0x3de240=_0x301c64[_0x33254f(0x78f)][_0x33254f(0xb9a)]()[_0x33254f(0xaec)](),_0x1575dd=_0x301c64[_0x33254f(0x37a)]*0x3e8,_0x2e9dde=_0x3de240+_0x1575dd,_0x1f5fad=document[_0x33254f(0xccc)](_0x33254f(0xe97)),_0x5d4752=document[_0x33254f(0xccc)](_0x33254f(0xa19));syncQuestionTimerInterval=setInterval(()=>{const _0x415911=_0x33254f,_0x3e582f=Date[_0x415911(0x338)](),_0x519bfc=_0x1eea3d[_0x415911(0x34a)]>0x0&&_0x1eea3d[_0x415911(0x8a5)](_0x3b5dea=>{const _0x5587d5=_0x415911;if(_0x3b5dea[_0x5587d5(0x6ff)])return!![];const _0x46a6ab=_0x3b5dea[_0x5587d5(0xae4)]||0x0;return _0x3e582f>=_0x3de240+_0x1575dd+_0x46a6ab;});if(_0x519bfc){clearInterval(syncQuestionTimerInterval);const _0x18adff=doc(db,_0x415911(0x331)+appId+_0x415911(0x334),currentLiveGameId);updateDoc(_0x18adff,{'status':_0x415911(0xa3b)});return;}const _0x2a1426=_0x2e9dde-_0x3e582f;if(_0x2a1426<=0x0){if(_0x1f5fad)_0x1f5fad[_0x415911(0xb74)][_0x415911(0x507)]='0%';if(_0x5d4752)_0x5d4752['textContent']=_0x415911(0xe1e);}else{if(_0x1f5fad&&_0x5d4752){const _0x46e54d=_0x2a1426/_0x1575dd*0x64;_0x1f5fad['style'][_0x415911(0x507)]=_0x46e54d+'%',_0x5d4752[_0x415911(0xc76)]=Math['ceil'](_0x2a1426/0x3e8);}}},0x1f4);}break;case'summary':const _0x1574e3=_0x301c64['currentQuestionIndex'],_0x10b3c1=_0x301c64[_0x33254f(0x937)][_0x33254f(0xdbf)][_0x1574e3];renderSyncSummaryView(_0x301c64,_0x10b3c1,!![]);break;case _0x33254f(0xaca):const _0x1a4d70=_0x301c64[_0x33254f(0xd21)]||'classic';_0x1a4d70==='reveal_at_end'||_0x1a4d70===_0x33254f(0x96b)?renderAdminSyncDashboard(_0x301c64,!![],_0x301c64['reviewQuestionIndex']):(_0x301c64[_0x33254f(0xab3)]===_0x33254f(0xaca)&&!_0x301c64[_0x33254f(0x44c)]&&((async()=>{const _0x589e75=_0x33254f;try{const _0x334164=doc(db,_0x589e75(0x331)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x334164,{'scoresCalculated':!![]});const _0x7648ee=cachedPlayerData||{},_0xc0d1bc=_0x301c64[_0x589e75(0x937)]['questions'][_0x589e75(0x34a)],_0x165f9a=_0x301c64[_0x589e75(0x8cb)],_0x4b9aea=writeBatch(db);let _0x2141f5=0x0;const _0xf9f424=[];Object['entries'](_0x7648ee)[_0x589e75(0x8f9)](([_0x2acec3,_0x190021])=>{const _0x1cfa83=_0x589e75;if(_0x190021['status']!==_0x1cfa83(0x6e5)){const _0x265613=(_0x190021[_0x1cfa83(0x534)]||[])['find'](_0x461930=>_0x461930[_0x1cfa83(0xb87)]===_0x165f9a);if(_0x265613&&_0x265613[_0x1cfa83(0x561)]==='wagerMultiplier'){const _0x271aea=_0x265613[_0x1cfa83(0xa0c)]||0x0;_0x265613[_0x1cfa83(0xa04)]?_0xf9f424[_0x1cfa83(0xde9)](_0x2acec3):_0x2141f5+=_0x271aea;}}});const _0x139385=_0x301c64[_0x589e75(0x842)]||0x0,_0x24eb26=_0x139385+_0x2141f5;let _0x3a5377=0x0,_0xd95031=_0x24eb26;_0xf9f424[_0x589e75(0x34a)]>0x0&&_0x24eb26>0x0&&(_0x3a5377=Math[_0x589e75(0xc3c)](_0x24eb26/_0xf9f424[_0x589e75(0x34a)]),_0xd95031=_0x24eb26%_0xf9f424[_0x589e75(0x34a)]);const _0x593659=[];Object['values'](_0x7648ee)[_0x589e75(0x8f9)](_0x14d894=>{const _0x5b7aaf=_0x589e75;if(_0x14d894[_0x5b7aaf(0xab3)]!==_0x5b7aaf(0x6e5)){const _0x21bc57=_0x14d894['name'],_0x182caf=doc(db,_0x5b7aaf(0x331)+appId+_0x5b7aaf(0x309)+currentLiveGameId+_0x5b7aaf(0x9f4),_0x21bc57),_0x2cf0d4=(_0x14d894[_0x5b7aaf(0x534)]||[])[_0x5b7aaf(0x48e)](_0xa387d3=>_0xa387d3['questionIndex']===_0x165f9a);let _0x28bdf9=0x0,_0x3f6fe8=_0x14d894['answers'],_0x316308=_0x14d894[_0x5b7aaf(0x55b)];!_0x2cf0d4&&(_0x316308=0x0);_0xf9f424[_0x5b7aaf(0x9e3)](_0x21bc57)&&_0x3a5377>0x0&&(_0x28bdf9=_0x3a5377,_0x3f6fe8=(_0x14d894[_0x5b7aaf(0x534)]||[])[_0x5b7aaf(0x141)](_0xad847=>{const _0x52121d=_0x5b7aaf;if(_0xad847[_0x52121d(0xb87)]===_0x165f9a)return{..._0xad847,'potBonus':_0x3a5377};return _0xad847;}),_0x4b9aea[_0x5b7aaf(0x8bf)](_0x182caf,{'answers':_0x3f6fe8}));const _0x182e08=_0x14d894['score']||0x0;let _0x51366c=_0x14d894[_0x5b7aaf(0xaa6)]||0x0;_0x51366c+=_0x28bdf9,_0xc0d1bc>0x0&&_0x182e08===_0xc0d1bc&&(_0x51366c+=0x1),_0x4b9aea[_0x5b7aaf(0x8bf)](_0x182caf,{'score':_0x182e08,'totalPoints':_0x51366c,'pointsLastRound':_0x51366c,'correctStreak':_0x316308}),_0x593659[_0x5b7aaf(0xde9)]({..._0x14d894,'score':_0x182e08,'totalPoints':_0x51366c,'pointsLastRound':_0x51366c,'answers':_0x3f6fe8,'correctStreak':_0x316308});}}),_0x4b9aea[_0x589e75(0x8bf)](_0x334164,{'centralPot':_0xd95031,'publicLeaderboard':_0x593659}),await _0x4b9aea[_0x589e75(0x34c)](),console[_0x589e75(0x700)](_0x589e75(0x986));}catch(_0x50fbda){console[_0x589e75(0xada)](_0x589e75(0x1b6),_0x50fbda);}})()),renderAdminSyncDashboard(_0x301c64,!![],_0x301c64['currentQuestionIndex']));break;case'podium':const _0x489a3a=Object[_0x33254f(0x69e)](_0x301c64[_0x33254f(0xded)]||{})[_0x33254f(0x34a)]>0x0,_0x47f135=_0x301c64['resultsSaved']===!![],_0x24d83e=_0x301c64['shouldSaveResults']===!![];_0x24d83e&&!_0x47f135&&_0x489a3a&&(console['log']('Detecting\x20unsaved\x20game\x20upon\x20resume...\x20Saving\x20now.'),saveGameResultsAsSubmissions(_0x301c64));sessionStorage['removeItem'](_0x33254f(0xbc0));const _0x32609d=calculateFinalPodiumScores(_0x301c64);showPodiumView(_0x32609d,_0x33254f(0xd2a),_0x301c64);break;}}function renderAdminSyncQuestionView(_0x3e6b90){const _0x103fd4=_0x157a22,_0x5100d0=_0x3e6b90['currentQuestionIndex'],_0x50cf5b=_0x3e6b90[_0x103fd4(0x937)]['questions'][_0x5100d0],_0x4808d4=_0x3e6b90[_0x103fd4(0x937)]['questions'][_0x103fd4(0x34a)],_0x5d7cfc=Object[_0x103fd4(0x11b)](_0x3e6b90[_0x103fd4(0xded)]||{})[_0x103fd4(0x512)](_0x1075f2=>_0x1075f2[_0x103fd4(0xab3)]!==_0x103fd4(0x6e5)),_0x2c3662=_0x5d7cfc[_0x103fd4(0x512)](_0x3652db=>_0x3652db[_0x103fd4(0x6ff)]===!![]||_0x3652db[_0x103fd4(0x4c4)]===!![]),_0x3777fd=_0x5d7cfc[_0x103fd4(0x512)](_0x55d54d=>!_0x55d54d[_0x103fd4(0x6ff)]&&!_0x55d54d[_0x103fd4(0x4c4)]),_0x588d1f=_0x2c3662[_0x103fd4(0x34a)],_0x28458d=_0x5d7cfc[_0x103fd4(0x34a)],_0xbaaf19=_0x3777fd[_0x103fd4(0x34a)],_0x4db3eb=_0x588d1f===_0x28458d&&_0x28458d>0x0,_0x406c3b=_0x3e6b90[_0x103fd4(0x2a6)]!==![],_0x20366e=parseInt(_0x3e6b90[_0x103fd4(0x3b2)]||0x3,0xa),_0x46521a=getCentralPotHTML(_0x3e6b90),_0x394936=_0x50cf5b[_0x103fd4(0x36c)]||_0x3e6b90[_0x103fd4(0x937)][_0x103fd4(0x7fc)];let _0x502bea='';(_0x394936==='short_answer'||_0x394936===_0x103fd4(0xdf0))&&_0x50cf5b[_0x103fd4(0xaee)]&&_0x50cf5b[_0x103fd4(0xaee)][_0x103fd4(0x34a)]>0x0?_0x502bea=_0x103fd4(0x4f2):_0x502bea=(_0x50cf5b[_0x103fd4(0xaee)]||[])['map'](_0x2916ce=>_0x103fd4(0xc40)+_0x2916ce+_0x103fd4(0x6ae))['join']('');let _0x4d35eb='';_0x3e6b90[_0x103fd4(0x6bc)]===_0x103fd4(0xc47)&&(_0x4d35eb=_0x103fd4(0xdb5)+_0x3e6b90['timerDuration']+'</span>\x20วินาที</p></div>');const _0x456ad3=_0x5d7cfc['map'](_0x1f055b=>{const _0x9b348c=_0x103fd4,_0x463a7d=_0x1f055b[_0x9b348c(0x6ff)]===!![]||_0x1f055b[_0x9b348c(0x4c4)]===!![],_0x38b1d7=_0x463a7d?'bg-green-500':'bg-gray-600',_0x3479ea=_0x463a7d?_0x9b348c(0x5dd):_0x9b348c(0xc53);return _0x9b348c(0x7a4)+_0x38b1d7+_0x9b348c(0x6ef)+_0x3479ea+_0x9b348c(0x5b3)+_0x1f055b[_0x9b348c(0x190)]+'</span><button\x20data-player-name=\x22'+_0x1f055b[_0x9b348c(0x190)]+_0x9b348c(0x181);})[_0x103fd4(0x72e)]('');let _0x4de569='';if(_0x406c3b&&_0xbaaf19>0x0&&_0xbaaf19<=_0x20366e&&_0x28458d>_0xbaaf19){const _0x321b4b=_0x3777fd[_0x103fd4(0x141)](_0x4a2412=>_0x4a2412['name'])[_0x103fd4(0x72e)](',\x20');_0x4de569='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x20fade-in\x22\x20id=\x22slow-responder-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-3\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-bold\x20mb-1\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x22></i>\x20<span>รออีก\x20'+_0xbaaf19+'\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20font-extrabold\x20text-yellow-300\x20drop-shadow-md\x22>'+_0x321b4b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x4de569='<div\x20id=\x22slow-responder-container\x22\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x22></div>';liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x5100d0+0x1)+_0x103fd4(0xc71)+_0x4808d4+_0x103fd4(0xe9)+_0x3e6b90['pin']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46521a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x588d1f+'/'+_0x28458d+_0x103fd4(0xa98)+(_0x406c3b?_0x103fd4(0x174):'')+_0x103fd4(0x8b5)+_0x20366e+_0x103fd4(0xcc1)+Math['max'](0x1,_0x28458d-0x1)+_0x103fd4(0x2d8)+_0x456ad3+_0x103fd4(0x3bb)+_0x4d35eb+_0x103fd4(0x8d9)+(_0x50cf5b[_0x103fd4(0x885)]||_0x50cf5b[_0x103fd4(0x6a8)])+_0x103fd4(0x460)+_0x502bea+_0x103fd4(0xcfa)+_0x4de569+_0x103fd4(0x6eb)+(!_0x4db3eb?_0x103fd4(0x7ef):'')+_0x103fd4(0x44b);if(window[_0x103fd4(0x5e4)])MathJax['typesetPromise']();const _0x2a994b=doc(db,'artifacts/'+appId+_0x103fd4(0x334),currentLiveGameId);document[_0x103fd4(0xccc)](_0x103fd4(0x78a))['addEventListener'](_0x103fd4(0x343),async()=>{const _0x1b642a=_0x103fd4;await updateDoc(_0x2a994b,{'status':_0x1b642a(0xa3b)});}),document[_0x103fd4(0xccc)]('open-sync-scratchpad-btn')['onclick']=()=>{const _0x43cc50=_0x103fd4;openScratchpad(_0x50cf5b,_0x50cf5b[_0x43cc50(0xaee)]||[]);};const _0x5dbfda=document['getElementById'](_0x103fd4(0x31a));document['getElementById'](_0x103fd4(0x741))[_0x103fd4(0x7d6)](_0x103fd4(0x343),()=>{const _0x128ccb=_0x103fd4;_0x5dbfda[_0x128ccb(0x807)][_0x128ccb(0x90e)](_0x128ccb(0x9f0));}),document['getElementById'](_0x103fd4(0x39b))[_0x103fd4(0x7d6)](_0x103fd4(0x343),()=>{const _0x3c75ee=_0x103fd4;_0x5dbfda[_0x3c75ee(0x807)][_0x3c75ee(0xcec)]('hidden');}),document[_0x103fd4(0xccc)]('toggle-slow-responders')['addEventListener'](_0x103fd4(0x1b7),async _0x178fae=>{const _0x53e920=_0x103fd4;await updateDoc(_0x2a994b,{'showSlowResponders':_0x178fae[_0x53e920(0xc55)][_0x53e920(0x174)]});}),document[_0x103fd4(0xccc)](_0x103fd4(0xe76))[_0x103fd4(0x7d6)](_0x103fd4(0x1b7),async _0x2395fc=>{const _0x3af2b9=_0x103fd4;let _0x13f8dd=parseInt(_0x2395fc[_0x3af2b9(0xc55)][_0x3af2b9(0xa9f)]);if(_0x13f8dd<0x1)_0x13f8dd=0x1;await updateDoc(_0x2a994b,{'slowResponderCount':_0x13f8dd});});const _0x2b8220=document[_0x103fd4(0xccc)](_0x103fd4(0xcde));_0x2b8220&&(_0x2b8220[_0x103fd4(0xc51)]=()=>{const _0x301449=_0x103fd4;showConfirmation(_0x301449(0x4c3),async()=>{const _0x2e1a71=_0x301449;await updateDoc(_0x2a994b,{'status':_0x2e1a71(0x863)});});});}function renderSyncLeaderboardView(_0x1b9f31,_0x4758e5){const _0x2b8145=_0x157a22,_0x5306a1=Object[_0x2b8145(0x11b)](_0x1b9f31['players']||{});_0x5306a1['sort']((_0x2616cd,_0x5dd202)=>_0x5dd202[_0x2b8145(0x5c3)]-_0x2616cd['score']);const _0x4b6a08=_0x5306a1[_0x2b8145(0xd3d)](0x0,0x5);let _0x2cb23f='';if(_0x4758e5){const _0xab983a=_0x1b9f31[_0x2b8145(0x8cb)]>=_0x1b9f31[_0x2b8145(0x937)][_0x2b8145(0xdbf)]['length']-0x1;_0x2cb23f=_0x2b8145(0x383)+(_0xab983a?_0x2b8145(0x1ae):_0x2b8145(0xba7))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x2cb23f=_0x2b8145(0x5cd);liveGameView[_0x2b8145(0x93e)]=_0x2b8145(0x498)+_0x4b6a08[_0x2b8145(0x141)]((_0x5171f0,_0xb56e6e)=>_0x2b8145(0x393)+(_0xb56e6e+0x1)+'.\x20'+_0x5171f0['name']+_0x2b8145(0xbd1)+_0x5171f0[_0x2b8145(0x5c3)]+_0x2b8145(0xd99))['join']('')+_0x2b8145(0x3f3)+_0x2cb23f+_0x2b8145(0x616),_0x4758e5&&document[_0x2b8145(0xccc)]('next-sync-question-btn')[_0x2b8145(0x7d6)](_0x2b8145(0x343),async()=>{const _0x42542c=_0x2b8145,_0x4ab8ac=doc(db,_0x42542c(0x331)+appId+_0x42542c(0x334),currentLiveGameId),_0x51a60d=_0x1b9f31[_0x42542c(0x8cb)]+0x1;if(_0x51a60d<_0x1b9f31['shuffledQuiz'][_0x42542c(0xdbf)][_0x42542c(0x34a)]){const _0x5642fe={};Object[_0x42542c(0x69e)](_0x1b9f31[_0x42542c(0xded)])['forEach'](_0x4ba05e=>{const _0x2465c4=_0x42542c;_0x5642fe[_0x2465c4(0x411)+_0x4ba05e+_0x2465c4(0x693)]=![];}),await updateDoc(_0x4ab8ac,{'status':_0x42542c(0x4c0),'currentQuestionIndex':_0x51a60d,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x4ab8ac,{'status':_0x42542c(0x863)});});}async function handleJoinSyncGame(){const _0x30c748=_0x157a22,_0x440183=prompt(_0x30c748(0x969));if(!_0x440183||_0x440183['trim']()[_0x30c748(0x34a)]!==0x2){showMessage(_0x30c748(0x788));return;}try{const _0x2570f0=collection(db,_0x30c748(0x331)+appId+_0x30c748(0x334)),_0x2d0dcf=query(_0x2570f0,where('pin','==',_0x440183[_0x30c748(0x6b3)]()),where(_0x30c748(0xab3),'==','lobby')),_0x4d42fb=await getDocs(_0x2d0dcf);if(_0x4d42fb[_0x30c748(0x8bc)]){showMessage(_0x30c748(0xa0d));return;}const _0x1588ac=_0x4d42fb[_0x30c748(0xbe9)][0x0];currentLiveGameId=_0x1588ac['id'];const _0x307cbe=_0x1588ac[_0x30c748(0xd60)](),_0x31d139=doc(db,_0x30c748(0x331)+appId+'/public/data/quizzes',_0x307cbe['quizId']),_0x318c4e=await getDoc(_0x31d139);if(!_0x318c4e[_0x30c748(0xc43)]())throw new Error(_0x30c748(0x43d));const _0x4b5a20=_0x318c4e[_0x30c748(0xd60)](),_0x69e42a=doc(db,_0x30c748(0x331)+appId+_0x30c748(0x21d),_0x4b5a20[_0x30c748(0x737)]),_0x3fbf05=await getDoc(_0x69e42a);if(!_0x3fbf05[_0x30c748(0xc43)]())throw new Error(_0x30c748(0xb48));currentQuizData=_0x307cbe[_0x30c748(0x937)];const _0x10e652=_0x3fbf05['data']();showView('student-team-join'),showTeamPlayerSelection(_0x10e652[_0x30c748(0xb5a)],_0x4b5a20[_0x30c748(0xe36)]);const _0x4ecdf3=document['getElementById']('confirm-team-players-btn');_0x4ecdf3['onclick']=confirmAndJoinSyncGame;}catch(_0x475796){console[_0x30c748(0xada)]('Error\x20joining\x20sync\x20game:',_0x475796),showMessage(_0x30c748(0x153)+_0x475796[_0x30c748(0x267)]);}}function updateStudentSyncView(_0x19e525){const _0x4cc157=_0x157a22,_0x3f2453=localTeamPlayers[0x0],_0x5e7447=_0x19e525[_0x4cc157(0xded)][_0x3f2453]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x19e525[_0x4cc157(0xab3)]){case _0x4cc157(0x70a):showView('live-game'),liveGameView[_0x4cc157(0x93e)]=_0x4cc157(0xa09);break;case'question':if(_0x19e525[_0x4cc157(0x8cb)]!==lastSeenQuestionIndex){console['log']('New\x20question\x20detected.\x20Cleaning\x20up.'),localPlayerTurnIndex=0x0,sessionStorage[_0x4cc157(0x545)]('powerupUsedThisTurn'),sessionStorage[_0x4cc157(0x545)](_0x4cc157(0x372)),sessionStorage[_0x4cc157(0x545)](_0x4cc157(0x391));const _0x2c5fa5=_0x4cc157(0xb44)+lastSeenQuestionIndex,_0x203db5=_0x4cc157(0x225)+lastSeenQuestionIndex,_0x10c6b8=_0x4cc157(0x85d)+lastSeenQuestionIndex;Object['keys'](sessionStorage)[_0x4cc157(0x8f9)](_0x3a09d3=>{const _0x31ed89=_0x4cc157;(_0x3a09d3[_0x31ed89(0xb2c)](_0x2c5fa5)||_0x3a09d3[_0x31ed89(0xb2c)](_0x203db5)||_0x3a09d3[_0x31ed89(0xb2c)](_0x10c6b8))&&sessionStorage['removeItem'](_0x3a09d3);});if(_0x5e7447['isJinxed']||_0x5e7447[_0x4cc157(0xa07)]||(_0x5e7447[_0x4cc157(0xae4)]||0x0)>0x0){const _0x2fe1d3=doc(db,_0x4cc157(0x331)+appId+_0x4cc157(0x309)+currentLiveGameId+_0x4cc157(0x9f4),_0x3f2453);updateDoc(_0x2fe1d3,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})['catch'](_0x2663dd=>console['error']('Auto-cleanup\x20failed:',_0x2663dd));}lastSeenQuestionIndex=_0x19e525['currentQuestionIndex'];}const _0xe8386c=localTeamPlayers[_0x4cc157(0x8a5)](_0x26be75=>_0x19e525[_0x4cc157(0xded)][_0x26be75]?.[_0x4cc157(0x6ff)]===!![]);if(_0xe8386c)liveGameView[_0x4cc157(0x93e)]=_0x4cc157(0x5e2);else{renderStudentSyncQuestionView(_0x19e525);if(_0x19e525[_0x4cc157(0x6bc)]===_0x4cc157(0xc47)){if(!_0x19e525[_0x4cc157(0x78f)])return;const _0x508aad=_0x19e525['questionDisplayedAt'][_0x4cc157(0xb9a)]()[_0x4cc157(0xaec)](),_0x2294dc=_0x19e525[_0x4cc157(0x37a)]*0x3e8,_0x47bc9e=localTeamPlayers[_0x4cc157(0x141)](_0x2eb29a=>_0x19e525['players'][_0x2eb29a]?.[_0x4cc157(0xae4)]||0x0),_0x36267c=Math[_0x4cc157(0xaa7)](..._0x47bc9e,0x0),_0x2b82fc=_0x508aad+_0x2294dc+_0x36267c;syncQuestionTimerInterval=setInterval(()=>{const _0x252304=_0x4cc157,_0x14d9a5=_0x2b82fc-Date[_0x252304(0x338)](),_0x32a573=document[_0x252304(0xccc)]('sync-timer-bar'),_0x448333=document[_0x252304(0xccc)](_0x252304(0xa19));if(_0x14d9a5<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x32a573)_0x32a573['style']['width']='0%';if(_0x448333)_0x448333[_0x252304(0xc76)]='0';const _0x3dfb4d=localTeamPlayers[localPlayerTurnIndex];_0x19e525[_0x252304(0xded)][_0x3dfb4d]?.[_0x252304(0x6ff)]!==!![]&&(liveGameView[_0x252304(0x93e)]=_0x252304(0x88e));}else{if(_0x32a573&&_0x448333){const _0x31908a=_0x2294dc+_0x36267c,_0x26f142=_0x31908a>0x0?_0x14d9a5/_0x31908a*0x64:0x0;_0x32a573[_0x252304(0xb74)][_0x252304(0x507)]=_0x26f142+'%',_0x448333[_0x252304(0xc76)]=Math[_0x252304(0xe5)](_0x14d9a5/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x4cc157(0x93e)]=_0x4cc157(0x73c);break;case _0x4cc157(0xaca):localPlayerTurnIndex=0x0;const _0x478a68=_0x19e525[_0x4cc157(0xd21)]||_0x4cc157(0xe04);if(_0x478a68==='anonymous'||_0x478a68===_0x4cc157(0x96b))renderStudentAnonymousResultsView(_0x19e525,_0x19e525[_0x4cc157(0x8cb)]);else _0x478a68===_0x4cc157(0x4df)?renderStudentCompetitionResultsView(_0x19e525,_0x19e525[_0x4cc157(0x8cb)]):renderStudentSyncResultsView(_0x19e525);break;case _0x4cc157(0x863):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4cc157(0xb65)](_0x4cc157(0x2ab),handleFullscreenChange),document[_0x4cc157(0xb65)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x4cc157(0x545)](_0x4cc157(0xbc0));const _0x4c880c=liveGameView['innerHTML'],_0x1df76c=_0x4c880c[_0x4cc157(0x9e3)](_0x4cc157(0x553))||_0x4c880c[_0x4cc157(0x9e3)](_0x4cc157(0xd8e));if(!_0x1df76c){const _0x5ecb6b=_0x19e525[_0x4cc157(0xd21)]||'classic',_0xf0dfef=_0x19e525['shuffledQuiz']['questions'][_0x4cc157(0x34a)]-0x1;if(_0x5ecb6b==='anonymous'||_0x5ecb6b===_0x4cc157(0x96b))renderStudentAnonymousResultsView(_0x19e525,_0xf0dfef);else _0x5ecb6b===_0x4cc157(0x4df)?renderStudentCompetitionResultsView(_0x19e525,_0xf0dfef):renderStudentSyncResultsView(_0x19e525);}const _0x595ac5=liveGameView[_0x4cc157(0x5f0)]('p');_0x595ac5[_0x4cc157(0x8f9)](_0x5eafdd=>{const _0x1c7da1=_0x4cc157;(_0x5eafdd['textContent'][_0x1c7da1(0x9e3)](_0x1c7da1(0x4e1))||_0x5eafdd['textContent'][_0x1c7da1(0x9e3)]('รอผู้ควบคุม'))&&(_0x5eafdd[_0x1c7da1(0xb74)][_0x1c7da1(0xaea)]=_0x1c7da1(0x80b));});if(!document[_0x4cc157(0xccc)]('student-exit-game-btn')){const _0x3854f0=_0x4cc157(0x7c9);liveGameView['firstElementChild']?liveGameView[_0x4cc157(0x83d)][_0x4cc157(0x97f)](_0x4cc157(0xe2f),_0x3854f0):liveGameView[_0x4cc157(0x97f)](_0x4cc157(0xe2f),_0x3854f0);}break;}}function renderStudentSyncResultsView(_0x5b3ffc){const _0x3779bb=_0x157a22;let _0x40e242=[];_0x5b3ffc[_0x3779bb(0x4dd)]&&Array[_0x3779bb(0x9c5)](_0x5b3ffc[_0x3779bb(0x4dd)])&&_0x5b3ffc[_0x3779bb(0x4dd)][_0x3779bb(0x34a)]>0x0?_0x40e242=_0x5b3ffc[_0x3779bb(0x4dd)]:_0x40e242=Object[_0x3779bb(0x11b)](_0x5b3ffc['players']||{});const _0x1e0756=_0x5b3ffc[_0x3779bb(0xd21)]||_0x3779bb(0xe04),_0x8d78b6=_0x1e0756===_0x3779bb(0x9a8)||_0x1e0756===_0x3779bb(0x96b),_0xbc8407=_0x5b3ffc[_0x3779bb(0x937)]['questions'],_0x57fd9c=_0x8d78b6&&_0x5b3ffc['reviewQuestionIndex']!==undefined?_0x5b3ffc[_0x3779bb(0xa70)]:_0x5b3ffc['currentQuestionIndex'],_0x242683=_0x8d78b6?_0x5b3ffc[_0x3779bb(0xa70)]:_0x5b3ffc[_0x3779bb(0x8cb)],_0x1efc7e=_0x40e242[_0x3779bb(0x141)](_0x418564=>{const _0x1c5439=_0x3779bb,_0x4bb0a9=(_0x418564[_0x1c5439(0x534)]||[])['filter'](_0x122681=>_0x122681[_0x1c5439(0xb87)]<=_0x57fd9c);let _0x103064=0x0,_0x33d057=0x0;_0x8d78b6?(_0x103064=_0x4bb0a9[_0x1c5439(0x512)](_0x134422=>_0x134422[_0x1c5439(0xa04)])[_0x1c5439(0x34a)],_0x33d057=_0x4bb0a9['reduce']((_0x5ce481,_0x9125a3)=>_0x5ce481+(_0x9125a3['pointsAwarded']||0x0),0x0)):(_0x103064=_0x418564[_0x1c5439(0x5c3)]||0x0,_0x33d057=_0x418564[_0x1c5439(0xaa6)]||0x0);let _0x2f520d=0x0;for(let _0xac7770=0x0;_0xac7770<=_0x57fd9c;_0xac7770++){const _0x5a5aaf=_0x4bb0a9['find'](_0x5d0182=>_0x5d0182[_0x1c5439(0xb87)]===_0xac7770);if(_0x5a5aaf){const _0x2b7c20=_0x5a5aaf[_0x1c5439(0x561)]&&_0x5a5aaf[_0x1c5439(0x561)]!==_0x1c5439(0xd1)||_0x5a5aaf[_0x1c5439(0x8a1)];_0x5a5aaf[_0x1c5439(0xa04)]?_0x2f520d=_0x2b7c20?0x0:_0x2f520d+0x1:_0x2f520d=0x0;}else _0x2f520d=0x0;}return{..._0x418564,'realScore':_0x103064,'totalPoints':_0x33d057,'answers':_0x418564['answers'],'correctStreak':_0x2f520d};}),_0x102b57=Math[_0x3779bb(0xaa7)](..._0x1efc7e[_0x3779bb(0x141)](_0x594073=>_0x594073[_0x3779bb(0xaa6)]),-Infinity),_0x4063be=Math[_0x3779bb(0xaa7)](..._0x1efc7e[_0x3779bb(0x141)](_0xacd854=>_0xacd854[_0x3779bb(0xd53)]),-Infinity),_0x4c2b07=_0x5b3ffc['isBlackMarketEnabled']===!![],_0x3ff331=[..._0x1efc7e]['sort']((_0x445d46,_0x360e41)=>{const _0x3bc298=_0x3779bb;if(_0x4c2b07){const _0x41d3d4=_0x360e41['totalPoints']-_0x445d46['totalPoints'];if(_0x41d3d4!==0x0)return _0x41d3d4;const _0x1025d2=_0x360e41[_0x3bc298(0xd53)]-_0x445d46[_0x3bc298(0xd53)];if(_0x1025d2!==0x0)return _0x1025d2;return(_0x445d46[_0x3bc298(0x190)]||'')['localeCompare'](_0x360e41[_0x3bc298(0x190)]||'','th');}else{const _0x4753aa=_0x360e41[_0x3bc298(0xaa6)]-_0x445d46[_0x3bc298(0xaa6)];if(_0x4753aa!==0x0)return _0x4753aa;const _0x3aa402=_0x360e41[_0x3bc298(0xd53)]-_0x445d46[_0x3bc298(0xd53)];if(_0x3aa402!==0x0)return _0x3aa402;return(_0x445d46['name']||'')['localeCompare'](_0x360e41[_0x3bc298(0x190)]||'','th');}});let _0xaf595b=0x1;for(let _0x3d4d00=0x0;_0x3d4d00<_0x3ff331[_0x3779bb(0x34a)];_0x3d4d00++){if(_0x3d4d00>0x0){const _0xf9753d=_0x3ff331[_0x3d4d00-0x1],_0x44c532=_0x3ff331[_0x3d4d00];let _0x50d6c3=![];_0x4c2b07?_0x50d6c3=_0x44c532[_0x3779bb(0xaa6)]===_0xf9753d[_0x3779bb(0xaa6)]&&_0x44c532[_0x3779bb(0xd53)]===_0xf9753d['realScore']:_0x50d6c3=_0x44c532[_0x3779bb(0xaa6)]===_0xf9753d[_0x3779bb(0xaa6)]&&_0x44c532[_0x3779bb(0xd53)]===_0xf9753d['realScore'],!_0x50d6c3&&(_0xaf595b=_0x3d4d00+0x1);}_0x3ff331[_0x3d4d00][_0x3779bb(0xe89)]=_0xaf595b;}let _0x18562d=_0x3ff331['filter'](_0x313448=>localTeamPlayers[_0x3779bb(0x9e3)](_0x313448[_0x3779bb(0x190)]));_0x18562d['sort']((_0x43c8d8,_0x50db57)=>(_0x50db57[_0x3779bb(0xaa6)]||0x0)-(_0x43c8d8[_0x3779bb(0xaa6)]||0x0));let _0x2950ac='';const _0x338e82=_0x8d78b6?_0x57fd9c>=_0xbc8407[_0x3779bb(0x34a)]-0x1:_0x5b3ffc['currentQuestionIndex']>=_0xbc8407[_0x3779bb(0x34a)]-0x1;if(_0x5b3ffc[_0x3779bb(0xab3)]==='podium')_0x2950ac='';else _0x338e82?_0x2950ac='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x2950ac=_0x3779bb(0xbdd);const _0x3424ff=getCentralPotHTML(_0x5b3ffc),_0x22bef6=_0x3779bb(0x5e9)+_0x3424ff+'</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18562d[_0x3779bb(0x141)]((_0x1c03d8,_0x2e73a3)=>{const _0x450a6c=_0x3779bb;let _0x415169=_0x450a6c(0x6c7);const _0x311f4f=(_0x1c03d8[_0x450a6c(0x534)]||[])[_0x450a6c(0x48e)](_0x37c670=>_0x37c670['questionIndex']===_0x242683);let _0x547960='';_0x311f4f&&_0x311f4f[_0x450a6c(0x72c)]>0x0&&(_0x547960=_0x450a6c(0x53d)+_0x311f4f[_0x450a6c(0x72c)]+_0x450a6c(0xc6a));let _0x1e1e20='';if(_0x311f4f){if(_0x311f4f['wasForced'])_0x1e1e20+=_0x450a6c(0xaaf);if(_0x311f4f[_0x450a6c(0xa3c)])_0x1e1e20+=_0x450a6c(0x655);if(_0x311f4f[_0x450a6c(0x8a1)])_0x1e1e20+=_0x450a6c(0x761);const _0x2cfaec=_0x311f4f[_0x450a6c(0x561)];if(_0x2cfaec){const _0x556ca0={'poll':'📊','cutOne':'✂️','insurance':_0x450a6c(0x82f),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x450a6c(0x21c)};if(_0x556ca0[_0x2cfaec])_0x1e1e20+=_0x450a6c(0xe6c)+_0x2cfaec+'\x22>'+_0x556ca0[_0x2cfaec]+_0x450a6c(0x27c);}}if(_0x311f4f){const _0x8d86a5=_0x311f4f[_0x450a6c(0xa04)],_0x1917bd=_0x311f4f[_0x450a6c(0x6f1)]===!![]||_0x311f4f[_0x450a6c(0x6f1)]===_0x450a6c(0xbea),_0x2a2641=_0x311f4f[_0x450a6c(0x561)];if(_0x2a2641===_0x450a6c(0xd1))_0x415169=_0x8d86a5?_0x450a6c(0x618):_0x450a6c(0xe53);else{if(_0x1917bd)_0x415169=_0x8d86a5?_0x450a6c(0xb73):_0x450a6c(0x230);else _0x8d86a5?_0x415169=_0x450a6c(0xd04):_0x415169=_0x450a6c(0x743);}}else _0x415169=_0x450a6c(0x743);let _0x32510c='';_0x311f4f&&_0x311f4f['powerupUsed']==='wagerMultiplier'&&!_0x311f4f[_0x450a6c(0xa04)]&&(_0x32510c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hand-holding-usd\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>เดิมพันผิด!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>💸\x20เงินถูกยึดเข้ากองกลาง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');const _0x16a21d=_0x1c03d8['totalPoints']>=0x0?'(+'+_0x1c03d8['totalPoints'][_0x450a6c(0x84e)]()+')':'('+_0x1c03d8[_0x450a6c(0xaa6)][_0x450a6c(0x84e)]()+')';let _0x168c70='';const _0x2caee9=_0x1c03d8[_0x450a6c(0x534)]['length'],_0x363547=_0x57fd9c+0x1;if(_0x2caee9>0x0){if(_0x4c2b07){if(_0x1c03d8[_0x450a6c(0xaa6)]===_0x102b57&&_0x102b57>0x0)_0x168c70+=_0x450a6c(0xbcc);if(_0x1c03d8[_0x450a6c(0xd53)]===_0x4063be&&_0x4063be>0x0)_0x168c70+=_0x450a6c(0xbf);}else{if(_0x1c03d8['realScore']===_0x363547)_0x168c70+=_0x450a6c(0x54e);}const _0xcb3ed7=_0x168c70['includes']('👑')||_0x168c70[_0x450a6c(0x9e3)]('🎓')||_0x168c70[_0x450a6c(0x9e3)]('⭐');if(!_0xcb3ed7&&_0x1c03d8['totalPoints']<0x0)_0x168c70+='<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>';}let _0x5676b1='';const _0x4cc994=_0x311f4f&&_0x311f4f['usedBuyTime'],_0x5631f1=_0x311f4f&&_0x311f4f['powerupUsed']&&_0x311f4f[_0x450a6c(0x561)]!=='wagerMultiplier';if(!_0x4cc994&&!_0x5631f1){const _0x1dd95f=_0x1c03d8[_0x450a6c(0x55b)]||0x0;_0x1dd95f>=0x3&&(_0x5676b1=_0x450a6c(0x3a0)+_0x1dd95f+'</span>');}return _0x450a6c(0x783)+_0x415169+_0x450a6c(0xbad)+_0x1c03d8['displayRank']+_0x450a6c(0xe7a)+_0x1c03d8[_0x450a6c(0x190)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e1e20+'\x20'+_0x168c70+'\x20'+_0x5676b1+_0x450a6c(0x641)+_0x1c03d8[_0x450a6c(0xd53)]+_0x450a6c(0x974)+_0x16a21d+_0x450a6c(0x77d)+_0x547960+_0x450a6c(0x6c0)+_0x32510c+_0x450a6c(0xce);})[_0x3779bb(0x72e)]('')+_0x3779bb(0x864)+_0x2950ac+_0x3779bb(0x24f);liveGameView['innerHTML']=_0x22bef6;}function renderStudentAnonymousResultsView(_0x16620e,_0x411ebd){const _0x23d440=_0x157a22;let _0x2a42da=[];_0x16620e['publicLeaderboard']?_0x2a42da=_0x16620e[_0x23d440(0x4dd)]:_0x2a42da=Object[_0x23d440(0x11b)](_0x16620e[_0x23d440(0xded)]||{});const _0x4e241a=_0x16620e[_0x23d440(0xd21)]||'classic',_0x39f807=_0x4e241a===_0x23d440(0x9a8)||_0x4e241a===_0x23d440(0x96b),_0x4f759a=_0x16620e[_0x23d440(0x684)]===!![],_0x38b0b3=_0x16620e[_0x23d440(0x937)][_0x23d440(0xdbf)],_0x1c4f5a=_0x39f807&&_0x16620e[_0x23d440(0xa70)]!==undefined?_0x16620e[_0x23d440(0xa70)]:_0x411ebd,_0x210c62=_0x2a42da[_0x23d440(0x141)](_0x323ccb=>{const _0x559a9a=_0x23d440,_0x395ac7=(_0x323ccb[_0x559a9a(0x534)]||[])['filter'](_0x9a1482=>_0x9a1482['questionIndex']<=_0x1c4f5a);let _0x5d9788=0x0,_0x17b5dc=0x0;_0x39f807?(_0x5d9788=_0x395ac7[_0x559a9a(0x512)](_0x20d798=>_0x20d798['isCorrect'])['length'],_0x17b5dc=_0x395ac7[_0x559a9a(0xc59)]((_0x3c23b2,_0x502acb)=>_0x3c23b2+(_0x502acb[_0x559a9a(0x472)]||0x0),0x0)):(_0x5d9788=_0x323ccb[_0x559a9a(0x5c3)]||0x0,_0x17b5dc=_0x323ccb[_0x559a9a(0xaa6)]||0x0);let _0xe730b3=0x0;for(let _0x51591b=0x0;_0x51591b<=_0x1c4f5a;_0x51591b++){const _0x56de86=_0x395ac7[_0x559a9a(0x48e)](_0x310d91=>_0x310d91[_0x559a9a(0xb87)]===_0x51591b);if(_0x56de86){const _0x56bcfe=_0x56de86[_0x559a9a(0x561)]&&_0x56de86[_0x559a9a(0x561)]!==_0x559a9a(0xd1)||_0x56de86[_0x559a9a(0x8a1)];_0x56de86['isCorrect']?_0xe730b3=_0x56bcfe?0x0:_0xe730b3+0x1:_0xe730b3=0x0;}else _0xe730b3=0x0;}return{..._0x323ccb,'realScore':_0x5d9788,'totalPoints':_0x17b5dc,'answers':_0x395ac7,'correctStreak':_0xe730b3};}),_0x27c42c=Math[_0x23d440(0xaa7)](..._0x210c62[_0x23d440(0x141)](_0x613d84=>_0x613d84[_0x23d440(0xaa6)]),-Infinity),_0x28acc2=Math['max'](..._0x210c62['map'](_0x5afc78=>_0x5afc78[_0x23d440(0xd53)]),-Infinity),_0x4b288c=_0x16620e[_0x23d440(0xc1b)]===!![],_0x47dfbd=[..._0x210c62][_0x23d440(0x4b3)]((_0x179c40,_0x32ebc6)=>{const _0xb71a4a=_0x23d440;if(_0x4b288c){if(_0x32ebc6[_0xb71a4a(0xaa6)]!==_0x179c40[_0xb71a4a(0xaa6)])return _0x32ebc6['totalPoints']-_0x179c40[_0xb71a4a(0xaa6)];if(_0x32ebc6[_0xb71a4a(0xd53)]!==_0x179c40['realScore'])return _0x32ebc6[_0xb71a4a(0xd53)]-_0x179c40[_0xb71a4a(0xd53)];}else{if(_0x32ebc6[_0xb71a4a(0xaa6)]!==_0x179c40[_0xb71a4a(0xaa6)])return _0x32ebc6['totalPoints']-_0x179c40[_0xb71a4a(0xaa6)];if(_0x32ebc6[_0xb71a4a(0xd53)]!==_0x179c40[_0xb71a4a(0xd53)])return _0x32ebc6[_0xb71a4a(0xd53)]-_0x179c40['realScore'];}return(_0x179c40[_0xb71a4a(0x190)]||'')[_0xb71a4a(0x2ef)](_0x32ebc6[_0xb71a4a(0x190)]||'','th');});let _0x2aa7b9=0x1;for(let _0x4dbb92=0x0;_0x4dbb92<_0x47dfbd[_0x23d440(0x34a)];_0x4dbb92++){if(_0x4dbb92>0x0){const _0x7e797c=_0x47dfbd[_0x4dbb92-0x1],_0x319922=_0x47dfbd[_0x4dbb92];let _0x3f61d2=_0x319922['totalPoints']===_0x7e797c[_0x23d440(0xaa6)]&&_0x319922[_0x23d440(0xd53)]===_0x7e797c['realScore'];!_0x3f61d2&&(_0x2aa7b9=_0x4dbb92+0x1);}_0x47dfbd[_0x4dbb92]['displayRank']=_0x2aa7b9;}let _0x37bda8=null;const _0x8328b5=_0x210c62[_0x23d440(0x512)](_0x369f83=>localTeamPlayers[_0x23d440(0x9e3)](_0x369f83[_0x23d440(0x190)]));_0x37bda8=_0x8328b5[_0x23d440(0x34a)]>0x0?_0x8328b5[_0x23d440(0x4b3)]((_0x371dd6,_0x3ad838)=>_0x3ad838[_0x23d440(0xaa6)]-_0x371dd6[_0x23d440(0xaa6)])[0x0]:null;if(!_0x37bda8){liveGameView['innerHTML']=_0x23d440(0x648);return;}const _0x21dfa5=_0x4b288c?_0x37bda8['totalPoints']:_0x37bda8['totalPoints'],_0x11a48f=_0x1c4f5a+0x1,_0x405881=_0x47dfbd[_0x23d440(0x141)]((_0x142a2e,_0x6d529d)=>{const _0x28f2ec=_0x23d440,_0x11e3a0=_0x142a2e[_0x28f2ec(0xd53)],_0x36cb87=_0x142a2e[_0x28f2ec(0xaa6)],_0x17ae6c=(_0x142a2e[_0x28f2ec(0x534)]||[])['find'](_0x1e780c=>_0x1e780c[_0x28f2ec(0xb87)]===_0x1c4f5a);let _0x590107='';_0x17ae6c&&_0x17ae6c[_0x28f2ec(0x72c)]>0x0&&(_0x590107=_0x28f2ec(0x53d)+_0x17ae6c['potBonus']+_0x28f2ec(0xc6a));let _0x23fe2e='';if(_0x17ae6c){if(_0x17ae6c[_0x28f2ec(0xb1a)])_0x23fe2e+=_0x28f2ec(0xaaf);if(_0x17ae6c[_0x28f2ec(0xa3c)])_0x23fe2e+=_0x28f2ec(0x655);if(_0x17ae6c['usedBuyTime'])_0x23fe2e+=_0x28f2ec(0x761);const _0x458ef9=_0x17ae6c[_0x28f2ec(0x561)];if(_0x458ef9){const _0x3103f1={'poll':'📊','cutOne':'✂️','insurance':_0x28f2ec(0x82f),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x28f2ec(0x21c)};if(_0x3103f1[_0x458ef9])_0x23fe2e+=_0x28f2ec(0xe6c)+_0x458ef9+'\x22>'+_0x3103f1[_0x458ef9]+'</span>';}}let _0x3d895e='';if(_0x11a48f>0x0){if(_0x4b288c){if(_0x36cb87===_0x27c42c&&_0x27c42c>0x0)_0x3d895e+=_0x28f2ec(0x9f2);if(_0x11e3a0===_0x28acc2&&_0x28acc2>0x0)_0x3d895e+=_0x28f2ec(0x2fa);}else{const _0x31c5f6=_0x142a2e[_0x28f2ec(0xd53)]===_0x11a48f&&_0x11a48f>0x0;if(_0x31c5f6)_0x3d895e='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x3d895e===''&&_0x36cb87<0x0)_0x3d895e=_0x28f2ec(0x663);}let _0x98bd6='';const _0x437f01=_0x17ae6c&&_0x17ae6c[_0x28f2ec(0x8a1)],_0x56b64a=_0x17ae6c&&_0x17ae6c['powerupUsed']&&_0x17ae6c['powerupUsed']!==_0x28f2ec(0xd1);if(!_0x437f01&&!_0x56b64a){const _0x1de6a2=_0x142a2e[_0x28f2ec(0x55b)]||0x0;_0x1de6a2>=0x3&&(_0x98bd6=_0x28f2ec(0x3a8)+_0x1de6a2+'</span>');}let _0x254993=_0x28f2ec(0xc61),_0x544833=![];if(_0x17ae6c){const _0x180c27=_0x17ae6c[_0x28f2ec(0xa04)],_0x43b020=_0x17ae6c[_0x28f2ec(0x6f1)]===!![]||_0x17ae6c[_0x28f2ec(0x6f1)]===_0x28f2ec(0xbea),_0xd5d54c=_0x17ae6c[_0x28f2ec(0x561)];if(_0xd5d54c===_0x28f2ec(0xd1))_0x180c27?(_0x254993=_0x28f2ec(0x618),_0x544833=!![]):_0x254993=_0x28f2ec(0xe53);else{if(_0x43b020)_0x254993=_0x180c27?_0x28f2ec(0xb73):_0x28f2ec(0x230);else _0x180c27&&(_0x254993=_0x28f2ec(0xd04));}}let _0x1cbf26='';const _0x454caf=_0x142a2e[_0x28f2ec(0x190)],_0x4b31a6=_0x16620e[_0x28f2ec(0x62a)][_0x142a2e[_0x28f2ec(0x190)]]||_0x28f2ec(0x7ab),_0x107b2e=localTeamPlayers[_0x28f2ec(0x9e3)](_0x454caf),_0x4829d9=_0x544833?'text-yellow-800':_0x28f2ec(0x833),_0x611221=_0x4b288c?_0x142a2e[_0x28f2ec(0xaa6)]:_0x142a2e[_0x28f2ec(0xaa6)],_0x53304d=_0x4f759a||_0x107b2e||_0x21dfa5>_0x611221;_0x53304d?_0x1cbf26=_0x28f2ec(0x884)+_0x454caf+_0x28f2ec(0x782)+_0x4829d9+_0x28f2ec(0xc04)+_0x4b31a6+_0x28f2ec(0xac1):_0x1cbf26=_0x28f2ec(0xc45)+_0x4b31a6+_0x28f2ec(0x27c);_0x107b2e&&(_0x1cbf26=_0x28f2ec(0x340)+_0x1cbf26+_0x28f2ec(0xbfc));const _0x2af58b=_0x28f2ec(0x689)+_0x23fe2e+'\x20'+_0x3d895e+'\x20'+_0x98bd6+_0x28f2ec(0x6ae),_0x2d3e89=_0x36cb87>=0x0?'(+'+_0x36cb87[_0x28f2ec(0x84e)]()+')':'('+_0x36cb87[_0x28f2ec(0x84e)]()+')';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x254993+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x142a2e[_0x28f2ec(0xe89)]+_0x28f2ec(0x686)+_0x1cbf26+_0x28f2ec(0x764)+_0x2af58b+_0x28f2ec(0xd87)+_0x11e3a0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>'+_0x2d3e89+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x590107+_0x28f2ec(0xd50);})['join']('');let _0x1cdafc='';const _0x56c239=_0x39f807?_0x1c4f5a>=_0x38b0b3[_0x23d440(0x34a)]-0x1:_0x16620e['currentQuestionIndex']>=_0x38b0b3[_0x23d440(0x34a)]-0x1;if(_0x16620e[_0x23d440(0xab3)]===_0x23d440(0x863))_0x1cdafc='';else _0x56c239?_0x1cdafc='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x1cdafc=_0x23d440(0xbdd);const _0x221eda=getCentralPotHTML(_0x16620e),_0x5cd52e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>'+_0x221eda+_0x23d440(0xe63)+_0x405881+_0x23d440(0x3f3)+_0x1cdafc+_0x23d440(0x616);liveGameView[_0x23d440(0x93e)]=_0x5cd52e;}function renderStudentCompetitionResultsView(_0x1c7eb1,_0x4ecf89){const _0x12d7df=_0x157a22,_0xdbaefe=Object[_0x12d7df(0x11b)](_0x1c7eb1['players']||{}),_0x4a4897=_0x4ecf89,_0xbbc67b=_0x1c7eb1[_0x12d7df(0xd21)]||_0x12d7df(0xe04),_0x2e9a7a=_0x1c7eb1['shuffledQuiz'][_0x12d7df(0xdbf)],_0x48758e=_0xdbaefe[_0x12d7df(0x141)](_0x9e6afe=>{const _0x1bfbcc=_0x12d7df,_0x255cc4=_0x9e6afe[_0x1bfbcc(0x5c3)]||0x0,_0x1741ed=_0x9e6afe[_0x1bfbcc(0xaa6)]||0x0,_0x1a6dfc=(_0x9e6afe[_0x1bfbcc(0x534)]||[])[_0x1bfbcc(0x512)](_0x4a91a6=>_0xbbc67b==='reveal_at_end'?_0x4a91a6[_0x1bfbcc(0xb87)]<=_0x4a4897:!![]);return{..._0x9e6afe,'realScore':_0x255cc4,'totalPoints':_0x1741ed,'answers':_0x1a6dfc};}),_0x2fad8c=_0x1c7eb1['isBlackMarketEnabled']===!![],_0x54f235=[..._0x48758e][_0x12d7df(0x4b3)]((_0x4280d1,_0xe5169)=>{const _0x268d55=_0x12d7df;if(_0x2fad8c){const _0x4465f0=_0xe5169[_0x268d55(0xd53)]-_0x4280d1[_0x268d55(0xd53)];if(_0x4465f0!==0x0)return _0x4465f0;const _0x5c1dc3=_0xe5169[_0x268d55(0xaa6)]-_0x4280d1[_0x268d55(0xaa6)];if(_0x5c1dc3!==0x0)return _0x5c1dc3;return(_0x4280d1[_0x268d55(0x190)]||'')[_0x268d55(0x2ef)](_0xe5169[_0x268d55(0x190)]||'','th');}else{const _0x32bc5a=_0xe5169[_0x268d55(0xaa6)]-_0x4280d1['totalPoints'];if(_0x32bc5a!==0x0)return _0x32bc5a;const _0x2075ec=_0xe5169[_0x268d55(0xd53)]-_0x4280d1['realScore'];if(_0x2075ec!==0x0)return _0x2075ec;return(_0x4280d1[_0x268d55(0x190)]||'')['localeCompare'](_0xe5169['name']||'','th');}});let _0x3280a9=0x1;for(let _0x1c629d=0x0;_0x1c629d<_0x54f235[_0x12d7df(0x34a)];_0x1c629d++){if(_0x1c629d>0x0){const _0x938977=_0x54f235[_0x1c629d-0x1],_0x720d80=_0x54f235[_0x1c629d];let _0x1fc2ad=![];_0x2fad8c?_0x1fc2ad=_0x720d80[_0x12d7df(0xd53)]===_0x938977['realScore']&&_0x720d80[_0x12d7df(0xaa6)]===_0x938977[_0x12d7df(0xaa6)]:_0x1fc2ad=_0x720d80['totalPoints']===_0x938977[_0x12d7df(0xaa6)]&&_0x720d80['realScore']===_0x938977[_0x12d7df(0xd53)],!_0x1fc2ad&&(_0x3280a9=_0x1c629d+0x1);}_0x54f235[_0x1c629d][_0x12d7df(0xe89)]=_0x3280a9;}const _0x1a9ea4=_0x54f235['map']((_0x4e2c1c,_0xbd8fe8)=>{const _0x4e775f=_0x12d7df,_0x30fb28='';let _0x2779b9=_0x4e775f(0xc61);const _0x531e32=_0x4e2c1c[_0x4e775f(0x190)],_0x30b52c='line-height:\x201.3;\x20min-width:\x200;',_0x31e803=_0x4e775f(0x73b),_0x1fcb46=_0x4e775f(0x9c7)+_0x30b52c+'\x22\x20title=\x22'+_0x531e32+_0x4e775f(0xcd4)+_0x31e803+'\x22>'+_0x531e32+_0x4e775f(0x27c)+_0x30fb28+'</div>',_0x52b408='';return _0x4e775f(0x82b)+_0x2779b9+_0x4e775f(0xcb9)+_0x4e2c1c['displayRank']+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x1fcb46+_0x4e775f(0xcfa)+_0x52b408+_0x4e775f(0x909);})[_0x12d7df(0x72e)]('');let _0x2108c0='';const _0x3d8252=_0xbbc67b==='reveal_at_end'?_0x1c7eb1[_0x12d7df(0xa70)]>=_0x2e9a7a[_0x12d7df(0x34a)]-0x1:_0x1c7eb1[_0x12d7df(0x8cb)]>=_0x2e9a7a[_0x12d7df(0x34a)]-0x1;_0x3d8252?_0x2108c0=_0x12d7df(0x797):_0x2108c0=_0x12d7df(0xbdd);const _0x33104c=_0x12d7df(0x68e)+_0x1a9ea4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2108c0+_0x12d7df(0x616);liveGameView[_0x12d7df(0x93e)]=_0x33104c;}function renderStudentSyncQuestionView(_0x1e254b){const _0x26a769=_0x157a22;while(localPlayerTurnIndex<localTeamPlayers[_0x26a769(0x34a)]&&_0x1e254b['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x26a769(0x6ff)]===!![]){localPlayerTurnIndex++;}localPlayerTurnIndex>=localTeamPlayers[_0x26a769(0x34a)]&&(localPlayerTurnIndex=localTeamPlayers[_0x26a769(0xb42)](_0x20d765=>_0x1e254b[_0x26a769(0xded)][_0x20d765]?.['answered']!==!![]));const _0x6d9418=localTeamPlayers[localPlayerTurnIndex];if(!_0x6d9418)return;const _0x47d7ef=_0x1e254b[_0x26a769(0xded)][_0x6d9418],_0x311b76=_0x1e254b[_0x26a769(0x8cb)],_0x5deab2=_0x1e254b[_0x26a769(0x937)][_0x26a769(0xdbf)][_0x26a769(0x34a)],_0x1fe881=_0x1e254b['shuffledQuiz']['questions'][_0x311b76],_0x2f528a=_0x1fe881[_0x26a769(0x36c)]||_0x1e254b['shuffledQuiz'][_0x26a769(0x7fc)];let _0x4047d0='',_0x1ce144=![];const _0x4ddaae=_0x26a769(0x225)+_0x311b76+'_p'+_0x6d9418,_0x4b9763=sessionStorage['getItem'](_0x4ddaae),_0x5601c1=_0x4b9763===_0x26a769(0xb0e),_0x35220=_0x26a769(0x85d)+_0x311b76+'_p'+_0x6d9418,_0x11695b=JSON[_0x26a769(0xcd5)](sessionStorage['getItem'](_0x35220)||'[]')[_0x26a769(0x141)](String);if((_0x2f528a===_0x26a769(0xb27)||_0x2f528a===_0x26a769(0xdf0))&&_0x5601c1&&_0x1fe881['options']&&_0x1fe881['options']['length']>0x0)_0x4047d0=_0x1fe881[_0x26a769(0xaee)][_0x26a769(0x141)]((_0x1b57c3,_0x4e4f3d)=>{const _0x2b046b=_0x26a769;if(_0x11695b[_0x2b046b(0x9e3)](String(_0x4e4f3d)))return'';return _0x2b046b(0x8dc)+_0x1b57c3+'\x22\x20data-index=\x22'+_0x4e4f3d+_0x2b046b(0xfb)+_0x1b57c3+'</button>';})[_0x26a769(0x72e)]('');else{if(_0x2f528a===_0x26a769(0xb27)||_0x2f528a===_0x26a769(0xdf0)){_0x1ce144=!![];const _0xfcf0e3=_0x1fe881[_0x26a769(0x314)]&&/^-?[\d.,]+$/['test'](String(_0x1fe881[_0x26a769(0x314)])['trim']());let _0x5bb549=_0xfcf0e3?'<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>':_0x26a769(0x835);_0x4047d0=_0x26a769(0xa4d)+_0x5bb549+'<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button></div>';}else switch(_0x2f528a){case'true_false':const _0x2f4679=_0x11695b[_0x26a769(0x9e3)]('0')?'':_0x26a769(0xb58),_0x162c04=_0x11695b[_0x26a769(0x9e3)]('1')?'':_0x26a769(0xcf1);_0x4047d0=_0x2f4679+_0x162c04;break;case _0x26a769(0x283):_0x1ce144=!![];const _0x428bd8=(_0x1fe881['allResponses']||[])['map'](_0x33cdce=>{const _0x40b0fb=_0x26a769,_0x2d5870=_0x33cdce[_0x40b0fb(0xb64)](/"/g,'&quot;');return _0x40b0fb(0x92f)+_0x2d5870+_0x40b0fb(0x544)+_0x33cdce+_0x40b0fb(0x543);})['join']('');_0x4047d0=_0x26a769(0x255)+_0x428bd8+_0x26a769(0xc87);break;case _0x26a769(0x75f):default:_0x4047d0=(_0x1fe881['options']||[])['map']((_0x507ce2,_0x41ea78)=>{const _0x593d0f=_0x26a769;if(_0x11695b[_0x593d0f(0x9e3)](String(_0x41ea78)))return'';return'<button\x20data-value=\x22'+_0x41ea78+_0x593d0f(0xdaf)+_0x41ea78+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x507ce2+_0x593d0f(0x581);})[_0x26a769(0x72e)]('');break;}}let _0x463cd8='';_0x1e254b['timerMode']===_0x26a769(0xc47)&&(_0x463cd8=_0x26a769(0x25c)+_0x1e254b['timerDuration']+_0x26a769(0xfa));let _0x5408a9='';const _0x2ca488=_0x1e254b[_0x26a769(0xd21)]||_0x26a769(0xe04),_0x3553c7=[_0x26a769(0x9a8),_0x26a769(0x96b),_0x26a769(0x4df)]['includes'](_0x2ca488);if(_0x1e254b[_0x26a769(0xc1b)]===!![]){if(_0x3553c7)!_0x4b9763&&(_0x5408a9='<div\x20class=\x22flex\x20justify-center\x20my-4\x22><button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22><div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div><span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span></button></div>');else{const _0x514a57=_0x47d7ef['totalPoints']||0x0,_0x52c8f3=_0x47d7ef[_0x26a769(0x81f)]||{},_0x2af188=[_0x52c8f3['buyTime']>0x0?_0x26a769(0x89d)+_0x52c8f3[_0x26a769(0xe77)]+_0x26a769(0x959):'',_0x52c8f3[_0x26a769(0xb0e)]>0x0?_0x26a769(0xaa2)+_0x52c8f3[_0x26a769(0xb0e)]+_0x26a769(0x959):'',_0x52c8f3['cutOne']>0x0?_0x26a769(0xd7)+_0x52c8f3['cutOne']+_0x26a769(0x959):'',_0x52c8f3[_0x26a769(0x76c)]>0x0?_0x26a769(0x39f)+_0x52c8f3['insurance']+')</button>':'',_0x52c8f3[_0x26a769(0xe40)]>0x0?_0x26a769(0x676)+_0x52c8f3['fiftyFifty']+_0x26a769(0x959):'',_0x52c8f3['secondChance']>0x0?_0x26a769(0x352)+_0x52c8f3['secondChance']+_0x26a769(0x959):''][_0x26a769(0x512)](Boolean)[_0x26a769(0x72e)]('\x20'),_0x3eb823=_0x26a769(0xb44)+_0x311b76+'_p'+_0x6d9418,_0x24bb6e=sessionStorage[_0x26a769(0x1c4)](_0x3eb823)===_0x26a769(0x5d8),_0x4d196a=_0x514a57>0x0&&(!_0x24bb6e||_0x514a57>=0x1),_0x4c789e=_0x514a57===0x0?_0x26a769(0xb8a):_0x24bb6e?'ตลาดมืด\x20(-1\x20P)':_0x26a769(0x6ee)+_0x514a57+_0x26a769(0xd0d),_0x1e64c8=_0x4d196a?_0x26a769(0x931):_0x26a769(0x164),_0x2740ed=_0x4d196a?'':'disabled';let _0x1757ce='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x1e64c8+_0x26a769(0xae2)+_0x2740ed+_0x26a769(0x861)+_0x4c789e+_0x26a769(0x581);if(!_0x4b9763){const _0x151671=_0x514a57>0x0,_0x4b345b=_0x151671?_0x26a769(0x33c):'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x558a67=_0x151671?_0x26a769(0xb81):_0x26a769(0x452),_0x43fb35=_0x151671?'':'disabled';_0x1757ce+=_0x26a769(0x588)+_0x4b345b+_0x26a769(0xa6e)+_0x43fb35+_0x26a769(0x977)+_0x558a67+_0x26a769(0xa6e)+_0x43fb35+_0x26a769(0x289);}_0x5408a9=_0x26a769(0x62d)+_0x1757ce+_0x26a769(0x4cb)+(_0x2af188||'')+'</div></div>';}}let _0x3d9513='';if(_0x47d7ef[_0x26a769(0x8d8)])_0x3d9513+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div><p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p></div>';if(_0x47d7ef[_0x26a769(0xa07)])_0x3d9513+=_0x26a769(0x1c5);if((_0x47d7ef[_0x26a769(0xae4)]||0x0)>0x0)_0x3d9513+=_0x26a769(0x276);if(_0x4b9763){if(_0x4b9763==='wagerMultiplier'){const _0x30aa14=_0x3553c7?_0x26a769(0xa3e):_0x26a769(0xbbe);_0x3d9513+=_0x26a769(0xda4)+_0x30aa14+'\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ตอบถูก\x20x2\x20/\x20ตอบผิดเสียเงินเข้ากองกลาง!)</span></div>';}else{if(_0x4b9763===_0x26a769(0xda5))_0x3d9513+=_0x26a769(0x7b9);else{if(_0x4b9763===_0x26a769(0xe40))_0x3d9513+=_0x26a769(0x24c);else{if(_0x4b9763===_0x26a769(0x8b0))_0x3d9513+=_0x26a769(0xb0a);else{if(_0x4b9763===_0x26a769(0xb0e))_0x3d9513+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p></div>';else _0x4b9763===_0x26a769(0x76c)?_0x3d9513+=_0x26a769(0x6fc):_0x3d9513+=_0x26a769(0x299)+_0x4b9763+_0x26a769(0x6ab);}}}}}let _0x18d05f='';if(!_0x3553c7){const _0x4c50a9=_0x47d7ef[_0x26a769(0x55b)]||0x0;if(_0x4c50a9>=0x3)_0x18d05f=_0x26a769(0xd8f);else _0x4c50a9>0x0&&(_0x18d05f=_0x26a769(0x705)+_0x4c50a9+_0x26a769(0x3f0));}const _0x582c4f=getCentralPotHTML(_0x1e254b);let _0xb6e5dd='';const _0x7a5690=localTeamPlayers[_0x26a769(0x512)](_0xbf8222=>_0x1e254b[_0x26a769(0xded)][_0xbf8222]?.[_0x26a769(0x6ff)]!==!![]);localTeamPlayers['length']>0x1&&_0x7a5690[_0x26a769(0x34a)]>0x1&&(_0xb6e5dd=_0x26a769(0x369));liveGameView[_0x26a769(0x93e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-3\x20items-center\x20mb-4\x20relative\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb6e5dd+_0x26a769(0x39a)+(_0x311b76+0x1)+_0x26a769(0x7c1)+_0x5deab2+_0x26a769(0xb8f)+_0x582c4f+_0x26a769(0x2da)+_0x6d9418+_0x26a769(0x844)+_0x18d05f+_0x26a769(0xa01)+_0x463cd8+_0x26a769(0xa01)+_0x5408a9+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d9513+_0x26a769(0x8ba)+(_0x1fe881[_0x26a769(0x885)]||_0x1fe881['stem'])+_0x26a769(0x460)+_0x4047d0+_0x26a769(0x48a);if(window[_0x26a769(0x5e4)])MathJax[_0x26a769(0xd06)]();function _0xa26790(_0x40afb0,_0x30c93d,_0x42fb94,_0x46eaa6){const _0x4c1dea=_0x26a769,_0x4a9b9c=_0x42fb94[_0x4c1dea(0xb5b)]===!![],_0x160db8=_0x42fb94[_0x4c1dea(0x8cb)],_0x514ded=_0x4c1dea(0x225)+_0x160db8+'_p'+_0x46eaa6,_0x4ef62b=sessionStorage['getItem'](_0x514ded),_0x5688b0=_0x4ef62b===_0x4c1dea(0xd1),_0x36da97=_0x42fb94[_0x4c1dea(0xded)][_0x46eaa6];if(_0x5688b0){const _0x3fe1d0=sessionStorage[_0x4c1dea(0x1c4)](_0x4c1dea(0xe1))===_0x4c1dea(0x5d8);if(_0x3553c7||_0x3fe1d0){const _0x4bed1f=_0x36da97[_0x4c1dea(0xaa6)]||0x0;sessionStorage[_0x4c1dea(0x545)](_0x4c1dea(0xe1)),handleSyncAnswerSubmit(_0x40afb0,_0x30c93d,_0x42fb94,_0x46eaa6,![],_0x4bed1f);}else{const _0x500ad8=document[_0x4c1dea(0xccc)](_0x4c1dea(0x4a1)),_0x10162f=document[_0x4c1dea(0xccc)](_0x4c1dea(0x478)),_0xe7da32=document['getElementById'](_0x4c1dea(0x683)),_0x1bb7af=document[_0x4c1dea(0xccc)]('wager-max-points'),_0x2bdfee=_0x36da97[_0x4c1dea(0xaa6)]||0x0;_0x10162f[_0x4c1dea(0xaa7)]=_0x2bdfee,_0x10162f['value']=_0x2bdfee,_0xe7da32['textContent']=_0x2bdfee,_0x1bb7af[_0x4c1dea(0xc76)]=_0x2bdfee,_0x10162f[_0x4c1dea(0xb76)]=()=>{const _0x4e5d67=_0x4c1dea;_0xe7da32['textContent']=_0x10162f[_0x4e5d67(0xa9f)];};const _0x4425e8=document['getElementById'](_0x4c1dea(0xd30));_0x4425e8[_0x4c1dea(0x87a)][_0x4c1dea(0x620)]=_0x40afb0,_0x4425e8['dataset'][_0x4c1dea(0x4c0)]=JSON['stringify'](_0x30c93d),_0x4425e8['dataset'][_0x4c1dea(0xb7b)]=JSON[_0x4c1dea(0x5ad)](_0x42fb94),_0x4425e8['dataset'][_0x4c1dea(0x89e)]=_0x46eaa6,_0x500ad8[_0x4c1dea(0x807)]['remove'](_0x4c1dea(0x9f0));}}else{if(_0x4a9b9c){document[_0x4c1dea(0xccc)](_0x4c1dea(0x443))[_0x4c1dea(0x87a)][_0x4c1dea(0xe65)]=_0x4c1dea(0xd2a);const _0x8993de=document[_0x4c1dea(0xccc)]('selected-answer-index-hidden');_0x8993de[_0x4c1dea(0x87a)][_0x4c1dea(0x620)]=_0x40afb0,_0x8993de[_0x4c1dea(0x87a)][_0x4c1dea(0x4c0)]=JSON[_0x4c1dea(0x5ad)](_0x30c93d),_0x8993de['dataset'][_0x4c1dea(0xb7b)]=JSON[_0x4c1dea(0x5ad)](_0x42fb94),_0x8993de[_0x4c1dea(0x87a)][_0x4c1dea(0x89e)]=_0x46eaa6,document[_0x4c1dea(0xccc)]('confidence-modal')[_0x4c1dea(0x807)][_0x4c1dea(0x90e)](_0x4c1dea(0x9f0));}else handleSyncAnswerSubmit(_0x40afb0,_0x30c93d,_0x42fb94,_0x46eaa6,![],0x0);}}_0x1ce144?document[_0x26a769(0xccc)]('sync-submit-btn')['addEventListener'](_0x26a769(0x343),()=>{const _0x24f575=_0x26a769,_0x1bdf0a=document[_0x24f575(0xccc)]('sync-short-answer-input')||document[_0x24f575(0xccc)](_0x24f575(0xa44));let _0x1bd0ab='';if(_0x1bdf0a)_0x1bd0ab=_0x1bdf0a['value'][_0x24f575(0x6b3)]();else{const _0x529f2a=document['getElementById'](_0x24f575(0xe03));if(_0x529f2a)_0x1bd0ab=_0x529f2a[_0x24f575(0xa9f)];}if(_0x1bd0ab===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0xa26790(_0x1bd0ab,_0x1fe881,_0x1e254b,_0x6d9418);}):document[_0x26a769(0x5f0)]('.live-answer-btn')[_0x26a769(0x8f9)](_0x2a5364=>{const _0x40e93a=_0x26a769;_0x2a5364[_0x40e93a(0x7d6)](_0x40e93a(0x343),()=>{const _0x3c40dd=_0x40e93a;_0xa26790(_0x2a5364[_0x3c40dd(0x87a)][_0x3c40dd(0xa9f)],_0x1fe881,_0x1e254b,_0x6d9418);});});const _0x27b619=document[_0x26a769(0xccc)](_0x26a769(0x83c));_0x27b619&&_0x27b619[_0x26a769(0x7d6)](_0x26a769(0x343),()=>{showResponderSelectionModal(_0x1e254b);});if(_0x1e254b['isBlackMarketEnabled']===!![]&&!_0x3553c7){const _0x521fd9=document[_0x26a769(0xccc)](_0x26a769(0x8a0));_0x521fd9&&_0x521fd9['addEventListener']('click',()=>{const _0xe516aa=_0x26a769,_0x10b8bd=_0xe516aa(0xb44)+_0x311b76+'_p'+_0x6d9418,_0x5191e8=sessionStorage[_0xe516aa(0x1c4)](_0x10b8bd)===_0xe516aa(0x5d8);if(!_0x5191e8)openBlackMarket(_0x1e254b,_0x47d7ef),sessionStorage[_0xe516aa(0xc9c)](_0x10b8bd,_0xe516aa(0x5d8)),renderStudentSyncQuestionView(_0x1e254b);else{if(_0x47d7ef[_0xe516aa(0xaa6)]<0x1){showMessage(_0xe516aa(0x4e3));return;}showConfirmation(_0xe516aa(0x8a6),()=>{handlePayForMarketEntry(_0x6d9418,_0x1e254b,_0x47d7ef);});}}),document[_0x26a769(0xccc)]('use-powerup-buyTime')?.[_0x26a769(0x7d6)](_0x26a769(0x343),_0x8f08b9=>{const _0x513f66=_0x26a769;_0x8f08b9['target']['disabled']=!![],handleUsePowerup(_0x6d9418,_0x513f66(0xe77),_0x1fe881,_0x1e254b,_0x47d7ef);}),document[_0x26a769(0xccc)](_0x26a769(0xcee))?.[_0x26a769(0x7d6)](_0x26a769(0x343),_0x5dc8f3=>{const _0x53a667=_0x26a769;_0x5dc8f3[_0x53a667(0xc55)][_0x53a667(0x7ef)]=!![],handleUsePowerup(_0x6d9418,_0x53a667(0xda5),_0x1fe881,_0x1e254b,_0x47d7ef);}),document['getElementById']('use-powerup-insurance')?.[_0x26a769(0x7d6)](_0x26a769(0x343),_0x29b498=>{const _0x36dd89=_0x26a769;_0x29b498[_0x36dd89(0xc55)][_0x36dd89(0x7ef)]=!![],handleUsePowerup(_0x6d9418,_0x36dd89(0x76c),_0x1fe881,_0x1e254b,_0x47d7ef);}),document[_0x26a769(0xccc)](_0x26a769(0x1e2))?.[_0x26a769(0x7d6)](_0x26a769(0x343),_0x3faf69=>{const _0x406f34=_0x26a769;_0x3faf69[_0x406f34(0xc55)][_0x406f34(0x7ef)]=!![],handleUsePowerup(_0x6d9418,'fiftyFifty',_0x1fe881,_0x1e254b,_0x47d7ef);}),document[_0x26a769(0xccc)]('use-powerup-secondChance')?.[_0x26a769(0x7d6)]('click',_0x22cefa=>{const _0x28abf8=_0x26a769;_0x22cefa[_0x28abf8(0xc55)][_0x28abf8(0x7ef)]=!![],handleUsePowerup(_0x6d9418,_0x28abf8(0x8b0),_0x1fe881,_0x1e254b,_0x47d7ef);}),document['getElementById']('use-powerup-revealOptions')?.[_0x26a769(0x7d6)]('click',_0x76e2f6=>{const _0x3f2964=_0x26a769;_0x76e2f6[_0x3f2964(0xc55)][_0x3f2964(0x7ef)]=!![],handleUsePowerup(_0x6d9418,_0x3f2964(0xb0e),_0x1fe881,_0x1e254b,_0x47d7ef);}),document[_0x26a769(0xccc)](_0x26a769(0xe72))?.[_0x26a769(0x7d6)]('click',_0x1abcec=>{const _0x4670f9=_0x26a769;_0x1abcec[_0x4670f9(0xc55)][_0x4670f9(0x7ef)]=!![],sessionStorage[_0x4670f9(0xc9c)](_0x4670f9(0xe1),_0x4670f9(0xb54)),handleUsePowerup(_0x6d9418,_0x4670f9(0xd1),_0x1fe881,_0x1e254b,_0x47d7ef);});}_0x1e254b['isBlackMarketEnabled']===!![]&&document[_0x26a769(0xccc)](_0x26a769(0x670))?.[_0x26a769(0x7d6)](_0x26a769(0x343),_0x3880ca=>{const _0x43903=_0x26a769;_0x3880ca[_0x43903(0xc55)][_0x43903(0x7ef)]=!![],sessionStorage[_0x43903(0xc9c)](_0x43903(0xe1),_0x43903(0x5d8)),handleUsePowerup(_0x6d9418,'wagerMultiplier',_0x1fe881,_0x1e254b,_0x47d7ef);});}window[_0x157a22(0xa38)]=function(){const _0x2ed9d9=_0x157a22,_0x19730c=document[_0x2ed9d9(0xccc)](_0x2ed9d9(0x19e));if(_0x19730c)_0x19730c[_0x2ed9d9(0x807)][_0x2ed9d9(0x9e5)]('hidden');},window['selectSyncOption']=function(_0x549427){const _0x11968a=_0x157a22,_0x32ff33=document[_0x11968a(0xccc)](_0x11968a(0xe03));if(_0x32ff33)_0x32ff33[_0x11968a(0xa9f)]=_0x549427;const _0xd8906e=document[_0x11968a(0xccc)]('sync-dropdown-display');if(_0xd8906e){_0xd8906e[_0x11968a(0x93e)]=_0x549427,_0xd8906e[_0x11968a(0x807)]['remove'](_0x11968a(0xd16)),_0xd8906e[_0x11968a(0x807)]['add'](_0x11968a(0x818),'font-bold');if(window[_0x11968a(0x5e4)])MathJax[_0x11968a(0xd06)]([_0xd8906e]);}document[_0x11968a(0xccc)](_0x11968a(0x19e))['classList'][_0x11968a(0xcec)]('hidden');},document[_0x157a22(0x7d6)](_0x157a22(0x343),_0x4793a0=>{const _0x31a619=_0x157a22;if(!_0x4793a0['target'][_0x31a619(0x43a)](_0x31a619(0xcd6))){const _0x5708ef=document['getElementById'](_0x31a619(0x19e));if(_0x5708ef)_0x5708ef[_0x31a619(0x807)][_0x31a619(0xcec)](_0x31a619(0x9f0));}});function showResponderSelectionModal(_0x2bb38e){const _0x361f09=_0x157a22,_0x5072b9=_0x2bb38e[_0x361f09(0x8cb)],_0x2110da=_0x2bb38e[_0x361f09(0x937)][_0x361f09(0xdbf)][_0x361f09(0x34a)],_0x451b19=localTeamPlayers[_0x361f09(0x512)](_0x2b7aaf=>_0x2bb38e[_0x361f09(0xded)][_0x2b7aaf]?.['answered']!==!![]),_0x234256=_0x451b19[_0x361f09(0x141)](_0x3a4a4b=>_0x361f09(0xa7d)+_0x3a4a4b+_0x361f09(0xda6)+_0x3a4a4b+_0x361f09(0x8fe))[_0x361f09(0x72e)](''),_0x3cdb02='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22responder-selection-overlay\x22\x20class=\x22fixed\x20inset-0\x20bg-indigo-700\x20z-[999]\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-6\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/20\x20px-4\x20py-1\x20rounded-full\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-white\x20text-sm\x22>ข้อที่\x20'+(_0x5072b9+0x1)+_0x361f09(0xc71)+_0x2110da+_0x361f09(0x3df)+_0x234256+_0x361f09(0x810);document[_0x361f09(0x95a)][_0x361f09(0x97f)](_0x361f09(0xe2f),_0x3cdb02),document[_0x361f09(0x5f0)](_0x361f09(0xc14))[_0x361f09(0x8f9)](_0x2de47b=>{const _0x4dc911=_0x361f09;_0x2de47b[_0x4dc911(0x7d6)](_0x4dc911(0x343),()=>{const _0x35c6c8=_0x4dc911,_0x153df7=_0x2de47b['dataset'][_0x35c6c8(0x190)];switchPlayerOnDevice(_0x153df7,_0x2bb38e),document[_0x35c6c8(0xccc)](_0x35c6c8(0xdb1))['remove']();});}),document['getElementById'](_0x361f09(0x5ee))['addEventListener'](_0x361f09(0x343),()=>{const _0x394cb0=_0x361f09;document[_0x394cb0(0xccc)]('responder-selection-overlay')[_0x394cb0(0x90e)]();});}function switchPlayerOnDevice(_0x5f16a9,_0x54d6a3){const _0x4febd9=localTeamPlayers['indexOf'](_0x5f16a9);_0x4febd9!==-0x1&&(localPlayerTurnIndex=_0x4febd9,renderStudentSyncQuestionView(_0x54d6a3));}async function handleSyncAnswerSubmit(_0x480043,_0xd5a3b4,_0x2b7248,_0xc4cb56,_0x2c62c1,_0x9ac6f0=0x0){const _0x42557a=_0x157a22;document[_0x42557a(0x5f0)](_0x42557a(0x117))['forEach'](_0x41e93f=>_0x41e93f[_0x42557a(0x7ef)]=!![]);const _0x12c427=_0x2b7248[_0x42557a(0x8cb)],_0x24a0f7=_0x42557a(0x225)+_0x12c427+'_p'+_0xc4cb56,_0x1ec911=sessionStorage['getItem'](_0x24a0f7),_0xcd4ff9=_0x2b7248[_0x42557a(0xded)][_0xc4cb56]||{},_0x2aa70f=_0xcd4ff9[_0x42557a(0xa07)]===!![],_0x2d4460=sessionStorage[_0x42557a(0x1c4)](_0x42557a(0x372))===_0x42557a(0x5d8);let _0x568e88=_0xcd4ff9[_0x42557a(0x55b)]||0x0;_0x1ec911&&_0x1ec911!==_0x42557a(0xd1)&&(_0x568e88=0x0);const _0x37e72e=_0x568e88>=0x3,_0x4ce6b6=_0xd5a3b4['questionType']||_0x2b7248[_0x42557a(0x937)][_0x42557a(0x7fc)];let _0x489180=![],_0x2e356d=_0x480043;switch(_0x4ce6b6){case _0x42557a(0xc6b):const _0x1afebd=parseInt(_0x480043),_0x1bd7c3=_0xd5a3b4[_0x42557a(0xcab)]===!![]||String(_0xd5a3b4[_0x42557a(0xcab)])[_0x42557a(0x8e9)]()===_0x42557a(0x5d8);_0x489180=_0x1afebd===0x0&&_0x1bd7c3||_0x1afebd===0x1&&!_0x1bd7c3,_0x2e356d=_0x1afebd===0x0?_0x42557a(0x814):_0x42557a(0x29c);break;case _0x42557a(0xb27):case'fill_in_no_choices':_0x489180=await gradeShortAnswer(_0x480043,_0xd5a3b4);break;case _0x42557a(0x283):_0x489180=_0x480043===_0xd5a3b4['correctResponse'];break;case _0x42557a(0x75f):default:const _0x45d0f0=parseInt(_0x480043);_0x489180=_0x45d0f0===_0xd5a3b4[_0x42557a(0x2bd)];_0xd5a3b4['options']&&_0xd5a3b4[_0x42557a(0xaee)][_0x45d0f0]&&(_0x2e356d=_0xd5a3b4[_0x42557a(0xaee)][_0x45d0f0]);break;}if(!_0x489180&&_0x1ec911===_0x42557a(0x8b0)&&!_0x2d4460){sessionStorage['removeItem'](_0x24a0f7),sessionStorage['setItem'](_0x42557a(0x372),_0x42557a(0x5d8)),showMessage(_0x42557a(0x7e8)),document[_0x42557a(0x5f0)](_0x42557a(0x117))['forEach'](_0x31ad54=>{const _0x3553e6=_0x42557a;if(!_0x31ad54['classList'][_0x3553e6(0xa2d)](_0x3553e6(0x9f0)))_0x31ad54[_0x3553e6(0x7ef)]=![];});return;}let _0x429cf4=0x0;const _0x5c19ac=_0x1ec911===_0x42557a(0xd1),_0x53229e=_0x1ec911==='insurance',_0x23e85f=sessionStorage[_0x42557a(0x1c4)]('pollUsedThisTurn')===_0x42557a(0x5d8),_0x335532=_0xcd4ff9[_0x42557a(0x8d8)]===!![];if(_0x5c19ac){const _0x5db089=parseInt(_0x9ac6f0,0xa)||0x0;_0x429cf4=_0x489180?_0x5db089*0x2:-_0x5db089;}else{if(_0x23e85f&&!_0x489180)_0x429cf4=_0x2c62c1===!![]||_0x2c62c1===_0x42557a(0xbea)||_0x2aa70f?-0x4:-0x2;else{if(_0x2aa70f)_0x429cf4=_0x489180?0x2:-0x1;else{if(_0x2b7248['isConfidenceScoringEnabled']){if(_0x489180&&(_0x2c62c1===!![]||_0x2c62c1===_0x42557a(0xbea)))_0x429cf4=0x2;else{if(_0x489180)_0x429cf4=0x1;else{if(!_0x489180&&(_0x2c62c1===![]||_0x2c62c1==='not_confident'||_0x2c62c1===null))_0x429cf4=0x0;else{if(!_0x489180&&(_0x2c62c1===!![]||_0x2c62c1===_0x42557a(0xbea)))_0x429cf4=-0x1;}}}}else _0x429cf4=_0x489180?0x1:0x0;}}}_0x37e72e&&_0x429cf4>0x0&&(_0x429cf4*=0x2);_0x335532&&!_0x489180&&_0x429cf4<0x0&&(_0x429cf4*=0x2);!_0x489180&&_0x53229e&&(_0x429cf4=0x0);const _0x1bff1a=(_0xcd4ff9[_0x42557a(0xae4)]||0x0)>0x0,_0x4d8511=_0x1ec911&&_0x1ec911!==_0x42557a(0xd1);let _0x2669a8=0x0;_0x489180&&(_0x2669a8=_0x4d8511?0x0:_0x568e88+0x1);const _0x4bad35={'questionIndex':_0x2b7248['currentQuestionIndex'],'questionId':_0xd5a3b4['id'],'answer':_0x480043,'answerText':_0x2e356d,'isCorrect':_0x489180,'originalQuestionText':_0xd5a3b4[_0x42557a(0x885)]||_0xd5a3b4[_0x42557a(0x6a8)],'wasConfident':_0x2aa70f?'confident':_0x2c62c1||![],'pointsAwarded':_0x429cf4,'powerupUsed':_0x1ec911||null,'wagerAmount':_0x5c19ac?parseInt(_0x9ac6f0,0xa)||0x0:0x0,'wasJinxed':_0x335532||![],'wasForced':_0x2aa70f||![],'usedPoll':_0x23e85f||![],'usedBuyTime':_0x1bff1a,'streakActive':_0x37e72e},_0x38715e=doc(db,_0x42557a(0x331)+appId+_0x42557a(0x309)+currentLiveGameId+_0x42557a(0x9f4),_0xc4cb56),_0x50f6e9=_0xcd4ff9[_0x42557a(0x534)]||[],_0x57adb8=_0x50f6e9[_0x42557a(0x512)](_0x38f6b7=>_0x38f6b7[_0x42557a(0xb87)]!==_0x2b7248[_0x42557a(0x8cb)]),_0x194bc8=[..._0x57adb8,_0x4bad35],_0x2b8c9c=_0x194bc8[_0x42557a(0x512)](_0x375724=>_0x375724[_0x42557a(0xa04)])[_0x42557a(0x34a)],_0x377a44={'answers':_0x194bc8,'score':_0x2b8c9c,'totalPoints':increment(_0x429cf4),'answered':!![],'lastAnswerIndex':_0x4ce6b6===_0x42557a(0x75f)||_0x4ce6b6==='true_false'?parseInt(_0x480043):null,'lastAnswerValue':_0x2e356d,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x2669a8};if(_0x2d4460)sessionStorage['removeItem'](_0x42557a(0x372));try{await updateDoc(_0x38715e,_0x377a44);}catch(_0x5017fb){console[_0x42557a(0xada)](_0x42557a(0x5c8),_0x5017fb),showMessage(_0x42557a(0xd07)),document[_0x42557a(0x5f0)]('.live-answer-btn,\x20#sync-submit-btn')[_0x42557a(0x8f9)](_0x972e7=>_0x972e7[_0x42557a(0x7ef)]=![]);}}const allMarketItems=[{'id':_0x157a22(0xe77),'name':_0x157a22(0x127),'price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x157a22(0xda5),'name':'✂️\x20ตัด\x201\x20ตัวเลือก','price':0x2,'desc':_0x157a22(0x9e2)},{'id':_0x157a22(0xe40),'name':_0x157a22(0xa7f),'price':0x5,'desc':_0x157a22(0x996)},{'id':_0x157a22(0x8b0),'name':_0x157a22(0x556),'price':0x7,'desc':_0x157a22(0xc94)},{'id':_0x157a22(0xb0e),'name':'👁️\x20เผยตัวเลือก','price':0xc,'desc':_0x157a22(0x5cf)}];function openBlackMarket(_0x7bbe5d,_0x5ef50e){const _0x5f33ea=_0x157a22;let _0x2517fa=null;const _0x486e1a=document['getElementById'](_0x5f33ea(0xe00)),_0x3442dc=document[_0x5f33ea(0xccc)](_0x5f33ea(0xd52)),_0xf57d4f=document[_0x5f33ea(0xccc)](_0x5f33ea(0xa73)),_0x15ee13=document[_0x5f33ea(0xccc)]('market-timer-bar'),_0x39b453=_0x5ef50e[_0x5f33ea(0xaa6)]||0x0;_0xf57d4f[_0x5f33ea(0xc76)]=_0x39b453;const _0x3fe6d9=_0x7bbe5d['currentQuestionIndex'],_0x53b9a5=_0x7bbe5d[_0x5f33ea(0x937)][_0x5f33ea(0xdbf)][_0x3fe6d9],_0xbc2cef=_0x53b9a5['questionType']||_0x7bbe5d[_0x5f33ea(0x937)][_0x5f33ea(0x7fc)],_0x48a571=_0x7bbe5d['timerMode']===_0x5f33ea(0xc47),_0x58b159=allMarketItems;_0x3442dc['innerHTML']=_0x58b159[_0x5f33ea(0x141)](_0x146d32=>{const _0x5f15db=_0x5f33ea,_0x84aabe=_0x39b453>=_0x146d32[_0x5f15db(0x361)];if(_0x146d32['id']===_0x5f15db(0xe77)){const _0x569f01=_0x84aabe?Math[_0x5f15db(0xc3c)](_0x39b453/_0x146d32[_0x5f15db(0x361)]):0x0,_0x1dc92=_0x84aabe&&_0x48a571;let _0x146c27=_0x5f15db(0x964)+_0x146d32['price']+_0x5f15db(0xe27),_0x1c7823=_0x1dc92?_0x5f15db(0x420):_0x5f15db(0x14c);return!_0x48a571&&(_0x146c27=_0x5f15db(0xb26),_0x1c7823='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),_0x5f15db(0x302)+(!_0x1dc92?_0x5f15db(0x1ed):_0x5f15db(0x76a))+_0x5f15db(0x6b0)+_0x146d32['name']+_0x5f15db(0xbb1)+_0x146d32[_0x5f15db(0x215)]+_0x5f15db(0x57f)+_0x569f01+'\x22\x20'+(!_0x1dc92?_0x5f15db(0x7ef):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20'+_0x1c7823+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x146d32['id']+_0x5f15db(0x246)+_0x146d32['price']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1dc92?_0x5f15db(0x7ef):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x146c27+_0x5f15db(0xc30);}else{let _0x53242c=!_0x84aabe,_0x40f524=_0x84aabe?_0x5f15db(0x420):_0x5f15db(0x14c),_0x43e02f=_0x5f15db(0x964)+_0x146d32[_0x5f15db(0x361)]+'P)';if(_0x146d32['id']===_0x5f15db(0xb0e)){const _0x556a63=_0x53b9a5[_0x5f15db(0xaee)]&&_0x53b9a5[_0x5f15db(0xaee)]['length']>0x0,_0x177d8f=_0xbc2cef===_0x5f15db(0xb27)||_0xbc2cef==='fill_in_no_choices';(!_0x556a63||!_0x177d8f)&&(_0x53242c=!![],_0x40f524=_0x5f15db(0x293),_0x43e02f=_0x5f15db(0x901));}if(_0x146d32['id']===_0x5f15db(0xda5)||_0x146d32['id']==='fiftyFifty'){const _0x406d65=_0xbc2cef===_0x5f15db(0xb27)||_0xbc2cef===_0x5f15db(0xdf0),_0x2c7954=_0x53b9a5['options']&&_0x53b9a5[_0x5f15db(0xaee)][_0x5f15db(0x34a)]>0x0;(_0x406d65||!_0x2c7954)&&(_0x53242c=!![],_0x40f524=_0x5f15db(0x293),_0x43e02f=_0x5f15db(0x2c9));}return _0x5f15db(0x302)+(_0x53242c?'bg-gray-100\x20opacity-70':_0x5f15db(0x76a))+_0x5f15db(0x6b0)+_0x146d32['name']+_0x5f15db(0xbb1)+_0x146d32[_0x5f15db(0x215)]+_0x5f15db(0x9dd)+_0x40f524+_0x5f15db(0x77e)+_0x146d32['id']+_0x5f15db(0x715)+_0x146d32[_0x5f15db(0x361)]+_0x5f15db(0x344)+(_0x53242c?_0x5f15db(0x7ef):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43e02f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}})[_0x5f33ea(0x72e)](''),_0x486e1a[_0x5f33ea(0x807)]['remove'](_0x5f33ea(0x9f0)),_0x15ee13['style'][_0x5f33ea(0x2e6)]=_0x5f33ea(0x80b),_0x15ee13[_0x5f33ea(0xb74)][_0x5f33ea(0x507)]='100%',setTimeout(()=>{const _0x4b55db=_0x5f33ea;_0x15ee13[_0x4b55db(0xb74)][_0x4b55db(0x2e6)]=_0x4b55db(0x15f),_0x15ee13['style']['width']='0%';},0x32),_0x2517fa=setTimeout(()=>{const _0x3accd7=_0x5f33ea;_0x486e1a['classList']['add'](_0x3accd7(0x9f0));},0xea60),document[_0x5f33ea(0xccc)](_0x5f33ea(0x392))[_0x5f33ea(0xc51)]=()=>{const _0x4b2b75=_0x5f33ea;clearTimeout(_0x2517fa),_0x486e1a[_0x4b2b75(0x807)]['add'](_0x4b2b75(0x9f0));},_0x3442dc['querySelectorAll'](_0x5f33ea(0x8e8))[_0x5f33ea(0x8f9)](_0x3c216e=>{const _0x555fb2=_0x5f33ea;_0x3c216e[_0x555fb2(0xc51)]=_0x567a5e=>{const _0x2eb9a6=_0x555fb2,_0x1a03f6=_0x567a5e['target'][_0x2eb9a6(0x87a)][_0x2eb9a6(0x2ad)],_0x3a1238=parseInt(_0x567a5e[_0x2eb9a6(0xc55)][_0x2eb9a6(0x87a)][_0x2eb9a6(0x361)],0xa);clearTimeout(_0x2517fa),_0x486e1a[_0x2eb9a6(0x807)]['add'](_0x2eb9a6(0x9f0)),handleBuyItem(_0x5ef50e[_0x2eb9a6(0x190)],_0x1a03f6,_0x3a1238,0x1);};}),_0x3442dc['querySelectorAll']('.buy-time-confirm-btn')[_0x5f33ea(0x8f9)](_0x3fda9b=>{const _0x2c261a=_0x5f33ea;_0x3fda9b[_0x2c261a(0xc51)]=_0xf04aee=>{const _0x55b205=_0x2c261a,_0x265522=_0xf04aee[_0x55b205(0xc55)][_0x55b205(0x87a)][_0x55b205(0x2ad)],_0x761a6=parseInt(_0xf04aee[_0x55b205(0xc55)][_0x55b205(0x87a)][_0x55b205(0x361)],0xa),_0xd85e14=document[_0x55b205(0xccc)](_0x55b205(0x41f)),_0x4f66e3=parseInt(_0xd85e14[_0x55b205(0xa9f)],0xa),_0x118181=parseInt(_0xd85e14['max'],0xa);if(!_0x4f66e3||_0x4f66e3<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0x4f66e3>_0x118181){showMessage('คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20'+_0x118181+'\x20ชิ้น)');return;}clearTimeout(_0x2517fa),_0x486e1a['classList'][_0x55b205(0xcec)](_0x55b205(0x9f0)),handleBuyItem(_0x5ef50e['name'],_0x265522,_0x761a6,_0x4f66e3);};});}async function handleBuyItem(_0x2b74cf,_0x3578e4,_0x15d610,_0x131fd0=0x1){const _0x5cb0cc=_0x157a22,_0x98c89e=doc(db,_0x5cb0cc(0x331)+appId+_0x5cb0cc(0x309)+currentLiveGameId+_0x5cb0cc(0x9f4),_0x2b74cf);try{await runTransaction(db,async _0x27eb33=>{const _0x320e46=_0x5cb0cc,_0x5a74ea=await _0x27eb33[_0x320e46(0x222)](_0x98c89e);if(!_0x5a74ea[_0x320e46(0xc43)]())throw _0x320e46(0xd27);const _0x2aa0d8=_0x5a74ea['data']()[_0x320e46(0xaa6)]||0x0,_0x270b57=_0x15d610*_0x131fd0;if(_0x2aa0d8<_0x270b57)throw _0x320e46(0xdd3);const _0x1c8b13={};_0x1c8b13[_0x320e46(0xaa6)]=increment(-_0x270b57),_0x1c8b13[_0x320e46(0xd9e)+_0x3578e4]=increment(_0x131fd0),_0x27eb33[_0x320e46(0x8bf)](_0x98c89e,_0x1c8b13);}),showMessage(_0x5cb0cc(0x333)+_0x3578e4+_0x5cb0cc(0xddc)+_0x131fd0+_0x5cb0cc(0xe5b));}catch(_0x5dad4a){console[_0x5cb0cc(0xada)](_0x5cb0cc(0xbaf),_0x5dad4a),showMessage(typeof _0x5dad4a===_0x5cb0cc(0xa30)?_0x5dad4a:_0x5cb0cc(0xd4));}}async function handlePayForMarketEntry(_0x49755b,_0x2f3e20,_0x4835ee){const _0x56990f=_0x157a22,_0x257920=doc(db,'artifacts/'+appId+_0x56990f(0x309)+currentLiveGameId+_0x56990f(0x9f4),_0x49755b);try{await runTransaction(db,async _0x4adccb=>{const _0x5a8eab=_0x56990f,_0x214efa=await _0x4adccb[_0x5a8eab(0x222)](_0x257920);if(!_0x214efa[_0x5a8eab(0xc43)]())throw _0x5a8eab(0xd27);const _0x41b3c2=_0x214efa[_0x5a8eab(0xd60)]()[_0x5a8eab(0xaa6)]||0x0;if(_0x41b3c2<0x1)throw _0x5a8eab(0xdf6);const _0x565e47={};_0x565e47[_0x5a8eab(0xaa6)]=increment(-0x1),_0x4adccb[_0x5a8eab(0x8bf)](_0x257920,_0x565e47);});const _0x364c48={..._0x4835ee,'totalPoints':(_0x4835ee['totalPoints']||0x0)-0x1};openBlackMarket(_0x2f3e20,_0x364c48);}catch(_0x536cd1){console[_0x56990f(0xada)](_0x56990f(0xc1d),_0x536cd1),showMessage(typeof _0x536cd1===_0x56990f(0xa30)?_0x536cd1:_0x56990f(0xa94));}}const audioCtx=new(window[(_0x157a22(0xe2a))]||window[(_0x157a22(0x400))])();function playSystemSound(_0xf33696){const _0x4c0a39=_0x157a22;if(audioCtx[_0x4c0a39(0xaf9)]===_0x4c0a39(0x390))audioCtx[_0x4c0a39(0x727)]();const _0x758c2e=audioCtx['createOscillator'](),_0x1ca135=audioCtx['createGain']();_0x758c2e[_0x4c0a39(0xc54)](_0x1ca135),_0x1ca135[_0x4c0a39(0xc54)](audioCtx[_0x4c0a39(0xbf3)]);const _0x26b9f8=audioCtx[_0x4c0a39(0x829)];if(_0xf33696==='correct')_0x758c2e['type']='sine',_0x758c2e[_0x4c0a39(0x630)][_0x4c0a39(0x93c)](0x258,_0x26b9f8),_0x758c2e['frequency'][_0x4c0a39(0x4cd)](0x4b0,_0x26b9f8+0.1),_0x1ca135['gain']['setValueAtTime'](0.1,_0x26b9f8),_0x1ca135['gain'][_0x4c0a39(0x4cd)](0.01,_0x26b9f8+0.5),_0x758c2e[_0x4c0a39(0x39d)](_0x26b9f8),_0x758c2e[_0x4c0a39(0xa26)](_0x26b9f8+0.5);else{if(_0xf33696===_0x4c0a39(0x426))_0x758c2e[_0x4c0a39(0xd10)]=_0x4c0a39(0x904),_0x758c2e[_0x4c0a39(0x630)][_0x4c0a39(0x93c)](0x96,_0x26b9f8),_0x758c2e[_0x4c0a39(0x630)][_0x4c0a39(0x4cd)](0x64,_0x26b9f8+0.2),_0x1ca135[_0x4c0a39(0x7d7)][_0x4c0a39(0x93c)](0.1,_0x26b9f8),_0x1ca135['gain'][_0x4c0a39(0x4cd)](0.01,_0x26b9f8+0.3),_0x758c2e[_0x4c0a39(0x39d)](_0x26b9f8),_0x758c2e[_0x4c0a39(0xa26)](_0x26b9f8+0.3);else _0xf33696===_0x4c0a39(0x26c)&&(_0x758c2e[_0x4c0a39(0xd10)]=_0x4c0a39(0xb92),_0x758c2e[_0x4c0a39(0x630)]['setValueAtTime'](0x12c,_0x26b9f8),_0x758c2e[_0x4c0a39(0x630)][_0x4c0a39(0x474)](0x258,_0x26b9f8+0.1),_0x1ca135[_0x4c0a39(0x7d7)][_0x4c0a39(0x93c)](0.1,_0x26b9f8),_0x1ca135[_0x4c0a39(0x7d7)][_0x4c0a39(0x474)](0.01,_0x26b9f8+0.3),_0x758c2e[_0x4c0a39(0x39d)](_0x26b9f8),_0x758c2e[_0x4c0a39(0xa26)](_0x26b9f8+0.3));}}initialize();
