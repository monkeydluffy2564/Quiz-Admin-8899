const _0x354eeb=_0x421e;(function(_0x27da31,_0x4dd322){const _0x47d103=_0x421e,_0x2b9021=_0x27da31();while(!![]){try{const _0x1dcf4a=parseInt(_0x47d103(0x5a4))/0x1+-parseInt(_0x47d103(0x6fd))/0x2*(-parseInt(_0x47d103(0x785))/0x3)+-parseInt(_0x47d103(0x775))/0x4*(-parseInt(_0x47d103(0x209))/0x5)+-parseInt(_0x47d103(0x4f3))/0x6*(parseInt(_0x47d103(0xbd5))/0x7)+parseInt(_0x47d103(0x749))/0x8*(parseInt(_0x47d103(0x447))/0x9)+parseInt(_0x47d103(0x964))/0xa+-parseInt(_0x47d103(0x7eb))/0xb;if(_0x1dcf4a===_0x4dd322)break;else _0x2b9021['push'](_0x2b9021['shift']());}catch(_0x4c0632){_0x2b9021['push'](_0x2b9021['shift']());}}}(_0x285d,0x8112c));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x354eeb(0x885),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x354eeb(0x885),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x371f30=_0x354eeb;if(_0x371f30(0x37b)in navigator)try{wakeLock=await navigator[_0x371f30(0x37b)][_0x371f30(0xc32)](_0x371f30(0x9ae)),console['log']('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener']('release',()=>{const _0x2af55f=_0x371f30;console[_0x2af55f(0x4b0)](_0x2af55f(0x6db));});}catch(_0x1ea0e7){console[_0x371f30(0x894)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x1ea0e7[_0x371f30(0x799)]+',\x20'+_0x1ea0e7[_0x371f30(0x5b6)]);}else console[_0x371f30(0xc25)](_0x371f30(0xc6f));},releaseWakeLock=async()=>{const _0x41fe71=_0x354eeb;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x41fe71(0x4b0)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const ANONYMOUS_NAMES=[_0x354eeb(0x407),_0x354eeb(0xd5c),'เทพทรู','เหมียวขี้เซา',_0x354eeb(0xdad),'เต่าสายฟ้า',_0x354eeb(0x4dd),_0x354eeb(0x57e),_0x354eeb(0x312),'จิงโจ้สโลว์ไลฟ์',_0x354eeb(0x79f),'มือปราบสายรุ้ง','เงาปริศนา','สายลมแห่งโชคชะตา',_0x354eeb(0x716),_0x354eeb(0x8c9),'นินจาชาเขียว','ซามูไรสายเดี่ยว',_0x354eeb(0x957),_0x354eeb(0x2de),_0x354eeb(0x5eb),_0x354eeb(0x838),_0x354eeb(0x6b8),_0x354eeb(0x4e4),'กุ้งเต้นแร้งกา',_0x354eeb(0xc5a),_0x354eeb(0xb24),_0x354eeb(0x6d3),_0x354eeb(0xd97),_0x354eeb(0x2c2),_0x354eeb(0x1ef),_0x354eeb(0x528),'คนดีศรีสยาม',_0x354eeb(0x551),_0x354eeb(0xbaa),_0x354eeb(0x5fb),_0x354eeb(0x796),'อินฟลูเอนเซอร์',_0x354eeb(0x514),'ดาวสภา',_0x354eeb(0xc02),_0x354eeb(0x7ef),_0x354eeb(0xc74),'พิซซ่าหน้าทุเรียน',_0x354eeb(0x620),'ข้าวมันไก่พิเศษ',_0x354eeb(0x69e),'ครัวซองต์',_0x354eeb(0xcd4),'ลาเต้ไม่หวาน',_0x354eeb(0x651),_0x354eeb(0xd1d),'ออฟฟิศซินโดรม',_0x354eeb(0xb8b),_0x354eeb(0x4b7),_0x354eeb(0xceb),_0x354eeb(0x724),_0x354eeb(0xc61),'404\x20Not\x20Found','กองดอง',_0x354eeb(0x81a),_0x354eeb(0x67c),'สายหมอก',_0x354eeb(0x4d7),_0x354eeb(0xb4d),_0x354eeb(0x967),_0x354eeb(0x404),_0x354eeb(0xbd4),_0x354eeb(0xd88),_0x354eeb(0x391),_0x354eeb(0x317),_0x354eeb(0xb13),_0x354eeb(0xa71),_0x354eeb(0x654),'นักดนตรี','นักเขียน',_0x354eeb(0x959),_0x354eeb(0xd4f),_0x354eeb(0x9ad),_0x354eeb(0x4f5),_0x354eeb(0x65c),_0x354eeb(0x41e),'แปลงร่าง',_0x354eeb(0x3fb),'ดาบพิฆาตอสูร',_0x354eeb(0x201),_0x354eeb(0xad1),_0x354eeb(0x83a),_0x354eeb(0x787),_0x354eeb(0x459),_0x354eeb(0x4c0),_0x354eeb(0x3aa),_0x354eeb(0xab4),_0x354eeb(0x593),_0x354eeb(0x23d),'คู่จิ้น','แฟนทิพย์',_0x354eeb(0x8bd),_0x354eeb(0x781),_0x354eeb(0xa51)],inactivityTime=0xea60;function resetDimTimer(){const _0x3a6c85=_0x354eeb;if(!document['body'][_0x3a6c85(0x565)][_0x3a6c85(0xa60)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4bca1f=_0x3a6c85;document['body'][_0x4bca1f(0x565)]['add'](_0x4bca1f(0x801)),console['log']('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0xd47481){const _0x54324a=_0x354eeb;_0xd47481&&(_0xd47481[_0x54324a(0x5c4)](),_0xd47481[_0x54324a(0x304)]());document[_0x54324a(0xdd4)][_0x54324a(0x565)][_0x54324a(0xc9d)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x2bd24b=_0x54324a;document[_0x2bd24b(0xdd4)][_0x2bd24b(0x565)][_0x2bd24b(0x21a)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x3702fd=_0x354eeb;if(dimTimer)clearTimeout(dimTimer);document[_0x3702fd(0xdd4)][_0x3702fd(0x565)][_0x3702fd(0xc9d)](_0x3702fd(0x801)),window[_0x3702fd(0xac0)](_0x3702fd(0x655),resetDimTimer),window[_0x3702fd(0xac0)](_0x3702fd(0x5ec),resetDimTimer),window[_0x3702fd(0xac0)](_0x3702fd(0x99d),resetDimTimer),window[_0x3702fd(0xac0)](_0x3702fd(0xa79),resetDimTimer),console['log'](_0x3702fd(0x600));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x2e0204,_0x3289bb=![]){const _0x48c840=_0x354eeb,_0x332894=allQuizzes[_0x48c840(0x52f)](_0x297bf5=>_0x297bf5['id']===_0x2e0204)||allQuizzesGlobal[_0x48c840(0x52f)](_0x365897=>_0x365897['id']===_0x2e0204);if(!_0x332894){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x332894);const _0x132587=Math[_0x48c840(0x98d)](0x3e8+Math[_0x48c840(0xb7b)]()*0x2328)[_0x48c840(0x3ea)]();try{const _0x179418=await addDoc(collection(db,_0x48c840(0x53f)+appId+'/public/data/teamQuizzes'),{'quizId':_0x332894['id'],'projectId':_0x332894[_0x48c840(0xd27)],'status':_0x48c840(0xcca),'pin':_0x132587,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3289bb});currentTeamQuizId=_0x179418['id'],showView(_0x48c840(0x4a5)),renderAdminTeamQuizDashboard(_0x132587,_0x332894['topic']),listenForTeamQuizUpdates();}catch(_0x53bb0b){console['error']('Error\x20starting\x20team\x20quiz:',_0x53bb0b),showMessage(_0x48c840(0x689));}}function renderAdminTeamQuizDashboard(_0x1254f6,_0x41c069,_0x399254=_0x354eeb(0x76c)){const _0x5bc2b7=_0x354eeb,_0x36baae=_0x399254==='group'?_0x5bc2b7(0x823):'Team\x20Quiz';liveGameView[_0x5bc2b7(0xc5e)]=_0x5bc2b7(0x7fc)+_0x36baae+':\x20'+_0x41c069+_0x5bc2b7(0xbb1)+_0x1254f6+_0x5bc2b7(0xdc9),document['getElementById'](_0x5bc2b7(0xcac))[_0x5bc2b7(0xa02)](_0x5bc2b7(0x4f9),async()=>{const _0x254c39=_0x5bc2b7;showConfirmation(_0x254c39(0xa11),async()=>{const _0x4cf65a=_0x254c39;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x4cf65a(0x53f)+appId+_0x4cf65a(0xc1f),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x78f600=_0x354eeb;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x541cab=doc(db,_0x78f600(0x53f)+appId+_0x78f600(0xc1f),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x541cab,_0x566bd1=>{const _0x1ed22e=_0x78f600;if(!_0x566bd1[_0x1ed22e(0x2c9)]()){sessionStorage[_0x1ed22e(0xad3)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x1ed22e(0x86c));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1ed22e(0x763)?showView(_0x1ed22e(0xaea)):showView('student');return;}const _0xa23a09=_0x566bd1['data']();if(currentMode===_0x1ed22e(0x763)){if(_0xa23a09['mode']==='group'&&_0xa23a09[_0x1ed22e(0xa85)]!==_0x1ed22e(0x6de)&&_0xa23a09[_0x1ed22e(0xa85)]!==_0x1ed22e(0x28c)){const _0x4a947d=Object[_0x1ed22e(0xa7b)](_0xa23a09['groups']||{});if(_0x4a947d[_0x1ed22e(0x2ee)]>0x0){const _0x13c577=_0x4a947d[_0x1ed22e(0x2b0)](_0x3dbcf2=>_0x3dbcf2[_0x1ed22e(0xd6b)]===!![]);_0x13c577&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0xa23a09);}else{if(_0xa23a09[_0x1ed22e(0xa85)]===_0x1ed22e(0x6de)||_0xa23a09[_0x1ed22e(0xa85)]===_0x1ed22e(0x28c)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0xa23a09[_0x1ed22e(0xa21)]===_0x1ed22e(0x8dc)){const _0x54dc4e=_0xa23a09[_0x1ed22e(0x20c)][userId];(!_0x54dc4e||!_0x54dc4e['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x27d797){const _0x5910ff=_0x354eeb;console[_0x5910ff(0x4b0)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x2a443d=doc(db,_0x5910ff(0x53f)+appId+_0x5910ff(0xc1f),_0x27d797);try{const _0x2190f2=await getDoc(_0x2a443d);if(_0x2190f2[_0x5910ff(0x2c9)]()){const _0x56bad7=_0x2190f2[_0x5910ff(0xbb9)]();_0x56bad7['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x56bad7);}await updateDoc(_0x2a443d,{'status':_0x5910ff(0x6de)});}catch(_0x25514c){console[_0x5910ff(0x894)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x25514c);}}function updateAdminTeamDashboard(_0x3fac48){const _0x724be3=_0x354eeb,_0x153032=document[_0x724be3(0x64e)]('team-player-status-grid');if(!_0x153032)return;const _0x2f28d6=_0x3fac48[_0x724be3(0xa21)]||_0x724be3(0x76c),_0x47ef51=currentQuizData[_0x724be3(0xc42)]['length'];if(_0x2f28d6===_0x724be3(0x8dc)){const _0x4392fc=Object[_0x724be3(0xa7b)](_0x3fac48[_0x724be3(0x20c)]||{});if(_0x4392fc['length']===0x0){_0x153032[_0x724be3(0xc5e)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x40b3da=[..._0x4392fc][_0x724be3(0x705)]((_0x4e0683,_0x23632f)=>_0x23632f[_0x724be3(0x3cb)]-_0x4e0683[_0x724be3(0x3cb)]),_0x4896ef=_0x40b3da[_0x724be3(0x1fa)]((_0x5e6ad9,_0x4d447d)=>{const _0x408fd2=_0x724be3,_0x4daeda=_0x5e6ad9['answers']?.['length']||0x0;return _0x408fd2(0x2ad)+(_0x4d447d+0x1)+_0x408fd2(0xda6)+_0x5e6ad9['members'][_0x408fd2(0x5fa)](',\x20')+_0x408fd2(0x68d)+_0x4daeda+'/'+_0x47ef51+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x5e6ad9['score']+_0x408fd2(0x518);})[_0x724be3(0x5fa)](''),_0xbd5fed=currentQuizData[_0x724be3(0xc42)][_0x724be3(0x1fa)]((_0x5d369f,_0x178d78)=>{const _0x4c3e0e=_0x724be3;let _0x4a9d9f=0x0,_0x4db85f=0x0;_0x4392fc['forEach'](_0x206004=>{const _0x18854d=_0x421e,_0x5c8762=_0x206004[_0x18854d(0x758)]?.[_0x18854d(0x52f)](_0x44e19b=>_0x44e19b['questionIndex']===_0x178d78);if(_0x5c8762){_0x4db85f++;if(_0x5c8762[_0x18854d(0x241)])_0x4a9d9f++;}});const _0x267f2b=_0x4db85f>0x0&&_0x4db85f===_0x4392fc[_0x4c3e0e(0x2ee)],_0x4fe93f=_0x267f2b?_0x4c3e0e(0x688):'bg-black/10',_0x16346c=_0x267f2b?_0x4c3e0e(0x8bc):'';return _0x4c3e0e(0x2cd)+_0x4fe93f+_0x4c3e0e(0x4f1)+(_0x178d78+0x1)+_0x4c3e0e(0xb87)+_0x16346c+_0x4c3e0e(0xd3d)+_0x4a9d9f+'/'+_0x4392fc['length']+_0x4c3e0e(0x32a);})[_0x724be3(0x5fa)]('');_0x153032[_0x724be3(0xc5e)]=_0x724be3(0x8a1)+_0x4896ef+_0x724be3(0xcab)+_0xbd5fed+_0x724be3(0x647);return;}const _0x463738=_0x3fac48[_0x724be3(0x233)]||{},_0x2fc85e=Object[_0x724be3(0x203)](_0x463738);if(_0x2fc85e['length']===0x0){_0x153032['innerHTML']=_0x724be3(0x80b);return;}const _0x397f97=_0x2fc85e[_0x724be3(0x1fa)](_0x2f1ecf=>({'name':_0x2f1ecf,'score':_0x463738[_0x2f1ecf][_0x724be3(0x3cb)]||0x0}))[_0x724be3(0x705)]((_0x1af6da,_0x4a7317)=>_0x4a7317[_0x724be3(0x3cb)]-_0x1af6da['score']),_0x35e368=_0x397f97[_0x724be3(0x1fa)](_0x4ad2f8=>{const _0x91d7b8=_0x724be3,_0xc11cd9=_0x463738[_0x4ad2f8[_0x91d7b8(0x799)]]?.[_0x91d7b8(0x758)]?.[_0x91d7b8(0x2ee)]||0x0,_0x34cc36=Math[_0x91d7b8(0x8cb)](_0x47ef51/_0x2fc85e[_0x91d7b8(0x2ee)]);return _0x91d7b8(0x9dd)+_0x4ad2f8[_0x91d7b8(0x799)]+_0x91d7b8(0x55c)+_0xc11cd9+'/'+_0x34cc36+_0x91d7b8(0x7ed)+_0x4ad2f8[_0x91d7b8(0x3cb)]+_0x91d7b8(0xa9d);})[_0x724be3(0x5fa)](''),_0x357bf9=_0x2fc85e['reduce']((_0xf1eee1,_0x72c81a)=>_0xf1eee1+(_0x463738[_0x72c81a][_0x724be3(0x758)]?.[_0x724be3(0x2ee)]||0x0),0x0),_0x5c97f7=currentQuizData[_0x724be3(0xc42)]['map']((_0x57f16c,_0x4dd491)=>{const _0x17ac07=_0x724be3;let _0x1b63da=null,_0x26f6a2=null;for(const _0x4cad2c of _0x2fc85e){const _0x2690de=_0x463738[_0x4cad2c][_0x17ac07(0x758)]?.[_0x17ac07(0x52f)](_0x478664=>_0x478664[_0x17ac07(0x908)]===_0x4dd491);if(_0x2690de){_0x1b63da=_0x2690de,_0x26f6a2=_0x4cad2c;break;}}const _0x4a3c4d=!!_0x1b63da,_0x29f893=_0x4a3c4d&&_0x1b63da[_0x17ac07(0x241)],_0x2ef5cd=(Math[_0x17ac07(0x98d)](_0x4dd491/_0x2fc85e[_0x17ac07(0x2ee)])+0x1)*_0x2fc85e[_0x17ac07(0x2ee)],_0x259223=_0x357bf9>=_0x2ef5cd,_0x4e02a4=_0x259223?'bg-green-200\x20text-green-900':_0x17ac07(0xa63),_0x55b079=_0x259223?_0x17ac07(0x8bc):'';let _0xf97ab5=_0x17ac07(0x3be);return _0x4a3c4d&&(_0xf97ab5=_0x26f6a2+'\x20ตอบ'+(_0x29f893?_0x17ac07(0x493):_0x17ac07(0xc23))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x4e02a4+_0x17ac07(0x4f1)+(_0x4dd491+0x1)+_0x17ac07(0xb87)+_0x55b079+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0xf97ab5+_0x17ac07(0x4a3);})[_0x724be3(0x5fa)]('');_0x153032[_0x724be3(0xc5e)]=_0x724be3(0x6a6)+_0x35e368+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x5c97f7+_0x724be3(0x647);}async function handleJoinTeamQuiz(){const _0x1307b=_0x354eeb,_0x5d1463=prompt(_0x1307b(0xb3a));if(!_0x5d1463||_0x5d1463[_0x1307b(0xdd7)]()[_0x1307b(0x2ee)]!==0x4){showMessage(_0x1307b(0x6e6));return;}try{const _0x11b71e=collection(db,_0x1307b(0x53f)+appId+_0x1307b(0xc1f)),_0x4d064f=query(_0x11b71e,where('pin','==',_0x5d1463['trim']()),where(_0x1307b(0xa85),'==',_0x1307b(0xcca))),_0x230db8=await getDocs(_0x4d064f);if(_0x230db8[_0x1307b(0x3d9)]){showMessage(_0x1307b(0x82d));return;}const _0x407ff7=_0x230db8[_0x1307b(0x2e6)][0x0];currentTeamQuizId=_0x407ff7['id'];const _0x2c13ff=_0x407ff7[_0x1307b(0xbb9)](),_0x307af0=doc(db,_0x1307b(0x53f)+appId+'/public/data/projects',_0x2c13ff[_0x1307b(0xd27)]),_0x496e7a=doc(db,_0x1307b(0x53f)+appId+_0x1307b(0x450),_0x2c13ff[_0x1307b(0x67d)]),[_0x2aba5b,_0x164486]=await Promise[_0x1307b(0x885)]([getDoc(_0x307af0),getDoc(_0x496e7a)]);if(!_0x2aba5b[_0x1307b(0x2c9)]()||!_0x164486[_0x1307b(0x2c9)]())throw new Error(_0x1307b(0x60d));currentQuizData=getShuffledQuiz({'id':_0x164486['id'],..._0x164486[_0x1307b(0xbb9)]()});const _0x3e49e0=_0x2aba5b[_0x1307b(0xbb9)]();showTeamPlayerSelection(_0x3e49e0[_0x1307b(0x4c1)],currentQuizData[_0x1307b(0xdb7)]);}catch(_0x71a452){console['error'](_0x1307b(0x224),_0x71a452),showMessage('เกิดข้อผิดพลาด:\x20'+_0x71a452[_0x1307b(0x5b6)]);}}async function handleJoinGroupActivity(){const _0x3ec5bf=_0x354eeb,_0x1fefef=prompt(_0x3ec5bf(0x430));if(!_0x1fefef||_0x1fefef[_0x3ec5bf(0xdd7)]()[_0x3ec5bf(0x2ee)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x8a0b53=_0x1fefef['trim']();showMessage(_0x3ec5bf(0xa40));try{const _0x27085c=collection(db,_0x3ec5bf(0x53f)+appId+'/public/data/teamQuizzes'),_0x5e9bbb=query(_0x27085c,where(_0x3ec5bf(0xb4f),'==',_0x8a0b53),where('status','==',_0x3ec5bf(0xcca))),_0x3f973d=await getDocs(_0x5e9bbb);if(!_0x3f973d[_0x3ec5bf(0x3d9)]){console['log']('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x3f973d['docs'][0x0]);return;}const _0x5c1fb3=collection(db,'artifacts/'+appId+_0x3ec5bf(0xcd7)),_0x14449f=query(_0x5c1fb3,where(_0x3ec5bf(0xb4f),'==',_0x8a0b53),where('status','==',_0x3ec5bf(0xcca))),_0x36cdbb=await getDocs(_0x14449f);if(!_0x36cdbb[_0x3ec5bf(0x3d9)]){console[_0x3ec5bf(0x4b0)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x36cdbb['docs'][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x2a12c0){console[_0x3ec5bf(0x894)]('Error\x20joining\x20activity:',_0x2a12c0),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x2a12c0[_0x3ec5bf(0x5b6)]);}}async function proceedWithTeamQuizJoin(_0x55eeae){const _0x7bc7d9=_0x354eeb;currentTeamQuizId=_0x55eeae['id'];const _0x28b7d5=_0x55eeae[_0x7bc7d9(0xbb9)](),_0x42bc46=doc(db,_0x7bc7d9(0x53f)+appId+_0x7bc7d9(0x32d),_0x28b7d5[_0x7bc7d9(0xd27)]),_0x5e4143=doc(db,_0x7bc7d9(0x53f)+appId+_0x7bc7d9(0x450),_0x28b7d5[_0x7bc7d9(0x67d)]),[_0x9fda8d,_0x174f62]=await Promise[_0x7bc7d9(0x885)]([getDoc(_0x42bc46),getDoc(_0x5e4143)]);if(!_0x9fda8d[_0x7bc7d9(0x2c9)]()||!_0x174f62[_0x7bc7d9(0x2c9)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x174f62['id'],..._0x174f62['data']()}),showTeamPlayerSelection(_0x9fda8d['data']()[_0x7bc7d9(0x4c1)],currentQuizData['topic'],_0x28b7d5[_0x7bc7d9(0xa21)]||_0x7bc7d9(0x76c)),messageModal[_0x7bc7d9(0x565)][_0x7bc7d9(0x21a)]('hidden');}async function proceedWithSyncQuizJoin(_0x578420){const _0x5247ee=_0x354eeb;currentLiveGameId=_0x578420['id'];const _0x4506eb=_0x578420['data'](),_0x2eb2f5=doc(db,'artifacts/'+appId+_0x5247ee(0x450),_0x4506eb[_0x5247ee(0x67d)]),_0x5255a4=await getDoc(_0x2eb2f5);if(!_0x5255a4[_0x5247ee(0x2c9)]())throw new Error(_0x5247ee(0xccb));const _0x5f69ed=_0x5255a4[_0x5247ee(0xbb9)](),_0x39a758=doc(db,_0x5247ee(0x53f)+appId+_0x5247ee(0x32d),_0x5f69ed[_0x5247ee(0xd27)]),_0x3568b7=await getDoc(_0x39a758);if(!_0x3568b7[_0x5247ee(0x2c9)]())throw new Error(_0x5247ee(0x9bf));currentQuizData=_0x4506eb['shuffledQuiz'],showView(_0x5247ee(0x379)),showTeamPlayerSelection(_0x3568b7[_0x5247ee(0xbb9)]()[_0x5247ee(0x4c1)],_0x5f69ed['topic'],_0x5247ee(0x3d2)),document[_0x5247ee(0x64e)](_0x5247ee(0x8f0))[_0x5247ee(0xa5d)]=confirmAndJoinSyncGame,messageModal['classList']['add'](_0x5247ee(0x76a));}function getCleanApplicationHTML(){const _0xa41669=_0x354eeb,_0x324712=document['getElementById'](_0xa41669(0xac5));if(!_0x324712)return'';const _0x22ab8e=_0x324712['cloneNode'](!![]);return _0x22ab8e['querySelectorAll'](_0xa41669(0xd29))[_0xa41669(0x37d)](_0x5326d4=>{const _0x90cbde=_0xa41669;_0x5326d4[_0x90cbde(0x565)][_0x90cbde(0xc9d)](_0x90cbde(0x583),_0x90cbde(0x8c8)),_0x5326d4['disabled']=![];}),_0x22ab8e[_0xa41669(0xc5e)];}function showTeamPlayerSelection(_0x2ea1d8,_0x181c29,_0x141b20=_0x354eeb(0x76c)){const _0xe5a64e=_0x354eeb;studentInitialView[_0xe5a64e(0x565)]['add']('hidden'),studentJoinGameView[_0xe5a64e(0x565)][_0xe5a64e(0x21a)](_0xe5a64e(0x76a)),document[_0xe5a64e(0x64e)](_0xe5a64e(0xa4f))[_0xe5a64e(0x565)][_0xe5a64e(0xc9d)](_0xe5a64e(0x76a));let _0x5b4231='Team\x20Quiz';if(_0x141b20===_0xe5a64e(0x8dc))_0x5b4231=_0xe5a64e(0x823);else _0x141b20===_0xe5a64e(0x3d2)&&(_0x5b4231=_0xe5a64e(0x232));document[_0xe5a64e(0x64e)](_0xe5a64e(0x4b3))['textContent']=_0x5b4231+':\x20'+_0x181c29;const _0x2755bd=document[_0xe5a64e(0x64e)](_0xe5a64e(0xb37));if(!_0x2ea1d8||_0x2ea1d8[_0xe5a64e(0x2ee)]===0x0){_0x2755bd[_0xe5a64e(0xc5e)]=_0xe5a64e(0x6d6),document[_0xe5a64e(0x64e)]('confirm-team-players-btn')[_0xe5a64e(0x87b)]=!![];return;}_0x2755bd[_0xe5a64e(0xc5e)]=_0x2ea1d8['map'](_0x334de3=>_0xe5a64e(0x5a1)+_0x334de3+_0xe5a64e(0xc40)+_0x334de3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0xe5a64e(0x5fa)](''),document[_0xe5a64e(0x64e)](_0xe5a64e(0x8f0))['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x296070=_0x354eeb,_0x457cd4=Array[_0x296070(0x941)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x296070(0x1fa)](_0x54eb1f=>_0x54eb1f[_0x296070(0x998)]);if(_0x457cd4[_0x296070(0x2ee)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x457cd4,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x2ca593=doc(db,'artifacts/'+appId+_0x296070(0xc1f),currentTeamQuizId);try{const _0x5bdea6=await getDoc(_0x2ca593);if(!_0x5bdea6['exists']())throw new Error(_0x296070(0x928));const _0x1e4cec=_0x5bdea6[_0x296070(0xbb9)]();if(_0x1e4cec[_0x296070(0xa21)]===_0x296070(0x8dc)){const _0x5d0115={[_0x296070(0x98a)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x2ca593,_0x5d0115);}else{const _0x245105=_0x1e4cec['responses']||{};localTeamPlayers[_0x296070(0x37d)](_0x2b8f4e=>{!_0x245105[_0x2b8f4e]&&(_0x245105[_0x2b8f4e]={'score':0x0,'answers':[]});}),await updateDoc(_0x2ca593,{'responses':_0x245105});}document[_0x296070(0x64e)](_0x296070(0xa4f))[_0x296070(0x565)][_0x296070(0x21a)]('hidden'),renderTeamQuizQuestion();const _0x33de8d={'gameId':currentTeamQuizId,'mode':_0x1e4cec['mode']||_0x296070(0x76c),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x296070(0x46b)](_0x296070(0xb8e),JSON[_0x296070(0xb38)](_0x33de8d)),listenForTeamQuizUpdates();}catch(_0x506c9c){console['error']('Error\x20confirming\x20players:',_0x506c9c),showMessage(_0x296070(0xd9b));}}async function renderTeamQuizQuestion(){const _0x1a9f23=_0x354eeb;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0x23521c=currentQuizData['questions'][localQuestionIndex],_0x8b7316=localTeamPlayers[localPlayerIndex],_0xa0f85d=_0x23521c[_0x1a9f23(0x4fd)]||currentQuizData[_0x1a9f23(0x6a2)];let _0x26d89d=_0x23521c[_0x1a9f23(0xc59)]||_0x23521c[_0x1a9f23(0x9f4)],_0x3f49d0='';switch(_0xa0f85d){case'multiple_choice':case'fill_in_with_choices':_0x3f49d0=_0x23521c[_0x1a9f23(0x3e0)]['map']((_0x4604a6,_0x49dedc)=>_0x1a9f23(0x96f)+_0x49dedc+_0x1a9f23(0xcb0)+_0x49dedc+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x49dedc+'\x22>'+_0x4604a6+_0x1a9f23(0xbb3))[_0x1a9f23(0x5fa)]('');break;case _0x1a9f23(0x82f):_0x3f49d0=_0x1a9f23(0xae3);break;case _0x1a9f23(0x6bd):case'fill_in_no_choices':_0x3f49d0='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x1a9f23(0xc67):_0x3f49d0=_0x1a9f23(0x31b)+_0x23521c[_0x1a9f23(0x589)]['map'](_0x41a6b5=>'<option\x20value=\x22'+_0x41a6b5+'\x22>'+_0x41a6b5+_0x1a9f23(0x2ea))[_0x1a9f23(0x5fa)]('')+_0x1a9f23(0xd0e);break;default:_0x3f49d0=_0x1a9f23(0xc29);break;}studentQuizArea['innerHTML']=_0x1a9f23(0x6fc)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x1a9f23(0x2ee)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x8b7316+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x26d89d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x23521c[_0x1a9f23(0x9d9)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x23521c[_0x1a9f23(0x9d9)]+_0x1a9f23(0x51a):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x3f49d0+_0x1a9f23(0xd82),studentQuizArea[_0x1a9f23(0x565)][_0x1a9f23(0xc9d)]('hidden');if(window[_0x1a9f23(0x8cc)])MathJax[_0x1a9f23(0xacc)]([studentQuizArea]);document[_0x1a9f23(0x64e)](_0x1a9f23(0x8f5))['addEventListener'](_0x1a9f23(0x4f9),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x176451=_0x354eeb,_0x343009=currentQuizData[_0x176451(0xc42)][localQuestionIndex],_0x1af5ea=_0x343009[_0x176451(0x4fd)]||currentQuizData['quizType'];let _0xc10149=null,_0x297639=![];if(_0x1af5ea===_0x176451(0x6bd)||_0x1af5ea===_0x176451(0xd8f)){const _0x42985f=document[_0x176451(0x8b9)](_0x176451(0x500));if(!_0x42985f||!_0x42985f[_0x176451(0x998)][_0x176451(0xdd7)]()){showMessage(_0x176451(0x747));return;}_0xc10149=_0x42985f['value']['trim'](),_0x297639=await gradeShortAnswer(_0xc10149,_0x343009);}else{const _0x4794f2=document[_0x176451(0x8b9)](_0x176451(0x218));if(!_0x4794f2||_0x4794f2[_0x176451(0x998)]===''){showMessage(_0x176451(0x3ce));return;}_0xc10149=_0x4794f2['value'];switch(_0x1af5ea){case _0x176451(0x82f):_0x297639=_0xc10149==='true'===_0x343009[_0x176451(0x7e0)];break;case'matching_item':_0x297639=_0xc10149===_0x343009[_0x176451(0x73a)];break;default:_0x297639=parseInt(_0xc10149)===_0x343009[_0x176451(0x5a0)];break;}}const _0x34eec8={'questionIndex':localQuestionIndex,'isCorrect':_0x297639},_0x3340a=userId,_0x1359dd={[_0x176451(0x98a)+_0x3340a+_0x176451(0x893)]:arrayUnion(_0x34eec8)};_0x297639&&(_0x1359dd[_0x176451(0x98a)+_0x3340a+_0x176451(0x56a)]=increment(0x1));try{await updateDoc(doc(db,_0x176451(0x53f)+appId+_0x176451(0xc1f),currentTeamQuizId),_0x1359dd),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x176451(0xc42)][_0x176451(0x2ee)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x545e02){console[_0x176451(0x894)](_0x176451(0xbd9),_0x545e02),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x47a57c=_0x354eeb,_0x15e103=await getDoc(doc(db,_0x47a57c(0x53f)+appId+_0x47a57c(0xc1f),currentTeamQuizId));if(!_0x15e103[_0x47a57c(0x2c9)]())return;const _0x3c3a78=_0x15e103[_0x47a57c(0xbb9)]();if(_0x3c3a78[_0x47a57c(0xa21)]===_0x47a57c(0x8dc)){handleGroupAnswerSubmit();return;}const _0x529d59=localTeamPlayers[localPlayerIndex],_0x13ef9d=currentQuizData[_0x47a57c(0xc42)][localQuestionIndex],_0x4e9ed0=_0x13ef9d[_0x47a57c(0x4fd)]||currentQuizData[_0x47a57c(0x6a2)];let _0x2e5a3c=null,_0x240840=![];if(_0x4e9ed0===_0x47a57c(0x6bd)||_0x4e9ed0===_0x47a57c(0xd8f)){const _0x126a86=document[_0x47a57c(0x8b9)]('textarea[name=\x22team_answer\x22]');if(!_0x126a86||!_0x126a86[_0x47a57c(0x998)][_0x47a57c(0xdd7)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x2e5a3c=_0x126a86[_0x47a57c(0x998)][_0x47a57c(0xdd7)](),_0x240840=await gradeShortAnswer(_0x2e5a3c,_0x13ef9d);}else{const _0x1be46b=document[_0x47a57c(0x8b9)](_0x47a57c(0x218));if(!_0x1be46b||_0x1be46b[_0x47a57c(0x998)]===''){showMessage(_0x47a57c(0xc60));return;}_0x2e5a3c=_0x1be46b[_0x47a57c(0x998)];switch(_0x4e9ed0){case _0x47a57c(0x82f):_0x240840=_0x2e5a3c==='true'===_0x13ef9d[_0x47a57c(0x7e0)];break;case _0x47a57c(0xc67):_0x240840=_0x2e5a3c===_0x13ef9d['correctResponse'];break;default:_0x240840=parseInt(_0x2e5a3c)===_0x13ef9d[_0x47a57c(0x5a0)];break;}}const _0x21d23b={'questionIndex':localQuestionIndex,'isCorrect':_0x240840,'answerValue':_0x2e5a3c},_0x157449={['responses.'+_0x529d59+'.answers']:arrayUnion(_0x21d23b)};_0x240840&&(_0x157449[_0x47a57c(0x230)+_0x529d59+_0x47a57c(0x56a)]=increment(0x1));try{await updateDoc(doc(db,_0x47a57c(0x53f)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x157449),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x28ae49){console[_0x47a57c(0x894)](_0x47a57c(0x36c),_0x28ae49),showMessage(_0x47a57c(0xc24));}}async function displayTeamQuizFinalResults(){const _0x27563a=_0x354eeb;studentQuizArea[_0x27563a(0x565)][_0x27563a(0x21a)](_0x27563a(0x76a)),studentResultArea[_0x27563a(0x565)][_0x27563a(0xc9d)](_0x27563a(0x76a));const _0x2c6018=doc(db,_0x27563a(0x53f)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x382d3b=await getDoc(_0x2c6018);if(!_0x382d3b[_0x27563a(0x2c9)]()){studentResultArea[_0x27563a(0xc5e)]=_0x27563a(0x4b6);return;}const _0x4855fa=_0x382d3b[_0x27563a(0xbb9)]();let _0xdbf99a=[];const _0x2e60a7=_0x4855fa['mode']||_0x27563a(0x76c);if(_0x2e60a7===_0x27563a(0x8dc)){const _0x4dc9e5=_0x4855fa[_0x27563a(0x20c)][userId];_0x4dc9e5?_0xdbf99a=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x27563a(0x5fa)](',\x20'),'score':_0x4dc9e5[_0x27563a(0x3cb)]||0x0}]:_0xdbf99a=[{'name':_0x27563a(0xb41),'score':'N/A'}];}else _0xdbf99a=localTeamPlayers['map'](_0x29cf65=>({'name':_0x29cf65,'score':_0x4855fa[_0x27563a(0x233)][_0x29cf65]?.[_0x27563a(0x3cb)]||0x0}))['sort']((_0x139da2,_0x321980)=>_0x321980[_0x27563a(0x3cb)]-_0x139da2[_0x27563a(0x3cb)]);studentResultArea[_0x27563a(0xc5e)]=_0x27563a(0xaeb)+_0xdbf99a[_0x27563a(0x1fa)](_0xe06fdd=>_0x27563a(0x3df)+_0xe06fdd['name']+_0x27563a(0xb9e)+_0xe06fdd[_0x27563a(0x3cb)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x27563a(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x27563a(0xad3)]('activeGameSession'),currentMode===_0x27563a(0x763)&&currentTeamQuizId&&setTimeout(()=>{const _0x58c3be=_0x27563a;deleteDoc(doc(db,_0x58c3be(0x53f)+appId+_0x58c3be(0xc1f),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x354eeb(0x2fb),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x354eeb(0x819),'name':_0x354eeb(0x6e3)},{'category':_0x354eeb(0x819),'name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':'การปัดเศษและประมาณค่า'},{'category':_0x354eeb(0x819),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x2ef)},{'category':'จำนวนและการดำเนินการ','name':_0x354eeb(0x753)},{'category':_0x354eeb(0x819),'name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':_0x354eeb(0x937)},{'category':'จำนวนและการดำเนินการ','name':_0x354eeb(0x5e5)},{'category':_0x354eeb(0x819),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x354eeb(0xcc8)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x5dd)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x4fe)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xb0b)},{'category':'จำนวนและการดำเนินการ','name':_0x354eeb(0x77b)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x282)},{'category':_0x354eeb(0x819),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x71c)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xa0d)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xad0)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xcb5)},{'category':_0x354eeb(0x819),'name':'การคูณเศษส่วน'},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x29a)},{'category':_0x354eeb(0x819),'name':'จำนวนคละ'},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xae8)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x357)},{'category':_0x354eeb(0x819),'name':'การลบทศนิยม'},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xb09)},{'category':'จำนวนและการดำเนินการ','name':_0x354eeb(0x6ca)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x70e)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xd49)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xd0b)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0xcb1)},{'category':'จำนวนและการดำเนินการ','name':_0x354eeb(0xd74)},{'category':_0x354eeb(0x819),'name':_0x354eeb(0x53b)},{'category':_0x354eeb(0x819),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x354eeb(0x307),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x354eeb(0x540)},{'category':_0x354eeb(0x307),'name':_0x354eeb(0x43a)},{'category':'การวัด','name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x354eeb(0x307),'name':_0x354eeb(0xae2)},{'category':_0x354eeb(0x307),'name':_0x354eeb(0x278)},{'category':_0x354eeb(0x307),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x354eeb(0x307),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x354eeb(0x307),'name':_0x354eeb(0x5e7)},{'category':_0x354eeb(0x307),'name':_0x354eeb(0xab0)},{'category':_0x354eeb(0x307),'name':_0x354eeb(0x740)},{'category':_0x354eeb(0x307),'name':_0x354eeb(0x8b6)},{'category':_0x354eeb(0x307),'name':'สเกลและแผนที่'},{'category':_0x354eeb(0x307),'name':_0x354eeb(0x4c9)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xab6)},{'category':_0x354eeb(0x461),'name':'ความสัมพันธ์ของมุม'},{'category':_0x354eeb(0x461),'name':_0x354eeb(0x6d0)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xd57)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xa36)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xadd)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0x305)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xa5c)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xa33)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xa0f)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0xcdd)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0x533)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0x761)},{'category':'เรขาคณิต','name':_0x354eeb(0xa3f)},{'category':_0x354eeb(0x461),'name':_0x354eeb(0x2f2)},{'category':_0x354eeb(0x5da),'name':'ตัวแปรและนิพจน์'},{'category':_0x354eeb(0x5da),'name':'การกระจายและการจัดหมู่'},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x7b2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x354eeb(0xb93)},{'category':_0x354eeb(0x5da),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x9c7)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x47c)},{'category':_0x354eeb(0x5da),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x378)},{'category':_0x354eeb(0x5da),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x3d6)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x8eb)},{'category':_0x354eeb(0x5da),'name':'สมการลอการิทึม'},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xd87)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xb02)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x354eeb(0xb81)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x9eb)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xd8a)},{'category':_0x354eeb(0x5da),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x78b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x354eeb(0xb01)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xa18)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x332)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x21c)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xb35)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xaca)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xd62)},{'category':_0x354eeb(0x5da),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xc6d)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0xd10)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x36f)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x720)},{'category':_0x354eeb(0x5da),'name':_0x354eeb(0x7c5)},{'category':_0x354eeb(0x5da),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':'พีชคณิตและฟังก์ชัน','name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x354eeb(0xab8),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x354eeb(0x696)},{'category':_0x354eeb(0xab8),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x354eeb(0xab8),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x354eeb(0xab8),'name':_0x354eeb(0x7d7)},{'category':'เรขาคณิตวิเคราะห์','name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x354eeb(0xab8),'name':'พาราโบลา'},{'category':_0x354eeb(0xab8),'name':'วงรี'},{'category':'เรขาคณิตวิเคราะห์','name':_0x354eeb(0xdaf)},{'category':'ตรีโกณมิติ','name':_0x354eeb(0x5c1)},{'category':_0x354eeb(0xbed),'name':_0x354eeb(0x343)},{'category':_0x354eeb(0xbed),'name':_0x354eeb(0x61f)},{'category':_0x354eeb(0xbed),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x354eeb(0xbed),'name':_0x354eeb(0x249)},{'category':'ตรีโกณมิติ','name':_0x354eeb(0x99e)},{'category':_0x354eeb(0xbed),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x354eeb(0xbed),'name':_0x354eeb(0xbf9)},{'category':'ตรีโกณมิติ','name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x354eeb(0xbed),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x2ed)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0xcd0)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x599)},{'category':_0x354eeb(0x37a),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x2d0)},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x250)},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x9f2)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x2dc)},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x4eb)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x835)},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0xd5e)},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x9e1)},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x2b7)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x475)},{'category':_0x354eeb(0x37a),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0xd65)},{'category':_0x354eeb(0x37a),'name':'กฎบวกและกฎคูณ'},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x47d)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x455)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x8b5)},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x7cd)},{'category':_0x354eeb(0x37a),'name':'การจัดหมู่\x20(Combination)'},{'category':_0x354eeb(0x37a),'name':_0x354eeb(0x24c)},{'category':'สถิติและความน่าจะเป็น','name':_0x354eeb(0x59d)},{'category':_0x354eeb(0xd38),'name':_0x354eeb(0x3f7)},{'category':_0x354eeb(0xd38),'name':_0x354eeb(0x511)},{'category':_0x354eeb(0xd38),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x354eeb(0xd38),'name':_0x354eeb(0xba4)},{'category':_0x354eeb(0xd38),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x354eeb(0xd38),'name':_0x354eeb(0x584)},{'category':_0x354eeb(0xd38),'name':_0x354eeb(0x26e)},{'category':_0x354eeb(0xd38),'name':_0x354eeb(0xdd9)},{'category':'แคลคูลัสเบื้องต้น','name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x354eeb(0x496)},{'category':_0x354eeb(0xd38),'name':_0x354eeb(0x75e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x354eeb(0x2f6)},{'category':_0x354eeb(0xd38),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x354eeb(0xb18),'name':_0x354eeb(0x29f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x354eeb(0x8c2)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x354eeb(0x6ab)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x354eeb(0xb70)},{'category':_0x354eeb(0xb18),'name':_0x354eeb(0x85a)},{'category':_0x354eeb(0xb18),'name':_0x354eeb(0x64d)},{'category':_0x354eeb(0xb18),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x354eeb(0xd03)},{'category':_0x354eeb(0xb1b),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x354eeb(0xdc0)},{'category':_0x354eeb(0xb1b),'name':_0x354eeb(0xc05)},{'category':_0x354eeb(0xb1b),'name':_0x354eeb(0xc38)},{'category':_0x354eeb(0xd7b),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x354eeb(0xd7b),'name':'รูปแบบการให้เหตุผล'},{'category':_0x354eeb(0xd7b),'name':_0x354eeb(0xb6a)}];function renderTopicCheckboxes(){const _0x2d0787=_0x354eeb,_0x2c779c=document[_0x2d0787(0x64e)]('math-topics-checkbox-container');if(!_0x2c779c)return;const _0x5f3730=allMathTopics,_0x2c4340=customMathTopics[_0x2d0787(0x1fa)](_0x47528f=>({'id':_0x47528f['id'],'category':'หัวข้อที่สร้างเอง','name':_0x47528f[_0x2d0787(0x799)]})),_0x2bc4c4=[..._0x5f3730,..._0x2c4340],_0x33fbc2=_0x2bc4c4[_0x2d0787(0xb6c)]((_0x37193c,_0x779b9d)=>{const _0xaaf082=_0x2d0787;return!_0x37193c[_0x779b9d[_0xaaf082(0xce4)]]&&(_0x37193c[_0x779b9d['category']]=[]),_0x37193c[_0x779b9d['category']][_0xaaf082(0xa95)](_0x779b9d),_0x37193c;},{});let _0x3b15a6='';const _0x1f4858=['หัวข้อที่สร้างเอง',...Object[_0x2d0787(0x203)](_0x33fbc2)[_0x2d0787(0xdc7)](_0x1369ad=>_0x1369ad!=='หัวข้อที่สร้างเอง')];for(const _0xa8aff8 of _0x1f4858){if(_0x33fbc2[_0xa8aff8]){const _0xa99430=_0xa8aff8===_0x2d0787(0xbe7),_0x142a54=_0xa99430?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0x451880=_0xa99430?_0x2d0787(0x971):'text-indigo-700';_0x3b15a6+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x3b15a6+=_0x2d0787(0x5e3)+_0x451880+_0x2d0787(0x20b)+_0x142a54+_0x2d0787(0xbcb)+_0xa8aff8+_0x2d0787(0x20e),_0x33fbc2[_0xa8aff8][_0x2d0787(0x37d)](_0x4a2bb9=>{const _0x41cf4d=_0x2d0787,_0x279ed5=!!_0x4a2bb9['id'],_0x182541=_0x279ed5?_0x41cf4d(0x678)+_0x4a2bb9['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a2bb9['id']+_0x41cf4d(0xd32)+_0x4a2bb9['id']+_0x41cf4d(0x2b8)+_0x4a2bb9['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x3b15a6+=_0x41cf4d(0x5f9)+(_0x4a2bb9['id']||'')+_0x41cf4d(0xb88)+_0x4a2bb9[_0x41cf4d(0x799)]+_0x41cf4d(0x7a3)+_0x4a2bb9[_0x41cf4d(0x799)]+_0x41cf4d(0xa1f)+(_0x279ed5?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x4a2bb9[_0x41cf4d(0x799)]+'\x22>':'')+_0x41cf4d(0x57a)+_0x182541+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3b15a6+=_0x2d0787(0x51a);}}_0x2c779c['innerHTML']=_0x3b15a6||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x2c779c[_0x2d0787(0xac0)](_0x2d0787(0x718),updateSelectedTopicsCount),_0x2c779c[_0x2d0787(0xa02)](_0x2d0787(0x718),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x57e89d,_0x19d0b2){const _0x38d460=_0x354eeb;if(!_0x57e89d||!_0x19d0b2[_0x38d460(0xdd7)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x5c03b0=doc(db,_0x38d460(0x53f)+appId+_0x38d460(0xc81),_0x57e89d);await updateDoc(_0x5c03b0,{'name':_0x19d0b2[_0x38d460(0xdd7)]()}),showMessage(_0x38d460(0xa01));}catch(_0x5c4772){console[_0x38d460(0x894)](_0x38d460(0x9d1),_0x5c4772),showMessage(_0x38d460(0x59b));}}function toggleTopicEditMode(_0xb8d2fd,_0x5239b9){const _0x10825a=_0x354eeb;if(!_0xb8d2fd)return;const _0x5e78e0=_0xb8d2fd[_0x10825a(0x8b9)](_0x10825a(0x8ac)),_0x97e559=_0xb8d2fd[_0x10825a(0x8b9)](_0x10825a(0x6bc)),_0x4b744c=_0xb8d2fd[_0x10825a(0x8b9)](_0x10825a(0x302)),_0x519a40=_0xb8d2fd[_0x10825a(0x8b9)](_0x10825a(0xa76));_0x5e78e0[_0x10825a(0x565)][_0x10825a(0xc97)](_0x10825a(0x76a),_0x5239b9),_0x97e559['classList'][_0x10825a(0xc97)](_0x10825a(0x76a),!_0x5239b9),_0x4b744c['classList'][_0x10825a(0xc97)]('hidden',_0x5239b9),_0x519a40[_0x10825a(0x565)][_0x10825a(0xc97)](_0x10825a(0x76a),!_0x5239b9),_0x5239b9&&(_0x97e559[_0x10825a(0x836)](),_0x97e559[_0x10825a(0x320)]());}async function handleStartLiveRace(_0x3ddb64){const _0x292a13=_0x354eeb;let _0x5928fe=allQuizzes['find'](_0x391cf1=>_0x391cf1['id']===_0x3ddb64);if(!_0x5928fe){const _0x1ae52c=doc(db,'artifacts/'+appId+_0x292a13(0x450),_0x3ddb64),_0x58561e=await getDoc(_0x1ae52c);if(!_0x58561e[_0x292a13(0x2c9)]()){showMessage(_0x292a13(0xccb));return;}_0x5928fe={'id':_0x58561e['id'],..._0x58561e[_0x292a13(0xbb9)]()};}const _0x5f35da=getShuffledQuiz(_0x5928fe);currentQuizData=_0x5f35da;const _0x461760=_0x5928fe[_0x292a13(0xd27)]||currentProjectId||null,_0xb01195=Math[_0x292a13(0x98d)](0x3e8+Math[_0x292a13(0xb7b)]()*0x2328)[_0x292a13(0x3ea)]();currentLiveGamePin=_0xb01195;try{const _0x5e348a=await addDoc(collection(db,'artifacts/'+appId+_0x292a13(0xcdb)),{'quizId':_0x3ddb64,'projectId':_0x461760,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0xb01195,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5f35da});currentLiveGameId=_0x5e348a['id'],showAdminLobbyView(_0xb01195,_0x5928fe['topic']),listenForLiveGameUpdates();}catch(_0x3db8c5){console[_0x292a13(0x894)](_0x292a13(0x2e1),_0x3db8c5),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x5a15c2=_0x354eeb,_0x44071f=document[_0x5a15c2(0x64e)](_0x5a15c2(0xc14)),_0x52035e=_0x44071f['querySelectorAll'](_0x5a15c2(0x569))[_0x5a15c2(0x2ee)],_0x41c680=document[_0x5a15c2(0x64e)](_0x5a15c2(0x505));_0x52035e>0x0?_0x41c680[_0x5a15c2(0xd72)]=_0x5a15c2(0x4fa)+_0x52035e+'\x20หัวข้อ)':_0x41c680[_0x5a15c2(0xd72)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x354eeb(0x35e),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x354eeb(0x915),quizLeaderboardSortOrder=_0x354eeb(0x507),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x354eeb(0xa7a),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x354eeb(0x686),scratchpadPenColor=_0x354eeb(0x439),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3835ac,_0x11bf77){const _0x4c25c6=_0x354eeb;return Math[_0x4c25c6(0x6a8)](Math[_0x4c25c6(0xca8)](_0x3835ac['x']-_0x11bf77['x'],0x2)+Math[_0x4c25c6(0xca8)](_0x3835ac['y']-_0x11bf77['y'],0x2));}function getMidpoint(_0x982627,_0xd4a630){return{'x':(_0x982627['x']+_0xd4a630['x'])/0x2,'y':(_0x982627['y']+_0xd4a630['y'])/0x2};}function getTransformedPoint(_0x359498,_0x4a7bea){return{'x':(_0x359498-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4a7bea-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x24e769=_0x354eeb;if(!scratchpadCtx)return;const _0x525438=scratchpadCtx[_0x24e769(0x1f5)],_0x2a0547=window['devicePixelRatio']||0x1,_0x2f47c9=document['getElementById'](_0x24e769(0xc6b));_0x2f47c9&&(_0x2f47c9[_0x24e769(0x1ff)][_0x24e769(0xb8c)]=_0x24e769(0xc83),_0x2f47c9[_0x24e769(0x1ff)]['transform']=_0x24e769(0x86f)+scratchpadOffset['x']+_0x24e769(0x9d0)+scratchpadOffset['y']+_0x24e769(0x897)+scratchpadScale+')'),scratchpadCtx[_0x24e769(0x92f)](),scratchpadCtx[_0x24e769(0x669)](_0x2a0547,0x0,0x0,_0x2a0547,0x0,0x0),scratchpadCtx[_0x24e769(0x69d)](0x0,0x0,_0x525438[_0x24e769(0x2b2)],_0x525438[_0x24e769(0x9f0)]),scratchpadCtx['restore'](),scratchpadCtx[_0x24e769(0x92f)](),scratchpadCtx[_0x24e769(0x923)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x24e769(0xdc6)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x5c175e=>{drawStroke(_0x5c175e);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x24e769(0x889)]();}function renderGroupModeQuestion(){const _0x1f377=_0x354eeb;if(localQuestionIndex>=currentQuizData[_0x1f377(0xc42)][_0x1f377(0x2ee)]){displayTeamQuizFinalResults();return;}const _0x1dfb03=currentQuizData[_0x1f377(0xc42)][localQuestionIndex],_0x114c50=_0x1dfb03[_0x1f377(0x4fd)]||currentQuizData['quizType'];let _0x32776f=_0x1dfb03[_0x1f377(0xc59)]||_0x1dfb03['questionText'],_0x41f59c='';switch(_0x114c50){case _0x1f377(0xda2):case _0x1f377(0xa83):_0x41f59c=_0x1dfb03[_0x1f377(0x3e0)][_0x1f377(0x1fa)]((_0x568df3,_0x121d34)=>_0x1f377(0x96f)+_0x121d34+_0x1f377(0xcb0)+_0x121d34+_0x1f377(0xb21)+_0x121d34+'\x22>'+_0x568df3+_0x1f377(0xbb3))[_0x1f377(0x5fa)]('');break;case _0x1f377(0x82f):_0x41f59c=_0x1f377(0xae3);break;case'short_answer':case _0x1f377(0xd8f):_0x41f59c=_0x1f377(0xd9c);break;case _0x1f377(0xc67):_0x41f59c=_0x1f377(0x31b)+_0x1dfb03[_0x1f377(0x589)]['map'](_0x466b5c=>_0x1f377(0x3e8)+_0x466b5c+'\x22>'+_0x466b5c+_0x1f377(0x2ea))[_0x1f377(0x5fa)]('')+_0x1f377(0xd0e);break;default:_0x41f59c=_0x1f377(0xc29);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x1f377(0x865)+currentQuizData[_0x1f377(0xc42)][_0x1f377(0x2ee)]+_0x1f377(0xc13)+localTeamPlayers[_0x1f377(0x5fa)](',\x20')+_0x1f377(0x916)+(localQuestionIndex+0x1)+'.\x20'+_0x32776f+_0x1f377(0xb00)+(_0x1dfb03[_0x1f377(0x9d9)]?_0x1f377(0x6e0)+_0x1dfb03[_0x1f377(0x9d9)]+'</div>':'')+_0x1f377(0xb63)+_0x41f59c+_0x1f377(0x572),studentQuizArea[_0x1f377(0x565)][_0x1f377(0xc9d)](_0x1f377(0x76a));if(window[_0x1f377(0x8cc)])MathJax[_0x1f377(0xacc)]([studentQuizArea]);document[_0x1f377(0x64e)](_0x1f377(0x3a6))[_0x1f377(0xa02)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2ee5ce,_0x14d08f=null,_0x17c6c3,_0x3c0b11=null,_0x12bd83=![],_0x1ed920=null){const _0x3bcdd0=_0x354eeb,_0x5d4b53=document['getElementById'](_0x3bcdd0(0x855));_0x5d4b53&&_0x5d4b53['scrollIntoView']({'behavior':_0x3bcdd0(0xd84),'block':_0x3bcdd0(0x8b1)}),generateQuiz(_0x2ee5ce,_0x14d08f,null,_0x1ed920,!![],_0x17c6c3,_0x3c0b11,_0x12bd83);}function handleGenerateAndShowLesson(_0xecd47f,_0x29ef25){const _0x13aaae=_0x354eeb,_0x27940a=document[_0x13aaae(0x64e)](_0x13aaae(0x376)),_0x453f6c=document[_0x13aaae(0x64e)](_0x13aaae(0xda9)),_0x416c94=document['getElementById'](_0x13aaae(0xdb4)),_0x25a6a8=document[_0x13aaae(0x64e)](_0x13aaae(0x566));['pointContent',_0x13aaae(0x458),'applicationContent','summaryContent']['forEach'](_0x5aa807=>{const _0x55a77c=_0x13aaae,_0x4159fc=document['getElementById'](_0x5aa807)['parentElement'];_0x4159fc&&(_0x4159fc[_0x55a77c(0x1ff)][_0x55a77c(0xa16)]=_0x55a77c(0xb72));}),_0x453f6c[_0x13aaae(0xd72)]='กำลังสร้างบทเรียน:\x20'+_0xecd47f,_0x25a6a8['classList'][_0x13aaae(0x21a)](_0x13aaae(0x76a)),_0x416c94[_0x13aaae(0x565)][_0x13aaae(0xc9d)]('hidden'),_0x27940a[_0x13aaae(0x565)][_0x13aaae(0xc9d)]('hidden'),generateLesson(_0xecd47f,_0x29ef25)[_0x13aaae(0xa58)](_0x363dff=>{const _0x5a9b36=_0x13aaae;console[_0x5a9b36(0x894)](_0x5a9b36(0xd1e),_0x363dff),showMessage(_0x5a9b36(0x3cf)),_0x27940a[_0x5a9b36(0x565)][_0x5a9b36(0x21a)](_0x5a9b36(0x76a));});}function handlePointerDown(_0x4c11be){const _0x4e0e58=_0x354eeb;_0x4c11be['preventDefault']();const _0x968007=scratchpadCtx['canvas'],_0x4efc92=_0x968007[_0x4e0e58(0x71b)](),_0x3310ea=_0x4c11be[_0x4e0e58(0x75b)]||(_0x4c11be[_0x4e0e58(0xd75)]?_0x4e0e58(0xd80):_0x4e0e58(0x7d6));if(_0x3310ea===_0x4e0e58(0x686)||_0x3310ea==='mouse'){if(_0x4c11be[_0x4e0e58(0x75b)]===_0x4e0e58(0x7d6)&&_0x4c11be[_0x4e0e58(0x9a9)]!==0x0){_0x4c11be['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x4c11be['clientX'],'y':_0x4c11be[_0x4e0e58(0xbbf)]},_0x968007[_0x4e0e58(0x1ff)][_0x4e0e58(0xdac)]=_0x4e0e58(0x453));return;}activeTool===_0x4e0e58(0x389)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x343f72=getTransformedPoint(_0x4c11be[_0x4e0e58(0x7af)]-_0x4efc92[_0x4e0e58(0xc46)],_0x4c11be[_0x4e0e58(0xbbf)]-_0x4efc92[_0x4e0e58(0xc10)]);let _0x492298={'tool':activeTool,'points':[_0x343f72]};if(activeTool===_0x4e0e58(0x686))_0x492298[_0x4e0e58(0x272)]=scratchpadPenColor,_0x492298[_0x4e0e58(0x20f)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x492298['color']=scratchpadPenColor,_0x492298[_0x4e0e58(0x20f)]=scratchpadEraserSize;else{if(activeTool===_0x4e0e58(0x6ff))_0x492298[_0x4e0e58(0x272)]=scratchpadHighlighterColor,_0x492298[_0x4e0e58(0x20f)]=scratchpadHighlighterSize;else activeTool===_0x4e0e58(0x389)&&(_0x492298[_0x4e0e58(0x272)]=scratchpadPenColor,_0x492298[_0x4e0e58(0x20f)]=scratchpadPenSize);}}currentStroke=_0x492298;}else _0x4c11be[_0x4e0e58(0xd75)]&&(_0x4c11be[_0x4e0e58(0xd75)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x4c11be['touches'][0x0]['clientX'],'y':_0x4c11be[_0x4e0e58(0xd75)][0x0][_0x4e0e58(0xbbf)]},{'x':_0x4c11be[_0x4e0e58(0xd75)][0x1][_0x4e0e58(0x7af)],'y':_0x4c11be[_0x4e0e58(0xd75)][0x1][_0x4e0e58(0xbbf)]}),initialPinchDistance=getDistance({'x':_0x4c11be['touches'][0x0]['clientX'],'y':_0x4c11be[_0x4e0e58(0xd75)][0x0][_0x4e0e58(0xbbf)]},{'x':_0x4c11be['touches'][0x1]['clientX'],'y':_0x4c11be[_0x4e0e58(0xd75)][0x1][_0x4e0e58(0xbbf)]})));}function animateTrail(){const _0x1e5d3f=_0x354eeb,_0x2b1eba=Date['now']();let _0x57cd2e=![];for(let _0x32f200=strokes[_0x1e5d3f(0x2ee)]-0x1;_0x32f200>=0x0;_0x32f200--){const _0x3327f4=strokes[_0x32f200];if(_0x3327f4[_0x1e5d3f(0x479)]===_0x1e5d3f(0x389)&&_0x3327f4[_0x1e5d3f(0x68a)]){const _0x2bd114=_0x2b1eba-_0x3327f4[_0x1e5d3f(0x68a)];_0x2bd114>=TRAIL_DURATION?strokes[_0x1e5d3f(0x261)](_0x32f200,0x1):(_0x3327f4[_0x1e5d3f(0x361)]=0x1-_0x2bd114/TRAIL_DURATION,_0x57cd2e=!![]);}}redrawScratchpad(),_0x57cd2e?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x1c82b4){const _0x123495=_0x354eeb;if(!_0x1c82b4||_0x1c82b4[_0x123495(0x2f3)]['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x123495(0xc57)]=_0x123495(0x2a6),scratchpadCtx['lineCap']=_0x123495(0x2a6);if(_0x1c82b4[_0x123495(0x479)]==='trail'){const _0x5bd24c=_0x1c82b4[_0x123495(0x20f)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x1c82b4[_0x123495(0x361)]??0x1,scratchpadCtx[_0x123495(0x94a)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx['shadowBlur']=_0x5bd24c*0x3,scratchpadCtx[_0x123495(0x3f3)]=_0x123495(0x7f1),scratchpadCtx[_0x123495(0x6af)]=_0x5bd24c*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x123495(0xa52)](_0x1c82b4[_0x123495(0x2f3)][0x0]['x'],_0x1c82b4[_0x123495(0x2f3)][0x0]['y']);for(let _0x2356d4=0x1;_0x2356d4<_0x1c82b4[_0x123495(0x2f3)][_0x123495(0x2ee)]-0x1;_0x2356d4++){const _0x457c7a=getMidpoint(_0x1c82b4[_0x123495(0x2f3)][_0x2356d4],_0x1c82b4['points'][_0x2356d4+0x1]);scratchpadCtx[_0x123495(0xad8)](_0x1c82b4[_0x123495(0x2f3)][_0x2356d4]['x'],_0x1c82b4[_0x123495(0x2f3)][_0x2356d4]['y'],_0x457c7a['x'],_0x457c7a['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x123495(0x94a)]=_0x123495(0x917),scratchpadCtx[_0x123495(0xc91)]=0x0,scratchpadCtx[_0x123495(0x3f3)]='#FFFFFF',scratchpadCtx[_0x123495(0x6af)]=_0x5bd24c,scratchpadCtx[_0x123495(0x3db)](),scratchpadCtx[_0x123495(0x4d1)]();}else{if(_0x1c82b4[_0x123495(0x479)]===_0x123495(0x6ff)){scratchpadCtx[_0x123495(0x531)]=_0x123495(0xce7),scratchpadCtx[_0x123495(0x3f3)]=_0x1c82b4[_0x123495(0x272)],scratchpadCtx[_0x123495(0x6af)]=_0x1c82b4[_0x123495(0x20f)],scratchpadCtx[_0x123495(0x5bf)](),scratchpadCtx[_0x123495(0xa52)](_0x1c82b4[_0x123495(0x2f3)][0x0]['x'],_0x1c82b4[_0x123495(0x2f3)][0x0]['y']);for(let _0x2bbd83=0x1;_0x2bbd83<_0x1c82b4[_0x123495(0x2f3)][_0x123495(0x2ee)]-0x1;_0x2bbd83++){const _0x4e524a=getMidpoint(_0x1c82b4[_0x123495(0x2f3)][_0x2bbd83],_0x1c82b4[_0x123495(0x2f3)][_0x2bbd83+0x1]);scratchpadCtx[_0x123495(0xad8)](_0x1c82b4['points'][_0x2bbd83]['x'],_0x1c82b4[_0x123495(0x2f3)][_0x2bbd83]['y'],_0x4e524a['x'],_0x4e524a['y']);}scratchpadCtx[_0x123495(0x3db)](),scratchpadCtx[_0x123495(0x4d1)]();}else{scratchpadCtx[_0x123495(0x531)]=_0x1c82b4[_0x123495(0x479)]===_0x123495(0xa99)?_0x123495(0x545):_0x123495(0x59f),scratchpadCtx[_0x123495(0x3f3)]=_0x1c82b4[_0x123495(0x272)],scratchpadCtx['lineWidth']=_0x1c82b4[_0x123495(0x20f)],scratchpadCtx[_0x123495(0x5bf)](),scratchpadCtx[_0x123495(0xa52)](_0x1c82b4[_0x123495(0x2f3)][0x0]['x'],_0x1c82b4['points'][0x0]['y']);for(let _0x4bfc61=0x1;_0x4bfc61<_0x1c82b4['points']['length']-0x1;_0x4bfc61++){const _0x531f97=getMidpoint(_0x1c82b4[_0x123495(0x2f3)][_0x4bfc61],_0x1c82b4[_0x123495(0x2f3)][_0x4bfc61+0x1]);scratchpadCtx[_0x123495(0xad8)](_0x1c82b4[_0x123495(0x2f3)][_0x4bfc61]['x'],_0x1c82b4['points'][_0x4bfc61]['y'],_0x531f97['x'],_0x531f97['y']);}scratchpadCtx[_0x123495(0x3db)](),scratchpadCtx[_0x123495(0x4d1)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x280061){const _0xb5510c=_0x354eeb;_0x280061[_0xb5510c(0x304)]();const _0x242251=scratchpadCtx[_0xb5510c(0x1f5)],_0x1ca06a=_0x242251[_0xb5510c(0x71b)]();if(_0x280061[_0xb5510c(0xd75)]){if(_0x280061[_0xb5510c(0xd75)][_0xb5510c(0x2ee)]===0x1&&isDrawingOnScratchpad){const _0x684cb1=getTransformedPoint(_0x280061[_0xb5510c(0xd75)][0x0][_0xb5510c(0x7af)]-_0x1ca06a[_0xb5510c(0xc46)],_0x280061['touches'][0x0][_0xb5510c(0xbbf)]-_0x1ca06a['top']);currentStroke['points'][_0xb5510c(0xa95)](_0x684cb1),redrawScratchpad();}else{if(_0x280061[_0xb5510c(0xd75)][_0xb5510c(0x2ee)]===0x2&&isPanning){const _0x18f68d=getDistance({'x':_0x280061[_0xb5510c(0xd75)][0x0][_0xb5510c(0x7af)],'y':_0x280061[_0xb5510c(0xd75)][0x0]['clientY']},{'x':_0x280061[_0xb5510c(0xd75)][0x1]['clientX'],'y':_0x280061[_0xb5510c(0xd75)][0x1][_0xb5510c(0xbbf)]}),_0x106ea0=getMidpoint({'x':_0x280061[_0xb5510c(0xd75)][0x0][_0xb5510c(0x7af)],'y':_0x280061['touches'][0x0][_0xb5510c(0xbbf)]},{'x':_0x280061[_0xb5510c(0xd75)][0x1][_0xb5510c(0x7af)],'y':_0x280061['touches'][0x1]['clientY']}),_0x3b49bd=_0x18f68d/ initialPinchDistance,_0x1c787e=Math[_0xb5510c(0xb0a)](Math[_0xb5510c(0x62c)](scratchpadScale*_0x3b49bd,MIN_SCALE),MAX_SCALE),_0x14d744=_0x106ea0['x']-panStart['x'],_0x4cd7aa=_0x106ea0['y']-panStart['y'];scratchpadOffset['x']=_0x106ea0['x']-(_0x106ea0['x']-scratchpadOffset['x'])*(_0x1c787e/scratchpadScale),scratchpadOffset['y']=_0x106ea0['y']-(_0x106ea0['y']-scratchpadOffset['y'])*(_0x1c787e/scratchpadScale),scratchpadOffset['x']+=_0x14d744,scratchpadOffset['y']+=_0x4cd7aa,scratchpadScale=_0x1c787e,initialPinchDistance=_0x18f68d,panStart=_0x106ea0,redrawScratchpad();}}}else{if(isMousePanning){const _0x16dcb1=_0x280061['clientX']-panStart['x'],_0x42bf6f=_0x280061[_0xb5510c(0xbbf)]-panStart['y'];scratchpadOffset['x']+=_0x16dcb1,scratchpadOffset['y']+=_0x42bf6f,panStart={'x':_0x280061[_0xb5510c(0x7af)],'y':_0x280061[_0xb5510c(0xbbf)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2a9884=getTransformedPoint(_0x280061[_0xb5510c(0x7af)]-_0x1ca06a['left'],_0x280061['clientY']-_0x1ca06a[_0xb5510c(0xc10)]);currentStroke[_0xb5510c(0x2f3)][_0xb5510c(0xa95)](_0x2a9884),redrawScratchpad();}}}}function handlePointerUp(_0x5ab089){const _0xae17bf=_0x354eeb;_0x5ab089[_0xae17bf(0x304)]();const _0x231ee7=scratchpadCtx[_0xae17bf(0x1f5)];isMousePanning&&(isMousePanning=![],_0x231ee7[_0xae17bf(0x1ff)][_0xae17bf(0xdac)]=_0xae17bf(0x7b3)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0xae17bf(0x2ee)]>0x1&&(strokes[_0xae17bf(0xa95)](currentStroke),currentStroke[_0xae17bf(0x479)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x564678=_0xae17bf,_0x3e025b=strokes['filter'](_0x21a20e=>_0x21a20e['tool']===_0x564678(0x389)&&!_0x21a20e[_0x564678(0x68a)]);if(_0x3e025b[_0x564678(0x2ee)]>0x0){const _0x2175fe=Date[_0x564678(0x274)]();_0x3e025b[_0x564678(0x37d)](_0x328a6d=>_0x328a6d[_0x564678(0x68a)]=_0x2175fe),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x3b50b5){const _0xba3cb2=_0x354eeb;_0x3b50b5['preventDefault']();const _0x152fe5=_0x3b50b5[_0xba3cb2(0xbd7)]*-0.005,_0x2bb91e=Math['min'](Math['max'](scratchpadScale+_0x152fe5,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x3b50b5[_0xba3cb2(0x7af)]-(_0x3b50b5['clientX']-scratchpadOffset['x'])*(_0x2bb91e/scratchpadScale),scratchpadOffset['y']=_0x3b50b5[_0xba3cb2(0xbbf)]-(_0x3b50b5['clientY']-scratchpadOffset['y'])*(_0x2bb91e/scratchpadScale),scratchpadScale=_0x2bb91e,redrawScratchpad();}function undo(){const _0x460da4=_0x354eeb;strokes[_0x460da4(0x2ee)]>0x0&&(redoStrokes[_0x460da4(0xa95)](strokes[_0x460da4(0x21e)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x48be=_0x354eeb;redoStrokes['length']>0x0&&(strokes[_0x48be(0xa95)](redoStrokes[_0x48be(0x21e)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x59e2f5=_0x354eeb;document[_0x59e2f5(0x64e)]('undo-btn')['disabled']=strokes[_0x59e2f5(0x2ee)]===0x0,document['getElementById']('redo-btn')[_0x59e2f5(0x87b)]=redoStrokes[_0x59e2f5(0x2ee)]===0x0;}function openScratchpad(_0x3d4a67,_0x37a92e){const _0x46dce0=_0x354eeb,_0x52cd61=document[_0x46dce0(0x64e)](_0x46dce0(0x88b)),_0x5d8d24=document[_0x46dce0(0x64e)]('scratchpad-question'),_0xadcdec=document[_0x46dce0(0x64e)](_0x46dce0(0x227)),_0x3cd466=document['getElementById'](_0x46dce0(0x5c8));_0x5d8d24[_0x46dce0(0xc5e)]=_0x3d4a67[_0x46dce0(0xc59)]||_0x3d4a67[_0x46dce0(0x9f4)],_0xadcdec[_0x46dce0(0xc5e)]=_0x37a92e[_0x46dce0(0x1fa)]((_0x296ad5,_0x4689af)=>_0x46dce0(0x4b8)+String[_0x46dce0(0x3e6)](0x41+_0x4689af)+'.\x20'+_0x296ad5+_0x46dce0(0x51a))[_0x46dce0(0x5fa)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x52cd61['classList'][_0x46dce0(0xc9d)](_0x46dce0(0x76a)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x46dce0(0xacc)]([_0x5d8d24,_0xadcdec]);}function openBlueprintQuizSettings(){const _0x4932ef=_0x354eeb,_0xa27b9b=document[_0x4932ef(0x64e)]('blueprint-settings-modal'),_0x3cd778=blueprintPageSettings||(currentProjectData?currentProjectData[_0x4932ef(0x992)]:{})||{};document[_0x4932ef(0x64e)](_0x4932ef(0xaf1))['value']=_0x3cd778['quizType']||document[_0x4932ef(0x64e)]('quiz-type-select')[_0x4932ef(0x998)],document[_0x4932ef(0x64e)]('bp-modal-difficulty-level-select')['innerHTML']=document['getElementById'](_0x4932ef(0x4c2))[_0x4932ef(0xc5e)],document[_0x4932ef(0x64e)](_0x4932ef(0xc2f))[_0x4932ef(0x998)]=_0x3cd778[_0x4932ef(0x676)]||document[_0x4932ef(0x64e)](_0x4932ef(0x4c2))[_0x4932ef(0x998)],document[_0x4932ef(0x64e)](_0x4932ef(0x9c8))[_0x4932ef(0xc5e)]=document[_0x4932ef(0x64e)]('question-complexity-select')[_0x4932ef(0xc5e)],document[_0x4932ef(0x64e)](_0x4932ef(0x9c8))[_0x4932ef(0x998)]=_0x3cd778[_0x4932ef(0xddd)]||document[_0x4932ef(0x64e)](_0x4932ef(0xc78))[_0x4932ef(0x998)],document[_0x4932ef(0x64e)](_0x4932ef(0xd4a))['value']=_0x3cd778['numQuestions']||document[_0x4932ef(0x64e)]('num-questions')[_0x4932ef(0x998)],document[_0x4932ef(0x64e)](_0x4932ef(0x27e))[_0x4932ef(0x998)]=_0x3cd778['passingScore']||document['getElementById'](_0x4932ef(0xa3e))['value'],document[_0x4932ef(0x64e)](_0x4932ef(0xc4e))[_0x4932ef(0x998)]=_0x3cd778[_0x4932ef(0xda1)]||document[_0x4932ef(0x64e)]('num-choices')[_0x4932ef(0x998)],document[_0x4932ef(0x64e)]('bp-modal-shuffle-setting-select')[_0x4932ef(0x998)]=_0x3cd778[_0x4932ef(0xbb2)]||document[_0x4932ef(0x64e)](_0x4932ef(0x228))[_0x4932ef(0x998)],document['getElementById'](_0x4932ef(0x35b))[_0x4932ef(0x5f7)]=_0x3cd778[_0x4932ef(0x31f)]||document[_0x4932ef(0x64e)](_0x4932ef(0x548))[_0x4932ef(0x5f7)],_0xa27b9b['classList']['remove'](_0x4932ef(0x76a));}function handleSaveBlueprintPageSettings(){const _0x204346=_0x354eeb;blueprintPageSettings={'quizType':document['getElementById']('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x204346(0x64e)](_0x204346(0xc2f))[_0x204346(0x998)],'complexityValue':document[_0x204346(0x64e)]('bp-modal-question-complexity-select')['value'],'numQuestions':document[_0x204346(0x64e)](_0x204346(0xd4a))[_0x204346(0x998)],'passingScore':document[_0x204346(0x64e)](_0x204346(0x27e))[_0x204346(0x998)],'numChoices':document[_0x204346(0x64e)]('bp-modal-num-choices')[_0x204346(0x998)],'shuffle':document[_0x204346(0x64e)](_0x204346(0x393))[_0x204346(0x998)],'includeImages':document[_0x204346(0x64e)](_0x204346(0x35b))[_0x204346(0x5f7)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x204346(0x64e)]('blueprint-settings-modal')[_0x204346(0x565)]['add'](_0x204346(0x76a));}function listenForParallelTestShortcuts(){const _0x46fdf5=_0x354eeb,_0x58327a=doc(db,_0x46fdf5(0x5f3),_0x46fdf5(0x374));onSnapshot(_0x58327a,_0x59f7b9=>{const _0x45ba1e=_0x46fdf5;let _0x2e5fa0=[],_0x5f04fb=[],_0x5be206={};if(_0x59f7b9[_0x45ba1e(0x2c9)]()){const _0x123be3=_0x59f7b9[_0x45ba1e(0xbb9)]();_0x2e5fa0=_0x123be3[_0x45ba1e(0x8f4)]||[],_0x5f04fb=_0x123be3[_0x45ba1e(0x800)]||[],_0x5be206=_0x123be3[_0x45ba1e(0xc0a)]||{};}!_0x5f04fb[_0x45ba1e(0x52f)](_0x4c6441=>_0x4c6441['id']===_0x45ba1e(0x885))&&_0x5f04fb['unshift']({'id':_0x45ba1e(0x885),'name':_0x45ba1e(0x93b),'isDefault':!![]}),!_0x2e5fa0[_0x45ba1e(0x52f)](_0x126f67=>_0x126f67['id']==='parallel-default-1')&&_0x2e5fa0[_0x45ba1e(0x6e9)]({'id':_0x45ba1e(0x39a),'name':_0x45ba1e(0xa05),'url':'','isDefault':!![]}),!_0x2e5fa0[_0x45ba1e(0x52f)](_0x374d04=>_0x374d04['id']===_0x45ba1e(0xb19))&&_0x2e5fa0[_0x45ba1e(0x6e9)]({'id':_0x45ba1e(0xb19),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x2e5fa0,parallelShortcutTabs=_0x5f04fb,parallelShortcutOrder=_0x5be206,renderParallelTestShortcuts(),!document[_0x45ba1e(0x64e)](_0x45ba1e(0x53e))[_0x45ba1e(0x565)][_0x45ba1e(0xa60)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x1461f1=_0x354eeb,_0x4f3652=doc(db,_0x1461f1(0x5f3),_0x1461f1(0x374));try{await setDoc(_0x4f3652,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x377c0f){console[_0x1461f1(0x894)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x377c0f);}}function _0x285d(){const _0x19fe32=['Error\x20deleting\x20topic:','ไม่มีคำอธิบาย','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20committing\x20score\x20updates:','Blueprint\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','เพิ่มหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','includes','results-quiz-id-display','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','ศูนย์','manual-create-blueprint-btn','lobby','ไม่พบข้อมูลแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','การจัดกลุ่มข้อมูล','copy','visibilitychange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ชีสเค้ก','\x20ใหม่...','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','/public/data/syncGames','screen_exit','some','cancel-team-selection-btn','/public/data/liveGames','pathname','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','quiz','\x20ชุด)</span>','behavior-log','option','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','leaderboard-quiz-tab-btn','category','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','multiply','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','Test\x20Blueprint','</h4>','แบตหมด','resultsDisplay','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','lesson-view-content','dragstart','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','#open-additional-file-shortcuts-btn','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','file-default-2','ควรปรับปรุง','setAttribute','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-shortcut-tab-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','global-quiz-count','solution','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','parseFromString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p>','string','bg-yellow-200','highlighter-tools-group','ดอกเบี้ยอย่างง่าย','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','write','เปิดใช้งาน','.project-card-content','temp-loader-results','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','scores','</select>','leq','ฟังก์ชันลอการิทึม','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','_opt1\x22\x20name=\x22question','/preferences/main','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','จากเนื้อหาต่อไปนี้:\x20\x22','เปลี่ยนชื่อแบบทดสอบสำเร็จ','.bp-try-btn','export-compact-pdf-btn','\x5cneq','application/pdf','ปวดหลัง','Failed\x20to\x20generate\x20lesson:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-parallel-btn','results-display-select','Error\x20unpairing\x20quizzes:','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','student-progress-content','projectId','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','.application-options\x20button','lesson-plan-modal','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','delete','pointsLastQuestion','shortcutId','timer-duration-container','num-choices','generated-quiz-container','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','reference-pdf-upload','save-file-shortcut-btn','comparison-individual-content','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','แคลคูลัสเบื้องต้น','quiz-bank-count','27411472','AI\x20ไม่สามารถประมวลผลข้อมูลได้','cancel-quiz-edits-btn-footer','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','close-comparison-modal-footer-btn','เกิดข้อผิดพลาดในการลบหัวข้อ','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-id-input','additional-shortcuts-list','sync-short-answer-input','.ideal-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','studentName','ปรับเพิ่ม/ลดเป็นร้อยละ','bp-modal-num-questions','onblur','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','isAnonymousRevealed','toISOString','นักประดิษฐ์','force-math-checkbox','presentation-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','worksheet-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','พื้นที่สามเหลี่ยม','student-quiz-leaderboard-table-body','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','บักแตงโม','confidence-modal','ส่วนเบี่ยงเบนเฉลี่ย','สลับไปโหมดนักเรียน','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','ฟังก์ชันค่าสัมบูรณ์','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','bar','submission-status-chart','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x202','isFinished','no-projects-msg','.generate-lesson-btn','line-through\x20text-red-700','undo-btn','fill_in_the_blank','touchmove','textContent','timed','รากที่สองและที่สาม','touches','Error\x20deleting\x20custom\x20topic:','/lessons','none','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<button\x20data-id=\x22','\x5ctimes','afterend','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','touch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','manage-players-btn','smooth','กำลังสร้างรูปภาพ...','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','อสมการเชิงเส้น','ป่าไม้','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','โดเมนและเรนจ์','bg-green-100\x20text-green-800','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','subTopics','input[type=\x22text\x22]','fill_in_no_choices','shortcut-reference-url-input','responseSchema','<tr><td\x20colspan=\x22','.submittedAt','หลังเรียน','reset-view-btn','ไม่มีผู้ตอบตัวเลือกนี้','ม้าดีดกะโหลก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','upperGroupResponders','คุณแน่ใจว่าต้องการลบแท็บนี้?','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','Remedial\x20quiz\x20generation\x20failed:','offset','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','MathJax\x20typeset\x20error\x20(analytics):','numChoices','multiple_choice','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','\x22\x20class=\x22pin-project-btn\x20','leaderboard','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','กรุณาวาง\x20URL\x20ของบทความก่อน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','lesson-view-title','scratchpad-clear-btn','สร้างแล้ว','cursor','นกฮูกกลางวัน','question','ไฮเพอร์โบลา','open-quiz-bank-btn','pointer-events-none','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','[data-topic-container-id]','lesson-loader','เกิดข้อผิดพลาดในการอัปเดต:\x20','.move-quiz-btn','topic','text-blue-800','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</tbody></table></div>','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','#open-additional-parallel-shortcuts-btn','<button\x20data-tab-id=\x22','parallel-shortcut-editor-modal','เงินงวด\x20(อนุกรมเงินงวด)','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','blueprint-topics-list','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','scale','filter','substring','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','fileShortcutsConfig','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','dfrac','parent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','show-final-results-btn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','body','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','trim','.bp-create-content-quiz-btn','อัตราการเปลี่ยนแปลงทันที','reveal_at_end','idealAnswer','close-lesson-plan-modal-btn','complexityValue','add-custom-math-topic-btn','modal-timer-duration-input','checkbox','Error\x20saving\x20user\x20preference:','confirm-game-start-modal','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','bg-gray-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','num-choices-container','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','generationConfig','สร้างชุดคำถามจับคู่','bg-green-50','กำลังอ่านและเตรียมไฟล์...','\x20(\x22','Error\x20processing\x20shortcut\x20click:','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','getDocument','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','createElement','prod','game-start-modal-title','title','Error\x20saving\x20shortcut:','ยอดนักสืบ','blueprint-projects-modal','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','แผนการสอน:\x20','input[name=\x22syncVariant\x22]:checked','canvas','confirm-rename-quiz-btn','back-to-dashboard-from-results-btn','.quiz-bank-checkbox:checked','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','map','normal','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','setFont','style','classic','คาถาแยกเงาพันร่าง','localeCompare','keys','textarea[name=\x22question_single\x22]','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','tGain','115IwSifM','input[name=\x22drill_answer\x22]:checked','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','groups','tabId','</p>','size','referenceFileUrl','draggable-text','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','createdBy','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onerror','<tr>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','custom-math-topic-input','add','-tab-content','ฟังก์ชันพหุนาม','webkitRequestFullscreen','pop','rename-quiz-input','tooltipTarget','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','file-shortcut-url-input','half_mark_status','Error\x20joining\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scratchpad-options','shuffle-setting-select','pointerdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','eraser-tools-group','ยังไม่ส่ง','blueprint-upload-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','responses.','.quiz-result-card','Sync\x20Mode','responses','pinned-items','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ไม่ผ่าน','shortcuts-loading-msg','live-race','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','สร้างแบบทดสอบ','Error\x20loading\x20user\x20preferences:','เพื่อนสนิท','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','isCorrect','Error\x20fetching\x20quiz\x20settings:','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-btn','bg-red-100','global-quiz-search-input','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','สำหรับหัวข้อ\x20\x27','การแจกแจงทวินาม\x20(พื้นฐาน)','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','Error\x20listening\x20for\x20student\x20profiles:','แผนภาพกล่อง\x20(box\x20plot)','shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','/public/data/quizzes/','เกิดข้อผิดพลาดในการลบผลสอบ','cancel-quiz-settings-btn','.pointsLastQuestion','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','drop','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20link(s)\x20for\x20quiz\x20ID:\x20','Error\x20toggling\x20pin\x20status:','Error\x20analyzing\x20file\x20for\x20topics:','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','splice','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','ai-quiz-app-aefee.firebasestorage.app','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x20\x20\x20-\x20คำตอบ:\x20','PERSEVERANCE','fileShortcutOrder','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','deselect-all-topics-btn','perQuestionStats','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','เกิดข้อผิดพลาดในการสร้าง:\x20','ความชันเส้นสัมผัส','clear-all-links-btn','back-to-dashboard-from-bp-btn','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','color','whole_quiz','now','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','.linkedQuizId','เส้นรอบรูป','backgroundColor','editor-quiz-topic','application/json','generate-from-text-btn','/public/data/blueprintProjects','bp-modal-passing-score-input','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','AI\x20request\x20was\x20blocked.\x20Reason:\x20','#E5E7EB','ค.ร.น.\x20(LCM)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?',')\x22>','bg-green-400\x20text-white\x20font-bold','fa-fire\x20text-orange-500','original-mode-checkbox','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</span></div>','Error\x20saving\x20file\x20shortcut\x20config:','finished','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','modal-confidence-scoring-checkbox','.ai-fix-question-btn','parts','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','เลือกโปรเจคเพื่อบันทึก','justification','ยังไม่เต็มนะ','shortcut-id-input','ใช่\x20/\x20ถูก','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','originalQuestionText','การหารเศษส่วน','\x22\x20name=\x22question','.move-shortcut-dropdown','ondrop','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','frac','firstScore','#confidence-input-','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','then','round','scrollIntoView','join-live-game-btn','rgba(79,\x2070,\x20229,\x200.8)','จัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','showRankings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','items','every','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','width','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','generate-worksheet-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ส่วนเบี่ยงเบนมาตรฐาน','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','บันทึกการตั้งค่าสำเร็จ','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','หัวข้อหลักใหม่','not_generated','student-quiz-leaderboard-tab','.project-card-container','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','หนอนหนังสือ','results','student-project-leaderboard-content','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','handleGenerateAndShowLesson','/studentProfiles','createdAt','exists','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerValue','<div\x20class=\x22p-2\x20rounded-md\x20','kick-player-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','ฮิสโตแกรม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','starred','rename-quiz-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-input','.export-pdf-list-btn','reference.txt','ตัวเลือก\x20ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','มัธยฐาน','appendChild','มังกรกินจุ','ย้าย','\x20\x20\x20-\x20','Error\x20starting\x20live\x20race:','function','Error\x20saving\x20file\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','.pen-color-btn','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','devicePixelRatio','ชนิดของข้อมูลและการเก็บข้อมูล','length','การบวก','\x20แบบทดสอบลงในคลังสำเร็จ!','lesson-plan-title','ทฤษฎีบทพีทาโกรัสและการประยุกต์','points','modal-close-btn','กรุณาเลือกคำตอบก่อนครับ','ทฤษฎีบทพื้นฐานของแคลคูลัส','การยืนยันตัวตนล้มเหลว','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','บันทึกแบบทดสอบสำเร็จแล้ว!','_opt1\x22>ไม่ใช่</label></div>','date_desc','<p\x20class=\x22text-2xl\x22>','create-project-modal','keyup','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','Error\x20saving\x20lesson\x20to\x20project:','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','.topic-actions-view','confirm-link-quiz-btn','preventDefault','รูปสี่เหลี่ยมและสมบัติ','student-quiz-leaderboard-content','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(ไม่มีชื่อ)','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','Error\x20duplicating\x20quiz:','.quiz-bank-item','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','Error\x20generating\x20from\x20link:','```','.quiz-bank-delete-btn','เพนกวินไฟ','Enter','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','---\x20[คำถามใหม่]\x20---','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','นักเดินทาง','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-settings-btn','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','copy-quiz-id-btn','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includeImages','select','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','comparison-individual-tab','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','PROMPT_PLACEHOLDER','http://www.w3.org/2000/svg','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','.ai-content\x20h3','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เลือกและเริ่มสร้าง','\x20กลุ่ม</p></div>','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','/public/data/projects','text-red-700','project-sort-select','เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22delete-project-btn\x20','ฟังก์ชันกำลังสองและกราฟ','_opt0\x22\x20name=\x22question','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','jspdf','link-url-input','destroy','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x22>ใช่</p>','authed_project_','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','.open-bp-project-btn','requestFullscreen','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','มุมพิเศษ\x2030°-60°-90°','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','SAFETY','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','Error\x20preparing\x20content\x20quiz:','API\x20Error\x20Body:','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','cloneNode','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','manual-bp-grade-level','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/public/data/blueprintProjects/','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','Error\x20pairing\x20quizzes:','สรุปผลการวิเคราะห์:\x5cn','Error\x20adding\x20topic:','การบวกทศนิยม','Error\x20saving\x20quiz:','getBBox','selected-answer-index-hidden','bp-modal-include-images-checkbox','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student','file-upload-input','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','opacity','newOptions','rows','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','update-old-quizzes-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','confidence-scoring-description','getTextContent','สุดยอด!\x20ตอบถูกทุกข้อ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','parallel-default-','ลำดับเลขคณิต\x20(AP)','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ondragstart','file-shortcut-name-input','parallelTestShortcutsConfig','ผ่านฉลุย','lesson-view-modal','/public/data/projects/','สมการค่าสัมบูรณ์','student-team-join','สถิติและความน่าจะเป็น','wakeLock','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','forEach','generate-from-blueprint-btn','close-topic-bank-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','latestSubmittedAt','submit','.copy-quiz-id-list-btn','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','.edit-shortcut-btn','trail','\x22><p\x20class=\x22font-semibold\x22>','.file-topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','stepByStepExamples','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','documentElement','.game-start-btn','แม่น้ำ','Error\x20saving\x20project\x20order:','bp-modal-shuffle-setting-select','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','parallel-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','blueprint-project-list','bg-red-500','.quiz-bank-move-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','padStart','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','gradeLevel','</strong></p>','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-content','submit-group-answer-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','ตรวจคะแนนใหม่\x20','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','คนโสด','confirm-passcode-btn','เกมสิ้นสุดลงแล้ว','confirm-manual-bp-btn','bg-red-200\x20text-red-800','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-topic=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','transition-all','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','startedAt','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','text-emerald-900','modal-results-display-select','รอ...','_new','circ','COMEBACK_KING','API\x20call\x20failed','.shortcut-list-item',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','G-V90KRM0L63','กำลังดึงข้อมูลจากลิงก์...','results-quiz-title','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','score','manual_release','.lastAnswerIndex','กรุณาเลือกคำตอบของกลุ่ม','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync','.color-palette-btn','lesson-plan-content','modal-message','สมการราก\x20(radical)','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','empty','export-leaderboard-image-btn','stroke','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','cancel-blueprint-projects-btn','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','options','เกิดข้อผิดพลาดในการปักหมุด','adaptive-quiz-checkbox','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ดีมาก','ดูผลสรุปสุดท้าย','fromCharCode','เพิ่มปุ่มลัดจากไฟล์ใหม่','<option\x20value=\x22','QUICK_THINKER','toString','\x5cfrac{$1}{$2}','ไม่พบข้อมูลผู้ใช้','text-red-500\x20hover:text-red-700','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','save-settings-btn','\x20สำเร็จ','hint','blueprint.pdf','strokeStyle','txt','newOptionsPayload','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ลิมิต','\x22><span>','Error\x20saving\x20reference\x20URL:','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ตัวแทนแห่งดวงจันทร์','passcode-error-msg','กำลังสร้างแบบทดสอบ:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','circle','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','ทะเล','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','นักล่าฝัน','border-indigo-400\x20ring-2\x20ring-indigo-200','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','bank-quiz-list','webkitExitFullscreen','pre-test','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','pointContent','isLooping','next-sync-question-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','export-word-btn','สอบซ่อม','number','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','sync-variant-selector','back-to-dashboard-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','...','ปล่อยพลัง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ref','admin-dashboard','underline','summaryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','แบบทดสอบนี้หมดเวลาแล้ว','position','upperGroupNames','.txt','\x22\x20data-pre-test-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','str','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','removeChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x22...','tan','bank-tab','#000000','หน่วยเวลาและการคำนวณเวลา','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','Error\x20saving\x20to\x20question\x20bank:','#e21b3c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.admin-try-quiz-list-btn','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','2997RjPwLw','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','Error\x20linking\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20parallel\x20shortcut:','order','/public/data/quizzes','(^|[^\x5c\x5c])\x5cb','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','grabbing','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความน่าจะเป็นแบบมีเงื่อนไข','<button\x20data-shortcut-id=\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','memoryContent','ฮัลค์','คัดลอกรหัสแล้ว!','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','bulk-quiz-settings-btn','เรขาคณิต','loopUntilPass','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','parallel-test-tab','\x20ข้อ...','hasPerfectScoreBonus','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','toLowerCase','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ไม่สามารถบันทึกการตั้งค่าได้','setItem','student-progress','file-default-1','<div\x20id=\x22q-image-container-','passcode','add-parallel-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-bp-settings-btn','toLocaleString','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','การแจกแจงปกติและ\x20z-score','</p><p><strong>เฉลย:</strong>\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','substr','tool','timer-duration-input','border-green-300\x20bg-green-50','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','แผนภาพเวนน์','thead','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ถูกต้อง!','#file-shortcut-tabs-nav\x20.tab-name-input','false','timerMode','slide-counter','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results-tab',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','live-submit-short-answer-btn','gain','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','file-shortcut-editor-modal','.save-custom-topic-btn','ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead\x20.sortable-header','ปริพันธ์ไม่จำกัด','confidence-scoring-toggle','shortcutOrder','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-parallel-shortcut-btn','.compare-results-btn','สร้างโปรเจคสำเร็จ!','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','</h3>','Error\x20saving\x20blueprint\x20project:','text-gray-500','lastAnswerCorrect','</p></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','live-game','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','start-presentation-btn','กรุณาเลือกโปรเจคก่อน','ARRAY','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','เซียนสมองไว','isStarred','href','อัปเดตแบบทดสอบเก่า\x20','log','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','highlighter-size-value','team-quiz-topic','ก่อนเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','ติดซีรีส์','<div>','questionId','cdot','\x20จุด','endTime','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','รักแรกพบ','students','difficulty-level-select','text','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','</span></p>','ตรวจทานเฉลยเสร็จสิ้น!','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','practiceProblems','ค่าคลาดเคลื่อนของการวัด','className','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','removeAttribute','Firebase\x20initialization\x20failed:','setAttributeNS','closePath','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.group','confirmation-modal','players.','ก้อนเมฆ','bp-topic-list-container','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','isPinned','โลมาบิน','default-1','nickname-input','onchange','ตอบถูก\x203\x20ข้อติดต่อกัน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไก่ฟ้าพญาลอ','index','\x20รายการ...','timer-container','student-name-selection-view','game-start-mode','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','ฐานนิยม','cancel-parallel-shortcut-edit-btn','totalPoints','00:00','.delete-submission-btn','Error\x20regenerating\x20question\x20in\x20editor:','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','1846902QWoRbd','mixed','ครูใหญ่','contents','add-student-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','click','(เลือกแล้ว\x20','.file-shortcut-tab-btn','.isScored','questionType','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','textarea[name=\x22team_answer\x22]','submittedAt','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','onload','\x5cpm','selected-topics-count','pairedQuizId','desc','answer-counter','summary_chart','.bp-present-btn','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','p-2\x20bg-black/10\x20rounded-md','.move-parallel-shortcut-dropdown','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','ความต่อเนื่อง','อัปเดตการตั้งค่าของแบบทดสอบ\x20','.ai-content\x20li','เน็ตไอดอล','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gameVariant','</div>','.unpair-quiz-btn','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','shortcut-name-input','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','answering','start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','ไม่มี','dataset','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','สายลับจับบ้านเล็ก','isPasscodeEnabled','applicationData','BOOLEAN','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','parallel-test-upload-input','text-red-600','find','\x20(สำหรับ\x20','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','AI\x20did\x20not\x20return\x20any\x20content.','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','parallel-shortcuts-loading-msg','Error\x20joining\x20live\x20game:','raw','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','text-green-600','additional-parallel-shortcuts-modal','artifacts/','หน่วยมวล/น้ำหนักและการแปลง','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','after','<button\x20id=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','destination-out','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','td,\x20th','bulk-loop-until-pass-checkbox','Error\x20generating\x20hybrid\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','fullscreenchange','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดาวTikTok','Error\x20joining\x20sync\x20game:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','stdDev','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','file-shortcut-tabs-nav','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ondblclick','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','both','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.topic-selection-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','medium','classList','lesson-sections-container','<div\x20class=\x22my-6\x22>','answered','input[type=\x22checkbox\x22]:checked','.score','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','<div\x20class=\x22my-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','q-explanation-','specialist','เกิดข้อผิดพลาดในการแก้ไข','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจคสำเร็จแล้ว','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','main-correct-answer-display','สิงโตยิ้ม','\x20ตัวเลือก)','#FEE2E2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','correct','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','touchcancel','allResponses','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','.file-shortcut-btn','total','.draggable-text','file-tab','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','url','อกหัก','.move-shortcut-item','[data-field=\x22subTopic\x22]','isArray','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','ตารางความถี่','results_','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','cancel-game-start-btn','ความคาดหมาย\x20(Expected\x20value)','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','source-over','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','1024698fvWqpM','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','.delete-parallel-shortcut-tab-btn','\x27\x20ในหัวข้อ\x20\x27','ราชาคัมแบ็ก','parse','bg-blue-100\x20text-blue-800','data:application/vnd.ms-word;charset=utf-8,','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','handleGeneratePracticeTest','พิมพ์ตอบ','กรุณาเลือกสถานะ','border-indigo-500\x20text-indigo-600','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','message','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fileShortcutTabs','questionDisplayedAt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x22\x20value=\x22false\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','beginPath','suggestedAnswer','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','stopPropagation','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','scratchpad-controls','button[type=\x22submit\x22]','.bp-create-onet-quiz-btn','loader-text','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','จำนวนข้อ:','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','confirm-delete-btn','manage-tab-content','sync-player-list','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','lastIndexOf','shortcut-editor-modal','พีชคณิตและฟังก์ชัน','promptFeedback','.question-editor-item:last-of-type','ค่าสัมบูรณ์','msExitFullscreen','topics.','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','ไม่พบแบบทดสอบสำหรับรหัสนี้','cancel-manual-bp-btn','<p\x20class=\x22font-bold\x20text-sm\x20','getPage','จำนวนเต็มบวก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','พื้นที่วงกลม/ส่วนของวงกลม','Error\x20generating\x20worksheet:','finishReason','manage-tab','หมีขั้วโลกใต้','mousedown','cancel-quiz-bank-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','bank-quiz-search-input','comparison-overall-content','globalSettings','files','bottom','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','checked','<li\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','join','CEOพันล้าน','text-green-700\x20bg-green-100','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','เพิ่ม\x20','หยุดระบบจับเวลาหรี่หน้าจอ','bg-green-100\x20font-bold','modal-adaptive-quiz-checkbox','กรุณาเลือกไฟล์ก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-bank-subtopic-name','approx','#DBEAFE','touchend','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','สร้างคำถามแบบเติมคำในช่องว่าง','topicName','\x20ชุด)','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','NEGATIVE_INFINITY','blueprintShortcuts','เกี่ยวกับหัวข้อ\x20\x22','แบบทดสอบที่ติดดาว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','<span\x20class=\x22sort-indicator\x20ml-2\x22>','มุมพิเศษ\x2045°-45°-90°','ไอติมทอด','highlighter-tool-btn','cancel-export-pdf-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','Unexpected\x20API\x20response\x20structure:','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','OBJECT','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-form','arrayBuffer','max','teachingContent','กรุณาใส่ชื่อใหม่','คำถามดิบ:\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','fullscreenElement','<i\x20class=\x22fas\x20fa-magic\x22></i>','Error\x20updating\x20quiz\x20status:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','latestScore','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สร้างแบบทดสอบปรนัย','generate-from-topic-btn','text-blue-700\x20bg-blue-100','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ไม่ระบุ','createObjectURL','.sort-indicator','delete-all-students-btn','.generate-post-test-btn','Error\x20updating\x20quiz\x20settings:','startTime','</div></div></div>','Error\x20updating\x20pin\x20status:','generate-from-link-btn','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','topic_',',\x20r=','ดีเทอร์มิแนนต์','getElementById','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','สายตาสั้น','ผู้ไม่ยอมแพ้','):\x20','ศิลปิน','mousemove','teacherTips','linkedQuizIds','(หลังเรียน)\x20','leaderboard_','user-id-display','.edit-hidden-parallel-shortcut-btn','พลังคลื่นเต่า','next-drill-btn','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shuffledQuiz','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','onloadend','upper_group_count','lowerGroupResponders','เกิดข้อผิดพลาดในการนำผู้เล่นออก','เนื้อหาสำหรับสอน:\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','setTransform','#view-rankings-btn','passingScore','deg','input[type=\x22radio\x22][value=\x22','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','default-2','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','behavior-log-tab-content','qIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','difficultyValue','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','presentation-slide-container','dim-overlay','flex\x20flex-col\x20gap-2','ตะวันฉาย','quizId','Error\x20deleting\x20submission:','.linkedQuizIds','open-sync-scratchpad-btn','project-title','พอใช้','replace','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','pen','cancel-global-activity-btn','bg-green-200\x20text-green-900\x20font-bold','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','fadeStartTime','bulk-quiz-settings-modal','ไม่สามารถเริ่มเกมได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','timerDuration','s;\x22\x20title=\x22','.use-hidden-file-shortcut-btn','export-leaderboard-excel-btn','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','wasConfident','#ffffff','add-parallel-shortcut-btn','ความชันและเส้นตรง','numeric','close-lesson-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','สอบปกติ','/users/','clearRect','หมูกระทะจะเยียวยาทุกสิ่ง','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','live-game-view','\x22\x20สำเร็จ!','quizType','show-in-student-dashboard-checkbox','add-from-global-bank-btn','answer','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','sqrt','อยู่ในหัวข้อหลักใด:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','การประยุกต์เวกเตอร์พื้นฐาน','quiz-bank-modal','_opt','topics','lineWidth','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-black/20','preTestId','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','true','numPages','ชื่อโปรเจคห้ามว่าง','blueprint-options-container','ปลาทูคะนอง','answeredCurrentQuestion','check-answer-btn','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','.topic-name-input','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','innerText','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','API\x20call\x20failed\x20with\x20status:\x20','hover:bg-indigo-100','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','lesson-loader-text','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','การหารทศนิยม','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','lower_group_count','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','has','สามเหลี่ยม\x20(ชนิด/สมบัติ)','.csv','execCommand','เสือซ่อนเล็บ','เกิดข้อผิดพลาดในการเปลี่ยนสี','show_results_only','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','#D1FAE5','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','podium','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','</button>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','การนับ','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fix-lesson-latex-btn','รหัสไม่ถูกต้อง','checkAnswer','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','unshift','Error\x20rendering\x20student\x20progress:','classWeaknesses','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','project-detail-view','loop-until-pass-checkbox','submission','lowerGroupNames','bg-yellow-100','generated-quiz-actions','.ai-fix-formula-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','2258odHjDZ','[*]','highlighter','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','source_document.txt','generate-from-file-btn','blueprint-tab','กำลังสแกนหาแบบทดสอบเก่า...','sort','</div></div>','reference.pdf','.move-shortcut-menu-btn','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','.subTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','passcode-input-container','curriculum','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','Auto-linking\x20new\x20quiz\x20','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','modal-timer-duration-label','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัศวินรัตติกาล','closest','change','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','.eraser-size-btn','getBoundingClientRect','อัตราและอัตราหน่วย','.delete-question-editor-btn','Error\x20starting\x20group\x20quiz:','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ลำดับเรขาคณิต\x20(GP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','เน็ตช้า','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','disabled\x20bg-gray-400\x20cursor-not-allowed','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','text-gray-700','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','Error\x20deleting\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','querySelectorAll','modal-loop-until-pass-checkbox','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','open-global-live-btn','scratchpad-close-btn','จำนวนนักเรียน','dblclick','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','file-shortcut-id-input','topic-tab','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','post-test','correctResponse','per-question-options','ไม่สามารถเพิ่มนักเรียนได้','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','redo-btn','ปริมาตรรูปทรงสามมิติ','file-topics-list-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x5cge','/questionBank','Blueprint\x201','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','กรุณาพิมพ์คำตอบของกลุ่ม','referenceUrl','1384kDEwVP','save-visibility-settings-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','Error\x20fetching\x20lesson\x20content:','\x20\x0a\x20\x20\x20\x20','$1\x5c%','bg-green-500\x20hover:bg-green-600\x20text-white','candidates','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','การลบ','show_results_and_answers','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','</td>','manual-blueprint-modal','answers','Error\x20displaying\x20question\x20bank:','<h1></h1>','pointerType','fa-rocket\x20text-purple-500','keyConcepts','ปริพันธ์จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','admin','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','ตัวเลือก\x20ก','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','pen-tools-group','Error\x20updating\x20sort\x20preference:','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','hidden','text-green-600\x20font-bold','team','qType','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-hidden-file-shortcut-btn','student-name-select','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20จาก\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','83676tQXqZj','blueprint-project-manager-view','<div\x20class=\x22flex-1\x22></div>','fixed','projectSort','\x22\x20name=\x22question_single\x22\x20value=\x22','ห.ร.ม.\x20(GCD)','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','API\x20Error\x20Response:','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-custom-topic-btn','สถานะไม่ชัดเจน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab-content','2127BAqjeB','กำลังสร้างแบบทดสอบ\x20\x22','กัปตัน','isScored','```json','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','passcode-prompt-message','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','blur','parallel-shortcut-container','contentEditable','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','คะแนนเต็ม!','เศรษฐีดูไบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','text-gray-200','name','project-name-input','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x20in\x20all\x20blueprint\x20projects.','show-results-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ผู้พิชิตดาว','<button\x20data-quiz-id=\x22','text-content-input','<button\x20data-value=\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x22\x20ให้เป็นคำถามประเภท\x20\x22','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20starred\x20quizzes:','toDate','https://corsproxy.io/?','#student-quiz-leaderboard-content\x20thead','ลบหัวข้อสำเร็จ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientX','close-comparison-modal-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','default','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','loader','Copy\x20command\x20failed','.parallel-quiz-btn','visibilityState','classStrengths','live-player-management','Error\x20saving\x20settings:','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','save-blueprint-as-project-btn','กรุณาป้อนหัวข้อสำหรับใบงาน','player-list-lobby','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','.live-summary-tooltip.visible','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','.move-parallel-shortcut-menu-btn','ผลรวมอนุกรม\x20(Σ)','newCorrectIndex','\x5ccdot','\x22\x5cn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','Error\x20clearing\x20all\x20links:','การเรียงสับเปลี่ยน\x20(Permutation)','application','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-input-area','question-analytics-container','first_try_ace','mouse','ระยะจากจุดถึงเส้นตรง','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','#parallel-shortcut-tabs-nav\x20.tab-name-input','กำลังโหลดคลังข้อสอบทั้งหมด...','verify-answers-btn','projectName','baseVal','ON_FIRE','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','correctAnswer','.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','num-questions','Error\x20saving\x20manual\x20blueprint\x20project:','readAsArrayBuffer','$$$1$','Error\x20during\x20blueprint\x20link\x20cleanup:','set','.shortcut-tab-btn','\x22\x20data-q-type=\x22','10703968VUdJFX','จับคู่แบบทดสอบสำเร็จ!','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','ชาไข่มุก','.verification-result-editor','rgba(239,\x2068,\x2068,\x200.7)','bulk-confidence-mode-container','text-indigo-600','Error\x20verifying\x20answers:','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','cancel-move-quiz-btn','quiz-end-time','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x22>ไม่ใช่</p>','close-additional-parallel-shortcuts-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','parallelShortcutTabs','dimmed','FileReader\x20error:','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','createElementNS','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','save-quiz-edits-btn','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','border-gray-200','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','bg-red-100\x20text-red-800','presentation-explanation','save-bp-reference-btn','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','#retake-for-improvement-btn','จำนวนและการดำเนินการ','จันทร์เจ้า','save-shortcut-btn','เริ่มกิจกรรม:\x20','\x20ตัวเลือก.\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20ข้อ\x20','times','Group\x20Mode','confirm-quiz-settings-btn','Error\x20comparing\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','overline','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table','game-start-quiz-id','Error\x20updating\x20project\x20name:','<i\x20class=\x22fas\x20fa-pen\x22></i>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','true_false','quizMode','quick_thinker','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','focus','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แมวเก้าชีวิต','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','ไอรอนแมน','คำอธิบาย...','close-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','MathJax\x20re-render\x20failed:','verify-answers-editor-btn','input[type=\x22checkbox\x22]','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบโปรเจค','comeback_king','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','Error\x20verifying\x20answers\x20in\x20editor:','bg-green-500','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','password-error-msg','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x5cdiv','parallel-shortcut-url-input','กรุณาตั้งชื่อแท็บใหม่:','confidence-scoring-checkbox','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','quiz-generation-area','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','pen-tool-btn','(ก่อนเรียน)','อินเวอร์สของเมทริกซ์','findIndex','ondragend','<li>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-leaderboard-table-container','project-search-input','.auto-resize-textarea','หมดเวลาสำหรับข้อนี้!','back-to-project-btn','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','select[name=\x22question_single\x22]','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','กิจกรรมสิ้นสุดลงแล้ว','.pdf','standard','translate(','Error\x20saving\x20shortcut\x20config:','\x22\x20data-quiz-id=\x22','แบบทดสอบ:\x20','gameData','ระยะเวลา\x20(วินาที):','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','แบบเติมคำตอบ','doughnut','Error\x20fetching\x20project\x20quizzes:','fa-crown\x20text-yellow-500','text-yellow-300','disabled','next-question-timed-btn','prev-question-btn','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','STOP','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','additional-parallel-shortcuts-list','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','/public/data/practiceBank','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all','start-live-race-generated-btn','cancel-bp-settings-btn','file-input-area','restore','class','scratchpad-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','perfect_score','sync-submit-btn','label[for=\x22num-questions\x22]','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','separate-by-content-checkbox','.answers','error','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','ยกเลิกการเชื่อมโยงสำเร็จ','px)\x20scale(','export-leaderboard-pdf-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','.delete-quiz-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','.delete-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','parallel-test-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','%PDF','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ส่งคำตอบ','blueprint-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-display','bg-red-50','\x22\x20value=\x22','matching','readAsDataURL','center','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','anonymous','student-project-leaderboard-tab','ความเป็นอิสระของเหตุการณ์','มุมและการวัดมุม','เกิดข้อผิดพลาดในการบันทึกโปรเจค','next-question-btn','querySelector','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','.topic-row','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','คนคุย','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','.color-palette-popup','ดอทโปรดักต์\x20(dot)','student-initial-view','Error\x20saving\x20visibility\x20settings:','rgba(16,\x20185,\x20129,\x200.7)','สลับไปโหมดผู้ควบคุม','ข้อ\x20','incorrect','จอมเวทย์ขนมหวาน','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ceil','MathJax','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','description','file-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','json','download','.rename-quiz-btn','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','แบบทดสอบนี้ปิดใช้งานอยู่','.move-file-shortcut-dropdown','<span\x20class=\x22font-bold\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','confirm-admin-login-btn','group','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','entries','\x22\x20name=\x22confidence','content','กรุณาใส่ชื่อนักเรียน','font-bold\x20text-green-700','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','isDefault','#FFFFFF','แก้ไขข้อนี้','สมการยกกำลัง','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','topic-quiz-bank-modal','confirm-team-players-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','ตัวเลือก\x20ข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','shortcuts','submit-team-answer-btn','student-rankings-modal','ยืนยันการกระทำ','reference_onet.pdf','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','dragend','#26890c','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','ปุ่มลัดทั้งหมด','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','comparison-modal','close','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','.regenerate-question-editor-btn','bank-input-area','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','คะแนนยังไม่ถึงครึ่ง','questionIndex','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','parentElement','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20processing\x20parallel\x20shortcut\x20click:','save-project-name-btn','message-modal','get','pdf','ไม่พบแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','preTScore','bestScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','transparent','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','input[name=\x22team_player\x22]:checked','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','บันทึกโปรเจค\x20\x22','currentMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','sync-manage-players-btn','translate','ไม่พบตารางสำหรับ\x20Export','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','ไม่พบข้อมูลเกม','quiz-leaderboard-table-body','quiz-editor-modal','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','100px','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save','Error\x20calling\x20Gemini\x20API:','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','additional-file-shortcuts-modal','\x20mx-1\x20text-lg\x22></i></span>','scrollHeight','Error\x20generating\x20teaching\x20content:','shortcut-modal-title','การหาร','temp-loader-text-results','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','ต้นฉบับทั้งหมด','.question-editor-item[data-q-index=\x22','list-view-btn','shortcut_','ตรวจพบการออกจากหน้าจอครบ\x20','#results-table','from','svg','\x20คนที่ส่ง\x20ตอบถูก\x20(','mandatory','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','wheel','document','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shadowColor','shortcutIds','ไม่ใช่','<textarea\x20name=\x22question','\x0a---\x0a','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','bg-red-500\x20text-white\x20font-bold','blueprintUrl','.star-quiz-btn','.edit-quiz-btn','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','โจรสลัดอวกาศ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','นักวิทยาศาสตร์','postScore','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','per-question-text','แท็บใหม่','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','teacherSuggestions','-options\x22>','generated','<p\x20class=\x22text-xl\x22>','613180QKWXIN','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ท้องฟ้า','.question-editor-item','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','admin-password-input','text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','starred-project','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','admin-password-modal','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#6366F1','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','workerSrc','numQuestions','\x20from\x20sync\x20game:','leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','.summary-bar-item','live-options-container','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','ไฟล์ทั้งหมด','eraser-tool-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ตัวเลือก\x20ค','icon','groups.','Error\x20saving\x20game\x20results:','Error\x20generating\x20from\x20parallel\x20test\x20file:','floor','scheduled_pending','presentation-ai-result','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','targetId','settings','opacity-50','scores-tab-btn','กำลังกลับเข้าสู่เกม\x20','export-tutor-pdf-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','value','.remove-parallel-shortcut-from-tab-btn','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','explanation','touchstart','กฎของโคไซน์','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','Error\x20moving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentQuestionIndex','file.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.kick-player-btn-sync','answerText','.file-shortcut-btn[data-id=\x22','button','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','นักกีฬา','screen','end-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-hidden-parallel-shortcut-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','trail-tool-btn','confidence-choice-btn','FIRST_TRY_ACE','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','progress-student-select','reveal-names-btn','.bp-edit-topic-btn','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','leaderboard-tab-content','beforeend','close-presentation-btn','ไม่พบข้อมูลโปรเจค','submissions','analyze-strengths-btn','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','code','\x22\x20สำเร็จ','badges','editable-text-','ระบบสมการเชิงเส้นสองตัวแปร','bp-modal-question-complexity-select','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','Original\x20quiz\x20not\x20found','.ai-content\x20p','quiz-type-select','comparison','image/png','scrollX','px,\x20','Error\x20updating\x20custom\x20topic:','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','.status','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','retake-quiz-loop-btn','Failed\x20to\x20kick\x20player\x20','imageCode','กรุณาเลือกโปรเจคปลายทาง','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สู้ๆ\x20ลองอีกครั้งนะ','timer-mode-select','ความแปรปรวน','file-topics-list','\x20mb-2\x22>','fa-pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','Error\x20adding\x20custom\x20topic:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','presentation-modal','\x22,\x20','กำลังสร้างเนื้อหา:\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','คำเตือน\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','perfect_score_status','fa-dumbbell\x20text-gray-700','height','student-passcode-input','ค่าเฉลี่ย','กำลังอ่านไฟล์อ้างอิง...','questionText','student-quiz-area','quiz-status-modal','blueprint-topics-list-container','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','parseInline','text-purple-600','.confidence-choice-btn','modal-shuffle-select','แบบทดสอบฝึกฝนเรื่อง:\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','แก้ไขหัวข้อสำเร็จ','addEventListener','abs','border-red-300\x20bg-red-50','ต้นฉบับ\x201','input[name=\x22status-option\x22]:checked','input[name=\x22syncVariant\x22][value=\x22classic\x22]','save-quiz-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','summary','text-red-900','q-image-container-','เศษส่วน\x20(ย่อ/ขยาย)','scheduled','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','modal-passing-score-input','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์หัวข้อ...','display','</li>','ฟังก์ชันเชิงเส้นและกราฟ','.live-answer-btn,\x20#sync-submit-btn','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','overflowY','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','mode','short','Loaded\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','duration-300','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-reference-file-url','mainTopics','sync-matching-select','manual-bp-project-name','strength-weakness-analysis-container','insertBefore','text-gray-400\x20hover:text-indigo-600','Error\x20generating\x20lesson\x20plan:','Error\x20confirming\x20players\x20for\x20sync\x20game:','.edit-question-btn','เกิดข้อผิดพลาด','วงกลม:\x20คอร์ดและเส้นสัมผัส','btn','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','ความเท่ากันทุกประการของสามเหลี่ยม','right','memory','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','file.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','การสร้างรูปด้วยวงเวียน–สันตรง','กำลังค้นหากิจกรรม...','ปิดใช้งาน','bg-green-200','/public/data/learnedFixes','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','geq','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','cancel-bulk-quiz-settings-btn','.delete-project-btn','endsWith','https://drive.google.com/uc?export=download&id=','.group\x5c/dropdown-file','\x20|\x20','student-team-selection-view','\x5csqrt{$1}','มูเตลู','moveTo','ondragover','กรุณาสร้างบทเรียนก่อน','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','catch','close-game-final-btn','pointermove','.presentation-option','รูปหลายเหลี่ยมและมุมภายใน','onclick','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ที่พิมพ์ได้\x20จำนวน\x20','contains','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','bg-black/10','actions-container-','export-image-btn','ผ่าน','\x5cle','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','hint-btn','Successfully\x20removed\x20','quiz-results','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','เกมเมอร์','manage','Error\x20deleting\x20project:','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','.topic-actions-edit','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','keydown','rgba(255,\x20255,\x200,\x200.5)','values','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','PERFECT_SCORE','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','bp-add-topic-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-800','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','quiz-leaderboard-table','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','answerValue','target','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','เกิดข้อผิดพลาดในการลบนักเรียน','เพิ่มปุ่มลัดใหม่','export-lesson-pdf-btn','push','.use-hidden-parallel-shortcut-btn','file-shortcut-modal-title','indexOf','eraser','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','</body></html>','ยอดเยี่ยม!','\x20คะแนน</span></div>','point','dashboardConfig','commit','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','.bp-open-topic-bank-btn','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','practice-topic-btn','parallel-shortcut_','isConfidenceScoringEnabled','ยืนยันและอัปเดตทั้งหมด','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','Error\x20updating\x20project\x20color:','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','พื้นที่ผิวรูปทรงสามมิติ','Error\x20resetting\x20project\x20order:','flex','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แอบชอบ','dragover','จุด\x20เส้น\x20ระนาบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','isRemedial','ai-quiz-app-aefee','.shortcut-list-item:not(.opacity-50)','totalQuestions','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','removeEventListener','separate-by-content-from-file-checkbox','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','add-file-shortcut-btn','modal-confidence-mode-select','applicationContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','ฟังก์ชันราก\x20(root)','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','typesetPromise','เพิ่มรายการที่เลือก','คัดลอกแบบทดสอบสำเร็จ','.pen-size-btn','การบวกเศษส่วน','ธอร์ค้อนบิน','บทเรียนเรื่อง:\x20','removeItem','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ระยะเวลา\x20(นาที):','goto-next-question-btn','.answered','quadraticCurveTo','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','cancel-quiz-edits-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','.png','ความคล้ายของรูป','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinnedProjects','div','selectedTopicNames','อุณหภูมิและการแปลง','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','lessonPlan','modal-timer-mode-select','interesting-stats-wrapper','neq','ทศนิยม\x20(ค่าประจำหลัก)','.delete-shortcut-btn','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-700','เกิดข้อผิดพลาดในการสร้างใบงาน','div[data-question-index=\x22','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','bp-modal-quiz-type-select','blob','topicId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','confidence','reviewQuestionIndex','Error\x20renaming\x20quiz:','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','คะแนนเฉลี่ย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','th-TH','quiz-search-input','autoTable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','อสมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','showInStudentDashboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.use-hidden-shortcut-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','การคูณทศนิยม','min','ตัวประกอบและตัวประกอบเฉพาะ','per-q-countdown','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','จำนวนคู่:','previousElementSibling','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','ช่างภาพ','update','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','[data-topic-id]','คำถามถัดไป','เวกเตอร์และเมทริกซ์\x20(เสริม)','parallel-default-2','per_question','คณิตการเงิน/บูรณาการ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','show_pass_fail_only','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','<div\x20class=\x22space-y-4\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กระต่ายตื่นตูม','.move-parallel-shortcut-item','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','confirm-move-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','toDataURL','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','#open-additional-shortcuts-btn','save-game-results-checkbox','user','.sortable-header','2-digit','ฟังก์ชันสัมพัทธ์\x20(rational)','.view-bp-lesson-btn','team-student-list','stringify','N/A','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','mouseleave','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','confident','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','กลุ่มของคุณ','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','leaderboard-quiz-tab-content','กรุณาใส่ชื่อโปรเจค','\x20คะแนน\x20','.scratchpad-content-wrapper','create-from-bank-btn','.regenerate-question-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','ดวงดาว','</p><div>','pin','match','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','.generate-content-btn','tab_','reset-project-order-btn','Error\x20loading\x20blueprint\x20projects:','Error\x20displaying\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answer-grid-container','</a>','confidenceMode','quiz-editor-questions-container','fa-bolt\x20text-blue-500','\x20จุดเรียบร้อยแล้ว','#FCE7F3','<br>','\x20คู่\x20','pointerup','admin-try-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','getScreenCTM','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','ย้ายแบบทดสอบสำเร็จ','(คู่ขนาน)\x20','confirm-confident','learningGaps','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','ไม่พบไฟล์\x20Test\x20Blueprint','reduce','ยังไม่มีนักเรียนส่งงาน','offsetWidth','ใช่','เมทริกซ์:\x20บวก/คูณ','quiz-id-input','block','ทำคะแนนได้เกินครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-not-confident','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','random','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','.topic-category',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','ระบบอสมการ','result','bg-green-100','test','(ก่อนเรียน)\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22',':</span><span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','additional-file-shortcuts-list','นอนไม่พอ','transformOrigin','.answeredCurrentQuestion','activeGameSession','project-quizzes-list','บันทึกการแก้ไข','<div\x20class=\x22answer-space\x22></div>','viewBox','การแยกตัวประกอบ','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ย้ายแบบทดสอบไปโปรเจคอื่น','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','.edit-hidden-shortcut-btn','</div>\x0a</div>\x0a','nextElementSibling','leaderboard-quiz','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','asc','projectView','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20data-name=\x22','pre-test-checkbox','badgesCount','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-file-shortcuts-btn','อนุพันธ์:\x20กฎลูกโซ่','file-shortcut_','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','กรุณาเลือกชื่อของคุณ','Error\x20starting\x20game:','members','ยูทูปเบอร์ฝึกหัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','additional-shortcuts-modal','comparison-overall-tab','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','shuffle','</label></div>','lastAnswerIndex','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและบันทึก','shuffleSetting','ไม่พบแบบทดสอบในระบบเลย','data','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','instructions','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','blockReason','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','clientY','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-quiz-topic','เกิดข้อผิดพลาดในการจับคู่','AI\x20แก้ไขคำถามสำเร็จ!','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','กำลังจับคู่...','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','generate-from-parallel-test-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x20mr-2\x22></i>','close-lesson-plan-modal-footer-btn','.bp-live-btn','.tab-name-display','ผู้ควบคุม\x20(ทดสอบ)','start-sync-game-btn','.ai-content\x20td','pointercancel','topic-bank-list','ภูเขา','21qeInzH','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','deltaY','แบบทดสอบจากคลังส่วนตัว','Error\x20submitting\x20group\x20answer:','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','เปลี่ยนชื่อโปรเจคสำเร็จ','visible','[data-topic-id=\x22','presentation-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-project-leaderboard-table-body','ผู้เชี่ยวชาญ','student-join-game-view','modal-confidence-mode-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','results-table-container','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','#results-table\x20thead\x20tr','text-red-300\x20hover:text-red-100','start-quiz-btn','export-pdf-btn','ตรีโกณมิติ','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','.mb-6.p-4','isAdaptive','สร้างคำถามแบบใช่/ไม่ใช่','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','export-worksheet-pdf-btn','\x22>จาก:\x20','fa-shield-alt\x20text-gray-600','Error\x20fetching\x20student\x20rankings:','behaviorLog','สมการตรีโกณมิติ','%</span>','input[type=\x22radio\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isNormalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','parallel-shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','กาแฟขม','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','ค่าเสื่อมราคา','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','ไม่ใช่\x20/\x20ผิด','live-player-list','players','parallelShortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','manual-bp-content','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','top','projectOrder','\x22\x20data-target-tab-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','math-topics-checkbox-container','overallGroups','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','</span><span\x20class=\x22font-bold\x22>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','.delete-bp-project-btn','ไม่สามารถสร้างโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','/public/data/teamQuizzes','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','print','คัดลอกไม่สำเร็จ','ผิด','เกิดข้อผิดพลาดในการส่งคำตอบ','warn','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','timer-bar','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20adding\x20students:','mean','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','bp-modal-difficulty-level-select','mouseup','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','request','\x0a\x20\x20\x20\x20','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','interesting-stats-container','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x20O-NET\x20ป.6','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','.parallel-shortcut-tab-btn','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','AI\x20Formula\x20Fix\x20Error:','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','type','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questions','\x20quizzes\x20into\x20global\x20cache.','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','highlighter-size-slider','left','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#F3E8FF','msRequestFullscreen','text-gray-300\x20hover:text-white','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','bp-modal-num-choices','getAttributeNS','helvetica','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','AI\x20grading\x20failed:','.live-answer-btn','ไม่ได้ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineJoin','bg-blue-500\x20hover:bg-blue-600\x20text-white','stem','หมาป่าเดียวดาย','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','choices_only','กรุณาเลือกคำตอบ','โหลดนาน','getContext','bulk-confidence-mode-select','เกิดข้อผิดพลาดในการบันทึก','.delete-student-btn','Failed\x20to\x20generate\x20practice\x20test:','matching_item','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','input','.tab-name-input','scratchpad-header','fill','ฟังก์ชันยกกำลัง','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','attempts','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','ลบผลสอบของ\x20','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส้มตำปูปลาร้า','close-student-rankings-btn','behavior-log-container','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','dispatchEvent','.group\x5c/dropdown','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','bp-quiz-settings-btn','grid','/public/data/customMathTopics','toFixed','0\x200','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','bulk-confidence-scoring-checkbox','พบข้อสอบ\x20','subTopic','modal-timer-duration-container','ข้อที่\x20','Attempting\x20to\x20save\x20game\x20results...','player-count','.generate-easy-version-btn','.project-card-container:not(.opacity-50)','confirm-bulk-quiz-settings-btn','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','shadowBlur','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการโหลดโปรเจค','.start-game-btn','admin-view','toggle','export-leaderboard-word-btn','bg-teal-500\x20hover:bg-teal-600\x20text-white','.delete-svg-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','sara','slice','.quiz-status-btn','countdown-display','Failed\x20to\x20get\x20hint:','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','insertAdjacentHTML','pow','กำลังอัปเดตแบบทดสอบ\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','end-team-quiz-btn','link-input-area','#math-topics-checkbox-container\x20input:checked','global-activity-modal','\x22\x20name=\x22team_answer\x22\x20value=\x22','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','analytics-summary-cards','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','การลบเศษส่วน','mjx-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','mode-switcher-btn','list','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ'];_0x285d=function(){return _0x19fe32;};return _0x285d();}function renderAdditionalParallelShortcutsModal(){const _0x530eb4=_0x354eeb,_0x422a3f=document[_0x530eb4(0x64e)]('parallel-shortcut-tabs-nav'),_0x463918=document['getElementById']('additional-parallel-shortcuts-list');if(!_0x422a3f||!_0x463918)return;_0x422a3f[_0x530eb4(0xc5e)]=parallelShortcutTabs[_0x530eb4(0x1fa)](_0x483cac=>{const _0x27f5c2=_0x530eb4,_0x4069f8=_0x483cac['id']===activeParallelShortcutTabId;return _0x27f5c2(0xc7b)+_0x483cac['id']+_0x27f5c2(0xa6d)+(_0x4069f8?'border-indigo-500\x20text-indigo-600':_0x27f5c2(0x3f6))+_0x27f5c2(0xa8b)+_0x483cac[_0x27f5c2(0x799)]+_0x27f5c2(0x226)+_0x483cac[_0x27f5c2(0x799)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x483cac[_0x27f5c2(0x8e8)]?'<button\x20data-tab-id=\x22'+_0x483cac['id']+_0x27f5c2(0x590):'')+_0x27f5c2(0x432);})[_0x530eb4(0x5fa)]('');const _0x5613f6=parallelShortcutTabs[_0x530eb4(0x52f)](_0x3f90b0=>_0x3f90b0['id']===activeParallelShortcutTabId);let _0x34f7d1=_0x5613f6?.[_0x530eb4(0x8e8)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x530eb4(0xdc7)](_0x1f13ce=>(_0x5613f6?.[_0x530eb4(0x94b)]||[])[_0x530eb4(0xcc5)](_0x1f13ce['id']));const _0x3084b6=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x34f7d1[_0x530eb4(0x705)]((_0x266637,_0xa6eb68)=>{const _0x4f77f8=_0x530eb4,_0x2dcc34=_0x3084b6[_0x4f77f8(0xa98)](_0x266637['id']),_0x1e9dec=_0x3084b6['indexOf'](_0xa6eb68['id']);return(_0x2dcc34===-0x1?Infinity:_0x2dcc34)-(_0x1e9dec===-0x1?Infinity:_0x1e9dec);}),_0x463918['innerHTML']=_0x34f7d1['map'](_0x2ca4d5=>{const _0x244033=_0x530eb4,_0x308a9d=_0x2ca4d5[_0x244033(0x592)]?'🔁':'🔗',_0x1be817=parallelShortcutTabs['filter'](_0x52e92a=>!_0x52e92a['isDefault']),_0x52f14d=_0x5613f6[_0x244033(0x8e8)]&&_0x1be817[_0x244033(0x2ee)]>0x0?_0x244033(0xa3d)+_0x1be817[_0x244033(0x1fa)](_0x484450=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x2ca4d5['id']+_0x244033(0xc12)+_0x484450['id']+'\x22>'+_0x484450[_0x244033(0x799)]+'</a>')[_0x244033(0x5fa)]('')+_0x244033(0x9de):'';return _0x244033(0xb27)+_0x2ca4d5['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x308a9d+'\x20'+_0x2ca4d5['name']+_0x244033(0x421)+_0x2ca4d5['id']+_0x244033(0x9b2)+_0x2ca4d5['id']+_0x244033(0x3ba)+(!_0x2ca4d5['isDefault']?_0x244033(0xd7c)+_0x2ca4d5['id']+_0x244033(0x6f2):'')+_0x244033(0x494)+(!_0x5613f6[_0x244033(0x8e8)]?_0x244033(0x456)+_0x2ca4d5['id']+_0x244033(0xc2e):'')+_0x244033(0x494)+_0x52f14d+_0x244033(0xa3c);})['join']('')||_0x530eb4(0xd0c),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x32d90d=_0x354eeb;document['querySelectorAll'](_0x32d90d(0xc3a))[_0x32d90d(0x37d)](_0x160dcc=>{const _0x520c3b=_0x32d90d;_0x160dcc[_0x520c3b(0xa5d)]=_0xb2cede=>{const _0x29ec9a=_0x520c3b;activeParallelShortcutTabId=_0xb2cede[_0x29ec9a(0x64f)]['dataset']['tabId'],renderAdditionalParallelShortcutsModal();},_0x160dcc['ondblclick']=_0x255c4f=>{const _0x2d8e7f=_0x520c3b,_0x5b6451=_0x255c4f[_0x2d8e7f(0x64f)]['querySelector'](_0x2d8e7f(0xc6a));_0x255c4f['currentTarget'][_0x2d8e7f(0x8b9)](_0x2d8e7f(0xbce))['classList'][_0x2d8e7f(0x21a)](_0x2d8e7f(0x76a)),_0x5b6451[_0x2d8e7f(0x565)][_0x2d8e7f(0xc9d)](_0x2d8e7f(0x76a)),_0x5b6451[_0x2d8e7f(0x836)](),_0x5b6451['select']();};}),document[_0x32d90d(0x72d)](_0x32d90d(0x7d9))[_0x32d90d(0x37d)](_0x3b58af=>{const _0x585f7b=_0x32d90d,_0x31c4c2=()=>{const _0x5d73df=_0x421e,_0x5e9498=_0x3b58af['closest'](_0x5d73df(0xc3a))['dataset'][_0x5d73df(0x20d)],_0x10770f=parallelShortcutTabs[_0x5d73df(0x52f)](_0x470e86=>_0x470e86['id']===_0x5e9498);_0x10770f&&(_0x10770f[_0x5d73df(0x799)]=_0x3b58af[_0x5d73df(0x998)]['trim']()||_0x10770f[_0x5d73df(0x799)],saveParallelShortcutConfig());};_0x3b58af[_0x585f7b(0xd4b)]=_0x31c4c2,_0x3b58af['onkeydown']=_0x52f69d=>{const _0x26f85d=_0x585f7b;if(_0x52f69d['key']===_0x26f85d(0x313))_0x3b58af[_0x26f85d(0x790)]();};}),document[_0x32d90d(0x72d)](_0x32d90d(0x5a8))[_0x32d90d(0x37d)](_0xa30b92=>_0xa30b92[_0x32d90d(0xa5d)]=_0x290eb6=>{const _0x210d99=_0x32d90d,_0x56f379=_0x290eb6[_0x210d99(0x64f)][_0x210d99(0x524)][_0x210d99(0x20d)];showConfirmation(_0x210d99(0xd9a),()=>{const _0x144cc4=_0x210d99;parallelShortcutTabs=parallelShortcutTabs[_0x144cc4(0xdc7)](_0x1f972b=>_0x1f972b['id']!==_0x56f379),delete parallelShortcutOrder[_0x56f379];if(activeParallelShortcutTabId===_0x56f379)activeParallelShortcutTabId=_0x144cc4(0x885);saveParallelShortcutConfig();});}),document[_0x32d90d(0x72d)](_0x32d90d(0xb25))[_0x32d90d(0x37d)](_0x331a2a=>_0x331a2a[_0x32d90d(0xa5d)]=_0x41d393=>{const _0xb74d60=_0x32d90d;_0x41d393[_0xb74d60(0x304)]();const {shortcutId:_0x319af1,targetTabId:_0x9114df}=_0x41d393[_0xb74d60(0x64f)][_0xb74d60(0x524)],_0x82130=parallelShortcutTabs[_0xb74d60(0x52f)](_0x374f61=>_0x374f61['id']===_0x9114df);_0x82130&&!_0x82130['shortcutIds'][_0xb74d60(0xcc5)](_0x319af1)&&(_0x82130['shortcutIds']['push'](_0x319af1),saveParallelShortcutConfig());}),document[_0x32d90d(0x72d)](_0x32d90d(0x999))[_0x32d90d(0x37d)](_0x404ad1=>_0x404ad1['onclick']=_0x5371ab=>{const _0x3ddd72=_0x32d90d,_0x3309b1=_0x5371ab[_0x3ddd72(0x64f)][_0x3ddd72(0x524)][_0x3ddd72(0xd2e)],_0x5b8133=parallelShortcutTabs['find'](_0x80572f=>_0x80572f['id']===activeParallelShortcutTabId);_0x5b8133&&!_0x5b8133[_0x3ddd72(0x8e8)]&&(_0x5b8133[_0x3ddd72(0x94b)]=_0x5b8133[_0x3ddd72(0x94b)]['filter'](_0x18e937=>_0x18e937!==_0x3309b1),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x32d90d(0x7c4))[_0x32d90d(0x37d)](_0x35f108=>_0x35f108['onclick']=_0x39bb79=>{const _0x5b8b14=_0x32d90d;_0x39bb79['stopPropagation']();const _0x47d7f0=_0x39bb79['currentTarget'][_0x5b8b14(0xb99)];document[_0x5b8b14(0x72d)](_0x5b8b14(0x50f))['forEach'](_0x2db40a=>_0x2db40a['classList'][_0x5b8b14(0x21a)](_0x5b8b14(0x76a))),_0x47d7f0[_0x5b8b14(0x565)]['remove'](_0x5b8b14(0x76a));});const _0x5d808f=document[_0x32d90d(0x64e)](_0x32d90d(0x881));let _0x439118=null;_0x5d808f[_0x32d90d(0x372)]=_0xdff911=>{const _0x3f9f25=_0x32d90d;_0x439118=_0xdff911[_0x3f9f25(0xa8f)]['closest'](_0x3f9f25(0x3c3));if(_0x439118)setTimeout(()=>_0x439118[_0x3f9f25(0x565)][_0x3f9f25(0x21a)](_0x3f9f25(0x993)),0x0);},_0x5d808f[_0x32d90d(0x85c)]=()=>{_0x439118&&(_0x439118['classList']['remove']('opacity-50'),_0x439118=null);},_0x5d808f['ondragover']=_0x3ceffe=>{_0x3ceffe['preventDefault']();},_0x5d808f[_0x32d90d(0x29d)]=_0x116181=>{const _0x30d1d0=_0x32d90d;_0x116181[_0x30d1d0(0x304)]();if(_0x439118){const _0x4491b3=[..._0x5d808f[_0x30d1d0(0x72d)](_0x30d1d0(0xabc))][_0x30d1d0(0xb6c)]((_0x3394b8,_0x3c39d9)=>{const _0x5be335=_0x30d1d0,_0x25051e=_0x3c39d9['getBoundingClientRect'](),_0x200969=_0x116181[_0x5be335(0xbbf)]-_0x25051e[_0x5be335(0xc10)]-_0x25051e[_0x5be335(0x9f0)]/0x2;return _0x200969<0x0&&_0x200969>_0x3394b8[_0x5be335(0xd9e)]?{'offset':_0x200969,'element':_0x3c39d9}:_0x3394b8;},{'offset':Number[_0x30d1d0(0x611)]})[_0x30d1d0(0x685)];_0x4491b3==null?_0x5d808f[_0x30d1d0(0x2dd)](_0x439118):_0x5d808f[_0x30d1d0(0xa2d)](_0x439118,_0x4491b3);const _0x3bfc91=[..._0x5d808f['querySelectorAll']('.shortcut-list-item')][_0x30d1d0(0x1fa)](_0x2fa623=>_0x2fa623['dataset']['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x3bfc91,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x30c9f6=_0x354eeb,_0x506e42=prompt(_0x30c9f6(0x852),_0x30c9f6(0x95e));_0x506e42&&_0x506e42[_0x30c9f6(0xdd7)]()&&(parallelShortcutTabs[_0x30c9f6(0xa95)]({'id':_0x30c9f6(0xb53)+Date[_0x30c9f6(0x274)](),'name':_0x506e42[_0x30c9f6(0xdd7)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x349d16=_0x354eeb,_0x311063=document[_0x349d16(0x64e)](_0x349d16(0x791)),_0x34a10d=document[_0x349d16(0x64e)](_0x349d16(0x881)),_0x4ae8c3=document['getElementById'](_0x349d16(0x537));if(_0x4ae8c3)_0x4ae8c3[_0x349d16(0x565)][_0x349d16(0x21a)](_0x349d16(0x76a));if(!_0x311063||!_0x34a10d)return;const _0x27ca9f=parallelTestShortcuts['slice'](0x0,0x4),_0x4fb587=parallelTestShortcuts[_0x349d16(0xca0)](0x4);_0x311063[_0x349d16(0xc5e)]=_0x27ca9f[_0x349d16(0x1fa)](_0x5c8b5a=>{const _0x40fd19=_0x349d16,_0x1a3572=_0x5c8b5a[_0x40fd19(0x592)]&&_0x5c8b5a[_0x40fd19(0x592)][_0x40fd19(0xdd7)]()!=='',_0x5e2747=_0x1a3572?_0x40fd19(0xc99):_0x40fd19(0x857),_0x3230b0=_0x1a3572?'🔁':'🔗',_0x7ba062=!_0x5c8b5a['isDefault']?'<button\x20data-id=\x22'+_0x5c8b5a['id']+_0x40fd19(0xcd6):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x5c8b5a['id']+_0x40fd19(0xb1f)+_0x5e2747+_0x40fd19(0x88d)+_0x3230b0+'\x20'+_0x5c8b5a[_0x40fd19(0x799)]+_0x40fd19(0x3fe)+_0x5c8b5a['id']+_0x40fd19(0x966)+_0x7ba062+_0x40fd19(0x2cb);})['join'](''),_0x4fb587['length']>0x0&&(_0x311063[_0x349d16(0xc5e)]+=_0x349d16(0x7a8)),_0x4fb587[_0x349d16(0x2ee)]>0x0?_0x34a10d[_0x349d16(0xc5e)]=_0x4fb587['map'](_0x4a7b43=>_0x349d16(0xc27)+(_0x4a7b43[_0x349d16(0x592)]?'🔁':'🔗')+'\x20'+_0x4a7b43[_0x349d16(0x799)]+_0x349d16(0x553)+_0x4a7b43['id']+_0x349d16(0x77f)+_0x4a7b43['id']+_0x349d16(0xc56)+(!_0x4a7b43['isDefault']?_0x349d16(0xd7c)+_0x4a7b43['id']+_0x349d16(0x6f2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x349d16(0x5fa)](''):_0x34a10d[_0x349d16(0xc5e)]=_0x349d16(0x73d);}function openParallelTestShortcutEditor(_0x48345a=null){const _0x2ab7d0=_0x354eeb,_0x1eec57=document[_0x2ab7d0(0x64e)](_0x2ab7d0(0xdbf)),_0x213e6c=document[_0x2ab7d0(0x64e)](_0x2ab7d0(0xc00)),_0x396483=document[_0x2ab7d0(0x64e)](_0x2ab7d0(0xd43)),_0x2d0250=document['getElementById']('parallel-shortcut-name-input'),_0x20c64b=document[_0x2ab7d0(0x64e)](_0x2ab7d0(0x851));if(_0x48345a){const _0x5654b2=parallelTestShortcuts[_0x2ab7d0(0x52f)](_0x5becc5=>_0x5becc5['id']===_0x48345a);if(!_0x5654b2)return;_0x213e6c[_0x2ab7d0(0xd72)]=_0x2ab7d0(0xd04),_0x396483[_0x2ab7d0(0x998)]=_0x5654b2['id'],_0x2d0250[_0x2ab7d0(0x998)]=_0x5654b2[_0x2ab7d0(0x799)],_0x20c64b['value']=_0x5654b2[_0x2ab7d0(0x592)]||'';}else _0x213e6c['textContent']=_0x2ab7d0(0x297),_0x396483['value']='',_0x2d0250['value']='',_0x20c64b[_0x2ab7d0(0x998)]='';_0x1eec57[_0x2ab7d0(0x565)]['remove'](_0x2ab7d0(0x76a));}async function saveParallelTestShortcutChanges(){const _0x308e1c=_0x354eeb,_0x5a869e=document[_0x308e1c(0x64e)]('parallel-shortcut-id-input')[_0x308e1c(0x998)],_0x4fb6cf=document[_0x308e1c(0x64e)]('parallel-shortcut-name-input')['value']['trim'](),_0x5bfbf8=document[_0x308e1c(0x64e)](_0x308e1c(0x851))[_0x308e1c(0x998)]['trim']();if(!_0x4fb6cf){showMessage(_0x308e1c(0x6ef));return;}const _0x4454a9={'id':_0x5a869e||_0x308e1c(0xaa7)+Date[_0x308e1c(0x274)](),'name':_0x4fb6cf,'url':_0x5bfbf8,'isDefault':_0x5a869e[_0x308e1c(0x99a)](_0x308e1c(0x36e))};let _0x3dd239;_0x5a869e?_0x3dd239=parallelTestShortcuts[_0x308e1c(0x1fa)](_0xbb2a85=>_0xbb2a85['id']===_0x5a869e?_0x4454a9:_0xbb2a85):_0x3dd239=[...parallelTestShortcuts,_0x4454a9];try{const _0x343b72=doc(db,_0x308e1c(0x5f3),_0x308e1c(0x374));await setDoc(_0x343b72,{'shortcuts':_0x3dd239},{'merge':!![]}),document['getElementById'](_0x308e1c(0xdbf))[_0x308e1c(0x565)][_0x308e1c(0x21a)](_0x308e1c(0x76a));}catch(_0x202009){console['error'](_0x308e1c(0x44e),_0x202009),showMessage(_0x308e1c(0xc64));}}async function handleParallelTestShortcutClick(_0x28c366){const _0xe6c501=_0x354eeb,_0x3bea42=parallelTestShortcuts[_0xe6c501(0x52f)](_0x15c80b=>_0x15c80b['id']===_0x28c366);if(!_0x3bea42)return;if(!_0x3bea42['url']||_0x3bea42[_0xe6c501(0x592)][_0xe6c501(0xdd7)]()===''){openParallelTestShortcutEditor(_0x28c366);return;}const _0x5d0f5a=document['getElementById'](_0xe6c501(0x7b6)),_0x3e0e8c=document[_0xe6c501(0x64e)](_0xe6c501(0x5cb));document[_0xe6c501(0x64e)](_0xe6c501(0x855))['classList'][_0xe6c501(0xc9d)](_0xe6c501(0x76a)),document[_0xe6c501(0x64e)](_0xe6c501(0xd31))['innerHTML']='',_0x5d0f5a['classList'][_0xe6c501(0xc9d)](_0xe6c501(0x76a)),_0x3e0e8c[_0xe6c501(0xd72)]=_0xe6c501(0x49e);try{let _0x1645d4;_0x3bea42[_0xe6c501(0x592)][_0xe6c501(0x468)]()[_0xe6c501(0xcc5)]('.txt')?_0x1645d4=_0xe6c501(0x701):_0x1645d4='source_document.pdf';const _0x1e4cdd=await fetchFileFromUrl(_0x3bea42['url'],_0x1645d4);await handleGenerateParallelTest(_0x1e4cdd);}catch(_0x54d5da){console[_0xe6c501(0x894)](_0xe6c501(0x90c),_0x54d5da),showMessage('เกิดข้อผิดพลาด:\x20'+_0x54d5da[_0xe6c501(0x5b6)]),_0x5d0f5a[_0xe6c501(0x565)][_0xe6c501(0x21a)](_0xe6c501(0x76a));}}function initializeScratchpadCanvas(){const _0x425084=_0x354eeb,_0x516834=document[_0x425084(0x64e)]('scratchpad-canvas'),_0xb5accb=document[_0x425084(0x8b9)](_0x425084(0xb48));if(!_0x516834||!_0xb5accb)return;scratchpadCtx=_0x516834[_0x425084(0xc62)]('2d',{'willReadFrequently':!![]});const _0x259732=window[_0x425084(0x2ec)]||0x1,_0x486809=_0xb5accb['getBoundingClientRect']();_0x516834[_0x425084(0x2b2)]=_0x486809[_0x425084(0x2b2)]*_0x259732,_0x516834[_0x425084(0x9f0)]=_0x486809['height']*_0x259732,_0x516834['style'][_0x425084(0x2b2)]=_0x486809['width']+'px',_0x516834[_0x425084(0x1ff)][_0x425084(0x9f0)]=_0x486809['height']+'px',scratchpadCtx[_0x425084(0xdc6)](_0x259732,_0x259732),scratchpadCtx['lineJoin']=_0x425084(0x2a6),scratchpadCtx['lineCap']=_0x425084(0x2a6),_0x516834['removeEventListener'](_0x425084(0x229),handlePointerDown),_0x516834[_0x425084(0xac0)](_0x425084(0xa5a),handlePointerMove),_0x516834[_0x425084(0xac0)](_0x425084(0xb61),handlePointerUp),_0x516834[_0x425084(0xac0)]('pointercancel',handlePointerUp),_0x516834[_0x425084(0xac0)](_0x425084(0x946),handleWheel),_0x516834[_0x425084(0xac0)]('touchstart',handlePointerDown),_0x516834[_0x425084(0xac0)](_0x425084(0xd71),handlePointerMove),_0x516834[_0x425084(0xac0)]('touchend',handlePointerUp),_0x516834[_0x425084(0xa02)](_0x425084(0x229),handlePointerDown),_0x516834[_0x425084(0xa02)](_0x425084(0xa5a),handlePointerMove),_0x516834['addEventListener'](_0x425084(0xb61),handlePointerUp),_0x516834['addEventListener'](_0x425084(0xbd2),handlePointerUp),_0x516834[_0x425084(0xa02)]('wheel',handleWheel,{'passive':![]}),_0x516834[_0x425084(0xa02)]('touchstart',handlePointerDown,{'passive':![]}),_0x516834[_0x425084(0xa02)](_0x425084(0xd71),handlePointerMove,{'passive':![]}),_0x516834['addEventListener'](_0x425084(0x608),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x235bb2=_0x354eeb,_0x46d6ca=document[_0x235bb2(0x64e)](_0x235bb2(0x88b)),_0x3be232=document['getElementById'](_0x235bb2(0x5c8));_0x3be232[_0x235bb2(0xc5e)]=_0x235bb2(0x521)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2230f0=document[_0x235bb2(0x64e)](_0x235bb2(0x858)),_0x41a40b=document['getElementById'](_0x235bb2(0x986)),_0x390f73=document[_0x235bb2(0x64e)](_0x235bb2(0x9b3)),_0x55ee0d=document[_0x235bb2(0x64e)](_0x235bb2(0x621)),_0x153f86=document[_0x235bb2(0x64e)](_0x235bb2(0x767)),_0x329196=document[_0x235bb2(0x64e)](_0x235bb2(0xd02)),_0x5d47af=document['getElementById'](_0x235bb2(0x22b)),_0x53569f=[_0x2230f0,_0x41a40b,_0x390f73,_0x55ee0d];document['getElementById'](_0x235bb2(0x732))['addEventListener']('click',()=>_0x46d6ca[_0x235bb2(0x565)][_0x235bb2(0x21a)](_0x235bb2(0x76a))),document['getElementById'](_0x235bb2(0xd95))[_0x235bb2(0xa02)](_0x235bb2(0x4f9),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x235bb2(0x64e)](_0x235bb2(0xdaa))[_0x235bb2(0xa02)](_0x235bb2(0x4f9),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x235bb2(0x64e)](_0x235bb2(0xd6f))[_0x235bb2(0xa02)](_0x235bb2(0x4f9),undo),document[_0x235bb2(0x64e)](_0x235bb2(0x73f))['addEventListener']('click',redo);const _0x1d47d3=_0x64c1c=>{const _0x206779=_0x235bb2;_0x53569f['forEach'](_0x6242c5=>_0x6242c5[_0x206779(0x565)][_0x206779(0xc9d)]('active')),_0x64c1c[_0x206779(0x565)]['add']('active'),_0x153f86['classList'][_0x206779(0x21a)]('hidden'),_0x329196['classList']['add']('hidden'),_0x5d47af[_0x206779(0x565)][_0x206779(0x21a)](_0x206779(0x76a));if(activeTool===_0x206779(0x686)||activeTool==='trail')_0x153f86['classList']['remove'](_0x206779(0x76a));else{if(activeTool===_0x206779(0x6ff))_0x329196[_0x206779(0x565)][_0x206779(0xc9d)](_0x206779(0x76a));else activeTool==='eraser'&&_0x5d47af[_0x206779(0x565)][_0x206779(0xc9d)](_0x206779(0x76a));}};_0x2230f0[_0x235bb2(0xa02)](_0x235bb2(0x4f9),()=>{activeTool='pen',_0x1d47d3(_0x2230f0);}),_0x41a40b[_0x235bb2(0xa02)]('click',()=>{const _0x40d506=_0x235bb2;activeTool=_0x40d506(0xa99),_0x1d47d3(_0x41a40b);}),_0x390f73['addEventListener'](_0x235bb2(0x4f9),()=>{const _0x544c70=_0x235bb2;activeTool=_0x544c70(0x389),_0x1d47d3(_0x390f73);}),_0x55ee0d[_0x235bb2(0xa02)](_0x235bb2(0x4f9),()=>{const _0x24c87a=_0x235bb2;activeTool=_0x24c87a(0x6ff),_0x1d47d3(_0x55ee0d);}),_0x153f86[_0x235bb2(0x72d)](_0x235bb2(0xacf))[_0x235bb2(0x37d)](_0x4f81b6=>{const _0x1c36da=_0x235bb2;_0x4f81b6[_0x1c36da(0xa02)](_0x1c36da(0x4f9),_0x53113c=>{const _0x3e7331=_0x1c36da;scratchpadPenSize=parseInt(_0x53113c['target']['dataset'][_0x3e7331(0x20f)],0xa),_0x153f86[_0x3e7331(0x72d)]('.pen-size-btn')[_0x3e7331(0x37d)](_0x230346=>_0x230346['classList'][_0x3e7331(0xc9d)]('active')),_0x53113c[_0x3e7331(0xa8f)][_0x3e7331(0x565)][_0x3e7331(0x21a)](_0x3e7331(0x385));});}),_0x5d47af['querySelectorAll'](_0x235bb2(0x71a))['forEach'](_0x2f00a5=>{const _0x357289=_0x235bb2;_0x2f00a5[_0x357289(0xa02)](_0x357289(0x4f9),_0xf30999=>{const _0x58a6d7=_0x357289,_0x286ab8=_0xf30999[_0x58a6d7(0x64f)];scratchpadEraserSize=parseInt(_0x286ab8[_0x58a6d7(0x524)][_0x58a6d7(0x20f)],0xa),_0x5d47af[_0x58a6d7(0x72d)](_0x58a6d7(0x71a))[_0x58a6d7(0x37d)](_0x1969c9=>_0x1969c9[_0x58a6d7(0x565)]['remove']('active')),_0x286ab8[_0x58a6d7(0x565)][_0x58a6d7(0x21a)]('active');});}),_0x153f86[_0x235bb2(0x72d)](_0x235bb2(0x2e7))[_0x235bb2(0x37d)](_0x92dd48=>{const _0x3a27e9=_0x235bb2;_0x92dd48[_0x3a27e9(0xa02)](_0x3a27e9(0x4f9),_0x515424=>{const _0x531bf6=_0x3a27e9;scratchpadPenColor=_0x515424[_0x531bf6(0xa8f)][_0x531bf6(0x524)][_0x531bf6(0x272)],_0x153f86[_0x531bf6(0x72d)](_0x531bf6(0x2e7))[_0x531bf6(0x37d)](_0x1b24c9=>_0x1b24c9[_0x531bf6(0x565)]['remove']('active')),_0x515424['target']['classList'][_0x531bf6(0x21a)](_0x531bf6(0x385));});}),_0x329196[_0x235bb2(0x72d)](_0x235bb2(0x3bb))['forEach'](_0xc8091b=>{const _0x1cdf91=_0x235bb2;_0xc8091b['addEventListener'](_0x1cdf91(0x4f9),_0x2153d5=>{const _0x24f282=_0x1cdf91;scratchpadHighlighterColor=_0x2153d5['target']['dataset'][_0x24f282(0x272)],_0x329196['querySelectorAll'](_0x24f282(0x3bb))[_0x24f282(0x37d)](_0xe5d116=>_0xe5d116['classList'][_0x24f282(0xc9d)](_0x24f282(0x385))),_0x2153d5['target']['classList'][_0x24f282(0x21a)]('active');});});const _0x1c180e=document['getElementById'](_0x235bb2(0xc45)),_0x20a4d8=document[_0x235bb2(0x64e)](_0x235bb2(0x4b2));_0x1c180e['addEventListener'](_0x235bb2(0xc69),_0x51db39=>{const _0x4aa767=_0x235bb2,_0x23991c=parseInt(_0x51db39['target']['value'],0xa);scratchpadHighlighterSize=_0x23991c,_0x20a4d8[_0x4aa767(0xd72)]=_0x23991c;}),window['addEventListener'](_0x235bb2(0x84e),()=>{const _0x201144=_0x235bb2;!_0x46d6ca[_0x201144(0x565)][_0x201144(0xa60)](_0x201144(0x76a))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x354eeb(0x88e),'name':'คะแนนเต็ม','description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x354eeb(0x879)},'QUICK_THINKER':{'id':_0x354eeb(0x831),'name':_0x354eeb(0x4ac),'description':_0x354eeb(0xb7f),'icon':_0x354eeb(0xb5c)},'ON_FIRE':{'id':'on_fire','name':'ท็อปฟอร์ม','description':_0x354eeb(0x4e1),'icon':_0x354eeb(0x287)},'FIRST_TRY_ACE':{'id':_0x354eeb(0x7d5),'name':_0x354eeb(0x375),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x354eeb(0x75c)},'COMEBACK_KING':{'id':_0x354eeb(0x845),'name':_0x354eeb(0x5aa),'description':_0x354eeb(0xa61),'icon':_0x354eeb(0xbf6)},'SPECIALIST':{'id':'specialist','name':_0x354eeb(0xbe1),'description':_0x354eeb(0xb7c),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x354eeb(0x8e7),'name':_0x354eeb(0x652),'description':_0x354eeb(0xc1a),'icon':_0x354eeb(0x9ef)}},firebaseConfig={'apiKey':_0x354eeb(0x913),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x354eeb(0xabb),'storageBucket':_0x354eeb(0x264),'messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x354eeb(0x3c5)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x354eeb(0x64e)](_0x354eeb(0xc96)),studentView=document[_0x354eeb(0x64e)]('student-view'),projectDashboardView=document[_0x354eeb(0x64e)]('project-dashboard-view'),projectDetailView=document['getElementById'](_0x354eeb(0x6f3)),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document[_0x354eeb(0x64e)](_0x354eeb(0x50b)),noProjectsMsg=document[_0x354eeb(0x64e)](_0x354eeb(0xd6c)),projectTitle=document[_0x354eeb(0x64e)](_0x354eeb(0x681)),projectIdDisplay=document[_0x354eeb(0x64e)]('project-id-display'),studentList=document[_0x354eeb(0x64e)]('student-list'),messageModal=document[_0x354eeb(0x64e)](_0x354eeb(0x90e)),modalMessage=document[_0x354eeb(0x64e)](_0x354eeb(0x3d5)),createProjectModal=document[_0x354eeb(0x64e)](_0x354eeb(0x2fd)),adminPasswordModal=document['getElementById'](_0x354eeb(0x977)),confirmationModal=document[_0x354eeb(0x64e)](_0x354eeb(0x4d5)),userIdDisplay=document[_0x354eeb(0x64e)](_0x354eeb(0x65a)),topicTab=document[_0x354eeb(0x64e)](_0x354eeb(0x737)),textTab=document[_0x354eeb(0x64e)]('text-tab'),topicInputArea=document[_0x354eeb(0x64e)]('topic-input-area'),textInputArea=document[_0x354eeb(0x64e)](_0x354eeb(0x7d3)),manageTab=document[_0x354eeb(0x64e)](_0x354eeb(0x5ea)),resultsTab=document[_0x354eeb(0x64e)](_0x354eeb(0x48a)),leaderboardTab=document[_0x354eeb(0x64e)](_0x354eeb(0x97f)),manageTabContent=document[_0x354eeb(0x64e)](_0x354eeb(0x5d5)),resultsTabContent=document[_0x354eeb(0x64e)]('results-tab-content'),leaderboardTabContent=document[_0x354eeb(0x64e)](_0x354eeb(0x9bc)),projectQuizzesList=document[_0x354eeb(0x64e)](_0x354eeb(0xb8f)),fileTab=document[_0x354eeb(0x64e)](_0x354eeb(0x58e)),fileInputArea=document[_0x354eeb(0x64e)](_0x354eeb(0x888)),fileUploadInput=document[_0x354eeb(0x64e)](_0x354eeb(0x35f)),worksheetTab=document['getElementById']('worksheet-tab'),worksheetInputArea=document[_0x354eeb(0x64e)]('worksheet-input-area'),generateWorksheetBtn=document[_0x354eeb(0x64e)](_0x354eeb(0x2b4)),studentInitialView=document[_0x354eeb(0x64e)](_0x354eeb(0x8c3)),studentNameSelectionView=document['getElementById'](_0x354eeb(0x4e8)),studentQuizArea=document[_0x354eeb(0x64e)](_0x354eeb(0x9f5)),studentResultArea=document[_0x354eeb(0x64e)]('student-result-area'),studentReadingArea=document[_0x354eeb(0x64e)](_0x354eeb(0x33a)),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document['getElementById'](_0x354eeb(0xbeb)),studentJoinGameView=document[_0x354eeb(0x64e)](_0x354eeb(0xbe2)),presentationModal=document[_0x354eeb(0x64e)](_0x354eeb(0x9e8)),renameQuizModal=document[_0x354eeb(0x64e)](_0x354eeb(0x2d5)),moveQuizModal=document[_0x354eeb(0x64e)](_0x354eeb(0xdd0)),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document[_0x354eeb(0x64e)](_0x354eeb(0x9f6)),liveGameView=document['getElementById'](_0x354eeb(0x6a0));function handleFixLessonLatex(){const _0x2cb2da=_0x354eeb,_0x2c44bb=document[_0x2cb2da(0x64e)](_0x2cb2da(0xcee));if(!_0x2c44bb){showMessage(_0x2cb2da(0x624));return;}const _0x280ab4=_0x2c44bb[_0x2cb2da(0x72d)]([_0x2cb2da(0x9cb),_0x2cb2da(0x513),'.ai-content\x20blockquote',_0x2cb2da(0xbd1),_0x2cb2da(0x327)][_0x2cb2da(0x5fa)](','));let _0x2075c4=0x0;const _0x311550=_0x2f5b16=>_0x2f5b16[_0x2cb2da(0xd72)]||'',_0x3c35db=(_0x2ce223,_0x11c112)=>{const _0xe26cd6=_0x2cb2da;if(_0x2ce223[_0xe26cd6(0x8b9)]&&_0x2ce223[_0xe26cd6(0x8b9)]('mjx-container'))return;_0x2ce223[_0xe26cd6(0xd72)]=_0x11c112;},_0x1e06b4=_0x12e49f=>_0x12e49f[_0x2cb2da(0x683)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x2cb2da(0x683)](/\r\n?/g,'\x0a'),_0x49bfa2=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2527bb=_0x2e6cc5=>{const _0x406a04=_0x2cb2da;let _0x653577=_0x2e6cc5[_0x406a04(0xdd7)]();const _0x8fd002=[_0x406a04(0x2a0),_0x406a04(0xdcd),_0x406a04(0x8f9),_0x406a04(0x6a8),_0x406a04(0x4c3),'times',_0x406a04(0x4ba),_0x406a04(0xae0),_0x406a04(0xd0f),_0x406a04(0xa46),'le','ge',_0x406a04(0xae7),'pm',_0x406a04(0x606),_0x406a04(0xa7e),'cos','tan',_0x406a04(0x4b0),'ln','sum',_0x406a04(0x1eb),'binom',_0x406a04(0xc46),_0x406a04(0xa37),_0x406a04(0x827),_0x406a04(0x424),_0x406a04(0x3c0),_0x406a04(0x66c)];_0x8fd002['forEach'](_0x596851=>{const _0x588d6f=_0x406a04;_0x653577=_0x653577[_0x588d6f(0x683)](new RegExp(_0x588d6f(0x451)+_0x596851+'\x5cb','g'),(_0x387758,_0x1aaaf0)=>_0x1aaaf0+'\x5c'+_0x596851);});const _0x5393de=[[/×/g,'\x5ctimes'],[/·/g,_0x406a04(0x7c7)],[/÷/g,_0x406a04(0x850)],[/≤/g,_0x406a04(0xa67)],[/≥/g,_0x406a04(0x743)],[/≠/g,_0x406a04(0xd1b)],[/±/g,_0x406a04(0x504)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x5393de[_0x406a04(0x37d)](([_0x3b7328,_0x2c731d])=>{const _0x528eb2=_0x406a04;_0x653577=_0x653577[_0x528eb2(0x683)](_0x3b7328,_0x2c731d);}),_0x653577=_0x653577[_0x406a04(0x683)](/√\s*([A-Za-z0-9]+)/g,_0x406a04(0xa50)),_0x653577=_0x653577[_0x406a04(0x683)](/(\d+)\s*%/g,_0x406a04(0x74e)),_0x653577;},_0x539487=_0x23a645=>{const _0x36b136=_0x2cb2da;if(/\$|\\\(|\\\[/[_0x36b136(0xb84)](_0x23a645))return _0x23a645;if(!_0x49bfa2[_0x36b136(0xb84)](_0x23a645))return _0x23a645;const _0x43147a=_0x23a645['match'](/^\s*/)[0x0],_0x418446=_0x23a645['match'](/\s*$/)[0x0],_0x5e2eb6=_0x23a645[_0x36b136(0xdd7)]();return _0x43147a+'$'+_0x2527bb(_0x5e2eb6)+'$'+_0x418446;};_0x280ab4[_0x2cb2da(0x37d)](_0x3345db=>{const _0x40df2c=_0x2cb2da,_0x2cb968=_0x311550(_0x3345db);let _0x53b02a=_0x1e06b4(_0x2cb968);_0x53b02a=_0x53b02a[_0x40df2c(0x683)](/\$([^$]*?)\$/g,(_0x56c789,_0x598422)=>'$'+_0x2527bb(_0x598422)+'$');const _0x2ecbe7=_0x53b02a['split'](/(\s+)/),_0x162cd8=_0x2ecbe7[_0x40df2c(0x1fa)](_0x5d6086=>{const _0x4d412a=_0x40df2c;if(/\s+/[_0x4d412a(0xb84)](_0x5d6086))return _0x5d6086;return _0x539487(_0x5d6086);});_0x53b02a=_0x162cd8[_0x40df2c(0x5fa)](''),_0x53b02a!==_0x2cb968&&(_0x3c35db(_0x3345db,_0x53b02a),_0x2075c4++);});if(_0x2075c4>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x2075c4+_0x2cb2da(0xb5d));try{window[_0x2cb2da(0x8cc)]&&MathJax[_0x2cb2da(0xacc)]&&MathJax[_0x2cb2da(0xacc)]([_0x2c44bb]);}catch(_0x22b6a3){console[_0x2cb2da(0x894)](_0x2cb2da(0x840),_0x22b6a3);}}else showMessage(_0x2cb2da(0x360));}function handleAutoFixLatex(){const _0x74daf0=_0x354eeb,_0x1c3ace=document[_0x74daf0(0x64e)](_0x74daf0(0xb5b))||document,_0x343d71=_0x1c3ace['querySelectorAll'](_0x74daf0(0x9b6));let _0x3f3832=0x0;const _0x304c9a=_0x2efbd0=>_0x74daf0(0x998)in _0x2efbd0?String(_0x2efbd0['value']):_0x2efbd0['innerText']!==undefined?_0x2efbd0['innerText']:_0x2efbd0[_0x74daf0(0xd72)]||'',_0x16499b=(_0x4656e0,_0x184a53)=>{const _0x106dbe=_0x74daf0;if(_0x106dbe(0x998)in _0x4656e0){_0x4656e0[_0x106dbe(0x998)]=_0x184a53;return;}if(_0x4656e0[_0x106dbe(0x8b9)]&&_0x4656e0[_0x106dbe(0x8b9)](_0x106dbe(0xcb6)))return;if(_0x4656e0[_0x106dbe(0x6c0)]!==undefined)_0x4656e0['innerText']=_0x184a53;else _0x4656e0[_0x106dbe(0xd72)]=_0x184a53;},_0x4e445e=_0x5dfcdf=>_0x5dfcdf['replace'](/\u00A0/g,'\x20')[_0x74daf0(0x683)](/\u200B/g,'')[_0x74daf0(0x683)](/\r\n?/g,'\x0a'),_0x36a06e=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x236319=_0x31004e=>{const _0x37c822=_0x74daf0;let _0x5333cd=_0x31004e[_0x37c822(0xdd7)]();_0x5333cd=_0x5333cd['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x37c822(0x3eb)),_0x5333cd=_0x5333cd['replace'](/\bfrac(\d)(\d)/g,_0x37c822(0x3eb));const _0x8d7c27=[_0x37c822(0x2a0),_0x37c822(0x6a8),_0x37c822(0x822),_0x37c822(0x4ba),_0x37c822(0xae0),_0x37c822(0xd0f),_0x37c822(0xa46),_0x37c822(0xae7),'pm',_0x37c822(0xa7e),'cos',_0x37c822(0x437),'log','ln'];_0x8d7c27[_0x37c822(0x37d)](_0x6cdeec=>{const _0x297e6f=_0x37c822;_0x5333cd=_0x5333cd[_0x297e6f(0x683)](new RegExp(_0x297e6f(0x451)+_0x6cdeec+'\x5cb','g'),(_0x13f2ca,_0x30faf7)=>_0x30faf7+'\x5c'+_0x6cdeec);});const _0x467ec4=[[/×/g,_0x37c822(0xd7d)],[/·/g,_0x37c822(0x7c7)],[/÷/g,_0x37c822(0x850)],[/≤/g,_0x37c822(0xa67)],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x467ec4['forEach'](([_0x6266f7,_0x32c0b8])=>{const _0x4045fa=_0x37c822;_0x5333cd=_0x5333cd[_0x4045fa(0x683)](_0x6266f7,_0x32c0b8);}),_0x5333cd;},_0x572a0e=_0x2b9d28=>{const _0x5bac5a=_0x74daf0;if(/\$|\\\(|\\\[/['test'](_0x2b9d28))return _0x2b9d28;if(!_0x36a06e[_0x5bac5a(0xb84)](_0x2b9d28))return _0x2b9d28;const _0x59cde8=_0x2b9d28[_0x5bac5a(0xb50)](/^\s*/)[0x0],_0x354667=_0x2b9d28[_0x5bac5a(0xb50)](/\s*$/)[0x0],_0x5614cc=_0x2b9d28[_0x5bac5a(0xdd7)]();return _0x59cde8+'$'+_0x236319(_0x5614cc)+'$'+_0x354667;};_0x343d71[_0x74daf0(0x37d)](_0xf53cdd=>{const _0x5a979f=_0x74daf0,_0x29bdf9=_0x304c9a(_0xf53cdd);let _0x1106a3=_0x4e445e(_0x29bdf9);_0x1106a3=_0x1106a3['replace'](/\$([^$]*?)\$/g,(_0x3e47c1,_0x237849)=>'$'+_0x236319(_0x237849)+'$');const _0x3a55ec=_0x1106a3[_0x5a979f(0x816)](/(\s+)/),_0x3d0f5d=_0x3a55ec[_0x5a979f(0x1fa)](_0xe1cd5c=>/\s+/[_0x5a979f(0xb84)](_0xe1cd5c)?_0xe1cd5c:_0x572a0e(_0xe1cd5c));_0x1106a3=_0x3d0f5d[_0x5a979f(0x5fa)](''),_0x1106a3!==_0x29bdf9&&(_0x16499b(_0xf53cdd,_0x1106a3),_0x3f3832++);});if(_0x3f3832>0x0){showMessage(_0x74daf0(0x617)+_0x3f3832+_0x74daf0(0x4bb));try{if(window[_0x74daf0(0x8cc)]&&MathJax[_0x74daf0(0xacc)])MathJax['typesetPromise']();}catch(_0x3b1811){}}else showMessage(_0x74daf0(0x326));}async function listenForCustomMathTopics(){const _0x368630=_0x354eeb,_0x2ac992=collection(db,_0x368630(0x53f)+appId+'/public/data/customMathTopics');onSnapshot(_0x2ac992,_0x11428e=>{const _0x664cb2=_0x368630;customMathTopics=_0x11428e['docs'][_0x664cb2(0x1fa)](_0xdd4990=>({'id':_0xdd4990['id'],..._0xdd4990['data']()})),renderTopicCheckboxes();},_0x41cd48=>{const _0x2de598=_0x368630;console['error'](_0x2de598(0xa87),_0x41cd48);});}function handleSelectAllTopics(){const _0x511d23=_0x354eeb,_0x21c914=document[_0x511d23(0x64e)](_0x511d23(0xc14)),_0x562d0b=_0x21c914[_0x511d23(0x72d)](_0x511d23(0x842));_0x562d0b['forEach'](_0x6fcbc=>{const _0x48db5e=_0x511d23;_0x6fcbc[_0x48db5e(0x5f7)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x345e84=_0x354eeb,_0x3b1ab8=document[_0x345e84(0x64e)](_0x345e84(0xc14)),_0xee82fe=_0x3b1ab8[_0x345e84(0x72d)](_0x345e84(0x842));_0xee82fe['forEach'](_0x583d17=>{_0x583d17['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4138b4){const _0x408a18=_0x354eeb;if(!_0x4138b4)return;try{const _0x4bafb7=doc(db,_0x408a18(0x53f)+appId+_0x408a18(0xc81),_0x4138b4);await deleteDoc(_0x4bafb7),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4779d0){console[_0x408a18(0x894)](_0x408a18(0xd76),_0x4779d0),showMessage(_0x408a18(0xd40));}}async function handleAddCustomMathTopic(){const _0x3e6076=_0x354eeb,_0x45a1d1=document[_0x3e6076(0x64e)](_0x3e6076(0x219)),_0x15b102=_0x45a1d1['value'][_0x3e6076(0xdd7)]();if(!_0x15b102){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x3e6076(0x5f6));return;}try{const _0x2e950e=collection(db,_0x3e6076(0x53f)+appId+_0x3e6076(0xc81));await addDoc(_0x2e950e,{'name':_0x15b102,'createdAt':serverTimestamp()}),_0x45a1d1[_0x3e6076(0x998)]='',showMessage(_0x3e6076(0xcc3)+_0x15b102+_0x3e6076(0x9c4));}catch(_0x394162){console[_0x3e6076(0x894)](_0x3e6076(0x9e6),_0x394162),showMessage(_0x3e6076(0x899));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x18cfc8=_0x421e,_0x574d84=document['getElementById']('loader'),_0x5d6063=document['getElementById'](_0x18cfc8(0x5cb)),_0x457e3b=_0x5d6063['textContent'];_0x574d84[_0x18cfc8(0x565)]['remove'](_0x18cfc8(0x76a)),_0x5d6063[_0x18cfc8(0xd72)]=_0x18cfc8(0x704);try{const _0x34abe3=collection(db,_0x18cfc8(0x53f)+appId+_0x18cfc8(0x450)),_0x6ad537=await getDocs(_0x34abe3);if(_0x6ad537[_0x18cfc8(0x3d9)]){showMessage(_0x18cfc8(0xbb8));return;}const _0x2655ea=writeBatch(db);let _0x5342d8=0x0;_0x6ad537[_0x18cfc8(0x37d)](_0x111114=>{const _0x330d9a=_0x18cfc8,_0x51af87=_0x111114['data'](),_0x529150=_0x111114['id'];if(_0x51af87['questions']&&_0x51af87[_0x330d9a(0xc42)][_0x330d9a(0x2ee)]>0x0&&!_0x51af87[_0x330d9a(0xc42)][0x0][_0x330d9a(0x47f)]('id')){console[_0x330d9a(0x4b0)](_0x330d9a(0x1fc)+_0x529150+'\x20('+_0x51af87['topic']+')'),_0x5342d8++;const _0x383805=_0x51af87[_0x330d9a(0xc42)][_0x330d9a(0x1fa)]((_0x567adc,_0x137808)=>{return{..._0x567adc,'id':_0x567adc['id']||'q_'+Date['now']()+'_'+_0x529150+'_'+_0x137808};}),_0x21d87f=doc(db,_0x330d9a(0x53f)+appId+_0x330d9a(0x450),_0x529150);_0x2655ea[_0x330d9a(0xb14)](_0x21d87f,{'questions':_0x383805});}}),_0x5342d8>0x0?(_0x5d6063['textContent']=_0x18cfc8(0xca9)+_0x5342d8+_0x18cfc8(0x4e6),await _0x2655ea['commit'](),showMessage(_0x18cfc8(0x4af)+_0x5342d8+'\x20รายการสำเร็จ!')):showMessage(_0x18cfc8(0xb40));}catch(_0x1a1b6a){console[_0x18cfc8(0x894)]('Error\x20updating\x20old\x20quizzes:',_0x1a1b6a),showMessage(_0x18cfc8(0xdb5)+_0x1a1b6a[_0x18cfc8(0x5b6)]);}finally{_0x574d84[_0x18cfc8(0x565)][_0x18cfc8(0x21a)]('hidden'),_0x5d6063['textContent']=_0x457e3b;}});}async function handleBulkUpdateQuizSettings(){const _0x2cbf97=_0x354eeb,_0x1b3411={'shuffle':document[_0x2cbf97(0x64e)]('bulk-shuffle-select')[_0x2cbf97(0x998)],'resultsDisplay':document[_0x2cbf97(0x64e)]('bulk-results-display-select')[_0x2cbf97(0x998)],'loopUntilPass':document[_0x2cbf97(0x64e)](_0x2cbf97(0x54a))[_0x2cbf97(0x5f7)],'isConfidenceScoringEnabled':document[_0x2cbf97(0x64e)](_0x2cbf97(0xc86))[_0x2cbf97(0x5f7)],'confidenceMode':document[_0x2cbf97(0x64e)](_0x2cbf97(0xc63))[_0x2cbf97(0x998)]};try{showMessage(_0x2cbf97(0xbc8));const _0x5a8307=await getDocs(collection(db,'artifacts/'+appId+_0x2cbf97(0x450))),_0x43ece4=_0x5a8307[_0x2cbf97(0x2e6)]['map'](_0x275286=>({'id':_0x275286['id'],'data':_0x275286[_0x2cbf97(0xbb9)]()})),_0x25f5a3=_0x43ece4['length'];showConfirmation(_0x2cbf97(0x9ba)+_0x25f5a3+_0x2cbf97(0x950),async()=>{const _0xae0ebf=_0x2cbf97,_0x3a11b1=document[_0xae0ebf(0x64e)](_0xae0ebf(0xc8f));_0x3a11b1[_0xae0ebf(0x87b)]=!![],_0x3a11b1['innerHTML']=_0xae0ebf(0x976);try{const _0x42092a=writeBatch(db);_0x43ece4[_0xae0ebf(0x37d)](_0x2593a8=>{const _0x1bf242=_0xae0ebf,_0x2ef8e3=doc(db,_0x1bf242(0x53f)+appId+'/public/data/quizzes',_0x2593a8['id']),_0x19f306={..._0x2593a8[_0x1bf242(0xbb9)][_0x1bf242(0x992)]||{},..._0x1b3411};_0x42092a[_0x1bf242(0xb14)](_0x2ef8e3,{'settings':_0x19f306});}),await _0x42092a[_0xae0ebf(0xaa0)](),document[_0xae0ebf(0x64e)](_0xae0ebf(0x68b))['classList']['add'](_0xae0ebf(0x76a)),showMessage(_0xae0ebf(0x512)+_0x25f5a3+'\x20ชุดสำเร็จ!');}catch(_0x48152e){console[_0xae0ebf(0x894)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x48152e),showMessage(_0xae0ebf(0x8d6));}finally{_0x3a11b1[_0xae0ebf(0x87b)]=![],_0x3a11b1[_0xae0ebf(0xc5e)]=_0xae0ebf(0xaa9);}});}catch(_0x343ee2){console[_0x2cbf97(0x894)](_0x2cbf97(0xafc),_0x343ee2),showMessage(_0x2cbf97(0x577));}}async function handleSaveProjectName(){const _0x21c6b4=_0x354eeb,_0xe79a2=document[_0x21c6b4(0x64e)](_0x21c6b4(0x681)),_0xb82d16=document[_0x21c6b4(0x64e)](_0x21c6b4(0x90d)),_0x576513=_0xe79a2[_0x21c6b4(0xd72)][_0x21c6b4(0xdd7)]();if(!_0x576513||!currentProjectId){showMessage(_0x21c6b4(0x6b6)),_0xe79a2[_0x21c6b4(0xd72)]=currentProjectData[_0x21c6b4(0x7dc)];return;}_0xb82d16[_0x21c6b4(0x87b)]=!![],_0xb82d16[_0x21c6b4(0xc5e)]=_0x21c6b4(0xb4b);try{const _0x39f001=doc(db,_0x21c6b4(0x53f)+appId+_0x21c6b4(0x32d),currentProjectId);await updateDoc(_0x39f001,{'projectName':_0x576513}),currentProjectData&&(currentProjectData[_0x21c6b4(0x7dc)]=_0x576513),showMessage(_0x21c6b4(0xbdb));}catch(_0x1b61eb){console['error'](_0x21c6b4(0x82b),_0x1b61eb),showMessage(_0x21c6b4(0xc64)),_0xe79a2[_0x21c6b4(0xd72)]=currentProjectData[_0x21c6b4(0x7dc)];}finally{_0xb82d16['classList'][_0x21c6b4(0x21a)](_0x21c6b4(0x76a)),_0xb82d16['disabled']=![],_0xb82d16[_0x21c6b4(0xc5e)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x1c905b,_0x5d31cf){const _0x59789c=_0x354eeb,_0x1f26ae=document[_0x59789c(0x64e)](_0x59789c(0x376)),_0x54b74a=document['getElementById'](_0x59789c(0xda9)),_0x390a11=document[_0x59789c(0x64e)](_0x59789c(0xdb4)),_0x5e0b50=document['getElementById'](_0x59789c(0x566));_0x54b74a[_0x59789c(0xd72)]=_0x59789c(0x3fd)+_0x1c905b,_0x5e0b50['classList'][_0x59789c(0x21a)]('hidden'),_0x390a11['classList'][_0x59789c(0xc9d)](_0x59789c(0x76a)),_0x1f26ae[_0x59789c(0x565)]['remove'](_0x59789c(0x76a)),generatePracticeTest(_0x1c905b,_0x5d31cf)[_0x59789c(0xa58)](_0x4044cb=>{const _0x1c196e=_0x59789c;console[_0x1c196e(0x894)](_0x1c196e(0xc66),_0x4044cb),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x1f26ae[_0x1c196e(0x565)][_0x1c196e(0x21a)](_0x1c196e(0x76a));});}async function generatePracticeTest(_0x7560cd,_0x326acb){const _0x4922ac=_0x354eeb;[_0x4922ac(0x40e),_0x4922ac(0x458),_0x4922ac(0xac5),_0x4922ac(0x425)][_0x4922ac(0x37d)](_0x253f21=>{const _0x1b5482=_0x4922ac,_0x3137e4=document[_0x1b5482(0x64e)](_0x253f21)[_0x1b5482(0x90a)];_0x3137e4&&(_0x3137e4[_0x1b5482(0x1ff)]['display']=_0x1b5482(0xd78));});try{const _0x2451a2=_0x4922ac(0x586),_0x76976e=_0x4922ac(0x9dc)+_0x326acb+'\x27\x20ในหัวข้อ\x20\x27'+_0x7560cd+_0x4922ac(0xac2),_0x26e210=await callGemini(_0x76976e,!![]),_0x176f65=document[_0x4922ac(0x64e)](_0x4922ac(0xda9)),_0x2580c1=document[_0x4922ac(0x64e)]('lesson-loader'),_0x2b0c0f=document[_0x4922ac(0x64e)](_0x4922ac(0x566)),_0x452cfb=document[_0x4922ac(0x64e)](_0x4922ac(0xac5))[_0x4922ac(0x90a)];_0x176f65[_0x4922ac(0x6c0)]=_0x4922ac(0x9ff)+_0x7560cd[_0x4922ac(0x683)](/•\s/g,'')+_0x4922ac(0x530)+_0x326acb+')',currentApplicationData=JSON[_0x4922ac(0x5ab)](_0x26e210);const _0x24e8dd=document['getElementById'](_0x4922ac(0xac5));_0x24e8dd[_0x4922ac(0xc5e)]=currentApplicationData[_0x4922ac(0x1fa)]((_0x412c4c,_0x98c20)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x98c20+0x1)+'.\x20'+marked[_0x4922ac(0x9fb)](_0x412c4c[_0x4922ac(0xdae)])+_0x4922ac(0xc17)+_0x98c20+_0x4922ac(0xac8)+_0x412c4c['options'][_0x4922ac(0x1fa)]((_0x3b813f,_0x40ac04)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x98c20+',\x20'+_0x40ac04+_0x4922ac(0x285)+String[_0x4922ac(0x3e6)](0x61+_0x40ac04)+'.\x20'+marked[_0x4922ac(0x9fb)](_0x3b813f)+_0x4922ac(0xcaa))[_0x4922ac(0x5fa)]('')+_0x4922ac(0xcd3))[_0x4922ac(0x5fa)](''),window[_0x4922ac(0x8cc)]&&MathJax['typesetPromise']([_0x24e8dd]),_0x452cfb&&(_0x452cfb[_0x4922ac(0x1ff)][_0x4922ac(0xa16)]=_0x4922ac(0xb72)),_0x2580c1['classList'][_0x4922ac(0x21a)](_0x4922ac(0x76a)),_0x2b0c0f[_0x4922ac(0x565)][_0x4922ac(0xc9d)](_0x4922ac(0x76a));}catch(_0x23c8b5){console['error'](_0x23c8b5);throw _0x23c8b5;}}async function callGemini(_0x14b0ca,_0x333efb=![]){const _0x2fe213=_0x354eeb,_0x4620e5=_0x2fe213(0x82e),_0x1618eb='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4620e5,_0x548e5e={'contents':[{'parts':[{'text':_0x14b0ca}]}]};_0x333efb&&(_0x548e5e[_0x2fe213(0xde9)]={'responseMimeType':_0x2fe213(0x27b)},_0x14b0ca[_0x2fe213(0xcc5)](_0x2fe213(0xce9))?_0x548e5e[_0x2fe213(0xde9)]['responseSchema']={'type':_0x2fe213(0x627),'properties':{'gradeLevel':{'type':_0x2fe213(0x921)},'curriculum':{'type':_0x2fe213(0x4aa),'items':{'type':_0x2fe213(0x627),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':_0x2fe213(0x921)},'subTopics':{'type':'ARRAY','items':{'type':_0x2fe213(0x921)}}},'required':[_0x2fe213(0x60b),_0x2fe213(0xd8d)]}}},'required':['sara',_0x2fe213(0xa29)]}}},'required':[_0x2fe213(0x3a2),_0x2fe213(0x70d)]}:_0x548e5e[_0x2fe213(0xde9)][_0x2fe213(0xd91)]={'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x2fe213(0x921)},'options':{'type':_0x2fe213(0x4aa),'items':{'type':_0x2fe213(0x921)}},'answer':{'type':_0x2fe213(0xc0c)}},'required':[_0x2fe213(0xdae),'options',_0x2fe213(0x6a5)]}});try{const _0x216f0b=await fetch(_0x1618eb,{'method':_0x2fe213(0xa20),'headers':{'Content-Type':_0x2fe213(0x27b)},'body':JSON[_0x2fe213(0xb38)](_0x548e5e)});if(!_0x216f0b['ok']){const _0xd55500=await _0x216f0b[_0x2fe213(0x4c3)]();console[_0x2fe213(0x894)](_0x2fe213(0x348),_0xd55500);throw new Error(_0x2fe213(0x6c2)+_0x216f0b[_0x2fe213(0xa85)]);}const _0x45afb8=await _0x216f0b[_0x2fe213(0x8d3)]();if(_0x45afb8[_0x2fe213(0x750)]&&_0x45afb8[_0x2fe213(0x750)][0x0][_0x2fe213(0x8e2)]&&_0x45afb8[_0x2fe213(0x750)][0x0][_0x2fe213(0x8e2)][_0x2fe213(0x290)][0x0])return _0x45afb8[_0x2fe213(0x750)][0x0][_0x2fe213(0x8e2)]['parts'][0x0]['text'];else{console[_0x2fe213(0x894)](_0x2fe213(0x625),_0x45afb8);if(_0x45afb8[_0x2fe213(0x750)]&&_0x45afb8['candidates'][0x0][_0x2fe213(0x5e9)]===_0x2fe213(0x345))return JSON[_0x2fe213(0xb38)]({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x74ae3f){console[_0x2fe213(0x894)](_0x2fe213(0x930),_0x74ae3f);throw _0x74ae3f;}}async function generateLesson(_0x4e2468=null,_0x5cdd8a=null){const _0x50c430=_0x354eeb,_0x32bfae=_0x4e2468,_0x38735b=_0x5cdd8a||_0x50c430(0x640),_0x3b56cb=document['getElementById'](_0x50c430(0xdb4)),_0x29c6f3=document[_0x50c430(0x64e)](_0x50c430(0x6c5));_0x29c6f3['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x32bfae+_0x50c430(0x436);try{let _0x255f95=[];const _0x129e44=document[_0x50c430(0x64e)](_0x50c430(0xa28))?.[_0x50c430(0x998)]['trim']();if(_0x129e44)try{_0x29c6f3['textContent']=_0x50c430(0xc90);const _0x5e45e4=await fetchFileFromUrl(_0x129e44,_0x50c430(0x8f8)),_0x19f27f=await new Promise((_0x778ea9,_0x39118d)=>{const _0x22da98=_0x50c430,_0x56af03=new FileReader();_0x56af03[_0x22da98(0x8b0)](_0x5e45e4),_0x56af03[_0x22da98(0x503)]=()=>_0x778ea9(_0x56af03['result']['split'](',')[0x1]),_0x56af03['onerror']=_0x39118d;});_0x255f95[_0x50c430(0xa95)]({'inlineData':{'mimeType':_0x5e45e4[_0x50c430(0xc3f)],'data':_0x19f27f}});}catch(_0x35a7da){console[_0x50c430(0x894)](_0x50c430(0x811),_0x35a7da),showMessage(_0x50c430(0x301));}const _0x444a7f=_0x50c430(0xab7)+_0x32bfae+_0x50c430(0x93a)+_0x32bfae+_0x50c430(0x24d);_0x29c6f3[_0x50c430(0xd72)]=_0x50c430(0x298)+_0x32bfae+_0x50c430(0x436);const _0xb7df4b=_0x50c430(0x248)+_0x38735b+_0x50c430(0x5a9)+_0x32bfae+_0x50c430(0x51e)+_0x444a7f+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x4e2d0b=_0x50c430(0x24b)+_0x32bfae+_0x50c430(0x99f)+_0x38735b+_0x50c430(0xa77)+_0x444a7f+_0x50c430(0x9f8),_0x333006=_0x50c430(0x9dc)+_0x38735b+_0x50c430(0x5a9)+_0x32bfae+_0x50c430(0x37c)+_0x444a7f+_0x50c430(0x6bb),_0x52421a=_0x50c430(0xb9b)+_0x32bfae+_0x50c430(0xc0e)+_0x38735b+_0x50c430(0xa6c)+_0x444a7f+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x2c5e6d={'type':'ARRAY','items':{'type':_0x50c430(0x627),'properties':{'question':{'type':_0x50c430(0x921)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':_0x50c430(0xc0c)}},'required':[_0x50c430(0xdae),'options','answer']}},[_0x4ca78e,_0x4fe80d,_0xc12157,_0xdcbd7]=await Promise[_0x50c430(0x885)]([handleApiCall([{'text':_0xb7df4b},..._0x255f95],_0x50c430(0x41d),null,null,![]),handleApiCall([{'text':_0x4e2d0b},..._0x255f95],'...',null,null,![]),handleApiCall([{'text':_0x333006},..._0x255f95],'...',_0x2c5e6d,null,![]),handleApiCall([{'text':_0x52421a},..._0x255f95],_0x50c430(0x41d),null,null,![])]),_0x1c9fa4=JSON[_0x50c430(0xb38)](_0xc12157||[]),_0x5c2d2d=document['getElementById'](_0x50c430(0xda9)),_0x373cb7=document[_0x50c430(0x64e)](_0x50c430(0x566));_0x5c2d2d[_0x50c430(0x6c0)]=_0x50c430(0xad2)+_0x32bfae[_0x50c430(0x683)](/•\\s/g,'')+_0x50c430(0x530)+_0x38735b+')',[_0x50c430(0x40e),_0x50c430(0x458),_0x50c430(0x425)][_0x50c430(0x37d)](_0x2ab99d=>{const _0x289f91=_0x50c430;document[_0x289f91(0x64e)](_0x2ab99d)['innerHTML']='';}),document[_0x50c430(0x64e)]('pointContent')[_0x50c430(0xc5e)]=_0x4ca78e?marked[_0x50c430(0x5ab)](_0x4ca78e):_0x50c430(0xac7),document[_0x50c430(0x64e)]('memoryContent')[_0x50c430(0xc5e)]=_0x4fe80d?marked[_0x50c430(0x5ab)](_0x4fe80d):_0x50c430(0xac7),document[_0x50c430(0x64e)](_0x50c430(0x425))[_0x50c430(0xc5e)]=_0xdcbd7?marked[_0x50c430(0x5ab)](_0xdcbd7):_0x50c430(0xac7),currentApplicationData=JSON[_0x50c430(0x5ab)](_0x1c9fa4);const _0x285ee3=document[_0x50c430(0x64e)](_0x50c430(0xac5));_0x285ee3['innerHTML']=(currentApplicationData||[])['map']((_0x324e57,_0x8f1d01)=>_0x50c430(0xa3a)+(_0x8f1d01+0x1)+'.\x20'+marked[_0x50c430(0x9fb)](_0x324e57['question']||'')+_0x50c430(0xc17)+_0x8f1d01+_0x50c430(0xac8)+(_0x324e57[_0x50c430(0x3e0)]||[])['map']((_0x7bb37c,_0x4f1679)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x8f1d01+',\x20'+_0x4f1679+_0x50c430(0x285)+String[_0x50c430(0x3e6)](0x61+_0x4f1679)+'.\x20'+marked[_0x50c430(0x9fb)](_0x7bb37c||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x50c430(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x50c430(0x5fa)]('')||_0x50c430(0x81e),window[_0x50c430(0x8cc)]&&MathJax[_0x50c430(0xacc)]([_0x373cb7]),_0x3b56cb['classList'][_0x50c430(0x21a)](_0x50c430(0x76a)),_0x373cb7[_0x50c430(0x565)]['remove'](_0x50c430(0x76a));}catch(_0x1caf07){console[_0x50c430(0x894)](_0x1caf07);throw _0x1caf07;}}function checkAnswer(_0x319fcd,_0x1bbaee){const _0x538e55=_0x354eeb,_0x335808=currentApplicationData[_0x319fcd],_0xbb0f65=document[_0x538e55(0x64e)]('q'+_0x319fcd+_0x538e55(0x618)),_0x26e83a=_0xbb0f65['getElementsByTagName'](_0x538e55(0x9a9));for(let _0x325b1e of _0x26e83a){_0x325b1e[_0x538e55(0x87b)]=!![];}_0x1bbaee===_0x335808[_0x538e55(0x6a5)]?_0x26e83a[_0x1bbaee]['classList'][_0x538e55(0x21a)]('correct'):(_0x26e83a[_0x1bbaee]['classList']['add'](_0x538e55(0x8c8)),_0x26e83a[_0x335808[_0x538e55(0x6a5)]][_0x538e55(0x565)][_0x538e55(0x21a)]('correct'));}window[_0x354eeb(0x2c6)]=handleGenerateAndShowLesson,window[_0x354eeb(0x6e7)]=checkAnswer,window[_0x354eeb(0x5af)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x2e1b9e=_0x354eeb;try{const _0x7aadfb=initializeApp(firebaseConfig);db=getFirestore(_0x7aadfb),auth=getAuth(_0x7aadfb),setupAuthListener(),setupEventListeners(),showView(_0x2e1b9e(0x35e)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x523925){console[_0x2e1b9e(0x894)](_0x2e1b9e(0x4cf),_0x523925),showMessage(_0x2e1b9e(0x562));}}async function handleVerifyAnswersInEditor(){const _0x4e7d05=_0x354eeb,_0x3e106a=document['getElementById'](_0x4e7d05(0x92a));if(!_0x3e106a)return;const _0x5b27ae=document[_0x4e7d05(0x64e)](_0x4e7d05(0x841));_0x5b27ae['disabled']=!![],_0x5b27ae[_0x4e7d05(0xc5e)]=_0x4e7d05(0xde4);try{const _0x44e36d=_0x3e106a['querySelectorAll'](_0x4e7d05(0x968)),_0x4ba01d=Array['from'](_0x44e36d)['map']((_0x5db4ee,_0x110e18)=>{const _0x2ed005=_0x4e7d05,_0x5473d2=_0x5db4ee[_0x2ed005(0x524)][_0x2ed005(0x76d)],_0x108f88=_0x5db4ee[_0x2ed005(0x8b9)](_0x2ed005(0xc48))[_0x2ed005(0x998)];let _0x262cc2=null,_0x1edc0f='';switch(_0x5473d2){case _0x2ed005(0xda2):const _0x3500b8=_0x5db4ee[_0x2ed005(0x72d)]('input[type=\x22text\x22]');_0x262cc2=Array['from'](_0x3500b8)[_0x2ed005(0x1fa)](_0x4f7838=>_0x4f7838[_0x2ed005(0x998)]);const _0x5b7360=_0x5db4ee[_0x2ed005(0x8b9)](_0x2ed005(0xbfb));_0x5b7360&&(_0x1edc0f=_0x262cc2[parseInt(_0x5b7360[_0x2ed005(0x998)])]);break;case _0x2ed005(0x6bd):_0x262cc2=[],_0x1edc0f=_0x5db4ee['querySelector']('.ideal-answer-input')[_0x2ed005(0x998)];break;case _0x2ed005(0x82f):_0x262cc2=[_0x2ed005(0x6b4),_0x2ed005(0x485)];const _0x378a4b=_0x5db4ee[_0x2ed005(0x8b9)](_0x2ed005(0xbfb));_0x1edc0f=_0x378a4b?_0x378a4b[_0x2ed005(0x998)]:'';break;case _0x2ed005(0xc67):_0x262cc2=[],_0x1edc0f=_0x5db4ee[_0x2ed005(0x8b9)](_0x2ed005(0x7e1))[_0x2ed005(0x998)];break;}return{'question':_0x108f88,'options':_0x262cc2,'proposedAnswer':_0x1edc0f};}),_0x2472c8=_0x4e7d05(0x63f)+JSON[_0x4e7d05(0xb38)](_0x4ba01d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x30db37={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x4e7d05(0x921)},'correctOptionExists':{'type':_0x4e7d05(0x52b)},'suggestedAnswer':{'type':_0x4e7d05(0x921)},'newOptionsPayload':{'type':_0x4e7d05(0x627),'properties':{'newOptions':{'type':_0x4e7d05(0x4aa),'items':{'type':_0x4e7d05(0x921)}},'newCorrectIndex':{'type':_0x4e7d05(0xc0c)}}}},'required':[_0x4e7d05(0x908),_0x4e7d05(0x241),'justification']}},_0x3ec6e9=await callAnalysisApi(_0x2472c8,{'type':_0x4e7d05(0x627),'properties':{'result':_0x30db37},'required':[_0x4e7d05(0xb82)]});displayVerificationResultsInEditor(_0x3ec6e9['result']);}catch(_0x316d0c){console[_0x4e7d05(0x894)](_0x4e7d05(0x849),_0x316d0c),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x5b27ae[_0x4e7d05(0x87b)]=![],_0x5b27ae['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x550c49){const _0x51b1a2=_0x354eeb;_0x550c49[_0x51b1a2(0x37d)](_0x1a1496=>{const _0x2e55a1=_0x51b1a2,_0x5b6882=document[_0x2e55a1(0x8b9)]('.question-editor-item[data-q-index=\x22'+_0x1a1496[_0x2e55a1(0x908)]+'\x22]');if(!_0x5b6882)return;const _0x16b579=_0x5b6882[_0x2e55a1(0x8b9)](_0x2e55a1(0x7f0));if(_0x16b579)_0x16b579[_0x2e55a1(0xc9d)]();let _0x1aaf65='';if(_0x1a1496[_0x2e55a1(0x3f5)]&&_0x1a1496[_0x2e55a1(0x3f5)][_0x2e55a1(0x362)]){const _0x57addc=_0x1a1496[_0x2e55a1(0x3f5)][_0x2e55a1(0x362)],_0x31c27e=_0x1a1496[_0x2e55a1(0x3f5)][_0x2e55a1(0x7c6)],_0x3bff4c=_0x5b6882[_0x2e55a1(0x524)][_0x2e55a1(0x76d)];if(_0x3bff4c==='multiple_choice'){const _0x273641=_0x5b6882[_0x2e55a1(0x72d)](_0x2e55a1(0xd8e));_0x273641['forEach']((_0x29fe82,_0x45e292)=>{const _0x444fdc=_0x2e55a1;_0x57addc[_0x45e292]?_0x29fe82[_0x444fdc(0x998)]=_0x57addc[_0x45e292]:_0x29fe82[_0x444fdc(0x998)]=_0x444fdc(0xc4d);});const _0x2a7799=_0x5b6882[_0x2e55a1(0x8b9)]('input[type=\x22radio\x22][value=\x22'+_0x31c27e+'\x22]');_0x2a7799&&(_0x2a7799[_0x2e55a1(0x5f7)]=!![]),_0x1aaf65=_0x2e55a1(0x63a),_0x5b6882[_0x2e55a1(0x565)][_0x2e55a1(0x21a)](_0x2e55a1(0xd01),_0x2e55a1(0x3b6),'duration-300'),setTimeout(()=>{const _0x3e695a=_0x2e55a1;_0x5b6882['classList'][_0x3e695a(0xc9d)](_0x3e695a(0xd01));},0x9c4);}}else{if(!_0x1a1496[_0x2e55a1(0x241)]&&_0x1a1496[_0x2e55a1(0x5c0)]){const _0x5c37ba=_0x1a1496[_0x2e55a1(0x5c0)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x1aaf65=_0x2e55a1(0xa9a)+_0x5c37ba+_0x2e55a1(0x8a6)+_0x1a1496[_0x2e55a1(0x293)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a1496['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1a1496[_0x2e55a1(0x5c0)]+_0x2e55a1(0x20e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x378066=_0x5b6882[_0x2e55a1(0x524)][_0x2e55a1(0x76d)],_0x2dd9a8=_0x226c93=>{const _0x3df352=_0x2e55a1;if(!_0x226c93)return;_0x226c93[_0x3df352(0x565)]['add'](_0x3df352(0xa42),_0x3df352(0x3b6),_0x3df352(0xa26)),setTimeout(()=>{const _0x40b53e=_0x3df352;_0x226c93[_0x40b53e(0x565)][_0x40b53e(0xc9d)](_0x40b53e(0xa42));},0x9c4);};if(_0x378066===_0x2e55a1(0xda2)){const _0x911fed=Array[_0x2e55a1(0x941)](_0x5b6882[_0x2e55a1(0x72d)](_0x2e55a1(0xd8e))),_0x36c802=_0x911fed[_0x2e55a1(0x85b)](_0x519d8d=>_0x519d8d['value'][_0x2e55a1(0xdd7)]()[_0x2e55a1(0x468)]()===_0x1a1496['suggestedAnswer'][_0x2e55a1(0xdd7)]()[_0x2e55a1(0x468)]());if(_0x36c802!==-0x1){const _0xc8924e=_0x5b6882[_0x2e55a1(0x8b9)](_0x2e55a1(0x66d)+_0x36c802+'\x22]');_0xc8924e&&(_0xc8924e['checked']=!![],_0x2dd9a8(_0xc8924e[_0x2e55a1(0x717)](_0x2e55a1(0xae0))));}}else{if(_0x378066===_0x2e55a1(0x6bd)||_0x378066===_0x2e55a1(0xc67)){const _0x3a268f=_0x5b6882[_0x2e55a1(0x8b9)]('.ideal-answer-input,\x20.correct-response-input');_0x3a268f&&(_0x3a268f[_0x2e55a1(0x998)]=_0x1a1496['suggestedAnswer'],_0x2dd9a8(_0x3a268f));}else{if(_0x378066==='true_false'){const _0x318ab1=_0x1a1496['suggestedAnswer'][_0x2e55a1(0xdd7)]()['toLowerCase'](),_0x1d31e8=_0x5b6882['querySelector'](_0x2e55a1(0x66d)+_0x318ab1+'\x22]');_0x1d31e8&&(_0x1d31e8[_0x2e55a1(0x5f7)]=!![],_0x2dd9a8(_0x1d31e8[_0x2e55a1(0x717)](_0x2e55a1(0xae0))));}}}}else _0x1a1496[_0x2e55a1(0x241)]&&(_0x1aaf65='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x5b6882[_0x2e55a1(0xca7)]('beforeend',_0x1aaf65);}),showMessage(_0x51b1a2(0x4c6));}async function handleVerifyAnswers(){const _0x39f2a0=_0x354eeb;if(!currentQuizData||!currentQuizData[_0x39f2a0(0xc42)]){showMessage(_0x39f2a0(0x574));return;}const _0x364963=document['getElementById']('verify-answers-btn');_0x364963[_0x39f2a0(0x87b)]=!![],_0x364963[_0x39f2a0(0xc5e)]=_0x39f2a0(0xde4);try{const _0xc598c=currentQuizData[_0x39f2a0(0xc42)][_0x39f2a0(0x1fa)]((_0x5ccb5f,_0x2300ab)=>{const _0x3459e1=_0x39f2a0;let _0x5dc2d3='';const _0x1b74b0=_0x5ccb5f[_0x3459e1(0x4fd)]||currentQuizData['quizType'];switch(_0x1b74b0){case'multiple_choice':_0x5dc2d3=_0x5ccb5f[_0x3459e1(0x3e0)][_0x5ccb5f['correctAnswerIndex']];break;case _0x3459e1(0x6bd):_0x5dc2d3=_0x5ccb5f[_0x3459e1(0xddb)];break;case _0x3459e1(0x82f):_0x5dc2d3=_0x5ccb5f[_0x3459e1(0x7e0)][_0x3459e1(0x3ea)]();break;case _0x3459e1(0xc67):_0x5dc2d3=_0x5ccb5f[_0x3459e1(0x73a)];break;}return{'question':_0x5ccb5f[_0x3459e1(0xc59)]||_0x5ccb5f['questionText'],'options':_0x5ccb5f[_0x3459e1(0x3e0)]||null,'proposedAnswer':_0x5dc2d3};}),_0x11bd02=_0x39f2a0(0x956)+JSON[_0x39f2a0(0xb38)](_0xc598c)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x7ebf39={'type':_0x39f2a0(0x4aa),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x39f2a0(0xc0c)},'isCorrect':{'type':_0x39f2a0(0x52b)},'justification':{'type':_0x39f2a0(0x921)},'suggestedAnswer':{'type':_0x39f2a0(0x921)}},'required':['questionIndex',_0x39f2a0(0x241),_0x39f2a0(0x293)]}},_0x3bdb6c=await callAnalysisApi(_0x11bd02,{'type':_0x39f2a0(0x627),'properties':{'result':_0x7ebf39},'required':[_0x39f2a0(0xb82)]});displayVerificationResults(_0x3bdb6c[_0x39f2a0(0xb82)]);}catch(_0x2eec5b){console[_0x39f2a0(0x894)](_0x39f2a0(0x7f4),_0x2eec5b),showMessage(_0x39f2a0(0x945));}finally{_0x364963[_0x39f2a0(0x87b)]=![],_0x364963['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x4f6d6e){const _0x470a03=_0x354eeb;_0x4f6d6e[_0x470a03(0x37d)](_0x554f03=>{const _0x1bd810=_0x470a03,_0x4ae177=document[_0x1bd810(0x8b9)](_0x1bd810(0xaee)+_0x554f03[_0x1bd810(0x908)]+'\x22]');if(_0x4ae177){const _0x351b78=_0x4ae177[_0x1bd810(0x8b9)]('.verification-result');if(_0x351b78)_0x351b78['remove']();let _0xb8a532='';_0x554f03[_0x1bd810(0x241)]?_0xb8a532='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xb8a532='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x554f03['justification']+_0x1bd810(0x783)+(_0x554f03[_0x1bd810(0x5c0)]?_0x1bd810(0x847)+_0x554f03[_0x1bd810(0x5c0)]+_0x1bd810(0x20e):'')+_0x1bd810(0x3d1),_0x4ae177[_0x1bd810(0xca7)](_0x1bd810(0x9bd),_0xb8a532);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x29db70,_0x4e234e){const _0x45fe74=_0x354eeb,_0x50b882=String(_0x29db70)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x45fe74(0xdd7)](),_0x5bf643=String(_0x4e234e)[_0x45fe74(0x683)](',','.')[_0x45fe74(0x683)](/[^\d.-]/g,'')[_0x45fe74(0xdd7)]();if(_0x50b882===''||_0x5bf643==='')return![];const _0x563c1d=parseFloat(_0x50b882),_0x1111f2=parseFloat(_0x5bf643);if(isNaN(_0x563c1d)||isNaN(_0x1111f2))return![];return Math[_0x45fe74(0xa03)](_0x563c1d-_0x1111f2)<0.001;}function isPotentiallyNumeric(_0x52384c){const _0x457c9c=_0x354eeb;if(typeof _0x52384c!==_0x457c9c(0xd00)&&typeof _0x52384c!==_0x457c9c(0x416))return![];const _0x35a4e4=String(_0x52384c)[_0x457c9c(0x683)](',','.')['trim']();return _0x35a4e4!==''&&!isNaN(parseFloat(_0x35a4e4))&&isFinite(_0x35a4e4);}async function gradeShortAnswer(_0x27286d,_0x7869e7){const _0x5a8e1b=_0x354eeb,_0x451901=_0x7869e7[_0x5a8e1b(0xddb)],_0x375580=String(_0x27286d)[_0x5a8e1b(0x683)](/\$/g,'')[_0x5a8e1b(0xdd7)](),_0x2b1771=String(_0x451901)[_0x5a8e1b(0x683)](/\$/g,'')[_0x5a8e1b(0xdd7)]();if(_0x375580['toLowerCase']()===_0x2b1771[_0x5a8e1b(0x468)]())return!![];if(isPotentiallyNumeric(_0x375580)&&isPotentiallyNumeric(_0x2b1771)){if(compareNumericalAnswers(_0x375580,_0x2b1771))return!![];}return console[_0x5a8e1b(0x4b0)](_0x5a8e1b(0x45b)),await gradeShortAnswerWithAI(_0x27286d,_0x451901);}async function revealAnswerForAdmin(_0x217484,_0x1924c7){const _0x10d686=_0x354eeb,_0x11e4bb=doc(db,_0x10d686(0x53f)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x11e4bb,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x5f0469){const _0x9790f1=_0x354eeb,_0x372e87=Object[_0x9790f1(0xa7b)](_0x5f0469[_0x9790f1(0xc09)]||{})[_0x9790f1(0xdc7)](_0x195b61=>_0x195b61['status']===_0x9790f1(0x385));_0x372e87[_0x9790f1(0x705)]((_0x3a3937,_0x3aa32b)=>_0x3aa32b[_0x9790f1(0x3cb)]-_0x3a3937[_0x9790f1(0x3cb)]);const _0x5617cd=_0x372e87[_0x9790f1(0xca0)](0x0,0x5),_0x3b321d=_0x9790f1(0xc0b)+_0x5617cd[_0x9790f1(0x1fa)]((_0x6e356f,_0x26ed4b)=>_0x9790f1(0x5a6)+(_0x26ed4b+0x1)+'.\x20'+(_0x6e356f[_0x9790f1(0x799)]||Object[_0x9790f1(0x203)](_0x5f0469['players'])['find'](_0x117c97=>_0x5f0469[_0x9790f1(0xc09)][_0x117c97]===_0x6e356f))+_0x9790f1(0xafb)+_0x6e356f[_0x9790f1(0x3cb)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x9790f1(0x5fa)]('')+_0x9790f1(0xbdf)+(_0x5f0469[_0x9790f1(0x9a3)]+0x1===currentQuizData[_0x9790f1(0xc42)][_0x9790f1(0x2ee)]?'สรุปผลสุดท้าย':_0x9790f1(0xaa3))+_0x9790f1(0xade);liveGameView[_0x9790f1(0xc5e)]=_0x3b321d,document['getElementById'](_0x9790f1(0xad6))['addEventListener'](_0x9790f1(0x4f9),async()=>{const _0x328b99=_0x9790f1,_0x48767d=doc(db,_0x328b99(0x53f)+appId+_0x328b99(0xcdb),currentLiveGameId),_0x491325=_0x5f0469[_0x328b99(0x9a3)]+0x1;if(_0x491325<currentQuizData[_0x328b99(0xc42)]['length']){const _0x484ac5={'currentQuestionIndex':_0x491325,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x328b99(0x203)](_0x5f0469[_0x328b99(0xc09)])[_0x328b99(0x37d)](_0x54f318=>{const _0x3384cc=_0x328b99;_0x484ac5[_0x3384cc(0x4d6)+_0x54f318+_0x3384cc(0xb8d)]=![];}),await updateDoc(_0x48767d,_0x484ac5);}else await updateDoc(_0x48767d,{'status':_0x328b99(0x6de)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xad1ec3=>{const _0x3e782e=_0x421e;if(_0xad1ec3){userId=_0xad1ec3['uid'],userIdDisplay[_0x3e782e(0xd72)]=userId;const _0xfe1e70=await loadUserPreferences();_0xfe1e70[_0x3e782e(0x5d0)]&&(document[_0x3e782e(0x64e)]('project-sort-select')[_0x3e782e(0x998)]=_0xfe1e70[_0x3e782e(0x5d0)]);globalDashboardSettings[_0x3e782e(0xb9d)]=_0xfe1e70[_0x3e782e(0xb9d)]||_0x3e782e(0xc80);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2124ca,_0x18ebcb){const _0x2115d0=_0x354eeb;if(!userId)return;try{const _0xe8ff13=doc(db,_0x2115d0(0x53f)+appId+_0x2115d0(0x69c)+userId+'/preferences/main'),_0x439b23={};_0x439b23[_0x2124ca]=_0x18ebcb,await setDoc(_0xe8ff13,_0x439b23,{'merge':!![]});}catch(_0x508ecc){console[_0x2115d0(0x894)](_0x2115d0(0xde1),_0x508ecc);}}async function loadUserPreferences(){const _0x2ce95f=_0x354eeb;if(!userId)return{};try{const _0x44bcf5=doc(db,_0x2ce95f(0x53f)+appId+_0x2ce95f(0x69c)+userId+_0x2ce95f(0xd14)),_0x4af2fe=await getDoc(_0x44bcf5);if(_0x4af2fe['exists']())return _0x4af2fe['data']();return{};}catch(_0xe624d4){return console['error'](_0x2ce95f(0x23c),_0xe624d4),{};}}function parseIndentedBlueprint(_0x461335){const _0x5d4c04=_0x354eeb,_0x29078b=_0x461335[_0x5d4c04(0x816)]('\x0a')['filter'](_0x5a3c65=>_0x5a3c65[_0x5d4c04(0xdd7)]()!==''),_0xaa09cf=[];let _0x114984=null,_0x35a297=null;return _0x29078b[_0x5d4c04(0x37d)](_0x7dbf1d=>{const _0x2276f7=_0x5d4c04,_0x86e679=_0x7dbf1d['match'](/^\s*/)[0x0][_0x2276f7(0x2ee)],_0x493efb=_0x7dbf1d['trim']();if(_0x86e679===0x0)_0x114984={'sara':_0x493efb,'mainTopics':[]},_0xaa09cf[_0x2276f7(0xa95)](_0x114984),_0x35a297=null;else{if(_0x86e679>0x0&&_0x86e679<0x8&&_0x114984)_0x35a297={'topicName':_0x493efb,'subTopics':[]},_0x114984[_0x2276f7(0xa29)]['push'](_0x35a297);else _0x86e679>=0x8&&_0x35a297&&_0x35a297[_0x2276f7(0xd8d)][_0x2276f7(0xa95)](_0x493efb);}}),{'curriculum':_0xaa09cf};}async function handleManualBlueprintSave(){const _0x1becb2=_0x354eeb,_0x3a1305=document[_0x1becb2(0x64e)](_0x1becb2(0xa2b))[_0x1becb2(0x998)][_0x1becb2(0xdd7)](),_0x59ff2a=document['getElementById'](_0x1becb2(0x350))[_0x1becb2(0x998)][_0x1becb2(0xdd7)](),_0x16a299=document[_0x1becb2(0x64e)](_0x1becb2(0xc0d))['value'];if(!_0x3a1305||!_0x59ff2a||!_0x16a299){showMessage(_0x1becb2(0x579));return;}const _0x3cdba1=parseIndentedBlueprint(_0x16a299);if(!_0x3cdba1[_0x1becb2(0x70d)]||_0x3cdba1[_0x1becb2(0x70d)]['length']===0x0){showMessage(_0x1becb2(0x69f));return;}const _0x59b934={};let _0x15ef80=0x0;_0x3cdba1[_0x1becb2(0x70d)][_0x1becb2(0x37d)](_0x4c0c3c=>{const _0x31e292=_0x1becb2;_0x4c0c3c[_0x31e292(0xa29)][_0x31e292(0x37d)](_0x375110=>{const _0x479fe5=_0x31e292;_0x375110[_0x479fe5(0xd8d)]['forEach'](_0x1ce647=>{const _0x4d7317=_0x479fe5,_0x45fa15=_0x4d7317(0x64b)+Date[_0x4d7317(0x274)]()+Math[_0x4d7317(0xb7b)]()['toString'](0x24)[_0x4d7317(0x478)](0x2,0x9);_0x59b934[_0x45fa15]={'sara':_0x4c0c3c[_0x4d7317(0xc9f)],'mainTopic':_0x375110[_0x4d7317(0x60b)],'subTopic':_0x1ce647,'status':_0x4d7317(0x2be),'lessonContent':null,'order':_0x15ef80++};});});});try{const _0x107a4d=collection(db,'artifacts/'+appId+_0x1becb2(0x27d));await addDoc(_0x107a4d,{'projectName':_0x3a1305,'gradeLevel':_0x59ff2a,'topics':_0x59b934,'createdAt':serverTimestamp()}),showMessage(_0x1becb2(0x91d)+_0x3a1305+_0x1becb2(0x6a1)),document['getElementById'](_0x1becb2(0x757))[_0x1becb2(0x565)][_0x1becb2(0x21a)](_0x1becb2(0x76a));}catch(_0x528c23){console[_0x1becb2(0x894)](_0x1becb2(0x7e4),_0x528c23),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x584f2d){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x39f74b=_0x421e;try{const _0x8bc61f=doc(db,'artifacts/'+appId+_0x39f74b(0x27d),currentBlueprintProjectId);await updateDoc(_0x8bc61f,{['topics.'+_0x584f2d+'.linkedQuizIds']:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x584f2d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x59fffb){console['error'](_0x39f74b(0x7cc),_0x59fffb),showMessage(_0x39f74b(0x72c));}});}function showPodiumView(_0x28a95e,_0x4a372e=_0x354eeb(0x239)){const _0x13065e=_0x354eeb,_0x28b99c=Object[_0x13065e(0x8e0)](_0x28a95e)[_0x13065e(0x1fa)](([_0x5dc081,_0x36259b])=>({'name':_0x5dc081,'score':_0x36259b[_0x13065e(0x3cb)]||0x0,'badges':_0x36259b[_0x13065e(0x9c5)]||[],'hasPerfectScoreBonus':_0x36259b[_0x13065e(0x466)]||![]}));_0x28b99c[_0x13065e(0x705)]((_0x5924b9,_0x43cc14)=>{const _0x238345=_0x13065e,_0x4bf784=_0x43cc14[_0x238345(0x3cb)]-_0x5924b9[_0x238345(0x3cb)];if(_0x4bf784!==0x0)return _0x4bf784;return(_0x43cc14[_0x238345(0x9c5)]['length']||0x0)-(_0x5924b9[_0x238345(0x9c5)][_0x238345(0x2ee)]||0x0);});const _0x140f5f=_0xbeb701=>{const _0x3aab02=_0x13065e;if(!_0xbeb701||_0xbeb701['length']===0x0)return'';const _0x316938={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0xbeb701[_0x3aab02(0x1fa)](_0xb6913c=>_0x316938[_0xb6913c]||'')[_0x3aab02(0x5fa)]('')+'</div>';},_0x37b24f=_0x28b99c[_0x13065e(0xca0)](0x3),_0x1c402=_0x37b24f[_0x13065e(0x2ee)]>0x0?_0x13065e(0x396)+_0x37b24f['map']((_0x512aaf,_0x3dcbf3)=>{const _0x272b05=_0x13065e,_0x59cc13=_0x512aaf['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x272b05(0x83d)+(_0x3dcbf3+0x4)+_0x272b05(0xd20)+_0x512aaf['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x512aaf[_0x272b05(0x3cb)]+'\x20คะแนน\x20'+_0x59cc13+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x13065e(0x5fa)]('')+_0x13065e(0xdc3):'',_0x5cd0f3=_0x13065e(0x480)+(_0x28b99c[0x1]?_0x13065e(0x6ed)+_0x28b99c[0x1][_0x13065e(0x799)]+_0x13065e(0x20e)+_0x140f5f(_0x28b99c[0x1][_0x13065e(0x9c5)])+_0x13065e(0x963)+_0x28b99c[0x1][_0x13065e(0x3cb)]+'\x20คะแนน\x20'+(_0x28b99c[0x1][_0x13065e(0x466)]?_0x13065e(0x3a1):'')+_0x13065e(0x44b):'<div\x20class=\x22flex-1\x22></div>')+_0x13065e(0x33b)+(_0x28b99c[0x0]?_0x13065e(0x578)+_0x28b99c[0x0][_0x13065e(0x799)]+_0x13065e(0x20e)+_0x140f5f(_0x28b99c[0x0][_0x13065e(0x9c5)])+_0x13065e(0x2fc)+_0x28b99c[0x0][_0x13065e(0x3cb)]+_0x13065e(0xb47)+(_0x28b99c[0x0][_0x13065e(0x466)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x13065e(0xb75):_0x13065e(0x777))+_0x13065e(0x33b)+(_0x28b99c[0x2]?_0x13065e(0x882)+_0x28b99c[0x2][_0x13065e(0x799)]+_0x13065e(0x20e)+_0x140f5f(_0x28b99c[0x2][_0x13065e(0x9c5)])+_0x13065e(0x963)+_0x28b99c[0x2]['score']+'\x20คะแนน\x20'+(_0x28b99c[0x2]['hasPerfectScoreBonus']?_0x13065e(0x3a1):'')+_0x13065e(0xca5):_0x13065e(0x777))+_0x13065e(0x8a3)+_0x1c402+_0x13065e(0xa81)+(currentMode===_0x13065e(0x763)?_0x13065e(0x269):_0x13065e(0xaf5))+_0x13065e(0x8ee);liveGameView[_0x13065e(0xc5e)]=_0x5cd0f3,currentMode===_0x13065e(0x763)&&document[_0x13065e(0x64e)](_0x13065e(0xa59))[_0x13065e(0xa02)](_0x13065e(0x4f9),async()=>{const _0x4e8083=_0x13065e;let _0x283f1e;_0x4a372e===_0x4e8083(0x3d2)?_0x283f1e=doc(db,_0x4e8083(0x53f)+appId+_0x4e8083(0xcd7),currentLiveGameId):_0x283f1e=doc(db,_0x4e8083(0x53f)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x283f1e);});}function renderSyncSummaryView(_0x3842cb,_0x1b702f,_0x577229){const _0x412947=_0x354eeb,_0x1d4b87=!_0x577229&&_0x2363c2===_0x412947(0x8b3)&&_0x3842cb[_0x412947(0xd4d)]===![],_0x1f55a8=Object[_0x412947(0xa7b)](_0x3842cb[_0x412947(0xc09)]||{}),_0x22a80e=_0x3842cb[_0x412947(0x660)][_0x412947(0xc42)],_0x3016a4=_0x1b702f[_0x412947(0x4fd)]||_0x3842cb[_0x412947(0x660)][_0x412947(0x6a2)];let _0xa9b5fe=[];_0x3016a4===_0x412947(0x82f)?_0xa9b5fe=[_0x412947(0x296),_0x412947(0xc07)]:_0xa9b5fe=_0x1b702f[_0x412947(0x3e0)]||[];const _0x5d0d35=new Array(_0xa9b5fe[_0x412947(0x2ee)])[_0x412947(0xc6c)](0x0),_0x2077b3={};_0xa9b5fe[_0x412947(0x37d)]((_0x1baa77,_0x53e90e)=>{_0x2077b3[_0x53e90e]=[];}),Object[_0x412947(0x8e0)](_0x3842cb[_0x412947(0xc09)]||{})[_0x412947(0x37d)](([_0x280366,_0x3c1193])=>{const _0x2355a4=_0x412947;if(_0x3c1193[_0x2355a4(0xa85)]!==_0x2355a4(0xaac)&&_0x3c1193['lastAnswerIndex']!==undefined&&_0x3c1193[_0x2355a4(0xbb4)]!==null){const _0x33a027=_0x3c1193['lastAnswerIndex'];if(_0x2077b3[_0x33a027]!==undefined){const _0x43b5f5=_0x1d4b87?_0x3842cb['playerNicknames'][_0x280366]||'???':_0x280366;_0x2077b3[_0x33a027]['push'](_0x43b5f5),_0x5d0d35[_0x33a027]++;}}});let _0x3b66fe='';const _0x2363c2=_0x3842cb['gameVariant']||_0x412947(0x200),_0x443971=_0x3842cb['currentQuestionIndex']>=_0x22a80e[_0x412947(0x2ee)]-0x1;_0x577229?_0x2363c2===_0x412947(0xdda)?_0x443971?_0x3b66fe=_0x412947(0x591):_0x3b66fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3b66fe=_0x412947(0xbfc):_0x2363c2===_0x412947(0xdda)?_0x3b66fe=_0x412947(0xd37):_0x3b66fe=_0x412947(0xa86);const _0x4a986f=_0x412947(0x43c)+_0x1b702f[_0x412947(0x9f4)]+_0x412947(0x856)+_0x5d0d35[_0x412947(0x1fa)]((_0x44c007,_0x231d7d)=>{const _0x3ff346=_0x412947,_0x7aab62=_0x2077b3[_0x231d7d][_0x3ff346(0x2ee)]>0x0?_0x2077b3[_0x231d7d][_0x3ff346(0x5fa)](',\x20'):_0x3ff346(0xd96),_0x1229a1=_0x3ff346(0x97a);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x44c007+_0x3ff346(0x406)+_0x1229a1+_0x3ff346(0x3c4)+_0x231d7d+_0x3ff346(0x5c7)+_0xa9b5fe[_0x231d7d]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x231d7d+_0x3ff346(0xb42)+_0x7aab62+_0x3ff346(0x471);})[_0x412947(0x5fa)]('')+_0x412947(0xa89)+_0x3b66fe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x412947(0xc5e)]=_0x4a986f;if(window[_0x412947(0x8cc)])MathJax['typesetPromise']();if(_0x577229){const _0x159620=doc(db,'artifacts/'+appId+_0x412947(0xcd7),currentLiveGameId);document[_0x412947(0x64e)](_0x412947(0x79d))?.[_0x412947(0xa02)](_0x412947(0x4f9),async()=>{await updateDoc(_0x159620,{'status':'results'});}),document[_0x412947(0x64e)](_0x412947(0x680))?.[_0x412947(0xa02)]('click',()=>{openScratchpad(_0x1b702f,_0xa9b5fe);}),document['getElementById'](_0x412947(0x410))?.[_0x412947(0xa02)](_0x412947(0x4f9),async()=>{const _0x29aae5=_0x412947,_0x57886b=_0x3842cb[_0x29aae5(0x9a3)]+0x1,_0x337b81={};Object['keys'](_0x3842cb[_0x29aae5(0xc09)])[_0x29aae5(0x37d)](_0x30fd7e=>{const _0x5ea200=_0x29aae5;_0x337b81[_0x5ea200(0x4d6)+_0x30fd7e+_0x5ea200(0xad7)]=![],_0x337b81[_0x5ea200(0x4d6)+_0x30fd7e+'.lastAnswerIndex']=null;}),await updateDoc(_0x159620,{..._0x337b81,'status':'question','currentQuestionIndex':_0x57886b,'questionDisplayedAt':serverTimestamp()});}),document[_0x412947(0x64e)](_0x412947(0xdd1))?.[_0x412947(0xa02)](_0x412947(0x4f9),async()=>{const _0xbad825=_0x412947;await updateDoc(_0x159620,{'status':_0xbad825(0x2c3),'reviewQuestionIndex':0x0});});}}async function handleShowStudentRankings(){const _0x28be71=_0x354eeb,_0x139e4b=document[_0x28be71(0x8b9)](_0x28be71(0x7ac));_0x139e4b&&(_0x139e4b[_0x28be71(0xc5e)]=_0x28be71(0xd98));const _0xa2db49=document['querySelector']('#student-project-leaderboard-content\x20thead');_0xa2db49&&(_0xa2db49[_0x28be71(0xc5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x465b02=document[_0x28be71(0x64e)](_0x28be71(0x8f6));_0x465b02[_0x28be71(0x565)]['remove'](_0x28be71(0x76a)),document[_0x28be71(0x64e)](_0x28be71(0xc75))['onclick']=()=>_0x465b02[_0x28be71(0x565)][_0x28be71(0x21a)]('hidden');const _0x53a6d6=document[_0x28be71(0x64e)](_0x28be71(0x2bf)),_0x308272=document[_0x28be71(0x64e)](_0x28be71(0x8b4)),_0x5337f3=document[_0x28be71(0x64e)](_0x28be71(0x306)),_0x146ea3=document['getElementById'](_0x28be71(0x2c4));_0x53a6d6[_0x28be71(0xa5d)]=()=>{const _0x9a3068=_0x28be71;_0x53a6d6[_0x9a3068(0x565)][_0x9a3068(0x21a)]('active'),_0x308272[_0x9a3068(0x565)]['remove'](_0x9a3068(0x385)),_0x5337f3[_0x9a3068(0x565)][_0x9a3068(0xc9d)](_0x9a3068(0x76a)),_0x146ea3[_0x9a3068(0x565)][_0x9a3068(0x21a)](_0x9a3068(0x76a));},_0x308272[_0x28be71(0xa5d)]=()=>{const _0x1121b1=_0x28be71;_0x308272[_0x1121b1(0x565)][_0x1121b1(0x21a)]('active'),_0x53a6d6[_0x1121b1(0x565)][_0x1121b1(0xc9d)]('active'),_0x146ea3[_0x1121b1(0x565)][_0x1121b1(0xc9d)](_0x1121b1(0x76a)),_0x5337f3[_0x1121b1(0x565)][_0x1121b1(0x21a)](_0x1121b1(0x76a));};try{const _0x85ffb4=collection(db,'artifacts/'+appId+_0x28be71(0x253)+currentQuizData['id']+_0x28be71(0x6f1)),_0x2705ab=await getDocs(_0x85ffb4),_0x570152=_0x2705ab[_0x28be71(0x2e6)][_0x28be71(0x1fa)](_0x2e571e=>_0x2e571e['data']());renderQuizLeaderboard(_0x570152,currentQuizData,_0x28be71(0xd58));const _0x261635=collection(db,_0x28be71(0x53f)+appId+'/public/data/projects/'+currentQuizData[_0x28be71(0xd27)]+_0x28be71(0x2c7)),_0x586b85=await getDocs(_0x261635),_0x2cca52=_0x586b85['docs'][_0x28be71(0x1fa)](_0x23167d=>_0x23167d[_0x28be71(0xbb9)]());renderLeaderboard(_0x2cca52,_0x28be71(0xbe0));}catch(_0x293e7c){console[_0x28be71(0x894)](_0x28be71(0xbf7),_0x293e7c),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x5bef2d){const _0x5d0a93=_0x354eeb,_0x4a6ada=_0x5bef2d[_0x5d0a93(0x64f)],_0x3e42cb=_0x4a6ada[_0x5d0a93(0x524)][_0x5d0a93(0x4e5)],_0x5b6a53=currentQuizData[_0x5d0a93(0xc42)][_0x3e42cb];if(!userId){showMessage(_0x5d0a93(0x3ec));return;}try{const _0x2e3f67={..._0x5b6a53,'originalTopic':currentQuizData[_0x5d0a93(0xdb7)],'savedAt':serverTimestamp()},_0x522836=collection(db,_0x5d0a93(0x53f)+appId+_0x5d0a93(0x69c)+userId+'/questionBank');await addDoc(_0x522836,_0x2e3f67),showMessage(_0x5d0a93(0x7df)),_0x4a6ada['classList'][_0x5d0a93(0xc9d)](_0x5d0a93(0x9fc)),_0x4a6ada[_0x5d0a93(0x565)][_0x5d0a93(0x21a)]('text-green-600'),_0x4a6ada[_0x5d0a93(0x87b)]=!![];}catch(_0x3ce4a6){console['error'](_0x5d0a93(0x43e),_0x3ce4a6),showMessage(_0x5d0a93(0xc64));}}async function selectProjectAndGenerateBlueprintQuiz(_0x31d222,_0x4dcb1b=null,_0x1775de=null,_0x5cc3bb=![]){const _0x793c=_0x354eeb;cameFromBlueprint=!![];const _0x3137df=document[_0x793c(0x64e)](_0x793c(0xa28))?.[_0x793c(0x998)][_0x793c(0xdd7)]();let _0x2c18f8=null;if(_0x3137df){showMessage(_0x793c(0xc90));try{const _0x4bfa66=await fetchFileFromUrl(_0x3137df,_0x793c(0x8f8)),_0x460f95=await new Promise((_0x2d008e,_0x407a38)=>{const _0x580a1a=_0x793c,_0x182625=new FileReader();_0x182625[_0x580a1a(0x8b0)](_0x4bfa66),_0x182625['onload']=()=>_0x2d008e(_0x182625[_0x580a1a(0xb82)][_0x580a1a(0x816)](',')[0x1]),_0x182625[_0x580a1a(0x215)]=_0x407a38;});_0x2c18f8=[{'inlineData':{'mimeType':_0x4bfa66[_0x793c(0xc3f)],'data':_0x460f95}}],messageModal['classList'][_0x793c(0x21a)](_0x793c(0x76a));}catch(_0x54df9b){console[_0x793c(0x894)]('Could\x20not\x20fetch\x20reference\x20file:',_0x54df9b),showMessage(_0x793c(0xc0f));}}const _0x1935f5=document[_0x793c(0x64e)]('move-quiz-modal'),_0xf70a78=document[_0x793c(0x64e)](_0x793c(0x72f)),_0x1fce95=_0x1935f5['querySelector']('h3'),_0x114638=document[_0x793c(0x64e)](_0x793c(0xb29)),_0x16986b=document[_0x793c(0x64e)](_0x793c(0x7f8));_0x1fce95[_0x793c(0xd72)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x114638['textContent']=_0x793c(0x329),_0x114638[_0x793c(0x87b)]=!![];allProjects['length']===0x0?_0xf70a78[_0x793c(0xc5e)]=_0x793c(0x3c9):(_0xf70a78['innerHTML']=_0x793c(0x8e5)+allProjects[_0x793c(0x1fa)](_0x426323=>_0x793c(0x3e8)+_0x426323['id']+'\x22>'+_0x426323[_0x793c(0x7dc)]+'</option>')[_0x793c(0x5fa)](''),_0x114638[_0x793c(0x87b)]=![]);_0x1935f5[_0x793c(0x565)][_0x793c(0xc9d)](_0x793c(0x76a));const _0x437e8e=async()=>{const _0x565372=_0x793c,_0x3c6477=_0xf70a78[_0x565372(0x998)];if(!_0x3c6477){showMessage(_0x565372(0x4a9));return;}_0x1935f5['classList'][_0x565372(0x21a)](_0x565372(0x76a)),document[_0x565372(0x64e)](_0x565372(0x776))[_0x565372(0x565)]['add'](_0x565372(0x76a)),await loadProjectDetails(_0x3c6477),showView(_0x565372(0xaea)),handleGenerateQuizFromBlueprintTopic(_0x31d222,_0x4dcb1b,_0x3c6477,_0x1775de,_0x5cc3bb,_0x2c18f8),_0x12ab39();},_0x12ab39=()=>{const _0x58d5cd=_0x793c;_0x1fce95[_0x58d5cd(0xd72)]=_0x58d5cd(0xb95),_0x114638[_0x58d5cd(0xd72)]='ย้าย',_0x114638[_0x58d5cd(0xac0)](_0x58d5cd(0x4f9),_0x437e8e),_0x16986b[_0x58d5cd(0xac0)]('click',_0x12ab39),_0x114638[_0x58d5cd(0xa02)](_0x58d5cd(0x4f9),confirmMoveQuiz);};_0x114638[_0x793c(0xac0)](_0x793c(0x4f9),confirmMoveQuiz),_0x114638[_0x793c(0xa02)](_0x793c(0x4f9),_0x437e8e),_0x16986b['addEventListener'](_0x793c(0x4f9),_0x12ab39);}function listenForStarredQuizzes(){const _0x864eb5=_0x354eeb;if(!userId)return;const _0x370222=collection(db,'artifacts/'+appId+_0x864eb5(0x450)),_0x26d99f=query(_0x370222,where(_0x864eb5(0x4ad),'==',!![]));onSnapshot(_0x26d99f,_0x54848a=>{const _0x1a2809=_0x864eb5;starredQuizzes=_0x54848a['docs'][_0x1a2809(0x1fa)](_0x265342=>({'id':_0x265342['id'],..._0x265342[_0x1a2809(0xbb9)]()})),currentProjectId===_0x1a2809(0x2d4)?renderQuizzes():renderProjects();},_0x1f0a9f=>{const _0x3c6fef=_0x864eb5;console[_0x3c6fef(0x894)](_0x3c6fef(0x7a9),_0x1f0a9f);});}function listenForFileShortcuts(){const _0x4b96f5=_0x354eeb,_0x3c0f7c=doc(db,_0x4b96f5(0x5f3),'fileShortcutsConfig');onSnapshot(_0x3c0f7c,_0x4d06e6=>{const _0x4739da=_0x4b96f5;let _0x1381b2=[],_0x209655=[],_0x2cec97={};if(_0x4d06e6[_0x4739da(0x2c9)]()){const _0xd7b2e3=_0x4d06e6[_0x4739da(0xbb9)]();_0x1381b2=_0xd7b2e3[_0x4739da(0x8f4)]||[],_0x209655=_0xd7b2e3[_0x4739da(0x5b8)]||[],_0x2cec97=_0xd7b2e3[_0x4739da(0x268)]||{};}!_0x209655['find'](_0x4a3ce6=>_0x4a3ce6['id']===_0x4739da(0x885))&&_0x209655[_0x4739da(0x6e9)]({'id':_0x4739da(0x885),'name':_0x4739da(0x985),'isDefault':!![]}),!_0x1381b2[_0x4739da(0x52f)](_0x4e665d=>_0x4e665d['id']===_0x4739da(0x46d))&&_0x1381b2[_0x4739da(0x6e9)]({'id':_0x4739da(0x46d),'name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x1381b2[_0x4739da(0x52f)](_0x22d1b4=>_0x22d1b4['id']===_0x4739da(0xcf3))&&_0x1381b2[_0x4739da(0x6e9)]({'id':'file-default-2','name':_0x4739da(0xd6a),'url':'','isDefault':!![]}),fileShortcuts=_0x1381b2,fileShortcutTabs=_0x209655,fileShortcutOrder=_0x2cec97,renderFileShortcuts(),!document[_0x4739da(0x64e)](_0x4739da(0x932))[_0x4739da(0x565)][_0x4739da(0xa60)](_0x4739da(0x76a))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x21b429=_0x354eeb,_0x5da8d8=doc(db,_0x21b429(0x5f3),_0x21b429(0xdcb));try{await setDoc(_0x5da8d8,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x153bbb){console[_0x21b429(0x894)](_0x21b429(0x28b),_0x153bbb);}}function renderAdditionalFileShortcutsModal(){const _0x359bdc=_0x354eeb,_0x24e6b6=document['getElementById'](_0x359bdc(0x556)),_0x1daa55=document['getElementById'](_0x359bdc(0xb8a));if(!_0x24e6b6||!_0x1daa55)return;_0x24e6b6[_0x359bdc(0xc5e)]=fileShortcutTabs[_0x359bdc(0x1fa)](_0x3e8ac9=>{const _0x6e2831=_0x359bdc,_0x50bdbc=_0x3e8ac9['id']===activeFileShortcutTabId;return _0x6e2831(0xc7b)+_0x3e8ac9['id']+_0x6e2831(0x3fa)+(_0x50bdbc?_0x6e2831(0x5b2):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x6e2831(0xa8b)+_0x3e8ac9[_0x6e2831(0x799)]+_0x6e2831(0x226)+_0x3e8ac9[_0x6e2831(0x799)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3e8ac9[_0x6e2831(0x8e8)]?_0x6e2831(0xdbe)+_0x3e8ac9['id']+_0x6e2831(0x725):'')+_0x6e2831(0x432);})[_0x359bdc(0x5fa)]('');const _0x4d0c86=fileShortcutTabs['find'](_0x2ead2d=>_0x2ead2d['id']===activeFileShortcutTabId);let _0x40c870=_0x4d0c86?.['isDefault']?[...fileShortcuts]:fileShortcuts['filter'](_0x3d3918=>(_0x4d0c86?.['shortcutIds']||[])[_0x359bdc(0xcc5)](_0x3d3918['id']));const _0xa8de0e=fileShortcutOrder[activeFileShortcutTabId]||[];_0x40c870['sort']((_0xac2c96,_0x11d1db)=>{const _0x908bee=_0x359bdc,_0x266484=_0xa8de0e[_0x908bee(0xa98)](_0xac2c96['id']),_0x5b1320=_0xa8de0e['indexOf'](_0x11d1db['id']);return(_0x266484===-0x1?Infinity:_0x266484)-(_0x5b1320===-0x1?Infinity:_0x5b1320);}),_0x1daa55[_0x359bdc(0xc5e)]=_0x40c870['map'](_0x476a2c=>{const _0x966d2=_0x359bdc,_0x546906=_0x476a2c[_0x966d2(0x592)]?'📄':'🔗',_0x1eaee5=fileShortcutTabs['filter'](_0x2e007d=>!_0x2e007d[_0x966d2(0x8e8)]),_0x51b629=_0x4d0c86[_0x966d2(0x8e8)]&&_0x1eaee5['length']>0x0?_0x966d2(0x619)+_0x1eaee5['map'](_0x54d648=>_0x966d2(0x92b)+_0x476a2c['id']+_0x966d2(0xc12)+_0x54d648['id']+'\x22>'+_0x54d648[_0x966d2(0x799)]+_0x966d2(0xb59))[_0x966d2(0x5fa)]('')+_0x966d2(0x9de):'';return _0x966d2(0xb27)+_0x476a2c['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x546906+'\x20'+_0x476a2c['name']+_0x966d2(0x421)+_0x476a2c['id']+_0x966d2(0x83e)+_0x476a2c['id']+_0x966d2(0xcf7)+(!_0x476a2c[_0x966d2(0x8e8)]?_0x966d2(0xd7c)+_0x476a2c['id']+_0x966d2(0x637):'')+_0x966d2(0x494)+(!_0x4d0c86[_0x966d2(0x8e8)]?_0x966d2(0x456)+_0x476a2c['id']+_0x966d2(0xc7a):'')+_0x966d2(0x494)+_0x51b629+_0x966d2(0xa3c);})[_0x359bdc(0x5fa)]('')||_0x359bdc(0xd0c),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x1f4ce2=_0x354eeb;document[_0x1f4ce2(0x72d)](_0x1f4ce2(0x4fb))[_0x1f4ce2(0x37d)](_0x26f7ef=>{const _0x18c9df=_0x1f4ce2;_0x26f7ef[_0x18c9df(0xa5d)]=_0x4bd79a=>{const _0x197b5f=_0x18c9df;activeFileShortcutTabId=_0x4bd79a[_0x197b5f(0x64f)][_0x197b5f(0x524)]['tabId'],renderAdditionalFileShortcutsModal();},_0x26f7ef[_0x18c9df(0x55a)]=_0x3822c0=>{const _0x1fc1ab=_0x18c9df,_0x313c2b=_0x3822c0[_0x1fc1ab(0x64f)][_0x1fc1ab(0x8b9)]('.tab-name-input');_0x3822c0[_0x1fc1ab(0x64f)]['querySelector'](_0x1fc1ab(0xbce))[_0x1fc1ab(0x565)]['add'](_0x1fc1ab(0x76a)),_0x313c2b[_0x1fc1ab(0x565)][_0x1fc1ab(0xc9d)]('hidden'),_0x313c2b['focus'](),_0x313c2b[_0x1fc1ab(0x320)]();};}),document[_0x1f4ce2(0x72d)](_0x1f4ce2(0x484))[_0x1f4ce2(0x37d)](_0x54398e=>{const _0x37d3c9=_0x1f4ce2,_0x4efd81=()=>{const _0x443641=_0x421e,_0x14b285=_0x54398e['closest'](_0x443641(0x4fb))[_0x443641(0x524)][_0x443641(0x20d)],_0x5c0f2c=fileShortcutTabs[_0x443641(0x52f)](_0x4b35e1=>_0x4b35e1['id']===_0x14b285);_0x5c0f2c&&(_0x5c0f2c[_0x443641(0x799)]=_0x54398e['value'][_0x443641(0xdd7)]()||_0x5c0f2c['name'],saveFileShortcutConfig());};_0x54398e[_0x37d3c9(0xd4b)]=_0x4efd81,_0x54398e['onkeydown']=_0x5a02ec=>{const _0x45db98=_0x37d3c9;if(_0x5a02ec[_0x45db98(0xdc2)]===_0x45db98(0x313))_0x54398e[_0x45db98(0x790)]();};}),document[_0x1f4ce2(0x72d)]('.delete-file-shortcut-tab-btn')['forEach'](_0xdbcc1e=>_0xdbcc1e[_0x1f4ce2(0xa5d)]=_0x153d8f=>{const _0x43a660=_0x1f4ce2,_0x47b149=_0x153d8f[_0x43a660(0x64f)][_0x43a660(0x524)][_0x43a660(0x20d)];showConfirmation(_0x43a660(0xd9a),()=>{const _0x58db03=_0x43a660;fileShortcutTabs=fileShortcutTabs[_0x58db03(0xdc7)](_0x124b61=>_0x124b61['id']!==_0x47b149),delete fileShortcutOrder[_0x47b149];if(activeFileShortcutTabId===_0x47b149)activeFileShortcutTabId=_0x58db03(0x885);saveFileShortcutConfig();});}),document[_0x1f4ce2(0x72d)]('.move-file-shortcut-item')[_0x1f4ce2(0x37d)](_0x5265a7=>_0x5265a7['onclick']=_0x454569=>{const _0x363d4b=_0x1f4ce2;_0x454569['preventDefault']();const {shortcutId:_0x4d06c2,targetTabId:_0x2d9afc}=_0x454569[_0x363d4b(0x64f)]['dataset'],_0x1b441d=fileShortcutTabs[_0x363d4b(0x52f)](_0x3268de=>_0x3268de['id']===_0x2d9afc);_0x1b441d&&!_0x1b441d[_0x363d4b(0x94b)][_0x363d4b(0xcc5)](_0x4d06c2)&&(_0x1b441d[_0x363d4b(0x94b)][_0x363d4b(0xa95)](_0x4d06c2),saveFileShortcutConfig());}),document['querySelectorAll']('.remove-file-shortcut-from-tab-btn')[_0x1f4ce2(0x37d)](_0x538dae=>_0x538dae[_0x1f4ce2(0xa5d)]=_0x1c5c9e=>{const _0x1ef703=_0x1f4ce2,_0x544357=_0x1c5c9e[_0x1ef703(0x64f)][_0x1ef703(0x524)][_0x1ef703(0xd2e)],_0x1fdf10=fileShortcutTabs[_0x1ef703(0x52f)](_0x2cf8e3=>_0x2cf8e3['id']===activeFileShortcutTabId);_0x1fdf10&&!_0x1fdf10[_0x1ef703(0x8e8)]&&(_0x1fdf10[_0x1ef703(0x94b)]=_0x1fdf10[_0x1ef703(0x94b)][_0x1ef703(0xdc7)](_0x4a29eb=>_0x4a29eb!==_0x544357),saveFileShortcutConfig());}),document[_0x1f4ce2(0x72d)]('.move-file-shortcut-menu-btn')[_0x1f4ce2(0x37d)](_0x17bcaf=>_0x17bcaf[_0x1f4ce2(0xa5d)]=_0x58b263=>{const _0xee129f=_0x1f4ce2;_0x58b263['stopPropagation']();const _0x5d6825=_0x58b263[_0xee129f(0x64f)][_0xee129f(0xb99)];document['querySelectorAll'](_0xee129f(0x8d8))[_0xee129f(0x37d)](_0x1c07e2=>_0x1c07e2[_0xee129f(0x565)][_0xee129f(0x21a)](_0xee129f(0x76a))),_0x5d6825['classList'][_0xee129f(0xc9d)]('hidden');});const _0x2bb256=document[_0x1f4ce2(0x64e)](_0x1f4ce2(0xb8a));let _0x266a5a=null;_0x2bb256[_0x1f4ce2(0x372)]=_0x1526dd=>{const _0x357602=_0x1f4ce2;_0x266a5a=_0x1526dd[_0x357602(0xa8f)]['closest'](_0x357602(0x3c3));if(_0x266a5a)setTimeout(()=>_0x266a5a[_0x357602(0x565)]['add']('opacity-50'),0x0);},_0x2bb256['ondragend']=()=>{const _0x4be130=_0x1f4ce2;_0x266a5a&&(_0x266a5a[_0x4be130(0x565)][_0x4be130(0xc9d)](_0x4be130(0x993)),_0x266a5a=null);},_0x2bb256[_0x1f4ce2(0xa53)]=_0x5410dc=>{_0x5410dc['preventDefault']();},_0x2bb256[_0x1f4ce2(0x29d)]=_0x18e710=>{const _0xe911d6=_0x1f4ce2;_0x18e710[_0xe911d6(0x304)]();if(_0x266a5a){const _0x31fa3c=[..._0x2bb256[_0xe911d6(0x72d)](_0xe911d6(0xabc))][_0xe911d6(0xb6c)]((_0x3eecd8,_0xdf989a)=>{const _0x4142b2=_0xe911d6,_0x5f85a9=_0xdf989a[_0x4142b2(0x71b)](),_0x28435b=_0x18e710[_0x4142b2(0xbbf)]-_0x5f85a9[_0x4142b2(0xc10)]-_0x5f85a9[_0x4142b2(0x9f0)]/0x2;return _0x28435b<0x0&&_0x28435b>_0x3eecd8['offset']?{'offset':_0x28435b,'element':_0xdf989a}:_0x3eecd8;},{'offset':Number['NEGATIVE_INFINITY']})[_0xe911d6(0x685)];_0x31fa3c==null?_0x2bb256[_0xe911d6(0x2dd)](_0x266a5a):_0x2bb256[_0xe911d6(0xa2d)](_0x266a5a,_0x31fa3c);const _0x4e4167=[..._0x2bb256['querySelectorAll'](_0xe911d6(0x3c3))][_0xe911d6(0x1fa)](_0x168908=>_0x168908['dataset']['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x4e4167,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x30ba73=_0x354eeb,_0x1cd5a1=prompt(_0x30ba73(0x852),'แท็บใหม่');_0x1cd5a1&&_0x1cd5a1[_0x30ba73(0xdd7)]()&&(fileShortcutTabs['push']({'id':_0x30ba73(0xb53)+Date[_0x30ba73(0x274)](),'name':_0x1cd5a1[_0x30ba73(0xdd7)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x4cad7c=_0x354eeb,_0x1a49c3=document['getElementById'](_0x4cad7c(0x8d0)),_0x28dda2=document[_0x4cad7c(0x64e)](_0x4cad7c(0xb8a)),_0x4b2bff=document[_0x4cad7c(0x64e)]('file-shortcuts-loading-msg');if(_0x4b2bff)_0x4b2bff[_0x4cad7c(0x565)]['add'](_0x4cad7c(0x76a));if(!_0x1a49c3||!_0x28dda2)return;const _0x2695fc=fileShortcuts[_0x4cad7c(0xca0)](0x0,0x4),_0x3e5fce=fileShortcuts['slice'](0x4);_0x1a49c3[_0x4cad7c(0xc5e)]=_0x2695fc[_0x4cad7c(0x1fa)](_0x14ca9a=>{const _0x133744=_0x4cad7c,_0x4855f2=_0x14ca9a[_0x133744(0x592)]&&_0x14ca9a[_0x133744(0x592)][_0x133744(0xdd7)]()!=='',_0x1f7cf8=selectedFile&&selectedFile[_0x133744(0xd2e)]===_0x14ca9a['id'];let _0x4fc37d=_0x133744(0x857),_0x2dd725='🔗';if(_0x1f7cf8)_0x4fc37d=_0x133744(0x323),_0x2dd725=_0x133744(0xd68);else _0x4855f2&&(_0x4fc37d=_0x133744(0xc58),_0x2dd725='📄');const _0x3abe59=!_0x14ca9a['isDefault']?_0x133744(0xd7c)+_0x14ca9a['id']+_0x133744(0xcba):'';return _0x133744(0xc55)+_0x14ca9a['id']+_0x133744(0x276)+_0x4fc37d+_0x133744(0x9ac)+_0x2dd725+_0x133744(0x997)+_0x14ca9a[_0x133744(0x799)]+_0x133744(0x948)+_0x14ca9a['id']+_0x133744(0x3a4)+_0x3abe59+_0x133744(0x2cb);})[_0x4cad7c(0x5fa)](''),_0x3e5fce[_0x4cad7c(0x2ee)]>0x0&&(_0x1a49c3[_0x4cad7c(0xc5e)]+=_0x4cad7c(0xd55)),_0x3e5fce['length']>0x0?_0x28dda2['innerHTML']=_0x3e5fce['map'](_0x325c54=>_0x4cad7c(0x25b)+(_0x325c54[_0x4cad7c(0x592)]?'📄':'🔗')+'\x20'+_0x325c54[_0x4cad7c(0x799)]+_0x4cad7c(0x553)+_0x325c54['id']+_0x4cad7c(0x6b3)+_0x325c54['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x325c54[_0x4cad7c(0x8e8)]?'<button\x20data-id=\x22'+_0x325c54['id']+_0x4cad7c(0x637):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4cad7c(0x5fa)](''):_0x28dda2['innerHTML']=_0x4cad7c(0x73d);}function openFileShortcutEditor(_0x2facca=null){const _0x282a4e=_0x354eeb,_0x3c86af=document['getElementById'](_0x282a4e(0x491)),_0x1b68d9=document[_0x282a4e(0x64e)](_0x282a4e(0xa97)),_0x3d2eb2=document[_0x282a4e(0x64e)]('file-shortcut-id-input'),_0x39f016=document[_0x282a4e(0x64e)]('file-shortcut-name-input'),_0x3d9bb6=document[_0x282a4e(0x64e)](_0x282a4e(0x222));if(_0x2facca){const _0x5abbf3=fileShortcuts[_0x282a4e(0x52f)](_0x4d68a6=>_0x4d68a6['id']===_0x2facca);if(!_0x5abbf3)return;_0x1b68d9[_0x282a4e(0xd72)]='แก้ไขปุ่มลัดจากไฟล์',_0x3d2eb2[_0x282a4e(0x998)]=_0x5abbf3['id'],_0x39f016[_0x282a4e(0x998)]=_0x5abbf3[_0x282a4e(0x799)],_0x3d9bb6[_0x282a4e(0x998)]=_0x5abbf3[_0x282a4e(0x592)]||'';}else _0x1b68d9['textContent']=_0x282a4e(0x3e7),_0x3d2eb2['value']='',_0x39f016[_0x282a4e(0x998)]='',_0x3d9bb6[_0x282a4e(0x998)]='';_0x3c86af[_0x282a4e(0x565)][_0x282a4e(0xc9d)](_0x282a4e(0x76a));}async function saveFileShortcutChanges(){const _0x58f49d=_0x354eeb,_0x115d22=document['getElementById'](_0x58f49d(0x736))[_0x58f49d(0x998)],_0x552293=document['getElementById'](_0x58f49d(0x373))[_0x58f49d(0x998)][_0x58f49d(0xdd7)](),_0x35a257=document[_0x58f49d(0x64e)]('file-shortcut-url-input')[_0x58f49d(0x998)][_0x58f49d(0xdd7)]();if(!_0x552293){showMessage(_0x58f49d(0x6ef));return;}const _0x5712e8={'id':_0x115d22||_0x58f49d(0xba5)+Date[_0x58f49d(0x274)](),'name':_0x552293,'url':_0x35a257,'isDefault':_0x115d22['startsWith']('file-default-')};let _0x328c3c;_0x115d22?_0x328c3c=fileShortcuts[_0x58f49d(0x1fa)](_0x52ab99=>_0x52ab99['id']===_0x115d22?_0x5712e8:_0x52ab99):_0x328c3c=[...fileShortcuts,_0x5712e8];try{const _0x2ee0b9=doc(db,_0x58f49d(0x5f3),'fileShortcutsConfig');await setDoc(_0x2ee0b9,{'shortcuts':_0x328c3c},{'merge':!![]}),document[_0x58f49d(0x64e)]('file-shortcut-editor-modal')[_0x58f49d(0x565)][_0x58f49d(0x21a)](_0x58f49d(0x76a));}catch(_0x536441){console['error'](_0x58f49d(0x2e3),_0x536441),showMessage(_0x58f49d(0xc64));}}async function handleFileShortcutClick(_0x18b3b5){const _0x5883d3=_0x354eeb,_0x12e221=fileShortcuts['find'](_0x21335a=>_0x21335a['id']===_0x18b3b5);if(!_0x12e221)return;if(!_0x12e221[_0x5883d3(0x592)]||_0x12e221[_0x5883d3(0x592)][_0x5883d3(0xdd7)]()===''){openFileShortcutEditor(_0x18b3b5);return;}const _0x3d7fca=document[_0x5883d3(0x8b9)](_0x5883d3(0x9a8)+_0x18b3b5+'\x22]');if(_0x3d7fca){const _0xaaebe2=_0x3d7fca[_0x5883d3(0xc5e)];_0x3d7fca['innerHTML']=_0x5883d3(0x50d),_0x3d7fca['disabled']=!![];}document[_0x5883d3(0x72d)]('.file-shortcut-btn')[_0x5883d3(0x37d)](_0x5774af=>{const _0x2fa8a3=_0x5883d3;if(_0x5774af[_0x2fa8a3(0x524)]['id']!==_0x18b3b5)_0x5774af[_0x2fa8a3(0x565)][_0x2fa8a3(0x21a)](_0x2fa8a3(0x993),_0x2fa8a3(0xdb1));});try{const _0xb561eb=new URL(_0x12e221[_0x5883d3(0x592)])[_0x5883d3(0xcdc)],_0x3bf5a2=_0xb561eb[_0x5883d3(0xdc8)](_0xb561eb[_0x5883d3(0x5d8)]('/')+0x1)||(_0x12e221[_0x5883d3(0x592)][_0x5883d3(0xcc5)](_0x5883d3(0x42c))?_0x5883d3(0xa3b):_0x5883d3(0x9a4)),_0x2437b4=await fetchFileFromUrl(_0x12e221[_0x5883d3(0x592)],_0x3bf5a2);_0x2437b4[_0x5883d3(0xd2e)]=_0x18b3b5,selectedFile=_0x2437b4,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x5883d3(0x64e)](_0x5883d3(0x888))[_0x5883d3(0x2a7)]({'behavior':'smooth','block':_0x5883d3(0x8b1)});}catch(_0x4830b5){console[_0x5883d3(0x894)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x4830b5),showMessage(_0x5883d3(0x52c)+_0x4830b5[_0x5883d3(0x5b6)]),renderFileShortcuts();}finally{document['querySelectorAll'](_0x5883d3(0x58b))['forEach'](_0x5f5de5=>{const _0x205363=_0x5883d3;_0x5f5de5[_0x205363(0x565)]['remove']('opacity-50',_0x205363(0xdb1)),_0x5f5de5[_0x205363(0x87b)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x3aef28=_0x354eeb;if(allQuizzesGlobal['length']>0x0)return;console[_0x3aef28(0x4b0)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x3aef28(0x7da));try{const _0x2bf389=await getDocs(collection(db,_0x3aef28(0x53f)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2bf389[_0x3aef28(0x2e6)][_0x3aef28(0x1fa)](_0x5f14cd=>({'id':_0x5f14cd['id'],..._0x5f14cd['data']()})),console[_0x3aef28(0x4b0)](_0x3aef28(0xa23)+allQuizzesGlobal[_0x3aef28(0x2ee)]+_0x3aef28(0xc43)),messageModal['classList'][_0x3aef28(0x21a)]('hidden');}catch(_0xfe5530){console['error'](_0x3aef28(0x33c),_0xfe5530),messageModal[_0x3aef28(0x565)][_0x3aef28(0x21a)]('hidden');throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x384351=_0x354eeb;if(!currentQuizData||!currentQuizData[_0x384351(0xc42)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x315c8e=currentQuizData,_0x797988=window['open']('','_blank'),_0x145497=_0x3c9c15=>String['fromCharCode'](0x41+_0x3c9c15),_0x5e3c45=_0x384351(0xac9)+_0x315c8e[_0x384351(0xdb7)]+_0x384351(0x206)+_0x315c8e['topic']+_0x384351(0xb23)+_0x315c8e[_0x384351(0xc42)][_0x384351(0x1fa)]((_0x4a73ca,_0x2f692c)=>{const _0x4a9165=_0x384351;let _0xe27dc6='';const _0x156837=_0x4a73ca[_0x4a9165(0x4fd)]||_0x315c8e[_0x4a9165(0x6a2)];switch(_0x156837){case'multiple_choice':case _0x4a9165(0xa83):_0xe27dc6=_0x4a9165(0x366)+_0x4a73ca['options'][_0x4a9165(0x1fa)]((_0x431153,_0xe2c64d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x145497(_0xe2c64d)+'.\x20'+_0x431153+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4a9165(0x5fa)](_0x4a9165(0xb5f))+'</div>';break;case _0x4a9165(0x82f):_0xe27dc6=_0x4a9165(0x3b7);break;default:_0xe27dc6=_0x4a9165(0xb91);break;}return _0x4a9165(0x730)+(_0x2f692c+0x1)+_0x4a9165(0xbd6)+(_0x4a73ca[_0x4a9165(0xc59)]||_0x4a73ca[_0x4a9165(0x9f4)])+_0x4a9165(0xcfe)+(_0x4a73ca[_0x4a9165(0x9d9)]?_0x4a9165(0x56d)+_0x4a73ca[_0x4a9165(0x9d9)]+_0x4a9165(0x51a):'')+_0x4a9165(0xa84)+_0xe27dc6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x384351(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x797988['document'][_0x384351(0xd07)](_0x5e3c45),_0x797988[_0x384351(0x947)][_0x384351(0x901)](),_0x797988[_0x384351(0x503)]=function(){setTimeout(()=>{const _0x3b6b6a=_0x421e;_0x797988[_0x3b6b6a(0xc21)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xefc416=_0x354eeb;if(!currentQuizData||!currentQuizData[_0xefc416(0xc42)]){showMessage(_0xefc416(0x9d2));return;}const _0x18443a=currentQuizData,_0x3d0fea=window[_0xefc416(0x5cc)]('',_0xefc416(0x597)),_0x84bc4f=_0x3e2d06=>String['fromCharCode'](0x41+_0x3e2d06),_0x1205c8=_0xefc416(0x38c)+_0x18443a[_0xefc416(0xdb7)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18443a[_0xefc416(0xc42)][_0xefc416(0x1fa)]((_0x47b2ba,_0x25018f)=>{const _0x28edb0=_0xefc416;let _0x3d8419='';const _0x55dabb=_0x47b2ba[_0x28edb0(0x4fd)]||_0x18443a['quizType'];switch(_0x55dabb){case _0x28edb0(0xda2):case _0x28edb0(0xa83):_0x3d8419=_0x28edb0(0x773)+_0x47b2ba['options'][_0x28edb0(0x1fa)]((_0x2f5271,_0x16a217)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x84bc4f(_0x16a217)+'.\x20'+_0x2f5271+'</span>')[_0x28edb0(0x5fa)]('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x28edb0(0x82f):_0x3d8419=_0x28edb0(0xc9b);break;default:_0x3d8419='';break;}return _0x28edb0(0x84f)+_0x18443a[_0x28edb0(0xdb7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x25018f+0x1)+_0x28edb0(0x5e0)+(_0x47b2ba[_0x28edb0(0xc59)]||_0x47b2ba[_0x28edb0(0x9f4)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x47b2ba[_0x28edb0(0x9d9)]?_0x28edb0(0x567)+_0x47b2ba['imageCode']+'</div>':'')+_0x28edb0(0xa84)+_0x3d8419+_0x28edb0(0x980);})[_0xefc416(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3d0fea[_0xefc416(0x947)][_0xefc416(0xd07)](_0x1205c8),_0x3d0fea[_0xefc416(0x947)][_0xefc416(0x901)](),_0x3d0fea[_0xefc416(0x503)]=function(){setTimeout(()=>{const _0x192ee2=_0x421e;_0x3d0fea[_0x192ee2(0xc21)]();},0x5dc);};}async function handleToggleStarQuiz(_0x36ed7e){const _0x2b631d=_0x354eeb,_0x58e81e=doc(db,_0x2b631d(0x53f)+appId+_0x2b631d(0x450),_0x36ed7e);try{const _0x32eca7=await getDoc(_0x58e81e);if(_0x32eca7[_0x2b631d(0x2c9)]()){const _0x3fc321=_0x32eca7[_0x2b631d(0xbb9)]()[_0x2b631d(0x4ad)]||![];await updateDoc(_0x58e81e,{'isStarred':!_0x3fc321});}}catch(_0x12ff87){console[_0x2b631d(0x894)]('Error\x20toggling\x20star\x20status:',_0x12ff87),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x5e2308=_0x354eeb,_0xdec208=document[_0x5e2308(0x64e)](_0x5e2308(0x905));_0xdec208[_0x5e2308(0xc5e)]=_0x5e2308(0x7fb);try{const _0x420639=collection(db,'artifacts/'+appId+_0x5e2308(0x69c)+userId+_0x5e2308(0x744)),_0x5de3a3=query(_0x420639),_0x301e8b=await getDocs(_0x5de3a3);if(_0x301e8b['empty']){_0xdec208[_0x5e2308(0xc5e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x1e9118=_0x301e8b[_0x5e2308(0x2e6)][_0x5e2308(0x1fa)](_0x121a65=>{const _0x3a01d9=_0x5e2308,_0x41edf2=_0x121a65[_0x3a01d9(0xbb9)](),_0x314974=_0x121a65['id'];return _0x3a01d9(0x75f)+JSON[_0x3a01d9(0xb38)](_0x41edf2)+_0x3a01d9(0x8ec)+(_0x41edf2[_0x3a01d9(0x9f4)]||_0x41edf2[_0x3a01d9(0xc59)])+_0x3a01d9(0xac6)+_0x41edf2['originalTopic']+_0x3a01d9(0x604);})[_0x5e2308(0x5fa)]('');_0xdec208[_0x5e2308(0xc5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x1e9118+_0x5e2308(0xaab),document[_0x5e2308(0x64e)](_0x5e2308(0xb49))['addEventListener'](_0x5e2308(0x4f9),createQuizFromBank);}catch(_0x9ab439){console[_0x5e2308(0x894)](_0x5e2308(0x759),_0x9ab439),_0xdec208[_0x5e2308(0xc5e)]=_0x5e2308(0x723);}}async function handleExportLessonToPDF(){const _0x15ad20=_0x354eeb,_0x3112e3=document[_0x15ad20(0x64e)](_0x15ad20(0x566)),_0x2b2728=document['getElementById'](_0x15ad20(0xda9))[_0x15ad20(0xd72)]||'บทเรียน';if(!_0x3112e3){showMessage(_0x15ad20(0xda3));return;}const _0xf9419e=window[_0x15ad20(0x5cc)]('',_0x15ad20(0x597)),_0xa87c62=_0x15ad20(0x516)+_0x2b2728+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x2b2728+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3112e3[_0x15ad20(0xc5e)]+_0x15ad20(0xbad);_0xf9419e[_0x15ad20(0x947)][_0x15ad20(0xd07)](_0xa87c62),_0xf9419e['document']['close'](),_0xf9419e[_0x15ad20(0x503)]=function(){setTimeout(()=>{const _0x21bfb2=_0x421e;_0xf9419e[_0x21bfb2(0xc21)]();},0x7d0);};}function showAdminLiveQuestionView(_0x373436,_0x5f0c93,_0x52a572){const _0xd25892=_0x354eeb,_0x3704c2=_0x373436['questionType']||currentQuizData[_0xd25892(0x6a2)];let _0x23d3ff='';if(_0x3704c2===_0xd25892(0xda2)||_0x3704c2===_0xd25892(0x82f)){const _0x5842b9=_0x3704c2===_0xd25892(0x82f)?[_0xd25892(0xb6f),_0xd25892(0x94c)]:_0x373436[_0xd25892(0x3e0)],_0x57b089=_0x3704c2===_0xd25892(0x82f)?_0x373436[_0xd25892(0x7e0)]?0x0:0x1:_0x373436[_0xd25892(0x5a0)];_0x23d3ff=_0x5842b9[_0xd25892(0x1fa)]((_0x344cd0,_0x4268d9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x4268d9===_0x57b089)+_0xd25892(0x628)+_0x344cd0+_0xd25892(0x2cb))[_0xd25892(0x5fa)]('');}else{if(_0x3704c2===_0xd25892(0xc67)){const _0x15f86f=_0x373436[_0xd25892(0x589)]||[];_0x23d3ff=_0x15f86f['map'](_0x4cea1e=>_0xd25892(0x7cb)+(_0x4cea1e===_0x373436[_0xd25892(0x73a)])+_0xd25892(0x628)+_0x4cea1e+_0xd25892(0x2cb))['join']('');}}const _0x42d8a7=_0x373436[_0xd25892(0xc59)]||_0x373436['questionText'],_0x2aeb26=_0xd25892(0xb3e)+(_0x5f0c93+0x1)+_0xd25892(0x865)+_0x52a572+_0xd25892(0x88c)+currentLiveGamePin+_0xd25892(0x69a)+_0x42d8a7+_0xd25892(0xba2)+_0x23d3ff+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xd25892(0xc5e)]=_0x2aeb26,window[_0xd25892(0x8cc)]&&MathJax[_0xd25892(0xacc)]&&MathJax['typesetPromise']([liveGameView]),document[_0xd25892(0x64e)]('reveal-answer-btn')[_0xd25892(0xa02)]('click',()=>revealAnswerForAdmin(_0x5f0c93,_0x52a572)),document[_0xd25892(0x64e)](_0xd25892(0x9af))[_0xd25892(0xa02)](_0xd25892(0x4f9),async()=>{const _0x472270=_0xd25892;showConfirmation(_0x472270(0x4bf),async()=>{const _0x42f6dc=_0x472270,_0x3f1829=doc(db,_0x42f6dc(0x53f)+appId+_0x42f6dc(0xcdb),currentLiveGameId);await updateDoc(_0x3f1829,{'status':_0x42f6dc(0x6de)});});}),document['getElementById'](_0xd25892(0xd83))[_0xd25892(0xa02)](_0xd25892(0x4f9),()=>{const _0xc9ef9f=_0xd25892;document[_0xc9ef9f(0x64e)](_0xc9ef9f(0x7bb))[_0xc9ef9f(0x565)][_0xc9ef9f(0xc97)](_0xc9ef9f(0x76a));});}function promptForProjectBeforeGenerating(_0x354af3){const _0x48cce6=_0x354eeb,_0xa68dcb=document['getElementById']('move-quiz-modal'),_0x15bcdc=document[_0x48cce6(0x64e)](_0x48cce6(0x72f)),_0x574bb2=_0xa68dcb[_0x48cce6(0x8b9)]('h3'),_0x258287=document[_0x48cce6(0x64e)](_0x48cce6(0xb29)),_0x1dc94c=document['getElementById'](_0x48cce6(0x7f8));_0x574bb2['textContent']=_0x48cce6(0x26c),_0x258287[_0x48cce6(0xd72)]='เลือกและเริ่มสร้าง',_0x258287[_0x48cce6(0x87b)]=!![];allProjects[_0x48cce6(0x2ee)]===0x0?_0x15bcdc['innerHTML']=_0x48cce6(0x3c9):(_0x15bcdc['innerHTML']=_0x48cce6(0x8e5)+allProjects[_0x48cce6(0x1fa)](_0xd0a86=>_0x48cce6(0x3e8)+_0xd0a86['id']+'\x22>'+_0xd0a86[_0x48cce6(0x7dc)]+_0x48cce6(0x2ea))[_0x48cce6(0x5fa)](''),_0x258287[_0x48cce6(0x87b)]=![]);_0xa68dcb[_0x48cce6(0x565)][_0x48cce6(0xc9d)](_0x48cce6(0x76a));const _0x3e3bb2=async()=>{const _0x32f5c6=_0x48cce6,_0x6401fd=_0x15bcdc[_0x32f5c6(0x998)];if(!_0x6401fd){showMessage(_0x32f5c6(0x4a9));return;}_0xa68dcb[_0x32f5c6(0x565)][_0x32f5c6(0x21a)](_0x32f5c6(0x76a)),await loadProjectDetails(_0x6401fd),showView(_0x32f5c6(0xaea)),handleGenerateQuizFromBlueprintTopic(_0x354af3),_0x5e04b7();},_0x5e04b7=()=>{const _0x2e627e=_0x48cce6;_0x574bb2[_0x2e627e(0xd72)]=_0x2e627e(0xb95),_0x258287['textContent']=_0x2e627e(0x2df),_0x258287[_0x2e627e(0xac0)](_0x2e627e(0x4f9),_0x3e3bb2),_0x1dc94c[_0x2e627e(0xac0)](_0x2e627e(0x4f9),_0x5e04b7),_0x258287['addEventListener'](_0x2e627e(0x4f9),confirmMoveQuiz);};_0x258287[_0x48cce6(0xac0)](_0x48cce6(0x4f9),confirmMoveQuiz),_0x258287[_0x48cce6(0xa02)]('click',_0x3e3bb2),_0x1dc94c[_0x48cce6(0xa02)](_0x48cce6(0x4f9),_0x5e04b7);}function showStudentLiveQuestionView(_0x2e85b8,_0x2ec4ae,_0x4d5b61){const _0x388383=_0x354eeb,_0x184f2c=_0x2e85b8[_0x388383(0x4fd)]||currentQuizData[_0x388383(0x6a2)];let _0x411d16='';if(_0x184f2c===_0x388383(0xda2)||_0x184f2c==='true_false'){const _0x5337b1=_0x184f2c==='true_false'?['ใช่',_0x388383(0x94c)]:_0x2e85b8[_0x388383(0x3e0)];_0x411d16=_0x5337b1[_0x388383(0x1fa)]((_0xded04b,_0x5cba12)=>_0x388383(0x674)+_0x5cba12+_0x388383(0x969)+_0xded04b+_0x388383(0x61c))[_0x388383(0x5fa)]('');}else{if(_0x184f2c===_0x388383(0xc67)){const _0x33f0f8=_0x2e85b8[_0x388383(0x589)]||[];_0x411d16=_0x33f0f8[_0x388383(0x1fa)]((_0x2d225b,_0x464e6b)=>_0x388383(0x674)+_0x464e6b+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d225b+_0x388383(0x61c))[_0x388383(0x5fa)]('');}else _0x184f2c==='short_answer'&&(_0x411d16=_0x388383(0xc5d));}const _0x505474=_0x2e85b8[_0x388383(0xc59)]||_0x2e85b8[_0x388383(0x9f4)],_0x1083ef=_0x388383(0x32c)+(_0x2ec4ae+0x1)+_0x388383(0x865)+_0x4d5b61+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x505474+_0x388383(0xa27)+_0x411d16+_0x388383(0x41b);liveGameView[_0x388383(0xc5e)]=_0x1083ef;window[_0x388383(0x8cc)]&&MathJax[_0x388383(0xacc)]&&MathJax[_0x388383(0xacc)]([liveGameView]);const _0x34001c=document[_0x388383(0x64e)](_0x388383(0x48c));_0x34001c&&_0x34001c[_0x388383(0xa02)](_0x388383(0x4f9),()=>{const _0x18bb71=_0x388383,_0x3f3a02=document[_0x18bb71(0x64e)]('live-short-answer-input')[_0x18bb71(0x998)];handleLiveAnswer(_0x3f3a02,_0x2e85b8);}),document[_0x388383(0x64e)](_0x388383(0x983))[_0x388383(0xa02)](_0x388383(0x4f9),_0x3c5169=>{const _0x800b5f=_0x388383,_0x21103c=_0x3c5169[_0x800b5f(0xa8f)][_0x800b5f(0x717)]('.live-answer-btn');if(_0x21103c){const _0x2605b5=parseInt(_0x21103c[_0x800b5f(0x524)][_0x800b5f(0x4e5)]);handleLiveAnswer(_0x2605b5,_0x2e85b8);}});}function listenForBlueprintShortcuts(){const _0x42fb10=_0x354eeb,_0x2af4af=doc(db,_0x42fb10(0x5f3),_0x42fb10(0xa9f));onSnapshot(_0x2af4af,_0x11b0f3=>{const _0x3201ae=_0x42fb10;let _0x24379f=[],_0x18e06a=[],_0x2f9a4a={};if(_0x11b0f3[_0x3201ae(0x2c9)]()){const _0xe3f1f3=_0x11b0f3[_0x3201ae(0xbb9)]();_0x24379f=_0xe3f1f3[_0x3201ae(0x612)]||[],_0x18e06a=_0xe3f1f3['shortcutTabs']||[],_0x2f9a4a=_0xe3f1f3[_0x3201ae(0x498)]||{};}!_0x18e06a[_0x3201ae(0x52f)](_0x4d0ea5=>_0x4d0ea5['id']==='all')&&_0x18e06a[_0x3201ae(0x6e9)]({'id':'all','name':_0x3201ae(0x8fe),'isDefault':!![]}),!_0x24379f['find'](_0x26d10a=>_0x26d10a['id']===_0x3201ae(0x4de))&&_0x24379f[_0x3201ae(0x6e9)]({'id':'default-1','name':_0x3201ae(0x745),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x24379f[_0x3201ae(0x52f)](_0x5a1556=>_0x5a1556['id']==='default-2')&&_0x24379f[_0x3201ae(0x6e9)]({'id':_0x3201ae(0x66f),'name':_0x3201ae(0xcc1),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x24379f,shortcutTabs=_0x18e06a,shortcutOrder=_0x2f9a4a,renderBlueprintShortcuts(),!document[_0x3201ae(0x64e)](_0x3201ae(0xbae))[_0x3201ae(0x565)]['contains'](_0x3201ae(0x76a))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0xcb8f9=_0x354eeb,_0x5e9ca1=document[_0xcb8f9(0x64e)](_0xcb8f9(0x251)),_0x399d96=document[_0xcb8f9(0x64e)](_0xcb8f9(0xd44));if(!_0x5e9ca1||!_0x399d96)return;_0x5e9ca1[_0xcb8f9(0xc5e)]=shortcutTabs[_0xcb8f9(0x1fa)](_0x2dfbf1=>{const _0xa37ac0=_0xcb8f9,_0x14174b=_0x2dfbf1['id']===activeShortcutTabId,_0x1b41c6='border-indigo-500\x20text-indigo-600',_0x355a23='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0xa37ac0(0x8a4)+_0x2dfbf1['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x14174b?_0x1b41c6:_0x355a23)+_0xa37ac0(0xa78)+_0x2dfbf1[_0xa37ac0(0x799)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x2dfbf1[_0xa37ac0(0x799)]+_0xa37ac0(0xc36)+(!_0x2dfbf1['isDefault']?_0xa37ac0(0x252)+_0x2dfbf1['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0xa37ac0(0x2cb);})[_0xcb8f9(0x5fa)]('');const _0x42c7fd=shortcutTabs[_0xcb8f9(0x52f)](_0x46d553=>_0x46d553['id']===activeShortcutTabId);let _0x45277e=[];if(_0x42c7fd){if(_0x42c7fd[_0xcb8f9(0x8e8)])_0x45277e=[...blueprintShortcuts];else{const _0x1a0805=_0x42c7fd['shortcutIds']||[];_0x45277e=blueprintShortcuts[_0xcb8f9(0xdc7)](_0x2cebff=>_0x1a0805[_0xcb8f9(0xcc5)](_0x2cebff['id']));}}const _0x191ea8=shortcutOrder[activeShortcutTabId]||[];_0x45277e[_0xcb8f9(0x705)]((_0x3db97f,_0x47220b)=>{const _0x4402f2=_0xcb8f9,_0x5bb980=_0x191ea8[_0x4402f2(0xa98)](_0x3db97f['id']),_0x23694d=_0x191ea8[_0x4402f2(0xa98)](_0x47220b['id']);if(_0x5bb980===-0x1)return 0x1;if(_0x23694d===-0x1)return-0x1;return _0x5bb980-_0x23694d;}),_0x399d96[_0xcb8f9(0xc5e)]=_0x45277e[_0xcb8f9(0x2ee)]>0x0?_0x45277e[_0xcb8f9(0x1fa)](_0x395dca=>{const _0x504c01=_0xcb8f9;let _0xbb2f4f='🧩';if(_0x395dca[_0x504c01(0x952)]&&_0x395dca['referenceUrl'])_0xbb2f4f='📗';else{if(_0x395dca[_0x504c01(0x952)])_0xbb2f4f='📘';}const _0x327ca1=shortcutTabs['filter'](_0x4442a7=>!_0x4442a7[_0x504c01(0x8e8)]),_0x150745=_0x42c7fd[_0x504c01(0x8e8)]&&_0x327ca1[_0x504c01(0x2ee)]>0x0?_0x504c01(0xa1b)+_0x327ca1['map'](_0x466c4b=>_0x504c01(0x54d)+_0x395dca['id']+'\x22\x20data-target-tab-id=\x22'+_0x466c4b['id']+'\x22>'+_0x466c4b['name']+_0x504c01(0xd7a))[_0x504c01(0x5fa)]('')+_0x504c01(0x4be):'';return _0x504c01(0x5cd)+_0x395dca['id']+_0x504c01(0xaf0)+_0xbb2f4f+'\x20'+_0x395dca[_0x504c01(0x799)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x395dca['id']+_0x504c01(0x413)+_0x395dca['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x395dca[_0x504c01(0x8e8)]?_0x504c01(0xd7c)+_0x395dca['id']+_0x504c01(0x45d):'')+_0x504c01(0x5bd)+(!_0x42c7fd[_0x504c01(0x8e8)]?_0x504c01(0x456)+_0x395dca['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x504c01(0x5bd)+_0x150745+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xcb8f9(0x5fa)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x2eceba=_0x354eeb;document[_0x2eceba(0x72d)](_0x2eceba(0x7e9))[_0x2eceba(0x37d)](_0x166511=>{const _0x375aa4=_0x2eceba;_0x166511[_0x375aa4(0xa02)](_0x375aa4(0x4f9),_0x105d9e=>{const _0x531fa1=_0x375aa4;activeShortcutTabId=_0x105d9e[_0x531fa1(0x64f)][_0x531fa1(0x524)]['tabId'],renderAdditionalShortcutsModal();}),_0x166511[_0x375aa4(0xa02)](_0x375aa4(0x734),_0x3a0bb2=>{const _0xf4cd20=_0x375aa4,_0x52c5c5=_0x3a0bb2['currentTarget'];_0x52c5c5[_0xf4cd20(0x8b9)](_0xf4cd20(0xbce))[_0xf4cd20(0x565)][_0xf4cd20(0x21a)](_0xf4cd20(0x76a));const _0x493a48=_0x52c5c5[_0xf4cd20(0x8b9)](_0xf4cd20(0xc6a));_0x493a48[_0xf4cd20(0x565)][_0xf4cd20(0xc9d)]('hidden'),_0x493a48[_0xf4cd20(0x836)](),_0x493a48[_0xf4cd20(0x320)]();});}),document[_0x2eceba(0x72d)](_0x2eceba(0xc6a))[_0x2eceba(0x37d)](_0x26a530=>{const _0x4bbc11=_0x2eceba,_0x4b042e=()=>{const _0x886ab4=_0x421e,_0x405571=_0x26a530[_0x886ab4(0x717)](_0x886ab4(0x7e9))['dataset'][_0x886ab4(0x20d)];handleRenameShortcutTab(_0x405571,_0x26a530[_0x886ab4(0x998)]);};_0x26a530[_0x4bbc11(0xa02)](_0x4bbc11(0x790),_0x4b042e),_0x26a530[_0x4bbc11(0xa02)](_0x4bbc11(0xa79),_0x6cb3db=>{const _0x11921e=_0x4bbc11;if(_0x6cb3db[_0x11921e(0xdc2)]===_0x11921e(0x313))_0x26a530['blur']();});}),document[_0x2eceba(0x72d)](_0x2eceba(0x8a2))[_0x2eceba(0x37d)](_0x4d04ef=>{const _0x2fed0b=_0x2eceba;_0x4d04ef[_0x2fed0b(0xa02)](_0x2fed0b(0x4f9),_0x2896f3=>handleDeleteShortcutTab(_0x2896f3[_0x2fed0b(0x64f)][_0x2fed0b(0x524)][_0x2fed0b(0x20d)]));}),document[_0x2eceba(0x72d)](_0x2eceba(0x594))[_0x2eceba(0x37d)](_0x1f7780=>{const _0x2e72ce=_0x2eceba;_0x1f7780[_0x2e72ce(0xa02)](_0x2e72ce(0x4f9),_0x12b58d=>{const _0x28a331=_0x2e72ce;_0x12b58d[_0x28a331(0x304)]();const {shortcutId:_0x5c8710,targetTabId:_0x18d48a}=_0x12b58d['currentTarget'][_0x28a331(0x524)];handleMoveShortcutToTab(_0x5c8710,_0x18d48a);});}),document['querySelectorAll']('.remove-shortcut-from-tab-btn')[_0x2eceba(0x37d)](_0x5b78c6=>{const _0x3539dd=_0x2eceba;_0x5b78c6[_0x3539dd(0xa02)](_0x3539dd(0x4f9),_0x38a7e4=>{const _0x73e400=_0x3539dd;handleRemoveShortcutFromTab(_0x38a7e4['currentTarget'][_0x73e400(0x524)][_0x73e400(0xd2e)],activeShortcutTabId);});});const _0x363e2e=document['getElementById'](_0x2eceba(0xd44));_0x363e2e[_0x2eceba(0x72d)]('.use-hidden-shortcut-btn')[_0x2eceba(0x37d)](_0x548305=>{const _0x219a66=_0x2eceba;_0x548305[_0x219a66(0xa02)]('click',()=>{const _0x20594b=_0x219a66;document[_0x20594b(0x64e)](_0x20594b(0xbae))['classList']['add']('hidden'),handleShortcutClick(_0x548305[_0x20594b(0x524)]['id']);});});let _0x5439f8=null;_0x363e2e[_0x2eceba(0xa02)](_0x2eceba(0xcef),_0xbdaf77=>{const _0x499803=_0x2eceba;_0x5439f8=_0xbdaf77[_0x499803(0xa8f)][_0x499803(0x717)]('.shortcut-list-item'),_0x5439f8&&setTimeout(()=>_0x5439f8[_0x499803(0x565)][_0x499803(0x21a)](_0x499803(0x993)),0x0);}),_0x363e2e[_0x2eceba(0xa02)](_0x2eceba(0x8fb),()=>{_0x5439f8&&(_0x5439f8['classList']['remove']('opacity-50'),_0x5439f8=null);}),_0x363e2e[_0x2eceba(0xa02)](_0x2eceba(0xab5),_0x450ae6=>{const _0x2ff448=_0x2eceba;_0x450ae6[_0x2ff448(0x304)]();const _0x3e7db0=[..._0x363e2e[_0x2ff448(0x72d)](_0x2ff448(0xabc))][_0x2ff448(0xb6c)]((_0x55121d,_0xa9eb03)=>{const _0x40652d=_0x2ff448,_0x55f837=_0xa9eb03[_0x40652d(0x71b)](),_0x40ccca=_0x450ae6[_0x40652d(0xbbf)]-_0x55f837['top']-_0x55f837[_0x40652d(0x9f0)]/0x2;return _0x40ccca<0x0&&_0x40ccca>_0x55121d['offset']?{'offset':_0x40ccca,'element':_0xa9eb03}:_0x55121d;},{'offset':Number['NEGATIVE_INFINITY']})[_0x2ff448(0x685)];_0x3e7db0==null?_0x363e2e[_0x2ff448(0x2dd)](_0x5439f8):_0x363e2e[_0x2ff448(0xa2d)](_0x5439f8,_0x3e7db0);}),_0x363e2e['addEventListener'](_0x2eceba(0x259),_0x499d48=>{const _0x144cd6=_0x2eceba;_0x499d48[_0x144cd6(0x304)]();if(_0x5439f8){const _0x3bf5b5=[..._0x363e2e['querySelectorAll']('.shortcut-list-item')]['map'](_0x5f28ab=>_0x5f28ab['dataset'][_0x144cd6(0xd2e)]);handleShortcutOrderChange(activeShortcutTabId,_0x3bf5b5);}}),document['querySelectorAll'](_0x2eceba(0x708))[_0x2eceba(0x37d)](_0x8abc6f=>{_0x8abc6f['addEventListener']('click',_0x511fff=>{const _0x321946=_0x421e;_0x511fff[_0x321946(0x5c4)]();const _0x422c83=_0x511fff['currentTarget']['nextElementSibling'],_0xf368eb=_0x422c83[_0x321946(0x565)][_0x321946(0xa60)]('hidden');document['querySelectorAll'](_0x321946(0x29c))[_0x321946(0x37d)](_0x178661=>_0x178661[_0x321946(0x565)][_0x321946(0x21a)](_0x321946(0x76a))),_0xf368eb&&_0x422c83[_0x321946(0x565)]['remove'](_0x321946(0x76a));});});}document['addEventListener']('click',_0x126487=>{const _0xc19f92=_0x354eeb;!_0x126487[_0xc19f92(0xa8f)][_0xc19f92(0x717)](_0xc19f92(0xc7d))&&document['querySelectorAll']('.move-shortcut-dropdown')['forEach'](_0x421a21=>_0x421a21['classList'][_0xc19f92(0x21a)](_0xc19f92(0x76a)));});async function saveShortcutConfig(){const _0x2240d9=_0x354eeb,_0x2879d0=doc(db,_0x2240d9(0x5f3),_0x2240d9(0xa9f));try{await setDoc(_0x2879d0,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x4e476b){console['error'](_0x2240d9(0x870),_0x4e476b);}}async function handleAddShortcutTab(){const _0xda3797=_0x354eeb,_0x2d46cc=prompt(_0xda3797(0x852),'แท็บใหม่');if(!_0x2d46cc||_0x2d46cc[_0xda3797(0xdd7)]()==='')return;shortcutTabs[_0xda3797(0xa95)]({'id':'tab_'+Date['now'](),'name':_0x2d46cc[_0xda3797(0xdd7)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x225d4d,_0x40176f){const _0x49c95c=_0x354eeb,_0x7b7e32=shortcutTabs['find'](_0x4aea35=>_0x4aea35['id']===_0x225d4d);_0x7b7e32&&_0x40176f['trim']()!==''&&(_0x7b7e32['name']=_0x40176f[_0x49c95c(0xdd7)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4b7a96){const _0xcedf36=_0x354eeb,_0xe819bd=shortcutTabs[_0xcedf36(0x52f)](_0x7d3dc9=>_0x7d3dc9['id']===_0x4b7a96);_0xe819bd&&!_0xe819bd[_0xcedf36(0x8e8)]&&showConfirmation(_0xcedf36(0xd25)+_0xe819bd[_0xcedf36(0x799)]+_0xcedf36(0xd15),async()=>{shortcutTabs=shortcutTabs['filter'](_0x20ef2f=>_0x20ef2f['id']!==_0x4b7a96),delete shortcutOrder[_0x4b7a96];if(activeShortcutTabId===_0x4b7a96)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x225bff,_0x407f28){const _0x11dd68=_0x354eeb,_0x451dc9=shortcutTabs[_0x11dd68(0x52f)](_0x250704=>_0x250704['id']===_0x407f28);_0x451dc9&&!_0x451dc9['shortcutIds'][_0x11dd68(0xcc5)](_0x225bff)&&(_0x451dc9['shortcutIds']['push'](_0x225bff),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x5c26f2,_0x14538d){const _0x3c4183=_0x354eeb,_0xfc9d89=shortcutTabs[_0x3c4183(0x52f)](_0x4fca86=>_0x4fca86['id']===_0x14538d);_0xfc9d89&&!_0xfc9d89[_0x3c4183(0x8e8)]&&(_0xfc9d89['shortcutIds']=_0xfc9d89[_0x3c4183(0x94b)][_0x3c4183(0xdc7)](_0x64f351=>_0x64f351!==_0x5c26f2),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x1731ff,_0x34a10e){shortcutOrder[_0x1731ff]=_0x34a10e,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x37612f=_0x354eeb,_0x50f566=document['getElementById']('blueprint-shortcut-container'),_0x533774=document[_0x37612f(0x64e)](_0x37612f(0xd44)),_0x52dfd2=document[_0x37612f(0x64e)](_0x37612f(0x238));_0x52dfd2&&_0x52dfd2[_0x37612f(0x565)][_0x37612f(0x21a)](_0x37612f(0x76a));if(!_0x50f566||!_0x533774)return;const _0x31d7b4=blueprintShortcuts[_0x37612f(0xca0)](0x0,0x4),_0x8f6a63=blueprintShortcuts[_0x37612f(0xca0)](0x4);_0x50f566[_0x37612f(0xc5e)]=_0x31d7b4[_0x37612f(0x1fa)](_0x4df727=>{const _0x13b5fc=_0x37612f;let _0x4a5b16='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x4eb6af='🧩';if(_0x4df727[_0x13b5fc(0x952)]&&_0x4df727[_0x13b5fc(0x748)])_0x4a5b16=_0x13b5fc(0x74f),_0x4eb6af='📗';else _0x4df727[_0x13b5fc(0x952)]&&(_0x4a5b16=_0x13b5fc(0xc58),_0x4eb6af='📘');const _0x432bb5=!_0x4df727[_0x13b5fc(0x8e8)]?_0x13b5fc(0xd7c)+_0x4df727['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x13b5fc(0xc55)+_0x4df727['id']+_0x13b5fc(0x257)+_0x4a5b16+_0x13b5fc(0x88d)+_0x4eb6af+'\x20'+_0x4df727[_0x13b5fc(0x799)]+_0x13b5fc(0x3fe)+_0x4df727['id']+_0x13b5fc(0xd60)+_0x432bb5+_0x13b5fc(0x2cb);})[_0x37612f(0x5fa)](''),_0x8f6a63[_0x37612f(0x2ee)]>0x0&&(_0x50f566['innerHTML']+=_0x37612f(0x559)),_0x8f6a63['length']>0x0?_0x533774[_0x37612f(0xc5e)]=_0x8f6a63[_0x37612f(0x1fa)](_0x470228=>{const _0xe48925=_0x37612f;let _0x27487a='🧩';if(_0x470228['blueprintUrl']&&_0x470228[_0xe48925(0x748)])_0x27487a='📗';else _0x470228[_0xe48925(0x952)]&&(_0x27487a='📘');return _0xe48925(0x8f3)+_0x27487a+'\x20'+_0x470228[_0xe48925(0x799)]+_0xe48925(0x2eb)+_0x470228['id']+_0xe48925(0x413)+_0x470228['id']+_0xe48925(0xa1e)+(!_0x470228['isDefault']?_0xe48925(0xd7c)+_0x470228['id']+_0xe48925(0x45d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x37612f(0x5fa)](''):_0x533774[_0x37612f(0xc5e)]=_0x37612f(0x73d);}function getMimeTypeFromFilename(_0x2e45a9){const _0x1ebb82=_0x354eeb,_0x3ac143=_0x2e45a9[_0x1ebb82(0x816)]('.')[_0x1ebb82(0x21e)]()['toLowerCase']();switch(_0x3ac143){case _0x1ebb82(0x910):return'application/pdf';case _0x1ebb82(0x3f4):return'text/plain';default:return'application/pdf';}}function openShortcutEditor(_0x4e3c63=null){const _0xb7df31=_0x354eeb,_0x23bc77=document['getElementById'](_0xb7df31(0x5d9)),_0x5683ec=document[_0xb7df31(0x64e)](_0xb7df31(0x936)),_0x210745=document[_0xb7df31(0x64e)](_0xb7df31(0x295)),_0x344bd4=document[_0xb7df31(0x64e)](_0xb7df31(0x51d)),_0x321c51=document[_0xb7df31(0x64e)]('shortcut-blueprint-url-input'),_0x2d7ab8=document[_0xb7df31(0x64e)](_0xb7df31(0xd90));if(_0x4e3c63){const _0x292dbd=blueprintShortcuts['find'](_0x598c1c=>_0x598c1c['id']===_0x4e3c63);if(!_0x292dbd)return;_0x5683ec[_0xb7df31(0xd72)]='แก้ไขปุ่มลัด',_0x210745[_0xb7df31(0x998)]=_0x292dbd['id'],_0x344bd4[_0xb7df31(0x998)]=_0x292dbd[_0xb7df31(0x799)],_0x321c51['value']=_0x292dbd[_0xb7df31(0x952)]||'',_0x2d7ab8['value']=_0x292dbd[_0xb7df31(0x748)]||'';}else _0x5683ec['textContent']=_0xb7df31(0xa93),_0x210745[_0xb7df31(0x998)]='',_0x344bd4[_0xb7df31(0x998)]='',_0x321c51[_0xb7df31(0x998)]='',_0x2d7ab8[_0xb7df31(0x998)]='';_0x23bc77[_0xb7df31(0x565)][_0xb7df31(0xc9d)](_0xb7df31(0x76a));}async function saveShortcutChanges(){const _0x5aa840=_0x354eeb,_0x3ea528=document[_0x5aa840(0x64e)](_0x5aa840(0x295))[_0x5aa840(0x998)],_0xbd27c6=document[_0x5aa840(0x64e)](_0x5aa840(0x51d))[_0x5aa840(0x998)][_0x5aa840(0xdd7)](),_0x1b2220=document[_0x5aa840(0x64e)]('shortcut-blueprint-url-input')[_0x5aa840(0x998)][_0x5aa840(0xdd7)]();if(!_0xbd27c6||!_0x1b2220){showMessage(_0x5aa840(0x344));return;}const _0x525805={'id':_0x3ea528||_0x5aa840(0x93e)+Date[_0x5aa840(0x274)](),'name':_0xbd27c6,'blueprintUrl':_0x1b2220,'referenceUrl':document[_0x5aa840(0x64e)](_0x5aa840(0xd90))[_0x5aa840(0x998)][_0x5aa840(0xdd7)](),'isDefault':_0x3ea528[_0x5aa840(0x99a)]('default-')};let _0x2852b6;_0x3ea528?_0x2852b6=blueprintShortcuts[_0x5aa840(0x1fa)](_0x5c9e4e=>_0x5c9e4e['id']===_0x3ea528?_0x525805:_0x5c9e4e):_0x2852b6=[...blueprintShortcuts,_0x525805];try{const _0x178038=doc(db,_0x5aa840(0x5f3),'dashboardConfig');await setDoc(_0x178038,{'blueprintShortcuts':_0x2852b6},{'merge':!![]}),document[_0x5aa840(0x64e)](_0x5aa840(0x5d9))[_0x5aa840(0x565)]['add'](_0x5aa840(0x76a));}catch(_0x23d025){console['error'](_0x5aa840(0x1ee),_0x23d025),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x28afb8){const _0x5d4073=_0x354eeb,_0x26866e=blueprintShortcuts['find'](_0x4b9e30=>_0x4b9e30['id']===_0x28afb8);if(!_0x26866e||!_0x26866e['blueprintUrl'])return;document[_0x5d4073(0x64e)](_0x5d4073(0x6b7))[_0x5d4073(0x565)][_0x5d4073(0x21a)]('hidden'),document[_0x5d4073(0x64e)](_0x5d4073(0x37e))[_0x5d4073(0x87b)]=!![];const _0x137acf=document['getElementById'](_0x5d4073(0x7b6)),_0x194761=document[_0x5d4073(0x64e)](_0x5d4073(0x5cb));document[_0x5d4073(0x64e)](_0x5d4073(0x855))['classList'][_0x5d4073(0xc9d)](_0x5d4073(0x76a)),document[_0x5d4073(0x64e)](_0x5d4073(0xd31))['innerHTML']='',_0x137acf[_0x5d4073(0x565)][_0x5d4073(0xc9d)]('hidden');try{_0x194761[_0x5d4073(0xd72)]=_0x5d4073(0x30a);const _0x193444=await fetchFileFromUrl(_0x26866e[_0x5d4073(0x952)],_0x5d4073(0x3f2));let _0x323c9d=null;if(_0x26866e[_0x5d4073(0x748)]){_0x194761[_0x5d4073(0xd72)]=_0x5d4073(0x65e);const _0x36dcc4=_0x26866e[_0x5d4073(0x748)][_0x5d4073(0x468)]()[_0x5d4073(0xa4b)](_0x5d4073(0x42c))?_0x5d4073(0x2d9):_0x5d4073(0x707);_0x323c9d=await fetchFileFromUrl(_0x26866e[_0x5d4073(0x748)],_0x36dcc4);}await handleGenerateFromBlueprintWithFiles(_0x193444,_0x323c9d);}catch(_0x2579fc){console['error'](_0x5d4073(0x1e5),_0x2579fc),showMessage(_0x5d4073(0x330)+_0x2579fc[_0x5d4073(0x5b6)]),_0x137acf[_0x5d4073(0x565)][_0x5d4073(0x21a)](_0x5d4073(0x76a));}}function getDirectDownloadUrl(_0x1e507a){const _0x3de160=_0x354eeb,_0x591db0=_0x1e507a[_0x3de160(0xb50)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x591db0&&_0x591db0[0x1])return _0x3de160(0xa4c)+_0x591db0[0x1];return _0x1e507a;}async function fetchFileFromUrl(_0x47d792,_0xc405b6){const _0x89cfea=_0x354eeb,_0x51ce50=getDirectDownloadUrl(_0x47d792),_0x258d24='https://corsproxy.io/?'+encodeURIComponent(_0x51ce50),_0x189f16=await fetch(_0x258d24);if(!_0x189f16['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x189f16['status']+')');const _0x15d5dd=await _0x189f16[_0x89cfea(0xaf2)](),_0x5cca32=await new Promise((_0x5dd324,_0x26ce7c)=>{const _0x2e2e99=_0x89cfea,_0xe45de3=new FileReader();_0xe45de3[_0x2e2e99(0x662)]=()=>_0x5dd324(new Uint8Array(_0xe45de3['result'])),_0xe45de3[_0x2e2e99(0x215)]=_0x26ce7c,_0xe45de3[_0x2e2e99(0x7e5)](_0x15d5dd[_0x2e2e99(0xca0)](0x0,0x4));});let _0x1a6aa4='';const _0x80ad19=new TextDecoder()['decode'](_0x5cca32);return _0x80ad19===_0x89cfea(0x8a7)?(_0x1a6aa4=_0x89cfea(0xd1c),console[_0x89cfea(0x4b0)](_0x89cfea(0x774))):(_0x1a6aa4='text/plain',console[_0x89cfea(0x4b0)]('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x15d5dd],_0xc405b6,{'type':_0x1a6aa4});}async function handleGenerateFromBlueprintWithFiles(_0x4a154f,_0x384eb3=null){const _0x440995=_0x354eeb;if(!_0x4a154f){showMessage(_0x440995(0xb6b));return;}const _0x4b12b9=document[_0x440995(0x64e)]('loader'),_0x197b72=document[_0x440995(0x64e)]('loader-text');_0x4b12b9['classList'][_0x440995(0xc9d)]('hidden'),document[_0x440995(0x64e)]('quiz-generation-area')[_0x440995(0x565)][_0x440995(0xc9d)](_0x440995(0x76a)),document['getElementById'](_0x440995(0xd31))[_0x440995(0xc5e)]='';try{_0x197b72[_0x440995(0xd72)]='กำลังอ่านไฟล์\x20Test\x20Blueprint...';const _0x595b67=await new Promise((_0x134385,_0x405636)=>{const _0x4563ce=_0x440995,_0x3d5a2c=new FileReader();_0x3d5a2c[_0x4563ce(0x8b0)](_0x4a154f),_0x3d5a2c['onload']=()=>_0x134385(_0x3d5a2c[_0x4563ce(0xb82)][_0x4563ce(0x816)](',')[0x1]),_0x3d5a2c[_0x4563ce(0x215)]=_0x405636;}),_0xcdc36d=[];if(_0x384eb3){_0x197b72[_0x440995(0xd72)]=_0x440995(0x9f3);const _0x2aaa4a=await _0x384eb3[_0x440995(0x4c3)]();_0xcdc36d[_0x440995(0xa95)]({'text':_0x440995(0x29e)+_0x2aaa4a});}const _0x35fc90=[{'text':'...'},{'inlineData':{'mimeType':_0x4a154f[_0x440995(0xc3f)],'data':_0x595b67}},..._0xcdc36d];await handleGenerateFromBlueprint(_0x35fc90);}catch(_0x8b1bfa){console[_0x440995(0x894)]('Error\x20in\x20generating\x20from\x20files:',_0x8b1bfa),showMessage('เกิดข้อผิดพลาด:\x20'+_0x8b1bfa[_0x440995(0x5b6)]),_0x4b12b9['classList'][_0x440995(0x21a)](_0x440995(0x76a));}}async function handleLiveAnswer(_0x1d3a6d,_0x21e8c4){const _0x1f2156=_0x354eeb;document[_0x1f2156(0x72d)](_0x1f2156(0x477))['forEach'](_0x586b62=>_0x586b62[_0x1f2156(0x87b)]=!![]);const _0x5d4af8=_0x21e8c4[_0x1f2156(0x4fd)]||currentQuizData['quizType'];let _0xa0682c=![],_0x36768a=_0x1d3a6d;if(_0x5d4af8==='short_answer'){const _0x3227d9=(_0x1d3a6d||'')[_0x1f2156(0x3ea)]();_0xa0682c=await gradeShortAnswer(_0x3227d9,_0x21e8c4);}else{if(_0x5d4af8===_0x1f2156(0xda2))_0xa0682c=_0x1d3a6d===_0x21e8c4[_0x1f2156(0x5a0)];else{if(_0x5d4af8===_0x1f2156(0x82f)){const _0x2bd198=_0x21e8c4[_0x1f2156(0x7e0)];_0xa0682c=_0x1d3a6d===0x0&&_0x2bd198||_0x1d3a6d===0x1&&!_0x2bd198;}else{if(_0x5d4af8===_0x1f2156(0xc67)){const _0x2bb7bb=_0x21e8c4[_0x1f2156(0x589)][_0x1d3a6d];_0xa0682c=_0x2bb7bb===_0x21e8c4[_0x1f2156(0x73a)],_0x36768a=_0x2bb7bb;}}}}const _0x1979c1=doc(db,_0x1f2156(0x53f)+appId+_0x1f2156(0xcdb),currentLiveGameId),_0x404004={};_0x404004[_0x1f2156(0x4d6)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x404004[_0x1f2156(0x4d6)+currentStudentName+'.lastAnswerCorrect']=_0xa0682c,_0x404004['players.'+currentStudentName+_0x1f2156(0x3cd)]=_0x5d4af8===_0x1f2156(0x6bd)||_0x5d4af8===_0x1f2156(0xc67)?null:_0x1d3a6d,_0x404004['players.'+currentStudentName+_0x1f2156(0x2cc)]=_0x36768a,_0x404004[_0x1f2156(0x4d6)+currentStudentName+_0x1f2156(0xd93)]=serverTimestamp(),_0x404004['players.'+currentStudentName+_0x1f2156(0x4fc)]=![],await updateDoc(_0x1979c1,_0x404004),liveGameView[_0x1f2156(0xc5e)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x3ee262,_0x66dabb){const _0x301b31=_0x354eeb,_0x4018f1=Object[_0x301b31(0xa7b)](_0x3ee262[_0x301b31(0xc09)]||{}),_0x2511c2=_0x66dabb[_0x301b31(0x4fd)]||currentQuizData[_0x301b31(0x6a2)],_0x1960b6=_0x2511c2==='true_false'?[_0x301b31(0xb6f),_0x301b31(0x94c)]:_0x66dabb['options']||_0x66dabb[_0x301b31(0x589)]||[],_0x338661={},_0x554ff7=new Array(_0x1960b6[_0x301b31(0x2ee)])['fill'](0x0);_0x1960b6[_0x301b31(0x37d)]((_0x2f95c5,_0xd9d0f2)=>{_0x338661[_0xd9d0f2]=[];}),Object[_0x301b31(0x8e0)](_0x3ee262[_0x301b31(0xc09)]||{})[_0x301b31(0x37d)](([_0x38b068,_0x34e993])=>{const _0x4fc187=_0x301b31;if(_0x34e993[_0x4fc187(0xa85)]===_0x4fc187(0x385)&&_0x34e993[_0x4fc187(0xbb4)]!==undefined){const _0x13b6ec=_0x34e993[_0x4fc187(0xbb4)];_0x338661[_0x13b6ec]&&(_0x338661[_0x13b6ec][_0x4fc187(0xa95)](_0x38b068),_0x554ff7[_0x13b6ec]++);}});const _0x23a2f8=Math[_0x301b31(0x62c)](..._0x554ff7,0x1),_0x5b45c0=_0x301b31(0xd81)+(_0x66dabb[_0x301b31(0xc59)]||_0x66dabb[_0x301b31(0x9f4)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x554ff7[_0x301b31(0x1fa)]((_0x55e6c5,_0x1b3e95)=>{const _0x41ffe2=_0x301b31,_0x14f7ad=_0x338661[_0x1b3e95][_0x41ffe2(0x2ee)]>0x0?_0x338661[_0x1b3e95]['join'](',\x20'):_0x41ffe2(0xd96);let _0x162744=![];if(_0x2511c2===_0x41ffe2(0xda2))_0x162744=_0x1b3e95===_0x66dabb['correctAnswerIndex'];else{if(_0x2511c2===_0x41ffe2(0x82f)){const _0x2f6d86=_0x66dabb[_0x41ffe2(0x7e0)];_0x162744=_0x2f6d86&&_0x1b3e95===0x0||!_0x2f6d86&&_0x1b3e95===0x1;}else _0x2511c2==='matching_item'&&(_0x162744=_0x1960b6[_0x1b3e95]===_0x66dabb['correctResponse']);}const _0x8e9f71=_0x162744?_0x41ffe2(0x8fc):_0x41ffe2(0x43f);return _0x41ffe2(0x2d3)+_0x55e6c5+_0x41ffe2(0x925)+_0x8e9f71+_0x41ffe2(0x3c4)+_0x1b3e95+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x1960b6[_0x1b3e95]+_0x41ffe2(0xba6)+_0x1b3e95+_0x41ffe2(0xb42)+_0x14f7ad+_0x41ffe2(0x471);})[_0x301b31(0x5fa)]('')+_0x301b31(0x70b);liveGameView[_0x301b31(0xc5e)]=_0x5b45c0;if(window[_0x301b31(0x8cc)])MathJax[_0x301b31(0xacc)]();document[_0x301b31(0x64e)]('show-leaderboard-btn')[_0x301b31(0xa02)]('click',async()=>{const _0x40ba4d=_0x301b31,_0x39614c=doc(db,_0x40ba4d(0x53f)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x39614c,{'questionStatus':'leaderboard'});}),document[_0x301b31(0x64e)]('open-scratchpad-btn')['addEventListener'](_0x301b31(0x4f9),()=>{openScratchpad(_0x66dabb,_0x1960b6);});}function showPlayerSummaryView(_0x385261,_0x50854e){const _0x31b13a=_0x354eeb,_0xbe71f=Object[_0x31b13a(0xa7b)](_0x385261['players']||{}),_0x2d111e=_0x385261['players'][_0x50854e],_0x2e8231=_0xbe71f[_0x31b13a(0xdc7)](_0x38d4fc=>_0x38d4fc[_0x31b13a(0xa85)]===_0x31b13a(0x385))['sort']((_0x43651a,_0x355771)=>_0x355771[_0x31b13a(0x3cb)]-_0x43651a['score']),_0x2211e8=_0x2e8231['findIndex'](_0x1a893f=>_0x1a893f===_0x2d111e)+0x1,_0x3f1a48=_0x2d111e[_0x31b13a(0x4a2)]?_0x31b13a(0x483):_0x31b13a(0xc23),_0x618ac9=_0x2d111e[_0x31b13a(0x4a2)]?'bg-green-500':_0x31b13a(0x39d),_0x464ab6=_0x2d111e[_0x31b13a(0xd2d)]||0x0,_0x39a923='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x43c8dd=_0x31b13a(0x650)+_0x39a923+_0x31b13a(0xbca)+_0x618ac9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x3f1a48+_0x31b13a(0xb2a)+_0x464ab6+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x2211e8>0x0?_0x2211e8:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x43c8dd;}function createQuizFromBank(){const _0xdbb7e7=_0x354eeb,_0x41d078=document['querySelectorAll'](_0xdbb7e7(0x83f));if(_0x41d078[_0xdbb7e7(0x2ee)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x38dacd=[];_0x41d078[_0xdbb7e7(0x37d)](_0x52246a=>{const _0x2d10c1=_0xdbb7e7;_0x38dacd[_0x2d10c1(0xa95)](JSON[_0x2d10c1(0x5ab)](_0x52246a[_0x2d10c1(0x998)]));});const _0x1cbd93={'topic':_0xdbb7e7(0xbd8),'questions':_0x38dacd};displayGeneratedQuiz(_0x1cbd93);}function showAdminLobbyView(_0x1808e5,_0x42bbca){const _0x4270b8=_0x354eeb;showView(_0x4270b8(0x4a5));const _0x356e4f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x42bbca+_0x4270b8(0xbb1)+_0x1808e5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4270b8(0xc5e)]=_0x356e4f,document[_0x4270b8(0x64e)](_0x4270b8(0x520))[_0x4270b8(0xa02)](_0x4270b8(0x4f9),async()=>{const _0x664278=_0x4270b8;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x664278(0xc42)][_0x664278(0x2ee)]===0x0){showMessage(_0x664278(0x5b4));return;}try{const _0x4865b9=doc(db,_0x664278(0x53f)+appId+_0x664278(0xcdb),currentLiveGameId);await updateDoc(_0x4865b9,{'status':_0x664278(0xdae),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x49ab54=currentQuizData[_0x664278(0xc42)][0x0],_0x4ea364=currentQuizData['questions'][_0x664278(0x2ee)];showAdminLiveQuestionView(_0x49ab54,0x0,_0x4ea364);}catch(_0x4dc52a){console[_0x664278(0x894)](_0x664278(0xba8),_0x4dc52a),showMessage(_0x664278(0x68c));}});}async function openQuizBankModal(){const _0x5212e1=_0x354eeb;if(allQuizzesGlobal[_0x5212e1(0x2ee)]===0x0){const _0x51a199=await getDocs(collection(db,_0x5212e1(0x53f)+appId+_0x5212e1(0x450)));allQuizzesGlobal=_0x51a199['docs'][_0x5212e1(0x1fa)](_0x347d4c=>({'id':_0x347d4c['id'],..._0x347d4c['data']()}));}renderQuizBankList(''),document[_0x5212e1(0x64e)]('quiz-bank-modal')[_0x5212e1(0x565)][_0x5212e1(0xc9d)](_0x5212e1(0x76a));}function renderQuizBankList(_0x32e08d='',_0x16236f=![]){const _0x213195=_0x354eeb,_0x4a3ad0=document[_0x213195(0x64e)]('bank-quiz-list'),_0x2ee8ef=_0x32e08d[_0x213195(0x468)]()['trim'](),_0x1468ff=allQuizzesGlobal[_0x213195(0x1fa)](_0xe9da30=>({..._0xe9da30,'projectName':allProjects[_0x213195(0x52f)](_0xe0976d=>_0xe0976d['id']===_0xe9da30[_0x213195(0xd27)])?.[_0x213195(0x7dc)]||_0x213195(0xb39)}))[_0x213195(0xdc7)](_0x13acde=>(_0x13acde[_0x213195(0xdb7)]||'')[_0x213195(0x468)]()[_0x213195(0xcc5)](_0x2ee8ef)||(_0x13acde[_0x213195(0x7dc)]||'')[_0x213195(0x468)]()['includes'](_0x2ee8ef)||_0x13acde['id'][_0x213195(0x3ea)]()[_0x213195(0xcc5)](_0x2ee8ef));document[_0x213195(0x64e)](_0x213195(0xd39))[_0x213195(0xd72)]='('+_0x1468ff[_0x213195(0x2ee)]+_0x213195(0x60c),_0x4a3ad0[_0x213195(0xc5e)]=_0x1468ff[_0x213195(0x2ee)]?_0x1468ff[_0x213195(0x1fa)](_0x4c9456=>{const _0x5b2b47=_0x213195,_0x515c0d=!_0x16236f?_0x5b2b47(0x386)+_0x4c9456['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4c9456['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4c9456['id']+_0x5b2b47(0x629)+_0x4c9456['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4c9456['id']+_0x5b2b47(0x979)+_0x4c9456['id']+'\x22\x20data-topic=\x22'+_0x4c9456['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x5b2b47(0x7e2)+_0x4c9456['id']+_0x5b2b47(0xdba)+(_0x4c9456[_0x5b2b47(0xdb7)]||_0x5b2b47(0x309))+_0x5b2b47(0x3d8)+(_0x4c9456[_0x5b2b47(0xc42)]?.[_0x5b2b47(0x2ee)]||0x0)+_0x5b2b47(0x30e)+_0x4c9456['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x4c9456['id']+_0x5b2b47(0x454)+_0x515c0d+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x213195(0x5fa)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x16236f&&(_0x4a3ad0[_0x213195(0x72d)](_0x213195(0x30d))[_0x213195(0x37d)](_0x34c145=>{const _0x208229=_0x213195;_0x34c145[_0x208229(0xa02)](_0x208229(0x4f9),()=>{const _0x41420d=_0x208229,_0x3d1870=_0x34c145[_0x41420d(0x524)]['id'];document[_0x41420d(0x64e)]('quiz-bank-modal')[_0x41420d(0x565)]['add']('hidden'),showQuizDetailView(_0x3d1870);});}),_0x4a3ad0[_0x213195(0x72d)](_0x213195(0x89f))['forEach'](_0x37d256=>{const _0x5caff5=_0x213195;_0x37d256[_0x5caff5(0xa02)](_0x5caff5(0x4f9),_0x26323b=>{const _0x1244a7=_0x5caff5;_0x26323b[_0x1244a7(0x5c4)]();const _0x6458ce=_0x37d256[_0x1244a7(0x524)]['id'],_0x5c4ed3=allQuizzesGlobal['find'](_0x110e2e=>_0x110e2e['id']===_0x6458ce);_0x5c4ed3?(currentQuizData=_0x5c4ed3,document[_0x1244a7(0x64e)](_0x1244a7(0x6ac))[_0x1244a7(0x565)][_0x1244a7(0x21a)](_0x1244a7(0x76a)),startAdminTest()):showMessage(_0x1244a7(0xccb));});}),_0x4a3ad0[_0x213195(0x72d)](_0x213195(0xd22))[_0x213195(0x37d)](_0xec7077=>{const _0x940592=_0x213195;_0xec7077[_0x940592(0xa02)](_0x940592(0x4f9),_0x1c4ffa=>{const _0x2bfefe=_0x940592;_0x1c4ffa['stopPropagation']();const _0x5e4e28=_0xec7077[_0x2bfefe(0x524)]['id'],_0x585002=allQuizzesGlobal[_0x2bfefe(0x52f)](_0x50cb76=>_0x50cb76['id']===_0x5e4e28);_0x585002?(document['getElementById']('quiz-bank-modal')['classList'][_0x2bfefe(0x21a)]('hidden'),handleGenerateParallelFromBank(_0x585002)):showMessage(_0x2bfefe(0xccb));});}),_0x4a3ad0[_0x213195(0x72d)]('.quiz-bank-present-btn')[_0x213195(0x37d)](_0x16b03b=>{const _0xcdce3e=_0x213195;_0x16b03b[_0xcdce3e(0xa02)](_0xcdce3e(0x4f9),_0x5b6b80=>{const _0x3ba804=_0xcdce3e;_0x5b6b80['stopPropagation']();const _0x3edaaf=_0x16b03b[_0x3ba804(0x524)]['id'],_0x476eba=allQuizzesGlobal[_0x3ba804(0x52f)](_0x40e223=>_0x40e223['id']===_0x3edaaf);_0x476eba?(document[_0x3ba804(0x64e)]('quiz-bank-modal')[_0x3ba804(0x565)]['add']('hidden'),startPresentation(_0x476eba)):showMessage(_0x3ba804(0xccb));});}),_0x4a3ad0[_0x213195(0x72d)](_0x213195(0x39e))[_0x213195(0x37d)](_0x2becb0=>{const _0x25dd1a=_0x213195;_0x2becb0[_0x25dd1a(0xa02)](_0x25dd1a(0x4f9),_0x2c2f41=>{const _0x50bafe=_0x25dd1a;_0x2c2f41[_0x50bafe(0x5c4)]();const _0x46d70d=_0x2becb0['dataset']['id'];document[_0x50bafe(0x64e)](_0x50bafe(0x6ac))[_0x50bafe(0x565)][_0x50bafe(0x21a)](_0x50bafe(0x76a)),handleMoveQuiz(_0x46d70d);});}),_0x4a3ad0[_0x213195(0x72d)]('.quiz-bank-settings-btn')[_0x213195(0x37d)](_0x3f4d1f=>{const _0xd60912=_0x213195;_0x3f4d1f[_0xd60912(0xa02)](_0xd60912(0x4f9),_0x5ee930=>{const _0x35ffa8=_0xd60912;_0x5ee930[_0x35ffa8(0x5c4)]();const _0x19788a=_0x3f4d1f[_0x35ffa8(0x524)]['id'];document[_0x35ffa8(0x64e)](_0x35ffa8(0x6ac))[_0x35ffa8(0x565)][_0x35ffa8(0x21a)](_0x35ffa8(0x76a)),handleQuizSettings(_0x19788a);});}),_0x4a3ad0['querySelectorAll'](_0x213195(0x311))[_0x213195(0x37d)](_0x14d1e5=>{const _0x3782bd=_0x213195;_0x14d1e5['addEventListener'](_0x3782bd(0x4f9),_0x1458e1=>{const _0x441531=_0x3782bd;_0x1458e1[_0x441531(0x5c4)]();const _0x17ba1d=_0x14d1e5['dataset']['id'],_0x358d9d=_0x14d1e5['dataset'][_0x441531(0xdb7)];showConfirmation(_0x441531(0x84b)+_0x358d9d+_0x441531(0x45e),()=>handleDeleteQuiz(_0x17ba1d));});}));}async function handleCompareResults(_0x1b1869,_0x500d8f){const _0x56f063=_0x354eeb,_0x1d818c=document['getElementById'](_0x56f063(0x900)),_0x26de7b=document[_0x56f063(0x64e)](_0x56f063(0x5f2)),_0x25ca57=document[_0x56f063(0x64e)](_0x56f063(0xd35));document[_0x56f063(0x64e)](_0x56f063(0xbaf))[_0x56f063(0x565)][_0x56f063(0x21a)](_0x56f063(0x385)),document['getElementById']('comparison-individual-tab')['classList'][_0x56f063(0xc9d)](_0x56f063(0x385)),_0x26de7b['classList'][_0x56f063(0xc9d)]('hidden'),_0x25ca57['classList'][_0x56f063(0x21a)](_0x56f063(0x76a)),_0x26de7b[_0x56f063(0xc5e)]=_0x56f063(0x7fb),_0x25ca57[_0x56f063(0xc5e)]='',_0x1d818c[_0x56f063(0x565)][_0x56f063(0xc9d)](_0x56f063(0x76a));try{const _0x292872=doc(db,_0x56f063(0x53f)+appId+_0x56f063(0x450),_0x1b1869),_0xe3e1d8=await getDoc(_0x292872);if(!_0xe3e1d8[_0x56f063(0x2c9)]())throw new Error(_0x56f063(0x2cf));const _0x49c1cf=_0xe3e1d8['data'](),_0x2ec382=_0x49c1cf['questions']['length'],_0x5278bd=collection(db,'artifacts/'+appId+_0x56f063(0x253)+_0x500d8f+_0x56f063(0x6f1)),_0x2c2b1b=collection(db,_0x56f063(0x53f)+appId+_0x56f063(0x253)+_0x1b1869+_0x56f063(0x6f1)),[_0x2b9f9d,_0x3f034b]=await Promise[_0x56f063(0x885)]([getDocs(_0x5278bd),getDocs(_0x2c2b1b)]),_0x5a84ce=_0x2b9f9d[_0x56f063(0x2e6)][_0x56f063(0x1fa)](_0x393c65=>_0x393c65[_0x56f063(0xbb9)]()),_0x47ee07=_0x3f034b['docs'][_0x56f063(0x1fa)](_0x1e5a45=>_0x1e5a45[_0x56f063(0xbb9)]()),_0x2d866e=_0x5a84ce[_0x56f063(0x1fa)](_0x261186=>_0x261186[_0x56f063(0x638)]),_0x34e865=_0x47ee07[_0x56f063(0x1fa)](_0xd025f1=>_0xd025f1['latestScore']),_0x4444c7=calculateMeanAndStdDev(_0x2d866e),_0x52c1f2=calculateMeanAndStdDev(_0x34e865),_0x3dcf2f=_0x4444c7[_0x56f063(0xc2c)],_0x2a9ed0=_0x52c1f2[_0x56f063(0xc2c)],_0x516c34=_0x2a9ed0-_0x3dcf2f;let _0x33fe7c=_0x56f063(0x6da)+_0x3dcf2f[_0x56f063(0xc82)](0x2)+_0x56f063(0xc16)+_0x2a9ed0[_0x56f063(0xc82)](0x2)+_0x56f063(0x875)+(_0x516c34>=0x0?'bg-emerald-100':_0x56f063(0x246))+_0x56f063(0xb80)+(_0x516c34>=0x0?'text-emerald-800':_0x56f063(0xa82))+_0x56f063(0xa00)+(_0x516c34>=0x0?_0x56f063(0x3bc):_0x56f063(0xa0b))+'\x22>'+(_0x516c34>=0x0?'+':'')+_0x516c34[_0x56f063(0xc82)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x26de7b[_0x56f063(0xc5e)]=_0x33fe7c;const _0x2b917b=document['getElementById']('comparison-chart')['getContext']('2d');if(chartInstances['comparison'])chartInstances[_0x56f063(0x9cd)][_0x56f063(0x337)]();chartInstances['comparison']=new Chart(_0x2b917b,{'type':_0x56f063(0xd66),'data':{'labels':[_0x56f063(0xafa)],'datasets':[{'label':_0x56f063(0x4b4),'data':[_0x3dcf2f],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x56f063(0xd94),'data':[_0x2a9ed0],'backgroundColor':_0x56f063(0x8c5)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2ec382}}}});const _0x31df5f=currentProjectData[_0x56f063(0x4c1)]||[],_0xce2f19=_0x31df5f[_0x56f063(0x1fa)](_0x13ed53=>{const _0x3dc3e7=_0x56f063,_0x696b1c=_0x5a84ce[_0x3dc3e7(0x52f)](_0x7cf43c=>_0x7cf43c[_0x3dc3e7(0xd48)]===_0x13ed53),_0x4b2d0d=_0x47ee07[_0x3dc3e7(0x52f)](_0x4b7ee4=>_0x4b7ee4[_0x3dc3e7(0xd48)]===_0x13ed53),_0x44b5c2=_0x696b1c?_0x696b1c[_0x3dc3e7(0x638)]:null,_0x309c6d=_0x4b2d0d?_0x4b2d0d[_0x3dc3e7(0x638)]:null,_0x35e9e7=_0x44b5c2!==null&&_0x309c6d!==null?_0x309c6d-_0x44b5c2:null,_0x34a971=_0x44b5c2!==null?calculateZScore(_0x44b5c2,_0x4444c7[_0x3dc3e7(0xc2c)],_0x4444c7['stdDev']):null,_0x22ee70=_0x309c6d!==null?calculateZScore(_0x309c6d,_0x52c1f2[_0x3dc3e7(0xc2c)],_0x52c1f2[_0x3dc3e7(0x554)]):null,_0x3b12de=_0x34a971!==null?calculateTScore(_0x34a971):null,_0x399756=_0x22ee70!==null?calculateTScore(_0x22ee70):null,_0x36760a=_0x3b12de!==null&&_0x399756!==null?_0x399756-_0x3b12de:null;return{'name':_0x13ed53,'preScore':_0x44b5c2,'postScore':_0x309c6d,'gain':_0x35e9e7,'preTScore':_0x3b12de,'postTScore':_0x399756,'tGain':_0x36760a};});renderIndividualComparisonTable(_0xce2f19,_0x25ca57);}catch(_0x13b160){console[_0x56f063(0x894)](_0x56f063(0x825),_0x13b160),_0x26de7b[_0x56f063(0xc5e)]=_0x56f063(0x79e);}}async function saveBlueprintProject(){const _0xbe2681=_0x354eeb;if(!extractedBlueprintData||!extractedBlueprintData[_0xbe2681(0x70d)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x392261=prompt(_0xbe2681(0xc3b),_0xbe2681(0xc37));if(!_0x392261||_0x392261[_0xbe2681(0xdd7)]()==='')return;const _0x3966f8={};extractedBlueprintData['curriculum'][_0xbe2681(0x37d)](_0x1e74f0=>{const _0x34dc4f=_0xbe2681;_0x1e74f0[_0x34dc4f(0xa29)][_0x34dc4f(0x37d)](_0x40d99c=>{const _0x5ce419=_0x34dc4f;_0x40d99c[_0x5ce419(0xd8d)][_0x5ce419(0x37d)](_0x56ea6f=>{const _0x5bf465=_0x5ce419,_0x59a790=_0x5bf465(0x64b)+Date['now']()+Math['random']()[_0x5bf465(0x3ea)](0x24)[_0x5bf465(0x478)](0x2,0x9);_0x3966f8[_0x59a790]={'sara':_0x1e74f0[_0x5bf465(0xc9f)],'mainTopic':_0x40d99c[_0x5bf465(0x60b)],'subTopic':_0x56ea6f,'status':'not_generated','lessonContent':null};});});});try{const _0x589802=collection(db,_0xbe2681(0x53f)+appId+_0xbe2681(0x27d));await addDoc(_0x589802,{'projectName':_0x392261['trim'](),'gradeLevel':extractedBlueprintData[_0xbe2681(0x3a2)],'topics':_0x3966f8,'createdAt':serverTimestamp()}),showMessage(_0xbe2681(0x91d)+_0x392261[_0xbe2681(0xdd7)]()+_0xbe2681(0x6a1)),document['getElementById']('save-blueprint-as-project-btn')[_0xbe2681(0x565)]['add']('hidden');}catch(_0x38e4e8){console[_0xbe2681(0x894)](_0xbe2681(0x4a0),_0x38e4e8),showMessage(_0xbe2681(0x8b7));}}async function showBlueprintProjects(){const _0x350643=_0x354eeb,_0xd88cdf=document[_0x350643(0x64e)](_0x350643(0x1f0)),_0x26acd3=document[_0x350643(0x64e)](_0x350643(0x39c));_0x26acd3[_0x350643(0xc5e)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0xd88cdf[_0x350643(0x565)]['remove'](_0x350643(0x76a));try{const _0x2ccc5e=collection(db,_0x350643(0x53f)+appId+_0x350643(0x27d)),_0x42a45d=await getDocs(_0x2ccc5e);if(_0x42a45d[_0x350643(0x3d9)]){_0x26acd3[_0x350643(0xc5e)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x30a9fe=_0x42a45d[_0x350643(0x2e6)]['map'](_0x15b1ee=>({'id':_0x15b1ee['id'],..._0x15b1ee['data']()}));_0x30a9fe[_0x350643(0x705)]((_0x46a934,_0x119f2f)=>_0x46a934[_0x350643(0x7dc)][_0x350643(0x202)](_0x119f2f[_0x350643(0x7dc)],'th')),_0x26acd3[_0x350643(0xc5e)]=_0x30a9fe[_0x350643(0x1fa)](_0x24d9ca=>_0x350643(0x869)+_0x24d9ca[_0x350643(0x7dc)]+_0x350643(0x61a)+_0x24d9ca[_0x350643(0x3a2)]+_0x350643(0xa4e)+Object[_0x350643(0x203)](_0x24d9ca[_0x350643(0x6ae)])[_0x350643(0x2ee)]+_0x350643(0x96e)+_0x24d9ca['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x24d9ca['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x350643(0x5fa)]('');}catch(_0x115bd1){console[_0x350643(0x894)](_0x350643(0xb55),_0x115bd1),_0x26acd3[_0x350643(0xc5e)]=_0x350643(0x906);}}async function displayBlueprintProjectManager(_0x1489b5){const _0x9776dd=_0x354eeb;currentBlueprintProjectId=_0x1489b5,document[_0x9776dd(0x64e)](_0x9776dd(0x1f0))['classList'][_0x9776dd(0x21a)](_0x9776dd(0x76a)),showView(_0x9776dd(0x423)),projectDashboardView[_0x9776dd(0x565)][_0x9776dd(0x21a)]('hidden');const _0x54ef9e=document[_0x9776dd(0x64e)](_0x9776dd(0x776));_0x54ef9e[_0x9776dd(0x565)][_0x9776dd(0xc9d)](_0x9776dd(0x76a)),document[_0x9776dd(0x64e)](_0x9776dd(0x4d8))[_0x9776dd(0xc5e)]=_0x9776dd(0x7fb);try{const _0x3870cc=doc(db,_0x9776dd(0x53f)+appId+_0x9776dd(0x27d),_0x1489b5),_0x4fde80=await getDoc(_0x3870cc);if(!_0x4fde80[_0x9776dd(0x2c9)]())throw new Error('ไม่พบโปรเจค');const _0x4413df={'id':_0x4fde80['id'],..._0x4fde80[_0x9776dd(0xbb9)]()};document[_0x9776dd(0x64e)]('bp-project-title')[_0x9776dd(0xd72)]=_0x4413df['projectName'],document[_0x9776dd(0x64e)](_0x9776dd(0xa28))[_0x9776dd(0x998)]=_0x4413df[_0x9776dd(0x210)]||'',renderBlueprintTopicManager(_0x4413df);}catch(_0x2a7333){console[_0x9776dd(0x894)](_0x9776dd(0xb56),_0x2a7333),showMessage(_0x2a7333[_0x9776dd(0x5b6)]),showView(_0x9776dd(0x423));}}function renderBlueprintTopicManager(_0xe9244b){const _0x4fc579=_0x354eeb,_0x21edc0=document[_0x4fc579(0x64e)]('bp-topic-list-container'),_0x34b80e=_0xe9244b['topics']||{};if(Object[_0x4fc579(0x203)](_0x34b80e)[_0x4fc579(0x2ee)]===0x0){_0x21edc0['innerHTML']=_0x4fc579(0x8ba);return;}const _0x52cda6=Object[_0x4fc579(0x8e0)](_0x34b80e)['map'](([_0xafd137,_0x57b550])=>({'id':_0xafd137,..._0x57b550}))['sort']((_0x488ba8,_0x4262ac)=>(_0x488ba8[_0x4fc579(0x44f)]??Infinity)-(_0x4262ac[_0x4fc579(0x44f)]??Infinity)),_0x267c42={};_0x52cda6[_0x4fc579(0x37d)](_0xe77d00=>{const _0x41e83a=_0x4fc579,{sara:_0x4a161e,mainTopic:_0x431592}=_0xe77d00;!_0x267c42[_0x4a161e]&&(_0x267c42[_0x4a161e]={}),!_0x267c42[_0x4a161e][_0x431592]&&(_0x267c42[_0x4a161e][_0x431592]=[]),_0x267c42[_0x4a161e][_0x431592][_0x41e83a(0xa95)](_0xe77d00);});let _0x328907='';for(const _0x1cb50a in _0x267c42){_0x328907+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x1cb50a+'</h4>';for(const _0x34fc97 in _0x267c42[_0x1cb50a]){_0x328907+=_0x4fc579(0x78a)+_0x34fc97+_0x4fc579(0x4b1),_0x267c42[_0x1cb50a][_0x34fc97][_0x4fc579(0x37d)](_0x2a830b=>{const _0x11776f=_0x4fc579,_0x49fa20=_0x2a830b['id'],_0x4918ac=_0x2a830b[_0x11776f(0x657)]||[],_0x1df09f=_0x4918ac['length']>0x0,_0x547b01=_0x2a830b[_0x11776f(0xa85)]===_0x11776f(0x962);let _0x349fd2='';_0x1df09f?_0x349fd2=_0x11776f(0x1e6)+_0x4918ac['length']+_0x11776f(0xcdf):_0x349fd2='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x547b01?_0x11776f(0xa57):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x547b01?_0x11776f(0xdab):'ยังไม่สร้าง')+_0x11776f(0x515);const _0xa4b40d=!_0x547b01?_0x11776f(0x726):'',_0x55dc48=!_0x547b01?_0x11776f(0xa54):'';let _0x4e4856=_0x547b01?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x11776f(0xd28);_0x328907+=_0x11776f(0x4ff)+_0x49fa20+_0x11776f(0x5e6)+_0x2a830b[_0x11776f(0xc88)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x349fd2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0xa4b40d+_0x11776f(0x880)+_0x55dc48+_0x11776f(0xc73)+_0x4e4856+_0x11776f(0x833);}),_0x328907+=_0x4fc579(0x706);}_0x328907+='</div>';}_0x21edc0[_0x4fc579(0xc5e)]=_0x328907;}async function handleDeepDeleteBlueprintProject(_0x26233b){const _0x4af4a0=_0x354eeb,_0x11910d=doc(db,_0x4af4a0(0x53f)+appId+_0x4af4a0(0x27d),_0x26233b),_0x478e63=await getDoc(_0x11910d);if(!_0x478e63['exists']()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x415cc0=_0x478e63[_0x4af4a0(0xbb9)]()[_0x4af4a0(0x7dc)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x415cc0+_0x4af4a0(0xb51),async()=>{const _0x2a00f5=_0x4af4a0;showMessage(_0x2a00f5(0xdbc));try{const _0x329f5a=writeBatch(db),_0x5a947b=_0x478e63[_0x2a00f5(0xbb9)](),_0x5b5cb3=_0x5a947b['topics']||{};for(const _0x2a94d9 in _0x5b5cb3){const _0x127cc8=doc(db,_0x2a00f5(0x53f)+appId+_0x2a00f5(0x352)+_0x26233b+_0x2a00f5(0xd77),_0x2a94d9);_0x329f5a[_0x2a00f5(0xd2c)](_0x127cc8);}const _0x3c5512=new Set();for(const _0x23e0a1 in _0x5b5cb3){_0x5b5cb3[_0x23e0a1][_0x2a00f5(0x657)]&&_0x5b5cb3[_0x23e0a1][_0x2a00f5(0x657)]['forEach'](_0x26129a=>_0x3c5512[_0x2a00f5(0x21a)](_0x26129a));}for(const _0x566cff of _0x3c5512){await handleDeleteQuiz(_0x566cff,![]);}_0x329f5a['delete'](_0x11910d),await _0x329f5a[_0x2a00f5(0xaa0)](),showMessage('ลบโปรเจค\x20\x22'+_0x415cc0+_0x2a00f5(0xde3)),showBlueprintProjects();}catch(_0x44c5fa){console[_0x2a00f5(0x894)]('Error\x20during\x20deep\x20delete:',_0x44c5fa),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x41ecc9){const _0x4111c9=_0x354eeb,_0x5c570c=document[_0x4111c9(0x64e)](_0x4111c9(0x8ef)),_0x1e08ba=document[_0x4111c9(0x64e)](_0x4111c9(0xbd3)),_0x219a70=document['getElementById'](_0x4111c9(0x26f));try{await ensureGlobalQuizzesLoaded();const _0x22d2ec=doc(db,'artifacts/'+appId+_0x4111c9(0x27d),currentBlueprintProjectId),_0x4084db=await getDoc(_0x22d2ec);if(!_0x4084db[_0x4111c9(0x2c9)]())return;const _0x49fa3e=_0x4084db[_0x4111c9(0xbb9)](),_0x4ee7ab=_0x49fa3e['topics'][_0x41ecc9];document[_0x4111c9(0x64e)](_0x4111c9(0x605))[_0x4111c9(0xd72)]=_0x4ee7ab['subTopic'];const _0x3bcc9f=_0x4ee7ab[_0x4111c9(0x657)]||[];_0x219a70[_0x4111c9(0x565)][_0x4111c9(0xc97)](_0x4111c9(0x76a),_0x3bcc9f['length']===0x0),_0x219a70[_0x4111c9(0xa5d)]=()=>handleClearAllLinksForTopic(_0x41ecc9);if(_0x3bcc9f[_0x4111c9(0x2ee)]===0x0)_0x1e08ba[_0x4111c9(0xc5e)]=_0x4111c9(0x205);else{const _0x5af6c2=allQuizzesGlobal['filter'](_0x1e1da0=>_0x3bcc9f[_0x4111c9(0xcc5)](_0x1e1da0['id']));_0x1e08ba[_0x4111c9(0xc5e)]=_0x5af6c2[_0x4111c9(0x1fa)](_0x4884ae=>_0x4111c9(0xb44)+_0x4884ae['id']+_0x4111c9(0x6e2)+_0x4884ae[_0x4111c9(0xdb7)]+_0x4111c9(0x4a4)+_0x4884ae['id']+_0x4111c9(0xa4e)+_0x4884ae[_0x4111c9(0xc42)][_0x4111c9(0x2ee)]+_0x4111c9(0x45c)+_0x4884ae['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4884ae['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4884ae['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4884ae['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4884ae['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4884ae['id']+_0x4111c9(0x517)+_0x41ecc9+_0x4111c9(0x871)+_0x4884ae['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4111c9(0x5fa)]('');}document[_0x4111c9(0x64e)](_0x4111c9(0x6a4))[_0x4111c9(0xa5d)]=()=>{openQuizSelectorForBlueprint(_0x41ecc9);},document[_0x4111c9(0x64e)](_0x4111c9(0x37f))[_0x4111c9(0xa5d)]=()=>_0x5c570c[_0x4111c9(0x565)][_0x4111c9(0x21a)](_0x4111c9(0x76a)),_0x5c570c['classList'][_0x4111c9(0xc9d)](_0x4111c9(0x76a));}catch(_0x3df1d4){showMessage(_0x3df1d4[_0x4111c9(0x5b6)]);}}async function openQuizSelectorForBlueprint(_0x1a78d6){const _0x15a478=_0x354eeb,_0x169da6=document[_0x15a478(0x64e)](_0x15a478(0x6ac)),_0x5d4c81=document[_0x15a478(0x64e)](_0x15a478(0x8ef));_0x5d4c81[_0x15a478(0x565)][_0x15a478(0x21a)](_0x15a478(0x76a)),document[_0x15a478(0x64e)](_0x15a478(0x303))?.[_0x15a478(0xc9d)]();const _0x41c72b=document[_0x15a478(0x1ea)](_0x15a478(0x9a9));_0x41c72b['id']=_0x15a478(0x303),_0x41c72b['className']=_0x15a478(0x469),_0x41c72b[_0x15a478(0xd72)]=_0x15a478(0xacd),_0x41c72b[_0x15a478(0x87b)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x169da6[_0x15a478(0x565)][_0x15a478(0xc9d)](_0x15a478(0x76a)),renderQuizBankListForMultiSelect(''),document[_0x15a478(0x64e)](_0x15a478(0x460))[_0x15a478(0x1ff)]['display']=_0x15a478(0xd78),_0x169da6[_0x15a478(0x8b9)]('.flex.justify-between.items-center')[_0x15a478(0x2dd)](_0x41c72b);const _0x5b4421=(_0x4c5f70=![])=>{const _0x5dce96=_0x15a478;_0x169da6[_0x5dce96(0x565)][_0x5dce96(0x21a)](_0x5dce96(0x76a)),document[_0x5dce96(0x64e)](_0x5dce96(0x460))[_0x5dce96(0x1ff)][_0x5dce96(0xa16)]=_0x5dce96(0xab2),_0x41c72b[_0x5dce96(0xc9d)](),_0x4c5f70&&openTopicQuizBank(_0x1a78d6);};_0x41c72b[_0x15a478(0xa5d)]=async()=>{const _0x3821e4=_0x15a478,_0x1e5141=Array[_0x3821e4(0x941)](document[_0x3821e4(0x72d)]('.quiz-bank-checkbox:checked'))[_0x3821e4(0x1fa)](_0x4ab5e8=>_0x4ab5e8['value']);if(_0x1e5141['length']===0x0)return;try{const _0xd62078=doc(db,_0x3821e4(0x53f)+appId+_0x3821e4(0x27d),currentBlueprintProjectId),_0x170257=(await getDoc(_0xd62078))[_0x3821e4(0xbb9)](),_0x300fd3=_0x170257[_0x3821e4(0x6ae)][_0x1a78d6][_0x3821e4(0x657)]||[],_0x5269bb=[...new Set([..._0x300fd3,..._0x1e5141])];await updateDoc(_0xd62078,{[_0x3821e4(0x5df)+_0x1a78d6+_0x3821e4(0x67f)]:_0x5269bb}),showMessage(_0x3821e4(0x5ff)+_0x1e5141[_0x3821e4(0x2ee)]+_0x3821e4(0x2f0)),_0x5b4421(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x6489da){console['error'](_0x3821e4(0x44c),_0x6489da);}},document[_0x15a478(0x64e)](_0x15a478(0x5ed))[_0x15a478(0xa5d)]=()=>_0x5b4421(!![]);}catch(_0x58eb2e){showMessage(_0x58eb2e['message']),_0x5d4c81['classList'][_0x15a478(0xc9d)](_0x15a478(0x76a));}}function handleClearLinkedQuiz(_0x21e372){const _0x2a7d01=_0x354eeb;showConfirmation(_0x2a7d01(0xa75),async()=>{const _0x52a499=_0x2a7d01;try{const _0x5065cd=doc(db,'artifacts/'+appId+_0x52a499(0x27d),currentBlueprintProjectId);await updateDoc(_0x5065cd,{[_0x52a499(0x5df)+_0x21e372+_0x52a499(0x277)]:deleteField()}),showMessage(_0x52a499(0x896)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x69e32a){console[_0x52a499(0x894)]('Error\x20clearing\x20linked\x20quiz:',_0x69e32a),showMessage(_0x52a499(0xa32));}});}async function addTopicToProject(){const _0xea40bc=_0x354eeb,_0x4be2ab=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x4be2ab||_0x4be2ab['trim']()==='')return;const _0x8f1a95=prompt('อยู่ในสาระการเรียนรู้ใด:','สาระที่\x201'),_0x197f0f=prompt(_0xea40bc(0x6a9),_0xea40bc(0x2bd)),_0x144bfc=_0xea40bc(0x64b)+Date[_0xea40bc(0x274)]()+Math[_0xea40bc(0xb7b)]()[_0xea40bc(0x3ea)](0x24)[_0xea40bc(0x478)](0x2,0x9),_0x290fc3={'sara':_0x8f1a95,'mainTopic':_0x197f0f,'subTopic':_0x4be2ab[_0xea40bc(0xdd7)](),'status':_0xea40bc(0x2be),'lessonContent':null};try{const _0x4c48bf=doc(db,_0xea40bc(0x53f)+appId+_0xea40bc(0x27d),currentBlueprintProjectId);await updateDoc(_0x4c48bf,{[_0xea40bc(0x5df)+_0x144bfc]:_0x290fc3}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x302c80){console['error'](_0xea40bc(0x356),_0x302c80),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x45ab67){const _0x2e8452=_0x354eeb,_0x35b368=document['querySelector'](_0x2e8452(0xbdd)+_0x45ab67+'\x22]'),_0x5bf407=_0x35b368['querySelector'](_0x2e8452(0x595)),_0x2954b3=_0x5bf407[_0x2e8452(0xd72)],_0x2d6b12=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x2954b3);if(!_0x2d6b12||_0x2d6b12[_0x2e8452(0xdd7)]()===''||_0x2d6b12['trim']()===_0x2954b3)return;try{const _0x195b8a=doc(db,_0x2e8452(0x53f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x195b8a,{['topics.'+_0x45ab67+_0x2e8452(0x70a)]:_0x2d6b12[_0x2e8452(0xdd7)]()}),_0x5bf407['textContent']=_0x2d6b12[_0x2e8452(0xdd7)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x150aee){console['error']('Error\x20editing\x20topic:',_0x150aee),showMessage(_0x2e8452(0x571));}}async function deleteTopicFromProject(_0x143573){const _0x4f2bf7=_0x354eeb;if(!confirm(_0x4f2bf7(0x284)))return;try{const _0x2fb974=doc(db,_0x4f2bf7(0x53f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2fb974,{[_0x4f2bf7(0x5df)+_0x143573]:deleteField()}),document[_0x4f2bf7(0x8b9)](_0x4f2bf7(0xbdd)+_0x143573+'\x22]')[_0x4f2bf7(0xc9d)](),showMessage(_0x4f2bf7(0x7ad));}catch(_0x50fb36){console['error'](_0x4f2bf7(0xcbc),_0x50fb36),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x50b81f,_0x12456a,_0x3b4506){handleGenerateAndShowLesson(_0x12456a,_0x3b4506);const _0x1ee6fa=setInterval(async()=>{const _0x3cbba1=_0x421e,_0x95b6ce=document[_0x3cbba1(0x64e)](_0x3cbba1(0x376)),_0x5098fe=_0x95b6ce['classList']['contains']('hidden');if(_0x5098fe){clearInterval(_0x1ee6fa);if(currentApplicationData&&currentApplicationData[_0x3cbba1(0x2ee)]>0x0){const _0x2a4ab1={'point':document[_0x3cbba1(0x64e)](_0x3cbba1(0x40e))[_0x3cbba1(0xc5e)],'memory':document[_0x3cbba1(0x64e)](_0x3cbba1(0x458))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x3cbba1(0x425))['innerHTML']};try{const _0x4e97ba=doc(db,_0x3cbba1(0x53f)+appId+_0x3cbba1(0x27d),currentBlueprintProjectId),_0x545139=doc(db,_0x3cbba1(0x53f)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x3cbba1(0xd77),_0x50b81f),_0x59602b=writeBatch(db);_0x59602b['set'](_0x545139,{'content':_0x2a4ab1}),_0x59602b[_0x3cbba1(0xb14)](_0x4e97ba,{[_0x3cbba1(0x5df)+_0x50b81f+_0x3cbba1(0x9d4)]:'generated'}),await _0x59602b[_0x3cbba1(0xaa0)](),console[_0x3cbba1(0x4b0)](_0x3cbba1(0x755)+_0x50b81f+_0x3cbba1(0x3f0)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5add97){console[_0x3cbba1(0x894)](_0x3cbba1(0x300),_0x5add97);}}}},0x3e8);}function displayHalfMarkResult(_0x174126,_0x31f521){const _0x1b4df1=_0x354eeb,_0x51189b=_0x174126>=_0x31f521/0x2,_0x59931e=_0x51189b?_0x1b4df1(0xb83):_0x1b4df1(0x246),_0x2a84f8=_0x51189b?_0x1b4df1(0x5ee):_0x1b4df1(0x96d),_0x4be4e4=_0x51189b?'text-green-800':'text-red-800',_0x50d71d=_0x51189b?_0x1b4df1(0xb73):_0x1b4df1(0x907),_0x107993=_0x51189b?_0x1b4df1(0xa9c):_0x1b4df1(0x9df);let _0x11dfa6=_0x1b4df1(0xc18)+_0x59931e+_0x1b4df1(0x214)+_0x2a84f8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4be4e4+_0x1b4df1(0x9e3)+_0x50d71d+_0x1b4df1(0xcbe)+_0x107993+_0x1b4df1(0xcbf);studentResultArea[_0x1b4df1(0xc5e)]=_0x11dfa6,studentResultArea[_0x1b4df1(0x565)][_0x1b4df1(0xc9d)](_0x1b4df1(0x76a)),studentQuizArea[_0x1b4df1(0x565)]['add'](_0x1b4df1(0x76a)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x51189b});}function displayPerfectScoreResult(_0x522343,_0x401394){const _0x319904=_0x354eeb,_0x76d58c=_0x522343===_0x401394,_0x195d61=_0x76d58c?_0x319904(0x6f7):_0x319904(0xa13),_0x3beac8=_0x76d58c?_0x319904(0x975):_0x319904(0x291),_0x454b07=_0x76d58c?'text-yellow-800':_0x319904(0xdb8),_0x47340f=_0x76d58c?_0x319904(0x795):_0x319904(0x294),_0xd378c9=_0x76d58c?_0x319904(0x36a):_0x319904(0x735);let _0xc6010='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x195d61+_0x319904(0x214)+_0x3beac8+_0x319904(0x557)+_0x454b07+'\x20mb-2\x22>'+_0x47340f+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0xd378c9+_0x319904(0xcbf);studentResultArea['innerHTML']=_0xc6010,studentResultArea[_0x319904(0x565)][_0x319904(0xc9d)](_0x319904(0x76a)),studentQuizArea['classList']['add'](_0x319904(0x76a)),setupResultScreenBackButton({'showRankings':![],'score':_0x522343,'totalQuestions':_0x401394});}function renderIndividualComparisonTable(_0x75d58b,_0xfce8e){const _0x363079=_0x354eeb;_0x75d58b[_0x363079(0x705)]((_0x207818,_0x2989fc)=>(_0x2989fc[_0x363079(0x208)]??-Infinity)-(_0x207818[_0x363079(0x208)]??-Infinity));let _0x1ee827=_0x363079(0x9a1);_0x75d58b[_0x363079(0x2ee)]===0x0?_0x1ee827+=_0x363079(0x58a):_0x75d58b['forEach']((_0x5d4d96,_0x2b2071)=>{const _0x5ca8ab=_0x363079;let _0x2fea78='-',_0x346dc2='';if(_0x5d4d96['gain']!==null){const _0x255225=_0x5d4d96[_0x5ca8ab(0x48d)]>0x0?_0x5ca8ab(0x53d):_0x5d4d96[_0x5ca8ab(0x48d)]<0x0?_0x5ca8ab(0x52e):_0x5ca8ab(0x4a1),_0x3361c5=_0x5d4d96[_0x5ca8ab(0x48d)]>0x0?'+':'';_0x2fea78=_0x5ca8ab(0x8d9)+_0x255225+'\x22>'+_0x3361c5+_0x5d4d96[_0x5ca8ab(0x48d)]+'</span>';if(_0x5d4d96[_0x5ca8ab(0x48d)]>0x0)_0x346dc2=_0x5ca8ab(0x381);else _0x5d4d96[_0x5ca8ab(0x48d)]<0x0?_0x346dc2=_0x5ca8ab(0x353):_0x346dc2='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x90ba1b='-';if(_0x5d4d96['tGain']!==null){const _0xd71dae=_0x5d4d96[_0x5ca8ab(0x208)]>0x0?_0x5ca8ab(0x53d):_0x5d4d96[_0x5ca8ab(0x208)]<0x0?'text-red-600':_0x5ca8ab(0x4a1),_0x8a74d6=_0x5d4d96['tGain']>0x0?'+':'';_0x90ba1b=_0x5ca8ab(0x8d9)+_0xd71dae+'\x22>'+_0x8a74d6+_0x5d4d96[_0x5ca8ab(0x208)]['toFixed'](0x2)+'</span>';}_0x1ee827+=_0x5ca8ab(0xc1d)+(_0x2b2071+0x1)+_0x5ca8ab(0x2b9)+_0x5d4d96[_0x5ca8ab(0x799)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x5d4d96['preScore']??'-')+_0x5ca8ab(0x958)+(_0x5d4d96[_0x5ca8ab(0x95a)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x2fea78+_0x5ca8ab(0x41f)+_0x346dc2+_0x5ca8ab(0x661)+(_0x5d4d96[_0x5ca8ab(0x914)]?.[_0x5ca8ab(0xc82)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x5d4d96['postTScore']?.['toFixed'](0x2)??'-')+_0x5ca8ab(0x56e)+_0x90ba1b+_0x5ca8ab(0x499);}),_0x1ee827+=_0x363079(0xdbb),_0xfce8e['innerHTML']=_0x1ee827;}function handleRenameQuiz(_0xdd6268,_0x313ab8){const _0x3ab5fd=_0x354eeb;actionTargetId=_0xdd6268,document[_0x3ab5fd(0x64e)](_0x3ab5fd(0x21f))[_0x3ab5fd(0x998)]=_0x313ab8,renameQuizModal[_0x3ab5fd(0x565)][_0x3ab5fd(0xc9d)]('hidden');}function setupComparisonModalTabs(){const _0x300f88=_0x354eeb,_0xc2cd08=document['getElementById'](_0x300f88(0xbaf)),_0x3c6010=document[_0x300f88(0x64e)](_0x300f88(0x322)),_0x1f345e=document[_0x300f88(0x64e)](_0x300f88(0x5f2)),_0x2be825=document[_0x300f88(0x64e)](_0x300f88(0xd35));_0xc2cd08[_0x300f88(0xa02)](_0x300f88(0x4f9),()=>{const _0x347907=_0x300f88;_0xc2cd08[_0x347907(0x565)][_0x347907(0x21a)]('active'),_0x3c6010['classList'][_0x347907(0xc9d)](_0x347907(0x385)),_0x1f345e['classList'][_0x347907(0xc9d)](_0x347907(0x76a)),_0x2be825[_0x347907(0x565)][_0x347907(0x21a)]('hidden');}),_0x3c6010[_0x300f88(0xa02)](_0x300f88(0x4f9),()=>{const _0x3a46a2=_0x300f88;_0x3c6010[_0x3a46a2(0x565)]['add']('active'),_0xc2cd08['classList'][_0x3a46a2(0xc9d)](_0x3a46a2(0x385)),_0x2be825[_0x3a46a2(0x565)][_0x3a46a2(0xc9d)](_0x3a46a2(0x76a)),_0x1f345e[_0x3a46a2(0x565)][_0x3a46a2(0x21a)](_0x3a46a2(0x76a));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0xa8483a=_0x354eeb;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x7e6891=doc(db,_0xa8483a(0x53f)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x7e6891,_0x1f947b=>{const _0x50fd7e=_0xa8483a;if(!_0x1f947b[_0x50fd7e(0x2c9)]()){showMessage(_0x50fd7e(0x3ac));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x50fd7e(0xaea)):showView(_0x50fd7e(0x35e));return;}const _0x13c8e5=_0x1f947b[_0x50fd7e(0xbb9)]();_0x13c8e5[_0x50fd7e(0x660)]&&(currentQuizData=_0x13c8e5[_0x50fd7e(0x660)]);!currentQuizData&&_0x13c8e5[_0x50fd7e(0x67d)]&&((async()=>{const _0x131888=_0x50fd7e;try{const _0x1753a1=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x13c8e5[_0x131888(0x67d)]),_0x287477=await getDoc(_0x1753a1);_0x287477[_0x131888(0x2c9)]()&&(currentQuizData={'id':_0x287477['id'],..._0x287477[_0x131888(0xbb9)]()});}catch(_0x290a98){console['error'](_0x131888(0x9d5),_0x290a98);}})());switch(_0x13c8e5[_0x50fd7e(0xa85)]){case _0x50fd7e(0xcca):if(currentMode==='admin'){const _0x186b63=_0x13c8e5[_0x50fd7e(0xc09)]?Object[_0x50fd7e(0x8e0)](_0x13c8e5[_0x50fd7e(0xc09)]):[],_0x495428=_0x186b63[_0x50fd7e(0xdc7)](([_0x266c03,_0xd25519])=>_0xd25519['status']===_0x50fd7e(0x385)),_0x43dc37=document['getElementById'](_0x50fd7e(0xc8c));if(_0x43dc37)_0x43dc37[_0x50fd7e(0xd72)]=_0x495428[_0x50fd7e(0x2ee)];const _0x20d0b1=document['getElementById'](_0x50fd7e(0x7c0));_0x20d0b1&&(_0x20d0b1[_0x50fd7e(0xc5e)]=_0x495428[_0x50fd7e(0x1fa)](([_0x380fee,_0x4e1aeb])=>_0x50fd7e(0x48f)+_0x380fee+_0x50fd7e(0xc2a)+_0x380fee+_0x50fd7e(0xbb5))['join'](''));const _0x59046e=document[_0x50fd7e(0x64e)](_0x50fd7e(0x520));_0x59046e&&(_0x59046e['disabled']=_0x495428[_0x50fd7e(0x2ee)]===0x0);}else showView(_0x50fd7e(0x4a5)),liveGameView['innerHTML']=_0x50fd7e(0x8fd)+currentStudentName+_0x50fd7e(0x3e3);break;case'question':const _0x49d1c0=_0x13c8e5['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x50fd7e(0xc42)][_0x49d1c0]){const _0x367334=currentQuizData[_0x50fd7e(0xc42)][_0x49d1c0],_0xe07646=_0x13c8e5['questionStatus']||_0x50fd7e(0x51f);switch(_0xe07646){case _0x50fd7e(0x509):currentMode==='admin'?showAdminSummaryView(_0x13c8e5,_0x367334):showPlayerSummaryView(_0x13c8e5,currentStudentName);break;case'leaderboard':currentMode===_0x50fd7e(0x763)&&showTop5LeaderboardView(_0x13c8e5);break;case _0x50fd7e(0x51f):default:if(currentMode===_0x50fd7e(0x763)){const _0x17e709=writeBatch(db);let _0x2524c9=![];Object[_0x50fd7e(0x8e0)](_0x13c8e5['players'])[_0x50fd7e(0x37d)](([_0x3092cf,_0x16a030])=>{const _0x4db202=_0x50fd7e;if(_0x16a030['status']===_0x4db202(0x385)&&_0x16a030[_0x4db202(0x501)]&&!_0x16a030[_0x4db202(0x788)]){_0x2524c9=!![];const _0x1a4b67=_0x16a030[_0x4db202(0x501)][_0x4db202(0x7aa)]()-_0x13c8e5[_0x4db202(0x5b9)][_0x4db202(0x7aa)]();let _0x545ec6=0x0;if(_0x16a030['lastAnswerCorrect']){const _0x4620cd=0x3e8,_0x491d47=0x1f4,_0x4838e7=0x4e20;let _0xee8133=_0x1a4b67/_0x4838e7;if(_0xee8133>0x1)_0xee8133=0x1;const _0x4321d7=Math[_0x4db202(0x2a6)](_0xee8133*_0x491d47);_0x545ec6=_0x4620cd-_0x4321d7;}const _0xa5c5a7=doc(db,_0x4db202(0x53f)+appId+'/public/data/liveGames',currentLiveGameId);_0x17e709[_0x4db202(0xb14)](_0xa5c5a7,{['players.'+_0x3092cf+_0x4db202(0x56a)]:increment(_0x545ec6),[_0x4db202(0x4d6)+_0x3092cf+_0x4db202(0x256)]:_0x545ec6,[_0x4db202(0x4d6)+_0x3092cf+'.isScored']:!![]});}});_0x2524c9&&_0x17e709[_0x50fd7e(0xaa0)]()[_0x50fd7e(0xa58)](_0x5efd6f=>console[_0x50fd7e(0x894)](_0x50fd7e(0xcc0),_0x5efd6f));lastRenderedAdminQuestionIndex!==_0x49d1c0&&(showAdminLiveQuestionView(_0x367334,_0x49d1c0,currentQuizData['questions'][_0x50fd7e(0x2ee)]),lastRenderedAdminQuestionIndex=_0x49d1c0);const _0x16c335=_0x13c8e5['players']||{},_0x18f5f8=Object[_0x50fd7e(0xa7b)](_0x16c335)[_0x50fd7e(0xdc7)](_0x7534a=>_0x7534a[_0x50fd7e(0xa85)]==='active'),_0x4570b3=_0x18f5f8[_0x50fd7e(0x2ee)],_0x695279=_0x18f5f8[_0x50fd7e(0xdc7)](_0x512af1=>_0x512af1['answeredCurrentQuestion']===!![])[_0x50fd7e(0x2ee)],_0xbb6d75=document[_0x50fd7e(0x64e)](_0x50fd7e(0x508));if(_0xbb6d75)_0xbb6d75[_0x50fd7e(0xd72)]=_0x695279+'/'+_0x4570b3;const _0x36e028=document['getElementById'](_0x50fd7e(0xc08));if(_0x36e028){let _0x2f435=Object[_0x50fd7e(0x8e0)](_0x16c335)[_0x50fd7e(0xdc7)](([_0x269ed8,_0x5ca087])=>_0x5ca087[_0x50fd7e(0xa85)]==='active')['map'](([_0x59d120,_0x2bc945])=>{const _0x2bca6d=_0x50fd7e,_0x5031c6=_0x2bc945[_0x2bca6d(0x6b9)]===!![],_0x4abc46=_0x5031c6?_0x2bca6d(0x84a):_0x2bca6d(0xde5),_0xc1ad40=_0x5031c6?_0x2bca6d(0xd68):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x2bca6d(0x2ae)+_0x4abc46+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc1ad40+_0x2bca6d(0x7f6)+_0x59d120+_0x2bca6d(0x92d)+_0x59d120+_0x2bca6d(0x1e8);})[_0x50fd7e(0x5fa)]('');_0x36e028[_0x50fd7e(0xc5e)]=_0x2f435||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x4570b3>0x0&&_0x695279===_0x4570b3&&revealAnswerForAdmin(_0x49d1c0,currentQuizData[_0x50fd7e(0xc42)]['length']);}else{const _0x2e2898=_0x13c8e5[_0x50fd7e(0xc09)][currentStudentName];_0x2e2898&&!_0x2e2898[_0x50fd7e(0x6b9)]&&showStudentLiveQuestionView(_0x367334,_0x49d1c0,currentQuizData[_0x50fd7e(0xc42)][_0x50fd7e(0x2ee)]);}break;}}break;case _0x50fd7e(0x6de):showPodiumView(_0x13c8e5[_0x50fd7e(0xc09)],_0x50fd7e(0x239));break;}});}async function openGlobalActivityModal(){const _0x15d6b3=_0x354eeb;if(allQuizzesGlobal[_0x15d6b3(0x2ee)]===0x0){const _0x329f1c=await getDocs(collection(db,_0x15d6b3(0x53f)+appId+_0x15d6b3(0x450)));allQuizzesGlobal=_0x329f1c[_0x15d6b3(0x2e6)][_0x15d6b3(0x1fa)](_0x30df8e=>({'id':_0x30df8e['id'],..._0x30df8e['data']()}));}renderGlobalActivityList(''),document[_0x15d6b3(0x64e)](_0x15d6b3(0xcaf))['classList']['remove']('hidden');}function renderGlobalActivityList(_0x5e4771=''){const _0x1e3a08=_0x354eeb,_0x1f2556=document['getElementById']('global-activity-quiz-list'),_0x14612f=_0x5e4771['toLowerCase']()[_0x1e3a08(0xdd7)](),_0x16b161=allQuizzesGlobal['map'](_0x1891dd=>({..._0x1891dd,'projectName':allProjects['find'](_0x4fe424=>_0x4fe424['id']===_0x1891dd[_0x1e3a08(0xd27)])?.[_0x1e3a08(0x7dc)]||_0x1e3a08(0xb39)}))['filter'](_0x53c0ee=>(_0x53c0ee[_0x1e3a08(0xdb7)]||'')['toLowerCase']()['includes'](_0x14612f)||(_0x53c0ee['projectName']||'')[_0x1e3a08(0x468)]()[_0x1e3a08(0xcc5)](_0x14612f));document[_0x1e3a08(0x64e)](_0x1e3a08(0xcfa))[_0x1e3a08(0xd72)]='('+_0x16b161[_0x1e3a08(0x2ee)]+'\x20ชุด)',_0x1f2556[_0x1e3a08(0xc5e)]=_0x16b161['length']?_0x16b161['map'](_0x1b030a=>_0x1e3a08(0x826)+(_0x1b030a[_0x1e3a08(0xdb7)]||_0x1e3a08(0x309))+_0x1e3a08(0x36d)+(_0x1b030a[_0x1e3a08(0xc42)]?.[_0x1e3a08(0x2ee)]||0x0)+_0x1e3a08(0x44a)+_0x1b030a[_0x1e3a08(0x7dc)]+_0x1e3a08(0xccc)+_0x1b030a['id']+_0x1e3a08(0x766)+_0x1b030a['id']+_0x1e3a08(0x66e)+_0x1b030a['id']+_0x1e3a08(0x55f)+_0x1b030a['id']+_0x1e3a08(0x903))[_0x1e3a08(0x5fa)](''):_0x1e3a08(0x4a6);}async function handleKickPlayer(_0x56ad3c){const _0x5d0955=_0x354eeb;if(!currentLiveGameId||!_0x56ad3c)return;const _0x397b7d=doc(db,_0x5d0955(0x53f)+appId+_0x5d0955(0xcdb),currentLiveGameId),_0x3f912c={};_0x3f912c[_0x5d0955(0x4d6)+_0x56ad3c+_0x5d0955(0x9d4)]='inactive';try{await updateDoc(_0x397b7d,_0x3f912c);}catch(_0x2301ee){console[_0x5d0955(0x894)](_0x5d0955(0x9d8)+_0x56ad3c+':',_0x2301ee),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x47458d=_0x354eeb;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2f86c7){console[_0x47458d(0x894)]('Authentication\x20failed:',_0x2f86c7),showMessage(_0x47458d(0x2f7));}}function showView(_0x280e68){const _0x2fb172=_0x354eeb;adminView[_0x2fb172(0x565)][_0x2fb172(0x21a)](_0x2fb172(0x76a)),studentView[_0x2fb172(0x565)][_0x2fb172(0x21a)]('hidden'),projectDashboardView[_0x2fb172(0x565)][_0x2fb172(0x21a)](_0x2fb172(0x76a)),projectDetailView[_0x2fb172(0x565)][_0x2fb172(0x21a)](_0x2fb172(0x76a)),quizResultsView[_0x2fb172(0x565)]['add'](_0x2fb172(0x76a)),liveGameView[_0x2fb172(0x565)]['add']('hidden'),document['getElementById'](_0x2fb172(0x776))[_0x2fb172(0x565)][_0x2fb172(0x21a)](_0x2fb172(0x76a)),studentInitialView['classList'][_0x2fb172(0x21a)]('hidden'),studentJoinGameView['classList'][_0x2fb172(0x21a)]('hidden'),studentNameSelectionView[_0x2fb172(0x565)]['add'](_0x2fb172(0x76a)),studentQuizArea[_0x2fb172(0x565)][_0x2fb172(0x21a)]('hidden'),studentResultArea[_0x2fb172(0x565)][_0x2fb172(0x21a)](_0x2fb172(0x76a)),studentReadingArea['classList']['add'](_0x2fb172(0x76a));const _0x473c77=document['getElementById'](_0x2fb172(0xa4f)),_0x504df3=document[_0x2fb172(0x64e)](_0x2fb172(0xc03));if(_0x473c77)_0x473c77['classList']['add'](_0x2fb172(0x76a));if(_0x504df3)_0x504df3['classList'][_0x2fb172(0x21a)](_0x2fb172(0x76a));switch(_0x280e68){case'admin-dashboard':adminView[_0x2fb172(0x565)][_0x2fb172(0xc9d)](_0x2fb172(0x76a)),projectDashboardView[_0x2fb172(0x565)][_0x2fb172(0xc9d)](_0x2fb172(0x76a));break;case _0x2fb172(0xaea):adminView[_0x2fb172(0x565)][_0x2fb172(0xc9d)](_0x2fb172(0x76a)),projectDetailView['classList'][_0x2fb172(0xc9d)]('hidden');break;case _0x2fb172(0xa6b):adminView['classList']['remove'](_0x2fb172(0x76a)),quizResultsView[_0x2fb172(0x565)][_0x2fb172(0xc9d)](_0x2fb172(0x76a));break;case _0x2fb172(0x35e):studentView[_0x2fb172(0x565)][_0x2fb172(0xc9d)](_0x2fb172(0x76a)),studentInitialView['classList']['remove']('hidden');break;case'live-game':liveGameView[_0x2fb172(0x565)][_0x2fb172(0xc9d)](_0x2fb172(0x76a));break;case'student-team-join':studentView[_0x2fb172(0x565)][_0x2fb172(0xc9d)](_0x2fb172(0x76a));if(_0x473c77)_0x473c77[_0x2fb172(0x565)]['remove'](_0x2fb172(0x76a));break;case _0x2fb172(0x46c):studentView['classList'][_0x2fb172(0xc9d)](_0x2fb172(0x76a));if(_0x504df3)_0x504df3['classList']['remove'](_0x2fb172(0x76a));break;default:studentView['classList'][_0x2fb172(0xc9d)](_0x2fb172(0x76a)),studentInitialView['classList'][_0x2fb172(0xc9d)](_0x2fb172(0x76a));break;}}function _0x421e(_0x374eaf,_0x42c381){const _0x285d0b=_0x285d();return _0x421e=function(_0x421e3c,_0x4ae831){_0x421e3c=_0x421e3c-0x1e3;let _0x340f70=_0x285d0b[_0x421e3c];return _0x340f70;},_0x421e(_0x374eaf,_0x42c381);}function showJoinGameView(){const _0x441be5=_0x354eeb;studentInitialView[_0x441be5(0x565)]['add']('hidden'),studentJoinGameView[_0x441be5(0x565)]['remove'](_0x441be5(0x76a));}async function handleSaveVisibilitySettings(){const _0x1a6475=_0x354eeb;if(!currentProjectId)return;const _0x172ee3=doc(db,'artifacts/'+appId+_0x1a6475(0x32d),currentProjectId);try{await updateDoc(_0x172ee3,{'settings.showInStudentDashboard':document[_0x1a6475(0x64e)](_0x1a6475(0x6a3))[_0x1a6475(0x5f7)],'settings.isPasscodeEnabled':document[_0x1a6475(0x64e)](_0x1a6475(0x639))[_0x1a6475(0x5f7)],'settings.passcode':document['getElementById'](_0x1a6475(0x2d7))['value']['trim']()}),showMessage(_0x1a6475(0xd3e));}catch(_0x35f8fe){console[_0x1a6475(0x894)](_0x1a6475(0x8c4),_0x35f8fe),showMessage(_0x1a6475(0xc64));}}function setupEventListeners(){const _0x3de456=_0x354eeb,_0x49cd42=document['getElementById'](_0x3de456(0x67a));_0x49cd42&&(_0x49cd42[_0x3de456(0xa02)](_0x3de456(0x5ec),wakeUpScreen),_0x49cd42['addEventListener']('touchstart',wakeUpScreen));document[_0x3de456(0x64e)](_0x3de456(0x810))['addEventListener'](_0x3de456(0x4f9),async()=>{const _0x4e1bf3=_0x3de456;if(!currentBlueprintProjectId)return;const _0x23b18f=document[_0x4e1bf3(0x64e)]('bp-reference-file-url')[_0x4e1bf3(0x998)][_0x4e1bf3(0xdd7)](),_0x261726=doc(db,_0x4e1bf3(0x53f)+appId+_0x4e1bf3(0x27d),currentBlueprintProjectId);try{await updateDoc(_0x261726,{'referenceFileUrl':_0x23b18f}),showMessage(_0x4e1bf3(0x55b));}catch(_0x258929){console[_0x4e1bf3(0x894)](_0x4e1bf3(0x3f9),_0x258929),showMessage(_0x4e1bf3(0xc64));}}),document[_0x3de456(0x64e)](_0x3de456(0x470))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleAddParallelShortcutTab),document['getElementById']('parallel-test-input-area')['addEventListener'](_0x3de456(0x4f9),_0x115b62=>{const _0x198ed3=_0x3de456;_0x115b62[_0x198ed3(0xa8f)][_0x198ed3(0x717)](_0x198ed3(0xdbd))&&(activeParallelShortcutTabId=_0x198ed3(0x885),renderAdditionalParallelShortcutsModal(),document[_0x198ed3(0x64e)](_0x198ed3(0x53e))[_0x198ed3(0x565)][_0x198ed3(0xc9d)](_0x198ed3(0x76a)));}),document[_0x3de456(0x64e)](_0x3de456(0x7fe))['addEventListener'](_0x3de456(0x4f9),()=>{const _0x21f88b=_0x3de456;document[_0x21f88b(0x64e)]('additional-parallel-shortcuts-modal')[_0x21f88b(0x565)]['add'](_0x21f88b(0x76a));}),document[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x58487a=>{const _0xb1ca95=_0x3de456;!_0x58487a[_0xb1ca95(0xa8f)][_0xb1ca95(0x717)]('.group\x5c/dropdown-parallel')&&document[_0xb1ca95(0x72d)](_0xb1ca95(0x50f))[_0xb1ca95(0x37d)](_0x57ff8b=>_0x57ff8b[_0xb1ca95(0x565)][_0xb1ca95(0x21a)](_0xb1ca95(0x76a)));}),document[_0x3de456(0x64e)]('add-file-shortcut-tab-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),handleAddFileShortcutTab),document[_0x3de456(0x64e)]('file-input-area')[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x37becb=>{const _0x27426b=_0x3de456;_0x37becb[_0x27426b(0xa8f)][_0x27426b(0x717)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document['getElementById'](_0x27426b(0x932))[_0x27426b(0x565)][_0x27426b(0xc9d)](_0x27426b(0x76a)));}),document[_0x3de456(0x64e)](_0x3de456(0xba3))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x1a8795=_0x3de456;document[_0x1a8795(0x64e)](_0x1a8795(0x932))[_0x1a8795(0x565)][_0x1a8795(0x21a)](_0x1a8795(0x76a));}),document[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x5c71f8=>{const _0x2216bb=_0x3de456;!_0x5c71f8[_0x2216bb(0xa8f)]['closest'](_0x2216bb(0xa4d))&&document[_0x2216bb(0x72d)]('.move-file-shortcut-dropdown')[_0x2216bb(0x37d)](_0x1efe48=>_0x1efe48[_0x2216bb(0x565)][_0x2216bb(0x21a)](_0x2216bb(0x76a)));}),document[_0x3de456(0x64e)](_0x3de456(0xcf8))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleAddShortcutTab),document[_0x3de456(0x64e)]('parallel-shortcut-container')[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x25196c=>{const _0x229ae2=_0x3de456,_0x336267=_0x25196c['target'][_0x229ae2(0x717)]('.parallel-shortcut-btn'),_0x4abfbb=_0x25196c[_0x229ae2(0xa8f)][_0x229ae2(0x717)]('.edit-parallel-shortcut-btn'),_0x49762c=_0x25196c[_0x229ae2(0xa8f)][_0x229ae2(0x717)](_0x229ae2(0x49b));if(_0x4abfbb)openParallelTestShortcutEditor(_0x4abfbb[_0x229ae2(0x524)]['id']);else{if(_0x49762c){const _0x2bc98a=_0x49762c[_0x229ae2(0x524)]['id'];showConfirmation(_0x229ae2(0x502),async()=>{const _0x5d0308=_0x229ae2,_0x56c8f2=parallelTestShortcuts[_0x5d0308(0xdc7)](_0x14ac02=>_0x14ac02['id']!==_0x2bc98a),_0x133605=doc(db,_0x5d0308(0x5f3),'parallelTestShortcutsConfig');await setDoc(_0x133605,{'shortcuts':_0x56c8f2},{'merge':!![]});});}else _0x336267&&handleParallelTestShortcutClick(_0x336267[_0x229ae2(0x524)]['id']);}}),document[_0x3de456(0x64e)](_0x3de456(0x695))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>openParallelTestShortcutEditor(null)),document[_0x3de456(0x64e)](_0x3de456(0x4ec))['addEventListener']('click',()=>{const _0x4ef38a=_0x3de456;document[_0x4ef38a(0x64e)](_0x4ef38a(0xdbf))[_0x4ef38a(0x565)][_0x4ef38a(0x21a)](_0x4ef38a(0x76a));}),document[_0x3de456(0x64e)]('save-parallel-shortcut-btn')[_0x3de456(0xa02)]('click',saveParallelTestShortcutChanges),document[_0x3de456(0x64e)](_0x3de456(0x8a5))[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x3fa9cb=>{const _0x4ca922=_0x3de456;_0x3fa9cb['target'][_0x4ca922(0x717)](_0x4ca922(0xdbd))&&document[_0x4ca922(0x64e)](_0x4ca922(0x53e))[_0x4ca922(0x565)][_0x4ca922(0xc9d)](_0x4ca922(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0x7fe))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x43e4d6=_0x3de456;document[_0x43e4d6(0x64e)](_0x43e4d6(0x53e))[_0x43e4d6(0x565)][_0x43e4d6(0x21a)](_0x43e4d6(0x76a));}),document['getElementById'](_0x3de456(0x881))[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x5942fa=>{const _0x205b0b=_0x3de456,_0x17c0d4=document[_0x205b0b(0x64e)](_0x205b0b(0x53e)),_0x4abb44=_0x5942fa['target'][_0x205b0b(0x717)](_0x205b0b(0xa96)),_0x4bbee5=_0x5942fa[_0x205b0b(0xa8f)][_0x205b0b(0x717)](_0x205b0b(0x65b)),_0x41dd93=_0x5942fa[_0x205b0b(0xa8f)]['closest'](_0x205b0b(0x9b1));if(_0x4abb44)_0x17c0d4[_0x205b0b(0x565)][_0x205b0b(0x21a)](_0x205b0b(0x76a)),handleParallelTestShortcutClick(_0x4abb44[_0x205b0b(0x524)]['id']);else{if(_0x4bbee5)_0x17c0d4['classList'][_0x205b0b(0x21a)](_0x205b0b(0x76a)),openParallelTestShortcutEditor(_0x4bbee5[_0x205b0b(0x524)]['id']);else{if(_0x41dd93){const _0x32a142=_0x41dd93[_0x205b0b(0x524)]['id'];showConfirmation(_0x205b0b(0x502),async()=>{const _0x1b51fb=_0x205b0b,_0x32e327=parallelTestShortcuts[_0x1b51fb(0xdc7)](_0xdd881b=>_0xdd881b['id']!==_0x32a142),_0x52ae66=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x52ae66,{'shortcuts':_0x32e327},{'merge':!![]});});}}}}),document[_0x3de456(0x64e)]('file-shortcut-container')[_0x3de456(0xa02)]('click',_0x370d14=>{const _0x211e64=_0x3de456,_0x334711=_0x370d14[_0x211e64(0xa8f)]['closest']('.file-shortcut-btn'),_0x195a9a=_0x370d14[_0x211e64(0xa8f)][_0x211e64(0x717)]('.edit-file-shortcut-btn'),_0x202b60=_0x370d14[_0x211e64(0xa8f)][_0x211e64(0x717)]('.delete-file-shortcut-btn');if(_0x195a9a)openFileShortcutEditor(_0x195a9a['dataset']['id']);else{if(_0x202b60){const _0x1756e7=_0x202b60[_0x211e64(0x524)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x17d151=_0x211e64,_0x13e5bd=fileShortcuts[_0x17d151(0xdc7)](_0x4a089c=>_0x4a089c['id']!==_0x1756e7),_0x5cd6f5=doc(db,_0x17d151(0x5f3),_0x17d151(0xdcb));await setDoc(_0x5cd6f5,{'shortcuts':_0x13e5bd},{'merge':!![]});});}else _0x334711&&handleFileShortcutClick(_0x334711[_0x211e64(0x524)]['id']);}}),document[_0x3de456(0x64e)](_0x3de456(0xac3))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>openFileShortcutEditor(null)),document[_0x3de456(0x64e)]('cancel-file-shortcut-edit-btn')['addEventListener'](_0x3de456(0x4f9),()=>{const _0x30b84b=_0x3de456;document['getElementById'](_0x30b84b(0x491))['classList'][_0x30b84b(0x21a)](_0x30b84b(0x76a));}),document['getElementById'](_0x3de456(0xd34))['addEventListener']('click',saveFileShortcutChanges),document['getElementById'](_0x3de456(0x888))['addEventListener'](_0x3de456(0x4f9),_0x1e8112=>{const _0x1499d8=_0x3de456;_0x1e8112[_0x1499d8(0xa8f)][_0x1499d8(0x717)](_0x1499d8(0xcf1))&&document[_0x1499d8(0x64e)]('additional-file-shortcuts-modal')['classList'][_0x1499d8(0xc9d)](_0x1499d8(0x76a));}),document['getElementById'](_0x3de456(0xba3))['addEventListener'](_0x3de456(0x4f9),()=>{const _0x2c22df=_0x3de456;document['getElementById']('additional-file-shortcuts-modal')[_0x2c22df(0x565)]['add'](_0x2c22df(0x76a));}),document[_0x3de456(0x64e)]('additional-file-shortcuts-list')['addEventListener'](_0x3de456(0x4f9),_0x2edeaa=>{const _0x5473c7=_0x3de456,_0x11215b=document[_0x5473c7(0x64e)](_0x5473c7(0x932)),_0x50614d=_0x2edeaa[_0x5473c7(0xa8f)][_0x5473c7(0x717)](_0x5473c7(0x690)),_0x2351a6=_0x2edeaa[_0x5473c7(0xa8f)][_0x5473c7(0x717)](_0x5473c7(0x76f)),_0x948363=_0x2edeaa[_0x5473c7(0xa8f)][_0x5473c7(0x717)]('.delete-hidden-file-shortcut-btn');if(_0x50614d)_0x11215b[_0x5473c7(0x565)][_0x5473c7(0x21a)](_0x5473c7(0x76a)),handleFileShortcutClick(_0x50614d[_0x5473c7(0x524)]['id']);else{if(_0x2351a6)_0x11215b[_0x5473c7(0x565)][_0x5473c7(0x21a)]('hidden'),openFileShortcutEditor(_0x2351a6[_0x5473c7(0x524)]['id']);else{if(_0x948363){const _0x6b872a=_0x948363['dataset']['id'];showConfirmation(_0x5473c7(0x502),async()=>{const _0x549127=_0x5473c7,_0x37635b=fileShortcuts['filter'](_0x3fc6c3=>_0x3fc6c3['id']!==_0x6b872a),_0xca080c=doc(db,_0x549127(0x5f3),_0x549127(0xdcb));await setDoc(_0xca080c,{'shortcuts':_0x37635b},{'merge':!![]});});}}}}),document[_0x3de456(0x64e)]('blueprint-input-area')[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x5099da=>{const _0x4ac238=_0x3de456;_0x5099da['target'][_0x4ac238(0x717)](_0x4ac238(0xb30))&&(activeShortcutTabId=_0x4ac238(0x885),renderAdditionalShortcutsModal(),document[_0x4ac238(0x64e)](_0x4ac238(0xbae))['classList']['remove'](_0x4ac238(0x76a)));}),document['getElementById'](_0x3de456(0x83c))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x34c259=_0x3de456;document[_0x34c259(0x64e)]('additional-shortcuts-modal')[_0x34c259(0x565)][_0x34c259(0x21a)](_0x34c259(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0xd44))['addEventListener'](_0x3de456(0x4f9),_0x178b78=>{const _0x345d4d=_0x3de456,_0x442ec1=_0x178b78[_0x345d4d(0xa8f)][_0x345d4d(0x717)](_0x345d4d(0xb06)),_0x1576d5=_0x178b78[_0x345d4d(0xa8f)][_0x345d4d(0x717)](_0x345d4d(0xb97)),_0x4207fc=_0x178b78['target'][_0x345d4d(0x717)]('.delete-hidden-shortcut-btn'),_0x483ecc=document[_0x345d4d(0x64e)]('additional-shortcuts-modal');if(_0x442ec1)_0x483ecc[_0x345d4d(0x565)][_0x345d4d(0x21a)](_0x345d4d(0x76a)),handleShortcutClick(_0x442ec1['dataset']['id']);else{if(_0x1576d5)_0x483ecc[_0x345d4d(0x565)][_0x345d4d(0x21a)](_0x345d4d(0x76a)),openShortcutEditor(_0x1576d5[_0x345d4d(0x524)]['id']);else{if(_0x4207fc){const _0x480b7c=_0x4207fc['dataset']['id'],_0x3ac0d4=blueprintShortcuts['find'](_0x3a3528=>_0x3a3528['id']===_0x480b7c)?.[_0x345d4d(0x799)];showConfirmation(_0x345d4d(0xb3b)+_0x3ac0d4+'\x22?',async()=>{const _0xd3cafb=_0x345d4d,_0x21da95=blueprintShortcuts[_0xd3cafb(0xdc7)](_0x1f3441=>_0x1f3441['id']!==_0x480b7c);try{const _0xab9633=doc(db,_0xd3cafb(0x5f3),_0xd3cafb(0xa9f));await setDoc(_0xab9633,{'blueprintShortcuts':_0x21da95},{'merge':!![]});}catch(_0x3adf1f){console['error'](_0xd3cafb(0x72a),_0x3adf1f);}});}}}}),document[_0x3de456(0x64e)]('blueprint-shortcut-container')[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x20e167=>{const _0x26ce50=_0x3de456,_0x426788=_0x20e167['target'][_0x26ce50(0x717)]('.shortcut-btn'),_0x1389a1=_0x20e167['target'][_0x26ce50(0x717)](_0x26ce50(0x388)),_0x591d1f=_0x20e167['target'][_0x26ce50(0x717)](_0x26ce50(0xae9));if(_0x1389a1)openShortcutEditor(_0x1389a1[_0x26ce50(0x524)]['id']);else{if(_0x591d1f){const _0x3f86ec=_0x591d1f[_0x26ce50(0x524)]['id'],_0x36a8f6=blueprintShortcuts['find'](_0x296edc=>_0x296edc['id']===_0x3f86ec)?.[_0x26ce50(0x799)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x36a8f6+'\x22?',async()=>{const _0xdc1792=_0x26ce50,_0x3916ce=blueprintShortcuts[_0xdc1792(0xdc7)](_0x36f055=>_0x36f055['id']!==_0x3f86ec);try{const _0x5d0ccf=doc(db,'globalSettings',_0xdc1792(0xa9f));await setDoc(_0x5d0ccf,{'blueprintShortcuts':_0x3916ce},{'merge':!![]});}catch(_0xf62ed2){console['error'](_0xdc1792(0x72a),_0xf62ed2);}});}else _0x426788&&handleShortcutClick(_0x426788[_0x26ce50(0x524)]['id']);}}),document[_0x3de456(0x64e)]('add-shortcut-btn')['addEventListener'](_0x3de456(0x4f9),()=>openShortcutEditor(null)),document[_0x3de456(0x64e)]('cancel-shortcut-edit-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x81a24=_0x3de456;document['getElementById']('shortcut-editor-modal')['classList']['add'](_0x81a24(0x76a));}),document['getElementById'](_0x3de456(0x81b))[_0x3de456(0xa02)](_0x3de456(0x4f9),saveShortcutChanges),document[_0x3de456(0x64e)]('generate-from-blueprint-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),async()=>{const _0x435b0a=_0x3de456,_0x2d519a=document[_0x435b0a(0x64e)](_0x435b0a(0x22d)),_0x1de420=document[_0x435b0a(0x64e)](_0x435b0a(0xd33));_0x2d519a[_0x435b0a(0x5f4)][_0x435b0a(0x2ee)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2d519a['files'][0x0],_0x1de420['files'][0x0]||null):showMessage(_0x435b0a(0x6bf));}),document[_0x3de456(0x64e)](_0x3de456(0x8ef))[_0x3de456(0xa02)](_0x3de456(0x4f9),async _0x32a5a9=>{const _0x5e24d9=_0x3de456,_0x5dd891=document[_0x5e24d9(0x64e)]('topic-quiz-bank-modal'),_0x4a4423=_0x32a5a9[_0x5e24d9(0xa8f)][_0x5e24d9(0x717)]('.bp-view-analysis-btn'),_0x2ae837=_0x32a5a9[_0x5e24d9(0xa8f)][_0x5e24d9(0x717)]('.bp-unlink-quiz-btn'),_0x29f91a=_0x32a5a9['target'][_0x5e24d9(0x717)](_0x5e24d9(0x50a)),_0xc53a2a=_0x32a5a9[_0x5e24d9(0xa8f)][_0x5e24d9(0x717)](_0x5e24d9(0xd19)),_0x50458e=_0x32a5a9[_0x5e24d9(0xa8f)][_0x5e24d9(0x717)](_0x5e24d9(0xbcd)),_0x103164=_0x32a5a9['target']['closest']('.bp-game-btn');if(_0x4a4423){cameFromBlueprint=!![];const _0x4f7ae7=_0x4a4423[_0x5e24d9(0x524)][_0x5e24d9(0x67d)];showQuizDetailView(_0x4f7ae7),_0x5dd891[_0x5e24d9(0x565)][_0x5e24d9(0x21a)](_0x5e24d9(0x76a));}else{if(_0x2ae837){const _0xcb8687=_0x2ae837[_0x5e24d9(0x524)]['topicId'],_0x45ec45=_0x2ae837[_0x5e24d9(0x524)][_0x5e24d9(0x67d)],_0x2d290a=allQuizzesGlobal[_0x5e24d9(0x52f)](_0x47d243=>_0x47d243['id']===_0x45ec45),_0x466737=_0x2d290a?_0x2d290a[_0x5e24d9(0xdb7)]:'รายการนี้';showConfirmation(_0x5e24d9(0x8be)+_0x466737+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x208a7c=_0x5e24d9;try{const _0x161387=doc(db,_0x208a7c(0x53f)+appId+_0x208a7c(0x27d),currentBlueprintProjectId);await updateDoc(_0x161387,{[_0x208a7c(0x5df)+_0xcb8687+_0x208a7c(0x67f)]:arrayRemove(_0x45ec45)}),showMessage(_0x208a7c(0x631)),openTopicQuizBank(_0xcb8687),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x8d499f){console[_0x208a7c(0x894)]('Error\x20unlinking\x20quiz:',_0x8d499f),showMessage(_0x208a7c(0x445));}});}else{if(_0x29f91a){cameFromBlueprint=!![];const _0x49344c=_0x29f91a[_0x5e24d9(0x524)][_0x5e24d9(0x67d)],_0x543ab1=allQuizzesGlobal[_0x5e24d9(0x52f)](_0x4fb59b=>_0x4fb59b['id']===_0x49344c);_0x543ab1&&(startPresentation(_0x543ab1),_0x5dd891[_0x5e24d9(0x565)][_0x5e24d9(0x21a)]('hidden'));}else{if(_0xc53a2a){cameFromBlueprint=!![];const _0x52aae6=_0xc53a2a[_0x5e24d9(0x524)][_0x5e24d9(0x67d)],_0x31fd66=allQuizzesGlobal['find'](_0x3ef050=>_0x3ef050['id']===_0x52aae6);_0x31fd66&&(currentQuizData=_0x31fd66,startAdminTest(),_0x5dd891[_0x5e24d9(0x565)][_0x5e24d9(0x21a)]('hidden'));}else{if(_0x50458e)cameFromBlueprint=!![],handleStartLiveRace(_0x50458e[_0x5e24d9(0x524)]['quizId']),_0x5dd891['classList'][_0x5e24d9(0x21a)](_0x5e24d9(0x76a));else{if(_0x103164){cameFromBlueprint=!![];const _0x3e8447=_0x103164[_0x5e24d9(0x524)][_0x5e24d9(0x67d)],_0x84a9ac=_0x103164[_0x5e24d9(0x524)][_0x5e24d9(0xa21)],_0x1fe406=allQuizzesGlobal['find'](_0x3d01d3=>_0x3d01d3['id']===_0x3e8447);_0x1fe406&&(showGameStartConfirmationModal(_0x3e8447,_0x84a9ac,_0x1fe406[_0x5e24d9(0xdb7)]),_0x5dd891[_0x5e24d9(0x565)][_0x5e24d9(0x21a)](_0x5e24d9(0x76a)));}}}}}}}),document[_0x3de456(0x64e)](_0x3de456(0xcc9))[_0x3de456(0xa02)]('click',()=>{const _0x274a63=_0x3de456;document[_0x274a63(0x64e)](_0x274a63(0x757))[_0x274a63(0x565)][_0x274a63(0xc9d)](_0x274a63(0x76a)),document[_0x274a63(0x64e)](_0x274a63(0xa2b))[_0x274a63(0x998)]='',document[_0x274a63(0x64e)](_0x274a63(0x350))['value']='',document[_0x274a63(0x64e)](_0x274a63(0xc0d))[_0x274a63(0x998)]='';}),document[_0x3de456(0x64e)](_0x3de456(0x5e2))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x4b50e0=_0x3de456;document[_0x4b50e0(0x64e)](_0x4b50e0(0x757))['classList']['add'](_0x4b50e0(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0x3ad))[_0x3de456(0xa02)]('click',handleManualBlueprintSave),document['getElementById'](_0x3de456(0x887))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>document[_0x3de456(0x64e)]('blueprint-settings-modal')[_0x3de456(0x565)]['add'](_0x3de456(0x76a))),document[_0x3de456(0x64e)](_0x3de456(0x472))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleSaveBlueprintPageSettings),document[_0x3de456(0x64e)](_0x3de456(0xc7f))[_0x3de456(0xa02)](_0x3de456(0x4f9),openBlueprintQuizSettings),document[_0x3de456(0x64e)](_0x3de456(0x7be))['addEventListener'](_0x3de456(0x4f9),saveBlueprintProject),document[_0x3de456(0x64e)]('open-blueprint-projects-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),showBlueprintProjects),document[_0x3de456(0x64e)](_0x3de456(0x3dd))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x50182b=_0x3de456;document['getElementById'](_0x50182b(0x1f0))[_0x50182b(0x565)]['add'](_0x50182b(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0x39c))[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x31513d=>{const _0x1e59a8=_0x3de456,_0xd5a42e=_0x31513d[_0x1e59a8(0xa8f)][_0x1e59a8(0x717)](_0x1e59a8(0x340)),_0x668c1d=_0x31513d['target'][_0x1e59a8(0x717)](_0x1e59a8(0xc1b));if(_0xd5a42e)displayBlueprintProjectManager(_0xd5a42e[_0x1e59a8(0x524)]['id']);else _0x668c1d&&handleDeepDeleteBlueprintProject(_0x668c1d[_0x1e59a8(0x524)]['id']);}),document[_0x3de456(0x64e)](_0x3de456(0x270))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x200c04=_0x3de456;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x200c04(0x776))['classList'][_0x200c04(0x21a)](_0x200c04(0x76a)),showView(_0x200c04(0x423));}),document['getElementById'](_0x3de456(0xa80))[_0x3de456(0xa02)](_0x3de456(0x4f9),addTopicToProject),document[_0x3de456(0x64e)](_0x3de456(0x4d8))['addEventListener'](_0x3de456(0x4f9),async _0x297beb=>{const _0x231051=_0x3de456,_0x33581c=_0x297beb['target'][_0x231051(0x717)](_0x231051(0xb16));if(!_0x33581c)return;const _0x5460f3=_0x33581c[_0x231051(0x524)][_0x231051(0xaf3)],_0x2772d6=_0x297beb[_0x231051(0xa8f)][_0x231051(0x717)](_0x231051(0x5ca)),_0x4aedfb=_0x297beb[_0x231051(0xa8f)][_0x231051(0x717)](_0x231051(0xdd8)),_0x3f848b=_0x297beb[_0x231051(0xa8f)]['closest']('.bp-create-topic-quiz-btn'),_0x2904b6=_0x297beb[_0x231051(0xa8f)][_0x231051(0x717)](_0x231051(0xaa4)),_0x3c5315=_0x297beb[_0x231051(0xa8f)][_0x231051(0x717)](_0x231051(0xb36)),_0x4f2fe4=_0x297beb[_0x231051(0xa8f)][_0x231051(0x717)]('.bp-generate-lesson-btn'),_0x5f0781=_0x297beb['target']['closest'](_0x231051(0x9b9)),_0xfea4ff=_0x297beb[_0x231051(0xa8f)][_0x231051(0x717)]('.bp-delete-topic-btn'),_0x3b95dc=_0x39124f=>{const _0x536a5a=_0x231051,_0x1bdd5b=_0x39124f[_0x536a5a(0x8b9)](_0x536a5a(0x595))[_0x536a5a(0xd72)]['trim'](),_0xf9d561=_0x39124f['closest']('.space-y-1.pl-4')[_0x536a5a(0xb11)],_0x16a6ad=_0xf9d561?_0xf9d561['textContent'][_0x536a5a(0xdd7)]():'';return _0x16a6ad+':\x20'+_0x1bdd5b;};if(_0x2904b6)openTopicQuizBank(_0x5460f3);else{if(_0x2772d6){const _0x128ebb=_0x3b95dc(_0x33581c);selectProjectAndGenerateBlueprintQuiz(_0x128ebb,null,_0x5460f3,!![]);}else{if(_0x4aedfb){const _0x2deae3=_0x3b95dc(_0x33581c);try{const _0x5f071c=doc(db,'artifacts/'+appId+_0x231051(0x352)+currentBlueprintProjectId+_0x231051(0xd77),_0x5460f3),_0x40baee=await getDoc(_0x5f071c);if(_0x40baee[_0x231051(0x2c9)]()){const _0x2add96=_0x40baee[_0x231051(0xbb9)]()[_0x231051(0x8e2)],_0x54c611=document[_0x231051(0x1ea)]('div'),_0x32220a=_0x28101b=>{const _0x44cd90=_0x231051;if(!_0x28101b)return'';return _0x54c611['innerHTML']=_0x28101b,_0x54c611[_0x44cd90(0xd72)]||_0x54c611['innerText']||'';},_0x434cf7=(_0x32220a(_0x2add96[_0x231051(0xa9e)])+'\x20'+_0x32220a(_0x2add96['memory'])+'\x20'+_0x32220a(_0x2add96['summary']))[_0x231051(0xdd7)]();selectProjectAndGenerateBlueprintQuiz(_0x2deae3,_0x434cf7,_0x5460f3,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x3a7e22){console[_0x231051(0x894)](_0x231051(0x347),_0x3a7e22),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x3f848b){const _0x5f7623=_0x3b95dc(_0x33581c);selectProjectAndGenerateBlueprintQuiz(_0x5f7623,null,_0x5460f3,![]);}else{if(_0x3c5315){const _0x521f0e=doc(db,_0x231051(0x53f)+appId+_0x231051(0x27d),currentBlueprintProjectId),_0x241f85=await getDoc(_0x521f0e);if(_0x241f85[_0x231051(0x2c9)]()){const _0x356d0a=_0x241f85[_0x231051(0xbb9)](),_0x496e8a=_0x356d0a[_0x231051(0x6ae)][_0x5460f3];if(_0x496e8a&&_0x496e8a['status']===_0x231051(0x962))try{const _0x18ba57=doc(db,_0x231051(0x53f)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x231051(0xd77),_0x5460f3),_0x10087e=await getDoc(_0x18ba57);if(_0x10087e[_0x231051(0x2c9)]()){const _0x2d220f=_0x10087e[_0x231051(0xbb9)]()[_0x231051(0x8e2)];document[_0x231051(0x64e)]('lesson-view-title')[_0x231051(0xd72)]=_0x231051(0xad2)+_0x3b95dc(_0x33581c),document[_0x231051(0x64e)](_0x231051(0x40e))[_0x231051(0xc5e)]=_0x2d220f[_0x231051(0xa9e)],document['getElementById'](_0x231051(0x458))[_0x231051(0xc5e)]=_0x2d220f[_0x231051(0xa38)],document[_0x231051(0x64e)]('summaryContent')[_0x231051(0xc5e)]=_0x2d220f[_0x231051(0xa0a)];const _0xccd063=document[_0x231051(0x64e)](_0x231051(0xac5));_0x2d220f['applicationData']?(currentApplicationData=_0x2d220f[_0x231051(0x52a)],_0xccd063['innerHTML']=currentApplicationData[_0x231051(0x1fa)]((_0x1a6a70,_0x20a0a3)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x20a0a3+0x1)+'.\x20'+marked[_0x231051(0x9fb)](_0x1a6a70[_0x231051(0xdae)])+_0x231051(0xcfc)+_0x20a0a3+_0x231051(0x961)+_0x1a6a70[_0x231051(0x3e0)][_0x231051(0x1fa)]((_0x490085,_0x4c9a68)=>_0x231051(0xaaf)+_0x20a0a3+',\x20'+_0x4c9a68+_0x231051(0x285)+String[_0x231051(0x3e6)](0x61+_0x4c9a68)+'.\x20'+marked[_0x231051(0x9fb)](_0x490085)+_0x231051(0x6e1))['join']('')+_0x231051(0x706))[_0x231051(0x5fa)]('')):(currentApplicationData=[],_0xccd063[_0x231051(0xc5e)]=_0x2d220f['applicationHTML']||_0x2d220f[_0x231051(0x7ce)]),document[_0x231051(0x64e)]('lesson-loader')['classList']['add'](_0x231051(0x76a)),document[_0x231051(0x64e)](_0x231051(0x566))[_0x231051(0x565)][_0x231051(0xc9d)]('hidden'),document[_0x231051(0x64e)](_0x231051(0x376))[_0x231051(0x565)]['remove'](_0x231051(0x76a)),window[_0x231051(0x8cc)]&&MathJax['typesetPromise']([document[_0x231051(0x64e)](_0x231051(0xcee))]);}else showMessage(_0x231051(0xcce));}catch(_0x59eb5c){console['error'](_0x231051(0x74c),_0x59eb5c),showMessage(_0x231051(0x28d));}else showMessage(_0x231051(0x9f9));}}else{if(_0x4f2fe4){const _0x44d419=_0x3b95dc(_0x33581c),_0x59ee7b=doc(db,'artifacts/'+appId+_0x231051(0x27d),currentBlueprintProjectId),_0x5b5f73=await getDoc(_0x59ee7b);if(_0x5b5f73[_0x231051(0x2c9)]()){const _0x334ae1=_0x5b5f73['data']();generateAndSaveLessonForBlueprint(_0x5460f3,_0x44d419,_0x334ae1[_0x231051(0x3a2)]);}}else{if(_0x5f0781)editTopicInProject(_0x5460f3);else _0xfea4ff&&deleteTopicFromProject(_0x5460f3);}}}}}}}),document[_0x3de456(0x64e)](_0x3de456(0x6e5))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleFixLessonLatex),document[_0x3de456(0x64e)]('export-lesson-to-pdf-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),handleExportLessonToPDF),document['getElementById'](_0x3de456(0x698))[_0x3de456(0xa02)]('click',()=>{const _0x12e0c1=_0x3de456;document[_0x12e0c1(0x64e)](_0x12e0c1(0x376))[_0x12e0c1(0x565)]['add'](_0x12e0c1(0x76a));});const _0x195d74=document[_0x3de456(0x64e)](_0x3de456(0xc86)),_0x592dac=document[_0x3de456(0x64e)](_0x3de456(0x7f2));_0x195d74['addEventListener'](_0x3de456(0x718),()=>{const _0x615c6c=_0x3de456;_0x592dac[_0x615c6c(0x565)]['toggle'](_0x615c6c(0x76a),!_0x195d74['checked']);});const _0x50a6f6=document[_0x3de456(0x64e)](_0x3de456(0x853)),_0x5c36af=document[_0x3de456(0x64e)]('confidence-mode-container');_0x50a6f6[_0x3de456(0xa02)](_0x3de456(0x718),()=>{const _0x3ccc99=_0x3de456;_0x5c36af[_0x3ccc99(0x565)][_0x3ccc99(0xc97)](_0x3ccc99(0x76a),!_0x50a6f6[_0x3ccc99(0x5f7)]);});const _0x732878=document[_0x3de456(0x64e)](_0x3de456(0x28e)),_0x3c41ae=document[_0x3de456(0x64e)](_0x3de456(0xbe3));_0x732878[_0x3de456(0xa02)](_0x3de456(0x718),()=>{const _0x1ac076=_0x3de456;_0x3c41ae[_0x1ac076(0x565)][_0x1ac076(0xc97)](_0x1ac076(0x76a),!_0x732878['checked']);});const _0x5e354e=document[_0x3de456(0x64e)](_0x3de456(0xd5d)),_0x2f1119=async _0x3399c6=>{const _0x1110b6=_0x3de456,_0xead30e=document['getElementById']('confidence-modal'),_0x45f4be=_0xead30e['dataset'][_0x1110b6(0x91e)],_0x45653d=document[_0x1110b6(0x64e)]('selected-answer-index-hidden');_0xead30e[_0x1110b6(0x565)][_0x1110b6(0x21a)]('hidden');if(_0x45f4be===_0x1110b6(0xd73)){const _0x3089ae=_0x45653d['value'],_0x4479cc={'answer':_0x3089ae,'wasConfident':_0x3399c6};proceedToNextQuestion(_0x4479cc);}else{if(_0x45f4be===_0x1110b6(0x3d2)){const _0xb7e9f3=_0x45653d[_0x1110b6(0x524)][_0x1110b6(0xa8e)],_0x2dfd1d=JSON[_0x1110b6(0x5ab)](_0x45653d[_0x1110b6(0x524)][_0x1110b6(0xdae)]),_0x1fc3ee=JSON[_0x1110b6(0x5ab)](_0x45653d[_0x1110b6(0x524)][_0x1110b6(0x873)]),_0x2f5dfa=_0x45653d[_0x1110b6(0x524)][_0x1110b6(0x96a)];handleSyncAnswerSubmit(_0xb7e9f3,_0x2dfd1d,_0x1fc3ee,_0x2f5dfa,_0x3399c6);}}_0xead30e[_0x1110b6(0x524)][_0x1110b6(0x91e)]='';};document[_0x3de456(0x64e)](_0x3de456(0xb68))['addEventListener'](_0x3de456(0x4f9),()=>_0x2f1119(!![])),document['getElementById'](_0x3de456(0xb79))[_0x3de456(0xa02)]('click',()=>_0x2f1119(![])),liveGameView['addEventListener'](_0x3de456(0x4f9),_0x3b4e44=>{const _0x2da29a=_0x3de456,_0x48962f=_0x3b4e44['target'][_0x2da29a(0x717)](_0x2da29a(0x9a6));if(_0x48962f){const _0x569490=_0x48962f[_0x2da29a(0x524)]['playerName'];_0x569490&&handleKickPlayerSync(_0x569490);}});const _0xaf1742=document[_0x3de456(0x64e)]('confirm-game-start-btn'),_0x4ed18b=document['getElementById'](_0x3de456(0x59c));_0x4ed18b[_0x3de456(0xa02)]('click',()=>{const _0x14be77=_0x3de456;document[_0x14be77(0x64e)](_0x14be77(0xde2))[_0x14be77(0x565)][_0x14be77(0x21a)]('hidden');}),_0xaf1742[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x3e5067=_0x3de456,_0x490b8b=document[_0x3e5067(0x64e)](_0x3e5067(0x82a))['value'],_0x54878c=document[_0x3e5067(0x64e)](_0x3e5067(0x4e9))[_0x3e5067(0x998)],_0x18e822=document[_0x3e5067(0x64e)](_0x3e5067(0xb31))[_0x3e5067(0x5f7)];document['getElementById'](_0x3e5067(0xde2))['classList'][_0x3e5067(0x21a)](_0x3e5067(0x76a));switch(_0x54878c){case'live-race':handleStartLiveRace(_0x490b8b,_0x18e822);break;case _0x3e5067(0x76c):handleStartTeamQuiz(_0x490b8b,_0x18e822);break;case _0x3e5067(0x8dc):handleStartGroupMode(_0x490b8b,_0x18e822);break;case _0x3e5067(0x3d2):const _0x505696=document[_0x3e5067(0x8b9)](_0x3e5067(0x1f4))['value']||'classic';handleStartSyncMode(_0x490b8b,_0x18e822,_0x505696);break;}}),document[_0x3de456(0x64e)]('join-group-activity-btn')['addEventListener'](_0x3de456(0x4f9),handleJoinGroupActivity),liveGameView[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x2d45e1=>{const _0x517fc6=_0x3de456,_0x1af6d0=_0x2d45e1[_0x517fc6(0xa8f)][_0x517fc6(0x717)](_0x517fc6(0x982));document[_0x517fc6(0x72d)](_0x517fc6(0x7c2))[_0x517fc6(0x37d)](_0x39756d=>{const _0x53b864=_0x517fc6;(!_0x1af6d0||_0x39756d['id']!==_0x1af6d0[_0x53b864(0x524)][_0x53b864(0x220)])&&_0x39756d[_0x53b864(0x565)][_0x53b864(0xc9d)](_0x53b864(0xbdc));});if(!_0x1af6d0)return;const _0x36b4c5=_0x1af6d0[_0x517fc6(0x524)][_0x517fc6(0x220)],_0x4739c6=document['getElementById'](_0x36b4c5);_0x4739c6&&_0x4739c6[_0x517fc6(0x565)][_0x517fc6(0xc97)]('visible');}),liveGameView['addEventListener'](_0x3de456(0x4f9),_0x5d4f2d=>{const _0x28c29c=_0x3de456;if(_0x5d4f2d[_0x28c29c(0xa8f)]['classList'][_0x28c29c(0xa60)](_0x28c29c(0x2ce))){const _0x1578da=_0x5d4f2d[_0x28c29c(0xa8f)][_0x28c29c(0x524)][_0x28c29c(0x96a)];_0x1578da&&handleKickPlayer(_0x1578da);}}),document[_0x3de456(0x64e)](_0x3de456(0x681))['addEventListener'](_0x3de456(0x836),()=>document[_0x3de456(0x64e)](_0x3de456(0x90d))[_0x3de456(0x565)][_0x3de456(0xc9d)](_0x3de456(0x76a))),document[_0x3de456(0x64e)](_0x3de456(0x90d))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleSaveProjectName),document[_0x3de456(0x64e)](_0x3de456(0x681))['addEventListener']('keydown',_0xd51951=>{const _0x377bbb=_0x3de456;_0xd51951[_0x377bbb(0xdc2)]==='Enter'&&(_0xd51951[_0x377bbb(0x304)](),_0xd51951[_0x377bbb(0xa8f)][_0x377bbb(0x790)](),handleSaveProjectName());}),document['getElementById'](_0x3de456(0x460))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x2979f6=_0x3de456;document[_0x2979f6(0x64e)](_0x2979f6(0x68b))['classList'][_0x2979f6(0xc9d)]('hidden');}),document[_0x3de456(0x64e)](_0x3de456(0xa49))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x575dcc=_0x3de456;document[_0x575dcc(0x64e)](_0x575dcc(0x68b))[_0x575dcc(0x565)][_0x575dcc(0x21a)](_0x575dcc(0x76a));}),document['getElementById'](_0x3de456(0xc8f))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleBulkUpdateQuizSettings),document['getElementById']('mode-switcher-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),handleModeSwitch),document[_0x3de456(0x64e)](_0x3de456(0x365))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleUpdateOldQuizzes),document[_0x3de456(0x64e)](_0x3de456(0xb54))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleResetProjectOrder),document[_0x3de456(0x64e)](_0x3de456(0x74a))[_0x3de456(0xa02)]('click',handleSaveVisibilitySettings),document[_0x3de456(0x64e)](_0x3de456(0xdde))[_0x3de456(0xa02)]('click',handleAddCustomMathTopic),document[_0x3de456(0x64e)]('select-all-topics-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),handleSelectAllTopics),document['getElementById'](_0x3de456(0x26a))[_0x3de456(0xa02)]('click',handleDeselectAllTopics),document[_0x3de456(0x64e)](_0x3de456(0x419))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x5e6b73=_0x3de456;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x5e6b73(0x423));}}),document[_0x3de456(0x64e)](_0x3de456(0x864))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x3de456(0x64e)](_0x3de456(0x1f7))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x321158=_0x3de456;showView(_0x321158(0x423));}),document[_0x3de456(0x64e)](_0x3de456(0x2f4))[_0x3de456(0xa02)]('click',()=>{const _0xb8184e=_0x3de456;messageModal[_0xb8184e(0x565)]['add'](_0xb8184e(0x76a)),typeof modalConfirmAction===_0xb8184e(0x2e2)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x3de456(0x64e)]('create-project-btn')[_0x3de456(0xa02)]('click',()=>createProjectModal['classList'][_0x3de456(0xc9d)]('hidden')),document[_0x3de456(0x64e)]('cancel-create-project-btn')[_0x3de456(0xa02)]('click',()=>createProjectModal[_0x3de456(0x565)][_0x3de456(0x21a)]('hidden')),document[_0x3de456(0x64e)]('cancel-admin-login-btn')['addEventListener'](_0x3de456(0x4f9),()=>adminPasswordModal['classList'][_0x3de456(0x21a)]('hidden')),document['getElementById'](_0x3de456(0x8db))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleAdminLogin),document[_0x3de456(0x64e)](_0x3de456(0x970))['addEventListener'](_0x3de456(0x2fe),_0x3bba2b=>{if(_0x3bba2b['key']==='Enter')handleAdminLogin();}),document[_0x3de456(0x64e)]('cancel-delete-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x3a189c=_0x3de456;confirmationModal['classList'][_0x3a189c(0x21a)](_0x3a189c(0x76a)),confirmAction=null;}),document[_0x3de456(0x64e)](_0x3de456(0x5d4))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x2753d4=_0x3de456;confirmAction&&confirmAction(),confirmationModal[_0x2753d4(0x565)][_0x2753d4(0x21a)](_0x2753d4(0x76a)),confirmAction=null;}),document[_0x3de456(0x64e)]('cancel-rename-quiz-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>renameQuizModal[_0x3de456(0x565)][_0x3de456(0x21a)](_0x3de456(0x76a))),document[_0x3de456(0x64e)](_0x3de456(0x1f6))[_0x3de456(0xa02)](_0x3de456(0x4f9),confirmRenameQuiz),document['getElementById'](_0x3de456(0x7f8))['addEventListener']('click',()=>moveQuizModal[_0x3de456(0x565)][_0x3de456(0x21a)]('hidden')),document[_0x3de456(0x64e)]('confirm-move-quiz-btn')['addEventListener'](_0x3de456(0x4f9),confirmMoveQuiz),document[_0x3de456(0x64e)](_0x3de456(0x255))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>quizSettingsModal[_0x3de456(0x565)][_0x3de456(0x21a)](_0x3de456(0x76a))),document[_0x3de456(0x64e)](_0x3de456(0x824))['addEventListener']('click',confirmQuizSettings),document[_0x3de456(0x64e)]('cancel-quiz-status-btn')[_0x3de456(0xa02)]('click',()=>quizStatusModal[_0x3de456(0x565)]['add'](_0x3de456(0x76a))),document['getElementById']('confirm-quiz-status-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),confirmQuizStatus);const _0x14213a=document['getElementById']('export-pdf-modal');document['getElementById'](_0x3de456(0x622))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x38b864=_0x3de456;_0x14213a[_0x38b864(0x565)][_0x38b864(0x21a)](_0x38b864(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0xd1a))[_0x3de456(0xa02)](_0x3de456(0x4f9),async()=>{const _0x1d6564=_0x3de456,_0x37c3af=allQuizzes[_0x1d6564(0x52f)](_0x6c8ff2=>_0x6c8ff2['id']===actionTargetId);_0x37c3af?(currentQuizData=_0x37c3af,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x14213a['classList']['add'](_0x1d6564(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0x996))['addEventListener'](_0x3de456(0x4f9),async()=>{const _0x2f7b07=_0x3de456,_0x3becac=allQuizzes[_0x2f7b07(0x52f)](_0x51b41a=>_0x51b41a['id']===actionTargetId);_0x3becac?(currentQuizData=_0x3becac,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x14213a[_0x2f7b07(0x565)][_0x2f7b07(0x21a)]('hidden');});const _0x4d6c70=document[_0x3de456(0x64e)](_0x3de456(0x731));_0x4d6c70[_0x3de456(0xc5e)]=_0x3de456(0x27f),_0x4d6c70[_0x3de456(0xa02)]('click',openGlobalActivityModal),document[_0x3de456(0x64e)](_0x3de456(0x687))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x472345=_0x3de456;document['getElementById'](_0x472345(0xcaf))['classList'][_0x472345(0x21a)](_0x472345(0x76a));}),document['getElementById'](_0x3de456(0x247))[_0x3de456(0xa02)]('input',_0x5918f8=>{const _0x301550=_0x3de456;renderGlobalActivityList(_0x5918f8[_0x301550(0xa8f)][_0x301550(0x998)]);}),document[_0x3de456(0x64e)]('global-activity-quiz-list')[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x3e86a3=>{const _0x1b8d2b=_0x3de456,_0x16404d=_0x3e86a3['target'][_0x1b8d2b(0x717)](_0x1b8d2b(0x390));if(!_0x16404d)return;const _0x31f27f=_0x16404d['dataset']['id'],_0x4c93b4=_0x16404d[_0x1b8d2b(0x524)][_0x1b8d2b(0xa21)],_0x46140b=allQuizzesGlobal[_0x1b8d2b(0x52f)](_0x26b128=>_0x26b128['id']===_0x31f27f);_0x46140b&&(document[_0x1b8d2b(0x64e)]('global-activity-modal')['classList'][_0x1b8d2b(0x21a)](_0x1b8d2b(0x76a)),_0x4c93b4===_0x1b8d2b(0x239)?handleStartLiveRace(_0x31f27f):showGameStartConfirmationModal(_0x31f27f,_0x4c93b4,_0x46140b[_0x1b8d2b(0xdb7)]));}),document['getElementById'](_0x3de456(0x861))[_0x3de456(0xa02)]('input',renderProjects),document[_0x3de456(0x64e)](_0x3de456(0x32f))[_0x3de456(0xa02)](_0x3de456(0x718),async()=>{const _0x4485e2=_0x3de456,_0x485268=document[_0x4485e2(0x64e)]('project-sort-select')[_0x4485e2(0x998)],_0x370f1b=doc(db,'globalSettings',_0x4485e2(0xa9f));try{await setDoc(_0x370f1b,{'projectSort':_0x485268},{'merge':!![]});}catch(_0x2cec36){console['error'](_0x4485e2(0x768),_0x2cec36),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document['getElementById'](_0x3de456(0xafe))[_0x3de456(0xa02)](_0x3de456(0xc69),renderQuizzes),document[_0x3de456(0x64e)]('grid-view-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x69ae62=_0x3de456;globalDashboardSettings[_0x69ae62(0xb9d)]=_0x69ae62(0xc80),saveUserPreference(_0x69ae62(0xb9d),_0x69ae62(0xc80)),renderProjects();}),document['getElementById'](_0x3de456(0x93d))[_0x3de456(0xa02)]('click',()=>{const _0x243ebe=_0x3de456;globalDashboardSettings[_0x243ebe(0xb9d)]=_0x243ebe(0xcb9),saveUserPreference('projectView',_0x243ebe(0xcb9)),renderProjects();}),manageTab[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>switchProjectTab('manage')),resultsTab[_0x3de456(0xa02)]('click',()=>switchProjectTab(_0x3de456(0x2c3))),leaderboardTab['addEventListener'](_0x3de456(0x4f9),()=>switchProjectTab(_0x3de456(0xda5))),document[_0x3de456(0x64e)]('analytics-tab-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>switchQuizDetailTab('analytics')),document[_0x3de456(0x64e)](_0x3de456(0x994))['addEventListener'](_0x3de456(0x4f9),()=>switchQuizDetailTab(_0x3de456(0xd0d))),document[_0x3de456(0x64e)](_0x3de456(0xce3))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>switchQuizDetailTab(_0x3de456(0xb9a))),document[_0x3de456(0x64e)](_0x3de456(0x245))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>switchQuizDetailTab(_0x3de456(0xce0))),document[_0x3de456(0x64e)](_0x3de456(0x9c1))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleAnalyzeClass),generateWorksheetBtn[_0x3de456(0xa02)](_0x3de456(0x4f9),generateWorksheet);const _0x4d2680=document['getElementById']('link-tab'),_0x5533c9=document[_0x3de456(0x64e)](_0x3de456(0xcad)),_0x237075=document[_0x3de456(0x64e)](_0x3de456(0x703)),_0x2cc90d=document[_0x3de456(0x64e)](_0x3de456(0x8aa)),_0x5d5127=document[_0x3de456(0x64e)](_0x3de456(0x464)),_0x57548a=document[_0x3de456(0x64e)](_0x3de456(0x8a5));topicTab['addEventListener']('click',()=>{const _0x212cc3=_0x3de456;topicTab['classList'][_0x212cc3(0x21a)](_0x212cc3(0x385)),textTab[_0x212cc3(0x565)]['remove'](_0x212cc3(0x385)),fileTab[_0x212cc3(0x565)][_0x212cc3(0xc9d)](_0x212cc3(0x385)),worksheetTab[_0x212cc3(0x565)][_0x212cc3(0xc9d)](_0x212cc3(0x385));if(_0x4d2680)_0x4d2680[_0x212cc3(0x565)][_0x212cc3(0xc9d)](_0x212cc3(0x385));if(_0x237075)_0x237075[_0x212cc3(0x565)][_0x212cc3(0xc9d)](_0x212cc3(0x385));if(_0x5d5127)_0x5d5127[_0x212cc3(0x565)]['remove']('active');topicInputArea[_0x212cc3(0x565)]['remove'](_0x212cc3(0x76a)),textInputArea[_0x212cc3(0x565)][_0x212cc3(0x21a)](_0x212cc3(0x76a)),fileInputArea[_0x212cc3(0x565)]['add'](_0x212cc3(0x76a)),worksheetInputArea[_0x212cc3(0x565)][_0x212cc3(0x21a)](_0x212cc3(0x76a));if(_0x5533c9)_0x5533c9['classList'][_0x212cc3(0x21a)](_0x212cc3(0x76a));if(_0x2cc90d)_0x2cc90d[_0x212cc3(0x565)][_0x212cc3(0x21a)]('hidden');if(_0x57548a)_0x57548a[_0x212cc3(0x565)][_0x212cc3(0x21a)](_0x212cc3(0x76a));}),textTab[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x335d80=_0x3de456;textTab['classList'][_0x335d80(0x21a)](_0x335d80(0x385)),topicTab['classList'][_0x335d80(0xc9d)](_0x335d80(0x385)),fileTab[_0x335d80(0x565)]['remove'](_0x335d80(0x385)),worksheetTab[_0x335d80(0x565)][_0x335d80(0xc9d)](_0x335d80(0x385));if(_0x4d2680)_0x4d2680[_0x335d80(0x565)][_0x335d80(0xc9d)](_0x335d80(0x385));if(_0x237075)_0x237075[_0x335d80(0x565)]['remove'](_0x335d80(0x385));if(_0x5d5127)_0x5d5127['classList'][_0x335d80(0xc9d)](_0x335d80(0x385));textInputArea['classList'][_0x335d80(0xc9d)](_0x335d80(0x76a)),topicInputArea[_0x335d80(0x565)]['add'](_0x335d80(0x76a)),fileInputArea['classList'][_0x335d80(0x21a)](_0x335d80(0x76a)),worksheetInputArea['classList'][_0x335d80(0x21a)](_0x335d80(0x76a));if(_0x5533c9)_0x5533c9[_0x335d80(0x565)][_0x335d80(0x21a)]('hidden');if(_0x2cc90d)_0x2cc90d['classList'][_0x335d80(0x21a)](_0x335d80(0x76a));if(_0x57548a)_0x57548a['classList'][_0x335d80(0x21a)]('hidden');}),fileTab[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x21bcd1=_0x3de456;fileTab[_0x21bcd1(0x565)][_0x21bcd1(0x21a)](_0x21bcd1(0x385)),topicTab['classList']['remove'](_0x21bcd1(0x385)),textTab[_0x21bcd1(0x565)]['remove'](_0x21bcd1(0x385)),worksheetTab[_0x21bcd1(0x565)][_0x21bcd1(0xc9d)]('active');if(_0x4d2680)_0x4d2680[_0x21bcd1(0x565)]['remove'](_0x21bcd1(0x385));if(_0x237075)_0x237075[_0x21bcd1(0x565)][_0x21bcd1(0xc9d)]('active');if(_0x5d5127)_0x5d5127[_0x21bcd1(0x565)][_0x21bcd1(0xc9d)](_0x21bcd1(0x385));fileInputArea[_0x21bcd1(0x565)][_0x21bcd1(0xc9d)](_0x21bcd1(0x76a)),topicInputArea['classList']['add'](_0x21bcd1(0x76a)),textInputArea[_0x21bcd1(0x565)]['add'](_0x21bcd1(0x76a)),worksheetInputArea[_0x21bcd1(0x565)][_0x21bcd1(0x21a)]('hidden');if(_0x5533c9)_0x5533c9[_0x21bcd1(0x565)][_0x21bcd1(0x21a)](_0x21bcd1(0x76a));if(_0x2cc90d)_0x2cc90d['classList'][_0x21bcd1(0x21a)](_0x21bcd1(0x76a));if(_0x57548a)_0x57548a[_0x21bcd1(0x565)][_0x21bcd1(0x21a)](_0x21bcd1(0x76a));}),worksheetTab[_0x3de456(0xa02)]('click',()=>{const _0xd8f2a6=_0x3de456;worksheetTab[_0xd8f2a6(0x565)][_0xd8f2a6(0x21a)](_0xd8f2a6(0x385)),topicTab[_0xd8f2a6(0x565)][_0xd8f2a6(0xc9d)]('active'),textTab[_0xd8f2a6(0x565)][_0xd8f2a6(0xc9d)](_0xd8f2a6(0x385)),fileTab[_0xd8f2a6(0x565)][_0xd8f2a6(0xc9d)](_0xd8f2a6(0x385));if(_0x4d2680)_0x4d2680['classList']['remove'](_0xd8f2a6(0x385));if(_0x237075)_0x237075[_0xd8f2a6(0x565)][_0xd8f2a6(0xc9d)](_0xd8f2a6(0x385));if(_0x5d5127)_0x5d5127[_0xd8f2a6(0x565)][_0xd8f2a6(0xc9d)](_0xd8f2a6(0x385));worksheetInputArea[_0xd8f2a6(0x565)][_0xd8f2a6(0xc9d)]('hidden'),topicInputArea[_0xd8f2a6(0x565)][_0xd8f2a6(0x21a)](_0xd8f2a6(0x76a)),textInputArea[_0xd8f2a6(0x565)][_0xd8f2a6(0x21a)]('hidden'),fileInputArea[_0xd8f2a6(0x565)]['add'](_0xd8f2a6(0x76a));if(_0x5533c9)_0x5533c9['classList'][_0xd8f2a6(0x21a)](_0xd8f2a6(0x76a));if(_0x2cc90d)_0x2cc90d[_0xd8f2a6(0x565)]['add']('hidden');if(_0x57548a)_0x57548a[_0xd8f2a6(0x565)][_0xd8f2a6(0x21a)]('hidden');});const _0x471ef0=document[_0x3de456(0x64e)](_0x3de456(0x438)),_0x91f693=document[_0x3de456(0x64e)](_0x3de456(0x905));_0x471ef0&&_0x471ef0[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x24b68b=_0x3de456;topicTab[_0x24b68b(0x565)]['remove']('active'),textTab[_0x24b68b(0x565)][_0x24b68b(0xc9d)](_0x24b68b(0x385)),fileTab['classList']['remove'](_0x24b68b(0x385)),worksheetTab['classList'][_0x24b68b(0xc9d)]('active');if(_0x4d2680)_0x4d2680[_0x24b68b(0x565)][_0x24b68b(0xc9d)](_0x24b68b(0x385));if(_0x237075)_0x237075[_0x24b68b(0x565)][_0x24b68b(0xc9d)]('active');if(_0x5d5127)_0x5d5127[_0x24b68b(0x565)][_0x24b68b(0xc9d)](_0x24b68b(0x385));_0x471ef0[_0x24b68b(0x565)][_0x24b68b(0x21a)]('active'),topicInputArea[_0x24b68b(0x565)][_0x24b68b(0x21a)](_0x24b68b(0x76a)),textInputArea['classList'][_0x24b68b(0x21a)](_0x24b68b(0x76a)),fileInputArea[_0x24b68b(0x565)][_0x24b68b(0x21a)](_0x24b68b(0x76a)),worksheetInputArea[_0x24b68b(0x565)][_0x24b68b(0x21a)](_0x24b68b(0x76a));if(_0x5533c9)_0x5533c9[_0x24b68b(0x565)][_0x24b68b(0x21a)]('hidden');if(_0x2cc90d)_0x2cc90d['classList']['add']('hidden');if(_0x57548a)_0x57548a['classList'][_0x24b68b(0x21a)](_0x24b68b(0x76a));_0x91f693[_0x24b68b(0x565)][_0x24b68b(0xc9d)](_0x24b68b(0x76a)),displayQuestionBank();});_0x4d2680&&(_0x4d2680[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x3089e5=_0x3de456;_0x4d2680[_0x3089e5(0x565)][_0x3089e5(0x21a)](_0x3089e5(0x385)),topicTab[_0x3089e5(0x565)]['remove'](_0x3089e5(0x385)),textTab['classList'][_0x3089e5(0xc9d)](_0x3089e5(0x385)),fileTab['classList'][_0x3089e5(0xc9d)]('active'),worksheetTab[_0x3089e5(0x565)][_0x3089e5(0xc9d)](_0x3089e5(0x385));if(_0x237075)_0x237075[_0x3089e5(0x565)][_0x3089e5(0xc9d)](_0x3089e5(0x385));if(_0x5d5127)_0x5d5127['classList'][_0x3089e5(0xc9d)](_0x3089e5(0x385));_0x5533c9[_0x3089e5(0x565)][_0x3089e5(0xc9d)](_0x3089e5(0x76a)),topicInputArea['classList'][_0x3089e5(0x21a)](_0x3089e5(0x76a)),textInputArea[_0x3089e5(0x565)]['add'](_0x3089e5(0x76a)),fileInputArea[_0x3089e5(0x565)]['add']('hidden'),worksheetInputArea['classList']['add'](_0x3089e5(0x76a));if(_0x2cc90d)_0x2cc90d[_0x3089e5(0x565)][_0x3089e5(0x21a)](_0x3089e5(0x76a));if(_0x57548a)_0x57548a[_0x3089e5(0x565)][_0x3089e5(0x21a)](_0x3089e5(0x76a));}),document[_0x3de456(0x64e)]('generate-from-link-btn')['addEventListener'](_0x3de456(0x4f9),handleGenerateFromLink));_0x237075&&_0x237075[_0x3de456(0xa02)]('click',()=>{const _0x4dae90=_0x3de456;_0x237075[_0x4dae90(0x565)][_0x4dae90(0x21a)](_0x4dae90(0x385)),topicTab[_0x4dae90(0x565)]['remove'](_0x4dae90(0x385)),textTab['classList'][_0x4dae90(0xc9d)](_0x4dae90(0x385)),fileTab['classList'][_0x4dae90(0xc9d)]('active'),worksheetTab[_0x4dae90(0x565)]['remove'](_0x4dae90(0x385));if(_0x4d2680)_0x4d2680[_0x4dae90(0x565)]['remove']('active');if(_0x471ef0)_0x471ef0[_0x4dae90(0x565)][_0x4dae90(0xc9d)](_0x4dae90(0x385));if(_0x5d5127)_0x5d5127[_0x4dae90(0x565)][_0x4dae90(0xc9d)](_0x4dae90(0x385));_0x2cc90d[_0x4dae90(0x565)]['remove'](_0x4dae90(0x76a)),topicInputArea[_0x4dae90(0x565)][_0x4dae90(0x21a)](_0x4dae90(0x76a)),textInputArea[_0x4dae90(0x565)][_0x4dae90(0x21a)](_0x4dae90(0x76a)),fileInputArea[_0x4dae90(0x565)][_0x4dae90(0x21a)]('hidden'),worksheetInputArea['classList'][_0x4dae90(0x21a)]('hidden');if(_0x5533c9)_0x5533c9[_0x4dae90(0x565)]['add']('hidden');if(_0x91f693)_0x91f693[_0x4dae90(0x565)]['add'](_0x4dae90(0x76a));if(_0x57548a)_0x57548a[_0x4dae90(0x565)]['add']('hidden');});_0x5d5127&&_0x5d5127[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x3e5316=_0x3de456;_0x5d5127[_0x3e5316(0x565)][_0x3e5316(0x21a)](_0x3e5316(0x385)),topicTab[_0x3e5316(0x565)][_0x3e5316(0xc9d)](_0x3e5316(0x385)),textTab[_0x3e5316(0x565)][_0x3e5316(0xc9d)]('active'),fileTab[_0x3e5316(0x565)][_0x3e5316(0xc9d)](_0x3e5316(0x385)),worksheetTab[_0x3e5316(0x565)]['remove'](_0x3e5316(0x385));if(_0x4d2680)_0x4d2680['classList'][_0x3e5316(0xc9d)](_0x3e5316(0x385));if(_0x237075)_0x237075['classList'][_0x3e5316(0xc9d)](_0x3e5316(0x385));if(_0x471ef0)_0x471ef0[_0x3e5316(0x565)][_0x3e5316(0xc9d)](_0x3e5316(0x385));_0x57548a[_0x3e5316(0x565)]['remove'](_0x3e5316(0x76a)),topicInputArea[_0x3e5316(0x565)]['add'](_0x3e5316(0x76a)),textInputArea[_0x3e5316(0x565)][_0x3e5316(0x21a)](_0x3e5316(0x76a)),fileInputArea[_0x3e5316(0x565)][_0x3e5316(0x21a)](_0x3e5316(0x76a)),worksheetInputArea[_0x3e5316(0x565)]['add'](_0x3e5316(0x76a));if(_0x5533c9)_0x5533c9[_0x3e5316(0x565)][_0x3e5316(0x21a)](_0x3e5316(0x76a));if(_0x2cc90d)_0x2cc90d['classList']['add'](_0x3e5316(0x76a));if(_0x91f693)_0x91f693[_0x3e5316(0x565)][_0x3e5316(0x21a)](_0x3e5316(0x76a));});const _0x5b0662=document[_0x3de456(0x64e)](_0x3de456(0x22d)),_0x555a9f=document[_0x3de456(0x64e)](_0x3de456(0x37e));if(_0x5b0662){const _0x286cf1=document[_0x3de456(0x64e)](_0x3de456(0x22d)),_0x3ec2f4=document[_0x3de456(0x64e)](_0x3de456(0x37e)),_0x523796=document['getElementById'](_0x3de456(0x6b7)),_0x33e82d=document[_0x3de456(0x64e)](_0x3de456(0x892)),_0x50aac1=document[_0x3de456(0x64e)](_0x3de456(0x9f7)),_0x34f7f7=document[_0x3de456(0x64e)]('blueprint-topics-list');_0x286cf1&&_0x286cf1['addEventListener'](_0x3de456(0x718),async _0x3c58cb=>{const _0x3f28de=_0x3de456;_0x523796['classList'][_0x3f28de(0x21a)](_0x3f28de(0x76a)),_0x50aac1[_0x3f28de(0x565)][_0x3f28de(0x21a)](_0x3f28de(0x76a)),_0x33e82d[_0x3f28de(0x5f7)]=![],_0x3ec2f4[_0x3f28de(0x87b)]=!![];const _0x2425db=_0x3c58cb[_0x3f28de(0xa8f)][_0x3f28de(0x5f4)][0x0];if(_0x2425db){_0x3ec2f4[_0x3f28de(0x87b)]=![];try{const _0x3a22f9=await extractTextFromPdf(_0x2425db);await analyzeBlueprintForTopics(_0x3a22f9);}catch(_0x3bc866){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x523796[_0x3f28de(0x565)][_0x3f28de(0x21a)](_0x3f28de(0x76a));}}}),_0x33e82d&&_0x33e82d[_0x3de456(0xa02)](_0x3de456(0x718),_0x4eef6d=>{const _0xa5d6d3=_0x3de456,_0x2a6e95=_0x4eef6d[_0xa5d6d3(0xa8f)][_0xa5d6d3(0x5f7)];_0x50aac1[_0xa5d6d3(0x565)]['toggle']('hidden',!_0x2a6e95),_0x3ec2f4[_0xa5d6d3(0x87b)]=_0x2a6e95;}),_0x34f7f7&&(_0x34f7f7&&_0x34f7f7['addEventListener'](_0x3de456(0x4f9),_0x38bd05=>{const _0x6b26b2=_0x3de456,_0x50296d=_0x38bd05[_0x6b26b2(0xa8f)]['closest'](_0x6b26b2(0x561)),_0x365d57=_0x38bd05[_0x6b26b2(0xa8f)][_0x6b26b2(0x717)](_0x6b26b2(0xb52));if(_0x50296d){const _0x59bea7=unescape(_0x50296d[_0x6b26b2(0x524)][_0x6b26b2(0xdb7)]);generateQuizForSingleTopic(_0x59bea7);}else{if(_0x365d57){const _0x52ac4d=unescape(_0x365d57[_0x6b26b2(0x524)]['topic']);handleGenerateTeachingContent(_0x52ac4d);}}}));}_0x555a9f&&_0x555a9f[_0x3de456(0xa02)](_0x3de456(0x4f9),handleGenerateFromBlueprint);const _0x1e9914=document[_0x3de456(0x64e)]('parallel-test-upload-input'),_0x5786ae=document['getElementById'](_0x3de456(0xbc9));_0x1e9914&&_0x1e9914[_0x3de456(0xa02)](_0x3de456(0x718),_0x28a58b=>{const _0x31a6ff=_0x3de456;_0x5786ae[_0x31a6ff(0x87b)]=_0x28a58b['target']['files'][_0x31a6ff(0x2ee)]===0x0;});_0x5786ae&&_0x5786ae['addEventListener'](_0x3de456(0x4f9),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x3de456(0xa02)](_0x3de456(0x4f9),handleLoadQuiz),startQuizBtn[_0x3de456(0xa02)](_0x3de456(0x4f9),async()=>{const _0x3d29cf=_0x3de456,_0x570876=document['getElementById'](_0x3d29cf(0x770));currentStudentName=_0x570876[_0x3d29cf(0x998)];if(!currentStudentName){showMessage(_0x3d29cf(0xba7));return;}try{const _0x1668d5=currentQuizData['id'],_0x38b49c=doc(db,_0x3d29cf(0x53f)+appId+_0x3d29cf(0x253)+_0x1668d5+'/submissions',currentStudentName),_0x8b7774=await getDoc(_0x38b49c);!_0x8b7774[_0x3d29cf(0x2c9)]()?await setDoc(_0x38b49c,{'studentName':currentStudentName,'startedAt':new Date()[_0x3d29cf(0xd4e)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x38b49c,{'startedAt':new Date()[_0x3d29cf(0xd4e)]()});}catch(_0x590fe8){console[_0x3d29cf(0x894)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x590fe8),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView['classList'][_0x3d29cf(0x21a)](_0x3d29cf(0x76a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3de456(0x64e)](_0x3de456(0x2a8))[_0x3de456(0xa02)](_0x3de456(0x4f9),showJoinGameView),document[_0x3de456(0x64e)]('confirm-join-game-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>showView(_0x3de456(0x35e)));const _0x3770a2=()=>{const _0x2bf4ad=_0x3de456,_0x315c4d=document[_0x2bf4ad(0x64e)](_0x2bf4ad(0x3c7))[_0x2bf4ad(0xd72)]['replace'](/[^a-z0-9]/gi,'_')[_0x2bf4ad(0x468)]();return _0x2bf4ad(0x59a)+(_0x315c4d||'quiz');},_0x361c2a=document[_0x3de456(0x64e)](_0x3de456(0x793));_0x361c2a&&_0x361c2a[_0x3de456(0xa02)](_0x3de456(0xc69),_0x26df20=>{const _0x5f1e10=_0x3de456,_0x4eed9e=_0x26df20[_0x5f1e10(0xa8f)]['value'][_0x5f1e10(0x468)]()['trim'](),_0x354077=document[_0x5f1e10(0x64e)](_0x5f1e10(0xc14)),_0x41d386=_0x354077['querySelectorAll'](_0x5f1e10(0xb7d));_0x41d386['forEach'](_0x36c1da=>{const _0x4ad60d=_0x5f1e10;let _0x48f5ac=![];const _0x1b30b5=_0x36c1da['querySelectorAll'](_0x4ad60d(0x8bb));_0x1b30b5['forEach'](_0x4ed28a=>{const _0x26d1b6=_0x4ad60d,_0x15943f=_0x4ed28a['querySelector']('.topic-name-display')['textContent'][_0x26d1b6(0x468)]();_0x15943f[_0x26d1b6(0xcc5)](_0x4eed9e)?(_0x4ed28a[_0x26d1b6(0x1ff)][_0x26d1b6(0xa16)]=_0x26d1b6(0xab2),_0x48f5ac=!![]):_0x4ed28a[_0x26d1b6(0x1ff)][_0x26d1b6(0xa16)]=_0x26d1b6(0xd78);}),_0x48f5ac?_0x36c1da['style'][_0x4ad60d(0xa16)]='block':_0x36c1da['style'][_0x4ad60d(0xa16)]=_0x4ad60d(0xd78);});});document[_0x3de456(0x64e)](_0x3de456(0xa65))[_0x3de456(0xa02)]('click',()=>exportTableAsImage(_0x3de456(0xbe6),_0x3770a2())),document[_0x3de456(0x64e)](_0x3de456(0xbec))[_0x3de456(0xa02)]('click',()=>exportTableAsPDF(_0x3de456(0x829),_0x3770a2())),document[_0x3de456(0x64e)](_0x3de456(0x414))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>exportTableAsWord(_0x3de456(0xbe6),_0x3770a2())),document[_0x3de456(0x64e)](_0x3de456(0x81f))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>exportTableAsExcel(_0x3de456(0x829),_0x3770a2()));const _0x32bb04=()=>{const _0x37fda8=_0x3de456,_0x2054d8=document['getElementById'](_0x37fda8(0x3c7))[_0x37fda8(0xd72)][_0x37fda8(0x683)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x37fda8(0x659)+(_0x2054d8||'quiz');};document[_0x3de456(0x64e)](_0x3de456(0x3da))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>exportTableAsImage(_0x3de456(0x860),_0x32bb04())),document[_0x3de456(0x64e)](_0x3de456(0x898))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>exportTableAsPDF('quiz-leaderboard-table',_0x32bb04())),document[_0x3de456(0x64e)](_0x3de456(0xc98))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x32bb04())),document[_0x3de456(0x64e)](_0x3de456(0x691))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>exportTableAsExcel(_0x3de456(0xa8c),_0x32bb04())),projectQuizzesList[_0x3de456(0xa02)]('click',async _0x2d835b=>{const _0x55c1c0=_0x3de456,_0x59b78a=_0x2d835b['target'][_0x55c1c0(0x717)](_0x55c1c0(0x231)),_0x5b797f=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x644)),_0x5e20b4=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x49c)),_0x462bc6=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0xd6d)),_0xc98a4f=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x953)),_0x2a3dfd=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x384)),_0x377058=_0x2d835b['target'][_0x55c1c0(0x717)](_0x55c1c0(0x954)),_0x3f6a59=_0x2d835b[_0x55c1c0(0xa8f)]['closest'](_0x55c1c0(0x31a)),_0x256006=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)]('.duplicate-quiz-btn'),_0x51ae10=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x8d5)),_0x2d470b=_0x2d835b[_0x55c1c0(0xa8f)]['closest'](_0x55c1c0(0x7b8)),_0x1754fd=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0xdb6)),_0x3d2458=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)]('.pair-quiz-btn'),_0x4ce942=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x51b)),_0x4a53ad=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)]('.start-presentation-list-btn'),_0x58e1a5=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x444)),_0x471d16=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0x2d8)),_0xa4791=_0x2d835b[_0x55c1c0(0xa8f)]['closest'](_0x55c1c0(0x89b)),_0x21cff8=_0x2d835b['target'][_0x55c1c0(0x717)](_0x55c1c0(0xca1)),_0x509392=_0x2d835b['target']['closest']('.toggle-actions-btn'),_0x3d6c69=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0xc8d)),_0x1d7a9f=_0x2d835b[_0x55c1c0(0xa8f)][_0x55c1c0(0x717)](_0x55c1c0(0xc95)),_0x81fa1e=_0x2d835b['target']['closest'](_0x55c1c0(0x34d));if(_0x1d7a9f){const _0xd22965=_0x1d7a9f[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],_0x1cba53=_0x1d7a9f[_0x55c1c0(0x524)]['mode'],_0x5cdd06=allQuizzes['find'](_0x70632d=>_0x70632d['id']===_0xd22965);_0x5cdd06&&showGameStartConfirmationModal(_0xd22965,_0x1cba53,_0x5cdd06[_0x55c1c0(0xdb7)]);}else{if(_0x81fa1e){const _0x107d53=_0x81fa1e['dataset'][_0x55c1c0(0x67d)];handleStartLiveRace(_0x107d53);}else{if(_0x509392){const _0x49d1cc=_0x509392[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],_0x1a2ef5=document[_0x55c1c0(0x64e)](_0x55c1c0(0xa64)+_0x49d1cc);_0x1a2ef5&&_0x1a2ef5[_0x55c1c0(0x565)][_0x55c1c0(0xc97)](_0x55c1c0(0x76a));}else{if(_0x5b797f){const _0x5462d0=_0x5b797f['dataset'][_0x55c1c0(0x67d)],_0x2fe309=allQuizzes[_0x55c1c0(0x52f)](_0x59f8d9=>_0x59f8d9['id']===_0x5462d0);_0x2fe309&&handleGenerateParallelPostTest(_0x2fe309);}else{if(_0x5e20b4)handleCompareResults(_0x5e20b4[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],_0x5e20b4[_0x55c1c0(0x524)][_0x55c1c0(0x6b2)]);else{if(_0x462bc6){const _0x531c18=_0x462bc6[_0x55c1c0(0x524)]['quizId'],_0x2292cf=allQuizzes['find'](_0x322b25=>_0x322b25['id']===_0x531c18);_0x2292cf&&_0x2292cf[_0x55c1c0(0xae4)]?(displayLessonPlan(_0x2292cf['lessonPlan'],_0x2292cf),showConfirmation(_0x55c1c0(0x400),()=>handleGenerateLessonPlan(_0x531c18)),document[_0x55c1c0(0x64e)](_0x55c1c0(0x4d5))['querySelector']('h3')['textContent']='แผนการสอน',document['getElementById'](_0x55c1c0(0x5d4))[_0x55c1c0(0xd72)]='สร้างใหม่'):handleGenerateLessonPlan(_0x531c18);}else{if(_0xc98a4f)handleToggleStarQuiz(_0xc98a4f['dataset']['quizId']);else{if(_0x2a3dfd)copyTextToClipboard(_0x2a3dfd[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],_0x55c1c0(0x45a));else{if(_0x377058)handleOpenQuizEditor(_0x377058[_0x55c1c0(0x524)]['quizId']);else{if(_0x3f6a59)handleQuizSettings(_0x3f6a59[_0x55c1c0(0x524)]['quizId']);else{if(_0x256006)handleDuplicateQuiz(_0x256006['dataset'][_0x55c1c0(0x67d)]);else{if(_0x51ae10)handleRenameQuiz(_0x51ae10[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],_0x51ae10[_0x55c1c0(0x524)][_0x55c1c0(0xdb7)]);else{if(_0x2d470b){const _0x28c6cb=_0x2d470b[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],_0x42bc60=allQuizzes[_0x55c1c0(0x52f)](_0x67c79b=>_0x67c79b['id']===_0x28c6cb);_0x42bc60&&handleGenerateParallelFromBank(_0x42bc60);}else{if(_0x1754fd)handleMoveQuiz(_0x1754fd['dataset'][_0x55c1c0(0x67d)]);else{if(_0x3d2458)handleManualQuizPairing(_0x3d2458[_0x55c1c0(0x524)][_0x55c1c0(0x67d)]);else{if(_0x4ce942)handleUnpairQuiz(_0x4ce942[_0x55c1c0(0x524)][_0x55c1c0(0x67d)]);else{if(_0x4a53ad){const _0x2b5125=_0x4a53ad[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],_0x30348b=allQuizzes[_0x55c1c0(0x52f)](_0x37480e=>_0x37480e['id']===_0x2b5125);if(_0x30348b)startPresentation(_0x30348b);}else{if(_0x58e1a5){const _0x10412c=_0x58e1a5['dataset'][_0x55c1c0(0x67d)],_0x24d5ee=allQuizzes[_0x55c1c0(0x52f)](_0x44d58f=>_0x44d58f['id']===_0x10412c);_0x24d5ee&&(currentQuizData=_0x24d5ee,startAdminTest());}else{if(_0x471d16)actionTargetId=_0x471d16[_0x55c1c0(0x524)][_0x55c1c0(0x67d)],document[_0x55c1c0(0x64e)]('export-pdf-modal')[_0x55c1c0(0x565)][_0x55c1c0(0xc9d)](_0x55c1c0(0x76a));else{if(_0xa4791)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0xa4791[_0x55c1c0(0x524)][_0x55c1c0(0xdb7)]+_0x55c1c0(0x931),()=>handleDeleteQuiz(_0xa4791[_0x55c1c0(0x524)][_0x55c1c0(0x67d)]));else{if(_0x21cff8)handleQuizStatus(_0x21cff8['dataset'][_0x55c1c0(0x67d)]);else{if(_0x3d6c69)handleGenerateEasyVersionQuiz(_0x3d6c69[_0x55c1c0(0x524)][_0x55c1c0(0x67d)]);else _0x59b78a&&showQuizDetailView(_0x59b78a[_0x55c1c0(0x524)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x3de456(0xcda))[_0x3de456(0xa02)]('click',()=>showView(_0x3de456(0x35e))),document[_0x3de456(0x64e)](_0x3de456(0x8f0))[_0x3de456(0xa02)](_0x3de456(0x4f9),confirmAndStartTeamQuiz),document[_0x3de456(0x64e)](_0x3de456(0xa8c))[_0x3de456(0x8b9)](_0x3de456(0x47e))[_0x3de456(0xa02)]('click',_0x4628e7=>{const _0x2a6e50=_0x3de456,_0x5aba7a=_0x4628e7[_0x2a6e50(0xa8f)][_0x2a6e50(0x717)](_0x2a6e50(0xb33));if(!_0x5aba7a||!_0x5aba7a['dataset'][_0x2a6e50(0x705)])return;const _0x497a49=_0x5aba7a[_0x2a6e50(0x524)][_0x2a6e50(0x705)];if(quizLeaderboardSortBy===_0x497a49)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2a6e50(0xb9c)?_0x2a6e50(0x507):_0x2a6e50(0xb9c);else{quizLeaderboardSortBy=_0x497a49;const _0x1bd324=['studentName'];quizLeaderboardSortOrder=_0x1bd324[_0x2a6e50(0xcc5)](_0x497a49)?_0x2a6e50(0xb9c):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2a6e50(0x929));}),document[_0x3de456(0x64e)](_0x3de456(0x9be))[_0x3de456(0xa02)](_0x3de456(0x4f9),closePresentation),document['getElementById'](_0x3de456(0x87d))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x3de456(0x8b8))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x4eaa8e=_0x3de456;currentQuizData[_0x4eaa8e(0xc42)]&&currentPresentationSlide<currentQuizData[_0x4eaa8e(0xc42)][_0x4eaa8e(0x2ee)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x3de456(0xa02)](_0x3de456(0x54e),()=>{const _0x5cddec=_0x3de456;!document[_0x5cddec(0x633)]&&(presentationModal[_0x5cddec(0x1ff)][_0x5cddec(0xa16)]=_0x5cddec(0xd78));}),document[_0x3de456(0x64e)](_0x3de456(0x643))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleDeleteAllStudents),studentList['addEventListener']('click',_0x38fc8c=>{const _0xd67a60=_0x3de456,_0x2b5eb4=_0x38fc8c[_0xd67a60(0xa8f)][_0xd67a60(0x717)](_0xd67a60(0xc65));if(_0x2b5eb4){const _0x46b526=_0x2b5eb4[_0xd67a60(0x524)][_0xd67a60(0xd48)];handleDeleteStudent(_0x46b526);}}),document[_0x3de456(0x64e)](_0x3de456(0x702))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x3de456(0xa02)]('change',_0x2de94a=>{const _0x25917a=_0x3de456,_0x58bbde=_0x2de94a[_0x25917a(0xa8f)][_0x25917a(0x5f4)][0x0],_0x22b25a=document['getElementById'](_0x25917a(0x702)),_0x4ad23b=document[_0x25917a(0x64e)](_0x25917a(0x741)),_0x32fcb1=document[_0x25917a(0x64e)](_0x25917a(0xac1));_0x58bbde?(selectedFile=_0x58bbde,_0x32fcb1[_0x25917a(0x5f7)]?(_0x22b25a[_0x25917a(0x87b)]=!![],analyzeFileForTopics(_0x58bbde)):(_0x22b25a[_0x25917a(0x87b)]=![],_0x4ad23b[_0x25917a(0x565)][_0x25917a(0x21a)](_0x25917a(0x76a)))):(selectedFile=null,_0x22b25a[_0x25917a(0x87b)]=!![],_0x4ad23b[_0x25917a(0x565)][_0x25917a(0x21a)](_0x25917a(0x76a)));}),document[_0x3de456(0x64e)](_0x3de456(0xac1))[_0x3de456(0xa02)](_0x3de456(0x718),_0x524c03=>{const _0x5f9a1c=_0x3de456,_0x344156=_0x524c03['target'][_0x5f9a1c(0x5f7)],_0x10fa90=document[_0x5f9a1c(0x64e)]('generate-from-file-btn'),_0x4ae19a=document['getElementById'](_0x5f9a1c(0x741));_0x344156?(_0x10fa90[_0x5f9a1c(0x87b)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x4ae19a[_0x5f9a1c(0x565)][_0x5f9a1c(0xc9d)](_0x5f9a1c(0x76a)),document['getElementById'](_0x5f9a1c(0x9e2))['innerHTML']=_0x5f9a1c(0x846))):(_0x4ae19a[_0x5f9a1c(0x565)]['add']('hidden'),_0x10fa90[_0x5f9a1c(0x87b)]=!selectedFile);}),document['getElementById'](_0x3de456(0x741))[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x500cdb=>{const _0x22b84d=_0x3de456,_0x4c2c5c=_0x500cdb[_0x22b84d(0xa8f)]['closest'](_0x22b84d(0x38b)),_0x26461f=_0x500cdb[_0x22b84d(0xa8f)][_0x22b84d(0x717)](_0x22b84d(0xb52));if(_0x4c2c5c){const _0x519611=unescape(_0x4c2c5c[_0x22b84d(0x524)][_0x22b84d(0xdb7)]);generateHybridQuizForTopic(_0x519611);}else{if(_0x26461f){const _0x1cba65=unescape(_0x26461f[_0x22b84d(0x524)][_0x22b84d(0xdb7)]),_0x609d5f=document[_0x22b84d(0x64e)]('difficulty-level-select')[_0x22b84d(0x998)];handleGenerateAndShowLesson(_0x1cba65,_0x609d5f);}}}),document[_0x3de456(0x64e)](_0x3de456(0x9e0))[_0x3de456(0xa02)]('change',_0x2ac558=>{const _0x58983b=_0x3de456,_0x5973ae=document[_0x58983b(0x64e)](_0x58983b(0xd2f)),_0xe120c=document[_0x58983b(0x64e)](_0x58983b(0xd41)),_0x341c25=document[_0x58983b(0x64e)](_0x58983b(0x47a));_0x2ac558[_0x58983b(0xa8f)][_0x58983b(0x998)]==='none'?_0x5973ae[_0x58983b(0x565)]['add'](_0x58983b(0x76a)):(_0x5973ae[_0x58983b(0x565)][_0x58983b(0xc9d)]('hidden'),_0x2ac558[_0x58983b(0xa8f)][_0x58983b(0x998)]===_0x58983b(0x273)?(_0xe120c[_0x58983b(0xd72)]=_0x58983b(0xad5),_0x341c25[_0x58983b(0x998)]='10'):(_0xe120c[_0x58983b(0xd72)]='ระยะเวลา\x20(วินาที):',_0x341c25[_0x58983b(0x998)]='30'));}),document[_0x3de456(0x64e)]('quiz-type-select')[_0x3de456(0xa02)]('change',_0x350dd4=>{const _0x3706ee=_0x3de456,_0x553d41=document[_0x3706ee(0x64e)](_0x3706ee(0xde7)),_0x2e8b4b=_0x350dd4[_0x3706ee(0xa8f)]['value'],_0x93269f=document['querySelector'](_0x3706ee(0x890)),_0x1fc76e=document['getElementById'](_0x3706ee(0xa3e)),_0x12ed64=document['getElementById'](_0x3706ee(0x7e3));_0x2e8b4b===_0x3706ee(0x8af)?_0x93269f[_0x3706ee(0xd72)]=_0x3706ee(0xb10):_0x93269f[_0x3706ee(0xd72)]=_0x3706ee(0x5d2),_0x2e8b4b==='multiple_choice'||_0x2e8b4b===_0x3706ee(0xa83)||_0x2e8b4b===_0x3706ee(0x4f4)?_0x553d41[_0x3706ee(0x565)]['remove'](_0x3706ee(0x76a)):_0x553d41[_0x3706ee(0x565)][_0x3706ee(0x21a)](_0x3706ee(0x76a)),_0x1fc76e[_0x3706ee(0x62c)]=_0x12ed64['value'];}),document[_0x3de456(0x64e)](_0x3de456(0x7e3))[_0x3de456(0xa02)](_0x3de456(0xc69),_0x2bd731=>{const _0x3184de=_0x3de456;document[_0x3184de(0x64e)](_0x3184de(0xa3e))[_0x3184de(0x62c)]=_0x2bd731['target'][_0x3184de(0x998)];}),document[_0x3de456(0x64e)](_0x3de456(0xae5))[_0x3de456(0xa02)](_0x3de456(0x718),_0x2f47c1=>{const _0xe441bb=_0x3de456,_0x10ced7=document['getElementById'](_0xe441bb(0xc89)),_0x419687=document[_0xe441bb(0x64e)](_0xe441bb(0x712)),_0x254ab5=document['getElementById'](_0xe441bb(0xddf));_0x2f47c1['target'][_0xe441bb(0x998)]===_0xe441bb(0xd78)?_0x10ced7['classList'][_0xe441bb(0x21a)](_0xe441bb(0x76a)):(_0x10ced7[_0xe441bb(0x565)][_0xe441bb(0xc9d)](_0xe441bb(0x76a)),_0x2f47c1[_0xe441bb(0xa8f)][_0xe441bb(0x998)]===_0xe441bb(0x273)?_0x419687[_0xe441bb(0xd72)]=_0xe441bb(0xad5):_0x419687[_0xe441bb(0xd72)]=_0xe441bb(0x874));}),document[_0x3de456(0x64e)](_0x3de456(0xada))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x1e0e17=_0x3de456;document[_0x1e0e17(0x64e)](_0x1e0e17(0x92a))['classList'][_0x1e0e17(0x21a)]('hidden');}),document['getElementById'](_0x3de456(0xd3c))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x3b02c8=_0x3de456;document[_0x3b02c8(0x64e)](_0x3b02c8(0x92a))[_0x3b02c8(0x565)][_0x3b02c8(0x21a)](_0x3b02c8(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0x841))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleVerifyAnswersInEditor),document[_0x3de456(0x64e)](_0x3de456(0x80a))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x19bd2a=_0x3de456;document[_0x19bd2a(0x64e)](_0x19bd2a(0x92a))[_0x19bd2a(0x565)][_0x19bd2a(0x21a)](_0x19bd2a(0x76a)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x3de456(0x64e)]('auto-fix-latex-btn')['addEventListener'](_0x3de456(0x4f9),handleAutoFixLatex);const _0x156e43=document['getElementById'](_0x3de456(0xb5b));_0x156e43&&_0x156e43[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x53f71f=>{const _0x3cc565=_0x3de456,_0x50aa7a=_0x53f71f[_0x3cc565(0xa8f)]['closest'](_0x3cc565(0x904));if(_0x50aa7a){const _0x3f6d36=_0x50aa7a[_0x3cc565(0x717)](_0x3cc565(0x968)),_0xe14148=parseInt(_0x3f6d36[_0x3cc565(0x524)][_0x3cc565(0x672)],0xa);handleRegenerateQuestionInEditor(_0xe14148);return;}const _0x1fc78b=_0x53f71f[_0x3cc565(0xa8f)][_0x3cc565(0x717)](_0x3cc565(0x71d));if(_0x1fc78b){const _0xc761c7=_0x1fc78b[_0x3cc565(0x717)](_0x3cc565(0x968)),_0x2d6085=parseInt(_0xc761c7[_0x3cc565(0x524)][_0x3cc565(0x672)],0xa);handleDeleteQuestionInEditor(_0x2d6085);return;}const _0x5b0184=_0x53f71f[_0x3cc565(0xa8f)][_0x3cc565(0x717)]('#add-question-editor-btn');if(_0x5b0184){handleAddQuestionInEditor();return;}});document[_0x3de456(0x64e)](_0x3de456(0xdb0))['addEventListener']('click',openQuizBankModal),document[_0x3de456(0x64e)](_0x3de456(0x5ed))[_0x3de456(0xa02)]('click',()=>{const _0x3711d8=_0x3de456;document[_0x3711d8(0x64e)](_0x3711d8(0x6ac))[_0x3711d8(0x565)]['add'](_0x3711d8(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0x5f1))[_0x3de456(0xa02)](_0x3de456(0xc69),_0x157c75=>renderQuizBankList(_0x157c75[_0x3de456(0xa8f)]['value']));const _0x4328c8=document[_0x3de456(0x64e)]('math-topics-checkbox-container');if(_0x4328c8){let _0x141a92=null;_0x4328c8[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x46cbf8=>{const _0x2c0da5=_0x3de456,_0x407e38=_0x46cbf8[_0x2c0da5(0xa8f)],_0x5e3e9e=_0x407e38['closest'](_0x2c0da5(0xb0d)),_0x360f4a=_0x407e38[_0x2c0da5(0x717)](_0x2c0da5(0x780)),_0x2e636e=_0x407e38[_0x2c0da5(0x717)](_0x2c0da5(0x492)),_0x4f9064=_0x407e38[_0x2c0da5(0x717)]('.cancel-edit-topic-btn');if(_0x360f4a){_0x46cbf8[_0x2c0da5(0x304)]();const _0x3e94f4=_0x360f4a[_0x2c0da5(0x524)]['id'],_0x27917c=_0x360f4a[_0x2c0da5(0x717)](_0x2c0da5(0x4d4))[_0x2c0da5(0x8b9)](_0x2c0da5(0x8ac))[_0x2c0da5(0xd72)];showConfirmation(_0x2c0da5(0xdd2)+_0x27917c+'\x22?',()=>handleDeleteCustomTopic(_0x3e94f4));}else{if(_0x5e3e9e){_0x46cbf8[_0x2c0da5(0x304)]();_0x141a92&&toggleTopicEditMode(_0x141a92,![]);const _0x595baa=_0x5e3e9e[_0x2c0da5(0x717)](_0x2c0da5(0xdb3));_0x141a92=_0x595baa,toggleTopicEditMode(_0x595baa,!![]);}else{if(_0x2e636e){_0x46cbf8[_0x2c0da5(0x304)]();const _0x2fa7cf=_0x2e636e[_0x2c0da5(0x524)]['id'],_0x5b36c9=_0x2e636e[_0x2c0da5(0x717)](_0x2c0da5(0xdb3)),_0x3a12fa=_0x5b36c9[_0x2c0da5(0x8b9)]('.topic-name-input')[_0x2c0da5(0x998)];handleUpdateCustomTopic(_0x2fa7cf,_0x3a12fa),_0x141a92=null;}else{if(_0x4f9064){_0x46cbf8[_0x2c0da5(0x304)]();const _0x3cba59=_0x4f9064[_0x2c0da5(0x717)](_0x2c0da5(0xdb3));toggleTopicEditMode(_0x3cba59,![]),_0x141a92=null;}}}}}),document[_0x3de456(0x64e)](_0x3de456(0xddc))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x429b8a=_0x3de456;document[_0x429b8a(0x64e)](_0x429b8a(0xd2a))[_0x429b8a(0x565)]['add'](_0x429b8a(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0xbcc))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x396bf3=_0x3de456;document[_0x396bf3(0x64e)]('lesson-plan-modal')[_0x396bf3(0x565)][_0x396bf3(0x21a)](_0x396bf3(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0xa94))[_0x3de456(0xa02)](_0x3de456(0x4f9),handleExportLessonPDF);}document[_0x3de456(0x64e)](_0x3de456(0x7b0))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x370cee=_0x3de456;document[_0x370cee(0x64e)](_0x370cee(0x900))[_0x370cee(0x565)][_0x370cee(0x21a)](_0x370cee(0x76a));}),document[_0x3de456(0x64e)](_0x3de456(0xd3f))[_0x3de456(0xa02)](_0x3de456(0x4f9),()=>{const _0x1a6d6d=_0x3de456;document[_0x1a6d6d(0x64e)](_0x1a6d6d(0x900))['classList'][_0x1a6d6d(0x21a)](_0x1a6d6d(0x76a));}),setupComparisonModalTabs(),document[_0x3de456(0xdd4)][_0x3de456(0xa02)](_0x3de456(0x4f9),function(_0x16430c){const _0xcee708=_0x3de456;if(_0x16430c['target'][_0xcee708(0x565)][_0xcee708(0xa60)](_0xcee708(0xaa6))){const _0x474ad2=unescape(_0x16430c[_0xcee708(0xa8f)][_0xcee708(0x524)][_0xcee708(0xdb7)]);startSkillPractice(_0x474ad2);}}),document[_0x3de456(0x64e)]('scores-tab-content')[_0x3de456(0xa02)](_0x3de456(0x4f9),_0x1522bc=>{const _0x12acc2=_0x3de456,_0x4b7264=_0x1522bc[_0x12acc2(0xa8f)][_0x12acc2(0x717)](_0x12acc2(0x4ef));if(_0x4b7264){const _0xaee532=_0x4b7264[_0x12acc2(0x524)][_0x12acc2(0xd48)];handleDeleteSubmission(_0xaee532);}});}async function handleStartGroupMode(_0x97b878,_0x226b38=![]){const _0x42dbf3=_0x354eeb,_0x8661af=allQuizzes['find'](_0x50df85=>_0x50df85['id']===_0x97b878)||allQuizzesGlobal[_0x42dbf3(0x52f)](_0x5ab3ac=>_0x5ab3ac['id']===_0x97b878);if(!_0x8661af){showMessage(_0x42dbf3(0xccb));return;}currentQuizData=getShuffledQuiz(_0x8661af);const _0x1ba13f=Math['floor'](0x3e8+Math[_0x42dbf3(0xb7b)]()*0x2328)[_0x42dbf3(0x3ea)]();try{const _0x4628a0=await addDoc(collection(db,_0x42dbf3(0x53f)+appId+_0x42dbf3(0xc1f)),{'quizId':_0x8661af['id'],'projectId':_0x8661af['projectId'],'status':_0x42dbf3(0xcca),'pin':_0x1ba13f,'mode':_0x42dbf3(0x8dc),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x226b38});currentTeamQuizId=_0x4628a0['id'],showView(_0x42dbf3(0x4a5)),renderAdminTeamQuizDashboard(_0x1ba13f,_0x8661af[_0x42dbf3(0xdb7)],_0x42dbf3(0x8dc)),listenForTeamQuizUpdates();}catch(_0xb7b46f){console[_0x42dbf3(0x894)](_0x42dbf3(0x71e),_0xb7b46f),showMessage(_0x42dbf3(0x221));}}async function showStudentProgressView(){const _0x263610=_0x354eeb;studentInitialView[_0x263610(0x565)][_0x263610(0x21a)](_0x263610(0x76a)),document[_0x263610(0x64e)]('student-progress-view')[_0x263610(0x565)][_0x263610(0xc9d)]('hidden');const _0x4ca81c=document[_0x263610(0x64e)]('progress-project-select'),_0x1466b5=document[_0x263610(0x64e)](_0x263610(0x9b7)),_0x4df44b=document[_0x263610(0x64e)](_0x263610(0xd26));_0x4df44b[_0x263610(0xc5e)]=_0x263610(0x1f2),_0x1466b5[_0x263610(0xc5e)]=_0x263610(0x5fd),_0x1466b5[_0x263610(0x87b)]=!![],_0x4ca81c[_0x263610(0xc5e)]=_0x263610(0xbac);if(allProjects[_0x263610(0x2ee)]===0x0){const _0x2a5ee7=collection(db,_0x263610(0x53f)+appId+_0x263610(0x32d)),_0x15940e=await getDocs(_0x2a5ee7);allProjects=_0x15940e['docs']['map'](_0x1f6ccf=>({'id':_0x1f6ccf['id'],..._0x1f6ccf['data']()}));}const _0x573b55=allProjects[_0x263610(0xdc7)](_0x5ac850=>_0x5ac850['settings']?.[_0x263610(0xb04)]!==![]);_0x573b55['sort']((_0x56bd74,_0x11e8be)=>_0x56bd74[_0x263610(0x7dc)][_0x263610(0x202)](_0x11e8be[_0x263610(0x7dc)],'th')),_0x4ca81c[_0x263610(0xc5e)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x573b55[_0x263610(0x1fa)](_0x5d1184=>_0x263610(0x3e8)+_0x5d1184['id']+'\x22>'+_0x5d1184['projectName']+_0x263610(0x2ea))['join'](''),_0x4ca81c[_0x263610(0x4e0)]=()=>{const _0x44f9c5=_0x263610,_0xa5dff=_0x1466b5[_0x44f9c5(0x998)],_0x28086e=_0x4ca81c['value'];_0x1466b5[_0x44f9c5(0x87b)]=!![],_0x1466b5[_0x44f9c5(0xc5e)]=_0x44f9c5(0x5fd),_0x4df44b[_0x44f9c5(0xc5e)]=_0x44f9c5(0x56b);if(!_0x28086e)return;const _0xae9511=allProjects['find'](_0x218090=>_0x218090['id']===_0x28086e);if(!_0xae9511||!_0xae9511[_0x44f9c5(0x4c1)])return;const _0x555be2=()=>{const _0x1733cb=_0x44f9c5;_0x1466b5[_0x1733cb(0xc5e)]=_0x1733cb(0x5fd)+_0xae9511['students'][_0x1733cb(0x1fa)](_0x1165a0=>_0x1733cb(0x3e8)+_0x1165a0+'\x22>'+_0x1165a0+_0x1733cb(0x2ea))[_0x1733cb(0x5fa)](''),_0x1466b5[_0x1733cb(0x87b)]=![];const _0x159640=Array[_0x1733cb(0x941)](_0x1466b5[_0x1733cb(0x3e0)])[_0x1733cb(0x1fa)](_0x22f795=>_0x22f795[_0x1733cb(0x998)]);if(_0xa5dff&&_0x159640['includes'](_0xa5dff))_0x1466b5[_0x1733cb(0x998)]=_0xa5dff,_0x1466b5[_0x1733cb(0xc7c)](new Event(_0x1733cb(0x718)));else _0xae9511[_0x1733cb(0x4c1)]['length']===0x1&&(_0x1466b5[_0x1733cb(0x998)]=_0xae9511[_0x1733cb(0x4c1)][0x0],_0x1466b5['dispatchEvent'](new Event(_0x1733cb(0x718))));};if(_0xae9511[_0x44f9c5(0x992)]?.[_0x44f9c5(0x529)]){if(sessionStorage[_0x44f9c5(0x677)](_0x44f9c5(0x33e)+_0x28086e)===_0x44f9c5(0x6b4)){_0x555be2();return;}const _0x384ef0=document['getElementById']('project-passcode-modal'),_0x29bf44=document['getElementById'](_0x44f9c5(0x3ab)),_0x4b9b8b=document[_0x44f9c5(0x64e)]('cancel-passcode-btn'),_0x3005cd=document['getElementById'](_0x44f9c5(0x9f1)),_0x5ec916=document[_0x44f9c5(0x64e)](_0x44f9c5(0x3fc));document[_0x44f9c5(0x64e)](_0x44f9c5(0x78e))[_0x44f9c5(0xd72)]='สำหรับโปรเจค:\x20'+_0xae9511['projectName'],_0x3005cd['value']='',_0x5ec916[_0x44f9c5(0x565)][_0x44f9c5(0x21a)](_0x44f9c5(0x76a)),_0x384ef0['classList']['remove'](_0x44f9c5(0x76a));const _0x1cc3a6=()=>{const _0x2da00f=_0x44f9c5,_0xd5b8d5=_0x3005cd['value']['trim']();_0xd5b8d5===_0xae9511[_0x2da00f(0x992)][_0x2da00f(0x46f)]?(sessionStorage['setItem'](_0x2da00f(0x33e)+_0x28086e,_0x2da00f(0x6b4)),_0x384ef0[_0x2da00f(0x565)]['add'](_0x2da00f(0x76a)),_0x555be2(),_0x29bf44[_0x2da00f(0xac0)](_0x2da00f(0x4f9),_0x1cc3a6)):_0x5ec916[_0x2da00f(0x565)][_0x2da00f(0xc9d)](_0x2da00f(0x76a));};_0x29bf44[_0x44f9c5(0xa5d)]=_0x1cc3a6,_0x4b9b8b[_0x44f9c5(0xa5d)]=()=>{const _0x1d00a9=_0x44f9c5;_0x384ef0[_0x1d00a9(0x565)][_0x1d00a9(0x21a)]('hidden'),_0x4ca81c[_0x1d00a9(0x998)]='',_0x29bf44[_0x1d00a9(0xac0)](_0x1d00a9(0x4f9),_0x1cc3a6);};}else _0x555be2();},_0x1466b5[_0x263610(0x4e0)]=()=>{const _0x3bd62b=_0x263610,_0x43f21a=_0x4ca81c[_0x3bd62b(0x998)],_0x425774=_0x1466b5[_0x3bd62b(0x998)];_0x43f21a&&_0x425774&&renderStudentProgressDashboard(_0x43f21a,_0x425774);};}async function confirmAndJoinSyncGame(){const _0x7c42a5=_0x354eeb,_0x14aee0=Array[_0x7c42a5(0x941)](document[_0x7c42a5(0x72d)](_0x7c42a5(0x919)))[_0x7c42a5(0x1fa)](_0x3ba18a=>_0x3ba18a['value']);if(_0x14aee0[_0x7c42a5(0x2ee)]===0x0){showMessage(_0x7c42a5(0x2e9));return;}localTeamPlayers=_0x14aee0,localPlayerTurnIndex=0x0;const _0xe879b0=doc(db,_0x7c42a5(0x53f)+appId+_0x7c42a5(0xcd7),currentLiveGameId);try{const _0x4689ac={};_0x14aee0[_0x7c42a5(0x37d)](_0x143eaf=>{const _0x33c757=_0x7c42a5;_0x4689ac[_0x33c757(0x4d6)+_0x143eaf]={'name':_0x143eaf,'score':0x0,'answered':![],'status':_0x33c757(0x385)};}),await updateDoc(_0xe879b0,_0x4689ac),document[_0x7c42a5(0x64e)](_0x7c42a5(0xa4f))['classList'][_0x7c42a5(0x21a)](_0x7c42a5(0x76a)),currentStudentName=_0x14aee0[0x0],listenForSyncGameUpdates();const _0x34fb39={'gameId':currentLiveGameId,'mode':_0x7c42a5(0x3d2),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x7c42a5(0xb8e),JSON[_0x7c42a5(0xb38)](_0x34fb39)),currentMode!==_0x7c42a5(0xbee)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x7c42a5(0xa02)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x7c42a5(0xcd2),handleVisibilityChange),enterFullscreen(),window[_0x7c42a5(0xa02)](_0x7c42a5(0x655),resetDimTimer),window[_0x7c42a5(0xa02)](_0x7c42a5(0x5ec),resetDimTimer),window[_0x7c42a5(0xa02)](_0x7c42a5(0x99d),resetDimTimer),window[_0x7c42a5(0xa02)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x477c12){console[_0x7c42a5(0x894)](_0x7c42a5(0xa30),_0x477c12),showMessage(_0x7c42a5(0xd9b));}}async function resumeActiveGameSession(){const _0x40dc17=_0x354eeb,_0x1ac63c=sessionStorage[_0x40dc17(0x677)](_0x40dc17(0xb8e));if(!_0x1ac63c)return;const _0x4ad483=JSON[_0x40dc17(0x5ab)](_0x1ac63c),{gameId:_0xeb4604,mode:_0x3eb08d,players:_0x5e9739,turnIndex:_0x15c7b0}=_0x4ad483;try{let _0x16cf91,_0x4aba74;_0x3eb08d===_0x40dc17(0x3d2)?_0x16cf91=doc(db,_0x40dc17(0x53f)+appId+'/public/data/syncGames',_0xeb4604):_0x16cf91=doc(db,'artifacts/'+appId+_0x40dc17(0xc1f),_0xeb4604);_0x4aba74=await getDoc(_0x16cf91);if(!_0x4aba74[_0x40dc17(0x2c9)]()||_0x4aba74[_0x40dc17(0xbb9)]()[_0x40dc17(0xa85)]===_0x40dc17(0x28c)||_0x4aba74['data']()['status']===_0x40dc17(0x6de)){sessionStorage[_0x40dc17(0xad3)](_0x40dc17(0xb8e));return;}console[_0x40dc17(0x4b0)](_0x40dc17(0x995)+_0x3eb08d+_0x40dc17(0xa88)+_0xeb4604+')'),localTeamPlayers=_0x5e9739,localPlayerTurnIndex=_0x15c7b0;if(_0x3eb08d===_0x40dc17(0x3d2))currentLiveGameId=_0xeb4604,currentStudentName=_0x5e9739[0x0],showView(_0x40dc17(0x4a5)),listenForSyncGameUpdates();else{currentTeamQuizId=_0xeb4604;const _0x51ef71=_0x4aba74[_0x40dc17(0xbb9)](),_0x2f2a94=doc(db,'artifacts/'+appId+_0x40dc17(0x450),_0x51ef71['quizId']),_0x467737=await getDoc(_0x2f2a94);_0x467737['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x467737['id'],..._0x467737[_0x40dc17(0xbb9)]()}),showView(_0x40dc17(0x35e)),studentInitialView[_0x40dc17(0x565)][_0x40dc17(0x21a)]('hidden'),renderTeamQuizQuestion());}}catch(_0x187876){console[_0x40dc17(0x894)]('Failed\x20to\x20resume\x20game\x20session:',_0x187876),sessionStorage[_0x40dc17(0xad3)](_0x40dc17(0xb8e));}}function activateFileInputAreaWithLoadedFile(){const _0x412684=_0x354eeb,_0x11acc9=document[_0x412684(0x64e)](_0x412684(0x702)),_0x218d11=document[_0x412684(0x64e)](_0x412684(0x741)),_0x469c56=document[_0x412684(0x64e)](_0x412684(0xac1));selectedFile?_0x469c56['checked']?(_0x11acc9['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x11acc9[_0x412684(0x87b)]=![],_0x218d11[_0x412684(0x565)][_0x412684(0x21a)](_0x412684(0x76a))):(_0x11acc9[_0x412684(0x87b)]=!![],_0x218d11[_0x412684(0x565)][_0x412684(0x21a)](_0x412684(0x76a)));}async function handleKickPlayerSync(_0x39541a){const _0x5e2709=_0x354eeb;if(!currentLiveGameId||!_0x39541a)return;const _0x36ca18=doc(db,'artifacts/'+appId+_0x5e2709(0xcd7),currentLiveGameId),_0x1d0e90={};_0x1d0e90[_0x5e2709(0x4d6)+_0x39541a+_0x5e2709(0x9d4)]='inactive';try{await updateDoc(_0x36ca18,_0x1d0e90);}catch(_0x32118f){console['error'](_0x5e2709(0x9d8)+_0x39541a+_0x5e2709(0x97e),_0x32118f),showMessage(_0x5e2709(0x665));}}async function renderStudentProgressDashboard(_0x35fc87,_0x34794b){const _0x3f7677=_0x354eeb,_0x474c87=document[_0x3f7677(0x64e)](_0x3f7677(0xd26));_0x474c87['innerHTML']=_0x3f7677(0x7fb);try{const _0x59ec3c=collection(db,_0x3f7677(0x53f)+appId+_0x3f7677(0x450)),_0x4e9175=query(_0x59ec3c,where(_0x3f7677(0xd27),'==',_0x35fc87)),_0x3988fe=await getDocs(_0x4e9175),_0x5ad824=_0x3988fe[_0x3f7677(0x2e6)]['map'](_0x2b968a=>({'id':_0x2b968a['id'],..._0x2b968a[_0x3f7677(0xbb9)]()})),_0x5b1963=_0x5ad824[_0x3f7677(0x1fa)](_0x3e0815=>getDoc(doc(db,_0x3f7677(0x53f)+appId+_0x3f7677(0x253)+_0x3e0815['id']+_0x3f7677(0x6f1),_0x34794b))),_0x57145a=await Promise[_0x3f7677(0x885)](_0x5b1963),_0x581cfd=_0x57145a[_0x3f7677(0xdc7)](_0x16f5f5=>_0x16f5f5[_0x3f7677(0x2c9)]())[_0x3f7677(0x1fa)](_0x62bc46=>({'quizId':_0x62bc46[_0x3f7677(0x422)][_0x3f7677(0xdce)][_0x3f7677(0xdce)]['id'],..._0x62bc46[_0x3f7677(0xbb9)]()}));if(_0x581cfd[_0x3f7677(0x2ee)]===0x0){_0x474c87['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x161a0c=_0x3f7677(0xb20);_0x581cfd[_0x3f7677(0x37d)](_0x5042af=>{const _0xa1d447=_0x3f7677,_0xc66927=_0x5ad824[_0xa1d447(0x52f)](_0x41aadc=>_0x41aadc['id']===_0x5042af[_0xa1d447(0x67d)]),_0x5c49c9=_0xc66927[_0xa1d447(0x992)]?.['resultsDisplay']||_0xa1d447(0x754),_0x552844=_0xc66927[_0xa1d447(0x992)]?.[_0xa1d447(0x66b)]??0x0,_0x2ae42f=_0x5042af[_0xa1d447(0x915)]>=_0x552844;let _0x34ca67='',_0x291553='bg-gray-50';switch(_0x5c49c9){case _0xa1d447(0x754):case'show_results_only':_0x291553=_0x2ae42f?'bg-green-50':'bg-red-50',_0x34ca67='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x2ae42f?'text-green-700':_0xa1d447(0x32e))+'\x22>'+_0x5042af[_0xa1d447(0x915)]+_0xa1d447(0x865)+_0x5042af[_0xa1d447(0xabd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x2ae42f?'bg-green-200\x20text-green-800':_0xa1d447(0x3ae))+'\x22>'+(_0x2ae42f?_0xa1d447(0xa66):_0xa1d447(0x237))+_0xa1d447(0xb00);break;case _0xa1d447(0xb1e):_0x291553=_0x2ae42f?_0xa1d447(0xdeb):_0xa1d447(0x8ad),_0x34ca67=_0xa1d447(0xbe8)+(_0x2ae42f?'bg-green-200\x20text-green-800':_0xa1d447(0x3ae))+'\x22>'+(_0x2ae42f?_0xa1d447(0xa66):_0xa1d447(0x237))+_0xa1d447(0xb00);break;case _0xa1d447(0x3cc):_0x291553='bg-yellow-50',_0x34ca67='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x161a0c+=_0xa1d447(0x24a)+_0x291553+_0xa1d447(0x4d3)+_0xc66927[_0xa1d447(0xdb7)]+_0xa1d447(0x449)+_0x5042af[_0xa1d447(0xc70)]['length']+_0xa1d447(0x334)+new Date(_0x5042af[_0xa1d447(0x382)])['toLocaleDateString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34ca67+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x161a0c+=_0x3f7677(0x51a),_0x474c87[_0x3f7677(0xc5e)]=_0x161a0c;}catch(_0x5de2b7){console[_0x3f7677(0x894)](_0x3f7677(0x6ea),_0x5de2b7),_0x474c87[_0x3f7677(0xc5e)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x6177c4=''){const _0x3b33a7=_0x354eeb,_0x1e8855=document['getElementById'](_0x3b33a7(0x40a)),_0xbdd4c2=_0x6177c4[_0x3b33a7(0x468)]()[_0x3b33a7(0xdd7)](),_0x3ab048=allQuizzesGlobal['map'](_0x3ee894=>({..._0x3ee894,'projectName':allProjects['find'](_0x4d94f2=>_0x4d94f2['id']===_0x3ee894[_0x3b33a7(0xd27)])?.[_0x3b33a7(0x7dc)]||_0x3b33a7(0xb39)}))[_0x3b33a7(0xdc7)](_0x694a28=>(_0x694a28['topic']||'')[_0x3b33a7(0x468)]()[_0x3b33a7(0xcc5)](_0xbdd4c2)||(_0x694a28[_0x3b33a7(0x7dc)]||'')[_0x3b33a7(0x468)]()['includes'](_0xbdd4c2)||_0x694a28['id'][_0x3b33a7(0x3ea)]()[_0x3b33a7(0xcc5)](_0xbdd4c2));_0x1e8855['innerHTML']=_0x3ab048[_0x3b33a7(0x2ee)]?_0x3ab048[_0x3b33a7(0x1fa)](_0x247e4d=>_0x3b33a7(0x283)+_0x247e4d['id']+_0x3b33a7(0xb15)+(_0x247e4d[_0x3b33a7(0xdb7)]||_0x3b33a7(0x309))+_0x3b33a7(0xb2c)+_0x247e4d['projectName']+'\x20|\x20ID:\x20'+_0x247e4d['id']+_0x3b33a7(0x8f1))[_0x3b33a7(0x5fa)](''):_0x3b33a7(0x4a6),_0x1e8855[_0x3b33a7(0x4e0)]=()=>{const _0x5a0bd0=_0x3b33a7,_0x3d2c8d=document[_0x5a0bd0(0x8b9)](_0x5a0bd0(0x1f8));document[_0x5a0bd0(0x64e)](_0x5a0bd0(0x303))[_0x5a0bd0(0x87b)]=!_0x3d2c8d;};}function setupStudentProgressListeners(){const _0x50e5a1=_0x354eeb;document[_0x50e5a1(0x64e)]('view-my-progress-btn')[_0x50e5a1(0xa02)](_0x50e5a1(0x4f9),showStudentProgressView),document[_0x50e5a1(0x64e)]('back-to-student-home-btn')[_0x50e5a1(0xa02)]('click',()=>{const _0x29b2b1=_0x50e5a1;document[_0x29b2b1(0x64e)](_0x29b2b1(0xc03))['classList'][_0x29b2b1(0x21a)](_0x29b2b1(0x76a)),document[_0x29b2b1(0x64e)](_0x29b2b1(0x8c3))[_0x29b2b1(0x565)][_0x29b2b1(0xc9d)](_0x29b2b1(0x76a));});}async function startSkillPractice(_0x4b1560){const _0x3b881f=_0x354eeb;studentResultArea[_0x3b881f(0x565)][_0x3b881f(0x21a)]('hidden'),studentQuizArea[_0x3b881f(0xc5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x3b881f(0x565)][_0x3b881f(0xc9d)](_0x3b881f(0x76a));try{const _0x2832dc=await getStandardizedTopic(_0x4b1560);console[_0x3b881f(0x4b0)](_0x3b881f(0x62f)+_0x4b1560+_0x3b881f(0x435)+_0x2832dc+'\x22'),studentQuizArea[_0x3b881f(0x8b9)]('p')[_0x3b881f(0xd72)]=_0x3b881f(0xb86)+_0x2832dc+_0x3b881f(0x436);const _0x1315ea=collection(db,_0x3b881f(0x53f)+appId+_0x3b881f(0x883)),_0x550146=query(_0x1315ea,where(_0x3b881f(0xdb7),'==',_0x2832dc)),_0x2f8515=await getDocs(_0x550146);if(_0x2f8515[_0x3b881f(0x2e6)]['length']>=0x3){console[_0x3b881f(0x4b0)](_0x3b881f(0xc87)+_0x2f8515[_0x3b881f(0x2e6)]['length']+_0x3b881f(0xc92)+_0x2832dc+_0x3b881f(0xc7e));let _0x4f077d=_0x2f8515['docs'][_0x3b881f(0x1fa)](_0x16bf53=>_0x16bf53['data']());shuffleArray(_0x4f077d);const _0x3d7330={'topic':_0x2832dc,'questions':_0x4f077d[_0x3b881f(0xca0)](0x0,0x3)};displaySkillPracticeDrill(_0x3d7330);}else{console[_0x3b881f(0x4b0)](_0x3b881f(0xce2)+_0x2832dc+_0x3b881f(0x95f));const _0x57ebca=await generatePracticeQuestions(_0x2832dc);await saveDrillToPracticeBank(_0x57ebca,_0x2832dc),displaySkillPracticeDrill(_0x57ebca);}}catch(_0x37d83a){console[_0x3b881f(0x894)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x37d83a),showMessage(_0x3b881f(0xaaa)),studentQuizArea[_0x3b881f(0x565)][_0x3b881f(0x21a)](_0x3b881f(0x76a)),studentResultArea[_0x3b881f(0x565)][_0x3b881f(0xc9d)]('hidden');}}async function saveDrillToPracticeBank(_0x301b41,_0x1f6177){const _0x14deb0=_0x354eeb,_0x54e1be=collection(db,_0x14deb0(0x53f)+appId+_0x14deb0(0x883)),_0xb6f0bb=writeBatch(db);_0x301b41[_0x14deb0(0xc42)][_0x14deb0(0x37d)](_0x579c6d=>{const _0x334625=_0x14deb0,_0x5497e2=doc(_0x54e1be);_0xb6f0bb[_0x334625(0x7e8)](_0x5497e2,{'topic':_0x1f6177,'questionText':_0x579c6d[_0x334625(0x9f4)],'options':_0x579c6d[_0x334625(0x3e0)],'correctAnswerIndex':_0x579c6d[_0x334625(0x5a0)],'explanation':_0x579c6d[_0x334625(0x99c)],'createdAt':serverTimestamp()});});try{await _0xb6f0bb[_0x14deb0(0xaa0)](),console['log']('บันทึกคำถามใหม่\x20'+_0x301b41['questions'][_0x14deb0(0x2ee)]+_0x14deb0(0x8ff));}catch(_0x26a3a0){console['error'](_0x14deb0(0xa6f),_0x26a3a0);}}async function getStandardizedTopic(_0x55f6e4){const _0x58bf90=_0x354eeb,_0x18137c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x55f6e4+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x1de9f2={'type':_0x58bf90(0x627),'properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0x280d76=await callAnalysisApi(_0x18137c,_0x1de9f2);return _0x280d76['standardTopic'];}catch(_0x19f1c2){return console[_0x58bf90(0x894)](_0x58bf90(0xa39),_0x19f1c2),_0x55f6e4;}}async function handleGenerateEasyVersionQuiz(_0x52052a){const _0x5b479f=_0x354eeb,_0x4d1f1e=document[_0x5b479f(0x64e)]('results-tab-content'),_0x2fc3e5=document[_0x5b479f(0x64e)]('project-quizzes-list');_0x2fc3e5[_0x5b479f(0x565)][_0x5b479f(0x21a)]('hidden');const _0x158115=_0x5b479f(0x77d);_0x4d1f1e[_0x5b479f(0xca7)]('beforeend',_0x158115);try{const _0x5626d6=allQuizzes[_0x5b479f(0x52f)](_0x3bf68e=>_0x3bf68e['id']===_0x52052a);if(!_0x5626d6)throw new Error(_0x5b479f(0x700));const _0x54561b=_0x5b479f(0x89a)+JSON['stringify'](_0x5626d6['questions'])+_0x5b479f(0xd21),_0x3b7108={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5b479f(0x921)},'options':{'type':_0x5b479f(0x4aa),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5b479f(0xc0c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5b479f(0x921)},'imageCode':{'type':_0x5b479f(0x921)}},'required':[_0x5b479f(0x9f4),_0x5b479f(0x4fd),_0x5b479f(0x99c)]},_0x5df853={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0x3b7108}},'required':[_0x5b479f(0xc42)]},_0x16c5f4=await callAnalysisApi(_0x54561b,_0x5df853);_0x16c5f4&&_0x16c5f4[_0x5b479f(0xc42)]&&_0x16c5f4[_0x5b479f(0xc42)][_0x5b479f(0x37d)](_0x43c10e=>{const _0x264cab=_0x5b479f;if(_0x43c10e[_0x264cab(0x47f)](_0x264cab(0x9d9))){const _0x81a459=String(_0x43c10e['imageCode'])[_0x264cab(0xdd7)]();(_0x81a459===''||_0x81a459[_0x264cab(0x468)]()==='null'||!_0x81a459[_0x264cab(0x99a)]('<svg'))&&delete _0x43c10e[_0x264cab(0x9d9)];}});if(!_0x16c5f4||!_0x16c5f4[_0x5b479f(0xc42)]||_0x16c5f4['questions'][_0x5b479f(0x2ee)]===0x0)throw new Error(_0x5b479f(0x541));const _0x3f5793=_0x16c5f4[_0x5b479f(0xc42)][_0x5b479f(0x1fa)]((_0x329929,_0x28a524)=>({..._0x329929,'id':'q_'+Date[_0x5b479f(0x274)]()+'_'+_0x28a524})),_0x27e6e7={'projectId':_0x5626d6[_0x5b479f(0xd27)],'quizType':_0x5626d6[_0x5b479f(0x6a2)],'settings':_0x5626d6[_0x5b479f(0x992)],'createdBy':_0x5626d6[_0x5b479f(0x213)],'status':_0x5b479f(0x385),'topic':'(ฉบับง่าย)\x20'+_0x5626d6[_0x5b479f(0xdb7)],'questions':_0x3f5793,'createdAt':new Date()[_0x5b479f(0xd4e)](),'quizMode':_0x5b479f(0x86e),'pairedQuizId':null};let _0x5053c0;while(!![]){_0x5053c0=Math[_0x5b479f(0x98d)](0x3e8+Math[_0x5b479f(0xb7b)]()*0x2328)['toString']();const _0x9e89d8=await getDoc(doc(db,'artifacts/'+appId+_0x5b479f(0x450),_0x5053c0));if(!_0x9e89d8[_0x5b479f(0x2c9)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5b479f(0x450),_0x5053c0),_0x27e6e7),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x46128b){console[_0x5b479f(0x894)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x46128b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x46128b[_0x5b479f(0x5b6)]);}finally{const _0x3c9492=document[_0x5b479f(0x64e)](_0x5b479f(0xd0a));_0x3c9492&&_0x3c9492[_0x5b479f(0xc9d)](),_0x2fc3e5['classList']['remove'](_0x5b479f(0x76a));}}async function generatePracticeQuestions(_0x5b16ee){const _0x1712f7=_0x354eeb,_0x38cda3=_0x1712f7(0x762)+_0x5b16ee+_0x1712f7(0x49a)+simpleMathPrompt+_0x1712f7(0xc3d),_0x5d157e={'type':_0x1712f7(0x627),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1712f7(0x4aa),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1712f7(0xc0c)},'explanation':{'type':_0x1712f7(0x921)}},'required':[_0x1712f7(0x9f4),'options',_0x1712f7(0x5a0),_0x1712f7(0x99c)]},_0x36f408={'type':_0x1712f7(0x627),'properties':{'topic':{'type':_0x1712f7(0x921)},'questions':{'type':'ARRAY','items':_0x5d157e}},'required':[_0x1712f7(0xdb7),_0x1712f7(0xc42)]};return await callAnalysisApi(_0x38cda3,_0x36f408);}function displayLessonPlan(_0x493797,_0x48cf38){const _0x529371=_0x354eeb,_0x396a24=_0x529371(0xaf4)+_0x48cf38['topic']+_0x529371(0x544)+_0x493797[_0x529371(0xb69)]['map'](_0x372d73=>_0x529371(0x85d)+_0x372d73+_0x529371(0xa17))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x493797[_0x529371(0x62d)]+_0x529371(0xa62)+_0x493797[_0x529371(0x4c8)][_0x529371(0x1fa)](_0x467674=>_0x529371(0xccd)+_0x467674['question']+_0x529371(0x476)+_0x467674[_0x529371(0xcfb)]+_0x529371(0x4a3))['join']('')+_0x529371(0x636);document[_0x529371(0x64e)](_0x529371(0x2f1))[_0x529371(0xd72)]='แผนการสอน:\x20'+_0x48cf38['topic'],document['getElementById'](_0x529371(0x3d4))[_0x529371(0xc5e)]=_0x396a24,document['getElementById']('lesson-plan-modal')[_0x529371(0x565)]['remove'](_0x529371(0x76a));if(window[_0x529371(0x8cc)])MathJax[_0x529371(0xacc)]();}function displaySkillPracticeDrill(_0x5d08aa){const _0x1d4825=_0x354eeb;let _0x3a7491=0x0;const _0x2c5656=_0x5d08aa[_0x1d4825(0xc42)],_0x4e1f4c=()=>{const _0x103f99=_0x1d4825,_0x2c91ad=_0x2c5656[_0x3a7491],_0x3e9244=_0x103f99(0x402)+(_0x3a7491+0x1)+_0x103f99(0x865)+_0x2c5656[_0x103f99(0x2ee)]+_0x103f99(0x80d)+_0x2c91ad[_0x103f99(0x9f4)]+_0x103f99(0x9b0)+_0x2c91ad[_0x103f99(0x3e0)][_0x103f99(0x1fa)]((_0x3ae29d,_0x4576b2)=>_0x103f99(0x50c)+_0x4576b2+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x4576b2+_0x103f99(0xdcc)+_0x4576b2+'\x22>'+_0x3ae29d+_0x103f99(0xa74))[_0x103f99(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x103f99(0xc5e)]=_0x3e9244;if(window[_0x103f99(0x8cc)])MathJax[_0x103f99(0xacc)]([studentQuizArea]);document[_0x103f99(0x64e)]('hint-btn')['addEventListener'](_0x103f99(0x4f9),async()=>{const _0x4f4ca4=await getHintForQuestion(_0x2c91ad['questionText']);showMessage(_0x4f4ca4);}),document[_0x103f99(0x64e)](_0x103f99(0x6ba))['addEventListener'](_0x103f99(0x4f9),()=>{const _0x541924=_0x103f99,_0x271635=document[_0x541924(0x8b9)](_0x541924(0x20a));if(!_0x271635){showMessage(_0x541924(0x2f5));return;}const _0x44fe32=document['getElementById']('drill-feedback'),_0x28f07c=parseInt(_0x271635[_0x541924(0x998)])===_0x2c91ad['correctAnswerIndex'];_0x28f07c?(_0x44fe32[_0x541924(0x4ca)]=_0x541924(0xc20),_0x44fe32[_0x541924(0xc5e)]=_0x541924(0x1f9)+_0x2c91ad['explanation']):(_0x44fe32['className']='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x44fe32[_0x541924(0xc5e)]=_0x541924(0xa6e)+_0x2c91ad[_0x541924(0x99c)]);_0x44fe32[_0x541924(0x565)][_0x541924(0xc9d)]('hidden');if(window[_0x541924(0x8cc)])MathJax[_0x541924(0xacc)]([_0x44fe32]);document[_0x541924(0x64e)]('check-answer-btn')[_0x541924(0x565)]['add'](_0x541924(0x76a)),document[_0x541924(0x64e)](_0x541924(0xa69))[_0x541924(0x565)]['add'](_0x541924(0x76a)),document['getElementById'](_0x541924(0x65d))[_0x541924(0x565)][_0x541924(0xc9d)](_0x541924(0x76a));}),document[_0x103f99(0x64e)](_0x103f99(0x65d))[_0x103f99(0xa02)](_0x103f99(0x4f9),()=>{const _0x5a63b5=_0x103f99;_0x3a7491++,_0x3a7491<_0x2c5656[_0x5a63b5(0x2ee)]?_0x4e1f4c():(studentQuizArea['innerHTML']=_0x5a63b5(0x815),document['getElementById']('back-to-results-btn')[_0x5a63b5(0xa02)](_0x5a63b5(0x4f9),()=>{const _0x17be28=_0x5a63b5;studentQuizArea['classList'][_0x17be28(0x21a)](_0x17be28(0x76a)),studentResultArea[_0x17be28(0x565)][_0x17be28(0xc9d)](_0x17be28(0x76a));}));});};_0x4e1f4c();}async function getHintForQuestion(_0x4f64f2){const _0x3f527c=_0x354eeb,_0x35c44a='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x4f64f2+_0x3f527c(0xb3d),_0x7d8bdb={'type':'OBJECT','properties':{'hint':{'type':_0x3f527c(0x921)}},'required':[_0x3f527c(0x3f1)]};try{const _0x1c4e16=await callAnalysisApi(_0x35c44a,_0x7d8bdb);return _0x1c4e16['hint'];}catch(_0x3aa55e){return console[_0x3f527c(0x894)](_0x3f527c(0xca3),_0x3aa55e),_0x3f527c(0x321);}}async function extractTextFromPdf(_0x1509a8){const _0x4e0e32=_0x354eeb;pdfjsLib['GlobalWorkerOptions'][_0x4e0e32(0x97c)]=_0x4e0e32(0x751);const _0x5dacf9=await _0x1509a8[_0x4e0e32(0x62b)](),_0x17c134=await pdfjsLib[_0x4e0e32(0x1e7)](_0x5dacf9)['promise'],_0xd7d4e4=_0x17c134[_0x4e0e32(0x6b5)];let _0x1124c0='';for(let _0x1d0416=0x1;_0x1d0416<=_0xd7d4e4;_0x1d0416++){const _0x3a8676=await _0x17c134[_0x4e0e32(0x5e4)](_0x1d0416),_0x4c3e49=await _0x3a8676[_0x4e0e32(0x369)](),_0x3c100c=_0x4c3e49[_0x4e0e32(0x2af)]['map'](_0x5b7217=>_0x5b7217[_0x4e0e32(0x42f)])[_0x4e0e32(0x5fa)]('\x20');_0x1124c0+=_0x3c100c+'\x0a\x0a';}return _0x1124c0;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x141d07){const _0x169f07=_0x354eeb,_0xc1b69a=document['getElementById'](_0x169f07(0x6b7)),_0x46b865=document[_0x169f07(0x64e)](_0x169f07(0xdc4)),_0x3da837=document[_0x169f07(0x64e)]('save-blueprint-as-project-btn');_0xc1b69a[_0x169f07(0x565)][_0x169f07(0xc9d)](_0x169f07(0x76a)),_0x46b865[_0x169f07(0xc5e)]=_0x169f07(0x895),_0x3da837['classList'][_0x169f07(0x21a)]('hidden');try{const _0x4a1135=_0x169f07(0x448)+_0x141d07+_0x169f07(0xacb),_0x5a48a7={'type':_0x169f07(0x627),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x169f07(0x4aa),'items':{'type':_0x169f07(0x627),'properties':{'sara':{'type':_0x169f07(0x921)},'mainTopics':{'type':_0x169f07(0x4aa),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x169f07(0x921)},'subTopics':{'type':'ARRAY','items':{'type':_0x169f07(0x921)}}},'required':[_0x169f07(0x60b),_0x169f07(0xd8d)]}}},'required':[_0x169f07(0xc9f),'mainTopics']}}},'required':['gradeLevel',_0x169f07(0x70d)]},_0xd3aad5=await callAnalysisApi(_0x4a1135,_0x5a48a7);if(_0xd3aad5&&_0xd3aad5[_0x169f07(0x70d)])extractedBlueprintData=_0xd3aad5,renderBlueprintTopics(_0xd3aad5),_0x3da837[_0x169f07(0x565)][_0x169f07(0xc9d)]('hidden');else throw new Error(_0x169f07(0x746));}catch(_0x29689f){console[_0x169f07(0x894)]('Error\x20analyzing\x20blueprint\x20topics:',_0x29689f),_0x46b865['innerHTML']=_0x169f07(0x263);}}function renderBlueprintTopics(_0x576b67){const _0x134406=_0x354eeb,_0x2b6bda=document[_0x134406(0x64e)](_0x134406(0xdc4)),_0x498bed=_0x576b67[_0x134406(0x3a2)],_0x1ed8a6=_0x134406(0x3a9)+_0x498bed+_0x134406(0x49f);let _0x34277b='';_0x576b67[_0x134406(0x70d)][_0x134406(0x37d)](_0x3e5ebc=>{const _0x34538c=_0x134406;_0x34277b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x3e5ebc['sara']+_0x34538c(0xcea),_0x3e5ebc[_0x34538c(0xa29)]['forEach'](_0x348f0e=>{const _0xdef766=_0x34538c;_0x34277b+=_0xdef766(0x527)+_0x348f0e['topicName']+_0xdef766(0x2c1),_0x348f0e[_0xdef766(0xd8d)][_0xdef766(0x37d)](_0x5c5e2d=>{const _0x171fd1=_0xdef766;_0x34277b+=_0x171fd1(0x719)+_0x5c5e2d[_0x171fd1(0x683)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x498bed[_0x171fd1(0x683)](/'/g,'\x5c\x27')+_0x171fd1(0x394)+_0x5c5e2d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x5c5e2d[_0x171fd1(0x683)](/'/g,'\x5c\x27')+_0x171fd1(0x265);}),_0x34277b+=_0xdef766(0x706);}),_0x34277b+=_0x34538c(0x51a);}),_0x2b6bda[_0x134406(0xc5e)]=_0x1ed8a6+_0x34277b;}async function handleGenerateTeachingContent(_0x12ffa5){const _0x379e81=_0x354eeb,_0x12ce03=document['getElementById']('lesson-plan-modal'),_0x4e0920=document['getElementById']('lesson-plan-content');document['getElementById']('lesson-plan-title')[_0x379e81(0xd72)]=_0x379e81(0x9ea)+_0x12ffa5,_0x4e0920[_0x379e81(0xc5e)]=_0x379e81(0x34a),_0x12ce03[_0x379e81(0x565)]['remove'](_0x379e81(0x76a));try{const _0x2b831b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x12ffa5+_0x379e81(0x489),_0x363328={'type':_0x379e81(0x627),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x379e81(0x921)}},'commonMistakes':{'type':'ARRAY','items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x379e81(0x4aa),'items':{'type':_0x379e81(0x627),'properties':{'question':{'type':_0x379e81(0x921)},'solution':{'type':_0x379e81(0x921)}},'required':[_0x379e81(0xdae),'solution']}},'teacherTips':{'type':_0x379e81(0x4aa),'items':{'type':'STRING'}}},'required':[_0x379e81(0x75d),'commonMistakes',_0x379e81(0x38d),_0x379e81(0x656)]},_0x4f78bc=await callAnalysisApi(_0x2b831b,_0x363328);displayTeachingContent(_0x4f78bc,_0x12ffa5);}catch(_0x236a40){console[_0x379e81(0x894)](_0x379e81(0x935),_0x236a40),_0x4e0920['innerHTML']=_0x379e81(0x6ec)+_0x236a40[_0x379e81(0x5b6)]+_0x379e81(0x20e);}}function displayTeachingContent(_0x38b07c,_0x2af2cc){const _0x1fc3c=_0x354eeb,_0x311b36=document['getElementById']('lesson-plan-content');document[_0x1fc3c(0x64e)]('lesson-plan-title')[_0x1fc3c(0xd72)]=_0x1fc3c(0x666)+_0x2af2cc;const _0x51ce10='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x38b07c[_0x1fc3c(0x75d)][_0x1fc3c(0x1fa)](_0x48ac8a=>_0x1fc3c(0x85d)+_0x48ac8a+_0x1fc3c(0xa17))['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x38b07c['commonMistakes'][_0x1fc3c(0x1fa)](_0x359e16=>'<li>'+_0x359e16+'</li>')['join']('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x38b07c[_0x1fc3c(0x38d)][_0x1fc3c(0x1fa)](_0x4d8f48=>_0x1fc3c(0x752)+_0x4d8f48[_0x1fc3c(0xdae)]+_0x1fc3c(0x411)+_0x4d8f48[_0x1fc3c(0xcfb)]+_0x1fc3c(0x884))[_0x1fc3c(0x5fa)]('')+_0x1fc3c(0x6c1)+_0x38b07c[_0x1fc3c(0x656)][_0x1fc3c(0x1fa)](_0x125c45=>_0x1fc3c(0x85d)+_0x125c45+'</li>')[_0x1fc3c(0x5fa)]('')+_0x1fc3c(0x35d);_0x311b36[_0x1fc3c(0xc5e)]=_0x51ce10;if(window[_0x1fc3c(0x8cc)])MathJax['typesetPromise']([_0x311b36]);}async function generateQuizForSingleTopic(_0x17c4b4){const _0xed9ab9=_0x354eeb;console[_0xed9ab9(0x4b0)](_0xed9ab9(0x978)+_0x17c4b4+'\x22');const _0x2e1eb8=document[_0xed9ab9(0x64e)](_0xed9ab9(0xd33)),_0x1d8d1e=_0x2e1eb8[_0xed9ab9(0x5f4)][_0xed9ab9(0x2ee)]>0x0?_0x2e1eb8['files'][0x0]:null;let _0x26511a=null;if(_0x1d8d1e)try{const _0x3513fc=new FileReader();_0x3513fc[_0xed9ab9(0x8b0)](_0x1d8d1e);const _0x2b0057=await new Promise((_0x48cf99,_0x2bb99e)=>{const _0x502433=_0xed9ab9;_0x3513fc[_0x502433(0x503)]=()=>_0x48cf99(_0x3513fc[_0x502433(0xb82)][_0x502433(0x816)](',')[0x1]),_0x3513fc[_0x502433(0x215)]=_0x590399=>_0x2bb99e(_0x590399);});_0x26511a=[{'inlineData':{'mimeType':_0x1d8d1e['type'],'data':_0x2b0057}}];}catch(_0x481788){console[_0xed9ab9(0x894)](_0xed9ab9(0x713),_0x481788),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x17c4b4,null,null,_0x26511a,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x478f83=null){const _0x1698ad=_0x354eeb,_0x23fa63=document[_0x1698ad(0x64e)]('loader'),_0x20535c=document[_0x1698ad(0x64e)](_0x1698ad(0x5cb));let _0x536888,_0x5c11cc=[];if(_0x478f83)_0x536888=_0x478f83,_0x5c11cc=_0x536888['slice'](0x2);else{const _0x58bfb4=document[_0x1698ad(0x64e)](_0x1698ad(0x22d)),_0x545854=document[_0x1698ad(0x64e)](_0x1698ad(0xd33)),_0x45482f=_0x58bfb4[_0x1698ad(0x5f4)][0x0];if(!_0x45482f){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x20535c[_0x1698ad(0xd72)]='กำลังเตรียมไฟล์...';const _0x33ae09=await new Promise((_0x11558d,_0x900e93)=>{const _0x3252f6=_0x1698ad,_0x5091f7=new FileReader();_0x5091f7[_0x3252f6(0x8b0)](_0x45482f),_0x5091f7['onload']=()=>_0x11558d(_0x5091f7[_0x3252f6(0xb82)][_0x3252f6(0x816)](',')[0x1]),_0x5091f7['onerror']=_0x900e93;});_0x536888=[{'text':_0x1698ad(0x324)},{'inlineData':{'mimeType':_0x45482f['type'],'data':_0x33ae09}}];if(_0x545854['files']['length']>0x0){const _0x4f80bb=_0x545854[_0x1698ad(0x5f4)][0x0];_0x20535c[_0x1698ad(0xd72)]='กำลังเตรียมไฟล์อ้างอิง...';const _0xb81032=await new Promise((_0x59dc40,_0x52e7e4)=>{const _0x2f41a1=_0x1698ad,_0x4269d7=new FileReader();_0x4269d7[_0x2f41a1(0x8b0)](_0x4f80bb),_0x4269d7['onload']=()=>_0x59dc40(_0x4269d7[_0x2f41a1(0xb82)][_0x2f41a1(0x816)](',')[0x1]),_0x4269d7[_0x2f41a1(0x215)]=_0x52e7e4;}),_0x666255={'inlineData':{'mimeType':_0x4f80bb[_0x1698ad(0xc3f)],'data':_0xb81032}};_0x536888['push'](_0x666255),_0x5c11cc[_0x1698ad(0xa95)](_0x666255);}}const _0x44bf92=_0x1698ad(0x7c1),_0x2b4558=_0x1698ad(0x5ef);let _0x3d6623='';_0x5c11cc&&_0x5c11cc[_0x1698ad(0x2ee)]>0x0?_0x3d6623=_0x44bf92:_0x3d6623=_0x2b4558;const _0x29766=_0x1698ad(0xbc4)+_0x3d6623+_0x1698ad(0xaa5),_0x4a2e54={'type':'OBJECT','properties':{'questionText':{'type':_0x1698ad(0x921)},'questionType':{'type':_0x1698ad(0x921),'enum':[_0x1698ad(0xda2),_0x1698ad(0x6bd),_0x1698ad(0x82f),'matching_item']},'options':{'type':_0x1698ad(0x4aa),'items':{'type':_0x1698ad(0x921)}},'correctAnswerIndex':{'type':_0x1698ad(0xc0c)},'idealAnswer':{'type':_0x1698ad(0x921)},'correctAnswer':{'type':_0x1698ad(0x52b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1698ad(0x921)}},'required':['questionType',_0x1698ad(0x99c)]},_0x33469d={'type':_0x1698ad(0x627),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4a2e54}},'required':[_0x1698ad(0xdb7),_0x1698ad(0xc42)]};_0x536888[0x0][_0x1698ad(0x4c3)]=_0x29766,await handleApiCall(_0x536888,_0x1698ad(0xc44),_0x33469d);}function proceedToNextQuestion(_0x4d286b){const _0x693a11=_0x354eeb;studentAnswersPerQuestion[_0x693a11(0xa95)](_0x4d286b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x693a11(0xc42)][_0x693a11(0x2ee)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x4b9382,_0x40193c,_0x42d37f){const _0x2c1fec=_0x354eeb,_0x1dbbbd=Object['values'](_0x4b9382['players']||{}),_0x9c876b=_0x1dbbbd[_0x2c1fec(0x2ee)],_0x557875=[..._0x1dbbbd][_0x2c1fec(0x705)]((_0x59d446,_0x3f67b9)=>_0x3f67b9[_0x2c1fec(0x3cb)]-_0x59d446[_0x2c1fec(0x3cb)]),_0x6631bb=_0x42d37f,_0x582b84=_0x4b9382[_0x2c1fec(0x519)]||'classic',_0x553deb=!_0x40193c&&_0x582b84===_0x2c1fec(0x8b3)&&_0x4b9382[_0x2c1fec(0xd4d)]===![];let _0x33d3ab='';const _0x1592ab=_0x4b9382[_0x2c1fec(0x660)][_0x2c1fec(0xc42)],_0x1f5bd1=_0x1592ab[_0x6631bb],_0x2209c1=_0x19abd2=>String[_0x2c1fec(0x3e6)](0x41+_0x19abd2);let _0x3534e1='',_0x18a6a3='';if(_0x1f5bd1){const _0x4ec0c0=_0x1f5bd1[_0x2c1fec(0x4fd)]||_0x4b9382[_0x2c1fec(0x660)][_0x2c1fec(0x6a2)];if(_0x4ec0c0===_0x2c1fec(0xda2)&&_0x1f5bd1[_0x2c1fec(0x3e0)]&&_0x1f5bd1['correctAnswerIndex']!==undefined){const _0x339402=_0x1f5bd1[_0x2c1fec(0x5a0)];_0x3534e1=_0x1f5bd1[_0x2c1fec(0x3e0)][_0x339402],_0x18a6a3=_0x2209c1(_0x339402)+'.';}else{if(_0x4ec0c0==='true_false'){const _0x1ac967=_0x1f5bd1['correctAnswer']===!![]||String(_0x1f5bd1['correctAnswer'])[_0x2c1fec(0x468)]()==='true';_0x1ac967?(_0x3534e1=_0x2c1fec(0x296),_0x18a6a3='ก.'):(_0x3534e1=_0x2c1fec(0xc07),_0x18a6a3='ข.');}else{if(_0x4ec0c0==='matching_item')_0x3534e1=_0x1f5bd1[_0x2c1fec(0x73a)]||'-',_0x18a6a3='';else _0x4ec0c0==='short_answer'&&(_0x3534e1=_0x1f5bd1['idealAnswer']||'-',_0x18a6a3='');}}}_0x3534e1&&(_0x33d3ab='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x6631bb+0x1)+_0x2c1fec(0xcc7)+_0x18a6a3+'\x20'+_0x3534e1+_0x2c1fec(0xaa2));const _0x22737a=_0x557875[_0x2c1fec(0x1fa)](_0x169171=>{const _0xceec1c=_0x2c1fec,_0x5adf60=(_0x169171[_0xceec1c(0x758)]||[])[_0xceec1c(0xdc7)](_0x3e00a0=>_0x3e00a0[_0xceec1c(0x908)]<=_0x6631bb),_0x15eaa2=_0x5adf60[_0xceec1c(0xdc7)](_0x5740a1=>_0x5740a1[_0xceec1c(0x241)])[_0xceec1c(0x2ee)];let _0x512133=![];const _0x3517ed=(_0x169171[_0xceec1c(0x758)]||[])[_0xceec1c(0x52f)](_0x13755e=>_0x13755e[_0xceec1c(0x908)]===_0x6631bb);_0x3517ed&&_0x3517ed[_0xceec1c(0x241)]&&(_0x512133=!![]);const _0x421b98=_0x512133?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0xceec1c(0x6b1),_0x2f1fad=_0x553deb?_0x4b9382['playerNicknames'][_0x169171[_0xceec1c(0x799)]]||'???':_0x169171['name'];return _0xceec1c(0xb08)+_0x421b98+_0xceec1c(0x3f8)+_0x2f1fad+'</span><span\x20class=\x22font-bold\x22>'+_0x15eaa2+_0xceec1c(0xa9d);})['join'](''),_0xc4d323=_0x1592ab[_0x2c1fec(0x1fa)]((_0x75f238,_0x1a7573)=>{const _0x346f84=_0x2c1fec;if(_0x1a7573>_0x6631bb)return'';const _0x2d8512=_0x1dbbbd[_0x346f84(0xdc7)](_0x2c32be=>_0x2c32be[_0x346f84(0x758)]&&_0x2c32be[_0x346f84(0x758)][_0x346f84(0x52f)](_0x41b614=>_0x41b614[_0x346f84(0x908)]===_0x1a7573&&_0x41b614[_0x346f84(0x241)]))[_0x346f84(0x2ee)],_0x535acd=_0x1a7573===_0x6631bb,_0x5b7b2f=_0x535acd?_0x346f84(0xdb2):_0x346f84(0x50e);return _0x346f84(0x54c)+_0x5b7b2f+_0x346f84(0xda8)+(_0x1a7573+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x2d8512+_0x346f84(0x865)+_0x9c876b+_0x346f84(0xd5b);})[_0x2c1fec(0x5fa)]('');let _0x188064='',_0x5114c1='';if(_0x40193c){const _0x4eefab=_0x582b84==='classic'&&_0x4b9382[_0x2c1fec(0x9a3)]>=_0x1592ab['length']-0x1,_0x164f9e=_0x582b84===_0x2c1fec(0xdda)&&_0x4b9382[_0x2c1fec(0xaf7)]>=_0x1592ab['length']-0x1,_0x56dee6=_0x582b84===_0x2c1fec(0x8b3)&&_0x4b9382[_0x2c1fec(0xaf7)]>=_0x1592ab[_0x2c1fec(0x2ee)]-0x1;_0x4eefab||_0x164f9e||_0x56dee6?_0x582b84==='anonymous'&&_0x4b9382[_0x2c1fec(0xd4d)]===![]?_0x188064='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x188064='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x188064=_0x2c1fec(0x380),_0x5114c1='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x1ac9a1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x4b9382[_0x2c1fec(0x660)]['topic']+_0x2c1fec(0xa44)+_0x5114c1+_0x2c1fec(0x8a3)+_0x33d3ab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x22737a||_0x2c1fec(0xdca))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0xc4d323+_0x2c1fec(0x9db)+(_0x40193c?_0x2c1fec(0x2a4)+_0x188064+'</div>':'')+_0x2c1fec(0x2ab);liveGameView[_0x2c1fec(0xc5e)]=_0x1ac9a1;if(window['MathJax']){const _0x37b8e3=document[_0x2c1fec(0x64e)](_0x2c1fec(0x57d));_0x37b8e3&&MathJax[_0x2c1fec(0xacc)]([_0x37b8e3]);}if(_0x40193c){document[_0x2c1fec(0x64e)]('next-sync-question-btn')[_0x2c1fec(0xa5d)]=async()=>{const _0x55d050=_0x2c1fec,_0x49269b=doc(db,_0x55d050(0x53f)+appId+_0x55d050(0xcd7),currentLiveGameId),_0xf700be=_0x582b84===_0x55d050(0x200)&&_0x4b9382[_0x55d050(0x9a3)]>=_0x1592ab[_0x55d050(0x2ee)]-0x1,_0x46e618=_0x582b84===_0x55d050(0xdda)&&_0x4b9382[_0x55d050(0xaf7)]>=_0x1592ab[_0x55d050(0x2ee)]-0x1,_0x4c351a=_0x582b84===_0x55d050(0x8b3)&&_0x4b9382[_0x55d050(0xaf7)]>=_0x1592ab[_0x55d050(0x2ee)]-0x1;if(_0x582b84===_0x55d050(0x200)){if(!_0xf700be){const _0x320bc2=_0x4b9382['currentQuestionIndex']+0x1,_0xeb61f4={};Object[_0x55d050(0x203)](_0x4b9382[_0x55d050(0xc09)])['forEach'](_0x4972da=>{const _0x18b925=_0x55d050;_0xeb61f4[_0x18b925(0x4d6)+_0x4972da+_0x18b925(0xad7)]=![],_0xeb61f4[_0x18b925(0x4d6)+_0x4972da+_0x18b925(0x3cd)]=null;}),await updateDoc(_0x49269b,{..._0xeb61f4,'status':_0x55d050(0xdae),'currentQuestionIndex':_0x320bc2,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x49269b,{'status':_0x55d050(0x6de)});}else!_0x46e618&&!_0x4c351a?await updateDoc(_0x49269b,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x49269b,{'status':'podium'});},document[_0x2c1fec(0x64e)](_0x2c1fec(0x9b8))?.[_0x2c1fec(0xa02)](_0x2c1fec(0x4f9),async()=>{const _0x90d022=_0x2c1fec,_0x4eb088=doc(db,_0x90d022(0x53f)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4eb088,{'isAnonymousRevealed':!![]});});const _0x43de00=document[_0x2c1fec(0x64e)]('end-sync-game-btn');_0x43de00&&(_0x43de00[_0x2c1fec(0xa5d)]=()=>{const _0x35f539=_0x2c1fec;showConfirmation(_0x35f539(0x4bf),async()=>{const _0x309bfb=_0x35f539,_0x23a47a=doc(db,_0x309bfb(0x53f)+appId+_0x309bfb(0xcd7),currentLiveGameId);await updateDoc(_0x23a47a,{'status':_0x309bfb(0x6de)});});});}}async function handleGenerateParallelFromBank(_0x331b22){const _0x598a50=_0x354eeb,_0x3192bc=document[_0x598a50(0x64e)](_0x598a50(0x784)),_0x32f9d2=document[_0x598a50(0x64e)](_0x598a50(0xb8f));_0x32f9d2[_0x598a50(0x565)]['add'](_0x598a50(0x76a));const _0x3624c2=_0x598a50(0xa7f)+_0x331b22[_0x598a50(0xdb7)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3192bc[_0x598a50(0xca7)]('beforeend',_0x3624c2);const _0x1d91b2=document[_0x598a50(0x64e)](_0x598a50(0x938));try{const _0x5c95a5=_0x331b22[_0x598a50(0xc42)]['map']((_0x3ccda6,_0x29a7ec)=>{const _0x36fa60=_0x598a50;let _0x89bfc9=_0x29a7ec+0x1+'.\x20'+(_0x3ccda6[_0x36fa60(0x9f4)]||_0x3ccda6[_0x36fa60(0xc59)])+'\x0a';if(_0x3ccda6[_0x36fa60(0x3e0)])_0x89bfc9+=_0x3ccda6[_0x36fa60(0x3e0)][_0x36fa60(0x1fa)]((_0x4d3927,_0x3c592f)=>_0x36fa60(0x2e0)+(_0x3c592f===_0x3ccda6[_0x36fa60(0x5a0)]?_0x36fa60(0x6fe):'')+'\x20'+_0x4d3927)[_0x36fa60(0x5fa)]('\x0a');else _0x3ccda6[_0x36fa60(0xddb)]&&(_0x89bfc9+=_0x36fa60(0x266)+_0x3ccda6[_0x36fa60(0xddb)]);return _0x89bfc9;})['join']('\x0a\x0a');_0x1d91b2[_0x598a50(0xd72)]=_0x598a50(0x96c);const _0x35b4e5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x331b22[_0x598a50(0xdb7)]+_0x598a50(0xc47)+_0x5c95a5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x598a50(0xd42),_0x182a2a={'type':_0x598a50(0x627),'properties':{'questionText':{'type':_0x598a50(0x921)},'questionType':{'type':_0x598a50(0x921),'enum':[_0x598a50(0xda2),_0x598a50(0x6bd),_0x598a50(0x82f),_0x598a50(0xc67)]},'options':{'type':_0x598a50(0x4aa),'items':{'type':_0x598a50(0x921)}},'correctAnswerIndex':{'type':_0x598a50(0xc0c)},'idealAnswer':{'type':_0x598a50(0x921)},'correctAnswer':{'type':_0x598a50(0x52b)},'stem':{'type':_0x598a50(0x921)},'correctResponse':{'type':_0x598a50(0x921)},'allResponses':{'type':_0x598a50(0x4aa),'items':{'type':_0x598a50(0x921)}},'explanation':{'type':_0x598a50(0x921)},'imageCode':{'type':'STRING'}},'required':[_0x598a50(0x4fd),_0x598a50(0x99c)]},_0x4b5af4={'type':_0x598a50(0x627),'properties':{'topic':{'type':_0x598a50(0x921)},'questions':{'type':_0x598a50(0x4aa),'items':_0x182a2a}},'required':[_0x598a50(0xdb7),_0x598a50(0xc42)]},_0x101693=await callAnalysisApi(_0x35b4e5,_0x4b5af4),_0x1bae62=_0x101693[_0x598a50(0xc42)][_0x598a50(0x1fa)]((_0x37026b,_0x22f1e9)=>({..._0x37026b,'id':'q_'+Date[_0x598a50(0x274)]()+'_'+_0x22f1e9})),_0x7019f3=_0x598a50(0xb67)+_0x331b22[_0x598a50(0xdb7)],_0x2cce8b={'topic':_0x7019f3,'questions':_0x1bae62,'quizType':_0x331b22['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x598a50(0x385),'settings':_0x331b22[_0x598a50(0x992)],'quizMode':_0x598a50(0x86e),'pairedQuizId':null,'lessonPlan':null};let _0x263665;while(!![]){_0x263665=Math[_0x598a50(0x98d)](0x3e8+Math[_0x598a50(0xb7b)]()*0x2328)['toString']();const _0x59eb29=await getDoc(doc(db,_0x598a50(0x53f)+appId+_0x598a50(0x450),_0x263665));if(!_0x59eb29[_0x598a50(0x2c9)]())break;}await setDoc(doc(db,_0x598a50(0x53f)+appId+_0x598a50(0x450),_0x263665),_0x2cce8b),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0xd37b16){console[_0x598a50(0x894)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0xd37b16),showMessage(_0x598a50(0x330)+_0xd37b16[_0x598a50(0x5b6)]);}finally{const _0x1db2f2=document[_0x598a50(0x64e)](_0x598a50(0xd0a));_0x1db2f2&&_0x1db2f2[_0x598a50(0xc9d)](),_0x32f9d2[_0x598a50(0x565)]['remove'](_0x598a50(0x76a));}}async function handleGenerateParallelPostTest(_0x3a2c05){const _0x11452f=_0x354eeb,_0x514b41=document[_0x11452f(0x64e)]('results-tab-content'),_0x5629b2=document[_0x11452f(0x64e)]('project-quizzes-list');_0x5629b2['classList']['add'](_0x11452f(0x76a));const _0x1629fa=_0x11452f(0xb57);_0x514b41[_0x11452f(0xca7)](_0x11452f(0x9bd),_0x1629fa);try{const _0x3893fb=_0x3a2c05['questions'][_0x11452f(0x1fa)]((_0x3eff6b,_0xa221c)=>{const _0x1e62cc=_0x11452f;let _0x3ec7c2=_0xa221c+0x1+'.\x20'+(_0x3eff6b['questionText']||_0x3eff6b[_0x1e62cc(0xc59)]);if(_0x3eff6b[_0x1e62cc(0x3e0)])_0x3ec7c2+=_0x1e62cc(0x45f)+_0x3eff6b[_0x1e62cc(0x3e0)][_0x1e62cc(0x5fa)](',\x20');return _0x3ec7c2;})[_0x11452f(0x5fa)]('\x0a\x0a'),_0x523ea8=_0x11452f(0x699)+_0x3a2c05[_0x11452f(0xdb7)]+_0x11452f(0x576)+_0x3893fb+_0x11452f(0x8a0)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4fc7cf={'type':_0x11452f(0x627),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x11452f(0x4aa),'items':{'type':_0x11452f(0x627),'properties':{'questionText':{'type':_0x11452f(0x921)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x11452f(0x921)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x11452f(0x921)},'explanation':{'type':'STRING'}},'required':[_0x11452f(0x9f4),_0x11452f(0x99c)]}}},'required':[_0x11452f(0xdb7),_0x11452f(0xc42)]},_0xf3ae74=await callAnalysisApi(_0x523ea8,_0x4fc7cf),_0x2a7b61=_0x3a2c05[_0x11452f(0xdb7)][_0x11452f(0x683)](_0x11452f(0x859),'')[_0x11452f(0xdd7)](),_0xc9301f=_0x11452f(0x658)+_0x2a7b61,_0x371e85={..._0xf3ae74,'topic':_0xc9301f,'quizType':_0x3a2c05['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x11452f(0xd4e)](),'status':_0x11452f(0x385),'settings':_0x3a2c05[_0x11452f(0x992)],'quizMode':_0x11452f(0x739),'pairedQuizId':_0x3a2c05['id']};let _0x2310db;while(!![]){_0x2310db=Math[_0x11452f(0x98d)](0x3e8+Math[_0x11452f(0xb7b)]()*0x2328)[_0x11452f(0x3ea)]();const _0x256a88=await getDoc(doc(db,_0x11452f(0x53f)+appId+_0x11452f(0x450),_0x2310db));if(!_0x256a88['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x11452f(0x450),_0x2310db),_0x371e85);const _0x1e1654=doc(db,'artifacts/'+appId+_0x11452f(0x450),_0x3a2c05['id']);await updateDoc(_0x1e1654,{'pairedQuizId':_0x2310db}),showMessage(_0x11452f(0x2f8));}catch(_0x253d82){console[_0x11452f(0x894)]('Error\x20generating\x20parallel\x20post-test:',_0x253d82),showMessage(_0x11452f(0x330)+_0x253d82[_0x11452f(0x5b6)]);}finally{const _0x36a99f=document[_0x11452f(0x64e)]('temp-loader-results');if(_0x36a99f)_0x36a99f[_0x11452f(0xc9d)]();_0x5629b2[_0x11452f(0x565)]['remove'](_0x11452f(0x76a));}}async function handleGenerateParallelTest(_0x245b22=null){const _0x32b3ab=_0x354eeb;let _0x2fb32e=_0x245b22;if(!_0x2fb32e){const _0x1bbbf5=document[_0x32b3ab(0x64e)](_0x32b3ab(0x52d));_0x1bbbf5[_0x32b3ab(0x5f4)][_0x32b3ab(0x2ee)]>0x0&&(_0x2fb32e=_0x1bbbf5[_0x32b3ab(0x5f4)][0x0]);}if(!_0x2fb32e){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x3bc3ce=document[_0x32b3ab(0x64e)](_0x32b3ab(0x7b6)),_0x1dbdbe=document[_0x32b3ab(0x64e)](_0x32b3ab(0x5cb)),_0x2f8031=document[_0x32b3ab(0x64e)](_0x32b3ab(0xd31)),_0x2a7f23=document[_0x32b3ab(0x64e)](_0x32b3ab(0xbc9));_0x2a7f23[_0x32b3ab(0x87b)]=!![],document['getElementById'](_0x32b3ab(0x855))[_0x32b3ab(0x565)]['remove']('hidden'),_0x2f8031[_0x32b3ab(0xc5e)]='',_0x3bc3ce[_0x32b3ab(0x565)][_0x32b3ab(0xc9d)](_0x32b3ab(0x76a)),_0x1dbdbe[_0x32b3ab(0xd72)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x39a36c=new FileReader();_0x39a36c[_0x32b3ab(0x8b0)](_0x2fb32e),_0x39a36c['onload']=async()=>{const _0x4e3040=_0x32b3ab;try{const _0x434517=_0x39a36c[_0x4e3040(0xb82)]['split'](',')[0x1],_0x3b413f=_0x2fb32e[_0x4e3040(0xc3f)];_0x1dbdbe[_0x4e3040(0xd72)]=_0x4e3040(0xdc1);const _0x5ba983=document[_0x4e3040(0x64e)]('include-images-checkbox')[_0x4e3040(0x5f7)],_0x506e72=_0x5ba983?_0x4e3040(0x939):'',_0x40fc05=_0x4e3040(0x6fa),_0x1ab620={'type':'OBJECT','properties':{'questionText':{'type':_0x4e3040(0x921)},'questionType':{'type':_0x4e3040(0x921),'enum':[_0x4e3040(0xda2),_0x4e3040(0x6bd)]},'options':{'type':_0x4e3040(0x4aa),'items':{'type':_0x4e3040(0x921)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4e3040(0x921)},'explanation':{'type':_0x4e3040(0x921)},'imageCode':{'type':_0x4e3040(0x921)}},'required':[_0x4e3040(0x9f4),'questionType',_0x4e3040(0x99c)]},_0x4adc96={'type':_0x4e3040(0x627),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x1ab620}},'required':[_0x4e3040(0xdb7),_0x4e3040(0xc42)]},_0x5be6f3=[{'text':_0x40fc05},{'inlineData':{'mimeType':_0x3b413f,'data':_0x434517}}];await handleApiCall(_0x5be6f3,_0x4e3040(0x397),_0x4adc96);}catch(_0x4532f7){console[_0x4e3040(0x894)](_0x4e3040(0x98c),_0x4532f7),showMessage(_0x4e3040(0x330)+_0x4532f7[_0x4e3040(0x5b6)]),_0x2f8031[_0x4e3040(0xc5e)]=_0x4e3040(0x6aa);}finally{_0x3bc3ce[_0x4e3040(0x565)]['add'](_0x4e3040(0x76a)),_0x2a7f23[_0x4e3040(0x87b)]=![];}},_0x39a36c[_0x32b3ab(0x215)]=_0x22762f=>{const _0x166d53=_0x32b3ab;console[_0x166d53(0x894)](_0x166d53(0x802),_0x22762f),showMessage(_0x166d53(0x3d7)),_0x3bc3ce[_0x166d53(0x565)]['add']('hidden'),_0x2a7f23[_0x166d53(0x87b)]=![];};}async function handleRegenerateQuestionInEditor(_0x2b6fed){const _0x2d2ae4=_0x354eeb;if(currentEditingQuizData===null)return;const _0x5cc28c=document[_0x2d2ae4(0x8b9)](_0x2d2ae4(0x93c)+_0x2b6fed+'\x22]');_0x5cc28c&&(_0x5cc28c['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x344d12=currentEditingQuizData[_0x2d2ae4(0xc42)][_0x2b6fed],_0x5bc9d3=currentEditingQuizData[_0x2d2ae4(0xdb7)],_0x170d87=_0x344d12[_0x2d2ae4(0x4fd)],_0xd75e33={'type':_0x2d2ae4(0x627),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2d2ae4(0x4aa),'items':{'type':_0x2d2ae4(0x921)}},'correctAnswerIndex':{'type':_0x2d2ae4(0xc0c)},'explanation':{'type':_0x2d2ae4(0x921)}},'required':['questionText',_0x2d2ae4(0x3e0),_0x2d2ae4(0x5a0),'explanation']},_0x466193={'type':_0x2d2ae4(0x627),'properties':{'questionText':{'type':_0x2d2ae4(0x921)},'idealAnswer':{'type':_0x2d2ae4(0x921)},'explanation':{'type':_0x2d2ae4(0x921)}},'required':[_0x2d2ae4(0x9f4),_0x2d2ae4(0xddb),'explanation']};let _0x4ad261,_0x446693='';_0x170d87===_0x2d2ae4(0xda2)?(_0x4ad261=_0xd75e33,_0x446693='แบบปรนัย\x204\x20ตัวเลือก'):(_0x4ad261=_0x466193,_0x446693=_0x2d2ae4(0x876));const _0x40cadb=_0x2d2ae4(0x5d7)+_0x5bc9d3+_0x2d2ae4(0x7a6)+_0x446693+_0x2d2ae4(0xb7a)+(_0x344d12[_0x2d2ae4(0x9f4)]||_0x344d12[_0x2d2ae4(0xc59)])+'\x22.\x20'+simpleMathPrompt;try{const _0x378199=await callAnalysisApi(_0x40cadb,_0x4ad261);currentEditingQuizData[_0x2d2ae4(0xc42)][_0x2b6fed]={..._0x344d12,..._0x378199},renderQuizEditor(currentEditingQuizData);}catch(_0x2bb0bc){console[_0x2d2ae4(0x894)](_0x2d2ae4(0x4f0),_0x2bb0bc),showMessage(_0x2d2ae4(0xa91)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xb66102=_0x354eeb,_0x3e9dd8=document[_0xb66102(0x64e)]('mode-switcher-btn');currentMode==='student'?(currentMode=_0xb66102(0x763),_0x3e9dd8['innerHTML']=_0xb66102(0x6d8),_0x3e9dd8[_0xb66102(0x1ed)]='สลับไปโหมดนักเรียน',showView(_0xb66102(0x423))):(currentMode='student',_0x3e9dd8[_0xb66102(0xc5e)]=_0xb66102(0x399),_0x3e9dd8[_0xb66102(0x1ed)]=_0xb66102(0x8c6),showView('student'));}function handleAdminLogin(){const _0x38ae97=_0x354eeb,_0x20875f=document['getElementById'](_0x38ae97(0x970)),_0xc95fdf=document[_0x38ae97(0x64e)](_0x38ae97(0x84c));if(_0x20875f['value']===_0x38ae97(0xd3a)){adminPasswordModal[_0x38ae97(0x565)]['add'](_0x38ae97(0x76a)),_0x20875f['value']='',_0xc95fdf['classList']['add'](_0x38ae97(0x76a)),currentMode=_0x38ae97(0x763);const _0x16c785=document[_0x38ae97(0x64e)](_0x38ae97(0xcb8));_0x16c785[_0x38ae97(0xc5e)]=_0x38ae97(0x6d8),_0x16c785[_0x38ae97(0x1ed)]=_0x38ae97(0xd5f),showView('admin-dashboard');}else _0xc95fdf[_0x38ae97(0x565)][_0x38ae97(0xc9d)]('hidden'),_0x20875f[_0x38ae97(0x998)]='';}function switchProjectTab(_0x4597ec){const _0x5ef03f=_0x354eeb;[_0x5ef03f(0xa72),_0x5ef03f(0x2c3),_0x5ef03f(0xda5)][_0x5ef03f(0x37d)](_0x21962f=>{const _0x2a480a=_0x5ef03f;document[_0x2a480a(0x64e)](_0x21962f+_0x2a480a(0x318))['classList']['remove'](_0x2a480a(0x385)),document[_0x2a480a(0x64e)](_0x21962f+_0x2a480a(0x21b))[_0x2a480a(0x565)]['add'](_0x2a480a(0x76a));}),document[_0x5ef03f(0x64e)](_0x4597ec+_0x5ef03f(0x318))[_0x5ef03f(0x565)][_0x5ef03f(0x21a)](_0x5ef03f(0x385)),document[_0x5ef03f(0x64e)](_0x4597ec+_0x5ef03f(0x21b))[_0x5ef03f(0x565)][_0x5ef03f(0xc9d)](_0x5ef03f(0x76a));}function switchQuizDetailTab(_0xd1909d){const _0x4fc3c6=_0x354eeb,_0x20d336={'analytics':{'btn':_0x4fc3c6(0x4cd),'content':'analytics-tab-content'},'scores':{'btn':_0x4fc3c6(0x994),'content':_0x4fc3c6(0x3a5)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x4fc3c6(0xb45)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x4fc3c6(0x671)}};for(const _0x44d23e in _0x20d336){document[_0x4fc3c6(0x64e)](_0x20d336[_0x44d23e][_0x4fc3c6(0xa34)])[_0x4fc3c6(0x565)][_0x4fc3c6(0xc9d)]('active'),document[_0x4fc3c6(0x64e)](_0x20d336[_0x44d23e][_0x4fc3c6(0x8e2)])[_0x4fc3c6(0x565)][_0x4fc3c6(0x21a)]('hidden');}document[_0x4fc3c6(0x64e)](_0x20d336[_0xd1909d][_0x4fc3c6(0xa34)])[_0x4fc3c6(0x565)][_0x4fc3c6(0x21a)](_0x4fc3c6(0x385)),document['getElementById'](_0x20d336[_0xd1909d][_0x4fc3c6(0x8e2)])[_0x4fc3c6(0x565)][_0x4fc3c6(0xc9d)]('hidden');}function showMessage(_0x4681d0,_0x24dd2a=null){const _0x247ccd=_0x354eeb;modalMessage[_0x247ccd(0xd72)]=_0x4681d0,modalConfirmAction=_0x24dd2a,messageModal[_0x247ccd(0x565)][_0x247ccd(0xc9d)](_0x247ccd(0x76a));}function showConfirmation(_0x5df892,_0x38d813){const _0x199583=_0x354eeb;document[_0x199583(0x64e)]('confirmation-message')['textContent']=_0x5df892,document[_0x199583(0x64e)](_0x199583(0x4d5))['querySelector']('h3')[_0x199583(0xd72)]=_0x199583(0x8f7),confirmAction=_0x38d813,confirmationModal[_0x199583(0x565)]['remove']('hidden');}function listenForProjects(){const _0x4e1c86=_0x354eeb,_0x2f9671=doc(db,_0x4e1c86(0x5f3),'dashboardConfig');onSnapshot(_0x2f9671,_0x53ca8e=>{const _0x4a2802=_0x4e1c86;if(_0x53ca8e[_0x4a2802(0x2c9)]()){const _0x4cd63a=_0x53ca8e[_0x4a2802(0xbb9)]();globalDashboardSettings[_0x4a2802(0x779)]=_0x4cd63a[_0x4a2802(0x779)]||_0x4a2802(0x2fb),globalDashboardSettings['pinnedProjects']=_0x4cd63a[_0x4a2802(0xadf)]||[],globalDashboardSettings[_0x4a2802(0xc11)]=_0x4cd63a[_0x4a2802(0xc11)]||[];}allProjects[_0x4a2802(0x2ee)]>0x0&&renderProjects();});const _0x2f2b0f=collection(db,'artifacts/'+appId+_0x4e1c86(0x32d));unsubscribeProjectsListener=onSnapshot(_0x2f2b0f,_0x30d9f5=>{const _0x252a99=_0x4e1c86;allProjects=_0x30d9f5[_0x252a99(0x2e6)][_0x252a99(0x1fa)](_0x239fe1=>({'id':_0x239fe1['id'],..._0x239fe1[_0x252a99(0xbb9)]()})),renderProjects();},_0x449655=>{const _0x56ae8f=_0x4e1c86;console['error']('Error\x20listening\x20for\x20projects:',_0x449655),showMessage(_0x56ae8f(0xc94));});}function showColorPalette(_0x51863a,_0x2f38dd){const _0x2a7554=_0x354eeb;document[_0x2a7554(0x72d)](_0x2a7554(0x8c1))[_0x2a7554(0x37d)](_0x3cf274=>_0x3cf274[_0x2a7554(0xc9d)]());const _0x2bce69=[_0x2a7554(0x8e9),_0x2a7554(0x580),'#FEF3C7',_0x2a7554(0x6dc),_0x2a7554(0x607),'#E0E7FF',_0x2a7554(0xc4a),_0x2a7554(0xb5e),'#E5E7EB'],_0x3e331e=document[_0x2a7554(0x1ea)](_0x2a7554(0xae0));_0x3e331e[_0x2a7554(0x4ca)]=_0x2a7554(0x370),_0x2bce69['forEach'](_0x3de73a=>{const _0x409efe=_0x2a7554,_0xdefe3d=document[_0x409efe(0x1ea)](_0x409efe(0xae0));_0xdefe3d[_0x409efe(0x4ca)]=_0x409efe(0x7c3),_0xdefe3d[_0x409efe(0x1ff)][_0x409efe(0x279)]=_0x3de73a,_0xdefe3d[_0x409efe(0xa02)](_0x409efe(0x4f9),()=>{const _0x586fb4=_0x409efe;handleProjectColorChange(_0x2f38dd,_0x3de73a),_0x3e331e[_0x586fb4(0xc9d)]();}),_0x3e331e[_0x409efe(0x2dd)](_0xdefe3d);}),document[_0x2a7554(0xdd4)]['appendChild'](_0x3e331e);const _0x254973=_0x51863a[_0x2a7554(0x71b)]();_0x3e331e[_0x2a7554(0x1ff)]['top']=_0x254973[_0x2a7554(0x5f5)]+window[_0x2a7554(0x78d)]+'px',_0x3e331e[_0x2a7554(0x1ff)][_0x2a7554(0xc46)]=_0x254973[_0x2a7554(0xc46)]+window[_0x2a7554(0x9cf)]-_0x3e331e[_0x2a7554(0xb6e)]/0x2+'px';}async function handleProjectColorChange(_0x3c6311,_0x3bf8d0){const _0x5ea1e9=_0x354eeb,_0x42634e=doc(db,_0x5ea1e9(0x53f)+appId+_0x5ea1e9(0x32d),_0x3c6311);try{await updateDoc(_0x42634e,{'color':_0x3bf8d0});}catch(_0x1c7b82){console[_0x5ea1e9(0x894)](_0x5ea1e9(0xaae),_0x1c7b82),showMessage(_0x5ea1e9(0x6d4));}}async function renderProjects(){const _0xcffe1e=_0x354eeb,_0xa95a26=globalDashboardSettings[_0xcffe1e(0x779)]||_0xcffe1e(0x2fb),_0x5b858c=new Set(globalDashboardSettings[_0xcffe1e(0xadf)]||[]),_0x4af893=globalDashboardSettings[_0xcffe1e(0xb9d)]||_0xcffe1e(0xc80),_0xf26616=document['getElementById']('grid-view-btn'),_0x5dadf1=document[_0xcffe1e(0x64e)](_0xcffe1e(0x93d));_0xf26616[_0xcffe1e(0x565)][_0xcffe1e(0xc97)](_0xcffe1e(0x385),_0x4af893===_0xcffe1e(0xc80)),_0x5dadf1[_0xcffe1e(0x565)]['toggle'](_0xcffe1e(0x385),_0x4af893===_0xcffe1e(0xcb9)),document[_0xcffe1e(0x64e)](_0xcffe1e(0x32f))['value']=_0xa95a26;const _0x25317d=document[_0xcffe1e(0x64e)](_0xcffe1e(0x861))[_0xcffe1e(0x998)][_0xcffe1e(0x468)]();let _0x2e4399=allProjects[_0xcffe1e(0xdc7)](_0x2f5bc0=>_0x2f5bc0[_0xcffe1e(0x7dc)][_0xcffe1e(0x468)]()[_0xcffe1e(0xcc5)](_0x25317d));const _0x54ed89=_0x2e4399['filter'](_0x4d8085=>_0x5b858c['has'](_0x4d8085['id'])),_0x54f572=_0x2e4399[_0xcffe1e(0xdc7)](_0x178402=>!_0x5b858c['has'](_0x178402['id'])),_0x5e96df=(_0x5cd3c2,_0x53980c)=>{const _0x5597f6=_0xcffe1e;switch(_0xa95a26){case'name_asc':return _0x5cd3c2[_0x5597f6(0x7dc)][_0x5597f6(0x202)](_0x53980c[_0x5597f6(0x7dc)],'th');case'name_desc':return _0x53980c['projectName'][_0x5597f6(0x202)](_0x5cd3c2[_0x5597f6(0x7dc)],'th');case _0x5597f6(0x710):return new Date(_0x5cd3c2[_0x5597f6(0x2c8)])-new Date(_0x53980c['createdAt']);default:return new Date(_0x53980c[_0x5597f6(0x2c8)])-new Date(_0x5cd3c2[_0x5597f6(0x2c8)]);}};_0x54ed89[_0xcffe1e(0x705)](_0x5e96df),_0x54f572['sort'](_0x5e96df);const _0x4d7026=[..._0x54ed89,..._0x54f572],_0x2de367=globalDashboardSettings[_0xcffe1e(0xc11)]||[];_0x2de367[_0xcffe1e(0x2ee)]>0x0&&_0x4af893==='grid'&&_0x4d7026['sort']((_0x326b70,_0x53d46f)=>{const _0x1d9ec2=_0xcffe1e,_0x2afd05=_0x2de367[_0x1d9ec2(0xa98)](_0x326b70['id']),_0x329e2d=_0x2de367[_0x1d9ec2(0xa98)](_0x53d46f['id']);if(_0x2afd05===-0x1)return 0x1;if(_0x329e2d===-0x1)return-0x1;return _0x2afd05-_0x329e2d;});const _0xd9f8da={};await Promise[_0xcffe1e(0x885)](_0x4d7026[_0xcffe1e(0x1fa)](async _0x4bed92=>{const _0xfadb70=_0xcffe1e,_0x2303a9=query(collection(db,_0xfadb70(0x53f)+appId+_0xfadb70(0x450)),where(_0xfadb70(0xd27),'==',_0x4bed92['id'])),_0x11c4b0=await getDocs(_0x2303a9);_0xd9f8da[_0x4bed92['id']]=_0x11c4b0[_0xfadb70(0x20f)];}));const _0xfbae83=document['getElementById'](_0xcffe1e(0x50b));let _0x1d6025='';if(_0x4af893===_0xcffe1e(0xc80)){_0xfbae83[_0xcffe1e(0x4ca)]=_0xcffe1e(0x675);if(starredQuizzes[_0xcffe1e(0x2ee)]>0x0&&_0x25317d===''){const _0x4d5c70=starredQuizzes[_0xcffe1e(0x1fa)](_0x5ec348=>{const _0x5dd5cf=_0xcffe1e,_0x42164c=allProjects['find'](_0x12e134=>_0x12e134['id']===_0x5ec348['projectId']);return{..._0x5ec348,'projectName':_0x42164c?_0x42164c[_0x5dd5cf(0x7dc)]:'N/A'};});_0x1d6025+=_0xcffe1e(0xa56)+_0x4d5c70[_0xcffe1e(0x1fa)](_0x168cee=>_0xcffe1e(0xc79)+_0x168cee['topic']+'\x22>'+_0x168cee['topic']+_0xcffe1e(0x3ca)+_0x168cee[_0xcffe1e(0x7dc)]+_0xcffe1e(0xbf5)+_0x168cee[_0xcffe1e(0x7dc)]+_0xcffe1e(0x4e3))[_0xcffe1e(0x5fa)]('')+_0xcffe1e(0xb74)+starredQuizzes[_0xcffe1e(0x2ee)]+_0xcffe1e(0x550);}_0x4d7026[_0xcffe1e(0x37d)](_0x4d57f4=>{const _0x24dbcc=_0xcffe1e,_0x3985c1=_0xd9f8da[_0x4d57f4['id']]??0x0,_0xe51016=_0x5b858c[_0x24dbcc(0x6cf)](_0x4d57f4['id']),_0x567ad5=_0x4d57f4[_0x24dbcc(0x272)]||_0x24dbcc(0x8e9),_0xd4abe7=parseInt(_0x567ad5[_0x24dbcc(0xdc8)](0x1,0x3),0x10)*0.299+parseInt(_0x567ad5[_0x24dbcc(0xdc8)](0x3,0x5),0x10)*0.587+parseInt(_0x567ad5[_0x24dbcc(0xdc8)](0x5,0x7),0x10)*0.114<0xba,_0x533ee4=_0xd4abe7?_0x24dbcc(0xb43):'text-indigo-800',_0x38ca81=_0xd4abe7?_0x24dbcc(0x798):_0x24dbcc(0x4a1);_0x1d6025+=_0x24dbcc(0xb0f)+(_0xe51016?_0x24dbcc(0x408):_0x24dbcc(0x80c))+_0x24dbcc(0x769)+_0x567ad5+';\x22\x20data-id=\x22'+_0x4d57f4['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4d57f4['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0xd4abe7?'text-gray-300\x20hover:text-white':_0x24dbcc(0xa2e))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4d57f4['id']+_0x24dbcc(0xda4)+(_0xd4abe7?_0x24dbcc(0xc4c):_0x24dbcc(0xa2e))+_0x24dbcc(0xc1e)+(_0xe51016?_0xd4abe7?_0x24dbcc(0x87a):_0x24dbcc(0x7f3):'')+_0x24dbcc(0xb65)+_0x4d57f4['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x533ee4+'\x20pointer-events-none\x22>'+_0x4d57f4[_0x24dbcc(0x7dc)]+_0x24dbcc(0x31d)+_0x38ca81+_0x24dbcc(0x85e)+new Date(_0x4d57f4[_0x24dbcc(0x2c8)])['toLocaleDateString'](_0x24dbcc(0xafd))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0xd4abe7?_0x24dbcc(0x43b):_0x24dbcc(0x728))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x3985c1+_0x24dbcc(0xaef)+_0x4d57f4['id']+_0x24dbcc(0xb9f)+_0x4d57f4['projectName']+_0x24dbcc(0x331)+(_0xd4abe7?_0x24dbcc(0xbea):_0x24dbcc(0x3ed))+_0x24dbcc(0xcf0);});}else _0xfbae83['className']=_0xcffe1e(0x67b),starredQuizzes['length']>0x0&&_0x25317d===''&&(_0x1d6025+=_0xcffe1e(0x6c6)+starredQuizzes['length']+_0xcffe1e(0x868)),_0x1d6025+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x4d7026[_0xcffe1e(0x37d)](_0x123e8a=>{const _0x8b8a81=_0xcffe1e,_0x92893=_0xd9f8da[_0x123e8a['id']]??0x0,_0x5b4650=_0x5b858c[_0x8b8a81(0x6cf)](_0x123e8a['id']);_0x1d6025+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x123e8a['color']||_0x8b8a81(0x281))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x123e8a['id']+_0x8b8a81(0x5f0)+_0x123e8a[_0x8b8a81(0x7dc)]+_0x8b8a81(0xc31)+_0x92893+_0x8b8a81(0x39f)+new Date(_0x123e8a[_0x8b8a81(0x2c8)])[_0x8b8a81(0x473)](_0x8b8a81(0xafd))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x123e8a['id']+_0x8b8a81(0x5c5)+(_0x5b4650?_0x8b8a81(0x7f3):'')+_0x8b8a81(0x7d0)+_0x123e8a['id']+_0x8b8a81(0xb9f)+_0x123e8a[_0x8b8a81(0x7dc)]+_0x8b8a81(0x244);});projectList['innerHTML']=_0x1d6025,noProjectsMsg[_0xcffe1e(0x565)]['toggle']('hidden',_0x1d6025[_0xcffe1e(0x2ee)]>0x0);}document[_0x354eeb(0x64e)]('confirm-create-project-btn')[_0x354eeb(0xa02)](_0x354eeb(0x4f9),async()=>{const _0x22bb56=_0x354eeb,_0x301422=document[_0x22bb56(0x64e)](_0x22bb56(0x79a)),_0x145036=_0x301422[_0x22bb56(0x998)][_0x22bb56(0xdd7)]();if(!_0x145036){showMessage(_0x22bb56(0xb46));return;}try{const _0x5b4745=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x5b4745,{'projectName':_0x145036,'students':[],'settings':{'resultsDisplay':_0x22bb56(0x754),'shuffleSetting':_0x22bb56(0xd78),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x22bb56(0xd78),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x22bb56(0xd4e)]()}),_0x301422[_0x22bb56(0x998)]='',createProjectModal[_0x22bb56(0x565)][_0x22bb56(0x21a)](_0x22bb56(0x76a)),showMessage(_0x22bb56(0x49d));}catch(_0x1f72ce){console[_0x22bb56(0x894)](_0x22bb56(0xd05),_0x1f72ce),showMessage(_0x22bb56(0xc1c));}}),projectList[_0x354eeb(0xa02)](_0x354eeb(0x4f9),async _0x84e223=>{const _0x3f974a=_0x354eeb,_0x2f61e6=_0x84e223[_0x3f974a(0xa8f)][_0x3f974a(0x717)](_0x3f974a(0xd09)),_0x1d39a8=_0x84e223['target']['closest'](_0x3f974a(0xa4a)),_0x269b6e=_0x84e223['target'][_0x3f974a(0x717)](_0x3f974a(0x3d0)),_0xb657fb=_0x84e223[_0x3f974a(0xa8f)]['closest'](_0x3f974a(0x3d3));if(_0x269b6e){const _0x285908=_0x269b6e['dataset']['id'],_0x50c056=doc(db,_0x3f974a(0x5f3),_0x3f974a(0xa9f)),_0x229cad=globalDashboardSettings[_0x3f974a(0xadf)];let _0x1442e8;_0x229cad[_0x3f974a(0xcc5)](_0x285908)?_0x1442e8=_0x229cad[_0x3f974a(0xdc7)](_0x1e32b5=>_0x1e32b5!==_0x285908):_0x1442e8=[..._0x229cad,_0x285908];try{await setDoc(_0x50c056,{'pinnedProjects':_0x1442e8},{'merge':!![]});}catch(_0x663450){console[_0x3f974a(0x894)](_0x3f974a(0x648),_0x663450),showMessage(_0x3f974a(0x3e1));}}else{if(_0xb657fb){const _0x5101e1=_0xb657fb[_0x3f974a(0x524)]['id'];showColorPalette(_0xb657fb,_0x5101e1);}else{if(_0x2f61e6){const _0x5ab2e2=_0x2f61e6['dataset']['id'];_0x5ab2e2===_0x3f974a(0x974)?showStarredProjectView():(currentProjectId=_0x5ab2e2,await loadProjectDetails(currentProjectId),showView(_0x3f974a(0xaea)));}else{if(_0x1d39a8){const _0x249fbf=_0x1d39a8[_0x3f974a(0x524)]['id'],_0x4a408c=_0x1d39a8[_0x3f974a(0x524)][_0x3f974a(0x799)];showConfirmation(_0x3f974a(0xc3e)+_0x4a408c+_0x3f974a(0x931),()=>handleDeleteProject(_0x249fbf));}}}}}),projectList['addEventListener'](_0x354eeb(0xcef),_0x26f0cd=>{const _0x190651=_0x354eeb,_0x1aa6e7=_0x26f0cd[_0x190651(0xa8f)][_0x190651(0x717)](_0x190651(0x2c0));_0x1aa6e7&&_0x1aa6e7['classList'][_0x190651(0x21a)]('opacity-50');}),projectList[_0x354eeb(0xa02)](_0x354eeb(0x8fb),_0x387dd0=>{const _0x584d7f=_0x354eeb,_0x1342d3=_0x387dd0[_0x584d7f(0xa8f)]['closest'](_0x584d7f(0x2c0));_0x1342d3&&_0x1342d3['classList'][_0x584d7f(0xc9d)](_0x584d7f(0x993));}),projectList[_0x354eeb(0xa02)](_0x354eeb(0xab5),_0x37788e=>{const _0x5d8131=_0x354eeb;_0x37788e['preventDefault']();const _0x2480d8=document['querySelector']('.project-card-container.opacity-50');if(!_0x2480d8)return;const _0x50180e=getDragAfterElement(projectList,_0x37788e[_0x5d8131(0xbbf)]);_0x50180e==null?projectList[_0x5d8131(0x2dd)](_0x2480d8):projectList[_0x5d8131(0xa2d)](_0x2480d8,_0x50180e);}),projectList['addEventListener'](_0x354eeb(0x259),_0x3ecc5d=>{const _0x469de9=_0x354eeb;_0x3ecc5d[_0x469de9(0x304)]();const _0x31d26a=[...projectList[_0x469de9(0x72d)](_0x469de9(0x349))][_0x469de9(0x1fa)](_0x37ccd0=>_0x37ccd0[_0x469de9(0x524)]['id']);saveProjectOrder(_0x31d26a);});function renderBehaviorLog(_0x52d7d8){const _0x140c29=_0x354eeb,_0x1864d0=document['getElementById'](_0x140c29(0xc76));if(!_0x1864d0)return;const _0x576190=_0x52d7d8[_0x140c29(0xdc7)](_0x1f9220=>_0x1f9220[_0x140c29(0xbf8)]&&_0x1f9220['behaviorLog'][_0x140c29(0x2ee)]>0x0);if(_0x576190[_0x140c29(0x2ee)]===0x0){_0x1864d0['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x8e9cc1='';_0x576190[_0x140c29(0x37d)](_0x1d57ad=>{const _0x4993d8=_0x140c29;_0x8e9cc1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x1d57ad['studentName']+_0x4993d8(0x364),_0x1d57ad['behaviorLog'][_0x4993d8(0x705)]((_0xd9a1da,_0x3e8642)=>new Date(_0x3e8642['timestamp'])-new Date(_0xd9a1da[_0x4993d8(0x89e)]))['forEach'](_0x515735=>{const _0x3330d5=_0x4993d8,_0x50e713=new Date(_0x515735[_0x3330d5(0x89e)])[_0x3330d5(0x473)](_0x3330d5(0xafd),{'dateStyle':_0x3330d5(0xa22),'timeStyle':_0x3330d5(0x564)});_0x8e9cc1+=_0x3330d5(0xc39)+_0x515735['attemptNumber']+_0x3330d5(0x48b)+_0x50e713+_0x3330d5(0x949);}),_0x8e9cc1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1864d0[_0x140c29(0xc5e)]=_0x8e9cc1;}function getDragAfterElement(_0x3fb82b,_0x5a440a){const _0x5ebeaa=_0x354eeb,_0xeb4cd1=[..._0x3fb82b[_0x5ebeaa(0x72d)](_0x5ebeaa(0xc8e))];return _0xeb4cd1[_0x5ebeaa(0xb6c)]((_0xe61a63,_0x585e3e)=>{const _0x5a9b77=_0x5ebeaa,_0x123b56=_0x585e3e['getBoundingClientRect'](),_0x418b8b=_0x5a440a-_0x123b56[_0x5a9b77(0xc10)]-_0x123b56[_0x5a9b77(0x9f0)]/0x2;return _0x418b8b<0x0&&_0x418b8b>_0xe61a63[_0x5a9b77(0xd9e)]?{'offset':_0x418b8b,'element':_0x585e3e}:_0xe61a63;},{'offset':Number[_0x5ebeaa(0x611)]})['element'];}async function saveProjectOrder(_0x21d50a){const _0x321f16=_0x354eeb,_0x2c36fd=doc(db,_0x321f16(0x5f3),_0x321f16(0xa9f));try{await setDoc(_0x2c36fd,{'projectOrder':_0x21d50a},{'merge':!![]});}catch(_0x405149){console[_0x321f16(0x894)](_0x321f16(0x392),_0x405149),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0xb064c8,_0x41738e={}){const _0x3c0e1d=_0x354eeb;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3c0e1d(0xc25)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x939843=doc(db,_0x3c0e1d(0x53f)+appId+_0x3c0e1d(0x253)+currentQuizData['id']+_0x3c0e1d(0x6f1),currentStudentName),_0xf7fc08={'event':_0xb064c8,'timestamp':new Date()[_0x3c0e1d(0xd4e)](),..._0x41738e};try{await updateDoc(_0x939843,{'behaviorLog':arrayUnion(_0xf7fc08)}),console[_0x3c0e1d(0x4b0)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+'\x20สำเร็จ');}catch(_0xf58c1d){_0xf58c1d[_0x3c0e1d(0x9c3)]==='not-found'?console[_0x3c0e1d(0xc25)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x3c0e1d(0x9c2)):console[_0x3c0e1d(0x894)](_0x3c0e1d(0x207),_0xf58c1d);}}function calculateMeanAndStdDev(_0x206f93){const _0xbf435=_0x354eeb;if(_0x206f93[_0xbf435(0x2ee)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x301182=_0x206f93['reduce']((_0x368557,_0x122da8)=>_0x368557+_0x122da8,0x0)/_0x206f93[_0xbf435(0x2ee)];if(_0x206f93[_0xbf435(0x2ee)]===0x1)return{'mean':_0x301182,'stdDev':0x0};const _0x5487dc=Math[_0xbf435(0x6a8)](_0x206f93[_0xbf435(0x1fa)](_0x17c697=>Math[_0xbf435(0xca8)](_0x17c697-_0x301182,0x2))['reduce']((_0x414689,_0x597724)=>_0x414689+_0x597724,0x0)/(_0x206f93[_0xbf435(0x2ee)]-0x1));return{'mean':_0x301182,'stdDev':_0x5487dc};}function calculateZScore(_0x2e03d0,_0x5d9bc6,_0x2a3241){if(_0x2a3241===0x0)return 0x0;return(_0x2e03d0-_0x5d9bc6)/_0x2a3241;}function calculateTScore(_0x404e55){return 0xa*_0x404e55+0x32;}function showStarredProjectView(){const _0x1102af=_0x354eeb;currentProjectId=_0x1102af(0x2d4),currentProjectData=null,projectTitle['textContent']=_0x1102af(0x614),projectIdDisplay[_0x1102af(0xd72)]=_0x1102af(0x234),showView(_0x1102af(0xaea)),manageTab[_0x1102af(0x565)]['add'](_0x1102af(0x76a)),leaderboardTab[_0x1102af(0x565)][_0x1102af(0x21a)](_0x1102af(0x76a)),switchProjectTab(_0x1102af(0x2c3)),renderQuizzes();}async function loadProjectDetails(_0x50a03a){const _0xe9e8d1=_0x354eeb,_0x2248ca=doc(db,_0xe9e8d1(0x53f)+appId+_0xe9e8d1(0x32d),_0x50a03a),_0x5378c9=await getDoc(_0x2248ca);if(_0x5378c9[_0xe9e8d1(0x2c9)]()){manageTab[_0xe9e8d1(0x565)]['remove'](_0xe9e8d1(0x76a)),leaderboardTab[_0xe9e8d1(0x565)][_0xe9e8d1(0xc9d)](_0xe9e8d1(0x76a)),currentProjectData=_0x5378c9['data'](),projectTitle[_0xe9e8d1(0xd72)]=currentProjectData[_0xe9e8d1(0x7dc)],projectIdDisplay['textContent']=_0x50a03a;const _0x1a60e2=currentProjectData[_0xe9e8d1(0x992)]||{};document[_0xe9e8d1(0x64e)]('shuffle-setting-select')[_0xe9e8d1(0x998)]=_0x1a60e2[_0xe9e8d1(0xbb7)]||_0xe9e8d1(0xd78);const _0x3d31f2=document[_0xe9e8d1(0x64e)](_0xe9e8d1(0x6a3));_0x3d31f2[_0xe9e8d1(0x5f7)]=_0x1a60e2[_0xe9e8d1(0xb04)]!==![];const _0x16b8b7=document['getElementById']('enable-passcode-checkbox'),_0x11869c=document[_0xe9e8d1(0x64e)](_0xe9e8d1(0x70c)),_0x3503e9=document[_0xe9e8d1(0x64e)](_0xe9e8d1(0x2d7)),_0x437975=_0x1a60e2[_0xe9e8d1(0x529)]||![];_0x16b8b7[_0xe9e8d1(0x5f7)]=_0x437975,_0x3503e9[_0xe9e8d1(0x998)]=_0x1a60e2[_0xe9e8d1(0x46f)]||'',_0x11869c['classList'][_0xe9e8d1(0xc97)](_0xe9e8d1(0x76a),!_0x437975),_0x16b8b7[_0xe9e8d1(0x4e0)]=()=>{const _0x5ceee9=_0xe9e8d1;_0x11869c[_0x5ceee9(0x565)]['toggle'](_0x5ceee9(0x76a),!_0x16b8b7[_0x5ceee9(0x5f7)]);},document[_0xe9e8d1(0x64e)](_0xe9e8d1(0x853))[_0xe9e8d1(0x5f7)]=_0x1a60e2[_0xe9e8d1(0xaa8)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x50a03a),listenForProjectQuizzes(_0x50a03a),listenForStudentProfiles(_0x50a03a);}else showMessage(_0xe9e8d1(0x844)),showView(_0xe9e8d1(0x423));}async function handleResetProjectOrder(){const _0x2df287=_0x354eeb,_0x54270e=doc(db,_0x2df287(0x5f3),_0x2df287(0xa9f));try{await setDoc(_0x54270e,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x11bd62){console[_0x2df287(0x894)](_0x2df287(0xab1),_0x11bd62),showMessage(_0x2df287(0x53c));}}async function handleTogglePinProject(_0x3a2454){const _0x38f831=_0x354eeb;if(!_0x3a2454)return;const _0xd0a241=doc(db,_0x38f831(0x53f)+appId+_0x38f831(0x32d),_0x3a2454);try{const _0x58cb03=await getDoc(_0xd0a241);if(_0x58cb03[_0x38f831(0x2c9)]()){const _0x55cc3f=_0x58cb03['data']()[_0x38f831(0x4dc)]||![];await updateDoc(_0xd0a241,{'isPinned':!_0x55cc3f});}}catch(_0x2e0730){console[_0x38f831(0x894)](_0x38f831(0x25d),_0x2e0730),showMessage(_0x38f831(0x3e1));}}async function handleDeleteProject(_0x29a64b){const _0x57df34=_0x354eeb;try{const _0xfa6b13=writeBatch(db),_0x26335a=collection(db,'artifacts/'+appId+_0x57df34(0x450)),_0x58d4d7=query(_0x26335a,where(_0x57df34(0xd27),'==',_0x29a64b)),_0x32ebcf=await getDocs(_0x58d4d7);for(const _0x1fa1f6 of _0x32ebcf[_0x57df34(0x2e6)]){const _0x38d8a9=collection(db,_0x57df34(0x53f)+appId+_0x57df34(0x253)+_0x1fa1f6['id']+_0x57df34(0x6f1)),_0x53c226=await getDocs(_0x38d8a9);_0x53c226['forEach'](_0x27c3da=>{const _0x3bf5a1=_0x57df34;_0xfa6b13[_0x3bf5a1(0xd2c)](_0x27c3da[_0x3bf5a1(0x422)]);}),_0xfa6b13[_0x57df34(0xd2c)](_0x1fa1f6[_0x57df34(0x422)]);}const _0xee84f8=collection(db,_0x57df34(0x53f)+appId+'/public/data/projects/'+_0x29a64b+'/studentProfiles'),_0x2d8265=await getDocs(_0xee84f8);_0x2d8265[_0x57df34(0x37d)](_0x4a49c8=>{const _0x2355a1=_0x57df34;_0xfa6b13[_0x2355a1(0xd2c)](_0x4a49c8[_0x2355a1(0x422)]);});const _0x3b9801=doc(db,_0x57df34(0x53f)+appId+_0x57df34(0x32d),_0x29a64b);_0xfa6b13[_0x57df34(0xd2c)](_0x3b9801),await _0xfa6b13[_0x57df34(0xaa0)](),showMessage(_0x57df34(0x57b)),showView(_0x57df34(0x423));}catch(_0x27dc9d){console['error'](_0x57df34(0xa73),_0x27dc9d),showMessage(_0x57df34(0x24e));}}document['getElementById'](_0x354eeb(0x3ef))['addEventListener'](_0x354eeb(0x4f9),async()=>{const _0x56040c=_0x354eeb;if(!currentProjectId)return;const _0x5be06e={'defaultNumQuestions':parseInt(document[_0x56040c(0x64e)]('num-questions')[_0x56040c(0x998)]),'defaultNumChoices':parseInt(document['getElementById'](_0x56040c(0xd30))[_0x56040c(0x998)]),'defaultPassingScore':parseInt(document[_0x56040c(0x64e)](_0x56040c(0xa3e))[_0x56040c(0x998)]),'resultsDisplay':document[_0x56040c(0x64e)](_0x56040c(0xd23))[_0x56040c(0x998)],'shuffleSetting':document[_0x56040c(0x64e)](_0x56040c(0x228))[_0x56040c(0x998)],'timerMode':document[_0x56040c(0x64e)](_0x56040c(0x9e0))[_0x56040c(0x998)],'timerDuration':parseInt(document['getElementById'](_0x56040c(0x47a))[_0x56040c(0x998)]),'isConfidenceScoringEnabled':document[_0x56040c(0x64e)](_0x56040c(0x853))[_0x56040c(0x5f7)],'confidenceMode':document['getElementById']('confidence-mode-select')[_0x56040c(0x998)]};try{const _0x3372a1=doc(db,_0x56040c(0x53f)+appId+_0x56040c(0x32d),currentProjectId);await updateDoc(_0x3372a1,{'settings':_0x5be06e}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x5056b9){console[_0x56040c(0x894)](_0x56040c(0x7bc),_0x5056b9),showMessage(_0x56040c(0x46a));}});function listenForStudents(_0x475240){const _0x13c00c=_0x354eeb,_0x4d82fe=doc(db,_0x13c00c(0x53f)+appId+_0x13c00c(0x32d),_0x475240);unsubscribeStudentsListener=onSnapshot(_0x4d82fe,_0x6dd63e=>{const _0x1a5b2b=_0x13c00c;if(_0x6dd63e[_0x1a5b2b(0x2c9)]()){const _0x116fc1=_0x6dd63e['data']();currentProjectData=_0x116fc1,renderStudentList(_0x116fc1['students']||[]);}});}function renderStudentList(_0x3035b6){const _0x28c78e=_0x354eeb,_0x2b4572=document[_0x28c78e(0x64e)](_0x28c78e(0x643));_0x3035b6[_0x28c78e(0x2ee)]===0x0?(studentList[_0x28c78e(0xc5e)]=_0x28c78e(0x984),_0x2b4572['classList'][_0x28c78e(0x21a)]('hidden')):(studentList[_0x28c78e(0xc5e)]=_0x3035b6[_0x28c78e(0x1fa)](_0xb2dd5d=>_0x28c78e(0x2e4)+_0xb2dd5d+_0x28c78e(0x4e2)+_0xb2dd5d+_0x28c78e(0x243))[_0x28c78e(0x5fa)](''),_0x2b4572[_0x28c78e(0x565)]['remove'](_0x28c78e(0x76a)));}document[_0x354eeb(0x64e)](_0x354eeb(0x4f7))[_0x354eeb(0xa02)]('click',async()=>{const _0x234d02=_0x354eeb;if(!currentProjectId)return;const _0x52f09a=document[_0x234d02(0x64e)]('student-name-input'),_0x420049=_0x52f09a[_0x234d02(0x998)][_0x234d02(0xdd7)]();if(!_0x420049){showMessage(_0x234d02(0x8e3));return;}const _0x300e68=_0x420049[_0x234d02(0x816)]('\x0a')[_0x234d02(0x1fa)](_0x5adb65=>_0x5adb65[_0x234d02(0xdd7)]())[_0x234d02(0xdc7)](_0x2c454f=>_0x2c454f);if(_0x300e68[_0x234d02(0x2ee)]===0x0)return;try{const _0x315640=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x43b7bf=await getDoc(_0x315640);if(_0x43b7bf[_0x234d02(0x2c9)]()){const _0x4f2b6d=_0x43b7bf['data']()[_0x234d02(0x4c1)]||[],_0x18acf6=[...new Set([..._0x4f2b6d,..._0x300e68])];await updateDoc(_0x315640,{'students':_0x18acf6}),_0x52f09a[_0x234d02(0x998)]='';}}catch(_0x1e1db9){console[_0x234d02(0x894)](_0x234d02(0xc2b),_0x1e1db9),showMessage(_0x234d02(0x73c));}});async function handleManualQuizPairing(_0xe93233){const _0x551755=_0x354eeb,_0x44ade8=document[_0x551755(0x64e)]('move-quiz-modal'),_0x1b7f22=document[_0x551755(0x64e)]('move-quiz-project-select'),_0x48f959=_0x44ade8[_0x551755(0x8b9)]('h3'),_0x59b684=document['getElementById'](_0x551755(0xb29)),_0x285f1c=document[_0x551755(0x64e)](_0x551755(0x7f8));_0x48f959[_0x551755(0xd72)]='จับคู่เพื่อเปรียบเทียบผล',_0x1b7f22[_0x551755(0xc5e)]=_0x551755(0x7fa),_0x59b684['textContent']='ยืนยันการจับคู่',_0x44ade8['classList']['remove'](_0x551755(0x76a));const _0x5950fd=allQuizzes['filter'](_0x5c4414=>_0x5c4414['id']!==_0xe93233);_0x5950fd['length']===0x0?(_0x1b7f22['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x59b684[_0x551755(0x87b)]=!![]):(_0x1b7f22[_0x551755(0xc5e)]=_0x551755(0xcb4)+_0x5950fd[_0x551755(0x1fa)](_0x96078a=>'<option\x20value=\x22'+_0x96078a['id']+'\x22>'+_0x96078a[_0x551755(0xdb7)]+'</option>')[_0x551755(0x5fa)](''),_0x59b684['disabled']=![]);const _0xbdefbe=async()=>{const _0x43491f=_0x551755,_0x144510=_0x1b7f22[_0x43491f(0x998)];if(!_0x144510){showMessage(_0x43491f(0x63e));return;}_0x59b684[_0x43491f(0x87b)]=!![],_0x59b684[_0x43491f(0xd72)]=_0x43491f(0xbc7);try{const _0x42db8e=doc(db,'artifacts/'+appId+_0x43491f(0x450),_0xe93233),_0x936d95=doc(db,_0x43491f(0x53f)+appId+_0x43491f(0x450),_0x144510),_0x2cd229=writeBatch(db);_0x2cd229[_0x43491f(0xb14)](_0x42db8e,{'pairedQuizId':_0x144510}),_0x2cd229[_0x43491f(0xb14)](_0x936d95,{'pairedQuizId':_0xe93233}),await _0x2cd229[_0x43491f(0xaa0)](),showMessage(_0x43491f(0x7ec)),_0x44ade8[_0x43491f(0x565)][_0x43491f(0x21a)](_0x43491f(0x76a));}catch(_0x252350){console[_0x43491f(0x894)](_0x43491f(0x354),_0x252350),showMessage(_0x43491f(0xbc2));}finally{_0x48f959[_0x43491f(0xd72)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x59b684['textContent']=_0x43491f(0x2df),_0x59b684[_0x43491f(0x87b)]=![],_0x59b684['removeEventListener'](_0x43491f(0x4f9),_0xbdefbe),_0x285f1c[_0x43491f(0xac0)](_0x43491f(0x4f9),_0xe20a6f);}},_0xe20a6f=()=>{const _0x385ad5=_0x551755;_0x44ade8[_0x385ad5(0x565)][_0x385ad5(0x21a)]('hidden'),_0x48f959[_0x385ad5(0xd72)]=_0x385ad5(0xb95),_0x59b684[_0x385ad5(0xd72)]='ย้าย',_0x59b684[_0x385ad5(0xac0)]('click',_0xbdefbe),_0x285f1c[_0x385ad5(0xac0)](_0x385ad5(0x4f9),_0xe20a6f);};_0x59b684[_0x551755(0xa02)](_0x551755(0x4f9),_0xbdefbe),_0x285f1c[_0x551755(0xa02)](_0x551755(0x4f9),_0xe20a6f);}function handleDeleteStudent(_0x1312c5){const _0x5d2680=_0x354eeb;showConfirmation(_0x5d2680(0xd36)+_0x1312c5+_0x5d2680(0x387),async()=>{const _0x5ecd88=_0x5d2680;if(!currentProjectId||!currentProjectData)return;const _0x4ef08a=currentProjectData['students'][_0x5ecd88(0xdc7)](_0x36268c=>_0x36268c!==_0x1312c5);try{const _0x572ab9=doc(db,_0x5ecd88(0x53f)+appId+_0x5ecd88(0x32d),currentProjectId),_0x5e17f0=doc(db,'artifacts/'+appId+_0x5ecd88(0x377)+currentProjectId+_0x5ecd88(0x2c7),_0x1312c5),_0x33ce5c=writeBatch(db);_0x33ce5c[_0x5ecd88(0xb14)](_0x572ab9,{'students':_0x4ef08a}),_0x33ce5c['delete'](_0x5e17f0),await _0x33ce5c[_0x5ecd88(0xaa0)]();}catch(_0xccb8ea){console['error']('Error\x20deleting\x20student:',_0xccb8ea),showMessage(_0x5ecd88(0xa92));}});}function handleDeleteAllStudents(){const _0x31d9f9=_0x354eeb;showConfirmation(_0x31d9f9(0x582),async()=>{const _0x580a41=_0x31d9f9;if(!currentProjectId)return;try{const _0x2636cc=doc(db,_0x580a41(0x53f)+appId+_0x580a41(0x32d),currentProjectId),_0x2881ec=collection(db,'artifacts/'+appId+_0x580a41(0x377)+currentProjectId+_0x580a41(0x2c7)),_0x5544fb=await getDocs(_0x2881ec),_0x2e4933=writeBatch(db);_0x2e4933[_0x580a41(0xb14)](_0x2636cc,{'students':[]}),_0x5544fb[_0x580a41(0x37d)](_0x48720a=>_0x2e4933[_0x580a41(0xd2c)](_0x48720a[_0x580a41(0x422)])),await _0x2e4933[_0x580a41(0xaa0)]();}catch(_0x26f1a6){console[_0x580a41(0x894)]('Error\x20deleting\x20all\x20students:',_0x26f1a6),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4e0db2){const _0x49fc77=_0x354eeb,_0x39f6c0=document[_0x49fc77(0x64e)](_0x49fc77(0x741)),_0x344cf8=document[_0x49fc77(0x64e)]('file-topics-list');_0x39f6c0[_0x49fc77(0x565)][_0x49fc77(0xc9d)]('hidden'),_0x344cf8[_0x49fc77(0xc5e)]=_0x49fc77(0xca4);try{const _0x34ec4a=new FileReader();_0x34ec4a['readAsDataURL'](_0x4e0db2),await new Promise((_0x44a237,_0x390e10)=>{const _0x56d1e4=_0x49fc77;_0x34ec4a['onload']=()=>{const _0x140f7e=_0x421e;fileDataBase64=_0x34ec4a[_0x140f7e(0xb82)]['split'](',')[0x1],fileMimeType=_0x4e0db2[_0x140f7e(0xc3f)],_0x44a237();},_0x34ec4a[_0x56d1e4(0x215)]=_0x5348bc=>_0x390e10(_0x5348bc);});if(!fileDataBase64)throw new Error(_0x49fc77(0x4ea));const _0x415032='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1a7f97={'type':_0x49fc77(0x627),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x49fc77(0x921)}}},'required':[_0x49fc77(0x6ae)]},_0x4784fc=[{'text':_0x415032},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x32cf3f=await handleApiCall(_0x4784fc,_0x49fc77(0xa15),_0x1a7f97,null,![]);if(_0x32cf3f&&_0x32cf3f['topics'])extractedFileTopics=_0x32cf3f['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x173bb3){console[_0x49fc77(0x894)](_0x49fc77(0x25e),_0x173bb3),_0x344cf8[_0x49fc77(0xc5e)]=_0x49fc77(0x616)+_0x173bb3[_0x49fc77(0x5b6)]+'</p>';}}function renderFileTopics(){const _0x1c962c=_0x354eeb,_0x2acc6e=document['getElementById'](_0x1c962c(0x9e2));if(extractedFileTopics['length']===0x0){_0x2acc6e[_0x1c962c(0xc5e)]=_0x1c962c(0x965);return;}_0x2acc6e[_0x1c962c(0xc5e)]=extractedFileTopics[_0x1c962c(0x1fa)](_0x2fdc9e=>_0x1c962c(0xaad)+_0x2fdc9e+_0x1c962c(0x587)+escape(_0x2fdc9e)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x2fdc9e)+_0x1c962c(0x673))[_0x1c962c(0x5fa)]('');}async function generateHybridQuizForTopic(_0x4ce761){const _0x5a11b1=_0x354eeb,_0x4eeeae=parseInt(document['getElementById'](_0x5a11b1(0x7e3))[_0x5a11b1(0x998)],0xa),_0x2a3f66=document[_0x5a11b1(0x64e)](_0x5a11b1(0x9cc))[_0x5a11b1(0x998)],_0x5f41e8=document['getElementById']('num-choices')[_0x5a11b1(0x998)],_0x2ccc8e=document[_0x5a11b1(0x64e)]('include-images-checkbox')['checked'],_0x22e668=_0x2ccc8e?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x5a11b1(0x95c);let _0x3718ac='',_0x29e9bc;const _0x414d8c={'type':_0x5a11b1(0x627),'properties':{'questionText':{'type':_0x5a11b1(0x921)},'options':{'type':_0x5a11b1(0x4aa),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5a11b1(0xc0c)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5a11b1(0x9f4),_0x5a11b1(0x3e0),'correctAnswerIndex',_0x5a11b1(0x99c)]},_0x1f412c={'type':_0x5a11b1(0x627),'properties':{'questionText':{'type':_0x5a11b1(0x921)},'correctAnswer':{'type':_0x5a11b1(0x52b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5a11b1(0x921)}},'required':['questionText',_0x5a11b1(0x7e0),_0x5a11b1(0x99c)]},_0x1bc792={'type':'OBJECT','properties':{'questionText':{'type':_0x5a11b1(0x921)},'idealAnswer':{'type':_0x5a11b1(0x921)},'explanation':{'type':_0x5a11b1(0x921)},'imageCode':{'type':_0x5a11b1(0x921)}},'required':[_0x5a11b1(0x9f4),_0x5a11b1(0xddb),_0x5a11b1(0x99c)]},_0x2156d1={'type':_0x5a11b1(0x627),'properties':{'questionType':{'type':_0x5a11b1(0x921),'enum':[_0x5a11b1(0xc67)]},'stem':{'type':_0x5a11b1(0x921)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x5a11b1(0x921)}},'explanation':{'type':_0x5a11b1(0x921)},'imageCode':{'type':_0x5a11b1(0x921)}},'required':[_0x5a11b1(0x4fd),_0x5a11b1(0xc59),_0x5a11b1(0x73a),_0x5a11b1(0x589),'explanation']};switch(_0x2a3f66){case _0x5a11b1(0xda2):_0x3718ac=_0x5a11b1(0x2b1)+_0x5f41e8+_0x5a11b1(0x57f),_0x29e9bc=_0x414d8c;break;case _0x5a11b1(0x82f):_0x3718ac='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x29e9bc=_0x1f412c;break;case _0x5a11b1(0xd8f):_0x3718ac='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x29e9bc=_0x1bc792;break;case _0x5a11b1(0x8af):_0x3718ac=_0x5a11b1(0x77c),_0x29e9bc=_0x2156d1;break;case _0x5a11b1(0xa83):_0x3718ac=_0x5a11b1(0x79b)+_0x5f41e8+_0x5a11b1(0x57f),_0x29e9bc=_0x414d8c;break;default:_0x3718ac=_0x5a11b1(0x2b1)+_0x5f41e8+_0x5a11b1(0x57f),_0x29e9bc=_0x414d8c;break;}const _0x24d62a=_0x5a11b1(0x927),_0x86f685=document[_0x5a11b1(0x64e)]('loader'),_0x46555b=document[_0x5a11b1(0x64e)]('loader-text'),_0x3eb8ab=document[_0x5a11b1(0x64e)](_0x5a11b1(0xd31));document[_0x5a11b1(0x64e)](_0x5a11b1(0x855))[_0x5a11b1(0x565)][_0x5a11b1(0xc9d)](_0x5a11b1(0x76a)),_0x3eb8ab[_0x5a11b1(0xc5e)]='',_0x86f685[_0x5a11b1(0x565)][_0x5a11b1(0xc9d)](_0x5a11b1(0x76a)),_0x46555b['textContent']='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x4ce761+'\x22\x20จำนวน\x20'+_0x4eeeae+_0x5a11b1(0x465);try{const _0x6451a7='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x4ce900=_0x5a11b1(0x8fa)+_0x4ce761+_0x5a11b1(0xaf9)+_0x4eeeae+_0x5a11b1(0x536)+_0x4ce761+_0x5a11b1(0x585)+_0x4eeeae+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x22e668+_0x5a11b1(0x4db)+_0x3718ac+_0x5a11b1(0x452)+_0x24d62a+_0x5a11b1(0x684)+_0x6451a7+_0x5a11b1(0x9a5)+simpleMathPrompt+_0x5a11b1(0xd42),_0x3d71b7={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5a11b1(0x4aa),'items':_0x29e9bc}},'required':[_0x5a11b1(0xdb7),'questions']},_0x1c739a=[{'text':_0x4ce900},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x1c739a,_0x5a11b1(0x786)+_0x4ce761+_0x5a11b1(0x436),_0x3d71b7);}catch(_0x20fcf4){console[_0x5a11b1(0x894)](_0x5a11b1(0x54b),_0x20fcf4),showMessage(_0x5a11b1(0x330)+_0x20fcf4[_0x5a11b1(0x5b6)]),_0x3eb8ab['innerHTML']=_0x5a11b1(0xde8);}finally{_0x86f685[_0x5a11b1(0x565)]['add'](_0x5a11b1(0x76a));}}async function handleGenerateFromFileClick(){const _0x1ff20d=_0x354eeb;if(!selectedFile){showMessage(_0x1ff20d(0x603));return;}const _0xd8c760=document[_0x1ff20d(0x64e)](_0x1ff20d(0x7b6)),_0x2cf1b0=document[_0x1ff20d(0x64e)]('loader-text'),_0x5c592d=document[_0x1ff20d(0x64e)](_0x1ff20d(0xd31)),_0x80f956=document[_0x1ff20d(0x64e)](_0x1ff20d(0x702));_0x80f956[_0x1ff20d(0x87b)]=!![],document['getElementById'](_0x1ff20d(0x855))['classList']['remove']('hidden'),_0x5c592d[_0x1ff20d(0xc5e)]='',_0xd8c760[_0x1ff20d(0x565)][_0x1ff20d(0xc9d)](_0x1ff20d(0x76a)),_0x2cf1b0[_0x1ff20d(0xd72)]=_0x1ff20d(0x1e3);try{const _0x53d67e=await new Promise((_0x52d612,_0x4f1928)=>{const _0x12cc2f=_0x1ff20d,_0x1aed48=new FileReader();_0x1aed48[_0x12cc2f(0x8b0)](selectedFile),_0x1aed48[_0x12cc2f(0x503)]=()=>_0x52d612(_0x1aed48[_0x12cc2f(0xb82)]['split'](',')[0x1]),_0x1aed48[_0x12cc2f(0x215)]=_0x4eb8d1=>_0x4f1928(_0x4eb8d1);});await generateQuizFromFile(selectedFile[_0x1ff20d(0xc3f)],_0x53d67e);}catch(_0x4e3581){console['error']('Error\x20processing\x20file\x20for\x20AI:',_0x4e3581),showMessage(_0x1ff20d(0x973)+_0x4e3581[_0x1ff20d(0x5b6)]),_0xd8c760[_0x1ff20d(0x565)]['add']('hidden'),_0x80f956[_0x1ff20d(0x87b)]=![];}}function autoFormatMath(_0x3a3a56){const _0x5b2c45=_0x354eeb;if(typeof _0x3a3a56!==_0x5b2c45(0xd00)||!_0x3a3a56)return _0x3a3a56;const _0x5dbb36=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4de767=_0x3a3a56['replace'](_0x5dbb36,_0x1b72d8=>{const _0x3df746=_0x5b2c45;return'$'+_0x1b72d8[_0x3df746(0xdd7)]()+'$';});return _0x4de767;}function sanitizeQuizData(_0x3cce92){const _0x3472c7=_0x354eeb;if(!_0x3cce92||!_0x3cce92[_0x3472c7(0xc42)])return _0x3cce92;const _0x858b69={'imes':_0x3472c7(0xd7d),'div':'\x5cdiv'},_0x491dba=_0x40b3bc=>{const _0x6e42dd=_0x3472c7;if(typeof _0x40b3bc!==_0x6e42dd(0xd00))return _0x40b3bc;let _0x2f431f=_0x40b3bc;for(const [_0x40aae9,_0x3b044]of Object[_0x6e42dd(0x8e0)](_0x858b69)){const _0x292fd5=new RegExp('\x5cb'+_0x40aae9+'\x5cb','g');_0x2f431f=_0x2f431f[_0x6e42dd(0x683)](_0x292fd5,_0x3b044);}return _0x2f431f=_0x2f431f[_0x6e42dd(0x683)](/\\\//g,_0x6e42dd(0x850)),_0x2f431f=_0x2f431f[_0x6e42dd(0x683)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x6e42dd(0x850))[_0x6e42dd(0x683)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x6e42dd(0xd7d))[_0x6e42dd(0x683)](/÷/g,_0x6e42dd(0x850))[_0x6e42dd(0x683)](/×/g,'\x5ctimes'),_0x2f431f=_0x2f431f[_0x6e42dd(0x683)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x2f431f=autoFormatMath(_0x2f431f),_0x2f431f;};return _0x3cce92[_0x3472c7(0xdb7)]&&(_0x3cce92[_0x3472c7(0xdb7)]=_0x491dba(_0x3cce92[_0x3472c7(0xdb7)])),_0x3cce92[_0x3472c7(0xc42)][_0x3472c7(0x37d)](_0x1c4d46=>{const _0x91da58=_0x3472c7;_0x1c4d46[_0x91da58(0x9f4)]=_0x491dba(_0x1c4d46[_0x91da58(0x9f4)]),_0x1c4d46[_0x91da58(0x3e0)]&&(_0x1c4d46[_0x91da58(0x3e0)]=_0x1c4d46[_0x91da58(0x3e0)][_0x91da58(0x1fa)](_0x491dba)),_0x1c4d46[_0x91da58(0x99c)]&&(_0x1c4d46[_0x91da58(0x99c)]=_0x491dba(_0x1c4d46[_0x91da58(0x99c)])),_0x1c4d46['stem']&&(_0x1c4d46['stem']=_0x491dba(_0x1c4d46[_0x91da58(0xc59)])),_0x1c4d46[_0x91da58(0x73a)]&&(_0x1c4d46[_0x91da58(0x73a)]=_0x491dba(_0x1c4d46[_0x91da58(0x73a)])),_0x1c4d46[_0x91da58(0x589)]&&(_0x1c4d46['allResponses']=_0x1c4d46[_0x91da58(0x589)][_0x91da58(0x1fa)](_0x491dba));}),_0x3cce92;}const simpleMathPrompt=_0x354eeb(0xbbe);async function handleGenerateFromLink(){const _0xd3f132=_0x354eeb,_0x1b3f93=document[_0xd3f132(0x64e)](_0xd3f132(0x336)),_0x542f80=document['getElementById']('link-topic-input'),_0x1cd575=_0x1b3f93[_0xd3f132(0x998)][_0xd3f132(0xdd7)](),_0x4f1d29=_0x542f80[_0xd3f132(0x998)][_0xd3f132(0xdd7)]();if(!_0x1cd575){showMessage(_0xd3f132(0xda7));return;}const _0x3a9b74=document[_0xd3f132(0x64e)](_0xd3f132(0x7b6)),_0x1d3a66=document[_0xd3f132(0x64e)](_0xd3f132(0x5cb)),_0x544302=document[_0xd3f132(0x64e)](_0xd3f132(0xd31)),_0x148d67=document[_0xd3f132(0x64e)](_0xd3f132(0x649));document['getElementById'](_0xd3f132(0x855))[_0xd3f132(0x565)][_0xd3f132(0xc9d)](_0xd3f132(0x76a)),_0x544302[_0xd3f132(0xc5e)]='',_0x3a9b74[_0xd3f132(0x565)]['remove'](_0xd3f132(0x76a)),_0x1d3a66[_0xd3f132(0xd72)]=_0xd3f132(0x3c6),_0x148d67['disabled']=!![];try{const _0x2cbb0d=_0xd3f132(0x7ab)+encodeURIComponent(_0x1cd575),_0x246669=await fetch(_0x2cbb0d);if(!_0x246669['ok'])throw new Error(_0xd3f132(0xdc5)+_0x246669[_0xd3f132(0xa85)]+')');const _0x5d3a8a=await _0x246669[_0xd3f132(0x4c3)](),_0x4d8e8f=extractTextFromHtml(_0x5d3a8a);if(!_0x4d8e8f||_0x4d8e8f['length']<0x64)throw new Error(_0xd3f132(0x346));await generateQuiz(_0x4f1d29,_0x4d8e8f);}catch(_0x46b306){console[_0xd3f132(0x894)](_0xd3f132(0x30f),_0x46b306),showMessage(_0xd3f132(0x330)+_0x46b306[_0xd3f132(0x5b6)]),_0x544302[_0xd3f132(0xc5e)]=_0xd3f132(0x3a7);}finally{_0x3a9b74[_0xd3f132(0x565)][_0xd3f132(0x21a)](_0xd3f132(0x76a)),_0x148d67[_0xd3f132(0x87b)]=![];}}function extractTextFromHtml(_0x597ee2){const _0x3b2647=_0x354eeb,_0x5332b6=new DOMParser()[_0x3b2647(0xcfd)](_0x597ee2,_0x3b2647(0xd63));return _0x5332b6[_0x3b2647(0x72d)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x3b2647(0x37d)](_0x40f8f2=>_0x40f8f2['remove']()),_0x5332b6['body'][_0x3b2647(0xd72)]||'';}document[_0x354eeb(0x64e)]('generate-from-topic-btn')[_0x354eeb(0xa02)]('click',()=>{const _0x172174=_0x354eeb,_0x59ca60=document[_0x172174(0x64e)](_0x172174(0x395))[_0x172174(0x998)]['trim']();generateQuiz(_0x59ca60,null);}),document[_0x354eeb(0x64e)](_0x354eeb(0x27c))[_0x354eeb(0xa02)](_0x354eeb(0x4f9),()=>{const _0x3d52d0=_0x354eeb,_0x3a2b18=document[_0x3d52d0(0x64e)](_0x3d52d0(0x7a1))[_0x3d52d0(0x998)][_0x3d52d0(0xdd7)]();if(!_0x3a2b18){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x4fa66a=document['getElementById'](_0x3d52d0(0x395))['value'][_0x3d52d0(0xdd7)]();generateQuiz(_0x4fa66a,_0x3a2b18);});async function generateQuiz(_0x44d1e8,_0x54bf3b,_0x1df16f=null,_0x11cdb2=null,_0x369dbd=![],_0x3886b8=null,_0x16f366=null,_0x5d9a93=![]){const _0x3b9292=_0x354eeb;let _0x353b3c={};if(_0x369dbd&&blueprintPageSettings)_0x353b3c=blueprintPageSettings;else{const _0x3e7ede=document[_0x3b9292(0x72d)](_0x3b9292(0xcae));_0x353b3c={'quizType':document[_0x3b9292(0x64e)]('quiz-type-select')[_0x3b9292(0x998)],'numQuestions':document[_0x3b9292(0x64e)](_0x3b9292(0x7e3))[_0x3b9292(0x998)],'numChoices':document[_0x3b9292(0x64e)](_0x3b9292(0xd30))[_0x3b9292(0x998)],'includeImages':document[_0x3b9292(0x64e)](_0x3b9292(0x548))[_0x3b9292(0x5f7)],'isNormalTopic':document[_0x3b9292(0x64e)]('force-math-checkbox')[_0x3b9292(0x5f7)],'difficultyValue':document['getElementById']('difficulty-level-select')[_0x3b9292(0x998)],'complexityValue':document[_0x3b9292(0x64e)](_0x3b9292(0xc78))['value'],'selectedTopicNames':Array[_0x3b9292(0x941)](_0x3e7ede)['map'](_0x3c1b04=>_0x3c1b04[_0x3b9292(0x998)])};}const _0x3780ad=_0x353b3c[_0x3b9292(0xbfd)]?'':_0x3b9292(0x4da),_0x3fa667=_0x353b3c['difficultyValue']!=='auto'?_0x3b9292(0xd9f)+_0x353b3c[_0x3b9292(0x676)]+'\x22':'',_0x425974=_0x353b3c[_0x3b9292(0xddd)]!==_0x3b9292(0x4f4)?_0x3b9292(0x258)+_0x353b3c[_0x3b9292(0xddd)]+_0x3b9292(0xbb0):'';let _0x1b810d='';_0x353b3c[_0x3b9292(0xae1)]&&_0x353b3c[_0x3b9292(0xae1)][_0x3b9292(0x2ee)]>0x0&&(_0x1b810d=_0x3b9292(0x9d6)+_0x353b3c[_0x3b9292(0xae1)][_0x3b9292(0x5fa)](',\x20')+'.');let _0x5493a8='';_0x11cdb2&&(_0x5493a8=_0x3b9292(0x34c));let _0x89b8b8='',_0x353253='',_0x515666,_0x4ec492=_0x3b9292(0x613)+_0x44d1e8+'\x22';if(!_0x44d1e8&&_0x54bf3b)_0x4ec492=_0x3b9292(0x403);else!_0x44d1e8&&!_0x54bf3b&&(_0x4ec492=_0x3b9292(0xd59));const _0x1415da={'type':_0x3b9292(0x627),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3b9292(0x4aa),'items':{'type':_0x3b9292(0x921)}},'correctAnswerIndex':{'type':_0x3b9292(0xc0c)},'explanation':{'type':_0x3b9292(0x921)},'imageCode':{'type':_0x3b9292(0x921)}},'required':['questionText',_0x3b9292(0x3e0),'correctAnswerIndex',_0x3b9292(0x99c)]},_0x2fb209={'type':'OBJECT','properties':{'questionText':{'type':_0x3b9292(0x921)},'idealAnswer':{'type':_0x3b9292(0x921)},'explanation':{'type':_0x3b9292(0x921)},'imageCode':{'type':'STRING'}},'required':[_0x3b9292(0x9f4),'idealAnswer','explanation']},_0x35807c={'type':'OBJECT','properties':{'questionText':{'type':_0x3b9292(0x921)},'questionType':{'type':_0x3b9292(0x921),'enum':[_0x3b9292(0xda2),_0x3b9292(0x6bd)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3b9292(0xc0c)},'idealAnswer':{'type':_0x3b9292(0x921)},'explanation':{'type':_0x3b9292(0x921)},'imageCode':{'type':_0x3b9292(0x921)}},'required':[_0x3b9292(0x9f4),_0x3b9292(0x4fd),'explanation']},_0x4f0835={'type':_0x3b9292(0x627),'properties':{'questionText':{'type':_0x3b9292(0x921)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x3b9292(0x921)},'imageCode':{'type':_0x3b9292(0x921)}},'required':[_0x3b9292(0x9f4),_0x3b9292(0x7e0),_0x3b9292(0x99c)]},_0x54aafb={'type':_0x3b9292(0x627),'properties':{'questionType':{'type':_0x3b9292(0x921),'enum':[_0x3b9292(0xc67)]},'stem':{'type':_0x3b9292(0x921)},'correctResponse':{'type':_0x3b9292(0x921)},'allResponses':{'type':'ARRAY','items':{'type':_0x3b9292(0x921)}},'explanation':{'type':_0x3b9292(0x921)},'imageCode':{'type':'STRING'}},'required':[_0x3b9292(0x4fd),_0x3b9292(0xc59),_0x3b9292(0x73a),_0x3b9292(0x589),_0x3b9292(0x99c)]};let _0x4bb6f1;if(_0x1df16f!==null){const _0x4ed833=currentQuizData[_0x3b9292(0xc42)][_0x1df16f]['questionType'],_0x179b5b=_0x353b3c[_0x3b9292(0x31f)]?_0x3b9292(0xc9e):'';_0x89b8b8=_0x3b9292(0x86a)+_0x4ec492+'\x20'+_0x1b810d+'\x20'+_0x3fa667+_0x3b9292(0x275)+_0x179b5b+'\x20'+simpleMathPrompt;if(_0x4ed833==='multiple_choice')_0x515666=_0x1415da;else{if(_0x4ed833===_0x3b9292(0xc67))_0x515666={'type':'OBJECT','properties':{'questionType':{'type':_0x3b9292(0x921),'enum':[_0x3b9292(0xc67)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3b9292(0x921)},'explanation':{'type':_0x3b9292(0x921)},'imageCode':{'type':_0x3b9292(0x921)}},'required':[_0x3b9292(0x4fd),'stem',_0x3b9292(0x73a),_0x3b9292(0x99c)]};else _0x515666=_0x2fb209;}_0x4bb6f1=_0x515666;}else{const _0xa82050=_0x353b3c[_0x3b9292(0x31f)]?_0x3b9292(0x212):'';switch(_0x353b3c[_0x3b9292(0x6a2)]){case _0x3b9292(0xda2):_0x89b8b8=_0x3b9292(0x63b)+_0x3780ad+'\x20'+_0x353b3c[_0x3b9292(0x97d)]+_0x3b9292(0x821)+_0x4ec492+'\x20'+_0x1b810d+'\x20'+_0x3fa667+'\x20'+_0x425974+'\x20'+_0x5493a8+'.\x20แต่ละข้อมี\x20'+_0x353b3c[_0x3b9292(0xda1)]+_0x3b9292(0x8b2)+_0xa82050+'\x20'+simpleMathPrompt,_0x515666=_0x1415da;break;case _0x3b9292(0xa83):_0x89b8b8='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3780ad+'\x20'+_0x353b3c[_0x3b9292(0x97d)]+'\x20ข้อ\x20'+_0x4ec492+'\x20'+_0x1b810d+'\x20'+_0x3fa667+'\x20'+_0x425974+'\x20'+_0x5493a8+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x353b3c[_0x3b9292(0xda1)]+_0x3b9292(0x289)+_0xa82050+'\x20'+simpleMathPrompt,_0x515666=_0x1415da;break;case _0x3b9292(0xd8f):_0x89b8b8=_0x3b9292(0x60a)+_0x3780ad+'\x20'+_0x353b3c['numQuestions']+_0x3b9292(0x821)+_0x4ec492+'\x20'+_0x1b810d+'\x20'+_0x3fa667+'\x20'+_0x425974+'\x20'+_0x5493a8+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0xa82050+'\x20'+simpleMathPrompt,_0x515666=_0x2fb209;break;case'mixed':_0x89b8b8=_0x3b9292(0x23b)+_0x3780ad+'\x20'+_0x353b3c[_0x3b9292(0x97d)]+'\x20ข้อ\x20'+_0x4ec492+'\x20'+_0x1b810d+'\x20'+_0x3fa667+'\x20'+_0x425974+'\x20'+_0x5493a8+_0x3b9292(0xb7e)+_0x353b3c['numChoices']+_0x3b9292(0x81d)+_0xa82050+'\x20'+simpleMathPrompt+'.',_0x515666=_0x35807c;break;case _0x3b9292(0x82f):_0x89b8b8=_0x3b9292(0xbf2)+_0x3780ad+'\x20'+_0x353b3c[_0x3b9292(0x97d)]+_0x3b9292(0x821)+_0x4ec492+'\x20'+_0x1b810d+'\x20'+_0x3fa667+'\x20'+_0x425974+'\x20'+_0x5493a8+_0x3b9292(0x5d3)+_0xa82050+'\x20'+simpleMathPrompt,_0x515666=_0x4f0835;break;case _0x3b9292(0x8af):_0x89b8b8=_0x3b9292(0xdea)+_0x3780ad+'\x20'+_0x353b3c[_0x3b9292(0x97d)]+_0x3b9292(0xb60)+_0x4ec492+'\x20'+_0x1b810d+'\x20'+_0x3fa667+'\x20'+_0x425974+'\x20'+_0x5493a8+_0x3b9292(0xbc6)+_0xa82050+'\x20'+simpleMathPrompt,_0x515666=_0x54aafb;break;}_0x4bb6f1={'type':_0x3b9292(0x627),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3b9292(0x4aa),'items':_0x515666}},'required':[_0x3b9292(0xdb7),_0x3b9292(0xc42)]};}const _0x2a94fe=_0x3b9292(0x7c1);_0x54bf3b?(_0x5d9a93?_0x89b8b8=_0x3b9292(0xd17)+_0x54bf3b+'\x22,\x20'+_0x89b8b8+_0x2a94fe:_0x89b8b8=_0x3b9292(0xd17)+_0x54bf3b+_0x3b9292(0x9e9)+_0x89b8b8,_0x353253='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x5d9a93&&(_0x89b8b8+=_0x2a94fe),_0x353253='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x26219f;return _0x11cdb2?(_0x26219f=[{'text':_0x89b8b8},..._0x11cdb2],_0x353253=_0x3b9292(0xcf2)):_0x26219f=_0x89b8b8,handleApiCall(_0x26219f,_0x353253,_0x4bb6f1,_0x1df16f,!![],_0x3886b8,_0x16f366);}async function generateQuizFromFile(_0x2231f7,_0x1c8fbe){const _0x2afc08=_0x354eeb,_0xd8fa05=document[_0x2afc08(0x64e)]('file-topic-input')['value'][_0x2afc08(0xdd7)](),_0x2a010e=document['getElementById'](_0x2afc08(0x9cc))[_0x2afc08(0x998)],_0x20fee8=document[_0x2afc08(0x64e)](_0x2afc08(0x7e3))[_0x2afc08(0x998)],_0x4cb821=document[_0x2afc08(0x64e)](_0x2afc08(0xd30))['value'],_0x4d01c9=document[_0x2afc08(0x64e)](_0x2afc08(0x548))[_0x2afc08(0x5f7)],_0x25b76f=document['getElementById'](_0x2afc08(0xd50))['checked'],_0x21ea1f=_0x25b76f?'':_0x2afc08(0x4da),_0x781bd5=document[_0x2afc08(0x64e)](_0x2afc08(0x288))[_0x2afc08(0x5f7)];let _0x5d20df='',_0x4bad70;const _0xee0d65=_0x4d01c9?_0x2afc08(0x212):'';if(_0x781bd5)_0x5d20df='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0xee0d65+'\x0a'+simpleMathPrompt+'\x0a',_0x4bad70={'type':_0x2afc08(0x627),'properties':{'questionText':{'type':_0x2afc08(0x921)},'questionType':{'type':_0x2afc08(0x921),'enum':[_0x2afc08(0xda2),_0x2afc08(0x6bd),_0x2afc08(0x82f),_0x2afc08(0xc67)]},'options':{'type':_0x2afc08(0x4aa),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x2afc08(0x921)},'correctResponse':{'type':_0x2afc08(0x921)},'allResponses':{'type':_0x2afc08(0x4aa),'items':{'type':_0x2afc08(0x921)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2afc08(0x921)}},'required':[_0x2afc08(0x4fd),'explanation']};else{let _0x4b1bd8=_0x2afc08(0x613)+_0xd8fa05+'\x22';!_0xd8fa05&&(_0x4b1bd8='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x2a010e){case _0x2afc08(0xda2):_0x5d20df=_0x2afc08(0x63b)+_0x21ea1f+'\x20'+_0x20fee8+_0x2afc08(0x821)+_0x4b1bd8+_0x2afc08(0xa55)+_0x4cb821+_0x2afc08(0x8b2)+_0xee0d65+'\x20'+simpleMathPrompt,_0x4bad70={'type':_0x2afc08(0x627),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2afc08(0x4aa),'items':{'type':_0x2afc08(0x921)}},'correctAnswerIndex':{'type':_0x2afc08(0xc0c)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2afc08(0x921)}},'required':['questionText','options',_0x2afc08(0x5a0),_0x2afc08(0x99c)]};break;case _0x2afc08(0xa83):_0x5d20df=_0x2afc08(0x60a)+_0x21ea1f+'\x20'+_0x20fee8+_0x2afc08(0x821)+_0x4b1bd8+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x4cb821+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0xee0d65+'\x20'+simpleMathPrompt,_0x4bad70={'type':_0x2afc08(0x627),'properties':{'questionText':{'type':_0x2afc08(0x921)},'options':{'type':_0x2afc08(0x4aa),'items':{'type':_0x2afc08(0x921)}},'correctAnswerIndex':{'type':_0x2afc08(0xc0c)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2afc08(0x9f4),_0x2afc08(0x3e0),_0x2afc08(0x5a0),'explanation']};break;case _0x2afc08(0xd8f):_0x5d20df=_0x2afc08(0x60a)+_0x21ea1f+'\x20'+_0x20fee8+_0x2afc08(0x821)+_0x4b1bd8+_0x2afc08(0x3b5)+_0xee0d65+'\x20'+simpleMathPrompt,_0x4bad70={'type':_0x2afc08(0x627),'properties':{'questionText':{'type':_0x2afc08(0x921)},'idealAnswer':{'type':_0x2afc08(0x921)},'explanation':{'type':_0x2afc08(0x921)},'imageCode':{'type':'STRING'}},'required':[_0x2afc08(0x9f4),_0x2afc08(0xddb),_0x2afc08(0x99c)]};break;case _0x2afc08(0x4f4):_0x5d20df=_0x2afc08(0x23b)+_0x21ea1f+'\x20'+_0x20fee8+_0x2afc08(0x821)+_0x4b1bd8+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x4cb821+_0x2afc08(0x4ab)+_0xee0d65+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x4bad70={'type':_0x2afc08(0x627),'properties':{'questionText':{'type':_0x2afc08(0x921)},'questionType':{'type':_0x2afc08(0x921),'enum':[_0x2afc08(0xda2),_0x2afc08(0x6bd)]},'options':{'type':_0x2afc08(0x4aa),'items':{'type':_0x2afc08(0x921)}},'correctAnswerIndex':{'type':_0x2afc08(0xc0c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2afc08(0x921)},'imageCode':{'type':_0x2afc08(0x921)}},'required':[_0x2afc08(0x9f4),'questionType',_0x2afc08(0x99c)]};break;case'true_false':_0x5d20df='สร้างคำถามแบบใช่/ไม่ใช่'+_0x21ea1f+'\x20'+_0x20fee8+_0x2afc08(0x821)+_0x4b1bd8+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0xee0d65+'\x20'+simpleMathPrompt,_0x4bad70={'type':_0x2afc08(0x627),'properties':{'questionText':{'type':_0x2afc08(0x921)},'correctAnswer':{'type':_0x2afc08(0x52b)},'explanation':{'type':_0x2afc08(0x921)},'imageCode':{'type':_0x2afc08(0x921)}},'required':['questionText','correctAnswer',_0x2afc08(0x99c)]};break;case'matching':_0x5d20df=_0x2afc08(0xdea)+_0x21ea1f+'\x20'+_0x20fee8+'\x20คู่\x20'+_0x4b1bd8+_0x2afc08(0x7a7)+_0x20fee8+_0x2afc08(0x510)+_0xee0d65+'\x20'+simpleMathPrompt,_0x4bad70={'type':_0x2afc08(0x627),'properties':{'questionType':{'type':'STRING','enum':[_0x2afc08(0xc67)]},'stem':{'type':_0x2afc08(0x921)},'correctResponse':{'type':_0x2afc08(0x921)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x2afc08(0x921)},'imageCode':{'type':_0x2afc08(0x921)}},'required':[_0x2afc08(0x4fd),'stem','correctResponse','allResponses',_0x2afc08(0x99c)]};break;}}const _0x2fa08a={'type':'OBJECT','properties':{'topic':{'type':_0x2afc08(0x921)},'questions':{'type':_0x2afc08(0x4aa),'items':_0x4bad70}},'required':[_0x2afc08(0xdb7),_0x2afc08(0xc42)]},_0x2f6add='จากไฟล์ที่แนบมานี้,\x20'+_0x5d20df,_0x7c42e6={'contents':[{'parts':[{'text':_0x2f6add},{'inlineData':{'mimeType':_0x2231f7,'data':_0x1c8fbe}}]}],'generationConfig':{'responseMimeType':_0x2afc08(0x27b),'responseSchema':_0x2fa08a}};return handleApiCall(_0x7c42e6[_0x2afc08(0x4f6)][0x0][_0x2afc08(0x290)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x2fa08a);}async function handleApiCall(_0x198807,_0x10cb10,_0x1feed2,_0x3c2976=null,_0x33a91d=!![],_0x77671=null,_0x42b0b3=null){const _0x39b771=_0x354eeb,_0x2de341=document['getElementById']('quiz-generation-area'),_0x2f2c87=document[_0x39b771(0x64e)](_0x39b771(0x7b6)),_0xb2c867=document['getElementById'](_0x39b771(0x5cb)),_0x3398a6=document[_0x39b771(0x64e)](_0x39b771(0xd31));_0x2de341[_0x39b771(0x565)][_0x39b771(0xc9d)]('hidden');_0x3c2976===null&&_0x33a91d&&(_0x3398a6[_0x39b771(0xc5e)]='');_0x2f2c87['classList'][_0x39b771(0xc9d)](_0x39b771(0x76a)),_0xb2c867[_0x39b771(0xd72)]=_0x10cb10,document[_0x39b771(0x64e)](_0x39b771(0x63c))[_0x39b771(0x87b)]=!![],document[_0x39b771(0x64e)](_0x39b771(0x27c))['disabled']=!![],document[_0x39b771(0x64e)]('generate-from-link-btn')[_0x39b771(0x87b)]=!![];const _0x19d3c2=document[_0x39b771(0x64e)](_0x39b771(0x702));if(_0x19d3c2)_0x19d3c2[_0x39b771(0x87b)]=!![];const _0x3c8a5a=document[_0x39b771(0x64e)]('generate-from-blueprint-btn');if(_0x3c8a5a)_0x3c8a5a[_0x39b771(0x87b)]=!![];const _0x59e348=document[_0x39b771(0x64e)](_0x39b771(0xbc9));if(_0x59e348)_0x59e348[_0x39b771(0x87b)]=!![];try{const _0x5ee3a1=Array[_0x39b771(0x596)](_0x198807)?_0x198807:[{'text':_0x198807}],_0x1bbed6={'contents':[{'role':_0x39b771(0xb32),'parts':_0x5ee3a1}]};_0x1feed2&&(_0x1bbed6[_0x39b771(0xde9)]={'responseMimeType':_0x39b771(0x27b),'responseSchema':_0x1feed2});const _0x5c1c8d=_0x39b771(0x82e),_0x5a130b=_0x39b771(0x990)+_0x5c1c8d,_0x36d1d0=await fetch(_0x5a130b,{'method':_0x39b771(0xa20),'headers':{'Content-Type':_0x39b771(0x27b)},'body':JSON[_0x39b771(0xb38)](_0x1bbed6)});if(!_0x36d1d0['ok']){const _0x22f9dd=await _0x36d1d0[_0x39b771(0x4c3)]();console['error'](_0x39b771(0x77e),_0x22f9dd);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x36d1d0[_0x39b771(0xa85)]);}const _0x15bb0b=await _0x36d1d0['json']();if(!_0x15bb0b[_0x39b771(0x750)]||_0x15bb0b['candidates']['length']===0x0){let _0x5e47ab=_0x39b771(0x535);return _0x15bb0b[_0x39b771(0x5db)]?.[_0x39b771(0xbbd)]&&(_0x5e47ab='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x15bb0b[_0x39b771(0x5db)]['blockReason']+'.'),console[_0x39b771(0x894)](_0x5e47ab,JSON[_0x39b771(0xb38)](_0x15bb0b)),null;}const _0x3ad6ae=_0x15bb0b[_0x39b771(0x750)][0x0][_0x39b771(0x8e2)][_0x39b771(0x290)][0x0][_0x39b771(0x4c3)];if(_0x1feed2){let _0x140af9=_0x3ad6ae;if(_0x140af9['startsWith'](_0x39b771(0x789)))_0x140af9=_0x140af9[_0x39b771(0xdc8)](0x7,_0x140af9[_0x39b771(0x2ee)]-0x3)[_0x39b771(0xdd7)]();else _0x140af9[_0x39b771(0x99a)](_0x39b771(0x310))&&(_0x140af9=_0x140af9[_0x39b771(0xdc8)](0x3,_0x140af9[_0x39b771(0x2ee)]-0x3)[_0x39b771(0xdd7)]());let _0x13c7d4=JSON[_0x39b771(0x5ab)](_0x140af9);if(_0x33a91d){if(_0x3c2976!==null){}else currentQuizData=_0x13c7d4,displayGeneratedQuiz(currentQuizData,_0x77671,_0x42b0b3);}return _0x13c7d4;}else return _0x3ad6ae;}catch(_0x30e985){console['error']('Error\x20in\x20handleApiCall:',_0x30e985),showMessage(_0x39b771(0x26d)+_0x30e985['message']);_0x33a91d&&(_0x3398a6[_0x39b771(0xc5e)]=_0x39b771(0x764));throw _0x30e985;}finally{_0x2f2c87['classList']['add'](_0x39b771(0x76a)),document[_0x39b771(0x64e)](_0x39b771(0x63c))['disabled']=![],document[_0x39b771(0x64e)](_0x39b771(0x27c))['disabled']=![],document[_0x39b771(0x64e)](_0x39b771(0x649))['disabled']=![];if(_0x19d3c2)_0x19d3c2['disabled']=![];if(_0x3c8a5a)_0x3c8a5a[_0x39b771(0x87b)]=![];if(_0x59e348)_0x59e348[_0x39b771(0x87b)]=![];}}function exitFullscreen(){const _0x5f2a22=_0x354eeb;if(document[_0x5f2a22(0x9aa)])document['exitFullscreen']()[_0x5f2a22(0xa58)](_0x4baa32=>console[_0x5f2a22(0x894)](_0x4baa32));else{if(document[_0x5f2a22(0x40b)])document[_0x5f2a22(0x40b)]();else document['msExitFullscreen']&&document[_0x5f2a22(0x5de)]();}}function enterFullscreen(){const _0x2a8299=_0x354eeb,_0xc9fd17=document[_0x2a8299(0x38f)];if(_0xc9fd17[_0x2a8299(0x341)])_0xc9fd17[_0x2a8299(0x341)]()[_0x2a8299(0xa58)](_0x296ccd=>{const _0x3187f5=_0x2a8299;console[_0x3187f5(0x894)](_0x3187f5(0x6dd)+_0x296ccd[_0x3187f5(0x5b6)]+'\x20('+_0x296ccd[_0x3187f5(0x799)]+')');});else{if(_0xc9fd17[_0x2a8299(0x21d)])_0xc9fd17['webkitRequestFullscreen']();else _0xc9fd17['msRequestFullscreen']&&_0xc9fd17[_0x2a8299(0xc4b)]();}}function handleCheatingEvent(){const _0x49233b=_0x354eeb;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x49233b(0xcd8),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x49233b(0x93f)+maxCheatAttempts+_0x49233b(0xc71)),document[_0x49233b(0x64e)](_0x49233b(0x62a))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x49233b(0xac0)](_0x49233b(0xcd2),handleVisibilityChange),document[_0x49233b(0xac0)](_0x49233b(0x54e),handleFullscreenChange)):showMessage(_0x49233b(0x9ec)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0xa3f938=_0x354eeb;if(currentMode===_0xa3f938(0xbee)||!isQuizActive)return;if(document[_0xa3f938(0x7b9)]===_0xa3f938(0x76a))handleCheatingEvent();else document[_0xa3f938(0x7b9)]===_0xa3f938(0xbdc)&&(console[_0xa3f938(0x4b0)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x33797a=_0x354eeb;if(currentMode===_0x33797a(0xbee)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x15a2da,_0xb6fe35=null,_0x219434=null){const _0x53297b=_0x354eeb,_0x260ee0=document[_0x53297b(0x64e)](_0x53297b(0xd31));let _0x4bc7cf=_0x53297b(0x78f)+_0x15a2da[_0x53297b(0xdb7)]+_0x53297b(0x49f);_0x15a2da[_0x53297b(0xc42)][_0x53297b(0x37d)]((_0x5075bc,_0x332b60)=>{const _0x251d31=_0x53297b;!_0x5075bc['id']&&(_0x5075bc['id']='q_'+Date[_0x251d31(0x274)]()+'_'+_0x332b60);const _0x173435=_0x5075bc[_0x251d31(0x4fd)]||_0x15a2da[_0x251d31(0x6a2)];_0x4bc7cf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x332b60+_0x251d31(0x22e)+_0x332b60+_0x251d31(0xca6)+_0x332b60+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x173435){case _0x251d31(0xc67):_0x4bc7cf+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x332b60+'\x22>'+(_0x332b60+0x1)+'.\x20'+_0x5075bc[_0x251d31(0xc59)]+_0x251d31(0x20e);_0x5075bc[_0x251d31(0x9d9)]&&(_0x4bc7cf+=_0x251d31(0x46e)+_0x332b60+_0x251d31(0x409)+_0x5075bc[_0x251d31(0x9d9)]+_0x251d31(0x51a));_0x4bc7cf+=_0x251d31(0x32b)+_0x332b60+'\x22>'+_0x5075bc[_0x251d31(0x73a)]+_0x251d31(0x28a),_0x4bc7cf+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x332b60+'\x22>'+_0x5075bc[_0x251d31(0x99c)]+_0x251d31(0x28a);break;case _0x251d31(0x6bd):_0x4bc7cf+=_0x251d31(0x56c)+_0x332b60+'\x22>'+(_0x332b60+0x1)+'.\x20'+_0x5075bc['questionText']+_0x251d31(0x20e);_0x5075bc[_0x251d31(0x9d9)]&&(_0x4bc7cf+=_0x251d31(0x46e)+_0x332b60+_0x251d31(0x409)+_0x5075bc[_0x251d31(0x9d9)]+'</div>');_0x4bc7cf+=_0x251d31(0xced)+_0x332b60+'\x22>'+_0x5075bc[_0x251d31(0xddb)]+_0x251d31(0x28a),_0x4bc7cf+=_0x251d31(0x7f5)+_0x332b60+'\x22>'+_0x5075bc['explanation']+_0x251d31(0x28a);break;case _0x251d31(0x82f):_0x4bc7cf+=_0x251d31(0x56c)+_0x332b60+'\x22>'+(_0x332b60+0x1)+'.\x20'+_0x5075bc['questionText']+_0x251d31(0x20e);_0x5075bc[_0x251d31(0x9d9)]&&(_0x4bc7cf+='<div\x20id=\x22q-image-container-'+_0x332b60+_0x251d31(0x409)+_0x5075bc[_0x251d31(0x9d9)]+'</div>');_0x4bc7cf+=_0x251d31(0x86b)+(_0x5075bc[_0x251d31(0x7e0)]===!![]?'text-green-600\x20font-bold':'')+_0x251d31(0x981)+(_0x5075bc['correctAnswer']===![]?_0x251d31(0x76b):'')+_0x251d31(0xc84),_0x4bc7cf+=_0x251d31(0x7f5)+_0x332b60+'\x22>'+_0x5075bc[_0x251d31(0x99c)]+'</span></div>';break;case _0x251d31(0xd70):case _0x251d31(0xda2):default:_0x4bc7cf+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x332b60+'\x22>'+(_0x332b60+0x1)+'.\x20'+_0x5075bc[_0x251d31(0x9f4)]+'</p>';_0x5075bc['imageCode']&&(_0x4bc7cf+=_0x251d31(0x46e)+_0x332b60+_0x251d31(0x409)+_0x5075bc[_0x251d31(0x9d9)]+'</div>');_0x4bc7cf+=_0x251d31(0x4c7)+_0x332b60+_0x251d31(0x4f8)+(_0x5075bc['options']||[])['map']((_0x3ceebd,_0x1be635)=>_0x251d31(0x5f8)+(_0x1be635===_0x5075bc['correctAnswerIndex']?_0x251d31(0x76b):'')+'\x22>'+_0x3ceebd+_0x251d31(0xa17))[_0x251d31(0x5fa)]('')+_0x251d31(0x2db),_0x4bc7cf+=_0x251d31(0x7f5)+_0x332b60+'\x22>'+_0x5075bc['explanation']+'</span></div>';break;}_0x4bc7cf+=_0x251d31(0x51a);}),_0x4bc7cf+=_0x53297b(0x6d9),_0x260ee0[_0x53297b(0xc5e)]=_0x4bc7cf,document[_0x53297b(0x72d)](_0x53297b(0xa31))[_0x53297b(0x37d)](_0x26fb8a=>_0x26fb8a[_0x53297b(0xa02)](_0x53297b(0x4f9),handleEditQuestion)),document[_0x53297b(0x72d)](_0x53297b(0xb4a))[_0x53297b(0x37d)](_0x117814=>_0x117814[_0x53297b(0xa02)](_0x53297b(0x4f9),handleRegenerateQuestion)),document[_0x53297b(0x64e)](_0x53297b(0xbf4))['addEventListener']('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x53297b(0x7db))['addEventListener'](_0x53297b(0x4f9),handleVerifyAnswers);const _0x28848f=document[_0x53297b(0x64e)](_0x53297b(0xa08));if(_0x28848f){const _0x58abd3=_0xb6fe35||currentProjectId;_0x28848f['addEventListener'](_0x53297b(0x4f9),()=>saveQuiz(_0x58abd3,_0x219434));}if(window['MathJax'])window[_0x53297b(0x8cc)]['typesetPromise']([_0x260ee0]);}function handleRegenerateQuestion(_0x293a6e){const _0x4d9177=_0x354eeb,_0x30ef31=_0x293a6e[_0x4d9177(0x64f)][_0x4d9177(0x524)][_0x4d9177(0x4e5)],_0x5870a4=currentQuizData[_0x4d9177(0xdb7)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x30ef31)+0x1)+_0x4d9177(0xcd5)),generateQuiz(_0x5870a4,null,parseInt(_0x30ef31));}function getPointerPosition(_0x490025,_0x2d1ddf){const _0x2a6657=_0x354eeb,_0x3da9e1=_0x490025[_0x2a6657(0xb64)]();let _0x1be23c,_0x21666d;return _0x2d1ddf[_0x2a6657(0xd75)]&&_0x2d1ddf[_0x2a6657(0xd75)]['length']>0x0?(_0x1be23c=_0x2d1ddf[_0x2a6657(0xd75)][0x0][_0x2a6657(0x7af)],_0x21666d=_0x2d1ddf['touches'][0x0][_0x2a6657(0xbbf)]):(_0x1be23c=_0x2d1ddf[_0x2a6657(0x7af)],_0x21666d=_0x2d1ddf[_0x2a6657(0xbbf)]),{'x':(_0x1be23c-_0x3da9e1['e'])/_0x3da9e1['a'],'y':(_0x21666d-_0x3da9e1['f'])/_0x3da9e1['d']};}function startDrag(_0x481b48){const _0x547a7b=_0x354eeb;_0x481b48[_0x547a7b(0xc3f)]===_0x547a7b(0x99d)&&_0x481b48[_0x547a7b(0x304)]();const _0x9004e7=_0x481b48[_0x547a7b(0xa8f)][_0x547a7b(0x717)](_0x547a7b(0x58d));if(_0x9004e7){draggedSvgElement=_0x9004e7;const _0x9dfd3=draggedSvgElement['ownerSVGElement'],_0x36b99c=getPointerPosition(_0x9dfd3,_0x481b48);svgOffset['x']=_0x36b99c['x']-parseFloat(draggedSvgElement[_0x547a7b(0xc4f)](null,'x')),svgOffset['y']=_0x36b99c['y']-parseFloat(draggedSvgElement[_0x547a7b(0xc4f)](null,'y'));}}function calculateItemAnalysis(_0x1e65cc,_0x43967b){const _0x11bb8f=_0x354eeb,_0x5480ff={};if(_0x43967b[_0x11bb8f(0x2ee)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x19f6b8=[..._0x43967b][_0x11bb8f(0x705)]((_0x558fc8,_0x29bc5e)=>{const _0x2d39f4=_0x11bb8f,_0x37651d=_0x29bc5e[_0x2d39f4(0x638)]-_0x558fc8[_0x2d39f4(0x638)];if(_0x37651d!==0x0)return _0x37651d;const _0x3bf9c1=_0x558fc8[_0x2d39f4(0xc70)]?.['length']||0x1,_0x1a6248=_0x29bc5e[_0x2d39f4(0xc70)]?.[_0x2d39f4(0x2ee)]||0x1,_0x379705=_0x3bf9c1-_0x1a6248;if(_0x379705!==0x0)return _0x379705;const _0x42d46e=new Date(_0x558fc8[_0x2d39f4(0x382)]),_0x217d43=new Date(_0x29bc5e[_0x2d39f4(0x382)]),_0x57e305=_0x42d46e-_0x217d43;if(_0x57e305!==0x0)return _0x57e305;return _0x558fc8[_0x2d39f4(0xd48)]['localeCompare'](_0x29bc5e[_0x2d39f4(0xd48)],'th');}),_0xc58b11=_0x19f6b8[_0x11bb8f(0x2ee)],_0x171710=Math[_0x11bb8f(0x62c)](0x1,Math[_0x11bb8f(0x98d)](_0xc58b11*0.33));if(_0x171710===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4d07b0=_0x19f6b8[_0x11bb8f(0xca0)](0x0,_0x171710),_0x2659ae=_0x19f6b8[_0x11bb8f(0xca0)](-_0x171710),_0x479a18=_0x4d07b0['map'](_0x2ca971=>_0x2ca971['studentName']),_0x411497=_0x2659ae[_0x11bb8f(0x1fa)](_0x465561=>_0x465561['studentName']);return _0x1e65cc[_0x11bb8f(0xc42)][_0x11bb8f(0x37d)]((_0x181f5b,_0x3cf86f)=>{const _0x1b65b4=_0x11bb8f,_0x56ca43=_0x181f5b[_0x1b65b4(0xc59)]||_0x181f5b[_0x1b65b4(0x9f4)];let _0xeea4af=0x0,_0x39a0ae=0x0,_0xd5db3c=0x0;const _0x48aefb=[],_0x4f5636=[];_0x4d07b0[_0x1b65b4(0x37d)](_0x4d0ed3=>{const _0x37b6ce=_0x1b65b4,_0x4102fb=_0x4d0ed3[_0x37b6ce(0xc70)][_0x4d0ed3[_0x37b6ce(0xc70)]['length']-0x1],_0xf26397=_0x4102fb['answers']['find'](_0x450908=>_0x450908[_0x37b6ce(0x299)]===_0x56ca43);_0x48aefb[_0x37b6ce(0xa95)]({'name':_0x4d0ed3[_0x37b6ce(0xd48)],'isCorrect':_0xf26397?_0xf26397[_0x37b6ce(0x241)]:![]}),_0xf26397&&_0xf26397[_0x37b6ce(0x241)]&&_0x39a0ae++;}),_0x2659ae[_0x1b65b4(0x37d)](_0x525649=>{const _0x360e81=_0x1b65b4,_0x130bb7=_0x525649[_0x360e81(0xc70)][_0x525649[_0x360e81(0xc70)][_0x360e81(0x2ee)]-0x1],_0x2d7b25=_0x130bb7[_0x360e81(0x758)][_0x360e81(0x52f)](_0x2a1dab=>_0x2a1dab[_0x360e81(0x299)]===_0x56ca43);_0x4f5636[_0x360e81(0xa95)]({'name':_0x525649[_0x360e81(0xd48)],'isCorrect':_0x2d7b25?_0x2d7b25['isCorrect']:![]}),_0x2d7b25&&_0x2d7b25[_0x360e81(0x241)]&&_0xd5db3c++;}),_0x43967b[_0x1b65b4(0x37d)](_0x43d451=>{const _0x35dcbc=_0x1b65b4,_0x5bc315=_0x43d451['attempts'][_0x43d451['attempts']['length']-0x1],_0x495eae=_0x5bc315['answers'][_0x35dcbc(0x52f)](_0x4da7c=>_0x4da7c[_0x35dcbc(0x299)]===_0x56ca43);_0x495eae&&_0x495eae[_0x35dcbc(0x241)]&&_0xeea4af++;});const _0xd2e6e8=_0xc58b11>0x0?_0xeea4af/_0xc58b11:0x0,_0x4baa84=_0x171710>0x0?_0x39a0ae/_0x171710-_0xd5db3c/_0x171710:0x0;_0x5480ff[_0x3cf86f]={'p':_0xd2e6e8,'r':_0x4baa84,'upperGroupResponders':_0x48aefb,'lowerGroupResponders':_0x4f5636};}),{'perQuestionStats':_0x5480ff,'overallGroups':{'upperGroupNames':_0x479a18,'lowerGroupNames':_0x411497}};}function drag(_0x465b58){const _0x8dbba7=_0x354eeb;if(draggedSvgElement){_0x465b58[_0x8dbba7(0x304)]();const _0xc14fa8=draggedSvgElement['ownerSVGElement'],_0x1baa6d=getPointerPosition(_0xc14fa8,_0x465b58),_0x16fe63=_0xc14fa8[_0x8dbba7(0xb92)][_0x8dbba7(0x7dd)];let _0x454009=_0x1baa6d['x']-svgOffset['x'],_0x24e675=_0x1baa6d['y']-svgOffset['y'];const _0x5cce97=draggedSvgElement[_0x8dbba7(0x359)]();_0x454009=Math[_0x8dbba7(0x62c)](_0x16fe63['x'],Math[_0x8dbba7(0xb0a)](_0x454009,_0x16fe63['x']+_0x16fe63[_0x8dbba7(0x2b2)]-_0x5cce97[_0x8dbba7(0x2b2)])),_0x24e675=Math['max'](_0x16fe63['y'],Math[_0x8dbba7(0xb0a)](_0x24e675,_0x16fe63['y']+_0x16fe63[_0x8dbba7(0x9f0)]-_0x5cce97['height'])),draggedSvgElement['setAttributeNS'](null,'x',_0x454009),draggedSvgElement[_0x8dbba7(0x4d0)](null,'y',_0x24e675);}}function endDrag(_0x27c8e6){draggedSvgElement=null;}function handleSvgEditClick(_0x358eca){const _0x181acf=_0x354eeb;if(_0x358eca['target']['classList'][_0x181acf(0xa60)]('delete-svg-btn')){const _0x2e6836=_0x358eca[_0x181acf(0xa8f)][_0x181acf(0x524)][_0x181acf(0x991)],_0x123cd1=_0x358eca[_0x181acf(0x64f)],_0x458c33=_0x123cd1[_0x181acf(0x8b9)]('#'+_0x2e6836);_0x458c33&&_0x458c33[_0x181acf(0xc9d)](),_0x358eca[_0x181acf(0xa8f)]['remove']();}}function handleEditQuestion(_0x26b291){const _0x13678b=_0x354eeb,_0x2acb17=_0x26b291[_0x13678b(0x64f)],_0x5aead3=_0x2acb17[_0x13678b(0x524)][_0x13678b(0x4e5)],_0x904544=currentQuizData[_0x13678b(0xc42)][_0x5aead3],_0x1227ae=document[_0x13678b(0x64e)]('q-text-'+_0x5aead3),_0x1973f7=document[_0x13678b(0x64e)](_0x13678b(0x56f)+_0x5aead3),_0x5dea9a=document['getElementById'](_0x13678b(0xa0c)+_0x5aead3);if(_0x2acb17['innerHTML']['includes'](_0x13678b(0x9e4))){_0x2acb17[_0x13678b(0xc5e)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x2acb17[_0x13678b(0x1ed)]=_0x13678b(0xb90);if(_0x1227ae)_0x1227ae[_0x13678b(0x792)]=!![];if(_0x1973f7)_0x1973f7['contentEditable']=!![];if(_0x5dea9a){const _0xb868af=_0x5dea9a[_0x13678b(0x8b9)](_0x13678b(0x942));if(_0xb868af){const _0x4e8b86=_0xb868af[_0x13678b(0x72d)](_0x13678b(0x4c3));_0x4e8b86['forEach']((_0x4a4990,_0x4d36a9)=>{const _0x44fec4=_0x13678b,_0x2f51fc=_0x44fec4(0x9c6)+_0x5aead3+'-'+_0x4d36a9;_0x4a4990['id']=_0x2f51fc,_0x4a4990['classList'][_0x44fec4(0x21a)]('draggable-text'),_0x4a4990[_0x44fec4(0x1ff)][_0x44fec4(0xdac)]='move';const _0x3097a2=document[_0x44fec4(0x807)](_0x44fec4(0x325),_0x44fec4(0x3ff)),_0x33764c=_0x4a4990['getBBox']();_0x3097a2[_0x44fec4(0xcf5)]('cx',String(_0x33764c['x']+_0x33764c[_0x44fec4(0x2b2)]+0x5)),_0x3097a2[_0x44fec4(0xcf5)]('cy',String(_0x33764c['y']+_0x33764c['height']/0x2-0x5)),_0x3097a2['setAttribute']('r','5'),_0x3097a2[_0x44fec4(0xcf5)](_0x44fec4(0xc6c),'red'),_0x3097a2[_0x44fec4(0xcf5)](_0x44fec4(0x88a),_0x44fec4(0xc5c)),_0x3097a2[_0x44fec4(0x524)][_0x44fec4(0x991)]=_0x2f51fc,_0x4a4990[_0x44fec4(0x542)](_0x3097a2);}),_0xb868af[_0x13678b(0xa02)](_0x13678b(0x5ec),startDrag),_0xb868af[_0x13678b(0xa02)]('mousemove',drag),_0xb868af['addEventListener'](_0x13678b(0xc30),endDrag),_0xb868af[_0x13678b(0xa02)](_0x13678b(0xb3c),endDrag),_0xb868af['addEventListener'](_0x13678b(0x99d),startDrag,{'passive':![]}),_0xb868af[_0x13678b(0xa02)](_0x13678b(0xd71),drag,{'passive':![]}),_0xb868af['addEventListener']('touchend',endDrag),_0xb868af['addEventListener'](_0x13678b(0x588),endDrag),_0xb868af[_0x13678b(0xa02)]('click',handleSvgEditClick);}}if(_0x1227ae)_0x1227ae[_0x13678b(0x836)]();}else{_0x2acb17[_0x13678b(0xc5e)]=_0x13678b(0x82c),_0x2acb17[_0x13678b(0x1ed)]=_0x13678b(0x8ea);if(_0x1227ae){_0x1227ae[_0x13678b(0x792)]=![];const _0x5c108e=_0x904544['questionType']||currentQuizData['quizType'];_0x5c108e==='matching_item'?_0x904544[_0x13678b(0xc59)]=_0x1227ae[_0x13678b(0x6c0)][_0x13678b(0xdc8)](_0x1227ae[_0x13678b(0x6c0)]['indexOf']('.')+0x2)[_0x13678b(0xdd7)]():_0x904544[_0x13678b(0x9f4)]=_0x1227ae[_0x13678b(0x6c0)][_0x13678b(0xdc8)](_0x1227ae[_0x13678b(0x6c0)]['indexOf']('.')+0x2)[_0x13678b(0xdd7)]();}_0x1973f7&&(_0x1973f7[_0x13678b(0x792)]=![],_0x904544['explanation']=_0x1973f7[_0x13678b(0x6c0)]);if(_0x5dea9a){const _0x25da85=_0x5dea9a[_0x13678b(0x8b9)](_0x13678b(0x942));if(_0x25da85){const _0xdcb1cc=_0x25da85[_0x13678b(0x34e)](!![]);_0xdcb1cc[_0x13678b(0x72d)](_0x13678b(0xc9a))['forEach'](_0x1af8e9=>_0x1af8e9['remove']()),_0xdcb1cc['querySelectorAll'](_0x13678b(0x58d))['forEach'](_0x47ca85=>{const _0x403475=_0x13678b;_0x47ca85[_0x403475(0x565)][_0x403475(0xc9d)]('draggable-text'),_0x47ca85['style'][_0x403475(0xdac)]=_0x403475(0x7b3),_0x47ca85[_0x403475(0x4ce)]('id');}),_0x904544[_0x13678b(0x9d9)]=_0xdcb1cc['outerHTML'],_0x25da85['removeEventListener'](_0x13678b(0x5ec),startDrag),_0x25da85[_0x13678b(0xac0)](_0x13678b(0x655),drag),_0x25da85['removeEventListener'](_0x13678b(0xc30),endDrag),_0x25da85[_0x13678b(0xac0)]('mouseleave',endDrag),_0x25da85[_0x13678b(0xac0)](_0x13678b(0x99d),startDrag),_0x25da85[_0x13678b(0xac0)](_0x13678b(0xd71),drag),_0x25da85[_0x13678b(0xac0)](_0x13678b(0x608),endDrag),_0x25da85[_0x13678b(0xac0)](_0x13678b(0x588),endDrag),_0x25da85[_0x13678b(0xac0)]('click',handleSvgEditClick),_0x25da85[_0x13678b(0x72d)](_0x13678b(0xc9a))[_0x13678b(0x37d)](_0x22d41b=>_0x22d41b['remove']()),_0x25da85['querySelectorAll'](_0x13678b(0x58d))[_0x13678b(0x37d)](_0x4ac774=>{const _0x20500d=_0x13678b;_0x4ac774['classList'][_0x20500d(0xc9d)](_0x20500d(0x211)),_0x4ac774[_0x20500d(0x1ff)][_0x20500d(0xdac)]=_0x20500d(0x7b3);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4efe6e){const _0x1d2605=_0x354eeb,_0x1dfa77=document[_0x1d2605(0x64e)](_0x1d2605(0x92a)),_0x47e863=document[_0x1d2605(0x64e)](_0x1d2605(0xb5b));_0x47e863[_0x1d2605(0xc5e)]=_0x1d2605(0x7fb),_0x1dfa77[_0x1d2605(0x565)]['remove'](_0x1d2605(0x76a));try{const _0x172a0a=doc(db,_0x1d2605(0x53f)+appId+_0x1d2605(0x450),_0x4efe6e),_0x28144e=await getDoc(_0x172a0a);if(!_0x28144e['exists']())throw new Error(_0x1d2605(0x911));currentEditingQuizData={'id':_0x4efe6e,..._0x28144e['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x4b275c){console[_0x1d2605(0x894)](_0x1d2605(0x48e),_0x4b275c),showMessage(_0x1d2605(0xb94)),_0x1dfa77['classList'][_0x1d2605(0x21a)]('hidden');}}function renderQuizEditor(_0x4ce613){const _0x467c5a=_0x354eeb;document[_0x467c5a(0x64e)](_0x467c5a(0x27a))[_0x467c5a(0x998)]=_0x4ce613['topic'];const _0x5e0785=document['getElementById'](_0x467c5a(0xb5b));let _0x10bf8a=_0x4ce613[_0x467c5a(0xc42)]['map']((_0x57e2d9,_0xeef87b)=>{const _0x30f658=_0x467c5a;let _0x327c3f='';const _0x18d89f=_0x57e2d9[_0x30f658(0x4fd)]||_0x4ce613['quizType'];switch(_0x18d89f){case _0x30f658(0xda2):const _0x192138=(_0x57e2d9[_0x30f658(0x3e0)]||[])['map']((_0x1f74c9,_0x5e5086)=>_0x30f658(0x41c)+_0xeef87b+_0x30f658(0x8ae)+_0x5e5086+'\x22\x20'+(_0x5e5086===_0x57e2d9[_0x30f658(0x5a0)]?_0x30f658(0x5f7):'')+_0x30f658(0xa5e)+_0x1f74c9+_0x30f658(0x2a3))[_0x30f658(0x5fa)]('');_0x327c3f=_0x30f658(0x534)+_0x192138+_0x30f658(0x405);break;case _0x30f658(0x6bd):_0x327c3f=_0x30f658(0x809)+(_0x57e2d9[_0x30f658(0xddb)]||'')+_0x30f658(0x3b3);break;case _0x30f658(0x82f):_0x327c3f=_0x30f658(0xb0e)+_0xeef87b+'\x22\x20value=\x22true\x22\x20'+(_0x57e2d9[_0x30f658(0x7e0)]===!![]?_0x30f658(0x5f7):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0xeef87b+_0x30f658(0x5bb)+(_0x57e2d9['correctAnswer']===![]?_0x30f658(0x5f7):'')+_0x30f658(0x6f0);break;case _0x30f658(0xc67):_0x327c3f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x57e2d9[_0x30f658(0x73a)]||'')+_0x30f658(0xab3);break;}let _0x2bc16a=_0x57e2d9[_0x30f658(0x9f4)]||_0x57e2d9[_0x30f658(0xc59)]||'';return _0x2bc16a=_0x2bc16a[_0x30f658(0x683)](/<br\s*\/?>/gi,'\x0a'),_0x30f658(0x2d2)+_0xeef87b+_0x30f658(0x7ea)+_0x18d89f+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0xeef87b+0x1)+'\x20('+_0x18d89f+_0x30f658(0x84d)+_0x2bc16a+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x327c3f+_0x30f658(0xb98);})[_0x467c5a(0x5fa)]('');_0x5e0785[_0x467c5a(0xc5e)]=_0x10bf8a;const _0xf1f550=_0x467c5a(0x547);_0x5e0785[_0x467c5a(0xca7)](_0x467c5a(0x9bd),_0xf1f550),_0x5e0785['querySelectorAll'](_0x467c5a(0x862))['forEach'](_0x48c846=>{const _0x3109c3=_0x467c5a;_0x48c846[_0x3109c3(0x1ff)][_0x3109c3(0xa1d)]=_0x3109c3(0x76a),_0x48c846['style']['minHeight']=_0x3109c3(0x92c),_0x48c846[_0x3109c3(0x363)]=0x4;const _0x5c1590=()=>{const _0x393395=_0x3109c3;_0x48c846[_0x393395(0x1ff)][_0x393395(0x9f0)]=_0x393395(0x3de),_0x48c846[_0x393395(0x1ff)]['height']=_0x48c846[_0x393395(0x934)]+'px';};_0x48c846[_0x3109c3(0xa02)](_0x3109c3(0xc69),_0x5c1590),_0x5c1590();}),_0x5e0785[_0x467c5a(0x72d)](_0x467c5a(0x28f))[_0x467c5a(0x37d)](_0x5b97f8=>{const _0x2fb9f1=_0x467c5a;_0x5b97f8[_0x2fb9f1(0xa02)]('click',handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x3af793){const _0x5e5337=_0x354eeb;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x3af793])return;const _0xc99e1e=currentEditingQuizData['questions'][_0x3af793][_0x5e5337(0x9f4)]||currentEditingQuizData[_0x5e5337(0xc42)][_0x3af793]['stem'];showConfirmation(_0x5e5337(0xbda)+(_0x3af793+0x1)+_0x5e5337(0x1e4)+_0xc99e1e['substring'](0x0,0x14)+'...\x22)?',()=>{const _0x221806=_0x5e5337;currentEditingQuizData['questions'][_0x221806(0x261)](_0x3af793,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x221806(0x692));});}function handleAddQuestionInEditor(){const _0x3c6e0c=_0x354eeb;if(!currentEditingQuizData)return;const _0x4879a2={'id':'q_'+Date['now']()+_0x3c6e0c(0x3bf),'questionType':'multiple_choice','questionText':_0x3c6e0c(0x315),'options':[_0x3c6e0c(0x765),_0x3c6e0c(0x8f2),_0x3c6e0c(0x988),_0x3c6e0c(0x2da)],'correctAnswerIndex':0x0,'explanation':_0x3c6e0c(0x83b)};currentEditingQuizData[_0x3c6e0c(0xc42)][_0x3c6e0c(0xa95)](_0x4879a2),renderQuizEditor(currentEditingQuizData);const _0x59b429=document[_0x3c6e0c(0x8b9)](_0x3c6e0c(0x5dc));_0x59b429&&(_0x59b429[_0x3c6e0c(0x2a7)]({'behavior':_0x3c6e0c(0xd84),'block':_0x3c6e0c(0x8b1)}),_0x59b429[_0x3c6e0c(0x8b9)]('textarea')[_0x3c6e0c(0x836)]());}async function handleAiFixQuestion(_0xaed4bf){const _0x1fe97a=_0x354eeb,_0x4c65c0=_0xaed4bf['currentTarget'],_0x2f266f=_0x4c65c0[_0x1fe97a(0x717)]('.question-editor-item');if(!_0x2f266f)return;const _0x1e086d=parseInt(_0x2f266f['dataset'][_0x1fe97a(0x672)],0xa);if(isNaN(_0x1e086d)||!currentEditingQuizData[_0x1fe97a(0xc42)][_0x1e086d]){showMessage(_0x1fe97a(0x339));return;}const _0x5de616=currentEditingQuizData['questions'][_0x1e086d];_0x4c65c0['innerHTML']=_0x1fe97a(0xb4b),_0x4c65c0[_0x1fe97a(0x87b)]=!![];const _0x16644c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x5de616)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x29c6b5;const _0x300ff7=_0x5de616[_0x1fe97a(0x4fd)]||currentEditingQuizData[_0x1fe97a(0x6a2)];switch(_0x300ff7){case _0x1fe97a(0x6bd):_0x29c6b5={'type':_0x1fe97a(0x627),'properties':{'questionText':{'type':_0x1fe97a(0x921)},'idealAnswer':{'type':_0x1fe97a(0x921)},'explanation':{'type':_0x1fe97a(0x921)},'imageCode':{'type':_0x1fe97a(0x921)}},'required':[_0x1fe97a(0x9f4),'idealAnswer','explanation']};break;case'multiple_choice':default:_0x29c6b5={'type':_0x1fe97a(0x627),'properties':{'questionText':{'type':_0x1fe97a(0x921)},'options':{'type':_0x1fe97a(0x4aa),'items':{'type':_0x1fe97a(0x921)}},'correctAnswerIndex':{'type':_0x1fe97a(0xc0c)},'explanation':{'type':_0x1fe97a(0x921)},'imageCode':{'type':_0x1fe97a(0x921)}},'required':[_0x1fe97a(0x9f4),'options','correctAnswerIndex',_0x1fe97a(0x99c)]};break;}try{let _0x489500=await callAnalysisApi(_0x16644c,_0x29c6b5);_0x489500[_0x1fe97a(0x3e0)]&&Array[_0x1fe97a(0x596)](_0x489500[_0x1fe97a(0x3e0)])&&(_0x489500[_0x1fe97a(0x3e0)]=_0x489500[_0x1fe97a(0x3e0)]['map'](_0x575ea9=>typeof _0x575ea9==='string'?_0x575ea9['replace'](/S(\s*[\d_]+?\s*)S/g,_0x1fe97a(0x7e6)):_0x575ea9)),_0x5de616['imageCode']&&_0x5de616['imageCode'][_0x1fe97a(0xcc5)]('fix\x20the\x20option')&&(_0x489500[_0x1fe97a(0x9d9)]=''),currentEditingQuizData[_0x1fe97a(0xc42)][_0x1e086d]={..._0x5de616,..._0x489500},renderQuizEditor(currentEditingQuizData),showMessage(_0x1fe97a(0xbc3));}catch(_0x2227cf){console[_0x1fe97a(0x894)](_0x1fe97a(0x526),_0x2227cf),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x13b5d8=_0x354eeb,_0x2deb14=document[_0x13b5d8(0x64e)](_0x13b5d8(0x80a));_0x2deb14[_0x13b5d8(0x87b)]=!![],_0x2deb14[_0x13b5d8(0xc5e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3d5ede=document[_0x13b5d8(0x64e)](_0x13b5d8(0x27a))[_0x13b5d8(0x998)],_0x50a0ce=document[_0x13b5d8(0x72d)](_0x13b5d8(0x968));let _0x1dcf46=[];const _0xd13d2=Array[_0x13b5d8(0x941)](_0x50a0ce)[_0x13b5d8(0x1fa)]((_0x57dc46,_0x4e0b15)=>{const _0x192740=_0x13b5d8,_0x5ad9ae=_0x57dc46['dataset'][_0x192740(0x76d)],_0x5a99f1=_0x57dc46[_0x192740(0x8b9)](_0x192740(0xc48))[_0x192740(0x998)][_0x192740(0x683)](/\n/g,_0x192740(0xb5f));let _0x1e20b1={'questionType':_0x5ad9ae};const _0x2f3389=currentEditingQuizData[_0x192740(0xc42)][_0x4e0b15];switch(_0x5ad9ae){case _0x192740(0xda2):_0x1e20b1[_0x192740(0x9f4)]=_0x5a99f1;const _0xe89ff5=_0x57dc46[_0x192740(0x72d)]('input[type=\x22text\x22]');_0x1e20b1['options']=Array[_0x192740(0x941)](_0xe89ff5)[_0x192740(0x1fa)](_0x550d6a=>_0x550d6a[_0x192740(0x998)]);const _0x289c61=_0x57dc46[_0x192740(0x8b9)](_0x192740(0xbfb));_0x1e20b1[_0x192740(0x5a0)]=_0x289c61?parseInt(_0x289c61['value']):0x0;break;case'short_answer':_0x1e20b1[_0x192740(0x9f4)]=_0x5a99f1,_0x1e20b1['idealAnswer']=_0x57dc46[_0x192740(0x8b9)](_0x192740(0xd46))['value'];break;case'true_false':_0x1e20b1['questionText']=_0x5a99f1;const _0x1d7cee=_0x57dc46[_0x192740(0x8b9)]('input[type=\x22radio\x22]:checked');_0x1e20b1[_0x192740(0x7e0)]=_0x1d7cee?_0x1d7cee[_0x192740(0x998)]===_0x192740(0x6b4):!![];break;case _0x192740(0xc67):_0x1e20b1[_0x192740(0xc59)]=_0x5a99f1;const _0x560fc4=_0x57dc46[_0x192740(0x8b9)](_0x192740(0x7e1));_0x1e20b1['correctResponse']=_0x560fc4?_0x560fc4[_0x192740(0x998)]:'',_0x1dcf46['push'](_0x1e20b1[_0x192740(0x73a)]);break;default:_0x1e20b1['questionText']=_0x5a99f1;break;}return{..._0x2f3389,..._0x1e20b1};});_0x1dcf46[_0x13b5d8(0x2ee)]>0x0&&_0xd13d2[_0x13b5d8(0x37d)](_0x161938=>{const _0x281ae9=_0x13b5d8;_0x161938[_0x281ae9(0x4fd)]===_0x281ae9(0xc67)&&(_0x161938[_0x281ae9(0x589)]=_0x1dcf46);});const _0x4ff30b=currentEditingQuizData['id'],_0x3fd1b2=doc(db,_0x13b5d8(0x53f)+appId+_0x13b5d8(0x450),_0x4ff30b);await updateDoc(_0x3fd1b2,{'topic':_0x3d5ede,'questions':_0xd13d2}),document[_0x13b5d8(0x64e)](_0x13b5d8(0x92a))[_0x13b5d8(0x565)]['add'](_0x13b5d8(0x76a)),showMessage(_0x13b5d8(0x262),()=>initiateReGradeProcess(_0x4ff30b));}catch(_0x2f59c2){console['error'](_0x13b5d8(0x23f),_0x2f59c2),showMessage(_0x13b5d8(0xc64));}finally{_0x2deb14[_0x13b5d8(0x87b)]=![],_0x2deb14[_0x13b5d8(0xc5e)]=_0x13b5d8(0x7a4);}}async function initiateReGradeProcess(_0x27028d){const _0x3ebcac=_0x354eeb;showMessage(_0x3ebcac(0xdb9));try{const _0x3aa6fb=doc(db,_0x3ebcac(0x53f)+appId+_0x3ebcac(0x450),_0x27028d),_0x10eeeb=await getDoc(_0x3aa6fb);if(!_0x10eeeb[_0x3ebcac(0x2c9)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x4df9d9={'id':_0x27028d,..._0x10eeeb[_0x3ebcac(0xbb9)]()},_0x465c5f=collection(db,'artifacts/'+appId+_0x3ebcac(0x450),_0x27028d,_0x3ebcac(0x9c0)),_0x58679d=await getDocs(_0x465c5f);if(_0x58679d[_0x3ebcac(0x3d9)]){showMessage(_0x3ebcac(0x25a));return;}const _0x5d1524=_0x58679d[_0x3ebcac(0x2e6)][_0x3ebcac(0x1fa)](_0x1ab05c=>reGradeSingleSubmission(_0x1ab05c,_0x4df9d9));await Promise[_0x3ebcac(0x885)](_0x5d1524);if(_0x4df9d9[_0x3ebcac(0xd27)]){const _0x28c9dd=doc(db,_0x3ebcac(0x53f)+appId+_0x3ebcac(0x32d),_0x4df9d9[_0x3ebcac(0xd27)]),_0x186a44=await getDoc(_0x28c9dd);if(_0x186a44[_0x3ebcac(0x2c9)]()&&_0x186a44[_0x3ebcac(0xbb9)]()['students']){const _0x3baacc=_0x186a44[_0x3ebcac(0xbb9)]()['students']['map'](_0x296e38=>updateStudentProfile(_0x4df9d9['projectId'],_0x296e38));await Promise[_0x3ebcac(0x885)](_0x3baacc);}}showMessage(_0x3ebcac(0x3a8)+_0x58679d['size']+_0x3ebcac(0x670));}catch(_0x2b6b80){console['error']('Re-grade\x20process\x20failed:',_0x2b6b80),showMessage(_0x3ebcac(0x74b)+_0x2b6b80[_0x3ebcac(0x5b6)]);}}async function reGradeSingleSubmission(_0x1812b8,_0x138926){const _0xb398e3=_0x354eeb,_0x19087b=_0x1812b8[_0xb398e3(0xbb9)](),_0x4ac673=_0x19087b[_0xb398e3(0xd48)],_0xdb7c2c=_0x19087b[_0xb398e3(0xc70)]||[],_0x1b3688=[];for(const _0x152409 of _0xdb7c2c){let _0x54d885=0x0,_0xe7a47f=[],_0x10085f=0x0;const _0x6e5ebf=[];for(const _0x44d869 of _0x152409[_0xb398e3(0x758)]){let _0x83983;_0x44d869[_0xb398e3(0x4b9)]&&(_0x83983=_0x138926[_0xb398e3(0xc42)][_0xb398e3(0x52f)](_0x10e4b7=>_0x10e4b7['id']===_0x44d869[_0xb398e3(0x4b9)]));!_0x83983&&_0x44d869[_0xb398e3(0x299)]&&(_0x83983=_0x138926[_0xb398e3(0xc42)][_0xb398e3(0x52f)](_0x18f243=>(_0x18f243[_0xb398e3(0xc59)]||_0x18f243['questionText'])===_0x44d869['originalQuestionText']));let _0x3f829c=![];if(_0x83983){const _0x3726fe=_0x83983['questionType']||_0x138926[_0xb398e3(0x6a2)];switch(_0x3726fe){case _0xb398e3(0xda2):if(_0x83983[_0xb398e3(0x3e0)]&&_0x83983[_0xb398e3(0x5a0)]<_0x83983['options']['length']){const _0x2b6ba6=_0x83983['options'][_0x83983['correctAnswerIndex']];_0x3f829c=_0x44d869['answerText']===_0x2b6ba6;}break;case _0xb398e3(0x82f):const _0x5846cd=_0x44d869[_0xb398e3(0x6a5)]===!![]||_0x44d869['answer']===_0xb398e3(0x6b4);_0x3f829c=_0x5846cd===_0x83983['correctAnswer'];break;case'matching_item':_0x3f829c=_0x44d869[_0xb398e3(0x6a5)]===_0x83983[_0xb398e3(0x73a)];break;case _0xb398e3(0x6bd):_0x3f829c=await gradeShortAnswer(_0x44d869[_0xb398e3(0x6a5)],_0x83983);break;default:_0x3f829c=_0x44d869[_0xb398e3(0x241)];break;}}if(_0x3f829c){_0x54d885++,_0x10085f++;if(_0x10085f===0x3)_0xe7a47f['push'](BADGES[_0xb398e3(0x7de)]['id']);}else _0x10085f=0x0;_0x6e5ebf[_0xb398e3(0xa95)]({..._0x44d869,'isCorrect':_0x3f829c});}let _0x13a13a=_0x54d885*0xa;_0x54d885===_0x138926[_0xb398e3(0xc42)]['length']&&(_0x13a13a+=0x32,_0xe7a47f[_0xb398e3(0xa95)](BADGES['PERFECT_SCORE']['id'])),_0x1b3688['push']({..._0x152409,'score':_0x54d885,'points':_0x13a13a,'badges':Array[_0xb398e3(0x941)](new Set(_0xe7a47f)),'answers':_0x6e5ebf});}const _0x4db63c=_0x1b3688['length']>0x0?_0x1b3688[0x0]['score']:0x0,_0x2e3ff2=Math[_0xb398e3(0x62c)](..._0x1b3688[_0xb398e3(0x1fa)](_0x4ab40a=>_0x4ab40a[_0xb398e3(0x3cb)])),_0x55bc70=_0x1b3688['length']>0x0?_0x1b3688[_0x1b3688['length']-0x1]['score']:0x0,_0x19d30d=_0x1b3688['length']>0x0?_0x1b3688[_0x1b3688[_0xb398e3(0x2ee)]-0x1][_0xb398e3(0x2f3)]:0x0,_0x2d4113=doc(db,_0xb398e3(0x53f)+appId+'/public/data/quizzes/'+_0x138926['id']+_0xb398e3(0x6f1),_0x4ac673);await updateDoc(_0x2d4113,{'attempts':_0x1b3688,'firstScore':_0x4db63c,'bestScore':_0x2e3ff2,'latestScore':_0x55bc70,'points':_0x19d30d});}function cleanupQuizOptions(_0x15b0fc){const _0x3157ea=_0x354eeb,_0x59b367=(_0xe5d8e2,_0x24e615)=>_0x24e615===0x0?_0xe5d8e2:_0x59b367(_0x24e615,_0xe5d8e2%_0x24e615),_0x446c5d=_0x5dee64=>{const _0x40df7e=_0x421e;if(typeof _0x5dee64!==_0x40df7e(0xd00))return null;_0x5dee64=_0x5dee64[_0x40df7e(0xdd7)]();const _0x55d849=_0x5dee64['split'](/[ /]/)[_0x40df7e(0xdc7)](_0x1dfd4f=>_0x1dfd4f!=='');if(_0x55d849[_0x40df7e(0x2ee)]===0x3)return parseInt(_0x55d849[0x0])+parseInt(_0x55d849[0x1])/parseInt(_0x55d849[0x2]);else{if(_0x55d849[_0x40df7e(0x2ee)]===0x2)return parseInt(_0x55d849[0x0])/parseInt(_0x55d849[0x1]);else{if(_0x55d849[_0x40df7e(0x2ee)]===0x1&&!isNaN(_0x55d849[0x0]))return parseFloat(_0x55d849[0x0]);}}return null;},_0x419407=_0x33520a=>{const _0x464064=_0x421e;if(typeof _0x33520a!==_0x464064(0xd00))return _0x33520a;const _0x2b91bc=_0x33520a[_0x464064(0xb50)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2b91bc){const _0x59a466=parseInt(_0x2b91bc[0x1]);let _0x5a5ca3=parseInt(_0x2b91bc[0x2]),_0x1520d0=parseInt(_0x2b91bc[0x3]);const _0x15de57=_0x59b367(_0x5a5ca3,_0x1520d0);_0x5a5ca3/=_0x15de57,_0x1520d0/=_0x15de57;if(_0x1520d0===0x1)return(_0x59a466+_0x5a5ca3)[_0x464064(0x3ea)]();return _0x59a466+'\x20'+_0x5a5ca3+'/'+_0x1520d0;}return _0x33520a;};return _0x15b0fc&&_0x15b0fc[_0x3157ea(0xc42)]&&_0x15b0fc[_0x3157ea(0xc42)][_0x3157ea(0x37d)](_0x33376e=>{const _0x1d6916=_0x3157ea;if(_0x33376e[_0x1d6916(0x4fd)]===_0x1d6916(0xda2)&&_0x33376e['options']){const _0x2ad02b=new Map(),_0x54c7cc=_0x33376e['options'][_0x33376e[_0x1d6916(0x5a0)]];_0x33376e[_0x1d6916(0x3e0)][_0x1d6916(0x37d)](_0x5031b0=>{const _0x2992b9=_0x1d6916,_0x217646=_0x419407(_0x5031b0),_0x1a4a55=_0x446c5d(_0x217646);_0x1a4a55!==null&&!_0x2ad02b['has'](_0x1a4a55)&&_0x2ad02b[_0x2992b9(0x7e8)](_0x1a4a55,_0x217646);}),_0x33376e['options']=Array[_0x1d6916(0x941)](_0x2ad02b[_0x1d6916(0xa7b)]());const _0x2275bc=_0x33376e[_0x1d6916(0x3e0)]['findIndex'](_0x5549cb=>_0x5549cb===_0x419407(_0x54c7cc));_0x33376e[_0x1d6916(0x5a0)]=_0x2275bc!==-0x1?_0x2275bc:0x0;}}),_0x15b0fc;}function showGameStartConfirmationModal(_0xb96799,_0xc16d34,_0x49a486){const _0x1052f3=_0x354eeb,_0x2d2a0a=document[_0x1052f3(0x64e)](_0x1052f3(0xde2));document['getElementById'](_0x1052f3(0x1ec))[_0x1052f3(0xd72)]=_0x1052f3(0x81c)+_0x49a486,document[_0x1052f3(0x64e)](_0x1052f3(0x82a))[_0x1052f3(0x998)]=_0xb96799,document['getElementById'](_0x1052f3(0x4e9))[_0x1052f3(0x998)]=_0xc16d34,document[_0x1052f3(0x64e)](_0x1052f3(0xb31))[_0x1052f3(0x5f7)]=!![];const _0x32bbe8=document[_0x1052f3(0x64e)](_0x1052f3(0x418));_0xc16d34==='sync'?(_0x32bbe8[_0x1052f3(0x565)][_0x1052f3(0xc9d)]('hidden'),document[_0x1052f3(0x8b9)](_0x1052f3(0xa07))[_0x1052f3(0x5f7)]=!![]):_0x32bbe8['classList']['add'](_0x1052f3(0x76a)),_0x2d2a0a[_0x1052f3(0x565)][_0x1052f3(0xc9d)](_0x1052f3(0x76a));}async function saveGameResultsAsSubmissions(_0x3a3e0a){const _0xbfbe16=_0x354eeb;console[_0xbfbe16(0x4b0)](_0xbfbe16(0xc8b),_0x3a3e0a);const _0x397563=_0x3a3e0a['quizId'];let _0x6239ac=[];if(_0x3a3e0a['players'])_0x6239ac=Object[_0xbfbe16(0x8e0)](_0x3a3e0a[_0xbfbe16(0xc09)])['map'](([_0x454766,_0x449602])=>({'name':_0x454766,..._0x449602}));else{if(_0x3a3e0a[_0xbfbe16(0x20c)])Object['values'](_0x3a3e0a[_0xbfbe16(0x20c)])[_0xbfbe16(0x37d)](_0x217b5f=>{const _0x21ec0c=_0xbfbe16;_0x217b5f[_0x21ec0c(0xba9)][_0x21ec0c(0x37d)](_0x499ef7=>{const _0x50b143=_0x21ec0c;_0x6239ac[_0x50b143(0xa95)]({'name':_0x499ef7,'score':_0x217b5f[_0x50b143(0x3cb)],'answers':_0x217b5f[_0x50b143(0x758)]});});});else _0x3a3e0a[_0xbfbe16(0x233)]&&Object['entries'](_0x3a3e0a['responses'])[_0xbfbe16(0x37d)](([_0xd7e1cb,_0x6481fe])=>{const _0x1afbb8=_0xbfbe16;_0x6239ac[_0x1afbb8(0xa95)]({'name':_0xd7e1cb,..._0x6481fe});});}if(_0x6239ac[_0xbfbe16(0x2ee)]===0x0){console[_0xbfbe16(0x4b0)]('No\x20player\x20data\x20to\x20save.');return;}const _0x4508ca=_0x3a3e0a['shuffledQuiz']?.['questions']['length']||currentQuizData[_0xbfbe16(0xc42)][_0xbfbe16(0x2ee)],_0x4535b2=writeBatch(db);for(const _0x33bbbf of _0x6239ac){const _0x1df676=doc(db,_0xbfbe16(0x53f)+appId+_0xbfbe16(0x253)+_0x397563+'/submissions',_0x33bbbf[_0xbfbe16(0x799)]),_0x129c14=(_0x33bbbf[_0xbfbe16(0x758)]||[])[_0xbfbe16(0xdc7)](_0x389876=>_0x389876[_0xbfbe16(0x241)])['length'];let _0x34595e=_0x129c14;_0x3a3e0a[_0xbfbe16(0xaa8)]&&_0x33bbbf['answers']&&_0x33bbbf[_0xbfbe16(0x758)]['forEach'](_0x2aac41=>{const _0x4882e6=_0xbfbe16;if(_0x2aac41[_0x4882e6(0x241)]&&(_0x2aac41[_0x4882e6(0x693)]===!![]||_0x2aac41['wasConfident']===_0x4882e6(0xb3f)))_0x34595e+=0x1;else!_0x2aac41[_0x4882e6(0x241)]&&(_0x2aac41[_0x4882e6(0x693)]===!![]||_0x2aac41['wasConfident']===_0x4882e6(0xb3f))&&(_0x34595e-=0x1);});_0x4508ca>0x0&&_0x129c14===_0x4508ca&&(_0x34595e+=0x1);const _0x5ca5d6={'score':_0x129c14,'points':_0x34595e,'badges':_0x33bbbf[_0xbfbe16(0x9c5)]||[],'submittedAt':new Date()[_0xbfbe16(0xd4e)](),'answers':(_0x33bbbf['answers']||[])[_0xbfbe16(0x1fa)](_0x1359a7=>({'questionId':_0x1359a7[_0xbfbe16(0x4b9)],'answer':_0x1359a7[_0xbfbe16(0x6a5)],'answerText':_0x1359a7['answerText'],'isCorrect':_0x1359a7[_0xbfbe16(0x241)],'originalQuestionText':_0x1359a7[_0xbfbe16(0x299)],'wasConfident':_0x1359a7[_0xbfbe16(0x693)]}))},_0x9f1879=await getDoc(_0x1df676),_0x12cb81=_0x9f1879[_0xbfbe16(0x2c9)]()?_0x9f1879[_0xbfbe16(0xbb9)]():{},_0x109e53=_0x12cb81[_0xbfbe16(0x915)]||0x0,_0x28582c=_0x12cb81[_0xbfbe16(0xc70)]||[],_0x2dd259={'studentName':_0x33bbbf[_0xbfbe16(0x799)],'totalQuestions':_0x4508ca,'attempts':arrayUnion(_0x5ca5d6),'latestScore':_0x129c14,'points':_0x34595e,'latestSubmittedAt':_0x5ca5d6['submittedAt'],'bestScore':Math[_0xbfbe16(0x62c)](_0x109e53,_0x129c14),'firstScore':_0x28582c[_0xbfbe16(0x2ee)]===0x0?_0x129c14:_0x12cb81[_0xbfbe16(0x2a1)]||0x0};_0x4535b2[_0xbfbe16(0x7e8)](_0x1df676,_0x2dd259,{'merge':!![]});}try{await _0x4535b2['commit'](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x6239ac['length']+'\x20รายการ\x20สำเร็จ!');const _0x3cf44e=_0x3a3e0a[_0xbfbe16(0x660)]?.[_0xbfbe16(0xd27)]||currentQuizData?.[_0xbfbe16(0xd27)]||currentProjectId;if(_0x3cf44e){const _0x11b69c=[...new Set(_0x6239ac[_0xbfbe16(0x1fa)](_0x5bdcff=>_0x5bdcff[_0xbfbe16(0x799)]))];for(const _0x169de9 of _0x11b69c){await updateStudentProfile(_0x3cf44e,_0x169de9);}}}catch(_0x47392a){console[_0xbfbe16(0x894)](_0xbfbe16(0x98b),_0x47392a),showMessage(_0xbfbe16(0x94f));}}async function saveQuiz(_0x301c3b=null,_0x253c21=null){const _0x1d4e02=_0x354eeb,_0x294922=_0x301c3b||currentProjectId;if(!_0x294922){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x1d4e02(0xc42)]||!userId){showMessage(_0x1d4e02(0x54f));return;}const _0x51aafb=document[_0x1d4e02(0x64e)](_0x1d4e02(0xa08));_0x51aafb[_0x1d4e02(0x87b)]=!![],_0x51aafb[_0x1d4e02(0xc5e)]=_0x1d4e02(0x9d3);const _0x360ddb=document[_0x1d4e02(0x64e)](_0x1d4e02(0xba0))[_0x1d4e02(0x5f7)];let _0x5eaa09=document[_0x1d4e02(0x64e)]('editable-quiz-topic')['innerText'][_0x1d4e02(0xdd7)]();_0x360ddb&&!_0x5eaa09['startsWith'](_0x1d4e02(0x859))&&(_0x5eaa09=_0x1d4e02(0xb85)+_0x5eaa09);try{const _0x29b256={'resultsDisplay':document['getElementById']('results-display-select')[_0x1d4e02(0x998)],'shuffle':document[_0x1d4e02(0x64e)]('shuffle-setting-select')[_0x1d4e02(0x998)],'timerMode':document['getElementById']('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x1d4e02(0x64e)](_0x1d4e02(0x47a))[_0x1d4e02(0x998)])||0xa,'passingScore':parseInt(document[_0x1d4e02(0x64e)](_0x1d4e02(0xa3e))[_0x1d4e02(0x998)])||0x0,'isAdaptive':document['getElementById'](_0x1d4e02(0x3e2))[_0x1d4e02(0x5f7)],'loopUntilPass':document[_0x1d4e02(0x64e)](_0x1d4e02(0x6f4))['checked']},_0x5e4353=(currentQuizData[_0x1d4e02(0xc42)]||[])[_0x1d4e02(0x1fa)]((_0xe84b42,_0xaef5d7)=>{const _0x2de7f4=_0x1d4e02,_0x4f57ae=document['getElementById'](_0x2de7f4(0x9cc))[_0x2de7f4(0x998)],_0xa64aa8={'id':'q_'+Date[_0x2de7f4(0x274)]()+'_'+_0xaef5d7,'questionText':_0xe84b42[_0x2de7f4(0x9f4)]||'','explanation':_0xe84b42[_0x2de7f4(0x99c)]||'ไม่มีคำอธิบาย','questionType':_0xe84b42['questionType']||_0x4f57ae,'imageCode':_0xe84b42[_0x2de7f4(0x9d9)]||null};return(_0xa64aa8[_0x2de7f4(0x4fd)]===_0x2de7f4(0xda2)||_0xa64aa8[_0x2de7f4(0x4fd)]===_0x2de7f4(0xa83)||_0xa64aa8[_0x2de7f4(0x4fd)]===_0x2de7f4(0x4f4)&&_0xe84b42['options'])&&(_0xa64aa8[_0x2de7f4(0x3e0)]=_0xe84b42[_0x2de7f4(0x3e0)]||[],_0xa64aa8[_0x2de7f4(0x5a0)]=_0xe84b42[_0x2de7f4(0x5a0)]!==undefined?_0xe84b42['correctAnswerIndex']:0x0),(_0xa64aa8[_0x2de7f4(0x4fd)]===_0x2de7f4(0x6bd)||_0xa64aa8[_0x2de7f4(0x4fd)]===_0x2de7f4(0xd8f)||_0xa64aa8['questionType']===_0x2de7f4(0x4f4)&&_0xe84b42[_0x2de7f4(0xddb)])&&(_0xa64aa8['idealAnswer']=_0xe84b42[_0x2de7f4(0xddb)]||''),_0xa64aa8[_0x2de7f4(0x4fd)]===_0x2de7f4(0x82f)&&(_0xa64aa8[_0x2de7f4(0x7e0)]=_0xe84b42[_0x2de7f4(0x7e0)]===!![]),_0xa64aa8[_0x2de7f4(0x4fd)]===_0x2de7f4(0xc67)&&(_0xa64aa8[_0x2de7f4(0xc59)]=_0xe84b42[_0x2de7f4(0xc59)]||'',_0xa64aa8['correctResponse']=_0xe84b42['correctResponse']||'',_0xa64aa8[_0x2de7f4(0x589)]=_0xe84b42[_0x2de7f4(0x589)]||[]),_0xa64aa8;}),_0x15fb66={'topic':_0x5eaa09,'quizType':currentQuizData[_0x1d4e02(0x6a2)]||_0x1d4e02(0xda2),'questions':_0x5e4353,'projectId':_0x294922,'createdBy':userId,'createdAt':new Date()[_0x1d4e02(0xd4e)](),'status':_0x1d4e02(0x385),'settings':_0x29b256,'quizMode':_0x360ddb?_0x1d4e02(0x40c):_0x1d4e02(0x86e),'pairedQuizId':null,'lessonPlan':null};let _0x5b6c58;while(!![]){_0x5b6c58=Math[_0x1d4e02(0x98d)](0x3e8+Math[_0x1d4e02(0xb7b)]()*0x2328)['toString']();const _0x2375ba=await getDoc(doc(db,_0x1d4e02(0x53f)+appId+_0x1d4e02(0x450),_0x5b6c58));if(!_0x2375ba[_0x1d4e02(0x2c9)]())break;}await setDoc(doc(db,_0x1d4e02(0x53f)+appId+_0x1d4e02(0x450),_0x5b6c58),_0x15fb66);if(_0x253c21&&currentBlueprintProjectId){console[_0x1d4e02(0x4b0)](_0x1d4e02(0x70f)+_0x5b6c58+'\x20to\x20blueprint\x20topic\x20'+_0x253c21);try{const _0x1a1e14=doc(db,_0x1d4e02(0x53f)+appId+_0x1d4e02(0x27d),currentBlueprintProjectId);await updateDoc(_0x1a1e14,{['topics.'+_0x253c21+_0x1d4e02(0x67f)]:arrayUnion(_0x5b6c58)});}catch(_0xdb3d39){console[_0x1d4e02(0x894)](_0x1d4e02(0x64a),_0xdb3d39);}}currentQuizData[_0x1d4e02(0x992)]=_0x29b256,currentQuizData['id']=_0x5b6c58;const _0x233410=document['getElementById'](_0x1d4e02(0x6f8));_0x233410[_0x1d4e02(0xc5e)]=_0x1d4e02(0x555)+_0x5b6c58+_0x1d4e02(0xd53),document[_0x1d4e02(0x64e)](_0x1d4e02(0x31c))[_0x1d4e02(0xa02)](_0x1d4e02(0x4f9),()=>copyTextToClipboard(_0x5b6c58,_0x1d4e02(0x45a))),document[_0x1d4e02(0x64e)](_0x1d4e02(0x886))[_0x1d4e02(0xa02)](_0x1d4e02(0x4f9),()=>handleStartLiveRace(_0x5b6c58)),document[_0x1d4e02(0x64e)](_0x1d4e02(0x4a8))['addEventListener'](_0x1d4e02(0x4f9),()=>startPresentation(currentQuizData)),document['getElementById'](_0x1d4e02(0xb62))[_0x1d4e02(0xa02)](_0x1d4e02(0x4f9),startAdminTest),showMessage(_0x1d4e02(0x2f9));}catch(_0x76d67d){console['error'](_0x1d4e02(0x358),_0x76d67d),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x51aafb['disabled']=![],_0x51aafb[_0x1d4e02(0xc5e)]=_0x1d4e02(0x7a5);}}function promptForProjectAndSave(){const _0xf4e357=_0x354eeb,_0x373830=document['getElementById'](_0xf4e357(0xdd0)),_0x566993=document[_0xf4e357(0x64e)](_0xf4e357(0x72f)),_0x4e8601=_0x373830[_0xf4e357(0x8b9)]('h3'),_0x19b939=document[_0xf4e357(0x64e)](_0xf4e357(0xb29));_0x4e8601[_0xf4e357(0xd72)]=_0xf4e357(0x292),_0x19b939[_0xf4e357(0xd72)]=_0xf4e357(0xbb6);allProjects[_0xf4e357(0x2ee)]===0x0?(_0x566993[_0xf4e357(0xc5e)]=_0xf4e357(0xa90),_0x19b939[_0xf4e357(0x87b)]=!![]):(_0x566993[_0xf4e357(0xc5e)]=allProjects[_0xf4e357(0x1fa)](_0x38baad=>'<option\x20value=\x22'+_0x38baad['id']+'\x22>'+_0x38baad['projectName']+_0xf4e357(0x2ea))[_0xf4e357(0x5fa)](''),_0x19b939['disabled']=![]);_0x373830[_0xf4e357(0x565)][_0xf4e357(0xc9d)]('hidden');const _0x5a2024=()=>{const _0x5826c4=_0xf4e357,_0x51c53d=_0x566993[_0x5826c4(0x998)];_0x51c53d?(currentProjectId=_0x51c53d,_0x373830['classList'][_0x5826c4(0x21a)](_0x5826c4(0x76a)),saveQuiz(),_0x4e8601[_0x5826c4(0xd72)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x19b939[_0x5826c4(0xd72)]='ย้าย',_0x19b939[_0x5826c4(0xac0)](_0x5826c4(0x4f9),_0x5a2024),_0x19b939[_0x5826c4(0xa02)]('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x19b939['removeEventListener'](_0xf4e357(0x4f9),confirmMoveQuiz),_0x19b939[_0xf4e357(0xa02)](_0xf4e357(0x4f9),_0x5a2024);}function copyTextToClipboard(_0x4429e2,_0xe2e933){const _0x31952b=_0x354eeb,_0x37e16d=document[_0x31952b(0x1ea)](_0x31952b(0xc48));_0x37e16d[_0x31952b(0x998)]=_0x4429e2,_0x37e16d[_0x31952b(0x1ff)][_0x31952b(0x42a)]=_0x31952b(0x778),_0x37e16d[_0x31952b(0x1ff)][_0x31952b(0x361)]='0',document['body'][_0x31952b(0x2dd)](_0x37e16d),_0x37e16d['focus'](),_0x37e16d[_0x31952b(0x320)]();try{const _0x99df4c=document[_0x31952b(0x6d2)](_0x31952b(0xcd1));showMessage(_0x99df4c?_0xe2e933:_0x31952b(0xc22));}catch(_0x23e724){showMessage(_0x31952b(0xc22)),console[_0x31952b(0x894)](_0x31952b(0x7b7),_0x23e724);}document[_0x31952b(0xdd4)]['removeChild'](_0x37e16d);}function listenForProjectQuizzes(_0x5bbf85){const _0x5ccab3=_0x354eeb,_0xf838fd=collection(db,_0x5ccab3(0x53f)+appId+_0x5ccab3(0x450)),_0x44bb3b=query(_0xf838fd,where('projectId','==',_0x5bbf85));unsubscribeQuizzesListener=onSnapshot(_0x44bb3b,async _0x3312d9=>{const _0x23bd96=_0x5ccab3;allQuizzes=_0x3312d9['docs'][_0x23bd96(0x1fa)](_0x969d75=>({'id':_0x969d75['id'],..._0x969d75[_0x23bd96(0xbb9)]()})),renderQuizzes();},_0x52e4ef=>{const _0x3b5aba=_0x5ccab3;console[_0x3b5aba(0x894)](_0x3b5aba(0x878),_0x52e4ef),document['getElementById'](_0x3b5aba(0xb8f))[_0x3b5aba(0xc5e)]=_0x3b5aba(0xa09);});}async function renderQuizzes(){const _0x3d100d=_0x354eeb,_0x2240dc=document[_0x3d100d(0x64e)](_0x3d100d(0xb8f)),_0xbd51d3=document['getElementById'](_0x3d100d(0xafe))[_0x3d100d(0x998)]['toLowerCase']();let _0x40340f;currentProjectId===_0x3d100d(0x2d4)?_0x40340f=starredQuizzes:_0x40340f=allQuizzes;let _0x123c19=_0x40340f['filter'](_0x4f4f55=>_0x4f4f55['topic']['toLowerCase']()['includes'](_0xbd51d3));_0x123c19[_0x3d100d(0x705)]((_0x3a57aa,_0x21d83a)=>new Date(_0x21d83a[_0x3d100d(0x2c8)])-new Date(_0x3a57aa[_0x3d100d(0x2c8)]));if(_0x123c19['length']===0x0){_0x2240dc[_0x3d100d(0xc5e)]=_0x3d100d(0x709);return;}const _0x4a1dc0={},_0x5177d8=_0x123c19['map'](async _0x3e9cc9=>{const _0x2123e5=_0x3d100d,_0x1c99c8=collection(db,_0x2123e5(0x53f)+appId+_0x2123e5(0x253)+_0x3e9cc9['id']+_0x2123e5(0x6f1)),_0x1e8ffa=await getDocs(_0x1c99c8);_0x4a1dc0[_0x3e9cc9['id']]=_0x1e8ffa[_0x2123e5(0x20f)];});await Promise[_0x3d100d(0x885)](_0x5177d8);let _0x583b71='';_0x123c19['forEach'](_0x14fddf=>{const _0x4dff83=_0x3d100d,_0x27e167=_0x4a1dc0[_0x14fddf['id']]||0x0,_0x16dec4=_0x14fddf[_0x4dff83(0xa85)]||'active',_0x30357b=_0x14fddf[_0x4dff83(0x992)]?.[_0x4dff83(0x486)]||_0x4dff83(0xd78);let _0x212e0c='',_0x44f59d='';const _0x3d4804=new Date();let _0xfd4d84=_0x16dec4;if(_0x16dec4===_0x4dff83(0xa0e)){const _0x4cddef=_0x14fddf['startTime']?new Date(_0x14fddf[_0x4dff83(0x646)]):null,_0x52f321=_0x14fddf[_0x4dff83(0x4bc)]?new Date(_0x14fddf[_0x4dff83(0x4bc)]):null;if(_0x52f321&&_0x3d4804>_0x52f321)_0xfd4d84='inactive';else _0x4cddef&&_0x3d4804<_0x4cddef?_0xfd4d84=_0x4dff83(0x98e):_0xfd4d84=_0x4dff83(0x385);}switch(_0xfd4d84){case _0x4dff83(0xaac):_0x212e0c=_0x4dff83(0xa41),_0x44f59d='text-red-700\x20bg-red-100';break;case _0x4dff83(0x98e):_0x212e0c='รอเปิด',_0x44f59d=_0x4dff83(0x63d);break;case _0x4dff83(0x385):_0x212e0c=_0x30357b!==_0x4dff83(0xd78)?'เปิด\x20(จับเวลา)':_0x4dff83(0xd08),_0x44f59d=_0x4dff83(0x5fc);break;default:_0x212e0c='ตั้งเวลา\x20(เปิด)',_0x44f59d='text-green-700\x20bg-green-100';break;}let _0x449d99='';const _0x405f94={'day':_0x4dff83(0xb34),'month':'2-digit','year':_0x4dff83(0x697),'hour':_0x4dff83(0xb34),'minute':_0x4dff83(0xb34),'hour12':![]};if(_0x16dec4===_0x4dff83(0xa0e)){if(_0x14fddf[_0x4dff83(0x646)])_0x449d99+=_0x4dff83(0xb77)+new Date(_0x14fddf[_0x4dff83(0x646)])[_0x4dff83(0x473)](_0x4dff83(0xafd),_0x405f94)+_0x4dff83(0x20e);if(_0x14fddf['endTime'])_0x449d99+=_0x4dff83(0x5c3)+new Date(_0x14fddf['endTime'])[_0x4dff83(0x473)]('th-TH',_0x405f94)+_0x4dff83(0x20e);}let _0x28e272='';if(_0x14fddf['pairedQuizId']){const _0x12d68b=allQuizzes['find'](_0x5f131e=>_0x5f131e['id']===_0x14fddf[_0x4dff83(0x506)]);if(_0x12d68b){let _0x33ce90,_0x2813e6;new Date(_0x14fddf['createdAt'])<new Date(_0x12d68b[_0x4dff83(0x2c8)])?(_0x33ce90=_0x14fddf['id'],_0x2813e6=_0x12d68b['id']):(_0x33ce90=_0x12d68b['id'],_0x2813e6=_0x14fddf['id']),_0x28e272+=_0x4dff83(0x308)+_0x2813e6+_0x4dff83(0x42d)+_0x33ce90+_0x4dff83(0xb78);}}else _0x14fddf[_0x4dff83(0x830)]===_0x4dff83(0x40c)&&(_0x28e272+=_0x4dff83(0x440)+_0x14fddf['id']+_0x4dff83(0x3b1));if(_0x14fddf['quizMode']===_0x4dff83(0x40c)&&_0x27e167>0x0)_0x28e272+=_0x4dff83(0x440)+_0x14fddf['id']+_0x4dff83(0xc6e);else!_0x14fddf[_0x4dff83(0x506)]&&_0x14fddf[_0x4dff83(0x830)]!==_0x4dff83(0x40c)&&_0x27e167>0x0&&(_0x28e272+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14fddf['id']+_0x4dff83(0x7d2));let _0xd2344d='';_0x14fddf[_0x4dff83(0x506)]?_0xd2344d=_0x4dff83(0x7a0)+_0x14fddf['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0xd2344d=_0x4dff83(0x7a0)+_0x14fddf['id']+_0x4dff83(0x610),_0x583b71+=_0x4dff83(0xb4c)+_0x14fddf['id']+_0x4dff83(0x23a)+_0x14fddf[_0x4dff83(0xdb7)]+_0x4dff83(0x342)+_0x14fddf[_0x4dff83(0xc42)][_0x4dff83(0x2ee)]+_0x4dff83(0xbba)+new Date(_0x14fddf[_0x4dff83(0x2c8)])[_0x4dff83(0x473)](_0x4dff83(0xafd))+_0x4dff83(0xbc5)+_0x27e167+_0x4dff83(0x760)+_0x449d99+_0x4dff83(0xbab)+_0x44f59d+'\x22>'+_0x212e0c+_0x4dff83(0xb05)+_0x14fddf['id']+_0x4dff83(0x4d9)+_0x14fddf['id']+_0x4dff83(0xd86)+(_0x14fddf[_0x4dff83(0x4ad)]?'fas\x20fa-star\x20text-yellow-500':_0x4dff83(0x1e9))+_0x4dff83(0x8de)+_0x28e272+_0x4dff83(0x65f)+_0x14fddf['id']+_0x4dff83(0xbbc)+_0x14fddf['id']+_0x4dff83(0x59e)+_0x14fddf['id']+_0x4dff83(0x90b)+_0x14fddf['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14fddf['id']+_0x4dff83(0xce5)+_0x14fddf['id']+_0x4dff83(0x4a7)+_0x14fddf['id']+'\x22\x20data-topic=\x22'+_0x14fddf[_0x4dff83(0xdb7)]+_0x4dff83(0x843)+_0x14fddf['id']+_0x4dff83(0x41a)+_0x14fddf['id']+_0x4dff83(0x7b4)+_0xd2344d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14fddf['id']+_0x4dff83(0x2bc)+_0x14fddf['id']+_0x4dff83(0x351)+_0x14fddf['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14fddf['id']+_0x4dff83(0x441)+_0x14fddf['id']+_0x4dff83(0xa68)+_0x14fddf['id']+_0x4dff83(0xc85)+_0x14fddf['id']+_0x4dff83(0x328)+_0x14fddf['id']+_0x4dff83(0x3b2)+_0x14fddf[_0x4dff83(0xdb7)]+_0x4dff83(0xdd5)+_0x14fddf['id']+_0x4dff83(0x92e);}),_0x2240dc[_0x3d100d(0xc5e)]=_0x583b71,document['querySelectorAll'](_0x3d100d(0x231))[_0x3d100d(0x37d)](_0x59ddc6=>{const _0x52a3bc=_0x3d100d;_0x59ddc6[_0x52a3bc(0xa02)]('click',()=>{const _0x329638=_0x52a3bc,_0x4dc83a=_0x59ddc6[_0x329638(0x524)]['quizId'];showQuizDetailView(_0x4dc83a);});});}async function handleUnpairQuiz(_0xd1b10e){const _0x2be715=_0x354eeb,_0x4208c4=allQuizzes[_0x2be715(0x52f)](_0x2ec8c7=>_0x2ec8c7['id']===_0xd1b10e);if(!_0x4208c4||!_0x4208c4[_0x2be715(0x506)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x2be715(0x5b5),async()=>{const _0xa07127=_0x2be715;try{const _0x40498b=doc(db,'artifacts/'+appId+_0xa07127(0x450),_0xd1b10e),_0x34f9ff=doc(db,_0xa07127(0x53f)+appId+_0xa07127(0x450),_0x4208c4['pairedQuizId']),_0xbdc487=writeBatch(db);_0xbdc487[_0xa07127(0xb14)](_0x40498b,{'pairedQuizId':null}),_0xbdc487[_0xa07127(0xb14)](_0x34f9ff,{'pairedQuizId':null}),await _0xbdc487[_0xa07127(0xaa0)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x2a717f){console[_0xa07127(0x894)](_0xa07127(0xd24),_0x2a717f),showMessage(_0xa07127(0xadb));}});}function formatAndPrintLessonPlan(_0x2d21f6,_0x170afd){const _0x397d03=_0x354eeb,_0x2c542a=window[_0x397d03(0x5cc)]('','_blank'),_0x5b28e8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x170afd[_0x397d03(0xdb7)]+_0x397d03(0xaa1)+_0x170afd[_0x397d03(0xdb7)]+_0x397d03(0xd69)+_0x2d21f6[_0x397d03(0xb69)][_0x397d03(0x1fa)](_0x2d0b16=>_0x397d03(0x85d)+_0x2d0b16+_0x397d03(0xa17))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x2d21f6[_0x397d03(0x62d)]+_0x397d03(0x722)+_0x2d21f6['practiceProblems']['map'](_0x4c1437=>_0x397d03(0x225)+_0x4c1437[_0x397d03(0xdae)]+_0x397d03(0x9bb)+_0x4c1437[_0x397d03(0xcfb)]+_0x397d03(0x6b0))[_0x397d03(0x5fa)]('')+_0x397d03(0x446);_0x2c542a['document'][_0x397d03(0xd07)](_0x5b28e8),_0x2c542a[_0x397d03(0x947)][_0x397d03(0x901)](),_0x2c542a[_0x397d03(0x503)]=function(){setTimeout(()=>{_0x2c542a['print']();},0x3e8);};}async function handleAiFixFormula(_0x1223ba){const _0x466d49=_0x354eeb,_0x1ab7ef=document[_0x466d49(0x8b9)](_0x466d49(0x93c)+_0x1223ba+'\x22]');if(!_0x1ab7ef)return;const _0x141398=_0x1ab7ef[_0x466d49(0x524)][_0x466d49(0x76d)],_0x44a3be=_0x1ab7ef['querySelector'](_0x466d49(0x6f9));let _0x3c2163={'question':_0x1ab7ef['querySelector'](_0x466d49(0xc48))[_0x466d49(0x998)]};switch(_0x141398){case _0x466d49(0xda2):_0x3c2163['options']=Array[_0x466d49(0x941)](_0x1ab7ef['querySelectorAll'](_0x466d49(0xd8e)))[_0x466d49(0x1fa)](_0xcd5af9=>_0xcd5af9['value']);break;case'short_answer':_0x3c2163[_0x466d49(0xddb)]=_0x1ab7ef[_0x466d49(0x8b9)]('.ideal-answer-input')[_0x466d49(0x998)];break;case _0x466d49(0xc67):_0x3c2163[_0x466d49(0x73a)]=_0x1ab7ef[_0x466d49(0x8b9)](_0x466d49(0x7e1))[_0x466d49(0x998)];break;}_0x44a3be['innerHTML']=_0x466d49(0xb4b),_0x44a3be[_0x466d49(0x87b)]=!![];try{const _0x131195=_0x466d49(0x721)+JSON[_0x466d49(0xb38)](_0x3c2163)+_0x466d49(0xbe4),_0x168c3b={'type':'OBJECT','properties':{'fixedData':{'type':_0x466d49(0x627),'properties':{'question':{'type':_0x466d49(0x921)},'options':{'type':_0x466d49(0x4aa),'items':{'type':_0x466d49(0x921)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x466d49(0x921)}},'required':['question']}},'required':['fixedData']},_0x327a77=await callAnalysisApi(_0x131195,_0x168c3b);if(_0x327a77&&_0x327a77['fixedData']){const _0x20bfc9=_0x327a77['fixedData'];_0x1ab7ef[_0x466d49(0x8b9)](_0x466d49(0xc48))['value']=_0x20bfc9['question']||_0x3c2163['question'];switch(_0x141398){case _0x466d49(0xda2):_0x20bfc9[_0x466d49(0x3e0)]&&_0x20bfc9[_0x466d49(0x3e0)][_0x466d49(0x2ee)]>0x0&&_0x1ab7ef[_0x466d49(0x72d)](_0x466d49(0xd8e))['forEach']((_0x507de4,_0x46f171)=>{const _0x1c43de=_0x466d49;_0x507de4[_0x1c43de(0x998)]=_0x20bfc9['options'][_0x46f171]||_0x3c2163['options'][_0x46f171];});break;case _0x466d49(0x6bd):_0x1ab7ef[_0x466d49(0x8b9)](_0x466d49(0xd46))[_0x466d49(0x998)]=_0x20bfc9[_0x466d49(0xddb)]||_0x3c2163['idealAnswer'];break;case _0x466d49(0xc67):_0x1ab7ef[_0x466d49(0x8b9)](_0x466d49(0x7e1))[_0x466d49(0x998)]=_0x20bfc9[_0x466d49(0x73a)]||_0x3c2163['correctResponse'];break;}if(_0x3c2163[_0x466d49(0xdae)]!==_0x20bfc9[_0x466d49(0xdae)])try{const _0x3b91c4=collection(db,_0x466d49(0x53f)+appId+_0x466d49(0xa43));await addDoc(_0x3b91c4,{'broken':_0x3c2163['question'],'fixed':_0x20bfc9[_0x466d49(0xdae)],'createdAt':serverTimestamp()});}catch(_0x1429e7){console['error'](_0x466d49(0x6cb),_0x1429e7);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x466d49(0xd3b));}catch(_0x1cd7e8){console[_0x466d49(0x894)](_0x466d49(0xc3c),_0x1cd7e8),showMessage(_0x466d49(0x6d7));}finally{_0x44a3be[_0x466d49(0xc5e)]=_0x466d49(0x634),_0x44a3be[_0x466d49(0x87b)]=![];}}async function handleGenerateLessonPlan(_0xce653b){const _0x1d9ab2=_0x354eeb;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x4848ba=doc(db,_0x1d9ab2(0x53f)+appId+_0x1d9ab2(0x450),_0xce653b),_0x3bd903=await getDoc(_0x4848ba);if(!_0x3bd903['exists']())throw new Error(_0x1d9ab2(0xccb));const _0x6af987={'id':_0xce653b,..._0x3bd903[_0x1d9ab2(0xbb9)]()},_0x279a58=collection(db,_0x1d9ab2(0x53f)+appId+_0x1d9ab2(0x450),_0xce653b,'submissions'),_0x437475=await getDocs(_0x279a58),_0x27b876=_0x437475['docs'][_0x1d9ab2(0x1fa)](_0x4709e9=>_0x4709e9[_0x1d9ab2(0xbb9)]());if(_0x27b876['length']===0x0)throw new Error(_0x1d9ab2(0xb6d));const _0x2d1e3a=calculateItemAnalysis(_0x6af987,_0x27b876)[_0x1d9ab2(0x26b)],_0x554888=calculateDistractorAnalysis(_0x6af987,_0x27b876),_0x26b135=_0x271da4=>{const _0x2a905f=_0x1d9ab2;if(!_0x271da4)return'';return _0x271da4[_0x2a905f(0x683)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x2cfb7c=_0x1d9ab2(0x355);_0x6af987[_0x1d9ab2(0xc42)][_0x1d9ab2(0x37d)]((_0x4b2f3e,_0x48e44a)=>{const _0x14b6d2=_0x1d9ab2,_0xdc60a7=_0x2d1e3a[_0x48e44a]?.['p']['toFixed'](0x2)||_0x14b6d2(0xb39),_0x18a765=_0x2d1e3a[_0x48e44a]?.['r'][_0x14b6d2(0xc82)](0x2)||_0x14b6d2(0xb39),_0x45a0d5=_0x26b135(_0x4b2f3e[_0x14b6d2(0x9f4)]||_0x4b2f3e[_0x14b6d2(0xc59)]);_0x2cfb7c+='-\x20ข้อ\x20'+(_0x48e44a+0x1)+_0x14b6d2(0xd61)+_0xdc60a7+_0x14b6d2(0x64c)+_0x18a765+_0x14b6d2(0x653)+_0x45a0d5+'\x5cn';if(_0x4b2f3e[_0x14b6d2(0x4fd)]===_0x14b6d2(0xda2)&&_0x554888[_0x48e44a]){const _0x245075=_0x554888[_0x48e44a],_0x433ac3=Object[_0x14b6d2(0x203)](_0x245075)[_0x14b6d2(0xdc7)](_0x4508a7=>parseInt(_0x4508a7)!==_0x4b2f3e[_0x14b6d2(0x5a0)])[_0x14b6d2(0x705)]((_0x5dcdff,_0x560f29)=>_0x245075[_0x560f29][_0x14b6d2(0x58c)]-_0x245075[_0x5dcdff]['total'])[0x0];if(_0x433ac3&&_0x245075[_0x433ac3][_0x14b6d2(0x58c)]>0x0){const _0x512f41=_0x26b135(_0x245075[_0x433ac3][_0x14b6d2(0x4c3)]);_0x2cfb7c+=_0x14b6d2(0x5fe)+_0x512f41+_0x14b6d2(0x7c8);}}});const _0x5c8dfb=_0x1d9ab2(0x9e5)+_0x6af987[_0x1d9ab2(0xdb7)]+_0x1d9ab2(0x902)+_0x2cfb7c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x51289d={'type':_0x1d9ab2(0x627),'properties':{'learningGaps':{'type':_0x1d9ab2(0x4aa),'items':{'type':_0x1d9ab2(0x921)}},'teachingContent':{'type':_0x1d9ab2(0x921)},'practiceProblems':{'type':_0x1d9ab2(0x4aa),'items':{'type':'OBJECT','properties':{'question':{'type':_0x1d9ab2(0x921)},'solution':{'type':_0x1d9ab2(0x921)}}}}},'required':['learningGaps','teachingContent',_0x1d9ab2(0x4c8)]},_0x4cf02e=await callAnalysisApi(_0x5c8dfb,_0x51289d);await updateDoc(_0x4848ba,{'lessonPlan':_0x4cf02e});const _0x1f84fc=_0x1d9ab2(0xcc2)+_0x6af987['topic']+_0x1d9ab2(0xabf)+_0x4cf02e['learningGaps'][_0x1d9ab2(0x1fa)](_0x1c3dcc=>_0x1d9ab2(0x85d)+_0x1c3dcc+'</li>')[_0x1d9ab2(0x5fa)]('')+_0x1d9ab2(0x7b1)+_0x4cf02e[_0x1d9ab2(0x62d)]+_0x1d9ab2(0x5b3)+_0x4cf02e[_0x1d9ab2(0x4c8)][_0x1d9ab2(0x1fa)](_0x2f8c03=>_0x1d9ab2(0xccd)+_0x2f8c03[_0x1d9ab2(0xdae)]+_0x1d9ab2(0x476)+_0x2f8c03[_0x1d9ab2(0xcfb)]+_0x1d9ab2(0x4a3))[_0x1d9ab2(0x5fa)]('')+_0x1d9ab2(0xb1d);document[_0x1d9ab2(0x64e)](_0x1d9ab2(0x2f1))[_0x1d9ab2(0xd72)]=_0x1d9ab2(0x1f3)+_0x6af987[_0x1d9ab2(0xdb7)],document[_0x1d9ab2(0x64e)]('lesson-plan-content')['innerHTML']=_0x1f84fc,document['getElementById']('lesson-plan-modal')[_0x1d9ab2(0x565)][_0x1d9ab2(0xc9d)]('hidden');if(window[_0x1d9ab2(0x8cc)])MathJax[_0x1d9ab2(0xacc)]();messageModal[_0x1d9ab2(0x565)][_0x1d9ab2(0x21a)]('hidden');}catch(_0x2b1cee){console[_0x1d9ab2(0x894)](_0x1d9ab2(0xa2f),_0x2b1cee),showMessage(_0x1d9ab2(0x330)+_0x2b1cee[_0x1d9ab2(0x5b6)]);}}async function handleDuplicateQuiz(_0x2f21a8){const _0xac3e86=_0x354eeb;try{const _0x54b02e=doc(db,_0xac3e86(0x53f)+appId+_0xac3e86(0x450),_0x2f21a8),_0x26e3cc=await getDoc(_0x54b02e);if(_0x26e3cc['exists']()){const _0x3b169c=_0x26e3cc[_0xac3e86(0xbb9)]();let _0x4a1721='',_0x232ce8=_0xac3e86(0x86e),_0x2e2364=null;if(_0x3b169c[_0xac3e86(0x830)]===_0xac3e86(0x40c)){let _0x42f144=_0x3b169c[_0xac3e86(0xdb7)]['replace'](_0xac3e86(0x859),'')[_0xac3e86(0xdd7)]();_0x4a1721=_0xac3e86(0x658)+_0x42f144,_0x232ce8=_0xac3e86(0x739),_0x2e2364=_0x2f21a8;}else _0x4a1721='(คัดลอก)\x20'+_0x3b169c[_0xac3e86(0xdb7)];const _0x58089b={..._0x3b169c,'topic':_0x4a1721,'createdAt':new Date()['toISOString'](),'quizMode':_0x232ce8,'pairedQuizId':_0x2e2364};let _0x1f8e00;while(!![]){_0x1f8e00=Math['floor'](0x3e8+Math[_0xac3e86(0xb7b)]()*0x2328)[_0xac3e86(0x3ea)]();const _0x22e1e1=await getDoc(doc(db,_0xac3e86(0x53f)+appId+_0xac3e86(0x450),_0x1f8e00));if(!_0x22e1e1[_0xac3e86(0x2c9)]())break;}const _0x167484=doc(db,_0xac3e86(0x53f)+appId+_0xac3e86(0x450),_0x1f8e00);await setDoc(_0x167484,_0x58089b),_0x58089b[_0xac3e86(0x830)]==='post-test'&&await updateDoc(_0x54b02e,{'pairedQuizId':_0x1f8e00}),showMessage(_0xac3e86(0xace));}else throw new Error(_0xac3e86(0x9ca));}catch(_0x2b0fee){console['error'](_0xac3e86(0x30c),_0x2b0fee),showMessage(_0xac3e86(0x926));}}async function handleDeleteQuiz(_0x5278cc,_0x54b326=!![]){const _0x2b6401=_0x354eeb;try{const _0x5a54cd=writeBatch(db),_0x1e352e=collection(db,_0x2b6401(0x53f)+appId+_0x2b6401(0x253)+_0x5278cc+_0x2b6401(0x6f1)),_0x3fd6c7=await getDocs(_0x1e352e);_0x3fd6c7['forEach'](_0x24a776=>{const _0x1d4133=_0x2b6401;_0x5a54cd[_0x1d4133(0xd2c)](doc(_0x1e352e,_0x24a776['id']));});const _0x595307=doc(db,_0x2b6401(0x53f)+appId+_0x2b6401(0x450),_0x5278cc);_0x5a54cd[_0x2b6401(0xd2c)](_0x595307),await _0x5a54cd['commit']();try{console[_0x2b6401(0x4b0)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x5278cc+_0x2b6401(0x79c));const _0x252148=collection(db,_0x2b6401(0x53f)+appId+_0x2b6401(0x27d)),_0x562852=await getDocs(_0x252148),_0x7109fa=[];_0x562852['forEach'](_0x105c87=>{const _0x1507b0=_0x2b6401,_0x2d48ef=_0x105c87[_0x1507b0(0xbb9)](),_0x35ad6f=_0x2d48ef[_0x1507b0(0x6ae)]||{};let _0x16e645=![];for(const _0x2d857a in _0x35ad6f){const _0x56aa94=_0x35ad6f[_0x2d857a];if(_0x56aa94['linkedQuizIds']&&_0x56aa94[_0x1507b0(0x657)][_0x1507b0(0xcc5)](_0x5278cc)){_0x16e645=!![];const _0x21eb99=doc(db,_0x1507b0(0x53f)+appId+_0x1507b0(0x27d),_0x105c87['id']),_0x3e9378=updateDoc(_0x21eb99,{[_0x1507b0(0x5df)+_0x2d857a+'.linkedQuizIds']:arrayRemove(_0x5278cc)});_0x7109fa['push'](_0x3e9378);}}}),_0x7109fa['length']>0x0&&(await Promise[_0x2b6401(0x885)](_0x7109fa),console[_0x2b6401(0x4b0)](_0x2b6401(0xa6a)+_0x7109fa[_0x2b6401(0x2ee)]+_0x2b6401(0x25c)+_0x5278cc+'.'));}catch(_0xb9ccb8){console[_0x2b6401(0x894)](_0x2b6401(0x7e7),_0xb9ccb8);}_0x54b326&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x27bd9a){console[_0x2b6401(0x894)](_0x2b6401(0x481),_0x27bd9a),_0x54b326&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x353efc){const _0x1a27eb=_0x354eeb;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x317522=doc(db,_0x1a27eb(0x53f)+appId+_0x1a27eb(0x450),_0x353efc),_0x32f966=await getDoc(_0x317522);if(!_0x32f966[_0x1a27eb(0x2c9)]()){showMessage(_0x1a27eb(0xccb));return;}const _0x5add4c={'id':_0x32f966['id'],..._0x32f966[_0x1a27eb(0xbb9)]()};currentQuizData=_0x5add4c;const _0x3d726f=doc(db,_0x1a27eb(0x53f)+appId+_0x1a27eb(0x32d),_0x5add4c['projectId']),_0x4639be=await getDoc(_0x3d726f);_0x4639be[_0x1a27eb(0x2c9)]()?(currentProjectData=_0x4639be['data'](),currentProjectId=_0x5add4c['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x5add4c[_0x1a27eb(0xd27)]);document['getElementById']('results-quiz-title')[_0x1a27eb(0xd72)]=_0x5add4c[_0x1a27eb(0xdb7)],document['getElementById'](_0x1a27eb(0xcc6))[_0x1a27eb(0xd72)]=_0x353efc;const _0x460abf=collection(db,'artifacts/'+appId+_0x1a27eb(0x450),_0x353efc,_0x1a27eb(0x9c0));unsubscribeSubmissionsListener=onSnapshot(_0x460abf,_0x411feb=>{const _0x1c03cb=_0x1a27eb,_0x2d2d23=_0x411feb[_0x1c03cb(0x2e6)]['map'](_0x5b7fb1=>({'id':_0x5b7fb1['id'],..._0x5b7fb1[_0x1c03cb(0xbb9)]()}));currentSubmissions=_0x2d2d23;const _0x407d74=_0x2d2d23[_0x1c03cb(0xdc7)](_0xa98915=>_0xa98915[_0x1c03cb(0xc70)]&&_0xa98915[_0x1c03cb(0xc70)][_0x1c03cb(0x2ee)]>0x0);renderBehaviorLog(_0x2d2d23),renderAnswerGrid(currentProjectData['students'],_0x407d74,_0x5add4c),renderAnalytics(_0x5add4c,_0x407d74),renderQuizResultsTable(currentProjectData[_0x1c03cb(0x4c1)],_0x2d2d23,_0x5add4c),renderQuizLeaderboard(_0x407d74,_0x5add4c,_0x1c03cb(0x929));}),showView(_0x1a27eb(0xa6b));}catch(_0x43bbc9){console[_0x1a27eb(0x894)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x43bbc9),showMessage(_0x1a27eb(0x5c6));}}function renderAnswerGrid(_0x598bf5,_0x4ad4f2,_0x3cdc15){const _0xe1ce87=_0x354eeb,_0x584c89=document[_0xe1ce87(0x64e)](_0xe1ce87(0xb58));if(!_0x584c89)return;if(!_0x598bf5||_0x598bf5[_0xe1ce87(0x2ee)]===0x0){_0x584c89[_0xe1ce87(0xc5e)]=_0xe1ce87(0x40d);return;}const _0x2308d4=_0x3cdc15[_0xe1ce87(0xc42)],_0x55d62c=_0x4ad4f2[_0xe1ce87(0xb6c)]((_0x2917f4,_0x30c930)=>{const _0x49682a=_0xe1ce87;return _0x2917f4[_0x30c930[_0x49682a(0xd48)]]=_0x30c930,_0x2917f4;},{}),_0x4eb729=_0x8e8a0a=>String[_0xe1ce87(0x3e6)](0x41+_0x8e8a0a),_0x3bbed0=_0x5b914e=>{const _0x5e8c7a=_0xe1ce87,_0x5906d0=_0x5b914e[_0x5e8c7a(0x4fd)]||_0x3cdc15[_0x5e8c7a(0x6a2)];switch(_0x5906d0){case _0x5e8c7a(0xda2):return _0x5b914e[_0x5e8c7a(0x3e0)]&&_0x5b914e[_0x5e8c7a(0x3e0)][_0x5e8c7a(0x2ee)]>_0x5b914e[_0x5e8c7a(0x5a0)]?_0x4eb729(_0x5b914e[_0x5e8c7a(0x5a0)]):'-';case _0x5e8c7a(0x82f):const _0x5b8852=_0x5b914e[_0x5e8c7a(0x7e0)]===!![]||String(_0x5b914e[_0x5e8c7a(0x7e0)])[_0x5e8c7a(0x468)]()===_0x5e8c7a(0x6b4);return _0x5b8852?_0x5e8c7a(0xb6f):'ไม่ใช่';case _0x5e8c7a(0xc67):return _0x5b914e['correctResponse']||'-';case _0x5e8c7a(0x6bd):return _0x5e8c7a(0x5b0);default:return'-';}},_0x555896=(_0x591147,_0x11564b)=>{const _0x36eadd=_0xe1ce87;if(_0x11564b[_0x36eadd(0x6a5)]===null||_0x11564b['answer']===undefined)return'-';const _0x2e95e2=_0x591147[_0x36eadd(0x4fd)]||_0x3cdc15[_0x36eadd(0x6a2)];switch(_0x2e95e2){case _0x36eadd(0xda2):const _0x5e6f20=_0x591147[_0x36eadd(0x3e0)][_0x36eadd(0x85b)](_0x3d45f5=>_0x3d45f5===_0x11564b['answerText']);return _0x5e6f20!==-0x1?_0x4eb729(_0x5e6f20):_0x11564b[_0x36eadd(0x9a7)]||'-';case _0x36eadd(0x82f):if(_0x11564b[_0x36eadd(0x6a5)]=='0'||_0x11564b[_0x36eadd(0x6a5)]===!![]||_0x11564b[_0x36eadd(0x6a5)]===_0x36eadd(0x6b4))return _0x36eadd(0xb6f);return _0x36eadd(0x94c);default:return _0x11564b[_0x36eadd(0x6a5)];}};let _0x3958ce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2308d4[_0xe1ce87(0x1fa)]((_0x541e3d,_0x2d26cd)=>_0xe1ce87(0xa8d)+(_0x2d26cd+0x1)+'</th>')[_0xe1ce87(0x5fa)]('')+_0xe1ce87(0x23e)+_0x2308d4[_0xe1ce87(0x1fa)](_0x1463cc=>_0xe1ce87(0x729)+_0x3bbed0(_0x1463cc)+_0xe1ce87(0x756))[_0xe1ce87(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x598bf5[_0xe1ce87(0x37d)](_0x4209ec=>{const _0x2405e5=_0xe1ce87;_0x3958ce+=_0x2405e5(0x216),_0x3958ce+=_0x2405e5(0xbff)+_0x4209ec+_0x2405e5(0x756);const _0x27a558=_0x55d62c[_0x4209ec];if(_0x27a558){const _0x4c2747=_0x27a558['attempts'][_0x27a558[_0x2405e5(0xc70)][_0x2405e5(0x2ee)]-0x1];_0x2308d4[_0x2405e5(0x37d)]((_0x124f45,_0x4ac2ed)=>{const _0x2a35c=_0x2405e5,_0x1a1dcc=_0x4c2747['answers'][_0x2a35c(0x52f)](_0x43f4dd=>_0x43f4dd[_0x2a35c(0x4b9)]===_0x124f45['id']);if(_0x1a1dcc){let _0x17565f='';const _0x273985=_0x1a1dcc[_0x2a35c(0x241)]===!![],_0xae63ec=_0x1a1dcc[_0x2a35c(0x693)]===!![]||_0x1a1dcc[_0x2a35c(0x693)]===_0x2a35c(0xb3f);_0xae63ec?_0x17565f=_0x273985?_0x2a35c(0x286):_0x2a35c(0x951):_0x17565f=_0x273985?_0x2a35c(0xb83):_0x2a35c(0x246),_0x3958ce+=_0x2a35c(0xc51)+_0x17565f+'\x22>'+_0x555896(_0x124f45,_0x1a1dcc)+_0x2a35c(0x756);}else _0x3958ce+=_0x2a35c(0xb07);});}else _0x3958ce+=_0x2308d4[_0x2405e5(0x1fa)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')['join']('');_0x3958ce+='</tr>';}),_0x3958ce+='</tbody></table>',_0x584c89['innerHTML']=_0x3958ce;}function renderQuizResultsTable(_0x59c073,_0x319e32,_0x33cba0){const _0x2417b3=_0x354eeb,_0x26fc07=_0x319e32['reduce']((_0x285477,_0x420f95)=>{const _0x4ea48c=_0x421e;return _0x285477[_0x420f95[_0x4ea48c(0xd48)]]=_0x420f95,_0x285477;},{}),_0x56e3d9=document[_0x2417b3(0x8b9)](_0x2417b3(0xbe9));_0x56e3d9&&!_0x56e3d9['innerHTML'][_0x2417b3(0xcc5)](_0x2417b3(0x2aa))&&(_0x56e3d9[_0x2417b3(0xc5e)]+=_0x2417b3(0x34b));const _0x5b4d64=document[_0x2417b3(0x64e)]('quiz-results-table-body');if(!_0x59c073||_0x59c073[_0x2417b3(0x2ee)]===0x0){_0x5b4d64['innerHTML']=_0x2417b3(0xc26);return;}const _0x148a55=_0x33cba0[_0x2417b3(0xaba)]===!![],_0x16c23f=_0x33cba0[_0x2417b3(0x992)]?.[_0x2417b3(0x66b)]??-0x1;let _0x246019='';_0x59c073[_0x2417b3(0x37d)](_0x5bc3c3=>{const _0x8a948d=_0x2417b3,_0x2a2a26=_0x26fc07[_0x5bc3c3];let _0x1eecdc=_0x8a948d(0x401)+(_0x148a55?'bg-amber-100\x20text-amber-800':_0x8a948d(0x5ac))+'\x22>'+(_0x148a55?_0x8a948d(0x415):_0x8a948d(0x69b))+_0x8a948d(0x7b5);if(_0x2a2a26){if(_0x2a2a26[_0x8a948d(0xc70)]&&_0x2a2a26[_0x8a948d(0xc70)]['length']>0x0){let _0x1591a5=_0x148a55?_0x2a2a26['bestScore']===_0x2a2a26[_0x8a948d(0xabd)]:_0x16c23f!==-0x1&&_0x2a2a26[_0x8a948d(0x915)]>=_0x16c23f;const _0x111518=_0x1591a5?'bg-green-100\x20text-green-800':_0x8a948d(0x80e),_0x17c7d6=_0x1591a5?_0x8a948d(0xa66):'ไม่ผ่าน',_0x38456d=_0x8a948d(0x6a7)+_0x111518+'\x22>'+_0x17c7d6+_0x8a948d(0x7b5),_0x3cb86c=_0x8a948d(0x742)+(_0x2a2a26[_0x8a948d(0xc70)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x246019+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5bc3c3+_0x8a948d(0x5a2)+_0x2a2a26[_0x8a948d(0x915)]+'\x20/\x20'+_0x2a2a26[_0x8a948d(0xabd)]+_0x8a948d(0x4cc)+_0x38456d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1eecdc+_0x8a948d(0x482)+_0x2a2a26[_0x8a948d(0x2a1)]+_0x8a948d(0x865)+_0x2a2a26[_0x8a948d(0xabd)]+_0x8a948d(0x782)+_0x2a2a26[_0x8a948d(0x638)]+_0x8a948d(0x865)+_0x2a2a26[_0x8a948d(0xabd)]+_0x8a948d(0x4b5)+(_0x2a2a26[_0x8a948d(0x2f3)]||0x0)+_0x8a948d(0x4cc)+_0x3cb86c+_0x8a948d(0x72b)+new Date(_0x2a2a26['latestSubmittedAt'])[_0x8a948d(0x473)](_0x8a948d(0xafd))+_0x8a948d(0x60f)+_0x5bc3c3+_0x8a948d(0x91a);}else{const _0x5d03ce=_0x8a948d(0x630);_0x246019+=_0x8a948d(0x820)+_0x5bc3c3+_0x8a948d(0x6c7)+_0x1eecdc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d03ce+_0x8a948d(0x72b)+new Date(_0x2a2a26[_0x8a948d(0x3b9)])[_0x8a948d(0x473)](_0x8a948d(0xafd))+_0x8a948d(0x235)+_0x5bc3c3+_0x8a948d(0x91a);}}else{const _0x4bac55=_0x8a948d(0x217);_0x246019+=_0x8a948d(0x60e)+_0x5bc3c3+_0x8a948d(0x8ab)+_0x1eecdc+_0x8a948d(0x89d)+_0x4bac55+_0x8a948d(0x412);}}),_0x5b4d64[_0x2417b3(0xc5e)]=_0x246019;}async function confirmRenameQuiz(){const _0x414a80=_0x354eeb,_0x44219b=document[_0x414a80(0x64e)](_0x414a80(0x21f))[_0x414a80(0x998)][_0x414a80(0xdd7)]();if(!_0x44219b){showMessage(_0x414a80(0x62e));return;}if(!actionTargetId)return;const _0x7a4510=doc(db,_0x414a80(0x53f)+appId+_0x414a80(0x450),actionTargetId);try{await updateDoc(_0x7a4510,{'topic':_0x44219b}),showMessage(_0x414a80(0xd18)),renameQuizModal[_0x414a80(0x565)][_0x414a80(0x21a)](_0x414a80(0x76a)),actionTargetId=null;}catch(_0x16e9f3){console[_0x414a80(0x894)](_0x414a80(0xaf8),_0x16e9f3),showMessage(_0x414a80(0xcbb));}}async function handleMoveQuiz(_0x3fb6fc){const _0x510802=_0x354eeb;actionTargetId=_0x3fb6fc;const _0x4d8013=document[_0x510802(0x64e)]('move-quiz-project-select');_0x4d8013[_0x510802(0xc5e)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x510802(0x565)]['remove'](_0x510802(0x76a));try{const _0x485508=collection(db,_0x510802(0x53f)+appId+_0x510802(0x32d)),_0x49573d=await getDocs(_0x485508),_0x4e0c87=_0x49573d[_0x510802(0x2e6)]['map'](_0x148d51=>({'id':_0x148d51['id'],..._0x148d51[_0x510802(0xbb9)]()})),_0x560a1f=_0x4e0c87[_0x510802(0xdc7)](_0x186765=>_0x186765['id']!==currentProjectId);if(_0x560a1f[_0x510802(0x2ee)]===0x0){_0x4d8013['innerHTML']=_0x510802(0x7d8),document[_0x510802(0x64e)](_0x510802(0xb29))[_0x510802(0x87b)]=!![];return;}_0x4d8013[_0x510802(0xc5e)]=_0x560a1f['map'](_0x11c676=>_0x510802(0x3e8)+_0x11c676['id']+'\x22>'+_0x11c676[_0x510802(0x7dc)]+_0x510802(0x2ea))[_0x510802(0x5fa)](''),document[_0x510802(0x64e)](_0x510802(0xb29))[_0x510802(0x87b)]=![];}catch(_0x4dec70){console[_0x510802(0x894)]('Error\x20fetching\x20projects\x20for\x20move:',_0x4dec70),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x510802(0x565)][_0x510802(0x21a)]('hidden');}}async function confirmMoveQuiz(){const _0x49ffa1=_0x354eeb,_0x4929ba=document['getElementById'](_0x49ffa1(0x72f))[_0x49ffa1(0x998)];if(!_0x4929ba){showMessage(_0x49ffa1(0x9da));return;}if(!actionTargetId)return;const _0x57f341=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x57f341,{'projectId':_0x4929ba}),showMessage(_0x49ffa1(0xb66)),moveQuizModal[_0x49ffa1(0x565)]['add'](_0x49ffa1(0x76a)),actionTargetId=null;}catch(_0x1e8411){console['error'](_0x49ffa1(0x9a0),_0x1e8411),showMessage(_0x49ffa1(0x7bd));}}async function handleQuizSettings(_0x5964a0){const _0x20d5a7=_0x354eeb;actionTargetId=_0x5964a0;const _0x379493=doc(db,_0x20d5a7(0x53f)+appId+'/public/data/quizzes',_0x5964a0);try{const _0x2bef24=await getDoc(_0x379493);if(_0x2bef24[_0x20d5a7(0x2c9)]()){const _0x42d58b=_0x2bef24[_0x20d5a7(0xbb9)](),_0x24ede3=_0x42d58b[_0x20d5a7(0x992)]||{},_0x188cf4=_0x42d58b[_0x20d5a7(0xc42)][_0x20d5a7(0x2ee)];document[_0x20d5a7(0x64e)](_0x20d5a7(0x9fe))[_0x20d5a7(0x998)]=_0x24ede3[_0x20d5a7(0xbb2)]||_0x20d5a7(0xd78),document[_0x20d5a7(0x64e)](_0x20d5a7(0x3bd))['value']=_0x24ede3[_0x20d5a7(0xcec)]||_0x20d5a7(0x754),document[_0x20d5a7(0x64e)](_0x20d5a7(0xae5))[_0x20d5a7(0x998)]=_0x24ede3[_0x20d5a7(0x486)]||'none',document[_0x20d5a7(0x64e)](_0x20d5a7(0xddf))['value']=_0x24ede3[_0x20d5a7(0x68e)]||0xa,document[_0x20d5a7(0x64e)]('modal-passing-score-input')[_0x20d5a7(0x998)]=_0x24ede3[_0x20d5a7(0x66b)]||Math[_0x20d5a7(0x98d)](_0x188cf4/0x2),document[_0x20d5a7(0x64e)](_0x20d5a7(0xa10))[_0x20d5a7(0x62c)]=_0x188cf4,document[_0x20d5a7(0x64e)](_0x20d5a7(0x602))['checked']=_0x24ede3[_0x20d5a7(0xbf1)]||![],document[_0x20d5a7(0x64e)]('modal-loop-until-pass-checkbox')[_0x20d5a7(0x5f7)]=_0x24ede3[_0x20d5a7(0x462)]||![];const _0x6a6b8f=_0x24ede3[_0x20d5a7(0xaa8)]||![];document['getElementById'](_0x20d5a7(0x28e))[_0x20d5a7(0x5f7)]=_0x6a6b8f,document[_0x20d5a7(0x64e)](_0x20d5a7(0xac4))[_0x20d5a7(0x998)]=_0x24ede3[_0x20d5a7(0xb5a)]||_0x20d5a7(0xde0);const _0x5de24c=document['getElementById'](_0x20d5a7(0xbe3));_0x5de24c[_0x20d5a7(0x565)][_0x20d5a7(0xc97)]('hidden',!_0x6a6b8f),document[_0x20d5a7(0x64e)](_0x20d5a7(0xae5))['dispatchEvent'](new Event(_0x20d5a7(0x718))),quizSettingsModal[_0x20d5a7(0x565)]['remove']('hidden');}else showMessage(_0x20d5a7(0xccb));}catch(_0x1fc0a0){console['error'](_0x20d5a7(0x242),_0x1fc0a0),showMessage(_0x20d5a7(0x3c8));}}async function confirmQuizSettings(){const _0x59bcc7=_0x354eeb;if(!actionTargetId)return;const _0x32b20b=doc(db,_0x59bcc7(0x53f)+appId+_0x59bcc7(0x450),actionTargetId),_0x132c36={'shuffle':document[_0x59bcc7(0x64e)](_0x59bcc7(0x9fe))['value'],'resultsDisplay':document['getElementById']('modal-results-display-select')[_0x59bcc7(0x998)],'timerMode':document[_0x59bcc7(0x64e)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x59bcc7(0xddf))[_0x59bcc7(0x998)])||0xa,'passingScore':parseInt(document[_0x59bcc7(0x64e)](_0x59bcc7(0xa10))[_0x59bcc7(0x998)])||0x0,'isAdaptive':document[_0x59bcc7(0x64e)]('modal-adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x59bcc7(0x64e)](_0x59bcc7(0x72e))['checked'],'isConfidenceScoringEnabled':document[_0x59bcc7(0x64e)]('modal-confidence-scoring-checkbox')['checked'],'confidenceMode':document[_0x59bcc7(0x64e)](_0x59bcc7(0xac4))[_0x59bcc7(0x998)]};try{await updateDoc(_0x32b20b,{'settings':_0x132c36}),showMessage(_0x59bcc7(0x2bb)),quizSettingsModal[_0x59bcc7(0x565)][_0x59bcc7(0x21a)]('hidden'),actionTargetId=null;}catch(_0x4d62a4){console['error'](_0x59bcc7(0x645),_0x4d62a4),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x5aa9ea=_0x354eeb;if(!actionTargetId)return;const _0x5083bd=doc(db,_0x5aa9ea(0x53f)+appId+'/public/data/quizzes',actionTargetId),_0x520b81=document['querySelector'](_0x5aa9ea(0xa06));if(!_0x520b81){showMessage(_0x5aa9ea(0x5b1));return;}const _0x1d7394=_0x520b81[_0x5aa9ea(0x998)];let _0x3a2d7b={};if(_0x1d7394===_0x5aa9ea(0x385)||_0x1d7394==='inactive')_0x3a2d7b={'status':_0x1d7394,'startTime':null,'endTime':null};else{if(_0x1d7394==='schedule'){const _0x5ea891=document[_0x5aa9ea(0x64e)]('quiz-start-time')['value'],_0x36c613=document['getElementById'](_0x5aa9ea(0x7f9))[_0x5aa9ea(0x998)];if(!_0x5ea891&&!_0x36c613){showMessage(_0x5aa9ea(0x560));return;}_0x3a2d7b={'status':_0x5aa9ea(0xa0e),'startTime':_0x5ea891?new Date(_0x5ea891)[_0x5aa9ea(0xd4e)]():null,'endTime':_0x36c613?new Date(_0x36c613)[_0x5aa9ea(0xd4e)]():null};}}try{await updateDoc(_0x5083bd,_0x3a2d7b),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x5aa9ea(0x565)]['add'](_0x5aa9ea(0x76a)),actionTargetId=null;}catch(_0xbc6d18){console[_0x5aa9ea(0x894)](_0x5aa9ea(0x635),_0xbc6d18),showMessage(_0x5aa9ea(0x4d2));}}function listenForStudentProfiles(_0xbc5da9){const _0x36321c=_0x354eeb,_0x506bf3=collection(db,_0x36321c(0x53f)+appId+_0x36321c(0x377)+_0xbc5da9+_0x36321c(0x2c7));unsubscribeStudentProfilesListener=onSnapshot(_0x506bf3,_0xaf0d36=>{const _0x14c1f2=_0x36321c,_0x312d93=_0xaf0d36[_0x14c1f2(0x2e6)][_0x14c1f2(0x1fa)](_0x2e54d3=>_0x2e54d3['data']());renderLeaderboard(_0x312d93,'leaderboard-table-body');},_0x4cfb57=>{const _0x28ff8b=_0x36321c;console[_0x28ff8b(0x894)](_0x28ff8b(0x24f),_0x4cfb57),document['getElementById']('leaderboard-table-body')[_0x28ff8b(0xc5e)]=_0x28ff8b(0xbe5);});}function renderLeaderboard(_0x24fc82,_0x4db625){const _0x2129a8=_0x354eeb,_0x540b01=document[_0x2129a8(0x64e)](_0x4db625);if(!_0x24fc82||_0x24fc82[_0x2129a8(0x2ee)]===0x0){_0x540b01[_0x2129a8(0xc5e)]=_0x2129a8(0x918);return;}_0x24fc82[_0x2129a8(0x705)]((_0x346e18,_0x3b2897)=>{const _0x350c2c=_0x2129a8,_0x5c898a=(_0x3b2897[_0x350c2c(0x4ed)]||0x0)-(_0x346e18['totalPoints']||0x0);if(_0x5c898a!==0x0)return _0x5c898a;const _0x29e13a=(_0x3b2897[_0x350c2c(0xba1)]?.['specialist']||0x0)-(_0x346e18[_0x350c2c(0xba1)]?.[_0x350c2c(0x570)]||0x0);if(_0x29e13a!==0x0)return _0x29e13a;const _0x16895c=(_0x3b2897[_0x350c2c(0xba1)]?.['first_try_ace']||0x0)-(_0x346e18['badgesCount']?.[_0x350c2c(0x7d5)]||0x0);if(_0x16895c!==0x0)return _0x16895c;const _0x444e13=(_0x3b2897[_0x350c2c(0xba1)]?.[_0x350c2c(0x88e)]||0x0)-(_0x346e18[_0x350c2c(0xba1)]?.[_0x350c2c(0x88e)]||0x0);if(_0x444e13!==0x0)return _0x444e13;const _0x402b6f=(_0x3b2897[_0x350c2c(0xba1)]?.[_0x350c2c(0x831)]||0x0)-(_0x346e18[_0x350c2c(0xba1)]?.[_0x350c2c(0x831)]||0x0);if(_0x402b6f!==0x0)return _0x402b6f;return _0x346e18['studentName'][_0x350c2c(0x202)](_0x3b2897[_0x350c2c(0xd48)],'th');});let _0x192e65='';_0x24fc82['forEach']((_0x566139,_0x1bdf94)=>{const _0x6dc7f2=_0x2129a8,_0x282eff=_0x1bdf94+0x1,_0xc51005=_0x566139[_0x6dc7f2(0xba1)]||{};let _0x59c3f6='';const _0x5437dc=[_0x6dc7f2(0x570),'perfect_score','first_try_ace',_0x6dc7f2(0x831)];_0x5437dc[_0x6dc7f2(0x37d)](_0x59f00f=>{const _0x2dc181=_0x6dc7f2;if(_0xc51005[_0x59f00f]>0x0){const _0x2ad0ef=Object[_0x2dc181(0xa7b)](BADGES)['find'](_0x3f6879=>_0x3f6879['id']===_0x59f00f);_0x2ad0ef&&(_0x59f00f===_0x2dc181(0x570)?_0x59c3f6+=_0x2dc181(0x632)+_0x2ad0ef[_0x2dc181(0x799)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2ad0ef[_0x2dc181(0x989)]+_0x2dc181(0x53a):_0x59c3f6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2ad0ef[_0x2dc181(0x799)]+'\x20('+_0xc51005[_0x59f00f]+_0x2dc181(0x443)+_0x2ad0ef['icon']+_0x2dc181(0x97b)+_0xc51005[_0x59f00f]+_0x2dc181(0x615));}}),_0x192e65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x282eff+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x566139[_0x6dc7f2(0xd48)]+_0x6dc7f2(0x6df)+(_0x566139['totalPoints']||0x0)+_0x6dc7f2(0x8a8)+(_0x59c3f6||'-')+_0x6dc7f2(0x2e5);}),_0x540b01[_0x2129a8(0xc5e)]=_0x192e65;}function displayLoopScreen(_0x446f57,_0xa47046,_0x1c744){const _0x59037d=_0x354eeb;let _0x28335c='';_0x1c744!=='show_pass_fail_only'&&(_0x28335c=_0x59037d(0x626)+_0x446f57+_0x59037d(0x865)+_0xa47046+_0x59037d(0x3a3));const _0x207f72=_0x59037d(0xd52)+_0x28335c+_0x59037d(0x319);studentResultArea[_0x59037d(0xc5e)]=_0x207f72,studentResultArea[_0x59037d(0x565)][_0x59037d(0xc9d)](_0x59037d(0x76a)),studentQuizArea['classList']['add'](_0x59037d(0x76a)),document[_0x59037d(0x64e)]('retake-quiz-loop-btn')['addEventListener']('click',()=>{const _0x54f8ea=_0x59037d;studentResultArea[_0x54f8ea(0x565)]['add'](_0x54f8ea(0x76a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x1f20e9,_0x31f410,_0x6ad1c4){const _0x205fbc=_0x354eeb,_0x345411=document[_0x205fbc(0x64e)](_0x6ad1c4),_0x58b2bf=_0x6ad1c4===_0x205fbc(0xd58),_0x20a716=_0x31f410[_0x205fbc(0xc42)][_0x205fbc(0x2ee)],_0x4f9fd5=document[_0x205fbc(0x64e)](_0x6ad1c4)['closest']('table');if(_0x4f9fd5&&!_0x58b2bf){const _0xa20ca8=_0x4f9fd5['querySelector'](_0x205fbc(0x47e));_0xa20ca8[_0x205fbc(0xc5e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x1f20e9||_0x1f20e9[_0x205fbc(0x2ee)]===0x0){_0x345411[_0x205fbc(0xc5e)]=_0x205fbc(0xd92)+(_0x58b2bf?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x33ac8f=[..._0x1f20e9];_0x33ac8f[_0x205fbc(0x705)]((_0x4cfdd6,_0x2858c3)=>{const _0x1e9e1c=_0x205fbc;let _0x10480e,_0x2391bc;switch(quizLeaderboardSortBy){case _0x1e9e1c(0xd48):_0x10480e=_0x4cfdd6[_0x1e9e1c(0xd48)]||'',_0x2391bc=_0x2858c3['studentName']||'';return quizLeaderboardSortOrder===_0x1e9e1c(0xb9c)?_0x10480e[_0x1e9e1c(0x202)](_0x2391bc,'th'):_0x2391bc[_0x1e9e1c(0x202)](_0x10480e,'th');case _0x1e9e1c(0x2f3):_0x10480e=_0x4cfdd6['points']||0x0,_0x2391bc=_0x2858c3[_0x1e9e1c(0x2f3)]||0x0;break;case'attempts':_0x10480e=_0x4cfdd6[_0x1e9e1c(0xc70)]?.[_0x1e9e1c(0x2ee)]||0x1,_0x2391bc=_0x2858c3['attempts']?.[_0x1e9e1c(0x2ee)]||0x1;break;case _0x1e9e1c(0x382):_0x10480e=new Date(_0x4cfdd6['latestSubmittedAt']),_0x2391bc=new Date(_0x2858c3[_0x1e9e1c(0x382)]);break;case _0x1e9e1c(0x915):default:_0x10480e=_0x4cfdd6['bestScore'],_0x2391bc=_0x2858c3[_0x1e9e1c(0x915)];break;}if(_0x10480e<_0x2391bc)return quizLeaderboardSortOrder===_0x1e9e1c(0xb9c)?-0x1:0x1;if(_0x10480e>_0x2391bc)return quizLeaderboardSortOrder===_0x1e9e1c(0xb9c)?0x1:-0x1;return 0x0;});const _0x2f6ef3=_0x31f410['isRemedial']===!![],_0x54d9e6=_0x31f410['settings']?.[_0x205fbc(0x66b)]??-0x1;let _0x5574ff='';_0x33ac8f['forEach']((_0x49fe0a,_0x1dd346)=>{const _0x581def=_0x205fbc,_0x2ba09f=_0x1dd346+0x1;let _0x22a794='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x2f6ef3||_0x54d9e6!==-0x1){let _0x58a2ed=_0x2f6ef3?_0x49fe0a[_0x581def(0x915)]===_0x20a716:_0x49fe0a['bestScore']>=_0x54d9e6;const _0x141732=_0x58a2ed?_0x581def(0xd8b):_0x581def(0x80e),_0x71a938=_0x58a2ed?'ผ่าน':_0x581def(0x237);_0x22a794=_0x581def(0x8ca)+_0x141732+'\x22>'+_0x71a938+'</span></td>';}const _0x50e975=_0x49fe0a[_0x581def(0xc70)][_0x49fe0a[_0x581def(0xc70)][_0x581def(0x2ee)]-0x1],_0x7bbf76=(_0x50e975['badges']||[])[_0x581def(0x1fa)](_0xb82dd0=>{const _0x30dc7d=_0x581def,_0x4d02e0=Object[_0x30dc7d(0xa7b)](BADGES)[_0x30dc7d(0x52f)](_0x4b0184=>_0x4b0184['id']===_0xb82dd0);return _0x4d02e0?'<span\x20title=\x22'+_0x4d02e0[_0x30dc7d(0x799)]+'\x22><i\x20class=\x22fas\x20'+_0x4d02e0[_0x30dc7d(0x989)]+_0x30dc7d(0x933):'';})[_0x581def(0x5fa)]('');_0x5574ff+=_0x581def(0xab9)+_0x2ba09f+_0x581def(0x808)+_0x49fe0a[_0x581def(0xd48)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x49fe0a[_0x581def(0x915)]+_0x581def(0x865)+_0x20a716+_0x581def(0x338)+_0x22a794+_0x581def(0x5ce)+(_0x49fe0a['points']||0x0)+_0x581def(0x338)+(_0x58b2bf?'':_0x581def(0x55d)+(_0x49fe0a[_0x581def(0xc70)]?.[_0x581def(0x2ee)]||0x1)+_0x581def(0x756))+_0x581def(0x33b)+(_0x58b2bf?'':_0x581def(0xcb7)+new Date(_0x49fe0a[_0x581def(0x382)])['toLocaleString'](_0x581def(0xafd))+_0x581def(0x756))+_0x581def(0xc93)+(_0x7bbf76||'-')+_0x581def(0xc41);}),_0x345411[_0x205fbc(0xc5e)]=_0x5574ff,_0x4f9fd5&&!_0x58b2bf&&_0x4f9fd5['querySelectorAll'](_0x205fbc(0x495))[_0x205fbc(0x37d)](_0x450947=>{const _0x248b0b=_0x205fbc,_0x53e95a=_0x450947[_0x248b0b(0x8b9)](_0x248b0b(0x642));if(_0x53e95a)_0x53e95a[_0x248b0b(0xc9d)]();_0x450947[_0x248b0b(0x524)][_0x248b0b(0x705)]===quizLeaderboardSortBy&&(_0x450947[_0x248b0b(0xc5e)]+=_0x248b0b(0x61e)+(quizLeaderboardSortOrder===_0x248b0b(0xb9c)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x1ff7cd){const _0xf038e4=_0x354eeb;if(!currentQuizData||!currentQuizData['id']||!_0x1ff7cd){showMessage(_0xf038e4(0xccf));return;}showConfirmation(_0xf038e4(0x7d1)+_0x1ff7cd+_0xf038e4(0x467),async()=>{const _0x19eddd=_0xf038e4,_0x4c322c=currentQuizData['id'],_0xba8caf=doc(db,_0x19eddd(0x53f)+appId+_0x19eddd(0x253)+_0x4c322c+_0x19eddd(0x6f1),_0x1ff7cd);try{await deleteDoc(_0xba8caf),showMessage(_0x19eddd(0xc72)+_0x1ff7cd+_0x19eddd(0x3f0));}catch(_0x3c7f86){console['error'](_0x19eddd(0x67e),_0x3c7f86),showMessage(_0x19eddd(0x254));}});}async function handleLoadQuiz(){const _0x102e5b=_0x354eeb,_0x3ac2b4=document[_0x102e5b(0x64e)](_0x102e5b(0xb71)),_0x438b73=_0x3ac2b4[_0x102e5b(0x998)][_0x102e5b(0xdd7)]();if(!_0x438b73){showMessage(_0x102e5b(0x812));return;}loadQuizBtn[_0x102e5b(0x87b)]=!![],loadQuizBtn['innerHTML']=_0x102e5b(0xa8a);try{const _0x3d1927=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x438b73),_0x2be750=await getDoc(_0x3d1927);if(!_0x2be750[_0x102e5b(0x2c9)]()){showMessage(_0x102e5b(0x5e1));return;}currentQuizData={'id':_0x2be750['id'],..._0x2be750['data']()};const _0x3a3de=currentQuizData['status']||_0x102e5b(0x385),_0x11af13=new Date();if(_0x3a3de==='inactive'){showMessage(_0x102e5b(0x8d7));return;}if(_0x3a3de===_0x102e5b(0xa0e)){const _0x4f0539=currentQuizData['startTime']?new Date(currentQuizData[_0x102e5b(0x646)]):null,_0x593400=currentQuizData['endTime']?new Date(currentQuizData[_0x102e5b(0x4bc)]):null;if(_0x4f0539&&_0x11af13<_0x4f0539){showMessage(_0x102e5b(0x9c9)+_0x4f0539[_0x102e5b(0x473)](_0x102e5b(0xafd),{'hour12':![]}));return;}if(_0x593400&&_0x11af13>_0x593400){showMessage(_0x102e5b(0x429));return;}}const _0x451f3a=currentQuizData['projectId'];currentProjectId=_0x451f3a;const _0x1ac59d=doc(db,_0x102e5b(0x53f)+appId+'/public/data/projects',_0x451f3a),_0x3e5169=await getDoc(_0x1ac59d);if(!_0x3e5169[_0x102e5b(0x2c9)]()){showMessage(_0x102e5b(0x9fa));return;}const _0x481e21=_0x3e5169['data']();currentStudentProjectData=_0x481e21,displayStudentNameSelector(_0x481e21[_0x102e5b(0x4c1)],currentQuizData['topic']);}catch(_0x1c67b0){console[_0x102e5b(0x894)]('Error\x20loading\x20quiz\x20for\x20student:',_0x1c67b0),showMessage(_0x102e5b(0x7ca));}finally{loadQuizBtn[_0x102e5b(0x87b)]=![],loadQuizBtn[_0x102e5b(0xc5e)]=_0x102e5b(0xd11);}}async function handleJoinLiveGame(){const _0x38afe0=_0x354eeb,_0xb7625d=document[_0x38afe0(0x64e)]('game-pin-input'),_0x1c3801=document[_0x38afe0(0x64e)](_0x38afe0(0x4df)),_0x5dd490=document[_0x38afe0(0x64e)](_0x38afe0(0x61b)),_0x395142=_0xb7625d[_0x38afe0(0x998)]['trim'](),_0x5a4098=_0x1c3801[_0x38afe0(0x998)]['trim']();if(!_0x395142||!_0x5a4098){showMessage(_0x38afe0(0x25f));return;}_0x5dd490[_0x38afe0(0x87b)]=!![],_0x5dd490[_0x38afe0(0xc5e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x1f7f16=collection(db,_0x38afe0(0x53f)+appId+_0x38afe0(0xcdb)),_0x46939b=query(_0x1f7f16,where('gamePin','==',_0x395142),where(_0x38afe0(0xa85),'in',['lobby',_0x38afe0(0xdae)])),_0x3dc245=await getDocs(_0x46939b);if(_0x3dc245[_0x38afe0(0x3d9)]){showMessage(_0x38afe0(0xd8c));return;}const _0x454d5d=_0x3dc245[_0x38afe0(0x2e6)][0x0],_0xbaaa2d=_0x454d5d['data']();currentLiveGameId=_0x454d5d['id'];const _0x2c29f8=_0xbaaa2d[_0x38afe0(0x67d)],_0x377bf0=doc(db,_0x38afe0(0x53f)+appId+'/public/data/quizzes',_0x2c29f8),_0x2bee17=await getDoc(_0x377bf0);if(!_0x2bee17['exists']()){showMessage(_0x38afe0(0x6ee));return;}currentQuizData={'id':_0x2bee17['id'],..._0x2bee17[_0x38afe0(0xbb9)]()};if(_0xbaaa2d[_0x38afe0(0xc09)]&&_0xbaaa2d[_0x38afe0(0xc09)][_0x5a4098]){const _0x801ef4=_0xbaaa2d[_0x38afe0(0xc09)][_0x5a4098];if(_0x801ef4[_0x38afe0(0xa85)]===_0x38afe0(0xaac)){_0x5dd490[_0x38afe0(0xc5e)]=_0x38afe0(0x442);const _0x19722c={};_0x19722c[_0x38afe0(0x4d6)+_0x5a4098+_0x38afe0(0x9d4)]='active',await updateDoc(doc(db,_0x38afe0(0x53f)+appId+_0x38afe0(0xcdb),currentLiveGameId),_0x19722c),showView(_0x38afe0(0x4a5)),currentStudentName=_0x5a4098,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0xbaaa2d[_0x38afe0(0xa85)]!==_0x38afe0(0xcca)){showMessage(_0x38afe0(0xd16));return;}_0x5dd490[_0x38afe0(0xc5e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x6c901d={};_0x6c901d['players.'+_0x5a4098]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x38afe0(0x385)},await updateDoc(doc(db,_0x38afe0(0x53f)+appId+_0x38afe0(0xcdb),currentLiveGameId),_0x6c901d),currentStudentName=_0x5a4098,listenForLiveGameUpdates();}catch(_0x4426ea){console[_0x38afe0(0x894)](_0x38afe0(0x538),_0x4426ea),showMessage(_0x38afe0(0x58f));}finally{_0x5dd490['disabled']=![],_0x5dd490[_0x38afe0(0xc5e)]=_0x38afe0(0xa1c);}}function displayStudentNameSelector(_0x4f8d59,_0x3112f6){const _0x707c0d=_0x354eeb,_0x409b11=document[_0x707c0d(0x64e)]('student-name-select');document['getElementById'](_0x707c0d(0xbc1))[_0x707c0d(0xd72)]=_0x707c0d(0x872)+_0x3112f6,!_0x4f8d59||_0x4f8d59['length']===0x0?(_0x409b11[_0x707c0d(0xc5e)]=_0x707c0d(0x457),startQuizBtn[_0x707c0d(0x87b)]=!![]):(_0x409b11[_0x707c0d(0xc5e)]=_0x707c0d(0xa12),_0x4f8d59[_0x707c0d(0x37d)](_0x353cb8=>{const _0x3858e0=_0x707c0d,_0x344696=document['createElement'](_0x3858e0(0xce1));_0x344696[_0x3858e0(0x998)]=_0x353cb8,_0x344696[_0x3858e0(0xd72)]=_0x353cb8,_0x409b11[_0x3858e0(0x2dd)](_0x344696);}),startQuizBtn[_0x707c0d(0x87b)]=![]),studentInitialView[_0x707c0d(0x565)]['add']('hidden'),studentNameSelectionView['classList'][_0x707c0d(0xc9d)](_0x707c0d(0x76a));}function shuffleArray(_0x450092){const _0x201ecc=_0x354eeb;for(let _0xe517f2=_0x450092[_0x201ecc(0x2ee)]-0x1;_0xe517f2>0x0;_0xe517f2--){const _0x47ae4a=Math[_0x201ecc(0x98d)](Math[_0x201ecc(0xb7b)]()*(_0xe517f2+0x1));[_0x450092[_0xe517f2],_0x450092[_0x47ae4a]]=[_0x450092[_0x47ae4a],_0x450092[_0xe517f2]];}}function getShuffledQuiz(_0x2d08a2){const _0x3a101e=_0x354eeb;let _0x82c718=JSON[_0x3a101e(0x5ab)](JSON[_0x3a101e(0xb38)](_0x2d08a2));const _0x1a2946=_0x82c718[_0x3a101e(0x992)]?.[_0x3a101e(0xbb2)]||_0x3a101e(0xd78);if(_0x1a2946==='none')return _0x82c718;return(_0x1a2946==='questions_only'||_0x1a2946==='both')&&shuffleArray(_0x82c718['questions']),(_0x1a2946===_0x3a101e(0xc5f)||_0x1a2946===_0x3a101e(0x55e))&&_0x82c718[_0x3a101e(0xc42)][_0x3a101e(0x37d)](_0x3a87a6=>{const _0x371aab=_0x3a101e,_0x9b2cf8=_0x3a87a6['questionType']||_0x82c718['quizType'];if(_0x3a87a6[_0x371aab(0x3e0)]){let _0x5a8a00=_0x3a87a6[_0x371aab(0x3e0)][_0x371aab(0x1fa)]((_0x4a56a7,_0x4f2880)=>({'text':_0x4a56a7,'isCorrect':_0x4f2880===_0x3a87a6[_0x371aab(0x5a0)]}));shuffleArray(_0x5a8a00),_0x3a87a6[_0x371aab(0x3e0)]=_0x5a8a00[_0x371aab(0x1fa)](_0x1acb6e=>_0x1acb6e[_0x371aab(0x4c3)]),_0x3a87a6[_0x371aab(0x5a0)]=_0x5a8a00[_0x371aab(0x85b)](_0x340bc6=>_0x340bc6[_0x371aab(0x241)]);}_0x9b2cf8==='matching_item'&&_0x3a87a6[_0x371aab(0x589)]&&shuffleArray(_0x3a87a6[_0x371aab(0x589)]);}),_0x82c718;}function displayQuizForStudent(_0x5b9867){const _0x2ba23d=_0x354eeb;studentQuizArea['classList']['remove'](_0x2ba23d(0x76a)),currentDisplayedQuiz=getShuffledQuiz(_0x5b9867);currentMode!==_0x2ba23d(0xbee)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2ba23d(0xa02)](_0x2ba23d(0x54e),handleFullscreenChange),document[_0x2ba23d(0xa02)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x2ba23d(0xa02)]('mousemove',resetDimTimer),window['addEventListener'](_0x2ba23d(0x5ec),resetDimTimer),window[_0x2ba23d(0xa02)]('touchstart',resetDimTimer),window['addEventListener'](_0x2ba23d(0xa79),resetDimTimer),resetDimTimer());const _0x19bf70=currentDisplayedQuiz['settings']?.[_0x2ba23d(0x486)]||_0x2ba23d(0xd78);if(_0x19bf70===_0x2ba23d(0x273))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2ba23d(0x992)]['timerDuration']);else _0x19bf70===_0x2ba23d(0xb1a)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5629d9=_0x354eeb,_0x2fdc25=currentDisplayedQuiz[_0x5629d9(0x992)]?.['isConfidenceScoringEnabled']===!![],_0x59126f=currentDisplayedQuiz['settings']?.['confidenceMode']||'checkbox';let _0x2628e7=_0x5629d9(0xcb2)+currentDisplayedQuiz[_0x5629d9(0xdb7)]+_0x5629d9(0x832)+(currentMode===_0x5629d9(0xbee)?_0x5629d9(0xce8):'')+_0x5629d9(0x8d1);currentDisplayedQuiz[_0x5629d9(0xc42)][_0x5629d9(0x37d)]((_0x3fd92f,_0x120882)=>{const _0x2a8be7=_0x5629d9,_0x276dbd=_0x3fd92f[_0x2a8be7(0x4fd)]||currentDisplayedQuiz[_0x2a8be7(0x6a2)];_0x2628e7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x276dbd===_0x2a8be7(0xc67)){}else _0x2628e7+=_0x2a8be7(0xcff)+(_0x120882+0x1)+'.\x20'+(_0x3fd92f['instructions']||_0x3fd92f[_0x2a8be7(0x9f4)])+_0x2a8be7(0x20e),_0x3fd92f[_0x2a8be7(0x9d9)]&&(_0x2628e7+=_0x2a8be7(0x6e0)+_0x3fd92f[_0x2a8be7(0x9d9)]+'</div>');_0x2628e7+=_0x2a8be7(0x6cd);switch(_0x276dbd){case'short_answer':_0x2628e7+=_0x2a8be7(0x94d)+_0x120882+_0x2a8be7(0xd7f);break;case'true_false':_0x2628e7+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x120882+_0x2a8be7(0x333)+_0x120882+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x120882+'_opt0\x22>ใช่</label></div>',_0x2628e7+=_0x2a8be7(0x488)+_0x120882+_0x2a8be7(0xd13)+_0x120882+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x120882+_0x2a8be7(0x2fa);break;case'matching_item':_0x2628e7+=_0x2a8be7(0x972)+_0x3fd92f[_0x2a8be7(0xc59)]+_0x2a8be7(0x5ba)+_0x120882+_0x2a8be7(0x4bd)+_0x3fd92f['allResponses']['map'](_0x442b77=>_0x2a8be7(0x3e8)+_0x442b77+'\x22>'+_0x442b77+_0x2a8be7(0x2ea))[_0x2a8be7(0x5fa)]('')+_0x2a8be7(0x31e);break;default:_0x2628e7+=_0x3fd92f['options'][_0x2a8be7(0x1fa)]((_0x14c199,_0x1006bd)=>_0x2a8be7(0x39b)+_0x120882+_0x2a8be7(0x6ad)+_0x1006bd+_0x2a8be7(0x29b)+_0x120882+_0x2a8be7(0x8ae)+_0x1006bd+_0x2a8be7(0xd1f)+_0x120882+_0x2a8be7(0x6ad)+_0x1006bd+'\x22>'+_0x14c199+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x2628e7+=_0x2a8be7(0x51a),_0x2fdc25&&(_0x2628e7+=_0x2a8be7(0x1f1),_0x59126f==='mandatory'?_0x2628e7+=_0x2a8be7(0x7c9)+_0x120882+_0x2a8be7(0x8e1)+_0x120882+_0x2a8be7(0x575)+_0x120882+_0x2a8be7(0xc77)+_0x120882+_0x2a8be7(0x5b7):_0x2628e7+=_0x2a8be7(0x598)+_0x120882+'\x22\x20name=\x22confidence'+_0x120882+_0x2a8be7(0x839)+_0x120882+_0x2a8be7(0xc34),_0x2628e7+=_0x2a8be7(0x51a)),_0x2628e7+='</div>';}),_0x2628e7+=_0x5629d9(0x91c),_0x2628e7+='</form>',studentQuizArea['innerHTML']=_0x2628e7;if(currentMode==='admin-testing'){const _0x529af0=document[_0x5629d9(0x64e)]('cancel-test-btn');if(_0x529af0)_0x529af0[_0x5629d9(0xa02)](_0x5629d9(0x4f9),cancelAdminTest);}const _0x3c292c=document[_0x5629d9(0x64e)]('quiz-form');_0x3c292c&&(_0x3c292c['addEventListener'](_0x5629d9(0x383),handleSubmitQuiz),_0x3c292c[_0x5629d9(0xa02)](_0x5629d9(0x4f9),_0xe7686e=>{const _0x14e58d=_0x5629d9;if(_0xe7686e['target']['classList']['contains'](_0x14e58d(0x9b4))){const _0x4309b2=_0xe7686e[_0x14e58d(0xa8f)],_0x524756=_0x4309b2[_0x14e58d(0x524)]['questionIndex'],_0xdf11b2=_0x4309b2[_0x14e58d(0x524)][_0x14e58d(0x998)];document[_0x14e58d(0x64e)]('confidence-input-'+_0x524756)[_0x14e58d(0x998)]=_0xdf11b2;const _0x42832d=_0x4309b2[_0x14e58d(0x90a)];_0x42832d['querySelectorAll'](_0x14e58d(0x9fd))['forEach'](_0x2d7f6e=>_0x2d7f6e['classList']['remove'](_0x14e58d(0x385))),_0x4309b2[_0x14e58d(0x565)]['add'](_0x14e58d(0x385));}}));if(window[_0x5629d9(0x8cc)])window[_0x5629d9(0x8cc)][_0x5629d9(0xacc)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4fdf68){const _0x55cbbc=_0x354eeb;if(_0x4fdf68)_0x4fdf68[_0x55cbbc(0x304)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3c3ed4=document['getElementById'](_0x55cbbc(0x62a));if(!_0x3c3ed4)return;const _0xdc0c92=currentDisplayedQuiz['settings']?.[_0x55cbbc(0xaa8)]===!![],_0x54ef78=currentDisplayedQuiz['settings']?.[_0x55cbbc(0xb5a)]||_0x55cbbc(0xde0);if(_0xdc0c92&&_0x54ef78===_0x55cbbc(0x944)){let _0x319c49=!![];for(let _0x54fb10=0x0;_0x54fb10<currentDisplayedQuiz[_0x55cbbc(0xc42)][_0x55cbbc(0x2ee)];_0x54fb10++){const _0x482225=_0x3c3ed4[_0x55cbbc(0x8b9)](_0x55cbbc(0x2a2)+_0x54fb10);if(!_0x482225||_0x482225['value']===''){_0x319c49=![];break;}}if(!_0x319c49){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x499c6e=_0x3c3ed4[_0x55cbbc(0x8b9)](_0x55cbbc(0x5c9)),_0x517b37=currentDisplayedQuiz[_0x55cbbc(0xc42)][_0x55cbbc(0xcd9)](_0x432f43=>_0x432f43['questionType']===_0x55cbbc(0x6bd));_0x499c6e&&(_0x499c6e[_0x55cbbc(0x87b)]=!![],_0x499c6e[_0x55cbbc(0xc5e)]=_0x517b37?_0x55cbbc(0xcf9):_0x55cbbc(0x6c4));const _0x5ed6ff=new FormData(_0x3c3ed4),_0xb3524a=currentDisplayedQuiz[_0x55cbbc(0xc42)][_0x55cbbc(0x1fa)]((_0x4f2f79,_0x7c5a54)=>{const _0x5cb8f0=_0x55cbbc,_0x3cab54=_0x5ed6ff[_0x5cb8f0(0x90f)]('question'+_0x7c5a54);let _0x5956d0;_0x54ef78===_0x5cb8f0(0x944)?_0x5956d0=_0x5ed6ff[_0x5cb8f0(0x90f)](_0x5cb8f0(0xaf6)+_0x7c5a54):_0x5956d0=_0x5ed6ff[_0x5cb8f0(0x90f)]('confidence'+_0x7c5a54)==='on';let _0x58d8ce=null;if(_0x3cab54!==null&&_0x3cab54!==undefined){const _0x5805bf=_0x4f2f79['questionType']||currentDisplayedQuiz[_0x5cb8f0(0x6a2)];_0x5805bf===_0x5cb8f0(0xda2)||_0x5805bf===_0x5cb8f0(0xd70)?_0x58d8ce=parseInt(_0x3cab54):_0x58d8ce=_0x3cab54;}return{'answer':_0x58d8ce,'wasConfident':_0x5956d0};}),_0x53edba=currentQuizData['id'],_0x3616fa=doc(db,_0x55cbbc(0x53f)+appId+'/public/data/quizzes/'+_0x53edba+'/submissions',currentStudentName),_0x542b1a=await getDoc(_0x3616fa),_0x26ee85=_0x542b1a[_0x55cbbc(0x2c9)]()?_0x542b1a['data']():{},_0xd7a1ba=_0x26ee85[_0x55cbbc(0xc70)]||[];await processAndSubmitAnswers(_0xb3524a,_0xd7a1ba);}async function gradeShortAnswerWithAI(_0x56265c,_0x4fe51d){const _0x547c71=_0x354eeb;if(!_0x56265c||!_0x4fe51d)return![];try{const _0x114e43=_0x547c71(0xc68)+_0x56265c+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x4fe51d+_0x547c71(0x463),_0x39c16c={'contents':[{'role':'user','parts':[{'text':_0x114e43}]}]},_0x3b7fdd=_0x547c71(0x82e),_0x374548=_0x547c71(0x990)+_0x3b7fdd,_0x21d30d=await fetch(_0x374548,{'method':'POST','headers':{'Content-Type':_0x547c71(0x27b)},'body':JSON['stringify'](_0x39c16c)});if(!_0x21d30d['ok'])throw new Error(_0x547c71(0x3c2));const _0x4dc1a9=await _0x21d30d[_0x547c71(0x8d3)](),_0x3c981f=_0x4dc1a9['candidates'][0x0][_0x547c71(0x8e2)][_0x547c71(0x290)][0x0][_0x547c71(0x4c3)][_0x547c71(0xdd7)]()[_0x547c71(0x468)]();return _0x3c981f===_0x547c71(0x6b4);}catch(_0x3e5cb5){return console[_0x547c71(0x894)](_0x547c71(0xc52),_0x3e5cb5),![];}}async function processAndSubmitAnswers(_0x15e635,_0x4be9b8){const _0x3de124=_0x354eeb;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x3de124(0xac0)](_0x3de124(0xcd2),handleVisibilityChange);let _0x12d011=0x0;const _0x55435b=[],_0x5bd15a=currentDisplayedQuiz['questions'][_0x3de124(0x2ee)];let _0x5a1a64=0x0,_0xa0a7eb=[];const _0x3520c1=currentDisplayedQuiz['questions'];for(let _0x4601ee=0x0;_0x4601ee<_0x3520c1[_0x3de124(0x2ee)];_0x4601ee++){const _0x4d4c18=_0x3520c1[_0x4601ee],_0x3967fa=_0x15e635[_0x4601ee],_0x17e29f=_0x3967fa?_0x3967fa[_0x3de124(0x6a5)]:null,_0x1d23cd=_0x3967fa?_0x3967fa['wasConfident']:null;let _0x5b28ec=![],_0x56b81e=0x0;if(_0x17e29f!==null&&_0x17e29f!==''){const _0x44be=_0x4d4c18['questionType']||currentDisplayedQuiz[_0x3de124(0x6a2)];switch(_0x44be){case'matching_item':_0x5b28ec=_0x17e29f===_0x4d4c18[_0x3de124(0x73a)];break;case'true_false':const _0x1ee2f1=_0x17e29f===!![]||_0x17e29f==='true';_0x5b28ec=_0x1ee2f1===_0x4d4c18['correctAnswer'];break;case _0x3de124(0x6bd):_0x5b28ec=await gradeShortAnswer(_0x17e29f,_0x4d4c18);break;case _0x3de124(0xda2):default:_0x5b28ec=Number(_0x17e29f)===_0x4d4c18[_0x3de124(0x5a0)];break;}}if(currentDisplayedQuiz['settings']?.[_0x3de124(0xaa8)]){const _0x3c3320=_0x3967fa?_0x3967fa[_0x3de124(0x693)]:null;if(_0x5b28ec&&(_0x3c3320===!![]||_0x3c3320===_0x3de124(0xb3f)))_0x56b81e=0x2;else{if(_0x5b28ec)_0x56b81e=0x1;else{if(!_0x5b28ec&&(_0x3c3320===![]||_0x3c3320==='not_confident'||_0x3c3320===null))_0x56b81e=0x0;else!_0x5b28ec&&(_0x3c3320===!![]||_0x3c3320===_0x3de124(0xb3f))&&(_0x56b81e=-0x1);}}}else _0x56b81e=_0x5b28ec?0x1:0x0;_0x12d011+=_0x56b81e;if(_0x5b28ec){_0x5a1a64++;if(_0x5a1a64===0x3)_0xa0a7eb[_0x3de124(0xa95)](BADGES['ON_FIRE']['id']);}else _0x5a1a64=0x0;let _0x27f77c=null;_0x4d4c18[_0x3de124(0x3e0)]&&_0x17e29f!==null&&(_0x27f77c=_0x4d4c18[_0x3de124(0x3e0)][_0x17e29f]),_0x55435b['push']({'questionId':_0x4d4c18['id'],'answer':_0x17e29f,'answerText':_0x27f77c,'isCorrect':_0x5b28ec,'wasConfident':_0x1d23cd,'pointsAwarded':_0x56b81e,'originalQuestionText':_0x4d4c18['stem']||_0x4d4c18['questionText']});}const _0x239bfb=_0x55435b[_0x3de124(0xdc7)](_0x40f720=>_0x40f720[_0x3de124(0x241)])[_0x3de124(0x2ee)],_0x9f8ea3=currentDisplayedQuiz['settings']?.[_0x3de124(0x66b)]??Math[_0x3de124(0x98d)](_0x5bd15a/0x2);_0x239bfb===_0x5bd15a&&_0x5bd15a>0x0&&!currentDisplayedQuiz[_0x3de124(0xaba)]&&_0xa0a7eb[_0x3de124(0xa95)](BADGES[_0x3de124(0xa7d)]['id']);const _0x492e67=currentDisplayedQuiz[_0x3de124(0x992)]?.[_0x3de124(0x486)];if(_0x492e67==='whole_quiz'&&quizStartTime){const _0x4b168d=(new Date()-quizStartTime)/0x3e8,_0x4f049a=currentDisplayedQuiz['settings'][_0x3de124(0x68e)]*0x3c;_0x239bfb>=_0x9f8ea3&&_0x4b168d<_0x4f049a/0x2&&_0xa0a7eb[_0x3de124(0xa95)](BADGES[_0x3de124(0x3e9)]['id']);}_0x4be9b8['length']===0x0&&_0x239bfb===_0x5bd15a&&_0x5bd15a>0x0&&_0xa0a7eb[_0x3de124(0xa95)](BADGES[_0x3de124(0x9b5)]['id']);if(_0x4be9b8[_0x3de124(0x2ee)]>0x0){const _0x3b0f0b=_0x4be9b8[0x0][_0x3de124(0x3cb)];if(_0x3b0f0b<_0x9f8ea3&&_0x239bfb>=_0x9f8ea3){const _0x35ce21=_0x4be9b8[_0x3de124(0xcd9)](_0x489431=>(_0x489431['badges']||[])[_0x3de124(0xcc5)](BADGES[_0x3de124(0x3c1)]['id']));!_0x35ce21&&_0xa0a7eb[_0x3de124(0xa95)](BADGES[_0x3de124(0x3c1)]['id']);}}_0x4be9b8[_0x3de124(0x2ee)]===0x4&&_0xa0a7eb[_0x3de124(0xa95)](BADGES[_0x3de124(0x267)]['id']);const _0x50f2fe=currentDisplayedQuiz[_0x3de124(0x992)][_0x3de124(0xcec)];if(currentMode==='admin-testing'){handleResultDisplay(_0x50f2fe,_0x239bfb,_0x12d011,_0xa0a7eb,_0x55435b,_0x5bd15a);return;}const _0x1bc922=currentQuizData['id'],_0x49a595=doc(db,_0x3de124(0x53f)+appId+_0x3de124(0x253)+_0x1bc922+_0x3de124(0x6f1),currentStudentName);try{const _0x5b84cb=[..._0x4be9b8],_0x4d9ac5={'score':_0x239bfb,'points':_0x12d011,'badges':Array['from'](new Set(_0xa0a7eb)),'submittedAt':new Date()[_0x3de124(0xd4e)](),'answers':_0x55435b};_0x5b84cb[_0x3de124(0xa95)](_0x4d9ac5);const _0x4ba907=_0x4be9b8[_0x3de124(0x2ee)]===0x0?_0x239bfb:_0x4be9b8[0x0][_0x3de124(0x3cb)]||0x0,_0x1b39de=Math[_0x3de124(0x62c)](..._0x5b84cb[_0x3de124(0x1fa)](_0x3ff986=>_0x3ff986[_0x3de124(0x3cb)]));await setDoc(_0x49a595,{'studentName':currentStudentName,'totalQuestions':_0x5bd15a,'attempts':_0x5b84cb,'firstScore':_0x4ba907,'bestScore':_0x1b39de,'latestScore':_0x239bfb,'points':_0x12d011,'latestSubmittedAt':_0x4d9ac5['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x50f2fe,_0x239bfb,_0x12d011,_0xa0a7eb,_0x55435b,_0x5bd15a);}catch(_0x415523){console[_0x3de124(0x894)]('Error\x20saving\x20submission:',_0x415523),showMessage(_0x3de124(0xb96));}}async function updateStudentProfile(_0x1193cb,_0x196fdf){const _0xc379f8=_0x354eeb,_0xa6d069=doc(db,_0xc379f8(0x53f)+appId+_0xc379f8(0x377)+_0x1193cb+'/studentProfiles',_0x196fdf);try{const _0x221212=query(collection(db,_0xc379f8(0x53f)+appId+_0xc379f8(0x450)),where('projectId','==',_0x1193cb)),_0x3afa31=await getDocs(_0x221212),_0x2c202f=new Map(_0x3afa31[_0xc379f8(0x2e6)]['map'](_0x54cc7b=>[_0x54cc7b['id'],_0x54cc7b[_0xc379f8(0xbb9)]()])),_0x228b2e=Array[_0xc379f8(0x941)](_0x2c202f['keys']());await runTransaction(db,async _0x1e13dc=>{const _0x59bdf6=_0xc379f8;let _0x48a203=0x0;const _0x1aa872={};let _0x20420d=!![],_0x4a9f3e=0x0,_0x31d0f4=0x0;for(const _0xf8d7dd of _0x228b2e){const _0x132d00=_0x2c202f[_0x59bdf6(0x90f)](_0xf8d7dd),_0x34112c=doc(db,'artifacts/'+appId+_0x59bdf6(0x253)+_0xf8d7dd+_0x59bdf6(0x6f1),_0x196fdf),_0x325dee=await _0x1e13dc[_0x59bdf6(0x90f)](_0x34112c);if(_0x325dee[_0x59bdf6(0x2c9)]()){const _0x488136=_0x325dee[_0x59bdf6(0xbb9)](),_0x545a69=_0x488136[_0x59bdf6(0xc70)]||[];if(_0x545a69[_0x59bdf6(0x2ee)]>0x0){const _0x160b8c=_0x545a69['reduce']((_0x493722,_0x268364)=>{const _0x5c3307=_0x59bdf6;if(_0x268364[_0x5c3307(0x3cb)]>_0x493722[_0x5c3307(0x3cb)])return _0x268364;if(_0x268364[_0x5c3307(0x3cb)]===_0x493722[_0x5c3307(0x3cb)])return(_0x268364[_0x5c3307(0x2f3)]||0x0)>(_0x493722[_0x5c3307(0x2f3)]||0x0)?_0x268364:_0x493722;return _0x493722;},{'score':-0x1,'points':-0x1});_0x160b8c['score']>-0x1&&(_0x48a203+=_0x160b8c['points']||0x0,(_0x160b8c[_0x59bdf6(0x9c5)]||[])[_0x59bdf6(0x37d)](_0xddc83b=>{_0x1aa872[_0xddc83b]=(_0x1aa872[_0xddc83b]||0x0)+0x1;}));}}if(_0x132d00[_0x59bdf6(0xdb7)]!=='แบบทดสอบซ่อมเสริม'){_0x31d0f4++;if(_0x325dee[_0x59bdf6(0x2c9)]()){_0x4a9f3e++;const _0x56ed73=_0x325dee[_0x59bdf6(0xbb9)]();_0x56ed73['bestScore']!==_0x56ed73[_0x59bdf6(0xabd)]&&(_0x20420d=![]);}else _0x20420d=![];}}_0x31d0f4>0x0&&_0x4a9f3e===_0x31d0f4&&_0x20420d?_0x1aa872[_0x59bdf6(0x570)]=0x1:_0x1aa872[_0x59bdf6(0x570)]=0x0,_0x1e13dc[_0x59bdf6(0x7e8)](_0xa6d069,{'studentName':_0x196fdf,'totalPoints':_0x48a203,'unlockedBadges':Object[_0x59bdf6(0x203)](_0x1aa872)[_0x59bdf6(0xdc7)](_0x1bef8a=>_0x1aa872[_0x1bef8a]>0x0),'badgesCount':_0x1aa872},{'merge':!![]});});}catch(_0x155125){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x155125),showMessage(_0xc379f8(0x955));}}function startAdminTest(){const _0x7c8989=_0x354eeb;if(!currentQuizData){showMessage(_0x7c8989(0x3ee));return;}let _0x45bc09=JSON[_0x7c8989(0x5ab)](JSON['stringify'](currentQuizData));currentMode=_0x7c8989(0xbee),currentStudentName=_0x7c8989(0xbcf),adminView[_0x7c8989(0x565)]['add'](_0x7c8989(0x76a)),studentView[_0x7c8989(0x565)][_0x7c8989(0xc9d)]('hidden'),studentInitialView['classList'][_0x7c8989(0x21a)](_0x7c8989(0x76a)),studentNameSelectionView[_0x7c8989(0x565)]['add'](_0x7c8989(0x76a)),studentResultArea['classList'][_0x7c8989(0x21a)](_0x7c8989(0x76a)),studentQuizArea[_0x7c8989(0x565)][_0x7c8989(0xc9d)](_0x7c8989(0x76a)),quizStartTime=new Date(),displayQuizForStudent(_0x45bc09);}function handleResultDisplay(_0x3b3efc,_0x17e6ff,_0x151c0c,_0xb5e94c,_0x5a79e4,_0x26b7b8){const _0x9140a5=_0x354eeb;if(_0x3b3efc==='manual_release'){displaySubmissionConfirmation();return;}const _0x6c5638=currentDisplayedQuiz['settings']?.[_0x9140a5(0x66b)]??Math[_0x9140a5(0x98d)](_0x26b7b8/0x2),_0x4465dd=currentDisplayedQuiz['settings']?.[_0x9140a5(0xbf1)]??![],_0x50faad=currentDisplayedQuiz[_0x9140a5(0x992)]?.['loopUntilPass']===!![],_0x22a2b9=_0x17e6ff<_0x6c5638,_0x4d49c8=_0x3b3efc===_0x9140a5(0x223)||_0x3b3efc===_0x9140a5(0x9ee);if(_0x50faad&&_0x22a2b9&&!_0x4d49c8){_0x3b3efc===_0x9140a5(0x754)?displayResultsWithAnswers(_0x17e6ff,_0x151c0c,_0xb5e94c,_0x5a79e4,_0x26b7b8,!![]):displayLoopScreen(_0x17e6ff,_0x26b7b8,_0x3b3efc);return;}if(_0x4465dd&&_0x22a2b9){startAdaptiveFlow(_0x5a79e4,_0x17e6ff,_0x26b7b8);return;}switch(_0x3b3efc){case'show_results_and_answers':displayResultsWithAnswers(_0x17e6ff,_0x151c0c,_0xb5e94c,_0x5a79e4,_0x26b7b8);break;case _0x9140a5(0x6d5):displayResultsScoreOnly(_0x17e6ff,_0x151c0c,_0xb5e94c,_0x26b7b8);break;case _0x9140a5(0xb1e):displayPassFailOnly(_0x17e6ff,_0x26b7b8);break;case _0x9140a5(0x223):displayHalfMarkResult(_0x17e6ff,_0x26b7b8);break;case _0x9140a5(0x9ee):displayPerfectScoreResult(_0x17e6ff,_0x26b7b8);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x49d455){const _0x20a120=_0x354eeb;studentReadingArea['innerHTML']=_0x20a120(0x85f);const _0x3dc44d=_0x20a120(0x532)+_0x49d455+_0x20a120(0xabe)+simpleMathPrompt+_0x20a120(0xc33),_0x5ae342={'type':_0x20a120(0x627),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x20a120(0x4aa),'items':{'type':_0x20a120(0x921)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x20a120(0x9f4),_0x20a120(0x3e0),'correctAnswerIndex',_0x20a120(0x99c)]},_0x166d91={'type':_0x20a120(0x627),'properties':{'topic':{'type':_0x20a120(0x921)},'questions':{'type':_0x20a120(0x4aa),'items':_0x5ae342}},'required':[_0x20a120(0xdb7),'questions']};try{const _0x5ecb00=await callAnalysisApi(_0x3dc44d,_0x166d91);_0x5ecb00[_0x20a120(0xaba)]=!![],studentReadingArea[_0x20a120(0x565)][_0x20a120(0x21a)](_0x20a120(0x76a));const _0x457561={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x20a120(0x754)};_0x5ecb00[_0x20a120(0x992)]=_0x457561,displayQuizForStudent(_0x5ecb00);}catch(_0x3cc209){console[_0x20a120(0x894)](_0x20a120(0xd9d),_0x3cc209),showMessage(_0x20a120(0x738)),showView(_0x20a120(0x35e));}}function displayPassFailOnly(_0x53cf57,_0x246dbd){const _0x5c5a51=_0x354eeb,_0x2e21ad=currentDisplayedQuiz[_0x5c5a51(0x992)]?.[_0x5c5a51(0x66b)]??-0x1,_0x19ec00=currentDisplayedQuiz[_0x5c5a51(0xaba)]===!![];let _0x55b0cd='',_0x3edc52=![];if(_0x19ec00||_0x2e21ad!==-0x1){_0x3edc52=_0x19ec00?_0x53cf57===_0x246dbd:_0x53cf57>=_0x2e21ad;const _0x11e92f=_0x3edc52?_0x5c5a51(0xd8b):_0x5c5a51(0x80e),_0x4a8da4=_0x3edc52?'ผ่าน':_0x5c5a51(0x237);_0x55b0cd=_0x5c5a51(0x51c)+_0x11e92f+'\x22>'+_0x4a8da4+_0x5c5a51(0x28a);}else _0x55b0cd='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x5aef44=_0x5c5a51(0x417)+currentStudentName+_0x5c5a51(0x715)+_0x55b0cd+_0x5c5a51(0x2ab);studentResultArea[_0x5c5a51(0xc5e)]=_0x5aef44,studentResultArea[_0x5c5a51(0x565)][_0x5c5a51(0xc9d)](_0x5c5a51(0x76a)),studentQuizArea[_0x5c5a51(0x565)][_0x5c5a51(0x21a)](_0x5c5a51(0x76a)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x3edc52});}function cancelAdminTest(){const _0x4957fd=_0x354eeb;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x4957fd(0x54e),handleFullscreenChange),document[_0x4957fd(0xac0)]('visibilitychange',handleVisibilityChange),currentMode=_0x4957fd(0x763),studentView[_0x4957fd(0x565)]['add'](_0x4957fd(0x76a)),adminView['classList']['remove'](_0x4957fd(0x76a)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x7b639b){const _0x516bdf=_0x354eeb,_0x1039fe={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x7b639b};if(_0x1039fe[_0x516bdf(0x40f)]){const _0x7c1768=_0x516bdf(0x866);studentResultArea[_0x516bdf(0xca7)](_0x516bdf(0x9bd),_0x7c1768),document['getElementById'](_0x516bdf(0x9d7))[_0x516bdf(0xa02)](_0x516bdf(0x4f9),()=>{const _0x124e7b=_0x516bdf;studentResultArea['classList'][_0x124e7b(0x21a)](_0x124e7b(0x76a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x764b95=_0x516bdf(0xa47),_0xf801a2=currentMode==='admin-testing',_0x6a2620=_0xf801a2?_0x516bdf(0x89c):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x2971c3='';_0x1039fe[_0x516bdf(0x2ac)]&&(_0x2971c3+=_0x516bdf(0x714));let _0x307d9f=_0x1039fe[_0x516bdf(0x5a5)];_0x307d9f===undefined&&(_0x307d9f=_0x1039fe[_0x516bdf(0x3cb)]<_0x1039fe[_0x516bdf(0xabd)]);_0x307d9f&&(_0x2971c3+=_0x516bdf(0xc06));_0x2971c3+=_0x516bdf(0x543)+_0x764b95+_0x516bdf(0x7ee)+_0x6a2620+_0x516bdf(0x6e1);const _0xf8457e='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x2971c3+_0x516bdf(0x51a);studentResultArea[_0x516bdf(0xca7)](_0x516bdf(0x9bd),_0xf8457e),studentResultArea[_0x516bdf(0x8b9)](_0x516bdf(0x66a))?.['addEventListener'](_0x516bdf(0x4f9),handleShowStudentRankings);const _0x46a602=studentResultArea[_0x516bdf(0x8b9)](_0x516bdf(0x818));_0x46a602&&_0x46a602['addEventListener']('click',()=>{const _0x455ac2=_0x516bdf;studentResultArea[_0x455ac2(0x565)][_0x455ac2(0x21a)](_0x455ac2(0x76a)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x516bdf(0x64e)](_0x764b95)[_0x516bdf(0xa02)](_0x516bdf(0x4f9),()=>{const _0x1fe2fc=_0x516bdf;_0xf801a2?(currentMode=_0x1fe2fc(0x763),studentView['classList']['add'](_0x1fe2fc(0x76a)),adminView['classList']['remove']('hidden'),showView(_0x1fe2fc(0xaea))):(showView(_0x1fe2fc(0x35e)),document[_0x1fe2fc(0x64e)](_0x1fe2fc(0xb71))[_0x1fe2fc(0x998)]='');});}function displayResultsWithAnswers(_0x4ee286,_0x585d6a,_0x242dd4,_0x484e40,_0x49d55d,_0x36e92d=![]){const _0x52f56a=_0x354eeb,_0x1d8610=_0x49d55d>0x0?_0x4ee286/_0x49d55d*0x64:0x0,_0x157865=currentDisplayedQuiz[_0x52f56a(0x992)]?.[_0x52f56a(0x66b)]??-0x1,_0x471783=currentDisplayedQuiz[_0x52f56a(0xaba)]===!![];let _0x437ac6='';if(_0x471783||_0x157865!==-0x1){let _0x3f6c65=_0x471783?_0x4ee286===_0x49d55d:_0x4ee286>=_0x157865;const _0xd2f2ca=_0x3f6c65?_0x52f56a(0xd8b):'bg-red-100\x20text-red-800',_0x19b07f=_0x3f6c65?_0x52f56a(0xa66):'ไม่ผ่าน';_0x437ac6=_0x52f56a(0x260)+_0xd2f2ca+'\x22>'+_0x19b07f+_0x52f56a(0x20e);}let _0x4a0657=_0x52f56a(0x3b8)+currentStudentName+_0x52f56a(0x848)+_0x4ee286+_0x52f56a(0x3af)+_0x49d55d+_0x52f56a(0x5c2)+_0x437ac6+_0x52f56a(0x5d1)+_0x585d6a+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x1d8610[_0x52f56a(0xc82)](0x0)+_0x52f56a(0xcf6);currentDisplayedQuiz[_0x52f56a(0xc42)][_0x52f56a(0x37d)]((_0x31033a,_0x3a856d)=>{const _0x12856c=_0x52f56a,_0x388582=_0x484e40[_0x3a856d],_0x3c074e=_0x388582[_0x12856c(0x6a5)],_0x153381=_0x388582[_0x12856c(0x241)],_0x3485e6=_0x31033a[_0x12856c(0x4fd)]||currentDisplayedQuiz[_0x12856c(0x6a2)];_0x4a0657+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x153381?_0x12856c(0x47b):_0x12856c(0xa04))+_0x12856c(0x38a)+(_0x3a856d+0x1)+'.\x20'+(_0x31033a[_0x12856c(0xc59)]||_0x31033a[_0x12856c(0x9f4)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x3485e6){case _0x12856c(0xc67):const _0x188a89=_0x3c074e||'ไม่ได้ตอบ',_0x4974e3=_0x31033a[_0x12856c(0x73a)];_0x4a0657+=_0x12856c(0x5ae)+(!_0x153381?_0x12856c(0xd6e):'')+'\x22>'+_0x188a89+_0x12856c(0x4c5);!_0x153381&&(_0x4a0657+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x4974e3+_0x12856c(0x20e));break;case _0x12856c(0x6bd):_0x4a0657+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x3c074e||_0x12856c(0xc54))+_0x12856c(0x20e),_0x4a0657+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x31033a[_0x12856c(0xddb)]+_0x12856c(0x20e);break;case _0x12856c(0x82f):_0x4a0657+='<p\x20class=\x22'+(_0x31033a[_0x12856c(0x7e0)]===!![]?_0x12856c(0x8e4):'')+'\x20'+(_0x3c074e===_0x12856c(0x6b4)&&!_0x153381?_0x12856c(0xd6e):'')+_0x12856c(0x33d),_0x4a0657+='<p\x20class=\x22'+(_0x31033a['correctAnswer']===![]?_0x12856c(0x8e4):'')+'\x20'+(_0x3c074e===_0x12856c(0x485)&&!_0x153381?_0x12856c(0xd6e):'')+_0x12856c(0x7fd);break;default:_0x4a0657+=_0x31033a[_0x12856c(0x3e0)]['map']((_0x3ead6c,_0x4369ca)=>{const _0x24d865=_0x12856c;let _0xbccea3='',_0x1f34d9='';if(_0x4369ca===_0x31033a[_0x24d865(0x5a0)])_0xbccea3=_0x24d865(0x8e4),_0x1f34d9='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x4369ca===_0x3c074e&&(_0xbccea3='font-bold\x20text-red-700\x20line-through',_0x1f34d9='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0xbccea3+'\x22>'+_0x1f34d9+_0x3ead6c+_0x24d865(0x51a);})[_0x12856c(0x5fa)]('');break;}_0x4a0657+=_0x12856c(0x854)+(_0x31033a['explanation']||_0x12856c(0xcbd))+_0x12856c(0x51a);if(!_0x153381){const _0x56e4be=_0x31033a['stem']||_0x31033a[_0x12856c(0x9f4)];_0x4a0657+=_0x12856c(0x609)+escape(_0x56e4be)+_0x12856c(0xa1a);}_0x4a0657+='</div>';}),studentResultArea[_0x52f56a(0xc5e)]=_0x4a0657,renderEarnedBadges(_0x242dd4,_0x52f56a(0x2ca)),studentResultArea[_0x52f56a(0x565)]['remove'](_0x52f56a(0x76a)),studentQuizArea[_0x52f56a(0x565)][_0x52f56a(0x21a)](_0x52f56a(0x76a)),setupResultScreenBackButton({'isLooping':_0x36e92d,'score':_0x4ee286,'totalQuestions':_0x49d55d,'showRankings':!![]});if(window[_0x52f56a(0x8cc)])window[_0x52f56a(0x8cc)][_0x52f56a(0xacc)]([studentResultArea]);}function displayResultsScoreOnly(_0x47702f,_0x2d4a1a,_0x4ee758,_0x3a0c6e){const _0x3ad334=_0x354eeb,_0x3ee7b8=_0x3a0c6e>0x0?_0x47702f/_0x3a0c6e*0x64:0x0,_0x25cc40=currentDisplayedQuiz['settings']?.[_0x3ad334(0x66b)]??-0x1,_0x2e1f29=currentDisplayedQuiz['isRemedial']===!![];let _0x4ee504='';if(_0x2e1f29||_0x25cc40!==-0x1){let _0x1da222=_0x2e1f29?_0x47702f===_0x3a0c6e:_0x47702f>=_0x25cc40;const _0x3da08c=_0x1da222?'bg-green-100\x20text-green-800':_0x3ad334(0x80e),_0x25df29=_0x1da222?_0x3ad334(0xa66):_0x3ad334(0x237);_0x4ee504='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x3da08c+'\x22>'+_0x25df29+_0x3ad334(0x20e);}let _0x180eca=_0x3ad334(0x417)+currentStudentName+_0x3ad334(0x9e7)+_0x47702f+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x3a0c6e+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ee504+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x2d4a1a+_0x3ad334(0x7ff)+_0x3ee7b8[_0x3ad334(0xc82)](0x0)+_0x3ad334(0xd2b);studentResultArea[_0x3ad334(0xc5e)]=_0x180eca,renderEarnedBadges(_0x4ee758,'earned-badges-container'),studentResultArea[_0x3ad334(0x565)]['remove'](_0x3ad334(0x76a)),studentQuizArea[_0x3ad334(0x565)][_0x3ad334(0x21a)](_0x3ad334(0x76a)),setupResultScreenBackButton({'score':_0x47702f,'totalQuestions':_0x3a0c6e,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4bcb4e=_0x354eeb;let _0x1a5930='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x4bcb4e(0x525);studentResultArea[_0x4bcb4e(0xc5e)]=_0x1a5930,studentResultArea[_0x4bcb4e(0x565)][_0x4bcb4e(0xc9d)]('hidden'),studentQuizArea[_0x4bcb4e(0x565)]['add']('hidden'),document['getElementById']('back-to-home-manual-release')[_0x4bcb4e(0xa02)](_0x4bcb4e(0x4f9),()=>{const _0x3cf44a=_0x4bcb4e;showView('student'),document[_0x3cf44a(0x64e)]('quiz-id-input')[_0x3cf44a(0x998)]='';});}function renderEarnedBadges(_0x17b9f4,_0x42543f){const _0x39b43d=_0x354eeb,_0x286fec=document[_0x39b43d(0x64e)](_0x42543f);if(!_0x286fec||!_0x17b9f4||_0x17b9f4[_0x39b43d(0x2ee)]===0x0)return;let _0x4f6524='';_0x17b9f4['forEach']((_0x2180e5,_0x477654)=>{const _0x3fb6e8=_0x39b43d,_0x370aba=Object['values'](BADGES)[_0x3fb6e8(0x52f)](_0x4dbd77=>_0x4dbd77['id']===_0x2180e5);_0x370aba&&(_0x4f6524+=_0x3fb6e8(0x813)+_0x477654*0.2+_0x3fb6e8(0x68f)+_0x370aba[_0x3fb6e8(0x8cf)]+_0x3fb6e8(0x8dd)+_0x370aba['icon']+_0x3fb6e8(0x2e8)+_0x370aba['name']+_0x3fb6e8(0x9a2));}),_0x286fec[_0x39b43d(0xc5e)]=_0x4f6524;}function startPresentation(_0x322ec9){const _0x2b000c=_0x354eeb;currentQuizData=getShuffledQuiz(_0x322ec9),currentPresentationSlide=0x0,presentationModal[_0x2b000c(0x1ff)][_0x2b000c(0xa16)]=_0x2b000c(0xab2),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4540df=_0x354eeb;document[_0x4540df(0x633)]&&document[_0x4540df(0x9aa)](),presentationModal['style']['display']='none';}function renderPresentationSlide(_0x488eb1){const _0x552f01=_0x354eeb,_0x2968d7=document[_0x552f01(0x64e)](_0x552f01(0x679));if(!currentQuizData||!currentQuizData[_0x552f01(0xc42)]||!currentQuizData[_0x552f01(0xc42)][_0x488eb1]){_0x2968d7[_0x552f01(0xc5e)]=_0x552f01(0x367);return;}const _0x503754=currentQuizData['questions'][_0x488eb1],_0x2c610e=_0x503754[_0x552f01(0x4fd)]||currentQuizData[_0x552f01(0x6a2)];_0x2968d7[_0x552f01(0xc5e)]='';let _0x475faa=_0x552f01(0xa25)+(_0x503754['imageCode']?_0x552f01(0x6e0)+_0x503754[_0x552f01(0x9d9)]+_0x552f01(0x51a):'')+_0x552f01(0xc04)+(_0x488eb1+0x1)+'.\x20'+(_0x503754[_0x552f01(0xc59)]||_0x503754[_0x552f01(0x9f4)])+_0x552f01(0x2d6);switch(_0x2c610e){case _0x552f01(0xc67):_0x475faa+=_0x503754[_0x552f01(0x589)][_0x552f01(0x1fa)](_0x2c76ac=>_0x552f01(0x44d)+_0x2c76ac+_0x552f01(0x3b4))[_0x552f01(0x5fa)]('');break;case'true_false':_0x475faa+=_0x552f01(0x7cf),_0x475faa+=_0x552f01(0x43d);break;case _0x552f01(0xd8f):case _0x552f01(0x6bd):_0x475faa+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x552f01(0xd70):case _0x552f01(0xda2):default:_0x475faa+=_0x503754[_0x552f01(0x3e0)]['map']((_0x22a016,_0x5def63)=>_0x552f01(0x371)+_0x5def63+_0x552f01(0x920)+_0x22a016+_0x552f01(0x3b4))['join']('');break;}_0x475faa+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x503754[_0x552f01(0x99c)]||'ไม่มีคำอธิบาย')+_0x552f01(0x91f),_0x2968d7[_0x552f01(0xc5e)]=_0x475faa;if(window[_0x552f01(0x8cc)])window[_0x552f01(0x8cc)][_0x552f01(0xacc)]([_0x2968d7]);let _0x289e6c=[];switch(_0x2c610e){case _0x552f01(0xc67):_0x289e6c=_0x503754['allResponses']||[];break;case'true_false':_0x289e6c=[_0x552f01(0xb6f),_0x552f01(0x94c)];break;default:_0x289e6c=_0x503754[_0x552f01(0x3e0)]||[];break;}const _0x1d109b=document[_0x552f01(0x64e)](_0x552f01(0xd51));_0x1d109b&&(_0x1d109b[_0x552f01(0xa5d)]=()=>{openScratchpad(_0x503754,_0x289e6c);});document[_0x552f01(0x72d)]('.presentation-option')[_0x552f01(0x37d)](_0x5f3096=>{const _0x38781d=_0x552f01;_0x5f3096[_0x38781d(0xa02)](_0x38781d(0x4f9),_0x294b10=>revealAnswerForPresentation(_0x488eb1,_0x294b10[_0x38781d(0x64f)]));});const _0x3729a7=document[_0x552f01(0x64e)](_0x552f01(0x558));_0x3729a7&&_0x3729a7[_0x552f01(0xa02)](_0x552f01(0x4f9),()=>checkShortAnswerForPresentation(_0x488eb1)),document['getElementById'](_0x552f01(0x487))[_0x552f01(0xd72)]=_0x552f01(0xc8a)+(_0x488eb1+0x1)+_0x552f01(0x865)+currentQuizData['questions'][_0x552f01(0x2ee)],document[_0x552f01(0x64e)](_0x552f01(0x87d))[_0x552f01(0x87b)]=_0x488eb1===0x0,document[_0x552f01(0x64e)](_0x552f01(0x8b8))['disabled']=_0x488eb1===currentQuizData[_0x552f01(0xc42)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x20d9d0){const _0x385f6c=_0x354eeb,_0x26158a=currentQuizData[_0x385f6c(0xc42)][_0x20d9d0],_0x3de147=document[_0x385f6c(0x64e)](_0x385f6c(0xbde)),_0x11d7ff=document[_0x385f6c(0x64e)](_0x385f6c(0x558)),_0x183512=document[_0x385f6c(0x64e)](_0x385f6c(0x98f)),_0x672565=document[_0x385f6c(0x64e)](_0x385f6c(0x80f));if(!_0x3de147||!_0x11d7ff||!_0x183512||!_0x672565)return;const _0x8fc164=_0x3de147['value'][_0x385f6c(0xdd7)]();if(_0x8fc164==='')return;_0x11d7ff[_0x385f6c(0x87b)]=!![],_0x11d7ff['innerHTML']=_0x385f6c(0x30b),_0x3de147[_0x385f6c(0x87b)]=!![];const _0x4bb78c=await gradeShortAnswer(_0x8fc164,_0x26158a);_0x4bb78c?_0x183512[_0x385f6c(0xc5e)]=_0x385f6c(0x668):_0x183512[_0x385f6c(0xc5e)]=_0x385f6c(0xad9)+_0x26158a[_0x385f6c(0xddb)]+')',_0x183512[_0x385f6c(0x565)]['remove'](_0x385f6c(0x76a)),_0x672565[_0x385f6c(0x565)][_0x385f6c(0xc9d)](_0x385f6c(0x76a)),_0x11d7ff[_0x385f6c(0x565)][_0x385f6c(0x21a)]('hidden');}function revealAnswerForPresentation(_0x25d225,_0x319c1f){const _0x312c1e=_0x354eeb,_0x4d0dc1=currentQuizData['questions'][_0x25d225],_0x3be8b9=_0x4d0dc1[_0x312c1e(0x4fd)]||currentQuizData[_0x312c1e(0x6a2)];document[_0x312c1e(0x72d)](_0x312c1e(0xa5b))[_0x312c1e(0x37d)](_0x1f3737=>{const _0x312e0a=_0x312c1e;_0x1f3737['disabled']=!![],_0x1f3737[_0x312e0a(0x565)][_0x312e0a(0xc9d)](_0x312e0a(0x6c3));let _0x115c58=![];if(_0x3be8b9===_0x312e0a(0xda2)||_0x3be8b9===_0x312e0a(0xd70)){const _0x273113=parseInt(_0x1f3737[_0x312e0a(0x524)][_0x312e0a(0x4e5)]);_0x115c58=_0x273113===_0x4d0dc1[_0x312e0a(0x5a0)];}else{if(_0x3be8b9===_0x312e0a(0x82f)){const _0x2d410d=_0x1f3737[_0x312e0a(0x524)]['answer']===_0x312e0a(0x6b4);_0x115c58=_0x2d410d===_0x4d0dc1[_0x312e0a(0x7e0)];}else _0x3be8b9===_0x312e0a(0xc67)&&(_0x115c58=_0x1f3737[_0x312e0a(0xd72)][_0x312e0a(0xdd7)]()===_0x4d0dc1[_0x312e0a(0x73a)]);}_0x115c58?_0x1f3737[_0x312e0a(0x565)][_0x312e0a(0x21a)]('bg-green-500',_0x312e0a(0xb43),'border-green-700'):_0x1f3737[_0x312e0a(0x565)]['add'](_0x312e0a(0x993));}),_0x319c1f[_0x312c1e(0x565)][_0x312c1e(0xc9d)](_0x312c1e(0x993));let _0x3f7ea3=![];if(_0x3be8b9==='multiple_choice')_0x3f7ea3=parseInt(_0x319c1f[_0x312c1e(0x524)][_0x312c1e(0x4e5)])===_0x4d0dc1['correctAnswerIndex'];else{if(_0x3be8b9===_0x312c1e(0x82f))_0x3f7ea3=_0x319c1f[_0x312c1e(0x524)][_0x312c1e(0x6a5)]===_0x312c1e(0x6b4)===_0x4d0dc1[_0x312c1e(0x7e0)];else _0x3be8b9===_0x312c1e(0xc67)&&(_0x3f7ea3=_0x319c1f['textContent'][_0x312c1e(0xdd7)]()===_0x4d0dc1[_0x312c1e(0x73a)]);}!_0x3f7ea3&&_0x319c1f['classList']['add']('bg-red-500',_0x312c1e(0xb43),_0x312c1e(0xaec)),document[_0x312c1e(0x64e)](_0x312c1e(0x80f))['classList']['remove'](_0x312c1e(0x76a));}function startWholeQuizTimer(_0x39eabe){const _0x437b5a=_0x354eeb,_0x5898f3=document['getElementById'](_0x437b5a(0x4e7));if(!_0x5898f3)return;const _0x5c8210=Date[_0x437b5a(0x274)]()+_0x39eabe*0x3c*0x3e8;_0x5898f3[_0x437b5a(0xc5e)]=_0x437b5a(0x8ce);const _0x2f3b49=document[_0x437b5a(0x64e)](_0x437b5a(0xca2));quizTimerInterval=setInterval(()=>{const _0x1865d5=_0x437b5a,_0x57a1c6=_0x5c8210-Date['now']();if(_0x57a1c6<=0x0)clearInterval(quizTimerInterval),_0x2f3b49[_0x1865d5(0xd72)]=_0x1865d5(0x4ee),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x3ac150=Math[_0x1865d5(0x98d)](_0x57a1c6/0x3e8/0x3c%0x3c)['toString']()[_0x1865d5(0x3a0)](0x2,'0'),_0xb6d951=Math['floor'](_0x57a1c6/0x3e8%0x3c)['toString']()[_0x1865d5(0x3a0)](0x2,'0');_0x2f3b49[_0x1865d5(0xd72)]=_0x3ac150+':'+_0xb6d951;}},0x3e8);}function renderPerQuestionView(){const _0x221d1e=_0x354eeb;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x304672=currentDisplayedQuiz[_0x221d1e(0xc42)][currentQuestionIndex],_0x496033=_0x304672[_0x221d1e(0x4fd)]||currentDisplayedQuiz[_0x221d1e(0x6a2)],_0x5c075c=currentDisplayedQuiz[_0x221d1e(0x992)]?.[_0x221d1e(0xaa8)]===!![];let _0x5964c1=_0x221d1e(0xcc4)+(currentQuestionIndex+0x1)+_0x221d1e(0x772)+currentDisplayedQuiz[_0x221d1e(0xc42)][_0x221d1e(0x2ee)]+_0x221d1e(0x38e)+(currentMode===_0x221d1e(0xbee)?_0x221d1e(0xce8):'')+_0x221d1e(0xd47)+currentDisplayedQuiz[_0x221d1e(0xdb7)]+_0x221d1e(0x22f);studentQuizArea[_0x221d1e(0xc5e)]=_0x5964c1;let _0x274c3e=_0x304672[_0x221d1e(0xc59)]||_0x304672[_0x221d1e(0x9f4)];_0x304672[_0x221d1e(0x9d9)]&&(_0x274c3e+=_0x221d1e(0x6e0)+_0x304672[_0x221d1e(0x9d9)]+_0x221d1e(0x51a));let _0x112f6c='';switch(_0x496033){case _0x221d1e(0x6bd):case'fill_in_no_choices':_0x112f6c=_0x221d1e(0xce6);break;case _0x221d1e(0x82f):_0x112f6c=_0x221d1e(0x623);break;case _0x221d1e(0xc67):_0x112f6c='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x304672[_0x221d1e(0x589)]||[])[_0x221d1e(0x1fa)](_0x5b4f48=>'<option\x20value=\x22'+_0x5b4f48+'\x22>'+_0x5b4f48+_0x221d1e(0x2ea))[_0x221d1e(0x5fa)]('')+_0x221d1e(0x797);break;default:_0x304672[_0x221d1e(0x3e0)]&&(_0x112f6c=_0x304672['options']['map']((_0x31a65b,_0x1a524b)=>_0x221d1e(0x8da)+_0x1a524b+_0x221d1e(0x77a)+_0x1a524b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x1a524b+'\x22>'+_0x31a65b+_0x221d1e(0xbb3))[_0x221d1e(0x5fa)](''));break;}document[_0x221d1e(0x64e)](_0x221d1e(0x95d))[_0x221d1e(0xc5e)]=_0x274c3e,document[_0x221d1e(0x64e)](_0x221d1e(0x73b))[_0x221d1e(0xc5e)]=_0x112f6c;const _0x25c0d5=currentDisplayedQuiz[_0x221d1e(0x992)]?.['isConfidenceScoringEnabled']===!![],_0x2f0e18=currentDisplayedQuiz[_0x221d1e(0x992)]?.[_0x221d1e(0xb5a)]||'checkbox';if(_0x25c0d5&&_0x2f0e18===_0x221d1e(0xde0)){const _0x134f13='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x221d1e(0x8b9)](_0x221d1e(0xbf0))[_0x221d1e(0xca7)](_0x221d1e(0x9bd),_0x134f13);}studentQuizArea['insertAdjacentHTML'](_0x221d1e(0x9bd),_0x221d1e(0xb76)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x221d1e(0x2ee)]-0x1?_0x221d1e(0x8a9):_0x221d1e(0xb17))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x221d1e(0xbee)&&document[_0x221d1e(0x64e)]('cancel-test-btn')?.[_0x221d1e(0xa02)](_0x221d1e(0x4f9),cancelAdminTest);document[_0x221d1e(0x64e)](_0x221d1e(0x87c))[_0x221d1e(0xa02)](_0x221d1e(0x4f9),()=>handleNextQuestionInTimedMode(![]));if(window[_0x221d1e(0x8cc)])window[_0x221d1e(0x8cc)][_0x221d1e(0xacc)]([studentQuizArea]);currentDisplayedQuiz[_0x221d1e(0x992)]?.['timerMode']===_0x221d1e(0xb1a)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x41acfd=_0x354eeb,_0x20247f=currentDisplayedQuiz[_0x41acfd(0x992)][_0x41acfd(0x68e)],_0x427e58=document[_0x41acfd(0x64e)]('per-question-timer-container');if(!_0x427e58)return;let _0x1666aa=_0x20247f;_0x427e58[_0x41acfd(0xc5e)]=_0x41acfd(0xbef)+_0x1666aa+_0x41acfd(0xc9c);const _0x4bfdc6=document[_0x41acfd(0x64e)](_0x41acfd(0xc28)),_0x593e5f=document['getElementById'](_0x41acfd(0xb0c));perQuestionTimerInterval=setInterval(()=>{const _0x3ed025=_0x41acfd;_0x1666aa--;const _0x9d5473=_0x1666aa/_0x20247f*0x64;_0x4bfdc6[_0x3ed025(0x1ff)][_0x3ed025(0x2b2)]=_0x9d5473+'%',_0x593e5f[_0x3ed025(0xd72)]=_0x1666aa,_0x1666aa<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x3ed025(0x863)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x29082d=![]){const _0x2f5af5=_0x354eeb;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x12c56e=null,_0x4cd05b=![];if(!_0x29082d){const _0x5e315e=currentDisplayedQuiz[_0x2f5af5(0xc42)][currentQuestionIndex],_0x3361d6=_0x5e315e[_0x2f5af5(0x4fd)]||currentDisplayedQuiz[_0x2f5af5(0x6a2)];if(_0x3361d6===_0x2f5af5(0x6bd)||_0x3361d6===_0x2f5af5(0xd8f))_0x12c56e=document['querySelector'](_0x2f5af5(0x204))?.[_0x2f5af5(0x998)][_0x2f5af5(0xdd7)]()??'';else{if(_0x3361d6===_0x2f5af5(0xc67))_0x12c56e=document[_0x2f5af5(0x8b9)](_0x2f5af5(0x867))?.[_0x2f5af5(0x998)]??'';else{const _0x36255f=document['querySelector']('input[name=\x22question_single\x22]:checked');_0x36255f&&(_0x12c56e=_0x36255f['value']);}}if(_0x12c56e===null||_0x12c56e===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x1953cb=currentDisplayedQuiz[_0x2f5af5(0x992)]?.['isConfidenceScoringEnabled']===!![],_0x31b92b=currentDisplayedQuiz[_0x2f5af5(0x992)]?.['confidenceMode']||'checkbox';if(_0x1953cb&&_0x31b92b===_0x2f5af5(0x944)){document['getElementById'](_0x2f5af5(0xd5d))[_0x2f5af5(0x524)][_0x2f5af5(0x91e)]='timed',document[_0x2f5af5(0x64e)](_0x2f5af5(0x35a))['value']=_0x12c56e,document[_0x2f5af5(0x64e)]('confidence-modal')[_0x2f5af5(0x565)]['remove']('hidden');return;}const _0x50e9c6=document[_0x2f5af5(0x64e)]('confidence_single');_0x50e9c6&&(_0x4cd05b=_0x50e9c6['checked']);}const _0x8b3a04={'answer':_0x12c56e,'wasConfident':_0x4cd05b};proceedToNextQuestion(_0x8b3a04);}async function finalizePerQuestionQuiz(){const _0xef3fc4=_0x354eeb,_0x3e457e=currentDisplayedQuiz['questions'][_0xef3fc4(0xcd9)](_0x5a6802=>_0x5a6802['questionType']===_0xef3fc4(0x6bd));_0x3e457e?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0xef3fc4(0xd12));const _0x2e2f2c=currentQuizData['id'],_0x5c2493=doc(db,_0xef3fc4(0x53f)+appId+_0xef3fc4(0x253)+_0x2e2f2c+'/submissions',currentStudentName),_0x4af8de=await getDoc(_0x5c2493),_0x12eabd=_0x4af8de['exists']()?_0x4af8de[_0xef3fc4(0xbb9)]():{},_0x54fed6=_0x12eabd[_0xef3fc4(0xc70)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x54fed6);}function getResultsFilename(){const _0xaae02a=_0x354eeb,_0x378769=document[_0xaae02a(0x64e)](_0xaae02a(0x3c7))['textContent'][_0xaae02a(0x683)](/[^a-z0-9]/gi,'_')[_0xaae02a(0x468)]();return _0xaae02a(0x59a)+(_0x378769||_0xaae02a(0xcde));}function exportResultsAsImage(){const _0x39c57f=_0x354eeb,_0xb74ad8=document[_0x39c57f(0x64e)](_0x39c57f(0xbe6));showMessage(_0x39c57f(0xd85)),html2canvas(_0xb74ad8)['then'](_0x1bd964=>{const _0xdd8f25=_0x39c57f,_0x5e58e7=document['createElement']('a');_0x5e58e7['download']=getResultsFilename()+_0xdd8f25(0xadc),_0x5e58e7[_0xdd8f25(0x4ae)]=_0x1bd964[_0xdd8f25(0xb2d)](_0xdd8f25(0x9ce)),_0x5e58e7[_0xdd8f25(0x4f9)](),messageModal[_0xdd8f25(0x565)][_0xdd8f25(0x21a)](_0xdd8f25(0x76a));});}function exportResultsAsPDF(){const _0x320e68=_0x354eeb,{jsPDF:_0x1a22f1}=window['jspdf'],_0x1dea01=new _0x1a22f1();_0x1dea01[_0x320e68(0x1fe)](_0x320e68(0xc50),'normal'),_0x1dea01[_0x320e68(0xaff)]({'html':_0x320e68(0x940)}),_0x1dea01[_0x320e68(0x92f)](getResultsFilename()+_0x320e68(0x86d));}function exportResultsAsWord(){const _0x438f5d=_0x354eeb,_0x26fced=_0x438f5d(0x91b)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x438f5d(0x4cb)+_0x438f5d(0x428),_0x454986=_0x438f5d(0xa9b),_0x406945=_0x26fced+document['getElementById'](_0x438f5d(0xbe6))[_0x438f5d(0xc5e)]+_0x454986,_0x5b9456=_0x438f5d(0x5ad)+encodeURIComponent(_0x406945),_0x30fb6a=document[_0x438f5d(0x1ea)]('a');document['body'][_0x438f5d(0x2dd)](_0x30fb6a),_0x30fb6a['href']=_0x5b9456,_0x30fb6a[_0x438f5d(0x8d4)]=getResultsFilename()+'.doc',_0x30fb6a[_0x438f5d(0x4f9)](),document[_0x438f5d(0xdd4)][_0x438f5d(0x431)](_0x30fb6a);}function exportResultsAsExcel(){const _0x2d1173=_0x354eeb,_0xbb336e=document[_0x2d1173(0x64e)](_0x2d1173(0x829));let _0x443fdf=[];for(let _0x560801=0x0;_0x560801<_0xbb336e['rows']['length'];_0x560801++){let _0x183949=[],_0x4b39b9=_0xbb336e[_0x2d1173(0x363)][_0x560801]['querySelectorAll'](_0x2d1173(0x549));for(let _0x1815af=0x0;_0x1815af<_0x4b39b9['length'];_0x1815af++){_0x183949[_0x2d1173(0xa95)]('\x22'+_0x4b39b9[_0x1815af][_0x2d1173(0x6c0)][_0x2d1173(0x683)](/"/g,'\x22\x22')+'\x22');}_0x443fdf[_0x2d1173(0xa95)](_0x183949[_0x2d1173(0x5fa)](','));}const _0x348571=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x443fdf[_0x2d1173(0x5fa)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x5ece45=document[_0x2d1173(0x1ea)]('a');_0x5ece45['href']=URL[_0x2d1173(0x641)](_0x348571),_0x5ece45[_0x2d1173(0x8d4)]=getResultsFilename()+_0x2d1173(0x6d1),_0x5ece45[_0x2d1173(0x4f9)]();}function exportTableAsImage(_0x2b18d2,_0x35faef){const _0x5dced6=_0x354eeb,_0x3b6c2f=document[_0x5dced6(0x64e)](_0x2b18d2);if(!_0x3b6c2f){showMessage(_0x5dced6(0x924));return;}showMessage(_0x5dced6(0xd85)),html2canvas(_0x3b6c2f)[_0x5dced6(0x2a5)](_0x514057=>{const _0x486346=_0x5dced6,_0x567e75=document['createElement']('a');_0x567e75[_0x486346(0x8d4)]=_0x35faef+_0x486346(0xadc),_0x567e75[_0x486346(0x4ae)]=_0x514057['toDataURL'](_0x486346(0x9ce)),_0x567e75[_0x486346(0x4f9)](),messageModal[_0x486346(0x565)][_0x486346(0x21a)]('hidden');});}function exportTableAsPDF(_0x11caf3,_0x267ba7){const _0x271682=_0x354eeb,{jsPDF:_0x21abc0}=window[_0x271682(0x335)],_0x48897a=new _0x21abc0();_0x48897a[_0x271682(0x1fe)](_0x271682(0xc50),_0x271682(0x1fb)),_0x48897a[_0x271682(0xaff)]({'html':'#'+_0x11caf3}),_0x48897a[_0x271682(0x92f)](_0x267ba7+_0x271682(0x86d));}function exportTableAsWord(_0x4ee59c,_0x1376ae){const _0x398ee8=_0x354eeb,_0x35849f=document['getElementById'](_0x4ee59c);if(!_0x35849f){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x252e28=_0x398ee8(0x91b)+_0x398ee8(0x803)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x398ee8(0x428),_0xfb977b=_0x398ee8(0xa9b),_0x3586f9=_0x252e28+_0x35849f[_0x398ee8(0xc5e)]+_0xfb977b,_0x10ab33=_0x398ee8(0x5ad)+encodeURIComponent(_0x3586f9),_0x143085=document[_0x398ee8(0x1ea)]('a');document[_0x398ee8(0xdd4)]['appendChild'](_0x143085),_0x143085[_0x398ee8(0x4ae)]=_0x10ab33,_0x143085['download']=_0x1376ae+'.doc',_0x143085[_0x398ee8(0x4f9)](),document[_0x398ee8(0xdd4)][_0x398ee8(0x431)](_0x143085);}function exportTableAsExcel(_0x23b447,_0x58bea6){const _0x10b435=_0x354eeb,_0x30dd72=document[_0x10b435(0x64e)](_0x23b447);if(!_0x30dd72){showMessage(_0x10b435(0x924));return;}let _0x51cc4d=[];for(let _0x1f407e=0x0;_0x1f407e<_0x30dd72[_0x10b435(0x363)]['length'];_0x1f407e++){let _0x1db723=[],_0x450f7d=_0x30dd72[_0x10b435(0x363)][_0x1f407e]['querySelectorAll'](_0x10b435(0x549));for(let _0x5138e5=0x0;_0x5138e5<_0x450f7d['length'];_0x5138e5++){_0x1db723[_0x10b435(0xa95)]('\x22'+_0x450f7d[_0x5138e5][_0x10b435(0x6c0)][_0x10b435(0x683)](/"/g,'\x22\x22')+'\x22');}_0x51cc4d[_0x10b435(0xa95)](_0x1db723[_0x10b435(0x5fa)](','));}const _0x122016=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x51cc4d[_0x10b435(0x5fa)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x41b606=document[_0x10b435(0x1ea)]('a');_0x41b606[_0x10b435(0x4ae)]=URL['createObjectURL'](_0x122016),_0x41b606[_0x10b435(0x8d4)]=_0x58bea6+_0x10b435(0x6d1),_0x41b606['click']();}function renderAnalytics(_0x1761c7,_0x29c25b){const _0x1efabc=_0x354eeb,_0x18604f=_0x29c25b['filter'](_0x21cb29=>_0x21cb29[_0x1efabc(0x638)]!==undefined),_0x52a8c5=currentProjectData[_0x1efabc(0x4c1)][_0x1efabc(0x2ee)],_0x55e364=_0x18604f['length'],_0x11d192=_0x52a8c5-_0x55e364,_0x419071=_0x52a8c5>0x0?_0x55e364/_0x52a8c5*0x64:0x0,_0x138356=_0x18604f[_0x1efabc(0x1fa)](_0x3c1443=>_0x3c1443[_0x1efabc(0x638)]),_0xdb92b3=_0x138356[_0x1efabc(0x2ee)]>0x0?_0x138356['reduce']((_0x47ed6b,_0x2aa00f)=>_0x47ed6b+_0x2aa00f,0x0)/_0x138356['length']:0x0,_0x516a37=_0x1761c7[_0x1efabc(0xc42)][_0x1efabc(0x2ee)],_0x11a1ee=_0x516a37>0x0?_0xdb92b3/_0x516a37*0x64:0x0,_0x4f8969=calculateItemAnalysis(_0x1761c7,_0x18604f),_0x4620d8=calculateReliabilityKR20(_0x1761c7,_0x18604f,_0x4f8969[_0x1efabc(0x26b)]);let _0x32bf72='';if(_0x4620d8!==null){let _0x4789b4='';if(_0x4620d8>=0.9)_0x4789b4='ยอดเยี่ยม';else{if(_0x4620d8>=0.8)_0x4789b4=_0x1efabc(0x3e4);else{if(_0x4620d8>=0.7)_0x4789b4='ดี';else{if(_0x4620d8>=0.6)_0x4789b4=_0x1efabc(0x682);else _0x4789b4=_0x1efabc(0xcf4);}}}_0x32bf72=_0x1efabc(0x814)+_0x4620d8[_0x1efabc(0xc82)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x4789b4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0xa17bde=document['getElementById'](_0x1efabc(0xcb3));_0xa17bde[_0x1efabc(0xc5e)]=_0x1efabc(0x240)+_0x419071[_0x1efabc(0xc82)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x55e364+'/'+_0x52a8c5+_0x1efabc(0x2b5)+_0xdb92b3[_0x1efabc(0xc82)](0x2)+_0x1efabc(0x817)+_0x11a1ee[_0x1efabc(0xc82)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x138356['length']>0x0?Math[_0x1efabc(0x62c)](..._0x138356):_0x1efabc(0xb39))+_0x1efabc(0xb1c)+(_0x138356['length']>0x0?Math[_0x1efabc(0xb0a)](..._0x138356):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32bf72+_0x1efabc(0xc33);const _0x4ff481=document[_0x1efabc(0x64e)](_0x1efabc(0xae6));_0x4ff481&&_0x4ff481['remove']();const _0x3810f3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0xa17bde[_0x1efabc(0xca7)](_0x1efabc(0xd7e),_0x3810f3);const _0x54e969=currentProjectData['students']||[];renderSubmissionChart(_0x55e364,_0x11d192,_0x18604f,_0x54e969),renderScoreDistributionChart(_0x18604f,_0x516a37),renderQuestionAnalytics(_0x1761c7,_0x18604f,_0x54e969),renderInterestingStats(_0x1761c7,_0x18604f);}async function handleExportLessonPDF(){const _0x171cdd=_0x354eeb,_0x1dd876=document[_0x171cdd(0x64e)]('lesson-plan-content'),_0xf3ab97=document[_0x171cdd(0x64e)]('lesson-plan-title')['textContent'],_0x546694=window[_0x171cdd(0x5cc)]('','_blank'),_0x2ee4cd=_0x171cdd(0x516)+_0xf3ab97+_0x171cdd(0x828)+_0x1dd876['innerHTML']+_0x171cdd(0x2b3);_0x546694[_0x171cdd(0x947)][_0x171cdd(0xd07)](_0x2ee4cd),_0x546694['document'][_0x171cdd(0x901)](),_0x546694[_0x171cdd(0x503)]=function(){setTimeout(()=>{const _0x16afe5=_0x421e;_0x546694[_0x16afe5(0xc21)]();},0x5dc);};}function renderInterestingStats(_0x12409e,_0x4a433a){const _0x5cf3fe=_0x354eeb,_0x4f4dc9=document['getElementById'](_0x5cf3fe(0xc35));if(!_0x4f4dc9)return;if(_0x4a433a[_0x5cf3fe(0x2ee)]===0x0){_0x4f4dc9[_0x5cf3fe(0xc5e)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x3e9c20=_0x12409e[_0x5cf3fe(0xc42)]['map']((_0x31419c,_0x181a05)=>({'index':_0x181a05+0x1,'text':_0x31419c[_0x5cf3fe(0x9f4)]||_0x31419c[_0x5cf3fe(0xc59)],'correct':0x0}));_0x4a433a[_0x5cf3fe(0x37d)](_0x3f0ad2=>{const _0x42829b=_0x5cf3fe,_0x8abba1=_0x3f0ad2[_0x42829b(0xc70)][_0x3f0ad2[_0x42829b(0xc70)]['length']-0x1];_0x8abba1&&_0x8abba1[_0x42829b(0x758)]&&_0x8abba1[_0x42829b(0x758)][_0x42829b(0x37d)](_0x3b3908=>{const _0x573680=_0x42829b,_0x1b2d6c=_0x3e9c20[_0x573680(0x52f)](_0x478137=>_0x478137[_0x573680(0x4c3)]===_0x3b3908['originalQuestionText']);_0x3b3908['isCorrect']&&_0x1b2d6c&&_0x1b2d6c['correct']++;});});const _0x1ed45b=_0x4a433a[_0x5cf3fe(0x2ee)],_0x5f0deb=Math[_0x5cf3fe(0x62c)](..._0x3e9c20['map'](_0xc9524=>_0xc9524[_0x5cf3fe(0x583)])),_0x4c49df=Math[_0x5cf3fe(0xb0a)](..._0x3e9c20['map'](_0x13e162=>_0x13e162['correct'])),_0x39fe3f=_0x3e9c20[_0x5cf3fe(0xdc7)](_0x7c2bc2=>_0x7c2bc2['correct']===_0x5f0deb)[_0x5cf3fe(0x1fa)](_0x13efa2=>_0x5cf3fe(0x8c7)+_0x13efa2[_0x5cf3fe(0x4e5)]),_0x22a18f=_0x3e9c20[_0x5cf3fe(0xdc7)](_0x2c1f1c=>_0x2c1f1c[_0x5cf3fe(0x583)]===_0x4c49df)[_0x5cf3fe(0x1fa)](_0x331f37=>_0x5cf3fe(0x8c7)+_0x331f37[_0x5cf3fe(0x4e5)]),_0x47f043=_0x4a433a[_0x5cf3fe(0x705)]((_0x5ed1a2,_0x1b2c75)=>_0x1b2c75[_0x5cf3fe(0x638)]-_0x5ed1a2[_0x5cf3fe(0x638)])[_0x5cf3fe(0xdc7)]((_0x22fe60,_0x5d51ee,_0x14e04c)=>_0x22fe60['latestScore']===_0x14e04c[0x0][_0x5cf3fe(0x638)]),_0x168a24=_0x4a433a[_0x5cf3fe(0x705)]((_0x518988,_0x2439df)=>_0x518988[_0x5cf3fe(0x638)]-_0x2439df[_0x5cf3fe(0x638)])['filter']((_0x5f0e28,_0x4f5112,_0x1569e9)=>_0x5f0e28[_0x5cf3fe(0x638)]===_0x1569e9[0x0][_0x5cf3fe(0x638)]),_0x37497b=_0x5cf3fe(0x61d)+_0x39fe3f[_0x5cf3fe(0x5fa)](',\x20')+_0x5cf3fe(0xb2e)+_0x5f0deb+_0x5cf3fe(0x865)+_0x1ed45b+_0x5cf3fe(0x727)+_0x22a18f[_0x5cf3fe(0x5fa)](',\x20')+_0x5cf3fe(0xb2e)+(_0x1ed45b-_0x4c49df)+_0x5cf3fe(0x865)+_0x1ed45b+_0x5cf3fe(0x427)+_0x47f043[_0x5cf3fe(0x1fa)](_0x2c1bb1=>_0x2c1bb1[_0x5cf3fe(0xd48)])[_0x5cf3fe(0x5fa)](',\x20')+_0x5cf3fe(0x8c0)+_0x47f043[0x0][_0x5cf3fe(0x638)]+_0x5cf3fe(0x522)+_0x168a24[_0x5cf3fe(0x1fa)](_0x2f4639=>_0x2f4639['studentName'])[_0x5cf3fe(0x5fa)](',\x20')+_0x5cf3fe(0x8c0)+_0x168a24[0x0][_0x5cf3fe(0x638)]+_0x5cf3fe(0xc49);_0x4f4dc9[_0x5cf3fe(0xc5e)]=_0x37497b;}function renderSubmissionChart(_0x206e73,_0x41d060,_0x4a5bc6,_0xf7812c){const _0x584545=_0x354eeb,_0x368f35=document['getElementById'](_0x584545(0xd67))[_0x584545(0xc62)]('2d'),_0x473f94=_0x4a5bc6[_0x584545(0x1fa)](_0x120f48=>_0x120f48['studentName']),_0x35b338=_0xf7812c[_0x584545(0xdc7)](_0x265710=>!_0x473f94[_0x584545(0xcc5)](_0x265710));chartInstances['submission']&&chartInstances['submission'][_0x584545(0x337)](),chartInstances[_0x584545(0x6f5)]=new Chart(_0x368f35,{'type':_0x584545(0x877),'data':{'labels':['ส่งแล้ว',_0x584545(0x22c)],'datasets':[{'data':[_0x206e73,_0x41d060],'backgroundColor':['#10B981','#F59E0B'],'borderColor':['#ffffff',_0x584545(0x694)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x584545(0x5f5)},'tooltip':{'callbacks':{'label':function(_0x2be295){const _0x3f15b4=_0x584545;let _0x32dc68=_0x2be295[_0x3f15b4(0x8ed)]||'';return _0x32dc68&&(_0x32dc68+=':\x20'),_0x32dc68+=_0x2be295[_0x3f15b4(0x539)],_0x32dc68;},'afterLabel':function(_0x1f92f1){const _0x2ed16c=_0x584545;let _0x3c5df3;return _0x1f92f1['dataIndex']===0x0?_0x3c5df3=_0x473f94:_0x3c5df3=_0x35b338,_0x3c5df3[_0x2ed16c(0x2ee)]>0x0?_0x3c5df3[_0x2ed16c(0x5fa)]('\x0a'):_0x2ed16c(0x523);}}}}}});}function renderScoreDistributionChart(_0x45da59,_0x448cfd){const _0x543b5d=_0x354eeb,_0x52cb92=document[_0x543b5d(0x64e)]('score-distribution-chart')[_0x543b5d(0xc62)]('2d'),_0x149682={};for(let _0x23dba1=0x0;_0x23dba1<=_0x448cfd;_0x23dba1++){_0x149682[_0x23dba1]=0x0;}_0x45da59['forEach'](_0x5e6092=>{const _0x127e9c=_0x543b5d;_0x149682[_0x5e6092['latestScore']]!==undefined&&_0x149682[_0x5e6092[_0x127e9c(0x638)]]++;}),chartInstances[_0x543b5d(0x3cb)]&&chartInstances[_0x543b5d(0x3cb)][_0x543b5d(0x337)](),chartInstances[_0x543b5d(0x3cb)]=new Chart(_0x52cb92,{'type':'bar','data':{'labels':Object[_0x543b5d(0x203)](_0x149682),'datasets':[{'label':_0x543b5d(0x733),'data':Object['values'](_0x149682),'backgroundColor':_0x543b5d(0x2a9),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x33b1ed){const _0x40ddf6=_0x543b5d,_0x5c28ea=_0x33b1ed['label'],_0x49e72e=_0x45da59[_0x40ddf6(0xdc7)](_0x1c329c=>_0x1c329c[_0x40ddf6(0x638)]==_0x5c28ea)[_0x40ddf6(0x1fa)](_0x34f389=>_0x34f389[_0x40ddf6(0xd48)]);return _0x49e72e[_0x40ddf6(0x2ee)]>0x0?_0x49e72e[_0x40ddf6(0x5fa)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2fa8a8,_0x5b9bee,_0x13cbc9){const _0x2a1de6=_0x354eeb,_0x5c6fe3=document['getElementById'](_0x2a1de6(0x7d4));if(_0x13cbc9[_0x2a1de6(0x2ee)]===0x0){_0x5c6fe3[_0x2a1de6(0xc5e)]=_0x2a1de6(0x34f);return;}const _0xcf22f8=calculateItemAnalysis(_0x2fa8a8,_0x5b9bee),_0x43ede2=calculateDistractorAnalysis(_0x2fa8a8,_0x5b9bee);let _0x3cbba8='';_0xcf22f8[_0x2a1de6(0xc15)]&&(_0x3cbba8=_0x2a1de6(0xdd3)+_0xcf22f8[_0x2a1de6(0xc15)]['upperGroupNames']['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcf22f8[_0x2a1de6(0xc15)][_0x2a1de6(0x42b)][_0x2a1de6(0x1fa)](_0x32d9a9=>'<li>'+_0x32d9a9+_0x2a1de6(0xa17))[_0x2a1de6(0x5fa)]('')+_0x2a1de6(0xdd6)+_0xcf22f8['overallGroups'][_0x2a1de6(0x6f6)][_0x2a1de6(0x2ee)]+_0x2a1de6(0x76e)+_0xcf22f8['overallGroups'][_0x2a1de6(0x6f6)][_0x2a1de6(0x1fa)](_0x2a15d0=>_0x2a1de6(0x85d)+_0x2a15d0+_0x2a1de6(0xa17))[_0x2a1de6(0x5fa)]('')+_0x2a1de6(0x8df));let _0xfe415b='';const _0x5ea18e=_0x5b9bee['map'](_0x3c138c=>_0x3c138c[_0x2a1de6(0xd48)]),_0x4d54b2=_0x38fbb9=>{const _0x28f640=_0x2a1de6;if(_0x38fbb9>=0.8)return _0x28f640(0x35c);if(_0x38fbb9>=0.6)return _0x28f640(0x987);if(_0x38fbb9>=0.4)return _0x28f640(0x667);if(_0x38fbb9>=0.2)return _0x28f640(0x57c);return _0x28f640(0x1fd);},_0x8caa2b=_0x2e7aa2=>{const _0x477497=_0x2a1de6;if(_0x2e7aa2<0x0)return _0x477497(0x95b);if(_0x2e7aa2>=0.4)return _0x477497(0xd89);if(_0x2e7aa2>=0.3)return _0x477497(0x573);if(_0x2e7aa2>=0.2)return _0x477497(0x6c9);return _0x477497(0x6fb);},_0x4c11bd=_0x1417b5=>{const _0x352bd8=_0x2a1de6,_0xfac45c=_0x1417b5[_0x352bd8(0xc82)](0x0);if(parseFloat(_0xfac45c)===0x64)return _0x352bd8(0x236)+_0xfac45c+_0x352bd8(0xbfa);if(_0x1417b5>=0x32)return _0x352bd8(0x73e)+_0xfac45c+'%</span>';return _0x352bd8(0x771)+_0xfac45c+_0x352bd8(0xbfa);};_0x2fa8a8[_0x2a1de6(0xc42)][_0x2a1de6(0x37d)]((_0x21ac8a,_0x31d746)=>{const _0x47216e=_0x2a1de6,_0x35b538=_0xcf22f8[_0x47216e(0x26b)][_0x31d746],_0x4d3699=_0x43ede2[_0x31d746],_0x31d958=_0x21ac8a['stem']||_0x21ac8a[_0x47216e(0x9f4)]||_0x21ac8a[_0x47216e(0xbbb)];let _0x1ec3b7=0x0;const _0x1f9907=[],_0x5c00ea=[];_0x5b9bee[_0x47216e(0x37d)](_0x4cc5cf=>{const _0x43d3bb=_0x47216e,_0x2fb687=_0x4cc5cf['attempts'][_0x4cc5cf[_0x43d3bb(0xc70)][_0x43d3bb(0x2ee)]-0x1];if(_0x2fb687&&_0x2fb687[_0x43d3bb(0x758)]){const _0x225f64=_0x2fb687[_0x43d3bb(0x758)]['find'](_0x175588=>_0x175588[_0x43d3bb(0x299)]===_0x31d958)??_0x2fb687[_0x43d3bb(0x758)][_0x31d746]??null;_0x225f64&&(_0x225f64[_0x43d3bb(0x241)]?(_0x1ec3b7++,_0x1f9907[_0x43d3bb(0xa95)](_0x4cc5cf[_0x43d3bb(0xd48)])):_0x5c00ea[_0x43d3bb(0xa95)](_0x4cc5cf['studentName']));}});const _0x4eca42=_0x5b9bee[_0x47216e(0x2ee)]>0x0?_0x1ec3b7/_0x5b9bee[_0x47216e(0x2ee)]*0x64:0x0,_0x51b7e7=_0x13cbc9[_0x47216e(0xdc7)](_0x5ed961=>!_0x5ea18e['includes'](_0x5ed961)),_0x4de52b=_0x35b538?_0x47216e(0x2b6)+_0x35b538['p'][_0x47216e(0xc82)](0x2)+'</p><div>'+_0x4d54b2(_0x35b538['p'])+_0x47216e(0x3dc)+_0x35b538['r']['toFixed'](0x2)+_0x47216e(0xb4e)+_0x8caa2b(_0x35b538['r'])+_0x47216e(0x834)+_0x4c11bd(_0x4eca42)+_0x47216e(0xd06):'';let _0x420d90='';_0x4d3699&&(_0x420d90=_0x47216e(0x398)+Object[_0x47216e(0x203)](_0x4d3699)[_0x47216e(0x1fa)](_0x137ed4=>{const _0x1bd7a1=_0x47216e,_0xe1085b=_0x4d3699[_0x137ed4],_0x285993=parseInt(_0x137ed4)===_0x21ac8a[_0x1bd7a1(0x5a0)],_0x4d6b6d=!_0x285993&&_0xe1085b[_0x1bd7a1(0x6cc)]>_0xe1085b[_0x1bd7a1(0x663)];return'<tr\x20class=\x22'+(_0x285993?_0x1bd7a1(0x601):'')+_0x1bd7a1(0x6c8)+(_0x285993?'✔\x20':'')+_0xe1085b['text']+_0x1bd7a1(0xa45)+_0xe1085b['upper_group_count']+_0x1bd7a1(0xa45)+_0xe1085b['lower_group_count']+'\x20'+(_0x4d6b6d?'👍':'')+_0x1bd7a1(0xa45)+_0xe1085b[_0x1bd7a1(0x58c)]+'</td></tr>';})[_0x47216e(0x5fa)]('')+_0x47216e(0x711));let _0x4750a6='';_0x35b538&&_0x35b538['upperGroupResponders']&&(_0x4750a6=_0x47216e(0x794)+_0x35b538[_0x47216e(0xd99)][_0x47216e(0x2ee)]+_0x47216e(0xa35)+_0x35b538[_0x47216e(0xd99)][_0x47216e(0x1fa)](_0x1a89e5=>_0x47216e(0x85d)+(_0x1a89e5[_0x47216e(0x241)]?_0x47216e(0xd5a):_0x47216e(0xb2b))+'\x20'+_0x1a89e5['name']+_0x47216e(0xa17))[_0x47216e(0x5fa)]('')+_0x47216e(0xc5b)+_0x35b538[_0x47216e(0x664)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x35b538[_0x47216e(0x664)][_0x47216e(0x1fa)](_0x3539a6=>_0x47216e(0x85d)+(_0x3539a6[_0x47216e(0x241)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x47216e(0xb2b))+'\x20'+_0x3539a6['name']+_0x47216e(0xa17))[_0x47216e(0x5fa)]('')+_0x47216e(0x5a3)),_0xfe415b+=_0x47216e(0x8bf)+(_0x31d746+0x1)+':\x20'+_0x31d958+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x4de52b+_0x47216e(0x71f)+_0x31d958+_0x47216e(0x563)+_0x1ec3b7+_0x47216e(0x772)+_0x5b9bee[_0x47216e(0x2ee)]+_0x47216e(0x943)+_0x4eca42['toFixed'](0x0)+_0x47216e(0x6e8)+_0x1f9907[_0x47216e(0x2ee)]+_0x47216e(0xb26)+(_0x1f9907[_0x47216e(0x2ee)]>0x0?_0x1f9907[_0x47216e(0x5fa)](',\x20'):_0x47216e(0x523))+_0x47216e(0x909)+_0x5c00ea['length']+_0x47216e(0xb26)+(_0x5c00ea[_0x47216e(0x2ee)]>0x0?_0x5c00ea[_0x47216e(0x5fa)](',\x20'):_0x47216e(0x523))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x51b7e7[_0x47216e(0x2ee)]+_0x47216e(0xb26)+(_0x51b7e7[_0x47216e(0x2ee)]>0x0?_0x51b7e7['join'](',\x20'):_0x47216e(0x523))+_0x47216e(0xa24)+_0x420d90+_0x47216e(0x5bd)+_0x4750a6+_0x47216e(0xbfe);}),_0x5c6fe3[_0x2a1de6(0xc5e)]=_0x3cbba8+_0xfe415b;try{window[_0x2a1de6(0x8cc)]&&MathJax[_0x2a1de6(0xacc)]&&MathJax[_0x2a1de6(0xacc)]([_0x5c6fe3]);}catch(_0x31a9fd){console['error'](_0x2a1de6(0xda0),_0x31a9fd);}}function calculateDistractorAnalysis(_0x36cee2,_0x2a5a9c){const _0x3d3f13=_0x354eeb,_0x1dbc6e={};if(_0x2a5a9c[_0x3d3f13(0x2ee)]<0x2)return _0x1dbc6e;const _0x455609=[..._0x2a5a9c][_0x3d3f13(0x705)]((_0x355a53,_0x3393f0)=>{const _0x4d5d57=_0x3d3f13,_0x46ec67=_0x3393f0['latestScore']-_0x355a53[_0x4d5d57(0x638)];if(_0x46ec67!==0x0)return _0x46ec67;const _0x322a5=_0x355a53[_0x4d5d57(0xc70)]?.[_0x4d5d57(0x2ee)]||0x1,_0x412494=_0x3393f0[_0x4d5d57(0xc70)]?.['length']||0x1,_0x5febf9=_0x322a5-_0x412494;if(_0x5febf9!==0x0)return _0x5febf9;const _0x182ff1=new Date(_0x355a53['latestSubmittedAt']),_0x21ea47=new Date(_0x3393f0['latestSubmittedAt']),_0x352e5a=_0x182ff1-_0x21ea47;if(_0x352e5a!==0x0)return _0x352e5a;return _0x355a53['studentName'][_0x4d5d57(0x202)](_0x3393f0[_0x4d5d57(0xd48)],'th');}),_0xc9db79=_0x455609[_0x3d3f13(0x2ee)],_0x5ccba1=Math['max'](0x1,Math[_0x3d3f13(0x98d)](_0xc9db79*0.33)),_0x49f795=_0x455609['slice'](0x0,_0x5ccba1),_0x39fcd2=_0x455609[_0x3d3f13(0xca0)](-_0x5ccba1);return _0x36cee2[_0x3d3f13(0xc42)][_0x3d3f13(0x37d)]((_0x45792a,_0x210220)=>{const _0x3b21b5=_0x3d3f13;if(_0x45792a[_0x3b21b5(0x4fd)]!==_0x3b21b5(0xda2)||!_0x45792a[_0x3b21b5(0x3e0)])return;const _0x5749a1=_0x45792a[_0x3b21b5(0x9f4)],_0x44d342={};_0x45792a['options'][_0x3b21b5(0x37d)]((_0x2cd97c,_0x30ba5e)=>{_0x44d342[_0x30ba5e]={'text':_0x2cd97c,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x455609[_0x3b21b5(0x37d)](_0x16b46c=>{const _0xf3faf1=_0x3b21b5,_0x54f0ed=_0x16b46c['attempts'][_0x16b46c[_0xf3faf1(0xc70)]['length']-0x1],_0x537e29=_0x54f0ed[_0xf3faf1(0x758)][_0xf3faf1(0x52f)](_0x15fbcd=>_0x15fbcd[_0xf3faf1(0x299)]===_0x5749a1);if(_0x537e29&&_0x537e29[_0xf3faf1(0x6a5)]!==null){const _0x4fb193=_0x45792a['options'][_0xf3faf1(0x85b)](_0x5d89fd=>_0x5d89fd===_0x537e29['answerText']);_0x4fb193!==-0x1&&_0x44d342[_0x4fb193]&&(_0x44d342[_0x4fb193][_0xf3faf1(0x58c)]++,_0x49f795[_0xf3faf1(0xcc5)](_0x16b46c)&&_0x44d342[_0x4fb193][_0xf3faf1(0x663)]++,_0x39fcd2['includes'](_0x16b46c)&&_0x44d342[_0x4fb193][_0xf3faf1(0x6cc)]++);}}),_0x1dbc6e[_0x210220]=_0x44d342;}),_0x1dbc6e;}function calculateReliabilityKR20(_0x5a19fb,_0x224e92,_0x3e8ba4){const _0x5e0e0f=_0x354eeb,_0x2b3c35=_0x5a19fb[_0x5e0e0f(0xc42)][_0x5e0e0f(0x2ee)];if(_0x2b3c35<0x2||_0x224e92[_0x5e0e0f(0x2ee)]<0x2)return null;const _0x56c1fa=_0x224e92[_0x5e0e0f(0x1fa)](_0x2697c1=>_0x2697c1[_0x5e0e0f(0x638)]),_0x52c4e5=_0x56c1fa[_0x5e0e0f(0xb6c)]((_0x3e8055,_0xacafd6)=>_0x3e8055+_0xacafd6,0x0)/_0x56c1fa[_0x5e0e0f(0x2ee)],_0x58d26d=_0x56c1fa[_0x5e0e0f(0x1fa)](_0x1a3000=>Math[_0x5e0e0f(0xca8)](_0x1a3000-_0x52c4e5,0x2))['reduce']((_0xac1dae,_0xbd1b2)=>_0xac1dae+_0xbd1b2,0x0)/_0x56c1fa['length'];if(_0x58d26d===0x0)return null;let _0x5517ce=0x0;for(let _0x2d3715=0x0;_0x2d3715<_0x2b3c35;_0x2d3715++){const _0x3f7c15=_0x3e8ba4[_0x2d3715]?.['p'];if(_0x3f7c15===undefined)continue;const _0x31603b=0x1-_0x3f7c15;_0x5517ce+=_0x3f7c15*_0x31603b;}if(_0x5517ce===0x0)return null;const _0x32a75e=_0x2b3c35/(_0x2b3c35-0x1)*(0x1-_0x5517ce/_0x58d26d);if(_0x32a75e>0x1)return null;return _0x32a75e;}async function handleAnalyzeClass(){const _0x24dab0=_0x354eeb;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x24dab0(0xa7c));return;}const _0x5743cd=collection(db,_0x24dab0(0x53f)+appId+_0x24dab0(0x253)+currentQuizData['id']+_0x24dab0(0x6f1)),_0x3e948f=await getDocs(_0x5743cd),_0x23a286=_0x3e948f[_0x24dab0(0x2e6)]['map'](_0x5d0fb1=>_0x5d0fb1[_0x24dab0(0xbb9)]());if(_0x23a286[_0x24dab0(0x2ee)]<0x2){showMessage(_0x24dab0(0x474));return;}const _0x530ce9=document[_0x24dab0(0x64e)](_0x24dab0(0xa2c));_0x530ce9['innerHTML']=_0x24dab0(0x6be),document[_0x24dab0(0x64e)]('analyze-strengths-btn')['disabled']=!![];const _0x16b636=_0x23a286[_0x24dab0(0x1fa)]((_0x4fa904,_0xa505bd)=>{const _0x52b8ed=_0x24dab0,_0x5106e2=_0x4fa904['attempts'][_0x4fa904['attempts']['length']-0x1];if(!_0x5106e2)return'';return _0x52b8ed(0x5a7)+(_0xa505bd+0x1)+'\x20('+_0x4fa904[_0x52b8ed(0xd48)]+_0x52b8ed(0xc2d)+_0x5106e2[_0x52b8ed(0x3cb)]+'/'+_0x4fa904[_0x52b8ed(0xabd)]+_0x52b8ed(0x426)+JSON[_0x52b8ed(0xb38)](_0x5106e2[_0x52b8ed(0x758)])+_0x52b8ed(0xd42);})[_0x24dab0(0x5fa)](_0x24dab0(0x94e)),_0x39ee87=_0x24dab0(0x22a)+currentQuizData['topic']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x24dab0(0xc42)])+_0x24dab0(0x316)+_0x16b636+_0x24dab0(0x2d1),_0x99872c={'type':_0x24dab0(0x627),'properties':{'classStrengths':{'type':_0x24dab0(0x4aa),'items':{'type':_0x24dab0(0x921)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x24dab0(0x4aa),'items':{'type':'STRING'}}},'required':[_0x24dab0(0x7ba),_0x24dab0(0x6eb),_0x24dab0(0x960)]};try{const _0x56c39e=await callAnalysisApi(_0x39ee87,_0x99872c);displayClassAnalysis(_0x56c39e);}catch(_0x3a1aa8){console[_0x24dab0(0x894)]('Error\x20during\x20class\x20analysis:',_0x3a1aa8),_0x530ce9[_0x24dab0(0xc5e)]=_0x24dab0(0xd4c)+_0x3a1aa8['message']+_0x24dab0(0x4a3);}finally{document[_0x24dab0(0x64e)](_0x24dab0(0x9c1))[_0x24dab0(0x87b)]=![];}}function displayClassAnalysis(_0xb288cb){const _0x3f83ed=_0x354eeb,_0xb97c8b=document[_0x3f83ed(0x64e)](_0x3f83ed(0xa2c));if(!_0xb288cb){_0xb97c8b[_0x3f83ed(0xc5e)]=_0x3f83ed(0x4c4);return;}_0xb97c8b[_0x3f83ed(0xc5e)]=_0x3f83ed(0xa14)+_0xb288cb['classStrengths'][_0x3f83ed(0x1fa)](_0x3ab645=>'<li>'+_0x3ab645+_0x3f83ed(0xa17))[_0x3f83ed(0x5fa)]('')+_0x3f83ed(0xd64)+_0xb288cb['classWeaknesses'][_0x3f83ed(0x1fa)](_0x205773=>_0x3f83ed(0x85d)+_0x205773+'</li>')[_0x3f83ed(0x5fa)]('')+_0x3f83ed(0x5bc)+_0xb288cb[_0x3f83ed(0x960)][_0x3f83ed(0x1fa)](_0x1fb4c6=>'<li>'+_0x1fb4c6+_0x3f83ed(0xa17))[_0x3f83ed(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x760dd2,_0x4b2b01){const _0x2ac16d=_0x354eeb,_0x560c6b=_0x2ac16d(0xc01)+_0x760dd2[_0x2ac16d(0xdb7)]+_0x2ac16d(0x433)+_0x760dd2['topic']+_0x2ac16d(0x36b)+_0x760dd2[_0x2ac16d(0xc42)]['map']((_0x47c557,_0x450d4c)=>_0x2ac16d(0x420)+(_0x450d4c+0x1)+'.\x20'+_0x47c557['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x47c557[_0x2ac16d(0x9d9)]?_0x2ac16d(0xb89)+_0x47c557[_0x2ac16d(0x9d9)]+'</div>':'')+_0x2ac16d(0x78c))[_0x2ac16d(0x5fa)]('')+_0x2ac16d(0xbad);_0x4b2b01['document'][_0x2ac16d(0xd07)](_0x560c6b),_0x4b2b01[_0x2ac16d(0x947)]['close'](),_0x4b2b01[_0x2ac16d(0x503)]=function(){setTimeout(()=>{_0x4b2b01['print']();},0x3e8);};}async function generateWorksheet(){const _0x299b02=_0x354eeb,_0x27bf93=document[_0x299b02(0x64e)](_0x299b02(0xd54))[_0x299b02(0x998)]['trim']();if(!_0x27bf93){showMessage(_0x299b02(0x7bf));return;}const _0x3b33fc=document['getElementById'](_0x299b02(0xd50))[_0x299b02(0x5f7)],_0x4934d9=_0x3b33fc?'':'คณิตศาสตร์',_0x57e800=window[_0x299b02(0x5cc)]('',_0x299b02(0x597));_0x57e800['document'][_0x299b02(0xd07)](_0x299b02(0x75a));const _0x2869a2=parseInt(document['getElementById'](_0x299b02(0x7e3))['value']),_0x4c30a6=document[_0x299b02(0x64e)](_0x299b02(0x548))['checked'],_0x53e1f8=_0x4c30a6?_0x299b02(0x8cd):'',_0x10329c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x4934d9+_0x299b02(0xa5f)+_0x2869a2+_0x299b02(0x7f7)+_0x27bf93+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53e1f8+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x299b02(0x74d),_0x5b1a5f={'type':_0x299b02(0x627),'properties':{'topic':{'type':_0x299b02(0x921)},'questions':{'type':_0x299b02(0x4aa),'items':{'type':_0x299b02(0x627),'properties':{'questionText':{'type':_0x299b02(0x921)},'imageCode':{'type':_0x299b02(0x921)}},'required':[_0x299b02(0x9f4)]}}},'required':['topic',_0x299b02(0xc42)]};document['getElementById']('loader-text')[_0x299b02(0xd72)]='',document[_0x299b02(0x64e)](_0x299b02(0x7b6))[_0x299b02(0x565)][_0x299b02(0xc9d)](_0x299b02(0x76a)),document[_0x299b02(0x64e)]('quiz-generation-area')[_0x299b02(0x565)][_0x299b02(0xc9d)](_0x299b02(0x76a)),generateWorksheetBtn['disabled']=!![];try{const _0x4573a6=await callAnalysisApi(_0x10329c,_0x5b1a5f);formatAndPrintWorksheet(_0x4573a6,_0x57e800);}catch(_0xf4fae2){console[_0x299b02(0x894)](_0x299b02(0x5e8),_0xf4fae2);if(_0x57e800)_0x57e800['close']();showMessage(_0x299b02(0xaed));}finally{document['getElementById'](_0x299b02(0x7b6))[_0x299b02(0x565)]['add'](_0x299b02(0x76a)),document[_0x299b02(0x64e)](_0x299b02(0x855))[_0x299b02(0x565)][_0x299b02(0x21a)]('hidden'),generateWorksheetBtn[_0x299b02(0x87b)]=![];}}async function callAnalysisApi(_0x3c51b7,_0x252e14){const _0x1703f2=_0x354eeb,_0x4ea283={'contents':[{'role':_0x1703f2(0xb32),'parts':[{'text':_0x3c51b7}]}],'generationConfig':{'responseMimeType':_0x1703f2(0x27b),'responseSchema':_0x252e14}},_0x1f0409=_0x1703f2(0x82e),_0xfa3185='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x1f0409,_0x197af7=await fetch(_0xfa3185,{'method':_0x1703f2(0xa20),'headers':{'Content-Type':'application/json'},'body':JSON[_0x1703f2(0xb38)](_0x4ea283)});if(!_0x197af7['ok'])throw new Error(_0x1703f2(0x6c2)+_0x197af7[_0x1703f2(0xa85)]);const _0x54159c=await _0x197af7[_0x1703f2(0x8d3)]();if(_0x54159c['candidates']?.[0x0]?.['content']?.[_0x1703f2(0x290)]?.[0x0])return JSON[_0x1703f2(0x5ab)](_0x54159c['candidates'][0x0][_0x1703f2(0x8e2)][_0x1703f2(0x290)][0x0][_0x1703f2(0x4c3)]);else{let _0x5c7796='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x54159c['promptFeedback']?.[_0x1703f2(0xbbd)])_0x5c7796=_0x1703f2(0x280)+_0x54159c[_0x1703f2(0x5db)][_0x1703f2(0xbbd)]+'.';else _0x54159c[_0x1703f2(0x750)]?.[0x0]?.[_0x1703f2(0x5e9)]&&_0x54159c[_0x1703f2(0x750)][0x0][_0x1703f2(0x5e9)]!==_0x1703f2(0x87f)&&(_0x5c7796=_0x1703f2(0x5cf)+_0x54159c['candidates'][0x0][_0x1703f2(0x5e9)]+'.');console[_0x1703f2(0x894)](_0x5c7796,JSON[_0x1703f2(0xb38)](_0x54159c));throw new Error(_0x5c7796);}}async function handleStartSyncMode(_0x2a8626,_0x529835=![],_0x1789cb='classic'){const _0x5e7543=_0x354eeb,_0x48e173=allQuizzes[_0x5e7543(0x52f)](_0x4bc824=>_0x4bc824['id']===_0x2a8626)||allQuizzesGlobal['find'](_0x589429=>_0x589429['id']===_0x2a8626);if(!_0x48e173){showMessage(_0x5e7543(0xccb));return;}currentQuizData=getShuffledQuiz(_0x48e173);const _0x503040=Math['floor'](0x3e8+Math[_0x5e7543(0xb7b)]()*0x2328)[_0x5e7543(0x3ea)](),_0x28900d=doc(db,'artifacts/'+appId+'/public/data/projects',_0x48e173[_0x5e7543(0xd27)]),_0x414f5e=await getDoc(_0x28900d);if(!_0x414f5e[_0x5e7543(0x2c9)]()){showMessage(_0x5e7543(0x891));return;}const _0x576e8e=_0x414f5e[_0x5e7543(0xbb9)]()[_0x5e7543(0x4c1)]||[],_0x387120={};if(_0x1789cb===_0x5e7543(0x8b3)){const _0x37155f=[...ANONYMOUS_NAMES][_0x5e7543(0x705)](()=>0.5-Math[_0x5e7543(0xb7b)]());_0x576e8e['forEach']((_0x6fc749,_0x302a04)=>{_0x387120[_0x6fc749]=_0x37155f[_0x302a04]||'ผู้เล่น\x20'+(_0x302a04+0x1);});}try{const _0x134686=await addDoc(collection(db,_0x5e7543(0x53f)+appId+_0x5e7543(0xcd7)),{'quizId':_0x48e173['id'],'pin':_0x503040,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x529835,'players':{},'gameVariant':_0x1789cb,'reviewQuestionIndex':0x0,'playerNicknames':_0x387120,'isAnonymousRevealed':![]});currentLiveGameId=_0x134686['id'],showView(_0x5e7543(0x4a5)),renderSyncLobbyView(_0x503040,_0x48e173[_0x5e7543(0xdb7)]),listenForSyncGameUpdates();}catch(_0x4b3139){console[_0x5e7543(0x894)]('Error\x20starting\x20sync\x20game:',_0x4b3139),showMessage(_0x5e7543(0xb22));}}function calculateFinalPodiumScores(_0x27e1c0){const _0x5e2f63=_0x354eeb;if(!_0x27e1c0||!_0x27e1c0['shuffledQuiz']||!_0x27e1c0[_0x5e2f63(0xc09)])return _0x27e1c0[_0x5e2f63(0xc09)]||{};const _0x1b1895=_0x27e1c0[_0x5e2f63(0x660)][_0x5e2f63(0xc42)][_0x5e2f63(0x2ee)],_0x1fccb4=JSON[_0x5e2f63(0x5ab)](JSON[_0x5e2f63(0xb38)](_0x27e1c0[_0x5e2f63(0xc09)]));return Object['values'](_0x1fccb4)[_0x5e2f63(0x37d)](_0xfad751=>{const _0xf1c54a=_0x5e2f63,_0x165f30=_0xfad751[_0xf1c54a(0x3cb)];let _0x1ae875=_0x165f30,_0x34a27a=0x0;_0x27e1c0['isConfidenceScoringEnabled']&&_0xfad751[_0xf1c54a(0x758)]&&_0xfad751[_0xf1c54a(0x758)][_0xf1c54a(0x37d)](_0x3dfeb8=>{const _0x53325d=_0xf1c54a;if(_0x3dfeb8['isCorrect']&&(_0x3dfeb8[_0x53325d(0x693)]===!![]||_0x3dfeb8[_0x53325d(0x693)]===_0x53325d(0xb3f)))_0x34a27a+=0x1;else!_0x3dfeb8[_0x53325d(0x241)]&&(_0x3dfeb8[_0x53325d(0x693)]===!![]||_0x3dfeb8[_0x53325d(0x693)]===_0x53325d(0xb3f))&&(_0x34a27a-=0x1);}),_0x1ae875+=_0x34a27a,_0x1b1895>0x0&&_0x165f30===_0x1b1895&&(_0x1ae875+=0x1,_0xfad751[_0xf1c54a(0x466)]=!![]),_0xfad751['score']=_0x1ae875;}),_0x1fccb4;}function listenForSyncGameUpdates(){const _0x9c2009=_0x354eeb;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x456fe6=doc(db,'artifacts/'+appId+_0x9c2009(0xcd7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x456fe6,_0x2553b8=>{const _0x3974ca=_0x9c2009;if(!_0x2553b8['exists']()){sessionStorage[_0x3974ca(0xad3)](_0x3974ca(0xb8e));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x3974ca(0x86c));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x3974ca(0xaea)):showView(_0x3974ca(0x35e));return;}const _0x5e86f8=_0x2553b8[_0x3974ca(0xbb9)]();currentMode==='admin'?updateAdminSyncView(_0x5e86f8):updateStudentSyncView(_0x5e86f8);});}function renderSyncLobbyView(_0x5f4f48,_0x437170){const _0x2f0f07=_0x354eeb;liveGameView[_0x2f0f07(0xc5e)]=_0x2f0f07(0x96b)+_0x437170+_0x2f0f07(0xbb1)+_0x5f4f48+_0x2f0f07(0x9ed);const _0x1fe7e6=document[_0x2f0f07(0x64e)]('confidence-scoring-toggle'),_0x180ccd=document[_0x2f0f07(0x64e)](_0x2f0f07(0x368));_0x1fe7e6[_0x2f0f07(0xa02)](_0x2f0f07(0x718),()=>{const _0x1f05eb=_0x2f0f07;_0x180ccd[_0x1f05eb(0x1ff)][_0x1f05eb(0xa16)]=_0x1fe7e6[_0x1f05eb(0x5f7)]?_0x1f05eb(0xb72):'none';}),document['getElementById'](_0x2f0f07(0xbd0))['addEventListener'](_0x2f0f07(0x4f9),async()=>{const _0x24eab1=_0x2f0f07,_0x435dc4=doc(db,_0x24eab1(0x53f)+appId+'/public/data/syncGames',currentLiveGameId),_0x238667=document[_0x24eab1(0x64e)](_0x24eab1(0x497))['checked'];await updateDoc(_0x435dc4,{'status':_0x24eab1(0xdae),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x238667});});}function updateAdminSyncView(_0x5a4122){const _0x41f110=_0x354eeb;switch(_0x5a4122[_0x41f110(0xa85)]){case _0x41f110(0xcca):renderSyncLobbyView(_0x5a4122['pin'],_0x5a4122[_0x41f110(0x660)][_0x41f110(0xdb7)]);const _0x5c8e76=Object[_0x41f110(0x8e0)](_0x5a4122[_0x41f110(0xc09)]||{})['filter'](([_0xe102e9,_0x304a82])=>_0x304a82[_0x41f110(0xa85)]!=='inactive');document[_0x41f110(0x64e)]('player-count')[_0x41f110(0xd72)]=_0x5c8e76[_0x41f110(0x2ee)],document[_0x41f110(0x64e)](_0x41f110(0x7c0))[_0x41f110(0xc5e)]=_0x5c8e76[_0x41f110(0x1fa)](([_0xee8321,_0x8c382c])=>_0x41f110(0xb28)+_0xee8321+_0x41f110(0xad4)+_0xee8321+_0x41f110(0x6e4))[_0x41f110(0x5fa)]('')||_0x41f110(0x87e),document[_0x41f110(0x64e)](_0x41f110(0xbd0))[_0x41f110(0x87b)]=_0x5c8e76['length']===0x0;break;case'question':const _0x680aff=Object[_0x41f110(0xa7b)](_0x5a4122[_0x41f110(0xc09)]||{})[_0x41f110(0xdc7)](_0x534961=>_0x534961['status']!==_0x41f110(0xaac)),_0x48dfef=_0x680aff[_0x41f110(0xdc7)](_0x188b1c=>_0x188b1c[_0x41f110(0x568)])['length'],_0x1c68c0=_0x48dfef===_0x680aff[_0x41f110(0x2ee)]&&_0x680aff['length']>0x0;if(_0x1c68c0&&_0x5a4122[_0x41f110(0xa85)]==='question'){const _0x44f5d5=doc(db,_0x41f110(0x53f)+appId+_0x41f110(0xcd7),currentLiveGameId);updateDoc(_0x44f5d5,{'status':_0x41f110(0xa0a)});}else{if(document['getElementById']('sync-player-management')===null)renderAdminSyncQuestionView(_0x5a4122);else{const _0x1deeb1=document[_0x41f110(0x64e)]('answer-counter');_0x1deeb1&&(_0x1deeb1[_0x41f110(0xd72)]=_0x48dfef+'/'+_0x680aff[_0x41f110(0x2ee)]);const _0x560642=document[_0x41f110(0x64e)](_0x41f110(0x5d6));_0x560642&&(_0x560642[_0x41f110(0xc5e)]=_0x680aff['map'](_0x980f2e=>{const _0x24bce0=_0x41f110,_0x16c5e6=_0x980f2e[_0x24bce0(0x568)]?_0x24bce0(0x84a):_0x24bce0(0xde5),_0x445a3e=_0x980f2e[_0x24bce0(0x568)]?_0x24bce0(0xd68):_0x24bce0(0x271);return _0x24bce0(0xb03)+_0x16c5e6+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x445a3e+_0x24bce0(0xa48)+_0x980f2e[_0x24bce0(0x799)]+_0x24bce0(0x912)+_0x980f2e['name']+_0x24bce0(0x804);})[_0x41f110(0x5fa)](''));}}break;case _0x41f110(0xa0a):const _0x1b6664=_0x5a4122[_0x41f110(0x9a3)],_0x507c03=_0x5a4122['shuffledQuiz']['questions'][_0x1b6664];renderSyncSummaryView(_0x5a4122,_0x507c03,!![]);break;case _0x41f110(0x2c3):const _0x16242e=_0x5a4122[_0x41f110(0x519)]||_0x41f110(0x200);_0x16242e===_0x41f110(0xdda)?renderAdminSyncDashboard(_0x5a4122,!![],_0x5a4122[_0x41f110(0xaf7)]):renderAdminSyncDashboard(_0x5a4122,!![],_0x5a4122[_0x41f110(0x9a3)]);break;case _0x41f110(0x6de):_0x5a4122['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x5a4122);sessionStorage[_0x41f110(0xad3)](_0x41f110(0xb8e));const _0x3d636b=calculateFinalPodiumScores(_0x5a4122);showPodiumView(_0x3d636b,'sync');break;}}function renderAdminSyncQuestionView(_0x503587){const _0x54f387=_0x354eeb,_0x424f57=_0x503587['currentQuestionIndex'],_0x2c691d=_0x503587[_0x54f387(0x660)][_0x54f387(0xc42)][_0x424f57],_0x19a6cb=_0x503587[_0x54f387(0x660)][_0x54f387(0xc42)][_0x54f387(0x2ee)],_0x3f55b4=Object[_0x54f387(0xa7b)](_0x503587['players']||{})['filter'](_0x1cfc0a=>_0x1cfc0a[_0x54f387(0xa85)]!==_0x54f387(0xaac)),_0x83ce9e=_0x3f55b4[_0x54f387(0xdc7)](_0x10d765=>_0x10d765[_0x54f387(0x568)])[_0x54f387(0x2ee)],_0x5b87bc=_0x83ce9e===_0x3f55b4[_0x54f387(0x2ee)]&&_0x3f55b4['length']>0x0,_0x3dc145=(_0x2c691d[_0x54f387(0x3e0)]||[])[_0x54f387(0x1fa)](_0x48f377=>_0x54f387(0x314)+_0x48f377+'</div>')[_0x54f387(0x5fa)]('');liveGameView['innerHTML']=_0x54f387(0xb2f)+(_0x424f57+0x1)+_0x54f387(0x865)+_0x19a6cb+_0x54f387(0x33f)+_0x83ce9e+'/'+_0x3f55b4[_0x54f387(0x2ee)]+_0x54f387(0xbf3)+_0x2c691d[_0x54f387(0x9f4)]+_0x54f387(0xd56)+_0x3dc145+_0x54f387(0x434)+(!_0x5b87bc?'disabled':'')+_0x54f387(0xbc0);if(window[_0x54f387(0x8cc)])MathJax[_0x54f387(0xacc)]();document[_0x54f387(0x64e)]('show-results-btn')[_0x54f387(0xa02)](_0x54f387(0x4f9),async()=>{const _0x3a20a0=_0x54f387,_0x4c3e05=doc(db,_0x3a20a0(0x53f)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4c3e05,{'status':_0x3a20a0(0x2c3)});}),document['getElementById'](_0x54f387(0x680))[_0x54f387(0xa5d)]=()=>{const _0x3b227d=_0x54f387;openScratchpad(_0x2c691d,_0x2c691d[_0x3b227d(0x3e0)]||[]);},document[_0x54f387(0x64e)](_0x54f387(0x922))[_0x54f387(0xa02)]('click',()=>{const _0x595904=_0x54f387;document['getElementById']('sync-player-management')[_0x595904(0x565)]['toggle'](_0x595904(0x76a));});}function renderSyncLeaderboardView(_0x45cf7d,_0x16bf6e){const _0x486afe=_0x354eeb,_0x4a1ddb=Object[_0x486afe(0xa7b)](_0x45cf7d['players']||{});_0x4a1ddb[_0x486afe(0x705)]((_0x5cebf4,_0x54e3e9)=>_0x54e3e9['score']-_0x5cebf4[_0x486afe(0x3cb)]);const _0x1f272d=_0x4a1ddb[_0x486afe(0xca0)](0x0,0x5);let _0x28542f='';if(_0x16bf6e){const _0x4e3438=_0x45cf7d[_0x486afe(0x9a3)]>=_0x45cf7d[_0x486afe(0x660)][_0x486afe(0xc42)][_0x486afe(0x2ee)]-0x1;_0x28542f=_0x486afe(0x490)+(_0x4e3438?_0x486afe(0x3e5):_0x486afe(0xaa3))+_0x486afe(0x2ba);}else _0x28542f=_0x486afe(0x805);liveGameView['innerHTML']=_0x486afe(0x4f2)+_0x1f272d[_0x486afe(0x1fa)]((_0x132825,_0xcbf45b)=>_0x486afe(0xb12)+(_0xcbf45b+0x1)+'.\x20'+_0x132825['name']+_0x486afe(0xc19)+_0x132825[_0x486afe(0x3cb)]+'</span></div>')['join']('')+_0x486afe(0x7ae)+_0x28542f+_0x486afe(0x2ab),_0x16bf6e&&document[_0x486afe(0x64e)](_0x486afe(0x410))['addEventListener'](_0x486afe(0x4f9),async()=>{const _0x47a6b2=_0x486afe,_0x214520=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x43c9ef=_0x45cf7d['currentQuestionIndex']+0x1;if(_0x43c9ef<_0x45cf7d[_0x47a6b2(0x660)][_0x47a6b2(0xc42)]['length']){const _0x1712df={};Object['keys'](_0x45cf7d[_0x47a6b2(0xc09)])[_0x47a6b2(0x37d)](_0x234e8c=>{const _0x2403fb=_0x47a6b2;_0x1712df[_0x2403fb(0x4d6)+_0x234e8c+_0x2403fb(0xad7)]=![];}),await updateDoc(_0x214520,{..._0x1712df,'status':_0x47a6b2(0xdae),'currentQuestionIndex':_0x43c9ef,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x214520,{'status':_0x47a6b2(0x6de)});});}async function handleJoinSyncGame(){const _0x3576a9=_0x354eeb,_0x2ecf5f=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x2ecf5f||_0x2ecf5f['trim']()[_0x3576a9(0x2ee)]!==0x2){showMessage(_0x3576a9(0x6e6));return;}try{const _0x5648ee=collection(db,_0x3576a9(0x53f)+appId+_0x3576a9(0xcd7)),_0x21672a=query(_0x5648ee,where('pin','==',_0x2ecf5f['trim']()),where(_0x3576a9(0xa85),'==',_0x3576a9(0xcca))),_0xb5ab31=await getDocs(_0x21672a);if(_0xb5ab31['empty']){showMessage(_0x3576a9(0xd79));return;}const _0x1e45bf=_0xb5ab31['docs'][0x0];currentLiveGameId=_0x1e45bf['id'];const _0x1038bf=_0x1e45bf[_0x3576a9(0xbb9)](),_0x25722b=doc(db,_0x3576a9(0x53f)+appId+_0x3576a9(0x450),_0x1038bf[_0x3576a9(0x67d)]),_0x9b07ab=await getDoc(_0x25722b);if(!_0x9b07ab[_0x3576a9(0x2c9)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x24731a=_0x9b07ab[_0x3576a9(0xbb9)](),_0x19cbb1=doc(db,_0x3576a9(0x53f)+appId+_0x3576a9(0x32d),_0x24731a[_0x3576a9(0xd27)]),_0x29d5b=await getDoc(_0x19cbb1);if(!_0x29d5b['exists']())throw new Error(_0x3576a9(0x9bf));currentQuizData=_0x1038bf[_0x3576a9(0x660)];const _0x115c3c=_0x29d5b[_0x3576a9(0xbb9)]();showView(_0x3576a9(0x379)),showTeamPlayerSelection(_0x115c3c[_0x3576a9(0x4c1)],_0x24731a['topic']);const _0x4d171f=document[_0x3576a9(0x64e)](_0x3576a9(0x8f0));_0x4d171f[_0x3576a9(0xa5d)]=confirmAndJoinSyncGame;}catch(_0x561936){console[_0x3576a9(0x894)](_0x3576a9(0x552),_0x561936),showMessage(_0x3576a9(0x330)+_0x561936[_0x3576a9(0x5b6)]);}}function updateStudentSyncView(_0x4f6176){const _0x2fc4cf=_0x354eeb,_0x2ea73e=_0x4f6176[_0x2fc4cf(0xc09)][localTeamPlayers[0x0]];switch(_0x4f6176[_0x2fc4cf(0xa85)]){case _0x2fc4cf(0xcca):showView(_0x2fc4cf(0x4a5)),liveGameView[_0x2fc4cf(0xc5e)]=_0x2fc4cf(0x806);break;case'question':const _0x483ad8=localTeamPlayers[_0x2fc4cf(0x2b0)](_0x20b5ba=>_0x4f6176[_0x2fc4cf(0xc09)][_0x20b5ba]?.['answered']===!![]);_0x483ad8?liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x4f6176);break;case _0x2fc4cf(0xa0a):liveGameView[_0x2fc4cf(0xc5e)]=_0x2fc4cf(0x6ce);break;case _0x2fc4cf(0x2c3):localPlayerTurnIndex=0x0;const _0x3f2efa=_0x4f6176[_0x2fc4cf(0x519)]||_0x2fc4cf(0x200);_0x3f2efa===_0x2fc4cf(0xdda)?renderAdminSyncDashboard(_0x4f6176,![],_0x4f6176['reviewQuestionIndex']):renderStudentSyncResultsView(_0x4f6176);break;case _0x2fc4cf(0x6de):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2fc4cf(0xac0)]('fullscreenchange',handleFullscreenChange),document[_0x2fc4cf(0xac0)]('visibilitychange',handleVisibilityChange),sessionStorage['removeItem'](_0x2fc4cf(0xb8e));const _0x1540a2=calculateFinalPodiumScores(_0x4f6176);showPodiumView(_0x1540a2,_0x2fc4cf(0x3d2));break;}}function renderStudentSyncResultsView(_0x52a7e3){const _0x252a2c=_0x354eeb,_0x4a7a09=localTeamPlayers['map'](_0x18626f=>_0x52a7e3[_0x252a2c(0xc09)][_0x18626f])[_0x252a2c(0xdc7)](Boolean);_0x4a7a09['sort']((_0x24bc84,_0x5d12b7)=>(_0x5d12b7[_0x252a2c(0x3cb)]||0x0)-(_0x24bc84['score']||0x0));const _0x58790f=_0x52a7e3[_0x252a2c(0x519)]||_0x252a2c(0x200),_0x5e9613=_0x52a7e3[_0x252a2c(0x660)]['questions'];let _0x46c77f='';if(_0x58790f===_0x252a2c(0xdda)){const _0x3a047d=_0x52a7e3[_0x252a2c(0xaf7)]>=_0x5e9613['length']-0x1;_0x3a047d?_0x46c77f=_0x252a2c(0x2c5):_0x46c77f='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x3c1910=_0x52a7e3[_0x252a2c(0x9a3)]>=_0x5e9613[_0x252a2c(0x2ee)]-0x1;_0x3c1910?_0x46c77f=_0x252a2c(0x2c5):_0x46c77f=_0x252a2c(0xd37);}const _0x13b633=_0x252a2c(0x581)+_0x4a7a09[_0x252a2c(0x1fa)]((_0x2bc944,_0x303e29)=>_0x252a2c(0x8d2)+(_0x303e29+0x1)+_0x252a2c(0x546)+_0x2bc944['name']+_0x252a2c(0x2ff)+_0x2bc944['score']+_0x252a2c(0x8e6))[_0x252a2c(0x5fa)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46c77f+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x252a2c(0xc5e)]=_0x13b633;}function renderStudentSyncQuestionView(_0x11d76c){const _0xd0a013=_0x354eeb;while(localPlayerTurnIndex<localTeamPlayers[_0xd0a013(0x2ee)]&&_0x11d76c[_0xd0a013(0xc09)][localTeamPlayers[localPlayerTurnIndex]]?.[_0xd0a013(0x568)]===!![]){localPlayerTurnIndex++;}const _0x3c8257=localTeamPlayers[localPlayerTurnIndex];if(!_0x3c8257)return;const _0x288c5b=_0x11d76c[_0xd0a013(0x9a3)],_0x244185=_0x11d76c[_0xd0a013(0x660)][_0xd0a013(0xc42)][_0xd0a013(0x2ee)],_0x4501cc=_0x11d76c['shuffledQuiz'][_0xd0a013(0xc42)][_0x288c5b],_0x586093=_0x4501cc[_0xd0a013(0x4fd)]||_0x11d76c[_0xd0a013(0x660)][_0xd0a013(0x6a2)];let _0x2ace13='',_0x506daa=![];switch(_0x586093){case'true_false':_0x2ace13=_0xd0a013(0x9ab);break;case _0xd0a013(0x6bd):case _0xd0a013(0xd8f):_0x506daa=!![],_0x2ace13='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xd0a013(0xc67):_0x506daa=!![],_0x2ace13=_0xd0a013(0x3b0)+(_0x4501cc[_0xd0a013(0x589)]||[])[_0xd0a013(0x1fa)](_0x4e0d8a=>'<option\x20value=\x22'+_0x4e0d8a+'\x22>'+_0x4e0d8a+_0xd0a013(0x2ea))[_0xd0a013(0x5fa)]('')+_0xd0a013(0xdcf);break;case _0xd0a013(0xda2):default:_0x2ace13=(_0x4501cc[_0xd0a013(0x3e0)]||[])[_0xd0a013(0x1fa)]((_0xf0d320,_0x2908bf)=>_0xd0a013(0x7a2)+_0x2908bf+_0xd0a013(0xa70)+_0xf0d320+'</button>')[_0xd0a013(0x5fa)]('');break;}liveGameView[_0xd0a013(0xc5e)]=_0xd0a013(0x99b)+(_0x288c5b+0x1)+_0xd0a013(0x865)+_0x244185+_0xd0a013(0x42e)+_0x3c8257+_0xd0a013(0xde6)+(_0x4501cc['questionText']||_0x4501cc[_0xd0a013(0xc59)])+_0xd0a013(0x5be)+_0x2ace13+_0xd0a013(0x837);if(window[_0xd0a013(0x8cc)])MathJax['typesetPromise']();function _0xbd24f4(_0x479001,_0x3b1de7,_0x1eb7e0,_0x3833c4){const _0x4e5555=_0xd0a013,_0x682b35=_0x1eb7e0[_0x4e5555(0xaa8)]===!![];if(_0x682b35){document['getElementById'](_0x4e5555(0xd5d))[_0x4e5555(0x524)][_0x4e5555(0x91e)]='sync';const _0x555d55=document[_0x4e5555(0x64e)](_0x4e5555(0x35a));_0x555d55[_0x4e5555(0x524)][_0x4e5555(0xa8e)]=_0x479001,_0x555d55[_0x4e5555(0x524)][_0x4e5555(0xdae)]=JSON[_0x4e5555(0xb38)](_0x3b1de7),_0x555d55[_0x4e5555(0x524)][_0x4e5555(0x873)]=JSON[_0x4e5555(0xb38)](_0x1eb7e0),_0x555d55[_0x4e5555(0x524)][_0x4e5555(0x96a)]=_0x3833c4,document[_0x4e5555(0x64e)]('confidence-modal')[_0x4e5555(0x565)]['remove']('hidden');}else handleSyncAnswerSubmit(_0x479001,_0x3b1de7,_0x1eb7e0,_0x3833c4,![]);}_0x506daa?document[_0xd0a013(0x64e)](_0xd0a013(0x88f))['addEventListener'](_0xd0a013(0x4f9),()=>{const _0x1ac2d0=_0xd0a013,_0x5fae93=document[_0x1ac2d0(0x64e)](_0x1ac2d0(0xd45))||document[_0x1ac2d0(0x64e)](_0x1ac2d0(0xa2a));if(_0x5fae93[_0x1ac2d0(0x998)]['trim']()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0xbd24f4(_0x5fae93['value'],_0x4501cc,_0x11d76c,_0x3c8257);}):document['querySelectorAll'](_0xd0a013(0xc53))[_0xd0a013(0x37d)](_0x3ad064=>{const _0x21a017=_0xd0a013;_0x3ad064[_0x21a017(0xa02)](_0x21a017(0x4f9),()=>{const _0x217b64=_0x21a017;_0xbd24f4(_0x3ad064[_0x217b64(0x524)][_0x217b64(0x998)],_0x4501cc,_0x11d76c,_0x3c8257);});});}async function handleSyncAnswerSubmit(_0x562846,_0x5409f8,_0x677777,_0x47f0e6,_0x437b17){const _0x4979e6=_0x354eeb;document[_0x4979e6(0x72d)](_0x4979e6(0xa19))[_0x4979e6(0x37d)](_0x99335a=>_0x99335a['disabled']=!![]);const _0x1627db=_0x5409f8[_0x4979e6(0x4fd)]||_0x677777[_0x4979e6(0x660)][_0x4979e6(0x6a2)];let _0x3b5ca3=![],_0x3b356c=_0x562846;switch(_0x1627db){case _0x4979e6(0x82f):const _0x917cb8=parseInt(_0x562846),_0x420d68=_0x5409f8[_0x4979e6(0x7e0)]===!![]||String(_0x5409f8[_0x4979e6(0x7e0)])[_0x4979e6(0x468)]()==='true';_0x3b5ca3=_0x917cb8===0x0&&_0x420d68||_0x917cb8===0x1&&!_0x420d68,_0x3b356c=_0x917cb8===0x0?'ใช่\x20/\x20ถูก':_0x4979e6(0xc07);break;case'short_answer':case _0x4979e6(0xd8f):_0x3b5ca3=await gradeShortAnswer(_0x562846,_0x5409f8);break;case _0x4979e6(0xc67):_0x3b5ca3=_0x562846===_0x5409f8[_0x4979e6(0x73a)];break;case'multiple_choice':default:const _0x2207d2=parseInt(_0x562846);_0x3b5ca3=_0x2207d2===_0x5409f8[_0x4979e6(0x5a0)];_0x5409f8[_0x4979e6(0x3e0)]&&_0x5409f8['options'][_0x2207d2]&&(_0x3b356c=_0x5409f8[_0x4979e6(0x3e0)][_0x2207d2]);break;}const _0x49fe3b=_0x3b5ca3?0x1:0x0,_0x7a484a=doc(db,'artifacts/'+appId+_0x4979e6(0xcd7),currentLiveGameId),_0x305acc={};_0x305acc[_0x4979e6(0x4d6)+_0x47f0e6+'.score']=increment(_0x49fe3b),_0x305acc[_0x4979e6(0x4d6)+_0x47f0e6+_0x4979e6(0xad7)]=!![];let _0xddd330=null;(_0x1627db===_0x4979e6(0xda2)||_0x1627db===_0x4979e6(0x82f)||_0x1627db===_0x4979e6(0xa83))&&(_0xddd330=parseInt(_0x562846));_0x305acc[_0x4979e6(0x4d6)+_0x47f0e6+_0x4979e6(0x3cd)]=_0xddd330;const _0x1681b3={'questionIndex':_0x677777[_0x4979e6(0x9a3)],'questionId':_0x5409f8['id'],'answer':_0x562846,'answerText':_0x3b356c,'isCorrect':_0x3b5ca3,'originalQuestionText':_0x5409f8['questionText']||_0x5409f8[_0x4979e6(0xc59)],'wasConfident':_0x437b17};_0x305acc['players.'+_0x47f0e6+'.answers']=arrayUnion(_0x1681b3),await updateDoc(_0x7a484a,_0x305acc);}initialize();
