const _0x248128=_0xadd6;(function(_0x2eaa12,_0x2a6b89){const _0x573e83=_0xadd6,_0xfcd828=_0x2eaa12();while(!![]){try{const _0x4e35c9=parseInt(_0x573e83(0x35f))/0x1+parseInt(_0x573e83(0x31e))/0x2*(-parseInt(_0x573e83(0x22d))/0x3)+parseInt(_0x573e83(0x496))/0x4+-parseInt(_0x573e83(0x156))/0x5+-parseInt(_0x573e83(0x324))/0x6*(-parseInt(_0x573e83(0x1db))/0x7)+-parseInt(_0x573e83(0x2a6))/0x8+-parseInt(_0x573e83(0x633))/0x9*(-parseInt(_0x573e83(0x30c))/0xa);if(_0x4e35c9===_0x2a6b89)break;else _0xfcd828['push'](_0xfcd828['shift']());}catch(_0x859f8d){_0xfcd828['push'](_0xfcd828['shift']());}}}(_0x4a23,0x566d7));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x196797=_0xadd6;if(_0x196797(0x5f1)in navigator)try{wakeLock=await navigator[_0x196797(0x5f1)][_0x196797(0x90a)]('screen'),console['log'](_0x196797(0x23e)),wakeLock[_0x196797(0x631)]('release',()=>{const _0x4577c7=_0x196797;console[_0x4577c7(0x1c3)](_0x4577c7(0x3dc));});}catch(_0x5a40e6){console[_0x196797(0x56c)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x5a40e6['name']+',\x20'+_0x5a40e6['message']);}else console[_0x196797(0x138)](_0x196797(0x904));},releaseWakeLock=async()=>{const _0x31dd42=_0xadd6;wakeLock!==null&&(await wakeLock[_0x31dd42(0x966)](),wakeLock=null,console['log'](_0x31dd42(0x7a2)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5e03a5=_0xadd6;if(dimTimer)clearTimeout(dimTimer);document[_0x5e03a5(0x3b6)]['classList'][_0x5e03a5(0x3cc)](_0x5e03a5(0x70f)),dimTimer=setTimeout(()=>{const _0xc692fa=_0x5e03a5;document[_0xc692fa(0x3b6)][_0xc692fa(0x639)]['add'](_0xc692fa(0x70f)),console[_0xc692fa(0x1c3)](_0xc692fa(0x510));},inactivityTime);}function stopDimTimer(){const _0x23a4a5=_0xadd6;if(dimTimer)clearTimeout(dimTimer);document[_0x23a4a5(0x3b6)][_0x23a4a5(0x639)][_0x23a4a5(0x3cc)](_0x23a4a5(0x70f)),window['removeEventListener'](_0x23a4a5(0x71f),resetDimTimer),window[_0x23a4a5(0x83d)](_0x23a4a5(0x183),resetDimTimer),window[_0x23a4a5(0x83d)](_0x23a4a5(0x24e),resetDimTimer),window['removeEventListener'](_0x23a4a5(0x936),resetDimTimer),console[_0x23a4a5(0x1c3)](_0x23a4a5(0x94a));}let history=[],historyStep=-0x1,scratchpadPenColor=_0x248128(0x3d0),modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x248128(0x5e8),'pinnedProjects':[],'projectView':_0x248128(0x131)};const allMathTopics=[{'category':_0x248128(0x63d),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x62f)},{'category':_0x248128(0x63d),'name':'การปัดเศษและประมาณค่า'},{'category':_0x248128(0x63d),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x2d3)},{'category':_0x248128(0x63d),'name':'การลบ'},{'category':_0x248128(0x63d),'name':_0x248128(0x8e6)},{'category':_0x248128(0x63d),'name':_0x248128(0x192)},{'category':_0x248128(0x63d),'name':'จำนวนเต็มบวก'},{'category':_0x248128(0x63d),'name':_0x248128(0x6d4)},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x32e)},{'category':_0x248128(0x63d),'name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x160)},{'category':_0x248128(0x63d),'name':_0x248128(0x36a)},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x803)},{'category':_0x248128(0x63d),'name':_0x248128(0x7cf)},{'category':_0x248128(0x63d),'name':_0x248128(0x733)},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x407)},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x941)},{'category':_0x248128(0x63d),'name':_0x248128(0x5bc)},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x526)},{'category':_0x248128(0x63d),'name':'การคูณเศษส่วน'},{'category':_0x248128(0x63d),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x707)},{'category':_0x248128(0x63d),'name':_0x248128(0x8e8)},{'category':'จำนวนและการดำเนินการ','name':'การบวกทศนิยม'},{'category':_0x248128(0x63d),'name':_0x248128(0x88f)},{'category':_0x248128(0x63d),'name':_0x248128(0x24a)},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x592)},{'category':_0x248128(0x63d),'name':_0x248128(0x30e)},{'category':_0x248128(0x63d),'name':_0x248128(0x237)},{'category':_0x248128(0x63d),'name':_0x248128(0x3f3)},{'category':_0x248128(0x63d),'name':_0x248128(0x41e)},{'category':'จำนวนและการดำเนินการ','name':_0x248128(0x4e5)},{'category':_0x248128(0x63d),'name':_0x248128(0x587)},{'category':_0x248128(0x63d),'name':_0x248128(0x4de)},{'category':_0x248128(0x63d),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x248128(0x1e1),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x248128(0x942)},{'category':_0x248128(0x1e1),'name':_0x248128(0x397)},{'category':_0x248128(0x1e1),'name':_0x248128(0x3a0)},{'category':_0x248128(0x1e1),'name':_0x248128(0x5c8)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':_0x248128(0x1e1),'name':_0x248128(0x1f1)},{'category':_0x248128(0x1e1),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x248128(0x1e1),'name':_0x248128(0x5c2)},{'category':_0x248128(0x1e1),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x248128(0x1e1),'name':_0x248128(0x87e)},{'category':_0x248128(0x1e1),'name':'มุมและการวัดมุม'},{'category':_0x248128(0x1e1),'name':'สเกลและแผนที่'},{'category':_0x248128(0x1e1),'name':_0x248128(0x84f)},{'category':'เรขาคณิต','name':_0x248128(0x5a9)},{'category':_0x248128(0x1a1),'name':'ความสัมพันธ์ของมุม'},{'category':_0x248128(0x1a1),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x248128(0x1a1),'name':_0x248128(0x890)},{'category':_0x248128(0x1a1),'name':_0x248128(0x220)},{'category':_0x248128(0x1a1),'name':'ความคล้ายของรูป'},{'category':_0x248128(0x1a1),'name':_0x248128(0x7df)},{'category':_0x248128(0x1a1),'name':_0x248128(0x74e)},{'category':_0x248128(0x1a1),'name':_0x248128(0x6f5)},{'category':_0x248128(0x1a1),'name':_0x248128(0x41d)},{'category':'เรขาคณิต','name':_0x248128(0x46a)},{'category':_0x248128(0x1a1),'name':_0x248128(0x4f5)},{'category':_0x248128(0x1a1),'name':_0x248128(0x33b)},{'category':_0x248128(0x1a1),'name':_0x248128(0x33d)},{'category':_0x248128(0x1a1),'name':_0x248128(0x44f)},{'category':_0x248128(0x64e),'name':_0x248128(0x709)},{'category':_0x248128(0x64e),'name':_0x248128(0x681)},{'category':_0x248128(0x64e),'name':_0x248128(0x1cd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x4aa)},{'category':_0x248128(0x64e),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x248128(0x64e),'name':_0x248128(0x263)},{'category':_0x248128(0x64e),'name':_0x248128(0x45d)},{'category':_0x248128(0x64e),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x164)},{'category':_0x248128(0x64e),'name':_0x248128(0x682)},{'category':_0x248128(0x64e),'name':_0x248128(0x57a)},{'category':_0x248128(0x64e),'name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x282)},{'category':_0x248128(0x64e),'name':'อสมการเชิงเส้น'},{'category':_0x248128(0x64e),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x248128(0x64e),'name':_0x248128(0x2b5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x48b)},{'category':_0x248128(0x64e),'name':_0x248128(0x67c)},{'category':_0x248128(0x64e),'name':_0x248128(0x81d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x135)},{'category':_0x248128(0x64e),'name':_0x248128(0x665)},{'category':_0x248128(0x64e),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x248128(0x64e),'name':_0x248128(0x41c)},{'category':_0x248128(0x64e),'name':_0x248128(0x351)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x458)},{'category':_0x248128(0x64e),'name':_0x248128(0x137)},{'category':_0x248128(0x64e),'name':_0x248128(0x8f6)},{'category':_0x248128(0x64e),'name':_0x248128(0x81f)},{'category':_0x248128(0x64e),'name':_0x248128(0x1a4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x837)},{'category':_0x248128(0x64e),'name':_0x248128(0x4e6)},{'category':_0x248128(0x64e),'name':_0x248128(0x3a7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x248128(0x262)},{'category':_0x248128(0x64e),'name':_0x248128(0x741)},{'category':'เรขาคณิตวิเคราะห์','name':_0x248128(0x2ea)},{'category':'เรขาคณิตวิเคราะห์','name':_0x248128(0x17d)},{'category':_0x248128(0x719),'name':_0x248128(0x541)},{'category':_0x248128(0x719),'name':_0x248128(0x667)},{'category':_0x248128(0x719),'name':_0x248128(0x8d2)},{'category':'เรขาคณิตวิเคราะห์','name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x248128(0x719),'name':_0x248128(0x337)},{'category':_0x248128(0x719),'name':_0x248128(0x5e6)},{'category':_0x248128(0x719),'name':_0x248128(0x926)},{'category':_0x248128(0x7fc),'name':_0x248128(0x51f)},{'category':'ตรีโกณมิติ','name':_0x248128(0x4f8)},{'category':_0x248128(0x7fc),'name':_0x248128(0x89b)},{'category':_0x248128(0x7fc),'name':_0x248128(0x5e4)},{'category':_0x248128(0x7fc),'name':_0x248128(0x198)},{'category':_0x248128(0x7fc),'name':_0x248128(0x2f5)},{'category':_0x248128(0x7fc),'name':_0x248128(0x2bc)},{'category':'ตรีโกณมิติ','name':_0x248128(0x782)},{'category':_0x248128(0x7fc),'name':_0x248128(0x538)},{'category':_0x248128(0x7fc),'name':_0x248128(0x811)},{'category':_0x248128(0x7fc),'name':_0x248128(0x395)},{'category':_0x248128(0x7d4),'name':_0x248128(0x6a2)},{'category':_0x248128(0x7d4),'name':_0x248128(0x16e)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0x248128(0x8e7)},{'category':_0x248128(0x7d4),'name':'ฮิสโตแกรม'},{'category':_0x248128(0x7d4),'name':_0x248128(0x343)},{'category':'สถิติและความน่าจะเป็น','name':_0x248128(0x18d)},{'category':'สถิติและความน่าจะเป็น','name':_0x248128(0x2d5)},{'category':_0x248128(0x7d4),'name':'ฐานนิยม'},{'category':'สถิติและความน่าจะเป็น','name':_0x248128(0x1a9)},{'category':_0x248128(0x7d4),'name':_0x248128(0x749)},{'category':_0x248128(0x7d4),'name':_0x248128(0x5b7)},{'category':_0x248128(0x7d4),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x248128(0x7d4),'name':_0x248128(0x7bc)},{'category':'สถิติและความน่าจะเป็น','name':_0x248128(0x411)},{'category':'สถิติและความน่าจะเป็น','name':_0x248128(0x84c)},{'category':_0x248128(0x7d4),'name':_0x248128(0x65b)},{'category':_0x248128(0x7d4),'name':_0x248128(0x1ad)},{'category':_0x248128(0x7d4),'name':_0x248128(0x951)},{'category':'สถิติและความน่าจะเป็น','name':_0x248128(0x6bf)},{'category':_0x248128(0x7d4),'name':_0x248128(0x90d)},{'category':_0x248128(0x7d4),'name':_0x248128(0x3e3)},{'category':_0x248128(0x7d4),'name':_0x248128(0x6bd)},{'category':_0x248128(0x7d4),'name':_0x248128(0x361)},{'category':_0x248128(0x94f),'name':_0x248128(0x4ee)},{'category':'แคลคูลัสเบื้องต้น','name':_0x248128(0x8ed)},{'category':_0x248128(0x94f),'name':_0x248128(0x3e0)},{'category':_0x248128(0x94f),'name':_0x248128(0x2ff)},{'category':'แคลคูลัสเบื้องต้น','name':_0x248128(0x439)},{'category':_0x248128(0x94f),'name':_0x248128(0x78f)},{'category':_0x248128(0x94f),'name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x248128(0x777)},{'category':_0x248128(0x94f),'name':_0x248128(0x717)},{'category':_0x248128(0x94f),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x248128(0x94f),'name':_0x248128(0x33c)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x248128(0x94f),'name':_0x248128(0x8b0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x248128(0x300)},{'category':_0x248128(0x87f),'name':_0x248128(0x5c4)},{'category':_0x248128(0x87f),'name':_0x248128(0x5c0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x248128(0x87f),'name':_0x248128(0x8f7)},{'category':_0x248128(0x87f),'name':'ดีเทอร์มิแนนต์'},{'category':_0x248128(0x87f),'name':_0x248128(0x3b8)},{'category':_0x248128(0x47d),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x248128(0x47d),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x248128(0x31a)},{'category':_0x248128(0x47d),'name':_0x248128(0x701)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x248128(0x7a6)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x248128(0x8fe)},{'category':_0x248128(0x2c5),'name':_0x248128(0x276)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x248128(0x8f1)}];function renderTopicCheckboxes(){const _0x54cacb=_0x248128,_0x32b77f=document[_0x54cacb(0x3ee)](_0x54cacb(0x8c8));if(!_0x32b77f)return;const _0xca0af3=allMathTopics,_0x4c4a08=customMathTopics[_0x54cacb(0x336)](_0x3e8eae=>({'id':_0x3e8eae['id'],'category':'หัวข้อที่สร้างเอง','name':_0x3e8eae['name']})),_0xa4b10e=[..._0xca0af3,..._0x4c4a08],_0x2ef684=_0xa4b10e[_0x54cacb(0x494)]((_0x1c834,_0x5e9b52)=>{const _0x301960=_0x54cacb;return!_0x1c834[_0x5e9b52[_0x301960(0x581)]]&&(_0x1c834[_0x5e9b52[_0x301960(0x581)]]=[]),_0x1c834[_0x5e9b52[_0x301960(0x581)]][_0x301960(0x162)](_0x5e9b52),_0x1c834;},{});let _0x97337f='';const _0x176589=[_0x54cacb(0x809),...Object[_0x54cacb(0x292)](_0x2ef684)[_0x54cacb(0x305)](_0x105010=>_0x105010!==_0x54cacb(0x809))];for(const _0x49a915 of _0x176589){if(_0x2ef684[_0x49a915]){const _0x244f43=_0x49a915===_0x54cacb(0x809),_0x3819e2=_0x244f43?'fas\x20fa-user-edit':_0x54cacb(0x521),_0x20485b=_0x244f43?_0x54cacb(0x1ca):_0x54cacb(0x4b6);_0x97337f+=_0x54cacb(0x561),_0x97337f+=_0x54cacb(0x34c)+_0x20485b+_0x54cacb(0x4ae)+_0x3819e2+_0x54cacb(0x57f)+_0x49a915+_0x54cacb(0x1d4),_0x2ef684[_0x49a915][_0x54cacb(0x762)](_0x122da3=>{const _0x27892c=_0x54cacb,_0x2a0868=!!_0x122da3['id'],_0x251453=_0x2a0868?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x122da3['id']+_0x27892c(0x879)+_0x122da3['id']+_0x27892c(0x3ca)+_0x122da3['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x122da3['id']+_0x27892c(0x7a4):'';_0x97337f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x122da3['id']||'')+_0x27892c(0x274)+_0x122da3[_0x27892c(0x268)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x122da3[_0x27892c(0x268)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2a0868?_0x27892c(0x53d)+_0x122da3[_0x27892c(0x268)]+'\x22>':'')+_0x27892c(0x5a8)+_0x251453+_0x27892c(0x867);}),_0x97337f+=_0x54cacb(0x4e4);}}_0x32b77f[_0x54cacb(0x58a)]=_0x97337f||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x32b77f[_0x54cacb(0x83d)](_0x54cacb(0x91a),updateSelectedTopicsCount),_0x32b77f[_0x54cacb(0x631)](_0x54cacb(0x91a),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x25ec9b,_0x32362d){const _0x35e2e4=_0x248128;if(!_0x25ec9b||!_0x32362d['trim']()){showMessage(_0x35e2e4(0x827));return;}try{const _0x12dc37=doc(db,_0x35e2e4(0x243)+appId+_0x35e2e4(0x506),_0x25ec9b);await updateDoc(_0x12dc37,{'name':_0x32362d[_0x35e2e4(0x6b7)]()}),showMessage(_0x35e2e4(0x92a));}catch(_0x295dfc){console[_0x35e2e4(0x56c)](_0x35e2e4(0x27a),_0x295dfc),showMessage(_0x35e2e4(0x86d));}}function toggleTopicEditMode(_0x57c31,_0x59c09b){const _0x262a84=_0x248128;if(!_0x57c31)return;const _0x2d265a=_0x57c31[_0x262a84(0x828)](_0x262a84(0x1d0)),_0x5a4915=_0x57c31[_0x262a84(0x828)](_0x262a84(0x6a4)),_0x29c7a3=_0x57c31['querySelector'](_0x262a84(0x3c9)),_0x190fa3=_0x57c31[_0x262a84(0x828)](_0x262a84(0x833));_0x2d265a[_0x262a84(0x639)][_0x262a84(0x854)]('hidden',_0x59c09b),_0x5a4915[_0x262a84(0x639)][_0x262a84(0x854)]('hidden',!_0x59c09b),_0x29c7a3[_0x262a84(0x639)][_0x262a84(0x854)](_0x262a84(0x3f2),_0x59c09b),_0x190fa3[_0x262a84(0x639)][_0x262a84(0x854)](_0x262a84(0x3f2),!_0x59c09b),_0x59c09b&&(_0x5a4915[_0x262a84(0x2ab)](),_0x5a4915[_0x262a84(0x3ed)]());}function updateSelectedTopicsCount(){const _0x45b3ac=_0x248128,_0x14dc63=document[_0x45b3ac(0x3ee)](_0x45b3ac(0x8c8)),_0x565cc4=_0x14dc63[_0x45b3ac(0x8e0)](_0x45b3ac(0x931))[_0x45b3ac(0x888)],_0x458e68=document[_0x45b3ac(0x3ee)]('selected-topics-count');_0x565cc4>0x0?_0x458e68['textContent']=_0x45b3ac(0x4bf)+_0x565cc4+'\x20หัวข้อ)':_0x458e68[_0x45b3ac(0x540)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x248128(0x757),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x248128(0x63f),quizLeaderboardSortOrder=_0x248128(0x7cc),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadLastPos={'x':0x0,'y':0x0};function openScratchpad(_0x4df789,_0x1a9125){const _0x5a0e77=_0x248128,_0x4bfd54=document[_0x5a0e77(0x3ee)]('scratchpad-modal'),_0x2918db=document['getElementById']('scratchpad-question'),_0x515d52=document[_0x5a0e77(0x3ee)](_0x5a0e77(0x19e));_0x2918db['textContent']=_0x4df789[_0x5a0e77(0x4c2)]||_0x4df789[_0x5a0e77(0x830)],_0x515d52['innerHTML']=_0x1a9125[_0x5a0e77(0x336)]((_0x1b5eec,_0x20b176)=>{const _0x303b43=_0x5a0e77;let _0x3ba806=![];if(_0x4df789[_0x303b43(0x59f)]===_0x303b43(0x88b))_0x3ba806=_0x20b176===_0x4df789[_0x303b43(0x553)];else{if(_0x4df789[_0x303b43(0x59f)]===_0x303b43(0x5f2))_0x3ba806=_0x4df789['correctAnswer']&&_0x20b176===0x0||!_0x4df789[_0x303b43(0x572)]&&_0x20b176===0x1;else{if(_0x4df789[_0x303b43(0x59f)]===_0x303b43(0x732))_0x3ba806=_0x1a9125[_0x20b176]===_0x4df789[_0x303b43(0x8f3)];}}const _0x843736=_0x3ba806?'text-green-600\x20font-bold':'';return _0x303b43(0x5c9)+_0x843736+'\x22>'+String['fromCharCode'](0x41+_0x20b176)+'.\x20'+_0x1b5eec+_0x303b43(0x4e4);})[_0x5a0e77(0x375)](''),history=[],historyStep=-0x1,setTimeout(()=>{scratchpadCtx&&saveHistory();},0x64),_0x4bfd54['classList'][_0x5a0e77(0x3cc)]('hidden'),setTimeout(initializeScratchpadCanvas,0x32);if(window[_0x5a0e77(0x46e)])MathJax[_0x5a0e77(0x8c0)]([_0x2918db,_0x515d52]);}function initializeScratchpadCanvas(){const _0x3239fa=_0x248128,_0x18ed19=document[_0x3239fa(0x3ee)]('scratchpad-canvas'),_0x2911c5=document[_0x3239fa(0x3ee)](_0x3239fa(0x92d));if(!_0x18ed19||!_0x2911c5)return;scratchpadCtx=_0x18ed19[_0x3239fa(0x459)]('2d'),_0x18ed19[_0x3239fa(0x2ba)]=_0x2911c5['clientWidth'],_0x18ed19[_0x3239fa(0x77c)]=_0x2911c5['clientHeight'],scratchpadCtx['strokeStyle']=scratchpadPenColor,scratchpadCtx['lineWidth']=0x5,scratchpadCtx['lineJoin']='round',scratchpadCtx['lineCap']=_0x3239fa(0x45f);const _0xda393f=_0x30ebb8=>{const _0x50bb73=_0x3239fa,_0x5dc38a=_0x18ed19['getBoundingClientRect'](),_0x121e83=_0x30ebb8[_0x50bb73(0x1f7)]?_0x30ebb8[_0x50bb73(0x1f7)][0x0][_0x50bb73(0x4fd)]:_0x30ebb8[_0x50bb73(0x4fd)],_0x5e4b4d=_0x30ebb8[_0x50bb73(0x1f7)]?_0x30ebb8['touches'][0x0][_0x50bb73(0x1fe)]:_0x30ebb8[_0x50bb73(0x1fe)];return{'x':_0x121e83-_0x5dc38a[_0x50bb73(0x3c7)],'y':_0x5e4b4d-_0x5dc38a[_0x50bb73(0x62d)]};},_0x663d60=_0x11f0f4=>{const _0x5ae4d7=_0x3239fa;_0x11f0f4['preventDefault'](),isDrawingOnScratchpad=!![],scratchpadLastPos=_0xda393f(_0x11f0f4),scratchpadCtx[_0x5ae4d7(0x1ea)](),scratchpadCtx[_0x5ae4d7(0x8ca)](scratchpadLastPos['x'],scratchpadLastPos['y']);},_0x39254b=_0x418ba4=>{const _0x2cd7d8=_0x3239fa;if(!isDrawingOnScratchpad)return;_0x418ba4[_0x2cd7d8(0x7bd)]();const _0x309846=_0xda393f(_0x418ba4);scratchpadCtx[_0x2cd7d8(0x2a3)](_0x309846['x'],_0x309846['y']),scratchpadCtx['stroke'](),scratchpadLastPos=_0x309846;},_0xd57f05=()=>{const _0x1f2111=_0x3239fa;if(!isDrawingOnScratchpad)return;isDrawingOnScratchpad=![],scratchpadCtx[_0x1f2111(0x731)](),saveHistory();};_0x18ed19[_0x3239fa(0x6cd)]=_0x663d60,_0x18ed19[_0x3239fa(0x363)]=_0x39254b,_0x18ed19[_0x3239fa(0x550)]=_0xd57f05,_0x18ed19[_0x3239fa(0x178)]=_0xd57f05,_0x18ed19['ontouchstart']=_0x663d60,_0x18ed19[_0x3239fa(0x712)]=_0x39254b,_0x18ed19[_0x3239fa(0x36c)]=_0xd57f05;}function saveHistory(){const _0x1ca6c5=_0x248128;historyStep<history[_0x1ca6c5(0x888)]-0x1&&(history=history[_0x1ca6c5(0x59d)](0x0,historyStep+0x1)),history[_0x1ca6c5(0x162)](scratchpadCtx[_0x1ca6c5(0x25e)][_0x1ca6c5(0x4d2)]()),historyStep++,updateUndoRedoButtons();}function undo(){const _0x1d2752=_0x248128;if(historyStep>0x0){historyStep--;const _0x27ae4f=new Image();_0x27ae4f[_0x1d2752(0x871)]=history[historyStep],_0x27ae4f[_0x1d2752(0x43e)]=()=>{const _0x5e187d=_0x1d2752;scratchpadCtx[_0x5e187d(0x90c)](0x0,0x0,scratchpadCtx[_0x5e187d(0x25e)][_0x5e187d(0x2ba)],scratchpadCtx[_0x5e187d(0x25e)][_0x5e187d(0x77c)]),scratchpadCtx[_0x5e187d(0x380)](_0x27ae4f,0x0,0x0);},updateUndoRedoButtons();}}function redo(){const _0x5f0571=_0x248128;if(historyStep<history['length']-0x1){historyStep++;const _0x30b7c7=new Image();_0x30b7c7[_0x5f0571(0x871)]=history[historyStep],_0x30b7c7['onload']=()=>{const _0x2d59cc=_0x5f0571;scratchpadCtx[_0x2d59cc(0x90c)](0x0,0x0,scratchpadCtx['canvas'][_0x2d59cc(0x2ba)],scratchpadCtx[_0x2d59cc(0x25e)]['height']),scratchpadCtx[_0x2d59cc(0x380)](_0x30b7c7,0x0,0x0);},updateUndoRedoButtons();}}function updateUndoRedoButtons(){const _0x28c0dd=_0x248128;document[_0x28c0dd(0x3ee)](_0x28c0dd(0x38a))[_0x28c0dd(0x566)]=historyStep<=0x0,document['getElementById']('redo-btn')['disabled']=historyStep>=history['length']-0x1;}function setupScratchpadControls(){const _0x343c1f=_0x248128,_0x53dcd6=document[_0x343c1f(0x3ee)](_0x343c1f(0x21d));document[_0x343c1f(0x3ee)](_0x343c1f(0x16c))['addEventListener']('click',()=>{const _0x31ad95=_0x343c1f;_0x53dcd6[_0x31ad95(0x639)][_0x31ad95(0x87d)](_0x31ad95(0x3f2));}),document[_0x343c1f(0x3ee)](_0x343c1f(0x38a))[_0x343c1f(0x631)](_0x343c1f(0x493),undo),document[_0x343c1f(0x3ee)](_0x343c1f(0x423))[_0x343c1f(0x631)](_0x343c1f(0x493),redo),document[_0x343c1f(0x3ee)](_0x343c1f(0x8a4))[_0x343c1f(0x631)](_0x343c1f(0x493),()=>{const _0xe026dd=_0x343c1f;scratchpadCtx&&(scratchpadCtx[_0xe026dd(0x90c)](0x0,0x0,scratchpadCtx[_0xe026dd(0x25e)][_0xe026dd(0x2ba)],scratchpadCtx[_0xe026dd(0x25e)][_0xe026dd(0x77c)]),saveHistory());}),document['querySelectorAll'](_0x343c1f(0x7e8))['forEach'](_0x500048=>{const _0xbb24ce=_0x343c1f;_0x500048[_0xbb24ce(0x631)]('click',()=>{const _0x299a85=_0xbb24ce;if(scratchpadCtx){const _0x5f2d4=parseInt(_0x500048[_0x299a85(0x334)][_0x299a85(0x27b)],0xa);scratchpadCtx['lineWidth']=_0x5f2d4,document[_0x299a85(0x8e0)]('.pen-size-btn')['forEach'](_0x3f8543=>_0x3f8543[_0x299a85(0x639)][_0x299a85(0x3cc)](_0x299a85(0x6b4))),_0x500048['classList']['add']('active');}});}),document[_0x343c1f(0x8e0)](_0x343c1f(0x799))[_0x343c1f(0x762)](_0x1e2cb5=>{const _0x4ec77f=_0x343c1f;_0x1e2cb5[_0x4ec77f(0x631)](_0x4ec77f(0x493),()=>{const _0x3c89fa=_0x4ec77f;if(scratchpadCtx){const _0x339b1d=_0x1e2cb5[_0x3c89fa(0x334)][_0x3c89fa(0x30f)];scratchpadCtx[_0x3c89fa(0x394)]=_0x339b1d,document[_0x3c89fa(0x8e0)](_0x3c89fa(0x799))[_0x3c89fa(0x762)](_0x4a8d0a=>_0x4a8d0a[_0x3c89fa(0x639)][_0x3c89fa(0x3cc)]('active')),_0x1e2cb5[_0x3c89fa(0x639)][_0x3c89fa(0x87d)](_0x3c89fa(0x6b4));}});});const _0x317f8e=document[_0x343c1f(0x3ee)](_0x343c1f(0x67d)),_0x55cfd8=document[_0x343c1f(0x3ee)](_0x343c1f(0x695));_0x317f8e[_0x343c1f(0x631)](_0x343c1f(0x493),()=>{const _0x378460=_0x343c1f;scratchpadCtx[_0x378460(0x765)]='source-over',scratchpadCtx[_0x378460(0x394)]=scratchpadPenColor,_0x317f8e[_0x378460(0x639)][_0x378460(0x87d)](_0x378460(0x6b4)),_0x55cfd8['classList'][_0x378460(0x3cc)](_0x378460(0x6b4));}),_0x55cfd8[_0x343c1f(0x631)]('click',()=>{const _0x5a335b=_0x343c1f;scratchpadCtx['globalCompositeOperation']=_0x5a335b(0x1fb),_0x317f8e[_0x5a335b(0x639)][_0x5a335b(0x3cc)](_0x5a335b(0x6b4)),_0x55cfd8['classList']['add'](_0x5a335b(0x6b4));}),document[_0x343c1f(0x8e0)](_0x343c1f(0x799))['forEach'](_0x1428fd=>{const _0x3f7689=_0x343c1f;_0x1428fd[_0x3f7689(0x631)](_0x3f7689(0x493),()=>{const _0x1b278c=_0x3f7689;if(scratchpadCtx){const _0x18c58=_0x1428fd['dataset'][_0x1b278c(0x30f)];scratchpadPenColor=_0x18c58,scratchpadCtx[_0x1b278c(0x394)]=_0x18c58,scratchpadCtx[_0x1b278c(0x765)]=_0x1b278c(0x3f6),_0x317f8e[_0x1b278c(0x639)][_0x1b278c(0x87d)](_0x1b278c(0x6b4)),_0x55cfd8[_0x1b278c(0x639)][_0x1b278c(0x3cc)](_0x1b278c(0x6b4)),document[_0x1b278c(0x8e0)]('.pen-color-btn')[_0x1b278c(0x762)](_0x37e67a=>_0x37e67a[_0x1b278c(0x639)][_0x1b278c(0x3cc)](_0x1b278c(0x6b4))),_0x1428fd[_0x1b278c(0x639)][_0x1b278c(0x87d)]('active');}});}),window[_0x343c1f(0x631)](_0x343c1f(0x8fa),()=>{const _0x50071b=_0x343c1f;!_0x53dcd6[_0x50071b(0x639)][_0x50071b(0x21f)](_0x50071b(0x3f2))&&initializeScratchpadCanvas();});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x248128(0x70b),'description':_0x248128(0x83a),'icon':_0x248128(0x25f)},'QUICK_THINKER':{'id':_0x248128(0x7f8),'name':_0x248128(0x3f0),'description':_0x248128(0x77d),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x248128(0x8b3),'name':_0x248128(0x663),'description':_0x248128(0x3d5),'icon':_0x248128(0x5ec)},'FIRST_TRY_ACE':{'id':_0x248128(0x488),'name':_0x248128(0x1c1),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x248128(0x8c4),'name':_0x248128(0x603),'description':_0x248128(0x2aa),'icon':_0x248128(0x77b)},'SPECIALIST':{'id':_0x248128(0x1b0),'name':'ผู้เชี่ยวชาญ','description':_0x248128(0x65a),'icon':_0x248128(0x611)},'PERSEVERANCE':{'id':_0x248128(0x492),'name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x248128(0x2e3)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x248128(0x365),'projectId':_0x248128(0x884),'storageBucket':_0x248128(0x93f),'messagingSenderId':_0x248128(0x92c),'appId':_0x248128(0x132),'measurementId':_0x248128(0x692)},appId=typeof __app_id!==_0x248128(0x504)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x248128(0x3ee)](_0x248128(0x1c9)),studentView=document[_0x248128(0x3ee)](_0x248128(0x6ed)),projectDashboardView=document[_0x248128(0x3ee)]('project-dashboard-view'),projectDetailView=document[_0x248128(0x3ee)](_0x248128(0x133)),quizResultsView=document[_0x248128(0x3ee)]('quiz-results-view'),projectList=document[_0x248128(0x3ee)](_0x248128(0x445)),noProjectsMsg=document['getElementById'](_0x248128(0x51b)),projectTitle=document['getElementById'](_0x248128(0x60a)),projectIdDisplay=document[_0x248128(0x3ee)]('project-id-display'),studentList=document['getElementById'](_0x248128(0x3e8)),messageModal=document[_0x248128(0x3ee)](_0x248128(0x8a8)),modalMessage=document[_0x248128(0x3ee)]('modal-message'),createProjectModal=document[_0x248128(0x3ee)](_0x248128(0x201)),adminPasswordModal=document['getElementById']('admin-password-modal'),confirmationModal=document['getElementById'](_0x248128(0x808)),userIdDisplay=document[_0x248128(0x3ee)](_0x248128(0x3a8)),topicTab=document[_0x248128(0x3ee)]('topic-tab'),textTab=document['getElementById']('text-tab'),topicInputArea=document[_0x248128(0x3ee)](_0x248128(0x2bd)),textInputArea=document[_0x248128(0x3ee)](_0x248128(0x245)),manageTab=document[_0x248128(0x3ee)](_0x248128(0x5cd)),resultsTab=document[_0x248128(0x3ee)](_0x248128(0x14e)),leaderboardTab=document['getElementById'](_0x248128(0x864)),manageTabContent=document[_0x248128(0x3ee)](_0x248128(0x7d7)),resultsTabContent=document[_0x248128(0x3ee)](_0x248128(0x17b)),leaderboardTabContent=document[_0x248128(0x3ee)](_0x248128(0x2d4)),projectQuizzesList=document['getElementById'](_0x248128(0x39b)),fileTab=document[_0x248128(0x3ee)](_0x248128(0x961)),fileInputArea=document[_0x248128(0x3ee)](_0x248128(0x713)),fileUploadInput=document[_0x248128(0x3ee)](_0x248128(0x184)),worksheetTab=document[_0x248128(0x3ee)](_0x248128(0x3be)),worksheetInputArea=document['getElementById'](_0x248128(0x54d)),generateWorksheetBtn=document[_0x248128(0x3ee)](_0x248128(0x4e9)),studentInitialView=document[_0x248128(0x3ee)](_0x248128(0x27c)),studentNameSelectionView=document['getElementById'](_0x248128(0x39e)),studentQuizArea=document[_0x248128(0x3ee)](_0x248128(0x45c)),studentResultArea=document[_0x248128(0x3ee)](_0x248128(0x22a)),studentReadingArea=document[_0x248128(0x3ee)](_0x248128(0x56d)),loadQuizBtn=document[_0x248128(0x3ee)](_0x248128(0x2f1)),startQuizBtn=document['getElementById'](_0x248128(0x776)),studentJoinGameView=document[_0x248128(0x3ee)](_0x248128(0x657)),presentationModal=document[_0x248128(0x3ee)](_0x248128(0x401)),renameQuizModal=document[_0x248128(0x3ee)](_0x248128(0x618)),moveQuizModal=document['getElementById'](_0x248128(0x7ca)),quizSettingsModal=document[_0x248128(0x3ee)](_0x248128(0x26f)),quizStatusModal=document[_0x248128(0x3ee)]('quiz-status-modal'),liveGameView=document[_0x248128(0x3ee)](_0x248128(0x71a));function handleAutoFixLatex(){const _0x3f25af=_0x248128,_0x431d09=document[_0x3f25af(0x3ee)](_0x3f25af(0x6ff))||document,_0x207bf3=_0x431d09['querySelectorAll']([_0x3f25af(0x1c8),_0x3f25af(0x818),_0x3f25af(0x376),_0x3f25af(0x2c1),_0x3f25af(0x222),'label','.choice-text',_0x3f25af(0x22b),_0x3f25af(0x623)][_0x3f25af(0x375)](','));let _0x331eff=0x0;const _0x3ad1ed=_0x144178=>_0x3f25af(0x635)in _0x144178?String(_0x144178[_0x3f25af(0x635)]):_0x144178[_0x3f25af(0x548)]!==undefined?_0x144178[_0x3f25af(0x548)]:_0x144178['textContent']||'',_0x23554c=(_0xcda6c,_0x47eb45)=>{const _0x3579b4=_0x3f25af;if(_0x3579b4(0x635)in _0xcda6c){_0xcda6c[_0x3579b4(0x635)]=_0x47eb45;return;}if(_0xcda6c[_0x3579b4(0x828)]&&_0xcda6c[_0x3579b4(0x828)](_0x3579b4(0x234)))return;if(_0xcda6c[_0x3579b4(0x548)]!==undefined)_0xcda6c['innerText']=_0x47eb45;else _0xcda6c[_0x3579b4(0x540)]=_0x47eb45;},_0x24f6d3=_0x42a002=>_0x42a002['replace'](/\u00A0/g,'\x20')[_0x3f25af(0x92e)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x511380=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x266690=_0xb28fb=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x3f25af(0x94c)](_0xb28fb),_0x2addff=_0x1dd6f2=>{const _0x4a8291=_0x3f25af,_0x1806d3=(_0x1dd6f2['match'](/\{/g)||[])['length'],_0x3b0e2b=(_0x1dd6f2[_0x4a8291(0x29b)](/\}/g)||[])[_0x4a8291(0x888)];if(_0x1806d3>_0x3b0e2b)_0x1dd6f2=_0x1dd6f2+'}'[_0x4a8291(0x56a)](_0x1806d3-_0x3b0e2b);return _0x1dd6f2;},_0x2f11eb=_0x4d4e67=>{const _0x5989d4=_0x3f25af;let _0x32e212=_0x4d4e67['trim']();const _0x26a957=[_0x5989d4(0x619),'dfrac','tfrac',_0x5989d4(0x413),_0x5989d4(0x171),_0x5989d4(0x35e),'cdot',_0x5989d4(0x847),_0x5989d4(0x5e0),'geq','le','ge',_0x5989d4(0x780),'pm','approx',_0x5989d4(0x14c),_0x5989d4(0x720),'tan',_0x5989d4(0x1c3),'ln',_0x5989d4(0x599),_0x5989d4(0x76d),_0x5989d4(0x2cd),_0x5989d4(0x3c7),_0x5989d4(0x862),_0x5989d4(0x911),_0x5989d4(0x738),_0x5989d4(0x5f0),_0x5989d4(0x84e)];_0x32e212=_0x32e212[_0x5989d4(0x92e)](new RegExp(_0x5989d4(0x536)+_0x26a957[_0x5989d4(0x375)]('|')+_0x5989d4(0x427),'g'),'\x5c'),_0x26a957[_0x5989d4(0x762)](_0x14aa02=>{const _0x82bc11=_0x5989d4;_0x32e212=_0x32e212[_0x82bc11(0x92e)](new RegExp(_0x82bc11(0x1af)+_0x14aa02+'\x5cb','g'),(_0x4d62a5,_0x4ea8f4)=>_0x4ea8f4+'\x5c'+_0x14aa02);});const _0x570dd6=[[/×/g,_0x5989d4(0x320)],[/·/g,_0x5989d4(0x624)],[/÷/g,'\x5cdiv'],[/≤/g,_0x5989d4(0x3d8)],[/≥/g,_0x5989d4(0x32d)],[/≠/g,'\x5cneq'],[/±/g,_0x5989d4(0x554)],[/∑/g,_0x5989d4(0x881)],[/−/g,'-']];_0x570dd6[_0x5989d4(0x762)](([_0x1db34e,_0x1b2213])=>{const _0x785202=_0x5989d4;_0x32e212=_0x32e212[_0x785202(0x92e)](_0x1db34e,_0x1b2213);}),_0x32e212=_0x32e212['replace'](/√\s*\(([^)]*)\)/g,_0x5989d4(0x414)),_0x32e212=_0x32e212[_0x5989d4(0x92e)](/√\s*([A-Za-z0-9]+)/g,_0x5989d4(0x414)),_0x32e212=_0x32e212[_0x5989d4(0x92e)](/(^|[^\\])\bimes\b/g,_0x5989d4(0x815))[_0x5989d4(0x92e)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x5989d4(0x4f4))[_0x5989d4(0x92e)](/(^|[^\\])ext\{/g,_0x5989d4(0x7ee))[_0x5989d4(0x92e)](/(^|[^\\])ext\(/g,_0x5989d4(0x2f8))[_0x5989d4(0x92e)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x5989d4(0x92e)](/\s\\frac/g,_0x5989d4(0x923)),_0x32e212=_0x32e212['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x9adae0,_0x43ab03,_0x414fc0,_0x582ff5)=>_0x43ab03+_0x5989d4(0x6b6)+_0x414fc0+'}{'+_0x582ff5+'}'),_0x32e212=_0x32e212[_0x5989d4(0x92e)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x5989d4(0x92e)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x5989d4(0x30a))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x5989d4(0x30a)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x5989d4(0x26c)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x5989d4(0x26c)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x5989d4(0x26c)],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x5989d4(0x762)](([_0xf5c33b,_0x16a32f])=>{const _0x394726=_0x5989d4;_0x32e212=_0x32e212[_0x394726(0x92e)](_0xf5c33b,_0x16a32f);}),_0x32e212=_0x32e212[_0x5989d4(0x92e)](/(\d+)\s*%/g,_0x5989d4(0x6f9)),_0x32e212=_0x32e212[_0x5989d4(0x92e)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x5989d4(0x92e)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x5989d4(0x688))[_0x5989d4(0x92e)](/\{\{([^\{\}]+)\}\}/g,_0x5989d4(0x530)),[_0x5989d4(0x14c),'cos','tan',_0x5989d4(0x1c3),'ln'][_0x5989d4(0x762)](_0x1a9738=>{const _0x3bd0c4=_0x5989d4;_0x32e212=_0x32e212[_0x3bd0c4(0x92e)](new RegExp(_0x3bd0c4(0x1af)+_0x1a9738+_0x3bd0c4(0x2b4),'g'),(_0x3ce165,_0x13b234)=>_0x13b234+'\x5c'+_0x1a9738+'(');});const _0x1f74ef=(_0x32e212[_0x5989d4(0x29b)](/\\left\b/g)||[])[_0x5989d4(0x888)],_0x31a461=(_0x32e212[_0x5989d4(0x29b)](/\\right\b/g)||[])['length'];if(_0x1f74ef!==_0x31a461)_0x32e212=_0x32e212[_0x5989d4(0x92e)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x32e212=_0x2addff(_0x32e212),_0x32e212;},_0x894cac=_0x16f66e=>{const _0x528a61=_0x3f25af;if(/\$|\\\(|\\\[/[_0x528a61(0x94c)](_0x16f66e))return _0x16f66e;if(!_0x511380[_0x528a61(0x94c)](_0x16f66e))return _0x16f66e;const _0x2366af=_0x16f66e[_0x528a61(0x29b)](/^\s*/)[0x0],_0x5065a4=_0x16f66e[_0x528a61(0x29b)](/\s*$/)[0x0],_0x5bfd4a=_0x16f66e[_0x528a61(0x6b7)]();return _0x2366af+'$'+_0x2f11eb(_0x5bfd4a)+'$'+_0x5065a4;},_0x38698a=_0x18b580=>_0x18b580[_0x3f25af(0x19f)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x207bf3[_0x3f25af(0x762)](_0x268cb1=>{const _0x510cbd=_0x3f25af;if(_0x268cb1[_0x510cbd(0x828)]&&_0x268cb1[_0x510cbd(0x828)](_0x510cbd(0x234)))return;const _0x187fc5=_0x3ad1ed(_0x268cb1);let _0x5808c5=_0x24f6d3(_0x187fc5);_0x5808c5=_0x5808c5[_0x510cbd(0x92e)](/\$\$([\s\S]*?)\$\$/g,(_0x33494a,_0xee02ad)=>'$$'+_0x2f11eb(_0xee02ad)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x37b56b,_0x24bbe6)=>'$'+_0x2f11eb(_0x24bbe6)+'$')[_0x510cbd(0x92e)](/\\\(([\s\S]*?)\\\)/g,(_0x1e62b1,_0x20024f)=>'\x5c('+_0x2f11eb(_0x20024f)+'\x5c)')[_0x510cbd(0x92e)](/\\\[([\s\S]*?)\\\]/g,(_0x459e19,_0x594c13)=>'\x5c['+_0x2f11eb(_0x594c13)+'\x5c]');let _0x4b9e2d=_0x5808c5,_0x206b7c=0x0;const _0x1c86a2=_0x4082fe=>_0x4082fe['replace'](/S([^S]{0,2000}?)S/g,(_0x4a657d,_0x21cbea)=>_0x511380[_0x510cbd(0x94c)](_0x21cbea)?'$'+_0x2f11eb(_0x21cbea)+'$':_0x4a657d);while(_0x206b7c++<0x14){const _0x37c157=_0x1c86a2(_0x4b9e2d);if(_0x37c157===_0x4b9e2d)break;_0x4b9e2d=_0x37c157;}_0x5808c5=_0x4b9e2d,_0x5808c5=_0x5808c5[_0x510cbd(0x19f)]('\x0a')['map'](_0x2a19ff=>{const _0x273815=_0x510cbd;if(!(/[,\u3001，;；]/[_0x273815(0x94c)](_0x2a19ff)||/\s(?:และ|หรือ)\s/['test'](_0x2a19ff))||!_0x511380[_0x273815(0x94c)](_0x2a19ff))return _0x2a19ff;return _0x38698a(_0x2a19ff)[_0x273815(0x336)](_0x830719=>{const _0xc849e7=_0x273815;if(/^\s(?:และ|หรือ)\s$/[_0xc849e7(0x94c)](_0x830719)||/^[,\u3001，;；]$/['test'](_0x830719))return _0x830719;return _0x894cac(_0x830719);})[_0x273815(0x375)]('');})[_0x510cbd(0x375)]('\x0a'),_0x5808c5=_0x5808c5[_0x510cbd(0x19f)]('\x0a')[_0x510cbd(0x336)](_0x7f634f=>{const _0x23ca0=_0x510cbd,_0x52d25c=_0x7f634f[_0x23ca0(0x6b7)]();if(!_0x52d25c)return _0x7f634f;const _0x275f60=/\$|\\\(|\\\[/[_0x23ca0(0x94c)](_0x52d25c),_0x52d935=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x23ca0(0x94c)](_0x52d25c);if(_0x275f60||!_0x52d935||_0x266690(_0x52d25c))return _0x7f634f;return _0x7f634f[_0x23ca0(0x92e)](_0x52d25c,'$'+_0x2f11eb(_0x52d25c)+'$');})[_0x510cbd(0x375)]('\x0a'),_0x5808c5=_0x5808c5[_0x510cbd(0x92e)](/(\d+)\s*°\s*C\b/g,(_0x1813ed,_0x21a87f,_0x144efc,_0x16e67e)=>{const _0x18f0cb=_0x510cbd,_0x38ce33=_0x16e67e[_0x144efc-0x1];if(_0x38ce33==='$'||_0x38ce33==='S'||_0x38ce33==='\x5c')return _0x1813ed;return'$'+_0x21a87f+_0x18f0cb(0x2a5);})[_0x510cbd(0x92e)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x539cf2,_0x276c3d,_0x18b6fc,_0x380131)=>{const _0x32ff70=_0x510cbd,_0x591746=_0x380131[_0x18b6fc-0x1];if(_0x591746==='$'||_0x591746==='S'||_0x591746==='\x5c')return _0x539cf2;return'$'+_0x276c3d+_0x32ff70(0x2a5);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x59b662,_0x3544a6,_0x4082b5,_0x18fe47)=>{const _0x158c81=_0x510cbd,_0x5cdf83=_0x18fe47[_0x4082b5-0x1];if(_0x5cdf83==='$'||_0x5cdf83==='S'||_0x5cdf83==='\x5c')return _0x59b662;return'$'+_0x3544a6+_0x158c81(0x2a5);}),_0x5808c5=_0x5808c5['replace'](/\$\s*\$/g,'$$'),_0x5808c5!==_0x187fc5&&(_0x23554c(_0x268cb1,_0x5808c5),_0x331eff++);});if(_0x331eff>0x0){showMessage(_0x3f25af(0x514)+_0x331eff+'\x20ช่อง');try{if(window['MathJax']&&MathJax[_0x3f25af(0x8c0)])MathJax[_0x3f25af(0x8c0)]();window[_0x3f25af(0x2ca)]&&typeof renderMathInElement===_0x3f25af(0x2c0)&&renderMathInElement(_0x431d09,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x3d593b){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x49d954=_0x248128,_0x121082=collection(db,_0x49d954(0x243)+appId+'/public/data/customMathTopics');onSnapshot(_0x121082,_0x1ab7d6=>{const _0x1c7c19=_0x49d954;customMathTopics=_0x1ab7d6[_0x1c7c19(0x654)][_0x1c7c19(0x336)](_0x34db82=>({'id':_0x34db82['id'],..._0x34db82[_0x1c7c19(0x45b)]()})),renderTopicCheckboxes();},_0x4d8ad5=>{const _0x5d6016=_0x49d954;console[_0x5d6016(0x56c)](_0x5d6016(0x275),_0x4d8ad5);});}function handleSelectAllTopics(){const _0x3ea658=_0x248128,_0x5ad244=document[_0x3ea658(0x3ee)](_0x3ea658(0x8c8)),_0x55f667=_0x5ad244[_0x3ea658(0x8e0)](_0x3ea658(0x614));_0x55f667[_0x3ea658(0x762)](_0x48c981=>{const _0x2a3ed6=_0x3ea658;_0x48c981[_0x2a3ed6(0x39a)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x34fd9f=_0x248128,_0x526195=document[_0x34fd9f(0x3ee)](_0x34fd9f(0x8c8)),_0x36b98f=_0x526195[_0x34fd9f(0x8e0)](_0x34fd9f(0x614));_0x36b98f[_0x34fd9f(0x762)](_0x570fa1=>{const _0x3f08cc=_0x34fd9f;_0x570fa1[_0x3f08cc(0x39a)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x406cb0){const _0x17db8e=_0x248128;if(!_0x406cb0)return;try{const _0x566441=doc(db,'artifacts/'+appId+_0x17db8e(0x506),_0x406cb0);await deleteDoc(_0x566441),showMessage(_0x17db8e(0x140));}catch(_0x57bdcf){console['error']('Error\x20deleting\x20custom\x20topic:',_0x57bdcf),showMessage(_0x17db8e(0x2e2));}}async function handleAddCustomMathTopic(){const _0x45540f=_0x248128,_0xc46ef3=document[_0x45540f(0x3ee)]('custom-math-topic-input'),_0xd8b4e3=_0xc46ef3['value'][_0x45540f(0x6b7)]();if(!_0xd8b4e3){showMessage(_0x45540f(0x38d));return;}if(!userId){showMessage(_0x45540f(0x3f4));return;}try{const _0x17b77c=collection(db,_0x45540f(0x243)+appId+_0x45540f(0x506));await addDoc(_0x17b77c,{'name':_0xd8b4e3,'createdAt':serverTimestamp()}),_0xc46ef3[_0x45540f(0x635)]='',showMessage(_0x45540f(0x894)+_0xd8b4e3+_0x45540f(0x872));}catch(_0x160222){console[_0x45540f(0x56c)](_0x45540f(0x527),_0x160222),showMessage(_0x45540f(0x711));}}async function handleUpdateOldQuizzes(){const _0x4d38d6=_0x248128;showConfirmation(_0x4d38d6(0x359),async()=>{const _0x3a3ec6=_0x4d38d6,_0x546d32=document[_0x3a3ec6(0x3ee)](_0x3a3ec6(0x596)),_0x53e518=document[_0x3a3ec6(0x3ee)]('loader-text'),_0xf539fb=_0x53e518[_0x3a3ec6(0x540)];_0x546d32['classList'][_0x3a3ec6(0x3cc)](_0x3a3ec6(0x3f2)),_0x53e518[_0x3a3ec6(0x540)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x1c7b42=collection(db,_0x3a3ec6(0x243)+appId+'/public/data/quizzes'),_0x4ac1fa=await getDocs(_0x1c7b42);if(_0x4ac1fa[_0x3a3ec6(0x465)]){showMessage(_0x3a3ec6(0x179));return;}const _0x5aa3fa=writeBatch(db);let _0x67729e=0x0;_0x4ac1fa[_0x3a3ec6(0x762)](_0x54d00c=>{const _0x9109f7=_0x3a3ec6,_0x4e15c9=_0x54d00c[_0x9109f7(0x45b)](),_0x2d4737=_0x54d00c['id'];if(_0x4e15c9['questions']&&_0x4e15c9[_0x9109f7(0x598)]['length']>0x0&&!_0x4e15c9['questions'][0x0]['hasOwnProperty']('id')){console[_0x9109f7(0x1c3)](_0x9109f7(0x645)+_0x2d4737+'\x20('+_0x4e15c9[_0x9109f7(0x7f3)]+')'),_0x67729e++;const _0x4770e0=_0x4e15c9['questions'][_0x9109f7(0x336)]((_0x6271a8,_0x1450fa)=>{const _0x368c8c=_0x9109f7;return{..._0x6271a8,'id':_0x6271a8['id']||'q_'+Date[_0x368c8c(0x8ea)]()+'_'+_0x2d4737+'_'+_0x1450fa};}),_0x5c51b3=doc(db,_0x9109f7(0x243)+appId+_0x9109f7(0x495),_0x2d4737);_0x5aa3fa[_0x9109f7(0x56f)](_0x5c51b3,{'questions':_0x4770e0});}}),_0x67729e>0x0?(_0x53e518[_0x3a3ec6(0x540)]=_0x3a3ec6(0x544)+_0x67729e+_0x3a3ec6(0x2f2),await _0x5aa3fa[_0x3a3ec6(0x2b2)](),showMessage(_0x3a3ec6(0x812)+_0x67729e+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x18076e){console[_0x3a3ec6(0x56c)](_0x3a3ec6(0x65e),_0x18076e),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x18076e[_0x3a3ec6(0x5d6)]);}finally{_0x546d32[_0x3a3ec6(0x639)][_0x3a3ec6(0x87d)](_0x3a3ec6(0x3f2)),_0x53e518[_0x3a3ec6(0x540)]=_0xf539fb;}});}async function handleBulkUpdateQuizSettings(){const _0x2e6ba8=_0x248128,_0x424951={'shuffle':document[_0x2e6ba8(0x3ee)](_0x2e6ba8(0x8be))[_0x2e6ba8(0x635)],'resultsDisplay':document[_0x2e6ba8(0x3ee)]('bulk-results-display-select')[_0x2e6ba8(0x635)],'loopUntilPass':document[_0x2e6ba8(0x3ee)](_0x2e6ba8(0x6e2))[_0x2e6ba8(0x39a)]},_0x14295d=allQuizzesGlobal[_0x2e6ba8(0x888)];showConfirmation(_0x2e6ba8(0x238)+_0x14295d+_0x2e6ba8(0x77a),async()=>{const _0x2efce7=_0x2e6ba8,_0x4ac0d8=document[_0x2efce7(0x3ee)]('confirm-bulk-quiz-settings-btn');_0x4ac0d8[_0x2efce7(0x566)]=!![],_0x4ac0d8['innerHTML']=_0x2efce7(0x2fe);try{const _0x20c0ad=writeBatch(db);allQuizzesGlobal[_0x2efce7(0x762)](_0x59e8fd=>{const _0x41ef64=_0x2efce7,_0x754977=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x59e8fd['id']),_0x27fedc={..._0x59e8fd[_0x41ef64(0x75d)]||{},..._0x424951};_0x20c0ad[_0x41ef64(0x56f)](_0x754977,{'settings':_0x27fedc});}),await _0x20c0ad[_0x2efce7(0x2b2)](),document['getElementById'](_0x2efce7(0x24f))[_0x2efce7(0x639)][_0x2efce7(0x87d)](_0x2efce7(0x3f2)),showMessage(_0x2efce7(0x72c)+_0x14295d+_0x2efce7(0x63b));}catch(_0x4a9d49){console['error'](_0x2efce7(0x736),_0x4a9d49),showMessage('เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด');}finally{_0x4ac0d8[_0x2efce7(0x566)]=![],_0x4ac0d8[_0x2efce7(0x58a)]=_0x2efce7(0x5db);}});}async function handleSaveProjectName(){const _0x17d949=_0x248128,_0x149ffa=document[_0x17d949(0x3ee)](_0x17d949(0x60a)),_0x314a5e=document[_0x17d949(0x3ee)]('save-project-name-btn'),_0x2056fa=_0x149ffa[_0x17d949(0x540)][_0x17d949(0x6b7)]();if(!_0x2056fa||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x149ffa['textContent']=currentProjectData['projectName'];return;}_0x314a5e[_0x17d949(0x566)]=!![],_0x314a5e[_0x17d949(0x58a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x502c9e=doc(db,'artifacts/'+appId+_0x17d949(0x964),currentProjectId);await updateDoc(_0x502c9e,{'projectName':_0x2056fa}),currentProjectData&&(currentProjectData[_0x17d949(0x86f)]=_0x2056fa),showMessage(_0x17d949(0x2e9));}catch(_0x37f448){console[_0x17d949(0x56c)](_0x17d949(0x2d2),_0x37f448),showMessage(_0x17d949(0x8f8)),_0x149ffa[_0x17d949(0x540)]=currentProjectData[_0x17d949(0x86f)];}finally{_0x314a5e[_0x17d949(0x639)][_0x17d949(0x87d)](_0x17d949(0x3f2)),_0x314a5e['disabled']=![],_0x314a5e[_0x17d949(0x58a)]=_0x17d949(0x158);}}async function initialize(){try{const _0x2607d7=initializeApp(firebaseConfig);db=getFirestore(_0x2607d7),auth=getAuth(_0x2607d7),setupAuthListener(),setupEventListeners(),setupScratchpadControls(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x58f3ce){console['error']('Firebase\x20initialization\x20failed:',_0x58f3ce),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x510dac=_0x248128,_0x5e7eb7=document[_0x510dac(0x3ee)](_0x510dac(0x1bd));if(!_0x5e7eb7)return;const _0x27daf1=document[_0x510dac(0x3ee)]('verify-answers-editor-btn');_0x27daf1[_0x510dac(0x566)]=!![],_0x27daf1[_0x510dac(0x58a)]=_0x510dac(0x438);try{const _0x3a7c86=_0x5e7eb7[_0x510dac(0x8e0)](_0x510dac(0x1ae)),_0x162c0a=Array[_0x510dac(0x4df)](_0x3a7c86)[_0x510dac(0x336)]((_0x154fb8,_0x5dc267)=>{const _0x3765b0=_0x510dac,_0x5bfdb9=_0x154fb8[_0x3765b0(0x334)][_0x3765b0(0x364)],_0x483119=_0x154fb8[_0x3765b0(0x828)](_0x3765b0(0x1c8))['value'];let _0x94c606=null,_0x24643d='';switch(_0x5bfdb9){case'multiple_choice':const _0x1a7cc1=_0x154fb8[_0x3765b0(0x8e0)](_0x3765b0(0x818));_0x94c606=Array['from'](_0x1a7cc1)[_0x3765b0(0x336)](_0x26886b=>_0x26886b[_0x3765b0(0x635)]);const _0x3ceae6=_0x154fb8[_0x3765b0(0x828)](_0x3765b0(0x453));_0x3ceae6&&(_0x24643d=_0x94c606[parseInt(_0x3ceae6[_0x3765b0(0x635)])]);break;case _0x3765b0(0x660):_0x24643d=_0x154fb8['querySelector'](_0x3765b0(0x155))[_0x3765b0(0x635)];break;case _0x3765b0(0x5f2):const _0x35b29f=_0x154fb8[_0x3765b0(0x828)](_0x3765b0(0x453));_0x24643d=_0x35b29f?_0x35b29f[_0x3765b0(0x635)]:'';break;case _0x3765b0(0x732):_0x24643d=_0x154fb8[_0x3765b0(0x828)](_0x3765b0(0x27e))[_0x3765b0(0x635)];break;}return{'question':_0x483119,'options':_0x94c606,'proposedAnswer':_0x24643d};}),_0x5928c6=_0x510dac(0x68d)+JSON[_0x510dac(0x2dd)](_0x162c0a)+_0x510dac(0x61c),_0x2af0fb={'type':'ARRAY','items':{'type':_0x510dac(0x7e1),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x510dac(0x219)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x510dac(0x77e)}},'required':[_0x510dac(0x416),_0x510dac(0x2e0),_0x510dac(0x12e)]}},_0x40523a=await callAnalysisApi(_0x5928c6,{'type':_0x510dac(0x7e1),'properties':{'result':_0x2af0fb},'required':[_0x510dac(0x35b)]});displayVerificationResultsInEditor(_0x40523a['result']);}catch(_0x498c7f){console[_0x510dac(0x56c)](_0x510dac(0x571),_0x498c7f),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x27daf1[_0x510dac(0x566)]=![],_0x27daf1['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x47f413){const _0x34a829=_0x248128;_0x47f413[_0x34a829(0x762)](_0x44d17e=>{const _0x23ec52=_0x34a829,_0x18ada3=document['querySelector'](_0x23ec52(0x3a3)+_0x44d17e['questionIndex']+'\x22]');if(!_0x18ada3)return;const _0x5e0354=_0x18ada3[_0x23ec52(0x828)](_0x23ec52(0x428));if(_0x5e0354)_0x5e0354['remove']();let _0x113842='';if(_0x44d17e[_0x23ec52(0x2e0)])_0x113842=_0x23ec52(0x8f4);else{const _0x5033d7=_0x44d17e[_0x23ec52(0x331)]?_0x23ec52(0x93e):'';_0x113842=_0x23ec52(0x54b)+_0x5033d7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x44d17e['justification']+_0x23ec52(0x729)+(_0x44d17e['suggestedAnswer']?_0x23ec52(0x68b)+_0x44d17e['suggestedAnswer']+_0x23ec52(0x1d4):'')+_0x23ec52(0x7c3);}_0x18ada3['insertAdjacentHTML'](_0x23ec52(0x83f),_0x113842);if(!_0x44d17e[_0x23ec52(0x2e0)]&&_0x44d17e['suggestedAnswer']){const _0x5a8d05=_0x18ada3[_0x23ec52(0x334)][_0x23ec52(0x364)],_0x16c24d=_0x4551b9=>{const _0x3e87ed=_0x23ec52;if(!_0x4551b9)return;_0x4551b9[_0x3e87ed(0x639)][_0x3e87ed(0x87d)](_0x3e87ed(0x8a2),_0x3e87ed(0x2af),_0x3e87ed(0x4e7)),setTimeout(()=>{const _0x5388bc=_0x3e87ed;_0x4551b9['classList'][_0x5388bc(0x3cc)]('bg-green-200');},0x9c4);};if(_0x5a8d05===_0x23ec52(0x88b)){const _0x2b83e4=Array[_0x23ec52(0x4df)](_0x18ada3[_0x23ec52(0x8e0)](_0x23ec52(0x818))),_0x4346e2=_0x2b83e4[_0x23ec52(0x848)](_0x169331=>_0x169331[_0x23ec52(0x635)][_0x23ec52(0x6b7)]()['toLowerCase']()===_0x44d17e[_0x23ec52(0x331)]['trim']()[_0x23ec52(0x577)]());if(_0x4346e2!==-0x1){const _0x1c04eb=_0x18ada3['querySelector'](_0x23ec52(0x4c6)+_0x4346e2+'\x22]');_0x1c04eb&&(_0x1c04eb[_0x23ec52(0x39a)]=!![],_0x16c24d(_0x1c04eb['closest'](_0x23ec52(0x847))));}}else{if(_0x5a8d05===_0x23ec52(0x660)||_0x5a8d05===_0x23ec52(0x732)){const _0x4ad30f=_0x18ada3['querySelector'](_0x23ec52(0x299));_0x4ad30f&&(_0x4ad30f[_0x23ec52(0x635)]=_0x44d17e[_0x23ec52(0x331)],_0x16c24d(_0x4ad30f));}else{if(_0x5a8d05===_0x23ec52(0x5f2)){const _0x3dc5c5=_0x44d17e[_0x23ec52(0x331)][_0x23ec52(0x6b7)]()['toLowerCase'](),_0x5d0c56=_0x18ada3['querySelector'](_0x23ec52(0x4c6)+_0x3dc5c5+'\x22]');_0x5d0c56&&(_0x5d0c56[_0x23ec52(0x39a)]=!![],_0x16c24d(_0x5d0c56['closest'](_0x23ec52(0x847))));}}}}}),showMessage(_0x34a829(0x13e));}async function handleVerifyAnswers(){const _0x417004=_0x248128;if(!currentQuizData||!currentQuizData[_0x417004(0x598)]){showMessage(_0x417004(0x85e));return;}const _0x712457=document[_0x417004(0x3ee)]('verify-answers-btn');_0x712457[_0x417004(0x566)]=!![],_0x712457[_0x417004(0x58a)]=_0x417004(0x438);try{const _0x5cd8db=currentQuizData[_0x417004(0x598)][_0x417004(0x336)]((_0x5bbe39,_0x22009d)=>{const _0x1cc686=_0x417004;let _0xe39196='';const _0x1614c8=_0x5bbe39[_0x1cc686(0x59f)]||currentQuizData['quizType'];switch(_0x1614c8){case _0x1cc686(0x88b):_0xe39196=_0x5bbe39[_0x1cc686(0x5b6)][_0x5bbe39[_0x1cc686(0x553)]];break;case'short_answer':_0xe39196=_0x5bbe39[_0x1cc686(0x673)];break;case _0x1cc686(0x5f2):_0xe39196=_0x5bbe39[_0x1cc686(0x572)][_0x1cc686(0x4dd)]();break;case _0x1cc686(0x732):_0xe39196=_0x5bbe39[_0x1cc686(0x8f3)];break;}return{'question':_0x5bbe39[_0x1cc686(0x4c2)]||_0x5bbe39[_0x1cc686(0x830)],'options':_0x5bbe39['options']||null,'proposedAnswer':_0xe39196};}),_0x81144f=_0x417004(0x539)+JSON[_0x417004(0x2dd)](_0x5cd8db)+_0x417004(0x65f),_0x5d85b3={'type':_0x417004(0x15b),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x417004(0x7aa)},'isCorrect':{'type':_0x417004(0x219)},'justification':{'type':_0x417004(0x77e)},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0x417004(0x2e0),_0x417004(0x12e)]}},_0x2b5ad4=await callAnalysisApi(_0x81144f,{'type':_0x417004(0x7e1),'properties':{'result':_0x5d85b3},'required':['result']});displayVerificationResults(_0x2b5ad4[_0x417004(0x35b)]);}catch(_0x4c7a21){console[_0x417004(0x56c)]('Error\x20verifying\x20answers:',_0x4c7a21),showMessage(_0x417004(0x6b0));}finally{_0x712457['disabled']=![],_0x712457[_0x417004(0x58a)]=_0x417004(0x68c);}}function displayVerificationResults(_0xfd204){const _0x3eb414=_0x248128;_0xfd204[_0x3eb414(0x762)](_0x50b28c=>{const _0x3f73aa=_0x3eb414,_0x29af62=document[_0x3f73aa(0x828)](_0x3f73aa(0x57c)+_0x50b28c['questionIndex']+'\x22]');if(_0x29af62){const _0x542d9d=_0x29af62[_0x3f73aa(0x828)](_0x3f73aa(0x743));if(_0x542d9d)_0x542d9d['remove']();let _0x21de6c='';_0x50b28c[_0x3f73aa(0x2e0)]?_0x21de6c=_0x3f73aa(0x8c3):_0x21de6c=_0x3f73aa(0x6e6)+_0x50b28c['justification']+_0x3f73aa(0x2f3)+(_0x50b28c[_0x3f73aa(0x331)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x50b28c['suggestedAnswer']+_0x3f73aa(0x1d4):'')+_0x3f73aa(0x421),_0x29af62[_0x3f73aa(0x173)](_0x3f73aa(0x83f),_0x21de6c);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x880982,_0x291ecd){const _0x5e3ecf=_0x248128,_0x55b37e=String(_0x880982)[_0x5e3ecf(0x92e)](',','.')['replace'](/[^\d.-]/g,'')[_0x5e3ecf(0x6b7)](),_0x305653=String(_0x291ecd)[_0x5e3ecf(0x92e)](',','.')[_0x5e3ecf(0x92e)](/[^\d.-]/g,'')[_0x5e3ecf(0x6b7)]();if(_0x55b37e===''||_0x305653==='')return![];const _0x4a7371=parseFloat(_0x55b37e),_0x3d9efb=parseFloat(_0x305653);if(isNaN(_0x4a7371)||isNaN(_0x3d9efb))return![];return Math['abs'](_0x4a7371-_0x3d9efb)<0.001;}async function gradeShortAnswer(_0x3ef2ef,_0x3a29c1){const _0x59bc04=_0x248128,_0x3fd724=_0x3a29c1['idealAnswer'];if(String(_0x3ef2ef)['trim']()[_0x59bc04(0x577)]()===String(_0x3fd724)[_0x59bc04(0x6b7)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x3ef2ef,_0x3fd724))return!![];return console[_0x59bc04(0x1c3)](_0x59bc04(0x47f)),await gradeShortAnswerWithAI(_0x3ef2ef,_0x3fd724);}async function revealAnswerForAdmin(_0x233aed,_0x5a0ab9){const _0x56cf1e=_0x248128,_0x4179a1=doc(db,_0x56cf1e(0x243)+appId+_0x56cf1e(0x22f),currentLiveGameId);await updateDoc(_0x4179a1,{'questionStatus':_0x56cf1e(0x491)});}function showTop5LeaderboardView(_0x567397){const _0x10c96a=_0x248128,_0x2bddc5=Object[_0x10c96a(0x4d9)](_0x567397['players']||{})[_0x10c96a(0x305)](_0x5c10b0=>_0x5c10b0[_0x10c96a(0x6d3)]===_0x10c96a(0x6b4));_0x2bddc5['sort']((_0x2f11e9,_0x5e5d57)=>_0x5e5d57[_0x10c96a(0x4a4)]-_0x2f11e9[_0x10c96a(0x4a4)]);const _0x489b87=_0x2bddc5['slice'](0x0,0x5),_0x430322='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x489b87['map']((_0x48642c,_0x9b935f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x9b935f+0x1)+'.\x20'+(_0x48642c[_0x10c96a(0x268)]||Object[_0x10c96a(0x292)](_0x567397[_0x10c96a(0x43d)])[_0x10c96a(0x2f4)](_0x5e7213=>_0x567397[_0x10c96a(0x43d)][_0x5e7213]===_0x48642c))+_0x10c96a(0x6f0)+_0x48642c[_0x10c96a(0x4a4)]+_0x10c96a(0x1fa))[_0x10c96a(0x375)]('')+_0x10c96a(0x180)+(_0x567397[_0x10c96a(0x859)]+0x1===currentQuizData[_0x10c96a(0x598)][_0x10c96a(0x888)]?_0x10c96a(0x3d2):_0x10c96a(0x244))+_0x10c96a(0x7d2);liveGameView['innerHTML']=_0x430322,document[_0x10c96a(0x3ee)](_0x10c96a(0x7dd))[_0x10c96a(0x631)](_0x10c96a(0x493),async()=>{const _0x1589ed=_0x10c96a,_0x1ea677=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x2a88eb=_0x567397[_0x1589ed(0x859)]+0x1;if(_0x2a88eb<currentQuizData[_0x1589ed(0x598)][_0x1589ed(0x888)]){const _0x40977c={'currentQuestionIndex':_0x2a88eb,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x1589ed(0x292)](_0x567397[_0x1589ed(0x43d)])[_0x1589ed(0x762)](_0x444d19=>{const _0xb85cde=_0x1589ed;_0x40977c[_0xb85cde(0x6e8)+_0x444d19+_0xb85cde(0x5ce)]=![];}),await updateDoc(_0x1ea677,_0x40977c);}else await updateDoc(_0x1ea677,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xc0d73a=>{const _0xdbfd21=_0xadd6;if(_0xc0d73a){userId=_0xc0d73a[_0xdbfd21(0x5d9)],userIdDisplay[_0xdbfd21(0x540)]=userId;const _0x2ce81f=await loadUserPreferences();_0x2ce81f['projectSortOrder']&&(document['getElementById']('project-sort-select')['value']=_0x2ce81f[_0xdbfd21(0x6e1)]);globalDashboardSettings['projectView']=_0x2ce81f[_0xdbfd21(0x6c4)]||_0xdbfd21(0x131);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x38d11f,_0x4dca5f){const _0x81676b=_0x248128;if(!userId)return;try{const _0x1944f2=doc(db,_0x81676b(0x243)+appId+_0x81676b(0x6f8)+userId+'/preferences/main'),_0x34936e={};_0x34936e[_0x38d11f]=_0x4dca5f,await setDoc(_0x1944f2,_0x34936e,{'merge':!![]});}catch(_0x217e23){console[_0x81676b(0x56c)](_0x81676b(0x199),_0x217e23);}}async function loadUserPreferences(){const _0x26ed6a=_0x248128;if(!userId)return{};try{const _0x4a6fdd=doc(db,_0x26ed6a(0x243)+appId+_0x26ed6a(0x6f8)+userId+_0x26ed6a(0x842)),_0x148a55=await getDoc(_0x4a6fdd);if(_0x148a55['exists']())return _0x148a55[_0x26ed6a(0x45b)]();return{};}catch(_0x2c38d4){return console[_0x26ed6a(0x56c)](_0x26ed6a(0x270),_0x2c38d4),{};}}function showPodiumView(_0x53054f){const _0x2a8f92=_0x248128,_0x4be81c=Object[_0x2a8f92(0x20c)](_0x53054f)[_0x2a8f92(0x336)](([_0x238cee,_0xa3ed24])=>({'name':_0x238cee,'score':_0xa3ed24[_0x2a8f92(0x4a4)]||0x0,'badges':_0xa3ed24[_0x2a8f92(0x386)]||[]}));_0x4be81c[_0x2a8f92(0x81a)]((_0x282ad4,_0x22a45c)=>{const _0x11502f=_0x2a8f92,_0xa365e5=_0x22a45c[_0x11502f(0x4a4)]-_0x282ad4[_0x11502f(0x4a4)];if(_0xa365e5!==0x0)return _0xa365e5;return(_0x22a45c[_0x11502f(0x386)][_0x11502f(0x888)]||0x0)-(_0x282ad4['badges'][_0x11502f(0x888)]||0x0);});const _0x4c731e=_0x1ea2c4=>{const _0x1b0e0a=_0x2a8f92;if(!_0x1ea2c4||_0x1ea2c4['length']===0x0)return'';const _0x573439={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x1ea2c4[_0x1b0e0a(0x336)](_0x5ab2e4=>_0x573439[_0x5ab2e4]||'')['join']('')+'</div>';},_0x2418b4=_0x4be81c[_0x2a8f92(0x59d)](0x3),_0x493a59=_0x2418b4[_0x2a8f92(0x888)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2418b4[_0x2a8f92(0x336)]((_0x5b1b70,_0x4d6512)=>_0x2a8f92(0x3cb)+(_0x4d6512+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5b1b70[_0x2a8f92(0x268)]+_0x2a8f92(0x31c)+_0x5b1b70[_0x2a8f92(0x4a4)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2a8f92(0x375)]('')+_0x2a8f92(0x40e):'',_0xf47708='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4be81c[0x1]?_0x2a8f92(0x3ab)+_0x4be81c[0x1][_0x2a8f92(0x268)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c731e(_0x4be81c[0x1]['badges'])+_0x2a8f92(0x774)+_0x4be81c[0x1]['score']+_0x2a8f92(0x944):_0x2a8f92(0x846))+_0x2a8f92(0x573)+(_0x4be81c[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x4be81c[0x0]['name']+_0x2a8f92(0x729)+_0x4c731e(_0x4be81c[0x0][_0x2a8f92(0x386)])+_0x2a8f92(0x55c)+_0x4be81c[0x0][_0x2a8f92(0x4a4)]+_0x2a8f92(0x5cb):_0x2a8f92(0x846))+_0x2a8f92(0x573)+(_0x4be81c[0x2]?_0x2a8f92(0x141)+_0x4be81c[0x2][_0x2a8f92(0x268)]+_0x2a8f92(0x729)+_0x4c731e(_0x4be81c[0x2][_0x2a8f92(0x386)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x4be81c[0x2]['score']+_0x2a8f92(0x69f):_0x2a8f92(0x846))+_0x2a8f92(0x5b8)+_0x493a59+_0x2a8f92(0x13b)+(currentMode===_0x2a8f92(0x517)?_0x2a8f92(0x4f6):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x2a8f92(0x266);liveGameView[_0x2a8f92(0x58a)]=_0xf47708,currentMode===_0x2a8f92(0x517)&&document[_0x2a8f92(0x3ee)](_0x2a8f92(0x520))[_0x2a8f92(0x631)](_0x2a8f92(0x493),async()=>{const _0x1f6518=_0x2a8f92,_0x7cf8b=doc(db,_0x1f6518(0x243)+appId+_0x1f6518(0x22f),currentLiveGameId);await deleteDoc(_0x7cf8b),showView(_0x1f6518(0x4e2));});}async function handleStartLiveRace(_0x77047a){const _0xf19529=_0x248128;let _0x1d6805=allQuizzes[_0xf19529(0x2f4)](_0x3a172e=>_0x3a172e['id']===_0x77047a);if(!_0x1d6805){const _0x538eee=doc(db,_0xf19529(0x243)+appId+_0xf19529(0x495),_0x77047a),_0x671ef9=await getDoc(_0x538eee);if(!_0x671ef9[_0xf19529(0x225)]()){showMessage(_0xf19529(0x3aa));return;}_0x1d6805={'id':_0x671ef9['id'],..._0x671ef9[_0xf19529(0x45b)]()};}const _0x3cd794=getShuffledQuiz(_0x1d6805);currentQuizData=_0x3cd794;const _0x2e1d04=_0x1d6805[_0xf19529(0x4a0)]||currentProjectId||null,_0x4a3434=Math[_0xf19529(0x7b2)](0x3e8+Math[_0xf19529(0x903)]()*0x2328)[_0xf19529(0x4dd)]();currentLiveGamePin=_0x4a3434;try{const _0x2deed4=await addDoc(collection(db,_0xf19529(0x243)+appId+_0xf19529(0x22f)),{'quizId':_0x77047a,'projectId':_0x2e1d04,'status':_0xf19529(0x574),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4a3434,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3cd794});currentLiveGameId=_0x2deed4['id'],showAdminLobbyView(_0x4a3434,_0x1d6805['topic']),listenForLiveGameUpdates();}catch(_0x451795){console[_0xf19529(0x56c)](_0xf19529(0x7d1),_0x451795),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x52b29e=_0x248128,_0x49ae74=document[_0x52b29e(0x828)](_0x52b29e(0x6d6));_0x49ae74&&(_0x49ae74[_0x52b29e(0x58a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x40b60a=document[_0x52b29e(0x828)](_0x52b29e(0x81c));_0x40b60a&&(_0x40b60a[_0x52b29e(0x58a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1db230=document['getElementById'](_0x52b29e(0x2e6));_0x1db230[_0x52b29e(0x639)]['remove'](_0x52b29e(0x3f2)),document[_0x52b29e(0x3ee)]('close-student-rankings-btn')[_0x52b29e(0x86e)]=()=>_0x1db230[_0x52b29e(0x639)][_0x52b29e(0x87d)](_0x52b29e(0x3f2));const _0x518f0e=document[_0x52b29e(0x3ee)](_0x52b29e(0x949)),_0x1e2d2d=document['getElementById']('student-project-leaderboard-tab'),_0x13e5cf=document['getElementById'](_0x52b29e(0x51c)),_0x106472=document[_0x52b29e(0x3ee)](_0x52b29e(0x440));_0x518f0e[_0x52b29e(0x86e)]=()=>{const _0x50d071=_0x52b29e;_0x518f0e[_0x50d071(0x639)][_0x50d071(0x87d)](_0x50d071(0x6b4)),_0x1e2d2d[_0x50d071(0x639)][_0x50d071(0x3cc)](_0x50d071(0x6b4)),_0x13e5cf['classList'][_0x50d071(0x3cc)]('hidden'),_0x106472[_0x50d071(0x639)]['add'](_0x50d071(0x3f2));},_0x1e2d2d[_0x52b29e(0x86e)]=()=>{const _0x4b24e6=_0x52b29e;_0x1e2d2d[_0x4b24e6(0x639)][_0x4b24e6(0x87d)](_0x4b24e6(0x6b4)),_0x518f0e['classList'][_0x4b24e6(0x3cc)](_0x4b24e6(0x6b4)),_0x106472[_0x4b24e6(0x639)][_0x4b24e6(0x3cc)](_0x4b24e6(0x3f2)),_0x13e5cf[_0x4b24e6(0x639)][_0x4b24e6(0x87d)]('hidden');};try{const _0x53b2ef=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x52b29e(0x338)),_0x2f67ae=await getDocs(_0x53b2ef),_0x6da099=_0x2f67ae[_0x52b29e(0x654)][_0x52b29e(0x336)](_0x45b44e=>_0x45b44e['data']());renderQuizLeaderboard(_0x6da099,currentQuizData,_0x52b29e(0x78d));const _0x47f424=collection(db,'artifacts/'+appId+_0x52b29e(0x758)+currentQuizData['projectId']+_0x52b29e(0x6ee)),_0x5c6d10=await getDocs(_0x47f424),_0xd4295a=_0x5c6d10[_0x52b29e(0x654)][_0x52b29e(0x336)](_0x5016fc=>_0x5016fc[_0x52b29e(0x45b)]());renderLeaderboard(_0xd4295a,'student-project-leaderboard-table-body');}catch(_0x502e6f){console[_0x52b29e(0x56c)](_0x52b29e(0x18b),_0x502e6f),showMessage(_0x52b29e(0x5b3));}}async function handleSaveToBank(_0x42cab0){const _0x4a5972=_0x248128,_0x56a0eb=_0x42cab0[_0x4a5972(0x1dc)],_0x2f69c2=_0x56a0eb[_0x4a5972(0x334)]['index'],_0x4868b2=currentQuizData[_0x4a5972(0x598)][_0x2f69c2];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x2cf3e6={..._0x4868b2,'originalTopic':currentQuizData[_0x4a5972(0x7f3)],'savedAt':serverTimestamp()},_0x25a067=collection(db,'artifacts/'+appId+'/users/'+userId+_0x4a5972(0x147));await addDoc(_0x25a067,_0x2cf3e6),showMessage(_0x4a5972(0x8b2)),_0x56a0eb['classList'][_0x4a5972(0x3cc)](_0x4a5972(0x8b1)),_0x56a0eb[_0x4a5972(0x639)][_0x4a5972(0x87d)](_0x4a5972(0x187)),_0x56a0eb[_0x4a5972(0x566)]=!![];}catch(_0x548083){console[_0x4a5972(0x56c)](_0x4a5972(0x32c),_0x548083),showMessage(_0x4a5972(0x8f8));}}function listenForStarredQuizzes(){const _0x3053cc=_0x248128;if(!userId)return;const _0x582dcc=collection(db,_0x3053cc(0x243)+appId+_0x3053cc(0x495)),_0x659737=query(_0x582dcc,where(_0x3053cc(0x385),'==',!![]));onSnapshot(_0x659737,_0x3f3c0c=>{const _0xb5fa6c=_0x3053cc;starredQuizzes=_0x3f3c0c['docs'][_0xb5fa6c(0x336)](_0x2cc58d=>({'id':_0x2cc58d['id'],..._0x2cc58d['data']()})),currentProjectId===_0xb5fa6c(0x1a7)?renderQuizzes():renderProjects();},_0x399c66=>{const _0x82f6d3=_0x3053cc;console['error'](_0x82f6d3(0x4b0),_0x399c66);});}function exportQuizAsWorksheetPDF(){const _0x3d449c=_0x248128;if(!currentQuizData||!currentQuizData[_0x3d449c(0x598)]){showMessage(_0x3d449c(0x42f));return;}const _0x455163=currentQuizData,_0x4f9613=window['open']('',_0x3d449c(0x7c7)),_0x2668e9=_0x3f35e7=>String[_0x3d449c(0x857)](0x41+_0x3f35e7),_0x39556b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x455163[_0x3d449c(0x7f3)]+_0x3d449c(0x90f)+_0x455163[_0x3d449c(0x7f3)]+_0x3d449c(0x226)+_0x455163[_0x3d449c(0x598)][_0x3d449c(0x336)]((_0x101463,_0xed7ea1)=>{const _0x36dcc6=_0x3d449c;let _0x341b8f='';const _0x33166d=_0x101463['questionType']||_0x455163[_0x36dcc6(0x760)];switch(_0x33166d){case _0x36dcc6(0x88b):case _0x36dcc6(0x2f9):_0x341b8f=_0x36dcc6(0x6f1)+_0x101463[_0x36dcc6(0x5b6)][_0x36dcc6(0x336)]((_0x7d1397,_0x614a10)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2668e9(_0x614a10)+'.\x20'+_0x7d1397+_0x36dcc6(0x154))[_0x36dcc6(0x375)](_0x36dcc6(0x43a))+_0x36dcc6(0x4e4);break;case _0x36dcc6(0x5f2):_0x341b8f=_0x36dcc6(0x3bf);break;default:_0x341b8f=_0x36dcc6(0x922);break;}return _0x36dcc6(0x2cb)+(_0xed7ea1+0x1)+_0x36dcc6(0x601)+(_0x101463[_0x36dcc6(0x4c2)]||_0x101463[_0x36dcc6(0x830)])+_0x36dcc6(0x34e)+(_0x101463['imageCode']?_0x36dcc6(0x804)+_0x101463['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x341b8f+_0x36dcc6(0x801);})[_0x3d449c(0x375)]('')+_0x3d449c(0x625);_0x4f9613[_0x3d449c(0x533)]['write'](_0x39556b),_0x4f9613[_0x3d449c(0x533)][_0x3d449c(0x6f2)](),_0x4f9613[_0x3d449c(0x43e)]=function(){setTimeout(()=>{const _0xc60ff4=_0xadd6;_0x4f9613[_0xc60ff4(0x537)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x16615c=_0x248128;if(!currentQuizData||!currentQuizData[_0x16615c(0x598)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0xa3aa15=currentQuizData,_0xc8185c=window['open']('',_0x16615c(0x7c7)),_0x2ae8c1=_0x43e0f8=>String[_0x16615c(0x857)](0x41+_0x43e0f8),_0x3a36d5=_0x16615c(0x4b9)+_0xa3aa15[_0x16615c(0x7f3)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa3aa15[_0x16615c(0x598)][_0x16615c(0x336)]((_0x21dd77,_0x28ea08)=>{const _0x3022b8=_0x16615c;let _0x9b5138='';const _0x23c955=_0x21dd77[_0x3022b8(0x59f)]||_0xa3aa15[_0x3022b8(0x760)];switch(_0x23c955){case'multiple_choice':case _0x3022b8(0x2f9):_0x9b5138='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x21dd77[_0x3022b8(0x5b6)][_0x3022b8(0x336)]((_0xcd0993,_0x34ba4e)=>_0x3022b8(0x6b9)+_0x2ae8c1(_0x34ba4e)+'.\x20'+_0xcd0993+'</span>')['join'](_0x3022b8(0x43a))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x3022b8(0x5f2):_0x9b5138=_0x3022b8(0x5df);break;default:_0x9b5138='';break;}return _0x3022b8(0x362)+_0xa3aa15[_0x3022b8(0x7f3)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x28ea08+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x21dd77[_0x3022b8(0x4c2)]||_0x21dd77[_0x3022b8(0x830)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x21dd77[_0x3022b8(0x849)]?_0x3022b8(0x40c)+_0x21dd77[_0x3022b8(0x849)]+_0x3022b8(0x4e4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9b5138+_0x3022b8(0x46f);})[_0x16615c(0x375)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xc8185c[_0x16615c(0x533)][_0x16615c(0x679)](_0x3a36d5),_0xc8185c[_0x16615c(0x533)][_0x16615c(0x6f2)](),_0xc8185c[_0x16615c(0x43e)]=function(){setTimeout(()=>{const _0x4888a3=_0xadd6;_0xc8185c[_0x4888a3(0x537)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2c1a07){const _0x178fd3=_0x248128,_0x13b808=doc(db,_0x178fd3(0x243)+appId+_0x178fd3(0x495),_0x2c1a07);try{const _0x313aea=await getDoc(_0x13b808);if(_0x313aea[_0x178fd3(0x225)]()){const _0x5b0b4b=_0x313aea['data']()['isStarred']||![];await updateDoc(_0x13b808,{'isStarred':!_0x5b0b4b});}}catch(_0x140e18){console['error'](_0x178fd3(0x71d),_0x140e18),showMessage(_0x178fd3(0x2a1));}}async function displayQuestionBank(){const _0x32cc06=_0x248128,_0x3e3d82=document['getElementById'](_0x32cc06(0x6a6));_0x3e3d82[_0x32cc06(0x58a)]=_0x32cc06(0x853);try{const _0x376159=collection(db,_0x32cc06(0x243)+appId+_0x32cc06(0x6f8)+userId+_0x32cc06(0x147)),_0x28f16a=query(_0x376159),_0x12be90=await getDocs(_0x28f16a);if(_0x12be90[_0x32cc06(0x465)]){_0x3e3d82[_0x32cc06(0x58a)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x26367c=_0x12be90[_0x32cc06(0x654)]['map'](_0x356a10=>{const _0x25b08e=_0x32cc06,_0x236d03=_0x356a10[_0x25b08e(0x45b)](),_0x17394d=_0x356a10['id'];return _0x25b08e(0x432)+JSON[_0x25b08e(0x2dd)](_0x236d03)+_0x25b08e(0x5dc)+(_0x236d03[_0x25b08e(0x830)]||_0x236d03[_0x25b08e(0x4c2)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x236d03[_0x25b08e(0x309)]+_0x25b08e(0x5ee);})['join']('');_0x3e3d82[_0x32cc06(0x58a)]=_0x32cc06(0x5b9)+_0x26367c+_0x32cc06(0x3f5),document[_0x32cc06(0x3ee)](_0x32cc06(0x4d1))[_0x32cc06(0x631)]('click',createQuizFromBank);}catch(_0x26904f){console[_0x32cc06(0x56c)]('Error\x20displaying\x20question\x20bank:',_0x26904f),_0x3e3d82['innerHTML']=_0x32cc06(0x5f8);}}function showAdminLiveQuestionView(_0xd847a8,_0x62933,_0x59a241){const _0x1e64b1=_0x248128,_0x1b95d9=_0xd847a8[_0x1e64b1(0x59f)]||currentQuizData['quizType'];let _0x39d006='';if(_0x1b95d9===_0x1e64b1(0x88b)||_0x1b95d9==='true_false'){const _0x2c8a05=_0x1b95d9===_0x1e64b1(0x5f2)?[_0x1e64b1(0x134),'ไม่ใช่']:_0xd847a8[_0x1e64b1(0x5b6)],_0x48b766=_0x1b95d9===_0x1e64b1(0x5f2)?_0xd847a8[_0x1e64b1(0x572)]?0x0:0x1:_0xd847a8[_0x1e64b1(0x553)];_0x39d006=_0x2c8a05[_0x1e64b1(0x336)]((_0x5ccbaf,_0x1bb252)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x1bb252===_0x48b766)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ccbaf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1e64b1(0x375)]('');}else{if(_0x1b95d9==='matching_item'){const _0x347bad=_0xd847a8[_0x1e64b1(0x17a)]||[];_0x39d006=_0x347bad['map'](_0x1efae9=>_0x1e64b1(0x6fd)+(_0x1efae9===_0xd847a8[_0x1e64b1(0x8f3)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1efae9+_0x1e64b1(0x217))[_0x1e64b1(0x375)]('');}}const _0x19d02e=_0xd847a8[_0x1e64b1(0x4c2)]||_0xd847a8[_0x1e64b1(0x830)],_0x30790f=_0x1e64b1(0x5ea)+(_0x62933+0x1)+_0x1e64b1(0x1de)+_0x59a241+_0x1e64b1(0x69d)+currentLiveGamePin+_0x1e64b1(0x58d)+_0x19d02e+_0x1e64b1(0x39f)+_0x39d006+_0x1e64b1(0x82c);liveGameView['innerHTML']=_0x30790f,window[_0x1e64b1(0x46e)]&&MathJax[_0x1e64b1(0x8c0)]&&MathJax['typesetPromise']([liveGameView]),document[_0x1e64b1(0x3ee)]('reveal-answer-btn')['addEventListener']('click',()=>revealAnswerForAdmin(_0x62933,_0x59a241)),document[_0x1e64b1(0x3ee)](_0x1e64b1(0x1e6))['addEventListener']('click',async()=>{const _0x568219=_0x1e64b1;showConfirmation(_0x568219(0x933),async()=>{const _0x548c81=_0x568219,_0x471a68=doc(db,'artifacts/'+appId+_0x548c81(0x22f),currentLiveGameId);await updateDoc(_0x471a68,{'status':_0x548c81(0x3bc)});});}),document[_0x1e64b1(0x3ee)](_0x1e64b1(0x295))[_0x1e64b1(0x631)](_0x1e64b1(0x493),()=>{const _0x27a7c3=_0x1e64b1;document[_0x27a7c3(0x3ee)]('live-player-management')['classList'][_0x27a7c3(0x854)](_0x27a7c3(0x3f2));});}function showStudentLiveQuestionView(_0x1f10ce,_0x41309e,_0xea030f){const _0x4446b4=_0x248128,_0x4d9516=_0x1f10ce[_0x4446b4(0x59f)]||currentQuizData[_0x4446b4(0x760)];let _0x5b028b='';if(_0x4d9516===_0x4446b4(0x88b)||_0x4d9516===_0x4446b4(0x5f2)){const _0x43403f=_0x4d9516===_0x4446b4(0x5f2)?[_0x4446b4(0x134),_0x4446b4(0x48f)]:_0x1f10ce[_0x4446b4(0x5b6)];_0x5b028b=_0x43403f[_0x4446b4(0x336)]((_0x1ed9f7,_0x170aad)=>_0x4446b4(0x2e1)+_0x170aad+_0x4446b4(0x49f)+_0x1ed9f7+_0x4446b4(0x5d7))[_0x4446b4(0x375)]('');}else{if(_0x4d9516==='matching_item'){const _0x4b0ebd=_0x1f10ce[_0x4446b4(0x17a)]||[];_0x5b028b=_0x4b0ebd['map']((_0xb87e3d,_0x38a993)=>_0x4446b4(0x2e1)+_0x38a993+_0x4446b4(0x49f)+_0xb87e3d+_0x4446b4(0x5d7))[_0x4446b4(0x375)]('');}else _0x4d9516===_0x4446b4(0x660)&&(_0x5b028b=_0x4446b4(0x868));}const _0x41175f=_0x1f10ce[_0x4446b4(0x4c2)]||_0x1f10ce[_0x4446b4(0x830)],_0x5e5d81=_0x4446b4(0x962)+(_0x41309e+0x1)+_0x4446b4(0x1de)+_0xea030f+_0x4446b4(0x8ec)+_0x41175f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b028b+_0x4446b4(0x89a);liveGameView[_0x4446b4(0x58a)]=_0x5e5d81;window[_0x4446b4(0x46e)]&&MathJax[_0x4446b4(0x8c0)]&&MathJax['typesetPromise']([liveGameView]);const _0x34455e=document['getElementById'](_0x4446b4(0x3b5));_0x34455e&&_0x34455e[_0x4446b4(0x631)](_0x4446b4(0x493),()=>{const _0xec39cb=_0x4446b4,_0x257214=document[_0xec39cb(0x3ee)](_0xec39cb(0x6eb))[_0xec39cb(0x635)];handleLiveAnswer(_0x257214,_0x1f10ce);}),document[_0x4446b4(0x3ee)](_0x4446b4(0x671))['addEventListener'](_0x4446b4(0x493),_0x16efd4=>{const _0x397f22=_0x4446b4,_0x70fd92=_0x16efd4[_0x397f22(0x21b)][_0x397f22(0x918)](_0x397f22(0x223));if(_0x70fd92){const _0x5af749=parseInt(_0x70fd92[_0x397f22(0x334)][_0x397f22(0x917)]);handleLiveAnswer(_0x5af749,_0x1f10ce);}});}async function handleLiveAnswer(_0x29c7eb,_0x4b6637){const _0xb86bf5=_0x248128;document['querySelectorAll'](_0xb86bf5(0x7b9))[_0xb86bf5(0x762)](_0x44263f=>_0x44263f[_0xb86bf5(0x566)]=!![]);const _0x292097=_0x4b6637['questionType']||currentQuizData[_0xb86bf5(0x760)];let _0x5e0e53=![],_0x28c0fd=_0x29c7eb;if(_0x292097==='short_answer'){const _0x8b8f41=(_0x29c7eb||'')[_0xb86bf5(0x4dd)]();_0x5e0e53=await gradeShortAnswer(_0x8b8f41,_0x4b6637);}else{if(_0x292097===_0xb86bf5(0x88b))_0x5e0e53=_0x29c7eb===_0x4b6637[_0xb86bf5(0x553)];else{if(_0x292097===_0xb86bf5(0x5f2)){const _0x537ac8=_0x4b6637[_0xb86bf5(0x572)];_0x5e0e53=_0x29c7eb===0x0&&_0x537ac8||_0x29c7eb===0x1&&!_0x537ac8;}else{if(_0x292097===_0xb86bf5(0x732)){const _0x1d2bfe=_0x4b6637['allResponses'][_0x29c7eb];_0x5e0e53=_0x1d2bfe===_0x4b6637[_0xb86bf5(0x8f3)],_0x28c0fd=_0x1d2bfe;}}}}const _0x554948=doc(db,_0xb86bf5(0x243)+appId+'/public/data/liveGames',currentLiveGameId),_0x2926ea={};_0x2926ea['players.'+currentStudentName+'.answeredCurrentQuestion']=!![],_0x2926ea[_0xb86bf5(0x6e8)+currentStudentName+_0xb86bf5(0x319)]=_0x5e0e53,_0x2926ea[_0xb86bf5(0x6e8)+currentStudentName+_0xb86bf5(0x74f)]=_0x292097===_0xb86bf5(0x660)||_0x292097==='matching_item'?null:_0x29c7eb,_0x2926ea[_0xb86bf5(0x6e8)+currentStudentName+_0xb86bf5(0x714)]=_0x28c0fd,_0x2926ea[_0xb86bf5(0x6e8)+currentStudentName+_0xb86bf5(0x32b)]=serverTimestamp(),_0x2926ea[_0xb86bf5(0x6e8)+currentStudentName+_0xb86bf5(0x6db)]=![],await updateDoc(_0x554948,_0x2926ea),liveGameView['innerHTML']=_0xb86bf5(0x3ff);}function showAdminSummaryView(_0x407c44,_0x482792){const _0x5edbc8=_0x248128,_0x12ba1a=Object[_0x5edbc8(0x4d9)](_0x407c44['players']||{}),_0x4beccc=_0x482792['questionType']||currentQuizData['quizType'],_0x14736c=_0x4beccc===_0x5edbc8(0x5f2)?['ใช่',_0x5edbc8(0x48f)]:_0x482792[_0x5edbc8(0x5b6)]||_0x482792[_0x5edbc8(0x17a)]||[],_0x5a8ea1={},_0xc0b0bc=new Array(_0x14736c[_0x5edbc8(0x888)])[_0x5edbc8(0x126)](0x0);_0x14736c[_0x5edbc8(0x762)]((_0x746cd2,_0x19b491)=>{_0x5a8ea1[_0x19b491]=[];}),Object[_0x5edbc8(0x20c)](_0x407c44[_0x5edbc8(0x43d)]||{})[_0x5edbc8(0x762)](([_0x31f018,_0x33a78b])=>{const _0x575e25=_0x5edbc8;if(_0x33a78b[_0x575e25(0x6d3)]===_0x575e25(0x6b4)&&_0x33a78b[_0x575e25(0x497)]!==undefined){const _0x1977bb=_0x33a78b[_0x575e25(0x497)];_0x5a8ea1[_0x1977bb]&&(_0x5a8ea1[_0x1977bb][_0x575e25(0x162)](_0x31f018),_0xc0b0bc[_0x1977bb]++);}});const _0x125491=Math[_0x5edbc8(0x311)](..._0xc0b0bc,0x1),_0x279bbf=_0x5edbc8(0x5c5)+(_0x482792[_0x5edbc8(0x4c2)]||_0x482792[_0x5edbc8(0x830)])+_0x5edbc8(0x1ee)+_0xc0b0bc[_0x5edbc8(0x336)]((_0x514673,_0x1d3fd6)=>{const _0x8f19d6=_0x5edbc8,_0x388c12=_0x5a8ea1[_0x1d3fd6]['length']>0x0?_0x5a8ea1[_0x1d3fd6][_0x8f19d6(0x375)](',\x20'):_0x8f19d6(0x21a);let _0x226731=![];if(_0x4beccc===_0x8f19d6(0x88b))_0x226731=_0x1d3fd6===_0x482792['correctAnswerIndex'];else{if(_0x4beccc===_0x8f19d6(0x5f2)){const _0x25a87c=_0x482792['correctAnswer'];_0x226731=_0x25a87c&&_0x1d3fd6===0x0||!_0x25a87c&&_0x1d3fd6===0x1;}else _0x4beccc==='matching_item'&&(_0x226731=_0x14736c[_0x1d3fd6]===_0x482792[_0x8f19d6(0x8f3)]);}const _0xde4c3d=_0x226731?_0x8f19d6(0x447):_0x8f19d6(0x468);return _0x8f19d6(0x94b)+_0x514673+_0x8f19d6(0x503)+_0xde4c3d+_0x8f19d6(0x78e)+_0x1d3fd6+_0x8f19d6(0x286)+_0x14736c[_0x1d3fd6]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x1d3fd6+_0x8f19d6(0x2ec)+_0x388c12+_0x8f19d6(0x88e);})[_0x5edbc8(0x375)]('')+_0x5edbc8(0x1b2);liveGameView[_0x5edbc8(0x58a)]=_0x279bbf;if(window[_0x5edbc8(0x46e)])MathJax[_0x5edbc8(0x8c0)]();document[_0x5edbc8(0x3ee)](_0x5edbc8(0x2e8))[_0x5edbc8(0x631)]('click',async()=>{const _0x109093=_0x5edbc8,_0x51b942=doc(db,_0x109093(0x243)+appId+_0x109093(0x22f),currentLiveGameId);await updateDoc(_0x51b942,{'questionStatus':_0x109093(0x916)});}),document[_0x5edbc8(0x3ee)](_0x5edbc8(0x1c7))[_0x5edbc8(0x631)](_0x5edbc8(0x493),()=>{openScratchpad(_0x482792,_0x14736c);});}function showPlayerSummaryView(_0x9985ac,_0x51f92f){const _0x5f2196=_0x248128,_0x18a2b8=Object['values'](_0x9985ac[_0x5f2196(0x43d)]||{}),_0x270bee=_0x9985ac[_0x5f2196(0x43d)][_0x51f92f],_0x3050ed=_0x18a2b8[_0x5f2196(0x305)](_0x549e04=>_0x549e04[_0x5f2196(0x6d3)]===_0x5f2196(0x6b4))[_0x5f2196(0x81a)]((_0x5629d4,_0x488f1f)=>_0x488f1f[_0x5f2196(0x4a4)]-_0x5629d4[_0x5f2196(0x4a4)]),_0x321fae=_0x3050ed[_0x5f2196(0x848)](_0x8c7c7e=>_0x8c7c7e===_0x270bee)+0x1,_0x1dc46d=_0x270bee['lastAnswerCorrect']?_0x5f2196(0x8c9):_0x5f2196(0x152),_0x3f61d2=_0x270bee['lastAnswerCorrect']?_0x5f2196(0x5e9):_0x5f2196(0x7f2),_0x340c2a=_0x270bee[_0x5f2196(0x3e7)]||0x0,_0x586c30=_0x5f2196(0x80b),_0xcab21a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x586c30+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x3f61d2+_0x5f2196(0x212)+_0x1dc46d+_0x5f2196(0x7d3)+_0x340c2a+_0x5f2196(0x58b)+(_0x321fae>0x0?_0x321fae:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x5f2196(0x58a)]=_0xcab21a;}function createQuizFromBank(){const _0x185b33=_0x248128,_0x230477=document[_0x185b33(0x8e0)](_0x185b33(0x745));if(_0x230477[_0x185b33(0x888)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x248207=[];_0x230477[_0x185b33(0x762)](_0x687bb5=>{const _0x19d6d8=_0x185b33;_0x248207['push'](JSON[_0x19d6d8(0x651)](_0x687bb5[_0x19d6d8(0x635)]));});const _0x5228d7={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x248207};displayGeneratedQuiz(_0x5228d7);}function showAdminLobbyView(_0x3ac764,_0x11f3be){const _0xfe4b46=_0x248128;showView('live-game');const _0x4ccffe=_0xfe4b46(0x725)+_0x11f3be+_0xfe4b46(0x433)+_0x3ac764+_0xfe4b46(0x921);liveGameView[_0xfe4b46(0x58a)]=_0x4ccffe,document['getElementById'](_0xfe4b46(0x8cf))[_0xfe4b46(0x631)]('click',async()=>{const _0x1024c1=_0xfe4b46;if(!currentQuizData||!currentQuizData[_0x1024c1(0x598)]||currentQuizData[_0x1024c1(0x598)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x687a11=doc(db,_0x1024c1(0x243)+appId+_0x1024c1(0x22f),currentLiveGameId);await updateDoc(_0x687a11,{'status':_0x1024c1(0x3c8),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1cd12d=currentQuizData[_0x1024c1(0x598)][0x0],_0x19bde7=currentQuizData[_0x1024c1(0x598)][_0x1024c1(0x888)];showAdminLiveQuestionView(_0x1cd12d,0x0,_0x19bde7);}catch(_0x1b88b5){console['error'](_0x1024c1(0x1e9),_0x1b88b5),showMessage(_0x1024c1(0x45a));}});}async function openGlobalLiveModal(){const _0x29335f=_0x248128;if(allQuizzesGlobal[_0x29335f(0x888)]===0x0){const _0xfe4292=await getDocs(collection(db,_0x29335f(0x243)+appId+_0x29335f(0x495)));allQuizzesGlobal=_0xfe4292[_0x29335f(0x654)]['map'](_0x3e1aed=>({'id':_0x3e1aed['id'],..._0x3e1aed['data']()}));}renderGlobalQuizList(''),document[_0x29335f(0x3ee)](_0x29335f(0x8db))[_0x29335f(0x639)][_0x29335f(0x3cc)](_0x29335f(0x3f2));}async function openQuizBankModal(){const _0x2d0c7a=_0x248128;if(allQuizzesGlobal['length']===0x0){const _0x5c5d6c=await getDocs(collection(db,'artifacts/'+appId+_0x2d0c7a(0x495)));allQuizzesGlobal=_0x5c5d6c[_0x2d0c7a(0x654)][_0x2d0c7a(0x336)](_0x10ea90=>({'id':_0x10ea90['id'],..._0x10ea90[_0x2d0c7a(0x45b)]()}));}renderQuizBankList(''),document['getElementById'](_0x2d0c7a(0x399))[_0x2d0c7a(0x639)]['remove'](_0x2d0c7a(0x3f2));}function renderQuizBankList(_0x24ad65=''){const _0x2ac681=_0x248128,_0x16e4f3=document[_0x2ac681(0x3ee)]('bank-quiz-list'),_0x51b073=_0x24ad65[_0x2ac681(0x577)]()[_0x2ac681(0x6b7)](),_0x3372b6=allQuizzesGlobal[_0x2ac681(0x336)](_0x146b26=>({..._0x146b26,'projectName':allProjects[_0x2ac681(0x2f4)](_0x6bd6e8=>_0x6bd6e8['id']===_0x146b26[_0x2ac681(0x4a0)])?.[_0x2ac681(0x86f)]||_0x2ac681(0x905)}))[_0x2ac681(0x305)](_0x3da8bd=>(_0x3da8bd[_0x2ac681(0x7f3)]||'')[_0x2ac681(0x577)]()[_0x2ac681(0x8b4)](_0x51b073)||(_0x3da8bd[_0x2ac681(0x86f)]||'')[_0x2ac681(0x577)]()['includes'](_0x51b073)||_0x3da8bd['id'][_0x2ac681(0x4dd)]()[_0x2ac681(0x8b4)](_0x51b073));document[_0x2ac681(0x3ee)](_0x2ac681(0x5fa))['textContent']='('+_0x3372b6[_0x2ac681(0x888)]+_0x2ac681(0x208),_0x16e4f3[_0x2ac681(0x58a)]=_0x3372b6[_0x2ac681(0x888)]?_0x3372b6[_0x2ac681(0x336)](_0x5b84e9=>_0x2ac681(0x615)+_0x5b84e9['id']+_0x2ac681(0x4fa)+(_0x5b84e9[_0x2ac681(0x7f3)]||_0x2ac681(0x8af))+_0x2ac681(0x307)+(_0x5b84e9['questions']?.['length']||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x5b84e9[_0x2ac681(0x86f)]+_0x2ac681(0x5e3)+_0x5b84e9['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5b84e9['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5b84e9['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5b84e9['id']+_0x2ac681(0x6da)+_0x5b84e9['id']+_0x2ac681(0x40d)+_0x5b84e9['id']+_0x2ac681(0x19d)+_0x5b84e9['id']+_0x2ac681(0x5d1)+_0x5b84e9['topic']+_0x2ac681(0x3e2))[_0x2ac681(0x375)](''):_0x2ac681(0x710),_0x16e4f3['querySelectorAll'](_0x2ac681(0x772))[_0x2ac681(0x762)](_0x3e7268=>{const _0x208ce9=_0x2ac681;_0x3e7268[_0x208ce9(0x631)](_0x208ce9(0x493),()=>{const _0x56b2fb=_0x208ce9,_0x37df28=_0x3e7268['dataset']['id'];document[_0x56b2fb(0x3ee)]('quiz-bank-modal')[_0x56b2fb(0x639)][_0x56b2fb(0x87d)]('hidden'),showQuizDetailView(_0x37df28);});}),_0x16e4f3['querySelectorAll'](_0x2ac681(0x4c4))[_0x2ac681(0x762)](_0x1f42e1=>{const _0x191b27=_0x2ac681;_0x1f42e1[_0x191b27(0x631)]('click',_0x203a1d=>{const _0x2aecba=_0x191b27;_0x203a1d['stopPropagation']();const _0x55a607=_0x1f42e1['dataset']['id'],_0x3d12d0=allQuizzesGlobal['find'](_0x222bfd=>_0x222bfd['id']===_0x55a607);_0x3d12d0?(currentQuizData=_0x3d12d0,document[_0x2aecba(0x3ee)](_0x2aecba(0x399))['classList']['add']('hidden'),startAdminTest()):showMessage(_0x2aecba(0x3aa));});}),_0x16e4f3['querySelectorAll'](_0x2ac681(0x786))[_0x2ac681(0x762)](_0x404c0f=>{const _0xdad062=_0x2ac681;_0x404c0f[_0xdad062(0x631)](_0xdad062(0x493),_0x12a01b=>{const _0x243538=_0xdad062;_0x12a01b[_0x243538(0x65d)]();const _0x3fba10=_0x404c0f[_0x243538(0x334)]['id'],_0xef5022=allQuizzesGlobal[_0x243538(0x2f4)](_0x2d7927=>_0x2d7927['id']===_0x3fba10);_0xef5022?(document[_0x243538(0x3ee)](_0x243538(0x399))['classList'][_0x243538(0x87d)](_0x243538(0x3f2)),handleGenerateParallelFromBank(_0xef5022)):showMessage(_0x243538(0x3aa));});}),_0x16e4f3[_0x2ac681(0x8e0)]('.quiz-bank-present-btn')['forEach'](_0x2ee759=>{const _0x3662eb=_0x2ac681;_0x2ee759[_0x3662eb(0x631)](_0x3662eb(0x493),_0x2a5040=>{const _0x26e9a8=_0x3662eb;_0x2a5040['stopPropagation']();const _0x2a5a20=_0x2ee759['dataset']['id'],_0x4a047e=allQuizzesGlobal[_0x26e9a8(0x2f4)](_0x25afbe=>_0x25afbe['id']===_0x2a5a20);_0x4a047e?(document[_0x26e9a8(0x3ee)](_0x26e9a8(0x399))['classList'][_0x26e9a8(0x87d)](_0x26e9a8(0x3f2)),startPresentation(_0x4a047e)):showMessage(_0x26e9a8(0x3aa));});}),_0x16e4f3[_0x2ac681(0x8e0)](_0x2ac681(0x1e7))[_0x2ac681(0x762)](_0x304fa7=>{const _0x33b412=_0x2ac681;_0x304fa7[_0x33b412(0x631)](_0x33b412(0x493),_0x32f463=>{const _0x5ea1ad=_0x33b412;_0x32f463[_0x5ea1ad(0x65d)]();const _0x144fd8=_0x304fa7['dataset']['id'];document['getElementById']('quiz-bank-modal')[_0x5ea1ad(0x639)][_0x5ea1ad(0x87d)](_0x5ea1ad(0x3f2)),handleMoveQuiz(_0x144fd8);});}),_0x16e4f3[_0x2ac681(0x8e0)](_0x2ac681(0x686))[_0x2ac681(0x762)](_0xc7f0f=>{const _0xd5493=_0x2ac681;_0xc7f0f[_0xd5493(0x631)](_0xd5493(0x493),_0x454938=>{const _0x14671c=_0xd5493;_0x454938[_0x14671c(0x65d)]();const _0x9aeddb=_0xc7f0f[_0x14671c(0x334)]['id'];document[_0x14671c(0x3ee)](_0x14671c(0x399))[_0x14671c(0x639)][_0x14671c(0x87d)]('hidden'),handleQuizSettings(_0x9aeddb);});}),_0x16e4f3['querySelectorAll'](_0x2ac681(0x38f))[_0x2ac681(0x762)](_0x1bf08c=>{const _0x4798a9=_0x2ac681;_0x1bf08c[_0x4798a9(0x631)]('click',_0x13c7da=>{const _0x4d0d91=_0x4798a9;_0x13c7da[_0x4d0d91(0x65d)]();const _0x4755e6=_0x1bf08c[_0x4d0d91(0x334)]['id'],_0x2af003=_0x1bf08c[_0x4d0d91(0x334)][_0x4d0d91(0x7f3)];showConfirmation(_0x4d0d91(0x612)+_0x2af003+_0x4d0d91(0x6ab),()=>handleDeleteQuiz(_0x4755e6));});});}async function handleCompareResults(_0x1e12c5,_0x41a481){const _0xb11f2=_0x248128,_0x4ce7d7=document['getElementById'](_0xb11f2(0x1a3)),_0x56f2c5=document['getElementById']('comparison-overall-content'),_0x176a25=document[_0xb11f2(0x3ee)](_0xb11f2(0x466));document[_0xb11f2(0x3ee)](_0xb11f2(0x1ff))['classList']['add'](_0xb11f2(0x6b4)),document[_0xb11f2(0x3ee)](_0xb11f2(0x856))[_0xb11f2(0x639)][_0xb11f2(0x3cc)](_0xb11f2(0x6b4)),_0x56f2c5['classList']['remove'](_0xb11f2(0x3f2)),_0x176a25[_0xb11f2(0x639)][_0xb11f2(0x87d)](_0xb11f2(0x3f2)),_0x56f2c5[_0xb11f2(0x58a)]=_0xb11f2(0x853),_0x176a25[_0xb11f2(0x58a)]='',_0x4ce7d7[_0xb11f2(0x639)][_0xb11f2(0x3cc)](_0xb11f2(0x3f2));try{const _0x5c9869=doc(db,_0xb11f2(0x243)+appId+_0xb11f2(0x495),_0x1e12c5),_0x465097=await getDoc(_0x5c9869);if(!_0x465097[_0xb11f2(0x225)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x32ca99=_0x465097[_0xb11f2(0x45b)](),_0x94736a=_0x32ca99[_0xb11f2(0x598)][_0xb11f2(0x888)],_0x5ac9a2=collection(db,_0xb11f2(0x243)+appId+_0xb11f2(0x844)+_0x41a481+_0xb11f2(0x338)),_0x3635d9=collection(db,_0xb11f2(0x243)+appId+_0xb11f2(0x844)+_0x1e12c5+_0xb11f2(0x338)),[_0x4cc730,_0x25186e]=await Promise['all']([getDocs(_0x5ac9a2),getDocs(_0x3635d9)]),_0x125ede=_0x4cc730[_0xb11f2(0x654)][_0xb11f2(0x336)](_0x47b333=>_0x47b333['data']()),_0x2c88fe=_0x25186e[_0xb11f2(0x654)]['map'](_0x7e8eb2=>_0x7e8eb2['data']()),_0x2bbbfc=_0x125ede['map'](_0x3db116=>_0x3db116[_0xb11f2(0x840)]),_0x38324e=_0x2c88fe[_0xb11f2(0x336)](_0x1c9f4=>_0x1c9f4['latestScore']),_0x105438=calculateMeanAndStdDev(_0x2bbbfc),_0x5a5cc9=calculateMeanAndStdDev(_0x38324e),_0x480f20=_0x105438[_0xb11f2(0x4d6)],_0x268f35=_0x5a5cc9[_0xb11f2(0x4d6)],_0x8928fb=_0x268f35-_0x480f20;let _0x55e137=_0xb11f2(0x656)+_0x480f20[_0xb11f2(0x55a)](0x2)+_0xb11f2(0x486)+_0x268f35[_0xb11f2(0x55a)](0x2)+_0xb11f2(0x773)+(_0x8928fb>=0x0?_0xb11f2(0x12b):_0xb11f2(0x59c))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x8928fb>=0x0?'text-emerald-800':_0xb11f2(0x393))+_0xb11f2(0x5b5)+(_0x8928fb>=0x0?_0xb11f2(0x563):_0xb11f2(0x3af))+'\x22>'+(_0x8928fb>=0x0?'+':'')+_0x8928fb[_0xb11f2(0x55a)](0x2)+_0xb11f2(0x8e1);_0x56f2c5[_0xb11f2(0x58a)]=_0x55e137;const _0x33d0f4=document[_0xb11f2(0x3ee)](_0xb11f2(0x676))[_0xb11f2(0x459)]('2d');if(chartInstances[_0xb11f2(0x83e)])chartInstances[_0xb11f2(0x83e)]['destroy']();chartInstances[_0xb11f2(0x83e)]=new Chart(_0x33d0f4,{'type':_0xb11f2(0x383),'data':{'labels':[_0xb11f2(0x388)],'datasets':[{'label':_0xb11f2(0x4e3),'data':[_0x480f20],'backgroundColor':_0xb11f2(0x95b)},{'label':_0xb11f2(0x70a),'data':[_0x268f35],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x94736a}}}});const _0x3e1ea2=currentProjectData[_0xb11f2(0x790)]||[],_0xfac58e=_0x3e1ea2['map'](_0x6fa7a1=>{const _0x3bbe33=_0xb11f2,_0x111e65=_0x125ede[_0x3bbe33(0x2f4)](_0x2da01a=>_0x2da01a[_0x3bbe33(0x8d1)]===_0x6fa7a1),_0x397369=_0x2c88fe['find'](_0x2d264e=>_0x2d264e[_0x3bbe33(0x8d1)]===_0x6fa7a1),_0x2781ee=_0x111e65?_0x111e65[_0x3bbe33(0x840)]:null,_0x3cdd4a=_0x397369?_0x397369[_0x3bbe33(0x840)]:null,_0x2e5464=_0x2781ee!==null&&_0x3cdd4a!==null?_0x3cdd4a-_0x2781ee:null,_0x3d2eed=_0x2781ee!==null?calculateZScore(_0x2781ee,_0x105438[_0x3bbe33(0x4d6)],_0x105438[_0x3bbe33(0x8bd)]):null,_0x4a5b7e=_0x3cdd4a!==null?calculateZScore(_0x3cdd4a,_0x5a5cc9[_0x3bbe33(0x4d6)],_0x5a5cc9[_0x3bbe33(0x8bd)]):null,_0x5cb9d8=_0x3d2eed!==null?calculateTScore(_0x3d2eed):null,_0x550529=_0x4a5b7e!==null?calculateTScore(_0x4a5b7e):null,_0x32f806=_0x5cb9d8!==null&&_0x550529!==null?_0x550529-_0x5cb9d8:null;return{'name':_0x6fa7a1,'preScore':_0x2781ee,'postScore':_0x3cdd4a,'gain':_0x2e5464,'preTScore':_0x5cb9d8,'postTScore':_0x550529,'tGain':_0x32f806};});renderIndividualComparisonTable(_0xfac58e,_0x176a25);}catch(_0x45f93b){console[_0xb11f2(0x56c)](_0xb11f2(0x37e),_0x45f93b),_0x56f2c5['innerHTML']=_0xb11f2(0x6b8);}}function displayHalfMarkResult(_0x414e78,_0x1694d1){const _0x54d647=_0x248128,_0x464cca=_0x414e78>=_0x1694d1/0x2,_0x116737=_0x464cca?_0x54d647(0x685):_0x54d647(0x59c),_0x5671c3=_0x464cca?_0x54d647(0x7e5):_0x54d647(0x819),_0x2094a7=_0x464cca?_0x54d647(0x56e):_0x54d647(0x393),_0x3a23b8=_0x464cca?_0x54d647(0x7f4):'คะแนนยังไม่ถึงครึ่ง',_0x4d432f=_0x464cca?_0x54d647(0x3fb):_0x54d647(0x174);let _0x3087fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x116737+_0x54d647(0x2c6)+_0x5671c3+_0x54d647(0x655)+_0x2094a7+_0x54d647(0x95e)+_0x3a23b8+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x4d432f+_0x54d647(0x200);studentResultArea[_0x54d647(0x58a)]=_0x3087fe,studentResultArea[_0x54d647(0x639)][_0x54d647(0x3cc)](_0x54d647(0x3f2)),studentQuizArea[_0x54d647(0x639)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x464cca});}function displayPerfectScoreResult(_0x3581eb,_0x2a5e5b){const _0x4faa51=_0x248128,_0x5df079=_0x3581eb===_0x2a5e5b,_0x244b75=_0x5df079?'bg-yellow-100':_0x4faa51(0x1be),_0x4c7b4d=_0x5df079?_0x4faa51(0x3e4):_0x4faa51(0x5cf),_0x3ca955=_0x5df079?_0x4faa51(0x66f):'text-blue-800',_0x147b36=_0x5df079?'คะแนนเต็ม!':_0x4faa51(0x59e),_0x2204df=_0x5df079?_0x4faa51(0x8b5):_0x4faa51(0x6bc);let _0x250054=_0x4faa51(0x636)+_0x244b75+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c7b4d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x3ca955+_0x4faa51(0x95e)+_0x147b36+_0x4faa51(0x7d6)+_0x2204df+_0x4faa51(0x200);studentResultArea[_0x4faa51(0x58a)]=_0x250054,studentResultArea[_0x4faa51(0x639)][_0x4faa51(0x3cc)](_0x4faa51(0x3f2)),studentQuizArea[_0x4faa51(0x639)][_0x4faa51(0x87d)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x3581eb,'totalQuestions':_0x2a5e5b});}function renderIndividualComparisonTable(_0x384864,_0x1d6a85){const _0x20c583=_0x248128;_0x384864[_0x20c583(0x81a)]((_0x49f011,_0x381213)=>(_0x381213[_0x20c583(0x91c)]??-Infinity)-(_0x49f011['tGain']??-Infinity));let _0x3e4264=_0x20c583(0x13f);_0x384864[_0x20c583(0x888)]===0x0?_0x3e4264+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x384864[_0x20c583(0x762)]((_0x1a2c59,_0xbc1c59)=>{const _0x26e804=_0x20c583;let _0x5830da='-',_0x1e03f6='';if(_0x1a2c59[_0x26e804(0x586)]!==null){const _0x28b9bb=_0x1a2c59[_0x26e804(0x586)]>0x0?_0x26e804(0x187):_0x1a2c59[_0x26e804(0x586)]<0x0?_0x26e804(0x3bd):_0x26e804(0x190),_0x476f94=_0x1a2c59['gain']>0x0?'+':'';_0x5830da=_0x26e804(0x93d)+_0x28b9bb+'\x22>'+_0x476f94+_0x1a2c59['gain']+_0x26e804(0x255);if(_0x1a2c59[_0x26e804(0x586)]>0x0)_0x1e03f6=_0x26e804(0x68f);else _0x1a2c59[_0x26e804(0x586)]<0x0?_0x1e03f6=_0x26e804(0x6e5):_0x1e03f6='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x4046aa='-';if(_0x1a2c59[_0x26e804(0x91c)]!==null){const _0x13337d=_0x1a2c59[_0x26e804(0x91c)]>0x0?_0x26e804(0x187):_0x1a2c59[_0x26e804(0x91c)]<0x0?_0x26e804(0x3bd):_0x26e804(0x190),_0x4903c2=_0x1a2c59['tGain']>0x0?'+':'';_0x4046aa=_0x26e804(0x93d)+_0x13337d+'\x22>'+_0x4903c2+_0x1a2c59['tGain'][_0x26e804(0x55a)](0x2)+_0x26e804(0x255);}_0x3e4264+=_0x26e804(0x653)+(_0xbc1c59+0x1)+_0x26e804(0x67a)+_0x1a2c59[_0x26e804(0x268)]+_0x26e804(0x792)+(_0x1a2c59[_0x26e804(0x559)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x1a2c59[_0x26e804(0x8d8)]??'-')+_0x26e804(0x792)+_0x5830da+_0x26e804(0x6a7)+_0x1e03f6+_0x26e804(0x56b)+(_0x1a2c59[_0x26e804(0x339)]?.[_0x26e804(0x55a)](0x2)??'-')+_0x26e804(0x278)+(_0x1a2c59['postTScore']?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x4046aa+_0x26e804(0x2a7);}),_0x3e4264+=_0x20c583(0x64c),_0x1d6a85[_0x20c583(0x58a)]=_0x3e4264;}function handleRenameQuiz(_0xdd0208,_0x58c46a){const _0x1263f3=_0x248128;actionTargetId=_0xdd0208,document[_0x1263f3(0x3ee)](_0x1263f3(0x7d8))[_0x1263f3(0x635)]=_0x58c46a,renameQuizModal[_0x1263f3(0x639)][_0x1263f3(0x3cc)](_0x1263f3(0x3f2));}function setupComparisonModalTabs(){const _0x2f6a7a=_0x248128,_0x1e6152=document[_0x2f6a7a(0x3ee)]('comparison-overall-tab'),_0x58e7d3=document[_0x2f6a7a(0x3ee)](_0x2f6a7a(0x856)),_0x49d5aa=document[_0x2f6a7a(0x3ee)](_0x2f6a7a(0x3fc)),_0x4d8b8f=document[_0x2f6a7a(0x3ee)](_0x2f6a7a(0x466));_0x1e6152['addEventListener'](_0x2f6a7a(0x493),()=>{const _0x58d347=_0x2f6a7a;_0x1e6152[_0x58d347(0x639)][_0x58d347(0x87d)](_0x58d347(0x6b4)),_0x58e7d3[_0x58d347(0x639)][_0x58d347(0x3cc)]('active'),_0x49d5aa[_0x58d347(0x639)][_0x58d347(0x3cc)](_0x58d347(0x3f2)),_0x4d8b8f['classList']['add'](_0x58d347(0x3f2));}),_0x58e7d3['addEventListener'](_0x2f6a7a(0x493),()=>{const _0x13b6fe=_0x2f6a7a;_0x58e7d3[_0x13b6fe(0x639)][_0x13b6fe(0x87d)](_0x13b6fe(0x6b4)),_0x1e6152['classList'][_0x13b6fe(0x3cc)]('active'),_0x4d8b8f[_0x13b6fe(0x639)][_0x13b6fe(0x3cc)](_0x13b6fe(0x3f2)),_0x49d5aa[_0x13b6fe(0x639)][_0x13b6fe(0x87d)](_0x13b6fe(0x3f2));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x16a941=''){const _0x3ba2ce=_0x248128,_0x235ab5=document['getElementById'](_0x3ba2ce(0x4d3)),_0x1ee144=_0x16a941['toLowerCase']()[_0x3ba2ce(0x6b7)](),_0x4a04f5=allQuizzesGlobal['map'](_0x2467cb=>({..._0x2467cb,'projectName':allProjects['find'](_0x15c341=>_0x15c341['id']===_0x2467cb[_0x3ba2ce(0x4a0)])?.[_0x3ba2ce(0x86f)]||_0x2467cb['projectId']}))[_0x3ba2ce(0x305)](_0x1efd59=>(_0x1efd59[_0x3ba2ce(0x7f3)]||'')[_0x3ba2ce(0x577)]()['includes'](_0x1ee144)||(_0x1efd59[_0x3ba2ce(0x86f)]||'')[_0x3ba2ce(0x577)]()[_0x3ba2ce(0x8b4)](_0x1ee144));document[_0x3ba2ce(0x3ee)](_0x3ba2ce(0x4c1))['textContent']='('+_0x4a04f5[_0x3ba2ce(0x888)]+_0x3ba2ce(0x208),_0x235ab5['innerHTML']=_0x4a04f5[_0x3ba2ce(0x888)]?_0x4a04f5[_0x3ba2ce(0x336)](_0x5e9b27=>_0x3ba2ce(0x240)+_0x5e9b27['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x5e9b27[_0x3ba2ce(0x7f3)]||_0x3ba2ce(0x8af))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x5e9b27[_0x3ba2ce(0x598)]?.[_0x3ba2ce(0x888)]||0x0)+_0x3ba2ce(0x626)+_0x5e9b27[_0x3ba2ce(0x86f)]+_0x3ba2ce(0x4e1))['join'](''):_0x3ba2ce(0x203),selectedGlobalQuizId=null,document[_0x3ba2ce(0x3ee)](_0x3ba2ce(0x5fb))[_0x3ba2ce(0x566)]=!![],_0x235ab5[_0x3ba2ce(0x8e0)](_0x3ba2ce(0x1a6))['forEach'](_0x3cb28b=>{const _0x4ba704=_0x3ba2ce;_0x3cb28b[_0x4ba704(0x631)](_0x4ba704(0x493),()=>{const _0x1c0751=_0x4ba704;selectedGlobalQuizId=_0x3cb28b[_0x1c0751(0x334)]['id'],_0x235ab5[_0x1c0751(0x8e0)](_0x1c0751(0x3e1))[_0x1c0751(0x762)](_0x34a8f5=>_0x34a8f5[_0x1c0751(0x639)][_0x1c0751(0x3cc)](_0x1c0751(0x172),_0x1c0751(0x5ff),_0x1c0751(0x8c5))),_0x3cb28b[_0x1c0751(0x639)]['add'](_0x1c0751(0x172),_0x1c0751(0x5ff),_0x1c0751(0x8c5)),document[_0x1c0751(0x3ee)]('confirm-global-live-btn')[_0x1c0751(0x566)]=![];});});}function listenForLiveGameUpdates(){const _0x4211bb=_0x248128;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x150763=doc(db,'artifacts/'+appId+_0x4211bb(0x22f),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x150763,_0x538e93=>{const _0x1d9e87=_0x4211bb;if(!_0x538e93[_0x1d9e87(0x225)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x69b2d9=_0x538e93[_0x1d9e87(0x45b)]();_0x69b2d9[_0x1d9e87(0x389)]&&(currentQuizData=_0x69b2d9[_0x1d9e87(0x389)]);!currentQuizData&&_0x69b2d9['quizId']&&((async()=>{const _0x13ea4d=_0x1d9e87;try{const _0x12df5c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x69b2d9['quizId']),_0x4dd1b6=await getDoc(_0x12df5c);_0x4dd1b6[_0x13ea4d(0x225)]()&&(currentQuizData={'id':_0x4dd1b6['id'],..._0x4dd1b6['data']()});}catch(_0x105d20){console[_0x13ea4d(0x56c)](_0x13ea4d(0x4bd),_0x105d20);}})());switch(_0x69b2d9[_0x1d9e87(0x6d3)]){case _0x1d9e87(0x574):if(currentMode==='admin'){const _0x2a6aeb=_0x69b2d9[_0x1d9e87(0x43d)]?Object[_0x1d9e87(0x20c)](_0x69b2d9['players']):[],_0xb08fb0=_0x2a6aeb['filter'](([_0x4007f9,_0x1ec35e])=>_0x1ec35e[_0x1d9e87(0x6d3)]===_0x1d9e87(0x6b4)),_0x5c6097=document[_0x1d9e87(0x3ee)](_0x1d9e87(0x813));if(_0x5c6097)_0x5c6097[_0x1d9e87(0x540)]=_0xb08fb0[_0x1d9e87(0x888)];const _0x25f025=document['getElementById'](_0x1d9e87(0x92b));_0x25f025&&(_0x25f025[_0x1d9e87(0x58a)]=_0xb08fb0[_0x1d9e87(0x336)](([_0x29acdf,_0xb827be])=>_0x1d9e87(0x7f0)+_0x29acdf+_0x1d9e87(0x83c)+_0x29acdf+_0x1d9e87(0x600))[_0x1d9e87(0x375)](''));const _0x576f97=document[_0x1d9e87(0x3ee)](_0x1d9e87(0x8cf));_0x576f97&&(_0x576f97['disabled']=_0xb08fb0[_0x1d9e87(0x888)]===0x0);}else showView(_0x1d9e87(0x885)),liveGameView[_0x1d9e87(0x58a)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x40a773=_0x69b2d9[_0x1d9e87(0x859)];if(currentQuizData&&currentQuizData['questions'][_0x40a773]){const _0x2a50e9=currentQuizData['questions'][_0x40a773],_0x47d06e=_0x69b2d9['questionStatus']||_0x1d9e87(0x954);switch(_0x47d06e){case _0x1d9e87(0x491):currentMode===_0x1d9e87(0x517)?showAdminSummaryView(_0x69b2d9,_0x2a50e9):showPlayerSummaryView(_0x69b2d9,currentStudentName);break;case _0x1d9e87(0x916):currentMode===_0x1d9e87(0x517)&&showTop5LeaderboardView(_0x69b2d9);break;case'answering':default:if(currentMode===_0x1d9e87(0x517)){const _0x1b7f90=writeBatch(db);let _0x390c9f=![];Object[_0x1d9e87(0x20c)](_0x69b2d9[_0x1d9e87(0x43d)])[_0x1d9e87(0x762)](([_0x1785e3,_0x3a68e3])=>{const _0x5ee8fd=_0x1d9e87;if(_0x3a68e3['status']===_0x5ee8fd(0x6b4)&&_0x3a68e3['submittedAt']&&!_0x3a68e3[_0x5ee8fd(0x66b)]){_0x390c9f=!![];const _0xe7432f=_0x3a68e3[_0x5ee8fd(0x638)][_0x5ee8fd(0x153)]()-_0x69b2d9[_0x5ee8fd(0x567)]['toDate']();let _0x1888eb=0x0;if(_0x3a68e3['lastAnswerCorrect']){const _0x572042=0x3e8,_0x104c1c=0x1f4,_0x283ccf=0x4e20;let _0xb3d51a=_0xe7432f/_0x283ccf;if(_0xb3d51a>0x1)_0xb3d51a=0x1;const _0x2b4c35=Math[_0x5ee8fd(0x45f)](_0xb3d51a*_0x104c1c);_0x1888eb=_0x572042-_0x2b4c35;}const _0x129952=doc(db,'artifacts/'+appId+_0x5ee8fd(0x22f),currentLiveGameId);_0x1b7f90[_0x5ee8fd(0x56f)](_0x129952,{[_0x5ee8fd(0x6e8)+_0x1785e3+'.score']:increment(_0x1888eb),[_0x5ee8fd(0x6e8)+_0x1785e3+'.pointsLastQuestion']:_0x1888eb,['players.'+_0x1785e3+_0x5ee8fd(0x6db)]:!![]});}});_0x390c9f&&_0x1b7f90[_0x1d9e87(0x2b2)]()[_0x1d9e87(0x63a)](_0x3395e0=>console[_0x1d9e87(0x56c)](_0x1d9e87(0x2b8),_0x3395e0));lastRenderedAdminQuestionIndex!==_0x40a773&&(showAdminLiveQuestionView(_0x2a50e9,_0x40a773,currentQuizData[_0x1d9e87(0x598)]['length']),lastRenderedAdminQuestionIndex=_0x40a773);const _0x550ccb=_0x69b2d9['players']||{},_0x17b734=Object[_0x1d9e87(0x4d9)](_0x550ccb)[_0x1d9e87(0x305)](_0x3abf3c=>_0x3abf3c[_0x1d9e87(0x6d3)]==='active'),_0x4160ac=_0x17b734['length'],_0x5db969=_0x17b734[_0x1d9e87(0x305)](_0x5267be=>_0x5267be[_0x1d9e87(0x5ad)]===!![])['length'],_0xc8e61c=document[_0x1d9e87(0x3ee)](_0x1d9e87(0x28f));if(_0xc8e61c)_0xc8e61c[_0x1d9e87(0x540)]=_0x5db969+'/'+_0x4160ac;const _0x53418f=document[_0x1d9e87(0x3ee)]('live-player-list');if(_0x53418f){let _0x422ef0=Object[_0x1d9e87(0x20c)](_0x550ccb)['filter'](([_0x117965,_0x31cae7])=>_0x31cae7[_0x1d9e87(0x6d3)]===_0x1d9e87(0x6b4))[_0x1d9e87(0x336)](([_0x1561f6,_0x583468])=>{const _0x3e9673=_0x1d9e87,_0xc260a8=_0x583468[_0x3e9673(0x5ad)]===!![],_0x363127=_0xc260a8?_0x3e9673(0x5e9):_0x3e9673(0x14f),_0x491a65=_0xc260a8?_0x3e9673(0x8aa):_0x3e9673(0x479);return _0x3e9673(0x583)+_0x363127+_0x3e9673(0x146)+_0x491a65+_0x3e9673(0x483)+_0x1561f6+_0x3e9673(0x89e)+_0x1561f6+_0x3e9673(0x575);})[_0x1d9e87(0x375)]('');_0x53418f[_0x1d9e87(0x58a)]=_0x422ef0||_0x1d9e87(0x419);}_0x4160ac>0x0&&_0x5db969===_0x4160ac&&revealAnswerForAdmin(_0x40a773,currentQuizData[_0x1d9e87(0x598)]['length']);}else{const _0x53ac82=_0x69b2d9['players'][currentStudentName];_0x53ac82&&!_0x53ac82['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x2a50e9,_0x40a773,currentQuizData[_0x1d9e87(0x598)][_0x1d9e87(0x888)]);}break;}}break;case'podium':showPodiumView(_0x69b2d9[_0x1d9e87(0x43d)]);break;}});}async function handleKickPlayer(_0xd17d5b){const _0x47796a=_0x248128;if(!currentLiveGameId||!_0xd17d5b)return;const _0x47e753=doc(db,_0x47796a(0x243)+appId+_0x47796a(0x22f),currentLiveGameId),_0xb38f3d={};_0xb38f3d['players.'+_0xd17d5b+'.status']='inactive';try{await updateDoc(_0x47e753,_0xb38f3d);}catch(_0x3a0835){console['error'](_0x47796a(0x387)+_0xd17d5b+':',_0x3a0835),showMessage(_0x47796a(0x1a2));}}async function authenticateUser(){const _0x501776=_0x248128;try{typeof __initial_auth_token!==_0x501776(0x504)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x42f991){console[_0x501776(0x56c)](_0x501776(0x789),_0x42f991),showMessage(_0x501776(0x1d1));}}function showView(_0x27a308){const _0x4e80b9=_0x248128,_0x36194d=[_0x4e80b9(0x1c9),_0x4e80b9(0x6ed),_0x4e80b9(0x8c7),'project-detail-view',_0x4e80b9(0x8e2),_0x4e80b9(0x71a),_0x4e80b9(0x644)];_0x36194d['forEach'](_0x444137=>document[_0x4e80b9(0x3ee)](_0x444137)?.['classList']['add']('hidden'));if(_0x27a308===_0x4e80b9(0x4e2))adminView[_0x4e80b9(0x639)]['remove']('hidden'),projectDashboardView[_0x4e80b9(0x639)][_0x4e80b9(0x3cc)](_0x4e80b9(0x3f2));else{if(_0x27a308===_0x4e80b9(0x757))studentView[_0x4e80b9(0x639)]['remove'](_0x4e80b9(0x3f2)),studentInitialView[_0x4e80b9(0x639)][_0x4e80b9(0x3cc)]('hidden'),studentNameSelectionView[_0x4e80b9(0x639)][_0x4e80b9(0x87d)](_0x4e80b9(0x3f2)),studentQuizArea[_0x4e80b9(0x639)][_0x4e80b9(0x87d)](_0x4e80b9(0x3f2)),studentResultArea['classList']['add'](_0x4e80b9(0x3f2)),studentReadingArea[_0x4e80b9(0x639)][_0x4e80b9(0x87d)](_0x4e80b9(0x3f2)),studentJoinGameView[_0x4e80b9(0x639)][_0x4e80b9(0x87d)](_0x4e80b9(0x3f2));else{if(_0x27a308===_0x4e80b9(0x878))adminView['classList'][_0x4e80b9(0x3cc)](_0x4e80b9(0x3f2)),projectDetailView['classList'][_0x4e80b9(0x3cc)]('hidden');else{if(_0x27a308==='quiz-results')adminView[_0x4e80b9(0x639)][_0x4e80b9(0x3cc)](_0x4e80b9(0x3f2)),quizResultsView['classList'][_0x4e80b9(0x3cc)](_0x4e80b9(0x3f2));else _0x27a308===_0x4e80b9(0x885)&&liveGameView[_0x4e80b9(0x639)][_0x4e80b9(0x3cc)](_0x4e80b9(0x3f2));}}}}function showJoinGameView(){const _0x29e68c=_0x248128;studentInitialView['classList'][_0x29e68c(0x87d)](_0x29e68c(0x3f2)),studentJoinGameView[_0x29e68c(0x639)][_0x29e68c(0x3cc)](_0x29e68c(0x3f2));}async function handleSaveVisibilitySettings(){const _0x4695bb=_0x248128;if(!currentProjectId)return;const _0x5c1ef2=doc(db,'artifacts/'+appId+_0x4695bb(0x964),currentProjectId);try{await updateDoc(_0x5c1ef2,{'settings.showInStudentDashboard':document[_0x4695bb(0x3ee)](_0x4695bb(0x680))['checked'],'settings.isPasscodeEnabled':document[_0x4695bb(0x3ee)](_0x4695bb(0x37a))[_0x4695bb(0x39a)],'settings.passcode':document[_0x4695bb(0x3ee)](_0x4695bb(0x77f))['value'][_0x4695bb(0x6b7)]()}),showMessage(_0x4695bb(0x189));}catch(_0x2229b5){console['error'](_0x4695bb(0x89d),_0x2229b5),showMessage(_0x4695bb(0x8f8));}}function setupEventListeners(){const _0x214c4a=_0x248128,_0x3bb7fc=document[_0x214c4a(0x3ee)](_0x214c4a(0x71a));_0x3bb7fc[_0x214c4a(0x631)]('click',_0x31bcbc=>{const _0x3219b1=_0x214c4a,_0x1774d8=_0x31bcbc[_0x3219b1(0x21b)][_0x3219b1(0x918)](_0x3219b1(0x518));document[_0x3219b1(0x8e0)](_0x3219b1(0x691))[_0x3219b1(0x762)](_0x1a438b=>{const _0x3ed0ce=_0x3219b1;(!_0x1774d8||_0x1a438b['id']!==_0x1774d8['dataset'][_0x3ed0ce(0x71b)])&&_0x1a438b[_0x3ed0ce(0x639)][_0x3ed0ce(0x3cc)](_0x3ed0ce(0x450));});if(!_0x1774d8)return;const _0x2ee748=_0x1774d8[_0x3219b1(0x334)]['tooltipTarget'],_0x1028a1=document['getElementById'](_0x2ee748);_0x1028a1&&_0x1028a1[_0x3219b1(0x639)][_0x3219b1(0x854)]('visible');}),_0x3bb7fc[_0x214c4a(0x631)](_0x214c4a(0x493),_0x38b275=>{const _0x11e8fd=_0x214c4a;if(_0x38b275[_0x11e8fd(0x21b)][_0x11e8fd(0x639)][_0x11e8fd(0x21f)](_0x11e8fd(0x400))){const _0x2d66ea=_0x38b275['target'][_0x11e8fd(0x334)][_0x11e8fd(0x850)];_0x2d66ea&&handleKickPlayer(_0x2d66ea);}}),document['getElementById'](_0x214c4a(0x60a))['addEventListener'](_0x214c4a(0x2ab),()=>document['getElementById'](_0x214c4a(0x29f))[_0x214c4a(0x639)][_0x214c4a(0x3cc)](_0x214c4a(0x3f2))),document[_0x214c4a(0x3ee)](_0x214c4a(0x29f))[_0x214c4a(0x631)](_0x214c4a(0x493),handleSaveProjectName),document[_0x214c4a(0x3ee)](_0x214c4a(0x60a))[_0x214c4a(0x631)](_0x214c4a(0x936),_0x277188=>{const _0x454324=_0x214c4a;_0x277188['key']==='Enter'&&(_0x277188[_0x454324(0x7bd)](),_0x277188['target'][_0x454324(0x5d2)](),handleSaveProjectName());}),document['getElementById'](_0x214c4a(0x1bb))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x24958f=_0x214c4a;document[_0x24958f(0x3ee)]('bulk-quiz-settings-modal')[_0x24958f(0x639)][_0x24958f(0x3cc)]('hidden');}),document[_0x214c4a(0x3ee)](_0x214c4a(0x724))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x261e3e=_0x214c4a;document[_0x261e3e(0x3ee)](_0x261e3e(0x24f))['classList'][_0x261e3e(0x87d)]('hidden');}),document['getElementById'](_0x214c4a(0x5f4))[_0x214c4a(0x631)]('click',handleBulkUpdateQuizSettings),document[_0x214c4a(0x3ee)](_0x214c4a(0x27d))[_0x214c4a(0x631)](_0x214c4a(0x493),handleModeSwitch),document[_0x214c4a(0x3ee)](_0x214c4a(0x430))[_0x214c4a(0x631)]('click',handleUpdateOldQuizzes),document[_0x214c4a(0x3ee)]('reset-project-order-btn')[_0x214c4a(0x631)]('click',handleResetProjectOrder),document[_0x214c4a(0x3ee)]('save-visibility-settings-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),handleSaveVisibilitySettings),document['getElementById'](_0x214c4a(0x730))[_0x214c4a(0x631)]('click',handleAddCustomMathTopic),document[_0x214c4a(0x3ee)](_0x214c4a(0x8d6))[_0x214c4a(0x631)](_0x214c4a(0x493),handleSelectAllTopics),document[_0x214c4a(0x3ee)](_0x214c4a(0x65c))[_0x214c4a(0x631)]('click',handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x349ded=_0x214c4a;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x349ded(0x4e2));}),document[_0x214c4a(0x3ee)]('back-to-project-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x2c4795=_0x214c4a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x2c4795(0x878));}),document[_0x214c4a(0x3ee)]('back-to-dashboard-from-results-btn')[_0x214c4a(0x631)]('click',()=>{const _0x3bfefc=_0x214c4a;showView(_0x3bfefc(0x4e2));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x5d3))['addEventListener'](_0x214c4a(0x493),()=>{const _0x5c632e=_0x214c4a;messageModal['classList'][_0x5c632e(0x87d)](_0x5c632e(0x3f2)),typeof modalConfirmAction===_0x5c632e(0x2c0)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x214c4a(0x3ee)](_0x214c4a(0x301))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>createProjectModal[_0x214c4a(0x639)]['remove'](_0x214c4a(0x3f2))),document[_0x214c4a(0x3ee)](_0x214c4a(0x924))['addEventListener'](_0x214c4a(0x493),()=>createProjectModal['classList'][_0x214c4a(0x87d)](_0x214c4a(0x3f2))),document[_0x214c4a(0x3ee)](_0x214c4a(0x7c8))[_0x214c4a(0x631)]('click',()=>adminPasswordModal['classList']['add']('hidden')),document[_0x214c4a(0x3ee)]('confirm-admin-login-btn')[_0x214c4a(0x631)]('click',handleAdminLogin),document[_0x214c4a(0x3ee)](_0x214c4a(0x34a))[_0x214c4a(0x631)](_0x214c4a(0x52b),_0x4ccf6c=>{const _0x32a18c=_0x214c4a;if(_0x4ccf6c['key']===_0x32a18c(0x928))handleAdminLogin();}),document[_0x214c4a(0x3ee)](_0x214c4a(0x5a0))[_0x214c4a(0x631)]('click',()=>{const _0x62046a=_0x214c4a;confirmationModal[_0x62046a(0x639)][_0x62046a(0x87d)](_0x62046a(0x3f2)),confirmAction=null;}),document[_0x214c4a(0x3ee)](_0x214c4a(0x12a))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x189a6a=_0x214c4a;confirmAction&&confirmAction(),confirmationModal[_0x189a6a(0x639)][_0x189a6a(0x87d)]('hidden'),confirmAction=null;}),document[_0x214c4a(0x3ee)](_0x214c4a(0x378))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>renameQuizModal['classList'][_0x214c4a(0x87d)](_0x214c4a(0x3f2))),document[_0x214c4a(0x3ee)](_0x214c4a(0x73b))['addEventListener'](_0x214c4a(0x493),confirmRenameQuiz),document[_0x214c4a(0x3ee)](_0x214c4a(0x78c))[_0x214c4a(0x631)]('click',()=>moveQuizModal['classList'][_0x214c4a(0x87d)]('hidden')),document[_0x214c4a(0x3ee)]('confirm-move-quiz-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),confirmMoveQuiz),document[_0x214c4a(0x3ee)]('cancel-quiz-settings-btn')['addEventListener'](_0x214c4a(0x493),()=>quizSettingsModal[_0x214c4a(0x639)][_0x214c4a(0x87d)](_0x214c4a(0x3f2))),document[_0x214c4a(0x3ee)](_0x214c4a(0x825))['addEventListener'](_0x214c4a(0x493),confirmQuizSettings),document['getElementById'](_0x214c4a(0x31f))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>quizStatusModal[_0x214c4a(0x639)][_0x214c4a(0x87d)](_0x214c4a(0x3f2))),document['getElementById'](_0x214c4a(0x27f))[_0x214c4a(0x631)]('click',confirmQuizStatus);const _0x138b6a=document['getElementById']('export-pdf-modal');document[_0x214c4a(0x3ee)](_0x214c4a(0x5ca))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x365916=_0x214c4a;_0x138b6a['classList'][_0x365916(0x87d)]('hidden');}),document['getElementById'](_0x214c4a(0x267))[_0x214c4a(0x631)](_0x214c4a(0x493),async()=>{const _0x5dba5d=_0x214c4a,_0x3a4e01=allQuizzes[_0x5dba5d(0x2f4)](_0x5ae27f=>_0x5ae27f['id']===actionTargetId);_0x3a4e01?(currentQuizData=_0x3a4e01,exportQuizAsWorksheetPDF()):showMessage(_0x5dba5d(0x3aa)),_0x138b6a['classList']['add'](_0x5dba5d(0x3f2));}),document[_0x214c4a(0x3ee)]('export-tutor-pdf-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),async()=>{const _0xdc2c14=_0x214c4a,_0x314aff=allQuizzes[_0xdc2c14(0x2f4)](_0x35a7b9=>_0x35a7b9['id']===actionTargetId);_0x314aff?(currentQuizData=_0x314aff,exportQuizAsTutorPDF()):showMessage(_0xdc2c14(0x3aa)),_0x138b6a[_0xdc2c14(0x639)][_0xdc2c14(0x87d)]('hidden');}),document[_0x214c4a(0x3ee)](_0x214c4a(0x317))[_0x214c4a(0x631)](_0x214c4a(0x493),openGlobalLiveModal),document['getElementById']('cancel-global-live-btn')[_0x214c4a(0x631)]('click',()=>{const _0x2e987a=_0x214c4a;document[_0x2e987a(0x3ee)]('global-live-game-modal')[_0x2e987a(0x639)]['add'](_0x2e987a(0x3f2)),selectedGlobalQuizId=null;}),document[_0x214c4a(0x3ee)](_0x214c4a(0x25d))['addEventListener'](_0x214c4a(0x771),_0x4989d8=>renderGlobalQuizList(_0x4989d8[_0x214c4a(0x21b)][_0x214c4a(0x635)])),document['getElementById'](_0x214c4a(0x5fb))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x483b30=_0x214c4a,_0x72b2bb=selectedGlobalQuizId;if(!_0x72b2bb)return;document[_0x483b30(0x3ee)](_0x483b30(0x8db))[_0x483b30(0x639)]['add'](_0x483b30(0x3f2)),handleStartLiveRace(_0x72b2bb);}),document[_0x214c4a(0x3ee)](_0x214c4a(0x877))[_0x214c4a(0x631)]('input',renderProjects),document[_0x214c4a(0x3ee)](_0x214c4a(0x909))[_0x214c4a(0x631)]('change',async()=>{const _0x4c0be8=_0x214c4a,_0xe77371=document['getElementById'](_0x4c0be8(0x909))['value'],_0x40efe1=doc(db,_0x4c0be8(0x907),_0x4c0be8(0x652));try{await setDoc(_0x40efe1,{'projectSort':_0xe77371},{'merge':!![]});}catch(_0x2336cf){console[_0x4c0be8(0x56c)]('Error\x20updating\x20sort\x20preference:',_0x2336cf),showMessage(_0x4c0be8(0x646));}}),document['getElementById'](_0x214c4a(0x727))['addEventListener'](_0x214c4a(0x771),renderQuizzes),document['getElementById'](_0x214c4a(0x487))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x16c6dc=_0x214c4a;globalDashboardSettings['projectView']=_0x16c6dc(0x131),saveUserPreference(_0x16c6dc(0x6c4),'grid'),renderProjects();}),document['getElementById'](_0x214c4a(0x271))['addEventListener'](_0x214c4a(0x493),()=>{const _0x4c3dba=_0x214c4a;globalDashboardSettings[_0x4c3dba(0x6c4)]=_0x4c3dba(0x44d),saveUserPreference(_0x4c3dba(0x6c4),_0x4c3dba(0x44d)),renderProjects();}),manageTab[_0x214c4a(0x631)]('click',()=>switchProjectTab('manage')),resultsTab[_0x214c4a(0x631)]('click',()=>switchProjectTab(_0x214c4a(0x3d7))),leaderboardTab['addEventListener'](_0x214c4a(0x493),()=>switchProjectTab(_0x214c4a(0x916))),document[_0x214c4a(0x3ee)](_0x214c4a(0x71c))[_0x214c4a(0x631)]('click',()=>switchQuizDetailTab(_0x214c4a(0x7de))),document[_0x214c4a(0x3ee)]('scores-tab-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),()=>switchQuizDetailTab(_0x214c4a(0x585))),document['getElementById'](_0x214c4a(0x403))['addEventListener'](_0x214c4a(0x493),()=>switchQuizDetailTab(_0x214c4a(0x2ae))),document[_0x214c4a(0x3ee)]('behavior-log-tab-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),()=>switchQuizDetailTab(_0x214c4a(0x64a))),document[_0x214c4a(0x3ee)](_0x214c4a(0x8cd))[_0x214c4a(0x631)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x214c4a(0x631)]('click',generateWorksheet);const _0x2bfac0=document[_0x214c4a(0x3ee)](_0x214c4a(0x49d)),_0xa524d4=document['getElementById']('link-input-area'),_0x489afc=document[_0x214c4a(0x3ee)](_0x214c4a(0x4da)),_0x25df54=document[_0x214c4a(0x3ee)](_0x214c4a(0x5c6)),_0x52e8a7=document[_0x214c4a(0x3ee)](_0x214c4a(0x321)),_0xcbc015=document['getElementById'](_0x214c4a(0x58e));topicTab[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x43cc30=_0x214c4a;topicTab[_0x43cc30(0x639)]['add']('active'),textTab['classList']['remove'](_0x43cc30(0x6b4)),fileTab[_0x43cc30(0x639)]['remove'](_0x43cc30(0x6b4)),worksheetTab[_0x43cc30(0x639)][_0x43cc30(0x3cc)](_0x43cc30(0x6b4));if(_0x2bfac0)_0x2bfac0['classList'][_0x43cc30(0x3cc)](_0x43cc30(0x6b4));if(_0x489afc)_0x489afc['classList'][_0x43cc30(0x3cc)](_0x43cc30(0x6b4));if(_0x52e8a7)_0x52e8a7[_0x43cc30(0x639)][_0x43cc30(0x3cc)](_0x43cc30(0x6b4));topicInputArea[_0x43cc30(0x639)][_0x43cc30(0x3cc)](_0x43cc30(0x3f2)),textInputArea[_0x43cc30(0x639)][_0x43cc30(0x87d)](_0x43cc30(0x3f2)),fileInputArea['classList'][_0x43cc30(0x87d)](_0x43cc30(0x3f2)),worksheetInputArea[_0x43cc30(0x639)][_0x43cc30(0x87d)](_0x43cc30(0x3f2));if(_0xa524d4)_0xa524d4['classList'][_0x43cc30(0x87d)](_0x43cc30(0x3f2));if(_0x25df54)_0x25df54[_0x43cc30(0x639)][_0x43cc30(0x87d)](_0x43cc30(0x3f2));if(_0xcbc015)_0xcbc015[_0x43cc30(0x639)][_0x43cc30(0x87d)](_0x43cc30(0x3f2));}),textTab[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x158715=_0x214c4a;textTab[_0x158715(0x639)][_0x158715(0x87d)](_0x158715(0x6b4)),topicTab['classList']['remove']('active'),fileTab[_0x158715(0x639)][_0x158715(0x3cc)](_0x158715(0x6b4)),worksheetTab['classList']['remove'](_0x158715(0x6b4));if(_0x2bfac0)_0x2bfac0[_0x158715(0x639)][_0x158715(0x3cc)]('active');if(_0x489afc)_0x489afc[_0x158715(0x639)][_0x158715(0x3cc)](_0x158715(0x6b4));if(_0x52e8a7)_0x52e8a7[_0x158715(0x639)][_0x158715(0x3cc)](_0x158715(0x6b4));textInputArea[_0x158715(0x639)][_0x158715(0x3cc)](_0x158715(0x3f2)),topicInputArea[_0x158715(0x639)][_0x158715(0x87d)]('hidden'),fileInputArea[_0x158715(0x639)][_0x158715(0x87d)](_0x158715(0x3f2)),worksheetInputArea[_0x158715(0x639)]['add'](_0x158715(0x3f2));if(_0xa524d4)_0xa524d4['classList'][_0x158715(0x87d)](_0x158715(0x3f2));if(_0x25df54)_0x25df54[_0x158715(0x639)]['add'](_0x158715(0x3f2));if(_0xcbc015)_0xcbc015['classList'][_0x158715(0x87d)](_0x158715(0x3f2));}),fileTab['addEventListener']('click',()=>{const _0x2bd8f6=_0x214c4a;fileTab[_0x2bd8f6(0x639)][_0x2bd8f6(0x87d)](_0x2bd8f6(0x6b4)),topicTab[_0x2bd8f6(0x639)][_0x2bd8f6(0x3cc)](_0x2bd8f6(0x6b4)),textTab[_0x2bd8f6(0x639)]['remove'](_0x2bd8f6(0x6b4)),worksheetTab['classList'][_0x2bd8f6(0x3cc)](_0x2bd8f6(0x6b4));if(_0x2bfac0)_0x2bfac0['classList']['remove'](_0x2bd8f6(0x6b4));if(_0x489afc)_0x489afc[_0x2bd8f6(0x639)][_0x2bd8f6(0x3cc)]('active');if(_0x52e8a7)_0x52e8a7[_0x2bd8f6(0x639)][_0x2bd8f6(0x3cc)](_0x2bd8f6(0x6b4));fileInputArea[_0x2bd8f6(0x639)][_0x2bd8f6(0x3cc)]('hidden'),topicInputArea[_0x2bd8f6(0x639)][_0x2bd8f6(0x87d)](_0x2bd8f6(0x3f2)),textInputArea[_0x2bd8f6(0x639)][_0x2bd8f6(0x87d)]('hidden'),worksheetInputArea[_0x2bd8f6(0x639)][_0x2bd8f6(0x87d)](_0x2bd8f6(0x3f2));if(_0xa524d4)_0xa524d4[_0x2bd8f6(0x639)]['add'](_0x2bd8f6(0x3f2));if(_0x25df54)_0x25df54[_0x2bd8f6(0x639)][_0x2bd8f6(0x87d)](_0x2bd8f6(0x3f2));if(_0xcbc015)_0xcbc015[_0x2bd8f6(0x639)]['add'](_0x2bd8f6(0x3f2));}),worksheetTab[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x177ed0=_0x214c4a;worksheetTab[_0x177ed0(0x639)][_0x177ed0(0x87d)](_0x177ed0(0x6b4)),topicTab[_0x177ed0(0x639)][_0x177ed0(0x3cc)](_0x177ed0(0x6b4)),textTab['classList'][_0x177ed0(0x3cc)]('active'),fileTab[_0x177ed0(0x639)][_0x177ed0(0x3cc)](_0x177ed0(0x6b4));if(_0x2bfac0)_0x2bfac0[_0x177ed0(0x639)][_0x177ed0(0x3cc)]('active');if(_0x489afc)_0x489afc[_0x177ed0(0x639)][_0x177ed0(0x3cc)](_0x177ed0(0x6b4));if(_0x52e8a7)_0x52e8a7[_0x177ed0(0x639)][_0x177ed0(0x3cc)](_0x177ed0(0x6b4));worksheetInputArea[_0x177ed0(0x639)][_0x177ed0(0x3cc)](_0x177ed0(0x3f2)),topicInputArea['classList'][_0x177ed0(0x87d)](_0x177ed0(0x3f2)),textInputArea[_0x177ed0(0x639)][_0x177ed0(0x87d)](_0x177ed0(0x3f2)),fileInputArea[_0x177ed0(0x639)]['add'](_0x177ed0(0x3f2));if(_0xa524d4)_0xa524d4['classList'][_0x177ed0(0x87d)]('hidden');if(_0x25df54)_0x25df54[_0x177ed0(0x639)][_0x177ed0(0x87d)](_0x177ed0(0x3f2));if(_0xcbc015)_0xcbc015[_0x177ed0(0x639)][_0x177ed0(0x87d)]('hidden');});const _0xd6ed86=document[_0x214c4a(0x3ee)]('bank-tab'),_0x586ee1=document[_0x214c4a(0x3ee)](_0x214c4a(0x6a6));_0xd6ed86&&_0xd6ed86[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x2cdede=_0x214c4a;topicTab[_0x2cdede(0x639)][_0x2cdede(0x3cc)](_0x2cdede(0x6b4)),textTab[_0x2cdede(0x639)][_0x2cdede(0x3cc)](_0x2cdede(0x6b4)),fileTab['classList'][_0x2cdede(0x3cc)](_0x2cdede(0x6b4)),worksheetTab['classList'][_0x2cdede(0x3cc)](_0x2cdede(0x6b4));if(_0x2bfac0)_0x2bfac0[_0x2cdede(0x639)][_0x2cdede(0x3cc)](_0x2cdede(0x6b4));if(_0x489afc)_0x489afc[_0x2cdede(0x639)][_0x2cdede(0x3cc)](_0x2cdede(0x6b4));if(_0x52e8a7)_0x52e8a7['classList'][_0x2cdede(0x3cc)](_0x2cdede(0x6b4));_0xd6ed86[_0x2cdede(0x639)][_0x2cdede(0x87d)]('active'),topicInputArea[_0x2cdede(0x639)][_0x2cdede(0x87d)](_0x2cdede(0x3f2)),textInputArea[_0x2cdede(0x639)][_0x2cdede(0x87d)](_0x2cdede(0x3f2)),fileInputArea[_0x2cdede(0x639)][_0x2cdede(0x87d)](_0x2cdede(0x3f2)),worksheetInputArea[_0x2cdede(0x639)][_0x2cdede(0x87d)](_0x2cdede(0x3f2));if(_0xa524d4)_0xa524d4[_0x2cdede(0x639)][_0x2cdede(0x87d)](_0x2cdede(0x3f2));if(_0x25df54)_0x25df54[_0x2cdede(0x639)][_0x2cdede(0x87d)](_0x2cdede(0x3f2));if(_0xcbc015)_0xcbc015[_0x2cdede(0x639)][_0x2cdede(0x87d)](_0x2cdede(0x3f2));_0x586ee1[_0x2cdede(0x639)][_0x2cdede(0x3cc)](_0x2cdede(0x3f2)),displayQuestionBank();});_0x2bfac0&&(_0x2bfac0['addEventListener'](_0x214c4a(0x493),()=>{const _0x5dd43e=_0x214c4a;_0x2bfac0[_0x5dd43e(0x639)]['add']('active'),topicTab[_0x5dd43e(0x639)]['remove'](_0x5dd43e(0x6b4)),textTab[_0x5dd43e(0x639)][_0x5dd43e(0x3cc)](_0x5dd43e(0x6b4)),fileTab['classList'][_0x5dd43e(0x3cc)](_0x5dd43e(0x6b4)),worksheetTab['classList'][_0x5dd43e(0x3cc)](_0x5dd43e(0x6b4));if(_0x489afc)_0x489afc['classList'][_0x5dd43e(0x3cc)](_0x5dd43e(0x6b4));if(_0x52e8a7)_0x52e8a7[_0x5dd43e(0x639)][_0x5dd43e(0x3cc)](_0x5dd43e(0x6b4));_0xa524d4[_0x5dd43e(0x639)][_0x5dd43e(0x3cc)](_0x5dd43e(0x3f2)),topicInputArea[_0x5dd43e(0x639)][_0x5dd43e(0x87d)](_0x5dd43e(0x3f2)),textInputArea[_0x5dd43e(0x639)][_0x5dd43e(0x87d)](_0x5dd43e(0x3f2)),fileInputArea[_0x5dd43e(0x639)]['add'](_0x5dd43e(0x3f2)),worksheetInputArea[_0x5dd43e(0x639)][_0x5dd43e(0x87d)](_0x5dd43e(0x3f2));if(_0x25df54)_0x25df54[_0x5dd43e(0x639)]['add'](_0x5dd43e(0x3f2));if(_0xcbc015)_0xcbc015['classList'][_0x5dd43e(0x87d)](_0x5dd43e(0x3f2));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x3d9))[_0x214c4a(0x631)](_0x214c4a(0x493),handleGenerateFromLink));_0x489afc&&_0x489afc['addEventListener']('click',()=>{const _0x211e40=_0x214c4a;_0x489afc[_0x211e40(0x639)]['add']('active'),topicTab[_0x211e40(0x639)][_0x211e40(0x3cc)](_0x211e40(0x6b4)),textTab[_0x211e40(0x639)][_0x211e40(0x3cc)](_0x211e40(0x6b4)),fileTab[_0x211e40(0x639)][_0x211e40(0x3cc)](_0x211e40(0x6b4)),worksheetTab['classList'][_0x211e40(0x3cc)]('active');if(_0x2bfac0)_0x2bfac0[_0x211e40(0x639)][_0x211e40(0x3cc)](_0x211e40(0x6b4));if(_0xd6ed86)_0xd6ed86[_0x211e40(0x639)][_0x211e40(0x3cc)]('active');if(_0x52e8a7)_0x52e8a7[_0x211e40(0x639)][_0x211e40(0x3cc)](_0x211e40(0x6b4));_0x25df54[_0x211e40(0x639)]['remove']('hidden'),topicInputArea['classList'][_0x211e40(0x87d)](_0x211e40(0x3f2)),textInputArea[_0x211e40(0x639)][_0x211e40(0x87d)]('hidden'),fileInputArea['classList'][_0x211e40(0x87d)](_0x211e40(0x3f2)),worksheetInputArea[_0x211e40(0x639)][_0x211e40(0x87d)](_0x211e40(0x3f2));if(_0xa524d4)_0xa524d4[_0x211e40(0x639)][_0x211e40(0x87d)](_0x211e40(0x3f2));if(_0x586ee1)_0x586ee1[_0x211e40(0x639)][_0x211e40(0x87d)](_0x211e40(0x3f2));if(_0xcbc015)_0xcbc015[_0x211e40(0x639)][_0x211e40(0x87d)](_0x211e40(0x3f2));});_0x52e8a7&&_0x52e8a7[_0x214c4a(0x631)]('click',()=>{const _0x583016=_0x214c4a;_0x52e8a7[_0x583016(0x639)][_0x583016(0x87d)](_0x583016(0x6b4)),topicTab[_0x583016(0x639)]['remove'](_0x583016(0x6b4)),textTab[_0x583016(0x639)]['remove'](_0x583016(0x6b4)),fileTab['classList']['remove'](_0x583016(0x6b4)),worksheetTab[_0x583016(0x639)][_0x583016(0x3cc)](_0x583016(0x6b4));if(_0x2bfac0)_0x2bfac0[_0x583016(0x639)][_0x583016(0x3cc)](_0x583016(0x6b4));if(_0x489afc)_0x489afc[_0x583016(0x639)]['remove']('active');if(_0xd6ed86)_0xd6ed86[_0x583016(0x639)][_0x583016(0x3cc)](_0x583016(0x6b4));_0xcbc015[_0x583016(0x639)]['remove'](_0x583016(0x3f2)),topicInputArea[_0x583016(0x639)][_0x583016(0x87d)](_0x583016(0x3f2)),textInputArea[_0x583016(0x639)]['add'](_0x583016(0x3f2)),fileInputArea[_0x583016(0x639)][_0x583016(0x87d)](_0x583016(0x3f2)),worksheetInputArea['classList'][_0x583016(0x87d)]('hidden');if(_0xa524d4)_0xa524d4['classList'][_0x583016(0x87d)](_0x583016(0x3f2));if(_0x25df54)_0x25df54[_0x583016(0x639)]['add']('hidden');if(_0x586ee1)_0x586ee1[_0x583016(0x639)][_0x583016(0x87d)](_0x583016(0x3f2));});const _0x1c0c88=document[_0x214c4a(0x3ee)](_0x214c4a(0x515)),_0x54c5e3=document['getElementById'](_0x214c4a(0x7a3));_0x1c0c88&&_0x1c0c88[_0x214c4a(0x631)](_0x214c4a(0x91a),_0x8ee64b=>{const _0x16ce7f=_0x214c4a;_0x8ee64b[_0x16ce7f(0x21b)][_0x16ce7f(0x195)]['length']>0x0?_0x54c5e3[_0x16ce7f(0x566)]=![]:_0x54c5e3[_0x16ce7f(0x566)]=!![];});_0x54c5e3&&_0x54c5e3[_0x214c4a(0x631)](_0x214c4a(0x493),handleGenerateFromBlueprint);const _0x1b9de4=document[_0x214c4a(0x3ee)](_0x214c4a(0x908)),_0x1d0691=document[_0x214c4a(0x3ee)](_0x214c4a(0x410));_0x1b9de4&&_0x1b9de4[_0x214c4a(0x631)](_0x214c4a(0x91a),_0x56c3b3=>{const _0x3ad0a8=_0x214c4a;_0x1d0691[_0x3ad0a8(0x566)]=_0x56c3b3[_0x3ad0a8(0x21b)]['files'][_0x3ad0a8(0x888)]===0x0;});_0x1d0691&&_0x1d0691['addEventListener'](_0x214c4a(0x493),handleGenerateParallelTest);loadQuizBtn[_0x214c4a(0x631)](_0x214c4a(0x493),handleLoadQuiz),startQuizBtn[_0x214c4a(0x631)](_0x214c4a(0x493),async()=>{const _0x4f998b=_0x214c4a,_0x35ece8=document[_0x4f998b(0x3ee)](_0x4f998b(0x13a));currentStudentName=_0x35ece8['value'];if(!currentStudentName){showMessage(_0x4f998b(0x6ea));return;}try{const _0x56b0b0=currentQuizData['id'],_0x4ecef8=doc(db,_0x4f998b(0x243)+appId+_0x4f998b(0x844)+_0x56b0b0+_0x4f998b(0x338),currentStudentName);await setDoc(_0x4ecef8,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x214449){console[_0x4f998b(0x56c)](_0x4f998b(0x64b),_0x214449),showMessage(_0x4f998b(0x861));return;}studentNameSelectionView[_0x4f998b(0x639)][_0x4f998b(0x87d)](_0x4f998b(0x3f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x214c4a(0x3ee)]('join-live-game-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),showJoinGameView),document['getElementById'](_0x214c4a(0x229))['addEventListener'](_0x214c4a(0x493),handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),()=>showView(_0x214c4a(0x757)));const _0x2b8e98=()=>{const _0xa89340=_0x214c4a,_0x517016=document[_0xa89340(0x3ee)](_0xa89340(0x60f))[_0xa89340(0x540)][_0xa89340(0x92e)](/[^a-z0-9]/gi,'_')[_0xa89340(0x577)]();return _0xa89340(0x609)+(_0x517016||_0xa89340(0x23f));},_0x2814ae=document[_0x214c4a(0x3ee)](_0x214c4a(0x718));_0x2814ae&&_0x2814ae[_0x214c4a(0x631)](_0x214c4a(0x771),_0x1e37d4=>{const _0x13bfd5=_0x214c4a,_0x3ab1be=_0x1e37d4[_0x13bfd5(0x21b)][_0x13bfd5(0x635)][_0x13bfd5(0x577)]()['trim'](),_0x22b725=document[_0x13bfd5(0x3ee)](_0x13bfd5(0x8c8)),_0x5dcbf6=_0x22b725['querySelectorAll'](_0x13bfd5(0x591));_0x5dcbf6['forEach'](_0x334bd2=>{const _0x5e2508=_0x13bfd5;let _0x4757c8=![];const _0x3f96a5=_0x334bd2['querySelectorAll']('.topic-row');_0x3f96a5[_0x5e2508(0x762)](_0x5b2292=>{const _0x4979a1=_0x5e2508,_0x46fa38=_0x5b2292[_0x4979a1(0x828)]('.topic-name-display')[_0x4979a1(0x540)][_0x4979a1(0x577)]();_0x46fa38['includes'](_0x3ab1be)?(_0x5b2292[_0x4979a1(0x259)]['display']=_0x4979a1(0x7c6),_0x4757c8=!![]):_0x5b2292['style'][_0x4979a1(0x806)]='none';}),_0x4757c8?_0x334bd2['style'][_0x5e2508(0x806)]=_0x5e2508(0x241):_0x334bd2[_0x5e2508(0x259)]['display']=_0x5e2508(0x51e);});});document[_0x214c4a(0x3ee)](_0x214c4a(0x5be))['addEventListener'](_0x214c4a(0x493),()=>exportTableAsImage(_0x214c4a(0x346),_0x2b8e98())),document[_0x214c4a(0x3ee)]('export-pdf-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),()=>exportTableAsPDF(_0x214c4a(0x23a),_0x2b8e98())),document[_0x214c4a(0x3ee)](_0x214c4a(0x239))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>exportTableAsWord(_0x214c4a(0x346),_0x2b8e98())),document[_0x214c4a(0x3ee)](_0x214c4a(0x87a))[_0x214c4a(0x631)]('click',()=>exportTableAsExcel(_0x214c4a(0x23a),_0x2b8e98()));const _0xd2a606=()=>{const _0x1d8912=_0x214c4a,_0x17afee=document[_0x1d8912(0x3ee)]('results-quiz-title')[_0x1d8912(0x540)][_0x1d8912(0x92e)](/[^a-z0-9]/gi,'_')[_0x1d8912(0x577)]();return _0x1d8912(0x366)+(_0x17afee||'quiz');};document['getElementById']('export-leaderboard-image-btn')[_0x214c4a(0x631)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0xd2a606())),document[_0x214c4a(0x3ee)]('export-leaderboard-pdf-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),()=>exportTableAsPDF(_0x214c4a(0x580),_0xd2a606())),document[_0x214c4a(0x3ee)](_0x214c4a(0x30b))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>exportTableAsWord(_0x214c4a(0x960),_0xd2a606())),document[_0x214c4a(0x3ee)](_0x214c4a(0x2ef))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>exportTableAsExcel(_0x214c4a(0x580),_0xd2a606())),projectQuizzesList[_0x214c4a(0x631)](_0x214c4a(0x493),async _0x3f3915=>{const _0x5c3892=_0x214c4a,_0x20f584=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x329)),_0x3d0327=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x18a)),_0x2119cb=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x755)),_0x46d42a=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x79b)),_0xd27bcb=_0x3f3915[_0x5c3892(0x21b)]['closest']('.star-quiz-btn'),_0x2bacea=_0x3f3915['target']['closest'](_0x5c3892(0x15d)),_0x2df7ef=_0x3f3915['target'][_0x5c3892(0x918)](_0x5c3892(0x628)),_0x3dd785=_0x3f3915[_0x5c3892(0x21b)]['closest']('.quiz-settings-btn'),_0x2d9982=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)]('.duplicate-quiz-btn'),_0x1b49ce=_0x3f3915['target'][_0x5c3892(0x918)](_0x5c3892(0x20e)),_0x4c5899=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)]('.parallel-quiz-btn'),_0x210ad5=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x1b1)),_0x13b9ef=_0x3f3915['target']['closest'](_0x5c3892(0x7b4)),_0x174e8c=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x1fc)),_0x1cf56e=_0x3f3915['target'][_0x5c3892(0x918)]('.start-presentation-list-btn'),_0x45ad0a=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)]('.admin-try-quiz-list-btn'),_0x21f015=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x85f)),_0x9c273a=_0x3f3915['target'][_0x5c3892(0x918)](_0x5c3892(0x302)),_0x9d7f11=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x1f8)),_0x12f8e1=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)]('.quiz-status-btn'),_0x3397c4=_0x3f3915[_0x5c3892(0x21b)][_0x5c3892(0x918)](_0x5c3892(0x498)),_0x497b5f=_0x3f3915[_0x5c3892(0x21b)]['closest'](_0x5c3892(0x150));if(_0x3397c4){const _0x2773fb=_0x3397c4[_0x5c3892(0x334)][_0x5c3892(0x6a5)],_0x1560cb=document[_0x5c3892(0x3ee)]('actions-container-'+_0x2773fb);_0x1560cb&&_0x1560cb[_0x5c3892(0x639)][_0x5c3892(0x854)](_0x5c3892(0x3f2));}else{if(_0x3d0327){const _0x3cc572=_0x3d0327[_0x5c3892(0x334)]['quizId'],_0x13f9cc=allQuizzes[_0x5c3892(0x2f4)](_0x20115a=>_0x20115a['id']===_0x3cc572);_0x13f9cc&&handleGenerateParallelPostTest(_0x13f9cc);}else{if(_0x2119cb)handleCompareResults(_0x2119cb[_0x5c3892(0x334)][_0x5c3892(0x6a5)],_0x2119cb[_0x5c3892(0x334)][_0x5c3892(0x5a4)]);else{if(_0x46d42a){const _0x31d28c=_0x46d42a[_0x5c3892(0x334)][_0x5c3892(0x6a5)],_0x2ba688=allQuizzes[_0x5c3892(0x2f4)](_0x180fee=>_0x180fee['id']===_0x31d28c);_0x2ba688&&_0x2ba688[_0x5c3892(0x1d3)]?(displayLessonPlan(_0x2ba688[_0x5c3892(0x1d3)],_0x2ba688),showConfirmation(_0x5c3892(0x47c),()=>handleGenerateLessonPlan(_0x31d28c)),document[_0x5c3892(0x3ee)](_0x5c3892(0x808))['querySelector']('h3')['textContent']=_0x5c3892(0x3ae),document['getElementById'](_0x5c3892(0x12a))['textContent']=_0x5c3892(0x293)):handleGenerateLessonPlan(_0x31d28c);}else{if(_0xd27bcb)handleToggleStarQuiz(_0xd27bcb[_0x5c3892(0x334)][_0x5c3892(0x6a5)]);else{if(_0x2bacea)copyTextToClipboard(_0x2bacea[_0x5c3892(0x334)][_0x5c3892(0x6a5)],_0x5c3892(0x480));else{if(_0x2df7ef)handleOpenQuizEditor(_0x2df7ef[_0x5c3892(0x334)][_0x5c3892(0x6a5)]);else{if(_0x3dd785)handleQuizSettings(_0x3dd785['dataset'][_0x5c3892(0x6a5)]);else{if(_0x2d9982)handleDuplicateQuiz(_0x2d9982['dataset'][_0x5c3892(0x6a5)]);else{if(_0x1b49ce)handleRenameQuiz(_0x1b49ce['dataset'][_0x5c3892(0x6a5)],_0x1b49ce['dataset'][_0x5c3892(0x7f3)]);else{if(_0x4c5899){const _0x281eea=_0x4c5899[_0x5c3892(0x334)][_0x5c3892(0x6a5)],_0x589384=allQuizzes[_0x5c3892(0x2f4)](_0x459a8c=>_0x459a8c['id']===_0x281eea);_0x589384&&handleGenerateParallelFromBank(_0x589384);}else{if(_0x210ad5)handleMoveQuiz(_0x210ad5[_0x5c3892(0x334)][_0x5c3892(0x6a5)]);else{if(_0x13b9ef)handleManualQuizPairing(_0x13b9ef['dataset'][_0x5c3892(0x6a5)]);else{if(_0x174e8c)handleUnpairQuiz(_0x174e8c[_0x5c3892(0x334)][_0x5c3892(0x6a5)]);else{if(_0x1cf56e){const _0x49e350=_0x1cf56e[_0x5c3892(0x334)][_0x5c3892(0x6a5)],_0x198bcd=allQuizzes[_0x5c3892(0x2f4)](_0x3f98c6=>_0x3f98c6['id']===_0x49e350);if(_0x198bcd)startPresentation(_0x198bcd);}else{if(_0x45ad0a){const _0x510987=_0x45ad0a[_0x5c3892(0x334)][_0x5c3892(0x6a5)],_0x3baad3=allQuizzes[_0x5c3892(0x2f4)](_0x2bfd55=>_0x2bfd55['id']===_0x510987);_0x3baad3&&(currentQuizData=_0x3baad3,startAdminTest());}else{if(_0x21f015)handleStartLiveRace(_0x21f015[_0x5c3892(0x334)][_0x5c3892(0x6a5)]);else{if(_0x9c273a)actionTargetId=_0x9c273a[_0x5c3892(0x334)][_0x5c3892(0x6a5)],document[_0x5c3892(0x3ee)]('export-pdf-modal')[_0x5c3892(0x639)][_0x5c3892(0x3cc)]('hidden');else{if(_0x9d7f11)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x9d7f11['dataset']['topic']+_0x5c3892(0x68e),()=>handleDeleteQuiz(_0x9d7f11[_0x5c3892(0x334)][_0x5c3892(0x6a5)]));else{if(_0x12f8e1)handleQuizStatus(_0x12f8e1[_0x5c3892(0x334)][_0x5c3892(0x6a5)]);else{if(_0x497b5f)handleGenerateEasyVersionQuiz(_0x497b5f[_0x5c3892(0x334)]['quizId']);else _0x20f584&&showQuizDetailView(_0x20f584['dataset'][_0x5c3892(0x6a5)]);}}}}}}}}}}}}}}}}}}}}}),document[_0x214c4a(0x3ee)]('quiz-leaderboard-table')[_0x214c4a(0x828)]('thead')['addEventListener'](_0x214c4a(0x493),_0x3b40be=>{const _0x2b6f21=_0x214c4a,_0x592b83=_0x3b40be['target'][_0x2b6f21(0x918)](_0x2b6f21(0x72a));if(!_0x592b83||!_0x592b83[_0x2b6f21(0x334)][_0x2b6f21(0x81a)])return;const _0x4ac358=_0x592b83[_0x2b6f21(0x334)]['sort'];if(quizLeaderboardSortBy===_0x4ac358)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2b6f21(0x2da)?'desc':_0x2b6f21(0x2da);else{quizLeaderboardSortBy=_0x4ac358;const _0x2bdef7=[_0x2b6f21(0x8d1)];quizLeaderboardSortOrder=_0x2bdef7['includes'](_0x4ac358)?_0x2b6f21(0x2da):_0x2b6f21(0x7cc);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2b6f21(0x64d));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x182))[_0x214c4a(0x631)]('click',closePresentation),document['getElementById'](_0x214c4a(0x415))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x130))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x4c81fc=_0x214c4a;currentQuizData[_0x4c81fc(0x598)]&&currentPresentationSlide<currentQuizData['questions'][_0x4c81fc(0x888)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x214c4a(0x631)]('fullscreenchange',()=>{const _0x20b7f3=_0x214c4a;!document[_0x20b7f3(0x694)]&&(presentationModal[_0x20b7f3(0x259)][_0x20b7f3(0x806)]='none');}),document['getElementById'](_0x214c4a(0x899))['addEventListener'](_0x214c4a(0x493),handleDeleteAllStudents),studentList[_0x214c4a(0x631)](_0x214c4a(0x493),_0x278b80=>{const _0x27d7ad=_0x214c4a,_0x27ff58=_0x278b80[_0x27d7ad(0x21b)][_0x27d7ad(0x918)]('.delete-student-btn');if(_0x27ff58){const _0x35d78e=_0x27ff58[_0x27d7ad(0x334)][_0x27d7ad(0x8d1)];handleDeleteStudent(_0x35d78e);}}),document[_0x214c4a(0x3ee)](_0x214c4a(0x55b))[_0x214c4a(0x631)](_0x214c4a(0x493),handleGenerateFromFileClick),fileUploadInput[_0x214c4a(0x631)](_0x214c4a(0x91a),_0x27424b=>{const _0x3f5c92=_0x214c4a,_0x35bd64=_0x27424b['target']['files'][0x0],_0x5197df=document['getElementById'](_0x3f5c92(0x55b));_0x35bd64?(selectedFile=_0x35bd64,_0x5197df[_0x3f5c92(0x566)]=![]):(selectedFile=null,_0x5197df[_0x3f5c92(0x566)]=!![]);}),document['getElementById'](_0x214c4a(0x2bf))[_0x214c4a(0x631)](_0x214c4a(0x91a),_0x381309=>{const _0x42d9f8=_0x214c4a,_0x580835=document[_0x42d9f8(0x3ee)](_0x42d9f8(0x185)),_0x976063=document[_0x42d9f8(0x3ee)](_0x42d9f8(0x1b3)),_0x5ab187=document[_0x42d9f8(0x3ee)](_0x42d9f8(0x7ce));_0x381309[_0x42d9f8(0x21b)][_0x42d9f8(0x635)]==='none'?_0x580835[_0x42d9f8(0x639)]['add'](_0x42d9f8(0x3f2)):(_0x580835[_0x42d9f8(0x639)][_0x42d9f8(0x3cc)](_0x42d9f8(0x3f2)),_0x381309[_0x42d9f8(0x21b)][_0x42d9f8(0x635)]===_0x42d9f8(0x5ab)?(_0x976063[_0x42d9f8(0x540)]=_0x42d9f8(0x1e5),_0x5ab187[_0x42d9f8(0x635)]='10'):(_0x976063['textContent']=_0x42d9f8(0x2d9),_0x5ab187[_0x42d9f8(0x635)]='30'));}),document['getElementById'](_0x214c4a(0x75f))[_0x214c4a(0x631)](_0x214c4a(0x91a),_0xbe55f=>{const _0x587a01=_0x214c4a,_0x385a38=document[_0x587a01(0x3ee)](_0x587a01(0x25b)),_0x1b3417=_0xbe55f[_0x587a01(0x21b)][_0x587a01(0x635)],_0x5419d1=document['querySelector'](_0x587a01(0x52a)),_0x469d20=document['getElementById']('passing-score-input'),_0x561c70=document[_0x587a01(0x3ee)](_0x587a01(0x7c0));_0x1b3417===_0x587a01(0x6dc)?_0x5419d1['textContent']=_0x587a01(0x826):_0x5419d1[_0x587a01(0x540)]='จำนวนข้อ:',_0x1b3417===_0x587a01(0x88b)||_0x1b3417===_0x587a01(0x2f9)||_0x1b3417===_0x587a01(0x40a)?_0x385a38[_0x587a01(0x639)][_0x587a01(0x3cc)](_0x587a01(0x3f2)):_0x385a38[_0x587a01(0x639)][_0x587a01(0x87d)](_0x587a01(0x3f2)),_0x469d20[_0x587a01(0x311)]=_0x561c70[_0x587a01(0x635)];}),document[_0x214c4a(0x3ee)]('num-questions')[_0x214c4a(0x631)]('input',_0x56f33f=>{const _0x36113a=_0x214c4a;document['getElementById'](_0x36113a(0x6ce))['max']=_0x56f33f[_0x36113a(0x21b)][_0x36113a(0x635)];}),document[_0x214c4a(0x3ee)](_0x214c4a(0x66a))['addEventListener'](_0x214c4a(0x91a),_0x48757e=>{const _0x9f2a89=_0x214c4a,_0x2949ff=document['getElementById'](_0x9f2a89(0x874)),_0x4a489a=document[_0x9f2a89(0x3ee)](_0x9f2a89(0x16b)),_0x351287=document[_0x9f2a89(0x3ee)](_0x9f2a89(0x91b));_0x48757e[_0x9f2a89(0x21b)][_0x9f2a89(0x635)]===_0x9f2a89(0x51e)?_0x2949ff[_0x9f2a89(0x639)][_0x9f2a89(0x87d)](_0x9f2a89(0x3f2)):(_0x2949ff[_0x9f2a89(0x639)][_0x9f2a89(0x3cc)](_0x9f2a89(0x3f2)),_0x48757e['target']['value']===_0x9f2a89(0x5ab)?_0x4a489a[_0x9f2a89(0x540)]=_0x9f2a89(0x1e5):_0x4a489a['textContent']=_0x9f2a89(0x2d9));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x752))[_0x214c4a(0x631)]('click',()=>{const _0x267a3f=_0x214c4a;document[_0x267a3f(0x3ee)](_0x267a3f(0x1bd))['classList'][_0x267a3f(0x87d)]('hidden');}),document[_0x214c4a(0x3ee)](_0x214c4a(0x31d))['addEventListener'](_0x214c4a(0x493),()=>{const _0x2537f7=_0x214c4a;document[_0x2537f7(0x3ee)](_0x2537f7(0x1bd))['classList'][_0x2537f7(0x87d)]('hidden');}),document[_0x214c4a(0x3ee)](_0x214c4a(0x76c))[_0x214c4a(0x631)]('click',handleVerifyAnswersInEditor),document[_0x214c4a(0x3ee)]('save-quiz-edits-btn')[_0x214c4a(0x631)]('click',()=>{const _0x2bce11=_0x214c4a;document[_0x2bce11(0x3ee)](_0x2bce11(0x1bd))['classList'][_0x2bce11(0x87d)](_0x2bce11(0x3f2)),showConfirmation(_0x2bce11(0x80a),handleSaveChanges);}),document[_0x214c4a(0x3ee)](_0x214c4a(0x86a))[_0x214c4a(0x631)](_0x214c4a(0x493),handleAutoFixLatex);const _0x20257b=document['getElementById'](_0x214c4a(0x6ff));_0x20257b&&_0x20257b[_0x214c4a(0x631)](_0x214c4a(0x493),_0x4efd76=>{const _0x491215=_0x214c4a,_0xa1731d=_0x4efd76[_0x491215(0x21b)][_0x491215(0x918)](_0x491215(0x2db)),_0x4a09e6=_0x4efd76[_0x491215(0x21b)][_0x491215(0x918)]('.ai-fix-formula-btn');if(_0xa1731d){const _0x105c9d=_0xa1731d[_0x491215(0x918)]('.question-editor-item'),_0x427292=parseInt(_0x105c9d[_0x491215(0x334)][_0x491215(0x53a)],0xa);handleRegenerateQuestionInEditor(_0x427292);}else{if(_0x4a09e6){const _0x5a4a9e=_0x4a09e6['closest']('.question-editor-item'),_0x4b9546=parseInt(_0x5a4a9e['dataset']['qIndex'],0xa);handleAiFixFormula(_0x4b9546);}}});document[_0x214c4a(0x3ee)]('open-quiz-bank-btn')[_0x214c4a(0x631)](_0x214c4a(0x493),openQuizBankModal),document[_0x214c4a(0x3ee)](_0x214c4a(0x843))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x10aece=_0x214c4a;document[_0x10aece(0x3ee)](_0x10aece(0x399))[_0x10aece(0x639)]['add'](_0x10aece(0x3f2));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x532))[_0x214c4a(0x631)]('input',_0x5b1c55=>renderQuizBankList(_0x5b1c55['target']['value']));const _0x428771=document[_0x214c4a(0x3ee)](_0x214c4a(0x8c8));if(_0x428771){let _0x1c2bcf=null;_0x428771[_0x214c4a(0x631)](_0x214c4a(0x493),_0xfd5ef3=>{const _0x456050=_0x214c4a,_0x48380d=_0xfd5ef3['target'],_0x51d1c3=_0x48380d['closest'](_0x456050(0x326)),_0x5bfece=_0x48380d[_0x456050(0x918)]('.delete-custom-topic-btn'),_0x22196c=_0x48380d[_0x456050(0x918)]('.save-custom-topic-btn'),_0x5f2ad8=_0x48380d[_0x456050(0x918)](_0x456050(0x43f));if(_0x5bfece){_0xfd5ef3[_0x456050(0x7bd)]();const _0x13ce39=_0x5bfece[_0x456050(0x334)]['id'],_0x187a68=_0x5bfece[_0x456050(0x918)](_0x456050(0x756))['querySelector'](_0x456050(0x1d0))[_0x456050(0x540)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x187a68+'\x22?',()=>handleDeleteCustomTopic(_0x13ce39));}else{if(_0x51d1c3){_0xfd5ef3[_0x456050(0x7bd)]();_0x1c2bcf&&toggleTopicEditMode(_0x1c2bcf,![]);const _0xcbb76a=_0x51d1c3['closest']('[data-topic-container-id]');_0x1c2bcf=_0xcbb76a,toggleTopicEditMode(_0xcbb76a,!![]);}else{if(_0x22196c){_0xfd5ef3[_0x456050(0x7bd)]();const _0x344a28=_0x22196c['dataset']['id'],_0x57f684=_0x22196c['closest']('[data-topic-container-id]'),_0x11d3e1=_0x57f684[_0x456050(0x828)]('.topic-name-input')[_0x456050(0x635)];handleUpdateCustomTopic(_0x344a28,_0x11d3e1),_0x1c2bcf=null;}else{if(_0x5f2ad8){_0xfd5ef3[_0x456050(0x7bd)]();const _0x2f4f08=_0x5f2ad8[_0x456050(0x918)](_0x456050(0x522));toggleTopicEditMode(_0x2f4f08,![]),_0x1c2bcf=null;}}}}}),document[_0x214c4a(0x3ee)](_0x214c4a(0x4a3))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x310913=_0x214c4a;document[_0x310913(0x3ee)](_0x310913(0x402))[_0x310913(0x639)][_0x310913(0x87d)]('hidden');}),document[_0x214c4a(0x3ee)]('close-lesson-plan-modal-footer-btn')['addEventListener'](_0x214c4a(0x493),()=>{const _0x4fa89f=_0x214c4a;document[_0x4fa89f(0x3ee)](_0x4fa89f(0x402))['classList'][_0x4fa89f(0x87d)](_0x4fa89f(0x3f2));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x7e4))[_0x214c4a(0x631)](_0x214c4a(0x493),handleExportLessonPDF);}document[_0x214c4a(0x3ee)](_0x214c4a(0x912))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x3c3e0e=_0x214c4a;document[_0x3c3e0e(0x3ee)](_0x3c3e0e(0x1a3))[_0x3c3e0e(0x639)]['add'](_0x3c3e0e(0x3f2));}),document[_0x214c4a(0x3ee)](_0x214c4a(0x4cc))[_0x214c4a(0x631)](_0x214c4a(0x493),()=>{const _0x36ee7f=_0x214c4a;document['getElementById'](_0x36ee7f(0x1a3))['classList'][_0x36ee7f(0x87d)]('hidden');}),setupComparisonModalTabs(),document[_0x214c4a(0x3b6)][_0x214c4a(0x631)](_0x214c4a(0x493),function(_0x38fe02){const _0x44168d=_0x214c4a;if(_0x38fe02[_0x44168d(0x21b)][_0x44168d(0x639)]['contains'](_0x44168d(0x74d))){const _0x4b4dd1=unescape(_0x38fe02['target'][_0x44168d(0x334)][_0x44168d(0x7f3)]);startSkillPractice(_0x4b4dd1);}}),document[_0x214c4a(0x3ee)](_0x214c4a(0x3ad))[_0x214c4a(0x631)](_0x214c4a(0x493),_0x3770fb=>{const _0x407acf=_0x214c4a,_0x1bb093=_0x3770fb['target'][_0x407acf(0x918)]('.delete-submission-btn');if(_0x1bb093){const _0x2c551e=_0x1bb093[_0x407acf(0x334)]['studentName'];handleDeleteSubmission(_0x2c551e);}});}async function showStudentProgressView(){const _0x6df69b=_0x248128;studentInitialView[_0x6df69b(0x639)][_0x6df69b(0x87d)]('hidden'),document[_0x6df69b(0x3ee)]('student-progress-view')[_0x6df69b(0x639)]['remove'](_0x6df69b(0x3f2));const _0x9d23fa=document['getElementById'](_0x6df69b(0x2a9)),_0x496a1a=document[_0x6df69b(0x3ee)](_0x6df69b(0x690)),_0x3b3df4=document['getElementById'](_0x6df69b(0x684));_0x3b3df4[_0x6df69b(0x58a)]=_0x6df69b(0x1b4),_0x496a1a[_0x6df69b(0x58a)]=_0x6df69b(0x38c),_0x496a1a[_0x6df69b(0x566)]=!![],_0x9d23fa['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x2c4a1d=collection(db,_0x6df69b(0x243)+appId+'/public/data/projects'),_0xd0a642=await getDocs(_0x2c4a1d);allProjects=_0xd0a642[_0x6df69b(0x654)]['map'](_0x29f186=>({'id':_0x29f186['id'],..._0x29f186[_0x6df69b(0x45b)]()}));}const _0x4b95be=allProjects[_0x6df69b(0x305)](_0x280461=>_0x280461[_0x6df69b(0x75d)]?.[_0x6df69b(0x4f7)]!==![]);_0x4b95be[_0x6df69b(0x81a)]((_0xe377bb,_0x36a615)=>_0xe377bb[_0x6df69b(0x86f)][_0x6df69b(0x702)](_0x36a615[_0x6df69b(0x86f)],'th')),_0x9d23fa[_0x6df69b(0x58a)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x4b95be[_0x6df69b(0x336)](_0x6dbd89=>'<option\x20value=\x22'+_0x6dbd89['id']+'\x22>'+_0x6dbd89['projectName']+_0x6df69b(0x6cc))[_0x6df69b(0x375)](''),_0x9d23fa[_0x6df69b(0x210)]=()=>{const _0x5bb971=_0x6df69b,_0x14cc28=_0x496a1a['value'],_0x48daac=_0x9d23fa[_0x5bb971(0x635)];_0x496a1a[_0x5bb971(0x566)]=!![],_0x496a1a[_0x5bb971(0x58a)]=_0x5bb971(0x38c),_0x3b3df4[_0x5bb971(0x58a)]=_0x5bb971(0x314);if(!_0x48daac)return;const _0x57c8b8=allProjects[_0x5bb971(0x2f4)](_0xcf779d=>_0xcf779d['id']===_0x48daac);if(!_0x57c8b8||!_0x57c8b8['students'])return;const _0x28efbf=()=>{const _0x5a055c=_0x5bb971;_0x496a1a[_0x5a055c(0x58a)]=_0x5a055c(0x38c)+_0x57c8b8[_0x5a055c(0x790)][_0x5a055c(0x336)](_0x1c747d=>_0x5a055c(0x469)+_0x1c747d+'\x22>'+_0x1c747d+_0x5a055c(0x6cc))[_0x5a055c(0x375)](''),_0x496a1a[_0x5a055c(0x566)]=![];const _0x54d03f=Array[_0x5a055c(0x4df)](_0x496a1a[_0x5a055c(0x5b6)])[_0x5a055c(0x336)](_0x4af406=>_0x4af406[_0x5a055c(0x635)]);if(_0x14cc28&&_0x54d03f['includes'](_0x14cc28))_0x496a1a[_0x5a055c(0x635)]=_0x14cc28,_0x496a1a[_0x5a055c(0x3d6)](new Event(_0x5a055c(0x91a)));else _0x57c8b8[_0x5a055c(0x790)][_0x5a055c(0x888)]===0x1&&(_0x496a1a[_0x5a055c(0x635)]=_0x57c8b8['students'][0x0],_0x496a1a[_0x5a055c(0x3d6)](new Event(_0x5a055c(0x91a))));};if(_0x57c8b8[_0x5bb971(0x75d)]?.[_0x5bb971(0x34f)]){if(sessionStorage[_0x5bb971(0x143)](_0x5bb971(0x62c)+_0x48daac)==='true'){_0x28efbf();return;}const _0x23a687=document['getElementById'](_0x5bb971(0x883)),_0x15ac26=document[_0x5bb971(0x3ee)]('confirm-passcode-btn'),_0x1d171a=document[_0x5bb971(0x3ee)](_0x5bb971(0x74b)),_0x454dfe=document[_0x5bb971(0x3ee)]('student-passcode-input'),_0x4f6cef=document[_0x5bb971(0x3ee)]('passcode-error-msg');document[_0x5bb971(0x3ee)](_0x5bb971(0x265))[_0x5bb971(0x540)]=_0x5bb971(0x139)+_0x57c8b8[_0x5bb971(0x86f)],_0x454dfe['value']='',_0x4f6cef[_0x5bb971(0x639)]['add'](_0x5bb971(0x3f2)),_0x23a687['classList'][_0x5bb971(0x3cc)](_0x5bb971(0x3f2));const _0x18ebc3=()=>{const _0x2734fa=_0x5bb971,_0x5b00e8=_0x454dfe[_0x2734fa(0x635)][_0x2734fa(0x6b7)]();_0x5b00e8===_0x57c8b8[_0x2734fa(0x75d)][_0x2734fa(0x449)]?(sessionStorage[_0x2734fa(0x2d6)]('authed_project_'+_0x48daac,'true'),_0x23a687['classList']['add'](_0x2734fa(0x3f2)),_0x28efbf(),_0x15ac26['removeEventListener'](_0x2734fa(0x493),_0x18ebc3)):_0x4f6cef[_0x2734fa(0x639)][_0x2734fa(0x3cc)](_0x2734fa(0x3f2));};_0x15ac26['onclick']=_0x18ebc3,_0x1d171a['onclick']=()=>{const _0x19f065=_0x5bb971;_0x23a687[_0x19f065(0x639)][_0x19f065(0x87d)](_0x19f065(0x3f2)),_0x9d23fa[_0x19f065(0x635)]='',_0x15ac26[_0x19f065(0x83d)](_0x19f065(0x493),_0x18ebc3);};}else _0x28efbf();},_0x496a1a[_0x6df69b(0x210)]=()=>{const _0x5265b2=_0x6df69b,_0x3b190e=_0x9d23fa[_0x5265b2(0x635)],_0x1a0dfa=_0x496a1a[_0x5265b2(0x635)];_0x3b190e&&_0x1a0dfa&&renderStudentProgressDashboard(_0x3b190e,_0x1a0dfa);};}async function renderStudentProgressDashboard(_0x477100,_0x24ee40){const _0x55535a=_0x248128,_0x22b021=document[_0x55535a(0x3ee)](_0x55535a(0x684));_0x22b021[_0x55535a(0x58a)]=_0x55535a(0x853);try{const _0x44c45b=collection(db,_0x55535a(0x243)+appId+_0x55535a(0x495)),_0x14100f=query(_0x44c45b,where(_0x55535a(0x4a0),'==',_0x477100)),_0x591198=await getDocs(_0x14100f),_0xcb269d=_0x591198[_0x55535a(0x654)][_0x55535a(0x336)](_0x11b369=>({'id':_0x11b369['id'],..._0x11b369[_0x55535a(0x45b)]()})),_0x2ea259=_0xcb269d[_0x55535a(0x336)](_0x391def=>getDoc(doc(db,_0x55535a(0x243)+appId+_0x55535a(0x844)+_0x391def['id']+_0x55535a(0x338),_0x24ee40))),_0x36a0b6=await Promise[_0x55535a(0x5d0)](_0x2ea259),_0xefc2c3=_0x36a0b6[_0x55535a(0x305)](_0x348366=>_0x348366[_0x55535a(0x225)]())[_0x55535a(0x336)](_0x1832e1=>({'quizId':_0x1832e1[_0x55535a(0x67f)][_0x55535a(0x5ba)][_0x55535a(0x5ba)]['id'],..._0x1832e1[_0x55535a(0x45b)]()}));if(_0xefc2c3[_0x55535a(0x888)]===0x0){_0x22b021[_0x55535a(0x58a)]=_0x55535a(0x41a);return;}let _0x2be1f5=_0x55535a(0x796);_0xefc2c3[_0x55535a(0x762)](_0x25adcb=>{const _0xbbc383=_0x55535a,_0x4e7da6=_0xcb269d[_0xbbc383(0x2f4)](_0x49992d=>_0x49992d['id']===_0x25adcb[_0xbbc383(0x6a5)]),_0x545932=_0x4e7da6['settings']?.['resultsDisplay']||_0xbbc383(0x823),_0x305dc3=_0x4e7da6[_0xbbc383(0x75d)]?.[_0xbbc383(0x802)]??0x0,_0x32803d=_0x25adcb['bestScore']>=_0x305dc3;let _0x39e4d8='',_0x27a9e7='bg-gray-50';switch(_0x545932){case _0xbbc383(0x823):case _0xbbc383(0x817):_0x27a9e7=_0x32803d?_0xbbc383(0x910):'bg-red-50',_0x39e4d8=_0xbbc383(0x8a6)+(_0x32803d?'text-green-700':_0xbbc383(0x22c))+'\x22>'+_0x25adcb[_0xbbc383(0x63f)]+'\x20/\x20'+_0x25adcb['totalQuestions']+_0xbbc383(0x1ec)+(_0x32803d?'bg-green-200\x20text-green-800':_0xbbc383(0x17f))+'\x22>'+(_0x32803d?_0xbbc383(0x218):_0xbbc383(0x209))+_0xbbc383(0x7fd);break;case _0xbbc383(0x968):_0x27a9e7=_0x32803d?'bg-green-50':_0xbbc383(0x670),_0x39e4d8=_0xbbc383(0x304)+(_0x32803d?_0xbbc383(0x2b6):_0xbbc383(0x17f))+'\x22>'+(_0x32803d?_0xbbc383(0x218):_0xbbc383(0x209))+_0xbbc383(0x7fd);break;case _0xbbc383(0x3e5):_0x27a9e7='bg-yellow-50',_0x39e4d8=_0xbbc383(0x62b);break;}_0x2be1f5+=_0xbbc383(0x3f8)+_0x27a9e7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x4e7da6[_0xbbc383(0x7f3)]+_0xbbc383(0x34d)+_0x25adcb[_0xbbc383(0x18f)][_0xbbc383(0x888)]+_0xbbc383(0x280)+new Date(_0x25adcb[_0xbbc383(0x3ce)])[_0xbbc383(0x434)](_0xbbc383(0x224))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39e4d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2be1f5+='</div>',_0x22b021[_0x55535a(0x58a)]=_0x2be1f5;}catch(_0x326fd0){console['error'](_0x55535a(0x6fb),_0x326fd0),_0x22b021[_0x55535a(0x58a)]=_0x55535a(0x7a8);}}function setupStudentProgressListeners(){const _0xe32327=_0x248128;document[_0xe32327(0x3ee)]('view-my-progress-btn')['addEventListener'](_0xe32327(0x493),showStudentProgressView),document[_0xe32327(0x3ee)](_0xe32327(0x829))['addEventListener'](_0xe32327(0x493),()=>{const _0xbcfb5b=_0xe32327;document[_0xbcfb5b(0x3ee)]('student-progress-view')['classList'][_0xbcfb5b(0x87d)](_0xbcfb5b(0x3f2)),document[_0xbcfb5b(0x3ee)](_0xbcfb5b(0x27c))[_0xbcfb5b(0x639)][_0xbcfb5b(0x3cc)]('hidden');});}async function startSkillPractice(_0x1b4f89){const _0x9f2ce8=_0x248128;studentResultArea[_0x9f2ce8(0x639)][_0x9f2ce8(0x87d)](_0x9f2ce8(0x3f2)),studentQuizArea[_0x9f2ce8(0x58a)]=_0x9f2ce8(0x4db),studentQuizArea[_0x9f2ce8(0x639)][_0x9f2ce8(0x3cc)](_0x9f2ce8(0x3f2));try{const _0x4ec4f0=await getStandardizedTopic(_0x1b4f89);console['log'](_0x9f2ce8(0x1da)+_0x1b4f89+_0x9f2ce8(0x4d4)+_0x4ec4f0+'\x22'),studentQuizArea[_0x9f2ce8(0x828)]('p')['textContent']='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x4ec4f0+'\x22...';const _0x149a9e=collection(db,_0x9f2ce8(0x243)+appId+_0x9f2ce8(0x476)),_0x3158b2=query(_0x149a9e,where(_0x9f2ce8(0x7f3),'==',_0x4ec4f0)),_0x179715=await getDocs(_0x3158b2);if(_0x179715[_0x9f2ce8(0x654)][_0x9f2ce8(0x888)]>=0x3){console[_0x9f2ce8(0x1c3)]('พบข้อสอบ\x20'+_0x179715[_0x9f2ce8(0x654)][_0x9f2ce8(0x888)]+_0x9f2ce8(0x29e)+_0x4ec4f0+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x201028=_0x179715[_0x9f2ce8(0x654)][_0x9f2ce8(0x336)](_0x29e4e8=>_0x29e4e8[_0x9f2ce8(0x45b)]());shuffleArray(_0x201028);const _0x44ede3={'topic':_0x4ec4f0,'questions':_0x201028[_0x9f2ce8(0x59d)](0x0,0x3)};displaySkillPracticeDrill(_0x44ede3);}else{console['log'](_0x9f2ce8(0x1ac)+_0x4ec4f0+_0x9f2ce8(0x551));const _0x18e0f5=await generatePracticeQuestions(_0x4ec4f0);await saveDrillToPracticeBank(_0x18e0f5,_0x4ec4f0),displaySkillPracticeDrill(_0x18e0f5);}}catch(_0x3eb8c1){console[_0x9f2ce8(0x56c)](_0x9f2ce8(0x63e),_0x3eb8c1),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x9f2ce8(0x639)]['add'](_0x9f2ce8(0x3f2)),studentResultArea[_0x9f2ce8(0x639)][_0x9f2ce8(0x3cc)](_0x9f2ce8(0x3f2));}}async function saveDrillToPracticeBank(_0x5d3612,_0x1ac94b){const _0x4f4c56=_0x248128,_0x22434a=collection(db,_0x4f4c56(0x243)+appId+_0x4f4c56(0x476)),_0x30af25=writeBatch(db);_0x5d3612[_0x4f4c56(0x598)][_0x4f4c56(0x762)](_0xf96658=>{const _0x148cef=_0x4f4c56,_0x11eb46=doc(_0x22434a);_0x30af25[_0x148cef(0x3b7)](_0x11eb46,{'topic':_0x1ac94b,'questionText':_0xf96658[_0x148cef(0x830)],'options':_0xf96658[_0x148cef(0x5b6)],'correctAnswerIndex':_0xf96658[_0x148cef(0x553)],'explanation':_0xf96658[_0x148cef(0x205)],'createdAt':serverTimestamp()});});try{await _0x30af25['commit'](),console['log'](_0x4f4c56(0x54f)+_0x5d3612['questions']['length']+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x1379d6){console[_0x4f4c56(0x56c)](_0x4f4c56(0x405),_0x1379d6);}}async function getStandardizedTopic(_0x5b1b74){const _0x13325c=_0x248128,_0x474197=_0x13325c(0x4e8)+_0x5b1b74+_0x13325c(0x72e),_0x2101f3={'type':'OBJECT','properties':{'standardTopic':{'type':_0x13325c(0x77e)}},'required':[_0x13325c(0x4a5)]};try{const _0x2f5c70=await callAnalysisApi(_0x474197,_0x2101f3);return _0x2f5c70['standardTopic'];}catch(_0x4ef375){return console[_0x13325c(0x56c)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x4ef375),_0x5b1b74;}}async function handleGenerateEasyVersionQuiz(_0x487410){showConfirmation('คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้',async()=>{const _0x3ed593=_0xadd6;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0x5d69be=allQuizzes[_0x3ed593(0x2f4)](_0x199721=>_0x199721['id']===_0x487410);if(!_0x5d69be)throw new Error(_0x3ed593(0x169));const _0x272bf8=_0x3ed593(0x356)+JSON['stringify'](_0x5d69be[_0x3ed593(0x598)])+_0x3ed593(0x52f),_0x542789={'type':'OBJECT','properties':{'questionText':{'type':_0x3ed593(0x77e)},'questionType':{'type':'STRING'},'options':{'type':_0x3ed593(0x15b),'items':{'type':_0x3ed593(0x77e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3ed593(0x77e)},'explanation':{'type':_0x3ed593(0x77e)},'imageCode':{'type':_0x3ed593(0x77e)}},'required':[_0x3ed593(0x830),'questionType',_0x3ed593(0x205)]},_0x575568={'type':'OBJECT','properties':{'questions':{'type':_0x3ed593(0x15b),'items':_0x542789}},'required':[_0x3ed593(0x598)]},_0x48bfd2=await callAnalysisApi(_0x272bf8,_0x575568);_0x48bfd2&&_0x48bfd2[_0x3ed593(0x598)]&&_0x48bfd2['questions'][_0x3ed593(0x762)](_0x7f5a9c=>{const _0x2406c7=_0x3ed593;_0x7f5a9c[_0x2406c7(0x830)]&&(_0x7f5a9c[_0x2406c7(0x830)]=_0x7f5a9c[_0x2406c7(0x830)][_0x2406c7(0x6b7)]()[_0x2406c7(0x92e)](/,$/,'')[_0x2406c7(0x6b7)]());_0x7f5a9c[_0x2406c7(0x5b6)]&&Array['isArray'](_0x7f5a9c[_0x2406c7(0x5b6)])&&(_0x7f5a9c['options']=_0x7f5a9c[_0x2406c7(0x5b6)]['map'](_0x4e3452=>_0x4e3452||_0x2406c7(0x4cd)));if(_0x7f5a9c[_0x2406c7(0x849)]){const _0x1e139f=_0x7f5a9c['imageCode']['trim']();_0x1e139f===''||_0x1e139f['toLowerCase']()==='null'||!_0x1e139f[_0x2406c7(0x7f5)](_0x2406c7(0x15f))?delete _0x7f5a9c[_0x2406c7(0x849)]:_0x7f5a9c[_0x2406c7(0x849)]=_0x1e139f;}});if(!_0x48bfd2||!_0x48bfd2[_0x3ed593(0x598)]||_0x48bfd2['questions'][_0x3ed593(0x888)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x41fc0a={'projectId':_0x5d69be[_0x3ed593(0x4a0)],'quizType':_0x5d69be[_0x3ed593(0x760)],'settings':_0x5d69be[_0x3ed593(0x75d)],'createdBy':_0x5d69be[_0x3ed593(0x7cb)],'status':_0x3ed593(0x6b4),'topic':_0x3ed593(0x683)+_0x5d69be[_0x3ed593(0x7f3)],'questions':_0x48bfd2['questions'],'createdAt':new Date()[_0x3ed593(0x2ad)](),'quizMode':'standard','pairedQuizId':null};let _0x53e877;while(!![]){_0x53e877=Math[_0x3ed593(0x7b2)](0x3e8+Math[_0x3ed593(0x903)]()*0x2328)[_0x3ed593(0x4dd)]();const _0x59ae85=await getDoc(doc(db,_0x3ed593(0x243)+appId+_0x3ed593(0x495),_0x53e877));if(!_0x59ae85[_0x3ed593(0x225)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3ed593(0x495),_0x53e877),_0x41fc0a),showMessage(_0x3ed593(0x7bb));}catch(_0x2317b9){console[_0x3ed593(0x56c)](_0x3ed593(0x6a8),_0x2317b9),showMessage(_0x3ed593(0x3a1)+_0x2317b9['message']);}});}async function generatePracticeQuestions(_0x3f18dc){const _0x718501=_0x248128,_0x38423e=_0x718501(0x896)+_0x3f18dc+_0x718501(0x8f0)+simpleMathPrompt+_0x718501(0x8d9),_0x413ba5={'type':_0x718501(0x7e1),'properties':{'questionText':{'type':_0x718501(0x77e)},'options':{'type':'ARRAY','items':{'type':_0x718501(0x77e)}},'correctAnswerIndex':{'type':_0x718501(0x7aa)},'explanation':{'type':'STRING'}},'required':[_0x718501(0x830),_0x718501(0x5b6),_0x718501(0x553),_0x718501(0x205)]},_0xf0bcba={'type':_0x718501(0x7e1),'properties':{'topic':{'type':_0x718501(0x77e)},'questions':{'type':'ARRAY','items':_0x413ba5}},'required':[_0x718501(0x7f3),'questions']};return await callAnalysisApi(_0x38423e,_0xf0bcba);}function displayLessonPlan(_0x153644,_0x1219c9){const _0x4e48dc=_0x248128,_0x266144=_0x4e48dc(0x4d5)+_0x1219c9[_0x4e48dc(0x7f3)]+_0x4e48dc(0x44b)+_0x153644[_0x4e48dc(0x32a)]['map'](_0x5080ed=>'<li>'+_0x5080ed+'</li>')['join']('')+_0x4e48dc(0x956)+_0x153644['teachingContent']+_0x4e48dc(0x764)+_0x153644[_0x4e48dc(0x425)][_0x4e48dc(0x336)](_0xeb8c84=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0xeb8c84['question']+_0x4e48dc(0x456)+_0xeb8c84[_0x4e48dc(0x341)]+_0x4e48dc(0x5c7))[_0x4e48dc(0x375)]('')+_0x4e48dc(0x87c);document[_0x4e48dc(0x3ee)](_0x4e48dc(0x424))[_0x4e48dc(0x540)]=_0x4e48dc(0x737)+_0x1219c9[_0x4e48dc(0x7f3)],document[_0x4e48dc(0x3ee)](_0x4e48dc(0x747))[_0x4e48dc(0x58a)]=_0x266144,document[_0x4e48dc(0x3ee)](_0x4e48dc(0x402))['classList'][_0x4e48dc(0x3cc)](_0x4e48dc(0x3f2));if(window['MathJax'])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x3b0fb0){const _0x23b2c3=_0x248128;let _0x5f1422=0x0;const _0x3d8773=_0x3b0fb0[_0x23b2c3(0x598)],_0x122486=()=>{const _0x4f52bc=_0x23b2c3,_0x2ea3ca=_0x3d8773[_0x5f1422],_0x558934='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x5f1422+0x1)+'\x20/\x20'+_0x3d8773['length']+_0x4f52bc(0x85a)+_0x2ea3ca[_0x4f52bc(0x830)]+_0x4f52bc(0x7e6)+_0x2ea3ca[_0x4f52bc(0x5b6)][_0x4f52bc(0x336)]((_0x509cc0,_0x1fd73a)=>_0x4f52bc(0x5a2)+_0x1fd73a+_0x4f52bc(0x7be)+_0x1fd73a+_0x4f52bc(0x1ab)+_0x1fd73a+'\x22>'+_0x509cc0+_0x4f52bc(0x235))[_0x4f52bc(0x375)]('')+_0x4f52bc(0x5c3);studentQuizArea[_0x4f52bc(0x58a)]=_0x558934;if(window[_0x4f52bc(0x46e)])MathJax['typesetPromise']([studentQuizArea]);document[_0x4f52bc(0x3ee)](_0x4f52bc(0x869))[_0x4f52bc(0x631)]('click',async()=>{const _0x36e56f=await getHintForQuestion(_0x2ea3ca['questionText']);showMessage(_0x36e56f);}),document[_0x4f52bc(0x3ee)](_0x4f52bc(0x5a7))[_0x4f52bc(0x631)]('click',()=>{const _0x297952=_0x4f52bc,_0x334b18=document[_0x297952(0x828)](_0x297952(0x52c));if(!_0x334b18){showMessage(_0x297952(0x2f7));return;}const _0x9cd45e=document[_0x297952(0x3ee)]('drill-feedback'),_0x48f0ae=parseInt(_0x334b18[_0x297952(0x635)])===_0x2ea3ca['correctAnswerIndex'];_0x48f0ae?(_0x9cd45e[_0x297952(0x876)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x9cd45e[_0x297952(0x58a)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x2ea3ca[_0x297952(0x205)]):(_0x9cd45e[_0x297952(0x876)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x9cd45e['innerHTML']=_0x297952(0x901)+_0x2ea3ca['explanation']);_0x9cd45e['classList']['remove'](_0x297952(0x3f2));if(window[_0x297952(0x46e)])MathJax[_0x297952(0x8c0)]([_0x9cd45e]);document[_0x297952(0x3ee)]('check-answer-btn')[_0x297952(0x639)][_0x297952(0x87d)](_0x297952(0x3f2)),document['getElementById'](_0x297952(0x869))['classList'][_0x297952(0x87d)](_0x297952(0x3f2)),document[_0x297952(0x3ee)](_0x297952(0x6be))[_0x297952(0x639)]['remove'](_0x297952(0x3f2));}),document[_0x4f52bc(0x3ee)](_0x4f52bc(0x6be))[_0x4f52bc(0x631)]('click',()=>{const _0x98879f=_0x4f52bc;_0x5f1422++,_0x5f1422<_0x3d8773[_0x98879f(0x888)]?_0x122486():(studentQuizArea[_0x98879f(0x58a)]=_0x98879f(0x1f4),document['getElementById'](_0x98879f(0x647))[_0x98879f(0x631)]('click',()=>{const _0x1dc6a4=_0x98879f;studentQuizArea['classList'][_0x1dc6a4(0x87d)](_0x1dc6a4(0x3f2)),studentResultArea['classList'][_0x1dc6a4(0x3cc)](_0x1dc6a4(0x3f2));}));});};_0x122486();}async function getHintForQuestion(_0x5debc0){const _0x4679a1=_0x248128,_0x42b803=_0x4679a1(0x94e)+_0x5debc0+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x110fdc={'type':'OBJECT','properties':{'hint':{'type':_0x4679a1(0x77e)}},'required':[_0x4679a1(0x50e)]};try{const _0x11b508=await callAnalysisApi(_0x42b803,_0x110fdc);return _0x11b508['hint'];}catch(_0x592ff1){return console['error'](_0x4679a1(0x8da),_0x592ff1),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x28c3fd){const _0x14a018=_0x248128;pdfjsLib[_0x14a018(0x8d7)][_0x14a018(0x8a5)]=_0x14a018(0x1c2);const _0x5dbab1=await _0x28c3fd[_0x14a018(0x23d)](),_0x54e9ff=await pdfjsLib['getDocument'](_0x5dbab1)['promise'],_0xa8f54b=_0x54e9ff[_0x14a018(0x5ac)];let _0x58eda2='';for(let _0x447ff1=0x1;_0x447ff1<=_0xa8f54b;_0x447ff1++){const _0x16a1ce=await _0x54e9ff[_0x14a018(0x59a)](_0x447ff1),_0x393530=await _0x16a1ce[_0x14a018(0x457)](),_0x2733c3=_0x393530[_0x14a018(0x7b1)]['map'](_0x20b3a3=>_0x20b3a3['str'])[_0x14a018(0x375)]('\x20');_0x58eda2+=_0x2733c3+'\x0a\x0a';}return _0x58eda2;}async function handleGenerateFromBlueprint(){const _0x5abeed=_0x248128,_0x7e15d4=document[_0x5abeed(0x3ee)](_0x5abeed(0x515)),_0x3f16cc=document['getElementById']('reference-pdf-upload'),_0x18fb12=_0x7e15d4[_0x5abeed(0x195)][0x0],_0x5d6358=_0x3f16cc[_0x5abeed(0x195)][_0x5abeed(0x888)]>0x0?_0x3f16cc[_0x5abeed(0x195)][0x0]:null;if(!_0x18fb12){showMessage(_0x5abeed(0x7ac));return;}const _0x5c2c06=document[_0x5abeed(0x3ee)]('loader'),_0x5ea572=document[_0x5abeed(0x3ee)](_0x5abeed(0x62e)),_0x40bcf3=document['getElementById'](_0x5abeed(0x175)),_0x2e04ac=document[_0x5abeed(0x3ee)](_0x5abeed(0x7a3));_0x2e04ac['disabled']=!![],document['getElementById'](_0x5abeed(0x377))[_0x5abeed(0x639)][_0x5abeed(0x3cc)](_0x5abeed(0x3f2)),_0x40bcf3[_0x5abeed(0x58a)]='',_0x5c2c06['classList'][_0x5abeed(0x3cc)]('hidden');try{_0x5ea572[_0x5abeed(0x540)]=_0x5abeed(0x74c);const _0x28aaaa=await extractTextFromPdf(_0x18fb12);if(!_0x28aaaa[_0x5abeed(0x6b7)]())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x4b423f='';_0x5d6358&&(_0x5ea572[_0x5abeed(0x540)]=_0x5abeed(0x778),_0x4b423f=await extractTextFromPdf(_0x5d6358));_0x5ea572[_0x5abeed(0x540)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x411b10=document['getElementById'](_0x5abeed(0x85b))['checked'],_0x6c8c76=_0x411b10?_0x5abeed(0x2ed):'',_0x1c1c37=_0x4b423f?_0x5abeed(0x2a2)+_0x4b423f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x48ce17=_0x5abeed(0x2c9)+(_0x4b423f?_0x5abeed(0x4bb):'')+_0x5abeed(0x55d)+_0x28aaaa+_0x5abeed(0x358)+_0x1c1c37+_0x5abeed(0x4fe)+_0x6c8c76+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x5abeed(0x227),_0x10dfd3={'type':_0x5abeed(0x7e1),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5abeed(0x77e),'enum':[_0x5abeed(0x88b),_0x5abeed(0x660)]},'options':{'type':_0x5abeed(0x15b),'items':{'type':_0x5abeed(0x77e)}},'correctAnswerIndex':{'type':_0x5abeed(0x7aa)},'idealAnswer':{'type':_0x5abeed(0x77e)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x5abeed(0x830),_0x5abeed(0x59f),_0x5abeed(0x205)]},_0x2719fa={'type':_0x5abeed(0x7e1),'properties':{'topic':{'type':_0x5abeed(0x77e)},'questions':{'type':_0x5abeed(0x15b),'items':_0x10dfd3}},'required':[_0x5abeed(0x7f3),'questions']};await handleApiCall(_0x48ce17,_0x5abeed(0x947),_0x2719fa);}catch(_0x27783f){console['error']('Error\x20generating\x20from\x20blueprint:',_0x27783f),showMessage(_0x5abeed(0x3a1)+_0x27783f[_0x5abeed(0x5d6)]),_0x40bcf3[_0x5abeed(0x58a)]=_0x5abeed(0x534);}finally{_0x5c2c06['classList']['add'](_0x5abeed(0x3f2)),_0x2e04ac['disabled']=![];}}async function handleGenerateParallelFromBank(_0x4ec7ef){const _0x32558a=_0x248128;switchProjectTab('manage');const _0x58b1b8=document[_0x32558a(0x3ee)]('loader'),_0x2e7c72=document['getElementById'](_0x32558a(0x62e)),_0x265d20=document[_0x32558a(0x3ee)](_0x32558a(0x175));document[_0x32558a(0x3ee)](_0x32558a(0x377))[_0x32558a(0x639)]['remove'](_0x32558a(0x3f2)),_0x265d20['innerHTML']='',_0x58b1b8[_0x32558a(0x639)][_0x32558a(0x3cc)](_0x32558a(0x3f2)),_0x2e7c72[_0x32558a(0x540)]=_0x32558a(0x5a5)+_0x4ec7ef[_0x32558a(0x7f3)]+_0x32558a(0x451);try{const _0x4fe161=_0x4ec7ef[_0x32558a(0x598)][_0x32558a(0x336)]((_0x110653,_0x12184e)=>{const _0x883674=_0x32558a;let _0x3ead6d=_0x12184e+0x1+'.\x20'+(_0x110653['questionText']||_0x110653[_0x883674(0x4c2)])+'\x0a';if(_0x110653['options'])_0x3ead6d+=_0x110653['options'][_0x883674(0x336)]((_0x1bf1ec,_0x18ed0e)=>_0x883674(0x4d7)+(_0x18ed0e===_0x110653[_0x883674(0x553)]?_0x883674(0x7ff):'')+'\x20'+_0x1bf1ec)[_0x883674(0x375)]('\x0a');else _0x110653[_0x883674(0x673)]&&(_0x3ead6d+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x110653[_0x883674(0x673)]);return _0x3ead6d;})['join']('\x0a\x0a');_0x2e7c72[_0x32558a(0x540)]=_0x32558a(0x28e);const _0x43f85d=_0x4ec7ef[_0x32558a(0x598)][_0x32558a(0x888)],_0x133ff7=_0x32558a(0x38b)+_0x4ec7ef['topic']+_0x32558a(0x7c4)+_0x43f85d+_0x32558a(0x4b8)+_0x4fe161+_0x32558a(0x7c9)+_0x43f85d+_0x32558a(0x70c)+simpleMathPrompt+_0x32558a(0x227),_0x39c66c={'type':_0x32558a(0x7e1),'properties':{'questionText':{'type':_0x32558a(0x77e)},'questionType':{'type':_0x32558a(0x77e),'enum':[_0x32558a(0x88b),_0x32558a(0x660),'true_false',_0x32558a(0x732)]},'options':{'type':_0x32558a(0x15b),'items':{'type':_0x32558a(0x77e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x32558a(0x77e)},'correctAnswer':{'type':_0x32558a(0x219)},'stem':{'type':_0x32558a(0x77e)},'correctResponse':{'type':_0x32558a(0x77e)},'allResponses':{'type':_0x32558a(0x15b),'items':{'type':_0x32558a(0x77e)}},'explanation':{'type':_0x32558a(0x77e)},'imageCode':{'type':_0x32558a(0x77e)}},'required':['questionText','questionType',_0x32558a(0x205)]},_0x1a0ce0={'type':_0x32558a(0x7e1),'properties':{'topic':{'type':_0x32558a(0x77e)},'questions':{'type':_0x32558a(0x15b),'items':_0x39c66c}},'required':[_0x32558a(0x7f3),_0x32558a(0x598)]},_0xc56112=await callAnalysisApi(_0x133ff7,_0x1a0ce0);_0xc56112[_0x32558a(0x598)]['length']>_0x43f85d&&(_0xc56112[_0x32558a(0x598)]=_0xc56112[_0x32558a(0x598)]['slice'](0x0,_0x43f85d)),_0xc56112[_0x32558a(0x7f3)]='(คู่ขนาน)\x20'+_0x4ec7ef[_0x32558a(0x7f3)],_0xc56112[_0x32558a(0x760)]=_0x4ec7ef[_0x32558a(0x760)],currentQuizData=_0xc56112,displayGeneratedQuiz(_0xc56112),document[_0x32558a(0x3ee)](_0x32558a(0x7d7))[_0x32558a(0x2c8)]({'behavior':_0x32558a(0x516)});}catch(_0x1a449b){console[_0x32558a(0x56c)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x1a449b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1a449b[_0x32558a(0x5d6)]),_0x265d20[_0x32558a(0x58a)]=_0x32558a(0x417);}finally{_0x58b1b8[_0x32558a(0x639)][_0x32558a(0x87d)](_0x32558a(0x3f2));}}async function handleGenerateParallelPostTest(_0x4db5f8){const _0x956902=_0x248128,_0x4b0fdb=document[_0x956902(0x3ee)]('results-tab-content'),_0x336d9a=document[_0x956902(0x3ee)](_0x956902(0x39b));_0x336d9a[_0x956902(0x639)][_0x956902(0x87d)](_0x956902(0x3f2));const _0x48c9e6=_0x956902(0x79f);_0x4b0fdb[_0x956902(0x173)](_0x956902(0x83f),_0x48c9e6);try{const _0x1b91e7=_0x4db5f8[_0x956902(0x598)][_0x956902(0x336)]((_0x1959eb,_0xaa9b29)=>{const _0x569e45=_0x956902;let _0x1078b6=_0xaa9b29+0x1+'.\x20'+(_0x1959eb[_0x569e45(0x830)]||_0x1959eb[_0x569e45(0x4c2)]);if(_0x1959eb[_0x569e45(0x5b6)])_0x1078b6+=_0x569e45(0x582)+_0x1959eb[_0x569e45(0x5b6)]['join'](',\x20');return _0x1078b6;})[_0x956902(0x375)]('\x0a\x0a'),_0x2aad73='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x4db5f8[_0x956902(0x7f3)]+_0x956902(0x79d)+_0x1b91e7+_0x956902(0x735)+simpleMathPrompt+_0x956902(0x227),_0x3877d6={'type':_0x956902(0x7e1),'properties':{'topic':{'type':_0x956902(0x77e)},'questions':{'type':'ARRAY','items':{'type':_0x956902(0x7e1),'properties':{'questionText':{'type':_0x956902(0x77e)},'questionType':{'type':_0x956902(0x77e)},'options':{'type':_0x956902(0x15b),'items':{'type':_0x956902(0x77e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x956902(0x77e)}},'required':[_0x956902(0x830),_0x956902(0x205)]}}},'required':[_0x956902(0x7f3),'questions']},_0x2d77d8=await callAnalysisApi(_0x2aad73,_0x3877d6),_0x2bc563=_0x4db5f8[_0x956902(0x7f3)][_0x956902(0x92e)](_0x956902(0x87b),'')[_0x956902(0x6b7)](),_0x3a7ca0=_0x956902(0x62a)+_0x2bc563,_0x3b4e95={..._0x2d77d8,'topic':_0x3a7ca0,'quizType':_0x4db5f8[_0x956902(0x760)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x956902(0x2ad)](),'status':_0x956902(0x6b4),'settings':_0x4db5f8[_0x956902(0x75d)],'quizMode':_0x956902(0x461),'pairedQuizId':_0x4db5f8['id']};let _0x2d1ef0;while(!![]){_0x2d1ef0=Math[_0x956902(0x7b2)](0x3e8+Math['random']()*0x2328)[_0x956902(0x4dd)]();const _0x396ea3=await getDoc(doc(db,_0x956902(0x243)+appId+_0x956902(0x495),_0x2d1ef0));if(!_0x396ea3['exists']())break;}await setDoc(doc(db,_0x956902(0x243)+appId+_0x956902(0x495),_0x2d1ef0),_0x3b4e95);const _0x30a45c=doc(db,_0x956902(0x243)+appId+_0x956902(0x495),_0x4db5f8['id']);await updateDoc(_0x30a45c,{'pairedQuizId':_0x2d1ef0}),showMessage(_0x956902(0x4eb));}catch(_0x1aa029){console[_0x956902(0x56c)](_0x956902(0x332),_0x1aa029),showMessage(_0x956902(0x3a1)+_0x1aa029[_0x956902(0x5d6)]);}finally{const _0x4ad0d9=document[_0x956902(0x3ee)](_0x956902(0x5a3));if(_0x4ad0d9)_0x4ad0d9[_0x956902(0x3cc)]();_0x336d9a[_0x956902(0x639)][_0x956902(0x3cc)](_0x956902(0x3f2));}}async function handleGenerateParallelTest(){const _0x4341ee=_0x248128,_0x16abfa=document[_0x4341ee(0x3ee)](_0x4341ee(0x908)),_0x258d81=_0x16abfa[_0x4341ee(0x195)][0x0];if(!_0x258d81){showMessage(_0x4341ee(0x528));return;}const _0x3f6dc8=document[_0x4341ee(0x3ee)]('loader'),_0x47a644=document[_0x4341ee(0x3ee)](_0x4341ee(0x62e)),_0x255f6a=document['getElementById'](_0x4341ee(0x175)),_0xc75b19=document[_0x4341ee(0x3ee)](_0x4341ee(0x410));_0xc75b19[_0x4341ee(0x566)]=!![],document['getElementById'](_0x4341ee(0x377))['classList']['remove'](_0x4341ee(0x3f2)),_0x255f6a[_0x4341ee(0x58a)]='',_0x3f6dc8[_0x4341ee(0x639)][_0x4341ee(0x3cc)](_0x4341ee(0x3f2)),_0x47a644[_0x4341ee(0x540)]=_0x4341ee(0x677);try{const _0x3c2ee8=await extractTextFromPdf(_0x258d81);if(!_0x3c2ee8[_0x4341ee(0x6b7)]())throw new Error(_0x4341ee(0x475));_0x47a644[_0x4341ee(0x540)]=_0x4341ee(0x28e);const _0x14d8c1=document[_0x4341ee(0x3ee)](_0x4341ee(0x85b))[_0x4341ee(0x39a)],_0xdf36a5=_0x14d8c1?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x250361=_0x4341ee(0x3da)+_0x3c2ee8+_0x4341ee(0x836)+_0xdf36a5+_0x4341ee(0x369)+simpleMathPrompt+_0x4341ee(0x227),_0x27038c={'type':'OBJECT','properties':{'questionText':{'type':_0x4341ee(0x77e)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x4341ee(0x660)]},'options':{'type':_0x4341ee(0x15b),'items':{'type':_0x4341ee(0x77e)}},'correctAnswerIndex':{'type':_0x4341ee(0x7aa)},'idealAnswer':{'type':_0x4341ee(0x77e)},'explanation':{'type':_0x4341ee(0x77e)},'imageCode':{'type':_0x4341ee(0x77e)}},'required':[_0x4341ee(0x830),_0x4341ee(0x59f),_0x4341ee(0x205)]},_0x47a7d2={'type':_0x4341ee(0x7e1),'properties':{'topic':{'type':_0x4341ee(0x77e)},'questions':{'type':_0x4341ee(0x15b),'items':_0x27038c}},'required':['topic',_0x4341ee(0x598)]};await handleApiCall(_0x250361,_0x4341ee(0x7db),_0x47a7d2);}catch(_0x32adb0){console[_0x4341ee(0x56c)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x32adb0),showMessage(_0x4341ee(0x3a1)+_0x32adb0[_0x4341ee(0x5d6)]),_0x255f6a[_0x4341ee(0x58a)]=_0x4341ee(0x417);}finally{_0x3f6dc8[_0x4341ee(0x639)][_0x4341ee(0x87d)](_0x4341ee(0x3f2)),_0xc75b19['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x3e50b0){const _0x47d13e=_0x248128;if(currentEditingQuizData===null)return;const _0x712a60=document[_0x47d13e(0x828)](_0x47d13e(0x3a3)+_0x3e50b0+'\x22]');_0x712a60&&(_0x712a60['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x19ce9b=currentEditingQuizData[_0x47d13e(0x598)][_0x3e50b0],_0x52de99=currentEditingQuizData[_0x47d13e(0x7f3)],_0x4e7cbb=_0x19ce9b[_0x47d13e(0x59f)],_0x59d58f={'type':'OBJECT','properties':{'questionText':{'type':_0x47d13e(0x77e)},'options':{'type':_0x47d13e(0x15b),'items':{'type':_0x47d13e(0x77e)}},'correctAnswerIndex':{'type':_0x47d13e(0x7aa)},'explanation':{'type':_0x47d13e(0x77e)}},'required':[_0x47d13e(0x830),_0x47d13e(0x5b6),_0x47d13e(0x553),'explanation']},_0x12a9bb={'type':_0x47d13e(0x7e1),'properties':{'questionText':{'type':_0x47d13e(0x77e)},'idealAnswer':{'type':_0x47d13e(0x77e)},'explanation':{'type':_0x47d13e(0x77e)}},'required':[_0x47d13e(0x830),'idealAnswer',_0x47d13e(0x205)]};let _0x3e1c3b,_0x1be363='';_0x4e7cbb===_0x47d13e(0x88b)?(_0x3e1c3b=_0x59d58f,_0x1be363=_0x47d13e(0x8a1)):(_0x3e1c3b=_0x12a9bb,_0x1be363=_0x47d13e(0x127));const _0x5a70ef=_0x47d13e(0x47a)+_0x52de99+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x1be363+_0x47d13e(0x367)+(_0x19ce9b['questionText']||_0x19ce9b[_0x47d13e(0x4c2)])+_0x47d13e(0x1b7)+simpleMathPrompt;try{const _0xa10982=await callAnalysisApi(_0x5a70ef,_0x3e1c3b);currentEditingQuizData['questions'][_0x3e50b0]={..._0x19ce9b,..._0xa10982},renderQuizEditor(currentEditingQuizData);}catch(_0x4498b8){console['error'](_0x47d13e(0x505),_0x4498b8),showMessage(_0x47d13e(0x4ea)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5e4279=_0x248128,_0x361b0b=document[_0x5e4279(0x3ee)](_0x5e4279(0x27d));currentMode===_0x5e4279(0x757)?(currentMode=_0x5e4279(0x517),_0x361b0b[_0x5e4279(0x58a)]=_0x5e4279(0x4c8),_0x361b0b[_0x5e4279(0x1d5)]=_0x5e4279(0x3a4),showView(_0x5e4279(0x4e2))):(currentMode=_0x5e4279(0x757),_0x361b0b[_0x5e4279(0x58a)]=_0x5e4279(0x253),_0x361b0b[_0x5e4279(0x1d5)]='สลับไปโหมดผู้ควบคุม',showView(_0x5e4279(0x757)));}function handleAdminLogin(){const _0xffdf63=_0x248128,_0x46682f=document['getElementById'](_0xffdf63(0x34a)),_0x524b3f=document[_0xffdf63(0x3ee)](_0xffdf63(0x748));if(_0x46682f[_0xffdf63(0x635)]==='27411472'){adminPasswordModal[_0xffdf63(0x639)][_0xffdf63(0x87d)](_0xffdf63(0x3f2)),_0x46682f[_0xffdf63(0x635)]='',_0x524b3f['classList']['add'](_0xffdf63(0x3f2)),currentMode=_0xffdf63(0x517);const _0x18538e=document['getElementById'](_0xffdf63(0x27d));_0x18538e[_0xffdf63(0x58a)]=_0xffdf63(0x4c8),_0x18538e['title']='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x524b3f[_0xffdf63(0x639)][_0xffdf63(0x3cc)](_0xffdf63(0x3f2)),_0x46682f[_0xffdf63(0x635)]='';}function switchProjectTab(_0x5a8a0e){const _0x31ba7a=_0x248128;[_0x31ba7a(0x163),_0x31ba7a(0x3d7),'leaderboard'][_0x31ba7a(0x762)](_0x22a1b1=>{const _0x1677e0=_0x31ba7a;document[_0x1677e0(0x3ee)](_0x22a1b1+_0x1677e0(0x2fb))[_0x1677e0(0x639)][_0x1677e0(0x3cc)]('active'),document['getElementById'](_0x22a1b1+_0x1677e0(0x6d1))[_0x1677e0(0x639)][_0x1677e0(0x87d)](_0x1677e0(0x3f2));}),document[_0x31ba7a(0x3ee)](_0x5a8a0e+_0x31ba7a(0x2fb))[_0x31ba7a(0x639)]['add'](_0x31ba7a(0x6b4)),document['getElementById'](_0x5a8a0e+_0x31ba7a(0x6d1))[_0x31ba7a(0x639)][_0x31ba7a(0x3cc)](_0x31ba7a(0x3f2));}function switchQuizDetailTab(_0x408438){const _0x3aba74=_0x248128,_0x5c4f41={'analytics':{'btn':_0x3aba74(0x71c),'content':_0x3aba74(0x213)},'scores':{'btn':_0x3aba74(0x25c),'content':_0x3aba74(0x3ad)},'leaderboard-quiz':{'btn':_0x3aba74(0x403),'content':_0x3aba74(0x7d9)},'behavior-log':{'btn':'behavior-log-tab-btn','content':'behavior-log-tab-content'}};for(const _0x568f3d in _0x5c4f41){document[_0x3aba74(0x3ee)](_0x5c4f41[_0x568f3d][_0x3aba74(0x350)])[_0x3aba74(0x639)][_0x3aba74(0x3cc)](_0x3aba74(0x6b4)),document[_0x3aba74(0x3ee)](_0x5c4f41[_0x568f3d][_0x3aba74(0x6e9)])[_0x3aba74(0x639)][_0x3aba74(0x87d)](_0x3aba74(0x3f2));}document[_0x3aba74(0x3ee)](_0x5c4f41[_0x408438][_0x3aba74(0x350)])['classList'][_0x3aba74(0x87d)](_0x3aba74(0x6b4)),document[_0x3aba74(0x3ee)](_0x5c4f41[_0x408438][_0x3aba74(0x6e9)])[_0x3aba74(0x639)][_0x3aba74(0x3cc)](_0x3aba74(0x3f2));}function showMessage(_0x5a52dd,_0x23568a=null){const _0x3ed429=_0x248128;modalMessage[_0x3ed429(0x540)]=_0x5a52dd,modalConfirmAction=_0x23568a,messageModal['classList']['remove'](_0x3ed429(0x3f2));}function showConfirmation(_0x53ffde,_0x267784){const _0x1a8008=_0x248128;document[_0x1a8008(0x3ee)]('confirmation-message')[_0x1a8008(0x540)]=_0x53ffde,document[_0x1a8008(0x3ee)](_0x1a8008(0x808))[_0x1a8008(0x828)]('h3')[_0x1a8008(0x540)]='ยืนยันการกระทำ',confirmAction=_0x267784,confirmationModal[_0x1a8008(0x639)][_0x1a8008(0x3cc)](_0x1a8008(0x3f2));}function listenForProjects(){const _0x437e5b=_0x248128,_0x27e6ef=doc(db,_0x437e5b(0x907),_0x437e5b(0x652));onSnapshot(_0x27e6ef,_0xa378e9=>{const _0x38311d=_0x437e5b;if(_0xa378e9['exists']()){const _0x58f85d=_0xa378e9[_0x38311d(0x45b)]();globalDashboardSettings[_0x38311d(0x3b1)]=_0x58f85d[_0x38311d(0x3b1)]||_0x38311d(0x5e8),globalDashboardSettings[_0x38311d(0x246)]=_0x58f85d[_0x38311d(0x246)]||[],globalDashboardSettings[_0x38311d(0x6a3)]=_0x58f85d[_0x38311d(0x6a3)]||[];}allProjects[_0x38311d(0x888)]>0x0&&renderProjects();});const _0x2961ec=collection(db,_0x437e5b(0x243)+appId+_0x437e5b(0x964));unsubscribeProjectsListener=onSnapshot(_0x2961ec,_0x43c6f2=>{const _0x38123d=_0x437e5b;allProjects=_0x43c6f2[_0x38123d(0x654)][_0x38123d(0x336)](_0x468659=>({'id':_0x468659['id'],..._0x468659[_0x38123d(0x45b)]()})),renderProjects();},_0xaebed5=>{const _0x5580e6=_0x437e5b;console[_0x5580e6(0x56c)](_0x5580e6(0x3b0),_0xaebed5),showMessage(_0x5580e6(0x902));});}function showColorPalette(_0x987107,_0x42b455){const _0x1e5f86=_0x248128;document['querySelectorAll'](_0x1e5f86(0x48e))[_0x1e5f86(0x762)](_0x4ffbf3=>_0x4ffbf3[_0x1e5f86(0x3cc)]());const _0xa3e323=['#FFFFFF',_0x1e5f86(0x627),'#FEF3C7','#D1FAE5',_0x1e5f86(0x946),_0x1e5f86(0x418),_0x1e5f86(0x8ff),_0x1e5f86(0x699),'#E5E7EB'],_0x49992b=document[_0x1e5f86(0x3b2)]('div');_0x49992b['className']=_0x1e5f86(0x6d2),_0xa3e323[_0x1e5f86(0x762)](_0x31848=>{const _0x5e6bb5=_0x1e5f86,_0xb25db6=document['createElement'](_0x5e6bb5(0x847));_0xb25db6[_0x5e6bb5(0x876)]=_0x5e6bb5(0x90b),_0xb25db6[_0x5e6bb5(0x259)][_0x5e6bb5(0x8e3)]=_0x31848,_0xb25db6[_0x5e6bb5(0x631)](_0x5e6bb5(0x493),()=>{const _0x1ccce9=_0x5e6bb5;handleProjectColorChange(_0x42b455,_0x31848),_0x49992b[_0x1ccce9(0x3cc)]();}),_0x49992b[_0x5e6bb5(0x2a8)](_0xb25db6);}),document[_0x1e5f86(0x3b6)]['appendChild'](_0x49992b);const _0x35410f=_0x987107['getBoundingClientRect']();_0x49992b[_0x1e5f86(0x259)]['top']=_0x35410f[_0x1e5f86(0x3cd)]+window[_0x1e5f86(0x318)]+'px',_0x49992b[_0x1e5f86(0x259)][_0x1e5f86(0x3c7)]=_0x35410f[_0x1e5f86(0x3c7)]+window[_0x1e5f86(0x6f7)]-_0x49992b[_0x1e5f86(0x3f9)]/0x2+'px';}async function handleProjectColorChange(_0x486a61,_0x548fb6){const _0x473faa=_0x248128,_0x2bce72=doc(db,_0x473faa(0x243)+appId+_0x473faa(0x964),_0x486a61);try{await updateDoc(_0x2bce72,{'color':_0x548fb6});}catch(_0x2df72e){console[_0x473faa(0x56c)](_0x473faa(0x352),_0x2df72e),showMessage(_0x473faa(0x2c2));}}async function renderProjects(){const _0x346d66=_0x248128,_0x9369e8=globalDashboardSettings['projectSort']||_0x346d66(0x5e8),_0x1311f2=new Set(globalDashboardSettings[_0x346d66(0x246)]||[]),_0x528f02=globalDashboardSettings['projectView']||_0x346d66(0x131),_0x3bf3e6=document[_0x346d66(0x3ee)](_0x346d66(0x487)),_0x37ca5a=document[_0x346d66(0x3ee)](_0x346d66(0x271));_0x3bf3e6['classList'][_0x346d66(0x854)]('active',_0x528f02===_0x346d66(0x131)),_0x37ca5a[_0x346d66(0x639)][_0x346d66(0x854)](_0x346d66(0x6b4),_0x528f02===_0x346d66(0x44d)),document[_0x346d66(0x3ee)](_0x346d66(0x909))[_0x346d66(0x635)]=_0x9369e8;const _0x55bf6d=document[_0x346d66(0x3ee)]('project-search-input')[_0x346d66(0x635)][_0x346d66(0x577)]();let _0x5360b3=allProjects[_0x346d66(0x305)](_0x5456f1=>_0x5456f1[_0x346d66(0x86f)][_0x346d66(0x577)]()[_0x346d66(0x8b4)](_0x55bf6d));const _0x4b6f57=_0x5360b3[_0x346d66(0x305)](_0xff554d=>_0x1311f2[_0x346d66(0x392)](_0xff554d['id'])),_0x5749fc=_0x5360b3[_0x346d66(0x305)](_0x48dba3=>!_0x1311f2[_0x346d66(0x392)](_0x48dba3['id'])),_0xd27b6e=(_0x5752b6,_0x474367)=>{const _0x59c277=_0x346d66;switch(_0x9369e8){case _0x59c277(0x35a):return _0x5752b6['projectName'][_0x59c277(0x702)](_0x474367[_0x59c277(0x86f)],'th');case _0x59c277(0x4c7):return _0x474367[_0x59c277(0x86f)][_0x59c277(0x702)](_0x5752b6[_0x59c277(0x86f)],'th');case _0x59c277(0x409):return new Date(_0x5752b6[_0x59c277(0x46c)])-new Date(_0x474367[_0x59c277(0x46c)]);default:return new Date(_0x474367[_0x59c277(0x46c)])-new Date(_0x5752b6[_0x59c277(0x46c)]);}};_0x4b6f57[_0x346d66(0x81a)](_0xd27b6e),_0x5749fc[_0x346d66(0x81a)](_0xd27b6e);const _0x219916=[..._0x4b6f57,..._0x5749fc],_0x598291=globalDashboardSettings[_0x346d66(0x6a3)]||[];_0x598291[_0x346d66(0x888)]>0x0&&_0x528f02===_0x346d66(0x131)&&_0x219916['sort']((_0x319aac,_0x5ca1c1)=>{const _0x27f046=_0x346d66,_0xacb792=_0x598291[_0x27f046(0x76e)](_0x319aac['id']),_0x5591ce=_0x598291['indexOf'](_0x5ca1c1['id']);if(_0xacb792===-0x1)return 0x1;if(_0x5591ce===-0x1)return-0x1;return _0xacb792-_0x5591ce;});const _0xa143ef={};await Promise['all'](_0x219916['map'](async _0x239bf1=>{const _0x2ca498=_0x346d66,_0x1d3187=query(collection(db,_0x2ca498(0x243)+appId+_0x2ca498(0x495)),where(_0x2ca498(0x4a0),'==',_0x239bf1['id'])),_0x5e6087=await getDocs(_0x1d3187);_0xa143ef[_0x239bf1['id']]=_0x5e6087[_0x2ca498(0x27b)];}));const _0x427eb5=document[_0x346d66(0x3ee)]('project-list');let _0x5bad40='';if(_0x528f02===_0x346d66(0x131)){_0x427eb5[_0x346d66(0x876)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x346d66(0x888)]>0x0&&_0x55bf6d===''){const _0x3dcd4c=starredQuizzes[_0x346d66(0x336)](_0x51e4a7=>{const _0x423b27=_0x346d66,_0x358254=allProjects['find'](_0x388ffb=>_0x388ffb['id']===_0x51e4a7[_0x423b27(0x4a0)]);return{..._0x51e4a7,'projectName':_0x358254?_0x358254[_0x423b27(0x86f)]:_0x423b27(0x905)};});_0x5bad40+=_0x346d66(0x82e)+_0x3dcd4c[_0x346d66(0x336)](_0x1e25db=>_0x346d66(0x50a)+_0x1e25db[_0x346d66(0x7f3)]+'\x22>'+_0x1e25db[_0x346d66(0x7f3)]+_0x346d66(0x535)+_0x1e25db[_0x346d66(0x86f)]+_0x346d66(0x1d9)+_0x1e25db[_0x346d66(0x86f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x346d66(0x375)]('')+_0x346d66(0x161)+starredQuizzes[_0x346d66(0x888)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x219916[_0x346d66(0x762)](_0x36b169=>{const _0x33c249=_0x346d66,_0x1816c9=_0xa143ef[_0x36b169['id']]??0x0,_0x391406=_0x1311f2[_0x33c249(0x392)](_0x36b169['id']),_0x1c8bd6=_0x36b169[_0x33c249(0x30f)]||_0x33c249(0x196),_0x30aace=parseInt(_0x1c8bd6[_0x33c249(0x294)](0x1,0x3),0x10)*0.299+parseInt(_0x1c8bd6[_0x33c249(0x294)](0x3,0x5),0x10)*0.587+parseInt(_0x1c8bd6[_0x33c249(0x294)](0x5,0x7),0x10)*0.114<0xba,_0xc74710=_0x30aace?_0x33c249(0x832):'text-indigo-800',_0x4dce4d=_0x30aace?_0x33c249(0x54a):_0x33c249(0x190);_0x5bad40+=_0x33c249(0x298)+(_0x391406?_0x33c249(0x42d):_0x33c249(0x69a))+_0x33c249(0x820)+_0x1c8bd6+_0x33c249(0x50c)+_0x36b169['id']+_0x33c249(0x775)+_0x36b169['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x30aace?_0x33c249(0x791):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x36b169['id']+_0x33c249(0x3df)+(_0x30aace?_0x33c249(0x791):_0x33c249(0x1f3))+_0x33c249(0x34b)+(_0x391406?_0x30aace?_0x33c249(0x6dd):_0x33c249(0x3ac):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x36b169['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0xc74710+'\x20pointer-events-none\x22>'+_0x36b169[_0x33c249(0x86f)]+_0x33c249(0x578)+_0x4dce4d+_0x33c249(0x14a)+new Date(_0x36b169[_0x33c249(0x46c)])[_0x33c249(0x434)]('th-TH')+_0x33c249(0x4a7)+(_0x30aace?_0x33c249(0x943):_0x33c249(0x602))+_0x33c249(0x93a)+_0x1816c9+_0x33c249(0x242)+_0x36b169['id']+_0x33c249(0x312)+_0x36b169['projectName']+_0x33c249(0x3a5)+(_0x30aace?_0x33c249(0x8c6):_0x33c249(0x149))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x427eb5[_0x346d66(0x876)]=_0x346d66(0x519),starredQuizzes['length']>0x0&&_0x55bf6d===''&&(_0x5bad40+=_0x346d66(0x8de)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x5bad40+=_0x346d66(0x310),_0x219916[_0x346d66(0x762)](_0x839e64=>{const _0x4c87f8=_0x346d66,_0x4ec618=_0xa143ef[_0x839e64['id']]??0x0,_0x38249f=_0x1311f2['has'](_0x839e64['id']);_0x5bad40+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x839e64[_0x4c87f8(0x30f)]||_0x4c87f8(0x952))+_0x4c87f8(0x75b)+_0x839e64['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x839e64[_0x4c87f8(0x86f)]+_0x4c87f8(0x7ad)+_0x4ec618+_0x4c87f8(0x230)+new Date(_0x839e64[_0x4c87f8(0x46c)])[_0x4c87f8(0x6ba)]('th-TH')+_0x4c87f8(0x740)+_0x839e64['id']+_0x4c87f8(0x67b)+(_0x38249f?_0x4c87f8(0x3ac):'')+_0x4c87f8(0x33f)+_0x839e64['id']+'\x22\x20data-name=\x22'+_0x839e64['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x346d66(0x58a)]=_0x5bad40,noProjectsMsg[_0x346d66(0x639)][_0x346d66(0x854)]('hidden',_0x5bad40['length']>0x0);}document[_0x248128(0x3ee)](_0x248128(0x2eb))['addEventListener'](_0x248128(0x493),async()=>{const _0x880848=_0x248128,_0xf36540=document[_0x880848(0x3ee)]('project-name-input'),_0x4c7b1=_0xf36540[_0x880848(0x635)][_0x880848(0x6b7)]();if(!_0x4c7b1){showMessage(_0x880848(0x7ec));return;}try{const _0x4f2576=doc(collection(db,_0x880848(0x243)+appId+'/public/data/projects'));await setDoc(_0x4f2576,{'projectName':_0x4c7b1,'students':[],'settings':{'resultsDisplay':_0x880848(0x823),'shuffleSetting':_0x880848(0x51e),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x880848(0x51e),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x880848(0x2ad)]()}),_0xf36540[_0x880848(0x635)]='',createProjectModal['classList'][_0x880848(0x87d)]('hidden'),showMessage(_0x880848(0x6d7));}catch(_0x3dec1e){console['error'](_0x880848(0x24b),_0x3dec1e),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x248128(0x631)]('click',async _0x5960aa=>{const _0x30deae=_0x248128,_0x2da2a6=_0x5960aa[_0x30deae(0x21b)][_0x30deae(0x918)](_0x30deae(0x4f0)),_0x53ab65=_0x5960aa[_0x30deae(0x21b)]['closest']('.delete-project-btn'),_0x4a28ca=_0x5960aa[_0x30deae(0x21b)][_0x30deae(0x918)](_0x30deae(0x8dc)),_0x41d530=_0x5960aa['target']['closest'](_0x30deae(0x470));if(_0x4a28ca){const _0x552c48=_0x4a28ca[_0x30deae(0x334)]['id'],_0x3e76e6=doc(db,_0x30deae(0x907),_0x30deae(0x652)),_0x1308f0=globalDashboardSettings[_0x30deae(0x246)];let _0x3214e2;_0x1308f0[_0x30deae(0x8b4)](_0x552c48)?_0x3214e2=_0x1308f0['filter'](_0xd4e809=>_0xd4e809!==_0x552c48):_0x3214e2=[..._0x1308f0,_0x552c48];try{await setDoc(_0x3e76e6,{'pinnedProjects':_0x3214e2},{'merge':!![]});}catch(_0x4fdc93){console[_0x30deae(0x56c)](_0x30deae(0x49e),_0x4fdc93),showMessage(_0x30deae(0x2fa));}}else{if(_0x41d530){const _0x85399f=_0x41d530[_0x30deae(0x334)]['id'];showColorPalette(_0x41d530,_0x85399f);}else{if(_0x2da2a6){const _0x2b8b56=_0x2da2a6[_0x30deae(0x334)]['id'];_0x2b8b56===_0x30deae(0x60d)?showStarredProjectView():(currentProjectId=_0x2b8b56,await loadProjectDetails(currentProjectId),showView(_0x30deae(0x878)));}else{if(_0x53ab65){const _0x5f4a79=_0x53ab65[_0x30deae(0x334)]['id'],_0x4c209d=_0x53ab65[_0x30deae(0x334)]['name'];showConfirmation(_0x30deae(0x672)+_0x4c209d+_0x30deae(0x68e),()=>handleDeleteProject(_0x5f4a79));}}}}}),projectList[_0x248128(0x631)](_0x248128(0x579),_0x6685c6=>{const _0x570b60=_0x248128,_0x58a30f=_0x6685c6['target']['closest'](_0x570b60(0x658));_0x58a30f&&_0x58a30f[_0x570b60(0x639)][_0x570b60(0x87d)]('opacity-50');}),projectList['addEventListener'](_0x248128(0x620),_0x31faa6=>{const _0x4c1562=_0x248128,_0x37555d=_0x31faa6[_0x4c1562(0x21b)][_0x4c1562(0x918)](_0x4c1562(0x658));_0x37555d&&_0x37555d[_0x4c1562(0x639)][_0x4c1562(0x3cc)](_0x4c1562(0x1e3));}),projectList[_0x248128(0x631)]('dragover',_0x5e1898=>{const _0x370ac5=_0x248128;_0x5e1898['preventDefault']();const _0x5a1452=document[_0x370ac5(0x828)]('.project-card-container.opacity-50');if(!_0x5a1452)return;const _0x56b1df=getDragAfterElement(projectList,_0x5e1898[_0x370ac5(0x1fe)]);_0x56b1df==null?projectList[_0x370ac5(0x2a8)](_0x5a1452):projectList[_0x370ac5(0x95a)](_0x5a1452,_0x56b1df);}),projectList[_0x248128(0x631)](_0x248128(0x50d),_0x564af7=>{const _0x41d778=_0x248128;_0x564af7[_0x41d778(0x7bd)]();const _0x2cc867=[...projectList[_0x41d778(0x8e0)](_0x41d778(0x8ac))][_0x41d778(0x336)](_0x4e3814=>_0x4e3814['dataset']['id']);saveProjectOrder(_0x2cc867);});function renderBehaviorLog(_0x371f69){const _0x1d5a84=_0x248128,_0x3711d2=document[_0x1d5a84(0x3ee)](_0x1d5a84(0x589));if(!_0x3711d2)return;const _0x315caf=_0x371f69[_0x1d5a84(0x305)](_0x2be0ac=>_0x2be0ac[_0x1d5a84(0x448)]&&_0x2be0ac[_0x1d5a84(0x448)][_0x1d5a84(0x888)]>0x0);if(_0x315caf[_0x1d5a84(0x888)]===0x0){_0x3711d2[_0x1d5a84(0x58a)]=_0x1d5a84(0x53b);return;}let _0xfa0161='';_0x315caf['forEach'](_0x324604=>{const _0x4e06cf=_0x1d5a84;_0xfa0161+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x324604[_0x4e06cf(0x8d1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x324604[_0x4e06cf(0x448)][_0x4e06cf(0x81a)]((_0xb1d033,_0x954063)=>new Date(_0x954063[_0x4e06cf(0x6aa)])-new Date(_0xb1d033[_0x4e06cf(0x6aa)]))[_0x4e06cf(0x762)](_0xceac65=>{const _0x4652e9=_0x4e06cf,_0x663425=new Date(_0xceac65['timestamp'])[_0x4652e9(0x6ba)](_0x4652e9(0x224),{'dateStyle':'short','timeStyle':_0x4652e9(0x88a)});_0xfa0161+=_0x4652e9(0x52e)+_0xceac65[_0x4652e9(0x398)]+_0x4652e9(0x485)+_0x663425+_0x4652e9(0x4ff);}),_0xfa0161+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3711d2[_0x1d5a84(0x58a)]=_0xfa0161;}function getDragAfterElement(_0x45c9f7,_0x29fa49){const _0x37cec3=_0x248128,_0x451e87=[..._0x45c9f7[_0x37cec3(0x8e0)](_0x37cec3(0x84d))];return _0x451e87[_0x37cec3(0x494)]((_0x4ba0e5,_0x4f7484)=>{const _0x1334dc=_0x37cec3,_0xbd29b=_0x4f7484[_0x1334dc(0x31b)](),_0x52fae8=_0x29fa49-_0xbd29b[_0x1334dc(0x62d)]-_0xbd29b['height']/0x2;return _0x52fae8<0x0&&_0x52fae8>_0x4ba0e5[_0x1334dc(0x6f6)]?{'offset':_0x52fae8,'element':_0x4f7484}:_0x4ba0e5;},{'offset':Number[_0x37cec3(0x4ca)]})[_0x37cec3(0x75a)];}async function saveProjectOrder(_0x40048e){const _0x45c780=_0x248128,_0x10d437=doc(db,_0x45c780(0x907),_0x45c780(0x652));try{await setDoc(_0x10d437,{'projectOrder':_0x40048e},{'merge':!![]});}catch(_0x5a82a4){console['error'](_0x45c780(0x92f),_0x5a82a4),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x47d853,_0x473081={}){const _0x39851a=_0x248128;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x39851a(0x138)](_0x39851a(0x264));return;}const _0x4b5ded=doc(db,_0x39851a(0x243)+appId+_0x39851a(0x844)+currentQuizData['id']+_0x39851a(0x338),currentStudentName),_0x13cc62={'event':_0x47d853,'timestamp':new Date()['toISOString'](),..._0x473081};try{await updateDoc(_0x4b5ded,{'behaviorLog':arrayUnion(_0x13cc62)}),console['log'](_0x39851a(0x8f9)+currentStudentName+_0x39851a(0x798));}catch(_0x233964){_0x233964[_0x39851a(0x33a)]==='not-found'?console[_0x39851a(0x138)](_0x39851a(0x441)+currentStudentName+_0x39851a(0x8c1)):console[_0x39851a(0x56c)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x233964);}}function calculateMeanAndStdDev(_0xf6205e){const _0x36c463=_0x248128;if(_0xf6205e['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2701dc=_0xf6205e[_0x36c463(0x494)]((_0x46bf1d,_0x2d4da0)=>_0x46bf1d+_0x2d4da0,0x0)/_0xf6205e[_0x36c463(0x888)];if(_0xf6205e[_0x36c463(0x888)]===0x1)return{'mean':_0x2701dc,'stdDev':0x0};const _0x53aefa=Math[_0x36c463(0x413)](_0xf6205e[_0x36c463(0x336)](_0x32aa0a=>Math[_0x36c463(0x2de)](_0x32aa0a-_0x2701dc,0x2))[_0x36c463(0x494)]((_0x5ac216,_0x3b8fc6)=>_0x5ac216+_0x3b8fc6,0x0)/(_0xf6205e[_0x36c463(0x888)]-0x1));return{'mean':_0x2701dc,'stdDev':_0x53aefa};}function calculateZScore(_0x438add,_0x1b6c76,_0x104355){if(_0x104355===0x0)return 0x0;return(_0x438add-_0x1b6c76)/_0x104355;}function calculateTScore(_0x193d87){return 0xa*_0x193d87+0x32;}function showStarredProjectView(){const _0x5243a8=_0x248128;currentProjectId='starred',currentProjectData=null,projectTitle[_0x5243a8(0x540)]=_0x5243a8(0x347),projectIdDisplay[_0x5243a8(0x540)]=_0x5243a8(0x316),showView(_0x5243a8(0x878)),manageTab[_0x5243a8(0x639)][_0x5243a8(0x87d)](_0x5243a8(0x3f2)),leaderboardTab[_0x5243a8(0x639)][_0x5243a8(0x87d)]('hidden'),switchProjectTab(_0x5243a8(0x3d7)),renderQuizzes();}async function loadProjectDetails(_0x35a771){const _0x4ec93b=_0x248128,_0x1de362=doc(db,'artifacts/'+appId+'/public/data/projects',_0x35a771),_0x1aec19=await getDoc(_0x1de362);if(_0x1aec19['exists']()){manageTab[_0x4ec93b(0x639)][_0x4ec93b(0x3cc)]('hidden'),leaderboardTab[_0x4ec93b(0x639)][_0x4ec93b(0x3cc)](_0x4ec93b(0x3f2)),currentProjectData=_0x1aec19[_0x4ec93b(0x45b)](),projectTitle[_0x4ec93b(0x540)]=currentProjectData[_0x4ec93b(0x86f)],projectIdDisplay['textContent']=_0x35a771;const _0xf9dbd8=currentProjectData[_0x4ec93b(0x75d)]||{};document[_0x4ec93b(0x3ee)](_0x4ec93b(0x85d))['value']=_0xf9dbd8[_0x4ec93b(0x477)]||_0x4ec93b(0x51e);const _0xc7ff=document[_0x4ec93b(0x3ee)](_0x4ec93b(0x680));_0xc7ff[_0x4ec93b(0x39a)]=_0xf9dbd8['showInStudentDashboard']!==![];const _0x3e0206=document[_0x4ec93b(0x3ee)](_0x4ec93b(0x37a)),_0x55ffe3=document['getElementById'](_0x4ec93b(0x431)),_0x3562b1=document[_0x4ec93b(0x3ee)](_0x4ec93b(0x77f)),_0x54d612=_0xf9dbd8[_0x4ec93b(0x34f)]||![];_0x3e0206['checked']=_0x54d612,_0x3562b1[_0x4ec93b(0x635)]=_0xf9dbd8[_0x4ec93b(0x449)]||'',_0x55ffe3[_0x4ec93b(0x639)][_0x4ec93b(0x854)]('hidden',!_0x54d612),_0x3e0206['onchange']=()=>{const _0x3a7301=_0x4ec93b;_0x55ffe3[_0x3a7301(0x639)][_0x3a7301(0x854)](_0x3a7301(0x3f2),!_0x3e0206[_0x3a7301(0x39a)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x35a771),listenForProjectQuizzes(_0x35a771),listenForStudentProfiles(_0x35a771);}else showMessage(_0x4ec93b(0x2d1)),showView(_0x4ec93b(0x4e2));}async function handleResetProjectOrder(){const _0x31447c=_0x248128,_0x1f09f7=doc(db,_0x31447c(0x907),_0x31447c(0x652));try{await setDoc(_0x1f09f7,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x4e84b9){console[_0x31447c(0x56c)](_0x31447c(0x2dc),_0x4e84b9),showMessage(_0x31447c(0x8bc));}}async function handleTogglePinProject(_0x3723b1){const _0x2f7c63=_0x248128;if(!_0x3723b1)return;const _0x29abee=doc(db,_0x2f7c63(0x243)+appId+'/public/data/projects',_0x3723b1);try{const _0x12fcd4=await getDoc(_0x29abee);if(_0x12fcd4[_0x2f7c63(0x225)]()){const _0x109eb3=_0x12fcd4[_0x2f7c63(0x45b)]()['isPinned']||![];await updateDoc(_0x29abee,{'isPinned':!_0x109eb3});}}catch(_0x39b604){console['error'](_0x2f7c63(0x4cf),_0x39b604),showMessage(_0x2f7c63(0x2fa));}}async function handleDeleteProject(_0x396d41){const _0x373726=_0x248128;try{const _0x4e1667=writeBatch(db),_0x1f3c0c=collection(db,_0x373726(0x243)+appId+_0x373726(0x495)),_0x2ba691=query(_0x1f3c0c,where('projectId','==',_0x396d41)),_0x495798=await getDocs(_0x2ba691);for(const _0x4ba2fe of _0x495798['docs']){const _0x20bc88=collection(db,_0x373726(0x243)+appId+_0x373726(0x844)+_0x4ba2fe['id']+_0x373726(0x338)),_0x2f6423=await getDocs(_0x20bc88);_0x2f6423[_0x373726(0x762)](_0x549b8d=>{const _0x1630b1=_0x373726;_0x4e1667['delete'](_0x549b8d[_0x1630b1(0x67f)]);}),_0x4e1667['delete'](_0x4ba2fe[_0x373726(0x67f)]);}const _0x54ec5c=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x396d41+_0x373726(0x6ee)),_0x9eafe5=await getDocs(_0x54ec5c);_0x9eafe5[_0x373726(0x762)](_0x48fab3=>{const _0x77e633=_0x373726;_0x4e1667['delete'](_0x48fab3[_0x77e633(0x67f)]);});const _0xe9dfc9=doc(db,_0x373726(0x243)+appId+'/public/data/projects',_0x396d41);_0x4e1667['delete'](_0xe9dfc9),await _0x4e1667[_0x373726(0x2b2)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x373726(0x4e2));}catch(_0x3422a3){console['error']('Error\x20deleting\x20project:',_0x3422a3),showMessage(_0x373726(0x437));}}document['getElementById']('save-settings-btn')['addEventListener'](_0x248128(0x493),async()=>{const _0x4fd60d=_0x248128;if(!currentProjectId)return;const _0x28ddfb={'defaultNumQuestions':parseInt(document[_0x4fd60d(0x3ee)](_0x4fd60d(0x7c0))[_0x4fd60d(0x635)]),'defaultNumChoices':parseInt(document[_0x4fd60d(0x3ee)](_0x4fd60d(0x193))['value']),'defaultPassingScore':parseInt(document[_0x4fd60d(0x3ee)]('passing-score-input')[_0x4fd60d(0x635)]),'resultsDisplay':document[_0x4fd60d(0x3ee)]('results-display-select')[_0x4fd60d(0x635)],'shuffleSetting':document[_0x4fd60d(0x3ee)]('shuffle-setting-select')[_0x4fd60d(0x635)],'timerMode':document['getElementById'](_0x4fd60d(0x2bf))[_0x4fd60d(0x635)],'timerDuration':parseInt(document[_0x4fd60d(0x3ee)]('timer-duration-input')[_0x4fd60d(0x635)])};try{const _0x14d756=doc(db,_0x4fd60d(0x243)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x14d756,{'settings':_0x28ddfb}),showMessage(_0x4fd60d(0x6e3));}catch(_0x58c358){console['error'](_0x4fd60d(0x7a0),_0x58c358),showMessage(_0x4fd60d(0x168));}});function listenForStudents(_0x24b611){const _0xea68f5=_0x248128,_0x48c07d=doc(db,_0xea68f5(0x243)+appId+_0xea68f5(0x964),_0x24b611);unsubscribeStudentsListener=onSnapshot(_0x48c07d,_0xd36470=>{const _0x2b5cdd=_0xea68f5;if(_0xd36470[_0x2b5cdd(0x225)]()){const _0x406cfb=_0xd36470[_0x2b5cdd(0x45b)]();currentProjectData=_0x406cfb,renderStudentList(_0x406cfb[_0x2b5cdd(0x790)]||[]);}});}function renderStudentList(_0x388604){const _0x372bdb=_0x248128,_0x507d30=document[_0x372bdb(0x3ee)](_0x372bdb(0x899));_0x388604[_0x372bdb(0x888)]===0x0?(studentList[_0x372bdb(0x58a)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x507d30['classList'][_0x372bdb(0x87d)](_0x372bdb(0x3f2))):(studentList[_0x372bdb(0x58a)]=_0x388604[_0x372bdb(0x336)](_0x5445c1=>_0x372bdb(0x3fe)+_0x5445c1+_0x372bdb(0x739)+_0x5445c1+_0x372bdb(0x1a0))[_0x372bdb(0x375)](''),_0x507d30[_0x372bdb(0x639)]['remove'](_0x372bdb(0x3f2)));}document['getElementById'](_0x248128(0x325))[_0x248128(0x631)](_0x248128(0x493),async()=>{const _0x3eae94=_0x248128;if(!currentProjectId)return;const _0x3a7610=document['getElementById'](_0x3eae94(0x3a9)),_0x3f1afa=_0x3a7610[_0x3eae94(0x635)]['trim']();if(!_0x3f1afa){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x53eb01=_0x3f1afa[_0x3eae94(0x19f)]('\x0a')[_0x3eae94(0x336)](_0xdddff=>_0xdddff['trim']())[_0x3eae94(0x305)](_0x366efd=>_0x366efd);if(_0x53eb01[_0x3eae94(0x888)]===0x0)return;try{const _0x217a89=doc(db,_0x3eae94(0x243)+appId+'/public/data/projects',currentProjectId),_0x14e4eb=await getDoc(_0x217a89);if(_0x14e4eb[_0x3eae94(0x225)]()){const _0x12e78a=_0x14e4eb[_0x3eae94(0x45b)]()[_0x3eae94(0x790)]||[],_0x619912=[...new Set([..._0x12e78a,..._0x53eb01])];await updateDoc(_0x217a89,{'students':_0x619912}),_0x3a7610[_0x3eae94(0x635)]='';}}catch(_0x474594){console[_0x3eae94(0x56c)]('Error\x20adding\x20students:',_0x474594),showMessage(_0x3eae94(0x897));}});async function handleManualQuizPairing(_0x54a4ea){const _0x297bd4=_0x248128,_0xc2a595=document[_0x297bd4(0x3ee)](_0x297bd4(0x7ca)),_0x306734=document[_0x297bd4(0x3ee)](_0x297bd4(0x273)),_0xebc078=_0xc2a595['querySelector']('h3'),_0x49f6a5=document[_0x297bd4(0x3ee)](_0x297bd4(0x8cb)),_0x42b512=document[_0x297bd4(0x3ee)](_0x297bd4(0x78c));_0xebc078[_0x297bd4(0x540)]='จับคู่เพื่อเปรียบเทียบผล',_0x306734[_0x297bd4(0x58a)]=_0x297bd4(0x69b),_0x49f6a5[_0x297bd4(0x540)]='ยืนยันการจับคู่',_0xc2a595[_0x297bd4(0x639)][_0x297bd4(0x3cc)]('hidden');const _0x5ded27=allQuizzes[_0x297bd4(0x305)](_0x38a5e0=>_0x38a5e0['id']!==_0x54a4ea);_0x5ded27[_0x297bd4(0x888)]===0x0?(_0x306734[_0x297bd4(0x58a)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x49f6a5[_0x297bd4(0x566)]=!![]):(_0x306734[_0x297bd4(0x58a)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x5ded27[_0x297bd4(0x336)](_0x1e2692=>_0x297bd4(0x469)+_0x1e2692['id']+'\x22>'+_0x1e2692[_0x297bd4(0x7f3)]+_0x297bd4(0x6cc))[_0x297bd4(0x375)](''),_0x49f6a5[_0x297bd4(0x566)]=![]);const _0x5a063d=async()=>{const _0x15776e=_0x297bd4,_0x4f2e4d=_0x306734[_0x15776e(0x635)];if(!_0x4f2e4d){showMessage(_0x15776e(0x82b));return;}_0x49f6a5[_0x15776e(0x566)]=!![],_0x49f6a5[_0x15776e(0x540)]=_0x15776e(0x46b);try{const _0x53b462=doc(db,_0x15776e(0x243)+appId+_0x15776e(0x495),_0x54a4ea),_0x30b92f=doc(db,_0x15776e(0x243)+appId+_0x15776e(0x495),_0x4f2e4d),_0x47f15a=writeBatch(db);_0x47f15a[_0x15776e(0x56f)](_0x53b462,{'pairedQuizId':_0x4f2e4d}),_0x47f15a[_0x15776e(0x56f)](_0x30b92f,{'pairedQuizId':_0x54a4ea}),await _0x47f15a[_0x15776e(0x2b2)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0xc2a595[_0x15776e(0x639)][_0x15776e(0x87d)](_0x15776e(0x3f2));}catch(_0x3fd71b){console[_0x15776e(0x56c)](_0x15776e(0x6ad),_0x3fd71b),showMessage(_0x15776e(0x55f));}finally{_0xebc078['textContent']=_0x15776e(0x404),_0x49f6a5[_0x15776e(0x540)]='ย้าย',_0x49f6a5[_0x15776e(0x566)]=![],_0x49f6a5[_0x15776e(0x83d)]('click',_0x5a063d),_0x42b512[_0x15776e(0x83d)](_0x15776e(0x493),_0x208558);}},_0x208558=()=>{const _0xc0d3a0=_0x297bd4;_0xc2a595[_0xc0d3a0(0x639)][_0xc0d3a0(0x87d)](_0xc0d3a0(0x3f2)),_0xebc078[_0xc0d3a0(0x540)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x49f6a5[_0xc0d3a0(0x540)]=_0xc0d3a0(0x7e9),_0x49f6a5['removeEventListener'](_0xc0d3a0(0x493),_0x5a063d),_0x42b512[_0xc0d3a0(0x83d)]('click',_0x208558);};_0x49f6a5[_0x297bd4(0x631)](_0x297bd4(0x493),_0x5a063d),_0x42b512[_0x297bd4(0x631)](_0x297bd4(0x493),_0x208558);}function handleDeleteStudent(_0x57ba5c){const _0x5ba482=_0x248128;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x57ba5c+_0x5ba482(0x920),async()=>{const _0x14636b=_0x5ba482;if(!currentProjectId||!currentProjectData)return;const _0x4246f0=currentProjectData[_0x14636b(0x790)]['filter'](_0x2f9396=>_0x2f9396!==_0x57ba5c);try{const _0x25404c=doc(db,_0x14636b(0x243)+appId+_0x14636b(0x964),currentProjectId),_0x5a2dd9=doc(db,_0x14636b(0x243)+appId+_0x14636b(0x758)+currentProjectId+_0x14636b(0x6ee),_0x57ba5c),_0x527db0=writeBatch(db);_0x527db0[_0x14636b(0x56f)](_0x25404c,{'students':_0x4246f0}),_0x527db0[_0x14636b(0x16a)](_0x5a2dd9),await _0x527db0[_0x14636b(0x2b2)]();}catch(_0x33f6db){console['error'](_0x14636b(0x72b),_0x33f6db),showMessage(_0x14636b(0x2e7));}});}function handleDeleteAllStudents(){const _0x374ec3=_0x248128;showConfirmation(_0x374ec3(0x181),async()=>{const _0x5b3963=_0x374ec3;if(!currentProjectId)return;try{const _0x33e9a8=doc(db,_0x5b3963(0x243)+appId+_0x5b3963(0x964),currentProjectId),_0x4efa29=collection(db,'artifacts/'+appId+_0x5b3963(0x758)+currentProjectId+_0x5b3963(0x6ee)),_0x2001f6=await getDocs(_0x4efa29),_0x434e5b=writeBatch(db);_0x434e5b[_0x5b3963(0x56f)](_0x33e9a8,{'students':[]}),_0x2001f6[_0x5b3963(0x762)](_0x2e637c=>_0x434e5b['delete'](_0x2e637c[_0x5b3963(0x67f)])),await _0x434e5b[_0x5b3963(0x2b2)]();}catch(_0x43ccbb){console['error'](_0x5b3963(0x61d),_0x43ccbb),showMessage(_0x5b3963(0x2a4));}});}async function handleGenerateFromFileClick(){const _0x3e0a36=_0x248128;if(!selectedFile){showMessage(_0x3e0a36(0x7d5));return;}const _0x12bbce=document['getElementById'](_0x3e0a36(0x596)),_0x35d7bd=document['getElementById']('loader-text'),_0x38dca0=document['getElementById'](_0x3e0a36(0x175)),_0x3cd617=document[_0x3e0a36(0x3ee)](_0x3e0a36(0x55b));_0x3cd617[_0x3e0a36(0x566)]=!![],document[_0x3e0a36(0x3ee)](_0x3e0a36(0x377))[_0x3e0a36(0x639)][_0x3e0a36(0x3cc)](_0x3e0a36(0x3f2)),_0x38dca0[_0x3e0a36(0x58a)]='',_0x12bbce['classList'][_0x3e0a36(0x3cc)](_0x3e0a36(0x3f2)),_0x35d7bd['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x23f00d=new FileReader();_0x23f00d[_0x3e0a36(0x880)](selectedFile),_0x23f00d['onload']=async()=>{const _0x35aaf2=_0x3e0a36;try{const _0x562956=_0x23f00d[_0x35aaf2(0x35b)][_0x35aaf2(0x19f)](',')[0x1],_0x376cff=selectedFile[_0x35aaf2(0x930)];await generateQuizFromFile(_0x376cff,_0x562956);}catch(_0x19f7e4){console[_0x35aaf2(0x56c)](_0x35aaf2(0x621),_0x19f7e4),showMessage(_0x35aaf2(0x452)+_0x19f7e4[_0x35aaf2(0x5d6)]),_0x12bbce[_0x35aaf2(0x639)][_0x35aaf2(0x87d)]('hidden');}finally{}},_0x23f00d['onerror']=_0x4ad72b=>{const _0x57cdee=_0x3e0a36;console[_0x57cdee(0x56c)](_0x57cdee(0x79c),_0x4ad72b),showMessage(_0x57cdee(0x5fc)),_0x12bbce[_0x57cdee(0x639)]['add']('hidden'),_0x3cd617[_0x57cdee(0x566)]=![];};}function autoFormatMath(_0x556519){const _0x123777=_0x248128;if(typeof _0x556519!==_0x123777(0x96b)||!_0x556519)return _0x556519;const _0x5512a7=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3360a5=_0x556519['replace'](_0x5512a7,_0x30cfae=>{const _0x15835d=_0x123777;return'$'+_0x30cfae[_0x15835d(0x6b7)]()+'$';});return _0x3360a5;}function sanitizeQuizData(_0x1525f6){const _0x5e03d7=_0x248128;if(!_0x1525f6||!_0x1525f6[_0x5e03d7(0x598)])return _0x1525f6;const _0x89a265={'imes':_0x5e03d7(0x320),'div':_0x5e03d7(0x4be)},_0x494219=_0x5916f3=>{const _0x548015=_0x5e03d7;if(typeof _0x5916f3!==_0x548015(0x96b))return _0x5916f3;let _0x3a5c60=_0x5916f3;for(const [_0xa41d68,_0x45615b]of Object[_0x548015(0x20c)](_0x89a265)){const _0x4db467=new RegExp('\x5cb'+_0xa41d68+'\x5cb','g');_0x3a5c60=_0x3a5c60['replace'](_0x4db467,_0x45615b);}return _0x3a5c60=_0x3a5c60[_0x548015(0x92e)](/\\\//g,_0x548015(0x4be)),_0x3a5c60=_0x3a5c60[_0x548015(0x92e)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x548015(0x92e)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x548015(0x320))[_0x548015(0x92e)](/÷/g,'\x5cdiv')[_0x548015(0x92e)](/×/g,_0x548015(0x320)),_0x3a5c60=_0x3a5c60[_0x548015(0x92e)](/(\d)(\\frac)/g,_0x548015(0x703)),_0x3a5c60=autoFormatMath(_0x3a5c60),_0x3a5c60;};return _0x1525f6[_0x5e03d7(0x7f3)]&&(_0x1525f6[_0x5e03d7(0x7f3)]=_0x494219(_0x1525f6[_0x5e03d7(0x7f3)])),_0x1525f6['questions']['forEach'](_0x407b02=>{const _0x2ab838=_0x5e03d7;_0x407b02[_0x2ab838(0x830)]=_0x494219(_0x407b02[_0x2ab838(0x830)]),_0x407b02[_0x2ab838(0x5b6)]&&(_0x407b02[_0x2ab838(0x5b6)]=_0x407b02[_0x2ab838(0x5b6)][_0x2ab838(0x336)](_0x494219)),_0x407b02['explanation']&&(_0x407b02[_0x2ab838(0x205)]=_0x494219(_0x407b02[_0x2ab838(0x205)])),_0x407b02['stem']&&(_0x407b02[_0x2ab838(0x4c2)]=_0x494219(_0x407b02[_0x2ab838(0x4c2)])),_0x407b02[_0x2ab838(0x8f3)]&&(_0x407b02[_0x2ab838(0x8f3)]=_0x494219(_0x407b02[_0x2ab838(0x8f3)])),_0x407b02[_0x2ab838(0x17a)]&&(_0x407b02[_0x2ab838(0x17a)]=_0x407b02[_0x2ab838(0x17a)][_0x2ab838(0x336)](_0x494219));}),_0x1525f6;}const simpleMathPrompt=_0x248128(0x36b);async function handleGenerateFromLink(){const _0x2dd039=_0x248128,_0x316e11=document[_0x2dd039(0x3ee)](_0x2dd039(0x805)),_0x48f0c8=document[_0x2dd039(0x3ee)]('link-topic-input'),_0x561cb6=_0x316e11[_0x2dd039(0x635)][_0x2dd039(0x6b7)](),_0x5300e0=_0x48f0c8[_0x2dd039(0x635)][_0x2dd039(0x6b7)]();if(!_0x561cb6){showMessage(_0x2dd039(0x4ba));return;}const _0x5425d5=document[_0x2dd039(0x3ee)](_0x2dd039(0x596)),_0x10ee30=document[_0x2dd039(0x3ee)](_0x2dd039(0x62e)),_0x5c7795=document['getElementById'](_0x2dd039(0x175)),_0x2d293c=document['getElementById'](_0x2dd039(0x3d9));document[_0x2dd039(0x3ee)](_0x2dd039(0x377))[_0x2dd039(0x639)][_0x2dd039(0x3cc)](_0x2dd039(0x3f2)),_0x5c7795[_0x2dd039(0x58a)]='',_0x5425d5[_0x2dd039(0x639)][_0x2dd039(0x3cc)](_0x2dd039(0x3f2)),_0x10ee30[_0x2dd039(0x540)]=_0x2dd039(0x666),_0x2d293c[_0x2dd039(0x566)]=!![];try{const _0x2756af='https://corsproxy.io/?'+encodeURIComponent(_0x561cb6),_0x1d384a=await fetch(_0x2756af);if(!_0x1d384a['ok'])throw new Error(_0x2dd039(0x296)+_0x1d384a[_0x2dd039(0x6d3)]+')');const _0x153a57=await _0x1d384a[_0x2dd039(0x171)](),_0x2faf31=extractTextFromHtml(_0x153a57);if(!_0x2faf31||_0x2faf31[_0x2dd039(0x888)]<0x64)throw new Error(_0x2dd039(0x723));await generateQuiz(_0x5300e0,_0x2faf31);}catch(_0x397738){console[_0x2dd039(0x56c)]('Error\x20generating\x20from\x20link:',_0x397738),showMessage('เกิดข้อผิดพลาด:\x20'+_0x397738['message']),_0x5c7795['innerHTML']=_0x2dd039(0x6c7);}finally{_0x5425d5[_0x2dd039(0x639)][_0x2dd039(0x87d)]('hidden'),_0x2d293c[_0x2dd039(0x566)]=![];}}function extractTextFromHtml(_0xa9b479){const _0x6cbc2f=_0x248128,_0x1c57ca=new DOMParser()['parseFromString'](_0xa9b479,_0x6cbc2f(0x706));return _0x1c57ca['querySelectorAll']('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x6cbc2f(0x762)](_0x51b167=>_0x51b167['remove']()),_0x1c57ca[_0x6cbc2f(0x3b6)][_0x6cbc2f(0x540)]||'';}document['getElementById'](_0x248128(0x5b2))[_0x248128(0x631)]('click',()=>{const _0x5209a8=_0x248128,_0x53ad96=document[_0x5209a8(0x3ee)](_0x5209a8(0x81e))[_0x5209a8(0x635)][_0x5209a8(0x6b7)]();generateQuiz(_0x53ad96,null);}),document[_0x248128(0x3ee)](_0x248128(0x5f3))[_0x248128(0x631)](_0x248128(0x493),()=>{const _0x4287f3=_0x248128,_0x3277d0=document[_0x4287f3(0x3ee)](_0x4287f3(0x1aa))['value'][_0x4287f3(0x6b7)]();if(!_0x3277d0){showMessage(_0x4287f3(0x75e));return;}const _0x5174c3=document[_0x4287f3(0x3ee)](_0x4287f3(0x81e))[_0x4287f3(0x635)][_0x4287f3(0x6b7)]();generateQuiz(_0x5174c3,_0x3277d0);});async function generateQuiz(_0x17cb86,_0x3c1cf6,_0x5dbfe7=null){const _0x1dce2a=_0x248128,_0x2f1650=document[_0x1dce2a(0x3ee)](_0x1dce2a(0x85b))[_0x1dce2a(0x39a)],_0x346d6a=document[_0x1dce2a(0x3ee)](_0x1dce2a(0x75f))[_0x1dce2a(0x635)],_0x251935=document[_0x1dce2a(0x3ee)]('num-questions')['value'],_0x209ac5=document[_0x1dce2a(0x3ee)]('num-choices')[_0x1dce2a(0x635)],_0x10a8e2=document['getElementById'](_0x1dce2a(0x542))[_0x1dce2a(0x39a)],_0x241442=_0x10a8e2?'':_0x1dce2a(0x78b),_0x171fac=document[_0x1dce2a(0x3ee)](_0x1dce2a(0x8e4)),_0x3fd399=_0x171fac[_0x1dce2a(0x635)];let _0x5d8f60='';_0x3fd399!==_0x1dce2a(0x785)&&(_0x5d8f60=_0x1dce2a(0x767)+_0x3fd399+'\x22');const _0x245fa8=document[_0x1dce2a(0x3ee)]('question-complexity-select'),_0x37ffd9=_0x245fa8[_0x1dce2a(0x635)];let _0x5444d8='';_0x37ffd9!==_0x1dce2a(0x40a)&&(_0x5444d8=_0x1dce2a(0x642)+_0x37ffd9+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x570390=document[_0x1dce2a(0x8e0)](_0x1dce2a(0x852)),_0x181391=Array[_0x1dce2a(0x4df)](_0x570390)['map'](_0x1deceb=>_0x1deceb[_0x1dce2a(0x635)]);let _0xc1f796='';_0x181391[_0x1dce2a(0x888)]>0x0&&(_0xc1f796=_0x1dce2a(0x15e)+_0x181391[_0x1dce2a(0x375)](',\x20')+'.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม');let _0x20044c='',_0x3b9660='',_0x1d5ec8,_0x4b1e93=_0x1dce2a(0x228)+_0x17cb86+'\x22';if(!_0x17cb86&&_0x3c1cf6)_0x4b1e93='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x17cb86&&!_0x3c1cf6&&(_0x4b1e93=_0x1dce2a(0x4a6));const _0x5c25e9={'type':_0x1dce2a(0x7e1),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1dce2a(0x15b),'items':{'type':_0x1dce2a(0x77e)}},'correctAnswerIndex':{'type':_0x1dce2a(0x7aa)},'explanation':{'type':_0x1dce2a(0x77e)},'imageCode':{'type':_0x1dce2a(0x77e)}},'required':[_0x1dce2a(0x830),'options',_0x1dce2a(0x553),_0x1dce2a(0x205)]},_0x52a141={'type':'OBJECT','properties':{'questionText':{'type':_0x1dce2a(0x77e)},'idealAnswer':{'type':_0x1dce2a(0x77e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1dce2a(0x77e)}},'required':[_0x1dce2a(0x830),_0x1dce2a(0x673),_0x1dce2a(0x205)]},_0x4a0663={'type':_0x1dce2a(0x7e1),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1dce2a(0x77e),'enum':[_0x1dce2a(0x88b),_0x1dce2a(0x660)]},'options':{'type':_0x1dce2a(0x15b),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1dce2a(0x7aa)},'idealAnswer':{'type':_0x1dce2a(0x77e)},'explanation':{'type':_0x1dce2a(0x77e)},'imageCode':{'type':_0x1dce2a(0x77e)}},'required':[_0x1dce2a(0x830),_0x1dce2a(0x59f),_0x1dce2a(0x205)]},_0x40603a={'type':_0x1dce2a(0x7e1),'properties':{'questionText':{'type':_0x1dce2a(0x77e)},'correctAnswer':{'type':_0x1dce2a(0x219)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1dce2a(0x77e)}},'required':['questionText',_0x1dce2a(0x572),'explanation']},_0x513a95={'type':_0x1dce2a(0x7e1),'properties':{'questionType':{'type':_0x1dce2a(0x77e),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1dce2a(0x77e)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x1dce2a(0x77e)},'imageCode':{'type':_0x1dce2a(0x77e)}},'required':[_0x1dce2a(0x59f),_0x1dce2a(0x4c2),'correctResponse','allResponses',_0x1dce2a(0x205)]};let _0x1f4902;if(_0x5dbfe7!==null){const _0x2a4ec0=currentQuizData[_0x1dce2a(0x598)][_0x5dbfe7][_0x1dce2a(0x59f)],_0x17fb03=_0x2f1650?_0x1dce2a(0x303):'';_0x20044c=_0x1dce2a(0x8a0)+_0x4b1e93+'\x20'+_0xc1f796+'\x20'+_0x5d8f60+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x17fb03+'\x20'+simpleMathPrompt;if(_0x2a4ec0===_0x1dce2a(0x88b))_0x1d5ec8=_0x5c25e9;else{if(_0x2a4ec0==='matching_item')_0x1d5ec8={'type':_0x1dce2a(0x7e1),'properties':{'questionType':{'type':'STRING','enum':[_0x1dce2a(0x732)]},'stem':{'type':_0x1dce2a(0x77e)},'correctResponse':{'type':_0x1dce2a(0x77e)},'explanation':{'type':_0x1dce2a(0x77e)},'imageCode':{'type':_0x1dce2a(0x77e)}},'required':[_0x1dce2a(0x59f),_0x1dce2a(0x4c2),_0x1dce2a(0x8f3),_0x1dce2a(0x205)]};else _0x1d5ec8=_0x52a141;}_0x1f4902=_0x1d5ec8;}else{const _0x5102ad=_0x2f1650?_0x1dce2a(0x322):'',_0x4c0c21='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x346d6a){case _0x1dce2a(0x88b):_0x20044c=_0x1dce2a(0x634)+_0x241442+'\x20'+_0x251935+_0x1dce2a(0x6e7)+_0x4b1e93+'\x20'+_0xc1f796+'\x20'+_0x5d8f60+'\x20'+_0x5444d8+_0x1dce2a(0x950)+_0x209ac5+_0x1dce2a(0x20d)+_0x5102ad+'\x20'+simpleMathPrompt,_0x1d5ec8=_0x5c25e9;break;case _0x1dce2a(0x2f9):_0x20044c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x241442+'\x20'+_0x251935+_0x1dce2a(0x6e7)+_0x4b1e93+'\x20'+_0xc1f796+'\x20'+_0x5d8f60+'\x20'+_0x5444d8+_0x1dce2a(0x82f)+_0x209ac5+_0x1dce2a(0x8fb)+_0x5102ad+'\x20'+simpleMathPrompt,_0x1d5ec8=_0x5c25e9;break;case _0x1dce2a(0x4f3):_0x20044c=_0x1dce2a(0x289)+_0x241442+'\x20'+_0x251935+_0x1dce2a(0x6e7)+_0x4b1e93+'\x20'+_0xc1f796+'\x20'+_0x5d8f60+'\x20'+_0x5444d8+_0x1dce2a(0x24c)+_0x5102ad+'\x20'+simpleMathPrompt,_0x1d5ec8=_0x52a141;break;case _0x1dce2a(0x40a):_0x20044c='สร้างแบบทดสอบ'+_0x241442+'\x20'+_0x251935+_0x1dce2a(0x6e7)+_0x4b1e93+'\x20'+_0xc1f796+'\x20'+_0x5d8f60+'\x20'+_0x5444d8+_0x1dce2a(0x932)+_0x209ac5+_0x1dce2a(0x284)+_0x5102ad+'\x20'+simpleMathPrompt+'.',_0x1d5ec8=_0x4a0663;break;case _0x1dce2a(0x5f2):_0x20044c='สร้างคำถามแบบใช่/ไม่ใช่'+_0x241442+'\x20'+_0x251935+_0x1dce2a(0x6e7)+_0x4b1e93+'\x20'+_0xc1f796+'\x20'+_0x5d8f60+'\x20'+_0x5444d8+_0x1dce2a(0x53f)+_0x5102ad+'\x20'+simpleMathPrompt,_0x1d5ec8=_0x40603a;break;case _0x1dce2a(0x6dc):_0x20044c='สร้างชุดคำถามจับคู่'+_0x241442+'\x20'+_0x251935+_0x1dce2a(0x76b)+_0x4b1e93+'\x20'+_0xc1f796+'\x20'+_0x5d8f60+'\x20'+_0x5444d8+_0x1dce2a(0x7a1)+_0x5102ad+'\x20'+simpleMathPrompt,_0x1d5ec8=_0x513a95;break;}_0x1f4902={'type':_0x1dce2a(0x7e1),'properties':{'topic':{'type':_0x1dce2a(0x77e)},'questions':{'type':_0x1dce2a(0x15b),'items':_0x1d5ec8}},'required':[_0x1dce2a(0x7f3),_0x1dce2a(0x598)]};}return _0x3c1cf6?(_0x20044c=_0x1dce2a(0x3c6)+_0x3c1cf6+_0x1dce2a(0x3d4)+_0x20044c,_0x3b9660=_0x1dce2a(0x7c1)):_0x3b9660=_0x1dce2a(0x472),handleApiCall(_0x20044c,_0x3b9660,_0x1f4902,_0x5dbfe7);}async function generateQuizFromFile(_0x564deb,_0x30fae4){const _0x50ebfb=_0x248128,_0x107e04=document['getElementById'](_0x50ebfb(0x5af))['value']['trim'](),_0x5447f4=document[_0x50ebfb(0x3ee)](_0x50ebfb(0x75f))[_0x50ebfb(0x635)],_0x38f709=document['getElementById'](_0x50ebfb(0x7c0))[_0x50ebfb(0x635)],_0xd39ba5=document[_0x50ebfb(0x3ee)](_0x50ebfb(0x193))['value'],_0x5b720d=document['getElementById'](_0x50ebfb(0x85b))['checked'],_0x5350fb=document['getElementById'](_0x50ebfb(0x542))[_0x50ebfb(0x39a)],_0x3563d2=_0x5350fb?'':_0x50ebfb(0x78b);let _0x336195='',_0x2719b9,_0x4d4b0c=_0x50ebfb(0x228)+_0x107e04+'\x22';!_0x107e04&&(_0x4d4b0c='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x571298=_0x5b720d?_0x50ebfb(0x322):'';switch(_0x5447f4){case _0x50ebfb(0x88b):_0x336195=_0x50ebfb(0x634)+_0x3563d2+'\x20'+_0x38f709+_0x50ebfb(0x6e7)+_0x4d4b0c+'.\x20แต่ละข้อมี\x20'+_0xd39ba5+_0x50ebfb(0x20d)+_0x571298+'\x20'+simpleMathPrompt,_0x2719b9={'type':_0x50ebfb(0x7e1),'properties':{'questionText':{'type':_0x50ebfb(0x77e)},'options':{'type':_0x50ebfb(0x15b),'items':{'type':_0x50ebfb(0x77e)}},'correctAnswerIndex':{'type':_0x50ebfb(0x7aa)},'explanation':{'type':_0x50ebfb(0x77e)},'imageCode':{'type':_0x50ebfb(0x77e)}},'required':[_0x50ebfb(0x830),_0x50ebfb(0x5b6),_0x50ebfb(0x553),_0x50ebfb(0x205)]};break;case _0x50ebfb(0x2f9):_0x336195=_0x50ebfb(0x289)+_0x3563d2+'\x20'+_0x38f709+'\x20ข้อ\x20'+_0x4d4b0c+_0x50ebfb(0x82f)+_0xd39ba5+_0x50ebfb(0x8fb)+_0x571298+'\x20'+simpleMathPrompt,_0x2719b9={'type':_0x50ebfb(0x7e1),'properties':{'questionText':{'type':_0x50ebfb(0x77e)},'options':{'type':'ARRAY','items':{'type':_0x50ebfb(0x77e)}},'correctAnswerIndex':{'type':_0x50ebfb(0x7aa)},'explanation':{'type':_0x50ebfb(0x77e)},'imageCode':{'type':'STRING'}},'required':[_0x50ebfb(0x830),_0x50ebfb(0x5b6),_0x50ebfb(0x553),_0x50ebfb(0x205)]};break;case _0x50ebfb(0x4f3):_0x336195='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3563d2+'\x20'+_0x38f709+_0x50ebfb(0x6e7)+_0x4d4b0c+_0x50ebfb(0x24c)+_0x571298+'\x20'+simpleMathPrompt,_0x2719b9={'type':_0x50ebfb(0x7e1),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x50ebfb(0x77e)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x50ebfb(0x673),'explanation']};break;case _0x50ebfb(0x40a):_0x336195=_0x50ebfb(0x3dd)+_0x3563d2+'\x20'+_0x38f709+_0x50ebfb(0x6e7)+_0x4d4b0c+_0x50ebfb(0x8a7)+_0xd39ba5+_0x50ebfb(0x284)+_0x571298+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x2719b9={'type':_0x50ebfb(0x7e1),'properties':{'questionText':{'type':_0x50ebfb(0x77e)},'questionType':{'type':'STRING','enum':[_0x50ebfb(0x88b),_0x50ebfb(0x660)]},'options':{'type':_0x50ebfb(0x15b),'items':{'type':_0x50ebfb(0x77e)}},'correctAnswerIndex':{'type':_0x50ebfb(0x7aa)},'idealAnswer':{'type':_0x50ebfb(0x77e)},'explanation':{'type':_0x50ebfb(0x77e)},'imageCode':{'type':_0x50ebfb(0x77e)}},'required':['questionText',_0x50ebfb(0x59f),'explanation']};break;case'true_false':_0x336195='สร้างคำถามแบบใช่/ไม่ใช่'+_0x3563d2+'\x20'+_0x38f709+'\x20ข้อ\x20'+_0x4d4b0c+_0x50ebfb(0x668)+_0x571298+'\x20'+simpleMathPrompt,_0x2719b9={'type':'OBJECT','properties':{'questionText':{'type':_0x50ebfb(0x77e)},'correctAnswer':{'type':_0x50ebfb(0x219)},'explanation':{'type':_0x50ebfb(0x77e)},'imageCode':{'type':_0x50ebfb(0x77e)}},'required':[_0x50ebfb(0x830),_0x50ebfb(0x572),'explanation']};break;case _0x50ebfb(0x6dc):_0x336195='สร้างชุดคำถามจับคู่'+_0x3563d2+'\x20'+_0x38f709+_0x50ebfb(0x76b)+_0x4d4b0c+_0x50ebfb(0x55e)+_0x38f709+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x571298+'\x20'+simpleMathPrompt,_0x2719b9={'type':_0x50ebfb(0x7e1),'properties':{'questionType':{'type':_0x50ebfb(0x77e),'enum':[_0x50ebfb(0x732)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x50ebfb(0x77e)},'allResponses':{'type':_0x50ebfb(0x15b),'items':{'type':'STRING'}},'explanation':{'type':_0x50ebfb(0x77e)},'imageCode':{'type':_0x50ebfb(0x77e)}},'required':[_0x50ebfb(0x59f),'stem',_0x50ebfb(0x8f3),'allResponses',_0x50ebfb(0x205)]};break;}const _0xbc0baf={'type':'OBJECT','properties':{'topic':{'type':_0x50ebfb(0x77e)},'questions':{'type':_0x50ebfb(0x15b),'items':_0x2719b9}},'required':[_0x50ebfb(0x7f3),_0x50ebfb(0x598)]},_0x4d7caf='จากไฟล์ที่แนบมานี้,\x20'+_0x336195,_0x1c6d58={'contents':[{'parts':[{'text':_0x4d7caf},{'inlineData':{'mimeType':_0x564deb,'data':_0x30fae4}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0xbc0baf}};return handleApiCall(_0x1c6d58['contents'][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0xbc0baf);}async function handleApiCall(_0x35f1a2,_0x343436,_0x177ec1,_0x24d834=null){const _0x44f7e5=_0x248128,_0x162a00=document[_0x44f7e5(0x3ee)](_0x44f7e5(0x377)),_0x430400=document['getElementById'](_0x44f7e5(0x596)),_0xeb23cd=document[_0x44f7e5(0x3ee)](_0x44f7e5(0x62e)),_0x129866=document[_0x44f7e5(0x3ee)](_0x44f7e5(0x175));_0x162a00['classList'][_0x44f7e5(0x3cc)]('hidden');_0x24d834===null&&(_0x129866[_0x44f7e5(0x58a)]='');_0x430400['classList'][_0x44f7e5(0x3cc)](_0x44f7e5(0x3f2)),_0xeb23cd[_0x44f7e5(0x540)]=_0x343436,document[_0x44f7e5(0x3ee)]('generate-from-topic-btn')[_0x44f7e5(0x566)]=!![],document['getElementById'](_0x44f7e5(0x5f3))[_0x44f7e5(0x566)]=!![],document[_0x44f7e5(0x3ee)](_0x44f7e5(0x3d9))[_0x44f7e5(0x566)]=!![];try{const _0x418070={'responseMimeType':_0x44f7e5(0x8bb),'responseSchema':_0x177ec1},_0x2ac27b=Array[_0x44f7e5(0x594)](_0x35f1a2)?_0x35f1a2:[{'text':_0x35f1a2}],_0x2501b7={'contents':[{'role':_0x44f7e5(0x3c4),'parts':_0x2ac27b}],'generationConfig':_0x418070},_0x153937=_0x44f7e5(0x3a2),_0x3d7380='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x153937,_0x320b34=await fetch(_0x3d7380,{'method':_0x44f7e5(0x371),'headers':{'Content-Type':_0x44f7e5(0x8bb)},'body':JSON['stringify'](_0x2501b7)});if(!_0x320b34['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x320b34[_0x44f7e5(0x6d3)]);const _0x5e584f=await _0x320b34[_0x44f7e5(0x953)]();if(_0x5e584f[_0x44f7e5(0x3d1)]?.[0x0]?.[_0x44f7e5(0x6e9)]?.[_0x44f7e5(0x499)]?.[0x0]){let _0x5417f2=_0x5e584f[_0x44f7e5(0x3d1)][0x0]['content']['parts'][0x0][_0x44f7e5(0x171)],_0x13e836;try{if(_0x5417f2[_0x44f7e5(0x7f5)]('```json'))_0x5417f2=_0x5417f2[_0x44f7e5(0x294)](0x7,_0x5417f2[_0x44f7e5(0x888)]-0x3)[_0x44f7e5(0x6b7)]();else _0x5417f2['startsWith'](_0x44f7e5(0x23b))&&(_0x5417f2=_0x5417f2[_0x44f7e5(0x294)](0x3,_0x5417f2[_0x44f7e5(0x888)]-0x3)[_0x44f7e5(0x6b7)]());_0x13e836=JSON[_0x44f7e5(0x651)](_0x5417f2);}catch(_0x4ad50e){console['error'](_0x44f7e5(0x4a9),_0x4ad50e,_0x5417f2);throw new Error(_0x44f7e5(0x704));}if(_0x24d834!==null){if(_0x13e836[_0x44f7e5(0x59f)]===_0x44f7e5(0x732)){const _0x361e4d=currentQuizData[_0x44f7e5(0x598)][_0x44f7e5(0x336)](_0x128041=>_0x128041[_0x44f7e5(0x8f3)]);_0x13e836['allResponses']=_0x361e4d;const _0x1586f5=currentQuizData[_0x44f7e5(0x598)][_0x24d834][_0x44f7e5(0x8f3)],_0x4a162e=_0x361e4d['indexOf'](_0x1586f5);_0x4a162e>-0x1&&(_0x361e4d[_0x4a162e]=_0x13e836['correctResponse']),currentQuizData[_0x44f7e5(0x598)][_0x44f7e5(0x762)](_0x3cfd1a=>{if(_0x3cfd1a['questionType']==='matching_item')_0x3cfd1a['allResponses']=_0x361e4d;});}currentQuizData[_0x44f7e5(0x598)][_0x24d834]=_0x13e836,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x13e836;const _0x404cb4=document[_0x44f7e5(0x3ee)](_0x44f7e5(0x75f))['value'];currentQuizData[_0x44f7e5(0x760)]=_0x404cb4,currentQuizData[_0x44f7e5(0x598)]&&currentQuizData['questions'][_0x44f7e5(0x762)](_0x30fb88=>{const _0x519168=_0x44f7e5;if(!_0x30fb88[_0x519168(0x59f)]){if(_0x404cb4===_0x519168(0x2f9))_0x30fb88[_0x519168(0x59f)]=_0x519168(0x88b);else _0x404cb4==='fill_in_no_choices'?_0x30fb88[_0x519168(0x59f)]=_0x519168(0x660):_0x30fb88[_0x519168(0x59f)]=_0x404cb4;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x44f7e5(0x81b),JSON[_0x44f7e5(0x2dd)](_0x5e584f));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x3fc944){console['error'](_0x44f7e5(0x1a5),_0x3fc944),showMessage(_0x44f7e5(0x8b6)),_0x24d834===null&&(_0x129866[_0x44f7e5(0x58a)]=_0x44f7e5(0x28a));}finally{_0x430400[_0x44f7e5(0x639)][_0x44f7e5(0x87d)](_0x44f7e5(0x3f2)),document[_0x44f7e5(0x3ee)](_0x44f7e5(0x5b2))[_0x44f7e5(0x566)]=![],document[_0x44f7e5(0x3ee)]('generate-from-text-btn')[_0x44f7e5(0x566)]=![],document[_0x44f7e5(0x3ee)](_0x44f7e5(0x3d9))['disabled']=![];const _0x1680d9=document[_0x44f7e5(0x3ee)](_0x44f7e5(0x55b));_0x1680d9&&(_0x1680d9[_0x44f7e5(0x566)]=![]);}}function exitFullscreen(){const _0x33874c=_0x248128;if(document[_0x33874c(0x3ba)])document['exitFullscreen']()[_0x33874c(0x63a)](_0x570b88=>console[_0x33874c(0x56c)](_0x570b88));else{if(document[_0x33874c(0x4ce)])document[_0x33874c(0x4ce)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x5dad0e=_0x248128,_0xab3dc5=document['documentElement'];if(_0xab3dc5[_0x5dad0e(0x5f5)])_0xab3dc5[_0x5dad0e(0x5f5)]()['catch'](_0x499533=>{const _0x57b83d=_0x5dad0e;console[_0x57b83d(0x56c)](_0x57b83d(0x344)+_0x499533[_0x57b83d(0x5d6)]+'\x20('+_0x499533[_0x57b83d(0x268)]+')');});else{if(_0xab3dc5['webkitRequestFullscreen'])_0xab3dc5[_0x5dad0e(0x546)]();else _0xab3dc5['msRequestFullscreen']&&_0xab3dc5['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x4cccff=_0x248128;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x4cccff(0x66d)+maxCheatAttempts+_0x4cccff(0x816)),document[_0x4cccff(0x3ee)](_0x4cccff(0x26a))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x4cccff(0x793),handleVisibilityChange),document['removeEventListener'](_0x4cccff(0x61e),handleFullscreenChange)):showMessage(_0x4cccff(0x391)+cheatAttempts+'/'+maxCheatAttempts+_0x4cccff(0x214),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x514d2d=_0x248128;if(currentMode===_0x514d2d(0x33e)||!isQuizActive)return;if(document[_0x514d2d(0x5f7)]===_0x514d2d(0x3f2))handleCheatingEvent();else document[_0x514d2d(0x5f7)]==='visible'&&(console[_0x514d2d(0x1c3)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x6e5376=_0x248128;if(currentMode===_0x6e5376(0x33e)||!isQuizActive)return;!document[_0x6e5376(0x694)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4bd285){const _0x4a504f=_0x248128,_0x4ae33f=document[_0x4a504f(0x3ee)](_0x4a504f(0x175));let _0x48eb73='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4bd285[_0x4a504f(0x7f3)]+_0x4a504f(0x20f);_0x4bd285[_0x4a504f(0x598)][_0x4a504f(0x762)]((_0x192adf,_0x47989f)=>{const _0x1207d9=_0x4a504f;!_0x192adf['id']&&(_0x192adf['id']='q_'+Date[_0x1207d9(0x8ea)]()+'_'+_0x47989f);const _0x232eba=_0x192adf[_0x1207d9(0x59f)]||_0x4bd285[_0x1207d9(0x760)];_0x48eb73+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x47989f+_0x1207d9(0x2b0)+_0x47989f+_0x1207d9(0x4ef)+_0x47989f+_0x1207d9(0x2df)+_0x47989f+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x232eba){case _0x1207d9(0x732):_0x48eb73+=_0x1207d9(0x1c6)+_0x47989f+'\x22>'+(_0x47989f+0x1)+'.\x20'+_0x192adf[_0x1207d9(0x4c2)]+_0x1207d9(0x1d4);_0x192adf[_0x1207d9(0x849)]&&(_0x48eb73+=_0x1207d9(0x4b1)+_0x47989f+_0x1207d9(0x7b8)+_0x192adf[_0x1207d9(0x849)]+_0x1207d9(0x4e4));_0x48eb73+=_0x1207d9(0x57b)+_0x47989f+'\x22>'+_0x192adf['correctResponse']+_0x1207d9(0x570),_0x48eb73+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x47989f+'\x22>'+_0x192adf[_0x1207d9(0x205)]+_0x1207d9(0x570);break;case _0x1207d9(0x660):_0x48eb73+=_0x1207d9(0x1c6)+_0x47989f+'\x22>'+(_0x47989f+0x1)+'.\x20'+_0x192adf[_0x1207d9(0x830)]+_0x1207d9(0x1d4);_0x192adf['imageCode']&&(_0x48eb73+=_0x1207d9(0x4b1)+_0x47989f+_0x1207d9(0x7b8)+_0x192adf[_0x1207d9(0x849)]+_0x1207d9(0x4e4));_0x48eb73+=_0x1207d9(0x4ad)+_0x47989f+'\x22>'+_0x192adf[_0x1207d9(0x673)]+_0x1207d9(0x570),_0x48eb73+=_0x1207d9(0x3de)+_0x47989f+'\x22>'+_0x192adf[_0x1207d9(0x205)]+_0x1207d9(0x570);break;case _0x1207d9(0x5f2):_0x48eb73+=_0x1207d9(0x1c6)+_0x47989f+'\x22>'+(_0x47989f+0x1)+'.\x20'+_0x192adf[_0x1207d9(0x830)]+_0x1207d9(0x1d4);_0x192adf[_0x1207d9(0x849)]&&(_0x48eb73+=_0x1207d9(0x4b1)+_0x47989f+_0x1207d9(0x7b8)+_0x192adf[_0x1207d9(0x849)]+_0x1207d9(0x4e4));_0x48eb73+=_0x1207d9(0x28b)+(_0x192adf[_0x1207d9(0x572)]===!![]?_0x1207d9(0x8d0):'')+_0x1207d9(0x61b)+(_0x192adf[_0x1207d9(0x572)]===![]?_0x1207d9(0x8d0):'')+_0x1207d9(0x2cc),_0x48eb73+=_0x1207d9(0x3de)+_0x47989f+'\x22>'+_0x192adf['explanation']+_0x1207d9(0x570);break;case'fill_in_the_blank':case _0x1207d9(0x88b):default:_0x48eb73+=_0x1207d9(0x1c6)+_0x47989f+'\x22>'+(_0x47989f+0x1)+'.\x20'+_0x192adf[_0x1207d9(0x830)]+_0x1207d9(0x1d4);_0x192adf['imageCode']&&(_0x48eb73+=_0x1207d9(0x4b1)+_0x47989f+_0x1207d9(0x7b8)+_0x192adf['imageCode']+_0x1207d9(0x4e4));_0x48eb73+=_0x1207d9(0x728)+_0x47989f+_0x1207d9(0x57d)+_0x192adf[_0x1207d9(0x5b6)][_0x1207d9(0x336)]((_0x370591,_0x609bdd)=>'<li\x20class=\x22'+(_0x609bdd===_0x192adf['correctAnswerIndex']?_0x1207d9(0x8d0):'')+'\x22>'+_0x370591+_0x1207d9(0x328))[_0x1207d9(0x375)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x48eb73+=_0x1207d9(0x3de)+_0x47989f+'\x22>'+_0x192adf['explanation']+'</span></div>';break;}_0x48eb73+=_0x1207d9(0x4e4);}),_0x48eb73+=_0x4a504f(0x19c),_0x4ae33f[_0x4a504f(0x58a)]=_0x48eb73,document[_0x4a504f(0x8e0)](_0x4a504f(0x3eb))[_0x4a504f(0x762)](_0x116e31=>_0x116e31[_0x4a504f(0x631)](_0x4a504f(0x493),handleEditQuestion)),document[_0x4a504f(0x8e0)](_0x4a504f(0x335))[_0x4a504f(0x762)](_0x19ec76=>_0x19ec76[_0x4a504f(0x631)](_0x4a504f(0x493),handleRegenerateQuestion)),document[_0x4a504f(0x8e0)](_0x4a504f(0x630))['forEach'](_0x5ea173=>_0x5ea173[_0x4a504f(0x631)](_0x4a504f(0x493),handleSaveToBank)),document[_0x4a504f(0x3ee)](_0x4a504f(0x3ec))[_0x4a504f(0x631)]('click',exportQuizAsWorksheetPDF),document[_0x4a504f(0x3ee)]('save-quiz-btn')[_0x4a504f(0x631)](_0x4a504f(0x493),saveQuiz),document[_0x4a504f(0x3ee)](_0x4a504f(0x442))[_0x4a504f(0x631)](_0x4a504f(0x493),handleVerifyAnswers);if(window['MathJax'])window['MathJax'][_0x4a504f(0x8c0)]([_0x4ae33f]);}function handleRegenerateQuestion(_0x281639){const _0x4b659a=_0x248128,_0x34b894=_0x281639[_0x4b659a(0x1dc)][_0x4b659a(0x334)][_0x4b659a(0x917)],_0x5960bb=currentQuizData[_0x4b659a(0x7f3)];showMessage(_0x4b659a(0x370)+(parseInt(_0x34b894)+0x1)+_0x4b659a(0x36f)),generateQuiz(_0x5960bb,null,parseInt(_0x34b894));}function getPointerPosition(_0x2663a5,_0x23e779){const _0x3cd8e2=_0x248128,_0x59d3ab=_0x2663a5[_0x3cd8e2(0x2fd)]();let _0x3f6496,_0x25ee17;return _0x23e779[_0x3cd8e2(0x1f7)]&&_0x23e779['touches'][_0x3cd8e2(0x888)]>0x0?(_0x3f6496=_0x23e779[_0x3cd8e2(0x1f7)][0x0][_0x3cd8e2(0x4fd)],_0x25ee17=_0x23e779['touches'][0x0]['clientY']):(_0x3f6496=_0x23e779[_0x3cd8e2(0x4fd)],_0x25ee17=_0x23e779[_0x3cd8e2(0x1fe)]),{'x':(_0x3f6496-_0x59d3ab['e'])/_0x59d3ab['a'],'y':(_0x25ee17-_0x59d3ab['f'])/_0x59d3ab['d']};}function startDrag(_0xa22bfd){const _0x2e4e3e=_0x248128;_0xa22bfd['type']===_0x2e4e3e(0x24e)&&_0xa22bfd[_0x2e4e3e(0x7bd)]();const _0x5913a8=_0xa22bfd[_0x2e4e3e(0x21b)]['closest'](_0x2e4e3e(0x2f0));if(_0x5913a8){draggedSvgElement=_0x5913a8;const _0x403016=draggedSvgElement[_0x2e4e3e(0x354)],_0x7631fc=getPointerPosition(_0x403016,_0xa22bfd);svgOffset['x']=_0x7631fc['x']-parseFloat(draggedSvgElement[_0x2e4e3e(0x914)](null,'x')),svgOffset['y']=_0x7631fc['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x200e92,_0x16bcc4){const _0x484f24=_0x248128,_0x24a858={};if(_0x16bcc4[_0x484f24(0x888)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x26fe79=[..._0x16bcc4]['sort']((_0x4b4d6d,_0x57f28b)=>{const _0x5abbaf=_0x484f24,_0x1e5d09=_0x57f28b[_0x5abbaf(0x840)]-_0x4b4d6d[_0x5abbaf(0x840)];if(_0x1e5d09!==0x0)return _0x1e5d09;const _0x3ae221=_0x4b4d6d[_0x5abbaf(0x18f)]?.[_0x5abbaf(0x888)]||0x1,_0x38c258=_0x57f28b[_0x5abbaf(0x18f)]?.[_0x5abbaf(0x888)]||0x1,_0x25bc40=_0x3ae221-_0x38c258;if(_0x25bc40!==0x0)return _0x25bc40;const _0x1b1ae1=new Date(_0x4b4d6d[_0x5abbaf(0x3ce)]),_0x1a4ce3=new Date(_0x57f28b['latestSubmittedAt']),_0x2feb58=_0x1b1ae1-_0x1a4ce3;if(_0x2feb58!==0x0)return _0x2feb58;return _0x4b4d6d['studentName']['localeCompare'](_0x57f28b[_0x5abbaf(0x8d1)],'th');}),_0x3a2979=_0x26fe79[_0x484f24(0x888)],_0x4536d9=Math[_0x484f24(0x311)](0x1,Math[_0x484f24(0x7b2)](_0x3a2979*0.33));if(_0x4536d9===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4981b6=_0x26fe79[_0x484f24(0x59d)](0x0,_0x4536d9),_0x3c3e51=_0x26fe79[_0x484f24(0x59d)](-_0x4536d9),_0x1bd261=_0x4981b6['map'](_0x29eb65=>_0x29eb65[_0x484f24(0x8d1)]),_0x3d0b23=_0x3c3e51['map'](_0x3d3528=>_0x3d3528[_0x484f24(0x8d1)]);return _0x200e92[_0x484f24(0x598)][_0x484f24(0x762)]((_0x15c0c7,_0x3b93e9)=>{const _0xed92d5=_0x484f24,_0x3b568f=_0x15c0c7[_0xed92d5(0x4c2)]||_0x15c0c7[_0xed92d5(0x830)];let _0x1e9b83=0x0,_0x2ddb35=0x0,_0x4dcd3e=0x0;const _0x3cd3ed=[],_0x33a70c=[];_0x4981b6[_0xed92d5(0x762)](_0x46b380=>{const _0x256095=_0xed92d5,_0x49aaae=_0x46b380[_0x256095(0x18f)][_0x46b380[_0x256095(0x18f)][_0x256095(0x888)]-0x1],_0x4a07b1=_0x49aaae[_0x256095(0x1e2)][_0x256095(0x2f4)](_0x9e803b=>_0x9e803b['originalQuestionText']===_0x3b568f);_0x3cd3ed[_0x256095(0x162)]({'name':_0x46b380[_0x256095(0x8d1)],'isCorrect':_0x4a07b1?_0x4a07b1[_0x256095(0x2e0)]:![]}),_0x4a07b1&&_0x4a07b1[_0x256095(0x2e0)]&&_0x2ddb35++;}),_0x3c3e51[_0xed92d5(0x762)](_0x22af80=>{const _0x29c932=_0xed92d5,_0x3c0c02=_0x22af80[_0x29c932(0x18f)][_0x22af80[_0x29c932(0x18f)][_0x29c932(0x888)]-0x1],_0x200a2c=_0x3c0c02[_0x29c932(0x1e2)][_0x29c932(0x2f4)](_0x35cd21=>_0x35cd21[_0x29c932(0x86b)]===_0x3b568f);_0x33a70c['push']({'name':_0x22af80[_0x29c932(0x8d1)],'isCorrect':_0x200a2c?_0x200a2c[_0x29c932(0x2e0)]:![]}),_0x200a2c&&_0x200a2c[_0x29c932(0x2e0)]&&_0x4dcd3e++;}),_0x16bcc4[_0xed92d5(0x762)](_0x6c0d6b=>{const _0x35e988=_0xed92d5,_0x574668=_0x6c0d6b[_0x35e988(0x18f)][_0x6c0d6b[_0x35e988(0x18f)]['length']-0x1],_0x3979bc=_0x574668[_0x35e988(0x1e2)][_0x35e988(0x2f4)](_0xc25c32=>_0xc25c32[_0x35e988(0x86b)]===_0x3b568f);_0x3979bc&&_0x3979bc[_0x35e988(0x2e0)]&&_0x1e9b83++;});const _0x33a2f1=_0x3a2979>0x0?_0x1e9b83/_0x3a2979:0x0,_0x6b869f=_0x4536d9>0x0?_0x2ddb35/_0x4536d9-_0x4dcd3e/_0x4536d9:0x0;_0x24a858[_0x3b93e9]={'p':_0x33a2f1,'r':_0x6b869f,'upperGroupResponders':_0x3cd3ed,'lowerGroupResponders':_0x33a70c};}),{'perQuestionStats':_0x24a858,'overallGroups':{'upperGroupNames':_0x1bd261,'lowerGroupNames':_0x3d0b23}};}function drag(_0x287a05){const _0x4dbc84=_0x248128;if(draggedSvgElement){_0x287a05[_0x4dbc84(0x7bd)]();const _0x5e71d6=draggedSvgElement[_0x4dbc84(0x354)],_0x3d814d=getPointerPosition(_0x5e71d6,_0x287a05),_0x4c0dd5=_0x5e71d6[_0x4dbc84(0x958)][_0x4dbc84(0x1f2)];let _0x2f29fc=_0x3d814d['x']-svgOffset['x'],_0x49bc15=_0x3d814d['y']-svgOffset['y'];const _0x55c117=draggedSvgElement['getBBox']();_0x2f29fc=Math[_0x4dbc84(0x311)](_0x4c0dd5['x'],Math[_0x4dbc84(0x68a)](_0x2f29fc,_0x4c0dd5['x']+_0x4c0dd5[_0x4dbc84(0x2ba)]-_0x55c117['width'])),_0x49bc15=Math[_0x4dbc84(0x311)](_0x4c0dd5['y'],Math[_0x4dbc84(0x68a)](_0x49bc15,_0x4c0dd5['y']+_0x4c0dd5[_0x4dbc84(0x77c)]-_0x55c117[_0x4dbc84(0x77c)])),draggedSvgElement[_0x4dbc84(0x37f)](null,'x',_0x2f29fc),draggedSvgElement[_0x4dbc84(0x37f)](null,'y',_0x49bc15);}}function _0xadd6(_0xe5e5b2,_0x46e11d){const _0x4a2397=_0x4a23();return _0xadd6=function(_0xadd68a,_0x14051a){_0xadd68a=_0xadd68a-0x124;let _0x1c6623=_0x4a2397[_0xadd68a];return _0x1c6623;},_0xadd6(_0xe5e5b2,_0x46e11d);}function endDrag(_0x140860){draggedSvgElement=null;}function handleSvgEditClick(_0x126e8a){const _0x2e7f4a=_0x248128;if(_0x126e8a[_0x2e7f4a(0x21b)][_0x2e7f4a(0x639)][_0x2e7f4a(0x21f)](_0x2e7f4a(0x3d3))){const _0x8eee38=_0x126e8a[_0x2e7f4a(0x21b)][_0x2e7f4a(0x334)][_0x2e7f4a(0x23c)],_0xadc778=_0x126e8a[_0x2e7f4a(0x1dc)],_0x1aea2a=_0xadc778[_0x2e7f4a(0x828)]('#'+_0x8eee38);_0x1aea2a&&_0x1aea2a['remove'](),_0x126e8a[_0x2e7f4a(0x21b)][_0x2e7f4a(0x3cc)]();}}function handleEditQuestion(_0x21d220){const _0x34ae80=_0x248128,_0x56b7cf=_0x21d220[_0x34ae80(0x1dc)],_0x427eb1=_0x56b7cf[_0x34ae80(0x334)][_0x34ae80(0x917)],_0x191d7e=currentQuizData[_0x34ae80(0x598)][_0x427eb1],_0x1596de=document[_0x34ae80(0x3ee)](_0x34ae80(0x763)+_0x427eb1),_0x486f88=document[_0x34ae80(0x3ee)](_0x34ae80(0x608)+_0x427eb1),_0x4bdbff=document[_0x34ae80(0x3ee)]('q-image-container-'+_0x427eb1);if(_0x56b7cf[_0x34ae80(0x58a)][_0x34ae80(0x8b4)](_0x34ae80(0x2cf))){_0x56b7cf['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x56b7cf[_0x34ae80(0x1d5)]='บันทึกการแก้ไข';if(_0x1596de)_0x1596de[_0x34ae80(0x7a7)]=!![];if(_0x486f88)_0x486f88[_0x34ae80(0x7a7)]=!![];if(_0x4bdbff){const _0x5bc475=_0x4bdbff['querySelector'](_0x34ae80(0x810));if(_0x5bc475){const _0x26ac0c=_0x5bc475['querySelectorAll'](_0x34ae80(0x171));_0x26ac0c['forEach']((_0x187d5c,_0x12df9)=>{const _0x69b233=_0x34ae80,_0x5514a8='editable-text-'+_0x427eb1+'-'+_0x12df9;_0x187d5c['id']=_0x5514a8,_0x187d5c[_0x69b233(0x639)][_0x69b233(0x87d)](_0x69b233(0x38e)),_0x187d5c[_0x69b233(0x259)][_0x69b233(0x650)]=_0x69b233(0x47e);const _0x31dc87=document[_0x69b233(0x446)](_0x69b233(0x965),_0x69b233(0x5bd)),_0x52c1f7=_0x187d5c['getBBox']();_0x31dc87[_0x69b233(0x306)]('cx',String(_0x52c1f7['x']+_0x52c1f7[_0x69b233(0x2ba)]+0x5)),_0x31dc87['setAttribute']('cy',String(_0x52c1f7['y']+_0x52c1f7[_0x69b233(0x77c)]/0x2-0x5)),_0x31dc87[_0x69b233(0x306)]('r','5'),_0x31dc87['setAttribute'](_0x69b233(0x126),_0x69b233(0x37d)),_0x31dc87[_0x69b233(0x306)](_0x69b233(0x256),'delete-svg-btn'),_0x31dc87[_0x69b233(0x334)]['targetId']=_0x5514a8,_0x187d5c[_0x69b233(0x824)](_0x31dc87);}),_0x5bc475[_0x34ae80(0x631)](_0x34ae80(0x183),startDrag),_0x5bc475[_0x34ae80(0x631)](_0x34ae80(0x71f),drag),_0x5bc475[_0x34ae80(0x631)](_0x34ae80(0x3c2),endDrag),_0x5bc475['addEventListener'](_0x34ae80(0x8bf),endDrag),_0x5bc475[_0x34ae80(0x631)](_0x34ae80(0x24e),startDrag,{'passive':![]}),_0x5bc475[_0x34ae80(0x631)](_0x34ae80(0x5ed),drag,{'passive':![]}),_0x5bc475[_0x34ae80(0x631)](_0x34ae80(0x787),endDrag),_0x5bc475['addEventListener'](_0x34ae80(0x558),endDrag),_0x5bc475[_0x34ae80(0x631)](_0x34ae80(0x493),handleSvgEditClick);}}if(_0x1596de)_0x1596de[_0x34ae80(0x2ab)]();}else{_0x56b7cf['innerHTML']=_0x34ae80(0x915),_0x56b7cf[_0x34ae80(0x1d5)]=_0x34ae80(0x357);if(_0x1596de){_0x1596de['contentEditable']=![];const _0x4406d4=_0x191d7e[_0x34ae80(0x59f)]||currentQuizData[_0x34ae80(0x760)];_0x4406d4==='matching_item'?_0x191d7e[_0x34ae80(0x4c2)]=_0x1596de[_0x34ae80(0x548)][_0x34ae80(0x294)](_0x1596de[_0x34ae80(0x548)][_0x34ae80(0x76e)]('.')+0x2)[_0x34ae80(0x6b7)]():_0x191d7e[_0x34ae80(0x830)]=_0x1596de['innerText'][_0x34ae80(0x294)](_0x1596de[_0x34ae80(0x548)][_0x34ae80(0x76e)]('.')+0x2)[_0x34ae80(0x6b7)]();}_0x486f88&&(_0x486f88[_0x34ae80(0x7a7)]=![],_0x191d7e[_0x34ae80(0x205)]=_0x486f88[_0x34ae80(0x548)]);if(_0x4bdbff){const _0x351aca=_0x4bdbff[_0x34ae80(0x828)](_0x34ae80(0x810));if(_0x351aca){const _0x2c21ce=_0x351aca[_0x34ae80(0x4d8)](!![]);_0x2c21ce[_0x34ae80(0x8e0)](_0x34ae80(0x60e))[_0x34ae80(0x762)](_0x50247c=>_0x50247c[_0x34ae80(0x3cc)]()),_0x2c21ce['querySelectorAll']('.draggable-text')[_0x34ae80(0x762)](_0x2ed1d4=>{const _0x1f7899=_0x34ae80;_0x2ed1d4[_0x1f7899(0x639)][_0x1f7899(0x3cc)]('draggable-text'),_0x2ed1d4['style']['cursor']='default',_0x2ed1d4[_0x1f7899(0x7b7)]('id');}),_0x191d7e[_0x34ae80(0x849)]=_0x2c21ce[_0x34ae80(0x8fc)],_0x351aca[_0x34ae80(0x83d)](_0x34ae80(0x183),startDrag),_0x351aca[_0x34ae80(0x83d)]('mousemove',drag),_0x351aca[_0x34ae80(0x83d)](_0x34ae80(0x3c2),endDrag),_0x351aca[_0x34ae80(0x83d)](_0x34ae80(0x8bf),endDrag),_0x351aca[_0x34ae80(0x83d)](_0x34ae80(0x24e),startDrag),_0x351aca['removeEventListener']('touchmove',drag),_0x351aca[_0x34ae80(0x83d)](_0x34ae80(0x787),endDrag),_0x351aca[_0x34ae80(0x83d)]('touchcancel',endDrag),_0x351aca[_0x34ae80(0x83d)](_0x34ae80(0x493),handleSvgEditClick),_0x351aca[_0x34ae80(0x8e0)](_0x34ae80(0x60e))['forEach'](_0x273cbd=>_0x273cbd['remove']()),_0x351aca[_0x34ae80(0x8e0)](_0x34ae80(0x2f0))['forEach'](_0xe93914=>{const _0x6764de=_0x34ae80;_0xe93914[_0x6764de(0x639)][_0x6764de(0x3cc)]('draggable-text'),_0xe93914[_0x6764de(0x259)][_0x6764de(0x650)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x738a1e){const _0x2844b6=_0x248128,_0x3de63d=document[_0x2844b6(0x3ee)](_0x2844b6(0x1bd)),_0x14583a=document['getElementById'](_0x2844b6(0x6ff));_0x14583a[_0x2844b6(0x58a)]=_0x2844b6(0x853),_0x3de63d[_0x2844b6(0x639)][_0x2844b6(0x3cc)](_0x2844b6(0x3f2));try{const _0x49e417=doc(db,_0x2844b6(0x243)+appId+'/public/data/quizzes',_0x738a1e),_0x183147=await getDoc(_0x49e417);if(!_0x183147[_0x2844b6(0x225)]())throw new Error(_0x2844b6(0x75c));currentEditingQuizData={'id':_0x738a1e,..._0x183147[_0x2844b6(0x45b)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4d18ae){console['error'](_0x2844b6(0x281),_0x4d18ae),showMessage(_0x2844b6(0x2fc)),_0x3de63d[_0x2844b6(0x639)][_0x2844b6(0x87d)]('hidden');}}function renderQuizEditor(_0xde05ca){const _0x50ada6=_0x248128;document[_0x50ada6(0x3ee)]('editor-quiz-topic')[_0x50ada6(0x635)]=_0xde05ca[_0x50ada6(0x7f3)];const _0x3d673b=document[_0x50ada6(0x3ee)](_0x50ada6(0x6ff));let _0xdcf447=_0xde05ca[_0x50ada6(0x598)][_0x50ada6(0x336)]((_0x591aa4,_0x31b5b1)=>{const _0x2d55b8=_0x50ada6;let _0x1233b6='';const _0x387bac=_0x591aa4[_0x2d55b8(0x59f)]||_0xde05ca['quizType'];switch(_0x387bac){case _0x2d55b8(0x88b):const _0xd15512=(_0x591aa4['options']||[])[_0x2d55b8(0x336)]((_0x3665b3,_0x3128c4)=>_0x2d55b8(0x543)+_0x31b5b1+_0x2d55b8(0x7eb)+_0x3128c4+'\x22\x20'+(_0x3128c4===_0x591aa4['correctAnswerIndex']?_0x2d55b8(0x39a):'')+_0x2d55b8(0x513)+_0x3665b3+_0x2d55b8(0x436))[_0x2d55b8(0x375)]('');_0x1233b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0xd15512+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2d55b8(0x660):_0x1233b6=_0x2d55b8(0x5bf)+(_0x591aa4['idealAnswer']||'')+_0x2d55b8(0x340);break;case'true_false':_0x1233b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x31b5b1+_0x2d55b8(0x157)+(_0x591aa4[_0x2d55b8(0x572)]===!![]?_0x2d55b8(0x39a):'')+_0x2d55b8(0x4d0)+_0x31b5b1+_0x2d55b8(0x5b1)+(_0x591aa4[_0x2d55b8(0x572)]===![]?_0x2d55b8(0x39a):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x1233b6=_0x2d55b8(0x61a)+(_0x591aa4[_0x2d55b8(0x8f3)]||'')+_0x2d55b8(0x1d7);break;}const _0x21ba79=_0x591aa4[_0x2d55b8(0x830)]||_0x591aa4[_0x2d55b8(0x4c2)]||'';return _0x2d55b8(0x708)+_0x31b5b1+_0x2d55b8(0x831)+_0x387bac+_0x2d55b8(0x7ed)+(_0x31b5b1+0x1)+'\x20('+_0x387bac+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x21ba79+_0x2d55b8(0x420)+_0x1233b6+_0x2d55b8(0x202);})[_0x50ada6(0x375)]('');_0x3d673b[_0x50ada6(0x58a)]=_0xdcf447,_0x3d673b[_0x50ada6(0x8e0)]('.ai-fix-question-btn')[_0x50ada6(0x762)](_0x26d64b=>{_0x26d64b['addEventListener']('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x5adcd7){const _0x58f017=_0x248128,_0x363903=_0x5adcd7['currentTarget'],_0x315124=_0x363903[_0x58f017(0x918)](_0x58f017(0x1ae));if(!_0x315124)return;const _0x5613da=parseInt(_0x315124['dataset']['qIndex'],0xa);if(isNaN(_0x5613da)||!currentEditingQuizData[_0x58f017(0x598)][_0x5613da]){showMessage(_0x58f017(0x136));return;}const _0x2aae3f=currentEditingQuizData[_0x58f017(0x598)][_0x5613da];_0x363903[_0x58f017(0x58a)]=_0x58f017(0x967),_0x363903['disabled']=!![];const _0x22731d=_0x58f017(0x8ad)+JSON[_0x58f017(0x2dd)](_0x2aae3f)+_0x58f017(0x455);let _0x5bf9bd;const _0x1996cb=_0x2aae3f[_0x58f017(0x59f)]||currentEditingQuizData['quizType'];switch(_0x1996cb){case _0x58f017(0x660):_0x5bf9bd={'type':_0x58f017(0x7e1),'properties':{'questionText':{'type':_0x58f017(0x77e)},'idealAnswer':{'type':_0x58f017(0x77e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x58f017(0x77e)}},'required':[_0x58f017(0x830),'idealAnswer','explanation']};break;case _0x58f017(0x88b):default:_0x5bf9bd={'type':_0x58f017(0x7e1),'properties':{'questionText':{'type':_0x58f017(0x77e)},'options':{'type':_0x58f017(0x15b),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x58f017(0x7aa)},'explanation':{'type':_0x58f017(0x77e)},'imageCode':{'type':_0x58f017(0x77e)}},'required':[_0x58f017(0x830),_0x58f017(0x5b6),_0x58f017(0x553),_0x58f017(0x205)]};break;}try{let _0x36091e=await callAnalysisApi(_0x22731d,_0x5bf9bd);_0x36091e['options']&&Array[_0x58f017(0x594)](_0x36091e[_0x58f017(0x5b6)])&&(_0x36091e[_0x58f017(0x5b6)]=_0x36091e['options'][_0x58f017(0x336)](_0x47c305=>typeof _0x47c305===_0x58f017(0x96b)?_0x47c305[_0x58f017(0x92e)](/S(\s*[\d_]+?\s*)S/g,_0x58f017(0x5e5)):_0x47c305)),_0x2aae3f[_0x58f017(0x849)]&&_0x2aae3f[_0x58f017(0x849)][_0x58f017(0x8b4)](_0x58f017(0x21c))&&(_0x36091e[_0x58f017(0x849)]=''),currentEditingQuizData[_0x58f017(0x598)][_0x5613da]={..._0x2aae3f,..._0x36091e},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x28c874){console['error'](_0x58f017(0x69c),_0x28c874),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x59a60f=_0x248128,_0x22965c=document[_0x59a60f(0x3ee)](_0x59a60f(0x20a));_0x22965c['disabled']=!![],_0x22965c['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3c7212=document[_0x59a60f(0x3ee)](_0x59a60f(0x2b7))['value'],_0x3e9fde=document[_0x59a60f(0x8e0)](_0x59a60f(0x1ae));let _0x86cc39=[];const _0x4ea210=Array['from'](_0x3e9fde)['map']((_0x411202,_0x536670)=>{const _0x3d2cc3=_0x59a60f,_0x30c23a=_0x411202[_0x3d2cc3(0x334)][_0x3d2cc3(0x364)],_0x45ffa4=_0x411202['querySelector'](_0x3d2cc3(0x1c8))[_0x3d2cc3(0x635)];let _0x3d56cf={'questionType':_0x30c23a};const _0x5b68fa=currentEditingQuizData[_0x3d2cc3(0x598)][_0x536670];switch(_0x30c23a){case _0x3d2cc3(0x88b):_0x3d56cf[_0x3d2cc3(0x830)]=_0x45ffa4;const _0x2969fe=_0x411202[_0x3d2cc3(0x8e0)](_0x3d2cc3(0x818));_0x3d56cf['options']=Array[_0x3d2cc3(0x4df)](_0x2969fe)['map'](_0x2d3007=>_0x2d3007[_0x3d2cc3(0x635)]);const _0x474901=_0x411202['querySelector']('input[type=\x22radio\x22]:checked');_0x3d56cf['correctAnswerIndex']=_0x474901?parseInt(_0x474901['value']):0x0;break;case _0x3d2cc3(0x660):_0x3d56cf[_0x3d2cc3(0x830)]=_0x45ffa4,_0x3d56cf[_0x3d2cc3(0x673)]=_0x411202[_0x3d2cc3(0x828)](_0x3d2cc3(0x155))[_0x3d2cc3(0x635)];break;case _0x3d2cc3(0x5f2):_0x3d56cf[_0x3d2cc3(0x830)]=_0x45ffa4;const _0x166947=_0x411202[_0x3d2cc3(0x828)](_0x3d2cc3(0x453));_0x3d56cf[_0x3d2cc3(0x572)]=_0x166947?_0x166947[_0x3d2cc3(0x635)]==='true':!![];break;case _0x3d2cc3(0x732):_0x3d56cf[_0x3d2cc3(0x4c2)]=_0x45ffa4;const _0xc26b67=_0x411202[_0x3d2cc3(0x828)](_0x3d2cc3(0x27e));_0x3d56cf[_0x3d2cc3(0x8f3)]=_0xc26b67?_0xc26b67[_0x3d2cc3(0x635)]:'',_0x86cc39[_0x3d2cc3(0x162)](_0x3d56cf[_0x3d2cc3(0x8f3)]);break;default:_0x3d56cf[_0x3d2cc3(0x830)]=_0x45ffa4;break;}return{..._0x5b68fa,..._0x3d56cf};});_0x86cc39[_0x59a60f(0x888)]>0x0&&_0x4ea210[_0x59a60f(0x762)](_0x4a7cbc=>{const _0x26ca0d=_0x59a60f;_0x4a7cbc[_0x26ca0d(0x59f)]==='matching_item'&&(_0x4a7cbc[_0x26ca0d(0x17a)]=_0x86cc39);});const _0xfa2b0a=currentEditingQuizData['id'],_0x5c35e3=doc(db,_0x59a60f(0x243)+appId+_0x59a60f(0x495),_0xfa2b0a);await updateDoc(_0x5c35e3,{'topic':_0x3c7212,'questions':_0x4ea210}),document[_0x59a60f(0x3ee)]('quiz-editor-modal')[_0x59a60f(0x639)][_0x59a60f(0x87d)](_0x59a60f(0x3f2)),showMessage(_0x59a60f(0x82a),()=>initiateReGradeProcess(_0xfa2b0a));}catch(_0x156e57){console[_0x59a60f(0x56c)]('Error\x20saving\x20quiz\x20edits:',_0x156e57),showMessage(_0x59a60f(0x8f8));}finally{_0x22965c[_0x59a60f(0x566)]=![],_0x22965c[_0x59a60f(0x58a)]=_0x59a60f(0x3b3);}}async function initiateReGradeProcess(_0x240d69){const _0x4ad6e0=_0x248128;showMessage(_0x4ad6e0(0x429));try{const _0x1d3b75=doc(db,_0x4ad6e0(0x243)+appId+_0x4ad6e0(0x495),_0x240d69),_0x565980=await getDoc(_0x1d3b75);if(!_0x565980[_0x4ad6e0(0x225)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x371e72={'id':_0x240d69,..._0x565980[_0x4ad6e0(0x45b)]()},_0x1da1e0=collection(db,_0x4ad6e0(0x243)+appId+_0x4ad6e0(0x495),_0x240d69,_0x4ad6e0(0x8f5)),_0x347527=await getDocs(_0x1da1e0);if(_0x347527['empty']){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x508f44=_0x347527[_0x4ad6e0(0x654)][_0x4ad6e0(0x336)](_0x5b98f8=>reGradeSingleSubmission(_0x5b98f8,_0x371e72));await Promise['all'](_0x508f44);if(_0x371e72[_0x4ad6e0(0x4a0)]){const _0x1ba26c=doc(db,_0x4ad6e0(0x243)+appId+_0x4ad6e0(0x964),_0x371e72[_0x4ad6e0(0x4a0)]),_0x454414=await getDoc(_0x1ba26c);if(_0x454414[_0x4ad6e0(0x225)]()&&_0x454414['data']()[_0x4ad6e0(0x790)]){const _0x492cf5=_0x454414['data']()[_0x4ad6e0(0x790)][_0x4ad6e0(0x336)](_0x1093f8=>updateStudentProfile(_0x371e72['projectId'],_0x1093f8));await Promise[_0x4ad6e0(0x5d0)](_0x492cf5);}}showMessage(_0x4ad6e0(0x8a3)+_0x347527['size']+_0x4ad6e0(0x7e0));}catch(_0xfc7292){console['error']('Re-grade\x20process\x20failed:',_0xfc7292),showMessage(_0x4ad6e0(0x28c)+_0xfc7292[_0x4ad6e0(0x5d6)]);}}async function reGradeSingleSubmission(_0x23366c,_0x2c48ac){const _0xe33274=_0x248128,_0x4479fd=_0x23366c[_0xe33274(0x45b)](),_0x43d9ab=_0x4479fd[_0xe33274(0x8d1)],_0x3d3ea7=_0x4479fd[_0xe33274(0x18f)]||[],_0x44979b=[];for(const _0x402f1c of _0x3d3ea7){let _0x4c65ec=0x0,_0x420958=[],_0x1f3b48=0x0;const _0x9ee8bb=[];for(const _0x59c3dd of _0x402f1c['answers']){let _0x5ea26a;_0x59c3dd[_0xe33274(0x3f1)]&&(_0x5ea26a=_0x2c48ac[_0xe33274(0x598)][_0xe33274(0x2f4)](_0x3b58ea=>_0x3b58ea['id']===_0x59c3dd[_0xe33274(0x3f1)]));!_0x5ea26a&&_0x59c3dd[_0xe33274(0x86b)]&&(_0x5ea26a=_0x2c48ac['questions'][_0xe33274(0x2f4)](_0x5f0a06=>(_0x5f0a06[_0xe33274(0x4c2)]||_0x5f0a06[_0xe33274(0x830)])===_0x59c3dd[_0xe33274(0x86b)]));let _0x2a9b9d=![];if(_0x5ea26a){const _0x42b364=_0x5ea26a[_0xe33274(0x59f)]||_0x2c48ac[_0xe33274(0x760)];switch(_0x42b364){case _0xe33274(0x88b):if(_0x5ea26a[_0xe33274(0x5b6)]&&_0x5ea26a[_0xe33274(0x553)]<_0x5ea26a[_0xe33274(0x5b6)][_0xe33274(0x888)]){const _0x23b2c1=_0x5ea26a[_0xe33274(0x5b6)][_0x5ea26a[_0xe33274(0x553)]];_0x2a9b9d=_0x59c3dd[_0xe33274(0x231)]===_0x23b2c1;}break;case _0xe33274(0x5f2):const _0x2c4e8e=_0x59c3dd['answer']===!![]||_0x59c3dd[_0xe33274(0x76a)]===_0xe33274(0x584);_0x2a9b9d=_0x2c4e8e===_0x5ea26a[_0xe33274(0x572)];break;case'matching_item':_0x2a9b9d=_0x59c3dd['answer']===_0x5ea26a[_0xe33274(0x8f3)];break;case _0xe33274(0x660):_0x2a9b9d=await gradeShortAnswer(_0x59c3dd[_0xe33274(0x76a)],_0x5ea26a);break;default:_0x2a9b9d=_0x59c3dd['isCorrect'];break;}}if(_0x2a9b9d){_0x4c65ec++,_0x1f3b48++;if(_0x1f3b48===0x3)_0x420958[_0xe33274(0x162)](BADGES[_0xe33274(0x124)]['id']);}else _0x1f3b48=0x0;_0x9ee8bb[_0xe33274(0x162)]({..._0x59c3dd,'isCorrect':_0x2a9b9d});}let _0x3ab8bb=_0x4c65ec*0xa;_0x4c65ec===_0x2c48ac[_0xe33274(0x598)][_0xe33274(0x888)]&&(_0x3ab8bb+=0x32,_0x420958[_0xe33274(0x162)](BADGES['PERFECT_SCORE']['id'])),_0x44979b[_0xe33274(0x162)]({..._0x402f1c,'score':_0x4c65ec,'points':_0x3ab8bb,'badges':Array['from'](new Set(_0x420958)),'answers':_0x9ee8bb});}const _0x593c0b=_0x44979b[_0xe33274(0x888)]>0x0?_0x44979b[0x0]['score']:0x0,_0x2d742e=Math[_0xe33274(0x311)](..._0x44979b['map'](_0x3ae58d=>_0x3ae58d[_0xe33274(0x4a4)])),_0x315c10=_0x44979b[_0xe33274(0x888)]>0x0?_0x44979b[_0x44979b[_0xe33274(0x888)]-0x1][_0xe33274(0x4a4)]:0x0,_0x373cdc=_0x44979b[_0xe33274(0x888)]>0x0?_0x44979b[_0x44979b['length']-0x1][_0xe33274(0x4f1)]:0x0,_0xc0b15c=doc(db,_0xe33274(0x243)+appId+_0xe33274(0x844)+_0x2c48ac['id']+_0xe33274(0x338),_0x43d9ab);await updateDoc(_0xc0b15c,{'attempts':_0x44979b,'firstScore':_0x593c0b,'bestScore':_0x2d742e,'latestScore':_0x315c10,'points':_0x373cdc});}function cleanupQuizOptions(_0xe4a9c7){const _0x180c8f=_0x248128,_0x22636a=(_0x3788be,_0x5d32f8)=>_0x5d32f8===0x0?_0x3788be:_0x22636a(_0x5d32f8,_0x3788be%_0x5d32f8),_0x5053f1=_0x139fac=>{const _0x25f03d=_0xadd6;if(typeof _0x139fac!==_0x25f03d(0x96b))return null;_0x139fac=_0x139fac['trim']();const _0x37b81d=_0x139fac[_0x25f03d(0x19f)](/[ /]/)[_0x25f03d(0x305)](_0x12a425=>_0x12a425!=='');if(_0x37b81d[_0x25f03d(0x888)]===0x3)return parseInt(_0x37b81d[0x0])+parseInt(_0x37b81d[0x1])/parseInt(_0x37b81d[0x2]);else{if(_0x37b81d['length']===0x2)return parseInt(_0x37b81d[0x0])/parseInt(_0x37b81d[0x1]);else{if(_0x37b81d[_0x25f03d(0x888)]===0x1&&!isNaN(_0x37b81d[0x0]))return parseFloat(_0x37b81d[0x0]);}}return null;},_0x26b5bf=_0x1d43dd=>{const _0x142210=_0xadd6;if(typeof _0x1d43dd!==_0x142210(0x96b))return _0x1d43dd;const _0x1ac5d7=_0x1d43dd['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x1ac5d7){const _0x5e1d47=parseInt(_0x1ac5d7[0x1]);let _0x220442=parseInt(_0x1ac5d7[0x2]),_0x37a52a=parseInt(_0x1ac5d7[0x3]);const _0x59a3fc=_0x22636a(_0x220442,_0x37a52a);_0x220442/=_0x59a3fc,_0x37a52a/=_0x59a3fc;if(_0x37a52a===0x1)return(_0x5e1d47+_0x220442)[_0x142210(0x4dd)]();return _0x5e1d47+'\x20'+_0x220442+'/'+_0x37a52a;}return _0x1d43dd;};return _0xe4a9c7&&_0xe4a9c7[_0x180c8f(0x598)]&&_0xe4a9c7[_0x180c8f(0x598)][_0x180c8f(0x762)](_0x2f7aaa=>{const _0x553a1e=_0x180c8f;if(_0x2f7aaa[_0x553a1e(0x59f)]===_0x553a1e(0x88b)&&_0x2f7aaa[_0x553a1e(0x5b6)]){const _0x4d0df1=new Map(),_0x43824b=_0x2f7aaa[_0x553a1e(0x5b6)][_0x2f7aaa[_0x553a1e(0x553)]];_0x2f7aaa[_0x553a1e(0x5b6)][_0x553a1e(0x762)](_0x19307e=>{const _0x573dfe=_0x553a1e,_0x2a022d=_0x26b5bf(_0x19307e),_0x14d293=_0x5053f1(_0x2a022d);_0x14d293!==null&&!_0x4d0df1[_0x573dfe(0x392)](_0x14d293)&&_0x4d0df1[_0x573dfe(0x3b7)](_0x14d293,_0x2a022d);}),_0x2f7aaa['options']=Array[_0x553a1e(0x4df)](_0x4d0df1[_0x553a1e(0x4d9)]());const _0x195230=_0x2f7aaa[_0x553a1e(0x5b6)][_0x553a1e(0x848)](_0x3ac4bd=>_0x3ac4bd===_0x26b5bf(_0x43824b));_0x2f7aaa[_0x553a1e(0x553)]=_0x195230!==-0x1?_0x195230:0x0;}}),_0xe4a9c7;}async function saveQuiz(){const _0x589e3f=_0x248128;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x589e3f(0x372));return;}const _0x429469=document[_0x589e3f(0x3ee)](_0x589e3f(0x1b6));_0x429469[_0x589e3f(0x566)]=!![],_0x429469[_0x589e3f(0x58a)]=_0x589e3f(0x1d6);const _0x4a8b2f=document['getElementById'](_0x589e3f(0x47b))[_0x589e3f(0x39a)];let _0x191791=document[_0x589e3f(0x3ee)](_0x589e3f(0x875))[_0x589e3f(0x548)][_0x589e3f(0x6b7)]();_0x4a8b2f&&!_0x191791['startsWith'](_0x589e3f(0x87b))&&(_0x191791=_0x589e3f(0x186)+_0x191791);try{const _0x46a8d5={'resultsDisplay':document['getElementById'](_0x589e3f(0x1e8))[_0x589e3f(0x635)],'shuffle':document[_0x589e3f(0x3ee)]('shuffle-setting-select')['value'],'timerMode':document['getElementById']('timer-mode-select')[_0x589e3f(0x635)],'timerDuration':parseInt(document['getElementById'](_0x589e3f(0x7ce))[_0x589e3f(0x635)])||0xa,'passingScore':parseInt(document[_0x589e3f(0x3ee)](_0x589e3f(0x6ce))[_0x589e3f(0x635)])||0x0,'isAdaptive':document[_0x589e3f(0x3ee)](_0x589e3f(0x1f6))[_0x589e3f(0x39a)],'loopUntilPass':document[_0x589e3f(0x3ee)](_0x589e3f(0x44a))[_0x589e3f(0x39a)]},_0x1520f2=(currentQuizData[_0x589e3f(0x598)]||[])['map']((_0x1357a4,_0x48acf8)=>{const _0x11d48b=_0x589e3f,_0x2cda39=document[_0x11d48b(0x3ee)](_0x11d48b(0x75f))[_0x11d48b(0x635)],_0x507d09={'id':'q_'+Date[_0x11d48b(0x8ea)]()+'_'+_0x48acf8,'questionText':_0x1357a4[_0x11d48b(0x830)]||'','explanation':_0x1357a4[_0x11d48b(0x205)]||'ไม่มีคำอธิบาย','questionType':_0x1357a4[_0x11d48b(0x59f)]||_0x2cda39,'imageCode':_0x1357a4[_0x11d48b(0x849)]||null};return(_0x507d09['questionType']===_0x11d48b(0x88b)||_0x507d09['questionType']===_0x11d48b(0x2f9)||_0x507d09[_0x11d48b(0x59f)]===_0x11d48b(0x40a)&&_0x1357a4['options'])&&(_0x507d09[_0x11d48b(0x5b6)]=_0x1357a4['options']||[],_0x507d09[_0x11d48b(0x553)]=_0x1357a4[_0x11d48b(0x553)]!==undefined?_0x1357a4[_0x11d48b(0x553)]:0x0),(_0x507d09[_0x11d48b(0x59f)]===_0x11d48b(0x660)||_0x507d09[_0x11d48b(0x59f)]==='fill_in_no_choices'||_0x507d09['questionType']===_0x11d48b(0x40a)&&_0x1357a4[_0x11d48b(0x673)])&&(_0x507d09[_0x11d48b(0x673)]=_0x1357a4[_0x11d48b(0x673)]||''),_0x507d09[_0x11d48b(0x59f)]==='true_false'&&(_0x507d09['correctAnswer']=_0x1357a4[_0x11d48b(0x572)]===!![]),_0x507d09[_0x11d48b(0x59f)]===_0x11d48b(0x732)&&(_0x507d09[_0x11d48b(0x4c2)]=_0x1357a4[_0x11d48b(0x4c2)]||'',_0x507d09[_0x11d48b(0x8f3)]=_0x1357a4['correctResponse']||'',_0x507d09['allResponses']=_0x1357a4[_0x11d48b(0x17a)]||[]),_0x507d09;}),_0x550fbf={'topic':_0x191791,'quizType':currentQuizData[_0x589e3f(0x760)]||_0x589e3f(0x88b),'questions':_0x1520f2,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x589e3f(0x2ad)](),'status':_0x589e3f(0x6b4),'settings':_0x46a8d5,'quizMode':_0x4a8b2f?_0x589e3f(0x464):_0x589e3f(0x3c3),'pairedQuizId':null,'lessonPlan':null};let _0xe6bb0f;while(!![]){_0xe6bb0f=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x589e3f(0x4dd)]();const _0x4e2b4d=await getDoc(doc(db,_0x589e3f(0x243)+appId+_0x589e3f(0x495),_0xe6bb0f));if(!_0x4e2b4d['exists']())break;}await setDoc(doc(db,_0x589e3f(0x243)+appId+_0x589e3f(0x495),_0xe6bb0f),_0x550fbf),currentQuizData[_0x589e3f(0x75d)]=_0x46a8d5,currentQuizData['id']=_0xe6bb0f;const _0x33d65a=document[_0x589e3f(0x3ee)](_0x589e3f(0x35c));_0x33d65a[_0x589e3f(0x58a)]=_0x589e3f(0x525)+_0xe6bb0f+_0x589e3f(0x4c3),document['getElementById'](_0x589e3f(0x5c1))[_0x589e3f(0x631)]('click',()=>copyTextToClipboard(_0xe6bb0f,_0x589e3f(0x480))),document[_0x589e3f(0x3ee)]('start-live-race-generated-btn')[_0x589e3f(0x631)]('click',()=>handleStartLiveRace(_0xe6bb0f)),document[_0x589e3f(0x3ee)]('start-presentation-btn')[_0x589e3f(0x631)]('click',()=>startPresentation(currentQuizData)),document[_0x589e3f(0x3ee)]('admin-try-quiz-btn')[_0x589e3f(0x631)](_0x589e3f(0x493),startAdminTest),showMessage(_0x589e3f(0x83b));}catch(_0x560769){console[_0x589e3f(0x56c)](_0x589e3f(0x5dd),_0x560769),showMessage(_0x589e3f(0x8d3)),_0x429469[_0x589e3f(0x566)]=![],_0x429469[_0x589e3f(0x58a)]=_0x589e3f(0x552);}}function promptForProjectAndSave(){const _0x5c205b=_0x248128,_0x3edbd6=document[_0x5c205b(0x3ee)]('move-quiz-modal'),_0x3ee82e=document['getElementById'](_0x5c205b(0x273)),_0x511e76=_0x3edbd6[_0x5c205b(0x828)]('h3'),_0x502d73=document[_0x5c205b(0x3ee)](_0x5c205b(0x8cb));_0x511e76[_0x5c205b(0x540)]=_0x5c205b(0x17e),_0x502d73[_0x5c205b(0x540)]=_0x5c205b(0x211);allProjects[_0x5c205b(0x888)]===0x0?(_0x3ee82e[_0x5c205b(0x58a)]=_0x5c205b(0x6f3),_0x502d73['disabled']=!![]):(_0x3ee82e[_0x5c205b(0x58a)]=allProjects['map'](_0x10d241=>_0x5c205b(0x469)+_0x10d241['id']+'\x22>'+_0x10d241[_0x5c205b(0x86f)]+_0x5c205b(0x6cc))[_0x5c205b(0x375)](''),_0x502d73[_0x5c205b(0x566)]=![]);_0x3edbd6[_0x5c205b(0x639)][_0x5c205b(0x3cc)](_0x5c205b(0x3f2));const _0x1a891c=()=>{const _0xae60d6=_0x5c205b,_0x38b38e=_0x3ee82e['value'];_0x38b38e?(currentProjectId=_0x38b38e,_0x3edbd6['classList']['add'](_0xae60d6(0x3f2)),saveQuiz(),_0x511e76['textContent']=_0xae60d6(0x404),_0x502d73[_0xae60d6(0x540)]=_0xae60d6(0x7e9),_0x502d73[_0xae60d6(0x83d)](_0xae60d6(0x493),_0x1a891c),_0x502d73[_0xae60d6(0x631)](_0xae60d6(0x493),confirmMoveQuiz)):showMessage(_0xae60d6(0x6c8));};_0x502d73[_0x5c205b(0x83d)]('click',confirmMoveQuiz),_0x502d73[_0x5c205b(0x631)](_0x5c205b(0x493),_0x1a891c);}function copyTextToClipboard(_0x4afd6d,_0x5b99c9){const _0x4f7d95=_0x248128,_0x5a29f9=document[_0x4f7d95(0x3b2)](_0x4f7d95(0x1c8));_0x5a29f9['value']=_0x4afd6d,_0x5a29f9['style'][_0x4f7d95(0x617)]=_0x4f7d95(0x258),_0x5a29f9['style'][_0x4f7d95(0x72d)]='0',document[_0x4f7d95(0x3b6)][_0x4f7d95(0x2a8)](_0x5a29f9),_0x5a29f9[_0x4f7d95(0x2ab)](),_0x5a29f9[_0x4f7d95(0x3ed)]();try{const _0x3bbe68=document[_0x4f7d95(0x648)](_0x4f7d95(0x80d));showMessage(_0x3bbe68?_0x5b99c9:_0x4f7d95(0x8ae));}catch(_0x20cfd6){showMessage('คัดลอกไม่สำเร็จ'),console[_0x4f7d95(0x56c)](_0x4f7d95(0x7e2),_0x20cfd6);}document[_0x4f7d95(0x3b6)][_0x4f7d95(0x44e)](_0x5a29f9);}function listenForProjectQuizzes(_0x4957ca){const _0x4eae22=_0x248128,_0x4b4c1c=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x1f4378=query(_0x4b4c1c,where(_0x4eae22(0x4a0),'==',_0x4957ca));unsubscribeQuizzesListener=onSnapshot(_0x1f4378,async _0x20e2df=>{const _0x249e20=_0x4eae22;allQuizzes=_0x20e2df[_0x249e20(0x654)][_0x249e20(0x336)](_0x5ca5a9=>({'id':_0x5ca5a9['id'],..._0x5ca5a9[_0x249e20(0x45b)]()})),renderQuizzes();},_0x2e2e50=>{const _0x489612=_0x4eae22;console[_0x489612(0x56c)](_0x489612(0x6c6),_0x2e2e50),document['getElementById'](_0x489612(0x39b))[_0x489612(0x58a)]=_0x489612(0x412);});}async function renderQuizzes(){const _0x534997=_0x248128,_0xf21ba=document['getElementById'](_0x534997(0x39b)),_0x5aab18=document[_0x534997(0x3ee)](_0x534997(0x727))['value'][_0x534997(0x577)]();let _0xf982f0;currentProjectId===_0x534997(0x1a7)?_0xf982f0=starredQuizzes:_0xf982f0=allQuizzes;let _0x3349eb=_0xf982f0[_0x534997(0x305)](_0x218bcb=>_0x218bcb['topic'][_0x534997(0x577)]()[_0x534997(0x8b4)](_0x5aab18));_0x3349eb[_0x534997(0x81a)]((_0x32e871,_0xea076f)=>new Date(_0xea076f[_0x534997(0x46c)])-new Date(_0x32e871[_0x534997(0x46c)]));if(_0x3349eb['length']===0x0){_0xf21ba[_0x534997(0x58a)]=_0x534997(0x531);return;}const _0x21dcb1={},_0xd8ee06=_0x3349eb[_0x534997(0x336)](async _0x5479ae=>{const _0x18bfba=_0x534997,_0x5a8592=collection(db,_0x18bfba(0x243)+appId+_0x18bfba(0x844)+_0x5479ae['id']+_0x18bfba(0x338)),_0x59fd64=await getDocs(_0x5a8592);_0x21dcb1[_0x5479ae['id']]=_0x59fd64[_0x18bfba(0x27b)];});await Promise['all'](_0xd8ee06);let _0x4f83a7='';_0x3349eb[_0x534997(0x762)](_0x14f331=>{const _0x5af20f=_0x534997,_0xeb52d3=_0x21dcb1[_0x14f331['id']]||0x0,_0x43da88=_0x14f331[_0x5af20f(0x6d3)]||'active',_0x33ad66=_0x14f331[_0x5af20f(0x75d)]?.[_0x5af20f(0x384)]||'none';let _0x4bad44='',_0x5fab82='';const _0x1074d7=new Date();let _0x53b1e2=_0x43da88;if(_0x43da88===_0x5af20f(0x2c3)){const _0x4d37fc=_0x14f331['startTime']?new Date(_0x14f331['startTime']):null,_0x5a9e85=_0x14f331[_0x5af20f(0x261)]?new Date(_0x14f331[_0x5af20f(0x261)]):null;if(_0x5a9e85&&_0x1074d7>_0x5a9e85)_0x53b1e2=_0x5af20f(0x6b2);else _0x4d37fc&&_0x1074d7<_0x4d37fc?_0x53b1e2=_0x5af20f(0x4cb):_0x53b1e2=_0x5af20f(0x6b4);}switch(_0x53b1e2){case _0x5af20f(0x6b2):_0x4bad44=_0x5af20f(0x60b),_0x5fab82=_0x5af20f(0x252);break;case'scheduled_pending':_0x4bad44=_0x5af20f(0x5f6),_0x5fab82=_0x5af20f(0x2f6);break;case _0x5af20f(0x6b4):_0x4bad44=_0x33ad66!=='none'?'เปิด\x20(จับเวลา)':_0x5af20f(0x390),_0x5fab82=_0x5af20f(0x381);break;default:_0x4bad44='ตั้งเวลา\x20(เปิด)',_0x5fab82=_0x5af20f(0x381);break;}let _0xadd3ee='';const _0x26c38c={'day':_0x5af20f(0x42a),'month':'2-digit','year':_0x5af20f(0x5ef),'hour':_0x5af20f(0x42a),'minute':_0x5af20f(0x42a),'hour12':![]};if(_0x43da88===_0x5af20f(0x2c3)){if(_0x14f331[_0x5af20f(0x769)])_0xadd3ee+=_0x5af20f(0x858)+new Date(_0x14f331[_0x5af20f(0x769)])[_0x5af20f(0x6ba)]('th-TH',_0x26c38c)+_0x5af20f(0x1d4);if(_0x14f331[_0x5af20f(0x261)])_0xadd3ee+=_0x5af20f(0x807)+new Date(_0x14f331[_0x5af20f(0x261)])[_0x5af20f(0x6ba)](_0x5af20f(0x224),_0x26c38c)+_0x5af20f(0x1d4);}let _0x44590d='';if(_0x14f331[_0x5af20f(0x1fd)]){const _0x2ed5e4=allQuizzes[_0x5af20f(0x2f4)](_0x3fd51c=>_0x3fd51c['id']===_0x14f331['pairedQuizId']);if(_0x2ed5e4){let _0x15d5b9,_0xbe9d96;new Date(_0x14f331[_0x5af20f(0x46c)])<new Date(_0x2ed5e4[_0x5af20f(0x46c)])?(_0x15d5b9=_0x14f331['id'],_0xbe9d96=_0x2ed5e4['id']):(_0x15d5b9=_0x2ed5e4['id'],_0xbe9d96=_0x14f331['id']),_0x44590d+=_0x5af20f(0x616)+_0xbe9d96+_0x5af20f(0x57e)+_0x15d5b9+_0x5af20f(0x955);}}else _0x14f331[_0x5af20f(0x13c)]==='pre-test'&&(_0x44590d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14f331['id']+_0x5af20f(0x463));if(_0x14f331[_0x5af20f(0x13c)]==='pre-test'&&_0xeb52d3>0x0)_0x44590d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14f331['id']+_0x5af20f(0x8b9);else!_0x14f331[_0x5af20f(0x1fd)]&&_0x14f331[_0x5af20f(0x13c)]!=='pre-test'&&_0xeb52d3>0x0&&(_0x44590d+=_0x5af20f(0x6a9)+_0x14f331['id']+_0x5af20f(0x382));let _0x525148='';_0x14f331[_0x5af20f(0x1fd)]?_0x525148=_0x5af20f(0x1b9)+_0x14f331['id']+_0x5af20f(0x7f9):_0x525148=_0x5af20f(0x1b9)+_0x14f331['id']+_0x5af20f(0x6d5),_0x4f83a7+=_0x5af20f(0x61f)+_0x14f331['id']+_0x5af20f(0x576)+_0x14f331['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x14f331[_0x5af20f(0x598)][_0x5af20f(0x888)]+_0x5af20f(0x17c)+new Date(_0x14f331['createdAt'])[_0x5af20f(0x6ba)](_0x5af20f(0x224))+_0x5af20f(0x58c)+_0xeb52d3+_0x5af20f(0x467)+_0xadd3ee+_0x5af20f(0x7a5)+_0x5fab82+'\x22>'+_0x4bad44+_0x5af20f(0x80c)+_0x14f331['id']+_0x5af20f(0x353)+_0x14f331['id']+_0x5af20f(0x934)+(_0x14f331[_0x5af20f(0x385)]?_0x5af20f(0x70e):_0x5af20f(0x605))+_0x5af20f(0x7ef)+_0x44590d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14f331['id']+_0x5af20f(0x938)+_0x14f331['id']+_0x5af20f(0x247)+_0x14f331['id']+_0x5af20f(0x406)+_0x14f331['id']+_0x5af20f(0x15a)+_0x14f331['id']+_0x5af20f(0x8dd)+_0x14f331['id']+_0x5af20f(0x1f5)+_0x14f331['id']+_0x5af20f(0x5d1)+_0x14f331[_0x5af20f(0x7f3)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14f331['id']+_0x5af20f(0x16f)+_0x14f331['id']+_0x5af20f(0x5b4)+_0x525148+_0x5af20f(0x4af)+_0x14f331['id']+_0x5af20f(0x501)+_0x14f331['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x14f331['id']+_0x5af20f(0x95f)+_0x14f331['id']+_0x5af20f(0x6df)+_0x14f331['id']+_0x5af20f(0x5d1)+_0x14f331['topic']+_0x5af20f(0x722)+_0x14f331['id']+_0x5af20f(0x5cc);}),_0xf21ba['innerHTML']=_0x4f83a7,document[_0x534997(0x8e0)](_0x534997(0x329))[_0x534997(0x762)](_0x57b287=>{const _0x52e916=_0x534997;_0x57b287['addEventListener'](_0x52e916(0x493),()=>{const _0x225481=_0x52e916,_0xc4759e=_0x57b287[_0x225481(0x334)][_0x225481(0x6a5)];showQuizDetailView(_0xc4759e);});});}async function handleUnpairQuiz(_0x57fdb2){const _0x48e01d=_0x248128,_0x7b5c06=allQuizzes[_0x48e01d(0x2f4)](_0x51e6e3=>_0x51e6e3['id']===_0x57fdb2);if(!_0x7b5c06||!_0x7b5c06[_0x48e01d(0x1fd)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x48e01d(0x254),async()=>{const _0x8b67f4=_0x48e01d;try{const _0x84a7c=doc(db,_0x8b67f4(0x243)+appId+_0x8b67f4(0x495),_0x57fdb2),_0x4c469c=doc(db,'artifacts/'+appId+_0x8b67f4(0x495),_0x7b5c06[_0x8b67f4(0x1fd)]),_0x1c805e=writeBatch(db);_0x1c805e[_0x8b67f4(0x56f)](_0x84a7c,{'pairedQuizId':null}),_0x1c805e[_0x8b67f4(0x56f)](_0x4c469c,{'pairedQuizId':null}),await _0x1c805e[_0x8b67f4(0x2b2)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x1ebbfb){console[_0x8b67f4(0x56c)](_0x8b67f4(0x84b),_0x1ebbfb),showMessage(_0x8b67f4(0x288));}});}function formatAndPrintLessonPlan(_0x1f3f23,_0x386cec){const _0x15b0a2=_0x248128,_0x4c8c4a=window['open']('',_0x15b0a2(0x7c7)),_0x4aa9b0=_0x15b0a2(0x6ac)+_0x386cec[_0x15b0a2(0x7f3)]+_0x15b0a2(0x529)+_0x386cec[_0x15b0a2(0x7f3)]+_0x15b0a2(0x2c4)+_0x1f3f23[_0x15b0a2(0x32a)][_0x15b0a2(0x336)](_0x5427db=>_0x15b0a2(0x3c5)+_0x5427db+_0x15b0a2(0x328))[_0x15b0a2(0x375)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x1f3f23[_0x15b0a2(0x555)]+_0x15b0a2(0x595)+_0x1f3f23[_0x15b0a2(0x425)][_0x15b0a2(0x336)](_0x12ec54=>_0x15b0a2(0x865)+_0x12ec54[_0x15b0a2(0x3c8)]+_0x15b0a2(0x925)+_0x12ec54['solution']+_0x15b0a2(0x870))[_0x15b0a2(0x375)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4c8c4a[_0x15b0a2(0x533)][_0x15b0a2(0x679)](_0x4aa9b0),_0x4c8c4a[_0x15b0a2(0x533)][_0x15b0a2(0x6f2)](),_0x4c8c4a[_0x15b0a2(0x43e)]=function(){setTimeout(()=>{const _0x4300b0=_0xadd6;_0x4c8c4a[_0x4300b0(0x537)]();},0x3e8);};}async function handleAiFixFormula(_0x3d1859){const _0x565e58=_0x248128,_0x4c71ea=document['querySelector'](_0x565e58(0x3a3)+_0x3d1859+'\x22]');if(!_0x4c71ea)return;const _0xbb0e1e=_0x4c71ea[_0x565e58(0x334)]['qType'],_0x24b1d2=_0x4c71ea['querySelector']('.ai-fix-formula-btn');let _0x47caa2={'question':_0x4c71ea['querySelector'](_0x565e58(0x1c8))[_0x565e58(0x635)]};switch(_0xbb0e1e){case _0x565e58(0x88b):_0x47caa2[_0x565e58(0x5b6)]=Array[_0x565e58(0x4df)](_0x4c71ea[_0x565e58(0x8e0)](_0x565e58(0x818)))[_0x565e58(0x336)](_0x5e4321=>_0x5e4321[_0x565e58(0x635)]);break;case _0x565e58(0x660):_0x47caa2[_0x565e58(0x673)]=_0x4c71ea['querySelector'](_0x565e58(0x155))[_0x565e58(0x635)];break;case _0x565e58(0x732):_0x47caa2[_0x565e58(0x8f3)]=_0x4c71ea[_0x565e58(0x828)](_0x565e58(0x27e))['value'];break;}_0x24b1d2['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x24b1d2['disabled']=!![];try{const _0x28eb62=_0x565e58(0x661)+JSON['stringify'](_0x47caa2)+_0x565e58(0x500),_0x5b04d1={'type':_0x565e58(0x7e1),'properties':{'fixedData':{'type':_0x565e58(0x7e1),'properties':{'question':{'type':'STRING'},'options':{'type':_0x565e58(0x15b),'items':{'type':_0x565e58(0x77e)}},'idealAnswer':{'type':_0x565e58(0x77e)},'correctResponse':{'type':_0x565e58(0x77e)}},'required':['question']}},'required':[_0x565e58(0x851)]},_0x5d1de6=await callAnalysisApi(_0x28eb62,_0x5b04d1);if(_0x5d1de6&&_0x5d1de6['fixedData']){const _0x34d0b5=_0x5d1de6['fixedData'];_0x4c71ea[_0x565e58(0x828)]('textarea')[_0x565e58(0x635)]=_0x34d0b5['question']||_0x47caa2[_0x565e58(0x3c8)];switch(_0xbb0e1e){case _0x565e58(0x88b):_0x34d0b5[_0x565e58(0x5b6)]&&_0x34d0b5[_0x565e58(0x5b6)][_0x565e58(0x888)]>0x0&&_0x4c71ea['querySelectorAll'](_0x565e58(0x818))['forEach']((_0x371b53,_0x438b2e)=>{const _0x5b45d3=_0x565e58;_0x371b53[_0x5b45d3(0x635)]=_0x34d0b5[_0x5b45d3(0x5b6)][_0x438b2e]||_0x47caa2[_0x5b45d3(0x5b6)][_0x438b2e];});break;case _0x565e58(0x660):_0x4c71ea[_0x565e58(0x828)](_0x565e58(0x155))[_0x565e58(0x635)]=_0x34d0b5[_0x565e58(0x673)]||_0x47caa2['idealAnswer'];break;case'matching_item':_0x4c71ea[_0x565e58(0x828)]('.correct-response-input')[_0x565e58(0x635)]=_0x34d0b5[_0x565e58(0x8f3)]||_0x47caa2[_0x565e58(0x8f3)];break;}if(_0x47caa2[_0x565e58(0x3c8)]!==_0x34d0b5[_0x565e58(0x3c8)])try{const _0x1a4384=collection(db,_0x565e58(0x243)+appId+'/public/data/learnedFixes');await addDoc(_0x1a4384,{'broken':_0x47caa2['question'],'fixed':_0x34d0b5[_0x565e58(0x3c8)],'createdAt':serverTimestamp()});}catch(_0x223f8e){console[_0x565e58(0x56c)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x223f8e);}showMessage(_0x565e58(0x7fe));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x41b025){console['error'](_0x565e58(0x8e9),_0x41b025),showMessage(_0x565e58(0x12d));}finally{_0x24b1d2[_0x565e58(0x58a)]=_0x565e58(0x283),_0x24b1d2['disabled']=![];}}async function handleGenerateLessonPlan(_0x56dbc2){const _0x341150=_0x248128;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x366113=doc(db,_0x341150(0x243)+appId+_0x341150(0x495),_0x56dbc2),_0x46b846=await getDoc(_0x366113);if(!_0x46b846['exists']())throw new Error(_0x341150(0x3aa));const _0x34e51f={'id':_0x56dbc2,..._0x46b846[_0x341150(0x45b)]()},_0x91520e=collection(db,_0x341150(0x243)+appId+_0x341150(0x495),_0x56dbc2,_0x341150(0x8f5)),_0x638496=await getDocs(_0x91520e),_0x13a5a4=_0x638496[_0x341150(0x654)][_0x341150(0x336)](_0x3af8b7=>_0x3af8b7[_0x341150(0x45b)]());if(_0x13a5a4[_0x341150(0x888)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x4c74ef=calculateItemAnalysis(_0x34e51f,_0x13a5a4)[_0x341150(0x250)],_0xaa05ab=calculateDistractorAnalysis(_0x34e51f,_0x13a5a4),_0x181e90=_0x4b6b4b=>{const _0x489ac6=_0x341150;if(!_0x4b6b4b)return'';return _0x4b6b4b['replace'](/\\/g,'\x5c\x5c')[_0x489ac6(0x92e)](/"/g,'\x5c\x22')[_0x489ac6(0x92e)](/\n/g,'\x5cn');};let _0x4ddc6d=_0x341150(0x148);_0x34e51f[_0x341150(0x598)]['forEach']((_0x3b4cd5,_0x49d211)=>{const _0x375fd0=_0x341150,_0xd67ff9=_0x4c74ef[_0x49d211]?.['p'][_0x375fd0(0x55a)](0x2)||'N/A',_0x3334ee=_0x4c74ef[_0x49d211]?.['r'][_0x375fd0(0x55a)](0x2)||'N/A',_0x54355d=_0x181e90(_0x3b4cd5[_0x375fd0(0x830)]||_0x3b4cd5[_0x375fd0(0x4c2)]);_0x4ddc6d+=_0x375fd0(0x545)+(_0x49d211+0x1)+_0x375fd0(0x52d)+_0xd67ff9+_0x375fd0(0x290)+_0x3334ee+_0x375fd0(0x43c)+_0x54355d+'\x5cn';if(_0x3b4cd5[_0x375fd0(0x59f)]===_0x375fd0(0x88b)&&_0xaa05ab[_0x49d211]){const _0x2a6817=_0xaa05ab[_0x49d211],_0x1db8f6=Object[_0x375fd0(0x292)](_0x2a6817)[_0x375fd0(0x305)](_0x324493=>parseInt(_0x324493)!==_0x3b4cd5[_0x375fd0(0x553)])['sort']((_0xe88b5d,_0x1a9c3a)=>_0x2a6817[_0x1a9c3a][_0x375fd0(0x41f)]-_0x2a6817[_0xe88b5d][_0x375fd0(0x41f)])[0x0];if(_0x1db8f6&&_0x2a6817[_0x1db8f6][_0x375fd0(0x41f)]>0x0){const _0x4766d8=_0x181e90(_0x2a6817[_0x1db8f6]['text']);_0x4ddc6d+=_0x375fd0(0x7e7)+_0x4766d8+'\x22\x5cn';}}});const _0x5d7374=_0x341150(0x51a)+_0x34e51f[_0x341150(0x7f3)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ddc6d+_0x341150(0x629),_0x1233cc={'type':'OBJECT','properties':{'learningGaps':{'type':_0x341150(0x15b),'items':{'type':_0x341150(0x77e)}},'teachingContent':{'type':_0x341150(0x77e)},'practiceProblems':{'type':_0x341150(0x15b),'items':{'type':_0x341150(0x7e1),'properties':{'question':{'type':_0x341150(0x77e)},'solution':{'type':'STRING'}}}}},'required':[_0x341150(0x32a),_0x341150(0x555),_0x341150(0x425)]},_0x2720cb=await callAnalysisApi(_0x5d7374,_0x1233cc);await updateDoc(_0x366113,{'lessonPlan':_0x2720cb});const _0x5896ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x34e51f[_0x341150(0x7f3)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2720cb[_0x341150(0x32a)]['map'](_0x17731d=>_0x341150(0x3c5)+_0x17731d+_0x341150(0x328))[_0x341150(0x375)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2720cb[_0x341150(0x555)]+_0x341150(0x549)+_0x2720cb['practiceProblems'][_0x341150(0x336)](_0x418e21=>_0x341150(0x604)+_0x418e21[_0x341150(0x3c8)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x418e21[_0x341150(0x341)]+_0x341150(0x5c7))[_0x341150(0x375)]('')+_0x341150(0x5b0);document['getElementById'](_0x341150(0x424))[_0x341150(0x540)]=_0x341150(0x737)+_0x34e51f[_0x341150(0x7f3)],document[_0x341150(0x3ee)]('lesson-plan-content')[_0x341150(0x58a)]=_0x5896ac,document[_0x341150(0x3ee)](_0x341150(0x402))[_0x341150(0x639)]['remove'](_0x341150(0x3f2));if(window[_0x341150(0x46e)])MathJax[_0x341150(0x8c0)]();messageModal[_0x341150(0x639)][_0x341150(0x87d)]('hidden');}catch(_0x2beee3){console[_0x341150(0x56c)](_0x341150(0x8e5),_0x2beee3),showMessage(_0x341150(0x3a1)+_0x2beee3[_0x341150(0x5d6)]);}}async function handleDuplicateQuiz(_0x40a9ff){const _0x33cc74=_0x248128;try{const _0xf2c789=doc(db,_0x33cc74(0x243)+appId+_0x33cc74(0x495),_0x40a9ff),_0x54bf18=await getDoc(_0xf2c789);if(_0x54bf18['exists']()){const _0x40f235=_0x54bf18[_0x33cc74(0x45b)]();let _0x333170='',_0x1145dd='standard',_0x5397fb=null;if(_0x40f235[_0x33cc74(0x13c)]===_0x33cc74(0x464)){let _0x1c21ae=_0x40f235[_0x33cc74(0x7f3)][_0x33cc74(0x92e)](_0x33cc74(0x87b),'')[_0x33cc74(0x6b7)]();_0x333170=_0x33cc74(0x62a)+_0x1c21ae,_0x1145dd=_0x33cc74(0x461),_0x5397fb=_0x40a9ff;}else _0x333170='(คัดลอก)\x20'+_0x40f235['topic'];const _0x3c86b5={..._0x40f235,'topic':_0x333170,'createdAt':new Date()['toISOString'](),'quizMode':_0x1145dd,'pairedQuizId':_0x5397fb};let _0x2823ee;while(!![]){_0x2823ee=Math['floor'](0x3e8+Math[_0x33cc74(0x903)]()*0x2328)['toString']();const _0x20753=await getDoc(doc(db,_0x33cc74(0x243)+appId+'/public/data/quizzes',_0x2823ee));if(!_0x20753[_0x33cc74(0x225)]())break;}const _0x3b2004=doc(db,'artifacts/'+appId+_0x33cc74(0x495),_0x2823ee);await setDoc(_0x3b2004,_0x3c86b5),_0x3c86b5[_0x33cc74(0x13c)]===_0x33cc74(0x461)&&await updateDoc(_0xf2c789,{'pairedQuizId':_0x2823ee}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x51f4b6){console[_0x33cc74(0x56c)](_0x33cc74(0x18c),_0x51f4b6),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x3e151,_0x51df28=!![]){const _0xb470dc=_0x248128;try{const _0x1644e9=writeBatch(db),_0x1047f3=collection(db,_0xb470dc(0x243)+appId+_0xb470dc(0x844)+_0x3e151+'/submissions'),_0x18a2e3=await getDocs(_0x1047f3);_0x18a2e3['forEach'](_0x32eec3=>{const _0x2e749e=_0xb470dc;_0x1644e9[_0x2e749e(0x16a)](doc(_0x1047f3,_0x32eec3['id']));});const _0xf8ec91=doc(db,_0xb470dc(0x243)+appId+_0xb470dc(0x495),_0x3e151);_0x1644e9[_0xb470dc(0x16a)](_0xf8ec91),await _0x1644e9[_0xb470dc(0x2b2)](),_0x51df28&&showMessage(_0xb470dc(0x435));}catch(_0x77653a){console[_0xb470dc(0x56c)](_0xb470dc(0x37c),_0x77653a),_0x51df28&&showMessage(_0xb470dc(0x4b2));}}async function showQuizDetailView(_0x304ac3){const _0x26dfbd=_0x248128;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x26dfbd(0x7de));try{const _0x1c7ad3=doc(db,_0x26dfbd(0x243)+appId+_0x26dfbd(0x495),_0x304ac3),_0x5c71c3=await getDoc(_0x1c7ad3);if(!_0x5c71c3[_0x26dfbd(0x225)]()){showMessage(_0x26dfbd(0x3aa));return;}const _0x593d0c={'id':_0x5c71c3['id'],..._0x5c71c3[_0x26dfbd(0x45b)]()};currentQuizData=_0x593d0c;const _0x1998e3=doc(db,_0x26dfbd(0x243)+appId+_0x26dfbd(0x964),_0x593d0c[_0x26dfbd(0x4a0)]),_0x1f65d5=await getDoc(_0x1998e3);_0x1f65d5[_0x26dfbd(0x225)]()?(currentProjectData=_0x1f65d5[_0x26dfbd(0x45b)](),currentProjectId=_0x593d0c['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x593d0c[_0x26dfbd(0x4a0)]);document[_0x26dfbd(0x3ee)](_0x26dfbd(0x60f))['textContent']=_0x593d0c['topic'],document[_0x26dfbd(0x3ee)](_0x26dfbd(0x4f2))['textContent']=_0x304ac3;const _0x5a8b6b=collection(db,_0x26dfbd(0x243)+appId+_0x26dfbd(0x495),_0x304ac3,_0x26dfbd(0x8f5));unsubscribeSubmissionsListener=onSnapshot(_0x5a8b6b,_0x3f60aa=>{const _0x4d39d5=_0x26dfbd,_0x1b2469=_0x3f60aa[_0x4d39d5(0x654)]['map'](_0x2f5bf5=>({'id':_0x2f5bf5['id'],..._0x2f5bf5[_0x4d39d5(0x45b)]()}));currentSubmissions=_0x1b2469;const _0x6378da=_0x1b2469[_0x4d39d5(0x305)](_0x1e9169=>_0x1e9169[_0x4d39d5(0x18f)]&&_0x1e9169[_0x4d39d5(0x18f)]['length']>0x0);renderBehaviorLog(_0x1b2469),renderAnswerGrid(currentProjectData[_0x4d39d5(0x790)],_0x6378da,_0x593d0c),renderAnalytics(_0x593d0c,_0x6378da),renderQuizResultsTable(currentProjectData[_0x4d39d5(0x790)],_0x1b2469,_0x593d0c),renderQuizLeaderboard(_0x6378da,_0x593d0c,_0x4d39d5(0x64d));}),showView(_0x26dfbd(0x3ef));}catch(_0x57f2a9){console[_0x26dfbd(0x56c)](_0x26dfbd(0x125),_0x57f2a9),showMessage(_0x26dfbd(0x3e9));}}function renderAnswerGrid(_0xe45dc4,_0x21f1fc,_0x4bd5d3){const _0x59ece8=_0x248128,_0x13fc4f=document[_0x59ece8(0x3ee)](_0x59ece8(0x215));if(!_0x13fc4f)return;if(!_0xe45dc4||_0xe45dc4['length']===0x0){_0x13fc4f[_0x59ece8(0x58a)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x214960=_0x4bd5d3[_0x59ece8(0x598)],_0x59bf0b=_0x21f1fc['reduce']((_0x438c72,_0x4eb142)=>{const _0x258638=_0x59ece8;return _0x438c72[_0x4eb142[_0x258638(0x8d1)]]=_0x4eb142,_0x438c72;},{}),_0x289b09=_0x54b0a8=>String[_0x59ece8(0x857)](0x41+_0x54b0a8),_0x26f1a5=_0x561949=>{const _0x24fd0f=_0x59ece8,_0x3134c1=_0x561949[_0x24fd0f(0x59f)]||_0x4bd5d3[_0x24fd0f(0x760)];switch(_0x3134c1){case _0x24fd0f(0x88b):return _0x561949[_0x24fd0f(0x5b6)]&&_0x561949['options'][_0x24fd0f(0x888)]>_0x561949['correctAnswerIndex']?_0x289b09(_0x561949[_0x24fd0f(0x553)]):'-';case _0x24fd0f(0x5f2):return _0x561949[_0x24fd0f(0x572)]?'ใช่':_0x24fd0f(0x48f);case _0x24fd0f(0x732):return _0x561949[_0x24fd0f(0x8f3)]||'-';case'short_answer':return _0x24fd0f(0x873);default:return'-';}},_0x20d1f1=(_0x867703,_0x22a79a)=>{const _0x174120=_0x59ece8;if(_0x22a79a['answer']===null||_0x22a79a[_0x174120(0x76a)]===undefined)return'-';const _0x16de78=_0x867703[_0x174120(0x59f)]||_0x4bd5d3['quizType'];switch(_0x16de78){case _0x174120(0x88b):const _0x21b9d3=_0x867703[_0x174120(0x5b6)][_0x174120(0x848)](_0xbac21=>_0xbac21===_0x22a79a[_0x174120(0x231)]);return _0x21b9d3!==-0x1?_0x289b09(_0x21b9d3):_0x22a79a[_0x174120(0x231)]||'-';case _0x174120(0x5f2):return _0x22a79a[_0x174120(0x76a)]===_0x174120(0x584)||_0x22a79a['answer']===!![]?_0x174120(0x134):_0x174120(0x48f);default:return _0x22a79a[_0x174120(0x76a)];}};let _0x242be8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x214960[_0x59ece8(0x336)]((_0x55c622,_0x52f214)=>_0x59ece8(0x443)+(_0x52f214+0x1)+'</th>')[_0x59ece8(0x375)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x214960[_0x59ece8(0x336)](_0x5083ef=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x26f1a5(_0x5083ef)+_0x59ece8(0x6c1))['join']('')+_0x59ece8(0x260);_0xe45dc4[_0x59ece8(0x762)](_0x156a1f=>{const _0x1064b8=_0x59ece8;_0x242be8+=_0x1064b8(0x795),_0x242be8+=_0x1064b8(0x177)+_0x156a1f+_0x1064b8(0x6c1);const _0x1081b6=_0x59bf0b[_0x156a1f];if(_0x1081b6){const _0x1f468f=_0x1081b6[_0x1064b8(0x18f)][_0x1081b6['attempts'][_0x1064b8(0x888)]-0x1];_0x214960[_0x1064b8(0x762)]((_0x2b94f8,_0x4ffa9b)=>{const _0x46e4bc=_0x1064b8,_0x5c448f=_0x1f468f[_0x46e4bc(0x1e2)][_0x46e4bc(0x2f4)](_0x2d0ee1=>_0x2d0ee1[_0x46e4bc(0x86b)]===(_0x2b94f8['stem']||_0x2b94f8[_0x46e4bc(0x830)]));if(_0x5c448f){let _0x3d76df=![];const _0x2989cb=_0x2b94f8['questionType']||_0x4bd5d3[_0x46e4bc(0x760)];if(_0x5c448f[_0x46e4bc(0x76a)]!==null&&_0x5c448f[_0x46e4bc(0x76a)]!==undefined)switch(_0x2989cb){case _0x46e4bc(0x88b):const _0x53dbb5=_0x2b94f8['options'][_0x2b94f8['correctAnswerIndex']];_0x3d76df=_0x5c448f[_0x46e4bc(0x231)]===_0x53dbb5;break;case'true_false':const _0x3028bf=_0x5c448f['answer']===!![]||_0x5c448f[_0x46e4bc(0x76a)]==='true';_0x3d76df=_0x3028bf===_0x2b94f8[_0x46e4bc(0x572)];break;case _0x46e4bc(0x732):_0x3d76df=_0x5c448f[_0x46e4bc(0x76a)]===_0x2b94f8[_0x46e4bc(0x8f3)];break;default:_0x3d76df=_0x5c448f[_0x46e4bc(0x2e0)];break;}const _0x1dc91a=_0x3d76df?'bg-green-100':'bg-red-100';_0x242be8+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x1dc91a+'\x22>'+_0x20d1f1(_0x2b94f8,_0x5c448f)+'</td>';}else _0x242be8+=_0x46e4bc(0x766);});}else _0x242be8+=_0x214960[_0x1064b8(0x336)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x1064b8(0x375)]('');_0x242be8+='</tr>';}),_0x242be8+=_0x59ece8(0x14b),_0x13fc4f[_0x59ece8(0x58a)]=_0x242be8;}function renderQuizResultsTable(_0x53e5d2,_0x158a11,_0x2cd131){const _0x5e4465=_0x248128,_0x1ed80c=_0x158a11[_0x5e4465(0x494)]((_0xd3a3ef,_0x5d8919)=>{const _0x4c5aa5=_0x5e4465;return _0xd3a3ef[_0x5d8919[_0x4c5aa5(0x8d1)]]=_0x5d8919,_0xd3a3ef;},{}),_0x54022c=document['querySelector'](_0x5e4465(0x8ce));_0x54022c&&!_0x54022c[_0x5e4465(0x58a)]['includes']('จัดการ')&&(_0x54022c[_0x5e4465(0x58a)]+=_0x5e4465(0x368));const _0x5eb8d8=document[_0x5e4465(0x3ee)](_0x5e4465(0x969));if(!_0x53e5d2||_0x53e5d2[_0x5e4465(0x888)]===0x0){_0x5eb8d8[_0x5e4465(0x58a)]=_0x5e4465(0x2d8);return;}const _0x4eda68=_0x2cd131[_0x5e4465(0x232)]===!![],_0x8967ab=_0x2cd131[_0x5e4465(0x75d)]?.['passingScore']??-0x1;let _0x29a14f='';_0x53e5d2[_0x5e4465(0x762)](_0x28c01d=>{const _0x31b401=_0x5e4465,_0x1854b3=_0x1ed80c[_0x28c01d];let _0x315fc2=_0x31b401(0x194)+(_0x4eda68?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x4eda68?_0x31b401(0x482):'สอบปกติ')+_0x31b401(0x659);if(_0x1854b3){if(_0x1854b3[_0x31b401(0x18f)]&&_0x1854b3[_0x31b401(0x18f)][_0x31b401(0x888)]>0x0){let _0x383c5a=_0x4eda68?_0x1854b3[_0x31b401(0x63f)]===_0x1854b3[_0x31b401(0x593)]:_0x8967ab!==-0x1&&_0x1854b3[_0x31b401(0x63f)]>=_0x8967ab;const _0x46e6d1=_0x383c5a?_0x31b401(0x643):'bg-red-100\x20text-red-800',_0x242ba0=_0x383c5a?_0x31b401(0x218):_0x31b401(0x209),_0x5e62bc='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x46e6d1+'\x22>'+_0x242ba0+_0x31b401(0x659),_0x35f5f4=_0x31b401(0x1ce)+(_0x1854b3[_0x31b401(0x18f)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x29a14f+=_0x31b401(0x715)+_0x28c01d+_0x31b401(0x523)+_0x1854b3[_0x31b401(0x63f)]+_0x31b401(0x1de)+_0x1854b3[_0x31b401(0x593)]+_0x31b401(0x248)+_0x5e62bc+_0x31b401(0x285)+_0x315fc2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x1854b3['firstScore']+_0x31b401(0x1de)+_0x1854b3['totalQuestions']+_0x31b401(0x7ae)+_0x1854b3[_0x31b401(0x840)]+_0x31b401(0x1de)+_0x1854b3[_0x31b401(0x593)]+_0x31b401(0x462)+(_0x1854b3[_0x31b401(0x4f1)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35f5f4+_0x31b401(0x128)+new Date(_0x1854b3[_0x31b401(0x3ce)])['toLocaleString'](_0x31b401(0x224))+_0x31b401(0x66e)+_0x28c01d+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x44916c=_0x31b401(0x4ec);_0x29a14f+=_0x31b401(0x906)+_0x28c01d+_0x31b401(0x39c)+_0x315fc2+_0x31b401(0x207)+_0x44916c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1854b3[_0x31b401(0x4fc)])[_0x31b401(0x6ba)](_0x31b401(0x224))+_0x31b401(0x2b9)+_0x28c01d+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x30adc9=_0x31b401(0x7cd);_0x29a14f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x28c01d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x315fc2+_0x31b401(0x269)+_0x30adc9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x5eb8d8['innerHTML']=_0x29a14f;}async function confirmRenameQuiz(){const _0x2ee006=_0x248128,_0x916ffe=document[_0x2ee006(0x3ee)](_0x2ee006(0x7d8))['value'][_0x2ee006(0x6b7)]();if(!_0x916ffe){showMessage(_0x2ee006(0x1cb));return;}if(!actionTargetId)return;const _0x43eea6=doc(db,_0x2ee006(0x243)+appId+_0x2ee006(0x495),actionTargetId);try{await updateDoc(_0x43eea6,{'topic':_0x916ffe}),showMessage(_0x2ee006(0x6c2)),renameQuizModal[_0x2ee006(0x639)][_0x2ee006(0x87d)](_0x2ee006(0x3f2)),actionTargetId=null;}catch(_0x682dee){console[_0x2ee006(0x56c)](_0x2ee006(0x80f),_0x682dee),showMessage(_0x2ee006(0x7dc));}}async function handleMoveQuiz(_0xf32d82){const _0x1e6ba4=_0x248128;actionTargetId=_0xf32d82;const _0x40143b=document[_0x1e6ba4(0x3ee)](_0x1e6ba4(0x273));_0x40143b[_0x1e6ba4(0x58a)]=_0x1e6ba4(0x73f),moveQuizModal[_0x1e6ba4(0x639)][_0x1e6ba4(0x3cc)]('hidden');try{const _0x1658a4=collection(db,_0x1e6ba4(0x243)+appId+_0x1e6ba4(0x964)),_0x41c9a2=await getDocs(_0x1658a4),_0x36a0e7=_0x41c9a2[_0x1e6ba4(0x654)]['map'](_0x588e2f=>({'id':_0x588e2f['id'],..._0x588e2f[_0x1e6ba4(0x45b)]()})),_0x370a13=_0x36a0e7[_0x1e6ba4(0x305)](_0x13a1e4=>_0x13a1e4['id']!==currentProjectId);if(_0x370a13['length']===0x0){_0x40143b['innerHTML']=_0x1e6ba4(0x1b5),document[_0x1e6ba4(0x3ee)](_0x1e6ba4(0x8cb))[_0x1e6ba4(0x566)]=!![];return;}_0x40143b['innerHTML']=_0x370a13[_0x1e6ba4(0x336)](_0x14b959=>'<option\x20value=\x22'+_0x14b959['id']+'\x22>'+_0x14b959['projectName']+_0x1e6ba4(0x6cc))['join'](''),document[_0x1e6ba4(0x3ee)]('confirm-move-quiz-btn')[_0x1e6ba4(0x566)]=![];}catch(_0x3ea784){console[_0x1e6ba4(0x56c)](_0x1e6ba4(0x444),_0x3ea784),showMessage(_0x1e6ba4(0x4a8)),moveQuizModal['classList']['add']('hidden');}}async function confirmMoveQuiz(){const _0x4ebde5=_0x248128,_0x8934bb=document[_0x4ebde5(0x3ee)](_0x4ebde5(0x273))['value'];if(!_0x8934bb){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x31018a=doc(db,_0x4ebde5(0x243)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x31018a,{'projectId':_0x8934bb}),showMessage(_0x4ebde5(0x333)),moveQuizModal[_0x4ebde5(0x639)]['add'](_0x4ebde5(0x3f2)),actionTargetId=null;}catch(_0x16edd5){console[_0x4ebde5(0x56c)](_0x4ebde5(0x8ef),_0x16edd5),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x3607ce){const _0x56b036=_0x248128;actionTargetId=_0x3607ce;const _0x479217=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3607ce);try{const _0x5e6a4d=await getDoc(_0x479217);if(_0x5e6a4d[_0x56b036(0x225)]()){const _0x36ea25=_0x5e6a4d[_0x56b036(0x45b)](),_0x3ddbd3=_0x36ea25[_0x56b036(0x75d)]||{},_0x5bb801=_0x36ea25[_0x56b036(0x598)][_0x56b036(0x888)];document[_0x56b036(0x3ee)](_0x56b036(0x607))[_0x56b036(0x635)]=_0x3ddbd3[_0x56b036(0x957)]||_0x56b036(0x51e),document['getElementById'](_0x56b036(0x22e))['value']=_0x3ddbd3[_0x56b036(0x750)]||'show_results_and_answers',document[_0x56b036(0x3ee)](_0x56b036(0x66a))[_0x56b036(0x635)]=_0x3ddbd3[_0x56b036(0x384)]||_0x56b036(0x51e),document[_0x56b036(0x3ee)](_0x56b036(0x91b))['value']=_0x3ddbd3[_0x56b036(0x6a1)]||0xa,document['getElementById'](_0x56b036(0x693))[_0x56b036(0x635)]=_0x3ddbd3[_0x56b036(0x802)]||Math[_0x56b036(0x7b2)](_0x5bb801/0x2),document['getElementById'](_0x56b036(0x693))['max']=_0x5bb801,document[_0x56b036(0x3ee)]('modal-adaptive-quiz-checkbox')[_0x56b036(0x39a)]=_0x3ddbd3[_0x56b036(0x8ba)]||![],document[_0x56b036(0x3ee)]('modal-loop-until-pass-checkbox')[_0x56b036(0x39a)]=_0x3ddbd3[_0x56b036(0x3b9)]||![],document[_0x56b036(0x3ee)]('modal-timer-mode-select')[_0x56b036(0x3d6)](new Event('change')),quizSettingsModal['classList'][_0x56b036(0x3cc)](_0x56b036(0x3f2));}else showMessage(_0x56b036(0x3aa));}catch(_0x53fa01){console[_0x56b036(0x56c)]('Error\x20fetching\x20quiz\x20settings:',_0x53fa01),showMessage(_0x56b036(0x7ba));}}async function confirmQuizSettings(){const _0x1cee28=_0x248128;if(!actionTargetId)return;const _0xae57fb=doc(db,_0x1cee28(0x243)+appId+_0x1cee28(0x495),actionTargetId),_0x372941={'shuffle':document[_0x1cee28(0x3ee)]('modal-shuffle-select')[_0x1cee28(0x635)],'resultsDisplay':document['getElementById'](_0x1cee28(0x22e))[_0x1cee28(0x635)],'timerMode':document[_0x1cee28(0x3ee)](_0x1cee28(0x66a))[_0x1cee28(0x635)],'timerDuration':parseInt(document[_0x1cee28(0x3ee)](_0x1cee28(0x91b))[_0x1cee28(0x635)])||0xa,'passingScore':parseInt(document[_0x1cee28(0x3ee)]('modal-passing-score-input')[_0x1cee28(0x635)])||0x0,'passingScore':parseInt(document[_0x1cee28(0x3ee)](_0x1cee28(0x693))[_0x1cee28(0x635)])||0x0,'isAdaptive':document['getElementById'](_0x1cee28(0x821))[_0x1cee28(0x39a)],'loopUntilPass':document[_0x1cee28(0x3ee)](_0x1cee28(0x524))['checked']};try{await updateDoc(_0xae57fb,{'settings':_0x372941}),showMessage(_0x1cee28(0x3fa)),quizSettingsModal[_0x1cee28(0x639)][_0x1cee28(0x87d)](_0x1cee28(0x3f2)),actionTargetId=null;}catch(_0x5ede94){console[_0x1cee28(0x56c)]('Error\x20updating\x20quiz\x20settings:',_0x5ede94),showMessage(_0x1cee28(0x8f8));}}async function handleQuizStatus(_0x59b845){const _0x5d28da=_0x248128;actionTargetId=_0x59b845;const _0x10c15a=doc(db,_0x5d28da(0x243)+appId+'/public/data/quizzes',_0x59b845);try{const _0x3ee1d2=await getDoc(_0x10c15a);if(_0x3ee1d2['exists']()){const _0x264484=_0x3ee1d2[_0x5d28da(0x45b)](),_0x3594aa=_0x264484[_0x5d28da(0x6d3)]||_0x5d28da(0x6b4),_0x3f2fd6=document['getElementById'](_0x5d28da(0x4ac)),_0x48c05c=document[_0x5d28da(0x3ee)](_0x5d28da(0x834)),_0x46465f=document[_0x5d28da(0x3ee)](_0x5d28da(0x408));let _0x16b136=_0x5d28da(0x48a)+(_0x3594aa===_0x5d28da(0x6b4)?'checked':'')+_0x5d28da(0x697)+(_0x3594aa==='inactive'?_0x5d28da(0x39a):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x3594aa===_0x5d28da(0x2c3)?_0x5d28da(0x39a):'')+_0x5d28da(0x5a1);_0x3f2fd6[_0x5d28da(0x58a)]=_0x16b136;const _0x1e5b77=_0x3594aa===_0x5d28da(0x2c3);_0x48c05c['classList'][_0x5d28da(0x854)](_0x5d28da(0x3f2),!_0x1e5b77),_0x46465f['classList']['toggle'](_0x5d28da(0x3f2),!_0x1e5b77),document['getElementById'](_0x5d28da(0x1dd))[_0x5d28da(0x635)]=_0x264484[_0x5d28da(0x769)]?_0x264484[_0x5d28da(0x769)]['substring'](0x0,0x10):'',document[_0x5d28da(0x3ee)](_0x5d28da(0x66c))[_0x5d28da(0x635)]=_0x264484[_0x5d28da(0x261)]?_0x264484[_0x5d28da(0x261)]['substring'](0x0,0x10):'',_0x3f2fd6[_0x5d28da(0x8e0)](_0x5d28da(0x5d8))[_0x5d28da(0x762)](_0x185f9e=>{const _0x2c73ca=_0x5d28da;_0x185f9e['addEventListener'](_0x2c73ca(0x91a),_0x8dc66c=>{const _0xc1dfd5=_0x2c73ca,_0x493e42=_0x8dc66c['target'][_0xc1dfd5(0x635)]===_0xc1dfd5(0x426);_0x48c05c[_0xc1dfd5(0x639)]['toggle'](_0xc1dfd5(0x3f2),!_0x493e42),_0x46465f[_0xc1dfd5(0x639)][_0xc1dfd5(0x854)](_0xc1dfd5(0x3f2),!_0x493e42);});}),quizStatusModal[_0x5d28da(0x639)][_0x5d28da(0x3cc)]('hidden');}}catch(_0x43743f){console[_0x5d28da(0x56c)](_0x5d28da(0x5e7),_0x43743f),showMessage(_0x5d28da(0x4c0));}}async function confirmQuizStatus(){const _0x3cfff3=_0x248128;if(!actionTargetId)return;const _0x3e8da9=doc(db,_0x3cfff3(0x243)+appId+_0x3cfff3(0x495),actionTargetId),_0x2c1824=document[_0x3cfff3(0x828)](_0x3cfff3(0x233));if(!_0x2c1824){showMessage(_0x3cfff3(0x5e1));return;}const _0x4f6894=_0x2c1824[_0x3cfff3(0x635)];let _0x201145={};if(_0x4f6894===_0x3cfff3(0x6b4)||_0x4f6894==='inactive')_0x201145={'status':_0x4f6894,'startTime':null,'endTime':null};else{if(_0x4f6894===_0x3cfff3(0x426)){const _0x1a663c=document[_0x3cfff3(0x3ee)](_0x3cfff3(0x1dd))[_0x3cfff3(0x635)],_0x4df9ea=document[_0x3cfff3(0x3ee)](_0x3cfff3(0x66c))[_0x3cfff3(0x635)];if(!_0x1a663c&&!_0x4df9ea){showMessage(_0x3cfff3(0x59b));return;}_0x201145={'status':_0x3cfff3(0x2c3),'startTime':_0x1a663c?new Date(_0x1a663c)[_0x3cfff3(0x2ad)]():null,'endTime':_0x4df9ea?new Date(_0x4df9ea)['toISOString']():null};}}try{await updateDoc(_0x3e8da9,_0x201145),showMessage(_0x3cfff3(0x3c0)),quizStatusModal[_0x3cfff3(0x639)]['add']('hidden'),actionTargetId=null;}catch(_0x5eab3a){console[_0x3cfff3(0x56c)](_0x3cfff3(0x508),_0x5eab3a),showMessage(_0x3cfff3(0x221));}}function listenForStudentProfiles(_0x31cefe){const _0x1a230f=_0x248128,_0x244d3b=collection(db,_0x1a230f(0x243)+appId+'/public/data/projects/'+_0x31cefe+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x244d3b,_0x6c25e=>{const _0x5f1779=_0x1a230f,_0x148d5c=_0x6c25e['docs']['map'](_0x550633=>_0x550633[_0x5f1779(0x45b)]());renderLeaderboard(_0x148d5c,_0x5f1779(0x76f));},_0x2e2ce5=>{const _0x5f4722=_0x1a230f;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x2e2ce5),document['getElementById'](_0x5f4722(0x76f))[_0x5f4722(0x58a)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x46c33f,_0x1595bc){const _0x3d2f4a=_0x248128,_0x1e3867=document[_0x3d2f4a(0x3ee)](_0x1595bc);if(!_0x46c33f||_0x46c33f[_0x3d2f4a(0x888)]===0x0){_0x1e3867[_0x3d2f4a(0x58a)]=_0x3d2f4a(0x1e4);return;}_0x46c33f['sort']((_0x19f15a,_0x428492)=>{const _0x49e083=_0x3d2f4a,_0x55ac10=(_0x428492[_0x49e083(0x1e0)]||0x0)-(_0x19f15a[_0x49e083(0x1e0)]||0x0);if(_0x55ac10!==0x0)return _0x55ac10;const _0x1eea09=(_0x428492[_0x49e083(0x73e)]?.[_0x49e083(0x1b0)]||0x0)-(_0x19f15a[_0x49e083(0x73e)]?.['specialist']||0x0);if(_0x1eea09!==0x0)return _0x1eea09;const _0x4241fe=(_0x428492[_0x49e083(0x73e)]?.[_0x49e083(0x488)]||0x0)-(_0x19f15a[_0x49e083(0x73e)]?.['first_try_ace']||0x0);if(_0x4241fe!==0x0)return _0x4241fe;const _0x33971=(_0x428492['badgesCount']?.[_0x49e083(0x5ae)]||0x0)-(_0x19f15a[_0x49e083(0x73e)]?.[_0x49e083(0x5ae)]||0x0);if(_0x33971!==0x0)return _0x33971;const _0x1a5d7d=(_0x428492[_0x49e083(0x73e)]?.[_0x49e083(0x7f8)]||0x0)-(_0x19f15a[_0x49e083(0x73e)]?.[_0x49e083(0x7f8)]||0x0);if(_0x1a5d7d!==0x0)return _0x1a5d7d;return _0x19f15a['studentName'][_0x49e083(0x702)](_0x428492['studentName'],'th');});let _0x1595ea='';_0x46c33f[_0x3d2f4a(0x762)]((_0x21b74f,_0x43af76)=>{const _0x3d54e1=_0x3d2f4a,_0x1c3f45=_0x43af76+0x1,_0xc39cc=_0x21b74f['badgesCount']||{};let _0x476369='';const _0x27e689=['specialist',_0x3d54e1(0x5ae),_0x3d54e1(0x488),_0x3d54e1(0x7f8)];_0x27e689[_0x3d54e1(0x762)](_0x5f4701=>{const _0x467d2e=_0x3d54e1;if(_0xc39cc[_0x5f4701]>0x0){const _0x35154c=Object[_0x467d2e(0x4d9)](BADGES)[_0x467d2e(0x2f4)](_0x5d0b6f=>_0x5d0b6f['id']===_0x5f4701);_0x35154c&&(_0x5f4701===_0x467d2e(0x1b0)?_0x476369+=_0x467d2e(0x89c)+_0x35154c['name']+_0x467d2e(0x159)+_0x35154c[_0x467d2e(0x1bf)]+_0x467d2e(0x511):_0x476369+=_0x467d2e(0x89c)+_0x35154c['name']+'\x20('+_0xc39cc[_0x5f4701]+_0x467d2e(0x42c)+_0x35154c[_0x467d2e(0x1bf)]+_0x467d2e(0x14d)+_0xc39cc[_0x5f4701]+_0x467d2e(0x348));}}),_0x1595ea+=_0x3d54e1(0x78a)+_0x1c3f45+_0x3d54e1(0x145)+_0x21b74f[_0x3d54e1(0x8d1)]+_0x3d54e1(0x814)+(_0x21b74f['totalPoints']||0x0)+_0x3d54e1(0x145)+(_0x476369||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1e3867['innerHTML']=_0x1595ea;}function displayLoopScreen(_0x17f88d,_0x50f93f,_0x41b237){const _0x36d480=_0x248128;let _0x102985='';_0x41b237!==_0x36d480(0x968)&&(_0x102985=_0x36d480(0x547)+_0x17f88d+'\x20/\x20'+_0x50f93f+_0x36d480(0x5d4));const _0x1986cd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x102985+_0x36d480(0x882);studentResultArea['innerHTML']=_0x1986cd,studentResultArea['classList'][_0x36d480(0x3cc)](_0x36d480(0x3f2)),studentQuizArea[_0x36d480(0x639)][_0x36d480(0x87d)](_0x36d480(0x3f2)),document['getElementById'](_0x36d480(0x753))[_0x36d480(0x631)](_0x36d480(0x493),()=>{const _0x4c8252=_0x36d480;studentResultArea[_0x4c8252(0x639)]['add'](_0x4c8252(0x3f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x5ad775,_0x2faedf,_0x1c08ff){const _0xf7316f=_0x248128,_0x2c1468=document[_0xf7316f(0x3ee)](_0x1c08ff),_0x5904d9=_0x1c08ff===_0xf7316f(0x78d),_0x54ef34=_0x2faedf[_0xf7316f(0x598)]['length'],_0x508e97=document[_0xf7316f(0x3ee)](_0x1c08ff)[_0xf7316f(0x918)]('table');if(_0x508e97&&!_0x5904d9){const _0x525563=_0x508e97[_0xf7316f(0x828)](_0xf7316f(0x744));_0x525563['innerHTML']=_0xf7316f(0x151);}if(!_0x5ad775||_0x5ad775['length']===0x0){_0x2c1468[_0xf7316f(0x58a)]=_0xf7316f(0x6ca)+(_0x5904d9?0x6:0x8)+_0xf7316f(0x507);return;}const _0x15a6ef=[..._0x5ad775];_0x15a6ef['sort']((_0x8e9749,_0x513281)=>{const _0x28beca=_0xf7316f;let _0x2454e8,_0x2803e5;switch(quizLeaderboardSortBy){case _0x28beca(0x8d1):_0x2454e8=_0x8e9749[_0x28beca(0x8d1)]||'',_0x2803e5=_0x513281[_0x28beca(0x8d1)]||'';return quizLeaderboardSortOrder===_0x28beca(0x2da)?_0x2454e8[_0x28beca(0x702)](_0x2803e5,'th'):_0x2803e5['localeCompare'](_0x2454e8,'th');case _0x28beca(0x4f1):_0x2454e8=_0x8e9749[_0x28beca(0x4f1)]||0x0,_0x2803e5=_0x513281['points']||0x0;break;case'attempts':_0x2454e8=_0x8e9749['attempts']?.[_0x28beca(0x888)]||0x1,_0x2803e5=_0x513281[_0x28beca(0x18f)]?.[_0x28beca(0x888)]||0x1;break;case _0x28beca(0x3ce):_0x2454e8=new Date(_0x8e9749[_0x28beca(0x3ce)]),_0x2803e5=new Date(_0x513281[_0x28beca(0x3ce)]);break;case _0x28beca(0x63f):default:_0x2454e8=_0x8e9749[_0x28beca(0x63f)],_0x2803e5=_0x513281[_0x28beca(0x63f)];break;}if(_0x2454e8<_0x2803e5)return quizLeaderboardSortOrder===_0x28beca(0x2da)?-0x1:0x1;if(_0x2454e8>_0x2803e5)return quizLeaderboardSortOrder===_0x28beca(0x2da)?0x1:-0x1;return 0x0;});const _0x543bde=_0x2faedf[_0xf7316f(0x232)]===!![],_0x3c58dc=_0x2faedf[_0xf7316f(0x75d)]?.[_0xf7316f(0x802)]??-0x1;let _0x4e665b='';_0x15a6ef[_0xf7316f(0x762)]((_0x5e4916,_0x3dc9e1)=>{const _0x209003=_0xf7316f,_0x25c7c8=_0x3dc9e1+0x1;let _0x34f821=_0x209003(0x935);if(_0x543bde||_0x3c58dc!==-0x1){let _0x16e3a3=_0x543bde?_0x5e4916[_0x209003(0x63f)]===_0x54ef34:_0x5e4916[_0x209003(0x63f)]>=_0x3c58dc;const _0x40452a=_0x16e3a3?_0x209003(0x643):_0x209003(0x71e),_0x3d49f4=_0x16e3a3?_0x209003(0x218):'ไม่ผ่าน';_0x34f821=_0x209003(0x640)+_0x40452a+'\x22>'+_0x3d49f4+'</span></td>';}const _0x4b1c99=_0x5e4916['attempts'][_0x5e4916[_0x209003(0x18f)]['length']-0x1],_0x5b8462=(_0x4b1c99['badges']||[])[_0x209003(0x336)](_0x32cb57=>{const _0x2a8f48=_0x209003,_0x1a8363=Object['values'](BADGES)[_0x2a8f48(0x2f4)](_0x5de348=>_0x5de348['id']===_0x32cb57);return _0x1a8363?_0x2a8f48(0x3bb)+_0x1a8363[_0x2a8f48(0x268)]+_0x2a8f48(0x42b)+_0x1a8363[_0x2a8f48(0x1bf)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x209003(0x375)]('');_0x4e665b+=_0x209003(0x40f)+_0x25c7c8+_0x209003(0x8d5)+_0x5e4916[_0x209003(0x8d1)]+_0x209003(0x91e)+_0x5e4916[_0x209003(0x63f)]+_0x209003(0x1de)+_0x54ef34+_0x209003(0x863)+_0x34f821+_0x209003(0x5de)+(_0x5e4916[_0x209003(0x4f1)]||0x0)+_0x209003(0x863)+(_0x5904d9?'':_0x209003(0x669)+(_0x5e4916[_0x209003(0x18f)]?.[_0x209003(0x888)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5904d9?'':_0x209003(0x272)+new Date(_0x5e4916[_0x209003(0x3ce)])[_0x209003(0x6ba)](_0x209003(0x224))+_0x209003(0x6c1))+_0x209003(0x32f)+(_0x5b8462||'-')+_0x209003(0x839);}),_0x2c1468[_0xf7316f(0x58a)]=_0x4e665b,_0x508e97&&!_0x5904d9&&_0x508e97[_0xf7316f(0x8e0)](_0xf7316f(0x45e))[_0xf7316f(0x762)](_0x384497=>{const _0x34934a=_0xf7316f,_0x5c297b=_0x384497[_0x34934a(0x828)](_0x34934a(0x565));if(_0x5c297b)_0x5c297b[_0x34934a(0x3cc)]();_0x384497[_0x34934a(0x334)][_0x34934a(0x81a)]===quizLeaderboardSortBy&&(_0x384497[_0x34934a(0x58a)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x34934a(0x2da)?'▲':'▼')+_0x34934a(0x255));});}async function handleDeleteSubmission(_0x1b24b6){const _0x16ed42=_0x248128;if(!currentQuizData||!currentQuizData['id']||!_0x1b24b6){showMessage(_0x16ed42(0x7a9));return;}showConfirmation(_0x16ed42(0x5d5)+_0x1b24b6+_0x16ed42(0x88c),async()=>{const _0x1dc8ce=_0x16ed42,_0x509802=currentQuizData['id'],_0x22b8eb=doc(db,_0x1dc8ce(0x243)+appId+_0x1dc8ce(0x844)+_0x509802+_0x1dc8ce(0x338),_0x1b24b6);try{await deleteDoc(_0x22b8eb),showMessage(_0x1dc8ce(0x1cf)+_0x1b24b6+_0x1dc8ce(0x798));}catch(_0x5f1706){console['error'](_0x1dc8ce(0x886),_0x5f1706),showMessage(_0x1dc8ce(0x355));}});}async function handleLoadQuiz(){const _0x2beeed=_0x248128,_0x430ae7=document[_0x2beeed(0x3ee)](_0x2beeed(0x6ec)),_0x3a7fe1=_0x430ae7[_0x2beeed(0x635)]['trim']();if(!_0x3a7fe1){showMessage(_0x2beeed(0x1d8));return;}loadQuizBtn[_0x2beeed(0x566)]=!![],loadQuizBtn[_0x2beeed(0x58a)]=_0x2beeed(0x54c);try{const _0x1e1363=doc(db,_0x2beeed(0x243)+appId+_0x2beeed(0x495),_0x3a7fe1),_0xde0b52=await getDoc(_0x1e1363);if(!_0xde0b52['exists']()){showMessage(_0x2beeed(0x360));return;}currentQuizData={'id':_0xde0b52['id'],..._0xde0b52[_0x2beeed(0x45b)]()};const _0x4ef1f1=currentQuizData['status']||'active',_0x3dc364=new Date();if(_0x4ef1f1===_0x2beeed(0x6b2)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x4ef1f1===_0x2beeed(0x2c3)){const _0x163e30=currentQuizData[_0x2beeed(0x769)]?new Date(currentQuizData[_0x2beeed(0x769)]):null,_0x583755=currentQuizData[_0x2beeed(0x261)]?new Date(currentQuizData[_0x2beeed(0x261)]):null;if(_0x163e30&&_0x3dc364<_0x163e30){showMessage(_0x2beeed(0x6ef)+_0x163e30[_0x2beeed(0x6ba)](_0x2beeed(0x224),{'hour12':![]}));return;}if(_0x583755&&_0x3dc364>_0x583755){showMessage(_0x2beeed(0x929));return;}}const _0x4bc4c9=currentQuizData['projectId'];currentProjectId=_0x4bc4c9;const _0x13f267=doc(db,_0x2beeed(0x243)+appId+_0x2beeed(0x964),_0x4bc4c9),_0xc6a5c5=await getDoc(_0x13f267);if(!_0xc6a5c5['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x29a9be=_0xc6a5c5['data']();currentStudentProjectData=_0x29a9be,displayStudentNameSelector(_0x29a9be[_0x2beeed(0x790)],currentQuizData[_0x2beeed(0x7f3)]);}catch(_0x1d990e){console['error'](_0x2beeed(0x37b),_0x1d990e),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x2beeed(0x566)]=![],loadQuizBtn[_0x2beeed(0x58a)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x38636a=_0x248128,_0x39d327=document[_0x38636a(0x3ee)](_0x38636a(0x473)),_0x42ca51=document['getElementById'](_0x38636a(0x41b)),_0x1374b4=document['getElementById'](_0x38636a(0x229)),_0x523cd9=_0x39d327[_0x38636a(0x635)][_0x38636a(0x6b7)](),_0x359254=_0x42ca51[_0x38636a(0x635)][_0x38636a(0x6b7)]();if(!_0x523cd9||!_0x359254){showMessage(_0x38636a(0x80e));return;}_0x1374b4[_0x38636a(0x566)]=!![],_0x1374b4[_0x38636a(0x58a)]=_0x38636a(0x396);try{const _0xd44c48=collection(db,_0x38636a(0x243)+appId+'/public/data/liveGames'),_0x415495=query(_0xd44c48,where(_0x38636a(0x5fd),'==',_0x523cd9),where(_0x38636a(0x6d3),'in',[_0x38636a(0x574),_0x38636a(0x3c8)])),_0x4e7369=await getDocs(_0x415495);if(_0x4e7369[_0x38636a(0x465)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x301763=_0x4e7369[_0x38636a(0x654)][0x0],_0x600d1b=_0x301763['data']();currentLiveGameId=_0x301763['id'];const _0x5f3f8c=_0x600d1b[_0x38636a(0x6a5)],_0x58d68e=doc(db,_0x38636a(0x243)+appId+_0x38636a(0x495),_0x5f3f8c),_0x373ac9=await getDoc(_0x58d68e);if(!_0x373ac9[_0x38636a(0x225)]()){showMessage(_0x38636a(0x927));return;}currentQuizData={'id':_0x373ac9['id'],..._0x373ac9[_0x38636a(0x45b)]()};if(_0x600d1b[_0x38636a(0x43d)]&&_0x600d1b[_0x38636a(0x43d)][_0x359254]){const _0x46c29f=_0x600d1b[_0x38636a(0x43d)][_0x359254];if(_0x46c29f[_0x38636a(0x6d3)]===_0x38636a(0x6b2)){_0x1374b4[_0x38636a(0x58a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x2baab4={};_0x2baab4['players.'+_0x359254+_0x38636a(0x898)]=_0x38636a(0x6b4),await updateDoc(doc(db,'artifacts/'+appId+_0x38636a(0x22f),currentLiveGameId),_0x2baab4),showView(_0x38636a(0x885)),currentStudentName=_0x359254,listenForLiveGameUpdates();return;}else{showMessage(_0x38636a(0x93b));return;}}if(_0x600d1b[_0x38636a(0x6d3)]!==_0x38636a(0x574)){showMessage(_0x38636a(0x662));return;}_0x1374b4[_0x38636a(0x58a)]=_0x38636a(0x588);const _0x3a49fd={};_0x3a49fd[_0x38636a(0x6e8)+_0x359254]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x38636a(0x243)+appId+_0x38636a(0x22f),currentLiveGameId),_0x3a49fd),currentStudentName=_0x359254,listenForLiveGameUpdates();}catch(_0x2e8e53){console[_0x38636a(0x56c)](_0x38636a(0x86c),_0x2e8e53),showMessage(_0x38636a(0x895));}finally{_0x1374b4[_0x38636a(0x566)]=![],_0x1374b4['innerHTML']=_0x38636a(0x6d0);}}function displayStudentNameSelector(_0x1b2caa,_0x2a4299){const _0x3bfeda=_0x248128,_0x1593cf=document[_0x3bfeda(0x3ee)]('student-name-select');document['getElementById'](_0x3bfeda(0x85c))[_0x3bfeda(0x540)]=_0x3bfeda(0x48d)+_0x2a4299,!_0x1b2caa||_0x1b2caa['length']===0x0?(_0x1593cf['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x3bfeda(0x566)]=!![]):(_0x1593cf[_0x3bfeda(0x58a)]=_0x3bfeda(0x3ea),_0x1b2caa[_0x3bfeda(0x762)](_0x44db45=>{const _0x3db939=_0x3bfeda,_0xd02f5c=document[_0x3db939(0x3b2)](_0x3db939(0x2b1));_0xd02f5c[_0x3db939(0x635)]=_0x44db45,_0xd02f5c['textContent']=_0x44db45,_0x1593cf[_0x3db939(0x2a8)](_0xd02f5c);}),startQuizBtn[_0x3bfeda(0x566)]=![]),studentInitialView[_0x3bfeda(0x639)]['add'](_0x3bfeda(0x3f2)),studentNameSelectionView[_0x3bfeda(0x639)][_0x3bfeda(0x3cc)](_0x3bfeda(0x3f2));}function shuffleArray(_0x5dd6d4){const _0x5d7ff6=_0x248128;for(let _0x5a5a88=_0x5dd6d4['length']-0x1;_0x5a5a88>0x0;_0x5a5a88--){const _0x411fa5=Math[_0x5d7ff6(0x7b2)](Math[_0x5d7ff6(0x903)]()*(_0x5a5a88+0x1));[_0x5dd6d4[_0x5a5a88],_0x5dd6d4[_0x411fa5]]=[_0x5dd6d4[_0x411fa5],_0x5dd6d4[_0x5a5a88]];}}function getShuffledQuiz(_0x510cad){const _0x21bad6=_0x248128;let _0x3f64bf=JSON[_0x21bad6(0x651)](JSON[_0x21bad6(0x2dd)](_0x510cad));const _0x1e3a2f=_0x3f64bf['settings']?.['shuffle']||'none';if(_0x1e3a2f===_0x21bad6(0x51e))return _0x3f64bf;return(_0x1e3a2f===_0x21bad6(0x6d8)||_0x1e3a2f==='both')&&shuffleArray(_0x3f64bf[_0x21bad6(0x598)]),(_0x1e3a2f==='choices_only'||_0x1e3a2f===_0x21bad6(0x19a))&&_0x3f64bf[_0x21bad6(0x598)]['forEach'](_0x318377=>{const _0x2f8887=_0x21bad6,_0x3cac6e=_0x318377['questionType']||_0x3f64bf[_0x2f8887(0x760)];if(_0x318377[_0x2f8887(0x5b6)]){let _0x688233=_0x318377[_0x2f8887(0x5b6)][_0x2f8887(0x336)]((_0x3eb1ef,_0x43c9da)=>({'text':_0x3eb1ef,'isCorrect':_0x43c9da===_0x318377['correctAnswerIndex']}));shuffleArray(_0x688233),_0x318377[_0x2f8887(0x5b6)]=_0x688233['map'](_0x576c2c=>_0x576c2c[_0x2f8887(0x171)]),_0x318377[_0x2f8887(0x553)]=_0x688233['findIndex'](_0x5e2b14=>_0x5e2b14[_0x2f8887(0x2e0)]);}_0x3cac6e==='matching_item'&&_0x318377['allResponses']&&shuffleArray(_0x318377['allResponses']);}),_0x3f64bf;}function displayQuizForStudent(_0x53ca6b){const _0x4356fa=_0x248128;studentQuizArea['classList']['remove'](_0x4356fa(0x3f2)),currentDisplayedQuiz=getShuffledQuiz(_0x53ca6b);currentMode!==_0x4356fa(0x33e)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4356fa(0x631)](_0x4356fa(0x61e),handleFullscreenChange),document[_0x4356fa(0x631)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x4356fa(0x631)]('mousemove',resetDimTimer),window[_0x4356fa(0x631)](_0x4356fa(0x183),resetDimTimer),window['addEventListener'](_0x4356fa(0x24e),resetDimTimer),window['addEventListener'](_0x4356fa(0x936),resetDimTimer),resetDimTimer());const _0x2657b9=currentDisplayedQuiz[_0x4356fa(0x75d)]?.[_0x4356fa(0x384)]||_0x4356fa(0x51e);if(_0x2657b9===_0x4356fa(0x5ab))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4356fa(0x75d)][_0x4356fa(0x6a1)]);else _0x2657b9===_0x4356fa(0x257)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x544a14=_0x248128;let _0x101ba0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x544a14(0x678)+(currentMode===_0x544a14(0x33e)?_0x544a14(0x700):'')+_0x544a14(0x6e4);currentDisplayedQuiz['questions'][_0x544a14(0x762)]((_0x3dcd3e,_0x59c81a)=>{const _0x2cb305=_0x544a14,_0x47a740=_0x3dcd3e[_0x2cb305(0x59f)]||currentDisplayedQuiz[_0x2cb305(0x760)];_0x101ba0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x47a740===_0x2cb305(0x732)?_0x101ba0+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x59c81a+0x1)+'.\x20'+_0x3dcd3e[_0x2cb305(0x4c2)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x59c81a+_0x2cb305(0x29d)+_0x3dcd3e['allResponses']['map'](_0x19dcb2=>_0x2cb305(0x469)+_0x19dcb2+'\x22>'+_0x19dcb2+_0x2cb305(0x6cc))['join']('')+_0x2cb305(0x512):(_0x101ba0+=_0x2cb305(0x308)+(_0x59c81a+0x1)+'.\x20'+(_0x3dcd3e['instructions']||_0x3dcd3e[_0x2cb305(0x830)])+_0x2cb305(0x1d4),_0x3dcd3e[_0x2cb305(0x849)]&&(_0x101ba0+=_0x2cb305(0x204)+_0x3dcd3e[_0x2cb305(0x849)]+'</div>'));_0x101ba0+=_0x2cb305(0x95c);switch(_0x47a740){case'short_answer':_0x101ba0+=_0x2cb305(0x2a0)+_0x59c81a+_0x2cb305(0x422);break;case _0x2cb305(0x5f2):_0x101ba0+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x59c81a+'_opt0\x22\x20name=\x22question'+_0x59c81a+_0x2cb305(0x89f)+_0x59c81a+_0x2cb305(0x4ed),_0x101ba0+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x59c81a+_0x2cb305(0x84a)+_0x59c81a+_0x2cb305(0x945)+_0x59c81a+_0x2cb305(0x7d0);break;case _0x2cb305(0x732):break;case'fill_in_the_blank':case _0x2cb305(0x88b):default:_0x101ba0+=_0x3dcd3e[_0x2cb305(0x5b6)][_0x2cb305(0x336)]((_0x58621f,_0x36a976)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x59c81a+_0x2cb305(0x2ee)+_0x36a976+'\x22\x20name=\x22question'+_0x59c81a+'\x22\x20value=\x22'+_0x36a976+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x59c81a+_0x2cb305(0x2ee)+_0x36a976+'\x22>'+_0x58621f+_0x2cb305(0x6d9))[_0x2cb305(0x375)]('');break;}_0x101ba0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x101ba0+=_0x544a14(0x675),_0x101ba0+=_0x544a14(0x6af),studentQuizArea['innerHTML']=_0x101ba0;if(currentMode===_0x544a14(0x33e)){const _0x7bf71d=document[_0x544a14(0x3ee)](_0x544a14(0x54e));if(_0x7bf71d)_0x7bf71d['addEventListener'](_0x544a14(0x493),cancelAdminTest);}document['getElementById'](_0x544a14(0x26a))[_0x544a14(0x631)]('submit',handleSubmitQuiz);if(window[_0x544a14(0x46e)])window[_0x544a14(0x46e)][_0x544a14(0x8c0)]([studentQuizArea]);}async function handleSubmitQuiz(_0x574753){const _0xa07126=_0x248128;if(_0x574753)_0x574753[_0xa07126(0x7bd)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4ac558=document[_0xa07126(0x3ee)](_0xa07126(0x26a));if(!_0x4ac558)return;const _0x261c1f=_0x4ac558[_0xa07126(0x828)](_0xa07126(0x315)),_0x5e2d67=currentDisplayedQuiz[_0xa07126(0x598)]['some'](_0xa7e858=>_0xa7e858[_0xa07126(0x59f)]===_0xa07126(0x660));_0x261c1f&&(_0x261c1f['disabled']=!![],_0x5e2d67?_0x261c1f[_0xa07126(0x58a)]=_0xa07126(0x373):_0x261c1f['innerHTML']=_0xa07126(0x788));const _0x3f9773=new FormData(_0x4ac558),_0x5e2d8d=currentDisplayedQuiz[_0xa07126(0x598)][_0xa07126(0x336)]((_0x59c6cf,_0x15f885)=>{const _0x934883=_0xa07126,_0x40c1f2=_0x59c6cf[_0x934883(0x59f)]||currentDisplayedQuiz[_0x934883(0x760)],_0xba8d22=_0x3f9773[_0x934883(0x855)](_0x934883(0x3c8)+_0x15f885);if(_0xba8d22!==null&&_0xba8d22!==undefined){if(_0x40c1f2==='multiple_choice'||_0x40c1f2===_0x934883(0x70d))return parseInt(_0xba8d22);return _0xba8d22;}return null;}),_0x6ffc5a=currentQuizData['id'],_0x1db107=doc(db,_0xa07126(0x243)+appId+_0xa07126(0x844)+_0x6ffc5a+_0xa07126(0x338),currentStudentName),_0x70b3c1=await getDoc(_0x1db107),_0x157942=_0x70b3c1[_0xa07126(0x225)]()?_0x70b3c1['data']():{},_0x422d98=_0x157942[_0xa07126(0x18f)]||[];await processAndSubmitAnswers(_0x5e2d8d,_0x422d98);}async function gradeShortAnswerWithAI(_0x4509fc,_0x1a4cc0){const _0xd6a480=_0x248128;if(!_0x4509fc||!_0x1a4cc0)return![];try{const _0x494925=_0xd6a480(0x794)+_0x4509fc+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x1a4cc0+_0xd6a480(0x291),_0x4f90ca={'contents':[{'role':_0xd6a480(0x3c4),'parts':[{'text':_0x494925}]}]},_0x29f999='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x239a55=_0xd6a480(0x822)+_0x29f999,_0x36391a=await fetch(_0x239a55,{'method':_0xd6a480(0x371),'headers':{'Content-Type':'application/json'},'body':JSON[_0xd6a480(0x2dd)](_0x4f90ca)});if(!_0x36391a['ok'])throw new Error(_0xd6a480(0x236));const _0x26b7fc=await _0x36391a[_0xd6a480(0x953)](),_0x56892e=_0x26b7fc[_0xd6a480(0x3d1)][0x0]['content'][_0xd6a480(0x499)][0x0][_0xd6a480(0x171)][_0xd6a480(0x6b7)]()[_0xd6a480(0x577)]();return _0x56892e===_0xd6a480(0x584);}catch(_0x5b937a){return console[_0xd6a480(0x56c)](_0xd6a480(0x8cc),_0x5b937a),![];}}async function processAndSubmitAnswers(_0x5cd249,_0x1dc124){const _0x4f6f32=_0x248128;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4f6f32(0x83d)](_0x4f6f32(0x61e),handleFullscreenChange),document[_0x4f6f32(0x83d)]('visibilitychange',handleVisibilityChange);let _0xd040d1=0x0,_0x368e3a=0x0,_0x3aa875=[];const _0xed104b=[],_0x186281=currentDisplayedQuiz['questions'][_0x4f6f32(0x888)];let _0x573860=0x0;const _0x4a865b=currentDisplayedQuiz[_0x4f6f32(0x598)];for(let _0x232625=0x0;_0x232625<_0x4a865b[_0x4f6f32(0x888)];_0x232625++){const _0x13f7bf=_0x4a865b[_0x232625],_0x4049dc=_0x5cd249[_0x232625],_0x5b6673=_0x13f7bf[_0x4f6f32(0x59f)]||currentDisplayedQuiz['quizType'];let _0x146363=![];if(_0x4049dc!==null&&_0x4049dc!=='')switch(_0x5b6673){case _0x4f6f32(0x732):_0x146363=_0x4049dc===_0x13f7bf[_0x4f6f32(0x8f3)];break;case _0x4f6f32(0x5f2):const _0x35d2a2=_0x4049dc===!![]||_0x4049dc===_0x4f6f32(0x584);_0x146363=_0x35d2a2===_0x13f7bf[_0x4f6f32(0x572)];break;case _0x4f6f32(0x70d):case _0x4f6f32(0x88b):default:_0x146363=Number(_0x4049dc)===_0x13f7bf[_0x4f6f32(0x553)];break;case'short_answer':_0x146363=await gradeShortAnswer(_0x4049dc,_0x13f7bf);break;}_0x146363?(_0xd040d1++,_0x573860++,_0x573860===0x3&&(_0x3aa875[_0x4f6f32(0x162)](BADGES[_0x4f6f32(0x124)]['id']),_0x573860=0x0)):_0x573860=0x0;let _0x159c94=null;_0x13f7bf[_0x4f6f32(0x5b6)]&&_0x4049dc!==null&&(_0x159c94=_0x13f7bf['options'][_0x4049dc]),_0xed104b[_0x4f6f32(0x162)]({'questionId':_0x13f7bf['id'],'answer':_0x4049dc,'answerText':_0x159c94,'isCorrect':_0x146363,'originalQuestionText':_0x13f7bf[_0x4f6f32(0x4c2)]||_0x13f7bf[_0x4f6f32(0x830)]});}_0x368e3a=_0xd040d1*0xa;_0xd040d1===_0x186281&&_0x186281>0x0&&!currentDisplayedQuiz[_0x4f6f32(0x232)]&&(_0x368e3a+=0x32,_0x3aa875['push'](BADGES['PERFECT_SCORE']['id']));const _0x45591a=currentDisplayedQuiz['settings']?.[_0x4f6f32(0x802)]??Math[_0x4f6f32(0x7b2)](_0x186281/0x2),_0xe933db=currentDisplayedQuiz['settings']?.['timerMode'];if(_0xe933db===_0x4f6f32(0x5ab)&&quizStartTime){const _0x30cd0b=(new Date()-quizStartTime)/0x3e8,_0x6d5ad6=currentDisplayedQuiz[_0x4f6f32(0x75d)]['timerDuration']*0x3c;_0xd040d1>=_0x45591a&&_0x30cd0b<_0x6d5ad6/0x2&&(_0x368e3a+=0x14,_0x3aa875[_0x4f6f32(0x162)](BADGES[_0x4f6f32(0x742)]['id']));}_0x1dc124[_0x4f6f32(0x888)]===0x0&&_0xd040d1===_0x186281&&_0x186281>0x0&&_0x3aa875[_0x4f6f32(0x162)](BADGES[_0x4f6f32(0x5fe)]['id']);if(_0x1dc124['length']>0x0){const _0xe81d44=_0x1dc124[0x0][_0x4f6f32(0x4a4)];if(_0xe81d44<_0x45591a&&_0xd040d1>=_0x45591a){const _0x2b8050=_0x1dc124['some'](_0x478407=>(_0x478407[_0x4f6f32(0x386)]||[])[_0x4f6f32(0x8b4)](BADGES[_0x4f6f32(0x7e3)]['id']));!_0x2b8050&&_0x3aa875['push'](BADGES[_0x4f6f32(0x7e3)]['id']);}}_0x1dc124[_0x4f6f32(0x888)]===0x4&&_0x3aa875[_0x4f6f32(0x162)](BADGES[_0x4f6f32(0x2ce)]['id']);const _0x5b82a1=currentDisplayedQuiz[_0x4f6f32(0x75d)][_0x4f6f32(0x750)];if(currentMode===_0x4f6f32(0x33e)){handleResultDisplay(_0x5b82a1,_0xd040d1,_0x368e3a,_0x3aa875,_0xed104b,_0x186281);return;}const _0xccc861=currentQuizData['id'],_0x2ab457=doc(db,_0x4f6f32(0x243)+appId+_0x4f6f32(0x844)+_0xccc861+'/submissions',currentStudentName);try{const _0x44a1fd=[..._0x1dc124],_0x4b509c={'score':_0xd040d1,'points':_0x368e3a,'badges':_0x3aa875,'submittedAt':new Date()[_0x4f6f32(0x2ad)](),'answers':_0xed104b};_0x44a1fd[_0x4f6f32(0x162)](_0x4b509c);const _0x508d35=_0x44a1fd[0x0][_0x4f6f32(0x4a4)],_0x3388d4=Math['max'](..._0x44a1fd['map'](_0x1657c3=>_0x1657c3['score'])),_0x2b3d74=_0xd040d1,_0x1d70d2=_0x4b509c[_0x4f6f32(0x638)];await setDoc(_0x2ab457,{'studentName':currentStudentName,'totalQuestions':_0x186281,'attempts':_0x44a1fd,'firstScore':_0x508d35,'bestScore':_0x3388d4,'latestScore':_0x2b3d74,'points':_0x368e3a,'latestSubmittedAt':_0x1d70d2},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x4f6f32(0x4a0)],currentStudentName),handleResultDisplay(_0x5b82a1,_0xd040d1,_0x368e3a,_0x3aa875,_0xed104b,_0x186281);}catch(_0x6d258b){console[_0x4f6f32(0x56c)]('Error\x20saving\x20submission:',_0x6d258b),showMessage(_0x4f6f32(0x7b5));}}async function updateStudentProfile(_0x19a578,_0x58e7d9){const _0x3b226b=_0x248128,_0x2c07fa=doc(db,_0x3b226b(0x243)+appId+'/public/data/projects/'+_0x19a578+_0x3b226b(0x6ee),_0x58e7d9);try{const _0xf04128=query(collection(db,'artifacts/'+appId+_0x3b226b(0x495)),where('projectId','==',_0x19a578)),_0x225c5d=await getDocs(_0xf04128),_0x2db6e5=new Map(_0x225c5d['docs'][_0x3b226b(0x336)](_0x220063=>[_0x220063['id'],_0x220063['data']()])),_0x83c8e8=Array[_0x3b226b(0x4df)](_0x2db6e5[_0x3b226b(0x292)]());await runTransaction(db,async _0x2f640e=>{const _0x21458d=_0x3b226b;let _0x3208a6=0x0;const _0x35af25={};let _0x5a096f=!![],_0x205c6a=0x0,_0x293b2b=0x0;for(const _0x1ed7fe of _0x83c8e8){const _0x4f1e05=_0x2db6e5[_0x21458d(0x855)](_0x1ed7fe),_0x498591=doc(db,_0x21458d(0x243)+appId+_0x21458d(0x844)+_0x1ed7fe+'/submissions',_0x58e7d9),_0x2a9057=await _0x2f640e[_0x21458d(0x855)](_0x498591);if(_0x2a9057[_0x21458d(0x225)]()){const _0x2ca84d=_0x2a9057['data'](),_0x5b7996=_0x2ca84d[_0x21458d(0x18f)]||[];if(_0x5b7996[_0x21458d(0x888)]>0x0){const _0x4fd321=_0x5b7996[_0x21458d(0x494)]((_0x3c65b6,_0xa0cd2b)=>{const _0x1ab448=_0x21458d;if(_0xa0cd2b['score']>_0x3c65b6[_0x1ab448(0x4a4)])return _0xa0cd2b;if(_0xa0cd2b[_0x1ab448(0x4a4)]===_0x3c65b6[_0x1ab448(0x4a4)])return(_0xa0cd2b['points']||0x0)>(_0x3c65b6[_0x1ab448(0x4f1)]||0x0)?_0xa0cd2b:_0x3c65b6;return _0x3c65b6;},{'score':-0x1,'points':-0x1});_0x4fd321[_0x21458d(0x4a4)]>-0x1&&(_0x3208a6+=_0x4fd321[_0x21458d(0x4f1)]||0x0,(_0x4fd321[_0x21458d(0x386)]||[])['forEach'](_0x44ade7=>{_0x35af25[_0x44ade7]=(_0x35af25[_0x44ade7]||0x0)+0x1;}));}}if(_0x4f1e05[_0x21458d(0x7f3)]!=='แบบทดสอบซ่อมเสริม'){_0x293b2b++;if(_0x2a9057['exists']()){_0x205c6a++;const _0x531b98=_0x2a9057[_0x21458d(0x45b)]();_0x531b98[_0x21458d(0x63f)]!==_0x531b98[_0x21458d(0x593)]&&(_0x5a096f=![]);}else _0x5a096f=![];}}_0x293b2b>0x0&&_0x205c6a===_0x293b2b&&_0x5a096f?_0x35af25[_0x21458d(0x1b0)]=0x1:_0x35af25[_0x21458d(0x1b0)]=0x0,_0x2f640e[_0x21458d(0x3b7)](_0x2c07fa,{'studentName':_0x58e7d9,'totalPoints':_0x3208a6,'unlockedBadges':Object[_0x21458d(0x292)](_0x35af25)[_0x21458d(0x305)](_0x26acc0=>_0x35af25[_0x26acc0]>0x0),'badgesCount':_0x35af25},{'merge':!![]});});}catch(_0x17bdab){console['error'](_0x3b226b(0x641),_0x17bdab),showMessage(_0x3b226b(0x26d));}}function startAdminTest(){const _0x26d851=_0x248128;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x57caa3=JSON[_0x26d851(0x651)](JSON[_0x26d851(0x2dd)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x26d851(0x30d),adminView['classList']['add']('hidden'),studentView[_0x26d851(0x639)][_0x26d851(0x3cc)](_0x26d851(0x3f2)),studentInitialView[_0x26d851(0x639)][_0x26d851(0x87d)](_0x26d851(0x3f2)),studentNameSelectionView[_0x26d851(0x639)][_0x26d851(0x87d)](_0x26d851(0x3f2)),studentResultArea[_0x26d851(0x639)][_0x26d851(0x87d)](_0x26d851(0x3f2)),studentQuizArea[_0x26d851(0x639)][_0x26d851(0x3cc)](_0x26d851(0x3f2)),quizStartTime=new Date(),displayQuizForStudent(_0x57caa3);}function handleResultDisplay(_0x492418,_0x4dd479,_0x29c182,_0x71d407,_0x3f0727,_0x5b9dca){const _0x4291c6=_0x248128;if(_0x492418===_0x4291c6(0x3e5)){displaySubmissionConfirmation();return;}const _0x56fc2b=currentDisplayedQuiz[_0x4291c6(0x75d)]?.[_0x4291c6(0x802)]??Math[_0x4291c6(0x7b2)](_0x5b9dca/0x2),_0xaed69c=currentDisplayedQuiz[_0x4291c6(0x75d)]?.[_0x4291c6(0x8ba)]??![],_0x4a15f7=currentDisplayedQuiz[_0x4291c6(0x75d)]?.[_0x4291c6(0x3b9)]===!![],_0x4264c0=_0x4dd479<_0x56fc2b,_0x9131ae=_0x492418==='half_mark_status'||_0x492418===_0x4291c6(0x797);if(_0x4a15f7&&_0x4264c0&&!_0x9131ae){_0x492418===_0x4291c6(0x823)?displayResultsWithAnswers(_0x4dd479,_0x29c182,_0x71d407,_0x3f0727,_0x5b9dca,!![]):displayLoopScreen(_0x4dd479,_0x5b9dca,_0x492418);return;}if(_0xaed69c&&_0x4264c0){startAdaptiveFlow(_0x3f0727,_0x4dd479,_0x5b9dca);return;}switch(_0x492418){case _0x4291c6(0x823):displayResultsWithAnswers(_0x4dd479,_0x29c182,_0x71d407,_0x3f0727,_0x5b9dca);break;case _0x4291c6(0x817):displayResultsScoreOnly(_0x4dd479,_0x29c182,_0x71d407,_0x5b9dca);break;case _0x4291c6(0x968):displayPassFailOnly(_0x4dd479,_0x5b9dca);break;case'half_mark_status':displayHalfMarkResult(_0x4dd479,_0x5b9dca);break;case _0x4291c6(0x797):displayPerfectScoreResult(_0x4dd479,_0x5b9dca);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4acea7){const _0xb47ef4=_0x248128;studentReadingArea['innerHTML']=_0xb47ef4(0x91f);const _0xad59e5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4acea7+_0xb47ef4(0x1f0)+simpleMathPrompt+_0xb47ef4(0x8b7),_0x55536b={'type':'OBJECT','properties':{'questionText':{'type':_0xb47ef4(0x77e)},'options':{'type':_0xb47ef4(0x15b),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xb47ef4(0x7aa)},'explanation':{'type':_0xb47ef4(0x77e)}},'required':[_0xb47ef4(0x830),_0xb47ef4(0x5b6),'correctAnswerIndex',_0xb47ef4(0x205)]},_0x1c992e={'type':_0xb47ef4(0x7e1),'properties':{'topic':{'type':_0xb47ef4(0x77e)},'questions':{'type':_0xb47ef4(0x15b),'items':_0x55536b}},'required':[_0xb47ef4(0x7f3),'questions']};try{const _0x1c7ed7=await callAnalysisApi(_0xad59e5,_0x1c992e);_0x1c7ed7['isRemedial']=!![],studentReadingArea['classList'][_0xb47ef4(0x87d)]('hidden');const _0x517658={...currentDisplayedQuiz[_0xb47ef4(0x75d)],'isAdaptive':![],'resultsDisplay':_0xb47ef4(0x823)};_0x1c7ed7[_0xb47ef4(0x75d)]=_0x517658,displayQuizForStudent(_0x1c7ed7);}catch(_0x1df4d0){console[_0xb47ef4(0x56c)]('Remedial\x20quiz\x20generation\x20failed:',_0x1df4d0),showMessage(_0xb47ef4(0x610)),showView(_0xb47ef4(0x757));}}function displayPassFailOnly(_0x4bb21f,_0x3ef9f9){const _0x3325d6=_0x248128,_0x2d8ff6=currentDisplayedQuiz[_0x3325d6(0x75d)]?.[_0x3325d6(0x802)]??-0x1,_0x54a39a=currentDisplayedQuiz['isRemedial']===!![];let _0x4dfdf6='',_0x38b4d1=![];if(_0x54a39a||_0x2d8ff6!==-0x1){_0x38b4d1=_0x54a39a?_0x4bb21f===_0x3ef9f9:_0x4bb21f>=_0x2d8ff6;const _0x5ce67a=_0x38b4d1?_0x3325d6(0x643):_0x3325d6(0x71e),_0x3d3851=_0x38b4d1?'ผ่าน':_0x3325d6(0x209);_0x4dfdf6=_0x3325d6(0x49a)+_0x5ce67a+'\x22>'+_0x3d3851+'</span></div>';}else _0x4dfdf6=_0x3325d6(0x8ee);let _0x443bb2=_0x3325d6(0x1c5)+currentStudentName+_0x3325d6(0x94d)+_0x4dfdf6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x443bb2,studentResultArea[_0x3325d6(0x639)][_0x3325d6(0x3cc)]('hidden'),studentQuizArea[_0x3325d6(0x639)][_0x3325d6(0x87d)](_0x3325d6(0x3f2)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x38b4d1});}function cancelAdminTest(){const _0x84377f=_0x248128;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x84377f(0x61e),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode=_0x84377f(0x517),studentView[_0x84377f(0x639)]['add'](_0x84377f(0x3f2)),adminView[_0x84377f(0x639)]['remove'](_0x84377f(0x3f2)),showView(_0x84377f(0x878));}function setupResultScreenBackButton(_0x1fde8a){const _0x1c8764=_0x248128,_0x213d56={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1fde8a};if(_0x213d56[_0x1c8764(0x18e)]){const _0x55ba54=_0x1c8764(0x8fd);studentResultArea[_0x1c8764(0x173)](_0x1c8764(0x83f),_0x55ba54),document[_0x1c8764(0x3ee)](_0x1c8764(0x753))[_0x1c8764(0x631)](_0x1c8764(0x493),()=>{const _0x158fe3=_0x1c8764;studentResultArea[_0x158fe3(0x639)]['add'](_0x158fe3(0x3f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x59acd5='back-from-results-btn',_0x114994=currentMode===_0x1c8764(0x33e),_0x2fe463=_0x114994?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x1c8764(0x3b4);let _0x304a0c='';_0x213d56['showRankings']&&(_0x304a0c+=_0x1c8764(0x759));let _0x40d3c0=_0x213d56[_0x1c8764(0x721)];_0x40d3c0===undefined&&(_0x40d3c0=_0x213d56[_0x1c8764(0x4a4)]<_0x213d56['totalQuestions']);_0x40d3c0&&(_0x304a0c+=_0x1c8764(0x73a));_0x304a0c+=_0x1c8764(0x44c)+_0x59acd5+_0x1c8764(0x6bb)+_0x2fe463+_0x1c8764(0x2ac);const _0x5ad1bf=_0x1c8764(0x24d)+_0x304a0c+_0x1c8764(0x4e4);studentResultArea[_0x1c8764(0x173)](_0x1c8764(0x83f),_0x5ad1bf),studentResultArea[_0x1c8764(0x828)](_0x1c8764(0x7bf))?.['addEventListener']('click',handleShowStudentRankings);const _0x14fd31=studentResultArea['querySelector'](_0x1c8764(0x58f));_0x14fd31&&_0x14fd31[_0x1c8764(0x631)](_0x1c8764(0x493),()=>{const _0x3b1983=_0x1c8764;studentResultArea[_0x3b1983(0x639)][_0x3b1983(0x87d)](_0x3b1983(0x3f2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1c8764(0x3ee)](_0x59acd5)[_0x1c8764(0x631)](_0x1c8764(0x493),()=>{const _0x55123b=_0x1c8764;_0x114994?(currentMode='admin',studentView[_0x55123b(0x639)]['add']('hidden'),adminView[_0x55123b(0x639)][_0x55123b(0x3cc)](_0x55123b(0x3f2)),showView(_0x55123b(0x878))):(showView('student'),document['getElementById']('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0x97deb4,_0x54236e,_0x1d57d0,_0xb04674,_0x1422b8,_0x43700c=![]){const _0x29becd=_0x248128,_0x5a87be=_0x1422b8>0x0?_0x97deb4/_0x1422b8*0x64:0x0,_0x63a5a3=currentDisplayedQuiz['settings']?.[_0x29becd(0x802)]??-0x1,_0x13be97=currentDisplayedQuiz[_0x29becd(0x232)]===!![];let _0x504117='';if(_0x13be97||_0x63a5a3!==-0x1){let _0xcebda2=_0x13be97?_0x97deb4===_0x1422b8:_0x97deb4>=_0x63a5a3;const _0x54e34d=_0xcebda2?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x9fe2ee=_0xcebda2?_0x29becd(0x218):_0x29becd(0x209);_0x504117=_0x29becd(0x6f4)+_0x54e34d+'\x22>'+_0x9fe2ee+'</p>';}let _0x236ddf=_0x29becd(0x471)+currentStudentName+_0x29becd(0x48c)+_0x97deb4+_0x29becd(0x838)+_0x1422b8+_0x29becd(0x26b)+_0x504117+_0x29becd(0x251)+_0x54236e+_0x29becd(0x948)+_0x5a87be[_0x29becd(0x55a)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0x29becd(0x762)]((_0x543e49,_0x75830d)=>{const _0x22b187=_0x29becd,_0x47c63d=_0xb04674[_0x75830d],_0xcbee58=_0x47c63d[_0x22b187(0x76a)],_0x252603=_0x47c63d[_0x22b187(0x2e0)],_0x5415a3=_0x543e49[_0x22b187(0x59f)]||currentDisplayedQuiz[_0x22b187(0x760)];_0x236ddf+=_0x22b187(0x649)+(_0x252603?_0x22b187(0x4f9):_0x22b187(0x69e))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x75830d+0x1)+'.\x20'+(_0x543e49['stem']||_0x543e49['questionText'])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x5415a3){case _0x22b187(0x732):const _0x3d0160=_0xcbee58||'ไม่ได้ตอบ',_0x50ef38=_0x543e49['correctResponse'];_0x236ddf+=_0x22b187(0x8f2)+(!_0x252603?_0x22b187(0x7ea):'')+'\x22>'+_0x3d0160+_0x22b187(0x4c9);!_0x252603&&(_0x236ddf+=_0x22b187(0x900)+_0x50ef38+_0x22b187(0x1d4));break;case _0x22b187(0x660):_0x236ddf+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0xcbee58||_0x22b187(0x940))+_0x22b187(0x1d4),_0x236ddf+=_0x22b187(0x637)+_0x543e49['idealAnswer']+_0x22b187(0x1d4);break;case _0x22b187(0x5f2):_0x236ddf+=_0x22b187(0x568)+(_0x543e49[_0x22b187(0x572)]===!![]?_0x22b187(0x20b):'')+'\x20'+(_0xcbee58===_0x22b187(0x584)&&!_0x252603?_0x22b187(0x7ea):'')+'\x22>ใช่</p>',_0x236ddf+='<p\x20class=\x22'+(_0x543e49[_0x22b187(0x572)]===![]?_0x22b187(0x20b):'')+'\x20'+(_0xcbee58==='false'&&!_0x252603?'line-through\x20text-red-700':'')+_0x22b187(0x705);break;default:_0x236ddf+=_0x543e49[_0x22b187(0x5b6)][_0x22b187(0x336)]((_0x2a6bfd,_0x1b293e)=>{const _0x3b48e7=_0x22b187;let _0x30e5b9='',_0x12cee5='';if(_0x1b293e===_0x543e49[_0x3b48e7(0x553)])_0x30e5b9=_0x3b48e7(0x20b),_0x12cee5=_0x3b48e7(0x19b);else _0x1b293e===_0xcbee58&&(_0x30e5b9=_0x3b48e7(0x3c1),_0x12cee5=_0x3b48e7(0x7f6));return _0x3b48e7(0x5c9)+_0x30e5b9+'\x22>'+_0x12cee5+_0x2a6bfd+_0x3b48e7(0x4e4);})['join']('');break;}_0x236ddf+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x543e49[_0x22b187(0x205)]||'ไม่มีคำอธิบาย')+_0x22b187(0x4e4);if(!_0x252603){const _0x2595b7=_0x543e49[_0x22b187(0x4c2)]||_0x543e49[_0x22b187(0x830)];_0x236ddf+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x2595b7)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x236ddf+=_0x22b187(0x4e4);}),studentResultArea[_0x29becd(0x58a)]=_0x236ddf,renderEarnedBadges(_0x1d57d0,_0x29becd(0x6cf)),studentResultArea['classList'][_0x29becd(0x3cc)]('hidden'),studentQuizArea[_0x29becd(0x639)][_0x29becd(0x87d)]('hidden'),setupResultScreenBackButton({'isLooping':_0x43700c,'score':_0x97deb4,'totalQuestions':_0x1422b8,'showRankings':!![]});if(window[_0x29becd(0x46e)])window[_0x29becd(0x46e)][_0x29becd(0x8c0)]([studentResultArea]);}function displayResultsScoreOnly(_0x5b7d21,_0x2447c7,_0x400259,_0x5a1094){const _0x4dcc35=_0x248128,_0x5e5608=_0x5a1094>0x0?_0x5b7d21/_0x5a1094*0x64:0x0,_0x33c393=currentDisplayedQuiz[_0x4dcc35(0x75d)]?.[_0x4dcc35(0x802)]??-0x1,_0x209faf=currentDisplayedQuiz[_0x4dcc35(0x232)]===!![];let _0x407e74='';if(_0x209faf||_0x33c393!==-0x1){let _0x55219d=_0x209faf?_0x5b7d21===_0x5a1094:_0x5b7d21>=_0x33c393;const _0x227a34=_0x55219d?_0x4dcc35(0x643):_0x4dcc35(0x71e),_0x485894=_0x55219d?_0x4dcc35(0x218):_0x4dcc35(0x209);_0x407e74=_0x4dcc35(0x6f4)+_0x227a34+'\x22>'+_0x485894+_0x4dcc35(0x1d4);}let _0x279854=_0x4dcc35(0x1c5)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x5b7d21+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5a1094+_0x4dcc35(0x26b)+_0x407e74+_0x4dcc35(0x251)+_0x2447c7+_0x4dcc35(0x142)+_0x5e5608[_0x4dcc35(0x55a)](0x0)+_0x4dcc35(0x25a);studentResultArea['innerHTML']=_0x279854,renderEarnedBadges(_0x400259,_0x4dcc35(0x6cf)),studentResultArea[_0x4dcc35(0x639)]['remove'](_0x4dcc35(0x3f2)),studentQuizArea['classList'][_0x4dcc35(0x87d)]('hidden'),setupResultScreenBackButton({'score':_0x5b7d21,'totalQuestions':_0x5a1094,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3f5224=_0x248128;let _0xb258d2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3f5224(0x58a)]=_0xb258d2,studentResultArea[_0x3f5224(0x639)]['remove']('hidden'),studentQuizArea[_0x3f5224(0x639)]['add'](_0x3f5224(0x3f2)),document['getElementById'](_0x3f5224(0x892))[_0x3f5224(0x631)](_0x3f5224(0x493),()=>{const _0x35c9ea=_0x3f5224;showView(_0x35c9ea(0x757)),document[_0x35c9ea(0x3ee)](_0x35c9ea(0x6ec))[_0x35c9ea(0x635)]='';});}function renderEarnedBadges(_0x5f3732,_0x3c3fb1){const _0x24f039=_0x248128,_0x13939e=document[_0x24f039(0x3ee)](_0x3c3fb1);if(!_0x13939e||!_0x5f3732||_0x5f3732['length']===0x0)return;let _0x2317db='';_0x5f3732[_0x24f039(0x762)]((_0x4844b1,_0x1cc96f)=>{const _0x24f9b9=_0x24f039,_0x109329=Object[_0x24f9b9(0x4d9)](BADGES)[_0x24f9b9(0x2f4)](_0x1ad043=>_0x1ad043['id']===_0x4844b1);_0x109329&&(_0x2317db+=_0x24f9b9(0x3fd)+_0x1cc96f*0.2+_0x24f9b9(0x12c)+_0x109329[_0x24f9b9(0x15c)]+_0x24f9b9(0x509)+_0x109329[_0x24f9b9(0x1bf)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x109329['name']+_0x24f9b9(0x3db));}),_0x13939e[_0x24f039(0x58a)]=_0x2317db;}function startPresentation(_0x292ebe){const _0x16996c=_0x248128;currentQuizData=getShuffledQuiz(_0x292ebe),currentPresentationSlide=0x0,presentationModal['style'][_0x16996c(0x806)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x9efaf2=_0x248128;document[_0x9efaf2(0x694)]&&document['exitFullscreen'](),presentationModal[_0x9efaf2(0x259)][_0x9efaf2(0x806)]=_0x9efaf2(0x51e);}function renderPresentationSlide(_0x150112){const _0x1ac7c7=_0x248128,_0x12f3b0=document[_0x1ac7c7(0x3ee)](_0x1ac7c7(0x564));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x1ac7c7(0x598)][_0x150112]){_0x12f3b0[_0x1ac7c7(0x58a)]=_0x1ac7c7(0x4b3);return;}const _0x1ecf7c=currentQuizData[_0x1ac7c7(0x598)][_0x150112],_0xb67f9=_0x1ecf7c[_0x1ac7c7(0x59f)]||currentQuizData['quizType'];_0x12f3b0[_0x1ac7c7(0x58a)]='';let _0x101c8a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1ecf7c[_0x1ac7c7(0x849)]?_0x1ac7c7(0x204)+_0x1ecf7c[_0x1ac7c7(0x849)]+_0x1ac7c7(0x4e4):'')+_0x1ac7c7(0x5da)+(_0x150112+0x1)+'.\x20'+(_0x1ecf7c['stem']||_0x1ecf7c['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xb67f9){case _0x1ac7c7(0x732):_0x101c8a+=_0x1ecf7c[_0x1ac7c7(0x17a)][_0x1ac7c7(0x336)](_0x15d70b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15d70b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ac7c7(0x375)]('');break;case _0x1ac7c7(0x5f2):_0x101c8a+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x101c8a+=_0x1ac7c7(0x6e0);break;case _0x1ac7c7(0x4f3):case _0x1ac7c7(0x660):_0x101c8a+=_0x1ac7c7(0x7f1);break;case _0x1ac7c7(0x70d):case'multiple_choice':default:_0x101c8a+=_0x1ecf7c[_0x1ac7c7(0x5b6)][_0x1ac7c7(0x336)]((_0x597b35,_0x2b165c)=>_0x1ac7c7(0x698)+_0x2b165c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x597b35+_0x1ac7c7(0x206))['join']('');break;}_0x101c8a+=_0x1ac7c7(0x144)+(_0x1ecf7c['explanation']||_0x1ac7c7(0x889))+_0x1ac7c7(0x40e),_0x12f3b0['innerHTML']=_0x101c8a;if(window[_0x1ac7c7(0x46e)])window[_0x1ac7c7(0x46e)]['typesetPromise']([_0x12f3b0]);document['querySelectorAll']('.presentation-option')[_0x1ac7c7(0x762)](_0x3fb39d=>{const _0x1e8b37=_0x1ac7c7;_0x3fb39d['addEventListener'](_0x1e8b37(0x493),_0x34803d=>revealAnswerForPresentation(_0x150112,_0x34803d[_0x1e8b37(0x1dc)]));});const _0x3e1ea0=document[_0x1ac7c7(0x3ee)]('check-presentation-answer-btn');_0x3e1ea0&&_0x3e1ea0[_0x1ac7c7(0x631)]('click',()=>checkShortAnswerForPresentation(_0x150112)),document['getElementById'](_0x1ac7c7(0x800))[_0x1ac7c7(0x540)]=_0x1ac7c7(0x7b3)+(_0x150112+0x1)+_0x1ac7c7(0x1de)+currentQuizData[_0x1ac7c7(0x598)][_0x1ac7c7(0x888)],document[_0x1ac7c7(0x3ee)]('prev-question-btn')[_0x1ac7c7(0x566)]=_0x150112===0x0,document[_0x1ac7c7(0x3ee)](_0x1ac7c7(0x130))['disabled']=_0x150112===currentQuizData[_0x1ac7c7(0x598)][_0x1ac7c7(0x888)]-0x1;}async function checkShortAnswerForPresentation(_0xb92022){const _0x4addcf=_0x248128,_0x590090=currentQuizData[_0x4addcf(0x598)][_0xb92022],_0x156e55=document[_0x4addcf(0x3ee)](_0x4addcf(0x590)),_0x1ff573=document[_0x4addcf(0x3ee)](_0x4addcf(0x2b3)),_0x3931d1=document[_0x4addcf(0x3ee)](_0x4addcf(0x5e2)),_0x5ab771=document[_0x4addcf(0x3ee)]('presentation-explanation');if(!_0x156e55||!_0x1ff573||!_0x3931d1||!_0x5ab771)return;const _0xe70a3b=_0x156e55[_0x4addcf(0x635)][_0x4addcf(0x6b7)]();if(_0xe70a3b==='')return;_0x1ff573[_0x4addcf(0x566)]=!![],_0x1ff573['innerHTML']=_0x4addcf(0x2be),_0x156e55[_0x4addcf(0x566)]=!![];const _0x160c82=await gradeShortAnswer(_0xe70a3b,_0x590090);_0x160c82?_0x3931d1[_0x4addcf(0x58a)]=_0x4addcf(0x63c):_0x3931d1[_0x4addcf(0x58a)]=_0x4addcf(0x5eb)+_0x590090['idealAnswer']+')',_0x3931d1[_0x4addcf(0x639)][_0x4addcf(0x3cc)]('hidden'),_0x5ab771[_0x4addcf(0x639)][_0x4addcf(0x3cc)](_0x4addcf(0x3f2)),_0x1ff573[_0x4addcf(0x639)][_0x4addcf(0x87d)](_0x4addcf(0x3f2));}function revealAnswerForPresentation(_0x7d6071,_0x13dcd7){const _0x5490bc=_0x248128,_0x25b237=currentQuizData['questions'][_0x7d6071],_0x257d23=_0x25b237[_0x5490bc(0x59f)]||currentQuizData['quizType'];document['querySelectorAll']('.presentation-option')[_0x5490bc(0x762)](_0x2ba930=>{const _0x57a2a8=_0x5490bc;_0x2ba930[_0x57a2a8(0x566)]=!![],_0x2ba930['classList'][_0x57a2a8(0x3cc)](_0x57a2a8(0x5bb));let _0x1f2e24=![];if(_0x257d23===_0x57a2a8(0x88b)||_0x257d23===_0x57a2a8(0x70d)){const _0xbe5b58=parseInt(_0x2ba930[_0x57a2a8(0x334)]['index']);_0x1f2e24=_0xbe5b58===_0x25b237['correctAnswerIndex'];}else{if(_0x257d23===_0x57a2a8(0x5f2)){const _0x22916f=_0x2ba930[_0x57a2a8(0x334)]['answer']==='true';_0x1f2e24=_0x22916f===_0x25b237[_0x57a2a8(0x572)];}else _0x257d23==='matching_item'&&(_0x1f2e24=_0x2ba930[_0x57a2a8(0x540)]['trim']()===_0x25b237['correctResponse']);}_0x1f2e24?_0x2ba930[_0x57a2a8(0x639)][_0x57a2a8(0x87d)](_0x57a2a8(0x5e9),'text-white',_0x57a2a8(0x40b)):_0x2ba930[_0x57a2a8(0x639)][_0x57a2a8(0x87d)](_0x57a2a8(0x1e3));}),_0x13dcd7[_0x5490bc(0x639)]['remove'](_0x5490bc(0x1e3));let _0xd321bd=![];if(_0x257d23==='multiple_choice')_0xd321bd=parseInt(_0x13dcd7[_0x5490bc(0x334)]['index'])===_0x25b237['correctAnswerIndex'];else{if(_0x257d23===_0x5490bc(0x5f2))_0xd321bd=_0x13dcd7[_0x5490bc(0x334)]['answer']===_0x5490bc(0x584)===_0x25b237[_0x5490bc(0x572)];else _0x257d23==='matching_item'&&(_0xd321bd=_0x13dcd7[_0x5490bc(0x540)][_0x5490bc(0x6b7)]()===_0x25b237[_0x5490bc(0x8f3)]);}!_0xd321bd&&_0x13dcd7['classList'][_0x5490bc(0x87d)]('bg-red-500',_0x5490bc(0x832),_0x5490bc(0x2d7)),document[_0x5490bc(0x3ee)](_0x5490bc(0x12f))['classList'][_0x5490bc(0x3cc)]('hidden');}function startWholeQuizTimer(_0x58e7d0){const _0x89dc84=_0x248128,_0x4ae248=document[_0x89dc84(0x3ee)](_0x89dc84(0x191));if(!_0x4ae248)return;const _0x25970b=Date[_0x89dc84(0x8ea)]()+_0x58e7d0*0x3c*0x3e8;_0x4ae248[_0x89dc84(0x58a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x273fa9=document[_0x89dc84(0x3ee)](_0x89dc84(0x734));quizTimerInterval=setInterval(()=>{const _0x5b52a9=_0x89dc84,_0xc49d18=_0x25970b-Date[_0x5b52a9(0x8ea)]();if(_0xc49d18<=0x0)clearInterval(quizTimerInterval),_0x273fa9[_0x5b52a9(0x540)]=_0x5b52a9(0x784),showMessage(_0x5b52a9(0x664)),handleSubmitQuiz(null);else{const _0x41655e=Math[_0x5b52a9(0x7b2)](_0xc49d18/0x3e8/0x3c%0x3c)['toString']()[_0x5b52a9(0x35d)](0x2,'0'),_0x203d8b=Math['floor'](_0xc49d18/0x3e8%0x3c)[_0x5b52a9(0x4dd)]()[_0x5b52a9(0x35d)](0x2,'0');_0x273fa9[_0x5b52a9(0x540)]=_0x41655e+':'+_0x203d8b;}},0x3e8);}function renderPerQuestionView(){const _0x17d511=_0x248128;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x204f8c=currentDisplayedQuiz[_0x17d511(0x598)][currentQuestionIndex],_0x3a5656=_0x204f8c[_0x17d511(0x59f)]||currentDisplayedQuiz['quizType'];let _0x228956=_0x17d511(0x90e)+(currentQuestionIndex+0x1)+_0x17d511(0x454)+currentDisplayedQuiz[_0x17d511(0x598)][_0x17d511(0x888)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x17d511(0x1eb)+currentDisplayedQuiz['topic']+_0x17d511(0x73d)+(currentQuestionIndex===currentDisplayedQuiz[_0x17d511(0x598)][_0x17d511(0x888)]-0x1?_0x17d511(0x7ab):_0x17d511(0x6c5))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x228956;let _0x408f67='',_0x36d6b4='';switch(_0x3a5656){case _0x17d511(0x732):_0x408f67=currentQuestionIndex+0x1+'.\x20'+_0x204f8c[_0x17d511(0x4c2)],_0x36d6b4=_0x17d511(0x6c9)+_0x204f8c[_0x17d511(0x17a)][_0x17d511(0x336)](_0xa99f4f=>_0x17d511(0x469)+_0xa99f4f+'\x22>'+_0xa99f4f+'</option>')[_0x17d511(0x375)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x17d511(0x5f2):_0x408f67=currentQuestionIndex+0x1+'.\x20'+_0x204f8c[_0x17d511(0x830)],_0x36d6b4=_0x17d511(0x279);break;case'short_answer':case _0x17d511(0x4f3):_0x408f67=currentQuestionIndex+0x1+'.\x20'+_0x204f8c[_0x17d511(0x830)],_0x36d6b4=_0x17d511(0x783);break;case _0x17d511(0x88b):case _0x17d511(0x2f9):default:_0x408f67=currentQuestionIndex+0x1+'.\x20'+_0x204f8c[_0x17d511(0x830)],_0x36d6b4=_0x204f8c[_0x17d511(0x5b6)]['map']((_0x337849,_0x4e5d30)=>_0x17d511(0x6fa)+_0x4e5d30+_0x17d511(0x502)+_0x4e5d30+_0x17d511(0x959)+_0x4e5d30+'\x22>'+_0x337849+_0x17d511(0x96a))[_0x17d511(0x375)]('');break;}_0x204f8c[_0x17d511(0x849)]&&(_0x408f67+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x204f8c['imageCode']+_0x17d511(0x4e4));document['getElementById'](_0x17d511(0x36e))['innerHTML']=_0x408f67,document['getElementById'](_0x17d511(0x3f7))[_0x17d511(0x58a)]=_0x36d6b4;if(currentMode===_0x17d511(0x33e)){const _0x2a0c02=document[_0x17d511(0x3ee)](_0x17d511(0x54e));if(_0x2a0c02)_0x2a0c02['addEventListener'](_0x17d511(0x493),cancelAdminTest);}document[_0x17d511(0x3ee)](_0x17d511(0x5f9))[_0x17d511(0x631)](_0x17d511(0x493),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window['MathJax'][_0x17d511(0x8c0)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x513fae=_0x248128,_0x189e41=currentDisplayedQuiz[_0x513fae(0x75d)][_0x513fae(0x6a1)],_0x41a3ee=document[_0x513fae(0x3ee)](_0x513fae(0x2d0));if(!_0x41a3ee)return;let _0x298578=_0x189e41;_0x41a3ee[_0x513fae(0x58a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x298578+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3eea64=document[_0x513fae(0x3ee)]('timer-bar'),_0x507b89=document[_0x513fae(0x3ee)](_0x513fae(0x4a2));perQuestionTimerInterval=setInterval(()=>{const _0x2c8983=_0x513fae;_0x298578--;const _0x104fd2=_0x298578/_0x189e41*0x64;_0x3eea64[_0x2c8983(0x259)][_0x2c8983(0x2ba)]=_0x104fd2+'%',_0x507b89[_0x2c8983(0x540)]=_0x298578,_0x298578<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2c8983(0x79a)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xc64778=![]){const _0x4901de=_0x248128;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x34b076=null;if(!_0xc64778){const _0x30c99b=currentDisplayedQuiz[_0x4901de(0x598)][currentQuestionIndex],_0x55f33d=_0x30c99b[_0x4901de(0x59f)]||currentDisplayedQuiz[_0x4901de(0x760)];if(_0x55f33d==='short_answer'||_0x55f33d===_0x4901de(0x4f3)){const _0x66331c=document[_0x4901de(0x828)](_0x4901de(0x887));_0x34b076=_0x66331c?_0x66331c[_0x4901de(0x635)][_0x4901de(0x6b7)]():'';}else{if(_0x55f33d===_0x4901de(0x732)){const _0x2dfff5=document[_0x4901de(0x828)]('#per-question-options\x20select');_0x34b076=_0x2dfff5?_0x2dfff5[_0x4901de(0x635)]:'';}else{const _0x29300d=document['querySelector'](_0x4901de(0x489));if(_0x29300d){const _0x5d0c0d=_0x29300d[_0x4901de(0x635)];_0x34b076=!isNaN(parseInt(_0x5d0c0d,0xa))&&_0x5d0c0d[_0x4901de(0x6b7)]()!==''?parseInt(_0x5d0c0d,0xa):_0x5d0c0d;}}}}studentAnswersPerQuestion[_0x4901de(0x162)](_0x34b076),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x4901de(0x598)][_0x4901de(0x888)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x4bfe1a=_0x248128,_0x430673=currentDisplayedQuiz[_0x4bfe1a(0x598)][_0x4bfe1a(0x79e)](_0x570cf2=>_0x570cf2[_0x4bfe1a(0x59f)]===_0x4bfe1a(0x660));_0x430673?showMessage(_0x4bfe1a(0x556)):showMessage(_0x4bfe1a(0x7fb));const _0x4e568c=currentQuizData['id'],_0x1f9f7d=doc(db,_0x4bfe1a(0x243)+appId+_0x4bfe1a(0x844)+_0x4e568c+_0x4bfe1a(0x338),currentStudentName),_0x3c9fd7=await getDoc(_0x1f9f7d),_0x4516fb=_0x3c9fd7[_0x4bfe1a(0x225)]()?_0x3c9fd7[_0x4bfe1a(0x45b)]():{},_0x55df14=_0x4516fb['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x55df14);}function getResultsFilename(){const _0x28af20=_0x248128,_0x8bc142=document[_0x28af20(0x3ee)](_0x28af20(0x60f))[_0x28af20(0x540)][_0x28af20(0x92e)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x28af20(0x609)+(_0x8bc142||_0x28af20(0x23f));}function exportResultsAsImage(){const _0x180d5c=_0x248128,_0x179a9d=document['getElementById'](_0x180d5c(0x346));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x179a9d)[_0x180d5c(0x2e5)](_0x13bd07=>{const _0x464218=_0x180d5c,_0xe8c8eb=document['createElement']('a');_0xe8c8eb[_0x464218(0x13d)]=getResultsFilename()+_0x464218(0x6b5),_0xe8c8eb[_0x464218(0x29c)]=_0x13bd07[_0x464218(0x4d2)]('image/png'),_0xe8c8eb[_0x464218(0x493)](),messageModal[_0x464218(0x639)][_0x464218(0x87d)](_0x464218(0x3f2));});}function exportResultsAsPDF(){const _0x588bf7=_0x248128,{jsPDF:_0x306c5c}=window['jspdf'],_0xea335c=new _0x306c5c();_0xea335c[_0x588bf7(0x374)](_0x588bf7(0x16d),_0x588bf7(0x165)),_0xea335c[_0x588bf7(0x474)]({'html':'#results-table'}),_0xea335c['save'](getResultsFilename()+_0x588bf7(0x6ae));}function exportResultsAsWord(){const _0x125c76=_0x248128,_0x42a6af=_0x125c76(0x6fc)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x125c76(0x1ed)+_0x125c76(0x5a6),_0x205f27=_0x125c76(0x687),_0x3e5b9c=_0x42a6af+document['getElementById'](_0x125c76(0x346))[_0x125c76(0x58a)]+_0x205f27,_0x262d76=_0x125c76(0x6fe)+encodeURIComponent(_0x3e5b9c),_0x2de2fd=document[_0x125c76(0x3b2)]('a');document['body'][_0x125c76(0x2a8)](_0x2de2fd),_0x2de2fd[_0x125c76(0x29c)]=_0x262d76,_0x2de2fd[_0x125c76(0x13d)]=getResultsFilename()+_0x125c76(0x21e),_0x2de2fd[_0x125c76(0x493)](),document[_0x125c76(0x3b6)][_0x125c76(0x44e)](_0x2de2fd);}function exportResultsAsExcel(){const _0x284b40=_0x248128,_0x1a266c=document['getElementById']('results-table');let _0x22d985=[];for(let _0x3e0843=0x0;_0x3e0843<_0x1a266c[_0x284b40(0x42e)][_0x284b40(0x888)];_0x3e0843++){let _0x3a9e04=[],_0x23af0b=_0x1a266c['rows'][_0x3e0843][_0x284b40(0x8e0)](_0x284b40(0x770));for(let _0x1d4b36=0x0;_0x1d4b36<_0x23af0b['length'];_0x1d4b36++){_0x3a9e04[_0x284b40(0x162)]('\x22'+_0x23af0b[_0x1d4b36]['innerText'][_0x284b40(0x92e)](/"/g,'\x22\x22')+'\x22');}_0x22d985[_0x284b40(0x162)](_0x3a9e04[_0x284b40(0x375)](','));}const _0x3bf140=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x22d985[_0x284b40(0x375)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x28e602=document[_0x284b40(0x3b2)]('a');_0x28e602[_0x284b40(0x29c)]=URL[_0x284b40(0x689)](_0x3bf140),_0x28e602['download']=getResultsFilename()+_0x284b40(0x1c0),_0x28e602[_0x284b40(0x493)]();}function exportTableAsImage(_0x304a7e,_0x4f6f19){const _0x2fb7f1=_0x248128,_0x2c214b=document[_0x2fb7f1(0x3ee)](_0x304a7e);if(!_0x2c214b){showMessage(_0x2fb7f1(0x6b3));return;}showMessage(_0x2fb7f1(0x95d)),html2canvas(_0x2c214b)[_0x2fb7f1(0x2e5)](_0x48a408=>{const _0x47df2e=_0x2fb7f1,_0x183eeb=document[_0x47df2e(0x3b2)]('a');_0x183eeb['download']=_0x4f6f19+_0x47df2e(0x6b5),_0x183eeb['href']=_0x48a408[_0x47df2e(0x4d2)](_0x47df2e(0x4b4)),_0x183eeb[_0x47df2e(0x493)](),messageModal[_0x47df2e(0x639)]['add'](_0x47df2e(0x3f2));});}function exportTableAsPDF(_0x4f73a4,_0x5179b6){const _0x279659=_0x248128,{jsPDF:_0x41bb12}=window['jspdf'],_0xd11c8d=new _0x41bb12();_0xd11c8d['setFont'](_0x279659(0x16d),_0x279659(0x165)),_0xd11c8d[_0x279659(0x474)]({'html':'#'+_0x4f73a4}),_0xd11c8d[_0x279659(0x754)](_0x5179b6+_0x279659(0x6ae));}function exportTableAsWord(_0x2c6361,_0xe58cfb){const _0x5dc06e=_0x248128,_0x5ef0ad=document['getElementById'](_0x2c6361);if(!_0x5ef0ad){showMessage(_0x5dc06e(0x6b3));return;}const _0x54729f=_0x5dc06e(0x6fc)+_0x5dc06e(0x323)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x5dc06e(0x5a6),_0x5cce29=_0x5dc06e(0x687),_0x5887a5=_0x54729f+_0x5ef0ad[_0x5dc06e(0x58a)]+_0x5cce29,_0x30dfa8=_0x5dc06e(0x6fe)+encodeURIComponent(_0x5887a5),_0x34c8bb=document[_0x5dc06e(0x3b2)]('a');document[_0x5dc06e(0x3b6)][_0x5dc06e(0x2a8)](_0x34c8bb),_0x34c8bb[_0x5dc06e(0x29c)]=_0x30dfa8,_0x34c8bb[_0x5dc06e(0x13d)]=_0xe58cfb+'.doc',_0x34c8bb[_0x5dc06e(0x493)](),document[_0x5dc06e(0x3b6)][_0x5dc06e(0x44e)](_0x34c8bb);}function exportTableAsExcel(_0x42248f,_0x31b7a7){const _0x3ee738=_0x248128,_0x49dd67=document[_0x3ee738(0x3ee)](_0x42248f);if(!_0x49dd67){showMessage(_0x3ee738(0x6b3));return;}let _0x541e11=[];for(let _0x110e60=0x0;_0x110e60<_0x49dd67['rows'][_0x3ee738(0x888)];_0x110e60++){let _0x3d18b1=[],_0x1faf62=_0x49dd67['rows'][_0x110e60][_0x3ee738(0x8e0)]('td,\x20th');for(let _0x588df5=0x0;_0x588df5<_0x1faf62[_0x3ee738(0x888)];_0x588df5++){_0x3d18b1[_0x3ee738(0x162)]('\x22'+_0x1faf62[_0x588df5][_0x3ee738(0x548)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x541e11['push'](_0x3d18b1['join'](','));}const _0x1db9b5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x541e11[_0x3ee738(0x375)]('\x0a')],{'type':_0x3ee738(0x46d)}),_0x44a9ec=document[_0x3ee738(0x3b2)]('a');_0x44a9ec[_0x3ee738(0x29c)]=URL['createObjectURL'](_0x1db9b5),_0x44a9ec[_0x3ee738(0x13d)]=_0x31b7a7+_0x3ee738(0x1c0),_0x44a9ec['click']();}function renderAnalytics(_0x58a37d,_0x720c7f){const _0x12f12a=_0x248128,_0x2a2ce6=_0x720c7f[_0x12f12a(0x305)](_0x519fb0=>_0x519fb0[_0x12f12a(0x840)]!==undefined),_0x4d6e92=currentProjectData[_0x12f12a(0x790)][_0x12f12a(0x888)],_0x39b3d7=_0x2a2ce6['length'],_0x3f84ba=_0x4d6e92-_0x39b3d7,_0x3a83e2=_0x4d6e92>0x0?_0x39b3d7/_0x4d6e92*0x64:0x0,_0x170c06=_0x2a2ce6['map'](_0xce77b=>_0xce77b[_0x12f12a(0x840)]),_0x45ce56=_0x170c06[_0x12f12a(0x888)]>0x0?_0x170c06['reduce']((_0x54ea61,_0x3dfa4d)=>_0x54ea61+_0x3dfa4d,0x0)/_0x170c06[_0x12f12a(0x888)]:0x0,_0x4cea97=_0x58a37d['questions'][_0x12f12a(0x888)],_0x29ec57=_0x4cea97>0x0?_0x45ce56/_0x4cea97*0x64:0x0,_0x3132f1=calculateItemAnalysis(_0x58a37d,_0x2a2ce6),_0x549489=calculateReliabilityKR20(_0x58a37d,_0x2a2ce6,_0x3132f1[_0x12f12a(0x250)]);let _0x49fc58='';if(_0x549489!==null){let _0x54e2e6='';if(_0x549489>=0.9)_0x54e2e6=_0x12f12a(0x7b6);else{if(_0x549489>=0.8)_0x54e2e6=_0x12f12a(0x674);else{if(_0x549489>=0.7)_0x54e2e6='ดี';else{if(_0x549489>=0.6)_0x54e2e6=_0x12f12a(0x963);else _0x54e2e6=_0x12f12a(0x1a8);}}}_0x49fc58='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x549489[_0x12f12a(0x55a)](0x2)+_0x12f12a(0x478)+_0x54e2e6+_0x12f12a(0x349);}const _0x345d9d=document['getElementById'](_0x12f12a(0x51d));_0x345d9d['innerHTML']=_0x12f12a(0x835)+_0x3a83e2[_0x12f12a(0x55a)](0x0)+_0x12f12a(0x768)+_0x39b3d7+'/'+_0x4d6e92+_0x12f12a(0x49b)+_0x45ce56[_0x12f12a(0x55a)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x29ec57[_0x12f12a(0x55a)](0x0)+_0x12f12a(0x91d)+(_0x170c06['length']>0x0?Math['max'](..._0x170c06):_0x12f12a(0x905))+_0x12f12a(0x176)+(_0x170c06[_0x12f12a(0x888)]>0x0?Math['min'](..._0x170c06):_0x12f12a(0x905))+_0x12f12a(0x560)+_0x49fc58+_0x12f12a(0x8b7);const _0x3639dd=document[_0x12f12a(0x3ee)](_0x12f12a(0x4ab));_0x3639dd&&_0x3639dd['remove']();const _0x1a48f3=_0x12f12a(0x166);_0x345d9d[_0x12f12a(0x173)](_0x12f12a(0x1df),_0x1a48f3);const _0x3241fc=currentProjectData[_0x12f12a(0x790)]||[];renderSubmissionChart(_0x39b3d7,_0x3f84ba,_0x2a2ce6,_0x3241fc),renderScoreDistributionChart(_0x2a2ce6,_0x4cea97),renderQuestionAnalytics(_0x58a37d,_0x2a2ce6,_0x3241fc),renderInterestingStats(_0x58a37d,_0x2a2ce6);}async function handleExportLessonPDF(){const _0x4c73bc=_0x248128,_0x5aebbe=document[_0x4c73bc(0x3ee)]('lesson-plan-content'),_0x3aa20d=document['getElementById'](_0x4c73bc(0x424))[_0x4c73bc(0x540)],_0xb4ee35=window[_0x4c73bc(0x6b1)]('',_0x4c73bc(0x7c7)),_0x22e01d=_0x4c73bc(0x7f7)+_0x3aa20d+_0x4c73bc(0x342)+_0x5aebbe[_0x4c73bc(0x58a)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xb4ee35['document']['write'](_0x22e01d),_0xb4ee35[_0x4c73bc(0x533)][_0x4c73bc(0x6f2)](),_0xb4ee35[_0x4c73bc(0x43e)]=function(){setTimeout(()=>{const _0x4a14b5=_0xadd6;_0xb4ee35[_0x4a14b5(0x537)]();},0x5dc);};}function renderInterestingStats(_0x5757e3,_0x2d5348){const _0x22a220=_0x248128,_0x2e648d=document[_0x22a220(0x3ee)]('interesting-stats-container');if(!_0x2e648d)return;if(_0x2d5348['length']===0x0){_0x2e648d[_0x22a220(0x58a)]=_0x22a220(0x216);return;}const _0x1d58c3=_0x5757e3[_0x22a220(0x598)][_0x22a220(0x336)]((_0x388711,_0x3a3e76)=>({'index':_0x3a3e76+0x1,'text':_0x388711[_0x22a220(0x830)]||_0x388711['stem'],'correct':0x0}));_0x2d5348['forEach'](_0x51bb4e=>{const _0x52a272=_0x22a220,_0x5687a7=_0x51bb4e[_0x52a272(0x18f)][_0x51bb4e['attempts']['length']-0x1];_0x5687a7&&_0x5687a7[_0x52a272(0x1e2)]&&_0x5687a7[_0x52a272(0x1e2)]['forEach'](_0x2c9c77=>{const _0x39b507=_0x52a272,_0x4da08c=_0x1d58c3[_0x39b507(0x2f4)](_0xd42777=>_0xd42777[_0x39b507(0x171)]===_0x2c9c77[_0x39b507(0x86b)]);_0x2c9c77[_0x39b507(0x2e0)]&&_0x4da08c&&_0x4da08c[_0x39b507(0x7da)]++;});});const _0x2b8495=_0x2d5348['length'],_0x20ec83=Math[_0x22a220(0x311)](..._0x1d58c3[_0x22a220(0x336)](_0x208121=>_0x208121['correct'])),_0x340a91=Math['min'](..._0x1d58c3[_0x22a220(0x336)](_0x5c27f8=>_0x5c27f8['correct'])),_0xa26f90=_0x1d58c3[_0x22a220(0x305)](_0x135320=>_0x135320['correct']===_0x20ec83)[_0x22a220(0x336)](_0x546910=>_0x22a220(0x751)+_0x546910[_0x22a220(0x917)]),_0x2f52bc=_0x1d58c3[_0x22a220(0x305)](_0x545393=>_0x545393[_0x22a220(0x7da)]===_0x340a91)[_0x22a220(0x336)](_0x476cc1=>_0x22a220(0x751)+_0x476cc1[_0x22a220(0x917)]),_0x411ca0=_0x2d5348['sort']((_0x1a3dfa,_0x15aa23)=>_0x15aa23[_0x22a220(0x840)]-_0x1a3dfa[_0x22a220(0x840)])[_0x22a220(0x305)]((_0x22ac57,_0x52b76a,_0xe30d43)=>_0x22ac57[_0x22a220(0x840)]===_0xe30d43[0x0][_0x22a220(0x840)]),_0x588fbb=_0x2d5348[_0x22a220(0x81a)]((_0x1b4c44,_0x4d4921)=>_0x1b4c44[_0x22a220(0x840)]-_0x4d4921[_0x22a220(0x840)])[_0x22a220(0x305)]((_0x365013,_0x5836a0,_0x5a8a89)=>_0x365013[_0x22a220(0x840)]===_0x5a8a89[0x0][_0x22a220(0x840)]),_0x4b20d2=_0x22a220(0x8b8)+_0xa26f90[_0x22a220(0x375)](',\x20')+_0x22a220(0x50b)+_0x20ec83+_0x22a220(0x1de)+_0x2b8495+_0x22a220(0x327)+_0x2f52bc['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x2b8495-_0x340a91)+_0x22a220(0x1de)+_0x2b8495+_0x22a220(0x4bc)+_0x411ca0['map'](_0x730acc=>_0x730acc[_0x22a220(0x8d1)])[_0x22a220(0x375)](',\x20')+_0x22a220(0x8d4)+_0x411ca0[0x0][_0x22a220(0x840)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x588fbb[_0x22a220(0x336)](_0x5acb25=>_0x5acb25[_0x22a220(0x8d1)])[_0x22a220(0x375)](',\x20')+_0x22a220(0x8d4)+_0x588fbb[0x0][_0x22a220(0x840)]+_0x22a220(0x919);_0x2e648d[_0x22a220(0x58a)]=_0x4b20d2;}function _0x4a23(){const _0x19526f=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ร้อยละประยุกต์','contentEditable','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','NUMBER','ส่งคำตอบ','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','items','floor','ข้อที่\x20','.pair-quiz-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ยอดเยี่ยม','removeAttribute','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','.live-answer-btn,\x20#live-submit-short-answer-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','การแจกแจงปกติและ\x20z-score','preventDefault','\x22\x20name=\x22drill_answer\x22\x20value=\x22','#view-rankings-btn','num-questions','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20ซึ่งมีทั้งหมด\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','flex','_blank','cancel-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','move-quiz-modal','createdBy','desc','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','timer-duration-input','ค.ร.น.\x20(LCM)','_opt1\x22>ไม่ใช่</label></div>','Error\x20starting\x20live\x20race:','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','สถิติและความน่าจะเป็น','กรุณาเลือกไฟล์ก่อน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','manage-tab-content','rename-quiz-input','leaderboard-quiz-tab-content','correct','กำลังสร้างแบบทดสอบคู่ขนาน...','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','goto-next-question-btn','analytics','รูปสี่เหลี่ยมและสมบัติ','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','OBJECT','Copy\x20command\x20failed','COMEBACK_KING','export-lesson-pdf-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','.pen-size-btn','ย้าย','line-through\x20text-red-700','\x22\x20value=\x22','กรุณาใส่ชื่อโปรเจค','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','$1\x5ctext{','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500','topic','ทำคะแนนได้เกินครึ่ง','startsWith','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','quick_thinker','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','doughnut','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ตรีโกณมิติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','[*]','slide-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','ห.ร.ม.\x20(GCD)','<div\x20class=\x22my-2\x22>','link-url-input','display','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','confirmation-modal','หัวข้อที่สร้างเอง','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','copy','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','Error\x20renaming\x20quiz:','svg','กราฟฟังก์ชันตรีโกณ','อัปเดตแบบทดสอบเก่า\x20','player-count','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','$1\x5ctimes','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','show_results_only','input[type=\x22text\x22]','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','sort','Invalid\x20response\x20structure\x20from\x20AI:','#student-project-leaderboard-content\x20thead','องค์ประกอบของฟังก์ชัน','topic-input','ฟังก์ชันยกกำลัง','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','modal-adaptive-quiz-checkbox','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','show_results_and_answers','after','confirm-quiz-settings-btn','จำนวนคู่:','ชื่อหัวข้อห้ามว่าง','querySelector','back-to-student-home-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','classWeaknesses','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','questionText','\x22\x20data-q-type=\x22','text-white','.topic-actions-edit','quiz-schedule-start-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเลขคณิต\x20(AP)','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','บันทึกแบบทดสอบสำเร็จแล้ว!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','removeEventListener','comparison','beforeend','latestScore','upperGroupResponders','/preferences/main','cancel-quiz-bank-btn','/public/data/quizzes/','bg-green-100\x20font-bold','<div\x20class=\x22flex-1\x22></div>','div','findIndex','imageCode','_opt1\x22\x20name=\x22question','Error\x20unpairing\x20quizzes:','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','.project-card-container:not(.opacity-50)','deg','ค่าคลาดเคลื่อนของการวัด','playerName','fixedData','#math-topics-checkbox-container\x20input:checked','<div\x20class=\x22loader\x20mx-auto\x22></div>','toggle','get','comparison-individual-tab','fromCharCode','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','currentQuestionIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','include-images-checkbox','student-quiz-topic','shuffle-setting-select','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.start-live-race-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','right','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','submission-status-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint-btn','auto-fix-latex-btn','originalQuestionText','Error\x20joining\x20live\x20game:','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','onclick','projectName','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','src','\x22\x20สำเร็จ','พิมพ์ตอบ','modal-timer-duration-container','editable-quiz-topic','className','project-search-input','project-detail','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','export-excel-btn','(ก่อนเรียน)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','add','ปริมาตรรูปทรงสามมิติ','เวกเตอร์และเมทริกซ์\x20(เสริม)','readAsDataURL','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-passcode-modal','ai-quiz-app-aefee','live-game','Error\x20deleting\x20submission:','#per-question-options\x20textarea','length','ไม่มีคำอธิบาย','medium','multiple_choice','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การลบทศนิยม','พื้นที่สามเหลี่ยม','\x0a---\x0a','back-to-home-manual-release','กรุณาป้อนหัวข้อสำหรับใบงาน','เพิ่มหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','ไม่สามารถเพิ่มนักเรียนได้','.status','delete-all-students-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Error\x20saving\x20visibility\x20settings:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','สร้างคำถามใหม่\x201\x20ข้อ\x20','แบบปรนัย\x204\x20ตัวเลือก','bg-green-200','ตรวจคะแนนใหม่\x20','scratchpad-clear-btn','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','message-modal','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','คัดลอกไม่สำเร็จ','(ไม่มีชื่อ)','พื้นที่ใต้กราฟ/ระหว่างกราฟ','text-purple-600','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','on_fire','includes','สุดยอด!\x20ตอบถูกทุกข้อ','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAdaptive','application/json','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','stdDev','bulk-shuffle-select','mouseleave','typesetPromise','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comeback_king','ring-purple-400','text-red-300\x20hover:text-red-100','project-dashboard-view','math-topics-checkbox-container','ถูกต้อง!','moveTo','confirm-move-quiz-btn','AI\x20grading\x20failed:','analyze-strengths-btn','#results-table\x20thead\x20tr','start-game-btn','text-green-600\x20font-bold','studentName','ระยะจากจุดถึงเส้นตรง','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','select-all-topics-btn','GlobalWorkerOptions','postScore','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','global-live-game-modal','.pin-project-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','overallGroups','querySelectorAll','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','quiz-results-view','backgroundColor','difficulty-level-select','Error\x20generating\x20lesson\x20plan:','การคูณ','กราฟแท่ง\x20กราฟเส้น','ทศนิยม\x20(ค่าประจำหลัก)','AI\x20Formula\x20Fix\x20Error:','now','upperGroupNames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ความต่อเนื่อง','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','Error\x20moving\x20quiz:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','correctResponse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','submissions','ฟังก์ชันแบบชิ้นส่วน','อินเวอร์สของเมทริกซ์','เกิดข้อผิดพลาดในการบันทึก','อัปเดตพฤติกรรมสำหรับ\x20','resize','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','#F3E8FF','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','เกิดข้อผิดพลาดในการโหลดโปรเจค','random','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','globalSettings','parallel-test-upload-input','project-sort-select','request','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','clearRect','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','bg-green-50','overline','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','getAttributeNS','<i\x20class=\x22fas\x20fa-pen\x22></i>','leaderboard','index','closest','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','change','modal-timer-duration-input','tGain','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','\x5cfrac','cancel-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','ไฮเพอร์โบลา','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','Enter','แบบทดสอบนี้หมดเวลาแล้ว','แก้ไขหัวข้อสำเร็จ','player-list-lobby','274192258111','scratchpad-canvas-container','replace','Error\x20saving\x20project\x20order:','type','input[type=\x22checkbox\x22]:checked',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','ไม่มี','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','destroy','<span\x20class=\x22font-bold\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','ai-quiz-app-aefee.firebasestorage.app','ไม่ได้ตอบ','เศษส่วน\x20(ย่อ/ขยาย)','หน่วยมวล/น้ำหนักและการแปลง','text-gray-100','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','#DBEAFE','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','student-quiz-leaderboard-tab','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','test','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','แคลคูลัสเบื้องต้น','.\x20แต่ละข้อมี\x20','ความน่าจะเป็นแบบมีเงื่อนไข','#E5E7EB','json','answering','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','shuffle','viewBox','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','insertBefore','rgba(59,\x20130,\x20246,\x200.7)','</div><div\x20class=\x22space-y-2\x22>','กำลังสร้างรูปภาพ...','\x20mb-2\x22>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-leaderboard-table-container','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','พอใช้','/public/data/projects','http://www.w3.org/2000/svg','release','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','show_pass_fail_only','quiz-results-table-body','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','string','ON_FIRE','Error\x20showing\x20quiz\x20detail\x20view:','fill','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','STOP','confirm-delete-btn','bg-emerald-100','s;\x22\x20title=\x22','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','justification','presentation-explanation','next-question-btn','grid','1:274192258111:web:4120c9118229b5644dd48a','project-detail-view','ใช่','ฟังก์ชันผกผัน','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','ฟังก์ชันค่าสัมบูรณ์','warn','สำหรับโปรเจค:\x20','student-name-select','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','download','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','getItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','สรุปผลการวิเคราะห์:\x5cn','text-red-500\x20hover:text-red-700','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</tbody></table>','sin','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','results-tab','bg-gray-500','.generate-easy-version-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผิด','toDate','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ideal-answer-input','2675205GOdhpX','\x22\x20value=\x22true\x22\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ARRAY','description','.copy-quiz-id-list-btn','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<svg','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','push','manage','สมการค่าสัมบูรณ์','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','ไม่สามารถบันทึกการตั้งค่าได้','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','delete','modal-timer-duration-label','scratchpad-close-btn','helvetica','การจัดกลุ่มข้อมูล','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<h1></h1>','text','bg-purple-50','insertAdjacentHTML','สู้ๆ\x20ลองอีกครั้งนะ','generated-quiz-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','onmouseleave','ไม่พบแบบทดสอบในระบบเลย','allResponses','results-tab-content','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ความชันและเส้นตรง','เลือกโปรเจคเพื่อบันทึก','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','close-presentation-btn','mousedown','file-upload-input','timer-duration-container','(ก่อนเรียน)\x20','text-green-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','.generate-post-test-btn','Error\x20fetching\x20student\x20rankings:','Error\x20duplicating\x20quiz:','ค่าเฉลี่ย','isLooping','attempts','text-gray-500','timer-container','การหาร','num-choices','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','files','#FFFFFF','#ffffff','กฎของไซน์','Error\x20saving\x20user\x20preference:','both','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','scratchpad-options','split','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิต','เกิดข้อผิดพลาดในการนำผู้เล่นออก','comparison-modal','ฟังก์ชันลอการิทึม','Error\x20generating\x20quiz:','button[data-id]','starred','ควรปรับปรุง','พิสัย','text-content-input','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','แผนภาพเวนน์','.question-editor-item','(^|[^\x5c\x5c])\x5cb','specialist','.move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-duration-label','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','save-quiz-btn','\x22.\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','quiz-editor-modal','bg-blue-100','icon','.csv','ผ่านฉลุย','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','log','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','open-scratchpad-btn','textarea','admin-view','text-blue-700','กรุณาใส่ชื่อใหม่','Error\x20during\x20class\x20analysis:','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','ลบผลสอบของ\x20','.topic-name-display','การยืนยันตัวตนล้มเหลว','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','lessonPlan','</p>','title','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','\x22>จาก:\x20','คำถามดิบ:\x20\x22','361683oEPWun','currentTarget','quiz-start-time','\x20/\x20','afterend','totalPoints','การวัด','answers','opacity-50','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','ระยะเวลา\x20(นาที):','end-game-btn','.quiz-bank-move-btn','results-display-select','Error\x20starting\x20game:','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','พื้นที่สี่เหลี่ยม','baseVal','text-gray-400\x20hover:text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','adaptive-quiz-checkbox','touches','.delete-quiz-btn','rgba(79,\x2070,\x20229,\x201)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','destination-out','.unpair-quiz-btn','pairedQuizId','clientY','comparison-overall-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','create-project-modal','</div>\x0a</div>\x0a','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','ไม่ผ่าน','save-quiz-edits-btn','font-bold\x20text-green-700','entries','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','.rename-quiz-btn','</h3>','onchange','เลือกและบันทึก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','analytics-tab-content','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','answer-grid-container','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','BOOLEAN','ไม่มีผู้ตอบตัวเลือกนี้','target','fix\x20the\x20option','scratchpad-modal','.doc','contains','ความเท่ากันทุกประการของสามเหลี่ยม','เกิดข้อผิดพลาดในการอัปเดตสถานะ','.ql-editor','.live-answer-btn','th-TH','exists','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x22','confirm-join-game-btn','student-result-area','.option-text','text-red-700','160281DcaDAK','modal-results-display-select','/public/data/liveGames','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','answerText','isRemedial','input[name=\x22status-option\x22]:checked','mjx-container','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed','ร้อยละพื้นฐาน','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','export-word-btn','results-table','```','targetId','arrayBuffer','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','block','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','artifacts/','ข้อต่อไป','text-input-area','pinnedProjects','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blockReason','การคูณทศนิยม','Error\x20creating\x20project:','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','touchstart','bulk-quiz-settings-modal','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','text-red-700\x20bg-red-100','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','</span>','class','per_question','fixed','style','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','num-choices-container','scores-tab-btn','global-quiz-search-input','canvas','fa-crown\x20text-yellow-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','endTime','ทฤษฎีทวินาม\x20(เบื้องต้น)','ระบบสมการเชิงเส้นสองตัวแปร','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-form','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1^{\x5ccirc}\x5ctext{C}','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','quiz-settings-modal','Error\x20loading\x20user\x20preferences:','list-view-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','move-quiz-project-select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','Error\x20listening\x20for\x20custom\x20math\x20topics:','รูปแบบการให้เหตุผล','rgba(79,\x2070,\x20229,\x200.8)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','size','student-initial-view','mode-switcher-btn','.correct-response-input','confirm-quiz-status-btn','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','Error\x20opening\x20quiz\x20editor:','สมการลอการิทึม','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','สร้างคำถามแบบเติมคำในช่องว่าง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','teacherSuggestions','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','answer-counter',',\x20r=','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','keys','สร้างใหม่','substring','manage-players-btn','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','.ideal-answer-input,\x20.correct-response-input','lowerGroupResponders','match','href','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','save-project-name-btn','<textarea\x20name=\x22question','เกิดข้อผิดพลาดในการติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineTo','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','^{\x5ccirc}\x5ctext{C}$','4710752vwTier','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','progress-project-select','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','focus','</button>','toISOString','leaderboard-quiz','transition-all','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','option','commit','check-presentation-answer-btn','\x5cs*\x5c(','ระบบอสมการ','bg-green-200\x20text-green-800','editor-quiz-topic','Error\x20committing\x20score\x20updates:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','width','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','topic-input-area','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','timer-mode-select','function','[role=\x22textbox\x22]','เกิดข้อผิดพลาดในการเปลี่ยนสี','scheduled','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scrollIntoView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','katex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','binom','PERSEVERANCE','fa-pen','per-question-timer-container','ไม่พบโปรเจค','Error\x20updating\x20project\x20name:','การบวก','leaderboard-tab-content','มัธยฐาน','setItem','border-red-700','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','ระยะเวลา\x20(วินาที):','asc','.regenerate-question-editor-btn','Error\x20resetting\x20project\x20order:','stringify','pow','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','isCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','เกิดข้อผิดพลาดในการลบหัวข้อ','fa-dumbbell\x20text-gray-700','instructions','then','student-rankings-modal','เกิดข้อผิดพลาดในการลบนักเรียน','show-leaderboard-btn','เปลี่ยนชื่อโปรเจคสำเร็จ','ระยะทางและจุดกึ่งกลาง','confirm-create-project-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','_opt','export-leaderboard-excel-btn','.draggable-text','load-quiz-btn','\x20รายการ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','find','กฎของโคไซน์','text-blue-700\x20bg-blue-100','กรุณาเลือกคำตอบก่อนครับ','$1\x5ctext(','fill_in_with_choices','เกิดข้อผิดพลาดในการปักหมุด','-tab','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','getScreenCTM','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','อนุพันธ์:\x20กฎลูกโซ่','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','create-project-btn','.export-pdf-list-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','filter','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<p>','originalTopic','\x5cfrac{$1}{$2}','export-leaderboard-word-btn','80qnMZtV','ผู้ควบคุม\x20(ทดสอบ)','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','color','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','max','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','button[type=\x22submit\x22]','pinned-items','open-global-live-btn','scrollY','.lastAnswerCorrect','เงินงวด\x20(อนุกรมเงินงวด)','getBoundingClientRect','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','cancel-quiz-edits-btn-footer','8RCbKHk','cancel-quiz-status-btn','\x5ctimes','parallel-test-tab','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','54gyUfuW','add-student-btn','.edit-custom-topic-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','</li>','.quiz-result-card','learningGaps','.submittedAt','Error\x20saving\x20to\x20question\x20bank:','\x5cge','ศูนย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','suggestedAnswer','Error\x20generating\x20parallel\x20post-test:','ย้ายแบบทดสอบสำเร็จ','dataset','.regenerate-question-btn','map','พาราโบลา','/submissions','preTScore','code','สมมาตร\x20(แกน/จุด)','ปริพันธ์จำกัด','การสร้างรูปด้วยวงเวียน–สันตรง','admin-testing','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','solution','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพกล่อง\x20(box\x20plot)','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','question-analytics-container','results-table-container','แบบทดสอบที่ติดดาว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','<p\x20class=\x22font-bold\x20text-sm\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPasscodeEnabled','btn','ฟังก์ชันพหุนาม','Error\x20updating\x20project\x20color:','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ownerSVGElement','เกิดข้อผิดพลาดในการลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','แก้ไขข้อนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','name_asc','result','generated-quiz-actions','padStart','times','226990nmOlFJ','ไม่พบแบบทดสอบสำหรับรหัสนี้','ความคาดหมาย\x20(Expected\x20value)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','onmousemove','qType','ai-quiz-app-aefee.firebaseapp.com','leaderboard_','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ontouchend','worksheet-topic-input','per-question-text','\x20ใหม่...','กำลังสร้างคำถามข้อ\x20','POST','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','setFont','join','[contenteditable=\x22true\x22]','quiz-generation-area','cancel-rename-quiz-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','enable-passcode-checkbox','Error\x20loading\x20quiz\x20for\x20student:','Error\x20deleting\x20quiz:','red','Error\x20comparing\x20results:','setAttributeNS','drawImage','text-green-700\x20bg-green-100','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','timerMode','isStarred','badges','Failed\x20to\x20kick\x20player\x20','คะแนนเฉลี่ย','shuffledQuiz','undo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','draggable-text','.quiz-bank-delete-btn','เปิดใช้งาน','คำเตือน\x20(','has','text-red-800','strokeStyle','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','หน่วยเวลาและการคำนวณเวลา','attemptNumber','quiz-bank-modal','checked','project-quizzes-list','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-name-selection-view','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตร/ความจุและการแปลง','เกิดข้อผิดพลาด:\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','.question-editor-item[data-q-index=\x22','สลับไปโหมดนักเรียน','\x22\x20class=\x22delete-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ผลรวมอนุกรม\x20(Σ)','user-id-display','student-name-input','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','text-indigo-600','scores-tab-content','แผนการสอน','text-red-900','Error\x20listening\x20for\x20projects:','projectSort','createElement','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','live-submit-short-answer-btn','body','set','แก้ระบบสมการด้วยเมทริกซ์','loopUntilPass','exitFullscreen','<span\x20title=\x22','podium','text-red-600','worksheet-tab','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','อัปเดตสถานะสำเร็จ','font-bold\x20text-red-700\x20line-through','mouseup','standard','user','<li>','จากเนื้อหาต่อไปนี้:\x20\x22','left','question','.topic-actions-view','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','remove','bottom','latestSubmittedAt','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','#000000','candidates','สรุปผลสุดท้าย','delete-svg-btn','\x22,\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','dispatchEvent','results','\x5cle','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','สร้างแบบทดสอบ','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x22\x20class=\x22pin-project-btn\x20','อนุพันธ์:\x20กฎพื้นฐาน','button','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การจัดหมู่\x20(Combination)','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','manual_release','</p><div>','pointsLastQuestion','student-list','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','.edit-question-btn','export-worksheet-pdf-btn','select','getElementById','quiz-results','เซียนสมองไว','questionId','hidden','ปรับเพิ่ม/ลดเป็นร้อยละ','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','source-over','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','offsetWidth','บันทึกการตั้งค่าสำเร็จ','ยอดเยี่ยม!','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','kick-player-btn','presentation-modal','lesson-plan-modal','leaderboard-quiz-tab-btn','ย้ายแบบทดสอบไปโปรเจคอื่น','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อัตราและอัตราหน่วย','quiz-schedule-end-container','date_asc','mixed','border-green-700','<div\x20class=\x22my-6\x22>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','generate-from-parallel-test-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','sqrt','\x5csqrt{$1}','prev-question-btn','questionIndex','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','#E0E7FF','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','nickname-input','ฟังก์ชันกำลังสองและกราฟ','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','total','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','redo-btn','lesson-plan-title','practiceProblems','schedule',')\x5cb)','.verification-result-editor','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','2-digit','\x22><i\x20class=\x22fas\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','rows','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','update-old-quizzes-btn','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','toLocaleDateString','ลบแบบทดสอบสำเร็จแล้ว','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','อนุพันธ์:\x20ผลคูณ/ผลหาร','<br>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','):\x20','players','onload','.cancel-edit-topic-btn','student-project-leaderboard-content','ไม่พบเอกสารการส่งงานของ\x20','verify-answers-btn','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','Error\x20fetching\x20projects\x20for\x20move:','project-list','createElementNS','#26890c','behaviorLog','passcode','loop-until-pass-checkbox','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<button\x20id=\x22','list','removeChild','ทฤษฎีบทพีทาโกรัสและการประยุกต์','visible','\x22\x20เพื่อสร้างชุดคู่ขนาน...','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','input[type=\x22radio\x22]:checked','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','</p><p><strong>เฉลย:</strong>\x20','getTextContent','ฟังก์ชันราก\x20(root)','getContext','ไม่สามารถเริ่มเกมได้','data','student-quiz-area','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','thead\x20.sortable-header','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','post-test','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test','empty','comparison-individual-content','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#e21b3c','<option\x20value=\x22','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','กำลังจับคู่...','createdAt','text/csv;charset=utf-8;','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','game-pin-input','autoTable','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','/public/data/practiceBank','shuffleSetting','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','pre-test-checkbox','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','คณิตการเงิน/บูรณาการ','move','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','คัดลอกรหัสแล้ว!','#10B981','สอบซ่อม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','grid-view-btn','first_try_ace','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','แบบทดสอบ:\x20','.color-palette-popup','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','summary_chart','perseverance','click','reduce','/public/data/quizzes','2164948IJgyEH','lastAnswerIndex','.toggle-actions-btn','parts','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','link-tab','Error\x20updating\x20pin\x20status:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectId','upper_group_count','per-q-countdown','close-lesson-plan-modal-btn','score','standardTopic','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ไม่สามารถโหลดรายการโปรเจคได้','Failed\x20to\x20parse\x20JSON\x20from\x20AI','การแยกตัวประกอบ','interesting-stats-wrapper','quiz-status-options','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20listening\x20for\x20starred\x20quizzes:','<div\x20id=\x22q-image-container-','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','image/png','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','text-indigo-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x5cdiv','(เลือกแล้ว\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','global-live-game-count','stem','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.quiz-bank-try-btn','finishReason','input[type=\x22radio\x22][value=\x22','name_desc','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','</span></p>','NEGATIVE_INFINITY','scheduled_pending','close-comparison-modal-footer-btn','(ตัวเลือกผิดพลาด)','webkitExitFullscreen','Error\x20toggling\x20pin\x20status:','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','create-from-bank-btn','toDataURL','global-quiz-list','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','mean','\x20\x20\x20-\x20','cloneNode','values','blueprint-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','promptFeedback','toString','รูปสแควร์รูท\x20(surd)','from','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','admin-dashboard','ก่อนเรียน','</div>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ลำดับเรขาคณิต\x20(GP)','duration-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','generate-worksheet-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','_opt0\x22>ใช่</label></div>','ลิมิต','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.project-card-content','points','results-quiz-id-display','fill_in_no_choices','$1\x5cfrac','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showInStudentDashboard','มุมพิเศษ\x2030°-60°-90°','border-green-300\x20bg-green-50','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','dataIndex','startedAt','clientX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20name=\x22question_single\x22\x20value=\x22','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','undefined','Error\x20regenerating\x20question\x20in\x20editor:','/public/data/customMathTopics','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','Error\x20updating\x20quiz\x20status:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(',';\x22\x20data-id=\x22','drop','hint','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','blueprint-upload-input','smooth','admin','.summary-bar-item','flex\x20flex-col\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','no-projects-msg','student-quiz-leaderboard-content','analytics-summary-cards','none','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','close-game-final-btn','fas\x20fa-bookmark','[data-topic-container-id]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','การลบเศษส่วน','Error\x20adding\x20custom\x20topic:','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','label[for=\x22num-questions\x22]','keyup','input[name=\x22drill_answer\x22]:checked','\x20(p=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','{$1}','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','bank-quiz-search-input','document','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x5c\x5c\x5c\x5c(?=(','print','สมการตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','qIndex','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','lowerGroupNames','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','textContent','เส้นตรง:\x20รูปแบบสมการ','force-math-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กำลังอัปเดตแบบทดสอบ\x20','-\x20ข้อ\x20','webkitRequestFullscreen','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','innerText','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','text-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','worksheet-input-area','cancel-test-btn','บันทึกคำถามใหม่\x20','onmouseup','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','correctAnswerIndex','\x5cpm','teachingContent','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','%</span>','touchcancel','preScore','toFixed','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','เกิดข้อผิดพลาดในการจับคู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','ยังไม่ส่ง','text-emerald-900','presentation-slide-container','.sort-indicator','disabled','questionDisplayedAt','<p\x20class=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','repeat','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','error','student-reading-area','text-green-800','update','</span></div>','Error\x20verifying\x20answers\x20in\x20editor:','correctAnswer','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','toLowerCase','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','dragstart','สมการราก\x20(radical)','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','div[data-question-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-pre-test-id=\x22','\x20mr-2\x22></i>','quiz-leaderboard-table','category','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','true','scores','gain','รากที่สองและที่สาม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','behavior-log-container','innerHTML','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','parallel-test-input-area','#retake-for-improvement-btn','presentation-short-answer-input','.topic-category','การหารทศนิยม','totalQuestions','isArray','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','lower_group_count','questions','sum','getPage','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','bg-red-100','slice','ยังไม่เต็มนะ','questionType','cancel-delete-btn','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','temp-loader-results','preTestId','กำลังวิเคราะห์ข้อสอบ\x20\x22','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','check-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จุด\x20เส้น\x20ระนาบ','classStrengths','whole_quiz','numPages','answeredCurrentQuestion','perfect_score','file-topic-input','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20value=\x22false\x22\x20','generate-from-topic-btn','ไม่สามารถโหลดข้อมูลอันดับได้','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','options','ความแปรปรวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','parent','hover:bg-indigo-100','การบวกเศษส่วน','circle','export-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','การประยุกต์เวกเตอร์พื้นฐาน','copy-quiz-id-btn','พื้นที่วงกลม/ส่วนของวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','blueprint-input-area','</p></div>','อุณหภูมิและการแปลง','<div\x20class=\x22','cancel-export-pdf-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','.answeredCurrentQuestion','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','all','\x22\x20data-topic=\x22','blur','modal-close-btn','</strong></p>','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22status-option\x22]','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','ยืนยันและอัปเดตทั้งหมด','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','leq','กรุณาเลือกสถานะ','presentation-ai-result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','เรเดียนและการแปลงหน่วย','$$$1$','วงรี','Error\x20fetching\x20quiz\x20status:','date_desc','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','fa-fire\x20text-orange-500','touchmove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numeric','circ','wakeLock','true_false','generate-from-text-btn','confirm-bulk-quiz-settings-btn','requestFullscreen','รอเปิด','visibilityState','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','next-question-timed-btn','quiz-bank-count','confirm-global-live-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','gamePin','FIRST_TRY_ACE','ring-2','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','text-gray-700','ราชาคัมแบ็ก','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','far\x20fa-star','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-shuffle-select','q-explanation-','results_','project-title','ปิดใช้งาน','strength-weakness-analysis-container','starred-project','.delete-svg-btn','results-quiz-title','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','fa-user-astronaut\x20text-blue-700','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','submission','input[type=\x22checkbox\x22]','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','position','rename-quiz-modal','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20all\x20students:','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','dragend','Error\x20processing\x20file\x20for\x20AI:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.answer-text','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','#FEE2E2','.edit-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(หลังเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','authed_project_','top','loader-text','ระบบเลขและค่าประจำหลัก','.save-to-bank-btn','addEventListener','\x20\x0a\x20\x20\x20\x20','515646shtjtl','สร้างแบบทดสอบปรนัย','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','submittedAt','classList','catch','\x20ชุดสำเร็จ!','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','จำนวนและการดำเนินการ','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','bestScore','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','bg-green-100\x20text-green-800','student-progress-view','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','back-to-results-btn','execCommand','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','behavior-log','Failed\x20to\x20create\x20initial\x20submission\x20record:','</tbody></table></div>','quiz-leaderboard-table-body','พีชคณิตและฟังก์ชัน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','cursor','parse','dashboardConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','student-join-game-view','.project-card-container','</span></td>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','กฎบวกและกฎคูณ','deselect-all-topics-btn','stopPropagation','Error\x20updating\x20old\x20quizzes:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','ท็อปฟอร์ม','หมดเวลา!\x20กำลังส่งคำตอบ...','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','กำลังดึงข้อมูลจากลิงก์...','เส้นตรง:\x20ขนาน/ตั้งฉาก','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','modal-timer-mode-select','isScored','quiz-end-time','ตรวจพบการออกจากหน้าจอครบ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','text-yellow-800','bg-red-50','live-options-container','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','idealAnswer','ดีมาก','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','comparison-chart','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','โดเมนและเรนจ์','pen-tool-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','ref','show-in-student-dashboard-checkbox','การกระจายและการจัดหมู่','สมการเหตุผล\x20(rational)','(ฉบับง่าย)\x20','student-progress-content','bg-green-100','.quiz-bank-settings-btn','</body></html>','$1_{$2}','createObjectURL','min','<p><strong>คำตอบที่แนะนำ:</strong>\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','progress-student-select','.live-summary-tooltip.visible','G-V90KRM0L63','modal-passing-score-input','fullscreenElement','eraser-tool-btn','label','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','#FCE7F3','border-gray-200','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','AI\x20Fix\x20Error:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','border-red-300\x20bg-red-50','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','timerDuration','ชนิดของข้อมูลและการเก็บข้อมูล','projectOrder','.topic-name-input','quizId','bank-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timestamp','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','Error\x20pairing\x20quizzes:','.pdf','</form>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','open','inactive','ไม่พบตารางสำหรับ\x20Export','active','.png','\x5cfrac{','trim','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','toLocaleString','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','การแจกแจงทวินาม\x20(พื้นฐาน)','next-drill-btn','ความเป็นอิสระของเหตุการณ์','<tr\x20class=\x22','</td>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','raw','projectView','คำถามถัดไป','Error\x20fetching\x20project\x20quizzes:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x22','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</option>','onmousedown','passing-score-input','earned-badges-container','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','-tab-content','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','status','จำนวนเต็มลบ','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','#student-quiz-leaderboard-content\x20thead','สร้างโปรเจคสำเร็จ!','questions_only','</label>\x0a\x20\x20\x20\x20</div>\x0a','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','.isScored','matching','text-yellow-300','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','projectSortOrder','bulk-loop-until-pass-checkbox','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x20ข้อ\x20','players.','content','กรุณาเลือกชื่อของคุณ','live-short-answer-input','quiz-id-input','student-view','/studentProfiles','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','close','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','offset','scrollX','/users/','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','Error\x20rendering\x20student\x20progress:','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','data:application/vnd.ms-word;charset=utf-8,','quiz-editor-questions-container','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','ค่าเสื่อมราคา','localeCompare','$1\x20\x5cfrac','Invalid\x20response\x20structure\x20from\x20AI.','\x22>ไม่ใช่</p>','text/html','จำนวนคละ','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ตัวแปรและนิพจน์','หลังเรียน','คะแนนเต็ม','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_the_blank','fas\x20fa-star\x20text-yellow-500','dimmed','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','ontouchmove','file-input-area','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','math-topic-search-input','เรขาคณิตวิเคราะห์','live-game-view','tooltipTarget','analytics-tab-btn','Error\x20toggling\x20star\x20status:','bg-red-100\x20text-red-800','mousemove','cos','showImproveButton','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-search-input','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sortable-header','Error\x20deleting\x20student:','อัปเดตการตั้งค่าของแบบทดสอบ\x20','opacity','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','score-distribution-chart','add-custom-math-topic-btn','closePath','matching_item','อัตราส่วนและสัดส่วน','countdown-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','แผนการสอน:\x20','underline','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','confirm-rename-quiz-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badgesCount','<option>กำลังโหลดโปรเจค...</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนเชิงซ้อน\x20(เสริม)','QUICK_THINKER','.verification-result','thead','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','Error\x20generating\x20worksheet:','lesson-plan-content','password-error-msg','ส่วนเบี่ยงเบนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-passcode-btn','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','practice-topic-btn','รูปหลายเหลี่ยมและมุมภายใน','.lastAnswerIndex','resultsDisplay','ข้อ\x20','cancel-quiz-edits-btn','retake-quiz-loop-btn','save','.compare-results-btn','.group','student','/public/data/projects/','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','element','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','ไม่พบแบบทดสอบ','settings','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','quiz-type-select','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','forEach','q-text-','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','globalCompositeOperation','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','startTime','answer','\x20คู่\x20','verify-answers-editor-btn','prod','indexOf','leaderboard-table-body','td,\x20th','input','.quiz-bank-item','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','start-quiz-btn','อัตราการเปลี่ยนแปลงทันที','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','fa-shield-alt\x20text-gray-600','height','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','STRING','project-passcode-input','neq','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','การแปลงรูปอัตลักษณ์','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','00:00','auto','.quiz-bank-parallel-btn','touchend','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','คณิตศาสตร์','cancel-move-quiz-btn','student-quiz-leaderboard-table-body',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','students','text-gray-300\x20hover:text-white','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','visibilitychange','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','<tr>','<div\x20class=\x22space-y-4\x22>','perfect_score_status','\x20สำเร็จ','.pen-color-btn','หมดเวลาสำหรับข้อนี้!','.generate-lesson-btn','FileReader\x20error:','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','some','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20settings:','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','generate-from-blueprint-btn','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'];_0x4a23=function(){return _0x19526f;};return _0x4a23();}function renderSubmissionChart(_0x28eb72,_0x41aba6,_0x719301,_0x182803){const _0x3f2ea8=_0x248128,_0x28e874=document[_0x3f2ea8(0x3ee)](_0x3f2ea8(0x866))[_0x3f2ea8(0x459)]('2d'),_0x3ddc56=_0x719301[_0x3f2ea8(0x336)](_0x2fa2da=>_0x2fa2da[_0x3f2ea8(0x8d1)]),_0xc6d6b8=_0x182803[_0x3f2ea8(0x305)](_0x49b1af=>!_0x3ddc56[_0x3f2ea8(0x8b4)](_0x49b1af));chartInstances['submission']&&chartInstances['submission'][_0x3f2ea8(0x93c)](),chartInstances[_0x3f2ea8(0x613)]=new Chart(_0x28e874,{'type':_0x3f2ea8(0x7fa),'data':{'labels':['ส่งแล้ว',_0x3f2ea8(0x562)],'datasets':[{'data':[_0x28eb72,_0x41aba6],'backgroundColor':[_0x3f2ea8(0x481),'#F59E0B'],'borderColor':[_0x3f2ea8(0x197),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3f2ea8(0x3cd)},'tooltip':{'callbacks':{'label':function(_0x5edf1a){const _0x16ceeb=_0x3f2ea8;let _0x24c2bf=_0x5edf1a[_0x16ceeb(0x696)]||'';return _0x24c2bf&&(_0x24c2bf+=':\x20'),_0x24c2bf+=_0x5edf1a[_0x16ceeb(0x6c3)],_0x24c2bf;},'afterLabel':function(_0x4d8706){const _0x3fc5db=_0x3f2ea8;let _0x2af706;return _0x4d8706[_0x3fc5db(0x4fb)]===0x0?_0x2af706=_0x3ddc56:_0x2af706=_0xc6d6b8,_0x2af706[_0x3fc5db(0x888)]>0x0?_0x2af706[_0x3fc5db(0x375)]('\x0a'):_0x3fc5db(0x939);}}}}}});}function renderScoreDistributionChart(_0x3bd369,_0x1f76b7){const _0x4be413=_0x248128,_0x59f672=document[_0x4be413(0x3ee)](_0x4be413(0x72f))[_0x4be413(0x459)]('2d'),_0x42495a={};for(let _0x283f6a=0x0;_0x283f6a<=_0x1f76b7;_0x283f6a++){_0x42495a[_0x283f6a]=0x0;}_0x3bd369[_0x4be413(0x762)](_0x1db90e=>{const _0x5fff68=_0x4be413;_0x42495a[_0x1db90e['latestScore']]!==undefined&&_0x42495a[_0x1db90e[_0x5fff68(0x840)]]++;}),chartInstances[_0x4be413(0x4a4)]&&chartInstances[_0x4be413(0x4a4)]['destroy'](),chartInstances[_0x4be413(0x4a4)]=new Chart(_0x59f672,{'type':'bar','data':{'labels':Object[_0x4be413(0x292)](_0x42495a),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x4be413(0x4d9)](_0x42495a),'backgroundColor':_0x4be413(0x277),'borderColor':_0x4be413(0x1f9),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x463ccb){const _0xcb348c=_0x4be413,_0x51fd0a=_0x463ccb[_0xcb348c(0x696)],_0x4097a5=_0x3bd369[_0xcb348c(0x305)](_0x4a5613=>_0x4a5613[_0xcb348c(0x840)]==_0x51fd0a)['map'](_0x702800=>_0x702800['studentName']);return _0x4097a5[_0xcb348c(0x888)]>0x0?_0x4097a5[_0xcb348c(0x375)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x438eb4,_0x2fe492,_0x55797d){const _0x40305e=_0x248128,_0x50bd86=document[_0x40305e(0x3ee)](_0x40305e(0x345));if(_0x55797d[_0x40305e(0x888)]===0x0){_0x50bd86[_0x40305e(0x58a)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x5bc491=calculateItemAnalysis(_0x438eb4,_0x2fe492),_0x472e6c=calculateDistractorAnalysis(_0x438eb4,_0x2fe492);let _0x33da52='';_0x5bc491[_0x40305e(0x8df)]&&(_0x33da52=_0x40305e(0x53c)+_0x5bc491[_0x40305e(0x8df)][_0x40305e(0x8eb)][_0x40305e(0x888)]+_0x40305e(0x88d)+_0x5bc491[_0x40305e(0x8df)][_0x40305e(0x8eb)][_0x40305e(0x336)](_0x30b208=>_0x40305e(0x3c5)+_0x30b208+'</li>')[_0x40305e(0x375)]('')+_0x40305e(0x1ef)+_0x5bc491[_0x40305e(0x8df)][_0x40305e(0x53e)][_0x40305e(0x888)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bc491[_0x40305e(0x8df)][_0x40305e(0x53e)][_0x40305e(0x336)](_0x203425=>_0x40305e(0x3c5)+_0x203425+'</li>')['join']('')+_0x40305e(0x2c7));let _0x4071d6='';const _0x105df0=_0x2fe492[_0x40305e(0x336)](_0x5423c3=>_0x5423c3[_0x40305e(0x8d1)]),_0x119373=_0x3938a9=>{const _0x4c27f3=_0x40305e;if(_0x3938a9>=0.8)return _0x4c27f3(0x1c4);if(_0x3938a9>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x3938a9>=0.4)return _0x4c27f3(0x26e);if(_0x3938a9>=0.2)return _0x4c27f3(0x64f);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x5acfef=_0x30276c=>{const _0x354b68=_0x40305e;if(_0x30276c<0x0)return _0x354b68(0x43b);if(_0x30276c>=0.4)return _0x354b68(0x781);if(_0x30276c>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x30276c>=0.2)return _0x354b68(0x6de);return _0x354b68(0x6cb);},_0x4e0714=_0x3c79bb=>{const _0x3b219f=_0x40305e,_0x279ac3=_0x3c79bb[_0x3b219f(0x55a)](0x0);if(parseFloat(_0x279ac3)===0x64)return _0x3b219f(0x330)+_0x279ac3+_0x3b219f(0x557);if(_0x3c79bb>=0x32)return _0x3b219f(0x716)+_0x279ac3+'%</span>';return _0x3b219f(0x779)+_0x279ac3+_0x3b219f(0x557);};_0x438eb4[_0x40305e(0x598)][_0x40305e(0x762)]((_0x4690b3,_0x4258bb)=>{const _0x4a4283=_0x40305e,_0x10a099=_0x5bc491['perQuestionStats'][_0x4258bb],_0x2325c0=_0x472e6c[_0x4258bb],_0x53336f=_0x4690b3[_0x4a4283(0x4c2)]||_0x4690b3[_0x4a4283(0x830)]||_0x4690b3[_0x4a4283(0x2e4)];let _0xfbd751=0x0;const _0x3cefe1=[],_0x3ffe17=[];_0x2fe492[_0x4a4283(0x762)](_0x46591b=>{const _0x119aaf=_0x4a4283,_0x25ee51=_0x46591b[_0x119aaf(0x18f)][_0x46591b[_0x119aaf(0x18f)]['length']-0x1];if(_0x25ee51&&_0x25ee51[_0x119aaf(0x1e2)]){const _0x3b06fc=_0x25ee51[_0x119aaf(0x1e2)]['find'](_0x1a5b34=>_0x1a5b34[_0x119aaf(0x86b)]===_0x53336f)??_0x25ee51[_0x119aaf(0x1e2)][_0x4258bb]??null;_0x3b06fc&&(_0x3b06fc[_0x119aaf(0x2e0)]?(_0xfbd751++,_0x3cefe1[_0x119aaf(0x162)](_0x46591b[_0x119aaf(0x8d1)])):_0x3ffe17[_0x119aaf(0x162)](_0x46591b[_0x119aaf(0x8d1)]));}});const _0x3a813d=_0x2fe492[_0x4a4283(0x888)]>0x0?_0xfbd751/_0x2fe492['length']*0x64:0x0,_0x2493c7=_0x55797d['filter'](_0x2c3c9d=>!_0x105df0[_0x4a4283(0x8b4)](_0x2c3c9d)),_0x3f6603=_0x10a099?_0x4a4283(0x4b7)+_0x10a099['p'][_0x4a4283(0x55a)](0x2)+_0x4a4283(0x3e6)+_0x119373(_0x10a099['p'])+_0x4a4283(0x8a9)+_0x10a099['r']['toFixed'](0x2)+'</p><div>'+_0x5acfef(_0x10a099['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e0714(_0x3a813d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x4cfccc='';_0x2325c0&&(_0x4cfccc=_0x4a4283(0x761)+Object['keys'](_0x2325c0)[_0x4a4283(0x336)](_0x24c0a1=>{const _0x46218b=_0x4a4283,_0x387e0e=_0x2325c0[_0x24c0a1],_0x3397f2=parseInt(_0x24c0a1)===_0x4690b3[_0x46218b(0x553)],_0x31d555=!_0x3397f2&&_0x387e0e[_0x46218b(0x597)]>_0x387e0e[_0x46218b(0x4a1)];return _0x46218b(0x6c0)+(_0x3397f2?_0x46218b(0x845):'')+_0x46218b(0x7af)+(_0x3397f2?'✔\x20':'')+_0x387e0e[_0x46218b(0x171)]+_0x46218b(0x4e0)+_0x387e0e['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x387e0e[_0x46218b(0x597)]+'\x20'+(_0x31d555?'👍':'')+_0x46218b(0x4e0)+_0x387e0e[_0x46218b(0x41f)]+'</td></tr>';})[_0x4a4283(0x375)]('')+_0x4a4283(0x490));let _0x5142c7='';_0x10a099&&_0x10a099[_0x4a4283(0x841)]&&(_0x5142c7=_0x4a4283(0x913)+_0x10a099[_0x4a4283(0x841)][_0x4a4283(0x888)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x10a099[_0x4a4283(0x841)][_0x4a4283(0x336)](_0x252302=>'<li>'+(_0x252302['isCorrect']?_0x4a4283(0x287):_0x4a4283(0x379))+'\x20'+_0x252302['name']+_0x4a4283(0x328))[_0x4a4283(0x375)]('')+_0x4a4283(0x4b5)+_0x10a099[_0x4a4283(0x29a)][_0x4a4283(0x888)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x10a099[_0x4a4283(0x29a)][_0x4a4283(0x336)](_0x8435e8=>_0x4a4283(0x3c5)+(_0x8435e8[_0x4a4283(0x2e0)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x8435e8[_0x4a4283(0x268)]+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x4071d6+=_0x4a4283(0x7b0)+(_0x4258bb+0x1)+':\x20'+_0x53336f+_0x4a4283(0x67e)+_0x3f6603+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x53336f+_0x4a4283(0x188)+_0xfbd751+'\x20จาก\x20'+_0x2fe492['length']+_0x4a4283(0x73c)+_0x3a813d[_0x4a4283(0x55a)](0x0)+_0x4a4283(0x1d2)+_0x3cefe1[_0x4a4283(0x888)]+_0x4a4283(0x167)+(_0x3cefe1['length']>0x0?_0x3cefe1['join'](',\x20'):'ไม่มี')+_0x4a4283(0x7c2)+_0x3ffe17[_0x4a4283(0x888)]+_0x4a4283(0x167)+(_0x3ffe17[_0x4a4283(0x888)]>0x0?_0x3ffe17[_0x4a4283(0x375)](',\x20'):_0x4a4283(0x939))+_0x4a4283(0x1ba)+_0x2493c7['length']+_0x4a4283(0x167)+(_0x2493c7[_0x4a4283(0x888)]>0x0?_0x2493c7[_0x4a4283(0x375)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cfccc+_0x4a4283(0x313)+_0x5142c7+_0x4a4283(0x484);}),_0x50bd86['innerHTML']=_0x33da52+_0x4071d6;try{window[_0x40305e(0x46e)]&&MathJax[_0x40305e(0x8c0)]&&MathJax['typesetPromise']([_0x50bd86]);}catch(_0x3cc04f){console[_0x40305e(0x56c)]('MathJax\x20typeset\x20error\x20(analytics):',_0x3cc04f);}}function calculateDistractorAnalysis(_0x2ab0cc,_0x255874){const _0x4473d1=_0x248128,_0x3ada63={};if(_0x255874[_0x4473d1(0x888)]<0x2)return _0x3ada63;const _0x2ff5ec=[..._0x255874]['sort']((_0x573f8b,_0x31be4a)=>{const _0x395515=_0x4473d1,_0xc554b8=_0x31be4a['latestScore']-_0x573f8b[_0x395515(0x840)];if(_0xc554b8!==0x0)return _0xc554b8;const _0x190f50=_0x573f8b[_0x395515(0x18f)]?.[_0x395515(0x888)]||0x1,_0x26a146=_0x31be4a[_0x395515(0x18f)]?.['length']||0x1,_0x4ad3d9=_0x190f50-_0x26a146;if(_0x4ad3d9!==0x0)return _0x4ad3d9;const _0x4ede30=new Date(_0x573f8b[_0x395515(0x3ce)]),_0x41fee1=new Date(_0x31be4a[_0x395515(0x3ce)]),_0x9bd97b=_0x4ede30-_0x41fee1;if(_0x9bd97b!==0x0)return _0x9bd97b;return _0x573f8b[_0x395515(0x8d1)]['localeCompare'](_0x31be4a[_0x395515(0x8d1)],'th');}),_0x3804ec=_0x2ff5ec[_0x4473d1(0x888)],_0x2d4cf3=Math[_0x4473d1(0x311)](0x1,Math['floor'](_0x3804ec*0.33)),_0x24f40a=_0x2ff5ec[_0x4473d1(0x59d)](0x0,_0x2d4cf3),_0x4ed797=_0x2ff5ec[_0x4473d1(0x59d)](-_0x2d4cf3);return _0x2ab0cc[_0x4473d1(0x598)]['forEach']((_0x5aad6f,_0x3368db)=>{const _0x2cbc14=_0x4473d1;if(_0x5aad6f[_0x2cbc14(0x59f)]!==_0x2cbc14(0x88b)||!_0x5aad6f['options'])return;const _0x29b0a1=_0x5aad6f[_0x2cbc14(0x830)],_0x2ea29d={};_0x5aad6f[_0x2cbc14(0x5b6)][_0x2cbc14(0x762)]((_0x24a6be,_0x2b3d4a)=>{_0x2ea29d[_0x2b3d4a]={'text':_0x24a6be,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2ff5ec[_0x2cbc14(0x762)](_0x2b14e4=>{const _0x3537cc=_0x2cbc14,_0xca1161=_0x2b14e4[_0x3537cc(0x18f)][_0x2b14e4[_0x3537cc(0x18f)][_0x3537cc(0x888)]-0x1],_0x4722c2=_0xca1161[_0x3537cc(0x1e2)][_0x3537cc(0x2f4)](_0x598551=>_0x598551[_0x3537cc(0x86b)]===_0x29b0a1);if(_0x4722c2&&_0x4722c2[_0x3537cc(0x76a)]!==null){const _0x2ec787=_0x5aad6f[_0x3537cc(0x5b6)][_0x3537cc(0x848)](_0x445a8c=>_0x445a8c===_0x4722c2[_0x3537cc(0x231)]);_0x2ec787!==-0x1&&_0x2ea29d[_0x2ec787]&&(_0x2ea29d[_0x2ec787][_0x3537cc(0x41f)]++,_0x24f40a[_0x3537cc(0x8b4)](_0x2b14e4)&&_0x2ea29d[_0x2ec787][_0x3537cc(0x4a1)]++,_0x4ed797['includes'](_0x2b14e4)&&_0x2ea29d[_0x2ec787][_0x3537cc(0x597)]++);}}),_0x3ada63[_0x3368db]=_0x2ea29d;}),_0x3ada63;}function calculateReliabilityKR20(_0x49f5ef,_0x16d4c7,_0x1e61a8){const _0x4fd83a=_0x248128,_0x24fb82=_0x49f5ef[_0x4fd83a(0x598)][_0x4fd83a(0x888)];if(_0x24fb82<0x2||_0x16d4c7[_0x4fd83a(0x888)]<0x2)return null;const _0x94dafc=_0x16d4c7['map'](_0x230e34=>_0x230e34[_0x4fd83a(0x840)]),_0x3b7ba0=_0x94dafc[_0x4fd83a(0x494)]((_0x1d514e,_0x2cb4ba)=>_0x1d514e+_0x2cb4ba,0x0)/_0x94dafc[_0x4fd83a(0x888)],_0x19537e=_0x94dafc[_0x4fd83a(0x336)](_0x29de05=>Math[_0x4fd83a(0x2de)](_0x29de05-_0x3b7ba0,0x2))[_0x4fd83a(0x494)]((_0x5981b9,_0x3783b6)=>_0x5981b9+_0x3783b6,0x0)/_0x94dafc[_0x4fd83a(0x888)];if(_0x19537e===0x0)return null;let _0x517d4d=0x0;for(let _0x3d7130=0x0;_0x3d7130<_0x24fb82;_0x3d7130++){const _0x937cda=_0x1e61a8[_0x3d7130]?.['p'];if(_0x937cda===undefined)continue;const _0x45812d=0x1-_0x937cda;_0x517d4d+=_0x937cda*_0x45812d;}if(_0x517d4d===0x0)return null;const _0x3c8498=_0x24fb82/(_0x24fb82-0x1)*(0x1-_0x517d4d/_0x19537e);if(_0x3c8498>0x1)return null;return _0x3c8498;}async function handleAnalyzeClass(){const _0x4fa330=_0x248128;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4fa330(0x569));return;}const _0x26df4b=collection(db,_0x4fa330(0x243)+appId+_0x4fa330(0x844)+currentQuizData['id']+_0x4fa330(0x338)),_0x5bd8f5=await getDocs(_0x26df4b),_0x12dfe7=_0x5bd8f5[_0x4fa330(0x654)]['map'](_0x53fbc8=>_0x53fbc8[_0x4fa330(0x45b)]());if(_0x12dfe7[_0x4fa330(0x888)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x39ce28=document[_0x4fa330(0x3ee)]('strength-weakness-analysis-container');_0x39ce28[_0x4fa330(0x58a)]=_0x4fa330(0x606),document[_0x4fa330(0x3ee)](_0x4fa330(0x8cd))[_0x4fa330(0x566)]=!![];const _0x2fb61a=_0x12dfe7[_0x4fa330(0x336)]((_0x162816,_0x4cb4ae)=>{const _0x488188=_0x4fa330,_0x1772ab=_0x162816[_0x488188(0x18f)][_0x162816[_0x488188(0x18f)][_0x488188(0x888)]-0x1];if(!_0x1772ab)return'';return _0x488188(0x1bc)+(_0x4cb4ae+0x1)+'\x20('+_0x162816[_0x488188(0x8d1)]+_0x488188(0x50f)+_0x1772ab[_0x488188(0x4a4)]+'/'+_0x162816[_0x488188(0x593)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON['stringify'](_0x1772ab[_0x488188(0x1e2)])+_0x488188(0x227);})[_0x4fa330(0x375)](_0x4fa330(0x891)),_0x3ea4c4=_0x4fa330(0x3a6)+currentQuizData[_0x4fa330(0x7f3)]+_0x4fa330(0x49c)+JSON['stringify'](currentQuizData[_0x4fa330(0x598)])+_0x4fa330(0x39d)+_0x2fb61a+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x1cde8a={'type':_0x4fa330(0x7e1),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x4fa330(0x77e)}},'classWeaknesses':{'type':_0x4fa330(0x15b),'items':{'type':_0x4fa330(0x77e)}},'teacherSuggestions':{'type':_0x4fa330(0x15b),'items':{'type':_0x4fa330(0x77e)}}},'required':[_0x4fa330(0x5aa),_0x4fa330(0x82d),_0x4fa330(0x28d)]};try{const _0x57b03a=await callAnalysisApi(_0x3ea4c4,_0x1cde8a);displayClassAnalysis(_0x57b03a);}catch(_0x5b35e8){console[_0x4fa330(0x56c)](_0x4fa330(0x1cc),_0x5b35e8),_0x39ce28[_0x4fa330(0x58a)]=_0x4fa330(0x3cf)+_0x5b35e8[_0x4fa330(0x5d6)]+_0x4fa330(0x5c7);}finally{document[_0x4fa330(0x3ee)](_0x4fa330(0x8cd))['disabled']=![];}}function displayClassAnalysis(_0x4a49d2){const _0x58d987=_0x248128,_0x38a0cc=document[_0x58d987(0x3ee)](_0x58d987(0x60c));if(!_0x4a49d2){_0x38a0cc['innerHTML']=_0x58d987(0x860);return;}_0x38a0cc[_0x58d987(0x58a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a49d2['classStrengths'][_0x58d987(0x336)](_0x2bf859=>_0x58d987(0x3c5)+_0x2bf859+_0x58d987(0x328))[_0x58d987(0x375)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a49d2['classWeaknesses'][_0x58d987(0x336)](_0x22ebc4=>_0x58d987(0x3c5)+_0x22ebc4+_0x58d987(0x328))['join']('')+_0x58d987(0x726)+_0x4a49d2[_0x58d987(0x28d)][_0x58d987(0x336)](_0x11edc=>_0x58d987(0x3c5)+_0x11edc+_0x58d987(0x328))[_0x58d987(0x375)]('')+_0x58d987(0x74a);}function formatAndPrintWorksheet(_0x12dea3,_0x2c49f1){const _0x5cdfea=_0x248128,_0x1ac42c=_0x5cdfea(0x937)+_0x12dea3['topic']+_0x5cdfea(0x622)+_0x12dea3[_0x5cdfea(0x7f3)]+_0x5cdfea(0x1b8)+_0x12dea3['questions'][_0x5cdfea(0x336)]((_0x45c9d3,_0x67ebea)=>_0x5cdfea(0x460)+(_0x67ebea+0x1)+'.\x20'+_0x45c9d3['questionText']+_0x5cdfea(0x8c2)+(_0x45c9d3[_0x5cdfea(0x849)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x45c9d3[_0x5cdfea(0x849)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5cdfea(0x375)]('')+_0x5cdfea(0x625);_0x2c49f1[_0x5cdfea(0x533)][_0x5cdfea(0x679)](_0x1ac42c),_0x2c49f1[_0x5cdfea(0x533)]['close'](),_0x2c49f1[_0x5cdfea(0x43e)]=function(){setTimeout(()=>{const _0x3c7a9f=_0xadd6;_0x2c49f1[_0x3c7a9f(0x537)]();},0x3e8);};}async function generateWorksheet(){const _0x327cad=_0x248128,_0x581bf2=document[_0x327cad(0x3ee)](_0x327cad(0x36d))[_0x327cad(0x635)]['trim']();if(!_0x581bf2){showMessage(_0x327cad(0x893));return;}const _0x1f4eb7=document[_0x327cad(0x3ee)](_0x327cad(0x542))[_0x327cad(0x39a)],_0x11e197=_0x1f4eb7?'':_0x327cad(0x78b),_0x1cda63=window[_0x327cad(0x6b1)]('','_blank');_0x1cda63['document'][_0x327cad(0x679)](_0x327cad(0x170));const _0x420007=parseInt(document[_0x327cad(0x3ee)](_0x327cad(0x7c0))['value']),_0x4968db=document[_0x327cad(0x3ee)](_0x327cad(0x85b))['checked'],_0x25e538=_0x4968db?_0x327cad(0x6a0):'',_0x525859='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x11e197+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x420007+_0x327cad(0x7c5)+_0x581bf2+_0x327cad(0x8ab)+_0x25e538+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x327cad(0x632),_0x2a6509={'type':'OBJECT','properties':{'topic':{'type':_0x327cad(0x77e)},'questions':{'type':_0x327cad(0x15b),'items':{'type':_0x327cad(0x7e1),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x327cad(0x77e)}},'required':[_0x327cad(0x830)]}}},'required':[_0x327cad(0x7f3),_0x327cad(0x598)]};document[_0x327cad(0x3ee)]('loader-text')[_0x327cad(0x540)]='',document[_0x327cad(0x3ee)](_0x327cad(0x596))[_0x327cad(0x639)][_0x327cad(0x3cc)](_0x327cad(0x3f2)),document['getElementById']('quiz-generation-area')['classList']['remove'](_0x327cad(0x3f2)),generateWorksheetBtn[_0x327cad(0x566)]=!![];try{const _0xdcbab5=await callAnalysisApi(_0x525859,_0x2a6509);formatAndPrintWorksheet(_0xdcbab5,_0x1cda63);}catch(_0x923e46){console[_0x327cad(0x56c)](_0x327cad(0x746),_0x923e46);if(_0x1cda63)_0x1cda63[_0x327cad(0x6f2)]();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document['getElementById'](_0x327cad(0x596))['classList'][_0x327cad(0x87d)]('hidden'),document[_0x327cad(0x3ee)](_0x327cad(0x377))[_0x327cad(0x639)][_0x327cad(0x87d)]('hidden'),generateWorksheetBtn[_0x327cad(0x566)]=![];}}async function callAnalysisApi(_0x2c24ae,_0x3ed51a){const _0x31d7e4=_0x248128,_0x1b848d={'contents':[{'role':_0x31d7e4(0x3c4),'parts':[{'text':_0x2c24ae}]}],'generationConfig':{'responseMimeType':_0x31d7e4(0x8bb),'responseSchema':_0x3ed51a}},_0x3ed359='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x3e1802=_0x31d7e4(0x822)+_0x3ed359,_0x518384=await fetch(_0x3e1802,{'method':'POST','headers':{'Content-Type':_0x31d7e4(0x8bb)},'body':JSON['stringify'](_0x1b848d)});if(!_0x518384['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x518384[_0x31d7e4(0x6d3)]);const _0x109b50=await _0x518384['json']();if(_0x109b50[_0x31d7e4(0x3d1)]?.[0x0]?.['content']?.[_0x31d7e4(0x499)]?.[0x0])return JSON['parse'](_0x109b50[_0x31d7e4(0x3d1)][0x0][_0x31d7e4(0x6e9)][_0x31d7e4(0x499)][0x0]['text']);else{let _0x201032=_0x31d7e4(0x704);if(_0x109b50['promptFeedback']?.[_0x31d7e4(0x249)])_0x201032=_0x31d7e4(0x297)+_0x109b50[_0x31d7e4(0x4dc)][_0x31d7e4(0x249)]+'.';else _0x109b50[_0x31d7e4(0x3d1)]?.[0x0]?.[_0x31d7e4(0x4c5)]&&_0x109b50[_0x31d7e4(0x3d1)][0x0][_0x31d7e4(0x4c5)]!==_0x31d7e4(0x129)&&(_0x201032=_0x31d7e4(0x2bb)+_0x109b50[_0x31d7e4(0x3d1)][0x0][_0x31d7e4(0x4c5)]+'.');console[_0x31d7e4(0x56c)](_0x201032,JSON[_0x31d7e4(0x2dd)](_0x109b50));throw new Error(_0x201032);}}initialize();
