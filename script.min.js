const _0x1894c9=_0x1997;(function(_0x2ccdc3,_0x5895e8){const _0x4df1a4=_0x1997,_0x4e9047=_0x2ccdc3();while(!![]){try{const _0x4187f7=-parseInt(_0x4df1a4(0x337))/0x1+-parseInt(_0x4df1a4(0x440))/0x2+parseInt(_0x4df1a4(0x3a4))/0x3+parseInt(_0x4df1a4(0x128))/0x4+-parseInt(_0x4df1a4(0x6b7))/0x5*(parseInt(_0x4df1a4(0x344))/0x6)+parseInt(_0x4df1a4(0x5f5))/0x7+parseInt(_0x4df1a4(0x18d))/0x8;if(_0x4187f7===_0x5895e8)break;else _0x4e9047['push'](_0x4e9047['shift']());}catch(_0x14de7d){_0x4e9047['push'](_0x4e9047['shift']());}}}(_0x11ca,0xbaf25));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':_0x1894c9(0x638),'name':_0x1894c9(0x620)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x210)},{'category':_0x1894c9(0x638),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x56c)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0xf8)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0xeb)},{'category':_0x1894c9(0x638),'name':'การคูณ'},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x5c8)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x2fa)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x356)},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x650)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x432)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x1a8)},{'category':'จำนวนและการดำเนินการ','name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x1894c9(0x638),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x3fb)},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x551)},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x6b4)},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x49d)},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x42d)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x16b)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x1e7)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x466)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x44e)},{'category':_0x1894c9(0x638),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x5c2)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x3e1)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x382)},{'category':_0x1894c9(0x638),'name':'การหารทศนิยม'},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x5d3)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x134)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x486)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x664)},{'category':_0x1894c9(0x638),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x67f)},{'category':_0x1894c9(0x638),'name':_0x1894c9(0x53e)},{'category':'จำนวนและการดำเนินการ','name':_0x1894c9(0x354)},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x693)},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x104)},{'category':_0x1894c9(0x414),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x1894c9(0x414),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':_0x1894c9(0x29b)},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x26d)},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x1d9)},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x5e9)},{'category':_0x1894c9(0x414),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x22b)},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x681)},{'category':_0x1894c9(0x414),'name':_0x1894c9(0x41a)},{'category':_0x1894c9(0x5cf),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':'เรขาคณิต','name':_0x1894c9(0x4f7)},{'category':_0x1894c9(0x5cf),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':'เรขาคณิต','name':_0x1894c9(0x5e9)},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x34e)},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x550)},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x1f0)},{'category':_0x1894c9(0x5cf),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x262)},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x230)},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x364)},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x316)},{'category':'เรขาคณิต','name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x1894c9(0x5cf),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x1894c9(0x5cf),'name':_0x1894c9(0x5b6)},{'category':_0x1894c9(0x677),'name':'ตัวแปรและนิพจน์'},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x493)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x591)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x396)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x5bc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x15c)},{'category':_0x1894c9(0x677),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x133)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x3bd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x488)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x12d)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x120)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x37a)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x2e9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x3a2)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x271)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x401)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0xe0)},{'category':_0x1894c9(0x677),'name':'ฟังก์ชันผกผัน'},{'category':_0x1894c9(0x677),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x1894c9(0x677),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x30a)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x51b)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x593)},{'category':_0x1894c9(0x677),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x221)},{'category':_0x1894c9(0x677),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x16e)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x602)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x12b)},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x494)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1894c9(0x3eb)},{'category':_0x1894c9(0x677),'name':_0x1894c9(0x4d7)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x1894c9(0x2fb),'name':_0x1894c9(0x229)},{'category':_0x1894c9(0x2fb),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x1894c9(0x163)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1894c9(0x40f)},{'category':_0x1894c9(0x2fb),'name':_0x1894c9(0x3b0)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1894c9(0x464)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1894c9(0x169)},{'category':_0x1894c9(0x2fb),'name':_0x1894c9(0x152)},{'category':'ตรีโกณมิติ','name':_0x1894c9(0x116)},{'category':_0x1894c9(0x5a7),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x1894c9(0x5a7),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x1894c9(0x5a7),'name':_0x1894c9(0x3c7)},{'category':_0x1894c9(0x5a7),'name':_0x1894c9(0x3ba)},{'category':_0x1894c9(0x5a7),'name':_0x1894c9(0x4c2)},{'category':_0x1894c9(0x5a7),'name':_0x1894c9(0x659)},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x1894c9(0x5a7),'name':_0x1894c9(0x505)},{'category':_0x1894c9(0x5a7),'name':_0x1894c9(0x582)},{'category':_0x1894c9(0x5a7),'name':_0x1894c9(0x69a)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x483)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0xd8)},{'category':_0x1894c9(0x415),'name':'ตารางความถี่'},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x238)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x350)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x585)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x2ae)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x407)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x60a)},{'category':'สถิติและความน่าจะเป็น','name':_0x1894c9(0x22c)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x21f)},{'category':'สถิติและความน่าจะเป็น','name':'ความแปรปรวน'},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x55f)},{'category':_0x1894c9(0x415),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x4f8)},{'category':'สถิติและความน่าจะเป็น','name':_0x1894c9(0x20e)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x555)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x257)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x45f)},{'category':'สถิติและความน่าจะเป็น','name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x252)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x1a5)},{'category':_0x1894c9(0x415),'name':_0x1894c9(0x25d)},{'category':'สถิติและความน่าจะเป็น','name':_0x1894c9(0x51e)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x23f)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x375)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1894c9(0x1ef)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x631)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x504)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x290)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1894c9(0x4ea)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x148)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x4dc)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x538)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x288)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1894c9(0x202)},{'category':_0x1894c9(0x4fa),'name':_0x1894c9(0x15d)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x1894c9(0x2ac),'name':_0x1894c9(0x17c)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1894c9(0x383)},{'category':_0x1894c9(0x2ac),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x1894c9(0x2ac),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x1894c9(0x2ac),'name':'ดีเทอร์มิแนนต์'},{'category':_0x1894c9(0x2ac),'name':_0x1894c9(0x305)},{'category':_0x1894c9(0x3e7),'name':_0x1894c9(0x20d)},{'category':_0x1894c9(0x3e7),'name':_0x1894c9(0x457)},{'category':_0x1894c9(0x3e7),'name':_0x1894c9(0x4fd)},{'category':_0x1894c9(0x3e7),'name':_0x1894c9(0x2a8)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1894c9(0x35a)},{'category':_0x1894c9(0x5b2),'name':_0x1894c9(0x574)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x1894c9(0x4b1)},{'category':_0x1894c9(0x5b2),'name':_0x1894c9(0x507)}];function renderTopicCheckboxes(){const _0x2fcad2=_0x1894c9,_0x517970=document[_0x2fcad2(0x34c)](_0x2fcad2(0x1f9));if(!_0x517970)return;const _0x1084c9=allMathTopics,_0x29a048=customMathTopics['map'](_0x1cff6a=>({'id':_0x1cff6a['id'],'category':_0x2fcad2(0x25b),'name':_0x1cff6a['name']})),_0x47440f=[..._0x1084c9,..._0x29a048],_0x341c06=_0x47440f[_0x2fcad2(0x38a)]((_0x62626e,_0xb8e5f7)=>{const _0x2a641f=_0x2fcad2;return!_0x62626e[_0xb8e5f7['category']]&&(_0x62626e[_0xb8e5f7[_0x2a641f(0x386)]]=[]),_0x62626e[_0xb8e5f7[_0x2a641f(0x386)]]['push'](_0xb8e5f7),_0x62626e;},{});let _0x1472b2='';const _0x2adcd0=[_0x2fcad2(0x25b),...Object[_0x2fcad2(0x12a)](_0x341c06)['filter'](_0x46babb=>_0x46babb!==_0x2fcad2(0x25b))];for(const _0xa6075b of _0x2adcd0){if(_0x341c06[_0xa6075b]){const _0x596dd0=_0xa6075b==='หัวข้อที่สร้างเอง',_0x5f2bc5=_0x596dd0?_0x2fcad2(0x427):_0x2fcad2(0x1db),_0x751827=_0x596dd0?'text-blue-700':_0x2fcad2(0x242);_0x1472b2+=_0x2fcad2(0x502),_0x1472b2+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x751827+_0x2fcad2(0x5d1)+_0x5f2bc5+_0x2fcad2(0x4ae)+_0xa6075b+_0x2fcad2(0x4ac),_0x341c06[_0xa6075b][_0x2fcad2(0x36d)](_0x511e0d=>{const _0x1e496f=_0x2fcad2,_0x33b85b=!!_0x511e0d['id'],_0xb46f3f=_0x33b85b?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x511e0d['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x511e0d['id']+_0x1e496f(0x109)+_0x511e0d['id']+_0x1e496f(0x2de)+_0x511e0d['id']+_0x1e496f(0x5d4):'';_0x1472b2+=_0x1e496f(0x1d7)+(_0x511e0d['id']||'')+_0x1e496f(0xe8)+_0x511e0d[_0x1e496f(0x642)]+_0x1e496f(0x4a8)+_0x511e0d[_0x1e496f(0x642)]+_0x1e496f(0x348)+(_0x33b85b?_0x1e496f(0x41b)+_0x511e0d[_0x1e496f(0x642)]+'\x22>':'')+_0x1e496f(0x2bd)+_0xb46f3f+_0x1e496f(0xf6);}),_0x1472b2+=_0x2fcad2(0x338);}}_0x517970[_0x2fcad2(0x282)]=_0x1472b2||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x517970['removeEventListener'](_0x2fcad2(0x2a0),updateSelectedTopicsCount),_0x517970[_0x2fcad2(0xd5)](_0x2fcad2(0x2a0),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5e3237,_0x27509f){const _0x171b02=_0x1894c9;if(!_0x5e3237||!_0x27509f['trim']()){showMessage(_0x171b02(0x477));return;}try{const _0x52b6f5=doc(db,_0x171b02(0x59b)+appId+_0x171b02(0x46e),_0x5e3237);await updateDoc(_0x52b6f5,{'name':_0x27509f[_0x171b02(0x680)]()}),showMessage(_0x171b02(0x64a));}catch(_0x53ba19){console['error']('Error\x20updating\x20custom\x20topic:',_0x53ba19),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x148df3,_0x2fe11a){const _0x4ab2d7=_0x1894c9;if(!_0x148df3)return;const _0x195ba3=_0x148df3[_0x4ab2d7(0x3f0)](_0x4ab2d7(0x2cb)),_0x7dbcb0=_0x148df3[_0x4ab2d7(0x3f0)]('.topic-name-input'),_0x4e88b0=_0x148df3[_0x4ab2d7(0x3f0)]('.topic-actions-view'),_0x4db812=_0x148df3['querySelector'](_0x4ab2d7(0x418));_0x195ba3['classList'][_0x4ab2d7(0x56b)](_0x4ab2d7(0x3ac),_0x2fe11a),_0x7dbcb0[_0x4ab2d7(0x27d)][_0x4ab2d7(0x56b)]('hidden',!_0x2fe11a),_0x4e88b0[_0x4ab2d7(0x27d)][_0x4ab2d7(0x56b)](_0x4ab2d7(0x3ac),_0x2fe11a),_0x4db812[_0x4ab2d7(0x27d)]['toggle']('hidden',!_0x2fe11a),_0x2fe11a&&(_0x7dbcb0[_0x4ab2d7(0x196)](),_0x7dbcb0[_0x4ab2d7(0x69d)]());}function updateSelectedTopicsCount(){const _0x26d80d=_0x1894c9,_0x585425=document[_0x26d80d(0x34c)]('math-topics-checkbox-container'),_0x325d34=_0x585425[_0x26d80d(0x16f)](_0x26d80d(0x671))[_0x26d80d(0x284)],_0x5db656=document['getElementById'](_0x26d80d(0x632));_0x325d34>0x0?_0x5db656[_0x26d80d(0x1a7)]=_0x26d80d(0x4ad)+_0x325d34+_0x26d80d(0x3b7):_0x5db656[_0x26d80d(0x1a7)]='';}let db,auth,userId,customMathTopics=[],currentMode=_0x1894c9(0x2b6),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1894c9(0x54d),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x1894c9(0x46f),'name':_0x1894c9(0x5ea),'description':_0x1894c9(0x4d1),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x1894c9(0x40d),'name':_0x1894c9(0x399),'description':_0x1894c9(0x310),'icon':_0x1894c9(0x182)},'ON_FIRE':{'id':_0x1894c9(0x65a),'name':_0x1894c9(0x317),'description':_0x1894c9(0x5b4),'icon':_0x1894c9(0x4c0)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x1894c9(0x600),'icon':_0x1894c9(0x1d2)},'COMEBACK_KING':{'id':_0x1894c9(0xfd),'name':_0x1894c9(0x47a),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x1894c9(0x472)},'SPECIALIST':{'id':_0x1894c9(0x61d),'name':_0x1894c9(0x108),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x1894c9(0xd6)},'PERSEVERANCE':{'id':_0x1894c9(0x61c),'name':_0x1894c9(0x2f8),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x1894c9(0x294)}},firebaseConfig={'apiKey':_0x1894c9(0x367),'authDomain':_0x1894c9(0x665),'projectId':_0x1894c9(0x511),'storageBucket':_0x1894c9(0x31d),'messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x1894c9(0x312)},appId=typeof __app_id!==_0x1894c9(0x2aa)?__app_id:_0x1894c9(0x179),adminView=document[_0x1894c9(0x34c)](_0x1894c9(0x2cc)),studentView=document[_0x1894c9(0x34c)](_0x1894c9(0x2f4)),projectDashboardView=document[_0x1894c9(0x34c)](_0x1894c9(0x246)),projectDetailView=document[_0x1894c9(0x34c)](_0x1894c9(0x69e)),quizResultsView=document[_0x1894c9(0x34c)](_0x1894c9(0x64f)),projectList=document[_0x1894c9(0x34c)](_0x1894c9(0xd3)),noProjectsMsg=document[_0x1894c9(0x34c)](_0x1894c9(0x237)),projectTitle=document[_0x1894c9(0x34c)](_0x1894c9(0x44b)),projectIdDisplay=document[_0x1894c9(0x34c)](_0x1894c9(0x136)),studentList=document[_0x1894c9(0x34c)]('student-list'),messageModal=document[_0x1894c9(0x34c)](_0x1894c9(0x5bd)),modalMessage=document[_0x1894c9(0x34c)](_0x1894c9(0x351)),createProjectModal=document[_0x1894c9(0x34c)](_0x1894c9(0x67c)),adminPasswordModal=document['getElementById'](_0x1894c9(0x323)),confirmationModal=document[_0x1894c9(0x34c)](_0x1894c9(0x391)),userIdDisplay=document[_0x1894c9(0x34c)](_0x1894c9(0x29f)),topicTab=document[_0x1894c9(0x34c)](_0x1894c9(0x3d0)),textTab=document[_0x1894c9(0x34c)](_0x1894c9(0x272)),topicInputArea=document[_0x1894c9(0x34c)](_0x1894c9(0x44c)),textInputArea=document[_0x1894c9(0x34c)](_0x1894c9(0x666)),manageTab=document['getElementById']('manage-tab'),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document[_0x1894c9(0x34c)]('leaderboard-tab'),manageTabContent=document[_0x1894c9(0x34c)](_0x1894c9(0x48f)),resultsTabContent=document[_0x1894c9(0x34c)](_0x1894c9(0xda)),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0x1894c9(0x479)),fileTab=document[_0x1894c9(0x34c)](_0x1894c9(0x371)),fileInputArea=document[_0x1894c9(0x34c)](_0x1894c9(0x32e)),fileUploadInput=document[_0x1894c9(0x34c)](_0x1894c9(0x355)),worksheetTab=document[_0x1894c9(0x34c)](_0x1894c9(0x259)),worksheetInputArea=document[_0x1894c9(0x34c)](_0x1894c9(0x53d)),generateWorksheetBtn=document[_0x1894c9(0x34c)]('generate-worksheet-btn'),studentInitialView=document[_0x1894c9(0x34c)](_0x1894c9(0x560)),studentNameSelectionView=document[_0x1894c9(0x34c)]('student-name-selection-view'),studentQuizArea=document[_0x1894c9(0x34c)](_0x1894c9(0x487)),studentResultArea=document[_0x1894c9(0x34c)](_0x1894c9(0x463)),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document[_0x1894c9(0x34c)](_0x1894c9(0x449)),startQuizBtn=document[_0x1894c9(0x34c)](_0x1894c9(0x38f)),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document[_0x1894c9(0x34c)](_0x1894c9(0x4b4)),renameQuizModal=document[_0x1894c9(0x34c)](_0x1894c9(0x1de)),moveQuizModal=document[_0x1894c9(0x34c)](_0x1894c9(0x5d5)),quizSettingsModal=document[_0x1894c9(0x34c)](_0x1894c9(0x2f2)),quizStatusModal=document[_0x1894c9(0x34c)](_0x1894c9(0x21b)),liveGameView=document[_0x1894c9(0x34c)](_0x1894c9(0x5e8));function handleAutoFixLatex(){const _0x199c95=_0x1894c9,_0x1d02d2=document['getElementById'](_0x199c95(0x615))||document,_0x21bd1f=_0x1d02d2[_0x199c95(0x16f)]([_0x199c95(0x559),_0x199c95(0x1bc),_0x199c95(0x58e),_0x199c95(0x3c2),_0x199c95(0x302),_0x199c95(0x453),_0x199c95(0x633),_0x199c95(0x31f),_0x199c95(0x311)][_0x199c95(0x5cb)](','));let _0x4e1c17=0x0;const _0x5d6ced=_0x216579=>'value'in _0x216579?String(_0x216579['value']):_0x216579[_0x199c95(0x1a0)]!==undefined?_0x216579[_0x199c95(0x1a0)]:_0x216579['textContent']||'',_0x26bb40=(_0x1dbc30,_0x377a03)=>{const _0x484a15=_0x199c95;if(_0x484a15(0x387)in _0x1dbc30){_0x1dbc30[_0x484a15(0x387)]=_0x377a03;return;}if(_0x1dbc30['querySelector']&&_0x1dbc30['querySelector']('mjx-container'))return;if(_0x1dbc30[_0x484a15(0x1a0)]!==undefined)_0x1dbc30[_0x484a15(0x1a0)]=_0x377a03;else _0x1dbc30[_0x484a15(0x1a7)]=_0x377a03;},_0x5a894e=_0x2fa3d8=>_0x2fa3d8[_0x199c95(0x3d1)](/\u00A0/g,'\x20')[_0x199c95(0x3d1)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3991d3=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x3b4df5=_0x3faa7d=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x3faa7d),_0x208d50=_0x5e7361=>{const _0x28f989=_0x199c95,_0x5ddb10=(_0x5e7361['match'](/\{/g)||[])[_0x28f989(0x284)],_0x1367a7=(_0x5e7361[_0x28f989(0x6b2)](/\}/g)||[])['length'];if(_0x5ddb10>_0x1367a7)_0x5e7361=_0x5e7361+'}'[_0x28f989(0x200)](_0x5ddb10-_0x1367a7);return _0x5e7361;},_0x5bbb95=_0x4706a6=>{const _0x513d01=_0x199c95;let _0x3bf5bb=_0x4706a6[_0x513d01(0x680)]();const _0x43168a=['frac',_0x513d01(0x49f),'tfrac',_0x513d01(0x314),'text',_0x513d01(0x144),'cdot',_0x513d01(0x2c1),_0x513d01(0x6b9),_0x513d01(0x28c),'le','ge',_0x513d01(0x37b),'pm','approx','sin','cos',_0x513d01(0x372),'log','ln',_0x513d01(0x1b2),_0x513d01(0x287),_0x513d01(0x23e),_0x513d01(0x1c9),'right',_0x513d01(0x5a9),_0x513d01(0x628),_0x513d01(0x52a),_0x513d01(0x66d)];_0x3bf5bb=_0x3bf5bb[_0x513d01(0x3d1)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0x43168a['join']('|')+_0x513d01(0x2ea),'g'),'\x5c'),_0x43168a['forEach'](_0x4b4954=>{const _0x323d53=_0x513d01;_0x3bf5bb=_0x3bf5bb['replace'](new RegExp(_0x323d53(0x435)+_0x4b4954+'\x5cb','g'),(_0x30d517,_0x178246)=>_0x178246+'\x5c'+_0x4b4954);});const _0xacbbdc=[[/×/g,_0x513d01(0x1ba)],[/·/g,'\x5ccdot'],[/÷/g,_0x513d01(0x3b9)],[/≤/g,_0x513d01(0x2b7)],[/≥/g,'\x5cge'],[/≠/g,_0x513d01(0x31a)],[/±/g,_0x513d01(0x205)],[/∑/g,'\x5csum'],[/−/g,'-']];_0xacbbdc[_0x513d01(0x36d)](([_0x2fef1d,_0x56aa0e])=>{const _0x2a1793=_0x513d01;_0x3bf5bb=_0x3bf5bb[_0x2a1793(0x3d1)](_0x2fef1d,_0x56aa0e);}),_0x3bf5bb=_0x3bf5bb[_0x513d01(0x3d1)](/√\s*\(([^)]*)\)/g,_0x513d01(0xe9)),_0x3bf5bb=_0x3bf5bb[_0x513d01(0x3d1)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x3bf5bb=_0x3bf5bb[_0x513d01(0x3d1)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x513d01(0x3d1)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x513d01(0x506))['replace'](/(^|[^\\])ext\{/g,_0x513d01(0x451))[_0x513d01(0x3d1)](/(^|[^\\])ext\(/g,_0x513d01(0x65e))[_0x513d01(0x3d1)](/\\text\(([^)]*)\)/g,_0x513d01(0x5b8))[_0x513d01(0x3d1)](/\s\\frac/g,_0x513d01(0x645)),_0x3bf5bb=_0x3bf5bb[_0x513d01(0x3d1)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x1e1d87,_0x3634d1,_0x4c8f07,_0x4ab002)=>_0x3634d1+'\x5cfrac{'+_0x4c8f07+'}{'+_0x4ab002+'}'),_0x3bf5bb=_0x3bf5bb['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x513d01(0x4cc))[_0x513d01(0x3d1)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x513d01(0x4cc))[_0x513d01(0x3d1)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x513d01(0x4cc)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x513d01(0x206)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x513d01(0x206)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x513d01(0x206)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x513d01(0x206)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x513d01(0x206)],[/(\d+)\s*°\s*C/g,_0x513d01(0x206)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x513d01(0x5f4)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x513d01(0x206)]][_0x513d01(0x36d)](([_0x443eea,_0xc9c4b5])=>{const _0x588e80=_0x513d01;_0x3bf5bb=_0x3bf5bb[_0x588e80(0x3d1)](_0x443eea,_0xc9c4b5);}),_0x3bf5bb=_0x3bf5bb[_0x513d01(0x3d1)](/(\d+)\s*%/g,_0x513d01(0x3a9)),_0x3bf5bb=_0x3bf5bb[_0x513d01(0x3d1)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x513d01(0x222))[_0x513d01(0x3d1)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x513d01(0x3d1)](/\{\{([^\{\}]+)\}\}/g,_0x513d01(0x5f6)),[_0x513d01(0x23a),_0x513d01(0x670),_0x513d01(0x372),_0x513d01(0x10f),'ln'][_0x513d01(0x36d)](_0x4e9229=>{const _0x852883=_0x513d01;_0x3bf5bb=_0x3bf5bb[_0x852883(0x3d1)](new RegExp(_0x852883(0x435)+_0x4e9229+_0x852883(0x6a4),'g'),(_0xfca3a4,_0x5f41c4)=>_0x5f41c4+'\x5c'+_0x4e9229+'(');});const _0x1b53ea=(_0x3bf5bb['match'](/\\left\b/g)||[])[_0x513d01(0x284)],_0x2e15e2=(_0x3bf5bb[_0x513d01(0x6b2)](/\\right\b/g)||[])[_0x513d01(0x284)];if(_0x1b53ea!==_0x2e15e2)_0x3bf5bb=_0x3bf5bb['replace'](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x3bf5bb=_0x208d50(_0x3bf5bb),_0x3bf5bb;},_0x23167a=_0x5b5e12=>{const _0x46c2fe=_0x199c95;if(/\$|\\\(|\\\[/[_0x46c2fe(0xf5)](_0x5b5e12))return _0x5b5e12;if(!_0x3991d3[_0x46c2fe(0xf5)](_0x5b5e12))return _0x5b5e12;const _0x37e155=_0x5b5e12[_0x46c2fe(0x6b2)](/^\s*/)[0x0],_0x3009bb=_0x5b5e12[_0x46c2fe(0x6b2)](/\s*$/)[0x0],_0x418be4=_0x5b5e12[_0x46c2fe(0x680)]();return _0x37e155+'$'+_0x5bbb95(_0x418be4)+'$'+_0x3009bb;},_0x16f033=_0x42276b=>_0x42276b[_0x199c95(0x1fc)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x21bd1f[_0x199c95(0x36d)](_0x7fae84=>{const _0x519e60=_0x199c95;if(_0x7fae84[_0x519e60(0x3f0)]&&_0x7fae84['querySelector']('mjx-container'))return;const _0x2af85f=_0x5d6ced(_0x7fae84);let _0x41ff09=_0x5a894e(_0x2af85f);_0x41ff09=_0x41ff09['replace'](/\$\$([\s\S]*?)\$\$/g,(_0x27ddd6,_0x5c1991)=>'$$'+_0x5bbb95(_0x5c1991)+'$$')[_0x519e60(0x3d1)](/\$([^$]*?)\$/g,(_0x34c5f0,_0x33485b)=>'$'+_0x5bbb95(_0x33485b)+'$')[_0x519e60(0x3d1)](/\\\(([\s\S]*?)\\\)/g,(_0x306f0a,_0x3033d7)=>'\x5c('+_0x5bbb95(_0x3033d7)+'\x5c)')[_0x519e60(0x3d1)](/\\\[([\s\S]*?)\\\]/g,(_0x48c120,_0x516882)=>'\x5c['+_0x5bbb95(_0x516882)+'\x5c]');let _0x4e138b=_0x41ff09,_0x5de8d0=0x0;const _0xf942fc=_0x1af5de=>_0x1af5de['replace'](/S([^S]{0,2000}?)S/g,(_0xba9d7a,_0x475cf9)=>_0x3991d3[_0x519e60(0xf5)](_0x475cf9)?'$'+_0x5bbb95(_0x475cf9)+'$':_0xba9d7a);while(_0x5de8d0++<0x14){const _0x3a9b19=_0xf942fc(_0x4e138b);if(_0x3a9b19===_0x4e138b)break;_0x4e138b=_0x3a9b19;}_0x41ff09=_0x4e138b,_0x41ff09=_0x41ff09[_0x519e60(0x1fc)]('\x0a')['map'](_0x2c1b8b=>{const _0x955333=_0x519e60;if(!(/[,\u3001，;；]/['test'](_0x2c1b8b)||/\s(?:และ|หรือ)\s/[_0x955333(0xf5)](_0x2c1b8b))||!_0x3991d3[_0x955333(0xf5)](_0x2c1b8b))return _0x2c1b8b;return _0x16f033(_0x2c1b8b)[_0x955333(0x4ed)](_0x391394=>{const _0x2461df=_0x955333;if(/^\s(?:และ|หรือ)\s$/[_0x2461df(0xf5)](_0x391394)||/^[,\u3001，;；]$/[_0x2461df(0xf5)](_0x391394))return _0x391394;return _0x23167a(_0x391394);})[_0x955333(0x5cb)]('');})[_0x519e60(0x5cb)]('\x0a'),_0x41ff09=_0x41ff09[_0x519e60(0x1fc)]('\x0a')[_0x519e60(0x4ed)](_0x46c180=>{const _0x295cb1=_0x519e60,_0x2f88a2=_0x46c180[_0x295cb1(0x680)]();if(!_0x2f88a2)return _0x46c180;const _0x252697=/\$|\\\(|\\\[/[_0x295cb1(0xf5)](_0x2f88a2),_0x45f936=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x295cb1(0xf5)](_0x2f88a2);if(_0x252697||!_0x45f936||_0x3b4df5(_0x2f88a2))return _0x46c180;return _0x46c180[_0x295cb1(0x3d1)](_0x2f88a2,'$'+_0x5bbb95(_0x2f88a2)+'$');})[_0x519e60(0x5cb)]('\x0a'),_0x41ff09=_0x41ff09['replace'](/(\d+)\s*°\s*C\b/g,(_0x5af5e7,_0x14e2b5,_0x94e33f,_0x443535)=>{const _0x2c9add=_0x519e60,_0x1978e5=_0x443535[_0x94e33f-0x1];if(_0x1978e5==='$'||_0x1978e5==='S'||_0x1978e5==='\x5c')return _0x5af5e7;return'$'+_0x14e2b5+_0x2c9add(0x5df);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x80a236,_0x49ca22,_0x14c0fa,_0x1298cf)=>{const _0x454cc4=_0x519e60,_0x24f481=_0x1298cf[_0x14c0fa-0x1];if(_0x24f481==='$'||_0x24f481==='S'||_0x24f481==='\x5c')return _0x80a236;return'$'+_0x49ca22+_0x454cc4(0x5df);})[_0x519e60(0x3d1)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x203456,_0x344897,_0x687340,_0x203aec)=>{const _0x529e3e=_0x519e60,_0x993144=_0x203aec[_0x687340-0x1];if(_0x993144==='$'||_0x993144==='S'||_0x993144==='\x5c')return _0x203456;return'$'+_0x344897+_0x529e3e(0x5df);}),_0x41ff09=_0x41ff09[_0x519e60(0x3d1)](/\$\s*\$/g,'$$'),_0x41ff09!==_0x2af85f&&(_0x26bb40(_0x7fae84,_0x41ff09),_0x4e1c17++);});if(_0x4e1c17>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x4e1c17+'\x20ช่อง');try{if(window[_0x199c95(0x5ce)]&&MathJax[_0x199c95(0x16a)])MathJax['typesetPromise']();window[_0x199c95(0x471)]&&typeof renderMathInElement===_0x199c95(0x155)&&renderMathInElement(_0x1d02d2,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x5bc883){}}else showMessage(_0x199c95(0x4be));}async function listenForCustomMathTopics(){const _0x3bbfeb=_0x1894c9,_0x1d3555=collection(db,_0x3bbfeb(0x59b)+appId+_0x3bbfeb(0x46e));onSnapshot(_0x1d3555,_0x52854d=>{const _0x5d74b8=_0x3bbfeb;customMathTopics=_0x52854d[_0x5d74b8(0x5de)][_0x5d74b8(0x4ed)](_0x365ad9=>({'id':_0x365ad9['id'],..._0x365ad9[_0x5d74b8(0x192)]()})),renderTopicCheckboxes();},_0x18d755=>{const _0x462191=_0x3bbfeb;console['error'](_0x462191(0x3bc),_0x18d755);});}function handleSelectAllTopics(){const _0x24eb8a=_0x1894c9,_0x436ad6=document['getElementById'](_0x24eb8a(0x1f9)),_0x42ab69=_0x436ad6[_0x24eb8a(0x16f)](_0x24eb8a(0x512));_0x42ab69[_0x24eb8a(0x36d)](_0x2f1be0=>{const _0x1fffa5=_0x24eb8a;_0x2f1be0[_0x1fffa5(0x5f8)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x8c2d27=_0x1894c9,_0x421ae3=document[_0x8c2d27(0x34c)](_0x8c2d27(0x1f9)),_0x161ef6=_0x421ae3[_0x8c2d27(0x16f)](_0x8c2d27(0x512));_0x161ef6[_0x8c2d27(0x36d)](_0x22dd65=>{const _0x54a31e=_0x8c2d27;_0x22dd65[_0x54a31e(0x5f8)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x8e73a2){const _0x4ddca3=_0x1894c9;if(!_0x8e73a2)return;try{const _0x1ee49c=doc(db,_0x4ddca3(0x59b)+appId+_0x4ddca3(0x46e),_0x8e73a2);await deleteDoc(_0x1ee49c),showMessage('ลบหัวข้อสำเร็จ');}catch(_0xddf14a){console[_0x4ddca3(0x370)](_0x4ddca3(0x247),_0xddf14a),showMessage(_0x4ddca3(0x286));}}async function handleAddCustomMathTopic(){const _0xcc2b6f=_0x1894c9,_0x5f59d1=document['getElementById'](_0xcc2b6f(0x347)),_0x20b527=_0x5f59d1['value'][_0xcc2b6f(0x680)]();if(!_0x20b527){showMessage(_0xcc2b6f(0x60f));return;}if(!userId){showMessage(_0xcc2b6f(0x2c2));return;}try{const _0x32e0ba=collection(db,_0xcc2b6f(0x59b)+appId+_0xcc2b6f(0x46e));await addDoc(_0x32e0ba,{'name':_0x20b527,'createdAt':serverTimestamp()}),_0x5f59d1['value']='',showMessage(_0xcc2b6f(0x4d9)+_0x20b527+_0xcc2b6f(0x11f));}catch(_0x2a3dd1){console['error'](_0xcc2b6f(0x2b9),_0x2a3dd1),showMessage(_0xcc2b6f(0x2eb));}}async function initialize(){const _0x4ad812=_0x1894c9;try{const _0x7acc1d=initializeApp(firebaseConfig);db=getFirestore(_0x7acc1d),auth=getAuth(_0x7acc1d),setupAuthListener(),setupEventListeners(),showView(_0x4ad812(0x2b6)),renderTopicCheckboxes();}catch(_0x246edc){console[_0x4ad812(0x370)](_0x4ad812(0x4b6),_0x246edc),showMessage(_0x4ad812(0x62e));}}function compareNumericalAnswers(_0x6e9e48,_0x175d82){const _0x5597cb=_0x1894c9,_0x26b2ae=String(_0x6e9e48)[_0x5597cb(0x3d1)](',','.')[_0x5597cb(0x3d1)](/[^\d.-]/g,'')[_0x5597cb(0x680)](),_0xc82111=String(_0x175d82)[_0x5597cb(0x3d1)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x26b2ae===''||_0xc82111==='')return![];const _0x2aa985=parseFloat(_0x26b2ae),_0x4faba3=parseFloat(_0xc82111);if(isNaN(_0x2aa985)||isNaN(_0x4faba3))return![];return Math[_0x5597cb(0x50d)](_0x2aa985-_0x4faba3)<0.001;}async function gradeShortAnswer(_0x1d1a86,_0x2ae223){const _0xd6927=_0x1894c9,_0x22d034=_0x2ae223[_0xd6927(0x1b3)];if(String(_0x1d1a86)[_0xd6927(0x680)]()[_0xd6927(0x34b)]()===String(_0x22d034)[_0xd6927(0x680)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x1d1a86,_0x22d034))return!![];return console[_0xd6927(0x10f)](_0xd6927(0x32d)),await gradeShortAnswerWithAI(_0x1d1a86,_0x22d034);}async function revealAnswerForAdmin(_0x419934,_0x2f120e){const _0x295c89=_0x1894c9;if(document['getElementById']('next-live-question-btn'))return;const _0x33a8fc=doc(db,_0x295c89(0x59b)+appId+_0x295c89(0xdb),currentLiveGameId);await updateDoc(_0x33a8fc,{'questionStatus':_0x295c89(0x4d3)});const _0x26aa97=liveGameView['querySelector'](_0x295c89(0x241));_0x26aa97&&(_0x26aa97[_0x295c89(0x27d)][_0x295c89(0x24a)](_0x295c89(0xd4)),_0x26aa97[_0x295c89(0x27d)][_0x295c89(0x256)](_0x295c89(0x544),'text-green-900',_0x295c89(0x577),_0x295c89(0x52f),_0x295c89(0x5fd)),_0x26aa97[_0x295c89(0x282)]=_0x295c89(0x37f)+_0x26aa97[_0x295c89(0x282)]);const _0x43e95a=document[_0x295c89(0x34c)](_0x295c89(0x142));_0x43e95a&&(_0x43e95a[_0x295c89(0x282)]=_0x295c89(0x68d)+(_0x419934+0x1===_0x2f120e?_0x295c89(0x4a1):_0x295c89(0x5d0))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x295c89(0x34c)](_0x295c89(0x13d))[_0x295c89(0xd5)](_0x295c89(0x5a4),async()=>{const _0x5849bc=_0x295c89,_0xd0e017=doc(db,_0x5849bc(0x59b)+appId+_0x5849bc(0xdb),currentLiveGameId),_0x12d680=await getDoc(_0xd0e017);if(!_0x12d680[_0x5849bc(0x113)]())return;const _0x15fa4b=_0x12d680[_0x5849bc(0x192)](),_0x152835={};if(_0x15fa4b[_0x5849bc(0x3dc)])for(const _0x2370ac in _0x15fa4b[_0x5849bc(0x3dc)]){_0x152835['players.'+_0x2370ac+_0x5849bc(0x18b)]=![];}const _0x6f2174=_0x419934+0x1;_0x6f2174<_0x2f120e?(_0x152835[_0x5849bc(0x28f)]=_0x6f2174,_0x152835[_0x5849bc(0x694)]=serverTimestamp(),_0x152835[_0x5849bc(0x67e)]=_0x5849bc(0x2cd),await updateDoc(_0xd0e017,_0x152835)):await updateDoc(_0xd0e017,{'status':_0x5849bc(0x22e)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x2f4347=>{const _0x22ec6f=_0x1997;if(_0x2f4347){userId=_0x2f4347[_0x22ec6f(0x13a)],userIdDisplay[_0x22ec6f(0x1a7)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0xd5a839){const _0x2d7ba6=_0x1894c9,_0x15970e=Object[_0x2d7ba6(0x44a)](_0xd5a839)['map'](([_0x282ab9,_0x8d6759])=>({'name':_0x282ab9,'score':_0x8d6759[_0x2d7ba6(0x2b2)]||0x0,'badges':_0x8d6759['badges']||[]}));_0x15970e[_0x2d7ba6(0x6bb)]((_0x5a2f47,_0x10a6b4)=>{const _0x56c28a=_0x2d7ba6,_0xb277b4=_0x10a6b4[_0x56c28a(0x2b2)]-_0x5a2f47['score'];if(_0xb277b4!==0x0)return _0xb277b4;return(_0x10a6b4[_0x56c28a(0x339)][_0x56c28a(0x284)]||0x0)-(_0x5a2f47[_0x56c28a(0x339)][_0x56c28a(0x284)]||0x0);});const _0x1da72b=_0x55ef2d=>{const _0x27d36a=_0x2d7ba6;if(!_0x55ef2d||_0x55ef2d[_0x27d36a(0x284)]===0x0)return'';const _0x38b871={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x27d36a(0x59a)+_0x55ef2d[_0x27d36a(0x4ed)](_0x2215e2=>_0x38b871[_0x2215e2]||'')[_0x27d36a(0x5cb)]('')+_0x27d36a(0x338);},_0x598736=_0x15970e[_0x2d7ba6(0x61f)](0x3),_0x5b333b=_0x598736[_0x2d7ba6(0x284)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x598736[_0x2d7ba6(0x4ed)]((_0x3cddcc,_0x53d227)=>_0x2d7ba6(0x349)+(_0x53d227+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3cddcc[_0x2d7ba6(0x642)]+_0x2d7ba6(0x528)+_0x3cddcc['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2d7ba6(0x5cb)]('')+_0x2d7ba6(0x208):'',_0x5f1334=_0x2d7ba6(0x20c)+(_0x15970e[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x15970e[0x1][_0x2d7ba6(0x642)]+_0x2d7ba6(0x1d5)+_0x1da72b(_0x15970e[0x1]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x15970e[0x1][_0x2d7ba6(0x2b2)]+_0x2d7ba6(0x42e):_0x2d7ba6(0x29d))+_0x2d7ba6(0x281)+(_0x15970e[0x0]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x15970e[0x0]['name']+_0x2d7ba6(0x1d5)+_0x1da72b(_0x15970e[0x0][_0x2d7ba6(0x339)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>'+_0x15970e[0x0][_0x2d7ba6(0x2b2)]+_0x2d7ba6(0x610):'<div\x20class=\x22flex-1\x22></div>')+_0x2d7ba6(0x281)+(_0x15970e[0x2]?_0x2d7ba6(0x65c)+_0x15970e[0x2][_0x2d7ba6(0x642)]+_0x2d7ba6(0x1d5)+_0x1da72b(_0x15970e[0x2][_0x2d7ba6(0x339)])+_0x2d7ba6(0x437)+_0x15970e[0x2][_0x2d7ba6(0x2b2)]+_0x2d7ba6(0xe1):_0x2d7ba6(0x29d))+_0x2d7ba6(0x307)+_0x5b333b+_0x2d7ba6(0x2cf)+(currentMode===_0x2d7ba6(0x4d4)?_0x2d7ba6(0x4f2):_0x2d7ba6(0x52c))+_0x2d7ba6(0x1d4);liveGameView[_0x2d7ba6(0x282)]=_0x5f1334,currentMode===_0x2d7ba6(0x4d4)&&document[_0x2d7ba6(0x34c)](_0x2d7ba6(0x1f6))['addEventListener'](_0x2d7ba6(0x5a4),async()=>{const _0x52eaed=_0x2d7ba6,_0x306ac2=doc(db,_0x52eaed(0x59b)+appId+_0x52eaed(0xdb),currentLiveGameId);await deleteDoc(_0x306ac2),showView(_0x52eaed(0x332));});}async function handleStartLiveRace(_0x4c6816){const _0x245ed2=_0x1894c9;let _0x236907=allQuizzes[_0x245ed2(0x204)](_0x232424=>_0x232424['id']===_0x4c6816);if(!_0x236907){const _0x1d409f=doc(db,_0x245ed2(0x59b)+appId+_0x245ed2(0x138),_0x4c6816),_0x30bd1f=await getDoc(_0x1d409f);if(!_0x30bd1f['exists']()){showMessage(_0x245ed2(0x640));return;}_0x236907={'id':_0x30bd1f['id'],..._0x30bd1f[_0x245ed2(0x192)]()};}currentQuizData=getShuffledQuiz(_0x236907);const _0x25f167=_0x236907['projectId']||currentProjectId||null,_0x52b4da=Math[_0x245ed2(0x3fd)](0x3e8+Math['random']()*0x2328)[_0x245ed2(0x4d0)]();currentLiveGamePin=_0x52b4da;try{const _0x1bd8be=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x4c6816,'projectId':_0x25f167,'status':_0x245ed2(0x265),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x52b4da,'createdAt':serverTimestamp()});currentLiveGameId=_0x1bd8be['id'],showAdminLobbyView(_0x52b4da,_0x236907[_0x245ed2(0x122)]),listenForLiveGameUpdates();}catch(_0x2cb699){console[_0x245ed2(0x370)]('Error\x20starting\x20live\x20race:',_0x2cb699),showMessage(_0x245ed2(0x5b9));}}async function handleShowStudentRankings(){const _0x299992=_0x1894c9,_0x19c235=document[_0x299992(0x3f0)]('#student-quiz-leaderboard-content\x20thead');_0x19c235&&(_0x19c235[_0x299992(0x282)]=_0x299992(0x5bf));const _0xda3420=document[_0x299992(0x3f0)](_0x299992(0x32f));_0xda3420&&(_0xda3420[_0x299992(0x282)]=_0x299992(0x40c));const _0x2cde0a=document[_0x299992(0x34c)](_0x299992(0x603));_0x2cde0a['classList']['remove'](_0x299992(0x3ac)),document[_0x299992(0x34c)](_0x299992(0x30d))[_0x299992(0x662)]=()=>_0x2cde0a['classList'][_0x299992(0x256)]('hidden');const _0x2bf0a7=document[_0x299992(0x34c)](_0x299992(0x5d8)),_0x569148=document[_0x299992(0x34c)]('student-project-leaderboard-tab'),_0x3ff96e=document[_0x299992(0x34c)](_0x299992(0x49e)),_0x40d038=document[_0x299992(0x34c)](_0x299992(0x462));_0x2bf0a7['onclick']=()=>{const _0x8d9454=_0x299992;_0x2bf0a7[_0x8d9454(0x27d)]['add']('active'),_0x569148[_0x8d9454(0x27d)][_0x8d9454(0x24a)](_0x8d9454(0x293)),_0x3ff96e['classList']['remove']('hidden'),_0x40d038['classList'][_0x8d9454(0x256)](_0x8d9454(0x3ac));},_0x569148[_0x299992(0x662)]=()=>{const _0x281496=_0x299992;_0x569148[_0x281496(0x27d)]['add']('active'),_0x2bf0a7[_0x281496(0x27d)][_0x281496(0x24a)](_0x281496(0x293)),_0x40d038['classList']['remove']('hidden'),_0x3ff96e[_0x281496(0x27d)][_0x281496(0x256)]('hidden');};try{const _0x1b7106=collection(db,'artifacts/'+appId+_0x299992(0x1c0)+currentQuizData['id']+_0x299992(0x5ba)),_0x34254a=await getDocs(_0x1b7106),_0x447f93=_0x34254a[_0x299992(0x5de)][_0x299992(0x4ed)](_0x5cb2f0=>_0x5cb2f0[_0x299992(0x192)]());renderQuizLeaderboard(_0x447f93,currentQuizData,_0x299992(0x301));const _0x3b7c5b=collection(db,_0x299992(0x59b)+appId+_0x299992(0x5aa)+currentQuizData[_0x299992(0x45b)]+'/studentProfiles'),_0xda16e4=await getDocs(_0x3b7c5b),_0x221230=_0xda16e4[_0x299992(0x5de)][_0x299992(0x4ed)](_0x3ef921=>_0x3ef921[_0x299992(0x192)]());renderLeaderboard(_0x221230,_0x299992(0xfc));}catch(_0x993bb){console['error']('Error\x20fetching\x20student\x20rankings:',_0x993bb),showMessage(_0x299992(0x2a9));}}async function handleSaveToBank(_0x24e764){const _0x2d309c=_0x1894c9,_0x321ea1=_0x24e764[_0x2d309c(0x44f)],_0x58bea5=_0x321ea1[_0x2d309c(0x53a)][_0x2d309c(0x3bb)],_0x4d0e09=currentQuizData[_0x2d309c(0x53f)][_0x58bea5];if(!userId){showMessage(_0x2d309c(0x26c));return;}try{const _0x4cccad={..._0x4d0e09,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x4a6079=collection(db,_0x2d309c(0x59b)+appId+_0x2d309c(0x1fb)+userId+'/questionBank');await addDoc(_0x4a6079,_0x4cccad),showMessage(_0x2d309c(0x604)),_0x321ea1['classList'][_0x2d309c(0x24a)](_0x2d309c(0x430)),_0x321ea1[_0x2d309c(0x27d)][_0x2d309c(0x256)]('text-green-600'),_0x321ea1['disabled']=!![];}catch(_0x3bde5a){console[_0x2d309c(0x370)](_0x2d309c(0x4ce),_0x3bde5a),showMessage(_0x2d309c(0x58c));}}function listenForStarredQuizzes(){const _0x5c0c27=_0x1894c9;if(!userId)return;const _0x464050=collection(db,_0x5c0c27(0x59b)+appId+'/public/data/quizzes'),_0x4015a0=query(_0x464050,where(_0x5c0c27(0x57a),'==',!![]));onSnapshot(_0x4015a0,_0x57cc6e=>{const _0x4b772a=_0x5c0c27;starredQuizzes=_0x57cc6e['docs']['map'](_0x2a8960=>({'id':_0x2a8960['id'],..._0x2a8960[_0x4b772a(0x192)]()})),renderProjects();},_0x9fd0e=>{const _0x5015fe=_0x5c0c27;console[_0x5015fe(0x370)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x9fd0e);});}async function handleToggleStarQuiz(_0x44edc1){const _0x59ccfb=_0x1894c9,_0x1b0093=doc(db,'artifacts/'+appId+_0x59ccfb(0x138),_0x44edc1);try{const _0x52473f=await getDoc(_0x1b0093);if(_0x52473f['exists']()){const _0x47ddd0=_0x52473f[_0x59ccfb(0x192)]()[_0x59ccfb(0x57a)]||![];await updateDoc(_0x1b0093,{'isStarred':!_0x47ddd0});}}catch(_0x5b0fa8){console[_0x59ccfb(0x370)](_0x59ccfb(0x4f4),_0x5b0fa8),showMessage(_0x59ccfb(0x530));}}async function displayQuestionBank(){const _0x28ade2=_0x1894c9,_0x565f18=document[_0x28ade2(0x34c)](_0x28ade2(0x590));_0x565f18[_0x28ade2(0x282)]=_0x28ade2(0x125);try{const _0x3b361b=collection(db,'artifacts/'+appId+'/users/'+userId+_0x28ade2(0x185)),_0x30f904=query(_0x3b361b),_0x2b8f0c=await getDocs(_0x30f904);if(_0x2b8f0c[_0x28ade2(0x458)]){_0x565f18[_0x28ade2(0x282)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x526937=_0x2b8f0c[_0x28ade2(0x5de)][_0x28ade2(0x4ed)](_0x424f2d=>{const _0x345f07=_0x28ade2,_0x2db797=_0x424f2d[_0x345f07(0x192)](),_0x453bf6=_0x424f2d['id'];return _0x345f07(0x6b1)+JSON[_0x345f07(0x3b3)](_0x2db797)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2db797[_0x345f07(0xdd)]||_0x2db797['stem'])+_0x345f07(0x38d)+_0x2db797['originalTopic']+_0x345f07(0x297);})[_0x28ade2(0x5cb)]('');_0x565f18[_0x28ade2(0x282)]=_0x28ade2(0x3c5)+_0x526937+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x28ade2(0x34c)]('create-from-bank-btn')[_0x28ade2(0xd5)](_0x28ade2(0x5a4),createQuizFromBank);}catch(_0xad2240){console['error'](_0x28ade2(0x2e1),_0xad2240),_0x565f18['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x2e6b22,_0x2d93b0,_0x3ca41c){const _0x309b85=_0x1894c9,_0x54c12e=_0x2e6b22[_0x309b85(0x385)]||currentQuizData[_0x309b85(0x126)];let _0x4e518c='';if(_0x54c12e===_0x309b85(0x3aa)||_0x54c12e===_0x309b85(0x3ae)){const _0x2f435b=_0x54c12e==='true_false'?[_0x309b85(0x333),'ไม่ใช่']:_0x2e6b22[_0x309b85(0x146)],_0x58aa99=_0x54c12e===_0x309b85(0x3ae)?_0x2e6b22[_0x309b85(0x220)]?0x0:0x1:_0x2e6b22[_0x309b85(0x5f9)];_0x4e518c=_0x2f435b[_0x309b85(0x4ed)]((_0x5c4a2b,_0x4b50fa)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x4b50fa===_0x58aa99)+_0x309b85(0x263)+_0x5c4a2b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x309b85(0x5cb)]('');}else{if(_0x54c12e===_0x309b85(0x2ca)){const _0x367c61=_0x2e6b22[_0x309b85(0x5f0)]||[];_0x4e518c=_0x367c61[_0x309b85(0x4ed)](_0x28713f=>_0x309b85(0x2c7)+(_0x28713f===_0x2e6b22[_0x309b85(0x193)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28713f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x309b85(0x5cb)]('');}}const _0x137a0a=_0x2e6b22[_0x309b85(0x223)]||_0x2e6b22[_0x309b85(0xdd)],_0x129d6e=_0x309b85(0x343)+(_0x2d93b0+0x1)+_0x309b85(0x476)+_0x3ca41c+_0x309b85(0x5a8)+_0x137a0a+_0x309b85(0x174)+_0x4e518c+_0x309b85(0x54a);liveGameView[_0x309b85(0x282)]=_0x129d6e;window[_0x309b85(0x5ce)]&&MathJax[_0x309b85(0x16a)]&&MathJax[_0x309b85(0x16a)]([liveGameView]);const _0x436441=document[_0x309b85(0x34c)](_0x309b85(0x142));document[_0x309b85(0x34c)]('reveal-answer-btn')['addEventListener']('click',async()=>{const _0x39c5d9=_0x309b85,_0x5ed54f=doc(db,_0x39c5d9(0x59b)+appId+_0x39c5d9(0xdb),currentLiveGameId);await updateDoc(_0x5ed54f,{'questionStatus':_0x39c5d9(0x4d3)});const _0x5d4bed=liveGameView[_0x39c5d9(0x3f0)](_0x39c5d9(0x241));_0x5d4bed&&(_0x5d4bed['classList'][_0x39c5d9(0x24a)](_0x39c5d9(0xd4)),_0x5d4bed['classList']['add'](_0x39c5d9(0x544),_0x39c5d9(0x28e),_0x39c5d9(0x577),_0x39c5d9(0x52f),_0x39c5d9(0x5fd)),_0x5d4bed[_0x39c5d9(0x282)]=_0x39c5d9(0x37f)+_0x5d4bed[_0x39c5d9(0x282)]),_0x436441['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2d93b0+0x1===_0x3ca41c?_0x39c5d9(0x4a1):'ข้อต่อไป')+_0x39c5d9(0x212),document[_0x39c5d9(0x34c)]('next-live-question-btn')[_0x39c5d9(0xd5)](_0x39c5d9(0x5a4),async()=>{const _0x3ee225=_0x39c5d9,_0x40c42f=doc(db,_0x3ee225(0x59b)+appId+_0x3ee225(0xdb),currentLiveGameId),_0x2d33a6=await getDoc(_0x40c42f);if(!_0x2d33a6[_0x3ee225(0x113)]())return;const _0xa36734=_0x2d33a6[_0x3ee225(0x192)](),_0x52612a={};if(_0xa36734[_0x3ee225(0x3dc)])for(const _0x1d4548 in _0xa36734[_0x3ee225(0x3dc)]){_0x52612a['players.'+_0x1d4548+_0x3ee225(0x18b)]=![];}const _0x3d5364=_0x2d93b0+0x1;_0x3d5364<_0x3ca41c?(_0x52612a[_0x3ee225(0x28f)]=_0x3d5364,_0x52612a[_0x3ee225(0x694)]=serverTimestamp(),_0x52612a[_0x3ee225(0x67e)]=_0x3ee225(0x2cd),await updateDoc(_0x40c42f,_0x52612a)):await updateDoc(_0x40c42f,{'status':'podium'});});}),document[_0x309b85(0x34c)]('end-game-btn')[_0x309b85(0xd5)]('click',async()=>{const _0x1db655=_0x309b85,_0xba261f=doc(db,_0x1db655(0x59b)+appId+_0x1db655(0xdb),currentLiveGameId);await deleteDoc(_0xba261f),showView(_0x1db655(0x332));});}function showStudentLiveQuestionView(_0x2381f3,_0x13f6f0,_0x357932){const _0x3278ba=_0x1894c9,_0x57a131=_0x2381f3[_0x3278ba(0x385)]||currentQuizData[_0x3278ba(0x126)];let _0x21436f='';if(_0x57a131===_0x3278ba(0x3aa)||_0x57a131===_0x3278ba(0x3ae)){const _0x4f87a2=_0x57a131===_0x3278ba(0x3ae)?['ใช่',_0x3278ba(0x340)]:_0x2381f3[_0x3278ba(0x146)];_0x21436f=_0x4f87a2[_0x3278ba(0x4ed)]((_0x7c59f5,_0x540155)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x540155+_0x3278ba(0x594)+_0x7c59f5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3278ba(0x5cb)]('');}else{if(_0x57a131===_0x3278ba(0x2ca)){const _0x210f2d=_0x2381f3['allResponses']||[];_0x21436f=_0x210f2d[_0x3278ba(0x4ed)]((_0xd98c90,_0x5d5d76)=>_0x3278ba(0x213)+_0x5d5d76+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd98c90+_0x3278ba(0x3a3))[_0x3278ba(0x5cb)]('');}else _0x57a131===_0x3278ba(0x6a1)&&(_0x21436f=_0x3278ba(0x4c9));}const _0x408b5f=_0x2381f3[_0x3278ba(0x223)]||_0x2381f3[_0x3278ba(0xdd)],_0x4fb3bb=_0x3278ba(0x168)+(_0x13f6f0+0x1)+'\x20/\x20'+_0x357932+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x408b5f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21436f+_0x3278ba(0x5a0);liveGameView[_0x3278ba(0x282)]=_0x4fb3bb;window[_0x3278ba(0x5ce)]&&MathJax[_0x3278ba(0x16a)]&&MathJax['typesetPromise']([liveGameView]);const _0x336226=document[_0x3278ba(0x34c)](_0x3278ba(0x5cd));_0x336226&&_0x336226[_0x3278ba(0xd5)](_0x3278ba(0x5a4),()=>{const _0xcaa6c5=_0x3278ba,_0x21389c=document['getElementById'](_0xcaa6c5(0x4b8))[_0xcaa6c5(0x387)];handleLiveAnswer(_0x21389c,_0x2381f3);}),document[_0x3278ba(0x34c)](_0x3278ba(0x3b6))[_0x3278ba(0xd5)](_0x3278ba(0x5a4),_0x1a0bdb=>{const _0x53c61c=_0x3278ba,_0x2b8ff6=_0x1a0bdb[_0x53c61c(0x405)][_0x53c61c(0x322)](_0x53c61c(0x687));if(_0x2b8ff6){const _0x5000d0=parseInt(_0x2b8ff6[_0x53c61c(0x53a)]['index']);handleLiveAnswer(_0x5000d0,_0x2381f3);}});}async function handleLiveAnswer(_0x5b26e3,_0x5bc584){const _0x47a097=_0x1894c9;document[_0x47a097(0x16f)](_0x47a097(0x1e2))[_0x47a097(0x36d)](_0x155e10=>_0x155e10['disabled']=!![]);const _0x47cdeb=_0x5bc584[_0x47a097(0x385)]||currentQuizData[_0x47a097(0x126)];let _0xa3c4a7=![];if(_0x47cdeb===_0x47a097(0x6a1)){const _0x5e0309=(_0x5b26e3||'')[_0x47a097(0x4d0)]();_0xa3c4a7=await gradeShortAnswer(_0x5e0309,_0x5bc584);}else{if(_0x47cdeb===_0x47a097(0x3aa))_0xa3c4a7=_0x5b26e3===_0x5bc584[_0x47a097(0x5f9)];else{if(_0x47cdeb===_0x47a097(0x3ae)){const _0x7ae343=_0x5bc584[_0x47a097(0x220)];_0xa3c4a7=_0x5b26e3===0x0&&_0x7ae343||_0x5b26e3===0x1&&!_0x7ae343;}else{if(_0x47cdeb===_0x47a097(0x2ca)){const _0x1c6798=_0x5bc584[_0x47a097(0x5f0)][_0x5b26e3];_0xa3c4a7=_0x1c6798===_0x5bc584[_0x47a097(0x193)];}}}}const _0x1c8527=doc(db,_0x47a097(0x59b)+appId+_0x47a097(0xdb),currentLiveGameId),_0x137e28=await getDoc(_0x1c8527);if(!_0x137e28[_0x47a097(0x113)]())return;const _0x6e2ef=_0x137e28['data'](),_0x29ea4b=_0x6e2ef[_0x47a097(0x3dc)][currentStudentName];let _0x3d6599=_0x29ea4b[_0x47a097(0x339)]||[],_0x48d799=_0x29ea4b[_0x47a097(0x1ac)]||0x0;const _0x33d9be={};let _0x37e5b2=0x0;if(_0x6e2ef['questionDisplayedAt']){const _0x346105=_0x6e2ef[_0x47a097(0x694)][_0x47a097(0x564)](),_0x427a2b=new Date()-_0x346105;if(_0xa3c4a7){const _0x5e4c43=0x3e8,_0x245595=0x1f4,_0x35a612=0x4e20;let _0x53ea99=_0x427a2b/_0x35a612;if(_0x53ea99>0x1)_0x53ea99=0x1;const _0x52d334=Math[_0x47a097(0x69f)](_0x53ea99*_0x245595);_0x37e5b2=_0x5e4c43-_0x52d334,_0x427a2b<=0x1388&&!_0x3d6599[_0x47a097(0x17e)]('quick_thinker')&&_0x3d6599['push'](_0x47a097(0x40d));}}_0xa3c4a7?(_0x48d799++,_0x48d799===0x3&&!_0x3d6599['includes'](_0x47a097(0x65a))&&(_0x3d6599['push'](_0x47a097(0x65a)),_0x48d799=0x0)):_0x48d799=0x0,_0xa3c4a7&&(_0x33d9be[_0x47a097(0x273)+currentStudentName+_0x47a097(0x581)]=increment(_0x37e5b2)),_0x33d9be[_0x47a097(0x273)+currentStudentName+'.badges']=_0x3d6599,_0x33d9be['players.'+currentStudentName+_0x47a097(0x647)]=_0x48d799,_0x33d9be[_0x47a097(0x273)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x33d9be[_0x47a097(0x273)+currentStudentName+_0x47a097(0x66f)]=_0xa3c4a7,_0x33d9be[_0x47a097(0x273)+currentStudentName+'.pointsLastQuestion']=_0x37e5b2,await updateDoc(_0x1c8527,_0x33d9be),liveGameView[_0x47a097(0x282)]=_0x47a097(0x48a);}function createQuizFromBank(){const _0x5b13de=_0x1894c9,_0x239e78=document[_0x5b13de(0x16f)](_0x5b13de(0x1ca));if(_0x239e78['length']===0x0){showMessage(_0x5b13de(0x1ea));return;}const _0x1286ce=[];_0x239e78[_0x5b13de(0x36d)](_0x19a1f9=>{const _0x5dffe5=_0x5b13de;_0x1286ce[_0x5dffe5(0x10d)](JSON[_0x5dffe5(0x54e)](_0x19a1f9[_0x5dffe5(0x387)]));});const _0x598e1b={'topic':_0x5b13de(0x2c6),'questions':_0x1286ce};displayGeneratedQuiz(_0x598e1b);}function showAdminLobbyView(_0x349576,_0x4caedd){const _0x371576=_0x1894c9;showView('live-game');const _0x16af01='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x4caedd+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x349576+_0x371576(0x236);liveGameView[_0x371576(0x282)]=_0x16af01,document[_0x371576(0x34c)](_0x371576(0x2e7))['addEventListener']('click',async()=>{const _0x108b16=_0x371576;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x108b16(0x53f)][_0x108b16(0x284)]===0x0){showMessage(_0x108b16(0x69c));return;}try{const _0x472f5f=doc(db,'artifacts/'+appId+_0x108b16(0xdb),currentLiveGameId);await updateDoc(_0x472f5f,{'status':_0x108b16(0x2ce),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xe30dd=currentQuizData['questions'][0x0],_0x5d1371=currentQuizData[_0x108b16(0x53f)][_0x108b16(0x284)];showAdminLiveQuestionView(_0xe30dd,0x0,_0x5d1371);}catch(_0x444152){console[_0x108b16(0x370)](_0x108b16(0x214),_0x444152),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x5ad193=_0x1894c9;if(allQuizzesGlobal[_0x5ad193(0x284)]===0x0){const _0x121fe4=await getDocs(collection(db,_0x5ad193(0x59b)+appId+_0x5ad193(0x138)));allQuizzesGlobal=_0x121fe4['docs']['map'](_0x3e9c2f=>({'id':_0x3e9c2f['id'],..._0x3e9c2f['data']()}));}renderGlobalQuizList(''),document[_0x5ad193(0x34c)]('global-live-game-modal')[_0x5ad193(0x27d)][_0x5ad193(0x24a)](_0x5ad193(0x3ac));}async function openQuizBankModal(){const _0x127b73=_0x1894c9;if(allQuizzesGlobal[_0x127b73(0x284)]===0x0){const _0x37cdb7=await getDocs(collection(db,_0x127b73(0x59b)+appId+_0x127b73(0x138)));allQuizzesGlobal=_0x37cdb7[_0x127b73(0x5de)][_0x127b73(0x4ed)](_0x43de60=>({'id':_0x43de60['id'],..._0x43de60['data']()}));}renderQuizBankList(''),document[_0x127b73(0x34c)](_0x127b73(0x4a4))[_0x127b73(0x27d)]['remove'](_0x127b73(0x3ac));}function renderQuizBankList(_0x3311fe=''){const _0x184100=_0x1894c9,_0x145a29=document['getElementById']('bank-quiz-list'),_0x4d7f08=_0x3311fe['toLowerCase']()['trim'](),_0x194425=allQuizzesGlobal[_0x184100(0x4ed)](_0x25eb13=>({..._0x25eb13,'projectName':allProjects[_0x184100(0x204)](_0x2f3138=>_0x2f3138['id']===_0x25eb13[_0x184100(0x45b)])?.[_0x184100(0x191)]||_0x184100(0x622)}))[_0x184100(0x46c)](_0x5b72f8=>(_0x5b72f8[_0x184100(0x122)]||'')['toLowerCase']()[_0x184100(0x17e)](_0x4d7f08)||(_0x5b72f8[_0x184100(0x191)]||'')['toLowerCase']()[_0x184100(0x17e)](_0x4d7f08)||_0x5b72f8['id'][_0x184100(0x4d0)]()[_0x184100(0x17e)](_0x4d7f08));document[_0x184100(0x34c)](_0x184100(0x253))[_0x184100(0x1a7)]='('+_0x194425[_0x184100(0x284)]+_0x184100(0x2e4),_0x145a29['innerHTML']=_0x194425[_0x184100(0x284)]?_0x194425[_0x184100(0x4ed)](_0x1d1290=>_0x184100(0xef)+_0x1d1290['id']+_0x184100(0x63a)+(_0x1d1290[_0x184100(0x122)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x1d1290[_0x184100(0x53f)]?.[_0x184100(0x284)]||0x0)+_0x184100(0xf4)+_0x1d1290[_0x184100(0x191)]+_0x184100(0x436)+_0x1d1290['id']+_0x184100(0x55d)+_0x1d1290['id']+_0x184100(0x175)+_0x1d1290['id']+_0x184100(0x3d4)+_0x1d1290['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x184100(0x5cb)](''):_0x184100(0x537),_0x145a29[_0x184100(0x16f)](_0x184100(0x685))[_0x184100(0x36d)](_0x5b78a5=>{const _0x79475c=_0x184100;_0x5b78a5[_0x79475c(0xd5)]('click',()=>{const _0x24df10=_0x79475c,_0x38b343=_0x5b78a5[_0x24df10(0x53a)]['id'];document[_0x24df10(0x34c)](_0x24df10(0x4a4))['classList']['add']('hidden'),showQuizDetailView(_0x38b343);});}),_0x145a29[_0x184100(0x16f)](_0x184100(0x376))['forEach'](_0x2c6afe=>{_0x2c6afe['addEventListener']('click',_0x49ba23=>{const _0x4dfc6e=_0x1997;_0x49ba23[_0x4dfc6e(0x651)]();const _0x2048d9=_0x2c6afe[_0x4dfc6e(0x53a)]['id'],_0x56128c=allQuizzesGlobal[_0x4dfc6e(0x204)](_0x944780=>_0x944780['id']===_0x2048d9);_0x56128c?(currentQuizData=_0x56128c,document[_0x4dfc6e(0x34c)](_0x4dfc6e(0x4a4))['classList']['add']('hidden'),startAdminTest()):showMessage(_0x4dfc6e(0x640));});}),_0x145a29[_0x184100(0x16f)](_0x184100(0x579))['forEach'](_0x4b775c=>{const _0x43fb41=_0x184100;_0x4b775c[_0x43fb41(0xd5)]('click',_0x503682=>{const _0x4f4c15=_0x43fb41;_0x503682[_0x4f4c15(0x651)]();const _0x104f2b=_0x4b775c[_0x4f4c15(0x53a)]['id'],_0x27aaa2=allQuizzesGlobal[_0x4f4c15(0x204)](_0xb0df60=>_0xb0df60['id']===_0x104f2b);_0x27aaa2?(document[_0x4f4c15(0x34c)](_0x4f4c15(0x4a4))['classList'][_0x4f4c15(0x256)](_0x4f4c15(0x3ac)),handleGenerateParallelFromBank(_0x27aaa2)):showMessage(_0x4f4c15(0x640));});}),_0x145a29[_0x184100(0x16f)](_0x184100(0x2d3))['forEach'](_0x3dcea3=>{const _0xc2ed15=_0x184100;_0x3dcea3[_0xc2ed15(0xd5)](_0xc2ed15(0x5a4),_0x10b508=>{const _0x2ae9af=_0xc2ed15;_0x10b508[_0x2ae9af(0x651)]();const _0x5cc06a=_0x3dcea3[_0x2ae9af(0x53a)]['id'],_0x6c5c4c=allQuizzesGlobal[_0x2ae9af(0x204)](_0x3451af=>_0x3451af['id']===_0x5cc06a);_0x6c5c4c?(document['getElementById']('quiz-bank-modal')[_0x2ae9af(0x27d)]['add'](_0x2ae9af(0x3ac)),startPresentation(_0x6c5c4c)):showMessage(_0x2ae9af(0x640));});});}function renderGlobalQuizList(_0x40643b=''){const _0x520e74=_0x1894c9,_0x468bfc=document[_0x520e74(0x34c)](_0x520e74(0x19a)),_0x23689b=_0x40643b[_0x520e74(0x34b)]()['trim'](),_0x1761cc=allQuizzesGlobal['map'](_0x2f5faf=>({..._0x2f5faf,'projectName':allProjects['find'](_0x2418a0=>_0x2418a0['id']===_0x2f5faf['projectId'])?.[_0x520e74(0x191)]||_0x2f5faf[_0x520e74(0x45b)]}))[_0x520e74(0x46c)](_0x3be068=>(_0x3be068[_0x520e74(0x122)]||'')[_0x520e74(0x34b)]()[_0x520e74(0x17e)](_0x23689b)||(_0x3be068[_0x520e74(0x191)]||'')['toLowerCase']()['includes'](_0x23689b));document[_0x520e74(0x34c)](_0x520e74(0x3d2))[_0x520e74(0x1a7)]='('+_0x1761cc[_0x520e74(0x284)]+_0x520e74(0x2e4),_0x468bfc[_0x520e74(0x282)]=_0x1761cc[_0x520e74(0x284)]?_0x1761cc[_0x520e74(0x4ed)](_0x14827a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x14827a['id']+_0x520e74(0x254)+(_0x14827a[_0x520e74(0x122)]||_0x520e74(0x4ec))+_0x520e74(0x597)+(_0x14827a[_0x520e74(0x53f)]?.[_0x520e74(0x284)]||0x0)+_0x520e74(0x3f2)+_0x14827a['projectName']+_0x520e74(0x2a2))[_0x520e74(0x5cb)](''):_0x520e74(0x4e2),selectedGlobalQuizId=null,document[_0x520e74(0x34c)](_0x520e74(0x50a))['disabled']=!![],_0x468bfc[_0x520e74(0x16f)]('button[data-id]')[_0x520e74(0x36d)](_0x5737f6=>{const _0x37c81f=_0x520e74;_0x5737f6['addEventListener'](_0x37c81f(0x5a4),()=>{const _0x5339af=_0x37c81f;selectedGlobalQuizId=_0x5737f6[_0x5339af(0x53a)]['id'],_0x468bfc['querySelectorAll'](_0x5339af(0x3c1))[_0x5339af(0x36d)](_0x204a1c=>_0x204a1c[_0x5339af(0x27d)][_0x5339af(0x24a)](_0x5339af(0x527),_0x5339af(0x34d),_0x5339af(0x1e3))),_0x5737f6['classList']['add'](_0x5339af(0x527),'ring-2',_0x5339af(0x1e3)),document[_0x5339af(0x34c)](_0x5339af(0x50a))[_0x5339af(0x3db)]=![];});});}function listenForLiveGameUpdates(){const _0x1eeddb=_0x1894c9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x188ef9=doc(db,_0x1eeddb(0x59b)+appId+_0x1eeddb(0xdb),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x188ef9,_0xdc8e34=>{const _0x2ca817=_0x1eeddb;if(!_0xdc8e34[_0x2ca817(0x113)]()){showMessage(_0x2ca817(0x279)),showView(currentMode);return;}const _0x156eac=_0xdc8e34[_0x2ca817(0x192)]();!currentQuizData&&_0x156eac[_0x2ca817(0x473)]&&((async()=>{const _0x47c496=_0x2ca817;try{const _0x27eaf9=doc(db,_0x47c496(0x59b)+appId+_0x47c496(0x138),_0x156eac[_0x47c496(0x473)]),_0x230d1c=await getDoc(_0x27eaf9);_0x230d1c[_0x47c496(0x113)]()&&(currentQuizData={'id':_0x230d1c['id'],..._0x230d1c[_0x47c496(0x192)]()});}catch(_0x214764){console[_0x47c496(0x370)](_0x47c496(0x1f3),_0x214764);}})());switch(_0x156eac[_0x2ca817(0x587)]){case _0x2ca817(0x265):if(currentMode===_0x2ca817(0x4d4)){const _0x14256f=_0x156eac[_0x2ca817(0x3dc)]?Object[_0x2ca817(0x12a)](_0x156eac[_0x2ca817(0x3dc)]):[];document['getElementById'](_0x2ca817(0x4ef))['textContent']=_0x14256f[_0x2ca817(0x284)],document[_0x2ca817(0x34c)]('player-list-lobby')[_0x2ca817(0x282)]=_0x14256f[_0x2ca817(0x4ed)](_0x174f11=>_0x2ca817(0x342)+_0x174f11+_0x2ca817(0x6a8))[_0x2ca817(0x5cb)]('');const _0xad6850=document['getElementById'](_0x2ca817(0x2e7));_0xad6850&&(_0xad6850[_0x2ca817(0x3db)]=_0x14256f[_0x2ca817(0x284)]===0x0);}else showView(_0x2ca817(0x1ed)),liveGameView[_0x2ca817(0x282)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x2ca817(0x3de);break;case _0x2ca817(0x2ce):const _0x8184a5=_0x156eac[_0x2ca817(0x28f)];if(currentQuizData&&currentQuizData[_0x2ca817(0x53f)][_0x8184a5]){const _0x1d31ee=currentQuizData[_0x2ca817(0x53f)][_0x8184a5],_0x210503=currentQuizData[_0x2ca817(0x53f)][_0x2ca817(0x284)];if(currentMode===_0x2ca817(0x4d4)){lastRenderedAdminQuestionIndex!==_0x8184a5&&(showAdminLiveQuestionView(_0x1d31ee,_0x8184a5,_0x210503),lastRenderedAdminQuestionIndex=_0x8184a5);const _0x2a315f=document['getElementById'](_0x2ca817(0x4e0));if(_0x2a315f&&_0x156eac[_0x2ca817(0x3dc)]){const _0x86454b=Object[_0x2ca817(0x12a)](_0x156eac[_0x2ca817(0x3dc)])[_0x2ca817(0x284)],_0x2c555f=Object['values'](_0x156eac[_0x2ca817(0x3dc)])['filter'](_0xaab53c=>_0xaab53c[_0x2ca817(0x24d)]===!![])[_0x2ca817(0x284)];_0x2a315f[_0x2ca817(0x1a7)]=_0x2c555f+'/'+_0x86454b,_0x86454b>0x0&&_0x2c555f===_0x86454b&&_0x156eac[_0x2ca817(0x67e)]!=='revealed'&&revealAnswerForAdmin(_0x8184a5,_0x210503);}}else{const _0x3e839a=_0x156eac['players'][currentStudentName];if(_0x156eac[_0x2ca817(0x67e)]===_0x2ca817(0x4d3)){if(_0x3e839a[_0x2ca817(0x24d)]){const _0x194ae8=_0x3e839a[_0x2ca817(0x5fe)],_0x4904f4=_0x3e839a[_0x2ca817(0x5a5)]||0x0,_0xa221c=_0x194ae8?'คำตอบถูกต้อง!\x20+'+_0x4904f4+_0x2ca817(0x32a):'คำตอบผิด';liveGameView[_0x2ca817(0x282)]=_0x2ca817(0x30c)+_0xa221c+_0x2ca817(0x38c);}else liveGameView[_0x2ca817(0x282)]=_0x2ca817(0x4cd);}else!_0x3e839a[_0x2ca817(0x24d)]&&showStudentLiveQuestionView(_0x1d31ee,_0x8184a5,_0x210503);}}break;case _0x2ca817(0x22e):showPodiumView(_0x156eac[_0x2ca817(0x3dc)]);break;}});}async function authenticateUser(){const _0x10e5d3=_0x1894c9;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1505b7){console[_0x10e5d3(0x370)](_0x10e5d3(0x14b),_0x1505b7),showMessage(_0x10e5d3(0x28a));}}function showView(_0x2b3fa5){const _0x5e9886=_0x1894c9,_0x44f7a1=['admin-view',_0x5e9886(0x2f4),_0x5e9886(0x246),'project-detail-view',_0x5e9886(0x64f),_0x5e9886(0x5e8)];_0x44f7a1[_0x5e9886(0x36d)](_0x206743=>document[_0x5e9886(0x34c)](_0x206743)?.[_0x5e9886(0x27d)]['add'](_0x5e9886(0x3ac)));if(_0x2b3fa5==='admin-dashboard')adminView[_0x5e9886(0x27d)][_0x5e9886(0x24a)]('hidden'),projectDashboardView['classList'][_0x5e9886(0x24a)](_0x5e9886(0x3ac));else{if(_0x2b3fa5===_0x5e9886(0x2b6))studentView[_0x5e9886(0x27d)][_0x5e9886(0x24a)](_0x5e9886(0x3ac)),studentInitialView['classList'][_0x5e9886(0x24a)](_0x5e9886(0x3ac)),studentNameSelectionView[_0x5e9886(0x27d)][_0x5e9886(0x256)](_0x5e9886(0x3ac)),studentQuizArea[_0x5e9886(0x27d)][_0x5e9886(0x256)](_0x5e9886(0x3ac)),studentResultArea[_0x5e9886(0x27d)]['add'](_0x5e9886(0x3ac)),studentReadingArea[_0x5e9886(0x27d)][_0x5e9886(0x256)]('hidden'),studentJoinGameView['classList'][_0x5e9886(0x256)]('hidden');else{if(_0x2b3fa5===_0x5e9886(0x68f))adminView[_0x5e9886(0x27d)][_0x5e9886(0x24a)]('hidden'),projectDetailView[_0x5e9886(0x27d)][_0x5e9886(0x24a)]('hidden');else{if(_0x2b3fa5==='quiz-results')adminView[_0x5e9886(0x27d)][_0x5e9886(0x24a)](_0x5e9886(0x3ac)),quizResultsView['classList']['remove']('hidden');else _0x2b3fa5===_0x5e9886(0x1ed)&&liveGameView[_0x5e9886(0x27d)][_0x5e9886(0x24a)](_0x5e9886(0x3ac));}}}}function showJoinGameView(){const _0x597a80=_0x1894c9;studentInitialView[_0x597a80(0x27d)][_0x597a80(0x256)]('hidden'),studentJoinGameView[_0x597a80(0x27d)]['remove']('hidden');}function setupEventListeners(){const _0xf99a9b=_0x1894c9;document['getElementById'](_0xf99a9b(0xe2))[_0xf99a9b(0xd5)]('click',handleModeSwitch),document[_0xf99a9b(0x34c)](_0xf99a9b(0x6ad))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleAddCustomMathTopic),document['getElementById'](_0xf99a9b(0x406))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleSelectAllTopics),document[_0xf99a9b(0x34c)]('deselect-all-topics-btn')['addEventListener'](_0xf99a9b(0x5a4),handleDeselectAllTopics),document[_0xf99a9b(0x34c)]('back-to-dashboard-btn')['addEventListener'](_0xf99a9b(0x5a4),()=>{const _0x354da4=_0xf99a9b;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x354da4(0x332));}),document['getElementById']('back-to-project-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x3a2f71=_0xf99a9b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3a2f71(0x68f));}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x4ba))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{showView('admin-dashboard');}),document['getElementById']('modal-close-btn')['addEventListener'](_0xf99a9b(0x5a4),()=>messageModal['classList'][_0xf99a9b(0x256)](_0xf99a9b(0x3ac))),document[_0xf99a9b(0x34c)](_0xf99a9b(0x50c))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>createProjectModal[_0xf99a9b(0x27d)]['remove']('hidden')),document['getElementById']('cancel-create-project-btn')[_0xf99a9b(0xd5)]('click',()=>createProjectModal[_0xf99a9b(0x27d)]['add'](_0xf99a9b(0x3ac))),document[_0xf99a9b(0x34c)]('cancel-admin-login-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>adminPasswordModal['classList'][_0xf99a9b(0x256)]('hidden')),document[_0xf99a9b(0x34c)]('confirm-admin-login-btn')['addEventListener'](_0xf99a9b(0x5a4),handleAdminLogin),document[_0xf99a9b(0x34c)](_0xf99a9b(0x534))[_0xf99a9b(0xd5)](_0xf99a9b(0x285),_0x49b3fe=>{const _0x259d00=_0xf99a9b;if(_0x49b3fe[_0x259d00(0x4fb)]===_0x259d00(0x201))handleAdminLogin();}),document[_0xf99a9b(0x34c)]('cancel-delete-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x1450ea=_0xf99a9b;confirmationModal[_0x1450ea(0x27d)]['add'](_0x1450ea(0x3ac)),confirmAction=null;}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x303))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x7136c8=_0xf99a9b;confirmAction&&confirmAction(),confirmationModal[_0x7136c8(0x27d)][_0x7136c8(0x256)](_0x7136c8(0x3ac)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>renameQuizModal['classList']['add'](_0xf99a9b(0x3ac))),document[_0xf99a9b(0x34c)](_0xf99a9b(0x497))['addEventListener']('click',confirmRenameQuiz),document['getElementById'](_0xf99a9b(0x4de))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>moveQuizModal[_0xf99a9b(0x27d)][_0xf99a9b(0x256)](_0xf99a9b(0x3ac))),document[_0xf99a9b(0x34c)](_0xf99a9b(0x63d))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),confirmMoveQuiz),document[_0xf99a9b(0x34c)]('cancel-quiz-settings-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>quizSettingsModal[_0xf99a9b(0x27d)][_0xf99a9b(0x256)]('hidden')),document[_0xf99a9b(0x34c)](_0xf99a9b(0x186))[_0xf99a9b(0xd5)]('click',confirmQuizSettings),document['getElementById'](_0xf99a9b(0xe6))[_0xf99a9b(0xd5)]('click',()=>quizStatusModal[_0xf99a9b(0x27d)]['add'](_0xf99a9b(0x3ac))),document['getElementById'](_0xf99a9b(0x1d1))['addEventListener'](_0xf99a9b(0x5a4),confirmQuizStatus),document[_0xf99a9b(0x34c)]('open-global-live-btn')[_0xf99a9b(0xd5)]('click',openGlobalLiveModal),document['getElementById'](_0xf99a9b(0xd0))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x1b8bcb=_0xf99a9b;document[_0x1b8bcb(0x34c)](_0x1b8bcb(0x3c0))['classList']['add']('hidden'),selectedGlobalQuizId=null;}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x62d))[_0xf99a9b(0xd5)](_0xf99a9b(0x578),_0x24ba1c=>renderGlobalQuizList(_0x24ba1c[_0xf99a9b(0x405)][_0xf99a9b(0x387)])),document[_0xf99a9b(0x34c)](_0xf99a9b(0x50a))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x7b6752=_0xf99a9b,_0x1d6326=selectedGlobalQuizId;if(!_0x1d6326)return;document[_0x7b6752(0x34c)](_0x7b6752(0x3c0))[_0x7b6752(0x27d)]['add'](_0x7b6752(0x3ac)),handleStartLiveRace(_0x1d6326);}),document[_0xf99a9b(0x34c)](_0xf99a9b(0xe3))[_0xf99a9b(0xd5)]('input',renderProjects),document['getElementById'](_0xf99a9b(0x161))[_0xf99a9b(0xd5)](_0xf99a9b(0x2a0),renderProjects),document[_0xf99a9b(0x34c)](_0xf99a9b(0x1ae))[_0xf99a9b(0xd5)]('input',renderQuizzes),manageTab[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>switchProjectTab(_0xf99a9b(0x3da))),resultsTab[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>switchProjectTab(_0xf99a9b(0x3ea))),leaderboardTab['addEventListener'](_0xf99a9b(0x5a4),()=>switchProjectTab(_0xf99a9b(0x419))),document[_0xf99a9b(0x34c)](_0xf99a9b(0x663))[_0xf99a9b(0xd5)]('click',()=>switchQuizDetailTab(_0xf99a9b(0x166))),document[_0xf99a9b(0x34c)](_0xf99a9b(0x3ad))['addEventListener'](_0xf99a9b(0x5a4),()=>switchQuizDetailTab('scores')),document[_0xf99a9b(0x34c)](_0xf99a9b(0x4cb))['addEventListener'](_0xf99a9b(0x5a4),()=>switchQuizDetailTab(_0xf99a9b(0x439))),document[_0xf99a9b(0x34c)](_0xf99a9b(0x4bb))['addEventListener'](_0xf99a9b(0x5a4),handleAnalyzeClass),generateWorksheetBtn[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),generateWorksheet);const _0x5be8c4=document[_0xf99a9b(0x34c)](_0xf99a9b(0x49c)),_0x267edc=document['getElementById']('link-input-area'),_0x29a770=document[_0xf99a9b(0x34c)](_0xf99a9b(0xce)),_0x520c8b=document[_0xf99a9b(0x34c)]('blueprint-input-area'),_0x3ceb1a=document[_0xf99a9b(0x34c)]('parallel-test-tab'),_0x499fec=document[_0xf99a9b(0x34c)]('parallel-test-input-area');topicTab[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x1c8d23=_0xf99a9b;topicTab['classList'][_0x1c8d23(0x256)](_0x1c8d23(0x293)),textTab['classList'][_0x1c8d23(0x24a)](_0x1c8d23(0x293)),fileTab[_0x1c8d23(0x27d)][_0x1c8d23(0x24a)]('active'),worksheetTab['classList'][_0x1c8d23(0x24a)](_0x1c8d23(0x293));if(_0x5be8c4)_0x5be8c4[_0x1c8d23(0x27d)][_0x1c8d23(0x24a)](_0x1c8d23(0x293));if(_0x29a770)_0x29a770[_0x1c8d23(0x27d)][_0x1c8d23(0x24a)](_0x1c8d23(0x293));if(_0x3ceb1a)_0x3ceb1a[_0x1c8d23(0x27d)][_0x1c8d23(0x24a)](_0x1c8d23(0x293));topicInputArea[_0x1c8d23(0x27d)][_0x1c8d23(0x24a)](_0x1c8d23(0x3ac)),textInputArea[_0x1c8d23(0x27d)]['add']('hidden'),fileInputArea[_0x1c8d23(0x27d)][_0x1c8d23(0x256)](_0x1c8d23(0x3ac)),worksheetInputArea['classList'][_0x1c8d23(0x256)](_0x1c8d23(0x3ac));if(_0x267edc)_0x267edc[_0x1c8d23(0x27d)][_0x1c8d23(0x256)](_0x1c8d23(0x3ac));if(_0x520c8b)_0x520c8b['classList']['add']('hidden');if(_0x499fec)_0x499fec['classList'][_0x1c8d23(0x256)](_0x1c8d23(0x3ac));}),textTab[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x375abc=_0xf99a9b;textTab['classList'][_0x375abc(0x256)](_0x375abc(0x293)),topicTab[_0x375abc(0x27d)]['remove']('active'),fileTab['classList']['remove'](_0x375abc(0x293)),worksheetTab[_0x375abc(0x27d)][_0x375abc(0x24a)](_0x375abc(0x293));if(_0x5be8c4)_0x5be8c4[_0x375abc(0x27d)][_0x375abc(0x24a)](_0x375abc(0x293));if(_0x29a770)_0x29a770['classList']['remove'](_0x375abc(0x293));if(_0x3ceb1a)_0x3ceb1a[_0x375abc(0x27d)][_0x375abc(0x24a)](_0x375abc(0x293));textInputArea[_0x375abc(0x27d)]['remove']('hidden'),topicInputArea['classList'][_0x375abc(0x256)]('hidden'),fileInputArea['classList'][_0x375abc(0x256)]('hidden'),worksheetInputArea[_0x375abc(0x27d)][_0x375abc(0x256)](_0x375abc(0x3ac));if(_0x267edc)_0x267edc[_0x375abc(0x27d)][_0x375abc(0x256)](_0x375abc(0x3ac));if(_0x520c8b)_0x520c8b[_0x375abc(0x27d)]['add'](_0x375abc(0x3ac));if(_0x499fec)_0x499fec[_0x375abc(0x27d)]['add'](_0x375abc(0x3ac));}),fileTab[_0xf99a9b(0xd5)]('click',()=>{const _0x14f280=_0xf99a9b;fileTab[_0x14f280(0x27d)][_0x14f280(0x256)](_0x14f280(0x293)),topicTab[_0x14f280(0x27d)][_0x14f280(0x24a)](_0x14f280(0x293)),textTab[_0x14f280(0x27d)][_0x14f280(0x24a)](_0x14f280(0x293)),worksheetTab[_0x14f280(0x27d)]['remove'](_0x14f280(0x293));if(_0x5be8c4)_0x5be8c4[_0x14f280(0x27d)][_0x14f280(0x24a)](_0x14f280(0x293));if(_0x29a770)_0x29a770[_0x14f280(0x27d)]['remove']('active');if(_0x3ceb1a)_0x3ceb1a[_0x14f280(0x27d)][_0x14f280(0x24a)](_0x14f280(0x293));fileInputArea[_0x14f280(0x27d)]['remove'](_0x14f280(0x3ac)),topicInputArea[_0x14f280(0x27d)][_0x14f280(0x256)](_0x14f280(0x3ac)),textInputArea['classList']['add']('hidden'),worksheetInputArea['classList']['add']('hidden');if(_0x267edc)_0x267edc[_0x14f280(0x27d)][_0x14f280(0x256)]('hidden');if(_0x520c8b)_0x520c8b[_0x14f280(0x27d)][_0x14f280(0x256)](_0x14f280(0x3ac));if(_0x499fec)_0x499fec[_0x14f280(0x27d)][_0x14f280(0x256)](_0x14f280(0x3ac));}),worksheetTab[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x35c653=_0xf99a9b;worksheetTab[_0x35c653(0x27d)][_0x35c653(0x256)](_0x35c653(0x293)),topicTab[_0x35c653(0x27d)][_0x35c653(0x24a)](_0x35c653(0x293)),textTab[_0x35c653(0x27d)][_0x35c653(0x24a)](_0x35c653(0x293)),fileTab[_0x35c653(0x27d)][_0x35c653(0x24a)](_0x35c653(0x293));if(_0x5be8c4)_0x5be8c4[_0x35c653(0x27d)][_0x35c653(0x24a)](_0x35c653(0x293));if(_0x29a770)_0x29a770[_0x35c653(0x27d)][_0x35c653(0x24a)](_0x35c653(0x293));if(_0x3ceb1a)_0x3ceb1a[_0x35c653(0x27d)][_0x35c653(0x24a)](_0x35c653(0x293));worksheetInputArea[_0x35c653(0x27d)][_0x35c653(0x24a)](_0x35c653(0x3ac)),topicInputArea[_0x35c653(0x27d)]['add'](_0x35c653(0x3ac)),textInputArea[_0x35c653(0x27d)]['add'](_0x35c653(0x3ac)),fileInputArea[_0x35c653(0x27d)][_0x35c653(0x256)](_0x35c653(0x3ac));if(_0x267edc)_0x267edc[_0x35c653(0x27d)][_0x35c653(0x256)]('hidden');if(_0x520c8b)_0x520c8b['classList'][_0x35c653(0x256)](_0x35c653(0x3ac));if(_0x499fec)_0x499fec[_0x35c653(0x27d)]['add']('hidden');});const _0xb505ba=document[_0xf99a9b(0x34c)](_0xf99a9b(0x4e4)),_0x6d7314=document[_0xf99a9b(0x34c)](_0xf99a9b(0x590));_0xb505ba&&_0xb505ba[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x3f34c7=_0xf99a9b;topicTab[_0x3f34c7(0x27d)][_0x3f34c7(0x24a)](_0x3f34c7(0x293)),textTab[_0x3f34c7(0x27d)]['remove'](_0x3f34c7(0x293)),fileTab[_0x3f34c7(0x27d)][_0x3f34c7(0x24a)]('active'),worksheetTab[_0x3f34c7(0x27d)]['remove'](_0x3f34c7(0x293));if(_0x5be8c4)_0x5be8c4[_0x3f34c7(0x27d)][_0x3f34c7(0x24a)](_0x3f34c7(0x293));if(_0x29a770)_0x29a770[_0x3f34c7(0x27d)]['remove'](_0x3f34c7(0x293));if(_0x3ceb1a)_0x3ceb1a['classList'][_0x3f34c7(0x24a)](_0x3f34c7(0x293));_0xb505ba[_0x3f34c7(0x27d)][_0x3f34c7(0x256)]('active'),topicInputArea['classList']['add']('hidden'),textInputArea[_0x3f34c7(0x27d)]['add']('hidden'),fileInputArea['classList'][_0x3f34c7(0x256)](_0x3f34c7(0x3ac)),worksheetInputArea[_0x3f34c7(0x27d)][_0x3f34c7(0x256)](_0x3f34c7(0x3ac));if(_0x267edc)_0x267edc[_0x3f34c7(0x27d)]['add'](_0x3f34c7(0x3ac));if(_0x520c8b)_0x520c8b['classList'][_0x3f34c7(0x256)](_0x3f34c7(0x3ac));if(_0x499fec)_0x499fec['classList'][_0x3f34c7(0x256)](_0x3f34c7(0x3ac));_0x6d7314[_0x3f34c7(0x27d)]['remove'](_0x3f34c7(0x3ac)),displayQuestionBank();});_0x5be8c4&&(_0x5be8c4['addEventListener'](_0xf99a9b(0x5a4),()=>{const _0x58f6f1=_0xf99a9b;_0x5be8c4[_0x58f6f1(0x27d)]['add'](_0x58f6f1(0x293)),topicTab[_0x58f6f1(0x27d)][_0x58f6f1(0x24a)](_0x58f6f1(0x293)),textTab[_0x58f6f1(0x27d)][_0x58f6f1(0x24a)](_0x58f6f1(0x293)),fileTab[_0x58f6f1(0x27d)][_0x58f6f1(0x24a)]('active'),worksheetTab[_0x58f6f1(0x27d)][_0x58f6f1(0x24a)](_0x58f6f1(0x293));if(_0x29a770)_0x29a770[_0x58f6f1(0x27d)][_0x58f6f1(0x24a)]('active');if(_0x3ceb1a)_0x3ceb1a[_0x58f6f1(0x27d)][_0x58f6f1(0x24a)](_0x58f6f1(0x293));_0x267edc['classList']['remove'](_0x58f6f1(0x3ac)),topicInputArea['classList']['add'](_0x58f6f1(0x3ac)),textInputArea['classList'][_0x58f6f1(0x256)](_0x58f6f1(0x3ac)),fileInputArea[_0x58f6f1(0x27d)][_0x58f6f1(0x256)](_0x58f6f1(0x3ac)),worksheetInputArea[_0x58f6f1(0x27d)][_0x58f6f1(0x256)](_0x58f6f1(0x3ac));if(_0x520c8b)_0x520c8b['classList'][_0x58f6f1(0x256)](_0x58f6f1(0x3ac));if(_0x499fec)_0x499fec[_0x58f6f1(0x27d)][_0x58f6f1(0x256)](_0x58f6f1(0x3ac));}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x1ce))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleGenerateFromLink));_0x29a770&&_0x29a770[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x3cca6b=_0xf99a9b;_0x29a770[_0x3cca6b(0x27d)][_0x3cca6b(0x256)](_0x3cca6b(0x293)),topicTab['classList'][_0x3cca6b(0x24a)](_0x3cca6b(0x293)),textTab[_0x3cca6b(0x27d)][_0x3cca6b(0x24a)](_0x3cca6b(0x293)),fileTab[_0x3cca6b(0x27d)][_0x3cca6b(0x24a)]('active'),worksheetTab[_0x3cca6b(0x27d)][_0x3cca6b(0x24a)](_0x3cca6b(0x293));if(_0x5be8c4)_0x5be8c4[_0x3cca6b(0x27d)][_0x3cca6b(0x24a)](_0x3cca6b(0x293));if(_0xb505ba)_0xb505ba[_0x3cca6b(0x27d)][_0x3cca6b(0x24a)]('active');if(_0x3ceb1a)_0x3ceb1a[_0x3cca6b(0x27d)][_0x3cca6b(0x24a)](_0x3cca6b(0x293));_0x520c8b[_0x3cca6b(0x27d)]['remove'](_0x3cca6b(0x3ac)),topicInputArea['classList'][_0x3cca6b(0x256)](_0x3cca6b(0x3ac)),textInputArea[_0x3cca6b(0x27d)][_0x3cca6b(0x256)](_0x3cca6b(0x3ac)),fileInputArea[_0x3cca6b(0x27d)]['add'](_0x3cca6b(0x3ac)),worksheetInputArea[_0x3cca6b(0x27d)]['add'](_0x3cca6b(0x3ac));if(_0x267edc)_0x267edc['classList'][_0x3cca6b(0x256)]('hidden');if(_0x6d7314)_0x6d7314['classList'][_0x3cca6b(0x256)](_0x3cca6b(0x3ac));if(_0x499fec)_0x499fec[_0x3cca6b(0x27d)][_0x3cca6b(0x256)](_0x3cca6b(0x3ac));});_0x3ceb1a&&_0x3ceb1a[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0xbe60cd=_0xf99a9b;_0x3ceb1a[_0xbe60cd(0x27d)][_0xbe60cd(0x256)](_0xbe60cd(0x293)),topicTab['classList'][_0xbe60cd(0x24a)]('active'),textTab['classList'][_0xbe60cd(0x24a)](_0xbe60cd(0x293)),fileTab['classList'][_0xbe60cd(0x24a)]('active'),worksheetTab[_0xbe60cd(0x27d)][_0xbe60cd(0x24a)](_0xbe60cd(0x293));if(_0x5be8c4)_0x5be8c4[_0xbe60cd(0x27d)][_0xbe60cd(0x24a)](_0xbe60cd(0x293));if(_0x29a770)_0x29a770[_0xbe60cd(0x27d)][_0xbe60cd(0x24a)](_0xbe60cd(0x293));if(_0xb505ba)_0xb505ba[_0xbe60cd(0x27d)]['remove']('active');_0x499fec[_0xbe60cd(0x27d)][_0xbe60cd(0x24a)](_0xbe60cd(0x3ac)),topicInputArea['classList'][_0xbe60cd(0x256)]('hidden'),textInputArea[_0xbe60cd(0x27d)][_0xbe60cd(0x256)](_0xbe60cd(0x3ac)),fileInputArea[_0xbe60cd(0x27d)][_0xbe60cd(0x256)](_0xbe60cd(0x3ac)),worksheetInputArea[_0xbe60cd(0x27d)][_0xbe60cd(0x256)]('hidden');if(_0x267edc)_0x267edc[_0xbe60cd(0x27d)][_0xbe60cd(0x256)](_0xbe60cd(0x3ac));if(_0x520c8b)_0x520c8b['classList']['add'](_0xbe60cd(0x3ac));if(_0x6d7314)_0x6d7314['classList'][_0xbe60cd(0x256)](_0xbe60cd(0x3ac));});const _0x198dc3=document['getElementById']('blueprint-upload-input'),_0x3bf4c4=document['getElementById']('generate-from-blueprint-btn');_0x198dc3&&_0x198dc3[_0xf99a9b(0xd5)](_0xf99a9b(0x2a0),_0x428933=>{const _0x336b74=_0xf99a9b;_0x428933[_0x336b74(0x405)][_0x336b74(0x17a)]['length']>0x0?_0x3bf4c4[_0x336b74(0x3db)]=![]:_0x3bf4c4[_0x336b74(0x3db)]=!![];});_0x3bf4c4&&_0x3bf4c4[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleGenerateFromBlueprint);const _0x476f24=document[_0xf99a9b(0x34c)](_0xf99a9b(0x4d2)),_0x4b0317=document['getElementById'](_0xf99a9b(0x31e));_0x476f24&&_0x476f24[_0xf99a9b(0xd5)](_0xf99a9b(0x2a0),_0x3906b8=>{const _0x1aad09=_0xf99a9b;_0x4b0317[_0x1aad09(0x3db)]=_0x3906b8[_0x1aad09(0x405)][_0x1aad09(0x17a)]['length']===0x0;});_0x4b0317&&_0x4b0317[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0xf99a9b(0x5a4),handleLoadQuiz),startQuizBtn[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x136dad=_0xf99a9b,_0x79099e=document[_0x136dad(0x34c)](_0x136dad(0x1bd));currentStudentName=_0x79099e[_0x136dad(0x387)];if(!currentStudentName){showMessage(_0x136dad(0x573));return;}studentNameSelectionView[_0x136dad(0x27d)][_0x136dad(0x256)](_0x136dad(0x3ac)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),showJoinGameView),document[_0xf99a9b(0x34c)](_0xf99a9b(0x655))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleJoinLiveGame),document[_0xf99a9b(0x34c)](_0xf99a9b(0x20f))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>showView(_0xf99a9b(0x2b6)));const _0x487057=()=>{const _0x6b6f3a=_0xf99a9b,_0x54e089=document[_0x6b6f3a(0x34c)]('results-quiz-title')['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x6b6f3a(0x34b)]();return _0x6b6f3a(0x227)+(_0x54e089||_0x6b6f3a(0x353));},_0x563f4d=document[_0xf99a9b(0x34c)](_0xf99a9b(0x232));_0x563f4d&&_0x563f4d[_0xf99a9b(0xd5)](_0xf99a9b(0x578),_0x200761=>{const _0x57755e=_0xf99a9b,_0x58cf7c=_0x200761[_0x57755e(0x405)][_0x57755e(0x387)][_0x57755e(0x34b)]()[_0x57755e(0x680)](),_0x2487ba=document[_0x57755e(0x34c)](_0x57755e(0x1f9)),_0x194afe=_0x2487ba[_0x57755e(0x16f)](_0x57755e(0x3cd));_0x194afe[_0x57755e(0x36d)](_0x58dbc1=>{const _0x24e5ee=_0x57755e;let _0x1d7b24=![];const _0x4b06f6=_0x58dbc1[_0x24e5ee(0x16f)](_0x24e5ee(0x36e));_0x4b06f6[_0x24e5ee(0x36d)](_0x16dc6a=>{const _0x587924=_0x24e5ee,_0x341e07=_0x16dc6a[_0x587924(0x3f0)](_0x587924(0x2cb))[_0x587924(0x1a7)][_0x587924(0x34b)]();_0x341e07[_0x587924(0x17e)](_0x58cf7c)?(_0x16dc6a['style'][_0x587924(0x61b)]=_0x587924(0x22f),_0x1d7b24=!![]):_0x16dc6a[_0x587924(0x410)][_0x587924(0x61b)]=_0x587924(0x42a);}),_0x1d7b24?_0x58dbc1[_0x24e5ee(0x410)][_0x24e5ee(0x61b)]=_0x24e5ee(0x411):_0x58dbc1['style']['display']='none';});});document[_0xf99a9b(0x34c)]('export-image-btn')['addEventListener'](_0xf99a9b(0x5a4),()=>exportTableAsImage(_0xf99a9b(0x27b),_0x487057())),document[_0xf99a9b(0x34c)]('export-pdf-btn')['addEventListener']('click',()=>exportTableAsPDF(_0xf99a9b(0x25a),_0x487057())),document[_0xf99a9b(0x34c)]('export-word-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>exportTableAsWord(_0xf99a9b(0x27b),_0x487057())),document['getElementById']('export-excel-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>exportTableAsExcel('results-table',_0x487057()));const _0x337e08=()=>{const _0xee54a5=_0xf99a9b,_0x5eba86=document[_0xee54a5(0x34c)](_0xee54a5(0x140))[_0xee54a5(0x1a7)][_0xee54a5(0x3d1)](/[^a-z0-9]/gi,'_')[_0xee54a5(0x34b)]();return _0xee54a5(0x45e)+(_0x5eba86||_0xee54a5(0x353));};document[_0xf99a9b(0x34c)](_0xf99a9b(0x608))['addEventListener'](_0xf99a9b(0x5a4),()=>exportTableAsImage(_0xf99a9b(0x21a),_0x337e08())),document[_0xf99a9b(0x34c)](_0xf99a9b(0x1b6))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>exportTableAsPDF(_0xf99a9b(0x52b),_0x337e08())),document[_0xf99a9b(0x34c)](_0xf99a9b(0x510))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>exportTableAsWord(_0xf99a9b(0x21a),_0x337e08())),document[_0xf99a9b(0x34c)](_0xf99a9b(0x3af))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>exportTableAsExcel(_0xf99a9b(0x52b),_0x337e08())),projectQuizzesList[_0xf99a9b(0xd5)]('click',async _0x39528b=>{const _0x3c0a1d=_0xf99a9b,_0x14a28d=_0x39528b['target'][_0x3c0a1d(0x322)](_0x3c0a1d(0x378)),_0x4cd1b1=_0x39528b['target'][_0x3c0a1d(0x322)](_0x3c0a1d(0x4ab)),_0x129fe9=_0x39528b[_0x3c0a1d(0x405)]['closest'](_0x3c0a1d(0x4a5)),_0x394d01=_0x39528b[_0x3c0a1d(0x405)][_0x3c0a1d(0x322)](_0x3c0a1d(0x452)),_0x9e7b17=_0x39528b[_0x3c0a1d(0x405)]['closest'](_0x3c0a1d(0x661)),_0x1ffb1b=_0x39528b[_0x3c0a1d(0x405)][_0x3c0a1d(0x322)](_0x3c0a1d(0x5a3)),_0x880755=_0x39528b['target'][_0x3c0a1d(0x322)](_0x3c0a1d(0x556)),_0x57f0cd=_0x39528b['target'][_0x3c0a1d(0x322)](_0x3c0a1d(0x249)),_0x54cc9f=_0x39528b[_0x3c0a1d(0x405)][_0x3c0a1d(0x322)](_0x3c0a1d(0x589)),_0x2da61e=_0x39528b[_0x3c0a1d(0x405)]['closest'](_0x3c0a1d(0x2bf)),_0x4bd737=_0x39528b[_0x3c0a1d(0x405)][_0x3c0a1d(0x322)](_0x3c0a1d(0x441)),_0x36d3a1=_0x39528b[_0x3c0a1d(0x405)]['closest'](_0x3c0a1d(0x636)),_0x4f8cc9=_0x39528b[_0x3c0a1d(0x405)][_0x3c0a1d(0x322)]('.parallel-quiz-btn');if(_0x36d3a1){const _0x2c74b5=_0x36d3a1[_0x3c0a1d(0x53a)][_0x3c0a1d(0x473)];handleOpenQuizEditor(_0x2c74b5);}else{if(_0x4f8cc9){const _0x657e98=_0x4f8cc9[_0x3c0a1d(0x53a)][_0x3c0a1d(0x473)],_0x5322cf=allQuizzes[_0x3c0a1d(0x204)](_0x72627c=>_0x72627c['id']===_0x657e98);_0x5322cf?handleGenerateParallelFromBank(_0x5322cf):showMessage(_0x3c0a1d(0x640));}else{if(_0x14a28d){const _0x45f67a=_0x14a28d[_0x3c0a1d(0x53a)]['quizId'];handleToggleStarQuiz(_0x45f67a);}else{if(_0x4bd737){const _0x49729b=_0x4bd737[_0x3c0a1d(0x53a)][_0x3c0a1d(0x473)];handleStartLiveRace(_0x49729b);}else{if(_0x4cd1b1){const _0x20ee02=_0x4cd1b1[_0x3c0a1d(0x53a)][_0x3c0a1d(0x473)],_0x45066a=_0x4cd1b1[_0x3c0a1d(0x53a)]['topic'];showConfirmation(_0x3c0a1d(0x481)+_0x45066a+_0x3c0a1d(0x5f3),()=>handleDeleteQuiz(_0x20ee02));}else{if(_0x129fe9){const _0x166860=_0x129fe9['dataset'][_0x3c0a1d(0x473)];copyTextToClipboard(_0x166860,'คัดลอกรหัสแล้ว!');}else{if(_0x394d01){const _0x256b7d=_0x394d01['dataset'][_0x3c0a1d(0x473)],_0x517ed5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x256b7d),_0x503579=await getDoc(_0x517ed5);if(_0x503579[_0x3c0a1d(0x113)]()){const _0x335117={'id':_0x503579['id'],..._0x503579[_0x3c0a1d(0x192)]()};startPresentation(_0x335117);}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x9e7b17){const _0x30624b=_0x9e7b17[_0x3c0a1d(0x53a)]['quizId'],_0x4fbb84=doc(db,_0x3c0a1d(0x59b)+appId+'/public/data/quizzes',_0x30624b),_0x3b159e=await getDoc(_0x4fbb84);_0x3b159e[_0x3c0a1d(0x113)]()?(currentQuizData={'id':_0x3b159e['id'],..._0x3b159e[_0x3c0a1d(0x192)]()},startAdminTest()):showMessage(_0x3c0a1d(0x640));}else{if(_0x1ffb1b){const _0x421df7=_0x1ffb1b['dataset'][_0x3c0a1d(0x473)],_0x4d6539=_0x1ffb1b[_0x3c0a1d(0x53a)]['topic'];handleRenameQuiz(_0x421df7,_0x4d6539);}else{if(_0x880755){const _0x393882=_0x880755['dataset'][_0x3c0a1d(0x473)];handleMoveQuiz(_0x393882);}else{if(_0x57f0cd){const _0x678fa2=_0x57f0cd['dataset'][_0x3c0a1d(0x473)];handleQuizSettings(_0x678fa2);}else{if(_0x54cc9f){const _0x2670fb=_0x54cc9f['dataset'][_0x3c0a1d(0x473)];handleQuizStatus(_0x2670fb);}else{if(_0x2da61e){const _0x56ee2f=_0x2da61e[_0x3c0a1d(0x53a)][_0x3c0a1d(0x473)];handleDuplicateQuiz(_0x56ee2f);}}}}}}}}}}}}}}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x52b))['querySelector'](_0xf99a9b(0x4ff))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),_0x3ad22c=>{const _0x18015e=_0xf99a9b,_0x4c7694=_0x3ad22c[_0x18015e(0x405)][_0x18015e(0x322)](_0x18015e(0x5e5));if(!_0x4c7694||!_0x4c7694[_0x18015e(0x53a)]['sort'])return;const _0x374e2d=_0x4c7694[_0x18015e(0x53a)][_0x18015e(0x6bb)];if(quizLeaderboardSortBy===_0x374e2d)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x18015e(0x19d)?'desc':'asc';else{quizLeaderboardSortBy=_0x374e2d;const _0x3a8c01=[_0x18015e(0x124)];quizLeaderboardSortOrder=_0x3a8c01[_0x18015e(0x17e)](_0x374e2d)?_0x18015e(0x19d):_0x18015e(0x49a);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x18015e(0x412));}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x390))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),closePresentation),document[_0xf99a9b(0x34c)](_0xf99a9b(0x308))[_0xf99a9b(0xd5)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x4c1))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x76660a=_0xf99a9b;currentQuizData[_0x76660a(0x53f)]&&currentPresentationSlide<currentQuizData[_0x76660a(0x53f)][_0x76660a(0x284)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x4f73d9=_0xf99a9b;!document[_0x4f73d9(0x3b5)]&&(presentationModal['style'][_0x4f73d9(0x61b)]=_0x4f73d9(0x42a));}),document[_0xf99a9b(0x34c)]('delete-all-students-btn')['addEventListener']('click',handleDeleteAllStudents),studentList[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),_0x5352eb=>{const _0x64500f=_0xf99a9b,_0x40cfe4=_0x5352eb[_0x64500f(0x405)][_0x64500f(0x322)](_0x64500f(0x39b));if(_0x40cfe4){const _0x453630=_0x40cfe4[_0x64500f(0x53a)][_0x64500f(0x124)];handleDeleteStudent(_0x453630);}}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x40b))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleGenerateFromFileClick),fileUploadInput[_0xf99a9b(0xd5)](_0xf99a9b(0x2a0),_0x5fe036=>{const _0x3a16a2=_0xf99a9b,_0x4ab657=_0x5fe036[_0x3a16a2(0x405)][_0x3a16a2(0x17a)][0x0],_0x36c042=document[_0x3a16a2(0x34c)](_0x3a16a2(0x40b));_0x4ab657?(selectedFile=_0x4ab657,_0x36c042[_0x3a16a2(0x3db)]=![]):(selectedFile=null,_0x36c042[_0x3a16a2(0x3db)]=!![]);}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x26b))[_0xf99a9b(0xd5)](_0xf99a9b(0x2a0),_0x3b43b9=>{const _0x207609=_0xf99a9b,_0x1204e9=document[_0x207609(0x34c)](_0x207609(0x5fa)),_0x3f1b99=document[_0x207609(0x34c)](_0x207609(0x649)),_0x1c001d=document['getElementById'](_0x207609(0x690));_0x3b43b9['target'][_0x207609(0x387)]===_0x207609(0x42a)?_0x1204e9[_0x207609(0x27d)][_0x207609(0x256)](_0x207609(0x3ac)):(_0x1204e9[_0x207609(0x27d)]['remove'](_0x207609(0x3ac)),_0x3b43b9[_0x207609(0x405)][_0x207609(0x387)]===_0x207609(0x653)?(_0x3f1b99['textContent']=_0x207609(0x258),_0x1c001d[_0x207609(0x387)]='10'):(_0x3f1b99[_0x207609(0x1a7)]=_0x207609(0x231),_0x1c001d[_0x207609(0x387)]='30'));}),document['getElementById'](_0xf99a9b(0x216))[_0xf99a9b(0xd5)](_0xf99a9b(0x2a0),_0x5aae31=>{const _0x7f5108=_0xf99a9b,_0x24f170=document[_0x7f5108(0x34c)](_0x7f5108(0x1dd)),_0x2df47f=_0x5aae31[_0x7f5108(0x405)]['value'],_0x340842=document[_0x7f5108(0x3f0)](_0x7f5108(0x2a5)),_0x2bf623=document[_0x7f5108(0x34c)]('passing-score-input'),_0x5d614c=document[_0x7f5108(0x34c)](_0x7f5108(0x245));_0x2df47f===_0x7f5108(0x450)?_0x340842['textContent']=_0x7f5108(0x112):_0x340842[_0x7f5108(0x1a7)]='จำนวนข้อ:',_0x2df47f===_0x7f5108(0x3aa)||_0x2df47f===_0x7f5108(0x33a)||_0x2df47f===_0x7f5108(0x2fc)?_0x24f170['classList']['remove'](_0x7f5108(0x3ac)):_0x24f170[_0x7f5108(0x27d)][_0x7f5108(0x256)](_0x7f5108(0x3ac)),_0x2bf623[_0x7f5108(0x3fc)]=_0x5d614c[_0x7f5108(0x387)];}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x245))[_0xf99a9b(0xd5)]('input',_0x3b9faa=>{const _0xe50a77=_0xf99a9b;document[_0xe50a77(0x34c)](_0xe50a77(0x50f))[_0xe50a77(0x3fc)]=_0x3b9faa[_0xe50a77(0x405)][_0xe50a77(0x387)];}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x6ac))[_0xf99a9b(0xd5)](_0xf99a9b(0x2a0),_0x18818f=>{const _0x21169d=_0xf99a9b,_0x16a247=document['getElementById'](_0x21169d(0x4e9)),_0x4ad46f=document['getElementById'](_0x21169d(0x669)),_0x448246=document[_0x21169d(0x34c)](_0x21169d(0x151));_0x18818f[_0x21169d(0x405)][_0x21169d(0x387)]===_0x21169d(0x42a)?_0x16a247['classList'][_0x21169d(0x256)](_0x21169d(0x3ac)):(_0x16a247[_0x21169d(0x27d)]['remove']('hidden'),_0x18818f['target'][_0x21169d(0x387)]===_0x21169d(0x653)?_0x4ad46f[_0x21169d(0x1a7)]='ระยะเวลา\x20(นาที):':_0x4ad46f[_0x21169d(0x1a7)]='ระยะเวลา\x20(วินาที):');}),document['getElementById'](_0xf99a9b(0x3d3))['addEventListener'](_0xf99a9b(0x5a4),()=>{const _0x3420b1=_0xf99a9b;document[_0x3420b1(0x34c)](_0x3420b1(0x4db))[_0x3420b1(0x27d)][_0x3420b1(0x256)](_0x3420b1(0x3ac));}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x489))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x3688f6=_0xf99a9b;document[_0x3688f6(0x34c)](_0x3688f6(0x4db))[_0x3688f6(0x27d)][_0x3688f6(0x256)](_0x3688f6(0x3ac));}),document[_0xf99a9b(0x34c)](_0xf99a9b(0x3f9))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x2f7db9=_0xf99a9b;document[_0x2f7db9(0x34c)](_0x2f7db9(0x4db))['classList'][_0x2f7db9(0x256)](_0x2f7db9(0x3ac)),showConfirmation(_0x2f7db9(0x4e7),handleSaveChanges);}),document[_0xf99a9b(0x34c)]('auto-fix-latex-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),handleAutoFixLatex);const _0x58f7e4=document[_0xf99a9b(0x34c)]('quiz-editor-questions-container');_0x58f7e4&&_0x58f7e4[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),_0x50865a=>{const _0x2c4606=_0xf99a9b,_0x3c3b83=_0x50865a['target'][_0x2c4606(0x322)](_0x2c4606(0x270));if(_0x3c3b83){const _0x5b73af=_0x3c3b83['closest'](_0x2c4606(0xee)),_0x186ebc=parseInt(_0x5b73af['dataset'][_0x2c4606(0x668)],0xa);handleRegenerateQuestionInEditor(_0x186ebc);}});document[_0xf99a9b(0x34c)](_0xf99a9b(0x65d))[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),openQuizBankModal),document[_0xf99a9b(0x34c)]('cancel-quiz-bank-btn')[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),()=>{const _0x5f17f1=_0xf99a9b;document[_0x5f17f1(0x34c)](_0x5f17f1(0x4a4))['classList']['add']('hidden');}),document['getElementById'](_0xf99a9b(0x173))[_0xf99a9b(0xd5)](_0xf99a9b(0x578),_0x4e7cf1=>renderQuizBankList(_0x4e7cf1['target'][_0xf99a9b(0x387)]));const _0x52e501=document[_0xf99a9b(0x34c)](_0xf99a9b(0x1f9));if(_0x52e501){let _0x65eca6=null;_0x52e501[_0xf99a9b(0xd5)](_0xf99a9b(0x5a4),_0x11b601=>{const _0x119ffc=_0xf99a9b,_0x355cbc=_0x11b601[_0x119ffc(0x405)],_0x178d13=_0x355cbc[_0x119ffc(0x322)](_0x119ffc(0x244)),_0x457fee=_0x355cbc[_0x119ffc(0x322)](_0x119ffc(0x2fe)),_0x9f2a9c=_0x355cbc[_0x119ffc(0x322)](_0x119ffc(0x518)),_0x54530c=_0x355cbc[_0x119ffc(0x322)](_0x119ffc(0x5fc));if(_0x457fee){_0x11b601['preventDefault']();const _0x47312b=_0x457fee['dataset']['id'],_0x5c9a1b=_0x457fee[_0x119ffc(0x322)]('.group')[_0x119ffc(0x3f0)](_0x119ffc(0x2cb))[_0x119ffc(0x1a7)];showConfirmation(_0x119ffc(0x5dc)+_0x5c9a1b+'\x22?',()=>handleDeleteCustomTopic(_0x47312b));}else{if(_0x178d13){_0x11b601[_0x119ffc(0x18a)]();_0x65eca6&&toggleTopicEditMode(_0x65eca6,![]);const _0x1e41e7=_0x178d13[_0x119ffc(0x322)](_0x119ffc(0x13b));_0x65eca6=_0x1e41e7,toggleTopicEditMode(_0x1e41e7,!![]);}else{if(_0x9f2a9c){_0x11b601['preventDefault']();const _0x88b8ce=_0x9f2a9c[_0x119ffc(0x53a)]['id'],_0x227d94=_0x9f2a9c[_0x119ffc(0x322)](_0x119ffc(0x13b)),_0x50c10f=_0x227d94[_0x119ffc(0x3f0)]('.topic-name-input')[_0x119ffc(0x387)];handleUpdateCustomTopic(_0x88b8ce,_0x50c10f),_0x65eca6=null;}else{if(_0x54530c){_0x11b601[_0x119ffc(0x18a)]();const _0x32ac47=_0x54530c[_0x119ffc(0x322)](_0x119ffc(0x13b));toggleTopicEditMode(_0x32ac47,![]),_0x65eca6=null;}}}}});}}async function extractTextFromPdf(_0x58c1fa){const _0x436631=_0x1894c9;pdfjsLib['GlobalWorkerOptions']['workerSrc']='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x43fd56=await _0x58c1fa[_0x436631(0x3bf)](),_0x5103af=await pdfjsLib[_0x436631(0x542)](_0x43fd56)[_0x436631(0xd7)],_0x72a8d0=_0x5103af[_0x436631(0x648)];let _0x4314d4='';for(let _0x86ed84=0x1;_0x86ed84<=_0x72a8d0;_0x86ed84++){const _0xdb08f6=await _0x5103af[_0x436631(0x5e0)](_0x86ed84),_0x2a3d00=await _0xdb08f6['getTextContent'](),_0x571d26=_0x2a3d00[_0x436631(0x31b)][_0x436631(0x4ed)](_0x162e6c=>_0x162e6c[_0x436631(0x630)])['join']('\x20');_0x4314d4+=_0x571d26+'\x0a\x0a';}return _0x4314d4;}async function handleGenerateFromBlueprint(){const _0x140081=_0x1894c9,_0x2e6a3b=document[_0x140081(0x34c)]('blueprint-upload-input'),_0x55098e=document[_0x140081(0x34c)](_0x140081(0x3a0)),_0x9dd895=_0x2e6a3b[_0x140081(0x17a)][0x0],_0x2dae74=_0x55098e[_0x140081(0x17a)][_0x140081(0x284)]>0x0?_0x55098e['files'][0x0]:null;if(!_0x9dd895){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x44a01d=document[_0x140081(0x34c)](_0x140081(0x14a)),_0x1ca450=document[_0x140081(0x34c)](_0x140081(0x36b)),_0x417d0c=document[_0x140081(0x34c)](_0x140081(0x289)),_0xbf68a3=document[_0x140081(0x34c)](_0x140081(0x552));_0xbf68a3[_0x140081(0x3db)]=!![],document[_0x140081(0x34c)](_0x140081(0x3c4))[_0x140081(0x27d)][_0x140081(0x24a)](_0x140081(0x3ac)),_0x417d0c[_0x140081(0x282)]='',_0x44a01d['classList'][_0x140081(0x24a)](_0x140081(0x3ac));try{_0x1ca450[_0x140081(0x1a7)]=_0x140081(0x4bc);const _0x217be5=await extractTextFromPdf(_0x9dd895);if(!_0x217be5[_0x140081(0x680)]())throw new Error(_0x140081(0x304));let _0x1296f6='';_0x2dae74&&(_0x1ca450[_0x140081(0x1a7)]=_0x140081(0x686),_0x1296f6=await extractTextFromPdf(_0x2dae74));_0x1ca450[_0x140081(0x1a7)]=_0x140081(0x132);const _0x213b68=document[_0x140081(0x34c)](_0x140081(0x68b))[_0x140081(0x5f8)],_0x3157a4=_0x213b68?_0x140081(0x4aa):'',_0x1e5334=_0x1296f6?_0x140081(0x64b)+_0x1296f6+_0x140081(0x147):'',_0x222281=_0x140081(0x362)+(_0x1296f6?_0x140081(0x4a7):'')+_0x140081(0x53b)+_0x217be5+_0x140081(0x147)+_0x1e5334+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3157a4+_0x140081(0x5cc)+simpleMathPrompt+_0x140081(0x3be),_0x2287dd={'type':_0x140081(0x111),'properties':{'questionText':{'type':_0x140081(0x400)},'questionType':{'type':_0x140081(0x400),'enum':[_0x140081(0x3aa),_0x140081(0x6a1)]},'options':{'type':_0x140081(0x1ab),'items':{'type':_0x140081(0x400)}},'correctAnswerIndex':{'type':_0x140081(0x3d7)},'idealAnswer':{'type':_0x140081(0x400)},'explanation':{'type':_0x140081(0x400)},'imageCode':{'type':'STRING'}},'required':[_0x140081(0xdd),_0x140081(0x385),_0x140081(0x2f6)]},_0x254145={'type':_0x140081(0x111),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x140081(0x1ab),'items':_0x2287dd}},'required':[_0x140081(0x122),_0x140081(0x53f)]};await handleApiCall(_0x222281,_0x140081(0x1b7),_0x254145);}catch(_0x4b6972){console[_0x140081(0x370)]('Error\x20generating\x20from\x20blueprint:',_0x4b6972),showMessage(_0x140081(0x368)+_0x4b6972['message']),_0x417d0c[_0x140081(0x282)]=_0x140081(0x682);}finally{_0x44a01d[_0x140081(0x27d)][_0x140081(0x256)](_0x140081(0x3ac)),_0xbf68a3[_0x140081(0x3db)]=![];}}async function handleGenerateParallelFromBank(_0xf4186b){const _0x2ea2f6=_0x1894c9,_0x4ca456=document[_0x2ea2f6(0x34c)](_0x2ea2f6(0x14a)),_0x49bf6a=document[_0x2ea2f6(0x34c)](_0x2ea2f6(0x36b)),_0x43371e=document[_0x2ea2f6(0x34c)](_0x2ea2f6(0x289)),_0x3489ec=document[_0x2ea2f6(0x34c)](_0x2ea2f6(0x3c4));showView(_0x2ea2f6(0x68f)),switchProjectTab(_0x2ea2f6(0x3da)),_0x3489ec['classList'][_0x2ea2f6(0x24a)](_0x2ea2f6(0x3ac)),_0x43371e[_0x2ea2f6(0x282)]='',_0x4ca456['classList'][_0x2ea2f6(0x24a)](_0x2ea2f6(0x3ac)),_0x49bf6a[_0x2ea2f6(0x1a7)]=_0x2ea2f6(0x429)+_0xf4186b[_0x2ea2f6(0x122)]+'\x22...';try{const _0x366dd7=_0xf4186b[_0x2ea2f6(0x53f)][_0x2ea2f6(0x4ed)]((_0x4d3bf4,_0x30c10b)=>{const _0x16d7d6=_0x2ea2f6;let _0x2762b8=_0x30c10b+0x1+'.\x20'+(_0x4d3bf4[_0x16d7d6(0xdd)]||_0x4d3bf4[_0x16d7d6(0x223)])+'\x0a';if(_0x4d3bf4[_0x16d7d6(0x146)])_0x2762b8+=_0x4d3bf4[_0x16d7d6(0x146)][_0x16d7d6(0x4ed)]((_0x3ef1ad,_0x5c1cee)=>_0x16d7d6(0x567)+(_0x5c1cee===_0x4d3bf4[_0x16d7d6(0x5f9)]?_0x16d7d6(0x621):'')+'\x20'+_0x3ef1ad)[_0x16d7d6(0x5cb)]('\x0a');else{if(_0x4d3bf4[_0x16d7d6(0x1b3)])_0x2762b8+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x4d3bf4[_0x16d7d6(0x1b3)];else _0x4d3bf4[_0x16d7d6(0x193)]&&(_0x2762b8+=_0x16d7d6(0x1c2)+_0x4d3bf4['correctResponse']);}return _0x2762b8;})[_0x2ea2f6(0x5cb)]('\x0a\x0a');_0x49bf6a[_0x2ea2f6(0x1a7)]=_0x2ea2f6(0x5da);const _0x47efae=_0x2ea2f6(0x277)+_0xf4186b[_0x2ea2f6(0x122)]+_0x2ea2f6(0x416)+_0x366dd7+_0x2ea2f6(0x377)+_0xf4186b[_0x2ea2f6(0x126)]+_0x2ea2f6(0x543)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2515bd={'type':'OBJECT','properties':{'questionText':{'type':_0x2ea2f6(0x400)},'questionType':{'type':_0x2ea2f6(0x400),'enum':[_0x2ea2f6(0x3aa),'short_answer','true_false',_0x2ea2f6(0x2ca)]},'options':{'type':_0x2ea2f6(0x1ab),'items':{'type':_0x2ea2f6(0x400)}},'correctAnswerIndex':{'type':_0x2ea2f6(0x3d7)},'idealAnswer':{'type':_0x2ea2f6(0x400)},'correctAnswer':{'type':_0x2ea2f6(0x635)},'stem':{'type':_0x2ea2f6(0x400)},'correctResponse':{'type':_0x2ea2f6(0x400)},'allResponses':{'type':_0x2ea2f6(0x1ab),'items':{'type':_0x2ea2f6(0x400)}},'explanation':{'type':_0x2ea2f6(0x400)},'imageCode':{'type':_0x2ea2f6(0x400)}},'required':[_0x2ea2f6(0x385),_0x2ea2f6(0x2f6)]},_0x1aabab={'type':_0x2ea2f6(0x111),'properties':{'topic':{'type':_0x2ea2f6(0x400)},'questions':{'type':_0x2ea2f6(0x1ab),'items':_0x2515bd}},'required':[_0x2ea2f6(0x122),_0x2ea2f6(0x53f)]};await handleApiCall(_0x47efae,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x1aabab);}catch(_0x5c7ee7){console['error'](_0x2ea2f6(0x5b0),_0x5c7ee7),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5c7ee7['message']),_0x43371e[_0x2ea2f6(0x282)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x4ca456['classList']['add']('hidden');}}async function handleGenerateParallelTest(){const _0x1b7416=_0x1894c9,_0x246652=document[_0x1b7416(0x34c)]('parallel-test-upload-input'),_0xb0db4a=_0x246652[_0x1b7416(0x17a)][0x0];if(!_0xb0db4a){showMessage(_0x1b7416(0x335));return;}const _0x3c1f1f=document['getElementById']('loader'),_0x3e42ea=document[_0x1b7416(0x34c)](_0x1b7416(0x36b)),_0x655686=document[_0x1b7416(0x34c)](_0x1b7416(0x289)),_0x323ce3=document[_0x1b7416(0x34c)](_0x1b7416(0x31e));_0x323ce3[_0x1b7416(0x3db)]=!![],document[_0x1b7416(0x34c)](_0x1b7416(0x3c4))[_0x1b7416(0x27d)][_0x1b7416(0x24a)]('hidden'),_0x655686['innerHTML']='',_0x3c1f1f[_0x1b7416(0x27d)]['remove'](_0x1b7416(0x3ac)),_0x3e42ea[_0x1b7416(0x1a7)]=_0x1b7416(0x57d);try{const _0x57748f=await extractTextFromPdf(_0xb0db4a);if(!_0x57748f[_0x1b7416(0x680)]())throw new Error(_0x1b7416(0x4e3));_0x3e42ea[_0x1b7416(0x1a7)]=_0x1b7416(0x5da);const _0x2e5ad8=document['getElementById'](_0x1b7416(0x68b))['checked'],_0x25fd54=_0x2e5ad8?_0x1b7416(0x4aa):'',_0x261aa7=_0x1b7416(0x514)+_0x57748f+_0x1b7416(0xf3)+_0x25fd54+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1b7416(0x3be),_0x41936b={'type':_0x1b7416(0x111),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1b7416(0x400),'enum':[_0x1b7416(0x3aa),_0x1b7416(0x6a1)]},'options':{'type':_0x1b7416(0x1ab),'items':{'type':_0x1b7416(0x400)}},'correctAnswerIndex':{'type':_0x1b7416(0x3d7)},'idealAnswer':{'type':_0x1b7416(0x400)},'explanation':{'type':_0x1b7416(0x400)},'imageCode':{'type':'STRING'}},'required':[_0x1b7416(0xdd),'questionType',_0x1b7416(0x2f6)]},_0x119626={'type':_0x1b7416(0x111),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1b7416(0x1ab),'items':_0x41936b}},'required':[_0x1b7416(0x122),_0x1b7416(0x53f)]};await handleApiCall(_0x261aa7,_0x1b7416(0x31c),_0x119626);}catch(_0xc09108){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0xc09108),showMessage(_0x1b7416(0x368)+_0xc09108[_0x1b7416(0x243)]),_0x655686['innerHTML']=_0x1b7416(0x18f);}finally{_0x3c1f1f[_0x1b7416(0x27d)][_0x1b7416(0x256)]('hidden'),_0x323ce3[_0x1b7416(0x3db)]=![];}}async function handleRegenerateQuestionInEditor(_0xaa67b9){const _0x57cd14=_0x1894c9;if(currentEditingQuizData===null)return;const _0x4b78b0=document['querySelector'](_0x57cd14(0x15e)+_0xaa67b9+'\x22]');_0x4b78b0&&(_0x4b78b0['innerHTML']=_0x57cd14(0x67b));const _0x9ac4ac=currentEditingQuizData[_0x57cd14(0x53f)][_0xaa67b9],_0x9546a1=currentEditingQuizData[_0x57cd14(0x122)],_0x430795=_0x9ac4ac['questionType'],_0x2ff297={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x57cd14(0x1ab),'items':{'type':_0x57cd14(0x400)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x57cd14(0x400)}},'required':[_0x57cd14(0xdd),_0x57cd14(0x146),_0x57cd14(0x5f9),_0x57cd14(0x2f6)]},_0x17259d={'type':_0x57cd14(0x111),'properties':{'questionText':{'type':_0x57cd14(0x400)},'idealAnswer':{'type':_0x57cd14(0x400)},'explanation':{'type':_0x57cd14(0x400)}},'required':['questionText',_0x57cd14(0x1b3),_0x57cd14(0x2f6)]};let _0x361fa4,_0x978c27='';_0x430795==='multiple_choice'?(_0x361fa4=_0x2ff297,_0x978c27='แบบปรนัย\x204\x20ตัวเลือก'):(_0x361fa4=_0x17259d,_0x978c27=_0x57cd14(0x5be));const _0x3378cb=_0x57cd14(0x58f)+_0x9546a1+_0x57cd14(0x10b)+_0x978c27+_0x57cd14(0x2a4)+(_0x9ac4ac[_0x57cd14(0xdd)]||_0x9ac4ac[_0x57cd14(0x223)])+_0x57cd14(0x41c)+simpleMathPrompt;try{const _0x5c7f64=await callAnalysisApi(_0x3378cb,_0x361fa4);currentEditingQuizData[_0x57cd14(0x53f)][_0xaa67b9]={..._0x9ac4ac,..._0x5c7f64},renderQuizEditor(currentEditingQuizData);}catch(_0xfc5a0f){console[_0x57cd14(0x370)]('Error\x20regenerating\x20question\x20in\x20editor:',_0xfc5a0f),showMessage(_0x57cd14(0x309)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x507fe3=_0x1894c9,_0x35c76b=document[_0x507fe3(0x34c)]('mode-switcher-btn');currentMode==='student'?(currentMode='admin',_0x35c76b[_0x507fe3(0x282)]=_0x507fe3(0x181),_0x35c76b[_0x507fe3(0x374)]=_0x507fe3(0x6aa),showView('admin-dashboard')):(currentMode=_0x507fe3(0x2b6),_0x35c76b[_0x507fe3(0x282)]=_0x507fe3(0x496),_0x35c76b[_0x507fe3(0x374)]=_0x507fe3(0x203),showView(_0x507fe3(0x2b6)));}function handleAdminLogin(){const _0x1e985b=_0x1894c9,_0x5747ec=document['getElementById'](_0x1e985b(0x534)),_0x15d5cd=document['getElementById']('password-error-msg');if(_0x5747ec[_0x1e985b(0x387)]===_0x1e985b(0x59d)){adminPasswordModal['classList'][_0x1e985b(0x256)](_0x1e985b(0x3ac)),_0x5747ec[_0x1e985b(0x387)]='',_0x15d5cd[_0x1e985b(0x27d)][_0x1e985b(0x256)](_0x1e985b(0x3ac)),currentMode='admin';const _0x2971bb=document[_0x1e985b(0x34c)]('mode-switcher-btn');_0x2971bb[_0x1e985b(0x282)]=_0x1e985b(0x181),_0x2971bb[_0x1e985b(0x374)]=_0x1e985b(0x6aa),showView(_0x1e985b(0x332));}else _0x15d5cd['classList'][_0x1e985b(0x24a)](_0x1e985b(0x3ac)),_0x5747ec[_0x1e985b(0x387)]='';}function switchProjectTab(_0x33a740){const _0x2fff10=_0x1894c9;['manage',_0x2fff10(0x3ea),_0x2fff10(0x419)]['forEach'](_0x566ccf=>{const _0x30c92e=_0x2fff10;document[_0x30c92e(0x34c)](_0x566ccf+_0x30c92e(0x2f1))[_0x30c92e(0x27d)]['remove'](_0x30c92e(0x293)),document[_0x30c92e(0x34c)](_0x566ccf+'-tab-content')['classList'][_0x30c92e(0x256)](_0x30c92e(0x3ac));}),document['getElementById'](_0x33a740+_0x2fff10(0x2f1))[_0x2fff10(0x27d)][_0x2fff10(0x256)](_0x2fff10(0x293)),document[_0x2fff10(0x34c)](_0x33a740+_0x2fff10(0x54c))[_0x2fff10(0x27d)][_0x2fff10(0x24a)]('hidden');}function switchQuizDetailTab(_0x34e6a8){const _0x539715=_0x1894c9,_0x2d46d6={'analytics':{'btn':_0x539715(0x663),'content':_0x539715(0x592)},'scores':{'btn':_0x539715(0x3ad),'content':_0x539715(0x2c3)},'leaderboard-quiz':{'btn':_0x539715(0x4cb),'content':_0x539715(0x47e)}};for(const _0x48c20b in _0x2d46d6){document[_0x539715(0x34c)](_0x2d46d6[_0x48c20b][_0x539715(0x36c)])[_0x539715(0x27d)][_0x539715(0x24a)](_0x539715(0x293)),document[_0x539715(0x34c)](_0x2d46d6[_0x48c20b][_0x539715(0x3ee)])[_0x539715(0x27d)]['add'](_0x539715(0x3ac));}document[_0x539715(0x34c)](_0x2d46d6[_0x34e6a8][_0x539715(0x36c)])[_0x539715(0x27d)][_0x539715(0x256)](_0x539715(0x293)),document[_0x539715(0x34c)](_0x2d46d6[_0x34e6a8][_0x539715(0x3ee)])[_0x539715(0x27d)][_0x539715(0x24a)](_0x539715(0x3ac));}function showMessage(_0x10c49a){const _0xb200ab=_0x1894c9;modalMessage['textContent']=_0x10c49a,messageModal[_0xb200ab(0x27d)][_0xb200ab(0x24a)](_0xb200ab(0x3ac));}function showConfirmation(_0x3ceb88,_0x215d77){const _0x128588=_0x1894c9;document[_0x128588(0x34c)](_0x128588(0x4b5))[_0x128588(0x1a7)]=_0x3ceb88,document[_0x128588(0x34c)](_0x128588(0x391))['querySelector']('h3')[_0x128588(0x1a7)]=_0x128588(0x64e),confirmAction=_0x215d77,confirmationModal[_0x128588(0x27d)][_0x128588(0x24a)](_0x128588(0x3ac));}function listenForProjects(){const _0x179502=_0x1894c9,_0x27741f=collection(db,_0x179502(0x59b)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x27741f,_0x38cd3a=>{const _0x213b50=_0x179502;allProjects=_0x38cd3a[_0x213b50(0x5de)]['map'](_0x29d1ed=>({'id':_0x29d1ed['id'],..._0x29d1ed[_0x213b50(0x192)]()})),renderProjects();},_0x1931a2=>{const _0x16e4fc=_0x179502;console[_0x16e4fc(0x370)](_0x16e4fc(0x105),_0x1931a2),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0x16d582=_0x1894c9,_0x497186=document['getElementById'](_0x16d582(0xe3))[_0x16d582(0x387)][_0x16d582(0x34b)](),_0x55a5a3=document['getElementById']('project-sort-select')[_0x16d582(0x387)];let _0xcd4e0e=allProjects[_0x16d582(0x46c)](_0x464081=>_0x464081[_0x16d582(0x191)][_0x16d582(0x34b)]()[_0x16d582(0x17e)](_0x497186));_0xcd4e0e['sort']((_0xee7107,_0x77a018)=>{const _0x4ed99e=_0x16d582;switch(_0x55a5a3){case _0x4ed99e(0x306):return _0xee7107[_0x4ed99e(0x191)][_0x4ed99e(0x10c)](_0x77a018[_0x4ed99e(0x191)],'th');case _0x4ed99e(0x177):return _0x77a018[_0x4ed99e(0x191)][_0x4ed99e(0x10c)](_0xee7107[_0x4ed99e(0x191)],'th');case _0x4ed99e(0x3d5):return new Date(_0xee7107[_0x4ed99e(0x57f)])-new Date(_0x77a018[_0x4ed99e(0x57f)]);case'date_desc':default:return new Date(_0x77a018['createdAt'])-new Date(_0xee7107[_0x4ed99e(0x57f)]);}});const _0x1bda85={};await Promise[_0x16d582(0x26f)](_0xcd4e0e[_0x16d582(0x4ed)](async _0xf6643b=>{const _0x53844d=_0x16d582,_0x1296b7=query(collection(db,_0x53844d(0x59b)+appId+_0x53844d(0x138)),where(_0x53844d(0x45b),'==',_0xf6643b['id'])),_0xca6f8=await getDocs(_0x1296b7);_0x1bda85[_0xf6643b['id']]=_0xca6f8['size'];}));let _0x445528='';starredQuizzes['length']>0x0&&(_0x445528+=_0x16d582(0x6a7)+starredQuizzes[_0x16d582(0x284)]+_0x16d582(0x570)),_0xcd4e0e['forEach'](_0x2e26bd=>{const _0x1887a3=_0x16d582,_0x576762=_0x1bda85[_0x2e26bd['id']]??0x0;_0x445528+=_0x1887a3(0x540)+_0x2e26bd['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>'+_0x2e26bd[_0x1887a3(0x191)]+_0x1887a3(0x21c)+new Date(_0x2e26bd[_0x1887a3(0x57f)])[_0x1887a3(0x2b5)]('th-TH')+_0x1887a3(0x541)+_0x576762+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2e26bd['id']+_0x1887a3(0x1e9)+_0x2e26bd[_0x1887a3(0x191)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),projectList[_0x16d582(0x282)]=_0x445528,noProjectsMsg['classList'][_0x16d582(0x56b)]('hidden',_0x445528[_0x16d582(0x284)]>0x0);}document['getElementById'](_0x1894c9(0x1c5))[_0x1894c9(0xd5)]('click',async()=>{const _0xc21da0=_0x1894c9,_0x2e1162=document[_0xc21da0(0x34c)](_0xc21da0(0x18c)),_0x3f03a2=_0x2e1162[_0xc21da0(0x387)][_0xc21da0(0x680)]();if(!_0x3f03a2){showMessage(_0xc21da0(0x48c));return;}try{const _0x57b78b=doc(collection(db,_0xc21da0(0x59b)+appId+_0xc21da0(0x2d2)));await setDoc(_0x57b78b,{'projectName':_0x3f03a2,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0xc21da0(0x42a),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0xc21da0(0x42a),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0xc21da0(0x366)]()}),_0x2e1162[_0xc21da0(0x387)]='',createProjectModal['classList'][_0xc21da0(0x256)](_0xc21da0(0x3ac)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x265e71){console[_0xc21da0(0x370)](_0xc21da0(0x102),_0x265e71),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x1894c9(0xd5)]('click',async _0x29c72d=>{const _0x2e8c24=_0x1894c9,_0x202393=_0x29c72d['target'][_0x2e8c24(0x322)](_0x2e8c24(0x389)),_0x59ab9e=_0x29c72d[_0x2e8c24(0x405)][_0x2e8c24(0x322)](_0x2e8c24(0x315));if(_0x202393){const _0x2986a5=_0x202393[_0x2e8c24(0x53a)]['id'];_0x2986a5===_0x2e8c24(0xca)?showStarredProjectView():(currentProjectId=_0x2986a5,await loadProjectDetails(currentProjectId),showView(_0x2e8c24(0x68f)));}else{if(_0x59ab9e){const _0x58c7fb=_0x59ab9e[_0x2e8c24(0x53a)]['id'],_0x18b070=_0x59ab9e[_0x2e8c24(0x53a)][_0x2e8c24(0x642)];showConfirmation(_0x2e8c24(0x25c)+_0x18b070+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x58c7fb));}}});function showStarredProjectView(){const _0x5e3a1d=_0x1894c9;currentProjectId=_0x5e3a1d(0x4c5),currentProjectData=null,projectTitle[_0x5e3a1d(0x1a7)]=_0x5e3a1d(0x63f),projectIdDisplay[_0x5e3a1d(0x1a7)]=_0x5e3a1d(0x358),showView(_0x5e3a1d(0x68f)),manageTab[_0x5e3a1d(0x27d)][_0x5e3a1d(0x256)]('hidden'),leaderboardTab[_0x5e3a1d(0x27d)]['add'](_0x5e3a1d(0x3ac)),switchProjectTab(_0x5e3a1d(0x3ea)),renderQuizzes();}async function loadProjectDetails(_0x1816ad){const _0x2d350a=_0x1894c9,_0x27eca7=doc(db,_0x2d350a(0x59b)+appId+_0x2d350a(0x2d2),_0x1816ad),_0x14162a=await getDoc(_0x27eca7);if(_0x14162a['exists']()){manageTab[_0x2d350a(0x27d)][_0x2d350a(0x24a)](_0x2d350a(0x3ac)),leaderboardTab[_0x2d350a(0x27d)][_0x2d350a(0x24a)](_0x2d350a(0x3ac)),currentProjectData=_0x14162a[_0x2d350a(0x192)](),projectTitle['textContent']=currentProjectData[_0x2d350a(0x191)],projectIdDisplay[_0x2d350a(0x1a7)]=_0x1816ad;const _0x57b04c=currentProjectData[_0x2d350a(0x5c1)]||{};document[_0x2d350a(0x34c)]('num-questions')[_0x2d350a(0x387)]=_0x57b04c['defaultNumQuestions']||0x5,document[_0x2d350a(0x34c)](_0x2d350a(0x101))[_0x2d350a(0x387)]=_0x57b04c[_0x2d350a(0x684)]||0x4,document[_0x2d350a(0x34c)](_0x2d350a(0x50f))[_0x2d350a(0x387)]=_0x57b04c['defaultPassingScore']||Math['floor']((_0x57b04c[_0x2d350a(0x4e8)]||0x5)/0x2),document[_0x2d350a(0x34c)]('passing-score-input')[_0x2d350a(0x3fc)]=_0x57b04c[_0x2d350a(0x4e8)]||0x5,document['getElementById'](_0x2d350a(0x2dc))[_0x2d350a(0x387)]=_0x57b04c['resultsDisplay']||_0x2d350a(0x688),document['getElementById'](_0x2d350a(0x35e))[_0x2d350a(0x387)]=_0x57b04c[_0x2d350a(0x1a2)]||_0x2d350a(0x42a);const _0x328c24=_0x57b04c['timerMode']||_0x2d350a(0x42a),_0x59f372=_0x57b04c[_0x2d350a(0x4c4)]||0xa,_0x1ad35b=document['getElementById'](_0x2d350a(0x26b)),_0x11a96a=document[_0x2d350a(0x34c)]('timer-duration-container'),_0x1ea001=document['getElementById'](_0x2d350a(0x690));_0x1ad35b[_0x2d350a(0x387)]=_0x328c24,_0x1ea001[_0x2d350a(0x387)]=_0x59f372;_0x328c24===_0x2d350a(0x42a)?_0x11a96a[_0x2d350a(0x27d)][_0x2d350a(0x256)]('hidden'):_0x11a96a[_0x2d350a(0x27d)][_0x2d350a(0x24a)](_0x2d350a(0x3ac));_0x1ad35b['dispatchEvent'](new Event(_0x2d350a(0x2a0)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1816ad),listenForProjectQuizzes(_0x1816ad),listenForStudentProfiles(_0x1816ad);}else showMessage(_0x2d350a(0x4a0)),showView(_0x2d350a(0x332));}async function handleDeleteProject(_0x123733){const _0xfc12f9=_0x1894c9;try{const _0x17517c=writeBatch(db),_0x3ee5e3=collection(db,_0xfc12f9(0x59b)+appId+'/public/data/quizzes'),_0x480eba=query(_0x3ee5e3,where(_0xfc12f9(0x45b),'==',_0x123733)),_0x1970b9=await getDocs(_0x480eba);for(const _0x3dd4bd of _0x1970b9[_0xfc12f9(0x5de)]){const _0x2916e4=collection(db,'artifacts/'+appId+_0xfc12f9(0x1c0)+_0x3dd4bd['id']+_0xfc12f9(0x5ba)),_0x2132a7=await getDocs(_0x2916e4);_0x2132a7['forEach'](_0x14a7d0=>{const _0x351a94=_0xfc12f9;_0x17517c[_0x351a94(0x467)](_0x14a7d0[_0x351a94(0x4f5)]);}),_0x17517c['delete'](_0x3dd4bd[_0xfc12f9(0x4f5)]);}const _0x2a0d3c=collection(db,_0xfc12f9(0x59b)+appId+_0xfc12f9(0x5aa)+_0x123733+'/studentProfiles'),_0xaa2082=await getDocs(_0x2a0d3c);_0xaa2082[_0xfc12f9(0x36d)](_0x1591b6=>{const _0x4e7729=_0xfc12f9;_0x17517c[_0x4e7729(0x467)](_0x1591b6[_0x4e7729(0x4f5)]);});const _0x41b93f=doc(db,'artifacts/'+appId+_0xfc12f9(0x2d2),_0x123733);_0x17517c[_0xfc12f9(0x467)](_0x41b93f),await _0x17517c[_0xfc12f9(0x4da)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0xfc12f9(0x332));}catch(_0x278e6d){console[_0xfc12f9(0x370)]('Error\x20deleting\x20project:',_0x278e6d),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x1894c9(0x34c)](_0x1894c9(0x255))[_0x1894c9(0xd5)]('click',async()=>{const _0x1f73f4=_0x1894c9;if(!currentProjectId)return;const _0x5c65c4={'defaultNumQuestions':parseInt(document[_0x1f73f4(0x34c)](_0x1f73f4(0x245))[_0x1f73f4(0x387)]),'defaultNumChoices':parseInt(document[_0x1f73f4(0x34c)](_0x1f73f4(0x101))[_0x1f73f4(0x387)]),'defaultPassingScore':parseInt(document[_0x1f73f4(0x34c)]('passing-score-input')['value']),'resultsDisplay':document['getElementById'](_0x1f73f4(0x2dc))[_0x1f73f4(0x387)],'shuffleSetting':document[_0x1f73f4(0x34c)](_0x1f73f4(0x35e))[_0x1f73f4(0x387)],'timerMode':document[_0x1f73f4(0x34c)](_0x1f73f4(0x26b))[_0x1f73f4(0x387)],'timerDuration':parseInt(document[_0x1f73f4(0x34c)](_0x1f73f4(0x690))[_0x1f73f4(0x387)])};try{const _0x2aa7d7=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x2aa7d7,{'settings':_0x5c65c4}),showMessage(_0x1f73f4(0x278));}catch(_0x41465d){console[_0x1f73f4(0x370)](_0x1f73f4(0x3f4),_0x41465d),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x8d8c73){const _0x2a710c=doc(db,'artifacts/'+appId+'/public/data/projects',_0x8d8c73);unsubscribeStudentsListener=onSnapshot(_0x2a710c,_0x24d36c=>{if(_0x24d36c['exists']()){const _0xa433cb=_0x24d36c['data']();currentProjectData=_0xa433cb,renderStudentList(_0xa433cb['students']||[]);}});}function renderStudentList(_0x14acc9){const _0x2a8c88=_0x1894c9,_0x2e3cf2=document[_0x2a8c88(0x34c)](_0x2a8c88(0x2b8));_0x14acc9[_0x2a8c88(0x284)]===0x0?(studentList[_0x2a8c88(0x282)]=_0x2a8c88(0x445),_0x2e3cf2[_0x2a8c88(0x27d)]['add']('hidden')):(studentList['innerHTML']=_0x14acc9['map'](_0x4e94e7=>_0x2a8c88(0xe4)+_0x4e94e7+_0x2a8c88(0x6b6)+_0x4e94e7+_0x2a8c88(0x5ac))[_0x2a8c88(0x5cb)](''),_0x2e3cf2[_0x2a8c88(0x27d)][_0x2a8c88(0x24a)](_0x2a8c88(0x3ac)));}document[_0x1894c9(0x34c)](_0x1894c9(0x61e))[_0x1894c9(0xd5)](_0x1894c9(0x5a4),async()=>{const _0xd7e90b=_0x1894c9;if(!currentProjectId)return;const _0x22ccac=document[_0xd7e90b(0x34c)](_0xd7e90b(0x19e)),_0x3807e7=_0x22ccac[_0xd7e90b(0x387)][_0xd7e90b(0x680)]();if(!_0x3807e7){showMessage(_0xd7e90b(0x46a));return;}const _0x3a7dca=_0x3807e7[_0xd7e90b(0x1fc)]('\x0a')[_0xd7e90b(0x4ed)](_0xf6ac2f=>_0xf6ac2f[_0xd7e90b(0x680)]())[_0xd7e90b(0x46c)](_0x3b39c2=>_0x3b39c2);if(_0x3a7dca[_0xd7e90b(0x284)]===0x0)return;try{const _0x90310a=doc(db,_0xd7e90b(0x59b)+appId+'/public/data/projects',currentProjectId),_0x20aece=await getDoc(_0x90310a);if(_0x20aece[_0xd7e90b(0x113)]()){const _0x29d038=_0x20aece[_0xd7e90b(0x192)]()[_0xd7e90b(0x4cf)]||[],_0x5c04e1=[...new Set([..._0x29d038,..._0x3a7dca])];await updateDoc(_0x90310a,{'students':_0x5c04e1}),_0x22ccac[_0xd7e90b(0x387)]='';}}catch(_0x1fdcaa){console['error'](_0xd7e90b(0x318),_0x1fdcaa),showMessage(_0xd7e90b(0x162));}});function handleDeleteStudent(_0x1c5409){const _0x3a4661=_0x1894c9;showConfirmation(_0x3a4661(0xf2)+_0x1c5409+_0x3a4661(0x643),async()=>{const _0x58b2fd=_0x3a4661;if(!currentProjectId||!currentProjectData)return;const _0x26670c=currentProjectData[_0x58b2fd(0x4cf)][_0x58b2fd(0x46c)](_0x35a8c7=>_0x35a8c7!==_0x1c5409);try{const _0xe1d8b0=doc(db,_0x58b2fd(0x59b)+appId+_0x58b2fd(0x2d2),currentProjectId),_0x274007=doc(db,_0x58b2fd(0x59b)+appId+_0x58b2fd(0x5aa)+currentProjectId+_0x58b2fd(0x2b4),_0x1c5409),_0x396696=writeBatch(db);_0x396696[_0x58b2fd(0x68a)](_0xe1d8b0,{'students':_0x26670c}),_0x396696['delete'](_0x274007),await _0x396696[_0x58b2fd(0x4da)]();}catch(_0x1833f0){console[_0x58b2fd(0x370)](_0x58b2fd(0xfb),_0x1833f0),showMessage(_0x58b2fd(0x562));}});}function handleDeleteAllStudents(){const _0x2e94c8=_0x1894c9;showConfirmation(_0x2e94c8(0x515),async()=>{const _0x272953=_0x2e94c8;if(!currentProjectId)return;try{const _0x1cf81e=doc(db,_0x272953(0x59b)+appId+_0x272953(0x2d2),currentProjectId),_0xfd94ef=collection(db,_0x272953(0x59b)+appId+_0x272953(0x5aa)+currentProjectId+_0x272953(0x2b4)),_0x2aeb41=await getDocs(_0xfd94ef),_0x5bc66b=writeBatch(db);_0x5bc66b[_0x272953(0x68a)](_0x1cf81e,{'students':[]}),_0x2aeb41[_0x272953(0x36d)](_0x430106=>_0x5bc66b['delete'](_0x430106[_0x272953(0x4f5)])),await _0x5bc66b[_0x272953(0x4da)]();}catch(_0x227282){console['error']('Error\x20deleting\x20all\x20students:',_0x227282),showMessage(_0x272953(0x59f));}});}async function handleGenerateFromFileClick(){const _0x529953=_0x1894c9;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x24d786=document[_0x529953(0x34c)](_0x529953(0x14a)),_0x14c1b8=document[_0x529953(0x34c)](_0x529953(0x36b)),_0x1fa30f=document[_0x529953(0x34c)](_0x529953(0x289)),_0x31303c=document[_0x529953(0x34c)](_0x529953(0x40b));_0x31303c[_0x529953(0x3db)]=!![],document[_0x529953(0x34c)](_0x529953(0x3c4))[_0x529953(0x27d)]['remove'](_0x529953(0x3ac)),_0x1fa30f[_0x529953(0x282)]='',_0x24d786[_0x529953(0x27d)]['remove'](_0x529953(0x3ac)),_0x14c1b8[_0x529953(0x1a7)]=_0x529953(0x5eb);const _0x1f4ec6=new FileReader();_0x1f4ec6[_0x529953(0x11a)](selectedFile),_0x1f4ec6[_0x529953(0x157)]=async()=>{const _0x4577e8=_0x529953;try{const _0x2d654d=_0x1f4ec6['result'][_0x4577e8(0x1fc)](',')[0x1],_0x4e1968=selectedFile['type'];await generateQuizFromFile(_0x4e1968,_0x2d654d);}catch(_0xcf9da){console[_0x4577e8(0x370)](_0x4577e8(0x56a),_0xcf9da),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0xcf9da[_0x4577e8(0x243)]),_0x24d786[_0x4577e8(0x27d)]['add']('hidden');}finally{}},_0x1f4ec6['onerror']=_0x4fa1fe=>{const _0x537603=_0x529953;console[_0x537603(0x370)]('FileReader\x20error:',_0x4fa1fe),showMessage(_0x537603(0x549)),_0x24d786[_0x537603(0x27d)]['add'](_0x537603(0x3ac)),_0x31303c[_0x537603(0x3db)]=![];};}function autoFormatMath(_0x596ca8){const _0xd62ee4=_0x1894c9;if(typeof _0x596ca8!=='string'||!_0x596ca8)return _0x596ca8;const _0x2e40f9=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x5e8b0f=_0x596ca8[_0xd62ee4(0x3d1)](_0x2e40f9,_0x26d87e=>{return'$'+_0x26d87e['trim']()+'$';});return _0x5e8b0f;}function sanitizeQuizData(_0x161da9){const _0x1993be=_0x1894c9;if(!_0x161da9||!_0x161da9[_0x1993be(0x53f)])return _0x161da9;const _0x2ccae3={'imes':_0x1993be(0x1ba),'div':'\x5cdiv'},_0x1dab2c=_0x1958c9=>{const _0x3375cf=_0x1993be;if(typeof _0x1958c9!==_0x3375cf(0x480))return _0x1958c9;let _0x47f917=_0x1958c9;for(const [_0x48a7e7,_0x10eeb6]of Object[_0x3375cf(0x44a)](_0x2ccae3)){const _0x1beda2=new RegExp('\x5cb'+_0x48a7e7+'\x5cb','g');_0x47f917=_0x47f917[_0x3375cf(0x3d1)](_0x1beda2,_0x10eeb6);}return _0x47f917=_0x47f917['replace'](/\\\//g,_0x3375cf(0x3b9)),_0x47f917=_0x47f917[_0x3375cf(0x3d1)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x3375cf(0x3b9))[_0x3375cf(0x3d1)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x3375cf(0x3d1)](/÷/g,'\x5cdiv')[_0x3375cf(0x3d1)](/×/g,_0x3375cf(0x1ba)),_0x47f917=_0x47f917['replace'](/(\d)(\\frac)/g,_0x3375cf(0x123)),_0x47f917=autoFormatMath(_0x47f917),_0x47f917;};return _0x161da9['topic']&&(_0x161da9['topic']=_0x1dab2c(_0x161da9[_0x1993be(0x122)])),_0x161da9['questions'][_0x1993be(0x36d)](_0x8df0ba=>{const _0x555168=_0x1993be;_0x8df0ba[_0x555168(0xdd)]=_0x1dab2c(_0x8df0ba['questionText']),_0x8df0ba[_0x555168(0x146)]&&(_0x8df0ba['options']=_0x8df0ba[_0x555168(0x146)][_0x555168(0x4ed)](_0x1dab2c)),_0x8df0ba[_0x555168(0x2f6)]&&(_0x8df0ba[_0x555168(0x2f6)]=_0x1dab2c(_0x8df0ba[_0x555168(0x2f6)])),_0x8df0ba[_0x555168(0x223)]&&(_0x8df0ba[_0x555168(0x223)]=_0x1dab2c(_0x8df0ba['stem'])),_0x8df0ba[_0x555168(0x193)]&&(_0x8df0ba[_0x555168(0x193)]=_0x1dab2c(_0x8df0ba[_0x555168(0x193)])),_0x8df0ba[_0x555168(0x5f0)]&&(_0x8df0ba[_0x555168(0x5f0)]=_0x8df0ba[_0x555168(0x5f0)][_0x555168(0x4ed)](_0x1dab2c));}),_0x161da9;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';function _0x11ca(){const _0x3e4d0a=['live-game-view','พื้นที่สามเหลี่ยม','คะแนนเต็ม','กำลังอ่านและเตรียมไฟล์...','question-complexity-select','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สอบปกติ','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','allResponses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','$1^{\x5ccirc}','6220011nlWwqX','{$1}','คัดลอกไม่สำเร็จ','checked','correctAnswerIndex','timer-duration-container','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.cancel-edit-topic-btn','border-green-500','lastAnswerCorrect','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','student-rankings-modal','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','</option>','export-leaderboard-image-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ฐานนิยม','<div\x20id=\x22q-image-container-','ไม่พบตารางสำหรับ\x20Export','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','start-live-race-generated-btn','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(คัดลอก)\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','substring','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','quiz-editor-questions-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','bg-green-100\x20text-green-800','Error\x20saving\x20submission:','display','perseverance','specialist','add-student-btn','slice','การนับ','[*]','N/A','\x22\x20data-q-type=\x22','submission','both','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<option>กำลังโหลดโปรเจค...</option>','underline','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20worksheet:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','global-quiz-search-input','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','setAttribute','str','อนุพันธ์:\x20กฎลูกโซ่','selected-topics-count','.choice-text','PERFECT_SCORE','BOOLEAN','.edit-quiz-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','จำนวนและการดำเนินการ','</p></div>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','gamePin','th-TH','confirm-move-quiz-btn','#view-rankings-btn','แบบทดสอบที่ติดดาว','ไม่พบข้อมูลแบบทดสอบ','POST','name','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','document','\x5cfrac','</span></td>','.correctStreak','numPages','timer-duration-label','แก้ไขหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.presentation-option','open','ยืนยันการกระทำ','quiz-results-view','ศูนย์','stopPropagation','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','whole_quiz','.save-to-bank-btn','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-green-600\x20font-bold','กรุณาเลือกโปรเจคปลายทาง','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','on_fire','start-remedial-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','open-quiz-bank-btn','$1\x5ctext(','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','rgba(79,\x2070,\x20229,\x200.8)','.admin-try-quiz-list-btn','onclick','analytics-tab-btn','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','ai-quiz-app-aefee.firebaseapp.com','text-input-area','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','qIndex','modal-timer-duration-label','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','border-green-300\x20bg-green-50','\x20จาก\x20','deg','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','.lastAnswerCorrect','cos','input[type=\x22checkbox\x22]:checked','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<div><input\x20type=\x22radio\x22\x20id=\x22q','STOP','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','พีชคณิตและฟังก์ชัน','ไม่พบแบบทดสอบสำหรับรหัสนี้','presentation-short-answer-input','text/csv;charset=utf-8;','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','create-project-modal','\x20ตัวเลือก.\x20','questionStatus','รากที่สองและที่สาม','trim','สเกลและแผนที่','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','ไม่ได้ตอบ','defaultNumChoices','.quiz-bank-item','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','.live-answer-btn','show_results_and_answers','<br>','update','include-images-checkbox','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','project-detail','timer-duration-input','\x22><i\x20class=\x22fas\x20','lowerGroupNames','หน่วยความยาวและการแปลง','questionDisplayedAt','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','text-white','Error\x20listening\x20for\x20student\x20profiles:','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','submit','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','select','project-detail-view','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x5cs*\x5c(','bg-red-500','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','</span>','เปิด\x20(จับเวลา)','สลับไปโหมดนักเรียน','กรุณาป้อนหัวข้อสำหรับใบงาน','modal-timer-mode-select','add-custom-math-topic-btn','<p>','image/png','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','match','#math-topics-checkbox-container\x20input:checked','อัตราและอัตราหน่วย','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','145ltagjZ','attempts','leq','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','sort','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','link-url-input','<div\x20class=\x22','blueprint-tab','.quiz-result-card','cancel-global-live-btn','\x22,\x20','.draggable-text','project-list','bg-white/30','addEventListener','fa-user-astronaut\x20text-blue-700','promise','การจัดกลุ่มข้อมูล','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','results-tab-content','/public/data/liveGames','fill_in_the_blank','questionText','_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','project-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่สามารถโหลดรายการโปรเจคได้','cancel-quiz-status-btn','API\x20call\x20failed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x5csqrt{$1}','jspdf','การลบ','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','raw','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qType','การบวก','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','doughnut','Error\x20deleting\x20student:','student-project-leaderboard-table-body','comeback_king','insertAdjacentHTML','<tr\x20class=\x22','height','num-choices','Error\x20creating\x20project:','scheduled_pending','หน่วยมวล/น้ำหนักและการแปลง','Error\x20listening\x20for\x20projects:','getContext','rename-quiz-input','ผู้เชี่ยวชาญ','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x22\x20ให้เป็นคำถามประเภท\x20\x22','localeCompare','push','font-bold\x20text-red-700\x20line-through','log','question-analytics-container','OBJECT','จำนวนคู่:','exists','modal-results-display-select','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','schedule','text-red-700\x20bg-red-100','QUICK_THINKER','readAsDataURL','href','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','autoTable','\x22\x20สำเร็จ','สมการยกกำลัง','ย้ายแบบทดสอบสำเร็จ','topic','$1\x20\x5cfrac','studentName','<div\x20class=\x22loader\x20mx-auto\x22></div>','quizType','passingScore','5924632QmYcQB','isArray','keys','ลำดับเลขคณิต\x20(AP)','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','สมการราก\x20(radical)','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','border-green-700','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','back-from-results-btn','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','ร้อยละพื้นฐาน','เปลี่ยนชื่อแบบทดสอบสำเร็จ','project-id-display','earned-badges-container','/public/data/quizzes','size','uid','[data-topic-container-id]','table','next-live-question-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','results-quiz-title','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-action-buttons','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','times','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราการเปลี่ยนแปลงทันที','some','loader','Authentication\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20status:','Leaderboard\x20update\x20transaction\x20failed:\x20','modal-timer-duration-input','ไฮเพอร์โบลา','</td>','คัดลอกรหัสแล้ว!','function','per-q-countdown','onload','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','modal-adaptive-quiz-checkbox','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบสมการเชิงเส้นสองตัวแปร','พื้นที่ใต้กราฟ/ระหว่างกราฟ','.question-editor-item[data-q-index=\x22','.sort-indicator','กำลังสร้างแบบทดสอบจากหัวข้อ...','project-sort-select','ไม่สามารถเพิ่มนักเรียนได้','เส้นตรง:\x20ขนาน/ตั้งฉาก','totalQuestions','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','analytics','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','วงรี','typesetPromise','การลบเศษส่วน','ส่งคำตอบ','สร้างแบบทดสอบปรนัย','ฟังก์ชันยกกำลัง','querySelectorAll','Error\x20saving\x20quiz:','timer-bar','\x22\x20value=\x22true\x22\x20','bank-quiz-search-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','name_desc','touchmove','ai-quiz-generator-v3','files','Original\x20quiz\x20not\x20found','ดอทโปรดักต์\x20(dot)','</body></html>','includes','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','quiz-end-time','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','fa-bolt\x20text-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','check-presentation-answer-btn','/questionBank','confirm-quiz-settings-btn','แบบทดสอบนี้หมดเวลาแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-shuffle-select','preventDefault','.answeredCurrentQuestion','project-name-input','10235792mZHiox','width','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','จำนวนนักเรียน','projectName','data','correctResponse','removeChild','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','focus','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-quiz-list','touchcancel','<i\x20class=\x22fas\x20fa-save\x22></i>','asc','student-name-input','ลบแบบทดสอบสำเร็จแล้ว','innerText','slide-counter','shuffleSetting','draggable-text','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','textContent','เส้นจำนวน','Error\x20moving\x20quiz:','</td></tr>','ARRAY','correctStreak','เกิดข้อผิดพลาดในการเข้าร่วมเกม','quiz-search-input','td,\x20th','clientX','presentation-slide-container','sum','idealAnswer','delete-svg-btn','สร้างแบบทดสอบ','export-leaderboard-pdf-btn','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','\x20คนที่ส่ง\x20ตอบถูก\x20(','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x5ctimes','rows','input[type=\x22text\x22]','student-name-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','toDataURL','/public/data/quizzes/','red','\x20\x20\x20-\x20คำตอบ:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','icon','confirm-create-project-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','Error\x20fetching\x20quiz\x20settings:','true','left','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','#results-table','get','mouseleave','generate-from-link-btn','Error\x20loading\x20quiz\x20for\x20student:','https://corsproxy.io/?','confirm-quiz-status-btn','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','กรุณาใส่ชื่อใหม่','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','fas\x20fa-bookmark','parts','num-choices-container','rename-quiz-modal','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ON_FIRE','.live-answer-btn,\x20#live-submit-short-answer-btn','ring-purple-400','<i\x20class=\x22fas\x20fa-pen\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results','การคูณเศษส่วน','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x22\x20data-name=\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','สร้างคำถามแบบใช่/ไม่ใช่','live-game','createObjectURL','อนุพันธ์:\x20กฎพื้นฐาน','รูปสี่เหลี่ยมและสมบัติ','removeEventListener','กรุณาวาง\x20URL\x20ของบทความก่อน','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','close-game-final-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','ไม่มีคำอธิบาย','math-topics-checkbox-container','points','/users/','split','#per-question-options\x20textarea','กรุณาป้อนรหัสแบบทดสอบ','bg-red-100\x20text-red-800','repeat','Enter','ทฤษฎีบทพื้นฐานของแคลคูลัส','สลับไปโหมดผู้ควบคุม','find','\x5cpm','$1^{\x5ccirc}\x5ctext{C}','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','first_try_ace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','back-to-student-initial-btn','ระบบเลขและค่าประจำหลัก','text/html','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','Error\x20starting\x20game:','resultsDisplay','quiz-type-select','quiz-status-options','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','quiz-leaderboard-table-container','quiz-status-modal','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','worksheet-topic-input','ส่วนเบี่ยงเบนเฉลี่ย','correctAnswer','ฟังก์ชันค่าสัมบูรณ์','$1^{$2}','stem','upperGroupNames','คะแนน','copy-quiz-id-btn','results_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความชันและเส้นตรง','classStrengths','มุมและการวัดมุม','พิสัย','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','podium','flex','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','ระยะเวลา\x20(วินาที):','math-topic-search-input','generate-from-topic-btn','COMEBACK_KING','force-math-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','no-projects-msg','กราฟแท่ง\x20กราฟเส้น','Error\x20showing\x20quiz\x20detail\x20view:','sin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','กำลังสร้างรูปภาพ...','binom','ลิมิต','contains','[data-is-correct=\x22true\x22]','text-indigo-700','message','.edit-custom-topic-btn','num-questions','project-dashboard-view','Error\x20deleting\x20custom\x20topic:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','.quiz-settings-btn','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answeredCurrentQuestion','helvetica','<textarea\x20name=\x22question','countdown-display','submittedAt','การเรียงสับเปลี่ยน\x20(Permutation)','quiz-bank-count','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','save-settings-btn','add','แผนภาพเวนน์','ระยะเวลา\x20(นาที):','worksheet-tab','results-table','หัวข้อที่สร้างเอง','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','การแจกแจงทวินาม\x20(พื้นฐาน)','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','AI\x20grading\x20failed:','เกิดข้อผิดพลาดในการอัปเดตสถานะ','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','lobby','cursor','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','manual_release','line-through\x20text-red-700','timer-mode-select','ไม่พบข้อมูลผู้ใช้','เส้นรอบรูป','แบบทดสอบซ่อมเสริม','all','.regenerate-question-editor-btn','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','text-tab','players.','topic-input','promptFeedback','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','บันทึกการตั้งค่าแล้ว','เกมสิ้นสุดลงแล้ว','opacity','results-table-container','modal-passing-score-input','classList','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','imageCode','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','keyup','เกิดข้อผิดพลาดในการลบหัวข้อ','prod','ปริพันธ์จำกัด','generated-quiz-container','การยืนยันตัวตนล้มเหลว','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','geq','ส่งแล้ว','text-green-900','currentQuestionIndex','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','active','fa-dumbbell\x20text-gray-700','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','อุณหภูมิและการแปลง','คณิตศาสตร์','<div\x20class=\x22flex-1\x22></div>','isRemedial','user-id-display','change','<span\x20title=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','label[for=\x22num-questions\x22]','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x22\x20value=\x22false\x22\x20','ค่าเสื่อมราคา','ไม่สามารถโหลดข้อมูลอันดับได้','undefined','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','score','Invalid\x20response\x20structure\x20from\x20AI:','/studentProfiles','toLocaleDateString','student','\x5cle','delete-all-students-btn','Error\x20adding\x20custom\x20topic:','close','text','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled','.duplicate-quiz-btn','perQuestionStats','div','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','scores-tab-content','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','Error\x20renaming\x20quiz:','ย้าย','matching_item','.topic-name-display','admin-view','answering','question','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','/public/data/projects','.quiz-bank-present-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p><div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','results-display-select','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','default','ไม่พบแบบทดสอบ','Error\x20displaying\x20question\x20bank:','isAdaptive','_opt1\x22\x20name=\x22question','\x20ชุด)','font-bold\x20text-green-700','teacherSuggestions','start-game-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการค่าสัมบูรณ์',')\x5cb)','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','getScreenCTM','\x20ใหม่...','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','กรุณาเลือกโปรเจคที่ต้องการบันทึก','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','-tab','quiz-settings-modal','input[name=\x22status-option\x22]','student-view','q-image-container-','explanation','.png','ผู้ไม่ยอมแพ้','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','จำนวนเต็มบวก','เรขาคณิตวิเคราะห์','mixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','.delete-custom-topic-btn','\x22.\x20Ideal\x20Answer:\x20\x22','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','student-quiz-leaderboard-table-body','.ql-editor','confirm-delete-btn','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','แก้ระบบสมการด้วยเมทริกซ์','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prev-question-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','close-student-rankings-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','แก้ไขข้อนี้','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','.answer-text','G-V90KRM0L63','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','sqrt','.delete-project-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','ท็อปฟอร์ม','Error\x20adding\x20students:','download','\x5cneq','items','กำลังสร้างแบบทดสอบคู่ขนาน...','ai-quiz-app-aefee.appspot.com','generate-from-parallel-test-btn','.option-text','min','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','closest','admin-password-modal','\x0a---\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','overallGroups','ยอดเยี่ยม','then','save','\x20คะแนน','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','originalQuestion','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','file-input-area','#student-project-leaderboard-content\x20thead','total','quiz-schedule-end-container','admin-dashboard','ใช่','finishReason','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','เกิดข้อผิดพลาดในการลบแบบทดสอบ','1448328SBEYOx','</div>','badges','fill_in_with_choices','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','เกิดข้อผิดพลาดในการสร้างใบงาน','move-quiz-project-select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ไม่ใช่','จากเนื้อหาต่อไปนี้:\x20\x22','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','146508VJSsKq','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','custom-math-topic-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','data:application/vnd.ms-word;charset=utf-8,','toLowerCase','getElementById','ring-2','ความเท่ากันทุกประการของสามเหลี่ยม','body','ฮิสโตแกรม','modal-message','Error\x20duplicating\x20quiz:','quiz','สัญกรณ์วิทยาศาสตร์','file-upload-input','จำนวนเต็มลบ','fa-pen','pinned-items','execCommand','ร้อยละประยุกต์','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<p\x20class=\x22','shuffle-setting-select','\x20mx-1\x20text-lg\x22></i></span>','quiz-start-time','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerMode','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','toISOString','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','เกิดข้อผิดพลาด:\x20','targetId','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','loader-text','btn','forEach','.topic-row','adaptive-quiz-checkbox','error','file-tab','tan','Error\x20generating\x20from\x20link:','title','ความต่อเนื่อง','.quiz-bank-try-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','.star-quiz-btn','เลือกโปรเจคเพื่อบันทึก','อสมการเชิงเส้น','neq','isCorrect','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','auto','Error\x20updating\x20quiz\x20status:','การคูณทศนิยม','การประยุกต์เวกเตอร์พื้นฐาน','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','questionType','category','value','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','.project-card-content','reduce','bar','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','blockReason','start-quiz-btn','close-presentation-btn','confirmation-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแยกตัวประกอบ','FIRST_TRY_ACE','Error\x20updating\x20quiz\x20settings:','เซียนสมองไว','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','ปิดใช้งาน','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','lower_group_count','reference-pdf-upload','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','730035SPCYtl','startTime','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','remedialContent',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','$1\x5c%','multiple_choice','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hidden','scores-tab-btn','true_false','export-leaderboard-excel-btn','วงกลม:\x20สมการและสมบัติ','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','stringify','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','fullscreenElement','live-options-container','\x20หัวข้อ)','application/json','\x5cdiv','กฎของไซน์','index','Error\x20listening\x20for\x20custom\x20math\x20topics:','สมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','arrayBuffer','global-live-game-modal','button','[role=\x22textbox\x22]','Copy\x20command\x20failed','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เรเดียนและการแปลงหน่วย','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','false','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','mousedown','ผ่าน','.topic-category','editor-quiz-topic','choices_only','topic-tab','replace','global-live-game-count','cancel-quiz-edits-btn','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','date_asc','ย้ายแบบทดสอบไปโปรเจคอื่น','NUMBER','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manage','disabled','players','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','การลบทศนิยม','Error\x20during\x20class\x20analysis:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','leaderboard-table-body','border-red-300\x20bg-red-50','http://www.w3.org/2000/svg','คณิตการเงิน/บูรณาการ','per_question','input[type=\x22radio\x22]:checked','results','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answers','content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','querySelector','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-edits-btn','back-to-home-manual-release','ค.ร.น.\x20(LCM)','max','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','STRING','โดเมนและเรนจ์','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','target','select-all-topics-btn','มัธยฐาน','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','quick_thinker','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','ระยะจากจุดถึงเส้นตรง','style','block','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การวัด','สถิติและความน่าจะเป็น','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.topic-actions-edit','leaderboard','ค่าคลาดเคลื่อนของการวัด','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','\x22.\x20','show_results_only','quiz-schedule-start-container','กำลังดึงข้อมูลจากลิงก์...','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','set','touches','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fas\x20fa-user-edit','เปิดใช้งาน','กำลังวิเคราะห์ข้อสอบ\x20\x22','none','.csv','Error\x20opening\x20quiz\x20editor:','การบวกเศษส่วน','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>','text-purple-600','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','ค่าสัมบูรณ์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','per-question-timer-container','(^|[^\x5c\x5c])\x5cb','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','leaderboard-quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffffff','quiz-id-input','badgesCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','1940734XkNhuV','.start-live-race-btn','Invalid\x20response\x20structure\x20from\x20AI.','#F59E0B','รอเปิด','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','submissions','load-quiz-btn','entries','project-title','topic-input-area','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','จำนวนคละ','currentTarget','matching','$1\x5ctext{','.start-presentation-list-btn','label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li\x20class=\x22','ดอกเบี้ยทบต้น','empty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','projectId','อัปเดตสถานะสำเร็จ','\x22\x20value=\x22','leaderboard_','ความน่าจะเป็นแบบมีเงื่อนไข','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','API\x20call\x20failed\x20with\x20status:\x20','student-project-leaderboard-content','student-result-area','พาราโบลา','Error\x20saving\x20quiz\x20edits:','การหารเศษส่วน','delete','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','from','กรุณาใส่ชื่อนักเรียน','input[name=\x22question_single\x22]:checked','filter','setAttributeNS','/public/data/customMathTopics','perfect_score','totalPoints','katex','fa-shield-alt\x20text-gray-600','quizId','dataIndex','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x20/\x20','ชื่อหัวข้อห้ามว่าง','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','project-quizzes-list','ราชาคัมแบ็ก','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','เกี่ยวกับหัวข้อ\x20\x22','leaderboard-quiz-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','string','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','generate-from-text-btn','ชนิดของข้อมูลและการเก็บข้อมูล','createElement','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','ปรับเพิ่ม/ลดเป็นร้อยละ','student-quiz-area','สมการเหตุผล\x20(rational)','cancel-quiz-edits-btn-footer','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','.pdf','กรุณาใส่ชื่อโปรเจค','</div><div\x20class=\x22space-y-2\x22>','copy','manage-tab-content','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','bg-blue-100\x20text-blue-800','values','การกระจายและการจัดหมู่','ผลรวมอนุกรม\x20(Σ)','position','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','confirm-rename-quiz-btn','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','desc','Error\x20deleting\x20quiz:','link-tab','เศษส่วน\x20(ย่อ/ขยาย)','student-quiz-leaderboard-content','dfrac','ไม่พบโปรเจค','ดูสรุปผล','Adaptive\x20flow\x20failed:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','quiz-bank-modal','.copy-quiz-id-list-btn','บันทึกการตั้งค่าสำเร็จ','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.delete-quiz-btn','</p>','(เลือกแล้ว\x20','\x20mr-2\x22></i>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','รูปแบบการให้เหตุผล','thead\x20.sortable-header','toLocaleString','presentation-modal','confirmation-message','Firebase\x20initialization\x20failed:','circle','live-short-answer-input','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','back-to-dashboard-from-results-btn','analyze-strengths-btn','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','กำลังสร้างคำถามข้อ\x20','fa-fire\x20text-orange-500','next-question-btn','กฎของโคไซน์','appendChild','timerDuration','starred','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','ข้อที่\x20','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','leaderboard-quiz-tab-btn','\x5cfrac{$1}{$2}','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','Error\x20saving\x20to\x20question\x20bank:','students','toString','ตอบถูกทุกข้อในแบบทดสอบนี้','parallel-test-upload-input','revealed','admin','presentation-ai-result','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','จำนวนเชิงซ้อน\x20(เสริม)','fill_in_no_choices','เพิ่มหัวข้อ\x20\x22','commit','quiz-editor-modal','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','difficulty-level-select','cancel-move-quiz-btn','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-counter','touchend','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ควรปรับปรุง','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','defaultNumQuestions','modal-timer-duration-container','ความชันเส้นสัมผัส','</label>\x0a\x20\x20\x20\x20</div>\x0a','(ไม่มีชื่อ)','map','q-text-','player-count','json','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','Error\x20toggling\x20star\x20status:','ref','game-pin-input','ความสัมพันธ์ของมุม','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','originalQuestionText','แคลคูลัสเบื้องต้น','key','\x20คู่\x20','เงินงวด\x20(อนุกรมเงินงวด)','exitFullscreen','thead','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','per-question-options','<div\x20class=\x22mb-3\x20topic-category\x22>','endTime','อนุพันธ์:\x20ผลคูณ/ผลหาร','สมการตรีโกณมิติ','$1\x5cfrac','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','หมดเวลาสำหรับข้อนี้!','confirm-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','create-project-btn','abs','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','passing-score-input','export-leaderboard-word-btn','ai-quiz-app-aefee','input[type=\x22checkbox\x22]','Error\x20generating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','.save-custom-topic-btn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','write','ฟังก์ชันพหุนาม','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20','ความคาดหมาย\x20(Expected\x20value)','เกิดข้อผิดพลาดในการโหลดสถานะ','ผู้ควบคุม\x20(ทดสอบ)','MathJax\x20typeset\x20error\x20(analytics):','```json','answer','สร้างคำถามแบบเติมคำในช่องว่าง','admin-try-quiz-btn','getBBox','bg-purple-50','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','contentEditable','circ','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','border-4','เกิดข้อผิดพลาดในการติดดาว','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','</span></div>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','admin-password-input','next-question-timed-btn','\x20ข้อ\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ปริพันธ์ไม่จำกัด','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','worksheet-input-area','รูปสแควร์รูท\x20(surd)','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','getDocument','),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-300','bg-green-500','generated-quiz-actions','text-blue-700\x20bg-blue-100','destroy','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','-tab-content','bestScore','parse','option','ความคล้ายของรูป','อัตราส่วนและสัดส่วน','generate-from-blueprint-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','firstScore','กฎบวกและกฎคูณ','.move-quiz-btn','</li>','description','textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','#10B981','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','viewBox','ส่วนเบี่ยงเบนมาตรฐาน','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เกิดข้อผิดพลาดในการลบนักเรียน','.regenerate-question-btn','toDate','\x22\x20data-topic=\x22','analytics-summary-cards','\x20\x20\x20-\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20processing\x20file\x20for\x20AI:','toggle','ลำดับการดำเนินการ\x20(PEMDAS)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','button[type=\x22submit\x22]','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x20\x0a\x20\x20\x20\x20','กรุณาเลือกชื่อของคุณ','ค่าความจริง/ตารางค่าความจริง','save-quiz-btn','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','font-bold','input','.quiz-bank-parallel-btn','isStarred','upper_group_count','s;\x22\x20title=\x22','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','createdAt','.delete-svg-btn','.score','กราฟฟังก์ชันตรีโกณ','Failed\x20to\x20parse\x20JSON\x20from\x20AI','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','แผนภาพกล่อง\x20(box\x20plot)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','status','user','.quiz-status-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ไม่มี','เกิดข้อผิดพลาดในการบันทึก','คำถามถัดไป','[contenteditable=\x22true\x22]','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','bank-input-area','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','analytics-tab-content','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-text-','.\x20แต่ละข้อมี\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20fetching\x20projects\x20for\x20move:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','artifacts/','ตั้งเวลา\x20(เปิด)','2741','```','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','.rename-quiz-btn','click','pointsLastQuestion','cancel-test-btn','ตรีโกณมิติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','overline','/public/data/projects/','ownerSVGElement','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','classWeaknesses','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','strength-weakness-analysis-container','ตอบถูก\x203\x20ข้อติดต่อกัน','<tr><td\x20colspan=\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','outerHTML','\x5ctext{$1}','เกิดข้อผิดพลาดในการสร้างห้องเกม','/submissions','shuffle','สมการเชิงเส้นตัวแปรเดียว','message-modal','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','print','settings','การบวกทศนิยม','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','normal','instructions','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','<li>','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','getAttributeNS','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','MathJax','เรขาคณิต','ข้อต่อไป','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','beforeend','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','.doc','inactive','student-quiz-leaderboard-tab','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','toFixed','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','docs','^{\x5ccirc}\x5ctext{C}$','getPage','startsWith','createElementNS','PERSEVERANCE','latestScore','.sortable-header','text-green-700\x20bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'];_0x11ca=function(){return _0x3e4d0a;};return _0x11ca();}async function handleGenerateFromLink(){const _0x2d38c5=_0x1894c9,_0x290189=document[_0x2d38c5(0x34c)](_0x2d38c5(0xcc)),_0x974c77=document['getElementById']('link-topic-input'),_0x568aca=_0x290189[_0x2d38c5(0x387)][_0x2d38c5(0x680)](),_0x3fc19a=_0x974c77[_0x2d38c5(0x387)][_0x2d38c5(0x680)]();if(!_0x568aca){showMessage(_0x2d38c5(0x1f2));return;}const _0x1119c1=document[_0x2d38c5(0x34c)]('loader'),_0x2b7b64=document[_0x2d38c5(0x34c)](_0x2d38c5(0x36b)),_0x90dbe8=document[_0x2d38c5(0x34c)](_0x2d38c5(0x289)),_0x2c5fae=document['getElementById'](_0x2d38c5(0x1ce));document['getElementById']('quiz-generation-area')['classList'][_0x2d38c5(0x24a)](_0x2d38c5(0x3ac)),_0x90dbe8[_0x2d38c5(0x282)]='',_0x1119c1[_0x2d38c5(0x27d)][_0x2d38c5(0x24a)](_0x2d38c5(0x3ac)),_0x2b7b64[_0x2d38c5(0x1a7)]=_0x2d38c5(0x41f),_0x2c5fae[_0x2d38c5(0x3db)]=!![];try{const _0x51885f=_0x2d38c5(0x1d0)+encodeURIComponent(_0x568aca),_0x3d45ac=await fetch(_0x51885f);if(!_0x3d45ac['ok'])throw new Error(_0x2d38c5(0x1a4)+_0x3d45ac[_0x2d38c5(0x587)]+')');const _0x469341=await _0x3d45ac[_0x2d38c5(0x2bb)](),_0x4b1580=extractTextFromHtml(_0x469341);if(!_0x4b1580||_0x4b1580[_0x2d38c5(0x284)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x3fc19a,_0x4b1580);}catch(_0x1072eb){console[_0x2d38c5(0x370)](_0x2d38c5(0x373),_0x1072eb),showMessage(_0x2d38c5(0x368)+_0x1072eb[_0x2d38c5(0x243)]),_0x90dbe8[_0x2d38c5(0x282)]=_0x2d38c5(0x29a);}finally{_0x1119c1[_0x2d38c5(0x27d)]['add'](_0x2d38c5(0x3ac)),_0x2c5fae['disabled']=![];}}function extractTextFromHtml(_0x21ba60){const _0x10a618=_0x1894c9,_0x262517=new DOMParser()['parseFromString'](_0x21ba60,_0x10a618(0x211));return _0x262517[_0x10a618(0x16f)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x10a618(0x36d)](_0xf320d2=>_0xf320d2[_0x10a618(0x24a)]()),_0x262517[_0x10a618(0x34f)][_0x10a618(0x1a7)]||'';}document[_0x1894c9(0x34c)](_0x1894c9(0x233))['addEventListener']('click',()=>{const _0x5d49fd=_0x1894c9,_0x4735ec=document['getElementById'](_0x5d49fd(0x274))['value'][_0x5d49fd(0x680)]();generateQuiz(_0x4735ec,null);});async function generateQuiz(_0x23d3f0,_0x2cb959,_0x9dc06d=null){const _0x57ec86=_0x1894c9,_0x240166=document[_0x57ec86(0x34c)](_0x57ec86(0x68b))[_0x57ec86(0x5f8)],_0x1c627e=document[_0x57ec86(0x34c)](_0x57ec86(0x216))[_0x57ec86(0x387)],_0x34a3ed=document[_0x57ec86(0x34c)]('num-questions')[_0x57ec86(0x387)],_0x36bb92=document['getElementById'](_0x57ec86(0x101))[_0x57ec86(0x387)],_0x1fa062=document[_0x57ec86(0x34c)]('force-math-checkbox')['checked'],_0x397199=_0x1fa062?'':_0x57ec86(0x29c),_0x42a561=document[_0x57ec86(0x34c)](_0x57ec86(0x4dd)),_0x17fdd0=_0x42a561[_0x57ec86(0x387)];let _0x48750f='';_0x17fdd0!==_0x57ec86(0x380)&&(_0x48750f=_0x57ec86(0x295)+_0x17fdd0+'\x22');const _0x2a3e88=document[_0x57ec86(0x34c)](_0x57ec86(0x5ec)),_0x4c47d5=_0x2a3e88['value'];let _0x1a6c8c='';_0x4c47d5!==_0x57ec86(0x2fc)&&(_0x1a6c8c=_0x57ec86(0x5dd)+_0x4c47d5+_0x57ec86(0x576));const _0x4c072f=document[_0x57ec86(0x16f)](_0x57ec86(0x6b3)),_0x1754a7=Array[_0x57ec86(0x469)](_0x4c072f)[_0x57ec86(0x4ed)](_0x1780c5=>_0x1780c5[_0x57ec86(0x387)]);let _0x4ee4e5='';_0x1754a7['length']>0x0&&(_0x4ee4e5=_0x57ec86(0x606)+_0x1754a7[_0x57ec86(0x5cb)](',\x20')+_0x57ec86(0x40e));let _0x129d97='',_0x31d838='',_0x4f7007,_0x46a442=_0x57ec86(0x47d)+_0x23d3f0+'\x22';if(!_0x23d3f0&&_0x2cb959)_0x46a442='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x23d3f0&&!_0x2cb959&&(_0x46a442=_0x57ec86(0x167));const _0x41cc57={'type':_0x57ec86(0x111),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x57ec86(0x1ab),'items':{'type':_0x57ec86(0x400)}},'correctAnswerIndex':{'type':_0x57ec86(0x3d7)},'explanation':{'type':_0x57ec86(0x400)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x57ec86(0x146),_0x57ec86(0x5f9),_0x57ec86(0x2f6)]},_0x19e529={'type':_0x57ec86(0x111),'properties':{'questionText':{'type':_0x57ec86(0x400)},'idealAnswer':{'type':_0x57ec86(0x400)},'explanation':{'type':_0x57ec86(0x400)},'imageCode':{'type':_0x57ec86(0x400)}},'required':[_0x57ec86(0xdd),'idealAnswer',_0x57ec86(0x2f6)]},_0x152c38={'type':'OBJECT','properties':{'questionText':{'type':_0x57ec86(0x400)},'questionType':{'type':_0x57ec86(0x400),'enum':[_0x57ec86(0x3aa),_0x57ec86(0x6a1)]},'options':{'type':_0x57ec86(0x1ab),'items':{'type':_0x57ec86(0x400)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x57ec86(0x400)},'explanation':{'type':_0x57ec86(0x400)},'imageCode':{'type':'STRING'}},'required':[_0x57ec86(0xdd),_0x57ec86(0x385),_0x57ec86(0x2f6)]},_0x300ba0={'type':_0x57ec86(0x111),'properties':{'questionText':{'type':_0x57ec86(0x400)},'correctAnswer':{'type':_0x57ec86(0x635)},'explanation':{'type':_0x57ec86(0x400)},'imageCode':{'type':_0x57ec86(0x400)}},'required':['questionText','correctAnswer',_0x57ec86(0x2f6)]},_0x8c7320={'type':_0x57ec86(0x111),'properties':{'questionType':{'type':_0x57ec86(0x400),'enum':[_0x57ec86(0x2ca)]},'stem':{'type':_0x57ec86(0x400)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x57ec86(0x1ab),'items':{'type':_0x57ec86(0x400)}},'explanation':{'type':_0x57ec86(0x400)},'imageCode':{'type':_0x57ec86(0x400)}},'required':['questionType',_0x57ec86(0x223),'correctResponse','allResponses','explanation']};let _0x3b69e5;if(_0x9dc06d!==null){const _0x144336=currentQuizData[_0x57ec86(0x53f)][_0x9dc06d]['questionType'],_0x539355=_0x240166?_0x57ec86(0x446):'';_0x129d97=_0x57ec86(0x5a1)+_0x46a442+'\x20'+_0x4ee4e5+'\x20'+_0x48750f+_0x57ec86(0x13e)+_0x539355+'\x20'+simpleMathPrompt;if(_0x144336==='multiple_choice')_0x4f7007=_0x41cc57;else{if(_0x144336==='matching_item')_0x4f7007={'type':'OBJECT','properties':{'questionType':{'type':_0x57ec86(0x400),'enum':[_0x57ec86(0x2ca)]},'stem':{'type':_0x57ec86(0x400)},'correctResponse':{'type':_0x57ec86(0x400)},'explanation':{'type':_0x57ec86(0x400)},'imageCode':{'type':_0x57ec86(0x400)}},'required':[_0x57ec86(0x385),'stem',_0x57ec86(0x193),_0x57ec86(0x2f6)]};else _0x4f7007=_0x19e529;}_0x3b69e5=_0x4f7007;}else{const _0x5e8b02=_0x240166?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x1c627e){case _0x57ec86(0x3aa):_0x129d97=_0x57ec86(0x16d)+_0x397199+'\x20'+_0x34a3ed+_0x57ec86(0x536)+_0x46a442+'\x20'+_0x4ee4e5+'\x20'+_0x48750f+'\x20'+_0x1a6c8c+_0x57ec86(0x596)+_0x36bb92+_0x57ec86(0x517)+_0x5e8b02+'\x20'+simpleMathPrompt,_0x4f7007=_0x41cc57;break;case _0x57ec86(0x33a):_0x129d97=_0x57ec86(0x524)+_0x397199+'\x20'+_0x34a3ed+_0x57ec86(0x536)+_0x46a442+'\x20'+_0x4ee4e5+'\x20'+_0x48750f+'\x20'+_0x1a6c8c+_0x57ec86(0x431)+_0x36bb92+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5e8b02+'\x20'+simpleMathPrompt,_0x4f7007=_0x41cc57;break;case _0x57ec86(0x4d8):_0x129d97=_0x57ec86(0x524)+_0x397199+'\x20'+_0x34a3ed+'\x20ข้อ\x20'+_0x46a442+'\x20'+_0x4ee4e5+'\x20'+_0x48750f+'\x20'+_0x1a6c8c+_0x57ec86(0x130)+_0x5e8b02+'\x20'+simpleMathPrompt,_0x4f7007=_0x19e529;break;case _0x57ec86(0x2fc):_0x129d97=_0x57ec86(0x1b5)+_0x397199+'\x20'+_0x34a3ed+_0x57ec86(0x536)+_0x46a442+'\x20'+_0x4ee4e5+'\x20'+_0x48750f+'\x20'+_0x1a6c8c+_0x57ec86(0x3a8)+_0x36bb92+_0x57ec86(0x67d)+_0x5e8b02+'\x20'+simpleMathPrompt+'.',_0x4f7007=_0x152c38;break;case _0x57ec86(0x3ae):_0x129d97=_0x57ec86(0x1ec)+_0x397199+'\x20'+_0x34a3ed+'\x20ข้อ\x20'+_0x46a442+'\x20'+_0x4ee4e5+'\x20'+_0x48750f+'\x20'+_0x1a6c8c+_0x57ec86(0x531)+_0x5e8b02+'\x20'+simpleMathPrompt,_0x4f7007=_0x300ba0;break;case _0x57ec86(0x450):_0x129d97='สร้างชุดคำถามจับคู่'+_0x397199+'\x20'+_0x34a3ed+_0x57ec86(0x4fc)+_0x46a442+'\x20'+_0x4ee4e5+'\x20'+_0x48750f+'\x20'+_0x1a6c8c+_0x57ec86(0x475)+_0x5e8b02+'\x20'+simpleMathPrompt,_0x4f7007=_0x8c7320;break;}_0x3b69e5={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4f7007}},'required':['topic','questions']};}return _0x2cb959?(_0x129d97=_0x57ec86(0x341)+_0x2cb959+_0x57ec86(0xd1)+_0x129d97,_0x31d838='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x31d838=_0x57ec86(0x160),handleApiCall(_0x129d97,_0x31d838,_0x3b69e5,_0x9dc06d);}async function generateQuizFromFile(_0x4903b5,_0x7778c9){const _0xb1ecb=_0x1894c9,_0x304acf=document[_0xb1ecb(0x34c)]('file-topic-input')['value'][_0xb1ecb(0x680)](),_0x2c2a21=document[_0xb1ecb(0x34c)](_0xb1ecb(0x216))[_0xb1ecb(0x387)],_0x37102e=document[_0xb1ecb(0x34c)](_0xb1ecb(0x245))['value'],_0x5e526c=document[_0xb1ecb(0x34c)]('num-choices')['value'],_0x20c545=document[_0xb1ecb(0x34c)](_0xb1ecb(0x68b))[_0xb1ecb(0x5f8)],_0x104531=document[_0xb1ecb(0x34c)](_0xb1ecb(0x235))[_0xb1ecb(0x5f8)],_0x5ec889=_0x104531?'':'คณิตศาสตร์';let _0x41cb2d='',_0x23e6b1,_0x327ce3=_0xb1ecb(0x47d)+_0x304acf+'\x22';!_0x304acf&&(_0x327ce3=_0xb1ecb(0x4bd));const _0x44dd04=_0x20c545?_0xb1ecb(0x58a):'';switch(_0x2c2a21){case'multiple_choice':_0x41cb2d=_0xb1ecb(0x16d)+_0x5ec889+'\x20'+_0x37102e+'\x20ข้อ\x20'+_0x327ce3+_0xb1ecb(0x596)+_0x5e526c+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x44dd04+'\x20'+simpleMathPrompt,_0x23e6b1={'type':_0xb1ecb(0x111),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0xb1ecb(0x400)}},'correctAnswerIndex':{'type':_0xb1ecb(0x3d7)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0xb1ecb(0x146),_0xb1ecb(0x5f9),'explanation']};break;case'fill_in_with_choices':_0x41cb2d='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5ec889+'\x20'+_0x37102e+_0xb1ecb(0x536)+_0x327ce3+_0xb1ecb(0x431)+_0x5e526c+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x44dd04+'\x20'+simpleMathPrompt,_0x23e6b1={'type':_0xb1ecb(0x111),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xb1ecb(0x1ab),'items':{'type':_0xb1ecb(0x400)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xb1ecb(0x400)},'imageCode':{'type':_0xb1ecb(0x400)}},'required':['questionText','options',_0xb1ecb(0x5f9),_0xb1ecb(0x2f6)]};break;case _0xb1ecb(0x4d8):_0x41cb2d=_0xb1ecb(0x524)+_0x5ec889+'\x20'+_0x37102e+_0xb1ecb(0x536)+_0x327ce3+_0xb1ecb(0x130)+_0x44dd04+'\x20'+simpleMathPrompt,_0x23e6b1={'type':_0xb1ecb(0x111),'properties':{'questionText':{'type':_0xb1ecb(0x400)},'idealAnswer':{'type':_0xb1ecb(0x400)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0xb1ecb(0xdd),'idealAnswer',_0xb1ecb(0x2f6)]};break;case _0xb1ecb(0x2fc):_0x41cb2d=_0xb1ecb(0x1b5)+_0x5ec889+'\x20'+_0x37102e+_0xb1ecb(0x536)+_0x327ce3+_0xb1ecb(0x425)+_0x5e526c+_0xb1ecb(0x67d)+_0x44dd04+'\x20'+simpleMathPrompt+_0xb1ecb(0x2dd),_0x23e6b1={'type':_0xb1ecb(0x111),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xb1ecb(0x400),'enum':['multiple_choice',_0xb1ecb(0x6a1)]},'options':{'type':'ARRAY','items':{'type':_0xb1ecb(0x400)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xb1ecb(0x400)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xb1ecb(0x400)}},'required':[_0xb1ecb(0xdd),_0xb1ecb(0x385),_0xb1ecb(0x2f6)]};break;case _0xb1ecb(0x3ae):_0x41cb2d=_0xb1ecb(0x1ec)+_0x5ec889+'\x20'+_0x37102e+'\x20ข้อ\x20'+_0x327ce3+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x44dd04+'\x20'+simpleMathPrompt,_0x23e6b1={'type':_0xb1ecb(0x111),'properties':{'questionText':{'type':_0xb1ecb(0x400)},'correctAnswer':{'type':_0xb1ecb(0x635)},'explanation':{'type':_0xb1ecb(0x400)},'imageCode':{'type':_0xb1ecb(0x400)}},'required':[_0xb1ecb(0xdd),_0xb1ecb(0x220),_0xb1ecb(0x2f6)]};break;case _0xb1ecb(0x450):_0x41cb2d='สร้างชุดคำถามจับคู่'+_0x5ec889+'\x20'+_0x37102e+'\x20คู่\x20'+_0x327ce3+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x37102e+_0xb1ecb(0x5ff)+_0x44dd04+'\x20'+simpleMathPrompt,_0x23e6b1={'type':_0xb1ecb(0x111),'properties':{'questionType':{'type':'STRING','enum':[_0xb1ecb(0x2ca)]},'stem':{'type':_0xb1ecb(0x400)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xb1ecb(0x1ab),'items':{'type':_0xb1ecb(0x400)}},'explanation':{'type':_0xb1ecb(0x400)},'imageCode':{'type':_0xb1ecb(0x400)}},'required':['questionType',_0xb1ecb(0x223),_0xb1ecb(0x193),_0xb1ecb(0x5f0),_0xb1ecb(0x2f6)]};break;}const _0x251a38={'type':_0xb1ecb(0x111),'properties':{'topic':{'type':_0xb1ecb(0x400)},'questions':{'type':_0xb1ecb(0x1ab),'items':_0x23e6b1}},'required':[_0xb1ecb(0x122),_0xb1ecb(0x53f)]},_0x2cf693='จากไฟล์ที่แนบมานี้,\x20'+_0x41cb2d,_0x213bce={'contents':[{'parts':[{'text':_0x2cf693},{'inlineData':{'mimeType':_0x4903b5,'data':_0x7778c9}}]}],'generationConfig':{'responseMimeType':_0xb1ecb(0x3b8),'responseSchema':_0x251a38}};return handleApiCall(_0x213bce[_0xb1ecb(0x25e)][0x0][_0xb1ecb(0x1dc)],_0xb1ecb(0x2ee),_0x251a38);}async function handleApiCall(_0x1c3515,_0x472c3a,_0xa567a3,_0x31a52d=null){const _0x351b46=_0x1894c9,_0x2bb639=document[_0x351b46(0x34c)](_0x351b46(0x3c4)),_0x1b1311=document[_0x351b46(0x34c)](_0x351b46(0x14a)),_0x55da78=document[_0x351b46(0x34c)](_0x351b46(0x36b)),_0x3d5818=document['getElementById'](_0x351b46(0x289));_0x2bb639[_0x351b46(0x27d)][_0x351b46(0x24a)](_0x351b46(0x3ac));_0x31a52d===null&&(_0x3d5818['innerHTML']='');_0x1b1311[_0x351b46(0x27d)][_0x351b46(0x24a)]('hidden'),_0x55da78[_0x351b46(0x1a7)]=_0x472c3a,document[_0x351b46(0x34c)](_0x351b46(0x233))[_0x351b46(0x3db)]=!![],document['getElementById'](_0x351b46(0x482))['disabled']=!![],document[_0x351b46(0x34c)](_0x351b46(0x1ce))[_0x351b46(0x3db)]=!![];try{const _0x4b9ddd={'responseMimeType':_0x351b46(0x3b8),'responseSchema':_0xa567a3},_0x208a88=Array[_0x351b46(0x129)](_0x1c3515)?_0x1c3515:[{'text':_0x1c3515}],_0x31675a={'contents':[{'role':_0x351b46(0x588),'parts':_0x208a88}],'generationConfig':_0x4b9ddd},_0x4d4019='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x5d7aee=_0x351b46(0x3a6)+_0x4d4019,_0x4fbf34=await fetch(_0x5d7aee,{'method':_0x351b46(0x641),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x31675a)});if(!_0x4fbf34['ok'])throw new Error(_0x351b46(0x461)+_0x4fbf34[_0x351b46(0x587)]);const _0xc52baf=await _0x4fbf34[_0x351b46(0x4f0)]();if(_0xc52baf[_0x351b46(0x298)]?.[0x0]?.[_0x351b46(0x3ee)]?.[_0x351b46(0x1dc)]?.[0x0]){let _0x141d94=_0xc52baf[_0x351b46(0x298)][0x0][_0x351b46(0x3ee)]['parts'][0x0][_0x351b46(0x2bb)],_0x4d184f;try{if(_0x141d94[_0x351b46(0x5e1)](_0x351b46(0x522)))_0x141d94=_0x141d94['substring'](0x7,_0x141d94[_0x351b46(0x284)]-0x3)[_0x351b46(0x680)]();else _0x141d94[_0x351b46(0x5e1)](_0x351b46(0x59e))&&(_0x141d94=_0x141d94['substring'](0x3,_0x141d94['length']-0x3)[_0x351b46(0x680)]());_0x4d184f=JSON[_0x351b46(0x54e)](_0x141d94);}catch(_0x289e23){console['error'](_0x351b46(0x583),_0x289e23,_0x141d94);throw new Error(_0x351b46(0x442));}if(_0x31a52d!==null){if(_0x4d184f[_0x351b46(0x385)]===_0x351b46(0x2ca)){const _0x23c0e8=currentQuizData[_0x351b46(0x53f)]['map'](_0xda648d=>_0xda648d[_0x351b46(0x193)]);_0x4d184f[_0x351b46(0x5f0)]=_0x23c0e8;const _0x30b210=currentQuizData[_0x351b46(0x53f)][_0x31a52d][_0x351b46(0x193)],_0x41c8f9=_0x23c0e8[_0x351b46(0x5ad)](_0x30b210);_0x41c8f9>-0x1&&(_0x23c0e8[_0x41c8f9]=_0x4d184f[_0x351b46(0x193)]),currentQuizData[_0x351b46(0x53f)][_0x351b46(0x36d)](_0x494156=>{const _0x13ed84=_0x351b46;if(_0x494156['questionType']===_0x13ed84(0x2ca))_0x494156[_0x13ed84(0x5f0)]=_0x23c0e8;});}currentQuizData[_0x351b46(0x53f)][_0x31a52d]=_0x4d184f,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x4d184f;const _0x348a84=document[_0x351b46(0x34c)]('quiz-type-select')[_0x351b46(0x387)];currentQuizData[_0x351b46(0x126)]=_0x348a84,currentQuizData[_0x351b46(0x53f)]&&currentQuizData[_0x351b46(0x53f)][_0x351b46(0x36d)](_0xa30f1f=>{const _0x15e54c=_0x351b46;if(!_0xa30f1f[_0x15e54c(0x385)]){if(_0x348a84==='fill_in_with_choices')_0xa30f1f[_0x15e54c(0x385)]='multiple_choice';else _0x348a84==='fill_in_no_choices'?_0xa30f1f[_0x15e54c(0x385)]=_0x15e54c(0x6a1):_0xa30f1f[_0x15e54c(0x385)]=_0x348a84;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x351b46(0x370)](_0x351b46(0x2b3),JSON[_0x351b46(0x3b3)](_0xc52baf));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x525d32){console[_0x351b46(0x370)](_0x351b46(0x513),_0x525d32),showMessage(_0x351b46(0x5ae)),_0x31a52d===null&&(_0x3d5818[_0x351b46(0x282)]=_0x351b46(0x490));}finally{_0x1b1311['classList'][_0x351b46(0x256)](_0x351b46(0x3ac)),document[_0x351b46(0x34c)](_0x351b46(0x233))[_0x351b46(0x3db)]=![],document['getElementById'](_0x351b46(0x482))[_0x351b46(0x3db)]=![],document[_0x351b46(0x34c)](_0x351b46(0x1ce))[_0x351b46(0x3db)]=![];const _0x1436b2=document[_0x351b46(0x34c)](_0x351b46(0x40b));_0x1436b2&&(_0x1436b2['disabled']=![]);}}function displayGeneratedQuiz(_0x5edb16){const _0x210a1f=_0x1894c9,_0x569ee1=document[_0x210a1f(0x34c)](_0x210a1f(0x289));let _0x4effe8=_0x210a1f(0x28b)+_0x5edb16[_0x210a1f(0x122)]+'</h3>';_0x5edb16['questions'][_0x210a1f(0x36d)]((_0x1db642,_0x159d7e)=>{const _0x441032=_0x210a1f,_0x437988=_0x1db642['questionType']||_0x5edb16[_0x441032(0x126)];_0x4effe8+=_0x441032(0x421)+_0x159d7e+_0x441032(0x17f)+_0x159d7e+_0x441032(0x4b0)+_0x159d7e+_0x441032(0x3ec);switch(_0x437988){case'matching_item':_0x4effe8+=_0x441032(0x5c6)+_0x159d7e+'\x22>'+(_0x159d7e+0x1)+'.\x20'+_0x1db642[_0x441032(0x223)]+_0x441032(0x4ac);_0x1db642['imageCode']&&(_0x4effe8+=_0x441032(0x60b)+_0x159d7e+_0x441032(0x32b)+_0x1db642[_0x441032(0x27f)]+_0x441032(0x338));_0x4effe8+=_0x441032(0x676)+_0x159d7e+'\x22>'+_0x1db642['correctResponse']+_0x441032(0x532),_0x4effe8+=_0x441032(0x1b9)+_0x159d7e+'\x22>'+_0x1db642[_0x441032(0x2f6)]+_0x441032(0x532);break;case _0x441032(0x6a1):_0x4effe8+=_0x441032(0x5c6)+_0x159d7e+'\x22>'+(_0x159d7e+0x1)+'.\x20'+_0x1db642['questionText']+_0x441032(0x4ac);_0x1db642['imageCode']&&(_0x4effe8+=_0x441032(0x60b)+_0x159d7e+_0x441032(0x32b)+_0x1db642['imageCode']+_0x441032(0x338));_0x4effe8+=_0x441032(0x159)+_0x159d7e+'\x22>'+_0x1db642[_0x441032(0x1b3)]+_0x441032(0x532),_0x4effe8+=_0x441032(0x1b9)+_0x159d7e+'\x22>'+_0x1db642[_0x441032(0x2f6)]+_0x441032(0x532);break;case _0x441032(0x3ae):_0x4effe8+=_0x441032(0x5c6)+_0x159d7e+'\x22>'+(_0x159d7e+0x1)+'.\x20'+_0x1db642['questionText']+_0x441032(0x4ac);_0x1db642[_0x441032(0x27f)]&&(_0x4effe8+='<div\x20id=\x22q-image-container-'+_0x159d7e+_0x441032(0x32b)+_0x1db642[_0x441032(0x27f)]+_0x441032(0x338));_0x4effe8+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x1db642[_0x441032(0x220)]===!![]?'text-green-600\x20font-bold':'')+_0x441032(0x6a3)+(_0x1db642['correctAnswer']===![]?_0x441032(0x657):'')+_0x441032(0x60d),_0x4effe8+=_0x441032(0x1b9)+_0x159d7e+'\x22>'+_0x1db642[_0x441032(0x2f6)]+'</span></div>';break;case _0x441032(0xdc):case _0x441032(0x3aa):default:_0x4effe8+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x159d7e+'\x22>'+(_0x159d7e+0x1)+'.\x20'+_0x1db642[_0x441032(0xdd)]+'</p>';_0x1db642[_0x441032(0x27f)]&&(_0x4effe8+='<div\x20id=\x22q-image-container-'+_0x159d7e+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1db642[_0x441032(0x27f)]+_0x441032(0x338));_0x4effe8+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x159d7e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1db642[_0x441032(0x146)]['map']((_0x45106c,_0xc512a4)=>_0x441032(0x456)+(_0xc512a4===_0x1db642[_0x441032(0x5f9)]?_0x441032(0x657):'')+'\x22>'+_0x45106c+_0x441032(0x557))[_0x441032(0x5cb)]('')+_0x441032(0x50b),_0x4effe8+=_0x441032(0x1b9)+_0x159d7e+'\x22>'+_0x1db642[_0x441032(0x2f6)]+_0x441032(0x532);break;}_0x4effe8+=_0x441032(0x338);}),_0x4effe8+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x569ee1[_0x210a1f(0x282)]=_0x4effe8,document[_0x210a1f(0x16f)](_0x210a1f(0x4c8))['forEach'](_0x2cc079=>_0x2cc079[_0x210a1f(0xd5)](_0x210a1f(0x5a4),handleEditQuestion)),document[_0x210a1f(0x16f)](_0x210a1f(0x563))['forEach'](_0xe1e0ba=>_0xe1e0ba[_0x210a1f(0xd5)](_0x210a1f(0x5a4),handleRegenerateQuestion)),document[_0x210a1f(0x16f)](_0x210a1f(0x654))['forEach'](_0x319b92=>_0x319b92['addEventListener'](_0x210a1f(0x5a4),handleSaveToBank)),document[_0x210a1f(0x34c)](_0x210a1f(0x575))['addEventListener'](_0x210a1f(0x5a4),saveQuiz);if(window[_0x210a1f(0x5ce)])window[_0x210a1f(0x5ce)][_0x210a1f(0x16a)]([_0x569ee1]);}function handleRegenerateQuestion(_0x514043){const _0x57a304=_0x1894c9,_0x5424e2=_0x514043[_0x57a304(0x44f)][_0x57a304(0x53a)]['index'],_0x11c125=currentQuizData['topic'];showMessage(_0x57a304(0x4bf)+(parseInt(_0x5424e2)+0x1)+_0x57a304(0x2ed)),generateQuiz(_0x11c125,null,parseInt(_0x5424e2));}function getPointerPosition(_0x423148,_0x10c1a8){const _0x11c7e1=_0x1894c9,_0x3529d6=_0x423148[_0x11c7e1(0x2ec)]();let _0x5a32b0,_0x3ee647;return _0x10c1a8[_0x11c7e1(0x423)]&&_0x10c1a8[_0x11c7e1(0x423)]['length']>0x0?(_0x5a32b0=_0x10c1a8[_0x11c7e1(0x423)][0x0][_0x11c7e1(0x1b0)],_0x3ee647=_0x10c1a8[_0x11c7e1(0x423)][0x0]['clientY']):(_0x5a32b0=_0x10c1a8[_0x11c7e1(0x1b0)],_0x3ee647=_0x10c1a8['clientY']),{'x':(_0x5a32b0-_0x3529d6['e'])/_0x3529d6['a'],'y':(_0x3ee647-_0x3529d6['f'])/_0x3529d6['d']};}function startDrag(_0x7804ff){const _0x1b1819=_0x1894c9;_0x7804ff['type']===_0x1b1819(0x292)&&_0x7804ff[_0x1b1819(0x18a)]();const _0x454d0b=_0x7804ff[_0x1b1819(0x405)][_0x1b1819(0x322)](_0x1b1819(0xd2));if(_0x454d0b){draggedSvgElement=_0x454d0b;const _0x17f835=draggedSvgElement[_0x1b1819(0x5ab)],_0x509b56=getPointerPosition(_0x17f835,_0x7804ff);svgOffset['x']=_0x509b56['x']-parseFloat(draggedSvgElement[_0x1b1819(0x5ca)](null,'x')),svgOffset['y']=_0x509b56['y']-parseFloat(draggedSvgElement[_0x1b1819(0x5ca)](null,'y'));}}function calculateItemAnalysis(_0x54605d,_0x76f776){const _0x217b05=_0x1894c9,_0x2390fa={};if(_0x76f776[_0x217b05(0x284)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x5423e3=[..._0x76f776][_0x217b05(0x6bb)]((_0xad8b96,_0x50212b)=>{const _0x9b056d=_0x217b05,_0x537e22=_0x50212b[_0x9b056d(0x5e4)]-_0xad8b96[_0x9b056d(0x5e4)];if(_0x537e22!==0x0)return _0x537e22;const _0x342d4d=_0xad8b96[_0x9b056d(0x6b8)]?.['length']||0x1,_0x227650=_0x50212b[_0x9b056d(0x6b8)]?.[_0x9b056d(0x284)]||0x1,_0x34c206=_0x342d4d-_0x227650;if(_0x34c206!==0x0)return _0x34c206;const _0x161bc7=new Date(_0xad8b96[_0x9b056d(0x264)]),_0x1a92d3=new Date(_0x50212b[_0x9b056d(0x264)]),_0x1d8e59=_0x161bc7-_0x1a92d3;if(_0x1d8e59!==0x0)return _0x1d8e59;return _0xad8b96[_0x9b056d(0x124)]['localeCompare'](_0x50212b[_0x9b056d(0x124)],'th');}),_0x39c8f8=_0x5423e3[_0x217b05(0x284)],_0x200a2d=Math['floor'](_0x39c8f8*0.33);if(_0x200a2d===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x11326c=_0x5423e3[_0x217b05(0x61f)](0x0,_0x200a2d),_0x16d2dd=_0x5423e3['slice'](-_0x200a2d),_0x49050c=_0x11326c['map'](_0x4d0b84=>_0x4d0b84[_0x217b05(0x124)]),_0x1b411a=_0x16d2dd['map'](_0x1bbabf=>_0x1bbabf['studentName']);return _0x54605d[_0x217b05(0x53f)]['forEach']((_0x4b7ac1,_0x4b2339)=>{const _0x4710b1=_0x217b05,_0x3fc57a=_0x4b7ac1[_0x4710b1(0x223)]||_0x4b7ac1['questionText'];let _0x5c85b1=0x0,_0x3713c4=0x0,_0x341f39=0x0;const _0x447be3=[],_0x306ef2=[];_0x11326c[_0x4710b1(0x36d)](_0x539fbc=>{const _0x2fc123=_0x4710b1,_0x270d14=_0x539fbc['attempts'][_0x539fbc[_0x2fc123(0x6b8)][_0x2fc123(0x284)]-0x1],_0x2abacc=_0x270d14[_0x2fc123(0x3ed)][_0x2fc123(0x204)](_0x36c49b=>_0x36c49b[_0x2fc123(0x4f9)]===_0x3fc57a)||_0x270d14[_0x2fc123(0x3ed)][_0x4b2339];_0x447be3[_0x2fc123(0x10d)]({'name':_0x539fbc[_0x2fc123(0x124)],'isCorrect':_0x2abacc?_0x2abacc[_0x2fc123(0x37c)]:![]}),_0x2abacc&&_0x2abacc[_0x2fc123(0x37c)]&&_0x3713c4++;}),_0x16d2dd[_0x4710b1(0x36d)](_0x9e948c=>{const _0x585fe7=_0x4710b1,_0x35d53c=_0x9e948c[_0x585fe7(0x6b8)][_0x9e948c['attempts']['length']-0x1],_0x3f767a=_0x35d53c[_0x585fe7(0x3ed)]['find'](_0x245c17=>_0x245c17[_0x585fe7(0x4f9)]===_0x3fc57a)||_0x35d53c[_0x585fe7(0x3ed)][_0x4b2339];_0x306ef2[_0x585fe7(0x10d)]({'name':_0x9e948c[_0x585fe7(0x124)],'isCorrect':_0x3f767a?_0x3f767a[_0x585fe7(0x37c)]:![]}),_0x3f767a&&_0x3f767a[_0x585fe7(0x37c)]&&_0x341f39++;}),_0x76f776[_0x4710b1(0x36d)](_0x3eb45e=>{const _0x4c1cdb=_0x4710b1,_0x495a5d=_0x3eb45e[_0x4c1cdb(0x6b8)][_0x3eb45e[_0x4c1cdb(0x6b8)]['length']-0x1],_0x5d19f9=_0x495a5d[_0x4c1cdb(0x3ed)][_0x4c1cdb(0x204)](_0xf0eb22=>_0xf0eb22['originalQuestionText']===_0x3fc57a)||_0x495a5d[_0x4c1cdb(0x3ed)][_0x4b2339];_0x5d19f9&&_0x5d19f9[_0x4c1cdb(0x37c)]&&_0x5c85b1++;});const _0x5c91fd=_0x39c8f8>0x0?_0x5c85b1/_0x39c8f8:0x0,_0x3a3a15=_0x200a2d>0x0?_0x3713c4/_0x200a2d-_0x341f39/_0x200a2d:0x0;_0x2390fa[_0x4b2339]={'p':_0x5c91fd,'r':_0x3a3a15,'upperGroupResponders':_0x447be3,'lowerGroupResponders':_0x306ef2};}),{'perQuestionStats':_0x2390fa,'overallGroups':{'upperGroupNames':_0x49050c,'lowerGroupNames':_0x1b411a}};}function drag(_0x69904d){const _0x370f9e=_0x1894c9;if(draggedSvgElement){_0x69904d['preventDefault']();const _0x22ea84=draggedSvgElement['ownerSVGElement'],_0x45941c=getPointerPosition(_0x22ea84,_0x69904d),_0x12abbf=_0x22ea84[_0x370f9e(0x55e)][_0x370f9e(0x1df)];let _0x267174=_0x45941c['x']-svgOffset['x'],_0x20305a=_0x45941c['y']-svgOffset['y'];const _0x346b95=draggedSvgElement[_0x370f9e(0x526)]();_0x267174=Math['max'](_0x12abbf['x'],Math[_0x370f9e(0x320)](_0x267174,_0x12abbf['x']+_0x12abbf[_0x370f9e(0x18e)]-_0x346b95[_0x370f9e(0x18e)])),_0x20305a=Math[_0x370f9e(0x3fc)](_0x12abbf['y'],Math[_0x370f9e(0x320)](_0x20305a,_0x12abbf['y']+_0x12abbf[_0x370f9e(0x100)]-_0x346b95['height'])),draggedSvgElement['setAttributeNS'](null,'x',_0x267174),draggedSvgElement[_0x370f9e(0x46d)](null,'y',_0x20305a);}}function endDrag(_0xb23e53){draggedSvgElement=null;}function handleSvgEditClick(_0x257c2e){const _0x3b8f18=_0x1894c9;if(_0x257c2e[_0x3b8f18(0x405)][_0x3b8f18(0x27d)][_0x3b8f18(0x240)](_0x3b8f18(0x1b4))){const _0x552d75=_0x257c2e[_0x3b8f18(0x405)][_0x3b8f18(0x53a)][_0x3b8f18(0x369)],_0xa25e3b=_0x257c2e[_0x3b8f18(0x44f)],_0x50ea47=_0xa25e3b[_0x3b8f18(0x3f0)]('#'+_0x552d75);_0x50ea47&&_0x50ea47[_0x3b8f18(0x24a)](),_0x257c2e[_0x3b8f18(0x405)][_0x3b8f18(0x24a)]();}}function handleEditQuestion(_0x3fb78b){const _0x36f6f7=_0x1894c9,_0x47555c=_0x3fb78b[_0x36f6f7(0x44f)],_0x277892=_0x47555c['dataset'][_0x36f6f7(0x3bb)],_0x78bef0=currentQuizData[_0x36f6f7(0x53f)][_0x277892],_0x382db6=document[_0x36f6f7(0x34c)](_0x36f6f7(0x4ee)+_0x277892),_0x30ee1b=document[_0x36f6f7(0x34c)]('q-explanation-'+_0x277892),_0x463234=document[_0x36f6f7(0x34c)](_0x36f6f7(0x2f5)+_0x277892);if(_0x47555c['innerHTML'][_0x36f6f7(0x17e)](_0x36f6f7(0x357))){_0x47555c[_0x36f6f7(0x282)]=_0x36f6f7(0x19c),_0x47555c['title']='บันทึกการแก้ไข';if(_0x382db6)_0x382db6[_0x36f6f7(0x529)]=!![];if(_0x30ee1b)_0x30ee1b['contentEditable']=!![];if(_0x463234){const _0x2d72f2=_0x463234['querySelector']('svg');if(_0x2d72f2){const _0x4eb3b6=_0x2d72f2[_0x36f6f7(0x16f)]('text');_0x4eb3b6[_0x36f6f7(0x36d)]((_0x2cc544,_0x560fb4)=>{const _0x247fd5=_0x36f6f7,_0x2c4676=_0x247fd5(0x595)+_0x277892+'-'+_0x560fb4;_0x2cc544['id']=_0x2c4676,_0x2cc544[_0x247fd5(0x27d)][_0x247fd5(0x256)](_0x247fd5(0x1a3)),_0x2cc544['style']['cursor']='move';const _0x3ae6c8=document[_0x247fd5(0x5e2)](_0x247fd5(0x3e6),_0x247fd5(0x4b7)),_0x40a51a=_0x2cc544[_0x247fd5(0x526)]();_0x3ae6c8[_0x247fd5(0x62f)]('cx',String(_0x40a51a['x']+_0x40a51a[_0x247fd5(0x18e)]+0x5)),_0x3ae6c8[_0x247fd5(0x62f)]('cy',String(_0x40a51a['y']+_0x40a51a[_0x247fd5(0x100)]/0x2-0x5)),_0x3ae6c8[_0x247fd5(0x62f)]('r','5'),_0x3ae6c8[_0x247fd5(0x62f)]('fill',_0x247fd5(0x1c1)),_0x3ae6c8['setAttribute'](_0x247fd5(0x408),'delete-svg-btn'),_0x3ae6c8[_0x247fd5(0x53a)][_0x247fd5(0x369)]=_0x2c4676,_0x2cc544['after'](_0x3ae6c8);}),_0x2d72f2[_0x36f6f7(0xd5)](_0x36f6f7(0x3cb),startDrag),_0x2d72f2[_0x36f6f7(0xd5)]('mousemove',drag),_0x2d72f2[_0x36f6f7(0xd5)]('mouseup',endDrag),_0x2d72f2['addEventListener'](_0x36f6f7(0x1cd),endDrag),_0x2d72f2[_0x36f6f7(0xd5)]('touchstart',startDrag,{'passive':![]}),_0x2d72f2['addEventListener'](_0x36f6f7(0x178),drag,{'passive':![]}),_0x2d72f2['addEventListener'](_0x36f6f7(0x4e1),endDrag),_0x2d72f2[_0x36f6f7(0xd5)]('touchcancel',endDrag),_0x2d72f2['addEventListener']('click',handleSvgEditClick);}}if(_0x382db6)_0x382db6['focus']();}else{_0x47555c[_0x36f6f7(0x282)]=_0x36f6f7(0x1e4),_0x47555c[_0x36f6f7(0x374)]=_0x36f6f7(0x30f);if(_0x382db6){_0x382db6[_0x36f6f7(0x529)]=![];const _0x4b4c88=_0x78bef0['questionType']||currentQuizData['quizType'];_0x4b4c88===_0x36f6f7(0x2ca)?_0x78bef0[_0x36f6f7(0x223)]=_0x382db6['innerText'][_0x36f6f7(0x613)](_0x382db6[_0x36f6f7(0x1a0)][_0x36f6f7(0x5ad)]('.')+0x2)[_0x36f6f7(0x680)]():_0x78bef0[_0x36f6f7(0xdd)]=_0x382db6['innerText'][_0x36f6f7(0x613)](_0x382db6['innerText'][_0x36f6f7(0x5ad)]('.')+0x2)['trim']();}_0x30ee1b&&(_0x30ee1b[_0x36f6f7(0x529)]=![],_0x78bef0[_0x36f6f7(0x2f6)]=_0x30ee1b[_0x36f6f7(0x1a0)]);if(_0x463234){const _0x1499d9=_0x463234['querySelector']('svg');if(_0x1499d9){const _0x5404cc=_0x1499d9['cloneNode'](!![]);_0x5404cc[_0x36f6f7(0x16f)](_0x36f6f7(0x580))[_0x36f6f7(0x36d)](_0x2ba0af=>_0x2ba0af['remove']()),_0x5404cc['querySelectorAll'](_0x36f6f7(0xd2))[_0x36f6f7(0x36d)](_0x375294=>{const _0x4482ec=_0x36f6f7;_0x375294[_0x4482ec(0x27d)][_0x4482ec(0x24a)](_0x4482ec(0x1a3)),_0x375294[_0x4482ec(0x410)][_0x4482ec(0x266)]=_0x4482ec(0x2df),_0x375294['removeAttribute']('id');}),_0x78bef0[_0x36f6f7(0x27f)]=_0x5404cc[_0x36f6f7(0x5b7)],_0x1499d9[_0x36f6f7(0x1f1)](_0x36f6f7(0x3cb),startDrag),_0x1499d9[_0x36f6f7(0x1f1)](_0x36f6f7(0x45a),drag),_0x1499d9[_0x36f6f7(0x1f1)](_0x36f6f7(0x52e),endDrag),_0x1499d9['removeEventListener'](_0x36f6f7(0x1cd),endDrag),_0x1499d9[_0x36f6f7(0x1f1)](_0x36f6f7(0x292),startDrag),_0x1499d9[_0x36f6f7(0x1f1)](_0x36f6f7(0x178),drag),_0x1499d9[_0x36f6f7(0x1f1)]('touchend',endDrag),_0x1499d9[_0x36f6f7(0x1f1)](_0x36f6f7(0x19b),endDrag),_0x1499d9[_0x36f6f7(0x1f1)](_0x36f6f7(0x5a4),handleSvgEditClick),_0x1499d9['querySelectorAll'](_0x36f6f7(0x580))[_0x36f6f7(0x36d)](_0x29301d=>_0x29301d[_0x36f6f7(0x24a)]()),_0x1499d9[_0x36f6f7(0x16f)]('.draggable-text')['forEach'](_0x10e50a=>{const _0x34b231=_0x36f6f7;_0x10e50a[_0x34b231(0x27d)][_0x34b231(0x24a)]('draggable-text'),_0x10e50a['style']['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x44f524){const _0x4595a7=_0x1894c9,_0x183195=document[_0x4595a7(0x34c)](_0x4595a7(0x4db)),_0x357f1e=document[_0x4595a7(0x34c)](_0x4595a7(0x615));_0x357f1e[_0x4595a7(0x282)]=_0x4595a7(0x125),_0x183195[_0x4595a7(0x27d)][_0x4595a7(0x24a)](_0x4595a7(0x3ac));try{const _0x180e1f=doc(db,'artifacts/'+appId+_0x4595a7(0x138),_0x44f524),_0x4b7cb5=await getDoc(_0x180e1f);if(!_0x4b7cb5[_0x4595a7(0x113)]())throw new Error(_0x4595a7(0x2e0));currentEditingQuizData={'id':_0x44f524,..._0x4b7cb5[_0x4595a7(0x192)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3ce91c){console[_0x4595a7(0x370)](_0x4595a7(0x42c),_0x3ce91c),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x183195[_0x4595a7(0x27d)]['add'](_0x4595a7(0x3ac));}}function renderQuizEditor(_0x42b81a){const _0x36c67e=_0x1894c9;document['getElementById'](_0x36c67e(0x3ce))['value']=_0x42b81a[_0x36c67e(0x122)];const _0x5d3601=document[_0x36c67e(0x34c)](_0x36c67e(0x615));let _0x156697=_0x42b81a[_0x36c67e(0x53f)][_0x36c67e(0x4ed)]((_0x1fc1f2,_0x22a4da)=>{const _0x52f0bc=_0x36c67e;let _0x138a1d='';const _0x42ea11=_0x1fc1f2[_0x52f0bc(0x385)]||_0x42b81a[_0x52f0bc(0x126)];switch(_0x42ea11){case _0x52f0bc(0x3aa):const _0x1745b2=(_0x1fc1f2[_0x52f0bc(0x146)]||[])['map']((_0x39d664,_0x1dbfd1)=>_0x52f0bc(0x2c5)+_0x22a4da+_0x52f0bc(0x45d)+_0x1dbfd1+'\x22\x20'+(_0x1dbfd1===_0x1fc1f2[_0x52f0bc(0x5f9)]?_0x52f0bc(0x5f8):'')+_0x52f0bc(0x2d5)+_0x39d664+_0x52f0bc(0x5fb))[_0x52f0bc(0x5cb)]('');_0x138a1d=_0x52f0bc(0x299)+_0x1745b2+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x52f0bc(0x6a1):_0x138a1d=_0x52f0bc(0x35c)+(_0x1fc1f2[_0x52f0bc(0x1b3)]||'')+_0x52f0bc(0x1d6);break;case'true_false':_0x138a1d=_0x52f0bc(0x25f)+_0x22a4da+_0x52f0bc(0x172)+(_0x1fc1f2[_0x52f0bc(0x220)]===!![]?_0x52f0bc(0x5f8):'')+_0x52f0bc(0x40a)+_0x22a4da+_0x52f0bc(0x2a7)+(_0x1fc1f2[_0x52f0bc(0x220)]===![]?_0x52f0bc(0x5f8):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x52f0bc(0x2ca):_0x138a1d=_0x52f0bc(0x1e0)+(_0x1fc1f2['correctResponse']||'')+_0x52f0bc(0x283);break;}const _0x59af04=_0x1fc1f2['questionText']||_0x1fc1f2[_0x52f0bc(0x223)]||'';return _0x52f0bc(0x626)+_0x22a4da+_0x52f0bc(0x623)+_0x42ea11+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x22a4da+0x1)+'\x20('+_0x42ea11+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x59af04+_0x52f0bc(0x1e8)+_0x138a1d+_0x52f0bc(0x4df);})[_0x36c67e(0x5cb)]('');_0x5d3601[_0x36c67e(0x282)]=_0x156697;}async function handleSaveChanges(){const _0x54c7ef=_0x1894c9,_0x1b59f7=document[_0x54c7ef(0x34c)](_0x54c7ef(0x3f9));_0x1b59f7['disabled']=!![],_0x1b59f7[_0x54c7ef(0x282)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x5aa0a0=document[_0x54c7ef(0x34c)](_0x54c7ef(0x3ce))[_0x54c7ef(0x387)],_0x6696fe=document[_0x54c7ef(0x16f)](_0x54c7ef(0xee));let _0x22e4f8=[];const _0x4cc24f=Array[_0x54c7ef(0x469)](_0x6696fe)[_0x54c7ef(0x4ed)]((_0x21d8ad,_0x2a3e71)=>{const _0x1f9aea=_0x54c7ef,_0x309c2a=_0x21d8ad[_0x1f9aea(0x53a)][_0x1f9aea(0xf7)],_0x25da6f=_0x21d8ad['querySelector'](_0x1f9aea(0x559))['value'];let _0x3cd678={'questionType':_0x309c2a};const _0x1b0b37=currentEditingQuizData[_0x1f9aea(0x53f)][_0x2a3e71];switch(_0x309c2a){case _0x1f9aea(0x3aa):_0x3cd678['questionText']=_0x25da6f;const _0x46719b=_0x21d8ad[_0x1f9aea(0x16f)](_0x1f9aea(0x1bc));_0x3cd678[_0x1f9aea(0x146)]=Array[_0x1f9aea(0x469)](_0x46719b)[_0x1f9aea(0x4ed)](_0x34e1ec=>_0x34e1ec['value']);const _0x48481a=_0x21d8ad['querySelector'](_0x1f9aea(0x3e9));_0x3cd678[_0x1f9aea(0x5f9)]=_0x48481a?parseInt(_0x48481a['value']):0x0;break;case _0x1f9aea(0x6a1):_0x3cd678['questionText']=_0x25da6f,_0x3cd678[_0x1f9aea(0x1b3)]=_0x21d8ad[_0x1f9aea(0x3f0)]('.ideal-answer-input')[_0x1f9aea(0x387)];break;case _0x1f9aea(0x3ae):_0x3cd678[_0x1f9aea(0xdd)]=_0x25da6f;const _0x4c89bd=_0x21d8ad['querySelector'](_0x1f9aea(0x3e9));_0x3cd678['correctAnswer']=_0x4c89bd?_0x4c89bd['value']===_0x1f9aea(0x1c8):!![];break;case _0x1f9aea(0x2ca):_0x3cd678[_0x1f9aea(0x223)]=_0x25da6f;const _0x35a1ba=_0x21d8ad['querySelector']('.correct-response-input');_0x3cd678[_0x1f9aea(0x193)]=_0x35a1ba?_0x35a1ba['value']:'',_0x22e4f8['push'](_0x3cd678['correctResponse']);break;default:_0x3cd678[_0x1f9aea(0xdd)]=_0x25da6f;break;}return{..._0x1b0b37,..._0x3cd678};});_0x22e4f8[_0x54c7ef(0x284)]>0x0&&_0x4cc24f[_0x54c7ef(0x36d)](_0x5e78d0=>{const _0x4e73b9=_0x54c7ef;_0x5e78d0[_0x4e73b9(0x385)]===_0x4e73b9(0x2ca)&&(_0x5e78d0[_0x4e73b9(0x5f0)]=_0x22e4f8);});const _0x20e275=doc(db,_0x54c7ef(0x59b)+appId+'/public/data/quizzes',currentEditingQuizData['id']);await updateDoc(_0x20e275,{'topic':_0x5aa0a0,'questions':_0x4cc24f}),showMessage('บันทึกการแก้ไขสำเร็จ'),document[_0x54c7ef(0x34c)](_0x54c7ef(0x4db))[_0x54c7ef(0x27d)][_0x54c7ef(0x256)](_0x54c7ef(0x3ac));}catch(_0x376bb0){console['error'](_0x54c7ef(0x465),_0x376bb0),showMessage(_0x54c7ef(0x58c));}finally{_0x1b59f7[_0x54c7ef(0x3db)]=![],_0x1b59f7[_0x54c7ef(0x282)]=_0x54c7ef(0x2af);}}async function saveQuiz(){const _0x3b046b=_0x1894c9;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3b046b(0x53f)]||!userId){showMessage(_0x3b046b(0x313));return;}const _0x1bca50=document[_0x3b046b(0x34c)]('save-quiz-btn');_0x1bca50[_0x3b046b(0x3db)]=!![],_0x1bca50[_0x3b046b(0x282)]=_0x3b046b(0x2db),currentQuizData['topic']=document[_0x3b046b(0x34c)]('editable-quiz-topic')['innerText'];try{const _0x76d2b6={'resultsDisplay':document[_0x3b046b(0x34c)](_0x3b046b(0x2dc))[_0x3b046b(0x387)],'shuffle':document[_0x3b046b(0x34c)](_0x3b046b(0x35e))[_0x3b046b(0x387)],'timerMode':document[_0x3b046b(0x34c)](_0x3b046b(0x26b))[_0x3b046b(0x387)],'timerDuration':parseInt(document[_0x3b046b(0x34c)](_0x3b046b(0x690))['value'])||0xa,'passingScore':parseInt(document[_0x3b046b(0x34c)](_0x3b046b(0x50f))['value'])||0x0,'isAdaptive':document[_0x3b046b(0x34c)](_0x3b046b(0x36f))[_0x3b046b(0x5f8)]},_0x3d2068=(currentQuizData[_0x3b046b(0x53f)]||[])['map'](_0xce23ce=>{const _0x35978b=_0x3b046b,_0x266b12=document[_0x35978b(0x34c)](_0x35978b(0x216))[_0x35978b(0x387)],_0x24b05e={'questionText':_0xce23ce[_0x35978b(0xdd)]||'','explanation':_0xce23ce['explanation']||_0x35978b(0x1f8),'questionType':_0xce23ce['questionType']||_0x266b12,'imageCode':_0xce23ce[_0x35978b(0x27f)]||null};return(_0x24b05e[_0x35978b(0x385)]==='multiple_choice'||_0x24b05e[_0x35978b(0x385)]===_0x35978b(0x33a)||_0x24b05e[_0x35978b(0x385)]===_0x35978b(0x2fc)&&_0xce23ce[_0x35978b(0x146)])&&(_0x24b05e[_0x35978b(0x146)]=_0xce23ce['options']||[],_0x24b05e[_0x35978b(0x5f9)]=_0xce23ce[_0x35978b(0x5f9)]!==undefined?_0xce23ce[_0x35978b(0x5f9)]:0x0),(_0x24b05e[_0x35978b(0x385)]===_0x35978b(0x6a1)||_0x24b05e[_0x35978b(0x385)]==='fill_in_no_choices'||_0x24b05e[_0x35978b(0x385)]===_0x35978b(0x2fc)&&_0xce23ce['idealAnswer'])&&(_0x24b05e[_0x35978b(0x1b3)]=_0xce23ce[_0x35978b(0x1b3)]||''),_0x24b05e[_0x35978b(0x385)]===_0x35978b(0x3ae)&&(_0x24b05e['correctAnswer']=_0xce23ce[_0x35978b(0x220)]===!![]),_0x24b05e[_0x35978b(0x385)]==='matching_item'&&(_0x24b05e[_0x35978b(0x223)]=_0xce23ce[_0x35978b(0x223)]||'',_0x24b05e[_0x35978b(0x193)]=_0xce23ce['correctResponse']||'',_0x24b05e[_0x35978b(0x5f0)]=_0xce23ce[_0x35978b(0x5f0)]||[]),_0x24b05e;}),_0x3cce04={'topic':currentQuizData['topic']||'แบบทดสอบไม่มีชื่อ','quizType':currentQuizData[_0x3b046b(0x126)]||_0x3b046b(0x3aa),'questions':_0x3d2068,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3b046b(0x366)](),'status':'active','settings':_0x76d2b6};let _0x1e6c23;while(!![]){_0x1e6c23=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x2c5ba7=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1e6c23));if(!_0x2c5ba7[_0x3b046b(0x113)]())break;}await setDoc(doc(db,_0x3b046b(0x59b)+appId+_0x3b046b(0x138),_0x1e6c23),_0x3cce04),currentQuizData[_0x3b046b(0x5c1)]=_0x76d2b6,currentQuizData['id']=_0x1e6c23;const _0x365dfb=document['getElementById'](_0x3b046b(0x546));_0x365dfb['innerHTML']=_0x3b046b(0x268)+_0x1e6c23+_0x3b046b(0xec),document[_0x3b046b(0x34c)](_0x3b046b(0x226))[_0x3b046b(0xd5)](_0x3b046b(0x5a4),()=>copyTextToClipboard(_0x1e6c23,_0x3b046b(0x154))),document['getElementById'](_0x3b046b(0x60e))[_0x3b046b(0xd5)]('click',()=>handleStartLiveRace(_0x1e6c23)),document[_0x3b046b(0x34c)](_0x3b046b(0x39d))['addEventListener'](_0x3b046b(0x5a4),()=>startPresentation(currentQuizData)),document[_0x3b046b(0x34c)](_0x3b046b(0x525))['addEventListener'](_0x3b046b(0x5a4),startAdminTest),showMessage(_0x3b046b(0x4f1));}catch(_0x521923){console[_0x3b046b(0x370)](_0x3b046b(0x170),_0x521923),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x1bca50[_0x3b046b(0x3db)]=![],_0x1bca50[_0x3b046b(0x282)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x5857c1=_0x1894c9,_0x4bac4c=document[_0x5857c1(0x34c)](_0x5857c1(0x5d5)),_0x3d9456=document['getElementById']('move-quiz-project-select'),_0x11dc57=_0x4bac4c[_0x5857c1(0x3f0)]('h3'),_0x3b5504=document[_0x5857c1(0x34c)]('confirm-move-quiz-btn');_0x11dc57['textContent']=_0x5857c1(0x379),_0x3b5504[_0x5857c1(0x1a7)]='เลือกและบันทึก';allProjects[_0x5857c1(0x284)]===0x0?(_0x3d9456[_0x5857c1(0x282)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x3b5504['disabled']=!![]):(_0x3d9456['innerHTML']=allProjects[_0x5857c1(0x4ed)](_0x28d65e=>'<option\x20value=\x22'+_0x28d65e['id']+'\x22>'+_0x28d65e['projectName']+_0x5857c1(0x607))['join'](''),_0x3b5504[_0x5857c1(0x3db)]=![]);_0x4bac4c[_0x5857c1(0x27d)]['remove'](_0x5857c1(0x3ac));const _0x590819=()=>{const _0x55b040=_0x5857c1,_0x39a2a7=_0x3d9456[_0x55b040(0x387)];_0x39a2a7?(currentProjectId=_0x39a2a7,_0x4bac4c['classList'][_0x55b040(0x256)]('hidden'),saveQuiz(),_0x11dc57[_0x55b040(0x1a7)]=_0x55b040(0x3d6),_0x3b5504[_0x55b040(0x1a7)]=_0x55b040(0x2c9),_0x3b5504[_0x55b040(0x1f1)](_0x55b040(0x5a4),_0x590819),_0x3b5504['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x55b040(0x2ef));};_0x3b5504[_0x5857c1(0x1f1)](_0x5857c1(0x5a4),confirmMoveQuiz),_0x3b5504[_0x5857c1(0xd5)](_0x5857c1(0x5a4),_0x590819);}function copyTextToClipboard(_0x49a524,_0x5c4fd0){const _0x49591c=_0x1894c9,_0x3a61d1=document[_0x49591c(0x484)](_0x49591c(0x559));_0x3a61d1[_0x49591c(0x387)]=_0x49a524,_0x3a61d1['style'][_0x49591c(0x495)]='fixed',_0x3a61d1['style'][_0x49591c(0x27a)]='0',document[_0x49591c(0x34f)][_0x49591c(0x4c3)](_0x3a61d1),_0x3a61d1[_0x49591c(0x196)](),_0x3a61d1[_0x49591c(0x69d)]();try{const _0x2daad2=document[_0x49591c(0x359)](_0x49591c(0x48e));showMessage(_0x2daad2?_0x5c4fd0:_0x49591c(0x5f7));}catch(_0x4c6b43){showMessage(_0x49591c(0x5f7)),console[_0x49591c(0x370)](_0x49591c(0x3c3),_0x4c6b43);}document[_0x49591c(0x34f)][_0x49591c(0x194)](_0x3a61d1);}function listenForProjectQuizzes(_0x2d1a94){const _0x4ce687=_0x1894c9,_0x4e75d3=collection(db,_0x4ce687(0x59b)+appId+_0x4ce687(0x138)),_0x15b628=query(_0x4e75d3,where('projectId','==',_0x2d1a94));unsubscribeQuizzesListener=onSnapshot(_0x15b628,async _0x487a33=>{const _0x215a1d=_0x4ce687;allQuizzes=_0x487a33['docs']['map'](_0x7139c9=>({'id':_0x7139c9['id'],..._0x7139c9[_0x215a1d(0x192)]()})),renderQuizzes();},_0x27107c=>{const _0x39d9ba=_0x4ce687;console[_0x39d9ba(0x370)]('Error\x20fetching\x20project\x20quizzes:',_0x27107c),document[_0x39d9ba(0x34c)](_0x39d9ba(0x479))[_0x39d9ba(0x282)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x56171e=_0x1894c9,_0x2de98e=document[_0x56171e(0x34c)](_0x56171e(0x479)),_0x108f70=document[_0x56171e(0x34c)](_0x56171e(0x1ae))[_0x56171e(0x387)][_0x56171e(0x34b)]();let _0x32def0;currentProjectId===_0x56171e(0x4c5)?_0x32def0=starredQuizzes:_0x32def0=allQuizzes;let _0x598182=_0x32def0[_0x56171e(0x46c)](_0x31a391=>_0x31a391[_0x56171e(0x122)][_0x56171e(0x34b)]()[_0x56171e(0x17e)](_0x108f70));_0x598182[_0x56171e(0x6bb)]((_0x3ae3ef,_0xce49ca)=>new Date(_0xce49ca[_0x56171e(0x57f)])-new Date(_0x3ae3ef[_0x56171e(0x57f)]));if(_0x598182[_0x56171e(0x284)]===0x0){_0x2de98e[_0x56171e(0x282)]=_0x56171e(0x3ff);return;}const _0x56c94c={},_0x1bb519=_0x598182[_0x56171e(0x4ed)](async _0x35999d=>{const _0x3b0b08=_0x56171e,_0x5d4c86=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x35999d['id']+_0x3b0b08(0x5ba)),_0x781e20=await getDocs(_0x5d4c86);_0x56c94c[_0x35999d['id']]=_0x781e20[_0x3b0b08(0x139)];});await Promise[_0x56171e(0x26f)](_0x1bb519);let _0x1c4643='';_0x598182[_0x56171e(0x36d)](_0x28cd4e=>{const _0x3d1b8e=_0x56171e,_0x5b39c9=_0x56c94c[_0x28cd4e['id']]||0x0,_0x34a5b4=_0x28cd4e[_0x3d1b8e(0x587)]||_0x3d1b8e(0x293),_0x295ee2=_0x28cd4e[_0x3d1b8e(0x5c1)]?.[_0x3d1b8e(0x363)]||_0x3d1b8e(0x42a);let _0x1eae34='',_0x6aebee='';const _0x5657ca=new Date();let _0x4fb1b4=_0x34a5b4;if(_0x34a5b4===_0x3d1b8e(0x2be)){const _0x3f2e0c=_0x28cd4e[_0x3d1b8e(0x3a5)]?new Date(_0x28cd4e['startTime']):null,_0x57f2d8=_0x28cd4e[_0x3d1b8e(0x503)]?new Date(_0x28cd4e[_0x3d1b8e(0x503)]):null;if(_0x57f2d8&&_0x5657ca>_0x57f2d8)_0x4fb1b4=_0x3d1b8e(0x5d7);else _0x3f2e0c&&_0x5657ca<_0x3f2e0c?_0x4fb1b4='scheduled_pending':_0x4fb1b4=_0x3d1b8e(0x293);}switch(_0x4fb1b4){case _0x3d1b8e(0x5d7):_0x1eae34=_0x3d1b8e(0x39c),_0x6aebee=_0x3d1b8e(0x118);break;case _0x3d1b8e(0x103):_0x1eae34=_0x3d1b8e(0x444),_0x6aebee=_0x3d1b8e(0x547);break;case _0x3d1b8e(0x293):_0x1eae34=_0x295ee2!==_0x3d1b8e(0x42a)?_0x3d1b8e(0x6a9):_0x3d1b8e(0x428),_0x6aebee='text-green-700\x20bg-green-100';break;default:_0x1eae34=_0x3d1b8e(0x59c),_0x6aebee=_0x3d1b8e(0x5e6);}let _0x54cd5d='';const _0x1c5d68={'day':'2-digit','month':'2-digit','year':'numeric','hour':_0x3d1b8e(0x11c),'minute':_0x3d1b8e(0x11c),'hour12':![]};_0x34a5b4===_0x3d1b8e(0x2be)&&(_0x28cd4e['startTime']&&(_0x54cd5d+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x28cd4e[_0x3d1b8e(0x3a5)])[_0x3d1b8e(0x4b3)](_0x3d1b8e(0x63c),_0x1c5d68)+_0x3d1b8e(0x4ac)),_0x28cd4e['endTime']&&(_0x54cd5d+=_0x3d1b8e(0x47b)+new Date(_0x28cd4e['endTime'])[_0x3d1b8e(0x4b3)](_0x3d1b8e(0x63c),_0x1c5d68)+'</p>')),_0x1c4643+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x28cd4e['id']+_0x3d1b8e(0x614)+_0x28cd4e['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x28cd4e['questions'][_0x3d1b8e(0x284)]+_0x3d1b8e(0x158)+new Date(_0x28cd4e['createdAt'])[_0x3d1b8e(0x4b3)](_0x3d1b8e(0x63c))+_0x3d1b8e(0x424)+_0x5b39c9+_0x3d1b8e(0x52d)+_0x54cd5d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x6aebee+'\x22>'+_0x1eae34+_0x3d1b8e(0x3f6)+_0x28cd4e['id']+_0x3d1b8e(0x5ed)+_0x28cd4e['id']+_0x3d1b8e(0x478)+(_0x28cd4e['isStarred']?'fas\x20fa-star\x20text-yellow-500':_0x3d1b8e(0x2d0))+_0x3d1b8e(0x426)+_0x28cd4e['id']+_0x3d1b8e(0x1f4)+_0x28cd4e['id']+_0x3d1b8e(0x565)+_0x28cd4e[_0x3d1b8e(0x122)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22'+_0x28cd4e['id']+_0x3d1b8e(0x3c8)+_0x28cd4e['id']+_0x3d1b8e(0x460)+_0x28cd4e['id']+_0x3d1b8e(0x2d6)+_0x28cd4e['id']+_0x3d1b8e(0x402)+_0x28cd4e['id']+_0x3d1b8e(0x24c)+_0x28cd4e['id']+_0x3d1b8e(0x197)+_0x28cd4e['id']+_0x3d1b8e(0x3b2)+_0x28cd4e['id']+_0x3d1b8e(0x65f)+_0x28cd4e['id']+_0x3d1b8e(0x565)+_0x28cd4e['topic']+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2de98e[_0x56171e(0x282)]=_0x1c4643,document[_0x56171e(0x16f)](_0x56171e(0xcf))[_0x56171e(0x36d)](_0x22df60=>{const _0xc4aa07=_0x56171e;_0x22df60['addEventListener'](_0xc4aa07(0x5a4),()=>{const _0x3f2017=_0xc4aa07,_0x5bca28=_0x22df60[_0x3f2017(0x53a)][_0x3f2017(0x473)];showQuizDetailView(_0x5bca28);});});}async function handleDuplicateQuiz(_0x1d7cf9){const _0x23ac6d=_0x1894c9;try{const _0x318bdb=doc(db,_0x23ac6d(0x59b)+appId+_0x23ac6d(0x138),_0x1d7cf9),_0x51a8ac=await getDoc(_0x318bdb);if(_0x51a8ac['exists']()){const _0x1c329d=_0x51a8ac[_0x23ac6d(0x192)](),_0x4e75f8={..._0x1c329d,'topic':_0x23ac6d(0x611)+_0x1c329d['topic'],'createdAt':new Date()[_0x23ac6d(0x366)]()};await addDoc(collection(db,_0x23ac6d(0x59b)+appId+'/public/data/quizzes'),_0x4e75f8),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x23ac6d(0x17b));}catch(_0x3c8593){console[_0x23ac6d(0x370)](_0x23ac6d(0x352),_0x3c8593),showMessage(_0x23ac6d(0x584));}}async function handleDeleteQuiz(_0x2447b4,_0x2c55ec=!![]){const _0x4fc29a=_0x1894c9;try{const _0x36c85e=writeBatch(db),_0x232650=collection(db,_0x4fc29a(0x59b)+appId+'/public/data/quizzes/'+_0x2447b4+'/submissions'),_0x212c0d=await getDocs(_0x232650);_0x212c0d[_0x4fc29a(0x36d)](_0x1e7886=>{const _0x455af5=_0x4fc29a;_0x36c85e[_0x455af5(0x467)](doc(_0x232650,_0x1e7886['id']));});const _0x5c7611=doc(db,_0x4fc29a(0x59b)+appId+_0x4fc29a(0x138),_0x2447b4);_0x36c85e[_0x4fc29a(0x467)](_0x5c7611),await _0x36c85e[_0x4fc29a(0x4da)](),_0x2c55ec&&showMessage(_0x4fc29a(0x19f));}catch(_0x338b8a){console['error'](_0x4fc29a(0x49b),_0x338b8a),_0x2c55ec&&showMessage(_0x4fc29a(0x336));}}async function showQuizDetailView(_0x3938ce){const _0x4fbe55=_0x1894c9;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4fbe55(0x166));try{const _0x12026f=doc(db,_0x4fbe55(0x59b)+appId+'/public/data/quizzes',_0x3938ce),_0x1f0a90=await getDoc(_0x12026f);if(!_0x1f0a90[_0x4fbe55(0x113)]()){showMessage(_0x4fbe55(0x640));return;}const _0x33d2b2={'id':_0x1f0a90['id'],..._0x1f0a90[_0x4fbe55(0x192)]()};currentQuizData=_0x33d2b2;const _0x3aa602=doc(db,_0x4fbe55(0x59b)+appId+'/public/data/projects',_0x33d2b2[_0x4fbe55(0x45b)]),_0x58241d=await getDoc(_0x3aa602);_0x58241d[_0x4fbe55(0x113)]()?(currentProjectData=_0x58241d[_0x4fbe55(0x192)](),currentProjectId=_0x33d2b2['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x33d2b2['projectId']);document[_0x4fbe55(0x34c)](_0x4fbe55(0x140))[_0x4fbe55(0x1a7)]=_0x33d2b2[_0x4fbe55(0x122)],document['getElementById']('results-quiz-id-display')[_0x4fbe55(0x1a7)]=_0x3938ce;const _0x5d0fde=collection(db,'artifacts/'+appId+_0x4fbe55(0x138),_0x3938ce,_0x4fbe55(0x448));unsubscribeSubmissionsListener=onSnapshot(_0x5d0fde,_0x1bbfe4=>{const _0x32996a=_0x4fbe55,_0x49c321=_0x1bbfe4['docs'][_0x32996a(0x4ed)](_0x1fcd8d=>({'id':_0x1fcd8d['id'],..._0x1fcd8d[_0x32996a(0x192)]()}));currentSubmissions=_0x49c321,renderAnalytics(_0x33d2b2,_0x49c321),renderQuizResultsTable(currentProjectData['students'],_0x49c321,_0x33d2b2),renderQuizLeaderboard(_0x49c321,_0x33d2b2,'quiz-leaderboard-table-body');}),showView(_0x4fbe55(0x1e6));}catch(_0x53953a){console[_0x4fbe55(0x370)](_0x4fbe55(0x239),_0x53953a),showMessage(_0x4fbe55(0x4af));}}function renderQuizResultsTable(_0x4032fc,_0x3fda8f,_0x5afa43){const _0x41b156=_0x1894c9,_0x278ed2=_0x3fda8f[_0x41b156(0x38a)]((_0x1a59cc,_0x5503dc)=>{const _0x3e7e17=_0x41b156;return _0x1a59cc[_0x5503dc[_0x3e7e17(0x124)]]=_0x5503dc,_0x1a59cc;},{}),_0x4b1e06=document[_0x41b156(0x34c)]('quiz-results-table-body');if(!_0x4032fc||_0x4032fc[_0x41b156(0x284)]===0x0){_0x4b1e06[_0x41b156(0x282)]=_0x41b156(0x2d1);return;}const _0x406c88=_0x5afa43[_0x41b156(0x29e)]===!![],_0x253d9d=_0x5afa43[_0x41b156(0x5c1)]?.[_0x41b156(0x127)]??-0x1;let _0xfaa595='';_0x4032fc[_0x41b156(0x36d)](_0x482139=>{const _0x5dd66b=_0x41b156,_0x5538d7=_0x278ed2[_0x482139];let _0x21a766=_0x5dd66b(0x321),_0x2806a0='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x406c88?_0x5dd66b(0x51c):_0x5dd66b(0x491))+'\x22>'+(_0x406c88?'สอบซ่อม':_0x5dd66b(0x5ee))+_0x5dd66b(0x646);if(_0x5538d7){let _0x3b9c7f;_0x406c88?_0x3b9c7f=_0x5538d7[_0x5dd66b(0x54d)]===_0x5538d7[_0x5dd66b(0x164)]:_0x3b9c7f=_0x253d9d!==-0x1&&_0x5538d7['bestScore']>=_0x253d9d;if(_0x406c88||_0x253d9d!==-0x1){const _0x5aad3a=_0x3b9c7f?_0x5dd66b(0x619):_0x5dd66b(0x1ff),_0x2b970c=_0x3b9c7f?_0x5dd66b(0x3cc):_0x5dd66b(0x361);_0x21a766='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x5aad3a+'\x22>'+_0x2b970c+_0x5dd66b(0x646);}const _0x38a2fe=_0x5dd66b(0x468)+(_0x5538d7[_0x5dd66b(0x6b8)]?.[_0x5dd66b(0x284)]||0x1)+'\x20ครั้ง)</span></td>';_0xfaa595+=_0x5dd66b(0x413)+_0x482139+_0x5dd66b(0x433)+_0x5538d7[_0x5dd66b(0x54d)]+'\x20/\x20'+_0x5538d7[_0x5dd66b(0x164)]+_0x5dd66b(0x2e8)+_0x21a766+_0x5dd66b(0x516)+_0x2806a0+_0x5dd66b(0x1d3)+_0x5538d7[_0x5dd66b(0x554)]+_0x5dd66b(0x476)+_0x5538d7[_0x5dd66b(0x164)]+_0x5dd66b(0x417)+_0x5538d7['latestScore']+_0x5dd66b(0x267)+(_0x5538d7[_0x5dd66b(0x1fa)]||0x0)+_0x5dd66b(0x2e8)+_0x38a2fe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x5538d7[_0x5dd66b(0x264)])[_0x5dd66b(0x4b3)](_0x5dd66b(0x63c))+_0x5dd66b(0x1e5);}else{const _0x21a3ab='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0xfaa595+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x482139+_0x5dd66b(0x280)+_0x2806a0+_0x5dd66b(0x459)+_0x21a3ab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x4b1e06[_0x41b156(0x282)]=_0xfaa595;}function handleRenameQuiz(_0x204a0e,_0x524f05){const _0x21f368=_0x1894c9;actionTargetId=_0x204a0e,document[_0x21f368(0x34c)](_0x21f368(0x107))[_0x21f368(0x387)]=_0x524f05,renameQuizModal[_0x21f368(0x27d)][_0x21f368(0x24a)](_0x21f368(0x3ac));}async function confirmRenameQuiz(){const _0x219e7d=_0x1894c9,_0x40ce6b=document['getElementById']('rename-quiz-input')['value'][_0x219e7d(0x680)]();if(!_0x40ce6b){showMessage(_0x219e7d(0x1d8));return;}if(!actionTargetId)return;const _0xbc349b=doc(db,_0x219e7d(0x59b)+appId+_0x219e7d(0x138),actionTargetId);try{await updateDoc(_0xbc349b,{'topic':_0x40ce6b}),showMessage(_0x219e7d(0x135)),renameQuizModal[_0x219e7d(0x27d)]['add'](_0x219e7d(0x3ac)),actionTargetId=null;}catch(_0x405f4d){console['error'](_0x219e7d(0x2c8),_0x405f4d),showMessage(_0x219e7d(0x568));}}async function handleMoveQuiz(_0x3406fb){const _0x86f303=_0x1894c9;actionTargetId=_0x3406fb;const _0x321b9f=document[_0x86f303(0x34c)](_0x86f303(0x33e));_0x321b9f[_0x86f303(0x282)]=_0x86f303(0x627),moveQuizModal[_0x86f303(0x27d)][_0x86f303(0x24a)](_0x86f303(0x3ac));try{const _0x8e4cda=collection(db,_0x86f303(0x59b)+appId+_0x86f303(0x2d2)),_0x43daab=await getDocs(_0x8e4cda),_0x5610c3=_0x43daab[_0x86f303(0x5de)]['map'](_0x2f1277=>({'id':_0x2f1277['id'],..._0x2f1277[_0x86f303(0x192)]()})),_0x45864e=_0x5610c3['filter'](_0x1b12d9=>_0x1b12d9['id']!==currentProjectId);if(_0x45864e['length']===0x0){_0x321b9f[_0x86f303(0x282)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x86f303(0x34c)](_0x86f303(0x63d))[_0x86f303(0x3db)]=!![];return;}_0x321b9f['innerHTML']=_0x45864e['map'](_0x39bbc8=>_0x86f303(0x209)+_0x39bbc8['id']+'\x22>'+_0x39bbc8[_0x86f303(0x191)]+'</option>')[_0x86f303(0x5cb)](''),document[_0x86f303(0x34c)](_0x86f303(0x63d))[_0x86f303(0x3db)]=![];}catch(_0x478e7a){console[_0x86f303(0x370)](_0x86f303(0x598),_0x478e7a),showMessage(_0x86f303(0xe5)),moveQuizModal[_0x86f303(0x27d)]['add'](_0x86f303(0x3ac));}}async function confirmMoveQuiz(){const _0x1115ee=_0x1894c9,_0x159b3e=document['getElementById'](_0x1115ee(0x33e))[_0x1115ee(0x387)];if(!_0x159b3e){showMessage(_0x1115ee(0x658));return;}if(!actionTargetId)return;const _0x82331b=doc(db,_0x1115ee(0x59b)+appId+_0x1115ee(0x138),actionTargetId);try{await updateDoc(_0x82331b,{'projectId':_0x159b3e}),showMessage(_0x1115ee(0x121)),moveQuizModal['classList'][_0x1115ee(0x256)](_0x1115ee(0x3ac)),actionTargetId=null;}catch(_0xe11cc0){console[_0x1115ee(0x370)](_0x1115ee(0x1a9),_0xe11cc0),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0xa23a28){const _0x5a65a1=_0x1894c9;actionTargetId=_0xa23a28;const _0x3b390b=doc(db,_0x5a65a1(0x59b)+appId+_0x5a65a1(0x138),_0xa23a28);try{const _0xdcfe2e=await getDoc(_0x3b390b);if(_0xdcfe2e[_0x5a65a1(0x113)]()){const _0x5d3f6e=_0xdcfe2e[_0x5a65a1(0x192)](),_0x5c9e01=_0x5d3f6e[_0x5a65a1(0x5c1)]||{},_0x48ec66=_0x5d3f6e['questions'][_0x5a65a1(0x284)];document[_0x5a65a1(0x34c)](_0x5a65a1(0x189))[_0x5a65a1(0x387)]=_0x5c9e01[_0x5a65a1(0x5bb)]||_0x5a65a1(0x42a),document['getElementById'](_0x5a65a1(0x114))['value']=_0x5c9e01[_0x5a65a1(0x215)]||_0x5a65a1(0x688),document[_0x5a65a1(0x34c)](_0x5a65a1(0x6ac))['value']=_0x5c9e01[_0x5a65a1(0x363)]||_0x5a65a1(0x42a),document['getElementById'](_0x5a65a1(0x151))[_0x5a65a1(0x387)]=_0x5c9e01['timerDuration']||0xa,document[_0x5a65a1(0x34c)](_0x5a65a1(0x27c))['value']=_0x5c9e01[_0x5a65a1(0x127)]||Math['floor'](_0x48ec66/0x2),document[_0x5a65a1(0x34c)]('modal-passing-score-input')[_0x5a65a1(0x3fc)]=_0x48ec66,document[_0x5a65a1(0x34c)](_0x5a65a1(0x15a))['checked']=_0x5c9e01[_0x5a65a1(0x2e2)]||![],document[_0x5a65a1(0x34c)](_0x5a65a1(0x6ac))['dispatchEvent'](new Event(_0x5a65a1(0x2a0))),quizSettingsModal['classList']['remove']('hidden');}else showMessage(_0x5a65a1(0x640));}catch(_0x34ebc1){console[_0x5a65a1(0x370)](_0x5a65a1(0x1c7),_0x34ebc1),showMessage(_0x5a65a1(0xd9));}}async function confirmQuizSettings(){const _0x5082bd=_0x1894c9;if(!actionTargetId)return;const _0xebfba6=doc(db,_0x5082bd(0x59b)+appId+_0x5082bd(0x138),actionTargetId),_0xb3cae0={'shuffle':document[_0x5082bd(0x34c)]('modal-shuffle-select')[_0x5082bd(0x387)],'resultsDisplay':document[_0x5082bd(0x34c)](_0x5082bd(0x114))[_0x5082bd(0x387)],'timerMode':document[_0x5082bd(0x34c)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById'](_0x5082bd(0x151))[_0x5082bd(0x387)])||0xa,'passingScore':parseInt(document['getElementById'](_0x5082bd(0x27c))[_0x5082bd(0x387)])||0x0,'passingScore':parseInt(document[_0x5082bd(0x34c)](_0x5082bd(0x27c))[_0x5082bd(0x387)])||0x0,'isAdaptive':document[_0x5082bd(0x34c)](_0x5082bd(0x15a))[_0x5082bd(0x5f8)]};try{await updateDoc(_0xebfba6,{'settings':_0xb3cae0}),showMessage(_0x5082bd(0x4a6)),quizSettingsModal[_0x5082bd(0x27d)][_0x5082bd(0x256)]('hidden'),actionTargetId=null;}catch(_0x23a5e6){console[_0x5082bd(0x370)](_0x5082bd(0x398),_0x23a5e6),showMessage(_0x5082bd(0x58c));}}async function handleQuizStatus(_0x41fbae){const _0x3abd6c=_0x1894c9;actionTargetId=_0x41fbae;const _0x1d1a07=doc(db,'artifacts/'+appId+_0x3abd6c(0x138),_0x41fbae);try{const _0x8e954d=await getDoc(_0x1d1a07);if(_0x8e954d[_0x3abd6c(0x113)]()){const _0x2ebac6=_0x8e954d['data'](),_0x3f2699=_0x2ebac6['status']||_0x3abd6c(0x293),_0x3f6608=document[_0x3abd6c(0x34c)](_0x3abd6c(0x217)),_0x32ca8a=document[_0x3abd6c(0x34c)](_0x3abd6c(0x41e)),_0x4d93f3=document[_0x3abd6c(0x34c)](_0x3abd6c(0x331));let _0x2ee92d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x3f2699==='active'?'checked':'')+_0x3abd6c(0x4c6)+(_0x3f2699===_0x3abd6c(0x5d7)?_0x3abd6c(0x5f8):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x3f2699===_0x3abd6c(0x2be)?_0x3abd6c(0x5f8):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x3f6608[_0x3abd6c(0x282)]=_0x2ee92d;const _0x5a5b8b=_0x3f2699===_0x3abd6c(0x2be);_0x32ca8a['classList'][_0x3abd6c(0x56b)](_0x3abd6c(0x3ac),!_0x5a5b8b),_0x4d93f3['classList'][_0x3abd6c(0x56b)](_0x3abd6c(0x3ac),!_0x5a5b8b),document[_0x3abd6c(0x34c)](_0x3abd6c(0x360))[_0x3abd6c(0x387)]=_0x2ebac6[_0x3abd6c(0x3a5)]?_0x2ebac6[_0x3abd6c(0x3a5)]['substring'](0x0,0x10):'',document['getElementById'](_0x3abd6c(0x180))[_0x3abd6c(0x387)]=_0x2ebac6[_0x3abd6c(0x503)]?_0x2ebac6['endTime'][_0x3abd6c(0x613)](0x0,0x10):'',_0x3f6608[_0x3abd6c(0x16f)](_0x3abd6c(0x2f3))[_0x3abd6c(0x36d)](_0x2b984e=>{const _0x136ac5=_0x3abd6c;_0x2b984e['addEventListener'](_0x136ac5(0x2a0),_0x5c969f=>{const _0x126dfc=_0x136ac5,_0x2d2933=_0x5c969f['target'][_0x126dfc(0x387)]===_0x126dfc(0x117);_0x32ca8a['classList'][_0x126dfc(0x56b)](_0x126dfc(0x3ac),!_0x2d2933),_0x4d93f3[_0x126dfc(0x27d)][_0x126dfc(0x56b)](_0x126dfc(0x3ac),!_0x2d2933);});}),quizStatusModal[_0x3abd6c(0x27d)][_0x3abd6c(0x24a)](_0x3abd6c(0x3ac));}}catch(_0x86e5ca){console['error'](_0x3abd6c(0x14f),_0x86e5ca),showMessage(_0x3abd6c(0x51f));}}async function confirmQuizStatus(){const _0xe8a0c9=_0x1894c9;if(!actionTargetId)return;const _0x172fa0=doc(db,_0xe8a0c9(0x59b)+appId+'/public/data/quizzes',actionTargetId),_0x47a8de=document[_0xe8a0c9(0x3f0)]('input[name=\x22status-option\x22]:checked');if(!_0x47a8de){showMessage(_0xe8a0c9(0x54b));return;}const _0x8b7edc=_0x47a8de[_0xe8a0c9(0x387)];let _0x9d939e={};if(_0x8b7edc===_0xe8a0c9(0x293)||_0x8b7edc===_0xe8a0c9(0x5d7))_0x9d939e={'status':_0x8b7edc,'startTime':null,'endTime':null};else{if(_0x8b7edc==='schedule'){const _0x56f82e=document[_0xe8a0c9(0x34c)](_0xe8a0c9(0x360))[_0xe8a0c9(0x387)],_0x3af3be=document[_0xe8a0c9(0x34c)]('quiz-end-time')[_0xe8a0c9(0x387)];if(!_0x56f82e&&!_0x3af3be){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x9d939e={'status':_0xe8a0c9(0x2be),'startTime':_0x56f82e?new Date(_0x56f82e)['toISOString']():null,'endTime':_0x3af3be?new Date(_0x3af3be)['toISOString']():null};}}try{await updateDoc(_0x172fa0,_0x9d939e),showMessage(_0xe8a0c9(0x45c)),quizStatusModal[_0xe8a0c9(0x27d)][_0xe8a0c9(0x256)](_0xe8a0c9(0x3ac)),actionTargetId=null;}catch(_0xde9171){console[_0xe8a0c9(0x370)](_0xe8a0c9(0x381),_0xde9171),showMessage(_0xe8a0c9(0x261));}}function listenForStudentProfiles(_0x568984){const _0x835ac0=_0x1894c9,_0x49ea6b=collection(db,'artifacts/'+appId+_0x835ac0(0x5aa)+_0x568984+_0x835ac0(0x2b4));unsubscribeStudentProfilesListener=onSnapshot(_0x49ea6b,_0x5f545b=>{const _0x23d4cd=_0x835ac0,_0xd027f7=_0x5f545b[_0x23d4cd(0x5de)][_0x23d4cd(0x4ed)](_0x562e50=>_0x562e50[_0x23d4cd(0x192)]());renderLeaderboard(_0xd027f7,_0x23d4cd(0x3e4));},_0x445200=>{const _0x44ed9a=_0x835ac0;console[_0x44ed9a(0x370)](_0x44ed9a(0x699),_0x445200),document[_0x44ed9a(0x34c)](_0x44ed9a(0x3e4))[_0x44ed9a(0x282)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x208f32,_0x2436c1){const _0x5f5a69=_0x1894c9,_0x623ac8=document[_0x5f5a69(0x34c)](_0x2436c1);if(!_0x208f32||_0x208f32[_0x5f5a69(0x284)]===0x0){_0x623ac8['innerHTML']=_0x5f5a69(0x3b1);return;}_0x208f32[_0x5f5a69(0x6bb)]((_0x322bf4,_0x5618ec)=>{const _0x3348b2=_0x5f5a69,_0x12c340=(_0x5618ec[_0x3348b2(0x470)]||0x0)-(_0x322bf4[_0x3348b2(0x470)]||0x0);if(_0x12c340!==0x0)return _0x12c340;const _0x5d97a3=(_0x5618ec[_0x3348b2(0x43d)]?.[_0x3348b2(0x61d)]||0x0)-(_0x322bf4[_0x3348b2(0x43d)]?.['specialist']||0x0);if(_0x5d97a3!==0x0)return _0x5d97a3;const _0x7fff7e=(_0x5618ec[_0x3348b2(0x43d)]?.['first_try_ace']||0x0)-(_0x322bf4[_0x3348b2(0x43d)]?.[_0x3348b2(0x20b)]||0x0);if(_0x7fff7e!==0x0)return _0x7fff7e;const _0x27b464=(_0x5618ec['badgesCount']?.[_0x3348b2(0x46f)]||0x0)-(_0x322bf4[_0x3348b2(0x43d)]?.['perfect_score']||0x0);if(_0x27b464!==0x0)return _0x27b464;const _0x3c0651=(_0x5618ec[_0x3348b2(0x43d)]?.['quick_thinker']||0x0)-(_0x322bf4[_0x3348b2(0x43d)]?.[_0x3348b2(0x40d)]||0x0);if(_0x3c0651!==0x0)return _0x3c0651;return _0x322bf4[_0x3348b2(0x124)][_0x3348b2(0x10c)](_0x5618ec[_0x3348b2(0x124)],'th');});let _0x101bce='';_0x208f32[_0x5f5a69(0x36d)]((_0x2fbd3e,_0x4612c8)=>{const _0x4e4c50=_0x5f5a69,_0x435978=_0x4612c8+0x1,_0x320ae3=_0x2fbd3e[_0x4e4c50(0x43d)]||{};let _0x1f0b70='';const _0x327123=[_0x4e4c50(0x61d),_0x4e4c50(0x46f),_0x4e4c50(0x20b),_0x4e4c50(0x40d)];_0x327123[_0x4e4c50(0x36d)](_0x7e4751=>{const _0x2cd077=_0x4e4c50;if(_0x320ae3[_0x7e4751]>0x0){const _0x2b90dd=Object['values'](BADGES)[_0x2cd077(0x204)](_0x38b83c=>_0x38b83c['id']===_0x7e4751);_0x2b90dd&&(_0x7e4751===_0x2cd077(0x61d)?_0x1f0b70+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2b90dd[_0x2cd077(0x642)]+_0x2cd077(0x3c6)+_0x2b90dd['icon']+_0x2cd077(0x296):_0x1f0b70+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2b90dd[_0x2cd077(0x642)]+'\x20('+_0x320ae3[_0x7e4751]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2b90dd['icon']+_0x2cd077(0x1eb)+_0x320ae3[_0x7e4751]+_0x2cd077(0x345));}}),_0x101bce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x435978+_0x4e4c50(0x599)+_0x2fbd3e[_0x4e4c50(0x124)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x2fbd3e[_0x4e4c50(0x470)]||0x0)+_0x4e4c50(0x599)+(_0x1f0b70||'-')+_0x4e4c50(0x539);}),_0x623ac8[_0x5f5a69(0x282)]=_0x101bce;}function renderQuizLeaderboard(_0x1f76a0,_0x42b9e1,_0x10ae85){const _0x5d199a=_0x1894c9,_0x3d0408=document['getElementById'](_0x10ae85),_0x4c6968=_0x10ae85===_0x5d199a(0x301),_0xb088=_0x42b9e1[_0x5d199a(0x53f)][_0x5d199a(0x284)],_0x14bd6e=document['getElementById'](_0x10ae85)['closest'](_0x5d199a(0x13c));if(_0x14bd6e&&!_0x4c6968){const _0x5a2319=_0x14bd6e[_0x5d199a(0x3f0)](_0x5d199a(0x4ff));_0x5a2319[_0x5d199a(0x282)]=_0x5d199a(0x395);}if(!_0x1f76a0||_0x1f76a0[_0x5d199a(0x284)]===0x0){_0x3d0408['innerHTML']=_0x5d199a(0x5b5)+(_0x4c6968?0x6:0x8)+_0x5d199a(0x485);return;}const _0xe2dd2b=[..._0x1f76a0];_0xe2dd2b[_0x5d199a(0x6bb)]((_0x98c2d8,_0x1ea85d)=>{const _0x1a867f=_0x5d199a;let _0x20b31d,_0x2c362b;switch(quizLeaderboardSortBy){case _0x1a867f(0x124):_0x20b31d=_0x98c2d8[_0x1a867f(0x124)]||'',_0x2c362b=_0x1ea85d[_0x1a867f(0x124)]||'';return quizLeaderboardSortOrder==='asc'?_0x20b31d[_0x1a867f(0x10c)](_0x2c362b,'th'):_0x2c362b[_0x1a867f(0x10c)](_0x20b31d,'th');case _0x1a867f(0x1fa):_0x20b31d=_0x98c2d8[_0x1a867f(0x1fa)]||0x0,_0x2c362b=_0x1ea85d[_0x1a867f(0x1fa)]||0x0;break;case _0x1a867f(0x6b8):_0x20b31d=_0x98c2d8[_0x1a867f(0x6b8)]?.[_0x1a867f(0x284)]||0x1,_0x2c362b=_0x1ea85d[_0x1a867f(0x6b8)]?.[_0x1a867f(0x284)]||0x1;break;case _0x1a867f(0x264):_0x20b31d=new Date(_0x98c2d8[_0x1a867f(0x264)]),_0x2c362b=new Date(_0x1ea85d[_0x1a867f(0x264)]);break;case _0x1a867f(0x54d):default:_0x20b31d=_0x98c2d8[_0x1a867f(0x54d)],_0x2c362b=_0x1ea85d[_0x1a867f(0x54d)];break;}if(_0x20b31d<_0x2c362b)return quizLeaderboardSortOrder===_0x1a867f(0x19d)?-0x1:0x1;if(_0x20b31d>_0x2c362b)return quizLeaderboardSortOrder===_0x1a867f(0x19d)?0x1:-0x1;return 0x0;});const _0x260a8d=_0x42b9e1[_0x5d199a(0x29e)]===!![],_0x38a96a=_0x42b9e1['settings']?.[_0x5d199a(0x127)]??-0x1;let _0x47f499='';_0xe2dd2b[_0x5d199a(0x36d)]((_0x434da2,_0x5c341a)=>{const _0x315217=_0x5d199a,_0x5c1039=_0x5c341a+0x1;let _0x524cee=_0x315217(0x248);if(_0x260a8d||_0x38a96a!==-0x1){let _0x2cf3f1=_0x260a8d?_0x434da2[_0x315217(0x54d)]===_0xb088:_0x434da2[_0x315217(0x54d)]>=_0x38a96a;const _0x247301=_0x2cf3f1?_0x315217(0x619):_0x315217(0x1ff),_0x3fe89f=_0x2cf3f1?_0x315217(0x3cc):_0x315217(0x361);_0x524cee=_0x315217(0x2ab)+_0x247301+'\x22>'+_0x3fe89f+_0x315217(0x646);}const _0x473ddf=_0x434da2[_0x315217(0x6b8)][_0x434da2[_0x315217(0x6b8)][_0x315217(0x284)]-0x1],_0x2e4302=(_0x473ddf[_0x315217(0x339)]||[])[_0x315217(0x4ed)](_0x27a91a=>{const _0x57ccb9=_0x315217,_0x4cb791=Object[_0x57ccb9(0x492)](BADGES)[_0x57ccb9(0x204)](_0x32cb14=>_0x32cb14['id']===_0x27a91a);return _0x4cb791?_0x57ccb9(0x2a1)+_0x4cb791[_0x57ccb9(0x642)]+_0x57ccb9(0x691)+_0x4cb791['icon']+_0x57ccb9(0x35f):'';})['join']('');_0x47f499+=_0x315217(0x39e)+_0x5c1039+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x434da2['studentName']+_0x315217(0x1c3)+_0x434da2[_0x315217(0x54d)]+_0x315217(0x476)+_0xb088+_0x315217(0x291)+_0x524cee+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x434da2[_0x315217(0x1fa)]||0x0)+_0x315217(0x291)+(_0x4c6968?'':_0x315217(0x145)+(_0x434da2[_0x315217(0x6b8)]?.[_0x315217(0x284)]||0x1)+_0x315217(0x153))+_0x315217(0x2ad)+(_0x4c6968?'':_0x315217(0x68e)+new Date(_0x434da2[_0x315217(0x264)])[_0x315217(0x4b3)](_0x315217(0x63c))+'</td>')+_0x315217(0x569)+(_0x2e4302||'-')+_0x315217(0x3ab);}),_0x3d0408[_0x5d199a(0x282)]=_0x47f499,_0x14bd6e&&!_0x4c6968&&_0x14bd6e[_0x5d199a(0x16f)](_0x5d199a(0x4b2))['forEach'](_0x279ed8=>{const _0x5d9998=_0x5d199a,_0x17cee7=_0x279ed8[_0x5d9998(0x3f0)](_0x5d9998(0x15f));if(_0x17cee7)_0x17cee7[_0x5d9998(0x24a)]();_0x279ed8[_0x5d9998(0x53a)][_0x5d9998(0x6bb)]===quizLeaderboardSortBy&&(_0x279ed8[_0x5d9998(0x282)]+=_0x5d9998(0x33b)+(quizLeaderboardSortOrder===_0x5d9998(0x19d)?'▲':'▼')+_0x5d9998(0x6a8));});}async function handleLoadQuiz(){const _0x3826e1=_0x1894c9,_0x35b7d9=document[_0x3826e1(0x34c)](_0x3826e1(0x43c)),_0x49f9a1=_0x35b7d9[_0x3826e1(0x387)][_0x3826e1(0x680)]();if(!_0x49f9a1){showMessage(_0x3826e1(0x1fe));return;}loadQuizBtn[_0x3826e1(0x3db)]=!![],loadQuizBtn[_0x3826e1(0x282)]=_0x3826e1(0x30e);try{const _0x416d2a=doc(db,_0x3826e1(0x59b)+appId+_0x3826e1(0x138),_0x49f9a1),_0x529e4e=await getDoc(_0x416d2a);if(!_0x529e4e['exists']()){showMessage(_0x3826e1(0x678));return;}currentQuizData={'id':_0x529e4e['id'],..._0x529e4e[_0x3826e1(0x192)]()};const _0x11c82f=currentQuizData[_0x3826e1(0x587)]||_0x3826e1(0x293),_0x3f7580=new Date();if(_0x11c82f==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x11c82f===_0x3826e1(0x2be)){const _0xe78ed9=currentQuizData[_0x3826e1(0x3a5)]?new Date(currentQuizData[_0x3826e1(0x3a5)]):null,_0xac7742=currentQuizData[_0x3826e1(0x503)]?new Date(currentQuizData[_0x3826e1(0x503)]):null;if(_0xe78ed9&&_0x3f7580<_0xe78ed9){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0xe78ed9['toLocaleString'](_0x3826e1(0x63c),{'hour12':![]}));return;}if(_0xac7742&&_0x3f7580>_0xac7742){showMessage(_0x3826e1(0x187));return;}}const _0x1fd0ee=currentQuizData[_0x3826e1(0x45b)];currentProjectId=_0x1fd0ee;const _0x581892=doc(db,_0x3826e1(0x59b)+appId+_0x3826e1(0x2d2),_0x1fd0ee),_0x272892=await getDoc(_0x581892);if(!_0x272892[_0x3826e1(0x113)]()){showMessage(_0x3826e1(0x3ca));return;}const _0x4b8984=_0x272892['data']();currentStudentProjectData=_0x4b8984,displayStudentNameSelector(_0x4b8984['students'],currentQuizData[_0x3826e1(0x122)]);}catch(_0x1581a5){console[_0x3826e1(0x370)](_0x3826e1(0x1cf),_0x1581a5),showMessage(_0x3826e1(0x2a6));}finally{loadQuizBtn[_0x3826e1(0x3db)]=![],loadQuizBtn['innerHTML']=_0x3826e1(0x2c4);}}async function handleJoinLiveGame(){const _0x50199a=_0x1894c9,_0x59a7c9=document[_0x50199a(0x34c)](_0x50199a(0x4f6)),_0x72e9e9=document[_0x50199a(0x34c)]('nickname-input'),_0x3a3cde=document[_0x50199a(0x34c)](_0x50199a(0x655)),_0x393b0e=_0x59a7c9[_0x50199a(0x387)][_0x50199a(0x680)](),_0x40daea=_0x72e9e9['value'][_0x50199a(0x680)]();if(!_0x393b0e||!_0x40daea){showMessage(_0x50199a(0x388));return;}_0x3a3cde[_0x50199a(0x3db)]=!![],_0x3a3cde['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x3c4265=collection(db,_0x50199a(0x59b)+appId+_0x50199a(0xdb)),_0x50dc9b=query(_0x3c4265,where(_0x50199a(0x63b),'==',_0x393b0e),where(_0x50199a(0x587),'==',_0x50199a(0x265))),_0x23f504=await getDocs(_0x50dc9b);if(_0x23f504['empty']){showMessage(_0x50199a(0x365));return;}const _0x46a8bd=_0x23f504['docs'][0x0],_0x1e88a4=_0x46a8bd[_0x50199a(0x192)]();currentLiveGameId=_0x46a8bd['id'];const _0x1a0d76=_0x1e88a4['quizId'],_0x1fc3ec=doc(db,_0x50199a(0x59b)+appId+_0x50199a(0x138),_0x1a0d76),_0x42406e=await getDoc(_0x1fc3ec);if(!_0x42406e[_0x50199a(0x113)]()){showMessage(_0x50199a(0x44d));return;}currentQuizData={'id':_0x42406e['id'],..._0x42406e['data']()};if(_0x1e88a4[_0x50199a(0x3dc)]&&_0x1e88a4[_0x50199a(0x3dc)][_0x40daea]){showMessage(_0x50199a(0x5c3));return;}const _0x257a6b={};_0x257a6b[_0x50199a(0x273)+_0x40daea]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x50199a(0x59b)+appId+_0x50199a(0xdb),currentLiveGameId),_0x257a6b),currentStudentName=_0x40daea,listenForLiveGameUpdates();}catch(_0x145cde){console[_0x50199a(0x370)]('Error\x20joining\x20live\x20game:',_0x145cde),showMessage(_0x50199a(0x1ad));}finally{_0x3a3cde[_0x50199a(0x3db)]=![],_0x3a3cde[_0x50199a(0x282)]=_0x50199a(0x3f3);}}function displayStudentNameSelector(_0x55a432,_0x5894e9){const _0x58756f=_0x1894c9,_0x1743b9=document[_0x58756f(0x34c)]('student-name-select');document[_0x58756f(0x34c)]('student-quiz-topic')[_0x58756f(0x1a7)]=_0x58756f(0x68c)+_0x5894e9,!_0x55a432||_0x55a432['length']===0x0?(_0x1743b9['innerHTML']=_0x58756f(0x3dd),startQuizBtn[_0x58756f(0x3db)]=!![]):(_0x1743b9[_0x58756f(0x282)]=_0x58756f(0x672),_0x55a432[_0x58756f(0x36d)](_0x430ce6=>{const _0x1b46fa=_0x58756f,_0x204e11=document['createElement'](_0x1b46fa(0x54f));_0x204e11[_0x1b46fa(0x387)]=_0x430ce6,_0x204e11['textContent']=_0x430ce6,_0x1743b9[_0x1b46fa(0x4c3)](_0x204e11);}),startQuizBtn['disabled']=![]),studentInitialView[_0x58756f(0x27d)][_0x58756f(0x256)](_0x58756f(0x3ac)),studentNameSelectionView[_0x58756f(0x27d)][_0x58756f(0x24a)](_0x58756f(0x3ac));}function shuffleArray(_0xa15eb){const _0x64fa39=_0x1894c9;for(let _0x1be0a5=_0xa15eb[_0x64fa39(0x284)]-0x1;_0x1be0a5>0x0;_0x1be0a5--){const _0x3320f6=Math['floor'](Math[_0x64fa39(0x2bc)]()*(_0x1be0a5+0x1));[_0xa15eb[_0x1be0a5],_0xa15eb[_0x3320f6]]=[_0xa15eb[_0x3320f6],_0xa15eb[_0x1be0a5]];}}function getShuffledQuiz(_0x3353b2){const _0x128787=_0x1894c9;let _0x4912db=JSON[_0x128787(0x54e)](JSON['stringify'](_0x3353b2));const _0x1a0854=_0x4912db[_0x128787(0x5c1)]?.['shuffle']||_0x128787(0x42a);if(_0x1a0854==='none')return _0x4912db;return(_0x1a0854==='questions_only'||_0x1a0854==='both')&&shuffleArray(_0x4912db['questions']),(_0x1a0854===_0x128787(0x3cf)||_0x1a0854===_0x128787(0x625))&&_0x4912db[_0x128787(0x53f)][_0x128787(0x36d)](_0x2c7cfd=>{const _0x47f24b=_0x128787,_0x3f5fdc=_0x2c7cfd['questionType']||_0x4912db[_0x47f24b(0x126)];if(_0x2c7cfd['options']){let _0x5424d4=_0x2c7cfd[_0x47f24b(0x146)][_0x47f24b(0x4ed)]((_0x4047c5,_0x34a38d)=>({'text':_0x4047c5,'isCorrect':_0x34a38d===_0x2c7cfd[_0x47f24b(0x5f9)]}));shuffleArray(_0x5424d4),_0x2c7cfd[_0x47f24b(0x146)]=_0x5424d4['map'](_0x32a2d4=>_0x32a2d4[_0x47f24b(0x2bb)]),_0x2c7cfd[_0x47f24b(0x5f9)]=_0x5424d4['findIndex'](_0x5c4929=>_0x5c4929[_0x47f24b(0x37c)]);}_0x3f5fdc==='matching_item'&&_0x2c7cfd[_0x47f24b(0x5f0)]&&shuffleArray(_0x2c7cfd[_0x47f24b(0x5f0)]);}),_0x4912db;}function displayQuizForStudent(_0x4ff27b){const _0x4044a6=_0x1894c9;studentQuizArea['classList'][_0x4044a6(0x24a)](_0x4044a6(0x3ac)),currentDisplayedQuiz=getShuffledQuiz(_0x4ff27b);const _0x430607=currentDisplayedQuiz[_0x4044a6(0x5c1)]?.[_0x4044a6(0x363)]||_0x4044a6(0x42a);if(_0x430607===_0x4044a6(0x653))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4044a6(0x5c1)][_0x4044a6(0x4c4)]);else _0x430607===_0x4044a6(0x3e8)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x133390=_0x1894c9;let _0x44162a=_0x133390(0x20a)+currentDisplayedQuiz[_0x133390(0x122)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x133390(0x346)?_0x133390(0x4d6):'')+_0x133390(0x6a0);currentDisplayedQuiz['questions'][_0x133390(0x36d)]((_0x1df4d7,_0x288790)=>{const _0x13c0bc=_0x133390,_0x19ab0f=_0x1df4d7[_0x13c0bc(0x385)]||currentDisplayedQuiz['quizType'];_0x44162a+=_0x13c0bc(0x43a);_0x19ab0f===_0x13c0bc(0x2ca)?_0x44162a+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x288790+0x1)+'.\x20'+_0x1df4d7[_0x13c0bc(0x223)]+_0x13c0bc(0x33f)+_0x288790+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1df4d7[_0x13c0bc(0x5f0)]['map'](_0x4fda5c=>_0x13c0bc(0x209)+_0x4fda5c+'\x22>'+_0x4fda5c+_0x13c0bc(0x607))[_0x13c0bc(0x5cb)]('')+_0x13c0bc(0x4ca):(_0x44162a+=_0x13c0bc(0x6ae)+(_0x288790+0x1)+'.\x20'+(_0x1df4d7[_0x13c0bc(0x5c5)]||_0x1df4d7[_0x13c0bc(0xdd)])+'</p>',_0x1df4d7[_0x13c0bc(0x27f)]&&(_0x44162a+=_0x13c0bc(0x403)+_0x1df4d7['imageCode']+_0x13c0bc(0x338)));_0x44162a+=_0x13c0bc(0x48d);switch(_0x19ab0f){case _0x13c0bc(0x6a1):_0x44162a+=_0x13c0bc(0x24f)+_0x288790+_0x13c0bc(0x4b9);break;case _0x13c0bc(0x3ae):_0x44162a+=_0x13c0bc(0x673)+_0x288790+'_opt0\x22\x20name=\x22question'+_0x288790+_0x13c0bc(0x605)+_0x288790+_0x13c0bc(0x35b),_0x44162a+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x288790+_0x13c0bc(0x2e3)+_0x288790+_0x13c0bc(0x609)+_0x288790+_0x13c0bc(0xde);break;case _0x13c0bc(0x2ca):break;case _0x13c0bc(0xdc):case _0x13c0bc(0x3aa):default:_0x44162a+=_0x1df4d7[_0x13c0bc(0x146)][_0x13c0bc(0x4ed)]((_0x1eb135,_0x13434d)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x288790+'_opt'+_0x13434d+'\x22\x20name=\x22question'+_0x288790+_0x13c0bc(0x45d)+_0x13434d+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x288790+'_opt'+_0x13434d+'\x22>'+_0x1eb135+_0x13c0bc(0x4eb))['join']('');break;}_0x44162a+=_0x13c0bc(0x3f7);}),_0x44162a+=_0x133390(0x1f7),_0x44162a+='</form>',studentQuizArea[_0x133390(0x282)]=_0x44162a;if(currentMode===_0x133390(0x346)){const _0x588735=document[_0x133390(0x34c)](_0x133390(0x5a6));if(_0x588735)_0x588735[_0x133390(0xd5)](_0x133390(0x5a4),cancelAdminTest);}document['getElementById'](_0x133390(0x6a6))['addEventListener'](_0x133390(0x69b),handleSubmitQuiz);if(window['MathJax'])window[_0x133390(0x5ce)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x4b30dc){const _0x165cb7=_0x1894c9;if(_0x4b30dc)_0x4b30dc['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3dd8c5=document[_0x165cb7(0x34c)]('quiz-form');if(!_0x3dd8c5)return;const _0x465b08=_0x3dd8c5[_0x165cb7(0x3f0)](_0x165cb7(0x56e)),_0x115cc2=currentDisplayedQuiz[_0x165cb7(0x53f)][_0x165cb7(0x149)](_0x26cd9f=>_0x26cd9f[_0x165cb7(0x385)]===_0x165cb7(0x6a1));_0x465b08&&(_0x465b08[_0x165cb7(0x3db)]=!![],_0x115cc2?_0x465b08[_0x165cb7(0x282)]=_0x165cb7(0x4a3):_0x465b08[_0x165cb7(0x282)]=_0x165cb7(0x4a9));const _0x128598=new FormData(_0x3dd8c5),_0x4ba54f=currentDisplayedQuiz['questions'][_0x165cb7(0x4ed)]((_0x52dccf,_0x2f74dd)=>{const _0x584bf2=_0x165cb7,_0x3fe837=_0x52dccf[_0x584bf2(0x385)]||currentDisplayedQuiz[_0x584bf2(0x126)],_0x225feb=_0x128598[_0x584bf2(0x1cc)](_0x584bf2(0x2ce)+_0x2f74dd);if(_0x225feb!==null&&_0x225feb!==undefined){if(_0x3fe837===_0x584bf2(0x3aa)||_0x3fe837===_0x584bf2(0xdc))return parseInt(_0x225feb);return _0x225feb;}return null;}),_0x4e0b6a=currentQuizData['id'],_0x3fc413=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4e0b6a+_0x165cb7(0x5ba),currentStudentName),_0x44e3d8=await getDoc(_0x3fc413),_0x372233=_0x44e3d8[_0x165cb7(0x113)]()?_0x44e3d8['data']():{},_0x3c82bc=_0x372233[_0x165cb7(0x6b8)]||[];await processAndSubmitAnswers(_0x4ba54f,_0x3c82bc);}async function gradeShortAnswerWithAI(_0x35ae2d,_0x3e085e){const _0x317280=_0x1894c9;if(!_0x35ae2d||!_0x3e085e)return![];try{const _0x13a84e=_0x317280(0x612)+_0x35ae2d+_0x317280(0x2ff)+_0x3e085e+_0x317280(0x500),_0x30f5c2={'contents':[{'role':_0x317280(0x588),'parts':[{'text':_0x13a84e}]}]},_0x3427ec=_0x317280(0x629),_0x4ea080='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3427ec,_0x2a6e75=await fetch(_0x4ea080,{'method':_0x317280(0x641),'headers':{'Content-Type':_0x317280(0x3b8)},'body':JSON[_0x317280(0x3b3)](_0x30f5c2)});if(!_0x2a6e75['ok'])throw new Error(_0x317280(0xe7));const _0x30843c=await _0x2a6e75[_0x317280(0x4f0)](),_0x49e741=_0x30843c[_0x317280(0x298)][0x0][_0x317280(0x3ee)][_0x317280(0x1dc)][0x0][_0x317280(0x2bb)][_0x317280(0x680)]()[_0x317280(0x34b)]();return _0x49e741===_0x317280(0x1c8);}catch(_0x3086ec){return console[_0x317280(0x370)](_0x317280(0x260),_0x3086ec),![];}}async function processAndSubmitAnswers(_0x12afcf,_0x598709){const _0x3aff7b=_0x1894c9;let _0xce09d8=0x0,_0x24668e=0x0,_0x3696f9=[];const _0x4b5bc6=[],_0x2c3d80=currentDisplayedQuiz['questions'][_0x3aff7b(0x284)];let _0x142d5a=0x0;const _0x373b00=currentDisplayedQuiz[_0x3aff7b(0x53f)];for(let _0x4b3976=0x0;_0x4b3976<_0x373b00[_0x3aff7b(0x284)];_0x4b3976++){const _0x49675e=_0x373b00[_0x4b3976],_0x42a7d3=_0x12afcf[_0x4b3976],_0xe38378=_0x49675e[_0x3aff7b(0x385)]||currentDisplayedQuiz[_0x3aff7b(0x126)];let _0xbde36b=![];if(_0x42a7d3!==null&&_0x42a7d3!=='')switch(_0xe38378){case _0x3aff7b(0x2ca):_0xbde36b=_0x42a7d3===_0x49675e[_0x3aff7b(0x193)];break;case'true_false':const _0x15bd7c=_0x42a7d3===!![]||_0x42a7d3==='true';_0xbde36b=_0x15bd7c===_0x49675e[_0x3aff7b(0x220)];break;case'fill_in_the_blank':case _0x3aff7b(0x3aa):default:_0xbde36b=Number(_0x42a7d3)===_0x49675e[_0x3aff7b(0x5f9)];break;case _0x3aff7b(0x6a1):_0xbde36b=await gradeShortAnswer(_0x42a7d3,_0x49675e);break;}_0xbde36b?(_0xce09d8++,_0x142d5a++,_0x142d5a===0x3&&(_0x3696f9[_0x3aff7b(0x10d)](BADGES[_0x3aff7b(0x1e1)]['id']),_0x142d5a=0x0)):_0x142d5a=0x0,_0x4b5bc6[_0x3aff7b(0x10d)]({'answer':_0x42a7d3,'isCorrect':_0xbde36b,'originalQuestionText':_0x49675e['stem']||_0x49675e[_0x3aff7b(0xdd)]});}_0x24668e=_0xce09d8*0xa;_0xce09d8===_0x2c3d80&&_0x2c3d80>0x0&&!currentDisplayedQuiz[_0x3aff7b(0x29e)]&&(_0x24668e+=0x32,_0x3696f9['push'](BADGES[_0x3aff7b(0x634)]['id']));const _0x4c18bf=currentDisplayedQuiz['settings']?.['passingScore']??Math['floor'](_0x2c3d80/0x2),_0x4f05ad=currentDisplayedQuiz[_0x3aff7b(0x5c1)]?.[_0x3aff7b(0x363)];if(_0x4f05ad===_0x3aff7b(0x653)&&quizStartTime){const _0x4f42f5=(new Date()-quizStartTime)/0x3e8,_0x10ee42=currentDisplayedQuiz[_0x3aff7b(0x5c1)][_0x3aff7b(0x4c4)]*0x3c;_0xce09d8>=_0x4c18bf&&_0x4f42f5<_0x10ee42/0x2&&(_0x24668e+=0x14,_0x3696f9['push'](BADGES[_0x3aff7b(0x119)]['id']));}_0x598709[_0x3aff7b(0x284)]===0x0&&_0xce09d8===_0x2c3d80&&_0x2c3d80>0x0&&_0x3696f9[_0x3aff7b(0x10d)](BADGES[_0x3aff7b(0x397)]['id']);if(_0x598709[_0x3aff7b(0x284)]>0x0){const _0x2b3cd9=_0x598709[0x0]['score'];if(_0x2b3cd9<_0x4c18bf&&_0xce09d8>=_0x4c18bf){const _0x513ce1=_0x598709[_0x3aff7b(0x149)](_0x4607cc=>(_0x4607cc['badges']||[])[_0x3aff7b(0x17e)](BADGES[_0x3aff7b(0x234)]['id']));!_0x513ce1&&_0x3696f9[_0x3aff7b(0x10d)](BADGES[_0x3aff7b(0x234)]['id']);}}_0x598709['length']===0x4&&_0x3696f9[_0x3aff7b(0x10d)](BADGES[_0x3aff7b(0x5e3)]['id']);const _0x3be6b6=currentDisplayedQuiz[_0x3aff7b(0x5c1)]['resultsDisplay'];if(currentMode===_0x3aff7b(0x346)){handleResultDisplay(_0x3be6b6,_0xce09d8,_0x24668e,_0x3696f9,_0x4b5bc6,_0x2c3d80);return;}const _0x51ad51=currentQuizData['id'],_0x307a8a=doc(db,_0x3aff7b(0x59b)+appId+'/public/data/quizzes/'+_0x51ad51+_0x3aff7b(0x5ba),currentStudentName);try{const _0x1664af=[..._0x598709],_0x12a36a={'score':_0xce09d8,'points':_0x24668e,'badges':_0x3696f9,'submittedAt':new Date()[_0x3aff7b(0x366)](),'answers':_0x4b5bc6};_0x1664af[_0x3aff7b(0x10d)](_0x12a36a);const _0x517203=_0x1664af[0x0][_0x3aff7b(0x2b2)],_0x5093ca=Math[_0x3aff7b(0x3fc)](..._0x1664af[_0x3aff7b(0x4ed)](_0x49dcb4=>_0x49dcb4[_0x3aff7b(0x2b2)])),_0x96699f=_0xce09d8,_0x118413=_0x12a36a[_0x3aff7b(0x251)];await setDoc(_0x307a8a,{'studentName':currentStudentName,'totalQuestions':_0x2c3d80,'attempts':_0x1664af,'firstScore':_0x517203,'bestScore':_0x5093ca,'latestScore':_0x96699f,'points':_0x24668e,'latestSubmittedAt':_0x118413}),await updateStudentProfile(currentQuizData[_0x3aff7b(0x45b)],currentStudentName),handleResultDisplay(_0x3be6b6,_0xce09d8,_0x24668e,_0x3696f9,_0x4b5bc6,_0x2c3d80);}catch(_0x188b01){console[_0x3aff7b(0x370)](_0x3aff7b(0x61a),_0x188b01),showMessage(_0x3aff7b(0x12e));}}async function updateStudentProfile(_0xe0d7c4,_0x7d9a9a){const _0x39398d=_0x1894c9,_0x3ead99=doc(db,_0x39398d(0x59b)+appId+_0x39398d(0x5aa)+_0xe0d7c4+_0x39398d(0x2b4),_0x7d9a9a);try{const _0x4fe11a=query(collection(db,'artifacts/'+appId+_0x39398d(0x138)),where(_0x39398d(0x45b),'==',_0xe0d7c4)),_0x53b227=await getDocs(_0x4fe11a),_0x3c117d=new Map(_0x53b227[_0x39398d(0x5de)][_0x39398d(0x4ed)](_0x530857=>[_0x530857['id'],_0x530857[_0x39398d(0x192)]()])),_0x1dd2a9=Array['from'](_0x3c117d[_0x39398d(0x12a)]());await runTransaction(db,async _0x5ed814=>{const _0x372106=_0x39398d;let _0x2920e3=0x0;const _0x14d12c={};let _0x26c664=!![],_0x184487=0x0,_0x30237b=0x0;for(const _0x4b9bb3 of _0x1dd2a9){const _0x392f65=_0x3c117d[_0x372106(0x1cc)](_0x4b9bb3),_0x1995a5=doc(db,'artifacts/'+appId+_0x372106(0x1c0)+_0x4b9bb3+'/submissions',_0x7d9a9a),_0xf2364a=await _0x5ed814['get'](_0x1995a5);if(_0xf2364a['exists']()){const _0x244fe4=_0xf2364a[_0x372106(0x192)](),_0x5ad1c4=_0x244fe4[_0x372106(0x6b8)]||[];if(_0x5ad1c4[_0x372106(0x284)]>0x0){const _0x5a226f=_0x5ad1c4[_0x372106(0x38a)]((_0x824dcd,_0x390821)=>{const _0x34dac9=_0x372106;if(_0x390821[_0x34dac9(0x2b2)]>_0x824dcd[_0x34dac9(0x2b2)])return _0x390821;if(_0x390821[_0x34dac9(0x2b2)]===_0x824dcd[_0x34dac9(0x2b2)])return(_0x390821[_0x34dac9(0x1fa)]||0x0)>(_0x824dcd[_0x34dac9(0x1fa)]||0x0)?_0x390821:_0x824dcd;return _0x824dcd;},{'score':-0x1,'points':-0x1});_0x5a226f[_0x372106(0x2b2)]>-0x1&&(_0x2920e3+=_0x5a226f[_0x372106(0x1fa)]||0x0,(_0x5a226f[_0x372106(0x339)]||[])[_0x372106(0x36d)](_0x548ad9=>{_0x14d12c[_0x548ad9]=(_0x14d12c[_0x548ad9]||0x0)+0x1;}));}}if(_0x392f65[_0x372106(0x122)]!==_0x372106(0x26e)){_0x30237b++;if(_0xf2364a[_0x372106(0x113)]()){_0x184487++;const _0x38d554=_0xf2364a['data']();_0x38d554[_0x372106(0x54d)]!==_0x38d554[_0x372106(0x164)]&&(_0x26c664=![]);}else _0x26c664=![];}}_0x30237b>0x0&&_0x184487===_0x30237b&&_0x26c664?_0x14d12c[_0x372106(0x61d)]=0x1:_0x14d12c[_0x372106(0x61d)]=0x0,_0x5ed814[_0x372106(0x422)](_0x3ead99,{'studentName':_0x7d9a9a,'totalPoints':_0x2920e3,'unlockedBadges':Object['keys'](_0x14d12c)[_0x372106(0x46c)](_0x575441=>_0x14d12c[_0x575441]>0x0),'badgesCount':_0x14d12c},{'merge':!![]});});}catch(_0x39d1f8){console[_0x39398d(0x370)](_0x39398d(0x150),_0x39d1f8),showMessage(_0x39398d(0x56f));}}function startAdminTest(){const _0x22d1b3=_0x1894c9;if(!currentQuizData){showMessage(_0x22d1b3(0x12c));return;}let _0x2dd472=JSON['parse'](JSON[_0x22d1b3(0x3b3)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x22d1b3(0x520),adminView[_0x22d1b3(0x27d)][_0x22d1b3(0x256)](_0x22d1b3(0x3ac)),studentView[_0x22d1b3(0x27d)][_0x22d1b3(0x24a)](_0x22d1b3(0x3ac)),studentInitialView[_0x22d1b3(0x27d)][_0x22d1b3(0x256)]('hidden'),studentNameSelectionView[_0x22d1b3(0x27d)]['add']('hidden'),studentResultArea['classList']['add'](_0x22d1b3(0x3ac)),studentQuizArea[_0x22d1b3(0x27d)][_0x22d1b3(0x24a)](_0x22d1b3(0x3ac)),quizStartTime=new Date(),displayQuizForStudent(_0x2dd472);}function handleResultDisplay(_0x24b0b9,_0x474021,_0x32947a,_0x412619,_0x3b0c30,_0x3d1b5b){const _0x128b4a=_0x1894c9,_0x38f04c=currentDisplayedQuiz[_0x128b4a(0x5c1)]?.['passingScore']??Math[_0x128b4a(0x3fd)](_0x3d1b5b/0x2),_0x4d66a0=currentDisplayedQuiz[_0x128b4a(0x5c1)]?.[_0x128b4a(0x2e2)]??![];if(_0x4d66a0&&_0x474021<_0x38f04c){startAdaptiveFlow(_0x3b0c30,_0x474021,_0x3d1b5b);return;}switch(_0x24b0b9){case _0x128b4a(0x688):displayResultsWithAnswers(_0x474021,_0x32947a,_0x412619,_0x3b0c30,_0x3d1b5b);break;case _0x128b4a(0x41d):displayResultsScoreOnly(_0x474021,_0x32947a,_0x412619,_0x3d1b5b);break;case'show_pass_fail_only':displayPassFailOnly(_0x474021,_0x3d1b5b);break;case _0x128b4a(0x269):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x1405b2,_0x3fdc71,_0x4d8f5c){const _0x50c937=_0x1894c9,_0x313546=_0x1405b2[_0x50c937(0x4ed)]((_0x397f79,_0x693bed)=>({..._0x397f79,'originalQuestion':currentDisplayedQuiz[_0x50c937(0x53f)][_0x693bed]}))[_0x50c937(0x46c)](_0x597f96=>!_0x597f96[_0x50c937(0x37c)]&&_0x597f96[_0x50c937(0x32c)][_0x50c937(0x2f6)])[_0x50c937(0x4ed)](_0x46b78f=>'-\x20'+_0x46b78f['originalQuestion'][_0x50c937(0x2f6)])[_0x50c937(0x5cb)]('\x0a');if(!_0x313546){displayResultsScoreOnly(_0x3fdc71,0x0,[],_0x4d8f5c);return;}studentQuizArea[_0x50c937(0x27d)][_0x50c937(0x256)](_0x50c937(0x3ac)),studentReadingArea[_0x50c937(0x27d)][_0x50c937(0x24a)](_0x50c937(0x3ac)),studentReadingArea['innerHTML']=_0x50c937(0x5e7);const _0x4df795=_0x50c937(0x2b0)+currentDisplayedQuiz[_0x50c937(0x122)]+_0x50c937(0x62a)+_0x313546+_0x50c937(0x3b4),_0xf2bfc1={'type':_0x50c937(0x111),'properties':{'remedialContent':{'type':_0x50c937(0x400)}},'required':['remedialContent']};try{const _0x3d4bc6=await callAnalysisApi(_0x4df795,_0xf2bfc1),_0x132197=_0x3d4bc6[_0x50c937(0x3a7)];studentReadingArea['innerHTML']=_0x50c937(0x3e3)+_0x132197[_0x50c937(0x3d1)](/\n/g,_0x50c937(0x689))+_0x50c937(0x55c),document[_0x50c937(0x34c)](_0x50c937(0x65b))[_0x50c937(0xd5)]('click',()=>generateRemedialQuiz(_0x313546));}catch(_0xdcac4a){console[_0x50c937(0x370)](_0x50c937(0x4a2),_0xdcac4a),showMessage(_0x50c937(0x66e)),displayResultsScoreOnly(_0x3fdc71,0x0,[],_0x4d8f5c);}}async function generateRemedialQuiz(_0x1e7b64){const _0x124ce9=_0x1894c9;studentReadingArea[_0x124ce9(0x282)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x45927b=_0x124ce9(0xdf)+_0x1e7b64+_0x124ce9(0x6b5)+simpleMathPrompt+_0x124ce9(0x51d),_0x57f33d={'type':_0x124ce9(0x111),'properties':{'questionText':{'type':_0x124ce9(0x400)},'options':{'type':_0x124ce9(0x1ab),'items':{'type':_0x124ce9(0x400)}},'correctAnswerIndex':{'type':_0x124ce9(0x3d7)},'explanation':{'type':_0x124ce9(0x400)}},'required':[_0x124ce9(0xdd),_0x124ce9(0x146),_0x124ce9(0x5f9),_0x124ce9(0x2f6)]},_0x1eaab5={'type':'OBJECT','properties':{'topic':{'type':_0x124ce9(0x400)},'questions':{'type':'ARRAY','items':_0x57f33d}},'required':[_0x124ce9(0x122),'questions']};try{const _0x1f3bf5=await callAnalysisApi(_0x45927b,_0x1eaab5);_0x1f3bf5[_0x124ce9(0x29e)]=!![],studentReadingArea['classList'][_0x124ce9(0x256)](_0x124ce9(0x3ac));const _0x125881={...currentDisplayedQuiz[_0x124ce9(0x5c1)],'isAdaptive':![],'resultsDisplay':_0x124ce9(0x688)};_0x1f3bf5[_0x124ce9(0x5c1)]=_0x125881,displayQuizForStudent(_0x1f3bf5);}catch(_0x436c1f){console[_0x124ce9(0x370)]('Remedial\x20quiz\x20generation\x20failed:',_0x436c1f),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x124ce9(0x2b6));}}function displayPassFailOnly(_0x2a5973,_0x4c00ec){const _0x2bac54=_0x1894c9,_0xf0ba7d=currentDisplayedQuiz[_0x2bac54(0x5c1)]?.[_0x2bac54(0x127)]??-0x1,_0x3afce0=currentDisplayedQuiz[_0x2bac54(0x29e)]===!![];let _0xc374fd='';if(_0x3afce0||_0xf0ba7d!==-0x1){let _0x2eb2e4;_0x3afce0?_0x2eb2e4=_0x2a5973===_0x4c00ec:_0x2eb2e4=_0x2a5973>=_0xf0ba7d;const _0x1838fa=_0x2eb2e4?_0x2bac54(0x619):'bg-red-100\x20text-red-800',_0x38dd39=_0x2eb2e4?_0x2bac54(0x3cc):_0x2bac54(0x361);_0xc374fd=_0x2bac54(0x5ef)+_0x1838fa+'\x22>'+_0x38dd39+'</span></div>';}else _0xc374fd=_0x2bac54(0x420);let _0x2889bc=_0x2bac54(0x43f)+currentStudentName+_0x2bac54(0x455)+_0xc374fd+_0x2bac54(0x1d4);studentResultArea[_0x2bac54(0x282)]=_0x2889bc,studentResultArea['classList']['remove'](_0x2bac54(0x3ac)),studentQuizArea[_0x2bac54(0x27d)][_0x2bac54(0x256)](_0x2bac54(0x3ac));const _0x586ac8=_0x2bac54(0x131),_0x4e3a6f=currentMode==='admin-testing',_0x305f4d=_0x4e3a6f?_0x2bac54(0x218):_0x2bac54(0x37d),_0x75fdc5=_0x2bac54(0x616)+_0x586ac8+_0x2bac54(0x5d9)+_0x305f4d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x2bac54(0xfe)](_0x2bac54(0x5d2),_0x75fdc5),document[_0x2bac54(0x34c)](_0x586ac8)['addEventListener']('click',()=>{const _0x185bb5=_0x2bac54;_0x4e3a6f?(currentMode=_0x185bb5(0x4d4),studentView[_0x185bb5(0x27d)][_0x185bb5(0x256)](_0x185bb5(0x3ac)),adminView['classList'][_0x185bb5(0x24a)]('hidden'),showView('project-detail')):(showView(_0x185bb5(0x2b6)),document['getElementById'](_0x185bb5(0x43c))[_0x185bb5(0x387)]='');});}function cancelAdminTest(){const _0x1dfb5f=_0x1894c9;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x1dfb5f(0x4d4),studentView[_0x1dfb5f(0x27d)][_0x1dfb5f(0x256)]('hidden'),adminView[_0x1dfb5f(0x27d)][_0x1dfb5f(0x24a)](_0x1dfb5f(0x3ac)),showView(_0x1dfb5f(0x68f));}function setupResultScreenBackButton(){const _0x3cbcaf=_0x1894c9,_0x4622da=_0x3cbcaf(0x131),_0x420d74=currentMode===_0x3cbcaf(0x346),_0xc8d5e8=_0x420d74?_0x3cbcaf(0x218):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x1cb262='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x4622da+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc8d5e8+_0x3cbcaf(0x56d);studentResultArea[_0x3cbcaf(0xfe)](_0x3cbcaf(0x5d2),_0x1cb262),studentResultArea[_0x3cbcaf(0x3f0)](_0x3cbcaf(0x63e))[_0x3cbcaf(0xd5)](_0x3cbcaf(0x5a4),handleShowStudentRankings),document[_0x3cbcaf(0x34c)](_0x4622da)[_0x3cbcaf(0xd5)]('click',()=>{const _0x4695dc=_0x3cbcaf;_0x420d74?(currentMode=_0x4695dc(0x4d4),studentView[_0x4695dc(0x27d)][_0x4695dc(0x256)](_0x4695dc(0x3ac)),adminView[_0x4695dc(0x27d)][_0x4695dc(0x24a)](_0x4695dc(0x3ac)),showView('project-detail')):(showView(_0x4695dc(0x2b6)),document[_0x4695dc(0x34c)](_0x4695dc(0x43c))[_0x4695dc(0x387)]='');});}function displayResultsWithAnswers(_0x2a7ec5,_0xed8b05,_0x3ce3d1,_0x5354d7,_0x492ef9){const _0x16a678=_0x1894c9,_0x3639fb=_0x492ef9>0x0?_0x2a7ec5/_0x492ef9*0x64:0x0,_0x27430a=currentDisplayedQuiz[_0x16a678(0x5c1)]?.[_0x16a678(0x127)]??-0x1,_0x12d9bc=currentDisplayedQuiz[_0x16a678(0x29e)]===!![];let _0xbe76b1='';if(_0x12d9bc||_0x27430a!==-0x1){let _0x25ccc0=_0x12d9bc?_0x2a7ec5===_0x492ef9:_0x2a7ec5>=_0x27430a;const _0x550a54=_0x25ccc0?_0x16a678(0x619):'bg-red-100\x20text-red-800',_0x4b7eb3=_0x25ccc0?_0x16a678(0x3cc):'ไม่ผ่าน';_0xbe76b1=_0x16a678(0xf9)+_0x550a54+'\x22>'+_0x4b7eb3+'</p>';}let _0x3a8e2c=_0x16a678(0x561)+currentStudentName+_0x16a678(0x66a)+_0x2a7ec5+_0x16a678(0x47c)+_0x492ef9+_0x16a678(0x3f1)+_0xbe76b1+_0x16a678(0x10a)+_0xed8b05+_0x16a678(0x618)+_0x3639fb[_0x16a678(0x5db)](0x0)+_0x16a678(0x384);currentDisplayedQuiz[_0x16a678(0x53f)]['forEach']((_0x4feb4b,_0x3df7dd)=>{const _0xe26609=_0x16a678,_0x418336=_0x5354d7[_0x3df7dd],_0x4e7a3f=_0x418336[_0xe26609(0x523)],_0x466f6f=_0x418336[_0xe26609(0x37c)],_0x16f00b=_0x4feb4b[_0xe26609(0x385)]||currentDisplayedQuiz[_0xe26609(0x126)];_0x3a8e2c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x466f6f?_0xe26609(0x66b):_0xe26609(0x3e5))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3df7dd+0x1)+'.\x20'+(_0x4feb4b[_0xe26609(0x223)]||_0x4feb4b[_0xe26609(0xdd)])+_0xe26609(0x392);switch(_0x16f00b){case _0xe26609(0x2ca):const _0x3b93f6=_0x4e7a3f||_0xe26609(0x683),_0x2f5c04=_0x4feb4b[_0xe26609(0x193)];_0x3a8e2c+=_0xe26609(0x276)+(!_0x466f6f?_0xe26609(0x26a):'')+'\x22>'+_0x3b93f6+'</span></p>';!_0x466f6f&&(_0x3a8e2c+=_0xe26609(0x207)+_0x2f5c04+_0xe26609(0x4ac));break;case _0xe26609(0x6a1):_0x3a8e2c+=_0xe26609(0x404)+(_0x4e7a3f||_0xe26609(0x683))+_0xe26609(0x4ac),_0x3a8e2c+=_0xe26609(0x176)+_0x4feb4b['idealAnswer']+_0xe26609(0x4ac);break;case _0xe26609(0x3ae):_0x3a8e2c+=_0xe26609(0x35d)+(_0x4feb4b[_0xe26609(0x220)]===!![]?_0xe26609(0x2e5):'')+'\x20'+(_0x4e7a3f===_0xe26609(0x1c8)&&!_0x466f6f?'line-through\x20text-red-700':'')+_0xe26609(0x42f),_0x3a8e2c+=_0xe26609(0x35d)+(_0x4feb4b[_0xe26609(0x220)]===![]?_0xe26609(0x2e5):'')+'\x20'+(_0x4e7a3f===_0xe26609(0x3c9)&&!_0x466f6f?_0xe26609(0x26a):'')+'\x22>ไม่ใช่</p>';break;case _0xe26609(0xdc):case _0xe26609(0x3aa):default:_0x3a8e2c+=_0x4feb4b[_0xe26609(0x146)][_0xe26609(0x4ed)]((_0x24f06a,_0x7c1fcd)=>{const _0xcf2aa8=_0xe26609;let _0x229e95='',_0x2003b8='';if(_0x7c1fcd===_0x4feb4b[_0xcf2aa8(0x5f9)])_0x229e95='font-bold\x20text-green-700',_0x2003b8='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x7c1fcd===_0x4e7a3f&&(_0x229e95=_0xcf2aa8(0x10e),_0x2003b8=_0xcf2aa8(0x37e));return _0xcf2aa8(0xcd)+_0x229e95+'\x22>'+_0x2003b8+_0x24f06a+_0xcf2aa8(0x338);})[_0xe26609(0x5cb)]('');break;}_0x3a8e2c+=_0xe26609(0x2da)+(_0x4feb4b[_0xe26609(0x2f6)]||_0xe26609(0x1f8))+_0xe26609(0x601);}),studentResultArea[_0x16a678(0x282)]=_0x3a8e2c,renderEarnedBadges(_0x3ce3d1,'earned-badges-container'),studentResultArea[_0x16a678(0x27d)]['remove'](_0x16a678(0x3ac)),studentQuizArea[_0x16a678(0x27d)]['add']('hidden'),setupResultScreenBackButton();if(window['MathJax'])window['MathJax'][_0x16a678(0x16a)]([studentResultArea]);}function _0x1997(_0x4306f0,_0xb0d02e){const _0x11ca22=_0x11ca();return _0x1997=function(_0x19978c,_0x24c80d){_0x19978c=_0x19978c-0xca;let _0x3b677b=_0x11ca22[_0x19978c];return _0x3b677b;},_0x1997(_0x4306f0,_0xb0d02e);}function displayResultsScoreOnly(_0x16167c,_0x44bb18,_0x2ab200,_0x39eded){const _0x25f37e=_0x1894c9,_0x17150e=_0x39eded>0x0?_0x16167c/_0x39eded*0x64:0x0,_0x3077c3=currentDisplayedQuiz['settings']?.[_0x25f37e(0x127)]??-0x1,_0x1eb174=currentDisplayedQuiz['isRemedial']===!![];let _0x4a5d09='';if(_0x1eb174||_0x3077c3!==-0x1){let _0x137831;_0x1eb174?_0x137831=_0x16167c===_0x39eded:_0x137831=_0x16167c>=_0x3077c3;const _0x849260=_0x137831?_0x25f37e(0x619):'bg-red-100\x20text-red-800',_0x11d3cb=_0x137831?_0x25f37e(0x3cc):'ไม่ผ่าน';_0x4a5d09=_0x25f37e(0xf9)+_0x849260+'\x22>'+_0x11d3cb+'</p>';}let _0x309413=_0x25f37e(0x5f2)+currentStudentName+_0x25f37e(0x22d)+_0x16167c+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x39eded+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a5d09+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x44bb18+_0x25f37e(0x571)+_0x17150e[_0x25f37e(0x5db)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x25f37e(0x282)]=_0x309413,renderEarnedBadges(_0x2ab200,_0x25f37e(0x137)),studentResultArea['classList'][_0x25f37e(0x24a)](_0x25f37e(0x3ac)),studentQuizArea[_0x25f37e(0x27d)]['add'](_0x25f37e(0x3ac)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x1b6d59=_0x1894c9;let _0x377770=_0x1b6d59(0x447)+currentStudentName+_0x1b6d59(0x141);studentResultArea[_0x1b6d59(0x282)]=_0x377770,studentResultArea[_0x1b6d59(0x27d)][_0x1b6d59(0x24a)](_0x1b6d59(0x3ac)),studentQuizArea[_0x1b6d59(0x27d)][_0x1b6d59(0x256)](_0x1b6d59(0x3ac)),document[_0x1b6d59(0x34c)](_0x1b6d59(0x3fa))['addEventListener'](_0x1b6d59(0x5a4),()=>{const _0x583ef4=_0x1b6d59;showView(_0x583ef4(0x2b6)),document[_0x583ef4(0x34c)]('quiz-id-input')[_0x583ef4(0x387)]='';});}function renderEarnedBadges(_0x36781d,_0x1ee6d4){const _0x25dde9=_0x1894c9,_0x503991=document[_0x25dde9(0x34c)](_0x1ee6d4);if(!_0x503991||!_0x36781d||_0x36781d[_0x25dde9(0x284)]===0x0)return;let _0xbc0571='';_0x36781d[_0x25dde9(0x36d)]((_0x2526a2,_0x411f27)=>{const _0x3cd613=_0x25dde9,_0x31faec=Object[_0x3cd613(0x492)](BADGES)[_0x3cd613(0x204)](_0xac5983=>_0xac5983['id']===_0x2526a2);_0x31faec&&(_0xbc0571+=_0x3cd613(0x1da)+_0x411f27*0.2+_0x3cd613(0x57c)+_0x31faec[_0x3cd613(0x558)]+_0x3cd613(0x652)+_0x31faec[_0x3cd613(0x1c4)]+_0x3cd613(0x2f9)+_0x31faec[_0x3cd613(0x642)]+_0x3cd613(0x675));}),_0x503991[_0x25dde9(0x282)]=_0xbc0571;}function startPresentation(_0x20fd1f){const _0x48aea7=_0x1894c9;currentQuizData=getShuffledQuiz(_0x20fd1f),currentPresentationSlide=0x0,presentationModal[_0x48aea7(0x410)]['display']=_0x48aea7(0x22f),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2ada32=_0x1894c9;document[_0x2ada32(0x3b5)]&&document[_0x2ada32(0x4fe)](),presentationModal[_0x2ada32(0x410)]['display']=_0x2ada32(0x42a);}function renderPresentationSlide(_0xcbd472){const _0x5cd5e7=_0x1894c9,_0x1a958c=document['getElementById'](_0x5cd5e7(0x1b1));if(!currentQuizData||!currentQuizData[_0x5cd5e7(0x53f)]||!currentQuizData[_0x5cd5e7(0x53f)][_0xcbd472]){_0x1a958c[_0x5cd5e7(0x282)]=_0x5cd5e7(0x219);return;}const _0x5c1bf5=currentQuizData[_0x5cd5e7(0x53f)][_0xcbd472],_0x1d39bd=_0x5c1bf5[_0x5cd5e7(0x385)]||currentQuizData[_0x5cd5e7(0x126)];_0x1a958c[_0x5cd5e7(0x282)]='';let _0x23d0a6=_0x5cd5e7(0x4e5)+(_0x5c1bf5[_0x5cd5e7(0x27f)]?_0x5cd5e7(0x403)+_0x5c1bf5['imageCode']+_0x5cd5e7(0x338):'')+_0x5cd5e7(0x30b)+(_0xcbd472+0x1)+'.\x20'+(_0x5c1bf5[_0x5cd5e7(0x223)]||_0x5c1bf5[_0x5cd5e7(0xdd)])+_0x5cd5e7(0x188);switch(_0x1d39bd){case _0x5cd5e7(0x2ca):_0x23d0a6+=_0x5c1bf5['allResponses']['map'](_0x4b6251=>_0x5cd5e7(0x14e)+_0x4b6251+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5cd5e7(0x5cb)]('');break;case _0x5cd5e7(0x3ae):_0x23d0a6+=_0x5cd5e7(0x5af),_0x23d0a6+=_0x5cd5e7(0x5a2);break;case'fill_in_no_choices':case'short_answer':_0x23d0a6+=_0x5cd5e7(0x696);break;case'fill_in_the_blank':case _0x5cd5e7(0x3aa):default:_0x23d0a6+=_0x5c1bf5[_0x5cd5e7(0x146)][_0x5cd5e7(0x4ed)]((_0x1d4958,_0x7b3d8)=>_0x5cd5e7(0x2fd)+_0x7b3d8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d4958+_0x5cd5e7(0x199))['join']('');break;}_0x23d0a6+=_0x5cd5e7(0x1be)+(_0x5c1bf5[_0x5cd5e7(0x2f6)]||'ไม่มีคำอธิบาย')+_0x5cd5e7(0x208),_0x1a958c['innerHTML']=_0x23d0a6;if(window[_0x5cd5e7(0x5ce)])window[_0x5cd5e7(0x5ce)][_0x5cd5e7(0x16a)]([_0x1a958c]);document[_0x5cd5e7(0x16f)](_0x5cd5e7(0x64c))[_0x5cd5e7(0x36d)](_0xf45944=>{const _0x56c91a=_0x5cd5e7;_0xf45944[_0x56c91a(0xd5)](_0x56c91a(0x5a4),_0x1be3a6=>revealAnswerForPresentation(_0xcbd472,_0x1be3a6[_0x56c91a(0x44f)]));});const _0x36bc3f=document[_0x5cd5e7(0x34c)]('check-presentation-answer-btn');_0x36bc3f&&_0x36bc3f[_0x5cd5e7(0xd5)](_0x5cd5e7(0x5a4),()=>checkShortAnswerForPresentation(_0xcbd472)),document[_0x5cd5e7(0x34c)](_0x5cd5e7(0x1a1))[_0x5cd5e7(0x1a7)]=_0x5cd5e7(0x4c7)+(_0xcbd472+0x1)+'\x20/\x20'+currentQuizData[_0x5cd5e7(0x53f)]['length'],document['getElementById'](_0x5cd5e7(0x308))[_0x5cd5e7(0x3db)]=_0xcbd472===0x0,document[_0x5cd5e7(0x34c)](_0x5cd5e7(0x4c1))[_0x5cd5e7(0x3db)]=_0xcbd472===currentQuizData[_0x5cd5e7(0x53f)][_0x5cd5e7(0x284)]-0x1;}async function checkShortAnswerForPresentation(_0x516a19){const _0x6e6456=_0x1894c9,_0x4f1292=currentQuizData['questions'][_0x516a19],_0x2baeb7=document[_0x6e6456(0x34c)](_0x6e6456(0x679)),_0x2a6fbc=document[_0x6e6456(0x34c)](_0x6e6456(0x184)),_0x40cb85=document[_0x6e6456(0x34c)](_0x6e6456(0x4d5)),_0x574ba2=document[_0x6e6456(0x34c)]('presentation-explanation');if(!_0x2baeb7||!_0x2a6fbc||!_0x40cb85||!_0x574ba2)return;const _0xb44222=_0x2baeb7[_0x6e6456(0x387)][_0x6e6456(0x680)]();if(_0xb44222==='')return;_0x2a6fbc[_0x6e6456(0x3db)]=!![],_0x2a6fbc[_0x6e6456(0x282)]=_0x6e6456(0x3d8),_0x2baeb7[_0x6e6456(0x3db)]=!![];const _0x2aac09=await gradeShortAnswer(_0xb44222,_0x4f1292);_0x2aac09?_0x40cb85[_0x6e6456(0x282)]=_0x6e6456(0x393):_0x40cb85[_0x6e6456(0x282)]=_0x6e6456(0x1c6)+_0x4f1292[_0x6e6456(0x1b3)]+')',_0x40cb85[_0x6e6456(0x27d)][_0x6e6456(0x24a)](_0x6e6456(0x3ac)),_0x574ba2['classList'][_0x6e6456(0x24a)](_0x6e6456(0x3ac)),_0x2a6fbc[_0x6e6456(0x27d)][_0x6e6456(0x256)](_0x6e6456(0x3ac));}function revealAnswerForPresentation(_0x4ab284,_0x3d17d5){const _0xbc8874=_0x1894c9,_0x238d6a=currentQuizData['questions'][_0x4ab284],_0x4fb99c=_0x238d6a[_0xbc8874(0x385)]||currentQuizData[_0xbc8874(0x126)];document[_0xbc8874(0x16f)]('.presentation-option')['forEach'](_0x5e6741=>{const _0x1c4548=_0xbc8874;_0x5e6741['disabled']=!![],_0x5e6741[_0x1c4548(0x27d)][_0x1c4548(0x24a)]('hover:bg-indigo-100');let _0x3b952f=![];if(_0x4fb99c===_0x1c4548(0x3aa)||_0x4fb99c===_0x1c4548(0xdc)){const _0x26993e=parseInt(_0x5e6741[_0x1c4548(0x53a)][_0x1c4548(0x3bb)]);_0x3b952f=_0x26993e===_0x238d6a['correctAnswerIndex'];}else{if(_0x4fb99c===_0x1c4548(0x3ae)){const _0x4b7c14=_0x5e6741[_0x1c4548(0x53a)]['answer']===_0x1c4548(0x1c8);_0x3b952f=_0x4b7c14===_0x238d6a[_0x1c4548(0x220)];}else _0x4fb99c===_0x1c4548(0x2ca)&&(_0x3b952f=_0x5e6741[_0x1c4548(0x1a7)][_0x1c4548(0x680)]()===_0x238d6a[_0x1c4548(0x193)]);}_0x3b952f?_0x5e6741['classList'][_0x1c4548(0x256)](_0x1c4548(0x545),_0x1c4548(0x698),_0x1c4548(0x12f)):_0x5e6741[_0x1c4548(0x27d)][_0x1c4548(0x256)]('opacity-50');}),_0x3d17d5[_0xbc8874(0x27d)]['remove']('opacity-50');let _0x5c8266=![];if(_0x4fb99c===_0xbc8874(0x3aa))_0x5c8266=parseInt(_0x3d17d5['dataset'][_0xbc8874(0x3bb)])===_0x238d6a[_0xbc8874(0x5f9)];else{if(_0x4fb99c===_0xbc8874(0x3ae))_0x5c8266=_0x3d17d5[_0xbc8874(0x53a)][_0xbc8874(0x523)]==='true'===_0x238d6a[_0xbc8874(0x220)];else _0x4fb99c===_0xbc8874(0x2ca)&&(_0x5c8266=_0x3d17d5[_0xbc8874(0x1a7)][_0xbc8874(0x680)]()===_0x238d6a[_0xbc8874(0x193)]);}!_0x5c8266&&_0x3d17d5['classList']['add'](_0xbc8874(0x6a5),_0xbc8874(0x698),'border-red-700'),document[_0xbc8874(0x34c)]('presentation-explanation')[_0xbc8874(0x27d)][_0xbc8874(0x24a)](_0xbc8874(0x3ac));}function startWholeQuizTimer(_0x251f57){const _0x207857=_0x1894c9,_0xb6639=document[_0x207857(0x34c)]('timer-container');if(!_0xb6639)return;const _0x58641f=Date[_0x207857(0x695)]()+_0x251f57*0x3c*0x3e8;_0xb6639[_0x207857(0x282)]=_0x207857(0x11d);const _0x1054ad=document[_0x207857(0x34c)](_0x207857(0x250));quizTimerInterval=setInterval(()=>{const _0x196f8e=_0x207857,_0x579f9b=_0x58641f-Date['now']();if(_0x579f9b<=0x0)clearInterval(quizTimerInterval),_0x1054ad[_0x196f8e(0x1a7)]='00:00',showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x25d434=Math['floor'](_0x579f9b/0x3e8/0x3c%0x3c)[_0x196f8e(0x4d0)]()['padStart'](0x2,'0'),_0x1703d3=Math['floor'](_0x579f9b/0x3e8%0x3c)[_0x196f8e(0x4d0)]()['padStart'](0x2,'0');_0x1054ad[_0x196f8e(0x1a7)]=_0x25d434+':'+_0x1703d3;}},0x3e8);}function renderPerQuestionView(){const _0x2bf03d=_0x1894c9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2e5ed6=currentDisplayedQuiz[_0x2bf03d(0x53f)][currentQuestionIndex],_0x188c1d=_0x2e5ed6[_0x2bf03d(0x385)]||currentDisplayedQuiz['quizType'];let _0x1e2926=_0x2bf03d(0x3fe)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x2bf03d(0x53f)][_0x2bf03d(0x284)]+_0x2bf03d(0x2d4)+(currentMode===_0x2bf03d(0x346)?_0x2bf03d(0x4d6):'')+_0x2bf03d(0x5f1)+currentDisplayedQuiz[_0x2bf03d(0x122)]+_0x2bf03d(0x6a2)+(currentQuestionIndex===currentDisplayedQuiz[_0x2bf03d(0x53f)][_0x2bf03d(0x284)]-0x1?_0x2bf03d(0x16c):_0x2bf03d(0x58d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x1e2926;let _0x2b4b04='',_0x1991a6='';switch(_0x188c1d){case _0x2bf03d(0x2ca):_0x2b4b04=currentQuestionIndex+0x1+'.\x20'+_0x2e5ed6[_0x2bf03d(0x223)],_0x1991a6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e5ed6[_0x2bf03d(0x5f0)]['map'](_0x1e4113=>_0x2bf03d(0x209)+_0x1e4113+'\x22>'+_0x1e4113+_0x2bf03d(0x607))[_0x2bf03d(0x5cb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2bf03d(0x3ae):_0x2b4b04=currentQuestionIndex+0x1+'.\x20'+_0x2e5ed6[_0x2bf03d(0xdd)],_0x1991a6=_0x2bf03d(0x43e);break;case _0x2bf03d(0x6a1):case _0x2bf03d(0x4d8):_0x2b4b04=currentQuestionIndex+0x1+'.\x20'+_0x2e5ed6[_0x2bf03d(0xdd)],_0x1991a6='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x2bf03d(0x3aa):case _0x2bf03d(0x33a):default:_0x2b4b04=currentQuestionIndex+0x1+'.\x20'+_0x2e5ed6['questionText'],_0x1991a6=_0x2e5ed6[_0x2bf03d(0x146)][_0x2bf03d(0x4ed)]((_0x123a6a,_0x1397f6)=>_0x2bf03d(0x1a6)+_0x1397f6+_0x2bf03d(0x53c)+_0x1397f6+_0x2bf03d(0x508)+_0x1397f6+'\x22>'+_0x123a6a+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2bf03d(0x5cb)]('');break;}_0x2e5ed6['imageCode']&&(_0x2b4b04+=_0x2bf03d(0x403)+_0x2e5ed6['imageCode']+_0x2bf03d(0x338));document[_0x2bf03d(0x34c)]('per-question-text')[_0x2bf03d(0x282)]=_0x2b4b04,document[_0x2bf03d(0x34c)](_0x2bf03d(0x501))['innerHTML']=_0x1991a6;if(currentMode===_0x2bf03d(0x346)){const _0x45f2b1=document['getElementById'](_0x2bf03d(0x5a6));if(_0x45f2b1)_0x45f2b1[_0x2bf03d(0xd5)](_0x2bf03d(0x5a4),cancelAdminTest);}document['getElementById'](_0x2bf03d(0x535))[_0x2bf03d(0xd5)](_0x2bf03d(0x5a4),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x2bf03d(0x5ce)][_0x2bf03d(0x16a)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2eba2e=_0x1894c9,_0x5b4d98=currentDisplayedQuiz[_0x2eba2e(0x5c1)][_0x2eba2e(0x4c4)],_0x3f62d9=document[_0x2eba2e(0x34c)](_0x2eba2e(0x434));if(!_0x3f62d9)return;let _0x3733d4=_0x5b4d98;_0x3f62d9[_0x2eba2e(0x282)]=_0x2eba2e(0x617)+_0x3733d4+_0x2eba2e(0x15b);const _0x38f6d8=document[_0x2eba2e(0x34c)](_0x2eba2e(0x171)),_0x29a809=document[_0x2eba2e(0x34c)](_0x2eba2e(0x156));perQuestionTimerInterval=setInterval(()=>{const _0x4535ac=_0x2eba2e;_0x3733d4--;const _0x5a537b=_0x3733d4/_0x5b4d98*0x64;_0x38f6d8[_0x4535ac(0x410)][_0x4535ac(0x18e)]=_0x5a537b+'%',_0x29a809[_0x4535ac(0x1a7)]=_0x3733d4,_0x3733d4<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4535ac(0x509)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x77be36=![]){const _0x18cdf4=_0x1894c9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x795bda=null;if(!_0x77be36){const _0x5e8824=currentDisplayedQuiz[_0x18cdf4(0x53f)][currentQuestionIndex],_0x1e59a4=_0x5e8824[_0x18cdf4(0x385)]||currentDisplayedQuiz[_0x18cdf4(0x126)];if(_0x1e59a4==='short_answer'||_0x1e59a4===_0x18cdf4(0x4d8)){const _0x532b04=document[_0x18cdf4(0x3f0)](_0x18cdf4(0x1fd));_0x795bda=_0x532b04?_0x532b04[_0x18cdf4(0x387)]['trim']():'';}else{if(_0x1e59a4===_0x18cdf4(0x2ca)){const _0x257810=document[_0x18cdf4(0x3f0)]('#per-question-options\x20select');_0x795bda=_0x257810?_0x257810['value']:'';}else{const _0x7bfb2d=document[_0x18cdf4(0x3f0)](_0x18cdf4(0x46b));if(_0x7bfb2d){const _0x25a9ba=_0x7bfb2d['value'];_0x795bda=!isNaN(parseInt(_0x25a9ba,0xa))&&_0x25a9ba['trim']()!==''?parseInt(_0x25a9ba,0xa):_0x25a9ba;}}}}studentAnswersPerQuestion[_0x18cdf4(0x10d)](_0x795bda),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x18cdf4(0x53f)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x414dd4=_0x1894c9,_0x275998=currentDisplayedQuiz['questions'][_0x414dd4(0x149)](_0x36cd99=>_0x36cd99[_0x414dd4(0x385)]==='short_answer');_0x275998?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x29a4f8=currentQuizData['id'],_0x498631=doc(db,_0x414dd4(0x59b)+appId+'/public/data/quizzes/'+_0x29a4f8+_0x414dd4(0x5ba),currentStudentName),_0x3c1e2b=await getDoc(_0x498631),_0x184a16=_0x3c1e2b[_0x414dd4(0x113)]()?_0x3c1e2b[_0x414dd4(0x192)]():{},_0x18d086=_0x184a16['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x18d086);}function getResultsFilename(){const _0x491b57=_0x1894c9,_0xcf6832=document['getElementById'](_0x491b57(0x140))['textContent'][_0x491b57(0x3d1)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x491b57(0x227)+(_0xcf6832||'quiz');}function exportResultsAsImage(){const _0x597b5e=_0x1894c9,_0x140f94=document['getElementById']('results-table-container');showMessage(_0x597b5e(0x23d)),html2canvas(_0x140f94)['then'](_0x562591=>{const _0x545b59=_0x597b5e,_0x37ae86=document[_0x545b59(0x484)]('a');_0x37ae86[_0x545b59(0x319)]=getResultsFilename()+_0x545b59(0x2f7),_0x37ae86[_0x545b59(0x11b)]=_0x562591['toDataURL'](_0x545b59(0x6af)),_0x37ae86[_0x545b59(0x5a4)](),messageModal[_0x545b59(0x27d)][_0x545b59(0x256)]('hidden');});}function exportResultsAsPDF(){const _0x587712=_0x1894c9,{jsPDF:_0x1eb8bb}=window[_0x587712(0xea)],_0x14769c=new _0x1eb8bb();_0x14769c[_0x587712(0x198)](_0x587712(0x24e),_0x587712(0x5c4)),_0x14769c[_0x587712(0x11e)]({'html':_0x587712(0x1cb)}),_0x14769c[_0x587712(0x329)](getResultsFilename()+_0x587712(0x48b));}function exportResultsAsWord(){const _0x2dbd87=_0x1894c9,_0x5a4c8d=_0x2dbd87(0x667)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x2dbd87(0x50e)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0xa0521f=_0x2dbd87(0x17d),_0x147ed1=_0x5a4c8d+document['getElementById'](_0x2dbd87(0x27b))[_0x2dbd87(0x282)]+_0xa0521f,_0x48189d='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x147ed1),_0x1b5ee4=document[_0x2dbd87(0x484)]('a');document[_0x2dbd87(0x34f)][_0x2dbd87(0x4c3)](_0x1b5ee4),_0x1b5ee4[_0x2dbd87(0x11b)]=_0x48189d,_0x1b5ee4[_0x2dbd87(0x319)]=getResultsFilename()+_0x2dbd87(0x5d6),_0x1b5ee4[_0x2dbd87(0x5a4)](),document['body']['removeChild'](_0x1b5ee4);}function exportResultsAsExcel(){const _0x3d0c50=_0x1894c9,_0x2581df=document['getElementById'](_0x3d0c50(0x25a));let _0x1a7f1b=[];for(let _0x5d7ddc=0x0;_0x5d7ddc<_0x2581df['rows']['length'];_0x5d7ddc++){let _0x11bfec=[],_0x46299a=_0x2581df[_0x3d0c50(0x1bb)][_0x5d7ddc][_0x3d0c50(0x16f)](_0x3d0c50(0x1af));for(let _0x2700ae=0x0;_0x2700ae<_0x46299a['length'];_0x2700ae++){_0x11bfec[_0x3d0c50(0x10d)]('\x22'+_0x46299a[_0x2700ae][_0x3d0c50(0x1a0)][_0x3d0c50(0x3d1)](/"/g,'\x22\x22')+'\x22');}_0x1a7f1b[_0x3d0c50(0x10d)](_0x11bfec[_0x3d0c50(0x5cb)](','));}const _0x1a13c1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1a7f1b['join']('\x0a')],{'type':_0x3d0c50(0x67a)}),_0x195305=document[_0x3d0c50(0x484)]('a');_0x195305[_0x3d0c50(0x11b)]=URL['createObjectURL'](_0x1a13c1),_0x195305[_0x3d0c50(0x319)]=getResultsFilename()+_0x3d0c50(0x42b),_0x195305[_0x3d0c50(0x5a4)]();}function exportTableAsImage(_0x17ba01,_0x53daf0){const _0x411ec7=_0x1894c9,_0x2f30fc=document[_0x411ec7(0x34c)](_0x17ba01);if(!_0x2f30fc){showMessage(_0x411ec7(0x60c));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x2f30fc)[_0x411ec7(0x328)](_0xc215c6=>{const _0x34a0ba=_0x411ec7,_0x2b8738=document[_0x34a0ba(0x484)]('a');_0x2b8738[_0x34a0ba(0x319)]=_0x53daf0+_0x34a0ba(0x2f7),_0x2b8738['href']=_0xc215c6[_0x34a0ba(0x1bf)](_0x34a0ba(0x6af)),_0x2b8738[_0x34a0ba(0x5a4)](),messageModal[_0x34a0ba(0x27d)][_0x34a0ba(0x256)](_0x34a0ba(0x3ac));});}function exportTableAsPDF(_0x1ad985,_0x56e10d){const _0x7bc6ce=_0x1894c9,{jsPDF:_0x1dddea}=window[_0x7bc6ce(0xea)],_0x4685d0=new _0x1dddea();_0x4685d0[_0x7bc6ce(0x198)](_0x7bc6ce(0x24e),_0x7bc6ce(0x5c4)),_0x4685d0['autoTable']({'html':'#'+_0x1ad985}),_0x4685d0[_0x7bc6ce(0x329)](_0x56e10d+_0x7bc6ce(0x48b));}function exportTableAsWord(_0x3e36bc,_0x3faab2){const _0x5462d9=_0x1894c9,_0xb73ee5=document[_0x5462d9(0x34c)](_0x3e36bc);if(!_0xb73ee5){showMessage(_0x5462d9(0x60c));return;}const _0x2fddd6=_0x5462d9(0x667)+_0x5462d9(0x2a3)+_0x5462d9(0x50e)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x9c2e49=_0x5462d9(0x17d),_0xf25dbf=_0x2fddd6+_0xb73ee5[_0x5462d9(0x282)]+_0x9c2e49,_0x4f3fce=_0x5462d9(0x34a)+encodeURIComponent(_0xf25dbf),_0x24a8fb=document[_0x5462d9(0x484)]('a');document[_0x5462d9(0x34f)][_0x5462d9(0x4c3)](_0x24a8fb),_0x24a8fb[_0x5462d9(0x11b)]=_0x4f3fce,_0x24a8fb['download']=_0x3faab2+_0x5462d9(0x5d6),_0x24a8fb['click'](),document[_0x5462d9(0x34f)][_0x5462d9(0x194)](_0x24a8fb);}function exportTableAsExcel(_0x3c41fb,_0x39897d){const _0x82d2fc=_0x1894c9,_0x263de9=document[_0x82d2fc(0x34c)](_0x3c41fb);if(!_0x263de9){showMessage(_0x82d2fc(0x60c));return;}let _0x57fdc2=[];for(let _0x2c3bcf=0x0;_0x2c3bcf<_0x263de9[_0x82d2fc(0x1bb)][_0x82d2fc(0x284)];_0x2c3bcf++){let _0x253edc=[],_0x56c74d=_0x263de9['rows'][_0x2c3bcf]['querySelectorAll'](_0x82d2fc(0x1af));for(let _0x1927df=0x0;_0x1927df<_0x56c74d[_0x82d2fc(0x284)];_0x1927df++){_0x253edc[_0x82d2fc(0x10d)]('\x22'+_0x56c74d[_0x1927df][_0x82d2fc(0x1a0)][_0x82d2fc(0x3d1)](/"/g,'\x22\x22')+'\x22');}_0x57fdc2[_0x82d2fc(0x10d)](_0x253edc['join'](','));}const _0xffeebc=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x57fdc2[_0x82d2fc(0x5cb)]('\x0a')],{'type':_0x82d2fc(0x67a)}),_0x4625db=document['createElement']('a');_0x4625db[_0x82d2fc(0x11b)]=URL[_0x82d2fc(0x1ee)](_0xffeebc),_0x4625db[_0x82d2fc(0x319)]=_0x39897d+_0x82d2fc(0x42b),_0x4625db['click']();}function renderAnalytics(_0x22d3a9,_0x476d56){const _0x40d61b=_0x1894c9,_0xc05b9=currentProjectData[_0x40d61b(0x4cf)][_0x40d61b(0x284)],_0x282552=_0x476d56[_0x40d61b(0x284)],_0x507af1=_0xc05b9-_0x282552,_0x4e35f6=_0xc05b9>0x0?_0x282552/_0xc05b9*0x64:0x0,_0x235605=_0x476d56['map'](_0x27a8ed=>_0x27a8ed[_0x40d61b(0x5e4)]),_0x10f6b0=_0x235605['length']>0x0?_0x235605['reduce']((_0xd20276,_0x3f1b11)=>_0xd20276+_0x3f1b11,0x0)/_0x235605[_0x40d61b(0x284)]:0x0,_0x1df3c7=_0x22d3a9[_0x40d61b(0x53f)]['length'],_0x7a2007=_0x1df3c7>0x0?_0x10f6b0/_0x1df3c7*0x64:0x0,_0x49ce0f=calculateItemAnalysis(_0x22d3a9,_0x476d56),_0x323864=calculateReliabilityKR20(_0x22d3a9,_0x476d56,_0x49ce0f);let _0x204f53='';if(_0x323864!==null){let _0x3d812b='';if(_0x323864>=0.9)_0x3d812b=_0x40d61b(0x327);else{if(_0x323864>=0.8)_0x3d812b='ดีมาก';else{if(_0x323864>=0.7)_0x3d812b='ดี';else{if(_0x323864>=0.6)_0x3d812b='พอใช้';else _0x3d812b=_0x40d61b(0x4e6);}}}_0x204f53='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x323864[_0x40d61b(0x5db)](0x2)+_0x40d61b(0x47f)+_0x3d812b+_0x40d61b(0x228);}const _0x5e1fc7=document[_0x40d61b(0x34c)](_0x40d61b(0x566));_0x5e1fc7['innerHTML']=_0x40d61b(0xcb)+_0x4e35f6[_0x40d61b(0x5db)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x282552+'/'+_0xc05b9+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x10f6b0['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x7a2007[_0x40d61b(0x5db)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x235605[_0x40d61b(0x284)]>0x0?Math[_0x40d61b(0x3fc)](..._0x235605):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x235605['length']>0x0?Math[_0x40d61b(0x320)](..._0x235605):_0x40d61b(0x622))+_0x40d61b(0x586)+_0x204f53+_0x40d61b(0x51d);const _0x5d46ff=currentProjectData[_0x40d61b(0x4cf)]||[];renderSubmissionChart(_0x282552,_0x507af1,_0x476d56,_0x5d46ff),renderScoreDistributionChart(_0x476d56,_0x1df3c7),renderQuestionAnalytics(_0x22d3a9,_0x476d56,_0x5d46ff);}function renderSubmissionChart(_0x56926e,_0x405327,_0x266ceb,_0x30ee39){const _0x2d4b48=_0x1894c9,_0x3b04ad=document[_0x2d4b48(0x34c)]('submission-status-chart')[_0x2d4b48(0x106)]('2d'),_0x3df664=_0x266ceb[_0x2d4b48(0x4ed)](_0x480cad=>_0x480cad[_0x2d4b48(0x124)]),_0x251843=_0x30ee39[_0x2d4b48(0x46c)](_0x3bd3c3=>!_0x3df664[_0x2d4b48(0x17e)](_0x3bd3c3));chartInstances[_0x2d4b48(0x624)]&&chartInstances['submission']['destroy'](),chartInstances[_0x2d4b48(0x624)]=new Chart(_0x3b04ad,{'type':_0x2d4b48(0xfa),'data':{'labels':[_0x2d4b48(0x28d),'ยังไม่ส่ง'],'datasets':[{'data':[_0x56926e,_0x405327],'backgroundColor':[_0x2d4b48(0x55b),_0x2d4b48(0x443)],'borderColor':[_0x2d4b48(0x43b),_0x2d4b48(0x43b)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x5efc27){const _0xbe5515=_0x2d4b48;let _0x395109=_0x5efc27[_0xbe5515(0x453)]||'';return _0x395109&&(_0x395109+=':\x20'),_0x395109+=_0x5efc27[_0xbe5515(0xed)],_0x395109;},'afterLabel':function(_0x424f4b){const _0x321d14=_0x2d4b48;let _0x1bd1b6;return _0x424f4b[_0x321d14(0x474)]===0x0?_0x1bd1b6=_0x3df664:_0x1bd1b6=_0x251843,_0x1bd1b6[_0x321d14(0x284)]>0x0?_0x1bd1b6[_0x321d14(0x5cb)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x59499f,_0x57019d){const _0x165675=_0x1894c9,_0x3d6daa=document['getElementById']('score-distribution-chart')['getContext']('2d'),_0x4f15c4={};for(let _0xe0e56f=0x0;_0xe0e56f<=_0x57019d;_0xe0e56f++){_0x4f15c4[_0xe0e56f]=0x0;}_0x59499f['forEach'](_0x52e5d0=>{const _0x2a2523=_0x1997;_0x4f15c4[_0x52e5d0[_0x2a2523(0x5e4)]]!==undefined&&_0x4f15c4[_0x52e5d0[_0x2a2523(0x5e4)]]++;}),chartInstances[_0x165675(0x2b2)]&&chartInstances[_0x165675(0x2b2)][_0x165675(0x548)](),chartInstances[_0x165675(0x2b2)]=new Chart(_0x3d6daa,{'type':_0x165675(0x38b),'data':{'labels':Object['keys'](_0x4f15c4),'datasets':[{'label':_0x165675(0x190),'data':Object[_0x165675(0x492)](_0x4f15c4),'backgroundColor':_0x165675(0x660),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x165675(0x225)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x148c9e){const _0x5c3c50=_0x165675,_0x590801=_0x148c9e[_0x5c3c50(0x453)],_0x5f46a2=_0x59499f[_0x5c3c50(0x46c)](_0x23be36=>_0x23be36[_0x5c3c50(0x5e4)]==_0x590801)[_0x5c3c50(0x4ed)](_0x2f67e8=>_0x2f67e8['studentName']);return _0x5f46a2[_0x5c3c50(0x284)]>0x0?_0x5f46a2[_0x5c3c50(0x5cb)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x28a32f,_0x22c0f4,_0x4ced6b){const _0x388951=_0x1894c9,_0x533ea6=document[_0x388951(0x34c)](_0x388951(0x110));if(_0x4ced6b[_0x388951(0x284)]===0x0){_0x533ea6['innerHTML']=_0x388951(0x27e);return;}const _0x1f8295=calculateItemAnalysis(_0x28a32f,_0x22c0f4),_0x7f058c=calculateDistractorAnalysis(_0x28a32f,_0x22c0f4);let _0x1b34fd='';_0x1f8295[_0x388951(0x326)]&&(_0x1b34fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1f8295[_0x388951(0x326)][_0x388951(0x224)][_0x388951(0x284)]+_0x388951(0xf0)+_0x1f8295['overallGroups'][_0x388951(0x224)]['map'](_0x46d631=>_0x388951(0x5c7)+_0x46d631+_0x388951(0x557))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1f8295[_0x388951(0x326)][_0x388951(0x692)][_0x388951(0x284)]+_0x388951(0xf0)+_0x1f8295[_0x388951(0x326)][_0x388951(0x692)][_0x388951(0x4ed)](_0x53b1da=>_0x388951(0x5c7)+_0x53b1da+_0x388951(0x557))[_0x388951(0x5cb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x15396f='';const _0x4bc804=_0x22c0f4[_0x388951(0x4ed)](_0x486c51=>_0x486c51[_0x388951(0x124)]),_0x5a963d=_0x301cfe=>{const _0x1af016=_0x388951;if(_0x301cfe>=0.8)return _0x1af016(0x438);if(_0x301cfe>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x301cfe>=0.4)return _0x1af016(0x3e0);if(_0x301cfe>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x840b0d=_0x1ac364=>{const _0x35ef17=_0x388951;if(_0x1ac364<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x1ac364>=0.4)return _0x35ef17(0x57e);if(_0x1ac364>=0.3)return _0x35ef17(0x1f5);if(_0x1ac364>=0.2)return _0x35ef17(0x23c);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';};_0x28a32f[_0x388951(0x53f)]['forEach']((_0x1141d8,_0x2efd9e)=>{const _0x298cb6=_0x388951,_0x1539ea=_0x1f8295[_0x298cb6(0x2c0)][_0x2efd9e],_0x5dab80=_0x7f058c[_0x2efd9e],_0x9e5fb1=_0x1141d8[_0x298cb6(0x223)]||_0x1141d8[_0x298cb6(0xdd)]||_0x1141d8[_0x298cb6(0x5c5)];let _0x231fab=0x0;const _0x451d04=[],_0x20e22d=[];_0x22c0f4[_0x298cb6(0x36d)](_0x13d418=>{const _0x54e07f=_0x298cb6,_0x2ef998=_0x13d418[_0x54e07f(0x6b8)][_0x13d418[_0x54e07f(0x6b8)]['length']-0x1];if(_0x2ef998&&_0x2ef998[_0x54e07f(0x3ed)]){const _0x29c35f=_0x2ef998[_0x54e07f(0x3ed)][_0x54e07f(0x204)](_0x3b4477=>_0x3b4477['originalQuestionText']===_0x9e5fb1)??_0x2ef998[_0x54e07f(0x3ed)][_0x2efd9e]??null;_0x29c35f&&(_0x29c35f['isCorrect']?(_0x231fab++,_0x451d04[_0x54e07f(0x10d)](_0x13d418[_0x54e07f(0x124)])):_0x20e22d['push'](_0x13d418[_0x54e07f(0x124)]));}});const _0x29c5d6=_0x22c0f4['length']>0x0?_0x231fab/_0x22c0f4[_0x298cb6(0x284)]*0x64:0x0,_0x407036=_0x4ced6b[_0x298cb6(0x46c)](_0xa5323c=>!_0x4bc804[_0x298cb6(0x17e)](_0xa5323c)),_0x2f96ee=_0x1539ea?_0x298cb6(0x62c)+_0x1539ea['p']['toFixed'](0x2)+_0x298cb6(0x2d7)+_0x5a963d(_0x1539ea['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x1539ea['r'][_0x298cb6(0x5db)](0x2)+'</p><div>'+_0x840b0d(_0x1539ea['r'])+_0x298cb6(0x6ba):'';let _0x1c391e='';_0x5dab80&&(_0x1c391e=_0x298cb6(0x33c)+Object[_0x298cb6(0x12a)](_0x5dab80)[_0x298cb6(0x4ed)](_0x385025=>{const _0x693855=_0x298cb6,_0x3eb95a=_0x5dab80[_0x385025],_0x38de83=parseInt(_0x385025)===_0x1141d8[_0x693855(0x5f9)],_0x38b708=!_0x38de83&&_0x3eb95a[_0x693855(0x39f)]>_0x3eb95a['upper_group_count'];return _0x693855(0xff)+(_0x38de83?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x38de83?'✔\x20':'')+_0x3eb95a[_0x693855(0x2bb)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3eb95a[_0x693855(0x57b)]+_0x693855(0x553)+_0x3eb95a[_0x693855(0x39f)]+'\x20'+(_0x38b708?'👍':'')+_0x693855(0x553)+_0x3eb95a[_0x693855(0x330)]+_0x693855(0x1aa);})[_0x298cb6(0x5cb)]('')+_0x298cb6(0x454));let _0x2c46c0='';_0x1539ea&&_0x1539ea[_0x298cb6(0x498)]&&(_0x2c46c0=_0x298cb6(0x3f5)+_0x1539ea[_0x298cb6(0x498)][_0x298cb6(0x284)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x1539ea[_0x298cb6(0x498)][_0x298cb6(0x4ed)](_0x111243=>_0x298cb6(0x5c7)+(_0x111243['isCorrect']?_0x298cb6(0x2d8):_0x298cb6(0x165))+'\x20'+_0x111243[_0x298cb6(0x642)]+'</li>')[_0x298cb6(0x5cb)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1539ea['lowerGroupResponders'][_0x298cb6(0x284)]+_0x298cb6(0x143)+_0x1539ea['lowerGroupResponders']['map'](_0x10ffdb=>_0x298cb6(0x5c7)+(_0x10ffdb['isCorrect']?_0x298cb6(0x2d8):_0x298cb6(0x165))+'\x20'+_0x10ffdb[_0x298cb6(0x642)]+'</li>')[_0x298cb6(0x5cb)]('')+_0x298cb6(0x36a)),_0x15396f+=_0x298cb6(0x5c9)+(_0x2efd9e+0x1)+':\x20'+_0x9e5fb1+_0x298cb6(0x21d)+_0x2f96ee+_0x298cb6(0x697)+_0x9e5fb1+_0x298cb6(0xf1)+_0x231fab+_0x298cb6(0x66c)+_0x22c0f4['length']+_0x298cb6(0x1b8)+_0x29c5d6[_0x298cb6(0x5db)](0x0)+_0x298cb6(0x394)+_0x451d04['length']+_0x298cb6(0x300)+(_0x451d04[_0x298cb6(0x284)]>0x0?_0x451d04[_0x298cb6(0x5cb)](',\x20'):_0x298cb6(0x58b))+_0x298cb6(0x4f3)+_0x20e22d['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x20e22d[_0x298cb6(0x284)]>0x0?_0x20e22d['join'](',\x20'):_0x298cb6(0x58b))+_0x298cb6(0x23b)+_0x407036[_0x298cb6(0x284)]+_0x298cb6(0x300)+(_0x407036[_0x298cb6(0x284)]>0x0?_0x407036[_0x298cb6(0x5cb)](',\x20'):_0x298cb6(0x58b))+_0x298cb6(0x14d)+_0x1c391e+_0x298cb6(0x516)+_0x2c46c0+_0x298cb6(0x24b);}),_0x533ea6[_0x388951(0x282)]=_0x1b34fd+_0x15396f;try{window[_0x388951(0x5ce)]&&MathJax[_0x388951(0x16a)]&&MathJax[_0x388951(0x16a)]([_0x533ea6]);}catch(_0x7e089a){console['error'](_0x388951(0x521),_0x7e089a);}}function calculateDistractorAnalysis(_0x324c3c,_0x27bfe0){const _0x47db5e=_0x1894c9,_0x56be8b={};if(_0x27bfe0[_0x47db5e(0x284)]<0x2)return _0x56be8b;const _0x4bc07b=[..._0x27bfe0][_0x47db5e(0x6bb)]((_0x2890d8,_0xe1305f)=>{const _0x441689=_0x47db5e,_0x29d8ad=_0xe1305f[_0x441689(0x5e4)]-_0x2890d8[_0x441689(0x5e4)];if(_0x29d8ad!==0x0)return _0x29d8ad;const _0x534931=_0x2890d8['attempts']?.[_0x441689(0x284)]||0x1,_0xc22cc4=_0xe1305f[_0x441689(0x6b8)]?.[_0x441689(0x284)]||0x1,_0x2c2327=_0x534931-_0xc22cc4;if(_0x2c2327!==0x0)return _0x2c2327;const _0x363fa5=new Date(_0x2890d8[_0x441689(0x264)]),_0x5d6cd8=new Date(_0xe1305f['latestSubmittedAt']),_0xe494cd=_0x363fa5-_0x5d6cd8;if(_0xe494cd!==0x0)return _0xe494cd;return _0x2890d8[_0x441689(0x124)]['localeCompare'](_0xe1305f[_0x441689(0x124)],'th');}),_0x234999=_0x4bc07b['length'],_0x1cf8f2=Math[_0x47db5e(0x3fc)](0x1,Math[_0x47db5e(0x3fd)](_0x234999*0.33)),_0x545c11=_0x4bc07b['slice'](0x0,_0x1cf8f2),_0x4a59a5=_0x4bc07b['slice'](-_0x1cf8f2);return _0x324c3c[_0x47db5e(0x53f)][_0x47db5e(0x36d)]((_0x34609e,_0x59797b)=>{const _0x4faa7b=_0x47db5e;if(_0x34609e['questionType']!==_0x4faa7b(0x3aa)||!_0x34609e[_0x4faa7b(0x146)])return;const _0x319f6d=_0x34609e[_0x4faa7b(0xdd)],_0x1403eb={};_0x34609e[_0x4faa7b(0x146)][_0x4faa7b(0x36d)]((_0x32658c,_0x1b1d72)=>{_0x1403eb[_0x1b1d72]={'text':_0x32658c,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x4bc07b[_0x4faa7b(0x36d)](_0x40656c=>{const _0x3620c4=_0x4faa7b,_0x2c1a2b=_0x40656c[_0x3620c4(0x6b8)][_0x40656c['attempts'][_0x3620c4(0x284)]-0x1],_0xd438e7=_0x2c1a2b[_0x3620c4(0x3ed)]['find'](_0x190eba=>_0x190eba[_0x3620c4(0x4f9)]===_0x319f6d)||_0x2c1a2b[_0x3620c4(0x3ed)][_0x59797b];if(_0xd438e7&&_0xd438e7[_0x3620c4(0x523)]!==null&&_0x1403eb[_0xd438e7[_0x3620c4(0x523)]]){const _0x31114e=_0xd438e7[_0x3620c4(0x523)];_0x1403eb[_0x31114e]['total']++,_0x545c11[_0x3620c4(0x17e)](_0x40656c)&&_0x1403eb[_0x31114e]['upper_group_count']++,_0x4a59a5[_0x3620c4(0x17e)](_0x40656c)&&_0x1403eb[_0x31114e][_0x3620c4(0x39f)]++;}}),_0x56be8b[_0x59797b]=_0x1403eb;}),_0x56be8b;}function calculateReliabilityKR20(_0x2e4423,_0x4959bc,_0x7e6735){const _0x3213ee=_0x1894c9,_0x2662f8=_0x2e4423[_0x3213ee(0x53f)][_0x3213ee(0x284)];if(_0x2662f8<0x2||_0x4959bc[_0x3213ee(0x284)]<0x2)return null;const _0x2c1968=_0x4959bc[_0x3213ee(0x4ed)](_0x4d8352=>_0x4d8352['latestScore']),_0x491d26=_0x2c1968[_0x3213ee(0x38a)]((_0x46dde3,_0x158177)=>_0x46dde3+_0x158177,0x0)/_0x2c1968[_0x3213ee(0x284)],_0x394a44=_0x2c1968[_0x3213ee(0x4ed)](_0x1c6a3a=>Math['pow'](_0x1c6a3a-_0x491d26,0x2))[_0x3213ee(0x38a)]((_0x332918,_0x2a6c9a)=>_0x332918+_0x2a6c9a,0x0)/_0x2c1968['length'];if(_0x394a44===0x0)return null;let _0x5860a8=0x0;for(let _0x4ebd98=0x0;_0x4ebd98<_0x2662f8;_0x4ebd98++){const _0x23ad64=_0x7e6735[_0x4ebd98]?.['p'];if(_0x23ad64===undefined)continue;const _0x2deea6=0x1-_0x23ad64;_0x5860a8+=_0x23ad64*_0x2deea6;}const _0x210113=_0x2662f8/(_0x2662f8-0x1)*(0x1-_0x5860a8/_0x394a44);return _0x210113;}async function handleAnalyzeClass(){const _0x389872=_0x1894c9;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x389872(0x3a1));return;}const _0x1b2c84=collection(db,_0x389872(0x59b)+appId+_0x389872(0x1c0)+currentQuizData['id']+'/submissions'),_0x437924=await getDocs(_0x1b2c84),_0x3789eb=_0x437924[_0x389872(0x5de)][_0x389872(0x4ed)](_0x1000ee=>_0x1000ee[_0x389872(0x192)]());if(_0x3789eb[_0x389872(0x284)]<0x2){showMessage(_0x389872(0x2b1));return;}const _0x18114e=document[_0x389872(0x34c)](_0x389872(0x5b3));_0x18114e[_0x389872(0x282)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x389872(0x34c)]('analyze-strengths-btn')[_0x389872(0x3db)]=!![];const _0xa97c09=_0x3789eb[_0x389872(0x4ed)]((_0x52c885,_0x20b66e)=>{const _0x31d1bf=_0x389872,_0x33c8af=_0x52c885[_0x31d1bf(0x6b8)][_0x52c885[_0x31d1bf(0x6b8)][_0x31d1bf(0x284)]-0x1];if(!_0x33c8af)return'';return _0x31d1bf(0x55a)+(_0x20b66e+0x1)+'\x20('+_0x52c885[_0x31d1bf(0x124)]+_0x31d1bf(0x519)+_0x33c8af[_0x31d1bf(0x2b2)]+'/'+_0x52c885[_0x31d1bf(0x164)]+_0x31d1bf(0x325)+JSON[_0x31d1bf(0x3b3)](_0x33c8af[_0x31d1bf(0x3ed)])+_0x31d1bf(0x3be);})['join'](_0x389872(0x324)),_0x219ff2=_0x389872(0x183)+currentQuizData[_0x389872(0x122)]+_0x389872(0x115)+JSON[_0x389872(0x3b3)](currentQuizData[_0x389872(0x53f)])+_0x389872(0x6b0)+_0xa97c09+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0xc1d267={'type':_0x389872(0x111),'properties':{'classStrengths':{'type':_0x389872(0x1ab),'items':{'type':_0x389872(0x400)}},'classWeaknesses':{'type':_0x389872(0x1ab),'items':{'type':_0x389872(0x400)}},'teacherSuggestions':{'type':_0x389872(0x1ab),'items':{'type':'STRING'}}},'required':[_0x389872(0x22a),_0x389872(0x5b1),_0x389872(0x2e6)]};try{const _0x370960=await callAnalysisApi(_0x219ff2,_0xc1d267);displayClassAnalysis(_0x370960);}catch(_0x49d932){console[_0x389872(0x370)](_0x389872(0x3e2),_0x49d932),_0x18114e[_0x389872(0x282)]=_0x389872(0x13f)+_0x49d932[_0x389872(0x243)]+_0x389872(0x639);}finally{document[_0x389872(0x34c)](_0x389872(0x4bb))[_0x389872(0x3db)]=![];}}function displayClassAnalysis(_0x1189f3){const _0xc81af5=_0x1894c9,_0x5f144a=document[_0xc81af5(0x34c)](_0xc81af5(0x5b3));if(!_0x1189f3){_0x5f144a[_0xc81af5(0x282)]=_0xc81af5(0x533);return;}_0x5f144a[_0xc81af5(0x282)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1189f3[_0xc81af5(0x22a)][_0xc81af5(0x4ed)](_0x295a75=>'<li>'+_0x295a75+_0xc81af5(0x557))[_0xc81af5(0x5cb)]('')+_0xc81af5(0x499)+_0x1189f3[_0xc81af5(0x5b1)]['map'](_0x2482de=>_0xc81af5(0x5c7)+_0x2482de+_0xc81af5(0x557))[_0xc81af5(0x5cb)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1189f3[_0xc81af5(0x2e6)]['map'](_0x38efcb=>_0xc81af5(0x5c7)+_0x38efcb+_0xc81af5(0x557))[_0xc81af5(0x5cb)]('')+_0xc81af5(0x656);}function formatAndPrintWorksheet(_0x46e146,_0x4ac725){const _0x361909=_0x1894c9,_0x545d34=_0x361909(0x2d9)+_0x46e146[_0x361909(0x122)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x46e146[_0x361909(0x122)]+_0x361909(0x3f8)+_0x46e146[_0x361909(0x53f)][_0x361909(0x4ed)]((_0x6024cd,_0x2b017b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x2b017b+0x1)+'.\x20'+_0x6024cd['questionText']+_0x361909(0x14c)+(_0x6024cd[_0x361909(0x27f)]?_0x361909(0x2f0)+_0x6024cd[_0x361909(0x27f)]+_0x361909(0x338):'')+_0x361909(0x409))[_0x361909(0x5cb)]('')+_0x361909(0x3df);_0x4ac725['document'][_0x361909(0x51a)](_0x545d34),_0x4ac725[_0x361909(0x644)][_0x361909(0x2ba)](),_0x4ac725[_0x361909(0x157)]=function(){setTimeout(()=>{const _0x2d9fa6=_0x1997;_0x4ac725[_0x2d9fa6(0x5c0)]();},0x3e8);};}async function generateWorksheet(){const _0x2d1d01=_0x1894c9,_0x529663=document['getElementById'](_0x2d1d01(0x21e))['value'][_0x2d1d01(0x680)]();if(!_0x529663){showMessage(_0x2d1d01(0x6ab));return;}const _0x4af062=document[_0x2d1d01(0x34c)](_0x2d1d01(0x235))[_0x2d1d01(0x5f8)],_0x5a2189=_0x4af062?'':_0x2d1d01(0x29c),_0x914b71=window[_0x2d1d01(0x64d)]('','_blank');_0x914b71['document'][_0x2d1d01(0x51a)]('<h1></h1>');const _0x27b643=parseInt(document[_0x2d1d01(0x34c)](_0x2d1d01(0x245))[_0x2d1d01(0x387)]),_0x4d3c8a=document[_0x2d1d01(0x34c)](_0x2d1d01(0x68b))['checked'],_0x3d5792=_0x4d3c8a?_0x2d1d01(0x637):'',_0xf4542b=_0x2d1d01(0x3ef)+_0x5a2189+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x27b643+_0x2d1d01(0x195)+_0x529663+_0x2d1d01(0x39a)+_0x3d5792+_0x2d1d01(0x3d9)+simpleMathPrompt+_0x2d1d01(0x572),_0x3dfe00={'type':_0x2d1d01(0x111),'properties':{'topic':{'type':_0x2d1d01(0x400)},'questions':{'type':_0x2d1d01(0x1ab),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x2d1d01(0x400)},'imageCode':{'type':'STRING'}},'required':[_0x2d1d01(0xdd)]}}},'required':['topic','questions']};document[_0x2d1d01(0x34c)]('loader-text')[_0x2d1d01(0x1a7)]='',document[_0x2d1d01(0x34c)](_0x2d1d01(0x14a))[_0x2d1d01(0x27d)][_0x2d1d01(0x24a)](_0x2d1d01(0x3ac)),document['getElementById']('quiz-generation-area')[_0x2d1d01(0x27d)][_0x2d1d01(0x24a)]('hidden'),generateWorksheetBtn[_0x2d1d01(0x3db)]=!![];try{const _0x329486=await callAnalysisApi(_0xf4542b,_0x3dfe00);formatAndPrintWorksheet(_0x329486,_0x914b71);}catch(_0x15209a){console[_0x2d1d01(0x370)](_0x2d1d01(0x62b),_0x15209a);if(_0x914b71)_0x914b71['close']();showMessage(_0x2d1d01(0x33d));}finally{document[_0x2d1d01(0x34c)](_0x2d1d01(0x14a))['classList'][_0x2d1d01(0x256)](_0x2d1d01(0x3ac)),document['getElementById']('quiz-generation-area')[_0x2d1d01(0x27d)][_0x2d1d01(0x256)]('hidden'),generateWorksheetBtn[_0x2d1d01(0x3db)]=![];}}async function callAnalysisApi(_0x44a03e,_0x15ef54){const _0x142522=_0x1894c9,_0x1fcc43={'contents':[{'role':_0x142522(0x588),'parts':[{'text':_0x44a03e}]}],'generationConfig':{'responseMimeType':_0x142522(0x3b8),'responseSchema':_0x15ef54}},_0x186d07=_0x142522(0x629),_0x51624c=_0x142522(0x3a6)+_0x186d07,_0x45b85c=await fetch(_0x51624c,{'method':_0x142522(0x641),'headers':{'Content-Type':'application/json'},'body':JSON[_0x142522(0x3b3)](_0x1fcc43)});if(!_0x45b85c['ok'])throw new Error(_0x142522(0x461)+_0x45b85c[_0x142522(0x587)]);const _0x65d55f=await _0x45b85c['json']();if(_0x65d55f['candidates']?.[0x0]?.[_0x142522(0x3ee)]?.[_0x142522(0x1dc)]?.[0x0])return JSON[_0x142522(0x54e)](_0x65d55f['candidates'][0x0][_0x142522(0x3ee)][_0x142522(0x1dc)][0x0][_0x142522(0x2bb)]);else{let _0x295923=_0x142522(0x442);if(_0x65d55f['promptFeedback']?.[_0x142522(0x38e)])_0x295923='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x65d55f[_0x142522(0x275)][_0x142522(0x38e)]+'.';else _0x65d55f['candidates']?.[0x0]?.['finishReason']&&_0x65d55f['candidates'][0x0][_0x142522(0x334)]!==_0x142522(0x674)&&(_0x295923='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x65d55f[_0x142522(0x298)][0x0][_0x142522(0x334)]+'.');console[_0x142522(0x370)](_0x295923,JSON['stringify'](_0x65d55f));throw new Error(_0x295923);}}initialize();
