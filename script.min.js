const _0x3a383e=_0x35c4;(function(_0x29dd05,_0x141bc1){const _0xb2fa01=_0x35c4,_0x2845c4=_0x29dd05();while(!![]){try{const _0x20d4fd=-parseInt(_0xb2fa01(0x8ae))/0x1*(-parseInt(_0xb2fa01(0x3b5))/0x2)+-parseInt(_0xb2fa01(0x530))/0x3*(-parseInt(_0xb2fa01(0xb9c))/0x4)+-parseInt(_0xb2fa01(0x795))/0x5+parseInt(_0xb2fa01(0x187))/0x6*(-parseInt(_0xb2fa01(0xd0b))/0x7)+-parseInt(_0xb2fa01(0xa87))/0x8+-parseInt(_0xb2fa01(0xa9f))/0x9+parseInt(_0xb2fa01(0x2e3))/0xa;if(_0x20d4fd===_0x141bc1)break;else _0x2845c4['push'](_0x2845c4['shift']());}catch(_0x427b60){_0x2845c4['push'](_0x2845c4['shift']());}}}(_0x17b2,0x8e671));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x3a383e(0x258),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x3a383e(0x258),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x29470c=_0x3a383e;if(_0x29470c(0x815)in navigator)try{wakeLock=await navigator[_0x29470c(0x815)]['request'](_0x29470c(0x7ac)),console['log'](_0x29470c(0x6f8)),wakeLock[_0x29470c(0x224)](_0x29470c(0x14b),()=>{const _0x38dcfd=_0x29470c;console[_0x38dcfd(0x3ab)](_0x38dcfd(0xc26));});}catch(_0x5ada8f){console[_0x29470c(0x2e9)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x5ada8f[_0x29470c(0xce5)]+',\x20'+_0x5ada8f[_0x29470c(0x2db)]);}else console[_0x29470c(0xb65)](_0x29470c(0x839));},releaseWakeLock=async()=>{const _0x52fd95=_0x3a383e;wakeLock!==null&&(await wakeLock[_0x52fd95(0x14b)](),wakeLock=null,console[_0x52fd95(0x3ab)](_0x52fd95(0x868)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x50f9d1=_0x3a383e;if(!document['body'][_0x50f9d1(0x4c1)][_0x50f9d1(0x4b7)](_0x50f9d1(0x4c0))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x47084d=_0x50f9d1;document[_0x47084d(0x6d4)][_0x47084d(0x4c1)][_0x47084d(0x350)](_0x47084d(0x4c0)),console[_0x47084d(0x3ab)](_0x47084d(0x259));},inactivityTime);}}function wakeUpScreen(_0x44959e){const _0x140292=_0x3a383e;_0x44959e&&(_0x44959e[_0x140292(0x9e3)](),_0x44959e[_0x140292(0x4a0)]());document[_0x140292(0x6d4)]['classList'][_0x140292(0xb01)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x44ca3d=_0x140292;document[_0x44ca3d(0x6d4)][_0x44ca3d(0x4c1)][_0x44ca3d(0x350)](_0x44ca3d(0x4c0));},inactivityTime);}function stopDimTimer(){const _0x5ee9b0=_0x3a383e;if(dimTimer)clearTimeout(dimTimer);document['body']['classList'][_0x5ee9b0(0xb01)](_0x5ee9b0(0x4c0)),window['removeEventListener'](_0x5ee9b0(0xc7a),resetDimTimer),window[_0x5ee9b0(0xbaf)]('mousedown',resetDimTimer),window[_0x5ee9b0(0xbaf)](_0x5ee9b0(0x3f4),resetDimTimer),window[_0x5ee9b0(0xbaf)](_0x5ee9b0(0x5b4),resetDimTimer),console[_0x5ee9b0(0x3ab)](_0x5ee9b0(0x976));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4f7d75,_0x58fecd=![]){const _0x4b3eca=_0x3a383e,_0x34f465=allQuizzes[_0x4b3eca(0x51d)](_0x46b603=>_0x46b603['id']===_0x4f7d75)||allQuizzesGlobal[_0x4b3eca(0x51d)](_0x20ea54=>_0x20ea54['id']===_0x4f7d75);if(!_0x34f465){showMessage(_0x4b3eca(0x8a4));return;}currentQuizData=getShuffledQuiz(_0x34f465);const _0x3aa8a4=Math[_0x4b3eca(0x429)](0x3e8+Math[_0x4b3eca(0x9f5)]()*0x2328)['toString']();try{const _0x2e2e5b=await addDoc(collection(db,_0x4b3eca(0xc93)+appId+'/public/data/teamQuizzes'),{'quizId':_0x34f465['id'],'projectId':_0x34f465['projectId'],'status':_0x4b3eca(0xcbe),'pin':_0x3aa8a4,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x58fecd});currentTeamQuizId=_0x2e2e5b['id'],showView(_0x4b3eca(0x7e0)),renderAdminTeamQuizDashboard(_0x3aa8a4,_0x34f465[_0x4b3eca(0x65f)]),listenForTeamQuizUpdates();}catch(_0x2dac02){console[_0x4b3eca(0x2e9)](_0x4b3eca(0x9e5),_0x2dac02),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x52ec6a,_0x4851d3,_0x147587=_0x3a383e(0x799)){const _0x1e1a92=_0x3a383e,_0x5f16a9=_0x147587===_0x1e1a92(0xb3b)?_0x1e1a92(0x688):'Team\x20Quiz';liveGameView[_0x1e1a92(0x377)]=_0x1e1a92(0x867)+_0x5f16a9+':\x20'+_0x4851d3+_0x1e1a92(0x4f4)+_0x52ec6a+_0x1e1a92(0x42e),document[_0x1e1a92(0x552)](_0x1e1a92(0xa59))[_0x1e1a92(0x224)](_0x1e1a92(0x43a),async()=>{const _0xa7fd04=_0x1e1a92;showConfirmation(_0xa7fd04(0x2e7),async()=>{const _0x33f759=_0xa7fd04;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x33f759(0xc93)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x33f759(0x76f));});});}function listenForTeamQuizUpdates(){const _0x2511bd=_0x3a383e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x3205b0=doc(db,_0x2511bd(0xc93)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x3205b0,_0x2c6f5c=>{const _0x17bf07=_0x2511bd;if(!_0x2c6f5c[_0x17bf07(0x837)]()){sessionStorage[_0x17bf07(0x2c2)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x17bf07(0x5ef));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x17bf07(0x4a6)?showView('project-detail'):showView(_0x17bf07(0x927));return;}const _0x1120aa=_0x2c6f5c[_0x17bf07(0x183)]();if(currentMode==='admin'){if(_0x1120aa[_0x17bf07(0x657)]===_0x17bf07(0xb3b)&&_0x1120aa[_0x17bf07(0xb09)]!=='podium'&&_0x1120aa[_0x17bf07(0xb09)]!=='finished'){const _0x4cdf2b=Object[_0x17bf07(0x8b4)](_0x1120aa[_0x17bf07(0xacc)]||{});if(_0x4cdf2b[_0x17bf07(0x636)]>0x0){const _0xc6dea5=_0x4cdf2b[_0x17bf07(0xc0c)](_0x1d36ec=>_0x1d36ec['isFinished']===!![]);_0xc6dea5&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x1120aa);}else{if(_0x1120aa[_0x17bf07(0xb09)]==='podium'||_0x1120aa[_0x17bf07(0xb09)]===_0x17bf07(0x9a3)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x1120aa['mode']==='group'){const _0x3cc5af=_0x1120aa[_0x17bf07(0xacc)][userId];(!_0x3cc5af||!_0x3cc5af[_0x17bf07(0xbdf)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x36d178){const _0x2d214f=_0x3a383e;console[_0x2d214f(0x3ab)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x3a8452=doc(db,_0x2d214f(0xc93)+appId+'/public/data/teamQuizzes',_0x36d178);try{const _0xfc563=await getDoc(_0x3a8452);if(_0xfc563[_0x2d214f(0x837)]()){const _0x439c81=_0xfc563[_0x2d214f(0x183)]();_0x439c81['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x439c81);}await updateDoc(_0x3a8452,{'status':_0x2d214f(0xc5d)});}catch(_0x3c1b58){console[_0x2d214f(0x2e9)](_0x2d214f(0xa7b),_0x3c1b58);}}function updateAdminTeamDashboard(_0x14e107){const _0x1dfd18=_0x3a383e,_0x5763c7=document[_0x1dfd18(0x552)](_0x1dfd18(0x62d));if(!_0x5763c7)return;const _0x347a52=_0x14e107[_0x1dfd18(0x657)]||_0x1dfd18(0x799),_0x4fe041=currentQuizData[_0x1dfd18(0x5cd)][_0x1dfd18(0x636)];if(_0x347a52===_0x1dfd18(0xb3b)){const _0x457741=Object['values'](_0x14e107[_0x1dfd18(0xacc)]||{});if(_0x457741[_0x1dfd18(0x636)]===0x0){_0x5763c7[_0x1dfd18(0x377)]=_0x1dfd18(0xb18);return;}const _0x4f7416=[..._0x457741][_0x1dfd18(0xa29)]((_0x2575fa,_0x2f6121)=>_0x2f6121['score']-_0x2575fa[_0x1dfd18(0xbd7)]),_0x293c91=_0x4f7416[_0x1dfd18(0x75d)]((_0x2474fa,_0x4e67aa)=>{const _0xb53e96=_0x1dfd18,_0x278093=_0x2474fa[_0xb53e96(0x7b5)]?.[_0xb53e96(0x636)]||0x0;return _0xb53e96(0x5d4)+(_0x4e67aa+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x2474fa[_0xb53e96(0x66f)][_0xb53e96(0xa89)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x278093+'/'+_0x4fe041+_0xb53e96(0xcbb)+_0x2474fa[_0xb53e96(0xbd7)]+_0xb53e96(0x46b);})[_0x1dfd18(0xa89)](''),_0x185e55=currentQuizData[_0x1dfd18(0x5cd)][_0x1dfd18(0x75d)]((_0x589ca9,_0x265a55)=>{const _0x483cee=_0x1dfd18;let _0xed7eab=0x0,_0x10b77a=0x0;_0x457741[_0x483cee(0x1f5)](_0x334b6f=>{const _0x835722=_0x483cee,_0x2f5e13=_0x334b6f[_0x835722(0x7b5)]?.[_0x835722(0x51d)](_0x4c9e89=>_0x4c9e89[_0x835722(0x4e7)]===_0x265a55);if(_0x2f5e13){_0x10b77a++;if(_0x2f5e13[_0x835722(0x1c8)])_0xed7eab++;}});const _0x578bb8=_0x10b77a>0x0&&_0x10b77a===_0x457741[_0x483cee(0x636)],_0x935797=_0x578bb8?_0x483cee(0xb0a):_0x483cee(0x3d0),_0x184eec=_0x578bb8?_0x483cee(0x3b6):'';return _0x483cee(0x72f)+_0x935797+_0x483cee(0x3e1)+(_0x265a55+0x1)+_0x483cee(0x7ab)+_0x184eec+_0x483cee(0x186)+_0xed7eab+'/'+_0x457741[_0x483cee(0x636)]+_0x483cee(0xaf1);})[_0x1dfd18(0xa89)]('');_0x5763c7[_0x1dfd18(0x377)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x293c91+_0x1dfd18(0x4e4)+_0x185e55+_0x1dfd18(0x4f0);return;}const _0x26445d=_0x14e107[_0x1dfd18(0x634)]||{},_0x16c175=Object[_0x1dfd18(0xb17)](_0x26445d);if(_0x16c175[_0x1dfd18(0x636)]===0x0){_0x5763c7[_0x1dfd18(0x377)]=_0x1dfd18(0x18a);return;}const _0x430d8b=_0x16c175[_0x1dfd18(0x75d)](_0x24ca68=>({'name':_0x24ca68,'score':_0x26445d[_0x24ca68][_0x1dfd18(0xbd7)]||0x0}))[_0x1dfd18(0xa29)]((_0x58ba22,_0x90bce8)=>_0x90bce8[_0x1dfd18(0xbd7)]-_0x58ba22['score']),_0xd8bbf4=_0x430d8b[_0x1dfd18(0x75d)](_0x524790=>{const _0x25f2f8=_0x1dfd18,_0x4ecb57=_0x26445d[_0x524790[_0x25f2f8(0xce5)]]?.[_0x25f2f8(0x7b5)]?.[_0x25f2f8(0x636)]||0x0,_0x4e18ba=Math['ceil'](_0x4fe041/_0x16c175[_0x25f2f8(0x636)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x524790[_0x25f2f8(0xce5)]+_0x25f2f8(0x2ba)+_0x4ecb57+'/'+_0x4e18ba+_0x25f2f8(0x1e4)+_0x524790[_0x25f2f8(0xbd7)]+_0x25f2f8(0xc53);})[_0x1dfd18(0xa89)](''),_0x2ba86b=_0x16c175[_0x1dfd18(0x67f)]((_0x20c950,_0x5682ec)=>_0x20c950+(_0x26445d[_0x5682ec]['answers']?.['length']||0x0),0x0),_0x2cf51d=currentQuizData[_0x1dfd18(0x5cd)][_0x1dfd18(0x75d)]((_0x50cc81,_0x1a3301)=>{const _0x435469=_0x1dfd18;let _0x21144b=null,_0x3f96e1=null;for(const _0x3f4478 of _0x16c175){const _0x357bdf=_0x26445d[_0x3f4478][_0x435469(0x7b5)]?.[_0x435469(0x51d)](_0x18dd76=>_0x18dd76['questionIndex']===_0x1a3301);if(_0x357bdf){_0x21144b=_0x357bdf,_0x3f96e1=_0x3f4478;break;}}const _0x445f39=!!_0x21144b,_0xc02759=_0x445f39&&_0x21144b[_0x435469(0x1c8)],_0x5bcc73=(Math['floor'](_0x1a3301/_0x16c175['length'])+0x1)*_0x16c175['length'],_0x49bf4d=_0x2ba86b>=_0x5bcc73,_0x1d790b=_0x49bf4d?_0x435469(0xccb):_0x435469(0x3d0),_0x53bf0e=_0x49bf4d?_0x435469(0x3b6):'';let _0x16a45a=_0x435469(0x787);return _0x445f39&&(_0x16a45a=_0x3f96e1+_0x435469(0xb36)+(_0xc02759?_0x435469(0x8d1):_0x435469(0x44d))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x1d790b+_0x435469(0x3e1)+(_0x1a3301+0x1)+_0x435469(0x7ab)+_0x53bf0e+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x16a45a+_0x435469(0x61b);})[_0x1dfd18(0xa89)]('');_0x5763c7[_0x1dfd18(0x377)]=_0x1dfd18(0xabc)+_0xd8bbf4+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x2cf51d+_0x1dfd18(0x4f0);}async function handleJoinTeamQuiz(){const _0x25151a=_0x3a383e,_0x5bfbc7=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x5bfbc7||_0x5bfbc7[_0x25151a(0x887)]()[_0x25151a(0x636)]!==0x4){showMessage(_0x25151a(0xc5e));return;}try{const _0x178f1e=collection(db,_0x25151a(0xc93)+appId+_0x25151a(0x54d)),_0x18dcd3=query(_0x178f1e,where(_0x25151a(0xb40),'==',_0x5bfbc7[_0x25151a(0x887)]()),where(_0x25151a(0xb09),'==','lobby')),_0xc77d9e=await getDocs(_0x18dcd3);if(_0xc77d9e[_0x25151a(0x491)]){showMessage(_0x25151a(0x47a));return;}const _0x3d0e23=_0xc77d9e[_0x25151a(0x975)][0x0];currentTeamQuizId=_0x3d0e23['id'];const _0x586cde=_0x3d0e23[_0x25151a(0x183)](),_0x29daea=doc(db,_0x25151a(0xc93)+appId+_0x25151a(0x5c5),_0x586cde[_0x25151a(0x88a)]),_0x5085dd=doc(db,_0x25151a(0xc93)+appId+'/public/data/quizzes',_0x586cde[_0x25151a(0x1e8)]),[_0x40b15e,_0x3bfedf]=await Promise['all']([getDoc(_0x29daea),getDoc(_0x5085dd)]);if(!_0x40b15e[_0x25151a(0x837)]()||!_0x3bfedf[_0x25151a(0x837)]())throw new Error(_0x25151a(0x6de));currentQuizData=getShuffledQuiz({'id':_0x3bfedf['id'],..._0x3bfedf['data']()});const _0x5a4004=_0x40b15e[_0x25151a(0x183)]();showTeamPlayerSelection(_0x5a4004[_0x25151a(0x748)],currentQuizData['topic']);}catch(_0x1f04b5){console[_0x25151a(0x2e9)]('Error\x20joining\x20team\x20quiz:',_0x1f04b5),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1f04b5['message']);}}async function handleJoinGroupActivity(){const _0x12e692=_0x3a383e,_0x371ff8=prompt(_0x12e692(0x407));if(!_0x371ff8||_0x371ff8[_0x12e692(0x887)]()[_0x12e692(0x636)]!==0x4){showMessage(_0x12e692(0x940));return;}const _0x14dcb2=_0x371ff8[_0x12e692(0x887)]();showMessage(_0x12e692(0xaa4));try{const _0x2cfc4b=collection(db,'artifacts/'+appId+_0x12e692(0x54d)),_0x583b2f=query(_0x2cfc4b,where(_0x12e692(0xb40),'==',_0x14dcb2),where(_0x12e692(0xb09),'==',_0x12e692(0xcbe))),_0x2dfb17=await getDocs(_0x583b2f);if(!_0x2dfb17['empty']){console[_0x12e692(0x3ab)](_0x12e692(0x385)),await proceedWithTeamQuizJoin(_0x2dfb17[_0x12e692(0x975)][0x0]);return;}const _0x2dad82=collection(db,_0x12e692(0xc93)+appId+_0x12e692(0x67c)),_0x42fab3=query(_0x2dad82,where(_0x12e692(0xb40),'==',_0x14dcb2),where(_0x12e692(0xb09),'==',_0x12e692(0xcbe))),_0x15c95e=await getDocs(_0x42fab3);if(!_0x15c95e[_0x12e692(0x491)]){console[_0x12e692(0x3ab)](_0x12e692(0x4f7)),await proceedWithSyncQuizJoin(_0x15c95e[_0x12e692(0x975)][0x0]);return;}showMessage(_0x12e692(0xb34));}catch(_0x599fc5){console[_0x12e692(0x2e9)]('Error\x20joining\x20activity:',_0x599fc5),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x599fc5[_0x12e692(0x2db)]);}}async function proceedWithTeamQuizJoin(_0x184891){const _0x3c04d6=_0x3a383e;currentTeamQuizId=_0x184891['id'];const _0x40de5c=_0x184891[_0x3c04d6(0x183)](),_0x3fe9b9=doc(db,_0x3c04d6(0xc93)+appId+'/public/data/projects',_0x40de5c[_0x3c04d6(0x88a)]),_0x15d22d=doc(db,_0x3c04d6(0xc93)+appId+_0x3c04d6(0x766),_0x40de5c[_0x3c04d6(0x1e8)]),[_0x3dd130,_0x78e1f0]=await Promise[_0x3c04d6(0x258)]([getDoc(_0x3fe9b9),getDoc(_0x15d22d)]);if(!_0x3dd130[_0x3c04d6(0x837)]()||!_0x78e1f0[_0x3c04d6(0x837)]())throw new Error(_0x3c04d6(0x6de));currentQuizData=getShuffledQuiz({'id':_0x78e1f0['id'],..._0x78e1f0[_0x3c04d6(0x183)]()}),showTeamPlayerSelection(_0x3dd130[_0x3c04d6(0x183)]()[_0x3c04d6(0x748)],currentQuizData[_0x3c04d6(0x65f)],_0x40de5c[_0x3c04d6(0x657)]||_0x3c04d6(0x799)),messageModal['classList']['add'](_0x3c04d6(0x9d2));}async function proceedWithSyncQuizJoin(_0x1dbc94){const _0x60e7da=_0x3a383e;currentLiveGameId=_0x1dbc94['id'];const _0x18994f=_0x1dbc94[_0x60e7da(0x183)](),_0x2168a2=doc(db,'artifacts/'+appId+_0x60e7da(0x766),_0x18994f['quizId']),_0x10b22b=await getDoc(_0x2168a2);if(!_0x10b22b['exists']())throw new Error(_0x60e7da(0x8a4));const _0xc22643=_0x10b22b[_0x60e7da(0x183)](),_0x3cfee7=doc(db,_0x60e7da(0xc93)+appId+_0x60e7da(0x5c5),_0xc22643[_0x60e7da(0x88a)]),_0x2144a4=await getDoc(_0x3cfee7);if(!_0x2144a4[_0x60e7da(0x837)]())throw new Error(_0x60e7da(0xc73));currentQuizData=_0x18994f[_0x60e7da(0x402)],showView(_0x60e7da(0xc9a)),showTeamPlayerSelection(_0x2144a4[_0x60e7da(0x183)]()[_0x60e7da(0x748)],_0xc22643[_0x60e7da(0x65f)],_0x60e7da(0x9e0)),document[_0x60e7da(0x552)](_0x60e7da(0x687))[_0x60e7da(0x6f4)]=confirmAndJoinSyncGame,messageModal[_0x60e7da(0x4c1)][_0x60e7da(0x350)]('hidden');}function getCleanApplicationHTML(){const _0x26019f=_0x3a383e,_0x140637=document[_0x26019f(0x552)]('applicationContent');if(!_0x140637)return'';const _0x102dca=_0x140637[_0x26019f(0x7a5)](!![]);return _0x102dca['querySelectorAll'](_0x26019f(0xbee))[_0x26019f(0x1f5)](_0x2fb609=>{const _0x1569b0=_0x26019f;_0x2fb609['classList'][_0x1569b0(0xb01)](_0x1569b0(0xcf7),'incorrect'),_0x2fb609[_0x1569b0(0x7ce)]=![];}),_0x102dca['innerHTML'];}function showTeamPlayerSelection(_0x19aa01,_0x4755c8,_0x2ac705=_0x3a383e(0x799)){const _0x49f62a=_0x3a383e;studentInitialView[_0x49f62a(0x4c1)][_0x49f62a(0x350)]('hidden'),studentJoinGameView[_0x49f62a(0x4c1)][_0x49f62a(0x350)]('hidden'),document['getElementById']('student-team-selection-view')[_0x49f62a(0x4c1)]['remove']('hidden');let _0x559b3f=_0x49f62a(0x98a);if(_0x2ac705===_0x49f62a(0xb3b))_0x559b3f=_0x49f62a(0x688);else _0x2ac705===_0x49f62a(0x9e0)&&(_0x559b3f=_0x49f62a(0x520));document['getElementById'](_0x49f62a(0x529))[_0x49f62a(0x37a)]=_0x559b3f+':\x20'+_0x4755c8;const _0x84f566=document['getElementById'](_0x49f62a(0x5a4));if(!_0x19aa01||_0x19aa01[_0x49f62a(0x636)]===0x0){_0x84f566[_0x49f62a(0x377)]=_0x49f62a(0xb50),document['getElementById']('confirm-team-players-btn')['disabled']=!![];return;}_0x84f566['innerHTML']=_0x19aa01[_0x49f62a(0x75d)](_0x3eb044=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x3eb044+_0x49f62a(0x76e)+_0x3eb044+_0x49f62a(0x7ff))[_0x49f62a(0xa89)](''),document[_0x49f62a(0x552)](_0x49f62a(0x687))[_0x49f62a(0x7ce)]=![];}async function confirmAndStartTeamQuiz(){const _0x1bbae1=_0x3a383e,_0x3c2c86=Array[_0x1bbae1(0x659)](document['querySelectorAll'](_0x1bbae1(0x40c)))[_0x1bbae1(0x75d)](_0x5e2c88=>_0x5e2c88['value']);if(_0x3c2c86[_0x1bbae1(0x636)]===0x0){showMessage(_0x1bbae1(0x5b8));return;}localTeamPlayers=_0x3c2c86,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x6abfed=doc(db,_0x1bbae1(0xc93)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x1975b9=await getDoc(_0x6abfed);if(!_0x1975b9[_0x1bbae1(0x837)]())throw new Error(_0x1bbae1(0x809));const _0x527425=_0x1975b9[_0x1bbae1(0x183)]();if(_0x527425[_0x1bbae1(0x657)]===_0x1bbae1(0xb3b)){const _0x5d037f={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x6abfed,_0x5d037f);}else{const _0x1cfe0e=_0x527425['responses']||{};localTeamPlayers[_0x1bbae1(0x1f5)](_0x2c1388=>{!_0x1cfe0e[_0x2c1388]&&(_0x1cfe0e[_0x2c1388]={'score':0x0,'answers':[]});}),await updateDoc(_0x6abfed,{'responses':_0x1cfe0e});}document[_0x1bbae1(0x552)](_0x1bbae1(0x803))[_0x1bbae1(0x4c1)][_0x1bbae1(0x350)](_0x1bbae1(0x9d2)),renderTeamQuizQuestion();const _0x450c86={'gameId':currentTeamQuizId,'mode':_0x527425[_0x1bbae1(0x657)]||_0x1bbae1(0x799),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1bbae1(0x341)](_0x1bbae1(0xacf),JSON['stringify'](_0x450c86)),listenForTeamQuizUpdates();}catch(_0xf1607d){console[_0x1bbae1(0x2e9)](_0x1bbae1(0x232),_0xf1607d),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x476a7c=_0x3a383e;if(localQuestionIndex>=currentQuizData[_0x476a7c(0x5cd)][_0x476a7c(0x636)]){displayTeamQuizFinalResults();return;}const _0x56d89c=currentQuizData['questions'][localQuestionIndex],_0x258a7e=localTeamPlayers[localPlayerIndex],_0x135cb6=_0x56d89c[_0x476a7c(0x5be)]||currentQuizData['quizType'];let _0x41aa64=_0x56d89c[_0x476a7c(0x2a5)]||_0x56d89c['questionText'],_0x30c33d='';switch(_0x135cb6){case _0x476a7c(0x2df):case _0x476a7c(0x95b):_0x30c33d=_0x56d89c[_0x476a7c(0xb70)][_0x476a7c(0x75d)]((_0x6210ed,_0x1e0ca6)=>_0x476a7c(0x469)+_0x1e0ca6+_0x476a7c(0x1ba)+_0x1e0ca6+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x1e0ca6+'\x22>'+_0x6210ed+_0x476a7c(0x953))[_0x476a7c(0xa89)]('');break;case _0x476a7c(0x631):_0x30c33d=_0x476a7c(0x4ea);break;case _0x476a7c(0x952):case _0x476a7c(0x349):_0x30c33d='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x476a7c(0x4b4):_0x30c33d=_0x476a7c(0x514)+_0x56d89c[_0x476a7c(0xaeb)][_0x476a7c(0x75d)](_0x34b239=>'<option\x20value=\x22'+_0x34b239+'\x22>'+_0x34b239+_0x476a7c(0xa0c))[_0x476a7c(0xa89)]('')+_0x476a7c(0x222);break;default:_0x30c33d='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x476a7c(0x5e1)+currentQuizData['questions'][_0x476a7c(0x636)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x258a7e+_0x476a7c(0x54c)+(localQuestionIndex+0x1)+'.\x20'+_0x41aa64+_0x476a7c(0x6c3)+(_0x56d89c['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x56d89c[_0x476a7c(0x9e7)]+_0x476a7c(0xc87):'')+_0x476a7c(0x776)+_0x30c33d+_0x476a7c(0x673),studentQuizArea['classList'][_0x476a7c(0xb01)](_0x476a7c(0x9d2));if(window[_0x476a7c(0xc8b)])MathJax['typesetPromise']([studentQuizArea]);document[_0x476a7c(0x552)]('submit-team-answer-btn')[_0x476a7c(0x224)](_0x476a7c(0x43a),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x1511a8=_0x3a383e,_0x3459ef=currentQuizData['questions'][localQuestionIndex],_0x1f26a8=_0x3459ef[_0x1511a8(0x5be)]||currentQuizData[_0x1511a8(0x8bd)];let _0x241709=null,_0x3e268f=![];if(_0x1f26a8===_0x1511a8(0x952)||_0x1f26a8===_0x1511a8(0x349)){const _0x16489f=document[_0x1511a8(0x972)](_0x1511a8(0xb7f));if(!_0x16489f||!_0x16489f[_0x1511a8(0x203)]['trim']()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x241709=_0x16489f[_0x1511a8(0x203)]['trim'](),_0x3e268f=await gradeShortAnswer(_0x241709,_0x3459ef);}else{const _0x2fb636=document['querySelector'](_0x1511a8(0x425));if(!_0x2fb636||_0x2fb636[_0x1511a8(0x203)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x241709=_0x2fb636[_0x1511a8(0x203)];switch(_0x1f26a8){case _0x1511a8(0x631):_0x3e268f=_0x241709==='true'===_0x3459ef[_0x1511a8(0x207)];break;case _0x1511a8(0x4b4):_0x3e268f=_0x241709===_0x3459ef['correctResponse'];break;default:_0x3e268f=parseInt(_0x241709)===_0x3459ef[_0x1511a8(0xb21)];break;}}const _0x2123c0={'questionIndex':localQuestionIndex,'isCorrect':_0x3e268f},_0x1cf013=userId,_0x3cd2e4={[_0x1511a8(0x93b)+_0x1cf013+_0x1511a8(0xa1a)]:arrayUnion(_0x2123c0)};_0x3e268f&&(_0x3cd2e4[_0x1511a8(0x93b)+_0x1cf013+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x1511a8(0xc93)+appId+_0x1511a8(0x54d),currentTeamQuizId),_0x3cd2e4),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x1511a8(0x5cd)][_0x1511a8(0x636)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x347a2b){console[_0x1511a8(0x2e9)]('Error\x20submitting\x20group\x20answer:',_0x347a2b),showMessage(_0x1511a8(0x553));}}async function handleTeamAnswerSubmit(){const _0x1ecd26=_0x3a383e,_0x4939ee=await getDoc(doc(db,_0x1ecd26(0xc93)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x4939ee[_0x1ecd26(0x837)]())return;const _0x5155f9=_0x4939ee['data']();if(_0x5155f9[_0x1ecd26(0x657)]===_0x1ecd26(0xb3b)){handleGroupAnswerSubmit();return;}const _0xb7a22c=localTeamPlayers[localPlayerIndex],_0x46ce60=currentQuizData['questions'][localQuestionIndex],_0x45fdd1=_0x46ce60[_0x1ecd26(0x5be)]||currentQuizData[_0x1ecd26(0x8bd)];let _0x27a71b=null,_0x42f1ab=![];if(_0x45fdd1===_0x1ecd26(0x952)||_0x45fdd1==='fill_in_no_choices'){const _0x42d782=document['querySelector'](_0x1ecd26(0xb7f));if(!_0x42d782||!_0x42d782['value'][_0x1ecd26(0x887)]()){showMessage(_0x1ecd26(0xa9a));return;}_0x27a71b=_0x42d782['value'][_0x1ecd26(0x887)](),_0x42f1ab=await gradeShortAnswer(_0x27a71b,_0x46ce60);}else{const _0x20d901=document[_0x1ecd26(0x972)](_0x1ecd26(0x425));if(!_0x20d901||_0x20d901[_0x1ecd26(0x203)]===''){showMessage(_0x1ecd26(0xb87));return;}_0x27a71b=_0x20d901[_0x1ecd26(0x203)];switch(_0x45fdd1){case _0x1ecd26(0x631):_0x42f1ab=_0x27a71b===_0x1ecd26(0xcb5)===_0x46ce60['correctAnswer'];break;case'matching_item':_0x42f1ab=_0x27a71b===_0x46ce60['correctResponse'];break;default:_0x42f1ab=parseInt(_0x27a71b)===_0x46ce60[_0x1ecd26(0xb21)];break;}}const _0x51ef90={'questionIndex':localQuestionIndex,'isCorrect':_0x42f1ab,'answerValue':_0x27a71b},_0x3241f6={[_0x1ecd26(0x73c)+_0xb7a22c+_0x1ecd26(0xa1a)]:arrayUnion(_0x51ef90)};_0x42f1ab&&(_0x3241f6[_0x1ecd26(0x73c)+_0xb7a22c+_0x1ecd26(0x7d7)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x3241f6),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x1ecd26(0x636)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x647b10){console['error']('Error\x20submitting\x20team\x20answer:',_0x647b10),showMessage(_0x1ecd26(0x553));}}async function displayTeamQuizFinalResults(){const _0x89085a=_0x3a383e;studentQuizArea[_0x89085a(0x4c1)]['add']('hidden'),studentResultArea[_0x89085a(0x4c1)][_0x89085a(0xb01)]('hidden');const _0x2385db=doc(db,_0x89085a(0xc93)+appId+_0x89085a(0x54d),currentTeamQuizId),_0x10fc3b=await getDoc(_0x2385db);if(!_0x10fc3b['exists']()){studentResultArea[_0x89085a(0x377)]=_0x89085a(0xb6d);return;}const _0x1f9702=_0x10fc3b[_0x89085a(0x183)]();let _0x326674=[];const _0x2c546f=_0x1f9702[_0x89085a(0x657)]||_0x89085a(0x799);if(_0x2c546f===_0x89085a(0xb3b)){const _0x3ba5a5=_0x1f9702[_0x89085a(0xacc)][userId];_0x3ba5a5?_0x326674=[{'name':_0x89085a(0x6ed)+localTeamPlayers['join'](',\x20'),'score':_0x3ba5a5['score']||0x0}]:_0x326674=[{'name':_0x89085a(0xab5),'score':'N/A'}];}else _0x326674=localTeamPlayers[_0x89085a(0x75d)](_0x4798b9=>({'name':_0x4798b9,'score':_0x1f9702['responses'][_0x4798b9]?.[_0x89085a(0xbd7)]||0x0}))[_0x89085a(0xa29)]((_0x2b0c96,_0x58d251)=>_0x58d251[_0x89085a(0xbd7)]-_0x2b0c96[_0x89085a(0xbd7)]);studentResultArea[_0x89085a(0x377)]=_0x89085a(0x593)+_0x326674[_0x89085a(0x75d)](_0x8899fb=>_0x89085a(0x7bd)+_0x8899fb[_0x89085a(0xce5)]+_0x89085a(0x8bb)+_0x8899fb[_0x89085a(0xbd7)]+_0x89085a(0x80c))[_0x89085a(0xa89)]('')+_0x89085a(0x91a),sessionStorage[_0x89085a(0x2c2)]('activeGameSession'),currentMode===_0x89085a(0x4a6)&&currentTeamQuizId&&setTimeout(()=>{const _0x120136=_0x89085a;deleteDoc(doc(db,_0x120136(0xc93)+appId+_0x120136(0x54d),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x3a383e(0xab1)};const allMathTopics=[{'category':_0x3a383e(0x314),'name':_0x3a383e(0x3a0)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x408)},{'category':'จำนวนและการดำเนินการ','name':_0x3a383e(0x3c8)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x9fa)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x411)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0xbd1)},{'category':'จำนวนและการดำเนินการ','name':_0x3a383e(0x63e)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x60d)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0x3a383e(0x314),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':_0x3a383e(0x314),'name':'ค่าสัมบูรณ์'},{'category':_0x3a383e(0x314),'name':_0x3a383e(0xa16)},{'category':'จำนวนและการดำเนินการ','name':_0x3a383e(0x487)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x921)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x283)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0xa91)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x33c)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x5bd)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0xccd)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x744)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0xab4)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x3cc)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x221)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x717)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x779)},{'category':'จำนวนและการดำเนินการ','name':_0x3a383e(0x4d5)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x6da)},{'category':_0x3a383e(0x314),'name':'การหารทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x3a383e(0x412)},{'category':'จำนวนและการดำเนินการ','name':_0x3a383e(0x2a3)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0xc32)},{'category':'จำนวนและการดำเนินการ','name':_0x3a383e(0x884)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0xb03)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x25e)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x50a)},{'category':_0x3a383e(0x314),'name':_0x3a383e(0x5c8)},{'category':_0x3a383e(0x2fe),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x3a383e(0x1df)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x1f0)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x755)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x4f8)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x48e)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x6df)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x8f5)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x1dc)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x24d)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x1bf)},{'category':'การวัด','name':_0x3a383e(0x632)},{'category':_0x3a383e(0x2fe),'name':_0x3a383e(0x712)},{'category':'การวัด','name':_0x3a383e(0x9de)},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x3a3)},{'category':_0x3a383e(0x1f9),'name':'ความสัมพันธ์ของมุม'},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x3bd)},{'category':_0x3a383e(0x1f9),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x521)},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x30f)},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0xcc0)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x1fe)},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x23d)},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x969)},{'category':_0x3a383e(0x1f9),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x653)},{'category':'เรขาคณิต','name':_0x3a383e(0x442)},{'category':_0x3a383e(0x1f9),'name':_0x3a383e(0x58b)},{'category':_0x3a383e(0xaf3),'name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x1aa)},{'category':_0x3a383e(0xaf3),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x48f)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0xbe1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a383e(0xb78)},{'category':_0x3a383e(0xaf3),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x99f)},{'category':_0x3a383e(0xaf3),'name':'สมการยกกำลัง'},{'category':_0x3a383e(0xaf3),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a383e(0x3dc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a383e(0xbfd)},{'category':_0x3a383e(0xaf3),'name':'ระบบอสมการ'},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x621)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0xbb8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3a383e(0x805)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x5c3)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x84c)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0xc88)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x4ad)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x8b7)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x849)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0xaaf)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x968)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x851)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x89e)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x462)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0xc74)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x898)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x1a0)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x94f)},{'category':_0x3a383e(0xaf3),'name':_0x3a383e(0x252)},{'category':_0x3a383e(0x4fa),'name':_0x3a383e(0x47b)},{'category':_0x3a383e(0x4fa),'name':_0x3a383e(0x71c)},{'category':_0x3a383e(0x4fa),'name':_0x3a383e(0x4d4)},{'category':_0x3a383e(0x4fa),'name':_0x3a383e(0xba4)},{'category':_0x3a383e(0x4fa),'name':_0x3a383e(0x897)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3a383e(0xac9)},{'category':_0x3a383e(0x4fa),'name':_0x3a383e(0x8a2)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3a383e(0xadc)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3a383e(0x714)},{'category':'ตรีโกณมิติ','name':_0x3a383e(0xa2f)},{'category':'ตรีโกณมิติ','name':_0x3a383e(0x498)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':_0x3a383e(0x576)},{'category':'ตรีโกณมิติ','name':_0x3a383e(0x597)},{'category':_0x3a383e(0x30d),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x3a383e(0x30d),'name':_0x3a383e(0x396)},{'category':_0x3a383e(0x30d),'name':_0x3a383e(0x3df)},{'category':_0x3a383e(0x30d),'name':_0x3a383e(0xab7)},{'category':_0x3a383e(0x30d),'name':_0x3a383e(0x480)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x23e)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0xaf6)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0xb08)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x1e3)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x1c6)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a383e(0x1ac)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0xc85)},{'category':_0x3a383e(0x60c),'name':'ฐานนิยม'},{'category':_0x3a383e(0x60c),'name':'พิสัย'},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0xb0c)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x309)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x8ab)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x7a7)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a383e(0x5fd)},{'category':_0x3a383e(0x60c),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x3a383e(0x60c),'name':'กฎบวกและกฎคูณ'},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x23c)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a383e(0x9d0)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x348)},{'category':_0x3a383e(0x60c),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x9cf)},{'category':_0x3a383e(0x60c),'name':_0x3a383e(0x75b)},{'category':'สถิติและความน่าจะเป็น','name':_0x3a383e(0xb16)},{'category':_0x3a383e(0x3a2),'name':_0x3a383e(0x173)},{'category':_0x3a383e(0x3a2),'name':_0x3a383e(0x37e)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x3a383e(0x3a2),'name':_0x3a383e(0xb0d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3a383e(0x7df)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3a383e(0x194)},{'category':'แคลคูลัสเบื้องต้น','name':'ความชันเส้นสัมผัส'},{'category':_0x3a383e(0x3a2),'name':_0x3a383e(0x71d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3a383e(0x941)},{'category':_0x3a383e(0x3a2),'name':_0x3a383e(0x8c3)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x3a383e(0x3a2),'name':_0x3a383e(0x50d)},{'category':_0x3a383e(0xa1b),'name':_0x3a383e(0xbdc)},{'category':_0x3a383e(0xa1b),'name':_0x3a383e(0x77a)},{'category':_0x3a383e(0xa1b),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x3a383e(0xa1b),'name':_0x3a383e(0xbba)},{'category':_0x3a383e(0xa1b),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x3a383e(0xa1b),'name':_0x3a383e(0x864)},{'category':_0x3a383e(0xa1b),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x3a383e(0x24f),'name':_0x3a383e(0xb8d)},{'category':_0x3a383e(0x24f),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3a383e(0x227)},{'category':_0x3a383e(0x24f),'name':_0x3a383e(0xcfd)},{'category':_0x3a383e(0x24f),'name':_0x3a383e(0x40d)},{'category':_0x3a383e(0x8d4),'name':_0x3a383e(0xb45)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x3a383e(0x724)},{'category':_0x3a383e(0x8d4),'name':_0x3a383e(0xa58)}];function renderTopicCheckboxes(){const _0x31574a=_0x3a383e,_0x4994c7=document[_0x31574a(0x552)](_0x31574a(0x1f7));if(!_0x4994c7)return;const _0x480a8c=allMathTopics,_0x59f445=customMathTopics['map'](_0x324525=>({'id':_0x324525['id'],'category':_0x31574a(0x435),'name':_0x324525[_0x31574a(0xce5)]})),_0x4d4ed6=[..._0x480a8c,..._0x59f445],_0x5af535=_0x4d4ed6[_0x31574a(0x67f)]((_0x7f624b,_0x21b5fe)=>{const _0x31a45c=_0x31574a;return!_0x7f624b[_0x21b5fe[_0x31a45c(0x63d)]]&&(_0x7f624b[_0x21b5fe[_0x31a45c(0x63d)]]=[]),_0x7f624b[_0x21b5fe['category']][_0x31a45c(0x321)](_0x21b5fe),_0x7f624b;},{});let _0x249edb='';const _0x45bfbb=['หัวข้อที่สร้างเอง',...Object['keys'](_0x5af535)[_0x31574a(0x499)](_0x283094=>_0x283094!==_0x31574a(0x435))];for(const _0x2f9811 of _0x45bfbb){if(_0x5af535[_0x2f9811]){const _0x39665f=_0x2f9811===_0x31574a(0x435),_0x40eb64=_0x39665f?_0x31574a(0x1b2):_0x31574a(0xc90),_0x4b461e=_0x39665f?_0x31574a(0xb29):_0x31574a(0x61d);_0x249edb+=_0x31574a(0x9f6),_0x249edb+=_0x31574a(0x7fe)+_0x4b461e+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x40eb64+_0x31574a(0x507)+_0x2f9811+'</p>',_0x5af535[_0x2f9811][_0x31574a(0x1f5)](_0x1d8c4c=>{const _0x233e23=_0x31574a,_0xb99521=!!_0x1d8c4c['id'],_0x594d38=_0xb99521?_0x233e23(0xb2d)+_0x1d8c4c['id']+_0x233e23(0x62c)+_0x1d8c4c['id']+_0x233e23(0x289)+_0x1d8c4c['id']+_0x233e23(0x39e)+_0x1d8c4c['id']+_0x233e23(0x3b1):'';_0x249edb+=_0x233e23(0x591)+(_0x1d8c4c['id']||'')+_0x233e23(0x775)+_0x1d8c4c['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x1d8c4c['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb99521?_0x233e23(0x230)+_0x1d8c4c[_0x233e23(0xce5)]+'\x22>':'')+_0x233e23(0x352)+_0x594d38+_0x233e23(0x25d);}),_0x249edb+=_0x31574a(0xc87);}}_0x4994c7['innerHTML']=_0x249edb||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x4994c7[_0x31574a(0xbaf)](_0x31574a(0x52b),updateSelectedTopicsCount),_0x4994c7['addEventListener'](_0x31574a(0x52b),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x459626,_0x2d12db){const _0x59e252=_0x3a383e;if(!_0x459626||!_0x2d12db[_0x59e252(0x887)]()){showMessage(_0x59e252(0x88f));return;}try{const _0x31a647=doc(db,_0x59e252(0xc93)+appId+_0x59e252(0x90e),_0x459626);await updateDoc(_0x31a647,{'name':_0x2d12db[_0x59e252(0x887)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x41fe41){console['error'](_0x59e252(0x206),_0x41fe41),showMessage(_0x59e252(0x2f6));}}function toggleTopicEditMode(_0x346260,_0x190418){const _0x2f5739=_0x3a383e;if(!_0x346260)return;const _0x1129ef=_0x346260['querySelector'](_0x2f5739(0xc94)),_0x5b2aa5=_0x346260[_0x2f5739(0x972)](_0x2f5739(0x637)),_0x172635=_0x346260[_0x2f5739(0x972)](_0x2f5739(0x78d)),_0x4c3df7=_0x346260['querySelector']('.topic-actions-edit');_0x1129ef[_0x2f5739(0x4c1)][_0x2f5739(0x818)]('hidden',_0x190418),_0x5b2aa5[_0x2f5739(0x4c1)]['toggle']('hidden',!_0x190418),_0x172635[_0x2f5739(0x4c1)]['toggle'](_0x2f5739(0x9d2),_0x190418),_0x4c3df7[_0x2f5739(0x4c1)]['toggle'](_0x2f5739(0x9d2),!_0x190418),_0x190418&&(_0x5b2aa5[_0x2f5739(0x817)](),_0x5b2aa5['select']());}async function handleStartLiveRace(_0x3601ee){const _0x3bb935=_0x3a383e;let _0x4ede90=allQuizzes[_0x3bb935(0x51d)](_0x26dc3d=>_0x26dc3d['id']===_0x3601ee);if(!_0x4ede90){const _0x3c2f7f=doc(db,_0x3bb935(0xc93)+appId+'/public/data/quizzes',_0x3601ee),_0x2d1a84=await getDoc(_0x3c2f7f);if(!_0x2d1a84[_0x3bb935(0x837)]()){showMessage(_0x3bb935(0x8a4));return;}_0x4ede90={'id':_0x2d1a84['id'],..._0x2d1a84[_0x3bb935(0x183)]()};}const _0x5f4f51=getShuffledQuiz(_0x4ede90);currentQuizData=_0x5f4f51;const _0x1cb573=_0x4ede90['projectId']||currentProjectId||null,_0x3fa3cb=Math[_0x3bb935(0x429)](0x3e8+Math[_0x3bb935(0x9f5)]()*0x2328)[_0x3bb935(0x2de)]();currentLiveGamePin=_0x3fa3cb;try{const _0x13151f=await addDoc(collection(db,'artifacts/'+appId+_0x3bb935(0x291)),{'quizId':_0x3601ee,'projectId':_0x1cb573,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3fa3cb,'createdAt':serverTimestamp(),'shuffledQuiz':_0x5f4f51});currentLiveGameId=_0x13151f['id'],showAdminLobbyView(_0x3fa3cb,_0x4ede90[_0x3bb935(0x65f)]),listenForLiveGameUpdates();}catch(_0x367868){console['error']('Error\x20starting\x20live\x20race:',_0x367868),showMessage(_0x3bb935(0xc80));}}function updateSelectedTopicsCount(){const _0x512402=_0x3a383e,_0x24cbdc=document['getElementById']('math-topics-checkbox-container'),_0x1deff6=_0x24cbdc[_0x512402(0x3e0)](_0x512402(0x5f1))[_0x512402(0x636)],_0x1a8d6c=document[_0x512402(0x552)]('selected-topics-count');_0x1deff6>0x0?_0x1a8d6c['textContent']=_0x512402(0x5bf)+_0x1deff6+'\x20หัวข้อ)':_0x1a8d6c[_0x512402(0x37a)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3a383e(0x927),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3a383e(0x313),quizLeaderboardSortOrder=_0x3a383e(0xb54),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x3a383e(0x315),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x3a383e(0x559),scratchpadPenColor=_0x3a383e(0x5f3),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x12c4ec,_0x31eddf){const _0x3eeaa8=_0x3a383e;return Math[_0x3eeaa8(0x915)](Math[_0x3eeaa8(0x574)](_0x12c4ec['x']-_0x31eddf['x'],0x2)+Math[_0x3eeaa8(0x574)](_0x12c4ec['y']-_0x31eddf['y'],0x2));}function getMidpoint(_0x456065,_0x74beeb){return{'x':(_0x456065['x']+_0x74beeb['x'])/0x2,'y':(_0x456065['y']+_0x74beeb['y'])/0x2};}function getTransformedPoint(_0x25e66d,_0x5e4df0){return{'x':(_0x25e66d-scratchpadOffset['x'])/scratchpadScale,'y':(_0x5e4df0-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1638a2=_0x3a383e;if(!scratchpadCtx)return;const _0x501a80=scratchpadCtx[_0x1638a2(0x4ef)],_0x20864e=window[_0x1638a2(0x581)]||0x1,_0x2ce88d=document[_0x1638a2(0x552)](_0x1638a2(0x3a4));_0x2ce88d&&(_0x2ce88d[_0x1638a2(0x89b)][_0x1638a2(0x27a)]=_0x1638a2(0x307),_0x2ce88d[_0x1638a2(0x89b)][_0x1638a2(0x924)]='translate('+scratchpadOffset['x']+_0x1638a2(0x346)+scratchpadOffset['y']+_0x1638a2(0xd0e)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x1638a2(0xaef)](_0x20864e,0x0,0x0,_0x20864e,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x501a80[_0x1638a2(0x438)],_0x501a80[_0x1638a2(0x220)]),scratchpadCtx[_0x1638a2(0x900)](),scratchpadCtx[_0x1638a2(0x810)](),scratchpadCtx[_0x1638a2(0x46d)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x1638a2(0x1f5)](_0x3c2da1=>{drawStroke(_0x3c2da1);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1638a2(0x900)]();}function renderGroupModeQuestion(){const _0xfe9db7=_0x3a383e;if(localQuestionIndex>=currentQuizData[_0xfe9db7(0x5cd)][_0xfe9db7(0x636)]){displayTeamQuizFinalResults();return;}const _0x54db19=currentQuizData[_0xfe9db7(0x5cd)][localQuestionIndex],_0x118422=_0x54db19[_0xfe9db7(0x5be)]||currentQuizData[_0xfe9db7(0x8bd)];let _0x49ea01=_0x54db19[_0xfe9db7(0x2a5)]||_0x54db19[_0xfe9db7(0x629)],_0x570d93='';switch(_0x118422){case _0xfe9db7(0x2df):case'fill_in_with_choices':_0x570d93=_0x54db19['options']['map']((_0x97ac2f,_0x3b85b1)=>_0xfe9db7(0x469)+_0x3b85b1+_0xfe9db7(0x1ba)+_0x3b85b1+_0xfe9db7(0xbc7)+_0x3b85b1+'\x22>'+_0x97ac2f+_0xfe9db7(0x953))[_0xfe9db7(0xa89)]('');break;case _0xfe9db7(0x631):_0x570d93='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case _0xfe9db7(0x349):_0x570d93=_0xfe9db7(0x510);break;case _0xfe9db7(0x4b4):_0x570d93='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x54db19[_0xfe9db7(0xaeb)][_0xfe9db7(0x75d)](_0xcceff3=>_0xfe9db7(0x7dd)+_0xcceff3+'\x22>'+_0xcceff3+'</option>')[_0xfe9db7(0xa89)]('')+_0xfe9db7(0x222);break;default:_0x570d93=_0xfe9db7(0x9fd);break;}studentQuizArea[_0xfe9db7(0x377)]=_0xfe9db7(0x800)+(localQuestionIndex+0x1)+_0xfe9db7(0x5e1)+currentQuizData[_0xfe9db7(0x5cd)][_0xfe9db7(0x636)]+_0xfe9db7(0x46a)+localTeamPlayers[_0xfe9db7(0xa89)](',\x20')+_0xfe9db7(0x54c)+(localQuestionIndex+0x1)+'.\x20'+_0x49ea01+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x54db19[_0xfe9db7(0x9e7)]?_0xfe9db7(0x7d5)+_0x54db19[_0xfe9db7(0x9e7)]+'</div>':'')+_0xfe9db7(0x776)+_0x570d93+_0xfe9db7(0x8ad),studentQuizArea[_0xfe9db7(0x4c1)][_0xfe9db7(0xb01)](_0xfe9db7(0x9d2));if(window[_0xfe9db7(0xc8b)])MathJax['typesetPromise']([studentQuizArea]);document[_0xfe9db7(0x552)](_0xfe9db7(0xa64))['addEventListener'](_0xfe9db7(0x43a),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x21b6ce,_0x5ed771=null,_0x4f3b13,_0x12bf1f=null,_0x3fd5fa=![],_0x52f7e3=null){const _0x3c1f84=_0x3a383e,_0x1fbfc3=document[_0x3c1f84(0x552)](_0x3c1f84(0x6be));_0x1fbfc3&&_0x1fbfc3[_0x3c1f84(0x180)]({'behavior':_0x3c1f84(0x8da),'block':'center'}),generateQuiz(_0x21b6ce,_0x5ed771,null,_0x52f7e3,!![],_0x4f3b13,_0x12bf1f,_0x3fd5fa);}function handleGenerateAndShowLesson(_0x191609,_0x36e2ce){const _0x1e60da=_0x3a383e,_0x1fb149=document['getElementById'](_0x1e60da(0x4e0)),_0x125250=document[_0x1e60da(0x552)](_0x1e60da(0x86e)),_0x4bc020=document['getElementById'](_0x1e60da(0x391)),_0x5a0373=document[_0x1e60da(0x552)](_0x1e60da(0x38d));[_0x1e60da(0x831),'memoryContent',_0x1e60da(0x604),_0x1e60da(0x299)]['forEach'](_0x2acc85=>{const _0x2aa8ac=_0x1e60da,_0x560f7c=document[_0x2aa8ac(0x552)](_0x2acc85)[_0x2aa8ac(0x49b)];_0x560f7c&&(_0x560f7c[_0x2aa8ac(0x89b)][_0x2aa8ac(0xcab)]=_0x2aa8ac(0x29d));}),_0x125250[_0x1e60da(0x37a)]=_0x1e60da(0x933)+_0x191609,_0x5a0373[_0x1e60da(0x4c1)][_0x1e60da(0x350)]('hidden'),_0x4bc020[_0x1e60da(0x4c1)][_0x1e60da(0xb01)](_0x1e60da(0x9d2)),_0x1fb149[_0x1e60da(0x4c1)][_0x1e60da(0xb01)](_0x1e60da(0x9d2)),generateLesson(_0x191609,_0x36e2ce)[_0x1e60da(0x324)](_0x2a29d6=>{const _0x5c450e=_0x1e60da;console['error'](_0x5c450e(0x8f7),_0x2a29d6),showMessage(_0x5c450e(0x59f)),_0x1fb149[_0x5c450e(0x4c1)][_0x5c450e(0x350)](_0x5c450e(0x9d2));});}function handlePointerDown(_0x16a46f){const _0x268f89=_0x3a383e;_0x16a46f[_0x268f89(0x4a0)]();const _0x33b5ce=scratchpadCtx[_0x268f89(0x4ef)],_0x3bfb95=_0x33b5ce[_0x268f89(0x82d)](),_0x46fab5=_0x16a46f[_0x268f89(0x328)]||(_0x16a46f['touches']?_0x268f89(0xc7f):_0x268f89(0x612));if(_0x46fab5===_0x268f89(0x559)||_0x46fab5===_0x268f89(0x612)){if(_0x16a46f[_0x268f89(0x328)]===_0x268f89(0x612)&&_0x16a46f[_0x268f89(0x8be)]!==0x0){_0x16a46f[_0x268f89(0x8be)]===0x1&&(isMousePanning=!![],panStart={'x':_0x16a46f[_0x268f89(0x4cb)],'y':_0x16a46f[_0x268f89(0xcb3)]},_0x33b5ce[_0x268f89(0x89b)][_0x268f89(0x318)]=_0x268f89(0xc15));return;}activeTool===_0x268f89(0xaec)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x578c8d=getTransformedPoint(_0x16a46f[_0x268f89(0x4cb)]-_0x3bfb95['left'],_0x16a46f[_0x268f89(0xcb3)]-_0x3bfb95['top']);let _0x5455d8={'tool':activeTool,'points':[_0x578c8d]};if(activeTool===_0x268f89(0xc25))_0x5455d8[_0x268f89(0x44f)]=scratchpadHighlighterColor,_0x5455d8['size']=scratchpadHighlighterSize;else activeTool==='trail'?(_0x5455d8['color']=scratchpadPenColor,_0x5455d8[_0x268f89(0x836)]=scratchpadPenSize):(_0x5455d8[_0x268f89(0x44f)]=scratchpadPenColor,_0x5455d8[_0x268f89(0x836)]=scratchpadPenSize);currentStroke=_0x5455d8;}else _0x16a46f[_0x268f89(0xb04)]&&(_0x16a46f[_0x268f89(0xb04)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x16a46f['touches'][0x0]['clientX'],'y':_0x16a46f[_0x268f89(0xb04)][0x0]['clientY']},{'x':_0x16a46f[_0x268f89(0xb04)][0x1][_0x268f89(0x4cb)],'y':_0x16a46f[_0x268f89(0xb04)][0x1][_0x268f89(0xcb3)]}),initialPinchDistance=getDistance({'x':_0x16a46f[_0x268f89(0xb04)][0x0]['clientX'],'y':_0x16a46f[_0x268f89(0xb04)][0x0][_0x268f89(0xcb3)]},{'x':_0x16a46f[_0x268f89(0xb04)][0x1][_0x268f89(0x4cb)],'y':_0x16a46f[_0x268f89(0xb04)][0x1][_0x268f89(0xcb3)]})));}function animateTrail(){const _0x594584=_0x3a383e,_0xc4e88b=Date[_0x594584(0x15a)]();let _0x2deed2=![];for(let _0x23ef66=strokes['length']-0x1;_0x23ef66>=0x0;_0x23ef66--){const _0x798d19=strokes[_0x23ef66];if(_0x798d19[_0x594584(0x998)]===_0x594584(0xaec)&&_0x798d19[_0x594584(0xa9c)]){const _0x55e60c=_0xc4e88b-_0x798d19[_0x594584(0xa9c)];_0x55e60c>=TRAIL_DURATION?strokes[_0x594584(0x6ad)](_0x23ef66,0x1):(_0x798d19['opacity']=0x1-_0x55e60c/TRAIL_DURATION,_0x2deed2=!![]);}}redrawScratchpad(),_0x2deed2?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x196f60){const _0x506bf0=_0x3a383e;if(!_0x196f60||_0x196f60[_0x506bf0(0xbf6)][_0x506bf0(0x636)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx['lineJoin']=_0x506bf0(0xc4a),scratchpadCtx[_0x506bf0(0x31d)]='round';if(_0x196f60[_0x506bf0(0x998)]===_0x506bf0(0xaec)){const _0x18ca1b=_0x196f60['size']/scratchpadScale;scratchpadCtx['globalAlpha']=_0x196f60[_0x506bf0(0x5ac)]??0x1,scratchpadCtx[_0x506bf0(0xa56)]=_0x506bf0(0xbec),scratchpadCtx[_0x506bf0(0xb1e)]=_0x18ca1b*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x506bf0(0x9f8)]=_0x18ca1b*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x506bf0(0x862)](_0x196f60[_0x506bf0(0xbf6)][0x0]['x'],_0x196f60[_0x506bf0(0xbf6)][0x0]['y']);for(let _0x582bdc=0x1;_0x582bdc<_0x196f60['points'][_0x506bf0(0x636)]-0x1;_0x582bdc++){const _0x1c758c=getMidpoint(_0x196f60['points'][_0x582bdc],_0x196f60['points'][_0x582bdc+0x1]);scratchpadCtx[_0x506bf0(0x4cd)](_0x196f60[_0x506bf0(0xbf6)][_0x582bdc]['x'],_0x196f60[_0x506bf0(0xbf6)][_0x582bdc]['y'],_0x1c758c['x'],_0x1c758c['y']);}scratchpadCtx[_0x506bf0(0xbc6)](),scratchpadCtx[_0x506bf0(0xa56)]='transparent',scratchpadCtx[_0x506bf0(0xb1e)]=0x0,scratchpadCtx[_0x506bf0(0x5d3)]='#FFFFFF',scratchpadCtx[_0x506bf0(0x9f8)]=_0x18ca1b,scratchpadCtx[_0x506bf0(0xbc6)](),scratchpadCtx[_0x506bf0(0x2ab)]();}else{if(_0x196f60[_0x506bf0(0x998)]===_0x506bf0(0xc25)){scratchpadCtx[_0x506bf0(0x30a)]=_0x506bf0(0x501),scratchpadCtx[_0x506bf0(0x5d3)]=_0x196f60[_0x506bf0(0x44f)],scratchpadCtx[_0x506bf0(0x9f8)]=_0x196f60[_0x506bf0(0x836)],scratchpadCtx[_0x506bf0(0x9a2)](),scratchpadCtx['moveTo'](_0x196f60[_0x506bf0(0xbf6)][0x0]['x'],_0x196f60['points'][0x0]['y']);for(let _0x389ca1=0x1;_0x389ca1<_0x196f60[_0x506bf0(0xbf6)][_0x506bf0(0x636)]-0x1;_0x389ca1++){const _0x1b58ad=getMidpoint(_0x196f60[_0x506bf0(0xbf6)][_0x389ca1],_0x196f60[_0x506bf0(0xbf6)][_0x389ca1+0x1]);scratchpadCtx['quadraticCurveTo'](_0x196f60[_0x506bf0(0xbf6)][_0x389ca1]['x'],_0x196f60[_0x506bf0(0xbf6)][_0x389ca1]['y'],_0x1b58ad['x'],_0x1b58ad['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x506bf0(0x2ab)]();}else{scratchpadCtx[_0x506bf0(0x30a)]=_0x196f60['tool']==='eraser'?_0x506bf0(0x822):_0x506bf0(0x7a0),scratchpadCtx[_0x506bf0(0x5d3)]=_0x196f60[_0x506bf0(0x44f)],scratchpadCtx[_0x506bf0(0x9f8)]=_0x196f60['size'],scratchpadCtx[_0x506bf0(0x9a2)](),scratchpadCtx[_0x506bf0(0x862)](_0x196f60[_0x506bf0(0xbf6)][0x0]['x'],_0x196f60['points'][0x0]['y']);for(let _0x1bce04=0x1;_0x1bce04<_0x196f60[_0x506bf0(0xbf6)][_0x506bf0(0x636)]-0x1;_0x1bce04++){const _0x3a5ff5=getMidpoint(_0x196f60[_0x506bf0(0xbf6)][_0x1bce04],_0x196f60[_0x506bf0(0xbf6)][_0x1bce04+0x1]);scratchpadCtx[_0x506bf0(0x4cd)](_0x196f60[_0x506bf0(0xbf6)][_0x1bce04]['x'],_0x196f60[_0x506bf0(0xbf6)][_0x1bce04]['y'],_0x3a5ff5['x'],_0x3a5ff5['y']);}scratchpadCtx[_0x506bf0(0xbc6)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x506bf0(0x900)]();}function handlePointerMove(_0x2d794f){const _0x228d59=_0x3a383e;_0x2d794f[_0x228d59(0x4a0)]();const _0x124b98=scratchpadCtx[_0x228d59(0x4ef)],_0x51c536=_0x124b98[_0x228d59(0x82d)]();if(_0x2d794f[_0x228d59(0xb04)]){if(_0x2d794f[_0x228d59(0xb04)]['length']===0x1&&isDrawingOnScratchpad){const _0x4a6228=getTransformedPoint(_0x2d794f['touches'][0x0][_0x228d59(0x4cb)]-_0x51c536['left'],_0x2d794f[_0x228d59(0xb04)][0x0]['clientY']-_0x51c536['top']);currentStroke[_0x228d59(0xbf6)][_0x228d59(0x321)](_0x4a6228),redrawScratchpad();}else{if(_0x2d794f['touches'][_0x228d59(0x636)]===0x2&&isPanning){const _0x2c59b9=getDistance({'x':_0x2d794f['touches'][0x0][_0x228d59(0x4cb)],'y':_0x2d794f[_0x228d59(0xb04)][0x0]['clientY']},{'x':_0x2d794f['touches'][0x1]['clientX'],'y':_0x2d794f[_0x228d59(0xb04)][0x1][_0x228d59(0xcb3)]}),_0x80ca3b=getMidpoint({'x':_0x2d794f[_0x228d59(0xb04)][0x0][_0x228d59(0x4cb)],'y':_0x2d794f['touches'][0x0][_0x228d59(0xcb3)]},{'x':_0x2d794f['touches'][0x1][_0x228d59(0x4cb)],'y':_0x2d794f[_0x228d59(0xb04)][0x1][_0x228d59(0xcb3)]}),_0xae435d=_0x2c59b9/ initialPinchDistance,_0x4ef129=Math[_0x228d59(0x353)](Math[_0x228d59(0x38c)](scratchpadScale*_0xae435d,MIN_SCALE),MAX_SCALE),_0x2d3343=_0x80ca3b['x']-panStart['x'],_0x47a0bb=_0x80ca3b['y']-panStart['y'];scratchpadOffset['x']=_0x80ca3b['x']-(_0x80ca3b['x']-scratchpadOffset['x'])*(_0x4ef129/scratchpadScale),scratchpadOffset['y']=_0x80ca3b['y']-(_0x80ca3b['y']-scratchpadOffset['y'])*(_0x4ef129/scratchpadScale),scratchpadOffset['x']+=_0x2d3343,scratchpadOffset['y']+=_0x47a0bb,scratchpadScale=_0x4ef129,initialPinchDistance=_0x2c59b9,panStart=_0x80ca3b,redrawScratchpad();}}}else{if(isMousePanning){const _0x5e4d49=_0x2d794f['clientX']-panStart['x'],_0x26bd32=_0x2d794f[_0x228d59(0xcb3)]-panStart['y'];scratchpadOffset['x']+=_0x5e4d49,scratchpadOffset['y']+=_0x26bd32,panStart={'x':_0x2d794f[_0x228d59(0x4cb)],'y':_0x2d794f[_0x228d59(0xcb3)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x422e83=getTransformedPoint(_0x2d794f[_0x228d59(0x4cb)]-_0x51c536[_0x228d59(0x4a8)],_0x2d794f[_0x228d59(0xcb3)]-_0x51c536['top']);currentStroke[_0x228d59(0xbf6)]['push'](_0x422e83),redrawScratchpad();}}}}function handlePointerUp(_0x1790c8){const _0x188815=_0x3a383e;_0x1790c8[_0x188815(0x4a0)]();const _0x1faefa=scratchpadCtx[_0x188815(0x4ef)];isMousePanning&&(isMousePanning=![],_0x1faefa[_0x188815(0x89b)][_0x188815(0x318)]=_0x188815(0xa90)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x188815(0xbf6)]['length']>0x1&&(strokes[_0x188815(0x321)](currentStroke),currentStroke['tool']===_0x188815(0xaec)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x30fba8=_0x188815,_0x3cbb82=strokes['filter'](_0xd8d12f=>_0xd8d12f[_0x30fba8(0x998)]===_0x30fba8(0xaec)&&!_0xd8d12f[_0x30fba8(0xa9c)]);if(_0x3cbb82[_0x30fba8(0x636)]>0x0){const _0x18cb58=Date[_0x30fba8(0x15a)]();_0x3cbb82[_0x30fba8(0x1f5)](_0x12b3d9=>_0x12b3d9[_0x30fba8(0xa9c)]=_0x18cb58),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x3a383f){const _0x341e1d=_0x3a383e;_0x3a383f[_0x341e1d(0x4a0)]();const _0x35aa02=_0x3a383f[_0x341e1d(0x7e4)]*-0.005,_0x273b49=Math['min'](Math[_0x341e1d(0x38c)](scratchpadScale+_0x35aa02,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x3a383f[_0x341e1d(0x4cb)]-(_0x3a383f[_0x341e1d(0x4cb)]-scratchpadOffset['x'])*(_0x273b49/scratchpadScale),scratchpadOffset['y']=_0x3a383f[_0x341e1d(0xcb3)]-(_0x3a383f[_0x341e1d(0xcb3)]-scratchpadOffset['y'])*(_0x273b49/scratchpadScale),scratchpadScale=_0x273b49,redrawScratchpad();}function undo(){const _0x23f116=_0x3a383e;strokes[_0x23f116(0x636)]>0x0&&(redoStrokes[_0x23f116(0x321)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x57b1e2=_0x3a383e;redoStrokes[_0x57b1e2(0x636)]>0x0&&(strokes[_0x57b1e2(0x321)](redoStrokes[_0x57b1e2(0x711)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x77b519=_0x3a383e;document['getElementById'](_0x77b519(0x403))[_0x77b519(0x7ce)]=strokes[_0x77b519(0x636)]===0x0,document[_0x77b519(0x552)](_0x77b519(0x6e0))[_0x77b519(0x7ce)]=redoStrokes[_0x77b519(0x636)]===0x0;}function openScratchpad(_0x5ab14f,_0x56b10e){const _0x36c40e=_0x3a383e,_0x2e17d6=document[_0x36c40e(0x552)]('scratchpad-modal'),_0x495b6c=document[_0x36c40e(0x552)]('scratchpad-question'),_0xaaa3a6=document[_0x36c40e(0x552)](_0x36c40e(0x3cb)),_0x36e54e=document[_0x36c40e(0x552)](_0x36c40e(0x250));_0x495b6c[_0x36c40e(0x377)]=_0x5ab14f[_0x36c40e(0x2a5)]||_0x5ab14f[_0x36c40e(0x629)],_0xaaa3a6['innerHTML']=_0x56b10e[_0x36c40e(0x75d)]((_0x4739d5,_0x26481e)=>'<div>'+String['fromCharCode'](0x41+_0x26481e)+'.\x20'+_0x4739d5+'</div>')[_0x36c40e(0xa89)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2e17d6[_0x36c40e(0x4c1)][_0x36c40e(0xb01)](_0x36c40e(0x9d2)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x36c40e(0xc8b)])MathJax['typesetPromise']([_0x495b6c,_0xaaa3a6]);}function openBlueprintQuizSettings(){const _0x445e87=_0x3a383e,_0x531664=document[_0x445e87(0x552)](_0x445e87(0xcd0)),_0x5f1118=blueprintPageSettings||(currentProjectData?currentProjectData[_0x445e87(0x997)]:{})||{};document[_0x445e87(0x552)](_0x445e87(0x7ad))[_0x445e87(0x203)]=_0x5f1118[_0x445e87(0x8bd)]||document[_0x445e87(0x552)](_0x445e87(0xa28))[_0x445e87(0x203)],document[_0x445e87(0x552)]('bp-modal-difficulty-level-select')[_0x445e87(0x377)]=document[_0x445e87(0x552)](_0x445e87(0x7f4))[_0x445e87(0x377)],document[_0x445e87(0x552)]('bp-modal-difficulty-level-select')[_0x445e87(0x203)]=_0x5f1118['difficultyValue']||document[_0x445e87(0x552)](_0x445e87(0x7f4))[_0x445e87(0x203)],document['getElementById'](_0x445e87(0x983))['innerHTML']=document[_0x445e87(0x552)](_0x445e87(0x45a))[_0x445e87(0x377)],document['getElementById'](_0x445e87(0x983))['value']=_0x5f1118['complexityValue']||document['getElementById']('question-complexity-select')[_0x445e87(0x203)],document[_0x445e87(0x552)](_0x445e87(0x517))['value']=_0x5f1118[_0x445e87(0x461)]||document[_0x445e87(0x552)]('num-questions')[_0x445e87(0x203)],document[_0x445e87(0x552)](_0x445e87(0x7f1))[_0x445e87(0x203)]=_0x5f1118[_0x445e87(0xa32)]||document[_0x445e87(0x552)]('passing-score-input')[_0x445e87(0x203)],document[_0x445e87(0x552)]('bp-modal-num-choices')[_0x445e87(0x203)]=_0x5f1118[_0x445e87(0x53f)]||document[_0x445e87(0x552)](_0x445e87(0xa0f))[_0x445e87(0x203)],document[_0x445e87(0x552)](_0x445e87(0x502))[_0x445e87(0x203)]=_0x5f1118['shuffle']||document[_0x445e87(0x552)](_0x445e87(0x43e))[_0x445e87(0x203)],document['getElementById'](_0x445e87(0xa8b))['checked']=_0x5f1118[_0x445e87(0x540)]||document[_0x445e87(0x552)](_0x445e87(0xc48))[_0x445e87(0xd08)],_0x531664[_0x445e87(0x4c1)]['remove'](_0x445e87(0x9d2));}function handleSaveBlueprintPageSettings(){const _0x3624b7=_0x3a383e;blueprintPageSettings={'quizType':document['getElementById'](_0x3624b7(0x7ad))[_0x3624b7(0x203)],'difficultyValue':document[_0x3624b7(0x552)](_0x3624b7(0xb8a))[_0x3624b7(0x203)],'complexityValue':document[_0x3624b7(0x552)](_0x3624b7(0x983))['value'],'numQuestions':document['getElementById'](_0x3624b7(0x517))[_0x3624b7(0x203)],'passingScore':document[_0x3624b7(0x552)](_0x3624b7(0x7f1))['value'],'numChoices':document[_0x3624b7(0x552)](_0x3624b7(0x410))[_0x3624b7(0x203)],'shuffle':document['getElementById'](_0x3624b7(0x502))['value'],'includeImages':document[_0x3624b7(0x552)]('bp-modal-include-images-checkbox')[_0x3624b7(0xd08)]},showMessage(_0x3624b7(0x28a)),document[_0x3624b7(0x552)](_0x3624b7(0xcd0))[_0x3624b7(0x4c1)][_0x3624b7(0x350)](_0x3624b7(0x9d2));}function listenForParallelTestShortcuts(){const _0x595daf=_0x3a383e,_0x307cbe=doc(db,_0x595daf(0x182),'parallelTestShortcutsConfig');onSnapshot(_0x307cbe,_0x4cc63f=>{const _0x2dd2b6=_0x595daf;let _0x1e3b58=[],_0x3b33f9=[],_0xaf7c74={};if(_0x4cc63f['exists']()){const _0x5e72a5=_0x4cc63f['data']();_0x1e3b58=_0x5e72a5[_0x2dd2b6(0x365)]||[],_0x3b33f9=_0x5e72a5[_0x2dd2b6(0x27c)]||[],_0xaf7c74=_0x5e72a5[_0x2dd2b6(0x70f)]||{};}!_0x3b33f9['find'](_0x274fb5=>_0x274fb5['id']===_0x2dd2b6(0x258))&&_0x3b33f9[_0x2dd2b6(0x97d)]({'id':_0x2dd2b6(0x258),'name':_0x2dd2b6(0x444),'isDefault':!![]}),!_0x1e3b58['find'](_0x10280a=>_0x10280a['id']==='parallel-default-1')&&_0x1e3b58['unshift']({'id':_0x2dd2b6(0xa7f),'name':_0x2dd2b6(0x1ce),'url':'','isDefault':!![]}),!_0x1e3b58[_0x2dd2b6(0x51d)](_0x27e4b8=>_0x27e4b8['id']==='parallel-default-2')&&_0x1e3b58[_0x2dd2b6(0x97d)]({'id':_0x2dd2b6(0x474),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x1e3b58,parallelShortcutTabs=_0x3b33f9,parallelShortcutOrder=_0xaf7c74,renderParallelTestShortcuts(),!document[_0x2dd2b6(0x552)](_0x2dd2b6(0x8c6))[_0x2dd2b6(0x4c1)][_0x2dd2b6(0x4b7)](_0x2dd2b6(0x9d2))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x27d725=_0x3a383e,_0x267b6d=doc(db,'globalSettings',_0x27d725(0x934));try{await setDoc(_0x267b6d,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0xf45244){console[_0x27d725(0x2e9)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0xf45244);}}function renderAdditionalParallelShortcutsModal(){const _0x45c331=_0x3a383e,_0x191ce0=document['getElementById'](_0x45c331(0xc6a)),_0xf29808=document['getElementById'](_0x45c331(0xaa9));if(!_0x191ce0||!_0xf29808)return;_0x191ce0[_0x45c331(0x377)]=parallelShortcutTabs['map'](_0x5597a8=>{const _0x150322=_0x45c331,_0x1984d8=_0x5597a8['id']===activeParallelShortcutTabId;return _0x150322(0x654)+_0x5597a8['id']+_0x150322(0x67e)+(_0x1984d8?_0x150322(0x6f1):_0x150322(0x8e4))+_0x150322(0xa88)+_0x5597a8[_0x150322(0xce5)]+_0x150322(0xce7)+_0x5597a8[_0x150322(0xce5)]+_0x150322(0x749)+(!_0x5597a8[_0x150322(0xbbd)]?_0x150322(0xaf5)+_0x5597a8['id']+_0x150322(0xce6):'')+_0x150322(0x606);})[_0x45c331(0xa89)]('');const _0x14c270=parallelShortcutTabs[_0x45c331(0x51d)](_0x3ebdd2=>_0x3ebdd2['id']===activeParallelShortcutTabId);let _0x417204=_0x14c270?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts[_0x45c331(0x499)](_0x47d4dd=>(_0x14c270?.[_0x45c331(0xcde)]||[])['includes'](_0x47d4dd['id']));const _0x111e76=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x417204['sort']((_0x513dd6,_0x24617a)=>{const _0x407bed=_0x45c331,_0x5a9ef9=_0x111e76[_0x407bed(0xa23)](_0x513dd6['id']),_0x3ae2bb=_0x111e76['indexOf'](_0x24617a['id']);return(_0x5a9ef9===-0x1?Infinity:_0x5a9ef9)-(_0x3ae2bb===-0x1?Infinity:_0x3ae2bb);}),_0xf29808[_0x45c331(0x377)]=_0x417204[_0x45c331(0x75d)](_0x2a9ec4=>{const _0x4e43ba=_0x45c331,_0x5bcbd1=_0x2a9ec4[_0x4e43ba(0x393)]?'🔁':'🔗',_0x110f68=parallelShortcutTabs[_0x4e43ba(0x499)](_0x95661b=>!_0x95661b[_0x4e43ba(0xbbd)]),_0x34f495=_0x14c270['isDefault']&&_0x110f68[_0x4e43ba(0x636)]>0x0?_0x4e43ba(0x705)+_0x110f68[_0x4e43ba(0x75d)](_0x3e1769=>_0x4e43ba(0x4a1)+_0x2a9ec4['id']+'\x22\x20data-target-tab-id=\x22'+_0x3e1769['id']+'\x22>'+_0x3e1769[_0x4e43ba(0xce5)]+'</a>')['join']('')+_0x4e43ba(0x3c7):'';return _0x4e43ba(0x35c)+_0x2a9ec4['id']+_0x4e43ba(0xb42)+_0x5bcbd1+'\x20'+_0x2a9ec4['name']+_0x4e43ba(0x86a)+_0x2a9ec4['id']+_0x4e43ba(0xad2)+_0x2a9ec4['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2a9ec4['isDefault']?_0x4e43ba(0x382)+_0x2a9ec4['id']+_0x4e43ba(0xb2e):'')+_0x4e43ba(0x726)+(!_0x14c270[_0x4e43ba(0xbbd)]?'<button\x20data-shortcut-id=\x22'+_0x2a9ec4['id']+_0x4e43ba(0x903):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34f495+_0x4e43ba(0x4c7);})[_0x45c331(0xa89)]('')||_0x45c331(0x81a),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x30199b=_0x3a383e;document[_0x30199b(0x3e0)](_0x30199b(0xc63))[_0x30199b(0x1f5)](_0x35621=>{const _0xcb703e=_0x30199b;_0x35621['onclick']=_0x10766c=>{const _0xc7685e=_0x35c4;activeParallelShortcutTabId=_0x10766c[_0xc7685e(0x372)][_0xc7685e(0x79d)][_0xc7685e(0x2b0)],renderAdditionalParallelShortcutsModal();},_0x35621[_0xcb703e(0xa8c)]=_0x3ae085=>{const _0x458301=_0xcb703e,_0x2b1bb4=_0x3ae085[_0x458301(0x372)][_0x458301(0x972)]('.tab-name-input');_0x3ae085[_0x458301(0x372)][_0x458301(0x972)]('.tab-name-display')['classList'][_0x458301(0x350)](_0x458301(0x9d2)),_0x2b1bb4['classList'][_0x458301(0xb01)](_0x458301(0x9d2)),_0x2b1bb4[_0x458301(0x817)](),_0x2b1bb4[_0x458301(0x71b)]();};}),document[_0x30199b(0x3e0)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x30199b(0x1f5)](_0x117cd4=>{const _0x2f3438=_0x30199b,_0x1ac065=()=>{const _0x4e8051=_0x35c4,_0x4e6766=_0x117cd4[_0x4e8051(0xc1b)](_0x4e8051(0xc63))['dataset'][_0x4e8051(0x2b0)],_0x59dcc0=parallelShortcutTabs[_0x4e8051(0x51d)](_0x3d84d6=>_0x3d84d6['id']===_0x4e6766);_0x59dcc0&&(_0x59dcc0[_0x4e8051(0xce5)]=_0x117cd4['value'][_0x4e8051(0x887)]()||_0x59dcc0[_0x4e8051(0xce5)],saveParallelShortcutConfig());};_0x117cd4['onblur']=_0x1ac065,_0x117cd4[_0x2f3438(0x3ac)]=_0x3ceca7=>{const _0x52f272=_0x2f3438;if(_0x3ceca7['key']===_0x52f272(0xcf1))_0x117cd4['blur']();};}),document['querySelectorAll'](_0x30199b(0xcee))[_0x30199b(0x1f5)](_0x5ab6cd=>_0x5ab6cd['onclick']=_0x3baa8c=>{const _0xdf9640=_0x30199b,_0x4db5b0=_0x3baa8c[_0xdf9640(0x372)]['dataset'][_0xdf9640(0x2b0)];showConfirmation(_0xdf9640(0x736),()=>{const _0x20c7f5=_0xdf9640;parallelShortcutTabs=parallelShortcutTabs[_0x20c7f5(0x499)](_0x22b0b3=>_0x22b0b3['id']!==_0x4db5b0),delete parallelShortcutOrder[_0x4db5b0];if(activeParallelShortcutTabId===_0x4db5b0)activeParallelShortcutTabId=_0x20c7f5(0x258);saveParallelShortcutConfig();});}),document[_0x30199b(0x3e0)](_0x30199b(0xa17))[_0x30199b(0x1f5)](_0x196185=>_0x196185['onclick']=_0x8875ac=>{const _0x55cbff=_0x30199b;_0x8875ac[_0x55cbff(0x4a0)]();const {shortcutId:_0x1dc37d,targetTabId:_0x36a7ee}=_0x8875ac[_0x55cbff(0x372)]['dataset'],_0x37596b=parallelShortcutTabs['find'](_0x5509a1=>_0x5509a1['id']===_0x36a7ee);_0x37596b&&!_0x37596b['shortcutIds'][_0x55cbff(0x27b)](_0x1dc37d)&&(_0x37596b[_0x55cbff(0xcde)][_0x55cbff(0x321)](_0x1dc37d),saveParallelShortcutConfig());}),document[_0x30199b(0x3e0)](_0x30199b(0x5cf))[_0x30199b(0x1f5)](_0x592e10=>_0x592e10[_0x30199b(0x6f4)]=_0x358cbc=>{const _0x5e8ff7=_0x30199b,_0x7fd3b9=_0x358cbc[_0x5e8ff7(0x372)]['dataset']['shortcutId'],_0x1217bc=parallelShortcutTabs[_0x5e8ff7(0x51d)](_0x1fb493=>_0x1fb493['id']===activeParallelShortcutTabId);_0x1217bc&&!_0x1217bc[_0x5e8ff7(0xbbd)]&&(_0x1217bc[_0x5e8ff7(0xcde)]=_0x1217bc[_0x5e8ff7(0xcde)][_0x5e8ff7(0x499)](_0x278e6a=>_0x278e6a!==_0x7fd3b9),saveParallelShortcutConfig());}),document[_0x30199b(0x3e0)](_0x30199b(0x734))[_0x30199b(0x1f5)](_0x33c816=>_0x33c816['onclick']=_0x1322fd=>{const _0x1f5893=_0x30199b;_0x1322fd['stopPropagation']();const _0x1c138a=_0x1322fd[_0x1f5893(0x372)][_0x1f5893(0x500)];document[_0x1f5893(0x3e0)](_0x1f5893(0x1fd))['forEach'](_0xc99550=>_0xc99550[_0x1f5893(0x4c1)]['add'](_0x1f5893(0x9d2))),_0x1c138a[_0x1f5893(0x4c1)][_0x1f5893(0xb01)]('hidden');});const _0x8f6915=document['getElementById'](_0x30199b(0xaa9));let _0x2c5a82=null;_0x8f6915['ondragstart']=_0x2523a2=>{const _0x3f2acd=_0x30199b;_0x2c5a82=_0x2523a2[_0x3f2acd(0x19c)]['closest'](_0x3f2acd(0x6db));if(_0x2c5a82)setTimeout(()=>_0x2c5a82['classList'][_0x3f2acd(0x350)](_0x3f2acd(0x8f6)),0x0);},_0x8f6915[_0x30199b(0x7c6)]=()=>{const _0x23f5ce=_0x30199b;_0x2c5a82&&(_0x2c5a82[_0x23f5ce(0x4c1)][_0x23f5ce(0xb01)]('opacity-50'),_0x2c5a82=null);},_0x8f6915[_0x30199b(0x68a)]=_0x4e58d8=>{const _0x121a2d=_0x30199b;_0x4e58d8[_0x121a2d(0x4a0)]();},_0x8f6915[_0x30199b(0x769)]=_0x824761=>{const _0x358fba=_0x30199b;_0x824761[_0x358fba(0x4a0)]();if(_0x2c5a82){const _0x3ecd84=[..._0x8f6915['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x4c055e,_0x48d53e)=>{const _0x5a957a=_0x358fba,_0x5f4192=_0x48d53e[_0x5a957a(0x82d)](),_0x5359fa=_0x824761[_0x5a957a(0xcb3)]-_0x5f4192[_0x5a957a(0x94b)]-_0x5f4192[_0x5a957a(0x220)]/0x2;return _0x5359fa<0x0&&_0x5359fa>_0x4c055e['offset']?{'offset':_0x5359fa,'element':_0x48d53e}:_0x4c055e;},{'offset':Number[_0x358fba(0x8ba)]})[_0x358fba(0x80f)];_0x3ecd84==null?_0x8f6915['appendChild'](_0x2c5a82):_0x8f6915[_0x358fba(0x5a2)](_0x2c5a82,_0x3ecd84);const _0x147705=[..._0x8f6915[_0x358fba(0x3e0)](_0x358fba(0x6db))]['map'](_0x2f096c=>_0x2f096c[_0x358fba(0x79d)][_0x358fba(0x8a7)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x147705,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x1bcd43=_0x3a383e,_0xaabf26=prompt(_0x1bcd43(0x4ff),'แท็บใหม่');_0xaabf26&&_0xaabf26[_0x1bcd43(0x887)]()&&(parallelShortcutTabs[_0x1bcd43(0x321)]({'id':_0x1bcd43(0x88d)+Date[_0x1bcd43(0x15a)](),'name':_0xaabf26[_0x1bcd43(0x887)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x55d4b6=_0x3a383e,_0x461605=document[_0x55d4b6(0x552)](_0x55d4b6(0x9e4)),_0x233590=document[_0x55d4b6(0x552)](_0x55d4b6(0xaa9)),_0x5544bb=document['getElementById'](_0x55d4b6(0x99e));if(_0x5544bb)_0x5544bb[_0x55d4b6(0x4c1)]['add'](_0x55d4b6(0x9d2));if(!_0x461605||!_0x233590)return;const _0x9092ad=parallelTestShortcuts[_0x55d4b6(0x8ea)](0x0,0x4),_0xfbf3f3=parallelTestShortcuts[_0x55d4b6(0x8ea)](0x4);_0x461605[_0x55d4b6(0x377)]=_0x9092ad['map'](_0x4a8e32=>{const _0x1c6274=_0x55d4b6,_0x5f2e24=_0x4a8e32[_0x1c6274(0x393)]&&_0x4a8e32[_0x1c6274(0x393)]['trim']()!=='',_0x301afe=_0x5f2e24?_0x1c6274(0x550):_0x1c6274(0x25a),_0x551d40=_0x5f2e24?'🔁':'🔗',_0xa82ede=!_0x4a8e32[_0x1c6274(0xbbd)]?'<button\x20data-id=\x22'+_0x4a8e32['id']+_0x1c6274(0x448):'';return _0x1c6274(0xc0f)+_0x4a8e32['id']+_0x1c6274(0x857)+_0x301afe+_0x1c6274(0x21c)+_0x551d40+'\x20'+_0x4a8e32[_0x1c6274(0xce5)]+_0x1c6274(0x8e2)+_0x4a8e32['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa82ede+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x55d4b6(0xa89)](''),_0xfbf3f3[_0x55d4b6(0x636)]>0x0&&(_0x461605[_0x55d4b6(0x377)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0xfbf3f3[_0x55d4b6(0x636)]>0x0?_0x233590[_0x55d4b6(0x377)]=_0xfbf3f3[_0x55d4b6(0x75d)](_0x54c2d9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x54c2d9[_0x55d4b6(0x393)]?'🔁':'🔗')+'\x20'+_0x54c2d9['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x54c2d9['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x54c2d9['id']+_0x55d4b6(0xabb)+(!_0x54c2d9[_0x55d4b6(0xbbd)]?'<button\x20data-id=\x22'+_0x54c2d9['id']+_0x55d4b6(0xb2e):'')+_0x55d4b6(0xc2e))[_0x55d4b6(0xa89)](''):_0x233590[_0x55d4b6(0x377)]=_0x55d4b6(0xc7b);}function openParallelTestShortcutEditor(_0x3a7d1a=null){const _0x5cbdf0=_0x3a383e,_0x2f2230=document[_0x5cbdf0(0x552)](_0x5cbdf0(0x503)),_0x30cc10=document[_0x5cbdf0(0x552)]('parallel-shortcut-modal-title'),_0x53596c=document[_0x5cbdf0(0x552)](_0x5cbdf0(0xd10)),_0x47268b=document[_0x5cbdf0(0x552)](_0x5cbdf0(0xadb)),_0x102ef8=document[_0x5cbdf0(0x552)](_0x5cbdf0(0xa50));if(_0x3a7d1a){const _0x127913=parallelTestShortcuts['find'](_0x9034e2=>_0x9034e2['id']===_0x3a7d1a);if(!_0x127913)return;_0x30cc10[_0x5cbdf0(0x37a)]='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x53596c['value']=_0x127913['id'],_0x47268b[_0x5cbdf0(0x203)]=_0x127913[_0x5cbdf0(0xce5)],_0x102ef8[_0x5cbdf0(0x203)]=_0x127913['url']||'';}else _0x30cc10[_0x5cbdf0(0x37a)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x53596c[_0x5cbdf0(0x203)]='',_0x47268b[_0x5cbdf0(0x203)]='',_0x102ef8[_0x5cbdf0(0x203)]='';_0x2f2230[_0x5cbdf0(0x4c1)][_0x5cbdf0(0xb01)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x119e7c=_0x3a383e,_0x22b98b=document['getElementById'](_0x119e7c(0xd10))[_0x119e7c(0x203)],_0x3a5879=document['getElementById'](_0x119e7c(0xadb))[_0x119e7c(0x203)][_0x119e7c(0x887)](),_0x34c394=document[_0x119e7c(0x552)](_0x119e7c(0xa50))['value'][_0x119e7c(0x887)]();if(!_0x3a5879){showMessage(_0x119e7c(0x23f));return;}const _0x1472a7={'id':_0x22b98b||'parallel-shortcut_'+Date['now'](),'name':_0x3a5879,'url':_0x34c394,'isDefault':_0x22b98b['startsWith']('parallel-default-')};let _0x1e75fa;_0x22b98b?_0x1e75fa=parallelTestShortcuts[_0x119e7c(0x75d)](_0x5b5810=>_0x5b5810['id']===_0x22b98b?_0x1472a7:_0x5b5810):_0x1e75fa=[...parallelTestShortcuts,_0x1472a7];try{const _0x55665d=doc(db,_0x119e7c(0x182),_0x119e7c(0x934));await setDoc(_0x55665d,{'shortcuts':_0x1e75fa},{'merge':!![]}),document['getElementById'](_0x119e7c(0x503))[_0x119e7c(0x4c1)]['add'](_0x119e7c(0x9d2));}catch(_0x53ace8){console['error'](_0x119e7c(0x3ba),_0x53ace8),showMessage(_0x119e7c(0x492));}}async function handleParallelTestShortcutClick(_0x2a8735){const _0x210a35=_0x3a383e,_0x2a75a9=parallelTestShortcuts[_0x210a35(0x51d)](_0x3591d9=>_0x3591d9['id']===_0x2a8735);if(!_0x2a75a9)return;if(!_0x2a75a9[_0x210a35(0x393)]||_0x2a75a9[_0x210a35(0x393)][_0x210a35(0x887)]()===''){openParallelTestShortcutEditor(_0x2a8735);return;}const _0x520de3=document['getElementById'](_0x210a35(0x39f)),_0x2c120d=document[_0x210a35(0x552)](_0x210a35(0x2d6));document[_0x210a35(0x552)]('quiz-generation-area')[_0x210a35(0x4c1)]['remove']('hidden'),document[_0x210a35(0x552)](_0x210a35(0x8af))['innerHTML']='',_0x520de3[_0x210a35(0x4c1)][_0x210a35(0xb01)]('hidden'),_0x2c120d[_0x210a35(0x37a)]=_0x210a35(0xa45);try{let _0x205ff0;_0x2a75a9[_0x210a35(0x393)][_0x210a35(0x883)]()[_0x210a35(0x27b)](_0x210a35(0xc2c))?_0x205ff0=_0x210a35(0xa7c):_0x205ff0='source_document.pdf';const _0x1554f9=await fetchFileFromUrl(_0x2a75a9[_0x210a35(0x393)],_0x205ff0);await handleGenerateParallelTest(_0x1554f9);}catch(_0x256a10){console[_0x210a35(0x2e9)](_0x210a35(0xb53),_0x256a10),showMessage(_0x210a35(0x9be)+_0x256a10['message']),_0x520de3['classList'][_0x210a35(0x350)](_0x210a35(0x9d2));}}function initializeScratchpadCanvas(){const _0xf48503=_0x3a383e,_0xb646cf=document['getElementById'](_0xf48503(0x60e)),_0xf9b231=document[_0xf48503(0x972)](_0xf48503(0x6b6));if(!_0xb646cf||!_0xf9b231)return;scratchpadCtx=_0xb646cf[_0xf48503(0x4bb)]('2d',{'willReadFrequently':!![]});const _0xbf8c94=window[_0xf48503(0x581)]||0x1,_0x14fc97=_0xf9b231[_0xf48503(0x82d)]();_0xb646cf['width']=_0x14fc97[_0xf48503(0x438)]*_0xbf8c94,_0xb646cf[_0xf48503(0x220)]=_0x14fc97[_0xf48503(0x220)]*_0xbf8c94,_0xb646cf[_0xf48503(0x89b)]['width']=_0x14fc97[_0xf48503(0x438)]+'px',_0xb646cf[_0xf48503(0x89b)][_0xf48503(0x220)]=_0x14fc97[_0xf48503(0x220)]+'px',scratchpadCtx[_0xf48503(0x3b2)](_0xbf8c94,_0xbf8c94),scratchpadCtx['lineJoin']=_0xf48503(0xc4a),scratchpadCtx[_0xf48503(0x31d)]=_0xf48503(0xc4a),_0xb646cf[_0xf48503(0xbaf)](_0xf48503(0x85d),handlePointerDown),_0xb646cf[_0xf48503(0xbaf)](_0xf48503(0x345),handlePointerMove),_0xb646cf[_0xf48503(0xbaf)]('pointerup',handlePointerUp),_0xb646cf[_0xf48503(0xbaf)](_0xf48503(0xcad),handlePointerUp),_0xb646cf['removeEventListener'](_0xf48503(0x58f),handleWheel),_0xb646cf[_0xf48503(0xbaf)]('touchstart',handlePointerDown),_0xb646cf[_0xf48503(0xbaf)]('touchmove',handlePointerMove),_0xb646cf[_0xf48503(0xbaf)](_0xf48503(0x4a9),handlePointerUp),_0xb646cf[_0xf48503(0x224)](_0xf48503(0x85d),handlePointerDown),_0xb646cf['addEventListener'](_0xf48503(0x345),handlePointerMove),_0xb646cf[_0xf48503(0x224)](_0xf48503(0xcfe),handlePointerUp),_0xb646cf[_0xf48503(0x224)](_0xf48503(0xcad),handlePointerUp),_0xb646cf[_0xf48503(0x224)](_0xf48503(0x58f),handleWheel,{'passive':![]}),_0xb646cf[_0xf48503(0x224)](_0xf48503(0x3f4),handlePointerDown,{'passive':![]}),_0xb646cf[_0xf48503(0x224)]('touchmove',handlePointerMove,{'passive':![]}),_0xb646cf[_0xf48503(0x224)](_0xf48503(0x4a9),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2c2647=_0x3a383e,_0x225f3f=document[_0x2c2647(0x552)]('scratchpad-modal'),_0x5f4396=document['getElementById'](_0x2c2647(0x250));_0x5f4396['innerHTML']=_0x2c2647(0x78e)+scratchpadHighlighterSize+_0x2c2647(0x617);const _0x57e389=document['getElementById'](_0x2c2647(0x741)),_0x38919=document[_0x2c2647(0x552)](_0x2c2647(0xc49)),_0xdc5d4c=document[_0x2c2647(0x552)]('trail-tool-btn'),_0x3008a8=document['getElementById'](_0x2c2647(0x785)),_0x17e8b5=document['getElementById'](_0x2c2647(0x804)),_0x49db6c=document[_0x2c2647(0x552)]('highlighter-tools-group'),_0x4f52c5=[_0x57e389,_0x38919,_0xdc5d4c,_0x3008a8];document[_0x2c2647(0x552)](_0x2c2647(0x4aa))[_0x2c2647(0x224)](_0x2c2647(0x43a),()=>_0x225f3f[_0x2c2647(0x4c1)]['add'](_0x2c2647(0x9d2))),document[_0x2c2647(0x552)](_0x2c2647(0x3cf))[_0x2c2647(0x224)](_0x2c2647(0x43a),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2c2647(0x552)](_0x2c2647(0x685))[_0x2c2647(0x224)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')['addEventListener'](_0x2c2647(0x43a),undo),document[_0x2c2647(0x552)](_0x2c2647(0x6e0))[_0x2c2647(0x224)](_0x2c2647(0x43a),redo);const _0x18cb4f=_0x150eaf=>{const _0x5501b2=_0x2c2647;_0x4f52c5['forEach'](_0x12f8bd=>_0x12f8bd[_0x5501b2(0x4c1)][_0x5501b2(0xb01)](_0x5501b2(0xc45))),_0x150eaf[_0x5501b2(0x4c1)]['add'](_0x5501b2(0xc45));const _0x7632b7=_0x150eaf===_0x3008a8;_0x17e8b5[_0x5501b2(0x4c1)][_0x5501b2(0x818)](_0x5501b2(0x9d2),_0x7632b7),_0x49db6c[_0x5501b2(0x4c1)][_0x5501b2(0x818)]('hidden',!_0x7632b7);};_0x57e389[_0x2c2647(0x224)](_0x2c2647(0x43a),()=>{activeTool='pen',_0x18cb4f(_0x57e389);}),_0x38919['addEventListener'](_0x2c2647(0x43a),()=>{const _0x2f369d=_0x2c2647;activeTool=_0x2f369d(0x49f),_0x18cb4f(_0x38919);}),_0xdc5d4c[_0x2c2647(0x224)](_0x2c2647(0x43a),()=>{const _0x1e23c4=_0x2c2647;activeTool=_0x1e23c4(0xaec),_0x18cb4f(_0xdc5d4c);}),_0x3008a8[_0x2c2647(0x224)](_0x2c2647(0x43a),()=>{activeTool='highlighter',_0x18cb4f(_0x3008a8);}),_0x17e8b5[_0x2c2647(0x3e0)](_0x2c2647(0x64c))['forEach'](_0x84ffa8=>{const _0xf49537=_0x2c2647;_0x84ffa8[_0xf49537(0x224)]('click',_0xc7fc9d=>{const _0x4646f0=_0xf49537;scratchpadPenSize=parseInt(_0xc7fc9d['target'][_0x4646f0(0x79d)][_0x4646f0(0x836)],0xa),_0x17e8b5[_0x4646f0(0x3e0)](_0x4646f0(0x64c))[_0x4646f0(0x1f5)](_0x41dd4c=>_0x41dd4c['classList'][_0x4646f0(0xb01)](_0x4646f0(0xc45))),_0xc7fc9d[_0x4646f0(0x19c)][_0x4646f0(0x4c1)][_0x4646f0(0x350)](_0x4646f0(0xc45));});}),_0x17e8b5[_0x2c2647(0x3e0)](_0x2c2647(0xa18))[_0x2c2647(0x1f5)](_0x3da1fc=>{const _0x20ff98=_0x2c2647;_0x3da1fc[_0x20ff98(0x224)]('click',_0x4f456a=>{const _0x221de9=_0x20ff98;scratchpadPenColor=_0x4f456a[_0x221de9(0x19c)][_0x221de9(0x79d)]['color'],_0x17e8b5[_0x221de9(0x3e0)](_0x221de9(0xa18))[_0x221de9(0x1f5)](_0xec82d2=>_0xec82d2[_0x221de9(0x4c1)]['remove']('active')),_0x4f456a[_0x221de9(0x19c)]['classList'][_0x221de9(0x350)](_0x221de9(0xc45));});}),_0x49db6c[_0x2c2647(0x3e0)](_0x2c2647(0xb84))[_0x2c2647(0x1f5)](_0x1deab4=>{const _0x1bb49e=_0x2c2647;_0x1deab4['addEventListener'](_0x1bb49e(0x43a),_0x36b48d=>{const _0xaa0abc=_0x1bb49e;scratchpadHighlighterColor=_0x36b48d['target'][_0xaa0abc(0x79d)][_0xaa0abc(0x44f)],_0x49db6c['querySelectorAll'](_0xaa0abc(0xb84))[_0xaa0abc(0x1f5)](_0x3dd570=>_0x3dd570['classList']['remove'](_0xaa0abc(0xc45))),_0x36b48d[_0xaa0abc(0x19c)][_0xaa0abc(0x4c1)]['add'](_0xaa0abc(0xc45));});});const _0x44cbed=document[_0x2c2647(0x552)](_0x2c2647(0x416)),_0x46c77b=document[_0x2c2647(0x552)](_0x2c2647(0x587));_0x44cbed[_0x2c2647(0x224)]('input',_0x1a1b3b=>{const _0x3e8db0=_0x2c2647,_0x5ae5ec=parseInt(_0x1a1b3b[_0x3e8db0(0x19c)]['value'],0xa);scratchpadHighlighterSize=_0x5ae5ec,_0x46c77b['textContent']=_0x5ae5ec;}),window[_0x2c2647(0x224)](_0x2c2647(0xb0e),()=>{!_0x225f3f['classList']['contains']('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x3a383e(0x91e),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x3a383e(0x865),'name':_0x3a383e(0xb73),'description':_0x3a383e(0x59e),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x3a383e(0x7a9),'name':_0x3a383e(0x644),'description':_0x3a383e(0x14a),'icon':_0x3a383e(0x481)},'FIRST_TRY_ACE':{'id':_0x3a383e(0x424),'name':_0x3a383e(0x917),'description':_0x3a383e(0x896),'icon':_0x3a383e(0xbcb)},'COMEBACK_KING':{'id':_0x3a383e(0x2dc),'name':'ราชาคัมแบ็ก','description':_0x3a383e(0x2fa),'icon':_0x3a383e(0x28b)},'SPECIALIST':{'id':_0x3a383e(0x7b2),'name':'ผู้เชี่ยวชาญ','description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x3a383e(0x54a)},'PERSEVERANCE':{'id':_0x3a383e(0xc70),'name':_0x3a383e(0xada),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x3a383e(0x16d)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x3a383e(0x6a4),'projectId':_0x3a383e(0x5b9),'storageBucket':_0x3a383e(0xa71),'messagingSenderId':_0x3a383e(0x9bf),'appId':_0x3a383e(0x388),'measurementId':_0x3a383e(0x465)},appId=typeof __app_id!==_0x3a383e(0xb75)?__app_id:_0x3a383e(0x801),adminView=document[_0x3a383e(0x552)](_0x3a383e(0x633)),studentView=document['getElementById'](_0x3a383e(0x573)),projectDashboardView=document[_0x3a383e(0x552)]('project-dashboard-view'),projectDetailView=document[_0x3a383e(0x552)](_0x3a383e(0x81f)),quizResultsView=document['getElementById'](_0x3a383e(0x596)),projectList=document['getElementById'](_0x3a383e(0x541)),noProjectsMsg=document[_0x3a383e(0x552)]('no-projects-msg'),projectTitle=document[_0x3a383e(0x552)](_0x3a383e(0x508)),projectIdDisplay=document[_0x3a383e(0x552)](_0x3a383e(0x2bc)),studentList=document['getElementById'](_0x3a383e(0x90b)),messageModal=document[_0x3a383e(0x552)](_0x3a383e(0xa37)),modalMessage=document['getElementById'](_0x3a383e(0x63b)),createProjectModal=document[_0x3a383e(0x552)]('create-project-modal'),adminPasswordModal=document[_0x3a383e(0x552)]('admin-password-modal'),confirmationModal=document[_0x3a383e(0x552)](_0x3a383e(0x97b)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x3a383e(0x552)]('topic-tab'),textTab=document[_0x3a383e(0x552)]('text-tab'),topicInputArea=document[_0x3a383e(0x552)](_0x3a383e(0x2dd)),textInputArea=document[_0x3a383e(0x552)](_0x3a383e(0x48b)),manageTab=document[_0x3a383e(0x552)](_0x3a383e(0x241)),resultsTab=document[_0x3a383e(0x552)](_0x3a383e(0x165)),leaderboardTab=document[_0x3a383e(0x552)](_0x3a383e(0x66e)),manageTabContent=document[_0x3a383e(0x552)](_0x3a383e(0x7ee)),resultsTabContent=document[_0x3a383e(0x552)](_0x3a383e(0xc21)),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document[_0x3a383e(0x552)](_0x3a383e(0x6e4)),fileTab=document['getElementById'](_0x3a383e(0x2a2)),fileInputArea=document[_0x3a383e(0x552)](_0x3a383e(0x8a6)),fileUploadInput=document['getElementById'](_0x3a383e(0x719)),worksheetTab=document['getElementById'](_0x3a383e(0x5a8)),worksheetInputArea=document[_0x3a383e(0x552)](_0x3a383e(0x879)),generateWorksheetBtn=document[_0x3a383e(0x552)](_0x3a383e(0x613)),studentInitialView=document[_0x3a383e(0x552)]('student-initial-view'),studentNameSelectionView=document[_0x3a383e(0x552)]('student-name-selection-view'),studentQuizArea=document[_0x3a383e(0x552)](_0x3a383e(0x327)),studentResultArea=document['getElementById']('student-result-area'),studentReadingArea=document[_0x3a383e(0x552)](_0x3a383e(0x9f1)),loadQuizBtn=document[_0x3a383e(0x552)](_0x3a383e(0x3d9)),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0x3a383e(0x552)](_0x3a383e(0x65e)),presentationModal=document['getElementById'](_0x3a383e(0x7af)),renameQuizModal=document[_0x3a383e(0x552)]('rename-quiz-modal'),moveQuizModal=document[_0x3a383e(0x552)]('move-quiz-modal'),quizSettingsModal=document[_0x3a383e(0x552)]('quiz-settings-modal'),quizStatusModal=document[_0x3a383e(0x552)](_0x3a383e(0x869)),liveGameView=document[_0x3a383e(0x552)](_0x3a383e(0x2e1));function handleFixLessonLatex(){const _0x158f79=_0x3a383e,_0x5ead46=document[_0x158f79(0x552)]('lesson-view-content');if(!_0x5ead46){showMessage(_0x158f79(0xcca));return;}const _0x1f093b=_0x5ead46['querySelectorAll']([_0x158f79(0x72b),_0x158f79(0x2b3),_0x158f79(0x3fc),_0x158f79(0x942),'.ai-content\x20h3'][_0x158f79(0xa89)](','));let _0x3f0bc2=0x0;const _0x24042d=_0x3efa9f=>_0x3efa9f[_0x158f79(0x37a)]||'',_0x3b6342=(_0x1d4d5e,_0x156c82)=>{const _0x3cccf6=_0x158f79;if(_0x1d4d5e[_0x3cccf6(0x972)]&&_0x1d4d5e[_0x3cccf6(0x972)]('mjx-container'))return;_0x1d4d5e['textContent']=_0x156c82;},_0x2aa9ef=_0x6ae6d2=>_0x6ae6d2[_0x158f79(0xbc5)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x158f79(0xbc5)](/\r\n?/g,'\x0a'),_0x41dbbc=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x405dc3=_0x3a4b4b=>{const _0x231c8e=_0x158f79;let _0x200365=_0x3a4b4b[_0x231c8e(0x887)]();const _0x5f371=[_0x231c8e(0xc3a),_0x231c8e(0xd05),'tfrac','sqrt','text',_0x231c8e(0xb76),_0x231c8e(0x7e6),_0x231c8e(0x3f7),_0x231c8e(0x703),'geq','le','ge',_0x231c8e(0x7bb),'pm','approx',_0x231c8e(0x336),_0x231c8e(0x6c1),_0x231c8e(0x2f3),'log','ln',_0x231c8e(0x7de),_0x231c8e(0xc1f),'binom',_0x231c8e(0x4a8),_0x231c8e(0x267),_0x231c8e(0x747),_0x231c8e(0x176),_0x231c8e(0xa72),_0x231c8e(0xaf8)];_0x5f371[_0x231c8e(0x1f5)](_0x43c0e9=>{const _0x46e79c=_0x231c8e;_0x200365=_0x200365['replace'](new RegExp(_0x46e79c(0xa8a)+_0x43c0e9+'\x5cb','g'),(_0x308f78,_0x588337)=>_0x588337+'\x5c'+_0x43c0e9);});const _0x419cc9=[[/×/g,'\x5ctimes'],[/·/g,_0x231c8e(0xc6d)],[/÷/g,'\x5cdiv'],[/≤/g,_0x231c8e(0x948)],[/≥/g,'\x5cge'],[/≠/g,_0x231c8e(0x422)],[/±/g,_0x231c8e(0x943)],[/∑/g,_0x231c8e(0xbb9)],[/−/g,'-']];return _0x419cc9[_0x231c8e(0x1f5)](([_0x2caef3,_0x538976])=>{const _0xb20aea=_0x231c8e;_0x200365=_0x200365[_0xb20aea(0xbc5)](_0x2caef3,_0x538976);}),_0x200365=_0x200365[_0x231c8e(0xbc5)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x200365=_0x200365[_0x231c8e(0xbc5)](/(\d+)\s*%/g,'$1\x5c%'),_0x200365;},_0xeb1c42=_0xa79046=>{const _0xa9b7bd=_0x158f79;if(/\$|\\\(|\\\[/['test'](_0xa79046))return _0xa79046;if(!_0x41dbbc[_0xa9b7bd(0x580)](_0xa79046))return _0xa79046;const _0xea7ea1=_0xa79046[_0xa9b7bd(0x64a)](/^\s*/)[0x0],_0x8a7390=_0xa79046['match'](/\s*$/)[0x0],_0xae59c=_0xa79046['trim']();return _0xea7ea1+'$'+_0x405dc3(_0xae59c)+'$'+_0x8a7390;};_0x1f093b[_0x158f79(0x1f5)](_0xf81b02=>{const _0x32ec4a=_0x158f79,_0x330fa6=_0x24042d(_0xf81b02);let _0x3fb5a6=_0x2aa9ef(_0x330fa6);_0x3fb5a6=_0x3fb5a6[_0x32ec4a(0xbc5)](/\$([^$]*?)\$/g,(_0x54a25b,_0x28ec5b)=>'$'+_0x405dc3(_0x28ec5b)+'$');const _0xbe88c3=_0x3fb5a6[_0x32ec4a(0xc3d)](/(\s+)/),_0x4f58e1=_0xbe88c3[_0x32ec4a(0x75d)](_0x49db5a=>{if(/\s+/['test'](_0x49db5a))return _0x49db5a;return _0xeb1c42(_0x49db5a);});_0x3fb5a6=_0x4f58e1[_0x32ec4a(0xa89)](''),_0x3fb5a6!==_0x330fa6&&(_0x3b6342(_0xf81b02,_0x3fb5a6),_0x3f0bc2++);});if(_0x3f0bc2>0x0){showMessage(_0x158f79(0x5b5)+_0x3f0bc2+_0x158f79(0x588));try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x158f79(0x171)]([_0x5ead46]);}catch(_0x3080cc){console[_0x158f79(0x2e9)]('MathJax\x20re-render\x20failed:',_0x3080cc);}}else showMessage(_0x158f79(0xa15));}function handleAutoFixLatex(){const _0xfa9144=_0x3a383e,_0x52cec2=document[_0xfa9144(0x552)]('quiz-editor-questions-container')||document,_0x99ddb8=_0x52cec2[_0xfa9144(0x3e0)](_0xfa9144(0xb96));let _0x1a3247=0x0;const _0x372f90=_0xd02d52=>_0xfa9144(0x203)in _0xd02d52?String(_0xd02d52[_0xfa9144(0x203)]):_0xd02d52['innerText']!==undefined?_0xd02d52[_0xfa9144(0x7a4)]:_0xd02d52[_0xfa9144(0x37a)]||'',_0x5c20a6=(_0x1d9490,_0x5494a7)=>{const _0x2088c7=_0xfa9144;if(_0x2088c7(0x203)in _0x1d9490){_0x1d9490[_0x2088c7(0x203)]=_0x5494a7;return;}if(_0x1d9490[_0x2088c7(0x972)]&&_0x1d9490[_0x2088c7(0x972)]('mjx-container'))return;if(_0x1d9490['innerText']!==undefined)_0x1d9490[_0x2088c7(0x7a4)]=_0x5494a7;else _0x1d9490[_0x2088c7(0x37a)]=_0x5494a7;},_0x572fdf=_0x2f7f18=>_0x2f7f18['replace'](/\u00A0/g,'\x20')[_0xfa9144(0xbc5)](/\u200B/g,'')[_0xfa9144(0xbc5)](/\r\n?/g,'\x0a'),_0x40cae3=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0xf83bd9=_0x41c8d3=>{const _0x31ffeb=_0xfa9144;let _0x26017a=_0x41c8d3[_0x31ffeb(0x887)]();_0x26017a=_0x26017a[_0x31ffeb(0xbc5)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x26017a=_0x26017a[_0x31ffeb(0xbc5)](/\bfrac(\d)(\d)/g,_0x31ffeb(0x47f));const _0x5b3eca=[_0x31ffeb(0xc3a),_0x31ffeb(0x915),_0x31ffeb(0xb76),_0x31ffeb(0x7e6),'div',_0x31ffeb(0x703),'geq',_0x31ffeb(0x7bb),'pm',_0x31ffeb(0x336),'cos',_0x31ffeb(0x2f3),_0x31ffeb(0x3ab),'ln'];_0x5b3eca['forEach'](_0x4a7671=>{_0x26017a=_0x26017a['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4a7671+'\x5cb','g'),(_0x46ac85,_0x58f37c)=>_0x58f37c+'\x5c'+_0x4a7671);});const _0x1a8890=[[/×/g,_0x31ffeb(0x537)],[/·/g,'\x5ccdot'],[/÷/g,_0x31ffeb(0x1e6)],[/≤/g,_0x31ffeb(0x948)],[/≥/g,'\x5cge'],[/≠/g,_0x31ffeb(0x422)],[/±/g,_0x31ffeb(0x943)]];return _0x1a8890[_0x31ffeb(0x1f5)](([_0x516ad8,_0x1b10a4])=>{const _0x786ca9=_0x31ffeb;_0x26017a=_0x26017a[_0x786ca9(0xbc5)](_0x516ad8,_0x1b10a4);}),_0x26017a;},_0x59ebd8=_0x3faeba=>{const _0x3f11ca=_0xfa9144;if(/\$|\\\(|\\\[/[_0x3f11ca(0x580)](_0x3faeba))return _0x3faeba;if(!_0x40cae3['test'](_0x3faeba))return _0x3faeba;const _0x47cd71=_0x3faeba[_0x3f11ca(0x64a)](/^\s*/)[0x0],_0x386079=_0x3faeba[_0x3f11ca(0x64a)](/\s*$/)[0x0],_0x1b56f6=_0x3faeba[_0x3f11ca(0x887)]();return _0x47cd71+'$'+_0xf83bd9(_0x1b56f6)+'$'+_0x386079;};_0x99ddb8[_0xfa9144(0x1f5)](_0x2db165=>{const _0x2eba78=_0xfa9144,_0x138c9d=_0x372f90(_0x2db165);let _0xb8ecfa=_0x572fdf(_0x138c9d);_0xb8ecfa=_0xb8ecfa['replace'](/\$([^$]*?)\$/g,(_0x1e557b,_0x295277)=>'$'+_0xf83bd9(_0x295277)+'$');const _0x322d1c=_0xb8ecfa[_0x2eba78(0xc3d)](/(\s+)/),_0x2e38f9=_0x322d1c['map'](_0x215f57=>/\s+/['test'](_0x215f57)?_0x215f57:_0x59ebd8(_0x215f57));_0xb8ecfa=_0x2e38f9[_0x2eba78(0xa89)](''),_0xb8ecfa!==_0x138c9d&&(_0x5c20a6(_0x2db165,_0xb8ecfa),_0x1a3247++);});if(_0x1a3247>0x0){showMessage(_0xfa9144(0xbf9)+_0x1a3247+'\x20จุด');try{if(window[_0xfa9144(0xc8b)]&&MathJax[_0xfa9144(0x171)])MathJax['typesetPromise']();}catch(_0x10347f){}}else showMessage(_0xfa9144(0x5ca));}async function listenForCustomMathTopics(){const _0x3fc12c=_0x3a383e,_0x2dd942=collection(db,'artifacts/'+appId+_0x3fc12c(0x90e));onSnapshot(_0x2dd942,_0x30c6cc=>{const _0x1fa8d9=_0x3fc12c;customMathTopics=_0x30c6cc[_0x1fa8d9(0x975)][_0x1fa8d9(0x75d)](_0x271247=>({'id':_0x271247['id'],..._0x271247[_0x1fa8d9(0x183)]()})),renderTopicCheckboxes();},_0x37f05d=>{const _0x307b08=_0x3fc12c;console[_0x307b08(0x2e9)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x37f05d);});}function handleSelectAllTopics(){const _0x44716f=_0x3a383e,_0x2af30d=document[_0x44716f(0x552)]('math-topics-checkbox-container'),_0x110670=_0x2af30d[_0x44716f(0x3e0)](_0x44716f(0x325));_0x110670[_0x44716f(0x1f5)](_0x43104d=>{const _0x4f8ff6=_0x44716f;_0x43104d[_0x4f8ff6(0xd08)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4cd6b9=_0x3a383e,_0x3ebc18=document[_0x4cd6b9(0x552)](_0x4cd6b9(0x1f7)),_0x1e174e=_0x3ebc18[_0x4cd6b9(0x3e0)](_0x4cd6b9(0x325));_0x1e174e['forEach'](_0x3923c6=>{const _0x3fef0c=_0x4cd6b9;_0x3923c6[_0x3fef0c(0xd08)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x39cae8){const _0x13da83=_0x3a383e;if(!_0x39cae8)return;try{const _0x5558b9=doc(db,'artifacts/'+appId+_0x13da83(0x90e),_0x39cae8);await deleteDoc(_0x5558b9),showMessage(_0x13da83(0x3fa));}catch(_0xf4c3d6){console[_0x13da83(0x2e9)](_0x13da83(0x147),_0xf4c3d6),showMessage(_0x13da83(0xa76));}}async function handleAddCustomMathTopic(){const _0x5a5757=_0x3a383e,_0x50a764=document['getElementById'](_0x5a5757(0xb31)),_0x391508=_0x50a764['value'][_0x5a5757(0x887)]();if(!_0x391508){showMessage(_0x5a5757(0x440));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x42598f=collection(db,_0x5a5757(0xc93)+appId+'/public/data/customMathTopics');await addDoc(_0x42598f,{'name':_0x391508,'createdAt':serverTimestamp()}),_0x50a764[_0x5a5757(0x203)]='',showMessage(_0x5a5757(0x27f)+_0x391508+_0x5a5757(0x418));}catch(_0x59c830){console['error'](_0x5a5757(0x7ed),_0x59c830),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x4bc05e=_0x3a383e;showConfirmation(_0x4bc05e(0x855),async()=>{const _0x58297e=_0x4bc05e,_0x29b699=document[_0x58297e(0x552)](_0x58297e(0x39f)),_0x64422a=document[_0x58297e(0x552)]('loader-text'),_0x43c498=_0x64422a[_0x58297e(0x37a)];_0x29b699[_0x58297e(0x4c1)]['remove'](_0x58297e(0x9d2)),_0x64422a[_0x58297e(0x37a)]=_0x58297e(0x9ee);try{const _0xd2cbe5=collection(db,_0x58297e(0xc93)+appId+_0x58297e(0x766)),_0x329d01=await getDocs(_0xd2cbe5);if(_0x329d01[_0x58297e(0x491)]){showMessage(_0x58297e(0xabf));return;}const _0x5075b3=writeBatch(db);let _0x3db748=0x0;_0x329d01[_0x58297e(0x1f5)](_0x66633=>{const _0x1f3b19=_0x58297e,_0x11ee87=_0x66633[_0x1f3b19(0x183)](),_0x5cea53=_0x66633['id'];if(_0x11ee87['questions']&&_0x11ee87[_0x1f3b19(0x5cd)]['length']>0x0&&!_0x11ee87[_0x1f3b19(0x5cd)][0x0][_0x1f3b19(0xa53)]('id')){console[_0x1f3b19(0x3ab)](_0x1f3b19(0x739)+_0x5cea53+'\x20('+_0x11ee87['topic']+')'),_0x3db748++;const _0x4bd76b=_0x11ee87[_0x1f3b19(0x5cd)][_0x1f3b19(0x75d)]((_0x2a0d5d,_0x3b7f6e)=>{return{..._0x2a0d5d,'id':_0x2a0d5d['id']||'q_'+Date['now']()+'_'+_0x5cea53+'_'+_0x3b7f6e};}),_0x817c45=doc(db,'artifacts/'+appId+_0x1f3b19(0x766),_0x5cea53);_0x5075b3[_0x1f3b19(0x1b5)](_0x817c45,{'questions':_0x4bd76b});}}),_0x3db748>0x0?(_0x64422a[_0x58297e(0x37a)]=_0x58297e(0x730)+_0x3db748+_0x58297e(0xbd3),await _0x5075b3[_0x58297e(0x75a)](),showMessage(_0x58297e(0x9ea)+_0x3db748+_0x58297e(0x505))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x3a18b0){console[_0x58297e(0x2e9)]('Error\x20updating\x20old\x20quizzes:',_0x3a18b0),showMessage(_0x58297e(0x1ab)+_0x3a18b0[_0x58297e(0x2db)]);}finally{_0x29b699['classList'][_0x58297e(0x350)](_0x58297e(0x9d2)),_0x64422a[_0x58297e(0x37a)]=_0x43c498;}});}async function handleBulkUpdateQuizSettings(){const _0x372099=_0x3a383e,_0x3fa8b9={'shuffle':document[_0x372099(0x552)](_0x372099(0xac0))[_0x372099(0x203)],'resultsDisplay':document[_0x372099(0x552)](_0x372099(0xc43))[_0x372099(0x203)],'loopUntilPass':document[_0x372099(0x552)](_0x372099(0x752))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x372099(0x39d))[_0x372099(0xd08)],'confidenceMode':document[_0x372099(0x552)]('bulk-confidence-mode-select')[_0x372099(0x203)]};try{showMessage(_0x372099(0x1d4));const _0x95ef2=await getDocs(collection(db,_0x372099(0xc93)+appId+_0x372099(0x766))),_0x53ab60=_0x95ef2[_0x372099(0x975)][_0x372099(0x75d)](_0x17ad16=>({'id':_0x17ad16['id'],'data':_0x17ad16[_0x372099(0x183)]()})),_0x43ef89=_0x53ab60[_0x372099(0x636)];showConfirmation(_0x372099(0xad8)+_0x43ef89+_0x372099(0x545),async()=>{const _0x555990=_0x372099,_0xd0eca=document[_0x555990(0x552)]('confirm-bulk-quiz-settings-btn');_0xd0eca[_0x555990(0x7ce)]=!![],_0xd0eca[_0x555990(0x377)]=_0x555990(0x7c9);try{const _0x3cdf9d=writeBatch(db);_0x53ab60[_0x555990(0x1f5)](_0x43fd4c=>{const _0x1df83d=_0x555990,_0x3055f3=doc(db,_0x1df83d(0xc93)+appId+_0x1df83d(0x766),_0x43fd4c['id']),_0x5ad4e4={..._0x43fd4c[_0x1df83d(0x183)][_0x1df83d(0x997)]||{},..._0x3fa8b9};_0x3cdf9d[_0x1df83d(0x1b5)](_0x3055f3,{'settings':_0x5ad4e4});}),await _0x3cdf9d[_0x555990(0x75a)](),document[_0x555990(0x552)](_0x555990(0x49a))['classList'][_0x555990(0x350)](_0x555990(0x9d2)),showMessage(_0x555990(0xc23)+_0x43ef89+_0x555990(0xb7d));}catch(_0x56d647){console[_0x555990(0x2e9)](_0x555990(0x9c1),_0x56d647),showMessage(_0x555990(0x3b7));}finally{_0xd0eca[_0x555990(0x7ce)]=![],_0xd0eca[_0x555990(0x377)]=_0x555990(0x816);}});}catch(_0x393895){console[_0x372099(0x2e9)](_0x372099(0x651),_0x393895),showMessage(_0x372099(0xbdd));}}async function handleSaveProjectName(){const _0x4d139e=_0x3a383e,_0x11b1e1=document[_0x4d139e(0x552)]('project-title'),_0x4ed40b=document[_0x4d139e(0x552)](_0x4d139e(0x5bb)),_0x59af0f=_0x11b1e1[_0x4d139e(0x37a)]['trim']();if(!_0x59af0f||!currentProjectId){showMessage(_0x4d139e(0xa54)),_0x11b1e1[_0x4d139e(0x37a)]=currentProjectData['projectName'];return;}_0x4ed40b['disabled']=!![],_0x4ed40b[_0x4d139e(0x377)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x5e4643=doc(db,_0x4d139e(0xc93)+appId+_0x4d139e(0x5c5),currentProjectId);await updateDoc(_0x5e4643,{'projectName':_0x59af0f}),currentProjectData&&(currentProjectData[_0x4d139e(0x217)]=_0x59af0f),showMessage(_0x4d139e(0xc08));}catch(_0x330d6f){console['error'](_0x4d139e(0x1d1),_0x330d6f),showMessage(_0x4d139e(0x492)),_0x11b1e1[_0x4d139e(0x37a)]=currentProjectData[_0x4d139e(0x217)];}finally{_0x4ed40b[_0x4d139e(0x4c1)][_0x4d139e(0x350)]('hidden'),_0x4ed40b['disabled']=![],_0x4ed40b[_0x4d139e(0x377)]=_0x4d139e(0x689);}}function handleGeneratePracticeTest(_0x528001,_0x2d14a7){const _0x5b2b5c=_0x3a383e,_0x506bd7=document[_0x5b2b5c(0x552)](_0x5b2b5c(0x4e0)),_0x296e39=document[_0x5b2b5c(0x552)](_0x5b2b5c(0x86e)),_0x3762ab=document['getElementById'](_0x5b2b5c(0x391)),_0x3ef94e=document[_0x5b2b5c(0x552)]('lesson-sections-container');_0x296e39[_0x5b2b5c(0x37a)]=_0x5b2b5c(0xb91)+_0x528001,_0x3ef94e[_0x5b2b5c(0x4c1)][_0x5b2b5c(0x350)](_0x5b2b5c(0x9d2)),_0x3762ab[_0x5b2b5c(0x4c1)]['remove'](_0x5b2b5c(0x9d2)),_0x506bd7[_0x5b2b5c(0x4c1)]['remove'](_0x5b2b5c(0x9d2)),generatePracticeTest(_0x528001,_0x2d14a7)['catch'](_0x3a620e=>{const _0x4ec0e8=_0x5b2b5c;console[_0x4ec0e8(0x2e9)](_0x4ec0e8(0x2e6),_0x3a620e),showMessage(_0x4ec0e8(0x6d3)),_0x506bd7['classList'][_0x4ec0e8(0x350)](_0x4ec0e8(0x9d2));});}async function generatePracticeTest(_0x2ad5c0,_0x451cd3){const _0xa87076=_0x3a383e;[_0xa87076(0x831),_0xa87076(0x3c2),_0xa87076(0x604),'summaryContent'][_0xa87076(0x1f5)](_0x2592b7=>{const _0xcb5e69=_0xa87076,_0x43b88c=document['getElementById'](_0x2592b7)[_0xcb5e69(0x49b)];_0x43b88c&&(_0x43b88c[_0xcb5e69(0x89b)]['display']='none');});try{const _0xb7fc2e=_0xa87076(0x460),_0x21a2c0=_0xa87076(0xa0d)+_0x451cd3+'\x27\x20ในหัวข้อ\x20\x27'+_0x2ad5c0+_0xa87076(0xa70),_0xa6f5f9=await callGemini(_0x21a2c0,!![]),_0x278ca7=document[_0xa87076(0x552)](_0xa87076(0x86e)),_0x1cb08b=document[_0xa87076(0x552)]('lesson-loader'),_0x217987=document[_0xa87076(0x552)]('lesson-sections-container'),_0xdc58f6=document[_0xa87076(0x552)]('applicationContent')['parentElement'];_0x278ca7['innerText']=_0xa87076(0x5af)+_0x2ad5c0[_0xa87076(0xbc5)](/•\s/g,'')+_0xa87076(0x991)+_0x451cd3+')',currentApplicationData=JSON[_0xa87076(0xbea)](_0xa6f5f9);const _0x2a8a90=document[_0xa87076(0x552)]('applicationContent');_0x2a8a90[_0xa87076(0x377)]=currentApplicationData[_0xa87076(0x75d)]((_0x18e652,_0x289f2c)=>_0xa87076(0x6fa)+(_0x289f2c+0x1)+'.\x20'+marked[_0xa87076(0x589)](_0x18e652[_0xa87076(0x807)])+_0xa87076(0x175)+_0x289f2c+_0xa87076(0x1b4)+_0x18e652[_0xa87076(0xb70)]['map']((_0x224432,_0x10e3a4)=>_0xa87076(0x526)+_0x289f2c+',\x20'+_0x10e3a4+_0xa87076(0x36f)+String[_0xa87076(0x6ee)](0x61+_0x10e3a4)+'.\x20'+marked[_0xa87076(0x589)](_0x224432)+_0xa87076(0x88b))[_0xa87076(0xa89)]('')+_0xa87076(0xc2e))[_0xa87076(0xa89)](''),window[_0xa87076(0xc8b)]&&MathJax[_0xa87076(0x171)]([_0x2a8a90]),_0xdc58f6&&(_0xdc58f6[_0xa87076(0x89b)][_0xa87076(0xcab)]=_0xa87076(0x29d)),_0x1cb08b[_0xa87076(0x4c1)][_0xa87076(0x350)](_0xa87076(0x9d2)),_0x217987[_0xa87076(0x4c1)][_0xa87076(0xb01)]('hidden');}catch(_0x19f46d){console['error'](_0x19f46d);throw _0x19f46d;}}async function callGemini(_0x515309,_0x2988a9=![]){const _0x4d23d4=_0x3a383e,_0x54e32a=_0x4d23d4(0xcf8),_0x1aaf95=_0x4d23d4(0x1e1)+_0x54e32a,_0x18bb29={'contents':[{'parts':[{'text':_0x515309}]}]};_0x2988a9&&(_0x18bb29[_0x4d23d4(0x528)]={'responseMimeType':_0x4d23d4(0x794)},_0x515309[_0x4d23d4(0x27b)](_0x4d23d4(0x4ab))?_0x18bb29['generationConfig'][_0x4d23d4(0xa0b)]={'type':_0x4d23d4(0x695),'properties':{'gradeLevel':{'type':_0x4d23d4(0x6d8)},'curriculum':{'type':_0x4d23d4(0x159),'items':{'type':_0x4d23d4(0x695),'properties':{'sara':{'type':_0x4d23d4(0x6d8)},'mainTopics':{'type':'ARRAY','items':{'type':_0x4d23d4(0x695),'properties':{'topicName':{'type':_0x4d23d4(0x6d8)},'subTopics':{'type':_0x4d23d4(0x159),'items':{'type':_0x4d23d4(0x6d8)}}},'required':[_0x4d23d4(0x880),'subTopics']}}},'required':[_0x4d23d4(0x69b),_0x4d23d4(0x44a)]}}},'required':[_0x4d23d4(0xbe4),_0x4d23d4(0xc16)]}:_0x18bb29[_0x4d23d4(0x528)][_0x4d23d4(0xa0b)]={'type':_0x4d23d4(0x159),'items':{'type':_0x4d23d4(0x695),'properties':{'question':{'type':_0x4d23d4(0x6d8)},'options':{'type':_0x4d23d4(0x159),'items':{'type':'STRING'}},'answer':{'type':_0x4d23d4(0xbe0)}},'required':[_0x4d23d4(0x807),_0x4d23d4(0xb70),_0x4d23d4(0xa51)]}});try{const _0x1fe698=await fetch(_0x1aaf95,{'method':'POST','headers':{'Content-Type':_0x4d23d4(0x794)},'body':JSON['stringify'](_0x18bb29)});if(!_0x1fe698['ok']){const _0x50baa0=await _0x1fe698[_0x4d23d4(0x5f4)]();console['error'](_0x4d23d4(0x30b),_0x50baa0);throw new Error(_0x4d23d4(0x383)+_0x1fe698[_0x4d23d4(0xb09)]);}const _0x1d4262=await _0x1fe698[_0x4d23d4(0xc0e)]();if(_0x1d4262[_0x4d23d4(0x392)]&&_0x1d4262[_0x4d23d4(0x392)][0x0][_0x4d23d4(0xc4f)]&&_0x1d4262[_0x4d23d4(0x392)][0x0]['content'][_0x4d23d4(0xbf0)][0x0])return _0x1d4262['candidates'][0x0][_0x4d23d4(0xc4f)][_0x4d23d4(0xbf0)][0x0][_0x4d23d4(0x5f4)];else{console['error'](_0x4d23d4(0x155),_0x1d4262);if(_0x1d4262[_0x4d23d4(0x392)]&&_0x1d4262[_0x4d23d4(0x392)][0x0][_0x4d23d4(0x905)]===_0x4d23d4(0x925))return JSON[_0x4d23d4(0x7ae)]({'error':_0x4d23d4(0x7c5)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x594205){console[_0x4d23d4(0x2e9)]('Error\x20calling\x20Gemini\x20API:',_0x594205);throw _0x594205;}}async function generateLesson(_0x3bf952=null,_0x4a542a=null){const _0x1ccb21=_0x3a383e,_0x12e5a=_0x3bf952,_0x544d8d=_0x4a542a||_0x1ccb21(0xcb2),_0x41355a=document[_0x1ccb21(0x552)]('lesson-loader'),_0x5e4b17=document[_0x1ccb21(0x552)](_0x1ccb21(0x428));_0x5e4b17['textContent']=_0x1ccb21(0x5c0)+_0x12e5a+'\x22...';try{let _0xde5557=[];const _0x1dbdd8=document[_0x1ccb21(0x552)](_0x1ccb21(0xb56))?.[_0x1ccb21(0x203)][_0x1ccb21(0x887)]();if(_0x1dbdd8)try{_0x5e4b17[_0x1ccb21(0x37a)]=_0x1ccb21(0xbf4);const _0x3aa4cf=await fetchFileFromUrl(_0x1dbdd8,_0x1ccb21(0xaa2)),_0xe45be8=await new Promise((_0x46518b,_0x24a315)=>{const _0x58d613=_0x1ccb21,_0x5a3d8f=new FileReader();_0x5a3d8f['readAsDataURL'](_0x3aa4cf),_0x5a3d8f[_0x58d613(0xb22)]=()=>_0x46518b(_0x5a3d8f[_0x58d613(0x2ae)][_0x58d613(0xc3d)](',')[0x1]),_0x5a3d8f['onerror']=_0x24a315;});_0xde5557[_0x1ccb21(0x321)]({'inlineData':{'mimeType':_0x3aa4cf['type'],'data':_0xe45be8}});}catch(_0x11fe01){console[_0x1ccb21(0x2e9)](_0x1ccb21(0xb71),_0x11fe01),showMessage(_0x1ccb21(0x64e));}const _0x29c654=_0x1ccb21(0xa2a)+_0x12e5a+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x12e5a+_0x1ccb21(0xcf4);_0x5e4b17[_0x1ccb21(0x37a)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x12e5a+'\x22...';const _0x265f65=_0x1ccb21(0xa98)+_0x544d8d+_0x1ccb21(0x7cc)+_0x12e5a+_0x1ccb21(0xcf0)+_0x29c654+_0x1ccb21(0x7e8),_0x15225b='สำหรับหัวข้อ\x20\x27'+_0x12e5a+_0x1ccb21(0x94d)+_0x544d8d+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x29c654+_0x1ccb21(0xa8d),_0x92f30c=_0x1ccb21(0xa0d)+_0x544d8d+_0x1ccb21(0x7cc)+_0x12e5a+_0x1ccb21(0xa48)+_0x29c654+_0x1ccb21(0x923),_0x3df5dc=_0x1ccb21(0x76a)+_0x12e5a+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x544d8d+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x29c654+_0x1ccb21(0x4d8),_0x3290c1={'type':'ARRAY','items':{'type':_0x1ccb21(0x695),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x1ccb21(0x6d8)}},'answer':{'type':'NUMBER'}},'required':['question',_0x1ccb21(0xb70),_0x1ccb21(0xa51)]}},[_0xa6e066,_0x4a68de,_0x43a6e3,_0x146c58]=await Promise['all']([handleApiCall([{'text':_0x265f65},..._0xde5557],_0x1ccb21(0x8a9),null,null,![]),handleApiCall([{'text':_0x15225b},..._0xde5557],_0x1ccb21(0x8a9),null,null,![]),handleApiCall([{'text':_0x92f30c},..._0xde5557],_0x1ccb21(0x8a9),_0x3290c1,null,![]),handleApiCall([{'text':_0x3df5dc},..._0xde5557],_0x1ccb21(0x8a9),null,null,![])]),_0x25c291=JSON[_0x1ccb21(0x7ae)](_0x43a6e3||[]),_0x115cb0=document['getElementById']('lesson-view-title'),_0x227aba=document[_0x1ccb21(0x552)](_0x1ccb21(0x38d));_0x115cb0[_0x1ccb21(0x7a4)]='บทเรียนเรื่อง:\x20'+_0x12e5a[_0x1ccb21(0xbc5)](/•\\s/g,'')+_0x1ccb21(0x991)+_0x544d8d+')',[_0x1ccb21(0x831),'memoryContent',_0x1ccb21(0x299)][_0x1ccb21(0x1f5)](_0xe5969=>{const _0x568a4a=_0x1ccb21;document[_0x568a4a(0x552)](_0xe5969)[_0x568a4a(0x377)]='';}),document[_0x1ccb21(0x552)](_0x1ccb21(0x831))[_0x1ccb21(0x377)]=_0xa6e066?marked[_0x1ccb21(0xbea)](_0xa6e066):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x1ccb21(0x552)](_0x1ccb21(0x3c2))['innerHTML']=_0x4a68de?marked['parse'](_0x4a68de):_0x1ccb21(0x4dd),document[_0x1ccb21(0x552)](_0x1ccb21(0x299))['innerHTML']=_0x146c58?marked[_0x1ccb21(0xbea)](_0x146c58):_0x1ccb21(0x4dd),currentApplicationData=JSON[_0x1ccb21(0xbea)](_0x25c291);const _0x71c92e=document[_0x1ccb21(0x552)](_0x1ccb21(0x604));_0x71c92e[_0x1ccb21(0x377)]=(currentApplicationData||[])[_0x1ccb21(0x75d)]((_0x9cf288,_0x5ab2a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5ab2a+0x1)+'.\x20'+marked[_0x1ccb21(0x589)](_0x9cf288[_0x1ccb21(0x807)]||'')+_0x1ccb21(0x175)+_0x5ab2a+_0x1ccb21(0x1b4)+(_0x9cf288[_0x1ccb21(0xb70)]||[])[_0x1ccb21(0x75d)]((_0x3fcb26,_0xa2959d)=>_0x1ccb21(0x526)+_0x5ab2a+',\x20'+_0xa2959d+_0x1ccb21(0x36f)+String[_0x1ccb21(0x6ee)](0x61+_0xa2959d)+'.\x20'+marked['parseInline'](_0x3fcb26||'')+_0x1ccb21(0x88b))['join']('')+_0x1ccb21(0xc2e))['join']('')||_0x1ccb21(0xcdc),window['MathJax']&&MathJax[_0x1ccb21(0x171)]([_0x227aba]),_0x41355a[_0x1ccb21(0x4c1)][_0x1ccb21(0x350)](_0x1ccb21(0x9d2)),_0x227aba[_0x1ccb21(0x4c1)][_0x1ccb21(0xb01)](_0x1ccb21(0x9d2));}catch(_0x3f3556){console[_0x1ccb21(0x2e9)](_0x3f3556);throw _0x3f3556;}}function checkAnswer(_0x105468,_0x395daf){const _0x45759b=_0x3a383e,_0x2a44b8=currentApplicationData[_0x105468],_0x1379a6=document[_0x45759b(0x552)]('q'+_0x105468+_0x45759b(0x3e3)),_0xa13994=_0x1379a6[_0x45759b(0x764)](_0x45759b(0x8be));for(let _0x1b77e5 of _0xa13994){_0x1b77e5[_0x45759b(0x7ce)]=!![];}_0x395daf===_0x2a44b8[_0x45759b(0xa51)]?_0xa13994[_0x395daf][_0x45759b(0x4c1)][_0x45759b(0x350)](_0x45759b(0xcf7)):(_0xa13994[_0x395daf][_0x45759b(0x4c1)][_0x45759b(0x350)](_0x45759b(0x278)),_0xa13994[_0x2a44b8[_0x45759b(0xa51)]]['classList'][_0x45759b(0x350)](_0x45759b(0xcf7)));}window[_0x3a383e(0x5f5)]=handleGenerateAndShowLesson,window[_0x3a383e(0xb05)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x46ee07=_0x3a383e;try{const _0x18d83b=initializeApp(firebaseConfig);db=getFirestore(_0x18d83b),auth=getAuth(_0x18d83b),setupAuthListener(),setupEventListeners(),showView(_0x46ee07(0x927)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x4891cf){console[_0x46ee07(0x2e9)](_0x46ee07(0xb28),_0x4891cf),showMessage(_0x46ee07(0xb82));}}async function handleVerifyAnswersInEditor(){const _0x3e4066=_0x3a383e,_0x434dd3=document[_0x3e4066(0x552)](_0x3e4066(0x783));if(!_0x434dd3)return;const _0x2475c1=document['getElementById']('verify-answers-editor-btn');_0x2475c1[_0x3e4066(0x7ce)]=!![],_0x2475c1[_0x3e4066(0x377)]=_0x3e4066(0x5a7);try{const _0x3e1fcf=_0x434dd3[_0x3e4066(0x3e0)](_0x3e4066(0xb66)),_0x39bf96=Array[_0x3e4066(0x659)](_0x3e1fcf)[_0x3e4066(0x75d)]((_0x2aff3d,_0x4d4d0c)=>{const _0x2f8d01=_0x3e4066,_0x42586f=_0x2aff3d['dataset'][_0x2f8d01(0x9df)],_0x461bf8=_0x2aff3d[_0x2f8d01(0x972)](_0x2f8d01(0xca7))['value'];let _0x36627a=null,_0x266d6f='';switch(_0x42586f){case _0x2f8d01(0x2df):const _0x3e51c4=_0x2aff3d[_0x2f8d01(0x3e0)](_0x2f8d01(0x3f3));_0x36627a=Array['from'](_0x3e51c4)[_0x2f8d01(0x75d)](_0x106c5d=>_0x106c5d[_0x2f8d01(0x203)]);const _0x53cdc3=_0x2aff3d['querySelector'](_0x2f8d01(0x304));_0x53cdc3&&(_0x266d6f=_0x36627a[parseInt(_0x53cdc3[_0x2f8d01(0x203)])]);break;case _0x2f8d01(0x952):_0x266d6f=_0x2aff3d[_0x2f8d01(0x972)]('.ideal-answer-input')[_0x2f8d01(0x203)];break;case _0x2f8d01(0x631):const _0x396954=_0x2aff3d[_0x2f8d01(0x972)](_0x2f8d01(0x304));_0x266d6f=_0x396954?_0x396954['value']:'';break;case'matching_item':_0x266d6f=_0x2aff3d[_0x2f8d01(0x972)](_0x2f8d01(0xbe3))[_0x2f8d01(0x203)];break;}return{'question':_0x461bf8,'options':_0x36627a,'proposedAnswer':_0x266d6f};}),_0x2d2f6d=_0x3e4066(0x757)+JSON['stringify'](_0x39bf96)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x348db4={'type':_0x3e4066(0x159),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x3e4066(0xbe0)},'isCorrect':{'type':_0x3e4066(0x3e9)},'justification':{'type':_0x3e4066(0x6d8)},'suggestedAnswer':{'type':_0x3e4066(0x6d8)}},'required':['questionIndex','isCorrect',_0x3e4066(0xaac)]}},_0x49f47b=await callAnalysisApi(_0x2d2f6d,{'type':_0x3e4066(0x695),'properties':{'result':_0x348db4},'required':[_0x3e4066(0x2ae)]});displayVerificationResultsInEditor(_0x49f47b[_0x3e4066(0x2ae)]);}catch(_0x1001b9){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x1001b9),showMessage(_0x3e4066(0xbab));}finally{_0x2475c1['disabled']=![],_0x2475c1['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x4bdff2){const _0x13c195=_0x3a383e;_0x4bdff2[_0x13c195(0x1f5)](_0x307e00=>{const _0x5f0f88=_0x13c195,_0x1618d5=document['querySelector'](_0x5f0f88(0x4c2)+_0x307e00[_0x5f0f88(0x4e7)]+'\x22]');if(!_0x1618d5)return;const _0x111397=_0x1618d5[_0x5f0f88(0x972)]('.verification-result-editor');if(_0x111397)_0x111397[_0x5f0f88(0xb01)]();let _0x1073f0='';if(_0x307e00[_0x5f0f88(0x1c8)])_0x1073f0=_0x5f0f88(0x628);else{const _0x368af0=_0x307e00[_0x5f0f88(0xc83)]?_0x5f0f88(0x53c):'';_0x1073f0=_0x5f0f88(0x56a)+_0x368af0+_0x5f0f88(0xad5)+_0x307e00[_0x5f0f88(0xaac)]+_0x5f0f88(0xbb5)+(_0x307e00[_0x5f0f88(0xc83)]?_0x5f0f88(0x24e)+_0x307e00[_0x5f0f88(0xc83)]+'</p>':'')+_0x5f0f88(0x788);}_0x1618d5[_0x5f0f88(0x82e)](_0x5f0f88(0x31b),_0x1073f0);if(!_0x307e00[_0x5f0f88(0x1c8)]&&_0x307e00['suggestedAnswer']){const _0x18919e=_0x1618d5[_0x5f0f88(0x79d)][_0x5f0f88(0x9df)],_0xd854ca=_0x586ffc=>{const _0x6a1b4a=_0x5f0f88;if(!_0x586ffc)return;_0x586ffc[_0x6a1b4a(0x4c1)][_0x6a1b4a(0x350)](_0x6a1b4a(0x14f),_0x6a1b4a(0x471),_0x6a1b4a(0x8a1)),setTimeout(()=>{const _0x5c56d6=_0x6a1b4a;_0x586ffc[_0x5c56d6(0x4c1)][_0x5c56d6(0xb01)](_0x5c56d6(0x14f));},0x9c4);};if(_0x18919e===_0x5f0f88(0x2df)){const _0x4e796f=Array[_0x5f0f88(0x659)](_0x1618d5[_0x5f0f88(0x3e0)](_0x5f0f88(0x3f3))),_0x2879e7=_0x4e796f[_0x5f0f88(0xa85)](_0x29deea=>_0x29deea['value']['trim']()[_0x5f0f88(0x883)]()===_0x307e00[_0x5f0f88(0xc83)]['trim']()[_0x5f0f88(0x883)]());if(_0x2879e7!==-0x1){const _0x1cf642=_0x1618d5[_0x5f0f88(0x972)](_0x5f0f88(0x844)+_0x2879e7+'\x22]');_0x1cf642&&(_0x1cf642[_0x5f0f88(0xd08)]=!![],_0xd854ca(_0x1cf642[_0x5f0f88(0xc1b)](_0x5f0f88(0x3f7))));}}else{if(_0x18919e==='short_answer'||_0x18919e===_0x5f0f88(0x4b4)){const _0x4a9f14=_0x1618d5[_0x5f0f88(0x972)]('.ideal-answer-input,\x20.correct-response-input');_0x4a9f14&&(_0x4a9f14['value']=_0x307e00[_0x5f0f88(0xc83)],_0xd854ca(_0x4a9f14));}else{if(_0x18919e===_0x5f0f88(0x631)){const _0x10efea=_0x307e00[_0x5f0f88(0xc83)][_0x5f0f88(0x887)]()[_0x5f0f88(0x883)](),_0x54b310=_0x1618d5[_0x5f0f88(0x972)](_0x5f0f88(0x844)+_0x10efea+'\x22]');_0x54b310&&(_0x54b310[_0x5f0f88(0xd08)]=!![],_0xd854ca(_0x54b310['closest'](_0x5f0f88(0x3f7))));}}}}}),showMessage(_0x13c195(0xc76));}async function handleVerifyAnswers(){const _0x237286=_0x3a383e;if(!currentQuizData||!currentQuizData[_0x237286(0x5cd)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x550b7c=document[_0x237286(0x552)](_0x237286(0xc47));_0x550b7c[_0x237286(0x7ce)]=!![],_0x550b7c[_0x237286(0x377)]=_0x237286(0x5a7);try{const _0x117e6c=currentQuizData[_0x237286(0x5cd)][_0x237286(0x75d)]((_0x10e18f,_0x316ece)=>{const _0x4fe2a5=_0x237286;let _0x5ea37b='';const _0x502c7d=_0x10e18f[_0x4fe2a5(0x5be)]||currentQuizData[_0x4fe2a5(0x8bd)];switch(_0x502c7d){case _0x4fe2a5(0x2df):_0x5ea37b=_0x10e18f['options'][_0x10e18f[_0x4fe2a5(0xb21)]];break;case _0x4fe2a5(0x952):_0x5ea37b=_0x10e18f[_0x4fe2a5(0x572)];break;case'true_false':_0x5ea37b=_0x10e18f[_0x4fe2a5(0x207)][_0x4fe2a5(0x2de)]();break;case _0x4fe2a5(0x4b4):_0x5ea37b=_0x10e18f['correctResponse'];break;}return{'question':_0x10e18f['stem']||_0x10e18f[_0x4fe2a5(0x629)],'options':_0x10e18f[_0x4fe2a5(0xb70)]||null,'proposedAnswer':_0x5ea37b};}),_0x76475d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x237286(0x7ae)](_0x117e6c)+_0x237286(0x421),_0x1c6f10={'type':'ARRAY','items':{'type':_0x237286(0x695),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x237286(0x3e9)},'justification':{'type':_0x237286(0x6d8)},'suggestedAnswer':{'type':_0x237286(0x6d8)}},'required':[_0x237286(0x4e7),_0x237286(0x1c8),_0x237286(0xaac)]}},_0x1babd6=await callAnalysisApi(_0x76475d,{'type':'OBJECT','properties':{'result':_0x1c6f10},'required':['result']});displayVerificationResults(_0x1babd6[_0x237286(0x2ae)]);}catch(_0x237ed6){console[_0x237286(0x2e9)](_0x237286(0x4e6),_0x237ed6),showMessage(_0x237286(0xbab));}finally{_0x550b7c['disabled']=![],_0x550b7c[_0x237286(0x377)]=_0x237286(0x735);}}function displayVerificationResults(_0x3b2601){const _0x2297fb=_0x3a383e;_0x3b2601[_0x2297fb(0x1f5)](_0x1a16a2=>{const _0x534799=_0x2297fb,_0x2c25a7=document[_0x534799(0x972)](_0x534799(0x20f)+_0x1a16a2['questionIndex']+'\x22]');if(_0x2c25a7){const _0x1637dc=_0x2c25a7[_0x534799(0x972)](_0x534799(0xc56));if(_0x1637dc)_0x1637dc[_0x534799(0xb01)]();let _0x1f5724='';_0x1a16a2[_0x534799(0x1c8)]?_0x1f5724=_0x534799(0xc95):_0x1f5724='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x1a16a2['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1a16a2[_0x534799(0xc83)]?_0x534799(0x24e)+_0x1a16a2[_0x534799(0xc83)]+_0x534799(0xb8e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c25a7[_0x534799(0x82e)]('beforeend',_0x1f5724);}}),showMessage(_0x2297fb(0xc76));}function compareNumericalAnswers(_0xe5c659,_0x2ec541){const _0x5ab53f=_0x3a383e,_0x454cde=String(_0xe5c659)[_0x5ab53f(0xbc5)](',','.')['replace'](/[^\d.-]/g,'')[_0x5ab53f(0x887)](),_0x47d087=String(_0x2ec541)[_0x5ab53f(0xbc5)](',','.')[_0x5ab53f(0xbc5)](/[^\d.-]/g,'')['trim']();if(_0x454cde===''||_0x47d087==='')return![];const _0x491beb=parseFloat(_0x454cde),_0x499ad9=parseFloat(_0x47d087);if(isNaN(_0x491beb)||isNaN(_0x499ad9))return![];return Math[_0x5ab53f(0xcbd)](_0x491beb-_0x499ad9)<0.001;}function isPotentiallyNumeric(_0x2a4c30){const _0x56c044=_0x3a383e;if(typeof _0x2a4c30!==_0x56c044(0x3ce)&&typeof _0x2a4c30!=='number')return![];const _0x22454e=String(_0x2a4c30)[_0x56c044(0xbc5)](',','.')[_0x56c044(0x887)]();return _0x22454e!==''&&!isNaN(parseFloat(_0x22454e))&&isFinite(_0x22454e);}async function gradeShortAnswer(_0x35e1d0,_0x3e00c7){const _0xf7e26d=_0x3a383e,_0x4308ba=_0x3e00c7[_0xf7e26d(0x572)],_0x50d990=String(_0x35e1d0)[_0xf7e26d(0xbc5)](/\$/g,'')[_0xf7e26d(0x887)](),_0x2d8b6e=String(_0x4308ba)['replace'](/\$/g,'')[_0xf7e26d(0x887)]();if(_0x50d990['toLowerCase']()===_0x2d8b6e[_0xf7e26d(0x883)]())return!![];if(isPotentiallyNumeric(_0x50d990)&&isPotentiallyNumeric(_0x2d8b6e)){if(compareNumericalAnswers(_0x50d990,_0x2d8b6e))return!![];}return console[_0xf7e26d(0x3ab)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x35e1d0,_0x4308ba);}async function revealAnswerForAdmin(_0x48838a,_0x3a2e97){const _0x2f7a02=_0x3a383e,_0x5cdc0b=doc(db,'artifacts/'+appId+_0x2f7a02(0x291),currentLiveGameId);await updateDoc(_0x5cdc0b,{'questionStatus':_0x2f7a02(0x94e)});}function showTop5LeaderboardView(_0x99a88c){const _0x2e7c65=_0x3a383e,_0x1bfd5f=Object[_0x2e7c65(0x8b4)](_0x99a88c[_0x2e7c65(0x8d9)]||{})[_0x2e7c65(0x499)](_0x593fe6=>_0x593fe6[_0x2e7c65(0xb09)]===_0x2e7c65(0xc45));_0x1bfd5f[_0x2e7c65(0xa29)]((_0x19c509,_0x29b7ee)=>_0x29b7ee['score']-_0x19c509['score']);const _0x4a2e08=_0x1bfd5f[_0x2e7c65(0x8ea)](0x0,0x5),_0x4901c6=_0x2e7c65(0xbd8)+_0x4a2e08[_0x2e7c65(0x75d)]((_0x4180b1,_0x29771d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x29771d+0x1)+'.\x20'+(_0x4180b1[_0x2e7c65(0xce5)]||Object[_0x2e7c65(0xb17)](_0x99a88c[_0x2e7c65(0x8d9)])['find'](_0x38fece=>_0x99a88c['players'][_0x38fece]===_0x4180b1))+_0x2e7c65(0x3db)+_0x4180b1['score']+_0x2e7c65(0x9a9))['join']('')+_0x2e7c65(0x2fb)+(_0x99a88c[_0x2e7c65(0x3fd)]+0x1===currentQuizData['questions']['length']?'สรุปผลสุดท้าย':_0x2e7c65(0x323))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x2e7c65(0x377)]=_0x4901c6,document[_0x2e7c65(0x552)](_0x2e7c65(0x439))[_0x2e7c65(0x224)](_0x2e7c65(0x43a),async()=>{const _0x10be23=_0x2e7c65,_0x5c4334=doc(db,_0x10be23(0xc93)+appId+_0x10be23(0x291),currentLiveGameId),_0x1dcc08=_0x99a88c['currentQuestionIndex']+0x1;if(_0x1dcc08<currentQuizData[_0x10be23(0x5cd)][_0x10be23(0x636)]){const _0x4700cd={'currentQuestionIndex':_0x1dcc08,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x10be23(0x513)};Object[_0x10be23(0xb17)](_0x99a88c[_0x10be23(0x8d9)])[_0x10be23(0x1f5)](_0x2fdb8e=>{const _0x1ac4ae=_0x10be23;_0x4700cd[_0x1ac4ae(0xa02)+_0x2fdb8e+_0x1ac4ae(0x9f3)]=![];}),await updateDoc(_0x5c4334,_0x4700cd);}else await updateDoc(_0x5c4334,{'status':_0x10be23(0xc5d)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xb09ebd=>{const _0x2d42e7=_0x35c4;if(_0xb09ebd){userId=_0xb09ebd['uid'],userIdDisplay[_0x2d42e7(0x37a)]=userId;const _0x2b4c4f=await loadUserPreferences();_0x2b4c4f['projectSortOrder']&&(document[_0x2d42e7(0x552)](_0x2d42e7(0x266))[_0x2d42e7(0x203)]=_0x2b4c4f[_0x2d42e7(0x5da)]);globalDashboardSettings['projectView']=_0x2b4c4f['projectView']||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x3fb29c,_0x48b8d7){const _0x1ba1a8=_0x3a383e;if(!userId)return;try{const _0x6688a1=doc(db,_0x1ba1a8(0xc93)+appId+_0x1ba1a8(0x3ff)+userId+_0x1ba1a8(0x2b8)),_0x284ddd={};_0x284ddd[_0x3fb29c]=_0x48b8d7,await setDoc(_0x6688a1,_0x284ddd,{'merge':!![]});}catch(_0x1eb7f7){console[_0x1ba1a8(0x2e9)](_0x1ba1a8(0xba2),_0x1eb7f7);}}async function loadUserPreferences(){const _0x33ef70=_0x3a383e;if(!userId)return{};try{const _0x37559d=doc(db,_0x33ef70(0xc93)+appId+_0x33ef70(0x3ff)+userId+_0x33ef70(0x2b8)),_0x5e1321=await getDoc(_0x37559d);if(_0x5e1321[_0x33ef70(0x837)]())return _0x5e1321[_0x33ef70(0x183)]();return{};}catch(_0x472cd0){return console[_0x33ef70(0x2e9)](_0x33ef70(0xbfc),_0x472cd0),{};}}function parseIndentedBlueprint(_0x3010a8){const _0x39972a=_0x3a383e,_0x27287f=_0x3010a8['split']('\x0a')[_0x39972a(0x499)](_0x5a39b4=>_0x5a39b4[_0x39972a(0x887)]()!==''),_0x54988f=[];let _0x386a01=null,_0x299ab4=null;return _0x27287f[_0x39972a(0x1f5)](_0x519cca=>{const _0x1d84c9=_0x39972a,_0x261369=_0x519cca[_0x1d84c9(0x64a)](/^\s*/)[0x0][_0x1d84c9(0x636)],_0x10c699=_0x519cca[_0x1d84c9(0x887)]();if(_0x261369===0x0)_0x386a01={'sara':_0x10c699,'mainTopics':[]},_0x54988f[_0x1d84c9(0x321)](_0x386a01),_0x299ab4=null;else{if(_0x261369>0x0&&_0x261369<0x8&&_0x386a01)_0x299ab4={'topicName':_0x10c699,'subTopics':[]},_0x386a01[_0x1d84c9(0x44a)]['push'](_0x299ab4);else _0x261369>=0x8&&_0x299ab4&&_0x299ab4[_0x1d84c9(0x5d1)][_0x1d84c9(0x321)](_0x10c699);}}),{'curriculum':_0x54988f};}async function handleManualBlueprintSave(){const _0x398831=_0x3a383e,_0x405a19=document[_0x398831(0x552)](_0x398831(0x76b))[_0x398831(0x203)][_0x398831(0x887)](),_0xbb3cc4=document[_0x398831(0x552)](_0x398831(0x8d6))[_0x398831(0x203)][_0x398831(0x887)](),_0x551c20=document[_0x398831(0x552)]('manual-bp-content')['value'];if(!_0x405a19||!_0xbb3cc4||!_0x551c20){showMessage(_0x398831(0x902));return;}const _0xd8d109=parseIndentedBlueprint(_0x551c20);if(!_0xd8d109[_0x398831(0xc16)]||_0xd8d109[_0x398831(0xc16)][_0x398831(0x636)]===0x0){showMessage(_0x398831(0x980));return;}const _0x75d6c8={};let _0x4a216c=0x0;_0xd8d109[_0x398831(0xc16)][_0x398831(0x1f5)](_0x1719d3=>{const _0x380836=_0x398831;_0x1719d3[_0x380836(0x44a)]['forEach'](_0x297d21=>{const _0x5d97c=_0x380836;_0x297d21[_0x5d97c(0x5d1)][_0x5d97c(0x1f5)](_0x5f28f1=>{const _0x5a70d7=_0x5d97c,_0x4a6f30=_0x5a70d7(0x1d7)+Date[_0x5a70d7(0x15a)]()+Math[_0x5a70d7(0x9f5)]()[_0x5a70d7(0x2de)](0x24)['substr'](0x2,0x9);_0x75d6c8[_0x4a6f30]={'sara':_0x1719d3[_0x5a70d7(0x69b)],'mainTopic':_0x297d21[_0x5a70d7(0x880)],'subTopic':_0x5f28f1,'status':_0x5a70d7(0x806),'lessonContent':null,'order':_0x4a216c++};});});});try{const _0x56f882=collection(db,_0x398831(0xc93)+appId+_0x398831(0x8f3));await addDoc(_0x56f882,{'projectName':_0x405a19,'gradeLevel':_0xbb3cc4,'topics':_0x75d6c8,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x405a19+_0x398831(0x895)),document['getElementById'](_0x398831(0x536))[_0x398831(0x4c1)][_0x398831(0x350)](_0x398831(0x9d2));}catch(_0x3b5c4a){console[_0x398831(0x2e9)](_0x398831(0x17e),_0x3b5c4a),showMessage(_0x398831(0x332));}}function handleClearAllLinksForTopic(_0x497a2f){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x57767a=_0x35c4;try{const _0x1be2f7=doc(db,_0x57767a(0xc93)+appId+_0x57767a(0x8f3),currentBlueprintProjectId);await updateDoc(_0x1be2f7,{[_0x57767a(0xa00)+_0x497a2f+_0x57767a(0x195)]:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x497a2f),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1d2f82){console[_0x57767a(0x2e9)]('Error\x20clearing\x20all\x20links:',_0x1d2f82),showMessage(_0x57767a(0x6a0));}});}function showPodiumView(_0x56c57a,_0x1cf09d=_0x3a383e(0x9b7)){const _0x833577=_0x3a383e,_0x1417e8=Object[_0x833577(0x14e)](_0x56c57a)[_0x833577(0x75d)](([_0x59bcd5,_0x3e101d])=>({'name':_0x59bcd5,'score':_0x3e101d[_0x833577(0xbd7)]||0x0,'badges':_0x3e101d[_0x833577(0x4fc)]||[],'hasPerfectScoreBonus':_0x3e101d[_0x833577(0x7c7)]||![]}));_0x1417e8['sort']((_0x439bca,_0xe674d8)=>{const _0x4dbdd1=_0x833577,_0x44cf91=_0xe674d8[_0x4dbdd1(0xbd7)]-_0x439bca[_0x4dbdd1(0xbd7)];if(_0x44cf91!==0x0)return _0x44cf91;return(_0xe674d8[_0x4dbdd1(0x4fc)]['length']||0x0)-(_0x439bca[_0x4dbdd1(0x4fc)]['length']||0x0);});const _0x446041=_0x1c8cfe=>{const _0x19dee7=_0x833577;if(!_0x1c8cfe||_0x1c8cfe[_0x19dee7(0x636)]===0x0)return'';const _0x2437ff={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x19dee7(0xcbc)+_0x1c8cfe[_0x19dee7(0x75d)](_0x1d5c27=>_0x2437ff[_0x1d5c27]||'')['join']('')+_0x19dee7(0xc87);},_0x449cac=_0x1417e8[_0x833577(0x8ea)](0x3),_0xd56084=_0x449cac[_0x833577(0x636)]>0x0?_0x833577(0x2a9)+_0x449cac[_0x833577(0x75d)]((_0xfff1d7,_0x25ded4)=>{const _0x3b711d=_0x833577,_0x338718=_0xfff1d7[_0x3b711d(0x7c7)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x3b711d(0xc29)+(_0x25ded4+0x4)+_0x3b711d(0x8e9)+_0xfff1d7['name']+_0x3b711d(0x42b)+_0xfff1d7[_0x3b711d(0xbd7)]+'\x20คะแนน\x20'+_0x338718+_0x3b711d(0x94c);})[_0x833577(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x38ce68='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1417e8[0x1]?_0x833577(0x652)+_0x1417e8[0x1]['name']+_0x833577(0xb8e)+_0x446041(_0x1417e8[0x1][_0x833577(0x4fc)])+_0x833577(0x168)+_0x1417e8[0x1]['score']+'\x20คะแนน\x20'+(_0x1417e8[0x1]['hasPerfectScoreBonus']?_0x833577(0x9a6):'')+_0x833577(0xcaa):'<div\x20class=\x22flex-1\x22></div>')+_0x833577(0xb61)+(_0x1417e8[0x0]?_0x833577(0x1ff)+_0x1417e8[0x0]['name']+_0x833577(0xb8e)+_0x446041(_0x1417e8[0x0]['badges'])+_0x833577(0x3ae)+_0x1417e8[0x0][_0x833577(0xbd7)]+_0x833577(0xbc2)+(_0x1417e8[0x0][_0x833577(0x7c7)]?_0x833577(0x9a6):'')+_0x833577(0x303):_0x833577(0x937))+_0x833577(0xb61)+(_0x1417e8[0x2]?_0x833577(0x3c3)+_0x1417e8[0x2]['name']+_0x833577(0xb8e)+_0x446041(_0x1417e8[0x2][_0x833577(0x4fc)])+_0x833577(0x168)+_0x1417e8[0x2][_0x833577(0xbd7)]+_0x833577(0xbc2)+(_0x1417e8[0x2]['hasPerfectScoreBonus']?_0x833577(0x9a6):'')+_0x833577(0xa49):_0x833577(0x937))+_0x833577(0x706)+_0xd56084+_0x833577(0xb7b)+(currentMode===_0x833577(0x4a6)?_0x833577(0x468):_0x833577(0x433))+_0x833577(0x6ac);liveGameView[_0x833577(0x377)]=_0x38ce68,currentMode===_0x833577(0x4a6)&&document['getElementById'](_0x833577(0x9cd))[_0x833577(0x224)](_0x833577(0x43a),async()=>{const _0xf835de=_0x833577;let _0x1f2956;_0x1cf09d===_0xf835de(0x9e0)?_0x1f2956=doc(db,_0xf835de(0xc93)+appId+_0xf835de(0x67c),currentLiveGameId):_0x1f2956=doc(db,_0xf835de(0xc93)+appId+_0xf835de(0x291),currentLiveGameId),await deleteDoc(_0x1f2956);});}function renderSyncSummaryView(_0x123b08,_0x13a89c,_0x4bd926){const _0x57c4b1=_0x3a383e,_0x33acda=Object[_0x57c4b1(0x8b4)](_0x123b08['players']||{}),_0x1f87cc=_0x13a89c[_0x57c4b1(0x5be)]||_0x123b08[_0x57c4b1(0x402)][_0x57c4b1(0x8bd)];let _0x1d7d5b=[];_0x1f87cc===_0x57c4b1(0x631)?_0x1d7d5b=[_0x57c4b1(0x527),'ไม่ใช่\x20/\x20ผิด']:_0x1d7d5b=_0x13a89c[_0x57c4b1(0xb70)]||[];const _0x4ec3cc=new Array(_0x1d7d5b[_0x57c4b1(0x636)])[_0x57c4b1(0x80d)](0x0),_0x41639d={};_0x1d7d5b[_0x57c4b1(0x1f5)]((_0x1de8e3,_0x5d10aa)=>{_0x41639d[_0x5d10aa]=[];}),Object[_0x57c4b1(0x14e)](_0x123b08[_0x57c4b1(0x8d9)]||{})['forEach'](([_0x4aac1d,_0x2aa6b3])=>{const _0x47f255=_0x57c4b1;if(_0x2aa6b3[_0x47f255(0xb09)]!==_0x47f255(0xa07)&&_0x2aa6b3[_0x47f255(0x7c8)]!==undefined&&_0x2aa6b3[_0x47f255(0x7c8)]!==null){const _0x551ea7=_0x2aa6b3[_0x47f255(0x7c8)];_0x41639d[_0x551ea7]!==undefined&&(_0x41639d[_0x551ea7][_0x47f255(0x321)](_0x4aac1d),_0x4ec3cc[_0x551ea7]++);}});let _0x454d52='';_0x4bd926?_0x454d52=_0x57c4b1(0x841):_0x454d52=_0x57c4b1(0x8f4);const _0x57a467=_0x57c4b1(0x9c8)+_0x13a89c[_0x57c4b1(0x629)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ec3cc[_0x57c4b1(0x75d)]((_0x3fbc89,_0x34b489)=>{const _0x1914ef=_0x57c4b1,_0x5cef76=_0x41639d[_0x34b489][_0x1914ef(0x636)]>0x0?_0x41639d[_0x34b489][_0x1914ef(0xa89)](',\x20'):_0x1914ef(0x6a8),_0x29bea1=_0x1914ef(0x4fd);return _0x1914ef(0xb3e)+_0x3fbc89+_0x1914ef(0x951)+_0x29bea1+_0x1914ef(0x8ca)+_0x34b489+_0x1914ef(0x3bb)+_0x1d7d5b[_0x34b489]+_0x1914ef(0x5c7)+_0x34b489+_0x1914ef(0x650)+_0x5cef76+_0x1914ef(0xbb2);})[_0x57c4b1(0xa89)]('')+_0x57c4b1(0x79b)+_0x454d52+_0x57c4b1(0xab9);liveGameView[_0x57c4b1(0x377)]=_0x57a467;if(window['MathJax'])MathJax[_0x57c4b1(0x171)]();_0x4bd926&&(document[_0x57c4b1(0x552)](_0x57c4b1(0x3d7))[_0x57c4b1(0x224)]('click',async()=>{const _0x3af013=_0x57c4b1,_0x4fb7e1=doc(db,'artifacts/'+appId+_0x3af013(0x67c),currentLiveGameId);await updateDoc(_0x4fb7e1,{'status':_0x3af013(0x569)});}),document[_0x57c4b1(0x552)](_0x57c4b1(0x161))['onclick']=()=>{openScratchpad(_0x13a89c,_0x1d7d5b);});}async function handleShowStudentRankings(){const _0x2866e7=_0x3a383e,_0x5adbbf=document[_0x2866e7(0x972)](_0x2866e7(0x238));_0x5adbbf&&(_0x5adbbf['innerHTML']=_0x2866e7(0xc78));const _0x598e8a=document['querySelector'](_0x2866e7(0x39b));_0x598e8a&&(_0x598e8a[_0x2866e7(0x377)]=_0x2866e7(0x649));const _0x24c107=document[_0x2866e7(0x552)](_0x2866e7(0x479));_0x24c107[_0x2866e7(0x4c1)][_0x2866e7(0xb01)](_0x2866e7(0x9d2)),document[_0x2866e7(0x552)]('close-student-rankings-btn')[_0x2866e7(0x6f4)]=()=>_0x24c107[_0x2866e7(0x4c1)][_0x2866e7(0x350)](_0x2866e7(0x9d2));const _0x432cf2=document[_0x2866e7(0x552)]('student-quiz-leaderboard-tab'),_0x39788e=document[_0x2866e7(0x552)](_0x2866e7(0xc2a)),_0x17bac4=document['getElementById'](_0x2866e7(0x5f8)),_0x2fd947=document[_0x2866e7(0x552)](_0x2866e7(0x6c7));_0x432cf2['onclick']=()=>{const _0x30de9d=_0x2866e7;_0x432cf2['classList']['add'](_0x30de9d(0xc45)),_0x39788e[_0x30de9d(0x4c1)][_0x30de9d(0xb01)](_0x30de9d(0xc45)),_0x17bac4[_0x30de9d(0x4c1)][_0x30de9d(0xb01)](_0x30de9d(0x9d2)),_0x2fd947[_0x30de9d(0x4c1)][_0x30de9d(0x350)](_0x30de9d(0x9d2));},_0x39788e[_0x2866e7(0x6f4)]=()=>{const _0x2428dc=_0x2866e7;_0x39788e['classList']['add'](_0x2428dc(0xc45)),_0x432cf2[_0x2428dc(0x4c1)][_0x2428dc(0xb01)](_0x2428dc(0xc45)),_0x2fd947[_0x2428dc(0x4c1)]['remove'](_0x2428dc(0x9d2)),_0x17bac4[_0x2428dc(0x4c1)]['add'](_0x2428dc(0x9d2));};try{const _0x1796e3=collection(db,_0x2866e7(0xc93)+appId+_0x2866e7(0x847)+currentQuizData['id']+'/submissions'),_0x1cb4c8=await getDocs(_0x1796e3),_0x252c3d=_0x1cb4c8['docs'][_0x2866e7(0x75d)](_0x138099=>_0x138099[_0x2866e7(0x183)]());renderQuizLeaderboard(_0x252c3d,currentQuizData,_0x2866e7(0xd0c));const _0x3bf1fa=collection(db,'artifacts/'+appId+_0x2866e7(0x5d8)+currentQuizData[_0x2866e7(0x88a)]+_0x2866e7(0x170)),_0x4a5577=await getDocs(_0x3bf1fa),_0x18d1a8=_0x4a5577[_0x2866e7(0x975)][_0x2866e7(0x75d)](_0x2a6237=>_0x2a6237['data']());renderLeaderboard(_0x18d1a8,_0x2866e7(0x820));}catch(_0x260c8a){console[_0x2866e7(0x2e9)](_0x2866e7(0xa83),_0x260c8a),showMessage(_0x2866e7(0x9d1));}}async function handleSaveToBank(_0x840a25){const _0x45ae80=_0x3a383e,_0x47520f=_0x840a25[_0x45ae80(0x372)],_0x327596=_0x47520f[_0x45ae80(0x79d)][_0x45ae80(0x5b3)],_0x4af05d=currentQuizData[_0x45ae80(0x5cd)][_0x327596];if(!userId){showMessage(_0x45ae80(0x7f9));return;}try{const _0x8a559a={..._0x4af05d,'originalTopic':currentQuizData[_0x45ae80(0x65f)],'savedAt':serverTimestamp()},_0x362005=collection(db,_0x45ae80(0xc93)+appId+_0x45ae80(0x3ff)+userId+_0x45ae80(0x825));await addDoc(_0x362005,_0x8a559a),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x47520f['classList']['remove']('text-purple-600'),_0x47520f[_0x45ae80(0x4c1)][_0x45ae80(0x350)](_0x45ae80(0x5e8)),_0x47520f[_0x45ae80(0x7ce)]=!![];}catch(_0x198d07){console[_0x45ae80(0x2e9)]('Error\x20saving\x20to\x20question\x20bank:',_0x198d07),showMessage(_0x45ae80(0x492));}}async function selectProjectAndGenerateBlueprintQuiz(_0x2cfc90,_0x32a829=null,_0x4d486e=null,_0x3bc14f=![]){const _0x33893d=_0x3a383e;cameFromBlueprint=!![];const _0x287bad=document['getElementById'](_0x33893d(0xb56))?.['value'][_0x33893d(0x887)]();let _0x768142=null;if(_0x287bad){showMessage(_0x33893d(0xbf4));try{const _0x26bdd2=await fetchFileFromUrl(_0x287bad,_0x33893d(0xaa2)),_0x3f61fd=await new Promise((_0x34bb14,_0x260cea)=>{const _0x333a24=_0x33893d,_0x5dd57=new FileReader();_0x5dd57['readAsDataURL'](_0x26bdd2),_0x5dd57[_0x333a24(0xb22)]=()=>_0x34bb14(_0x5dd57[_0x333a24(0x2ae)]['split'](',')[0x1]),_0x5dd57[_0x333a24(0xa10)]=_0x260cea;});_0x768142=[{'inlineData':{'mimeType':_0x26bdd2['type'],'data':_0x3f61fd}}],messageModal[_0x33893d(0x4c1)][_0x33893d(0x350)](_0x33893d(0x9d2));}catch(_0x26d3c6){console['error']('Could\x20not\x20fetch\x20reference\x20file:',_0x26d3c6),showMessage(_0x33893d(0xb24));}}const _0x372b62=document[_0x33893d(0x552)]('move-quiz-modal'),_0x486578=document[_0x33893d(0x552)]('move-quiz-project-select'),_0x466bd6=_0x372b62[_0x33893d(0x972)]('h3'),_0x391043=document[_0x33893d(0x552)]('confirm-move-quiz-btn'),_0x110d88=document[_0x33893d(0x552)](_0x33893d(0x6dd));_0x466bd6[_0x33893d(0x37a)]=_0x33893d(0x4bd),_0x391043[_0x33893d(0x37a)]=_0x33893d(0x6dc),_0x391043['disabled']=!![];allProjects[_0x33893d(0x636)]===0x0?_0x486578[_0x33893d(0x377)]=_0x33893d(0x6e5):(_0x486578[_0x33893d(0x377)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x89cf17=>_0x33893d(0x7dd)+_0x89cf17['id']+'\x22>'+_0x89cf17[_0x33893d(0x217)]+_0x33893d(0xa0c))['join'](''),_0x391043[_0x33893d(0x7ce)]=![]);_0x372b62[_0x33893d(0x4c1)][_0x33893d(0xb01)](_0x33893d(0x9d2));const _0x7edccc=async()=>{const _0x170dbd=_0x33893d,_0x2efe09=_0x486578[_0x170dbd(0x203)];if(!_0x2efe09){showMessage(_0x170dbd(0xac8));return;}_0x372b62[_0x170dbd(0x4c1)][_0x170dbd(0x350)](_0x170dbd(0x9d2)),document[_0x170dbd(0x552)](_0x170dbd(0x7cf))['classList'][_0x170dbd(0x350)]('hidden'),await loadProjectDetails(_0x2efe09),showView(_0x170dbd(0x76f)),handleGenerateQuizFromBlueprintTopic(_0x2cfc90,_0x32a829,_0x2efe09,_0x4d486e,_0x3bc14f,_0x768142),_0x82634c();},_0x82634c=()=>{const _0x1513e7=_0x33893d;_0x466bd6[_0x1513e7(0x37a)]=_0x1513e7(0x8c7),_0x391043[_0x1513e7(0x37a)]=_0x1513e7(0x261),_0x391043[_0x1513e7(0xbaf)](_0x1513e7(0x43a),_0x7edccc),_0x110d88[_0x1513e7(0xbaf)](_0x1513e7(0x43a),_0x82634c),_0x391043[_0x1513e7(0x224)](_0x1513e7(0x43a),confirmMoveQuiz);};_0x391043[_0x33893d(0xbaf)](_0x33893d(0x43a),confirmMoveQuiz),_0x391043[_0x33893d(0x224)](_0x33893d(0x43a),_0x7edccc),_0x110d88['addEventListener'](_0x33893d(0x43a),_0x82634c);}function listenForStarredQuizzes(){const _0x5ce6b4=_0x3a383e;if(!userId)return;const _0x5688ba=collection(db,_0x5ce6b4(0xc93)+appId+_0x5ce6b4(0x766)),_0x35b324=query(_0x5688ba,where(_0x5ce6b4(0x49d),'==',!![]));onSnapshot(_0x35b324,_0x42c80c=>{const _0x50dab5=_0x5ce6b4;starredQuizzes=_0x42c80c[_0x50dab5(0x975)]['map'](_0x520bf5=>({'id':_0x520bf5['id'],..._0x520bf5['data']()})),currentProjectId===_0x50dab5(0x78f)?renderQuizzes():renderProjects();},_0x316bbc=>{const _0x5e3fbb=_0x5ce6b4;console['error'](_0x5e3fbb(0x4d1),_0x316bbc);});}function listenForFileShortcuts(){const _0x2542ca=_0x3a383e,_0x185c65=doc(db,_0x2542ca(0x182),_0x2542ca(0x85c));onSnapshot(_0x185c65,_0x3a42a9=>{const _0x2438a5=_0x2542ca;let _0x4d8203=[],_0x8f2e02=[],_0x4b9ed6={};if(_0x3a42a9[_0x2438a5(0x837)]()){const _0x204a26=_0x3a42a9[_0x2438a5(0x183)]();_0x4d8203=_0x204a26['shortcuts']||[],_0x8f2e02=_0x204a26['fileShortcutTabs']||[],_0x4b9ed6=_0x204a26['fileShortcutOrder']||{};}!_0x8f2e02[_0x2438a5(0x51d)](_0xa0c3b8=>_0xa0c3b8['id']==='all')&&_0x8f2e02[_0x2438a5(0x97d)]({'id':'all','name':_0x2438a5(0x45e),'isDefault':!![]}),!_0x4d8203['find'](_0x4a8aac=>_0x4a8aac['id']===_0x2438a5(0x2ad))&&_0x4d8203[_0x2438a5(0x97d)]({'id':_0x2438a5(0x2ad),'name':_0x2438a5(0xc72),'url':'','isDefault':!![]}),!_0x4d8203['find'](_0x180f37=>_0x180f37['id']===_0x2438a5(0x639))&&_0x4d8203[_0x2438a5(0x97d)]({'id':_0x2438a5(0x639),'name':_0x2438a5(0x811),'url':'','isDefault':!![]}),fileShortcuts=_0x4d8203,fileShortcutTabs=_0x8f2e02,fileShortcutOrder=_0x4b9ed6,renderFileShortcuts(),!document[_0x2438a5(0x552)]('additional-file-shortcuts-modal')[_0x2438a5(0x4c1)][_0x2438a5(0x4b7)](_0x2438a5(0x9d2))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x2960fe=_0x3a383e,_0x4733a=doc(db,_0x2960fe(0x182),_0x2960fe(0x85c));try{await setDoc(_0x4733a,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x22bacb){console[_0x2960fe(0x2e9)](_0x2960fe(0x17c),_0x22bacb);}}function renderAdditionalFileShortcutsModal(){const _0xf65ef7=_0x3a383e,_0xace79c=document[_0xf65ef7(0x552)](_0xf65ef7(0x2e5)),_0x45b7b4=document['getElementById'](_0xf65ef7(0x1b8));if(!_0xace79c||!_0x45b7b4)return;_0xace79c['innerHTML']=fileShortcutTabs[_0xf65ef7(0x75d)](_0x39bbf6=>{const _0x4c750d=_0xf65ef7,_0xec52d4=_0x39bbf6['id']===activeFileShortcutTabId;return _0x4c750d(0x654)+_0x39bbf6['id']+_0x4c750d(0xc2b)+(_0xec52d4?_0x4c750d(0x6f1):_0x4c750d(0x8e4))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x39bbf6[_0x4c750d(0xce5)]+_0x4c750d(0xce7)+_0x39bbf6[_0x4c750d(0xce5)]+_0x4c750d(0x749)+(!_0x39bbf6[_0x4c750d(0xbbd)]?_0x4c750d(0xaf5)+_0x39bbf6['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xf65ef7(0xa89)]('');const _0x40952e=fileShortcutTabs['find'](_0x17ce11=>_0x17ce11['id']===activeFileShortcutTabId);let _0xdca62e=_0x40952e?.[_0xf65ef7(0xbbd)]?[...fileShortcuts]:fileShortcuts[_0xf65ef7(0x499)](_0x2580d6=>(_0x40952e?.['shortcutIds']||[])[_0xf65ef7(0x27b)](_0x2580d6['id']));const _0x528c76=fileShortcutOrder[activeFileShortcutTabId]||[];_0xdca62e[_0xf65ef7(0xa29)]((_0x47cf9,_0x177611)=>{const _0x5eabe8=_0xf65ef7,_0x28178b=_0x528c76[_0x5eabe8(0xa23)](_0x47cf9['id']),_0x3236c2=_0x528c76['indexOf'](_0x177611['id']);return(_0x28178b===-0x1?Infinity:_0x28178b)-(_0x3236c2===-0x1?Infinity:_0x3236c2);}),_0x45b7b4[_0xf65ef7(0x377)]=_0xdca62e[_0xf65ef7(0x75d)](_0x2cd547=>{const _0x5723ff=_0xf65ef7,_0x19ef69=_0x2cd547[_0x5723ff(0x393)]?'📄':'🔗',_0x8c3486=fileShortcutTabs[_0x5723ff(0x499)](_0x1665e8=>!_0x1665e8[_0x5723ff(0xbbd)]),_0x3dac8a=_0x40952e['isDefault']&&_0x8c3486['length']>0x0?_0x5723ff(0x16a)+_0x8c3486[_0x5723ff(0x75d)](_0x194678=>_0x5723ff(0xb69)+_0x2cd547['id']+_0x5723ff(0xa21)+_0x194678['id']+'\x22>'+_0x194678[_0x5723ff(0xce5)]+_0x5723ff(0x949))[_0x5723ff(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x2cd547['id']+_0x5723ff(0x4ec)+_0x19ef69+'\x20'+_0x2cd547[_0x5723ff(0xce5)]+_0x5723ff(0x86a)+_0x2cd547['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2cd547['id']+_0x5723ff(0x2ca)+(!_0x2cd547[_0x5723ff(0xbbd)]?_0x5723ff(0x382)+_0x2cd547['id']+_0x5723ff(0x55e):'')+_0x5723ff(0x726)+(!_0x40952e[_0x5723ff(0xbbd)]?_0x5723ff(0x557)+_0x2cd547['id']+_0x5723ff(0xcb4):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3dac8a+_0x5723ff(0x4c7);})[_0xf65ef7(0xa89)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x1ea761=_0x3a383e;document[_0x1ea761(0x3e0)]('.file-shortcut-tab-btn')[_0x1ea761(0x1f5)](_0x373f16=>{const _0xe19cfa=_0x1ea761;_0x373f16[_0xe19cfa(0x6f4)]=_0x1333be=>{const _0x3bde81=_0xe19cfa;activeFileShortcutTabId=_0x1333be[_0x3bde81(0x372)][_0x3bde81(0x79d)][_0x3bde81(0x2b0)],renderAdditionalFileShortcutsModal();},_0x373f16['ondblclick']=_0x10acfb=>{const _0x423a47=_0xe19cfa,_0x58a565=_0x10acfb[_0x423a47(0x372)][_0x423a47(0x972)]('.tab-name-input');_0x10acfb[_0x423a47(0x372)][_0x423a47(0x972)]('.tab-name-display')[_0x423a47(0x4c1)][_0x423a47(0x350)]('hidden'),_0x58a565[_0x423a47(0x4c1)]['remove']('hidden'),_0x58a565['focus'](),_0x58a565['select']();};}),document['querySelectorAll']('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x1ea761(0x1f5)](_0x1fcb8f=>{const _0x20075b=_0x1ea761,_0x441f11=()=>{const _0x4d1b60=_0x35c4,_0x108cc3=_0x1fcb8f[_0x4d1b60(0xc1b)](_0x4d1b60(0x26d))[_0x4d1b60(0x79d)][_0x4d1b60(0x2b0)],_0x46cdb4=fileShortcutTabs['find'](_0x458353=>_0x458353['id']===_0x108cc3);_0x46cdb4&&(_0x46cdb4[_0x4d1b60(0xce5)]=_0x1fcb8f['value'][_0x4d1b60(0x887)]()||_0x46cdb4[_0x4d1b60(0xce5)],saveFileShortcutConfig());};_0x1fcb8f['onblur']=_0x441f11,_0x1fcb8f[_0x20075b(0x3ac)]=_0x3d978c=>{const _0x5a0e60=_0x20075b;if(_0x3d978c[_0x5a0e60(0x96e)]===_0x5a0e60(0xcf1))_0x1fcb8f[_0x5a0e60(0xc8f)]();};}),document[_0x1ea761(0x3e0)](_0x1ea761(0xc96))[_0x1ea761(0x1f5)](_0x5e1368=>_0x5e1368[_0x1ea761(0x6f4)]=_0x26d8c7=>{const _0x224a36=_0x1ea761,_0x2612b4=_0x26d8c7[_0x224a36(0x372)][_0x224a36(0x79d)][_0x224a36(0x2b0)];showConfirmation(_0x224a36(0x736),()=>{const _0x4b3e60=_0x224a36;fileShortcutTabs=fileShortcutTabs[_0x4b3e60(0x499)](_0x3bb04f=>_0x3bb04f['id']!==_0x2612b4),delete fileShortcutOrder[_0x2612b4];if(activeFileShortcutTabId===_0x2612b4)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x1ea761(0x3e0)]('.move-file-shortcut-item')['forEach'](_0x564dec=>_0x564dec[_0x1ea761(0x6f4)]=_0x44e682=>{const _0x39ef57=_0x1ea761;_0x44e682[_0x39ef57(0x4a0)]();const {shortcutId:_0x36172e,targetTabId:_0x44830b}=_0x44e682[_0x39ef57(0x372)][_0x39ef57(0x79d)],_0x3c172a=fileShortcutTabs[_0x39ef57(0x51d)](_0x47cc33=>_0x47cc33['id']===_0x44830b);_0x3c172a&&!_0x3c172a[_0x39ef57(0xcde)][_0x39ef57(0x27b)](_0x36172e)&&(_0x3c172a[_0x39ef57(0xcde)][_0x39ef57(0x321)](_0x36172e),saveFileShortcutConfig());}),document['querySelectorAll']('.remove-file-shortcut-from-tab-btn')[_0x1ea761(0x1f5)](_0x47152e=>_0x47152e[_0x1ea761(0x6f4)]=_0x7ab2e1=>{const _0x1d2813=_0x1ea761,_0x3d88f1=_0x7ab2e1['currentTarget'][_0x1d2813(0x79d)][_0x1d2813(0x8a7)],_0x29b794=fileShortcutTabs['find'](_0x4970aa=>_0x4970aa['id']===activeFileShortcutTabId);_0x29b794&&!_0x29b794['isDefault']&&(_0x29b794[_0x1d2813(0xcde)]=_0x29b794[_0x1d2813(0xcde)][_0x1d2813(0x499)](_0x2a667b=>_0x2a667b!==_0x3d88f1),saveFileShortcutConfig());}),document['querySelectorAll'](_0x1ea761(0x885))[_0x1ea761(0x1f5)](_0x218d50=>_0x218d50['onclick']=_0x4b489b=>{const _0x49b70e=_0x1ea761;_0x4b489b[_0x49b70e(0x9e3)]();const _0x2dcd92=_0x4b489b[_0x49b70e(0x372)]['nextElementSibling'];document[_0x49b70e(0x3e0)]('.move-file-shortcut-dropdown')[_0x49b70e(0x1f5)](_0x4733cd=>_0x4733cd[_0x49b70e(0x4c1)][_0x49b70e(0x350)](_0x49b70e(0x9d2))),_0x2dcd92[_0x49b70e(0x4c1)]['remove'](_0x49b70e(0x9d2));});const _0x320a34=document[_0x1ea761(0x552)](_0x1ea761(0x1b8));let _0x3c4dd6=null;_0x320a34[_0x1ea761(0xbd4)]=_0x46b1bf=>{const _0x31cb4f=_0x1ea761;_0x3c4dd6=_0x46b1bf[_0x31cb4f(0x19c)]['closest'](_0x31cb4f(0x6db));if(_0x3c4dd6)setTimeout(()=>_0x3c4dd6['classList'][_0x31cb4f(0x350)]('opacity-50'),0x0);},_0x320a34[_0x1ea761(0x7c6)]=()=>{const _0x43d811=_0x1ea761;_0x3c4dd6&&(_0x3c4dd6['classList'][_0x43d811(0xb01)]('opacity-50'),_0x3c4dd6=null);},_0x320a34[_0x1ea761(0x68a)]=_0x307dc1=>{const _0x408245=_0x1ea761;_0x307dc1[_0x408245(0x4a0)]();},_0x320a34[_0x1ea761(0x769)]=_0x5add50=>{const _0xc1ca50=_0x1ea761;_0x5add50['preventDefault']();if(_0x3c4dd6){const _0x1fdf36=[..._0x320a34['querySelectorAll'](_0xc1ca50(0x6a3))]['reduce']((_0x1c3607,_0x2e8481)=>{const _0x44420b=_0xc1ca50,_0x472811=_0x2e8481[_0x44420b(0x82d)](),_0x5c956a=_0x5add50[_0x44420b(0xcb3)]-_0x472811[_0x44420b(0x94b)]-_0x472811[_0x44420b(0x220)]/0x2;return _0x5c956a<0x0&&_0x5c956a>_0x1c3607['offset']?{'offset':_0x5c956a,'element':_0x2e8481}:_0x1c3607;},{'offset':Number[_0xc1ca50(0x8ba)]})['element'];_0x1fdf36==null?_0x320a34['appendChild'](_0x3c4dd6):_0x320a34['insertBefore'](_0x3c4dd6,_0x1fdf36);const _0x8a0822=[..._0x320a34[_0xc1ca50(0x3e0)]('.shortcut-list-item')]['map'](_0x3ff6b1=>_0x3ff6b1[_0xc1ca50(0x79d)][_0xc1ca50(0x8a7)]);fileShortcutOrder[activeFileShortcutTabId]=_0x8a0822,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x2c31a2=_0x3a383e,_0x3a964d=prompt(_0x2c31a2(0x4ff),'แท็บใหม่');_0x3a964d&&_0x3a964d[_0x2c31a2(0x887)]()&&(fileShortcutTabs[_0x2c31a2(0x321)]({'id':_0x2c31a2(0x88d)+Date[_0x2c31a2(0x15a)](),'name':_0x3a964d[_0x2c31a2(0x887)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x69657d=_0x3a383e,_0x1d738f=document[_0x69657d(0x552)](_0x69657d(0x5dd)),_0x5290ce=document['getElementById']('additional-file-shortcuts-list'),_0xb90e7=document[_0x69657d(0x552)](_0x69657d(0x310));if(_0xb90e7)_0xb90e7[_0x69657d(0x4c1)][_0x69657d(0x350)](_0x69657d(0x9d2));if(!_0x1d738f||!_0x5290ce)return;const _0x49725c=fileShortcuts[_0x69657d(0x8ea)](0x0,0x4),_0x422c2e=fileShortcuts[_0x69657d(0x8ea)](0x4);_0x1d738f[_0x69657d(0x377)]=_0x49725c[_0x69657d(0x75d)](_0x2dbd0e=>{const _0x17ecbd=_0x69657d,_0x1977f5=_0x2dbd0e[_0x17ecbd(0x393)]&&_0x2dbd0e[_0x17ecbd(0x393)][_0x17ecbd(0x887)]()!=='',_0x29d166=selectedFile&&selectedFile[_0x17ecbd(0x8a7)]===_0x2dbd0e['id'];let _0x3b323c=_0x17ecbd(0x25a),_0x4fb757='🔗';if(_0x29d166)_0x3b323c='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x4fb757='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x1977f5&&(_0x3b323c=_0x17ecbd(0xa35),_0x4fb757='📄');const _0x18d6a7=!_0x2dbd0e[_0x17ecbd(0xbbd)]?_0x17ecbd(0x382)+_0x2dbd0e['id']+_0x17ecbd(0x257):'';return _0x17ecbd(0xc0f)+_0x2dbd0e['id']+_0x17ecbd(0xbc0)+_0x3b323c+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x4fb757+_0x17ecbd(0xc81)+_0x2dbd0e[_0x17ecbd(0xce5)]+_0x17ecbd(0xcd1)+_0x2dbd0e['id']+_0x17ecbd(0x4af)+_0x18d6a7+_0x17ecbd(0xaee);})['join'](''),_0x422c2e['length']>0x0&&(_0x1d738f[_0x69657d(0x377)]+=_0x69657d(0x342)),_0x422c2e[_0x69657d(0x636)]>0x0?_0x5290ce['innerHTML']=_0x422c2e[_0x69657d(0x75d)](_0x4dd0a6=>_0x69657d(0x4d2)+(_0x4dd0a6[_0x69657d(0x393)]?'📄':'🔗')+'\x20'+_0x4dd0a6['name']+_0x69657d(0x92a)+_0x4dd0a6['id']+_0x69657d(0xd06)+_0x4dd0a6['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4dd0a6[_0x69657d(0xbbd)]?_0x69657d(0x382)+_0x4dd0a6['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x69657d(0xc2e))[_0x69657d(0xa89)](''):_0x5290ce['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x312db3=null){const _0x4dc7a7=_0x3a383e,_0x78b0d8=document[_0x4dc7a7(0x552)](_0x4dc7a7(0x672)),_0x98709e=document['getElementById'](_0x4dc7a7(0x812)),_0x4a911c=document[_0x4dc7a7(0x552)](_0x4dc7a7(0xa79)),_0x1ee8a8=document[_0x4dc7a7(0x552)](_0x4dc7a7(0xae6)),_0x2688d5=document[_0x4dc7a7(0x552)](_0x4dc7a7(0xb30));if(_0x312db3){const _0x2b1d24=fileShortcuts[_0x4dc7a7(0x51d)](_0x32d91d=>_0x32d91d['id']===_0x312db3);if(!_0x2b1d24)return;_0x98709e['textContent']=_0x4dc7a7(0x932),_0x4a911c['value']=_0x2b1d24['id'],_0x1ee8a8[_0x4dc7a7(0x203)]=_0x2b1d24[_0x4dc7a7(0xce5)],_0x2688d5['value']=_0x2b1d24[_0x4dc7a7(0x393)]||'';}else _0x98709e[_0x4dc7a7(0x37a)]=_0x4dc7a7(0xbf3),_0x4a911c[_0x4dc7a7(0x203)]='',_0x1ee8a8['value']='',_0x2688d5[_0x4dc7a7(0x203)]='';_0x78b0d8[_0x4dc7a7(0x4c1)][_0x4dc7a7(0xb01)](_0x4dc7a7(0x9d2));}async function saveFileShortcutChanges(){const _0x2b10bd=_0x3a383e,_0x119455=document[_0x2b10bd(0x552)](_0x2b10bd(0xa79))[_0x2b10bd(0x203)],_0x43f598=document[_0x2b10bd(0x552)](_0x2b10bd(0xae6))[_0x2b10bd(0x203)][_0x2b10bd(0x887)](),_0x250f5a=document[_0x2b10bd(0x552)]('file-shortcut-url-input')[_0x2b10bd(0x203)]['trim']();if(!_0x43f598){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x40d351={'id':_0x119455||_0x2b10bd(0xcc1)+Date[_0x2b10bd(0x15a)](),'name':_0x43f598,'url':_0x250f5a,'isDefault':_0x119455[_0x2b10bd(0x829)](_0x2b10bd(0x778))};let _0x5b971b;_0x119455?_0x5b971b=fileShortcuts['map'](_0x297ce1=>_0x297ce1['id']===_0x119455?_0x40d351:_0x297ce1):_0x5b971b=[...fileShortcuts,_0x40d351];try{const _0x3eb085=doc(db,_0x2b10bd(0x182),_0x2b10bd(0x85c));await setDoc(_0x3eb085,{'shortcuts':_0x5b971b},{'merge':!![]}),document[_0x2b10bd(0x552)](_0x2b10bd(0x672))[_0x2b10bd(0x4c1)][_0x2b10bd(0x350)](_0x2b10bd(0x9d2));}catch(_0x13e0e2){console['error']('Error\x20saving\x20file\x20shortcut:',_0x13e0e2),showMessage(_0x2b10bd(0x492));}}async function handleFileShortcutClick(_0x3704f0){const _0x4f6098=_0x3a383e,_0x574357=fileShortcuts[_0x4f6098(0x51d)](_0x2a3f42=>_0x2a3f42['id']===_0x3704f0);if(!_0x574357)return;if(!_0x574357[_0x4f6098(0x393)]||_0x574357[_0x4f6098(0x393)][_0x4f6098(0x887)]()===''){openFileShortcutEditor(_0x3704f0);return;}const _0x57509a=document[_0x4f6098(0x972)]('.file-shortcut-btn[data-id=\x22'+_0x3704f0+'\x22]');if(_0x57509a){const _0x6ed70e=_0x57509a['innerHTML'];_0x57509a[_0x4f6098(0x377)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x57509a['disabled']=!![];}document[_0x4f6098(0x3e0)](_0x4f6098(0x21e))['forEach'](_0x46b1f7=>{const _0x3a4ffc=_0x4f6098;if(_0x46b1f7[_0x3a4ffc(0x79d)]['id']!==_0x3704f0)_0x46b1f7[_0x3a4ffc(0x4c1)][_0x3a4ffc(0x350)]('opacity-50',_0x3a4ffc(0xa4c));});try{const _0x44a535=new URL(_0x574357[_0x4f6098(0x393)])[_0x4f6098(0x55d)],_0x1616fe=_0x44a535['substring'](_0x44a535[_0x4f6098(0xc50)]('/')+0x1)||(_0x574357[_0x4f6098(0x393)]['includes'](_0x4f6098(0xc2c))?_0x4f6098(0x320):_0x4f6098(0x8d3)),_0xbad22d=await fetchFileFromUrl(_0x574357[_0x4f6098(0x393)],_0x1616fe);_0xbad22d[_0x4f6098(0x8a7)]=_0x3704f0,selectedFile=_0xbad22d,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x4f6098(0x552)](_0x4f6098(0x8a6))[_0x4f6098(0x180)]({'behavior':_0x4f6098(0x8da),'block':'center'});}catch(_0x31ff39){console[_0x4f6098(0x2e9)](_0x4f6098(0x29a),_0x31ff39),showMessage(_0x4f6098(0x150)+_0x31ff39[_0x4f6098(0x2db)]),renderFileShortcuts();}finally{document[_0x4f6098(0x3e0)](_0x4f6098(0x21e))[_0x4f6098(0x1f5)](_0x510f4c=>{const _0x26e1b0=_0x4f6098;_0x510f4c[_0x26e1b0(0x4c1)]['remove'](_0x26e1b0(0x8f6),'pointer-events-none'),_0x510f4c[_0x26e1b0(0x7ce)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x726423=_0x3a383e;if(allQuizzesGlobal[_0x726423(0x636)]>0x0)return;console['log'](_0x726423(0x41e)),showMessage(_0x726423(0xbb6));try{const _0x1690aa=await getDocs(collection(db,_0x726423(0xc93)+appId+_0x726423(0x766)));allQuizzesGlobal=_0x1690aa[_0x726423(0x975)][_0x726423(0x75d)](_0x1c9cbe=>({'id':_0x1c9cbe['id'],..._0x1c9cbe['data']()})),console[_0x726423(0x3ab)](_0x726423(0x6f0)+allQuizzesGlobal[_0x726423(0x636)]+_0x726423(0x36d)),messageModal['classList'][_0x726423(0x350)](_0x726423(0x9d2));}catch(_0x24dc0c){console[_0x726423(0x2e9)](_0x726423(0x8e1),_0x24dc0c),messageModal[_0x726423(0x4c1)]['add'](_0x726423(0x9d2));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0xdf82f6=_0x3a383e;if(!currentQuizData||!currentQuizData[_0xdf82f6(0x5cd)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x211800=currentQuizData,_0x28f51d=window[_0xdf82f6(0x358)]('','_blank'),_0x38ab27=_0xb3809=>String[_0xdf82f6(0x6ee)](0x41+_0xb3809),_0x5b62b2=_0xdf82f6(0x24b)+_0x211800[_0xdf82f6(0x65f)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x211800[_0xdf82f6(0x65f)]+_0xdf82f6(0x3e4)+_0x211800[_0xdf82f6(0x5cd)]['map']((_0x452a11,_0x153e93)=>{const _0x249223=_0xdf82f6;let _0x21a65c='';const _0x16666a=_0x452a11[_0x249223(0x5be)]||_0x211800[_0x249223(0x8bd)];switch(_0x16666a){case _0x249223(0x2df):case _0x249223(0x95b):_0x21a65c='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x452a11[_0x249223(0xb70)]['map']((_0x42384f,_0x411428)=>_0x249223(0xc18)+_0x38ab27(_0x411428)+'.\x20'+_0x42384f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x249223(0xa89)](_0x249223(0x430))+'</div>';break;case _0x249223(0x631):_0x21a65c=_0x249223(0x164);break;default:_0x21a65c=_0x249223(0xcea);break;}return _0x249223(0x5fa)+(_0x153e93+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x452a11[_0x249223(0x2a5)]||_0x452a11[_0x249223(0x629)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x452a11[_0x249223(0x9e7)]?_0x249223(0x29c)+_0x452a11['imageCode']+'</div>':'')+_0x249223(0x793)+_0x21a65c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0xdf82f6(0x70c);_0x28f51d[_0xdf82f6(0x1a1)]['write'](_0x5b62b2),_0x28f51d['document']['close'](),_0x28f51d['onload']=function(){setTimeout(()=>{_0x28f51d['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1e135e=_0x3a383e;if(!currentQuizData||!currentQuizData[_0x1e135e(0x5cd)]){showMessage(_0x1e135e(0x7b7));return;}const _0x156fc2=currentQuizData,_0x2cc3d9=window[_0x1e135e(0x358)]('',_0x1e135e(0x6ba)),_0x3b7005=_0x22e2b6=>String[_0x1e135e(0x6ee)](0x41+_0x22e2b6),_0x1a77a0=_0x1e135e(0x742)+_0x156fc2[_0x1e135e(0x65f)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x156fc2[_0x1e135e(0x5cd)][_0x1e135e(0x75d)]((_0x5c2b05,_0x4aeecf)=>{const _0x22af8d=_0x1e135e;let _0x3d7819='';const _0x377e71=_0x5c2b05['questionType']||_0x156fc2['quizType'];switch(_0x377e71){case _0x22af8d(0x2df):case _0x22af8d(0x95b):_0x3d7819=_0x22af8d(0xace)+_0x5c2b05[_0x22af8d(0xb70)][_0x22af8d(0x75d)]((_0x56f0e0,_0x124b5b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3b7005(_0x124b5b)+'.\x20'+_0x56f0e0+_0x22af8d(0x1ea))[_0x22af8d(0xa89)](_0x22af8d(0x430))+_0x22af8d(0x788);break;case _0x22af8d(0x631):_0x3d7819=_0x22af8d(0x55c);break;default:_0x3d7819='';break;}return _0x22af8d(0xcd5)+_0x156fc2[_0x22af8d(0x65f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x4aeecf+0x1)+_0x22af8d(0xa33)+(_0x5c2b05[_0x22af8d(0x2a5)]||_0x5c2b05['questionText'])+_0x22af8d(0x7e2)+(_0x5c2b05[_0x22af8d(0x9e7)]?_0x22af8d(0x3c5)+_0x5c2b05['imageCode']+_0x22af8d(0xc87):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d7819+_0x22af8d(0xb4e);})[_0x1e135e(0xa89)]('')+_0x1e135e(0x1ad);_0x2cc3d9[_0x1e135e(0x1a1)]['write'](_0x1a77a0),_0x2cc3d9[_0x1e135e(0x1a1)][_0x1e135e(0x33b)](),_0x2cc3d9[_0x1e135e(0xb22)]=function(){setTimeout(()=>{const _0x20377f=_0x35c4;_0x2cc3d9[_0x20377f(0x16b)]();},0x5dc);};}async function handleToggleStarQuiz(_0x395fa6){const _0x25bfe2=_0x3a383e,_0x371fcf=doc(db,'artifacts/'+appId+_0x25bfe2(0x766),_0x395fa6);try{const _0xb16e43=await getDoc(_0x371fcf);if(_0xb16e43[_0x25bfe2(0x837)]()){const _0x30bc43=_0xb16e43[_0x25bfe2(0x183)]()['isStarred']||![];await updateDoc(_0x371fcf,{'isStarred':!_0x30bc43});}}catch(_0x4559d8){console['error'](_0x25bfe2(0xbd0),_0x4559d8),showMessage(_0x25bfe2(0x75f));}}async function displayQuestionBank(){const _0x31ca93=_0x3a383e,_0x2bb240=document[_0x31ca93(0x552)](_0x31ca93(0xc4d));_0x2bb240[_0x31ca93(0x377)]=_0x31ca93(0x1d6);try{const _0x3cf645=collection(db,_0x31ca93(0xc93)+appId+'/users/'+userId+_0x31ca93(0x825)),_0x461a94=query(_0x3cf645),_0x1e1d07=await getDocs(_0x461a94);if(_0x1e1d07['empty']){_0x2bb240['innerHTML']=_0x31ca93(0x54f);return;}let _0x3152bf=_0x1e1d07[_0x31ca93(0x975)][_0x31ca93(0x75d)](_0x437fab=>{const _0x39de76=_0x31ca93,_0x2416ed=_0x437fab[_0x39de76(0x183)](),_0x34114b=_0x437fab['id'];return _0x39de76(0x700)+JSON[_0x39de76(0x7ae)](_0x2416ed)+_0x39de76(0xadf)+(_0x2416ed[_0x39de76(0x629)]||_0x2416ed[_0x39de76(0x2a5)])+_0x39de76(0x725)+_0x2416ed[_0x39de76(0x930)]+_0x39de76(0x149);})[_0x31ca93(0xa89)]('');_0x2bb240[_0x31ca93(0x377)]=_0x31ca93(0xb64)+_0x3152bf+_0x31ca93(0x18e),document[_0x31ca93(0x552)](_0x31ca93(0x922))['addEventListener']('click',createQuizFromBank);}catch(_0x1e875e){console[_0x31ca93(0x2e9)]('Error\x20displaying\x20question\x20bank:',_0x1e875e),_0x2bb240[_0x31ca93(0x377)]=_0x31ca93(0xbd9);}}async function handleExportLessonToPDF(){const _0x559dba=_0x3a383e,_0x25100a=document[_0x559dba(0x552)](_0x559dba(0x38d)),_0x1723f9=document['getElementById'](_0x559dba(0x86e))[_0x559dba(0x37a)]||_0x559dba(0xb5d);if(!_0x25100a){showMessage(_0x559dba(0x7e7));return;}const _0x43b6f7=window[_0x559dba(0x358)]('','_blank'),_0x1b78c2=_0x559dba(0x722)+_0x1723f9+_0x559dba(0x1b7)+_0x1723f9+_0x559dba(0x746)+_0x25100a[_0x559dba(0x377)]+_0x559dba(0x70c);_0x43b6f7[_0x559dba(0x1a1)][_0x559dba(0xb52)](_0x1b78c2),_0x43b6f7[_0x559dba(0x1a1)]['close'](),_0x43b6f7[_0x559dba(0xb22)]=function(){setTimeout(()=>{_0x43b6f7['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x19ae25,_0x489f8c,_0x313812){const _0x186b43=_0x3a383e,_0xb919e5=_0x19ae25[_0x186b43(0x5be)]||currentQuizData[_0x186b43(0x8bd)];let _0x27c8e5='';if(_0xb919e5===_0x186b43(0x2df)||_0xb919e5===_0x186b43(0x631)){const _0x772cfd=_0xb919e5===_0x186b43(0x631)?[_0x186b43(0xaba),_0x186b43(0x624)]:_0x19ae25['options'],_0x321ade=_0xb919e5===_0x186b43(0x631)?_0x19ae25[_0x186b43(0x207)]?0x0:0x1:_0x19ae25[_0x186b43(0xb21)];_0x27c8e5=_0x772cfd[_0x186b43(0x75d)]((_0x5f05a2,_0x1d8726)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x1d8726===_0x321ade)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f05a2+_0x186b43(0xaee))[_0x186b43(0xa89)]('');}else{if(_0xb919e5===_0x186b43(0x4b4)){const _0x2b9ef3=_0x19ae25[_0x186b43(0xaeb)]||[];_0x27c8e5=_0x2b9ef3[_0x186b43(0x75d)](_0x56805b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x56805b===_0x19ae25['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56805b+_0x186b43(0xaee))['join']('');}}const _0x4790c3=_0x19ae25[_0x186b43(0x2a5)]||_0x19ae25['questionText'],_0x21fbc3=_0x186b43(0x6bf)+(_0x489f8c+0x1)+_0x186b43(0x5e1)+_0x313812+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x186b43(0x21b)+_0x4790c3+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27c8e5+_0x186b43(0xb83);liveGameView['innerHTML']=_0x21fbc3,window[_0x186b43(0xc8b)]&&MathJax[_0x186b43(0x171)]&&MathJax[_0x186b43(0x171)]([liveGameView]),document[_0x186b43(0x552)](_0x186b43(0x83d))[_0x186b43(0x224)](_0x186b43(0x43a),()=>revealAnswerForAdmin(_0x489f8c,_0x313812)),document[_0x186b43(0x552)](_0x186b43(0x89d))[_0x186b43(0x224)](_0x186b43(0x43a),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x338837=_0x35c4,_0xa7c392=doc(db,_0x338837(0xc93)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0xa7c392,{'status':_0x338837(0xc5d)});});}),document[_0x186b43(0x552)](_0x186b43(0x875))[_0x186b43(0x224)](_0x186b43(0x43a),()=>{const _0x279dc2=_0x186b43;document['getElementById'](_0x279dc2(0xcf5))[_0x279dc2(0x4c1)][_0x279dc2(0x818)]('hidden');});}function promptForProjectBeforeGenerating(_0x2f0d9b){const _0x36325f=_0x3a383e,_0x2285ac=document[_0x36325f(0x552)](_0x36325f(0x73f)),_0x10ec38=document[_0x36325f(0x552)](_0x36325f(0x59d)),_0xb8be68=_0x2285ac[_0x36325f(0x972)]('h3'),_0x3b2e95=document[_0x36325f(0x552)](_0x36325f(0x9bb)),_0x4c4390=document[_0x36325f(0x552)]('cancel-move-quiz-btn');_0xb8be68[_0x36325f(0x37a)]=_0x36325f(0x4bd),_0x3b2e95['textContent']=_0x36325f(0x6dc),_0x3b2e95['disabled']=!![];allProjects[_0x36325f(0x636)]===0x0?_0x10ec38[_0x36325f(0x377)]=_0x36325f(0x6e5):(_0x10ec38[_0x36325f(0x377)]=_0x36325f(0x2ea)+allProjects['map'](_0x36c4ce=>'<option\x20value=\x22'+_0x36c4ce['id']+'\x22>'+_0x36c4ce[_0x36325f(0x217)]+'</option>')[_0x36325f(0xa89)](''),_0x3b2e95['disabled']=![]);_0x2285ac['classList']['remove']('hidden');const _0x2273b4=async()=>{const _0x36a1bd=_0x36325f,_0x56e93d=_0x10ec38[_0x36a1bd(0x203)];if(!_0x56e93d){showMessage(_0x36a1bd(0xac8));return;}_0x2285ac[_0x36a1bd(0x4c1)][_0x36a1bd(0x350)](_0x36a1bd(0x9d2)),await loadProjectDetails(_0x56e93d),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x2f0d9b),_0x2f0f42();},_0x2f0f42=()=>{const _0x55a042=_0x36325f;_0xb8be68[_0x55a042(0x37a)]=_0x55a042(0x8c7),_0x3b2e95[_0x55a042(0x37a)]='ย้าย',_0x3b2e95[_0x55a042(0xbaf)](_0x55a042(0x43a),_0x2273b4),_0x4c4390['removeEventListener'](_0x55a042(0x43a),_0x2f0f42),_0x3b2e95[_0x55a042(0x224)]('click',confirmMoveQuiz);};_0x3b2e95[_0x36325f(0xbaf)](_0x36325f(0x43a),confirmMoveQuiz),_0x3b2e95[_0x36325f(0x224)](_0x36325f(0x43a),_0x2273b4),_0x4c4390['addEventListener'](_0x36325f(0x43a),_0x2f0f42);}function showStudentLiveQuestionView(_0x25801e,_0x3056cf,_0x285a22){const _0x46b4f2=_0x3a383e,_0x2f1ebd=_0x25801e[_0x46b4f2(0x5be)]||currentQuizData[_0x46b4f2(0x8bd)];let _0x1b75e6='';if(_0x2f1ebd===_0x46b4f2(0x2df)||_0x2f1ebd===_0x46b4f2(0x631)){const _0x3d7530=_0x2f1ebd===_0x46b4f2(0x631)?['ใช่',_0x46b4f2(0x624)]:_0x25801e[_0x46b4f2(0xb70)];_0x1b75e6=_0x3d7530[_0x46b4f2(0x75d)]((_0x48e58a,_0x611808)=>_0x46b4f2(0x5ea)+_0x611808+_0x46b4f2(0x7fd)+_0x48e58a+_0x46b4f2(0xcd9))[_0x46b4f2(0xa89)]('');}else{if(_0x2f1ebd===_0x46b4f2(0x4b4)){const _0x232943=_0x25801e[_0x46b4f2(0xaeb)]||[];_0x1b75e6=_0x232943[_0x46b4f2(0x75d)]((_0x58390a,_0x33a95b)=>_0x46b4f2(0x5ea)+_0x33a95b+_0x46b4f2(0x7fd)+_0x58390a+_0x46b4f2(0xcd9))['join']('');}else _0x2f1ebd===_0x46b4f2(0x952)&&(_0x1b75e6=_0x46b4f2(0x18b));}const _0xe8b2a6=_0x25801e[_0x46b4f2(0x2a5)]||_0x25801e[_0x46b4f2(0x629)],_0x56c72d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x3056cf+0x1)+_0x46b4f2(0x5e1)+_0x285a22+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0xe8b2a6+_0x46b4f2(0x4c5)+_0x1b75e6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x46b4f2(0x377)]=_0x56c72d;window[_0x46b4f2(0xc8b)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]);const _0x4fd4a9=document[_0x46b4f2(0x552)](_0x46b4f2(0x1a5));_0x4fd4a9&&_0x4fd4a9[_0x46b4f2(0x224)](_0x46b4f2(0x43a),()=>{const _0x1df279=_0x46b4f2,_0x41d587=document[_0x1df279(0x552)](_0x1df279(0x509))[_0x1df279(0x203)];handleLiveAnswer(_0x41d587,_0x25801e);}),document[_0x46b4f2(0x552)](_0x46b4f2(0x174))['addEventListener'](_0x46b4f2(0x43a),_0x2b0381=>{const _0x445f7d=_0x46b4f2,_0x1bc63b=_0x2b0381[_0x445f7d(0x19c)][_0x445f7d(0xc1b)]('.live-answer-btn');if(_0x1bc63b){const _0x4f7479=parseInt(_0x1bc63b[_0x445f7d(0x79d)]['index']);handleLiveAnswer(_0x4f7479,_0x25801e);}});}function listenForBlueprintShortcuts(){const _0x3d5bca=_0x3a383e,_0x5bb6a0=doc(db,'globalSettings',_0x3d5bca(0x1f2));onSnapshot(_0x5bb6a0,_0x2fe61b=>{const _0x597d9e=_0x3d5bca;let _0x328b45=[],_0x1706be=[],_0x3477f7={};if(_0x2fe61b[_0x597d9e(0x837)]()){const _0x27c283=_0x2fe61b[_0x597d9e(0x183)]();_0x328b45=_0x27c283[_0x597d9e(0x4e1)]||[],_0x1706be=_0x27c283[_0x597d9e(0x74d)]||[],_0x3477f7=_0x27c283['shortcutOrder']||{};}!_0x1706be[_0x597d9e(0x51d)](_0xa91284=>_0xa91284['id']===_0x597d9e(0x258))&&_0x1706be['unshift']({'id':'all','name':_0x597d9e(0xaca),'isDefault':!![]}),!_0x328b45[_0x597d9e(0x51d)](_0x14084a=>_0x14084a['id']==='default-1')&&_0x328b45[_0x597d9e(0x97d)]({'id':'default-1','name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x328b45[_0x597d9e(0x51d)](_0x4c5a28=>_0x4c5a28['id']===_0x597d9e(0x3d4))&&_0x328b45['unshift']({'id':_0x597d9e(0x3d4),'name':_0x597d9e(0x595),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x328b45,shortcutTabs=_0x1706be,shortcutOrder=_0x3477f7,renderBlueprintShortcuts(),!document['getElementById'](_0x597d9e(0x262))[_0x597d9e(0x4c1)][_0x597d9e(0x4b7)](_0x597d9e(0x9d2))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x1134eb=_0x3a383e,_0x21c5d3=document[_0x1134eb(0x552)](_0x1134eb(0x251)),_0x3d69bf=document['getElementById'](_0x1134eb(0x20e));if(!_0x21c5d3||!_0x3d69bf)return;_0x21c5d3[_0x1134eb(0x377)]=shortcutTabs[_0x1134eb(0x75d)](_0x36cc67=>{const _0x154270=_0x1134eb,_0x3d75fb=_0x36cc67['id']===activeShortcutTabId,_0x24a051=_0x154270(0x6f1),_0x2512bb='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x36cc67['id']+_0x154270(0x892)+(_0x3d75fb?_0x24a051:_0x2512bb)+_0x154270(0x16c)+_0x36cc67[_0x154270(0xce5)]+_0x154270(0xcf3)+_0x36cc67[_0x154270(0xce5)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x36cc67[_0x154270(0xbbd)]?_0x154270(0x655)+_0x36cc67['id']+_0x154270(0x8e0):'')+_0x154270(0xaee);})[_0x1134eb(0xa89)]('');const _0x189e61=shortcutTabs['find'](_0x5d3d3d=>_0x5d3d3d['id']===activeShortcutTabId);let _0x35b46b=[];if(_0x189e61){if(_0x189e61['isDefault'])_0x35b46b=[...blueprintShortcuts];else{const _0x5a2b99=_0x189e61[_0x1134eb(0xcde)]||[];_0x35b46b=blueprintShortcuts[_0x1134eb(0x499)](_0x4b4dfe=>_0x5a2b99[_0x1134eb(0x27b)](_0x4b4dfe['id']));}}const _0xdd7af7=shortcutOrder[activeShortcutTabId]||[];_0x35b46b['sort']((_0x2ad955,_0x1c459d)=>{const _0x2e135c=_0x1134eb,_0x3b68c5=_0xdd7af7[_0x2e135c(0xa23)](_0x2ad955['id']),_0x25b5de=_0xdd7af7[_0x2e135c(0xa23)](_0x1c459d['id']);if(_0x3b68c5===-0x1)return 0x1;if(_0x25b5de===-0x1)return-0x1;return _0x3b68c5-_0x25b5de;}),_0x3d69bf[_0x1134eb(0x377)]=_0x35b46b[_0x1134eb(0x636)]>0x0?_0x35b46b[_0x1134eb(0x75d)](_0x38383d=>{const _0x359583=_0x1134eb;let _0x199767='🧩';if(_0x38383d[_0x359583(0x34a)]&&_0x38383d['referenceUrl'])_0x199767='📗';else{if(_0x38383d[_0x359583(0x34a)])_0x199767='📘';}const _0x3b8f71=shortcutTabs[_0x359583(0x499)](_0x49823d=>!_0x49823d[_0x359583(0xbbd)]),_0x516f6c=_0x189e61[_0x359583(0xbbd)]&&_0x3b8f71[_0x359583(0x636)]>0x0?_0x359583(0x590)+_0x3b8f71[_0x359583(0x75d)](_0x396ca9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x38383d['id']+'\x22\x20data-target-tab-id=\x22'+_0x396ca9['id']+'\x22>'+_0x396ca9['name']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x359583(0xa89)]('')+_0x359583(0x515):'';return _0x359583(0xae0)+_0x38383d['id']+_0x359583(0x1bd)+_0x199767+'\x20'+_0x38383d['name']+_0x359583(0xd04)+_0x38383d['id']+_0x359583(0x877)+_0x38383d['id']+_0x359583(0xa6a)+(!_0x38383d[_0x359583(0xbbd)]?_0x359583(0x382)+_0x38383d['id']+_0x359583(0xc89):'')+_0x359583(0x74f)+(!_0x189e61[_0x359583(0xbbd)]?_0x359583(0x557)+_0x38383d['id']+_0x359583(0x148):'')+_0x359583(0x74f)+_0x516f6c+_0x359583(0xaae);})[_0x1134eb(0xa89)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x35d5ae=_0x3a383e;document[_0x35d5ae(0x3e0)](_0x35d5ae(0x9ab))['forEach'](_0x44974a=>{const _0x47935a=_0x35d5ae;_0x44974a[_0x47935a(0x224)](_0x47935a(0x43a),_0x73bb6f=>{const _0x416a3d=_0x47935a;activeShortcutTabId=_0x73bb6f[_0x416a3d(0x372)]['dataset'][_0x416a3d(0x2b0)],renderAdditionalShortcutsModal();}),_0x44974a[_0x47935a(0x224)](_0x47935a(0xb59),_0x38ec9c=>{const _0x47906d=_0x47935a,_0x3201f5=_0x38ec9c['currentTarget'];_0x3201f5['querySelector'](_0x47906d(0xca2))['classList'][_0x47906d(0x350)](_0x47906d(0x9d2));const _0x2a1e38=_0x3201f5[_0x47906d(0x972)](_0x47906d(0x9e6));_0x2a1e38[_0x47906d(0x4c1)][_0x47906d(0xb01)](_0x47906d(0x9d2)),_0x2a1e38[_0x47906d(0x817)](),_0x2a1e38['select']();});}),document[_0x35d5ae(0x3e0)](_0x35d5ae(0x9e6))[_0x35d5ae(0x1f5)](_0x35841d=>{const _0x3b68a4=_0x35d5ae,_0x5b9e87=()=>{const _0x102c40=_0x35c4,_0x70b976=_0x35841d[_0x102c40(0xc1b)]('.shortcut-tab-btn')[_0x102c40(0x79d)]['tabId'];handleRenameShortcutTab(_0x70b976,_0x35841d[_0x102c40(0x203)]);};_0x35841d[_0x3b68a4(0x224)](_0x3b68a4(0xc8f),_0x5b9e87),_0x35841d[_0x3b68a4(0x224)](_0x3b68a4(0x5b4),_0x23166d=>{const _0x47657d=_0x3b68a4;if(_0x23166d[_0x47657d(0x96e)]===_0x47657d(0xcf1))_0x35841d['blur']();});}),document[_0x35d5ae(0x3e0)](_0x35d5ae(0xbad))[_0x35d5ae(0x1f5)](_0x5d3059=>{const _0x35ca81=_0x35d5ae;_0x5d3059['addEventListener'](_0x35ca81(0x43a),_0x34cd53=>handleDeleteShortcutTab(_0x34cd53[_0x35ca81(0x372)][_0x35ca81(0x79d)][_0x35ca81(0x2b0)]));}),document[_0x35d5ae(0x3e0)]('.move-shortcut-item')['forEach'](_0x56c86b=>{const _0x31d75b=_0x35d5ae;_0x56c86b[_0x31d75b(0x224)](_0x31d75b(0x43a),_0x4320e4=>{const _0x47704e=_0x31d75b;_0x4320e4[_0x47704e(0x4a0)]();const {shortcutId:_0x3072c4,targetTabId:_0x2ca210}=_0x4320e4[_0x47704e(0x372)][_0x47704e(0x79d)];handleMoveShortcutToTab(_0x3072c4,_0x2ca210);});}),document[_0x35d5ae(0x3e0)](_0x35d5ae(0x4b6))[_0x35d5ae(0x1f5)](_0x2a6f0b=>{const _0x5e7c37=_0x35d5ae;_0x2a6f0b[_0x5e7c37(0x224)]('click',_0x4c532c=>{const _0x37f37c=_0x5e7c37;handleRemoveShortcutFromTab(_0x4c532c['currentTarget'][_0x37f37c(0x79d)]['shortcutId'],activeShortcutTabId);});});const _0x595174=document[_0x35d5ae(0x552)](_0x35d5ae(0x20e));_0x595174[_0x35d5ae(0x3e0)](_0x35d5ae(0x212))[_0x35d5ae(0x1f5)](_0x4e7085=>{const _0x3cfa74=_0x35d5ae;_0x4e7085[_0x3cfa74(0x224)](_0x3cfa74(0x43a),()=>{const _0x545d18=_0x3cfa74;document[_0x545d18(0x552)](_0x545d18(0x262))[_0x545d18(0x4c1)]['add'](_0x545d18(0x9d2)),handleShortcutClick(_0x4e7085['dataset']['id']);});});let _0x26775c=null;_0x595174[_0x35d5ae(0x224)](_0x35d5ae(0x6cf),_0x2814b0=>{const _0x240ec7=_0x35d5ae;_0x26775c=_0x2814b0[_0x240ec7(0x19c)][_0x240ec7(0xc1b)](_0x240ec7(0x6db)),_0x26775c&&setTimeout(()=>_0x26775c[_0x240ec7(0x4c1)][_0x240ec7(0x350)](_0x240ec7(0x8f6)),0x0);}),_0x595174[_0x35d5ae(0x224)]('dragend',()=>{const _0x2b272e=_0x35d5ae;_0x26775c&&(_0x26775c[_0x2b272e(0x4c1)][_0x2b272e(0xb01)]('opacity-50'),_0x26775c=null);}),_0x595174[_0x35d5ae(0x224)](_0x35d5ae(0xacb),_0x34208f=>{const _0x2816aa=_0x35d5ae;_0x34208f[_0x2816aa(0x4a0)]();const _0x206001=[..._0x595174[_0x2816aa(0x3e0)](_0x2816aa(0x6a3))][_0x2816aa(0x67f)]((_0x36062e,_0x12f1e7)=>{const _0x2a78ae=_0x2816aa,_0x346ef6=_0x12f1e7['getBoundingClientRect'](),_0x2251b1=_0x34208f[_0x2a78ae(0xcb3)]-_0x346ef6[_0x2a78ae(0x94b)]-_0x346ef6['height']/0x2;return _0x2251b1<0x0&&_0x2251b1>_0x36062e[_0x2a78ae(0x211)]?{'offset':_0x2251b1,'element':_0x12f1e7}:_0x36062e;},{'offset':Number[_0x2816aa(0x8ba)]})[_0x2816aa(0x80f)];_0x206001==null?_0x595174[_0x2816aa(0x367)](_0x26775c):_0x595174[_0x2816aa(0x5a2)](_0x26775c,_0x206001);}),_0x595174['addEventListener'](_0x35d5ae(0x6f6),_0x4431f7=>{const _0x189e84=_0x35d5ae;_0x4431f7[_0x189e84(0x4a0)]();if(_0x26775c){const _0x5421b3=[..._0x595174['querySelectorAll'](_0x189e84(0x6db))][_0x189e84(0x75d)](_0x29da79=>_0x29da79['dataset'][_0x189e84(0x8a7)]);handleShortcutOrderChange(activeShortcutTabId,_0x5421b3);}}),document['querySelectorAll'](_0x35d5ae(0x57c))['forEach'](_0x55a377=>{const _0x20c6d5=_0x35d5ae;_0x55a377[_0x20c6d5(0x224)](_0x20c6d5(0x43a),_0x32373d=>{const _0x27d557=_0x20c6d5;_0x32373d[_0x27d557(0x9e3)]();const _0x128a4e=_0x32373d[_0x27d557(0x372)][_0x27d557(0x500)],_0x14bae8=_0x128a4e[_0x27d557(0x4c1)][_0x27d557(0x4b7)](_0x27d557(0x9d2));document['querySelectorAll'](_0x27d557(0x9b5))['forEach'](_0x2f3cc4=>_0x2f3cc4['classList'][_0x27d557(0x350)]('hidden')),_0x14bae8&&_0x128a4e['classList']['remove'](_0x27d557(0x9d2));});});}document[_0x3a383e(0x224)]('click',_0xc10f07=>{const _0x15388b=_0x3a383e;!_0xc10f07[_0x15388b(0x19c)][_0x15388b(0xc1b)]('.group\x5c/dropdown')&&document['querySelectorAll'](_0x15388b(0x9b5))[_0x15388b(0x1f5)](_0x294b32=>_0x294b32['classList'][_0x15388b(0x350)](_0x15388b(0x9d2)));});async function saveShortcutConfig(){const _0x3e916b=_0x3a383e,_0x2e02b0=doc(db,_0x3e916b(0x182),'dashboardConfig');try{await setDoc(_0x2e02b0,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x59fc33){console['error'](_0x3e916b(0xb6e),_0x59fc33);}}async function handleAddShortcutTab(){const _0x146b54=_0x3a383e,_0x34010f=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x146b54(0x610));if(!_0x34010f||_0x34010f[_0x146b54(0x887)]()==='')return;shortcutTabs['push']({'id':_0x146b54(0x88d)+Date['now'](),'name':_0x34010f['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x29684a,_0x3fd05b){const _0x3f01ba=_0x3a383e,_0x1cef85=shortcutTabs[_0x3f01ba(0x51d)](_0x68d55f=>_0x68d55f['id']===_0x29684a);_0x1cef85&&_0x3fd05b[_0x3f01ba(0x887)]()!==''&&(_0x1cef85['name']=_0x3fd05b[_0x3f01ba(0x887)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x5910ae){const _0x118031=_0x3a383e,_0x60629e=shortcutTabs['find'](_0x262a35=>_0x262a35['id']===_0x5910ae);_0x60629e&&!_0x60629e[_0x118031(0xbbd)]&&showConfirmation(_0x118031(0x97e)+_0x60629e[_0x118031(0xce5)]+_0x118031(0xcc2),async()=>{const _0x25d37a=_0x118031;shortcutTabs=shortcutTabs[_0x25d37a(0x499)](_0x4d7a5e=>_0x4d7a5e['id']!==_0x5910ae),delete shortcutOrder[_0x5910ae];if(activeShortcutTabId===_0x5910ae)activeShortcutTabId=_0x25d37a(0x258);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x533473,_0x4a71bc){const _0x17a415=_0x3a383e,_0x1a9bc5=shortcutTabs['find'](_0xef510c=>_0xef510c['id']===_0x4a71bc);_0x1a9bc5&&!_0x1a9bc5[_0x17a415(0xcde)][_0x17a415(0x27b)](_0x533473)&&(_0x1a9bc5['shortcutIds'][_0x17a415(0x321)](_0x533473),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x3e586c,_0x30e3){const _0x4b5b11=_0x3a383e,_0x5d68bf=shortcutTabs[_0x4b5b11(0x51d)](_0x285762=>_0x285762['id']===_0x30e3);_0x5d68bf&&!_0x5d68bf[_0x4b5b11(0xbbd)]&&(_0x5d68bf[_0x4b5b11(0xcde)]=_0x5d68bf[_0x4b5b11(0xcde)][_0x4b5b11(0x499)](_0x52f450=>_0x52f450!==_0x3e586c),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x43c0a3,_0x4cd818){shortcutOrder[_0x43c0a3]=_0x4cd818,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x2c4fe2=_0x3a383e,_0x510f69=document['getElementById'](_0x2c4fe2(0xc5f)),_0x2f294d=document['getElementById'](_0x2c4fe2(0x20e)),_0xe75c71=document[_0x2c4fe2(0x552)]('shortcuts-loading-msg');_0xe75c71&&_0xe75c71[_0x2c4fe2(0x4c1)]['add'](_0x2c4fe2(0x9d2));if(!_0x510f69||!_0x2f294d)return;const _0x546a2b=blueprintShortcuts[_0x2c4fe2(0x8ea)](0x0,0x4),_0x227ab5=blueprintShortcuts[_0x2c4fe2(0x8ea)](0x4);_0x510f69[_0x2c4fe2(0x377)]=_0x546a2b[_0x2c4fe2(0x75d)](_0x11d833=>{const _0x47f682=_0x2c4fe2;let _0x1f3298=_0x47f682(0x25a),_0x5bf176='🧩';if(_0x11d833[_0x47f682(0x34a)]&&_0x11d833['referenceUrl'])_0x1f3298='bg-green-500\x20hover:bg-green-600\x20text-white',_0x5bf176='📗';else _0x11d833[_0x47f682(0x34a)]&&(_0x1f3298='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x5bf176='📘');const _0x41f5d9=!_0x11d833['isDefault']?_0x47f682(0x382)+_0x11d833['id']+_0x47f682(0x802):'';return _0x47f682(0xc0f)+_0x11d833['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x1f3298+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x5bf176+'\x20'+_0x11d833[_0x47f682(0xce5)]+_0x47f682(0x8e2)+_0x11d833['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41f5d9+_0x47f682(0xaee);})[_0x2c4fe2(0xa89)](''),_0x227ab5[_0x2c4fe2(0x636)]>0x0&&(_0x510f69[_0x2c4fe2(0x377)]+=_0x2c4fe2(0x8cc)),_0x227ab5[_0x2c4fe2(0x636)]>0x0?_0x2f294d['innerHTML']=_0x227ab5[_0x2c4fe2(0x75d)](_0x3d4b90=>{const _0x36d65a=_0x2c4fe2;let _0x4bbe18='🧩';if(_0x3d4b90[_0x36d65a(0x34a)]&&_0x3d4b90[_0x36d65a(0x5b0)])_0x4bbe18='📗';else _0x3d4b90[_0x36d65a(0x34a)]&&(_0x4bbe18='📘');return _0x36d65a(0x697)+_0x4bbe18+'\x20'+_0x3d4b90[_0x36d65a(0xce5)]+_0x36d65a(0xd04)+_0x3d4b90['id']+_0x36d65a(0x877)+_0x3d4b90['id']+_0x36d65a(0xa6a)+(!_0x3d4b90['isDefault']?_0x36d65a(0x382)+_0x3d4b90['id']+_0x36d65a(0xc89):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2c4fe2(0xa89)](''):_0x2f294d[_0x2c4fe2(0x377)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x34e4d8){const _0x1c2521=_0x3a383e,_0x44bfd1=_0x34e4d8[_0x1c2521(0xc3d)]('.')['pop']()['toLowerCase']();switch(_0x44bfd1){case _0x1c2521(0xbfe):return _0x1c2521(0x96c);case _0x1c2521(0xafe):return _0x1c2521(0x35f);default:return _0x1c2521(0x96c);}}function openShortcutEditor(_0x413ea1=null){const _0x23af9c=_0x3a383e,_0x52861b=document[_0x23af9c(0x552)]('shortcut-editor-modal'),_0x54d8fc=document[_0x23af9c(0x552)](_0x23af9c(0x901)),_0x5677af=document['getElementById'](_0x23af9c(0xcd3)),_0x2860b2=document[_0x23af9c(0x552)](_0x23af9c(0x154)),_0x4e6832=document[_0x23af9c(0x552)](_0x23af9c(0x188)),_0x6f417c=document[_0x23af9c(0x552)](_0x23af9c(0xabe));if(_0x413ea1){const _0x505405=blueprintShortcuts['find'](_0x3bc10c=>_0x3bc10c['id']===_0x413ea1);if(!_0x505405)return;_0x54d8fc[_0x23af9c(0x37a)]=_0x23af9c(0xa3b),_0x5677af[_0x23af9c(0x203)]=_0x505405['id'],_0x2860b2[_0x23af9c(0x203)]=_0x505405[_0x23af9c(0xce5)],_0x4e6832[_0x23af9c(0x203)]=_0x505405[_0x23af9c(0x34a)]||'',_0x6f417c[_0x23af9c(0x203)]=_0x505405[_0x23af9c(0x5b0)]||'';}else _0x54d8fc[_0x23af9c(0x37a)]=_0x23af9c(0x678),_0x5677af['value']='',_0x2860b2[_0x23af9c(0x203)]='',_0x4e6832[_0x23af9c(0x203)]='',_0x6f417c[_0x23af9c(0x203)]='';_0x52861b[_0x23af9c(0x4c1)]['remove']('hidden');}async function saveShortcutChanges(){const _0x488e28=_0x3a383e,_0xe8ba28=document[_0x488e28(0x552)](_0x488e28(0xcd3))[_0x488e28(0x203)],_0x4f5013=document[_0x488e28(0x552)](_0x488e28(0x154))[_0x488e28(0x203)]['trim'](),_0x4cd27a=document['getElementById'](_0x488e28(0x188))['value'][_0x488e28(0x887)]();if(!_0x4f5013||!_0x4cd27a){showMessage(_0x488e28(0xccf));return;}const _0x1b870a={'id':_0xe8ba28||_0x488e28(0xa09)+Date[_0x488e28(0x15a)](),'name':_0x4f5013,'blueprintUrl':_0x4cd27a,'referenceUrl':document[_0x488e28(0x552)](_0x488e28(0xabe))[_0x488e28(0x203)][_0x488e28(0x887)](),'isDefault':_0xe8ba28['startsWith'](_0x488e28(0x167))};let _0x3f285a;_0xe8ba28?_0x3f285a=blueprintShortcuts[_0x488e28(0x75d)](_0x1a6124=>_0x1a6124['id']===_0xe8ba28?_0x1b870a:_0x1a6124):_0x3f285a=[...blueprintShortcuts,_0x1b870a];try{const _0x33e3f6=doc(db,'globalSettings',_0x488e28(0x1f2));await setDoc(_0x33e3f6,{'blueprintShortcuts':_0x3f285a},{'merge':!![]}),document[_0x488e28(0x552)](_0x488e28(0x671))['classList'][_0x488e28(0x350)](_0x488e28(0x9d2));}catch(_0x1ee223){console[_0x488e28(0x2e9)](_0x488e28(0x8e3),_0x1ee223),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x56ae21){const _0x57fc47=_0x3a383e,_0x21cc95=blueprintShortcuts['find'](_0x1613f7=>_0x1613f7['id']===_0x56ae21);if(!_0x21cc95||!_0x21cc95[_0x57fc47(0x34a)])return;document['getElementById']('blueprint-options-container')[_0x57fc47(0x4c1)]['add'](_0x57fc47(0x9d2)),document[_0x57fc47(0x552)](_0x57fc47(0x63a))['disabled']=!![];const _0x4fcf1e=document[_0x57fc47(0x552)](_0x57fc47(0x39f)),_0x2b8aa5=document[_0x57fc47(0x552)]('loader-text');document['getElementById'](_0x57fc47(0x6be))['classList'][_0x57fc47(0xb01)]('hidden'),document[_0x57fc47(0x552)](_0x57fc47(0x8af))[_0x57fc47(0x377)]='',_0x4fcf1e[_0x57fc47(0x4c1)][_0x57fc47(0xb01)](_0x57fc47(0x9d2));try{_0x2b8aa5[_0x57fc47(0x37a)]=_0x57fc47(0x967);const _0x3f26da=await fetchFileFromUrl(_0x21cc95[_0x57fc47(0x34a)],'blueprint.pdf');let _0x1c3b78=null;if(_0x21cc95[_0x57fc47(0x5b0)]){_0x2b8aa5['textContent']=_0x57fc47(0xb27);const _0x44ffcc=_0x21cc95['referenceUrl'][_0x57fc47(0x883)]()['endsWith'](_0x57fc47(0xc2c))?_0x57fc47(0x8cb):_0x57fc47(0xa62);_0x1c3b78=await fetchFileFromUrl(_0x21cc95[_0x57fc47(0x5b0)],_0x44ffcc);}await handleGenerateFromBlueprintWithFiles(_0x3f26da,_0x1c3b78);}catch(_0x23bd54){console[_0x57fc47(0x2e9)]('Error\x20processing\x20shortcut\x20click:',_0x23bd54),showMessage(_0x57fc47(0x9be)+_0x23bd54[_0x57fc47(0x2db)]),_0x4fcf1e[_0x57fc47(0x4c1)][_0x57fc47(0x350)](_0x57fc47(0x9d2));}}function getDirectDownloadUrl(_0x281532){const _0x1d9f03=_0x3a383e,_0x14a97b=_0x281532[_0x1d9f03(0x64a)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x14a97b&&_0x14a97b[0x1])return _0x1d9f03(0xc33)+_0x14a97b[0x1];return _0x281532;}async function fetchFileFromUrl(_0x5cf3de,_0x2136ce){const _0x1a7fe6=_0x3a383e,_0x4b90ba=getDirectDownloadUrl(_0x5cf3de),_0x5226a6=_0x1a7fe6(0x99d)+encodeURIComponent(_0x4b90ba),_0x111a8c=await fetch(_0x5226a6);if(!_0x111a8c['ok'])throw new Error(_0x1a7fe6(0x8cf)+_0x111a8c['status']+')');const _0x1444a9=await _0x111a8c[_0x1a7fe6(0x2c7)](),_0x46a5b5=await new Promise((_0x502ffa,_0x26b8a2)=>{const _0x1cc501=_0x1a7fe6,_0x325e02=new FileReader();_0x325e02[_0x1cc501(0xc1d)]=()=>_0x502ffa(new Uint8Array(_0x325e02['result'])),_0x325e02[_0x1cc501(0xa10)]=_0x26b8a2,_0x325e02[_0x1cc501(0xb98)](_0x1444a9[_0x1cc501(0x8ea)](0x0,0x4));});let _0x1ede0c='';const _0x37d1fb=new TextDecoder()[_0x1a7fe6(0xbe9)](_0x46a5b5);return _0x37d1fb==='%PDF'?(_0x1ede0c='application/pdf',console[_0x1a7fe6(0x3ab)](_0x1a7fe6(0x76c))):(_0x1ede0c='text/plain',console['log']('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x1444a9],_0x2136ce,{'type':_0x1ede0c});}async function handleGenerateFromBlueprintWithFiles(_0x13aa8a,_0x221297=null){const _0x1c52fc=_0x3a383e;if(!_0x13aa8a){showMessage(_0x1c52fc(0x995));return;}const _0x54cec9=document['getElementById'](_0x1c52fc(0x39f)),_0x1dcb59=document[_0x1c52fc(0x552)](_0x1c52fc(0x2d6));_0x54cec9[_0x1c52fc(0x4c1)][_0x1c52fc(0xb01)](_0x1c52fc(0x9d2)),document['getElementById'](_0x1c52fc(0x6be))['classList'][_0x1c52fc(0xb01)]('hidden'),document[_0x1c52fc(0x552)](_0x1c52fc(0x8af))['innerHTML']='';try{_0x1dcb59[_0x1c52fc(0x37a)]=_0x1c52fc(0xb23);const _0x5bfa79=await new Promise((_0x26d134,_0x1e40cb)=>{const _0x489736=_0x1c52fc,_0x176b75=new FileReader();_0x176b75[_0x489736(0x177)](_0x13aa8a),_0x176b75[_0x489736(0xb22)]=()=>_0x26d134(_0x176b75[_0x489736(0x2ae)][_0x489736(0xc3d)](',')[0x1]),_0x176b75[_0x489736(0xa10)]=_0x1e40cb;}),_0x4256b3=[];if(_0x221297){_0x1dcb59[_0x1c52fc(0x37a)]=_0x1c52fc(0x1e9);const _0x9baeab=await _0x221297['text']();_0x4256b3['push']({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x9baeab});}const _0x1348a8=[{'text':'...'},{'inlineData':{'mimeType':_0x13aa8a['type'],'data':_0x5bfa79}},..._0x4256b3];await handleGenerateFromBlueprint(_0x1348a8);}catch(_0x3714f9){console[_0x1c52fc(0x2e9)](_0x1c52fc(0x2ff),_0x3714f9),showMessage(_0x1c52fc(0x9be)+_0x3714f9[_0x1c52fc(0x2db)]),_0x54cec9['classList'][_0x1c52fc(0x350)]('hidden');}}async function handleLiveAnswer(_0x473cf2,_0x5cf977){const _0xa6e3e9=_0x3a383e;document['querySelectorAll'](_0xa6e3e9(0xbb1))['forEach'](_0x516b0e=>_0x516b0e[_0xa6e3e9(0x7ce)]=!![]);const _0x3d20b9=_0x5cf977[_0xa6e3e9(0x5be)]||currentQuizData['quizType'];let _0x3cab92=![],_0x496a87=_0x473cf2;if(_0x3d20b9==='short_answer'){const _0x1c2223=(_0x473cf2||'')[_0xa6e3e9(0x2de)]();_0x3cab92=await gradeShortAnswer(_0x1c2223,_0x5cf977);}else{if(_0x3d20b9===_0xa6e3e9(0x2df))_0x3cab92=_0x473cf2===_0x5cf977[_0xa6e3e9(0xb21)];else{if(_0x3d20b9===_0xa6e3e9(0x631)){const _0x16efb0=_0x5cf977[_0xa6e3e9(0x207)];_0x3cab92=_0x473cf2===0x0&&_0x16efb0||_0x473cf2===0x1&&!_0x16efb0;}else{if(_0x3d20b9===_0xa6e3e9(0x4b4)){const _0x34dbb0=_0x5cf977[_0xa6e3e9(0xaeb)][_0x473cf2];_0x3cab92=_0x34dbb0===_0x5cf977['correctResponse'],_0x496a87=_0x34dbb0;}}}}const _0x20fca1=doc(db,_0xa6e3e9(0xc93)+appId+_0xa6e3e9(0x291),currentLiveGameId),_0x5420af={};_0x5420af[_0xa6e3e9(0xa02)+currentStudentName+_0xa6e3e9(0x9f3)]=!![],_0x5420af[_0xa6e3e9(0xa02)+currentStudentName+_0xa6e3e9(0x555)]=_0x3cab92,_0x5420af[_0xa6e3e9(0xa02)+currentStudentName+_0xa6e3e9(0x364)]=_0x3d20b9==='short_answer'||_0x3d20b9===_0xa6e3e9(0x4b4)?null:_0x473cf2,_0x5420af[_0xa6e3e9(0xa02)+currentStudentName+_0xa6e3e9(0x34d)]=_0x496a87,_0x5420af[_0xa6e3e9(0xa02)+currentStudentName+_0xa6e3e9(0x208)]=serverTimestamp(),_0x5420af[_0xa6e3e9(0xa02)+currentStudentName+_0xa6e3e9(0x4c6)]=![],await updateDoc(_0x20fca1,_0x5420af),liveGameView[_0xa6e3e9(0x377)]=_0xa6e3e9(0x6ea);}function showAdminSummaryView(_0x4a5a96,_0x542583){const _0x481bd8=_0x3a383e,_0x5f140f=Object[_0x481bd8(0x8b4)](_0x4a5a96[_0x481bd8(0x8d9)]||{}),_0x17d26b=_0x542583['questionType']||currentQuizData[_0x481bd8(0x8bd)],_0x2f5ef2=_0x17d26b===_0x481bd8(0x631)?[_0x481bd8(0xaba),'ไม่ใช่']:_0x542583['options']||_0x542583[_0x481bd8(0xaeb)]||[],_0x2a3daf={},_0x1535b0=new Array(_0x2f5ef2[_0x481bd8(0x636)])[_0x481bd8(0x80d)](0x0);_0x2f5ef2[_0x481bd8(0x1f5)]((_0x179526,_0x8f943e)=>{_0x2a3daf[_0x8f943e]=[];}),Object[_0x481bd8(0x14e)](_0x4a5a96[_0x481bd8(0x8d9)]||{})[_0x481bd8(0x1f5)](([_0xed36cf,_0x3734a7])=>{const _0x3730e3=_0x481bd8;if(_0x3734a7[_0x3730e3(0xb09)]===_0x3730e3(0xc45)&&_0x3734a7[_0x3730e3(0x7c8)]!==undefined){const _0x1c73c7=_0x3734a7[_0x3730e3(0x7c8)];_0x2a3daf[_0x1c73c7]&&(_0x2a3daf[_0x1c73c7][_0x3730e3(0x321)](_0xed36cf),_0x1535b0[_0x1c73c7]++);}});const _0xdbbf62=Math[_0x481bd8(0x38c)](..._0x1535b0,0x1),_0xce2d86=_0x481bd8(0x54b)+(_0x542583[_0x481bd8(0x2a5)]||_0x542583['questionText'])+_0x481bd8(0x486)+_0x1535b0['map']((_0x208710,_0x3dfe03)=>{const _0x3c3eb4=_0x481bd8,_0x219aa5=_0x2a3daf[_0x3dfe03][_0x3c3eb4(0x636)]>0x0?_0x2a3daf[_0x3dfe03]['join'](',\x20'):_0x3c3eb4(0x6a8);let _0x4c37e4=![];if(_0x17d26b===_0x3c3eb4(0x2df))_0x4c37e4=_0x3dfe03===_0x542583[_0x3c3eb4(0xb21)];else{if(_0x17d26b===_0x3c3eb4(0x631)){const _0x38caf4=_0x542583[_0x3c3eb4(0x207)];_0x4c37e4=_0x38caf4&&_0x3dfe03===0x0||!_0x38caf4&&_0x3dfe03===0x1;}else _0x17d26b===_0x3c3eb4(0x4b4)&&(_0x4c37e4=_0x2f5ef2[_0x3dfe03]===_0x542583[_0x3c3eb4(0x8b9)]);}const _0x3c94fa=_0x4c37e4?'#26890c':_0x3c3eb4(0xb2c);return _0x3c3eb4(0x9aa)+_0x208710+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x3c94fa+_0x3c3eb4(0x8ca)+_0x3dfe03+_0x3c3eb4(0xc54)+_0x2f5ef2[_0x3dfe03]+_0x3c3eb4(0x5c7)+_0x3dfe03+_0x3c3eb4(0x650)+_0x219aa5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x481bd8(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0xce2d86;if(window[_0x481bd8(0xc8b)])MathJax[_0x481bd8(0x171)]();document['getElementById'](_0x481bd8(0x4e3))['addEventListener'](_0x481bd8(0x43a),async()=>{const _0x46bf3b=_0x481bd8,_0x304d97=doc(db,'artifacts/'+appId+_0x46bf3b(0x291),currentLiveGameId);await updateDoc(_0x304d97,{'questionStatus':_0x46bf3b(0x65b)});}),document[_0x481bd8(0x552)]('open-scratchpad-btn')[_0x481bd8(0x224)]('click',()=>{openScratchpad(_0x542583,_0x2f5ef2);});}function showPlayerSummaryView(_0x1e3fdb,_0x5e868e){const _0x162ecb=_0x3a383e,_0x248716=Object[_0x162ecb(0x8b4)](_0x1e3fdb[_0x162ecb(0x8d9)]||{}),_0x2cbe85=_0x1e3fdb[_0x162ecb(0x8d9)][_0x5e868e],_0x396d98=_0x248716[_0x162ecb(0x499)](_0xc16fe9=>_0xc16fe9['status']==='active')[_0x162ecb(0xa29)]((_0x8ae090,_0x181b95)=>_0x181b95[_0x162ecb(0xbd7)]-_0x8ae090['score']),_0x3503fb=_0x396d98['findIndex'](_0x53754e=>_0x53754e===_0x2cbe85)+0x1,_0x5c88f1=_0x2cbe85[_0x162ecb(0x1eb)]?'ถูกต้อง!':_0x162ecb(0x44d),_0x14e160=_0x2cbe85[_0x162ecb(0x1eb)]?'bg-green-500':_0x162ecb(0x1f4),_0x542ece=_0x2cbe85[_0x162ecb(0x3d3)]||0x0,_0x4aa817=_0x162ecb(0x989),_0x26497d=_0x162ecb(0x6d6)+_0x4aa817+_0x162ecb(0x276)+_0x14e160+_0x162ecb(0x3c0)+_0x5c88f1+_0x162ecb(0xa3a)+_0x542ece+_0x162ecb(0x395)+(_0x3503fb>0x0?_0x3503fb:'-')+_0x162ecb(0xcf6);liveGameView[_0x162ecb(0x377)]=_0x26497d;}function createQuizFromBank(){const _0xad066a=_0x3a383e,_0x19064f=document[_0xad066a(0x3e0)](_0xad066a(0x34c));if(_0x19064f[_0xad066a(0x636)]===0x0){showMessage(_0xad066a(0x665));return;}const _0x59abec=[];_0x19064f[_0xad066a(0x1f5)](_0xddd448=>{const _0x3160d8=_0xad066a;_0x59abec[_0x3160d8(0x321)](JSON[_0x3160d8(0xbea)](_0xddd448[_0x3160d8(0x203)]));});const _0x377c65={'topic':_0xad066a(0x62a),'questions':_0x59abec};displayGeneratedQuiz(_0x377c65);}function showAdminLobbyView(_0x4d201f,_0x137841){const _0x3c3046=_0x3a383e;showView(_0x3c3046(0x7e0));const _0x4e5fe6=_0x3c3046(0xb19)+_0x137841+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x4d201f+_0x3c3046(0x36b);liveGameView['innerHTML']=_0x4e5fe6,document[_0x3c3046(0x552)](_0x3c3046(0xa27))['addEventListener'](_0x3c3046(0x43a),async()=>{const _0x5e593d=_0x3c3046;if(!currentQuizData||!currentQuizData[_0x5e593d(0x5cd)]||currentQuizData['questions']['length']===0x0){showMessage(_0x5e593d(0xa20));return;}try{const _0x29f087=doc(db,'artifacts/'+appId+_0x5e593d(0x291),currentLiveGameId);await updateDoc(_0x29f087,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5267af=currentQuizData[_0x5e593d(0x5cd)][0x0],_0x13062f=currentQuizData[_0x5e593d(0x5cd)][_0x5e593d(0x636)];showAdminLiveQuestionView(_0x5267af,0x0,_0x13062f);}catch(_0x3aef56){console['error']('Error\x20starting\x20game:',_0x3aef56),showMessage(_0x5e593d(0x666));}});}async function openQuizBankModal(){const _0x122132=_0x3a383e;if(allQuizzesGlobal['length']===0x0){const _0x31feb0=await getDocs(collection(db,_0x122132(0xc93)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x31feb0['docs'][_0x122132(0x75d)](_0x1e7377=>({'id':_0x1e7377['id'],..._0x1e7377[_0x122132(0x183)]()}));}renderQuizBankList(''),document[_0x122132(0x552)](_0x122132(0x532))['classList'][_0x122132(0xb01)](_0x122132(0x9d2));}function renderQuizBankList(_0x1bb775='',_0x4a29fd=![]){const _0x391a84=_0x3a383e,_0x57e511=document['getElementById'](_0x391a84(0xc67)),_0xb19ee=_0x1bb775[_0x391a84(0x883)]()[_0x391a84(0x887)](),_0x573fd1=allQuizzesGlobal[_0x391a84(0x75d)](_0x235426=>({..._0x235426,'projectName':allProjects[_0x391a84(0x51d)](_0x494053=>_0x494053['id']===_0x235426[_0x391a84(0x88a)])?.[_0x391a84(0x217)]||_0x391a84(0x484)}))[_0x391a84(0x499)](_0x131c3b=>(_0x131c3b[_0x391a84(0x65f)]||'')[_0x391a84(0x883)]()[_0x391a84(0x27b)](_0xb19ee)||(_0x131c3b['projectName']||'')[_0x391a84(0x883)]()['includes'](_0xb19ee)||_0x131c3b['id']['toString']()[_0x391a84(0x27b)](_0xb19ee));document['getElementById'](_0x391a84(0x244))['textContent']='('+_0x573fd1['length']+_0x391a84(0x4b0),_0x57e511['innerHTML']=_0x573fd1[_0x391a84(0x636)]?_0x573fd1[_0x391a84(0x75d)](_0x19b804=>{const _0x5d07e1=_0x391a84,_0x3645f1=!_0x4a29fd?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x19b804['id']+_0x5d07e1(0x842)+_0x19b804['id']+_0x5d07e1(0xa55)+_0x19b804['id']+_0x5d07e1(0x9cc)+_0x19b804['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x19b804['id']+_0x5d07e1(0xc86)+_0x19b804['id']+_0x5d07e1(0xa75)+_0x19b804[_0x5d07e1(0x65f)]+_0x5d07e1(0xa26):'';return _0x5d07e1(0x270)+_0x19b804['id']+_0x5d07e1(0x5fb)+(_0x19b804['topic']||_0x5d07e1(0x96d))+_0x5d07e1(0x7f8)+(_0x19b804['questions']?.[_0x5d07e1(0x636)]||0x0)+_0x5d07e1(0x45f)+_0x19b804[_0x5d07e1(0x217)]+_0x5d07e1(0xaf9)+_0x19b804['id']+_0x5d07e1(0x29b)+_0x3645f1+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x391a84(0xa89)](''):_0x391a84(0x549),!_0x4a29fd&&(_0x57e511[_0x391a84(0x3e0)](_0x391a84(0xb88))[_0x391a84(0x1f5)](_0x51251f=>{const _0x3c450d=_0x391a84;_0x51251f[_0x3c450d(0x224)](_0x3c450d(0x43a),()=>{const _0x5cb8c8=_0x3c450d,_0x453e3b=_0x51251f[_0x5cb8c8(0x79d)]['id'];document[_0x5cb8c8(0x552)](_0x5cb8c8(0x532))[_0x5cb8c8(0x4c1)][_0x5cb8c8(0x350)](_0x5cb8c8(0x9d2)),showQuizDetailView(_0x453e3b);});}),_0x57e511['querySelectorAll'](_0x391a84(0xce9))[_0x391a84(0x1f5)](_0x4f18ac=>{const _0x5ce135=_0x391a84;_0x4f18ac[_0x5ce135(0x224)](_0x5ce135(0x43a),_0x37c4b5=>{const _0x6c4435=_0x5ce135;_0x37c4b5['stopPropagation']();const _0x34ae42=_0x4f18ac['dataset']['id'],_0x169061=allQuizzesGlobal['find'](_0x3f41c8=>_0x3f41c8['id']===_0x34ae42);_0x169061?(currentQuizData=_0x169061,document[_0x6c4435(0x552)](_0x6c4435(0x532))[_0x6c4435(0x4c1)][_0x6c4435(0x350)](_0x6c4435(0x9d2)),startAdminTest()):showMessage(_0x6c4435(0x8a4));});}),_0x57e511[_0x391a84(0x3e0)](_0x391a84(0x37c))[_0x391a84(0x1f5)](_0x4d3237=>{const _0x5cc7a3=_0x391a84;_0x4d3237[_0x5cc7a3(0x224)]('click',_0x428840=>{const _0x3366c4=_0x5cc7a3;_0x428840['stopPropagation']();const _0x243145=_0x4d3237[_0x3366c4(0x79d)]['id'],_0x37109f=allQuizzesGlobal[_0x3366c4(0x51d)](_0x22ad2d=>_0x22ad2d['id']===_0x243145);_0x37109f?(document[_0x3366c4(0x552)](_0x3366c4(0x532))[_0x3366c4(0x4c1)][_0x3366c4(0x350)](_0x3366c4(0x9d2)),handleGenerateParallelFromBank(_0x37109f)):showMessage(_0x3366c4(0x8a4));});}),_0x57e511[_0x391a84(0x3e0)](_0x391a84(0x615))[_0x391a84(0x1f5)](_0x360d29=>{const _0x210337=_0x391a84;_0x360d29[_0x210337(0x224)](_0x210337(0x43a),_0x4b9b97=>{const _0x5bb7ef=_0x210337;_0x4b9b97[_0x5bb7ef(0x9e3)]();const _0xb91ae8=_0x360d29[_0x5bb7ef(0x79d)]['id'],_0x40e6bb=allQuizzesGlobal[_0x5bb7ef(0x51d)](_0x5cf367=>_0x5cf367['id']===_0xb91ae8);_0x40e6bb?(document[_0x5bb7ef(0x552)](_0x5bb7ef(0x532))[_0x5bb7ef(0x4c1)][_0x5bb7ef(0x350)]('hidden'),startPresentation(_0x40e6bb)):showMessage(_0x5bb7ef(0x8a4));});}),_0x57e511[_0x391a84(0x3e0)](_0x391a84(0xac6))[_0x391a84(0x1f5)](_0x71ad22=>{const _0x2bfe84=_0x391a84;_0x71ad22[_0x2bfe84(0x224)]('click',_0xce4723=>{const _0xd12dec=_0x2bfe84;_0xce4723[_0xd12dec(0x9e3)]();const _0x18b23d=_0x71ad22[_0xd12dec(0x79d)]['id'];document['getElementById'](_0xd12dec(0x532))['classList'][_0xd12dec(0x350)](_0xd12dec(0x9d2)),handleMoveQuiz(_0x18b23d);});}),_0x57e511[_0x391a84(0x3e0)]('.quiz-bank-settings-btn')[_0x391a84(0x1f5)](_0x126727=>{const _0x2c71ff=_0x391a84;_0x126727[_0x2c71ff(0x224)](_0x2c71ff(0x43a),_0x36745a=>{const _0x316163=_0x2c71ff;_0x36745a[_0x316163(0x9e3)]();const _0x2ad881=_0x126727[_0x316163(0x79d)]['id'];document[_0x316163(0x552)](_0x316163(0x532))[_0x316163(0x4c1)][_0x316163(0x350)](_0x316163(0x9d2)),handleQuizSettings(_0x2ad881);});}),_0x57e511[_0x391a84(0x3e0)](_0x391a84(0xa7e))[_0x391a84(0x1f5)](_0x2f83b2=>{_0x2f83b2['addEventListener']('click',_0x18d45b=>{const _0x479376=_0x35c4;_0x18d45b['stopPropagation']();const _0x15824d=_0x2f83b2['dataset']['id'],_0x2a0692=_0x2f83b2[_0x479376(0x79d)][_0x479376(0x65f)];showConfirmation(_0x479376(0xbe6)+_0x2a0692+_0x479376(0x380),()=>handleDeleteQuiz(_0x15824d));});}));}async function handleCompareResults(_0x27febf,_0x48a229){const _0xcdfa4b=_0x3a383e,_0xa315d5=document[_0xcdfa4b(0x552)]('comparison-modal'),_0x3a9113=document[_0xcdfa4b(0x552)]('comparison-overall-content'),_0x5bfe3f=document['getElementById']('comparison-individual-content');document[_0xcdfa4b(0x552)](_0xcdfa4b(0xa19))[_0xcdfa4b(0x4c1)]['add'](_0xcdfa4b(0xc45)),document[_0xcdfa4b(0x552)](_0xcdfa4b(0x578))[_0xcdfa4b(0x4c1)][_0xcdfa4b(0xb01)](_0xcdfa4b(0xc45)),_0x3a9113['classList'][_0xcdfa4b(0xb01)](_0xcdfa4b(0x9d2)),_0x5bfe3f['classList'][_0xcdfa4b(0x350)]('hidden'),_0x3a9113[_0xcdfa4b(0x377)]=_0xcdfa4b(0x1d6),_0x5bfe3f[_0xcdfa4b(0x377)]='',_0xa315d5[_0xcdfa4b(0x4c1)][_0xcdfa4b(0xb01)](_0xcdfa4b(0x9d2));try{const _0x40f948=doc(db,_0xcdfa4b(0xc93)+appId+_0xcdfa4b(0x766),_0x27febf),_0x35149f=await getDoc(_0x40f948);if(!_0x35149f[_0xcdfa4b(0x837)]())throw new Error(_0xcdfa4b(0xcc7));const _0x117466=_0x35149f[_0xcdfa4b(0x183)](),_0x319035=_0x117466[_0xcdfa4b(0x5cd)][_0xcdfa4b(0x636)],_0x364a17=collection(db,'artifacts/'+appId+_0xcdfa4b(0x847)+_0x48a229+_0xcdfa4b(0x32e)),_0xbac143=collection(db,_0xcdfa4b(0xc93)+appId+_0xcdfa4b(0x847)+_0x27febf+_0xcdfa4b(0x32e)),[_0x156122,_0x151ab4]=await Promise[_0xcdfa4b(0x258)]([getDocs(_0x364a17),getDocs(_0xbac143)]),_0x1bac9e=_0x156122[_0xcdfa4b(0x975)][_0xcdfa4b(0x75d)](_0x312463=>_0x312463[_0xcdfa4b(0x183)]()),_0xf46b23=_0x151ab4[_0xcdfa4b(0x975)]['map'](_0x2adb65=>_0x2adb65[_0xcdfa4b(0x183)]()),_0x3ab0ea=_0x1bac9e['map'](_0x4f4dba=>_0x4f4dba[_0xcdfa4b(0xc14)]),_0x24c5df=_0xf46b23['map'](_0xa46f2a=>_0xa46f2a[_0xcdfa4b(0xc14)]),_0x26aa26=calculateMeanAndStdDev(_0x3ab0ea),_0x544b82=calculateMeanAndStdDev(_0x24c5df),_0x20e71c=_0x26aa26[_0xcdfa4b(0x419)],_0x14bf22=_0x544b82[_0xcdfa4b(0x419)],_0x2dfcfc=_0x14bf22-_0x20e71c;let _0x2b805e=_0xcdfa4b(0x6c5)+_0x20e71c['toFixed'](0x2)+_0xcdfa4b(0x8ac)+_0x14bf22[_0xcdfa4b(0x163)](0x2)+_0xcdfa4b(0xae4)+(_0x2dfcfc>=0x0?_0xcdfa4b(0xc79):_0xcdfa4b(0x81c))+_0xcdfa4b(0x57b)+(_0x2dfcfc>=0x0?_0xcdfa4b(0xc35):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x2dfcfc>=0x0?_0xcdfa4b(0x906):_0xcdfa4b(0x337))+'\x22>'+(_0x2dfcfc>=0x0?'+':'')+_0x2dfcfc[_0xcdfa4b(0x163)](0x2)+_0xcdfa4b(0x3f8);_0x3a9113[_0xcdfa4b(0x377)]=_0x2b805e;const _0x399a9d=document[_0xcdfa4b(0x552)](_0xcdfa4b(0x723))[_0xcdfa4b(0x4bb)]('2d');if(chartInstances[_0xcdfa4b(0x9fe)])chartInstances[_0xcdfa4b(0x9fe)][_0xcdfa4b(0xbae)]();chartInstances[_0xcdfa4b(0x9fe)]=new Chart(_0x399a9d,{'type':_0xcdfa4b(0x9b8),'data':{'labels':[_0xcdfa4b(0xbf2)],'datasets':[{'label':_0xcdfa4b(0x7bf),'data':[_0x20e71c],'backgroundColor':_0xcdfa4b(0x1d0)},{'label':_0xcdfa4b(0x771),'data':[_0x14bf22],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x319035}}}});const _0x24694b=currentProjectData[_0xcdfa4b(0x748)]||[],_0x4db684=_0x24694b['map'](_0x18d6c8=>{const _0x59fcaa=_0xcdfa4b,_0xbf6e45=_0x1bac9e['find'](_0x5736f8=>_0x5736f8[_0x59fcaa(0x247)]===_0x18d6c8),_0x379b08=_0xf46b23[_0x59fcaa(0x51d)](_0x542684=>_0x542684[_0x59fcaa(0x247)]===_0x18d6c8),_0x4be434=_0xbf6e45?_0xbf6e45[_0x59fcaa(0xc14)]:null,_0x45763a=_0x379b08?_0x379b08[_0x59fcaa(0xc14)]:null,_0x29bca9=_0x4be434!==null&&_0x45763a!==null?_0x45763a-_0x4be434:null,_0x38f44c=_0x4be434!==null?calculateZScore(_0x4be434,_0x26aa26['mean'],_0x26aa26[_0x59fcaa(0x1c2)]):null,_0x452c01=_0x45763a!==null?calculateZScore(_0x45763a,_0x544b82[_0x59fcaa(0x419)],_0x544b82[_0x59fcaa(0x1c2)]):null,_0x361301=_0x38f44c!==null?calculateTScore(_0x38f44c):null,_0x419f92=_0x452c01!==null?calculateTScore(_0x452c01):null,_0x5bf61b=_0x361301!==null&&_0x419f92!==null?_0x419f92-_0x361301:null;return{'name':_0x18d6c8,'preScore':_0x4be434,'postScore':_0x45763a,'gain':_0x29bca9,'preTScore':_0x361301,'postTScore':_0x419f92,'tGain':_0x5bf61b};});renderIndividualComparisonTable(_0x4db684,_0x5bfe3f);}catch(_0x560a6b){console['error'](_0xcdfa4b(0xb48),_0x560a6b),_0x3a9113[_0xcdfa4b(0x377)]=_0xcdfa4b(0x32f);}}async function saveBlueprintProject(){const _0x1eb168=_0x3a383e;if(!extractedBlueprintData||!extractedBlueprintData[_0x1eb168(0xc16)]){showMessage(_0x1eb168(0x598));return;}const _0x4ab5db=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x1eb168(0x603));if(!_0x4ab5db||_0x4ab5db['trim']()==='')return;const _0x35f07a={};extractedBlueprintData[_0x1eb168(0xc16)][_0x1eb168(0x1f5)](_0x4115aa=>{const _0x3b98e2=_0x1eb168;_0x4115aa[_0x3b98e2(0x44a)][_0x3b98e2(0x1f5)](_0x42b99c=>{const _0x496f89=_0x3b98e2;_0x42b99c[_0x496f89(0x5d1)][_0x496f89(0x1f5)](_0x16d17c=>{const _0x4d9404=_0x496f89,_0x288985=_0x4d9404(0x1d7)+Date[_0x4d9404(0x15a)]()+Math[_0x4d9404(0x9f5)]()['toString'](0x24)['substr'](0x2,0x9);_0x35f07a[_0x288985]={'sara':_0x4115aa['sara'],'mainTopic':_0x42b99c[_0x4d9404(0x880)],'subTopic':_0x16d17c,'status':_0x4d9404(0x806),'lessonContent':null};});});});try{const _0xf1d5ba=collection(db,'artifacts/'+appId+_0x1eb168(0x8f3));await addDoc(_0xf1d5ba,{'projectName':_0x4ab5db[_0x1eb168(0x887)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x35f07a,'createdAt':serverTimestamp()}),showMessage(_0x1eb168(0x297)+_0x4ab5db[_0x1eb168(0x887)]()+_0x1eb168(0x895)),document['getElementById'](_0x1eb168(0x80e))['classList'][_0x1eb168(0x350)](_0x1eb168(0x9d2));}catch(_0x179e87){console[_0x1eb168(0x2e9)](_0x1eb168(0x516),_0x179e87),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x59f484=_0x3a383e,_0x578bb2=document['getElementById'](_0x59f484(0x6d0)),_0x311d49=document[_0x59f484(0x552)]('blueprint-project-list');_0x311d49['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x578bb2['classList'][_0x59f484(0xb01)](_0x59f484(0x9d2));try{const _0x50d817=collection(db,_0x59f484(0xc93)+appId+'/public/data/blueprintProjects'),_0x1dda19=await getDocs(_0x50d817);if(_0x1dda19['empty']){_0x311d49[_0x59f484(0x377)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x28f5d1=_0x1dda19['docs'][_0x59f484(0x75d)](_0x31f32=>({'id':_0x31f32['id'],..._0x31f32['data']()}));_0x28f5d1['sort']((_0x6fd509,_0x383d19)=>_0x6fd509['projectName'][_0x59f484(0x784)](_0x383d19[_0x59f484(0x217)],'th')),_0x311d49['innerHTML']=_0x28f5d1[_0x59f484(0x75d)](_0x57104b=>_0x59f484(0x9c6)+_0x57104b[_0x59f484(0x217)]+_0x59f484(0x716)+_0x57104b[_0x59f484(0xbe4)]+_0x59f484(0x753)+Object[_0x59f484(0xb17)](_0x57104b[_0x59f484(0x978)])['length']+_0x59f484(0xbef)+_0x57104b['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x57104b['id']+_0x59f484(0x2c3))[_0x59f484(0xa89)]('');}catch(_0x32c62d){console['error']('Error\x20loading\x20blueprint\x20projects:',_0x32c62d),_0x311d49[_0x59f484(0x377)]=_0x59f484(0x699);}}async function displayBlueprintProjectManager(_0x46f869){const _0x215a2d=_0x3a383e;currentBlueprintProjectId=_0x46f869,document[_0x215a2d(0x552)]('blueprint-projects-modal')[_0x215a2d(0x4c1)][_0x215a2d(0x350)](_0x215a2d(0x9d2)),showView(_0x215a2d(0x1ec)),projectDashboardView[_0x215a2d(0x4c1)]['add'](_0x215a2d(0x9d2));const _0x15fffa=document[_0x215a2d(0x552)](_0x215a2d(0x7cf));_0x15fffa[_0x215a2d(0x4c1)][_0x215a2d(0xb01)]('hidden'),document[_0x215a2d(0x552)]('bp-topic-list-container')['innerHTML']=_0x215a2d(0x1d6);try{const _0x214681=doc(db,_0x215a2d(0xc93)+appId+_0x215a2d(0x8f3),_0x46f869),_0x19c06a=await getDoc(_0x214681);if(!_0x19c06a[_0x215a2d(0x837)]())throw new Error(_0x215a2d(0x6fd));const _0x14d196={'id':_0x19c06a['id'],..._0x19c06a[_0x215a2d(0x183)]()};document[_0x215a2d(0x552)](_0x215a2d(0x9a7))[_0x215a2d(0x37a)]=_0x14d196[_0x215a2d(0x217)],document[_0x215a2d(0x552)]('bp-reference-file-url')['value']=_0x14d196['referenceFileUrl']||'',renderBlueprintTopicManager(_0x14d196);}catch(_0x308a5c){console[_0x215a2d(0x2e9)](_0x215a2d(0x908),_0x308a5c),showMessage(_0x308a5c[_0x215a2d(0x2db)]),showView(_0x215a2d(0x1ec));}}function renderBlueprintTopicManager(_0x26756e){const _0x4c527c=_0x3a383e,_0x59197c=document[_0x4c527c(0x552)](_0x4c527c(0x614)),_0x59c2b6=_0x26756e[_0x4c527c(0x978)]||{};if(Object['keys'](_0x59c2b6)[_0x4c527c(0x636)]===0x0){_0x59197c[_0x4c527c(0x377)]=_0x4c527c(0x1a3);return;}const _0x3638ba=Object['entries'](_0x59c2b6)[_0x4c527c(0x75d)](([_0x56dc48,_0x4c7433])=>({'id':_0x56dc48,..._0x4c7433}))[_0x4c527c(0xa29)]((_0xde1ba0,_0x39c977)=>(_0xde1ba0[_0x4c527c(0x1ca)]??Infinity)-(_0x39c977[_0x4c527c(0x1ca)]??Infinity)),_0x26eb90={};_0x3638ba[_0x4c527c(0x1f5)](_0x4301c9=>{const _0x16683a=_0x4c527c,{sara:_0x5629df,mainTopic:_0x2717b9}=_0x4301c9;!_0x26eb90[_0x5629df]&&(_0x26eb90[_0x5629df]={}),!_0x26eb90[_0x5629df][_0x2717b9]&&(_0x26eb90[_0x5629df][_0x2717b9]=[]),_0x26eb90[_0x5629df][_0x2717b9][_0x16683a(0x321)](_0x4301c9);});let _0x840421='';for(const _0x1206b8 in _0x26eb90){_0x840421+=_0x4c527c(0x292)+_0x1206b8+_0x4c527c(0x9f9);for(const _0x520df0 in _0x26eb90[_0x1206b8]){_0x840421+=_0x4c527c(0x47e)+_0x520df0+_0x4c527c(0x4f5),_0x26eb90[_0x1206b8][_0x520df0][_0x4c527c(0x1f5)](_0x49a0be=>{const _0x1fc994=_0x4c527c,_0x468b8d=_0x49a0be['id'],_0x2a70b5=_0x49a0be[_0x1fc994(0xce8)]||[],_0x3e4156=_0x2a70b5[_0x1fc994(0x636)]>0x0,_0x31995d=_0x49a0be['status']==='generated';let _0x45fef0='';_0x3e4156?_0x45fef0=_0x1fc994(0x61c)+_0x2a70b5['length']+_0x1fc994(0x6c6):_0x45fef0=_0x1fc994(0x984)+(_0x31995d?'bg-green-200\x20text-green-800':_0x1fc994(0xb89))+'\x22>'+(_0x31995d?_0x1fc994(0x8b3):_0x1fc994(0x8df))+_0x1fc994(0x1ea);const _0x585fb9=!_0x31995d?_0x1fc994(0xd03):'',_0x4a4dd5=!_0x31995d?_0x1fc994(0x692):'';let _0x2f6cde=_0x31995d?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x1fc994(0x5e4);_0x840421+=_0x1fc994(0x964)+_0x468b8d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x49a0be[_0x1fc994(0x7c1)]+_0x1fc994(0xa4a)+_0x45fef0+_0x1fc994(0xc8a)+_0x585fb9+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x4a4dd5+_0x1fc994(0x8c2)+_0x2f6cde+_0x1fc994(0x583);}),_0x840421+='</div></div>';}_0x840421+=_0x4c527c(0xc87);}_0x59197c[_0x4c527c(0x377)]=_0x840421;}async function handleDeepDeleteBlueprintProject(_0x37c4ec){const _0x70db3=_0x3a383e,_0xd860b9=doc(db,'artifacts/'+appId+_0x70db3(0x8f3),_0x37c4ec),_0x57c1f5=await getDoc(_0xd860b9);if(!_0x57c1f5[_0x70db3(0x837)]()){showMessage(_0x70db3(0x26c));return;}const _0x4bfea7=_0x57c1f5['data']()[_0x70db3(0x217)];showConfirmation(_0x70db3(0x913)+_0x4bfea7+_0x70db3(0xbcd),async()=>{const _0x586b84=_0x70db3;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x3e07b1=writeBatch(db),_0x53c1e2=_0x57c1f5[_0x586b84(0x183)](),_0x551cfa=_0x53c1e2['topics']||{};for(const _0x1d1929 in _0x551cfa){const _0x3e737e=doc(db,_0x586b84(0xc93)+appId+'/public/data/blueprintProjects/'+_0x37c4ec+_0x586b84(0x366),_0x1d1929);_0x3e07b1[_0x586b84(0x28d)](_0x3e737e);}const _0x168ea7=new Set();for(const _0x45cf8e in _0x551cfa){_0x551cfa[_0x45cf8e]['linkedQuizIds']&&_0x551cfa[_0x45cf8e][_0x586b84(0xce8)][_0x586b84(0x1f5)](_0x345385=>_0x168ea7[_0x586b84(0x350)](_0x345385));}for(const _0x439d0f of _0x168ea7){await handleDeleteQuiz(_0x439d0f,![]);}_0x3e07b1[_0x586b84(0x28d)](_0xd860b9),await _0x3e07b1[_0x586b84(0x75a)](),showMessage(_0x586b84(0x338)+_0x4bfea7+_0x586b84(0x5b6)),showBlueprintProjects();}catch(_0x502fd4){console['error'](_0x586b84(0x427),_0x502fd4),showMessage(_0x586b84(0xac7));}});}async function openTopicQuizBank(_0x45a8f8){const _0x41b079=_0x3a383e,_0x5f082b=document[_0x41b079(0x552)](_0x41b079(0x60f)),_0x5427ff=document[_0x41b079(0x552)](_0x41b079(0x4ca)),_0x1e34c6=document[_0x41b079(0x552)](_0x41b079(0xd01));try{await ensureGlobalQuizzesLoaded();const _0x3a07dc=doc(db,_0x41b079(0xc93)+appId+_0x41b079(0x8f3),currentBlueprintProjectId),_0x26c4ea=await getDoc(_0x3a07dc);if(!_0x26c4ea[_0x41b079(0x837)]())return;const _0x5ce1a9=_0x26c4ea[_0x41b079(0x183)](),_0x18f04e=_0x5ce1a9[_0x41b079(0x978)][_0x45a8f8];document[_0x41b079(0x552)](_0x41b079(0x63c))[_0x41b079(0x37a)]=_0x18f04e[_0x41b079(0x7c1)];const _0x371099=_0x18f04e[_0x41b079(0xce8)]||[];_0x1e34c6[_0x41b079(0x4c1)]['toggle'](_0x41b079(0x9d2),_0x371099['length']===0x0),_0x1e34c6['onclick']=()=>handleClearAllLinksForTopic(_0x45a8f8);if(_0x371099[_0x41b079(0x636)]===0x0)_0x5427ff[_0x41b079(0x377)]=_0x41b079(0x58e);else{const _0x39b65e=allQuizzesGlobal[_0x41b079(0x499)](_0x1dd030=>_0x371099[_0x41b079(0x27b)](_0x1dd030['id']));_0x5427ff['innerHTML']=_0x39b65e[_0x41b079(0x75d)](_0x18d319=>_0x41b079(0x26f)+_0x18d319['id']+_0x41b079(0x5a3)+_0x18d319[_0x41b079(0x65f)]+_0x41b079(0xcda)+_0x18d319['id']+'\x20|\x20'+_0x18d319[_0x41b079(0x5cd)]['length']+_0x41b079(0x6e2)+_0x18d319['id']+_0x41b079(0xa68)+_0x18d319['id']+_0x41b079(0x6eb)+_0x18d319['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x18d319['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x18d319['id']+_0x41b079(0x75c)+_0x18d319['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x45a8f8+_0x41b079(0x1af)+_0x18d319['id']+_0x41b079(0x523))[_0x41b079(0xa89)]('');}document[_0x41b079(0x552)](_0x41b079(0x473))['onclick']=()=>{openQuizSelectorForBlueprint(_0x45a8f8);},document[_0x41b079(0x552)]('close-topic-bank-btn')['onclick']=()=>_0x5f082b[_0x41b079(0x4c1)][_0x41b079(0x350)]('hidden'),_0x5f082b['classList']['remove'](_0x41b079(0x9d2));}catch(_0x275eee){showMessage(_0x275eee[_0x41b079(0x2db)]);}}async function openQuizSelectorForBlueprint(_0xb8fda0){const _0x29f445=_0x3a383e,_0x8c99c7=document['getElementById'](_0x29f445(0x532)),_0x1f11d1=document[_0x29f445(0x552)](_0x29f445(0x60f));_0x1f11d1['classList'][_0x29f445(0x350)](_0x29f445(0x9d2)),document[_0x29f445(0x552)](_0x29f445(0x4d7))?.['remove']();const _0x465454=document['createElement'](_0x29f445(0x8be));_0x465454['id']=_0x29f445(0x4d7),_0x465454['className']=_0x29f445(0x25f),_0x465454['textContent']=_0x29f445(0x4b5),_0x465454[_0x29f445(0x7ce)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x8c99c7[_0x29f445(0x4c1)]['remove'](_0x29f445(0x9d2)),renderQuizBankListForMultiSelect(''),document[_0x29f445(0x552)](_0x29f445(0x2f8))[_0x29f445(0x89b)]['display']=_0x29f445(0xbde),_0x8c99c7[_0x29f445(0x972)](_0x29f445(0x22e))[_0x29f445(0x367)](_0x465454);const _0x4856da=(_0x3c7c2a=![])=>{const _0x2f1a92=_0x29f445;_0x8c99c7['classList'][_0x2f1a92(0x350)](_0x2f1a92(0x9d2)),document[_0x2f1a92(0x552)](_0x2f1a92(0x2f8))['style'][_0x2f1a92(0xcab)]='flex',_0x465454[_0x2f1a92(0xb01)](),_0x3c7c2a&&openTopicQuizBank(_0xb8fda0);};_0x465454[_0x29f445(0x6f4)]=async()=>{const _0x38ce67=_0x29f445,_0x102d55=Array[_0x38ce67(0x659)](document[_0x38ce67(0x3e0)](_0x38ce67(0x3a9)))[_0x38ce67(0x75d)](_0x5314a6=>_0x5314a6['value']);if(_0x102d55[_0x38ce67(0x636)]===0x0)return;try{const _0x54de41=doc(db,'artifacts/'+appId+_0x38ce67(0x8f3),currentBlueprintProjectId),_0x13cd55=(await getDoc(_0x54de41))[_0x38ce67(0x183)](),_0x257b39=_0x13cd55['topics'][_0xb8fda0][_0x38ce67(0xce8)]||[],_0x3c18f8=[...new Set([..._0x257b39,..._0x102d55])];await updateDoc(_0x54de41,{['topics.'+_0xb8fda0+_0x38ce67(0x195)]:_0x3c18f8}),showMessage(_0x38ce67(0x622)+_0x102d55[_0x38ce67(0x636)]+_0x38ce67(0xa34)),_0x4856da(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2bdec3){console[_0x38ce67(0x2e9)]('Error\x20linking\x20quizzes:',_0x2bdec3);}},document[_0x29f445(0x552)]('cancel-quiz-bank-btn')[_0x29f445(0x6f4)]=()=>_0x4856da(!![]);}catch(_0x456cec){showMessage(_0x456cec['message']),_0x1f11d1['classList'][_0x29f445(0xb01)](_0x29f445(0x9d2));}}function handleClearLinkedQuiz(_0x16a36b){const _0x1bc2cf=_0x3a383e;showConfirmation(_0x1bc2cf(0x6aa),async()=>{const _0x138d66=_0x1bc2cf;try{const _0x880932=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x880932,{[_0x138d66(0xa00)+_0x16a36b+_0x138d66(0x745)]:deleteField()}),showMessage(_0x138d66(0x31f)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5560bb){console[_0x138d66(0x2e9)](_0x138d66(0x7d1),_0x5560bb),showMessage(_0x138d66(0x413));}});}async function addTopicToProject(){const _0x157705=_0x3a383e,_0x4aa6ab=prompt(_0x157705(0x660));if(!_0x4aa6ab||_0x4aa6ab[_0x157705(0x887)]()==='')return;const _0x2799b1=prompt(_0x157705(0xae2),'สาระที่\x201'),_0x44f13c=prompt(_0x157705(0x9ce),_0x157705(0xc3e)),_0x2227fb=_0x157705(0x1d7)+Date['now']()+Math[_0x157705(0x9f5)]()[_0x157705(0x2de)](0x24)[_0x157705(0x6fc)](0x2,0x9),_0xa492c8={'sara':_0x2799b1,'mainTopic':_0x44f13c,'subTopic':_0x4aa6ab[_0x157705(0x887)](),'status':_0x157705(0x806),'lessonContent':null};try{const _0x4a926a=doc(db,_0x157705(0xc93)+appId+_0x157705(0x8f3),currentBlueprintProjectId);await updateDoc(_0x4a926a,{['topics.'+_0x2227fb]:_0xa492c8}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x503617){console['error'](_0x157705(0x676),_0x503617),showMessage(_0x157705(0x8c0));}}async function editTopicInProject(_0x20f569){const _0x44ba65=_0x3a383e,_0x154d7c=document[_0x44ba65(0x972)](_0x44ba65(0x8b6)+_0x20f569+'\x22]'),_0x2c4d5d=_0x154d7c['querySelector'](_0x44ba65(0x891)),_0x30e307=_0x2c4d5d['textContent'],_0x3c1764=prompt(_0x44ba65(0x16f),_0x30e307);if(!_0x3c1764||_0x3c1764[_0x44ba65(0x887)]()===''||_0x3c1764[_0x44ba65(0x887)]()===_0x30e307)return;try{const _0x2bfcda=doc(db,_0x44ba65(0xc93)+appId+_0x44ba65(0x8f3),currentBlueprintProjectId);await updateDoc(_0x2bfcda,{[_0x44ba65(0xa00)+_0x20f569+_0x44ba65(0x9f4)]:_0x3c1764[_0x44ba65(0x887)]()}),_0x2c4d5d['textContent']=_0x3c1764[_0x44ba65(0x887)](),showMessage(_0x44ba65(0x3aa));}catch(_0x15cba3){console[_0x44ba65(0x2e9)]('Error\x20editing\x20topic:',_0x15cba3),showMessage(_0x44ba65(0x317));}}async function deleteTopicFromProject(_0x409a2a){const _0x1e7ec7=_0x3a383e;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x2c8cde=doc(db,'artifacts/'+appId+_0x1e7ec7(0x8f3),currentBlueprintProjectId);await updateDoc(_0x2c8cde,{[_0x1e7ec7(0xa00)+_0x409a2a]:deleteField()}),document['querySelector'](_0x1e7ec7(0x8b6)+_0x409a2a+'\x22]')[_0x1e7ec7(0xb01)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x1e3e23){console[_0x1e7ec7(0x2e9)](_0x1e7ec7(0x899),_0x1e3e23),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x3bb326,_0x317bcd,_0x29a4be){handleGenerateAndShowLesson(_0x317bcd,_0x29a4be);const _0x42455b=setInterval(async()=>{const _0x24f06a=_0x35c4,_0x43846d=document[_0x24f06a(0x552)](_0x24f06a(0x4e0)),_0x2b5cf1=_0x43846d[_0x24f06a(0x4c1)]['contains'](_0x24f06a(0x9d2));if(_0x2b5cf1){clearInterval(_0x42455b);if(currentApplicationData&&currentApplicationData[_0x24f06a(0x636)]>0x0){const _0x128f7b={'point':document['getElementById'](_0x24f06a(0x831))[_0x24f06a(0x377)],'memory':document[_0x24f06a(0x552)](_0x24f06a(0x3c2))[_0x24f06a(0x377)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x24f06a(0x299))['innerHTML']};try{const _0x15d4a5=doc(db,_0x24f06a(0xc93)+appId+_0x24f06a(0x8f3),currentBlueprintProjectId),_0x397bf1=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x24f06a(0x366),_0x3bb326),_0x380bf7=writeBatch(db);_0x380bf7[_0x24f06a(0x767)](_0x397bf1,{'content':_0x128f7b}),_0x380bf7['update'](_0x15d4a5,{[_0x24f06a(0xa00)+_0x3bb326+'.status']:_0x24f06a(0x55f)}),await _0x380bf7[_0x24f06a(0x75a)](),console[_0x24f06a(0x3ab)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x3bb326+_0x24f06a(0x87c)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xd1d10){console[_0x24f06a(0x2e9)](_0x24f06a(0x162),_0xd1d10);}}}},0x3e8);}function displayHalfMarkResult(_0x315f48,_0x504f80){const _0x249042=_0x3a383e,_0x2a1e29=_0x315f48>=_0x504f80/0x2,_0x495294=_0x2a1e29?'bg-green-100':_0x249042(0x81c),_0xfb126e=_0x2a1e29?_0x249042(0x344):_0x249042(0x8d0),_0x239bc6=_0x2a1e29?_0x249042(0x83e):_0x249042(0x280),_0x37bcab=_0x2a1e29?_0x249042(0x7c4):_0x249042(0x33a),_0x11098b=_0x2a1e29?_0x249042(0x77b):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x14890e=_0x249042(0x1cf)+_0x495294+_0x249042(0x698)+_0xfb126e+_0x249042(0x4e2)+_0x239bc6+_0x249042(0xc5c)+_0x37bcab+_0x249042(0x6cb)+_0x11098b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x14890e,studentResultArea[_0x249042(0x4c1)][_0x249042(0xb01)](_0x249042(0x9d2)),studentQuizArea[_0x249042(0x4c1)][_0x249042(0x350)](_0x249042(0x9d2)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x2a1e29});}function displayPerfectScoreResult(_0x2a1748,_0x49128d){const _0x26dd4d=_0x3a383e,_0x19a8c7=_0x2a1748===_0x49128d,_0x5f4d62=_0x19a8c7?_0x26dd4d(0x8bf):_0x26dd4d(0x191),_0x41ded7=_0x19a8c7?_0x26dd4d(0xbbc):_0x26dd4d(0x8a8),_0x27a14f=_0x19a8c7?_0x26dd4d(0x7f5):'text-blue-800',_0x102c78=_0x19a8c7?'คะแนนเต็ม!':_0x26dd4d(0x389),_0x45185b=_0x19a8c7?_0x26dd4d(0x63f):_0x26dd4d(0x7a1);let _0x256f95=_0x26dd4d(0x1cf)+_0x5f4d62+_0x26dd4d(0x698)+_0x41ded7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x27a14f+_0x26dd4d(0xc5c)+_0x102c78+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x45185b+_0x26dd4d(0xa13);studentResultArea[_0x26dd4d(0x377)]=_0x256f95,studentResultArea[_0x26dd4d(0x4c1)][_0x26dd4d(0xb01)](_0x26dd4d(0x9d2)),studentQuizArea[_0x26dd4d(0x4c1)][_0x26dd4d(0x350)](_0x26dd4d(0x9d2)),setupResultScreenBackButton({'showRankings':![],'score':_0x2a1748,'totalQuestions':_0x49128d});}function renderIndividualComparisonTable(_0x11fbfb,_0x3ca421){const _0x42e894=_0x3a383e;_0x11fbfb[_0x42e894(0xa29)]((_0x452833,_0x4bbc9d)=>(_0x4bbc9d[_0x42e894(0x7b6)]??-Infinity)-(_0x452833[_0x42e894(0x7b6)]??-Infinity));let _0x3cf2b8=_0x42e894(0x52e);_0x11fbfb['length']===0x0?_0x3cf2b8+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x11fbfb['forEach']((_0x383f86,_0x21699f)=>{const _0x3a3135=_0x42e894;let _0x44130b='-',_0x32f348='';if(_0x383f86['gain']!==null){const _0x2183f6=_0x383f86[_0x3a3135(0x2bb)]>0x0?_0x3a3135(0x5e8):_0x383f86[_0x3a3135(0x2bb)]<0x0?_0x3a3135(0x3f6):'text-gray-500',_0x9c9122=_0x383f86[_0x3a3135(0x2bb)]>0x0?'+':'';_0x44130b=_0x3a3135(0x98c)+_0x2183f6+'\x22>'+_0x9c9122+_0x383f86[_0x3a3135(0x2bb)]+_0x3a3135(0x1ea);if(_0x383f86[_0x3a3135(0x2bb)]>0x0)_0x32f348=_0x3a3135(0x2a7);else _0x383f86[_0x3a3135(0x2bb)]<0x0?_0x32f348=_0x3a3135(0x456):_0x32f348=_0x3a3135(0x674);}let _0x28efe2='-';if(_0x383f86[_0x3a3135(0x7b6)]!==null){const _0x510cf6=_0x383f86[_0x3a3135(0x7b6)]>0x0?_0x3a3135(0x5e8):_0x383f86[_0x3a3135(0x7b6)]<0x0?_0x3a3135(0x3f6):_0x3a3135(0x958),_0x55ee40=_0x383f86[_0x3a3135(0x7b6)]>0x0?'+':'';_0x28efe2=_0x3a3135(0x98c)+_0x510cf6+'\x22>'+_0x55ee40+_0x383f86[_0x3a3135(0x7b6)][_0x3a3135(0x163)](0x2)+'</span>';}_0x3cf2b8+=_0x3a3135(0x5a0)+(_0x21699f+0x1)+_0x3a3135(0x950)+_0x383f86[_0x3a3135(0xce5)]+_0x3a3135(0xc11)+(_0x383f86['preScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x383f86[_0x3a3135(0xc1c)]??'-')+_0x3a3135(0xc11)+_0x44130b+_0x3a3135(0x6c8)+_0x32f348+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x383f86[_0x3a3135(0xaab)]?.[_0x3a3135(0x163)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x383f86['postTScore']?.[_0x3a3135(0x163)](0x2)??'-')+_0x3a3135(0xc11)+_0x28efe2+_0x3a3135(0x9dd);}),_0x3cf2b8+='</tbody></table></div>',_0x3ca421[_0x42e894(0x377)]=_0x3cf2b8;}function handleRenameQuiz(_0x44e729,_0x591dbd){const _0x24f906=_0x3a383e;actionTargetId=_0x44e729,document[_0x24f906(0x552)](_0x24f906(0x362))[_0x24f906(0x203)]=_0x591dbd,renameQuizModal['classList'][_0x24f906(0xb01)]('hidden');}function setupComparisonModalTabs(){const _0x444681=_0x3a383e,_0x5652d1=document[_0x444681(0x552)](_0x444681(0xa19)),_0x5223b0=document[_0x444681(0x552)](_0x444681(0x578)),_0x3148e4=document[_0x444681(0x552)]('comparison-overall-content'),_0x286073=document[_0x444681(0x552)](_0x444681(0x5cc));_0x5652d1[_0x444681(0x224)]('click',()=>{const _0x191ca0=_0x444681;_0x5652d1[_0x191ca0(0x4c1)][_0x191ca0(0x350)](_0x191ca0(0xc45)),_0x5223b0['classList'][_0x191ca0(0xb01)](_0x191ca0(0xc45)),_0x3148e4[_0x191ca0(0x4c1)][_0x191ca0(0xb01)](_0x191ca0(0x9d2)),_0x286073[_0x191ca0(0x4c1)][_0x191ca0(0x350)]('hidden');}),_0x5223b0[_0x444681(0x224)]('click',()=>{const _0x4d9aa4=_0x444681;_0x5223b0[_0x4d9aa4(0x4c1)][_0x4d9aa4(0x350)](_0x4d9aa4(0xc45)),_0x5652d1[_0x4d9aa4(0x4c1)][_0x4d9aa4(0xb01)](_0x4d9aa4(0xc45)),_0x286073['classList'][_0x4d9aa4(0xb01)]('hidden'),_0x3148e4[_0x4d9aa4(0x4c1)][_0x4d9aa4(0x350)](_0x4d9aa4(0x9d2));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0xb7e8e5=_0x3a383e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x59cdba=doc(db,_0xb7e8e5(0xc93)+appId+_0xb7e8e5(0x291),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x59cdba,_0x5e13df=>{const _0x516a80=_0xb7e8e5;if(!_0x5e13df[_0x516a80(0x837)]()){showMessage(_0x516a80(0x4cc));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x516a80(0x927));return;}const _0x236f74=_0x5e13df[_0x516a80(0x183)]();_0x236f74[_0x516a80(0x402)]&&(currentQuizData=_0x236f74[_0x516a80(0x402)]);!currentQuizData&&_0x236f74[_0x516a80(0x1e8)]&&((async()=>{const _0x4c4d1a=_0x516a80;try{const _0x59f4cb=doc(db,_0x4c4d1a(0xc93)+appId+_0x4c4d1a(0x766),_0x236f74[_0x4c4d1a(0x1e8)]),_0x5d00f0=await getDoc(_0x59f4cb);_0x5d00f0[_0x4c4d1a(0x837)]()&&(currentQuizData={'id':_0x5d00f0['id'],..._0x5d00f0[_0x4c4d1a(0x183)]()});}catch(_0x35aab5){console['error'](_0x4c4d1a(0x66d),_0x35aab5);}})());switch(_0x236f74[_0x516a80(0xb09)]){case _0x516a80(0xcbe):if(currentMode===_0x516a80(0x4a6)){const _0x48e3fe=_0x236f74[_0x516a80(0x8d9)]?Object[_0x516a80(0x14e)](_0x236f74[_0x516a80(0x8d9)]):[],_0x47215b=_0x48e3fe['filter'](([_0x30fdc4,_0x1440f0])=>_0x1440f0['status']===_0x516a80(0xc45)),_0x2ad8ea=document[_0x516a80(0x552)](_0x516a80(0x214));if(_0x2ad8ea)_0x2ad8ea[_0x516a80(0x37a)]=_0x47215b[_0x516a80(0x636)];const _0x5dac7f=document[_0x516a80(0x552)]('player-list-lobby');_0x5dac7f&&(_0x5dac7f[_0x516a80(0x377)]=_0x47215b[_0x516a80(0x75d)](([_0x42d74c,_0x120a23])=>_0x516a80(0xaff)+_0x42d74c+_0x516a80(0x846)+_0x42d74c+_0x516a80(0x959))[_0x516a80(0xa89)](''));const _0x1ca830=document[_0x516a80(0x552)](_0x516a80(0xa27));_0x1ca830&&(_0x1ca830[_0x516a80(0x7ce)]=_0x47215b['length']===0x0);}else showView('live-game'),liveGameView['innerHTML']=_0x516a80(0x946)+currentStudentName+_0x516a80(0x6d2);break;case'question':const _0x3e9a32=_0x236f74['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x516a80(0x5cd)][_0x3e9a32]){const _0xbdb1d9=currentQuizData[_0x516a80(0x5cd)][_0x3e9a32],_0x59f289=_0x236f74[_0x516a80(0x39c)]||_0x516a80(0x513);switch(_0x59f289){case _0x516a80(0x94e):currentMode===_0x516a80(0x4a6)?showAdminSummaryView(_0x236f74,_0xbdb1d9):showPlayerSummaryView(_0x236f74,currentStudentName);break;case _0x516a80(0x65b):currentMode===_0x516a80(0x4a6)&&showTop5LeaderboardView(_0x236f74);break;case _0x516a80(0x513):default:if(currentMode==='admin'){const _0x1445be=writeBatch(db);let _0x69525d=![];Object['entries'](_0x236f74[_0x516a80(0x8d9)])[_0x516a80(0x1f5)](([_0x3c3c56,_0x5246fe])=>{const _0x571909=_0x516a80;if(_0x5246fe[_0x571909(0xb09)]===_0x571909(0xc45)&&_0x5246fe[_0x571909(0x939)]&&!_0x5246fe[_0x571909(0x15f)]){_0x69525d=!![];const _0x2cfb6e=_0x5246fe['submittedAt'][_0x571909(0xa41)]()-_0x236f74[_0x571909(0x4b9)][_0x571909(0xa41)]();let _0x4d3bc4=0x0;if(_0x5246fe[_0x571909(0x1eb)]){const _0x3d8e38=0x3e8,_0x209567=0x1f4,_0x597f95=0x4e20;let _0x11a262=_0x2cfb6e/_0x597f95;if(_0x11a262>0x1)_0x11a262=0x1;const _0x143e7c=Math[_0x571909(0xc4a)](_0x11a262*_0x209567);_0x4d3bc4=_0x3d8e38-_0x143e7c;}const _0x495beb=doc(db,'artifacts/'+appId+_0x571909(0x291),currentLiveGameId);_0x1445be[_0x571909(0x1b5)](_0x495beb,{[_0x571909(0xa02)+_0x3c3c56+_0x571909(0x7d7)]:increment(_0x4d3bc4),['players.'+_0x3c3c56+_0x571909(0xac2)]:_0x4d3bc4,[_0x571909(0xa02)+_0x3c3c56+'.isScored']:!![]});}});_0x69525d&&_0x1445be[_0x516a80(0x75a)]()[_0x516a80(0x324)](_0xda9b68=>console[_0x516a80(0x2e9)](_0x516a80(0xa66),_0xda9b68));lastRenderedAdminQuestionIndex!==_0x3e9a32&&(showAdminLiveQuestionView(_0xbdb1d9,_0x3e9a32,currentQuizData[_0x516a80(0x5cd)][_0x516a80(0x636)]),lastRenderedAdminQuestionIndex=_0x3e9a32);const _0x4246f4=_0x236f74[_0x516a80(0x8d9)]||{},_0x42681d=Object['values'](_0x4246f4)[_0x516a80(0x499)](_0x3f5610=>_0x3f5610[_0x516a80(0xb09)]===_0x516a80(0xc45)),_0x353747=_0x42681d[_0x516a80(0x636)],_0x552bd1=_0x42681d[_0x516a80(0x499)](_0x33f1c4=>_0x33f1c4['answeredCurrentQuestion']===!![])['length'],_0x3ab165=document['getElementById'](_0x516a80(0xa1d));if(_0x3ab165)_0x3ab165[_0x516a80(0x37a)]=_0x552bd1+'/'+_0x353747;const _0x3f6837=document['getElementById'](_0x516a80(0x3ef));if(_0x3f6837){let _0x4e7cf3=Object[_0x516a80(0x14e)](_0x4246f4)[_0x516a80(0x499)](([_0x12810d,_0x2a36b2])=>_0x2a36b2['status']===_0x516a80(0xc45))['map'](([_0x1322fe,_0x4abcba])=>{const _0xdc4001=_0x516a80,_0x335369=_0x4abcba[_0xdc4001(0x5ba)]===!![],_0x4b25d9=_0x335369?_0xdc4001(0x6ef):_0xdc4001(0x618),_0x4b5665=_0x335369?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0xdc4001(0x86b);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x4b25d9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b5665+_0xdc4001(0x189)+_0x1322fe+_0xdc4001(0x6e8)+_0x1322fe+_0xdc4001(0x8ed);})['join']('');_0x3f6837['innerHTML']=_0x4e7cf3||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x353747>0x0&&_0x552bd1===_0x353747&&revealAnswerForAdmin(_0x3e9a32,currentQuizData['questions'][_0x516a80(0x636)]);}else{const _0x2015db=_0x236f74['players'][currentStudentName];_0x2015db&&!_0x2015db[_0x516a80(0x5ba)]&&showStudentLiveQuestionView(_0xbdb1d9,_0x3e9a32,currentQuizData[_0x516a80(0x5cd)][_0x516a80(0x636)]);}break;}}break;case _0x516a80(0xc5d):showPodiumView(_0x236f74[_0x516a80(0x8d9)],_0x516a80(0x9b7));break;}});}async function openGlobalActivityModal(){const _0x1fb765=_0x3a383e;if(allQuizzesGlobal['length']===0x0){const _0x15fb68=await getDocs(collection(db,_0x1fb765(0xc93)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x15fb68['docs'][_0x1fb765(0x75d)](_0x80ab7a=>({'id':_0x80ab7a['id'],..._0x80ab7a[_0x1fb765(0x183)]()}));}renderGlobalActivityList(''),document['getElementById'](_0x1fb765(0x853))['classList'][_0x1fb765(0xb01)]('hidden');}function renderGlobalActivityList(_0x43e060=''){const _0x48e9e1=_0x3a383e,_0x3653e4=document['getElementById'](_0x48e9e1(0x79a)),_0x36208a=_0x43e060[_0x48e9e1(0x883)]()[_0x48e9e1(0x887)](),_0x3879ee=allQuizzesGlobal[_0x48e9e1(0x75d)](_0x3a1da9=>({..._0x3a1da9,'projectName':allProjects[_0x48e9e1(0x51d)](_0x1a2df0=>_0x1a2df0['id']===_0x3a1da9[_0x48e9e1(0x88a)])?.[_0x48e9e1(0x217)]||_0x48e9e1(0x484)}))[_0x48e9e1(0x499)](_0x6091c3=>(_0x6091c3[_0x48e9e1(0x65f)]||'')['toLowerCase']()[_0x48e9e1(0x27b)](_0x36208a)||(_0x6091c3[_0x48e9e1(0x217)]||'')['toLowerCase']()[_0x48e9e1(0x27b)](_0x36208a));document['getElementById'](_0x48e9e1(0x570))['textContent']='('+_0x3879ee[_0x48e9e1(0x636)]+_0x48e9e1(0x4b0),_0x3653e4[_0x48e9e1(0x377)]=_0x3879ee[_0x48e9e1(0x636)]?_0x3879ee[_0x48e9e1(0x75d)](_0x2eeed7=>_0x48e9e1(0x53a)+(_0x2eeed7[_0x48e9e1(0x65f)]||_0x48e9e1(0x96d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x2eeed7['questions']?.[_0x48e9e1(0x636)]||0x0)+_0x48e9e1(0x31e)+_0x2eeed7[_0x48e9e1(0x217)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2eeed7['id']+_0x48e9e1(0x920)+_0x2eeed7['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2eeed7['id']+_0x48e9e1(0x3c4)+_0x2eeed7['id']+_0x48e9e1(0xb74))[_0x48e9e1(0xa89)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x202e7f){const _0x312912=_0x3a383e;if(!currentLiveGameId||!_0x202e7f)return;const _0x25e664=doc(db,_0x312912(0xc93)+appId+_0x312912(0x291),currentLiveGameId),_0xa3e872={};_0xa3e872[_0x312912(0xa02)+_0x202e7f+_0x312912(0x733)]=_0x312912(0xa07);try{await updateDoc(_0x25e664,_0xa3e872);}catch(_0x112b9a){console[_0x312912(0x2e9)](_0x312912(0x99c)+_0x202e7f+':',_0x112b9a),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x31d126=_0x3a383e;try{typeof __initial_auth_token!==_0x31d126(0xb75)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1c6663){console[_0x31d126(0x2e9)](_0x31d126(0x8f0),_0x1c6663),showMessage(_0x31d126(0x42f));}}function showView(_0x2d8365){const _0x25c260=_0x3a383e;adminView['classList'][_0x25c260(0x350)](_0x25c260(0x9d2)),studentView[_0x25c260(0x4c1)][_0x25c260(0x350)]('hidden'),projectDashboardView[_0x25c260(0x4c1)][_0x25c260(0x350)]('hidden'),projectDetailView['classList']['add'](_0x25c260(0x9d2)),quizResultsView['classList'][_0x25c260(0x350)](_0x25c260(0x9d2)),liveGameView['classList']['add'](_0x25c260(0x9d2)),document[_0x25c260(0x552)](_0x25c260(0x7cf))[_0x25c260(0x4c1)][_0x25c260(0x350)]('hidden'),studentInitialView[_0x25c260(0x4c1)][_0x25c260(0x350)]('hidden'),studentJoinGameView[_0x25c260(0x4c1)]['add'](_0x25c260(0x9d2)),studentNameSelectionView[_0x25c260(0x4c1)][_0x25c260(0x350)]('hidden'),studentQuizArea[_0x25c260(0x4c1)][_0x25c260(0x350)](_0x25c260(0x9d2)),studentResultArea[_0x25c260(0x4c1)][_0x25c260(0x350)](_0x25c260(0x9d2)),studentReadingArea['classList'][_0x25c260(0x350)](_0x25c260(0x9d2));const _0x41b709=document[_0x25c260(0x552)]('student-team-selection-view'),_0x4a1171=document[_0x25c260(0x552)](_0x25c260(0x759));if(_0x41b709)_0x41b709[_0x25c260(0x4c1)][_0x25c260(0x350)](_0x25c260(0x9d2));if(_0x4a1171)_0x4a1171[_0x25c260(0x4c1)][_0x25c260(0x350)](_0x25c260(0x9d2));switch(_0x2d8365){case _0x25c260(0x1ec):adminView[_0x25c260(0x4c1)][_0x25c260(0xb01)]('hidden'),projectDashboardView[_0x25c260(0x4c1)]['remove']('hidden');break;case _0x25c260(0x76f):adminView[_0x25c260(0x4c1)]['remove'](_0x25c260(0x9d2)),projectDetailView[_0x25c260(0x4c1)]['remove'](_0x25c260(0x9d2));break;case'quiz-results':adminView[_0x25c260(0x4c1)]['remove']('hidden'),quizResultsView[_0x25c260(0x4c1)]['remove'](_0x25c260(0x9d2));break;case'student':studentView['classList'][_0x25c260(0xb01)](_0x25c260(0x9d2)),studentInitialView[_0x25c260(0x4c1)][_0x25c260(0xb01)]('hidden');break;case _0x25c260(0x7e0):liveGameView[_0x25c260(0x4c1)][_0x25c260(0xb01)](_0x25c260(0x9d2));break;case _0x25c260(0xc9a):studentView[_0x25c260(0x4c1)][_0x25c260(0xb01)](_0x25c260(0x9d2));if(_0x41b709)_0x41b709['classList']['remove'](_0x25c260(0x9d2));break;case _0x25c260(0xc41):studentView[_0x25c260(0x4c1)]['remove']('hidden');if(_0x4a1171)_0x4a1171[_0x25c260(0x4c1)]['remove'](_0x25c260(0x9d2));break;default:studentView[_0x25c260(0x4c1)][_0x25c260(0xb01)](_0x25c260(0x9d2)),studentInitialView[_0x25c260(0x4c1)]['remove'](_0x25c260(0x9d2));break;}}function showJoinGameView(){const _0x5f5e51=_0x3a383e;studentInitialView[_0x5f5e51(0x4c1)]['add']('hidden'),studentJoinGameView[_0x5f5e51(0x4c1)][_0x5f5e51(0xb01)](_0x5f5e51(0x9d2));}async function handleSaveVisibilitySettings(){const _0x1b2fc5=_0x3a383e;if(!currentProjectId)return;const _0x319a44=doc(db,_0x1b2fc5(0xc93)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x319a44,{'settings.showInStudentDashboard':document[_0x1b2fc5(0x552)](_0x1b2fc5(0x249))[_0x1b2fc5(0xd08)],'settings.isPasscodeEnabled':document[_0x1b2fc5(0x552)]('enable-passcode-checkbox')[_0x1b2fc5(0xd08)],'settings.passcode':document[_0x1b2fc5(0x552)]('project-passcode-input')[_0x1b2fc5(0x203)][_0x1b2fc5(0x887)]()}),showMessage(_0x1b2fc5(0x3e7));}catch(_0x17e7ca){console[_0x1b2fc5(0x2e9)](_0x1b2fc5(0x335),_0x17e7ca),showMessage(_0x1b2fc5(0x492));}}function setupEventListeners(){const _0x5de9f1=_0x3a383e,_0xd417=document[_0x5de9f1(0x552)]('dim-overlay');_0xd417&&(_0xd417[_0x5de9f1(0x224)]('mousedown',wakeUpScreen),_0xd417[_0x5de9f1(0x224)](_0x5de9f1(0x3f4),wakeUpScreen));document[_0x5de9f1(0x552)](_0x5de9f1(0x1be))[_0x5de9f1(0x224)]('click',async()=>{const _0x2d4ae8=_0x5de9f1;if(!currentBlueprintProjectId)return;const _0x4c4f67=document[_0x2d4ae8(0x552)](_0x2d4ae8(0xb56))[_0x2d4ae8(0x203)][_0x2d4ae8(0x887)](),_0x275523=doc(db,_0x2d4ae8(0xc93)+appId+_0x2d4ae8(0x8f3),currentBlueprintProjectId);try{await updateDoc(_0x275523,{'referenceFileUrl':_0x4c4f67}),showMessage(_0x2d4ae8(0x1fb));}catch(_0x295409){console[_0x2d4ae8(0x2e9)](_0x2d4ae8(0x9d5),_0x295409),showMessage(_0x2d4ae8(0x492));}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x201))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleAddParallelShortcutTab),document[_0x5de9f1(0x552)](_0x5de9f1(0xc9e))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x4e28f1=>{const _0x1e0646=_0x5de9f1;_0x4e28f1[_0x1e0646(0x19c)][_0x1e0646(0xc1b)](_0x1e0646(0x1f8))&&(activeParallelShortcutTabId=_0x1e0646(0x258),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x1e0646(0x8c6))[_0x1e0646(0x4c1)][_0x1e0646(0xb01)](_0x1e0646(0x9d2)));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x3ed))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x2a08b5=_0x5de9f1;document[_0x2a08b5(0x552)](_0x2a08b5(0x8c6))[_0x2a08b5(0x4c1)][_0x2a08b5(0x350)](_0x2a08b5(0x9d2));}),document[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x22396c=>{const _0x119a91=_0x5de9f1;!_0x22396c['target'][_0x119a91(0xc1b)](_0x119a91(0xcbf))&&document[_0x119a91(0x3e0)](_0x119a91(0x1fd))[_0x119a91(0x1f5)](_0x21fa12=>_0x21fa12[_0x119a91(0x4c1)][_0x119a91(0x350)]('hidden'));}),document['getElementById'](_0x5de9f1(0x71e))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleAddFileShortcutTab),document[_0x5de9f1(0x552)]('file-input-area')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x156d59=>{const _0xf23c97=_0x5de9f1;_0x156d59[_0xf23c97(0x19c)]['closest'](_0xf23c97(0x8c5))&&(activeFileShortcutTabId=_0xf23c97(0x258),renderAdditionalFileShortcutsModal(),document[_0xf23c97(0x552)](_0xf23c97(0x670))[_0xf23c97(0x4c1)][_0xf23c97(0xb01)](_0xf23c97(0x9d2)));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x3e6))['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x260fd0=_0x5de9f1;document[_0x260fd0(0x552)](_0x260fd0(0x670))['classList']['add']('hidden');}),document[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x3073f3=>{const _0x12cee7=_0x5de9f1;!_0x3073f3[_0x12cee7(0x19c)]['closest'](_0x12cee7(0x970))&&document[_0x12cee7(0x3e0)](_0x12cee7(0x436))['forEach'](_0x43d981=>_0x43d981['classList']['add']('hidden'));}),document[_0x5de9f1(0x552)](_0x5de9f1(0xc2d))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleAddShortcutTab),document[_0x5de9f1(0x552)]('parallel-shortcut-container')['addEventListener']('click',_0x5462e0=>{const _0x26de25=_0x5de9f1,_0x3bddc6=_0x5462e0[_0x26de25(0x19c)][_0x26de25(0xc1b)](_0x26de25(0x184)),_0x42ee78=_0x5462e0[_0x26de25(0x19c)][_0x26de25(0xc1b)](_0x26de25(0x399)),_0x39f128=_0x5462e0[_0x26de25(0x19c)]['closest']('.delete-parallel-shortcut-btn');if(_0x42ee78)openParallelTestShortcutEditor(_0x42ee78['dataset']['id']);else{if(_0x39f128){const _0x3264ce=_0x39f128[_0x26de25(0x79d)]['id'];showConfirmation(_0x26de25(0xc66),async()=>{const _0x582b7b=_0x26de25,_0x42101a=parallelTestShortcuts[_0x582b7b(0x499)](_0x24858a=>_0x24858a['id']!==_0x3264ce),_0x195baf=doc(db,'globalSettings',_0x582b7b(0x934));await setDoc(_0x195baf,{'shortcuts':_0x42101a},{'merge':!![]});});}else _0x3bddc6&&handleParallelTestShortcutClick(_0x3bddc6[_0x26de25(0x79d)]['id']);}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x6bc))['addEventListener'](_0x5de9f1(0x43a),()=>openParallelTestShortcutEditor(null)),document[_0x5de9f1(0x552)](_0x5de9f1(0x2a0))['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x2d03d2=_0x5de9f1;document[_0x2d03d2(0x552)](_0x2d03d2(0x503))['classList'][_0x2d03d2(0x350)]('hidden');}),document['getElementById'](_0x5de9f1(0xc6b))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),saveParallelTestShortcutChanges),document[_0x5de9f1(0x552)](_0x5de9f1(0xc9e))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x278c01=>{const _0x36ce12=_0x5de9f1;_0x278c01[_0x36ce12(0x19c)][_0x36ce12(0xc1b)](_0x36ce12(0x1f8))&&document[_0x36ce12(0x552)](_0x36ce12(0x8c6))[_0x36ce12(0x4c1)][_0x36ce12(0xb01)](_0x36ce12(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x3ed))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0xa28776=_0x5de9f1;document[_0xa28776(0x552)](_0xa28776(0x8c6))['classList'][_0xa28776(0x350)](_0xa28776(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0xaa9))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x2a16fd=>{const _0x596014=_0x5de9f1,_0x3e8cf0=document['getElementById'](_0x596014(0x8c6)),_0x1acde1=_0x2a16fd[_0x596014(0x19c)][_0x596014(0xc1b)](_0x596014(0x8e5)),_0x265a24=_0x2a16fd[_0x596014(0x19c)][_0x596014(0xc1b)](_0x596014(0xa95)),_0x2e26e1=_0x2a16fd[_0x596014(0x19c)]['closest'](_0x596014(0x60a));if(_0x1acde1)_0x3e8cf0[_0x596014(0x4c1)]['add'](_0x596014(0x9d2)),handleParallelTestShortcutClick(_0x1acde1[_0x596014(0x79d)]['id']);else{if(_0x265a24)_0x3e8cf0['classList']['add'](_0x596014(0x9d2)),openParallelTestShortcutEditor(_0x265a24['dataset']['id']);else{if(_0x2e26e1){const _0xf23a5b=_0x2e26e1[_0x596014(0x79d)]['id'];showConfirmation(_0x596014(0xc66),async()=>{const _0x2e54fa=_0x596014,_0x3efc00=parallelTestShortcuts[_0x2e54fa(0x499)](_0x3ea9f3=>_0x3ea9f3['id']!==_0xf23a5b),_0x4ead73=doc(db,_0x2e54fa(0x182),_0x2e54fa(0x934));await setDoc(_0x4ead73,{'shortcuts':_0x3efc00},{'merge':!![]});});}}}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x5dd))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0xccbb5b=>{const _0x165ec=_0x5de9f1,_0x170106=_0xccbb5b[_0x165ec(0x19c)][_0x165ec(0xc1b)](_0x165ec(0x21e)),_0x6ecc2d=_0xccbb5b[_0x165ec(0x19c)][_0x165ec(0xc1b)](_0x165ec(0x9e1)),_0x281ebe=_0xccbb5b[_0x165ec(0x19c)]['closest'](_0x165ec(0x387));if(_0x6ecc2d)openFileShortcutEditor(_0x6ecc2d['dataset']['id']);else{if(_0x281ebe){const _0x732a1=_0x281ebe[_0x165ec(0x79d)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x513a72=_0x165ec,_0x478aac=fileShortcuts[_0x513a72(0x499)](_0x20d54e=>_0x20d54e['id']!==_0x732a1),_0xa394aa=doc(db,_0x513a72(0x182),_0x513a72(0x85c));await setDoc(_0xa394aa,{'shortcuts':_0x478aac},{'merge':!![]});});}else _0x170106&&handleFileShortcutClick(_0x170106[_0x165ec(0x79d)]['id']);}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x1db))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>openFileShortcutEditor(null)),document[_0x5de9f1(0x552)]('cancel-file-shortcut-edit-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x1cfc26=_0x5de9f1;document[_0x1cfc26(0x552)]('file-shortcut-editor-modal')[_0x1cfc26(0x4c1)][_0x1cfc26(0x350)](_0x1cfc26(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x4de))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),saveFileShortcutChanges),document[_0x5de9f1(0x552)](_0x5de9f1(0x8a6))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0xed47d3=>{const _0x4364a4=_0x5de9f1;_0xed47d3[_0x4364a4(0x19c)][_0x4364a4(0xc1b)]('#open-additional-file-shortcuts-btn')&&document['getElementById'](_0x4364a4(0x670))[_0x4364a4(0x4c1)][_0x4364a4(0xb01)](_0x4364a4(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x3e6))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x19087c=_0x5de9f1;document[_0x19087c(0x552)]('additional-file-shortcuts-modal')[_0x19087c(0x4c1)]['add'](_0x19087c(0x9d2));}),document['getElementById'](_0x5de9f1(0x1b8))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x3b39dd=>{const _0x3949d7=_0x5de9f1,_0x4901d6=document[_0x3949d7(0x552)](_0x3949d7(0x670)),_0x5084ed=_0x3b39dd[_0x3949d7(0x19c)][_0x3949d7(0xc1b)]('.use-hidden-file-shortcut-btn'),_0x235a28=_0x3b39dd[_0x3949d7(0x19c)][_0x3949d7(0xc1b)](_0x3949d7(0x5d6)),_0x40a186=_0x3b39dd[_0x3949d7(0x19c)][_0x3949d7(0xc1b)](_0x3949d7(0x39a));if(_0x5084ed)_0x4901d6[_0x3949d7(0x4c1)][_0x3949d7(0x350)](_0x3949d7(0x9d2)),handleFileShortcutClick(_0x5084ed[_0x3949d7(0x79d)]['id']);else{if(_0x235a28)_0x4901d6[_0x3949d7(0x4c1)][_0x3949d7(0x350)](_0x3949d7(0x9d2)),openFileShortcutEditor(_0x235a28['dataset']['id']);else{if(_0x40a186){const _0xb24d6d=_0x40a186[_0x3949d7(0x79d)]['id'];showConfirmation(_0x3949d7(0xc66),async()=>{const _0x37b526=_0x3949d7,_0xc725f6=fileShortcuts[_0x37b526(0x499)](_0x2e754e=>_0x2e754e['id']!==_0xb24d6d),_0x8436ff=doc(db,_0x37b526(0x182),_0x37b526(0x85c));await setDoc(_0x8436ff,{'shortcuts':_0xc725f6},{'merge':!![]});});}}}}),document['getElementById'](_0x5de9f1(0x65c))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x1ecc0c=>{const _0x16954e=_0x5de9f1;_0x1ecc0c[_0x16954e(0x19c)][_0x16954e(0xc1b)](_0x16954e(0xbda))&&(activeShortcutTabId=_0x16954e(0x258),renderAdditionalShortcutsModal(),document[_0x16954e(0x552)](_0x16954e(0x262))['classList'][_0x16954e(0xb01)]('hidden'));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x1c5))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x399a09=_0x5de9f1;document[_0x399a09(0x552)](_0x399a09(0x262))[_0x399a09(0x4c1)]['add'](_0x399a09(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x20e))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x15b6cb=>{const _0x5946d1=_0x5de9f1,_0xb72f12=_0x15b6cb[_0x5946d1(0x19c)][_0x5946d1(0xc1b)](_0x5946d1(0x212)),_0x4ffd51=_0x15b6cb['target'][_0x5946d1(0xc1b)](_0x5946d1(0xb97)),_0x4b5b78=_0x15b6cb[_0x5946d1(0x19c)]['closest'](_0x5946d1(0x763)),_0x5719b1=document[_0x5946d1(0x552)](_0x5946d1(0x262));if(_0xb72f12)_0x5719b1['classList'][_0x5946d1(0x350)]('hidden'),handleShortcutClick(_0xb72f12[_0x5946d1(0x79d)]['id']);else{if(_0x4ffd51)_0x5719b1[_0x5946d1(0x4c1)]['add'](_0x5946d1(0x9d2)),openShortcutEditor(_0x4ffd51['dataset']['id']);else{if(_0x4b5b78){const _0x1b9e6d=_0x4b5b78[_0x5946d1(0x79d)]['id'],_0x15774b=blueprintShortcuts['find'](_0x4e33ab=>_0x4e33ab['id']===_0x1b9e6d)?.[_0x5946d1(0xce5)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x15774b+'\x22?',async()=>{const _0x3d4228=_0x5946d1,_0x229456=blueprintShortcuts[_0x3d4228(0x499)](_0x2e797b=>_0x2e797b['id']!==_0x1b9e6d);try{const _0xa2d1fb=doc(db,_0x3d4228(0x182),_0x3d4228(0x1f2));await setDoc(_0xa2d1fb,{'blueprintShortcuts':_0x229456},{'merge':!![]});}catch(_0x1cf479){console['error'](_0x3d4228(0xaa7),_0x1cf479);}});}}}}),document[_0x5de9f1(0x552)](_0x5de9f1(0xc5f))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x36ff04=>{const _0x5344f3=_0x5de9f1,_0x48afd2=_0x36ff04[_0x5344f3(0x19c)][_0x5344f3(0xc1b)](_0x5344f3(0x4ae)),_0x15908d=_0x36ff04[_0x5344f3(0x19c)][_0x5344f3(0xc1b)]('.edit-shortcut-btn'),_0x42db39=_0x36ff04[_0x5344f3(0x19c)][_0x5344f3(0xc1b)](_0x5344f3(0x228));if(_0x15908d)openShortcutEditor(_0x15908d[_0x5344f3(0x79d)]['id']);else{if(_0x42db39){const _0xedbfd1=_0x42db39[_0x5344f3(0x79d)]['id'],_0x167b42=blueprintShortcuts[_0x5344f3(0x51d)](_0x496803=>_0x496803['id']===_0xedbfd1)?.[_0x5344f3(0xce5)];showConfirmation(_0x5344f3(0x8ec)+_0x167b42+'\x22?',async()=>{const _0x2b5693=_0x5344f3,_0x20963b=blueprintShortcuts[_0x2b5693(0x499)](_0x4edc3d=>_0x4edc3d['id']!==_0xedbfd1);try{const _0x29af06=doc(db,_0x2b5693(0x182),_0x2b5693(0x1f2));await setDoc(_0x29af06,{'blueprintShortcuts':_0x20963b},{'merge':!![]});}catch(_0x204450){console[_0x2b5693(0x2e9)](_0x2b5693(0xaa7),_0x204450);}});}else _0x48afd2&&handleShortcutClick(_0x48afd2[_0x5344f3(0x79d)]['id']);}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x255))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>openShortcutEditor(null)),document['getElementById'](_0x5de9f1(0x981))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x12404a=_0x5de9f1;document['getElementById'](_0x12404a(0x671))['classList'][_0x12404a(0x350)](_0x12404a(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x2b6))['addEventListener'](_0x5de9f1(0x43a),saveShortcutChanges),document[_0x5de9f1(0x552)](_0x5de9f1(0x63a))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),async()=>{const _0x439817=_0x5de9f1,_0xbf4002=document['getElementById'](_0x439817(0x463)),_0x5bf54b=document[_0x439817(0x552)](_0x439817(0xb5f));_0xbf4002[_0x439817(0x5a9)][_0x439817(0x636)]>0x0?await handleGenerateFromBlueprintWithFiles(_0xbf4002[_0x439817(0x5a9)][0x0],_0x5bf54b['files'][0x0]||null):showMessage(_0x439817(0x691));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x60f))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),async _0x11d907=>{const _0x1bcd7f=_0x5de9f1,_0x1a78fa=document['getElementById'](_0x1bcd7f(0x60f)),_0x469d4c=_0x11d907[_0x1bcd7f(0x19c)][_0x1bcd7f(0xc1b)]('.bp-view-analysis-btn'),_0x151594=_0x11d907[_0x1bcd7f(0x19c)]['closest'](_0x1bcd7f(0x5ed)),_0x39da9b=_0x11d907[_0x1bcd7f(0x19c)][_0x1bcd7f(0xc1b)](_0x1bcd7f(0x4c8)),_0x215809=_0x11d907[_0x1bcd7f(0x19c)][_0x1bcd7f(0xc1b)](_0x1bcd7f(0x294)),_0x32503d=_0x11d907[_0x1bcd7f(0x19c)][_0x1bcd7f(0xc1b)]('.bp-live-btn'),_0x331489=_0x11d907[_0x1bcd7f(0x19c)][_0x1bcd7f(0xc1b)](_0x1bcd7f(0x2e0));if(_0x469d4c){cameFromBlueprint=!![];const _0x21bac8=_0x469d4c['dataset']['quizId'];showQuizDetailView(_0x21bac8),_0x1a78fa[_0x1bcd7f(0x4c1)][_0x1bcd7f(0x350)](_0x1bcd7f(0x9d2));}else{if(_0x151594){const _0x109446=_0x151594[_0x1bcd7f(0x79d)]['topicId'],_0x30ffcc=_0x151594['dataset'][_0x1bcd7f(0x1e8)],_0x5c3c37=allQuizzesGlobal[_0x1bcd7f(0x51d)](_0xd31f0f=>_0xd31f0f['id']===_0x30ffcc),_0x901efa=_0x5c3c37?_0x5c3c37[_0x1bcd7f(0x65f)]:_0x1bcd7f(0x8a3);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x901efa+_0x1bcd7f(0x31a),async()=>{const _0x3c1ce3=_0x1bcd7f;try{const _0x46e3c8=doc(db,_0x3c1ce3(0xc93)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x46e3c8,{[_0x3c1ce3(0xa00)+_0x109446+_0x3c1ce3(0x195)]:arrayRemove(_0x30ffcc)}),showMessage(_0x3c1ce3(0x8b8)),openTopicQuizBank(_0x109446),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x55ecf3){console[_0x3c1ce3(0x2e9)](_0x3c1ce3(0x2f2),_0x55ecf3),showMessage(_0x3c1ce3(0x197));}});}else{if(_0x39da9b){cameFromBlueprint=!![];const _0xb012a6=_0x39da9b[_0x1bcd7f(0x79d)][_0x1bcd7f(0x1e8)],_0x234056=allQuizzesGlobal[_0x1bcd7f(0x51d)](_0x2094ee=>_0x2094ee['id']===_0xb012a6);_0x234056&&(startPresentation(_0x234056),_0x1a78fa[_0x1bcd7f(0x4c1)][_0x1bcd7f(0x350)](_0x1bcd7f(0x9d2)));}else{if(_0x215809){cameFromBlueprint=!![];const _0x1c701d=_0x215809['dataset'][_0x1bcd7f(0x1e8)],_0x567ee6=allQuizzesGlobal[_0x1bcd7f(0x51d)](_0x258820=>_0x258820['id']===_0x1c701d);_0x567ee6&&(currentQuizData=_0x567ee6,startAdminTest(),_0x1a78fa[_0x1bcd7f(0x4c1)][_0x1bcd7f(0x350)](_0x1bcd7f(0x9d2)));}else{if(_0x32503d)cameFromBlueprint=!![],handleStartLiveRace(_0x32503d[_0x1bcd7f(0x79d)][_0x1bcd7f(0x1e8)]),_0x1a78fa['classList'][_0x1bcd7f(0x350)](_0x1bcd7f(0x9d2));else{if(_0x331489){cameFromBlueprint=!![];const _0x9df0a9=_0x331489[_0x1bcd7f(0x79d)][_0x1bcd7f(0x1e8)],_0x1043c6=_0x331489[_0x1bcd7f(0x79d)][_0x1bcd7f(0x657)],_0x2ca32c=allQuizzesGlobal[_0x1bcd7f(0x51d)](_0x199191=>_0x199191['id']===_0x9df0a9);_0x2ca32c&&(showGameStartConfirmationModal(_0x9df0a9,_0x1043c6,_0x2ca32c[_0x1bcd7f(0x65f)]),_0x1a78fa[_0x1bcd7f(0x4c1)][_0x1bcd7f(0x350)](_0x1bcd7f(0x9d2)));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x16f0ea=_0x5de9f1;document[_0x16f0ea(0x552)]('manual-blueprint-modal')['classList']['remove']('hidden'),document[_0x16f0ea(0x552)](_0x16f0ea(0x76b))[_0x16f0ea(0x203)]='',document[_0x16f0ea(0x552)](_0x16f0ea(0x8d6))[_0x16f0ea(0x203)]='',document[_0x16f0ea(0x552)](_0x16f0ea(0xae5))['value']='';}),document[_0x5de9f1(0x552)](_0x5de9f1(0xaa1))['addEventListener']('click',()=>{const _0x26b205=_0x5de9f1;document[_0x26b205(0x552)](_0x26b205(0x536))['classList'][_0x26b205(0x350)](_0x26b205(0x9d2));}),document['getElementById'](_0x5de9f1(0x199))['addEventListener'](_0x5de9f1(0x43a),handleManualBlueprintSave),document[_0x5de9f1(0x552)](_0x5de9f1(0x87b))[_0x5de9f1(0x224)]('click',()=>document[_0x5de9f1(0x552)]('blueprint-settings-modal')['classList'][_0x5de9f1(0x350)](_0x5de9f1(0x9d2))),document[_0x5de9f1(0x552)](_0x5de9f1(0x701))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleSaveBlueprintPageSettings),document[_0x5de9f1(0x552)]('bp-quiz-settings-btn')['addEventListener'](_0x5de9f1(0x43a),openBlueprintQuizSettings),document[_0x5de9f1(0x552)](_0x5de9f1(0x80e))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),saveBlueprintProject),document['getElementById'](_0x5de9f1(0x556))[_0x5de9f1(0x224)]('click',showBlueprintProjects),document['getElementById'](_0x5de9f1(0x5b2))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x228ff6=_0x5de9f1;document['getElementById'](_0x228ff6(0x6d0))[_0x228ff6(0x4c1)][_0x228ff6(0x350)](_0x228ff6(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x544))[_0x5de9f1(0x224)]('click',_0x34a994=>{const _0x43b1f7=_0x5de9f1,_0x4a0205=_0x34a994[_0x43b1f7(0x19c)][_0x43b1f7(0xc1b)](_0x43b1f7(0x919)),_0x3feb76=_0x34a994[_0x43b1f7(0x19c)]['closest'](_0x43b1f7(0x20c));if(_0x4a0205)displayBlueprintProjectManager(_0x4a0205[_0x43b1f7(0x79d)]['id']);else _0x3feb76&&handleDeepDeleteBlueprintProject(_0x3feb76[_0x43b1f7(0x79d)]['id']);}),document[_0x5de9f1(0x552)](_0x5de9f1(0x938))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x386d4e=_0x5de9f1;currentBlueprintProjectId=null,currentProjectId=null,document[_0x386d4e(0x552)](_0x386d4e(0x7cf))[_0x386d4e(0x4c1)][_0x386d4e(0x350)](_0x386d4e(0x9d2)),showView(_0x386d4e(0x1ec));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x9da))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),addTopicToProject),document[_0x5de9f1(0x552)](_0x5de9f1(0x614))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),async _0x4f037e=>{const _0x3cbe8e=_0x5de9f1,_0x10208c=_0x4f037e['target']['closest'](_0x3cbe8e(0xba3));if(!_0x10208c)return;const _0x207298=_0x10208c[_0x3cbe8e(0x79d)]['topicId'],_0x3b1be4=_0x4f037e['target']['closest'](_0x3cbe8e(0x68f)),_0x1a2047=_0x4f037e[_0x3cbe8e(0x19c)][_0x3cbe8e(0xc1b)](_0x3cbe8e(0x999)),_0x3eeeb7=_0x4f037e[_0x3cbe8e(0x19c)]['closest'](_0x3cbe8e(0x600)),_0x42977d=_0x4f037e['target']['closest'](_0x3cbe8e(0xcd6)),_0x7cd51d=_0x4f037e['target']['closest'](_0x3cbe8e(0xb14)),_0x2f7b33=_0x4f037e[_0x3cbe8e(0x19c)][_0x3cbe8e(0xc1b)](_0x3cbe8e(0x36e)),_0x5f13b7=_0x4f037e['target'][_0x3cbe8e(0xc1b)](_0x3cbe8e(0xad4)),_0x9af44=_0x4f037e[_0x3cbe8e(0x19c)][_0x3cbe8e(0xc1b)](_0x3cbe8e(0xa73)),_0x23d96c=_0x590e3d=>{const _0x2b94bc=_0x3cbe8e,_0xf50ce6=_0x590e3d[_0x2b94bc(0x972)](_0x2b94bc(0x891))[_0x2b94bc(0x37a)][_0x2b94bc(0x887)](),_0x375536=_0x590e3d['closest'](_0x2b94bc(0x6a2))[_0x2b94bc(0x24a)],_0x33a6e0=_0x375536?_0x375536[_0x2b94bc(0x37a)]['trim']():'';return _0x33a6e0+':\x20'+_0xf50ce6;};if(_0x42977d)openTopicQuizBank(_0x207298);else{if(_0x3b1be4){const _0x280de3=_0x23d96c(_0x10208c);selectProjectAndGenerateBlueprintQuiz(_0x280de3,null,_0x207298,!![]);}else{if(_0x1a2047){const _0x2091e8=_0x23d96c(_0x10208c);try{const _0x3e21fe=doc(db,'artifacts/'+appId+_0x3cbe8e(0x990)+currentBlueprintProjectId+'/lessons',_0x207298),_0x5c9cc6=await getDoc(_0x3e21fe);if(_0x5c9cc6['exists']()){const _0x49a2ee=_0x5c9cc6['data']()[_0x3cbe8e(0xc4f)],_0x54e138=document['createElement'](_0x3cbe8e(0x3f7)),_0x2607f9=_0x2fa92d=>{const _0x44a827=_0x3cbe8e;if(!_0x2fa92d)return'';return _0x54e138[_0x44a827(0x377)]=_0x2fa92d,_0x54e138[_0x44a827(0x37a)]||_0x54e138[_0x44a827(0x7a4)]||'';},_0x4bbf8a=(_0x2607f9(_0x49a2ee[_0x3cbe8e(0x45b)])+'\x20'+_0x2607f9(_0x49a2ee['memory'])+'\x20'+_0x2607f9(_0x49a2ee[_0x3cbe8e(0x6c4)]))[_0x3cbe8e(0x887)]();selectProjectAndGenerateBlueprintQuiz(_0x2091e8,_0x4bbf8a,_0x207298,![]);}else showMessage(_0x3cbe8e(0xb67));}catch(_0x3e4734){console[_0x3cbe8e(0x2e9)](_0x3cbe8e(0x51f),_0x3e4734),showMessage(_0x3cbe8e(0xc34));}}else{if(_0x3eeeb7){const _0x1fd0e2=_0x23d96c(_0x10208c);selectProjectAndGenerateBlueprintQuiz(_0x1fd0e2,null,_0x207298,![]);}else{if(_0x7cd51d){const _0x56abc6=doc(db,_0x3cbe8e(0xc93)+appId+_0x3cbe8e(0x8f3),currentBlueprintProjectId),_0x5f96f9=await getDoc(_0x56abc6);if(_0x5f96f9['exists']()){const _0x250067=_0x5f96f9[_0x3cbe8e(0x183)](),_0x4898d5=_0x250067['topics'][_0x207298];if(_0x4898d5&&_0x4898d5[_0x3cbe8e(0xb09)]==='generated')try{const _0x254ab0=doc(db,_0x3cbe8e(0xc93)+appId+_0x3cbe8e(0x990)+currentBlueprintProjectId+_0x3cbe8e(0x366),_0x207298),_0xe50c90=await getDoc(_0x254ab0);if(_0xe50c90['exists']()){const _0xb3ed9=_0xe50c90[_0x3cbe8e(0x183)]()['content'];document[_0x3cbe8e(0x552)](_0x3cbe8e(0x86e))[_0x3cbe8e(0x37a)]=_0x3cbe8e(0x57f)+_0x23d96c(_0x10208c),document['getElementById'](_0x3cbe8e(0x831))[_0x3cbe8e(0x377)]=_0xb3ed9[_0x3cbe8e(0x45b)],document['getElementById'](_0x3cbe8e(0x3c2))['innerHTML']=_0xb3ed9[_0x3cbe8e(0xc52)],document[_0x3cbe8e(0x552)](_0x3cbe8e(0x299))[_0x3cbe8e(0x377)]=_0xb3ed9[_0x3cbe8e(0x6c4)];const _0x4efde=document[_0x3cbe8e(0x552)](_0x3cbe8e(0x604));_0xb3ed9[_0x3cbe8e(0x9c0)]?(currentApplicationData=_0xb3ed9['applicationData'],_0x4efde['innerHTML']=currentApplicationData[_0x3cbe8e(0x75d)]((_0x175b4f,_0x577f77)=>_0x3cbe8e(0x8f1)+(_0x577f77+0x1)+'.\x20'+marked[_0x3cbe8e(0x589)](_0x175b4f['question'])+_0x3cbe8e(0x62b)+_0x577f77+_0x3cbe8e(0x290)+_0x175b4f['options']['map']((_0x3680f5,_0x18b1e3)=>_0x3cbe8e(0xa05)+_0x577f77+',\x20'+_0x18b1e3+_0x3cbe8e(0x36f)+String['fromCharCode'](0x61+_0x18b1e3)+'.\x20'+marked[_0x3cbe8e(0x589)](_0x3680f5)+'</button>')['join']('')+_0x3cbe8e(0xaf7))['join']('')):(currentApplicationData=[],_0x4efde[_0x3cbe8e(0x377)]=_0xb3ed9[_0x3cbe8e(0x478)]||_0xb3ed9[_0x3cbe8e(0x9ef)]),document['getElementById']('lesson-loader')['classList'][_0x3cbe8e(0x350)](_0x3cbe8e(0x9d2)),document[_0x3cbe8e(0x552)](_0x3cbe8e(0x38d))[_0x3cbe8e(0x4c1)][_0x3cbe8e(0xb01)](_0x3cbe8e(0x9d2)),document['getElementById']('lesson-view-modal')['classList'][_0x3cbe8e(0xb01)](_0x3cbe8e(0x9d2)),window[_0x3cbe8e(0xc8b)]&&MathJax['typesetPromise']([document[_0x3cbe8e(0x552)]('lesson-view-content')]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x4c4a4e){console[_0x3cbe8e(0x2e9)](_0x3cbe8e(0x6e1),_0x4c4a4e),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x2f7b33){const _0xa7dfd2=_0x23d96c(_0x10208c),_0x167260=doc(db,_0x3cbe8e(0xc93)+appId+_0x3cbe8e(0x8f3),currentBlueprintProjectId),_0x2dc0fe=await getDoc(_0x167260);if(_0x2dc0fe[_0x3cbe8e(0x837)]()){const _0x194ddb=_0x2dc0fe[_0x3cbe8e(0x183)]();generateAndSaveLessonForBlueprint(_0x207298,_0xa7dfd2,_0x194ddb['gradeLevel']);}}else{if(_0x5f13b7)editTopicInProject(_0x207298);else _0x9af44&&deleteTopicFromProject(_0x207298);}}}}}}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x2ed))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleFixLessonLatex),document[_0x5de9f1(0x552)](_0x5de9f1(0x7ea))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleExportLessonToPDF),document[_0x5de9f1(0x552)](_0x5de9f1(0xa06))['addEventListener']('click',()=>{const _0x3971bc=_0x5de9f1;document['getElementById'](_0x3971bc(0x4e0))['classList'][_0x3971bc(0x350)](_0x3971bc(0x9d2));});const _0x234508=document[_0x5de9f1(0x552)]('bulk-confidence-scoring-checkbox'),_0x57c860=document[_0x5de9f1(0x552)](_0x5de9f1(0x2d4));_0x234508['addEventListener'](_0x5de9f1(0x52b),()=>{const _0x3e4a92=_0x5de9f1;_0x57c860[_0x3e4a92(0x4c1)][_0x3e4a92(0x818)](_0x3e4a92(0x9d2),!_0x234508[_0x3e4a92(0xd08)]);});const _0x1d3bf8=document[_0x5de9f1(0x552)]('confidence-scoring-checkbox'),_0x46efc0=document[_0x5de9f1(0x552)](_0x5de9f1(0x37d));_0x1d3bf8[_0x5de9f1(0x224)](_0x5de9f1(0x52b),()=>{const _0x45d285=_0x5de9f1;_0x46efc0[_0x45d285(0x4c1)]['toggle'](_0x45d285(0x9d2),!_0x1d3bf8[_0x45d285(0xd08)]);});const _0x4da3f2=document['getElementById'](_0x5de9f1(0x9e9)),_0x3d282d=document[_0x5de9f1(0x552)](_0x5de9f1(0x223));_0x4da3f2[_0x5de9f1(0x224)](_0x5de9f1(0x52b),()=>{const _0x17c4d8=_0x5de9f1;_0x3d282d[_0x17c4d8(0x4c1)][_0x17c4d8(0x818)](_0x17c4d8(0x9d2),!_0x4da3f2[_0x17c4d8(0xd08)]);});const _0x3a2daa=document['getElementById']('confidence-modal'),_0x23a655=async _0xd07f9e=>{const _0x4a1216=_0x5de9f1,_0x4518a5=document[_0x4a1216(0x552)](_0x4a1216(0xca8)),_0x57dc66=_0x4518a5['dataset'][_0x4a1216(0xb60)],_0x25b745=document[_0x4a1216(0x552)](_0x4a1216(0x845));_0x4518a5[_0x4a1216(0x4c1)][_0x4a1216(0x350)](_0x4a1216(0x9d2));if(_0x57dc66===_0x4a1216(0xbcf)){const _0x171311=_0x25b745[_0x4a1216(0x203)],_0x3a1223={'answer':_0x171311,'wasConfident':_0xd07f9e};proceedToNextQuestion(_0x3a1223);}else{if(_0x57dc66===_0x4a1216(0x9e0)){const _0x473a74=_0x25b745[_0x4a1216(0x79d)][_0x4a1216(0xcc6)],_0x34029c=JSON[_0x4a1216(0xbea)](_0x25b745[_0x4a1216(0x79d)][_0x4a1216(0x807)]),_0x1a19a7=JSON[_0x4a1216(0xbea)](_0x25b745['dataset']['gameData']),_0x58f961=_0x25b745[_0x4a1216(0x79d)][_0x4a1216(0x9b9)];handleSyncAnswerSubmit(_0x473a74,_0x34029c,_0x1a19a7,_0x58f961,_0xd07f9e);}}_0x4518a5['dataset'][_0x4a1216(0xb60)]='';};document[_0x5de9f1(0x552)](_0x5de9f1(0x782))['addEventListener']('click',()=>_0x23a655(!![])),document[_0x5de9f1(0x552)](_0x5de9f1(0x5ff))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>_0x23a655(![])),liveGameView[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0xb0c34e=>{const _0x50b50e=_0x5de9f1,_0x3724ed=_0xb0c34e[_0x50b50e(0x19c)]['closest'](_0x50b50e(0xbe2));if(_0x3724ed){const _0x3c3c45=_0x3724ed[_0x50b50e(0x79d)][_0x50b50e(0x9b9)];_0x3c3c45&&handleKickPlayerSync(_0x3c3c45);}});const _0x494806=document[_0x5de9f1(0x552)](_0x5de9f1(0x681)),_0x5c41ca=document[_0x5de9f1(0x552)](_0x5de9f1(0xca6));_0x5c41ca[_0x5de9f1(0x224)]('click',()=>{const _0x388682=_0x5de9f1;document[_0x388682(0x552)](_0x388682(0xcb6))[_0x388682(0x4c1)][_0x388682(0x350)](_0x388682(0x9d2));}),_0x494806[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x2dd6ba=_0x5de9f1,_0x85e832=document['getElementById'](_0x2dd6ba(0xb5b))[_0x2dd6ba(0x203)],_0x3eda57=document[_0x2dd6ba(0x552)](_0x2dd6ba(0x9d4))[_0x2dd6ba(0x203)],_0x558870=document['getElementById'](_0x2dd6ba(0x210))[_0x2dd6ba(0xd08)];document[_0x2dd6ba(0x552)](_0x2dd6ba(0xcb6))[_0x2dd6ba(0x4c1)][_0x2dd6ba(0x350)](_0x2dd6ba(0x9d2));switch(_0x3eda57){case _0x2dd6ba(0x9b7):handleStartLiveRace(_0x85e832,_0x558870);break;case _0x2dd6ba(0x799):handleStartTeamQuiz(_0x85e832,_0x558870);break;case _0x2dd6ba(0xb3b):handleStartGroupMode(_0x85e832,_0x558870);break;case'sync':handleStartSyncMode(_0x85e832,_0x558870);break;}}),document['getElementById'](_0x5de9f1(0xce3))['addEventListener'](_0x5de9f1(0x43a),handleJoinGroupActivity),liveGameView[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x1cb7f6=>{const _0x4d1b47=_0x5de9f1,_0x41ff1c=_0x1cb7f6[_0x4d1b47(0x19c)][_0x4d1b47(0xc1b)](_0x4d1b47(0x827));document[_0x4d1b47(0x3e0)](_0x4d1b47(0x308))[_0x4d1b47(0x1f5)](_0x14e672=>{const _0xa9e53f=_0x4d1b47;(!_0x41ff1c||_0x14e672['id']!==_0x41ff1c['dataset'][_0xa9e53f(0x300)])&&_0x14e672[_0xa9e53f(0x4c1)][_0xa9e53f(0xb01)](_0xa9e53f(0x311));});if(!_0x41ff1c)return;const _0x3b27f1=_0x41ff1c[_0x4d1b47(0x79d)]['tooltipTarget'],_0x261088=document['getElementById'](_0x3b27f1);_0x261088&&_0x261088[_0x4d1b47(0x4c1)][_0x4d1b47(0x818)](_0x4d1b47(0x311));}),liveGameView[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x3364e2=>{const _0x246a50=_0x5de9f1;if(_0x3364e2[_0x246a50(0x19c)][_0x246a50(0x4c1)][_0x246a50(0x4b7)](_0x246a50(0xbf7))){const _0x513d98=_0x3364e2['target'][_0x246a50(0x79d)][_0x246a50(0x9b9)];_0x513d98&&handleKickPlayer(_0x513d98);}}),document[_0x5de9f1(0x552)]('project-title')['addEventListener']('focus',()=>document['getElementById'](_0x5de9f1(0x5bb))['classList'][_0x5de9f1(0xb01)](_0x5de9f1(0x9d2))),document[_0x5de9f1(0x552)](_0x5de9f1(0x5bb))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleSaveProjectName),document['getElementById'](_0x5de9f1(0x508))[_0x5de9f1(0x224)](_0x5de9f1(0x5b4),_0xf89674=>{const _0x5c797c=_0x5de9f1;_0xf89674[_0x5c797c(0x96e)]===_0x5c797c(0xcf1)&&(_0xf89674['preventDefault'](),_0xf89674[_0x5c797c(0x19c)][_0x5c797c(0xc8f)](),handleSaveProjectName());}),document['getElementById'](_0x5de9f1(0x2f8))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x210771=_0x5de9f1;document['getElementById'](_0x210771(0x49a))[_0x210771(0x4c1)][_0x210771(0xb01)](_0x210771(0x9d2));}),document['getElementById'](_0x5de9f1(0xc17))['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x3dfce7=_0x5de9f1;document[_0x3dfce7(0x552)](_0x3dfce7(0x49a))[_0x3dfce7(0x4c1)][_0x3dfce7(0x350)]('hidden');}),document['getElementById'](_0x5de9f1(0xaa6))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleBulkUpdateQuizSettings),document[_0x5de9f1(0x552)](_0x5de9f1(0x404))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleModeSwitch),document[_0x5de9f1(0x552)](_0x5de9f1(0x677))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleUpdateOldQuizzes),document[_0x5de9f1(0x552)](_0x5de9f1(0x193))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleResetProjectOrder),document[_0x5de9f1(0x552)](_0x5de9f1(0x882))['addEventListener']('click',handleSaveVisibilitySettings),document[_0x5de9f1(0x552)](_0x5de9f1(0x9d8))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleAddCustomMathTopic),document[_0x5de9f1(0x552)](_0x5de9f1(0x918))[_0x5de9f1(0x224)]('click',handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleDeselectAllTopics),document['getElementById'](_0x5de9f1(0x4fb))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document['getElementById'](_0x5de9f1(0xb9e))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x48d66b=_0x5de9f1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x48d66b(0x76f));}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x52a))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x5c3538=_0x5de9f1;showView(_0x5c3538(0x1ec));}),document[_0x5de9f1(0x552)](_0x5de9f1(0xa4f))['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x210d22=_0x5de9f1;messageModal['classList'][_0x210d22(0x350)](_0x210d22(0x9d2)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5de9f1(0x552)](_0x5de9f1(0x6ae))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>createProjectModal[_0x5de9f1(0x4c1)][_0x5de9f1(0xb01)](_0x5de9f1(0x9d2))),document['getElementById'](_0x5de9f1(0x3c9))[_0x5de9f1(0x224)]('click',()=>createProjectModal[_0x5de9f1(0x4c1)][_0x5de9f1(0x350)](_0x5de9f1(0x9d2))),document[_0x5de9f1(0x552)](_0x5de9f1(0x1a9))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>adminPasswordModal[_0x5de9f1(0x4c1)][_0x5de9f1(0x350)](_0x5de9f1(0x9d2))),document['getElementById'](_0x5de9f1(0x9f7))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleAdminLogin),document[_0x5de9f1(0x552)](_0x5de9f1(0xa1c))[_0x5de9f1(0x224)](_0x5de9f1(0x5d2),_0x2c2d42=>{const _0x12b338=_0x5de9f1;if(_0x2c2d42['key']===_0x12b338(0xcf1))handleAdminLogin();}),document[_0x5de9f1(0x552)](_0x5de9f1(0xa7a))['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x2ac5a9=_0x5de9f1;confirmationModal['classList'][_0x2ac5a9(0x350)](_0x2ac5a9(0x9d2)),confirmAction=null;}),document['getElementById'](_0x5de9f1(0x577))[_0x5de9f1(0x224)]('click',()=>{const _0x384f78=_0x5de9f1;confirmAction&&confirmAction(),confirmationModal[_0x384f78(0x4c1)][_0x384f78(0x350)](_0x384f78(0x9d2)),confirmAction=null;}),document['getElementById'](_0x5de9f1(0x42c))[_0x5de9f1(0x224)]('click',()=>renameQuizModal['classList']['add'](_0x5de9f1(0x9d2))),document['getElementById']('confirm-rename-quiz-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),confirmRenameQuiz),document[_0x5de9f1(0x552)](_0x5de9f1(0x6dd))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>moveQuizModal[_0x5de9f1(0x4c1)][_0x5de9f1(0x350)](_0x5de9f1(0x9d2))),document['getElementById'](_0x5de9f1(0x9bb))['addEventListener']('click',confirmMoveQuiz),document[_0x5de9f1(0x552)]('cancel-quiz-settings-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>quizSettingsModal[_0x5de9f1(0x4c1)]['add'](_0x5de9f1(0x9d2))),document[_0x5de9f1(0x552)](_0x5de9f1(0x9c7))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),confirmQuizSettings),document[_0x5de9f1(0x552)](_0x5de9f1(0xc68))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>quizStatusModal[_0x5de9f1(0x4c1)][_0x5de9f1(0x350)](_0x5de9f1(0x9d2))),document[_0x5de9f1(0x552)](_0x5de9f1(0xc8d))['addEventListener'](_0x5de9f1(0x43a),confirmQuizStatus);const _0x443833=document[_0x5de9f1(0x552)]('export-pdf-modal');document[_0x5de9f1(0x552)](_0x5de9f1(0x447))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x43e22c=_0x5de9f1;_0x443833[_0x43e22c(0x4c1)][_0x43e22c(0x350)]('hidden');}),document['getElementById'](_0x5de9f1(0x873))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),async()=>{const _0x2baf1f=_0x5de9f1,_0x5bd270=allQuizzes['find'](_0x101c9b=>_0x101c9b['id']===actionTargetId);_0x5bd270?(currentQuizData=_0x5bd270,exportQuizAsWorksheetPDF()):showMessage(_0x2baf1f(0x8a4)),_0x443833[_0x2baf1f(0x4c1)][_0x2baf1f(0x350)](_0x2baf1f(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x84a))[_0x5de9f1(0x224)]('click',async()=>{const _0xfc6718=_0x5de9f1,_0x1c023e=allQuizzes[_0xfc6718(0x51d)](_0x22d166=>_0x22d166['id']===actionTargetId);_0x1c023e?(currentQuizData=_0x1c023e,exportQuizAsTutorPDF()):showMessage(_0xfc6718(0x8a4)),_0x443833[_0xfc6718(0x4c1)][_0xfc6718(0x350)](_0xfc6718(0x9d2));});const _0x3619cf=document['getElementById'](_0x5de9f1(0x59b));_0x3619cf[_0x5de9f1(0x377)]=_0x5de9f1(0x824),_0x3619cf['addEventListener'](_0x5de9f1(0x43a),openGlobalActivityModal),document[_0x5de9f1(0x552)](_0x5de9f1(0xa6f))[_0x5de9f1(0x224)]('click',()=>{const _0x5b2622=_0x5de9f1;document[_0x5b2622(0x552)](_0x5b2622(0x853))['classList'][_0x5b2622(0x350)](_0x5b2622(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x2be))[_0x5de9f1(0x224)](_0x5de9f1(0x9c2),_0x24fb51=>{const _0x5217df=_0x5de9f1;renderGlobalActivityList(_0x24fb51[_0x5217df(0x19c)]['value']);}),document[_0x5de9f1(0x552)]('global-activity-quiz-list')[_0x5de9f1(0x224)]('click',_0x3affae=>{const _0x35d3b7=_0x5de9f1,_0x455f25=_0x3affae[_0x35d3b7(0x19c)][_0x35d3b7(0xc1b)](_0x35d3b7(0x1c0));if(!_0x455f25)return;const _0x47fe81=_0x455f25[_0x35d3b7(0x79d)]['id'],_0x574775=_0x455f25['dataset']['mode'],_0x5d07de=allQuizzesGlobal[_0x35d3b7(0x51d)](_0x4ba19a=>_0x4ba19a['id']===_0x47fe81);_0x5d07de&&(document[_0x35d3b7(0x552)](_0x35d3b7(0x853))['classList'][_0x35d3b7(0x350)](_0x35d3b7(0x9d2)),_0x574775==='live-race'?handleStartLiveRace(_0x47fe81):showGameStartConfirmationModal(_0x47fe81,_0x574775,_0x5d07de[_0x35d3b7(0x65f)]));}),document[_0x5de9f1(0x552)]('project-search-input')[_0x5de9f1(0x224)]('input',renderProjects),document['getElementById'](_0x5de9f1(0x266))[_0x5de9f1(0x224)](_0x5de9f1(0x52b),async()=>{const _0x4a01fe=_0x5de9f1,_0x2d3828=document['getElementById'](_0x4a01fe(0x266))[_0x4a01fe(0x203)],_0x46db4d=doc(db,_0x4a01fe(0x182),_0x4a01fe(0x1f2));try{await setDoc(_0x46db4d,{'projectSort':_0x2d3828},{'merge':!![]});}catch(_0x4b86a2){console[_0x4a01fe(0x2e9)](_0x4a01fe(0xa7d),_0x4b86a2),showMessage(_0x4a01fe(0x15d));}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x414))[_0x5de9f1(0x224)](_0x5de9f1(0x9c2),renderQuizzes),document['getElementById'](_0x5de9f1(0x679))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x33e95b=_0x5de9f1;globalDashboardSettings[_0x33e95b(0xb49)]=_0x33e95b(0xab1),saveUserPreference(_0x33e95b(0xb49),_0x33e95b(0xab1)),renderProjects();}),document[_0x5de9f1(0x552)](_0x5de9f1(0x957))['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x3d778e=_0x5de9f1;globalDashboardSettings['projectView']='list',saveUserPreference(_0x3d778e(0xb49),_0x3d778e(0x3e8)),renderProjects();}),manageTab[_0x5de9f1(0x224)]('click',()=>switchProjectTab(_0x5de9f1(0xc51))),resultsTab[_0x5de9f1(0x224)]('click',()=>switchProjectTab(_0x5de9f1(0x569))),leaderboardTab[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>switchProjectTab(_0x5de9f1(0x65b))),document[_0x5de9f1(0x552)]('analytics-tab-btn')['addEventListener'](_0x5de9f1(0x43a),()=>switchQuizDetailTab(_0x5de9f1(0x8de))),document[_0x5de9f1(0x552)]('scores-tab-btn')[_0x5de9f1(0x224)]('click',()=>switchQuizDetailTab(_0x5de9f1(0x7d2))),document[_0x5de9f1(0x552)]('leaderboard-quiz-tab-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>switchQuizDetailTab(_0x5de9f1(0x1c4))),document[_0x5de9f1(0x552)]('behavior-log-tab-btn')[_0x5de9f1(0x224)]('click',()=>switchQuizDetailTab(_0x5de9f1(0xb26))),document[_0x5de9f1(0x552)](_0x5de9f1(0x623))['addEventListener'](_0x5de9f1(0x43a),handleAnalyzeClass),generateWorksheetBtn[_0x5de9f1(0x224)](_0x5de9f1(0x43a),generateWorksheet);const _0x3308da=document['getElementById']('link-tab'),_0x2e7918=document['getElementById'](_0x5de9f1(0x15e)),_0x95b3a5=document[_0x5de9f1(0x552)]('blueprint-tab'),_0x343f06=document[_0x5de9f1(0x552)](_0x5de9f1(0x65c)),_0x5a0d2e=document['getElementById'](_0x5de9f1(0xbeb)),_0x1e3d05=document[_0x5de9f1(0x552)](_0x5de9f1(0xc9e));topicTab[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x438ea9=_0x5de9f1;topicTab['classList'][_0x438ea9(0x350)]('active'),textTab[_0x438ea9(0x4c1)]['remove'](_0x438ea9(0xc45)),fileTab[_0x438ea9(0x4c1)][_0x438ea9(0xb01)](_0x438ea9(0xc45)),worksheetTab['classList'][_0x438ea9(0xb01)]('active');if(_0x3308da)_0x3308da['classList']['remove'](_0x438ea9(0xc45));if(_0x95b3a5)_0x95b3a5[_0x438ea9(0x4c1)]['remove'](_0x438ea9(0xc45));if(_0x5a0d2e)_0x5a0d2e[_0x438ea9(0x4c1)]['remove'](_0x438ea9(0xc45));topicInputArea['classList'][_0x438ea9(0xb01)](_0x438ea9(0x9d2)),textInputArea[_0x438ea9(0x4c1)][_0x438ea9(0x350)](_0x438ea9(0x9d2)),fileInputArea[_0x438ea9(0x4c1)]['add'](_0x438ea9(0x9d2)),worksheetInputArea[_0x438ea9(0x4c1)][_0x438ea9(0x350)](_0x438ea9(0x9d2));if(_0x2e7918)_0x2e7918[_0x438ea9(0x4c1)]['add'](_0x438ea9(0x9d2));if(_0x343f06)_0x343f06['classList'][_0x438ea9(0x350)](_0x438ea9(0x9d2));if(_0x1e3d05)_0x1e3d05[_0x438ea9(0x4c1)][_0x438ea9(0x350)](_0x438ea9(0x9d2));}),textTab[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x2ac205=_0x5de9f1;textTab['classList'][_0x2ac205(0x350)]('active'),topicTab[_0x2ac205(0x4c1)]['remove'](_0x2ac205(0xc45)),fileTab[_0x2ac205(0x4c1)][_0x2ac205(0xb01)](_0x2ac205(0xc45)),worksheetTab[_0x2ac205(0x4c1)][_0x2ac205(0xb01)](_0x2ac205(0xc45));if(_0x3308da)_0x3308da[_0x2ac205(0x4c1)][_0x2ac205(0xb01)](_0x2ac205(0xc45));if(_0x95b3a5)_0x95b3a5['classList'][_0x2ac205(0xb01)](_0x2ac205(0xc45));if(_0x5a0d2e)_0x5a0d2e['classList'][_0x2ac205(0xb01)](_0x2ac205(0xc45));textInputArea[_0x2ac205(0x4c1)][_0x2ac205(0xb01)](_0x2ac205(0x9d2)),topicInputArea['classList']['add'](_0x2ac205(0x9d2)),fileInputArea['classList'][_0x2ac205(0x350)]('hidden'),worksheetInputArea[_0x2ac205(0x4c1)][_0x2ac205(0x350)](_0x2ac205(0x9d2));if(_0x2e7918)_0x2e7918[_0x2ac205(0x4c1)][_0x2ac205(0x350)](_0x2ac205(0x9d2));if(_0x343f06)_0x343f06[_0x2ac205(0x4c1)][_0x2ac205(0x350)]('hidden');if(_0x1e3d05)_0x1e3d05[_0x2ac205(0x4c1)][_0x2ac205(0x350)](_0x2ac205(0x9d2));}),fileTab[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x41aba5=_0x5de9f1;fileTab[_0x41aba5(0x4c1)]['add']('active'),topicTab[_0x41aba5(0x4c1)]['remove']('active'),textTab[_0x41aba5(0x4c1)][_0x41aba5(0xb01)]('active'),worksheetTab['classList'][_0x41aba5(0xb01)](_0x41aba5(0xc45));if(_0x3308da)_0x3308da[_0x41aba5(0x4c1)][_0x41aba5(0xb01)]('active');if(_0x95b3a5)_0x95b3a5['classList'][_0x41aba5(0xb01)](_0x41aba5(0xc45));if(_0x5a0d2e)_0x5a0d2e[_0x41aba5(0x4c1)][_0x41aba5(0xb01)](_0x41aba5(0xc45));fileInputArea[_0x41aba5(0x4c1)][_0x41aba5(0xb01)]('hidden'),topicInputArea['classList'][_0x41aba5(0x350)](_0x41aba5(0x9d2)),textInputArea['classList'][_0x41aba5(0x350)](_0x41aba5(0x9d2)),worksheetInputArea[_0x41aba5(0x4c1)]['add'](_0x41aba5(0x9d2));if(_0x2e7918)_0x2e7918[_0x41aba5(0x4c1)][_0x41aba5(0x350)](_0x41aba5(0x9d2));if(_0x343f06)_0x343f06[_0x41aba5(0x4c1)][_0x41aba5(0x350)](_0x41aba5(0x9d2));if(_0x1e3d05)_0x1e3d05[_0x41aba5(0x4c1)][_0x41aba5(0x350)]('hidden');}),worksheetTab[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x5c3697=_0x5de9f1;worksheetTab[_0x5c3697(0x4c1)][_0x5c3697(0x350)](_0x5c3697(0xc45)),topicTab[_0x5c3697(0x4c1)]['remove']('active'),textTab[_0x5c3697(0x4c1)][_0x5c3697(0xb01)](_0x5c3697(0xc45)),fileTab[_0x5c3697(0x4c1)][_0x5c3697(0xb01)](_0x5c3697(0xc45));if(_0x3308da)_0x3308da[_0x5c3697(0x4c1)][_0x5c3697(0xb01)](_0x5c3697(0xc45));if(_0x95b3a5)_0x95b3a5['classList'][_0x5c3697(0xb01)](_0x5c3697(0xc45));if(_0x5a0d2e)_0x5a0d2e[_0x5c3697(0x4c1)][_0x5c3697(0xb01)](_0x5c3697(0xc45));worksheetInputArea[_0x5c3697(0x4c1)][_0x5c3697(0xb01)](_0x5c3697(0x9d2)),topicInputArea[_0x5c3697(0x4c1)]['add'](_0x5c3697(0x9d2)),textInputArea[_0x5c3697(0x4c1)]['add'](_0x5c3697(0x9d2)),fileInputArea[_0x5c3697(0x4c1)]['add'](_0x5c3697(0x9d2));if(_0x2e7918)_0x2e7918[_0x5c3697(0x4c1)][_0x5c3697(0x350)]('hidden');if(_0x343f06)_0x343f06[_0x5c3697(0x4c1)]['add'](_0x5c3697(0x9d2));if(_0x1e3d05)_0x1e3d05['classList']['add']('hidden');});const _0x23bf3c=document[_0x5de9f1(0x552)]('bank-tab'),_0x177e67=document['getElementById'](_0x5de9f1(0xc4d));_0x23bf3c&&_0x23bf3c['addEventListener']('click',()=>{const _0x2a8425=_0x5de9f1;topicTab['classList']['remove'](_0x2a8425(0xc45)),textTab[_0x2a8425(0x4c1)][_0x2a8425(0xb01)](_0x2a8425(0xc45)),fileTab[_0x2a8425(0x4c1)][_0x2a8425(0xb01)](_0x2a8425(0xc45)),worksheetTab[_0x2a8425(0x4c1)][_0x2a8425(0xb01)]('active');if(_0x3308da)_0x3308da[_0x2a8425(0x4c1)][_0x2a8425(0xb01)]('active');if(_0x95b3a5)_0x95b3a5[_0x2a8425(0x4c1)]['remove']('active');if(_0x5a0d2e)_0x5a0d2e[_0x2a8425(0x4c1)][_0x2a8425(0xb01)]('active');_0x23bf3c[_0x2a8425(0x4c1)][_0x2a8425(0x350)](_0x2a8425(0xc45)),topicInputArea[_0x2a8425(0x4c1)][_0x2a8425(0x350)](_0x2a8425(0x9d2)),textInputArea[_0x2a8425(0x4c1)][_0x2a8425(0x350)](_0x2a8425(0x9d2)),fileInputArea[_0x2a8425(0x4c1)]['add']('hidden'),worksheetInputArea[_0x2a8425(0x4c1)]['add'](_0x2a8425(0x9d2));if(_0x2e7918)_0x2e7918[_0x2a8425(0x4c1)][_0x2a8425(0x350)](_0x2a8425(0x9d2));if(_0x343f06)_0x343f06[_0x2a8425(0x4c1)]['add'](_0x2a8425(0x9d2));if(_0x1e3d05)_0x1e3d05[_0x2a8425(0x4c1)][_0x2a8425(0x350)](_0x2a8425(0x9d2));_0x177e67['classList'][_0x2a8425(0xb01)](_0x2a8425(0x9d2)),displayQuestionBank();});_0x3308da&&(_0x3308da[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0xab3672=_0x5de9f1;_0x3308da[_0xab3672(0x4c1)][_0xab3672(0x350)](_0xab3672(0xc45)),topicTab[_0xab3672(0x4c1)][_0xab3672(0xb01)]('active'),textTab[_0xab3672(0x4c1)]['remove'](_0xab3672(0xc45)),fileTab[_0xab3672(0x4c1)][_0xab3672(0xb01)]('active'),worksheetTab[_0xab3672(0x4c1)][_0xab3672(0xb01)](_0xab3672(0xc45));if(_0x95b3a5)_0x95b3a5[_0xab3672(0x4c1)]['remove']('active');if(_0x5a0d2e)_0x5a0d2e[_0xab3672(0x4c1)][_0xab3672(0xb01)](_0xab3672(0xc45));_0x2e7918[_0xab3672(0x4c1)][_0xab3672(0xb01)](_0xab3672(0x9d2)),topicInputArea[_0xab3672(0x4c1)]['add'](_0xab3672(0x9d2)),textInputArea[_0xab3672(0x4c1)][_0xab3672(0x350)](_0xab3672(0x9d2)),fileInputArea[_0xab3672(0x4c1)]['add']('hidden'),worksheetInputArea['classList'][_0xab3672(0x350)]('hidden');if(_0x343f06)_0x343f06['classList'][_0xab3672(0x350)](_0xab3672(0x9d2));if(_0x1e3d05)_0x1e3d05['classList'][_0xab3672(0x350)]('hidden');}),document['getElementById'](_0x5de9f1(0xced))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleGenerateFromLink));_0x95b3a5&&_0x95b3a5['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x51348b=_0x5de9f1;_0x95b3a5[_0x51348b(0x4c1)][_0x51348b(0x350)](_0x51348b(0xc45)),topicTab['classList']['remove']('active'),textTab[_0x51348b(0x4c1)][_0x51348b(0xb01)]('active'),fileTab[_0x51348b(0x4c1)]['remove']('active'),worksheetTab[_0x51348b(0x4c1)]['remove'](_0x51348b(0xc45));if(_0x3308da)_0x3308da[_0x51348b(0x4c1)][_0x51348b(0xb01)](_0x51348b(0xc45));if(_0x23bf3c)_0x23bf3c[_0x51348b(0x4c1)][_0x51348b(0xb01)](_0x51348b(0xc45));if(_0x5a0d2e)_0x5a0d2e['classList'][_0x51348b(0xb01)](_0x51348b(0xc45));_0x343f06['classList'][_0x51348b(0xb01)]('hidden'),topicInputArea['classList']['add'](_0x51348b(0x9d2)),textInputArea[_0x51348b(0x4c1)][_0x51348b(0x350)](_0x51348b(0x9d2)),fileInputArea[_0x51348b(0x4c1)]['add'](_0x51348b(0x9d2)),worksheetInputArea[_0x51348b(0x4c1)]['add'](_0x51348b(0x9d2));if(_0x2e7918)_0x2e7918[_0x51348b(0x4c1)][_0x51348b(0x350)](_0x51348b(0x9d2));if(_0x177e67)_0x177e67[_0x51348b(0x4c1)]['add']('hidden');if(_0x1e3d05)_0x1e3d05[_0x51348b(0x4c1)]['add'](_0x51348b(0x9d2));});_0x5a0d2e&&_0x5a0d2e[_0x5de9f1(0x224)]('click',()=>{const _0x29b55b=_0x5de9f1;_0x5a0d2e[_0x29b55b(0x4c1)][_0x29b55b(0x350)](_0x29b55b(0xc45)),topicTab['classList'][_0x29b55b(0xb01)](_0x29b55b(0xc45)),textTab[_0x29b55b(0x4c1)][_0x29b55b(0xb01)]('active'),fileTab[_0x29b55b(0x4c1)][_0x29b55b(0xb01)]('active'),worksheetTab[_0x29b55b(0x4c1)][_0x29b55b(0xb01)](_0x29b55b(0xc45));if(_0x3308da)_0x3308da[_0x29b55b(0x4c1)][_0x29b55b(0xb01)](_0x29b55b(0xc45));if(_0x95b3a5)_0x95b3a5['classList']['remove'](_0x29b55b(0xc45));if(_0x23bf3c)_0x23bf3c['classList']['remove'](_0x29b55b(0xc45));_0x1e3d05[_0x29b55b(0x4c1)][_0x29b55b(0xb01)](_0x29b55b(0x9d2)),topicInputArea[_0x29b55b(0x4c1)]['add'](_0x29b55b(0x9d2)),textInputArea[_0x29b55b(0x4c1)][_0x29b55b(0x350)](_0x29b55b(0x9d2)),fileInputArea[_0x29b55b(0x4c1)]['add'](_0x29b55b(0x9d2)),worksheetInputArea['classList'][_0x29b55b(0x350)]('hidden');if(_0x2e7918)_0x2e7918[_0x29b55b(0x4c1)][_0x29b55b(0x350)](_0x29b55b(0x9d2));if(_0x343f06)_0x343f06[_0x29b55b(0x4c1)][_0x29b55b(0x350)](_0x29b55b(0x9d2));if(_0x177e67)_0x177e67[_0x29b55b(0x4c1)][_0x29b55b(0x350)](_0x29b55b(0x9d2));});const _0x489573=document[_0x5de9f1(0x552)]('blueprint-upload-input'),_0x255ddb=document[_0x5de9f1(0x552)](_0x5de9f1(0x63a));if(_0x489573){const _0x5cf36a=document[_0x5de9f1(0x552)](_0x5de9f1(0x463)),_0x337ffd=document[_0x5de9f1(0x552)](_0x5de9f1(0x63a)),_0x387008=document[_0x5de9f1(0x552)](_0x5de9f1(0x9c5)),_0x3a47f9=document['getElementById'](_0x5de9f1(0x638)),_0x4d2deb=document[_0x5de9f1(0x552)]('blueprint-topics-list-container'),_0x26f4e4=document[_0x5de9f1(0x552)](_0x5de9f1(0xc69));_0x5cf36a&&_0x5cf36a[_0x5de9f1(0x224)]('change',async _0x15edf9=>{const _0x1efc8b=_0x5de9f1;_0x387008[_0x1efc8b(0x4c1)][_0x1efc8b(0x350)](_0x1efc8b(0x9d2)),_0x4d2deb[_0x1efc8b(0x4c1)][_0x1efc8b(0x350)](_0x1efc8b(0x9d2)),_0x3a47f9[_0x1efc8b(0xd08)]=![],_0x337ffd['disabled']=!![];const _0x34e019=_0x15edf9[_0x1efc8b(0x19c)][_0x1efc8b(0x5a9)][0x0];if(_0x34e019){_0x337ffd[_0x1efc8b(0x7ce)]=![];try{const _0x45b315=await extractTextFromPdf(_0x34e019);await analyzeBlueprintForTopics(_0x45b315);}catch(_0x4070e6){showMessage(_0x1efc8b(0x35b)),_0x387008[_0x1efc8b(0x4c1)][_0x1efc8b(0x350)]('hidden');}}}),_0x3a47f9&&_0x3a47f9[_0x5de9f1(0x224)](_0x5de9f1(0x52b),_0x9deccf=>{const _0x11c75f=_0x5de9f1,_0x5db708=_0x9deccf[_0x11c75f(0x19c)][_0x11c75f(0xd08)];_0x4d2deb[_0x11c75f(0x4c1)][_0x11c75f(0x818)](_0x11c75f(0x9d2),!_0x5db708),_0x337ffd[_0x11c75f(0x7ce)]=_0x5db708;}),_0x26f4e4&&(_0x26f4e4&&_0x26f4e4['addEventListener'](_0x5de9f1(0x43a),_0x52eb30=>{const _0x3f12fd=_0x5de9f1,_0x28b983=_0x52eb30[_0x3f12fd(0x19c)][_0x3f12fd(0xc1b)](_0x3f12fd(0x6b1)),_0x29e0bb=_0x52eb30[_0x3f12fd(0x19c)][_0x3f12fd(0xc1b)](_0x3f12fd(0x7da));if(_0x28b983){const _0xf016f2=unescape(_0x28b983['dataset'][_0x3f12fd(0x65f)]);generateQuizForSingleTopic(_0xf016f2);}else{if(_0x29e0bb){const _0x5963cc=unescape(_0x29e0bb[_0x3f12fd(0x79d)][_0x3f12fd(0x65f)]);handleGenerateTeachingContent(_0x5963cc);}}}));}_0x255ddb&&_0x255ddb[_0x5de9f1(0x224)]('click',handleGenerateFromBlueprint);const _0x5eb07d=document[_0x5de9f1(0x552)](_0x5de9f1(0xa81)),_0x2738c0=document[_0x5de9f1(0x552)](_0x5de9f1(0xc92));_0x5eb07d&&_0x5eb07d['addEventListener'](_0x5de9f1(0x52b),_0x29b47b=>{const _0x3e6d91=_0x5de9f1;_0x2738c0['disabled']=_0x29b47b[_0x3e6d91(0x19c)][_0x3e6d91(0x5a9)][_0x3e6d91(0x636)]===0x0;});_0x2738c0&&_0x2738c0[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleLoadQuiz),startQuizBtn[_0x5de9f1(0x224)]('click',async()=>{const _0x5f4828=_0x5de9f1,_0x498f6e=document[_0x5f4828(0x552)]('student-name-select');currentStudentName=_0x498f6e[_0x5f4828(0x203)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x483197=currentQuizData['id'],_0x28be16=doc(db,'artifacts/'+appId+_0x5f4828(0x847)+_0x483197+_0x5f4828(0x32e),currentStudentName),_0x4c102e=await getDoc(_0x28be16);!_0x4c102e[_0x5f4828(0x837)]()?await setDoc(_0x28be16,{'studentName':currentStudentName,'startedAt':new Date()[_0x5f4828(0x6f2)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x28be16,{'startedAt':new Date()['toISOString']()});}catch(_0x37fd8e){console[_0x5f4828(0x2e9)](_0x5f4828(0x56e),_0x37fd8e),showMessage(_0x5f4828(0x5fe));return;}studentNameSelectionView[_0x5f4828(0x4c1)][_0x5f4828(0x350)](_0x5f4828(0x9d2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x5de9f1(0x73d))['addEventListener'](_0x5de9f1(0x43a),showJoinGameView),document[_0x5de9f1(0x552)](_0x5de9f1(0x2cc))[_0x5de9f1(0x224)]('click',handleJoinLiveGame),document[_0x5de9f1(0x552)](_0x5de9f1(0x4f2))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>showView(_0x5de9f1(0x927)));const _0x3abc43=()=>{const _0x3bc797=_0x5de9f1,_0x2c2a60=document[_0x3bc797(0x552)](_0x3bc797(0x5a6))[_0x3bc797(0x37a)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x3bc797(0x2e4)+(_0x2c2a60||'quiz');},_0x5a1044=document[_0x5de9f1(0x552)](_0x5de9f1(0xa9b));_0x5a1044&&_0x5a1044[_0x5de9f1(0x224)]('input',_0x4f5e02=>{const _0x1393d7=_0x5de9f1,_0x34eaaf=_0x4f5e02['target'][_0x1393d7(0x203)][_0x1393d7(0x883)]()['trim'](),_0x1b9b5c=document[_0x1393d7(0x552)](_0x1393d7(0x1f7)),_0x3a0f7e=_0x1b9b5c['querySelectorAll'](_0x1393d7(0xb44));_0x3a0f7e[_0x1393d7(0x1f5)](_0x49270f=>{const _0x9278d9=_0x1393d7;let _0x5a8042=![];const _0x3c5b9b=_0x49270f[_0x9278d9(0x3e0)]('.topic-row');_0x3c5b9b[_0x9278d9(0x1f5)](_0x56bb52=>{const _0x3a2393=_0x9278d9,_0x3a1a28=_0x56bb52[_0x3a2393(0x972)](_0x3a2393(0xc94))['textContent'][_0x3a2393(0x883)]();_0x3a1a28[_0x3a2393(0x27b)](_0x34eaaf)?(_0x56bb52[_0x3a2393(0x89b)][_0x3a2393(0xcab)]=_0x3a2393(0x2cf),_0x5a8042=!![]):_0x56bb52['style'][_0x3a2393(0xcab)]=_0x3a2393(0xbde);}),_0x5a8042?_0x49270f[_0x9278d9(0x89b)]['display']=_0x9278d9(0x29d):_0x49270f[_0x9278d9(0x89b)][_0x9278d9(0xcab)]=_0x9278d9(0xbde);});});document[_0x5de9f1(0x552)](_0x5de9f1(0x156))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>exportTableAsImage(_0x5de9f1(0xa46),_0x3abc43())),document[_0x5de9f1(0x552)](_0x5de9f1(0x14c))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>exportTableAsPDF(_0x5de9f1(0xcae),_0x3abc43())),document['getElementById']('export-word-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>exportTableAsWord(_0x5de9f1(0xa46),_0x3abc43())),document[_0x5de9f1(0x552)](_0x5de9f1(0x889))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>exportTableAsExcel(_0x5de9f1(0xcae),_0x3abc43()));const _0x320e07=()=>{const _0x2a1029=_0x5de9f1,_0x230951=document['getElementById'](_0x2a1029(0x5a6))[_0x2a1029(0x37a)][_0x2a1029(0xbc5)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2a1029(0x5d0)+(_0x230951||_0x2a1029(0x876));};document[_0x5de9f1(0x552)]('export-leaderboard-image-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>exportTableAsImage(_0x5de9f1(0x1ae),_0x320e07())),document[_0x5de9f1(0x552)]('export-leaderboard-pdf-btn')[_0x5de9f1(0x224)]('click',()=>exportTableAsPDF(_0x5de9f1(0xafc),_0x320e07())),document[_0x5de9f1(0x552)](_0x5de9f1(0x605))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>exportTableAsWord(_0x5de9f1(0x1ae),_0x320e07())),document[_0x5de9f1(0x552)](_0x5de9f1(0x732))[_0x5de9f1(0x224)]('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0x320e07())),projectQuizzesList[_0x5de9f1(0x224)](_0x5de9f1(0x43a),async _0x4c92bc=>{const _0x3b49c3=_0x5de9f1,_0x126055=_0x4c92bc['target']['closest']('.quiz-result-card'),_0xc4d05f=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)]('.generate-post-test-btn'),_0x48f30b=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0x993)),_0x3aa70b=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0x916)),_0xc3d4a3=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0x683)),_0x2693f2=_0x4c92bc[_0x3b49c3(0x19c)]['closest']('.copy-quiz-id-list-btn'),_0x110e26=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0xcc3)),_0x52e8f3=_0x4c92bc[_0x3b49c3(0x19c)]['closest'](_0x3b49c3(0x661)),_0x29c7bc=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0xbb7)),_0x4039df=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0x9ca)),_0x4bf09c=_0x4c92bc[_0x3b49c3(0x19c)]['closest']('.parallel-quiz-btn'),_0x4338c3=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0x4f6)),_0x3b6869=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0x78b)),_0x451a3f=_0x4c92bc[_0x3b49c3(0x19c)]['closest']('.unpair-quiz-btn'),_0x4692c4=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)]('.start-presentation-list-btn'),_0x2297b2=_0x4c92bc['target'][_0x3b49c3(0xc1b)]('.admin-try-quiz-list-btn'),_0x4e04b1=_0x4c92bc['target'][_0x3b49c3(0xc1b)](_0x3b49c3(0x69c)),_0x4f56c1=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)]('.delete-quiz-btn'),_0x302e7b=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0x434)),_0x4d8f1a=_0x4c92bc[_0x3b49c3(0x19c)]['closest']('.toggle-actions-btn'),_0x64813d=_0x4c92bc[_0x3b49c3(0x19c)][_0x3b49c3(0xc1b)](_0x3b49c3(0xc05)),_0x3667ed=_0x4c92bc['target'][_0x3b49c3(0xc1b)](_0x3b49c3(0x92b)),_0x307dec=_0x4c92bc[_0x3b49c3(0x19c)]['closest'](_0x3b49c3(0x5d5));if(_0x3667ed){const _0x194f4f=_0x3667ed[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x478707=_0x3667ed['dataset'][_0x3b49c3(0x657)],_0x19d907=allQuizzes[_0x3b49c3(0x51d)](_0x27cb31=>_0x27cb31['id']===_0x194f4f);_0x19d907&&showGameStartConfirmationModal(_0x194f4f,_0x478707,_0x19d907[_0x3b49c3(0x65f)]);}else{if(_0x307dec){const _0x1ba76a=_0x307dec[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)];handleStartLiveRace(_0x1ba76a);}else{if(_0x4d8f1a){const _0x553064=_0x4d8f1a['dataset']['quizId'],_0x403ebb=document[_0x3b49c3(0x552)]('actions-container-'+_0x553064);_0x403ebb&&_0x403ebb[_0x3b49c3(0x4c1)]['toggle'](_0x3b49c3(0x9d2));}else{if(_0xc4d05f){const _0x231d81=_0xc4d05f[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x3c9983=allQuizzes['find'](_0x20a6af=>_0x20a6af['id']===_0x231d81);_0x3c9983&&handleGenerateParallelPostTest(_0x3c9983);}else{if(_0x48f30b)handleCompareResults(_0x48f30b[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x48f30b[_0x3b49c3(0x79d)][_0x3b49c3(0x8d7)]);else{if(_0x3aa70b){const _0x579ff6=_0x3aa70b[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x486cd9=allQuizzes[_0x3b49c3(0x51d)](_0x2a4309=>_0x2a4309['id']===_0x579ff6);_0x486cd9&&_0x486cd9[_0x3b49c3(0x871)]?(displayLessonPlan(_0x486cd9[_0x3b49c3(0x871)],_0x486cd9),showConfirmation(_0x3b49c3(0x582),()=>handleGenerateLessonPlan(_0x579ff6)),document[_0x3b49c3(0x552)](_0x3b49c3(0x97b))[_0x3b49c3(0x972)]('h3')[_0x3b49c3(0x37a)]='แผนการสอน',document[_0x3b49c3(0x552)](_0x3b49c3(0x577))[_0x3b49c3(0x37a)]=_0x3b49c3(0x931)):handleGenerateLessonPlan(_0x579ff6);}else{if(_0xc3d4a3)handleToggleStarQuiz(_0xc3d4a3[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)]);else{if(_0x2693f2)copyTextToClipboard(_0x2693f2['dataset'][_0x3b49c3(0x1e8)],'คัดลอกรหัสแล้ว!');else{if(_0x110e26)handleOpenQuizEditor(_0x110e26[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)]);else{if(_0x52e8f3)handleQuizSettings(_0x52e8f3['dataset']['quizId']);else{if(_0x29c7bc)handleDuplicateQuiz(_0x29c7bc[_0x3b49c3(0x79d)]['quizId']);else{if(_0x4039df)handleRenameQuiz(_0x4039df[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x4039df['dataset'][_0x3b49c3(0x65f)]);else{if(_0x4bf09c){const _0x5e101b=_0x4bf09c[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x2c27cf=allQuizzes[_0x3b49c3(0x51d)](_0x35b406=>_0x35b406['id']===_0x5e101b);_0x2c27cf&&handleGenerateParallelFromBank(_0x2c27cf);}else{if(_0x4338c3)handleMoveQuiz(_0x4338c3[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)]);else{if(_0x3b6869)handleManualQuizPairing(_0x3b6869[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)]);else{if(_0x451a3f)handleUnpairQuiz(_0x451a3f[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)]);else{if(_0x4692c4){const _0x3fc2e0=_0x4692c4[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x1a3b01=allQuizzes['find'](_0x1c055a=>_0x1c055a['id']===_0x3fc2e0);if(_0x1a3b01)startPresentation(_0x1a3b01);}else{if(_0x2297b2){const _0x4aff5c=_0x2297b2[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],_0x3450f7=allQuizzes[_0x3b49c3(0x51d)](_0x3269c2=>_0x3269c2['id']===_0x4aff5c);_0x3450f7&&(currentQuizData=_0x3450f7,startAdminTest());}else{if(_0x4e04b1)actionTargetId=_0x4e04b1[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)],document[_0x3b49c3(0x552)](_0x3b49c3(0xb1a))[_0x3b49c3(0x4c1)][_0x3b49c3(0xb01)]('hidden');else{if(_0x4f56c1)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4f56c1[_0x3b49c3(0x79d)][_0x3b49c3(0x65f)]+_0x3b49c3(0x1a6),()=>handleDeleteQuiz(_0x4f56c1[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)]));else{if(_0x302e7b)handleQuizStatus(_0x302e7b[_0x3b49c3(0x79d)][_0x3b49c3(0x1e8)]);else{if(_0x64813d)handleGenerateEasyVersionQuiz(_0x64813d['dataset'][_0x3b49c3(0x1e8)]);else _0x126055&&showQuizDetailView(_0x126055[_0x3b49c3(0x79d)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x4be))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>showView(_0x5de9f1(0x927))),document[_0x5de9f1(0x552)]('confirm-team-players-btn')[_0x5de9f1(0x224)]('click',confirmAndStartTeamQuiz),document['getElementById'](_0x5de9f1(0xafc))[_0x5de9f1(0x972)](_0x5de9f1(0x405))[_0x5de9f1(0x224)]('click',_0x5a2f54=>{const _0x3ee7=_0x5de9f1,_0x25e684=_0x5a2f54[_0x3ee7(0x19c)]['closest'](_0x3ee7(0x2f0));if(!_0x25e684||!_0x25e684[_0x3ee7(0x79d)][_0x3ee7(0xa29)])return;const _0x538f65=_0x25e684[_0x3ee7(0x79d)][_0x3ee7(0xa29)];if(quizLeaderboardSortBy===_0x538f65)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3ee7(0x616)?_0x3ee7(0xb54):_0x3ee7(0x616);else{quizLeaderboardSortBy=_0x538f65;const _0x5518b4=[_0x3ee7(0x247)];quizLeaderboardSortOrder=_0x5518b4[_0x3ee7(0x27b)](_0x538f65)?'asc':_0x3ee7(0xb54);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x3ee7(0xae9));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x69f))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),closePresentation),document[_0x5de9f1(0x552)](_0x5de9f1(0x819))['addEventListener'](_0x5de9f1(0x43a),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5de9f1(0x552)]('next-question-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x9cc364=_0x5de9f1;currentQuizData[_0x9cc364(0x5cd)]&&currentPresentationSlide<currentQuizData['questions'][_0x9cc364(0x636)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x5de9f1(0x224)](_0x5de9f1(0xb7e),()=>{const _0x285354=_0x5de9f1;!document[_0x285354(0x1a8)]&&(presentationModal[_0x285354(0x89b)][_0x285354(0xcab)]=_0x285354(0xbde));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x6e7))[_0x5de9f1(0x224)]('click',handleDeleteAllStudents),studentList[_0x5de9f1(0x224)]('click',_0x2e09ba=>{const _0x58564e=_0x5de9f1,_0x5884ac=_0x2e09ba['target'][_0x58564e(0xc1b)]('.delete-student-btn');if(_0x5884ac){const _0x368be6=_0x5884ac[_0x58564e(0x79d)]['studentName'];handleDeleteStudent(_0x368be6);}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x85a))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x5de9f1(0x224)](_0x5de9f1(0x52b),_0xbb834d=>{const _0x2d7959=_0x5de9f1,_0x17d8e6=_0xbb834d[_0x2d7959(0x19c)][_0x2d7959(0x5a9)][0x0],_0x313bc9=document['getElementById']('generate-from-file-btn'),_0x19810c=document[_0x2d7959(0x552)](_0x2d7959(0x2c5)),_0x2e502c=document[_0x2d7959(0x552)]('separate-by-content-from-file-checkbox');_0x17d8e6?(selectedFile=_0x17d8e6,_0x2e502c[_0x2d7959(0xd08)]?(_0x313bc9[_0x2d7959(0x7ce)]=!![],analyzeFileForTopics(_0x17d8e6)):(_0x313bc9[_0x2d7959(0x7ce)]=![],_0x19810c['classList']['add']('hidden'))):(selectedFile=null,_0x313bc9['disabled']=!![],_0x19810c[_0x2d7959(0x4c1)][_0x2d7959(0x350)](_0x2d7959(0x9d2)));}),document['getElementById'](_0x5de9f1(0x70d))[_0x5de9f1(0x224)](_0x5de9f1(0x52b),_0x3bfb90=>{const _0x8fa518=_0x5de9f1,_0x1e8491=_0x3bfb90[_0x8fa518(0x19c)][_0x8fa518(0xd08)],_0x33ed90=document[_0x8fa518(0x552)]('generate-from-file-btn'),_0xf98c2f=document['getElementById']('file-topics-list-container');_0x1e8491?(_0x33ed90[_0x8fa518(0x7ce)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0xf98c2f[_0x8fa518(0x4c1)]['remove'](_0x8fa518(0x9d2)),document['getElementById'](_0x8fa518(0x229))['innerHTML']=_0x8fa518(0x986))):(_0xf98c2f[_0x8fa518(0x4c1)][_0x8fa518(0x350)](_0x8fa518(0x9d2)),_0x33ed90[_0x8fa518(0x7ce)]=!selectedFile);}),document[_0x5de9f1(0x552)]('file-topics-list-container')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),_0x2f4792=>{const _0x37ac01=_0x5de9f1,_0x4a8ce9=_0x2f4792[_0x37ac01(0x19c)][_0x37ac01(0xc1b)]('.file-topic-selection-btn'),_0x29e730=_0x2f4792['target'][_0x37ac01(0xc1b)](_0x37ac01(0x7da));if(_0x4a8ce9){const _0x45a7d6=unescape(_0x4a8ce9[_0x37ac01(0x79d)][_0x37ac01(0x65f)]);generateHybridQuizForTopic(_0x45a7d6);}else{if(_0x29e730){const _0x16eff4=unescape(_0x29e730[_0x37ac01(0x79d)][_0x37ac01(0x65f)]),_0x3ab627=document['getElementById'](_0x37ac01(0x7f4))[_0x37ac01(0x203)];handleGenerateAndShowLesson(_0x16eff4,_0x3ab627);}}}),document[_0x5de9f1(0x552)](_0x5de9f1(0xb4d))[_0x5de9f1(0x224)](_0x5de9f1(0x52b),_0x1f62af=>{const _0x565d85=_0x5de9f1,_0x9785f=document[_0x565d85(0x552)](_0x565d85(0x872)),_0x58db64=document[_0x565d85(0x552)](_0x565d85(0xaf4)),_0x3b3aa5=document[_0x565d85(0x552)]('timer-duration-input');_0x1f62af[_0x565d85(0x19c)]['value']===_0x565d85(0xbde)?_0x9785f[_0x565d85(0x4c1)][_0x565d85(0x350)]('hidden'):(_0x9785f[_0x565d85(0x4c1)][_0x565d85(0xb01)]('hidden'),_0x1f62af[_0x565d85(0x19c)][_0x565d85(0x203)]===_0x565d85(0x709)?(_0x58db64['textContent']=_0x565d85(0x200),_0x3b3aa5['value']='10'):(_0x58db64[_0x565d85(0x37a)]=_0x565d85(0x275),_0x3b3aa5[_0x565d85(0x203)]='30'));}),document[_0x5de9f1(0x552)](_0x5de9f1(0xa28))['addEventListener']('change',_0xaf6579=>{const _0x29fb82=_0x5de9f1,_0x5dc34a=document[_0x29fb82(0x552)](_0x29fb82(0x236)),_0x2a2407=_0xaf6579[_0x29fb82(0x19c)][_0x29fb82(0x203)],_0x33fb18=document[_0x29fb82(0x972)](_0x29fb82(0x740)),_0x3cd9d5=document[_0x29fb82(0x552)](_0x29fb82(0xbcc)),_0xffa551=document[_0x29fb82(0x552)](_0x29fb82(0x9bc));_0x2a2407===_0x29fb82(0x84f)?_0x33fb18[_0x29fb82(0x37a)]=_0x29fb82(0xa12):_0x33fb18[_0x29fb82(0x37a)]=_0x29fb82(0x7be),_0x2a2407===_0x29fb82(0x2df)||_0x2a2407===_0x29fb82(0x95b)||_0x2a2407==='mixed'?_0x5dc34a[_0x29fb82(0x4c1)][_0x29fb82(0xb01)](_0x29fb82(0x9d2)):_0x5dc34a['classList'][_0x29fb82(0x350)](_0x29fb82(0x9d2)),_0x3cd9d5['max']=_0xffa551[_0x29fb82(0x203)];}),document['getElementById']('num-questions')[_0x5de9f1(0x224)](_0x5de9f1(0x9c2),_0x59fe00=>{const _0xc7e5eb=_0x5de9f1;document[_0xc7e5eb(0x552)]('passing-score-input')[_0xc7e5eb(0x38c)]=_0x59fe00[_0xc7e5eb(0x19c)][_0xc7e5eb(0x203)];}),document[_0x5de9f1(0x552)]('modal-timer-mode-select')['addEventListener']('change',_0x5bb906=>{const _0x4386a9=_0x5de9f1,_0x1888c1=document['getElementById']('modal-timer-duration-container'),_0x5a0a60=document['getElementById'](_0x4386a9(0x28c)),_0x442812=document[_0x4386a9(0x552)](_0x4386a9(0x87e));_0x5bb906[_0x4386a9(0x19c)][_0x4386a9(0x203)]===_0x4386a9(0xbde)?_0x1888c1[_0x4386a9(0x4c1)][_0x4386a9(0x350)](_0x4386a9(0x9d2)):(_0x1888c1[_0x4386a9(0x4c1)][_0x4386a9(0xb01)](_0x4386a9(0x9d2)),_0x5bb906[_0x4386a9(0x19c)][_0x4386a9(0x203)]===_0x4386a9(0x709)?_0x5a0a60[_0x4386a9(0x37a)]=_0x4386a9(0x200):_0x5a0a60['textContent']=_0x4386a9(0x275));}),document[_0x5de9f1(0x552)]('cancel-quiz-edits-btn')['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x35ebe4=_0x5de9f1;document['getElementById'](_0x35ebe4(0x783))[_0x35ebe4(0x4c1)][_0x35ebe4(0x350)](_0x35ebe4(0x9d2));}),document['getElementById'](_0x5de9f1(0xa22))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x47c95f=_0x5de9f1;document[_0x47c95f(0x552)](_0x47c95f(0x783))[_0x47c95f(0x4c1)][_0x47c95f(0x350)]('hidden');}),document[_0x5de9f1(0x552)](_0x5de9f1(0xb20))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleVerifyAnswersInEditor),document[_0x5de9f1(0x552)](_0x5de9f1(0xb11))['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x9fe471=_0x5de9f1;document[_0x9fe471(0x552)](_0x9fe471(0x783))['classList'][_0x9fe471(0x350)](_0x9fe471(0x9d2)),showConfirmation(_0x9fe471(0x84b),handleSaveChanges);}),document[_0x5de9f1(0x552)](_0x5de9f1(0x504))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),handleAutoFixLatex);const _0x13ad77=document[_0x5de9f1(0x552)](_0x5de9f1(0x693));_0x13ad77&&_0x13ad77['addEventListener'](_0x5de9f1(0x43a),_0x402cec=>{const _0x2d9f3e=_0x5de9f1,_0x2a328b=_0x402cec[_0x2d9f3e(0x19c)][_0x2d9f3e(0xc1b)]('.regenerate-question-editor-btn'),_0x21ec4c=_0x402cec['target'][_0x2d9f3e(0xc1b)](_0x2d9f3e(0x718));if(_0x2a328b){const _0x5e032c=_0x2a328b[_0x2d9f3e(0xc1b)](_0x2d9f3e(0xb66)),_0x4c94a0=parseInt(_0x5e032c[_0x2d9f3e(0x79d)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x4c94a0);}else{if(_0x21ec4c){const _0x456c08=_0x21ec4c[_0x2d9f3e(0xc1b)](_0x2d9f3e(0xb66)),_0x356963=parseInt(_0x456c08['dataset'][_0x2d9f3e(0xb77)],0xa);handleAiFixFormula(_0x356963);}}});document[_0x5de9f1(0x552)](_0x5de9f1(0x579))[_0x5de9f1(0x224)]('click',openQuizBankModal),document[_0x5de9f1(0x552)]('cancel-quiz-bank-btn')[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0xafd1d4=_0x5de9f1;document[_0xafd1d4(0x552)](_0xafd1d4(0x532))[_0xafd1d4(0x4c1)][_0xafd1d4(0x350)](_0xafd1d4(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x285))[_0x5de9f1(0x224)](_0x5de9f1(0x9c2),_0x59a6b1=>renderQuizBankList(_0x59a6b1[_0x5de9f1(0x19c)][_0x5de9f1(0x203)]));const _0x5da852=document['getElementById']('math-topics-checkbox-container');if(_0x5da852){let _0x40372d=null;_0x5da852[_0x5de9f1(0x224)]('click',_0x4f6fd4=>{const _0x4c06d0=_0x5de9f1,_0x1b782a=_0x4f6fd4[_0x4c06d0(0x19c)],_0x165b00=_0x1b782a[_0x4c06d0(0xc1b)]('.edit-custom-topic-btn'),_0x121dbc=_0x1b782a[_0x4c06d0(0xc1b)](_0x4c06d0(0x368)),_0x1409f7=_0x1b782a[_0x4c06d0(0xc1b)](_0x4c06d0(0x92f)),_0x436f7d=_0x1b782a[_0x4c06d0(0xc1b)](_0x4c06d0(0x70b));if(_0x121dbc){_0x4f6fd4[_0x4c06d0(0x4a0)]();const _0x3696cc=_0x121dbc[_0x4c06d0(0x79d)]['id'],_0x57d1bf=_0x121dbc['closest'](_0x4c06d0(0x8fd))[_0x4c06d0(0x972)](_0x4c06d0(0xc94))[_0x4c06d0(0x37a)];showConfirmation(_0x4c06d0(0x92c)+_0x57d1bf+'\x22?',()=>handleDeleteCustomTopic(_0x3696cc));}else{if(_0x165b00){_0x4f6fd4[_0x4c06d0(0x4a0)]();_0x40372d&&toggleTopicEditMode(_0x40372d,![]);const _0x83dbf5=_0x165b00[_0x4c06d0(0xc1b)](_0x4c06d0(0x558));_0x40372d=_0x83dbf5,toggleTopicEditMode(_0x83dbf5,!![]);}else{if(_0x1409f7){_0x4f6fd4['preventDefault']();const _0x50289a=_0x1409f7['dataset']['id'],_0x2b41a2=_0x1409f7[_0x4c06d0(0xc1b)](_0x4c06d0(0x558)),_0x157c15=_0x2b41a2['querySelector'](_0x4c06d0(0x637))['value'];handleUpdateCustomTopic(_0x50289a,_0x157c15),_0x40372d=null;}else{if(_0x436f7d){_0x4f6fd4[_0x4c06d0(0x4a0)]();const _0x184592=_0x436f7d[_0x4c06d0(0xc1b)](_0x4c06d0(0x558));toggleTopicEditMode(_0x184592,![]),_0x40372d=null;}}}}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x708))[_0x5de9f1(0x224)](_0x5de9f1(0x43a),()=>{const _0x10b444=_0x5de9f1;document['getElementById'](_0x10b444(0x455))[_0x10b444(0x4c1)][_0x10b444(0x350)](_0x10b444(0x9d2));}),document[_0x5de9f1(0x552)](_0x5de9f1(0x79c))['addEventListener']('click',()=>{const _0x17c032=_0x5de9f1;document[_0x17c032(0x552)]('lesson-plan-modal')[_0x17c032(0x4c1)][_0x17c032(0x350)](_0x17c032(0x9d2));}),document['getElementById']('export-lesson-pdf-btn')['addEventListener']('click',handleExportLessonPDF);}document[_0x5de9f1(0x552)](_0x5de9f1(0xb41))['addEventListener']('click',()=>{const _0x37cb04=_0x5de9f1;document[_0x37cb04(0x552)](_0x37cb04(0xcdb))['classList'][_0x37cb04(0x350)](_0x37cb04(0x9d2));}),document['getElementById']('close-comparison-modal-footer-btn')['addEventListener'](_0x5de9f1(0x43a),()=>{const _0x2f9815=_0x5de9f1;document[_0x2f9815(0x552)]('comparison-modal')[_0x2f9815(0x4c1)]['add'](_0x2f9815(0x9d2));}),setupComparisonModalTabs(),document[_0x5de9f1(0x6d4)]['addEventListener'](_0x5de9f1(0x43a),function(_0x12a311){const _0x1f6fe2=_0x5de9f1;if(_0x12a311[_0x1f6fe2(0x19c)]['classList']['contains'](_0x1f6fe2(0x152))){const _0x3ac90d=unescape(_0x12a311[_0x1f6fe2(0x19c)]['dataset'][_0x1f6fe2(0x65f)]);startSkillPractice(_0x3ac90d);}}),document[_0x5de9f1(0x552)](_0x5de9f1(0x6fe))['addEventListener'](_0x5de9f1(0x43a),_0x2e0bb1=>{const _0x303ab8=_0x5de9f1,_0x540637=_0x2e0bb1[_0x303ab8(0x19c)][_0x303ab8(0xc1b)]('.delete-submission-btn');if(_0x540637){const _0x48447a=_0x540637[_0x303ab8(0x79d)]['studentName'];handleDeleteSubmission(_0x48447a);}});}async function handleStartGroupMode(_0x3e8ed9,_0x4b6671=![]){const _0x3fcbdd=_0x3a383e,_0xe37db7=allQuizzes[_0x3fcbdd(0x51d)](_0xbba892=>_0xbba892['id']===_0x3e8ed9)||allQuizzesGlobal[_0x3fcbdd(0x51d)](_0x596339=>_0x596339['id']===_0x3e8ed9);if(!_0xe37db7){showMessage(_0x3fcbdd(0x8a4));return;}currentQuizData=getShuffledQuiz(_0xe37db7);const _0x457050=Math[_0x3fcbdd(0x429)](0x3e8+Math['random']()*0x2328)[_0x3fcbdd(0x2de)]();try{const _0x4b5a63=await addDoc(collection(db,_0x3fcbdd(0xc93)+appId+'/public/data/teamQuizzes'),{'quizId':_0xe37db7['id'],'projectId':_0xe37db7[_0x3fcbdd(0x88a)],'status':_0x3fcbdd(0xcbe),'pin':_0x457050,'mode':_0x3fcbdd(0xb3b),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4b6671});currentTeamQuizId=_0x4b5a63['id'],showView(_0x3fcbdd(0x7e0)),renderAdminTeamQuizDashboard(_0x457050,_0xe37db7[_0x3fcbdd(0x65f)],'group'),listenForTeamQuizUpdates();}catch(_0x1aa2ef){console['error'](_0x3fcbdd(0x4ba),_0x1aa2ef),showMessage(_0x3fcbdd(0x3b8));}}async function showStudentProgressView(){const _0x42b67e=_0x3a383e;studentInitialView[_0x42b67e(0x4c1)][_0x42b67e(0x350)](_0x42b67e(0x9d2)),document[_0x42b67e(0x552)](_0x42b67e(0x759))[_0x42b67e(0x4c1)][_0x42b67e(0xb01)](_0x42b67e(0x9d2));const _0x1d4ecc=document['getElementById'](_0x42b67e(0x269)),_0x10665f=document[_0x42b67e(0x552)](_0x42b67e(0x7fb)),_0x1ec273=document['getElementById'](_0x42b67e(0x9a0));_0x1ec273[_0x42b67e(0x377)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x10665f[_0x42b67e(0x377)]=_0x42b67e(0x8a5),_0x10665f[_0x42b67e(0x7ce)]=!![],_0x1d4ecc['innerHTML']=_0x42b67e(0x17a);if(allProjects['length']===0x0){const _0x353db5=collection(db,'artifacts/'+appId+_0x42b67e(0x5c5)),_0x20e3c8=await getDocs(_0x353db5);allProjects=_0x20e3c8[_0x42b67e(0x975)][_0x42b67e(0x75d)](_0x31b364=>({'id':_0x31b364['id'],..._0x31b364[_0x42b67e(0x183)]()}));}const _0x229b88=allProjects[_0x42b67e(0x499)](_0x382dbd=>_0x382dbd[_0x42b67e(0x997)]?.[_0x42b67e(0xb25)]!==![]);_0x229b88['sort']((_0x4865a4,_0x38b69a)=>_0x4865a4[_0x42b67e(0x217)][_0x42b67e(0x784)](_0x38b69a[_0x42b67e(0x217)],'th')),_0x1d4ecc[_0x42b67e(0x377)]=_0x42b67e(0x2ea)+_0x229b88[_0x42b67e(0x75d)](_0x3e1c52=>_0x42b67e(0x7dd)+_0x3e1c52['id']+'\x22>'+_0x3e1c52[_0x42b67e(0x217)]+_0x42b67e(0xa0c))[_0x42b67e(0xa89)](''),_0x1d4ecc[_0x42b67e(0x5eb)]=()=>{const _0x52d707=_0x42b67e,_0x28b84e=_0x10665f[_0x52d707(0x203)],_0x462c4d=_0x1d4ecc[_0x52d707(0x203)];_0x10665f[_0x52d707(0x7ce)]=!![],_0x10665f[_0x52d707(0x377)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1ec273[_0x52d707(0x377)]=_0x52d707(0x34b);if(!_0x462c4d)return;const _0x5a663c=allProjects['find'](_0x4cb4a6=>_0x4cb4a6['id']===_0x462c4d);if(!_0x5a663c||!_0x5a663c[_0x52d707(0x748)])return;const _0x4fde2c=()=>{const _0x2347fd=_0x52d707;_0x10665f['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x5a663c['students'][_0x2347fd(0x75d)](_0xe0092f=>'<option\x20value=\x22'+_0xe0092f+'\x22>'+_0xe0092f+'</option>')[_0x2347fd(0xa89)](''),_0x10665f['disabled']=![];const _0x28f87d=Array[_0x2347fd(0x659)](_0x10665f[_0x2347fd(0xb70)])[_0x2347fd(0x75d)](_0x50db47=>_0x50db47[_0x2347fd(0x203)]);if(_0x28b84e&&_0x28f87d[_0x2347fd(0x27b)](_0x28b84e))_0x10665f['value']=_0x28b84e,_0x10665f[_0x2347fd(0x4b2)](new Event(_0x2347fd(0x52b)));else _0x5a663c[_0x2347fd(0x748)][_0x2347fd(0x636)]===0x1&&(_0x10665f[_0x2347fd(0x203)]=_0x5a663c['students'][0x0],_0x10665f[_0x2347fd(0x4b2)](new Event(_0x2347fd(0x52b))));};if(_0x5a663c[_0x52d707(0x997)]?.[_0x52d707(0xba9)]){if(sessionStorage[_0x52d707(0x146)](_0x52d707(0xcba)+_0x462c4d)===_0x52d707(0xcb5)){_0x4fde2c();return;}const _0x32d3fe=document[_0x52d707(0x552)](_0x52d707(0x43d)),_0x3fefa4=document[_0x52d707(0x552)](_0x52d707(0xc57)),_0x50c750=document['getElementById'](_0x52d707(0xc10)),_0x26fc54=document[_0x52d707(0x552)]('student-passcode-input'),_0x393b64=document[_0x52d707(0x552)](_0x52d707(0x213));document[_0x52d707(0x552)](_0x52d707(0x16e))[_0x52d707(0x37a)]=_0x52d707(0x781)+_0x5a663c[_0x52d707(0x217)],_0x26fc54[_0x52d707(0x203)]='',_0x393b64[_0x52d707(0x4c1)][_0x52d707(0x350)](_0x52d707(0x9d2)),_0x32d3fe[_0x52d707(0x4c1)]['remove']('hidden');const _0x47863e=()=>{const _0x430790=_0x52d707,_0x17377c=_0x26fc54[_0x430790(0x203)]['trim']();_0x17377c===_0x5a663c[_0x430790(0x997)][_0x430790(0xb92)]?(sessionStorage[_0x430790(0x341)](_0x430790(0xcba)+_0x462c4d,_0x430790(0xcb5)),_0x32d3fe[_0x430790(0x4c1)]['add'](_0x430790(0x9d2)),_0x4fde2c(),_0x3fefa4['removeEventListener'](_0x430790(0x43a),_0x47863e)):_0x393b64['classList'][_0x430790(0xb01)]('hidden');};_0x3fefa4[_0x52d707(0x6f4)]=_0x47863e,_0x50c750['onclick']=()=>{const _0x4ef454=_0x52d707;_0x32d3fe['classList'][_0x4ef454(0x350)](_0x4ef454(0x9d2)),_0x1d4ecc[_0x4ef454(0x203)]='',_0x3fefa4[_0x4ef454(0xbaf)](_0x4ef454(0x43a),_0x47863e);};}else _0x4fde2c();},_0x10665f[_0x42b67e(0x5eb)]=()=>{const _0xe7c68e=_0x42b67e,_0x46ac86=_0x1d4ecc[_0xe7c68e(0x203)],_0x4a673a=_0x10665f[_0xe7c68e(0x203)];_0x46ac86&&_0x4a673a&&renderStudentProgressDashboard(_0x46ac86,_0x4a673a);};}async function confirmAndJoinSyncGame(){const _0x4b3672=_0x3a383e,_0x5195b0=Array[_0x4b3672(0x659)](document['querySelectorAll'](_0x4b3672(0x40c)))['map'](_0x337ede=>_0x337ede[_0x4b3672(0x203)]);if(_0x5195b0[_0x4b3672(0x636)]===0x0){showMessage(_0x4b3672(0x5b8));return;}localTeamPlayers=_0x5195b0,localPlayerTurnIndex=0x0;const _0x24e5b0=doc(db,_0x4b3672(0xc93)+appId+_0x4b3672(0x67c),currentLiveGameId);try{const _0x2d467a={};_0x5195b0[_0x4b3672(0x1f5)](_0x380a5e=>{const _0x1b9ba9=_0x4b3672;_0x2d467a['players.'+_0x380a5e]={'name':_0x380a5e,'score':0x0,'answered':![],'status':_0x1b9ba9(0xc45)};}),await updateDoc(_0x24e5b0,_0x2d467a),document[_0x4b3672(0x552)](_0x4b3672(0x803))[_0x4b3672(0x4c1)][_0x4b3672(0x350)](_0x4b3672(0x9d2)),currentStudentName=_0x5195b0[0x0],listenForSyncGameUpdates();const _0x52d519={'gameId':currentLiveGameId,'mode':_0x4b3672(0x9e0),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4b3672(0x341)](_0x4b3672(0xacf),JSON[_0x4b3672(0x7ae)](_0x52d519)),currentMode!==_0x4b3672(0xa1e)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4b3672(0x224)](_0x4b3672(0xb7e),handleFullscreenChange),document[_0x4b3672(0x224)](_0x4b3672(0x38a),handleVisibilityChange),enterFullscreen(),window[_0x4b3672(0x224)](_0x4b3672(0xc7a),resetDimTimer),window['addEventListener'](_0x4b3672(0x859),resetDimTimer),window[_0x4b3672(0x224)](_0x4b3672(0x3f4),resetDimTimer),window[_0x4b3672(0x224)](_0x4b3672(0x5b4),resetDimTimer),resetDimTimer());}catch(_0x389b67){console['error'](_0x4b3672(0x41f),_0x389b67),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x50c80d=_0x3a383e,_0x1e8bd0=sessionStorage[_0x50c80d(0x146)](_0x50c80d(0xacf));if(!_0x1e8bd0)return;const _0x44a193=JSON[_0x50c80d(0xbea)](_0x1e8bd0),{gameId:_0xd18abe,mode:_0x3a8be5,players:_0x1ff7c4,turnIndex:_0xa46680}=_0x44a193;try{let _0x1aed33,_0x1d2387;_0x3a8be5===_0x50c80d(0x9e0)?_0x1aed33=doc(db,_0x50c80d(0xc93)+appId+'/public/data/syncGames',_0xd18abe):_0x1aed33=doc(db,_0x50c80d(0xc93)+appId+_0x50c80d(0x54d),_0xd18abe);_0x1d2387=await getDoc(_0x1aed33);if(!_0x1d2387[_0x50c80d(0x837)]()||_0x1d2387[_0x50c80d(0x183)]()[_0x50c80d(0xb09)]===_0x50c80d(0x9a3)||_0x1d2387[_0x50c80d(0x183)]()['status']==='podium'){sessionStorage[_0x50c80d(0x2c2)]('activeGameSession');return;}console['log'](_0x50c80d(0x459)+_0x3a8be5+_0x50c80d(0xca4)+_0xd18abe+')'),localTeamPlayers=_0x1ff7c4,localPlayerTurnIndex=_0xa46680;if(_0x3a8be5===_0x50c80d(0x9e0))currentLiveGameId=_0xd18abe,currentStudentName=_0x1ff7c4[0x0],showView(_0x50c80d(0x7e0)),listenForSyncGameUpdates();else{currentTeamQuizId=_0xd18abe;const _0x5c2c9e=_0x1d2387[_0x50c80d(0x183)](),_0x1873ef=doc(db,'artifacts/'+appId+_0x50c80d(0x766),_0x5c2c9e[_0x50c80d(0x1e8)]),_0x278eb1=await getDoc(_0x1873ef);_0x278eb1['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x278eb1['id'],..._0x278eb1[_0x50c80d(0x183)]()}),showView(_0x50c80d(0x927)),studentInitialView[_0x50c80d(0x4c1)][_0x50c80d(0x350)]('hidden'),renderTeamQuizQuestion());}}catch(_0x9f3dd9){console['error'](_0x50c80d(0x1bc),_0x9f3dd9),sessionStorage[_0x50c80d(0x2c2)]('activeGameSession');}}function activateFileInputAreaWithLoadedFile(){const _0xdf5c61=_0x3a383e,_0x439097=document[_0xdf5c61(0x552)](_0xdf5c61(0x85a)),_0x3cb7b7=document[_0xdf5c61(0x552)]('file-topics-list-container'),_0x670ea9=document['getElementById'](_0xdf5c61(0x70d));selectedFile?_0x670ea9[_0xdf5c61(0xd08)]?(_0x439097['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x439097[_0xdf5c61(0x7ce)]=![],_0x3cb7b7['classList'][_0xdf5c61(0x350)](_0xdf5c61(0x9d2))):(_0x439097['disabled']=!![],_0x3cb7b7[_0xdf5c61(0x4c1)]['add']('hidden'));}async function handleKickPlayerSync(_0x1404cc){const _0x312e9f=_0x3a383e;if(!currentLiveGameId||!_0x1404cc)return;const _0x3ac66c=doc(db,_0x312e9f(0xc93)+appId+_0x312e9f(0x67c),currentLiveGameId),_0x3f07b2={};_0x3f07b2['players.'+_0x1404cc+_0x312e9f(0x733)]=_0x312e9f(0xa07);try{await updateDoc(_0x3ac66c,_0x3f07b2);}catch(_0x2348ca){console['error'](_0x312e9f(0x99c)+_0x1404cc+_0x312e9f(0xa96),_0x2348ca),showMessage(_0x312e9f(0x397));}}async function renderStudentProgressDashboard(_0x35210d,_0x2c88f2){const _0x2c6eb0=_0x3a383e,_0x2178ab=document[_0x2c6eb0(0x552)](_0x2c6eb0(0x9a0));_0x2178ab[_0x2c6eb0(0x377)]=_0x2c6eb0(0x1d6);try{const _0x4550dd=collection(db,_0x2c6eb0(0xc93)+appId+_0x2c6eb0(0x766)),_0x3e501d=query(_0x4550dd,where('projectId','==',_0x35210d)),_0x5b40bb=await getDocs(_0x3e501d),_0x3592c3=_0x5b40bb[_0x2c6eb0(0x975)][_0x2c6eb0(0x75d)](_0x2d87e9=>({'id':_0x2d87e9['id'],..._0x2d87e9[_0x2c6eb0(0x183)]()})),_0x1bab84=_0x3592c3[_0x2c6eb0(0x75d)](_0x148070=>getDoc(doc(db,_0x2c6eb0(0xc93)+appId+_0x2c6eb0(0x847)+_0x148070['id']+_0x2c6eb0(0x32e),_0x2c88f2))),_0x499994=await Promise['all'](_0x1bab84),_0x595b18=_0x499994['filter'](_0x3ffa8d=>_0x3ffa8d[_0x2c6eb0(0x837)]())[_0x2c6eb0(0x75d)](_0xb1db0c=>({'quizId':_0xb1db0c[_0x2c6eb0(0x19a)]['parent'][_0x2c6eb0(0xbb4)]['id'],..._0xb1db0c['data']()}));if(_0x595b18[_0x2c6eb0(0x636)]===0x0){_0x2178ab[_0x2c6eb0(0x377)]=_0x2c6eb0(0x98d);return;}let _0x4f847b=_0x2c6eb0(0x339);_0x595b18[_0x2c6eb0(0x1f5)](_0x1af2a9=>{const _0x4d2cda=_0x2c6eb0,_0x15db64=_0x3592c3[_0x4d2cda(0x51d)](_0x3e922e=>_0x3e922e['id']===_0x1af2a9[_0x4d2cda(0x1e8)]),_0x3233b1=_0x15db64[_0x4d2cda(0x997)]?.[_0x4d2cda(0x7bc)]||_0x4d2cda(0x9ff),_0x578196=_0x15db64['settings']?.['passingScore']??0x0,_0x2f0069=_0x1af2a9[_0x4d2cda(0x313)]>=_0x578196;let _0x200788='',_0x545c11=_0x4d2cda(0x2ec);switch(_0x3233b1){case _0x4d2cda(0x9ff):case _0x4d2cda(0xb2a):_0x545c11=_0x2f0069?_0x4d2cda(0xade):_0x4d2cda(0x48c),_0x200788=_0x4d2cda(0xb93)+(_0x2f0069?'text-green-700':_0x4d2cda(0xb15))+'\x22>'+_0x1af2a9['bestScore']+_0x4d2cda(0x5e1)+_0x1af2a9[_0x4d2cda(0x835)]+_0x4d2cda(0x451)+(_0x2f0069?'bg-green-200\x20text-green-800':_0x4d2cda(0x72c))+'\x22>'+(_0x2f0069?_0x4d2cda(0xbe7):_0x4d2cda(0x720))+_0x4d2cda(0x6c3);break;case _0x4d2cda(0xafb):_0x545c11=_0x2f0069?'bg-green-50':_0x4d2cda(0x48c),_0x200788=_0x4d2cda(0x4e5)+(_0x2f0069?'bg-green-200\x20text-green-800':_0x4d2cda(0x72c))+'\x22>'+(_0x2f0069?_0x4d2cda(0xbe7):_0x4d2cda(0x720))+_0x4d2cda(0x6c3);break;case _0x4d2cda(0xa6d):_0x545c11='bg-yellow-50',_0x200788='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x4f847b+=_0x4d2cda(0x9b1)+_0x545c11+_0x4d2cda(0xa82)+_0x15db64['topic']+_0x4d2cda(0x21f)+_0x1af2a9['attempts']['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x1af2a9[_0x4d2cda(0xc65)])[_0x4d2cda(0xcff)](_0x4d2cda(0xbc4))+_0x4d2cda(0x971)+_0x200788+_0x4d2cda(0x47c);}),_0x4f847b+=_0x2c6eb0(0xc87),_0x2178ab[_0x2c6eb0(0x377)]=_0x4f847b;}catch(_0x229de7){console['error']('Error\x20rendering\x20student\x20progress:',_0x229de7),_0x2178ab[_0x2c6eb0(0x377)]=_0x2c6eb0(0xb55);}}function renderQuizBankListForMultiSelect(_0x38911b=''){const _0x34112f=_0x3a383e,_0x252a13=document[_0x34112f(0x552)](_0x34112f(0xc67)),_0x12e6e2=_0x38911b[_0x34112f(0x883)]()['trim'](),_0x46e2ee=allQuizzesGlobal[_0x34112f(0x75d)](_0x3e038d=>({..._0x3e038d,'projectName':allProjects['find'](_0x246a25=>_0x246a25['id']===_0x3e038d[_0x34112f(0x88a)])?.[_0x34112f(0x217)]||'N/A'}))[_0x34112f(0x499)](_0x48e139=>(_0x48e139[_0x34112f(0x65f)]||'')['toLowerCase']()['includes'](_0x12e6e2)||(_0x48e139['projectName']||'')[_0x34112f(0x883)]()[_0x34112f(0x27b)](_0x12e6e2)||_0x48e139['id'][_0x34112f(0x2de)]()[_0x34112f(0x27b)](_0x12e6e2));_0x252a13['innerHTML']=_0x46e2ee[_0x34112f(0x636)]?_0x46e2ee[_0x34112f(0x75d)](_0x565736=>_0x34112f(0xc75)+_0x565736['id']+_0x34112f(0xca1)+(_0x565736[_0x34112f(0x65f)]||_0x34112f(0x96d))+_0x34112f(0x1b9)+_0x565736[_0x34112f(0x217)]+_0x34112f(0x287)+_0x565736['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x252a13[_0x34112f(0x5eb)]=()=>{const _0x5f4f31=_0x34112f,_0x2478db=document['querySelector'](_0x5f4f31(0x3a9));document['getElementById'](_0x5f4f31(0x4d7))[_0x5f4f31(0x7ce)]=!_0x2478db;};}function setupStudentProgressListeners(){const _0x3d6129=_0x3a383e;document[_0x3d6129(0x552)]('view-my-progress-btn')[_0x3d6129(0x224)](_0x3d6129(0x43a),showStudentProgressView),document[_0x3d6129(0x552)](_0x3d6129(0x5d9))[_0x3d6129(0x224)]('click',()=>{const _0x3ab528=_0x3d6129;document[_0x3ab528(0x552)](_0x3ab528(0x759))[_0x3ab528(0x4c1)][_0x3ab528(0x350)](_0x3ab528(0x9d2)),document[_0x3ab528(0x552)](_0x3ab528(0xc60))[_0x3ab528(0x4c1)][_0x3ab528(0xb01)](_0x3ab528(0x9d2));});}async function startSkillPractice(_0x52bfbd){const _0x30aad5=_0x3a383e;studentResultArea[_0x30aad5(0x4c1)]['add'](_0x30aad5(0x9d2)),studentQuizArea[_0x30aad5(0x377)]=_0x30aad5(0x6f9),studentQuizArea[_0x30aad5(0x4c1)][_0x30aad5(0xb01)](_0x30aad5(0x9d2));try{const _0x20b2c8=await getStandardizedTopic(_0x52bfbd);console[_0x30aad5(0x3ab)](_0x30aad5(0x533)+_0x52bfbd+_0x30aad5(0xb2b)+_0x20b2c8+'\x22'),studentQuizArea[_0x30aad5(0x972)]('p')['textContent']=_0x30aad5(0x7a8)+_0x20b2c8+_0x30aad5(0x71f);const _0x3f98de=collection(db,_0x30aad5(0xc93)+appId+_0x30aad5(0x41b)),_0x3e05af=query(_0x3f98de,where(_0x30aad5(0x65f),'==',_0x20b2c8)),_0xd2a461=await getDocs(_0x3e05af);if(_0xd2a461[_0x30aad5(0x975)][_0x30aad5(0x636)]>=0x3){console[_0x30aad5(0x3ab)](_0x30aad5(0x707)+_0xd2a461[_0x30aad5(0x975)][_0x30aad5(0x636)]+_0x30aad5(0x1c7)+_0x20b2c8+_0x30aad5(0x609));let _0x28d074=_0xd2a461['docs']['map'](_0xa2e3f9=>_0xa2e3f9[_0x30aad5(0x183)]());shuffleArray(_0x28d074);const _0x350d23={'topic':_0x20b2c8,'questions':_0x28d074[_0x30aad5(0x8ea)](0x0,0x3)};displaySkillPracticeDrill(_0x350d23);}else{console['log'](_0x30aad5(0x3d2)+_0x20b2c8+_0x30aad5(0x6ab));const _0x5df694=await generatePracticeQuestions(_0x20b2c8);await saveDrillToPracticeBank(_0x5df694,_0x20b2c8),displaySkillPracticeDrill(_0x5df694);}}catch(_0x2cea48){console[_0x30aad5(0x2e9)](_0x30aad5(0x2d2),_0x2cea48),showMessage(_0x30aad5(0xae7)),studentQuizArea[_0x30aad5(0x4c1)]['add']('hidden'),studentResultArea[_0x30aad5(0x4c1)][_0x30aad5(0xb01)]('hidden');}}async function saveDrillToPracticeBank(_0x3831fa,_0x4ac2fb){const _0x399b3e=_0x3a383e,_0x20a7f3=collection(db,_0x399b3e(0xc93)+appId+'/public/data/practiceBank'),_0x312e6b=writeBatch(db);_0x3831fa[_0x399b3e(0x5cd)][_0x399b3e(0x1f5)](_0x26b61c=>{const _0x57a68e=_0x399b3e,_0x3b2482=doc(_0x20a7f3);_0x312e6b[_0x57a68e(0x767)](_0x3b2482,{'topic':_0x4ac2fb,'questionText':_0x26b61c[_0x57a68e(0x629)],'options':_0x26b61c[_0x57a68e(0xb70)],'correctAnswerIndex':_0x26b61c['correctAnswerIndex'],'explanation':_0x26b61c['explanation'],'createdAt':serverTimestamp()});});try{await _0x312e6b['commit'](),console[_0x399b3e(0x3ab)](_0x399b3e(0x319)+_0x3831fa[_0x399b3e(0x5cd)][_0x399b3e(0x636)]+_0x399b3e(0xb46));}catch(_0x385183){console[_0x399b3e(0x2e9)](_0x399b3e(0xa0e),_0x385183);}}async function getStandardizedTopic(_0x5ed4e1){const _0x240eb7=_0x3a383e,_0x1e5275=_0x240eb7(0x95e)+_0x5ed4e1+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x5e48f0={'type':_0x240eb7(0x695),'properties':{'standardTopic':{'type':_0x240eb7(0x6d8)}},'required':[_0x240eb7(0x66b)]};try{const _0x3f4a35=await callAnalysisApi(_0x1e5275,_0x5e48f0);return _0x3f4a35['standardTopic'];}catch(_0x2efdde){return console[_0x240eb7(0x2e9)](_0x240eb7(0xb02),_0x2efdde),_0x5ed4e1;}}async function handleGenerateEasyVersionQuiz(_0x209902){const _0x515be8=_0x3a383e,_0x1e0b1a=document[_0x515be8(0x552)](_0x515be8(0xc21)),_0x518a1b=document[_0x515be8(0x552)](_0x515be8(0x6e4));_0x518a1b[_0x515be8(0x4c1)][_0x515be8(0x350)]('hidden');const _0x284776=_0x515be8(0x6a1);_0x1e0b1a['insertAdjacentHTML'](_0x515be8(0x31b),_0x284776);try{const _0x3b51d3=allQuizzes[_0x515be8(0x51d)](_0x10a3e1=>_0x10a3e1['id']===_0x209902);if(!_0x3b51d3)throw new Error(_0x515be8(0x420));const _0x2a1f88=_0x515be8(0x41d)+JSON[_0x515be8(0x7ae)](_0x3b51d3[_0x515be8(0x5cd)])+_0x515be8(0x369),_0x5073a8={'type':_0x515be8(0x695),'properties':{'questionText':{'type':_0x515be8(0x6d8)},'questionType':{'type':'STRING'},'options':{'type':_0x515be8(0x159),'items':{'type':_0x515be8(0x6d8)}},'correctAnswerIndex':{'type':_0x515be8(0xbe0)},'idealAnswer':{'type':_0x515be8(0x6d8)},'explanation':{'type':_0x515be8(0x6d8)},'imageCode':{'type':_0x515be8(0x6d8)}},'required':['questionText',_0x515be8(0x5be),_0x515be8(0xb1d)]},_0x5add19={'type':'OBJECT','properties':{'questions':{'type':_0x515be8(0x159),'items':_0x5073a8}},'required':['questions']},_0x2710d8=await callAnalysisApi(_0x2a1f88,_0x5add19);_0x2710d8&&_0x2710d8['questions']&&_0x2710d8[_0x515be8(0x5cd)]['forEach'](_0x29d99e=>{const _0x5cd355=_0x515be8;if(_0x29d99e[_0x5cd355(0xa53)](_0x5cd355(0x9e7))){const _0x265bb8=String(_0x29d99e[_0x5cd355(0x9e7)])['trim']();(_0x265bb8===''||_0x265bb8['toLowerCase']()===_0x5cd355(0xa25)||!_0x265bb8['startsWith'](_0x5cd355(0xb2f)))&&delete _0x29d99e['imageCode'];}});if(!_0x2710d8||!_0x2710d8[_0x515be8(0x5cd)]||_0x2710d8[_0x515be8(0x5cd)]['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x46e208=_0x2710d8['questions'][_0x515be8(0x75d)]((_0x28a458,_0x32691b)=>({..._0x28a458,'id':'q_'+Date[_0x515be8(0x15a)]()+'_'+_0x32691b})),_0x4cdc1e={'projectId':_0x3b51d3['projectId'],'quizType':_0x3b51d3[_0x515be8(0x8bd)],'settings':_0x3b51d3[_0x515be8(0x997)],'createdBy':_0x3b51d3[_0x515be8(0xc27)],'status':_0x515be8(0xc45),'topic':_0x515be8(0x417)+_0x3b51d3[_0x515be8(0x65f)],'questions':_0x46e208,'createdAt':new Date()[_0x515be8(0x6f2)](),'quizMode':'standard','pairedQuizId':null};let _0x278f7f;while(!![]){_0x278f7f=Math[_0x515be8(0x429)](0x3e8+Math['random']()*0x2328)[_0x515be8(0x2de)]();const _0x41d601=await getDoc(doc(db,_0x515be8(0xc93)+appId+_0x515be8(0x766),_0x278f7f));if(!_0x41d601[_0x515be8(0x837)]())break;}await setDoc(doc(db,_0x515be8(0xc93)+appId+'/public/data/quizzes',_0x278f7f),_0x4cdc1e),showMessage(_0x515be8(0x9c4));}catch(_0x74fd88){console[_0x515be8(0x2e9)](_0x515be8(0x81d),_0x74fd88),showMessage('เกิดข้อผิดพลาด:\x20'+_0x74fd88[_0x515be8(0x2db)]);}finally{const _0x103784=document[_0x515be8(0x552)]('temp-loader-results');_0x103784&&_0x103784['remove'](),_0x518a1b[_0x515be8(0x4c1)][_0x515be8(0xb01)](_0x515be8(0x9d2));}}async function generatePracticeQuestions(_0x5106d3){const _0xa259df=_0x3a383e,_0x3cd072=_0xa259df(0x30c)+_0x5106d3+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xa259df(0x6d7),_0x363992={'type':_0xa259df(0x695),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xa259df(0x159),'items':{'type':_0xa259df(0x6d8)}},'correctAnswerIndex':{'type':_0xa259df(0xbe0)},'explanation':{'type':'STRING'}},'required':[_0xa259df(0x629),_0xa259df(0xb70),'correctAnswerIndex','explanation']},_0x3063b1={'type':_0xa259df(0x695),'properties':{'topic':{'type':_0xa259df(0x6d8)},'questions':{'type':_0xa259df(0x159),'items':_0x363992}},'required':[_0xa259df(0x65f),_0xa259df(0x5cd)]};return await callAnalysisApi(_0x3cd072,_0x3063b1);}function displayLessonPlan(_0x3b03d6,_0x11013e){const _0xeac1b2=_0x3a383e,_0x3ff448=_0xeac1b2(0xaaa)+_0x11013e[_0xeac1b2(0x65f)]+_0xeac1b2(0x242)+_0x3b03d6[_0xeac1b2(0x6b8)][_0xeac1b2(0x75d)](_0x28d277=>_0xeac1b2(0x566)+_0x28d277+_0xeac1b2(0x797))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x3b03d6[_0xeac1b2(0x263)]+_0xeac1b2(0x295)+_0x3b03d6[_0xeac1b2(0xb10)]['map'](_0x2a3939=>_0xeac1b2(0x256)+_0x2a3939[_0xeac1b2(0x807)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x2a3939[_0xeac1b2(0xa31)]+_0xeac1b2(0x61b))[_0xeac1b2(0xa89)]('')+_0xeac1b2(0x87a);document[_0xeac1b2(0x552)](_0xeac1b2(0x5ab))['textContent']=_0xeac1b2(0x4d6)+_0x11013e[_0xeac1b2(0x65f)],document[_0xeac1b2(0x552)](_0xeac1b2(0x51a))['innerHTML']=_0x3ff448,document[_0xeac1b2(0x552)](_0xeac1b2(0x455))[_0xeac1b2(0x4c1)][_0xeac1b2(0xb01)]('hidden');if(window['MathJax'])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x1dde2d){let _0x14b6f9=0x0;const _0x365692=_0x1dde2d['questions'],_0x514a58=()=>{const _0x475e6b=_0x35c4,_0x5411a6=_0x365692[_0x14b6f9],_0x42cc14=_0x475e6b(0xc0d)+(_0x14b6f9+0x1)+'\x20/\x20'+_0x365692[_0x475e6b(0x636)]+_0x475e6b(0xbc3)+_0x5411a6['questionText']+_0x475e6b(0xa3f)+_0x5411a6[_0x475e6b(0xb70)][_0x475e6b(0x75d)]((_0x27f9b9,_0x3b4fa2)=>_0x475e6b(0x40f)+_0x3b4fa2+_0x475e6b(0x2cb)+_0x3b4fa2+_0x475e6b(0x684)+_0x3b4fa2+'\x22>'+_0x27f9b9+_0x475e6b(0xbdb))['join']('')+_0x475e6b(0x6a5);studentQuizArea[_0x475e6b(0x377)]=_0x42cc14;if(window[_0x475e6b(0xc8b)])MathJax[_0x475e6b(0x171)]([studentQuizArea]);document['getElementById']('hint-btn')['addEventListener'](_0x475e6b(0x43a),async()=>{const _0x20ea3b=await getHintForQuestion(_0x5411a6['questionText']);showMessage(_0x20ea3b);}),document[_0x475e6b(0x552)](_0x475e6b(0x3de))[_0x475e6b(0x224)]('click',()=>{const _0x53d505=_0x475e6b,_0x5d7ef5=document[_0x53d505(0x972)](_0x53d505(0x543));if(!_0x5d7ef5){showMessage(_0x53d505(0xcf9));return;}const _0x71ec87=document['getElementById'](_0x53d505(0x619)),_0x40c6ab=parseInt(_0x5d7ef5[_0x53d505(0x203)])===_0x5411a6[_0x53d505(0xb21)];_0x40c6ab?(_0x71ec87[_0x53d505(0x5f0)]=_0x53d505(0x9e2),_0x71ec87[_0x53d505(0x377)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x5411a6[_0x53d505(0xb1d)]):(_0x71ec87['className']=_0x53d505(0x8d8),_0x71ec87[_0x53d505(0x377)]=_0x53d505(0xb6c)+_0x5411a6[_0x53d505(0xb1d)]);_0x71ec87[_0x53d505(0x4c1)][_0x53d505(0xb01)]('hidden');if(window['MathJax'])MathJax[_0x53d505(0x171)]([_0x71ec87]);document[_0x53d505(0x552)](_0x53d505(0x3de))[_0x53d505(0x4c1)][_0x53d505(0x350)]('hidden'),document[_0x53d505(0x552)](_0x53d505(0x56f))[_0x53d505(0x4c1)][_0x53d505(0x350)](_0x53d505(0x9d2)),document[_0x53d505(0x552)](_0x53d505(0xa8e))[_0x53d505(0x4c1)][_0x53d505(0xb01)]('hidden');}),document[_0x475e6b(0x552)](_0x475e6b(0xa8e))[_0x475e6b(0x224)](_0x475e6b(0x43a),()=>{const _0x50c622=_0x475e6b;_0x14b6f9++,_0x14b6f9<_0x365692[_0x50c622(0x636)]?_0x514a58():(studentQuizArea[_0x50c622(0x377)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x50c622(0x552)]('back-to-results-btn')[_0x50c622(0x224)]('click',()=>{const _0xe29df1=_0x50c622;studentQuizArea[_0xe29df1(0x4c1)][_0xe29df1(0x350)](_0xe29df1(0x9d2)),studentResultArea[_0xe29df1(0x4c1)][_0xe29df1(0xb01)](_0xe29df1(0x9d2));}));});};_0x514a58();}async function getHintForQuestion(_0xdb0bb8){const _0x226b79=_0x3a383e,_0x44a0d7=_0x226b79(0x8fb)+_0xdb0bb8+_0x226b79(0x6e6),_0x277882={'type':_0x226b79(0x695),'properties':{'hint':{'type':_0x226b79(0x6d8)}},'required':[_0x226b79(0x761)]};try{const _0x1d3d14=await callAnalysisApi(_0x44a0d7,_0x277882);return _0x1d3d14['hint'];}catch(_0x4d1722){return console[_0x226b79(0x2e9)](_0x226b79(0x64d),_0x4d1722),_0x226b79(0xc0a);}}async function extractTextFromPdf(_0x2deb36){const _0x252512=_0x3a383e;pdfjsLib[_0x252512(0xc36)][_0x252512(0xad6)]=_0x252512(0x312);const _0x30f2ea=await _0x2deb36[_0x252512(0xab0)](),_0x2a7b3a=await pdfjsLib[_0x252512(0xc39)](_0x30f2ea)[_0x252512(0x682)],_0x427b8e=_0x2a7b3a[_0x252512(0x5c6)];let _0x55f044='';for(let _0x20c927=0x1;_0x20c927<=_0x427b8e;_0x20c927++){const _0x334206=await _0x2a7b3a['getPage'](_0x20c927),_0xa55eae=await _0x334206[_0x252512(0x3b4)](),_0x1f6a08=_0xa55eae[_0x252512(0x3d8)][_0x252512(0x75d)](_0x5148c4=>_0x5148c4[_0x252512(0x630)])[_0x252512(0xa89)]('\x20');_0x55f044+=_0x1f6a08+'\x0a\x0a';}return _0x55f044;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x5ca106){const _0x27467e=_0x3a383e,_0x37903a=document['getElementById'](_0x27467e(0x9c5)),_0x21d121=document[_0x27467e(0x552)](_0x27467e(0xc69)),_0x292a8c=document[_0x27467e(0x552)](_0x27467e(0x80e));_0x37903a['classList'][_0x27467e(0xb01)]('hidden'),_0x21d121[_0x27467e(0x377)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x292a8c[_0x27467e(0x4c1)][_0x27467e(0x350)](_0x27467e(0x9d2));try{const _0x396e19=_0x27467e(0x4a3)+_0x5ca106+_0x27467e(0x78c),_0x42c7f7={'type':_0x27467e(0x695),'properties':{'gradeLevel':{'type':_0x27467e(0x6d8)},'curriculum':{'type':_0x27467e(0x159),'items':{'type':_0x27467e(0x695),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x27467e(0x159),'items':{'type':_0x27467e(0x695),'properties':{'topicName':{'type':_0x27467e(0x6d8)},'subTopics':{'type':_0x27467e(0x159),'items':{'type':_0x27467e(0x6d8)}}},'required':[_0x27467e(0x880),_0x27467e(0x5d1)]}}},'required':['sara','mainTopics']}}},'required':[_0x27467e(0xbe4),_0x27467e(0xc16)]},_0xa47f7c=await callAnalysisApi(_0x396e19,_0x42c7f7);if(_0xa47f7c&&_0xa47f7c['curriculum'])extractedBlueprintData=_0xa47f7c,renderBlueprintTopics(_0xa47f7c),_0x292a8c[_0x27467e(0x4c1)]['remove'](_0x27467e(0x9d2));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x5471c7){console[_0x27467e(0x2e9)](_0x27467e(0x27e),_0x5471c7),_0x21d121['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x687aca){const _0x56e87d=_0x3a383e,_0x45a331=document[_0x56e87d(0x552)](_0x56e87d(0xc69)),_0x23b631=_0x687aca['gradeLevel'],_0xf3ef3b='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x23b631+_0x56e87d(0x3dd);let _0x4ffeea='';_0x687aca[_0x56e87d(0xc16)]['forEach'](_0x1f76b3=>{const _0x17089f=_0x56e87d;_0x4ffeea+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x1f76b3[_0x17089f(0x69b)]+'</h4>',_0x1f76b3['mainTopics'][_0x17089f(0x1f5)](_0x1188ec=>{const _0x328eb1=_0x17089f;_0x4ffeea+=_0x328eb1(0x68b)+_0x1188ec['topicName']+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x1188ec[_0x328eb1(0x5d1)][_0x328eb1(0x1f5)](_0x350a59=>{const _0xceabd2=_0x328eb1;_0x4ffeea+=_0xceabd2(0xa5c)+_0x350a59['replace'](/'/g,'\x5c\x27')+_0xceabd2(0x9d7)+_0x23b631['replace'](/'/g,'\x5c\x27')+_0xceabd2(0x57d)+_0x350a59+_0xceabd2(0xa63)+_0x350a59[_0xceabd2(0xbc5)](/'/g,'\x5c\x27')+_0xceabd2(0x19f);}),_0x4ffeea+=_0x328eb1(0xaf7);}),_0x4ffeea+=_0x17089f(0xc87);}),_0x45a331[_0x56e87d(0x377)]=_0xf3ef3b+_0x4ffeea;}async function handleGenerateTeachingContent(_0x48c0a5){const _0x11ff8d=_0x3a383e,_0x175eae=document['getElementById'](_0x11ff8d(0x455)),_0x3b04bc=document['getElementById'](_0x11ff8d(0x51a));document[_0x11ff8d(0x552)]('lesson-plan-title')[_0x11ff8d(0x37a)]=_0x11ff8d(0xbff)+_0x48c0a5,_0x3b04bc[_0x11ff8d(0x377)]=_0x11ff8d(0xa3e),_0x175eae[_0x11ff8d(0x4c1)][_0x11ff8d(0xb01)]('hidden');try{const _0x256740=_0x11ff8d(0x935)+_0x48c0a5+_0x11ff8d(0x84e),_0x384f8f={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x11ff8d(0x159),'items':{'type':_0x11ff8d(0x6d8)}},'commonMistakes':{'type':_0x11ff8d(0x159),'items':{'type':_0x11ff8d(0x6d8)}},'stepByStepExamples':{'type':_0x11ff8d(0x159),'items':{'type':_0x11ff8d(0x695),'properties':{'question':{'type':_0x11ff8d(0x6d8)},'solution':{'type':_0x11ff8d(0x6d8)}},'required':[_0x11ff8d(0x807),_0x11ff8d(0xa31)]}},'teacherTips':{'type':_0x11ff8d(0x159),'items':{'type':_0x11ff8d(0x6d8)}}},'required':[_0x11ff8d(0xb80),'commonMistakes',_0x11ff8d(0x2d3),_0x11ff8d(0x928)]},_0x5bd9a7=await callAnalysisApi(_0x256740,_0x384f8f);displayTeachingContent(_0x5bd9a7,_0x48c0a5);}catch(_0x3e1b4e){console[_0x11ff8d(0x2e9)](_0x11ff8d(0x737),_0x3e1b4e),_0x3b04bc[_0x11ff8d(0x377)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x3e1b4e[_0x11ff8d(0x2db)]+_0x11ff8d(0xb8e);}}function displayTeachingContent(_0x4da9e9,_0x462997){const _0x207001=_0x3a383e,_0x481b9f=document[_0x207001(0x552)](_0x207001(0x51a));document[_0x207001(0x552)](_0x207001(0x5ab))[_0x207001(0x37a)]=_0x207001(0x1e7)+_0x462997;const _0x3ad956=_0x207001(0xcd8)+_0x4da9e9[_0x207001(0xb80)]['map'](_0x2c8da8=>_0x207001(0x566)+_0x2c8da8+_0x207001(0x797))['join']('')+_0x207001(0x33f)+_0x4da9e9['commonMistakes'][_0x207001(0x75d)](_0x1cdbdf=>_0x207001(0x566)+_0x1cdbdf+_0x207001(0x797))[_0x207001(0xa89)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x4da9e9[_0x207001(0x2d3)][_0x207001(0x75d)](_0x3498c5=>_0x207001(0x2d0)+_0x3498c5['question']+_0x207001(0x863)+_0x3498c5['solution']+_0x207001(0xb32))[_0x207001(0xa89)]('')+_0x207001(0x511)+_0x4da9e9[_0x207001(0x928)]['map'](_0x8e2b56=>_0x207001(0x566)+_0x8e2b56+_0x207001(0x797))['join']('')+_0x207001(0xaa8);_0x481b9f['innerHTML']=_0x3ad956;if(window[_0x207001(0xc8b)])MathJax[_0x207001(0x171)]([_0x481b9f]);}async function generateQuizForSingleTopic(_0x2fdb21){const _0x4abaa2=_0x3a383e;console[_0x4abaa2(0x3ab)](_0x4abaa2(0xa1f)+_0x2fdb21+'\x22');const _0x2106de=document[_0x4abaa2(0x552)]('reference-pdf-upload'),_0x27ec93=_0x2106de['files'][_0x4abaa2(0x636)]>0x0?_0x2106de[_0x4abaa2(0x5a9)][0x0]:null;let _0x1f8fc4=null;if(_0x27ec93)try{const _0x14aa2c=new FileReader();_0x14aa2c[_0x4abaa2(0x177)](_0x27ec93);const _0x43b5b3=await new Promise((_0x15978d,_0xbc15d3)=>{const _0x52d5ba=_0x4abaa2;_0x14aa2c[_0x52d5ba(0xb22)]=()=>_0x15978d(_0x14aa2c[_0x52d5ba(0x2ae)][_0x52d5ba(0xc3d)](',')[0x1]),_0x14aa2c[_0x52d5ba(0xa10)]=_0x51ffe2=>_0xbc15d3(_0x51ffe2);});_0x1f8fc4=[{'inlineData':{'mimeType':_0x27ec93['type'],'data':_0x43b5b3}}];}catch(_0x19a746){console['error'](_0x4abaa2(0xd0f),_0x19a746),showMessage(_0x4abaa2(0x5a1));return;}generateQuiz(_0x2fdb21,null,null,_0x1f8fc4,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x28af7a=null){const _0x1c158b=_0x3a383e,_0x16a25e=document[_0x1c158b(0x552)](_0x1c158b(0x39f)),_0x351d99=document[_0x1c158b(0x552)](_0x1c158b(0x2d6));let _0xcd18c3;if(_0x28af7a)_0xcd18c3=_0x28af7a;else{const _0x7ac9b4=document[_0x1c158b(0x552)](_0x1c158b(0x463)),_0x255287=_0x7ac9b4[_0x1c158b(0x5a9)][0x0];if(!_0x255287){showMessage(_0x1c158b(0x35d));return;}_0x351d99[_0x1c158b(0x37a)]=_0x1c158b(0x296);const _0x47850e=await new Promise((_0x83482f,_0x514c2c)=>{const _0x2be8f=_0x1c158b,_0x4f6288=new FileReader();_0x4f6288[_0x2be8f(0x177)](_0x255287),_0x4f6288[_0x2be8f(0xb22)]=()=>_0x83482f(_0x4f6288['result'][_0x2be8f(0xc3d)](',')[0x1]),_0x4f6288['onerror']=_0x514c2c;});_0xcd18c3=[{'text':_0x1c158b(0x760)},{'inlineData':{'mimeType':_0x255287[_0x1c158b(0x96b)],'data':_0x47850e}}];}const _0x433fdf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20',_0x56f6e0=_0x1c158b(0x6f5),_0x1e1d22=_0x1c158b(0xbb0),_0x416ff9={'type':_0x1c158b(0x695),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1c158b(0x6d8),'enum':[_0x1c158b(0x2df),'short_answer',_0x1c158b(0x631),_0x1c158b(0x4b4)]},'options':{'type':_0x1c158b(0x159),'items':{'type':_0x1c158b(0x6d8)}},'correctAnswerIndex':{'type':_0x1c158b(0xbe0)},'idealAnswer':{'type':_0x1c158b(0x6d8)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x1c158b(0x6d8)},'imageCode':{'type':_0x1c158b(0x6d8)}},'required':[_0x1c158b(0x5be),_0x1c158b(0xb1d)]},_0x346708={'type':_0x1c158b(0x695),'properties':{'topic':{'type':_0x1c158b(0x6d8)},'questions':{'type':_0x1c158b(0x159),'items':_0x416ff9}},'required':[_0x1c158b(0x65f),_0x1c158b(0x5cd)]};_0xcd18c3[0x0][_0x1c158b(0x5f4)]=_0x1e1d22,await handleApiCall(_0xcd18c3,_0x1c158b(0x814),_0x346708);}function proceedToNextQuestion(_0x48d4af){const _0x104842=_0x3a383e;studentAnswersPerQuestion[_0x104842(0x321)](_0x48d4af),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x3ddb94,_0x5d7fce){const _0x14e57b=_0x3a383e,_0x239d3e=Object[_0x14e57b(0x8b4)](_0x3ddb94['players']||{}),_0x356e47=_0x239d3e['length'],_0x3031b3=[..._0x239d3e]['sort']((_0x224ca7,_0x13d2ae)=>_0x13d2ae['score']-_0x224ca7[_0x14e57b(0xbd7)]),_0x25bc03=_0x3ddb94[_0x14e57b(0x3fd)];let _0x327b42='';const _0x1b365f=_0x3ddb94['shuffledQuiz']['questions'],_0x4e346d=_0x1b365f[_0x25bc03],_0x1facf2=_0x58501c=>String[_0x14e57b(0x6ee)](0x41+_0x58501c);let _0x52f306='',_0x32332b='';if(_0x4e346d){const _0x356e16=_0x4e346d[_0x14e57b(0x5be)]||_0x3ddb94['shuffledQuiz'][_0x14e57b(0x8bd)];if(_0x356e16==='multiple_choice'&&_0x4e346d[_0x14e57b(0xb70)]&&_0x4e346d['correctAnswerIndex']!==undefined){const _0x3f9dde=_0x4e346d['correctAnswerIndex'];_0x52f306=_0x4e346d[_0x14e57b(0xb70)][_0x3f9dde],_0x32332b=_0x1facf2(_0x3f9dde)+'.';}else{if(_0x356e16===_0x14e57b(0x631)){const _0x9424c7=_0x4e346d[_0x14e57b(0x207)]===!![]||String(_0x4e346d['correctAnswer'])[_0x14e57b(0x883)]()===_0x14e57b(0xcb5);_0x9424c7?(_0x52f306=_0x14e57b(0x527),_0x32332b='ก.'):(_0x52f306=_0x14e57b(0x2f9),_0x32332b='ข.');}else{if(_0x356e16==='matching_item')_0x52f306=_0x4e346d[_0x14e57b(0x8b9)]||'-',_0x32332b='';else _0x356e16===_0x14e57b(0x952)&&(_0x52f306=_0x4e346d[_0x14e57b(0x572)]||'-',_0x32332b='');}}}_0x52f306&&(_0x327b42=_0x14e57b(0x838)+(_0x25bc03+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x32332b+'\x20'+_0x52f306+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x52019f=_0x3031b3[_0x14e57b(0x75d)](_0x167239=>{const _0x5641ac=_0x14e57b;let _0x3e552d=![];if(_0x167239[_0x5641ac(0x7b5)]&&_0x25bc03!==-0x1){const _0xca4302=_0x167239[_0x5641ac(0x7b5)][_0x5641ac(0x51d)](_0x58da3a=>_0x58da3a[_0x5641ac(0x4e7)]===_0x25bc03);_0xca4302&&_0xca4302[_0x5641ac(0x1c8)]&&(_0x3e552d=!![]);}const _0x2ebc27=_0x3e552d?_0x5641ac(0x273):_0x5641ac(0x69a);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x2ebc27+_0x5641ac(0xa52)+_0x167239['name']+'</span><span\x20class=\x22font-bold\x22>'+_0x167239[_0x5641ac(0xbd7)]+'\x20คะแนน</span></div>';})[_0x14e57b(0xa89)](''),_0x5454f2=_0x1b365f[_0x14e57b(0x75d)]((_0x460da1,_0x1f5b46)=>{const _0x1c53e2=_0x14e57b,_0x1799c4=_0x239d3e[_0x1c53e2(0x499)](_0x11ee65=>_0x11ee65[_0x1c53e2(0x7b5)]&&_0x11ee65[_0x1c53e2(0x7b5)][_0x1c53e2(0x51d)](_0x5c0ab5=>_0x5c0ab5[_0x1c53e2(0x4e7)]===_0x1f5b46&&_0x5c0ab5[_0x1c53e2(0x1c8)]))[_0x1c53e2(0x636)],_0x5ec57c=_0x1f5b46===_0x25bc03,_0x2bbaf5=_0x5ec57c?_0x1c53e2(0x904):_0x1c53e2(0x51b);return _0x1c53e2(0x5b1)+_0x2bbaf5+_0x1c53e2(0xce2)+(_0x1f5b46+0x1)+_0x1c53e2(0x15b)+_0x1799c4+_0x1c53e2(0x5e1)+_0x356e47+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x48c92e='',_0x4e3ba3='';if(_0x5d7fce){const _0x452990=_0x3ddb94[_0x14e57b(0x3fd)]>=_0x1b365f[_0x14e57b(0x636)]-0x1;_0x48c92e='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x452990?_0x14e57b(0xa36):_0x14e57b(0x323))+_0x14e57b(0x702),_0x4e3ba3=_0x14e57b(0x279);}const _0x50ba8f=_0x14e57b(0x1ef)+_0x3ddb94[_0x14e57b(0x402)]['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e3ba3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x327b42+_0x14e57b(0x571)+(_0x52019f||_0x14e57b(0xc20))+_0x14e57b(0x20a)+_0x5454f2+_0x14e57b(0x7db)+(_0x5d7fce?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x48c92e+_0x14e57b(0xc87):'')+_0x14e57b(0x88c);liveGameView[_0x14e57b(0x377)]=_0x50ba8f;if(window[_0x14e57b(0xc8b)]){const _0x1304db=document[_0x14e57b(0x552)](_0x14e57b(0x354));_0x1304db&&MathJax[_0x14e57b(0x171)]([_0x1304db]);}if(_0x5d7fce){document[_0x14e57b(0x552)]('next-sync-question-btn')[_0x14e57b(0x6f4)]=async()=>{const _0x5747bd=_0x14e57b,_0x1d4d37=doc(db,_0x5747bd(0xc93)+appId+_0x5747bd(0x67c),currentLiveGameId),_0xe7758d=_0x3ddb94[_0x5747bd(0x3fd)]+0x1;if(_0xe7758d<_0x1b365f[_0x5747bd(0x636)]){const _0x47c287={};Object[_0x5747bd(0xb17)](_0x3ddb94[_0x5747bd(0x8d9)])[_0x5747bd(0x1f5)](_0x4a7fc5=>{const _0xced1e5=_0x5747bd;_0x47c287[_0xced1e5(0xa02)+_0x4a7fc5+_0xced1e5(0x6af)]=![],_0x47c287[_0xced1e5(0xa02)+_0x4a7fc5+_0xced1e5(0x364)]=null;}),await updateDoc(_0x1d4d37,{..._0x47c287,'status':'question','currentQuestionIndex':_0xe7758d,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1d4d37,{'status':'podium'});};const _0x54ffd7=document[_0x14e57b(0x552)](_0x14e57b(0x9dc));_0x54ffd7&&(_0x54ffd7[_0x14e57b(0x6f4)]=()=>{const _0x562fd6=_0x14e57b;showConfirmation(_0x562fd6(0x9fc),async()=>{const _0x4649e3=_0x562fd6,_0xec18ca=doc(db,'artifacts/'+appId+_0x4649e3(0x67c),currentLiveGameId);await updateDoc(_0xec18ca,{'status':_0x4649e3(0xc5d)});});});}}async function handleGenerateParallelFromBank(_0x3e254c){const _0x1d41ac=_0x3a383e,_0x168985=document[_0x1d41ac(0x552)](_0x1d41ac(0xc21)),_0x3ed61e=document[_0x1d41ac(0x552)](_0x1d41ac(0x6e4));_0x3ed61e[_0x1d41ac(0x4c1)][_0x1d41ac(0x350)](_0x1d41ac(0x9d2));const _0x260015='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x3e254c[_0x1d41ac(0x65f)]+_0x1d41ac(0xcdf);_0x168985['insertAdjacentHTML'](_0x1d41ac(0x31b),_0x260015);const _0x2c2d47=document[_0x1d41ac(0x552)](_0x1d41ac(0x33d));try{const _0x37b975=_0x3e254c[_0x1d41ac(0x5cd)]['map']((_0x3fb42c,_0x1ce2db)=>{const _0x3835a0=_0x1d41ac;let _0x30fbf4=_0x1ce2db+0x1+'.\x20'+(_0x3fb42c['questionText']||_0x3fb42c[_0x3835a0(0x2a5)])+'\x0a';if(_0x3fb42c[_0x3835a0(0xb70)])_0x30fbf4+=_0x3fb42c[_0x3835a0(0xb70)][_0x3835a0(0x75d)]((_0x3fce7a,_0x301ef2)=>_0x3835a0(0x40e)+(_0x301ef2===_0x3fb42c[_0x3835a0(0xb21)]?_0x3835a0(0x426):'')+'\x20'+_0x3fce7a)[_0x3835a0(0xa89)]('\x0a');else _0x3fb42c[_0x3835a0(0x572)]&&(_0x30fbf4+=_0x3835a0(0x74c)+_0x3fb42c[_0x3835a0(0x572)]);return _0x30fbf4;})[_0x1d41ac(0xa89)]('\x0a\x0a');_0x2c2d47['textContent']=_0x1d41ac(0x834);const _0xf17f20='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x3e254c['topic']+_0x1d41ac(0xae1)+_0x37b975+_0x1d41ac(0x4e8)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x23ac49={'type':_0x1d41ac(0x695),'properties':{'questionText':{'type':_0x1d41ac(0x6d8)},'questionType':{'type':_0x1d41ac(0x6d8),'enum':[_0x1d41ac(0x2df),_0x1d41ac(0x952),_0x1d41ac(0x631),_0x1d41ac(0x4b4)]},'options':{'type':'ARRAY','items':{'type':_0x1d41ac(0x6d8)}},'correctAnswerIndex':{'type':_0x1d41ac(0xbe0)},'idealAnswer':{'type':_0x1d41ac(0x6d8)},'correctAnswer':{'type':_0x1d41ac(0x3e9)},'stem':{'type':_0x1d41ac(0x6d8)},'correctResponse':{'type':_0x1d41ac(0x6d8)},'allResponses':{'type':_0x1d41ac(0x159),'items':{'type':_0x1d41ac(0x6d8)}},'explanation':{'type':_0x1d41ac(0x6d8)},'imageCode':{'type':'STRING'}},'required':[_0x1d41ac(0x5be),_0x1d41ac(0xb1d)]},_0x52db5b={'type':_0x1d41ac(0x695),'properties':{'topic':{'type':_0x1d41ac(0x6d8)},'questions':{'type':'ARRAY','items':_0x23ac49}},'required':[_0x1d41ac(0x65f),'questions']},_0x38d484=await callAnalysisApi(_0xf17f20,_0x52db5b),_0x59b241=_0x38d484[_0x1d41ac(0x5cd)][_0x1d41ac(0x75d)]((_0x3b66ba,_0x316fe0)=>({..._0x3b66ba,'id':'q_'+Date[_0x1d41ac(0x15a)]()+'_'+_0x316fe0})),_0x3d4c95=_0x1d41ac(0x458)+_0x3e254c[_0x1d41ac(0x65f)],_0x3caf43={'topic':_0x3d4c95,'questions':_0x59b241,'quizType':_0x3e254c[_0x1d41ac(0x8bd)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1d41ac(0x6f2)](),'status':_0x1d41ac(0xc45),'settings':_0x3e254c[_0x1d41ac(0x997)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x3d0ba3;while(!![]){_0x3d0ba3=Math[_0x1d41ac(0x429)](0x3e8+Math[_0x1d41ac(0x9f5)]()*0x2328)[_0x1d41ac(0x2de)]();const _0x3fb068=await getDoc(doc(db,_0x1d41ac(0xc93)+appId+_0x1d41ac(0x766),_0x3d0ba3));if(!_0x3fb068[_0x1d41ac(0x837)]())break;}await setDoc(doc(db,_0x1d41ac(0xc93)+appId+_0x1d41ac(0x766),_0x3d0ba3),_0x3caf43),showMessage(_0x1d41ac(0x97f));}catch(_0x3b97e3){console[_0x1d41ac(0x2e9)](_0x1d41ac(0xa2d),_0x3b97e3),showMessage(_0x1d41ac(0x9be)+_0x3b97e3[_0x1d41ac(0x2db)]);}finally{const _0x5a491d=document[_0x1d41ac(0x552)](_0x1d41ac(0x848));_0x5a491d&&_0x5a491d[_0x1d41ac(0xb01)](),_0x3ed61e[_0x1d41ac(0x4c1)][_0x1d41ac(0xb01)](_0x1d41ac(0x9d2));}}async function handleGenerateParallelPostTest(_0xe35603){const _0x35763c=_0x3a383e,_0x21994e=document['getElementById']('results-tab-content'),_0x1365b9=document['getElementById']('project-quizzes-list');_0x1365b9[_0x35763c(0x4c1)][_0x35763c(0x350)](_0x35763c(0x9d2));const _0x696185='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x21994e[_0x35763c(0x82e)]('beforeend',_0x696185);try{const _0x4f9bd6=_0xe35603['questions']['map']((_0x250ca6,_0x2aa6d6)=>{const _0x2ef0a8=_0x35763c;let _0x30a361=_0x2aa6d6+0x1+'.\x20'+(_0x250ca6[_0x2ef0a8(0x629)]||_0x250ca6[_0x2ef0a8(0x2a5)]);if(_0x250ca6[_0x2ef0a8(0xb70)])_0x30a361+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x250ca6['options'][_0x2ef0a8(0xa89)](',\x20');return _0x30a361;})[_0x35763c(0xa89)]('\x0a\x0a'),_0xbdc770=_0x35763c(0x70a)+_0xe35603['topic']+_0x35763c(0x44c)+_0x4f9bd6+_0x35763c(0x302)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5bbcda={'type':_0x35763c(0x695),'properties':{'topic':{'type':_0x35763c(0x6d8)},'questions':{'type':_0x35763c(0x159),'items':{'type':_0x35763c(0x695),'properties':{'questionText':{'type':_0x35763c(0x6d8)},'questionType':{'type':_0x35763c(0x6d8)},'options':{'type':'ARRAY','items':{'type':_0x35763c(0x6d8)}},'correctAnswerIndex':{'type':_0x35763c(0xbe0)},'idealAnswer':{'type':_0x35763c(0x6d8)},'explanation':{'type':_0x35763c(0x6d8)}},'required':[_0x35763c(0x629),_0x35763c(0xb1d)]}}},'required':[_0x35763c(0x65f),_0x35763c(0x5cd)]},_0x4f543e=await callAnalysisApi(_0xbdc770,_0x5bbcda),_0x53b560=_0xe35603['topic'][_0x35763c(0xbc5)]('(ก่อนเรียน)','')[_0x35763c(0x887)](),_0x418def=_0x35763c(0x371)+_0x53b560,_0x2cf05f={..._0x4f543e,'topic':_0x418def,'quizType':_0xe35603[_0x35763c(0x8bd)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x35763c(0x6f2)](),'status':'active','settings':_0xe35603[_0x35763c(0x997)],'quizMode':_0x35763c(0x334),'pairedQuizId':_0xe35603['id']};let _0x15214c;while(!![]){_0x15214c=Math[_0x35763c(0x429)](0x3e8+Math[_0x35763c(0x9f5)]()*0x2328)[_0x35763c(0x2de)]();const _0x1dcddd=await getDoc(doc(db,_0x35763c(0xc93)+appId+_0x35763c(0x766),_0x15214c));if(!_0x1dcddd[_0x35763c(0x837)]())break;}await setDoc(doc(db,_0x35763c(0xc93)+appId+_0x35763c(0x766),_0x15214c),_0x2cf05f);const _0xf14e41=doc(db,_0x35763c(0xc93)+appId+_0x35763c(0x766),_0xe35603['id']);await updateDoc(_0xf14e41,{'pairedQuizId':_0x15214c}),showMessage(_0x35763c(0x9db));}catch(_0xaef600){console[_0x35763c(0x2e9)](_0x35763c(0xcb8),_0xaef600),showMessage(_0x35763c(0x9be)+_0xaef600[_0x35763c(0x2db)]);}finally{const _0x1410c1=document['getElementById'](_0x35763c(0x848));if(_0x1410c1)_0x1410c1['remove']();_0x1365b9['classList'][_0x35763c(0xb01)](_0x35763c(0x9d2));}}async function handleGenerateParallelTest(_0x482ed1=null){const _0x3a496b=_0x3a383e;let _0x415b88=_0x482ed1;if(!_0x415b88){const _0x3c0889=document[_0x3a496b(0x552)](_0x3a496b(0xa81));_0x3c0889[_0x3a496b(0x5a9)][_0x3a496b(0x636)]>0x0&&(_0x415b88=_0x3c0889[_0x3a496b(0x5a9)][0x0]);}if(!_0x415b88){showMessage(_0x3a496b(0x50c));return;}const _0x169a41=document[_0x3a496b(0x552)]('loader'),_0x42bfa5=document[_0x3a496b(0x552)]('loader-text'),_0xdeae0=document[_0x3a496b(0x552)](_0x3a496b(0x8af)),_0x35bda2=document[_0x3a496b(0x552)](_0x3a496b(0xc92));_0x35bda2[_0x3a496b(0x7ce)]=!![],document[_0x3a496b(0x552)]('quiz-generation-area')[_0x3a496b(0x4c1)][_0x3a496b(0xb01)](_0x3a496b(0x9d2)),_0xdeae0[_0x3a496b(0x377)]='',_0x169a41[_0x3a496b(0x4c1)][_0x3a496b(0xb01)](_0x3a496b(0x9d2)),_0x42bfa5[_0x3a496b(0x37a)]=_0x3a496b(0x96f);const _0x5d9c0e=new FileReader();_0x5d9c0e[_0x3a496b(0x177)](_0x415b88),_0x5d9c0e[_0x3a496b(0xb22)]=async()=>{const _0x365739=_0x3a496b;try{const _0x4a7892=_0x5d9c0e['result'][_0x365739(0xc3d)](',')[0x1],_0x50875a=_0x415b88[_0x365739(0x96b)];_0x42bfa5['textContent']=_0x365739(0xc1e);const _0x2dae27=document['getElementById']('include-images-checkbox')[_0x365739(0xd08)],_0x417093=_0x2dae27?_0x365739(0x6ff):'',_0x615c4=_0x365739(0xb8c),_0x3c0fc7={'type':_0x365739(0x695),'properties':{'questionText':{'type':_0x365739(0x6d8)},'questionType':{'type':'STRING','enum':[_0x365739(0x2df),_0x365739(0x952)]},'options':{'type':_0x365739(0x159),'items':{'type':_0x365739(0x6d8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x365739(0x6d8)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x365739(0x6d8)}},'required':['questionText',_0x365739(0x5be),_0x365739(0xb1d)]},_0x4055e6={'type':_0x365739(0x695),'properties':{'topic':{'type':_0x365739(0x6d8)},'questions':{'type':_0x365739(0x159),'items':_0x3c0fc7}},'required':[_0x365739(0x65f),_0x365739(0x5cd)]},_0x4d2a0e=[{'text':_0x615c4},{'inlineData':{'mimeType':_0x50875a,'data':_0x4a7892}}];await handleApiCall(_0x4d2a0e,_0x365739(0x954),_0x4055e6);}catch(_0x5b850d){console[_0x365739(0x2e9)](_0x365739(0x73e),_0x5b850d),showMessage(_0x365739(0x9be)+_0x5b850d[_0x365739(0x2db)]),_0xdeae0[_0x365739(0x377)]=_0x365739(0xca3);}finally{_0x169a41[_0x365739(0x4c1)]['add'](_0x365739(0x9d2)),_0x35bda2[_0x365739(0x7ce)]=![];}},_0x5d9c0e['onerror']=_0x5303e6=>{const _0x5f12aa=_0x3a496b;console['error'](_0x5f12aa(0xc58),_0x5303e6),showMessage(_0x5f12aa(0x994)),_0x169a41['classList'][_0x5f12aa(0x350)]('hidden'),_0x35bda2[_0x5f12aa(0x7ce)]=![];};}async function handleRegenerateQuestionInEditor(_0x3a8224){const _0x24ab50=_0x3a383e;if(currentEditingQuizData===null)return;const _0x397900=document['querySelector'](_0x24ab50(0x4c2)+_0x3a8224+'\x22]');_0x397900&&(_0x397900[_0x24ab50(0x377)]=_0x24ab50(0x72d));const _0x3f0884=currentEditingQuizData['questions'][_0x3a8224],_0x1f300d=currentEditingQuizData['topic'],_0x4e8a00=_0x3f0884['questionType'],_0x561e4e={'type':_0x24ab50(0x695),'properties':{'questionText':{'type':_0x24ab50(0x6d8)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x24ab50(0x6d8)}},'required':['questionText',_0x24ab50(0xb70),_0x24ab50(0xb21),_0x24ab50(0xb1d)]},_0x321cd1={'type':'OBJECT','properties':{'questionText':{'type':_0x24ab50(0x6d8)},'idealAnswer':{'type':_0x24ab50(0x6d8)},'explanation':{'type':_0x24ab50(0x6d8)}},'required':[_0x24ab50(0x629),_0x24ab50(0x572),_0x24ab50(0xb1d)]};let _0x34e8d1,_0x18d90f='';_0x4e8a00===_0x24ab50(0x2df)?(_0x34e8d1=_0x561e4e,_0x18d90f='แบบปรนัย\x204\x20ตัวเลือก'):(_0x34e8d1=_0x321cd1,_0x18d90f=_0x24ab50(0xc4e));const _0x8e5511=_0x24ab50(0x4d3)+_0x1f300d+_0x24ab50(0x14d)+_0x18d90f+_0x24ab50(0x6a7)+(_0x3f0884[_0x24ab50(0x629)]||_0x3f0884[_0x24ab50(0x2a5)])+_0x24ab50(0x477)+simpleMathPrompt;try{const _0x19d748=await callAnalysisApi(_0x8e5511,_0x34e8d1);currentEditingQuizData[_0x24ab50(0x5cd)][_0x3a8224]={..._0x3f0884,..._0x19d748},renderQuizEditor(currentEditingQuizData);}catch(_0x1c1e46){console[_0x24ab50(0x2e9)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x1c1e46),showMessage(_0x24ab50(0xc6f)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5968b8=_0x3a383e,_0x5ae755=document['getElementById']('mode-switcher-btn');currentMode===_0x5968b8(0x927)?(currentMode=_0x5968b8(0x4a6),_0x5ae755[_0x5968b8(0x377)]=_0x5968b8(0x88e),_0x5ae755[_0x5968b8(0x1b3)]='สลับไปโหมดนักเรียน',showView(_0x5968b8(0x1ec))):(currentMode=_0x5968b8(0x927),_0x5ae755[_0x5968b8(0x377)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x5ae755[_0x5968b8(0x1b3)]=_0x5968b8(0x239),showView(_0x5968b8(0x927)));}function handleAdminLogin(){const _0x1d7b32=_0x3a383e,_0x1072f2=document[_0x1d7b32(0x552)](_0x1d7b32(0xa1c)),_0x51b8b3=document['getElementById'](_0x1d7b32(0x17f));if(_0x1072f2[_0x1d7b32(0x203)]===_0x1d7b32(0xc77)){adminPasswordModal[_0x1d7b32(0x4c1)][_0x1d7b32(0x350)]('hidden'),_0x1072f2['value']='',_0x51b8b3[_0x1d7b32(0x4c1)][_0x1d7b32(0x350)](_0x1d7b32(0x9d2)),currentMode=_0x1d7b32(0x4a6);const _0x1fe0be=document[_0x1d7b32(0x552)]('mode-switcher-btn');_0x1fe0be[_0x1d7b32(0x377)]=_0x1d7b32(0x88e),_0x1fe0be[_0x1d7b32(0x1b3)]='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x51b8b3[_0x1d7b32(0x4c1)]['remove'](_0x1d7b32(0x9d2)),_0x1072f2[_0x1d7b32(0x203)]='';}function switchProjectTab(_0xa6d452){const _0x1b9ae2=_0x3a383e;['manage',_0x1b9ae2(0x569),_0x1b9ae2(0x65b)][_0x1b9ae2(0x1f5)](_0x777065=>{const _0x155102=_0x1b9ae2;document['getElementById'](_0x777065+_0x155102(0x7e3))[_0x155102(0x4c1)]['remove'](_0x155102(0xc45)),document[_0x155102(0x552)](_0x777065+_0x155102(0x826))[_0x155102(0x4c1)]['add'](_0x155102(0x9d2));}),document[_0x1b9ae2(0x552)](_0xa6d452+_0x1b9ae2(0x7e3))[_0x1b9ae2(0x4c1)][_0x1b9ae2(0x350)](_0x1b9ae2(0xc45)),document[_0x1b9ae2(0x552)](_0xa6d452+_0x1b9ae2(0x826))[_0x1b9ae2(0x4c1)][_0x1b9ae2(0xb01)]('hidden');}function switchQuizDetailTab(_0x4a9721){const _0x319de7=_0x3a383e,_0x5df32e={'analytics':{'btn':'analytics-tab-btn','content':_0x319de7(0x209)},'scores':{'btn':'scores-tab-btn','content':_0x319de7(0x6fe)},'leaderboard-quiz':{'btn':_0x319de7(0x82f),'content':_0x319de7(0xad0)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x319de7(0x20d)}};for(const _0x4bf319 in _0x5df32e){document[_0x319de7(0x552)](_0x5df32e[_0x4bf319][_0x319de7(0x9a5)])[_0x319de7(0x4c1)][_0x319de7(0xb01)](_0x319de7(0xc45)),document[_0x319de7(0x552)](_0x5df32e[_0x4bf319][_0x319de7(0xc4f)])['classList'][_0x319de7(0x350)](_0x319de7(0x9d2));}document[_0x319de7(0x552)](_0x5df32e[_0x4a9721]['btn'])[_0x319de7(0x4c1)][_0x319de7(0x350)](_0x319de7(0xc45)),document[_0x319de7(0x552)](_0x5df32e[_0x4a9721][_0x319de7(0xc4f)])[_0x319de7(0x4c1)][_0x319de7(0xb01)](_0x319de7(0x9d2));}function showMessage(_0x2db4ce,_0x37e9c1=null){const _0x17024d=_0x3a383e;modalMessage[_0x17024d(0x37a)]=_0x2db4ce,modalConfirmAction=_0x37e9c1,messageModal[_0x17024d(0x4c1)]['remove'](_0x17024d(0x9d2));}function showConfirmation(_0x38d297,_0x321096){const _0x2188a3=_0x3a383e;document['getElementById']('confirmation-message')[_0x2188a3(0x37a)]=_0x38d297,document[_0x2188a3(0x552)](_0x2188a3(0x97b))[_0x2188a3(0x972)]('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x321096,confirmationModal[_0x2188a3(0x4c1)][_0x2188a3(0xb01)](_0x2188a3(0x9d2));}function listenForProjects(){const _0x1a84f1=_0x3a383e,_0xc3fa92=doc(db,_0x1a84f1(0x182),_0x1a84f1(0x1f2));onSnapshot(_0xc3fa92,_0x2a8f89=>{const _0x5352b2=_0x1a84f1;if(_0x2a8f89[_0x5352b2(0x837)]()){const _0x3742a5=_0x2a8f89[_0x5352b2(0x183)]();globalDashboardSettings['projectSort']=_0x3742a5['projectSort']||_0x5352b2(0xc64),globalDashboardSettings['pinnedProjects']=_0x3742a5['pinnedProjects']||[],globalDashboardSettings['projectOrder']=_0x3742a5[_0x5352b2(0xa08)]||[];}allProjects[_0x5352b2(0x636)]>0x0&&renderProjects();});const _0x3e2d96=collection(db,_0x1a84f1(0xc93)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x3e2d96,_0x2d360b=>{const _0x563f08=_0x1a84f1;allProjects=_0x2d360b[_0x563f08(0x975)][_0x563f08(0x75d)](_0x452f56=>({'id':_0x452f56['id'],..._0x452f56['data']()})),renderProjects();},_0x5af198=>{const _0xb51476=_0x1a84f1;console[_0xb51476(0x2e9)](_0xb51476(0x231),_0x5af198),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x5cc1ec,_0x3c1d8c){const _0x3ed96e=_0x3a383e;document[_0x3ed96e(0x3e0)](_0x3ed96e(0x774))[_0x3ed96e(0x1f5)](_0x2a4617=>_0x2a4617['remove']());const _0x24627a=[_0x3ed96e(0x626),'#FEE2E2',_0x3ed96e(0x26e),_0x3ed96e(0x8d5),_0x3ed96e(0x5aa),'#E0E7FF','#F3E8FF',_0x3ed96e(0x18d),'#E5E7EB'],_0x247c6c=document[_0x3ed96e(0x9eb)]('div');_0x247c6c[_0x3ed96e(0x5f0)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x24627a['forEach'](_0x4d9ed0=>{const _0x589c3a=_0x3ed96e,_0x4b54ee=document[_0x589c3a(0x9eb)](_0x589c3a(0x3f7));_0x4b54ee[_0x589c3a(0x5f0)]=_0x589c3a(0x4a4),_0x4b54ee[_0x589c3a(0x89b)][_0x589c3a(0x316)]=_0x4d9ed0,_0x4b54ee[_0x589c3a(0x224)](_0x589c3a(0x43a),()=>{const _0x419187=_0x589c3a;handleProjectColorChange(_0x3c1d8c,_0x4d9ed0),_0x247c6c[_0x419187(0xb01)]();}),_0x247c6c[_0x589c3a(0x367)](_0x4b54ee);}),document['body']['appendChild'](_0x247c6c);const _0x4b35e8=_0x5cc1ec[_0x3ed96e(0x82d)]();_0x247c6c[_0x3ed96e(0x89b)][_0x3ed96e(0x94b)]=_0x4b35e8[_0x3ed96e(0xc07)]+window[_0x3ed96e(0x3a5)]+'px',_0x247c6c[_0x3ed96e(0x89b)][_0x3ed96e(0x4a8)]=_0x4b35e8['left']+window[_0x3ed96e(0x6b5)]-_0x247c6c['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x3e7dba,_0x5d5900){const _0x19a165=_0x3a383e,_0x415d18=doc(db,_0x19a165(0xc93)+appId+_0x19a165(0x5c5),_0x3e7dba);try{await updateDoc(_0x415d18,{'color':_0x5d5900});}catch(_0x7f5305){console['error']('Error\x20updating\x20project\x20color:',_0x7f5305),showMessage(_0x19a165(0x731));}}async function renderProjects(){const _0x22d2cc=_0x3a383e,_0xd5008d=globalDashboardSettings[_0x22d2cc(0x65a)]||'date_desc',_0x1d1b3d=new Set(globalDashboardSettings[_0x22d2cc(0xbbe)]||[]),_0x559357=globalDashboardSettings['projectView']||_0x22d2cc(0xab1),_0x5b023d=document['getElementById'](_0x22d2cc(0x679)),_0x52cf4a=document[_0x22d2cc(0x552)](_0x22d2cc(0x957));_0x5b023d[_0x22d2cc(0x4c1)][_0x22d2cc(0x818)](_0x22d2cc(0xc45),_0x559357===_0x22d2cc(0xab1)),_0x52cf4a[_0x22d2cc(0x4c1)][_0x22d2cc(0x818)]('active',_0x559357===_0x22d2cc(0x3e8)),document[_0x22d2cc(0x552)](_0x22d2cc(0x266))[_0x22d2cc(0x203)]=_0xd5008d;const _0x5c0b59=document['getElementById']('project-search-input')[_0x22d2cc(0x203)][_0x22d2cc(0x883)]();let _0x14a599=allProjects[_0x22d2cc(0x499)](_0x37cf90=>_0x37cf90[_0x22d2cc(0x217)][_0x22d2cc(0x883)]()[_0x22d2cc(0x27b)](_0x5c0b59));const _0x2aebf2=_0x14a599['filter'](_0x5d7d5d=>_0x1d1b3d[_0x22d2cc(0x329)](_0x5d7d5d['id'])),_0x35603a=_0x14a599[_0x22d2cc(0x499)](_0x291ded=>!_0x1d1b3d['has'](_0x291ded['id'])),_0x358d4f=(_0x332b1c,_0x2981a5)=>{const _0x3bfa20=_0x22d2cc;switch(_0xd5008d){case _0x3bfa20(0xaad):return _0x332b1c[_0x3bfa20(0x217)][_0x3bfa20(0x784)](_0x2981a5[_0x3bfa20(0x217)],'th');case _0x3bfa20(0x6ec):return _0x2981a5['projectName']['localeCompare'](_0x332b1c[_0x3bfa20(0x217)],'th');case _0x3bfa20(0xaa3):return new Date(_0x332b1c['createdAt'])-new Date(_0x2981a5['createdAt']);default:return new Date(_0x2981a5[_0x3bfa20(0x830)])-new Date(_0x332b1c[_0x3bfa20(0x830)]);}};_0x2aebf2[_0x22d2cc(0xa29)](_0x358d4f),_0x35603a[_0x22d2cc(0xa29)](_0x358d4f);const _0x4b49bb=[..._0x2aebf2,..._0x35603a],_0x4fc477=globalDashboardSettings[_0x22d2cc(0xa08)]||[];_0x4fc477[_0x22d2cc(0x636)]>0x0&&_0x559357===_0x22d2cc(0xab1)&&_0x4b49bb['sort']((_0x344d8b,_0x183fa4)=>{const _0xf84f7c=_0x22d2cc,_0x355beb=_0x4fc477[_0xf84f7c(0xa23)](_0x344d8b['id']),_0x12f3ca=_0x4fc477[_0xf84f7c(0xa23)](_0x183fa4['id']);if(_0x355beb===-0x1)return 0x1;if(_0x12f3ca===-0x1)return-0x1;return _0x355beb-_0x12f3ca;});const _0x1c0f73={};await Promise[_0x22d2cc(0x258)](_0x4b49bb[_0x22d2cc(0x75d)](async _0x56a46b=>{const _0x110059=_0x22d2cc,_0x573fa7=query(collection(db,_0x110059(0xc93)+appId+_0x110059(0x766)),where(_0x110059(0x88a),'==',_0x56a46b['id'])),_0x5c490e=await getDocs(_0x573fa7);_0x1c0f73[_0x56a46b['id']]=_0x5c490e['size'];}));const _0x2e2213=document[_0x22d2cc(0x552)](_0x22d2cc(0x541));let _0x5ec307='';if(_0x559357===_0x22d2cc(0xab1)){_0x2e2213[_0x22d2cc(0x5f0)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x22d2cc(0x636)]>0x0&&_0x5c0b59===''){const _0x38f0ce=starredQuizzes[_0x22d2cc(0x75d)](_0x2fb14d=>{const _0x54115c=_0x22d2cc,_0x2bb38b=allProjects[_0x54115c(0x51d)](_0x192515=>_0x192515['id']===_0x2fb14d[_0x54115c(0x88a)]);return{..._0x2fb14d,'projectName':_0x2bb38b?_0x2bb38b[_0x54115c(0x217)]:_0x54115c(0x484)};});_0x5ec307+=_0x22d2cc(0x727)+_0x38f0ce['map'](_0x567c32=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x567c32[_0x22d2cc(0x65f)]+'\x22>'+_0x567c32[_0x22d2cc(0x65f)]+_0x22d2cc(0x91c)+_0x567c32['projectName']+'\x22>จาก:\x20'+_0x567c32[_0x22d2cc(0x217)]+_0x22d2cc(0x3c6))[_0x22d2cc(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x22d2cc(0x636)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x4b49bb['forEach'](_0xd80eab=>{const _0x2c287f=_0x22d2cc,_0x397bd7=_0x1c0f73[_0xd80eab['id']]??0x0,_0x4cbb28=_0x1d1b3d[_0x2c287f(0x329)](_0xd80eab['id']),_0x4fef5c=_0xd80eab[_0x2c287f(0x44f)]||_0x2c287f(0x626),_0x3a6e78=parseInt(_0x4fef5c[_0x2c287f(0x9ec)](0x1,0x3),0x10)*0.299+parseInt(_0x4fef5c[_0x2c287f(0x9ec)](0x3,0x5),0x10)*0.587+parseInt(_0x4fef5c[_0x2c287f(0x9ec)](0x5,0x7),0x10)*0.114<0xba,_0x270a58=_0x3a6e78?'text-white':_0x2c287f(0xabd),_0x2b2bb0=_0x3a6e78?_0x2c287f(0x38b):_0x2c287f(0x958);_0x5ec307+=_0x2c287f(0x464)+(_0x4cbb28?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x2c287f(0x62e)+_0x4fef5c+_0x2c287f(0x374)+_0xd80eab['id']+_0x2c287f(0x608)+_0xd80eab['id']+_0x2c287f(0x80b)+(_0x3a6e78?_0x2c287f(0x6bd):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd80eab['id']+_0x2c287f(0x482)+(_0x3a6e78?_0x2c287f(0x6bd):_0x2c287f(0x929))+_0x2c287f(0xc82)+(_0x4cbb28?_0x3a6e78?_0x2c287f(0x548):_0x2c287f(0xa44):'')+_0x2c287f(0x90c)+_0xd80eab['id']+_0x2c287f(0xc9c)+_0x270a58+_0x2c287f(0x856)+_0xd80eab[_0x2c287f(0x217)]+_0x2c287f(0x7fc)+_0x2b2bb0+_0x2c287f(0x375)+new Date(_0xd80eab[_0x2c287f(0x830)])[_0x2c287f(0xcff)](_0x2c287f(0xbc4))+_0x2c287f(0x50f)+(_0x3a6e78?'text-gray-100':'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x397bd7+_0x2c287f(0xcdd)+_0xd80eab['id']+_0x2c287f(0x452)+_0xd80eab[_0x2c287f(0x217)]+_0x2c287f(0x586)+(_0x3a6e78?'text-red-300\x20hover:text-red-100':_0x2c287f(0x5c2))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x2e2213[_0x22d2cc(0x5f0)]=_0x22d2cc(0xc6c),starredQuizzes[_0x22d2cc(0x636)]>0x0&&_0x5c0b59===''&&(_0x5ec307+=_0x22d2cc(0xa9d)+starredQuizzes[_0x22d2cc(0x636)]+_0x22d2cc(0x1de)),_0x5ec307+=_0x22d2cc(0x205),_0x4b49bb[_0x22d2cc(0x1f5)](_0x410ca1=>{const _0x486b51=_0x22d2cc,_0xd3bbe6=_0x1c0f73[_0x410ca1['id']]??0x0,_0x2c5e17=_0x1d1b3d[_0x486b51(0x329)](_0x410ca1['id']);_0x5ec307+=_0x486b51(0x9ae)+(_0x410ca1['color']||_0x486b51(0x69e))+_0x486b51(0x2c0)+_0x410ca1['id']+_0x486b51(0x268)+_0x410ca1[_0x486b51(0x217)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0xd3bbe6+_0x486b51(0xc42)+new Date(_0x410ca1['createdAt'])[_0x486b51(0x756)](_0x486b51(0xbc4))+_0x486b51(0xc00)+_0x410ca1['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x2c5e17?_0x486b51(0xa44):'')+_0x486b51(0xa86)+_0x410ca1['id']+_0x486b51(0x452)+_0x410ca1[_0x486b51(0x217)]+_0x486b51(0x95a);});projectList[_0x22d2cc(0x377)]=_0x5ec307,noProjectsMsg[_0x22d2cc(0x4c1)][_0x22d2cc(0x818)]('hidden',_0x5ec307[_0x22d2cc(0x636)]>0x0);}document[_0x3a383e(0x552)](_0x3a383e(0xbd2))[_0x3a383e(0x224)](_0x3a383e(0x43a),async()=>{const _0x32c609=_0x3a383e,_0x7a047c=document[_0x32c609(0x552)]('project-name-input'),_0x4556ae=_0x7a047c['value']['trim']();if(!_0x4556ae){showMessage(_0x32c609(0x44b));return;}try{const _0x29f6d9=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x29f6d9,{'projectName':_0x4556ae,'students':[],'settings':{'resultsDisplay':_0x32c609(0x9ff),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x32c609(0xbde),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x32c609(0x6f2)]()}),_0x7a047c[_0x32c609(0x203)]='',createProjectModal[_0x32c609(0x4c1)][_0x32c609(0x350)](_0x32c609(0x9d2)),showMessage(_0x32c609(0x90d));}catch(_0x57be5e){console['error'](_0x32c609(0x1b6),_0x57be5e),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x3a383e(0x43a),async _0x235b1e=>{const _0x2bb192=_0x3a383e,_0x4192ca=_0x235b1e['target'][_0x2bb192(0xc1b)]('.project-card-content'),_0x252ed0=_0x235b1e[_0x2bb192(0x19c)]['closest'](_0x2bb192(0x457)),_0x4603c2=_0x235b1e[_0x2bb192(0x19c)][_0x2bb192(0xc1b)](_0x2bb192(0xb6a)),_0x39853a=_0x235b1e[_0x2bb192(0x19c)]['closest'](_0x2bb192(0x52c));if(_0x4603c2){const _0x1263a8=_0x4603c2['dataset']['id'],_0x1b7d9b=doc(db,_0x2bb192(0x182),_0x2bb192(0x1f2)),_0x563a56=globalDashboardSettings[_0x2bb192(0xbbe)];let _0x475c9c;_0x563a56[_0x2bb192(0x27b)](_0x1263a8)?_0x475c9c=_0x563a56[_0x2bb192(0x499)](_0x22b7d2=>_0x22b7d2!==_0x1263a8):_0x475c9c=[..._0x563a56,_0x1263a8];try{await setDoc(_0x1b7d9b,{'pinnedProjects':_0x475c9c},{'merge':!![]});}catch(_0x18f3d4){console['error'](_0x2bb192(0xb43),_0x18f3d4),showMessage(_0x2bb192(0x565));}}else{if(_0x39853a){const _0x41c8f8=_0x39853a[_0x2bb192(0x79d)]['id'];showColorPalette(_0x39853a,_0x41c8f8);}else{if(_0x4192ca){const _0x4bfb35=_0x4192ca[_0x2bb192(0x79d)]['id'];_0x4bfb35===_0x2bb192(0x870)?showStarredProjectView():(currentProjectId=_0x4bfb35,await loadProjectDetails(currentProjectId),showView(_0x2bb192(0x76f)));}else{if(_0x252ed0){const _0x236fe7=_0x252ed0[_0x2bb192(0x79d)]['id'],_0x2fa7a1=_0x252ed0[_0x2bb192(0x79d)][_0x2bb192(0xce5)];showConfirmation(_0x2bb192(0xa94)+_0x2fa7a1+_0x2bb192(0x1a6),()=>handleDeleteProject(_0x236fe7));}}}}}),projectList[_0x3a383e(0x224)](_0x3a383e(0x6cf),_0xca209c=>{const _0x11ccea=_0x3a383e,_0x7b285c=_0xca209c[_0x11ccea(0x19c)]['closest']('.project-card-container');_0x7b285c&&_0x7b285c[_0x11ccea(0x4c1)][_0x11ccea(0x350)]('opacity-50');}),projectList['addEventListener'](_0x3a383e(0x423),_0x2575c2=>{const _0x5c22f1=_0x3a383e,_0x2bf0d2=_0x2575c2['target'][_0x5c22f1(0xc1b)]('.project-card-container');_0x2bf0d2&&_0x2bf0d2[_0x5c22f1(0x4c1)][_0x5c22f1(0xb01)](_0x5c22f1(0x8f6));}),projectList['addEventListener'](_0x3a383e(0xacb),_0x568b5f=>{const _0x1b9912=_0x3a383e;_0x568b5f[_0x1b9912(0x4a0)]();const _0x2d1c8c=document[_0x1b9912(0x972)](_0x1b9912(0x694));if(!_0x2d1c8c)return;const _0x44aee7=getDragAfterElement(projectList,_0x568b5f['clientY']);_0x44aee7==null?projectList[_0x1b9912(0x367)](_0x2d1c8c):projectList[_0x1b9912(0x5a2)](_0x2d1c8c,_0x44aee7);}),projectList[_0x3a383e(0x224)](_0x3a383e(0x6f6),_0x5a7682=>{const _0x2cead5=_0x3a383e;_0x5a7682[_0x2cead5(0x4a0)]();const _0x22103f=[...projectList['querySelectorAll'](_0x2cead5(0x7cd))][_0x2cead5(0x75d)](_0x4d6db3=>_0x4d6db3[_0x2cead5(0x79d)]['id']);saveProjectOrder(_0x22103f);});function renderBehaviorLog(_0x4c90ec){const _0x4594de=_0x3a383e,_0x216402=document[_0x4594de(0x552)](_0x4594de(0x2ac));if(!_0x216402)return;const _0x4df636=_0x4c90ec['filter'](_0x1ab221=>_0x1ab221[_0x4594de(0x69d)]&&_0x1ab221['behaviorLog']['length']>0x0);if(_0x4df636[_0x4594de(0x636)]===0x0){_0x216402[_0x4594de(0x377)]=_0x4594de(0x777);return;}let _0x66e4d1='';_0x4df636['forEach'](_0x2fca63=>{const _0x82a957=_0x4594de;_0x66e4d1+=_0x82a957(0x293)+_0x2fca63[_0x82a957(0x247)]+_0x82a957(0x658),_0x2fca63[_0x82a957(0x69d)][_0x82a957(0xa29)]((_0xcf8b88,_0x45e390)=>new Date(_0x45e390[_0x82a957(0xbe5)])-new Date(_0xcf8b88['timestamp']))[_0x82a957(0x1f5)](_0x482a47=>{const _0x4360d4=_0x82a957,_0x505b03=new Date(_0x482a47[_0x4360d4(0xbe5)])[_0x4360d4(0x756)](_0x4360d4(0xbc4),{'dateStyle':'short','timeStyle':_0x4360d4(0x49c)});_0x66e4d1+=_0x4360d4(0x535)+_0x482a47[_0x4360d4(0x914)]+_0x4360d4(0x298)+_0x505b03+_0x4360d4(0x926);}),_0x66e4d1+=_0x82a957(0xc2e);}),_0x216402[_0x4594de(0x377)]=_0x66e4d1;}function getDragAfterElement(_0x27eebf,_0x1e6d21){const _0x14b6c5=_0x3a383e,_0x2618a3=[..._0x27eebf['querySelectorAll'](_0x14b6c5(0x828))];return _0x2618a3['reduce']((_0x52d090,_0x163aa9)=>{const _0x586a04=_0x14b6c5,_0x2e29d1=_0x163aa9[_0x586a04(0x82d)](),_0x5ba022=_0x1e6d21-_0x2e29d1[_0x586a04(0x94b)]-_0x2e29d1['height']/0x2;return _0x5ba022<0x0&&_0x5ba022>_0x52d090['offset']?{'offset':_0x5ba022,'element':_0x163aa9}:_0x52d090;},{'offset':Number['NEGATIVE_INFINITY']})[_0x14b6c5(0x80f)];}async function saveProjectOrder(_0x800d32){const _0x2d534c=_0x3a383e,_0x40890b=doc(db,_0x2d534c(0x182),'dashboardConfig');try{await setDoc(_0x40890b,{'projectOrder':_0x800d32},{'merge':!![]});}catch(_0x2d2d04){console[_0x2d534c(0x2e9)](_0x2d534c(0xbf8),_0x2d2d04),showMessage(_0x2d534c(0x7d0));}}async function logBehaviorEvent(_0x2dd90b,_0x33987a={}){const _0x2995f7=_0x3a383e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x470d06=doc(db,_0x2995f7(0xc93)+appId+_0x2995f7(0x847)+currentQuizData['id']+'/submissions',currentStudentName),_0x4e3cbc={'event':_0x2dd90b,'timestamp':new Date()['toISOString'](),..._0x33987a};try{await updateDoc(_0x470d06,{'behaviorLog':arrayUnion(_0x4e3cbc)}),console[_0x2995f7(0x3ab)](_0x2995f7(0x2af)+currentStudentName+_0x2995f7(0x87c));}catch(_0x5d48b9){_0x5d48b9[_0x2995f7(0x45d)]===_0x2995f7(0x26b)?console[_0x2995f7(0xb65)](_0x2995f7(0xc5a)+currentStudentName+_0x2995f7(0x2eb)):console[_0x2995f7(0x2e9)](_0x2995f7(0x5df),_0x5d48b9);}}function calculateMeanAndStdDev(_0x5f08e0){const _0xd75403=_0x3a383e;if(_0x5f08e0['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x266ef6=_0x5f08e0[_0xd75403(0x67f)]((_0x2ad355,_0x3fc912)=>_0x2ad355+_0x3fc912,0x0)/_0x5f08e0[_0xd75403(0x636)];if(_0x5f08e0[_0xd75403(0x636)]===0x1)return{'mean':_0x266ef6,'stdDev':0x0};const _0x113e59=Math[_0xd75403(0x915)](_0x5f08e0[_0xd75403(0x75d)](_0x3bed63=>Math[_0xd75403(0x574)](_0x3bed63-_0x266ef6,0x2))[_0xd75403(0x67f)]((_0x304855,_0x1eedb5)=>_0x304855+_0x1eedb5,0x0)/(_0x5f08e0[_0xd75403(0x636)]-0x1));return{'mean':_0x266ef6,'stdDev':_0x113e59};}function calculateZScore(_0x40ff16,_0x2dd8cd,_0x4e0c35){if(_0x4e0c35===0x0)return 0x0;return(_0x40ff16-_0x2dd8cd)/_0x4e0c35;}function calculateTScore(_0x287778){return 0xa*_0x287778+0x32;}function showStarredProjectView(){const _0x4443d7=_0x3a383e;currentProjectId=_0x4443d7(0x78f),currentProjectData=null,projectTitle[_0x4443d7(0x37a)]=_0x4443d7(0xa5a),projectIdDisplay['textContent']=_0x4443d7(0x813),showView('project-detail'),manageTab[_0x4443d7(0x4c1)][_0x4443d7(0x350)](_0x4443d7(0x9d2)),leaderboardTab[_0x4443d7(0x4c1)][_0x4443d7(0x350)](_0x4443d7(0x9d2)),switchProjectTab(_0x4443d7(0x569)),renderQuizzes();}async function loadProjectDetails(_0x533330){const _0xa8471d=_0x3a383e,_0x50295d=doc(db,_0xa8471d(0xc93)+appId+_0xa8471d(0x5c5),_0x533330),_0x9b3210=await getDoc(_0x50295d);if(_0x9b3210[_0xa8471d(0x837)]()){manageTab[_0xa8471d(0x4c1)]['remove']('hidden'),leaderboardTab[_0xa8471d(0x4c1)]['remove'](_0xa8471d(0x9d2)),currentProjectData=_0x9b3210[_0xa8471d(0x183)](),projectTitle[_0xa8471d(0x37a)]=currentProjectData[_0xa8471d(0x217)],projectIdDisplay[_0xa8471d(0x37a)]=_0x533330;const _0x34e256=currentProjectData[_0xa8471d(0x997)]||{};document[_0xa8471d(0x552)]('shuffle-setting-select')[_0xa8471d(0x203)]=_0x34e256[_0xa8471d(0xa4d)]||_0xa8471d(0xbde);const _0x3549b3=document['getElementById'](_0xa8471d(0x249));_0x3549b3[_0xa8471d(0xd08)]=_0x34e256[_0xa8471d(0xb25)]!==![];const _0x50c071=document[_0xa8471d(0x552)](_0xa8471d(0xab8)),_0x193c68=document[_0xa8471d(0x552)](_0xa8471d(0xcac)),_0x55059d=document[_0xa8471d(0x552)]('project-passcode-input'),_0x273056=_0x34e256['isPasscodeEnabled']||![];_0x50c071['checked']=_0x273056,_0x55059d[_0xa8471d(0x203)]=_0x34e256[_0xa8471d(0xb92)]||'',_0x193c68['classList'][_0xa8471d(0x818)](_0xa8471d(0x9d2),!_0x273056),_0x50c071[_0xa8471d(0x5eb)]=()=>{const _0x5c4371=_0xa8471d;_0x193c68[_0x5c4371(0x4c1)]['toggle'](_0x5c4371(0x9d2),!_0x50c071[_0x5c4371(0xd08)]);},document[_0xa8471d(0x552)](_0xa8471d(0x157))[_0xa8471d(0xd08)]=_0x34e256['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x533330),listenForProjectQuizzes(_0x533330),listenForStudentProfiles(_0x533330);}else showMessage('ไม่พบโปรเจค'),showView(_0xa8471d(0x1ec));}async function handleResetProjectOrder(){const _0x19d39b=_0x3a383e,_0x369537=doc(db,_0x19d39b(0x182),_0x19d39b(0x1f2));try{await setDoc(_0x369537,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x19d39b(0x8cd));}catch(_0x1a9e4b){console[_0x19d39b(0x2e9)](_0x19d39b(0xc44),_0x1a9e4b),showMessage(_0x19d39b(0x1a2));}}async function handleTogglePinProject(_0x1f5fa1){const _0x16344d=_0x3a383e;if(!_0x1f5fa1)return;const _0x3c6a85=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1f5fa1);try{const _0x18059e=await getDoc(_0x3c6a85);if(_0x18059e[_0x16344d(0x837)]()){const _0x19291c=_0x18059e[_0x16344d(0x183)]()['isPinned']||![];await updateDoc(_0x3c6a85,{'isPinned':!_0x19291c});}}catch(_0xf51fc8){console['error'](_0x16344d(0xc09),_0xf51fc8),showMessage(_0x16344d(0x565));}}async function handleDeleteProject(_0x507ed2){const _0x348142=_0x3a383e;try{const _0x24cab4=writeBatch(db),_0x52a5e8=collection(db,_0x348142(0xc93)+appId+'/public/data/quizzes'),_0x2abdab=query(_0x52a5e8,where(_0x348142(0x88a),'==',_0x507ed2)),_0x315096=await getDocs(_0x2abdab);for(const _0xa3fbe4 of _0x315096[_0x348142(0x975)]){const _0x3f08a7=collection(db,'artifacts/'+appId+_0x348142(0x847)+_0xa3fbe4['id']+_0x348142(0x32e)),_0x26fde3=await getDocs(_0x3f08a7);_0x26fde3['forEach'](_0x167df8=>{const _0x1c7923=_0x348142;_0x24cab4[_0x1c7923(0x28d)](_0x167df8['ref']);}),_0x24cab4['delete'](_0xa3fbe4[_0x348142(0x19a)]);}const _0x15fe8e=collection(db,'artifacts/'+appId+_0x348142(0x5d8)+_0x507ed2+_0x348142(0x170)),_0x3b888f=await getDocs(_0x15fe8e);_0x3b888f[_0x348142(0x1f5)](_0x4bb98a=>{const _0xecff4c=_0x348142;_0x24cab4['delete'](_0x4bb98a[_0xecff4c(0x19a)]);});const _0x752824=doc(db,'artifacts/'+appId+_0x348142(0x5c5),_0x507ed2);_0x24cab4['delete'](_0x752824),await _0x24cab4['commit'](),showMessage(_0x348142(0x472)),showView(_0x348142(0x1ec));}catch(_0x12d12c){console[_0x348142(0x2e9)](_0x348142(0x893),_0x12d12c),showMessage(_0x348142(0x45c));}}document[_0x3a383e(0x552)]('save-settings-btn')[_0x3a383e(0x224)]('click',async()=>{const _0x25dd82=_0x3a383e;if(!currentProjectId)return;const _0x5af9ce={'defaultNumQuestions':parseInt(document[_0x25dd82(0x552)](_0x25dd82(0x9bc))['value']),'defaultNumChoices':parseInt(document['getElementById']('num-choices')[_0x25dd82(0x203)]),'defaultPassingScore':parseInt(document[_0x25dd82(0x552)]('passing-score-input')[_0x25dd82(0x203)]),'resultsDisplay':document[_0x25dd82(0x552)]('results-display-select')[_0x25dd82(0x203)],'shuffleSetting':document['getElementById'](_0x25dd82(0x43e))[_0x25dd82(0x203)],'timerMode':document[_0x25dd82(0x552)]('timer-mode-select')[_0x25dd82(0x203)],'timerDuration':parseInt(document[_0x25dd82(0x552)]('timer-duration-input')['value']),'isConfidenceScoringEnabled':document[_0x25dd82(0x552)]('confidence-scoring-checkbox')[_0x25dd82(0xd08)],'confidenceMode':document[_0x25dd82(0x552)](_0x25dd82(0x91f))['value']};try{const _0x2a9db2=doc(db,_0x25dd82(0xc93)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x2a9db2,{'settings':_0x5af9ce}),showMessage(_0x25dd82(0x2ce));}catch(_0x3bd7b7){console[_0x25dd82(0x2e9)](_0x25dd82(0x66c),_0x3bd7b7),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x45a683){const _0x1aa49a=_0x3a383e,_0xb1c376=doc(db,_0x1aa49a(0xc93)+appId+_0x1aa49a(0x5c5),_0x45a683);unsubscribeStudentsListener=onSnapshot(_0xb1c376,_0x5b6d1c=>{const _0x4595ed=_0x1aa49a;if(_0x5b6d1c[_0x4595ed(0x837)]()){const _0x3b2d70=_0x5b6d1c[_0x4595ed(0x183)]();currentProjectData=_0x3b2d70,renderStudentList(_0x3b2d70['students']||[]);}});}function renderStudentList(_0x5d7684){const _0x5c7767=_0x3a383e,_0x4ade12=document[_0x5c7767(0x552)](_0x5c7767(0x6e7));_0x5d7684[_0x5c7767(0x636)]===0x0?(studentList[_0x5c7767(0x377)]=_0x5c7767(0x5ec),_0x4ade12['classList'][_0x5c7767(0x350)]('hidden')):(studentList[_0x5c7767(0x377)]=_0x5d7684[_0x5c7767(0x75d)](_0x2cdb46=>_0x5c7767(0x8ee)+_0x2cdb46+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x2cdb46+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5c7767(0xa89)](''),_0x4ade12[_0x5c7767(0x4c1)][_0x5c7767(0xb01)](_0x5c7767(0x9d2)));}document['getElementById'](_0x3a383e(0xa5d))[_0x3a383e(0x224)](_0x3a383e(0x43a),async()=>{const _0x455a63=_0x3a383e;if(!currentProjectId)return;const _0xdb5509=document[_0x455a63(0x552)](_0x455a63(0x4a5)),_0x18a20e=_0xdb5509[_0x455a63(0x203)][_0x455a63(0x887)]();if(!_0x18a20e){showMessage(_0x455a63(0x98e));return;}const _0x432059=_0x18a20e[_0x455a63(0xc3d)]('\x0a')[_0x455a63(0x75d)](_0x276ff4=>_0x276ff4[_0x455a63(0x887)]())['filter'](_0x46cc19=>_0x46cc19);if(_0x432059[_0x455a63(0x636)]===0x0)return;try{const _0x5f570d=doc(db,'artifacts/'+appId+_0x455a63(0x5c5),currentProjectId),_0x100a90=await getDoc(_0x5f570d);if(_0x100a90[_0x455a63(0x837)]()){const _0x1f739f=_0x100a90[_0x455a63(0x183)]()['students']||[],_0x259736=[...new Set([..._0x1f739f,..._0x432059])];await updateDoc(_0x5f570d,{'students':_0x259736}),_0xdb5509[_0x455a63(0x203)]='';}}catch(_0x44858c){console[_0x455a63(0x2e9)](_0x455a63(0x6d5),_0x44858c),showMessage(_0x455a63(0x4dc));}});async function handleManualQuizPairing(_0x4269b1){const _0x41e4b5=_0x3a383e,_0x3d6f9e=document[_0x41e4b5(0x552)]('move-quiz-modal'),_0x1714dc=document[_0x41e4b5(0x552)](_0x41e4b5(0x59d)),_0x5b6cee=_0x3d6f9e[_0x41e4b5(0x972)]('h3'),_0x255c28=document['getElementById'](_0x41e4b5(0x9bb)),_0xa6a791=document['getElementById'](_0x41e4b5(0x6dd));_0x5b6cee[_0x41e4b5(0x37a)]='จับคู่เพื่อเปรียบเทียบผล',_0x1714dc['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x255c28[_0x41e4b5(0x37a)]=_0x41e4b5(0x485),_0x3d6f9e[_0x41e4b5(0x4c1)][_0x41e4b5(0xb01)](_0x41e4b5(0x9d2));const _0x5e4fb3=allQuizzes[_0x41e4b5(0x499)](_0x403599=>_0x403599['id']!==_0x4269b1);_0x5e4fb3[_0x41e4b5(0x636)]===0x0?(_0x1714dc[_0x41e4b5(0x377)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x255c28[_0x41e4b5(0x7ce)]=!![]):(_0x1714dc[_0x41e4b5(0x377)]=_0x41e4b5(0x852)+_0x5e4fb3[_0x41e4b5(0x75d)](_0xdb6f21=>_0x41e4b5(0x7dd)+_0xdb6f21['id']+'\x22>'+_0xdb6f21['topic']+'</option>')[_0x41e4b5(0xa89)](''),_0x255c28['disabled']=![]);const _0x2d7121=async()=>{const _0x40db6b=_0x41e4b5,_0x5e849f=_0x1714dc[_0x40db6b(0x203)];if(!_0x5e849f){showMessage(_0x40db6b(0x330));return;}_0x255c28[_0x40db6b(0x7ce)]=!![],_0x255c28['textContent']=_0x40db6b(0xc8c);try{const _0x219d69=doc(db,_0x40db6b(0xc93)+appId+_0x40db6b(0x766),_0x4269b1),_0x54e5e8=doc(db,_0x40db6b(0xc93)+appId+_0x40db6b(0x766),_0x5e849f),_0x3d0022=writeBatch(db);_0x3d0022[_0x40db6b(0x1b5)](_0x219d69,{'pairedQuizId':_0x5e849f}),_0x3d0022[_0x40db6b(0x1b5)](_0x54e5e8,{'pairedQuizId':_0x4269b1}),await _0x3d0022[_0x40db6b(0x75a)](),showMessage(_0x40db6b(0x3ea)),_0x3d6f9e[_0x40db6b(0x4c1)][_0x40db6b(0x350)]('hidden');}catch(_0x2ae262){console[_0x40db6b(0x2e9)](_0x40db6b(0x46e),_0x2ae262),showMessage(_0x40db6b(0x9d3));}finally{_0x5b6cee[_0x40db6b(0x37a)]=_0x40db6b(0x8c7),_0x255c28['textContent']='ย้าย',_0x255c28[_0x40db6b(0x7ce)]=![],_0x255c28[_0x40db6b(0xbaf)]('click',_0x2d7121),_0xa6a791[_0x40db6b(0xbaf)](_0x40db6b(0x43a),_0x249ac6);}},_0x249ac6=()=>{const _0x448d95=_0x41e4b5;_0x3d6f9e[_0x448d95(0x4c1)][_0x448d95(0x350)](_0x448d95(0x9d2)),_0x5b6cee['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x255c28[_0x448d95(0x37a)]=_0x448d95(0x261),_0x255c28[_0x448d95(0xbaf)](_0x448d95(0x43a),_0x2d7121),_0xa6a791['removeEventListener']('click',_0x249ac6);};_0x255c28[_0x41e4b5(0x224)](_0x41e4b5(0x43a),_0x2d7121),_0xa6a791[_0x41e4b5(0x224)]('click',_0x249ac6);}function handleDeleteStudent(_0x5621a1){const _0x2857b9=_0x3a383e;showConfirmation(_0x2857b9(0xc3c)+_0x5621a1+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x9a1674=_0x2857b9;if(!currentProjectId||!currentProjectData)return;const _0x27a66b=currentProjectData[_0x9a1674(0x748)][_0x9a1674(0x499)](_0x5b1ad2=>_0x5b1ad2!==_0x5621a1);try{const _0xe5be3d=doc(db,_0x9a1674(0xc93)+appId+_0x9a1674(0x5c5),currentProjectId),_0x4821a6=doc(db,'artifacts/'+appId+_0x9a1674(0x5d8)+currentProjectId+_0x9a1674(0x170),_0x5621a1),_0x50900d=writeBatch(db);_0x50900d[_0x9a1674(0x1b5)](_0xe5be3d,{'students':_0x27a66b}),_0x50900d[_0x9a1674(0x28d)](_0x4821a6),await _0x50900d[_0x9a1674(0x75a)]();}catch(_0x16c012){console[_0x9a1674(0x2e9)]('Error\x20deleting\x20student:',_0x16c012),showMessage(_0x9a1674(0x19b));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x4617ff=_0x35c4;if(!currentProjectId)return;try{const _0x5003cc=doc(db,_0x4617ff(0xc93)+appId+_0x4617ff(0x5c5),currentProjectId),_0x14621e=collection(db,_0x4617ff(0xc93)+appId+'/public/data/projects/'+currentProjectId+_0x4617ff(0x170)),_0x1bad92=await getDocs(_0x14621e),_0x134d88=writeBatch(db);_0x134d88[_0x4617ff(0x1b5)](_0x5003cc,{'students':[]}),_0x1bad92[_0x4617ff(0x1f5)](_0x8e95e8=>_0x134d88['delete'](_0x8e95e8[_0x4617ff(0x19a)])),await _0x134d88[_0x4617ff(0x75a)]();}catch(_0x218daa){console[_0x4617ff(0x2e9)](_0x4617ff(0x9b3),_0x218daa),showMessage(_0x4617ff(0x9ac));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x38a1e0){const _0x202122=_0x3a383e,_0x5189c6=document['getElementById'](_0x202122(0x2c5)),_0x2bd238=document['getElementById']('file-topics-list');_0x5189c6[_0x202122(0x4c1)][_0x202122(0xb01)](_0x202122(0x9d2)),_0x2bd238['innerHTML']=_0x202122(0x554);try{const _0x4c4a90=new FileReader();_0x4c4a90[_0x202122(0x177)](_0x38a1e0),await new Promise((_0x4b2081,_0x36a32c)=>{const _0x16e621=_0x202122;_0x4c4a90[_0x16e621(0xb22)]=()=>{const _0x2c4ccd=_0x16e621;fileDataBase64=_0x4c4a90[_0x2c4ccd(0x2ae)][_0x2c4ccd(0xc3d)](',')[0x1],fileMimeType=_0x38a1e0[_0x2c4ccd(0x96b)],_0x4b2081();},_0x4c4a90[_0x16e621(0xa10)]=_0x1f9e7b=>_0x36a32c(_0x1f9e7b);});if(!fileDataBase64)throw new Error(_0x202122(0x909));const _0x33087d=_0x202122(0x686),_0x26bf1f={'type':_0x202122(0x695),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x202122(0x6d8)}}},'required':[_0x202122(0x978)]},_0x3b40cd=[{'text':_0x33087d},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x42af78=await handleApiCall(_0x3b40cd,_0x202122(0x833),_0x26bf1f,null,![]);if(_0x42af78&&_0x42af78[_0x202122(0x978)])extractedFileTopics=_0x42af78[_0x202122(0x978)],renderFileTopics();else throw new Error(_0x202122(0x33e));}catch(_0x3be92f){console['error'](_0x202122(0x7b0),_0x3be92f),_0x2bd238[_0x202122(0x377)]=_0x202122(0xc9b)+_0x3be92f[_0x202122(0x2db)]+_0x202122(0xb8e);}}function renderFileTopics(){const _0x31692d=_0x3a383e,_0x5b58f2=document[_0x31692d(0x552)](_0x31692d(0x229));if(extractedFileTopics[_0x31692d(0x636)]===0x0){_0x5b58f2[_0x31692d(0x377)]=_0x31692d(0x861);return;}_0x5b58f2[_0x31692d(0x377)]=extractedFileTopics[_0x31692d(0x75d)](_0x5a7263=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x5a7263+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x5a7263)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x5a7263)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join']('');}async function generateHybridQuizForTopic(_0x102a9c){const _0x5ea3a0=_0x3a383e,_0x292a01=parseInt(document['getElementById'](_0x5ea3a0(0x9bc))[_0x5ea3a0(0x203)],0xa),_0x8cb5b1=document[_0x5ea3a0(0x552)](_0x5ea3a0(0xa28))[_0x5ea3a0(0x203)],_0x20ae26=document[_0x5ea3a0(0x552)](_0x5ea3a0(0xa0f))[_0x5ea3a0(0x203)],_0x3cfa20=document[_0x5ea3a0(0x552)](_0x5ea3a0(0xc48))[_0x5ea3a0(0xd08)],_0x5decdf=_0x3cfa20?_0x5ea3a0(0x53d):_0x5ea3a0(0xc8e);let _0x258d0f='',_0x47b953;const _0x1909a6={'type':_0x5ea3a0(0x695),'properties':{'questionText':{'type':_0x5ea3a0(0x6d8)},'options':{'type':_0x5ea3a0(0x159),'items':{'type':_0x5ea3a0(0x6d8)}},'correctAnswerIndex':{'type':_0x5ea3a0(0xbe0)},'explanation':{'type':_0x5ea3a0(0x6d8)},'imageCode':{'type':_0x5ea3a0(0x6d8)}},'required':[_0x5ea3a0(0x629),_0x5ea3a0(0xb70),_0x5ea3a0(0xb21),'explanation']},_0x8c4429={'type':_0x5ea3a0(0x695),'properties':{'questionText':{'type':_0x5ea3a0(0x6d8)},'correctAnswer':{'type':_0x5ea3a0(0x3e9)},'explanation':{'type':_0x5ea3a0(0x6d8)},'imageCode':{'type':'STRING'}},'required':[_0x5ea3a0(0x629),'correctAnswer','explanation']},_0x4ae728={'type':_0x5ea3a0(0x695),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5ea3a0(0x6d8)},'imageCode':{'type':_0x5ea3a0(0x6d8)}},'required':[_0x5ea3a0(0x629),_0x5ea3a0(0x572),_0x5ea3a0(0xb1d)]},_0x569dd0={'type':'OBJECT','properties':{'questionType':{'type':_0x5ea3a0(0x6d8),'enum':['matching_item']},'stem':{'type':_0x5ea3a0(0x6d8)},'correctResponse':{'type':_0x5ea3a0(0x6d8)},'allResponses':{'type':'ARRAY','items':{'type':_0x5ea3a0(0x6d8)}},'explanation':{'type':_0x5ea3a0(0x6d8)},'imageCode':{'type':_0x5ea3a0(0x6d8)}},'required':[_0x5ea3a0(0x5be),_0x5ea3a0(0x2a5),_0x5ea3a0(0x8b9),_0x5ea3a0(0xaeb),_0x5ea3a0(0xb1d)]};switch(_0x8cb5b1){case'multiple_choice':_0x258d0f=_0x5ea3a0(0x5e6)+_0x20ae26+_0x5ea3a0(0x8c8),_0x47b953=_0x1909a6;break;case _0x5ea3a0(0x631):_0x258d0f='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x47b953=_0x8c4429;break;case _0x5ea3a0(0x349):_0x258d0f=_0x5ea3a0(0x202),_0x47b953=_0x4ae728;break;case _0x5ea3a0(0x84f):_0x258d0f='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x47b953=_0x569dd0;break;case _0x5ea3a0(0x95b):_0x258d0f=_0x5ea3a0(0x751)+_0x20ae26+'\x20ตัวเลือก)',_0x47b953=_0x1909a6;break;default:_0x258d0f='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x20ae26+_0x5ea3a0(0x8c8),_0x47b953=_0x1909a6;break;}const _0x419a8e=_0x5ea3a0(0xbc8),_0x11a8c3=document[_0x5ea3a0(0x552)]('loader'),_0x2f501f=document['getElementById']('loader-text'),_0x33e2a3=document[_0x5ea3a0(0x552)](_0x5ea3a0(0x8af));document[_0x5ea3a0(0x552)](_0x5ea3a0(0x6be))[_0x5ea3a0(0x4c1)][_0x5ea3a0(0xb01)](_0x5ea3a0(0x9d2)),_0x33e2a3['innerHTML']='',_0x11a8c3[_0x5ea3a0(0x4c1)][_0x5ea3a0(0xb01)](_0x5ea3a0(0x9d2)),_0x2f501f[_0x5ea3a0(0x37a)]=_0x5ea3a0(0x357)+_0x102a9c+_0x5ea3a0(0x9cb)+_0x292a01+_0x5ea3a0(0xc40);try{const _0x50fffc=_0x5ea3a0(0x25b),_0x38bde6=_0x5ea3a0(0x390)+_0x102a9c+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x292a01+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x102a9c+_0x5ea3a0(0x260)+_0x292a01+_0x5ea3a0(0xb5a)+_0x5decdf+_0x5ea3a0(0xb90)+_0x258d0f+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x419a8e+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50fffc+_0x5ea3a0(0x750)+simpleMathPrompt+_0x5ea3a0(0xb9b),_0x35742e={'type':_0x5ea3a0(0x695),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5ea3a0(0x159),'items':_0x47b953}},'required':[_0x5ea3a0(0x65f),_0x5ea3a0(0x5cd)]},_0x114926=[{'text':_0x38bde6},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x114926,_0x5ea3a0(0x4e9)+_0x102a9c+_0x5ea3a0(0x71f),_0x35742e);}catch(_0x207678){console['error'](_0x5ea3a0(0x3ec),_0x207678),showMessage(_0x5ea3a0(0x9be)+_0x207678[_0x5ea3a0(0x2db)]),_0x33e2a3[_0x5ea3a0(0x377)]=_0x5ea3a0(0x1b1);}finally{_0x11a8c3['classList'][_0x5ea3a0(0x350)](_0x5ea3a0(0x9d2));}}async function handleGenerateFromFileClick(){const _0x381144=_0x3a383e;if(!selectedFile){showMessage(_0x381144(0x3d6));return;}const _0x4be57a=document[_0x381144(0x552)](_0x381144(0x39f)),_0x3dfaa2=document[_0x381144(0x552)](_0x381144(0x2d6)),_0x2f1c68=document['getElementById'](_0x381144(0x8af)),_0x138962=document[_0x381144(0x552)](_0x381144(0x85a));_0x138962[_0x381144(0x7ce)]=!![],document[_0x381144(0x552)](_0x381144(0x6be))['classList'][_0x381144(0xb01)]('hidden'),_0x2f1c68[_0x381144(0x377)]='',_0x4be57a[_0x381144(0x4c1)]['remove'](_0x381144(0x9d2)),_0x3dfaa2[_0x381144(0x37a)]=_0x381144(0x226);try{const _0x6afdc0=await new Promise((_0x177529,_0x1812d6)=>{const _0x271918=_0x381144,_0x2b05d1=new FileReader();_0x2b05d1[_0x271918(0x177)](selectedFile),_0x2b05d1[_0x271918(0xb22)]=()=>_0x177529(_0x2b05d1[_0x271918(0x2ae)][_0x271918(0xc3d)](',')[0x1]),_0x2b05d1['onerror']=_0x48faec=>_0x1812d6(_0x48faec);});await generateQuizFromFile(selectedFile['type'],_0x6afdc0);}catch(_0x64f721){console['error'](_0x381144(0x1d2),_0x64f721),showMessage(_0x381144(0xbaa)+_0x64f721[_0x381144(0x2db)]),_0x4be57a[_0x381144(0x4c1)]['add'](_0x381144(0x9d2)),_0x138962[_0x381144(0x7ce)]=![];}}function autoFormatMath(_0x329f5f){if(typeof _0x329f5f!=='string'||!_0x329f5f)return _0x329f5f;const _0x1906d4=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xf5ee22=_0x329f5f['replace'](_0x1906d4,_0x1d7d0a=>{const _0x2d67c6=_0x35c4;return'$'+_0x1d7d0a[_0x2d67c6(0x887)]()+'$';});return _0xf5ee22;}function sanitizeQuizData(_0x38dd9d){const _0x452b0c=_0x3a383e;if(!_0x38dd9d||!_0x38dd9d[_0x452b0c(0x5cd)])return _0x38dd9d;const _0xa95ba2={'imes':_0x452b0c(0x537),'div':_0x452b0c(0x1e6)},_0xb8eb46=_0x424de4=>{const _0x46ddef=_0x452b0c;if(typeof _0x424de4!=='string')return _0x424de4;let _0x33e8b4=_0x424de4;for(const [_0x5d126c,_0x34a4fa]of Object['entries'](_0xa95ba2)){const _0x2e57d7=new RegExp('\x5cb'+_0x5d126c+'\x5cb','g');_0x33e8b4=_0x33e8b4['replace'](_0x2e57d7,_0x34a4fa);}return _0x33e8b4=_0x33e8b4[_0x46ddef(0xbc5)](/\\\//g,_0x46ddef(0x1e6)),_0x33e8b4=_0x33e8b4[_0x46ddef(0xbc5)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x46ddef(0xbc5)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x46ddef(0x537))['replace'](/÷/g,_0x46ddef(0x1e6))[_0x46ddef(0xbc5)](/×/g,_0x46ddef(0x537)),_0x33e8b4=_0x33e8b4['replace'](/(\d)(\\frac)/g,_0x46ddef(0x93a)),_0x33e8b4=autoFormatMath(_0x33e8b4),_0x33e8b4;};return _0x38dd9d[_0x452b0c(0x65f)]&&(_0x38dd9d['topic']=_0xb8eb46(_0x38dd9d['topic'])),_0x38dd9d[_0x452b0c(0x5cd)][_0x452b0c(0x1f5)](_0x538a56=>{const _0x4fa072=_0x452b0c;_0x538a56[_0x4fa072(0x629)]=_0xb8eb46(_0x538a56[_0x4fa072(0x629)]),_0x538a56[_0x4fa072(0xb70)]&&(_0x538a56[_0x4fa072(0xb70)]=_0x538a56[_0x4fa072(0xb70)][_0x4fa072(0x75d)](_0xb8eb46)),_0x538a56['explanation']&&(_0x538a56['explanation']=_0xb8eb46(_0x538a56[_0x4fa072(0xb1d)])),_0x538a56['stem']&&(_0x538a56[_0x4fa072(0x2a5)]=_0xb8eb46(_0x538a56[_0x4fa072(0x2a5)])),_0x538a56[_0x4fa072(0x8b9)]&&(_0x538a56['correctResponse']=_0xb8eb46(_0x538a56[_0x4fa072(0x8b9)])),_0x538a56[_0x4fa072(0xaeb)]&&(_0x538a56[_0x4fa072(0xaeb)]=_0x538a56[_0x4fa072(0xaeb)]['map'](_0xb8eb46));}),_0x38dd9d;}const simpleMathPrompt=_0x3a383e(0x92d);async function handleGenerateFromLink(){const _0x5383bc=_0x3a383e,_0x4359bd=document[_0x5383bc(0x552)](_0x5383bc(0xa04)),_0x1540bd=document['getElementById'](_0x5383bc(0xd09)),_0x1537df=_0x4359bd['value']['trim'](),_0x27fdec=_0x1540bd[_0x5383bc(0x203)][_0x5383bc(0x887)]();if(!_0x1537df){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x3534bb=document[_0x5383bc(0x552)](_0x5383bc(0x39f)),_0x4f6bd0=document[_0x5383bc(0x552)](_0x5383bc(0x2d6)),_0x30ffbd=document[_0x5383bc(0x552)]('generated-quiz-container'),_0x5429ca=document[_0x5383bc(0x552)](_0x5383bc(0xced));document['getElementById']('quiz-generation-area')[_0x5383bc(0x4c1)][_0x5383bc(0xb01)]('hidden'),_0x30ffbd[_0x5383bc(0x377)]='',_0x3534bb['classList'][_0x5383bc(0xb01)](_0x5383bc(0x9d2)),_0x4f6bd0[_0x5383bc(0x37a)]=_0x5383bc(0x400),_0x5429ca[_0x5383bc(0x7ce)]=!![];try{const _0x326227='https://corsproxy.io/?'+encodeURIComponent(_0x1537df),_0x2eb5ad=await fetch(_0x326227);if(!_0x2eb5ad['ok'])throw new Error(_0x5383bc(0x963)+_0x2eb5ad['status']+')');const _0x1464c8=await _0x2eb5ad['text'](),_0x38752a=extractTextFromHtml(_0x1464c8);if(!_0x38752a||_0x38752a[_0x5383bc(0x636)]<0x64)throw new Error(_0x5383bc(0x22d));await generateQuiz(_0x27fdec,_0x38752a);}catch(_0x163ca5){console['error'](_0x5383bc(0x77d),_0x163ca5),showMessage(_0x5383bc(0x9be)+_0x163ca5[_0x5383bc(0x2db)]),_0x30ffbd[_0x5383bc(0x377)]=_0x5383bc(0x8ef);}finally{_0x3534bb['classList'][_0x5383bc(0x350)](_0x5383bc(0x9d2)),_0x5429ca[_0x5383bc(0x7ce)]=![];}}function extractTextFromHtml(_0x14cd69){const _0x30173c=_0x3a383e,_0x385e07=new DOMParser()[_0x30173c(0xbc9)](_0x14cd69,_0x30173c(0x567));return _0x385e07[_0x30173c(0x3e0)](_0x30173c(0x96a))[_0x30173c(0x1f5)](_0x31e0a5=>_0x31e0a5[_0x30173c(0xb01)]()),_0x385e07['body']['textContent']||'';}document[_0x3a383e(0x552)](_0x3a383e(0x936))[_0x3a383e(0x224)](_0x3a383e(0x43a),()=>{const _0x1902b1=_0x3a383e,_0x4daf9c=document[_0x1902b1(0x552)](_0x1902b1(0x237))[_0x1902b1(0x203)][_0x1902b1(0x887)]();generateQuiz(_0x4daf9c,null);}),document['getElementById']('generate-from-text-btn')[_0x3a383e(0x224)](_0x3a383e(0x43a),()=>{const _0x12531c=_0x3a383e,_0x16e5b0=document['getElementById'](_0x12531c(0x9b2))[_0x12531c(0x203)][_0x12531c(0x887)]();if(!_0x16e5b0){showMessage(_0x12531c(0x2e2));return;}const _0x99b6b6=document[_0x12531c(0x552)]('topic-input')[_0x12531c(0x203)][_0x12531c(0x887)]();generateQuiz(_0x99b6b6,_0x16e5b0);});async function generateQuiz(_0x1b5f8d,_0x55c68d,_0x26fbc5=null,_0x1305d4=null,_0x56c7a2=![],_0x45ea6f=null,_0x5f514b=null,_0x2ba870=![]){const _0x53e439=_0x3a383e;let _0x42d417={};if(_0x56c7a2&&blueprintPageSettings)_0x42d417=blueprintPageSettings;else{const _0x5a9a13=document[_0x53e439(0x3e0)](_0x53e439(0xb6f));_0x42d417={'quizType':document[_0x53e439(0x552)](_0x53e439(0xa28))[_0x53e439(0x203)],'numQuestions':document[_0x53e439(0x552)](_0x53e439(0x9bc))[_0x53e439(0x203)],'numChoices':document['getElementById'](_0x53e439(0xa0f))[_0x53e439(0x203)],'includeImages':document[_0x53e439(0x552)]('include-images-checkbox')[_0x53e439(0xd08)],'isNormalTopic':document[_0x53e439(0x552)](_0x53e439(0x560))['checked'],'difficultyValue':document[_0x53e439(0x552)]('difficulty-level-select')[_0x53e439(0x203)],'complexityValue':document[_0x53e439(0x552)](_0x53e439(0x45a))[_0x53e439(0x203)],'selectedTopicNames':Array['from'](_0x5a9a13)[_0x53e439(0x75d)](_0xa50b3d=>_0xa50b3d[_0x53e439(0x203)])};}const _0x4ac9fa=_0x42d417[_0x53e439(0x67b)]?'':_0x53e439(0x611),_0x266ca5=_0x42d417['difficultyValue']!==_0x53e439(0x7f0)?_0x53e439(0xc24)+_0x42d417[_0x53e439(0x2fd)]+'\x22':'',_0x430ee9=_0x42d417[_0x53e439(0xbac)]!==_0x53e439(0xbc1)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x42d417[_0x53e439(0xbac)]+_0x53e439(0x1cb):'';let _0x45908d='';_0x42d417[_0x53e439(0x4a7)]&&_0x42d417[_0x53e439(0x4a7)][_0x53e439(0x636)]>0x0&&(_0x45908d=_0x53e439(0xc97)+_0x42d417[_0x53e439(0x4a7)][_0x53e439(0xa89)](',\x20')+'.');let _0xd225c7='';_0x1305d4&&(_0xd225c7=_0x53e439(0xc6e));let _0xc89e06='',_0x35b433='',_0x358e16,_0x24f328=_0x53e439(0xab2)+_0x1b5f8d+'\x22';if(!_0x1b5f8d&&_0x55c68d)_0x24f328=_0x53e439(0x89f);else!_0x1b5f8d&&!_0x55c68d&&(_0x24f328=_0x53e439(0xa78));const _0x38d01d={'type':_0x53e439(0x695),'properties':{'questionText':{'type':_0x53e439(0x6d8)},'options':{'type':'ARRAY','items':{'type':_0x53e439(0x6d8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x53e439(0x6d8)},'imageCode':{'type':_0x53e439(0x6d8)}},'required':[_0x53e439(0x629),_0x53e439(0xb70),_0x53e439(0xb21),_0x53e439(0xb1d)]},_0xa5a3ba={'type':_0x53e439(0x695),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x53e439(0x6d8)},'explanation':{'type':_0x53e439(0x6d8)},'imageCode':{'type':'STRING'}},'required':[_0x53e439(0x629),'idealAnswer','explanation']},_0x309622={'type':_0x53e439(0x695),'properties':{'questionText':{'type':_0x53e439(0x6d8)},'questionType':{'type':'STRING','enum':[_0x53e439(0x2df),_0x53e439(0x952)]},'options':{'type':_0x53e439(0x159),'items':{'type':_0x53e439(0x6d8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x53e439(0x6d8)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x53e439(0x6d8)}},'required':[_0x53e439(0x629),_0x53e439(0x5be),_0x53e439(0xb1d)]},_0x3f214d={'type':_0x53e439(0x695),'properties':{'questionText':{'type':_0x53e439(0x6d8)},'correctAnswer':{'type':_0x53e439(0x3e9)},'explanation':{'type':_0x53e439(0x6d8)},'imageCode':{'type':_0x53e439(0x6d8)}},'required':['questionText',_0x53e439(0x207),_0x53e439(0xb1d)]},_0x274447={'type':_0x53e439(0x695),'properties':{'questionType':{'type':'STRING','enum':[_0x53e439(0x4b4)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x53e439(0x6d8)}},'explanation':{'type':_0x53e439(0x6d8)},'imageCode':{'type':_0x53e439(0x6d8)}},'required':[_0x53e439(0x5be),'stem',_0x53e439(0x8b9),_0x53e439(0xaeb),'explanation']};let _0x558b77;if(_0x26fbc5!==null){const _0x2b7101=currentQuizData[_0x53e439(0x5cd)][_0x26fbc5]['questionType'],_0x194fd1=_0x42d417[_0x53e439(0x540)]?_0x53e439(0xa42):'';_0xc89e06=_0x53e439(0x97a)+_0x24f328+'\x20'+_0x45908d+'\x20'+_0x266ca5+_0x53e439(0xc03)+_0x194fd1+'\x20'+simpleMathPrompt;if(_0x2b7101===_0x53e439(0x2df))_0x358e16=_0x38d01d;else{if(_0x2b7101===_0x53e439(0x4b4))_0x358e16={'type':'OBJECT','properties':{'questionType':{'type':_0x53e439(0x6d8),'enum':['matching_item']},'stem':{'type':_0x53e439(0x6d8)},'correctResponse':{'type':_0x53e439(0x6d8)},'explanation':{'type':_0x53e439(0x6d8)},'imageCode':{'type':_0x53e439(0x6d8)}},'required':[_0x53e439(0x5be),_0x53e439(0x2a5),_0x53e439(0x8b9),_0x53e439(0xb1d)]};else _0x358e16=_0xa5a3ba;}_0x558b77=_0x358e16;}else{const _0xe3d7db=_0x42d417['includeImages']?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x42d417['quizType']){case'multiple_choice':_0xc89e06=_0x53e439(0x73a)+_0x4ac9fa+'\x20'+_0x42d417['numQuestions']+'\x20ข้อ\x20'+_0x24f328+'\x20'+_0x45908d+'\x20'+_0x266ca5+'\x20'+_0x430ee9+'\x20'+_0xd225c7+_0x53e439(0x5f9)+_0x42d417['numChoices']+_0x53e439(0xcb0)+_0xe3d7db+'\x20'+simpleMathPrompt,_0x358e16=_0x38d01d;break;case _0x53e439(0x95b):_0xc89e06='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4ac9fa+'\x20'+_0x42d417[_0x53e439(0x461)]+_0x53e439(0x890)+_0x24f328+'\x20'+_0x45908d+'\x20'+_0x266ca5+'\x20'+_0x430ee9+'\x20'+_0xd225c7+_0x53e439(0x6a9)+_0x42d417['numChoices']+_0x53e439(0x2cd)+_0xe3d7db+'\x20'+simpleMathPrompt,_0x358e16=_0x38d01d;break;case'fill_in_no_choices':_0xc89e06=_0x53e439(0x25c)+_0x4ac9fa+'\x20'+_0x42d417['numQuestions']+_0x53e439(0x890)+_0x24f328+'\x20'+_0x45908d+'\x20'+_0x266ca5+'\x20'+_0x430ee9+'\x20'+_0xd225c7+_0x53e439(0x3e2)+_0xe3d7db+'\x20'+simpleMathPrompt,_0x358e16=_0xa5a3ba;break;case _0x53e439(0xbc1):_0xc89e06=_0x53e439(0x381)+_0x4ac9fa+'\x20'+_0x42d417[_0x53e439(0x461)]+'\x20ข้อ\x20'+_0x24f328+'\x20'+_0x45908d+'\x20'+_0x266ca5+'\x20'+_0x430ee9+'\x20'+_0xd225c7+_0x53e439(0x1dd)+_0x42d417[_0x53e439(0x53f)]+_0x53e439(0xa67)+_0xe3d7db+'\x20'+simpleMathPrompt+'.',_0x358e16=_0x309622;break;case'true_false':_0xc89e06=_0x53e439(0x6b3)+_0x4ac9fa+'\x20'+_0x42d417[_0x53e439(0x461)]+_0x53e439(0x890)+_0x24f328+'\x20'+_0x45908d+'\x20'+_0x266ca5+'\x20'+_0x430ee9+'\x20'+_0xd225c7+_0x53e439(0x754)+_0xe3d7db+'\x20'+simpleMathPrompt,_0x358e16=_0x3f214d;break;case _0x53e439(0x84f):_0xc89e06=_0x53e439(0x5f2)+_0x4ac9fa+'\x20'+_0x42d417['numQuestions']+'\x20คู่\x20'+_0x24f328+'\x20'+_0x45908d+'\x20'+_0x266ca5+'\x20'+_0x430ee9+'\x20'+_0xd225c7+_0x53e439(0x5ce)+_0xe3d7db+'\x20'+simpleMathPrompt,_0x358e16=_0x274447;break;}_0x558b77={'type':_0x53e439(0x695),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x358e16}},'required':['topic','questions']};}const _0x14b8f8=_0x53e439(0x81b);_0x55c68d?(_0x2ba870?_0xc89e06=_0x53e439(0x355)+_0x55c68d+'\x22,\x20'+_0xc89e06+_0x14b8f8:_0xc89e06=_0x53e439(0x355)+_0x55c68d+_0x53e439(0x3af)+_0xc89e06,_0x35b433=_0x53e439(0xa6e)):(_0x2ba870&&(_0xc89e06+=_0x14b8f8),_0x35b433=_0x53e439(0x398));let _0x574988;return _0x1305d4?(_0x574988=[{'text':_0xc89e06},..._0x1305d4],_0x35b433=_0x53e439(0x7b9)):_0x574988=_0xc89e06,handleApiCall(_0x574988,_0x35b433,_0x558b77,_0x26fbc5,!![],_0x45ea6f,_0x5f514b);}async function generateQuizFromFile(_0x226792,_0x4705d8){const _0x4ada65=_0x3a383e,_0x3a9b01=document['getElementById'](_0x4ada65(0xb07))[_0x4ada65(0x203)][_0x4ada65(0x887)](),_0x16cdff=document[_0x4ada65(0x552)]('quiz-type-select')[_0x4ada65(0x203)],_0x5a452b=document[_0x4ada65(0x552)]('num-questions')['value'],_0xc39aa4=document[_0x4ada65(0x552)]('num-choices')[_0x4ada65(0x203)],_0x29d115=document[_0x4ada65(0x552)](_0x4ada65(0xc48))[_0x4ada65(0xd08)],_0x1e2088=document[_0x4ada65(0x552)]('force-math-checkbox')['checked'],_0x566c22=_0x1e2088?'':_0x4ada65(0x611),_0xd1b5b1=document[_0x4ada65(0x552)](_0x4ada65(0x894))['checked'];let _0x373624='',_0x52e237;const _0x1f8055=_0x29d115?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0xd1b5b1)_0x373624=_0x4ada65(0xce0)+_0x1f8055+'\x0a'+simpleMathPrompt+'\x0a',_0x52e237={'type':'OBJECT','properties':{'questionText':{'type':_0x4ada65(0x6d8)},'questionType':{'type':_0x4ada65(0x6d8),'enum':[_0x4ada65(0x2df),_0x4ada65(0x952),_0x4ada65(0x631),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x4ada65(0x6d8)}},'correctAnswerIndex':{'type':_0x4ada65(0xbe0)},'idealAnswer':{'type':_0x4ada65(0x6d8)},'correctAnswer':{'type':_0x4ada65(0x3e9)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4ada65(0x6d8)},'allResponses':{'type':_0x4ada65(0x159),'items':{'type':_0x4ada65(0x6d8)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x4ada65(0x5be),_0x4ada65(0xb1d)]};else{let _0x48f191=_0x4ada65(0xab2)+_0x3a9b01+'\x22';!_0x3a9b01&&(_0x48f191=_0x4ada65(0xcb9));switch(_0x16cdff){case _0x4ada65(0x2df):_0x373624=_0x4ada65(0x73a)+_0x566c22+'\x20'+_0x5a452b+_0x4ada65(0x890)+_0x48f191+_0x4ada65(0x5f9)+_0xc39aa4+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x1f8055+'\x20'+simpleMathPrompt,_0x52e237={'type':_0x4ada65(0x695),'properties':{'questionText':{'type':_0x4ada65(0x6d8)},'options':{'type':_0x4ada65(0x159),'items':{'type':_0x4ada65(0x6d8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x4ada65(0x629),_0x4ada65(0xb70),_0x4ada65(0xb21),_0x4ada65(0xb1d)]};break;case _0x4ada65(0x95b):_0x373624=_0x4ada65(0x25c)+_0x566c22+'\x20'+_0x5a452b+'\x20ข้อ\x20'+_0x48f191+_0x4ada65(0x6a9)+_0xc39aa4+_0x4ada65(0x2cd)+_0x1f8055+'\x20'+simpleMathPrompt,_0x52e237={'type':'OBJECT','properties':{'questionText':{'type':_0x4ada65(0x6d8)},'options':{'type':'ARRAY','items':{'type':_0x4ada65(0x6d8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4ada65(0x6d8)},'imageCode':{'type':_0x4ada65(0x6d8)}},'required':[_0x4ada65(0x629),_0x4ada65(0xb70),_0x4ada65(0xb21),_0x4ada65(0xb1d)]};break;case _0x4ada65(0x349):_0x373624='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x566c22+'\x20'+_0x5a452b+_0x4ada65(0x890)+_0x48f191+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x1f8055+'\x20'+simpleMathPrompt,_0x52e237={'type':_0x4ada65(0x695),'properties':{'questionText':{'type':_0x4ada65(0x6d8)},'idealAnswer':{'type':_0x4ada65(0x6d8)},'explanation':{'type':_0x4ada65(0x6d8)},'imageCode':{'type':_0x4ada65(0x6d8)}},'required':[_0x4ada65(0x629),_0x4ada65(0x572),_0x4ada65(0xb1d)]};break;case _0x4ada65(0xbc1):_0x373624='สร้างแบบทดสอบ'+_0x566c22+'\x20'+_0x5a452b+_0x4ada65(0x890)+_0x48f191+_0x4ada65(0xbbf)+_0xc39aa4+_0x4ada65(0xca5)+_0x1f8055+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x52e237={'type':'OBJECT','properties':{'questionText':{'type':_0x4ada65(0x6d8)},'questionType':{'type':_0x4ada65(0x6d8),'enum':[_0x4ada65(0x2df),_0x4ada65(0x952)]},'options':{'type':_0x4ada65(0x159),'items':{'type':_0x4ada65(0x6d8)}},'correctAnswerIndex':{'type':_0x4ada65(0xbe0)},'idealAnswer':{'type':_0x4ada65(0x6d8)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x4ada65(0x629),'questionType',_0x4ada65(0xb1d)]};break;case _0x4ada65(0x631):_0x373624='สร้างคำถามแบบใช่/ไม่ใช่'+_0x566c22+'\x20'+_0x5a452b+_0x4ada65(0x890)+_0x48f191+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1f8055+'\x20'+simpleMathPrompt,_0x52e237={'type':_0x4ada65(0x695),'properties':{'questionText':{'type':_0x4ada65(0x6d8)},'correctAnswer':{'type':_0x4ada65(0x3e9)},'explanation':{'type':_0x4ada65(0x6d8)},'imageCode':{'type':_0x4ada65(0x6d8)}},'required':['questionText','correctAnswer','explanation']};break;case'matching':_0x373624='สร้างชุดคำถามจับคู่'+_0x566c22+'\x20'+_0x5a452b+_0x4ada65(0x48a)+_0x48f191+_0x4ada65(0x6f3)+_0x5a452b+_0x4ada65(0x9f0)+_0x1f8055+'\x20'+simpleMathPrompt,_0x52e237={'type':'OBJECT','properties':{'questionType':{'type':_0x4ada65(0x6d8),'enum':[_0x4ada65(0x4b4)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4ada65(0x159),'items':{'type':_0x4ada65(0x6d8)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4ada65(0x6d8)}},'required':[_0x4ada65(0x5be),_0x4ada65(0x2a5),_0x4ada65(0x8b9),_0x4ada65(0xaeb),'explanation']};break;}}const _0x5001ae={'type':_0x4ada65(0x695),'properties':{'topic':{'type':_0x4ada65(0x6d8)},'questions':{'type':_0x4ada65(0x159),'items':_0x52e237}},'required':[_0x4ada65(0x65f),_0x4ada65(0x5cd)]},_0x2ea343='จากไฟล์ที่แนบมานี้,\x20'+_0x373624,_0x1dce98={'contents':[{'parts':[{'text':_0x2ea343},{'inlineData':{'mimeType':_0x226792,'data':_0x4705d8}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x5001ae}};return handleApiCall(_0x1dce98[_0x4ada65(0x432)][0x0]['parts'],_0x4ada65(0x575),_0x5001ae);}async function handleApiCall(_0x109d0b,_0x1a3800,_0x56b409,_0x2d925b=null,_0x5edb5=!![],_0x233c2a=null,_0xa8d15c=null){const _0x451bdf=_0x3a383e,_0x260843=document[_0x451bdf(0x552)](_0x451bdf(0x6be)),_0x8cddd0=document[_0x451bdf(0x552)]('loader'),_0x4110a5=document[_0x451bdf(0x552)]('loader-text'),_0x56874f=document['getElementById'](_0x451bdf(0x8af));_0x260843[_0x451bdf(0x4c1)][_0x451bdf(0xb01)](_0x451bdf(0x9d2));_0x2d925b===null&&_0x5edb5&&(_0x56874f[_0x451bdf(0x377)]='');_0x8cddd0[_0x451bdf(0x4c1)]['remove'](_0x451bdf(0x9d2)),_0x4110a5[_0x451bdf(0x37a)]=_0x1a3800,document[_0x451bdf(0x552)](_0x451bdf(0x936))['disabled']=!![],document[_0x451bdf(0x552)](_0x451bdf(0x4d0))[_0x451bdf(0x7ce)]=!![],document[_0x451bdf(0x552)]('generate-from-link-btn')[_0x451bdf(0x7ce)]=!![];const _0x670728=document[_0x451bdf(0x552)](_0x451bdf(0x85a));if(_0x670728)_0x670728['disabled']=!![];const _0x54aa2e=document['getElementById']('generate-from-blueprint-btn');if(_0x54aa2e)_0x54aa2e['disabled']=!![];const _0x206e30=document[_0x451bdf(0x552)](_0x451bdf(0xc92));if(_0x206e30)_0x206e30['disabled']=!![];try{const _0x34280e=Array[_0x451bdf(0x95c)](_0x109d0b)?_0x109d0b:[{'text':_0x109d0b}],_0x451d79={'contents':[{'role':_0x451bdf(0xb3a),'parts':_0x34280e}]};_0x56b409&&(_0x451d79[_0x451bdf(0x528)]={'responseMimeType':_0x451bdf(0x794),'responseSchema':_0x56b409});const _0x5bd624=_0x451bdf(0xcf8),_0x3bdc90=_0x451bdf(0x1e1)+_0x5bd624,_0x1ff96b=await fetch(_0x3bdc90,{'method':_0x451bdf(0xa80),'headers':{'Content-Type':_0x451bdf(0x794)},'body':JSON[_0x451bdf(0x7ae)](_0x451d79)});if(!_0x1ff96b['ok']){const _0x2bfdff=await _0x1ff96b[_0x451bdf(0x5f4)]();console[_0x451bdf(0x2e9)](_0x451bdf(0x945),_0x2bfdff);throw new Error(_0x451bdf(0x383)+_0x1ff96b[_0x451bdf(0xb09)]);}const _0x3e4ab4=await _0x1ff96b[_0x451bdf(0xc0e)]();if(!_0x3e4ab4['candidates']||_0x3e4ab4['candidates'][_0x451bdf(0x636)]===0x0){let _0xc8b137='AI\x20did\x20not\x20return\x20any\x20content.';return _0x3e4ab4[_0x451bdf(0x6ca)]?.['blockReason']&&(_0xc8b137=_0x451bdf(0xac3)+_0x3e4ab4[_0x451bdf(0x6ca)][_0x451bdf(0x43b)]+'.'),console[_0x451bdf(0x2e9)](_0xc8b137,JSON[_0x451bdf(0x7ae)](_0x3e4ab4)),null;}const _0x1b30ed=_0x3e4ab4[_0x451bdf(0x392)][0x0][_0x451bdf(0xc4f)][_0x451bdf(0xbf0)][0x0]['text'];if(_0x56b409){let _0x2caa3c=_0x1b30ed;if(_0x2caa3c[_0x451bdf(0x829)](_0x451bdf(0x1e0)))_0x2caa3c=_0x2caa3c[_0x451bdf(0x9ec)](0x7,_0x2caa3c[_0x451bdf(0x636)]-0x3)[_0x451bdf(0x887)]();else _0x2caa3c['startsWith'](_0x451bdf(0xcd7))&&(_0x2caa3c=_0x2caa3c[_0x451bdf(0x9ec)](0x3,_0x2caa3c[_0x451bdf(0x636)]-0x3)[_0x451bdf(0x887)]());let _0x43913c=JSON[_0x451bdf(0xbea)](_0x2caa3c);if(_0x5edb5){if(_0x2d925b!==null){}else currentQuizData=_0x43913c,displayGeneratedQuiz(currentQuizData,_0x233c2a,_0xa8d15c);}return _0x43913c;}else return _0x1b30ed;}catch(_0x5785c4){console['error'](_0x451bdf(0x86f),_0x5785c4),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x5785c4['message']);_0x5edb5&&(_0x56874f[_0x451bdf(0x377)]=_0x451bdf(0x60b));throw _0x5785c4;}finally{_0x8cddd0[_0x451bdf(0x4c1)][_0x451bdf(0x350)](_0x451bdf(0x9d2)),document[_0x451bdf(0x552)]('generate-from-topic-btn')[_0x451bdf(0x7ce)]=![],document[_0x451bdf(0x552)](_0x451bdf(0x4d0))[_0x451bdf(0x7ce)]=![],document['getElementById'](_0x451bdf(0xced))['disabled']=![];if(_0x670728)_0x670728[_0x451bdf(0x7ce)]=![];if(_0x54aa2e)_0x54aa2e['disabled']=![];if(_0x206e30)_0x206e30[_0x451bdf(0x7ce)]=![];}}function exitFullscreen(){const _0x5804dd=_0x3a383e;if(document[_0x5804dd(0x56b)])document['exitFullscreen']()[_0x5804dd(0x324)](_0x191c0f=>console[_0x5804dd(0x2e9)](_0x191c0f));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0x5804dd(0x956)]();}}function enterFullscreen(){const _0x72fa74=_0x3a383e,_0x4d698a=document[_0x72fa74(0x56c)];if(_0x4d698a[_0x72fa74(0x233)])_0x4d698a[_0x72fa74(0x233)]()[_0x72fa74(0x324)](_0xee99f3=>{const _0xcbe2e1=_0x72fa74;console[_0xcbe2e1(0x2e9)](_0xcbe2e1(0x3fb)+_0xee99f3['message']+'\x20('+_0xee99f3[_0xcbe2e1(0xce5)]+')');});else{if(_0x4d698a['webkitRequestFullscreen'])_0x4d698a[_0x72fa74(0x82c)]();else _0x4d698a[_0x72fa74(0x4f3)]&&_0x4d698a['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x5036e6=_0x3a383e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x5036e6(0x6c0)+maxCheatAttempts+_0x5036e6(0x235)),document['getElementById'](_0x5036e6(0x6e3))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x5036e6(0xbaf)]('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x5036e6(0xb7e),handleFullscreenChange)):showMessage(_0x5036e6(0x441)+cheatAttempts+'/'+maxCheatAttempts+_0x5036e6(0x253),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x57cb2d=_0x3a383e;if(currentMode===_0x57cb2d(0xa1e)||!isQuizActive)return;if(document[_0x57cb2d(0xb3c)]===_0x57cb2d(0x9d2))handleCheatingEvent();else document[_0x57cb2d(0xb3c)]===_0x57cb2d(0x311)&&(console['log'](_0x57cb2d(0x84d)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x446f8c=_0x3a383e;if(currentMode===_0x446f8c(0xa1e)||!isQuizActive)return;!document[_0x446f8c(0x1a8)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x11611e,_0x16f06e=null,_0x39ade3=null){const _0x30d128=_0x3a383e,_0x3d5f4c=document['getElementById'](_0x30d128(0x8af));let _0x413938=_0x30d128(0x225)+_0x11611e[_0x30d128(0x65f)]+_0x30d128(0x3dd);_0x11611e['questions'][_0x30d128(0x1f5)]((_0xce23ca,_0xbea893)=>{const _0x4700e1=_0x30d128;!_0xce23ca['id']&&(_0xce23ca['id']='q_'+Date[_0x4700e1(0x15a)]()+'_'+_0xbea893);const _0x498589=_0xce23ca[_0x4700e1(0x5be)]||_0x11611e[_0x4700e1(0x8bd)];_0x413938+=_0x4700e1(0x49e)+_0xbea893+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xbea893+_0x4700e1(0xae3)+_0xbea893+_0x4700e1(0x9b0);switch(_0x498589){case _0x4700e1(0x4b4):_0x413938+=_0x4700e1(0xa97)+_0xbea893+'\x22>'+(_0xbea893+0x1)+'.\x20'+_0xce23ca[_0x4700e1(0x2a5)]+_0x4700e1(0xb8e);_0xce23ca[_0x4700e1(0x9e7)]&&(_0x413938+=_0x4700e1(0x3ca)+_0xbea893+_0x4700e1(0xa61)+_0xce23ca[_0x4700e1(0x9e7)]+_0x4700e1(0xc87));_0x413938+=_0x4700e1(0x62f)+_0xbea893+'\x22>'+_0xce23ca[_0x4700e1(0x8b9)]+_0x4700e1(0x5e0),_0x413938+=_0x4700e1(0xaa5)+_0xbea893+'\x22>'+_0xce23ca[_0x4700e1(0xb1d)]+_0x4700e1(0x5e0);break;case _0x4700e1(0x952):_0x413938+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xbea893+'\x22>'+(_0xbea893+0x1)+'.\x20'+_0xce23ca[_0x4700e1(0x629)]+'</p>';_0xce23ca[_0x4700e1(0x9e7)]&&(_0x413938+=_0x4700e1(0x3ca)+_0xbea893+_0x4700e1(0xa61)+_0xce23ca[_0x4700e1(0x9e7)]+_0x4700e1(0xc87));_0x413938+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0xbea893+'\x22>'+_0xce23ca[_0x4700e1(0x572)]+_0x4700e1(0x5e0),_0x413938+=_0x4700e1(0xaa5)+_0xbea893+'\x22>'+_0xce23ca['explanation']+'</span></div>';break;case _0x4700e1(0x631):_0x413938+=_0x4700e1(0xa97)+_0xbea893+'\x22>'+(_0xbea893+0x1)+'.\x20'+_0xce23ca['questionText']+_0x4700e1(0xb8e);_0xce23ca[_0x4700e1(0x9e7)]&&(_0x413938+='<div\x20id=\x22q-image-container-'+_0xbea893+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xce23ca[_0x4700e1(0x9e7)]+_0x4700e1(0xc87));_0x413938+=_0x4700e1(0x494)+(_0xce23ca[_0x4700e1(0x207)]===!![]?_0x4700e1(0x762):'')+_0x4700e1(0xa9e)+(_0xce23ca[_0x4700e1(0x207)]===![]?_0x4700e1(0x762):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x413938+=_0x4700e1(0xaa5)+_0xbea893+'\x22>'+_0xce23ca['explanation']+_0x4700e1(0x5e0);break;case _0x4700e1(0x488):case'multiple_choice':default:_0x413938+=_0x4700e1(0xa97)+_0xbea893+'\x22>'+(_0xbea893+0x1)+'.\x20'+_0xce23ca['questionText']+_0x4700e1(0xb8e);_0xce23ca[_0x4700e1(0x9e7)]&&(_0x413938+=_0x4700e1(0x3ca)+_0xbea893+_0x4700e1(0xa61)+_0xce23ca[_0x4700e1(0x9e7)]+_0x4700e1(0xc87));_0x413938+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0xbea893+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xce23ca[_0x4700e1(0xb70)]||[])['map']((_0x2163be,_0x51842c)=>_0x4700e1(0x8b5)+(_0x51842c===_0xce23ca['correctAnswerIndex']?_0x4700e1(0x762):'')+'\x22>'+_0x2163be+'</li>')[_0x4700e1(0xa89)]('')+_0x4700e1(0xcf2),_0x413938+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xbea893+'\x22>'+_0xce23ca['explanation']+_0x4700e1(0x5e0);break;}_0x413938+=_0x4700e1(0xc87);}),_0x413938+=_0x30d128(0xb94),_0x3d5f4c['innerHTML']=_0x413938,document[_0x30d128(0x3e0)](_0x30d128(0x86d))['forEach'](_0x1d4ef8=>_0x1d4ef8[_0x30d128(0x224)](_0x30d128(0x43a),handleEditQuestion)),document[_0x30d128(0x3e0)](_0x30d128(0x7d3))[_0x30d128(0x1f5)](_0x2bd43b=>_0x2bd43b[_0x30d128(0x224)](_0x30d128(0x43a),handleRegenerateQuestion)),document['getElementById']('export-worksheet-pdf-btn')['addEventListener']('click',exportQuizAsWorksheetPDF),document[_0x30d128(0x552)]('verify-answers-btn')[_0x30d128(0x224)](_0x30d128(0x43a),handleVerifyAnswers);const _0x875a69=document[_0x30d128(0x552)](_0x30d128(0x68d));if(_0x875a69){const _0x4755bd=_0x16f06e||currentProjectId;_0x875a69[_0x30d128(0x224)](_0x30d128(0x43a),()=>saveQuiz(_0x4755bd,_0x39ade3));}if(window[_0x30d128(0xc8b)])window[_0x30d128(0xc8b)][_0x30d128(0x171)]([_0x3d5f4c]);}function handleRegenerateQuestion(_0x12b516){const _0x489c9b=_0x3a383e,_0x566c80=_0x12b516[_0x489c9b(0x372)][_0x489c9b(0x79d)][_0x489c9b(0x5b3)],_0x4a4d52=currentQuizData[_0x489c9b(0x65f)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x566c80)+0x1)+_0x489c9b(0x643)),generateQuiz(_0x4a4d52,null,parseInt(_0x566c80));}function getPointerPosition(_0x58ca30,_0x1a0a12){const _0x26ab46=_0x3a383e,_0x3b0435=_0x58ca30['getScreenCTM']();let _0x3ab965,_0x25cc23;return _0x1a0a12[_0x26ab46(0xb04)]&&_0x1a0a12[_0x26ab46(0xb04)][_0x26ab46(0x636)]>0x0?(_0x3ab965=_0x1a0a12[_0x26ab46(0xb04)][0x0][_0x26ab46(0x4cb)],_0x25cc23=_0x1a0a12[_0x26ab46(0xb04)][0x0][_0x26ab46(0xcb3)]):(_0x3ab965=_0x1a0a12[_0x26ab46(0x4cb)],_0x25cc23=_0x1a0a12[_0x26ab46(0xcb3)]),{'x':(_0x3ab965-_0x3b0435['e'])/_0x3b0435['a'],'y':(_0x25cc23-_0x3b0435['f'])/_0x3b0435['d']};}function startDrag(_0x399963){const _0x2cafd2=_0x3a383e;_0x399963[_0x2cafd2(0x96b)]===_0x2cafd2(0x3f4)&&_0x399963['preventDefault']();const _0x52cae6=_0x399963[_0x2cafd2(0x19c)][_0x2cafd2(0xc1b)]('.draggable-text');if(_0x52cae6){draggedSvgElement=_0x52cae6;const _0x4f5166=draggedSvgElement['ownerSVGElement'],_0x34841e=getPointerPosition(_0x4f5166,_0x399963);svgOffset['x']=_0x34841e['x']-parseFloat(draggedSvgElement[_0x2cafd2(0xb3d)](null,'x')),svgOffset['y']=_0x34841e['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x51017e,_0x47f9fa){const _0x37ade6=_0x3a383e,_0x15ded8={};if(_0x47f9fa[_0x37ade6(0x636)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x4b7514=[..._0x47f9fa][_0x37ade6(0xa29)]((_0x2d8597,_0x4c5f1d)=>{const _0x1b2776=_0x37ade6,_0x4eddad=_0x4c5f1d[_0x1b2776(0xc14)]-_0x2d8597[_0x1b2776(0xc14)];if(_0x4eddad!==0x0)return _0x4eddad;const _0x33b934=_0x2d8597['attempts']?.['length']||0x1,_0x4fde82=_0x4c5f1d[_0x1b2776(0x61f)]?.[_0x1b2776(0x636)]||0x1,_0x34015f=_0x33b934-_0x4fde82;if(_0x34015f!==0x0)return _0x34015f;const _0x371f3c=new Date(_0x2d8597[_0x1b2776(0xc65)]),_0x20796a=new Date(_0x4c5f1d[_0x1b2776(0xc65)]),_0x8b6cbf=_0x371f3c-_0x20796a;if(_0x8b6cbf!==0x0)return _0x8b6cbf;return _0x2d8597[_0x1b2776(0x247)]['localeCompare'](_0x4c5f1d[_0x1b2776(0x247)],'th');}),_0x32cde3=_0x4b7514[_0x37ade6(0x636)],_0x1a0bc0=Math['max'](0x1,Math[_0x37ade6(0x429)](_0x32cde3*0.33));if(_0x1a0bc0===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1a0235=_0x4b7514[_0x37ade6(0x8ea)](0x0,_0x1a0bc0),_0x13b2d2=_0x4b7514['slice'](-_0x1a0bc0),_0x100723=_0x1a0235['map'](_0x4a2de7=>_0x4a2de7[_0x37ade6(0x247)]),_0xbf7d68=_0x13b2d2['map'](_0x266aa2=>_0x266aa2[_0x37ade6(0x247)]);return _0x51017e[_0x37ade6(0x5cd)]['forEach']((_0x3f960e,_0x4d8ca9)=>{const _0x282250=_0x37ade6,_0x5e63de=_0x3f960e['stem']||_0x3f960e['questionText'];let _0x2bf91a=0x0,_0x5d58b6=0x0,_0x143c15=0x0;const _0x5d0f3b=[],_0x395aa6=[];_0x1a0235['forEach'](_0x523552=>{const _0x6cc291=_0x35c4,_0x353689=_0x523552[_0x6cc291(0x61f)][_0x523552[_0x6cc291(0x61f)][_0x6cc291(0x636)]-0x1],_0xe1711e=_0x353689[_0x6cc291(0x7b5)][_0x6cc291(0x51d)](_0x8cae21=>_0x8cae21['originalQuestionText']===_0x5e63de);_0x5d0f3b[_0x6cc291(0x321)]({'name':_0x523552[_0x6cc291(0x247)],'isCorrect':_0xe1711e?_0xe1711e[_0x6cc291(0x1c8)]:![]}),_0xe1711e&&_0xe1711e[_0x6cc291(0x1c8)]&&_0x5d58b6++;}),_0x13b2d2[_0x282250(0x1f5)](_0x383535=>{const _0xd41777=_0x282250,_0x8f35f9=_0x383535[_0xd41777(0x61f)][_0x383535[_0xd41777(0x61f)][_0xd41777(0x636)]-0x1],_0x264da6=_0x8f35f9[_0xd41777(0x7b5)][_0xd41777(0x51d)](_0x533dad=>_0x533dad[_0xd41777(0x453)]===_0x5e63de);_0x395aa6[_0xd41777(0x321)]({'name':_0x383535[_0xd41777(0x247)],'isCorrect':_0x264da6?_0x264da6[_0xd41777(0x1c8)]:![]}),_0x264da6&&_0x264da6[_0xd41777(0x1c8)]&&_0x143c15++;}),_0x47f9fa[_0x282250(0x1f5)](_0x1bb244=>{const _0x4ea583=_0x282250,_0x1fe454=_0x1bb244[_0x4ea583(0x61f)][_0x1bb244[_0x4ea583(0x61f)]['length']-0x1],_0x5519e9=_0x1fe454[_0x4ea583(0x7b5)]['find'](_0x3eb314=>_0x3eb314[_0x4ea583(0x453)]===_0x5e63de);_0x5519e9&&_0x5519e9[_0x4ea583(0x1c8)]&&_0x2bf91a++;});const _0x2c0786=_0x32cde3>0x0?_0x2bf91a/_0x32cde3:0x0,_0x26c824=_0x1a0bc0>0x0?_0x5d58b6/_0x1a0bc0-_0x143c15/_0x1a0bc0:0x0;_0x15ded8[_0x4d8ca9]={'p':_0x2c0786,'r':_0x26c824,'upperGroupResponders':_0x5d0f3b,'lowerGroupResponders':_0x395aa6};}),{'perQuestionStats':_0x15ded8,'overallGroups':{'upperGroupNames':_0x100723,'lowerGroupNames':_0xbf7d68}};}function drag(_0x11606f){const _0x3b3d3e=_0x3a383e;if(draggedSvgElement){_0x11606f[_0x3b3d3e(0x4a0)]();const _0x393697=draggedSvgElement[_0x3b3d3e(0xcef)],_0x4f2132=getPointerPosition(_0x393697,_0x11606f),_0x1f43c7=_0x393697['viewBox'][_0x3b3d3e(0x7d8)];let _0x3a4cfe=_0x4f2132['x']-svgOffset['x'],_0x20325e=_0x4f2132['y']-svgOffset['y'];const _0x47e491=draggedSvgElement['getBBox']();_0x3a4cfe=Math['max'](_0x1f43c7['x'],Math[_0x3b3d3e(0x353)](_0x3a4cfe,_0x1f43c7['x']+_0x1f43c7[_0x3b3d3e(0x438)]-_0x47e491['width'])),_0x20325e=Math['max'](_0x1f43c7['y'],Math['min'](_0x20325e,_0x1f43c7['y']+_0x1f43c7[_0x3b3d3e(0x220)]-_0x47e491[_0x3b3d3e(0x220)])),draggedSvgElement[_0x3b3d3e(0x86c)](null,'x',_0x3a4cfe),draggedSvgElement[_0x3b3d3e(0x86c)](null,'y',_0x20325e);}}function endDrag(_0x23ed55){draggedSvgElement=null;}function handleSvgEditClick(_0x1880ef){const _0x2802ef=_0x3a383e;if(_0x1880ef[_0x2802ef(0x19c)]['classList'][_0x2802ef(0x4b7)](_0x2802ef(0x770))){const _0x2a842e=_0x1880ef[_0x2802ef(0x19c)][_0x2802ef(0x79d)][_0x2802ef(0x20b)],_0x4a2cbd=_0x1880ef[_0x2802ef(0x372)],_0x40bc79=_0x4a2cbd[_0x2802ef(0x972)]('#'+_0x2a842e);_0x40bc79&&_0x40bc79[_0x2802ef(0xb01)](),_0x1880ef[_0x2802ef(0x19c)][_0x2802ef(0xb01)]();}}function handleEditQuestion(_0x901736){const _0xf55f70=_0x3a383e,_0x4b8dd1=_0x901736[_0xf55f70(0x372)],_0x290c6a=_0x4b8dd1[_0xf55f70(0x79d)][_0xf55f70(0x5b3)],_0x173240=currentQuizData[_0xf55f70(0x5cd)][_0x290c6a],_0xb2f11e=document['getElementById'](_0xf55f70(0x38f)+_0x290c6a),_0x497e2b=document[_0xf55f70(0x552)](_0xf55f70(0x178)+_0x290c6a),_0x12a0c0=document[_0xf55f70(0x552)](_0xf55f70(0xa4b)+_0x290c6a);if(_0x4b8dd1[_0xf55f70(0x377)][_0xf55f70(0x27b)](_0xf55f70(0x8dc))){_0x4b8dd1[_0xf55f70(0x377)]=_0xf55f70(0xb7c),_0x4b8dd1[_0xf55f70(0x1b3)]=_0xf55f70(0x166);if(_0xb2f11e)_0xb2f11e[_0xf55f70(0x538)]=!![];if(_0x497e2b)_0x497e2b['contentEditable']=!![];if(_0x12a0c0){const _0x2c559a=_0x12a0c0['querySelector'](_0xf55f70(0xa30));if(_0x2c559a){const _0xe6b353=_0x2c559a[_0xf55f70(0x3e0)]('text');_0xe6b353[_0xf55f70(0x1f5)]((_0x818109,_0x560369)=>{const _0x3061f8=_0xf55f70,_0x46b33e=_0x3061f8(0x22b)+_0x290c6a+'-'+_0x560369;_0x818109['id']=_0x46b33e,_0x818109[_0x3061f8(0x4c1)][_0x3061f8(0x350)](_0x3061f8(0x866)),_0x818109[_0x3061f8(0x89b)][_0x3061f8(0x318)]=_0x3061f8(0x8fe);const _0x1c816e=document[_0x3061f8(0x40a)]('http://www.w3.org/2000/svg',_0x3061f8(0xbce)),_0x426107=_0x818109['getBBox']();_0x1c816e[_0x3061f8(0xbd5)]('cx',String(_0x426107['x']+_0x426107[_0x3061f8(0x438)]+0x5)),_0x1c816e[_0x3061f8(0xbd5)]('cy',String(_0x426107['y']+_0x426107[_0x3061f8(0x220)]/0x2-0x5)),_0x1c816e[_0x3061f8(0xbd5)]('r','5'),_0x1c816e[_0x3061f8(0xbd5)](_0x3061f8(0x80d),_0x3061f8(0xcc5)),_0x1c816e['setAttribute'](_0x3061f8(0x73b),'delete-svg-btn'),_0x1c816e[_0x3061f8(0x79d)][_0x3061f8(0x20b)]=_0x46b33e,_0x818109[_0x3061f8(0x823)](_0x1c816e);}),_0x2c559a[_0xf55f70(0x224)](_0xf55f70(0x859),startDrag),_0x2c559a[_0xf55f70(0x224)]('mousemove',drag),_0x2c559a['addEventListener'](_0xf55f70(0xa3d),endDrag),_0x2c559a[_0xf55f70(0x224)](_0xf55f70(0x35e),endDrag),_0x2c559a[_0xf55f70(0x224)]('touchstart',startDrag,{'passive':![]}),_0x2c559a[_0xf55f70(0x224)](_0xf55f70(0x55a),drag,{'passive':![]}),_0x2c559a['addEventListener']('touchend',endDrag),_0x2c559a['addEventListener']('touchcancel',endDrag),_0x2c559a[_0xf55f70(0x224)]('click',handleSvgEditClick);}}if(_0xb2f11e)_0xb2f11e[_0xf55f70(0x817)]();}else{_0x4b8dd1[_0xf55f70(0x377)]=_0xf55f70(0x690),_0x4b8dd1[_0xf55f70(0x1b3)]='แก้ไขข้อนี้';if(_0xb2f11e){_0xb2f11e[_0xf55f70(0x538)]=![];const _0x23049b=_0x173240[_0xf55f70(0x5be)]||currentQuizData[_0xf55f70(0x8bd)];_0x23049b==='matching_item'?_0x173240['stem']=_0xb2f11e[_0xf55f70(0x7a4)][_0xf55f70(0x9ec)](_0xb2f11e[_0xf55f70(0x7a4)][_0xf55f70(0xa23)]('.')+0x2)[_0xf55f70(0x887)]():_0x173240[_0xf55f70(0x629)]=_0xb2f11e['innerText'][_0xf55f70(0x9ec)](_0xb2f11e[_0xf55f70(0x7a4)][_0xf55f70(0xa23)]('.')+0x2)['trim']();}_0x497e2b&&(_0x497e2b[_0xf55f70(0x538)]=![],_0x173240['explanation']=_0x497e2b[_0xf55f70(0x7a4)]);if(_0x12a0c0){const _0x40a355=_0x12a0c0[_0xf55f70(0x972)](_0xf55f70(0xa30));if(_0x40a355){const _0x4d6d38=_0x40a355[_0xf55f70(0x7a5)](!![]);_0x4d6d38['querySelectorAll']('.delete-svg-btn')[_0xf55f70(0x1f5)](_0x1614a6=>_0x1614a6[_0xf55f70(0xb01)]()),_0x4d6d38[_0xf55f70(0x3e0)](_0xf55f70(0x5c4))['forEach'](_0x249920=>{const _0x5681b2=_0xf55f70;_0x249920['classList']['remove'](_0x5681b2(0x866)),_0x249920[_0x5681b2(0x89b)][_0x5681b2(0x318)]=_0x5681b2(0xa90),_0x249920[_0x5681b2(0x1cc)]('id');}),_0x173240['imageCode']=_0x4d6d38[_0xf55f70(0x646)],_0x40a355['removeEventListener'](_0xf55f70(0x859),startDrag),_0x40a355[_0xf55f70(0xbaf)](_0xf55f70(0xc7a),drag),_0x40a355[_0xf55f70(0xbaf)]('mouseup',endDrag),_0x40a355['removeEventListener'](_0xf55f70(0x35e),endDrag),_0x40a355[_0xf55f70(0xbaf)](_0xf55f70(0x3f4),startDrag),_0x40a355[_0xf55f70(0xbaf)](_0xf55f70(0x55a),drag),_0x40a355[_0xf55f70(0xbaf)](_0xf55f70(0x4a9),endDrag),_0x40a355[_0xf55f70(0xbaf)](_0xf55f70(0xad1),endDrag),_0x40a355[_0xf55f70(0xbaf)]('click',handleSvgEditClick),_0x40a355[_0xf55f70(0x3e0)](_0xf55f70(0xb8f))[_0xf55f70(0x1f5)](_0x38f243=>_0x38f243[_0xf55f70(0xb01)]()),_0x40a355[_0xf55f70(0x3e0)](_0xf55f70(0x5c4))['forEach'](_0x4ac14b=>{const _0x3121ca=_0xf55f70;_0x4ac14b[_0x3121ca(0x4c1)]['remove'](_0x3121ca(0x866)),_0x4ac14b[_0x3121ca(0x89b)][_0x3121ca(0x318)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4fd4d7){const _0x2736d7=_0x3a383e,_0x1d5f17=document[_0x2736d7(0x552)](_0x2736d7(0x783)),_0x5de7b9=document['getElementById'](_0x2736d7(0x693));_0x5de7b9[_0x2736d7(0x377)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x1d5f17[_0x2736d7(0x4c1)][_0x2736d7(0xb01)](_0x2736d7(0x9d2));try{const _0x4cb728=doc(db,_0x2736d7(0xc93)+appId+'/public/data/quizzes',_0x4fd4d7),_0x3a0b62=await getDoc(_0x4cb728);if(!_0x3a0b62['exists']())throw new Error(_0x2736d7(0x8e7));currentEditingQuizData={'id':_0x4fd4d7,..._0x3a0b62['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x336f56){console[_0x2736d7(0x2e9)](_0x2736d7(0x361),_0x336f56),showMessage(_0x2736d7(0x322)),_0x1d5f17[_0x2736d7(0x4c1)]['add']('hidden');}}function renderQuizEditor(_0xfdb0d3){const _0x17edcf=_0x3a383e;document[_0x17edcf(0x552)](_0x17edcf(0x1a7))['value']=_0xfdb0d3[_0x17edcf(0x65f)];const _0x3b9433=document[_0x17edcf(0x552)](_0x17edcf(0x693));let _0x2330dc=_0xfdb0d3[_0x17edcf(0x5cd)][_0x17edcf(0x75d)]((_0x2b6fb2,_0x3a9fec)=>{const _0x2f4f01=_0x17edcf;let _0x70c80f='';const _0xa4f94d=_0x2b6fb2['questionType']||_0xfdb0d3[_0x2f4f01(0x8bd)];switch(_0xa4f94d){case _0x2f4f01(0x2df):const _0x5dcc6c=(_0x2b6fb2['options']||[])['map']((_0x532d7a,_0x498d2e)=>_0x2f4f01(0x3c1)+_0x3a9fec+_0x2f4f01(0x8d2)+_0x498d2e+'\x22\x20'+(_0x498d2e===_0x2b6fb2[_0x2f4f01(0xb21)]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x532d7a+_0x2f4f01(0x8f8))[_0x2f4f01(0xa89)]('');_0x70c80f=_0x2f4f01(0x6b4)+_0x5dcc6c+_0x2f4f01(0x9d6);break;case _0x2f4f01(0x952):_0x70c80f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2b6fb2[_0x2f4f01(0x572)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2f4f01(0x631):_0x70c80f=_0x2f4f01(0xc19)+_0x3a9fec+_0x2f4f01(0xa5e)+(_0x2b6fb2[_0x2f4f01(0x207)]===!![]?_0x2f4f01(0xd08):'')+_0x2f4f01(0x790)+_0x3a9fec+_0x2f4f01(0x996)+(_0x2b6fb2[_0x2f4f01(0x207)]===![]?_0x2f4f01(0xd08):'')+_0x2f4f01(0x35a);break;case'matching_item':_0x70c80f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2b6fb2[_0x2f4f01(0x8b9)]||'')+_0x2f4f01(0x284);break;}let _0x2b0baf=_0x2b6fb2['questionText']||_0x2b6fb2[_0x2f4f01(0x2a5)]||'';return _0x2b0baf=_0x2b0baf['replace'](/<br\s*\/?>/gi,'\x0a'),_0x2f4f01(0x798)+_0x3a9fec+_0x2f4f01(0x796)+_0xa4f94d+_0x2f4f01(0xb39)+(_0x3a9fec+0x1)+'\x20('+_0xa4f94d+_0x2f4f01(0x562)+_0x2b0baf+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x70c80f+'</div>\x0a</div>\x0a';})[_0x17edcf(0xa89)]('');_0x3b9433[_0x17edcf(0x377)]=_0x2330dc,_0x3b9433['querySelectorAll'](_0x17edcf(0x67d))[_0x17edcf(0x1f5)](_0x44720d=>{const _0x195c02=_0x17edcf;_0x44720d[_0x195c02(0x89b)]['overflowY']='hidden',_0x44720d[_0x195c02(0x89b)][_0x195c02(0x3ee)]='100px',_0x44720d['rows']=0x4;const _0x4979e0=()=>{const _0x115670=_0x195c02;_0x44720d[_0x115670(0x89b)][_0x115670(0x220)]=_0x115670(0x7f0),_0x44720d[_0x115670(0x89b)]['height']=_0x44720d[_0x115670(0x791)]+'px';};_0x44720d['addEventListener'](_0x195c02(0x9c2),_0x4979e0),_0x4979e0();}),_0x3b9433[_0x17edcf(0x3e0)](_0x17edcf(0x6b2))['forEach'](_0x1f6fe8=>{const _0x558bf9=_0x17edcf;_0x1f6fe8['addEventListener'](_0x558bf9(0x43a),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x1e98d9){const _0x2221d0=_0x3a383e,_0x302ea1=_0x1e98d9[_0x2221d0(0x372)],_0x279e34=_0x302ea1['closest'](_0x2221d0(0xb66));if(!_0x279e34)return;const _0xbf76a7=parseInt(_0x279e34[_0x2221d0(0x79d)]['qIndex'],0xa);if(isNaN(_0xbf76a7)||!currentEditingQuizData[_0x2221d0(0x5cd)][_0xbf76a7]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x67a015=currentEditingQuizData[_0x2221d0(0x5cd)][_0xbf76a7];_0x302ea1[_0x2221d0(0x377)]=_0x2221d0(0xca0),_0x302ea1[_0x2221d0(0x7ce)]=!![];const _0x2be309='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x2221d0(0x7ae)](_0x67a015)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x411ddb;const _0x558f6b=_0x67a015[_0x2221d0(0x5be)]||currentEditingQuizData['quizType'];switch(_0x558f6b){case _0x2221d0(0x952):_0x411ddb={'type':_0x2221d0(0x695),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2221d0(0x6d8)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2221d0(0x572),_0x2221d0(0xb1d)]};break;case _0x2221d0(0x2df):default:_0x411ddb={'type':_0x2221d0(0x695),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2221d0(0x159),'items':{'type':_0x2221d0(0x6d8)}},'correctAnswerIndex':{'type':_0x2221d0(0xbe0)},'explanation':{'type':_0x2221d0(0x6d8)},'imageCode':{'type':_0x2221d0(0x6d8)}},'required':[_0x2221d0(0x629),_0x2221d0(0xb70),_0x2221d0(0xb21),'explanation']};break;}try{let _0xd38530=await callAnalysisApi(_0x2be309,_0x411ddb);_0xd38530[_0x2221d0(0xb70)]&&Array['isArray'](_0xd38530['options'])&&(_0xd38530[_0x2221d0(0xb70)]=_0xd38530[_0x2221d0(0xb70)][_0x2221d0(0x75d)](_0x3ecda2=>typeof _0x3ecda2==='string'?_0x3ecda2[_0x2221d0(0xbc5)](/S(\s*[\d_]+?\s*)S/g,_0x2221d0(0x710)):_0x3ecda2)),_0x67a015['imageCode']&&_0x67a015['imageCode'][_0x2221d0(0x27b)](_0x2221d0(0x51e))&&(_0xd38530[_0x2221d0(0x9e7)]=''),currentEditingQuizData[_0x2221d0(0x5cd)][_0xbf76a7]={..._0x67a015,..._0xd38530},renderQuizEditor(currentEditingQuizData),showMessage(_0x2221d0(0x640));}catch(_0x5ae4f1){console['error'](_0x2221d0(0x42d),_0x5ae4f1),showMessage(_0x2221d0(0xc5b)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x24c0c7=_0x3a383e,_0x35b80a=document[_0x24c0c7(0x552)]('save-quiz-edits-btn');_0x35b80a[_0x24c0c7(0x7ce)]=!![],_0x35b80a[_0x24c0c7(0x377)]=_0x24c0c7(0x29f);try{const _0x575a8c=document[_0x24c0c7(0x552)](_0x24c0c7(0x1a7))[_0x24c0c7(0x203)],_0x46fb50=document[_0x24c0c7(0x3e0)](_0x24c0c7(0xb66));let _0x3fc0f6=[];const _0x45f9a7=Array[_0x24c0c7(0x659)](_0x46fb50)[_0x24c0c7(0x75d)]((_0x1bb8d1,_0x15255f)=>{const _0x4fa519=_0x24c0c7,_0x37bc2d=_0x1bb8d1[_0x4fa519(0x79d)][_0x4fa519(0x9df)],_0x194696=_0x1bb8d1[_0x4fa519(0x972)](_0x4fa519(0xca7))[_0x4fa519(0x203)]['replace'](/\n/g,'<br>');let _0x569ef4={'questionType':_0x37bc2d};const _0x378fff=currentEditingQuizData['questions'][_0x15255f];switch(_0x37bc2d){case _0x4fa519(0x2df):_0x569ef4['questionText']=_0x194696;const _0x44faf1=_0x1bb8d1[_0x4fa519(0x3e0)]('input[type=\x22text\x22]');_0x569ef4['options']=Array[_0x4fa519(0x659)](_0x44faf1)['map'](_0xa99586=>_0xa99586[_0x4fa519(0x203)]);const _0x118dce=_0x1bb8d1[_0x4fa519(0x972)](_0x4fa519(0x304));_0x569ef4[_0x4fa519(0xb21)]=_0x118dce?parseInt(_0x118dce[_0x4fa519(0x203)]):0x0;break;case'short_answer':_0x569ef4[_0x4fa519(0x629)]=_0x194696,_0x569ef4['idealAnswer']=_0x1bb8d1['querySelector'](_0x4fa519(0x6b7))[_0x4fa519(0x203)];break;case'true_false':_0x569ef4[_0x4fa519(0x629)]=_0x194696;const _0x19bb4a=_0x1bb8d1['querySelector'](_0x4fa519(0x304));_0x569ef4[_0x4fa519(0x207)]=_0x19bb4a?_0x19bb4a[_0x4fa519(0x203)]===_0x4fa519(0xcb5):!![];break;case _0x4fa519(0x4b4):_0x569ef4['stem']=_0x194696;const _0xfcf5d9=_0x1bb8d1['querySelector']('.correct-response-input');_0x569ef4[_0x4fa519(0x8b9)]=_0xfcf5d9?_0xfcf5d9['value']:'',_0x3fc0f6[_0x4fa519(0x321)](_0x569ef4['correctResponse']);break;default:_0x569ef4[_0x4fa519(0x629)]=_0x194696;break;}return{..._0x378fff,..._0x569ef4};});_0x3fc0f6['length']>0x0&&_0x45f9a7[_0x24c0c7(0x1f5)](_0x373de5=>{const _0x42830f=_0x24c0c7;_0x373de5['questionType']==='matching_item'&&(_0x373de5[_0x42830f(0xaeb)]=_0x3fc0f6);});const _0x1c4f94=currentEditingQuizData['id'],_0x59d3ef=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1c4f94);await updateDoc(_0x59d3ef,{'topic':_0x575a8c,'questions':_0x45f9a7}),document[_0x24c0c7(0x552)](_0x24c0c7(0x783))[_0x24c0c7(0x4c1)][_0x24c0c7(0x350)](_0x24c0c7(0x9d2)),showMessage(_0x24c0c7(0x585),()=>initiateReGradeProcess(_0x1c4f94));}catch(_0x14c1e4){console[_0x24c0c7(0x2e9)](_0x24c0c7(0x7d9),_0x14c1e4),showMessage(_0x24c0c7(0x492));}finally{_0x35b80a[_0x24c0c7(0x7ce)]=![],_0x35b80a['innerHTML']=_0x24c0c7(0x7d6);}}async function initiateReGradeProcess(_0x321b09){const _0x28a3f3=_0x3a383e;showMessage(_0x28a3f3(0x347));try{const _0x55082d=doc(db,_0x28a3f3(0xc93)+appId+_0x28a3f3(0x766),_0x321b09),_0x3febf3=await getDoc(_0x55082d);if(!_0x3febf3['exists']())throw new Error(_0x28a3f3(0x8a4));const _0x4ca7fc={'id':_0x321b09,..._0x3febf3[_0x28a3f3(0x183)]()},_0x5b02ea=collection(db,_0x28a3f3(0xc93)+appId+_0x28a3f3(0x766),_0x321b09,_0x28a3f3(0xbed)),_0xd3d660=await getDocs(_0x5b02ea);if(_0xd3d660['empty']){showMessage(_0x28a3f3(0x3a8));return;}const _0x5618f4=_0xd3d660['docs'][_0x28a3f3(0x75d)](_0x50302d=>reGradeSingleSubmission(_0x50302d,_0x4ca7fc));await Promise['all'](_0x5618f4);if(_0x4ca7fc[_0x28a3f3(0x88a)]){const _0x415d4b=doc(db,'artifacts/'+appId+_0x28a3f3(0x5c5),_0x4ca7fc[_0x28a3f3(0x88a)]),_0x2cfefd=await getDoc(_0x415d4b);if(_0x2cfefd[_0x28a3f3(0x837)]()&&_0x2cfefd[_0x28a3f3(0x183)]()[_0x28a3f3(0x748)]){const _0x106d34=_0x2cfefd['data']()[_0x28a3f3(0x748)][_0x28a3f3(0x75d)](_0x52e9f2=>updateStudentProfile(_0x4ca7fc[_0x28a3f3(0x88a)],_0x52e9f2));await Promise[_0x28a3f3(0x258)](_0x106d34);}}showMessage(_0x28a3f3(0x58c)+_0xd3d660[_0x28a3f3(0x836)]+_0x28a3f3(0x7ef));}catch(_0x54814b){console['error'](_0x28a3f3(0x534),_0x54814b),showMessage(_0x28a3f3(0xd00)+_0x54814b[_0x28a3f3(0x2db)]);}}async function reGradeSingleSubmission(_0x496f8d,_0xb40fcd){const _0x47d3d8=_0x3a383e,_0x4c9163=_0x496f8d[_0x47d3d8(0x183)](),_0x15121e=_0x4c9163[_0x47d3d8(0x247)],_0x1d1efa=_0x4c9163[_0x47d3d8(0x61f)]||[],_0x1b4e7e=[];for(const _0x409222 of _0x1d1efa){let _0x45aa8f=0x0,_0x2a13ce=[],_0x270d1a=0x0;const _0x5d3656=[];for(const _0x49723a of _0x409222[_0x47d3d8(0x7b5)]){let _0x2b6007;_0x49723a[_0x47d3d8(0xba1)]&&(_0x2b6007=_0xb40fcd[_0x47d3d8(0x5cd)][_0x47d3d8(0x51d)](_0x1a6035=>_0x1a6035['id']===_0x49723a[_0x47d3d8(0xba1)]));!_0x2b6007&&_0x49723a['originalQuestionText']&&(_0x2b6007=_0xb40fcd[_0x47d3d8(0x5cd)][_0x47d3d8(0x51d)](_0x172ccf=>(_0x172ccf['stem']||_0x172ccf[_0x47d3d8(0x629)])===_0x49723a['originalQuestionText']));let _0xca3e1d=![];if(_0x2b6007){const _0x171ba1=_0x2b6007[_0x47d3d8(0x5be)]||_0xb40fcd[_0x47d3d8(0x8bd)];switch(_0x171ba1){case _0x47d3d8(0x2df):if(_0x2b6007[_0x47d3d8(0xb70)]&&_0x2b6007[_0x47d3d8(0xb21)]<_0x2b6007[_0x47d3d8(0xb70)][_0x47d3d8(0x636)]){const _0x62ce40=_0x2b6007[_0x47d3d8(0xb70)][_0x2b6007[_0x47d3d8(0xb21)]];_0xca3e1d=_0x49723a[_0x47d3d8(0x43f)]===_0x62ce40;}break;case _0x47d3d8(0x631):const _0xbed13f=_0x49723a[_0x47d3d8(0xa51)]===!![]||_0x49723a[_0x47d3d8(0xa51)]===_0x47d3d8(0xcb5);_0xca3e1d=_0xbed13f===_0x2b6007[_0x47d3d8(0x207)];break;case'matching_item':_0xca3e1d=_0x49723a[_0x47d3d8(0xa51)]===_0x2b6007[_0x47d3d8(0x8b9)];break;case'short_answer':_0xca3e1d=await gradeShortAnswer(_0x49723a['answer'],_0x2b6007);break;default:_0xca3e1d=_0x49723a[_0x47d3d8(0x1c8)];break;}}if(_0xca3e1d){_0x45aa8f++,_0x270d1a++;if(_0x270d1a===0x3)_0x2a13ce[_0x47d3d8(0x321)](BADGES['ON_FIRE']['id']);}else _0x270d1a=0x0;_0x5d3656[_0x47d3d8(0x321)]({..._0x49723a,'isCorrect':_0xca3e1d});}let _0x345568=_0x45aa8f*0xa;_0x45aa8f===_0xb40fcd[_0x47d3d8(0x5cd)][_0x47d3d8(0x636)]&&(_0x345568+=0x32,_0x2a13ce['push'](BADGES[_0x47d3d8(0x17b)]['id'])),_0x1b4e7e[_0x47d3d8(0x321)]({..._0x409222,'score':_0x45aa8f,'points':_0x345568,'badges':Array[_0x47d3d8(0x659)](new Set(_0x2a13ce)),'answers':_0x5d3656});}const _0x3168bd=_0x1b4e7e[_0x47d3d8(0x636)]>0x0?_0x1b4e7e[0x0]['score']:0x0,_0x349ed3=Math[_0x47d3d8(0x38c)](..._0x1b4e7e[_0x47d3d8(0x75d)](_0x5c0cdd=>_0x5c0cdd[_0x47d3d8(0xbd7)])),_0x6909c8=_0x1b4e7e[_0x47d3d8(0x636)]>0x0?_0x1b4e7e[_0x1b4e7e['length']-0x1]['score']:0x0,_0x1cf990=_0x1b4e7e['length']>0x0?_0x1b4e7e[_0x1b4e7e[_0x47d3d8(0x636)]-0x1][_0x47d3d8(0xbf6)]:0x0,_0x2869ef=doc(db,_0x47d3d8(0xc93)+appId+_0x47d3d8(0x847)+_0xb40fcd['id']+_0x47d3d8(0x32e),_0x15121e);await updateDoc(_0x2869ef,{'attempts':_0x1b4e7e,'firstScore':_0x3168bd,'bestScore':_0x349ed3,'latestScore':_0x6909c8,'points':_0x1cf990});}function cleanupQuizOptions(_0x52f97c){const _0x4b0837=_0x3a383e,_0x35be74=(_0x310c7c,_0x1af012)=>_0x1af012===0x0?_0x310c7c:_0x35be74(_0x1af012,_0x310c7c%_0x1af012),_0x533690=_0x3f5dde=>{const _0x2ad679=_0x35c4;if(typeof _0x3f5dde!=='string')return null;_0x3f5dde=_0x3f5dde['trim']();const _0x5e59d3=_0x3f5dde[_0x2ad679(0xc3d)](/[ /]/)['filter'](_0xbdffdf=>_0xbdffdf!=='');if(_0x5e59d3['length']===0x3)return parseInt(_0x5e59d3[0x0])+parseInt(_0x5e59d3[0x1])/parseInt(_0x5e59d3[0x2]);else{if(_0x5e59d3[_0x2ad679(0x636)]===0x2)return parseInt(_0x5e59d3[0x0])/parseInt(_0x5e59d3[0x1]);else{if(_0x5e59d3['length']===0x1&&!isNaN(_0x5e59d3[0x0]))return parseFloat(_0x5e59d3[0x0]);}}return null;},_0x18ebf=_0x1cdd05=>{const _0x4d67d5=_0x35c4;if(typeof _0x1cdd05!==_0x4d67d5(0x3ce))return _0x1cdd05;const _0x293af7=_0x1cdd05['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x293af7){const _0x23666c=parseInt(_0x293af7[0x1]);let _0x2e00f8=parseInt(_0x293af7[0x2]),_0xba6172=parseInt(_0x293af7[0x3]);const _0xe63f94=_0x35be74(_0x2e00f8,_0xba6172);_0x2e00f8/=_0xe63f94,_0xba6172/=_0xe63f94;if(_0xba6172===0x1)return(_0x23666c+_0x2e00f8)['toString']();return _0x23666c+'\x20'+_0x2e00f8+'/'+_0xba6172;}return _0x1cdd05;};return _0x52f97c&&_0x52f97c[_0x4b0837(0x5cd)]&&_0x52f97c[_0x4b0837(0x5cd)][_0x4b0837(0x1f5)](_0xb05933=>{const _0x1c8c16=_0x4b0837;if(_0xb05933['questionType']===_0x1c8c16(0x2df)&&_0xb05933[_0x1c8c16(0xb70)]){const _0x129d5b=new Map(),_0xe70c22=_0xb05933['options'][_0xb05933[_0x1c8c16(0xb21)]];_0xb05933[_0x1c8c16(0xb70)][_0x1c8c16(0x1f5)](_0x8a998e=>{const _0xf0f920=_0x1c8c16,_0x2bc508=_0x18ebf(_0x8a998e),_0x1e34be=_0x533690(_0x2bc508);_0x1e34be!==null&&!_0x129d5b[_0xf0f920(0x329)](_0x1e34be)&&_0x129d5b['set'](_0x1e34be,_0x2bc508);}),_0xb05933['options']=Array[_0x1c8c16(0x659)](_0x129d5b[_0x1c8c16(0x8b4)]());const _0x1c00da=_0xb05933['options'][_0x1c8c16(0xa85)](_0x3d4cf2=>_0x3d4cf2===_0x18ebf(_0xe70c22));_0xb05933[_0x1c8c16(0xb21)]=_0x1c00da!==-0x1?_0x1c00da:0x0;}}),_0x52f97c;}function showGameStartConfirmationModal(_0x507631,_0x22db39,_0x58c43d){const _0x281649=_0x3a383e,_0x15d56d=document[_0x281649(0x552)](_0x281649(0xcb6));document[_0x281649(0x552)](_0x281649(0x446))[_0x281649(0x37a)]=_0x281649(0x7a2)+_0x58c43d,document[_0x281649(0x552)](_0x281649(0xb5b))[_0x281649(0x203)]=_0x507631,document[_0x281649(0x552)]('game-start-mode')[_0x281649(0x203)]=_0x22db39,document[_0x281649(0x552)](_0x281649(0x210))['checked']=!![],_0x15d56d[_0x281649(0x4c1)]['remove'](_0x281649(0x9d2));}function _0x17b2(){const _0x55da13=['<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','getDocument','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','split','หัวข้อหลักใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','\x20ข้อ...','student-progress','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','bulk-results-display-select','Error\x20resetting\x20project\x20order:','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verify-answers-btn','include-images-checkbox','eraser-tool-btn','round','interesting-stats-wrapper','ไม่สามารถโหลดรายการโปรเจคได้','bank-input-area','แบบเติมคำตอบ','content','lastIndexOf','manage','memory','\x20คะแนน</span></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result','confirm-passcode-btn','FileReader\x20error:','PERSEVERANCE','ไม่พบเอกสารการส่งงานของ\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x20mb-2\x22>','podium','รหัสไม่ถูกต้อง','blueprint-shortcut-container','student-initial-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','เกิดข้อผิดพลาดในการลบแบบทดสอบ','.parallel-shortcut-tab-btn','date_desc','latestSubmittedAt','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','bank-quiz-list','cancel-quiz-status-btn','blueprint-topics-list','parallel-shortcut-tabs-nav','save-parallel-shortcut-btn','flex\x20flex-col\x20gap-2','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','perseverance','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','ไฟล์ลัด\x201','ไม่พบข้อมูลโปรเจค','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','ตรวจทานเฉลยเสร็จสิ้น!','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','bg-emerald-100','mousemove','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','editable-quiz-topic','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','mandatory','touch','เกิดข้อผิดพลาดในการสร้างห้องเกม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','suggestedAnswer','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','มัธยฐาน','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div>','ฟังก์ชันเชิงเส้นและกราฟ','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','MathJax','กำลังจับคู่...','confirm-quiz-status-btn','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','blur','fas\x20fa-bookmark','bg-red-100\x20text-red-800','generate-from-parallel-test-btn','artifacts/','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-file-shortcut-tab-btn','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','สอบซ่อม','จัดการ','student-team-join','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','modal-timer-mode-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.tab-name-display','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x20(ID:\x20','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','cancel-game-start-btn','textarea','confidence-modal','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','display','passcode-input-container','pointercancel','results-table','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ไม่ระบุ','clientY','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','true','confirm-game-start-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20post-test:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','authed_project_','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','abs','lobby','.group\x5c/dropdown-parallel','รูปสี่เหลี่ยมและสมบัติ','file-shortcut_','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','.edit-quiz-btn','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','red','answerValue','ไม่พบข้อมูลข้อสอบหลังเรียน','score-distribution-chart','</td>','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','bg-green-200\x20text-green-900','confidenceMode','การบวกเศษส่วน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','blueprint-settings-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ยังไม่ส่ง','shortcut-id-input','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','.bp-open-topic-bank-btn','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','comparison-modal','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcutIds','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','upper_group_count','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','join-group-activity-btn','sync-player-list','name','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','linkedQuizIds','.quiz-bank-try-btn','<div\x20class=\x22answer-space\x22></div>','\x20in\x20all\x20blueprint\x20projects.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','generate-from-link-btn','.delete-parallel-shortcut-tab-btn','ownerSVGElement','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','Enter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','live-player-management','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','กรุณาเลือกคำตอบก่อนครับ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','แบบทดสอบนี้หมดเวลาแล้ว','ค่าเสื่อมราคา','pointerup','toLocaleDateString','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','clear-all-links-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','disabled\x20bg-gray-400\x20cursor-not-allowed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dfrac','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','link-topic-input','get','2457Wvyzwp','student-quiz-leaderboard-table-body','\x22\x20name=\x22confidence','px)\x20scale(','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','parallel-shortcut-id-input','getItem','Error\x20deleting\x20custom\x20topic:','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','release','export-pdf-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','entries','bg-green-200','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','both','practice-topic-btn','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','shortcut-name-input','Unexpected\x20API\x20response\x20structure:','export-image-btn','confidence-scoring-checkbox','text-white','ARRAY','now',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','presentation-slide-container','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','link-input-area','isScored','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','open-sync-scratchpad-btn','Error\x20saving\x20lesson\x20to\x20project:','toFixed','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','results-tab','บันทึกการแก้ไข','default-','<p\x20class=\x22text-xl\x22>','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','print','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','fa-dumbbell\x20text-gray-700','passcode-prompt-message','แก้ไขชื่อหัวข้อย่อย:','/studentProfiles','typesetPromise','sync-player-management','ลิมิต','live-options-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','underline','readAsDataURL','q-explanation-','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','<option\x20value=\x22\x22>กำลังโหลด...</option>','PERFECT_SCORE','Error\x20saving\x20file\x20shortcut\x20config:','timer-duration-input','Error\x20saving\x20manual\x20blueprint\x20project:','password-error-msg','scrollIntoView','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','globalSettings','data','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','11178PqWvBP','shortcut-blueprint-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่งคำตอบ','#FCE7F3','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','พิมพ์ตอบ','#10B981','bg-blue-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reset-project-order-btn','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','.linkedQuizIds','classStrengths','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','confirm-manual-bp-btn','ref','เกิดข้อผิดพลาดในการลบนักเรียน','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','ผลรวมอนุกรม\x20(Σ)','document','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','Error\x20saving\x20game\x20results:','live-submit-short-answer-btn','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','editor-quiz-topic','fullscreenElement','cancel-admin-login-btn','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','เกิดข้อผิดพลาดในการอัปเดต:\x20','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','quiz-leaderboard-table-container','\x22\x20data-quiz-id=\x22','ไม่ได้ตอบ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','fas\x20fa-user-edit','title','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','Error\x20creating\x20project:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','additional-file-shortcuts-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','Failed\x20to\x20resume\x20game\x20session:','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','save-bp-reference-btn','ปริมาตรรูปทรงสามมิติ','.game-start-btn','pre-test','stdDev','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','leaderboard-quiz','close-additional-shortcuts-btn','แผนภาพกล่อง\x20(box\x20plot)','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','isCorrect','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','order','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','removeAttribute','\x20รายการ\x20สำเร็จ!','ต้นฉบับ\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','rgba(59,\x20130,\x20246,\x200.7)','Error\x20updating\x20project\x20name:','Error\x20processing\x20file\x20for\x20AI:','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','topic_','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','add-file-shortcut-btn','พื้นที่วงกลม/ส่วนของวงกลม',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','```json','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ฮิสโตแกรม','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x5cdiv','เนื้อหาสำหรับสอน:\x20','quizId','กำลังอ่านไฟล์อ้างอิง...','</span>','lastAnswerCorrect','admin-dashboard','#F59E0B','normal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','หน่วยเวลาและการคำนวณเวลา','FIRST_TRY_ACE','dashboardConfig','rows','bg-red-500','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topics-checkbox-container','#open-additional-parallel-shortcuts-btn','เรขาคณิต','กรุณาใส่ชื่อใหม่','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','removeChild','.move-parallel-shortcut-dropdown','วงกลม:\x20คอร์ดและเส้นสัมผัส','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','ระยะเวลา\x20(นาที):','add-parallel-shortcut-tab-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','value','<p>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20updating\x20custom\x20topic:','correctAnswer','.submittedAt','analytics-tab-content','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','targetId','.delete-bp-project-btn','behavior-log-tab-content','additional-shortcuts-list','div[data-question-index=\x22','save-game-results-checkbox','offset','.use-hidden-shortcut-btn','passcode-error-msg','player-count','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','projectName','standard','Successfully\x20removed\x20','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','.file-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','height','จำนวนคละ','</select>','modal-confidence-mode-container','addEventListener','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','กำลังอ่านและเตรียมไฟล์...','เงินงวด\x20(อนุกรมเงินงวด)','.delete-shortcut-btn','file-topics-list','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','editable-text-','timerDuration','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','.flex.justify-between.items-center','Error\x20generating\x20worksheet:','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','Error\x20listening\x20for\x20projects:','Error\x20confirming\x20players:','requestFullscreen','</p><div>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','num-choices-container','topic-input','#student-quiz-leaderboard-content\x20thead','สลับไปโหมดผู้ควบคุม','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','analytics-summary-cards','แผนภาพเวนน์','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','ชนิดของข้อมูลและการเก็บข้อมูล','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage-tab','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','Error\x20joining\x20live\x20game:','quiz-bank-count','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','confidence-input-','studentName','jspdf','show-in-student-dashboard-checkbox','previousElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','พื้นที่ผิวรูปทรงสามมิติ','<p><strong>คำตอบที่แนะนำ:</strong>\x20','คณิตการเงิน/บูรณาการ','scratchpad-controls','shortcut-tabs-nav','จำนวนเชิงซ้อน\x20(เสริม)','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-shortcut-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','all','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รากที่สองและที่สาม','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','ย้าย','additional-shortcuts-modal','teachingContent','answered','href','project-sort-select','right','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','progress-project-select','helvetica','not-found','ไม่พบโปรเจคที่ต้องการลบ','.file-shortcut-tab-btn','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','autoTable','.doc','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','No\x20player\x20data\x20to\x20save.','ระยะเวลา\x20(วินาที):','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','incorrect','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','transformOrigin','includes','parallelShortcutTabs','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','Error\x20analyzing\x20blueprint\x20topics:','เพิ่มหัวข้อ\x20\x22','text-red-800','\x22>ใช่</p>','Invalid\x20response\x20structure\x20from\x20AI.','ค.ร.น.\x20(LCM)','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-search-input','sync-manage-players-btn','\x20|\x20ID:\x20','earned-badges-container','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','fa-shield-alt\x20text-gray-600','modal-timer-duration-label','delete','endTime','</span></td>','-options\x22>','/public/data/liveGames','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','.bp-try-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','กำลังเตรียมไฟล์...','บันทึกโปรเจค\x20\x22',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','summaryContent','Error\x20processing\x20file\x20shortcut\x20click:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','block','interesting-stats-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','cancel-parallel-shortcut-edit-btn','isAdaptive','file-tab','ร้อยละพื้นฐาน','#ffffff','stem','_opt','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','closePath','behavior-log-container','file-default-1','result','อัปเดตพฤติกรรมสำหรับ\x20','tabId','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','คัดลอกไม่สำเร็จ','.ai-content\x20li','text-blue-700\x20bg-blue-100','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','save-shortcut-btn','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','/preferences/main','<div\x20class=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','gain','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','global-quiz-search-input','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','Error\x20generating\x20lesson\x20plan:','removeItem','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list-container','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','blob','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','confirm-join-game-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','บันทึกการตั้งค่าแล้ว','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','stepByStepExamples','bulk-confidence-mode-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','loader-text','</p><p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</span><span\x20class=\x22font-bold\x22>','next-question-btn','message','comeback_king','topic-input-area','toString','multiple_choice','.bp-game-btn','live-game-view','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','12331880luENbN','results_','file-shortcut-tabs-nav','Failed\x20to\x20generate\x20practice\x20test:','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','badgesCount','error','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','bg-gray-50','fix-lesson-latex-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','student-quiz-topic','.sortable-header','-\x20ข้อ\x20','Error\x20unlinking\x20quiz:','tan','Error\x20saving\x20submission:','hover:bg-indigo-100','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x22\x20name=\x22question_single\x22\x20value=\x22','bulk-quiz-settings-btn','ไม่ใช่\x20/\x20ผิด','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','difficultyValue','การวัด','Error\x20in\x20generating\x20from\x20files:','tooltipTarget','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','input[type=\x22radio\x22]:checked','showRankings','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','0\x200','.live-summary-tooltip.visible','ความแปรปรวน','globalCompositeOperation','API\x20Error\x20Body:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','ตรีโกณมิติ','pairedQuizId','ความคล้ายของรูป','file-shortcuts-loading-msg','visible','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','bestScore','จำนวนและการดำเนินการ','rgba(255,\x20255,\x200,\x200.5)','backgroundColor','เกิดข้อผิดพลาดในการแก้ไข','cursor','บันทึกคำถามใหม่\x20','\x22\x20ออกจากคลังนี้?','beforeend','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','ยกเลิกการเชื่อมโยงสำเร็จ','file.txt','push','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ข้อต่อไป','catch','input[type=\x22checkbox\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','student-quiz-area','pointerType','has','upperGroupNames','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','raw','bg-red-500\x20text-white\x20font-bold','/submissions','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','post-test','Error\x20saving\x20visibility\x20settings:','sin','text-red-900','ลบโปรเจค\x20\x22','<div\x20class=\x22space-y-4\x22>','คะแนนยังไม่ถึงครึ่ง','close','อัตราและอัตราหน่วย','temp-loader-text-results','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ลบแบบทดสอบสำเร็จแล้ว','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','pointermove','px,\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','ความเป็นอิสระของเหตุการณ์','fill_in_no_choices','blueprintUrl','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','.lastAnswerValue','เกิดข้อผิดพลาดในการลบผลสอบ','confident','add','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','main-correct-answer-display','จากเนื้อหาต่อไปนี้:\x20\x22','doughnut','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','mouseleave','text/plain','choices_only','Error\x20opening\x20quiz\x20editor:','rename-quiz-input','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','.lastAnswerIndex','shortcuts','/lessons','appendChild','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ส่งแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','wasConfident','\x20quizzes\x20into\x20global\x20cache.','.bp-generate-lesson-btn',')\x22>','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','(หลังเรียน)\x20','currentTarget','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20',';\x22\x20data-id=\x22','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','innerHTML','\x20(p=','\x20ครั้ง)</span></td>','textContent','(คัดลอก)\x20','.quiz-bank-parallel-btn','confidence-mode-container','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','สร้างแบบทดสอบ','<button\x20data-id=\x22','API\x20call\x20failed\x20with\x20status:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Team\x20Quiz!','presentation-short-answer-input','.delete-file-shortcut-btn','1:274192258111:web:4120c9118229b5644dd48a','ยังไม่เต็มนะ','visibilitychange','text-gray-200','max','lesson-sections-container','ยังไม่มีนักเรียนส่งงาน','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','lesson-loader','candidates','url','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','การแปลงรูปอัตลักษณ์','เกิดข้อผิดพลาดในการนำผู้เล่นออก','กำลังสร้างแบบทดสอบจากหัวข้อ...','.edit-parallel-shortcut-btn','.delete-hidden-file-shortcut-btn','#student-project-leaderboard-content\x20thead','questionStatus','bulk-confidence-scoring-checkbox','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','loader','การนับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แคลคูลัสเบื้องต้น','จุด\x20เส้น\x20ระนาบ','scratchpad-header','scrollY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','.quiz-bank-checkbox:checked','แก้ไขหัวข้อสำเร็จ','log','onkeydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-2xl\x22>','\x22,\x20','</body></html>','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scale','not_confident','getTextContent','1322bmfJgE','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','per_question','Error\x20saving\x20parallel\x20shortcut:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ที่พิมพ์ได้\x20จำนวน\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','memoryContent','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22my-6\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การปัดเศษและประมาณค่า','cancel-create-project-btn','<div\x20id=\x22q-image-container-','scratchpad-options','การหารเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','string','reset-view-btn','bg-black/10','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','pointsLastQuestion','default-2','จำนวนนักเรียน','กรุณาเลือกไฟล์ก่อน','show-results-btn','items','load-quiz-btn','presentation-scratchpad-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','อสมการเชิงเส้น','</h3>','check-answer-btn','สมการตรีโกณมิติ','querySelectorAll','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','-options','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','close-additional-file-shortcuts-btn','บันทึกการตั้งค่าการแสดงผลสำเร็จ','list','BOOLEAN','จับคู่แบบทดสอบสำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Error\x20generating\x20hybrid\x20quiz:','close-additional-parallel-shortcuts-btn','minHeight','live-player-list','modal-results-display-select','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','game-pin-input','input[type=\x22text\x22]','touchstart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','text-red-600','div','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','font-bold\x20text-green-700','ลบหัวข้อสำเร็จ','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','.ai-content\x20blockquote','currentQuestionIndex','หมดเวลาสำหรับข้อนี้!','/users/','กำลังดึงข้อมูลจากลิงก์...','</th>','shuffledQuiz','undo-btn','mode-switcher-btn','thead','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','ระบบเลขและค่าประจำหลัก','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','createElementNS','<option>กำลังโหลดโปรเจค...</option>','input[name=\x22team_player\x22]:checked','ร้อยละประยุกต์','\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','bp-modal-num-choices','การบวก','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','เกิดข้อผิดพลาด','quiz-search-input','confidence-scoring-description','highlighter-size-slider','(ฉบับง่าย)\x20','\x22\x20สำเร็จ','mean','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','Error\x20confirming\x20players\x20for\x20sync\x20game:','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cneq','dragend','first_try_ace','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','[*]','Error\x20during\x20deep\x20delete:','lesson-loader-text','floor','Error\x20duplicating\x20quiz:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','cancel-rename-quiz-btn','AI\x20Fix\x20Error:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การยืนยันตัวตนล้มเหลว','<br>','\x0a\x20\x20\x20\x20','contents','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','.quiz-status-btn','หัวข้อที่สร้างเอง','.move-file-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','goto-next-question-btn','click','blockReason','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','project-passcode-modal','shuffle-setting-select','answerText','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','คำเตือน\x20(','การสร้างรูปด้วยวงเวียน–สันตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','ต้นฉบับทั้งหมด','quiz-start-time','game-start-modal-title','cancel-export-pdf-btn','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','quiz-results-table-body','mainTopics','กรุณาใส่ชื่อโปรเจค','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผิด','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','color','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x22\x20data-name=\x22','originalQuestionText','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','lesson-plan-modal','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','.delete-project-btn','(คู่ขนาน)\x20','กำลังกลับเข้าสู่เกม\x20','question-complexity-select','point','เกิดข้อผิดพลาดในการลบโปรเจค','code','ไฟล์ทั้งหมด','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','numQuestions','ฟังก์ชันลอการิทึม','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','G-V90KRM0L63','border-green-300\x20bg-green-50','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-table-body','translate','Error\x20pairing\x20quizzes:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transition-all','ลบโปรเจคสำเร็จแล้ว','add-from-global-bank-btn','parallel-default-2','modal-adaptive-quiz-checkbox','bg-green-100\x20font-bold','\x22.\x20','applicationHTML','student-rankings-modal','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x5cfrac{$1}{$2}','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','fa-fire\x20text-orange-500','\x22\x20class=\x22pin-project-btn\x20','thead\x20.sortable-header','N/A','ยืนยันการจับคู่','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','fill_in_the_blank','perQuestionStats','\x20คู่\x20','text-input-area','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','เส้นรอบรูป','ระบบสมการเชิงเส้นสองตัวแปร','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','empty','เกิดข้อผิดพลาดในการบันทึก','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<tr>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','มุมพิเศษ\x2030°-60°-90°','filter','bulk-quiz-settings-modal','parentElement','medium','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','eraser','preventDefault','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','text/csv;charset=utf-8;','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','student-name-input','admin','selectedTopicNames','left','touchend','scratchpad-close-btn','Test\x20Blueprint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','ฟังก์ชันกำลังสองและกราฟ','.shortcut-btn','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','sync-short-answer-input','dispatchEvent','ON_FIRE','matching_item','เพิ่มรายการที่เลือก','.remove-shortcut-from-tab-btn','contains','<button\x20id=\x22','questionDisplayedAt','Error\x20starting\x20group\x20quiz:','getContext','<p><strong>คำตอบของคุณ:</strong>\x20','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','cancel-team-selection-btn','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','dimmed','classList','.question-editor-item[data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.bp-present-btn','Error\x20unpairing\x20quizzes:','topic-bank-list','clientX','เกมสิ้นสุดลงแล้ว','quadraticCurveTo','\x22\x20name=\x22question','modal-passing-score-input','generate-from-text-btn','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','เส้นตรง:\x20รูปแบบสมการ','การลบทศนิยม','แผนการสอน:\x20','confirm-link-quiz-btn','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','quizMode','เกิดข้อผิดพลาดในการสร้างใบงาน','(ก่อนเรียน)\x20','ไม่สามารถเพิ่มนักเรียนได้','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','save-file-shortcut-btn','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','lesson-view-modal','blueprintShortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','show-leaderboard-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','Error\x20verifying\x20answers:','questionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบ\x20\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x20จาก\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','confidence-scoring-toggle','student-name-select','canvas','</div></div></div>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','msRequestFullscreen','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','.move-quiz-btn','พบ\x20Sync\x20Game!','อุณหภูมิและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','เรขาคณิตวิเคราะห์','back-to-dashboard-btn','badges','#6366F1','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาตั้งชื่อแท็บใหม่:','nextElementSibling','multiply','bp-modal-shuffle-setting-select','parallel-shortcut-editor-modal','auto-fix-latex-btn','\x20รายการสำเร็จ!','Copy\x20command\x20failed','\x20mr-2\x22></i>','project-title','live-short-answer-input','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','answering','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20blueprint\x20project:','bp-modal-num-questions','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','lesson-plan-content','p-2\x20bg-black/10\x20rounded-md','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','find','fix\x20the\x20option','Error\x20preparing\x20content\x20quiz:','Sync\x20Mode','ความเท่ากันทุกประการของสามเหลี่ยม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','ใช่\x20/\x20ถูก','generationConfig','team-quiz-topic','back-to-dashboard-from-results-btn','change','.color-palette-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','Attempting\x20to\x20save\x20game\x20results...','2512851vqZFWS','bg-green-100','quiz-bank-modal','คำถามดิบ:\x20\x22','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','manual-blueprint-modal','\x5ctimes','contentEditable','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','numChoices','includeImages','project-list','ยกเลิกการจับคู่สำเร็จ','input[name=\x22drill_answer\x22]:checked','blueprint-project-list','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Error\x20fetching\x20quiz\x20settings:','กำลังสร้างรูปภาพ...','text-yellow-300','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','/public/data/teamQuizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','bg-teal-500\x20hover:bg-teal-600\x20text-white','classWeaknesses','getElementById','เกิดข้อผิดพลาดในการส่งคำตอบ','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','.lastAnswerCorrect','open-blueprint-projects-btn','<button\x20data-shortcut-id=\x22','[data-topic-container-id]','pen','touchmove','checkbox','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pathname','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','generated','force-math-checkbox','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','loopUntilPass','next-question-timed-btn','เกิดข้อผิดพลาดในการปักหมุด','<li>','text/html','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','exitFullscreen','documentElement','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','Failed\x20to\x20create/update\x20submission\x20record:','hint-btn','global-quiz-count','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','idealAnswer','student-view','pow','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','กฎของไซน์','confirm-delete-btn','comparison-individual-tab','open-quiz-bank-btn','คัดลอกรหัสแล้ว!','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','.move-shortcut-menu-btn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','บทเรียนเรื่อง:\x20','test','devicePixelRatio','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x22\x20class=\x22delete-project-btn\x20','highlighter-size-value','\x20จุดเรียบร้อยแล้ว','parseInline','#retake-for-improvement-btn','ทฤษฎีบทพีทาโกรัสและการประยุกต์','ตรวจคะแนนใหม่\x20','\x20link(s)\x20for\x20quiz\x20ID:\x20','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','wheel','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','Blueprint\x202','quiz-results-view','กฎของโคไซน์','ไม่พบข้อมูลหัวข้อที่จะบันทึก','\x20\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','open-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','move-quiz-project-select','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','insertBefore','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','team-student-list','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','results-quiz-title','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','worksheet-tab','files','#DBEAFE','lesson-plan-title','opacity','sync-submit-btn','_opt1\x22>ไม่ใช่</label></div>','แบบทดสอบฝึกฝนเรื่อง:\x20','referenceUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','cancel-blueprint-projects-btn','index','keydown','แก้ไขสูตรคณิตศาสตร์\x20','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','icon','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','ai-quiz-app-aefee','answeredCurrentQuestion','save-project-name-btn','upperGroupResponders','เศษส่วน\x20(ย่อ/ขยาย)','questionType','(เลือกแล้ว\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','</tr>','text-red-500\x20hover:text-red-700','ฟังก์ชันผกผัน','.draggable-text','/public/data/projects','numPages','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','สัญกรณ์วิทยาศาสตร์','false','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','comparison-individual-content','questions','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','.remove-parallel-shortcut-from-tab-btn','leaderboard_','subTopics','keyup','strokeStyle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','.start-live-race-btn','.edit-hidden-file-shortcut-btn','.mb-6.p-4','/public/data/projects/','back-to-student-home-btn','projectSortOrder','shouldSaveResults','per-q-countdown','file-shortcut-container','Error\x20updating\x20quiz\x20status:','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','</span></div>','\x20/\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','onchange','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','.bp-unlink-quiz-btn','per-question-text','กิจกรรมสิ้นสุดลงแล้ว','className','input[type=\x22checkbox\x22]:checked','สร้างชุดคำถามจับคู่','#000000','text','handleGenerateAndShowLesson','คะแนน','ย้ายแบบทดสอบสำเร็จ','student-quiz-leaderboard-content','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Error\x20fetching\x20project\x20quizzes:','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','confirm-not-confident','.bp-create-topic-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','Blueprint\x20O-NET\x20ป.6','applicationContent','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-shuffle-select','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.delete-hidden-parallel-shortcut-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','สถิติและความน่าจะเป็น','การหาร','scratchpad-canvas','topic-quiz-bank-modal','แท็บใหม่','คณิตศาสตร์','mouse','generate-worksheet-btn','bp-topic-list-container','.quiz-bank-present-btn','asc','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-gray-500','drill-feedback','bg-green-400\x20text-white\x20font-bold','</p></div>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','text-indigo-700','#results-table','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','เพิ่ม\x20','analyze-strengths-btn','ไม่ใช่','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FFFFFF','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionText','แบบทดสอบจากคลังส่วนตัว','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','team-player-status-grid','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','str','true_false','มุมและการวัดมุม','admin-view','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','length','.topic-name-input','separate-by-content-checkbox','file-default-2','generate-from-blueprint-btn','modal-message','topic-bank-subtopic-name','category','การคูณ','สุดยอด!\x20ตอบถูกทุกข้อ','AI\x20แก้ไขคำถามสำเร็จ!','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20ใหม่...','ท็อปฟอร์ม','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','outerHTML','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','match','afterend','.pen-size-btn','Failed\x20to\x20get\x20hint:','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','อัปเดตสถานะสำเร็จ','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','สมมาตร\x20(แกน/จุด)','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','then','mode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','from','projectSort','leaderboard','blueprint-input-area','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','student-join-game-view','topic','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','.quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','cancel-test-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','ไม่สามารถเริ่มเกมได้','border-red-700','ไม่พบข้อมูลการจับคู่','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','quiz-end-time','standardTopic','Error\x20saving\x20settings:','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','leaderboard-tab','members','additional-file-shortcuts-modal','shortcut-editor-modal','file-shortcut-editor-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','แบบทดสอบ:\x20','Error\x20adding\x20topic:','update-old-quizzes-btn','เพิ่มปุ่มลัดใหม่','grid-view-btn','countdown-display','isNormalTopic','/public/data/syncGames','.auto-resize-textarea','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','reduce','กรุณาเลือกโปรเจคปลายทาง','confirm-game-start-btn','promise','.star-quiz-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','scratchpad-clear-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-team-players-btn','Group\x20Mode','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','ondragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','.live-answer-btn','save-quiz-btn','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','.bp-create-onet-quiz-btn','<i\x20class=\x22fas\x20fa-pen\x22></i>','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','กรุณาสร้างบทเรียนก่อน','quiz-editor-questions-container','.project-card-container.opacity-50','OBJECT','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','bg-black/20','sara','.export-pdf-list-btn','behaviorLog','#E5E7EB','close-presentation-btn','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.space-y-1.pl-4','.shortcut-list-item:not(.opacity-50)','ai-quiz-app-aefee.firebaseapp.com','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ไม่มีผู้ตอบตัวเลือกนี้','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','splice','create-project-btn','.answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-selection-btn','.ai-fix-question-btn','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','scrollX','.scratchpad-content-wrapper','.ideal-answer-input','learningGaps','teacherSuggestions','_blank','dataIndex','add-parallel-shortcut-btn','text-gray-300\x20hover:text-white','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','ตรวจพบการออกจากหน้าจอครบ\x20','cos','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x20ชุด)</span>','student-project-leaderboard-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','promptFeedback','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','dragstart','blueprint-projects-modal','</tbody></table>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','body','Error\x20adding\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','STRING','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','การคูณทศนิยม','.shortcut-list-item','เลือกและเริ่มสร้าง','cancel-move-quiz-btn','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','พื้นที่สี่เหลี่ยม','redo-btn','Error\x20fetching\x20lesson\x20content:','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-form','project-quizzes-list','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','delete-all-students-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','name_desc','กลุ่ม:\x20','fromCharCode','bg-green-500','Loaded\x20','border-indigo-500\x20text-indigo-600','toISOString','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','onclick','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','drop','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','substr','ไม่พบโปรเจค','scores-tab-content','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','save-bp-settings-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','leq','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบข้อสอบ\x20','close-lesson-plan-modal-btn','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','separate-by-content-from-file-checkbox','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelShortcutOrder','$$$1$','pop','สเกลและแผนที่','Error\x20listening\x20for\x20student\x20profiles:','ไฮเพอร์โบลา','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','ทศนิยม\x20(ค่าประจำหลัก)','.ai-fix-formula-btn','file-upload-input','showImproveButton','select','ความชันและเส้นตรง','อัตราการเปลี่ยนแปลงทันที','add-file-shortcut-tab-btn','\x22...','ไม่ผ่าน','QUICK_THINKER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','comparison-chart','รูปแบบการให้เหตุผล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20p','bg-red-200\x20text-red-800','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<h1></h1>','<div\x20class=\x22p-2\x20rounded-md\x20','กำลังอัปเดตแบบทดสอบ\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','export-leaderboard-excel-btn','.status','.move-parallel-shortcut-menu-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','คุณแน่ใจว่าต้องการลบแท็บนี้?','Error\x20generating\x20teaching\x20content:','perfect_score_status','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','สร้างแบบทดสอบปรนัย','class','responses.','join-live-game-btn','Error\x20generating\x20from\x20parallel\x20test\x20file:','move-quiz-modal','label[for=\x22num-questions\x22]','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','half_mark_status','การลบเศษส่วน','.linkedQuizId','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','overline','students','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerMode','question-analytics-container','\x20\x20\x20-\x20คำตอบ:\x20','shortcutTabs','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','bulk-loop-until-pass-checkbox','\x20|\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','ปริมาตร/ความจุและการแปลง','toLocaleString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','student-progress-view','commit','การแจกแจงทวินาม\x20(พื้นฐาน)','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','map','retake-quiz-loop-btn','เกิดข้อผิดพลาดในการติดดาว','PROMPT_PLACEHOLDER','hint','text-green-600\x20font-bold','.delete-hidden-shortcut-btn','getElementsByTagName','\x22.\x20Ideal\x20Answer:\x20\x22','/public/data/quizzes','set','สอบปกติ','ondrop','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','manual-bp-project-name','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','ไม่มี','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','project-detail','delete-svg-btn','หลังเรียน','some','Error\x20saving\x20quiz:','.color-palette-popup','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','file-default-','การบวกทศนิยม','ดอทโปรดักต์\x20(dot)','ยอดเยี่ยม!','<button\x20data-value=\x22','Error\x20generating\x20from\x20link:','confidence','.csv','แบบทดสอบซ่อมเสริม','สำหรับโปรเจค:\x20','confirm-confident','quiz-editor-modal','localeCompare','highlighter-tool-btn','2-digit','รอ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','.pair-quiz-btn','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','.topic-actions-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','starred','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','scrollHeight','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/json','1753540ErCbPh','\x22\x20data-q-type=\x22','</li>','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','team','global-activity-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-footer-btn','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','source-over','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','เริ่มกิจกรรม:\x20','answer-grid-container','innerText','cloneNode','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','on_fire','slide-counter',':</span><span>','screen','bp-modal-quiz-type-select','stringify','presentation-modal','Error\x20analyzing\x20file\x20for\x20topics:','scheduled_pending','specialist','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answers','tGain','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','%</span>','neq','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','จำนวนข้อ:','ก่อนเรียน','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','subTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ทำคะแนนได้เกินครึ่ง','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','ondragend','hasPerfectScoreBonus','lastAnswerIndex','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x27\x20ในหัวข้อ\x20\x27','.project-card-container[data-id]','disabled','blueprint-project-manager-view','เกิดข้อผิดพลาดในการบันทึกลำดับ','Error\x20clearing\x20linked\x20quiz:','scores','.regenerate-question-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','.score','baseVal','Error\x20saving\x20quiz\x20edits:','.generate-content-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','sum','อนุพันธ์:\x20ผลคูณ/ผลหาร','live-game','per-question-timer-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab','deltaY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','cdot','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','confidence-choice-btn','export-lesson-to-pdf-btn','Error\x20deleting\x20submission:','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','Error\x20adding\x20custom\x20topic:','manage-tab-content','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','auto','bp-modal-passing-score-input','option','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','difficulty-level-select','text-yellow-800','ผู้ควบคุม\x20(ทดสอบ)','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ไม่พบข้อมูลผู้ใช้','isConfidenceScoringEnabled','progress-student-select','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22font-bold\x20text-sm\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','ai-quiz-generator-v3','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','student-team-selection-view','pen-tools-group','องค์ประกอบของฟังก์ชัน','not_generated','question',',\x20r=','ไม่พบข้อมูลเกม','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22color-palette-btn\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','save-blueprint-as-project-btn','element','save','ไฟล์ลัด\x202','file-shortcut-modal-title','pinned-items','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','wakeLock','ยืนยันและอัปเดตทั้งหมด','focus','toggle','prev-question-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','bg-red-100','Error\x20generating\x20easy\x20version\x20quiz:','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','project-detail-view','student-project-leaderboard-table-body','Error\x20during\x20class\x20analysis:','destination-out','after','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','/questionBank','-tab-content','.summary-bar-item','.project-card-container:not(.opacity-50)','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','webkitRequestFullscreen','getBoundingClientRect','insertAdjacentHTML','leaderboard-quiz-tab-btn','createdAt','pointContent','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','กำลังวิเคราะห์หัวข้อ...','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','totalQuestions','size','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bg-green-100\x20text-green-800','\x22>ไม่ใช่</p>','reveal-answer-btn','text-green-800','บันทึกการตั้งค่าสำเร็จ','fixedData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.pdf','input[type=\x22radio\x22][value=\x22','selected-answer-index-hidden','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','/public/data/quizzes/','temp-loader-results','ฟังก์ชันสัมพัทธ์\x20(rational)','export-tutor-pdf-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','matching','MathJax\x20typeset\x20error\x20(analytics):','ฟังก์ชันแบบชิ้นส่วน','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','global-activity-modal','00:00','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x20pointer-events-none\x22>','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','mousedown','generate-from-file-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','fileShortcutsConfig','pointerdown','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','check-presentation-answer-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','moveTo','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','ดีเทอร์มิแนนต์','quick_thinker','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','quiz-status-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','setAttributeNS','.edit-question-btn','lesson-view-title','Error\x20in\x20handleApiCall:','starred-project','lessonPlan','timer-duration-container','export-compact-pdf-btn','เปิดใช้งาน','manage-players-btn','quiz','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','rgba(79,\x2070,\x20229,\x200.8)','worksheet-input-area','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-bp-settings-btn','\x20สำเร็จ','padStart','modal-timer-duration-input','start-sync-game-btn','topicName','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-visibility-settings-btn','toLowerCase','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','.move-file-shortcut-menu-btn','firstScore','trim','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','export-excel-btn','projectId','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tab_','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ชื่อหัวข้อห้ามว่าง','\x20ข้อ\x20','[data-field=\x22subTopic\x22]','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','Error\x20deleting\x20project:','original-mode-checkbox','\x22\x20สำเร็จ!','ทำคะแนนเต็มในการทำครั้งแรก','ระยะจากจุดถึงเส้นตรง','ลำดับเรขาคณิต\x20(GP)','Error\x20deleting\x20topic:','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','style','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','end-game-btn','ฟังก์ชันยกกำลัง','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','duration-300','พาราโบลา','รายการนี้','ไม่พบข้อมูลแบบทดสอบ','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','file-input-area','shortcutId','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','...','lower_group_count','ส่วนเบี่ยงเบนมาตรฐาน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','63lZtbdd','generated-quiz-container','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.presentation-option','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแล้ว','values','<li\x20class=\x22','[data-topic-id=\x22','ฟังก์ชันพหุนาม','นำแบบทดสอบออกจากคลังนี้แล้ว','correctResponse','NEGATIVE_INFINITY','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','instructions','quizType','button','bg-yellow-100','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์ไม่จำกัด','label','#open-additional-file-shortcuts-btn','additional-parallel-shortcuts-modal','ย้ายแบบทดสอบไปโปรเจคอื่น','\x20ตัวเลือก)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','reference.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','รีเซ็ตลำดับโปรเจคแล้ว','download','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','ถูก','\x22\x20value=\x22','file.pdf','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','#D1FAE5','manual-bp-grade-level','preTestId','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','players','smooth','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','fa-pen','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','analytics','ยังไม่สร้าง','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20shortcut:','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','.use-hidden-parallel-shortcut-btn','startTime','ไม่พบแบบทดสอบ','questions_only','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','slice','quiz-results','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','Authentication\x20failed:','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','/public/data/blueprintProjects','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','พื้นที่สามเหลี่ยม','opacity-50','Failed\x20to\x20generate\x20lesson:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','.group','move','isLooping','restore','shortcut-modal-title','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','finishReason','text-emerald-900','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20displaying\x20blueprint\x20project:','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','student-list','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','สร้างโปรเจคสำเร็จ!','/public/data/customMathTopics','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','บันทึกแบบทดสอบสำเร็จแล้ว!','gameData','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','attemptNumber','sqrt','.generate-lesson-btn','ผ่านฉลุย','select-all-topics-btn','.open-bp-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Auto-linking\x20new\x20quiz\x20','คะแนนเต็ม','confidence-mode-select','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ห.ร.ม.\x20(GCD)','create-from-bank-btn','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','transform','SAFETY','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student','teacherTips','text-gray-400\x20hover:text-indigo-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.start-game-btn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','.save-custom-topic-btn','originalTopic','สร้างใหม่','แก้ไขปุ่มลัดจากไฟล์','กำลังสร้างบทเรียน:\x20','parallelTestShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','generate-from-topic-btn','<div\x20class=\x22flex-1\x22></div>','back-to-dashboard-from-bp-btn','submittedAt','$1\x20\x5cfrac','groups.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','<tr><td\x20colspan=\x22','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','_opt1\x22\x20name=\x22question','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','.ai-content\x20td','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','API\x20Error\x20Response:','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x5cle','</a>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','top','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','summary_chart','ทฤษฎีทวินาม\x20(เบื้องต้น)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','short_answer','</label></div>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','lowerGroupResponders','msExitFullscreen','list-view-btn','text-gray-500','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','isArray','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','td,\x20th','text-red-700\x20bg-red-100','#view-rankings-btn','copy','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','#results-table\x20thead\x20tr','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','ฟังก์ชันค่าสัมบูรณ์','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','type','application/pdf','(ไม่มีชื่อ)','key','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','.group\x5c/dropdown-file','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</strong></p>','docs','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','topics','COMEBACK_KING','สร้างคำถามใหม่\x201\x20ข้อ\x20','confirmation-modal','</form>','unshift','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','cancel-shortcut-edit-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','bp-modal-question-complexity-select','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','เปิด\x20(จับเวลา)','บันทึกผลการเล่นเกมของ\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','Team\x20Quiz','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<span\x20class=\x22font-bold\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','กรุณาใส่ชื่อนักเรียน','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/blueprintProjects/','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.compare-results-btn','เกิดข้อผิดพลาดในการอ่านไฟล์','ไม่พบไฟล์\x20Test\x20Blueprint','\x22\x20value=\x22false\x22\x20','settings','tool','.bp-create-content-quiz-btn','Error\x20joining\x20sync\x20game:','nickname-input','Failed\x20to\x20kick\x20player\x20','https://corsproxy.io/?','parallel-shortcuts-loading-msg','สมการราก\x20(radical)','student-progress-content','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','beginPath','finished','ดีมาก','btn','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','bp-project-title','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.shortcut-tab-btn','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','<p\x20class=\x22','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','text-content-input','Error\x20deleting\x20all\x20students:','\x0a---\x0a','.move-shortcut-dropdown','กรุณาเลือกโปรเจคที่ต้องการบันทึก','live-race','bar','playerName','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','confirm-move-quiz-btn','num-questions','#confidence-input-','เกิดข้อผิดพลาด:\x20','274192258111','applicationData','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','input','results-quiz-id-display','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.rename-quiz-btn','\x22\x20จำนวน\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close-game-final-btn','อยู่ในหัวข้อหลักใด:','การจัดหมู่\x20(Combination)','ความน่าจะเป็นแบบมีเงื่อนไข','ไม่สามารถโหลดข้อมูลอันดับได้','hidden','เกิดข้อผิดพลาดในการจับคู่','game-start-mode','Error\x20saving\x20reference\x20URL:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20\x27','add-custom-math-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','bp-add-topic-btn','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','end-sync-game-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าคลาดเคลื่อนของการวัด','qType','sync','.edit-file-shortcut-btn','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','stopPropagation','parallel-shortcut-container','Error\x20starting\x20team\x20quiz:','.tab-name-input','imageCode','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','modal-confidence-scoring-checkbox','อัปเดตแบบทดสอบเก่า\x20','createElement','substring','.quiz-result-card','กำลังสแกนหาแบบทดสอบเก่า...','application','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','student-reading-area','ยอดเยี่ยม','.answeredCurrentQuestion','.subTopic','random','<div\x20class=\x22mb-3\x20topic-category\x22>','confirm-admin-login-btn','lineWidth','</h4>','ลำดับการดำเนินการ\x20(PEMDAS)','toDataURL','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','comparison','show_results_and_answers','topics.','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','players.','text-green-700\x20bg-green-100','link-url-input','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','close-lesson-view-btn','inactive','projectOrder','shortcut_','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','responseSchema','</option>','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','Error\x20saving\x20questions\x20to\x20practice\x20bank:','num-choices','onerror','adaptive-quiz-checkbox','จำนวนคู่:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','เส้นจำนวน','.move-parallel-shortcut-item','.pen-color-btn','comparison-overall-tab','.answers','เวกเตอร์และเมทริกซ์\x20(เสริม)','admin-password-input','answer-counter','admin-testing','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x22\x20data-target-tab-id=\x22','cancel-quiz-edits-btn-footer','indexOf','input[name=\x22question_single\x22]:checked','null','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','start-game-btn','quiz-type-select','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','textarea[name=\x22question_single\x22]','schedule','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','svg','solution','passingScore','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x20แบบทดสอบลงในคลังสำเร็จ!','bg-blue-500\x20hover:bg-blue-600\x20text-white','ดูผลสรุปสุดท้าย','message-modal','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','แก้ไขปุ่มลัด','pre-test-checkbox','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><i\x20class=\x22fas\x20','toDate','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','/public/data/learnedFixes','text-indigo-600','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','results-table-container','line-through\x20text-red-700','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-image-container-','pointer-events-none','shuffleSetting','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','modal-close-btn','parallel-shortcut-url-input','answer','\x22><span>','hasOwnProperty','ชื่อโปรเจคห้ามว่าง','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shadowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','end-team-quiz-btn','แบบทดสอบที่ติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','add-student-btn','\x22\x20value=\x22true\x22\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','reference.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','submit-group-answer-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Error\x20committing\x20score\x20updates:','\x20ตัวเลือก.\x20','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Original\x20quiz\x20not\x20found','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','lowerGroupNames','manual_release','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','cancel-global-activity-btn','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ai-quiz-app-aefee.firebasestorage.app','circ','.bp-delete-topic-btn','isRemedial','\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการลบหัวข้อ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','file-shortcut-id-input','cancel-delete-btn','Failed\x20to\x20end\x20group\x20mode\x20game:','source_document.txt','Error\x20updating\x20sort\x20preference:','.quiz-bank-delete-btn','parallel-default-1','POST','parallel-test-upload-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','findIndex','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','3295488lRzhFj','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','join','(^|[^\x5c\x5c])\x5cb','bp-modal-include-images-checkbox','ondblclick','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','next-drill-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','อัตราส่วนและสัดส่วน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','shuffle','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','.edit-hidden-parallel-shortcut-btn','\x20from\x20sync\x20game:','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','กรุณาพิมพ์คำตอบ','math-topic-search-input','fadeStartTime','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','1013490bbJvfI','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','cancel-manual-bp-btn','reference_onet.pdf','date_asc','กำลังค้นหากิจกรรม...','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','confirm-bulk-quiz-settings-btn','Error\x20deleting\x20shortcut:','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','additional-parallel-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','preTScore','justification','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ฟังก์ชันราก\x20(root)','arrayBuffer','grid','เกี่ยวกับหัวข้อ\x20\x22','AI\x20ไม่สามารถประมวลผลข้อมูลได้','การคูณเศษส่วน','กลุ่มของคุณ','back-to-home-manual-release','กราฟฟังก์ชันตรีโกณ','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ใช่','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','text-indigo-800','shortcut-reference-url-input','ไม่พบแบบทดสอบในระบบเลย','bulk-shuffle-select','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pointsLastQuestion','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','.quiz-bank-move-btn','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','กรุณาเลือกโปรเจคก่อน','วงกลม:\x20สมการและสมบัติ','ปุ่มลัดทั้งหมด','dragover','groups','เลือกโปรเจคเพื่อบันทึก','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','activeGameSession','leaderboard-quiz-tab-content','touchcancel','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.bp-edit-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','workerSrc','timer-container','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','ข้อ\x20','ผู้ไม่ยอมแพ้','parallel-shortcut-name-input','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','bg-green-50','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในสาระการเรียนรู้ใด:','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','manual-bp-content','file-shortcut-name-input','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','quiz-leaderboard-table-body','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','allResponses','trail','Remedial\x20quiz\x20generation\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setTransform','ไม่มีคำอธิบาย','\x20กลุ่ม</p></div>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','พีชคณิตและฟังก์ชัน','timer-duration-label','<button\x20data-tab-id=\x22','การจัดกลุ่มข้อมูล','</div></div>','deg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','show_pass_fail_only','quiz-leaderboard-table','total','txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','remove','Failed\x20to\x20get\x20standardized\x20topic:','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','touches','checkAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-topic-input','กราฟแท่ง\x20กราฟเส้น','status','bg-green-200\x20text-green-900\x20font-bold','สรุปผลการวิเคราะห์:\x5cn','ส่วนเบี่ยงเบนเฉลี่ย','อนุพันธ์:\x20กฎลูกโซ่','resize','quiz-id-input','practiceProblems','save-quiz-edits-btn','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','Error\x20updating\x20quiz\x20settings:','.view-bp-lesson-btn','text-red-700','ความคาดหมาย\x20(Expected\x20value)','keys','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','export-pdf-modal','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','explanation','shadowBlur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','verify-answers-editor-btn','correctAnswerIndex','onload','กำลังอ่านไฟล์\x20Test\x20Blueprint...','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','showInStudentDashboard','behavior-log','กำลังดึงไฟล์อ้างอิงจากลิงก์...','Firebase\x20initialization\x20failed:','text-blue-700','show_results_only','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','#e21b3c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','<svg','file-shortcut-url-input','custom-math-topic-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','แบบทดสอบนี้ปิดใช้งานอยู่','\x20ตอบ','strength-weakness-analysis-container','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','user','group','visibilityState','getAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','pin','close-comparison-modal-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','Error\x20updating\x20pin\x20status:','.topic-category','ค่าความจริง/ตารางค่าความจริง','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20comparing\x20results:','projectView','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','setFont','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','คำถามถัดไป','write','Error\x20processing\x20parallel\x20shortcut\x20click:','desc','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','bp-reference-file-url','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','dblclick','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','game-start-quiz-id','presentation-ai-result','บทเรียน','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','reference-pdf-upload','currentMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','warn','.question-editor-item','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','.pin-project-btn','gamePin','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','Error\x20saving\x20shortcut\x20config:','#math-topics-checkbox-container\x20input:checked','options','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เซียนสมองไว','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','undefined','times','qIndex','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','_opt0\x22\x20name=\x22question','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','\x20ชุดสำเร็จ!','fullscreenchange','textarea[name=\x22team_answer\x22]','keyConcepts','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.highlighter-color-btn','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','AI\x20Formula\x20Fix\x20Error:','กรุณาเลือกคำตอบ','.quiz-bank-item','bg-gray-200\x20text-gray-700','bp-modal-difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','ดอกเบี้ยอย่างง่าย','</p>','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','กำลังสร้างแบบทดสอบ:\x20','passcode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','.edit-hidden-shortcut-btn','readAsArrayBuffer','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','4TzGhKt','button[type=\x22submit\x22]','back-to-project-btn','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','perfect_score','questionId','Error\x20saving\x20user\x20preference:','[data-topic-id]','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','<span\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isPasscodeEnabled','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','complexityValue','.delete-shortcut-tab-btn','destroy','removeEventListener','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','parent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังโหลดคลังข้อสอบทั้งหมด...','.duplicate-quiz-btn','โดเมนและเรนจ์','\x5csum','เมทริกซ์:\x20บวก/คูณ','overallGroups','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','isDefault','pinnedProjects',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','mixed','\x20คะแนน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','th-TH','replace','stroke','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','parseFromString','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','fa-rocket\x20text-purple-500','passing-score-input','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','circle','timed','Error\x20toggling\x20star\x20status:','การลบ','confirm-create-project-btn','\x20รายการ...','ondragstart','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','#open-additional-shortcuts-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','none','isFinished','NUMBER','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','.kick-player-btn-sync','.correct-response-input','gradeLevel','timestamp','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ผ่าน','\x20to\x20blueprint\x20topic\x20','decode','parse','parallel-test-tab','rgba(239,\x2068,\x2068,\x200.9)','submissions','.application-options\x20button','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parts','start-presentation-btn','คะแนนเฉลี่ย','เพิ่มปุ่มลัดจากไฟล์ใหม่','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','points','kick-player-btn','Error\x20saving\x20project\x20order:','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20user\x20preferences:','อสมการค่าสัมบูรณ์','pdf','กำลังสร้างเนื้อหา:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.generate-easy-version-btn','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','bottom','เปลี่ยนชื่อโปรเจคสำเร็จ','Error\x20toggling\x20pin\x20status:','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','every','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','cancel-passcode-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x20คนที่ส่ง\x20ตอบถูก\x20(','กรุณาเลือกสถานะ','latestScore','grabbing','curriculum','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','closest','postScore','onloadend','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','prod','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','results-tab-content','ลบผลสอบของ\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','highlighter','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','createdBy','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','student-project-leaderboard-tab','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','.txt','add-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>','fas\x20fa-star\x20text-yellow-500','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','https://drive.google.com/uc?export=download&id=','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','text-emerald-800','GlobalWorkerOptions'];_0x17b2=function(){return _0x55da13;};return _0x17b2();}async function saveGameResultsAsSubmissions(_0x25f4d0){const _0x5ea5ed=_0x3a383e;console[_0x5ea5ed(0x3ab)](_0x5ea5ed(0x52f),_0x25f4d0);const _0x2f8eb3=_0x25f4d0['quizId'];let _0x2fc5fb=[];if(_0x25f4d0[_0x5ea5ed(0x8d9)])_0x2fc5fb=Object['entries'](_0x25f4d0['players'])[_0x5ea5ed(0x75d)](([_0x5dcef3,_0x281828])=>({'name':_0x5dcef3,..._0x281828}));else{if(_0x25f4d0[_0x5ea5ed(0xacc)])Object[_0x5ea5ed(0x8b4)](_0x25f4d0[_0x5ea5ed(0xacc)])[_0x5ea5ed(0x1f5)](_0x1e2ee1=>{_0x1e2ee1['members']['forEach'](_0x4cc22f=>{const _0x203d4f=_0x35c4;_0x2fc5fb[_0x203d4f(0x321)]({'name':_0x4cc22f,'score':_0x1e2ee1[_0x203d4f(0xbd7)],'answers':_0x1e2ee1['answers']});});});else _0x25f4d0[_0x5ea5ed(0x634)]&&Object[_0x5ea5ed(0x14e)](_0x25f4d0[_0x5ea5ed(0x634)])[_0x5ea5ed(0x1f5)](([_0x43bdc6,_0x55f673])=>{const _0x77a2c8=_0x5ea5ed;_0x2fc5fb[_0x77a2c8(0x321)]({'name':_0x43bdc6,..._0x55f673});});}if(_0x2fc5fb[_0x5ea5ed(0x636)]===0x0){console[_0x5ea5ed(0x3ab)](_0x5ea5ed(0x274));return;}const _0x38e495=_0x25f4d0[_0x5ea5ed(0x402)]?.['questions'][_0x5ea5ed(0x636)]||currentQuizData[_0x5ea5ed(0x5cd)]['length'],_0xc6ab9=writeBatch(db);for(const _0x38228f of _0x2fc5fb){const _0x1103e7=doc(db,_0x5ea5ed(0xc93)+appId+_0x5ea5ed(0x847)+_0x2f8eb3+_0x5ea5ed(0x32e),_0x38228f[_0x5ea5ed(0xce5)]),_0x53d6c1=(_0x38228f[_0x5ea5ed(0x7b5)]||[])[_0x5ea5ed(0x499)](_0x5a503b=>_0x5a503b[_0x5ea5ed(0x1c8)])[_0x5ea5ed(0x636)];let _0x970ff0=_0x53d6c1;_0x25f4d0[_0x5ea5ed(0x7fa)]&&_0x38228f[_0x5ea5ed(0x7b5)]&&_0x38228f['answers'][_0x5ea5ed(0x1f5)](_0x2da499=>{const _0x268c62=_0x5ea5ed;if(_0x2da499[_0x268c62(0x1c8)]&&(_0x2da499[_0x268c62(0x36c)]===!![]||_0x2da499[_0x268c62(0x36c)]==='confident'))_0x970ff0+=0x1;else!_0x2da499[_0x268c62(0x1c8)]&&(_0x2da499['wasConfident']===!![]||_0x2da499[_0x268c62(0x36c)]===_0x268c62(0x34f))&&(_0x970ff0-=0x1);});_0x38e495>0x0&&_0x53d6c1===_0x38e495&&(_0x970ff0+=0x1);const _0x2b90a9={'score':_0x53d6c1,'points':_0x970ff0,'badges':_0x38228f['badges']||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x38228f[_0x5ea5ed(0x7b5)]||[])[_0x5ea5ed(0x75d)](_0x3f6018=>({'questionId':_0x3f6018['questionId'],'answer':_0x3f6018[_0x5ea5ed(0xa51)],'answerText':_0x3f6018[_0x5ea5ed(0x43f)],'isCorrect':_0x3f6018['isCorrect'],'originalQuestionText':_0x3f6018['originalQuestionText'],'wasConfident':_0x3f6018[_0x5ea5ed(0x36c)]}))},_0x240f18=await getDoc(_0x1103e7),_0x12a409=_0x240f18[_0x5ea5ed(0x837)]()?_0x240f18[_0x5ea5ed(0x183)]():{},_0x2c167b=_0x12a409[_0x5ea5ed(0x313)]||0x0,_0x33ca39=_0x12a409[_0x5ea5ed(0x61f)]||[],_0x452032={'studentName':_0x38228f['name'],'totalQuestions':_0x38e495,'attempts':arrayUnion(_0x2b90a9),'latestScore':_0x53d6c1,'points':_0x970ff0,'latestSubmittedAt':_0x2b90a9[_0x5ea5ed(0x939)],'bestScore':Math[_0x5ea5ed(0x38c)](_0x2c167b,_0x53d6c1),'firstScore':_0x33ca39['length']===0x0?_0x53d6c1:_0x12a409[_0x5ea5ed(0x886)]||0x0};_0xc6ab9['set'](_0x1103e7,_0x452032,{'merge':!![]});}try{await _0xc6ab9[_0x5ea5ed(0x75a)](),showMessage(_0x5ea5ed(0x988)+_0x2fc5fb[_0x5ea5ed(0x636)]+_0x5ea5ed(0x1cd));const _0x3c6a6a=_0x25f4d0[_0x5ea5ed(0x402)]?.[_0x5ea5ed(0x88a)]||currentQuizData?.['projectId']||currentProjectId;if(_0x3c6a6a){const _0x523f74=[...new Set(_0x2fc5fb['map'](_0x2c2bc3=>_0x2c2bc3['name']))];for(const _0xe60d71 of _0x523f74){await updateStudentProfile(_0x3c6a6a,_0xe60d71);}}}catch(_0xf5b1b2){console[_0x5ea5ed(0x2e9)](_0x5ea5ed(0x1a4),_0xf5b1b2),showMessage(_0x5ea5ed(0x43c));}}async function saveQuiz(_0xd47f03=null,_0x1ce1b9=null){const _0x4fcb75=_0x3a383e,_0x3bb899=_0xd47f03||currentProjectId;if(!_0x3bb899){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x4fcb75(0x2c9));return;}const _0x239e68=document[_0x4fcb75(0x552)](_0x4fcb75(0x68d));_0x239e68[_0x4fcb75(0x7ce)]=!![],_0x239e68[_0x4fcb75(0x377)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x760f3d=document['getElementById'](_0x4fcb75(0xa3c))[_0x4fcb75(0xd08)];let _0x40256c=document['getElementById'](_0x4fcb75(0xc7c))['innerText'][_0x4fcb75(0x887)]();_0x760f3d&&!_0x40256c['startsWith'](_0x4fcb75(0xb62))&&(_0x40256c=_0x4fcb75(0x4db)+_0x40256c);try{const _0x12f079={'resultsDisplay':document[_0x4fcb75(0x552)]('results-display-select')[_0x4fcb75(0x203)],'shuffle':document['getElementById'](_0x4fcb75(0x43e))['value'],'timerMode':document[_0x4fcb75(0x552)](_0x4fcb75(0xb4d))[_0x4fcb75(0x203)],'timerDuration':parseInt(document[_0x4fcb75(0x552)](_0x4fcb75(0x17d))['value'])||0xa,'passingScore':parseInt(document[_0x4fcb75(0x552)](_0x4fcb75(0xbcc))['value'])||0x0,'isAdaptive':document['getElementById'](_0x4fcb75(0xa11))[_0x4fcb75(0xd08)],'loopUntilPass':document['getElementById']('loop-until-pass-checkbox')[_0x4fcb75(0xd08)]},_0x3d0628=(currentQuizData[_0x4fcb75(0x5cd)]||[])[_0x4fcb75(0x75d)]((_0x50ea3a,_0x6cae85)=>{const _0x2f2614=_0x4fcb75,_0x316199=document[_0x2f2614(0x552)](_0x2f2614(0xa28))[_0x2f2614(0x203)],_0xb5ba54={'id':'q_'+Date['now']()+'_'+_0x6cae85,'questionText':_0x50ea3a['questionText']||'','explanation':_0x50ea3a[_0x2f2614(0xb1d)]||_0x2f2614(0xaf0),'questionType':_0x50ea3a[_0x2f2614(0x5be)]||_0x316199,'imageCode':_0x50ea3a[_0x2f2614(0x9e7)]||null};return(_0xb5ba54[_0x2f2614(0x5be)]===_0x2f2614(0x2df)||_0xb5ba54[_0x2f2614(0x5be)]==='fill_in_with_choices'||_0xb5ba54[_0x2f2614(0x5be)]===_0x2f2614(0xbc1)&&_0x50ea3a[_0x2f2614(0xb70)])&&(_0xb5ba54[_0x2f2614(0xb70)]=_0x50ea3a[_0x2f2614(0xb70)]||[],_0xb5ba54[_0x2f2614(0xb21)]=_0x50ea3a[_0x2f2614(0xb21)]!==undefined?_0x50ea3a[_0x2f2614(0xb21)]:0x0),(_0xb5ba54[_0x2f2614(0x5be)]===_0x2f2614(0x952)||_0xb5ba54['questionType']===_0x2f2614(0x349)||_0xb5ba54[_0x2f2614(0x5be)]==='mixed'&&_0x50ea3a[_0x2f2614(0x572)])&&(_0xb5ba54[_0x2f2614(0x572)]=_0x50ea3a[_0x2f2614(0x572)]||''),_0xb5ba54[_0x2f2614(0x5be)]==='true_false'&&(_0xb5ba54[_0x2f2614(0x207)]=_0x50ea3a[_0x2f2614(0x207)]===!![]),_0xb5ba54[_0x2f2614(0x5be)]===_0x2f2614(0x4b4)&&(_0xb5ba54[_0x2f2614(0x2a5)]=_0x50ea3a[_0x2f2614(0x2a5)]||'',_0xb5ba54[_0x2f2614(0x8b9)]=_0x50ea3a[_0x2f2614(0x8b9)]||'',_0xb5ba54[_0x2f2614(0xaeb)]=_0x50ea3a[_0x2f2614(0xaeb)]||[]),_0xb5ba54;}),_0xe3969b={'topic':_0x40256c,'quizType':currentQuizData[_0x4fcb75(0x8bd)]||_0x4fcb75(0x2df),'questions':_0x3d0628,'projectId':_0x3bb899,'createdBy':userId,'createdAt':new Date()[_0x4fcb75(0x6f2)](),'status':'active','settings':_0x12f079,'quizMode':_0x760f3d?'pre-test':_0x4fcb75(0x218),'pairedQuizId':null,'lessonPlan':null};let _0x549a3d;while(!![]){_0x549a3d=Math[_0x4fcb75(0x429)](0x3e8+Math[_0x4fcb75(0x9f5)]()*0x2328)[_0x4fcb75(0x2de)]();const _0x41deb1=await getDoc(doc(db,_0x4fcb75(0xc93)+appId+_0x4fcb75(0x766),_0x549a3d));if(!_0x41deb1['exists']())break;}await setDoc(doc(db,_0x4fcb75(0xc93)+appId+_0x4fcb75(0x766),_0x549a3d),_0xe3969b);if(_0x1ce1b9&&currentBlueprintProjectId){console['log'](_0x4fcb75(0x91d)+_0x549a3d+_0x4fcb75(0xbe8)+_0x1ce1b9);try{const _0x3c0d99=doc(db,_0x4fcb75(0xc93)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3c0d99,{[_0x4fcb75(0xa00)+_0x1ce1b9+_0x4fcb75(0x195)]:arrayUnion(_0x549a3d)});}catch(_0x197363){console[_0x4fcb75(0x2e9)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x197363);}}currentQuizData[_0x4fcb75(0x997)]=_0x12f079,currentQuizData['id']=_0x549a3d;const _0x170ee8=document[_0x4fcb75(0x552)]('generated-quiz-actions');_0x170ee8[_0x4fcb75(0x377)]=_0x4fcb75(0x4ac)+_0x549a3d+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x4fcb75(0x552)]('copy-quiz-id-btn')[_0x4fcb75(0x224)](_0x4fcb75(0x43a),()=>copyTextToClipboard(_0x549a3d,_0x4fcb75(0x57a))),document[_0x4fcb75(0x552)]('start-live-race-generated-btn')[_0x4fcb75(0x224)](_0x4fcb75(0x43a),()=>handleStartLiveRace(_0x549a3d)),document[_0x4fcb75(0x552)](_0x4fcb75(0xbf1))[_0x4fcb75(0x224)]('click',()=>startPresentation(currentQuizData)),document[_0x4fcb75(0x552)]('admin-try-quiz-btn')[_0x4fcb75(0x224)](_0x4fcb75(0x43a),startAdminTest),showMessage(_0x4fcb75(0x911));}catch(_0x492791){console['error'](_0x4fcb75(0x773),_0x492791),showMessage(_0x4fcb75(0x79f));}finally{_0x239e68[_0x4fcb75(0x7ce)]=![],_0x239e68['innerHTML']=_0x4fcb75(0x406);}}function promptForProjectAndSave(){const _0x531db0=_0x3a383e,_0x16eb1b=document[_0x531db0(0x552)](_0x531db0(0x73f)),_0x2dbc7c=document['getElementById'](_0x531db0(0x59d)),_0xd2a1d4=_0x16eb1b['querySelector']('h3'),_0x386a17=document[_0x531db0(0x552)](_0x531db0(0x9bb));_0xd2a1d4[_0x531db0(0x37a)]=_0x531db0(0xacd),_0x386a17[_0x531db0(0x37a)]='เลือกและบันทึก';allProjects[_0x531db0(0x636)]===0x0?(_0x2dbc7c[_0x531db0(0x377)]=_0x531db0(0x370),_0x386a17['disabled']=!![]):(_0x2dbc7c['innerHTML']=allProjects['map'](_0x43fc44=>'<option\x20value=\x22'+_0x43fc44['id']+'\x22>'+_0x43fc44[_0x531db0(0x217)]+_0x531db0(0xa0c))[_0x531db0(0xa89)](''),_0x386a17['disabled']=![]);_0x16eb1b['classList'][_0x531db0(0xb01)](_0x531db0(0x9d2));const _0x41f6fd=()=>{const _0xf830c4=_0x531db0,_0x57e5bc=_0x2dbc7c[_0xf830c4(0x203)];_0x57e5bc?(currentProjectId=_0x57e5bc,_0x16eb1b[_0xf830c4(0x4c1)][_0xf830c4(0x350)](_0xf830c4(0x9d2)),saveQuiz(),_0xd2a1d4[_0xf830c4(0x37a)]=_0xf830c4(0x8c7),_0x386a17[_0xf830c4(0x37a)]=_0xf830c4(0x261),_0x386a17[_0xf830c4(0xbaf)]('click',_0x41f6fd),_0x386a17[_0xf830c4(0x224)](_0xf830c4(0x43a),confirmMoveQuiz)):showMessage(_0xf830c4(0x9b6));};_0x386a17['removeEventListener'](_0x531db0(0x43a),confirmMoveQuiz),_0x386a17[_0x531db0(0x224)](_0x531db0(0x43a),_0x41f6fd);}function copyTextToClipboard(_0xb89a03,_0x435086){const _0x3f9d1e=_0x3a383e,_0x138135=document['createElement'](_0x3f9d1e(0xca7));_0x138135[_0x3f9d1e(0x203)]=_0xb89a03,_0x138135[_0x3f9d1e(0x89b)]['position']=_0x3f9d1e(0x169),_0x138135[_0x3f9d1e(0x89b)]['opacity']='0',document[_0x3f9d1e(0x6d4)][_0x3f9d1e(0x367)](_0x138135),_0x138135['focus'](),_0x138135['select']();try{const _0x148379=document['execCommand'](_0x3f9d1e(0x962));showMessage(_0x148379?_0x435086:_0x3f9d1e(0x2b2));}catch(_0x725463){showMessage(_0x3f9d1e(0x2b2)),console[_0x3f9d1e(0x2e9)](_0x3f9d1e(0x506),_0x725463);}document['body']['removeChild'](_0x138135);}function listenForProjectQuizzes(_0x3427aa){const _0x3a3d37=_0x3a383e,_0x16cf07=collection(db,'artifacts/'+appId+_0x3a3d37(0x766)),_0x55d630=query(_0x16cf07,where('projectId','==',_0x3427aa));unsubscribeQuizzesListener=onSnapshot(_0x55d630,async _0x3dbd01=>{const _0x4cd927=_0x3a3d37;allQuizzes=_0x3dbd01['docs'][_0x4cd927(0x75d)](_0x2eb8d1=>({'id':_0x2eb8d1['id'],..._0x2eb8d1[_0x4cd927(0x183)]()})),renderQuizzes();},_0x19585b=>{const _0x294992=_0x3a3d37;console[_0x294992(0x2e9)](_0x294992(0x5fc),_0x19585b),document[_0x294992(0x552)](_0x294992(0x6e4))[_0x294992(0x377)]=_0x294992(0x1d3);});}async function renderQuizzes(){const _0x3e5d6b=_0x3a383e,_0x2415bc=document['getElementById']('project-quizzes-list'),_0x2bdd2f=document['getElementById']('quiz-search-input')[_0x3e5d6b(0x203)][_0x3e5d6b(0x883)]();let _0x442281;currentProjectId===_0x3e5d6b(0x78f)?_0x442281=starredQuizzes:_0x442281=allQuizzes;let _0x57b9c0=_0x442281[_0x3e5d6b(0x499)](_0x3cc919=>_0x3cc919[_0x3e5d6b(0x65f)][_0x3e5d6b(0x883)]()[_0x3e5d6b(0x27b)](_0x2bdd2f));_0x57b9c0[_0x3e5d6b(0xa29)]((_0x5dfc19,_0x27a043)=>new Date(_0x27a043[_0x3e5d6b(0x830)])-new Date(_0x5dfc19['createdAt']));if(_0x57b9c0[_0x3e5d6b(0x636)]===0x0){_0x2415bc[_0x3e5d6b(0x377)]=_0x3e5d6b(0x50e);return;}const _0x3502a7={},_0x4973bb=_0x57b9c0[_0x3e5d6b(0x75d)](async _0x50fca7=>{const _0x5ebbbd=_0x3e5d6b,_0x2d64d6=collection(db,'artifacts/'+appId+_0x5ebbbd(0x847)+_0x50fca7['id']+_0x5ebbbd(0x32e)),_0x2755e9=await getDocs(_0x2d64d6);_0x3502a7[_0x50fca7['id']]=_0x2755e9[_0x5ebbbd(0x836)];});await Promise['all'](_0x4973bb);let _0x1acf4b='';_0x57b9c0['forEach'](_0x58b644=>{const _0x4155ce=_0x3e5d6b,_0x2d1f6b=_0x3502a7[_0x58b644['id']]||0x0,_0x3072d1=_0x58b644[_0x4155ce(0xb09)]||_0x4155ce(0xc45),_0x302719=_0x58b644[_0x4155ce(0x997)]?.[_0x4155ce(0x74a)]||_0x4155ce(0xbde);let _0x1b7dc4='',_0x4a2175='';const _0x5f378c=new Date();let _0x1618e8=_0x3072d1;if(_0x3072d1===_0x4155ce(0x95d)){const _0x2a9d3e=_0x58b644[_0x4155ce(0x8e6)]?new Date(_0x58b644['startTime']):null,_0x2758b5=_0x58b644[_0x4155ce(0x28e)]?new Date(_0x58b644[_0x4155ce(0x28e)]):null;if(_0x2758b5&&_0x5f378c>_0x2758b5)_0x1618e8='inactive';else _0x2a9d3e&&_0x5f378c<_0x2a9d3e?_0x1618e8='scheduled_pending':_0x1618e8=_0x4155ce(0xc45);}switch(_0x1618e8){case _0x4155ce(0xa07):_0x1b7dc4='ปิดใช้งาน',_0x4a2175=_0x4155ce(0x960);break;case _0x4155ce(0x7b1):_0x1b7dc4='รอเปิด',_0x4a2175=_0x4155ce(0x2b4);break;case'active':_0x1b7dc4=_0x302719!==_0x4155ce(0xbde)?_0x4155ce(0x987):_0x4155ce(0x874),_0x4a2175=_0x4155ce(0xa03);break;default:_0x1b7dc4='ตั้งเวลา\x20(เปิด)',_0x4a2175=_0x4155ce(0xa03);break;}let _0x4e6ed7='';const _0x1ba72c={'day':_0x4155ce(0x786),'month':_0x4155ce(0x786),'year':'numeric','hour':_0x4155ce(0x786),'minute':_0x4155ce(0x786),'hour12':![]};if(_0x3072d1===_0x4155ce(0x95d)){if(_0x58b644['startTime'])_0x4e6ed7+=_0x4155ce(0x5a5)+new Date(_0x58b644[_0x4155ce(0x8e6)])[_0x4155ce(0x756)](_0x4155ce(0xbc4),_0x1ba72c)+_0x4155ce(0xb8e);if(_0x58b644[_0x4155ce(0x28e)])_0x4e6ed7+=_0x4155ce(0xc84)+new Date(_0x58b644[_0x4155ce(0x28e)])['toLocaleString'](_0x4155ce(0xbc4),_0x1ba72c)+_0x4155ce(0xb8e);}let _0x3a01f2='';if(_0x58b644[_0x4155ce(0x30e)]){const _0x1efb9c=allQuizzes[_0x4155ce(0x51d)](_0xcfa6da=>_0xcfa6da['id']===_0x58b644[_0x4155ce(0x30e)]);if(_0x1efb9c){let _0x25dcd4,_0x565d3a;new Date(_0x58b644[_0x4155ce(0x830)])<new Date(_0x1efb9c[_0x4155ce(0x830)])?(_0x25dcd4=_0x58b644['id'],_0x565d3a=_0x1efb9c['id']):(_0x25dcd4=_0x1efb9c['id'],_0x565d3a=_0x58b644['id']),_0x3a01f2+=_0x4155ce(0x3ad)+_0x565d3a+'\x22\x20data-pre-test-id=\x22'+_0x25dcd4+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x58b644[_0x4155ce(0x4d9)]==='pre-test'&&(_0x3a01f2+=_0x4155ce(0x728)+_0x58b644['id']+_0x4155ce(0xd07));if(_0x58b644[_0x4155ce(0x4d9)]===_0x4155ce(0x1c1)&&_0x2d1f6b>0x0)_0x3a01f2+=_0x4155ce(0x728)+_0x58b644['id']+_0x4155ce(0x240);else!_0x58b644['pairedQuizId']&&_0x58b644[_0x4155ce(0x4d9)]!==_0x4155ce(0x1c1)&&_0x2d1f6b>0x0&&(_0x3a01f2+=_0x4155ce(0x728)+_0x58b644['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x5062a9='';_0x58b644['pairedQuizId']?_0x5062a9=_0x4155ce(0xa14)+_0x58b644['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x5062a9=_0x4155ce(0xa14)+_0x58b644['id']+_0x4155ce(0xcc4),_0x1acf4b+=_0x4155ce(0x7c2)+_0x58b644['id']+_0x4155ce(0x94a)+_0x58b644[_0x4155ce(0x65f)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x58b644[_0x4155ce(0x5cd)]['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x58b644[_0x4155ce(0x830)])[_0x4155ce(0x756)]('th-TH')+_0x4155ce(0x9d9)+_0x2d1f6b+_0x4155ce(0xb47)+_0x4e6ed7+_0x4155ce(0xc38)+_0x4a2175+'\x22>'+_0x1b7dc4+_0x4155ce(0x497)+_0x58b644['id']+_0x4155ce(0x8c1)+_0x58b644['id']+_0x4155ce(0xcfb)+(_0x58b644[_0x4155ce(0x49d)]?_0x4155ce(0xc30):'far\x20fa-star')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a01f2+_0x4155ce(0x992)+_0x58b644['id']+_0x4155ce(0x518)+_0x58b644['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x58b644['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x58b644['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x58b644['id']+_0x4155ce(0x495)+_0x58b644['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x58b644['id']+_0x4155ce(0xa75)+_0x58b644[_0x4155ce(0x65f)]+_0x4155ce(0xafa)+_0x58b644['id']+_0x4155ce(0x89a)+_0x58b644['id']+_0x4155ce(0x70e)+_0x5062a9+_0x4155ce(0xbd6)+_0x58b644['id']+_0x4155ce(0x525)+_0x58b644['id']+_0x4155ce(0x7b4)+_0x58b644['id']+_0x4155ce(0x5e2)+_0x58b644['id']+_0x4155ce(0x4fe)+_0x58b644['id']+_0x4155ce(0xc01)+_0x58b644['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x58b644['id']+_0x4155ce(0x4bf)+_0x58b644['id']+_0x4155ce(0xa75)+_0x58b644[_0x4155ce(0x65f)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x58b644['id']+_0x4155ce(0x7a6);}),_0x2415bc[_0x3e5d6b(0x377)]=_0x1acf4b,document[_0x3e5d6b(0x3e0)](_0x3e5d6b(0x9ed))[_0x3e5d6b(0x1f5)](_0x39ada2=>{const _0x13a690=_0x3e5d6b;_0x39ada2[_0x13a690(0x224)](_0x13a690(0x43a),()=>{const _0xcfa5e2=_0x13a690,_0x42baef=_0x39ada2[_0xcfa5e2(0x79d)][_0xcfa5e2(0x1e8)];showQuizDetailView(_0x42baef);});});}async function handleUnpairQuiz(_0x2a6d34){const _0x1f8628=_0x3a383e,_0x547ed6=allQuizzes[_0x1f8628(0x51d)](_0x17dd93=>_0x17dd93['id']===_0x2a6d34);if(!_0x547ed6||!_0x547ed6[_0x1f8628(0x30e)]){showMessage(_0x1f8628(0x668));return;}showConfirmation(_0x1f8628(0xac5),async()=>{const _0x206c44=_0x1f8628;try{const _0x2d8ee6=doc(db,_0x206c44(0xc93)+appId+_0x206c44(0x766),_0x2a6d34),_0x18ab98=doc(db,_0x206c44(0xc93)+appId+_0x206c44(0x766),_0x547ed6[_0x206c44(0x30e)]),_0x749d90=writeBatch(db);_0x749d90[_0x206c44(0x1b5)](_0x2d8ee6,{'pairedQuizId':null}),_0x749d90[_0x206c44(0x1b5)](_0x18ab98,{'pairedQuizId':null}),await _0x749d90['commit'](),showMessage(_0x206c44(0x542));}catch(_0x3470a0){console[_0x206c44(0x2e9)](_0x206c44(0x4c9),_0x3470a0),showMessage(_0x206c44(0x90a));}});}function formatAndPrintLessonPlan(_0x865608,_0x5c1872){const _0x1c6fc8=_0x3a383e,_0x270d07=window[_0x1c6fc8(0x358)]('','_blank'),_0x4ea090=_0x1c6fc8(0x1e2)+_0x5c1872[_0x1c6fc8(0x65f)]+_0x1c6fc8(0xb3f)+_0x5c1872[_0x1c6fc8(0x65f)]+_0x1c6fc8(0x645)+_0x865608[_0x1c6fc8(0x6b8)]['map'](_0x285b47=>'<li>'+_0x285b47+_0x1c6fc8(0x797))['join']('')+_0x1c6fc8(0x7e5)+_0x865608[_0x1c6fc8(0x263)]+_0x1c6fc8(0xc55)+_0x865608[_0x1c6fc8(0xb10)]['map'](_0x10596b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x10596b[_0x1c6fc8(0x807)]+_0x1c6fc8(0xa92)+_0x10596b[_0x1c6fc8(0xa31)]+_0x1c6fc8(0x192))[_0x1c6fc8(0xa89)]('')+_0x1c6fc8(0x635);_0x270d07[_0x1c6fc8(0x1a1)][_0x1c6fc8(0xb52)](_0x4ea090),_0x270d07['document'][_0x1c6fc8(0x33b)](),_0x270d07[_0x1c6fc8(0xb22)]=function(){setTimeout(()=>{const _0x58dc7f=_0x35c4;_0x270d07[_0x58dc7f(0x16b)]();},0x3e8);};}async function handleAiFixFormula(_0x637f04){const _0x1528a7=_0x3a383e,_0x3aa495=document[_0x1528a7(0x972)](_0x1528a7(0x4c2)+_0x637f04+'\x22]');if(!_0x3aa495)return;const _0xdbfeba=_0x3aa495['dataset'][_0x1528a7(0x9df)],_0x26a6d7=_0x3aa495[_0x1528a7(0x972)]('.ai-fix-formula-btn');let _0x535d68={'question':_0x3aa495['querySelector'](_0x1528a7(0xca7))[_0x1528a7(0x203)]};switch(_0xdbfeba){case _0x1528a7(0x2df):_0x535d68[_0x1528a7(0xb70)]=Array[_0x1528a7(0x659)](_0x3aa495[_0x1528a7(0x3e0)](_0x1528a7(0x3f3)))[_0x1528a7(0x75d)](_0x492cb4=>_0x492cb4[_0x1528a7(0x203)]);break;case'short_answer':_0x535d68[_0x1528a7(0x572)]=_0x3aa495[_0x1528a7(0x972)](_0x1528a7(0x6b7))['value'];break;case _0x1528a7(0x4b4):_0x535d68[_0x1528a7(0x8b9)]=_0x3aa495[_0x1528a7(0x972)](_0x1528a7(0xbe3))['value'];break;}_0x26a6d7[_0x1528a7(0x377)]=_0x1528a7(0xca0),_0x26a6d7[_0x1528a7(0x7ce)]=!![];try{const _0x2d73fa=_0x1528a7(0x6ce)+JSON['stringify'](_0x535d68)+_0x1528a7(0x7dc),_0x3c5f7d={'type':_0x1528a7(0x695),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x1528a7(0x6d8)},'options':{'type':_0x1528a7(0x159),'items':{'type':_0x1528a7(0x6d8)}},'idealAnswer':{'type':_0x1528a7(0x6d8)},'correctResponse':{'type':'STRING'}},'required':[_0x1528a7(0x807)]}},'required':[_0x1528a7(0x840)]},_0x4986ee=await callAnalysisApi(_0x2d73fa,_0x3c5f7d);if(_0x4986ee&&_0x4986ee[_0x1528a7(0x840)]){const _0x27317b=_0x4986ee['fixedData'];_0x3aa495[_0x1528a7(0x972)](_0x1528a7(0xca7))['value']=_0x27317b[_0x1528a7(0x807)]||_0x535d68[_0x1528a7(0x807)];switch(_0xdbfeba){case'multiple_choice':_0x27317b['options']&&_0x27317b[_0x1528a7(0xb70)][_0x1528a7(0x636)]>0x0&&_0x3aa495['querySelectorAll'](_0x1528a7(0x3f3))[_0x1528a7(0x1f5)]((_0x5f1b93,_0x594925)=>{const _0x5247e8=_0x1528a7;_0x5f1b93[_0x5247e8(0x203)]=_0x27317b[_0x5247e8(0xb70)][_0x594925]||_0x535d68[_0x5247e8(0xb70)][_0x594925];});break;case _0x1528a7(0x952):_0x3aa495['querySelector']('.ideal-answer-input')[_0x1528a7(0x203)]=_0x27317b[_0x1528a7(0x572)]||_0x535d68[_0x1528a7(0x572)];break;case'matching_item':_0x3aa495[_0x1528a7(0x972)](_0x1528a7(0xbe3))[_0x1528a7(0x203)]=_0x27317b['correctResponse']||_0x535d68[_0x1528a7(0x8b9)];break;}if(_0x535d68[_0x1528a7(0x807)]!==_0x27317b[_0x1528a7(0x807)])try{const _0x2745a2=collection(db,_0x1528a7(0xc93)+appId+_0x1528a7(0xa43));await addDoc(_0x2745a2,{'broken':_0x535d68[_0x1528a7(0x807)],'fixed':_0x27317b['question'],'createdAt':serverTimestamp()});}catch(_0x824b4a){console[_0x1528a7(0x2e9)](_0x1528a7(0x8f2),_0x824b4a);}showMessage(_0x1528a7(0xa0a));}else throw new Error(_0x1528a7(0xab3));}catch(_0x447423){console[_0x1528a7(0x2e9)](_0x1528a7(0xb86),_0x447423),showMessage(_0x1528a7(0x98b));}finally{_0x26a6d7['innerHTML']=_0x1528a7(0x2aa),_0x26a6d7['disabled']=![];}}async function handleGenerateLessonPlan(_0x320311){const _0x4985eb=_0x3a383e;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x4c9c80=doc(db,_0x4985eb(0xc93)+appId+_0x4985eb(0x766),_0x320311),_0x874daf=await getDoc(_0x4c9c80);if(!_0x874daf[_0x4985eb(0x837)]())throw new Error(_0x4985eb(0x8a4));const _0x41e347={'id':_0x320311,..._0x874daf[_0x4985eb(0x183)]()},_0x8c15bc=collection(db,_0x4985eb(0xc93)+appId+_0x4985eb(0x766),_0x320311,'submissions'),_0xcd25df=await getDocs(_0x8c15bc),_0x5d6df1=_0xcd25df['docs'][_0x4985eb(0x75d)](_0x40cb3a=>_0x40cb3a[_0x4985eb(0x183)]());if(_0x5d6df1[_0x4985eb(0x636)]===0x0)throw new Error(_0x4985eb(0x38e));const _0x3bd17e=calculateItemAnalysis(_0x41e347,_0x5d6df1)[_0x4985eb(0x489)],_0xdf80c0=calculateDistractorAnalysis(_0x41e347,_0x5d6df1),_0x2cb45a=_0x526591=>{const _0x257e75=_0x4985eb;if(!_0x526591)return'';return _0x526591[_0x257e75(0xbc5)](/\\/g,'\x5c\x5c')[_0x257e75(0xbc5)](/"/g,'\x5c\x22')[_0x257e75(0xbc5)](/\n/g,'\x5cn');};let _0x145cf7=_0x4985eb(0xb0b);_0x41e347[_0x4985eb(0x5cd)][_0x4985eb(0x1f5)]((_0x5ec88,_0x2d2841)=>{const _0x3f6d58=_0x4985eb,_0x5f49ae=_0x3bd17e[_0x2d2841]?.['p'][_0x3f6d58(0x163)](0x2)||_0x3f6d58(0x484),_0xcdee30=_0x3bd17e[_0x2d2841]?.['r']['toFixed'](0x2)||_0x3f6d58(0x484),_0xa4dc33=_0x2cb45a(_0x5ec88['questionText']||_0x5ec88[_0x3f6d58(0x2a5)]);_0x145cf7+=_0x3f6d58(0x2f1)+(_0x2d2841+0x1)+_0x3f6d58(0x378)+_0x5f49ae+_0x3f6d58(0x808)+_0xcdee30+'):\x20'+_0xa4dc33+'\x5cn';if(_0x5ec88[_0x3f6d58(0x5be)]===_0x3f6d58(0x2df)&&_0xdf80c0[_0x2d2841]){const _0x39e69b=_0xdf80c0[_0x2d2841],_0xcbaa5b=Object[_0x3f6d58(0xb17)](_0x39e69b)[_0x3f6d58(0x499)](_0x5e519c=>parseInt(_0x5e519c)!==_0x5ec88['correctAnswerIndex'])[_0x3f6d58(0xa29)]((_0x36443e,_0xb678ee)=>_0x39e69b[_0xb678ee][_0x3f6d58(0xafd)]-_0x39e69b[_0x36443e][_0x3f6d58(0xafd)])[0x0];if(_0xcbaa5b&&_0x39e69b[_0xcbaa5b][_0x3f6d58(0xafd)]>0x0){const _0x1a5962=_0x2cb45a(_0x39e69b[_0xcbaa5b][_0x3f6d58(0x5f4)]);_0x145cf7+=_0x3f6d58(0x2b7)+_0x1a5962+'\x22\x5cn';}}});const _0x634766='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x41e347[_0x4985eb(0x65f)]+_0x4985eb(0x881)+_0x145cf7+_0x4985eb(0xcb7),_0x2340e1={'type':_0x4985eb(0x695),'properties':{'learningGaps':{'type':_0x4985eb(0x159),'items':{'type':'STRING'}},'teachingContent':{'type':_0x4985eb(0x6d8)},'practiceProblems':{'type':_0x4985eb(0x159),'items':{'type':'OBJECT','properties':{'question':{'type':_0x4985eb(0x6d8)},'solution':{'type':_0x4985eb(0x6d8)}}}}},'required':['learningGaps',_0x4985eb(0x263),_0x4985eb(0xb10)]},_0x1a520b=await callAnalysisApi(_0x634766,_0x2340e1);await updateDoc(_0x4c9c80,{'lessonPlan':_0x1a520b});const _0x5dcadc=_0x4985eb(0x947)+_0x41e347[_0x4985eb(0x65f)]+_0x4985eb(0x80a)+_0x1a520b[_0x4985eb(0x6b8)][_0x4985eb(0x75d)](_0x309fe4=>'<li>'+_0x309fe4+_0x4985eb(0x797))[_0x4985eb(0xa89)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x1a520b[_0x4985eb(0x263)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x1a520b[_0x4985eb(0xb10)][_0x4985eb(0x75d)](_0x1f62d7=>_0x4985eb(0x256)+_0x1f62d7[_0x4985eb(0x807)]+_0x4985eb(0x2d7)+_0x1f62d7[_0x4985eb(0xa31)]+'</p></div>')[_0x4985eb(0xa89)]('')+_0x4985eb(0x2d1);document[_0x4985eb(0x552)](_0x4985eb(0x5ab))['textContent']=_0x4985eb(0x4d6)+_0x41e347[_0x4985eb(0x65f)],document[_0x4985eb(0x552)](_0x4985eb(0x51a))[_0x4985eb(0x377)]=_0x5dcadc,document[_0x4985eb(0x552)](_0x4985eb(0x455))['classList']['remove'](_0x4985eb(0x9d2));if(window[_0x4985eb(0xc8b)])MathJax['typesetPromise']();messageModal[_0x4985eb(0x4c1)]['add']('hidden');}catch(_0x310a90){console[_0x4985eb(0x2e9)](_0x4985eb(0x2c1),_0x310a90),showMessage(_0x4985eb(0x9be)+_0x310a90[_0x4985eb(0x2db)]);}}async function handleDuplicateQuiz(_0x1180da){const _0x3bb4ad=_0x3a383e;try{const _0xeaf3b6=doc(db,'artifacts/'+appId+_0x3bb4ad(0x766),_0x1180da),_0x1be3ef=await getDoc(_0xeaf3b6);if(_0x1be3ef[_0x3bb4ad(0x837)]()){const _0x2ce23b=_0x1be3ef[_0x3bb4ad(0x183)]();let _0x9f07be='',_0x36c4b2=_0x3bb4ad(0x218),_0x43ae84=null;if(_0x2ce23b[_0x3bb4ad(0x4d9)]===_0x3bb4ad(0x1c1)){let _0x3a5cd0=_0x2ce23b[_0x3bb4ad(0x65f)][_0x3bb4ad(0xbc5)](_0x3bb4ad(0xb62),'')['trim']();_0x9f07be=_0x3bb4ad(0x371)+_0x3a5cd0,_0x36c4b2='post-test',_0x43ae84=_0x1180da;}else _0x9f07be=_0x3bb4ad(0x37b)+_0x2ce23b[_0x3bb4ad(0x65f)];const _0x3cddae={..._0x2ce23b,'topic':_0x9f07be,'createdAt':new Date()['toISOString'](),'quizMode':_0x36c4b2,'pairedQuizId':_0x43ae84};let _0x29bcc4;while(!![]){_0x29bcc4=Math['floor'](0x3e8+Math[_0x3bb4ad(0x9f5)]()*0x2328)['toString']();const _0xe5abd7=await getDoc(doc(db,'artifacts/'+appId+_0x3bb4ad(0x766),_0x29bcc4));if(!_0xe5abd7[_0x3bb4ad(0x837)]())break;}const _0x58c90a=doc(db,_0x3bb4ad(0xc93)+appId+_0x3bb4ad(0x766),_0x29bcc4);await setDoc(_0x58c90a,_0x3cddae),_0x3cddae[_0x3bb4ad(0x4d9)]===_0x3bb4ad(0x334)&&await updateDoc(_0xeaf3b6,{'pairedQuizId':_0x29bcc4}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x3bb4ad(0xa69));}catch(_0x20f246){console['error'](_0x3bb4ad(0x42a),_0x20f246),showMessage(_0x3bb4ad(0x467));}}async function handleDeleteQuiz(_0x140811,_0x3313b9=!![]){const _0xcffe84=_0x3a383e;try{const _0x421101=writeBatch(db),_0x4f2e1d=collection(db,_0xcffe84(0xc93)+appId+_0xcffe84(0x847)+_0x140811+_0xcffe84(0x32e)),_0x4cce5f=await getDocs(_0x4f2e1d);_0x4cce5f['forEach'](_0x496493=>{const _0x2c0007=_0xcffe84;_0x421101[_0x2c0007(0x28d)](doc(_0x4f2e1d,_0x496493['id']));});const _0x2b4c3c=doc(db,_0xcffe84(0xc93)+appId+_0xcffe84(0x766),_0x140811);_0x421101['delete'](_0x2b4c3c),await _0x421101['commit']();try{console[_0xcffe84(0x3ab)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x140811+_0xcffe84(0xceb));const _0x5b070b=collection(db,_0xcffe84(0xc93)+appId+'/public/data/blueprintProjects'),_0xdc7c72=await getDocs(_0x5b070b),_0x516b17=[];_0xdc7c72[_0xcffe84(0x1f5)](_0x84cd05=>{const _0x462e84=_0xcffe84,_0x4b5c45=_0x84cd05[_0x462e84(0x183)](),_0x412818=_0x4b5c45['topics']||{};let _0x211e6a=![];for(const _0x5a92ae in _0x412818){const _0x5323c9=_0x412818[_0x5a92ae];if(_0x5323c9['linkedQuizIds']&&_0x5323c9[_0x462e84(0xce8)]['includes'](_0x140811)){_0x211e6a=!![];const _0x4c3797=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x84cd05['id']),_0xfa8f72=updateDoc(_0x4c3797,{[_0x462e84(0xa00)+_0x5a92ae+_0x462e84(0x195)]:arrayRemove(_0x140811)});_0x516b17[_0x462e84(0x321)](_0xfa8f72);}}}),_0x516b17['length']>0x0&&(await Promise['all'](_0x516b17),console[_0xcffe84(0x3ab)](_0xcffe84(0x219)+_0x516b17[_0xcffe84(0x636)]+_0xcffe84(0x58d)+_0x140811+'.'));}catch(_0x56fa31){console[_0xcffe84(0x2e9)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x56fa31);}_0x3313b9&&showMessage(_0xcffe84(0x340));}catch(_0x21117c){console[_0xcffe84(0x2e9)]('Error\x20deleting\x20quiz:',_0x21117c),_0x3313b9&&showMessage(_0xcffe84(0xc62));}}async function showQuizDetailView(_0x19b373){const _0x2eb392=_0x3a383e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2eb392(0x8de));try{const _0x21bac7=doc(db,_0x2eb392(0xc93)+appId+_0x2eb392(0x766),_0x19b373),_0x10fe85=await getDoc(_0x21bac7);if(!_0x10fe85[_0x2eb392(0x837)]()){showMessage(_0x2eb392(0x8a4));return;}const _0x1ff56e={'id':_0x10fe85['id'],..._0x10fe85[_0x2eb392(0x183)]()};currentQuizData=_0x1ff56e;const _0x9fcaa7=doc(db,_0x2eb392(0xc93)+appId+_0x2eb392(0x5c5),_0x1ff56e['projectId']),_0x5a0962=await getDoc(_0x9fcaa7);_0x5a0962[_0x2eb392(0x837)]()?(currentProjectData=_0x5a0962[_0x2eb392(0x183)](),currentProjectId=_0x1ff56e[_0x2eb392(0x88a)]):(currentProjectData={'students':[]},currentProjectId=_0x1ff56e[_0x2eb392(0x88a)]);document[_0x2eb392(0x552)](_0x2eb392(0x5a6))[_0x2eb392(0x37a)]=_0x1ff56e['topic'],document[_0x2eb392(0x552)](_0x2eb392(0x9c3))[_0x2eb392(0x37a)]=_0x19b373;const _0x4013db=collection(db,_0x2eb392(0xc93)+appId+_0x2eb392(0x766),_0x19b373,_0x2eb392(0xbed));unsubscribeSubmissionsListener=onSnapshot(_0x4013db,_0x38ca8d=>{const _0x15a8c9=_0x2eb392,_0x98f58=_0x38ca8d['docs'][_0x15a8c9(0x75d)](_0x1c745d=>({'id':_0x1c745d['id'],..._0x1c745d[_0x15a8c9(0x183)]()}));currentSubmissions=_0x98f58;const _0x1b9cf4=_0x98f58['filter'](_0x4b7078=>_0x4b7078[_0x15a8c9(0x61f)]&&_0x4b7078[_0x15a8c9(0x61f)][_0x15a8c9(0x636)]>0x0);renderBehaviorLog(_0x98f58),renderAnswerGrid(currentProjectData[_0x15a8c9(0x748)],_0x1b9cf4,_0x1ff56e),renderAnalytics(_0x1ff56e,_0x1b9cf4),renderQuizResultsTable(currentProjectData[_0x15a8c9(0x748)],_0x98f58,_0x1ff56e),renderQuizLeaderboard(_0x1b9cf4,_0x1ff56e,_0x15a8c9(0xae9));}),showView(_0x2eb392(0x8eb));}catch(_0x5a1d7c){console[_0x2eb392(0x2e9)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5a1d7c),showMessage(_0x2eb392(0x81e));}}function renderAnswerGrid(_0x41f4e7,_0x59fda1,_0x1193b7){const _0x23bbc2=_0x3a383e,_0xdbb4a9=document['getElementById'](_0x23bbc2(0x7a3));if(!_0xdbb4a9)return;if(!_0x41f4e7||_0x41f4e7[_0x23bbc2(0x636)]===0x0){_0xdbb4a9[_0x23bbc2(0x377)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x35987c=_0x1193b7[_0x23bbc2(0x5cd)],_0x2c6ef1=_0x59fda1['reduce']((_0x502b33,_0x24a5e6)=>{const _0xff4481=_0x23bbc2;return _0x502b33[_0x24a5e6[_0xff4481(0x247)]]=_0x24a5e6,_0x502b33;},{}),_0x480c0a=_0x76287c=>String[_0x23bbc2(0x6ee)](0x41+_0x76287c),_0x4f3e02=_0x376f78=>{const _0x1755c1=_0x23bbc2,_0x3b72a6=_0x376f78[_0x1755c1(0x5be)]||_0x1193b7['quizType'];switch(_0x3b72a6){case _0x1755c1(0x2df):return _0x376f78[_0x1755c1(0xb70)]&&_0x376f78[_0x1755c1(0xb70)][_0x1755c1(0x636)]>_0x376f78[_0x1755c1(0xb21)]?_0x480c0a(_0x376f78[_0x1755c1(0xb21)]):'-';case _0x1755c1(0x631):const _0xfeb6f4=_0x376f78[_0x1755c1(0x207)]===!![]||String(_0x376f78[_0x1755c1(0x207)])[_0x1755c1(0x883)]()==='true';return _0xfeb6f4?'ใช่':_0x1755c1(0x624);case _0x1755c1(0x4b4):return _0x376f78[_0x1755c1(0x8b9)]||'-';case _0x1755c1(0x952):return _0x1755c1(0x18f);default:return'-';}},_0x32ab87=(_0x579588,_0x10e86b)=>{const _0x5bd129=_0x23bbc2;if(_0x10e86b[_0x5bd129(0xa51)]===null||_0x10e86b[_0x5bd129(0xa51)]===undefined)return'-';const _0x5cfdc1=_0x579588['questionType']||_0x1193b7['quizType'];switch(_0x5cfdc1){case _0x5bd129(0x2df):const _0x572e22=_0x579588[_0x5bd129(0xb70)]['findIndex'](_0x3799cf=>_0x3799cf===_0x10e86b[_0x5bd129(0x43f)]);return _0x572e22!==-0x1?_0x480c0a(_0x572e22):_0x10e86b[_0x5bd129(0x43f)]||'-';case _0x5bd129(0x631):if(_0x10e86b[_0x5bd129(0xa51)]=='0'||_0x10e86b[_0x5bd129(0xa51)]===!![]||_0x10e86b[_0x5bd129(0xa51)]===_0x5bd129(0xcb5))return _0x5bd129(0xaba);return'ไม่ใช่';default:return _0x10e86b[_0x5bd129(0xa51)];}};let _0x2fa783=_0x23bbc2(0xa84)+_0x35987c[_0x23bbc2(0x75d)]((_0x236cec,_0x474011)=>_0x23bbc2(0x832)+(_0x474011+0x1)+_0x23bbc2(0x401))['join']('')+_0x23bbc2(0x437)+_0x35987c['map'](_0x58dd45=>_0x23bbc2(0x5e3)+_0x4f3e02(_0x58dd45)+'</td>')[_0x23bbc2(0xa89)]('')+_0x23bbc2(0xae8);_0x41f4e7[_0x23bbc2(0x1f5)](_0x1eb7de=>{const _0x28c91a=_0x23bbc2;_0x2fa783+=_0x28c91a(0x496),_0x2fa783+=_0x28c91a(0x5cb)+_0x1eb7de+_0x28c91a(0xcc9);const _0x52d329=_0x2c6ef1[_0x1eb7de];if(_0x52d329){const _0x24b10c=_0x52d329[_0x28c91a(0x61f)][_0x52d329[_0x28c91a(0x61f)][_0x28c91a(0x636)]-0x1];_0x35987c[_0x28c91a(0x1f5)]((_0x3eaac8,_0xc0c171)=>{const _0x281ed1=_0x28c91a,_0xed5907=_0x24b10c[_0x281ed1(0x7b5)]['find'](_0x393f98=>_0x393f98[_0x281ed1(0xba1)]===_0x3eaac8['id']);if(_0xed5907){let _0x58da6e='';const _0x5f9ec1=_0xed5907[_0x281ed1(0x1c8)]===!![],_0x183f5c=_0xed5907[_0x281ed1(0x36c)]===!![]||_0xed5907[_0x281ed1(0x36c)]==='confident';_0x183f5c?_0x58da6e=_0x5f9ec1?_0x281ed1(0x61a):_0x281ed1(0x32d):_0x58da6e=_0x5f9ec1?_0x281ed1(0x531):_0x281ed1(0x81c),_0x2fa783+=_0x281ed1(0xb33)+_0x58da6e+'\x22>'+_0x32ab87(_0x3eaac8,_0xed5907)+_0x281ed1(0xcc9);}else _0x2fa783+=_0x281ed1(0x53e);});}else _0x2fa783+=_0x35987c[_0x28c91a(0x75d)](()=>_0x28c91a(0x792))[_0x28c91a(0xa89)]('');_0x2fa783+=_0x28c91a(0x5c1);}),_0x2fa783+=_0x23bbc2(0x6d1),_0xdbb4a9['innerHTML']=_0x2fa783;}function renderQuizResultsTable(_0x3090b1,_0x2c3524,_0x1d787d){const _0x24915e=_0x3a383e,_0x2238ef=_0x2c3524[_0x24915e(0x67f)]((_0x553616,_0x340325)=>{const _0x127a66=_0x24915e;return _0x553616[_0x340325[_0x127a66(0x247)]]=_0x340325,_0x553616;},{}),_0x16602f=document[_0x24915e(0x972)](_0x24915e(0x966));_0x16602f&&!_0x16602f[_0x24915e(0x377)][_0x24915e(0x27b)](_0x24915e(0xc99))&&(_0x16602f['innerHTML']+=_0x24915e(0x490));const _0x35b463=document[_0x24915e(0x552)](_0x24915e(0x449));if(!_0x3090b1||_0x3090b1[_0x24915e(0x636)]===0x0){_0x35b463[_0x24915e(0x377)]=_0x24915e(0x85f);return;}const _0x157bf0=_0x1d787d['isRemedial']===!![],_0x2bfd7d=_0x1d787d[_0x24915e(0x997)]?.[_0x24915e(0xa32)]??-0x1;let _0x11c989='';_0x3090b1[_0x24915e(0x1f5)](_0x2909c0=>{const _0x5ac616=_0x24915e,_0x3a5619=_0x2238ef[_0x2909c0];let _0x1de369=_0x5ac616(0xaea)+(_0x157bf0?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x157bf0?_0x5ac616(0xc98):_0x5ac616(0x768))+_0x5ac616(0x28f);if(_0x3a5619){if(_0x3a5619[_0x5ac616(0x61f)]&&_0x3a5619[_0x5ac616(0x61f)]['length']>0x0){let _0x396731=_0x157bf0?_0x3a5619[_0x5ac616(0x313)]===_0x3a5619['totalQuestions']:_0x2bfd7d!==-0x1&&_0x3a5619[_0x5ac616(0x313)]>=_0x2bfd7d;const _0x4f9012=_0x396731?_0x5ac616(0x83b):'bg-red-100\x20text-red-800',_0x1de876=_0x396731?_0x5ac616(0xbe7):_0x5ac616(0x720),_0x2ef42d='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x4f9012+'\x22>'+_0x1de876+'</span></td>',_0x3892a5=_0x5ac616(0x9e8)+(_0x3a5619['attempts']?.['length']||0x1)+_0x5ac616(0x379);_0x11c989+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2909c0+_0x5ac616(0x729)+_0x3a5619[_0x5ac616(0x313)]+_0x5ac616(0x5e1)+_0x3a5619['totalQuestions']+_0x5ac616(0x522)+_0x2ef42d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1de369+_0x5ac616(0xbb3)+_0x3a5619['firstScore']+_0x5ac616(0x5e1)+_0x3a5619['totalQuestions']+_0x5ac616(0xc04)+_0x3a5619[_0x5ac616(0xc14)]+_0x5ac616(0x5e1)+_0x3a5619[_0x5ac616(0x835)]+_0x5ac616(0x27d)+(_0x3a5619['points']||0x0)+_0x5ac616(0x522)+_0x3892a5+_0x5ac616(0x19d)+new Date(_0x3a5619[_0x5ac616(0xc65)])[_0x5ac616(0x756)](_0x5ac616(0xbc4))+_0x5ac616(0x46f)+_0x2909c0+_0x5ac616(0x5e7);}else{const _0x378c28='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x11c989+=_0x5ac616(0xba5)+_0x2909c0+_0x5ac616(0x3a6)+_0x1de369+_0x5ac616(0x4c4)+_0x378c28+_0x5ac616(0x19d)+new Date(_0x3a5619['startedAt'])['toLocaleString'](_0x5ac616(0xbc4))+_0x5ac616(0x3eb)+_0x2909c0+_0x5ac616(0x5e7);}}else{const _0x457044=_0x5ac616(0x519);_0x11c989+=_0x5ac616(0xb68)+_0x2909c0+_0x5ac616(0xb57)+_0x1de369+_0x5ac616(0xa5b)+_0x457044+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x35b463[_0x24915e(0x377)]=_0x11c989;}async function confirmRenameQuiz(){const _0x7c603a=_0x3a383e,_0x7e3f0d=document['getElementById'](_0x7c603a(0x362))['value']['trim']();if(!_0x7e3f0d){showMessage(_0x7c603a(0x1fa));return;}if(!actionTargetId)return;const _0x5ac4f2=doc(db,_0x7c603a(0xc93)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x5ac4f2,{'topic':_0x7e3f0d}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x7c603a(0x4c1)][_0x7c603a(0x350)](_0x7c603a(0x9d2)),actionTargetId=null;}catch(_0x96af71){console['error']('Error\x20renaming\x20quiz:',_0x96af71),showMessage(_0x7c603a(0xc28));}}async function handleMoveQuiz(_0x48ee62){const _0x27cf83=_0x3a383e;actionTargetId=_0x48ee62;const _0x1221b0=document['getElementById'](_0x27cf83(0x59d));_0x1221b0['innerHTML']=_0x27cf83(0x40b),moveQuizModal['classList'][_0x27cf83(0xb01)](_0x27cf83(0x9d2));try{const _0x426217=collection(db,'artifacts/'+appId+_0x27cf83(0x5c5)),_0x567758=await getDocs(_0x426217),_0x52b7a4=_0x567758['docs'][_0x27cf83(0x75d)](_0x172351=>({'id':_0x172351['id'],..._0x172351['data']()})),_0x3cfaba=_0x52b7a4[_0x27cf83(0x499)](_0x450364=>_0x450364['id']!==currentProjectId);if(_0x3cfaba[_0x27cf83(0x636)]===0x0){_0x1221b0['innerHTML']=_0x27cf83(0x1d8),document[_0x27cf83(0x552)](_0x27cf83(0x9bb))['disabled']=!![];return;}_0x1221b0[_0x27cf83(0x377)]=_0x3cfaba[_0x27cf83(0x75d)](_0x2c7b88=>_0x27cf83(0x7dd)+_0x2c7b88['id']+'\x22>'+_0x2c7b88[_0x27cf83(0x217)]+_0x27cf83(0xa0c))[_0x27cf83(0xa89)](''),document[_0x27cf83(0x552)](_0x27cf83(0x9bb))[_0x27cf83(0x7ce)]=![];}catch(_0x58dca0){console[_0x27cf83(0x2e9)]('Error\x20fetching\x20projects\x20for\x20move:',_0x58dca0),showMessage(_0x27cf83(0xc4c)),moveQuizModal['classList'][_0x27cf83(0x350)]('hidden');}}async function confirmMoveQuiz(){const _0x3afd74=_0x3a383e,_0x5c3939=document['getElementById'](_0x3afd74(0x59d))['value'];if(!_0x5c3939){showMessage(_0x3afd74(0x680));return;}if(!actionTargetId)return;const _0x4f9a0a=doc(db,_0x3afd74(0xc93)+appId+_0x3afd74(0x766),actionTargetId);try{await updateDoc(_0x4f9a0a,{'projectId':_0x5c3939}),showMessage(_0x3afd74(0x5f7)),moveQuizModal[_0x3afd74(0x4c1)]['add'](_0x3afd74(0x9d2)),actionTargetId=null;}catch(_0x2192d7){console[_0x3afd74(0x2e9)]('Error\x20moving\x20quiz:',_0x2192d7),showMessage(_0x3afd74(0x704));}}async function handleQuizSettings(_0x20224d){const _0xc066bd=_0x3a383e;actionTargetId=_0x20224d;const _0x4cc894=doc(db,_0xc066bd(0xc93)+appId+'/public/data/quizzes',_0x20224d);try{const _0x43886a=await getDoc(_0x4cc894);if(_0x43886a[_0xc066bd(0x837)]()){const _0x583f34=_0x43886a[_0xc066bd(0x183)](),_0x1f5bbf=_0x583f34['settings']||{},_0x5011c4=_0x583f34[_0xc066bd(0x5cd)][_0xc066bd(0x636)];document[_0xc066bd(0x552)](_0xc066bd(0x607))[_0xc066bd(0x203)]=_0x1f5bbf[_0xc066bd(0xa93)]||_0xc066bd(0xbde),document['getElementById'](_0xc066bd(0x3f0))[_0xc066bd(0x203)]=_0x1f5bbf['resultsDisplay']||_0xc066bd(0x9ff),document['getElementById']('modal-timer-mode-select')[_0xc066bd(0x203)]=_0x1f5bbf['timerMode']||_0xc066bd(0xbde),document['getElementById']('modal-timer-duration-input')[_0xc066bd(0x203)]=_0x1f5bbf[_0xc066bd(0x22c)]||0xa,document[_0xc066bd(0x552)]('modal-passing-score-input')[_0xc066bd(0x203)]=_0x1f5bbf[_0xc066bd(0xa32)]||Math[_0xc066bd(0x429)](_0x5011c4/0x2),document[_0xc066bd(0x552)](_0xc066bd(0x4cf))[_0xc066bd(0x38c)]=_0x5011c4,document['getElementById']('modal-adaptive-quiz-checkbox')[_0xc066bd(0xd08)]=_0x1f5bbf[_0xc066bd(0x2a1)]||![],document[_0xc066bd(0x552)](_0xc066bd(0xb63))[_0xc066bd(0xd08)]=_0x1f5bbf['loopUntilPass']||![];const _0x4fe232=_0x1f5bbf[_0xc066bd(0x7fa)]||![];document['getElementById'](_0xc066bd(0x9e9))[_0xc066bd(0xd08)]=_0x4fe232,document[_0xc066bd(0x552)]('modal-confidence-mode-select')[_0xc066bd(0x203)]=_0x1f5bbf['confidenceMode']||_0xc066bd(0x55b);const _0x31fbf7=document['getElementById']('modal-confidence-mode-container');_0x31fbf7[_0xc066bd(0x4c1)][_0xc066bd(0x818)](_0xc066bd(0x9d2),!_0x4fe232),document['getElementById'](_0xc066bd(0xc9f))[_0xc066bd(0x4b2)](new Event(_0xc066bd(0x52b))),quizSettingsModal['classList'][_0xc066bd(0xb01)]('hidden');}else showMessage(_0xc066bd(0x8a4));}catch(_0x9972ab){console[_0xc066bd(0x2e9)](_0xc066bd(0x546),_0x9972ab),showMessage(_0xc066bd(0x888));}}async function confirmQuizSettings(){const _0x262d81=_0x3a383e;if(!actionTargetId)return;const _0x5e7aba=doc(db,_0x262d81(0xc93)+appId+'/public/data/quizzes',actionTargetId),_0x10f00c={'shuffle':document[_0x262d81(0x552)]('modal-shuffle-select')[_0x262d81(0x203)],'resultsDisplay':document[_0x262d81(0x552)](_0x262d81(0x3f0))[_0x262d81(0x203)],'timerMode':document[_0x262d81(0x552)](_0x262d81(0xc9f))[_0x262d81(0x203)],'timerDuration':parseInt(document[_0x262d81(0x552)](_0x262d81(0x87e))[_0x262d81(0x203)])||0xa,'passingScore':parseInt(document[_0x262d81(0x552)](_0x262d81(0x4cf))[_0x262d81(0x203)])||0x0,'isAdaptive':document[_0x262d81(0x552)](_0x262d81(0x475))['checked'],'loopUntilPass':document[_0x262d81(0x552)]('modal-loop-until-pass-checkbox')[_0x262d81(0xd08)],'isConfidenceScoringEnabled':document[_0x262d81(0x552)](_0x262d81(0x9e9))[_0x262d81(0xd08)],'confidenceMode':document[_0x262d81(0x552)]('modal-confidence-mode-select')[_0x262d81(0x203)]};try{await updateDoc(_0x5e7aba,{'settings':_0x10f00c}),showMessage(_0x262d81(0x83f)),quizSettingsModal[_0x262d81(0x4c1)]['add']('hidden'),actionTargetId=null;}catch(_0x33c297){console['error'](_0x262d81(0xb13),_0x33c297),showMessage(_0x262d81(0x492));}}async function confirmQuizStatus(){const _0x27a31d=_0x3a383e;if(!actionTargetId)return;const _0x2aa3d5=doc(db,_0x27a31d(0xc93)+appId+_0x27a31d(0x766),actionTargetId),_0x43cd0a=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x43cd0a){showMessage(_0x27a31d(0xc13));return;}const _0x7da72e=_0x43cd0a[_0x27a31d(0x203)];let _0x517fa1={};if(_0x7da72e===_0x27a31d(0xc45)||_0x7da72e===_0x27a31d(0xa07))_0x517fa1={'status':_0x7da72e,'startTime':null,'endTime':null};else{if(_0x7da72e===_0x27a31d(0xa2c)){const _0x518ece=document[_0x27a31d(0x552)](_0x27a31d(0x445))[_0x27a31d(0x203)],_0x405b66=document[_0x27a31d(0x552)](_0x27a31d(0x66a))[_0x27a31d(0x203)];if(!_0x518ece&&!_0x405b66){showMessage(_0x27a31d(0xad3));return;}_0x517fa1={'status':_0x27a31d(0x95d),'startTime':_0x518ece?new Date(_0x518ece)[_0x27a31d(0x6f2)]():null,'endTime':_0x405b66?new Date(_0x405b66)[_0x27a31d(0x6f2)]():null};}}try{await updateDoc(_0x2aa3d5,_0x517fa1),showMessage(_0x27a31d(0x64f)),quizStatusModal[_0x27a31d(0x4c1)][_0x27a31d(0x350)]('hidden'),actionTargetId=null;}catch(_0x2b3f33){console[_0x27a31d(0x2e9)](_0x27a31d(0x5de),_0x2b3f33),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x8f958f){const _0x5b227e=_0x3a383e,_0x56653c=collection(db,_0x5b227e(0xc93)+appId+_0x5b227e(0x5d8)+_0x8f958f+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x56653c,_0x4ad047=>{const _0x52f414=_0x5b227e,_0x4d3a4c=_0x4ad047[_0x52f414(0x975)][_0x52f414(0x75d)](_0x145836=>_0x145836[_0x52f414(0x183)]());renderLeaderboard(_0x4d3a4c,_0x52f414(0x46c));},_0x1103fb=>{const _0x357c24=_0x5b227e;console[_0x357c24(0x2e9)](_0x357c24(0x713),_0x1103fb),document[_0x357c24(0x552)](_0x357c24(0x46c))[_0x357c24(0x377)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x349fb4,_0x13400d){const _0x28f20d=_0x3a383e,_0x51444e=document[_0x28f20d(0x552)](_0x13400d);if(!_0x349fb4||_0x349fb4['length']===0x0){_0x51444e[_0x28f20d(0x377)]=_0x28f20d(0xca9);return;}_0x349fb4['sort']((_0x566808,_0x42efce)=>{const _0x2daff9=_0x28f20d,_0x27e2c4=(_0x42efce['totalPoints']||0x0)-(_0x566808['totalPoints']||0x0);if(_0x27e2c4!==0x0)return _0x27e2c4;const _0x418d6b=(_0x42efce[_0x2daff9(0x2e8)]?.[_0x2daff9(0x7b2)]||0x0)-(_0x566808[_0x2daff9(0x2e8)]?.[_0x2daff9(0x7b2)]||0x0);if(_0x418d6b!==0x0)return _0x418d6b;const _0x170fde=(_0x42efce[_0x2daff9(0x2e8)]?.[_0x2daff9(0x424)]||0x0)-(_0x566808['badgesCount']?.['first_try_ace']||0x0);if(_0x170fde!==0x0)return _0x170fde;const _0x584eff=(_0x42efce[_0x2daff9(0x2e8)]?.[_0x2daff9(0xba0)]||0x0)-(_0x566808['badgesCount']?.['perfect_score']||0x0);if(_0x584eff!==0x0)return _0x584eff;const _0x501536=(_0x42efce[_0x2daff9(0x2e8)]?.[_0x2daff9(0x865)]||0x0)-(_0x566808['badgesCount']?.[_0x2daff9(0x865)]||0x0);if(_0x501536!==0x0)return _0x501536;return _0x566808['studentName']['localeCompare'](_0x42efce[_0x2daff9(0x247)],'th');});let _0x2df297='';_0x349fb4['forEach']((_0x202019,_0x4f158e)=>{const _0x15282c=_0x28f20d,_0x14cd66=_0x4f158e+0x1,_0xc6b9c2=_0x202019['badgesCount']||{};let _0x55f41c='';const _0x2f2263=[_0x15282c(0x7b2),_0x15282c(0xba0),'first_try_ace',_0x15282c(0x865)];_0x2f2263['forEach'](_0x3b01e5=>{const _0x210226=_0x15282c;if(_0xc6b9c2[_0x3b01e5]>0x0){const _0x4a1d11=Object[_0x210226(0x8b4)](BADGES)[_0x210226(0x51d)](_0x128c9c=>_0x128c9c['id']===_0x3b01e5);_0x4a1d11&&(_0x3b01e5===_0x210226(0x7b2)?_0x55f41c+=_0x210226(0x443)+_0x4a1d11['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x4a1d11[_0x210226(0x5b7)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x55f41c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x4a1d11[_0x210226(0xce5)]+'\x20('+_0xc6b9c2[_0x3b01e5]+_0x210226(0x6a6)+_0x4a1d11['icon']+_0x210226(0x21d)+_0xc6b9c2[_0x3b01e5]+_0x210226(0x384));}}),_0x2df297+=_0x15282c(0x2d8)+_0x14cd66+_0x15282c(0x907)+_0x202019[_0x15282c(0x247)]+_0x15282c(0x1c9)+(_0x202019['totalPoints']||0x0)+_0x15282c(0x907)+(_0x55f41c||'-')+_0x15282c(0xb95);}),_0x51444e[_0x28f20d(0x377)]=_0x2df297;}function displayLoopScreen(_0x4d7a44,_0x1878fb,_0x296c17){const _0xd84946=_0x3a383e;let _0x4d2c83='';_0x296c17!==_0xd84946(0xafb)&&(_0x4d2c83='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x4d7a44+_0xd84946(0x5e1)+_0x1878fb+_0xd84946(0x974));const _0x5783fb=_0xd84946(0x601)+_0x4d2c83+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x5783fb,studentResultArea[_0xd84946(0x4c1)]['remove'](_0xd84946(0x9d2)),studentQuizArea['classList'][_0xd84946(0x350)]('hidden'),document[_0xd84946(0x552)](_0xd84946(0x75e))['addEventListener'](_0xd84946(0x43a),()=>{const _0x193727=_0xd84946;studentResultArea[_0x193727(0x4c1)]['add'](_0x193727(0x9d2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x16068b,_0x13a5f9,_0x4bd6e6){const _0xc5521=_0x3a383e,_0x308d3f=document[_0xc5521(0x552)](_0x4bd6e6),_0xc9506e=_0x4bd6e6===_0xc5521(0xd0c),_0xe88a7a=_0x13a5f9[_0xc5521(0x5cd)][_0xc5521(0x636)],_0x54cc5c=document[_0xc5521(0x552)](_0x4bd6e6)[_0xc5521(0xc1b)]('table');if(_0x54cc5c&&!_0xc9506e){const _0x431089=_0x54cc5c['querySelector'](_0xc5521(0x405));_0x431089[_0xc5521(0x377)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x16068b||_0x16068b[_0xc5521(0x636)]===0x0){_0x308d3f[_0xc5521(0x377)]=_0xc5521(0x93d)+(_0xc9506e?0x6:0x8)+_0xc5521(0xb9f);return;}const _0x436500=[..._0x16068b];_0x436500[_0xc5521(0xa29)]((_0x4115b7,_0x16df16)=>{const _0x400b1a=_0xc5521;let _0x57e467,_0xef2358;switch(quizLeaderboardSortBy){case _0x400b1a(0x247):_0x57e467=_0x4115b7['studentName']||'',_0xef2358=_0x16df16['studentName']||'';return quizLeaderboardSortOrder===_0x400b1a(0x616)?_0x57e467[_0x400b1a(0x784)](_0xef2358,'th'):_0xef2358[_0x400b1a(0x784)](_0x57e467,'th');case _0x400b1a(0xbf6):_0x57e467=_0x4115b7[_0x400b1a(0xbf6)]||0x0,_0xef2358=_0x16df16[_0x400b1a(0xbf6)]||0x0;break;case _0x400b1a(0x61f):_0x57e467=_0x4115b7[_0x400b1a(0x61f)]?.['length']||0x1,_0xef2358=_0x16df16[_0x400b1a(0x61f)]?.['length']||0x1;break;case _0x400b1a(0xc65):_0x57e467=new Date(_0x4115b7[_0x400b1a(0xc65)]),_0xef2358=new Date(_0x16df16[_0x400b1a(0xc65)]);break;case'bestScore':default:_0x57e467=_0x4115b7[_0x400b1a(0x313)],_0xef2358=_0x16df16[_0x400b1a(0x313)];break;}if(_0x57e467<_0xef2358)return quizLeaderboardSortOrder===_0x400b1a(0x616)?-0x1:0x1;if(_0x57e467>_0xef2358)return quizLeaderboardSortOrder===_0x400b1a(0x616)?0x1:-0x1;return 0x0;});const _0x47fb73=_0x13a5f9[_0xc5521(0xa74)]===!![],_0x2562c7=_0x13a5f9[_0xc5521(0x997)]?.[_0xc5521(0xa32)]??-0x1;let _0x322c11='';_0x436500[_0xc5521(0x1f5)]((_0x2a8228,_0xc9da40)=>{const _0x5f1969=_0xc5521,_0xfc9bf7=_0xc9da40+0x1;let _0x19ef64='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x47fb73||_0x2562c7!==-0x1){let _0x3f5b9f=_0x47fb73?_0x2a8228[_0x5f1969(0x313)]===_0xe88a7a:_0x2a8228[_0x5f1969(0x313)]>=_0x2562c7;const _0x2d8a17=_0x3f5b9f?_0x5f1969(0x83b):_0x5f1969(0xc91),_0x47fc35=_0x3f5b9f?'ผ่าน':_0x5f1969(0x720);_0x19ef64=_0x5f1969(0x8f9)+_0x2d8a17+'\x22>'+_0x47fc35+_0x5f1969(0x28f);}const _0x39ecf9=_0x2a8228['attempts'][_0x2a8228[_0x5f1969(0x61f)][_0x5f1969(0x636)]-0x1],_0x169111=(_0x39ecf9['badges']||[])[_0x5f1969(0x75d)](_0x1f5869=>{const _0x514071=_0x5f1969,_0x4cae19=Object['values'](BADGES)['find'](_0x39f232=>_0x39f232['id']===_0x1f5869);return _0x4cae19?_0x514071(0xba7)+_0x4cae19[_0x514071(0xce5)]+_0x514071(0xa40)+_0x4cae19[_0x514071(0x5b7)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x5f1969(0xa89)]('');_0x322c11+=_0x5f1969(0x4f9)+_0xfc9bf7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2a8228[_0x5f1969(0x247)]+_0x5f1969(0x326)+_0x2a8228['bestScore']+_0x5f1969(0x5e1)+_0xe88a7a+_0x5f1969(0xa8f)+_0x19ef64+_0x5f1969(0xadd)+(_0x2a8228[_0x5f1969(0xbf6)]||0x0)+_0x5f1969(0xa8f)+(_0xc9506e?'':_0x5f1969(0x160)+(_0x2a8228[_0x5f1969(0x61f)]?.[_0x5f1969(0x636)]||0x1)+_0x5f1969(0xcc9))+_0x5f1969(0xb61)+(_0xc9506e?'':_0x5f1969(0x59a)+new Date(_0x2a8228['latestSubmittedAt'])[_0x5f1969(0x756)]('th-TH')+_0x5f1969(0xcc9))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x169111||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x308d3f['innerHTML']=_0x322c11,_0x54cc5c&&!_0xc9506e&&_0x54cc5c[_0xc5521(0x3e0)](_0xc5521(0x483))[_0xc5521(0x1f5)](_0x2d7a26=>{const _0x583999=_0xc5521,_0x2ca826=_0x2d7a26['querySelector']('.sort-indicator');if(_0x2ca826)_0x2ca826[_0x583999(0xb01)]();_0x2d7a26[_0x583999(0x79d)][_0x583999(0xa29)]===quizLeaderboardSortBy&&(_0x2d7a26['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x583999(0x616)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x198ece){const _0x5f2f8d=_0x3a383e;if(!currentQuizData||!currentQuizData['id']||!_0x198ece){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x5f2f8d(0x6e9)+_0x198ece+_0x5f2f8d(0x343),async()=>{const _0x587620=_0x5f2f8d,_0x3e625f=currentQuizData['id'],_0x15fc0c=doc(db,'artifacts/'+appId+_0x587620(0x847)+_0x3e625f+_0x587620(0x32e),_0x198ece);try{await deleteDoc(_0x15fc0c),showMessage(_0x587620(0xc22)+_0x198ece+_0x587620(0x87c));}catch(_0x3e34d0){console['error'](_0x587620(0x7eb),_0x3e34d0),showMessage(_0x587620(0x34e));}});}async function handleLoadQuiz(){const _0x3b7b6b=_0x3a383e,_0x2831be=document[_0x3b7b6b(0x552)](_0x3b7b6b(0xb0f)),_0x55d214=_0x2831be[_0x3b7b6b(0x203)]['trim']();if(!_0x55d214){showMessage(_0x3b7b6b(0x602));return;}loadQuizBtn[_0x3b7b6b(0x7ce)]=!![],loadQuizBtn['innerHTML']=_0x3b7b6b(0x306);try{const _0x88a639=doc(db,_0x3b7b6b(0xc93)+appId+_0x3b7b6b(0x766),_0x55d214),_0x5499f4=await getDoc(_0x88a639);if(!_0x5499f4[_0x3b7b6b(0x837)]()){showMessage(_0x3b7b6b(0xc02));return;}currentQuizData={'id':_0x5499f4['id'],..._0x5499f4[_0x3b7b6b(0x183)]()};const _0x17c9dd=currentQuizData[_0x3b7b6b(0xb09)]||_0x3b7b6b(0xc45),_0x182a8f=new Date();if(_0x17c9dd==='inactive'){showMessage(_0x3b7b6b(0xb35));return;}if(_0x17c9dd===_0x3b7b6b(0x95d)){const _0xff35a7=currentQuizData['startTime']?new Date(currentQuizData[_0x3b7b6b(0x8e6)]):null,_0x4a90d4=currentQuizData[_0x3b7b6b(0x28e)]?new Date(currentQuizData[_0x3b7b6b(0x28e)]):null;if(_0xff35a7&&_0x182a8f<_0xff35a7){showMessage(_0x3b7b6b(0xd02)+_0xff35a7['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x4a90d4&&_0x182a8f>_0x4a90d4){showMessage(_0x3b7b6b(0xcfc));return;}}const _0x31c3f4=currentQuizData[_0x3b7b6b(0x88a)];currentProjectId=_0x31c3f4;const _0x1ed376=doc(db,_0x3b7b6b(0xc93)+appId+_0x3b7b6b(0x5c5),_0x31c3f4),_0x3f1ae9=await getDoc(_0x1ed376);if(!_0x3f1ae9[_0x3b7b6b(0x837)]()){showMessage(_0x3b7b6b(0xa99));return;}const _0x3bdd56=_0x3f1ae9['data']();currentStudentProjectData=_0x3bdd56,displayStudentNameSelector(_0x3bdd56[_0x3b7b6b(0x748)],currentQuizData['topic']);}catch(_0x17bfed){console[_0x3b7b6b(0x2e9)]('Error\x20loading\x20quiz\x20for\x20student:',_0x17bfed),showMessage(_0x3b7b6b(0x68e));}finally{loadQuizBtn['disabled']=![],loadQuizBtn['innerHTML']=_0x3b7b6b(0x153);}}async function handleJoinLiveGame(){const _0x42f2a4=_0x3a383e,_0x2c2083=document['getElementById'](_0x42f2a4(0x3f2)),_0x553da8=document[_0x42f2a4(0x552)](_0x42f2a4(0x99b)),_0x133d61=document['getElementById']('confirm-join-game-btn'),_0x2173c0=_0x2c2083[_0x42f2a4(0x203)][_0x42f2a4(0x887)](),_0x57c210=_0x553da8['value'][_0x42f2a4(0x887)]();if(!_0x2173c0||!_0x57c210){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x133d61[_0x42f2a4(0x7ce)]=!![],_0x133d61[_0x42f2a4(0x377)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0xde6642=collection(db,_0x42f2a4(0xc93)+appId+'/public/data/liveGames'),_0x436d1a=query(_0xde6642,where(_0x42f2a4(0xb6b),'==',_0x2173c0),where('status','in',[_0x42f2a4(0xcbe),_0x42f2a4(0x807)])),_0x32c0b4=await getDocs(_0x436d1a);if(_0x32c0b4[_0x42f2a4(0x491)]){showMessage(_0x42f2a4(0x9a8));return;}const _0x4e76b0=_0x32c0b4['docs'][0x0],_0x352946=_0x4e76b0[_0x42f2a4(0x183)]();currentLiveGameId=_0x4e76b0['id'];const _0x1070d1=_0x352946[_0x42f2a4(0x1e8)],_0x6bbe6b=doc(db,_0x42f2a4(0xc93)+appId+'/public/data/quizzes',_0x1070d1),_0x1d03c8=await getDoc(_0x6bbe6b);if(!_0x1d03c8[_0x42f2a4(0x837)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x1d03c8['id'],..._0x1d03c8['data']()};if(_0x352946['players']&&_0x352946[_0x42f2a4(0x8d9)][_0x57c210]){const _0x275176=_0x352946['players'][_0x57c210];if(_0x275176['status']===_0x42f2a4(0xa07)){_0x133d61['innerHTML']=_0x42f2a4(0xcfa);const _0x431df0={};_0x431df0['players.'+_0x57c210+_0x42f2a4(0x733)]='active',await updateDoc(doc(db,_0x42f2a4(0xc93)+appId+_0x42f2a4(0x291),currentLiveGameId),_0x431df0),showView(_0x42f2a4(0x7e0)),currentStudentName=_0x57c210,listenForLiveGameUpdates();return;}else{showMessage(_0x42f2a4(0xc06));return;}}if(_0x352946['status']!=='lobby'){showMessage(_0x42f2a4(0x8fc));return;}_0x133d61[_0x42f2a4(0x377)]=_0x42f2a4(0x2d5);const _0x564629={};_0x564629[_0x42f2a4(0xa02)+_0x57c210]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x42f2a4(0xc45)},await updateDoc(doc(db,_0x42f2a4(0xc93)+appId+'/public/data/liveGames',currentLiveGameId),_0x564629),currentStudentName=_0x57c210,listenForLiveGameUpdates();}catch(_0xa2ae09){console[_0x42f2a4(0x2e9)](_0x42f2a4(0x243),_0xa2ae09),showMessage(_0x42f2a4(0x91b));}finally{_0x133d61[_0x42f2a4(0x7ce)]=![],_0x133d61[_0x42f2a4(0x377)]=_0x42f2a4(0x3f1);}}function displayStudentNameSelector(_0x523d83,_0x5ebd22){const _0x586d10=_0x3a383e,_0x1f91d0=document['getElementById'](_0x586d10(0x4ee));document[_0x586d10(0x552)](_0x586d10(0x2ef))['textContent']=_0x586d10(0x675)+_0x5ebd22,!_0x523d83||_0x523d83['length']===0x0?(_0x1f91d0[_0x586d10(0x377)]=_0x586d10(0xac4),startQuizBtn['disabled']=!![]):(_0x1f91d0['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x523d83[_0x586d10(0x1f5)](_0x32159d=>{const _0x2d0cd9=_0x586d10,_0x5b7efa=document[_0x2d0cd9(0x9eb)](_0x2d0cd9(0x7f2));_0x5b7efa[_0x2d0cd9(0x203)]=_0x32159d,_0x5b7efa[_0x2d0cd9(0x37a)]=_0x32159d,_0x1f91d0['appendChild'](_0x5b7efa);}),startQuizBtn[_0x586d10(0x7ce)]=![]),studentInitialView[_0x586d10(0x4c1)]['add'](_0x586d10(0x9d2)),studentNameSelectionView['classList'][_0x586d10(0xb01)](_0x586d10(0x9d2));}function shuffleArray(_0x1654fb){const _0x27f9dd=_0x3a383e;for(let _0x327d6=_0x1654fb[_0x27f9dd(0x636)]-0x1;_0x327d6>0x0;_0x327d6--){const _0x4ba2cc=Math['floor'](Math[_0x27f9dd(0x9f5)]()*(_0x327d6+0x1));[_0x1654fb[_0x327d6],_0x1654fb[_0x4ba2cc]]=[_0x1654fb[_0x4ba2cc],_0x1654fb[_0x327d6]];}}function getShuffledQuiz(_0x1333f4){const _0x32b23c=_0x3a383e;let _0x40abb0=JSON['parse'](JSON[_0x32b23c(0x7ae)](_0x1333f4));const _0xe3c32f=_0x40abb0[_0x32b23c(0x997)]?.[_0x32b23c(0xa93)]||_0x32b23c(0xbde);if(_0xe3c32f===_0x32b23c(0xbde))return _0x40abb0;return(_0xe3c32f===_0x32b23c(0x8e8)||_0xe3c32f==='both')&&shuffleArray(_0x40abb0[_0x32b23c(0x5cd)]),(_0xe3c32f===_0x32b23c(0x360)||_0xe3c32f===_0x32b23c(0x151))&&_0x40abb0[_0x32b23c(0x5cd)][_0x32b23c(0x1f5)](_0x5ae68f=>{const _0x3fd4eb=_0x32b23c,_0xa16aad=_0x5ae68f[_0x3fd4eb(0x5be)]||_0x40abb0[_0x3fd4eb(0x8bd)];if(_0x5ae68f[_0x3fd4eb(0xb70)]){let _0x31f4b1=_0x5ae68f[_0x3fd4eb(0xb70)]['map']((_0x2d6e4d,_0x36d2b1)=>({'text':_0x2d6e4d,'isCorrect':_0x36d2b1===_0x5ae68f[_0x3fd4eb(0xb21)]}));shuffleArray(_0x31f4b1),_0x5ae68f['options']=_0x31f4b1[_0x3fd4eb(0x75d)](_0x2acea=>_0x2acea[_0x3fd4eb(0x5f4)]),_0x5ae68f[_0x3fd4eb(0xb21)]=_0x31f4b1['findIndex'](_0x27c221=>_0x27c221[_0x3fd4eb(0x1c8)]);}_0xa16aad===_0x3fd4eb(0x4b4)&&_0x5ae68f[_0x3fd4eb(0xaeb)]&&shuffleArray(_0x5ae68f[_0x3fd4eb(0xaeb)]);}),_0x40abb0;}function displayQuizForStudent(_0x2f9b0a){const _0x1078a1=_0x3a383e;studentQuizArea[_0x1078a1(0x4c1)][_0x1078a1(0xb01)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x2f9b0a);currentMode!==_0x1078a1(0xa1e)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1078a1(0x224)]('fullscreenchange',handleFullscreenChange),document[_0x1078a1(0x224)](_0x1078a1(0x38a),handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window[_0x1078a1(0x224)]('mousedown',resetDimTimer),window['addEventListener'](_0x1078a1(0x3f4),resetDimTimer),window[_0x1078a1(0x224)](_0x1078a1(0x5b4),resetDimTimer),resetDimTimer());const _0x2ac3a3=currentDisplayedQuiz[_0x1078a1(0x997)]?.[_0x1078a1(0x74a)]||'none';if(_0x2ac3a3==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x2ac3a3==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x28d2c6=_0x3a383e,_0x13936d=currentDisplayedQuiz[_0x28d2c6(0x997)]?.['isConfidenceScoringEnabled']===!![],_0x33acf7=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x28d2c6(0x55b);let _0x3e6aed=_0x28d2c6(0x82a)+currentDisplayedQuiz[_0x28d2c6(0x65f)]+_0x28d2c6(0xa77)+(currentMode==='admin-testing'?_0x28d2c6(0x93e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x28d2c6(0x5cd)][_0x28d2c6(0x1f5)]((_0x34d171,_0x11f47d)=>{const _0x59bb57=_0x28d2c6,_0x5cfb1c=_0x34d171[_0x59bb57(0x5be)]||currentDisplayedQuiz[_0x59bb57(0x8bd)];_0x3e6aed+=_0x59bb57(0x3a1);if(_0x5cfb1c===_0x59bb57(0x4b4)){}else _0x3e6aed+=_0x59bb57(0x204)+(_0x11f47d+0x1)+'.\x20'+(_0x34d171['instructions']||_0x34d171[_0x59bb57(0x629)])+_0x59bb57(0xb8e),_0x34d171[_0x59bb57(0x9e7)]&&(_0x3e6aed+=_0x59bb57(0x7d5)+_0x34d171[_0x59bb57(0x9e7)]+_0x59bb57(0xc87));_0x3e6aed+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x5cfb1c){case _0x59bb57(0x952):_0x3e6aed+=_0x59bb57(0xb58)+_0x11f47d+_0x59bb57(0xb99);break;case _0x59bb57(0x631):_0x3e6aed+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x11f47d+_0x59bb57(0xb7a)+_0x11f47d+_0x59bb57(0xcaf)+_0x11f47d+'_opt0\x22>ใช่</label></div>',_0x3e6aed+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x11f47d+_0x59bb57(0x93f)+_0x11f47d+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x11f47d+_0x59bb57(0x5ae);break;case'matching_item':_0x3e6aed+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x34d171[_0x59bb57(0x2a5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x11f47d+_0x59bb57(0xb9a)+_0x34d171['allResponses']['map'](_0x83641c=>_0x59bb57(0x7dd)+_0x83641c+'\x22>'+_0x83641c+_0x59bb57(0xa0c))['join']('')+_0x59bb57(0x3be);break;default:_0x3e6aed+=_0x34d171[_0x59bb57(0xb70)][_0x59bb57(0x75d)]((_0x25907a,_0x23ec55)=>_0x59bb57(0x985)+_0x11f47d+_0x59bb57(0x2a6)+_0x23ec55+_0x59bb57(0x4ce)+_0x11f47d+_0x59bb57(0x8d2)+_0x23ec55+_0x59bb57(0x8db)+_0x11f47d+'_opt'+_0x23ec55+'\x22>'+_0x25907a+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x59bb57(0xa89)]('');break;}_0x3e6aed+=_0x59bb57(0xc87),_0x13936d&&(_0x3e6aed+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x33acf7===_0x59bb57(0xc7e)?_0x3e6aed+=_0x59bb57(0xc3f)+_0x11f47d+_0x59bb57(0xd0d)+_0x11f47d+_0x59bb57(0xa01)+_0x11f47d+_0x59bb57(0x179)+_0x11f47d+_0x59bb57(0xb38):_0x3e6aed+=_0x59bb57(0x662)+_0x11f47d+'\x22\x20name=\x22confidence'+_0x11f47d+_0x59bb57(0x181)+_0x11f47d+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e6aed+='</div>'),_0x3e6aed+=_0x59bb57(0xc87);}),_0x3e6aed+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x3e6aed+=_0x28d2c6(0x97c),studentQuizArea['innerHTML']=_0x3e6aed;if(currentMode===_0x28d2c6(0xa1e)){const _0x4eea8f=document[_0x28d2c6(0x552)](_0x28d2c6(0x664));if(_0x4eea8f)_0x4eea8f[_0x28d2c6(0x224)](_0x28d2c6(0x43a),cancelAdminTest);}const _0x1d378b=document[_0x28d2c6(0x552)](_0x28d2c6(0x6e3));_0x1d378b&&(_0x1d378b['addEventListener']('submit',handleSubmitQuiz),_0x1d378b[_0x28d2c6(0x224)](_0x28d2c6(0x43a),_0x3adde4=>{const _0x2de47a=_0x28d2c6;if(_0x3adde4[_0x2de47a(0x19c)][_0x2de47a(0x4c1)][_0x2de47a(0x4b7)](_0x2de47a(0x7e9))){const _0x2a6c95=_0x3adde4[_0x2de47a(0x19c)],_0x2a6a45=_0x2a6c95[_0x2de47a(0x79d)]['questionIndex'],_0x44fe84=_0x2a6c95['dataset'][_0x2de47a(0x203)];document[_0x2de47a(0x552)](_0x2de47a(0x246)+_0x2a6a45)['value']=_0x44fe84;const _0x1a84c1=_0x2a6c95['parentElement'];_0x1a84c1['querySelectorAll']('.confidence-choice-btn')[_0x2de47a(0x1f5)](_0x2fc134=>_0x2fc134['classList'][_0x2de47a(0xb01)](_0x2de47a(0xc45))),_0x2a6c95[_0x2de47a(0x4c1)][_0x2de47a(0x350)](_0x2de47a(0xc45));}}));if(window[_0x28d2c6(0xc8b)])window[_0x28d2c6(0xc8b)][_0x28d2c6(0x171)]([studentQuizArea]);}async function handleSubmitQuiz(_0x4633df){const _0x572313=_0x3a383e;if(_0x4633df)_0x4633df[_0x572313(0x4a0)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x3cfedd=document[_0x572313(0x552)](_0x572313(0x6e3));if(!_0x3cfedd)return;const _0x3b9ee1=currentDisplayedQuiz['settings']?.[_0x572313(0x7fa)]===!![],_0x4dc9a2=currentDisplayedQuiz[_0x572313(0x997)]?.[_0x572313(0xccc)]||_0x572313(0x55b);if(_0x3b9ee1&&_0x4dc9a2===_0x572313(0xc7e)){let _0x170683=!![];for(let _0x952d01=0x0;_0x952d01<currentDisplayedQuiz['questions'][_0x572313(0x636)];_0x952d01++){const _0x2b866e=_0x3cfedd['querySelector'](_0x572313(0x9bd)+_0x952d01);if(!_0x2b866e||_0x2b866e[_0x572313(0x203)]===''){_0x170683=![];break;}}if(!_0x170683){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x2f3a44=_0x3cfedd[_0x572313(0x972)](_0x572313(0xb9d)),_0xd77e57=currentDisplayedQuiz[_0x572313(0x5cd)][_0x572313(0x772)](_0x5a75af=>_0x5a75af['questionType']===_0x572313(0x952));_0x2f3a44&&(_0x2f3a44[_0x572313(0x7ce)]=!![],_0x2f3a44[_0x572313(0x377)]=_0xd77e57?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x572313(0x493));const _0x2a4368=new FormData(_0x3cfedd),_0x54e84d=currentDisplayedQuiz[_0x572313(0x5cd)]['map']((_0xf1397d,_0x289494)=>{const _0xf77b88=_0x572313,_0x499e57=_0x2a4368[_0xf77b88(0xd0a)](_0xf77b88(0x807)+_0x289494);let _0x37bcb6;_0x4dc9a2===_0xf77b88(0xc7e)?_0x37bcb6=_0x2a4368['get']('confidence'+_0x289494):_0x37bcb6=_0x2a4368[_0xf77b88(0xd0a)](_0xf77b88(0x77e)+_0x289494)==='on';let _0x2af587=null;if(_0x499e57!==null&&_0x499e57!==undefined){const _0xdcc8c5=_0xf1397d[_0xf77b88(0x5be)]||currentDisplayedQuiz['quizType'];_0xdcc8c5===_0xf77b88(0x2df)||_0xdcc8c5===_0xf77b88(0x488)?_0x2af587=parseInt(_0x499e57):_0x2af587=_0x499e57;}return{'answer':_0x2af587,'wasConfident':_0x37bcb6};}),_0xe4d158=currentQuizData['id'],_0x3b6d6d=doc(db,_0x572313(0xc93)+appId+'/public/data/quizzes/'+_0xe4d158+'/submissions',currentStudentName),_0x49db6d=await getDoc(_0x3b6d6d),_0x12ab1c=_0x49db6d[_0x572313(0x837)]()?_0x49db6d[_0x572313(0x183)]():{},_0x206876=_0x12ab1c[_0x572313(0x61f)]||[];await processAndSubmitAnswers(_0x54e84d,_0x206876);}async function gradeShortAnswerWithAI(_0x1ed7b2,_0x55751e){const _0x547c9e=_0x3a383e;if(!_0x1ed7b2||!_0x55751e)return![];try{const _0x18a45a=_0x547c9e(0xb85)+_0x1ed7b2+_0x547c9e(0x765)+_0x55751e+_0x547c9e(0x6d9),_0x58656a={'contents':[{'role':_0x547c9e(0xb3a),'parts':[{'text':_0x18a45a}]}]},_0x1fbed1='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x4a1d18=_0x547c9e(0x1e1)+_0x1fbed1,_0x9e15ce=await fetch(_0x4a1d18,{'method':_0x547c9e(0xa80),'headers':{'Content-Type':_0x547c9e(0x794)},'body':JSON[_0x547c9e(0x7ae)](_0x58656a)});if(!_0x9e15ce['ok'])throw new Error('API\x20call\x20failed');const _0x24ae5d=await _0x9e15ce[_0x547c9e(0xc0e)](),_0x41958b=_0x24ae5d[_0x547c9e(0x392)][0x0]['content'][_0x547c9e(0xbf0)][0x0][_0x547c9e(0x5f4)][_0x547c9e(0x887)]()[_0x547c9e(0x883)]();return _0x41958b===_0x547c9e(0xcb5);}catch(_0x43cf05){return console[_0x547c9e(0x2e9)]('AI\x20grading\x20failed:',_0x43cf05),![];}}async function processAndSubmitAnswers(_0x3d8902,_0x3ae1b5){const _0x1a8150=_0x3a383e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1a8150(0xbaf)]('fullscreenchange',handleFullscreenChange),document[_0x1a8150(0xbaf)](_0x1a8150(0x38a),handleVisibilityChange);let _0x342141=0x0;const _0x5c219d=[],_0x481d9b=currentDisplayedQuiz[_0x1a8150(0x5cd)][_0x1a8150(0x636)];let _0x1ab4c8=0x0,_0x1b1a95=[];const _0x59595b=currentDisplayedQuiz[_0x1a8150(0x5cd)];for(let _0x41bf1c=0x0;_0x41bf1c<_0x59595b[_0x1a8150(0x636)];_0x41bf1c++){const _0x3c4f76=_0x59595b[_0x41bf1c],_0x477ce2=_0x3d8902[_0x41bf1c],_0x2cc0d7=_0x477ce2?_0x477ce2[_0x1a8150(0xa51)]:null,_0x364ddd=_0x477ce2?_0x477ce2[_0x1a8150(0x36c)]:null;let _0x1180b7=![],_0x212778=0x0;if(_0x2cc0d7!==null&&_0x2cc0d7!==''){const _0x136a53=_0x3c4f76[_0x1a8150(0x5be)]||currentDisplayedQuiz['quizType'];switch(_0x136a53){case _0x1a8150(0x4b4):_0x1180b7=_0x2cc0d7===_0x3c4f76[_0x1a8150(0x8b9)];break;case _0x1a8150(0x631):const _0x55ee92=_0x2cc0d7===!![]||_0x2cc0d7===_0x1a8150(0xcb5);_0x1180b7=_0x55ee92===_0x3c4f76[_0x1a8150(0x207)];break;case _0x1a8150(0x952):_0x1180b7=await gradeShortAnswer(_0x2cc0d7,_0x3c4f76);break;case'multiple_choice':default:_0x1180b7=Number(_0x2cc0d7)===_0x3c4f76[_0x1a8150(0xb21)];break;}}if(currentDisplayedQuiz[_0x1a8150(0x997)]?.['isConfidenceScoringEnabled']){const _0x2318fa=_0x477ce2?_0x477ce2[_0x1a8150(0x36c)]:null;if(_0x1180b7&&(_0x2318fa===!![]||_0x2318fa===_0x1a8150(0x34f)))_0x212778=0x2;else{if(_0x1180b7)_0x212778=0x1;else{if(!_0x1180b7&&(_0x2318fa===![]||_0x2318fa===_0x1a8150(0x3b3)||_0x2318fa===null))_0x212778=0x0;else!_0x1180b7&&(_0x2318fa===!![]||_0x2318fa==='confident')&&(_0x212778=-0x1);}}}else _0x212778=_0x1180b7?0x1:0x0;_0x342141+=_0x212778;if(_0x1180b7){_0x1ab4c8++;if(_0x1ab4c8===0x3)_0x1b1a95[_0x1a8150(0x321)](BADGES[_0x1a8150(0x4b3)]['id']);}else _0x1ab4c8=0x0;let _0x3ba22c=null;_0x3c4f76[_0x1a8150(0xb70)]&&_0x2cc0d7!==null&&(_0x3ba22c=_0x3c4f76['options'][_0x2cc0d7]),_0x5c219d[_0x1a8150(0x321)]({'questionId':_0x3c4f76['id'],'answer':_0x2cc0d7,'answerText':_0x3ba22c,'isCorrect':_0x1180b7,'wasConfident':_0x364ddd,'pointsAwarded':_0x212778,'originalQuestionText':_0x3c4f76[_0x1a8150(0x2a5)]||_0x3c4f76['questionText']});}const _0x1e4b0a=_0x5c219d[_0x1a8150(0x499)](_0x2f40c7=>_0x2f40c7[_0x1a8150(0x1c8)])[_0x1a8150(0x636)],_0x437737=currentDisplayedQuiz['settings']?.[_0x1a8150(0xa32)]??Math[_0x1a8150(0x429)](_0x481d9b/0x2);_0x1e4b0a===_0x481d9b&&_0x481d9b>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x1b1a95[_0x1a8150(0x321)](BADGES[_0x1a8150(0x17b)]['id']);const _0x238706=currentDisplayedQuiz[_0x1a8150(0x997)]?.[_0x1a8150(0x74a)];if(_0x238706===_0x1a8150(0x709)&&quizStartTime){const _0x320298=(new Date()-quizStartTime)/0x3e8,_0x596bd8=currentDisplayedQuiz[_0x1a8150(0x997)][_0x1a8150(0x22c)]*0x3c;_0x1e4b0a>=_0x437737&&_0x320298<_0x596bd8/0x2&&_0x1b1a95[_0x1a8150(0x321)](BADGES[_0x1a8150(0x721)]['id']);}_0x3ae1b5[_0x1a8150(0x636)]===0x0&&_0x1e4b0a===_0x481d9b&&_0x481d9b>0x0&&_0x1b1a95['push'](BADGES[_0x1a8150(0x1f1)]['id']);if(_0x3ae1b5[_0x1a8150(0x636)]>0x0){const _0x1fde42=_0x3ae1b5[0x0][_0x1a8150(0xbd7)];if(_0x1fde42<_0x437737&&_0x1e4b0a>=_0x437737){const _0x3b2f83=_0x3ae1b5['some'](_0x590803=>(_0x590803['badges']||[])[_0x1a8150(0x27b)](BADGES['COMEBACK_KING']['id']));!_0x3b2f83&&_0x1b1a95[_0x1a8150(0x321)](BADGES[_0x1a8150(0x979)]['id']);}}_0x3ae1b5[_0x1a8150(0x636)]===0x4&&_0x1b1a95[_0x1a8150(0x321)](BADGES[_0x1a8150(0xc59)]['id']);const _0x4d84c9=currentDisplayedQuiz[_0x1a8150(0x997)][_0x1a8150(0x7bc)];if(currentMode===_0x1a8150(0xa1e)){handleResultDisplay(_0x4d84c9,_0x1e4b0a,_0x342141,_0x1b1a95,_0x5c219d,_0x481d9b);return;}const _0x29f890=currentQuizData['id'],_0x2d1ff0=doc(db,_0x1a8150(0xc93)+appId+_0x1a8150(0x847)+_0x29f890+_0x1a8150(0x32e),currentStudentName);try{const _0xf6b19d=[..._0x3ae1b5],_0x462fc6={'score':_0x1e4b0a,'points':_0x342141,'badges':Array[_0x1a8150(0x659)](new Set(_0x1b1a95)),'submittedAt':new Date()['toISOString'](),'answers':_0x5c219d};_0xf6b19d[_0x1a8150(0x321)](_0x462fc6);const _0x595796=_0x3ae1b5['length']===0x0?_0x1e4b0a:_0x3ae1b5[0x0][_0x1a8150(0xbd7)]||0x0,_0x251760=Math[_0x1a8150(0x38c)](..._0xf6b19d[_0x1a8150(0x75d)](_0x4f7099=>_0x4f7099['score']));await setDoc(_0x2d1ff0,{'studentName':currentStudentName,'totalQuestions':_0x481d9b,'attempts':_0xf6b19d,'firstScore':_0x595796,'bestScore':_0x251760,'latestScore':_0x1e4b0a,'points':_0x342141,'latestSubmittedAt':_0x462fc6[_0x1a8150(0x939)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1a8150(0x88a)],currentStudentName),handleResultDisplay(_0x4d84c9,_0x1e4b0a,_0x342141,_0x1b1a95,_0x5c219d,_0x481d9b);}catch(_0x1fa63a){console[_0x1a8150(0x2e9)](_0x1a8150(0x2f4),_0x1fa63a),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x1fffb1,_0x46e4a8){const _0x5984b0=_0x3a383e,_0x25efa7=doc(db,_0x5984b0(0xc93)+appId+_0x5984b0(0x5d8)+_0x1fffb1+_0x5984b0(0x170),_0x46e4a8);try{const _0x5b87e5=query(collection(db,_0x5984b0(0xc93)+appId+_0x5984b0(0x766)),where(_0x5984b0(0x88a),'==',_0x1fffb1)),_0x5485c3=await getDocs(_0x5b87e5),_0x2e71b6=new Map(_0x5485c3[_0x5984b0(0x975)]['map'](_0x5c5e0e=>[_0x5c5e0e['id'],_0x5c5e0e[_0x5984b0(0x183)]()])),_0x3ff6df=Array[_0x5984b0(0x659)](_0x2e71b6[_0x5984b0(0xb17)]());await runTransaction(db,async _0x5dcf67=>{const _0x4f60f5=_0x5984b0;let _0x42c055=0x0;const _0x3c88d0={};let _0x53f849=!![],_0x508d98=0x0,_0x4c336b=0x0;for(const _0x773d3e of _0x3ff6df){const _0x336a32=_0x2e71b6[_0x4f60f5(0xd0a)](_0x773d3e),_0x3ddceb=doc(db,_0x4f60f5(0xc93)+appId+'/public/data/quizzes/'+_0x773d3e+_0x4f60f5(0x32e),_0x46e4a8),_0x4af07f=await _0x5dcf67['get'](_0x3ddceb);if(_0x4af07f[_0x4f60f5(0x837)]()){const _0x2eada5=_0x4af07f[_0x4f60f5(0x183)](),_0x25fd2b=_0x2eada5[_0x4f60f5(0x61f)]||[];if(_0x25fd2b[_0x4f60f5(0x636)]>0x0){const _0x1d1180=_0x25fd2b['reduce']((_0x5d4b56,_0x13e92f)=>{const _0x3e96ea=_0x4f60f5;if(_0x13e92f[_0x3e96ea(0xbd7)]>_0x5d4b56[_0x3e96ea(0xbd7)])return _0x13e92f;if(_0x13e92f[_0x3e96ea(0xbd7)]===_0x5d4b56[_0x3e96ea(0xbd7)])return(_0x13e92f[_0x3e96ea(0xbf6)]||0x0)>(_0x5d4b56[_0x3e96ea(0xbf6)]||0x0)?_0x13e92f:_0x5d4b56;return _0x5d4b56;},{'score':-0x1,'points':-0x1});_0x1d1180[_0x4f60f5(0xbd7)]>-0x1&&(_0x42c055+=_0x1d1180['points']||0x0,(_0x1d1180[_0x4f60f5(0x4fc)]||[])[_0x4f60f5(0x1f5)](_0x36590b=>{_0x3c88d0[_0x36590b]=(_0x3c88d0[_0x36590b]||0x0)+0x1;}));}}if(_0x336a32[_0x4f60f5(0x65f)]!==_0x4f60f5(0x780)){_0x4c336b++;if(_0x4af07f[_0x4f60f5(0x837)]()){_0x508d98++;const _0x2b4428=_0x4af07f[_0x4f60f5(0x183)]();_0x2b4428[_0x4f60f5(0x313)]!==_0x2b4428[_0x4f60f5(0x835)]&&(_0x53f849=![]);}else _0x53f849=![];}}_0x4c336b>0x0&&_0x508d98===_0x4c336b&&_0x53f849?_0x3c88d0[_0x4f60f5(0x7b2)]=0x1:_0x3c88d0[_0x4f60f5(0x7b2)]=0x0,_0x5dcf67[_0x4f60f5(0x767)](_0x25efa7,{'studentName':_0x46e4a8,'totalPoints':_0x42c055,'unlockedBadges':Object['keys'](_0x3c88d0)[_0x4f60f5(0x499)](_0xd4e262=>_0x3c88d0[_0xd4e262]>0x0),'badgesCount':_0x3c88d0},{'merge':!![]});});}catch(_0x26217f){console[_0x5984b0(0x2e9)](_0x5984b0(0x858),_0x26217f),showMessage(_0x5984b0(0xb12));}}function startAdminTest(){const _0x33e832=_0x3a383e;if(!currentQuizData){showMessage(_0x33e832(0xb00));return;}let _0x707fe4=JSON[_0x33e832(0xbea)](JSON[_0x33e832(0x7ae)](currentQuizData));currentMode=_0x33e832(0xa1e),currentStudentName=_0x33e832(0x7f6),adminView[_0x33e832(0x4c1)][_0x33e832(0x350)](_0x33e832(0x9d2)),studentView['classList'][_0x33e832(0xb01)](_0x33e832(0x9d2)),studentInitialView[_0x33e832(0x4c1)][_0x33e832(0x350)]('hidden'),studentNameSelectionView['classList'][_0x33e832(0x350)](_0x33e832(0x9d2)),studentResultArea['classList'][_0x33e832(0x350)](_0x33e832(0x9d2)),studentQuizArea[_0x33e832(0x4c1)]['remove'](_0x33e832(0x9d2)),quizStartTime=new Date(),displayQuizForStudent(_0x707fe4);}function handleResultDisplay(_0x323bf8,_0x2f53c3,_0xe32a36,_0x507640,_0x3523ba,_0x2fc1d3){const _0x5f2079=_0x3a383e;if(_0x323bf8===_0x5f2079(0xa6d)){displaySubmissionConfirmation();return;}const _0x3bf9d3=currentDisplayedQuiz[_0x5f2079(0x997)]?.[_0x5f2079(0xa32)]??Math['floor'](_0x2fc1d3/0x2),_0x518c75=currentDisplayedQuiz[_0x5f2079(0x997)]?.[_0x5f2079(0x2a1)]??![],_0x177382=currentDisplayedQuiz[_0x5f2079(0x997)]?.[_0x5f2079(0x563)]===!![],_0x547df7=_0x2f53c3<_0x3bf9d3,_0x3c43ce=_0x323bf8===_0x5f2079(0x743)||_0x323bf8===_0x5f2079(0x738);if(_0x177382&&_0x547df7&&!_0x3c43ce){_0x323bf8===_0x5f2079(0x9ff)?displayResultsWithAnswers(_0x2f53c3,_0xe32a36,_0x507640,_0x3523ba,_0x2fc1d3,!![]):displayLoopScreen(_0x2f53c3,_0x2fc1d3,_0x323bf8);return;}if(_0x518c75&&_0x547df7){startAdaptiveFlow(_0x3523ba,_0x2f53c3,_0x2fc1d3);return;}switch(_0x323bf8){case _0x5f2079(0x9ff):displayResultsWithAnswers(_0x2f53c3,_0xe32a36,_0x507640,_0x3523ba,_0x2fc1d3);break;case'show_results_only':displayResultsScoreOnly(_0x2f53c3,_0xe32a36,_0x507640,_0x2fc1d3);break;case _0x5f2079(0xafb):displayPassFailOnly(_0x2f53c3,_0x2fc1d3);break;case'half_mark_status':displayHalfMarkResult(_0x2f53c3,_0x2fc1d3);break;case'perfect_score_status':displayPerfectScoreResult(_0x2f53c3,_0x2fc1d3);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2dea6f){const _0x52c5d3=_0x3a383e;studentReadingArea['innerHTML']=_0x52c5d3(0xb72);const _0x361727=_0x52c5d3(0xba8)+_0x2dea6f+_0x52c5d3(0x277)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x4463f5={'type':'OBJECT','properties':{'questionText':{'type':_0x52c5d3(0x6d8)},'options':{'type':_0x52c5d3(0x159),'items':{'type':_0x52c5d3(0x6d8)}},'correctAnswerIndex':{'type':_0x52c5d3(0xbe0)},'explanation':{'type':_0x52c5d3(0x6d8)}},'required':[_0x52c5d3(0x629),_0x52c5d3(0xb70),'correctAnswerIndex',_0x52c5d3(0xb1d)]},_0x4a9994={'type':_0x52c5d3(0x695),'properties':{'topic':{'type':_0x52c5d3(0x6d8)},'questions':{'type':_0x52c5d3(0x159),'items':_0x4463f5}},'required':[_0x52c5d3(0x65f),_0x52c5d3(0x5cd)]};try{const _0x1f6e5e=await callAnalysisApi(_0x361727,_0x4a9994);_0x1f6e5e['isRemedial']=!![],studentReadingArea['classList'][_0x52c5d3(0x350)](_0x52c5d3(0x9d2));const _0x2ca961={...currentDisplayedQuiz[_0x52c5d3(0x997)],'isAdaptive':![],'resultsDisplay':_0x52c5d3(0x9ff)};_0x1f6e5e[_0x52c5d3(0x997)]=_0x2ca961,displayQuizForStudent(_0x1f6e5e);}catch(_0x3c82f5){console[_0x52c5d3(0x2e9)](_0x52c5d3(0xaed),_0x3c82f5),showMessage(_0x52c5d3(0x663)),showView(_0x52c5d3(0x927));}}function displayPassFailOnly(_0x122bc9,_0x343e61){const _0x723044=_0x3a383e,_0x4d0ece=currentDisplayedQuiz['settings']?.[_0x723044(0xa32)]??-0x1,_0x29580a=currentDisplayedQuiz[_0x723044(0xa74)]===!![];let _0x22200e='',_0x5d3f1b=![];if(_0x29580a||_0x4d0ece!==-0x1){_0x5d3f1b=_0x29580a?_0x122bc9===_0x343e61:_0x122bc9>=_0x4d0ece;const _0x3623e3=_0x5d3f1b?_0x723044(0x83b):_0x723044(0xc91),_0x3d497f=_0x5d3f1b?'ผ่าน':_0x723044(0x720);_0x22200e=_0x723044(0xc31)+_0x3623e3+'\x22>'+_0x3d497f+_0x723044(0x5e0);}else _0x22200e=_0x723044(0x696);let _0x11a725='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x723044(0x625)+_0x22200e+_0x723044(0x88c);studentResultArea[_0x723044(0x377)]=_0x11a725,studentResultArea[_0x723044(0x4c1)][_0x723044(0xb01)]('hidden'),studentQuizArea[_0x723044(0x4c1)][_0x723044(0x350)](_0x723044(0x9d2)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5d3f1b});}function cancelAdminTest(){const _0x4e54fd=_0x3a383e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x4e54fd(0xbaf)](_0x4e54fd(0xb7e),handleFullscreenChange),document[_0x4e54fd(0xbaf)](_0x4e54fd(0x38a),handleVisibilityChange),currentMode=_0x4e54fd(0x4a6),studentView[_0x4e54fd(0x4c1)][_0x4e54fd(0x350)](_0x4e54fd(0x9d2)),adminView['classList']['remove'](_0x4e54fd(0x9d2)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x4e54fd(0x76f));}function setupResultScreenBackButton(_0x1d1627){const _0xd97a04=_0x3a383e,_0x4197f4={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1d1627};if(_0x4197f4[_0xd97a04(0x8ff)]){const _0xd9bc16='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0xd97a04(0x31b),_0xd9bc16),document[_0xd97a04(0x552)]('retake-quiz-loop-btn')[_0xd97a04(0x224)](_0xd97a04(0x43a),()=>{const _0x1ba1fb=_0xd97a04;studentResultArea['classList'][_0x1ba1fb(0x350)](_0x1ba1fb(0x9d2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5e2799='back-from-results-btn',_0x2a1429=currentMode==='admin-testing',_0x597e37=_0x2a1429?_0xd97a04(0xa4e):_0xd97a04(0x198);let _0x5be4e7='';_0x4197f4[_0xd97a04(0x305)]&&(_0x5be4e7+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x24f02f=_0x4197f4[_0xd97a04(0x71a)];_0x24f02f===undefined&&(_0x24f02f=_0x4197f4[_0xd97a04(0xbd7)]<_0x4197f4['totalQuestions']);_0x24f02f&&(_0x5be4e7+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x5be4e7+=_0xd97a04(0x4b8)+_0x5e2799+_0xd97a04(0x7ec)+_0x597e37+'</button>';const _0x46f433=_0xd97a04(0x758)+_0x5be4e7+'</div>';studentResultArea['insertAdjacentHTML']('beforeend',_0x46f433),studentResultArea[_0xd97a04(0x972)](_0xd97a04(0x961))?.[_0xd97a04(0x224)](_0xd97a04(0x43a),handleShowStudentRankings);const _0x5624ad=studentResultArea[_0xd97a04(0x972)](_0xd97a04(0x58a));_0x5624ad&&_0x5624ad[_0xd97a04(0x224)](_0xd97a04(0x43a),()=>{const _0x34204a=_0xd97a04;studentResultArea[_0x34204a(0x4c1)][_0x34204a(0x350)](_0x34204a(0x9d2)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0xd97a04(0x552)](_0x5e2799)[_0xd97a04(0x224)](_0xd97a04(0x43a),()=>{const _0x19efef=_0xd97a04;_0x2a1429?(currentMode=_0x19efef(0x4a6),studentView[_0x19efef(0x4c1)][_0x19efef(0x350)](_0x19efef(0x9d2)),adminView[_0x19efef(0x4c1)][_0x19efef(0xb01)](_0x19efef(0x9d2)),showView('project-detail')):(showView(_0x19efef(0x927)),document[_0x19efef(0x552)](_0x19efef(0xb0f))['value']='');});}function displayResultsWithAnswers(_0x4496ac,_0xebd042,_0x16e12e,_0x3650bf,_0x3ba47c,_0x592bd0=![]){const _0x3969d8=_0x3a383e,_0x3fa23c=_0x3ba47c>0x0?_0x4496ac/_0x3ba47c*0x64:0x0,_0xc6428=currentDisplayedQuiz[_0x3969d8(0x997)]?.[_0x3969d8(0xa32)]??-0x1,_0x2a8877=currentDisplayedQuiz['isRemedial']===!![];let _0x11c3ca='';if(_0x2a8877||_0xc6428!==-0x1){let _0x163942=_0x2a8877?_0x4496ac===_0x3ba47c:_0x4496ac>=_0xc6428;const _0xee8b1a=_0x163942?'bg-green-100\x20text-green-800':_0x3969d8(0xc91),_0x516924=_0x163942?_0x3969d8(0xbe7):_0x3969d8(0x720);_0x11c3ca=_0x3969d8(0xc1a)+_0xee8b1a+'\x22>'+_0x516924+_0x3969d8(0xb8e);}let _0x265da8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x4496ac+_0x3969d8(0x215)+_0x3ba47c+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11c3ca+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0xebd042+_0x3969d8(0x6c2)+_0x3fa23c['toFixed'](0x0)+_0x3969d8(0x22a);currentDisplayedQuiz[_0x3969d8(0x5cd)][_0x3969d8(0x1f5)]((_0x1d5927,_0x2b9298)=>{const _0x32dcf5=_0x3969d8,_0x2fbe2f=_0x3650bf[_0x2b9298],_0x2422a0=_0x2fbe2f[_0x32dcf5(0xa51)],_0x40e5dc=_0x2fbe2f[_0x32dcf5(0x1c8)],_0xd4c6bf=_0x1d5927[_0x32dcf5(0x5be)]||currentDisplayedQuiz[_0x32dcf5(0x8bd)];_0x265da8+=_0x32dcf5(0x373)+(_0x40e5dc?_0x32dcf5(0x466):'border-red-300\x20bg-red-50')+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x2b9298+0x1)+'.\x20'+(_0x1d5927[_0x32dcf5(0x2a5)]||_0x1d5927[_0x32dcf5(0x629)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0xd4c6bf){case _0x32dcf5(0x4b4):const _0x2bccef=_0x2422a0||'ไม่ได้ตอบ',_0x691b90=_0x1d5927[_0x32dcf5(0x8b9)];_0x265da8+=_0x32dcf5(0x454)+(!_0x40e5dc?'line-through\x20text-red-700':'')+'\x22>'+_0x2bccef+_0x32dcf5(0xc2f);!_0x40e5dc&&(_0x265da8+=_0x32dcf5(0xc37)+_0x691b90+'</p>');break;case _0x32dcf5(0x952):_0x265da8+=_0x32dcf5(0x4bc)+(_0x2422a0||_0x32dcf5(0x1b0))+_0x32dcf5(0xb8e),_0x265da8+=_0x32dcf5(0x8fa)+_0x1d5927[_0x32dcf5(0x572)]+'</p>';break;case'true_false':_0x265da8+=_0x32dcf5(0x9af)+(_0x1d5927['correctAnswer']===!![]?_0x32dcf5(0x3f9):'')+'\x20'+(_0x2422a0===_0x32dcf5(0xcb5)&&!_0x40e5dc?_0x32dcf5(0xa47):'')+_0x32dcf5(0x281),_0x265da8+=_0x32dcf5(0x9af)+(_0x1d5927[_0x32dcf5(0x207)]===![]?_0x32dcf5(0x3f9):'')+'\x20'+(_0x2422a0===_0x32dcf5(0x5c9)&&!_0x40e5dc?'line-through\x20text-red-700':'')+_0x32dcf5(0x83c);break;default:_0x265da8+=_0x1d5927['options'][_0x32dcf5(0x75d)]((_0x217ef1,_0x643827)=>{const _0xdaa97b=_0x32dcf5;let _0x501a6a='',_0x364b16='';if(_0x643827===_0x1d5927[_0xdaa97b(0xb21)])_0x501a6a='font-bold\x20text-green-700',_0x364b16=_0xdaa97b(0x85e);else _0x643827===_0x2422a0&&(_0x501a6a='font-bold\x20text-red-700\x20line-through',_0x364b16=_0xdaa97b(0x57e));return _0xdaa97b(0x2b9)+_0x501a6a+'\x22>'+_0x364b16+_0x217ef1+'</div>';})[_0x32dcf5(0xa89)]('');break;}_0x265da8+=_0x32dcf5(0x7c0)+(_0x1d5927[_0x32dcf5(0xb1d)]||_0x32dcf5(0xaf0))+_0x32dcf5(0xc87);if(!_0x40e5dc){const _0x2600c2=_0x1d5927['stem']||_0x1d5927[_0x32dcf5(0x629)];_0x265da8+=_0x32dcf5(0x8dd)+escape(_0x2600c2)+_0x32dcf5(0x1bb);}_0x265da8+=_0x32dcf5(0xc87);}),studentResultArea[_0x3969d8(0x377)]=_0x265da8,renderEarnedBadges(_0x16e12e,_0x3969d8(0x288)),studentResultArea[_0x3969d8(0x4c1)][_0x3969d8(0xb01)]('hidden'),studentQuizArea[_0x3969d8(0x4c1)][_0x3969d8(0x350)]('hidden'),setupResultScreenBackButton({'isLooping':_0x592bd0,'score':_0x4496ac,'totalQuestions':_0x3ba47c,'showRankings':!![]});if(window[_0x3969d8(0xc8b)])window[_0x3969d8(0xc8b)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x4fae30,_0x2bd895,_0x565076,_0x10e200){const _0x59f43d=_0x3a383e,_0x20293b=_0x10e200>0x0?_0x4fae30/_0x10e200*0x64:0x0,_0x4d1aa7=currentDisplayedQuiz['settings']?.[_0x59f43d(0xa32)]??-0x1,_0x181f44=currentDisplayedQuiz[_0x59f43d(0xa74)]===!![];let _0x30730b='';if(_0x181f44||_0x4d1aa7!==-0x1){let _0x5c7e89=_0x181f44?_0x4fae30===_0x10e200:_0x4fae30>=_0x4d1aa7;const _0x3ca7d2=_0x5c7e89?_0x59f43d(0x83b):'bg-red-100\x20text-red-800',_0xc72543=_0x5c7e89?_0x59f43d(0xbe7):_0x59f43d(0x720);_0x30730b=_0x59f43d(0xc1a)+_0x3ca7d2+'\x22>'+_0xc72543+_0x59f43d(0xb8e);}let _0xe13b2=_0x59f43d(0x9c9)+currentStudentName+_0x59f43d(0x2a8)+_0x4fae30+_0x59f43d(0x2c6)+_0x10e200+_0x59f43d(0x31c)+_0x30730b+_0x59f43d(0x59c)+_0x2bd895+_0x59f43d(0x2ee)+_0x20293b[_0x59f43d(0x163)](0x0)+_0x59f43d(0x98f);studentResultArea[_0x59f43d(0x377)]=_0xe13b2,renderEarnedBadges(_0x565076,_0x59f43d(0x288)),studentResultArea[_0x59f43d(0x4c1)]['remove'](_0x59f43d(0x9d2)),studentQuizArea['classList'][_0x59f43d(0x350)](_0x59f43d(0x9d2)),setupResultScreenBackButton({'score':_0x4fae30,'totalQuestions':_0x10e200,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x27f9c7=_0x3a383e;let _0x286085=_0x27f9c7(0x944)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x27f9c7(0x377)]=_0x286085,studentResultArea[_0x27f9c7(0x4c1)][_0x27f9c7(0xb01)](_0x27f9c7(0x9d2)),studentQuizArea['classList'][_0x27f9c7(0x350)](_0x27f9c7(0x9d2)),document['getElementById'](_0x27f9c7(0xab6))[_0x27f9c7(0x224)](_0x27f9c7(0x43a),()=>{const _0xee1b5=_0x27f9c7;showView(_0xee1b5(0x927)),document[_0xee1b5(0x552)](_0xee1b5(0xb0f))[_0xee1b5(0x203)]='';});}function renderEarnedBadges(_0x31a282,_0x590f21){const _0x48a93e=_0x3a383e,_0x488e7a=document[_0x48a93e(0x552)](_0x590f21);if(!_0x488e7a||!_0x31a282||_0x31a282['length']===0x0)return;let _0x41ad53='';_0x31a282[_0x48a93e(0x1f5)]((_0x895e04,_0x4b28bc)=>{const _0xfc5ff5=_0x48a93e,_0x219880=Object[_0xfc5ff5(0x8b4)](BADGES)['find'](_0x846b94=>_0x846b94['id']===_0x895e04);_0x219880&&(_0x41ad53+=_0xfc5ff5(0x54e)+_0x4b28bc*0.2+'s;\x22\x20title=\x22'+_0x219880[_0xfc5ff5(0x5e9)]+_0xfc5ff5(0x7f3)+_0x219880[_0xfc5ff5(0x5b7)]+_0xfc5ff5(0x7b8)+_0x219880['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x488e7a[_0x48a93e(0x377)]=_0x41ad53;}function startPresentation(_0x368fee){const _0x4a40c8=_0x3a383e;currentQuizData=getShuffledQuiz(_0x368fee),currentPresentationSlide=0x0,presentationModal['style'][_0x4a40c8(0xcab)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2f8a61=_0x3a383e;document['fullscreenElement']&&document[_0x2f8a61(0x56b)](),presentationModal[_0x2f8a61(0x89b)][_0x2f8a61(0xcab)]=_0x2f8a61(0xbde);}function renderPresentationSlide(_0x41d76a){const _0x1baa58=_0x3a383e,_0x58b6e3=document['getElementById'](_0x1baa58(0x15c));if(!currentQuizData||!currentQuizData[_0x1baa58(0x5cd)]||!currentQuizData[_0x1baa58(0x5cd)][_0x41d76a]){_0x58b6e3['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x5cf751=currentQuizData[_0x1baa58(0x5cd)][_0x41d76a],_0x3aeaae=_0x5cf751[_0x1baa58(0x5be)]||currentQuizData['quizType'];_0x58b6e3[_0x1baa58(0x377)]='';let _0x306eb=_0x1baa58(0x72a)+(_0x5cf751[_0x1baa58(0x9e7)]?_0x1baa58(0x7d5)+_0x5cf751['imageCode']+_0x1baa58(0xc87):'')+_0x1baa58(0x359)+(_0x41d76a+0x1)+'.\x20'+(_0x5cf751[_0x1baa58(0x2a5)]||_0x5cf751[_0x1baa58(0x629)])+_0x1baa58(0x470);switch(_0x3aeaae){case _0x1baa58(0x4b4):_0x306eb+=_0x5cf751[_0x1baa58(0xaeb)]['map'](_0x577d57=>_0x1baa58(0x333)+_0x577d57+_0x1baa58(0xc46))[_0x1baa58(0xa89)]('');break;case _0x1baa58(0x631):_0x306eb+=_0x1baa58(0x78a),_0x306eb+=_0x1baa58(0x1c3);break;case'fill_in_no_choices':case _0x1baa58(0x952):_0x306eb+=_0x1baa58(0x6b0);break;case'fill_in_the_blank':case _0x1baa58(0x2df):default:_0x306eb+=_0x5cf751[_0x1baa58(0xb70)][_0x1baa58(0x75d)]((_0x489151,_0x5f3f84)=>_0x1baa58(0x79e)+_0x5f3f84+_0x1baa58(0x789)+_0x489151+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1baa58(0xa89)]('');break;}_0x306eb+=_0x1baa58(0x973)+(_0x5cf751[_0x1baa58(0xb1d)]||_0x1baa58(0xaf0))+_0x1baa58(0x47c),_0x58b6e3[_0x1baa58(0x377)]=_0x306eb;if(window[_0x1baa58(0xc8b)])window[_0x1baa58(0xc8b)]['typesetPromise']([_0x58b6e3]);let _0x542b20=[];switch(_0x3aeaae){case _0x1baa58(0x4b4):_0x542b20=_0x5cf751[_0x1baa58(0xaeb)]||[];break;case _0x1baa58(0x631):_0x542b20=['ใช่',_0x1baa58(0x624)];break;default:_0x542b20=_0x5cf751[_0x1baa58(0xb70)]||[];break;}const _0x536607=document[_0x1baa58(0x552)](_0x1baa58(0x3da));_0x536607&&(_0x536607[_0x1baa58(0x6f4)]=()=>{openScratchpad(_0x5cf751,_0x542b20);});document['querySelectorAll'](_0x1baa58(0x8b1))[_0x1baa58(0x1f5)](_0x341603=>{const _0x4da0f6=_0x1baa58;_0x341603[_0x4da0f6(0x224)](_0x4da0f6(0x43a),_0x4825eb=>revealAnswerForPresentation(_0x41d76a,_0x4825eb[_0x4da0f6(0x372)]));});const _0x4674ff=document[_0x1baa58(0x552)]('check-presentation-answer-btn');_0x4674ff&&_0x4674ff[_0x1baa58(0x224)](_0x1baa58(0x43a),()=>checkShortAnswerForPresentation(_0x41d76a)),document[_0x1baa58(0x552)](_0x1baa58(0x7aa))[_0x1baa58(0x37a)]='ข้อที่\x20'+(_0x41d76a+0x1)+_0x1baa58(0x5e1)+currentQuizData[_0x1baa58(0x5cd)][_0x1baa58(0x636)],document[_0x1baa58(0x552)](_0x1baa58(0x819))['disabled']=_0x41d76a===0x0,document['getElementById'](_0x1baa58(0x2da))['disabled']=_0x41d76a===currentQuizData['questions'][_0x1baa58(0x636)]-0x1;}async function checkShortAnswerForPresentation(_0x1328f0){const _0x56dd8c=_0x3a383e,_0x3e0dbd=currentQuizData[_0x56dd8c(0x5cd)][_0x1328f0],_0x78efa8=document['getElementById'](_0x56dd8c(0x386)),_0x28b800=document[_0x56dd8c(0x552)](_0x56dd8c(0x860)),_0x4cdc70=document[_0x56dd8c(0x552)](_0x56dd8c(0xb5c)),_0xdd107=document[_0x56dd8c(0x552)]('presentation-explanation');if(!_0x78efa8||!_0x28b800||!_0x4cdc70||!_0xdd107)return;const _0x4463c3=_0x78efa8[_0x56dd8c(0x203)][_0x56dd8c(0x887)]();if(_0x4463c3==='')return;_0x28b800[_0x56dd8c(0x7ce)]=!![],_0x28b800[_0x56dd8c(0x377)]=_0x56dd8c(0x7cb),_0x78efa8[_0x56dd8c(0x7ce)]=!![];const _0x36bb38=await gradeShortAnswer(_0x4463c3,_0x3e0dbd);_0x36bb38?_0x4cdc70[_0x56dd8c(0x377)]=_0x56dd8c(0x331):_0x4cdc70['innerHTML']=_0x56dd8c(0x351)+_0x3e0dbd[_0x56dd8c(0x572)]+')',_0x4cdc70[_0x56dd8c(0x4c1)][_0x56dd8c(0xb01)](_0x56dd8c(0x9d2)),_0xdd107[_0x56dd8c(0x4c1)]['remove'](_0x56dd8c(0x9d2)),_0x28b800[_0x56dd8c(0x4c1)][_0x56dd8c(0x350)](_0x56dd8c(0x9d2));}function revealAnswerForPresentation(_0x19f3cf,_0x2fb4b4){const _0x470fed=_0x3a383e,_0x1e664f=currentQuizData[_0x470fed(0x5cd)][_0x19f3cf],_0x5e4e57=_0x1e664f['questionType']||currentQuizData['quizType'];document[_0x470fed(0x3e0)](_0x470fed(0x8b1))['forEach'](_0x2fcea6=>{const _0x36fe0e=_0x470fed;_0x2fcea6['disabled']=!![],_0x2fcea6[_0x36fe0e(0x4c1)][_0x36fe0e(0xb01)](_0x36fe0e(0x2f5));let _0x568524=![];if(_0x5e4e57==='multiple_choice'||_0x5e4e57===_0x36fe0e(0x488)){const _0x341770=parseInt(_0x2fcea6[_0x36fe0e(0x79d)]['index']);_0x568524=_0x341770===_0x1e664f['correctAnswerIndex'];}else{if(_0x5e4e57===_0x36fe0e(0x631)){const _0x132382=_0x2fcea6['dataset'][_0x36fe0e(0xa51)]==='true';_0x568524=_0x132382===_0x1e664f[_0x36fe0e(0x207)];}else _0x5e4e57==='matching_item'&&(_0x568524=_0x2fcea6['textContent']['trim']()===_0x1e664f['correctResponse']);}_0x568524?_0x2fcea6[_0x36fe0e(0x4c1)][_0x36fe0e(0x350)](_0x36fe0e(0x6ef),_0x36fe0e(0x158),'border-green-700'):_0x2fcea6['classList'][_0x36fe0e(0x350)](_0x36fe0e(0x8f6));}),_0x2fb4b4['classList'][_0x470fed(0xb01)](_0x470fed(0x8f6));let _0x4526b5=![];if(_0x5e4e57===_0x470fed(0x2df))_0x4526b5=parseInt(_0x2fb4b4['dataset'][_0x470fed(0x5b3)])===_0x1e664f[_0x470fed(0xb21)];else{if(_0x5e4e57===_0x470fed(0x631))_0x4526b5=_0x2fb4b4[_0x470fed(0x79d)][_0x470fed(0xa51)]===_0x470fed(0xcb5)===_0x1e664f[_0x470fed(0x207)];else _0x5e4e57===_0x470fed(0x4b4)&&(_0x4526b5=_0x2fb4b4[_0x470fed(0x37a)]['trim']()===_0x1e664f[_0x470fed(0x8b9)]);}!_0x4526b5&&_0x2fb4b4['classList'][_0x470fed(0x350)]('bg-red-500',_0x470fed(0x158),_0x470fed(0x667)),document['getElementById']('presentation-explanation')[_0x470fed(0x4c1)][_0x470fed(0xb01)]('hidden');}function _0x35c4(_0x30aa84,_0x3c1571){const _0x17b2a3=_0x17b2();return _0x35c4=function(_0x35c449,_0x24c64f){_0x35c449=_0x35c449-0x146;let _0x1ba30a=_0x17b2a3[_0x35c449];return _0x1ba30a;},_0x35c4(_0x30aa84,_0x3c1571);}function startWholeQuizTimer(_0x5f489d){const _0x797e53=_0x3a383e,_0x5cd358=document[_0x797e53(0x552)](_0x797e53(0xad7));if(!_0x5cd358)return;const _0xfe067e=Date[_0x797e53(0x15a)]()+_0x5f489d*0x3c*0x3e8;_0x5cd358['innerHTML']=_0x797e53(0x3cd);const _0x4729fe=document[_0x797e53(0x552)](_0x797e53(0x67a));quizTimerInterval=setInterval(()=>{const _0x319c0f=_0x797e53,_0x1224c1=_0xfe067e-Date[_0x319c0f(0x15a)]();if(_0x1224c1<=0x0)clearInterval(quizTimerInterval),_0x4729fe[_0x319c0f(0x37a)]=_0x319c0f(0x854),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x118956=Math[_0x319c0f(0x429)](_0x1224c1/0x3e8/0x3c%0x3c)[_0x319c0f(0x2de)]()[_0x319c0f(0x87d)](0x2,'0'),_0x1bd7d0=Math[_0x319c0f(0x429)](_0x1224c1/0x3e8%0x3c)[_0x319c0f(0x2de)]()['padStart'](0x2,'0');_0x4729fe[_0x319c0f(0x37a)]=_0x118956+':'+_0x1bd7d0;}},0x3e8);}function renderPerQuestionView(){const _0x51d027=_0x3a383e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x410171=currentDisplayedQuiz[_0x51d027(0x5cd)][currentQuestionIndex],_0x356fba=_0x410171[_0x51d027(0x5be)]||currentDisplayedQuiz['quizType'],_0x5c2e71=currentDisplayedQuiz['settings']?.[_0x51d027(0x7fa)]===!![];let _0x4301e9=_0x51d027(0xb1f)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x51d027(0x636)]+_0x51d027(0x8b2)+(currentMode===_0x51d027(0xa1e)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x51d027(0x53b)+currentDisplayedQuiz[_0x51d027(0x65f)]+_0x51d027(0x52d);studentQuizArea[_0x51d027(0x377)]=_0x4301e9;let _0x246e23=_0x410171[_0x51d027(0x2a5)]||_0x410171[_0x51d027(0x629)];_0x410171[_0x51d027(0x9e7)]&&(_0x246e23+=_0x51d027(0x7d5)+_0x410171[_0x51d027(0x9e7)]+_0x51d027(0xc87));let _0xb4d334='';switch(_0x356fba){case _0x51d027(0x952):case _0x51d027(0x349):_0xb4d334=_0x51d027(0x8b0);break;case _0x51d027(0x631):_0xb4d334=_0x51d027(0x6c9);break;case _0x51d027(0x4b4):_0xb4d334=_0x51d027(0xbfb)+(_0x410171['allResponses']||[])[_0x51d027(0x75d)](_0x55f0a7=>_0x51d027(0x7dd)+_0x55f0a7+'\x22>'+_0x55f0a7+_0x51d027(0xa0c))[_0x51d027(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x410171[_0x51d027(0xb70)]&&(_0xb4d334=_0x410171[_0x51d027(0xb70)][_0x51d027(0x75d)]((_0x1108cb,_0x2209ab)=>_0x51d027(0x7b3)+_0x2209ab+_0x51d027(0x2f7)+_0x2209ab+_0x51d027(0x965)+_0x2209ab+'\x22>'+_0x1108cb+_0x51d027(0x953))['join'](''));break;}document[_0x51d027(0x552)](_0x51d027(0x5ee))[_0x51d027(0x377)]=_0x246e23,document[_0x51d027(0x552)]('per-question-options')[_0x51d027(0x377)]=_0xb4d334;const _0x162693=currentDisplayedQuiz[_0x51d027(0x997)]?.['isConfidenceScoringEnabled']===!![],_0x600bf8=currentDisplayedQuiz[_0x51d027(0x997)]?.[_0x51d027(0xccc)]||_0x51d027(0x55b);if(_0x162693&&_0x600bf8===_0x51d027(0x55b)){const _0x5e3c56=_0x51d027(0xb06);studentQuizArea[_0x51d027(0x972)](_0x51d027(0x5d7))[_0x51d027(0x82e)]('beforeend',_0x5e3c56);}studentQuizArea[_0x51d027(0x82e)](_0x51d027(0x31b),_0x51d027(0x37f)+(currentQuestionIndex===currentDisplayedQuiz[_0x51d027(0x5cd)][_0x51d027(0x636)]-0x1?_0x51d027(0x18c):_0x51d027(0xb51))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x51d027(0xa1e)&&document[_0x51d027(0x552)](_0x51d027(0x664))?.[_0x51d027(0x224)](_0x51d027(0x43a),cancelAdminTest);document[_0x51d027(0x552)](_0x51d027(0x564))[_0x51d027(0x224)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x51d027(0xc8b)][_0x51d027(0x171)]([studentQuizArea]);currentDisplayedQuiz[_0x51d027(0x997)]?.['timerMode']===_0x51d027(0x3b9)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5c4acf=_0x3a383e,_0x43a7bf=currentDisplayedQuiz[_0x5c4acf(0x997)][_0x5c4acf(0x22c)],_0x4062aa=document[_0x5c4acf(0x552)](_0x5c4acf(0x7e1));if(!_0x4062aa)return;let _0x3e4782=_0x43a7bf;_0x4062aa['innerHTML']=_0x5c4acf(0x89c)+_0x3e4782+_0x5c4acf(0xb1b);const _0x315e8b=document['getElementById']('timer-bar'),_0x2afd9c=document[_0x5c4acf(0x552)](_0x5c4acf(0x5dc));perQuestionTimerInterval=setInterval(()=>{const _0x21f81d=_0x5c4acf;_0x3e4782--;const _0x54dd73=_0x3e4782/_0x43a7bf*0x64;_0x315e8b[_0x21f81d(0x89b)][_0x21f81d(0x438)]=_0x54dd73+'%',_0x2afd9c['textContent']=_0x3e4782,_0x3e4782<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x21f81d(0x3fe)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x28b7c6=![]){const _0x12dd99=_0x3a383e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x9c6f6b=null,_0x3157f1=![];if(!_0x28b7c6){const _0x56ceb2=currentDisplayedQuiz['questions'][currentQuestionIndex],_0xbb7346=_0x56ceb2[_0x12dd99(0x5be)]||currentDisplayedQuiz['quizType'];if(_0xbb7346==='short_answer'||_0xbb7346===_0x12dd99(0x349))_0x9c6f6b=document[_0x12dd99(0x972)](_0x12dd99(0xa2b))?.[_0x12dd99(0x203)][_0x12dd99(0x887)]()??'';else{if(_0xbb7346===_0x12dd99(0x4b4))_0x9c6f6b=document[_0x12dd99(0x972)]('select[name=\x22question_single\x22]')?.[_0x12dd99(0x203)]??'';else{const _0x2c69f4=document[_0x12dd99(0x972)](_0x12dd99(0xa24));_0x2c69f4&&(_0x9c6f6b=_0x2c69f4['value']);}}if(_0x9c6f6b===null||_0x9c6f6b===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x326148=currentDisplayedQuiz['settings']?.[_0x12dd99(0x7fa)]===!![],_0x53c576=currentDisplayedQuiz[_0x12dd99(0x997)]?.[_0x12dd99(0xccc)]||'checkbox';if(_0x326148&&_0x53c576===_0x12dd99(0xc7e)){document[_0x12dd99(0x552)](_0x12dd99(0xca8))[_0x12dd99(0x79d)][_0x12dd99(0xb60)]=_0x12dd99(0xbcf),document['getElementById'](_0x12dd99(0x845))[_0x12dd99(0x203)]=_0x9c6f6b,document['getElementById']('confidence-modal')['classList'][_0x12dd99(0xb01)](_0x12dd99(0x9d2));return;}const _0x4ef54d=document[_0x12dd99(0x552)]('confidence_single');_0x4ef54d&&(_0x3157f1=_0x4ef54d[_0x12dd99(0xd08)]);}const _0x307098={'answer':_0x9c6f6b,'wasConfident':_0x3157f1};proceedToNextQuestion(_0x307098);}async function finalizePerQuestionQuiz(){const _0x2773bd=_0x3a383e,_0x1253a4=currentDisplayedQuiz[_0x2773bd(0x5cd)]['some'](_0x5c2a57=>_0x5c2a57[_0x2773bd(0x5be)]===_0x2773bd(0x952));_0x1253a4?showMessage(_0x2773bd(0xb4f)):showMessage(_0x2773bd(0x450));const _0x13187=currentQuizData['id'],_0x1350b6=doc(db,'artifacts/'+appId+_0x2773bd(0x847)+_0x13187+_0x2773bd(0x32e),currentStudentName),_0x33ff57=await getDoc(_0x1350b6),_0x44979c=_0x33ff57['exists']()?_0x33ff57[_0x2773bd(0x183)]():{},_0x2f7d5c=_0x44979c[_0x2773bd(0x61f)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2f7d5c);}function getResultsFilename(){const _0x553f87=_0x3a383e,_0x58a89a=document['getElementById'](_0x553f87(0x5a6))[_0x553f87(0x37a)]['replace'](/[^a-z0-9]/gi,'_')[_0x553f87(0x883)]();return _0x553f87(0x2e4)+(_0x58a89a||_0x553f87(0x876));}function exportResultsAsImage(){const _0x24a10a=_0x3a383e,_0x55e38e=document['getElementById']('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x55e38e)[_0x24a10a(0x656)](_0x32cd55=>{const _0x3d0289=_0x24a10a,_0x4222f5=document[_0x3d0289(0x9eb)]('a');_0x4222f5[_0x3d0289(0x8ce)]=getResultsFilename()+'.png',_0x4222f5[_0x3d0289(0x265)]=_0x32cd55[_0x3d0289(0x9fb)](_0x3d0289(0x647)),_0x4222f5[_0x3d0289(0x43a)](),messageModal[_0x3d0289(0x4c1)][_0x3d0289(0x350)](_0x3d0289(0x9d2));});}function exportResultsAsPDF(){const _0x5adaf0=_0x3a383e,{jsPDF:_0x2d51fe}=window[_0x5adaf0(0x248)],_0x103d38=new _0x2d51fe();_0x103d38[_0x5adaf0(0xb4c)](_0x5adaf0(0x26a),'normal'),_0x103d38[_0x5adaf0(0x271)]({'html':_0x5adaf0(0x61e)}),_0x103d38[_0x5adaf0(0x810)](getResultsFilename()+_0x5adaf0(0x843));}function exportResultsAsWord(){const _0x33959f=_0x3a383e,_0x5d4f2a=_0x33959f(0x47d)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x33959f(0xbca)+_0x33959f(0x409),_0x40f69b=_0x33959f(0x3b0),_0x377048=_0x5d4f2a+document[_0x33959f(0x552)](_0x33959f(0xa46))[_0x33959f(0x377)]+_0x40f69b,_0x3c265a=_0x33959f(0x641)+encodeURIComponent(_0x377048),_0x31e629=document['createElement']('a');document[_0x33959f(0x6d4)][_0x33959f(0x367)](_0x31e629),_0x31e629['href']=_0x3c265a,_0x31e629[_0x33959f(0x8ce)]=getResultsFilename()+'.doc',_0x31e629[_0x33959f(0x43a)](),document[_0x33959f(0x6d4)][_0x33959f(0x1fc)](_0x31e629);}function exportResultsAsExcel(){const _0x5c859b=_0x3a383e,_0x46bc6b=document[_0x5c859b(0x552)](_0x5c859b(0xcae));let _0x243290=[];for(let _0x791a24=0x0;_0x791a24<_0x46bc6b[_0x5c859b(0x1f3)][_0x5c859b(0x636)];_0x791a24++){let _0x5d69e0=[],_0x37f6e2=_0x46bc6b[_0x5c859b(0x1f3)][_0x791a24]['querySelectorAll']('td,\x20th');for(let _0x21e5e1=0x0;_0x21e5e1<_0x37f6e2[_0x5c859b(0x636)];_0x21e5e1++){_0x5d69e0[_0x5c859b(0x321)]('\x22'+_0x37f6e2[_0x21e5e1]['innerText'][_0x5c859b(0xbc5)](/"/g,'\x22\x22')+'\x22');}_0x243290[_0x5c859b(0x321)](_0x5d69e0[_0x5c859b(0xa89)](','));}const _0x49feda=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x243290['join']('\x0a')],{'type':_0x5c859b(0x4a2)}),_0x34ad07=document['createElement']('a');_0x34ad07[_0x5c859b(0x265)]=URL['createObjectURL'](_0x49feda),_0x34ad07['download']=getResultsFilename()+_0x5c859b(0x77f),_0x34ad07[_0x5c859b(0x43a)]();}function exportTableAsImage(_0x2e991d,_0x285fe0){const _0xf1230a=_0x3a383e,_0xe4f5eb=document['getElementById'](_0x2e991d);if(!_0xe4f5eb){showMessage(_0xf1230a(0x21a));return;}showMessage(_0xf1230a(0x547)),html2canvas(_0xe4f5eb)[_0xf1230a(0x656)](_0x2e058e=>{const _0x12c3a5=_0xf1230a,_0x55a7f2=document[_0x12c3a5(0x9eb)]('a');_0x55a7f2[_0x12c3a5(0x8ce)]=_0x285fe0+'.png',_0x55a7f2[_0x12c3a5(0x265)]=_0x2e058e[_0x12c3a5(0x9fb)](_0x12c3a5(0x647)),_0x55a7f2[_0x12c3a5(0x43a)](),messageModal[_0x12c3a5(0x4c1)]['add']('hidden');});}function exportTableAsPDF(_0x26329a,_0x431646){const _0x300f17=_0x3a383e,{jsPDF:_0x500dd2}=window['jspdf'],_0x37c133=new _0x500dd2();_0x37c133['setFont'](_0x300f17(0x26a),_0x300f17(0x1ee)),_0x37c133[_0x300f17(0x271)]({'html':'#'+_0x26329a}),_0x37c133['save'](_0x431646+_0x300f17(0x843));}function exportTableAsWord(_0x4d5ea6,_0x5bd121){const _0x581f26=_0x3a383e,_0x246b84=document['getElementById'](_0x4d5ea6);if(!_0x246b84){showMessage(_0x581f26(0x21a));return;}const _0x385cb2=_0x581f26(0x47d)+_0x581f26(0x4df)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x581f26(0x409),_0x38aa7b='</body></html>',_0x21f7ba=_0x385cb2+_0x246b84[_0x581f26(0x377)]+_0x38aa7b,_0x313ddb=_0x581f26(0x641)+encodeURIComponent(_0x21f7ba),_0x427334=document[_0x581f26(0x9eb)]('a');document[_0x581f26(0x6d4)][_0x581f26(0x367)](_0x427334),_0x427334[_0x581f26(0x265)]=_0x313ddb,_0x427334[_0x581f26(0x8ce)]=_0x5bd121+_0x581f26(0x272),_0x427334[_0x581f26(0x43a)](),document[_0x581f26(0x6d4)]['removeChild'](_0x427334);}function exportTableAsExcel(_0x27f2ea,_0xe88a21){const _0x337012=_0x3a383e,_0x3517f7=document[_0x337012(0x552)](_0x27f2ea);if(!_0x3517f7){showMessage(_0x337012(0x21a));return;}let _0x104745=[];for(let _0x46b03f=0x0;_0x46b03f<_0x3517f7['rows']['length'];_0x46b03f++){let _0x2aac98=[],_0x2e42b3=_0x3517f7['rows'][_0x46b03f]['querySelectorAll'](_0x337012(0x95f));for(let _0x14c675=0x0;_0x14c675<_0x2e42b3[_0x337012(0x636)];_0x14c675++){_0x2aac98[_0x337012(0x321)]('\x22'+_0x2e42b3[_0x14c675][_0x337012(0x7a4)][_0x337012(0xbc5)](/"/g,'\x22\x22')+'\x22');}_0x104745['push'](_0x2aac98[_0x337012(0xa89)](','));}const _0x117bfc=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x104745[_0x337012(0xa89)]('\x0a')],{'type':_0x337012(0x4a2)}),_0x2828b0=document[_0x337012(0x9eb)]('a');_0x2828b0[_0x337012(0x265)]=URL['createObjectURL'](_0x117bfc),_0x2828b0['download']=_0xe88a21+_0x337012(0x77f),_0x2828b0[_0x337012(0x43a)]();}function renderAnalytics(_0x54c451,_0x1a2fe1){const _0x10f602=_0x3a383e,_0x23cc1b=_0x1a2fe1[_0x10f602(0x499)](_0xc8132f=>_0xc8132f[_0x10f602(0xc14)]!==undefined),_0x2ba5da=currentProjectData[_0x10f602(0x748)][_0x10f602(0x636)],_0x4a5df8=_0x23cc1b[_0x10f602(0x636)],_0x188e6b=_0x2ba5da-_0x4a5df8,_0x1b776f=_0x2ba5da>0x0?_0x4a5df8/_0x2ba5da*0x64:0x0,_0x39123a=_0x23cc1b[_0x10f602(0x75d)](_0x2d6085=>_0x2d6085[_0x10f602(0xc14)]),_0x3333e6=_0x39123a[_0x10f602(0x636)]>0x0?_0x39123a[_0x10f602(0x67f)]((_0x54477e,_0x209f04)=>_0x54477e+_0x209f04,0x0)/_0x39123a[_0x10f602(0x636)]:0x0,_0x2e3c61=_0x54c451['questions'][_0x10f602(0x636)],_0x3eba0f=_0x2e3c61>0x0?_0x3333e6/_0x2e3c61*0x64:0x0,_0x231794=calculateItemAnalysis(_0x54c451,_0x23cc1b),_0x501b11=calculateReliabilityKR20(_0x54c451,_0x23cc1b,_0x231794[_0x10f602(0x489)]);let _0x22e766='';if(_0x501b11!==null){let _0x527914='';if(_0x501b11>=0.9)_0x527914=_0x10f602(0x9f2);else{if(_0x501b11>=0.8)_0x527914=_0x10f602(0x9a4);else{if(_0x501b11>=0.7)_0x527914='ดี';else{if(_0x501b11>=0.6)_0x527914=_0x10f602(0x7f7);else _0x527914=_0x10f602(0x90f);}}}_0x22e766=_0x10f602(0x910)+_0x501b11[_0x10f602(0x163)](0x2)+_0x10f602(0xcce)+_0x527914+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x47f570=document[_0x10f602(0x552)](_0x10f602(0x23b));_0x47f570['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x1b776f[_0x10f602(0x163)](0x0)+_0x10f602(0x6cd)+_0x4a5df8+'/'+_0x2ba5da+_0x10f602(0x1da)+_0x3333e6[_0x10f602(0x163)](0x2)+_0x10f602(0xc61)+_0x3eba0f['toFixed'](0x0)+_0x10f602(0xb79)+(_0x39123a['length']>0x0?Math[_0x10f602(0x38c)](..._0x39123a):_0x10f602(0x484))+_0x10f602(0x85b)+(_0x39123a[_0x10f602(0x636)]>0x0?Math['min'](..._0x39123a):_0x10f602(0x484))+_0x10f602(0x29b)+_0x22e766+_0x10f602(0x431);const _0xf5a22d=document[_0x10f602(0x552)](_0x10f602(0xc4b));_0xf5a22d&&_0xf5a22d[_0x10f602(0xb01)]();const _0x2a7ad2=_0x10f602(0x512);_0x47f570[_0x10f602(0x82e)](_0x10f602(0x64b),_0x2a7ad2);const _0xace7a4=currentProjectData['students']||[];renderSubmissionChart(_0x4a5df8,_0x188e6b,_0x23cc1b,_0xace7a4),renderScoreDistributionChart(_0x23cc1b,_0x2e3c61),renderQuestionAnalytics(_0x54c451,_0x23cc1b,_0xace7a4),renderInterestingStats(_0x54c451,_0x23cc1b);}async function handleExportLessonPDF(){const _0x389064=_0x3a383e,_0x4119aa=document['getElementById'](_0x389064(0x51a)),_0x3c5739=document['getElementById'](_0x389064(0x5ab))[_0x389064(0x37a)],_0x33a492=window[_0x389064(0x358)]('','_blank'),_0x436437='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x3c5739+_0x389064(0x3a7)+_0x4119aa[_0x389064(0x377)]+_0x389064(0xa38);_0x33a492['document'][_0x389064(0xb52)](_0x436437),_0x33a492[_0x389064(0x1a1)][_0x389064(0x33b)](),_0x33a492['onload']=function(){setTimeout(()=>{_0x33a492['print']();},0x5dc);};}function renderInterestingStats(_0x37eaeb,_0x4ff598){const _0x529f6a=_0x3a383e,_0x1c5500=document[_0x529f6a(0x552)](_0x529f6a(0x29e));if(!_0x1c5500)return;if(_0x4ff598['length']===0x0){_0x1c5500[_0x529f6a(0x377)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x498c43=_0x37eaeb[_0x529f6a(0x5cd)][_0x529f6a(0x75d)]((_0x2c85e7,_0x3e1670)=>({'index':_0x3e1670+0x1,'text':_0x2c85e7[_0x529f6a(0x629)]||_0x2c85e7[_0x529f6a(0x2a5)],'correct':0x0}));_0x4ff598[_0x529f6a(0x1f5)](_0x3b6be3=>{const _0x34a747=_0x529f6a,_0x2a5995=_0x3b6be3['attempts'][_0x3b6be3[_0x34a747(0x61f)][_0x34a747(0x636)]-0x1];_0x2a5995&&_0x2a5995[_0x34a747(0x7b5)]&&_0x2a5995['answers']['forEach'](_0x4b211f=>{const _0x11a594=_0x34a747,_0x50646e=_0x498c43[_0x11a594(0x51d)](_0x119c9c=>_0x119c9c[_0x11a594(0x5f4)]===_0x4b211f[_0x11a594(0x453)]);_0x4b211f[_0x11a594(0x1c8)]&&_0x50646e&&_0x50646e['correct']++;});});const _0x52cd05=_0x4ff598['length'],_0x2b35d2=Math[_0x529f6a(0x38c)](..._0x498c43[_0x529f6a(0x75d)](_0x50c206=>_0x50c206[_0x529f6a(0xcf7)])),_0xebd2aa=Math[_0x529f6a(0x353)](..._0x498c43[_0x529f6a(0x75d)](_0x197a7b=>_0x197a7b['correct'])),_0x543a4d=_0x498c43[_0x529f6a(0x499)](_0x37e0c6=>_0x37e0c6['correct']===_0x2b35d2)[_0x529f6a(0x75d)](_0x4425d6=>_0x529f6a(0xad9)+_0x4425d6[_0x529f6a(0x5b3)]),_0x598717=_0x498c43[_0x529f6a(0x499)](_0x2023a7=>_0x2023a7[_0x529f6a(0xcf7)]===_0xebd2aa)[_0x529f6a(0x75d)](_0x4972bb=>_0x529f6a(0xad9)+_0x4972bb[_0x529f6a(0x5b3)]),_0x15e245=_0x4ff598[_0x529f6a(0xa29)]((_0x4a38e1,_0x2076f0)=>_0x2076f0[_0x529f6a(0xc14)]-_0x4a38e1[_0x529f6a(0xc14)])[_0x529f6a(0x499)]((_0x5810a0,_0x59a53e,_0x303115)=>_0x5810a0[_0x529f6a(0xc14)]===_0x303115[0x0][_0x529f6a(0xc14)]),_0x44e6af=_0x4ff598['sort']((_0x1cc893,_0x2f1a44)=>_0x1cc893[_0x529f6a(0xc14)]-_0x2f1a44['latestScore'])[_0x529f6a(0x499)]((_0x221c13,_0x1da4e9,_0x51d1ae)=>_0x221c13[_0x529f6a(0xc14)]===_0x51d1ae[0x0][_0x529f6a(0xc14)]),_0x2fcc17=_0x529f6a(0xbf5)+_0x543a4d[_0x529f6a(0xa89)](',\x20')+_0x529f6a(0x3f5)+_0x2b35d2+_0x529f6a(0x5e1)+_0x52cd05+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x598717[_0x529f6a(0xa89)](',\x20')+_0x529f6a(0x3f5)+(_0x52cd05-_0xebd2aa)+'\x20/\x20'+_0x52cd05+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x15e245[_0x529f6a(0x75d)](_0x3dfd55=>_0x3dfd55[_0x529f6a(0x247)])[_0x529f6a(0xa89)](',\x20')+_0x529f6a(0x216)+_0x15e245[0x0]['latestScore']+_0x529f6a(0xbfa)+_0x44e6af[_0x529f6a(0x75d)](_0x3bc060=>_0x3bc060[_0x529f6a(0x247)])[_0x529f6a(0xa89)](',\x20')+_0x529f6a(0x216)+_0x44e6af[0x0][_0x529f6a(0xc14)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1c5500[_0x529f6a(0x377)]=_0x2fcc17;}function renderSubmissionChart(_0x794557,_0x29498c,_0x2c22f0,_0xa823eb){const _0x5e0de0=_0x3a383e,_0x1b6b89=document[_0x5e0de0(0x552)]('submission-status-chart')[_0x5e0de0(0x4bb)]('2d'),_0x488ab4=_0x2c22f0[_0x5e0de0(0x75d)](_0x4ba47=>_0x4ba47[_0x5e0de0(0x247)]),_0x123b2a=_0xa823eb['filter'](_0xc53084=>!_0x488ab4[_0x5e0de0(0x27b)](_0xc53084));chartInstances[_0x5e0de0(0x627)]&&chartInstances['submission'][_0x5e0de0(0xbae)](),chartInstances[_0x5e0de0(0x627)]=new Chart(_0x1b6b89,{'type':_0x5e0de0(0x356),'data':{'labels':[_0x5e0de0(0x36a),_0x5e0de0(0xcd2)],'datasets':[{'data':[_0x794557,_0x29498c],'backgroundColor':[_0x5e0de0(0x190),_0x5e0de0(0x1ed)],'borderColor':[_0x5e0de0(0x2a4),_0x5e0de0(0x2a4)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5e0de0(0xc07)},'tooltip':{'callbacks':{'label':function(_0x402ab8){const _0x2e0360=_0x5e0de0;let _0x5f0aca=_0x402ab8['label']||'';return _0x5f0aca&&(_0x5f0aca+=':\x20'),_0x5f0aca+=_0x402ab8[_0x2e0360(0x32c)],_0x5f0aca;},'afterLabel':function(_0x77bba8){const _0x334ea8=_0x5e0de0;let _0x2fdc7f;return _0x77bba8[_0x334ea8(0x6bb)]===0x0?_0x2fdc7f=_0x488ab4:_0x2fdc7f=_0x123b2a,_0x2fdc7f['length']>0x0?_0x2fdc7f[_0x334ea8(0xa89)]('\x0a'):_0x334ea8(0x76d);}}}}}});}function renderScoreDistributionChart(_0x1b1cea,_0x39b06e){const _0x45534a=_0x3a383e,_0x4cc807=document['getElementById'](_0x45534a(0xcc8))[_0x45534a(0x4bb)]('2d'),_0x118477={};for(let _0x58eb8b=0x0;_0x58eb8b<=_0x39b06e;_0x58eb8b++){_0x118477[_0x58eb8b]=0x0;}_0x1b1cea['forEach'](_0x398a7d=>{const _0xd95a47=_0x45534a;_0x118477[_0x398a7d['latestScore']]!==undefined&&_0x118477[_0x398a7d[_0xd95a47(0xc14)]]++;}),chartInstances['score']&&chartInstances['score']['destroy'](),chartInstances[_0x45534a(0xbd7)]=new Chart(_0x4cc807,{'type':'bar','data':{'labels':Object[_0x45534a(0xb17)](_0x118477),'datasets':[{'label':_0x45534a(0x3d5),'data':Object['values'](_0x118477),'backgroundColor':_0x45534a(0x878),'borderColor':_0x45534a(0x301),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x45534a(0x5f6)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4225bc){const _0x3ca7fe=_0x45534a,_0x5aa7a9=_0x4225bc[_0x3ca7fe(0x8c4)],_0x10d86f=_0x1b1cea[_0x3ca7fe(0x499)](_0x162848=>_0x162848[_0x3ca7fe(0xc14)]==_0x5aa7a9)[_0x3ca7fe(0x75d)](_0x3f402a=>_0x3f402a[_0x3ca7fe(0x247)]);return _0x10d86f[_0x3ca7fe(0x636)]>0x0?_0x10d86f[_0x3ca7fe(0xa89)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x8b3449,_0x1832a9,_0x5ac215){const _0x20f0f2=_0x3a383e,_0x2d8a8e=document[_0x20f0f2(0x552)](_0x20f0f2(0x74b));if(_0x5ac215[_0x20f0f2(0x636)]===0x0){_0x2d8a8e[_0x20f0f2(0x377)]=_0x20f0f2(0x7d4);return;}const _0x1930d7=calculateItemAnalysis(_0x8b3449,_0x1832a9),_0x5801e7=calculateDistractorAnalysis(_0x8b3449,_0x1832a9);let _0x49aec9='';_0x1930d7[_0x20f0f2(0xbbb)]&&(_0x49aec9=_0x20f0f2(0x41c)+_0x1930d7['overallGroups'][_0x20f0f2(0x32a)]['length']+_0x20f0f2(0xac1)+_0x1930d7[_0x20f0f2(0xbbb)][_0x20f0f2(0x32a)][_0x20f0f2(0x75d)](_0x3356d3=>_0x20f0f2(0x566)+_0x3356d3+'</li>')['join']('')+_0x20f0f2(0x642)+_0x1930d7[_0x20f0f2(0xbbb)][_0x20f0f2(0xa6c)][_0x20f0f2(0x636)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1930d7[_0x20f0f2(0xbbb)]['lowerGroupNames']['map'](_0x356ac8=>_0x20f0f2(0x566)+_0x356ac8+_0x20f0f2(0x797))['join']('')+_0x20f0f2(0x648));let _0x53254f='';const _0x53a1cf=_0x1832a9[_0x20f0f2(0x75d)](_0x163e46=>_0x163e46['studentName']),_0x84e305=_0x223b1a=>{const _0x37d7aa=_0x20f0f2;if(_0x223b1a>=0.8)return _0x37d7aa(0x561);if(_0x223b1a>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x223b1a>=0.4)return _0x37d7aa(0x5e5);if(_0x223b1a>=0.2)return _0x37d7aa(0xaa0);return _0x37d7aa(0xc7d);},_0x59611c=_0x308517=>{const _0x149f74=_0x20f0f2;if(_0x308517<0x0)return _0x149f74(0x65d);if(_0x308517>=0.4)return _0x149f74(0xa39);if(_0x308517>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x308517>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x149f74(0x56d);},_0x3a0a48=_0x49f03a=>{const _0x15680a=_0x20f0f2,_0x4fcc6e=_0x49f03a[_0x15680a(0x163)](0x0);if(parseFloat(_0x4fcc6e)===0x64)return _0x15680a(0x9ad)+_0x4fcc6e+_0x15680a(0x7ba);if(_0x49f03a>=0x32)return _0x15680a(0x715)+_0x4fcc6e+_0x15680a(0x7ba);return _0x15680a(0x568)+_0x4fcc6e+_0x15680a(0x7ba);};_0x8b3449[_0x20f0f2(0x5cd)]['forEach']((_0x552a37,_0x56b90b)=>{const _0x575861=_0x20f0f2,_0x5c01d2=_0x1930d7[_0x575861(0x489)][_0x56b90b],_0x4010a0=_0x5801e7[_0x56b90b],_0x3d5d27=_0x552a37[_0x575861(0x2a5)]||_0x552a37[_0x575861(0x629)]||_0x552a37[_0x575861(0x8bc)];let _0x3f648c=0x0;const _0x78351f=[],_0x199ec0=[];_0x1832a9[_0x575861(0x1f5)](_0x163a8d=>{const _0x16d660=_0x575861,_0x48d583=_0x163a8d[_0x16d660(0x61f)][_0x163a8d[_0x16d660(0x61f)][_0x16d660(0x636)]-0x1];if(_0x48d583&&_0x48d583['answers']){const _0x332318=_0x48d583[_0x16d660(0x7b5)][_0x16d660(0x51d)](_0x13ed15=>_0x13ed15[_0x16d660(0x453)]===_0x3d5d27)??_0x48d583[_0x16d660(0x7b5)][_0x56b90b]??null;_0x332318&&(_0x332318[_0x16d660(0x1c8)]?(_0x3f648c++,_0x78351f[_0x16d660(0x321)](_0x163a8d[_0x16d660(0x247)])):_0x199ec0['push'](_0x163a8d[_0x16d660(0x247)]));}});const _0x442d5e=_0x1832a9[_0x575861(0x636)]>0x0?_0x3f648c/_0x1832a9[_0x575861(0x636)]*0x64:0x0,_0x2b79=_0x5ac215[_0x575861(0x499)](_0x4f7769=>!_0x53a1cf[_0x575861(0x27b)](_0x4f7769)),_0x2268b3=_0x5c01d2?_0x575861(0x50b)+_0x5c01d2['p'][_0x575861(0x163)](0x2)+'</p><div>'+_0x84e305(_0x5c01d2['p'])+_0x575861(0x982)+_0x5c01d2['r']['toFixed'](0x2)+_0x575861(0x234)+_0x59611c(_0x5c01d2['r'])+_0x575861(0xc9d)+_0x3a0a48(_0x442d5e)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x2d048f='';_0x4010a0&&(_0x2d048f=_0x575861(0x185)+Object[_0x575861(0xb17)](_0x4010a0)['map'](_0x493276=>{const _0x3afcbf=_0x575861,_0xed9dfb=_0x4010a0[_0x493276],_0x426bc6=parseInt(_0x493276)===_0x552a37[_0x3afcbf(0xb21)],_0x3c19b1=!_0x426bc6&&_0xed9dfb[_0x3afcbf(0x8aa)]>_0xed9dfb[_0x3afcbf(0xce1)];return'<tr\x20class=\x22'+(_0x426bc6?_0x3afcbf(0x476):'')+_0x3afcbf(0x7c3)+(_0x426bc6?'✔\x20':'')+_0xed9dfb[_0x3afcbf(0x5f4)]+_0x3afcbf(0x2b1)+_0xed9dfb[_0x3afcbf(0xce1)]+_0x3afcbf(0x2b1)+_0xed9dfb[_0x3afcbf(0x8aa)]+'\x20'+(_0x3c19b1?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xed9dfb[_0x3afcbf(0xafd)]+'</td></tr>';})['join']('')+_0x575861(0xa57));let _0x9c393b='';_0x5c01d2&&_0x5c01d2['upperGroupResponders']&&(_0x9c393b=_0x575861(0x6cc)+_0x5c01d2[_0x575861(0x5bc)][_0x575861(0x636)]+_0x575861(0xa2e)+_0x5c01d2[_0x575861(0x5bc)]['map'](_0x314e31=>_0x575861(0x566)+(_0x314e31['isCorrect']?_0x575861(0xa65):_0x575861(0x394))+'\x20'+_0x314e31[_0x575861(0xce5)]+_0x575861(0x797))[_0x575861(0xa89)]('')+_0x575861(0x51c)+_0x5c01d2['lowerGroupResponders']['length']+_0x575861(0xa2e)+_0x5c01d2[_0x575861(0x955)][_0x575861(0x75d)](_0x4780b1=>_0x575861(0x566)+(_0x4780b1[_0x575861(0x1c8)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4780b1[_0x575861(0xce5)]+'</li>')[_0x575861(0xa89)]('')+_0x575861(0xa60)),_0x53254f+=_0x575861(0xc3b)+(_0x56b90b+0x1)+':\x20'+_0x3d5d27+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x2268b3+_0x575861(0x1d9)+_0x3d5d27+_0x575861(0x93c)+_0x3f648c+_0x575861(0x4eb)+_0x1832a9['length']+_0x575861(0xc12)+_0x442d5e[_0x575861(0x163)](0x0)+_0x575861(0x3e5)+_0x78351f[_0x575861(0x636)]+_0x575861(0xb4b)+(_0x78351f[_0x575861(0x636)]>0x0?_0x78351f[_0x575861(0xa89)](',\x20'):_0x575861(0x76d))+_0x575861(0x3bc)+_0x199ec0['length']+_0x575861(0xb4b)+(_0x199ec0['length']>0x0?_0x199ec0[_0x575861(0xa89)](',\x20'):_0x575861(0x76d))+_0x575861(0x2b5)+_0x2b79[_0x575861(0x636)]+_0x575861(0xb4b)+(_0x2b79[_0x575861(0x636)]>0x0?_0x2b79['join'](',\x20'):_0x575861(0x76d))+_0x575861(0xc0b)+_0x2d048f+_0x575861(0x74f)+_0x9c393b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2d8a8e['innerHTML']=_0x49aec9+_0x53254f;try{window[_0x20f0f2(0xc8b)]&&MathJax[_0x20f0f2(0x171)]&&MathJax[_0x20f0f2(0x171)]([_0x2d8a8e]);}catch(_0x214596){console[_0x20f0f2(0x2e9)](_0x20f0f2(0x850),_0x214596);}}function calculateDistractorAnalysis(_0x279c98,_0x1314b2){const _0x1b1186=_0x3a383e,_0x4e1d37={};if(_0x1314b2[_0x1b1186(0x636)]<0x2)return _0x4e1d37;const _0x5c8e45=[..._0x1314b2]['sort']((_0x4111a3,_0x2a2760)=>{const _0x169e4c=_0x1b1186,_0x2f9ef7=_0x2a2760[_0x169e4c(0xc14)]-_0x4111a3[_0x169e4c(0xc14)];if(_0x2f9ef7!==0x0)return _0x2f9ef7;const _0x40a668=_0x4111a3[_0x169e4c(0x61f)]?.[_0x169e4c(0x636)]||0x1,_0x3125bc=_0x2a2760['attempts']?.[_0x169e4c(0x636)]||0x1,_0x328a32=_0x40a668-_0x3125bc;if(_0x328a32!==0x0)return _0x328a32;const _0xc4d3fa=new Date(_0x4111a3[_0x169e4c(0xc65)]),_0x48f87e=new Date(_0x2a2760[_0x169e4c(0xc65)]),_0x121afc=_0xc4d3fa-_0x48f87e;if(_0x121afc!==0x0)return _0x121afc;return _0x4111a3[_0x169e4c(0x247)][_0x169e4c(0x784)](_0x2a2760[_0x169e4c(0x247)],'th');}),_0x49cc33=_0x5c8e45[_0x1b1186(0x636)],_0x23f6eb=Math[_0x1b1186(0x38c)](0x1,Math[_0x1b1186(0x429)](_0x49cc33*0.33)),_0x5d7d43=_0x5c8e45[_0x1b1186(0x8ea)](0x0,_0x23f6eb),_0x3da014=_0x5c8e45[_0x1b1186(0x8ea)](-_0x23f6eb);return _0x279c98[_0x1b1186(0x5cd)]['forEach']((_0x5aead3,_0x32c540)=>{const _0x56ada7=_0x1b1186;if(_0x5aead3['questionType']!==_0x56ada7(0x2df)||!_0x5aead3[_0x56ada7(0xb70)])return;const _0x1b3f01=_0x5aead3[_0x56ada7(0x629)],_0x1b6d95={};_0x5aead3['options'][_0x56ada7(0x1f5)]((_0x5a9e35,_0x22c169)=>{_0x1b6d95[_0x22c169]={'text':_0x5a9e35,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5c8e45['forEach'](_0x26e630=>{const _0x115fba=_0x56ada7,_0x465045=_0x26e630[_0x115fba(0x61f)][_0x26e630[_0x115fba(0x61f)][_0x115fba(0x636)]-0x1],_0x12b51b=_0x465045['answers'][_0x115fba(0x51d)](_0x5e434a=>_0x5e434a['originalQuestionText']===_0x1b3f01);if(_0x12b51b&&_0x12b51b[_0x115fba(0xa51)]!==null){const _0x5b625=_0x5aead3[_0x115fba(0xb70)][_0x115fba(0xa85)](_0x8ccfa3=>_0x8ccfa3===_0x12b51b[_0x115fba(0x43f)]);_0x5b625!==-0x1&&_0x1b6d95[_0x5b625]&&(_0x1b6d95[_0x5b625]['total']++,_0x5d7d43[_0x115fba(0x27b)](_0x26e630)&&_0x1b6d95[_0x5b625][_0x115fba(0xce1)]++,_0x3da014[_0x115fba(0x27b)](_0x26e630)&&_0x1b6d95[_0x5b625][_0x115fba(0x8aa)]++);}}),_0x4e1d37[_0x32c540]=_0x1b6d95;}),_0x4e1d37;}function calculateReliabilityKR20(_0x4372a7,_0x28665c,_0x51daf1){const _0x44f4dc=_0x3a383e,_0x5168ad=_0x4372a7[_0x44f4dc(0x5cd)]['length'];if(_0x5168ad<0x2||_0x28665c[_0x44f4dc(0x636)]<0x2)return null;const _0xf0e388=_0x28665c[_0x44f4dc(0x75d)](_0x126ab1=>_0x126ab1[_0x44f4dc(0xc14)]),_0x3fdc72=_0xf0e388[_0x44f4dc(0x67f)]((_0x4912a3,_0x166d4d)=>_0x4912a3+_0x166d4d,0x0)/_0xf0e388[_0x44f4dc(0x636)],_0x44385c=_0xf0e388[_0x44f4dc(0x75d)](_0x53b068=>Math[_0x44f4dc(0x574)](_0x53b068-_0x3fdc72,0x2))['reduce']((_0x286aa6,_0x32f1d1)=>_0x286aa6+_0x32f1d1,0x0)/_0xf0e388[_0x44f4dc(0x636)];if(_0x44385c===0x0)return null;let _0x126bb4=0x0;for(let _0x5168f0=0x0;_0x5168f0<_0x5168ad;_0x5168f0++){const _0x4e56dd=_0x51daf1[_0x5168f0]?.['p'];if(_0x4e56dd===undefined)continue;const _0x3eaef1=0x1-_0x4e56dd;_0x126bb4+=_0x4e56dd*_0x3eaef1;}if(_0x126bb4===0x0)return null;const _0x3429eb=_0x5168ad/(_0x5168ad-0x1)*(0x1-_0x126bb4/_0x44385c);if(_0x3429eb>0x1)return null;return _0x3429eb;}async function handleAnalyzeClass(){const _0x25c7f9=_0x3a383e;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x25c7f9(0x245));return;}const _0x34d892=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x43c711=await getDocs(_0x34d892),_0x38ee05=_0x43c711[_0x25c7f9(0x975)]['map'](_0x24c6a9=>_0x24c6a9[_0x25c7f9(0x183)]());if(_0x38ee05['length']<0x2){showMessage(_0x25c7f9(0xaf2));return;}const _0xf6bf94=document[_0x25c7f9(0x552)](_0x25c7f9(0xb37));_0xf6bf94[_0x25c7f9(0x377)]=_0x25c7f9(0xb8b),document[_0x25c7f9(0x552)]('analyze-strengths-btn')[_0x25c7f9(0x7ce)]=!![];const _0x39b361=_0x38ee05[_0x25c7f9(0x75d)]((_0xdbe944,_0xb4d71b)=>{const _0x1a87c0=_0x25c7f9,_0x3533c6=_0xdbe944['attempts'][_0xdbe944[_0x1a87c0(0x61f)]['length']-0x1];if(!_0x3533c6)return'';return _0x1a87c0(0x2c8)+(_0xb4d71b+0x1)+'\x20('+_0xdbe944[_0x1a87c0(0x247)]+_0x1a87c0(0x2bf)+_0x3533c6['score']+'/'+_0xdbe944[_0x1a87c0(0x835)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x1a87c0(0x7ae)](_0x3533c6[_0x1a87c0(0x7b5)])+_0x1a87c0(0xb9b);})[_0x25c7f9(0xa89)](_0x25c7f9(0x9b4)),_0x3f24a5=_0x25c7f9(0xcec)+currentQuizData[_0x25c7f9(0x65f)]+_0x25c7f9(0xc71)+JSON['stringify'](currentQuizData[_0x25c7f9(0x5cd)])+_0x25c7f9(0x44e)+_0x39b361+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x318051={'type':_0x25c7f9(0x695),'properties':{'classStrengths':{'type':_0x25c7f9(0x159),'items':{'type':_0x25c7f9(0x6d8)}},'classWeaknesses':{'type':_0x25c7f9(0x159),'items':{'type':_0x25c7f9(0x6d8)}},'teacherSuggestions':{'type':_0x25c7f9(0x159),'items':{'type':_0x25c7f9(0x6d8)}}},'required':[_0x25c7f9(0x196),'classWeaknesses',_0x25c7f9(0x6b9)]};try{const _0x5dbdde=await callAnalysisApi(_0x3f24a5,_0x318051);displayClassAnalysis(_0x5dbdde);}catch(_0x2410e8){console[_0x25c7f9(0x2e9)](_0x25c7f9(0x821),_0x2410e8),_0xf6bf94[_0x25c7f9(0x377)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x2410e8[_0x25c7f9(0x2db)]+'</p></div>';}finally{document[_0x25c7f9(0x552)]('analyze-strengths-btn')[_0x25c7f9(0x7ce)]=![];}}function displayClassAnalysis(_0x5ee6cf){const _0x15e1c5=_0x3a383e,_0x2d5937=document[_0x15e1c5(0x552)](_0x15e1c5(0xb37));if(!_0x5ee6cf){_0x2d5937[_0x15e1c5(0x377)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x2d5937[_0x15e1c5(0x377)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ee6cf[_0x15e1c5(0x196)][_0x15e1c5(0x75d)](_0x448974=>'<li>'+_0x448974+_0x15e1c5(0x797))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ee6cf[_0x15e1c5(0x551)]['map'](_0x2812eb=>_0x15e1c5(0x566)+_0x2812eb+_0x15e1c5(0x797))[_0x15e1c5(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ee6cf['teacherSuggestions'][_0x15e1c5(0x75d)](_0x298e52=>_0x15e1c5(0x566)+_0x298e52+_0x15e1c5(0x797))['join']('')+_0x15e1c5(0x1d5);}function formatAndPrintWorksheet(_0x1e79f8,_0x4fd9c5){const _0x5f15d0=_0x3a383e,_0x298202=_0x5f15d0(0x19e)+_0x1e79f8[_0x5f15d0(0x65f)]+_0x5f15d0(0xb1c)+_0x1e79f8[_0x5f15d0(0x65f)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e79f8['questions'][_0x5f15d0(0x75d)]((_0xf9e37e,_0x52c625)=>_0x5f15d0(0x7ca)+(_0x52c625+0x1)+'.\x20'+_0xf9e37e[_0x5f15d0(0x629)]+_0x5f15d0(0x8c9)+(_0xf9e37e['imageCode']?_0x5f15d0(0xa6b)+_0xf9e37e[_0x5f15d0(0x9e7)]+_0x5f15d0(0xc87):'')+_0x5f15d0(0x1f6))[_0x5f15d0(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4fd9c5['document'][_0x5f15d0(0xb52)](_0x298202),_0x4fd9c5[_0x5f15d0(0x1a1)]['close'](),_0x4fd9c5[_0x5f15d0(0xb22)]=function(){setTimeout(()=>{_0x4fd9c5['print']();},0x3e8);};}async function generateWorksheet(){const _0x26ae50=_0x3a383e,_0x330266=document[_0x26ae50(0x552)]('worksheet-topic-input')['value'][_0x26ae50(0x887)]();if(!_0x330266){showMessage(_0x26ae50(0x592));return;}const _0x25f441=document[_0x26ae50(0x552)](_0x26ae50(0x560))[_0x26ae50(0xd08)],_0x4bf7e5=_0x25f441?'':_0x26ae50(0x611),_0x2f5292=window[_0x26ae50(0x358)]('',_0x26ae50(0x6ba));_0x2f5292['document']['write'](_0x26ae50(0x72e));const _0x17731e=parseInt(document[_0x26ae50(0x552)](_0x26ae50(0x9bc))[_0x26ae50(0x203)]),_0x22c02c=document[_0x26ae50(0x552)](_0x26ae50(0xc48))[_0x26ae50(0xd08)],_0x259819=_0x22c02c?_0x26ae50(0x3d1):'',_0x318a27=_0x26ae50(0x977)+_0x4bf7e5+_0x26ae50(0x3bf)+_0x17731e+_0x26ae50(0x669)+_0x330266+_0x26ae50(0x4f1)+_0x259819+_0x26ae50(0x9a1)+simpleMathPrompt+_0x26ae50(0x599),_0x605925={'type':_0x26ae50(0x695),'properties':{'topic':{'type':_0x26ae50(0x6d8)},'questions':{'type':_0x26ae50(0x159),'items':{'type':_0x26ae50(0x695),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x26ae50(0x6d8)}},'required':['questionText']}}},'required':[_0x26ae50(0x65f),_0x26ae50(0x5cd)]};document[_0x26ae50(0x552)](_0x26ae50(0x2d6))[_0x26ae50(0x37a)]='',document[_0x26ae50(0x552)](_0x26ae50(0x39f))[_0x26ae50(0x4c1)][_0x26ae50(0xb01)](_0x26ae50(0x9d2)),document[_0x26ae50(0x552)](_0x26ae50(0x6be))[_0x26ae50(0x4c1)][_0x26ae50(0xb01)](_0x26ae50(0x9d2)),generateWorksheetBtn['disabled']=!![];try{const _0x387490=await callAnalysisApi(_0x318a27,_0x605925);formatAndPrintWorksheet(_0x387490,_0x2f5292);}catch(_0x337b6c){console[_0x26ae50(0x2e9)](_0x26ae50(0x22f),_0x337b6c);if(_0x2f5292)_0x2f5292['close']();showMessage(_0x26ae50(0x4da));}finally{document['getElementById'](_0x26ae50(0x39f))[_0x26ae50(0x4c1)][_0x26ae50(0x350)](_0x26ae50(0x9d2)),document[_0x26ae50(0x552)](_0x26ae50(0x6be))[_0x26ae50(0x4c1)][_0x26ae50(0x350)]('hidden'),generateWorksheetBtn[_0x26ae50(0x7ce)]=![];}}async function callAnalysisApi(_0x3c9a37,_0x3846e9){const _0x21c9a4=_0x3a383e,_0x4e7c8a={'contents':[{'role':_0x21c9a4(0xb3a),'parts':[{'text':_0x3c9a37}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x3846e9}},_0x46a388=_0x21c9a4(0xcf8),_0x78c14c=_0x21c9a4(0x1e1)+_0x46a388,_0x545650=await fetch(_0x78c14c,{'method':_0x21c9a4(0xa80),'headers':{'Content-Type':_0x21c9a4(0x794)},'body':JSON[_0x21c9a4(0x7ae)](_0x4e7c8a)});if(!_0x545650['ok'])throw new Error(_0x21c9a4(0x383)+_0x545650[_0x21c9a4(0xb09)]);const _0x490182=await _0x545650['json']();if(_0x490182[_0x21c9a4(0x392)]?.[0x0]?.[_0x21c9a4(0xc4f)]?.[_0x21c9a4(0xbf0)]?.[0x0])return JSON[_0x21c9a4(0xbea)](_0x490182[_0x21c9a4(0x392)][0x0][_0x21c9a4(0xc4f)][_0x21c9a4(0xbf0)][0x0]['text']);else{let _0x46e0f4=_0x21c9a4(0x282);if(_0x490182['promptFeedback']?.[_0x21c9a4(0x43b)])_0x46e0f4='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x490182[_0x21c9a4(0x6ca)][_0x21c9a4(0x43b)]+'.';else _0x490182['candidates']?.[0x0]?.[_0x21c9a4(0x905)]&&_0x490182[_0x21c9a4(0x392)][0x0][_0x21c9a4(0x905)]!=='STOP'&&(_0x46e0f4=_0x21c9a4(0x376)+_0x490182[_0x21c9a4(0x392)][0x0][_0x21c9a4(0x905)]+'.');console['error'](_0x46e0f4,JSON['stringify'](_0x490182));throw new Error(_0x46e0f4);}}async function handleStartSyncMode(_0xb5581f,_0x50458e=![]){const _0x598db5=_0x3a383e,_0x1db6b7=allQuizzes[_0x598db5(0x51d)](_0x1e009e=>_0x1e009e['id']===_0xb5581f)||allQuizzesGlobal[_0x598db5(0x51d)](_0x789e6d=>_0x789e6d['id']===_0xb5581f);if(!_0x1db6b7){showMessage(_0x598db5(0x8a4));return;}currentQuizData=getShuffledQuiz(_0x1db6b7);const _0x34321d=Math[_0x598db5(0x429)](0x3e8+Math[_0x598db5(0x9f5)]()*0x2328)[_0x598db5(0x2de)]();try{const _0x33711f=await addDoc(collection(db,_0x598db5(0xc93)+appId+'/public/data/syncGames'),{'quizId':_0x1db6b7['id'],'pin':_0x34321d,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x50458e,'players':{}});currentLiveGameId=_0x33711f['id'],showView(_0x598db5(0x7e0)),renderSyncLobbyView(_0x34321d,_0x1db6b7[_0x598db5(0x65f)]),listenForSyncGameUpdates();}catch(_0x3ce732){console[_0x598db5(0x2e9)]('Error\x20starting\x20sync\x20game:',_0x3ce732),showMessage(_0x598db5(0xcd4));}}function calculateFinalPodiumScores(_0x1a5f18){const _0x385f50=_0x3a383e;if(!_0x1a5f18||!_0x1a5f18[_0x385f50(0x402)]||!_0x1a5f18[_0x385f50(0x8d9)])return _0x1a5f18[_0x385f50(0x8d9)]||{};const _0x35064a=_0x1a5f18[_0x385f50(0x402)]['questions'][_0x385f50(0x636)],_0x14792b=JSON[_0x385f50(0xbea)](JSON[_0x385f50(0x7ae)](_0x1a5f18['players']));return Object[_0x385f50(0x8b4)](_0x14792b)[_0x385f50(0x1f5)](_0x342d69=>{const _0x2de0df=_0x385f50,_0x187aa6=_0x342d69[_0x2de0df(0xbd7)];let _0x5348b1=_0x187aa6,_0x298a9a=0x0;_0x1a5f18['isConfidenceScoringEnabled']&&_0x342d69['answers']&&_0x342d69[_0x2de0df(0x7b5)][_0x2de0df(0x1f5)](_0x57b26a=>{const _0x19c6ea=_0x2de0df;if(_0x57b26a[_0x19c6ea(0x1c8)]&&(_0x57b26a['wasConfident']===!![]||_0x57b26a[_0x19c6ea(0x36c)]===_0x19c6ea(0x34f)))_0x298a9a+=0x1;else!_0x57b26a[_0x19c6ea(0x1c8)]&&(_0x57b26a['wasConfident']===!![]||_0x57b26a[_0x19c6ea(0x36c)]===_0x19c6ea(0x34f))&&(_0x298a9a-=0x1);}),_0x5348b1+=_0x298a9a,_0x35064a>0x0&&_0x187aa6===_0x35064a&&(_0x5348b1+=0x1,_0x342d69[_0x2de0df(0x7c7)]=!![]),_0x342d69[_0x2de0df(0xbd7)]=_0x5348b1;}),_0x14792b;}function listenForSyncGameUpdates(){const _0x2a498e=_0x3a383e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xd5bb2=doc(db,_0x2a498e(0xc93)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xd5bb2,_0x4d3a2f=>{const _0x457f9b=_0x2a498e;if(!_0x4d3a2f[_0x457f9b(0x837)]()){sessionStorage['removeItem'](_0x457f9b(0xacf));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x457f9b(0x4a6)?showView('project-detail'):showView('student');return;}const _0x239a16=_0x4d3a2f[_0x457f9b(0x183)]();currentMode==='admin'?updateAdminSyncView(_0x239a16):updateStudentSyncView(_0x239a16);});}function renderSyncLobbyView(_0x5b73eb,_0x5b734e){const _0x5b0baf=_0x3a383e;liveGameView[_0x5b0baf(0x377)]=_0x5b0baf(0x48d)+_0x5b734e+_0x5b0baf(0x4f4)+_0x5b73eb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3ee806=document['getElementById'](_0x5b0baf(0x4ed)),_0xd356cb=document[_0x5b0baf(0x552)](_0x5b0baf(0x415));_0x3ee806[_0x5b0baf(0x224)]('change',()=>{const _0x40eaa2=_0x5b0baf;_0xd356cb[_0x40eaa2(0x89b)]['display']=_0x3ee806[_0x40eaa2(0xd08)]?_0x40eaa2(0x29d):_0x40eaa2(0xbde);}),document['getElementById'](_0x5b0baf(0x87f))[_0x5b0baf(0x224)](_0x5b0baf(0x43a),async()=>{const _0x440ef0=_0x5b0baf,_0x375063=doc(db,'artifacts/'+appId+_0x440ef0(0x67c),currentLiveGameId),_0x268073=document[_0x440ef0(0x552)]('confidence-scoring-toggle')[_0x440ef0(0xd08)];await updateDoc(_0x375063,{'status':_0x440ef0(0x807),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x268073});});}function updateAdminSyncView(_0x2c47ee){const _0x1abedd=_0x3a383e;switch(_0x2c47ee[_0x1abedd(0xb09)]){case _0x1abedd(0xcbe):renderSyncLobbyView(_0x2c47ee['pin'],_0x2c47ee[_0x1abedd(0x402)][_0x1abedd(0x65f)]);const _0x3a55dc=Object['entries'](_0x2c47ee['players']||{})[_0x1abedd(0x499)](([_0x47216f,_0x4cc2b8])=>_0x4cc2b8[_0x1abedd(0xb09)]!==_0x1abedd(0xa07));document[_0x1abedd(0x552)](_0x1abedd(0x214))[_0x1abedd(0x37a)]=_0x3a55dc[_0x1abedd(0x636)],document[_0x1abedd(0x552)](_0x1abedd(0x74e))[_0x1abedd(0x377)]=_0x3a55dc[_0x1abedd(0x75d)](([_0xd70200,_0x9a1712])=>_0x1abedd(0x6fb)+_0xd70200+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0xd70200+_0x1abedd(0xb4a))['join']('')||_0x1abedd(0xba6),document[_0x1abedd(0x552)]('start-sync-game-btn')[_0x1abedd(0x7ce)]=_0x3a55dc[_0x1abedd(0x636)]===0x0;break;case _0x1abedd(0x807):const _0x499d66=Object[_0x1abedd(0x8b4)](_0x2c47ee[_0x1abedd(0x8d9)]||{})[_0x1abedd(0x499)](_0x419926=>_0x419926['status']!==_0x1abedd(0xa07)),_0x316a27=_0x499d66[_0x1abedd(0x499)](_0x4153b4=>_0x4153b4[_0x1abedd(0x264)])[_0x1abedd(0x636)],_0x32272e=_0x316a27===_0x499d66[_0x1abedd(0x636)]&&_0x499d66['length']>0x0;if(_0x32272e&&_0x2c47ee['status']===_0x1abedd(0x807)){const _0x44bcf0=doc(db,_0x1abedd(0xc93)+appId+_0x1abedd(0x67c),currentLiveGameId);updateDoc(_0x44bcf0,{'status':'summary'});}else{if(document['getElementById'](_0x1abedd(0x172))===null)renderAdminSyncQuestionView(_0x2c47ee);else{const _0x449ce8=document[_0x1abedd(0x552)](_0x1abedd(0xa1d));_0x449ce8&&(_0x449ce8[_0x1abedd(0x37a)]=_0x316a27+'/'+_0x499d66[_0x1abedd(0x636)]);const _0x1c4cf1=document[_0x1abedd(0x552)](_0x1abedd(0xce4));_0x1c4cf1&&(_0x1c4cf1[_0x1abedd(0x377)]=_0x499d66[_0x1abedd(0x75d)](_0x3dbba1=>{const _0x3965be=_0x1abedd,_0x26c911=_0x3dbba1['answered']?_0x3965be(0x6ef):_0x3965be(0x618),_0x52de1=_0x3dbba1[_0x3965be(0x264)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x3965be(0x86b);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x26c911+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52de1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3dbba1[_0x3965be(0xce5)]+_0x3965be(0xb81)+_0x3dbba1[_0x3965be(0xce5)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1abedd(0xa89)](''));}}break;case _0x1abedd(0x6c4):const _0x4a6dd1=_0x2c47ee[_0x1abedd(0x3fd)],_0xf92477=_0x2c47ee['shuffledQuiz'][_0x1abedd(0x5cd)][_0x4a6dd1];renderSyncSummaryView(_0x2c47ee,_0xf92477,!![]);break;case _0x1abedd(0x569):renderAdminSyncDashboard(_0x2c47ee,!![]);break;case _0x1abedd(0xc5d):_0x2c47ee[_0x1abedd(0x5db)]&&saveGameResultsAsSubmissions(_0x2c47ee);sessionStorage[_0x1abedd(0x2c2)](_0x1abedd(0xacf));const _0x497d97=calculateFinalPodiumScores(_0x2c47ee);showPodiumView(_0x497d97,_0x1abedd(0x9e0));break;}}function renderAdminSyncQuestionView(_0x27b8a9){const _0x463b62=_0x3a383e,_0x5b0f7b=_0x27b8a9[_0x463b62(0x3fd)],_0x7c168b=_0x27b8a9[_0x463b62(0x402)][_0x463b62(0x5cd)][_0x5b0f7b],_0x32d19b=_0x27b8a9['shuffledQuiz'][_0x463b62(0x5cd)][_0x463b62(0x636)],_0x16abb2=Object[_0x463b62(0x8b4)](_0x27b8a9[_0x463b62(0x8d9)]||{})[_0x463b62(0x499)](_0x3973c4=>_0x3973c4['status']!==_0x463b62(0xa07)),_0x2882eb=_0x16abb2['filter'](_0x4cefab=>_0x4cefab['answered'])[_0x463b62(0x636)],_0x48dd7a=_0x2882eb===_0x16abb2[_0x463b62(0x636)]&&_0x16abb2[_0x463b62(0x636)]>0x0,_0x228885=(_0x7c168b[_0x463b62(0xb70)]||[])[_0x463b62(0x75d)](_0xac54d0=>_0x463b62(0x2fc)+_0xac54d0+'</div>')[_0x463b62(0xa89)]('');liveGameView['innerHTML']=_0x463b62(0x2bd)+(_0x5b0f7b+0x1)+_0x463b62(0x5e1)+_0x32d19b+_0x463b62(0x1e5)+_0x2882eb+'/'+_0x16abb2['length']+_0x463b62(0xcb1)+_0x7c168b['questionText']+_0x463b62(0x8a0)+_0x228885+_0x463b62(0x92e)+(!_0x48dd7a?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x463b62(0xc8b)])MathJax[_0x463b62(0x171)]();document[_0x463b62(0x552)](_0x463b62(0x3d7))['addEventListener']('click',async()=>{const _0x4610ca=_0x463b62,_0x39e5b6=doc(db,_0x4610ca(0xc93)+appId+_0x4610ca(0x67c),currentLiveGameId);await updateDoc(_0x39e5b6,{'status':_0x4610ca(0x569)});}),document[_0x463b62(0x552)](_0x463b62(0x161))[_0x463b62(0x6f4)]=()=>{const _0x32e21d=_0x463b62;openScratchpad(_0x7c168b,_0x7c168b[_0x32e21d(0xb70)]||[]);},document[_0x463b62(0x552)](_0x463b62(0x286))[_0x463b62(0x224)]('click',()=>{const _0x4479c2=_0x463b62;document[_0x4479c2(0x552)](_0x4479c2(0x172))['classList'][_0x4479c2(0x818)]('hidden');});}function renderSyncLeaderboardView(_0x12f632,_0x2c7644){const _0x2b3aea=_0x3a383e,_0x78d62d=Object[_0x2b3aea(0x8b4)](_0x12f632[_0x2b3aea(0x8d9)]||{});_0x78d62d['sort']((_0x48921f,_0x7ddb15)=>_0x7ddb15[_0x2b3aea(0xbd7)]-_0x48921f[_0x2b3aea(0xbd7)]);const _0x25501f=_0x78d62d[_0x2b3aea(0x8ea)](0x0,0x5);let _0x3fbb0e='';if(_0x2c7644){const _0x1019bb=_0x12f632[_0x2b3aea(0x3fd)]>=_0x12f632[_0x2b3aea(0x402)][_0x2b3aea(0x5cd)]['length']-0x1;_0x3fbb0e=_0x2b3aea(0x23a)+(_0x1019bb?_0x2b3aea(0xa36):_0x2b3aea(0x323))+_0x2b3aea(0x702);}else _0x3fbb0e='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x2b3aea(0x377)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x25501f[_0x2b3aea(0x75d)]((_0x3a51bf,_0x1dd075)=>_0x2b3aea(0x6f7)+(_0x1dd075+0x1)+'.\x20'+_0x3a51bf[_0x2b3aea(0xce5)]+_0x2b3aea(0x2d9)+_0x3a51bf['score']+'</span></div>')['join']('')+_0x2b3aea(0x254)+_0x3fbb0e+_0x2b3aea(0x88c),_0x2c7644&&document[_0x2b3aea(0x552)]('next-sync-question-btn')[_0x2b3aea(0x224)](_0x2b3aea(0x43a),async()=>{const _0x365468=_0x2b3aea,_0x174bc0=doc(db,_0x365468(0xc93)+appId+_0x365468(0x67c),currentLiveGameId),_0x5d031a=_0x12f632[_0x365468(0x3fd)]+0x1;if(_0x5d031a<_0x12f632['shuffledQuiz'][_0x365468(0x5cd)][_0x365468(0x636)]){const _0x2aef2f={};Object['keys'](_0x12f632[_0x365468(0x8d9)])[_0x365468(0x1f5)](_0x24dc8e=>{_0x2aef2f['players.'+_0x24dc8e+'.answered']=![];}),await updateDoc(_0x174bc0,{..._0x2aef2f,'status':_0x365468(0x807),'currentQuestionIndex':_0x5d031a,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x174bc0,{'status':_0x365468(0xc5d)});});}async function handleJoinSyncGame(){const _0x8a0f77=_0x3a383e,_0x13517b=prompt(_0x8a0f77(0xa5f));if(!_0x13517b||_0x13517b[_0x8a0f77(0x887)]()['length']!==0x2){showMessage(_0x8a0f77(0xc5e));return;}try{const _0x1a55ba=collection(db,_0x8a0f77(0xc93)+appId+_0x8a0f77(0x67c)),_0x25a9d9=query(_0x1a55ba,where(_0x8a0f77(0xb40),'==',_0x13517b['trim']()),where(_0x8a0f77(0xb09),'==','lobby')),_0x525c34=await getDocs(_0x25a9d9);if(_0x525c34[_0x8a0f77(0x491)]){showMessage(_0x8a0f77(0x363));return;}const _0x5143db=_0x525c34[_0x8a0f77(0x975)][0x0];currentLiveGameId=_0x5143db['id'];const _0x336471=_0x5143db[_0x8a0f77(0x183)](),_0x57d045=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x336471['quizId']),_0xcd5d69=await getDoc(_0x57d045);if(!_0xcd5d69[_0x8a0f77(0x837)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x215cee=_0xcd5d69['data'](),_0x46ea8f=doc(db,'artifacts/'+appId+_0x8a0f77(0x5c5),_0x215cee[_0x8a0f77(0x88a)]),_0xff47f=await getDoc(_0x46ea8f);if(!_0xff47f[_0x8a0f77(0x837)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x336471[_0x8a0f77(0x402)];const _0xa18774=_0xff47f[_0x8a0f77(0x183)]();showView(_0x8a0f77(0xc9a)),showTeamPlayerSelection(_0xa18774[_0x8a0f77(0x748)],_0x215cee[_0x8a0f77(0x65f)]);const _0x3daded=document[_0x8a0f77(0x552)]('confirm-team-players-btn');_0x3daded[_0x8a0f77(0x6f4)]=confirmAndJoinSyncGame;}catch(_0x51f06f){console[_0x8a0f77(0x2e9)](_0x8a0f77(0x99a),_0x51f06f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x51f06f['message']);}}function updateStudentSyncView(_0x23c461){const _0x365640=_0x3a383e,_0x541eed=_0x23c461[_0x365640(0x8d9)][localTeamPlayers[0x0]];switch(_0x23c461[_0x365640(0xb09)]){case'lobby':showView(_0x365640(0x7e0)),liveGameView['innerHTML']=_0x365640(0x82b);break;case _0x365640(0x807):const _0x2bc5d2=localTeamPlayers[_0x365640(0xc0c)](_0x567319=>_0x23c461[_0x365640(0x8d9)][_0x567319]?.['answered']===!![]);_0x2bc5d2?liveGameView[_0x365640(0x377)]=_0x365640(0x24c):renderStudentSyncQuestionView(_0x23c461);break;case'summary':liveGameView[_0x365640(0x377)]=_0x365640(0x524);break;case _0x365640(0x569):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x23c461);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x365640(0xbaf)](_0x365640(0xb7e),handleFullscreenChange),document[_0x365640(0xbaf)](_0x365640(0x38a),handleVisibilityChange),sessionStorage[_0x365640(0x2c2)](_0x365640(0xacf));const _0xc607b5=calculateFinalPodiumScores(_0x23c461);showPodiumView(_0xc607b5,_0x365640(0x9e0));break;}}function renderStudentSyncResultsView(_0x91bd7b){const _0x5c3ab6=_0x3a383e,_0x5147b2=localTeamPlayers['map'](_0x272e6f=>_0x91bd7b[_0x5c3ab6(0x8d9)][_0x272e6f])[_0x5c3ab6(0x499)](Boolean);_0x5147b2['sort']((_0x520434,_0x2b0321)=>(_0x2b0321[_0x5c3ab6(0xbd7)]||0x0)-(_0x520434['score']||0x0));const _0x3c99c7=_0x91bd7b['currentQuestionIndex']>=_0x91bd7b[_0x5c3ab6(0x402)][_0x5c3ab6(0x5cd)]['length']-0x1;let _0xa702d1='';_0x3c99c7?_0xa702d1=_0x5c3ab6(0x539):_0xa702d1='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x54bd6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5147b2[_0x5c3ab6(0x75d)]((_0x5ee7be,_0x451505)=>_0x5c3ab6(0x584)+(_0x451505+0x1)+_0x5c3ab6(0x32b)+_0x5ee7be['name']+_0x5c3ab6(0x42b)+_0x5ee7be[_0x5c3ab6(0xbd7)]+_0x5c3ab6(0x80c))[_0x5c3ab6(0xa89)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa702d1+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5c3ab6(0x377)]=_0x54bd6c;}function renderStudentSyncQuestionView(_0x463526){const _0x3e25f2=_0x3a383e;while(localPlayerTurnIndex<localTeamPlayers[_0x3e25f2(0x636)]&&_0x463526[_0x3e25f2(0x8d9)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x3e25f2(0x264)]===!![]){localPlayerTurnIndex++;}const _0x25f24a=localTeamPlayers[localPlayerTurnIndex];if(!_0x25f24a)return;const _0x51185a=_0x463526[_0x3e25f2(0x3fd)],_0x201cf2=_0x463526[_0x3e25f2(0x402)]['questions'][_0x3e25f2(0x636)],_0x95afab=_0x463526['shuffledQuiz'][_0x3e25f2(0x5cd)][_0x51185a],_0x348346=_0x95afab[_0x3e25f2(0x5be)]||_0x463526[_0x3e25f2(0x402)][_0x3e25f2(0x8bd)];let _0x28fd4e='',_0xd60952=![];switch(_0x348346){case'true_false':_0x28fd4e=_0x3e25f2(0x2c4);break;case'short_answer':case _0x3e25f2(0x349):_0xd60952=!![],_0x28fd4e=_0x3e25f2(0x4c3);break;case _0x3e25f2(0x4b4):_0xd60952=!![],_0x28fd4e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x95afab[_0x3e25f2(0xaeb)]||[])[_0x3e25f2(0x75d)](_0x5b0e15=>_0x3e25f2(0x7dd)+_0x5b0e15+'\x22>'+_0x5b0e15+_0x3e25f2(0xa0c))[_0x3e25f2(0xa89)]('')+_0x3e25f2(0x620);break;case _0x3e25f2(0x2df):default:_0x28fd4e=(_0x95afab[_0x3e25f2(0xb70)]||[])['map']((_0x5bacc4,_0xea8eb8)=>_0x3e25f2(0x77c)+_0xea8eb8+_0x3e25f2(0xb5e)+_0x5bacc4+'</button>')['join']('');break;}liveGameView[_0x3e25f2(0x377)]=_0x3e25f2(0x594)+(_0x51185a+0x1)+'\x20/\x20'+_0x201cf2+_0x3e25f2(0x41a)+_0x25f24a+_0x3e25f2(0x83a)+(_0x95afab[_0x3e25f2(0x629)]||_0x95afab['stem'])+_0x3e25f2(0x9ba)+_0x28fd4e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0x3e25f2(0xc8b)])MathJax[_0x3e25f2(0x171)]();function _0x15be7f(_0x31e513,_0x1e9f39,_0x1d8b4e,_0x50e71f){const _0x3eee5c=_0x3e25f2,_0x2978aa=_0x1d8b4e[_0x3eee5c(0x7fa)]===!![];if(_0x2978aa){document['getElementById']('confidence-modal')[_0x3eee5c(0x79d)][_0x3eee5c(0xb60)]='sync';const _0x4ae2ba=document[_0x3eee5c(0x552)](_0x3eee5c(0x845));_0x4ae2ba[_0x3eee5c(0x79d)][_0x3eee5c(0xcc6)]=_0x31e513,_0x4ae2ba['dataset']['question']=JSON['stringify'](_0x1e9f39),_0x4ae2ba['dataset'][_0x3eee5c(0x912)]=JSON[_0x3eee5c(0x7ae)](_0x1d8b4e),_0x4ae2ba[_0x3eee5c(0x79d)][_0x3eee5c(0x9b9)]=_0x50e71f,document[_0x3eee5c(0x552)](_0x3eee5c(0xca8))[_0x3eee5c(0x4c1)][_0x3eee5c(0xb01)]('hidden');}else handleSyncAnswerSubmit(_0x31e513,_0x1e9f39,_0x1d8b4e,_0x50e71f,![]);}_0xd60952?document[_0x3e25f2(0x552)](_0x3e25f2(0x5ad))['addEventListener'](_0x3e25f2(0x43a),()=>{const _0x45b735=_0x3e25f2,_0x59af16=document[_0x45b735(0x552)](_0x45b735(0x4b1))||document[_0x45b735(0x552)]('sync-matching-select');if(_0x59af16['value'][_0x45b735(0x887)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x15be7f(_0x59af16[_0x45b735(0x203)],_0x95afab,_0x463526,_0x25f24a);}):document[_0x3e25f2(0x3e0)](_0x3e25f2(0x68c))[_0x3e25f2(0x1f5)](_0x3c6c5f=>{const _0x3c21fc=_0x3e25f2;_0x3c6c5f['addEventListener'](_0x3c21fc(0x43a),()=>{const _0x563cdd=_0x3c21fc;_0x15be7f(_0x3c6c5f[_0x563cdd(0x79d)]['value'],_0x95afab,_0x463526,_0x25f24a);});});}async function handleSyncAnswerSubmit(_0x2d08aa,_0x29a234,_0x4d6285,_0x2cdbdd,_0x834269){const _0xf43ba2=_0x3a383e;document[_0xf43ba2(0x3e0)]('.live-answer-btn,\x20#sync-submit-btn')['forEach'](_0x554f18=>_0x554f18['disabled']=!![]);const _0x1a7b7d=_0x29a234[_0xf43ba2(0x5be)]||_0x4d6285[_0xf43ba2(0x402)]['quizType'];let _0x575a8a=![],_0x32b7cc=_0x2d08aa;switch(_0x1a7b7d){case _0xf43ba2(0x631):const _0x1da28f=parseInt(_0x2d08aa),_0x21d6fa=_0x29a234[_0xf43ba2(0x207)]===!![]||String(_0x29a234[_0xf43ba2(0x207)])[_0xf43ba2(0x883)]()===_0xf43ba2(0xcb5);_0x575a8a=_0x1da28f===0x0&&_0x21d6fa||_0x1da28f===0x1&&!_0x21d6fa,_0x32b7cc=_0x1da28f===0x0?_0xf43ba2(0x527):_0xf43ba2(0x2f9);break;case _0xf43ba2(0x952):case _0xf43ba2(0x349):_0x575a8a=await gradeShortAnswer(_0x2d08aa,_0x29a234);break;case _0xf43ba2(0x4b4):_0x575a8a=_0x2d08aa===_0x29a234[_0xf43ba2(0x8b9)];break;case _0xf43ba2(0x2df):default:const _0x3aaf59=parseInt(_0x2d08aa);_0x575a8a=_0x3aaf59===_0x29a234[_0xf43ba2(0xb21)];_0x29a234[_0xf43ba2(0xb70)]&&_0x29a234[_0xf43ba2(0xb70)][_0x3aaf59]&&(_0x32b7cc=_0x29a234[_0xf43ba2(0xb70)][_0x3aaf59]);break;}const _0x8104ca=_0x575a8a?0x1:0x0,_0x3100d8=doc(db,_0xf43ba2(0xc93)+appId+_0xf43ba2(0x67c),currentLiveGameId),_0x454182={};_0x454182[_0xf43ba2(0xa02)+_0x2cdbdd+_0xf43ba2(0x7d7)]=increment(_0x8104ca),_0x454182['players.'+_0x2cdbdd+'.answered']=!![];let _0x8919ff=null;(_0x1a7b7d===_0xf43ba2(0x2df)||_0x1a7b7d==='true_false'||_0x1a7b7d==='fill_in_with_choices')&&(_0x8919ff=parseInt(_0x2d08aa));_0x454182[_0xf43ba2(0xa02)+_0x2cdbdd+_0xf43ba2(0x364)]=_0x8919ff;const _0x26518d={'questionIndex':_0x4d6285[_0xf43ba2(0x3fd)],'questionId':_0x29a234['id'],'answer':_0x2d08aa,'answerText':_0x32b7cc,'isCorrect':_0x575a8a,'originalQuestionText':_0x29a234['questionText']||_0x29a234[_0xf43ba2(0x2a5)],'wasConfident':_0x834269};_0x454182[_0xf43ba2(0xa02)+_0x2cdbdd+_0xf43ba2(0xa1a)]=arrayUnion(_0x26518d),await updateDoc(_0x3100d8,_0x454182);}initialize();
