const _0x4a882c=_0x2fbb;(function(_0x173aae,_0x13d4a2){const _0x2cbb6c=_0x2fbb,_0x5d83a5=_0x173aae();while(!![]){try{const _0x55d7c9=-parseInt(_0x2cbb6c(0x5e1))/0x1*(-parseInt(_0x2cbb6c(0xc80))/0x2)+-parseInt(_0x2cbb6c(0x8c2))/0x3+-parseInt(_0x2cbb6c(0x393))/0x4+parseInt(_0x2cbb6c(0xdac))/0x5+-parseInt(_0x2cbb6c(0xd69))/0x6*(parseInt(_0x2cbb6c(0x67f))/0x7)+parseInt(_0x2cbb6c(0x89e))/0x8*(-parseInt(_0x2cbb6c(0x397))/0x9)+parseInt(_0x2cbb6c(0x75e))/0xa*(parseInt(_0x2cbb6c(0xe1c))/0xb);if(_0x55d7c9===_0x13d4a2)break;else _0x5d83a5['push'](_0x5d83a5['shift']());}catch(_0x2eda70){_0x5d83a5['push'](_0x5d83a5['shift']());}}}(_0x18ec,0x61691));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x4a882c(0x4f9),_0x4a882c(0x67d),_0x4a882c(0x83c),'เหมียวขี้เซา',_0x4a882c(0x40b),_0x4a882c(0xe1d),'โลมาบิน',_0x4a882c(0x4ef),_0x4a882c(0x674),_0x4a882c(0xde7),'ผู้พิชิตดาว',_0x4a882c(0x3ec),_0x4a882c(0xa39),_0x4a882c(0x70f),_0x4a882c(0x3e8),_0x4a882c(0x217),_0x4a882c(0x83b),'ซามูไรสายเดี่ยว','โจรสลัดอวกาศ',_0x4a882c(0x360),_0x4a882c(0xc39),_0x4a882c(0x870),'ปลาทูคะนอง',_0x4a882c(0x723),_0x4a882c(0xa1f),_0x4a882c(0x27b),_0x4a882c(0xda9),_0x4a882c(0xd6e),_0x4a882c(0x638),_0x4a882c(0x7c5),_0x4a882c(0xd28),'สายลับจับบ้านเล็ก',_0x4a882c(0x97f),'ดาวTikTok',_0x4a882c(0x615),_0x4a882c(0xad8),_0x4a882c(0xb73),_0x4a882c(0x9ff),_0x4a882c(0x902),_0x4a882c(0x841),'กาแฟขม',_0x4a882c(0xb2d),_0x4a882c(0x168),_0x4a882c(0x2ad),_0x4a882c(0x62b),'ข้าวมันไก่พิเศษ',_0x4a882c(0x1fc),_0x4a882c(0x419),_0x4a882c(0x790),'ลาเต้ไม่หวาน',_0x4a882c(0x855),_0x4a882c(0x9b2),'ออฟฟิศซินโดรม',_0x4a882c(0xd91),_0x4a882c(0x429),_0x4a882c(0x2ef),_0x4a882c(0xc3c),_0x4a882c(0x4bb),_0x4a882c(0xa88),_0x4a882c(0x4d5),_0x4a882c(0x497),_0x4a882c(0x209),_0x4a882c(0x225),_0x4a882c(0xa8e),_0x4a882c(0x3a2),_0x4a882c(0x699),_0x4a882c(0x3e2),'ภูเขา',_0x4a882c(0xe15),'แม่น้ำ',_0x4a882c(0x953),_0x4a882c(0xac2),_0x4a882c(0xe99),'ศิลปิน',_0x4a882c(0xaab),_0x4a882c(0xc7d),_0x4a882c(0xa5b),_0x4a882c(0x97a),_0x4a882c(0x8e5),_0x4a882c(0xc75),'พลังคลื่นเต่า','ปล่อยพลัง',_0x4a882c(0xd6c),_0x4a882c(0x6d3),_0x4a882c(0xcc1),'คาถาแยกเงาพันร่าง',_0x4a882c(0x2dc),_0x4a882c(0x7d5),_0x4a882c(0x373),_0x4a882c(0xc96),_0x4a882c(0xd21),'คนโสด','แอบชอบ',_0x4a882c(0xd43),_0x4a882c(0x405),'คู่จิ้น','แฟนทิพย์','คนคุย','สถานะไม่ชัดเจน',_0x4a882c(0x2d9)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x4a882c(0xde1),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x483c06=_0x4a882c;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x483c06(0x604)][_0x483c06(0xb93)](_0x483c06(0x230)),console['log']('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x483c06(0x843)](_0x483c06(0xc49),()=>{const _0x3292da=_0x483c06;console[_0x3292da(0x792)](_0x3292da(0x4bc));});}catch(_0x4976c0){console[_0x483c06(0x76b)](_0x483c06(0xdb4)+_0x4976c0[_0x483c06(0x523)]+',\x20'+_0x4976c0['message']);}else console[_0x483c06(0x41f)](_0x483c06(0x45c));},releaseWakeLock=async()=>{const _0x12daff=_0x4a882c;wakeLock!==null&&(await wakeLock[_0x12daff(0xc49)](),wakeLock=null,console['log'](_0x12daff(0xd38)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x27b2e9=_0x4a882c;if(!document['body']['classList']['contains'](_0x27b2e9(0xb27))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x32c4f6=_0x27b2e9;document[_0x32c4f6(0x8c1)][_0x32c4f6(0xdd2)][_0x32c4f6(0x87d)](_0x32c4f6(0xb27)),console[_0x32c4f6(0x792)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0xe42d0e){const _0x324c03=_0x4a882c;_0xe42d0e&&(_0xe42d0e['stopPropagation'](),_0xe42d0e['preventDefault']());document[_0x324c03(0x8c1)][_0x324c03(0xdd2)][_0x324c03(0x469)](_0x324c03(0xb27));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x180aa1=_0x324c03;document[_0x180aa1(0x8c1)][_0x180aa1(0xdd2)][_0x180aa1(0x87d)](_0x180aa1(0xb27));},inactivityTime);}function stopDimTimer(){const _0x2c947b=_0x4a882c;if(dimTimer)clearTimeout(dimTimer);document[_0x2c947b(0x8c1)][_0x2c947b(0xdd2)][_0x2c947b(0x469)](_0x2c947b(0xb27)),window[_0x2c947b(0x599)]('mousemove',resetDimTimer),window[_0x2c947b(0x599)](_0x2c947b(0xacc),resetDimTimer),window[_0x2c947b(0x599)]('touchstart',resetDimTimer),window[_0x2c947b(0x599)](_0x2c947b(0x4b0),resetDimTimer),console[_0x2c947b(0x792)](_0x2c947b(0x403));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x18f086,_0x3aef1b=![]){const _0x282ded=_0x4a882c,_0x4a7785=allQuizzes[_0x282ded(0xa74)](_0x2e7626=>_0x2e7626['id']===_0x18f086)||allQuizzesGlobal[_0x282ded(0xa74)](_0x3ce1b1=>_0x3ce1b1['id']===_0x18f086);if(!_0x4a7785){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x4a7785);const _0x27d7e3=Math[_0x282ded(0x22a)](0x3e8+Math[_0x282ded(0x8c4)]()*0x2328)['toString']();try{const _0x4f489b=await addDoc(collection(db,_0x282ded(0x878)+appId+_0x282ded(0xe7d)),{'quizId':_0x4a7785['id'],'projectId':_0x4a7785[_0x282ded(0xc9b)],'status':_0x282ded(0xa08),'pin':_0x27d7e3,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3aef1b});currentTeamQuizId=_0x4f489b['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x27d7e3,_0x4a7785[_0x282ded(0x755)]),listenForTeamQuizUpdates();}catch(_0x510428){console['error']('Error\x20starting\x20team\x20quiz:',_0x510428),showMessage(_0x282ded(0x42c));}}function renderAdminTeamQuizDashboard(_0xa15433,_0x496f37,_0x140d57='team'){const _0x23b608=_0x4a882c,_0x3410fa=_0x140d57===_0x23b608(0xdea)?_0x23b608(0xb74):_0x23b608(0xe9c);liveGameView[_0x23b608(0x8ea)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x3410fa+':\x20'+_0x496f37+_0x23b608(0x86f)+_0xa15433+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById']('end-team-quiz-btn')[_0x23b608(0x843)](_0x23b608(0x864),async()=>{const _0x2752c7=_0x23b608;showConfirmation(_0x2752c7(0x8bf),async()=>{const _0x24cf1c=_0x2752c7;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x24cf1c(0x878)+appId+_0x24cf1c(0xe7d),currentTeamQuizId)),showView(_0x24cf1c(0x777));});});}function listenForTeamQuizUpdates(){const _0x58a81e=_0x4a882c;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xf8fe5f=doc(db,_0x58a81e(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xf8fe5f,_0x594b67=>{const _0x486b74=_0x58a81e;if(!_0x594b67[_0x486b74(0xb52)]()){sessionStorage[_0x486b74(0x37a)](_0x486b74(0x47f));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x486b74(0x986));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x486b74(0x3de)?showView(_0x486b74(0x777)):showView(_0x486b74(0x711));return;}const _0x17010c=_0x594b67[_0x486b74(0xc66)]();if(currentMode===_0x486b74(0x3de)){if(_0x17010c[_0x486b74(0xa43)]===_0x486b74(0xdea)&&_0x17010c[_0x486b74(0x589)]!==_0x486b74(0x382)&&_0x17010c[_0x486b74(0x589)]!==_0x486b74(0xc76)){const _0x5eb92d=Object['values'](_0x17010c[_0x486b74(0x23d)]||{});if(_0x5eb92d[_0x486b74(0xa96)]>0x0){const _0x48918b=_0x5eb92d[_0x486b74(0x9d9)](_0x2777f6=>_0x2777f6[_0x486b74(0x20f)]===!![]);_0x48918b&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x17010c);}else{if(_0x17010c[_0x486b74(0x589)]==='podium'||_0x17010c[_0x486b74(0x589)]===_0x486b74(0xc76)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x17010c['mode']===_0x486b74(0xdea)){const _0x33f1e8=_0x17010c['groups'][userId];(!_0x33f1e8||!_0x33f1e8[_0x486b74(0x20f)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x52e093){const _0x5ec80a=_0x4a882c;console['log']('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x139163=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',_0x52e093);try{const _0x12d318=await getDoc(_0x139163);if(_0x12d318[_0x5ec80a(0xb52)]()){const _0x36447d=_0x12d318[_0x5ec80a(0xc66)]();_0x36447d[_0x5ec80a(0xbe2)]&&await saveGameResultsAsSubmissions(_0x36447d);}await updateDoc(_0x139163,{'status':'podium'});}catch(_0x1a6cbe){console[_0x5ec80a(0x76b)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x1a6cbe);}}function updateAdminTeamDashboard(_0x2b8a11){const _0x14a2f4=_0x4a882c,_0x4c3eca=document[_0x14a2f4(0x81d)](_0x14a2f4(0x280));if(!_0x4c3eca)return;const _0x408306=_0x2b8a11[_0x14a2f4(0xa43)]||_0x14a2f4(0x4a8),_0x5e22ee=currentQuizData[_0x14a2f4(0x277)][_0x14a2f4(0xa96)];if(_0x408306===_0x14a2f4(0xdea)){const _0x6ae265=Object['values'](_0x2b8a11[_0x14a2f4(0x23d)]||{});if(_0x6ae265['length']===0x0){_0x4c3eca[_0x14a2f4(0x8ea)]=_0x14a2f4(0x20b);return;}const _0x273181=[..._0x6ae265][_0x14a2f4(0x6c8)]((_0x18d58c,_0x46eebc)=>_0x46eebc['score']-_0x18d58c[_0x14a2f4(0x64f)]),_0x3e1a9c=_0x273181[_0x14a2f4(0x7d8)]((_0x214ad9,_0x32ea10)=>{const _0x9d67c3=_0x14a2f4,_0x177494=_0x214ad9['answers']?.['length']||0x0;return _0x9d67c3(0xd1e)+(_0x32ea10+0x1)+_0x9d67c3(0xa4a)+_0x214ad9[_0x9d67c3(0x847)][_0x9d67c3(0x343)](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x177494+'/'+_0x5e22ee+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x214ad9[_0x9d67c3(0x64f)]+_0x9d67c3(0x683);})[_0x14a2f4(0x343)](''),_0x28ca3e=currentQuizData['questions']['map']((_0x2f2c88,_0x5e09e4)=>{const _0x2dd4d4=_0x14a2f4;let _0x318b92=0x0,_0x45b724=0x0;_0x6ae265[_0x2dd4d4(0xdc3)](_0x5b32bc=>{const _0x5d99d2=_0x2dd4d4,_0x57cb1d=_0x5b32bc[_0x5d99d2(0x6c9)]?.['find'](_0x19415b=>_0x19415b[_0x5d99d2(0x63d)]===_0x5e09e4);if(_0x57cb1d){_0x45b724++;if(_0x57cb1d['isCorrect'])_0x318b92++;}});const _0x2e35c7=_0x45b724>0x0&&_0x45b724===_0x6ae265[_0x2dd4d4(0xa96)],_0x1ec798=_0x2e35c7?_0x2dd4d4(0x913):_0x2dd4d4(0xb2a),_0x52074f=_0x2e35c7?_0x2dd4d4(0x5b5):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x1ec798+_0x2dd4d4(0xe59)+(_0x5e09e4+0x1)+_0x2dd4d4(0x8c6)+_0x52074f+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x318b92+'/'+_0x6ae265[_0x2dd4d4(0xa96)]+'\x20กลุ่ม</p></div>';})[_0x14a2f4(0x343)]('');_0x4c3eca['innerHTML']=_0x14a2f4(0x904)+_0x3e1a9c+_0x14a2f4(0xc52)+_0x28ca3e+'</div></div></div>';return;}const _0x184740=_0x2b8a11[_0x14a2f4(0x6f2)]||{},_0x2e52d8=Object[_0x14a2f4(0x2cf)](_0x184740);if(_0x2e52d8[_0x14a2f4(0xa96)]===0x0){_0x4c3eca[_0x14a2f4(0x8ea)]=_0x14a2f4(0xdc1);return;}const _0x147089=_0x2e52d8[_0x14a2f4(0x7d8)](_0x42a456=>({'name':_0x42a456,'score':_0x184740[_0x42a456][_0x14a2f4(0x64f)]||0x0}))[_0x14a2f4(0x6c8)]((_0x124b16,_0x457d5b)=>_0x457d5b[_0x14a2f4(0x64f)]-_0x124b16[_0x14a2f4(0x64f)]),_0x3b121b=_0x147089['map'](_0x2617f5=>{const _0x38260b=_0x14a2f4,_0xd8b569=_0x184740[_0x2617f5[_0x38260b(0x523)]]?.[_0x38260b(0x6c9)]?.['length']||0x0,_0x29b3e5=Math[_0x38260b(0xd2d)](_0x5e22ee/_0x2e52d8[_0x38260b(0xa96)]);return _0x38260b(0x707)+_0x2617f5[_0x38260b(0x523)]+_0x38260b(0xde9)+_0xd8b569+'/'+_0x29b3e5+_0x38260b(0xcbf)+_0x2617f5[_0x38260b(0x64f)]+'\x20คะแนน</span></div>';})[_0x14a2f4(0x343)](''),_0x36be95=_0x2e52d8[_0x14a2f4(0x68e)]((_0x1cc40b,_0x7fee97)=>_0x1cc40b+(_0x184740[_0x7fee97][_0x14a2f4(0x6c9)]?.['length']||0x0),0x0),_0x2ca300=currentQuizData[_0x14a2f4(0x277)][_0x14a2f4(0x7d8)]((_0x5151b2,_0x537ca4)=>{const _0x15b629=_0x14a2f4;let _0x58f9ff=null,_0x3a0acc=null;for(const _0x4547a1 of _0x2e52d8){const _0x260783=_0x184740[_0x4547a1]['answers']?.[_0x15b629(0xa74)](_0x95d2a4=>_0x95d2a4[_0x15b629(0x63d)]===_0x537ca4);if(_0x260783){_0x58f9ff=_0x260783,_0x3a0acc=_0x4547a1;break;}}const _0x120708=!!_0x58f9ff,_0xc4bbec=_0x120708&&_0x58f9ff['isCorrect'],_0x3b4f28=(Math[_0x15b629(0x22a)](_0x537ca4/_0x2e52d8[_0x15b629(0xa96)])+0x1)*_0x2e52d8[_0x15b629(0xa96)],_0x3cc4e2=_0x36be95>=_0x3b4f28,_0x530ef2=_0x3cc4e2?_0x15b629(0x6ce):_0x15b629(0xb2a),_0x260d28=_0x3cc4e2?_0x15b629(0x5b5):'';let _0x4802f8=_0x15b629(0x2a0);return _0x120708&&(_0x4802f8=_0x3a0acc+'\x20ตอบ'+(_0xc4bbec?_0x15b629(0xb49):_0x15b629(0xb56))),_0x15b629(0xac1)+_0x530ef2+_0x15b629(0xe59)+(_0x537ca4+0x1)+_0x15b629(0x8c6)+_0x260d28+_0x15b629(0xb17)+_0x4802f8+_0x15b629(0x351);})[_0x14a2f4(0x343)]('');_0x4c3eca['innerHTML']=_0x14a2f4(0xd07)+_0x3b121b+_0x14a2f4(0x79b)+_0x2ca300+_0x14a2f4(0x866);}async function handleJoinTeamQuiz(){const _0x422fa3=_0x4a882c,_0x32ce07=prompt(_0x422fa3(0x395));if(!_0x32ce07||_0x32ce07[_0x422fa3(0x5f6)]()['length']!==0x4){showMessage(_0x422fa3(0x9d8));return;}try{const _0x3c9677=collection(db,'artifacts/'+appId+_0x422fa3(0xe7d)),_0x16d646=query(_0x3c9677,where(_0x422fa3(0x556),'==',_0x32ce07[_0x422fa3(0x5f6)]()),where(_0x422fa3(0x589),'==','lobby')),_0x579130=await getDocs(_0x16d646);if(_0x579130['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x1e3b79=_0x579130[_0x422fa3(0x9b1)][0x0];currentTeamQuizId=_0x1e3b79['id'];const _0x1d32ef=_0x1e3b79[_0x422fa3(0xc66)](),_0x1eb29b=doc(db,_0x422fa3(0x878)+appId+'/public/data/projects',_0x1d32ef[_0x422fa3(0xc9b)]),_0x1fac03=doc(db,_0x422fa3(0x878)+appId+_0x422fa3(0x527),_0x1d32ef[_0x422fa3(0x291)]),[_0x2b30a5,_0x52d1b2]=await Promise['all']([getDoc(_0x1eb29b),getDoc(_0x1fac03)]);if(!_0x2b30a5[_0x422fa3(0xb52)]()||!_0x52d1b2['exists']())throw new Error(_0x422fa3(0xabb));currentQuizData=getShuffledQuiz({'id':_0x52d1b2['id'],..._0x52d1b2[_0x422fa3(0xc66)]()});const _0x5cb463=_0x2b30a5['data']();showTeamPlayerSelection(_0x5cb463[_0x422fa3(0x881)],currentQuizData[_0x422fa3(0x755)]);}catch(_0x17cfc9){console[_0x422fa3(0x76b)](_0x422fa3(0xc4d),_0x17cfc9),showMessage('เกิดข้อผิดพลาด:\x20'+_0x17cfc9['message']);}}async function handleJoinGroupActivity(){const _0x49f46c=_0x4a882c,_0x3999f7=prompt(_0x49f46c(0xce8));if(!_0x3999f7||_0x3999f7[_0x49f46c(0x5f6)]()[_0x49f46c(0xa96)]!==0x4){showMessage(_0x49f46c(0x8f8));return;}const _0x186475=_0x3999f7[_0x49f46c(0x5f6)]();showMessage(_0x49f46c(0x2ab));try{const _0xd2b520=collection(db,_0x49f46c(0x878)+appId+_0x49f46c(0xe7d)),_0x477754=query(_0xd2b520,where('pin','==',_0x186475),where(_0x49f46c(0x589),'==',_0x49f46c(0xa08))),_0x24ee00=await getDocs(_0x477754);if(!_0x24ee00[_0x49f46c(0xca5)]){console[_0x49f46c(0x792)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x24ee00[_0x49f46c(0x9b1)][0x0]);return;}const _0x32d02d=collection(db,_0x49f46c(0x878)+appId+_0x49f46c(0x4f6)),_0x548bfe=query(_0x32d02d,where(_0x49f46c(0x556),'==',_0x186475),where(_0x49f46c(0x589),'in',[_0x49f46c(0xa08),_0x49f46c(0x62f),_0x49f46c(0xc3e),_0x49f46c(0x27a)])),_0x505c5c=await getDocs(_0x548bfe);if(!_0x505c5c[_0x49f46c(0xca5)]){console[_0x49f46c(0x792)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x505c5c[_0x49f46c(0x9b1)][0x0]);return;}showMessage(_0x49f46c(0x32e));}catch(_0x20c78e){console[_0x49f46c(0x76b)](_0x49f46c(0x328),_0x20c78e),showMessage(_0x49f46c(0xd59)+_0x20c78e[_0x49f46c(0x752)]);}}async function proceedWithTeamQuizJoin(_0x501ca1){const _0x46e53f=_0x4a882c;currentTeamQuizId=_0x501ca1['id'];const _0x12f98b=_0x501ca1[_0x46e53f(0xc66)](),_0x5e3151=doc(db,_0x46e53f(0x878)+appId+'/public/data/projects',_0x12f98b[_0x46e53f(0xc9b)]),_0x5a8e28=doc(db,_0x46e53f(0x878)+appId+_0x46e53f(0x527),_0x12f98b[_0x46e53f(0x291)]),[_0xd99440,_0x488204]=await Promise[_0x46e53f(0xde1)]([getDoc(_0x5e3151),getDoc(_0x5a8e28)]);if(!_0xd99440['exists']()||!_0x488204['exists']())throw new Error(_0x46e53f(0xabb));currentQuizData=getShuffledQuiz({'id':_0x488204['id'],..._0x488204[_0x46e53f(0xc66)]()}),showTeamPlayerSelection(_0xd99440['data']()[_0x46e53f(0x881)],currentQuizData['topic'],_0x12f98b[_0x46e53f(0xa43)]||_0x46e53f(0x4a8)),messageModal[_0x46e53f(0xdd2)]['add'](_0x46e53f(0x35b));}async function proceedWithSyncQuizJoin(_0x577f8d){const _0x30d657=_0x4a882c;currentLiveGameId=_0x577f8d['id'];const _0x512ac4=_0x577f8d['data'](),_0x266f6c=doc(db,'artifacts/'+appId+_0x30d657(0x527),_0x512ac4[_0x30d657(0x291)]),_0x19fc6c=await getDoc(_0x266f6c);if(!_0x19fc6c[_0x30d657(0xb52)]())throw new Error(_0x30d657(0x82e));const _0x58dd5=_0x19fc6c[_0x30d657(0xc66)](),_0x107005=doc(db,_0x30d657(0x878)+appId+_0x30d657(0x468),_0x58dd5[_0x30d657(0xc9b)]),_0x1d80ad=await getDoc(_0x107005);if(!_0x1d80ad[_0x30d657(0xb52)]())throw new Error(_0x30d657(0xba4));currentQuizData=_0x512ac4[_0x30d657(0xba9)],showView(_0x30d657(0xb35)),showTeamPlayerSelection(_0x1d80ad['data']()[_0x30d657(0x881)],_0x58dd5[_0x30d657(0x755)],_0x30d657(0x48d));const _0x2fcfc4=document['getElementById'](_0x30d657(0x38a)),_0x375372=_0x2fcfc4[_0x30d657(0x3eb)](!![]);_0x2fcfc4['parentNode'][_0x30d657(0x4ed)](_0x375372,_0x2fcfc4),_0x375372[_0x30d657(0x845)]=confirmAndJoinSyncGame,messageModal[_0x30d657(0xdd2)][_0x30d657(0x87d)](_0x30d657(0x35b));}function getCleanApplicationHTML(){const _0x1d189e=_0x4a882c,_0x46b1b1=document['getElementById'](_0x1d189e(0xb92));if(!_0x46b1b1)return'';const _0x27952b=_0x46b1b1['cloneNode'](!![]);return _0x27952b['querySelectorAll'](_0x1d189e(0x655))[_0x1d189e(0xdc3)](_0xd2d05=>{const _0x5cdfbd=_0x1d189e;_0xd2d05[_0x5cdfbd(0xdd2)][_0x5cdfbd(0x469)]('correct',_0x5cdfbd(0x394)),_0xd2d05[_0x5cdfbd(0x396)]=![];}),_0x27952b['innerHTML'];}function showTeamPlayerSelection(_0x27c29e,_0x4de18c,_0x1e0cd9=_0x4a882c(0x4a8)){const _0x4f8403=_0x4a882c;studentInitialView[_0x4f8403(0xdd2)][_0x4f8403(0x87d)]('hidden'),studentJoinGameView['classList'][_0x4f8403(0x87d)](_0x4f8403(0x35b)),document[_0x4f8403(0x81d)](_0x4f8403(0xe95))[_0x4f8403(0xdd2)][_0x4f8403(0x469)]('hidden');let _0x1a495a=_0x4f8403(0xe9c);if(_0x1e0cd9===_0x4f8403(0xdea))_0x1a495a='Group\x20Mode';else _0x1e0cd9===_0x4f8403(0x48d)&&(_0x1a495a=_0x4f8403(0xd7c));document[_0x4f8403(0x81d)](_0x4f8403(0xe24))[_0x4f8403(0xca8)]=_0x1a495a+':\x20'+_0x4de18c;const _0x41f8e1=document[_0x4f8403(0x81d)](_0x4f8403(0x7dc));if(!_0x27c29e||_0x27c29e['length']===0x0){_0x41f8e1[_0x4f8403(0x8ea)]=_0x4f8403(0xafa),document[_0x4f8403(0x81d)]('confirm-team-players-btn')[_0x4f8403(0x396)]=!![];return;}_0x41f8e1['innerHTML']=_0x27c29e[_0x4f8403(0x7d8)](_0x150d00=>_0x4f8403(0x931)+_0x150d00+_0x4f8403(0xd90)+_0x150d00+_0x4f8403(0x6e3))[_0x4f8403(0x343)](''),document[_0x4f8403(0x81d)](_0x4f8403(0x38a))[_0x4f8403(0x396)]=![];}async function confirmAndStartTeamQuiz(){const _0x24bfc5=_0x4a882c,_0x50a744=Array[_0x24bfc5(0xab3)](document['querySelectorAll'](_0x24bfc5(0x3ad)))[_0x24bfc5(0x7d8)](_0xa16607=>_0xa16607[_0x24bfc5(0x710)]);if(_0x50a744[_0x24bfc5(0xa96)]===0x0){showMessage(_0x24bfc5(0xdec));return;}localTeamPlayers=_0x50a744,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x58430b=doc(db,_0x24bfc5(0x878)+appId+_0x24bfc5(0xe7d),currentTeamQuizId);try{const _0x38a7e9=await getDoc(_0x58430b);if(!_0x38a7e9[_0x24bfc5(0xb52)]())throw new Error(_0x24bfc5(0x568));const _0x1e5d49=_0x38a7e9[_0x24bfc5(0xc66)]();if(_0x1e5d49['mode']===_0x24bfc5(0xdea)){const _0x419dcd={[_0x24bfc5(0x327)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x58430b,_0x419dcd);}else{const _0x55b46e=_0x1e5d49[_0x24bfc5(0x6f2)]||{};localTeamPlayers['forEach'](_0x2d36ec=>{!_0x55b46e[_0x2d36ec]&&(_0x55b46e[_0x2d36ec]={'score':0x0,'answers':[]});}),await updateDoc(_0x58430b,{'responses':_0x55b46e});}document[_0x24bfc5(0x81d)](_0x24bfc5(0xe95))[_0x24bfc5(0xdd2)]['add'](_0x24bfc5(0x35b)),renderTeamQuizQuestion();const _0x27c336={'gameId':currentTeamQuizId,'mode':_0x1e5d49[_0x24bfc5(0xa43)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x24bfc5(0x1a0)](_0x24bfc5(0x47f),JSON[_0x24bfc5(0xe01)](_0x27c336)),listenForTeamQuizUpdates();}catch(_0x101f38){console[_0x24bfc5(0x76b)](_0x24bfc5(0x7a6),_0x101f38),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x340ccf=_0x4a882c;if(localQuestionIndex>=currentQuizData[_0x340ccf(0x277)][_0x340ccf(0xa96)]){displayTeamQuizFinalResults();return;}const _0xc77c11=currentQuizData[_0x340ccf(0x277)][localQuestionIndex],_0x117d47=localTeamPlayers[localPlayerIndex],_0x39c273=_0xc77c11[_0x340ccf(0x211)]||currentQuizData['quizType'];let _0x22aa01=_0xc77c11[_0x340ccf(0x592)]||_0xc77c11[_0x340ccf(0x2c5)],_0x29d069='';switch(_0x39c273){case _0x340ccf(0xca9):case _0x340ccf(0xcbd):_0x29d069=_0xc77c11[_0x340ccf(0x1b5)][_0x340ccf(0x7d8)]((_0x23f0f4,_0x3038e2)=>_0x340ccf(0x89a)+_0x3038e2+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x3038e2+_0x340ccf(0x575)+_0x3038e2+'\x22>'+_0x23f0f4+_0x340ccf(0x996))[_0x340ccf(0x343)]('');break;case'true_false':_0x29d069=_0x340ccf(0xa0e);break;case _0x340ccf(0x2bb):case _0x340ccf(0xe4b):_0x29d069=_0x340ccf(0xb8d);break;case'matching_item':_0x29d069='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0xc77c11[_0x340ccf(0x27e)][_0x340ccf(0x7d8)](_0x31c5ad=>_0x340ccf(0x3f7)+_0x31c5ad+'\x22>'+_0x31c5ad+_0x340ccf(0xb03))[_0x340ccf(0x343)]('')+_0x340ccf(0x651);break;default:_0x29d069=_0x340ccf(0x2b5);break;}studentQuizArea[_0x340ccf(0x8ea)]=_0x340ccf(0x3d5)+(localQuestionIndex+0x1)+_0x340ccf(0x446)+currentQuizData[_0x340ccf(0x277)]['length']+_0x340ccf(0xd04)+_0x117d47+_0x340ccf(0xa64)+(localQuestionIndex+0x1)+'.\x20'+_0x22aa01+_0x340ccf(0x387)+(_0xc77c11[_0x340ccf(0x9b0)]?_0x340ccf(0x6f6)+_0xc77c11[_0x340ccf(0x9b0)]+_0x340ccf(0xbbf):'')+_0x340ccf(0x67a)+_0x29d069+_0x340ccf(0xd18),studentQuizArea[_0x340ccf(0xdd2)][_0x340ccf(0x469)](_0x340ccf(0x35b));if(window[_0x340ccf(0x389)])MathJax[_0x340ccf(0x434)]([studentQuizArea]);document[_0x340ccf(0x81d)](_0x340ccf(0xb4f))[_0x340ccf(0x843)](_0x340ccf(0x864),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3398df=_0x4a882c,_0x299122=currentQuizData[_0x3398df(0x277)][localQuestionIndex],_0x90ad07=_0x299122[_0x3398df(0x211)]||currentQuizData['quizType'];let _0x46478e=null,_0x48ea09=![];if(_0x90ad07===_0x3398df(0x2bb)||_0x90ad07==='fill_in_no_choices'){const _0x50e4f2=document['querySelector'](_0x3398df(0xcd5));if(!_0x50e4f2||!_0x50e4f2[_0x3398df(0x710)][_0x3398df(0x5f6)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x46478e=_0x50e4f2[_0x3398df(0x710)][_0x3398df(0x5f6)](),_0x48ea09=await gradeShortAnswer(_0x46478e,_0x299122);}else{const _0x28735b=document[_0x3398df(0x869)](_0x3398df(0x680));if(!_0x28735b||_0x28735b[_0x3398df(0x710)]===''){showMessage(_0x3398df(0x29a));return;}_0x46478e=_0x28735b[_0x3398df(0x710)];switch(_0x90ad07){case'true_false':_0x48ea09=_0x46478e===_0x3398df(0xa6f)===_0x299122['correctAnswer'];break;case'matching_item':_0x48ea09=_0x46478e===_0x299122[_0x3398df(0x6b7)];break;default:_0x48ea09=parseInt(_0x46478e)===_0x299122['correctAnswerIndex'];break;}}const _0x26b236={'questionIndex':localQuestionIndex,'isCorrect':_0x48ea09},_0x546928=userId,_0x5d859a={['groups.'+_0x546928+_0x3398df(0xe77)]:arrayUnion(_0x26b236)};_0x48ea09&&(_0x5d859a[_0x3398df(0x327)+_0x546928+_0x3398df(0x81a)]=increment(0x1));try{await updateDoc(doc(db,_0x3398df(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5d859a),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x3398df(0xa96)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x2c5de6){console[_0x3398df(0x76b)](_0x3398df(0xb79),_0x2c5de6),showMessage(_0x3398df(0xc6c));}}async function handleTeamAnswerSubmit(){const _0x199fea=_0x4a882c,_0xd69803=await getDoc(doc(db,_0x199fea(0x878)+appId+_0x199fea(0xe7d),currentTeamQuizId));if(!_0xd69803[_0x199fea(0xb52)]())return;const _0x1db7ff=_0xd69803[_0x199fea(0xc66)]();if(_0x1db7ff['mode']===_0x199fea(0xdea)){handleGroupAnswerSubmit();return;}const _0x55cfc4=localTeamPlayers[localPlayerIndex],_0x4e4db3=currentQuizData[_0x199fea(0x277)][localQuestionIndex],_0x52e6c5=_0x4e4db3[_0x199fea(0x211)]||currentQuizData[_0x199fea(0xa6b)];let _0x593513=null,_0x46187f=![];if(_0x52e6c5==='short_answer'||_0x52e6c5==='fill_in_no_choices'){const _0xe61716=document[_0x199fea(0x869)](_0x199fea(0xcd5));if(!_0xe61716||!_0xe61716[_0x199fea(0x710)]['trim']()){showMessage(_0x199fea(0x1da));return;}_0x593513=_0xe61716[_0x199fea(0x710)][_0x199fea(0x5f6)](),_0x46187f=await gradeShortAnswer(_0x593513,_0x4e4db3);}else{const _0x53fd4d=document[_0x199fea(0x869)](_0x199fea(0x680));if(!_0x53fd4d||_0x53fd4d[_0x199fea(0x710)]===''){showMessage(_0x199fea(0xc0f));return;}_0x593513=_0x53fd4d[_0x199fea(0x710)];switch(_0x52e6c5){case'true_false':_0x46187f=_0x593513==='true'===_0x4e4db3[_0x199fea(0x87b)];break;case _0x199fea(0x7d3):_0x46187f=_0x593513===_0x4e4db3['correctResponse'];break;default:_0x46187f=parseInt(_0x593513)===_0x4e4db3['correctAnswerIndex'];break;}}const _0x50968f={'questionIndex':localQuestionIndex,'isCorrect':_0x46187f,'answerValue':_0x593513},_0x3a473b={[_0x199fea(0x65a)+_0x55cfc4+_0x199fea(0xe77)]:arrayUnion(_0x50968f)};_0x46187f&&(_0x3a473b[_0x199fea(0x65a)+_0x55cfc4+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x199fea(0x878)+appId+_0x199fea(0xe7d),currentTeamQuizId),_0x3a473b),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x199fea(0xa96)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x127108){console['error'](_0x199fea(0xa8a),_0x127108),showMessage(_0x199fea(0xc6c));}}async function displayTeamQuizFinalResults(){const _0x5bb4e9=_0x4a882c;studentQuizArea['classList'][_0x5bb4e9(0x87d)]('hidden'),studentResultArea[_0x5bb4e9(0xdd2)][_0x5bb4e9(0x469)](_0x5bb4e9(0x35b));const _0x1cb1ee=doc(db,_0x5bb4e9(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5e6aff=await getDoc(_0x1cb1ee);if(!_0x5e6aff[_0x5bb4e9(0xb52)]()){studentResultArea[_0x5bb4e9(0x8ea)]=_0x5bb4e9(0x619);return;}const _0x548afc=_0x5e6aff[_0x5bb4e9(0xc66)]();let _0x16d5a6=[];const _0x5263b2=_0x548afc[_0x5bb4e9(0xa43)]||'team';if(_0x5263b2===_0x5bb4e9(0xdea)){const _0x11cf0a=_0x548afc[_0x5bb4e9(0x23d)][userId];_0x11cf0a?_0x16d5a6=[{'name':'กลุ่ม:\x20'+localTeamPlayers['join'](',\x20'),'score':_0x11cf0a[_0x5bb4e9(0x64f)]||0x0}]:_0x16d5a6=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x16d5a6=localTeamPlayers[_0x5bb4e9(0x7d8)](_0x2dbcf=>({'name':_0x2dbcf,'score':_0x548afc[_0x5bb4e9(0x6f2)][_0x2dbcf]?.[_0x5bb4e9(0x64f)]||0x0}))[_0x5bb4e9(0x6c8)]((_0x170958,_0x112876)=>_0x112876[_0x5bb4e9(0x64f)]-_0x170958[_0x5bb4e9(0x64f)]);studentResultArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16d5a6[_0x5bb4e9(0x7d8)](_0x466e5a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x466e5a['name']+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x466e5a[_0x5bb4e9(0x64f)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5bb4e9(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage['removeItem']('activeGameSession'),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x391a34=_0x5bb4e9;deleteDoc(doc(db,_0x391a34(0x878)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4a882c(0x290),'pinnedProjects':[],'projectView':_0x4a882c(0xb57)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0x8b3)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0xa59)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0xd7b)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x3cd)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0x793)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0xc8a)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x7b0)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x3ef)},{'category':_0x4a882c(0xc4b),'name':'จำนวนเต็มบวก'},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0xd29)},{'category':_0x4a882c(0xc4b),'name':'ศูนย์'},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x517)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0xd50)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0x76e)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0xa56)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x2dd)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0xb64)},{'category':_0x4a882c(0xc4b),'name':'อัตราและอัตราหน่วย'},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x99c)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x455)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0xd55)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0x7e0)},{'category':_0x4a882c(0xc4b),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0x89f)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x1ee)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0xe42)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x29f)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0x934)},{'category':_0x4a882c(0xc4b),'name':'การหารทศนิยม'},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x581)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0x550)},{'category':_0x4a882c(0xc4b),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0xd0e)},{'category':'จำนวนและการดำเนินการ','name':_0x4a882c(0x288)},{'category':_0x4a882c(0xc4b),'name':_0x4a882c(0xca4)},{'category':_0x4a882c(0xc4b),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x4a882c(0xc4b),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0xcfa)},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0xe3c)},{'category':'การวัด','name':_0x4a882c(0x9ca)},{'category':_0x4a882c(0x6e4),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0x84b)},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0x640)},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0xbdc)},{'category':'การวัด','name':_0x4a882c(0xcaf)},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0x4ec)},{'category':'การวัด','name':_0x4a882c(0x629)},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0x256)},{'category':_0x4a882c(0x6e4),'name':_0x4a882c(0xd95)},{'category':'การวัด','name':'สเกลและแผนที่'},{'category':'การวัด','name':_0x4a882c(0x272)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x529)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0xd3b)},{'category':'เรขาคณิต','name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x4a882c(0xa12),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0xce6)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x71b)},{'category':'เรขาคณิต','name':_0x4a882c(0x68a)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x428)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x6a4)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0xe55)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x379)},{'category':_0x4a882c(0xa12),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x543)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x213)},{'category':_0x4a882c(0xa12),'name':_0x4a882c(0x385)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x2fd)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x8e4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a882c(0x229)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xcb6)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xd2a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a882c(0xca7)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xe3f)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x89b)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xb33)},{'category':_0x4a882c(0xe6c),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xd80)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x6d2)},{'category':_0x4a882c(0xe6c),'name':'สมการลอการิทึม'},{'category':_0x4a882c(0xe6c),'name':'อสมการเชิงเส้น'},{'category':_0x4a882c(0xe6c),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x4a882c(0xe6c),'name':'ระบบอสมการ'},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x2a5)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x271)},{'category':_0x4a882c(0xe6c),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x4a882c(0xe6c),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a882c(0x794)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xa45)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x461)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x87f)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xe0b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a882c(0x689)},{'category':_0x4a882c(0xe6c),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a882c(0x7e9)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x612)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xa84)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a882c(0x8e9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4a882c(0x44a)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x32f)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0x4e0)},{'category':_0x4a882c(0xe6c),'name':_0x4a882c(0xdf3)},{'category':_0x4a882c(0x180),'name':_0x4a882c(0x264)},{'category':_0x4a882c(0x180),'name':_0x4a882c(0x7cb)},{'category':_0x4a882c(0x180),'name':_0x4a882c(0xa4d)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x4a882c(0x180),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4a882c(0xe3d)},{'category':_0x4a882c(0x180),'name':_0x4a882c(0x762)},{'category':_0x4a882c(0x180),'name':_0x4a882c(0x7c7)},{'category':_0x4a882c(0x180),'name':_0x4a882c(0xd0b)},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0x4bf)},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0x2c0)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0x1e6)},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0x5f0)},{'category':_0x4a882c(0xdc5),'name':'กฎของโคไซน์'},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0xa66)},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0xe8c)},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0xde6)},{'category':_0x4a882c(0xdc5),'name':_0x4a882c(0x248)},{'category':'ตรีโกณมิติ','name':_0x4a882c(0xb9c)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0xa87)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x2f5)},{'category':_0x4a882c(0xdfe),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x4a882c(0x2df)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x973)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0xb7d)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x943)},{'category':'สถิติและความน่าจะเป็น','name':'ฐานนิยม'},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x760)},{'category':_0x4a882c(0xdfe),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x5ca)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x5b1)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x7f1)},{'category':_0x4a882c(0xdfe),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x4a882c(0xdfe),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x805)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x3e3)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':'สถิติและความน่าจะเป็น','name':_0x4a882c(0xb06)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x779)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0x51f)},{'category':_0x4a882c(0xdfe),'name':_0x4a882c(0xab7)},{'category':_0x4a882c(0xdfe),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0x547)},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0x7ad)},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0x167)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4a882c(0x181)},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0xe38)},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0x99f)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4a882c(0x3ce)},{'category':_0x4a882c(0x57a),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0x906)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0xceb)},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0x3e9)},{'category':_0x4a882c(0x57a),'name':_0x4a882c(0x5cf)},{'category':_0x4a882c(0x8fd),'name':_0x4a882c(0x175)},{'category':_0x4a882c(0x8fd),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x4a882c(0x8fd),'name':_0x4a882c(0xc4a)},{'category':_0x4a882c(0x8fd),'name':_0x4a882c(0xa62)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4a882c(0xcaa)},{'category':_0x4a882c(0x8fd),'name':_0x4a882c(0x67e)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x4a882c(0x3dd),'name':_0x4a882c(0xd8f)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4a882c(0xad1)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4a882c(0x15f)},{'category':_0x4a882c(0x3dd),'name':_0x4a882c(0xc87)},{'category':_0x4a882c(0x3dd),'name':_0x4a882c(0x2fb)},{'category':_0x4a882c(0x316),'name':_0x4a882c(0x80a)},{'category':_0x4a882c(0x316),'name':_0x4a882c(0x778)},{'category':_0x4a882c(0x316),'name':_0x4a882c(0xbed)}];function renderTopicCheckboxes(){const _0x163467=_0x4a882c,_0x54069e=document[_0x163467(0x81d)]('math-topics-checkbox-container');if(!_0x54069e)return;const _0x5ee7a2=allMathTopics,_0xb9d838=customMathTopics[_0x163467(0x7d8)](_0x1e3e16=>({'id':_0x1e3e16['id'],'category':_0x163467(0x8c9),'name':_0x1e3e16[_0x163467(0x523)]})),_0x7dc1f8=[..._0x5ee7a2,..._0xb9d838],_0x4bd5ac=_0x7dc1f8[_0x163467(0x68e)]((_0x4d1c8f,_0x3844aa)=>{const _0x868b96=_0x163467;return!_0x4d1c8f[_0x3844aa[_0x868b96(0xac3)]]&&(_0x4d1c8f[_0x3844aa[_0x868b96(0xac3)]]=[]),_0x4d1c8f[_0x3844aa['category']][_0x868b96(0xb97)](_0x3844aa),_0x4d1c8f;},{});let _0x2505f4='';const _0x27d5d3=[_0x163467(0x8c9),...Object[_0x163467(0x2cf)](_0x4bd5ac)['filter'](_0x2e2da7=>_0x2e2da7!=='หัวข้อที่สร้างเอง')];for(const _0x5352f2 of _0x27d5d3){if(_0x4bd5ac[_0x5352f2]){const _0x21614d=_0x5352f2===_0x163467(0x8c9),_0x1023f7=_0x21614d?'fas\x20fa-user-edit':_0x163467(0xe0d),_0x246dd0=_0x21614d?'text-blue-700':_0x163467(0xe34);_0x2505f4+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x2505f4+=_0x163467(0x567)+_0x246dd0+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x1023f7+_0x163467(0x1ef)+_0x5352f2+_0x163467(0x9e5),_0x4bd5ac[_0x5352f2][_0x163467(0xdc3)](_0x23c805=>{const _0x19d036=_0x163467,_0xb63881=!!_0x23c805['id'],_0x4a0bb0=_0xb63881?_0x19d036(0x851)+_0x23c805['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x23c805['id']+_0x19d036(0x6a0)+_0x23c805['id']+_0x19d036(0x7f3)+_0x23c805['id']+_0x19d036(0x481):'';_0x2505f4+=_0x19d036(0x404)+(_0x23c805['id']||'')+_0x19d036(0x3df)+_0x23c805[_0x19d036(0x523)]+_0x19d036(0x3ea)+_0x23c805[_0x19d036(0x523)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb63881?_0x19d036(0xd5c)+_0x23c805[_0x19d036(0x523)]+'\x22>':'')+_0x19d036(0xbac)+_0x4a0bb0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2505f4+='</div>';}}_0x54069e['innerHTML']=_0x2505f4||_0x163467(0xe46),_0x54069e['removeEventListener'](_0x163467(0x318),updateSelectedTopicsCount),_0x54069e[_0x163467(0x843)](_0x163467(0x318),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x37fef5,_0xea7930){const _0x205db7=_0x4a882c;if(!_0x37fef5||!_0xea7930['trim']()){showMessage(_0x205db7(0xa79));return;}try{const _0x1294f4=doc(db,_0x205db7(0x878)+appId+_0x205db7(0x87c),_0x37fef5);await updateDoc(_0x1294f4,{'name':_0xea7930[_0x205db7(0x5f6)]()}),showMessage(_0x205db7(0x88c));}catch(_0x38a363){console[_0x205db7(0x76b)]('Error\x20updating\x20custom\x20topic:',_0x38a363),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x1ebe4e,_0x4f4ddf){const _0x291335=_0x4a882c;if(!_0x1ebe4e)return;const _0x5dc4fc=_0x1ebe4e[_0x291335(0x869)](_0x291335(0x6a1)),_0x356ede=_0x1ebe4e[_0x291335(0x869)](_0x291335(0x898)),_0x242519=_0x1ebe4e['querySelector']('.topic-actions-view'),_0x27065b=_0x1ebe4e[_0x291335(0x869)](_0x291335(0x477));_0x5dc4fc['classList'][_0x291335(0x4b1)](_0x291335(0x35b),_0x4f4ddf),_0x356ede['classList'][_0x291335(0x4b1)](_0x291335(0x35b),!_0x4f4ddf),_0x242519[_0x291335(0xdd2)][_0x291335(0x4b1)](_0x291335(0x35b),_0x4f4ddf),_0x27065b[_0x291335(0xdd2)][_0x291335(0x4b1)](_0x291335(0x35b),!_0x4f4ddf),_0x4f4ddf&&(_0x356ede[_0x291335(0xb81)](),_0x356ede[_0x291335(0xdaa)]());}async function handleStartLiveRace(_0x1d0c72){const _0x51c33b=_0x4a882c;let _0x195368=allQuizzes[_0x51c33b(0xa74)](_0x2c3ae3=>_0x2c3ae3['id']===_0x1d0c72);if(!_0x195368){const _0x23cf98=doc(db,_0x51c33b(0x878)+appId+_0x51c33b(0x527),_0x1d0c72),_0x16307f=await getDoc(_0x23cf98);if(!_0x16307f[_0x51c33b(0xb52)]()){showMessage(_0x51c33b(0x82e));return;}_0x195368={'id':_0x16307f['id'],..._0x16307f[_0x51c33b(0xc66)]()};}const _0x20762b=getShuffledQuiz(_0x195368);currentQuizData=_0x20762b;const _0x3142d5=_0x195368[_0x51c33b(0xc9b)]||currentProjectId||null,_0x33f8c3=Math[_0x51c33b(0x22a)](0x3e8+Math['random']()*0x2328)[_0x51c33b(0x188)]();currentLiveGamePin=_0x33f8c3;try{const _0x200b39=await addDoc(collection(db,_0x51c33b(0x878)+appId+_0x51c33b(0x66b)),{'quizId':_0x1d0c72,'projectId':_0x3142d5,'status':_0x51c33b(0xa08),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x33f8c3,'createdAt':serverTimestamp(),'shuffledQuiz':_0x20762b});currentLiveGameId=_0x200b39['id'],showAdminLobbyView(_0x33f8c3,_0x195368[_0x51c33b(0x755)]),listenForLiveGameUpdates();}catch(_0xe6955c){console['error'](_0x51c33b(0x569),_0xe6955c),showMessage(_0x51c33b(0xa86));}}function updateSelectedTopicsCount(){const _0x5cd52d=_0x4a882c,_0x8d45aa=document[_0x5cd52d(0x81d)](_0x5cd52d(0x3c1)),_0x1dec30=_0x8d45aa[_0x5cd52d(0xbec)](_0x5cd52d(0x9b5))[_0x5cd52d(0xa96)],_0x42412c=document['getElementById']('selected-topics-count');_0x1dec30>0x0?_0x42412c[_0x5cd52d(0xca8)]=_0x5cd52d(0xe92)+_0x1dec30+_0x5cd52d(0x423):_0x42412c[_0x5cd52d(0xca8)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x4a882c(0x711),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4a882c(0x636),quizLeaderboardSortOrder=_0x4a882c(0x445),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x4a882c(0x7d9),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4a882c(0x534),scratchpadPenColor=_0x4a882c(0x284),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x1c9bbd,_0x2c2034){const _0x57fdfb=_0x4a882c;return Math['sqrt'](Math['pow'](_0x1c9bbd['x']-_0x2c2034['x'],0x2)+Math[_0x57fdfb(0x18f)](_0x1c9bbd['y']-_0x2c2034['y'],0x2));}function getMidpoint(_0x1acac0,_0x3ffc31){return{'x':(_0x1acac0['x']+_0x3ffc31['x'])/0x2,'y':(_0x1acac0['y']+_0x3ffc31['y'])/0x2};}function getTransformedPoint(_0x5ab5b9,_0x27c5b7){return{'x':(_0x5ab5b9-scratchpadOffset['x'])/scratchpadScale,'y':(_0x27c5b7-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x4ddbd5=_0x4a882c;if(!scratchpadCtx)return;const _0x55c87e=scratchpadCtx[_0x4ddbd5(0x5b8)],_0x3e1f52=window['devicePixelRatio']||0x1,_0x1f775a=document['getElementById'](_0x4ddbd5(0xbc6));_0x1f775a&&(_0x1f775a['style'][_0x4ddbd5(0x972)]='0\x200',_0x1f775a['style']['transform']=_0x4ddbd5(0xd98)+scratchpadOffset['x']+_0x4ddbd5(0x5f9)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x4ddbd5(0xe66)](),scratchpadCtx[_0x4ddbd5(0x763)](_0x3e1f52,0x0,0x0,_0x3e1f52,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x55c87e[_0x4ddbd5(0xb99)],_0x55c87e[_0x4ddbd5(0x6f9)]),scratchpadCtx['restore'](),scratchpadCtx[_0x4ddbd5(0xe66)](),scratchpadCtx[_0x4ddbd5(0xe53)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x4ddbd5(0x7d4)](scratchpadScale,scratchpadScale),strokes[_0x4ddbd5(0xdc3)](_0x803c53=>{drawStroke(_0x803c53);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x4ddbd5(0xa93)]();}function renderGroupModeQuestion(){const _0x1d6535=_0x4a882c;if(localQuestionIndex>=currentQuizData[_0x1d6535(0x277)][_0x1d6535(0xa96)]){displayTeamQuizFinalResults();return;}const _0x487274=currentQuizData[_0x1d6535(0x277)][localQuestionIndex],_0x166579=_0x487274[_0x1d6535(0x211)]||currentQuizData[_0x1d6535(0xa6b)];let _0x44b0f3=_0x487274[_0x1d6535(0x592)]||_0x487274[_0x1d6535(0x2c5)],_0x2e43b9='';switch(_0x166579){case _0x1d6535(0xca9):case _0x1d6535(0xcbd):_0x2e43b9=_0x487274[_0x1d6535(0x1b5)]['map']((_0x1ed355,_0x4c968a)=>_0x1d6535(0x89a)+_0x4c968a+_0x1d6535(0xbcf)+_0x4c968a+_0x1d6535(0x575)+_0x4c968a+'\x22>'+_0x1ed355+_0x1d6535(0x996))[_0x1d6535(0x343)]('');break;case _0x1d6535(0x559):_0x2e43b9=_0x1d6535(0xa0e);break;case _0x1d6535(0x2bb):case'fill_in_no_choices':_0x2e43b9=_0x1d6535(0x9b8);break;case _0x1d6535(0x7d3):_0x2e43b9='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x487274[_0x1d6535(0x27e)][_0x1d6535(0x7d8)](_0x32f6a8=>_0x1d6535(0x3f7)+_0x32f6a8+'\x22>'+_0x32f6a8+_0x1d6535(0xb03))[_0x1d6535(0x343)]('')+_0x1d6535(0x651);break;default:_0x2e43b9='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x1d6535(0x8ea)]=_0x1d6535(0x3d5)+(localQuestionIndex+0x1)+_0x1d6535(0x446)+currentQuizData[_0x1d6535(0x277)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x1d6535(0x343)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x44b0f3+_0x1d6535(0x387)+(_0x487274['imageCode']?_0x1d6535(0x6f6)+_0x487274[_0x1d6535(0x9b0)]+_0x1d6535(0xbbf):'')+_0x1d6535(0x67a)+_0x2e43b9+_0x1d6535(0xb19),studentQuizArea[_0x1d6535(0xdd2)][_0x1d6535(0x469)](_0x1d6535(0x35b));if(window[_0x1d6535(0x389)])MathJax[_0x1d6535(0x434)]([studentQuizArea]);document[_0x1d6535(0x81d)](_0x1d6535(0x590))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x199428,_0x7eb2b9=null,_0x23a056,_0x3f0057=null,_0x2d77b2=![],_0x3d609f=null){const _0x59c8c0=_0x4a882c,_0x1ddeab=document[_0x59c8c0(0x81d)]('quiz-generation-area');_0x1ddeab&&_0x1ddeab['scrollIntoView']({'behavior':_0x59c8c0(0x3fb),'block':'center'}),generateQuiz(_0x199428,_0x7eb2b9,null,_0x3d609f,!![],_0x23a056,_0x3f0057,_0x2d77b2);}function handleGenerateAndShowLesson(_0x5dd7e8,_0x296d3a){const _0x5ddf4f=_0x4a882c,_0x44fed6=document[_0x5ddf4f(0x81d)](_0x5ddf4f(0x857)),_0x3190c4=document['getElementById']('lesson-view-title'),_0x560197=document[_0x5ddf4f(0x81d)](_0x5ddf4f(0xa98)),_0x417593=document[_0x5ddf4f(0x81d)]('lesson-sections-container');[_0x5ddf4f(0x925),'memoryContent',_0x5ddf4f(0xb92),_0x5ddf4f(0x5ac)]['forEach'](_0x15e5b5=>{const _0x5db295=_0x5ddf4f,_0x1c5b18=document[_0x5db295(0x81d)](_0x15e5b5)[_0x5db295(0x196)];_0x1c5b18&&(_0x1c5b18[_0x5db295(0xe1e)][_0x5db295(0x1ba)]=_0x5db295(0xb67));}),_0x3190c4[_0x5ddf4f(0xca8)]=_0x5ddf4f(0x462)+_0x5dd7e8,_0x417593[_0x5ddf4f(0xdd2)][_0x5ddf4f(0x87d)](_0x5ddf4f(0x35b)),_0x560197[_0x5ddf4f(0xdd2)][_0x5ddf4f(0x469)]('hidden'),_0x44fed6[_0x5ddf4f(0xdd2)][_0x5ddf4f(0x469)](_0x5ddf4f(0x35b)),generateLesson(_0x5dd7e8,_0x296d3a)[_0x5ddf4f(0x218)](_0x4b8836=>{const _0x46b2b9=_0x5ddf4f;console[_0x46b2b9(0x76b)](_0x46b2b9(0xbab),_0x4b8836),showMessage(_0x46b2b9(0x173)),_0x44fed6[_0x46b2b9(0xdd2)]['add']('hidden');});}function handlePointerDown(_0x5f3856){const _0x50fc41=_0x4a882c;_0x5f3856[_0x50fc41(0x713)]();const _0x37d7d4=scratchpadCtx['canvas'],_0x4d7dcc=_0x37d7d4[_0x50fc41(0x605)](),_0x29ea09=_0x5f3856[_0x50fc41(0x935)]||(_0x5f3856['touches']?'touch':_0x50fc41(0x5b2));if(_0x29ea09==='pen'||_0x29ea09==='mouse'){if(_0x5f3856[_0x50fc41(0x935)]===_0x50fc41(0x5b2)&&_0x5f3856[_0x50fc41(0xcc8)]!==0x0){_0x5f3856[_0x50fc41(0xcc8)]===0x1&&(isMousePanning=!![],panStart={'x':_0x5f3856[_0x50fc41(0xdf1)],'y':_0x5f3856[_0x50fc41(0x165)]},_0x37d7d4[_0x50fc41(0xe1e)][_0x50fc41(0x341)]=_0x50fc41(0x51b));return;}activeTool===_0x50fc41(0xb3a)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x51abf2=getTransformedPoint(_0x5f3856['clientX']-_0x4d7dcc['left'],_0x5f3856[_0x50fc41(0x165)]-_0x4d7dcc['top']);let _0x4e0403={'tool':activeTool,'points':[_0x51abf2]};if(activeTool===_0x50fc41(0x534))_0x4e0403[_0x50fc41(0x6d1)]=scratchpadPenColor,_0x4e0403['size']=scratchpadPenSize;else{if(activeTool===_0x50fc41(0x2e9))_0x4e0403[_0x50fc41(0x6d1)]=scratchpadPenColor,_0x4e0403[_0x50fc41(0x7fe)]=scratchpadEraserSize;else{if(activeTool===_0x50fc41(0xccb))_0x4e0403[_0x50fc41(0x6d1)]=scratchpadHighlighterColor,_0x4e0403[_0x50fc41(0x7fe)]=scratchpadHighlighterSize;else activeTool===_0x50fc41(0xb3a)&&(_0x4e0403[_0x50fc41(0x6d1)]=scratchpadPenColor,_0x4e0403[_0x50fc41(0x7fe)]=scratchpadPenSize);}}currentStroke=_0x4e0403;}else _0x5f3856[_0x50fc41(0xab1)]&&(_0x5f3856['touches'][_0x50fc41(0xa96)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x5f3856[_0x50fc41(0xab1)][0x0][_0x50fc41(0xdf1)],'y':_0x5f3856[_0x50fc41(0xab1)][0x0][_0x50fc41(0x165)]},{'x':_0x5f3856[_0x50fc41(0xab1)][0x1][_0x50fc41(0xdf1)],'y':_0x5f3856[_0x50fc41(0xab1)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x5f3856[_0x50fc41(0xab1)][0x0][_0x50fc41(0xdf1)],'y':_0x5f3856[_0x50fc41(0xab1)][0x0]['clientY']},{'x':_0x5f3856[_0x50fc41(0xab1)][0x1][_0x50fc41(0xdf1)],'y':_0x5f3856[_0x50fc41(0xab1)][0x1][_0x50fc41(0x165)]})));}function animateTrail(){const _0x24168d=_0x4a882c,_0x3fc1ba=Date[_0x24168d(0x7c1)]();let _0x4a1e95=![];for(let _0x16ee99=strokes[_0x24168d(0xa96)]-0x1;_0x16ee99>=0x0;_0x16ee99--){const _0xae2fc7=strokes[_0x16ee99];if(_0xae2fc7[_0x24168d(0x2ec)]===_0x24168d(0xb3a)&&_0xae2fc7[_0x24168d(0x85d)]){const _0x555e6e=_0x3fc1ba-_0xae2fc7[_0x24168d(0x85d)];_0x555e6e>=TRAIL_DURATION?strokes[_0x24168d(0xb7a)](_0x16ee99,0x1):(_0xae2fc7['opacity']=0x1-_0x555e6e/TRAIL_DURATION,_0x4a1e95=!![]);}}redrawScratchpad(),_0x4a1e95?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2be490){const _0x307987=_0x4a882c;if(!_0x2be490||_0x2be490[_0x307987(0xb9d)]['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x307987(0xca6)]=_0x307987(0x1c0),scratchpadCtx[_0x307987(0x533)]=_0x307987(0x1c0);if(_0x2be490[_0x307987(0x2ec)]==='trail'){const _0x418561=_0x2be490['size']/scratchpadScale;scratchpadCtx[_0x307987(0xba0)]=_0x2be490['opacity']??0x1,scratchpadCtx[_0x307987(0x5e8)]=_0x307987(0xb16),scratchpadCtx[_0x307987(0x875)]=_0x418561*0x3,scratchpadCtx[_0x307987(0xb20)]=_0x307987(0x1e4),scratchpadCtx[_0x307987(0xdfc)]=_0x418561*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x307987(0x5ff)](_0x2be490[_0x307987(0xb9d)][0x0]['x'],_0x2be490[_0x307987(0xb9d)][0x0]['y']);for(let _0x525f63=0x1;_0x525f63<_0x2be490['points'][_0x307987(0xa96)]-0x1;_0x525f63++){const _0x35285a=getMidpoint(_0x2be490['points'][_0x525f63],_0x2be490['points'][_0x525f63+0x1]);scratchpadCtx['quadraticCurveTo'](_0x2be490[_0x307987(0xb9d)][_0x525f63]['x'],_0x2be490[_0x307987(0xb9d)][_0x525f63]['y'],_0x35285a['x'],_0x35285a['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x307987(0x5e8)]=_0x307987(0x1e0),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x307987(0xb20)]='#FFFFFF',scratchpadCtx[_0x307987(0xdfc)]=_0x418561,scratchpadCtx[_0x307987(0x3ba)](),scratchpadCtx[_0x307987(0xaba)]();}else{if(_0x2be490[_0x307987(0x2ec)]===_0x307987(0xccb)){scratchpadCtx[_0x307987(0xa03)]=_0x307987(0xa37),scratchpadCtx[_0x307987(0xb20)]=_0x2be490[_0x307987(0x6d1)],scratchpadCtx['lineWidth']=_0x2be490[_0x307987(0x7fe)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x307987(0x5ff)](_0x2be490[_0x307987(0xb9d)][0x0]['x'],_0x2be490[_0x307987(0xb9d)][0x0]['y']);for(let _0x5bff9d=0x1;_0x5bff9d<_0x2be490[_0x307987(0xb9d)][_0x307987(0xa96)]-0x1;_0x5bff9d++){const _0x207f65=getMidpoint(_0x2be490[_0x307987(0xb9d)][_0x5bff9d],_0x2be490['points'][_0x5bff9d+0x1]);scratchpadCtx[_0x307987(0x55c)](_0x2be490[_0x307987(0xb9d)][_0x5bff9d]['x'],_0x2be490['points'][_0x5bff9d]['y'],_0x207f65['x'],_0x207f65['y']);}scratchpadCtx[_0x307987(0x3ba)](),scratchpadCtx[_0x307987(0xaba)]();}else{scratchpadCtx[_0x307987(0xa03)]=_0x2be490[_0x307987(0x2ec)]===_0x307987(0x2e9)?_0x307987(0xb13):_0x307987(0x978),scratchpadCtx[_0x307987(0xb20)]=_0x2be490[_0x307987(0x6d1)],scratchpadCtx[_0x307987(0xdfc)]=_0x2be490[_0x307987(0x7fe)],scratchpadCtx[_0x307987(0x1c8)](),scratchpadCtx[_0x307987(0x5ff)](_0x2be490[_0x307987(0xb9d)][0x0]['x'],_0x2be490['points'][0x0]['y']);for(let _0x295dd7=0x1;_0x295dd7<_0x2be490[_0x307987(0xb9d)][_0x307987(0xa96)]-0x1;_0x295dd7++){const _0xac138=getMidpoint(_0x2be490['points'][_0x295dd7],_0x2be490[_0x307987(0xb9d)][_0x295dd7+0x1]);scratchpadCtx[_0x307987(0x55c)](_0x2be490[_0x307987(0xb9d)][_0x295dd7]['x'],_0x2be490[_0x307987(0xb9d)][_0x295dd7]['y'],_0xac138['x'],_0xac138['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x307987(0xaba)]();}}scratchpadCtx[_0x307987(0xa93)]();}function handlePointerMove(_0x4d5d28){const _0x24f3b4=_0x4a882c;_0x4d5d28[_0x24f3b4(0x713)]();const _0x52232f=scratchpadCtx[_0x24f3b4(0x5b8)],_0x3d0bf8=_0x52232f[_0x24f3b4(0x605)]();if(_0x4d5d28[_0x24f3b4(0xab1)]){if(_0x4d5d28[_0x24f3b4(0xab1)]['length']===0x1&&isDrawingOnScratchpad){const _0x3d6125=getTransformedPoint(_0x4d5d28[_0x24f3b4(0xab1)][0x0][_0x24f3b4(0xdf1)]-_0x3d0bf8[_0x24f3b4(0x30e)],_0x4d5d28[_0x24f3b4(0xab1)][0x0][_0x24f3b4(0x165)]-_0x3d0bf8['top']);currentStroke['points'][_0x24f3b4(0xb97)](_0x3d6125),redrawScratchpad();}else{if(_0x4d5d28[_0x24f3b4(0xab1)][_0x24f3b4(0xa96)]===0x2&&isPanning){const _0x2beb03=getDistance({'x':_0x4d5d28['touches'][0x0][_0x24f3b4(0xdf1)],'y':_0x4d5d28['touches'][0x0][_0x24f3b4(0x165)]},{'x':_0x4d5d28[_0x24f3b4(0xab1)][0x1][_0x24f3b4(0xdf1)],'y':_0x4d5d28['touches'][0x1][_0x24f3b4(0x165)]}),_0x2b85ca=getMidpoint({'x':_0x4d5d28[_0x24f3b4(0xab1)][0x0][_0x24f3b4(0xdf1)],'y':_0x4d5d28[_0x24f3b4(0xab1)][0x0]['clientY']},{'x':_0x4d5d28[_0x24f3b4(0xab1)][0x1][_0x24f3b4(0xdf1)],'y':_0x4d5d28[_0x24f3b4(0xab1)][0x1][_0x24f3b4(0x165)]}),_0x5d91de=_0x2beb03/ initialPinchDistance,_0x325c53=Math[_0x24f3b4(0x73a)](Math[_0x24f3b4(0x1f1)](scratchpadScale*_0x5d91de,MIN_SCALE),MAX_SCALE),_0x1064a8=_0x2b85ca['x']-panStart['x'],_0x38eabf=_0x2b85ca['y']-panStart['y'];scratchpadOffset['x']=_0x2b85ca['x']-(_0x2b85ca['x']-scratchpadOffset['x'])*(_0x325c53/scratchpadScale),scratchpadOffset['y']=_0x2b85ca['y']-(_0x2b85ca['y']-scratchpadOffset['y'])*(_0x325c53/scratchpadScale),scratchpadOffset['x']+=_0x1064a8,scratchpadOffset['y']+=_0x38eabf,scratchpadScale=_0x325c53,initialPinchDistance=_0x2beb03,panStart=_0x2b85ca,redrawScratchpad();}}}else{if(isMousePanning){const _0x30e79e=_0x4d5d28[_0x24f3b4(0xdf1)]-panStart['x'],_0xb7212c=_0x4d5d28[_0x24f3b4(0x165)]-panStart['y'];scratchpadOffset['x']+=_0x30e79e,scratchpadOffset['y']+=_0xb7212c,panStart={'x':_0x4d5d28[_0x24f3b4(0xdf1)],'y':_0x4d5d28[_0x24f3b4(0x165)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1c8daa=getTransformedPoint(_0x4d5d28[_0x24f3b4(0xdf1)]-_0x3d0bf8['left'],_0x4d5d28[_0x24f3b4(0x165)]-_0x3d0bf8[_0x24f3b4(0x490)]);currentStroke[_0x24f3b4(0xb9d)][_0x24f3b4(0xb97)](_0x1c8daa),redrawScratchpad();}}}}function handlePointerUp(_0x12ce59){const _0x3731f4=_0x4a882c;_0x12ce59['preventDefault']();const _0x204d93=scratchpadCtx[_0x3731f4(0x5b8)];isMousePanning&&(isMousePanning=![],_0x204d93[_0x3731f4(0xe1e)][_0x3731f4(0x341)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x3731f4(0xb9d)][_0x3731f4(0xa96)]>0x1&&(strokes[_0x3731f4(0xb97)](currentStroke),currentStroke['tool']===_0x3731f4(0xb3a)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x2f52ac=_0x3731f4,_0x2f258f=strokes[_0x2f52ac(0x3d8)](_0x13eb3d=>_0x13eb3d['tool']==='trail'&&!_0x13eb3d['fadeStartTime']);if(_0x2f258f['length']>0x0){const _0x371677=Date[_0x2f52ac(0x7c1)]();_0x2f258f[_0x2f52ac(0xdc3)](_0x1ace72=>_0x1ace72[_0x2f52ac(0x85d)]=_0x371677),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0xf45a52){const _0x35ae36=_0x4a882c;_0xf45a52[_0x35ae36(0x713)]();const _0x3d521e=_0xf45a52[_0x35ae36(0x176)]*-0.005,_0x40ded5=Math[_0x35ae36(0x73a)](Math[_0x35ae36(0x1f1)](scratchpadScale+_0x3d521e,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0xf45a52[_0x35ae36(0xdf1)]-(_0xf45a52[_0x35ae36(0xdf1)]-scratchpadOffset['x'])*(_0x40ded5/scratchpadScale),scratchpadOffset['y']=_0xf45a52[_0x35ae36(0x165)]-(_0xf45a52[_0x35ae36(0x165)]-scratchpadOffset['y'])*(_0x40ded5/scratchpadScale),scratchpadScale=_0x40ded5,redrawScratchpad();}function undo(){const _0x2716a6=_0x4a882c;strokes[_0x2716a6(0xa96)]>0x0&&(redoStrokes['push'](strokes[_0x2716a6(0xcb8)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x41c207=_0x4a882c;redoStrokes[_0x41c207(0xa96)]>0x0&&(strokes[_0x41c207(0xb97)](redoStrokes[_0x41c207(0xcb8)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2d5d69=_0x4a882c;document[_0x2d5d69(0x81d)]('undo-btn')[_0x2d5d69(0x396)]=strokes['length']===0x0,document[_0x2d5d69(0x81d)](_0x2d5d69(0x2fe))[_0x2d5d69(0x396)]=redoStrokes[_0x2d5d69(0xa96)]===0x0;}function openScratchpad(_0x52fb0a,_0x71fb81){const _0x1fe7b2=_0x4a882c,_0x43f74b=document[_0x1fe7b2(0x81d)](_0x1fe7b2(0x9cf)),_0x40244d=document[_0x1fe7b2(0x81d)](_0x1fe7b2(0xb5d)),_0x6bae16=document[_0x1fe7b2(0x81d)](_0x1fe7b2(0xb1d)),_0x303304=document[_0x1fe7b2(0x81d)](_0x1fe7b2(0x402));_0x40244d['innerHTML']=_0x52fb0a['stem']||_0x52fb0a[_0x1fe7b2(0x2c5)],_0x6bae16[_0x1fe7b2(0x8ea)]=_0x71fb81[_0x1fe7b2(0x7d8)]((_0x58cb4a,_0x29e7d9)=>_0x1fe7b2(0x560)+String[_0x1fe7b2(0x221)](0x41+_0x29e7d9)+'.\x20'+_0x58cb4a+'</div>')['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x43f74b['classList'][_0x1fe7b2(0x469)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1fe7b2(0x389)])MathJax[_0x1fe7b2(0x434)]([_0x40244d,_0x6bae16]);}function openBlueprintQuizSettings(){const _0x7f7482=_0x4a882c,_0x24ab16=document[_0x7f7482(0x81d)](_0x7f7482(0xdd1)),_0x28c4a0=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x7f7482(0x81d)](_0x7f7482(0xaef))[_0x7f7482(0x710)]=_0x28c4a0[_0x7f7482(0xa6b)]||document['getElementById'](_0x7f7482(0x510))[_0x7f7482(0x710)],document['getElementById']('bp-modal-difficulty-level-select')[_0x7f7482(0x8ea)]=document[_0x7f7482(0x81d)](_0x7f7482(0xc68))[_0x7f7482(0x8ea)],document['getElementById']('bp-modal-difficulty-level-select')[_0x7f7482(0x710)]=_0x28c4a0['difficultyValue']||document[_0x7f7482(0x81d)](_0x7f7482(0xc68))[_0x7f7482(0x710)],document[_0x7f7482(0x81d)]('bp-modal-question-complexity-select')[_0x7f7482(0x8ea)]=document[_0x7f7482(0x81d)]('question-complexity-select')[_0x7f7482(0x8ea)],document[_0x7f7482(0x81d)](_0x7f7482(0x576))['value']=_0x28c4a0[_0x7f7482(0x18d)]||document[_0x7f7482(0x81d)](_0x7f7482(0xc5a))[_0x7f7482(0x710)],document[_0x7f7482(0x81d)](_0x7f7482(0x420))[_0x7f7482(0x710)]=_0x28c4a0['numQuestions']||document[_0x7f7482(0x81d)]('num-questions')[_0x7f7482(0x710)],document['getElementById'](_0x7f7482(0x730))[_0x7f7482(0x710)]=_0x28c4a0[_0x7f7482(0x282)]||document[_0x7f7482(0x81d)](_0x7f7482(0x8a9))[_0x7f7482(0x710)],document[_0x7f7482(0x81d)](_0x7f7482(0xcf3))['value']=_0x28c4a0[_0x7f7482(0xdf6)]||document[_0x7f7482(0x81d)](_0x7f7482(0x96d))['value'],document['getElementById'](_0x7f7482(0xab8))[_0x7f7482(0x710)]=_0x28c4a0['shuffle']||document[_0x7f7482(0x81d)]('shuffle-setting-select')[_0x7f7482(0x710)],document[_0x7f7482(0x81d)](_0x7f7482(0xdd8))[_0x7f7482(0x600)]=_0x28c4a0[_0x7f7482(0x448)]||document[_0x7f7482(0x81d)]('include-images-checkbox')['checked'],_0x24ab16[_0x7f7482(0xdd2)][_0x7f7482(0x469)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x4deba0=_0x4a882c;blueprintPageSettings={'quizType':document[_0x4deba0(0x81d)](_0x4deba0(0xaef))[_0x4deba0(0x710)],'difficultyValue':document[_0x4deba0(0x81d)](_0x4deba0(0x23a))[_0x4deba0(0x710)],'complexityValue':document['getElementById']('bp-modal-question-complexity-select')[_0x4deba0(0x710)],'numQuestions':document[_0x4deba0(0x81d)](_0x4deba0(0x420))[_0x4deba0(0x710)],'passingScore':document[_0x4deba0(0x81d)](_0x4deba0(0x730))[_0x4deba0(0x710)],'numChoices':document[_0x4deba0(0x81d)](_0x4deba0(0xcf3))['value'],'shuffle':document['getElementById'](_0x4deba0(0xab8))[_0x4deba0(0x710)],'includeImages':document['getElementById']('bp-modal-include-images-checkbox')[_0x4deba0(0x600)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document['getElementById'](_0x4deba0(0xdd1))['classList'][_0x4deba0(0x87d)](_0x4deba0(0x35b));}function listenForParallelTestShortcuts(){const _0x5dbd1c=_0x4a882c,_0x3b8978=doc(db,_0x5dbd1c(0xafb),_0x5dbd1c(0x93d));onSnapshot(_0x3b8978,_0x463518=>{const _0x2623cd=_0x5dbd1c;let _0x3ca0e2=[],_0x55fedd=[],_0x170e56={};if(_0x463518[_0x2623cd(0xb52)]()){const _0x2aa11d=_0x463518[_0x2623cd(0xc66)]();_0x3ca0e2=_0x2aa11d[_0x2623cd(0x54a)]||[],_0x55fedd=_0x2aa11d[_0x2623cd(0x9bf)]||[],_0x170e56=_0x2aa11d[_0x2623cd(0x20d)]||{};}!_0x55fedd[_0x2623cd(0xa74)](_0x592e13=>_0x592e13['id']===_0x2623cd(0xde1))&&_0x55fedd[_0x2623cd(0x197)]({'id':'all','name':_0x2623cd(0x65b),'isDefault':!![]}),!_0x3ca0e2[_0x2623cd(0xa74)](_0x3c877c=>_0x3c877c['id']===_0x2623cd(0x79a))&&_0x3ca0e2['unshift']({'id':_0x2623cd(0x79a),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x3ca0e2[_0x2623cd(0xa74)](_0x442bae=>_0x442bae['id']===_0x2623cd(0x3ee))&&_0x3ca0e2[_0x2623cd(0x197)]({'id':_0x2623cd(0x3ee),'name':_0x2623cd(0xa89),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x3ca0e2,parallelShortcutTabs=_0x55fedd,parallelShortcutOrder=_0x170e56,renderParallelTestShortcuts(),!document[_0x2623cd(0x81d)](_0x2623cd(0x1b7))[_0x2623cd(0xdd2)][_0x2623cd(0x6a8)](_0x2623cd(0x35b))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0xde983c=_0x4a882c,_0x4dbf26=doc(db,_0xde983c(0xafb),_0xde983c(0x93d));try{await setDoc(_0x4dbf26,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1ff619){console['error']('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x1ff619);}}function renderAdditionalParallelShortcutsModal(){const _0x5c8f87=_0x4a882c,_0x52b7a2=document[_0x5c8f87(0x81d)]('parallel-shortcut-tabs-nav'),_0x2e0d0a=document['getElementById'](_0x5c8f87(0xe6e));if(!_0x52b7a2||!_0x2e0d0a)return;_0x52b7a2[_0x5c8f87(0x8ea)]=parallelShortcutTabs['map'](_0x2193b1=>{const _0x22897e=_0x5c8f87,_0x33a990=_0x2193b1['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x2193b1['id']+_0x22897e(0x4cd)+(_0x33a990?_0x22897e(0xa44):_0x22897e(0x3cc))+_0x22897e(0xa5c)+_0x2193b1[_0x22897e(0x523)]+_0x22897e(0xdb8)+_0x2193b1['name']+_0x22897e(0x421)+(!_0x2193b1['isDefault']?'<button\x20data-tab-id=\x22'+_0x2193b1['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5c8f87(0x343)]('');const _0x794cf=parallelShortcutTabs['find'](_0x2d8070=>_0x2d8070['id']===activeParallelShortcutTabId);let _0x3ce772=_0x794cf?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts[_0x5c8f87(0x3d8)](_0xb2243d=>(_0x794cf?.['shortcutIds']||[])[_0x5c8f87(0x90f)](_0xb2243d['id']));const _0x1f1067=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x3ce772[_0x5c8f87(0x6c8)]((_0x451c20,_0x5a160b)=>{const _0x56334d=_0x5c8f87,_0x27ad91=_0x1f1067[_0x56334d(0x894)](_0x451c20['id']),_0x39c9cb=_0x1f1067[_0x56334d(0x894)](_0x5a160b['id']);return(_0x27ad91===-0x1?Infinity:_0x27ad91)-(_0x39c9cb===-0x1?Infinity:_0x39c9cb);}),_0x2e0d0a[_0x5c8f87(0x8ea)]=_0x3ce772['map'](_0x3151a0=>{const _0xbff799=_0x5c8f87,_0x11d5cb=_0x3151a0[_0xbff799(0xa70)]?'🔁':'🔗',_0x24866a=parallelShortcutTabs['filter'](_0x15fd19=>!_0x15fd19['isDefault']),_0x51ffef=_0x794cf[_0xbff799(0xaf8)]&&_0x24866a[_0xbff799(0xa96)]>0x0?_0xbff799(0xcc4)+_0x24866a[_0xbff799(0x7d8)](_0x5dfe37=>_0xbff799(0x29b)+_0x3151a0['id']+_0xbff799(0x6b8)+_0x5dfe37['id']+'\x22>'+_0x5dfe37[_0xbff799(0x523)]+_0xbff799(0x37f))['join']('')+_0xbff799(0xc56):'';return _0xbff799(0x3c6)+_0x3151a0['id']+_0xbff799(0x2ff)+_0x11d5cb+'\x20'+_0x3151a0['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3151a0['id']+_0xbff799(0x90c)+_0x3151a0['id']+_0xbff799(0xa85)+(!_0x3151a0[_0xbff799(0xaf8)]?_0xbff799(0xd4f)+_0x3151a0['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0xbff799(0x8d3)+(!_0x794cf[_0xbff799(0xaf8)]?_0xbff799(0x582)+_0x3151a0['id']+_0xbff799(0x5c6):'')+_0xbff799(0x8d3)+_0x51ffef+_0xbff799(0xd68);})['join']('')||_0x5c8f87(0xa61),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x3ac210=_0x4a882c;document['querySelectorAll'](_0x3ac210(0x3a0))['forEach'](_0x3a74f9=>{const _0x399987=_0x3ac210;_0x3a74f9[_0x399987(0x845)]=_0x532155=>{const _0x26adc2=_0x399987;activeParallelShortcutTabId=_0x532155[_0x26adc2(0x2d2)][_0x26adc2(0x33e)][_0x26adc2(0x65c)],renderAdditionalParallelShortcutsModal();},_0x3a74f9['ondblclick']=_0x46fd9b=>{const _0x242f2f=_0x399987,_0x7added=_0x46fd9b[_0x242f2f(0x2d2)]['querySelector'](_0x242f2f(0x433));_0x46fd9b[_0x242f2f(0x2d2)]['querySelector'](_0x242f2f(0x92f))[_0x242f2f(0xdd2)]['add'](_0x242f2f(0x35b)),_0x7added['classList'][_0x242f2f(0x469)](_0x242f2f(0x35b)),_0x7added['focus'](),_0x7added[_0x242f2f(0xdaa)]();};}),document[_0x3ac210(0xbec)](_0x3ac210(0xb1c))[_0x3ac210(0xdc3)](_0x454d1a=>{const _0x4ac1a0=_0x3ac210,_0x13fa0b=()=>{const _0x19868a=_0x2fbb,_0x479359=_0x454d1a[_0x19868a(0x9d0)](_0x19868a(0x3a0))['dataset'][_0x19868a(0x65c)],_0x291444=parallelShortcutTabs[_0x19868a(0xa74)](_0x540743=>_0x540743['id']===_0x479359);_0x291444&&(_0x291444[_0x19868a(0x523)]=_0x454d1a[_0x19868a(0x710)][_0x19868a(0x5f6)]()||_0x291444[_0x19868a(0x523)],saveParallelShortcutConfig());};_0x454d1a[_0x4ac1a0(0x340)]=_0x13fa0b,_0x454d1a[_0x4ac1a0(0x9bc)]=_0x57f330=>{const _0x3d3928=_0x4ac1a0;if(_0x57f330[_0x3d3928(0x355)]===_0x3d3928(0x597))_0x454d1a[_0x3d3928(0x8f3)]();};}),document[_0x3ac210(0xbec)](_0x3ac210(0x359))[_0x3ac210(0xdc3)](_0x21137a=>_0x21137a['onclick']=_0x36cd48=>{const _0x47b0ff=_0x3ac210,_0x526dc8=_0x36cd48[_0x47b0ff(0x2d2)][_0x47b0ff(0x33e)][_0x47b0ff(0x65c)];showConfirmation(_0x47b0ff(0x28d),()=>{const _0x4ac945=_0x47b0ff;parallelShortcutTabs=parallelShortcutTabs[_0x4ac945(0x3d8)](_0x1d4290=>_0x1d4290['id']!==_0x526dc8),delete parallelShortcutOrder[_0x526dc8];if(activeParallelShortcutTabId===_0x526dc8)activeParallelShortcutTabId=_0x4ac945(0xde1);saveParallelShortcutConfig();});}),document[_0x3ac210(0xbec)](_0x3ac210(0xa02))[_0x3ac210(0xdc3)](_0x26315d=>_0x26315d[_0x3ac210(0x845)]=_0x3eecb0=>{const _0x1722ae=_0x3ac210;_0x3eecb0[_0x1722ae(0x713)]();const {shortcutId:_0x55cd77,targetTabId:_0x5ae793}=_0x3eecb0[_0x1722ae(0x2d2)][_0x1722ae(0x33e)],_0x2ecb8b=parallelShortcutTabs[_0x1722ae(0xa74)](_0x20d199=>_0x20d199['id']===_0x5ae793);_0x2ecb8b&&!_0x2ecb8b[_0x1722ae(0x9ea)][_0x1722ae(0x90f)](_0x55cd77)&&(_0x2ecb8b[_0x1722ae(0x9ea)][_0x1722ae(0xb97)](_0x55cd77),saveParallelShortcutConfig());}),document[_0x3ac210(0xbec)]('.remove-parallel-shortcut-from-tab-btn')[_0x3ac210(0xdc3)](_0x258840=>_0x258840[_0x3ac210(0x845)]=_0x165edc=>{const _0x662c0e=_0x3ac210,_0x3b6902=_0x165edc[_0x662c0e(0x2d2)][_0x662c0e(0x33e)][_0x662c0e(0x669)],_0x5aeac0=parallelShortcutTabs[_0x662c0e(0xa74)](_0x3ef3bf=>_0x3ef3bf['id']===activeParallelShortcutTabId);_0x5aeac0&&!_0x5aeac0[_0x662c0e(0xaf8)]&&(_0x5aeac0[_0x662c0e(0x9ea)]=_0x5aeac0['shortcutIds'][_0x662c0e(0x3d8)](_0x15ec82=>_0x15ec82!==_0x3b6902),saveParallelShortcutConfig());}),document[_0x3ac210(0xbec)](_0x3ac210(0x79d))[_0x3ac210(0xdc3)](_0x320210=>_0x320210[_0x3ac210(0x845)]=_0x52a9f3=>{const _0x35d5b1=_0x3ac210;_0x52a9f3[_0x35d5b1(0x809)]();const _0xc5ec79=_0x52a9f3[_0x35d5b1(0x2d2)]['nextElementSibling'];document['querySelectorAll'](_0x35d5b1(0x952))['forEach'](_0x174ec9=>_0x174ec9[_0x35d5b1(0xdd2)][_0x35d5b1(0x87d)](_0x35d5b1(0x35b))),_0xc5ec79['classList']['remove'](_0x35d5b1(0x35b));});const _0x3b2219=document[_0x3ac210(0x81d)]('additional-parallel-shortcuts-list');let _0x159c75=null;_0x3b2219['ondragstart']=_0xb3a3f=>{const _0x2fd8d1=_0x3ac210;_0x159c75=_0xb3a3f[_0x2fd8d1(0xca1)]['closest'](_0x2fd8d1(0x1c2));if(_0x159c75)setTimeout(()=>_0x159c75[_0x2fd8d1(0xdd2)][_0x2fd8d1(0x87d)]('opacity-50'),0x0);},_0x3b2219[_0x3ac210(0xb0b)]=()=>{const _0x20da70=_0x3ac210;_0x159c75&&(_0x159c75['classList'][_0x20da70(0x469)](_0x20da70(0xa5a)),_0x159c75=null);},_0x3b2219[_0x3ac210(0x677)]=_0x52502c=>{const _0x50932c=_0x3ac210;_0x52502c[_0x50932c(0x713)]();},_0x3b2219['ondrop']=_0x29ff85=>{const _0x31471a=_0x3ac210;_0x29ff85['preventDefault']();if(_0x159c75){const _0x48eb83=[..._0x3b2219[_0x31471a(0xbec)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x4569d4,_0x597496)=>{const _0x43d860=_0x31471a,_0x1c2ed8=_0x597496[_0x43d860(0x605)](),_0x5e0f35=_0x29ff85[_0x43d860(0x165)]-_0x1c2ed8[_0x43d860(0x490)]-_0x1c2ed8['height']/0x2;return _0x5e0f35<0x0&&_0x5e0f35>_0x4569d4[_0x43d860(0x1c7)]?{'offset':_0x5e0f35,'element':_0x597496}:_0x4569d4;},{'offset':Number[_0x31471a(0x352)]})[_0x31471a(0xd45)];_0x48eb83==null?_0x3b2219[_0x31471a(0x7f4)](_0x159c75):_0x3b2219[_0x31471a(0xd49)](_0x159c75,_0x48eb83);const _0x1fb137=[..._0x3b2219[_0x31471a(0xbec)](_0x31471a(0x1c2))][_0x31471a(0x7d8)](_0x454507=>_0x454507[_0x31471a(0x33e)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x1fb137,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x5b6f52=_0x4a882c,_0x2b565e=prompt(_0x5b6f52(0xd7a),'แท็บใหม่');_0x2b565e&&_0x2b565e[_0x5b6f52(0x5f6)]()&&(parallelShortcutTabs[_0x5b6f52(0xb97)]({'id':_0x5b6f52(0x2cb)+Date[_0x5b6f52(0x7c1)](),'name':_0x2b565e['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x4b694f=_0x4a882c,_0x2b1771=document['getElementById'](_0x4b694f(0x740)),_0x9323e6=document[_0x4b694f(0x81d)](_0x4b694f(0xe6e)),_0x57bb1e=document[_0x4b694f(0x81d)]('parallel-shortcuts-loading-msg');if(_0x57bb1e)_0x57bb1e['classList']['add'](_0x4b694f(0x35b));if(!_0x2b1771||!_0x9323e6)return;const _0x59f255=parallelTestShortcuts[_0x4b694f(0x1a7)](0x0,0x4),_0x4dee81=parallelTestShortcuts[_0x4b694f(0x1a7)](0x4);_0x2b1771[_0x4b694f(0x8ea)]=_0x59f255['map'](_0x4c7173=>{const _0x3e9dac=_0x4b694f,_0xa48678=_0x4c7173[_0x3e9dac(0xa70)]&&_0x4c7173['url']['trim']()!=='',_0x571298=_0xa48678?_0x3e9dac(0x5b4):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x168620=_0xa48678?'🔁':'🔗',_0x21a722=!_0x4c7173['isDefault']?'<button\x20data-id=\x22'+_0x4c7173['id']+_0x3e9dac(0x23b):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x4c7173['id']+_0x3e9dac(0x4b6)+_0x571298+_0x3e9dac(0x860)+_0x168620+'\x20'+_0x4c7173['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4c7173['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21a722+_0x3e9dac(0x33d);})[_0x4b694f(0x343)](''),_0x4dee81[_0x4b694f(0xa96)]>0x0&&(_0x2b1771[_0x4b694f(0x8ea)]+=_0x4b694f(0x2d5)),_0x4dee81['length']>0x0?_0x9323e6[_0x4b694f(0x8ea)]=_0x4dee81[_0x4b694f(0x7d8)](_0x226813=>_0x4b694f(0x61a)+(_0x226813[_0x4b694f(0xa70)]?'🔁':'🔗')+'\x20'+_0x226813['name']+_0x4b694f(0x30b)+_0x226813['id']+_0x4b694f(0xdab)+_0x226813['id']+_0x4b694f(0x43e)+(!_0x226813[_0x4b694f(0xaf8)]?_0x4b694f(0xd4f)+_0x226813['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4b694f(0x343)](''):_0x9323e6[_0x4b694f(0x8ea)]=_0x4b694f(0xbd5);}function openParallelTestShortcutEditor(_0x57d62b=null){const _0x3b88f2=_0x4a882c,_0x527fba=document[_0x3b88f2(0x81d)](_0x3b88f2(0x324)),_0x59a234=document[_0x3b88f2(0x81d)](_0x3b88f2(0x621)),_0x5e5cfc=document[_0x3b88f2(0x81d)](_0x3b88f2(0x383)),_0x5dc6d2=document['getElementById'](_0x3b88f2(0x4e8)),_0x341187=document[_0x3b88f2(0x81d)](_0x3b88f2(0xc91));if(_0x57d62b){const _0x4f8045=parallelTestShortcuts[_0x3b88f2(0xa74)](_0x2e508c=>_0x2e508c['id']===_0x57d62b);if(!_0x4f8045)return;_0x59a234[_0x3b88f2(0xca8)]=_0x3b88f2(0xe33),_0x5e5cfc[_0x3b88f2(0x710)]=_0x4f8045['id'],_0x5dc6d2[_0x3b88f2(0x710)]=_0x4f8045[_0x3b88f2(0x523)],_0x341187[_0x3b88f2(0x710)]=_0x4f8045[_0x3b88f2(0xa70)]||'';}else _0x59a234[_0x3b88f2(0xca8)]=_0x3b88f2(0xa75),_0x5e5cfc[_0x3b88f2(0x710)]='',_0x5dc6d2['value']='',_0x341187[_0x3b88f2(0x710)]='';_0x527fba[_0x3b88f2(0xdd2)][_0x3b88f2(0x469)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x54d069=_0x4a882c,_0x49775b=document[_0x54d069(0x81d)](_0x54d069(0x383))['value'],_0xada44d=document[_0x54d069(0x81d)](_0x54d069(0x4e8))[_0x54d069(0x710)]['trim'](),_0x4b6baf=document['getElementById'](_0x54d069(0xc91))['value'][_0x54d069(0x5f6)]();if(!_0xada44d){showMessage(_0x54d069(0x48e));return;}const _0x2feaf9={'id':_0x49775b||_0x54d069(0x5e7)+Date['now'](),'name':_0xada44d,'url':_0x4b6baf,'isDefault':_0x49775b[_0x54d069(0x1c6)](_0x54d069(0x82a))};let _0x14b344;_0x49775b?_0x14b344=parallelTestShortcuts[_0x54d069(0x7d8)](_0x321dac=>_0x321dac['id']===_0x49775b?_0x2feaf9:_0x321dac):_0x14b344=[...parallelTestShortcuts,_0x2feaf9];try{const _0x509e8a=doc(db,_0x54d069(0xafb),_0x54d069(0x93d));await setDoc(_0x509e8a,{'shortcuts':_0x14b344},{'merge':!![]}),document['getElementById'](_0x54d069(0x324))['classList'][_0x54d069(0x87d)](_0x54d069(0x35b));}catch(_0x28d806){console[_0x54d069(0x76b)](_0x54d069(0x74c),_0x28d806),showMessage(_0x54d069(0x6df));}}async function handleParallelTestShortcutClick(_0x325d6c){const _0x146c71=_0x4a882c,_0x1d083e=parallelTestShortcuts[_0x146c71(0xa74)](_0x14c65b=>_0x14c65b['id']===_0x325d6c);if(!_0x1d083e)return;if(!_0x1d083e[_0x146c71(0xa70)]||_0x1d083e['url'][_0x146c71(0x5f6)]()===''){openParallelTestShortcutEditor(_0x325d6c);return;}const _0x5ed4fb=document['getElementById'](_0x146c71(0x1d1)),_0x206adc=document['getElementById'](_0x146c71(0xe40));document[_0x146c71(0x81d)](_0x146c71(0x334))[_0x146c71(0xdd2)][_0x146c71(0x469)]('hidden'),document[_0x146c71(0x81d)](_0x146c71(0xa19))['innerHTML']='',_0x5ed4fb[_0x146c71(0xdd2)][_0x146c71(0x469)]('hidden'),_0x206adc[_0x146c71(0xca8)]=_0x146c71(0xa9c);try{let _0x24abb8;_0x1d083e['url'][_0x146c71(0x95d)]()[_0x146c71(0x90f)](_0x146c71(0x45f))?_0x24abb8='source_document.txt':_0x24abb8='source_document.pdf';const _0x585a41=await fetchFileFromUrl(_0x1d083e[_0x146c71(0xa70)],_0x24abb8);await handleGenerateParallelTest(_0x585a41);}catch(_0x177693){console[_0x146c71(0x76b)](_0x146c71(0x86b),_0x177693),showMessage(_0x146c71(0x388)+_0x177693[_0x146c71(0x752)]),_0x5ed4fb['classList'][_0x146c71(0x87d)](_0x146c71(0x35b));}}function initializeScratchpadCanvas(){const _0x477ddd=_0x4a882c,_0x38951c=document[_0x477ddd(0x81d)](_0x477ddd(0x399)),_0x4a8f64=document[_0x477ddd(0x869)](_0x477ddd(0x7e8));if(!_0x38951c||!_0x4a8f64)return;scratchpadCtx=_0x38951c['getContext']('2d',{'willReadFrequently':!![]});const _0x357a66=window[_0x477ddd(0xd5e)]||0x1,_0x34ddd5=_0x4a8f64[_0x477ddd(0x605)]();_0x38951c[_0x477ddd(0xb99)]=_0x34ddd5['width']*_0x357a66,_0x38951c['height']=_0x34ddd5[_0x477ddd(0x6f9)]*_0x357a66,_0x38951c[_0x477ddd(0xe1e)][_0x477ddd(0xb99)]=_0x34ddd5['width']+'px',_0x38951c[_0x477ddd(0xe1e)][_0x477ddd(0x6f9)]=_0x34ddd5['height']+'px',scratchpadCtx['scale'](_0x357a66,_0x357a66),scratchpadCtx['lineJoin']=_0x477ddd(0x1c0),scratchpadCtx[_0x477ddd(0x533)]=_0x477ddd(0x1c0),_0x38951c[_0x477ddd(0x599)](_0x477ddd(0xbfc),handlePointerDown),_0x38951c[_0x477ddd(0x599)](_0x477ddd(0xb9b),handlePointerMove),_0x38951c['removeEventListener'](_0x477ddd(0x6e5),handlePointerUp),_0x38951c[_0x477ddd(0x599)](_0x477ddd(0xadf),handlePointerUp),_0x38951c[_0x477ddd(0x599)]('wheel',handleWheel),_0x38951c[_0x477ddd(0x599)](_0x477ddd(0x5e2),handlePointerDown),_0x38951c['removeEventListener']('touchmove',handlePointerMove),_0x38951c[_0x477ddd(0x599)]('touchend',handlePointerUp),_0x38951c['addEventListener'](_0x477ddd(0xbfc),handlePointerDown),_0x38951c['addEventListener'](_0x477ddd(0xb9b),handlePointerMove),_0x38951c[_0x477ddd(0x843)](_0x477ddd(0x6e5),handlePointerUp),_0x38951c[_0x477ddd(0x843)](_0x477ddd(0xadf),handlePointerUp),_0x38951c[_0x477ddd(0x843)](_0x477ddd(0x9c7),handleWheel,{'passive':![]}),_0x38951c['addEventListener'](_0x477ddd(0x5e2),handlePointerDown,{'passive':![]}),_0x38951c['addEventListener'](_0x477ddd(0x933),handlePointerMove,{'passive':![]}),_0x38951c['addEventListener'](_0x477ddd(0x458),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5efaaa=_0x4a882c,_0x302595=document[_0x5efaaa(0x81d)]('scratchpad-modal'),_0x43fe4b=document[_0x5efaaa(0x81d)](_0x5efaaa(0x402));_0x43fe4b[_0x5efaaa(0x8ea)]=_0x5efaaa(0xc1f)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2e5a3a=document['getElementById']('pen-tool-btn'),_0x53672f=document[_0x5efaaa(0x81d)](_0x5efaaa(0x17a)),_0x28abe9=document[_0x5efaaa(0x81d)](_0x5efaaa(0x321)),_0x191121=document[_0x5efaaa(0x81d)](_0x5efaaa(0xd37)),_0x3d0b57=document[_0x5efaaa(0x81d)](_0x5efaaa(0x57f)),_0x2c9aa8=document[_0x5efaaa(0x81d)](_0x5efaaa(0x363)),_0x554ad1=document[_0x5efaaa(0x81d)]('eraser-tools-group'),_0x1055de=[_0x2e5a3a,_0x53672f,_0x28abe9,_0x191121];document[_0x5efaaa(0x81d)]('scratchpad-close-btn')['addEventListener'](_0x5efaaa(0x864),()=>_0x302595[_0x5efaaa(0xdd2)][_0x5efaaa(0x87d)](_0x5efaaa(0x35b))),document[_0x5efaaa(0x81d)](_0x5efaaa(0x840))[_0x5efaaa(0x843)](_0x5efaaa(0x864),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x5efaaa(0x81d)](_0x5efaaa(0x1d5))[_0x5efaaa(0x843)](_0x5efaaa(0x864),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById']('undo-btn')['addEventListener']('click',undo),document['getElementById'](_0x5efaaa(0x2fe))[_0x5efaaa(0x843)](_0x5efaaa(0x864),redo);const _0x40fc3e=_0x31933d=>{const _0x68d2f0=_0x5efaaa;_0x1055de['forEach'](_0x17d22c=>_0x17d22c[_0x68d2f0(0xdd2)][_0x68d2f0(0x469)](_0x68d2f0(0x3fc))),_0x31933d[_0x68d2f0(0xdd2)][_0x68d2f0(0x87d)](_0x68d2f0(0x3fc)),_0x3d0b57[_0x68d2f0(0xdd2)][_0x68d2f0(0x87d)]('hidden'),_0x2c9aa8[_0x68d2f0(0xdd2)][_0x68d2f0(0x87d)](_0x68d2f0(0x35b)),_0x554ad1['classList'][_0x68d2f0(0x87d)](_0x68d2f0(0x35b));if(activeTool===_0x68d2f0(0x534)||activeTool==='trail')_0x3d0b57[_0x68d2f0(0xdd2)]['remove']('hidden');else{if(activeTool==='highlighter')_0x2c9aa8[_0x68d2f0(0xdd2)][_0x68d2f0(0x469)]('hidden');else activeTool===_0x68d2f0(0x2e9)&&_0x554ad1[_0x68d2f0(0xdd2)][_0x68d2f0(0x469)](_0x68d2f0(0x35b));}};_0x2e5a3a['addEventListener'](_0x5efaaa(0x864),()=>{const _0x58dfe7=_0x5efaaa;activeTool=_0x58dfe7(0x534),_0x40fc3e(_0x2e5a3a);}),_0x53672f[_0x5efaaa(0x843)](_0x5efaaa(0x864),()=>{const _0x39ff35=_0x5efaaa;activeTool=_0x39ff35(0x2e9),_0x40fc3e(_0x53672f);}),_0x28abe9[_0x5efaaa(0x843)](_0x5efaaa(0x864),()=>{activeTool='trail',_0x40fc3e(_0x28abe9);}),_0x191121[_0x5efaaa(0x843)](_0x5efaaa(0x864),()=>{const _0x2e71c5=_0x5efaaa;activeTool=_0x2e71c5(0xccb),_0x40fc3e(_0x191121);}),_0x3d0b57[_0x5efaaa(0xbec)](_0x5efaaa(0xdcf))['forEach'](_0x3d9892=>{const _0x1d6d29=_0x5efaaa;_0x3d9892[_0x1d6d29(0x843)](_0x1d6d29(0x864),_0x1a1143=>{const _0x3e8553=_0x1d6d29;scratchpadPenSize=parseInt(_0x1a1143[_0x3e8553(0xca1)]['dataset'][_0x3e8553(0x7fe)],0xa),_0x3d0b57[_0x3e8553(0xbec)](_0x3e8553(0xdcf))['forEach'](_0xdac1b5=>_0xdac1b5[_0x3e8553(0xdd2)][_0x3e8553(0x469)](_0x3e8553(0x3fc))),_0x1a1143['target'][_0x3e8553(0xdd2)][_0x3e8553(0x87d)]('active');});}),_0x554ad1['querySelectorAll'](_0x5efaaa(0xa20))[_0x5efaaa(0xdc3)](_0x50535d=>{const _0x2864fc=_0x5efaaa;_0x50535d[_0x2864fc(0x843)](_0x2864fc(0x864),_0x416016=>{const _0x5283f0=_0x2864fc,_0x309b70=_0x416016[_0x5283f0(0x2d2)];scratchpadEraserSize=parseInt(_0x309b70[_0x5283f0(0x33e)][_0x5283f0(0x7fe)],0xa),_0x554ad1[_0x5283f0(0xbec)](_0x5283f0(0xa20))[_0x5283f0(0xdc3)](_0x538cc6=>_0x538cc6['classList'][_0x5283f0(0x469)]('active')),_0x309b70[_0x5283f0(0xdd2)][_0x5283f0(0x87d)](_0x5283f0(0x3fc));});}),_0x3d0b57['querySelectorAll']('.pen-color-btn')[_0x5efaaa(0xdc3)](_0x34213b=>{const _0xc6d78e=_0x5efaaa;_0x34213b[_0xc6d78e(0x843)](_0xc6d78e(0x864),_0x1d86b8=>{const _0x971595=_0xc6d78e;scratchpadPenColor=_0x1d86b8[_0x971595(0xca1)][_0x971595(0x33e)][_0x971595(0x6d1)],_0x3d0b57[_0x971595(0xbec)](_0x971595(0xaa7))['forEach'](_0x255dc5=>_0x255dc5[_0x971595(0xdd2)][_0x971595(0x469)](_0x971595(0x3fc))),_0x1d86b8[_0x971595(0xca1)][_0x971595(0xdd2)][_0x971595(0x87d)](_0x971595(0x3fc));});}),_0x2c9aa8['querySelectorAll'](_0x5efaaa(0x3ac))[_0x5efaaa(0xdc3)](_0x3ff334=>{const _0x486c0e=_0x5efaaa;_0x3ff334[_0x486c0e(0x843)](_0x486c0e(0x864),_0xa2ca2f=>{const _0x69bfa4=_0x486c0e;scratchpadHighlighterColor=_0xa2ca2f['target'][_0x69bfa4(0x33e)][_0x69bfa4(0x6d1)],_0x2c9aa8[_0x69bfa4(0xbec)](_0x69bfa4(0x3ac))[_0x69bfa4(0xdc3)](_0xe0563e=>_0xe0563e[_0x69bfa4(0xdd2)][_0x69bfa4(0x469)](_0x69bfa4(0x3fc))),_0xa2ca2f[_0x69bfa4(0xca1)]['classList'][_0x69bfa4(0x87d)](_0x69bfa4(0x3fc));});});const _0x463962=document[_0x5efaaa(0x81d)](_0x5efaaa(0x5dc)),_0x53a29a=document[_0x5efaaa(0x81d)](_0x5efaaa(0xaa0));_0x463962['addEventListener'](_0x5efaaa(0x2d7),_0x3a10b6=>{const _0x5f1b26=_0x5efaaa,_0x134c65=parseInt(_0x3a10b6['target'][_0x5f1b26(0x710)],0xa);scratchpadHighlighterSize=_0x134c65,_0x53a29a[_0x5f1b26(0xca8)]=_0x134c65;}),window['addEventListener'](_0x5efaaa(0xc1e),()=>{const _0x44ef4c=_0x5efaaa;!_0x302595[_0x44ef4c(0xdd2)]['contains'](_0x44ef4c(0x35b))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x4a882c(0x339),'description':_0x4a882c(0x178),'icon':_0x4a882c(0x362)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x4a882c(0xddc),'description':_0x4a882c(0xb11),'icon':_0x4a882c(0x574)},'ON_FIRE':{'id':_0x4a882c(0x9c9),'name':_0x4a882c(0xc1d),'description':_0x4a882c(0x7c6),'icon':_0x4a882c(0x7f9)},'FIRST_TRY_ACE':{'id':_0x4a882c(0x667),'name':_0x4a882c(0xd88),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x4a882c(0x718)},'COMEBACK_KING':{'id':_0x4a882c(0x24a),'name':_0x4a882c(0x3d9),'description':_0x4a882c(0x802),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x4a882c(0xd06),'name':'ผู้เชี่ยวชาญ','description':_0x4a882c(0x51a),'icon':_0x4a882c(0x513)},'PERSEVERANCE':{'id':_0x4a882c(0xe74),'name':'ผู้ไม่ยอมแพ้','description':_0x4a882c(0xe81),'icon':_0x4a882c(0xd42)}},firebaseConfig={'apiKey':_0x4a882c(0x293),'authDomain':_0x4a882c(0xab5),'projectId':_0x4a882c(0x456),'storageBucket':_0x4a882c(0xdcd),'messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x4a882c(0x4e6)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x4a882c(0x81d)](_0x4a882c(0x3b8)),studentView=document[_0x4a882c(0x81d)]('student-view'),projectDashboardView=document[_0x4a882c(0x81d)](_0x4a882c(0x6ed)),projectDetailView=document[_0x4a882c(0x81d)](_0x4a882c(0x25c)),quizResultsView=document[_0x4a882c(0x81d)](_0x4a882c(0x7cc)),projectList=document[_0x4a882c(0x81d)](_0x4a882c(0x30a)),noProjectsMsg=document[_0x4a882c(0x81d)]('no-projects-msg'),projectTitle=document[_0x4a882c(0x81d)](_0x4a882c(0xa92)),projectIdDisplay=document[_0x4a882c(0x81d)](_0x4a882c(0xd08)),studentList=document[_0x4a882c(0x81d)](_0x4a882c(0x1a8)),messageModal=document[_0x4a882c(0x81d)](_0x4a882c(0xcad)),modalMessage=document[_0x4a882c(0x81d)](_0x4a882c(0x8ee)),createProjectModal=document['getElementById'](_0x4a882c(0x7af)),adminPasswordModal=document[_0x4a882c(0x81d)](_0x4a882c(0x91c)),confirmationModal=document[_0x4a882c(0x81d)](_0x4a882c(0x29e)),userIdDisplay=document[_0x4a882c(0x81d)]('user-id-display'),topicTab=document[_0x4a882c(0x81d)](_0x4a882c(0x43f)),textTab=document['getElementById'](_0x4a882c(0x475)),topicInputArea=document['getElementById']('topic-input-area'),textInputArea=document['getElementById'](_0x4a882c(0x16d)),manageTab=document['getElementById'](_0x4a882c(0x541)),resultsTab=document[_0x4a882c(0x81d)]('results-tab'),leaderboardTab=document[_0x4a882c(0x81d)](_0x4a882c(0x207)),manageTabContent=document[_0x4a882c(0x81d)](_0x4a882c(0xcda)),resultsTabContent=document[_0x4a882c(0x81d)]('results-tab-content'),leaderboardTabContent=document[_0x4a882c(0x81d)](_0x4a882c(0x507)),projectQuizzesList=document['getElementById'](_0x4a882c(0x1ed)),fileTab=document[_0x4a882c(0x81d)](_0x4a882c(0x8f9)),fileInputArea=document['getElementById'](_0x4a882c(0x812)),fileUploadInput=document[_0x4a882c(0x81d)](_0x4a882c(0x834)),worksheetTab=document['getElementById'](_0x4a882c(0x69a)),worksheetInputArea=document[_0x4a882c(0x81d)](_0x4a882c(0xdcc)),generateWorksheetBtn=document[_0x4a882c(0x81d)](_0x4a882c(0x4d0)),studentInitialView=document[_0x4a882c(0x81d)]('student-initial-view'),studentNameSelectionView=document[_0x4a882c(0x81d)]('student-name-selection-view'),studentQuizArea=document[_0x4a882c(0x81d)]('student-quiz-area'),studentResultArea=document[_0x4a882c(0x81d)](_0x4a882c(0xbb7)),studentReadingArea=document[_0x4a882c(0x81d)](_0x4a882c(0xe0f)),loadQuizBtn=document[_0x4a882c(0x81d)](_0x4a882c(0x5a3)),startQuizBtn=document[_0x4a882c(0x81d)](_0x4a882c(0x1bd)),studentJoinGameView=document[_0x4a882c(0x81d)](_0x4a882c(0x993)),presentationModal=document[_0x4a882c(0x81d)](_0x4a882c(0x859)),renameQuizModal=document[_0x4a882c(0x81d)]('rename-quiz-modal'),moveQuizModal=document[_0x4a882c(0x81d)](_0x4a882c(0x52f)),quizSettingsModal=document[_0x4a882c(0x81d)](_0x4a882c(0xbc9)),quizStatusModal=document[_0x4a882c(0x81d)](_0x4a882c(0xbdb)),liveGameView=document['getElementById'](_0x4a882c(0xae1));function handleFixLessonLatex(){const _0x479024=_0x4a882c,_0x153b59=document[_0x479024(0x81d)](_0x479024(0xd71));if(!_0x153b59){showMessage(_0x479024(0xd2b));return;}const _0x1e3562=_0x153b59['querySelectorAll']([_0x479024(0x96b),_0x479024(0xde5),_0x479024(0x4c8),_0x479024(0x776),_0x479024(0x2f1)]['join'](','));let _0xd45ab1=0x0;const _0x360254=_0x325daf=>_0x325daf[_0x479024(0xca8)]||'',_0xc4c2c=(_0x189ac6,_0x404dee)=>{const _0x50f3f2=_0x479024;if(_0x189ac6[_0x50f3f2(0x869)]&&_0x189ac6[_0x50f3f2(0x869)](_0x50f3f2(0x64e)))return;_0x189ac6[_0x50f3f2(0xca8)]=_0x404dee;},_0x549499=_0xf248fc=>_0xf248fc[_0x479024(0xc8d)](/\u00A0/g,'\x20')[_0x479024(0xc8d)](/\u200B/g,'')[_0x479024(0xc8d)](/\r\n?/g,'\x0a'),_0x169e65=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x7ce3ac=_0x40905d=>{const _0x287177=_0x479024;let _0x5b9d9f=_0x40905d['trim']();const _0x3ea857=[_0x287177(0xd2f),_0x287177(0x984),_0x287177(0x62e),_0x287177(0xc7b),_0x287177(0x95b),_0x287177(0x80b),_0x287177(0xc63),_0x287177(0x3fa),_0x287177(0x693),_0x287177(0xbff),'le','ge',_0x287177(0x570),'pm','approx',_0x287177(0x1bb),_0x287177(0x42a),'tan',_0x287177(0x792),'ln',_0x287177(0x88b),_0x287177(0x235),'binom',_0x287177(0x30e),_0x287177(0x783),_0x287177(0x53b),_0x287177(0x1b1),'circ',_0x287177(0xb05)];_0x3ea857[_0x287177(0xdc3)](_0x3d3feb=>{const _0x57201d=_0x287177;_0x5b9d9f=_0x5b9d9f['replace'](new RegExp(_0x57201d(0x5c1)+_0x3d3feb+'\x5cb','g'),(_0x36ac95,_0x36aa8c)=>_0x36aa8c+'\x5c'+_0x3d3feb);});const _0x5f16fc=[[/×/g,_0x287177(0x9d6)],[/·/g,'\x5ccdot'],[/÷/g,_0x287177(0x930)],[/≤/g,_0x287177(0x7a8)],[/≥/g,_0x287177(0x766)],[/≠/g,_0x287177(0x4d6)],[/±/g,_0x287177(0xcc9)],[/∑/g,_0x287177(0xd14)],[/−/g,'-']];return _0x5f16fc['forEach'](([_0x111afd,_0x47c258])=>{_0x5b9d9f=_0x5b9d9f['replace'](_0x111afd,_0x47c258);}),_0x5b9d9f=_0x5b9d9f[_0x287177(0xc8d)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x5b9d9f=_0x5b9d9f['replace'](/(\d+)\s*%/g,_0x287177(0x2c1)),_0x5b9d9f;},_0x54686b=_0x38a7e3=>{const _0x19a002=_0x479024;if(/\$|\\\(|\\\[/['test'](_0x38a7e3))return _0x38a7e3;if(!_0x169e65[_0x19a002(0x3d7)](_0x38a7e3))return _0x38a7e3;const _0x27c14c=_0x38a7e3[_0x19a002(0xcb7)](/^\s*/)[0x0],_0x3a1033=_0x38a7e3[_0x19a002(0xcb7)](/\s*$/)[0x0],_0x1626cd=_0x38a7e3[_0x19a002(0x5f6)]();return _0x27c14c+'$'+_0x7ce3ac(_0x1626cd)+'$'+_0x3a1033;};_0x1e3562[_0x479024(0xdc3)](_0x2a7e94=>{const _0x38831c=_0x479024,_0x650d95=_0x360254(_0x2a7e94);let _0x5ef904=_0x549499(_0x650d95);_0x5ef904=_0x5ef904[_0x38831c(0xc8d)](/\$([^$]*?)\$/g,(_0x1ed6ce,_0x5314b5)=>'$'+_0x7ce3ac(_0x5314b5)+'$');const _0x809543=_0x5ef904[_0x38831c(0x9b4)](/(\s+)/),_0x15898e=_0x809543[_0x38831c(0x7d8)](_0xa7517d=>{const _0x440139=_0x38831c;if(/\s+/[_0x440139(0x3d7)](_0xa7517d))return _0xa7517d;return _0x54686b(_0xa7517d);});_0x5ef904=_0x15898e[_0x38831c(0x343)](''),_0x5ef904!==_0x650d95&&(_0xc4c2c(_0x2a7e94,_0x5ef904),_0xd45ab1++);});if(_0xd45ab1>0x0){showMessage(_0x479024(0x73d)+_0xd45ab1+_0x479024(0x966));try{window[_0x479024(0x389)]&&MathJax['typesetPromise']&&MathJax[_0x479024(0x434)]([_0x153b59]);}catch(_0x2d7c34){console[_0x479024(0x76b)]('MathJax\x20re-render\x20failed:',_0x2d7c34);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0xd7620c=_0x4a882c,_0x1ec39f=document[_0xd7620c(0x81d)](_0xd7620c(0x4f5))||document,_0x5925b9=_0x1ec39f[_0xd7620c(0xbec)](_0xd7620c(0xbb1));let _0x13b1d7=0x0;const _0x5510bf=_0x1d1192=>_0xd7620c(0x710)in _0x1d1192?String(_0x1d1192[_0xd7620c(0x710)]):_0x1d1192[_0xd7620c(0x263)]!==undefined?_0x1d1192[_0xd7620c(0x263)]:_0x1d1192[_0xd7620c(0xca8)]||'',_0x4756a7=(_0x555bba,_0x131493)=>{const _0x1f5e50=_0xd7620c;if(_0x1f5e50(0x710)in _0x555bba){_0x555bba[_0x1f5e50(0x710)]=_0x131493;return;}if(_0x555bba[_0x1f5e50(0x869)]&&_0x555bba[_0x1f5e50(0x869)](_0x1f5e50(0x64e)))return;if(_0x555bba[_0x1f5e50(0x263)]!==undefined)_0x555bba[_0x1f5e50(0x263)]=_0x131493;else _0x555bba[_0x1f5e50(0xca8)]=_0x131493;},_0x410d42=_0x260284=>_0x260284[_0xd7620c(0xc8d)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3ef33f=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x320b37=_0x32b260=>{const _0x158103=_0xd7620c;let _0x5c4853=_0x32b260[_0x158103(0x5f6)]();_0x5c4853=_0x5c4853[_0x158103(0xc8d)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x158103(0x808)),_0x5c4853=_0x5c4853[_0x158103(0xc8d)](/\bfrac(\d)(\d)/g,_0x158103(0x808));const _0x1312a2=[_0x158103(0xd2f),_0x158103(0xc7b),_0x158103(0x80b),'cdot','div',_0x158103(0x693),_0x158103(0xbff),_0x158103(0x570),'pm',_0x158103(0x1bb),'cos','tan',_0x158103(0x792),'ln'];_0x1312a2[_0x158103(0xdc3)](_0x33c895=>{const _0x35d5ef=_0x158103;_0x5c4853=_0x5c4853[_0x35d5ef(0xc8d)](new RegExp(_0x35d5ef(0x5c1)+_0x33c895+'\x5cb','g'),(_0x130e8c,_0x4ce367)=>_0x4ce367+'\x5c'+_0x33c895);});const _0x564512=[[/×/g,_0x158103(0x9d6)],[/·/g,_0x158103(0xcba)],[/÷/g,_0x158103(0x930)],[/≤/g,'\x5cle'],[/≥/g,_0x158103(0x766)],[/≠/g,_0x158103(0x4d6)],[/±/g,_0x158103(0xcc9)]];return _0x564512[_0x158103(0xdc3)](([_0x420190,_0x131aed])=>{const _0x399ce6=_0x158103;_0x5c4853=_0x5c4853[_0x399ce6(0xc8d)](_0x420190,_0x131aed);}),_0x5c4853;},_0x56ca73=_0x2d6777=>{const _0x5d8037=_0xd7620c;if(/\$|\\\(|\\\[/[_0x5d8037(0x3d7)](_0x2d6777))return _0x2d6777;if(!_0x3ef33f[_0x5d8037(0x3d7)](_0x2d6777))return _0x2d6777;const _0x18b1f0=_0x2d6777['match'](/^\s*/)[0x0],_0x3499e1=_0x2d6777[_0x5d8037(0xcb7)](/\s*$/)[0x0],_0x10d637=_0x2d6777[_0x5d8037(0x5f6)]();return _0x18b1f0+'$'+_0x320b37(_0x10d637)+'$'+_0x3499e1;};_0x5925b9[_0xd7620c(0xdc3)](_0x9fedbd=>{const _0x28f5ca=_0xd7620c,_0x17a722=_0x5510bf(_0x9fedbd);let _0x2c248a=_0x410d42(_0x17a722);_0x2c248a=_0x2c248a[_0x28f5ca(0xc8d)](/\$([^$]*?)\$/g,(_0x3a9b91,_0x2946eb)=>'$'+_0x320b37(_0x2946eb)+'$');const _0x9a2c87=_0x2c248a[_0x28f5ca(0x9b4)](/(\s+)/),_0x5a5425=_0x9a2c87[_0x28f5ca(0x7d8)](_0x4f4c5f=>/\s+/[_0x28f5ca(0x3d7)](_0x4f4c5f)?_0x4f4c5f:_0x56ca73(_0x4f4c5f));_0x2c248a=_0x5a5425['join'](''),_0x2c248a!==_0x17a722&&(_0x4756a7(_0x9fedbd,_0x2c248a),_0x13b1d7++);});if(_0x13b1d7>0x0){showMessage(_0xd7620c(0x3a1)+_0x13b1d7+_0xd7620c(0x9f9));try{if(window[_0xd7620c(0x389)]&&MathJax['typesetPromise'])MathJax[_0xd7620c(0x434)]();}catch(_0x4c420d){}}else showMessage(_0xd7620c(0x639));}async function listenForCustomMathTopics(){const _0x7fc807=_0x4a882c,_0x5b2c39=collection(db,'artifacts/'+appId+_0x7fc807(0x87c));onSnapshot(_0x5b2c39,_0x1c70b3=>{const _0x4beab7=_0x7fc807;customMathTopics=_0x1c70b3[_0x4beab7(0x9b1)][_0x4beab7(0x7d8)](_0x570d0b=>({'id':_0x570d0b['id'],..._0x570d0b[_0x4beab7(0xc66)]()})),renderTopicCheckboxes();},_0x65f426=>{const _0xaa3d32=_0x7fc807;console['error'](_0xaa3d32(0x927),_0x65f426);});}function handleSelectAllTopics(){const _0xa943c0=_0x4a882c,_0x50ad13=document[_0xa943c0(0x81d)](_0xa943c0(0x3c1)),_0x2a3add=_0x50ad13[_0xa943c0(0xbec)](_0xa943c0(0xa2a));_0x2a3add['forEach'](_0x34d11d=>{_0x34d11d['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x18165a=_0x4a882c,_0x5370b9=document[_0x18165a(0x81d)](_0x18165a(0x3c1)),_0x597dbe=_0x5370b9[_0x18165a(0xbec)](_0x18165a(0xa2a));_0x597dbe[_0x18165a(0xdc3)](_0x14625d=>{const _0xa59986=_0x18165a;_0x14625d[_0xa59986(0x600)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x330a6c){const _0x37bf5b=_0x4a882c;if(!_0x330a6c)return;try{const _0x51dbd1=doc(db,'artifacts/'+appId+_0x37bf5b(0x87c),_0x330a6c);await deleteDoc(_0x51dbd1),showMessage(_0x37bf5b(0xa8d));}catch(_0x2eb445){console[_0x37bf5b(0x76b)]('Error\x20deleting\x20custom\x20topic:',_0x2eb445),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x6f6e08=_0x4a882c,_0x5a1d55=document[_0x6f6e08(0x81d)](_0x6f6e08(0x32b)),_0x5d5623=_0x5a1d55['value'][_0x6f6e08(0x5f6)]();if(!_0x5d5623){showMessage(_0x6f6e08(0xcf1));return;}if(!userId){showMessage(_0x6f6e08(0x6f0));return;}try{const _0x1f504b=collection(db,_0x6f6e08(0x878)+appId+_0x6f6e08(0x87c));await addDoc(_0x1f504b,{'name':_0x5d5623,'createdAt':serverTimestamp()}),_0x5a1d55[_0x6f6e08(0x710)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x5d5623+'\x22\x20สำเร็จ');}catch(_0x40c065){console[_0x6f6e08(0x76b)](_0x6f6e08(0xbf7),_0x40c065),showMessage(_0x6f6e08(0x258));}}async function handleUpdateOldQuizzes(){const _0x2d8eb5=_0x4a882c;showConfirmation(_0x2d8eb5(0x212),async()=>{const _0x487e0d=_0x2d8eb5,_0x2b66d3=document[_0x487e0d(0x81d)](_0x487e0d(0x1d1)),_0x5d8fea=document[_0x487e0d(0x81d)]('loader-text'),_0x4330ed=_0x5d8fea[_0x487e0d(0xca8)];_0x2b66d3[_0x487e0d(0xdd2)][_0x487e0d(0x469)](_0x487e0d(0x35b)),_0x5d8fea[_0x487e0d(0xca8)]=_0x487e0d(0x9f5);try{const _0x4a3f2d=collection(db,_0x487e0d(0x878)+appId+_0x487e0d(0x527)),_0x88510c=await getDocs(_0x4a3f2d);if(_0x88510c['empty']){showMessage(_0x487e0d(0x216));return;}const _0x570f20=writeBatch(db);let _0x23cd07=0x0;_0x88510c[_0x487e0d(0xdc3)](_0x3ae335=>{const _0x575bc5=_0x487e0d,_0x402b3a=_0x3ae335[_0x575bc5(0xc66)](),_0x131b6c=_0x3ae335['id'];if(_0x402b3a['questions']&&_0x402b3a[_0x575bc5(0x277)][_0x575bc5(0xa96)]>0x0&&!_0x402b3a[_0x575bc5(0x277)][0x0]['hasOwnProperty']('id')){console[_0x575bc5(0x792)](_0x575bc5(0xd11)+_0x131b6c+'\x20('+_0x402b3a[_0x575bc5(0x755)]+')'),_0x23cd07++;const _0x36691b=_0x402b3a[_0x575bc5(0x277)][_0x575bc5(0x7d8)]((_0x29f835,_0x2e4913)=>{const _0x36ddfd=_0x575bc5;return{..._0x29f835,'id':_0x29f835['id']||'q_'+Date[_0x36ddfd(0x7c1)]()+'_'+_0x131b6c+'_'+_0x2e4913};}),_0x285927=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x131b6c);_0x570f20[_0x575bc5(0x243)](_0x285927,{'questions':_0x36691b});}}),_0x23cd07>0x0?(_0x5d8fea['textContent']=_0x487e0d(0x2bd)+_0x23cd07+_0x487e0d(0xb39),await _0x570f20['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x23cd07+_0x487e0d(0x354))):showMessage(_0x487e0d(0x734));}catch(_0x5c602d){console[_0x487e0d(0x76b)](_0x487e0d(0xc90),_0x5c602d),showMessage(_0x487e0d(0x923)+_0x5c602d[_0x487e0d(0x752)]);}finally{_0x2b66d3[_0x487e0d(0xdd2)]['add'](_0x487e0d(0x35b)),_0x5d8fea[_0x487e0d(0xca8)]=_0x4330ed;}});}async function handleBulkUpdateQuizSettings(){const _0x53a701=_0x4a882c,_0x2155e3={'shuffle':document['getElementById'](_0x53a701(0xbf2))[_0x53a701(0x710)],'resultsDisplay':document[_0x53a701(0x81d)](_0x53a701(0x17c))['value'],'loopUntilPass':document[_0x53a701(0x81d)](_0x53a701(0xaee))[_0x53a701(0x600)],'isConfidenceScoringEnabled':document['getElementById']('bulk-confidence-scoring-checkbox')[_0x53a701(0x600)],'confidenceMode':document['getElementById'](_0x53a701(0x3b6))['value']};try{showMessage(_0x53a701(0x54c));const _0x1848d0=await getDocs(collection(db,'artifacts/'+appId+_0x53a701(0x527))),_0x2ebc99=_0x1848d0['docs'][_0x53a701(0x7d8)](_0x10eb31=>({'id':_0x10eb31['id'],'data':_0x10eb31[_0x53a701(0xc66)]()})),_0x551e82=_0x2ebc99[_0x53a701(0xa96)];showConfirmation(_0x53a701(0x7ec)+_0x551e82+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x5d6c8b=_0x53a701,_0x40c5d8=document[_0x5d6c8b(0x81d)](_0x5d6c8b(0xe1f));_0x40c5d8[_0x5d6c8b(0x396)]=!![],_0x40c5d8[_0x5d6c8b(0x8ea)]=_0x5d6c8b(0x488);try{const _0x84409d=writeBatch(db);_0x2ebc99[_0x5d6c8b(0xdc3)](_0x5f4169=>{const _0x9f7367=_0x5d6c8b,_0x3b9f63=doc(db,'artifacts/'+appId+_0x9f7367(0x527),_0x5f4169['id']),_0x1546f1={..._0x5f4169[_0x9f7367(0xc66)][_0x9f7367(0x7b1)]||{},..._0x2155e3};_0x84409d[_0x9f7367(0x243)](_0x3b9f63,{'settings':_0x1546f1});}),await _0x84409d['commit'](),document[_0x5d6c8b(0x81d)](_0x5d6c8b(0x8b5))[_0x5d6c8b(0xdd2)][_0x5d6c8b(0x87d)](_0x5d6c8b(0x35b)),showMessage(_0x5d6c8b(0xb8c)+_0x551e82+_0x5d6c8b(0x427));}catch(_0x3bcd49){console['error'](_0x5d6c8b(0x31a),_0x3bcd49),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x40c5d8['disabled']=![],_0x40c5d8[_0x5d6c8b(0x8ea)]=_0x5d6c8b(0x3d0);}});}catch(_0x31afae){console[_0x53a701(0x76b)](_0x53a701(0x471),_0x31afae),showMessage(_0x53a701(0xa23));}}async function handleSaveProjectName(){const _0x3c6afd=_0x4a882c,_0xfa83bc=document[_0x3c6afd(0x81d)]('project-title'),_0x5174aa=document[_0x3c6afd(0x81d)](_0x3c6afd(0xcd3)),_0x29205a=_0xfa83bc[_0x3c6afd(0xca8)][_0x3c6afd(0x5f6)]();if(!_0x29205a||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0xfa83bc[_0x3c6afd(0xca8)]=currentProjectData[_0x3c6afd(0xd34)];return;}_0x5174aa[_0x3c6afd(0x396)]=!![],_0x5174aa[_0x3c6afd(0x8ea)]=_0x3c6afd(0x407);try{const _0x3d3f08=doc(db,_0x3c6afd(0x878)+appId+_0x3c6afd(0x468),currentProjectId);await updateDoc(_0x3d3f08,{'projectName':_0x29205a}),currentProjectData&&(currentProjectData['projectName']=_0x29205a),showMessage(_0x3c6afd(0x436));}catch(_0x202677){console[_0x3c6afd(0x76b)](_0x3c6afd(0xa06),_0x202677),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0xfa83bc[_0x3c6afd(0xca8)]=currentProjectData['projectName'];}finally{_0x5174aa[_0x3c6afd(0xdd2)]['add'](_0x3c6afd(0x35b)),_0x5174aa[_0x3c6afd(0x396)]=![],_0x5174aa[_0x3c6afd(0x8ea)]=_0x3c6afd(0x67c);}}function handleGeneratePracticeTest(_0x4355ef,_0x40ca52){const _0x1b5595=_0x4a882c,_0x81fcab=document[_0x1b5595(0x81d)](_0x1b5595(0x857)),_0x4f597c=document['getElementById'](_0x1b5595(0xc0a)),_0x31274f=document[_0x1b5595(0x81d)](_0x1b5595(0xa98)),_0xf485db=document['getElementById'](_0x1b5595(0x2de));_0x4f597c[_0x1b5595(0xca8)]=_0x1b5595(0x854)+_0x4355ef,_0xf485db['classList'][_0x1b5595(0x87d)](_0x1b5595(0x35b)),_0x31274f[_0x1b5595(0xdd2)]['remove'](_0x1b5595(0x35b)),_0x81fcab[_0x1b5595(0xdd2)][_0x1b5595(0x469)](_0x1b5595(0x35b)),generatePracticeTest(_0x4355ef,_0x40ca52)[_0x1b5595(0x218)](_0x5be0aa=>{const _0x4f751b=_0x1b5595;console[_0x4f751b(0x76b)](_0x4f751b(0x39e),_0x5be0aa),showMessage(_0x4f751b(0x884)),_0x81fcab[_0x4f751b(0xdd2)][_0x4f751b(0x87d)](_0x4f751b(0x35b));});}async function generatePracticeTest(_0x158461,_0x36d20f){const _0x3ff28f=_0x4a882c;[_0x3ff28f(0x925),_0x3ff28f(0xb6e),_0x3ff28f(0xb92),'summaryContent']['forEach'](_0x307f6a=>{const _0x2b6f4f=_0x3ff28f,_0x4b16af=document['getElementById'](_0x307f6a)[_0x2b6f4f(0x196)];_0x4b16af&&(_0x4b16af[_0x2b6f4f(0xe1e)][_0x2b6f4f(0x1ba)]=_0x2b6f4f(0x486));});try{const _0x15cc18=_0x3ff28f(0x69f),_0x36d607=_0x3ff28f(0x791)+_0x36d20f+_0x3ff28f(0x8a7)+_0x158461+_0x3ff28f(0x369),_0x41dc3b=await callGemini(_0x36d607,!![]),_0x3427f4=document['getElementById']('lesson-view-title'),_0x2acbcc=document[_0x3ff28f(0x81d)](_0x3ff28f(0xa98)),_0x35886a=document[_0x3ff28f(0x81d)](_0x3ff28f(0x2de)),_0x5c1114=document[_0x3ff28f(0x81d)](_0x3ff28f(0xb92))[_0x3ff28f(0x196)];_0x3427f4[_0x3ff28f(0x263)]=_0x3ff28f(0x871)+_0x158461[_0x3ff28f(0xc8d)](/•\s/g,'')+_0x3ff28f(0x58b)+_0x36d20f+')',currentApplicationData=JSON[_0x3ff28f(0x76c)](_0x41dc3b);const _0x5a6db7=document[_0x3ff28f(0x81d)](_0x3ff28f(0xb92));_0x5a6db7['innerHTML']=currentApplicationData[_0x3ff28f(0x7d8)]((_0x59bdcc,_0x18877f)=>_0x3ff28f(0x625)+(_0x18877f+0x1)+'.\x20'+marked['parseInline'](_0x59bdcc['question'])+_0x3ff28f(0x8fc)+_0x18877f+_0x3ff28f(0x54b)+_0x59bdcc['options'][_0x3ff28f(0x7d8)]((_0x4ed6ee,_0x2798e9)=>_0x3ff28f(0x4a2)+_0x18877f+',\x20'+_0x2798e9+')\x22>'+String['fromCharCode'](0x61+_0x2798e9)+'.\x20'+marked[_0x3ff28f(0xac8)](_0x4ed6ee)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3ff28f(0x343)]('')+_0x3ff28f(0xe57))['join'](''),window['MathJax']&&MathJax['typesetPromise']([_0x5a6db7]),_0x5c1114&&(_0x5c1114[_0x3ff28f(0xe1e)][_0x3ff28f(0x1ba)]=_0x3ff28f(0xb67)),_0x2acbcc[_0x3ff28f(0xdd2)][_0x3ff28f(0x87d)](_0x3ff28f(0x35b)),_0x35886a[_0x3ff28f(0xdd2)][_0x3ff28f(0x469)]('hidden');}catch(_0x1358ac){console['error'](_0x1358ac);throw _0x1358ac;}}async function callGemini(_0x206d07,_0x217524=![]){const _0x2dff4b=_0x4a882c,_0x4b0143=_0x2dff4b(0xbee),_0x465987=_0x2dff4b(0x186)+_0x4b0143,_0x5e456b={'contents':[{'parts':[{'text':_0x206d07}]}]};_0x217524&&(_0x5e456b[_0x2dff4b(0xc34)]={'responseMimeType':_0x2dff4b(0xba3)},_0x206d07[_0x2dff4b(0x90f)]('Test\x20Blueprint')?_0x5e456b[_0x2dff4b(0xc34)]['responseSchema']={'type':_0x2dff4b(0x252),'properties':{'gradeLevel':{'type':_0x2dff4b(0xcc5)},'curriculum':{'type':'ARRAY','items':{'type':_0x2dff4b(0x252),'properties':{'sara':{'type':_0x2dff4b(0xcc5)},'mainTopics':{'type':_0x2dff4b(0x1de),'items':{'type':_0x2dff4b(0x252),'properties':{'topicName':{'type':_0x2dff4b(0xcc5)},'subTopics':{'type':_0x2dff4b(0x1de),'items':{'type':_0x2dff4b(0xcc5)}}},'required':[_0x2dff4b(0xb48),_0x2dff4b(0x830)]}}},'required':[_0x2dff4b(0x1dd),_0x2dff4b(0x653)]}}},'required':[_0x2dff4b(0x691),_0x2dff4b(0xdcb)]}:_0x5e456b[_0x2dff4b(0xc34)]['responseSchema']={'type':_0x2dff4b(0x1de),'items':{'type':_0x2dff4b(0x252),'properties':{'question':{'type':_0x2dff4b(0xcc5)},'options':{'type':'ARRAY','items':{'type':_0x2dff4b(0xcc5)}},'answer':{'type':'NUMBER'}},'required':['question',_0x2dff4b(0x1b5),_0x2dff4b(0xa25)]}});try{const _0x36a079=await fetch(_0x465987,{'method':'POST','headers':{'Content-Type':_0x2dff4b(0xba3)},'body':JSON['stringify'](_0x5e456b)});if(!_0x36a079['ok']){const _0x21c06e=await _0x36a079[_0x2dff4b(0x95b)]();console[_0x2dff4b(0x76b)]('API\x20Error\x20Body:',_0x21c06e);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x36a079[_0x2dff4b(0x589)]);}const _0x299969=await _0x36a079[_0x2dff4b(0x348)]();if(_0x299969['candidates']&&_0x299969['candidates'][0x0][_0x2dff4b(0x305)]&&_0x299969['candidates'][0x0][_0x2dff4b(0x305)][_0x2dff4b(0xbc1)][0x0])return _0x299969[_0x2dff4b(0x775)][0x0]['content']['parts'][0x0]['text'];else{console[_0x2dff4b(0x76b)](_0x2dff4b(0xb1e),_0x299969);if(_0x299969['candidates']&&_0x299969[_0x2dff4b(0x775)][0x0][_0x2dff4b(0xd41)]===_0x2dff4b(0xa67))return JSON[_0x2dff4b(0xe01)]({'error':_0x2dff4b(0x4c3)});throw new Error(_0x2dff4b(0x42f));}}catch(_0x2a31d4){console[_0x2dff4b(0x76b)](_0x2dff4b(0xc64),_0x2a31d4);throw _0x2a31d4;}}async function generateLesson(_0x42d5c2=null,_0x296e33=null){const _0x174afe=_0x4a882c,_0x35ce71=_0x42d5c2,_0x1d12b6=_0x296e33||_0x174afe(0xcfc),_0x4e9f06=document['getElementById'](_0x174afe(0xa98)),_0x591e57=document['getElementById'](_0x174afe(0x4c4));_0x591e57['textContent']=_0x174afe(0x983)+_0x35ce71+'\x22...';try{let _0x196f05=[];const _0x20f13a=document[_0x174afe(0x81d)](_0x174afe(0x240))?.['value'][_0x174afe(0x5f6)]();if(_0x20f13a)try{_0x591e57[_0x174afe(0xca8)]=_0x174afe(0xc00);const _0xf5cdd5=await fetchFileFromUrl(_0x20f13a,_0x174afe(0x33b)),_0x19bf29=await new Promise((_0x4c73c8,_0xd1f5e6)=>{const _0x3e32a0=_0x174afe,_0x278393=new FileReader();_0x278393[_0x3e32a0(0x5f3)](_0xf5cdd5),_0x278393[_0x3e32a0(0x817)]=()=>_0x4c73c8(_0x278393[_0x3e32a0(0xe83)]['split'](',')[0x1]),_0x278393['onerror']=_0xd1f5e6;});_0x196f05[_0x174afe(0xb97)]({'inlineData':{'mimeType':_0xf5cdd5[_0x174afe(0x451)],'data':_0x19bf29}});}catch(_0x3c3288){console[_0x174afe(0x76b)](_0x174afe(0x7cd),_0x3c3288),showMessage(_0x174afe(0x24d));}const _0x5a4fec=_0x174afe(0x21d)+_0x35ce71+_0x174afe(0x601)+_0x35ce71+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x591e57[_0x174afe(0xca8)]=_0x174afe(0x983)+_0x35ce71+'\x22...';const _0x36af8d=_0x174afe(0xa78)+_0x1d12b6+_0x174afe(0x8a7)+_0x35ce71+_0x174afe(0x38d)+_0x5a4fec+_0x174afe(0x9a9),_0x41f0a1='สำหรับหัวข้อ\x20\x27'+_0x35ce71+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x1d12b6+_0x174afe(0x32c)+_0x5a4fec+_0x174afe(0x696),_0x352ae8=_0x174afe(0x791)+_0x1d12b6+'\x27\x20ในหัวข้อ\x20\x27'+_0x35ce71+_0x174afe(0x48c)+_0x5a4fec+_0x174afe(0x848),_0x2fc293='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x35ce71+_0x174afe(0x1d9)+_0x1d12b6+_0x174afe(0xd8d)+_0x5a4fec+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x3c229b={'type':'ARRAY','items':{'type':_0x174afe(0x252),'properties':{'question':{'type':_0x174afe(0xcc5)},'options':{'type':_0x174afe(0x1de),'items':{'type':_0x174afe(0xcc5)}},'answer':{'type':'NUMBER'}},'required':['question',_0x174afe(0x1b5),'answer']}},[_0x304efb,_0x2ccf36,_0x2bdc1c,_0x1adcf9]=await Promise[_0x174afe(0xde1)]([handleApiCall([{'text':_0x36af8d},..._0x196f05],_0x174afe(0xd87),null,null,![]),handleApiCall([{'text':_0x41f0a1},..._0x196f05],'...',null,null,![]),handleApiCall([{'text':_0x352ae8},..._0x196f05],'...',_0x3c229b,null,![]),handleApiCall([{'text':_0x2fc293},..._0x196f05],'...',null,null,![])]),_0x3000f7=JSON[_0x174afe(0xe01)](_0x2bdc1c||[]),_0x2f5ccb=document['getElementById'](_0x174afe(0xc0a)),_0x1e9383=document[_0x174afe(0x81d)](_0x174afe(0x2de));_0x2f5ccb[_0x174afe(0x263)]=_0x174afe(0xdfd)+_0x35ce71[_0x174afe(0xc8d)](/•\\s/g,'')+_0x174afe(0x58b)+_0x1d12b6+')',[_0x174afe(0x925),_0x174afe(0xb6e),_0x174afe(0x5ac)]['forEach'](_0x8e7b2=>{const _0x2c7e57=_0x174afe;document[_0x2c7e57(0x81d)](_0x8e7b2)['innerHTML']='';}),document[_0x174afe(0x81d)](_0x174afe(0x925))[_0x174afe(0x8ea)]=_0x304efb?marked[_0x174afe(0x76c)](_0x304efb):_0x174afe(0xdb3),document[_0x174afe(0x81d)](_0x174afe(0xb6e))['innerHTML']=_0x2ccf36?marked['parse'](_0x2ccf36):_0x174afe(0xdb3),document[_0x174afe(0x81d)](_0x174afe(0x5ac))[_0x174afe(0x8ea)]=_0x1adcf9?marked[_0x174afe(0x76c)](_0x1adcf9):_0x174afe(0xdb3),currentApplicationData=JSON['parse'](_0x3000f7);const _0x45eb5f=document[_0x174afe(0x81d)]('applicationContent');_0x45eb5f[_0x174afe(0x8ea)]=(currentApplicationData||[])[_0x174afe(0x7d8)]((_0x3004d8,_0x295c8e)=>_0x174afe(0x625)+(_0x295c8e+0x1)+'.\x20'+marked['parseInline'](_0x3004d8['question']||'')+_0x174afe(0x8fc)+_0x295c8e+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3004d8[_0x174afe(0x1b5)]||[])[_0x174afe(0x7d8)]((_0x2cdebe,_0x51bc01)=>_0x174afe(0x4a2)+_0x295c8e+',\x20'+_0x51bc01+_0x174afe(0xd48)+String[_0x174afe(0x221)](0x61+_0x51bc01)+'.\x20'+marked[_0x174afe(0xac8)](_0x2cdebe||'')+_0x174afe(0x8f0))[_0x174afe(0x343)]('')+_0x174afe(0xe57))[_0x174afe(0x343)]('')||_0x174afe(0x672),window['MathJax']&&MathJax[_0x174afe(0x434)]([_0x1e9383]),_0x4e9f06[_0x174afe(0xdd2)][_0x174afe(0x87d)](_0x174afe(0x35b)),_0x1e9383[_0x174afe(0xdd2)][_0x174afe(0x469)](_0x174afe(0x35b));}catch(_0x32cf5a){console[_0x174afe(0x76b)](_0x32cf5a);throw _0x32cf5a;}}function checkAnswer(_0x3a0192,_0x4257fa){const _0xbe0aed=_0x4a882c,_0x21c575=currentApplicationData[_0x3a0192],_0x261d7f=document[_0xbe0aed(0x81d)]('q'+_0x3a0192+_0xbe0aed(0x98a)),_0x4e04ca=_0x261d7f[_0xbe0aed(0x472)](_0xbe0aed(0xcc8));for(let _0x266329 of _0x4e04ca){_0x266329[_0xbe0aed(0x396)]=!![];}_0x4257fa===_0x21c575[_0xbe0aed(0xa25)]?_0x4e04ca[_0x4257fa][_0xbe0aed(0xdd2)]['add'](_0xbe0aed(0xc77)):(_0x4e04ca[_0x4257fa]['classList']['add'](_0xbe0aed(0x394)),_0x4e04ca[_0x21c575['answer']][_0xbe0aed(0xdd2)][_0xbe0aed(0x87d)]('correct'));}window[_0x4a882c(0x51e)]=handleGenerateAndShowLesson,window[_0x4a882c(0x75d)]=checkAnswer,window[_0x4a882c(0x9f4)]=handleGeneratePracticeTest,window[_0x4a882c(0xe8e)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x1bf760=_0x4a882c;try{const _0x299f16=initializeApp(firebaseConfig);db=getFirestore(_0x299f16),auth=getAuth(_0x299f16),setupAuthListener(),setupEventListeners(),showView(_0x1bf760(0x711)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x557c7d){console[_0x1bf760(0x76b)](_0x1bf760(0x51d),_0x557c7d),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x186072=_0x4a882c,_0x4887f6=document[_0x186072(0x81d)]('quiz-editor-modal');if(!_0x4887f6)return;const _0x4aed11=document[_0x186072(0x81d)]('verify-answers-editor-btn');_0x4aed11[_0x186072(0x396)]=!![],_0x4aed11[_0x186072(0x8ea)]=_0x186072(0x7fc);try{const _0x54cb7f=_0x4887f6['querySelectorAll'](_0x186072(0x3c3)),_0x13a063=Array[_0x186072(0xab3)](_0x54cb7f)[_0x186072(0x7d8)]((_0x5eaa9c,_0x2f4494)=>{const _0x3ef593=_0x186072,_0x9edd6e=_0x5eaa9c[_0x3ef593(0x33e)][_0x3ef593(0xd12)],_0x1ef03c=_0x5eaa9c[_0x3ef593(0x869)](_0x3ef593(0xbf1))[_0x3ef593(0x710)];let _0x48045d=null,_0x56b80f='';switch(_0x9edd6e){case _0x3ef593(0xca9):const _0x44b87b=_0x5eaa9c[_0x3ef593(0xbec)](_0x3ef593(0xa34));_0x48045d=Array['from'](_0x44b87b)[_0x3ef593(0x7d8)](_0x2ce6b7=>_0x2ce6b7['value']);const _0x1e416c=_0x5eaa9c[_0x3ef593(0x869)](_0x3ef593(0x4aa));_0x1e416c&&(_0x56b80f=_0x48045d[parseInt(_0x1e416c[_0x3ef593(0x710)])]);break;case _0x3ef593(0x2bb):_0x48045d=[],_0x56b80f=_0x5eaa9c[_0x3ef593(0x869)]('.ideal-answer-input')[_0x3ef593(0x710)];break;case _0x3ef593(0x559):_0x48045d=['true',_0x3ef593(0x187)];const _0x2ccb95=_0x5eaa9c[_0x3ef593(0x869)](_0x3ef593(0x4aa));_0x56b80f=_0x2ccb95?_0x2ccb95[_0x3ef593(0x710)]:'';break;case'matching_item':_0x48045d=[],_0x56b80f=_0x5eaa9c[_0x3ef593(0x869)](_0x3ef593(0x5fa))[_0x3ef593(0x710)];break;}return{'question':_0x1ef03c,'options':_0x48045d,'proposedAnswer':_0x56b80f};}),_0x4b2608=_0x186072(0x4fd)+JSON[_0x186072(0xe01)](_0x13a063)+_0x186072(0x254),_0xefe070={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x186072(0xd79)},'isCorrect':{'type':_0x186072(0xac5)},'justification':{'type':_0x186072(0xcc5)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x186072(0xcc5)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x186072(0x1de),'items':{'type':_0x186072(0xcc5)}},'newCorrectIndex':{'type':_0x186072(0xd79)}}}},'required':['questionIndex','isCorrect',_0x186072(0x4b8)]}},_0x16b954=await callAnalysisApi(_0x4b2608,{'type':'OBJECT','properties':{'result':_0xefe070},'required':[_0x186072(0xe83)]});displayVerificationResultsInEditor(_0x16b954[_0x186072(0xe83)]);}catch(_0x2a55ae){console['error'](_0x186072(0x9e7),_0x2a55ae),showMessage(_0x186072(0x911));}finally{_0x4aed11['disabled']=![],_0x4aed11[_0x186072(0x8ea)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0xf7768e){const _0x1434df=_0x4a882c;_0xf7768e[_0x1434df(0xdc3)](_0x140aeb=>{const _0x50ec12=_0x1434df,_0x5a168b=document[_0x50ec12(0x869)]('.question-editor-item[data-q-index=\x22'+_0x140aeb[_0x50ec12(0x63d)]+'\x22]');if(!_0x5a168b)return;const _0x45b99f=_0x5a168b['querySelector'](_0x50ec12(0xd67));if(_0x45b99f)_0x45b99f[_0x50ec12(0x469)]();let _0x1c8523='';if(_0x140aeb[_0x50ec12(0x99d)]&&_0x140aeb[_0x50ec12(0x99d)]['newOptions']){const _0x758577=_0x140aeb[_0x50ec12(0x99d)][_0x50ec12(0x8e8)],_0x2da5ba=_0x140aeb[_0x50ec12(0x99d)][_0x50ec12(0xb85)],_0x417aac=_0x5a168b[_0x50ec12(0x33e)][_0x50ec12(0xd12)];if(_0x417aac===_0x50ec12(0xca9)){const _0x23ec40=_0x5a168b['querySelectorAll'](_0x50ec12(0xa34));_0x23ec40['forEach']((_0x1aed7d,_0x4830b0)=>{const _0x2810f4=_0x50ec12;_0x758577[_0x4830b0]?_0x1aed7d[_0x2810f4(0x710)]=_0x758577[_0x4830b0]:_0x1aed7d['value']=_0x2810f4(0x994);});const _0x2212dd=_0x5a168b['querySelector'](_0x50ec12(0x747)+_0x2da5ba+'\x22]');_0x2212dd&&(_0x2212dd[_0x50ec12(0x600)]=!![]),_0x1c8523=_0x50ec12(0xdbc),_0x5a168b[_0x50ec12(0xdd2)]['add']('bg-yellow-200',_0x50ec12(0x6e0),'duration-300'),setTimeout(()=>{const _0xbdb082=_0x50ec12;_0x5a168b[_0xbdb082(0xdd2)]['remove'](_0xbdb082(0x594));},0x9c4);}}else{if(!_0x140aeb[_0x50ec12(0x565)]&&_0x140aeb[_0x50ec12(0xd5a)]){const _0x598f43=_0x140aeb[_0x50ec12(0xd5a)]?_0x50ec12(0x2b1):'';_0x1c8523=_0x50ec12(0x260)+_0x598f43+_0x50ec12(0x654)+_0x140aeb[_0x50ec12(0x4b8)]+_0x50ec12(0xcf9)+(_0x140aeb[_0x50ec12(0xd5a)]?_0x50ec12(0xb4a)+_0x140aeb[_0x50ec12(0xd5a)]+_0x50ec12(0x9e5):'')+_0x50ec12(0x89c);const _0x140fbe=_0x5a168b[_0x50ec12(0x33e)][_0x50ec12(0xd12)],_0x5bdc1b=_0x3f0492=>{const _0x3f4d14=_0x50ec12;if(!_0x3f0492)return;_0x3f0492['classList']['add'](_0x3f4d14(0x417),_0x3f4d14(0x6e0),_0x3f4d14(0x4f4)),setTimeout(()=>{const _0x299c79=_0x3f4d14;_0x3f0492[_0x299c79(0xdd2)][_0x299c79(0x469)](_0x299c79(0x417));},0x9c4);};if(_0x140fbe==='multiple_choice'){const _0x2e81d5=Array[_0x50ec12(0xab3)](_0x5a168b[_0x50ec12(0xbec)]('input[type=\x22text\x22]')),_0x243a01=_0x2e81d5[_0x50ec12(0x9f6)](_0x1d78e5=>_0x1d78e5[_0x50ec12(0x710)]['trim']()[_0x50ec12(0x95d)]()===_0x140aeb[_0x50ec12(0xd5a)]['trim']()[_0x50ec12(0x95d)]());if(_0x243a01!==-0x1){const _0x4abf97=_0x5a168b[_0x50ec12(0x869)](_0x50ec12(0x747)+_0x243a01+'\x22]');_0x4abf97&&(_0x4abf97[_0x50ec12(0x600)]=!![],_0x5bdc1b(_0x4abf97[_0x50ec12(0x9d0)](_0x50ec12(0x3fa))));}}else{if(_0x140fbe===_0x50ec12(0x2bb)||_0x140fbe===_0x50ec12(0x7d3)){const _0x3fc90b=_0x5a168b[_0x50ec12(0x869)](_0x50ec12(0x6c0));_0x3fc90b&&(_0x3fc90b[_0x50ec12(0x710)]=_0x140aeb[_0x50ec12(0xd5a)],_0x5bdc1b(_0x3fc90b));}else{if(_0x140fbe==='true_false'){const _0x496871=_0x140aeb[_0x50ec12(0xd5a)]['trim']()['toLowerCase'](),_0x27048c=_0x5a168b[_0x50ec12(0x869)](_0x50ec12(0x747)+_0x496871+'\x22]');_0x27048c&&(_0x27048c[_0x50ec12(0x600)]=!![],_0x5bdc1b(_0x27048c[_0x50ec12(0x9d0)](_0x50ec12(0x3fa))));}}}}else _0x140aeb[_0x50ec12(0x565)]&&(_0x1c8523=_0x50ec12(0xe8a));}_0x5a168b[_0x50ec12(0x91f)](_0x50ec12(0x6c4),_0x1c8523);}),showMessage(_0x1434df(0x882));}async function handleVerifyAnswers(){const _0x52867e=_0x4a882c;if(!currentQuizData||!currentQuizData[_0x52867e(0x277)]){showMessage(_0x52867e(0x90b));return;}const _0x25063c=document[_0x52867e(0x81d)](_0x52867e(0x59b));_0x25063c['disabled']=!![],_0x25063c['innerHTML']=_0x52867e(0x7fc);try{const _0x45bee8=currentQuizData['questions'][_0x52867e(0x7d8)]((_0x13c14,_0x318289)=>{const _0x3fe3ef=_0x52867e;let _0x2162b3='';const _0x2390bd=_0x13c14[_0x3fe3ef(0x211)]||currentQuizData[_0x3fe3ef(0xa6b)];switch(_0x2390bd){case _0x3fe3ef(0xca9):_0x2162b3=_0x13c14[_0x3fe3ef(0x1b5)][_0x13c14[_0x3fe3ef(0x1dc)]];break;case _0x3fe3ef(0x2bb):_0x2162b3=_0x13c14[_0x3fe3ef(0x6ef)];break;case'true_false':_0x2162b3=_0x13c14['correctAnswer']['toString']();break;case _0x3fe3ef(0x7d3):_0x2162b3=_0x13c14[_0x3fe3ef(0x6b7)];break;}return{'question':_0x13c14[_0x3fe3ef(0x592)]||_0x13c14[_0x3fe3ef(0x2c5)],'options':_0x13c14[_0x3fe3ef(0x1b5)]||null,'proposedAnswer':_0x2162b3};}),_0x48874f=_0x52867e(0x4e4)+JSON[_0x52867e(0xe01)](_0x45bee8)+_0x52867e(0xbc7),_0x19395e={'type':_0x52867e(0x1de),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x52867e(0xd79)},'isCorrect':{'type':_0x52867e(0xac5)},'justification':{'type':_0x52867e(0xcc5)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x52867e(0x63d),'isCorrect','justification']}},_0xfe613c=await callAnalysisApi(_0x48874f,{'type':'OBJECT','properties':{'result':_0x19395e},'required':[_0x52867e(0xe83)]});displayVerificationResults(_0xfe613c['result']);}catch(_0xd097e0){console[_0x52867e(0x76b)](_0x52867e(0x985),_0xd097e0),showMessage(_0x52867e(0x911));}finally{_0x25063c[_0x52867e(0x396)]=![],_0x25063c[_0x52867e(0x8ea)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x4f56ca){const _0x4aef4a=_0x4a882c;_0x4f56ca['forEach'](_0x215e89=>{const _0x2834d2=_0x2fbb,_0x359028=document['querySelector'](_0x2834d2(0x19f)+_0x215e89['questionIndex']+'\x22]');if(_0x359028){const _0x576247=_0x359028[_0x2834d2(0x869)](_0x2834d2(0x97b));if(_0x576247)_0x576247[_0x2834d2(0x469)]();let _0x35fd99='';_0x215e89['isCorrect']?_0x35fd99=_0x2834d2(0x2e6):_0x35fd99=_0x2834d2(0x1a3)+_0x215e89['justification']+_0x2834d2(0x521)+(_0x215e89['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x215e89['suggestedAnswer']+_0x2834d2(0x9e5):'')+_0x2834d2(0x31b),_0x359028['insertAdjacentHTML'](_0x2834d2(0x6c4),_0x35fd99);}}),showMessage(_0x4aef4a(0x882));}function compareNumericalAnswers(_0x3ebadd,_0x283994){const _0x2c448e=_0x4a882c,_0x4c6a88=String(_0x3ebadd)[_0x2c448e(0xc8d)](',','.')['replace'](/[^\d.-]/g,'')[_0x2c448e(0x5f6)](),_0x35335c=String(_0x283994)[_0x2c448e(0xc8d)](',','.')['replace'](/[^\d.-]/g,'')[_0x2c448e(0x5f6)]();if(_0x4c6a88===''||_0x35335c==='')return![];const _0x172b93=parseFloat(_0x4c6a88),_0x11d441=parseFloat(_0x35335c);if(isNaN(_0x172b93)||isNaN(_0x11d441))return![];return Math['abs'](_0x172b93-_0x11d441)<0.001;}function isPotentiallyNumeric(_0x2967ea){const _0x1895da=_0x4a882c;if(typeof _0x2967ea!=='string'&&typeof _0x2967ea!==_0x1895da(0x483))return![];const _0x5ee68f=String(_0x2967ea)[_0x1895da(0xc8d)](',','.')[_0x1895da(0x5f6)]();return _0x5ee68f!==''&&!isNaN(parseFloat(_0x5ee68f))&&isFinite(_0x5ee68f);}async function gradeShortAnswer(_0x4957a3,_0x4d5984){const _0x59c38e=_0x4a882c,_0x4f93a5=_0x4d5984[_0x59c38e(0x6ef)],_0x563a06=String(_0x4957a3)[_0x59c38e(0xc8d)](/\$/g,'')[_0x59c38e(0x5f6)](),_0x52f484=String(_0x4f93a5)[_0x59c38e(0xc8d)](/\$/g,'')[_0x59c38e(0x5f6)]();if(_0x563a06[_0x59c38e(0x95d)]()===_0x52f484[_0x59c38e(0x95d)]())return!![];if(isPotentiallyNumeric(_0x563a06)&&isPotentiallyNumeric(_0x52f484)){if(compareNumericalAnswers(_0x563a06,_0x52f484))return!![];}return console['log'](_0x59c38e(0x1ec)),await gradeShortAnswerWithAI(_0x4957a3,_0x4f93a5);}async function revealAnswerForAdmin(_0x2f6b34,_0x239569){const _0x5abe62=_0x4a882c,_0x5abdb0=doc(db,_0x5abe62(0x878)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5abdb0,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x37b0b0){const _0x180599=_0x4a882c,_0x3263f6=Object[_0x180599(0x1f9)](_0x37b0b0['players']||{})[_0x180599(0x3d8)](_0x4663ea=>_0x4663ea[_0x180599(0x589)]===_0x180599(0x3fc));_0x3263f6[_0x180599(0x6c8)]((_0x2d7600,_0x129b92)=>_0x129b92[_0x180599(0x64f)]-_0x2d7600[_0x180599(0x64f)]);const _0x57393b=_0x3263f6[_0x180599(0x1a7)](0x0,0x5),_0x45582d=_0x180599(0xcd2)+_0x57393b['map']((_0x3892e1,_0x34a54f)=>_0x180599(0xc1b)+(_0x34a54f+0x1)+'.\x20'+(_0x3892e1[_0x180599(0x523)]||Object[_0x180599(0x2cf)](_0x37b0b0[_0x180599(0x774)])[_0x180599(0xa74)](_0x3de071=>_0x37b0b0['players'][_0x3de071]===_0x3892e1))+_0x180599(0x1df)+_0x3892e1['score']+_0x180599(0x297))[_0x180599(0x343)]('')+_0x180599(0x4fa)+(_0x37b0b0[_0x180599(0x810)]+0x1===currentQuizData[_0x180599(0x277)][_0x180599(0xa96)]?_0x180599(0x4d8):_0x180599(0x61d))+_0x180599(0x6ae);liveGameView[_0x180599(0x8ea)]=_0x45582d,document['getElementById'](_0x180599(0x580))['addEventListener']('click',async()=>{const _0x1c77fe=_0x180599,_0x275b92=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x57c229=_0x37b0b0[_0x1c77fe(0x810)]+0x1;if(_0x57c229<currentQuizData[_0x1c77fe(0x277)][_0x1c77fe(0xa96)]){const _0x105175={'currentQuestionIndex':_0x57c229,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x1c77fe(0x2cf)](_0x37b0b0[_0x1c77fe(0x774)])['forEach'](_0x2ebdf8=>{const _0xd7e8ce=_0x1c77fe;_0x105175[_0xd7e8ce(0x9ac)+_0x2ebdf8+_0xd7e8ce(0xcef)]=![];}),await updateDoc(_0x275b92,_0x105175);}else await updateDoc(_0x275b92,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x12feb7=>{const _0x355d4b=_0x2fbb;if(_0x12feb7){userId=_0x12feb7[_0x355d4b(0x8a3)],userIdDisplay['textContent']=userId;const _0x311c97=await loadUserPreferences();_0x311c97['projectSortOrder']&&(document[_0x355d4b(0x81d)](_0x355d4b(0xd7d))[_0x355d4b(0x710)]=_0x311c97[_0x355d4b(0x161)]);globalDashboardSettings[_0x355d4b(0xb86)]=_0x311c97['projectView']||_0x355d4b(0xb57);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x3e654e,_0x25df81){const _0x4031d7=_0x4a882c;if(!userId)return;try{const _0x42291b=doc(db,_0x4031d7(0x878)+appId+_0x4031d7(0x30d)+userId+_0x4031d7(0xc5d)),_0xaaa207={};_0xaaa207[_0x3e654e]=_0x25df81,await setDoc(_0x42291b,_0xaaa207,{'merge':!![]});}catch(_0x1e76f9){console[_0x4031d7(0x76b)](_0x4031d7(0xa54),_0x1e76f9);}}async function loadUserPreferences(){const _0x18bb09=_0x4a882c;if(!userId)return{};try{const _0x32ebf3=doc(db,_0x18bb09(0x878)+appId+_0x18bb09(0x30d)+userId+_0x18bb09(0xc5d)),_0x388bbb=await getDoc(_0x32ebf3);if(_0x388bbb[_0x18bb09(0xb52)]())return _0x388bbb['data']();return{};}catch(_0x49b30e){return console[_0x18bb09(0x76b)](_0x18bb09(0x36a),_0x49b30e),{};}}function parseIndentedBlueprint(_0x5e4da2){const _0x4928e6=_0x4a882c,_0x58a4fe=_0x5e4da2[_0x4928e6(0x9b4)]('\x0a')['filter'](_0xbc282b=>_0xbc282b[_0x4928e6(0x5f6)]()!==''),_0x267e50=[];let _0x5a1f72=null,_0x467080=null;return _0x58a4fe[_0x4928e6(0xdc3)](_0xd73dc8=>{const _0x116558=_0x4928e6,_0x46a717=_0xd73dc8[_0x116558(0xcb7)](/^\s*/)[0x0][_0x116558(0xa96)],_0xba17f=_0xd73dc8[_0x116558(0x5f6)]();if(_0x46a717===0x0)_0x5a1f72={'sara':_0xba17f,'mainTopics':[]},_0x267e50[_0x116558(0xb97)](_0x5a1f72),_0x467080=null;else{if(_0x46a717>0x0&&_0x46a717<0x8&&_0x5a1f72)_0x467080={'topicName':_0xba17f,'subTopics':[]},_0x5a1f72[_0x116558(0x653)][_0x116558(0xb97)](_0x467080);else _0x46a717>=0x8&&_0x467080&&_0x467080[_0x116558(0x830)][_0x116558(0xb97)](_0xba17f);}}),{'curriculum':_0x267e50};}async function handleManualBlueprintSave(){const _0x278fcd=_0x4a882c,_0x5f5d0c=document[_0x278fcd(0x81d)](_0x278fcd(0xc23))[_0x278fcd(0x710)][_0x278fcd(0x5f6)](),_0x1b3cd0=document[_0x278fcd(0x81d)](_0x278fcd(0x236))[_0x278fcd(0x710)]['trim'](),_0x53e0f5=document[_0x278fcd(0x81d)](_0x278fcd(0xab6))[_0x278fcd(0x710)];if(!_0x5f5d0c||!_0x1b3cd0||!_0x53e0f5){showMessage(_0x278fcd(0x287));return;}const _0x5890e3=parseIndentedBlueprint(_0x53e0f5);if(!_0x5890e3[_0x278fcd(0xdcb)]||_0x5890e3[_0x278fcd(0xdcb)][_0x278fcd(0xa96)]===0x0){showMessage(_0x278fcd(0x17f));return;}const _0x4bc2d0={};let _0x376a89=0x0;_0x5890e3[_0x278fcd(0xdcb)][_0x278fcd(0xdc3)](_0x42ada4=>{const _0x4bea2f=_0x278fcd;_0x42ada4[_0x4bea2f(0x653)][_0x4bea2f(0xdc3)](_0x247fa4=>{const _0x110215=_0x4bea2f;_0x247fa4['subTopics'][_0x110215(0xdc3)](_0x1172f1=>{const _0x50e467=_0x110215,_0x359e39=_0x50e467(0xa3f)+Date['now']()+Math[_0x50e467(0x8c4)]()['toString'](0x24)[_0x50e467(0xc70)](0x2,0x9);_0x4bc2d0[_0x359e39]={'sara':_0x42ada4[_0x50e467(0x1dd)],'mainTopic':_0x247fa4[_0x50e467(0xb48)],'subTopic':_0x1172f1,'status':_0x50e467(0x965),'lessonContent':null,'order':_0x376a89++};});});});try{const _0x270126=collection(db,_0x278fcd(0x878)+appId+_0x278fcd(0x7a4));await addDoc(_0x270126,{'projectName':_0x5f5d0c,'gradeLevel':_0x1b3cd0,'topics':_0x4bc2d0,'createdAt':serverTimestamp()}),showMessage(_0x278fcd(0xe84)+_0x5f5d0c+'\x22\x20สำเร็จ!'),document[_0x278fcd(0x81d)](_0x278fcd(0x6c1))[_0x278fcd(0xdd2)][_0x278fcd(0x87d)](_0x278fcd(0x35b));}catch(_0x19e774){console[_0x278fcd(0x76b)](_0x278fcd(0x304),_0x19e774),showMessage(_0x278fcd(0xb2c));}}function handleClearAllLinksForTopic(_0x5f4773){const _0x3caa19=_0x4a882c;showConfirmation(_0x3caa19(0xb5c),async()=>{const _0x43b1e7=_0x3caa19;try{const _0x2572dd=doc(db,'artifacts/'+appId+_0x43b1e7(0x7a4),currentBlueprintProjectId);await updateDoc(_0x2572dd,{['topics.'+_0x5f4773+_0x43b1e7(0x9f0)]:[]}),showMessage(_0x43b1e7(0x76d)),openTopicQuizBank(_0x5f4773),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x505615){console['error'](_0x43b1e7(0xc95),_0x505615),showMessage(_0x43b1e7(0x6ac));}});}function showPodiumView(_0x1a21d3,_0x5dd8a2=_0x4a882c(0xb4b),_0x4b2149=null){const _0x592bf6=_0x4a882c,_0xf42c7f=_0x4b2149?.[_0x592bf6(0xc71)]===!![],_0x5ba086=Object['entries'](_0x1a21d3)['map'](([_0x5738e8,_0x5cd051])=>({'name':_0x5738e8,'realScore':_0x5cd051[_0x592bf6(0xa48)]||0x0,'totalPoints':_0x5cd051[_0x592bf6(0x504)]||0x0,'badges':_0x5cd051[_0x592bf6(0x7bf)]||[],'hasPerfectScoreBonus':_0x5cd051[_0x592bf6(0xd81)]||![]}));_0x5ba086[_0x592bf6(0x6c8)]((_0x4b8307,_0x597a2d)=>{const _0x28f97f=_0x592bf6;if(_0xf42c7f){const _0x470ab2=_0x597a2d[_0x28f97f(0xa48)]-_0x4b8307[_0x28f97f(0xa48)];if(_0x470ab2!==0x0)return _0x470ab2;const _0x5bf0de=_0x597a2d[_0x28f97f(0x504)]-_0x4b8307[_0x28f97f(0x504)];if(_0x5bf0de!==0x0)return _0x5bf0de;return _0x4b8307[_0x28f97f(0x523)][_0x28f97f(0xddd)](_0x597a2d[_0x28f97f(0x523)],'th');}else{const _0x2a9983=_0x597a2d[_0x28f97f(0x504)]-_0x4b8307[_0x28f97f(0x504)];if(_0x2a9983!==0x0)return _0x2a9983;return _0x597a2d['realScore']-_0x4b8307['realScore'];}});const _0x110189=_0xa9b680=>{const _0x4d0b8e=_0x592bf6;if(!_0xa9b680||_0xa9b680[_0x4d0b8e(0xa96)]===0x0)return'';const _0x3d8963={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x4d0b8e(0x333)+_0xa9b680[_0x4d0b8e(0x7d8)](_0x1bd51b=>_0x3d8963[_0x1bd51b]||'')[_0x4d0b8e(0x343)]('')+_0x4d0b8e(0xbbf);},_0x121f31=_0x5b7aa2=>{const _0x233e8e=_0x592bf6,_0x45088a=_0x5b7aa2[_0x233e8e(0xd81)]?_0x233e8e(0x80c):'';if(_0xf42c7f){const _0x249086=_0x5b7aa2[_0x233e8e(0x504)]>=0x0?'(+'+_0x5b7aa2[_0x233e8e(0x504)]+')':'('+_0x5b7aa2[_0x233e8e(0x504)]+')';return'<p\x20class=\x22text-xl\x22>'+_0x5b7aa2[_0x233e8e(0xa48)]+_0x233e8e(0xbfa)+_0x249086+'\x20'+_0x45088a+_0x233e8e(0x9e5);}else return _0x233e8e(0xcd7)+_0x5b7aa2[_0x233e8e(0x504)]+'\x20คะแนน\x20'+_0x45088a+'</p>';},_0x1b82df=_0x5ba086[_0x592bf6(0x1a7)](0x3),_0x57f47d=_0x1b82df[_0x592bf6(0xa96)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b82df[_0x592bf6(0x7d8)]((_0x59ec12,_0x123a8a)=>{const _0x155879=_0x592bf6;return _0x155879(0xa1b)+(_0x123a8a+0x4)+_0x155879(0xb50)+_0x59ec12[_0x155879(0x523)]+_0x155879(0xaca)+_0x121f31(_0x59ec12)+_0x155879(0xb44);})[_0x592bf6(0x343)]('')+_0x592bf6(0xb18):'',_0x2fbd17=_0x592bf6(0x20a)+(_0x5ba086[0x1]?_0x592bf6(0x2ce)+_0x5ba086[0x1]['name']+_0x592bf6(0x9e5)+_0x110189(_0x5ba086[0x1]['badges'])+_0x121f31(_0x5ba086[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x592bf6(0x5ed))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ba086[0x0]?_0x592bf6(0x36d)+_0x5ba086[0x0]['name']+_0x592bf6(0x9e5)+_0x110189(_0x5ba086[0x0][_0x592bf6(0x7bf)])+_0x121f31(_0x5ba086[0x0])+_0x592bf6(0x613):_0x592bf6(0x5ed))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ba086[0x2]?_0x592bf6(0x807)+_0x5ba086[0x2][_0x592bf6(0x523)]+_0x592bf6(0x9e5)+_0x110189(_0x5ba086[0x2][_0x592bf6(0x7bf)])+_0x121f31(_0x5ba086[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x592bf6(0x5ed))+_0x592bf6(0xbf0)+_0x57f47d+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x592bf6(0x3de)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x592bf6(0x3be))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x592bf6(0x8ea)]=_0x2fbd17,currentMode===_0x592bf6(0x3de)?document[_0x592bf6(0x81d)]('close-game-final-btn')[_0x592bf6(0x843)](_0x592bf6(0x864),async()=>{const _0x19b6db=_0x592bf6;let _0x47d2da;_0x5dd8a2==='sync'?_0x47d2da=doc(db,_0x19b6db(0x878)+appId+_0x19b6db(0x4f6),currentLiveGameId):_0x47d2da=doc(db,'artifacts/'+appId+_0x19b6db(0x66b),currentLiveGameId),await deleteDoc(_0x47d2da);}):document[_0x592bf6(0x81d)]('student-back-to-home-btn')?.['addEventListener'](_0x592bf6(0x864),()=>{const _0x37bf19=_0x592bf6;showView(_0x37bf19(0x711));});}function renderSyncSummaryView(_0x34809e,_0x267824,_0x4ff88e){const _0x1e37b3=_0x4a882c,_0x17f54e=_0x34809e['gameVariant']||_0x1e37b3(0xcdc),_0x497bba=_0x17f54e==='anonymous'&&_0x34809e[_0x1e37b3(0x74a)]===![],_0x6c925f=Object[_0x1e37b3(0x1f9)](_0x34809e['players']||{}),_0x154e40=_0x34809e['shuffledQuiz']['questions'],_0x4e76c4=_0x267824['questionType']||_0x34809e[_0x1e37b3(0xba9)]['quizType'];let _0x3e4310=[];_0x4e76c4===_0x1e37b3(0x559)?_0x3e4310=[_0x1e37b3(0xada),'ไม่ใช่\x20/\x20ผิด']:_0x3e4310=_0x267824[_0x1e37b3(0x1b5)]||[];const _0x2406c8=new Array(_0x3e4310['length'])['fill'](0x0),_0x25fde3={};_0x3e4310[_0x1e37b3(0xdc3)]((_0x549740,_0x305431)=>{_0x25fde3[_0x305431]=[];}),Object[_0x1e37b3(0x26d)](_0x34809e[_0x1e37b3(0x774)]||{})['forEach'](([_0x21dc45,_0x1554ea])=>{const _0x26fbe6=_0x1e37b3;if(_0x1554ea[_0x26fbe6(0x589)]!==_0x26fbe6(0xc4e)&&_0x1554ea[_0x26fbe6(0x60b)]!==undefined&&_0x1554ea[_0x26fbe6(0x60b)]!==null){const _0x302c48=_0x1554ea[_0x26fbe6(0x60b)];if(_0x25fde3[_0x302c48]!==undefined){const _0x5de0bf=_0x497bba?_0x34809e['playerNicknames'][_0x21dc45]||_0x26fbe6(0x65d):_0x21dc45;_0x25fde3[_0x302c48]['push'](_0x5de0bf),_0x2406c8[_0x302c48]++;}}});let _0x20e8f3='';const _0x4a6284=_0x34809e[_0x1e37b3(0x810)]>=_0x154e40[_0x1e37b3(0xa96)]-0x1;_0x4ff88e?_0x17f54e==='reveal_at_end'?_0x4a6284?_0x20e8f3=_0x1e37b3(0x60c):_0x20e8f3=_0x1e37b3(0x36b):_0x20e8f3=_0x1e37b3(0x84e):_0x17f54e==='reveal_at_end'?_0x20e8f3=_0x1e37b3(0x86d):_0x20e8f3=_0x1e37b3(0x856);const _0x4d8947=_0x4ff88e?_0x1e37b3(0xa0d)+_0x34809e[_0x1e37b3(0x556)]+_0x1e37b3(0xdff):'',_0x4c4384=_0x1e37b3(0xa1e)+_0x4d8947+_0x1e37b3(0x741)+_0x267824[_0x1e37b3(0x2c5)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2406c8['map']((_0xd14e4b,_0x35281d)=>{const _0xd512ab=_0x1e37b3,_0x5e32ae=_0x25fde3[_0x35281d]['length']>0x0?_0x25fde3[_0x35281d][_0xd512ab(0x343)](',\x20'):_0xd512ab(0xbce),_0x12e597=_0xd512ab(0xadb);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0xd14e4b+_0xd512ab(0x238)+_0x12e597+_0xd512ab(0x8b1)+_0x35281d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x3e4310[_0x35281d]+_0xd512ab(0xd16)+_0x35281d+_0xd512ab(0xb2e)+_0x5e32ae+_0xd512ab(0xa17);})[_0x1e37b3(0x343)]('')+_0x1e37b3(0x739)+_0x20e8f3+_0x1e37b3(0x1b0);liveGameView[_0x1e37b3(0x8ea)]=_0x4c4384;if(window['MathJax'])MathJax[_0x1e37b3(0x434)]();if(_0x4ff88e){const _0x423d02=doc(db,_0x1e37b3(0x878)+appId+_0x1e37b3(0x4f6),currentLiveGameId);document[_0x1e37b3(0x81d)](_0x1e37b3(0x603))?.[_0x1e37b3(0x843)](_0x1e37b3(0x864),async()=>{const _0x20b0f0=_0x1e37b3;await updateDoc(_0x423d02,{'status':_0x20b0f0(0x27a)});}),document[_0x1e37b3(0x81d)]('open-sync-scratchpad-btn')?.[_0x1e37b3(0x843)](_0x1e37b3(0x864),()=>{openScratchpad(_0x267824,_0x3e4310);}),document[_0x1e37b3(0x81d)](_0x1e37b3(0xd02))?.[_0x1e37b3(0x843)](_0x1e37b3(0x864),async()=>{const _0x2b68f3=_0x1e37b3,_0x4a148d=_0x34809e[_0x2b68f3(0x810)]+0x1,_0x130474={};Object[_0x2b68f3(0x2cf)](_0x34809e['players'])['forEach'](_0x29cc72=>{const _0x4567a6=_0x2b68f3;_0x130474['players.'+_0x29cc72+'.answered']=![],_0x130474[_0x4567a6(0x9ac)+_0x29cc72+_0x4567a6(0xde2)]=null;}),await updateDoc(_0x423d02,{..._0x130474,'status':_0x2b68f3(0x62f),'currentQuestionIndex':_0x4a148d,'questionDisplayedAt':serverTimestamp()});}),document[_0x1e37b3(0x81d)](_0x1e37b3(0x3e5))?.[_0x1e37b3(0x843)](_0x1e37b3(0x864),async()=>{const _0x5d1c71=_0x1e37b3;await updateDoc(_0x423d02,{'status':_0x5d1c71(0x27a),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x24a738){const _0x3a58cc=_0x4a882c,_0x2be520=_0x24a738['currentQuestionIndex']>=_0x24a738[_0x3a58cc(0xba9)]['questions'][_0x3a58cc(0xa96)]-0x1;let _0x53f77c='';if(_0x24a738[_0x3a58cc(0x74a)]===!![]){const _0x13af25=_0x24a738[_0x3a58cc(0x774)][localTeamPlayers[0x0]],_0x38dceb=_0x13af25[_0x3a58cc(0x523)],_0x2b9a03=_0x13af25['score'];_0x53f77c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>'+_0x38dceb+_0x3a58cc(0x74d)+_0x2b9a03+_0x3a58cc(0x716);}else _0x53f77c=_0x3a58cc(0xb6b)+(_0x2be520?_0x3a58cc(0x6db):_0x3a58cc(0x194))+_0x3a58cc(0x9b7);const _0x29f203=_0x3a58cc(0x761)+_0x53f77c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3a58cc(0x8ea)]=_0x29f203;}async function handleShowStudentRankings(){const _0xdc1736=_0x4a882c,_0x460f37=document[_0xdc1736(0x869)]('#student-quiz-leaderboard-content\x20thead');_0x460f37&&(_0x460f37[_0xdc1736(0x8ea)]=_0xdc1736(0x4a0));const _0x395734=document[_0xdc1736(0x869)](_0xdc1736(0x877));_0x395734&&(_0x395734[_0xdc1736(0x8ea)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x355e5a=document[_0xdc1736(0x81d)](_0xdc1736(0x5b9));_0x355e5a[_0xdc1736(0xdd2)][_0xdc1736(0x469)](_0xdc1736(0x35b)),document[_0xdc1736(0x81d)]('close-student-rankings-btn')['onclick']=()=>_0x355e5a[_0xdc1736(0xdd2)][_0xdc1736(0x87d)]('hidden');const _0x1d9da1=document[_0xdc1736(0x81d)](_0xdc1736(0x361)),_0x5ca694=document[_0xdc1736(0x81d)](_0xdc1736(0xad5)),_0x461e9a=document[_0xdc1736(0x81d)](_0xdc1736(0xdca)),_0x2b6a6f=document[_0xdc1736(0x81d)](_0xdc1736(0xc3d));_0x1d9da1[_0xdc1736(0x845)]=()=>{const _0xd0f584=_0xdc1736;_0x1d9da1[_0xd0f584(0xdd2)]['add'](_0xd0f584(0x3fc)),_0x5ca694[_0xd0f584(0xdd2)]['remove']('active'),_0x461e9a['classList']['remove'](_0xd0f584(0x35b)),_0x2b6a6f[_0xd0f584(0xdd2)]['add']('hidden');},_0x5ca694['onclick']=()=>{const _0x48c77e=_0xdc1736;_0x5ca694['classList'][_0x48c77e(0x87d)]('active'),_0x1d9da1[_0x48c77e(0xdd2)][_0x48c77e(0x469)](_0x48c77e(0x3fc)),_0x2b6a6f['classList'][_0x48c77e(0x469)]('hidden'),_0x461e9a[_0x48c77e(0xdd2)]['add']('hidden');};try{const _0x2191ad=collection(db,'artifacts/'+appId+_0xdc1736(0x491)+currentQuizData['id']+_0xdc1736(0xc06)),_0x50c56a=await getDocs(_0x2191ad),_0x17512e=_0x50c56a[_0xdc1736(0x9b1)][_0xdc1736(0x7d8)](_0x403b3b=>_0x403b3b[_0xdc1736(0xc66)]());renderQuizLeaderboard(_0x17512e,currentQuizData,'student-quiz-leaderboard-table-body');const _0x4a039a=collection(db,_0xdc1736(0x878)+appId+_0xdc1736(0x9f1)+currentQuizData['projectId']+_0xdc1736(0x6ca)),_0x523ba6=await getDocs(_0x4a039a),_0x552ad6=_0x523ba6['docs']['map'](_0x4a3769=>_0x4a3769['data']());renderLeaderboard(_0x552ad6,_0xdc1736(0xa3d));}catch(_0x9299e0){console[_0xdc1736(0x76b)](_0xdc1736(0xafd),_0x9299e0),showMessage(_0xdc1736(0x86a));}}async function handleSaveToBank(_0x28625b){const _0xccc6bc=_0x4a882c,_0xc7705f=_0x28625b[_0xccc6bc(0x2d2)],_0x185721=_0xc7705f[_0xccc6bc(0x33e)]['index'],_0x414580=currentQuizData[_0xccc6bc(0x277)][_0x185721];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x13e8f7={..._0x414580,'originalTopic':currentQuizData[_0xccc6bc(0x755)],'savedAt':serverTimestamp()},_0x504d07=collection(db,'artifacts/'+appId+_0xccc6bc(0x30d)+userId+_0xccc6bc(0x57b));await addDoc(_0x504d07,_0x13e8f7),showMessage(_0xccc6bc(0x52e)),_0xc7705f['classList']['remove'](_0xccc6bc(0x890)),_0xc7705f[_0xccc6bc(0xdd2)][_0xccc6bc(0x87d)](_0xccc6bc(0xa52)),_0xc7705f[_0xccc6bc(0x396)]=!![];}catch(_0x1976f3){console[_0xccc6bc(0x76b)](_0xccc6bc(0x932),_0x1976f3),showMessage(_0xccc6bc(0x6df));}}async function selectProjectAndGenerateBlueprintQuiz(_0x4d7d2d,_0x2a632c=null,_0x3fca62=null,_0x46f6f2=![]){const _0x557fc8=_0x4a882c;cameFromBlueprint=!![];const _0x136364=document[_0x557fc8(0x81d)](_0x557fc8(0x240))?.[_0x557fc8(0x710)]['trim']();let _0x1950a8=null;if(_0x136364){showMessage(_0x557fc8(0xc00));try{const _0x17f940=await fetchFileFromUrl(_0x136364,_0x557fc8(0x33b)),_0xbb1acc=await new Promise((_0x3db7fe,_0x2feba0)=>{const _0x57827e=_0x557fc8,_0xd821ae=new FileReader();_0xd821ae[_0x57827e(0x5f3)](_0x17f940),_0xd821ae[_0x57827e(0x817)]=()=>_0x3db7fe(_0xd821ae[_0x57827e(0xe83)][_0x57827e(0x9b4)](',')[0x1]),_0xd821ae[_0x57827e(0x308)]=_0x2feba0;});_0x1950a8=[{'inlineData':{'mimeType':_0x17f940['type'],'data':_0xbb1acc}}],messageModal[_0x557fc8(0xdd2)]['add'](_0x557fc8(0x35b));}catch(_0x5b34ec){console[_0x557fc8(0x76b)]('Could\x20not\x20fetch\x20reference\x20file:',_0x5b34ec),showMessage(_0x557fc8(0x3f3));}}const _0x129559=document[_0x557fc8(0x81d)](_0x557fc8(0x52f)),_0x28ad54=document[_0x557fc8(0x81d)]('move-quiz-project-select'),_0x4c176d=_0x129559[_0x557fc8(0x869)]('h3'),_0x3061cc=document[_0x557fc8(0x81d)](_0x557fc8(0x73f)),_0x19b063=document[_0x557fc8(0x81d)](_0x557fc8(0x663));_0x4c176d[_0x557fc8(0xca8)]=_0x557fc8(0xd6f),_0x3061cc[_0x557fc8(0xca8)]='เลือกและเริ่มสร้าง',_0x3061cc[_0x557fc8(0x396)]=!![];allProjects[_0x557fc8(0xa96)]===0x0?_0x28ad54[_0x557fc8(0x8ea)]=_0x557fc8(0x378):(_0x28ad54[_0x557fc8(0x8ea)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x557fc8(0x7d8)](_0xec87b4=>_0x557fc8(0x3f7)+_0xec87b4['id']+'\x22>'+_0xec87b4['projectName']+_0x557fc8(0xb03))[_0x557fc8(0x343)](''),_0x3061cc['disabled']=![]);_0x129559[_0x557fc8(0xdd2)][_0x557fc8(0x469)]('hidden');const _0xf8f44a=async()=>{const _0x49aeca=_0x557fc8,_0xa4100e=_0x28ad54[_0x49aeca(0x710)];if(!_0xa4100e){showMessage(_0x49aeca(0xaa2));return;}_0x129559[_0x49aeca(0xdd2)][_0x49aeca(0x87d)]('hidden'),document[_0x49aeca(0x81d)](_0x49aeca(0x8c0))[_0x49aeca(0xdd2)]['add']('hidden'),await loadProjectDetails(_0xa4100e),showView(_0x49aeca(0x777)),handleGenerateQuizFromBlueprintTopic(_0x4d7d2d,_0x2a632c,_0xa4100e,_0x3fca62,_0x46f6f2,_0x1950a8),_0x3b51cc();},_0x3b51cc=()=>{const _0x146d96=_0x557fc8;_0x4c176d[_0x146d96(0xca8)]=_0x146d96(0x5cd),_0x3061cc[_0x146d96(0xca8)]=_0x146d96(0x759),_0x3061cc[_0x146d96(0x599)](_0x146d96(0x864),_0xf8f44a),_0x19b063[_0x146d96(0x599)](_0x146d96(0x864),_0x3b51cc),_0x3061cc[_0x146d96(0x843)](_0x146d96(0x864),confirmMoveQuiz);};_0x3061cc[_0x557fc8(0x599)](_0x557fc8(0x864),confirmMoveQuiz),_0x3061cc[_0x557fc8(0x843)](_0x557fc8(0x864),_0xf8f44a),_0x19b063[_0x557fc8(0x843)](_0x557fc8(0x864),_0x3b51cc);}function listenForStarredQuizzes(){const _0x5de48f=_0x4a882c;if(!userId)return;const _0x1f1f9a=collection(db,_0x5de48f(0x878)+appId+_0x5de48f(0x527)),_0x346288=query(_0x1f1f9a,where('isStarred','==',!![]));onSnapshot(_0x346288,_0x3fb28f=>{const _0x26dde3=_0x5de48f;starredQuizzes=_0x3fb28f[_0x26dde3(0x9b1)][_0x26dde3(0x7d8)](_0x369c21=>({'id':_0x369c21['id'],..._0x369c21['data']()})),currentProjectId===_0x26dde3(0xb40)?renderQuizzes():renderProjects();},_0x3433c3=>{const _0x4f6857=_0x5de48f;console[_0x4f6857(0x76b)](_0x4f6857(0xa42),_0x3433c3);});}function listenForFileShortcuts(){const _0x503dc1=_0x4a882c,_0x4cfcba=doc(db,'globalSettings',_0x503dc1(0x47c));onSnapshot(_0x4cfcba,_0xe47cb1=>{const _0x26a955=_0x503dc1;let _0x330b2f=[],_0x4f309c=[],_0x51013e={};if(_0xe47cb1[_0x26a955(0xb52)]()){const _0x405c83=_0xe47cb1['data']();_0x330b2f=_0x405c83[_0x26a955(0x54a)]||[],_0x4f309c=_0x405c83[_0x26a955(0x1d3)]||[],_0x51013e=_0x405c83['fileShortcutOrder']||{};}!_0x4f309c[_0x26a955(0xa74)](_0x3e0486=>_0x3e0486['id']===_0x26a955(0xde1))&&_0x4f309c[_0x26a955(0x197)]({'id':_0x26a955(0xde1),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x330b2f[_0x26a955(0xa74)](_0x505f61=>_0x505f61['id']===_0x26a955(0x5e4))&&_0x330b2f[_0x26a955(0x197)]({'id':'file-default-1','name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x330b2f[_0x26a955(0xa74)](_0x1fc4dc=>_0x1fc4dc['id']===_0x26a955(0x452))&&_0x330b2f[_0x26a955(0x197)]({'id':_0x26a955(0x452),'name':_0x26a955(0xaaa),'url':'','isDefault':!![]}),fileShortcuts=_0x330b2f,fileShortcutTabs=_0x4f309c,fileShortcutOrder=_0x51013e,renderFileShortcuts(),!document[_0x26a955(0x81d)](_0x26a955(0x95e))[_0x26a955(0xdd2)][_0x26a955(0x6a8)](_0x26a955(0x35b))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x529baa=_0x4a882c,_0x443b58=doc(db,_0x529baa(0xafb),_0x529baa(0x47c));try{await setDoc(_0x443b58,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x2dde46){console[_0x529baa(0x76b)](_0x529baa(0x443),_0x2dde46);}}function renderAdditionalFileShortcutsModal(){const _0x2aef69=_0x4a882c,_0xc69540=document[_0x2aef69(0x81d)](_0x2aef69(0x2b9)),_0x47e5e2=document[_0x2aef69(0x81d)](_0x2aef69(0xbe1));if(!_0xc69540||!_0x47e5e2)return;_0xc69540[_0x2aef69(0x8ea)]=fileShortcutTabs[_0x2aef69(0x7d8)](_0xbf8a73=>{const _0x1564b3=_0x2aef69,_0x634a3e=_0xbf8a73['id']===activeFileShortcutTabId;return _0x1564b3(0xabe)+_0xbf8a73['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x634a3e?_0x1564b3(0xa44):_0x1564b3(0x3cc))+_0x1564b3(0xa5c)+_0xbf8a73[_0x1564b3(0x523)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xbf8a73[_0x1564b3(0x523)]+_0x1564b3(0x421)+(!_0xbf8a73[_0x1564b3(0xaf8)]?_0x1564b3(0xc03)+_0xbf8a73['id']+_0x1564b3(0x84c):'')+_0x1564b3(0x5ab);})[_0x2aef69(0x343)]('');const _0x37a647=fileShortcutTabs[_0x2aef69(0xa74)](_0x1aa4e0=>_0x1aa4e0['id']===activeFileShortcutTabId);let _0x8874e7=_0x37a647?.[_0x2aef69(0xaf8)]?[...fileShortcuts]:fileShortcuts['filter'](_0x2e55b2=>(_0x37a647?.[_0x2aef69(0x9ea)]||[])[_0x2aef69(0x90f)](_0x2e55b2['id']));const _0x31e6a6=fileShortcutOrder[activeFileShortcutTabId]||[];_0x8874e7[_0x2aef69(0x6c8)]((_0x47a27b,_0x55b12e)=>{const _0x28ea4e=_0x2aef69,_0x554431=_0x31e6a6[_0x28ea4e(0x894)](_0x47a27b['id']),_0x324788=_0x31e6a6[_0x28ea4e(0x894)](_0x55b12e['id']);return(_0x554431===-0x1?Infinity:_0x554431)-(_0x324788===-0x1?Infinity:_0x324788);}),_0x47e5e2['innerHTML']=_0x8874e7[_0x2aef69(0x7d8)](_0x8ff432=>{const _0x13a334=_0x2aef69,_0x517ea9=_0x8ff432[_0x13a334(0xa70)]?'📄':'🔗',_0x3af439=fileShortcutTabs['filter'](_0x49822c=>!_0x49822c['isDefault']),_0x20cfc7=_0x37a647[_0x13a334(0xaf8)]&&_0x3af439[_0x13a334(0xa96)]>0x0?_0x13a334(0x991)+_0x3af439[_0x13a334(0x7d8)](_0x251bf2=>_0x13a334(0x219)+_0x8ff432['id']+_0x13a334(0x6b8)+_0x251bf2['id']+'\x22>'+_0x251bf2[_0x13a334(0x523)]+_0x13a334(0x37f))[_0x13a334(0x343)]('')+_0x13a334(0xc56):'';return _0x13a334(0x3c6)+_0x8ff432['id']+_0x13a334(0x5e3)+_0x517ea9+'\x20'+_0x8ff432['name']+_0x13a334(0x514)+_0x8ff432['id']+_0x13a334(0x16e)+_0x8ff432['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x8ff432[_0x13a334(0xaf8)]?'<button\x20data-id=\x22'+_0x8ff432['id']+_0x13a334(0xbfe):'')+_0x13a334(0x8d3)+(!_0x37a647[_0x13a334(0xaf8)]?_0x13a334(0x582)+_0x8ff432['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x13a334(0x8d3)+_0x20cfc7+_0x13a334(0xd68);})['join']('')||_0x2aef69(0xa61),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0xeab7f8=_0x4a882c;document[_0xeab7f8(0xbec)](_0xeab7f8(0xc9e))[_0xeab7f8(0xdc3)](_0x431ba6=>{const _0xf0f813=_0xeab7f8;_0x431ba6[_0xf0f813(0x845)]=_0x5d56bc=>{const _0x3a0c9b=_0xf0f813;activeFileShortcutTabId=_0x5d56bc[_0x3a0c9b(0x2d2)][_0x3a0c9b(0x33e)]['tabId'],renderAdditionalFileShortcutsModal();},_0x431ba6[_0xf0f813(0x8ab)]=_0x1a0013=>{const _0x41f366=_0xf0f813,_0x1398ef=_0x1a0013['currentTarget'][_0x41f366(0x869)](_0x41f366(0x433));_0x1a0013[_0x41f366(0x2d2)]['querySelector'](_0x41f366(0x92f))['classList'][_0x41f366(0x87d)](_0x41f366(0x35b)),_0x1398ef[_0x41f366(0xdd2)][_0x41f366(0x469)](_0x41f366(0x35b)),_0x1398ef['focus'](),_0x1398ef[_0x41f366(0xdaa)]();};}),document[_0xeab7f8(0xbec)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0xeab7f8(0xdc3)](_0x1373fe=>{const _0x54442f=_0xeab7f8,_0xa8b6ba=()=>{const _0x3806e2=_0x2fbb,_0x1f4a96=_0x1373fe[_0x3806e2(0x9d0)](_0x3806e2(0xc9e))[_0x3806e2(0x33e)]['tabId'],_0x8b1a1c=fileShortcutTabs['find'](_0x86ed96=>_0x86ed96['id']===_0x1f4a96);_0x8b1a1c&&(_0x8b1a1c[_0x3806e2(0x523)]=_0x1373fe['value'][_0x3806e2(0x5f6)]()||_0x8b1a1c[_0x3806e2(0x523)],saveFileShortcutConfig());};_0x1373fe[_0x54442f(0x340)]=_0xa8b6ba,_0x1373fe[_0x54442f(0x9bc)]=_0x39cfcf=>{const _0x46c4e7=_0x54442f;if(_0x39cfcf[_0x46c4e7(0x355)]==='Enter')_0x1373fe[_0x46c4e7(0x8f3)]();};}),document[_0xeab7f8(0xbec)](_0xeab7f8(0x57e))['forEach'](_0x9d576b=>_0x9d576b[_0xeab7f8(0x845)]=_0x12fe44=>{const _0x18306b=_0xeab7f8,_0x5af1e5=_0x12fe44[_0x18306b(0x2d2)]['dataset'][_0x18306b(0x65c)];showConfirmation(_0x18306b(0x28d),()=>{const _0xa06e1f=_0x18306b;fileShortcutTabs=fileShortcutTabs[_0xa06e1f(0x3d8)](_0x30c52e=>_0x30c52e['id']!==_0x5af1e5),delete fileShortcutOrder[_0x5af1e5];if(activeFileShortcutTabId===_0x5af1e5)activeFileShortcutTabId=_0xa06e1f(0xde1);saveFileShortcutConfig();});}),document['querySelectorAll'](_0xeab7f8(0x6b2))[_0xeab7f8(0xdc3)](_0x51b9c5=>_0x51b9c5[_0xeab7f8(0x845)]=_0x3e80bb=>{const _0x3232ff=_0xeab7f8;_0x3e80bb['preventDefault']();const {shortcutId:_0x3b09b6,targetTabId:_0x47b504}=_0x3e80bb[_0x3232ff(0x2d2)][_0x3232ff(0x33e)],_0x327acf=fileShortcutTabs['find'](_0x744998=>_0x744998['id']===_0x47b504);_0x327acf&&!_0x327acf[_0x3232ff(0x9ea)][_0x3232ff(0x90f)](_0x3b09b6)&&(_0x327acf[_0x3232ff(0x9ea)][_0x3232ff(0xb97)](_0x3b09b6),saveFileShortcutConfig());}),document[_0xeab7f8(0xbec)]('.remove-file-shortcut-from-tab-btn')['forEach'](_0x1e8b83=>_0x1e8b83[_0xeab7f8(0x845)]=_0x282268=>{const _0x2bb545=_0xeab7f8,_0x55bf06=_0x282268[_0x2bb545(0x2d2)][_0x2bb545(0x33e)][_0x2bb545(0x669)],_0x292050=fileShortcutTabs['find'](_0x13b230=>_0x13b230['id']===activeFileShortcutTabId);_0x292050&&!_0x292050[_0x2bb545(0xaf8)]&&(_0x292050[_0x2bb545(0x9ea)]=_0x292050[_0x2bb545(0x9ea)][_0x2bb545(0x3d8)](_0x3267e8=>_0x3267e8!==_0x55bf06),saveFileShortcutConfig());}),document[_0xeab7f8(0xbec)](_0xeab7f8(0xbfb))[_0xeab7f8(0xdc3)](_0x2489f5=>_0x2489f5[_0xeab7f8(0x845)]=_0x4fe40f=>{const _0x2bb40b=_0xeab7f8;_0x4fe40f[_0x2bb40b(0x809)]();const _0x20c724=_0x4fe40f[_0x2bb40b(0x2d2)][_0x2bb40b(0xa41)];document[_0x2bb40b(0xbec)](_0x2bb40b(0x18a))['forEach'](_0x19d0a7=>_0x19d0a7[_0x2bb40b(0xdd2)][_0x2bb40b(0x87d)](_0x2bb40b(0x35b))),_0x20c724[_0x2bb40b(0xdd2)][_0x2bb40b(0x469)]('hidden');});const _0x3ae910=document[_0xeab7f8(0x81d)](_0xeab7f8(0xbe1));let _0x5af9ab=null;_0x3ae910[_0xeab7f8(0x75c)]=_0x82c6e1=>{const _0x35a0d7=_0xeab7f8;_0x5af9ab=_0x82c6e1['target'][_0x35a0d7(0x9d0)](_0x35a0d7(0x1c2));if(_0x5af9ab)setTimeout(()=>_0x5af9ab['classList'][_0x35a0d7(0x87d)](_0x35a0d7(0xa5a)),0x0);},_0x3ae910[_0xeab7f8(0xb0b)]=()=>{const _0x23c7a7=_0xeab7f8;_0x5af9ab&&(_0x5af9ab[_0x23c7a7(0xdd2)]['remove'](_0x23c7a7(0xa5a)),_0x5af9ab=null);},_0x3ae910[_0xeab7f8(0x677)]=_0x4eb7ff=>{const _0x4c01bd=_0xeab7f8;_0x4eb7ff[_0x4c01bd(0x713)]();},_0x3ae910[_0xeab7f8(0x862)]=_0x5eb9d9=>{const _0x4ec486=_0xeab7f8;_0x5eb9d9['preventDefault']();if(_0x5af9ab){const _0x584678=[..._0x3ae910['querySelectorAll'](_0x4ec486(0x4e5))]['reduce']((_0x2a89f1,_0x1e02f7)=>{const _0x5fcb9e=_0x4ec486,_0xb5629a=_0x1e02f7[_0x5fcb9e(0x605)](),_0x31a83a=_0x5eb9d9[_0x5fcb9e(0x165)]-_0xb5629a[_0x5fcb9e(0x490)]-_0xb5629a[_0x5fcb9e(0x6f9)]/0x2;return _0x31a83a<0x0&&_0x31a83a>_0x2a89f1[_0x5fcb9e(0x1c7)]?{'offset':_0x31a83a,'element':_0x1e02f7}:_0x2a89f1;},{'offset':Number[_0x4ec486(0x352)]})['element'];_0x584678==null?_0x3ae910[_0x4ec486(0x7f4)](_0x5af9ab):_0x3ae910['insertBefore'](_0x5af9ab,_0x584678);const _0x5c0b35=[..._0x3ae910[_0x4ec486(0xbec)](_0x4ec486(0x1c2))][_0x4ec486(0x7d8)](_0x507af5=>_0x507af5[_0x4ec486(0x33e)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x5c0b35,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x455c10=_0x4a882c,_0x368f0c=prompt(_0x455c10(0xd7a),_0x455c10(0x656));_0x368f0c&&_0x368f0c[_0x455c10(0x5f6)]()&&(fileShortcutTabs[_0x455c10(0xb97)]({'id':_0x455c10(0x2cb)+Date[_0x455c10(0x7c1)](),'name':_0x368f0c[_0x455c10(0x5f6)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x48169e=_0x4a882c,_0xf2b3bf=document[_0x48169e(0x81d)](_0x48169e(0xae6)),_0x4acb38=document[_0x48169e(0x81d)](_0x48169e(0xbe1)),_0x433127=document[_0x48169e(0x81d)](_0x48169e(0xbe4));if(_0x433127)_0x433127[_0x48169e(0xdd2)][_0x48169e(0x87d)]('hidden');if(!_0xf2b3bf||!_0x4acb38)return;const _0x523e18=fileShortcuts[_0x48169e(0x1a7)](0x0,0x4),_0x55426d=fileShortcuts['slice'](0x4);_0xf2b3bf[_0x48169e(0x8ea)]=_0x523e18['map'](_0x9ca137=>{const _0x1d52cd=_0x48169e,_0x3b2ca8=_0x9ca137[_0x1d52cd(0xa70)]&&_0x9ca137[_0x1d52cd(0xa70)]['trim']()!=='',_0x3b696b=selectedFile&&selectedFile[_0x1d52cd(0x669)]===_0x9ca137['id'];let _0x4e9b04=_0x1d52cd(0xa09),_0x405f3f='🔗';if(_0x3b696b)_0x4e9b04=_0x1d52cd(0x266),_0x405f3f='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x3b2ca8&&(_0x4e9b04='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x405f3f='📄');const _0x16e857=!_0x9ca137[_0x1d52cd(0xaf8)]?_0x1d52cd(0xd4f)+_0x9ca137['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x1d52cd(0x79f)+_0x9ca137['id']+_0x1d52cd(0x579)+_0x4e9b04+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x405f3f+_0x1d52cd(0x2d4)+_0x9ca137[_0x1d52cd(0x523)]+_0x1d52cd(0x47d)+_0x9ca137['id']+_0x1d52cd(0x1fe)+_0x16e857+_0x1d52cd(0x33d);})['join'](''),_0x55426d[_0x48169e(0xa96)]>0x0&&(_0xf2b3bf['innerHTML']+=_0x48169e(0xd93)),_0x55426d[_0x48169e(0xa96)]>0x0?_0x4acb38['innerHTML']=_0x55426d[_0x48169e(0x7d8)](_0x533ff3=>_0x48169e(0x66d)+(_0x533ff3[_0x48169e(0xa70)]?'📄':'🔗')+'\x20'+_0x533ff3[_0x48169e(0x523)]+_0x48169e(0x30b)+_0x533ff3['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x533ff3['id']+_0x48169e(0xc98)+(!_0x533ff3[_0x48169e(0xaf8)]?_0x48169e(0xd4f)+_0x533ff3['id']+_0x48169e(0xbfe):'')+_0x48169e(0xe57))[_0x48169e(0x343)](''):_0x4acb38[_0x48169e(0x8ea)]=_0x48169e(0xbd5);}function openFileShortcutEditor(_0x43052c=null){const _0x596fba=_0x4a882c,_0x3dc548=document[_0x596fba(0x81d)]('file-shortcut-editor-modal'),_0x220f2e=document[_0x596fba(0x81d)](_0x596fba(0x177)),_0x335016=document[_0x596fba(0x81d)](_0x596fba(0xcc3)),_0xfcfc69=document[_0x596fba(0x81d)]('file-shortcut-name-input'),_0x52d080=document[_0x596fba(0x81d)]('file-shortcut-url-input');if(_0x43052c){const _0x421288=fileShortcuts[_0x596fba(0xa74)](_0x173eaf=>_0x173eaf['id']===_0x43052c);if(!_0x421288)return;_0x220f2e[_0x596fba(0xca8)]=_0x596fba(0xb7c),_0x335016['value']=_0x421288['id'],_0xfcfc69[_0x596fba(0x710)]=_0x421288[_0x596fba(0x523)],_0x52d080['value']=_0x421288[_0x596fba(0xa70)]||'';}else _0x220f2e['textContent']='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0x335016[_0x596fba(0x710)]='',_0xfcfc69[_0x596fba(0x710)]='',_0x52d080[_0x596fba(0x710)]='';_0x3dc548[_0x596fba(0xdd2)][_0x596fba(0x469)](_0x596fba(0x35b));}async function saveFileShortcutChanges(){const _0x30058d=_0x4a882c,_0x34cef7=document[_0x30058d(0x81d)]('file-shortcut-id-input')[_0x30058d(0x710)],_0x2f15bc=document[_0x30058d(0x81d)](_0x30058d(0x9c5))[_0x30058d(0x710)]['trim'](),_0x543c11=document[_0x30058d(0x81d)](_0x30058d(0x4f8))['value'][_0x30058d(0x5f6)]();if(!_0x2f15bc){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x53c054={'id':_0x34cef7||_0x30058d(0xbf9)+Date[_0x30058d(0x7c1)](),'name':_0x2f15bc,'url':_0x543c11,'isDefault':_0x34cef7['startsWith'](_0x30058d(0x6ba))};let _0x4c4f47;_0x34cef7?_0x4c4f47=fileShortcuts[_0x30058d(0x7d8)](_0x56a873=>_0x56a873['id']===_0x34cef7?_0x53c054:_0x56a873):_0x4c4f47=[...fileShortcuts,_0x53c054];try{const _0xf6de48=doc(db,_0x30058d(0xafb),_0x30058d(0x47c));await setDoc(_0xf6de48,{'shortcuts':_0x4c4f47},{'merge':!![]}),document['getElementById']('file-shortcut-editor-modal')[_0x30058d(0xdd2)][_0x30058d(0x87d)]('hidden');}catch(_0x1478bf){console[_0x30058d(0x76b)](_0x30058d(0x71f),_0x1478bf),showMessage(_0x30058d(0x6df));}}async function handleFileShortcutClick(_0x41a18e){const _0x373f8c=_0x4a882c,_0x478d09=fileShortcuts['find'](_0x54fd7a=>_0x54fd7a['id']===_0x41a18e);if(!_0x478d09)return;if(!_0x478d09[_0x373f8c(0xa70)]||_0x478d09['url']['trim']()===''){openFileShortcutEditor(_0x41a18e);return;}const _0x41c055=document[_0x373f8c(0x869)](_0x373f8c(0x5a6)+_0x41a18e+'\x22]');if(_0x41c055){const _0x171ed1=_0x41c055[_0x373f8c(0x8ea)];_0x41c055[_0x373f8c(0x8ea)]=_0x373f8c(0x697),_0x41c055[_0x373f8c(0x396)]=!![];}document[_0x373f8c(0xbec)]('.file-shortcut-btn')[_0x373f8c(0xdc3)](_0x21fdc2=>{const _0x2557be=_0x373f8c;if(_0x21fdc2[_0x2557be(0x33e)]['id']!==_0x41a18e)_0x21fdc2[_0x2557be(0xdd2)]['add'](_0x2557be(0xa5a),_0x2557be(0xb71));});try{const _0x467044=new URL(_0x478d09[_0x373f8c(0xa70)])['pathname'],_0x560465=_0x467044['substring'](_0x467044[_0x373f8c(0x891)]('/')+0x1)||(_0x478d09['url'][_0x373f8c(0x90f)](_0x373f8c(0x45f))?_0x373f8c(0xbc2):'file.pdf'),_0x5980dc=await fetchFileFromUrl(_0x478d09[_0x373f8c(0xa70)],_0x560465);_0x5980dc[_0x373f8c(0x669)]=_0x41a18e,selectedFile=_0x5980dc,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x373f8c(0x81d)](_0x373f8c(0x812))[_0x373f8c(0xe30)]({'behavior':'smooth','block':_0x373f8c(0x914)});}catch(_0x14f1c0){console[_0x373f8c(0x76b)](_0x373f8c(0x50b),_0x14f1c0),showMessage(_0x373f8c(0xdd0)+_0x14f1c0[_0x373f8c(0x752)]),renderFileShortcuts();}finally{document[_0x373f8c(0xbec)](_0x373f8c(0xa51))[_0x373f8c(0xdc3)](_0x72b4c4=>{const _0x12a84a=_0x373f8c;_0x72b4c4[_0x12a84a(0xdd2)][_0x12a84a(0x469)](_0x12a84a(0xa5a),_0x12a84a(0xb71)),_0x72b4c4[_0x12a84a(0x396)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5323ac=_0x4a882c;if(allQuizzesGlobal[_0x5323ac(0xa96)]>0x0)return;console['log'](_0x5323ac(0x56c)),showMessage(_0x5323ac(0x5eb));try{const _0x5f3298=await getDocs(collection(db,_0x5323ac(0x878)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5f3298[_0x5323ac(0x9b1)][_0x5323ac(0x7d8)](_0x5bfa7a=>({'id':_0x5bfa7a['id'],..._0x5bfa7a[_0x5323ac(0xc66)]()})),console[_0x5323ac(0x792)]('Loaded\x20'+allQuizzesGlobal['length']+_0x5323ac(0xa65)),messageModal[_0x5323ac(0xdd2)]['add'](_0x5323ac(0x35b));}catch(_0x48d701){console['error'](_0x5323ac(0x916),_0x48d701),messageModal[_0x5323ac(0xdd2)][_0x5323ac(0x87d)](_0x5323ac(0x35b));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x35aae6=_0x4a882c;if(!currentQuizData||!currentQuizData[_0x35aae6(0x277)]){showMessage(_0x35aae6(0xd7f));return;}const _0x1c4cd7=currentQuizData,_0x1e7fd5=window[_0x35aae6(0xe56)]('',_0x35aae6(0x251)),_0x438b8d=_0x59bc48=>String['fromCharCode'](0x41+_0x59bc48),_0x7f1ca1=_0x35aae6(0x920)+_0x1c4cd7['topic']+_0x35aae6(0xc0c)+_0x1c4cd7['topic']+_0x35aae6(0xa8f)+_0x1c4cd7[_0x35aae6(0x277)][_0x35aae6(0x7d8)]((_0x71142e,_0x49f30d)=>{const _0x3f7d62=_0x35aae6;let _0x3dc1e9='';const _0x5edb2d=_0x71142e[_0x3f7d62(0x211)]||_0x1c4cd7[_0x3f7d62(0xa6b)];switch(_0x5edb2d){case'multiple_choice':case'fill_in_with_choices':_0x3dc1e9=_0x3f7d62(0x5fb)+_0x71142e['options'][_0x3f7d62(0x7d8)]((_0x487843,_0x4f2326)=>_0x3f7d62(0x21c)+_0x438b8d(_0x4f2326)+'.\x20'+_0x487843+_0x3f7d62(0x955))['join'](_0x3f7d62(0xb77))+_0x3f7d62(0xbbf);break;case'true_false':_0x3dc1e9=_0x3f7d62(0xcf4);break;default:_0x3dc1e9=_0x3f7d62(0x80d);break;}return _0x3f7d62(0x9ad)+(_0x49f30d+0x1)+_0x3f7d62(0x43d)+(_0x71142e['stem']||_0x71142e[_0x3f7d62(0x2c5)])+_0x3f7d62(0x4a3)+(_0x71142e[_0x3f7d62(0x9b0)]?_0x3f7d62(0xe5f)+_0x71142e['imageCode']+_0x3f7d62(0xbbf):'')+_0x3f7d62(0xbb0)+_0x3dc1e9+_0x3f7d62(0x1a1);})[_0x35aae6(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1e7fd5[_0x35aae6(0xd75)][_0x35aae6(0xb53)](_0x7f1ca1),_0x1e7fd5[_0x35aae6(0xd75)]['close'](),_0x1e7fd5[_0x35aae6(0x817)]=function(){setTimeout(()=>{const _0x5225bb=_0x2fbb;_0x1e7fd5[_0x5225bb(0xd83)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x29456b=_0x4a882c;if(!currentQuizData||!currentQuizData[_0x29456b(0x277)]){showMessage(_0x29456b(0xd7f));return;}const _0x3e7359=currentQuizData,_0x463d10=window[_0x29456b(0xe56)]('','_blank'),_0x1c2071=_0x22ac37=>String[_0x29456b(0x221)](0x41+_0x22ac37),_0x5b425f=_0x29456b(0x192)+_0x3e7359[_0x29456b(0x755)]+_0x29456b(0xce1)+_0x3e7359['questions'][_0x29456b(0x7d8)]((_0x322528,_0x2463a5)=>{const _0x596216=_0x29456b;let _0x407c67='';const _0x3da3ff=_0x322528[_0x596216(0x211)]||_0x3e7359[_0x596216(0xa6b)];switch(_0x3da3ff){case _0x596216(0xca9):case'fill_in_with_choices':_0x407c67=_0x596216(0xc20)+_0x322528['options']['map']((_0x6479dc,_0x37ca66)=>_0x596216(0xdc7)+_0x1c2071(_0x37ca66)+'.\x20'+_0x6479dc+_0x596216(0xd2e))[_0x596216(0x343)](_0x596216(0xb77))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x596216(0x559):_0x407c67='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x407c67='';break;}return _0x596216(0x85b)+_0x3e7359['topic']+_0x596216(0xce2)+(_0x2463a5+0x1)+_0x596216(0x39f)+(_0x322528['stem']||_0x322528['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x322528[_0x596216(0x9b0)]?_0x596216(0x7ce)+_0x322528[_0x596216(0x9b0)]+_0x596216(0xbbf):'')+_0x596216(0xbb0)+_0x407c67+_0x596216(0xb31);})[_0x29456b(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x463d10[_0x29456b(0xd75)][_0x29456b(0xb53)](_0x5b425f),_0x463d10[_0x29456b(0xd75)][_0x29456b(0x5ce)](),_0x463d10['onload']=function(){setTimeout(()=>{_0x463d10['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x3eca3d){const _0xfc1265=_0x4a882c,_0xb63348=doc(db,_0xfc1265(0x878)+appId+_0xfc1265(0x527),_0x3eca3d);try{const _0x5989a4=await getDoc(_0xb63348);if(_0x5989a4[_0xfc1265(0xb52)]()){const _0x546060=_0x5989a4['data']()[_0xfc1265(0xac0)]||![];await updateDoc(_0xb63348,{'isStarred':!_0x546060});}}catch(_0x1fd4a3){console['error'](_0xfc1265(0x770),_0x1fd4a3),showMessage(_0xfc1265(0xe37));}}async function displayQuestionBank(){const _0x4c7e3a=_0x4a882c,_0x556b95=document['getElementById'](_0x4c7e3a(0x3a9));_0x556b95[_0x4c7e3a(0x8ea)]=_0x4c7e3a(0x4c7);try{const _0x5075e7=collection(db,_0x4c7e3a(0x878)+appId+_0x4c7e3a(0x30d)+userId+_0x4c7e3a(0x57b)),_0x4dc0ed=query(_0x5075e7),_0x3d69b4=await getDocs(_0x4dc0ed);if(_0x3d69b4[_0x4c7e3a(0xca5)]){_0x556b95[_0x4c7e3a(0x8ea)]=_0x4c7e3a(0xe13);return;}let _0x52be4f=_0x3d69b4[_0x4c7e3a(0x9b1)][_0x4c7e3a(0x7d8)](_0x30a695=>{const _0x1a0780=_0x4c7e3a,_0x5e60a2=_0x30a695[_0x1a0780(0xc66)](),_0x35b968=_0x30a695['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x1a0780(0xe01)](_0x5e60a2)+_0x1a0780(0x751)+(_0x5e60a2[_0x1a0780(0x2c5)]||_0x5e60a2['stem'])+_0x1a0780(0xbbb)+_0x5e60a2[_0x1a0780(0x5f8)]+_0x1a0780(0xa81);})['join']('');_0x556b95[_0x4c7e3a(0x8ea)]=_0x4c7e3a(0x895)+_0x52be4f+_0x4c7e3a(0x331),document[_0x4c7e3a(0x81d)]('create-from-bank-btn')['addEventListener'](_0x4c7e3a(0x864),createQuizFromBank);}catch(_0x14ffb1){console[_0x4c7e3a(0x76b)]('Error\x20displaying\x20question\x20bank:',_0x14ffb1),_0x556b95[_0x4c7e3a(0x8ea)]=_0x4c7e3a(0x8b6);}}async function handleExportLessonToPDF(){const _0x16618c=_0x4a882c,_0x23ee4f=document['getElementById'](_0x16618c(0x2de)),_0x5edb40=document[_0x16618c(0x81d)](_0x16618c(0xc0a))[_0x16618c(0xca8)]||_0x16618c(0x910);if(!_0x23ee4f){showMessage(_0x16618c(0x53e));return;}const _0xc7845b=window[_0x16618c(0xe56)]('',_0x16618c(0x251)),_0x2ad4bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x5edb40+_0x16618c(0xe73)+_0x5edb40+_0x16618c(0xc5e)+_0x23ee4f[_0x16618c(0x8ea)]+_0x16618c(0x78a);_0xc7845b[_0x16618c(0xd75)][_0x16618c(0xb53)](_0x2ad4bc),_0xc7845b[_0x16618c(0xd75)][_0x16618c(0x5ce)](),_0xc7845b[_0x16618c(0x817)]=function(){setTimeout(()=>{_0xc7845b['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x132438,_0x2a3ecf,_0x435b9d){const _0x20ce78=_0x4a882c,_0x32de6c=_0x132438[_0x20ce78(0x211)]||currentQuizData[_0x20ce78(0xa6b)];let _0x31f2e1='';if(_0x32de6c===_0x20ce78(0xca9)||_0x32de6c===_0x20ce78(0x559)){const _0x3e25f3=_0x32de6c===_0x20ce78(0x559)?[_0x20ce78(0xd8c),_0x20ce78(0xcc6)]:_0x132438[_0x20ce78(0x1b5)],_0x7407de=_0x32de6c===_0x20ce78(0x559)?_0x132438['correctAnswer']?0x0:0x1:_0x132438[_0x20ce78(0x1dc)];_0x31f2e1=_0x3e25f3[_0x20ce78(0x7d8)]((_0x22a927,_0x14acae)=>_0x20ce78(0xea2)+(_0x14acae===_0x7407de)+_0x20ce78(0x549)+_0x22a927+_0x20ce78(0x33d))[_0x20ce78(0x343)]('');}else{if(_0x32de6c===_0x20ce78(0x7d3)){const _0x1f121a=_0x132438['allResponses']||[];_0x31f2e1=_0x1f121a[_0x20ce78(0x7d8)](_0x27e853=>_0x20ce78(0xea2)+(_0x27e853===_0x132438[_0x20ce78(0x6b7)])+_0x20ce78(0x549)+_0x27e853+_0x20ce78(0x33d))[_0x20ce78(0x343)]('');}}const _0x5eaf51=_0x132438[_0x20ce78(0x592)]||_0x132438[_0x20ce78(0x2c5)],_0x14e1b3=_0x20ce78(0x5f5)+(_0x2a3ecf+0x1)+_0x20ce78(0x446)+_0x435b9d+_0x20ce78(0xacb)+currentLiveGamePin+_0x20ce78(0x68d)+_0x5eaf51+_0x20ce78(0x758)+_0x31f2e1+_0x20ce78(0xaaf);liveGameView['innerHTML']=_0x14e1b3,window['MathJax']&&MathJax[_0x20ce78(0x434)]&&MathJax[_0x20ce78(0x434)]([liveGameView]),document[_0x20ce78(0x81d)](_0x20ce78(0xc65))[_0x20ce78(0x843)](_0x20ce78(0x864),()=>revealAnswerForAdmin(_0x2a3ecf,_0x435b9d)),document[_0x20ce78(0x81d)](_0x20ce78(0x593))['addEventListener']('click',async()=>{const _0x5932fe=_0x20ce78;showConfirmation(_0x5932fe(0xbd1),async()=>{const _0x1b37fd=_0x5932fe,_0x1988a5=doc(db,_0x1b37fd(0x878)+appId+_0x1b37fd(0x66b),currentLiveGameId);await updateDoc(_0x1988a5,{'status':_0x1b37fd(0x382)});});}),document[_0x20ce78(0x81d)]('manage-players-btn')['addEventListener'](_0x20ce78(0x864),()=>{const _0x19a63e=_0x20ce78;document[_0x19a63e(0x81d)](_0x19a63e(0xc16))[_0x19a63e(0xdd2)]['toggle']('hidden');});}function promptForProjectBeforeGenerating(_0x512922){const _0x4995b3=_0x4a882c,_0x485ff7=document['getElementById'](_0x4995b3(0x52f)),_0x216fbf=document['getElementById'](_0x4995b3(0xc86)),_0x507d80=_0x485ff7[_0x4995b3(0x869)]('h3'),_0x5aaae9=document[_0x4995b3(0x81d)](_0x4995b3(0x73f)),_0x32c33f=document['getElementById'](_0x4995b3(0x663));_0x507d80['textContent']='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x5aaae9['textContent']=_0x4995b3(0xc81),_0x5aaae9[_0x4995b3(0x396)]=!![];allProjects[_0x4995b3(0xa96)]===0x0?_0x216fbf[_0x4995b3(0x8ea)]=_0x4995b3(0x378):(_0x216fbf['innerHTML']=_0x4995b3(0x6d4)+allProjects[_0x4995b3(0x7d8)](_0x35c7fd=>_0x4995b3(0x3f7)+_0x35c7fd['id']+'\x22>'+_0x35c7fd[_0x4995b3(0xd34)]+'</option>')[_0x4995b3(0x343)](''),_0x5aaae9[_0x4995b3(0x396)]=![]);_0x485ff7['classList']['remove'](_0x4995b3(0x35b));const _0x3b3eb4=async()=>{const _0x53dfc9=_0x4995b3,_0x2c9406=_0x216fbf[_0x53dfc9(0x710)];if(!_0x2c9406){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x485ff7[_0x53dfc9(0xdd2)][_0x53dfc9(0x87d)](_0x53dfc9(0x35b)),await loadProjectDetails(_0x2c9406),showView(_0x53dfc9(0x777)),handleGenerateQuizFromBlueprintTopic(_0x512922),_0x564044();},_0x564044=()=>{const _0x542653=_0x4995b3;_0x507d80['textContent']=_0x542653(0x5cd),_0x5aaae9[_0x542653(0xca8)]=_0x542653(0x759),_0x5aaae9[_0x542653(0x599)](_0x542653(0x864),_0x3b3eb4),_0x32c33f[_0x542653(0x599)](_0x542653(0x864),_0x564044),_0x5aaae9[_0x542653(0x843)](_0x542653(0x864),confirmMoveQuiz);};_0x5aaae9['removeEventListener']('click',confirmMoveQuiz),_0x5aaae9[_0x4995b3(0x843)](_0x4995b3(0x864),_0x3b3eb4),_0x32c33f[_0x4995b3(0x843)](_0x4995b3(0x864),_0x564044);}function showStudentLiveQuestionView(_0x4e4d6b,_0x33374d,_0x3c06f5){const _0x6c4bc9=_0x4a882c,_0x9fe07=_0x4e4d6b[_0x6c4bc9(0x211)]||currentQuizData[_0x6c4bc9(0xa6b)];let _0x338cc6='';if(_0x9fe07===_0x6c4bc9(0xca9)||_0x9fe07==='true_false'){const _0xa35827=_0x9fe07==='true_false'?[_0x6c4bc9(0xd8c),_0x6c4bc9(0xcc6)]:_0x4e4d6b[_0x6c4bc9(0x1b5)];_0x338cc6=_0xa35827[_0x6c4bc9(0x7d8)]((_0x306c77,_0x46b092)=>_0x6c4bc9(0x68f)+_0x46b092+_0x6c4bc9(0xc12)+_0x306c77+_0x6c4bc9(0xe90))[_0x6c4bc9(0x343)]('');}else{if(_0x9fe07===_0x6c4bc9(0x7d3)){const _0x1514dd=_0x4e4d6b[_0x6c4bc9(0x27e)]||[];_0x338cc6=_0x1514dd[_0x6c4bc9(0x7d8)]((_0x229183,_0x3b4eef)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3b4eef+_0x6c4bc9(0xc12)+_0x229183+_0x6c4bc9(0xe90))[_0x6c4bc9(0x343)]('');}else _0x9fe07===_0x6c4bc9(0x2bb)&&(_0x338cc6=_0x6c4bc9(0x299));}const _0x36212d=_0x4e4d6b[_0x6c4bc9(0x592)]||_0x4e4d6b[_0x6c4bc9(0x2c5)],_0x354907=_0x6c4bc9(0x838)+(_0x33374d+0x1)+_0x6c4bc9(0x446)+_0x3c06f5+_0x6c4bc9(0x25a)+_0x36212d+_0x6c4bc9(0xd5d)+_0x338cc6+_0x6c4bc9(0x757);liveGameView['innerHTML']=_0x354907;window[_0x6c4bc9(0x389)]&&MathJax[_0x6c4bc9(0x434)]&&MathJax[_0x6c4bc9(0x434)]([liveGameView]);const _0x3c9f64=document[_0x6c4bc9(0x81d)](_0x6c4bc9(0x70e));_0x3c9f64&&_0x3c9f64['addEventListener'](_0x6c4bc9(0x864),()=>{const _0x128d66=_0x6c4bc9,_0x56d2a7=document[_0x128d66(0x81d)]('live-short-answer-input')[_0x128d66(0x710)];handleLiveAnswer(_0x56d2a7,_0x4e4d6b);}),document[_0x6c4bc9(0x81d)](_0x6c4bc9(0xaec))['addEventListener'](_0x6c4bc9(0x864),_0x13a99e=>{const _0x4dae92=_0x6c4bc9,_0x18343d=_0x13a99e[_0x4dae92(0xca1)]['closest']('.live-answer-btn');if(_0x18343d){const _0x22bfd7=parseInt(_0x18343d[_0x4dae92(0x33e)]['index']);handleLiveAnswer(_0x22bfd7,_0x4e4d6b);}});}function listenForBlueprintShortcuts(){const _0x3d6060=_0x4a882c,_0x46ec0f=doc(db,_0x3d6060(0xafb),'dashboardConfig');onSnapshot(_0x46ec0f,_0x3a6451=>{const _0x34c300=_0x3d6060;let _0x1159fb=[],_0xe53e35=[],_0x26a294={};if(_0x3a6451[_0x34c300(0xb52)]()){const _0x297d92=_0x3a6451[_0x34c300(0xc66)]();_0x1159fb=_0x297d92['blueprintShortcuts']||[],_0xe53e35=_0x297d92[_0x34c300(0xe3e)]||[],_0x26a294=_0x297d92[_0x34c300(0x7e2)]||{};}!_0xe53e35['find'](_0x1ab8a6=>_0x1ab8a6['id']===_0x34c300(0xde1))&&_0xe53e35[_0x34c300(0x197)]({'id':'all','name':_0x34c300(0x1ac),'isDefault':!![]}),!_0x1159fb[_0x34c300(0xa74)](_0x10bb50=>_0x10bb50['id']===_0x34c300(0xd61))&&_0x1159fb['unshift']({'id':_0x34c300(0xd61),'name':_0x34c300(0x8b8),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x1159fb[_0x34c300(0xa74)](_0x1dbe8c=>_0x1dbe8c['id']===_0x34c300(0x3b7))&&_0x1159fb[_0x34c300(0x197)]({'id':_0x34c300(0x3b7),'name':_0x34c300(0xbaf),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x1159fb,shortcutTabs=_0xe53e35,shortcutOrder=_0x26a294,renderBlueprintShortcuts(),!document[_0x34c300(0x81d)]('additional-shortcuts-modal')[_0x34c300(0xdd2)][_0x34c300(0x6a8)](_0x34c300(0x35b))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x5dcc62=_0x4a882c,_0x245e71=document['getElementById'](_0x5dcc62(0xb58)),_0x34cda3=document[_0x5dcc62(0x81d)](_0x5dcc62(0x5cc));if(!_0x245e71||!_0x34cda3)return;_0x245e71[_0x5dcc62(0x8ea)]=shortcutTabs['map'](_0x5bf957=>{const _0x27ac6c=_0x5dcc62,_0x330fe4=_0x5bf957['id']===activeShortcutTabId,_0x524861=_0x27ac6c(0xa44),_0x5da2c7=_0x27ac6c(0x3cc);return _0x27ac6c(0x624)+_0x5bf957['id']+_0x27ac6c(0x885)+(_0x330fe4?_0x524861:_0x5da2c7)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x5bf957['name']+_0x27ac6c(0xb21)+_0x5bf957[_0x27ac6c(0x523)]+_0x27ac6c(0x827)+(!_0x5bf957['isDefault']?_0x27ac6c(0xae7)+_0x5bf957['id']+'\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x27ac6c(0x33d);})[_0x5dcc62(0x343)]('');const _0xc4b442=shortcutTabs[_0x5dcc62(0xa74)](_0x159db7=>_0x159db7['id']===activeShortcutTabId);let _0x1d2a78=[];if(_0xc4b442){if(_0xc4b442[_0x5dcc62(0xaf8)])_0x1d2a78=[...blueprintShortcuts];else{const _0x301705=_0xc4b442[_0x5dcc62(0x9ea)]||[];_0x1d2a78=blueprintShortcuts[_0x5dcc62(0x3d8)](_0x5c77e2=>_0x301705['includes'](_0x5c77e2['id']));}}const _0x3f62bc=shortcutOrder[activeShortcutTabId]||[];_0x1d2a78[_0x5dcc62(0x6c8)]((_0x1765e6,_0x161e6e)=>{const _0x105456=_0x5dcc62,_0x319f90=_0x3f62bc[_0x105456(0x894)](_0x1765e6['id']),_0x56d9f=_0x3f62bc[_0x105456(0x894)](_0x161e6e['id']);if(_0x319f90===-0x1)return 0x1;if(_0x56d9f===-0x1)return-0x1;return _0x319f90-_0x56d9f;}),_0x34cda3['innerHTML']=_0x1d2a78['length']>0x0?_0x1d2a78[_0x5dcc62(0x7d8)](_0x46adae=>{const _0xbf5d82=_0x5dcc62;let _0x1e9972='🧩';if(_0x46adae[_0xbf5d82(0xe17)]&&_0x46adae['referenceUrl'])_0x1e9972='📗';else{if(_0x46adae[_0xbf5d82(0xe17)])_0x1e9972='📘';}const _0x24bd33=shortcutTabs[_0xbf5d82(0x3d8)](_0x13ce16=>!_0x13ce16[_0xbf5d82(0xaf8)]),_0x39ad64=_0xc4b442[_0xbf5d82(0xaf8)]&&_0x24bd33[_0xbf5d82(0xa96)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24bd33['map'](_0x2c481c=>_0xbf5d82(0xd3f)+_0x46adae['id']+_0xbf5d82(0x6b8)+_0x2c481c['id']+'\x22>'+_0x2c481c[_0xbf5d82(0x523)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xbf5d82(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0xbf5d82(0xcb4)+_0x46adae['id']+_0xbf5d82(0x577)+_0x1e9972+'\x20'+_0x46adae[_0xbf5d82(0x523)]+_0xbf5d82(0xb4c)+_0x46adae['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x46adae['id']+_0xbf5d82(0xb4e)+(!_0x46adae[_0xbf5d82(0xaf8)]?_0xbf5d82(0xd4f)+_0x46adae['id']+_0xbf5d82(0xd8b):'')+_0xbf5d82(0x1af)+(!_0xc4b442[_0xbf5d82(0xaf8)]?_0xbf5d82(0x582)+_0x46adae['id']+_0xbf5d82(0x4ea):'')+_0xbf5d82(0x1af)+_0x39ad64+_0xbf5d82(0x317);})[_0x5dcc62(0x343)](''):_0x5dcc62(0xa61),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x15489c=_0x4a882c;document[_0x15489c(0xbec)](_0x15489c(0xe58))[_0x15489c(0xdc3)](_0x128940=>{const _0x5f0d43=_0x15489c;_0x128940['addEventListener']('click',_0x157878=>{const _0x7d01a=_0x2fbb;activeShortcutTabId=_0x157878[_0x7d01a(0x2d2)][_0x7d01a(0x33e)][_0x7d01a(0x65c)],renderAdditionalShortcutsModal();}),_0x128940[_0x5f0d43(0x843)](_0x5f0d43(0xe71),_0x164984=>{const _0x22d8cf=_0x5f0d43,_0x9caa28=_0x164984[_0x22d8cf(0x2d2)];_0x9caa28[_0x22d8cf(0x869)]('.tab-name-display')['classList'][_0x22d8cf(0x87d)](_0x22d8cf(0x35b));const _0x9640bf=_0x9caa28[_0x22d8cf(0x869)](_0x22d8cf(0x433));_0x9640bf[_0x22d8cf(0xdd2)][_0x22d8cf(0x469)](_0x22d8cf(0x35b)),_0x9640bf['focus'](),_0x9640bf[_0x22d8cf(0xdaa)]();});}),document[_0x15489c(0xbec)](_0x15489c(0x433))[_0x15489c(0xdc3)](_0x56c437=>{const _0x56ce86=_0x15489c,_0x445c2c=()=>{const _0x4abfe5=_0x2fbb,_0x4598e4=_0x56c437[_0x4abfe5(0x9d0)]('.shortcut-tab-btn')[_0x4abfe5(0x33e)][_0x4abfe5(0x65c)];handleRenameShortcutTab(_0x4598e4,_0x56c437[_0x4abfe5(0x710)]);};_0x56c437[_0x56ce86(0x843)](_0x56ce86(0x8f3),_0x445c2c),_0x56c437[_0x56ce86(0x843)](_0x56ce86(0x4b0),_0x50e288=>{const _0xb5de97=_0x56ce86;if(_0x50e288[_0xb5de97(0x355)]===_0xb5de97(0x597))_0x56c437[_0xb5de97(0x8f3)]();});}),document['querySelectorAll'](_0x15489c(0xe48))[_0x15489c(0xdc3)](_0x2e237d=>{const _0x389b6e=_0x15489c;_0x2e237d[_0x389b6e(0x843)](_0x389b6e(0x864),_0x344619=>handleDeleteShortcutTab(_0x344619['currentTarget'][_0x389b6e(0x33e)][_0x389b6e(0x65c)]));}),document[_0x15489c(0xbec)](_0x15489c(0xd9a))['forEach'](_0x584088=>{const _0x5d46dc=_0x15489c;_0x584088[_0x5d46dc(0x843)](_0x5d46dc(0x864),_0xa5b86d=>{const _0x52f87b=_0x5d46dc;_0xa5b86d['preventDefault']();const {shortcutId:_0x5b585f,targetTabId:_0x5207b1}=_0xa5b86d[_0x52f87b(0x2d2)][_0x52f87b(0x33e)];handleMoveShortcutToTab(_0x5b585f,_0x5207b1);});}),document[_0x15489c(0xbec)](_0x15489c(0xaf7))[_0x15489c(0xdc3)](_0x36a222=>{const _0x367e90=_0x15489c;_0x36a222[_0x367e90(0x843)](_0x367e90(0x864),_0x51e816=>{handleRemoveShortcutFromTab(_0x51e816['currentTarget']['dataset']['shortcutId'],activeShortcutTabId);});});const _0x2b070f=document[_0x15489c(0x81d)](_0x15489c(0x5cc));_0x2b070f['querySelectorAll'](_0x15489c(0x70b))[_0x15489c(0xdc3)](_0x2a941e=>{const _0x2b75d7=_0x15489c;_0x2a941e[_0x2b75d7(0x843)]('click',()=>{const _0xd642c6=_0x2b75d7;document[_0xd642c6(0x81d)](_0xd642c6(0x6fc))['classList'][_0xd642c6(0x87d)](_0xd642c6(0x35b)),handleShortcutClick(_0x2a941e[_0xd642c6(0x33e)]['id']);});});let _0x396cc6=null;_0x2b070f['addEventListener']('dragstart',_0x18546b=>{const _0x59afb9=_0x15489c;_0x396cc6=_0x18546b['target'][_0x59afb9(0x9d0)](_0x59afb9(0x1c2)),_0x396cc6&&setTimeout(()=>_0x396cc6[_0x59afb9(0xdd2)][_0x59afb9(0x87d)](_0x59afb9(0xa5a)),0x0);}),_0x2b070f[_0x15489c(0x843)](_0x15489c(0x56e),()=>{const _0x272e7a=_0x15489c;_0x396cc6&&(_0x396cc6['classList'][_0x272e7a(0x469)](_0x272e7a(0xa5a)),_0x396cc6=null);}),_0x2b070f[_0x15489c(0x843)](_0x15489c(0x519),_0x105e16=>{const _0x4b192e=_0x15489c;_0x105e16['preventDefault']();const _0x174931=[..._0x2b070f[_0x4b192e(0xbec)](_0x4b192e(0x4e5))][_0x4b192e(0x68e)]((_0x3a3d83,_0x3a4bda)=>{const _0x2ef461=_0x4b192e,_0x546f5b=_0x3a4bda['getBoundingClientRect'](),_0x483d74=_0x105e16[_0x2ef461(0x165)]-_0x546f5b['top']-_0x546f5b[_0x2ef461(0x6f9)]/0x2;return _0x483d74<0x0&&_0x483d74>_0x3a3d83['offset']?{'offset':_0x483d74,'element':_0x3a4bda}:_0x3a3d83;},{'offset':Number[_0x4b192e(0x352)]})[_0x4b192e(0xd45)];_0x174931==null?_0x2b070f[_0x4b192e(0x7f4)](_0x396cc6):_0x2b070f['insertBefore'](_0x396cc6,_0x174931);}),_0x2b070f[_0x15489c(0x843)](_0x15489c(0xac4),_0x33df82=>{const _0x24a17b=_0x15489c;_0x33df82[_0x24a17b(0x713)]();if(_0x396cc6){const _0x26e9c5=[..._0x2b070f[_0x24a17b(0xbec)](_0x24a17b(0x1c2))]['map'](_0x48f562=>_0x48f562[_0x24a17b(0x33e)][_0x24a17b(0x669)]);handleShortcutOrderChange(activeShortcutTabId,_0x26e9c5);}}),document[_0x15489c(0xbec)](_0x15489c(0x6e7))['forEach'](_0x1c78c5=>{const _0x19d6c2=_0x15489c;_0x1c78c5[_0x19d6c2(0x843)](_0x19d6c2(0x864),_0x30cbea=>{const _0x572fba=_0x19d6c2;_0x30cbea[_0x572fba(0x809)]();const _0x860738=_0x30cbea[_0x572fba(0x2d2)][_0x572fba(0xa41)],_0x46e605=_0x860738[_0x572fba(0xdd2)]['contains'](_0x572fba(0x35b));document[_0x572fba(0xbec)]('.move-shortcut-dropdown')[_0x572fba(0xdc3)](_0x3b20f8=>_0x3b20f8['classList'][_0x572fba(0x87d)](_0x572fba(0x35b))),_0x46e605&&_0x860738[_0x572fba(0xdd2)]['remove']('hidden');});});}document['addEventListener'](_0x4a882c(0x864),_0x54886f=>{const _0x3b2b7c=_0x4a882c;!_0x54886f['target'][_0x3b2b7c(0x9d0)]('.group\x5c/dropdown')&&document[_0x3b2b7c(0xbec)](_0x3b2b7c(0x95c))[_0x3b2b7c(0xdc3)](_0x24aa1c=>_0x24aa1c[_0x3b2b7c(0xdd2)]['add'](_0x3b2b7c(0x35b)));});async function saveShortcutConfig(){const _0x460db2=_0x4a882c,_0x1684a1=doc(db,_0x460db2(0xafb),_0x460db2(0x198));try{await setDoc(_0x1684a1,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0xd05afc){console['error']('Error\x20saving\x20shortcut\x20config:',_0xd05afc);}}async function handleAddShortcutTab(){const _0x24d4d3=_0x4a882c,_0x406632=prompt(_0x24d4d3(0xd7a),_0x24d4d3(0x656));if(!_0x406632||_0x406632[_0x24d4d3(0x5f6)]()==='')return;shortcutTabs[_0x24d4d3(0xb97)]({'id':_0x24d4d3(0x2cb)+Date[_0x24d4d3(0x7c1)](),'name':_0x406632[_0x24d4d3(0x5f6)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x3aeb96,_0x34e7b1){const _0x399f2d=_0x4a882c,_0x5e89d2=shortcutTabs[_0x399f2d(0xa74)](_0x20c6ff=>_0x20c6ff['id']===_0x3aeb96);_0x5e89d2&&_0x34e7b1[_0x399f2d(0x5f6)]()!==''&&(_0x5e89d2[_0x399f2d(0x523)]=_0x34e7b1[_0x399f2d(0x5f6)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x50a76c){const _0x1544b3=_0x4a882c,_0x5e512c=shortcutTabs[_0x1544b3(0xa74)](_0x41a9a2=>_0x41a9a2['id']===_0x50a76c);_0x5e512c&&!_0x5e512c[_0x1544b3(0xaf8)]&&showConfirmation(_0x1544b3(0x9de)+_0x5e512c[_0x1544b3(0x523)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x549ae8=_0x1544b3;shortcutTabs=shortcutTabs[_0x549ae8(0x3d8)](_0x42f71b=>_0x42f71b['id']!==_0x50a76c),delete shortcutOrder[_0x50a76c];if(activeShortcutTabId===_0x50a76c)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x51f084,_0x13731b){const _0x46cb89=_0x4a882c,_0x3623cf=shortcutTabs[_0x46cb89(0xa74)](_0x9375d3=>_0x9375d3['id']===_0x13731b);_0x3623cf&&!_0x3623cf[_0x46cb89(0x9ea)][_0x46cb89(0x90f)](_0x51f084)&&(_0x3623cf[_0x46cb89(0x9ea)][_0x46cb89(0xb97)](_0x51f084),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x606e2f,_0x26a559){const _0x1f71ee=_0x4a882c,_0x62f5ed=shortcutTabs['find'](_0x2eafa2=>_0x2eafa2['id']===_0x26a559);_0x62f5ed&&!_0x62f5ed[_0x1f71ee(0xaf8)]&&(_0x62f5ed['shortcutIds']=_0x62f5ed[_0x1f71ee(0x9ea)][_0x1f71ee(0x3d8)](_0x57d653=>_0x57d653!==_0x606e2f),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x4c45ff,_0x19dde0){shortcutOrder[_0x4c45ff]=_0x19dde0,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3f71c3=_0x4a882c,_0x2e3a94=document[_0x3f71c3(0x81d)]('blueprint-shortcut-container'),_0x248cd6=document[_0x3f71c3(0x81d)](_0x3f71c3(0x5cc)),_0x288483=document[_0x3f71c3(0x81d)]('shortcuts-loading-msg');_0x288483&&_0x288483[_0x3f71c3(0xdd2)][_0x3f71c3(0x87d)](_0x3f71c3(0x35b));if(!_0x2e3a94||!_0x248cd6)return;const _0x1ca2b4=blueprintShortcuts[_0x3f71c3(0x1a7)](0x0,0x4),_0x407916=blueprintShortcuts['slice'](0x4);_0x2e3a94[_0x3f71c3(0x8ea)]=_0x1ca2b4[_0x3f71c3(0x7d8)](_0x349ac7=>{const _0x238688=_0x3f71c3;let _0x26b1ad=_0x238688(0xa09),_0x3a181a='🧩';if(_0x349ac7[_0x238688(0xe17)]&&_0x349ac7[_0x238688(0x64d)])_0x26b1ad='bg-green-500\x20hover:bg-green-600\x20text-white',_0x3a181a='📗';else _0x349ac7[_0x238688(0xe17)]&&(_0x26b1ad=_0x238688(0x6fa),_0x3a181a='📘');const _0x4ed1ee=!_0x349ac7['isDefault']?_0x238688(0xd4f)+_0x349ac7['id']+_0x238688(0x465):'';return _0x238688(0x79f)+_0x349ac7['id']+_0x238688(0x257)+_0x26b1ad+_0x238688(0x860)+_0x3a181a+'\x20'+_0x349ac7[_0x238688(0x523)]+_0x238688(0xe60)+_0x349ac7['id']+_0x238688(0x49b)+_0x4ed1ee+_0x238688(0x33d);})[_0x3f71c3(0x343)](''),_0x407916['length']>0x0&&(_0x2e3a94[_0x3f71c3(0x8ea)]+=_0x3f71c3(0xdb5)),_0x407916[_0x3f71c3(0xa96)]>0x0?_0x248cd6[_0x3f71c3(0x8ea)]=_0x407916['map'](_0xbf81c2=>{const _0x290da0=_0x3f71c3;let _0x44284c='🧩';if(_0xbf81c2[_0x290da0(0xe17)]&&_0xbf81c2[_0x290da0(0x64d)])_0x44284c='📗';else _0xbf81c2['blueprintUrl']&&(_0x44284c='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x44284c+'\x20'+_0xbf81c2[_0x290da0(0x523)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xbf81c2['id']+_0x290da0(0xa14)+_0xbf81c2['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xbf81c2[_0x290da0(0xaf8)]?_0x290da0(0xd4f)+_0xbf81c2['id']+_0x290da0(0xd8b):'')+_0x290da0(0x8ba);})[_0x3f71c3(0x343)](''):_0x248cd6[_0x3f71c3(0x8ea)]=_0x3f71c3(0xbd5);}function getMimeTypeFromFilename(_0x962d32){const _0x23f530=_0x4a882c,_0x1ee717=_0x962d32[_0x23f530(0x9b4)]('.')['pop']()[_0x23f530(0x95d)]();switch(_0x1ee717){case'pdf':return'application/pdf';case _0x23f530(0x5df):return'text/plain';default:return _0x23f530(0xa04);}}function openShortcutEditor(_0x2f8a15=null){const _0x2c1982=_0x4a882c,_0xa13596=document['getElementById']('shortcut-editor-modal'),_0x306bdb=document[_0x2c1982(0x81d)]('shortcut-modal-title'),_0x41557d=document[_0x2c1982(0x81d)]('shortcut-id-input'),_0x3bdc98=document[_0x2c1982(0x81d)](_0x2c1982(0xd9d)),_0x504681=document[_0x2c1982(0x81d)](_0x2c1982(0xa40)),_0x22a1f1=document['getElementById'](_0x2c1982(0x4a9));if(_0x2f8a15){const _0xbd0bf0=blueprintShortcuts[_0x2c1982(0xa74)](_0x56d7f2=>_0x56d7f2['id']===_0x2f8a15);if(!_0xbd0bf0)return;_0x306bdb[_0x2c1982(0xca8)]='แก้ไขปุ่มลัด',_0x41557d[_0x2c1982(0x710)]=_0xbd0bf0['id'],_0x3bdc98[_0x2c1982(0x710)]=_0xbd0bf0[_0x2c1982(0x523)],_0x504681['value']=_0xbd0bf0[_0x2c1982(0xe17)]||'',_0x22a1f1['value']=_0xbd0bf0[_0x2c1982(0x64d)]||'';}else _0x306bdb[_0x2c1982(0xca8)]='เพิ่มปุ่มลัดใหม่',_0x41557d[_0x2c1982(0x710)]='',_0x3bdc98[_0x2c1982(0x710)]='',_0x504681[_0x2c1982(0x710)]='',_0x22a1f1['value']='';_0xa13596[_0x2c1982(0xdd2)][_0x2c1982(0x469)](_0x2c1982(0x35b));}async function saveShortcutChanges(){const _0x2c897a=_0x4a882c,_0x1d89ed=document['getElementById']('shortcut-id-input')[_0x2c897a(0x710)],_0x124427=document['getElementById'](_0x2c897a(0xd9d))[_0x2c897a(0x710)][_0x2c897a(0x5f6)](),_0x3bbeeb=document[_0x2c897a(0x81d)]('shortcut-blueprint-url-input')['value']['trim']();if(!_0x124427||!_0x3bbeeb){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27');return;}const _0x320bee={'id':_0x1d89ed||'shortcut_'+Date['now'](),'name':_0x124427,'blueprintUrl':_0x3bbeeb,'referenceUrl':document[_0x2c897a(0x81d)](_0x2c897a(0x4a9))[_0x2c897a(0x710)]['trim'](),'isDefault':_0x1d89ed[_0x2c897a(0x1c6)](_0x2c897a(0xa57))};let _0x1c2407;_0x1d89ed?_0x1c2407=blueprintShortcuts[_0x2c897a(0x7d8)](_0x6fe8b1=>_0x6fe8b1['id']===_0x1d89ed?_0x320bee:_0x6fe8b1):_0x1c2407=[...blueprintShortcuts,_0x320bee];try{const _0x2c4ea7=doc(db,_0x2c897a(0xafb),_0x2c897a(0x198));await setDoc(_0x2c4ea7,{'blueprintShortcuts':_0x1c2407},{'merge':!![]}),document[_0x2c897a(0x81d)](_0x2c897a(0xdba))[_0x2c897a(0xdd2)][_0x2c897a(0x87d)](_0x2c897a(0x35b));}catch(_0x549d41){console['error'](_0x2c897a(0x57d),_0x549d41),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x91e2dc){const _0x3843b8=_0x4a882c,_0x19d5d6=blueprintShortcuts['find'](_0x3a3781=>_0x3a3781['id']===_0x91e2dc);if(!_0x19d5d6||!_0x19d5d6[_0x3843b8(0xe17)])return;document[_0x3843b8(0x81d)](_0x3843b8(0x4ca))[_0x3843b8(0xdd2)][_0x3843b8(0x87d)]('hidden'),document[_0x3843b8(0x81d)](_0x3843b8(0x908))['disabled']=!![];const _0xe2df5a=document[_0x3843b8(0x81d)](_0x3843b8(0x1d1)),_0x12399d=document[_0x3843b8(0x81d)](_0x3843b8(0xe40));document[_0x3843b8(0x81d)]('quiz-generation-area')['classList'][_0x3843b8(0x469)](_0x3843b8(0x35b)),document[_0x3843b8(0x81d)](_0x3843b8(0xa19))[_0x3843b8(0x8ea)]='',_0xe2df5a['classList']['remove'](_0x3843b8(0x35b));try{_0x12399d['textContent']=_0x3843b8(0x63e);const _0x4c6a11=await fetchFileFromUrl(_0x19d5d6[_0x3843b8(0xe17)],_0x3843b8(0x232));let _0x40dc6f=null;if(_0x19d5d6[_0x3843b8(0x64d)]){_0x12399d[_0x3843b8(0xca8)]=_0x3843b8(0x635);const _0x5ff160=_0x19d5d6[_0x3843b8(0x64d)][_0x3843b8(0x95d)]()[_0x3843b8(0x5cb)](_0x3843b8(0x45f))?_0x3843b8(0x2fc):_0x3843b8(0x5c9);_0x40dc6f=await fetchFileFromUrl(_0x19d5d6[_0x3843b8(0x64d)],_0x5ff160);}await handleGenerateFromBlueprintWithFiles(_0x4c6a11,_0x40dc6f);}catch(_0x2f91f7){console['error'](_0x3843b8(0x548),_0x2f91f7),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2f91f7[_0x3843b8(0x752)]),_0xe2df5a['classList'][_0x3843b8(0x87d)](_0x3843b8(0x35b));}}function getDirectDownloadUrl(_0x2dda04){const _0x12143a=_0x4a882c,_0x4e004c=_0x2dda04[_0x12143a(0xcb7)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x4e004c&&_0x4e004c[0x1])return _0x12143a(0x164)+_0x4e004c[0x1];return _0x2dda04;}async function fetchFileFromUrl(_0xe697d5,_0x323d9f){const _0x5987e7=_0x4a882c,_0x28fb43=getDirectDownloadUrl(_0xe697d5),_0x4877ed=_0x5987e7(0x798)+encodeURIComponent(_0x28fb43),_0x563b89=await fetch(_0x4877ed);if(!_0x563b89['ok'])throw new Error(_0x5987e7(0x750)+_0x563b89[_0x5987e7(0x589)]+')');const _0x463cd3=await _0x563b89[_0x5987e7(0xaad)](),_0x22519d=await new Promise((_0x518c2a,_0x5a37b3)=>{const _0x1b45ab=_0x5987e7,_0x28d5d7=new FileReader();_0x28d5d7[_0x1b45ab(0x386)]=()=>_0x518c2a(new Uint8Array(_0x28d5d7['result'])),_0x28d5d7[_0x1b45ab(0x308)]=_0x5a37b3,_0x28d5d7[_0x1b45ab(0xe5e)](_0x463cd3['slice'](0x0,0x4));});let _0x52dfc3='';const _0x28fbc8=new TextDecoder()[_0x5987e7(0x41b)](_0x22519d);return _0x28fbc8===_0x5987e7(0x189)?(_0x52dfc3=_0x5987e7(0xa04),console['log'](_0x5987e7(0xc2e))):(_0x52dfc3=_0x5987e7(0xe62),console[_0x5987e7(0x792)](_0x5987e7(0x7fa))),new File([_0x463cd3],_0x323d9f,{'type':_0x52dfc3});}async function handleGenerateFromBlueprintWithFiles(_0x38c8c2,_0x3c1392=null){const _0x109187=_0x4a882c;if(!_0x38c8c2){showMessage(_0x109187(0x268));return;}const _0x2c2646=document[_0x109187(0x81d)](_0x109187(0x1d1)),_0x1ad5f2=document[_0x109187(0x81d)](_0x109187(0xe40));_0x2c2646[_0x109187(0xdd2)][_0x109187(0x469)](_0x109187(0x35b)),document[_0x109187(0x81d)](_0x109187(0x334))[_0x109187(0xdd2)]['remove'](_0x109187(0x35b)),document[_0x109187(0x81d)](_0x109187(0xa19))[_0x109187(0x8ea)]='';try{_0x1ad5f2[_0x109187(0xca8)]=_0x109187(0xe5b);const _0x386528=await new Promise((_0x5c38e0,_0x253a49)=>{const _0x18f4c0=_0x109187,_0x5f0620=new FileReader();_0x5f0620[_0x18f4c0(0x5f3)](_0x38c8c2),_0x5f0620[_0x18f4c0(0x817)]=()=>_0x5c38e0(_0x5f0620[_0x18f4c0(0xe83)][_0x18f4c0(0x9b4)](',')[0x1]),_0x5f0620[_0x18f4c0(0x308)]=_0x253a49;}),_0x1064e4=[];if(_0x3c1392){_0x1ad5f2['textContent']='กำลังอ่านไฟล์อ้างอิง...';const _0x456c7d=await _0x3c1392[_0x109187(0x95b)]();_0x1064e4[_0x109187(0xb97)]({'text':_0x109187(0xd77)+_0x456c7d});}const _0x2b2a73=[{'text':_0x109187(0xd87)},{'inlineData':{'mimeType':_0x38c8c2[_0x109187(0x451)],'data':_0x386528}},..._0x1064e4];await handleGenerateFromBlueprint(_0x2b2a73);}catch(_0x234dfd){console[_0x109187(0x76b)](_0x109187(0x6fb),_0x234dfd),showMessage(_0x109187(0x388)+_0x234dfd['message']),_0x2c2646[_0x109187(0xdd2)][_0x109187(0x87d)](_0x109187(0x35b));}}async function handleLiveAnswer(_0x283ce9,_0xb00a50){const _0x3c6a52=_0x4a882c;document[_0x3c6a52(0xbec)](_0x3c6a52(0x474))[_0x3c6a52(0xdc3)](_0x343cf3=>_0x343cf3[_0x3c6a52(0x396)]=!![]);const _0x42a8ff=_0xb00a50[_0x3c6a52(0x211)]||currentQuizData[_0x3c6a52(0xa6b)];let _0x2ac1f7=![],_0x2c2d28=_0x283ce9;if(_0x42a8ff===_0x3c6a52(0x2bb)){const _0x42730e=(_0x283ce9||'')[_0x3c6a52(0x188)]();_0x2ac1f7=await gradeShortAnswer(_0x42730e,_0xb00a50);}else{if(_0x42a8ff==='multiple_choice')_0x2ac1f7=_0x283ce9===_0xb00a50[_0x3c6a52(0x1dc)];else{if(_0x42a8ff===_0x3c6a52(0x559)){const _0xc122cc=_0xb00a50['correctAnswer'];_0x2ac1f7=_0x283ce9===0x0&&_0xc122cc||_0x283ce9===0x1&&!_0xc122cc;}else{if(_0x42a8ff==='matching_item'){const _0x1f0d2a=_0xb00a50[_0x3c6a52(0x27e)][_0x283ce9];_0x2ac1f7=_0x1f0d2a===_0xb00a50[_0x3c6a52(0x6b7)],_0x2c2d28=_0x1f0d2a;}}}}const _0x18c4dd=doc(db,_0x3c6a52(0x878)+appId+_0x3c6a52(0x66b),currentLiveGameId),_0x4a50ac={};_0x4a50ac['players.'+currentStudentName+_0x3c6a52(0xcef)]=!![],_0x4a50ac[_0x3c6a52(0x9ac)+currentStudentName+_0x3c6a52(0xd3c)]=_0x2ac1f7,_0x4a50ac['players.'+currentStudentName+_0x3c6a52(0xde2)]=_0x42a8ff===_0x3c6a52(0x2bb)||_0x42a8ff==='matching_item'?null:_0x283ce9,_0x4a50ac[_0x3c6a52(0x9ac)+currentStudentName+_0x3c6a52(0xe26)]=_0x2c2d28,_0x4a50ac['players.'+currentStudentName+_0x3c6a52(0xda6)]=serverTimestamp(),_0x4a50ac[_0x3c6a52(0x9ac)+currentStudentName+'.isScored']=![],await updateDoc(_0x18c4dd,_0x4a50ac),liveGameView[_0x3c6a52(0x8ea)]=_0x3c6a52(0xaf5);}function showAdminSummaryView(_0x39f928,_0x45eea0){const _0xef5630=_0x4a882c,_0x2acd9b=Object[_0xef5630(0x1f9)](_0x39f928['players']||{}),_0xe51a5c=_0x45eea0[_0xef5630(0x211)]||currentQuizData[_0xef5630(0xa6b)],_0x201d44=_0xe51a5c===_0xef5630(0x559)?[_0xef5630(0xd8c),'ไม่ใช่']:_0x45eea0[_0xef5630(0x1b5)]||_0x45eea0[_0xef5630(0x27e)]||[],_0x33188b={},_0x2f3a46=new Array(_0x201d44[_0xef5630(0xa96)])[_0xef5630(0xb37)](0x0);_0x201d44[_0xef5630(0xdc3)]((_0xb770eb,_0x38baed)=>{_0x33188b[_0x38baed]=[];}),Object[_0xef5630(0x26d)](_0x39f928[_0xef5630(0x774)]||{})[_0xef5630(0xdc3)](([_0x5595e7,_0x4a7192])=>{const _0x31d2b9=_0xef5630;if(_0x4a7192[_0x31d2b9(0x589)]==='active'&&_0x4a7192[_0x31d2b9(0x60b)]!==undefined){const _0x3eaccb=_0x4a7192[_0x31d2b9(0x60b)];_0x33188b[_0x3eaccb]&&(_0x33188b[_0x3eaccb]['push'](_0x5595e7),_0x2f3a46[_0x3eaccb]++);}});const _0x55e718=Math[_0xef5630(0x1f1)](..._0x2f3a46,0x1),_0x4b5bfa=_0xef5630(0x295)+(_0x45eea0[_0xef5630(0x592)]||_0x45eea0['questionText'])+_0xef5630(0x1d0)+_0x2f3a46[_0xef5630(0x7d8)]((_0x1306e3,_0xd35ee5)=>{const _0xe646e2=_0xef5630,_0x352a8d=_0x33188b[_0xd35ee5][_0xe646e2(0xa96)]>0x0?_0x33188b[_0xd35ee5][_0xe646e2(0x343)](',\x20'):_0xe646e2(0xbce);let _0x2eb113=![];if(_0xe51a5c===_0xe646e2(0xca9))_0x2eb113=_0xd35ee5===_0x45eea0[_0xe646e2(0x1dc)];else{if(_0xe51a5c===_0xe646e2(0x559)){const _0x1fd9ff=_0x45eea0[_0xe646e2(0x87b)];_0x2eb113=_0x1fd9ff&&_0xd35ee5===0x0||!_0x1fd9ff&&_0xd35ee5===0x1;}else _0xe51a5c===_0xe646e2(0x7d3)&&(_0x2eb113=_0x201d44[_0xd35ee5]===_0x45eea0[_0xe646e2(0x6b7)]);}const _0x3ca305=_0x2eb113?_0xe646e2(0x826):_0xe646e2(0x29c);return _0xe646e2(0xda1)+_0x1306e3+_0xe646e2(0x731)+_0x3ca305+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0xd35ee5+_0xe646e2(0xe52)+_0x201d44[_0xd35ee5]+_0xe646e2(0xd16)+_0xd35ee5+_0xe646e2(0xb2e)+_0x352a8d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xef5630(0x343)]('')+_0xef5630(0xd1d);liveGameView[_0xef5630(0x8ea)]=_0x4b5bfa;if(window['MathJax'])MathJax[_0xef5630(0x434)]();document[_0xef5630(0x81d)](_0xef5630(0x2bc))[_0xef5630(0x843)](_0xef5630(0x864),async()=>{const _0x137b9e=_0xef5630,_0x42c917=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x42c917,{'questionStatus':_0x137b9e(0x804)});}),document[_0xef5630(0x81d)](_0xef5630(0x368))[_0xef5630(0x843)](_0xef5630(0x864),()=>{openScratchpad(_0x45eea0,_0x201d44);});}function _0x18ec(){const _0x2c9b5c=['\x22\x20จำนวน\x20','.edit-custom-topic-btn','...','ผ่านฉลุย','interesting-stats-wrapper','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ใช่','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','md:col-span-3','ดอกเบี้ยอย่างง่าย','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','นอนไม่พอ','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตัวเลือก\x20ง','มุมและการวัดมุม','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','sync-timer-duration-input','translate(','lesson-plan-content','.move-shortcut-item','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','powerups','shortcut-name-input','export-leaderboard-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','isConfidenceScoringEnabled','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','screen_exit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','.submittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','slide-counter','กระต่ายตื่นตูม','select','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','2826540TzteQf','Failed\x20to\x20kick\x20player\x20','#DBEAFE','\x0a---\x0a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20</div>','Error\x20saving\x20settings:','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-white','อัปเดตพฤติกรรมสำหรับ\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','generate-from-text-btn','shortcut-editor-modal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-green-700','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20handleApiCall:','นำแบบทดสอบออกจากคลังนี้แล้ว','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','.delete-bp-project-btn','forEach','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27forceConfident\x27.','ตรีโกณมิติ','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','createElement','visibilitychange','student-quiz-leaderboard-content','curriculum','worksheet-input-area','ai-quiz-app-aefee.firebasestorage.app','\x20ครั้ง)</span></td>','.pen-size-btn','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','blueprint-settings-modal','classList','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','bp-modal-include-images-checkbox','null','Error\x20fetching\x20projects\x20for\x20move:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เซียนสมองไว','localeCompare','New\x20question\x20detected.\x20Clearing\x20powerup\x20flags.','confirm-create-project-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all','.lastAnswerIndex','(ก่อนเรียน)','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','.ai-content\x20li','สมการตรีโกณมิติ','จิงโจ้สโลว์ไลฟ์','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','group','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','</div><div\x20class=\x22space-y-2\x22>','clientX','ไม่พบตารางสำหรับ\x20Export','จำนวนเชิงซ้อน\x20(เสริม)','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numChoices','start-sync-game-btn','เกิดข้อผิดพลาดในการแก้ไข','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','\x20(มี:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','lineWidth','บทเรียนเรื่อง:\x20','สถิติและความน่าจะเป็น','</strong></div>','fill_in_the_blank','stringify','สร้างแบบทดสอบ','currentMode','ผู้เล่นใหม่\x20','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','bar','timestamp','ฟังก์ชันสัมพัทธ์\x20(rational)','pointsLastQuestion','fas\x20fa-bookmark','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','student-reading-area','\x20เข้าร่วมกลางเกม','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','editable-text-','ป่าไม้','Authentication\x20failed:','blueprintUrl','perfect_score','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','solution','16388944DCusYZ','เต่าสายฟ้า','style','confirm-bulk-quiz-settings-btn','<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','\x22\x20data-topic=\x22','timer-mode-select','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','team-quiz-topic','PROMPT_PLACEHOLDER','.lastAnswerValue','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','ตัวเลือก\x20ข','(หลังเรียน)\x20','พอใช้','presentation-ai-result','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-project-btn','admin-dashboard','scrollX','scrollIntoView','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','wasConfident','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','text-indigo-700','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','ไม่พบข้อมูลข้อสอบหลังเรียน','เกิดข้อผิดพลาดในการติดดาว','อนุพันธ์:\x20ผลคูณ/ผลหาร','anonymous','.duplicate-quiz-btn','start-presentation-btn','หน่วยมวล/น้ำหนักและการแปลง','วงกลม:\x20สมการและสมบัติ','shortcutTabs','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','loader-text','dispatchEvent','การบวกทศนิยม','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ไม่พบเกมที่กำลังเข้าร่วม','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','.delete-shortcut-tab-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','stdDev','fill_in_no_choices','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','ไม่ผ่าน','สรุปผลการวิเคราะห์:\x5cn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','translate','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-tab-btn','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','ยังไม่สร้าง','กำลังอ่านไฟล์\x20Test\x20Blueprint...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','readAsArrayBuffer','<div\x20class=\x22my-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20data-quiz-id=\x22','text/plain','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','#F3E8FF','save','submittedAt','Failed\x20to\x20resume\x20game\x20session:','not-found','sync-manage-players-btn','both','พีชคณิตและฟังก์ชัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-list','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','confirm-not-confident','dblclick','arrayBuffer','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','perseverance','.bp-view-analysis-btn','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.answers','attempts','🔁\x20โอกาสครั้งที่สอง','visible','memory','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','/public/data/teamQuizzes','timeBonusThisQuestion','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','(ไม่มีชื่อ)','result','บันทึกโปรเจค\x20\x22','answerValue','ผ่าน','results-table-container','cancel-test-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-image-btn','การแปลงรูปอัตลักษณ์','project-search-input','handleGenerateQuizFromBlueprintTopic','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reviewQuestionIndex','(เลือกแล้ว\x20','use-powerup-poll','🌗\x2050:50','student-team-selection-view','hiddenOptions_q','.quiz-bank-parallel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','เกมเมอร์','progress-student-select','createObjectURL','Team\x20Quiz','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','.bp-unlink-quiz-btn','modal-loop-until-pass-checkbox','point','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','ยกเลิกการจับคู่สำเร็จ','เงินงวด\x20(อนุกรมเงินงวด)','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','projectSortOrder','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','https://drive.google.com/uc?export=download&id=','clientY','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','อนุพันธ์:\x20กฎพื้นฐาน','ส้มตำปูปลาร้า','เข้าตลาดมืดครั้งที่\x202+\x20(ข้อ\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แบบทดสอบ:\x20','กรุณาเลือกไฟล์ก่อน','text-input-area','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','hint','save-game-results-checkbox','.generate-content-btn','.quiz-bank-settings-btn','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','จากเนื้อหาต่อไปนี้:\x20\x22','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','deltaY','file-shortcut-modal-title','ตอบถูกทุกข้อในแบบทดสอบนี้','</h4>','eraser-tool-btn','show_results_and_answers','bulk-results-display-select','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x20ตัวเลือก.\x20','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','เรขาคณิตวิเคราะห์','อนุพันธ์:\x20กฎลูกโซ่','quiz-editor-modal','Error\x20loading\x20blueprint\x20projects:','num-choices-container','add-student-btn','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','false','toString','%PDF','.move-file-shortcut-dropdown','_opt1\x22\x20name=\x22question','quiz-leaderboard-table-container','complexityValue','cancel-create-project-btn','pow','เกิดข้อผิดพลาดในการลบนักเรียน','position','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','scrollHeight','รอผู้ควบคุมไปข้อต่อไป...','create-project-btn','parentElement','unshift','dashboardConfig','originalQuestionText','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','.auto-resize-textarea','AI\x20แก้ไขคำถามสำเร็จ!','get','\x22\x20title=\x22','div[data-question-index=\x22','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','slice','student-list','เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)','pairedQuizId','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','ปุ่มลัดทั้งหมด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','underline','_opt0\x22>ใช่</label></div>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','move','options','analytics-summary-cards','additional-parallel-shortcuts-modal','.live-answer-btn','admin-testing','display','sin','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','start-quiz-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-blueprint-projects-btn','round','add-shortcut-tab-btn','.shortcut-list-item','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','starred-project','startsWith','offset','beginPath','itemId','blueprint-project-list','show-in-student-dashboard-checkbox','กำลังสร้างเนื้อหา:\x20','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','fileShortcutTabs','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','scratchpad-clear-btn','timer-duration-input','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','กรุณาพิมพ์คำตอบ','เกิดข้อผิดพลาด','correctAnswerIndex','sara','ARRAY','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','transparent','isAdaptive','Error\x20regenerating\x20question\x20in\x20editor:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เรเดียนและการแปลงหน่วย','text-gray-200','sync-player-management','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20ข้อ...','.live-summary-tooltip.visible','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','project-quizzes-list','ทศนิยม\x20(ค่าประจำหลัก)','\x20mr-2\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','max','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>','\x22>(','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','Error\x20generating\x20easy\x20version\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','values','user','<span\x20class=\x22sort-indicator\x20ml-2\x22>','หมูกระทะจะเยียวยาทุกสิ่ง','cancel-bulk-quiz-settings-btn','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','word-break:\x20break-all;','ตัวเลือก\x20ค','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยืนยันการจับคู่','ผู้ควบคุม\x20(ทดสอบ)','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','outerHTML','leaderboard-tab','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ตะวันฉาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','answered','parallelShortcutOrder','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','isFinished','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','questionType','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','การสร้างรูปด้วยวงเวียน–สันตรง','.bp-present-btn','presentation-explanation','ไม่พบแบบทดสอบในระบบเลย','จอมเวทย์ขนมหวาน','catch','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','.presentation-option','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','กรุณาใส่ชื่อใหม่','ซื้อ\x20\x22','lessonPlan','fromCharCode','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','#open-additional-shortcuts-btn','สายหมอก','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','floor','#results-table','ON_FIRE','.cancel-edit-topic-btn','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','close-lesson-plan-modal-footer-btn','screen','Error\x20starting\x20game:','blueprint.pdf','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','prod','manual-bp-grade-level','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','bg-yellow-50','bp-modal-difficulty-level-select','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','loop-until-pass-checkbox','groups','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','bp-reference-file-url','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','bg-[#EF4444]\x20text-white\x20font-bold','update','(ตามมาติดๆ)','Error\x20updating\x20sort\x20preference:','displayName','\x22\x20data-name=\x22','กราฟฟังก์ชันตรีโกณ','difficultyValue','comeback_king','Invalid\x20response\x20structure\x20from\x20AI.','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','execCommand','insurance','_blank','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','download','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','scheduled','default','innerText','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ไม่พบไฟล์\x20Test\x20Blueprint','delete-all-students-btn','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<li\x20class=\x22','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','entries','\x20ชุด)','.buy-time-confirm-btn','isLooping','โดเมนและเรนจ์','ค่าคลาดเคลื่อนของการวัด','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','retake-quiz-loop-btn','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','questions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results','หมาป่าเดียวดาย','quick_thinker',')</button>','allResponses','use-powerup-cutOne','team-player-status-grid','quiz-form','passingScore','modal-confidence-scoring-checkbox','#000000','schedule','helvetica','กรุณากรอกข้อมูลให้ครบทุกช่อง','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','getAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','.subTopic','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','promise','date_desc','quizId','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','q-explanation-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบของกลุ่ม','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','#e21b3c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','confirmation-modal','การลบทศนิยม','รอ...','Error\x20during\x20blueprint\x20link\x20cleanup:','close-additional-shortcuts-btn','auto-fix-latex-btn','practiceProblems','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','showRankings','/public/data/blueprintProjects/','\x22\x20name=\x22question_single\x22\x20value=\x22','parallel-test-input-area','\x20รายการ\x20สำเร็จ!','กำลังค้นหากิจกรรม...','cutOne','พิซซ่าหน้าทุเรียน','webkitRequestFullscreen','toFixed','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','confidence-modal','ไม่พบโปรเจค','text-yellow-800','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','file-shortcut-tabs-nav','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','short_answer','show-leaderboard-btn','กำลังอัปเดตแบบทดสอบ\x20','confirm-game-start-btn','transition','มุมพิเศษ\x2030°-60°-90°','$1\x5c%','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q','cancel-quiz-edits-btn','questionText','bp-project-title','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','คะแนนยังไม่ถึงครึ่ง','global-activity-quiz-list','tab_','\x20กลับเข้าสู่เกม!','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','keys','score-distribution-chart','mixed','currentTarget','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.pointsLastRound','input','พบข้อสอบ\x20','มูเตลู','</p><div>','API\x20call\x20failed','ธอร์ค้อนบิน','ค.ร.น.\x20(LCM)','lesson-sections-container','ฮิสโตแกรม','.totalPoints','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','sync-matching-select','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','eraser','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','tool','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','แบตหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.ai-content\x20h3','\x20ข้อ\x20','แบบเติมคำตอบ','\x22>ใช่</p>','ตารางความถี่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','wasForced','confirm-quiz-status-btn','baseVal','ร้อยละประยุกต์','reference.txt','ตัวแปรและนิพจน์','redo-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','bg-green-400\x20text-white\x20font-bold','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','.project-card-container:not(.opacity-50)','Error\x20rendering\x20student\x20progress:','Error\x20saving\x20manual\x20blueprint\x20project:','content','rgba(16,\x20185,\x20129,\x200.7)','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','onerror','clear-all-links-btn','project-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20|\x20','/users/','left','</form>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<span\x20title=\x22ใช้:\x20คูณเดิมพัน\x22>💰</span>','\x22\x5cn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','setFont','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','change','.regenerate-question-editor-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนได้เกินครึ่ง','.sortable-header','delete','toISOString','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','trail-tool-btn','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เนื้อหาสำหรับสอน:\x20','parallel-shortcut-editor-modal','destroy','original-mode-checkbox','groups.','Error\x20joining\x20activity:','.parallel-shortcut-btn','isPasscodeEnabled','custom-math-topic-input','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','leaderboard-quiz','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','ผลรวมอนุกรม\x20(Σ)','ไม่พบข้อมูลการจับคู่','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','math-topic-search-input','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','quiz-generation-area','สอบซ่อม','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>💰\x20เดิมพัน\x20(','คะแนนเต็ม','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reference_onet.pdf','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dataset','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','onblur','cursor','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','join','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-semibold\x20mb-3\x20animate-pulse\x22>💰\x20โหมดเดิมพันทำงานอยู่!\x20(เลือกคำตอบเพื่อเดิมพัน)</div>','padStart','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','json','Error\x20linking\x20quizzes:','undefined','รอเปิด','anon-settings-container','generated','student-quiz-topic','</p><p><strong>เฉลย:</strong>\x20','main-correct-answer-display','</p></div>','NEGATIVE_INFINITY','add-from-global-bank-btn','\x20รายการสำเร็จ!','key','manual_release','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.delete-parallel-shortcut-tab-btn','(ฉบับง่าย)\x20','hidden','use-powerup-forceConfident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getPage','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','มังกรกินจุ','student-quiz-leaderboard-tab','fa-crown\x20text-yellow-500','highlighter-tools-group','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','disabled\x20bg-gray-400\x20cursor-not-allowed','sync-submit-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','open-scratchpad-btn','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Error\x20loading\x20user\x20preferences:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','not_confident','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-edit-topic-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กัปตัน','gameData','Error\x20updating\x20project\x20color:','.sort-indicator','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','removeItem','isForcedConfident','createdAt','FileReader\x20error:','ไม่พบโปรเจคที่ต้องการลบ','</a>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','podium','parallel-shortcut-id-input','\x20ข้อแล้ว!','ทฤษฎีบทพีทาโกรัสและการประยุกต์','onloadend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20','MathJax','confirm-team-players-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','คณิตศาสตร์','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','close-presentation-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','Attempting\x20to\x20save\x20game\x20results...','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','1828912GEGNas','incorrect','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','disabled','14211NSUtnB','check-presentation-answer-btn','scratchpad-canvas','QUICK_THINKER','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-from-results-btn','Failed\x20to\x20generate\x20practice\x20test:','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','.parallel-shortcut-tab-btn','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','ดวงดาว','reveal-names-btn','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','getBBox','เกิดข้อผิดพลาดในการอ่านไฟล์','half_mark_status','API\x20Error\x20Response:','bank-input-area','admin-try-quiz-btn','minHeight','.highlighter-color-btn','input[name=\x22team_player\x22]:checked','#E5E7EB','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','.edit-quiz-btn','grid-view-btn','\x22.\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','bulk-confidence-mode-select','default-2','admin-view','overallGroups','stroke','.buy-item-btn','bg-yellow-300\x20text-yellow-900\x20font-bold','parseFromString','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','project-passcode-input','math-topics-checkbox-container','close-topic-bank-btn','.question-editor-item','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','link-input-area','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','.regenerate-question-btn','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','<svg','.color-palette-btn','student-passcode-input','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ลำดับการดำเนินการ\x20(PEMDAS)','ความชันเส้นสัมผัส','keyup','ยืนยันและอัปเดตทั้งหมด','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','Blueprint\x20O-NET\x20ป.6','whole_quiz','.summary-bar-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','#add-question-editor-btn','test','filter','ราชาคัมแบ็ก','topicId','index','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','คณิตการเงิน/บูรณาการ','admin','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','.delete-quiz-btn','กรุณาเลือกคำตอบก่อนครับ','ทะเล','แผนภาพเวนน์','latestScore','show-final-results-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','comparison-overall-tab','อัศวินรัตติกาล','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','cloneNode','มือปราบสายรุ้ง','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','parallel-default-2','การหาร','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','.linkedQuizId','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','answer-counter','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','<option\x20value=\x22','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','bg-red-500\x20text-white\x20font-bold','div','smooth','active','modal-adaptive-quiz-checkbox','timed','join-group-activity-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','scratchpad-controls','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','เพื่อนสนิท','เกิดข้อผิดพลาดในการโหลดโปรเจค','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','แผนการสอน:\x20','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','นกฮูกกลางวัน','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','medium','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','per-question-options','modal-results-display-select','กรุณาเลือกสถานะ','#view-rankings-btn','td,\x20th','bg-gray-400','quiz-search-input','\x22><span\x20style=\x22','bg-green-200','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','ครัวซองต์','<p\x20class=\x22','decode','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','select[name=\x22question_single\x22]','warn','bp-modal-num-questions','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x20หัวข้อ)','.quiz-bank-try-btn','separate-by-content-from-file-checkbox','topics.','\x20ชุดสำเร็จ!','รูปหลายเหลี่ยมและมุมภายใน','ติดซีรีส์','cos','แบบปรนัย\x204\x20ตัวเลือก','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','Invalid\x20response\x20structure\x20from\x20API.','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีตัวช่วย</span>','.game-start-btn','.tab-name-input','typesetPromise','<span\x20title=\x22ใช้:\x20ตัด\x201\x20ตัวเลือก\x22>✂️</span>','เปลี่ยนชื่อโปรเจคสำเร็จ','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','force-math-checkbox','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-tab','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','กรุณาวาง\x20URL\x20ของบทความก่อน','loopUntilPass','Error\x20saving\x20file\x20shortcut\x20config:','file-topics-list-container','desc','\x20/\x20','requestFullscreen','includeImages','[data-field=\x22subTopic\x22]','ลำดับเรขาคณิต\x20(GP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','post-test','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','type','file-default-2','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','การบวกเศษส่วน','ai-quiz-app-aefee','\x20จาก\x20','touchend','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','confirm-quiz-settings-btn','.txt','fixedData','ฟังก์ชันกำลังสองและกราฟ','กำลังสร้างบทเรียน:\x20','.delete-hidden-parallel-shortcut-btn','.timeBonusThisQuestion','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','FIRST_TRY_ACE','เกิดข้อผิดพลาดในการซื้อ','/public/data/projects','remove','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','btn','Error\x20calculating\x20final\x20scores:','bg-red-500','\x20ตัวเลือก)','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','getElementsByTagName','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','.live-answer-btn,\x20#live-submit-short-answer-btn','text-tab','line-height:\x201.3;\x20min-width:\x200;','.topic-actions-edit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','quiz-id-input','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','fileShortcutsConfig','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','red','activeGameSession','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input','number','COMEBACK_KING','powerupUsedThisTurn','none','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','getScreenCTM','<span\x20title=\x22ใช้:\x2050:50\x22>🌗</span>','ไม่มี','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','sync','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','top','/public/data/quizzes/','interesting-stats-container','\x20to\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','font-bold\x20text-green-700','game-start-modal-title','จันทร์เจ้า',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20text-gray-700','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','สร้างโปรเจคสำเร็จ!','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-quiz-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','upperGroupNames','bg-green-100\x20font-bold','team','shortcut-reference-url-input','input[type=\x22radio\x22]:checked','global-activity-modal','\x20สำเร็จ','passcode-input-container','.quiz-bank-item','qIndex','keydown','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','แก้ไขข้อนี้','justification','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','โหลดนาน','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','icon','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','100%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','lesson-loader-text','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','$1\x20\x5cfrac','<div\x20class=\x22loader\x20mx-auto\x22></div>','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-options-container','.edit-shortcut-btn','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','comparison-overall-content','end-sync-game-btn','generate-worksheet-btn','100px','timerDuration','select-all-topics-btn','.export-pdf-list-btn','กองดอง','\x5cneq','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','สรุปผลสุดท้าย','student-name-select','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','scheduled_pending','next-question-timed-btn','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x20mb-2\x22>','.topic-category','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','.shortcut-list-item:not(.opacity-50)','G-V90KRM0L63','.project-card-container.opacity-50','parallel-shortcut-name-input',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','พื้นที่วงกลม/ส่วนของวงกลม','replaceChild','กำลังวิเคราะห์หัวข้อ...','สิงโตยิ้ม','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','total','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','duration-300','quiz-editor-questions-container','/public/data/syncGames','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','file-shortcut-url-input','นักล่าฝัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','Failed\x20to\x20get\x20hint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','text-red-600','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกี่ยวกับหัวข้อ\x20\x22','createElementNS','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','leaderboard-tab-content','\x20from\x20sync\x20game:','documentElement','2-digit','Error\x20processing\x20file\x20shortcut\x20click:','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','confirm-confident','toDataURL','game-start-quiz-id','quiz-type-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20displaying\x20blueprint\x20project:','fa-user-astronaut\x20text-blue-700','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','API\x20call\x20failed\x20with\x20status:\x20','ค่าสัมบูรณ์','modal-passing-score-input','dragover','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','grabbing','.edit-hidden-file-shortcut-btn','Firebase\x20initialization\x20failed:','handleGenerateAndShowLesson','การจัดหมู่\x20(Combination)','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','name','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','endTime','/public/data/quizzes','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','จุด\x20เส้น\x20ระนาบ','bg-red-50','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','เปลี่ยนชื่อแบบทดสอบสำเร็จ','#D1FAE5','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','move-quiz-modal','คำเตือน\x20(','\x22\x20class=\x22pin-project-btn\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','lineCap','pen','file-shortcut-editor-modal','ไม่พบแบบทดสอบ','เกิดข้อผิดพลาดในการบันทึกลำดับ','set','lastAnswerCorrect','asc','overline','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','link-url-input','manage-tab','preScore','สมมาตร\x20(แกน/จุด)','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ลิมิต','Error\x20processing\x20shortcut\x20click:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcuts','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','.quiz-result-card','generate-from-topic-btn','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','ร้อยละพื้นฐาน','Error\x20moving\x20quiz:','blueprint-input-area','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','pin','ยังไม่เต็มนะ','):\x20เสีย\x201P','true_false','ตรวจพบการออกจากหน้าจอครบ\x20','pointsAwarded','quadraticCurveTo','text/csv;charset=utf-8;','auto','#FEE2E2','<div>','modal-timer-duration-input','</span></p>','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','export-leaderboard-pdf-btn','isCorrect','description','<p\x20class=\x22font-bold\x20text-sm\x20','ไม่พบข้อมูลเกม','Error\x20starting\x20live\x20race:','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','กำลังสร้างคำถามข้อ\x20','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','answer-grid-container','dragend','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','fa-bolt\x20text-blue-500','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','bp-modal-question-complexity-select','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','countdown-display','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','แคลคูลัสเบื้องต้น','/questionBank','oninput','Error\x20saving\x20shortcut:','.delete-file-shortcut-tab-btn','pen-tools-group','goto-next-question-btn','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','<button\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20comparing\x20results:','\x22\x20value=\x22true\x22\x20','<button\x20id=\x22use-powerup-strategyScan\x22\x20class=\x22powerup-btn\x20bg-cyan-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>📡\x20สแกน\x20(','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','status','Error\x20starting\x20group\x20quiz:','\x20(สำหรับ\x20','text-red-300\x20hover:text-red-100','.powerups.','add-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','submit-group-answer-btn','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','stem','end-game-btn','bg-yellow-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<span\x20class=\x22font-bold\x20','Enter','global-quiz-count','removeEventListener','label','verify-answers-btn','240','สร้างใหม่','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27jinx\x27.','projectOrder','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','load-quiz-btn','comparison','strategyScan','.file-shortcut-btn[data-id=\x22','bg-[#4ADE80]\x20text-green-900\x20font-bold','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','summaryContent','fix\x20the\x20option','getContext','.answered','\x22,\x20','ส่วนเบี่ยงเบนมาตรฐาน','mouse','<i\x20class=\x22fas\x20fa-pen\x22></i>','bg-teal-500\x20hover:bg-teal-600\x20text-white','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','tooltipTarget','Error\x20pairing\x20quizzes:','canvas','student-rankings-modal','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','bg-gray-500','\x22\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-popup','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','(^|[^\x5c\x5c])\x5cb','per-question-text','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','กำลังเตรียมไฟล์...','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','confidence-scoring-description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','reference.pdf','ความแปรปรวน','endsWith','additional-shortcuts-list','ย้ายแบบทดสอบไปโปรเจคอื่น','close','พื้นที่ใต้กราฟ/ระหว่างกราฟ','table','competition','.draggable-text','สแกนผู้เล่นอื่นเพื่อดูว่าใครมี\x20📊ส่องสถิติ\x20หรือ\x20💰คูณเดิมพัน\x20อยู่ในคลัง','</span><span\x20class=\x22font-bold\x22>','Error\x20saving\x20project\x20order:','input[name=\x22drill_answer\x22]:checked','shuffle-setting-select','view-my-progress-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','highlighter-size-slider','เพิ่ม\x20','ยังไม่ส่ง','txt','เกิดข้อผิดพลาดในการใช้ไอเทม','1PePRRm','touchstart','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','file-default-1','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','parallel-shortcut_','shadowColor','เข้าตลาดมืดครั้งแรก\x20(ข้อ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังโหลดคลังข้อสอบทั้งหมด...','save-quiz-edits-btn','<div\x20class=\x22flex-1\x22></div>','สร้างชุดคำถามจับคู่','กำลังกลับเข้าสู่เกม\x20','กฎของไซน์','เกิดข้อผิดพลาดในการนำผู้เล่นออก','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','readAsDataURL','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','trim','exitFullscreen','originalTopic','px,\x20','.correct-response-input','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','Remedial\x20quiz\x20generation\x20failed:','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','moveTo','checked','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','show-results-btn','wakeLock','getBoundingClientRect','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','lower_group_count','back-to-results-btn','deselect-all-topics-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Successfully\x20removed\x20','fas\x20fa-star\x20text-yellow-500','confirm-game-start-modal','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ฟังก์ชันยกกำลัง','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','Error\x20listening\x20for\x20student\x20profiles:','ยูทูปเบอร์ฝึกหัด','secondChance','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','ในข้อนี้\x20ถ้าคุณตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-yellow-300','ข้อต่อไป','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','bg-red-100\x20text-red-800','parallel-shortcut-modal-title','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','หมดเวลาสำหรับข้อนี้!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','strength-weakness-analysis-container','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','<span\x20title=\x22ใช้:\x20ส่องสถิติ\x22>📊</span>','พื้นที่ผิวรูปทรงสามมิติ','\x20|\x20ID:\x20','ไอติมทอด','leaderboard-quiz-tab-btn','questionId','tfrac','question','Error\x20fetching\x20project\x20quizzes:','Error\x20confirming\x20players\x20for\x20sync\x20game:','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','😈\x20คำสาป\x20(Jinx)','ไม่ได้ตอบ','กำลังดึงไฟล์อ้างอิงจากลิงก์...','bestScore','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','ม้าดีดกะโหลก','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</button>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','use-powerup-strategyScan','questionIndex','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','.generate-post-test-btn','เส้นรอบรูป','\x20วินาทีสำหรับข้อนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','blueprint-projects-modal','เลือกผู้เล่น\x201\x20คน\x20ให้ถูกบังคับ\x20\x22มั่นใจ\x22\x20ในข้อนี้','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','pointsLastRound','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','flex','.start-live-race-btn','playerNicknames','\x20to\x20blueprint\x20topic\x20','referenceUrl','mjx-container','score','application','</select>','comparison-individual-tab','mainTopics','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.application-options\x20button','แท็บใหม่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/lessons','cancel-confidence-btn','responses.','ต้นฉบับทั้งหมด','tabId','???','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','สลับไปโหมดผู้ควบคุม','cancel-move-quiz-btn','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','first_try_ace','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','shortcutId','perfect_score_status','/public/data/liveGames','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','next-question-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x0a\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','bank-quiz-list','เพนกวินไฟ','editor-quiz-topic','ลบแบบทดสอบสำเร็จแล้ว','ondragover','.quiz-bank-present-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','บักแตงโม','ดีเทอร์มิแนนต์','20265HyZCLf','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','promptFeedback','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-timer-container','📡\x20สแกนกลยุทธ์','applicationHTML','text-emerald-800','border-gray-200','ฟังก์ชันราก\x20(root)','รูปสี่เหลี่ยมและสมบัติ','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','black-market-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','mandatory','gradeLevel','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','leq','cancel-passcode-btn','jspdf','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','numeric','ท้องฟ้า','worksheet-tab','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-container','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.topic-name-display','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','วงกลม:\x20คอร์ดและเส้นสัมผัส','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','.rename-quiz-btn','</td>','contains','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','behavior-log-tab-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stepByStepExamples','<button\x20data-value=\x22','.delete-svg-btn','.move-file-shortcut-item','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','correctResponse','\x22\x20data-target-tab-id=\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','file-default-','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','lowerGroupNames','.delete-parallel-shortcut-btn','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','.ideal-answer-input,\x20.correct-response-input','manual-blueprint-modal','คำอธิบาย...','กำลังดึงข้อมูลจากลิงก์...','beforeend','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','.isScored','delete-svg-btn','sort','answers','/studentProfiles','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','text-red-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','bg-green-200\x20text-green-900','.delete-hidden-shortcut-btn','</span></div>','color','สมการยกกำลัง','ตัวแทนแห่งดวงจันทร์','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','blockReason','Error\x20preparing\x20content\x20quiz:','cancel-shortcut-edit-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','อยู่ในสาระการเรียนรู้ใด:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','-\x20ข้อ\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','เกิดข้อผิดพลาดในการบันทึก','transition-all','student-progress-view','Error\x20joining\x20sync\x20game:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','การวัด','pointerup','ownerSVGElement','.move-shortcut-menu-btn','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','preTScore','timer-duration-container','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','poll','project-dashboard-view','#open-additional-file-shortcuts-btn','idealAnswer','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','questionDisplayedAt','responses','blueprint-topics-list','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','progress-project-select','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','numQuestions','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','height','bg-blue-500\x20hover:bg-blue-600\x20text-white','Error\x20in\x20generating\x20from\x20files:','additional-shortcuts-modal','ยืนยันการกระทำ','image/png','mean','N/A','mode-switcher-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','wager-slider','createdBy','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','.quiz-status-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','.use-hidden-shortcut-btn','.toggle-actions-btn','buy-time-quantity-input','live-submit-short-answer-btn','สายลมแห่งโชคชะตา','value','student','กรุณาเลือกโปรเจคปลายทาง','preventDefault','ดูว่าคนอื่นตอบข้อไหนบ้าง\x20(คำเตือน:\x20หากใช้แล้วตอบผิด\x20บทลงโทษคะแนนจะ\x20x2)','ระยะเวลา\x20(วินาที):','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตสถานะสำเร็จ','fa-rocket\x20text-purple-500','p-2\x20bg-black/10\x20rounded-md','editable-quiz-topic','ความคล้ายของรูป','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ปิดใช้งาน','circle','Error\x20saving\x20file\x20shortcut:','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','text-gray-400\x20hover:text-indigo-600','ไก่ฟ้าพญาลอ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERSEVERANCE','ลบโปรเจค\x20\x22','adaptive-quiz-checkbox','sync-variant-selector','📊\x20ส่องสถิติ','text-gray-700','check-answer-btn','Error\x20adding\x20students:','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','bottom','bp-modal-passing-score-input','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','แก้ไขสูตรคณิตศาสตร์\x20','update-old-quizzes-btn','confirm-move-quiz-btn','parallel-shortcut-container','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','Error\x20opening\x20quiz\x20editor:','\x20mx-1\x20text-lg\x22></i></span>','input[type=\x22radio\x22][value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAnonymousRevealed','bank-quiz-search-input','Error\x20saving\x20parallel\x20shortcut:','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','เกิดข้อผิดพลาดในการจับคู่','_opt','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','message','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','.space-y-1.pl-4','topic','confirm-link-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','ondragstart','checkAnswer','10PKNPrK','list','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พาราโบลา','setTransform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','ส่งแล้ว','\x5cge','⏳\x20ซื้อเวลา','dim-overlay','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','parse','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','ตัวประกอบและตัวประกอบเฉพาะ','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','Error\x20toggling\x20star\x20status:','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','players','candidates','.ai-content\x20td','project-detail','รูปแบบการให้เหตุผล','การเรียงสับเปลี่ยน\x20(Permutation)','Error\x20deleting\x20project:','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','.pdf','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-quiz-bank-btn','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','Error\x20updating\x20pin\x20status:','modal-timer-duration-label','cancel-bp-settings-btn','right','linkedQuizIds','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','verify-answers-editor-btn','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22ใช้:\x20ประกันภัย\x22>🛡️</span>','mousemove','เกิดข้อผิดพลาดในการลบแบบทดสอบ','.start-game-btn','ชีสเค้ก','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','log','การบวก','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','close-market-btn','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','parallel-default-1','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','.move-parallel-shortcut-menu-btn','📊\x20สถิติการตอบ\x20(จากผู้เล่นที่ตอบแล้ว):\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.live-answer-btn,\x20#sync-submit-btn','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','/public/data/blueprintProjects','pollUsedThisTurn','Error\x20confirming\x20players:','confidence_single','\x5cle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','parallel-test-upload-input','text-gray-300\x20hover:text-white','ยกเลิกการเชื่อมโยงสำเร็จ','ความต่อเนื่อง','visibilityState','create-project-modal','การคูณ','settings','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','Error\x20showing\x20quiz\x20detail\x20view:','wasJinxed','สร้างคำถามแบบเติมคำในช่องว่าง','.bp-create-content-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','start-game-btn','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x)','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','generate-from-parallel-test-btn','now','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','showInStudentDashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หนอนหนังสือ','ตอบถูก\x203\x20ข้อติดต่อกัน','วงรี','จับคู่เพื่อเปรียบเทียบผล','.bp-open-topic-bank-btn','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ความชันและเส้นตรง','quiz-results-view','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','<div\x20class=\x22my-6\x22>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','matching_item','scale','ไอรอนแมน','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','map','rgba(255,\x20255,\x200,\x200.5)','ข้อ\x20','มี\x20Points\x20ไม่เพียงพอ','team-student-list','confirm-join-game-btn','\x27,\x20\x27','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','การคูณเศษส่วน','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','shortcutOrder','some','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','.scratchpad-content-wrapper','ฟังก์ชันแบบชิ้นส่วน','Failed\x20to\x20apply\x20forceConfident:','answering','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','Error\x20updating\x20quiz\x20status:','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','แบบทดสอบนี้ปิดใช้งานอยู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','การแจกแจงปกติและ\x20z-score','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','appendChild','บันทึกการตั้งค่าแล้ว','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20name=\x22question','fa-fire\x20text-orange-500','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','<div\x20id=\x22q-image-container-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','size','Powerup\x20use\x20failed:','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','leaderboard','กฎบวกและกฎคูณ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x5cfrac{$1}{$2}','stopPropagation','ค่าความจริง/ตารางค่าความจริง','times','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','file-input-area','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','admin-password-input','bp-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','onload','\x22\x20value=\x22','teacherSuggestions','.score','Error\x20analyzing\x20blueprint\x20topics:','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','getElementById','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','</h3>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','lives','price','กรุณาเลือกโปรเจคที่ต้องการบันทึก','border-green-700','#26890c','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','add-parallel-shortcut-tab-btn','parallel-default-','.status','<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>','back-to-home-manual-release','ไม่พบข้อมูลแบบทดสอบ','.topic-selection-btn','subTopics','save-bp-reference-btn','classStrengths','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','file-upload-input','confirm-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20lesson\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</span></td>','use-powerup-','นินจาชาเขียว','เทพทรู','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<h1></h1>','reset-view-btn','ดาวสภา','confirm-wager-btn','addEventListener','เริ่มกิจกรรม:\x20','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','members','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Error\x20deleting\x20quiz:','bg-black/20','อุณหภูมิและการแปลง','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','Error\x20updating\x20quiz\x20settings:','กำลังสร้างแบบทดสอบ:\x20','สายตาสั้น','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','lesson-view-modal','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','presentation-modal','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','fadeStartTime','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-timer-countdown','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','เลือกโปรเจคเพื่อบันทึก','ondrop','จัดการ','click','.delete-custom-topic-btn','</div></div></div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','Original\x20quiz\x20not\x20found','querySelector','ไม่สามารถโหลดข้อมูลอันดับได้','Error\x20processing\x20parallel\x20shortcut\x20click:','confidence-scoring-checkbox','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','แมวเก้าชีวิต','แบบทดสอบฝึกฝนเรื่อง:\x20','input[name=\x22syncVariant\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x20คู่\x20','shadowBlur','Error\x20unpairing\x20quizzes:','#student-project-leaderboard-content\x20thead','artifacts/','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','pinnedProjects','correctAnswer','/public/data/customMathTopics','add','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>','ฟังก์ชันพหุนาม','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','students','ตรวจทานเฉลยเสร็จสิ้น!','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','subTopic','_opt1\x22>ไม่ใช่</label></div>','\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Transactionล้มเหลว:\x20','sum','แก้ไขหัวข้อสำเร็จ','quiz-bank-count','กรุณาป้อนหัวข้อสำหรับใบงาน','ระยะเวลา\x20(นาที):','text-purple-600','lastIndexOf','ไม่สามารถโหลดรายการโปรเจคได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x20(p=','/public/data/practiceBank','.topic-name-input','สร้างแล้ว','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','1152mIdGea','จำนวนคละ','.question-editor-item:last-of-type','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','.question-editor-item[data-q-index=\x22','uid','STOP','blueprint-upload-input','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x27\x20ในหัวข้อ\x20\x27','save-quiz-btn','passing-score-input','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ondblclick','comparison-modal','pre-test',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','แบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การนับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','Blueprint\x201','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perQuestionStats','parent','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','commit','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','blueprint-project-manager-view','body','2153406MLOzxN','targetId','random','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>',':</span><span>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','Error\x20saving\x20blueprint\x20project:','หัวข้อที่สร้างเอง','(นำโด่ง)','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','reference-pdf-upload','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','เกิดข้อผิดพลาดในการลบโปรเจค','comparison-individual-content','leaderboard_','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-input','<div\x20class=\x22space-y-4\x22>','ส่งคำตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','teachingContent','$$$1$','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','Error\x20deleting\x20shortcut:','include-images-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','latestSubmittedAt','bg-green-500','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การกระจายและการจัดหมู่','นักกีฬา','scrollY','ใช้\x20\x22คำสาป\x22\x20กับ\x20','newOptions','ลำดับเลขคณิต\x20(AP)','innerHTML','text-blue-800','line-through\x20text-red-700','Error\x20analyzing\x20file\x20for\x20topics:','modal-message','quiz-start-time','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','rgba(59,\x20130,\x20246,\x200.7)','blur','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','selected-answer-index-hidden-wager','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20game\x20results:','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','file-tab','upperGroupResponders','toLocaleDateString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','เวกเตอร์และเมทริกซ์\x20(เสริม)','fa-pen','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','เน็ตไอดอล','upper_group_count','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','touchcancel','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-blueprint-btn','คัดลอกไม่สำเร็จ','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','leaderboard-quiz-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','บทเรียน','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','text-green-700\x20bg-green-100','bg-green-200\x20text-green-900\x20font-bold','center','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','#confidence-input-','autoTable','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','admin-password-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x22.\x20Ideal\x20Answer:\x20\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดต:\x20','หลังเรียน','pointContent','onchange','Error\x20listening\x20for\x20custom\x20math\x20topics:','commonMistakes','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-id=\x22','contentEditable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.tab-name-display','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','Error\x20saving\x20to\x20question\x20bank:','touchmove','การคูณทศนิยม','pointerType','text-indigo-800','enable-passcode-checkbox','modal-shuffle-select','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelTestShortcutsConfig','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','gameVariant','bg-blue-100','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','ยอดเยี่ยม','มัธยฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDocument','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','-options\x22>','numPages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','topics','worksheet-topic-input','viewBox','live-game','standardTopic','enable-black-market-checkbox','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','-tab-content','.move-parallel-shortcut-dropdown','นักเดินทาง','บันทึกคำถามใหม่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิมพ์ตอบ','choices_only','.shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timerMode','text','.move-shortcut-dropdown','toLowerCase','additional-file-shortcuts-modal','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','Error\x20adding\x20topic:','analytics-tab-content','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','not_generated','\x20จุดเรียบร้อยแล้ว','onSecondChance','confidence-input-','[data-topic-id]',',\x20r=','.ai-content\x20p','.generate-easy-version-btn','num-choices','confidence-choice-btn','%</span>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transformOrigin','แผนภาพกล่อง\x20(box\x20plot)','presentation-short-answer-input','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ\x20(ยกเว้น\x20\x27ซื้อเวลา\x27\x20และ\x20\x27สแกน\x27)','passcode','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','นักประดิษฐ์','.verification-result','startTime','freeMarketEntryUsed_q','topic-quiz-bank-modal','คนดีศรีสยาม','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','quiz-bank-modal','\x22\x20data-quiz-id=\x22','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','dfrac','Error\x20verifying\x20answers:','กิจกรรมสิ้นสุดลงแล้ว','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','pinned-items','-options','th-TH','บันทึกการตั้งค่าสำเร็จ','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','show_pass_fail_only','sync-short-answer-input','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','student-join-game-view','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','confident','</label></div>','input[name=\x22syncVariant\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','เศษส่วน\x20(ย่อ/ขยาย)','newOptionsPayload','.group','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','jinx','player-list-lobby','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x20pointer-events-none\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','bp-add-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','sync-timer-duration-container','players.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','#ffffff','use-powerup-jinx','imageCode','docs','ปวดหลัง','\x20คน\x20(','split','input[type=\x22checkbox\x22]:checked','<span\x20title=\x22ใช้:\x20โอกาสครั้งที่สอง\x22>🔁</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','onkeydown','cancel-blueprint-projects-btn','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','parallelShortcutTabs','cancel-quiz-edits-btn-footer','classWeaknesses','open-sync-scratchpad-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','file-shortcut-name-input','<option>กำลังโหลดโปรเจค...</option>','wheel','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','on_fire','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','Error\x20committing\x20score\x20updates:','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scratchpad-modal','closest','.quiz-bank-checkbox:checked','00:00','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','analytics','<li>','\x5ctimes','กำลังสร้างแบบทดสอบจากหัวข้อ...','รหัสไม่ถูกต้อง','every','สอบปกติ','Auto-linking\x20new\x20quiz\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','Error\x20deleting\x20topic:','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','powerupUsed','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','</p>','#F59E0B','Error\x20verifying\x20answers\x20in\x20editor:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','สร้างคำถามใหม่\x201\x20ข้อ\x20','shortcutIds','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','dataIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','applicationData','.linkedQuizIds','/public/data/projects/','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','handleGeneratePracticeTest','กำลังสแกนหาแบบทดสอบเก่า...','findIndex','หัวข้อหลักใหม่','.pointsLastQuestion','\x20จุด','results-display-select','bg-[#DCFCE7]\x20text-green-900','dragstart','close-additional-file-shortcuts-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','อินฟลูเอนเซอร์','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.move-parallel-shortcut-item','globalCompositeOperation','application/pdf','draggable-text','Error\x20updating\x20project\x20name:','.doc','lobby','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','copy-quiz-id-btn','export-pdf-btn','toDate','เรขาคณิต','export-pdf-modal','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ref','results-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','generate-from-link-btn','generated-quiz-container','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','postScore','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กุ้งเต้นแร้งกา','.eraser-size-btn','<i\x20class=\x22fas\x20fa-magic\x22></i>','analytics-tab-btn','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','back-to-student-home-btn','answer','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','.unpair-quiz-btn','student-progress','input[type=\x22checkbox\x22]','export-lesson-to-pdf-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','ที่พิมพ์ได้\x20จำนวน\x20','live-player-list','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','Error\x20resetting\x20project\x20order:','multiply','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','เงาปริศนา','modal-timer-mode-select','.group\x5c/dropdown-file','powerupUsed_q','student-project-leaderboard-table-body','```json','topic_','shortcut-blueprint-url-input','nextElementSibling','Error\x20listening\x20for\x20starred\x20quizzes:','mode','border-indigo-500\x20text-indigo-600','ฟังก์ชันเชิงเส้นและกราฟ','order','lesson-plan-modal','realScore','border-green-300\x20bg-green-50','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','.project-card-container[data-id]','(รอคะแนน)','เส้นตรง:\x20รูปแบบสมการ','close-comparison-modal-btn','.open-bp-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','.file-shortcut-btn','text-green-600','PERFECT_SCORE','Error\x20saving\x20user\x20preference:','Error\x20listening\x20for\x20projects:','ห.ร.ม.\x20(GCD)','default-','เกิดข้อผิดพลาดในการอัปเดตสถานะ','ระบบเลขและค่าประจำหลัก','opacity-50','นักวิทยาศาสตร์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','usedBuyTime','generated-quiz-actions','s;\x22\x20title=\x22','<button\x20id=\x22use-powerup-jinx\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>😈\x20คำสาป\x20(','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20quizzes\x20into\x20global\x20cache.','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','SAFETY','Error\x20deleting\x20student:','ไม่สามารถเพิ่มนักเรียนได้','string','quizType','💰\x20คูณเดิมพัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','#FCE7F3','true','url','\x20สำเร็จ!','(ก่อนเรียน)\x20','.project-card-content','find','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','ชื่อหัวข้อห้ามว่าง','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','แบบทดสอบที่ติดดาว','ไม่ใช่\x20/\x20ผิด','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','close-additional-parallel-shortcuts-btn','submission','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','ฟังก์ชันลอการิทึม','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','การจัดกลุ่มข้อมูล','404\x20Not\x20Found','ต้นฉบับ\x202','Error\x20submitting\x20team\x20answer:','AI\x20grading\x20failed:','selectedTopicNames','ลบหัวข้อสำเร็จ','ก้อนเมฆ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-title','restore','.edit-parallel-shortcut-btn','เกิดข้อผิดพลาดในการลบผลสอบ','length','เกิดข้อผิดพลาดในการเข้าตลาดมืด','lesson-loader','standard','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','forceConfident','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','keyConcepts','เกมสิ้นสุดลงแล้ว','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','highlighter-size-value','Error\x20creating\x20project:','กรุณาเลือกโปรเจคก่อน','เกิดข้อผิดพลาดในการปักหมุด','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','save-settings-btn','teacherTips','.pen-color-btn','scores-tab-content','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','ไฟล์ลัด\x202','นักดนตรี','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','blob','เพิ่มรายการที่เลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touches','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','from','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','ai-quiz-app-aefee.firebaseapp.com','manual-bp-content','การแจกแจงทวินาม\x20(พื้นฐาน)','bp-modal-shuffle-setting-select','input[name=\x22status-option\x22]:checked','closePath','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','function','ถูกต้อง!','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','scores-tab-btn','isStarred','<div\x20class=\x22p-2\x20rounded-md\x20','ช่างภาพ','category','drop','BOOLEAN','width\x2060s\x20linear','ปิดระบบมั่นใจ\x20และเปลี่ยนเป็น\x20\x22เดิมพัน\x22\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x\x20ที่เดิมพัน)','parseInline','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','mousedown','scoresCalculated','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results_','.star-quiz-btn','ดอกเบี้ยทบต้น','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20Formula\x20Fix\x20Error:','game-start-mode','student-project-leaderboard-tab','title','analyze-strengths-btn','CEOพันล้าน','checkbox','ใช่\x20/\x20ถูก','#6366F1','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','use-powerup-secondChance','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>','pointercancel','<i\x20class=\x22fas\x20fa-save\x22></i>','live-game-view','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-bank-btn','ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)','file-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','behaviorLog','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','live-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bulk-loop-until-pass-checkbox','bp-modal-quiz-type-select','leaderboard-table-body','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>','flex\x20flex-col\x20gap-2','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','tGain','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','.remove-shortcut-from-tab-btn','isDefault','after','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20student\x20rankings:','Error\x20processing\x20file\x20for\x20AI:','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','sync-timer-enable-checkbox',')\x22><span\x20style=\x22','</li>','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','deg','ความเป็นอิสระของเหตุการณ์','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','removeChild','fullscreenElement','ondragend','Error\x20generating\x20worksheet:','manage','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</tr>','destination-out','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','rgba(239,\x2068,\x2068,\x200.9)','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','<div\x20style=\x22','#parallel-shortcut-tabs-nav\x20.tab-name-input','scratchpad-options','Unexpected\x20API\x20response\x20structure:','showAnswerInAnonymous','strokeStyle','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20saving\x20submission:','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x22>ไม่ใช่</p>','Error\x20duplicating\x20quiz:','dimmed','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','.quiz-bank-delete-btn','bg-black/10','bp-topic-list-container','เกิดข้อผิดพลาดในการบันทึกโปรเจค','ชาไข่มุก','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','black-market-settings-container','สมการค่าสัมบูรณ์','files','student-team-join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','fill','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20รายการ...','trail','text-emerald-900','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','.admin-try-quiz-list-btn',')</span></div>','starred','Error\x20renaming\x20quiz:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20refund\x20powerup:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','save-file-shortcut-btn','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','topicName','ถูก','<p><strong>คำตอบที่แนะนำ:</strong>\x20','live-race','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-team-selection-btn','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit-team-answer-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','passcode-error-msg','exists','write','fix-lesson-latex-btn','add-parallel-shortcut-btn','ผิด','grid','shortcut-tabs-nav','\x20แบบทดสอบลงในคลังสำเร็จ!','เกิดข้อผิดพลาดในการสร้าง:\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','scratchpad-question','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','bulk-quiz-settings-btn','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','อัตราส่วนและสัดส่วน','gain','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','block','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','add-file-shortcut-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','topic-bank-subtopic-name','memoryContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','pointer-events-none','answeredCurrentQuestion','เศรษฐีดูไบ','Group\x20Mode','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<br>','คำถามถัดไป','Error\x20submitting\x20group\x20answer:','splice','\x20(Player)\x20(ID:\x20','แก้ไขปุ่มลัดจากไฟล์','ค่าเฉลี่ย','.use-hidden-file-shortcut-btn','normal','results-table','focus','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','สลับไปโหมดนักเรียน','newCorrectIndex','projectView','rename-quiz-input','backgroundColor','Error\x20generating\x20teaching\x20content:','passcode-prompt-message','\x20</div>\x0a\x20\x20\x20\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','ลบโปรเจคสำเร็จแล้ว','back-to-dashboard-from-bp-btn','code','instructions','applicationContent','request','คัดลอกแบบทดสอบสำเร็จ','0\x20(รอโบนัส)','date_asc','push','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','width','learningGaps','pointermove','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','points','realName','cancel-game-start-btn','globalAlpha','bg-red-100','ตัวเลือก\x20ก','application/json','ไม่พบข้อมูลโปรเจค','คะแนน','back-to-dashboard-btn','.pin-project-btn','Refunded\x20','shuffledQuiz','msExitFullscreen','Failed\x20to\x20generate\x20lesson:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลหัวข้อที่จะบันทึก','Blueprint\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','AI\x20did\x20not\x20return\x20any\x20content.','project-passcode-modal','confidence','student-result-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','results-quiz-title','list-view-btn','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','</div>','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','parts','file.txt','.bp-game-btn','---\x20[คำถามใหม่]\x20---','.delete-file-shortcut-btn','scratchpad-header','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','quiz-settings-modal','.isForcedConfident','wager-max-points','\x20\x20\x20-\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีผู้ตอบตัวเลือกนี้','\x22\x20name=\x22team_answer\x22\x20value=\x22','27411472','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','pre-test-checkbox','cancel-quiz-settings-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','explanation','studentName','isJinxed','quiz-status-modal','พื้นที่สี่เหลี่ยม','substring','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','additional-file-shortcuts-list','shouldSaveResults','Error\x20during\x20class\x20analysis:','file-shortcuts-loading-msg','Error\x20toggling\x20pin\x20status:','lowerGroupResponders','submissions','บันทึกผลการเล่นเกมของ\x20','webkitExitFullscreen','</span>\x20','bg-indigo-600\x20hover:bg-indigo-700','querySelectorAll','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','bulk-shuffle-select','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','สร้างแบบทดสอบปรนัย','temp-loader-results','mouseup','Error\x20adding\x20custom\x20topic:','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไป\x20','file-shortcut_','\x20คะแนน\x20','.move-file-shortcut-menu-btn','pointerdown','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','geq','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','ไม่สามารถบันทึกการตั้งค่าได้','data:application/vnd.ms-word;charset=utf-8,','<button\x20data-tab-id=\x22','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','/submissions','\x20แล้ว!','player-count','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>','lesson-view-title','export-worksheet-pdf-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','text-red-900','generate-from-file-btn','กรุณาเลือกคำตอบ','text-red-500\x20hover:text-red-700','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','คะแนนเต็ม!','live-player-management','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','ย้ายแบบทดสอบสำเร็จ','ท็อปฟอร์ม','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','Error\x20saving\x20reference\x20URL:','(พยายามอยู่)','manual-bp-project-name','AI\x20Fix\x20Error:','#FFFFFF','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x20link(s)\x20for\x20quiz\x20ID:\x20','hint-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','blueprint-shortcut-container','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','reset-project-order-btn','submission-status-chart','generationConfig','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','✂️\x20ตัด\x201\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หมีขั้วโลกใต้','wagerMultiplier','bg-red-200\x20text-red-800','เน็ตช้า','student-project-leaderboard-content','summary','bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','cancel-export-pdf-btn','buyTime','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','short','```','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','release','การประยุกต์เวกเตอร์พื้นฐาน','จำนวนและการดำเนินการ','modal-confidence-mode-select','Error\x20joining\x20team\x20quiz:','inactive','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','quiz','num-questions','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-excel-btn','question-analytics-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question-complexity-select','show_results_only','close-comparison-modal-footer-btn','/preferences/main','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','copy','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reveal_at_end','cdot','Error\x20calling\x20Gemini\x20API:','reveal-answer-btn','data','project-name-input','difficulty-level-select','fiftyFifty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','link-topic-input','เกิดข้อผิดพลาดในการส่งคำตอบ','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','.bp-delete-topic-btn','.pair-quiz-btn','substr','isBlackMarketEnabled','👻\x20บังคับมั่นใจ','removeAttribute','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','ครูใหญ่','finished','correct','attemptNumber','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปคะแนน\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','\x20\x20\x20-\x20คำตอบ:\x20','นักเขียน','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','754594kdNMis','เลือกและเริ่มสร้าง','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27strategyScan\x27.','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','.isJinxed','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','move-quiz-project-select','ค่าเสื่อมราคา','.ideal-answer-input','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','การลบ','thead\x20.sortable-header','msRequestFullscreen','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','className','Error\x20updating\x20old\x20quizzes:','parallel-shortcut-url-input','answerText','totalQuestions','.edit-hidden-parallel-shortcut-btn','Error\x20clearing\x20all\x20links:','ฮัลค์','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','isPinned','projectId','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','(คัดลอก)\x20','.file-shortcut-tab-btn','confidenceMode','per-q-countdown','target','questions_only','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','รากที่สองและที่สาม','empty','lineJoin','ระบบสมการเชิงเส้นสองตัวแปร','textContent','multiple_choice','อินเวอร์สของเมทริกซ์','hover:bg-indigo-100','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','message-modal','bg-gray-100\x20opacity-70','พื้นที่สามเหลี่ยม','behavior-log-container','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','text-red-700\x20bg-red-100','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','confirmation-message','การแยกตัวประกอบ','match','pop','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','\x5ccdot','หมดเวลา!\x20กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','bg-emerald-100','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ลบผลสอบของ\x20','ดาบพิฆาตอสูร','</tbody></table></div>','file-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','ไม่ใช่','student-initial-view','button','\x5cpm','student-progress-content','highlighter','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','open-market-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','survivor','bulk-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','textarea[name=\x22team_answer\x22]','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<p\x20class=\x22text-xl\x22>','lesson-plan-title','จำนวนนักเรียน','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','classic','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','bg-blue-100\x20text-blue-800','matching','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','open-global-live-btn','next-drill-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','ความเท่ากันทุกประการของสามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','ปริพันธ์จำกัด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','.answeredCurrentQuestion','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','สร้างคำถามแบบใช่/ไม่ใช่','bp-modal-num-choices','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20during\x20deep\x20delete:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20sync\x20game:','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยความยาวและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','ไม่ระบุ','ตั้งเวลา\x20(เปิด)','badgesCount','setAttribute','opacity','\x22>จาก:\x20','next-sync-question-btn','(กำลังไล่ตาม)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','use-powerup-buyTime','specialist','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','project-id-display','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','separate-by-content-checkbox','ไฮเพอร์โบลา','then','rows','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','</tbody></table>','สาระที่\x201','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x5csum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.flex.justify-between.items-center','Error\x20generating\x20parallel\x20post-test:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-parallel-shortcut-edit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','POST','border-red-300\x20bg-red-50','รักแรกพบ','earned-badges-container','button[type=\x22submit\x22]','\x22...','.mb-6.p-4','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','bg-green-100\x20text-green-800','ยอดนักสืบ','จำนวนเต็มลบ','สมการเชิงเส้นตัวแปรเดียว','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','modal-confidence-mode-container','ceil','</span>','frac','จำนวนข้อ:','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','.quiz-bank-move-btn','อยู่ในหัวข้อหลักใด:','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','highlighter-tool-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','anon-show-answer-toggle','bg-white','ความสัมพันธ์ของมุม','.lastAnswerCorrect','quiz-leaderboard-table','Error\x20saving\x20visibility\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ผู้เล่น\x20','finishReason','fa-dumbbell\x20text-gray-700','อกหัก','⏳\x20ซื้อเวลาสำเร็จ!\x20คุณได้รับเวลาเพิ่ม\x20','element','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20',')\x22>','insertBefore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','การยืนยันตัวตนล้มเหลว','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<button\x20data-id=\x22','เส้นจำนวน','text-gray-500','svg','getItem','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การลบเศษส่วน','isRemedial','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','sync-timer-bar','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','suggestedAnswer','bulk-confidence-scoring-checkbox','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','devicePixelRatio','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','default-1','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','จากไฟล์ที่แนบมานี้,\x20','textarea[name=\x22question_single\x22]','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','1308hdSphT','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังจับคู่...','แปลงร่าง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','เสือซ่อนเล็บ','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','bg-green-100','lesson-view-content','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','href','document','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','option','NUMBER','กรุณาตั้งชื่อแท็บใหม่:','การปัดเศษและประมาณค่า','Sync\x20Mode','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','สมการราก\x20(radical)','hasPerfectScoreBonus','เลือกผู้เล่นที่จะ\x20\x22สาป\x22\x20(ใส่ตัวเลข):\x0a','print','modal-close-btn'];_0x18ec=function(){return _0x2c9b5c;};return _0x18ec();}function showPlayerSummaryView(_0x468d1f,_0x16ae64){const _0x188c72=_0x4a882c,_0x111773=Object[_0x188c72(0x1f9)](_0x468d1f[_0x188c72(0x774)]||{}),_0x19d52f=_0x468d1f[_0x188c72(0x774)][_0x16ae64],_0x4fdf27=_0x111773[_0x188c72(0x3d8)](_0x31fc63=>_0x31fc63['status']===_0x188c72(0x3fc))['sort']((_0x3f7f41,_0x3ee432)=>_0x3ee432[_0x188c72(0x64f)]-_0x3f7f41[_0x188c72(0x64f)]),_0x5e57d5=_0x4fdf27['findIndex'](_0x3100f8=>_0x3100f8===_0x19d52f)+0x1,_0x3b87d8=_0x19d52f['lastAnswerCorrect']?_0x188c72(0xabd):_0x188c72(0xb56),_0x512b64=_0x19d52f['lastAnswerCorrect']?_0x188c72(0x8e2):_0x188c72(0x46f),_0x5a66c9=_0x19d52f[_0x188c72(0xe0c)]||0x0,_0x1d48c1=_0x188c72(0x357),_0x211927='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x1d48c1+_0x188c72(0xd8a)+_0x512b64+_0x188c72(0x7bd)+_0x3b87d8+_0x188c72(0x92e)+_0x5a66c9+_0x188c72(0x1c4)+(_0x5e57d5>0x0?_0x5e57d5:'-')+_0x188c72(0x90e);liveGameView[_0x188c72(0x8ea)]=_0x211927;}function createQuizFromBank(){const _0x283417=_0x4a882c,_0x46cdfa=document[_0x283417(0xbec)](_0x283417(0x2cd));if(_0x46cdfa[_0x283417(0xa96)]===0x0){showMessage(_0x283417(0x2ed));return;}const _0x3e7af4=[];_0x46cdfa[_0x283417(0xdc3)](_0x1bff2c=>{_0x3e7af4['push'](JSON['parse'](_0x1bff2c['value']));});const _0x4b1513={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x3e7af4};displayGeneratedQuiz(_0x4b1513);}function showAdminLobbyView(_0x3a5573,_0x3f8414){const _0x38d999=_0x4a882c;showView(_0x38d999(0x94d));const _0x25a8bf=_0x38d999(0x811)+_0x3f8414+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3a5573+_0x38d999(0xddb);liveGameView[_0x38d999(0x8ea)]=_0x25a8bf,document[_0x38d999(0x81d)](_0x38d999(0x7b9))[_0x38d999(0x843)]('click',async()=>{const _0x2eb2ad=_0x38d999;if(!currentQuizData||!currentQuizData['questions']||currentQuizData['questions'][_0x2eb2ad(0xa96)]===0x0){showMessage(_0x2eb2ad(0x5a8));return;}try{const _0x473d39=doc(db,'artifacts/'+appId+_0x2eb2ad(0x66b),currentLiveGameId);await updateDoc(_0x473d39,{'status':_0x2eb2ad(0x62f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x769a03=currentQuizData[_0x2eb2ad(0x277)][0x0],_0x483b3d=currentQuizData[_0x2eb2ad(0x277)][_0x2eb2ad(0xa96)];showAdminLiveQuestionView(_0x769a03,0x0,_0x483b3d);}catch(_0x4fb322){console['error'](_0x2eb2ad(0x231),_0x4fb322),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x519c6b=_0x4a882c;if(allQuizzesGlobal[_0x519c6b(0xa96)]===0x0){const _0x3cd07c=await getDocs(collection(db,_0x519c6b(0x878)+appId+_0x519c6b(0x527)));allQuizzesGlobal=_0x3cd07c[_0x519c6b(0x9b1)][_0x519c6b(0x7d8)](_0x2ce328=>({'id':_0x2ce328['id'],..._0x2ce328['data']()}));}renderQuizBankList(''),document['getElementById'](_0x519c6b(0x981))[_0x519c6b(0xdd2)]['remove'](_0x519c6b(0x35b));}function renderQuizBankList(_0x1933e7='',_0x1727c8=![]){const _0x49383f=_0x4a882c,_0x5e9c3f=document[_0x49383f(0x81d)](_0x49383f(0x673)),_0x1709ed=_0x1933e7[_0x49383f(0x95d)]()['trim'](),_0x478e8d=allQuizzesGlobal[_0x49383f(0x7d8)](_0x4ceeec=>({..._0x4ceeec,'projectName':allProjects['find'](_0x2f347f=>_0x2f347f['id']===_0x4ceeec[_0x49383f(0xc9b)])?.[_0x49383f(0xd34)]||_0x49383f(0x700)}))[_0x49383f(0x3d8)](_0x3efc39=>(_0x3efc39[_0x49383f(0x755)]||'')[_0x49383f(0x95d)]()[_0x49383f(0x90f)](_0x1709ed)||(_0x3efc39[_0x49383f(0xd34)]||'')[_0x49383f(0x95d)]()['includes'](_0x1709ed)||_0x3efc39['id'][_0x49383f(0x188)]()['includes'](_0x1709ed));document[_0x49383f(0x81d)](_0x49383f(0x88d))[_0x49383f(0xca8)]='('+_0x478e8d[_0x49383f(0xa96)]+_0x49383f(0x26e),_0x5e9c3f['innerHTML']=_0x478e8d[_0x49383f(0xa96)]?_0x478e8d[_0x49383f(0x7d8)](_0x4e686b=>{const _0x2cb89e=_0x49383f,_0x12d178=!_0x1727c8?_0x2cb89e(0x2f6)+_0x4e686b['id']+_0x2cb89e(0x5a9)+_0x4e686b['id']+_0x2cb89e(0x6b6)+_0x4e686b['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4e686b['id']+_0x2cb89e(0x237)+_0x4e686b['id']+_0x2cb89e(0x665)+_0x4e686b['id']+_0x2cb89e(0xe21)+_0x4e686b[_0x2cb89e(0x755)]+_0x2cb89e(0xa77):'';return _0x2cb89e(0x738)+_0x4e686b['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x4e686b[_0x2cb89e(0x755)]||_0x2cb89e(0xe82))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x4e686b[_0x2cb89e(0x277)]?.[_0x2cb89e(0xa96)]||0x0)+_0x2cb89e(0xc43)+_0x4e686b[_0x2cb89e(0xd34)]+_0x2cb89e(0x6cd)+_0x4e686b['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12d178+_0x2cb89e(0xdb1);})[_0x49383f(0x343)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x1727c8&&(_0x5e9c3f[_0x49383f(0xbec)](_0x49383f(0x4ae))[_0x49383f(0xdc3)](_0x13966e=>{const _0x4916fa=_0x49383f;_0x13966e[_0x4916fa(0x843)]('click',()=>{const _0x4fdf46=_0x4916fa,_0x16384d=_0x13966e[_0x4fdf46(0x33e)]['id'];document[_0x4fdf46(0x81d)]('quiz-bank-modal')['classList'][_0x4fdf46(0x87d)](_0x4fdf46(0x35b)),showQuizDetailView(_0x16384d);});}),_0x5e9c3f['querySelectorAll'](_0x49383f(0x424))[_0x49383f(0xdc3)](_0x38ac30=>{const _0x23fb05=_0x49383f;_0x38ac30[_0x23fb05(0x843)](_0x23fb05(0x864),_0x4d51e4=>{const _0x269d5e=_0x23fb05;_0x4d51e4[_0x269d5e(0x809)]();const _0x3ba77b=_0x38ac30[_0x269d5e(0x33e)]['id'],_0x466fe5=allQuizzesGlobal[_0x269d5e(0xa74)](_0x50a4a9=>_0x50a4a9['id']===_0x3ba77b);_0x466fe5?(currentQuizData=_0x466fe5,document[_0x269d5e(0x81d)](_0x269d5e(0x981))[_0x269d5e(0xdd2)][_0x269d5e(0x87d)](_0x269d5e(0x35b)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5e9c3f[_0x49383f(0xbec)](_0x49383f(0xe97))['forEach'](_0x286589=>{const _0x459de5=_0x49383f;_0x286589[_0x459de5(0x843)](_0x459de5(0x864),_0x5e7e45=>{const _0x1bd635=_0x459de5;_0x5e7e45[_0x1bd635(0x809)]();const _0x19ea5a=_0x286589[_0x1bd635(0x33e)]['id'],_0x475500=allQuizzesGlobal[_0x1bd635(0xa74)](_0x35f792=>_0x35f792['id']===_0x19ea5a);_0x475500?(document['getElementById']('quiz-bank-modal')[_0x1bd635(0xdd2)][_0x1bd635(0x87d)](_0x1bd635(0x35b)),handleGenerateParallelFromBank(_0x475500)):showMessage(_0x1bd635(0x82e));});}),_0x5e9c3f[_0x49383f(0xbec)](_0x49383f(0x678))['forEach'](_0x4cd37b=>{const _0x2869b3=_0x49383f;_0x4cd37b['addEventListener'](_0x2869b3(0x864),_0x17fc7e=>{const _0x1a1e86=_0x2869b3;_0x17fc7e['stopPropagation']();const _0x24920c=_0x4cd37b[_0x1a1e86(0x33e)]['id'],_0xc448f1=allQuizzesGlobal[_0x1a1e86(0xa74)](_0x3f1a8c=>_0x3f1a8c['id']===_0x24920c);_0xc448f1?(document[_0x1a1e86(0x81d)](_0x1a1e86(0x981))[_0x1a1e86(0xdd2)][_0x1a1e86(0x87d)](_0x1a1e86(0x35b)),startPresentation(_0xc448f1)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5e9c3f['querySelectorAll'](_0x49383f(0xd32))[_0x49383f(0xdc3)](_0x27a386=>{_0x27a386['addEventListener']('click',_0x10b9c3=>{const _0x38752e=_0x2fbb;_0x10b9c3['stopPropagation']();const _0x5b51d1=_0x27a386[_0x38752e(0x33e)]['id'];document[_0x38752e(0x81d)](_0x38752e(0x981))[_0x38752e(0xdd2)][_0x38752e(0x87d)](_0x38752e(0x35b)),handleMoveQuiz(_0x5b51d1);});}),_0x5e9c3f[_0x49383f(0xbec)](_0x49383f(0x172))[_0x49383f(0xdc3)](_0x3a7a57=>{const _0x3eb0a0=_0x49383f;_0x3a7a57[_0x3eb0a0(0x843)](_0x3eb0a0(0x864),_0x1220e2=>{const _0x1af7d7=_0x3eb0a0;_0x1220e2[_0x1af7d7(0x809)]();const _0x4841ed=_0x3a7a57[_0x1af7d7(0x33e)]['id'];document['getElementById'](_0x1af7d7(0x981))[_0x1af7d7(0xdd2)][_0x1af7d7(0x87d)](_0x1af7d7(0x35b)),handleQuizSettings(_0x4841ed);});}),_0x5e9c3f[_0x49383f(0xbec)](_0x49383f(0xb29))[_0x49383f(0xdc3)](_0x395250=>{const _0x1de8bf=_0x49383f;_0x395250[_0x1de8bf(0x843)](_0x1de8bf(0x864),_0x5552d5=>{const _0x5c3303=_0x1de8bf;_0x5552d5[_0x5c3303(0x809)]();const _0x1a30f1=_0x395250[_0x5c3303(0x33e)]['id'],_0xedb408=_0x395250[_0x5c3303(0x33e)][_0x5c3303(0x755)];showConfirmation(_0x5c3303(0x9a5)+_0xedb408+_0x5c3303(0x5ba),()=>handleDeleteQuiz(_0x1a30f1));});}));}async function handleCompareResults(_0x1c3ce9,_0x3a022e){const _0x3bcb9b=_0x4a882c,_0x51cb48=document[_0x3bcb9b(0x81d)](_0x3bcb9b(0x8ac)),_0x12f0a1=document[_0x3bcb9b(0x81d)](_0x3bcb9b(0x4ce)),_0x384ab1=document[_0x3bcb9b(0x81d)](_0x3bcb9b(0x8cf));document[_0x3bcb9b(0x81d)](_0x3bcb9b(0x3e7))[_0x3bcb9b(0xdd2)][_0x3bcb9b(0x87d)](_0x3bcb9b(0x3fc)),document[_0x3bcb9b(0x81d)](_0x3bcb9b(0x652))['classList']['remove']('active'),_0x12f0a1[_0x3bcb9b(0xdd2)][_0x3bcb9b(0x469)](_0x3bcb9b(0x35b)),_0x384ab1[_0x3bcb9b(0xdd2)][_0x3bcb9b(0x87d)](_0x3bcb9b(0x35b)),_0x12f0a1[_0x3bcb9b(0x8ea)]=_0x3bcb9b(0x4c7),_0x384ab1['innerHTML']='',_0x51cb48[_0x3bcb9b(0xdd2)]['remove'](_0x3bcb9b(0x35b));try{const _0x553eed=doc(db,_0x3bcb9b(0x878)+appId+_0x3bcb9b(0x527),_0x1c3ce9),_0xb7ad77=await getDoc(_0x553eed);if(!_0xb7ad77[_0x3bcb9b(0xb52)]())throw new Error(_0x3bcb9b(0xe36));const _0x670d43=_0xb7ad77[_0x3bcb9b(0xc66)](),_0x17e48f=_0x670d43[_0x3bcb9b(0x277)]['length'],_0xbe9b17=collection(db,_0x3bcb9b(0x878)+appId+_0x3bcb9b(0x491)+_0x3a022e+_0x3bcb9b(0xc06)),_0x564b75=collection(db,_0x3bcb9b(0x878)+appId+_0x3bcb9b(0x491)+_0x1c3ce9+_0x3bcb9b(0xc06)),[_0x543874,_0x42d6ff]=await Promise[_0x3bcb9b(0xde1)]([getDocs(_0xbe9b17),getDocs(_0x564b75)]),_0x5d8113=_0x543874[_0x3bcb9b(0x9b1)][_0x3bcb9b(0x7d8)](_0x4336c1=>_0x4336c1[_0x3bcb9b(0xc66)]()),_0x4cb0af=_0x42d6ff[_0x3bcb9b(0x9b1)][_0x3bcb9b(0x7d8)](_0x28c2ef=>_0x28c2ef['data']()),_0x257521=_0x5d8113[_0x3bcb9b(0x7d8)](_0xae8811=>_0xae8811[_0x3bcb9b(0x3e4)]),_0x92c699=_0x4cb0af[_0x3bcb9b(0x7d8)](_0x225521=>_0x225521[_0x3bcb9b(0x3e4)]),_0x4bbe62=calculateMeanAndStdDev(_0x257521),_0x524b93=calculateMeanAndStdDev(_0x92c699),_0xbc49a9=_0x4bbe62[_0x3bcb9b(0x6ff)],_0x3f2e4e=_0x524b93[_0x3bcb9b(0x6ff)],_0x69743=_0x3f2e4e-_0xbc49a9;let _0x19402f=_0x3bcb9b(0x998)+_0xbc49a9[_0x3bcb9b(0x2af)](0x2)+_0x3bcb9b(0xa0c)+_0x3f2e4e[_0x3bcb9b(0x2af)](0x2)+_0x3bcb9b(0x661)+(_0x69743>=0x0?_0x3bcb9b(0xcbe):_0x3bcb9b(0xba1))+_0x3bcb9b(0x23e)+(_0x69743>=0x0?_0x3bcb9b(0x687):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x69743>=0x0?_0x3bcb9b(0xb3b):_0x3bcb9b(0xc0d))+'\x22>'+(_0x69743>=0x0?'+':'')+_0x69743[_0x3bcb9b(0x2af)](0x2)+_0x3bcb9b(0x6cb);_0x12f0a1[_0x3bcb9b(0x8ea)]=_0x19402f;const _0x8f376f=document[_0x3bcb9b(0x81d)]('comparison-chart')['getContext']('2d');if(chartInstances['comparison'])chartInstances[_0x3bcb9b(0x5a4)][_0x3bcb9b(0x325)]();chartInstances[_0x3bcb9b(0x5a4)]=new Chart(_0x8f376f,{'type':_0x3bcb9b(0xe09),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0xbc49a9],'backgroundColor':_0x3bcb9b(0x8f2)},{'label':_0x3bcb9b(0x924),'data':[_0x3f2e4e],'backgroundColor':_0x3bcb9b(0x306)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x17e48f}}}});const _0x1d7153=currentProjectData[_0x3bcb9b(0x881)]||[],_0x48b268=_0x1d7153[_0x3bcb9b(0x7d8)](_0x8bf69d=>{const _0x43c21f=_0x3bcb9b,_0x5e3918=_0x5d8113['find'](_0x3c8eb9=>_0x3c8eb9[_0x43c21f(0xbd9)]===_0x8bf69d),_0x27b4e5=_0x4cb0af['find'](_0x316759=>_0x316759[_0x43c21f(0xbd9)]===_0x8bf69d),_0x1a7625=_0x5e3918?_0x5e3918[_0x43c21f(0x3e4)]:null,_0x178c97=_0x27b4e5?_0x27b4e5[_0x43c21f(0x3e4)]:null,_0x2e27e9=_0x1a7625!==null&&_0x178c97!==null?_0x178c97-_0x1a7625:null,_0x760cbe=_0x1a7625!==null?calculateZScore(_0x1a7625,_0x4bbe62[_0x43c21f(0x6ff)],_0x4bbe62[_0x43c21f(0xe4a)]):null,_0xaefabd=_0x178c97!==null?calculateZScore(_0x178c97,_0x524b93[_0x43c21f(0x6ff)],_0x524b93[_0x43c21f(0xe4a)]):null,_0x1cb7ec=_0x760cbe!==null?calculateTScore(_0x760cbe):null,_0x42d695=_0xaefabd!==null?calculateTScore(_0xaefabd):null,_0x579bee=_0x1cb7ec!==null&&_0x42d695!==null?_0x42d695-_0x1cb7ec:null;return{'name':_0x8bf69d,'preScore':_0x1a7625,'postScore':_0x178c97,'gain':_0x2e27e9,'preTScore':_0x1cb7ec,'postTScore':_0x42d695,'tGain':_0x579bee};});renderIndividualComparisonTable(_0x48b268,_0x384ab1);}catch(_0x43d419){console[_0x3bcb9b(0x76b)](_0x3bcb9b(0x584),_0x43d419),_0x12f0a1[_0x3bcb9b(0x8ea)]=_0x3bcb9b(0xcf0);}}async function saveBlueprintProject(){const _0x474184=_0x4a882c;if(!extractedBlueprintData||!extractedBlueprintData[_0x474184(0xdcb)]){showMessage(_0x474184(0xbae));return;}const _0x87972c=prompt(_0x474184(0x91b),_0x474184(0x3d2));if(!_0x87972c||_0x87972c[_0x474184(0x5f6)]()==='')return;const _0x14be31={};extractedBlueprintData[_0x474184(0xdcb)][_0x474184(0xdc3)](_0xa634ee=>{const _0x32e2b8=_0x474184;_0xa634ee[_0x32e2b8(0x653)][_0x32e2b8(0xdc3)](_0x39ca76=>{const _0x2c9687=_0x32e2b8;_0x39ca76[_0x2c9687(0x830)][_0x2c9687(0xdc3)](_0x428dc1=>{const _0x2810b9=_0x2c9687,_0x3fd9=_0x2810b9(0xa3f)+Date[_0x2810b9(0x7c1)]()+Math[_0x2810b9(0x8c4)]()[_0x2810b9(0x188)](0x24)[_0x2810b9(0xc70)](0x2,0x9);_0x14be31[_0x3fd9]={'sara':_0xa634ee[_0x2810b9(0x1dd)],'mainTopic':_0x39ca76['topicName'],'subTopic':_0x428dc1,'status':_0x2810b9(0x965),'lessonContent':null};});});});try{const _0x4a8506=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x4a8506,{'projectName':_0x87972c[_0x474184(0x5f6)](),'gradeLevel':extractedBlueprintData[_0x474184(0x691)],'topics':_0x14be31,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x87972c[_0x474184(0x5f6)]()+_0x474184(0x5bc)),document[_0x474184(0x81d)]('save-blueprint-as-project-btn')['classList'][_0x474184(0x87d)]('hidden');}catch(_0x3e49da){console['error'](_0x474184(0x8c8),_0x3e49da),showMessage(_0x474184(0xb2c));}}async function showBlueprintProjects(){const _0x38bc55=_0x4a882c,_0x548e73=document['getElementById'](_0x38bc55(0x643)),_0x4ceff3=document[_0x38bc55(0x81d)](_0x38bc55(0x1ca));_0x4ceff3[_0x38bc55(0x8ea)]=_0x38bc55(0x2b6),_0x548e73[_0x38bc55(0xdd2)][_0x38bc55(0x469)](_0x38bc55(0x35b));try{const _0x409c81=collection(db,_0x38bc55(0x878)+appId+_0x38bc55(0x7a4)),_0x46cc9d=await getDocs(_0x409c81);if(_0x46cc9d[_0x38bc55(0xca5)]){_0x4ceff3[_0x38bc55(0x8ea)]=_0x38bc55(0x66f);return;}const _0x32ae21=_0x46cc9d['docs']['map'](_0x4ba46d=>({'id':_0x4ba46d['id'],..._0x4ba46d[_0x38bc55(0xc66)]()}));_0x32ae21[_0x38bc55(0x6c8)]((_0x19aa4d,_0x1cb4de)=>_0x19aa4d[_0x38bc55(0xd34)][_0x38bc55(0xddd)](_0x1cb4de[_0x38bc55(0xd34)],'th')),_0x4ceff3[_0x38bc55(0x8ea)]=_0x32ae21[_0x38bc55(0x7d8)](_0x520b4e=>_0x38bc55(0xda7)+_0x520b4e[_0x38bc55(0xd34)]+_0x38bc55(0x1ad)+_0x520b4e['gradeLevel']+_0x38bc55(0x30c)+Object[_0x38bc55(0x2cf)](_0x520b4e[_0x38bc55(0x94a)])[_0x38bc55(0xa96)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x520b4e['id']+_0x38bc55(0x69e)+_0x520b4e['id']+_0x38bc55(0x322))[_0x38bc55(0x343)]('');}catch(_0x4b01c4){console[_0x38bc55(0x76b)](_0x38bc55(0x183),_0x4b01c4),_0x4ceff3[_0x38bc55(0x8ea)]=_0x38bc55(0x480);}}async function displayBlueprintProjectManager(_0x204ed7){const _0x2b191b=_0x4a882c;currentBlueprintProjectId=_0x204ed7,document[_0x2b191b(0x81d)](_0x2b191b(0x643))[_0x2b191b(0xdd2)]['add'](_0x2b191b(0x35b)),showView('admin-dashboard'),projectDashboardView[_0x2b191b(0xdd2)][_0x2b191b(0x87d)]('hidden');const _0xf69067=document[_0x2b191b(0x81d)](_0x2b191b(0x8c0));_0xf69067[_0x2b191b(0xdd2)][_0x2b191b(0x469)](_0x2b191b(0x35b)),document['getElementById']('bp-topic-list-container')['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x35374b=doc(db,_0x2b191b(0x878)+appId+_0x2b191b(0x7a4),_0x204ed7),_0x1ddf7a=await getDoc(_0x35374b);if(!_0x1ddf7a['exists']())throw new Error(_0x2b191b(0x2b3));const _0x58cb15={'id':_0x1ddf7a['id'],..._0x1ddf7a[_0x2b191b(0xc66)]()};document['getElementById'](_0x2b191b(0x2c6))[_0x2b191b(0xca8)]=_0x58cb15[_0x2b191b(0xd34)],document['getElementById']('bp-reference-file-url')['value']=_0x58cb15['referenceFileUrl']||'',renderBlueprintTopicManager(_0x58cb15);}catch(_0x2f295d){console['error'](_0x2b191b(0x512),_0x2f295d),showMessage(_0x2f295d[_0x2b191b(0x752)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x4af1c6){const _0x57c294=_0x4a882c,_0x3ab86d=document['getElementById'](_0x57c294(0xb2b)),_0x51105e=_0x4af1c6[_0x57c294(0x94a)]||{};if(Object['keys'](_0x51105e)['length']===0x0){_0x3ab86d[_0x57c294(0x8ea)]=_0x57c294(0x787);return;}const _0x37811c=Object[_0x57c294(0x26d)](_0x51105e)['map'](([_0x384f86,_0x3f05d6])=>({'id':_0x384f86,..._0x3f05d6}))[_0x57c294(0x6c8)]((_0x5906bb,_0x1063a2)=>(_0x5906bb[_0x57c294(0xa46)]??Infinity)-(_0x1063a2[_0x57c294(0xa46)]??Infinity)),_0x37c5c3={};_0x37811c['forEach'](_0xb6fd58=>{const _0x46eba6=_0x57c294,{sara:_0x56e9cc,mainTopic:_0x5437b8}=_0xb6fd58;!_0x37c5c3[_0x56e9cc]&&(_0x37c5c3[_0x56e9cc]={}),!_0x37c5c3[_0x56e9cc][_0x5437b8]&&(_0x37c5c3[_0x56e9cc][_0x5437b8]=[]),_0x37c5c3[_0x56e9cc][_0x5437b8][_0x46eba6(0xb97)](_0xb6fd58);});let _0x44c790='';for(const _0x2134a0 in _0x37c5c3){_0x44c790+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x2134a0+_0x57c294(0x179);for(const _0xcbe284 in _0x37c5c3[_0x2134a0]){_0x44c790+=_0x57c294(0x970)+_0xcbe284+_0x57c294(0xb47),_0x37c5c3[_0x2134a0][_0xcbe284][_0x57c294(0xdc3)](_0x46eee1=>{const _0x3f5c9c=_0x57c294,_0x400bd1=_0x46eee1['id'],_0x396786=_0x46eee1['linkedQuizIds']||[],_0x5ac135=_0x396786[_0x3f5c9c(0xa96)]>0x0,_0x1b1948=_0x46eee1[_0x3f5c9c(0x589)]===_0x3f5c9c(0x34d);let _0x27def5='';_0x5ac135?_0x27def5=_0x3f5c9c(0x7d7)+_0x396786[_0x3f5c9c(0xa96)]+'\x20ชุด)</span>':_0x27def5=_0x3f5c9c(0x4f7)+(_0x1b1948?_0x3f5c9c(0x522):_0x3f5c9c(0x49c))+'\x22>'+(_0x1b1948?_0x3f5c9c(0x899):_0x3f5c9c(0xe5a))+_0x3f5c9c(0xd2e);const _0x3d3f28=!_0x1b1948?_0x3f5c9c(0x365):'',_0x28b294=!_0x1b1948?'กรุณาสร้างบทเรียนก่อน':'';let _0x14f942=_0x1b1948?_0x3f5c9c(0xcac):_0x3f5c9c(0x2e5);_0x44c790+=_0x3f5c9c(0x5c0)+_0x400bd1+_0x3f5c9c(0x999)+_0x46eee1[_0x3f5c9c(0x887)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27def5+_0x3f5c9c(0xcdb)+_0x3d3f28+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x28b294+_0x3f5c9c(0xace)+_0x14f942+_0x3f5c9c(0xc19);}),_0x44c790+=_0x57c294(0x772);}_0x44c790+=_0x57c294(0xbbf);}_0x3ab86d[_0x57c294(0x8ea)]=_0x44c790;}async function handleDeepDeleteBlueprintProject(_0x1a2746){const _0x5a39fd=_0x4a882c,_0xf0cfb4=doc(db,_0x5a39fd(0x878)+appId+'/public/data/blueprintProjects',_0x1a2746),_0x114e02=await getDoc(_0xf0cfb4);if(!_0x114e02[_0x5a39fd(0xb52)]()){showMessage(_0x5a39fd(0x37e));return;}const _0x1a3310=_0x114e02[_0x5a39fd(0xc66)]()[_0x5a39fd(0xd34)];showConfirmation(_0x5a39fd(0x7ee)+_0x1a3310+_0x5a39fd(0x205),async()=>{const _0x59788b=_0x5a39fd;showMessage(_0x59788b(0xb98));try{const _0x2c11c8=writeBatch(db),_0x3c2b07=_0x114e02[_0x59788b(0xc66)](),_0x42f8e8=_0x3c2b07[_0x59788b(0x94a)]||{};for(const _0x3676ae in _0x42f8e8){const _0xbfd818=doc(db,_0x59788b(0x878)+appId+'/public/data/blueprintProjects/'+_0x1a2746+_0x59788b(0x658),_0x3676ae);_0x2c11c8[_0x59788b(0x31e)](_0xbfd818);}const _0x4154e5=new Set();for(const _0x55ade6 in _0x42f8e8){_0x42f8e8[_0x55ade6]['linkedQuizIds']&&_0x42f8e8[_0x55ade6][_0x59788b(0x784)][_0x59788b(0xdc3)](_0x612913=>_0x4154e5[_0x59788b(0x87d)](_0x612913));}for(const _0x5411a9 of _0x4154e5){await handleDeleteQuiz(_0x5411a9,![]);}_0x2c11c8[_0x59788b(0x31e)](_0xf0cfb4),await _0x2c11c8[_0x59788b(0x8be)](),showMessage(_0x59788b(0x727)+_0x1a3310+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x51b2a2){console[_0x59788b(0x76b)](_0x59788b(0xcf5),_0x51b2a2),showMessage(_0x59788b(0x705));}});}async function openTopicQuizBank(_0x2c4d8a){const _0x27f764=_0x4a882c,_0x255399=document[_0x27f764(0x81d)]('topic-quiz-bank-modal'),_0x520fd1=document[_0x27f764(0x81d)]('topic-bank-list'),_0x230b8b=document[_0x27f764(0x81d)](_0x27f764(0x309));try{await ensureGlobalQuizzesLoaded();const _0x5ecdf8=doc(db,_0x27f764(0x878)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x184526=await getDoc(_0x5ecdf8);if(!_0x184526[_0x27f764(0xb52)]())return;const _0x3c2147=_0x184526[_0x27f764(0xc66)](),_0x598d21=_0x3c2147[_0x27f764(0x94a)][_0x2c4d8a];document[_0x27f764(0x81d)](_0x27f764(0xb6d))[_0x27f764(0xca8)]=_0x598d21['subTopic'];const _0x3ce4d7=_0x598d21[_0x27f764(0x784)]||[];_0x230b8b[_0x27f764(0xdd2)]['toggle'](_0x27f764(0x35b),_0x3ce4d7[_0x27f764(0xa96)]===0x0),_0x230b8b[_0x27f764(0x845)]=()=>handleClearAllLinksForTopic(_0x2c4d8a);if(_0x3ce4d7[_0x27f764(0xa96)]===0x0)_0x520fd1[_0x27f764(0x8ea)]=_0x27f764(0xe05);else{const _0x2ff16a=allQuizzesGlobal[_0x27f764(0x3d8)](_0xee65f9=>_0x3ce4d7['includes'](_0xee65f9['id']));_0x520fd1[_0x27f764(0x8ea)]=_0x2ff16a[_0x27f764(0x7d8)](_0xbf2b62=>_0x27f764(0x9cb)+_0xbf2b62['id']+_0x27f764(0x771)+_0xbf2b62[_0x27f764(0x755)]+_0x27f764(0x46b)+_0xbf2b62['id']+_0x27f764(0x30c)+_0xbf2b62[_0x27f764(0x277)][_0x27f764(0xa96)]+_0x27f764(0xa00)+_0xbf2b62['id']+_0x27f764(0xe43)+_0xbf2b62['id']+_0x27f764(0x7f7)+_0xbf2b62['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xbf2b62['id']+_0x27f764(0x632)+_0xbf2b62['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xbf2b62['id']+_0x27f764(0x24c)+_0x2c4d8a+_0x27f764(0x982)+_0xbf2b62['id']+_0x27f764(0xd66))[_0x27f764(0x343)]('');}document[_0x27f764(0x81d)](_0x27f764(0x353))[_0x27f764(0x845)]=()=>{openQuizSelectorForBlueprint(_0x2c4d8a);},document[_0x27f764(0x81d)](_0x27f764(0x3c2))['onclick']=()=>_0x255399[_0x27f764(0xdd2)][_0x27f764(0x87d)](_0x27f764(0x35b)),_0x255399[_0x27f764(0xdd2)][_0x27f764(0x469)]('hidden');}catch(_0xf4156d){showMessage(_0xf4156d[_0x27f764(0x752)]);}}async function openQuizSelectorForBlueprint(_0x486888){const _0x1d3e35=_0x4a882c,_0x3ac0e1=document[_0x1d3e35(0x81d)](_0x1d3e35(0x981)),_0x33b582=document[_0x1d3e35(0x81d)](_0x1d3e35(0x97e));_0x33b582[_0x1d3e35(0xdd2)][_0x1d3e35(0x87d)](_0x1d3e35(0x35b)),document['getElementById'](_0x1d3e35(0x756))?.[_0x1d3e35(0x469)]();const _0x21ccab=document['createElement'](_0x1d3e35(0xcc8));_0x21ccab['id']='confirm-link-quiz-btn',_0x21ccab[_0x1d3e35(0xc8f)]=_0x1d3e35(0x267),_0x21ccab[_0x1d3e35(0xca8)]=_0x1d3e35(0xaae),_0x21ccab['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x3ac0e1[_0x1d3e35(0xdd2)][_0x1d3e35(0x469)](_0x1d3e35(0x35b)),renderQuizBankListForMultiSelect(''),document[_0x1d3e35(0x81d)](_0x1d3e35(0xb5f))[_0x1d3e35(0xe1e)][_0x1d3e35(0x1ba)]=_0x1d3e35(0x486),_0x3ac0e1['querySelector'](_0x1d3e35(0xd19))['appendChild'](_0x21ccab);const _0x3e201b=(_0x403b85=![])=>{const _0x4f1723=_0x1d3e35;_0x3ac0e1[_0x4f1723(0xdd2)][_0x4f1723(0x87d)]('hidden'),document[_0x4f1723(0x81d)](_0x4f1723(0xb5f))['style']['display']=_0x4f1723(0x649),_0x21ccab[_0x4f1723(0x469)](),_0x403b85&&openTopicQuizBank(_0x486888);};_0x21ccab[_0x1d3e35(0x845)]=async()=>{const _0x32eabe=_0x1d3e35,_0x507965=Array[_0x32eabe(0xab3)](document['querySelectorAll'](_0x32eabe(0x9d1)))['map'](_0x461e18=>_0x461e18['value']);if(_0x507965['length']===0x0)return;try{const _0x494617=doc(db,_0x32eabe(0x878)+appId+_0x32eabe(0x7a4),currentBlueprintProjectId),_0x4decc6=(await getDoc(_0x494617))['data'](),_0x58d4c2=_0x4decc6[_0x32eabe(0x94a)][_0x486888][_0x32eabe(0x784)]||[],_0x2ed393=[...new Set([..._0x58d4c2,..._0x507965])];await updateDoc(_0x494617,{[_0x32eabe(0x426)+_0x486888+_0x32eabe(0x9f0)]:_0x2ed393}),showMessage(_0x32eabe(0x5dd)+_0x507965[_0x32eabe(0xa96)]+_0x32eabe(0xb59)),_0x3e201b(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x268e75){console[_0x32eabe(0x76b)](_0x32eabe(0x349),_0x268e75);}},document[_0x1d3e35(0x81d)](_0x1d3e35(0xae4))['onclick']=()=>_0x3e201b(!![]);}catch(_0x1aaf27){showMessage(_0x1aaf27[_0x1d3e35(0x752)]),_0x33b582[_0x1d3e35(0xdd2)]['remove'](_0x1d3e35(0x35b));}}function handleClearLinkedQuiz(_0x419046){const _0x120b06=_0x4a882c;showConfirmation(_0x120b06(0xb3d),async()=>{const _0x105d2c=_0x120b06;try{const _0x2fff0d=doc(db,'artifacts/'+appId+_0x105d2c(0x7a4),currentBlueprintProjectId);await updateDoc(_0x2fff0d,{[_0x105d2c(0x426)+_0x419046+_0x105d2c(0x3f2)]:deleteField()}),showMessage(_0x105d2c(0x7ac)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4eb04b){console[_0x105d2c(0x76b)]('Error\x20clearing\x20linked\x20quiz:',_0x4eb04b),showMessage(_0x105d2c(0x1db));}});}async function addTopicToProject(){const _0x4cb925=_0x4a882c,_0x57f9d1=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x57f9d1||_0x57f9d1[_0x4cb925(0x5f6)]()==='')return;const _0x168e71=prompt(_0x4cb925(0x6d9),_0x4cb925(0xd10)),_0xc831ee=prompt(_0x4cb925(0xd33),_0x4cb925(0x9f7)),_0x51aba0=_0x4cb925(0xa3f)+Date[_0x4cb925(0x7c1)]()+Math['random']()[_0x4cb925(0x188)](0x24)['substr'](0x2,0x9),_0x2e2973={'sara':_0x168e71,'mainTopic':_0xc831ee,'subTopic':_0x57f9d1[_0x4cb925(0x5f6)](),'status':_0x4cb925(0x965),'lessonContent':null};try{const _0x1fa88e=doc(db,_0x4cb925(0x878)+appId+_0x4cb925(0x7a4),currentBlueprintProjectId);await updateDoc(_0x1fa88e,{[_0x4cb925(0x426)+_0x51aba0]:_0x2e2973}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x16bec5){console['error'](_0x4cb925(0x960),_0x16bec5),showMessage(_0x4cb925(0x53f));}}async function editTopicInProject(_0x526e0e){const _0x3d0cd0=_0x4a882c,_0x3398f8=document[_0x3d0cd0(0x869)]('[data-topic-id=\x22'+_0x526e0e+'\x22]'),_0x2b88e5=_0x3398f8['querySelector']('[data-field=\x22subTopic\x22]'),_0x42cf77=_0x2b88e5['textContent'],_0x49aef0=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x42cf77);if(!_0x49aef0||_0x49aef0[_0x3d0cd0(0x5f6)]()===''||_0x49aef0[_0x3d0cd0(0x5f6)]()===_0x42cf77)return;try{const _0x40ea03=doc(db,'artifacts/'+appId+_0x3d0cd0(0x7a4),currentBlueprintProjectId);await updateDoc(_0x40ea03,{[_0x3d0cd0(0x426)+_0x526e0e+_0x3d0cd0(0x28c)]:_0x49aef0[_0x3d0cd0(0x5f6)]()}),_0x2b88e5['textContent']=_0x49aef0[_0x3d0cd0(0x5f6)](),showMessage(_0x3d0cd0(0x88c));}catch(_0x3cc97a){console['error']('Error\x20editing\x20topic:',_0x3cc97a),showMessage(_0x3d0cd0(0xdf8));}}async function deleteTopicFromProject(_0x388e31){const _0x528ff6=_0x4a882c;if(!confirm(_0x528ff6(0xc1a)))return;try{const _0x2830b9=doc(db,_0x528ff6(0x878)+appId+_0x528ff6(0x7a4),currentBlueprintProjectId);await updateDoc(_0x2830b9,{[_0x528ff6(0x426)+_0x388e31]:deleteField()}),document[_0x528ff6(0x869)](_0x528ff6(0x92c)+_0x388e31+'\x22]')[_0x528ff6(0x469)](),showMessage(_0x528ff6(0xa8d));}catch(_0x3d28ec){console[_0x528ff6(0x76b)](_0x528ff6(0x9dd),_0x3d28ec),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x1d5266,_0x1f6e44,_0x3755e1){handleGenerateAndShowLesson(_0x1f6e44,_0x3755e1);const _0x452de4=setInterval(async()=>{const _0x410099=_0x2fbb,_0x42d61a=document[_0x410099(0x81d)](_0x410099(0x857)),_0x2d4a90=_0x42d61a[_0x410099(0xdd2)]['contains']('hidden');if(_0x2d4a90){clearInterval(_0x452de4);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x3aa382={'point':document[_0x410099(0x81d)](_0x410099(0x925))[_0x410099(0x8ea)],'memory':document[_0x410099(0x81d)](_0x410099(0xb6e))[_0x410099(0x8ea)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x410099(0x81d)](_0x410099(0x5ac))[_0x410099(0x8ea)]};try{const _0x4d7526=doc(db,_0x410099(0x878)+appId+_0x410099(0x7a4),currentBlueprintProjectId),_0x5e9115=doc(db,'artifacts/'+appId+_0x410099(0x2a7)+currentBlueprintProjectId+_0x410099(0x658),_0x1d5266),_0x47d39c=writeBatch(db);_0x47d39c[_0x410099(0x538)](_0x5e9115,{'content':_0x3aa382}),_0x47d39c[_0x410099(0x243)](_0x4d7526,{[_0x410099(0x426)+_0x1d5266+_0x410099(0x82b)]:'generated'}),await _0x47d39c[_0x410099(0x8be)](),console[_0x410099(0x792)](_0x410099(0x1c3)+_0x1d5266+_0x410099(0x4ac)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4df38a){console[_0x410099(0x76b)]('Error\x20saving\x20lesson\x20to\x20project:',_0x4df38a);}}}},0x3e8);}function displayHalfMarkResult(_0x238048,_0x4af924){const _0x125a58=_0x4a882c,_0x3cf8fe=_0x238048>=_0x4af924/0x2,_0x1a09e3=_0x3cf8fe?'bg-green-100':'bg-red-100',_0x273acd=_0x3cf8fe?_0x125a58(0x166):_0x125a58(0xccc),_0x156ceb=_0x3cf8fe?'text-green-800':_0x125a58(0x6cc),_0x224de4=_0x3cf8fe?_0x125a58(0x31c):_0x125a58(0x2c9),_0x58fdad=_0x3cf8fe?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x209b4d=_0x125a58(0xc14)+_0x1a09e3+_0x125a58(0x85e)+_0x273acd+_0x125a58(0x91e)+_0x156ceb+_0x125a58(0x4e1)+_0x224de4+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x58fdad+_0x125a58(0xb6f);studentResultArea['innerHTML']=_0x209b4d,studentResultArea[_0x125a58(0xdd2)]['remove'](_0x125a58(0x35b)),studentQuizArea[_0x125a58(0xdd2)][_0x125a58(0x87d)](_0x125a58(0x35b)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3cf8fe});}function displayPerfectScoreResult(_0xd5181b,_0x11b420){const _0x3a87cc=_0x4a882c,_0x2510e0=_0xd5181b===_0x11b420,_0x5a109f=_0x2510e0?'bg-yellow-100':_0x3a87cc(0x940),_0x4956b9=_0x2510e0?_0x3a87cc(0x5a2):_0x3a87cc(0xd60),_0x241526=_0x2510e0?_0x3a87cc(0x2b4):_0x3a87cc(0x8eb),_0x140fe4=_0x2510e0?_0x3a87cc(0xc15):_0x3a87cc(0x557),_0x14430b=_0x2510e0?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x3a87cc(0xc27);let _0xad1968='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x5a109f+_0x3a87cc(0x85e)+_0x4956b9+_0x3a87cc(0x91e)+_0x241526+_0x3a87cc(0x4e1)+_0x140fe4+_0x3a87cc(0x45a)+_0x14430b+_0x3a87cc(0xb6f);studentResultArea[_0x3a87cc(0x8ea)]=_0xad1968,studentResultArea[_0x3a87cc(0xdd2)][_0x3a87cc(0x469)]('hidden'),studentQuizArea[_0x3a87cc(0xdd2)][_0x3a87cc(0x87d)](_0x3a87cc(0x35b)),setupResultScreenBackButton({'showRankings':![],'score':_0xd5181b,'totalQuestions':_0x11b420});}function renderIndividualComparisonTable(_0x5769f1,_0x1f94f9){const _0x43f730=_0x4a882c;_0x5769f1[_0x43f730(0x6c8)]((_0x4aa1fd,_0x1e565c)=>(_0x1e565c[_0x43f730(0xaf4)]??-Infinity)-(_0x4aa1fd[_0x43f730(0xaf4)]??-Infinity));let _0x2f5fc2=_0x43f730(0x4b2);_0x5769f1['length']===0x0?_0x2f5fc2+=_0x43f730(0xe35):_0x5769f1['forEach']((_0x10d95a,_0x2da87f)=>{const _0xe6dcbf=_0x43f730;let _0x298ef5='-',_0x346ed='';if(_0x10d95a[_0xe6dcbf(0xb65)]!==null){const _0xc6e3af=_0x10d95a['gain']>0x0?_0xe6dcbf(0xa52):_0x10d95a[_0xe6dcbf(0xb65)]<0x0?_0xe6dcbf(0x4ff):_0xe6dcbf(0xd51),_0x280006=_0x10d95a[_0xe6dcbf(0xb65)]>0x0?'+':'';_0x298ef5='<span\x20class=\x22font-bold\x20'+_0xc6e3af+'\x22>'+_0x280006+_0x10d95a[_0xe6dcbf(0xb65)]+_0xe6dcbf(0xd2e);if(_0x10d95a['gain']>0x0)_0x346ed=_0xe6dcbf(0x19a);else _0x10d95a[_0xe6dcbf(0xb65)]<0x0?_0x346ed='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x346ed=_0xe6dcbf(0x555);}let _0x2ac6da='-';if(_0x10d95a['tGain']!==null){const _0x48f10f=_0x10d95a[_0xe6dcbf(0xaf4)]>0x0?_0xe6dcbf(0xa52):_0x10d95a[_0xe6dcbf(0xaf4)]<0x0?_0xe6dcbf(0x4ff):_0xe6dcbf(0xd51),_0x18bb6f=_0x10d95a['tGain']>0x0?'+':'';_0x2ac6da=_0xe6dcbf(0x596)+_0x48f10f+'\x22>'+_0x18bb6f+_0x10d95a[_0xe6dcbf(0xaf4)]['toFixed'](0x2)+_0xe6dcbf(0xd2e);}_0x2f5fc2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x2da87f+0x1)+_0xe6dcbf(0xe08)+_0x10d95a[_0xe6dcbf(0x523)]+_0xe6dcbf(0x724)+(_0x10d95a[_0xe6dcbf(0x542)]??'-')+_0xe6dcbf(0x505)+(_0x10d95a[_0xe6dcbf(0xa1c)]??'-')+_0xe6dcbf(0x724)+_0x298ef5+_0xe6dcbf(0x721)+_0x346ed+_0xe6dcbf(0xbba)+(_0x10d95a[_0xe6dcbf(0x6e9)]?.['toFixed'](0x2)??'-')+_0xe6dcbf(0x276)+(_0x10d95a['postTScore']?.[_0xe6dcbf(0x2af)](0x2)??'-')+_0xe6dcbf(0x724)+_0x2ac6da+_0xe6dcbf(0xa1d);}),_0x2f5fc2+=_0x43f730(0xcc2),_0x1f94f9[_0x43f730(0x8ea)]=_0x2f5fc2;}function handleRenameQuiz(_0x3a51c4,_0x28640c){const _0x4c7f83=_0x4a882c;actionTargetId=_0x3a51c4,document[_0x4c7f83(0x81d)](_0x4c7f83(0xb87))[_0x4c7f83(0x710)]=_0x28640c,renameQuizModal[_0x4c7f83(0xdd2)][_0x4c7f83(0x469)](_0x4c7f83(0x35b));}function setupComparisonModalTabs(){const _0x57a1ca=_0x4a882c,_0x5b38c1=document[_0x57a1ca(0x81d)](_0x57a1ca(0x3e7)),_0x488b13=document['getElementById'](_0x57a1ca(0x652)),_0x2c4294=document[_0x57a1ca(0x81d)](_0x57a1ca(0x4ce)),_0x109334=document[_0x57a1ca(0x81d)]('comparison-individual-content');_0x5b38c1[_0x57a1ca(0x843)](_0x57a1ca(0x864),()=>{const _0x55c484=_0x57a1ca;_0x5b38c1[_0x55c484(0xdd2)][_0x55c484(0x87d)]('active'),_0x488b13[_0x55c484(0xdd2)][_0x55c484(0x469)]('active'),_0x2c4294[_0x55c484(0xdd2)]['remove'](_0x55c484(0x35b)),_0x109334[_0x55c484(0xdd2)]['add'](_0x55c484(0x35b));}),_0x488b13[_0x57a1ca(0x843)]('click',()=>{const _0x544203=_0x57a1ca;_0x488b13[_0x544203(0xdd2)][_0x544203(0x87d)](_0x544203(0x3fc)),_0x5b38c1['classList'][_0x544203(0x469)]('active'),_0x109334[_0x544203(0xdd2)][_0x544203(0x469)](_0x544203(0x35b)),_0x2c4294[_0x544203(0xdd2)][_0x544203(0x87d)](_0x544203(0x35b));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x136c37=_0x4a882c;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1c0d1f=doc(db,_0x136c37(0x878)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1c0d1f,_0x19feb0=>{const _0x54398f=_0x136c37;if(!_0x19feb0[_0x54398f(0xb52)]()){showMessage(_0x54398f(0xa9e));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x54398f(0x3de)?showView(_0x54398f(0x777)):showView(_0x54398f(0x711));return;}const _0x1b57a8=_0x19feb0[_0x54398f(0xc66)]();_0x1b57a8[_0x54398f(0xba9)]&&(currentQuizData=_0x1b57a8[_0x54398f(0xba9)]);!currentQuizData&&_0x1b57a8[_0x54398f(0x291)]&&((async()=>{const _0x5156c5=_0x54398f;try{const _0x16bafd=doc(db,'artifacts/'+appId+_0x5156c5(0x527),_0x1b57a8[_0x5156c5(0x291)]),_0x216641=await getDoc(_0x16bafd);_0x216641[_0x5156c5(0xb52)]()&&(currentQuizData={'id':_0x216641['id'],..._0x216641[_0x5156c5(0xc66)]()});}catch(_0x100f7d){console['error'](_0x5156c5(0x227),_0x100f7d);}})());switch(_0x1b57a8[_0x54398f(0x589)]){case'lobby':if(currentMode==='admin'){const _0x499295=_0x1b57a8['players']?Object[_0x54398f(0x26d)](_0x1b57a8['players']):[],_0x302ff5=_0x499295['filter'](([_0x23095b,_0x1397aa])=>_0x1397aa[_0x54398f(0x589)]===_0x54398f(0x3fc)),_0x10d28d=document[_0x54398f(0x81d)](_0x54398f(0xc08));if(_0x10d28d)_0x10d28d['textContent']=_0x302ff5[_0x54398f(0xa96)];const _0x4930f5=document['getElementById'](_0x54398f(0x9a1));_0x4930f5&&(_0x4930f5['innerHTML']=_0x302ff5[_0x54398f(0x7d8)](([_0x3290c4,_0x21abae])=>_0x54398f(0xc8e)+_0x3290c4+_0x54398f(0x8f1)+_0x3290c4+_0x54398f(0x4b9))['join'](''));const _0x1387a5=document[_0x54398f(0x81d)](_0x54398f(0x7b9));_0x1387a5&&(_0x1387a5[_0x54398f(0x396)]=_0x302ff5[_0x54398f(0xa96)]===0x0);}else showView(_0x54398f(0x94d)),liveGameView[_0x54398f(0x8ea)]=_0x54398f(0xc44)+currentStudentName+_0x54398f(0xa9f);break;case _0x54398f(0x62f):const _0x1ec793=_0x1b57a8['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x54398f(0x277)][_0x1ec793]){const _0x253ddb=currentQuizData[_0x54398f(0x277)][_0x1ec793],_0x23ecaf=_0x1b57a8['questionStatus']||'answering';switch(_0x23ecaf){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x1b57a8,_0x253ddb):showPlayerSummaryView(_0x1b57a8,currentStudentName);break;case'leaderboard':currentMode===_0x54398f(0x3de)&&showTop5LeaderboardView(_0x1b57a8);break;case _0x54398f(0x7eb):default:if(currentMode===_0x54398f(0x3de)){const _0x1ef865=writeBatch(db);let _0x5e3373=![];Object[_0x54398f(0x26d)](_0x1b57a8[_0x54398f(0x774)])[_0x54398f(0xdc3)](([_0x433614,_0xee6e88])=>{const _0x22c0b4=_0x54398f;if(_0xee6e88[_0x22c0b4(0x589)]===_0x22c0b4(0x3fc)&&_0xee6e88['submittedAt']&&!_0xee6e88['isScored']){_0x5e3373=!![];const _0x1bdc81=_0xee6e88[_0x22c0b4(0xe67)][_0x22c0b4(0xa11)]()-_0x1b57a8[_0x22c0b4(0x6f1)]['toDate']();let _0x434de6=0x0;if(_0xee6e88[_0x22c0b4(0x539)]){const _0x4e4d5f=0x3e8,_0x7b29ed=0x1f4,_0x31e636=0x4e20;let _0x50955b=_0x1bdc81/_0x31e636;if(_0x50955b>0x1)_0x50955b=0x1;const _0x31d6bb=Math[_0x22c0b4(0x1c0)](_0x50955b*_0x7b29ed);_0x434de6=_0x4e4d5f-_0x31d6bb;}const _0x379cc7=doc(db,'artifacts/'+appId+_0x22c0b4(0x66b),currentLiveGameId);_0x1ef865[_0x22c0b4(0x243)](_0x379cc7,{['players.'+_0x433614+_0x22c0b4(0x81a)]:increment(_0x434de6),[_0x22c0b4(0x9ac)+_0x433614+_0x22c0b4(0x9f8)]:_0x434de6,[_0x22c0b4(0x9ac)+_0x433614+_0x22c0b4(0x6c6)]:!![]});}});_0x5e3373&&_0x1ef865[_0x54398f(0x8be)]()[_0x54398f(0x218)](_0x18ba84=>console['error'](_0x54398f(0x9cd),_0x18ba84));lastRenderedAdminQuestionIndex!==_0x1ec793&&(showAdminLiveQuestionView(_0x253ddb,_0x1ec793,currentQuizData[_0x54398f(0x277)][_0x54398f(0xa96)]),lastRenderedAdminQuestionIndex=_0x1ec793);const _0x12780b=_0x1b57a8[_0x54398f(0x774)]||{},_0x584053=Object[_0x54398f(0x1f9)](_0x12780b)['filter'](_0x58daca=>_0x58daca[_0x54398f(0x589)]===_0x54398f(0x3fc)),_0x46e10b=_0x584053[_0x54398f(0xa96)],_0x3eb7de=_0x584053[_0x54398f(0x3d8)](_0x3bdf17=>_0x3bdf17[_0x54398f(0xb72)]===!![])[_0x54398f(0xa96)],_0x2e5abb=document[_0x54398f(0x81d)](_0x54398f(0x3f5));if(_0x2e5abb)_0x2e5abb['textContent']=_0x3eb7de+'/'+_0x46e10b;const _0x16321f=document['getElementById'](_0x54398f(0xa2e));if(_0x16321f){let _0x4f0ad9=Object[_0x54398f(0x26d)](_0x12780b)['filter'](([_0x45ecfd,_0x4fd54a])=>_0x4fd54a[_0x54398f(0x589)]==='active')[_0x54398f(0x7d8)](([_0x267923,_0x36dbac])=>{const _0x260527=_0x54398f,_0xe3fb4e=_0x36dbac[_0x260527(0xb72)]===!![],_0x5bd547=_0xe3fb4e?_0x260527(0x8e2):_0x260527(0x5bb),_0x1ce58a=_0xe3fb4e?_0x260527(0x3f4):_0x260527(0x487);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x5bd547+_0x260527(0xdf5)+_0x1ce58a+_0x260527(0x28a)+_0x267923+_0x260527(0x732)+_0x267923+_0x260527(0x8e3);})['join']('');_0x16321f[_0x54398f(0x8ea)]=_0x4f0ad9||_0x54398f(0xde4);}_0x46e10b>0x0&&_0x3eb7de===_0x46e10b&&revealAnswerForAdmin(_0x1ec793,currentQuizData[_0x54398f(0x277)][_0x54398f(0xa96)]);}else{const _0x51e66a=_0x1b57a8[_0x54398f(0x774)][currentStudentName];_0x51e66a&&!_0x51e66a['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x253ddb,_0x1ec793,currentQuizData['questions'][_0x54398f(0xa96)]);}break;}}break;case'podium':showPodiumView(_0x1b57a8[_0x54398f(0x774)],_0x54398f(0xb4b));break;}});}async function openGlobalActivityModal(){const _0x6d2cb9=_0x4a882c;if(allQuizzesGlobal[_0x6d2cb9(0xa96)]===0x0){const _0x484714=await getDocs(collection(db,_0x6d2cb9(0x878)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x484714[_0x6d2cb9(0x9b1)][_0x6d2cb9(0x7d8)](_0x5b43ca=>({'id':_0x5b43ca['id'],..._0x5b43ca[_0x6d2cb9(0xc66)]()}));}renderGlobalActivityList(''),document[_0x6d2cb9(0x81d)]('global-activity-modal')[_0x6d2cb9(0xdd2)][_0x6d2cb9(0x469)](_0x6d2cb9(0x35b));}function renderGlobalActivityList(_0x5a1417=''){const _0x2ba4c5=_0x4a882c,_0x41fede=document['getElementById'](_0x2ba4c5(0x2ca)),_0xec984e=_0x5a1417[_0x2ba4c5(0x95d)]()[_0x2ba4c5(0x5f6)](),_0x14f2e9=allQuizzesGlobal[_0x2ba4c5(0x7d8)](_0x2c1a70=>({..._0x2c1a70,'projectName':allProjects[_0x2ba4c5(0xa74)](_0x116581=>_0x116581['id']===_0x2c1a70['projectId'])?.[_0x2ba4c5(0xd34)]||_0x2ba4c5(0x700)}))[_0x2ba4c5(0x3d8)](_0x1ce2cb=>(_0x1ce2cb[_0x2ba4c5(0x755)]||'')[_0x2ba4c5(0x95d)]()[_0x2ba4c5(0x90f)](_0xec984e)||(_0x1ce2cb[_0x2ba4c5(0xd34)]||'')['toLowerCase']()[_0x2ba4c5(0x90f)](_0xec984e));document[_0x2ba4c5(0x81d)](_0x2ba4c5(0x598))[_0x2ba4c5(0xca8)]='('+_0x14f2e9[_0x2ba4c5(0xa96)]+'\x20ชุด)',_0x41fede['innerHTML']=_0x14f2e9['length']?_0x14f2e9['map'](_0x75796a=>_0x2ba4c5(0xd35)+(_0x75796a[_0x2ba4c5(0x755)]||_0x2ba4c5(0xe82))+_0x2ba4c5(0xc48)+(_0x75796a[_0x2ba4c5(0x277)]?.[_0x2ba4c5(0xa96)]||0x0)+_0x2ba4c5(0x852)+_0x75796a[_0x2ba4c5(0xd34)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x75796a['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x75796a['id']+_0x2ba4c5(0x4df)+_0x75796a['id']+_0x2ba4c5(0x61e)+_0x75796a['id']+_0x2ba4c5(0x637))[_0x2ba4c5(0x343)](''):_0x2ba4c5(0x381);}async function handleKickPlayer(_0xf18a5f){const _0x40b4cf=_0x4a882c;if(!currentLiveGameId||!_0xf18a5f)return;const _0x49399b=doc(db,_0x40b4cf(0x878)+appId+_0x40b4cf(0x66b),currentLiveGameId),_0x28e434={};_0x28e434[_0x40b4cf(0x9ac)+_0xf18a5f+'.status']=_0x40b4cf(0xc4e);try{await updateDoc(_0x49399b,_0x28e434);}catch(_0x3b37ea){console[_0x40b4cf(0x76b)](_0x40b4cf(0xdad)+_0xf18a5f+':',_0x3b37ea),showMessage(_0x40b4cf(0x5f1));}}async function authenticateUser(){const _0x2cece4=_0x4a882c;try{typeof __initial_auth_token!==_0x2cece4(0x34a)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x33d8af){console[_0x2cece4(0x76b)](_0x2cece4(0xe16),_0x33d8af),showMessage(_0x2cece4(0xd4d));}}function showView(_0xceef75){const _0x4959a4=_0x4a882c;adminView['classList'][_0x4959a4(0x87d)](_0x4959a4(0x35b)),studentView[_0x4959a4(0xdd2)]['add']('hidden'),projectDashboardView[_0x4959a4(0xdd2)][_0x4959a4(0x87d)](_0x4959a4(0x35b)),projectDetailView['classList']['add'](_0x4959a4(0x35b)),quizResultsView[_0x4959a4(0xdd2)]['add']('hidden'),liveGameView[_0x4959a4(0xdd2)][_0x4959a4(0x87d)](_0x4959a4(0x35b)),document['getElementById']('blueprint-project-manager-view')['classList'][_0x4959a4(0x87d)](_0x4959a4(0x35b)),studentInitialView['classList'][_0x4959a4(0x87d)](_0x4959a4(0x35b)),studentJoinGameView['classList'][_0x4959a4(0x87d)](_0x4959a4(0x35b)),studentNameSelectionView['classList'][_0x4959a4(0x87d)](_0x4959a4(0x35b)),studentQuizArea[_0x4959a4(0xdd2)][_0x4959a4(0x87d)](_0x4959a4(0x35b)),studentResultArea[_0x4959a4(0xdd2)][_0x4959a4(0x87d)]('hidden'),studentReadingArea['classList']['add'](_0x4959a4(0x35b));const _0x5d0661=document[_0x4959a4(0x81d)](_0x4959a4(0xe95)),_0x47f70b=document[_0x4959a4(0x81d)](_0x4959a4(0x6e1));if(_0x5d0661)_0x5d0661['classList']['add'](_0x4959a4(0x35b));if(_0x47f70b)_0x47f70b[_0x4959a4(0xdd2)][_0x4959a4(0x87d)](_0x4959a4(0x35b));switch(_0xceef75){case _0x4959a4(0xe2e):adminView[_0x4959a4(0xdd2)]['remove'](_0x4959a4(0x35b)),projectDashboardView['classList'][_0x4959a4(0x469)](_0x4959a4(0x35b));break;case'project-detail':adminView[_0x4959a4(0xdd2)]['remove'](_0x4959a4(0x35b)),projectDetailView[_0x4959a4(0xdd2)][_0x4959a4(0x469)]('hidden');break;case'quiz-results':adminView[_0x4959a4(0xdd2)][_0x4959a4(0x469)](_0x4959a4(0x35b)),quizResultsView[_0x4959a4(0xdd2)][_0x4959a4(0x469)](_0x4959a4(0x35b));break;case'student':studentView[_0x4959a4(0xdd2)]['remove'](_0x4959a4(0x35b)),studentInitialView['classList']['remove'](_0x4959a4(0x35b));break;case'live-game':liveGameView[_0x4959a4(0xdd2)][_0x4959a4(0x469)](_0x4959a4(0x35b));break;case _0x4959a4(0xb35):studentView[_0x4959a4(0xdd2)][_0x4959a4(0x469)](_0x4959a4(0x35b));if(_0x5d0661)_0x5d0661[_0x4959a4(0xdd2)][_0x4959a4(0x469)]('hidden');break;case _0x4959a4(0xa29):studentView['classList'][_0x4959a4(0x469)](_0x4959a4(0x35b));if(_0x47f70b)_0x47f70b['classList'][_0x4959a4(0x469)](_0x4959a4(0x35b));break;default:studentView[_0x4959a4(0xdd2)][_0x4959a4(0x469)](_0x4959a4(0x35b)),studentInitialView['classList']['remove']('hidden');break;}}function showJoinGameView(){const _0x1d7cbf=_0x4a882c;studentInitialView['classList']['add']('hidden'),studentJoinGameView[_0x1d7cbf(0xdd2)][_0x1d7cbf(0x469)](_0x1d7cbf(0x35b));}async function handleSaveVisibilitySettings(){const _0x4133fe=_0x4a882c;if(!currentProjectId)return;const _0x3a8dcd=doc(db,_0x4133fe(0x878)+appId+_0x4133fe(0x468),currentProjectId);try{await updateDoc(_0x3a8dcd,{'settings.showInStudentDashboard':document[_0x4133fe(0x81d)]('show-in-student-dashboard-checkbox')[_0x4133fe(0x600)],'settings.isPasscodeEnabled':document[_0x4133fe(0x81d)](_0x4133fe(0x937))[_0x4133fe(0x600)],'settings.passcode':document['getElementById'](_0x4133fe(0x3c0))[_0x4133fe(0x710)][_0x4133fe(0x5f6)]()}),showMessage(_0x4133fe(0x91a));}catch(_0xe49bf7){console[_0x4133fe(0x76b)](_0x4133fe(0xd3e),_0xe49bf7),showMessage(_0x4133fe(0x6df));}}function setupEventListeners(){const _0x2730de=_0x4a882c;document[_0x2730de(0x81d)]('cancel-wager-btn')['addEventListener']('click',()=>{const _0x111b8e=_0x2730de;document[_0x111b8e(0x81d)]('wager-modal')[_0x111b8e(0xdd2)][_0x111b8e(0x87d)](_0x111b8e(0x35b));}),document['getElementById'](_0x2730de(0x842))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x599b4e=_0x2730de,_0x4ed988=document[_0x599b4e(0x81d)]('wager-modal'),_0x54ec40=document[_0x599b4e(0x81d)](_0x599b4e(0x8f5)),_0x58f42e=document[_0x599b4e(0x81d)](_0x599b4e(0x703))[_0x599b4e(0x710)],_0x2aa84c=_0x54ec40['dataset'][_0x599b4e(0xe85)],_0x5b352e=JSON[_0x599b4e(0x76c)](_0x54ec40[_0x599b4e(0x33e)][_0x599b4e(0x62f)]),_0x1fae64=JSON[_0x599b4e(0x76c)](_0x54ec40['dataset']['gameData']),_0x6ae017=_0x54ec40['dataset'][_0x599b4e(0xe63)];_0x4ed988['classList'][_0x599b4e(0x87d)](_0x599b4e(0x35b)),handleSyncAnswerSubmit(_0x2aa84c,_0x5b352e,_0x1fae64,_0x6ae017,![],_0x58f42e);}),document[_0x2730de(0xbec)](_0x2730de(0x872))[_0x2730de(0xdc3)](_0x1e1fa7=>{const _0x44935e=_0x2730de;_0x1e1fa7[_0x44935e(0x843)]('change',_0x340b3b=>{const _0x5473b4=_0x44935e,_0x4d2fd9=document[_0x5473b4(0x81d)](_0x5473b4(0x34c));_0x340b3b[_0x5473b4(0xca1)][_0x5473b4(0x710)]===_0x5473b4(0xe39)?_0x4d2fd9[_0x5473b4(0xdd2)][_0x5473b4(0x469)](_0x5473b4(0x35b)):_0x4d2fd9[_0x5473b4(0xdd2)][_0x5473b4(0x87d)](_0x5473b4(0x35b));});}),document['getElementById']('sync-timer-enable-checkbox')[_0x2730de(0x843)](_0x2730de(0x318),_0x93e2b=>{const _0x40fea7=_0x2730de;document[_0x40fea7(0x81d)]('sync-timer-duration-container')[_0x40fea7(0xdd2)][_0x40fea7(0x4b1)](_0x40fea7(0x35b),!_0x93e2b[_0x40fea7(0xca1)][_0x40fea7(0x600)]);});const _0x2992b0=document[_0x2730de(0x81d)](_0x2730de(0x659)),_0x2a1e99=document[_0x2730de(0x81d)](_0x2730de(0x2b2));_0x2992b0&&_0x2a1e99&&_0x2992b0['addEventListener']('click',()=>{const _0x43d26e=_0x2730de;_0x2a1e99[_0x43d26e(0xdd2)][_0x43d26e(0x87d)](_0x43d26e(0x35b)),_0x2a1e99['dataset'][_0x43d26e(0xe03)]='';});const _0x920126=document[_0x2730de(0x81d)](_0x2730de(0x768));_0x920126&&(_0x920126[_0x2730de(0x843)]('mousedown',wakeUpScreen),_0x920126[_0x2730de(0x843)]('touchstart',wakeUpScreen));document[_0x2730de(0x81d)](_0x2730de(0x831))[_0x2730de(0x843)](_0x2730de(0x864),async()=>{const _0x4afe98=_0x2730de;if(!currentBlueprintProjectId)return;const _0x4f1ad5=document[_0x4afe98(0x81d)]('bp-reference-file-url')[_0x4afe98(0x710)][_0x4afe98(0x5f6)](),_0x4a7179=doc(db,_0x4afe98(0x878)+appId+_0x4afe98(0x7a4),currentBlueprintProjectId);try{await updateDoc(_0x4a7179,{'referenceFileUrl':_0x4f1ad5}),showMessage(_0x4afe98(0x6a3));}catch(_0x2c7e45){console[_0x4afe98(0x76b)](_0x4afe98(0xc21),_0x2c7e45),showMessage(_0x4afe98(0x6df));}}),document[_0x2730de(0x81d)](_0x2730de(0x829))[_0x2730de(0x843)]('click',handleAddParallelShortcutTab),document['getElementById'](_0x2730de(0x2a9))[_0x2730de(0x843)](_0x2730de(0x864),_0x3e26d8=>{const _0x449e18=_0x2730de;_0x3e26d8['target'][_0x449e18(0x9d0)]('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId=_0x449e18(0xde1),renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x449e18(0x1b7))[_0x449e18(0xdd2)][_0x449e18(0x469)](_0x449e18(0x35b)));}),document['getElementById'](_0x2730de(0xa7f))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x398e29=_0x2730de;document[_0x398e29(0x81d)]('additional-parallel-shortcuts-modal')['classList'][_0x398e29(0x87d)](_0x398e29(0x35b));}),document['addEventListener'](_0x2730de(0x864),_0xd06c9=>{const _0x5a0597=_0x2730de;!_0xd06c9['target']['closest']('.group\x5c/dropdown-parallel')&&document[_0x5a0597(0xbec)]('.move-parallel-shortcut-dropdown')[_0x5a0597(0xdc3)](_0x3a7733=>_0x3a7733[_0x5a0597(0xdd2)][_0x5a0597(0x87d)](_0x5a0597(0x35b)));}),document[_0x2730de(0x81d)](_0x2730de(0x58e))[_0x2730de(0x843)](_0x2730de(0x864),handleAddFileShortcutTab),document[_0x2730de(0x81d)]('file-input-area')[_0x2730de(0x843)](_0x2730de(0x864),_0x43c4cc=>{const _0x178e45=_0x2730de;_0x43c4cc['target']['closest'](_0x178e45(0x6ee))&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x178e45(0x81d)](_0x178e45(0x95e))[_0x178e45(0xdd2)][_0x178e45(0x469)]('hidden'));}),document['getElementById'](_0x2730de(0x9fd))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x20c6ca=_0x2730de;document[_0x20c6ca(0x81d)](_0x20c6ca(0x95e))[_0x20c6ca(0xdd2)][_0x20c6ca(0x87d)]('hidden');}),document[_0x2730de(0x843)]('click',_0x3aa307=>{const _0x1ec630=_0x2730de;!_0x3aa307[_0x1ec630(0xca1)][_0x1ec630(0x9d0)](_0x1ec630(0xa3b))&&document[_0x1ec630(0xbec)](_0x1ec630(0x18a))[_0x1ec630(0xdc3)](_0x20b3a8=>_0x20b3a8[_0x1ec630(0xdd2)][_0x1ec630(0x87d)](_0x1ec630(0x35b)));}),document[_0x2730de(0x81d)](_0x2730de(0x1c1))[_0x2730de(0x843)](_0x2730de(0x864),handleAddShortcutTab),document[_0x2730de(0x81d)]('parallel-shortcut-container')[_0x2730de(0x843)]('click',_0x55438d=>{const _0x4ab6aa=_0x2730de,_0x40bbce=_0x55438d[_0x4ab6aa(0xca1)][_0x4ab6aa(0x9d0)](_0x4ab6aa(0x329)),_0x4e7083=_0x55438d[_0x4ab6aa(0xca1)][_0x4ab6aa(0x9d0)](_0x4ab6aa(0xa94)),_0x535000=_0x55438d['target'][_0x4ab6aa(0x9d0)](_0x4ab6aa(0x6be));if(_0x4e7083)openParallelTestShortcutEditor(_0x4e7083[_0x4ab6aa(0x33e)]['id']);else{if(_0x535000){const _0x343a1b=_0x535000[_0x4ab6aa(0x33e)]['id'];showConfirmation(_0x4ab6aa(0xb5e),async()=>{const _0x4e1d9b=_0x4ab6aa,_0x5a57ec=parallelTestShortcuts[_0x4e1d9b(0x3d8)](_0x44381b=>_0x44381b['id']!==_0x343a1b),_0x55a26c=doc(db,_0x4e1d9b(0xafb),'parallelTestShortcutsConfig');await setDoc(_0x55a26c,{'shortcuts':_0x5a57ec},{'merge':!![]});});}else _0x40bbce&&handleParallelTestShortcutClick(_0x40bbce['dataset']['id']);}}),document[_0x2730de(0x81d)](_0x2730de(0xb55))['addEventListener'](_0x2730de(0x864),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x2730de(0xd1c))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x54124a=_0x2730de;document[_0x54124a(0x81d)](_0x54124a(0x324))[_0x54124a(0xdd2)][_0x54124a(0x87d)]('hidden');}),document['getElementById']('save-parallel-shortcut-btn')[_0x2730de(0x843)](_0x2730de(0x864),saveParallelTestShortcutChanges),document[_0x2730de(0x81d)]('parallel-test-input-area')[_0x2730de(0x843)](_0x2730de(0x864),_0x2c2dc9=>{const _0x20cc5f=_0x2730de;_0x2c2dc9[_0x20cc5f(0xca1)][_0x20cc5f(0x9d0)]('#open-additional-parallel-shortcuts-btn')&&document[_0x20cc5f(0x81d)](_0x20cc5f(0x1b7))[_0x20cc5f(0xdd2)][_0x20cc5f(0x469)]('hidden');}),document[_0x2730de(0x81d)](_0x2730de(0xa7f))['addEventListener'](_0x2730de(0x864),()=>{const _0xd07e47=_0x2730de;document['getElementById'](_0xd07e47(0x1b7))[_0xd07e47(0xdd2)][_0xd07e47(0x87d)]('hidden');}),document[_0x2730de(0x81d)]('additional-parallel-shortcuts-list')['addEventListener']('click',_0xe88e68=>{const _0x314776=_0x2730de,_0x57f671=document[_0x314776(0x81d)](_0x314776(0x1b7)),_0x5531db=_0xe88e68[_0x314776(0xca1)][_0x314776(0x9d0)]('.use-hidden-parallel-shortcut-btn'),_0x2cbf13=_0xe88e68[_0x314776(0xca1)][_0x314776(0x9d0)](_0x314776(0xc94)),_0x2b7ecc=_0xe88e68[_0x314776(0xca1)][_0x314776(0x9d0)](_0x314776(0x463));if(_0x5531db)_0x57f671[_0x314776(0xdd2)][_0x314776(0x87d)](_0x314776(0x35b)),handleParallelTestShortcutClick(_0x5531db[_0x314776(0x33e)]['id']);else{if(_0x2cbf13)_0x57f671[_0x314776(0xdd2)][_0x314776(0x87d)](_0x314776(0x35b)),openParallelTestShortcutEditor(_0x2cbf13[_0x314776(0x33e)]['id']);else{if(_0x2b7ecc){const _0x41ca9d=_0x2b7ecc[_0x314776(0x33e)]['id'];showConfirmation(_0x314776(0xb5e),async()=>{const _0x5570a4=_0x314776,_0x166896=parallelTestShortcuts[_0x5570a4(0x3d8)](_0x40c446=>_0x40c446['id']!==_0x41ca9d),_0x4b460d=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x4b460d,{'shortcuts':_0x166896},{'merge':!![]});});}}}}),document[_0x2730de(0x81d)](_0x2730de(0xae6))['addEventListener'](_0x2730de(0x864),_0x598ec8=>{const _0x44353e=_0x2730de,_0xcecfb9=_0x598ec8[_0x44353e(0xca1)][_0x44353e(0x9d0)](_0x44353e(0xa51)),_0x4cc9b2=_0x598ec8[_0x44353e(0xca1)]['closest']('.edit-file-shortcut-btn'),_0x46e452=_0x598ec8[_0x44353e(0xca1)]['closest'](_0x44353e(0xbc5));if(_0x4cc9b2)openFileShortcutEditor(_0x4cc9b2[_0x44353e(0x33e)]['id']);else{if(_0x46e452){const _0x733687=_0x46e452[_0x44353e(0x33e)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xaca780=_0x44353e,_0x336aa8=fileShortcuts[_0xaca780(0x3d8)](_0x137c08=>_0x137c08['id']!==_0x733687),_0x29e03d=doc(db,'globalSettings',_0xaca780(0x47c));await setDoc(_0x29e03d,{'shortcuts':_0x336aa8},{'merge':!![]});});}else _0xcecfb9&&handleFileShortcutClick(_0xcecfb9[_0x44353e(0x33e)]['id']);}}),document[_0x2730de(0x81d)](_0x2730de(0xb69))[_0x2730de(0x843)](_0x2730de(0x864),()=>openFileShortcutEditor(null)),document[_0x2730de(0x81d)]('cancel-file-shortcut-edit-btn')[_0x2730de(0x843)]('click',()=>{const _0x1fe1fd=_0x2730de;document[_0x1fe1fd(0x81d)](_0x1fe1fd(0x535))[_0x1fe1fd(0xdd2)][_0x1fe1fd(0x87d)]('hidden');}),document['getElementById'](_0x2730de(0xb46))[_0x2730de(0x843)](_0x2730de(0x864),saveFileShortcutChanges),document[_0x2730de(0x81d)]('file-input-area')[_0x2730de(0x843)](_0x2730de(0x864),_0xb2c57d=>{const _0x8227be=_0x2730de;_0xb2c57d[_0x8227be(0xca1)][_0x8227be(0x9d0)](_0x8227be(0x6ee))&&document['getElementById'](_0x8227be(0x95e))[_0x8227be(0xdd2)][_0x8227be(0x469)]('hidden');}),document[_0x2730de(0x81d)]('close-additional-file-shortcuts-btn')['addEventListener']('click',()=>{const _0x231878=_0x2730de;document[_0x231878(0x81d)](_0x231878(0x95e))[_0x231878(0xdd2)][_0x231878(0x87d)]('hidden');}),document['getElementById'](_0x2730de(0xbe1))['addEventListener'](_0x2730de(0x864),_0x555052=>{const _0x1dae4b=_0x2730de,_0x3bca22=document[_0x1dae4b(0x81d)](_0x1dae4b(0x95e)),_0x586164=_0x555052[_0x1dae4b(0xca1)][_0x1dae4b(0x9d0)](_0x1dae4b(0xb7e)),_0x4143ad=_0x555052[_0x1dae4b(0xca1)][_0x1dae4b(0x9d0)](_0x1dae4b(0x51c)),_0x479efb=_0x555052[_0x1dae4b(0xca1)]['closest']('.delete-hidden-file-shortcut-btn');if(_0x586164)_0x3bca22[_0x1dae4b(0xdd2)][_0x1dae4b(0x87d)](_0x1dae4b(0x35b)),handleFileShortcutClick(_0x586164[_0x1dae4b(0x33e)]['id']);else{if(_0x4143ad)_0x3bca22[_0x1dae4b(0xdd2)]['add'](_0x1dae4b(0x35b)),openFileShortcutEditor(_0x4143ad['dataset']['id']);else{if(_0x479efb){const _0x1e6381=_0x479efb[_0x1dae4b(0x33e)]['id'];showConfirmation(_0x1dae4b(0xb5e),async()=>{const _0x818070=_0x1dae4b,_0x33fe19=fileShortcuts[_0x818070(0x3d8)](_0x34d7a3=>_0x34d7a3['id']!==_0x1e6381),_0x3db7e6=doc(db,_0x818070(0xafb),_0x818070(0x47c));await setDoc(_0x3db7e6,{'shortcuts':_0x33fe19},{'merge':!![]});});}}}}),document[_0x2730de(0x81d)](_0x2730de(0x552))[_0x2730de(0x843)](_0x2730de(0x864),_0xa9c65f=>{const _0x1399d7=_0x2730de;_0xa9c65f[_0x1399d7(0xca1)][_0x1399d7(0x9d0)](_0x1399d7(0x224))&&(activeShortcutTabId=_0x1399d7(0xde1),renderAdditionalShortcutsModal(),document[_0x1399d7(0x81d)](_0x1399d7(0x6fc))[_0x1399d7(0xdd2)][_0x1399d7(0x469)](_0x1399d7(0x35b)));}),document[_0x2730de(0x81d)](_0x2730de(0x2a2))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x30d145=_0x2730de;document[_0x30d145(0x81d)](_0x30d145(0x6fc))['classList'][_0x30d145(0x87d)](_0x30d145(0x35b));}),document[_0x2730de(0x81d)](_0x2730de(0x5cc))[_0x2730de(0x843)]('click',_0xa25a91=>{const _0x171da5=_0x2730de,_0x4bb054=_0xa25a91[_0x171da5(0xca1)][_0x171da5(0x9d0)]('.use-hidden-shortcut-btn'),_0x4c645d=_0xa25a91[_0x171da5(0xca1)][_0x171da5(0x9d0)]('.edit-hidden-shortcut-btn'),_0xa4ac35=_0xa25a91[_0x171da5(0xca1)][_0x171da5(0x9d0)](_0x171da5(0x6cf)),_0x4b7fb8=document[_0x171da5(0x81d)](_0x171da5(0x6fc));if(_0x4bb054)_0x4b7fb8['classList'][_0x171da5(0x87d)](_0x171da5(0x35b)),handleShortcutClick(_0x4bb054['dataset']['id']);else{if(_0x4c645d)_0x4b7fb8[_0x171da5(0xdd2)]['add'](_0x171da5(0x35b)),openShortcutEditor(_0x4c645d['dataset']['id']);else{if(_0xa4ac35){const _0xbe916f=_0xa4ac35[_0x171da5(0x33e)]['id'],_0x2839b3=blueprintShortcuts[_0x171da5(0xa74)](_0x147bfa=>_0x147bfa['id']===_0xbe916f)?.[_0x171da5(0x523)];showConfirmation(_0x171da5(0x49a)+_0x2839b3+'\x22?',async()=>{const _0x5b0bc0=_0x171da5,_0x18dcb3=blueprintShortcuts[_0x5b0bc0(0x3d8)](_0x4f1903=>_0x4f1903['id']!==_0xbe916f);try{const _0x36de4e=doc(db,_0x5b0bc0(0xafb),'dashboardConfig');await setDoc(_0x36de4e,{'blueprintShortcuts':_0x18dcb3},{'merge':!![]});}catch(_0x30d830){console['error'](_0x5b0bc0(0x8dd),_0x30d830);}});}}}}),document[_0x2730de(0x81d)](_0x2730de(0xc30))['addEventListener'](_0x2730de(0x864),_0x1b73be=>{const _0x441c8c=_0x2730de,_0x12cd77=_0x1b73be[_0x441c8c(0xca1)][_0x441c8c(0x9d0)](_0x441c8c(0x958)),_0x2581db=_0x1b73be[_0x441c8c(0xca1)]['closest'](_0x441c8c(0x4cb)),_0x3e9666=_0x1b73be[_0x441c8c(0xca1)][_0x441c8c(0x9d0)]('.delete-shortcut-btn');if(_0x2581db)openShortcutEditor(_0x2581db[_0x441c8c(0x33e)]['id']);else{if(_0x3e9666){const _0x503973=_0x3e9666[_0x441c8c(0x33e)]['id'],_0x589dd7=blueprintShortcuts[_0x441c8c(0xa74)](_0x108603=>_0x108603['id']===_0x503973)?.[_0x441c8c(0x523)];showConfirmation(_0x441c8c(0x49a)+_0x589dd7+'\x22?',async()=>{const _0x499102=_0x441c8c,_0x25d6f=blueprintShortcuts[_0x499102(0x3d8)](_0x10c133=>_0x10c133['id']!==_0x503973);try{const _0x108e39=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x108e39,{'blueprintShortcuts':_0x25d6f},{'merge':!![]});}catch(_0x26a9f8){console[_0x499102(0x76b)]('Error\x20deleting\x20shortcut:',_0x26a9f8);}});}else _0x12cd77&&handleShortcutClick(_0x12cd77[_0x441c8c(0x33e)]['id']);}}),document['getElementById']('add-shortcut-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>openShortcutEditor(null)),document[_0x2730de(0x81d)](_0x2730de(0x6d7))['addEventListener'](_0x2730de(0x864),()=>{const _0x5a86c7=_0x2730de;document[_0x5a86c7(0x81d)](_0x5a86c7(0xdba))['classList']['add']('hidden');}),document[_0x2730de(0x81d)]('save-shortcut-btn')['addEventListener']('click',saveShortcutChanges),document[_0x2730de(0x81d)](_0x2730de(0x908))['addEventListener'](_0x2730de(0x864),async()=>{const _0x41000f=_0x2730de,_0x4c479a=document[_0x41000f(0x81d)]('blueprint-upload-input'),_0x21631f=document[_0x41000f(0x81d)](_0x41000f(0x8cc));_0x4c479a[_0x41000f(0xb34)][_0x41000f(0xa96)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x4c479a[_0x41000f(0xb34)][0x0],_0x21631f[_0x41000f(0xb34)][0x0]||null):showMessage(_0x41000f(0xc2f));}),document[_0x2730de(0x81d)](_0x2730de(0x97e))[_0x2730de(0x843)](_0x2730de(0x864),async _0x539fe3=>{const _0x27461e=_0x2730de,_0xb1b791=document[_0x27461e(0x81d)]('topic-quiz-bank-modal'),_0x56df45=_0x539fe3[_0x27461e(0xca1)][_0x27461e(0x9d0)](_0x27461e(0xe75)),_0x276096=_0x539fe3[_0x27461e(0xca1)][_0x27461e(0x9d0)](_0x27461e(0xe9f)),_0x353e68=_0x539fe3[_0x27461e(0xca1)][_0x27461e(0x9d0)](_0x27461e(0x214)),_0xb6c185=_0x539fe3[_0x27461e(0xca1)][_0x27461e(0x9d0)]('.bp-try-btn'),_0x41ff65=_0x539fe3[_0x27461e(0xca1)][_0x27461e(0x9d0)]('.bp-live-btn'),_0x33a603=_0x539fe3[_0x27461e(0xca1)][_0x27461e(0x9d0)](_0x27461e(0xbc3));if(_0x56df45){cameFromBlueprint=!![];const _0x3e6eed=_0x56df45[_0x27461e(0x33e)][_0x27461e(0x291)];showQuizDetailView(_0x3e6eed),_0xb1b791['classList'][_0x27461e(0x87d)](_0x27461e(0x35b));}else{if(_0x276096){const _0x4bca41=_0x276096[_0x27461e(0x33e)][_0x27461e(0x3da)],_0x8de5dd=_0x276096['dataset'][_0x27461e(0x291)],_0x105e8d=allQuizzesGlobal[_0x27461e(0xa74)](_0x25d8fd=>_0x25d8fd['id']===_0x8de5dd),_0x2658aa=_0x105e8d?_0x105e8d['topic']:'รายการนี้';showConfirmation(_0x27461e(0xe27)+_0x2658aa+'\x22\x20ออกจากคลังนี้?',async()=>{const _0xb07822=_0x27461e;try{const _0x3a94aa=doc(db,'artifacts/'+appId+_0xb07822(0x7a4),currentBlueprintProjectId);await updateDoc(_0x3a94aa,{[_0xb07822(0x426)+_0x4bca41+'.linkedQuizIds']:arrayRemove(_0x8de5dd)}),showMessage(_0xb07822(0xdc0)),openTopicQuizBank(_0x4bca41),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x93d613){console['error']('Error\x20unlinking\x20quiz:',_0x93d613),showMessage(_0xb07822(0x803));}});}else{if(_0x353e68){cameFromBlueprint=!![];const _0x309768=_0x353e68[_0x27461e(0x33e)][_0x27461e(0x291)],_0x382d18=allQuizzesGlobal[_0x27461e(0xa74)](_0x3c33c7=>_0x3c33c7['id']===_0x309768);_0x382d18&&(startPresentation(_0x382d18),_0xb1b791['classList'][_0x27461e(0x87d)]('hidden'));}else{if(_0xb6c185){cameFromBlueprint=!![];const _0x1bb244=_0xb6c185[_0x27461e(0x33e)][_0x27461e(0x291)],_0xa3a713=allQuizzesGlobal['find'](_0xb66f5d=>_0xb66f5d['id']===_0x1bb244);_0xa3a713&&(currentQuizData=_0xa3a713,startAdminTest(),_0xb1b791['classList'][_0x27461e(0x87d)](_0x27461e(0x35b)));}else{if(_0x41ff65)cameFromBlueprint=!![],handleStartLiveRace(_0x41ff65['dataset'][_0x27461e(0x291)]),_0xb1b791['classList']['add'](_0x27461e(0x35b));else{if(_0x33a603){cameFromBlueprint=!![];const _0x2e6522=_0x33a603[_0x27461e(0x33e)]['quizId'],_0x304c7c=_0x33a603['dataset']['mode'],_0x33c24e=allQuizzesGlobal[_0x27461e(0xa74)](_0x180e76=>_0x180e76['id']===_0x2e6522);_0x33c24e&&(showGameStartConfirmationModal(_0x2e6522,_0x304c7c,_0x33c24e[_0x27461e(0x755)]),_0xb1b791[_0x27461e(0xdd2)][_0x27461e(0x87d)](_0x27461e(0x35b)));}}}}}}}),document[_0x2730de(0x81d)]('manual-create-blueprint-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x24935e=_0x2730de;document[_0x24935e(0x81d)](_0x24935e(0x6c1))[_0x24935e(0xdd2)][_0x24935e(0x469)](_0x24935e(0x35b)),document['getElementById'](_0x24935e(0xc23))[_0x24935e(0x710)]='',document[_0x24935e(0x81d)]('manual-bp-grade-level')['value']='',document['getElementById']('manual-bp-content')['value']='';}),document['getElementById']('cancel-manual-bp-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x49e14d=_0x2730de;document[_0x49e14d(0x81d)](_0x49e14d(0x6c1))[_0x49e14d(0xdd2)][_0x49e14d(0x87d)](_0x49e14d(0x35b));}),document[_0x2730de(0x81d)](_0x2730de(0x298))[_0x2730de(0x843)](_0x2730de(0x864),handleManualBlueprintSave),document['getElementById'](_0x2730de(0x782))[_0x2730de(0x843)](_0x2730de(0x864),()=>document['getElementById'](_0x2730de(0xdd1))[_0x2730de(0xdd2)][_0x2730de(0x87d)](_0x2730de(0x35b))),document['getElementById']('save-bp-settings-btn')[_0x2730de(0x843)](_0x2730de(0x864),handleSaveBlueprintPageSettings),document[_0x2730de(0x81d)](_0x2730de(0x815))[_0x2730de(0x843)](_0x2730de(0x864),openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')[_0x2730de(0x843)](_0x2730de(0x864),saveBlueprintProject),document[_0x2730de(0x81d)](_0x2730de(0x1bf))['addEventListener']('click',showBlueprintProjects),document[_0x2730de(0x81d)](_0x2730de(0x9bd))[_0x2730de(0x843)]('click',()=>{const _0x53f004=_0x2730de;document['getElementById'](_0x53f004(0x643))[_0x53f004(0xdd2)]['add'](_0x53f004(0x35b));}),document['getElementById']('blueprint-project-list')['addEventListener'](_0x2730de(0x864),_0x498b3a=>{const _0x4f7598=_0x2730de,_0x402067=_0x498b3a[_0x4f7598(0xca1)]['closest'](_0x4f7598(0xa4f)),_0x5a7295=_0x498b3a[_0x4f7598(0xca1)][_0x4f7598(0x9d0)](_0x4f7598(0xdc2));if(_0x402067)displayBlueprintProjectManager(_0x402067[_0x4f7598(0x33e)]['id']);else _0x5a7295&&handleDeepDeleteBlueprintProject(_0x5a7295['dataset']['id']);}),document[_0x2730de(0x81d)](_0x2730de(0xb8f))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x1c0054=_0x2730de;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById']('blueprint-project-manager-view')['classList']['add'](_0x1c0054(0x35b)),showView(_0x1c0054(0xe2e));}),document['getElementById'](_0x2730de(0x9a7))[_0x2730de(0x843)](_0x2730de(0x864),addTopicToProject),document[_0x2730de(0x81d)](_0x2730de(0xb2b))[_0x2730de(0x843)](_0x2730de(0x864),async _0x56c01a=>{const _0x1ddbe2=_0x2730de,_0x1be2fe=_0x56c01a[_0x1ddbe2(0xca1)][_0x1ddbe2(0x9d0)](_0x1ddbe2(0x969));if(!_0x1be2fe)return;const _0x270baa=_0x1be2fe['dataset'][_0x1ddbe2(0x3da)],_0x44348e=_0x56c01a[_0x1ddbe2(0xca1)][_0x1ddbe2(0x9d0)]('.bp-create-onet-quiz-btn'),_0x308147=_0x56c01a[_0x1ddbe2(0xca1)]['closest'](_0x1ddbe2(0x7b7)),_0x48eed9=_0x56c01a[_0x1ddbe2(0xca1)]['closest']('.bp-create-topic-quiz-btn'),_0x2f421e=_0x56c01a[_0x1ddbe2(0xca1)][_0x1ddbe2(0x9d0)](_0x1ddbe2(0x7c9)),_0x9caa18=_0x56c01a[_0x1ddbe2(0xca1)][_0x1ddbe2(0x9d0)]('.view-bp-lesson-btn'),_0x4c6547=_0x56c01a[_0x1ddbe2(0xca1)][_0x1ddbe2(0x9d0)]('.bp-generate-lesson-btn'),_0x3a4184=_0x56c01a[_0x1ddbe2(0xca1)]['closest'](_0x1ddbe2(0x371)),_0x556bb0=_0x56c01a[_0x1ddbe2(0xca1)][_0x1ddbe2(0x9d0)](_0x1ddbe2(0xc6e)),_0x565101=_0x101623=>{const _0x34f5ea=_0x1ddbe2,_0x4b039e=_0x101623[_0x34f5ea(0x869)](_0x34f5ea(0x449))['textContent'][_0x34f5ea(0x5f6)](),_0x2807c2=_0x101623[_0x34f5ea(0x9d0)](_0x34f5ea(0x754))['previousElementSibling'],_0xdf2caf=_0x2807c2?_0x2807c2[_0x34f5ea(0xca8)][_0x34f5ea(0x5f6)]():'';return _0xdf2caf+':\x20'+_0x4b039e;};if(_0x2f421e)openTopicQuizBank(_0x270baa);else{if(_0x44348e){const _0x112bd4=_0x565101(_0x1be2fe);selectProjectAndGenerateBlueprintQuiz(_0x112bd4,null,_0x270baa,!![]);}else{if(_0x308147){const _0xaba482=_0x565101(_0x1be2fe);try{const _0x304225=doc(db,_0x1ddbe2(0x878)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+'/lessons',_0x270baa),_0x1fe998=await getDoc(_0x304225);if(_0x1fe998[_0x1ddbe2(0xb52)]()){const _0x496179=_0x1fe998[_0x1ddbe2(0xc66)]()[_0x1ddbe2(0x305)],_0x46ff42=document[_0x1ddbe2(0xdc8)](_0x1ddbe2(0x3fa)),_0x1249a7=_0xc16f1d=>{const _0x41fdb0=_0x1ddbe2;if(!_0xc16f1d)return'';return _0x46ff42['innerHTML']=_0xc16f1d,_0x46ff42[_0x41fdb0(0xca8)]||_0x46ff42[_0x41fdb0(0x263)]||'';},_0x1c60e6=(_0x1249a7(_0x496179['point'])+'\x20'+_0x1249a7(_0x496179['memory'])+'\x20'+_0x1249a7(_0x496179[_0x1ddbe2(0xc3e)]))[_0x1ddbe2(0x5f6)]();selectProjectAndGenerateBlueprintQuiz(_0xaba482,_0x1c60e6,_0x270baa,![]);}else showMessage(_0x1ddbe2(0x813));}catch(_0x422401){console[_0x1ddbe2(0x76b)](_0x1ddbe2(0x6d6),_0x422401),showMessage(_0x1ddbe2(0x42e));}}else{if(_0x48eed9){const _0x19442b=_0x565101(_0x1be2fe);selectProjectAndGenerateBlueprintQuiz(_0x19442b,null,_0x270baa,![]);}else{if(_0x9caa18){const _0x597f43=doc(db,_0x1ddbe2(0x878)+appId+_0x1ddbe2(0x7a4),currentBlueprintProjectId),_0x1eebb1=await getDoc(_0x597f43);if(_0x1eebb1[_0x1ddbe2(0xb52)]()){const _0x14194f=_0x1eebb1[_0x1ddbe2(0xc66)](),_0x39a830=_0x14194f[_0x1ddbe2(0x94a)][_0x270baa];if(_0x39a830&&_0x39a830[_0x1ddbe2(0x589)]==='generated')try{const _0x2020ee=doc(db,_0x1ddbe2(0x878)+appId+_0x1ddbe2(0x2a7)+currentBlueprintProjectId+'/lessons',_0x270baa),_0x1d9928=await getDoc(_0x2020ee);if(_0x1d9928[_0x1ddbe2(0xb52)]()){const _0x4c6077=_0x1d9928[_0x1ddbe2(0xc66)]()[_0x1ddbe2(0x305)];document[_0x1ddbe2(0x81d)](_0x1ddbe2(0xc0a))[_0x1ddbe2(0xca8)]=_0x1ddbe2(0xdfd)+_0x565101(_0x1be2fe),document[_0x1ddbe2(0x81d)]('pointContent')[_0x1ddbe2(0x8ea)]=_0x4c6077[_0x1ddbe2(0xea1)],document[_0x1ddbe2(0x81d)]('memoryContent')[_0x1ddbe2(0x8ea)]=_0x4c6077[_0x1ddbe2(0xe7b)],document[_0x1ddbe2(0x81d)](_0x1ddbe2(0x5ac))[_0x1ddbe2(0x8ea)]=_0x4c6077[_0x1ddbe2(0xc3e)];const _0xf2de82=document[_0x1ddbe2(0x81d)](_0x1ddbe2(0xb92));_0x4c6077[_0x1ddbe2(0x9ef)]?(currentApplicationData=_0x4c6077[_0x1ddbe2(0x9ef)],_0xf2de82[_0x1ddbe2(0x8ea)]=currentApplicationData[_0x1ddbe2(0x7d8)]((_0x3f09ed,_0x3c72b6)=>_0x1ddbe2(0x2e3)+(_0x3c72b6+0x1)+'.\x20'+marked['parseInline'](_0x3f09ed['question'])+_0x1ddbe2(0x7a3)+_0x3c72b6+_0x1ddbe2(0x947)+_0x3f09ed['options']['map']((_0x2d9aed,_0x4af47f)=>_0x1ddbe2(0x440)+_0x3c72b6+',\x20'+_0x4af47f+_0x1ddbe2(0xd48)+String[_0x1ddbe2(0x221)](0x61+_0x4af47f)+'.\x20'+marked[_0x1ddbe2(0xac8)](_0x2d9aed)+_0x1ddbe2(0x63a))[_0x1ddbe2(0x343)]('')+_0x1ddbe2(0x772))[_0x1ddbe2(0x343)]('')):(currentApplicationData=[],_0xf2de82[_0x1ddbe2(0x8ea)]=_0x4c6077[_0x1ddbe2(0x686)]||_0x4c6077[_0x1ddbe2(0x650)]),document['getElementById'](_0x1ddbe2(0xa98))[_0x1ddbe2(0xdd2)][_0x1ddbe2(0x87d)]('hidden'),document[_0x1ddbe2(0x81d)](_0x1ddbe2(0x2de))[_0x1ddbe2(0xdd2)][_0x1ddbe2(0x469)]('hidden'),document[_0x1ddbe2(0x81d)](_0x1ddbe2(0x857))[_0x1ddbe2(0xdd2)][_0x1ddbe2(0x469)](_0x1ddbe2(0x35b)),window[_0x1ddbe2(0x389)]&&MathJax[_0x1ddbe2(0x434)]([document[_0x1ddbe2(0x81d)](_0x1ddbe2(0xd71))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x5cd95e){console[_0x1ddbe2(0x76b)](_0x1ddbe2(0x837),_0x5cd95e),showMessage(_0x1ddbe2(0x45d));}else showMessage(_0x1ddbe2(0x5c3));}}else{if(_0x4c6547){const _0x12d539=_0x565101(_0x1be2fe),_0x47173f=doc(db,'artifacts/'+appId+_0x1ddbe2(0x7a4),currentBlueprintProjectId),_0x4b4d83=await getDoc(_0x47173f);if(_0x4b4d83[_0x1ddbe2(0xb52)]()){const _0x31f54a=_0x4b4d83['data']();generateAndSaveLessonForBlueprint(_0x270baa,_0x12d539,_0x31f54a['gradeLevel']);}}else{if(_0x3a4184)editTopicInProject(_0x270baa);else _0x556bb0&&deleteTopicFromProject(_0x270baa);}}}}}}}),document[_0x2730de(0x81d)](_0x2730de(0xb54))[_0x2730de(0x843)](_0x2730de(0x864),handleFixLessonLatex),document[_0x2730de(0x81d)](_0x2730de(0xa2b))['addEventListener']('click',handleExportLessonToPDF),document[_0x2730de(0x81d)]('close-lesson-view-btn')['addEventListener'](_0x2730de(0x864),()=>{const _0x57bac2=_0x2730de;document[_0x57bac2(0x81d)]('lesson-view-modal')[_0x57bac2(0xdd2)][_0x57bac2(0x87d)]('hidden');});const _0x3fc1cb=document['getElementById'](_0x2730de(0xd5b)),_0xc7bb12=document[_0x2730de(0x81d)](_0x2730de(0xcd1));_0x3fc1cb['addEventListener'](_0x2730de(0x318),()=>{const _0x542a50=_0x2730de;_0xc7bb12[_0x542a50(0xdd2)][_0x542a50(0x4b1)](_0x542a50(0x35b),!_0x3fc1cb[_0x542a50(0x600)]);});const _0x5aaeec=document[_0x2730de(0x81d)]('confidence-scoring-checkbox'),_0x3de983=document[_0x2730de(0x81d)]('confidence-mode-container');_0x5aaeec[_0x2730de(0x843)](_0x2730de(0x318),()=>{const _0x274226=_0x2730de;_0x3de983[_0x274226(0xdd2)]['toggle'](_0x274226(0x35b),!_0x5aaeec['checked']);});const _0x26381c=document['getElementById'](_0x2730de(0x283)),_0x50c6ea=document['getElementById']('modal-confidence-mode-container');_0x26381c[_0x2730de(0x843)](_0x2730de(0x318),()=>{const _0x166acd=_0x2730de;_0x50c6ea[_0x166acd(0xdd2)][_0x166acd(0x4b1)]('hidden',!_0x26381c[_0x166acd(0x600)]);});const _0xecdf58=document[_0x2730de(0x81d)]('confidence-modal'),_0x241a55=async _0x3db5a8=>{const _0x20f87a=_0x2730de,_0x51c2d5=document[_0x20f87a(0x81d)]('confidence-modal'),_0x310a84=_0x51c2d5[_0x20f87a(0x33e)]['currentMode'],_0x313aec=document[_0x20f87a(0x81d)](_0x20f87a(0xc79));_0x51c2d5[_0x20f87a(0xdd2)][_0x20f87a(0x87d)](_0x20f87a(0x35b));if(_0x310a84===_0x20f87a(0x3fe)){const _0x1e04a4=_0x313aec[_0x20f87a(0x710)],_0x3c3457={'answer':_0x1e04a4,'wasConfident':_0x3db5a8};proceedToNextQuestion(_0x3c3457);}else{if(_0x310a84===_0x20f87a(0x48d)){const _0x44a952=_0x313aec[_0x20f87a(0x33e)]['answerValue'],_0x2043f2=JSON[_0x20f87a(0x76c)](_0x313aec['dataset'][_0x20f87a(0x62f)]),_0x1cbbc6=JSON[_0x20f87a(0x76c)](_0x313aec[_0x20f87a(0x33e)]['gameData']),_0x28fe04=_0x313aec[_0x20f87a(0x33e)][_0x20f87a(0xe63)];handleSyncAnswerSubmit(_0x44a952,_0x2043f2,_0x1cbbc6,_0x28fe04,_0x3db5a8);}}_0x51c2d5[_0x20f87a(0x33e)][_0x20f87a(0xe03)]='';};document[_0x2730de(0x81d)](_0x2730de(0x50d))[_0x2730de(0x843)](_0x2730de(0x864),()=>_0x241a55(!![])),document[_0x2730de(0x81d)](_0x2730de(0xe70))[_0x2730de(0x843)](_0x2730de(0x864),()=>_0x241a55(![])),liveGameView['addEventListener'](_0x2730de(0x864),_0x1aef81=>{const _0x2d8327=_0x2730de,_0x3d4e76=_0x1aef81[_0x2d8327(0xca1)][_0x2d8327(0x9d0)]('.kick-player-btn-sync');if(_0x3d4e76){const _0x52c668=_0x3d4e76['dataset'][_0x2d8327(0xe63)];_0x52c668&&handleKickPlayerSync(_0x52c668);}});const _0x1e36dc=document[_0x2730de(0x81d)](_0x2730de(0x2be)),_0x445cca=document[_0x2730de(0x81d)](_0x2730de(0xb9f));_0x445cca[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x2c2c55=_0x2730de;document[_0x2c2c55(0x81d)](_0x2c2c55(0x60f))[_0x2c2c55(0xdd2)][_0x2c2c55(0x87d)](_0x2c2c55(0x35b));}),_0x1e36dc[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x3a9f4b=_0x2730de,_0x2fd2d0=document[_0x3a9f4b(0x81d)](_0x3a9f4b(0x50f))[_0x3a9f4b(0x710)],_0x5e2195=document[_0x3a9f4b(0x81d)](_0x3a9f4b(0xad4))[_0x3a9f4b(0x710)],_0x10a11b=document[_0x3a9f4b(0x81d)](_0x3a9f4b(0x170))[_0x3a9f4b(0x600)];document[_0x3a9f4b(0x81d)](_0x3a9f4b(0x60f))['classList'][_0x3a9f4b(0x87d)](_0x3a9f4b(0x35b));switch(_0x5e2195){case _0x3a9f4b(0xb4b):handleStartLiveRace(_0x2fd2d0,_0x10a11b);break;case _0x3a9f4b(0x4a8):handleStartTeamQuiz(_0x2fd2d0,_0x10a11b);break;case'group':handleStartGroupMode(_0x2fd2d0,_0x10a11b);break;case _0x3a9f4b(0x48d):const _0x43e87c=document[_0x3a9f4b(0x869)](_0x3a9f4b(0x997))[_0x3a9f4b(0x710)]||_0x3a9f4b(0xcdc);handleStartSyncMode(_0x2fd2d0,_0x10a11b,_0x43e87c);break;}}),document[_0x2730de(0x81d)](_0x2730de(0x3ff))[_0x2730de(0x843)]('click',handleJoinGroupActivity),liveGameView[_0x2730de(0x843)](_0x2730de(0x864),_0x3bcd2d=>{const _0x189dbe=_0x2730de,_0x41acf2=_0x3bcd2d[_0x189dbe(0xca1)]['closest'](_0x189dbe(0x3d4));document[_0x189dbe(0xbec)](_0x189dbe(0x1eb))['forEach'](_0x416aa7=>{const _0x378f1d=_0x189dbe;(!_0x41acf2||_0x416aa7['id']!==_0x41acf2[_0x378f1d(0x33e)][_0x378f1d(0x5b6)])&&_0x416aa7[_0x378f1d(0xdd2)]['remove'](_0x378f1d(0xe7a));});if(!_0x41acf2)return;const _0x218c8e=_0x41acf2['dataset'][_0x189dbe(0x5b6)],_0x10d34a=document[_0x189dbe(0x81d)](_0x218c8e);_0x10d34a&&_0x10d34a[_0x189dbe(0xdd2)][_0x189dbe(0x4b1)](_0x189dbe(0xe7a));}),liveGameView[_0x2730de(0x843)](_0x2730de(0x864),_0x1875b4=>{const _0x35327b=_0x2730de;if(_0x1875b4['target'][_0x35327b(0xdd2)][_0x35327b(0x6a8)]('kick-player-btn')){const _0x47c21f=_0x1875b4['target'][_0x35327b(0x33e)][_0x35327b(0xe63)];_0x47c21f&&handleKickPlayer(_0x47c21f);}}),document[_0x2730de(0x81d)](_0x2730de(0xa92))[_0x2730de(0x843)](_0x2730de(0xb81),()=>document['getElementById'](_0x2730de(0xcd3))['classList'][_0x2730de(0x469)](_0x2730de(0x35b))),document[_0x2730de(0x81d)](_0x2730de(0xcd3))[_0x2730de(0x843)]('click',handleSaveProjectName),document[_0x2730de(0x81d)](_0x2730de(0xa92))[_0x2730de(0x843)](_0x2730de(0x4b0),_0x1ebf61=>{const _0x3eda93=_0x2730de;_0x1ebf61[_0x3eda93(0x355)]===_0x3eda93(0x597)&&(_0x1ebf61[_0x3eda93(0x713)](),_0x1ebf61[_0x3eda93(0xca1)]['blur'](),handleSaveProjectName());}),document[_0x2730de(0x81d)](_0x2730de(0xb5f))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x247bf1=_0x2730de;document[_0x247bf1(0x81d)](_0x247bf1(0x8b5))['classList'][_0x247bf1(0x469)](_0x247bf1(0x35b));}),document[_0x2730de(0x81d)](_0x2730de(0x1fd))[_0x2730de(0x843)]('click',()=>{const _0x2c7d64=_0x2730de;document[_0x2c7d64(0x81d)](_0x2c7d64(0x8b5))['classList']['add']('hidden');}),document[_0x2730de(0x81d)]('confirm-bulk-quiz-settings-btn')[_0x2730de(0x843)](_0x2730de(0x864),handleBulkUpdateQuizSettings),document[_0x2730de(0x81d)]('mode-switcher-btn')[_0x2730de(0x843)](_0x2730de(0x864),handleModeSwitch),document[_0x2730de(0x81d)](_0x2730de(0x73e))[_0x2730de(0x843)]('click',handleUpdateOldQuizzes),document[_0x2730de(0x81d)](_0x2730de(0xc32))[_0x2730de(0x843)](_0x2730de(0x864),handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')['addEventListener']('click',handleSaveVisibilitySettings),document['getElementById']('add-custom-math-topic-btn')[_0x2730de(0x843)]('click',handleAddCustomMathTopic),document[_0x2730de(0x81d)](_0x2730de(0x4d3))[_0x2730de(0x843)]('click',handleSelectAllTopics),document[_0x2730de(0x81d)](_0x2730de(0x609))[_0x2730de(0x843)](_0x2730de(0x864),handleDeselectAllTopics),document[_0x2730de(0x81d)](_0x2730de(0xba6))[_0x2730de(0x843)]('click',()=>{const _0x3c963d=_0x2730de;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x3c963d(0xe2e));}}),document[_0x2730de(0x81d)]('back-to-project-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x4f78f9=_0x2730de;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4f78f9(0x777));}}),document[_0x2730de(0x81d)]('back-to-dashboard-from-results-btn')[_0x2730de(0x843)]('click',()=>{showView('admin-dashboard');}),document[_0x2730de(0x81d)](_0x2730de(0xd84))['addEventListener'](_0x2730de(0x864),()=>{const _0x302378=_0x2730de;messageModal[_0x302378(0xdd2)][_0x302378(0x87d)](_0x302378(0x35b)),typeof modalConfirmAction===_0x302378(0xabc)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x2730de(0x81d)](_0x2730de(0x195))[_0x2730de(0x843)](_0x2730de(0x864),()=>createProjectModal[_0x2730de(0xdd2)][_0x2730de(0x469)](_0x2730de(0x35b))),document[_0x2730de(0x81d)](_0x2730de(0x18e))[_0x2730de(0x843)](_0x2730de(0x864),()=>createProjectModal[_0x2730de(0xdd2)][_0x2730de(0x87d)](_0x2730de(0x35b))),document[_0x2730de(0x81d)]('cancel-admin-login-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>adminPasswordModal['classList'][_0x2730de(0x87d)](_0x2730de(0x35b))),document['getElementById']('confirm-admin-login-btn')['addEventListener'](_0x2730de(0x864),handleAdminLogin),document[_0x2730de(0x81d)]('admin-password-input')[_0x2730de(0x843)](_0x2730de(0x3cf),_0x54edfb=>{if(_0x54edfb['key']==='Enter')handleAdminLogin();}),document[_0x2730de(0x81d)]('cancel-delete-btn')['addEventListener'](_0x2730de(0x864),()=>{const _0xddf4b2=_0x2730de;confirmationModal['classList']['add'](_0xddf4b2(0x35b)),typeof cancelAction===_0xddf4b2(0xabc)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x2730de(0x81d)](_0x2730de(0x835))['addEventListener'](_0x2730de(0x864),()=>{const _0x59dc0b=_0x2730de;confirmAction&&confirmAction(),confirmationModal['classList'][_0x59dc0b(0x87d)](_0x59dc0b(0x35b)),confirmAction=null,cancelAction=null;}),document['getElementById']('cancel-rename-quiz-btn')['addEventListener'](_0x2730de(0x864),()=>renameQuizModal[_0x2730de(0xdd2)][_0x2730de(0x87d)](_0x2730de(0x35b))),document[_0x2730de(0x81d)]('confirm-rename-quiz-btn')['addEventListener']('click',confirmRenameQuiz),document[_0x2730de(0x81d)](_0x2730de(0x663))[_0x2730de(0x843)](_0x2730de(0x864),()=>moveQuizModal[_0x2730de(0xdd2)][_0x2730de(0x87d)](_0x2730de(0x35b))),document[_0x2730de(0x81d)](_0x2730de(0x73f))[_0x2730de(0x843)](_0x2730de(0x864),confirmMoveQuiz),document[_0x2730de(0x81d)](_0x2730de(0xbd4))[_0x2730de(0x843)](_0x2730de(0x864),()=>quizSettingsModal[_0x2730de(0xdd2)][_0x2730de(0x87d)](_0x2730de(0x35b))),document[_0x2730de(0x81d)](_0x2730de(0x45e))[_0x2730de(0x843)](_0x2730de(0x864),confirmQuizSettings),document['getElementById']('cancel-quiz-status-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>quizStatusModal[_0x2730de(0xdd2)][_0x2730de(0x87d)]('hidden')),document[_0x2730de(0x81d)](_0x2730de(0x2f9))['addEventListener'](_0x2730de(0x864),confirmQuizStatus);const _0x47b654=document[_0x2730de(0x81d)](_0x2730de(0xa13));document['getElementById'](_0x2730de(0xc41))['addEventListener']('click',()=>{const _0x26f1a0=_0x2730de;_0x47b654[_0x26f1a0(0xdd2)][_0x26f1a0(0x87d)]('hidden');}),document[_0x2730de(0x81d)]('export-compact-pdf-btn')['addEventListener'](_0x2730de(0x864),async()=>{const _0x1870cc=_0x2730de,_0x3b42ae=allQuizzes['find'](_0x3662b1=>_0x3662b1['id']===actionTargetId);_0x3b42ae?(currentQuizData=_0x3b42ae,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x47b654[_0x1870cc(0xdd2)]['add'](_0x1870cc(0x35b));}),document['getElementById'](_0x2730de(0xc04))[_0x2730de(0x843)](_0x2730de(0x864),async()=>{const _0x5c871a=_0x2730de,_0x1c7c05=allQuizzes[_0x5c871a(0xa74)](_0x46377d=>_0x46377d['id']===actionTargetId);_0x1c7c05?(currentQuizData=_0x1c7c05,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x47b654[_0x5c871a(0xdd2)][_0x5c871a(0x87d)](_0x5c871a(0x35b));});const _0x35c714=document[_0x2730de(0x81d)](_0x2730de(0xce3));_0x35c714[_0x2730de(0x8ea)]=_0x2730de(0x79c),_0x35c714['addEventListener'](_0x2730de(0x864),openGlobalActivityModal),document[_0x2730de(0x81d)]('cancel-global-activity-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x10bea9=_0x2730de;document['getElementById'](_0x10bea9(0x4ab))['classList'][_0x10bea9(0x87d)]('hidden');}),document[_0x2730de(0x81d)]('global-quiz-search-input')[_0x2730de(0x843)]('input',_0x2a9a1a=>{const _0x4c2383=_0x2730de;renderGlobalActivityList(_0x2a9a1a['target'][_0x4c2383(0x710)]);}),document['getElementById'](_0x2730de(0x2ca))[_0x2730de(0x843)](_0x2730de(0x864),_0x4c17a8=>{const _0x35808b=_0x2730de,_0x25c1b9=_0x4c17a8[_0x35808b(0xca1)]['closest'](_0x35808b(0x432));if(!_0x25c1b9)return;const _0x3b1907=_0x25c1b9[_0x35808b(0x33e)]['id'],_0x492557=_0x25c1b9[_0x35808b(0x33e)][_0x35808b(0xa43)],_0xb3920d=allQuizzesGlobal[_0x35808b(0xa74)](_0x326826=>_0x326826['id']===_0x3b1907);_0xb3920d&&(document[_0x35808b(0x81d)](_0x35808b(0x4ab))[_0x35808b(0xdd2)][_0x35808b(0x87d)](_0x35808b(0x35b)),_0x492557===_0x35808b(0xb4b)?handleStartLiveRace(_0x3b1907):showGameStartConfirmationModal(_0x3b1907,_0x492557,_0xb3920d[_0x35808b(0x755)]));}),document['getElementById'](_0x2730de(0xe8d))[_0x2730de(0x843)](_0x2730de(0x2d7),renderProjects),document[_0x2730de(0x81d)](_0x2730de(0xd7d))[_0x2730de(0x843)](_0x2730de(0x318),async()=>{const _0x2acd76=_0x2730de,_0xc04f49=document['getElementById'](_0x2acd76(0xd7d))[_0x2acd76(0x710)],_0x4631b7=doc(db,_0x2acd76(0xafb),_0x2acd76(0x198));try{await setDoc(_0x4631b7,{'projectSort':_0xc04f49},{'merge':!![]});}catch(_0x4e0fe6){console[_0x2acd76(0x76b)](_0x2acd76(0x245),_0x4e0fe6),showMessage(_0x2acd76(0xcee));}}),document['getElementById']('quiz-search-input')['addEventListener'](_0x2730de(0x2d7),renderQuizzes),document[_0x2730de(0x81d)](_0x2730de(0x3b2))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x545b77=_0x2730de;globalDashboardSettings['projectView']=_0x545b77(0xb57),saveUserPreference('projectView',_0x545b77(0xb57)),renderProjects();}),document[_0x2730de(0x81d)](_0x2730de(0xbbd))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x3b3cc6=_0x2730de;globalDashboardSettings[_0x3b3cc6(0xb86)]='list',saveUserPreference(_0x3b3cc6(0xb86),_0x3b3cc6(0x75f)),renderProjects();}),manageTab['addEventListener'](_0x2730de(0x864),()=>switchProjectTab(_0x2730de(0xb0d))),resultsTab['addEventListener'](_0x2730de(0x864),()=>switchProjectTab('results')),leaderboardTab['addEventListener'](_0x2730de(0x864),()=>switchProjectTab(_0x2730de(0x804))),document['getElementById'](_0x2730de(0xa22))['addEventListener'](_0x2730de(0x864),()=>switchQuizDetailTab(_0x2730de(0x9d4))),document[_0x2730de(0x81d)](_0x2730de(0xabf))[_0x2730de(0x843)](_0x2730de(0x864),()=>switchQuizDetailTab('scores')),document[_0x2730de(0x81d)](_0x2730de(0x62c))[_0x2730de(0x843)]('click',()=>switchQuizDetailTab(_0x2730de(0x32d))),document[_0x2730de(0x81d)](_0x2730de(0x6ad))[_0x2730de(0x843)](_0x2730de(0x864),()=>switchQuizDetailTab(_0x2730de(0xbc8))),document[_0x2730de(0x81d)]('analyze-strengths-btn')[_0x2730de(0x843)](_0x2730de(0x864),handleAnalyzeClass),generateWorksheetBtn[_0x2730de(0x843)]('click',generateWorksheet);const _0x18f2db=document['getElementById']('link-tab'),_0x271c96=document[_0x2730de(0x81d)](_0x2730de(0x3c5)),_0x27fb6d=document[_0x2730de(0x81d)]('blueprint-tab'),_0x1410e7=document[_0x2730de(0x81d)](_0x2730de(0x552)),_0x3e47d0=document[_0x2730de(0x81d)]('parallel-test-tab'),_0x1f6fe7=document[_0x2730de(0x81d)](_0x2730de(0x2a9));topicTab[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x474410=_0x2730de;topicTab[_0x474410(0xdd2)][_0x474410(0x87d)](_0x474410(0x3fc)),textTab[_0x474410(0xdd2)][_0x474410(0x469)](_0x474410(0x3fc)),fileTab[_0x474410(0xdd2)][_0x474410(0x469)](_0x474410(0x3fc)),worksheetTab[_0x474410(0xdd2)]['remove'](_0x474410(0x3fc));if(_0x18f2db)_0x18f2db[_0x474410(0xdd2)]['remove'](_0x474410(0x3fc));if(_0x27fb6d)_0x27fb6d['classList'][_0x474410(0x469)](_0x474410(0x3fc));if(_0x3e47d0)_0x3e47d0[_0x474410(0xdd2)]['remove'](_0x474410(0x3fc));topicInputArea[_0x474410(0xdd2)][_0x474410(0x469)](_0x474410(0x35b)),textInputArea[_0x474410(0xdd2)]['add'](_0x474410(0x35b)),fileInputArea[_0x474410(0xdd2)][_0x474410(0x87d)]('hidden'),worksheetInputArea[_0x474410(0xdd2)][_0x474410(0x87d)](_0x474410(0x35b));if(_0x271c96)_0x271c96[_0x474410(0xdd2)][_0x474410(0x87d)](_0x474410(0x35b));if(_0x1410e7)_0x1410e7['classList'][_0x474410(0x87d)]('hidden');if(_0x1f6fe7)_0x1f6fe7['classList'][_0x474410(0x87d)](_0x474410(0x35b));}),textTab[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x184ae9=_0x2730de;textTab[_0x184ae9(0xdd2)][_0x184ae9(0x87d)]('active'),topicTab[_0x184ae9(0xdd2)][_0x184ae9(0x469)](_0x184ae9(0x3fc)),fileTab[_0x184ae9(0xdd2)][_0x184ae9(0x469)](_0x184ae9(0x3fc)),worksheetTab[_0x184ae9(0xdd2)]['remove'](_0x184ae9(0x3fc));if(_0x18f2db)_0x18f2db[_0x184ae9(0xdd2)][_0x184ae9(0x469)](_0x184ae9(0x3fc));if(_0x27fb6d)_0x27fb6d[_0x184ae9(0xdd2)][_0x184ae9(0x469)]('active');if(_0x3e47d0)_0x3e47d0['classList']['remove'](_0x184ae9(0x3fc));textInputArea[_0x184ae9(0xdd2)][_0x184ae9(0x469)]('hidden'),topicInputArea[_0x184ae9(0xdd2)][_0x184ae9(0x87d)](_0x184ae9(0x35b)),fileInputArea[_0x184ae9(0xdd2)]['add']('hidden'),worksheetInputArea[_0x184ae9(0xdd2)]['add'](_0x184ae9(0x35b));if(_0x271c96)_0x271c96[_0x184ae9(0xdd2)][_0x184ae9(0x87d)](_0x184ae9(0x35b));if(_0x1410e7)_0x1410e7[_0x184ae9(0xdd2)][_0x184ae9(0x87d)]('hidden');if(_0x1f6fe7)_0x1f6fe7[_0x184ae9(0xdd2)][_0x184ae9(0x87d)](_0x184ae9(0x35b));}),fileTab['addEventListener']('click',()=>{const _0x5c7c10=_0x2730de;fileTab[_0x5c7c10(0xdd2)][_0x5c7c10(0x87d)](_0x5c7c10(0x3fc)),topicTab[_0x5c7c10(0xdd2)][_0x5c7c10(0x469)](_0x5c7c10(0x3fc)),textTab[_0x5c7c10(0xdd2)][_0x5c7c10(0x469)]('active'),worksheetTab[_0x5c7c10(0xdd2)]['remove'](_0x5c7c10(0x3fc));if(_0x18f2db)_0x18f2db[_0x5c7c10(0xdd2)][_0x5c7c10(0x469)](_0x5c7c10(0x3fc));if(_0x27fb6d)_0x27fb6d[_0x5c7c10(0xdd2)][_0x5c7c10(0x469)](_0x5c7c10(0x3fc));if(_0x3e47d0)_0x3e47d0[_0x5c7c10(0xdd2)][_0x5c7c10(0x469)](_0x5c7c10(0x3fc));fileInputArea[_0x5c7c10(0xdd2)]['remove'](_0x5c7c10(0x35b)),topicInputArea[_0x5c7c10(0xdd2)]['add'](_0x5c7c10(0x35b)),textInputArea[_0x5c7c10(0xdd2)][_0x5c7c10(0x87d)](_0x5c7c10(0x35b)),worksheetInputArea[_0x5c7c10(0xdd2)][_0x5c7c10(0x87d)](_0x5c7c10(0x35b));if(_0x271c96)_0x271c96[_0x5c7c10(0xdd2)][_0x5c7c10(0x87d)](_0x5c7c10(0x35b));if(_0x1410e7)_0x1410e7[_0x5c7c10(0xdd2)][_0x5c7c10(0x87d)](_0x5c7c10(0x35b));if(_0x1f6fe7)_0x1f6fe7['classList'][_0x5c7c10(0x87d)](_0x5c7c10(0x35b));}),worksheetTab[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x3e5b25=_0x2730de;worksheetTab[_0x3e5b25(0xdd2)][_0x3e5b25(0x87d)](_0x3e5b25(0x3fc)),topicTab['classList'][_0x3e5b25(0x469)](_0x3e5b25(0x3fc)),textTab['classList'][_0x3e5b25(0x469)]('active'),fileTab[_0x3e5b25(0xdd2)][_0x3e5b25(0x469)](_0x3e5b25(0x3fc));if(_0x18f2db)_0x18f2db[_0x3e5b25(0xdd2)][_0x3e5b25(0x469)](_0x3e5b25(0x3fc));if(_0x27fb6d)_0x27fb6d[_0x3e5b25(0xdd2)][_0x3e5b25(0x469)](_0x3e5b25(0x3fc));if(_0x3e47d0)_0x3e47d0[_0x3e5b25(0xdd2)][_0x3e5b25(0x469)]('active');worksheetInputArea[_0x3e5b25(0xdd2)][_0x3e5b25(0x469)](_0x3e5b25(0x35b)),topicInputArea[_0x3e5b25(0xdd2)][_0x3e5b25(0x87d)]('hidden'),textInputArea[_0x3e5b25(0xdd2)]['add'](_0x3e5b25(0x35b)),fileInputArea[_0x3e5b25(0xdd2)][_0x3e5b25(0x87d)](_0x3e5b25(0x35b));if(_0x271c96)_0x271c96[_0x3e5b25(0xdd2)][_0x3e5b25(0x87d)](_0x3e5b25(0x35b));if(_0x1410e7)_0x1410e7[_0x3e5b25(0xdd2)]['add'](_0x3e5b25(0x35b));if(_0x1f6fe7)_0x1f6fe7[_0x3e5b25(0xdd2)][_0x3e5b25(0x87d)]('hidden');});const _0x2cfb4d=document[_0x2730de(0x81d)]('bank-tab'),_0x35d705=document[_0x2730de(0x81d)](_0x2730de(0x3a9));_0x2cfb4d&&_0x2cfb4d[_0x2730de(0x843)]('click',()=>{const _0x32f780=_0x2730de;topicTab[_0x32f780(0xdd2)][_0x32f780(0x469)](_0x32f780(0x3fc)),textTab[_0x32f780(0xdd2)][_0x32f780(0x469)]('active'),fileTab[_0x32f780(0xdd2)][_0x32f780(0x469)]('active'),worksheetTab[_0x32f780(0xdd2)][_0x32f780(0x469)](_0x32f780(0x3fc));if(_0x18f2db)_0x18f2db[_0x32f780(0xdd2)][_0x32f780(0x469)](_0x32f780(0x3fc));if(_0x27fb6d)_0x27fb6d[_0x32f780(0xdd2)]['remove'](_0x32f780(0x3fc));if(_0x3e47d0)_0x3e47d0[_0x32f780(0xdd2)]['remove'](_0x32f780(0x3fc));_0x2cfb4d['classList'][_0x32f780(0x87d)](_0x32f780(0x3fc)),topicInputArea[_0x32f780(0xdd2)][_0x32f780(0x87d)](_0x32f780(0x35b)),textInputArea[_0x32f780(0xdd2)][_0x32f780(0x87d)]('hidden'),fileInputArea[_0x32f780(0xdd2)][_0x32f780(0x87d)](_0x32f780(0x35b)),worksheetInputArea[_0x32f780(0xdd2)][_0x32f780(0x87d)]('hidden');if(_0x271c96)_0x271c96[_0x32f780(0xdd2)][_0x32f780(0x87d)](_0x32f780(0x35b));if(_0x1410e7)_0x1410e7['classList'][_0x32f780(0x87d)](_0x32f780(0x35b));if(_0x1f6fe7)_0x1f6fe7[_0x32f780(0xdd2)][_0x32f780(0x87d)](_0x32f780(0x35b));_0x35d705[_0x32f780(0xdd2)][_0x32f780(0x469)]('hidden'),displayQuestionBank();});_0x18f2db&&(_0x18f2db[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x1bd82a=_0x2730de;_0x18f2db[_0x1bd82a(0xdd2)]['add'](_0x1bd82a(0x3fc)),topicTab[_0x1bd82a(0xdd2)][_0x1bd82a(0x469)](_0x1bd82a(0x3fc)),textTab[_0x1bd82a(0xdd2)]['remove'](_0x1bd82a(0x3fc)),fileTab[_0x1bd82a(0xdd2)][_0x1bd82a(0x469)]('active'),worksheetTab['classList'][_0x1bd82a(0x469)]('active');if(_0x27fb6d)_0x27fb6d[_0x1bd82a(0xdd2)][_0x1bd82a(0x469)](_0x1bd82a(0x3fc));if(_0x3e47d0)_0x3e47d0[_0x1bd82a(0xdd2)][_0x1bd82a(0x469)](_0x1bd82a(0x3fc));_0x271c96['classList']['remove'](_0x1bd82a(0x35b)),topicInputArea[_0x1bd82a(0xdd2)]['add']('hidden'),textInputArea['classList'][_0x1bd82a(0x87d)]('hidden'),fileInputArea[_0x1bd82a(0xdd2)][_0x1bd82a(0x87d)](_0x1bd82a(0x35b)),worksheetInputArea[_0x1bd82a(0xdd2)]['add'](_0x1bd82a(0x35b));if(_0x1410e7)_0x1410e7['classList'][_0x1bd82a(0x87d)](_0x1bd82a(0x35b));if(_0x1f6fe7)_0x1f6fe7[_0x1bd82a(0xdd2)][_0x1bd82a(0x87d)](_0x1bd82a(0x35b));}),document['getElementById'](_0x2730de(0xa18))['addEventListener'](_0x2730de(0x864),handleGenerateFromLink));_0x27fb6d&&_0x27fb6d['addEventListener'](_0x2730de(0x864),()=>{const _0x1e6a4f=_0x2730de;_0x27fb6d['classList'][_0x1e6a4f(0x87d)](_0x1e6a4f(0x3fc)),topicTab[_0x1e6a4f(0xdd2)]['remove'](_0x1e6a4f(0x3fc)),textTab[_0x1e6a4f(0xdd2)][_0x1e6a4f(0x469)](_0x1e6a4f(0x3fc)),fileTab[_0x1e6a4f(0xdd2)]['remove'](_0x1e6a4f(0x3fc)),worksheetTab[_0x1e6a4f(0xdd2)]['remove'](_0x1e6a4f(0x3fc));if(_0x18f2db)_0x18f2db['classList'][_0x1e6a4f(0x469)]('active');if(_0x2cfb4d)_0x2cfb4d[_0x1e6a4f(0xdd2)]['remove'](_0x1e6a4f(0x3fc));if(_0x3e47d0)_0x3e47d0[_0x1e6a4f(0xdd2)][_0x1e6a4f(0x469)]('active');_0x1410e7[_0x1e6a4f(0xdd2)]['remove'](_0x1e6a4f(0x35b)),topicInputArea['classList'][_0x1e6a4f(0x87d)](_0x1e6a4f(0x35b)),textInputArea['classList'][_0x1e6a4f(0x87d)](_0x1e6a4f(0x35b)),fileInputArea['classList'][_0x1e6a4f(0x87d)](_0x1e6a4f(0x35b)),worksheetInputArea[_0x1e6a4f(0xdd2)][_0x1e6a4f(0x87d)]('hidden');if(_0x271c96)_0x271c96[_0x1e6a4f(0xdd2)][_0x1e6a4f(0x87d)](_0x1e6a4f(0x35b));if(_0x35d705)_0x35d705[_0x1e6a4f(0xdd2)]['add']('hidden');if(_0x1f6fe7)_0x1f6fe7[_0x1e6a4f(0xdd2)]['add']('hidden');});_0x3e47d0&&_0x3e47d0[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x33f543=_0x2730de;_0x3e47d0[_0x33f543(0xdd2)]['add'](_0x33f543(0x3fc)),topicTab[_0x33f543(0xdd2)][_0x33f543(0x469)](_0x33f543(0x3fc)),textTab[_0x33f543(0xdd2)][_0x33f543(0x469)](_0x33f543(0x3fc)),fileTab[_0x33f543(0xdd2)][_0x33f543(0x469)](_0x33f543(0x3fc)),worksheetTab[_0x33f543(0xdd2)][_0x33f543(0x469)]('active');if(_0x18f2db)_0x18f2db[_0x33f543(0xdd2)][_0x33f543(0x469)](_0x33f543(0x3fc));if(_0x27fb6d)_0x27fb6d['classList'][_0x33f543(0x469)](_0x33f543(0x3fc));if(_0x2cfb4d)_0x2cfb4d[_0x33f543(0xdd2)][_0x33f543(0x469)](_0x33f543(0x3fc));_0x1f6fe7[_0x33f543(0xdd2)][_0x33f543(0x469)]('hidden'),topicInputArea[_0x33f543(0xdd2)][_0x33f543(0x87d)](_0x33f543(0x35b)),textInputArea[_0x33f543(0xdd2)]['add'](_0x33f543(0x35b)),fileInputArea[_0x33f543(0xdd2)][_0x33f543(0x87d)](_0x33f543(0x35b)),worksheetInputArea[_0x33f543(0xdd2)][_0x33f543(0x87d)](_0x33f543(0x35b));if(_0x271c96)_0x271c96[_0x33f543(0xdd2)][_0x33f543(0x87d)](_0x33f543(0x35b));if(_0x1410e7)_0x1410e7[_0x33f543(0xdd2)][_0x33f543(0x87d)]('hidden');if(_0x35d705)_0x35d705['classList']['add'](_0x33f543(0x35b));});const _0x193889=document[_0x2730de(0x81d)]('blueprint-upload-input'),_0x58480e=document[_0x2730de(0x81d)]('generate-from-blueprint-btn');if(_0x193889){const _0x341c92=document[_0x2730de(0x81d)]('blueprint-upload-input'),_0x4179e9=document[_0x2730de(0x81d)]('generate-from-blueprint-btn'),_0x592763=document[_0x2730de(0x81d)](_0x2730de(0x4ca)),_0x22047e=document[_0x2730de(0x81d)](_0x2730de(0xd0a)),_0x4f9240=document[_0x2730de(0x81d)]('blueprint-topics-list-container'),_0x1ba6b3=document[_0x2730de(0x81d)](_0x2730de(0x6f3));_0x341c92&&_0x341c92[_0x2730de(0x843)]('change',async _0x1179f3=>{const _0x2c8d86=_0x2730de;_0x592763[_0x2c8d86(0xdd2)]['add'](_0x2c8d86(0x35b)),_0x4f9240[_0x2c8d86(0xdd2)]['add'](_0x2c8d86(0x35b)),_0x22047e[_0x2c8d86(0x600)]=![],_0x4179e9[_0x2c8d86(0x396)]=!![];const _0x2bb84f=_0x1179f3['target'][_0x2c8d86(0xb34)][0x0];if(_0x2bb84f){_0x4179e9[_0x2c8d86(0x396)]=![];try{const _0x37f3f5=await extractTextFromPdf(_0x2bb84f);await analyzeBlueprintForTopics(_0x37f3f5);}catch(_0x8ce41f){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x592763[_0x2c8d86(0xdd2)]['add'](_0x2c8d86(0x35b));}}}),_0x22047e&&_0x22047e[_0x2730de(0x843)](_0x2730de(0x318),_0x4ed6ae=>{const _0x336189=_0x2730de,_0x531108=_0x4ed6ae[_0x336189(0xca1)][_0x336189(0x600)];_0x4f9240[_0x336189(0xdd2)][_0x336189(0x4b1)](_0x336189(0x35b),!_0x531108),_0x4179e9['disabled']=_0x531108;}),_0x1ba6b3&&(_0x1ba6b3&&_0x1ba6b3['addEventListener']('click',_0x447d5d=>{const _0x4d229c=_0x2730de,_0x238ab7=_0x447d5d['target'][_0x4d229c(0x9d0)](_0x4d229c(0x82f)),_0x35dff6=_0x447d5d['target'][_0x4d229c(0x9d0)]('.generate-content-btn');if(_0x238ab7){const _0x43bca3=unescape(_0x238ab7[_0x4d229c(0x33e)][_0x4d229c(0x755)]);generateQuizForSingleTopic(_0x43bca3);}else{if(_0x35dff6){const _0xf511f=unescape(_0x35dff6['dataset'][_0x4d229c(0x755)]);handleGenerateTeachingContent(_0xf511f);}}}));}_0x58480e&&_0x58480e[_0x2730de(0x843)](_0x2730de(0x864),handleGenerateFromBlueprint);const _0x1f6484=document['getElementById'](_0x2730de(0x7aa)),_0x504bba=document[_0x2730de(0x81d)](_0x2730de(0x7c0));_0x1f6484&&_0x1f6484[_0x2730de(0x843)](_0x2730de(0x318),_0x9f4f8c=>{const _0x370727=_0x2730de;_0x504bba[_0x370727(0x396)]=_0x9f4f8c[_0x370727(0xca1)][_0x370727(0xb34)][_0x370727(0xa96)]===0x0;});_0x504bba&&_0x504bba[_0x2730de(0x843)]('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0x2730de(0x843)](_0x2730de(0x864),handleLoadQuiz),startQuizBtn[_0x2730de(0x843)](_0x2730de(0x864),async()=>{const _0x514997=_0x2730de,_0x5e797a=document[_0x514997(0x81d)](_0x514997(0x4d9));currentStudentName=_0x5e797a['value'];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x188a72=currentQuizData['id'],_0x4bf843=doc(db,'artifacts/'+appId+_0x514997(0x491)+_0x188a72+'/submissions',currentStudentName),_0x1c9b7e=await getDoc(_0x4bf843);!_0x1c9b7e['exists']()?await setDoc(_0x4bf843,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x4bf843,{'startedAt':new Date()[_0x514997(0x31f)]()});}catch(_0x10925e){console['error']('Failed\x20to\x20create/update\x20submission\x20record:',_0x10925e),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x514997(0xdd2)]['add'](_0x514997(0x35b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById']('join-live-game-btn')['addEventListener']('click',showJoinGameView),document['getElementById'](_0x2730de(0x7dd))[_0x2730de(0x843)](_0x2730de(0x864),handleJoinLiveGame),document[_0x2730de(0x81d)]('back-to-student-initial-btn')[_0x2730de(0x843)]('click',()=>showView(_0x2730de(0x711)));const _0x4b5a02=()=>{const _0x592ad6=_0x2730de,_0x565366=document['getElementById']('results-quiz-title')[_0x592ad6(0xca8)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x592ad6(0xacf)+(_0x565366||'quiz');},_0x1c5f26=document['getElementById'](_0x2730de(0x332));_0x1c5f26&&_0x1c5f26[_0x2730de(0x843)](_0x2730de(0x2d7),_0x1d77bb=>{const _0x42ae96=_0x2730de,_0x135977=_0x1d77bb[_0x42ae96(0xca1)][_0x42ae96(0x710)][_0x42ae96(0x95d)]()['trim'](),_0x30c115=document[_0x42ae96(0x81d)]('math-topics-checkbox-container'),_0x546012=_0x30c115[_0x42ae96(0xbec)](_0x42ae96(0x4e2));_0x546012['forEach'](_0x58149b=>{const _0x141691=_0x42ae96;let _0xe6cf3f=![];const _0x252eb0=_0x58149b[_0x141691(0xbec)]('.topic-row');_0x252eb0[_0x141691(0xdc3)](_0x461b34=>{const _0x121eb3=_0x141691,_0x4ff7a8=_0x461b34['querySelector'](_0x121eb3(0x6a1))['textContent']['toLowerCase']();_0x4ff7a8[_0x121eb3(0x90f)](_0x135977)?(_0x461b34[_0x121eb3(0xe1e)]['display']=_0x121eb3(0x649),_0xe6cf3f=!![]):_0x461b34[_0x121eb3(0xe1e)][_0x121eb3(0x1ba)]=_0x121eb3(0x486);}),_0xe6cf3f?_0x58149b['style']['display']='block':_0x58149b[_0x141691(0xe1e)][_0x141691(0x1ba)]=_0x141691(0x486);});});document['getElementById'](_0x2730de(0xe8b))[_0x2730de(0x843)]('click',()=>exportTableAsImage('results-table-container',_0x4b5a02())),document[_0x2730de(0x81d)](_0x2730de(0xa10))['addEventListener'](_0x2730de(0x864),()=>exportTableAsPDF(_0x2730de(0xb80),_0x4b5a02())),document[_0x2730de(0x81d)]('export-word-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>exportTableAsWord(_0x2730de(0xe87),_0x4b5a02())),document[_0x2730de(0x81d)](_0x2730de(0xc57))[_0x2730de(0x843)](_0x2730de(0x864),()=>exportTableAsExcel(_0x2730de(0xb80),_0x4b5a02()));const _0x37f337=()=>{const _0x823461=_0x2730de,_0x3a19f4=document['getElementById'](_0x823461(0xbbc))[_0x823461(0xca8)][_0x823461(0xc8d)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x823461(0x8d0)+(_0x3a19f4||_0x823461(0xc50));};document['getElementById']('export-leaderboard-image-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x37f337())),document[_0x2730de(0x81d)](_0x2730de(0x564))[_0x2730de(0x843)](_0x2730de(0x864),()=>exportTableAsPDF(_0x2730de(0xd3d),_0x37f337())),document[_0x2730de(0x81d)]('export-leaderboard-word-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>exportTableAsWord(_0x2730de(0x18c),_0x37f337())),document[_0x2730de(0x81d)](_0x2730de(0xd9e))[_0x2730de(0x843)](_0x2730de(0x864),()=>exportTableAsExcel('quiz-leaderboard-table',_0x37f337())),projectQuizzesList[_0x2730de(0x843)](_0x2730de(0x864),async _0x40b516=>{const _0x1b3ba8=_0x2730de,_0x4dfcdf=_0x40b516['target'][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x54d)),_0x3b98fd=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x63f)),_0x58499b=_0x40b516['target'][_0x1b3ba8(0x9d0)]('.compare-results-btn'),_0x5513eb=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)]('.generate-lesson-btn'),_0x1aea7e=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0xad0)),_0x375ba1=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0xc2b)),_0x12e1d0=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x3b1)),_0x48e70c=_0x40b516['target'][_0x1b3ba8(0x9d0)]('.quiz-settings-btn'),_0x3425b7=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0xe3a)),_0x1b1851=_0x40b516[_0x1b3ba8(0xca1)]['closest'](_0x1b3ba8(0x6a6)),_0xe152b3=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x4a4)),_0xca253f=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x5aa)),_0xf6da80=_0x40b516['target'][_0x1b3ba8(0x9d0)](_0x1b3ba8(0xc6f)),_0x313f6d=_0x40b516['target'][_0x1b3ba8(0x9d0)](_0x1b3ba8(0xa28)),_0x18012b=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x900)),_0x26aefe=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0xb3e)),_0x204e05=_0x40b516['target'][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x4d4)),_0x3cfe25=_0x40b516[_0x1b3ba8(0xca1)]['closest'](_0x1b3ba8(0x3e0)),_0x5347ae=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x709)),_0x289268=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x70c)),_0x359380=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x96c)),_0x9dd0e5=_0x40b516['target'][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x78f)),_0xf5fc9e=_0x40b516[_0x1b3ba8(0xca1)][_0x1b3ba8(0x9d0)](_0x1b3ba8(0x64a));if(_0x9dd0e5){const _0x2064c5=_0x9dd0e5[_0x1b3ba8(0x33e)]['quizId'],_0x24b123=_0x9dd0e5[_0x1b3ba8(0x33e)][_0x1b3ba8(0xa43)],_0x535973=allQuizzes[_0x1b3ba8(0xa74)](_0xfc5efa=>_0xfc5efa['id']===_0x2064c5);_0x535973&&showGameStartConfirmationModal(_0x2064c5,_0x24b123,_0x535973[_0x1b3ba8(0x755)]);}else{if(_0xf5fc9e){const _0x5186bc=_0xf5fc9e['dataset'][_0x1b3ba8(0x291)];handleStartLiveRace(_0x5186bc);}else{if(_0x289268){const _0x1fa123=_0x289268[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)],_0x429be9=document[_0x1b3ba8(0x81d)]('actions-container-'+_0x1fa123);_0x429be9&&_0x429be9['classList'][_0x1b3ba8(0x4b1)](_0x1b3ba8(0x35b));}else{if(_0x3b98fd){const _0x5bad39=_0x3b98fd['dataset']['quizId'],_0x4adbde=allQuizzes[_0x1b3ba8(0xa74)](_0x17d058=>_0x17d058['id']===_0x5bad39);_0x4adbde&&handleGenerateParallelPostTest(_0x4adbde);}else{if(_0x58499b)handleCompareResults(_0x58499b[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)],_0x58499b[_0x1b3ba8(0x33e)]['preTestId']);else{if(_0x5513eb){const _0xed8fd=_0x5513eb[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)],_0x54c48f=allQuizzes['find'](_0x1e9ea2=>_0x1e9ea2['id']===_0xed8fd);_0x54c48f&&_0x54c48f[_0x1b3ba8(0x220)]?(displayLessonPlan(_0x54c48f['lessonPlan'],_0x54c48f),showConfirmation(_0x1b3ba8(0x46c),()=>handleGenerateLessonPlan(_0xed8fd)),document['getElementById'](_0x1b3ba8(0x29e))[_0x1b3ba8(0x869)]('h3')[_0x1b3ba8(0xca8)]=_0x1b3ba8(0x572),document[_0x1b3ba8(0x81d)]('confirm-delete-btn')['textContent']=_0x1b3ba8(0x59d)):handleGenerateLessonPlan(_0xed8fd);}else{if(_0x1aea7e)handleToggleStarQuiz(_0x1aea7e[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)]);else{if(_0x375ba1)copyTextToClipboard(_0x375ba1[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)],'คัดลอกรหัสแล้ว!');else{if(_0x12e1d0)handleOpenQuizEditor(_0x12e1d0['dataset'][_0x1b3ba8(0x291)]);else{if(_0x48e70c)handleQuizSettings(_0x48e70c[_0x1b3ba8(0x33e)]['quizId']);else{if(_0x3425b7)handleDuplicateQuiz(_0x3425b7[_0x1b3ba8(0x33e)]['quizId']);else{if(_0x1b1851)handleRenameQuiz(_0x1b1851[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)],_0x1b1851['dataset'][_0x1b3ba8(0x755)]);else{if(_0xe152b3){const _0x2b78b7=_0xe152b3[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)],_0x104f05=allQuizzes[_0x1b3ba8(0xa74)](_0x428b9d=>_0x428b9d['id']===_0x2b78b7);_0x104f05&&handleGenerateParallelFromBank(_0x104f05);}else{if(_0xca253f)handleMoveQuiz(_0xca253f[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)]);else{if(_0xf6da80)handleManualQuizPairing(_0xf6da80[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)]);else{if(_0x313f6d)handleUnpairQuiz(_0x313f6d[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)]);else{if(_0x18012b){const _0x425a95=_0x18012b['dataset']['quizId'],_0x4d97ed=allQuizzes['find'](_0x573454=>_0x573454['id']===_0x425a95);if(_0x4d97ed)startPresentation(_0x4d97ed);}else{if(_0x26aefe){const _0x5ca4a2=_0x26aefe[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)],_0x4e5b97=allQuizzes['find'](_0x3ca77e=>_0x3ca77e['id']===_0x5ca4a2);_0x4e5b97&&(currentQuizData=_0x4e5b97,startAdminTest());}else{if(_0x204e05)actionTargetId=_0x204e05['dataset'][_0x1b3ba8(0x291)],document[_0x1b3ba8(0x81d)](_0x1b3ba8(0xa13))[_0x1b3ba8(0xdd2)]['remove'](_0x1b3ba8(0x35b));else{if(_0x3cfe25)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x3cfe25[_0x1b3ba8(0x33e)][_0x1b3ba8(0x755)]+_0x1b3ba8(0xd57),()=>handleDeleteQuiz(_0x3cfe25['dataset']['quizId']));else{if(_0x5347ae)handleQuizStatus(_0x5347ae[_0x1b3ba8(0x33e)][_0x1b3ba8(0x291)]);else{if(_0x359380)handleGenerateEasyVersionQuiz(_0x359380['dataset']['quizId']);else _0x4dfcdf&&showQuizDetailView(_0x4dfcdf[_0x1b3ba8(0x33e)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x2730de(0x81d)](_0x2730de(0xb4d))[_0x2730de(0x843)](_0x2730de(0x864),()=>showView('student')),document['getElementById'](_0x2730de(0x38a))[_0x2730de(0x843)](_0x2730de(0x864),confirmAndStartTeamQuiz),document[_0x2730de(0x81d)](_0x2730de(0xd3d))[_0x2730de(0x869)](_0x2730de(0xc99))[_0x2730de(0x843)](_0x2730de(0x864),_0x6fb975=>{const _0x22242e=_0x2730de,_0x37a8fc=_0x6fb975['target']['closest'](_0x22242e(0x31d));if(!_0x37a8fc||!_0x37a8fc['dataset']['sort'])return;const _0x243e77=_0x37a8fc[_0x22242e(0x33e)][_0x22242e(0x6c8)];if(quizLeaderboardSortBy===_0x243e77)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x22242e(0x53a)?_0x22242e(0x445):'asc';else{quizLeaderboardSortBy=_0x243e77;const _0x4b3f4a=['studentName'];quizLeaderboardSortOrder=_0x4b3f4a['includes'](_0x243e77)?_0x22242e(0x53a):_0x22242e(0x445);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x22242e(0xb6c));}),document[_0x2730de(0x81d)](_0x2730de(0x38e))[_0x2730de(0x843)](_0x2730de(0x864),closePresentation),document[_0x2730de(0x81d)](_0x2730de(0x4db))[_0x2730de(0x843)](_0x2730de(0x864),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x2730de(0x66e))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x122d1f=_0x2730de;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x122d1f(0x277)][_0x122d1f(0xa96)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x2730de(0x1ae),()=>{const _0x8c6118=_0x2730de;!document[_0x8c6118(0xb0a)]&&(presentationModal[_0x8c6118(0xe1e)]['display']=_0x8c6118(0x486));}),document[_0x2730de(0x81d)](_0x2730de(0x269))['addEventListener']('click',handleDeleteAllStudents),studentList[_0x2730de(0x843)]('click',_0x265b61=>{const _0x1f1ee1=_0x2730de,_0x484f53=_0x265b61[_0x1f1ee1(0xca1)][_0x1f1ee1(0x9d0)]('.delete-student-btn');if(_0x484f53){const _0x243807=_0x484f53['dataset']['studentName'];handleDeleteStudent(_0x243807);}}),document[_0x2730de(0x81d)](_0x2730de(0xc0e))[_0x2730de(0x843)](_0x2730de(0x864),handleGenerateFromFileClick),fileUploadInput[_0x2730de(0x843)]('change',_0x5ae983=>{const _0x4edd69=_0x2730de,_0x19d137=_0x5ae983[_0x4edd69(0xca1)][_0x4edd69(0xb34)][0x0],_0x50d4d0=document['getElementById'](_0x4edd69(0xc0e)),_0x225862=document['getElementById'](_0x4edd69(0x444)),_0x2d683f=document[_0x4edd69(0x81d)](_0x4edd69(0x425));_0x19d137?(selectedFile=_0x19d137,_0x2d683f['checked']?(_0x50d4d0[_0x4edd69(0x396)]=!![],analyzeFileForTopics(_0x19d137)):(_0x50d4d0[_0x4edd69(0x396)]=![],_0x225862[_0x4edd69(0xdd2)][_0x4edd69(0x87d)](_0x4edd69(0x35b)))):(selectedFile=null,_0x50d4d0['disabled']=!![],_0x225862[_0x4edd69(0xdd2)][_0x4edd69(0x87d)](_0x4edd69(0x35b)));}),document[_0x2730de(0x81d)](_0x2730de(0x425))['addEventListener'](_0x2730de(0x318),_0x149f64=>{const _0x12f4ac=_0x2730de,_0x19c487=_0x149f64[_0x12f4ac(0xca1)]['checked'],_0x2bcaa6=document[_0x12f4ac(0x81d)](_0x12f4ac(0xc0e)),_0x2ae804=document[_0x12f4ac(0x81d)](_0x12f4ac(0x444));_0x19c487?(_0x2bcaa6['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2ae804['classList'][_0x12f4ac(0x469)]('hidden'),document[_0x12f4ac(0x81d)]('file-topics-list')[_0x12f4ac(0x8ea)]=_0x12f4ac(0xe0e))):(_0x2ae804[_0x12f4ac(0xdd2)][_0x12f4ac(0x87d)](_0x12f4ac(0x35b)),_0x2bcaa6['disabled']=!selectedFile);}),document['getElementById']('file-topics-list-container')['addEventListener'](_0x2730de(0x864),_0x4fd352=>{const _0x30f417=_0x2730de,_0x34b118=_0x4fd352[_0x30f417(0xca1)][_0x30f417(0x9d0)]('.file-topic-selection-btn'),_0xd13567=_0x4fd352[_0x30f417(0xca1)][_0x30f417(0x9d0)](_0x30f417(0x171));if(_0x34b118){const _0x58ccb3=unescape(_0x34b118[_0x30f417(0x33e)]['topic']);generateHybridQuizForTopic(_0x58ccb3);}else{if(_0xd13567){const _0xe71919=unescape(_0xd13567[_0x30f417(0x33e)][_0x30f417(0x755)]),_0x5e6ade=document[_0x30f417(0x81d)](_0x30f417(0xc68))['value'];handleGenerateAndShowLesson(_0xe71919,_0x5e6ade);}}}),document[_0x2730de(0x81d)](_0x2730de(0xe22))[_0x2730de(0x843)]('change',_0x4be62f=>{const _0x214ba0=_0x2730de,_0xc1eef2=document[_0x214ba0(0x81d)](_0x214ba0(0x6ea)),_0x3f3281=document[_0x214ba0(0x81d)]('timer-duration-label'),_0xa86040=document['getElementById']('timer-duration-input');_0x4be62f[_0x214ba0(0xca1)][_0x214ba0(0x710)]==='none'?_0xc1eef2[_0x214ba0(0xdd2)][_0x214ba0(0x87d)](_0x214ba0(0x35b)):(_0xc1eef2[_0x214ba0(0xdd2)][_0x214ba0(0x469)](_0x214ba0(0x35b)),_0x4be62f[_0x214ba0(0xca1)]['value']===_0x214ba0(0x3d3)?(_0x3f3281[_0x214ba0(0xca8)]=_0x214ba0(0x88f),_0xa86040[_0x214ba0(0x710)]='10'):(_0x3f3281[_0x214ba0(0xca8)]=_0x214ba0(0x715),_0xa86040['value']='30'));}),document[_0x2730de(0x81d)]('quiz-type-select')[_0x2730de(0x843)]('change',_0x16f16b=>{const _0x18b7ef=_0x2730de,_0x2b32ce=document[_0x18b7ef(0x81d)](_0x18b7ef(0x184)),_0x338fcf=_0x16f16b['target'][_0x18b7ef(0x710)],_0x4c92a0=document['querySelector']('label[for=\x22num-questions\x22]'),_0x1c90da=document[_0x18b7ef(0x81d)]('passing-score-input'),_0x145c2f=document[_0x18b7ef(0x81d)](_0x18b7ef(0xc51));_0x338fcf===_0x18b7ef(0xce0)?_0x4c92a0[_0x18b7ef(0xca8)]='จำนวนคู่:':_0x4c92a0[_0x18b7ef(0xca8)]=_0x18b7ef(0xd30),_0x338fcf==='multiple_choice'||_0x338fcf===_0x18b7ef(0xcbd)||_0x338fcf===_0x18b7ef(0x2d1)?_0x2b32ce['classList']['remove'](_0x18b7ef(0x35b)):_0x2b32ce[_0x18b7ef(0xdd2)][_0x18b7ef(0x87d)]('hidden'),_0x1c90da[_0x18b7ef(0x1f1)]=_0x145c2f[_0x18b7ef(0x710)];}),document[_0x2730de(0x81d)](_0x2730de(0xc51))[_0x2730de(0x843)](_0x2730de(0x2d7),_0x172134=>{const _0x5d72fa=_0x2730de;document[_0x5d72fa(0x81d)](_0x5d72fa(0x8a9))['max']=_0x172134[_0x5d72fa(0xca1)]['value'];}),document[_0x2730de(0x81d)](_0x2730de(0xa3a))[_0x2730de(0x843)](_0x2730de(0x318),_0x3a9374=>{const _0x2bb8d7=_0x2730de,_0xd5a5af=document[_0x2bb8d7(0x81d)]('modal-timer-duration-container'),_0x598e48=document[_0x2bb8d7(0x81d)](_0x2bb8d7(0x781)),_0x54979d=document[_0x2bb8d7(0x81d)](_0x2bb8d7(0x561));_0x3a9374[_0x2bb8d7(0xca1)][_0x2bb8d7(0x710)]===_0x2bb8d7(0x486)?_0xd5a5af['classList'][_0x2bb8d7(0x87d)](_0x2bb8d7(0x35b)):(_0xd5a5af[_0x2bb8d7(0xdd2)]['remove'](_0x2bb8d7(0x35b)),_0x3a9374[_0x2bb8d7(0xca1)][_0x2bb8d7(0x710)]===_0x2bb8d7(0x3d3)?_0x598e48['textContent']=_0x2bb8d7(0x88f):_0x598e48[_0x2bb8d7(0xca8)]=_0x2bb8d7(0x715));}),document[_0x2730de(0x81d)](_0x2730de(0x2c4))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x50e6d1=_0x2730de;document[_0x50e6d1(0x81d)](_0x50e6d1(0x182))[_0x50e6d1(0xdd2)][_0x50e6d1(0x87d)]('hidden');}),document[_0x2730de(0x81d)](_0x2730de(0x9c0))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x5ba4f3=_0x2730de;document['getElementById'](_0x5ba4f3(0x182))[_0x5ba4f3(0xdd2)][_0x5ba4f3(0x87d)](_0x5ba4f3(0x35b));}),document[_0x2730de(0x81d)](_0x2730de(0x788))[_0x2730de(0x843)](_0x2730de(0x864),handleVerifyAnswersInEditor),document[_0x2730de(0x81d)](_0x2730de(0x5ec))['addEventListener'](_0x2730de(0x864),()=>{const _0x2e9df5=_0x2730de;document[_0x2e9df5(0x81d)]('quiz-editor-modal')['classList']['add']('hidden'),showConfirmation(_0x2e9df5(0xe49),handleSaveChanges);}),document[_0x2730de(0x81d)](_0x2730de(0x2a3))[_0x2730de(0x843)](_0x2730de(0x864),handleAutoFixLatex);const _0x3d4e74=document[_0x2730de(0x81d)]('quiz-editor-questions-container');_0x3d4e74&&_0x3d4e74[_0x2730de(0x843)](_0x2730de(0x864),_0x4534bc=>{const _0x4ed93f=_0x2730de,_0x3d3eec=_0x4534bc[_0x4ed93f(0xca1)][_0x4ed93f(0x9d0)](_0x4ed93f(0x319));if(_0x3d3eec){const _0x4cfb2b=_0x3d3eec[_0x4ed93f(0x9d0)]('.question-editor-item'),_0x3b5b31=parseInt(_0x4cfb2b[_0x4ed93f(0x33e)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x3b5b31);return;}const _0x144db3=_0x4534bc['target'][_0x4ed93f(0x9d0)]('.delete-question-editor-btn');if(_0x144db3){const _0x4834ba=_0x144db3['closest'](_0x4ed93f(0x3c3)),_0x569cbc=parseInt(_0x4834ba['dataset'][_0x4ed93f(0x4af)],0xa);handleDeleteQuestionInEditor(_0x569cbc);return;}const _0x58c473=_0x4534bc[_0x4ed93f(0xca1)][_0x4ed93f(0x9d0)](_0x4ed93f(0x3d6));if(_0x58c473){handleAddQuestionInEditor();return;}});document[_0x2730de(0x81d)](_0x2730de(0x77e))['addEventListener'](_0x2730de(0x864),openQuizBankModal),document[_0x2730de(0x81d)]('cancel-quiz-bank-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x1d8869=_0x2730de;document[_0x1d8869(0x81d)](_0x1d8869(0x981))[_0x1d8869(0xdd2)][_0x1d8869(0x87d)]('hidden');}),document['getElementById'](_0x2730de(0x74b))[_0x2730de(0x843)](_0x2730de(0x2d7),_0x5c97c0=>renderQuizBankList(_0x5c97c0['target']['value']));const _0x59827e=document['getElementById']('math-topics-checkbox-container');if(_0x59827e){let _0x496d71=null;_0x59827e[_0x2730de(0x843)](_0x2730de(0x864),_0x3da858=>{const _0x389a5e=_0x2730de,_0x370a71=_0x3da858[_0x389a5e(0xca1)],_0x28a021=_0x370a71['closest'](_0x389a5e(0xd86)),_0x165a46=_0x370a71[_0x389a5e(0x9d0)](_0x389a5e(0x865)),_0x4eeb8c=_0x370a71[_0x389a5e(0x9d0)]('.save-custom-topic-btn'),_0x18a8f0=_0x370a71['closest'](_0x389a5e(0x22d));if(_0x165a46){_0x3da858['preventDefault']();const _0x48be89=_0x165a46['dataset']['id'],_0x4de599=_0x165a46[_0x389a5e(0x9d0)](_0x389a5e(0x99e))[_0x389a5e(0x869)](_0x389a5e(0x6a1))['textContent'];showConfirmation(_0x389a5e(0x645)+_0x4de599+'\x22?',()=>handleDeleteCustomTopic(_0x48be89));}else{if(_0x28a021){_0x3da858[_0x389a5e(0x713)]();_0x496d71&&toggleTopicEditMode(_0x496d71,![]);const _0x5685a5=_0x28a021[_0x389a5e(0x9d0)](_0x389a5e(0xa33));_0x496d71=_0x5685a5,toggleTopicEditMode(_0x5685a5,!![]);}else{if(_0x4eeb8c){_0x3da858[_0x389a5e(0x713)]();const _0x180dc8=_0x4eeb8c['dataset']['id'],_0x21c839=_0x4eeb8c[_0x389a5e(0x9d0)]('[data-topic-container-id]'),_0x2f58d3=_0x21c839[_0x389a5e(0x869)](_0x389a5e(0x898))['value'];handleUpdateCustomTopic(_0x180dc8,_0x2f58d3),_0x496d71=null;}else{if(_0x18a8f0){_0x3da858[_0x389a5e(0x713)]();const _0x373754=_0x18a8f0[_0x389a5e(0x9d0)](_0x389a5e(0xa33));toggleTopicEditMode(_0x373754,![]),_0x496d71=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x1cc719=_0x2730de;document[_0x1cc719(0x81d)](_0x1cc719(0xa47))[_0x1cc719(0xdd2)][_0x1cc719(0x87d)]('hidden');}),document[_0x2730de(0x81d)](_0x2730de(0x22f))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0x1a81c7=_0x2730de;document[_0x1a81c7(0x81d)](_0x1a81c7(0xa47))[_0x1a81c7(0xdd2)][_0x1a81c7(0x87d)](_0x1a81c7(0x35b));}),document[_0x2730de(0x81d)](_0x2730de(0xc18))['addEventListener'](_0x2730de(0x864),handleExportLessonPDF);}document['getElementById'](_0x2730de(0xa4e))[_0x2730de(0x843)](_0x2730de(0x864),()=>{const _0xa8936e=_0x2730de;document[_0xa8936e(0x81d)](_0xa8936e(0x8ac))[_0xa8936e(0xdd2)]['add'](_0xa8936e(0x35b));}),document[_0x2730de(0x81d)](_0x2730de(0xc5c))[_0x2730de(0x843)]('click',()=>{const _0x15165e=_0x2730de;document['getElementById'](_0x15165e(0x8ac))[_0x15165e(0xdd2)][_0x15165e(0x87d)]('hidden');}),setupComparisonModalTabs(),document[_0x2730de(0x8c1)][_0x2730de(0x843)](_0x2730de(0x864),function(_0x2cb44b){const _0x3c2b3b=_0x2730de;if(_0x2cb44b[_0x3c2b3b(0xca1)][_0x3c2b3b(0xdd2)]['contains']('practice-topic-btn')){const _0x48df8a=unescape(_0x2cb44b['target'][_0x3c2b3b(0x33e)][_0x3c2b3b(0x755)]);startSkillPractice(_0x48df8a);}}),document[_0x2730de(0x81d)](_0x2730de(0xaa8))[_0x2730de(0x843)](_0x2730de(0x864),_0x2f6f5a=>{const _0x5eb4bc=_0x2730de,_0x780946=_0x2f6f5a[_0x5eb4bc(0xca1)][_0x5eb4bc(0x9d0)]('.delete-submission-btn');if(_0x780946){const _0x413693=_0x780946[_0x5eb4bc(0x33e)][_0x5eb4bc(0xbd9)];handleDeleteSubmission(_0x413693);}});}async function handleStartGroupMode(_0x1215fc,_0x43ab7e=![]){const _0x66a6ff=_0x4a882c,_0x284ec9=allQuizzes['find'](_0x5cad3d=>_0x5cad3d['id']===_0x1215fc)||allQuizzesGlobal[_0x66a6ff(0xa74)](_0x2d50a=>_0x2d50a['id']===_0x1215fc);if(!_0x284ec9){showMessage(_0x66a6ff(0x82e));return;}currentQuizData=getShuffledQuiz(_0x284ec9);const _0x2d8584=Math[_0x66a6ff(0x22a)](0x3e8+Math['random']()*0x2328)[_0x66a6ff(0x188)]();try{const _0x1a9f22=await addDoc(collection(db,_0x66a6ff(0x878)+appId+'/public/data/teamQuizzes'),{'quizId':_0x284ec9['id'],'projectId':_0x284ec9[_0x66a6ff(0xc9b)],'status':_0x66a6ff(0xa08),'pin':_0x2d8584,'mode':_0x66a6ff(0xdea),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x43ab7e});currentTeamQuizId=_0x1a9f22['id'],showView(_0x66a6ff(0x94d)),renderAdminTeamQuizDashboard(_0x2d8584,_0x284ec9[_0x66a6ff(0x755)],_0x66a6ff(0xdea)),listenForTeamQuizUpdates();}catch(_0x177956){console[_0x66a6ff(0x76b)](_0x66a6ff(0x58a),_0x177956),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x74a395=_0x4a882c;studentInitialView[_0x74a395(0xdd2)][_0x74a395(0x87d)](_0x74a395(0x35b)),document[_0x74a395(0x81d)]('student-progress-view')[_0x74a395(0xdd2)][_0x74a395(0x469)](_0x74a395(0x35b));const _0x4a02a0=document[_0x74a395(0x81d)](_0x74a395(0x6f5)),_0x4272dd=document[_0x74a395(0x81d)](_0x74a395(0xe9a)),_0x49d36c=document[_0x74a395(0x81d)]('student-progress-content');_0x49d36c[_0x74a395(0x8ea)]=_0x74a395(0xa0a),_0x4272dd['innerHTML']=_0x74a395(0x3a4),_0x4272dd[_0x74a395(0x396)]=!![],_0x4a02a0[_0x74a395(0x8ea)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x74a395(0xa96)]===0x0){const _0x5307fc=collection(db,'artifacts/'+appId+_0x74a395(0x468)),_0x388ff4=await getDocs(_0x5307fc);allProjects=_0x388ff4['docs'][_0x74a395(0x7d8)](_0x5e4914=>({'id':_0x5e4914['id'],..._0x5e4914[_0x74a395(0xc66)]()}));}const _0x80edb8=allProjects[_0x74a395(0x3d8)](_0xedec00=>_0xedec00[_0x74a395(0x7b1)]?.[_0x74a395(0x7c3)]!==![]);_0x80edb8['sort']((_0x427fc9,_0x46a16d)=>_0x427fc9[_0x74a395(0xd34)][_0x74a395(0xddd)](_0x46a16d[_0x74a395(0xd34)],'th')),_0x4a02a0[_0x74a395(0x8ea)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x80edb8[_0x74a395(0x7d8)](_0x5ecb00=>_0x74a395(0x3f7)+_0x5ecb00['id']+'\x22>'+_0x5ecb00[_0x74a395(0xd34)]+'</option>')['join'](''),_0x4a02a0[_0x74a395(0x926)]=()=>{const _0x1d9d0a=_0x74a395,_0x45cb55=_0x4272dd['value'],_0x3de793=_0x4a02a0['value'];_0x4272dd[_0x1d9d0a(0x396)]=!![],_0x4272dd[_0x1d9d0a(0x8ea)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x49d36c[_0x1d9d0a(0x8ea)]=_0x1d9d0a(0x9a3);if(!_0x3de793)return;const _0x49bbc4=allProjects['find'](_0x2f936b=>_0x2f936b['id']===_0x3de793);if(!_0x49bbc4||!_0x49bbc4[_0x1d9d0a(0x881)])return;const _0x3574f3=()=>{const _0x4b8835=_0x1d9d0a;_0x4272dd['innerHTML']=_0x4b8835(0x3a4)+_0x49bbc4[_0x4b8835(0x881)][_0x4b8835(0x7d8)](_0x103e52=>_0x4b8835(0x3f7)+_0x103e52+'\x22>'+_0x103e52+'</option>')[_0x4b8835(0x343)](''),_0x4272dd[_0x4b8835(0x396)]=![];const _0x461558=Array['from'](_0x4272dd['options'])[_0x4b8835(0x7d8)](_0x122fc6=>_0x122fc6[_0x4b8835(0x710)]);if(_0x45cb55&&_0x461558[_0x4b8835(0x90f)](_0x45cb55))_0x4272dd[_0x4b8835(0x710)]=_0x45cb55,_0x4272dd[_0x4b8835(0xe41)](new Event('change'));else _0x49bbc4[_0x4b8835(0x881)][_0x4b8835(0xa96)]===0x1&&(_0x4272dd[_0x4b8835(0x710)]=_0x49bbc4[_0x4b8835(0x881)][0x0],_0x4272dd[_0x4b8835(0xe41)](new Event('change')));};if(_0x49bbc4['settings']?.[_0x1d9d0a(0x32a)]){if(sessionStorage[_0x1d9d0a(0xd53)]('authed_project_'+_0x3de793)===_0x1d9d0a(0xa6f)){_0x3574f3();return;}const _0x446a30=document[_0x1d9d0a(0x81d)](_0x1d9d0a(0xbb5)),_0x469240=document[_0x1d9d0a(0x81d)]('confirm-passcode-btn'),_0x232e3d=document[_0x1d9d0a(0x81d)](_0x1d9d0a(0x694)),_0x89de45=document[_0x1d9d0a(0x81d)](_0x1d9d0a(0x3cb)),_0x1d2898=document[_0x1d9d0a(0x81d)](_0x1d9d0a(0xb51));document[_0x1d9d0a(0x81d)](_0x1d9d0a(0xb8a))[_0x1d9d0a(0xca8)]='สำหรับโปรเจค:\x20'+_0x49bbc4['projectName'],_0x89de45['value']='',_0x1d2898['classList'][_0x1d9d0a(0x87d)](_0x1d9d0a(0x35b)),_0x446a30['classList']['remove']('hidden');const _0xcd5fe5=()=>{const _0x53dddf=_0x1d9d0a,_0x1244fd=_0x89de45[_0x53dddf(0x710)][_0x53dddf(0x5f6)]();_0x1244fd===_0x49bbc4[_0x53dddf(0x7b1)][_0x53dddf(0x976)]?(sessionStorage[_0x53dddf(0x1a0)]('authed_project_'+_0x3de793,_0x53dddf(0xa6f)),_0x446a30[_0x53dddf(0xdd2)][_0x53dddf(0x87d)](_0x53dddf(0x35b)),_0x3574f3(),_0x469240[_0x53dddf(0x599)](_0x53dddf(0x864),_0xcd5fe5)):_0x1d2898[_0x53dddf(0xdd2)][_0x53dddf(0x469)](_0x53dddf(0x35b));};_0x469240[_0x1d9d0a(0x845)]=_0xcd5fe5,_0x232e3d[_0x1d9d0a(0x845)]=()=>{const _0x41b88d=_0x1d9d0a;_0x446a30['classList'][_0x41b88d(0x87d)]('hidden'),_0x4a02a0[_0x41b88d(0x710)]='',_0x469240[_0x41b88d(0x599)]('click',_0xcd5fe5);};}else _0x3574f3();},_0x4272dd[_0x74a395(0x926)]=()=>{const _0x234a6d=_0x74a395,_0x288928=_0x4a02a0[_0x234a6d(0x710)],_0x5435db=_0x4272dd[_0x234a6d(0x710)];_0x288928&&_0x5435db&&renderStudentProgressDashboard(_0x288928,_0x5435db);};}async function confirmAndJoinSyncGame(){const _0x2e9116=_0x4a882c;lastSeenQuestionIndex=-0x1,sessionStorage[_0x2e9116(0x37a)](_0x2e9116(0x7a5)),sessionStorage[_0x2e9116(0x37a)]('onSecondChance'),sessionStorage['removeItem']('pollUsedThisTurn'),Object[_0x2e9116(0x2cf)](sessionStorage)[_0x2e9116(0xdc3)](_0x288683=>{const _0x53ac47=_0x2e9116;(_0x288683['startsWith'](_0x53ac47(0x97d))||_0x288683[_0x53ac47(0x1c6)](_0x53ac47(0xa3c))||_0x288683[_0x53ac47(0x1c6)]('hiddenOptions_q'))&&sessionStorage[_0x53ac47(0x37a)](_0x288683);});const _0x127b29=Array['from'](document[_0x2e9116(0xbec)](_0x2e9116(0x3ad)))[_0x2e9116(0x7d8)](_0x54e76b=>_0x54e76b[_0x2e9116(0x710)]);if(_0x127b29[_0x2e9116(0xa96)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x127b29,localPlayerTurnIndex=0x0;const _0x32c72a=doc(db,'artifacts/'+appId+_0x2e9116(0x4f6),currentLiveGameId);try{const _0x2d6767=await getDoc(_0x32c72a);if(!_0x2d6767[_0x2e9116(0xb52)]())throw new Error(_0x2e9116(0xe45));const _0x164f63=_0x2d6767[_0x2e9116(0xc66)](),_0x420048=_0x164f63[_0x2e9116(0x93f)]||_0x2e9116(0xcdc),_0x4f77a3={};_0x127b29['forEach'](_0x4b0242=>{const _0x266d9d=_0x2e9116,_0x3d131d=_0x164f63[_0x266d9d(0x774)][_0x4b0242];if(_0x3d131d){console['log']('ผู้เล่น\x20'+_0x4b0242+_0x266d9d(0x2cc)),_0x4f77a3[_0x266d9d(0x9ac)+_0x4b0242+_0x266d9d(0x82b)]='active';const _0x2f74fb=_0x3d131d['answers']?.[_0x3d131d[_0x266d9d(0x6c9)][_0x266d9d(0xa96)]-0x1],_0x18f775=!!(_0x2f74fb&&_0x2f74fb[_0x266d9d(0x63d)]===_0x164f63['currentQuestionIndex']);_0x4f77a3[_0x266d9d(0x9ac)+_0x4b0242+_0x266d9d(0x5af)]=_0x18f775;}else{console[_0x266d9d(0x792)](_0x266d9d(0xe04)+_0x4b0242+_0x266d9d(0xe10));const _0x1cf926={'name':_0x4b0242,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0},'answered':![],'status':_0x266d9d(0x3fc),'answers':[]};_0x420048===_0x266d9d(0xcd0)&&(typeof STARTING_LIVES!==_0x266d9d(0x34a)?_0x1cf926['lives']=STARTING_LIVES:(console['error'](_0x266d9d(0xe06)),_0x1cf926[_0x266d9d(0x822)]=0x3)),_0x4f77a3[_0x266d9d(0x9ac)+_0x4b0242]=_0x1cf926;}}),await updateDoc(_0x32c72a,_0x4f77a3),showView('live-game'),document[_0x2e9116(0x81d)](_0x2e9116(0xe95))[_0x2e9116(0xdd2)][_0x2e9116(0x87d)](_0x2e9116(0x35b)),currentStudentName=_0x127b29[0x0],listenForSyncGameUpdates();const _0x561ab1={'gameId':currentLiveGameId,'mode':_0x2e9116(0x48d),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2e9116(0x1a0)](_0x2e9116(0x47f),JSON[_0x2e9116(0xe01)](_0x561ab1)),currentMode!==_0x2e9116(0x1b9)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2e9116(0x843)](_0x2e9116(0x1ae),handleFullscreenChange),document['addEventListener'](_0x2e9116(0xdc9),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x2e9116(0x78d),resetDimTimer),window['addEventListener'](_0x2e9116(0xacc),resetDimTimer),window[_0x2e9116(0x843)](_0x2e9116(0x5e2),resetDimTimer),window['addEventListener'](_0x2e9116(0x4b0),resetDimTimer),resetDimTimer());}catch(_0x5c6d10){console[_0x2e9116(0x76b)](_0x2e9116(0x631),_0x5c6d10),showMessage(_0x2e9116(0x76f)+_0x5c6d10[_0x2e9116(0x752)]);}}async function resumeActiveGameSession(){const _0x3f7cf2=_0x4a882c,_0x1f8345=sessionStorage[_0x3f7cf2(0xd53)]('activeGameSession');if(!_0x1f8345)return;const _0x26df80=JSON[_0x3f7cf2(0x76c)](_0x1f8345),{gameId:_0xa52df5,mode:_0x4f0ccb,role:_0x10caaf,players:_0xdd9083,turnIndex:_0x586dae}=_0x26df80;try{if(_0x10caaf===_0x3f7cf2(0x3de)&&_0x4f0ccb===_0x3f7cf2(0x48d)){const _0x4c380e=doc(db,'artifacts/'+appId+_0x3f7cf2(0x4f6),_0xa52df5),_0x1183f7=await getDoc(_0x4c380e);if(!_0x1183f7[_0x3f7cf2(0xb52)]()||_0x1183f7['data']()[_0x3f7cf2(0x589)]===_0x3f7cf2(0x382)||_0x1183f7[_0x3f7cf2(0xc66)]()[_0x3f7cf2(0x589)]==='finished'){sessionStorage[_0x3f7cf2(0x37a)](_0x3f7cf2(0x47f));return;}console[_0x3f7cf2(0x792)](_0x3f7cf2(0x4cc)+_0xa52df5+')'),currentMode=_0x3f7cf2(0x3de),currentLiveGameId=_0xa52df5,currentQuizData=_0x1183f7['data']()['shuffledQuiz'],showView(_0x3f7cf2(0x94d)),listenForSyncGameUpdates();}else{if(_0x4f0ccb==='sync'&&_0xdd9083){const _0xbb0b04=doc(db,'artifacts/'+appId+_0x3f7cf2(0x4f6),_0xa52df5),_0x492058=await getDoc(_0xbb0b04);if(!_0x492058[_0x3f7cf2(0xb52)]()||_0x492058[_0x3f7cf2(0xc66)]()[_0x3f7cf2(0x589)]===_0x3f7cf2(0x382)||_0x492058[_0x3f7cf2(0xc66)]()['status']===_0x3f7cf2(0xc76)){sessionStorage[_0x3f7cf2(0x37a)](_0x3f7cf2(0x47f));return;}console['log'](_0x3f7cf2(0x929)+_0xa52df5+')'),currentLiveGameId=_0xa52df5,currentStudentName=_0xdd9083[0x0],localTeamPlayers=_0xdd9083,showView(_0x3f7cf2(0x94d)),listenForSyncGameUpdates();}else{if((_0x4f0ccb==='team'||_0x4f0ccb===_0x3f7cf2(0xdea))&&_0xdd9083){const _0x2780d3=doc(db,_0x3f7cf2(0x878)+appId+_0x3f7cf2(0xe7d),_0xa52df5),_0x58201d=await getDoc(_0x2780d3);if(!_0x58201d[_0x3f7cf2(0xb52)]()||_0x58201d[_0x3f7cf2(0xc66)]()[_0x3f7cf2(0x589)]===_0x3f7cf2(0x382)||_0x58201d[_0x3f7cf2(0xc66)]()[_0x3f7cf2(0x589)]===_0x3f7cf2(0xc76)){sessionStorage[_0x3f7cf2(0x37a)]('activeGameSession');return;}console[_0x3f7cf2(0x792)](_0x3f7cf2(0x5ef)+_0x4f0ccb+_0x3f7cf2(0xb7b)+_0xa52df5+')'),currentTeamQuizId=_0xa52df5,localTeamPlayers=_0xdd9083,localQuestionIndex=_0x26df80[_0x3f7cf2(0x63d)]||0x0,localPlayerIndex=_0x26df80['playerIndex']||0x0;const _0x3ba3f5=_0x58201d[_0x3f7cf2(0xc66)](),_0x54758c=doc(db,_0x3f7cf2(0x878)+appId+'/public/data/quizzes',_0x3ba3f5['quizId']),_0x4d2157=await getDoc(_0x54758c);_0x4d2157[_0x3f7cf2(0xb52)]()&&(currentQuizData=getShuffledQuiz({'id':_0x4d2157['id'],..._0x4d2157[_0x3f7cf2(0xc66)]()}),showView('student'),studentInitialView[_0x3f7cf2(0xdd2)]['add'](_0x3f7cf2(0x35b)),_0x4f0ccb===_0x3f7cf2(0xdea)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x48362b){console[_0x3f7cf2(0x76b)](_0x3f7cf2(0xe68),_0x48362b),sessionStorage[_0x3f7cf2(0x37a)](_0x3f7cf2(0x47f));}}async function handleUsePowerup(_0xf263ba,_0x280e37,_0x51aee0,_0x44c1d5,_0x290c01){const _0x2817bc=_0x4a882c,_0x5a736d=_0x44c1d5[_0x2817bc(0x810)],_0xcfd8f8='powerupUsed_q'+_0x5a736d+'_p'+_0xf263ba,_0x3ab4fb=sessionStorage[_0x2817bc(0xd53)](_0xcfd8f8);if(_0x3ab4fb&&_0x280e37!=='buyTime'&&_0x280e37!=='strategyScan'){showMessage(_0x2817bc(0x975));const _0x497a04=document[_0x2817bc(0x81d)](_0x2817bc(0x83a)+_0x280e37);if(_0x497a04)_0x497a04[_0x2817bc(0x396)]=![];return;}const _0x3aa9c7=doc(db,'artifacts/'+appId+_0x2817bc(0x4f6),currentLiveGameId);try{await runTransaction(db,async _0x45f785=>{const _0x4b13bb=_0x2817bc,_0x1f10bc=await _0x45f785[_0x4b13bb(0x19d)](_0x3aa9c7);if(!_0x1f10bc[_0x4b13bb(0xb52)]())throw _0x4b13bb(0x568);const _0x5a1bcf=_0x1f10bc[_0x4b13bb(0xc66)](),_0x559d3b=_0x5a1bcf[_0x4b13bb(0x774)][_0xf263ba]?.['powerups']||{},_0x40b7b5=_0x559d3b[_0x280e37]||0x0;if(_0x40b7b5<=0x0)throw'คุณไม่มีไอเทมนี้ในคลัง';const _0x38ca98={};_0x38ca98[_0x4b13bb(0x9ac)+_0xf263ba+_0x4b13bb(0x58d)+_0x280e37]=increment(-0x1);if(_0x280e37===_0x4b13bb(0xc42)){const _0x131d62=(_0x44c1d5[_0x4b13bb(0x4d2)]||0xf0)*0x3e8,_0x1297ed=_0x131d62*0.25;_0x38ca98[_0x4b13bb(0x9ac)+_0xf263ba+_0x4b13bb(0x464)]=increment(_0x1297ed);}_0x45f785[_0x4b13bb(0x243)](_0x3aa9c7,_0x38ca98);}),_0x280e37===_0x2817bc(0x6ec)&&sessionStorage[_0x2817bc(0x1a0)](_0x2817bc(0x7a5),_0x2817bc(0xa6f)),_0x280e37!==_0x2817bc(0xc42)&&_0x280e37!=='strategyScan'&&sessionStorage[_0x2817bc(0x1a0)](_0xcfd8f8,_0x280e37),applyPowerupEffect(_0xf263ba,_0x280e37,_0x51aee0,_0x44c1d5,_0x290c01);}catch(_0x5672cc){console[_0x2817bc(0x76b)](_0x2817bc(0x7ff),_0x5672cc),showMessage(typeof _0x5672cc===_0x2817bc(0xa6a)?_0x5672cc:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x304d2b=document[_0x2817bc(0x81d)]('use-powerup-'+_0x280e37);if(_0x304d2b)_0x304d2b[_0x2817bc(0x396)]=![];}}function applyPowerupEffect(_0x350b6f,_0x2d512e,_0x54ece2,_0x33ba1f,_0x2929f9){const _0x1d4b95=_0x4a882c,_0x58d447=_0x54ece2,_0x47148a=_0x33ba1f[_0x1d4b95(0x810)],_0x54f338=_0x1d4b95(0xa3c)+_0x47148a+'_p'+_0x350b6f;switch(_0x2d512e){case _0x1d4b95(0x6ec):const _0x144246=Object[_0x1d4b95(0x1f9)](_0x33ba1f[_0x1d4b95(0x774)]||{}),_0x2f7405=_0x144246[_0x1d4b95(0x3d8)](_0x2f8667=>{const _0x37175c=_0x1d4b95,_0x25d469=(_0x2f8667[_0x37175c(0x6c9)]||[])[_0x37175c(0xa74)](_0x1d8e32=>_0x1d8e32[_0x37175c(0x63d)]===_0x33ba1f['currentQuestionIndex']);return _0x25d469!==undefined;}),_0x371666=_0x2f7405[_0x1d4b95(0xa96)];if(_0x371666===0x0){showMessage('📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!');return;}const _0x1f12cf={};(_0x54ece2['options']||[])[_0x1d4b95(0xdc3)]((_0x4d3eba,_0x5e68be)=>{_0x1f12cf[_0x5e68be]=0x0;}),_0x2f7405[_0x1d4b95(0xdc3)](_0x42c3eb=>{const _0x20e6ab=_0x1d4b95,_0x446103=(_0x42c3eb[_0x20e6ab(0x6c9)]||[])[_0x20e6ab(0xa74)](_0x11b267=>_0x11b267[_0x20e6ab(0x63d)]===_0x33ba1f['currentQuestionIndex']);_0x446103&&_0x1f12cf[_0x446103[_0x20e6ab(0xa25)]]!==undefined&&_0x1f12cf[_0x446103[_0x20e6ab(0xa25)]]++;});let _0x1b7996=_0x1d4b95(0x79e);Object[_0x1d4b95(0x26d)](_0x1f12cf)[_0x1d4b95(0xdc3)](([_0x2804b7,_0x2680ed])=>{const _0x280563=_0x1d4b95,_0x1e7cff=(_0x2680ed/_0x371666*0x64)[_0x280563(0x2af)](0x0),_0x3e11f0='ตัวเลือก\x20'+(parseInt(_0x2804b7)+0x1);_0x1b7996+=_0x3e11f0+':\x20'+_0x2680ed+_0x280563(0x9b3)+_0x1e7cff+'%)\x0a';}),showMessage(_0x1b7996);break;case _0x1d4b95(0xc42):const _0x30e5e0=(_0x33ba1f[_0x1d4b95(0x4d2)]||0xf0)*0.25;showMessage(_0x1d4b95(0xd44)+_0x30e5e0+_0x1d4b95(0x641));break;case _0x1d4b95(0x2ac):case _0x1d4b95(0xc69):const _0xebc6a0=document[_0x1d4b95(0xbec)](_0x1d4b95(0x1b8));if(_0xebc6a0[_0x1d4b95(0xa96)]===0x0){showMessage(_0x1d4b95(0xc35));return;}const _0x44a9bb='hiddenOptions_q'+_0x47148a+'_p'+_0x350b6f,_0x50d165=JSON[_0x1d4b95(0x76c)](sessionStorage[_0x1d4b95(0xd53)](_0x44a9bb)||'[]');let _0x237a11;if(_0x58d447[_0x1d4b95(0x211)]===_0x1d4b95(0x559)){const _0x48c866=_0x58d447[_0x1d4b95(0x87b)]===!![]||String(_0x58d447['correctAnswer'])[_0x1d4b95(0x95d)]()===_0x1d4b95(0xa6f);_0x237a11=_0x48c866?0x0:0x1;}else _0x237a11=_0x58d447[_0x1d4b95(0x1dc)];const _0x5987de=Array[_0x1d4b95(0xab3)](_0xebc6a0)[_0x1d4b95(0x3d8)](_0xc90381=>{const _0x5701e8=_0x1d4b95,_0x4aa40e=_0xc90381[_0x5701e8(0x33e)][_0x5701e8(0x710)],_0x4f51ae=parseInt(_0x4aa40e)===_0x237a11,_0x1711fe=_0x50d165['includes'](_0x4aa40e);return!_0x4f51ae&&!_0x1711fe;});if(_0x5987de[_0x1d4b95(0xa96)]===0x0){showMessage(_0x1d4b95(0x563));return;}shuffleArray(_0x5987de);let _0x46dc18=[..._0x50d165];if(_0x2d512e===_0x1d4b95(0x2ac)){const _0x3dc99e=_0x5987de[0x0];if(_0x3dc99e){const _0x32a022=_0x3dc99e[_0x1d4b95(0x33e)][_0x1d4b95(0x710)];_0x3dc99e['classList'][_0x1d4b95(0x87d)](_0x1d4b95(0x35b)),_0x46dc18[_0x1d4b95(0xb97)](_0x32a022),showMessage('⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!');}}else{let _0x17432d=0x0;const _0x42b181=_0x5987de[0x0],_0x21cf5f=_0x5987de[0x1];if(_0x42b181){const _0x43bc5f=_0x42b181[_0x1d4b95(0x33e)][_0x1d4b95(0x710)];_0x42b181[_0x1d4b95(0xdd2)][_0x1d4b95(0x87d)]('hidden'),_0x46dc18[_0x1d4b95(0xb97)](_0x43bc5f),_0x17432d++;}if(_0x21cf5f){const _0x1c03c3=_0x21cf5f[_0x1d4b95(0x33e)][_0x1d4b95(0x710)];_0x21cf5f[_0x1d4b95(0xdd2)][_0x1d4b95(0x87d)](_0x1d4b95(0x35b)),_0x46dc18[_0x1d4b95(0xb97)](_0x1c03c3),_0x17432d++;}showMessage(_0x1d4b95(0xbf8)+_0x17432d+_0x1d4b95(0x384));}sessionStorage['setItem'](_0x44a9bb,JSON[_0x1d4b95(0xe01)](_0x46dc18));break;case _0x1d4b95(0x5a5):if(!_0x2929f9){console[_0x1d4b95(0x76b)](_0x1d4b95(0xc82)),showMessage(_0x1d4b95(0x1a9)),handleRefundPowerup(_0x350b6f,_0x1d4b95(0x5a5));break;}const _0x55c853=_0x2929f9['name'],_0x2cb098=Object[_0x1d4b95(0x1f9)](_0x33ba1f['players'])[_0x1d4b95(0x3d8)](_0x761b22=>_0x761b22[_0x1d4b95(0x523)]!==_0x55c853&&_0x761b22[_0x1d4b95(0x589)]===_0x1d4b95(0x3fc)&&_0x761b22[_0x1d4b95(0x20c)]===![]);if(_0x2cb098[_0x1d4b95(0xa96)]===0x0){showMessage('📡\x20สแกน:\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้สแกนครับ'),handleRefundPowerup(_0x350b6f,_0x1d4b95(0x5a5));break;}const _0x180c6f=_0x33ba1f[_0x1d4b95(0x93f)]===_0x1d4b95(0xe39),_0x1c549c=_0x33ba1f['isBlackMarketEnabled']===!![],_0x1a7e24=_0x2929f9;let _0x8dbca8=[];_0x2cb098[_0x1d4b95(0xdc3)](_0x53fba7=>{const _0x58acfe=_0x1d4b95,_0x12d719=_0x53fba7[_0x58acfe(0xd9c)]||{},_0x160b4b=(_0x12d719[_0x58acfe(0x6ec)]||0x0)>0x0,_0x45dbea=(_0x12d719['wagerMultiplier']||0x0)>0x0;if(_0x160b4b||_0x45dbea){const _0x52f3ca=_0x53fba7[_0x58acfe(0x523)],_0x4a0c24=_0x33ba1f[_0x58acfe(0x64b)][_0x52f3ca]||_0x58acfe(0x65d);let _0x3d1bce=![];if(_0x1c549c){const _0x24824e=_0x1a7e24[_0x58acfe(0x64f)]||0x0,_0x302003=_0x53fba7[_0x58acfe(0x64f)]||0x0,_0x129c32=_0x1a7e24[_0x58acfe(0x647)]||0x0,_0x42ef14=_0x53fba7[_0x58acfe(0x647)]||0x0;_0x3d1bce=_0x24824e>_0x302003||_0x24824e===_0x302003&&_0x129c32>_0x42ef14;}else{const _0x482caf=_0x1a7e24['pointsLastRound']||0x0,_0x4af987=_0x53fba7['pointsLastRound']||0x0;_0x3d1bce=_0x482caf>_0x4af987;}let _0x15394f;_0x180c6f&&!_0x3d1bce?_0x15394f=_0x4a0c24:_0x15394f=_0x52f3ca+'\x20('+_0x4a0c24+')';let _0x4e681f=[];if(_0x160b4b)_0x4e681f[_0x58acfe(0xb97)]('📊');if(_0x45dbea)_0x4e681f[_0x58acfe(0xb97)]('💰');_0x8dbca8[_0x58acfe(0xb97)]('-\x20'+_0x15394f+_0x58acfe(0xdfa)+_0x4e681f[_0x58acfe(0x343)](',\x20')+')');}});let _0x3da8a3='';_0x8dbca8[_0x1d4b95(0xa96)]>0x0?_0x3da8a3='📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a'+_0x8dbca8[_0x1d4b95(0x343)]('\x0a'):_0x3da8a3='📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม\x20(ไม่มีใครมี\x20📊\x20หรือ\x20💰)';showMessage(_0x3da8a3);break;case'forceConfident':if(!_0x2929f9){console[_0x1d4b95(0x76b)](_0x1d4b95(0xdc4)),showMessage(_0x1d4b95(0x1a9));break;}const _0x52f8d8=_0x2929f9[_0x1d4b95(0x523)],_0x926381=Object[_0x1d4b95(0x1f9)](_0x33ba1f[_0x1d4b95(0x774)])[_0x1d4b95(0x3d8)](_0x887409=>_0x887409[_0x1d4b95(0x523)]!==_0x52f8d8&&_0x887409['status']===_0x1d4b95(0x3fc)&&_0x887409[_0x1d4b95(0x20c)]===![]);if(_0x926381['length']===0x0){showMessage(_0x1d4b95(0xc31)),sessionStorage['removeItem'](_0x54f338),handleRefundPowerup(_0x350b6f,'forceConfident');break;}const _0x1b0feb=_0x33ba1f[_0x1d4b95(0x93f)]==='anonymous',_0x254423=_0x33ba1f[_0x1d4b95(0xc71)]===!![],_0x294fff=_0x2929f9,_0x17f54c=_0x926381[_0x1d4b95(0x7d8)]((_0x5d3f71,_0x49a72e)=>{const _0x4789f9=_0x1d4b95,_0x4d6807=_0x5d3f71[_0x4789f9(0x523)],_0x429711=_0x33ba1f[_0x4789f9(0x64b)][_0x4d6807]||_0x4789f9(0x65d);let _0x37a59b=![];if(_0x254423){const _0x221d26=_0x294fff['score']||0x0,_0x249c1d=_0x5d3f71['score']||0x0,_0xc8195=_0x294fff['pointsLastRound']||0x0,_0x31bb1d=_0x5d3f71[_0x4789f9(0x647)]||0x0;_0x37a59b=_0x221d26>_0x249c1d||_0x221d26===_0x249c1d&&_0xc8195>_0x31bb1d;}else{const _0x5c9e05=_0x294fff[_0x4789f9(0x647)]||0x0,_0x2f437e=_0x5d3f71[_0x4789f9(0x647)]||0x0;_0x37a59b=_0x5c9e05>_0x2f437e;}let _0x1036d7;return _0x1b0feb&&!_0x37a59b?_0x1036d7=_0x429711:_0x1036d7=_0x4d6807+'\x20('+_0x429711+')',{'index':_0x49a72e+0x1,'realName':_0x4d6807,'displayName':_0x1036d7};}),_0x2da96e=_0x17f54c[_0x1d4b95(0x7d8)](_0x1e3c66=>_0x1e3c66[_0x1d4b95(0x3db)]+':\x20'+_0x1e3c66[_0x1d4b95(0x246)])[_0x1d4b95(0x343)]('\x0a'),_0x56b846=prompt('เลือกผู้เล่นที่จะบังคับ\x20\x22มั่นใจ\x22\x20(ใส่ตัวเลข):\x0a'+_0x2da96e),_0x1b2d46=parseInt(_0x56b846)-0x1;if(_0x1b2d46>=0x0&&_0x1b2d46<_0x17f54c['length']){const _0x514226=_0x17f54c[_0x1b2d46];handleForceConfident(_0x514226[_0x1d4b95(0xb9e)],_0x514226[_0x1d4b95(0x246)]);}else showMessage('ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)'),sessionStorage['removeItem'](_0x54f338),handleRefundPowerup(_0x350b6f,_0x1d4b95(0xa9b));break;case _0x1d4b95(0x250):showMessage('🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200');break;case _0x1d4b95(0xc3a):showMessage(_0x1d4b95(0x7bb));break;case'jinx':if(!_0x2929f9){console['error'](_0x1d4b95(0x59e)),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)');break;}const _0xe7df8b=_0x2929f9[_0x1d4b95(0x523)],_0x30ae83=Object[_0x1d4b95(0x1f9)](_0x33ba1f['players'])[_0x1d4b95(0x3d8)](_0x2cbbe2=>_0x2cbbe2[_0x1d4b95(0x523)]!==_0xe7df8b&&_0x2cbbe2[_0x1d4b95(0x589)]==='active'&&_0x2cbbe2[_0x1d4b95(0x20c)]===![]);if(_0x30ae83[_0x1d4b95(0xa96)]===0x0){showMessage(_0x1d4b95(0xc31)),sessionStorage[_0x1d4b95(0x37a)](_0x54f338),handleRefundPowerup(_0x350b6f,_0x1d4b95(0x9a0));break;}const _0x2839d8=_0x33ba1f['gameVariant']===_0x1d4b95(0xe39),_0x4230bd=_0x33ba1f[_0x1d4b95(0xc71)]===!![],_0x4cc3c6=_0x2929f9,_0x3a714d=_0x30ae83[_0x1d4b95(0x7d8)]((_0x52c713,_0x5027ea)=>{const _0x501a48=_0x1d4b95,_0x4e4533=_0x52c713[_0x501a48(0x523)],_0x5c63fa=_0x33ba1f['playerNicknames'][_0x4e4533]||'???';let _0x407a58=![];if(_0x4230bd){const _0x357d55=_0x4cc3c6[_0x501a48(0x64f)]||0x0,_0x1e792e=_0x52c713[_0x501a48(0x64f)]||0x0,_0x901750=_0x4cc3c6['pointsLastRound']||0x0,_0x18c227=_0x52c713[_0x501a48(0x647)]||0x0;_0x407a58=_0x357d55>_0x1e792e||_0x357d55===_0x1e792e&&_0x901750>_0x18c227;}else{const _0x466997=_0x4cc3c6[_0x501a48(0x647)]||0x0,_0x75ab83=_0x52c713[_0x501a48(0x647)]||0x0;_0x407a58=_0x466997>_0x75ab83;}let _0x2f876f;return _0x2839d8&&!_0x407a58?_0x2f876f=_0x5c63fa:_0x2f876f=_0x4e4533+'\x20('+_0x5c63fa+')',{'index':_0x5027ea+0x1,'realName':_0x4e4533,'displayName':_0x2f876f};}),_0x555014=_0x3a714d[_0x1d4b95(0x7d8)](_0x12dbf8=>_0x12dbf8['index']+':\x20'+_0x12dbf8[_0x1d4b95(0x246)])[_0x1d4b95(0x343)]('\x0a'),_0x2f87a8=prompt(_0x1d4b95(0xd82)+_0x555014),_0x46298f=parseInt(_0x2f87a8)-0x1;if(_0x46298f>=0x0&&_0x46298f<_0x3a714d['length']){const _0x65375c=_0x3a714d[_0x46298f];handleApplyJinx(_0x65375c[_0x1d4b95(0xb9e)],_0x65375c[_0x1d4b95(0x246)]);}else showMessage(_0x1d4b95(0xae5)),sessionStorage[_0x1d4b95(0x37a)](_0x54f338),handleRefundPowerup(_0x350b6f,_0x1d4b95(0x9a0));break;case _0x1d4b95(0x616):showMessage(_0x1d4b95(0x275));break;default:showMessage('ใช้ไอเทม\x20'+_0x2d512e+_0x1d4b95(0xc07));}}async function handleForceConfident(_0x14a95f,_0x44b3b9){const _0x2c4882=_0x4a882c;if(!currentLiveGameId||!_0x14a95f)return;const _0x4feb36=doc(db,_0x2c4882(0x878)+appId+_0x2c4882(0x4f6),currentLiveGameId);try{const _0x29fa2a={};_0x29fa2a[_0x2c4882(0x9ac)+_0x14a95f+_0x2c4882(0xbca)]=!![],await updateDoc(_0x4feb36,_0x29fa2a),showMessage(_0x2c4882(0x66c)+_0x44b3b9+_0x2c4882(0xa71));}catch(_0x55719b){console['error'](_0x2c4882(0x7ea),_0x55719b),showMessage(_0x2c4882(0x5e0));}}async function handleRefundPowerup(_0x173567,_0x47aaff){const _0x2bee2f=_0x4a882c,_0x187be8=doc(db,_0x2bee2f(0x878)+appId+_0x2bee2f(0x4f6),currentLiveGameId);try{const _0x1fecec={};_0x1fecec[_0x2bee2f(0x9ac)+_0x173567+_0x2bee2f(0x58d)+_0x47aaff]=increment(0x1),await updateDoc(_0x187be8,_0x1fecec),console[_0x2bee2f(0x792)](_0x2bee2f(0xba8)+_0x47aaff+_0x2bee2f(0x493)+_0x173567);}catch(_0x481959){console['error'](_0x2bee2f(0xb43),_0x481959);}}async function handleApplyJinx(_0x1926fa,_0x224ef7){const _0xeeb886=_0x4a882c;if(!currentLiveGameId||!_0x1926fa)return;const _0x12a5fa=doc(db,_0xeeb886(0x878)+appId+_0xeeb886(0x4f6),currentLiveGameId);try{const _0x38ca6a={};_0x38ca6a[_0xeeb886(0x9ac)+_0x1926fa+_0xeeb886(0xc84)]=!![],await updateDoc(_0x12a5fa,_0x38ca6a),showMessage(_0xeeb886(0x8e7)+_0x224ef7+'\x20สำเร็จ!');}catch(_0x116860){console['error']('Failed\x20to\x20apply\x20jinx:',_0x116860),showMessage(_0xeeb886(0x5e0));}}function activateFileInputAreaWithLoadedFile(){const _0x18d2ca=_0x4a882c,_0x28dbc4=document[_0x18d2ca(0x81d)](_0x18d2ca(0xc0e)),_0x708617=document[_0x18d2ca(0x81d)](_0x18d2ca(0x444)),_0x4e8790=document[_0x18d2ca(0x81d)](_0x18d2ca(0x425));selectedFile?_0x4e8790[_0x18d2ca(0x600)]?(_0x28dbc4[_0x18d2ca(0x396)]=!![],analyzeFileForTopics(selectedFile)):(_0x28dbc4[_0x18d2ca(0x396)]=![],_0x708617['classList'][_0x18d2ca(0x87d)]('hidden')):(_0x28dbc4['disabled']=!![],_0x708617[_0x18d2ca(0xdd2)][_0x18d2ca(0x87d)]('hidden'));}async function handleKickPlayerSync(_0x5020f6){const _0x10e0e0=_0x4a882c;if(!currentLiveGameId||!_0x5020f6)return;const _0x2c8ced=doc(db,_0x10e0e0(0x878)+appId+_0x10e0e0(0x4f6),currentLiveGameId),_0x55597c={};_0x55597c[_0x10e0e0(0x9ac)+_0x5020f6+_0x10e0e0(0x82b)]=_0x10e0e0(0xc4e);try{await updateDoc(_0x2c8ced,_0x55597c);}catch(_0x3c5f9f){console[_0x10e0e0(0x76b)](_0x10e0e0(0xdad)+_0x5020f6+_0x10e0e0(0x508),_0x3c5f9f),showMessage(_0x10e0e0(0x5f1));}}async function renderStudentProgressDashboard(_0x37bfce,_0x2245a1){const _0x3c804f=_0x4a882c,_0xd7515d=document[_0x3c804f(0x81d)](_0x3c804f(0xcca));_0xd7515d['innerHTML']=_0x3c804f(0x4c7);try{const _0xb898b8=collection(db,'artifacts/'+appId+_0x3c804f(0x527)),_0x4a2253=query(_0xb898b8,where(_0x3c804f(0xc9b),'==',_0x37bfce)),_0x42e873=await getDocs(_0x4a2253),_0x4607b4=_0x42e873[_0x3c804f(0x9b1)][_0x3c804f(0x7d8)](_0x27a339=>({'id':_0x27a339['id'],..._0x27a339[_0x3c804f(0xc66)]()})),_0x368186=_0x4607b4['map'](_0x1167e2=>getDoc(doc(db,_0x3c804f(0x878)+appId+'/public/data/quizzes/'+_0x1167e2['id']+_0x3c804f(0xc06),_0x2245a1))),_0x3e0ba4=await Promise[_0x3c804f(0xde1)](_0x368186),_0x33ba19=_0x3e0ba4[_0x3c804f(0x3d8)](_0x2aeea5=>_0x2aeea5[_0x3c804f(0xb52)]())[_0x3c804f(0x7d8)](_0x4cf7d3=>({'quizId':_0x4cf7d3[_0x3c804f(0xa15)][_0x3c804f(0x8bc)][_0x3c804f(0x8bc)]['id'],..._0x4cf7d3['data']()}));if(_0x33ba19['length']===0x0){_0xd7515d[_0x3c804f(0x8ea)]=_0x3c804f(0x8b7);return;}let _0x1a8eeb=_0x3c804f(0x8d5);_0x33ba19[_0x3c804f(0xdc3)](_0x1b1e00=>{const _0x51d886=_0x3c804f,_0x2871d1=_0x4607b4['find'](_0x1f1d6d=>_0x1f1d6d['id']===_0x1b1e00[_0x51d886(0x291)]),_0xd07d77=_0x2871d1[_0x51d886(0x7b1)]?.[_0x51d886(0x21b)]||_0x51d886(0x17b),_0x296dee=_0x2871d1[_0x51d886(0x7b1)]?.[_0x51d886(0x282)]??0x0,_0x110689=_0x1b1e00[_0x51d886(0x636)]>=_0x296dee;let _0x3326bf='',_0x2097cb='bg-gray-50';switch(_0xd07d77){case _0x51d886(0x17b):case _0x51d886(0xc5b):_0x2097cb=_0x110689?_0x51d886(0xc3f):_0x51d886(0x52a),_0x3326bf=_0x51d886(0xa7e)+(_0x110689?_0x51d886(0xdbd):'text-red-700')+'\x22>'+_0x1b1e00[_0x51d886(0x636)]+'\x20/\x20'+_0x1b1e00['totalQuestions']+_0x51d886(0xe7c)+(_0x110689?_0x51d886(0x522):_0x51d886(0xc3b))+'\x22>'+(_0x110689?'ผ่าน':'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x2097cb=_0x110689?_0x51d886(0xc3f):_0x51d886(0x52a),_0x3326bf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x110689?_0x51d886(0x522):'bg-red-200\x20text-red-800')+'\x22>'+(_0x110689?_0x51d886(0xe86):_0x51d886(0xe50))+_0x51d886(0x387);break;case'manual_release':_0x2097cb=_0x51d886(0x239),_0x3326bf=_0x51d886(0x44b);break;}_0x1a8eeb+=_0x51d886(0xc55)+_0x2097cb+_0x51d886(0xdd3)+_0x2871d1[_0x51d886(0x755)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x1b1e00[_0x51d886(0xe78)][_0x51d886(0xa96)]+_0x51d886(0x520)+new Date(_0x1b1e00[_0x51d886(0x8e1)])['toLocaleDateString'](_0x51d886(0x98b))+_0x51d886(0xcbc)+_0x3326bf+_0x51d886(0x836);}),_0x1a8eeb+=_0x3c804f(0xbbf),_0xd7515d['innerHTML']=_0x1a8eeb;}catch(_0x35608e){console['error'](_0x3c804f(0x303),_0x35608e),_0xd7515d[_0x3c804f(0x8ea)]=_0x3c804f(0x744);}}function renderQuizBankListForMultiSelect(_0x168baa=''){const _0xd5371=_0x4a882c,_0x22ee69=document[_0xd5371(0x81d)](_0xd5371(0x673)),_0x795af1=_0x168baa[_0xd5371(0x95d)]()[_0xd5371(0x5f6)](),_0x25dc66=allQuizzesGlobal[_0xd5371(0x7d8)](_0x3efa9d=>({..._0x3efa9d,'projectName':allProjects[_0xd5371(0xa74)](_0x16b00f=>_0x16b00f['id']===_0x3efa9d[_0xd5371(0xc9b)])?.[_0xd5371(0xd34)]||'N/A'}))[_0xd5371(0x3d8)](_0x1e9194=>(_0x1e9194[_0xd5371(0x755)]||'')['toLowerCase']()['includes'](_0x795af1)||(_0x1e9194[_0xd5371(0xd34)]||'')[_0xd5371(0x95d)]()[_0xd5371(0x90f)](_0x795af1)||_0x1e9194['id'][_0xd5371(0x188)]()[_0xd5371(0x90f)](_0x795af1));_0x22ee69['innerHTML']=_0x25dc66[_0xd5371(0xa96)]?_0x25dc66['map'](_0x3d9365=>_0xd5371(0x6bc)+_0x3d9365['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x3d9365['topic']||_0xd5371(0xe82))+_0xd5371(0x602)+_0x3d9365[_0xd5371(0xd34)]+_0xd5371(0x62a)+_0x3d9365['id']+_0xd5371(0x7f2))[_0xd5371(0x343)](''):_0xd5371(0x381),_0x22ee69[_0xd5371(0x926)]=()=>{const _0x465b95=_0xd5371,_0x54fba0=document['querySelector'](_0x465b95(0x9d1));document['getElementById'](_0x465b95(0x756))['disabled']=!_0x54fba0;};}function setupStudentProgressListeners(){const _0x4b200b=_0x4a882c;document[_0x4b200b(0x81d)](_0x4b200b(0x5d8))[_0x4b200b(0x843)](_0x4b200b(0x864),showStudentProgressView),document[_0x4b200b(0x81d)](_0x4b200b(0xa24))[_0x4b200b(0x843)](_0x4b200b(0x864),()=>{const _0x226780=_0x4b200b;document[_0x226780(0x81d)](_0x226780(0x6e1))[_0x226780(0xdd2)][_0x226780(0x87d)](_0x226780(0x35b)),document[_0x226780(0x81d)](_0x226780(0xcc7))['classList'][_0x226780(0x469)](_0x226780(0x35b));});}async function startSkillPractice(_0x186a38){const _0x48f74e=_0x4a882c;studentResultArea[_0x48f74e(0xdd2)]['add'](_0x48f74e(0x35b)),studentQuizArea[_0x48f74e(0x8ea)]=_0x48f74e(0x9a8),studentQuizArea[_0x48f74e(0xdd2)]['remove'](_0x48f74e(0x35b));try{const _0x56ae1b=await getStandardizedTopic(_0x186a38);console[_0x48f74e(0x792)]('คำถามดิบ:\x20\x22'+_0x186a38+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x56ae1b+'\x22'),studentQuizArea['querySelector']('p')[_0x48f74e(0xca8)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x56ae1b+_0x48f74e(0xd24);const _0x5c0f5d=collection(db,_0x48f74e(0x878)+appId+_0x48f74e(0x897)),_0x2f579f=query(_0x5c0f5d,where(_0x48f74e(0x755),'==',_0x56ae1b)),_0x37c382=await getDocs(_0x2f579f);if(_0x37c382[_0x48f74e(0x9b1)][_0x48f74e(0xa96)]>=0x3){console['log'](_0x48f74e(0x2d8)+_0x37c382[_0x48f74e(0x9b1)][_0x48f74e(0xa96)]+_0x48f74e(0xb24)+_0x56ae1b+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x210a03=_0x37c382[_0x48f74e(0x9b1)][_0x48f74e(0x7d8)](_0x4e95c4=>_0x4e95c4[_0x48f74e(0xc66)]());shuffleArray(_0x210a03);const _0xb40a75={'topic':_0x56ae1b,'questions':_0x210a03[_0x48f74e(0x1a7)](0x0,0x3)};displaySkillPracticeDrill(_0xb40a75);}else{console[_0x48f74e(0x792)](_0x48f74e(0x7bc)+_0x56ae1b+_0x48f74e(0x418));const _0x1c40b1=await generatePracticeQuestions(_0x56ae1b);await saveDrillToPracticeBank(_0x1c40b1,_0x56ae1b),displaySkillPracticeDrill(_0x1c40b1);}}catch(_0x520ab6){console[_0x48f74e(0x76b)](_0x48f74e(0x4fb),_0x520ab6),showMessage(_0x48f74e(0x506)),studentQuizArea[_0x48f74e(0xdd2)]['add'](_0x48f74e(0x35b)),studentResultArea[_0x48f74e(0xdd2)]['remove'](_0x48f74e(0x35b));}}async function saveDrillToPracticeBank(_0x27c0f8,_0xe82edb){const _0x4bf709=_0x4a882c,_0x34247c=collection(db,_0x4bf709(0x878)+appId+'/public/data/practiceBank'),_0x1a7ac2=writeBatch(db);_0x27c0f8[_0x4bf709(0x277)][_0x4bf709(0xdc3)](_0x597a61=>{const _0x4e03b8=_0x4bf709,_0x155319=doc(_0x34247c);_0x1a7ac2['set'](_0x155319,{'topic':_0xe82edb,'questionText':_0x597a61['questionText'],'options':_0x597a61[_0x4e03b8(0x1b5)],'correctAnswerIndex':_0x597a61[_0x4e03b8(0x1dc)],'explanation':_0x597a61[_0x4e03b8(0xbd8)],'createdAt':serverTimestamp()});});try{await _0x1a7ac2[_0x4bf709(0x8be)](),console['log'](_0x4bf709(0x954)+_0x27c0f8[_0x4bf709(0x277)][_0x4bf709(0xa96)]+_0x4bf709(0x6bb));}catch(_0x2a0412){console[_0x4bf709(0x76b)](_0x4bf709(0x33c),_0x2a0412);}}async function getStandardizedTopic(_0x1e4522){const _0x4aa672=_0x4a882c,_0x336c3f=_0x4aa672(0xd13)+_0x1e4522+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0xbd9dde={'type':'OBJECT','properties':{'standardTopic':{'type':_0x4aa672(0xcc5)}},'required':[_0x4aa672(0x94e)]};try{const _0x4bea4a=await callAnalysisApi(_0x336c3f,_0xbd9dde);return _0x4bea4a[_0x4aa672(0x94e)];}catch(_0x3e4a49){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x3e4a49),_0x1e4522;}}async function handleGenerateEasyVersionQuiz(_0x34c044){const _0x3f9ee2=_0x4a882c,_0x589f55=document['getElementById'](_0x3f9ee2(0xa16)),_0x3aef67=document['getElementById'](_0x3f9ee2(0x1ed));_0x3aef67[_0x3f9ee2(0xdd2)]['add'](_0x3f9ee2(0x35b));const _0x2fe7b2=_0x3f9ee2(0xd1b);_0x589f55[_0x3f9ee2(0x91f)](_0x3f9ee2(0x6c4),_0x2fe7b2);try{const _0x810225=allQuizzes[_0x3f9ee2(0xa74)](_0x42ccea=>_0x42ccea['id']===_0x34c044);if(!_0x810225)throw new Error(_0x3f9ee2(0x9a6));const _0x19b00c=_0x3f9ee2(0xb76)+JSON['stringify'](_0x810225[_0x3f9ee2(0x277)])+_0x3f9ee2(0x4bd),_0x347815={'type':_0x3f9ee2(0x252),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x3f9ee2(0xcc5)},'options':{'type':_0x3f9ee2(0x1de),'items':{'type':_0x3f9ee2(0xcc5)}},'correctAnswerIndex':{'type':_0x3f9ee2(0xd79)},'idealAnswer':{'type':_0x3f9ee2(0xcc5)},'explanation':{'type':_0x3f9ee2(0xcc5)},'imageCode':{'type':_0x3f9ee2(0xcc5)}},'required':['questionText',_0x3f9ee2(0x211),_0x3f9ee2(0xbd8)]},_0x2a7c81={'type':_0x3f9ee2(0x252),'properties':{'questions':{'type':_0x3f9ee2(0x1de),'items':_0x347815}},'required':[_0x3f9ee2(0x277)]},_0x4ea955=await callAnalysisApi(_0x19b00c,_0x2a7c81);_0x4ea955&&_0x4ea955[_0x3f9ee2(0x277)]&&_0x4ea955[_0x3f9ee2(0x277)][_0x3f9ee2(0xdc3)](_0x3f44de=>{const _0x24ce15=_0x3f9ee2;if(_0x3f44de['hasOwnProperty'](_0x24ce15(0x9b0))){const _0x3c20da=String(_0x3f44de[_0x24ce15(0x9b0)])['trim']();(_0x3c20da===''||_0x3c20da[_0x24ce15(0x95d)]()===_0x24ce15(0xdd9)||!_0x3c20da[_0x24ce15(0x1c6)](_0x24ce15(0x3c9)))&&delete _0x3f44de[_0x24ce15(0x9b0)];}});if(!_0x4ea955||!_0x4ea955[_0x3f9ee2(0x277)]||_0x4ea955['questions'][_0x3f9ee2(0xa96)]===0x0)throw new Error(_0x3f9ee2(0xcea));const _0xe633d7=_0x4ea955[_0x3f9ee2(0x277)][_0x3f9ee2(0x7d8)]((_0x2051f4,_0x403cc2)=>({..._0x2051f4,'id':'q_'+Date['now']()+'_'+_0x403cc2})),_0x4da24c={'projectId':_0x810225['projectId'],'quizType':_0x810225[_0x3f9ee2(0xa6b)],'settings':_0x810225[_0x3f9ee2(0x7b1)],'createdBy':_0x810225[_0x3f9ee2(0x704)],'status':_0x3f9ee2(0x3fc),'topic':_0x3f9ee2(0x35a)+_0x810225['topic'],'questions':_0xe633d7,'createdAt':new Date()[_0x3f9ee2(0x31f)](),'quizMode':_0x3f9ee2(0xa99),'pairedQuizId':null};let _0x3dcf26;while(!![]){_0x3dcf26=Math['floor'](0x3e8+Math[_0x3f9ee2(0x8c4)]()*0x2328)[_0x3f9ee2(0x188)]();const _0x231641=await getDoc(doc(db,_0x3f9ee2(0x878)+appId+'/public/data/quizzes',_0x3dcf26));if(!_0x231641[_0x3f9ee2(0xb52)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3dcf26),_0x4da24c),showMessage(_0x3f9ee2(0x2d3));}catch(_0x9e0c5b){console[_0x3f9ee2(0x76b)](_0x3f9ee2(0x1f7),_0x9e0c5b),showMessage(_0x3f9ee2(0x388)+_0x9e0c5b[_0x3f9ee2(0x752)]);}finally{const _0x3d2b43=document['getElementById'](_0x3f9ee2(0xbf5));_0x3d2b43&&_0x3d2b43[_0x3f9ee2(0x469)](),_0x3aef67[_0x3f9ee2(0xdd2)][_0x3f9ee2(0x469)](_0x3f9ee2(0x35b));}}async function generatePracticeQuestions(_0x4c95ea){const _0x4b79b0=_0x4a882c,_0x22880b=_0x4b79b0(0xe5d)+_0x4c95ea+_0x4b79b0(0x922)+simpleMathPrompt+_0x4b79b0(0x1d4),_0x15a181={'type':'OBJECT','properties':{'questionText':{'type':_0x4b79b0(0xcc5)},'options':{'type':_0x4b79b0(0x1de),'items':{'type':_0x4b79b0(0xcc5)}},'correctAnswerIndex':{'type':_0x4b79b0(0xd79)},'explanation':{'type':'STRING'}},'required':['questionText','options','correctAnswerIndex',_0x4b79b0(0xbd8)]},_0xea1de={'type':_0x4b79b0(0x252),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4b79b0(0x1de),'items':_0x15a181}},'required':[_0x4b79b0(0x755),_0x4b79b0(0x277)]};return await callAnalysisApi(_0x22880b,_0xea1de);}function displayLessonPlan(_0x3699ff,_0x31dc40){const _0x12291=_0x4a882c,_0xd9b40a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x31dc40['topic']+_0x12291(0x587)+_0x3699ff['learningGaps'][_0x12291(0x7d8)](_0xb21fe2=>_0x12291(0x9d5)+_0xb21fe2+_0x12291(0xb02))[_0x12291(0x343)]('')+_0x12291(0xbe0)+_0x3699ff[_0x12291(0x8d8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x3699ff[_0x12291(0x2a4)]['map'](_0x56fcc4=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x56fcc4[_0x12291(0x62f)]+_0x12291(0x34f)+_0x56fcc4[_0x12291(0xe1b)]+_0x12291(0x351))[_0x12291(0x343)]('')+_0x12291(0x668);document[_0x12291(0x81d)]('lesson-plan-title')[_0x12291(0xca8)]=_0x12291(0x408)+_0x31dc40[_0x12291(0x755)],document[_0x12291(0x81d)]('lesson-plan-content')['innerHTML']=_0xd9b40a,document[_0x12291(0x81d)](_0x12291(0xa47))[_0x12291(0xdd2)][_0x12291(0x469)](_0x12291(0x35b));if(window[_0x12291(0x389)])MathJax[_0x12291(0x434)]();}function displaySkillPracticeDrill(_0x573bca){const _0x4d8de0=_0x4a882c;let _0x4db0ff=0x0;const _0x2d0c75=_0x573bca[_0x4d8de0(0x277)],_0x3eaf48=()=>{const _0x33ccb8=_0x4d8de0,_0x7a3a7b=_0x2d0c75[_0x4db0ff],_0x5062af='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x4db0ff+0x1)+_0x33ccb8(0x446)+_0x2d0c75[_0x33ccb8(0xa96)]+_0x33ccb8(0xbb8)+_0x7a3a7b[_0x33ccb8(0x2c5)]+_0x33ccb8(0xc59)+_0x7a3a7b[_0x33ccb8(0x1b5)][_0x33ccb8(0x7d8)]((_0x238871,_0x574007)=>_0x33ccb8(0x8dc)+_0x574007+_0x33ccb8(0xde8)+_0x574007+_0x33ccb8(0x1a5)+_0x574007+'\x22>'+_0x238871+_0x33ccb8(0x1f2))[_0x33ccb8(0x343)]('')+_0x33ccb8(0x4f1);studentQuizArea[_0x33ccb8(0x8ea)]=_0x5062af;if(window[_0x33ccb8(0x389)])MathJax[_0x33ccb8(0x434)]([studentQuizArea]);document[_0x33ccb8(0x81d)](_0x33ccb8(0xc29))[_0x33ccb8(0x843)]('click',async()=>{const _0x5556d4=_0x33ccb8,_0x54ae6c=await getHintForQuestion(_0x7a3a7b[_0x5556d4(0x2c5)]);showMessage(_0x54ae6c);}),document[_0x33ccb8(0x81d)](_0x33ccb8(0x72c))[_0x33ccb8(0x843)](_0x33ccb8(0x864),()=>{const _0x4f35aa=_0x33ccb8,_0x5150e5=document[_0x4f35aa(0x869)](_0x4f35aa(0x5d6));if(!_0x5150e5){showMessage(_0x4f35aa(0x3e1));return;}const _0xdfc6e9=document[_0x4f35aa(0x81d)]('drill-feedback'),_0x333009=parseInt(_0x5150e5[_0x4f35aa(0x710)])===_0x7a3a7b[_0x4f35aa(0x1dc)];_0x333009?(_0xdfc6e9[_0x4f35aa(0xc8f)]=_0x4f35aa(0x422),_0xdfc6e9[_0x4f35aa(0x8ea)]=_0x4f35aa(0x392)+_0x7a3a7b['explanation']):(_0xdfc6e9['className']=_0x4f35aa(0x880),_0xdfc6e9[_0x4f35aa(0x8ea)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x7a3a7b[_0x4f35aa(0xbd8)]);_0xdfc6e9[_0x4f35aa(0xdd2)][_0x4f35aa(0x469)](_0x4f35aa(0x35b));if(window[_0x4f35aa(0x389)])MathJax['typesetPromise']([_0xdfc6e9]);document[_0x4f35aa(0x81d)](_0x4f35aa(0x72c))['classList'][_0x4f35aa(0x87d)](_0x4f35aa(0x35b)),document['getElementById'](_0x4f35aa(0xc29))[_0x4f35aa(0xdd2)]['add'](_0x4f35aa(0x35b)),document['getElementById'](_0x4f35aa(0xce4))[_0x4f35aa(0xdd2)]['remove'](_0x4f35aa(0x35b));}),document[_0x33ccb8(0x81d)]('next-drill-btn')[_0x33ccb8(0x843)](_0x33ccb8(0x864),()=>{const _0x1d4c9c=_0x33ccb8;_0x4db0ff++,_0x4db0ff<_0x2d0c75['length']?_0x3eaf48():(studentQuizArea[_0x1d4c9c(0x8ea)]=_0x1d4c9c(0x1f3),document[_0x1d4c9c(0x81d)](_0x1d4c9c(0x608))[_0x1d4c9c(0x843)](_0x1d4c9c(0x864),()=>{const _0x57e9c0=_0x1d4c9c;studentQuizArea[_0x57e9c0(0xdd2)][_0x57e9c0(0x87d)]('hidden'),studentResultArea[_0x57e9c0(0xdd2)][_0x57e9c0(0x469)]('hidden');}));});};_0x3eaf48();}async function getHintForQuestion(_0x36b314){const _0x31dea3=_0x4a882c,_0x589a85=_0x31dea3(0x9dc)+_0x36b314+_0x31dea3(0x946),_0x21f771={'type':'OBJECT','properties':{'hint':{'type':_0x31dea3(0xcc5)}},'required':[_0x31dea3(0x16f)]};try{const _0x2a9bbe=await callAnalysisApi(_0x589a85,_0x21f771);return _0x2a9bbe[_0x31dea3(0x16f)];}catch(_0x3e0aa7){return console[_0x31dea3(0x76b)](_0x31dea3(0x4fc),_0x3e0aa7),_0x31dea3(0x52b);}}async function extractTextFromPdf(_0x560416){const _0x138b14=_0x4a882c;pdfjsLib['GlobalWorkerOptions']['workerSrc']=_0x138b14(0xadc);const _0x5681e2=await _0x560416[_0x138b14(0xe72)](),_0x3eacb8=await pdfjsLib[_0x138b14(0x945)](_0x5681e2)[_0x138b14(0x28f)],_0x54a758=_0x3eacb8[_0x138b14(0x948)];let _0x49d7d8='';for(let _0x45091d=0x1;_0x45091d<=_0x54a758;_0x45091d++){const _0x2ba2a3=await _0x3eacb8[_0x138b14(0x35e)](_0x45091d),_0x4b4eb2=await _0x2ba2a3['getTextContent'](),_0x57649b=_0x4b4eb2['items']['map'](_0x39da00=>_0x39da00['str'])[_0x138b14(0x343)]('\x20');_0x49d7d8+=_0x57649b+'\x0a\x0a';}return _0x49d7d8;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x1eeddc){const _0x1a4975=_0x4a882c,_0x2b8a6c=document[_0x1a4975(0x81d)](_0x1a4975(0x4ca)),_0x3e95e8=document[_0x1a4975(0x81d)]('blueprint-topics-list'),_0x669163=document['getElementById']('save-blueprint-as-project-btn');_0x2b8a6c[_0x1a4975(0xdd2)]['remove']('hidden'),_0x3e95e8[_0x1a4975(0x8ea)]=_0x1a4975(0x53c),_0x669163[_0x1a4975(0xdd2)]['add']('hidden');try{const _0x3911fb=_0x1a4975(0xc5f)+_0x1eeddc+_0x1a4975(0x75a),_0x5852fb={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x1a4975(0x1de),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x1a4975(0xcc5)},'mainTopics':{'type':_0x1a4975(0x1de),'items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x1a4975(0x1de),'items':{'type':'STRING'}}},'required':['topicName',_0x1a4975(0x830)]}}},'required':[_0x1a4975(0x1dd),_0x1a4975(0x653)]}}},'required':[_0x1a4975(0x691),_0x1a4975(0xdcb)]},_0x1409b0=await callAnalysisApi(_0x3911fb,_0x5852fb);if(_0x1409b0&&_0x1409b0[_0x1a4975(0xdcb)])extractedBlueprintData=_0x1409b0,renderBlueprintTopics(_0x1409b0),_0x669163[_0x1a4975(0xdd2)][_0x1a4975(0x469)]('hidden');else throw new Error(_0x1a4975(0x941));}catch(_0x43d9d6){console[_0x1a4975(0x76b)](_0x1a4975(0x81b),_0x43d9d6),_0x3e95e8['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x57e8a3){const _0x2bce89=_0x4a882c,_0x18b8d6=document[_0x2bce89(0x81d)](_0x2bce89(0x6f3)),_0x530d04=_0x57e8a3['gradeLevel'],_0xc126a3=_0x2bce89(0x963)+_0x530d04+_0x2bce89(0x820);let _0x48b45c='';_0x57e8a3[_0x2bce89(0xdcb)][_0x2bce89(0xdc3)](_0x16b9dc=>{const _0x1bec9f=_0x2bce89;_0x48b45c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x16b9dc[_0x1bec9f(0x1dd)]+_0x1bec9f(0x179),_0x16b9dc[_0x1bec9f(0x653)][_0x1bec9f(0xdc3)](_0x3596bd=>{const _0x2f6824=_0x1bec9f;_0x48b45c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x3596bd[_0x2f6824(0xb48)]+_0x2f6824(0xb10),_0x3596bd[_0x2f6824(0x830)]['forEach'](_0x477c80=>{const _0x2d0d93=_0x2f6824;_0x48b45c+=_0x2d0d93(0xb70)+_0x477c80[_0x2d0d93(0xc8d)](/'/g,'\x5c\x27')+_0x2d0d93(0x7de)+_0x530d04[_0x2d0d93(0xc8d)](/'/g,'\x5c\x27')+_0x2d0d93(0xd73)+_0x477c80+_0x2d0d93(0x1f8)+_0x477c80[_0x2d0d93(0xc8d)](/'/g,'\x5c\x27')+_0x2d0d93(0x9be);}),_0x48b45c+='</div></div>';}),_0x48b45c+='</div>';}),_0x18b8d6[_0x2bce89(0x8ea)]=_0xc126a3+_0x48b45c;}async function handleGenerateTeachingContent(_0x25c3ba){const _0xfa5545=_0x4a882c,_0x17ddbc=document[_0xfa5545(0x81d)](_0xfa5545(0xa47)),_0x3827e2=document[_0xfa5545(0x81d)](_0xfa5545(0xd99));document['getElementById'](_0xfa5545(0xcd8))['textContent']=_0xfa5545(0x1cc)+_0x25c3ba,_0x3827e2[_0xfa5545(0x8ea)]=_0xfa5545(0xc2c),_0x17ddbc['classList']['remove'](_0xfa5545(0x35b));try{const _0xaa4083=_0xfa5545(0x29d)+_0x25c3ba+_0xfa5545(0x81e),_0x46ac2d={'type':_0xfa5545(0x252),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':'STRING'}},'commonMistakes':{'type':_0xfa5545(0x1de),'items':{'type':_0xfa5545(0xcc5)}},'stepByStepExamples':{'type':_0xfa5545(0x1de),'items':{'type':_0xfa5545(0x252),'properties':{'question':{'type':_0xfa5545(0xcc5)},'solution':{'type':'STRING'}},'required':[_0xfa5545(0x62f),_0xfa5545(0xe1b)]}},'teacherTips':{'type':_0xfa5545(0x1de),'items':{'type':'STRING'}}},'required':[_0xfa5545(0xa9d),_0xfa5545(0x928),_0xfa5545(0x6af),_0xfa5545(0xaa6)]},_0x270820=await callAnalysisApi(_0xaa4083,_0x46ac2d);displayTeachingContent(_0x270820,_0x25c3ba);}catch(_0x1f1e34){console['error'](_0xfa5545(0xb89),_0x1f1e34),_0x3827e2['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x1f1e34[_0xfa5545(0x752)]+_0xfa5545(0x9e5);}}function displayTeachingContent(_0x55d33e,_0x40edf3){const _0x434337=_0x4a882c,_0x569065=document['getElementById'](_0x434337(0xd99));document['getElementById']('lesson-plan-title')[_0x434337(0xca8)]=_0x434337(0x323)+_0x40edf3;const _0x11608d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x55d33e[_0x434337(0xa9d)][_0x434337(0x7d8)](_0x3afae3=>_0x434337(0x9d5)+_0x3afae3+'</li>')[_0x434337(0x343)]('')+_0x434337(0xbb9)+_0x55d33e[_0x434337(0x928)][_0x434337(0x7d8)](_0x159b57=>_0x434337(0x9d5)+_0x159b57+_0x434337(0xb02))[_0x434337(0x343)]('')+_0x434337(0x380)+_0x55d33e[_0x434337(0x6af)]['map'](_0x2a45f4=>_0x434337(0x253)+_0x2a45f4[_0x434337(0x62f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x2a45f4[_0x434337(0xe1b)]+_0x434337(0x743))['join']('')+_0x434337(0xab2)+_0x55d33e[_0x434337(0xaa6)][_0x434337(0x7d8)](_0x2713a7=>_0x434337(0x9d5)+_0x2713a7+'</li>')[_0x434337(0x343)]('')+_0x434337(0x950);_0x569065[_0x434337(0x8ea)]=_0x11608d;if(window[_0x434337(0x389)])MathJax[_0x434337(0x434)]([_0x569065]);}async function generateQuizForSingleTopic(_0x248de2){const _0x386a95=_0x4a882c;console['log'](_0x386a95(0x3dc)+_0x248de2+'\x22');const _0x57f9e9=document[_0x386a95(0x81d)]('reference-pdf-upload'),_0x211330=_0x57f9e9['files'][_0x386a95(0xa96)]>0x0?_0x57f9e9[_0x386a95(0xb34)][0x0]:null;let _0x36f12f=null;if(_0x211330)try{const _0x1d2fd5=new FileReader();_0x1d2fd5[_0x386a95(0x5f3)](_0x211330);const _0x10761f=await new Promise((_0x1bdf94,_0x4a490d)=>{const _0x2c73aa=_0x386a95;_0x1d2fd5['onload']=()=>_0x1bdf94(_0x1d2fd5[_0x2c73aa(0xe83)][_0x2c73aa(0x9b4)](',')[0x1]),_0x1d2fd5[_0x2c73aa(0x308)]=_0x5ce9fc=>_0x4a490d(_0x5ce9fc);});_0x36f12f=[{'inlineData':{'mimeType':_0x211330[_0x386a95(0x451)],'data':_0x10761f}}];}catch(_0x13eb4d){console[_0x386a95(0x76b)](_0x386a95(0xce9),_0x13eb4d),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x248de2,null,null,_0x36f12f,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x302c62=null){const _0x2b37b4=_0x4a882c,_0x55e3d3=document['getElementById'](_0x2b37b4(0x1d1)),_0x218a77=document[_0x2b37b4(0x81d)](_0x2b37b4(0xe40));let _0x4a6ef5,_0x104def=[];if(_0x302c62)_0x4a6ef5=_0x302c62,_0x104def=_0x4a6ef5[_0x2b37b4(0x1a7)](0x2);else{const _0x489f02=document['getElementById'](_0x2b37b4(0x8a5)),_0x4de2b8=document[_0x2b37b4(0x81d)]('reference-pdf-upload'),_0x5aeeaa=_0x489f02[_0x2b37b4(0xb34)][0x0];if(!_0x5aeeaa){showMessage(_0x2b37b4(0x2e4));return;}_0x218a77[_0x2b37b4(0xca8)]=_0x2b37b4(0x5c5);const _0x1ffec8=await new Promise((_0x13bb5a,_0x4f320b)=>{const _0x68ea39=_0x2b37b4,_0x4fae73=new FileReader();_0x4fae73[_0x68ea39(0x5f3)](_0x5aeeaa),_0x4fae73[_0x68ea39(0x817)]=()=>_0x13bb5a(_0x4fae73[_0x68ea39(0xe83)][_0x68ea39(0x9b4)](',')[0x1]),_0x4fae73[_0x68ea39(0x308)]=_0x4f320b;});_0x4a6ef5=[{'text':_0x2b37b4(0xe25)},{'inlineData':{'mimeType':_0x5aeeaa[_0x2b37b4(0x451)],'data':_0x1ffec8}}];if(_0x4de2b8[_0x2b37b4(0xb34)][_0x2b37b4(0xa96)]>0x0){const _0x51bcce=_0x4de2b8['files'][0x0];_0x218a77[_0x2b37b4(0xca8)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x502c93=await new Promise((_0x1eba97,_0x1f9f50)=>{const _0x26b955=_0x2b37b4,_0x45f698=new FileReader();_0x45f698[_0x26b955(0x5f3)](_0x51bcce),_0x45f698['onload']=()=>_0x1eba97(_0x45f698['result']['split'](',')[0x1]),_0x45f698['onerror']=_0x1f9f50;}),_0x49225a={'inlineData':{'mimeType':_0x51bcce['type'],'data':_0x502c93}};_0x4a6ef5[_0x2b37b4(0xb97)](_0x49225a),_0x104def[_0x2b37b4(0xb97)](_0x49225a);}}const _0x4b305f=_0x2b37b4(0x987),_0x733980='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x46a242='';_0x104def&&_0x104def[_0x2b37b4(0xa96)]>0x0?_0x46a242=_0x4b305f:_0x46a242=_0x733980;const _0x478029=_0x2b37b4(0x6e8)+_0x46a242+_0x2b37b4(0x6b3),_0x17cd2b={'type':_0x2b37b4(0x252),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x2b37b4(0xca9),'short_answer','true_false','matching_item']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2b37b4(0xd79)},'idealAnswer':{'type':_0x2b37b4(0xcc5)},'correctAnswer':{'type':_0x2b37b4(0xac5)},'explanation':{'type':_0x2b37b4(0xcc5)},'imageCode':{'type':_0x2b37b4(0xcc5)}},'required':[_0x2b37b4(0x211),_0x2b37b4(0xbd8)]},_0x594fe1={'type':_0x2b37b4(0x252),'properties':{'topic':{'type':_0x2b37b4(0xcc5)},'questions':{'type':_0x2b37b4(0x1de),'items':_0x17cd2b}},'required':[_0x2b37b4(0x755),_0x2b37b4(0x277)]};_0x4a6ef5[0x0][_0x2b37b4(0x95b)]=_0x478029,await handleApiCall(_0x4a6ef5,_0x2b37b4(0x44e),_0x594fe1);}function proceedToNextQuestion(_0x3dbd1b){const _0x43ce7b=_0x4a882c;studentAnswersPerQuestion[_0x43ce7b(0xb97)](_0x3dbd1b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x43ce7b(0xa96)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x55ba53,_0x7ca774,_0x3ed27c){const _0x2d255c=_0x4a882c,_0x1226fe=Object[_0x2d255c(0x1f9)](_0x55ba53[_0x2d255c(0x774)]||{}),_0x3902e0=_0x1226fe[_0x2d255c(0xa96)],_0x4f92c0=_0x3ed27c,_0x227799=_0x55ba53[_0x2d255c(0x93f)]||'classic',_0x980535=_0x227799===_0x2d255c(0xe39),_0x35b4ad=_0x55ba53['isAnonymousRevealed']===!![],_0xde1563=_0x227799===_0x2d255c(0x5d1),_0x37c00c=_0x55ba53[_0x2d255c(0xba9)]['questions'],_0x23974c=_0x37c00c[_0x4f92c0],_0x588cb3=_0x1a75d9=>String['fromCharCode'](0x41+_0x1a75d9),_0xb9a18b=_0x1226fe['map'](_0x1498a5=>{const _0x4be478=_0x2d255c,_0x39a401=_0x1498a5[_0x4be478(0x64f)]||0x0,_0x23345=_0x1498a5[_0x4be478(0x504)]||0x0,_0x1b1054=(_0x1498a5['answers']||[])[_0x4be478(0x3d8)](_0x25d861=>{const _0x1fcf69=_0x4be478;if(_0x227799==='reveal_at_end')return _0x25d861[_0x1fcf69(0x63d)]<=_0x4f92c0;return!![];});return{..._0x1498a5,'realScore':_0x39a401,'totalPoints':_0x23345,'answers':_0x1b1054};}),_0x42d3dc=_0x55ba53[_0x2d255c(0xc71)]===!![],_0x1069e7=[..._0xb9a18b][_0x2d255c(0x6c8)]((_0x36a8f1,_0x301e64)=>{const _0x505a06=_0x2d255c;if(_0x42d3dc){const _0x3dbfdd=_0x301e64[_0x505a06(0xa48)]-_0x36a8f1[_0x505a06(0xa48)];if(_0x3dbfdd!==0x0)return _0x3dbfdd;const _0x23f3fc=_0x301e64['totalPoints']-_0x36a8f1[_0x505a06(0x504)];if(_0x23f3fc!==0x0)return _0x23f3fc;return(_0x36a8f1[_0x505a06(0x523)]||'')[_0x505a06(0xddd)](_0x301e64['name']||'','th');}else{const _0x39e195=_0x301e64['totalPoints']-_0x36a8f1[_0x505a06(0x504)];if(_0x39e195!==0x0)return _0x39e195;const _0xca78fc=_0x301e64[_0x505a06(0xa48)]-_0x36a8f1['realScore'];if(_0xca78fc!==0x0)return _0xca78fc;return(_0x36a8f1[_0x505a06(0x523)]||'')['localeCompare'](_0x301e64[_0x505a06(0x523)]||'','th');}}),_0x1366ac=Math['max'](..._0xb9a18b[_0x2d255c(0x7d8)](_0x54cf4b=>_0x54cf4b[_0x2d255c(0x504)]),0x0),_0x27d91a=_0x3ed27c+0x1,_0x17fcb1=_0xb9a18b[_0x2d255c(0x3d8)](_0x2a74c1=>_0x2a74c1[_0x2d255c(0xa48)]===_0x27d91a&&(_0x2a74c1[_0x2d255c(0x6c9)]||[])[_0x2d255c(0xa96)]===_0x27d91a&&_0x27d91a>0x0),_0x3ef6c6=_0x17fcb1[_0x2d255c(0xa96)]>0x0?Math[_0x2d255c(0x1f1)](..._0x17fcb1[_0x2d255c(0x7d8)](_0x4ef3ed=>_0x4ef3ed[_0x2d255c(0x504)])):-Infinity;let _0x46fa6e='';const _0x3e9329=!_0xde1563&&!(_0x980535&&_0x55ba53[_0x2d255c(0xb1f)]===![]);if(_0x23974c&&_0x3e9329){let _0x353957='',_0x4abc9b='';const _0x511166=_0x23974c[_0x2d255c(0x211)]||_0x55ba53['shuffledQuiz'][_0x2d255c(0xa6b)];if(_0x511166==='multiple_choice'&&_0x23974c[_0x2d255c(0x1b5)]&&_0x23974c['correctAnswerIndex']!==undefined){const _0x42a188=_0x23974c[_0x2d255c(0x1dc)];_0x353957=_0x23974c['options'][_0x42a188],_0x4abc9b=_0x588cb3(_0x42a188)+'.';}else{if(_0x511166===_0x2d255c(0x559)){const _0x28ce05=_0x23974c[_0x2d255c(0x87b)]===!![]||String(_0x23974c[_0x2d255c(0x87b)])[_0x2d255c(0x95d)]()===_0x2d255c(0xa6f);_0x28ce05?(_0x353957='ใช่\x20/\x20ถูก',_0x4abc9b='ก.'):(_0x353957=_0x2d255c(0xa7c),_0x4abc9b='ข.');}else{if(_0x511166===_0x2d255c(0x7d3))_0x353957=_0x23974c['correctResponse']||'-',_0x4abc9b='';else _0x511166===_0x2d255c(0x2bb)&&(_0x353957=_0x23974c[_0x2d255c(0x6ef)]||'-',_0x4abc9b='');}}_0x353957&&(_0x46fa6e=_0x2d255c(0xc45)+(_0x4f92c0+0x1)+_0x2d255c(0x160)+_0x4abc9b+'\x20'+_0x353957+_0x2d255c(0x44c));}const _0x2f5c88=_0x1069e7['map'](_0x19fb87=>{const _0x58af21=_0x2d255c,_0x2daeb2=_0x19fb87['realScore'],_0x4dc159=_0x19fb87[_0x58af21(0x504)],_0xc5ec38=_0x19fb87[_0x58af21(0x6c9)][_0x58af21(0xa96)],_0x256494=(_0x19fb87[_0x58af21(0x6c9)]||[])['find'](_0x5c489c=>_0x5c489c['questionIndex']===_0x3ed27c);let _0x4dfc0b='';if(_0x256494){_0x256494[_0x58af21(0x2f8)]&&(_0x4dfc0b+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>');_0x256494['wasJinxed']&&(_0x4dfc0b+=_0x58af21(0x962));_0x256494[_0x58af21(0xa5d)]&&(_0x4dfc0b+=_0x58af21(0x664));const _0x4cb86e=_0x256494[_0x58af21(0x9df)];if(_0x4cb86e)switch(_0x4cb86e){case _0x58af21(0x6ec):_0x4dfc0b+=_0x58af21(0x628);break;case _0x58af21(0x2ac):_0x4dfc0b+=_0x58af21(0x435);break;case _0x58af21(0x250):_0x4dfc0b+=_0x58af21(0x78c);break;case _0x58af21(0xc69):_0x4dfc0b+='<span\x20title=\x22ใช้:\x2050:50\x22>🌗</span>';break;case'wagerMultiplier':_0x4dfc0b+=_0x58af21(0x311);break;case'secondChance':_0x4dfc0b+='<span\x20title=\x22ใช้:\x20โอกาสครั้งที่สอง\x22>🔁</span>';break;}}let _0x2a5171='';if(!_0xde1563&&_0xc5ec38>0x0){const _0x3df1a5=_0x19fb87[_0x58af21(0x6c9)]['length'],_0x3c2299=_0x19fb87[_0x58af21(0xa48)]===_0x27d91a&&_0x3df1a5===_0x27d91a&&_0x27d91a>0x0;if(_0x42d3dc){const _0x248993=_0x3c2299&&_0x19fb87[_0x58af21(0x504)]===_0x3ef6c6;if(_0x248993)_0x2a5171=_0x58af21(0x315);else _0x3c2299&&(_0x2a5171=_0x58af21(0x5db));}else{if(_0x3df1a5===_0x27d91a&&_0x27d91a>0x0){let _0x35c59f=_0x27d91a;_0x55ba53[_0x58af21(0xda2)]&&(_0x35c59f=_0x27d91a*0x2);const _0x458e8f=_0x19fb87['totalPoints']===_0x35c59f;if(_0x458e8f)_0x2a5171=_0x58af21(0xc09);else _0x3c2299&&(_0x2a5171=_0x58af21(0x5db));}}if(_0x2a5171===''){if(_0x4dc159<0x0)_0x2a5171=_0x58af21(0x87e);else _0x2daeb2===0x0&&_0x3df1a5>0x0&&(_0x2a5171='<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>');}}let _0x3b9a29=_0x58af21(0x84a);if(!_0xde1563){const _0x41081b=(_0x19fb87[_0x58af21(0x6c9)]||[])['find'](_0x23a15c=>_0x23a15c['questionIndex']===_0x4f92c0);if(_0x41081b){const _0x3f7f8f=_0x41081b[_0x58af21(0x565)],_0x21ce0b=_0x41081b['wasConfident']===!![]||_0x41081b[_0x58af21(0xe32)]==='confident',_0x3f63b3=_0x41081b[_0x58af21(0x9df)];if(_0x3f63b3===_0x58af21(0xc3a))_0x3f7f8f?_0x3b9a29=_0x58af21(0x3bc):_0x3b9a29='bg-red-700\x20text-white\x20font-bold';else{if(_0x21ce0b)_0x3f7f8f?_0x3b9a29=_0x58af21(0x5a7):_0x3b9a29=_0x58af21(0x242);else _0x3f7f8f&&(_0x3b9a29=_0x58af21(0x9fb));}}}let _0x3d7ab3='';const _0x5ea136=_0x19fb87[_0x58af21(0x523)],_0x331eaa=_0x55ba53[_0x58af21(0x64b)][_0x19fb87[_0x58af21(0x523)]]||'???',_0x324e07=_0x58af21(0x476),_0x18c8a7='word-break:\x20break-all;';let _0xb1675b='';const _0x28760c=_0x4dc159>=0x0?'(+'+_0x4dc159+')':'('+_0x4dc159+')',_0x58ba9f=_0x58af21(0x3f6)+_0x19fb87[_0x58af21(0xa48)]+_0x58af21(0xbfa)+_0x28760c+_0x58af21(0xd2e);if(_0x7ca774){if(_0x980535&&!_0x35b4ad)_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+_0x58af21(0x19e)+_0x331eaa+_0x58af21(0x416)+_0x18c8a7+'\x22>'+_0x331eaa+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+_0x58af21(0xbbf),_0xb1675b=_0x58ba9f;else{if(_0x980535&&_0x35b4ad)_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+'\x22\x20title=\x22'+_0x5ea136+'\x20('+_0x331eaa+_0x58af21(0xb01)+_0x18c8a7+'\x22>'+_0x5ea136+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+_0x58af21(0xe20)+_0x18c8a7+_0x58af21(0x1f5)+_0x331eaa+_0x58af21(0xb3f),_0xb1675b=_0x58ba9f;else _0xde1563?(_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+'\x22\x20title=\x22'+_0x5ea136+_0x58af21(0x416)+_0x18c8a7+'\x22>'+_0x5ea136+_0x58af21(0xbea)+_0x4dfc0b+_0x58af21(0xbbf),_0xb1675b=''):(_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+_0x58af21(0x19e)+_0x5ea136+'\x22><span\x20style=\x22'+_0x18c8a7+'\x22>'+_0x5ea136+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+_0x58af21(0xbbf),_0xb1675b=_0x58ba9f);}}else{const _0x40dc17=localTeamPlayers[_0x58af21(0x90f)](_0x5ea136),_0x575033=viewerPlayer[_0x58af21(0x504)],_0x1ec4e3=_0x19fb87['totalPoints'];if(_0x980535)_0x35b4ad?_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+_0x58af21(0x19e)+_0x5ea136+'\x20('+_0x331eaa+_0x58af21(0xb01)+_0x18c8a7+'\x22>'+_0x5ea136+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+_0x58af21(0xe20)+_0x18c8a7+_0x58af21(0x1f5)+_0x331eaa+_0x58af21(0xb3f):_0x40dc17?isViewerTopScorer?_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+'\x22\x20title=\x22'+_0x5ea136+'\x20('+_0x331eaa+')\x22><span\x20style=\x22'+_0x18c8a7+'\x22>'+_0x5ea136+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x18c8a7+'\x22>('+_0x331eaa+_0x58af21(0xb3f):_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+'\x22\x20title=\x22'+_0x331eaa+'\x22><span\x20style=\x22'+_0x18c8a7+'\x22>'+_0x331eaa+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+'</div>':_0x575033>_0x1ec4e3?_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+_0x58af21(0x19e)+_0x5ea136+'\x20('+_0x331eaa+_0x58af21(0xb01)+_0x18c8a7+'\x22>'+_0x5ea136+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+_0x58af21(0xe20)+_0x18c8a7+'\x22>('+_0x331eaa+_0x58af21(0xb3f):_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+_0x58af21(0x19e)+_0x331eaa+_0x58af21(0x416)+_0x18c8a7+'\x22>'+_0x331eaa+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+_0x58af21(0xbbf),_0xb1675b=_0x58ba9f;else _0xde1563?(_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+_0x58af21(0x19e)+_0x5ea136+_0x58af21(0x416)+_0x18c8a7+'\x22>'+_0x5ea136+'</span>\x20'+_0x4dfc0b+_0x58af21(0xbbf),_0xb1675b=''):(_0x3d7ab3=_0x58af21(0xb1b)+_0x324e07+_0x58af21(0x19e)+_0x5ea136+'\x22><span\x20style=\x22'+_0x18c8a7+'\x22>'+_0x5ea136+_0x58af21(0xbea)+_0x4dfc0b+'\x20'+_0x2a5171+_0x58af21(0xbbf),_0xb1675b=_0x58ba9f);}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x3b9a29+_0x58af21(0x6aa)+_0x3d7ab3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb1675b+_0x58af21(0xaed);})[_0x2d255c(0x343)](''),_0x4f71d3=_0x37c00c[_0x2d255c(0x7d8)]((_0x30f8a6,_0x2cc8b5)=>{const _0x51f5b4=_0x2d255c;if(_0x227799==='reveal_at_end'&&_0x2cc8b5>_0x4f92c0||_0xde1563)return'';const _0x3dd217=_0xb9a18b['filter'](_0x4b5281=>_0x4b5281[_0x51f5b4(0x6c9)]&&_0x4b5281[_0x51f5b4(0x6c9)][_0x51f5b4(0xa74)](_0x452f91=>_0x452f91['questionIndex']===_0x2cc8b5&&_0x452f91[_0x51f5b4(0x565)]))[_0x51f5b4(0xa96)],_0xc51365=_0x2cc8b5===_0x4f92c0,_0x538149=_0xc51365?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x51f5b4(0x719);return _0x51f5b4(0xa50)+_0x538149+_0x51f5b4(0x210)+(_0x2cc8b5+0x1)+_0x51f5b4(0x8ae)+_0x3dd217+_0x51f5b4(0x446)+_0x3902e0+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x2d255c(0x343)]('');let _0x3c577e='',_0x29bfb7='';if(_0x7ca774){const _0xf53a0c=_0x227799===_0x2d255c(0xcdc)&&_0x55ba53['currentQuestionIndex']>=_0x37c00c[_0x2d255c(0xa96)]-0x1,_0x1b4eee=_0x227799===_0x2d255c(0xc62)&&_0x55ba53[_0x2d255c(0xe91)]>=_0x37c00c[_0x2d255c(0xa96)]-0x1,_0x4e7952=_0x227799==='anonymous'&&_0x55ba53[_0x2d255c(0x810)]>=_0x37c00c[_0x2d255c(0xa96)]-0x1,_0x3ae1ce=_0x227799===_0x2d255c(0x5d1)&&_0x55ba53[_0x2d255c(0x810)]>=_0x37c00c[_0x2d255c(0xa96)]-0x1;_0xf53a0c||_0x1b4eee||_0x4e7952||_0x3ae1ce?_0x980535&&!_0x35b4ad?_0x3c577e=_0x2d255c(0x437):_0x3c577e=_0x2d255c(0x73b):_0x3c577e=_0x2d255c(0xc89),_0x29bfb7=_0x2d255c(0x50c);}const _0x57e995=_0xde1563||_0x980535&&!_0x55ba53[_0x2d255c(0xb1f)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x4f71d3+_0x2d255c(0x772),_0x92b5fc=_0xde1563||_0x980535&&!_0x55ba53[_0x2d255c(0xb1f)]?_0x2d255c(0xd8e):'md:col-span-1',_0x204c20=_0x2d255c(0x337)+_0x55ba53[_0x2d255c(0xba9)][_0x2d255c(0x755)]+_0x2d255c(0x93e)+_0x55ba53['pin']+_0x2d255c(0x7ba)+_0x29bfb7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46fa6e+_0x2d255c(0x2f0)+_0x92b5fc+_0x2d255c(0x2c7)+(_0x2f5c88||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57e995+_0x2d255c(0x944)+(_0x7ca774?_0x2d255c(0x347)+_0x3c577e+'</div>':'')+_0x2d255c(0x8d2);liveGameView[_0x2d255c(0x8ea)]=_0x204c20;if(window[_0x2d255c(0x389)]){const _0x59aa83=document[_0x2d255c(0x81d)](_0x2d255c(0x350));_0x59aa83&&MathJax[_0x2d255c(0x434)]([_0x59aa83]);}if(_0x7ca774){document[_0x2d255c(0x81d)]('next-sync-question-btn')[_0x2d255c(0x845)]=async()=>{const _0x190042=_0x2d255c,_0x49359f=doc(db,_0x190042(0x878)+appId+_0x190042(0x4f6),currentLiveGameId),_0x57a927=_0x227799==='classic'&&_0x55ba53[_0x190042(0x810)]>=_0x37c00c[_0x190042(0xa96)]-0x1,_0x52f61c=_0x227799===_0x190042(0xc62)&&_0x55ba53[_0x190042(0xe91)]>=_0x37c00c['length']-0x1,_0x3028b8=_0x227799===_0x190042(0xe39)&&_0x55ba53[_0x190042(0x810)]>=_0x37c00c[_0x190042(0xa96)]-0x1,_0x3b8ccf=_0x227799==='competition'&&_0x55ba53[_0x190042(0x810)]>=_0x37c00c[_0x190042(0xa96)]-0x1;if(_0x227799===_0x190042(0xc62))!_0x52f61c?await updateDoc(_0x49359f,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x49359f,{'status':_0x190042(0x382)});else{if(!_0x57a927&&!_0x3028b8&&!_0x3b8ccf){const _0x20b02c=_0x55ba53[_0x190042(0x810)]+0x1,_0x752afe={};Object[_0x190042(0x2cf)](_0x55ba53[_0x190042(0x774)])[_0x190042(0xdc3)](_0x37f631=>{const _0x5a37ef=_0x190042;_0x752afe[_0x5a37ef(0x9ac)+_0x37f631+_0x5a37ef(0x5af)]=![],_0x752afe[_0x5a37ef(0x9ac)+_0x37f631+_0x5a37ef(0xde2)]=null,_0x752afe['players.'+_0x37f631+_0x5a37ef(0xc84)]=![],_0x752afe[_0x5a37ef(0x9ac)+_0x37f631+_0x5a37ef(0xbca)]=![];}),await updateDoc(_0x49359f,{..._0x752afe,'status':_0x190042(0x62f),'currentQuestionIndex':_0x20b02c,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x49359f,{'status':_0x190042(0x382)});}},document[_0x2d255c(0x81d)](_0x2d255c(0x3a3))?.[_0x2d255c(0x843)](_0x2d255c(0x864),async()=>{const _0x105180=_0x2d255c;await updateDoc(doc(db,_0x105180(0x878)+appId+_0x105180(0x4f6),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0xecebf2=document['getElementById'](_0x2d255c(0x4cf));_0xecebf2&&(_0xecebf2[_0x2d255c(0x845)]=()=>{const _0x2d3648=_0x2d255c;showConfirmation(_0x2d3648(0xbd1),async()=>{const _0x735235=_0x2d3648;await updateDoc(doc(db,'artifacts/'+appId+_0x735235(0x4f6),currentLiveGameId),{'status':_0x735235(0x382)});});});}}async function handleGenerateParallelFromBank(_0x15c797){const _0x28ed0b=_0x4a882c,_0x3b91ab=document[_0x28ed0b(0x81d)]('results-tab-content'),_0x2cbc2f=document[_0x28ed0b(0x81d)](_0x28ed0b(0x1ed));_0x2cbc2f[_0x28ed0b(0xdd2)][_0x28ed0b(0x87d)]('hidden');const _0x5cf872=_0x28ed0b(0xced)+_0x15c797[_0x28ed0b(0x755)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3b91ab[_0x28ed0b(0x91f)](_0x28ed0b(0x6c4),_0x5cf872);const _0x25ff43=document[_0x28ed0b(0x81d)]('temp-loader-text-results');try{const _0x29b369=_0x15c797[_0x28ed0b(0x277)][_0x28ed0b(0x7d8)]((_0x218b5f,_0x26cc46)=>{const _0x4be316=_0x28ed0b;let _0x4503=_0x26cc46+0x1+'.\x20'+(_0x218b5f[_0x4be316(0x2c5)]||_0x218b5f[_0x4be316(0x592)])+'\x0a';if(_0x218b5f['options'])_0x4503+=_0x218b5f[_0x4be316(0x1b5)]['map']((_0x2b3dd5,_0x15a5bc)=>_0x4be316(0xbcc)+(_0x15a5bc===_0x218b5f[_0x4be316(0x1dc)]?'[*]':'')+'\x20'+_0x2b3dd5)[_0x4be316(0x343)]('\x0a');else _0x218b5f[_0x4be316(0x6ef)]&&(_0x4503+=_0x4be316(0xc7c)+_0x218b5f[_0x4be316(0x6ef)]);return _0x4503;})['join']('\x0a\x0a');_0x25ff43[_0x28ed0b(0xca8)]=_0x28ed0b(0x7c2);const _0x1bd6cb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x15c797[_0x28ed0b(0x755)]+_0x28ed0b(0x742)+_0x29b369+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4cd0c5={'type':_0x28ed0b(0x252),'properties':{'questionText':{'type':_0x28ed0b(0xcc5)},'questionType':{'type':_0x28ed0b(0xcc5),'enum':[_0x28ed0b(0xca9),_0x28ed0b(0x2bb),_0x28ed0b(0x559),'matching_item']},'options':{'type':_0x28ed0b(0x1de),'items':{'type':_0x28ed0b(0xcc5)}},'correctAnswerIndex':{'type':_0x28ed0b(0xd79)},'idealAnswer':{'type':_0x28ed0b(0xcc5)},'correctAnswer':{'type':_0x28ed0b(0xac5)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x28ed0b(0x1de),'items':{'type':_0x28ed0b(0xcc5)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x28ed0b(0x211),'explanation']},_0x32e795={'type':_0x28ed0b(0x252),'properties':{'topic':{'type':_0x28ed0b(0xcc5)},'questions':{'type':_0x28ed0b(0x1de),'items':_0x4cd0c5}},'required':[_0x28ed0b(0x755),_0x28ed0b(0x277)]},_0x2ed619=await callAnalysisApi(_0x1bd6cb,_0x32e795),_0x26e05d=_0x2ed619[_0x28ed0b(0x277)]['map']((_0x3a6b28,_0x193ea9)=>({..._0x3a6b28,'id':'q_'+Date[_0x28ed0b(0x7c1)]()+'_'+_0x193ea9})),_0x282087='(คู่ขนาน)\x20'+_0x15c797[_0x28ed0b(0x755)],_0x38df09={'topic':_0x282087,'questions':_0x26e05d,'quizType':_0x15c797[_0x28ed0b(0xa6b)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x28ed0b(0x31f)](),'status':_0x28ed0b(0x3fc),'settings':_0x15c797[_0x28ed0b(0x7b1)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x224f33;while(!![]){_0x224f33=Math['floor'](0x3e8+Math[_0x28ed0b(0x8c4)]()*0x2328)[_0x28ed0b(0x188)]();const _0x309364=await getDoc(doc(db,_0x28ed0b(0x878)+appId+_0x28ed0b(0x527),_0x224f33));if(!_0x309364[_0x28ed0b(0xb52)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x28ed0b(0x527),_0x224f33),_0x38df09),showMessage(_0x28ed0b(0x241));}catch(_0x260364){console[_0x28ed0b(0x76b)](_0x28ed0b(0x821),_0x260364),showMessage(_0x28ed0b(0x388)+_0x260364[_0x28ed0b(0x752)]);}finally{const _0x232009=document[_0x28ed0b(0x81d)](_0x28ed0b(0xbf5));_0x232009&&_0x232009[_0x28ed0b(0x469)](),_0x2cbc2f[_0x28ed0b(0xdd2)][_0x28ed0b(0x469)](_0x28ed0b(0x35b));}}async function handleGenerateParallelPostTest(_0x217c17){const _0x4c261c=_0x4a882c,_0x54d3d2=document['getElementById'](_0x4c261c(0xa16)),_0x21c80b=document['getElementById'](_0x4c261c(0x1ed));_0x21c80b['classList']['add']('hidden');const _0x4b33fa=_0x4c261c(0xce7);_0x54d3d2[_0x4c261c(0x91f)](_0x4c261c(0x6c4),_0x4b33fa);try{const _0x1cfd51=_0x217c17['questions'][_0x4c261c(0x7d8)]((_0x6204a9,_0x298f6f)=>{const _0x4cd104=_0x4c261c;let _0x2eb62f=_0x298f6f+0x1+'.\x20'+(_0x6204a9['questionText']||_0x6204a9[_0x4cd104(0x592)]);if(_0x6204a9['options'])_0x2eb62f+=_0x4cd104(0xc2a)+_0x6204a9[_0x4cd104(0x1b5)][_0x4cd104(0x343)](',\x20');return _0x2eb62f;})[_0x4c261c(0x343)]('\x0a\x0a'),_0x465c71=_0x4c261c(0xce5)+_0x217c17[_0x4c261c(0x755)]+_0x4c261c(0x8ff)+_0x1cfd51+_0x4c261c(0x370)+simpleMathPrompt+_0x4c261c(0x84d),_0x350962={'type':_0x4c261c(0x252),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4c261c(0x1de),'items':{'type':_0x4c261c(0x252),'properties':{'questionText':{'type':_0x4c261c(0xcc5)},'questionType':{'type':_0x4c261c(0xcc5)},'options':{'type':_0x4c261c(0x1de),'items':{'type':_0x4c261c(0xcc5)}},'correctAnswerIndex':{'type':_0x4c261c(0xd79)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4c261c(0xcc5)}},'required':[_0x4c261c(0x2c5),_0x4c261c(0xbd8)]}}},'required':[_0x4c261c(0x755),_0x4c261c(0x277)]},_0xcddb61=await callAnalysisApi(_0x465c71,_0x350962),_0x1cc328=_0x217c17['topic'][_0x4c261c(0xc8d)]('(ก่อนเรียน)','')[_0x4c261c(0x5f6)](),_0x46da24=_0x4c261c(0xe29)+_0x1cc328,_0x3fdfd1={..._0xcddb61,'topic':_0x46da24,'quizType':_0x217c17['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4c261c(0x31f)](),'status':_0x4c261c(0x3fc),'settings':_0x217c17[_0x4c261c(0x7b1)],'quizMode':'post-test','pairedQuizId':_0x217c17['id']};let _0x4ce7d3;while(!![]){_0x4ce7d3=Math[_0x4c261c(0x22a)](0x3e8+Math[_0x4c261c(0x8c4)]()*0x2328)[_0x4c261c(0x188)]();const _0x3d404f=await getDoc(doc(db,_0x4c261c(0x878)+appId+'/public/data/quizzes',_0x4ce7d3));if(!_0x3d404f['exists']())break;}await setDoc(doc(db,_0x4c261c(0x878)+appId+'/public/data/quizzes',_0x4ce7d3),_0x3fdfd1);const _0x11a906=doc(db,_0x4c261c(0x878)+appId+_0x4c261c(0x527),_0x217c17['id']);await updateDoc(_0x11a906,{'pairedQuizId':_0x4ce7d3}),showMessage(_0x4c261c(0x1bc));}catch(_0x53ae6b){console[_0x4c261c(0x76b)](_0x4c261c(0xd1a),_0x53ae6b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x53ae6b['message']);}finally{const _0x1e62cf=document['getElementById']('temp-loader-results');if(_0x1e62cf)_0x1e62cf[_0x4c261c(0x469)]();_0x21c80b[_0x4c261c(0xdd2)][_0x4c261c(0x469)](_0x4c261c(0x35b));}}async function handleGenerateParallelTest(_0x79aa28=null){const _0x4d919e=_0x4a882c;let _0x1559f2=_0x79aa28;if(!_0x1559f2){const _0x4faf72=document[_0x4d919e(0x81d)](_0x4d919e(0x7aa));_0x4faf72[_0x4d919e(0xb34)][_0x4d919e(0xa96)]>0x0&&(_0x1559f2=_0x4faf72[_0x4d919e(0xb34)][0x0]);}if(!_0x1559f2){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x6a662c=document['getElementById'](_0x4d919e(0x1d1)),_0x568c29=document[_0x4d919e(0x81d)](_0x4d919e(0xe40)),_0x531ffb=document[_0x4d919e(0x81d)](_0x4d919e(0xa19)),_0xf7ed35=document['getElementById'](_0x4d919e(0x7c0));_0xf7ed35[_0x4d919e(0x396)]=!![],document[_0x4d919e(0x81d)](_0x4d919e(0x334))['classList']['remove'](_0x4d919e(0x35b)),_0x531ffb[_0x4d919e(0x8ea)]='',_0x6a662c[_0x4d919e(0xdd2)][_0x4d919e(0x469)](_0x4d919e(0x35b)),_0x568c29[_0x4d919e(0xca8)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x3a10de=new FileReader();_0x3a10de[_0x4d919e(0x5f3)](_0x1559f2),_0x3a10de[_0x4d919e(0x817)]=async()=>{const _0xa20cd1=_0x4d919e;try{const _0x50e317=_0x3a10de[_0xa20cd1(0xe83)][_0xa20cd1(0x9b4)](',')[0x1],_0x2c67b2=_0x1559f2[_0xa20cd1(0x451)];_0x568c29[_0xa20cd1(0xca8)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x416ce3=document['getElementById'](_0xa20cd1(0x8de))['checked'],_0x505d15=_0x416ce3?_0xa20cd1(0x6eb):'',_0x5bcc07=_0xa20cd1(0x733),_0x318f60={'type':_0xa20cd1(0x252),'properties':{'questionText':{'type':_0xa20cd1(0xcc5)},'questionType':{'type':_0xa20cd1(0xcc5),'enum':[_0xa20cd1(0xca9),_0xa20cd1(0x2bb)]},'options':{'type':_0xa20cd1(0x1de),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xa20cd1(0xd79)},'idealAnswer':{'type':_0xa20cd1(0xcc5)},'explanation':{'type':_0xa20cd1(0xcc5)},'imageCode':{'type':_0xa20cd1(0xcc5)}},'required':[_0xa20cd1(0x2c5),_0xa20cd1(0x211),_0xa20cd1(0xbd8)]},_0x8aba37={'type':_0xa20cd1(0x252),'properties':{'topic':{'type':_0xa20cd1(0xcc5)},'questions':{'type':_0xa20cd1(0x1de),'items':_0x318f60}},'required':[_0xa20cd1(0x755),_0xa20cd1(0x277)]},_0x58ad6d=[{'text':_0x5bcc07},{'inlineData':{'mimeType':_0x2c67b2,'data':_0x50e317}}];await handleApiCall(_0x58ad6d,_0xa20cd1(0xc4f),_0x8aba37);}catch(_0x59a67b){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x59a67b),showMessage(_0xa20cd1(0x388)+_0x59a67b[_0xa20cd1(0x752)]),_0x531ffb[_0xa20cd1(0x8ea)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x6a662c[_0xa20cd1(0xdd2)][_0xa20cd1(0x87d)]('hidden'),_0xf7ed35['disabled']=![];}},_0x3a10de['onerror']=_0x383567=>{const _0x325a3f=_0x4d919e;console['error'](_0x325a3f(0x37d),_0x383567),showMessage(_0x325a3f(0x3a6)),_0x6a662c['classList']['add']('hidden'),_0xf7ed35[_0x325a3f(0x396)]=![];};}async function handleRegenerateQuestionInEditor(_0x404e1c){const _0x4074f1=_0x4a882c;if(currentEditingQuizData===null)return;const _0x2d0393=document[_0x4074f1(0x869)](_0x4074f1(0x8a2)+_0x404e1c+'\x22]');_0x2d0393&&(_0x2d0393[_0x4074f1(0x8ea)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x387cc2=currentEditingQuizData[_0x4074f1(0x277)][_0x404e1c],_0x4fe9b3=currentEditingQuizData[_0x4074f1(0x755)],_0x3c0e62=_0x387cc2['questionType'],_0x50fe77={'type':_0x4074f1(0x252),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4074f1(0xcc5)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4074f1(0xcc5)}},'required':[_0x4074f1(0x2c5),_0x4074f1(0x1b5),_0x4074f1(0x1dc),_0x4074f1(0xbd8)]},_0x3bf463={'type':'OBJECT','properties':{'questionText':{'type':_0x4074f1(0xcc5)},'idealAnswer':{'type':_0x4074f1(0xcc5)},'explanation':{'type':_0x4074f1(0xcc5)}},'required':[_0x4074f1(0x2c5),'idealAnswer','explanation']};let _0x34aeab,_0x1550ac='';_0x3c0e62==='multiple_choice'?(_0x34aeab=_0x50fe77,_0x1550ac=_0x4074f1(0x42b)):(_0x34aeab=_0x3bf463,_0x1550ac=_0x4074f1(0x2f3));const _0x4cc4b8=_0x4074f1(0x9e4)+_0x4fe9b3+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x1550ac+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x387cc2[_0x4074f1(0x2c5)]||_0x387cc2['stem'])+_0x4074f1(0x3b3)+simpleMathPrompt;try{const _0x501702=await callAnalysisApi(_0x4cc4b8,_0x34aeab);currentEditingQuizData[_0x4074f1(0x277)][_0x404e1c]={..._0x387cc2,..._0x501702},renderQuizEditor(currentEditingQuizData);}catch(_0x1b1171){console[_0x4074f1(0x76b)](_0x4074f1(0x1e2),_0x1b1171),showMessage(_0x4074f1(0x63b)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x45eb91=_0x4a882c,_0x31cbdb=document[_0x45eb91(0x81d)](_0x45eb91(0x701));currentMode===_0x45eb91(0x711)?(currentMode=_0x45eb91(0x3de),_0x31cbdb[_0x45eb91(0x8ea)]=_0x45eb91(0x901),_0x31cbdb[_0x45eb91(0xad6)]='สลับไปโหมดนักเรียน',showView('admin-dashboard')):(currentMode=_0x45eb91(0x711),_0x31cbdb[_0x45eb91(0x8ea)]=_0x45eb91(0x41d),_0x31cbdb[_0x45eb91(0xad6)]=_0x45eb91(0x662),showView('student'));}function handleAdminLogin(){const _0x4745a8=_0x4a882c,_0x35bfd4=document[_0x4745a8(0x81d)](_0x4745a8(0x814)),_0x4abf8e=document[_0x4745a8(0x81d)]('password-error-msg');if(_0x35bfd4[_0x4745a8(0x710)]===_0x4745a8(0xbd0)){adminPasswordModal[_0x4745a8(0xdd2)][_0x4745a8(0x87d)]('hidden'),_0x35bfd4[_0x4745a8(0x710)]='',_0x4abf8e[_0x4745a8(0xdd2)][_0x4745a8(0x87d)](_0x4745a8(0x35b)),currentMode=_0x4745a8(0x3de);const _0xf39f4c=document[_0x4745a8(0x81d)](_0x4745a8(0x701));_0xf39f4c[_0x4745a8(0x8ea)]=_0x4745a8(0x901),_0xf39f4c[_0x4745a8(0xad6)]=_0x4745a8(0xb84),showView(_0x4745a8(0xe2e));}else _0x4abf8e['classList'][_0x4745a8(0x469)](_0x4745a8(0x35b)),_0x35bfd4[_0x4745a8(0x710)]='';}function switchProjectTab(_0x1f4d4c){const _0x2a04f5=_0x4a882c;[_0x2a04f5(0xb0d),_0x2a04f5(0x27a),_0x2a04f5(0x804)]['forEach'](_0x52ff24=>{const _0x340cb4=_0x2a04f5;document[_0x340cb4(0x81d)](_0x52ff24+_0x340cb4(0xbd6))[_0x340cb4(0xdd2)][_0x340cb4(0x469)](_0x340cb4(0x3fc)),document[_0x340cb4(0x81d)](_0x52ff24+_0x340cb4(0x951))[_0x340cb4(0xdd2)][_0x340cb4(0x87d)](_0x340cb4(0x35b));}),document['getElementById'](_0x1f4d4c+_0x2a04f5(0xbd6))['classList'][_0x2a04f5(0x87d)](_0x2a04f5(0x3fc)),document[_0x2a04f5(0x81d)](_0x1f4d4c+_0x2a04f5(0x951))[_0x2a04f5(0xdd2)][_0x2a04f5(0x469)](_0x2a04f5(0x35b));}function switchQuizDetailTab(_0x4848b3){const _0x5aa2ed=_0x4a882c,_0x37021a={'analytics':{'btn':_0x5aa2ed(0xa22),'content':_0x5aa2ed(0x961)},'scores':{'btn':'scores-tab-btn','content':_0x5aa2ed(0xaa8)},'leaderboard-quiz':{'btn':_0x5aa2ed(0x62c),'content':_0x5aa2ed(0x90d)},'behavior-log':{'btn':_0x5aa2ed(0x6ad),'content':'behavior-log-tab-content'}};for(const _0x18955f in _0x37021a){document[_0x5aa2ed(0x81d)](_0x37021a[_0x18955f][_0x5aa2ed(0x46d)])[_0x5aa2ed(0xdd2)]['remove'](_0x5aa2ed(0x3fc)),document[_0x5aa2ed(0x81d)](_0x37021a[_0x18955f]['content'])[_0x5aa2ed(0xdd2)]['add']('hidden');}document[_0x5aa2ed(0x81d)](_0x37021a[_0x4848b3][_0x5aa2ed(0x46d)])[_0x5aa2ed(0xdd2)][_0x5aa2ed(0x87d)]('active'),document[_0x5aa2ed(0x81d)](_0x37021a[_0x4848b3][_0x5aa2ed(0x305)])[_0x5aa2ed(0xdd2)][_0x5aa2ed(0x469)](_0x5aa2ed(0x35b));}function showMessage(_0x541f52,_0x3ad7b7=null){const _0x4c57dc=_0x4a882c;modalMessage[_0x4c57dc(0x8ea)]=_0x541f52[_0x4c57dc(0xc8d)](/\n/g,'<br>'),modalConfirmAction=_0x3ad7b7,messageModal[_0x4c57dc(0xdd2)]['remove']('hidden');}function showConfirmation(_0x517093,_0xcb8af0,_0x31f0a4=null){const _0x3aea58=_0x4a882c;document[_0x3aea58(0x81d)](_0x3aea58(0xcb5))['textContent']=_0x517093,document[_0x3aea58(0x81d)](_0x3aea58(0x29e))[_0x3aea58(0x869)]('h3')[_0x3aea58(0xca8)]=_0x3aea58(0x6fd),confirmAction=_0xcb8af0,cancelAction=_0x31f0a4,confirmationModal[_0x3aea58(0xdd2)][_0x3aea58(0x469)](_0x3aea58(0x35b));}function listenForProjects(){const _0x116f46=_0x4a882c,_0x3b932c=doc(db,_0x116f46(0xafb),_0x116f46(0x198));onSnapshot(_0x3b932c,_0x643f8b=>{const _0x424a50=_0x116f46;if(_0x643f8b[_0x424a50(0xb52)]()){const _0x5762db=_0x643f8b['data']();globalDashboardSettings['projectSort']=_0x5762db[_0x424a50(0x553)]||_0x424a50(0x290),globalDashboardSettings[_0x424a50(0x87a)]=_0x5762db[_0x424a50(0x87a)]||[],globalDashboardSettings['projectOrder']=_0x5762db[_0x424a50(0x59f)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x252136=collection(db,'artifacts/'+appId+_0x116f46(0x468));unsubscribeProjectsListener=onSnapshot(_0x252136,_0x3dbf02=>{const _0x2b6e1c=_0x116f46;allProjects=_0x3dbf02[_0x2b6e1c(0x9b1)][_0x2b6e1c(0x7d8)](_0x19425b=>({'id':_0x19425b['id'],..._0x19425b[_0x2b6e1c(0xc66)]()})),renderProjects();},_0x4223f6=>{const _0x1c32cf=_0x116f46;console['error'](_0x1c32cf(0xa55),_0x4223f6),showMessage(_0x1c32cf(0x406));});}function showColorPalette(_0x292258,_0x333727){const _0x5b9e5a=_0x4a882c;document[_0x5b9e5a(0xbec)](_0x5b9e5a(0x5be))[_0x5b9e5a(0xdc3)](_0xbaf734=>_0xbaf734[_0x5b9e5a(0x469)]());const _0xb9c23b=[_0x5b9e5a(0xc25),_0x5b9e5a(0x55f),'#FEF3C7',_0x5b9e5a(0x52d),_0x5b9e5a(0xdae),'#E0E7FF',_0x5b9e5a(0xe65),_0x5b9e5a(0xa6e),_0x5b9e5a(0x3ae)],_0x5f3f24=document[_0x5b9e5a(0xdc8)]('div');_0x5f3f24['className']=_0x5b9e5a(0xaa9),_0xb9c23b[_0x5b9e5a(0xdc3)](_0xe721cb=>{const _0x40d8c6=_0x5b9e5a,_0x57ae50=document['createElement']('div');_0x57ae50[_0x40d8c6(0xc8f)]=_0x40d8c6(0x591),_0x57ae50['style'][_0x40d8c6(0xb88)]=_0xe721cb,_0x57ae50[_0x40d8c6(0x843)](_0x40d8c6(0x864),()=>{const _0x43ef0e=_0x40d8c6;handleProjectColorChange(_0x333727,_0xe721cb),_0x5f3f24[_0x43ef0e(0x469)]();}),_0x5f3f24['appendChild'](_0x57ae50);}),document['body']['appendChild'](_0x5f3f24);const _0x145a2b=_0x292258[_0x5b9e5a(0x605)]();_0x5f3f24[_0x5b9e5a(0xe1e)][_0x5b9e5a(0x490)]=_0x145a2b[_0x5b9e5a(0x72f)]+window[_0x5b9e5a(0x8e6)]+'px',_0x5f3f24[_0x5b9e5a(0xe1e)]['left']=_0x145a2b['left']+window[_0x5b9e5a(0xe2f)]-_0x5f3f24[_0x5b9e5a(0x4b3)]/0x2+'px';}async function handleProjectColorChange(_0x5377a2,_0xc6d716){const _0x75dffe=_0x4a882c,_0xfc5aa=doc(db,_0x75dffe(0x878)+appId+'/public/data/projects',_0x5377a2);try{await updateDoc(_0xfc5aa,{'color':_0xc6d716});}catch(_0x1bfd0e){console[_0x75dffe(0x76b)](_0x75dffe(0x375),_0x1bfd0e),showMessage(_0x75dffe(0x93b));}}async function renderProjects(){const _0x125ff2=_0x4a882c,_0x249098=globalDashboardSettings[_0x125ff2(0x553)]||_0x125ff2(0x290),_0xdad382=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x1df32c=globalDashboardSettings[_0x125ff2(0xb86)]||'grid',_0x1636c4=document['getElementById'](_0x125ff2(0x3b2)),_0x596cc8=document[_0x125ff2(0x81d)](_0x125ff2(0xbbd));_0x1636c4['classList'][_0x125ff2(0x4b1)](_0x125ff2(0x3fc),_0x1df32c===_0x125ff2(0xb57)),_0x596cc8[_0x125ff2(0xdd2)]['toggle'](_0x125ff2(0x3fc),_0x1df32c==='list'),document[_0x125ff2(0x81d)](_0x125ff2(0xd7d))[_0x125ff2(0x710)]=_0x249098;const _0xd6f69b=document['getElementById'](_0x125ff2(0xe8d))['value'][_0x125ff2(0x95d)]();let _0x3ed67b=allProjects[_0x125ff2(0x3d8)](_0x10eb94=>_0x10eb94['projectName'][_0x125ff2(0x95d)]()[_0x125ff2(0x90f)](_0xd6f69b));const _0x2f7148=_0x3ed67b[_0x125ff2(0x3d8)](_0x1828a9=>_0xdad382[_0x125ff2(0x43b)](_0x1828a9['id'])),_0xf8471d=_0x3ed67b['filter'](_0x3414bf=>!_0xdad382[_0x125ff2(0x43b)](_0x3414bf['id'])),_0x5c4bef=(_0x4e0648,_0x5f5528)=>{const _0x458a49=_0x125ff2;switch(_0x249098){case'name_asc':return _0x4e0648[_0x458a49(0xd34)]['localeCompare'](_0x5f5528[_0x458a49(0xd34)],'th');case _0x458a49(0x83d):return _0x5f5528[_0x458a49(0xd34)]['localeCompare'](_0x4e0648[_0x458a49(0xd34)],'th');case _0x458a49(0xb96):return new Date(_0x4e0648['createdAt'])-new Date(_0x5f5528[_0x458a49(0x37c)]);default:return new Date(_0x5f5528[_0x458a49(0x37c)])-new Date(_0x4e0648['createdAt']);}};_0x2f7148[_0x125ff2(0x6c8)](_0x5c4bef),_0xf8471d[_0x125ff2(0x6c8)](_0x5c4bef);const _0x4d5063=[..._0x2f7148,..._0xf8471d],_0x24ecb6=globalDashboardSettings['projectOrder']||[];_0x24ecb6[_0x125ff2(0xa96)]>0x0&&_0x1df32c===_0x125ff2(0xb57)&&_0x4d5063[_0x125ff2(0x6c8)]((_0x209471,_0x7b18f)=>{const _0x77a9a6=_0x125ff2,_0x1d8e15=_0x24ecb6[_0x77a9a6(0x894)](_0x209471['id']),_0x363c80=_0x24ecb6[_0x77a9a6(0x894)](_0x7b18f['id']);if(_0x1d8e15===-0x1)return 0x1;if(_0x363c80===-0x1)return-0x1;return _0x1d8e15-_0x363c80;});const _0x289648={};await Promise[_0x125ff2(0xde1)](_0x4d5063[_0x125ff2(0x7d8)](async _0x159d37=>{const _0x28e933=_0x125ff2,_0x2d0990=query(collection(db,_0x28e933(0x878)+appId+_0x28e933(0x527)),where(_0x28e933(0xc9b),'==',_0x159d37['id'])),_0x248d9a=await getDocs(_0x2d0990);_0x289648[_0x159d37['id']]=_0x248d9a[_0x28e933(0x7fe)];}));const _0x172f3e=document[_0x125ff2(0x81d)](_0x125ff2(0x30a));let _0x29e33a='';if(_0x1df32c===_0x125ff2(0xb57)){_0x172f3e[_0x125ff2(0xc8f)]=_0x125ff2(0x753);if(starredQuizzes[_0x125ff2(0xa96)]>0x0&&_0xd6f69b===''){const _0x50d692=starredQuizzes[_0x125ff2(0x7d8)](_0x2f3035=>{const _0x56f432=_0x125ff2,_0x2f5261=allProjects[_0x56f432(0xa74)](_0x5fb48f=>_0x5fb48f['id']===_0x2f3035[_0x56f432(0xc9b)]);return{..._0x2f3035,'projectName':_0x2f5261?_0x2f5261[_0x56f432(0xd34)]:_0x56f432(0x700)};});_0x29e33a+=_0x125ff2(0x5fe)+_0x50d692[_0x125ff2(0x7d8)](_0x144481=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x144481['topic']+'\x22>'+_0x144481[_0x125ff2(0x755)]+_0x125ff2(0x67b)+_0x144481[_0x125ff2(0xd34)]+_0x125ff2(0xd01)+_0x144481[_0x125ff2(0xd34)]+_0x125ff2(0x35d))[_0x125ff2(0x343)]('')+_0x125ff2(0x3b0)+starredQuizzes['length']+_0x125ff2(0x255);}_0x4d5063[_0x125ff2(0xdc3)](_0x135662=>{const _0x46d7d4=_0x125ff2,_0x340f66=_0x289648[_0x135662['id']]??0x0,_0x334905=_0xdad382[_0x46d7d4(0x43b)](_0x135662['id']),_0x597d50=_0x135662['color']||_0x46d7d4(0xc25),_0x473092=parseInt(_0x597d50[_0x46d7d4(0xbdd)](0x1,0x3),0x10)*0.299+parseInt(_0x597d50[_0x46d7d4(0xbdd)](0x3,0x5),0x10)*0.587+parseInt(_0x597d50[_0x46d7d4(0xbdd)](0x5,0x7),0x10)*0.114<0xba,_0x58e4df=_0x473092?'text-white':_0x46d7d4(0x936),_0x9fd7fa=_0x473092?_0x46d7d4(0x1e7):_0x46d7d4(0xd51);_0x29e33a+=_0x46d7d4(0xc40)+(_0x334905?_0x46d7d4(0xe4f):_0x46d7d4(0x688))+_0x46d7d4(0x28b)+_0x597d50+_0x46d7d4(0x498)+_0x135662['id']+_0x46d7d4(0x4c5)+_0x135662['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x473092?_0x46d7d4(0x7ab):_0x46d7d4(0x722))+_0x46d7d4(0xb0f)+_0x135662['id']+_0x46d7d4(0x531)+(_0x473092?_0x46d7d4(0x7ab):_0x46d7d4(0x722))+_0x46d7d4(0xe76)+(_0x334905?_0x473092?_0x46d7d4(0x61c):_0x46d7d4(0xc54):'')+_0x46d7d4(0x46a)+_0x135662['id']+_0x46d7d4(0xa2f)+_0x58e4df+_0x46d7d4(0x9a4)+_0x135662[_0x46d7d4(0xd34)]+_0x46d7d4(0x1e9)+_0x9fd7fa+_0x46d7d4(0xe4c)+new Date(_0x135662['createdAt'])[_0x46d7d4(0x8fb)](_0x46d7d4(0x98b))+_0x46d7d4(0x234)+(_0x473092?'text-gray-100':_0x46d7d4(0x72b))+_0x46d7d4(0x879)+_0x340f66+_0x46d7d4(0x5f4)+_0x135662['id']+_0x46d7d4(0x247)+_0x135662['projectName']+'\x22\x20class=\x22delete-project-btn\x20'+(_0x473092?_0x46d7d4(0x58c):_0x46d7d4(0xc10))+_0x46d7d4(0x292);});}else _0x172f3e[_0x125ff2(0xc8f)]=_0x125ff2(0xaf2),starredQuizzes['length']>0x0&&_0xd6f69b===''&&(_0x29e33a+=_0x125ff2(0xda3)+starredQuizzes[_0x125ff2(0xa96)]+_0x125ff2(0xae3)),_0x29e33a+=_0x125ff2(0xdd4),_0x4d5063[_0x125ff2(0xdc3)](_0x7e7f1f=>{const _0x58b792=_0x125ff2,_0x244dab=_0x289648[_0x7e7f1f['id']]??0x0,_0x50cfb4=_0xdad382[_0x58b792(0x43b)](_0x7e7f1f['id']);_0x29e33a+=_0x58b792(0xa6d)+(_0x7e7f1f['color']||_0x58b792(0x3ae))+_0x58b792(0xcde)+_0x7e7f1f['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x7e7f1f[_0x58b792(0xd34)]+_0x58b792(0x7a9)+_0x244dab+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x7e7f1f[_0x58b792(0x37c)])[_0x58b792(0x828)]('th-TH')+_0x58b792(0xd46)+_0x7e7f1f['id']+_0x58b792(0x1ab)+(_0x50cfb4?_0x58b792(0xc54):'')+_0x58b792(0x60a)+_0x7e7f1f['id']+_0x58b792(0x247)+_0x7e7f1f[_0x58b792(0xd34)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x125ff2(0x8ea)]=_0x29e33a,noProjectsMsg[_0x125ff2(0xdd2)][_0x125ff2(0x4b1)](_0x125ff2(0x35b),_0x29e33a[_0x125ff2(0xa96)]>0x0);}document[_0x4a882c(0x81d)](_0x4a882c(0xddf))[_0x4a882c(0x843)]('click',async()=>{const _0x2af93c=_0x4a882c,_0x3f7e60=document[_0x2af93c(0x81d)](_0x2af93c(0xc67)),_0x316c10=_0x3f7e60[_0x2af93c(0x710)][_0x2af93c(0x5f6)]();if(!_0x316c10){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x35adf0=doc(collection(db,_0x2af93c(0x878)+appId+_0x2af93c(0x468)));await setDoc(_0x35adf0,{'projectName':_0x316c10,'students':[],'settings':{'resultsDisplay':_0x2af93c(0x17b),'shuffleSetting':_0x2af93c(0x486),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x2af93c(0x486),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x2af93c(0x31f)]()}),_0x3f7e60['value']='',createProjectModal[_0x2af93c(0xdd2)]['add']('hidden'),showMessage(_0x2af93c(0x49e));}catch(_0x1fcb44){console[_0x2af93c(0x76b)](_0x2af93c(0xaa1),_0x1fcb44),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x4a882c(0x864),async _0x49b03c=>{const _0x3c1405=_0x4a882c,_0x409f95=_0x49b03c[_0x3c1405(0xca1)][_0x3c1405(0x9d0)](_0x3c1405(0xa73)),_0xf4d2bb=_0x49b03c['target'][_0x3c1405(0x9d0)](_0x3c1405(0xe2d)),_0x6cf768=_0x49b03c['target'][_0x3c1405(0x9d0)](_0x3c1405(0xba7)),_0x14505f=_0x49b03c[_0x3c1405(0xca1)][_0x3c1405(0x9d0)](_0x3c1405(0x3ca));if(_0x6cf768){const _0x4efbf6=_0x6cf768[_0x3c1405(0x33e)]['id'],_0x4742c4=doc(db,_0x3c1405(0xafb),_0x3c1405(0x198)),_0x24ed64=globalDashboardSettings['pinnedProjects'];let _0x5c44d0;_0x24ed64['includes'](_0x4efbf6)?_0x5c44d0=_0x24ed64[_0x3c1405(0x3d8)](_0x1e4d9e=>_0x1e4d9e!==_0x4efbf6):_0x5c44d0=[..._0x24ed64,_0x4efbf6];try{await setDoc(_0x4742c4,{'pinnedProjects':_0x5c44d0},{'merge':!![]});}catch(_0x16972d){console[_0x3c1405(0x76b)](_0x3c1405(0x780),_0x16972d),showMessage(_0x3c1405(0xaa3));}}else{if(_0x14505f){const _0x5df803=_0x14505f[_0x3c1405(0x33e)]['id'];showColorPalette(_0x14505f,_0x5df803);}else{if(_0x409f95){const _0xd9f8be=_0x409f95[_0x3c1405(0x33e)]['id'];_0xd9f8be===_0x3c1405(0x1c5)?showStarredProjectView():(currentProjectId=_0xd9f8be,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0xf4d2bb){const _0xf732e7=_0xf4d2bb[_0x3c1405(0x33e)]['id'],_0x281753=_0xf4d2bb[_0x3c1405(0x33e)]['name'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x281753+_0x3c1405(0xd57),()=>handleDeleteProject(_0xf732e7));}}}}}),projectList[_0x4a882c(0x843)](_0x4a882c(0x9fc),_0x1f5ca2=>{const _0x34f920=_0x4a882c,_0x398705=_0x1f5ca2[_0x34f920(0xca1)][_0x34f920(0x9d0)]('.project-card-container');_0x398705&&_0x398705[_0x34f920(0xdd2)]['add'](_0x34f920(0xa5a));}),projectList[_0x4a882c(0x843)](_0x4a882c(0x56e),_0x493a88=>{const _0x218d60=_0x4a882c,_0x326aaf=_0x493a88['target'][_0x218d60(0x9d0)]('.project-card-container');_0x326aaf&&_0x326aaf[_0x218d60(0xdd2)][_0x218d60(0x469)]('opacity-50');}),projectList['addEventListener'](_0x4a882c(0x519),_0x3f5bea=>{const _0x2cf950=_0x4a882c;_0x3f5bea['preventDefault']();const _0x108835=document[_0x2cf950(0x869)](_0x2cf950(0x4e7));if(!_0x108835)return;const _0x24682c=getDragAfterElement(projectList,_0x3f5bea[_0x2cf950(0x165)]);_0x24682c==null?projectList[_0x2cf950(0x7f4)](_0x108835):projectList[_0x2cf950(0xd49)](_0x108835,_0x24682c);}),projectList['addEventListener'](_0x4a882c(0xac4),_0x369a41=>{const _0x3279ed=_0x4a882c;_0x369a41['preventDefault']();const _0x49677e=[...projectList[_0x3279ed(0xbec)](_0x3279ed(0xa4b))][_0x3279ed(0x7d8)](_0x4e66c9=>_0x4e66c9[_0x3279ed(0x33e)]['id']);saveProjectOrder(_0x49677e);});function renderBehaviorLog(_0x127ce1){const _0x1580e1=_0x4a882c,_0x405aa0=document[_0x1580e1(0x81d)](_0x1580e1(0xcb0));if(!_0x405aa0)return;const _0x27f00c=_0x127ce1[_0x1580e1(0x3d8)](_0x122241=>_0x122241[_0x1580e1(0xae8)]&&_0x122241[_0x1580e1(0xae8)]['length']>0x0);if(_0x27f00c[_0x1580e1(0xa96)]===0x0){_0x405aa0[_0x1580e1(0x8ea)]=_0x1580e1(0x45b);return;}let _0x355093='';_0x27f00c[_0x1580e1(0xdc3)](_0x553023=>{const _0x295c78=_0x1580e1;_0x355093+=_0x295c78(0xaea)+_0x553023[_0x295c78(0xbd9)]+_0x295c78(0x2ea),_0x553023[_0x295c78(0xae8)][_0x295c78(0x6c8)]((_0x59de96,_0x1bde4f)=>new Date(_0x1bde4f[_0x295c78(0xe0a)])-new Date(_0x59de96[_0x295c78(0xe0a)]))[_0x295c78(0xdc3)](_0x28e8a5=>{const _0x1b6561=_0x295c78,_0x52a492=new Date(_0x28e8a5[_0x1b6561(0xe0a)])[_0x1b6561(0x828)]('th-TH',{'dateStyle':_0x1b6561(0xc46),'timeStyle':_0x1b6561(0x40d)});_0x355093+=_0x1b6561(0xb36)+_0x28e8a5[_0x1b6561(0xc78)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x52a492+_0x1b6561(0x657);}),_0x355093+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x405aa0[_0x1580e1(0x8ea)]=_0x355093;}function getDragAfterElement(_0x1be916,_0x12b366){const _0xc73e4b=_0x4a882c,_0x1f8b60=[..._0x1be916['querySelectorAll'](_0xc73e4b(0x302))];return _0x1f8b60['reduce']((_0x5db37d,_0x21775e)=>{const _0x78f877=_0xc73e4b,_0x3a7911=_0x21775e[_0x78f877(0x605)](),_0x2b9e37=_0x12b366-_0x3a7911['top']-_0x3a7911[_0x78f877(0x6f9)]/0x2;return _0x2b9e37<0x0&&_0x2b9e37>_0x5db37d[_0x78f877(0x1c7)]?{'offset':_0x2b9e37,'element':_0x21775e}:_0x5db37d;},{'offset':Number[_0xc73e4b(0x352)]})[_0xc73e4b(0xd45)];}async function saveProjectOrder(_0x1204a2){const _0x401d85=_0x4a882c,_0x55467c=doc(db,_0x401d85(0xafb),'dashboardConfig');try{await setDoc(_0x55467c,{'projectOrder':_0x1204a2},{'merge':!![]});}catch(_0x363b07){console[_0x401d85(0x76b)](_0x401d85(0x5d5),_0x363b07),showMessage(_0x401d85(0x537));}}async function logBehaviorEvent(_0x2789f0,_0x215b78={}){const _0x48136c=_0x4a882c;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x48136c(0x8a6));return;}const _0x4822a6=doc(db,_0x48136c(0x878)+appId+_0x48136c(0x491)+currentQuizData['id']+'/submissions',currentStudentName),_0x566e51={'event':_0x2789f0,'timestamp':new Date()[_0x48136c(0x31f)](),..._0x215b78};try{await updateDoc(_0x4822a6,{'behaviorLog':arrayUnion(_0x566e51)}),console[_0x48136c(0x792)](_0x48136c(0xdb7)+currentStudentName+_0x48136c(0x4ac));}catch(_0x1d9879){_0x1d9879[_0x48136c(0xb90)]===_0x48136c(0xe69)?console[_0x48136c(0x41f)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x48136c(0x75b)):console[_0x48136c(0x76b)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x1d9879);}}function getScoreTier(_0x5659fd,_0x16957f){const _0x1771fa=_0x4a882c;if(_0x16957f===0x0){if(_0x5659fd===0x0)return{'text':_0x1771fa(0xa4c),'icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0x55a1c8=_0x5659fd/(_0x16957f===0x0?0x1:_0x16957f);if(_0x55a1c8===0x1)return{'text':_0x1771fa(0x8ca),'icon':'👑'};if(_0x55a1c8>=0.7)return{'text':_0x1771fa(0x244),'icon':'🔥'};if(_0x55a1c8>=0.4)return{'text':_0x1771fa(0xd03),'icon':'🏃'};return{'text':_0x1771fa(0xc22),'icon':'😥'};}function calculateMeanAndStdDev(_0x3ff878){const _0x21b29e=_0x4a882c;if(_0x3ff878[_0x21b29e(0xa96)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0xa2f09=_0x3ff878[_0x21b29e(0x68e)]((_0x25bcff,_0x404ba9)=>_0x25bcff+_0x404ba9,0x0)/_0x3ff878[_0x21b29e(0xa96)];if(_0x3ff878['length']===0x1)return{'mean':_0xa2f09,'stdDev':0x0};const _0x2b04d9=Math[_0x21b29e(0xc7b)](_0x3ff878[_0x21b29e(0x7d8)](_0x485c16=>Math['pow'](_0x485c16-_0xa2f09,0x2))[_0x21b29e(0x68e)]((_0x3daadc,_0x5b855e)=>_0x3daadc+_0x5b855e,0x0)/(_0x3ff878['length']-0x1));return{'mean':_0xa2f09,'stdDev':_0x2b04d9};}function calculateZScore(_0x532c4d,_0x3c765f,_0x2003fd){if(_0x2003fd===0x0)return 0x0;return(_0x532c4d-_0x3c765f)/_0x2003fd;}function calculateTScore(_0x3cc9f8){return 0xa*_0x3cc9f8+0x32;}function showStarredProjectView(){const _0x117e11=_0x4a882c;currentProjectId=_0x117e11(0xb40),currentProjectData=null,projectTitle[_0x117e11(0xca8)]=_0x117e11(0xa7b),projectIdDisplay[_0x117e11(0xca8)]=_0x117e11(0x989),showView(_0x117e11(0x777)),manageTab[_0x117e11(0xdd2)][_0x117e11(0x87d)]('hidden'),leaderboardTab[_0x117e11(0xdd2)][_0x117e11(0x87d)](_0x117e11(0x35b)),switchProjectTab(_0x117e11(0x27a)),renderQuizzes();}async function loadProjectDetails(_0x37eb13){const _0xee2bb7=_0x4a882c,_0x26d047=doc(db,'artifacts/'+appId+_0xee2bb7(0x468),_0x37eb13),_0x1ad372=await getDoc(_0x26d047);if(_0x1ad372['exists']()){manageTab[_0xee2bb7(0xdd2)]['remove'](_0xee2bb7(0x35b)),leaderboardTab[_0xee2bb7(0xdd2)][_0xee2bb7(0x469)](_0xee2bb7(0x35b)),currentProjectData=_0x1ad372['data'](),projectTitle['textContent']=currentProjectData[_0xee2bb7(0xd34)],projectIdDisplay[_0xee2bb7(0xca8)]=_0x37eb13;const _0x3ab463=currentProjectData['settings']||{};document[_0xee2bb7(0x81d)](_0xee2bb7(0x5d7))['value']=_0x3ab463['shuffleSetting']||_0xee2bb7(0x486);const _0x4547c9=document[_0xee2bb7(0x81d)](_0xee2bb7(0x1cb));_0x4547c9['checked']=_0x3ab463[_0xee2bb7(0x7c3)]!==![];const _0xd4c263=document[_0xee2bb7(0x81d)](_0xee2bb7(0x937)),_0x4a9c0b=document[_0xee2bb7(0x81d)](_0xee2bb7(0x4ad)),_0x27aa47=document['getElementById'](_0xee2bb7(0x3c0)),_0x3794ac=_0x3ab463['isPasscodeEnabled']||![];_0xd4c263[_0xee2bb7(0x600)]=_0x3794ac,_0x27aa47[_0xee2bb7(0x710)]=_0x3ab463[_0xee2bb7(0x976)]||'',_0x4a9c0b[_0xee2bb7(0xdd2)][_0xee2bb7(0x4b1)]('hidden',!_0x3794ac),_0xd4c263[_0xee2bb7(0x926)]=()=>{const _0x33d3f3=_0xee2bb7;_0x4a9c0b[_0x33d3f3(0xdd2)][_0x33d3f3(0x4b1)](_0x33d3f3(0x35b),!_0xd4c263[_0x33d3f3(0x600)]);},document[_0xee2bb7(0x81d)](_0xee2bb7(0x86c))[_0xee2bb7(0x600)]=_0x3ab463[_0xee2bb7(0xda2)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x37eb13),listenForProjectQuizzes(_0x37eb13),listenForStudentProfiles(_0x37eb13);}else showMessage(_0xee2bb7(0x2b3)),showView(_0xee2bb7(0xe2e));}async function handleResetProjectOrder(){const _0x5bdc07=_0x4a882c,_0x3e963b=doc(db,'globalSettings',_0x5bdc07(0x198));try{await setDoc(_0x3e963b,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0xc3aacf){console[_0x5bdc07(0x76b)](_0x5bdc07(0xa36),_0xc3aacf),showMessage(_0x5bdc07(0x70a));}}async function handleTogglePinProject(_0x5e5ac8){const _0x269f38=_0x4a882c;if(!_0x5e5ac8)return;const _0x299a9a=doc(db,_0x269f38(0x878)+appId+_0x269f38(0x468),_0x5e5ac8);try{const _0x4f5f74=await getDoc(_0x299a9a);if(_0x4f5f74[_0x269f38(0xb52)]()){const _0x2e0789=_0x4f5f74['data']()[_0x269f38(0xc9a)]||![];await updateDoc(_0x299a9a,{'isPinned':!_0x2e0789});}}catch(_0x161fec){console[_0x269f38(0x76b)](_0x269f38(0xbe5),_0x161fec),showMessage(_0x269f38(0xaa3));}}async function handleDeleteProject(_0xf532ff){const _0x3ffebc=_0x4a882c;try{const _0x5cfddc=writeBatch(db),_0x279b98=collection(db,_0x3ffebc(0x878)+appId+'/public/data/quizzes'),_0x57aeaa=query(_0x279b98,where(_0x3ffebc(0xc9b),'==',_0xf532ff)),_0x3b792f=await getDocs(_0x57aeaa);for(const _0x531880 of _0x3b792f[_0x3ffebc(0x9b1)]){const _0x3f5276=collection(db,'artifacts/'+appId+_0x3ffebc(0x491)+_0x531880['id']+_0x3ffebc(0xc06)),_0x489536=await getDocs(_0x3f5276);_0x489536[_0x3ffebc(0xdc3)](_0x37fd58=>{const _0x3b23e2=_0x3ffebc;_0x5cfddc[_0x3b23e2(0x31e)](_0x37fd58[_0x3b23e2(0xa15)]);}),_0x5cfddc['delete'](_0x531880['ref']);}const _0x4a4811=collection(db,_0x3ffebc(0x878)+appId+_0x3ffebc(0x9f1)+_0xf532ff+_0x3ffebc(0x6ca)),_0x4a34ce=await getDocs(_0x4a4811);_0x4a34ce[_0x3ffebc(0xdc3)](_0x3836ff=>{const _0x29a973=_0x3ffebc;_0x5cfddc[_0x29a973(0x31e)](_0x3836ff[_0x29a973(0xa15)]);});const _0x3cc2b8=doc(db,'artifacts/'+appId+'/public/data/projects',_0xf532ff);_0x5cfddc[_0x3ffebc(0x31e)](_0x3cc2b8),await _0x5cfddc[_0x3ffebc(0x8be)](),showMessage(_0x3ffebc(0xb8e)),showView('admin-dashboard');}catch(_0x117759){console[_0x3ffebc(0x76b)](_0x3ffebc(0x77a),_0x117759),showMessage(_0x3ffebc(0x8ce));}}document[_0x4a882c(0x81d)](_0x4a882c(0xaa5))['addEventListener'](_0x4a882c(0x864),async()=>{const _0x1b55bf=_0x4a882c;if(!currentProjectId)return;const _0x2a2d81={'defaultNumQuestions':parseInt(document[_0x1b55bf(0x81d)](_0x1b55bf(0xc51))[_0x1b55bf(0x710)]),'defaultNumChoices':parseInt(document[_0x1b55bf(0x81d)]('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x1b55bf(0x81d)](_0x1b55bf(0x8a9))['value']),'resultsDisplay':document[_0x1b55bf(0x81d)](_0x1b55bf(0x9fa))[_0x1b55bf(0x710)],'shuffleSetting':document[_0x1b55bf(0x81d)](_0x1b55bf(0x5d7))['value'],'timerMode':document[_0x1b55bf(0x81d)](_0x1b55bf(0xe22))[_0x1b55bf(0x710)],'timerDuration':parseInt(document[_0x1b55bf(0x81d)](_0x1b55bf(0x1d6))[_0x1b55bf(0x710)]),'isConfidenceScoringEnabled':document['getElementById']('confidence-scoring-checkbox')[_0x1b55bf(0x600)],'confidenceMode':document[_0x1b55bf(0x81d)]('confidence-mode-select')[_0x1b55bf(0x710)]};try{const _0x1a93a8=doc(db,_0x1b55bf(0x878)+appId+_0x1b55bf(0x468),currentProjectId);await updateDoc(_0x1a93a8,{'settings':_0x2a2d81}),showMessage(_0x1b55bf(0x7f5));}catch(_0x43ed0d){console[_0x1b55bf(0x76b)](_0x1b55bf(0xdb2),_0x43ed0d),showMessage(_0x1b55bf(0xc01));}});function listenForStudents(_0x137c2b){const _0x1bd3c9=_0x4a882c,_0xc4fe96=doc(db,_0x1bd3c9(0x878)+appId+_0x1bd3c9(0x468),_0x137c2b);unsubscribeStudentsListener=onSnapshot(_0xc4fe96,_0x5ed061=>{const _0x54b8dd=_0x1bd3c9;if(_0x5ed061[_0x54b8dd(0xb52)]()){const _0xc5d059=_0x5ed061[_0x54b8dd(0xc66)]();currentProjectData=_0xc5d059,renderStudentList(_0xc5d059[_0x54b8dd(0x881)]||[]);}});}function renderStudentList(_0xb67f2a){const _0x454057=_0x4a882c,_0x4b3fda=document[_0x454057(0x81d)](_0x454057(0x269));_0xb67f2a[_0x454057(0xa96)]===0x0?(studentList[_0x454057(0x8ea)]=_0x454057(0x90a),_0x4b3fda[_0x454057(0xdd2)][_0x454057(0x87d)](_0x454057(0x35b))):(studentList['innerHTML']=_0xb67f2a[_0x454057(0x7d8)](_0x41bc82=>_0x454057(0xa63)+_0x41bc82+_0x454057(0x278)+_0x41bc82+_0x454057(0x2b0))['join'](''),_0x4b3fda['classList']['remove'](_0x454057(0x35b)));}document[_0x4a882c(0x81d)](_0x4a882c(0x185))[_0x4a882c(0x843)](_0x4a882c(0x864),async()=>{const _0x50c2f2=_0x4a882c;if(!currentProjectId)return;const _0x58b809=document[_0x50c2f2(0x81d)](_0x50c2f2(0x8d4)),_0xaffdc1=_0x58b809[_0x50c2f2(0x710)]['trim']();if(!_0xaffdc1){showMessage(_0x50c2f2(0x223));return;}const _0xe43c2f=_0xaffdc1[_0x50c2f2(0x9b4)]('\x0a')[_0x50c2f2(0x7d8)](_0x1f36f6=>_0x1f36f6[_0x50c2f2(0x5f6)]())[_0x50c2f2(0x3d8)](_0x5486f5=>_0x5486f5);if(_0xe43c2f[_0x50c2f2(0xa96)]===0x0)return;try{const _0xd93435=doc(db,'artifacts/'+appId+_0x50c2f2(0x468),currentProjectId),_0x3e6dff=await getDoc(_0xd93435);if(_0x3e6dff[_0x50c2f2(0xb52)]()){const _0x514855=_0x3e6dff[_0x50c2f2(0xc66)]()[_0x50c2f2(0x881)]||[],_0x91fa5c=[...new Set([..._0x514855,..._0xe43c2f])];await updateDoc(_0xd93435,{'students':_0x91fa5c}),_0x58b809[_0x50c2f2(0x710)]='';}}catch(_0x4310df){console[_0x50c2f2(0x76b)](_0x50c2f2(0x72d),_0x4310df),showMessage(_0x50c2f2(0xa69));}});async function handleManualQuizPairing(_0x4b5e3d){const _0x9305bc=_0x4a882c,_0x2f4385=document[_0x9305bc(0x81d)](_0x9305bc(0x52f)),_0x6e0997=document[_0x9305bc(0x81d)]('move-quiz-project-select'),_0x5da9a9=_0x2f4385[_0x9305bc(0x869)]('h3'),_0x32af01=document[_0x9305bc(0x81d)](_0x9305bc(0x73f)),_0x245774=document[_0x9305bc(0x81d)](_0x9305bc(0x663));_0x5da9a9[_0x9305bc(0xca8)]=_0x9305bc(0x7c8),_0x6e0997[_0x9305bc(0x8ea)]=_0x9305bc(0xc7e),_0x32af01['textContent']=_0x9305bc(0x203),_0x2f4385[_0x9305bc(0xdd2)][_0x9305bc(0x469)](_0x9305bc(0x35b));const _0x3e083a=allQuizzes[_0x9305bc(0x3d8)](_0x34dcd9=>_0x34dcd9['id']!==_0x4b5e3d);_0x3e083a[_0x9305bc(0xa96)]===0x0?(_0x6e0997[_0x9305bc(0x8ea)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x32af01[_0x9305bc(0x396)]=!![]):(_0x6e0997['innerHTML']=_0x9305bc(0x9a2)+_0x3e083a[_0x9305bc(0x7d8)](_0x2c2f0a=>_0x9305bc(0x3f7)+_0x2c2f0a['id']+'\x22>'+_0x2c2f0a[_0x9305bc(0x755)]+_0x9305bc(0xb03))[_0x9305bc(0x343)](''),_0x32af01[_0x9305bc(0x396)]=![]);const _0x534272=async()=>{const _0x4698c7=_0x9305bc,_0xfbf3f6=_0x6e0997[_0x4698c7(0x710)];if(!_0xfbf3f6){showMessage(_0x4698c7(0x720));return;}_0x32af01[_0x4698c7(0x396)]=!![],_0x32af01[_0x4698c7(0xca8)]=_0x4698c7(0xd6b);try{const _0x86e926=doc(db,_0x4698c7(0x878)+appId+_0x4698c7(0x527),_0x4b5e3d),_0x577b88=doc(db,_0x4698c7(0x878)+appId+_0x4698c7(0x527),_0xfbf3f6),_0x180070=writeBatch(db);_0x180070[_0x4698c7(0x243)](_0x86e926,{'pairedQuizId':_0xfbf3f6}),_0x180070[_0x4698c7(0x243)](_0x577b88,{'pairedQuizId':_0x4b5e3d}),await _0x180070[_0x4698c7(0x8be)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x2f4385[_0x4698c7(0xdd2)][_0x4698c7(0x87d)](_0x4698c7(0x35b));}catch(_0x1aed45){console[_0x4698c7(0x76b)](_0x4698c7(0x5b7),_0x1aed45),showMessage(_0x4698c7(0x74e));}finally{_0x5da9a9['textContent']=_0x4698c7(0x5cd),_0x32af01['textContent']=_0x4698c7(0x759),_0x32af01[_0x4698c7(0x396)]=![],_0x32af01['removeEventListener'](_0x4698c7(0x864),_0x534272),_0x245774[_0x4698c7(0x599)]('click',_0x4b1c34);}},_0x4b1c34=()=>{const _0x52a995=_0x9305bc;_0x2f4385[_0x52a995(0xdd2)][_0x52a995(0x87d)](_0x52a995(0x35b)),_0x5da9a9[_0x52a995(0xca8)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x32af01[_0x52a995(0xca8)]=_0x52a995(0x759),_0x32af01[_0x52a995(0x599)](_0x52a995(0x864),_0x534272),_0x245774[_0x52a995(0x599)]('click',_0x4b1c34);};_0x32af01['addEventListener'](_0x9305bc(0x864),_0x534272),_0x245774['addEventListener'](_0x9305bc(0x864),_0x4b1c34);}function handleDeleteStudent(_0x62140e){const _0x31e096=_0x4a882c;showConfirmation(_0x31e096(0xd09)+_0x62140e+_0x31e096(0x3ed),async()=>{const _0x585023=_0x31e096;if(!currentProjectId||!currentProjectData)return;const _0x34aebd=currentProjectData[_0x585023(0x881)][_0x585023(0x3d8)](_0x287ae4=>_0x287ae4!==_0x62140e);try{const _0x93296a=doc(db,_0x585023(0x878)+appId+'/public/data/projects',currentProjectId),_0x1b2417=doc(db,_0x585023(0x878)+appId+_0x585023(0x9f1)+currentProjectId+'/studentProfiles',_0x62140e),_0x453b8f=writeBatch(db);_0x453b8f[_0x585023(0x243)](_0x93296a,{'students':_0x34aebd}),_0x453b8f[_0x585023(0x31e)](_0x1b2417),await _0x453b8f[_0x585023(0x8be)]();}catch(_0x5649ba){console[_0x585023(0x76b)](_0x585023(0xa68),_0x5649ba),showMessage(_0x585023(0x190));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x526d2a=_0x2fbb;if(!currentProjectId)return;try{const _0x451118=doc(db,_0x526d2a(0x878)+appId+'/public/data/projects',currentProjectId),_0x93d435=collection(db,_0x526d2a(0x878)+appId+_0x526d2a(0x9f1)+currentProjectId+'/studentProfiles'),_0x2fd11b=await getDocs(_0x93d435),_0x2a2da2=writeBatch(db);_0x2a2da2['update'](_0x451118,{'students':[]}),_0x2fd11b[_0x526d2a(0xdc3)](_0x2ba2cb=>_0x2a2da2[_0x526d2a(0x31e)](_0x2ba2cb['ref'])),await _0x2a2da2[_0x526d2a(0x8be)]();}catch(_0x4c3755){console['error']('Error\x20deleting\x20all\x20students:',_0x4c3755),showMessage(_0x526d2a(0x6de));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x2d1838){const _0x595a64=_0x4a882c,_0x4c8ead=document[_0x595a64(0x81d)](_0x595a64(0x444)),_0x4046cb=document[_0x595a64(0x81d)](_0x595a64(0xa90));_0x4c8ead[_0x595a64(0xdd2)]['remove'](_0x595a64(0x35b)),_0x4046cb[_0x595a64(0x8ea)]=_0x595a64(0x65f);try{const _0x2ce9d6=new FileReader();_0x2ce9d6[_0x595a64(0x5f3)](_0x2d1838),await new Promise((_0x4bfa3f,_0x2d14f9)=>{const _0x39b51b=_0x595a64;_0x2ce9d6[_0x39b51b(0x817)]=()=>{const _0x399065=_0x39b51b;fileDataBase64=_0x2ce9d6[_0x399065(0xe83)][_0x399065(0x9b4)](',')[0x1],fileMimeType=_0x2d1838[_0x399065(0x451)],_0x4bfa3f();},_0x2ce9d6[_0x39b51b(0x308)]=_0x4d7b28=>_0x2d14f9(_0x4d7b28);});if(!fileDataBase64)throw new Error(_0x595a64(0x648));const _0x48f3c7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3bc97c={'type':'OBJECT','properties':{'topics':{'type':_0x595a64(0x1de),'items':{'type':_0x595a64(0xcc5)}}},'required':['topics']},_0x140acf=[{'text':_0x48f3c7},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0xcb3ef8=await handleApiCall(_0x140acf,_0x595a64(0x4ee),_0x3bc97c,null,![]);if(_0xcb3ef8&&_0xcb3ef8[_0x595a64(0x94a)])extractedFileTopics=_0xcb3ef8['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x53bf3a){console[_0x595a64(0x76b)](_0x595a64(0x8ed),_0x53bf3a),_0x4046cb['innerHTML']=_0x595a64(0xda0)+_0x53bf3a[_0x595a64(0x752)]+_0x595a64(0x9e5);}}function renderFileTopics(){const _0x128612=_0x4a882c,_0x5af4a8=document[_0x128612(0x81d)](_0x128612(0xa90));if(extractedFileTopics[_0x128612(0xa96)]===0x0){_0x5af4a8['innerHTML']=_0x128612(0xa9a);return;}_0x5af4a8[_0x128612(0x8ea)]=extractedFileTopics['map'](_0x40cd9a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x40cd9a+_0x128612(0x25b)+escape(_0x40cd9a)+_0x128612(0x706)+escape(_0x40cd9a)+_0x128612(0x893))[_0x128612(0x343)]('');}async function generateHybridQuizForTopic(_0x5b8691){const _0x3c65fc=_0x4a882c,_0x15cea9=parseInt(document[_0x3c65fc(0x81d)](_0x3c65fc(0xc51))[_0x3c65fc(0x710)],0xa),_0x2b3738=document[_0x3c65fc(0x81d)](_0x3c65fc(0x510))[_0x3c65fc(0x710)],_0xa4f332=document['getElementById'](_0x3c65fc(0x96d))[_0x3c65fc(0x710)],_0x4cab08=document['getElementById']('include-images-checkbox')['checked'],_0xf82090=_0x4cab08?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':_0x3c65fc(0x49d);let _0x52b17c='',_0x1829f4;const _0x8231b4={'type':_0x3c65fc(0x252),'properties':{'questionText':{'type':_0x3c65fc(0xcc5)},'options':{'type':'ARRAY','items':{'type':_0x3c65fc(0xcc5)}},'correctAnswerIndex':{'type':_0x3c65fc(0xd79)},'explanation':{'type':_0x3c65fc(0xcc5)},'imageCode':{'type':'STRING'}},'required':[_0x3c65fc(0x2c5),'options','correctAnswerIndex',_0x3c65fc(0xbd8)]},_0x34ceb4={'type':_0x3c65fc(0x252),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x3c65fc(0xac5)},'explanation':{'type':_0x3c65fc(0xcc5)},'imageCode':{'type':'STRING'}},'required':[_0x3c65fc(0x2c5),_0x3c65fc(0x87b),'explanation']},_0x247bef={'type':_0x3c65fc(0x252),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3c65fc(0xcc5)},'imageCode':{'type':_0x3c65fc(0xcc5)}},'required':[_0x3c65fc(0x2c5),_0x3c65fc(0x6ef),'explanation']},_0x1aefb4={'type':_0x3c65fc(0x252),'properties':{'questionType':{'type':_0x3c65fc(0xcc5),'enum':['matching_item']},'stem':{'type':_0x3c65fc(0xcc5)},'correctResponse':{'type':_0x3c65fc(0xcc5)},'allResponses':{'type':_0x3c65fc(0x1de),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3c65fc(0xcc5)}},'required':[_0x3c65fc(0x211),_0x3c65fc(0x592),'correctResponse',_0x3c65fc(0x27e),_0x3c65fc(0xbd8)]};switch(_0x2b3738){case _0x3c65fc(0xca9):_0x52b17c=_0x3c65fc(0x6a5)+_0xa4f332+'\x20ตัวเลือก)',_0x1829f4=_0x8231b4;break;case _0x3c65fc(0x559):_0x52b17c='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x1829f4=_0x34ceb4;break;case'fill_in_no_choices':_0x52b17c=_0x3c65fc(0x3af),_0x1829f4=_0x247bef;break;case _0x3c65fc(0xce0):_0x52b17c=_0x3c65fc(0xd31),_0x1829f4=_0x1aefb4;break;case _0x3c65fc(0xcbd):_0x52b17c=_0x3c65fc(0xd72)+_0xa4f332+'\x20ตัวเลือก)',_0x1829f4=_0x8231b4;break;default:_0x52b17c=_0x3c65fc(0x6a5)+_0xa4f332+_0x3c65fc(0x470),_0x1829f4=_0x8231b4;break;}const _0x37c8c8='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x380435=document['getElementById'](_0x3c65fc(0x1d1)),_0x3ebd45=document[_0x3c65fc(0x81d)](_0x3c65fc(0xe40)),_0x3068b5=document[_0x3c65fc(0x81d)](_0x3c65fc(0xa19));document[_0x3c65fc(0x81d)](_0x3c65fc(0x334))[_0x3c65fc(0xdd2)]['remove']('hidden'),_0x3068b5['innerHTML']='',_0x380435[_0x3c65fc(0xdd2)]['remove'](_0x3c65fc(0x35b)),_0x3ebd45[_0x3c65fc(0xca8)]=_0x3c65fc(0x939)+_0x5b8691+_0x3c65fc(0xd85)+_0x15cea9+_0x3c65fc(0x1ea);try{const _0x1f33b1=_0x3c65fc(0x77f),_0x2d9f7d=_0x3c65fc(0x73c)+_0x5b8691+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x15cea9+_0x3c65fc(0x228)+_0x5b8691+_0x3c65fc(0xdf4)+_0x15cea9+_0x3c65fc(0x68b)+_0xf82090+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0x52b17c+_0x3c65fc(0x56a)+_0x37c8c8+_0x3c65fc(0x6a9)+_0x1f33b1+_0x3c65fc(0x76a)+simpleMathPrompt+_0x3c65fc(0x84d),_0x149524={'type':_0x3c65fc(0x252),'properties':{'topic':{'type':_0x3c65fc(0xcc5)},'questions':{'type':_0x3c65fc(0x1de),'items':_0x1829f4}},'required':['topic',_0x3c65fc(0x277)]},_0x925a02=[{'text':_0x2d9f7d},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x925a02,'กำลังสร้างแบบทดสอบ\x20\x22'+_0x5b8691+_0x3c65fc(0xd24),_0x149524);}catch(_0x31463d){console[_0x3c65fc(0x76b)]('Error\x20generating\x20hybrid\x20quiz:',_0x31463d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x31463d[_0x3c65fc(0x752)]),_0x3068b5[_0x3c65fc(0x8ea)]=_0x3c65fc(0xcdd);}finally{_0x380435['classList'][_0x3c65fc(0x87d)](_0x3c65fc(0x35b));}}async function handleGenerateFromFileClick(){const _0x15cad5=_0x4a882c;if(!selectedFile){showMessage(_0x15cad5(0x16c));return;}const _0x2dae0e=document[_0x15cad5(0x81d)](_0x15cad5(0x1d1)),_0x534bb2=document[_0x15cad5(0x81d)]('loader-text'),_0x2ebfd0=document['getElementById'](_0x15cad5(0xa19)),_0x2bf83b=document[_0x15cad5(0x81d)](_0x15cad5(0xc0e));_0x2bf83b['disabled']=!![],document[_0x15cad5(0x81d)]('quiz-generation-area')[_0x15cad5(0xdd2)][_0x15cad5(0x469)](_0x15cad5(0x35b)),_0x2ebfd0[_0x15cad5(0x8ea)]='',_0x2dae0e[_0x15cad5(0xdd2)][_0x15cad5(0x469)]('hidden'),_0x534bb2[_0x15cad5(0xca8)]=_0x15cad5(0xdee);try{const _0x3d0e8b=await new Promise((_0x461941,_0x2a4eb5)=>{const _0x28d48a=_0x15cad5,_0x5b7a8c=new FileReader();_0x5b7a8c[_0x28d48a(0x5f3)](selectedFile),_0x5b7a8c[_0x28d48a(0x817)]=()=>_0x461941(_0x5b7a8c['result'][_0x28d48a(0x9b4)](',')[0x1]),_0x5b7a8c[_0x28d48a(0x308)]=_0x3ac6cb=>_0x2a4eb5(_0x3ac6cb);});await generateQuizFromFile(selectedFile[_0x15cad5(0x451)],_0x3d0e8b);}catch(_0x1cf7d1){console['error'](_0x15cad5(0xafe),_0x1cf7d1),showMessage(_0x15cad5(0xb0e)+_0x1cf7d1[_0x15cad5(0x752)]),_0x2dae0e[_0x15cad5(0xdd2)][_0x15cad5(0x87d)](_0x15cad5(0x35b)),_0x2bf83b['disabled']=![];}}function autoFormatMath(_0x199523){const _0x5ced73=_0x4a882c;if(typeof _0x199523!=='string'||!_0x199523)return _0x199523;const _0x20ef62=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x401237=_0x199523[_0x5ced73(0xc8d)](_0x20ef62,_0x182b64=>{const _0x2df981=_0x5ced73;return'$'+_0x182b64[_0x2df981(0x5f6)]()+'$';});return _0x401237;}function sanitizeQuizData(_0x24ee73){const _0x5ba277=_0x4a882c;if(!_0x24ee73||!_0x24ee73['questions'])return _0x24ee73;const _0x415a2d={'imes':_0x5ba277(0x9d6),'div':_0x5ba277(0x930)},_0x2271af=_0x180706=>{const _0xc7f965=_0x5ba277;if(typeof _0x180706!==_0xc7f965(0xa6a))return _0x180706;let _0x1bcfd9=_0x180706;for(const [_0x4c32ed,_0x2e7ef0]of Object[_0xc7f965(0x26d)](_0x415a2d)){const _0x201bbd=new RegExp('\x5cb'+_0x4c32ed+'\x5cb','g');_0x1bcfd9=_0x1bcfd9[_0xc7f965(0xc8d)](_0x201bbd,_0x2e7ef0);}return _0x1bcfd9=_0x1bcfd9[_0xc7f965(0xc8d)](/\\\//g,'\x5cdiv'),_0x1bcfd9=_0x1bcfd9['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0xc7f965(0x930))[_0xc7f965(0xc8d)](/<(i|em)>\s*times\s*<\/\1>/gi,_0xc7f965(0x9d6))[_0xc7f965(0xc8d)](/÷/g,_0xc7f965(0x930))[_0xc7f965(0xc8d)](/×/g,_0xc7f965(0x9d6)),_0x1bcfd9=_0x1bcfd9[_0xc7f965(0xc8d)](/(\d)(\\frac)/g,_0xc7f965(0x4c6)),_0x1bcfd9=autoFormatMath(_0x1bcfd9),_0x1bcfd9;};return _0x24ee73[_0x5ba277(0x755)]&&(_0x24ee73[_0x5ba277(0x755)]=_0x2271af(_0x24ee73['topic'])),_0x24ee73['questions'][_0x5ba277(0xdc3)](_0x9a50e7=>{const _0x29b5c3=_0x5ba277;_0x9a50e7[_0x29b5c3(0x2c5)]=_0x2271af(_0x9a50e7['questionText']),_0x9a50e7[_0x29b5c3(0x1b5)]&&(_0x9a50e7['options']=_0x9a50e7[_0x29b5c3(0x1b5)]['map'](_0x2271af)),_0x9a50e7[_0x29b5c3(0xbd8)]&&(_0x9a50e7[_0x29b5c3(0xbd8)]=_0x2271af(_0x9a50e7['explanation'])),_0x9a50e7['stem']&&(_0x9a50e7[_0x29b5c3(0x592)]=_0x2271af(_0x9a50e7[_0x29b5c3(0x592)])),_0x9a50e7[_0x29b5c3(0x6b7)]&&(_0x9a50e7[_0x29b5c3(0x6b7)]=_0x2271af(_0x9a50e7[_0x29b5c3(0x6b7)])),_0x9a50e7[_0x29b5c3(0x27e)]&&(_0x9a50e7[_0x29b5c3(0x27e)]=_0x9a50e7[_0x29b5c3(0x27e)][_0x29b5c3(0x7d8)](_0x2271af));}),_0x24ee73;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x1d3f6d=_0x4a882c,_0x12cfa6=document[_0x1d3f6d(0x81d)](_0x1d3f6d(0x540)),_0x3e7f31=document[_0x1d3f6d(0x81d)](_0x1d3f6d(0xc6b)),_0xd64f16=_0x12cfa6['value'][_0x1d3f6d(0x5f6)](),_0x351f5f=_0x3e7f31[_0x1d3f6d(0x710)]['trim']();if(!_0xd64f16){showMessage(_0x1d3f6d(0x441));return;}const _0x2140ae=document[_0x1d3f6d(0x81d)](_0x1d3f6d(0x1d1)),_0x364a67=document[_0x1d3f6d(0x81d)](_0x1d3f6d(0xe40)),_0x28e164=document['getElementById'](_0x1d3f6d(0xa19)),_0x16d348=document[_0x1d3f6d(0x81d)]('generate-from-link-btn');document[_0x1d3f6d(0x81d)](_0x1d3f6d(0x334))['classList']['remove']('hidden'),_0x28e164[_0x1d3f6d(0x8ea)]='',_0x2140ae[_0x1d3f6d(0xdd2)]['remove'](_0x1d3f6d(0x35b)),_0x364a67[_0x1d3f6d(0xca8)]=_0x1d3f6d(0x6c3),_0x16d348[_0x1d3f6d(0x396)]=!![];try{const _0x31e75d=_0x1d3f6d(0x798)+encodeURIComponent(_0xd64f16),_0x3e4e7c=await fetch(_0x31e75d);if(!_0x3e4e7c['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x3e4e7c['status']+')');const _0x462f9e=await _0x3e4e7c[_0x1d3f6d(0x95b)](),_0x1cb711=extractTextFromHtml(_0x462f9e);if(!_0x1cb711||_0x1cb711[_0x1d3f6d(0xa96)]<0x64)throw new Error(_0x1d3f6d(0x7e6));await generateQuiz(_0x351f5f,_0x1cb711);}catch(_0x1b4d92){console[_0x1d3f6d(0x76b)]('Error\x20generating\x20from\x20link:',_0x1b4d92),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1b4d92[_0x1d3f6d(0x752)]),_0x28e164[_0x1d3f6d(0x8ea)]=_0x1d3f6d(0x5e6);}finally{_0x2140ae['classList']['add']('hidden'),_0x16d348[_0x1d3f6d(0x396)]=![];}}function extractTextFromHtml(_0xea920b){const _0x4880a1=_0x4a882c,_0x1742f2=new DOMParser()[_0x4880a1(0x3bd)](_0xea920b,'text/html');return _0x1742f2[_0x4880a1(0xbec)](_0x4880a1(0x71c))['forEach'](_0x497c26=>_0x497c26[_0x4880a1(0x469)]()),_0x1742f2[_0x4880a1(0x8c1)]['textContent']||'';}document[_0x4a882c(0x81d)](_0x4a882c(0x54e))[_0x4a882c(0x843)](_0x4a882c(0x864),()=>{const _0x15e724=_0x4a882c,_0xaf903e=document[_0x15e724(0x81d)](_0x15e724(0x482))['value'][_0x15e724(0x5f6)]();generateQuiz(_0xaf903e,null);}),document[_0x4a882c(0x81d)](_0x4a882c(0xdb9))[_0x4a882c(0x843)](_0x4a882c(0x864),()=>{const _0x37cbb7=_0x4a882c,_0x155ead=document['getElementById']('text-content-input')[_0x37cbb7(0x710)][_0x37cbb7(0x5f6)]();if(!_0x155ead){showMessage(_0x37cbb7(0xa7d));return;}const _0x10cfe6=document['getElementById']('topic-input')['value'][_0x37cbb7(0x5f6)]();generateQuiz(_0x10cfe6,_0x155ead);});async function generateQuiz(_0x1b66de,_0x1ed6c3,_0x4841ea=null,_0x88398e=null,_0x5819a5=![],_0xc0e906=null,_0x572688=null,_0x1432fa=![]){const _0x550a05=_0x4a882c;let _0x3285f5={};if(_0x5819a5&&blueprintPageSettings)_0x3285f5=blueprintPageSettings;else{const _0x56e2c9=document[_0x550a05(0xbec)]('#math-topics-checkbox-container\x20input:checked');_0x3285f5={'quizType':document['getElementById'](_0x550a05(0x510))[_0x550a05(0x710)],'numQuestions':document[_0x550a05(0x81d)](_0x550a05(0xc51))[_0x550a05(0x710)],'numChoices':document['getElementById']('num-choices')[_0x550a05(0x710)],'includeImages':document[_0x550a05(0x81d)](_0x550a05(0x8de))[_0x550a05(0x600)],'isNormalTopic':document['getElementById'](_0x550a05(0x439))[_0x550a05(0x600)],'difficultyValue':document[_0x550a05(0x81d)]('difficulty-level-select')[_0x550a05(0x710)],'complexityValue':document['getElementById'](_0x550a05(0xc5a))[_0x550a05(0x710)],'selectedTopicNames':Array[_0x550a05(0xab3)](_0x56e2c9)[_0x550a05(0x7d8)](_0x157986=>_0x157986[_0x550a05(0x710)])};}const _0x11901f=_0x3285f5['isNormalTopic']?'':_0x550a05(0x38c),_0x49cdb7=_0x3285f5[_0x550a05(0x249)]!==_0x550a05(0x55e)?_0x550a05(0x2f7)+_0x3285f5[_0x550a05(0x249)]+'\x22':'',_0x465760=_0x3285f5[_0x550a05(0x18d)]!=='mixed'?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x3285f5[_0x550a05(0x18d)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x508938='';_0x3285f5[_0x550a05(0xa8c)]&&_0x3285f5[_0x550a05(0xa8c)][_0x550a05(0xa96)]>0x0&&(_0x508938=_0x550a05(0x6c5)+_0x3285f5[_0x550a05(0xa8c)][_0x550a05(0x343)](',\x20')+'.');let _0x278da7='';_0x88398e&&(_0x278da7=_0x550a05(0x279));let _0x4370e5='',_0x44244b='',_0x230851,_0x3de479=_0x550a05(0x501)+_0x1b66de+'\x22';if(!_0x1b66de&&_0x1ed6c3)_0x3de479=_0x550a05(0x336);else!_0x1b66de&&!_0x1ed6c3&&(_0x3de479=_0x550a05(0x532));const _0x1dbc70={'type':_0x550a05(0x252),'properties':{'questionText':{'type':_0x550a05(0xcc5)},'options':{'type':'ARRAY','items':{'type':_0x550a05(0xcc5)}},'correctAnswerIndex':{'type':_0x550a05(0xd79)},'explanation':{'type':_0x550a05(0xcc5)},'imageCode':{'type':_0x550a05(0xcc5)}},'required':[_0x550a05(0x2c5),_0x550a05(0x1b5),_0x550a05(0x1dc),_0x550a05(0xbd8)]},_0x3ba9d8={'type':_0x550a05(0x252),'properties':{'questionText':{'type':_0x550a05(0xcc5)},'idealAnswer':{'type':_0x550a05(0xcc5)},'explanation':{'type':_0x550a05(0xcc5)},'imageCode':{'type':_0x550a05(0xcc5)}},'required':['questionText',_0x550a05(0x6ef),_0x550a05(0xbd8)]},_0x893984={'type':_0x550a05(0x252),'properties':{'questionText':{'type':_0x550a05(0xcc5)},'questionType':{'type':_0x550a05(0xcc5),'enum':[_0x550a05(0xca9),_0x550a05(0x2bb)]},'options':{'type':_0x550a05(0x1de),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x550a05(0xd79)},'idealAnswer':{'type':_0x550a05(0xcc5)},'explanation':{'type':_0x550a05(0xcc5)},'imageCode':{'type':'STRING'}},'required':[_0x550a05(0x2c5),_0x550a05(0x211),_0x550a05(0xbd8)]},_0x1cf40d={'type':_0x550a05(0x252),'properties':{'questionText':{'type':_0x550a05(0xcc5)},'correctAnswer':{'type':_0x550a05(0xac5)},'explanation':{'type':_0x550a05(0xcc5)},'imageCode':{'type':_0x550a05(0xcc5)}},'required':[_0x550a05(0x2c5),_0x550a05(0x87b),_0x550a05(0xbd8)]},_0x35fa7c={'type':_0x550a05(0x252),'properties':{'questionType':{'type':_0x550a05(0xcc5),'enum':[_0x550a05(0x7d3)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x550a05(0xcc5)},'allResponses':{'type':_0x550a05(0x1de),'items':{'type':'STRING'}},'explanation':{'type':_0x550a05(0xcc5)},'imageCode':{'type':_0x550a05(0xcc5)}},'required':['questionType','stem',_0x550a05(0x6b7),_0x550a05(0x27e),_0x550a05(0xbd8)]};let _0x95a950;if(_0x4841ea!==null){const _0xd919a6=currentQuizData[_0x550a05(0x277)][_0x4841ea]['questionType'],_0x23d551=_0x3285f5[_0x550a05(0x448)]?_0x550a05(0x3e6):'';_0x4370e5=_0x550a05(0x9e9)+_0x3de479+'\x20'+_0x508938+'\x20'+_0x49cdb7+_0x550a05(0x5a0)+_0x23d551+'\x20'+simpleMathPrompt;if(_0xd919a6===_0x550a05(0xca9))_0x230851=_0x1dbc70;else{if(_0xd919a6===_0x550a05(0x7d3))_0x230851={'type':_0x550a05(0x252),'properties':{'questionType':{'type':_0x550a05(0xcc5),'enum':[_0x550a05(0x7d3)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x550a05(0xcc5)},'explanation':{'type':_0x550a05(0xcc5)},'imageCode':{'type':_0x550a05(0xcc5)}},'required':[_0x550a05(0x211),_0x550a05(0x592),_0x550a05(0x6b7),_0x550a05(0xbd8)]};else _0x230851=_0x3ba9d8;}_0x95a950=_0x230851;}else{const _0xa03c73=_0x3285f5['includeImages']?_0x550a05(0x7ca):'';switch(_0x3285f5[_0x550a05(0xa6b)]){case _0x550a05(0xca9):_0x4370e5=_0x550a05(0xbf4)+_0x11901f+'\x20'+_0x3285f5[_0x550a05(0x6f7)]+'\x20ข้อ\x20'+_0x3de479+'\x20'+_0x508938+'\x20'+_0x49cdb7+'\x20'+_0x465760+'\x20'+_0x278da7+_0x550a05(0x401)+_0x3285f5['numChoices']+_0x550a05(0xae2)+_0xa03c73+'\x20'+simpleMathPrompt,_0x230851=_0x1dbc70;break;case _0x550a05(0xcbd):_0x4370e5=_0x550a05(0x7b6)+_0x11901f+'\x20'+_0x3285f5['numQuestions']+_0x550a05(0x2f2)+_0x3de479+'\x20'+_0x508938+'\x20'+_0x49cdb7+'\x20'+_0x465760+'\x20'+_0x278da7+_0x550a05(0x494)+_0x3285f5['numChoices']+_0x550a05(0x546)+_0xa03c73+'\x20'+simpleMathPrompt,_0x230851=_0x1dbc70;break;case _0x550a05(0xe4b):_0x4370e5=_0x550a05(0x7b6)+_0x11901f+'\x20'+_0x3285f5['numQuestions']+'\x20ข้อ\x20'+_0x3de479+'\x20'+_0x508938+'\x20'+_0x49cdb7+'\x20'+_0x465760+'\x20'+_0x278da7+_0x550a05(0x9e3)+_0xa03c73+'\x20'+simpleMathPrompt,_0x230851=_0x3ba9d8;break;case _0x550a05(0x2d1):_0x4370e5=_0x550a05(0xe02)+_0x11901f+'\x20'+_0x3285f5[_0x550a05(0x6f7)]+_0x550a05(0x2f2)+_0x3de479+'\x20'+_0x508938+'\x20'+_0x49cdb7+'\x20'+_0x465760+'\x20'+_0x278da7+_0x550a05(0x4e9)+_0x3285f5[_0x550a05(0xdf6)]+_0x550a05(0x17e)+_0xa03c73+'\x20'+simpleMathPrompt+'.',_0x230851=_0x893984;break;case'true_false':_0x4370e5=_0x550a05(0xcf2)+_0x11901f+'\x20'+_0x3285f5[_0x550a05(0x6f7)]+_0x550a05(0x2f2)+_0x3de479+'\x20'+_0x508938+'\x20'+_0x49cdb7+'\x20'+_0x465760+'\x20'+_0x278da7+_0x550a05(0x1d8)+_0xa03c73+'\x20'+simpleMathPrompt,_0x230851=_0x1cf40d;break;case _0x550a05(0xce0):_0x4370e5='สร้างชุดคำถามจับคู่'+_0x11901f+'\x20'+_0x3285f5[_0x550a05(0x6f7)]+_0x550a05(0x874)+_0x3de479+'\x20'+_0x508938+'\x20'+_0x49cdb7+'\x20'+_0x465760+'\x20'+_0x278da7+_0x550a05(0x8da)+_0xa03c73+'\x20'+simpleMathPrompt,_0x230851=_0x35fa7c;break;}_0x95a950={'type':_0x550a05(0x252),'properties':{'topic':{'type':_0x550a05(0xcc5)},'questions':{'type':_0x550a05(0x1de),'items':_0x230851}},'required':[_0x550a05(0x755),_0x550a05(0x277)]};}const _0x3fb023='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0x1ed6c3?(_0x1432fa?_0x4370e5=_0x550a05(0x174)+_0x1ed6c3+_0x550a05(0x5b0)+_0x4370e5+_0x3fb023:_0x4370e5=_0x550a05(0x174)+_0x1ed6c3+_0x550a05(0x5b0)+_0x4370e5,_0x44244b=_0x550a05(0xbbe)):(_0x1432fa&&(_0x4370e5+=_0x3fb023),_0x44244b=_0x550a05(0x9d7));let _0x561361;return _0x88398e?(_0x561361=[{'text':_0x4370e5},..._0x88398e],_0x44244b=_0x550a05(0x54f)):_0x561361=_0x4370e5,handleApiCall(_0x561361,_0x44244b,_0x95a950,_0x4841ea,!![],_0xc0e906,_0x572688);}async function generateQuizFromFile(_0x166e63,_0x4ca056){const _0x41900a=_0x4a882c,_0x16d9d0=document[_0x41900a(0x81d)]('file-topic-input')[_0x41900a(0x710)][_0x41900a(0x5f6)](),_0x434f17=document[_0x41900a(0x81d)](_0x41900a(0x510))[_0x41900a(0x710)],_0x4600ad=document[_0x41900a(0x81d)]('num-questions')['value'],_0x364e87=document[_0x41900a(0x81d)](_0x41900a(0x96d))[_0x41900a(0x710)],_0x19656a=document[_0x41900a(0x81d)](_0x41900a(0x8de))[_0x41900a(0x600)],_0x326b6d=document[_0x41900a(0x81d)]('force-math-checkbox')[_0x41900a(0x600)],_0x1730b8=_0x326b6d?'':'คณิตศาสตร์',_0x10fd90=document['getElementById'](_0x41900a(0x326))[_0x41900a(0x600)];let _0x24f4a3='',_0x117c77;const _0x207df0=_0x19656a?_0x41900a(0x7ca):'';if(_0x10fd90)_0x24f4a3=_0x41900a(0x85c)+_0x207df0+'\x0a'+simpleMathPrompt+'\x0a',_0x117c77={'type':_0x41900a(0x252),'properties':{'questionText':{'type':_0x41900a(0xcc5)},'questionType':{'type':_0x41900a(0xcc5),'enum':[_0x41900a(0xca9),'short_answer',_0x41900a(0x559),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x41900a(0xcc5)}},'correctAnswerIndex':{'type':_0x41900a(0xd79)},'idealAnswer':{'type':_0x41900a(0xcc5)},'correctAnswer':{'type':_0x41900a(0xac5)},'stem':{'type':_0x41900a(0xcc5)},'correctResponse':{'type':_0x41900a(0xcc5)},'allResponses':{'type':_0x41900a(0x1de),'items':{'type':_0x41900a(0xcc5)}},'explanation':{'type':_0x41900a(0xcc5)},'imageCode':{'type':_0x41900a(0xcc5)}},'required':[_0x41900a(0x211),_0x41900a(0xbd8)]};else{let _0x3c31ac=_0x41900a(0x501)+_0x16d9d0+'\x22';!_0x16d9d0&&(_0x3c31ac=_0x41900a(0xd92));switch(_0x434f17){case _0x41900a(0xca9):_0x24f4a3=_0x41900a(0xbf4)+_0x1730b8+'\x20'+_0x4600ad+_0x41900a(0x2f2)+_0x3c31ac+'.\x20แต่ละข้อมี\x20'+_0x364e87+_0x41900a(0xae2)+_0x207df0+'\x20'+simpleMathPrompt,_0x117c77={'type':_0x41900a(0x252),'properties':{'questionText':{'type':_0x41900a(0xcc5)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x41900a(0xd79)},'explanation':{'type':_0x41900a(0xcc5)},'imageCode':{'type':'STRING'}},'required':[_0x41900a(0x2c5),'options',_0x41900a(0x1dc),_0x41900a(0xbd8)]};break;case _0x41900a(0xcbd):_0x24f4a3=_0x41900a(0x7b6)+_0x1730b8+'\x20'+_0x4600ad+'\x20ข้อ\x20'+_0x3c31ac+_0x41900a(0x494)+_0x364e87+_0x41900a(0x546)+_0x207df0+'\x20'+simpleMathPrompt,_0x117c77={'type':'OBJECT','properties':{'questionText':{'type':_0x41900a(0xcc5)},'options':{'type':_0x41900a(0x1de),'items':{'type':_0x41900a(0xcc5)}},'correctAnswerIndex':{'type':_0x41900a(0xd79)},'explanation':{'type':_0x41900a(0xcc5)},'imageCode':{'type':'STRING'}},'required':[_0x41900a(0x2c5),_0x41900a(0x1b5),'correctAnswerIndex','explanation']};break;case _0x41900a(0xe4b):_0x24f4a3=_0x41900a(0x7b6)+_0x1730b8+'\x20'+_0x4600ad+_0x41900a(0x2f2)+_0x3c31ac+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x207df0+'\x20'+simpleMathPrompt,_0x117c77={'type':_0x41900a(0x252),'properties':{'questionText':{'type':_0x41900a(0xcc5)},'idealAnswer':{'type':_0x41900a(0xcc5)},'explanation':{'type':_0x41900a(0xcc5)},'imageCode':{'type':_0x41900a(0xcc5)}},'required':[_0x41900a(0x2c5),_0x41900a(0x6ef),_0x41900a(0xbd8)]};break;case'mixed':_0x24f4a3=_0x41900a(0xe02)+_0x1730b8+'\x20'+_0x4600ad+_0x41900a(0x2f2)+_0x3c31ac+_0x41900a(0x358)+_0x364e87+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x207df0+'\x20'+simpleMathPrompt+_0x41900a(0xa27),_0x117c77={'type':_0x41900a(0x252),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x41900a(0xca9),_0x41900a(0x2bb)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x41900a(0xd79)},'idealAnswer':{'type':_0x41900a(0xcc5)},'explanation':{'type':_0x41900a(0xcc5)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x41900a(0x211),_0x41900a(0xbd8)]};break;case'true_false':_0x24f4a3=_0x41900a(0xcf2)+_0x1730b8+'\x20'+_0x4600ad+_0x41900a(0x2f2)+_0x3c31ac+_0x41900a(0x9b9)+_0x207df0+'\x20'+simpleMathPrompt,_0x117c77={'type':_0x41900a(0x252),'properties':{'questionText':{'type':_0x41900a(0xcc5)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x41900a(0xcc5)},'imageCode':{'type':_0x41900a(0xcc5)}},'required':[_0x41900a(0x2c5),_0x41900a(0x87b),_0x41900a(0xbd8)]};break;case _0x41900a(0xce0):_0x24f4a3=_0x41900a(0x5ee)+_0x1730b8+'\x20'+_0x4600ad+'\x20คู่\x20'+_0x3c31ac+_0x41900a(0x438)+_0x4600ad+_0x41900a(0xc97)+_0x207df0+'\x20'+simpleMathPrompt,_0x117c77={'type':_0x41900a(0x252),'properties':{'questionType':{'type':'STRING','enum':[_0x41900a(0x7d3)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x41900a(0xcc5)},'allResponses':{'type':'ARRAY','items':{'type':_0x41900a(0xcc5)}},'explanation':{'type':_0x41900a(0xcc5)},'imageCode':{'type':'STRING'}},'required':[_0x41900a(0x211),_0x41900a(0x592),_0x41900a(0x6b7),_0x41900a(0x27e),_0x41900a(0xbd8)]};break;}}const _0x2d4eb1={'type':'OBJECT','properties':{'topic':{'type':_0x41900a(0xcc5)},'questions':{'type':'ARRAY','items':_0x117c77}},'required':['topic','questions']},_0x5dfaae=_0x41900a(0xd64)+_0x24f4a3,_0x5c045e={'contents':[{'parts':[{'text':_0x5dfaae},{'inlineData':{'mimeType':_0x166e63,'data':_0x4ca056}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x2d4eb1}};return handleApiCall(_0x5c045e['contents'][0x0][_0x41900a(0xbc1)],_0x41900a(0x1a6),_0x2d4eb1);}async function handleApiCall(_0x37b5c9,_0x44cda3,_0x446215,_0x29a590=null,_0x49bfb2=!![],_0x5708f2=null,_0x5dc385=null){const _0x362a9e=_0x4a882c,_0x369b38=document[_0x362a9e(0x81d)](_0x362a9e(0x334)),_0x528244=document[_0x362a9e(0x81d)]('loader'),_0x4352e1=document[_0x362a9e(0x81d)](_0x362a9e(0xe40)),_0x2f8962=document[_0x362a9e(0x81d)](_0x362a9e(0xa19));_0x369b38['classList'][_0x362a9e(0x469)]('hidden');_0x29a590===null&&_0x49bfb2&&(_0x2f8962['innerHTML']='');_0x528244[_0x362a9e(0xdd2)]['remove'](_0x362a9e(0x35b)),_0x4352e1['textContent']=_0x44cda3,document[_0x362a9e(0x81d)]('generate-from-topic-btn')[_0x362a9e(0x396)]=!![],document[_0x362a9e(0x81d)](_0x362a9e(0xdb9))[_0x362a9e(0x396)]=!![],document[_0x362a9e(0x81d)](_0x362a9e(0xa18))['disabled']=!![];const _0x2ed749=document['getElementById']('generate-from-file-btn');if(_0x2ed749)_0x2ed749[_0x362a9e(0x396)]=!![];const _0x316b5f=document[_0x362a9e(0x81d)](_0x362a9e(0x908));if(_0x316b5f)_0x316b5f[_0x362a9e(0x396)]=!![];const _0x14c20e=document[_0x362a9e(0x81d)](_0x362a9e(0x7c0));if(_0x14c20e)_0x14c20e['disabled']=!![];try{const _0x671376=Array['isArray'](_0x37b5c9)?_0x37b5c9:[{'text':_0x37b5c9}],_0xb4b424={'contents':[{'role':'user','parts':_0x671376}]};_0x446215&&(_0xb4b424['generationConfig']={'responseMimeType':_0x362a9e(0xba3),'responseSchema':_0x446215});const _0x2de050=_0x362a9e(0xbdf),_0x4df256=_0x362a9e(0x186)+_0x2de050,_0x2b0cd5=await fetch(_0x4df256,{'method':_0x362a9e(0xd1f),'headers':{'Content-Type':'application/json'},'body':JSON[_0x362a9e(0xe01)](_0xb4b424)});if(!_0x2b0cd5['ok']){const _0x55fc42=await _0x2b0cd5['text']();console[_0x362a9e(0x76b)](_0x362a9e(0x3a8),_0x55fc42);throw new Error(_0x362a9e(0x516)+_0x2b0cd5[_0x362a9e(0x589)]);}const _0x35d53b=await _0x2b0cd5[_0x362a9e(0x348)]();if(!_0x35d53b['candidates']||_0x35d53b[_0x362a9e(0x775)][_0x362a9e(0xa96)]===0x0){let _0x4f77c1=_0x362a9e(0xbb4);return _0x35d53b[_0x362a9e(0x681)]?.[_0x362a9e(0x6d5)]&&(_0x4f77c1=_0x362a9e(0x3f8)+_0x35d53b[_0x362a9e(0x681)]['blockReason']+'.'),console[_0x362a9e(0x76b)](_0x4f77c1,JSON[_0x362a9e(0xe01)](_0x35d53b)),null;}const _0x2335c2=_0x35d53b[_0x362a9e(0x775)][0x0][_0x362a9e(0x305)][_0x362a9e(0xbc1)][0x0][_0x362a9e(0x95b)];if(_0x446215){let _0x26d691=_0x2335c2;if(_0x26d691[_0x362a9e(0x1c6)](_0x362a9e(0xa3e)))_0x26d691=_0x26d691[_0x362a9e(0xbdd)](0x7,_0x26d691['length']-0x3)['trim']();else _0x26d691[_0x362a9e(0x1c6)](_0x362a9e(0xc47))&&(_0x26d691=_0x26d691['substring'](0x3,_0x26d691['length']-0x3)[_0x362a9e(0x5f6)]());let _0x1b63ca=JSON[_0x362a9e(0x76c)](_0x26d691);if(_0x49bfb2){if(_0x29a590!==null){}else currentQuizData=_0x1b63ca,displayGeneratedQuiz(currentQuizData,_0x5708f2,_0x5dc385);}return _0x1b63ca;}else return _0x2335c2;}catch(_0x14bae2){console[_0x362a9e(0x76b)](_0x362a9e(0xdbf),_0x14bae2),showMessage(_0x362a9e(0xb5a)+_0x14bae2['message']);_0x49bfb2&&(_0x2f8962['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x14bae2;}finally{_0x528244[_0x362a9e(0xdd2)]['add']('hidden'),document['getElementById'](_0x362a9e(0x54e))['disabled']=![],document[_0x362a9e(0x81d)](_0x362a9e(0xdb9))[_0x362a9e(0x396)]=![],document[_0x362a9e(0x81d)](_0x362a9e(0xa18))[_0x362a9e(0x396)]=![];if(_0x2ed749)_0x2ed749[_0x362a9e(0x396)]=![];if(_0x316b5f)_0x316b5f['disabled']=![];if(_0x14c20e)_0x14c20e['disabled']=![];}}function exitFullscreen(){const _0xa66b57=_0x4a882c;if(document[_0xa66b57(0x5f7)])document[_0xa66b57(0x5f7)]()[_0xa66b57(0x218)](_0x38b5bf=>console['error'](_0x38b5bf));else{if(document[_0xa66b57(0xbe9)])document['webkitExitFullscreen']();else document[_0xa66b57(0xbaa)]&&document[_0xa66b57(0xbaa)]();}}function enterFullscreen(){const _0x4e9217=_0x4a882c,_0x3cc466=document[_0x4e9217(0x509)];if(_0x3cc466[_0x4e9217(0x447)])_0x3cc466[_0x4e9217(0x447)]()[_0x4e9217(0x218)](_0x44a1b5=>{const _0x21c986=_0x4e9217;console[_0x21c986(0x76b)](_0x21c986(0x795)+_0x44a1b5[_0x21c986(0x752)]+'\x20('+_0x44a1b5[_0x21c986(0x523)]+')');});else{if(_0x3cc466[_0x4e9217(0x2ae)])_0x3cc466[_0x4e9217(0x2ae)]();else _0x3cc466[_0x4e9217(0xc8c)]&&_0x3cc466[_0x4e9217(0xc8c)]();}}function handleCheatingEvent(){const _0x46f1ff=_0x4a882c;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x46f1ff(0xda4),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x46f1ff(0x55a)+maxCheatAttempts+_0x46f1ff(0xaa4)),document[_0x46f1ff(0x81d)](_0x46f1ff(0x281))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x46f1ff(0x599)](_0x46f1ff(0xdc9),handleVisibilityChange),document[_0x46f1ff(0x599)](_0x46f1ff(0x1ae),handleFullscreenChange)):showMessage(_0x46f1ff(0x530)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x3c4f76=_0x4a882c;if(currentMode===_0x3c4f76(0x1b9)||!isQuizActive)return;if(document[_0x3c4f76(0x7ae)]===_0x3c4f76(0x35b))handleCheatingEvent();else document[_0x3c4f76(0x7ae)]===_0x3c4f76(0xe7a)&&(console[_0x3c4f76(0x792)](_0x3c4f76(0xa76)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4e3a36=_0x4a882c;if(currentMode===_0x4e3a36(0x1b9)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x26149a,_0x5f099e=null,_0x311276=null){const _0x14b8cb=_0x4a882c,_0x47979c=document[_0x14b8cb(0x81d)](_0x14b8cb(0xa19));let _0x14909a=_0x14b8cb(0x367)+_0x26149a['topic']+_0x14b8cb(0x820);_0x26149a[_0x14b8cb(0x277)][_0x14b8cb(0xdc3)]((_0x26a8b8,_0x24d2c1)=>{const _0x46aa59=_0x14b8cb;!_0x26a8b8['id']&&(_0x26a8b8['id']='q_'+Date[_0x46aa59(0x7c1)]()+'_'+_0x24d2c1);const _0x47670e=_0x26a8b8['questionType']||_0x26149a[_0x46aa59(0xa6b)];_0x14909a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x24d2c1+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x24d2c1+_0x46aa59(0x4f3)+_0x24d2c1+_0x46aa59(0xe54);switch(_0x47670e){case _0x46aa59(0x7d3):_0x14909a+=_0x46aa59(0xa38)+_0x24d2c1+'\x22>'+(_0x24d2c1+0x1)+'.\x20'+_0x26a8b8[_0x46aa59(0x592)]+_0x46aa59(0x9e5);_0x26a8b8[_0x46aa59(0x9b0)]&&(_0x14909a+=_0x46aa59(0x7fb)+_0x24d2c1+_0x46aa59(0xb38)+_0x26a8b8['imageCode']+_0x46aa59(0xbbf));_0x14909a+=_0x46aa59(0x4da)+_0x24d2c1+'\x22>'+_0x26a8b8[_0x46aa59(0x6b7)]+_0x46aa59(0x6d0),_0x14909a+=_0x46aa59(0x38f)+_0x24d2c1+'\x22>'+_0x26a8b8[_0x46aa59(0xbd8)]+_0x46aa59(0x6d0);break;case _0x46aa59(0x2bb):_0x14909a+=_0x46aa59(0xa38)+_0x24d2c1+'\x22>'+(_0x24d2c1+0x1)+'.\x20'+_0x26a8b8[_0x46aa59(0x2c5)]+_0x46aa59(0x9e5);_0x26a8b8['imageCode']&&(_0x14909a+=_0x46aa59(0x7fb)+_0x24d2c1+_0x46aa59(0xb38)+_0x26a8b8[_0x46aa59(0x9b0)]+_0x46aa59(0xbbf));_0x14909a+=_0x46aa59(0x98d)+_0x24d2c1+'\x22>'+_0x26a8b8[_0x46aa59(0x6ef)]+_0x46aa59(0x6d0),_0x14909a+=_0x46aa59(0x38f)+_0x24d2c1+'\x22>'+_0x26a8b8[_0x46aa59(0xbd8)]+_0x46aa59(0x6d0);break;case _0x46aa59(0x559):_0x14909a+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x24d2c1+'\x22>'+(_0x24d2c1+0x1)+'.\x20'+_0x26a8b8['questionText']+_0x46aa59(0x9e5);_0x26a8b8['imageCode']&&(_0x14909a+=_0x46aa59(0x7fb)+_0x24d2c1+_0x46aa59(0xb38)+_0x26a8b8[_0x46aa59(0x9b0)]+'</div>');_0x14909a+=_0x46aa59(0x7d6)+(_0x26a8b8[_0x46aa59(0x87b)]===!![]?_0x46aa59(0x4e3):'')+_0x46aa59(0xe23)+(_0x26a8b8['correctAnswer']===![]?'text-green-600\x20font-bold':'')+_0x46aa59(0x666),_0x14909a+=_0x46aa59(0x38f)+_0x24d2c1+'\x22>'+_0x26a8b8[_0x46aa59(0xbd8)]+'</span></div>';break;case _0x46aa59(0xe00):case'multiple_choice':default:_0x14909a+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x24d2c1+'\x22>'+(_0x24d2c1+0x1)+'.\x20'+_0x26a8b8[_0x46aa59(0x2c5)]+_0x46aa59(0x9e5);_0x26a8b8[_0x46aa59(0x9b0)]&&(_0x14909a+=_0x46aa59(0x7fb)+_0x24d2c1+_0x46aa59(0xb38)+_0x26a8b8[_0x46aa59(0x9b0)]+'</div>');_0x14909a+=_0x46aa59(0xc6d)+_0x24d2c1+_0x46aa59(0x806)+(_0x26a8b8[_0x46aa59(0x1b5)]||[])['map']((_0x3ec931,_0x52d64f)=>_0x46aa59(0x26b)+(_0x52d64f===_0x26a8b8[_0x46aa59(0x1dc)]?_0x46aa59(0x4e3):'')+'\x22>'+_0x3ec931+_0x46aa59(0xb02))[_0x46aa59(0x343)]('')+_0x46aa59(0x2b8),_0x14909a+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x24d2c1+'\x22>'+_0x26a8b8[_0x46aa59(0xbd8)]+_0x46aa59(0x6d0);break;}_0x14909a+=_0x46aa59(0xbbf);}),_0x14909a+=_0x14b8cb(0x99a),_0x47979c[_0x14b8cb(0x8ea)]=_0x14909a,document[_0x14b8cb(0xbec)](_0x14b8cb(0x39b))[_0x14b8cb(0xdc3)](_0x318332=>_0x318332['addEventListener'](_0x14b8cb(0x864),handleEditQuestion)),document['querySelectorAll'](_0x14b8cb(0x3c7))[_0x14b8cb(0xdc3)](_0x2a7827=>_0x2a7827['addEventListener'](_0x14b8cb(0x864),handleRegenerateQuestion)),document[_0x14b8cb(0x81d)](_0x14b8cb(0xc0b))[_0x14b8cb(0x843)]('click',exportQuizAsWorksheetPDF),document[_0x14b8cb(0x81d)]('verify-answers-btn')[_0x14b8cb(0x843)](_0x14b8cb(0x864),handleVerifyAnswers);const _0x245b26=document[_0x14b8cb(0x81d)](_0x14b8cb(0x8a8));if(_0x245b26){const _0x5e26df=_0x5f099e||currentProjectId;_0x245b26['addEventListener'](_0x14b8cb(0x864),()=>saveQuiz(_0x5e26df,_0x311276));}if(window[_0x14b8cb(0x389)])window[_0x14b8cb(0x389)][_0x14b8cb(0x434)]([_0x47979c]);}function handleRegenerateQuestion(_0x1c29e4){const _0x36e260=_0x4a882c,_0x4ce15e=_0x1c29e4[_0x36e260(0x2d2)]['dataset'][_0x36e260(0x3db)],_0x36c8d3=currentQuizData[_0x36e260(0x755)];showMessage(_0x36e260(0x56b)+(parseInt(_0x4ce15e)+0x1)+'\x20ใหม่...'),generateQuiz(_0x36c8d3,null,parseInt(_0x4ce15e));}function getPointerPosition(_0x133140,_0xa0590f){const _0x58e7f4=_0x4a882c,_0x287039=_0x133140[_0x58e7f4(0x489)]();let _0x43ea21,_0x2c7245;return _0xa0590f[_0x58e7f4(0xab1)]&&_0xa0590f[_0x58e7f4(0xab1)][_0x58e7f4(0xa96)]>0x0?(_0x43ea21=_0xa0590f[_0x58e7f4(0xab1)][0x0][_0x58e7f4(0xdf1)],_0x2c7245=_0xa0590f[_0x58e7f4(0xab1)][0x0]['clientY']):(_0x43ea21=_0xa0590f[_0x58e7f4(0xdf1)],_0x2c7245=_0xa0590f[_0x58e7f4(0x165)]),{'x':(_0x43ea21-_0x287039['e'])/_0x287039['a'],'y':(_0x2c7245-_0x287039['f'])/_0x287039['d']};}function startDrag(_0x1e6f05){const _0x4493ac=_0x4a882c;_0x1e6f05['type']==='touchstart'&&_0x1e6f05[_0x4493ac(0x713)]();const _0x42c776=_0x1e6f05[_0x4493ac(0xca1)][_0x4493ac(0x9d0)]('.draggable-text');if(_0x42c776){draggedSvgElement=_0x42c776;const _0x549362=draggedSvgElement[_0x4493ac(0x6e6)],_0x4d71fc=getPointerPosition(_0x549362,_0x1e6f05);svgOffset['x']=_0x4d71fc['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x4d71fc['y']-parseFloat(draggedSvgElement[_0x4493ac(0x289)](null,'y'));}}function calculateItemAnalysis(_0x6139be,_0x4775f6){const _0x2de7a6=_0x4a882c,_0x524d43={};if(_0x4775f6[_0x2de7a6(0xa96)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x413f02=[..._0x4775f6]['sort']((_0x34e395,_0x12f732)=>{const _0x5727cb=_0x2de7a6,_0x960a8b=_0x12f732[_0x5727cb(0x3e4)]-_0x34e395[_0x5727cb(0x3e4)];if(_0x960a8b!==0x0)return _0x960a8b;const _0x3b11df=_0x34e395[_0x5727cb(0xe78)]?.['length']||0x1,_0x405247=_0x12f732['attempts']?.[_0x5727cb(0xa96)]||0x1,_0xd3651a=_0x3b11df-_0x405247;if(_0xd3651a!==0x0)return _0xd3651a;const _0x166bb6=new Date(_0x34e395[_0x5727cb(0x8e1)]),_0x40a9ed=new Date(_0x12f732[_0x5727cb(0x8e1)]),_0x3ef79e=_0x166bb6-_0x40a9ed;if(_0x3ef79e!==0x0)return _0x3ef79e;return _0x34e395['studentName'][_0x5727cb(0xddd)](_0x12f732[_0x5727cb(0xbd9)],'th');}),_0x342fd0=_0x413f02[_0x2de7a6(0xa96)],_0x464a6a=Math[_0x2de7a6(0x1f1)](0x1,Math['floor'](_0x342fd0*0.33));if(_0x464a6a===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5e5f6b=_0x413f02[_0x2de7a6(0x1a7)](0x0,_0x464a6a),_0x291382=_0x413f02[_0x2de7a6(0x1a7)](-_0x464a6a),_0x293e5d=_0x5e5f6b[_0x2de7a6(0x7d8)](_0x4cdfdc=>_0x4cdfdc['studentName']),_0x41346a=_0x291382[_0x2de7a6(0x7d8)](_0x4cec76=>_0x4cec76[_0x2de7a6(0xbd9)]);return _0x6139be['questions'][_0x2de7a6(0xdc3)]((_0x52784e,_0x1b4961)=>{const _0x3c2ca5=_0x2de7a6,_0x39c02e=_0x52784e[_0x3c2ca5(0x592)]||_0x52784e['questionText'];let _0x2a8938=0x0,_0x5835d0=0x0,_0x85a8c0=0x0;const _0x5e6f7b=[],_0x497501=[];_0x5e5f6b[_0x3c2ca5(0xdc3)](_0x2a19a0=>{const _0x17286e=_0x3c2ca5,_0x1da2c2=_0x2a19a0[_0x17286e(0xe78)][_0x2a19a0[_0x17286e(0xe78)]['length']-0x1],_0x5325e3=_0x1da2c2['answers'][_0x17286e(0xa74)](_0x2ddf2e=>_0x2ddf2e[_0x17286e(0x199)]===_0x39c02e);_0x5e6f7b['push']({'name':_0x2a19a0[_0x17286e(0xbd9)],'isCorrect':_0x5325e3?_0x5325e3[_0x17286e(0x565)]:![]}),_0x5325e3&&_0x5325e3[_0x17286e(0x565)]&&_0x5835d0++;}),_0x291382[_0x3c2ca5(0xdc3)](_0x26b810=>{const _0x4d9366=_0x3c2ca5,_0x23bffe=_0x26b810[_0x4d9366(0xe78)][_0x26b810['attempts'][_0x4d9366(0xa96)]-0x1],_0x44118a=_0x23bffe[_0x4d9366(0x6c9)][_0x4d9366(0xa74)](_0x42155c=>_0x42155c[_0x4d9366(0x199)]===_0x39c02e);_0x497501[_0x4d9366(0xb97)]({'name':_0x26b810[_0x4d9366(0xbd9)],'isCorrect':_0x44118a?_0x44118a[_0x4d9366(0x565)]:![]}),_0x44118a&&_0x44118a[_0x4d9366(0x565)]&&_0x85a8c0++;}),_0x4775f6[_0x3c2ca5(0xdc3)](_0x4f8bc5=>{const _0x29f1c4=_0x3c2ca5,_0x4a6978=_0x4f8bc5[_0x29f1c4(0xe78)][_0x4f8bc5[_0x29f1c4(0xe78)][_0x29f1c4(0xa96)]-0x1],_0x51d78b=_0x4a6978[_0x29f1c4(0x6c9)][_0x29f1c4(0xa74)](_0x164377=>_0x164377[_0x29f1c4(0x199)]===_0x39c02e);_0x51d78b&&_0x51d78b[_0x29f1c4(0x565)]&&_0x2a8938++;});const _0x345159=_0x342fd0>0x0?_0x2a8938/_0x342fd0:0x0,_0xb4188f=_0x464a6a>0x0?_0x5835d0/_0x464a6a-_0x85a8c0/_0x464a6a:0x0;_0x524d43[_0x1b4961]={'p':_0x345159,'r':_0xb4188f,'upperGroupResponders':_0x5e6f7b,'lowerGroupResponders':_0x497501};}),{'perQuestionStats':_0x524d43,'overallGroups':{'upperGroupNames':_0x293e5d,'lowerGroupNames':_0x41346a}};}function drag(_0x1c6f5a){const _0x1d7e47=_0x4a882c;if(draggedSvgElement){_0x1c6f5a[_0x1d7e47(0x713)]();const _0x46be0a=draggedSvgElement[_0x1d7e47(0x6e6)],_0x3f0c11=getPointerPosition(_0x46be0a,_0x1c6f5a),_0x29dd6e=_0x46be0a[_0x1d7e47(0x94c)][_0x1d7e47(0x2fa)];let _0x5101aa=_0x3f0c11['x']-svgOffset['x'],_0x3a0a27=_0x3f0c11['y']-svgOffset['y'];const _0x392cde=draggedSvgElement[_0x1d7e47(0x3a5)]();_0x5101aa=Math[_0x1d7e47(0x1f1)](_0x29dd6e['x'],Math['min'](_0x5101aa,_0x29dd6e['x']+_0x29dd6e[_0x1d7e47(0xb99)]-_0x392cde['width'])),_0x3a0a27=Math[_0x1d7e47(0x1f1)](_0x29dd6e['y'],Math[_0x1d7e47(0x73a)](_0x3a0a27,_0x29dd6e['y']+_0x29dd6e[_0x1d7e47(0x6f9)]-_0x392cde['height'])),draggedSvgElement['setAttributeNS'](null,'x',_0x5101aa),draggedSvgElement['setAttributeNS'](null,'y',_0x3a0a27);}}function endDrag(_0x34068b){draggedSvgElement=null;}function handleSvgEditClick(_0xd4b2cb){const _0xfc1115=_0x4a882c;if(_0xd4b2cb['target']['classList']['contains'](_0xfc1115(0x6c7))){const _0x1e209c=_0xd4b2cb['target'][_0xfc1115(0x33e)][_0xfc1115(0x8c3)],_0x57676c=_0xd4b2cb[_0xfc1115(0x2d2)],_0x2c48ff=_0x57676c[_0xfc1115(0x869)]('#'+_0x1e209c);_0x2c48ff&&_0x2c48ff['remove'](),_0xd4b2cb['target'][_0xfc1115(0x469)]();}}function handleEditQuestion(_0x4395b7){const _0x181898=_0x4a882c,_0x41d88d=_0x4395b7[_0x181898(0x2d2)],_0x1717af=_0x41d88d['dataset']['index'],_0x12f978=currentQuizData['questions'][_0x1717af],_0x394e4a=document[_0x181898(0x81d)]('q-text-'+_0x1717af),_0x3879f2=document['getElementById'](_0x181898(0x296)+_0x1717af),_0x2f7aec=document['getElementById']('q-image-container-'+_0x1717af);if(_0x41d88d[_0x181898(0x8ea)][_0x181898(0x90f)](_0x181898(0x8fe))){_0x41d88d['innerHTML']=_0x181898(0xae0),_0x41d88d[_0x181898(0xad6)]='บันทึกการแก้ไข';if(_0x394e4a)_0x394e4a[_0x181898(0x92d)]=!![];if(_0x3879f2)_0x3879f2[_0x181898(0x92d)]=!![];if(_0x2f7aec){const _0x3ed3f9=_0x2f7aec[_0x181898(0x869)](_0x181898(0xd52));if(_0x3ed3f9){const _0x131792=_0x3ed3f9[_0x181898(0xbec)](_0x181898(0x95b));_0x131792[_0x181898(0xdc3)]((_0xe832d1,_0x2572f5)=>{const _0x4df51e=_0x181898,_0x149838=_0x4df51e(0xe14)+_0x1717af+'-'+_0x2572f5;_0xe832d1['id']=_0x149838,_0xe832d1[_0x4df51e(0xdd2)][_0x4df51e(0x87d)](_0x4df51e(0xa05)),_0xe832d1[_0x4df51e(0xe1e)][_0x4df51e(0x341)]=_0x4df51e(0x1b4);const _0x44bcf1=document[_0x4df51e(0x502)]('http://www.w3.org/2000/svg',_0x4df51e(0x71e)),_0x1af6db=_0xe832d1[_0x4df51e(0x3a5)]();_0x44bcf1['setAttribute']('cx',String(_0x1af6db['x']+_0x1af6db[_0x4df51e(0xb99)]+0x5)),_0x44bcf1[_0x4df51e(0xcff)]('cy',String(_0x1af6db['y']+_0x1af6db[_0x4df51e(0x6f9)]/0x2-0x5)),_0x44bcf1[_0x4df51e(0xcff)]('r','5'),_0x44bcf1[_0x4df51e(0xcff)](_0x4df51e(0xb37),_0x4df51e(0x47e)),_0x44bcf1[_0x4df51e(0xcff)]('class','delete-svg-btn'),_0x44bcf1[_0x4df51e(0x33e)][_0x4df51e(0x8c3)]=_0x149838,_0xe832d1[_0x4df51e(0xaf9)](_0x44bcf1);}),_0x3ed3f9[_0x181898(0x843)](_0x181898(0xacc),startDrag),_0x3ed3f9[_0x181898(0x843)](_0x181898(0x78d),drag),_0x3ed3f9['addEventListener']('mouseup',endDrag),_0x3ed3f9[_0x181898(0x843)](_0x181898(0xae9),endDrag),_0x3ed3f9['addEventListener'](_0x181898(0x5e2),startDrag,{'passive':![]}),_0x3ed3f9[_0x181898(0x843)](_0x181898(0x933),drag,{'passive':![]}),_0x3ed3f9[_0x181898(0x843)](_0x181898(0x458),endDrag),_0x3ed3f9[_0x181898(0x843)](_0x181898(0x905),endDrag),_0x3ed3f9[_0x181898(0x843)](_0x181898(0x864),handleSvgEditClick);}}if(_0x394e4a)_0x394e4a['focus']();}else{_0x41d88d[_0x181898(0x8ea)]=_0x181898(0x5b3),_0x41d88d[_0x181898(0xad6)]=_0x181898(0x4b7);if(_0x394e4a){_0x394e4a[_0x181898(0x92d)]=![];const _0x188bed=_0x12f978[_0x181898(0x211)]||currentQuizData['quizType'];_0x188bed===_0x181898(0x7d3)?_0x12f978[_0x181898(0x592)]=_0x394e4a[_0x181898(0x263)][_0x181898(0xbdd)](_0x394e4a['innerText'][_0x181898(0x894)]('.')+0x2)['trim']():_0x12f978['questionText']=_0x394e4a[_0x181898(0x263)][_0x181898(0xbdd)](_0x394e4a[_0x181898(0x263)][_0x181898(0x894)]('.')+0x2)[_0x181898(0x5f6)]();}_0x3879f2&&(_0x3879f2['contentEditable']=![],_0x12f978[_0x181898(0xbd8)]=_0x3879f2['innerText']);if(_0x2f7aec){const _0x13b63d=_0x2f7aec[_0x181898(0x869)](_0x181898(0xd52));if(_0x13b63d){const _0x4d0d4b=_0x13b63d[_0x181898(0x3eb)](!![]);_0x4d0d4b[_0x181898(0xbec)](_0x181898(0x6b1))[_0x181898(0xdc3)](_0x24ab22=>_0x24ab22[_0x181898(0x469)]()),_0x4d0d4b[_0x181898(0xbec)](_0x181898(0x5d2))[_0x181898(0xdc3)](_0x236a71=>{const _0x55e0b3=_0x181898;_0x236a71[_0x55e0b3(0xdd2)][_0x55e0b3(0x469)](_0x55e0b3(0xa05)),_0x236a71[_0x55e0b3(0xe1e)]['cursor']='default',_0x236a71[_0x55e0b3(0xc73)]('id');}),_0x12f978[_0x181898(0x9b0)]=_0x4d0d4b[_0x181898(0x206)],_0x13b63d['removeEventListener'](_0x181898(0xacc),startDrag),_0x13b63d[_0x181898(0x599)](_0x181898(0x78d),drag),_0x13b63d[_0x181898(0x599)](_0x181898(0xbf6),endDrag),_0x13b63d['removeEventListener'](_0x181898(0xae9),endDrag),_0x13b63d[_0x181898(0x599)](_0x181898(0x5e2),startDrag),_0x13b63d[_0x181898(0x599)](_0x181898(0x933),drag),_0x13b63d[_0x181898(0x599)](_0x181898(0x458),endDrag),_0x13b63d['removeEventListener']('touchcancel',endDrag),_0x13b63d[_0x181898(0x599)](_0x181898(0x864),handleSvgEditClick),_0x13b63d[_0x181898(0xbec)](_0x181898(0x6b1))[_0x181898(0xdc3)](_0x5849c6=>_0x5849c6[_0x181898(0x469)]()),_0x13b63d[_0x181898(0xbec)](_0x181898(0x5d2))['forEach'](_0x5ed942=>{const _0x473023=_0x181898;_0x5ed942[_0x473023(0xdd2)][_0x473023(0x469)](_0x473023(0xa05)),_0x5ed942[_0x473023(0xe1e)][_0x473023(0x341)]=_0x473023(0x262);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3ebe82){const _0xfd3173=_0x4a882c,_0x8c32d1=document[_0xfd3173(0x81d)](_0xfd3173(0x182)),_0x202df5=document[_0xfd3173(0x81d)](_0xfd3173(0x4f5));_0x202df5[_0xfd3173(0x8ea)]=_0xfd3173(0x4c7),_0x8c32d1['classList'][_0xfd3173(0x469)](_0xfd3173(0x35b));try{const _0x56a6a1=doc(db,_0xfd3173(0x878)+appId+_0xfd3173(0x527),_0x3ebe82),_0x53bc88=await getDoc(_0x56a6a1);if(!_0x53bc88[_0xfd3173(0xb52)]())throw new Error(_0xfd3173(0x536));currentEditingQuizData={'id':_0x3ebe82,..._0x53bc88[_0xfd3173(0xc66)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x58b6ef){console[_0xfd3173(0x76b)](_0xfd3173(0x745),_0x58b6ef),showMessage(_0xfd3173(0xb60)),_0x8c32d1[_0xfd3173(0xdd2)][_0xfd3173(0x87d)](_0xfd3173(0x35b));}}function renderQuizEditor(_0x184a75){const _0x2636d0=_0x4a882c;document['getElementById'](_0x2636d0(0x675))['value']=_0x184a75[_0x2636d0(0x755)];const _0x555244=document[_0x2636d0(0x81d)](_0x2636d0(0x4f5));let _0x4b76a7=_0x184a75[_0x2636d0(0x277)][_0x2636d0(0x7d8)]((_0x11beae,_0x588bbd)=>{const _0x37182b=_0x2636d0;let _0x151fd8='';const _0x48fccd=_0x11beae[_0x37182b(0x211)]||_0x184a75[_0x37182b(0xa6b)];switch(_0x48fccd){case _0x37182b(0xca9):const _0x2af96a=(_0x11beae[_0x37182b(0x1b5)]||[])[_0x37182b(0x7d8)]((_0x515c76,_0x21ec31)=>_0x37182b(0x979)+_0x588bbd+_0x37182b(0x818)+_0x21ec31+'\x22\x20'+(_0x21ec31===_0x11beae[_0x37182b(0x1dc)]?_0x37182b(0x600):'')+_0x37182b(0xd96)+_0x515c76+_0x37182b(0x69b))[_0x37182b(0x343)]('');_0x151fd8=_0x37182b(0xd9f)+_0x2af96a+_0x37182b(0xbcd);break;case'short_answer':_0x151fd8=_0x37182b(0x748)+(_0x11beae[_0x37182b(0x6ef)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x37182b(0x559):_0x151fd8=_0x37182b(0x40a)+_0x588bbd+_0x37182b(0x585)+(_0x11beae[_0x37182b(0x87b)]===!![]?_0x37182b(0x600):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x588bbd+'\x22\x20value=\x22false\x22\x20'+(_0x11beae[_0x37182b(0x87b)]===![]?'checked':'')+_0x37182b(0x69d);break;case'matching_item':_0x151fd8=_0x37182b(0x163)+(_0x11beae[_0x37182b(0x6b7)]||'')+_0x37182b(0xe07);break;}let _0x2e1f31=_0x11beae[_0x37182b(0x2c5)]||_0x11beae['stem']||'';return _0x2e1f31=_0x2e1f31[_0x37182b(0xc8d)](/<br\s*\/?>/gi,'\x0a'),_0x37182b(0x7fd)+_0x588bbd+'\x22\x20data-q-type=\x22'+_0x48fccd+_0x37182b(0xcd4)+(_0x588bbd+0x1)+'\x20('+_0x48fccd+_0x37182b(0x9e0)+_0x2e1f31+_0x37182b(0x8d1)+_0x151fd8+'</div>\x0a</div>\x0a';})['join']('');_0x555244[_0x2636d0(0x8ea)]=_0x4b76a7;const _0x4ee9eb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x555244['insertAdjacentHTML'](_0x2636d0(0x6c4),_0x4ee9eb),_0x555244[_0x2636d0(0xbec)](_0x2636d0(0x19b))['forEach'](_0x510a2e=>{const _0x32ca91=_0x2636d0;_0x510a2e['style']['overflowY']=_0x32ca91(0x35b),_0x510a2e[_0x32ca91(0xe1e)][_0x32ca91(0x3ab)]=_0x32ca91(0x4d1),_0x510a2e[_0x32ca91(0xd0d)]=0x4;const _0x418847=()=>{const _0x37d3bc=_0x32ca91;_0x510a2e[_0x37d3bc(0xe1e)][_0x37d3bc(0x6f9)]=_0x37d3bc(0x55e),_0x510a2e[_0x37d3bc(0xe1e)][_0x37d3bc(0x6f9)]=_0x510a2e[_0x37d3bc(0x193)]+'px';};_0x510a2e[_0x32ca91(0x843)]('input',_0x418847),_0x418847();}),_0x555244[_0x2636d0(0xbec)]('.ai-fix-question-btn')[_0x2636d0(0xdc3)](_0x53ee91=>{const _0x5c9e47=_0x2636d0;_0x53ee91[_0x5c9e47(0x843)](_0x5c9e47(0x864),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x5c3f24){const _0x3674b5=_0x4a882c;if(!currentEditingQuizData||!currentEditingQuizData[_0x3674b5(0x277)][_0x5c3f24])return;const _0x1e714e=currentEditingQuizData['questions'][_0x5c3f24][_0x3674b5(0x2c5)]||currentEditingQuizData[_0x3674b5(0x277)][_0x5c3f24][_0x3674b5(0x592)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x5c3f24+0x1)+'\x20(\x22'+_0x1e714e[_0x3674b5(0xbdd)](0x0,0x14)+'...\x22)?',()=>{const _0xe7a435=_0x3674b5;currentEditingQuizData[_0xe7a435(0x277)]['splice'](_0x5c3f24,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0xe7a435(0x95f));});}function handleAddQuestionInEditor(){const _0x4a3665=_0x4a882c;if(!currentEditingQuizData)return;const _0x5eca0a={'id':'q_'+Date[_0x4a3665(0x7c1)]()+'_new','questionType':_0x4a3665(0xca9),'questionText':_0x4a3665(0xbc4),'options':[_0x4a3665(0xba2),_0x4a3665(0xe28),_0x4a3665(0x201),_0x4a3665(0xd94)],'correctAnswerIndex':0x0,'explanation':_0x4a3665(0x6c2)};currentEditingQuizData[_0x4a3665(0x277)][_0x4a3665(0xb97)](_0x5eca0a),renderQuizEditor(currentEditingQuizData);const _0x4ec3bb=document[_0x4a3665(0x869)](_0x4a3665(0x8a0));_0x4ec3bb&&(_0x4ec3bb[_0x4a3665(0xe30)]({'behavior':_0x4a3665(0x3fb),'block':'center'}),_0x4ec3bb[_0x4a3665(0x869)]('textarea')[_0x4a3665(0xb81)]());}async function handleAiFixQuestion(_0x190ac9){const _0x19ecd8=_0x4a882c,_0x352863=_0x190ac9['currentTarget'],_0x4cc8a7=_0x352863['closest'](_0x19ecd8(0x3c3));if(!_0x4cc8a7)return;const _0x29306e=parseInt(_0x4cc8a7[_0x19ecd8(0x33e)]['qIndex'],0xa);if(isNaN(_0x29306e)||!currentEditingQuizData[_0x19ecd8(0x277)][_0x29306e]){showMessage(_0x19ecd8(0xaff));return;}const _0x54f5da=currentEditingQuizData[_0x19ecd8(0x277)][_0x29306e];_0x352863[_0x19ecd8(0x8ea)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x352863[_0x19ecd8(0x396)]=!![];const _0x476b05=_0x19ecd8(0x9aa)+JSON[_0x19ecd8(0xe01)](_0x54f5da)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x2e60ea;const _0x52cf3c=_0x54f5da[_0x19ecd8(0x211)]||currentEditingQuizData[_0x19ecd8(0xa6b)];switch(_0x52cf3c){case'short_answer':_0x2e60ea={'type':_0x19ecd8(0x252),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x19ecd8(0xcc5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x19ecd8(0xcc5)}},'required':[_0x19ecd8(0x2c5),'idealAnswer',_0x19ecd8(0xbd8)]};break;case _0x19ecd8(0xca9):default:_0x2e60ea={'type':_0x19ecd8(0x252),'properties':{'questionText':{'type':_0x19ecd8(0xcc5)},'options':{'type':'ARRAY','items':{'type':_0x19ecd8(0xcc5)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x19ecd8(0xcc5)},'imageCode':{'type':_0x19ecd8(0xcc5)}},'required':[_0x19ecd8(0x2c5),_0x19ecd8(0x1b5),_0x19ecd8(0x1dc),_0x19ecd8(0xbd8)]};break;}try{let _0x37a0e9=await callAnalysisApi(_0x476b05,_0x2e60ea);_0x37a0e9[_0x19ecd8(0x1b5)]&&Array['isArray'](_0x37a0e9[_0x19ecd8(0x1b5)])&&(_0x37a0e9[_0x19ecd8(0x1b5)]=_0x37a0e9[_0x19ecd8(0x1b5)][_0x19ecd8(0x7d8)](_0x206971=>typeof _0x206971===_0x19ecd8(0xa6a)?_0x206971[_0x19ecd8(0xc8d)](/S(\s*[\d_]+?\s*)S/g,_0x19ecd8(0x8d9)):_0x206971)),_0x54f5da[_0x19ecd8(0x9b0)]&&_0x54f5da['imageCode']['includes'](_0x19ecd8(0x5ad))&&(_0x37a0e9['imageCode']=''),currentEditingQuizData['questions'][_0x29306e]={..._0x54f5da,..._0x37a0e9},renderQuizEditor(currentEditingQuizData),showMessage(_0x19ecd8(0x19c));}catch(_0x51b2a4){console['error'](_0x19ecd8(0xc24),_0x51b2a4),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x515763=_0x4a882c,_0x1afe1f=document[_0x515763(0x81d)](_0x515763(0x5ec));_0x1afe1f['disabled']=!![],_0x1afe1f[_0x515763(0x8ea)]=_0x515763(0x3f1);try{const _0xa95d2e=document[_0x515763(0x81d)](_0x515763(0x675))[_0x515763(0x710)],_0x23893d=document['querySelectorAll'](_0x515763(0x3c3));let _0x1a6bfd=[];const _0x48b666=Array[_0x515763(0xab3)](_0x23893d)['map']((_0x2d96f5,_0x26bb8b)=>{const _0xdad19a=_0x515763,_0x5b5820=_0x2d96f5[_0xdad19a(0x33e)]['qType'],_0x4df3e7=_0x2d96f5[_0xdad19a(0x869)]('textarea')['value'][_0xdad19a(0xc8d)](/\n/g,_0xdad19a(0xb77));let _0x5815ea={'questionType':_0x5b5820};const _0x432a8d=currentEditingQuizData['questions'][_0x26bb8b];switch(_0x5b5820){case'multiple_choice':_0x5815ea['questionText']=_0x4df3e7;const _0x3ea6fc=_0x2d96f5[_0xdad19a(0xbec)](_0xdad19a(0xa34));_0x5815ea['options']=Array[_0xdad19a(0xab3)](_0x3ea6fc)[_0xdad19a(0x7d8)](_0x44011b=>_0x44011b[_0xdad19a(0x710)]);const _0x43025d=_0x2d96f5['querySelector']('input[type=\x22radio\x22]:checked');_0x5815ea[_0xdad19a(0x1dc)]=_0x43025d?parseInt(_0x43025d[_0xdad19a(0x710)]):0x0;break;case _0xdad19a(0x2bb):_0x5815ea[_0xdad19a(0x2c5)]=_0x4df3e7,_0x5815ea[_0xdad19a(0x6ef)]=_0x2d96f5['querySelector'](_0xdad19a(0xc88))[_0xdad19a(0x710)];break;case'true_false':_0x5815ea[_0xdad19a(0x2c5)]=_0x4df3e7;const _0x4c5d47=_0x2d96f5[_0xdad19a(0x869)](_0xdad19a(0x4aa));_0x5815ea[_0xdad19a(0x87b)]=_0x4c5d47?_0x4c5d47['value']===_0xdad19a(0xa6f):!![];break;case'matching_item':_0x5815ea['stem']=_0x4df3e7;const _0x348564=_0x2d96f5[_0xdad19a(0x869)]('.correct-response-input');_0x5815ea['correctResponse']=_0x348564?_0x348564[_0xdad19a(0x710)]:'',_0x1a6bfd[_0xdad19a(0xb97)](_0x5815ea[_0xdad19a(0x6b7)]);break;default:_0x5815ea[_0xdad19a(0x2c5)]=_0x4df3e7;break;}return{..._0x432a8d,..._0x5815ea};});_0x1a6bfd[_0x515763(0xa96)]>0x0&&_0x48b666[_0x515763(0xdc3)](_0x4cebc6=>{const _0x105f30=_0x515763;_0x4cebc6['questionType']===_0x105f30(0x7d3)&&(_0x4cebc6[_0x105f30(0x27e)]=_0x1a6bfd);});const _0x38d7e1=currentEditingQuizData['id'],_0x202a43=doc(db,'artifacts/'+appId+_0x515763(0x527),_0x38d7e1);await updateDoc(_0x202a43,{'topic':_0xa95d2e,'questions':_0x48b666}),document['getElementById'](_0x515763(0x182))[_0x515763(0xdd2)][_0x515763(0x87d)](_0x515763(0x35b)),showMessage(_0x515763(0xe44),()=>initiateReGradeProcess(_0x38d7e1));}catch(_0x5ace5b){console[_0x515763(0x76b)]('Error\x20saving\x20quiz\x20edits:',_0x5ace5b),showMessage(_0x515763(0x6df));}finally{_0x1afe1f['disabled']=![],_0x1afe1f[_0x515763(0x8ea)]=_0x515763(0x7e4);}}async function initiateReGradeProcess(_0xff27a7){const _0x217f76=_0x4a882c;showMessage(_0x217f76(0x573));try{const _0xd7c558=doc(db,_0x217f76(0x878)+appId+_0x217f76(0x527),_0xff27a7),_0x381a10=await getDoc(_0xd7c558);if(!_0x381a10['exists']())throw new Error(_0x217f76(0x82e));const _0x20a8fc={'id':_0xff27a7,..._0x381a10['data']()},_0x15887c=collection(db,_0x217f76(0x878)+appId+_0x217f76(0x527),_0xff27a7,_0x217f76(0xbe7)),_0x38abfb=await getDocs(_0x15887c);if(_0x38abfb[_0x217f76(0xca5)]){showMessage(_0x217f76(0x9ba));return;}const _0x58b1e1=_0x38abfb[_0x217f76(0x9b1)][_0x217f76(0x7d8)](_0x390336=>reGradeSingleSubmission(_0x390336,_0x20a8fc));await Promise[_0x217f76(0xde1)](_0x58b1e1);if(_0x20a8fc[_0x217f76(0xc9b)]){const _0x224b00=doc(db,_0x217f76(0x878)+appId+'/public/data/projects',_0x20a8fc['projectId']),_0x4d9637=await getDoc(_0x224b00);if(_0x4d9637['exists']()&&_0x4d9637[_0x217f76(0xc66)]()[_0x217f76(0x881)]){const _0x3b2b5d=_0x4d9637[_0x217f76(0xc66)]()[_0x217f76(0x881)][_0x217f76(0x7d8)](_0x59fbd0=>updateStudentProfile(_0x20a8fc[_0x217f76(0xc9b)],_0x59fbd0));await Promise[_0x217f76(0xde1)](_0x3b2b5d);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x38abfb['size']+_0x217f76(0x4a5));}catch(_0x22243a){console[_0x217f76(0x76b)](_0x217f76(0x453),_0x22243a),showMessage(_0x217f76(0x7a1)+_0x22243a[_0x217f76(0x752)]);}}async function reGradeSingleSubmission(_0x2c6061,_0x503b7f){const _0x28ad2c=_0x4a882c,_0x27b292=_0x2c6061['data'](),_0x30e097=_0x27b292['studentName'],_0xb580e5=_0x27b292[_0x28ad2c(0xe78)]||[],_0x5a444e=[];for(const _0x4d5dd1 of _0xb580e5){let _0x2cd554=0x0,_0x3b4747=[],_0x16f16e=0x0;const _0x2a8f15=[];for(const _0x184b2b of _0x4d5dd1[_0x28ad2c(0x6c9)]){let _0x2784a7;_0x184b2b['questionId']&&(_0x2784a7=_0x503b7f[_0x28ad2c(0x277)][_0x28ad2c(0xa74)](_0x3d0a9b=>_0x3d0a9b['id']===_0x184b2b['questionId']));!_0x2784a7&&_0x184b2b[_0x28ad2c(0x199)]&&(_0x2784a7=_0x503b7f[_0x28ad2c(0x277)][_0x28ad2c(0xa74)](_0x20f8c2=>(_0x20f8c2['stem']||_0x20f8c2[_0x28ad2c(0x2c5)])===_0x184b2b[_0x28ad2c(0x199)]));let _0x582110=![];if(_0x2784a7){const _0x255738=_0x2784a7[_0x28ad2c(0x211)]||_0x503b7f[_0x28ad2c(0xa6b)];switch(_0x255738){case _0x28ad2c(0xca9):if(_0x2784a7[_0x28ad2c(0x1b5)]&&_0x2784a7['correctAnswerIndex']<_0x2784a7[_0x28ad2c(0x1b5)][_0x28ad2c(0xa96)]){const _0x328f00=_0x2784a7['options'][_0x2784a7[_0x28ad2c(0x1dc)]];_0x582110=_0x184b2b['answerText']===_0x328f00;}break;case _0x28ad2c(0x559):const _0x28f77c=_0x184b2b[_0x28ad2c(0xa25)]===!![]||_0x184b2b[_0x28ad2c(0xa25)]===_0x28ad2c(0xa6f);_0x582110=_0x28f77c===_0x2784a7[_0x28ad2c(0x87b)];break;case _0x28ad2c(0x7d3):_0x582110=_0x184b2b['answer']===_0x2784a7[_0x28ad2c(0x6b7)];break;case _0x28ad2c(0x2bb):_0x582110=await gradeShortAnswer(_0x184b2b[_0x28ad2c(0xa25)],_0x2784a7);break;default:_0x582110=_0x184b2b[_0x28ad2c(0x565)];break;}}if(_0x582110){_0x2cd554++,_0x16f16e++;if(_0x16f16e===0x3)_0x3b4747[_0x28ad2c(0xb97)](BADGES[_0x28ad2c(0x22c)]['id']);}else _0x16f16e=0x0;_0x2a8f15['push']({..._0x184b2b,'isCorrect':_0x582110});}let _0x339276=_0x2cd554*0xa;_0x2cd554===_0x503b7f[_0x28ad2c(0x277)][_0x28ad2c(0xa96)]&&(_0x339276+=0x32,_0x3b4747[_0x28ad2c(0xb97)](BADGES[_0x28ad2c(0xa53)]['id'])),_0x5a444e[_0x28ad2c(0xb97)]({..._0x4d5dd1,'score':_0x2cd554,'points':_0x339276,'badges':Array[_0x28ad2c(0xab3)](new Set(_0x3b4747)),'answers':_0x2a8f15});}const _0x299420=_0x5a444e[_0x28ad2c(0xa96)]>0x0?_0x5a444e[0x0][_0x28ad2c(0x64f)]:0x0,_0x2620d2=Math[_0x28ad2c(0x1f1)](..._0x5a444e[_0x28ad2c(0x7d8)](_0x2c62a2=>_0x2c62a2[_0x28ad2c(0x64f)])),_0x36b36e=_0x5a444e[_0x28ad2c(0xa96)]>0x0?_0x5a444e[_0x5a444e['length']-0x1][_0x28ad2c(0x64f)]:0x0,_0x4a2170=_0x5a444e[_0x28ad2c(0xa96)]>0x0?_0x5a444e[_0x5a444e[_0x28ad2c(0xa96)]-0x1][_0x28ad2c(0xb9d)]:0x0,_0x48a16f=doc(db,_0x28ad2c(0x878)+appId+'/public/data/quizzes/'+_0x503b7f['id']+_0x28ad2c(0xc06),_0x30e097);await updateDoc(_0x48a16f,{'attempts':_0x5a444e,'firstScore':_0x299420,'bestScore':_0x2620d2,'latestScore':_0x36b36e,'points':_0x4a2170});}function cleanupQuizOptions(_0x3d1374){const _0x4767d5=_0x4a882c,_0x3a0de3=(_0x2b3ae7,_0x1adc8d)=>_0x1adc8d===0x0?_0x2b3ae7:_0x3a0de3(_0x1adc8d,_0x2b3ae7%_0x1adc8d),_0x4f65b9=_0x4a7ab1=>{const _0x32221f=_0x2fbb;if(typeof _0x4a7ab1!==_0x32221f(0xa6a))return null;_0x4a7ab1=_0x4a7ab1['trim']();const _0x21f0c1=_0x4a7ab1[_0x32221f(0x9b4)](/[ /]/)[_0x32221f(0x3d8)](_0x32ee25=>_0x32ee25!=='');if(_0x21f0c1[_0x32221f(0xa96)]===0x3)return parseInt(_0x21f0c1[0x0])+parseInt(_0x21f0c1[0x1])/parseInt(_0x21f0c1[0x2]);else{if(_0x21f0c1[_0x32221f(0xa96)]===0x2)return parseInt(_0x21f0c1[0x0])/parseInt(_0x21f0c1[0x1]);else{if(_0x21f0c1[_0x32221f(0xa96)]===0x1&&!isNaN(_0x21f0c1[0x0]))return parseFloat(_0x21f0c1[0x0]);}}return null;},_0x1e7948=_0x4d6f2d=>{const _0x2b55e7=_0x2fbb;if(typeof _0x4d6f2d!==_0x2b55e7(0xa6a))return _0x4d6f2d;const _0x10071f=_0x4d6f2d[_0x2b55e7(0xcb7)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x10071f){const _0x17590f=parseInt(_0x10071f[0x1]);let _0x587ce4=parseInt(_0x10071f[0x2]),_0x56130a=parseInt(_0x10071f[0x3]);const _0x4a06ce=_0x3a0de3(_0x587ce4,_0x56130a);_0x587ce4/=_0x4a06ce,_0x56130a/=_0x4a06ce;if(_0x56130a===0x1)return(_0x17590f+_0x587ce4)[_0x2b55e7(0x188)]();return _0x17590f+'\x20'+_0x587ce4+'/'+_0x56130a;}return _0x4d6f2d;};return _0x3d1374&&_0x3d1374[_0x4767d5(0x277)]&&_0x3d1374[_0x4767d5(0x277)][_0x4767d5(0xdc3)](_0x3ff082=>{const _0x21426e=_0x4767d5;if(_0x3ff082['questionType']==='multiple_choice'&&_0x3ff082['options']){const _0x599517=new Map(),_0x5925d4=_0x3ff082['options'][_0x3ff082['correctAnswerIndex']];_0x3ff082[_0x21426e(0x1b5)][_0x21426e(0xdc3)](_0x597897=>{const _0x3f7ddf=_0x21426e,_0x19ce78=_0x1e7948(_0x597897),_0x19293b=_0x4f65b9(_0x19ce78);_0x19293b!==null&&!_0x599517[_0x3f7ddf(0x43b)](_0x19293b)&&_0x599517[_0x3f7ddf(0x538)](_0x19293b,_0x19ce78);}),_0x3ff082[_0x21426e(0x1b5)]=Array['from'](_0x599517[_0x21426e(0x1f9)]());const _0x3eaefc=_0x3ff082[_0x21426e(0x1b5)][_0x21426e(0x9f6)](_0x5ecfad=>_0x5ecfad===_0x1e7948(_0x5925d4));_0x3ff082[_0x21426e(0x1dc)]=_0x3eaefc!==-0x1?_0x3eaefc:0x0;}}),_0x3d1374;}function showGameStartConfirmationModal(_0xab21ce,_0x32a9fc,_0x26c83c){const _0x51d2e9=_0x4a882c,_0x597f4b=document['getElementById'](_0x51d2e9(0x60f));document[_0x51d2e9(0x81d)](_0x51d2e9(0x496))[_0x51d2e9(0xca8)]=_0x51d2e9(0x844)+_0x26c83c,document[_0x51d2e9(0x81d)](_0x51d2e9(0x50f))[_0x51d2e9(0x710)]=_0xab21ce,document[_0x51d2e9(0x81d)](_0x51d2e9(0xad4))[_0x51d2e9(0x710)]=_0x32a9fc,document[_0x51d2e9(0x81d)]('save-game-results-checkbox')[_0x51d2e9(0x600)]=!![];const _0x49d58c=document[_0x51d2e9(0x81d)](_0x51d2e9(0x729)),_0x2524c2=document[_0x51d2e9(0x81d)](_0x51d2e9(0xb00)),_0x533fb0=document[_0x51d2e9(0x81d)](_0x51d2e9(0x9ab)),_0x6f6823=document[_0x51d2e9(0x81d)](_0x51d2e9(0xb32));_0x32a9fc===_0x51d2e9(0x48d)?(_0x49d58c['classList']['remove'](_0x51d2e9(0x35b)),document[_0x51d2e9(0x869)]('input[name=\x22syncVariant\x22][value=\x22classic\x22]')['checked']=!![],_0x2524c2[_0x51d2e9(0x600)]=!![],_0x533fb0[_0x51d2e9(0xdd2)][_0x51d2e9(0x469)](_0x51d2e9(0x35b)),document[_0x51d2e9(0x81d)]('sync-timer-duration-input')[_0x51d2e9(0x710)]=_0x51d2e9(0x59c),_0x6f6823['classList'][_0x51d2e9(0x469)](_0x51d2e9(0x35b)),document[_0x51d2e9(0x81d)]('enable-black-market-checkbox')[_0x51d2e9(0x600)]=!![]):(_0x49d58c[_0x51d2e9(0xdd2)][_0x51d2e9(0x87d)]('hidden'),_0x2524c2['checked']=![],_0x533fb0[_0x51d2e9(0xdd2)][_0x51d2e9(0x87d)]('hidden'),_0x6f6823[_0x51d2e9(0xdd2)]['add'](_0x51d2e9(0x35b))),_0x597f4b[_0x51d2e9(0xdd2)]['remove'](_0x51d2e9(0x35b));}async function saveGameResultsAsSubmissions(_0x5218de){const _0x2e0f5f=_0x4a882c;console[_0x2e0f5f(0x792)](_0x2e0f5f(0x391),_0x5218de);const _0x167900=_0x5218de[_0x2e0f5f(0x291)];let _0x3d6426=[];if(_0x5218de[_0x2e0f5f(0x774)])_0x3d6426=Object[_0x2e0f5f(0x26d)](_0x5218de['players'])[_0x2e0f5f(0x7d8)](([_0xd21063,_0x1bf7a6])=>({'name':_0xd21063,..._0x1bf7a6}));else{if(_0x5218de['groups'])Object[_0x2e0f5f(0x1f9)](_0x5218de[_0x2e0f5f(0x23d)])[_0x2e0f5f(0xdc3)](_0x5905ce=>{const _0xac4b76=_0x2e0f5f;_0x5905ce[_0xac4b76(0x847)]['forEach'](_0x37beca=>{const _0x505d4c=_0xac4b76;_0x3d6426['push']({'name':_0x37beca,'score':_0x5905ce[_0x505d4c(0x64f)],'answers':_0x5905ce['answers']});});});else _0x5218de[_0x2e0f5f(0x6f2)]&&Object[_0x2e0f5f(0x26d)](_0x5218de[_0x2e0f5f(0x6f2)])[_0x2e0f5f(0xdc3)](([_0x32713e,_0x596dc1])=>{const _0xfbaec4=_0x2e0f5f;_0x3d6426[_0xfbaec4(0xb97)]({'name':_0x32713e,..._0x596dc1});});}if(_0x3d6426[_0x2e0f5f(0xa96)]===0x0){console[_0x2e0f5f(0x792)]('No\x20player\x20data\x20to\x20save.');return;}const _0x4f4461=_0x5218de[_0x2e0f5f(0xba9)]?.[_0x2e0f5f(0x277)][_0x2e0f5f(0xa96)]||currentQuizData[_0x2e0f5f(0x277)][_0x2e0f5f(0xa96)],_0x1a9d10=writeBatch(db);for(const _0x2cab65 of _0x3d6426){const _0x1b6899=doc(db,_0x2e0f5f(0x878)+appId+_0x2e0f5f(0x491)+_0x167900+_0x2e0f5f(0xc06),_0x2cab65[_0x2e0f5f(0x523)]),_0x3e1be6=(_0x2cab65[_0x2e0f5f(0x6c9)]||[])[_0x2e0f5f(0x3d8)](_0x4172cd=>_0x4172cd['isCorrect'])[_0x2e0f5f(0xa96)];let _0x590055=_0x3e1be6;_0x5218de[_0x2e0f5f(0xda2)]&&_0x2cab65[_0x2e0f5f(0x6c9)]&&_0x2cab65[_0x2e0f5f(0x6c9)][_0x2e0f5f(0xdc3)](_0x2a2844=>{const _0x2bd82a=_0x2e0f5f;if(_0x2a2844[_0x2bd82a(0x565)]&&(_0x2a2844[_0x2bd82a(0xe32)]===!![]||_0x2a2844['wasConfident']===_0x2bd82a(0x995)))_0x590055+=0x1;else!_0x2a2844[_0x2bd82a(0x565)]&&(_0x2a2844[_0x2bd82a(0xe32)]===!![]||_0x2a2844[_0x2bd82a(0xe32)]===_0x2bd82a(0x995))&&(_0x590055-=0x1);});_0x4f4461>0x0&&_0x3e1be6===_0x4f4461&&(_0x590055+=0x1);const _0x22d151={'score':_0x3e1be6,'points':_0x590055,'badges':_0x2cab65[_0x2e0f5f(0x7bf)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x2cab65[_0x2e0f5f(0x6c9)]||[])['map'](_0x3dca21=>({'questionId':_0x3dca21[_0x2e0f5f(0x62d)],'answer':_0x3dca21[_0x2e0f5f(0xa25)],'answerText':_0x3dca21[_0x2e0f5f(0xc92)],'isCorrect':_0x3dca21[_0x2e0f5f(0x565)],'originalQuestionText':_0x3dca21['originalQuestionText'],'wasConfident':_0x3dca21[_0x2e0f5f(0xe32)]}))},_0x4f6514=await getDoc(_0x1b6899),_0x35014f=_0x4f6514[_0x2e0f5f(0xb52)]()?_0x4f6514[_0x2e0f5f(0xc66)]():{},_0x41d44f=_0x35014f[_0x2e0f5f(0x636)]||0x0,_0x79c182=_0x35014f[_0x2e0f5f(0xe78)]||[],_0x53c40a={'studentName':_0x2cab65['name'],'totalQuestions':_0x4f4461,'attempts':arrayUnion(_0x22d151),'latestScore':_0x3e1be6,'points':_0x590055,'latestSubmittedAt':_0x22d151[_0x2e0f5f(0xe67)],'bestScore':Math['max'](_0x41d44f,_0x3e1be6),'firstScore':_0x79c182[_0x2e0f5f(0xa96)]===0x0?_0x3e1be6:_0x35014f[_0x2e0f5f(0xa82)]||0x0};_0x1a9d10['set'](_0x1b6899,_0x53c40a,{'merge':!![]});}try{await _0x1a9d10[_0x2e0f5f(0x8be)](),showMessage(_0x2e0f5f(0xbe8)+_0x3d6426['length']+_0x2e0f5f(0x2aa));const _0x1df4b7=_0x5218de[_0x2e0f5f(0xba9)]?.[_0x2e0f5f(0xc9b)]||currentQuizData?.[_0x2e0f5f(0xc9b)]||currentProjectId;if(_0x1df4b7){const _0x3bbc56=[...new Set(_0x3d6426[_0x2e0f5f(0x7d8)](_0x79197=>_0x79197[_0x2e0f5f(0x523)]))];for(const _0x123e68 of _0x3bbc56){await updateStudentProfile(_0x1df4b7,_0x123e68);}}}catch(_0x490db7){console[_0x2e0f5f(0x76b)](_0x2e0f5f(0x8f7),_0x490db7),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(_0x4c4366=null,_0x250c3a=null){const _0x425c25=_0x4a882c,_0x3ea368=_0x4c4366||currentProjectId;if(!_0x3ea368){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x425c25(0x277)]||!userId){showMessage(_0x425c25(0x3f0));return;}const _0xe8c3fe=document[_0x425c25(0x81d)](_0x425c25(0x8a8));_0xe8c3fe[_0x425c25(0x396)]=!![],_0xe8c3fe[_0x425c25(0x8ea)]=_0x425c25(0x3f1);const _0x132c7f=document[_0x425c25(0x81d)](_0x425c25(0xbd3))['checked'];let _0x573408=document['getElementById'](_0x425c25(0x71a))['innerText'][_0x425c25(0x5f6)]();_0x132c7f&&!_0x573408[_0x425c25(0x1c6)](_0x425c25(0xde3))&&(_0x573408=_0x425c25(0xa72)+_0x573408);try{const _0x195e4f={'resultsDisplay':document[_0x425c25(0x81d)](_0x425c25(0x9fa))[_0x425c25(0x710)],'shuffle':document[_0x425c25(0x81d)](_0x425c25(0x5d7))[_0x425c25(0x710)],'timerMode':document['getElementById'](_0x425c25(0xe22))[_0x425c25(0x710)],'timerDuration':parseInt(document[_0x425c25(0x81d)]('timer-duration-input')[_0x425c25(0x710)])||0xa,'passingScore':parseInt(document[_0x425c25(0x81d)]('passing-score-input')['value'])||0x0,'isAdaptive':document[_0x425c25(0x81d)](_0x425c25(0x728))[_0x425c25(0x600)],'loopUntilPass':document[_0x425c25(0x81d)](_0x425c25(0x23c))[_0x425c25(0x600)]},_0x3b3406=(currentQuizData[_0x425c25(0x277)]||[])[_0x425c25(0x7d8)]((_0x271df6,_0x297034)=>{const _0x2585c3=_0x425c25,_0x265371=document[_0x2585c3(0x81d)]('quiz-type-select')[_0x2585c3(0x710)],_0x29b027={'id':'q_'+Date[_0x2585c3(0x7c1)]()+'_'+_0x297034,'questionText':_0x271df6[_0x2585c3(0x2c5)]||'','explanation':_0x271df6[_0x2585c3(0xbd8)]||_0x2585c3(0xe8f),'questionType':_0x271df6['questionType']||_0x265371,'imageCode':_0x271df6[_0x2585c3(0x9b0)]||null};return(_0x29b027[_0x2585c3(0x211)]==='multiple_choice'||_0x29b027['questionType']===_0x2585c3(0xcbd)||_0x29b027[_0x2585c3(0x211)]===_0x2585c3(0x2d1)&&_0x271df6[_0x2585c3(0x1b5)])&&(_0x29b027['options']=_0x271df6['options']||[],_0x29b027[_0x2585c3(0x1dc)]=_0x271df6[_0x2585c3(0x1dc)]!==undefined?_0x271df6[_0x2585c3(0x1dc)]:0x0),(_0x29b027[_0x2585c3(0x211)]==='short_answer'||_0x29b027[_0x2585c3(0x211)]===_0x2585c3(0xe4b)||_0x29b027[_0x2585c3(0x211)]==='mixed'&&_0x271df6[_0x2585c3(0x6ef)])&&(_0x29b027[_0x2585c3(0x6ef)]=_0x271df6[_0x2585c3(0x6ef)]||''),_0x29b027[_0x2585c3(0x211)]===_0x2585c3(0x559)&&(_0x29b027['correctAnswer']=_0x271df6[_0x2585c3(0x87b)]===!![]),_0x29b027['questionType']==='matching_item'&&(_0x29b027[_0x2585c3(0x592)]=_0x271df6[_0x2585c3(0x592)]||'',_0x29b027[_0x2585c3(0x6b7)]=_0x271df6[_0x2585c3(0x6b7)]||'',_0x29b027[_0x2585c3(0x27e)]=_0x271df6['allResponses']||[]),_0x29b027;}),_0x5e1c72={'topic':_0x573408,'quizType':currentQuizData[_0x425c25(0xa6b)]||_0x425c25(0xca9),'questions':_0x3b3406,'projectId':_0x3ea368,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x425c25(0x3fc),'settings':_0x195e4f,'quizMode':_0x132c7f?_0x425c25(0x8ad):_0x425c25(0xa99),'pairedQuizId':null,'lessonPlan':null};let _0x5ba8e7;while(!![]){_0x5ba8e7=Math[_0x425c25(0x22a)](0x3e8+Math['random']()*0x2328)['toString']();const _0x3626c9=await getDoc(doc(db,_0x425c25(0x878)+appId+_0x425c25(0x527),_0x5ba8e7));if(!_0x3626c9[_0x425c25(0xb52)]())break;}await setDoc(doc(db,_0x425c25(0x878)+appId+_0x425c25(0x527),_0x5ba8e7),_0x5e1c72);if(_0x250c3a&&currentBlueprintProjectId){console['log'](_0x425c25(0x9db)+_0x5ba8e7+_0x425c25(0x64c)+_0x250c3a);try{const _0x3796a7=doc(db,_0x425c25(0x878)+appId+_0x425c25(0x7a4),currentBlueprintProjectId);await updateDoc(_0x3796a7,{[_0x425c25(0x426)+_0x250c3a+_0x425c25(0x9f0)]:arrayUnion(_0x5ba8e7)});}catch(_0x4e1d68){console['error'](_0x425c25(0x7e7),_0x4e1d68);}}currentQuizData['settings']=_0x195e4f,currentQuizData['id']=_0x5ba8e7;const _0x3e213b=document[_0x425c25(0x81d)](_0x425c25(0xa5e));_0x3e213b[_0x425c25(0x8ea)]=_0x425c25(0x450)+_0x5ba8e7+_0x425c25(0x515),document[_0x425c25(0x81d)](_0x425c25(0xa0f))['addEventListener'](_0x425c25(0x864),()=>copyTextToClipboard(_0x5ba8e7,_0x425c25(0x2b7))),document[_0x425c25(0x81d)]('start-live-race-generated-btn')['addEventListener'](_0x425c25(0x864),()=>handleStartLiveRace(_0x5ba8e7)),document['getElementById'](_0x425c25(0xe3b))['addEventListener'](_0x425c25(0x864),()=>startPresentation(currentQuizData)),document[_0x425c25(0x81d)](_0x425c25(0x3aa))[_0x425c25(0x843)](_0x425c25(0x864),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x41ab38){console['error']('Error\x20saving\x20quiz:',_0x41ab38),showMessage(_0x425c25(0x72e));}finally{_0xe8c3fe[_0x425c25(0x396)]=![],_0xe8c3fe[_0x425c25(0x8ea)]=_0x425c25(0x660);}}function promptForProjectAndSave(){const _0x20b5f3=_0x4a882c,_0x46e350=document[_0x20b5f3(0x81d)]('move-quiz-modal'),_0x4a86ff=document['getElementById'](_0x20b5f3(0xc86)),_0x154ff4=_0x46e350[_0x20b5f3(0x869)]('h3'),_0x51b0d4=document['getElementById'](_0x20b5f3(0x73f));_0x154ff4[_0x20b5f3(0xca8)]=_0x20b5f3(0x861),_0x51b0d4['textContent']='เลือกและบันทึก';allProjects[_0x20b5f3(0xa96)]===0x0?(_0x4a86ff[_0x20b5f3(0x8ea)]=_0x20b5f3(0x627),_0x51b0d4[_0x20b5f3(0x396)]=!![]):(_0x4a86ff[_0x20b5f3(0x8ea)]=allProjects['map'](_0x437c85=>'<option\x20value=\x22'+_0x437c85['id']+'\x22>'+_0x437c85[_0x20b5f3(0xd34)]+'</option>')[_0x20b5f3(0x343)](''),_0x51b0d4[_0x20b5f3(0x396)]=![]);_0x46e350[_0x20b5f3(0xdd2)]['remove'](_0x20b5f3(0x35b));const _0x3a5d58=()=>{const _0x58c92f=_0x20b5f3,_0x59d46e=_0x4a86ff['value'];_0x59d46e?(currentProjectId=_0x59d46e,_0x46e350['classList']['add']('hidden'),saveQuiz(),_0x154ff4['textContent']=_0x58c92f(0x5cd),_0x51b0d4[_0x58c92f(0xca8)]=_0x58c92f(0x759),_0x51b0d4[_0x58c92f(0x599)](_0x58c92f(0x864),_0x3a5d58),_0x51b0d4[_0x58c92f(0x843)](_0x58c92f(0x864),confirmMoveQuiz)):showMessage(_0x58c92f(0x824));};_0x51b0d4[_0x20b5f3(0x599)]('click',confirmMoveQuiz),_0x51b0d4[_0x20b5f3(0x843)](_0x20b5f3(0x864),_0x3a5d58);}function copyTextToClipboard(_0x47d37e,_0x59b34c){const _0x12a3dd=_0x4a882c,_0xbff856=document[_0x12a3dd(0xdc8)](_0x12a3dd(0xbf1));_0xbff856[_0x12a3dd(0x710)]=_0x47d37e,_0xbff856[_0x12a3dd(0xe1e)][_0x12a3dd(0x191)]=_0x12a3dd(0x409),_0xbff856[_0x12a3dd(0xe1e)][_0x12a3dd(0xd00)]='0',document[_0x12a3dd(0x8c1)][_0x12a3dd(0x7f4)](_0xbff856),_0xbff856['focus'](),_0xbff856[_0x12a3dd(0xdaa)]();try{const _0x1bb3bc=document[_0x12a3dd(0x24f)](_0x12a3dd(0xc60));showMessage(_0x1bb3bc?_0x59b34c:_0x12a3dd(0x909));}catch(_0x1b03b2){showMessage(_0x12a3dd(0x909)),console[_0x12a3dd(0x76b)]('Copy\x20command\x20failed',_0x1b03b2);}document[_0x12a3dd(0x8c1)][_0x12a3dd(0xb09)](_0xbff856);}function listenForProjectQuizzes(_0x5e43ef){const _0x3414a0=_0x4a882c,_0x501a96=collection(db,'artifacts/'+appId+_0x3414a0(0x527)),_0x4831fc=query(_0x501a96,where('projectId','==',_0x5e43ef));unsubscribeQuizzesListener=onSnapshot(_0x4831fc,async _0x5bffbf=>{const _0xaeccee=_0x3414a0;allQuizzes=_0x5bffbf[_0xaeccee(0x9b1)][_0xaeccee(0x7d8)](_0xdebeb9=>({'id':_0xdebeb9['id'],..._0xdebeb9[_0xaeccee(0xc66)]()})),renderQuizzes();},_0x33055c=>{const _0x5558aa=_0x3414a0;console['error'](_0x5558aa(0x630),_0x33055c),document[_0x5558aa(0x81d)]('project-quizzes-list')[_0x5558aa(0x8ea)]=_0x5558aa(0xcb3);});}async function renderQuizzes(){const _0x49f100=_0x4a882c,_0x1abd91=document[_0x49f100(0x81d)](_0x49f100(0x1ed)),_0x2e5e60=document[_0x49f100(0x81d)](_0x49f100(0x415))['value'][_0x49f100(0x95d)]();let _0x40de60;currentProjectId===_0x49f100(0xb40)?_0x40de60=starredQuizzes:_0x40de60=allQuizzes;let _0x56221a=_0x40de60[_0x49f100(0x3d8)](_0x92ee6=>_0x92ee6[_0x49f100(0x755)][_0x49f100(0x95d)]()[_0x49f100(0x90f)](_0x2e5e60));_0x56221a[_0x49f100(0x6c8)]((_0x54bb82,_0x3a41ff)=>new Date(_0x3a41ff[_0x49f100(0x37c)])-new Date(_0x54bb82[_0x49f100(0x37c)]));if(_0x56221a[_0x49f100(0xa96)]===0x0){_0x1abd91[_0x49f100(0x8ea)]=_0x49f100(0xcd6);return;}const _0x18c947={},_0x502790=_0x56221a['map'](async _0x46fcec=>{const _0x2c97f5=_0x49f100,_0x416050=collection(db,_0x2c97f5(0x878)+appId+_0x2c97f5(0x491)+_0x46fcec['id']+_0x2c97f5(0xc06)),_0x496723=await getDocs(_0x416050);_0x18c947[_0x46fcec['id']]=_0x496723['size'];});await Promise[_0x49f100(0xde1)](_0x502790);let _0x1f4028='';_0x56221a[_0x49f100(0xdc3)](_0x4e3a97=>{const _0x295813=_0x49f100,_0x22bb4a=_0x18c947[_0x4e3a97['id']]||0x0,_0x4772f3=_0x4e3a97[_0x295813(0x589)]||_0x295813(0x3fc),_0xaf18b0=_0x4e3a97['settings']?.[_0x295813(0x95a)]||'none';let _0x276001='',_0x28f233='';const _0x127490=new Date();let _0x3f70b7=_0x4772f3;if(_0x4772f3===_0x295813(0x261)){const _0x5147fe=_0x4e3a97['startTime']?new Date(_0x4e3a97[_0x295813(0x97c)]):null,_0x52d786=_0x4e3a97[_0x295813(0x526)]?new Date(_0x4e3a97[_0x295813(0x526)]):null;if(_0x52d786&&_0x127490>_0x52d786)_0x3f70b7=_0x295813(0xc4e);else _0x5147fe&&_0x127490<_0x5147fe?_0x3f70b7=_0x295813(0x4dd):_0x3f70b7=_0x295813(0x3fc);}switch(_0x3f70b7){case _0x295813(0xc4e):_0x276001=_0x295813(0x71d),_0x28f233=_0x295813(0xcb2);break;case _0x295813(0x4dd):_0x276001=_0x295813(0x34b),_0x28f233='text-blue-700\x20bg-blue-100';break;case'active':_0x276001=_0xaf18b0!==_0x295813(0x486)?'เปิด\x20(จับเวลา)':_0x295813(0x294),_0x28f233=_0x295813(0x912);break;default:_0x276001=_0x295813(0xcfd),_0x28f233='text-green-700\x20bg-green-100';break;}let _0x2e3e59='';const _0x32c97b={'day':_0x295813(0x50a),'month':_0x295813(0x50a),'year':_0x295813(0x698),'hour':_0x295813(0x50a),'minute':_0x295813(0x50a),'hour12':![]};if(_0x4772f3===_0x295813(0x261)){if(_0x4e3a97[_0x295813(0x97c)])_0x2e3e59+=_0x295813(0xb3c)+new Date(_0x4e3a97[_0x295813(0x97c)])['toLocaleString'](_0x295813(0x98b),_0x32c97b)+_0x295813(0x9e5);if(_0x4e3a97['endTime'])_0x2e3e59+=_0x295813(0xd47)+new Date(_0x4e3a97['endTime'])[_0x295813(0x828)](_0x295813(0x98b),_0x32c97b)+_0x295813(0x9e5);}let _0xb9a3af='';if(_0x4e3a97[_0x295813(0x1aa)]){const _0x546c90=allQuizzes[_0x295813(0xa74)](_0x55be53=>_0x55be53['id']===_0x4e3a97[_0x295813(0x1aa)]);if(_0x546c90){let _0x200ba7,_0x2149ff;new Date(_0x4e3a97['createdAt'])<new Date(_0x546c90[_0x295813(0x37c)])?(_0x200ba7=_0x4e3a97['id'],_0x2149ff=_0x546c90['id']):(_0x200ba7=_0x546c90['id'],_0x2149ff=_0x4e3a97['id']),_0xb9a3af+=_0x295813(0xd17)+_0x2149ff+'\x22\x20data-pre-test-id=\x22'+_0x200ba7+_0x295813(0x233);}}else _0x4e3a97[_0x295813(0xd4c)]==='pre-test'&&(_0xb9a3af+=_0x295813(0x525)+_0x4e3a97['id']+_0x295813(0x2c2));if(_0x4e3a97[_0x295813(0xd4c)]==='pre-test'&&_0x22bb4a>0x0)_0xb9a3af+=_0x295813(0x525)+_0x4e3a97['id']+_0x295813(0xdeb);else!_0x4e3a97[_0x295813(0x1aa)]&&_0x4e3a97[_0x295813(0xd4c)]!==_0x295813(0x8ad)&&_0x22bb4a>0x0&&(_0xb9a3af+=_0x295813(0x525)+_0x4e3a97['id']+_0x295813(0x41c));let _0x1fb2b7='';_0x4e3a97[_0x295813(0x1aa)]?_0x1fb2b7=_0x295813(0xe61)+_0x4e3a97['id']+_0x295813(0xdc6):_0x1fb2b7=_0x295813(0xe61)+_0x4e3a97['id']+_0x295813(0xa7a),_0x1f4028+=_0x295813(0xe9e)+_0x4e3a97['id']+_0x295813(0x38b)+_0x4e3a97[_0x295813(0x755)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x4e3a97[_0x295813(0x277)][_0x295813(0xa96)]+_0x295813(0xe6f)+new Date(_0x4e3a97[_0x295813(0x37c)])[_0x295813(0x828)](_0x295813(0x98b))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x22bb4a+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e3e59+_0x295813(0x773)+_0x28f233+'\x22>'+_0x276001+_0x295813(0x202)+_0x4e3a97['id']+_0x295813(0x16a)+_0x4e3a97['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x4e3a97[_0x295813(0xac0)]?_0x295813(0x60e):'far\x20fa-star')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb9a3af+_0x295813(0xb04)+_0x4e3a97['id']+_0x295813(0xcf8)+_0x4e3a97['id']+_0x295813(0x8db)+_0x4e3a97['id']+_0x295813(0x26a)+_0x4e3a97['id']+_0x295813(0xd54)+_0x4e3a97['id']+_0x295813(0xa31)+_0x4e3a97['id']+_0x295813(0x500)+_0x4e3a97['id']+_0x295813(0xe21)+_0x4e3a97[_0x295813(0x755)]+_0x295813(0x33a)+_0x4e3a97['id']+_0x295813(0xd5f)+_0x4e3a97['id']+_0x295813(0xd4b)+_0x1fb2b7+_0x295813(0xd4a)+_0x4e3a97['id']+_0x295813(0xe31)+_0x4e3a97['id']+_0x295813(0xb22)+_0x4e3a97['id']+_0x295813(0xccf)+_0x4e3a97['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4e3a97['id']+_0x295813(0xbfd)+_0x4e3a97['id']+_0x295813(0x6dc)+_0x4e3a97['id']+_0x295813(0x544)+_0x4e3a97['id']+_0x295813(0xe21)+_0x4e3a97[_0x295813(0x755)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x4e3a97['id']+_0x295813(0xca3);}),_0x1abd91[_0x49f100(0x8ea)]=_0x1f4028,document['querySelectorAll'](_0x49f100(0x54d))[_0x49f100(0xdc3)](_0x4973ac=>{const _0x2a4c42=_0x49f100;_0x4973ac[_0x2a4c42(0x843)](_0x2a4c42(0x864),()=>{const _0x4dbe55=_0x2a4c42,_0x23d4f9=_0x4973ac[_0x4dbe55(0x33e)]['quizId'];showQuizDetailView(_0x23d4f9);});});}async function handleUnpairQuiz(_0x1e3703){const _0x28595a=_0x4a882c,_0x4408d5=allQuizzes['find'](_0x28dbd2=>_0x28dbd2['id']===_0x1e3703);if(!_0x4408d5||!_0x4408d5[_0x28595a(0x1aa)]){showMessage(_0x28595a(0x330));return;}showConfirmation(_0x28595a(0x26c),async()=>{const _0x5c7901=_0x28595a;try{const _0x293836=doc(db,_0x5c7901(0x878)+appId+'/public/data/quizzes',_0x1e3703),_0x57c343=doc(db,_0x5c7901(0x878)+appId+_0x5c7901(0x527),_0x4408d5['pairedQuizId']),_0xb676b0=writeBatch(db);_0xb676b0[_0x5c7901(0x243)](_0x293836,{'pairedQuizId':null}),_0xb676b0['update'](_0x57c343,{'pairedQuizId':null}),await _0xb676b0[_0x5c7901(0x8be)](),showMessage(_0x5c7901(0x15e));}catch(_0x231279){console[_0x5c7901(0x76b)](_0x5c7901(0x876),_0x231279),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x4b2dbf,_0x14f069){const _0x26e714=_0x4a882c,_0x46d6a2=window[_0x26e714(0xe56)]('',_0x26e714(0x251)),_0x21d8c9=_0x26e714(0x7b8)+_0x14f069[_0x26e714(0x755)]+_0x26e714(0x25e)+_0x14f069[_0x26e714(0x755)]+_0x26e714(0x7f6)+_0x4b2dbf[_0x26e714(0xb9a)][_0x26e714(0x7d8)](_0x251258=>_0x26e714(0x9d5)+_0x251258+_0x26e714(0xb02))[_0x26e714(0x343)]('')+_0x26e714(0xa83)+_0x4b2dbf[_0x26e714(0x8d8)]+_0x26e714(0x1ff)+_0x4b2dbf[_0x26e714(0x2a4)]['map'](_0x5f127c=>_0x26e714(0x499)+_0x5f127c[_0x26e714(0x62f)]+_0x26e714(0xbb3)+_0x5f127c[_0x26e714(0xe1b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x26e714(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x46d6a2[_0x26e714(0xd75)][_0x26e714(0xb53)](_0x21d8c9),_0x46d6a2['document'][_0x26e714(0x5ce)](),_0x46d6a2[_0x26e714(0x817)]=function(){setTimeout(()=>{const _0x2d623e=_0x2fbb;_0x46d6a2[_0x2d623e(0xd83)]();},0x3e8);};}async function handleAiFixFormula(_0x3b5d44){const _0x29cc5c=_0x4a882c,_0x16e855=document[_0x29cc5c(0x869)](_0x29cc5c(0x8a2)+_0x3b5d44+'\x22]');if(!_0x16e855)return;const _0x3181c3=_0x16e855[_0x29cc5c(0x33e)][_0x29cc5c(0xd12)],_0x4dea3d=_0x16e855[_0x29cc5c(0x869)]('.ai-fix-formula-btn');let _0x5c2b3={'question':_0x16e855[_0x29cc5c(0x869)](_0x29cc5c(0xbf1))[_0x29cc5c(0x710)]};switch(_0x3181c3){case _0x29cc5c(0xca9):_0x5c2b3[_0x29cc5c(0x1b5)]=Array[_0x29cc5c(0xab3)](_0x16e855[_0x29cc5c(0xbec)](_0x29cc5c(0xa34)))['map'](_0x36ce82=>_0x36ce82[_0x29cc5c(0x710)]);break;case _0x29cc5c(0x2bb):_0x5c2b3[_0x29cc5c(0x6ef)]=_0x16e855['querySelector']('.ideal-answer-input')[_0x29cc5c(0x710)];break;case _0x29cc5c(0x7d3):_0x5c2b3[_0x29cc5c(0x6b7)]=_0x16e855[_0x29cc5c(0x869)](_0x29cc5c(0x5fa))[_0x29cc5c(0x710)];break;}_0x4dea3d[_0x29cc5c(0x8ea)]=_0x29cc5c(0x407),_0x4dea3d[_0x29cc5c(0x396)]=!![];try{const _0x258f02=_0x29cc5c(0x964)+JSON['stringify'](_0x5c2b3)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x19af1c={'type':_0x29cc5c(0x252),'properties':{'fixedData':{'type':_0x29cc5c(0x252),'properties':{'question':{'type':'STRING'},'options':{'type':_0x29cc5c(0x1de),'items':{'type':_0x29cc5c(0xcc5)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x29cc5c(0xcc5)}},'required':[_0x29cc5c(0x62f)]}},'required':['fixedData']},_0x51ef38=await callAnalysisApi(_0x258f02,_0x19af1c);if(_0x51ef38&&_0x51ef38['fixedData']){const _0x5ed6bd=_0x51ef38[_0x29cc5c(0x460)];_0x16e855[_0x29cc5c(0x869)]('textarea')['value']=_0x5ed6bd[_0x29cc5c(0x62f)]||_0x5c2b3[_0x29cc5c(0x62f)];switch(_0x3181c3){case'multiple_choice':_0x5ed6bd[_0x29cc5c(0x1b5)]&&_0x5ed6bd['options'][_0x29cc5c(0xa96)]>0x0&&_0x16e855[_0x29cc5c(0xbec)](_0x29cc5c(0xa34))[_0x29cc5c(0xdc3)]((_0x5b5f63,_0x255d03)=>{const _0x11ff91=_0x29cc5c;_0x5b5f63['value']=_0x5ed6bd[_0x11ff91(0x1b5)][_0x255d03]||_0x5c2b3[_0x11ff91(0x1b5)][_0x255d03];});break;case _0x29cc5c(0x2bb):_0x16e855[_0x29cc5c(0x869)](_0x29cc5c(0xc88))[_0x29cc5c(0x710)]=_0x5ed6bd['idealAnswer']||_0x5c2b3[_0x29cc5c(0x6ef)];break;case _0x29cc5c(0x7d3):_0x16e855[_0x29cc5c(0x869)]('.correct-response-input')[_0x29cc5c(0x710)]=_0x5ed6bd[_0x29cc5c(0x6b7)]||_0x5c2b3[_0x29cc5c(0x6b7)];break;}if(_0x5c2b3[_0x29cc5c(0x62f)]!==_0x5ed6bd[_0x29cc5c(0x62f)])try{const _0x42b64f=collection(db,'artifacts/'+appId+'/public/data/learnedFixes');await addDoc(_0x42b64f,{'broken':_0x5c2b3[_0x29cc5c(0x62f)],'fixed':_0x5ed6bd['question'],'createdAt':serverTimestamp()});}catch(_0x3bee97){console[_0x29cc5c(0x76b)](_0x29cc5c(0x8b9),_0x3bee97);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x59cacc){console[_0x29cc5c(0x76b)](_0x29cc5c(0xad3),_0x59cacc),showMessage(_0x29cc5c(0xded));}finally{_0x4dea3d['innerHTML']=_0x29cc5c(0xa21),_0x4dea3d[_0x29cc5c(0x396)]=![];}}async function handleGenerateLessonPlan(_0x4896cf){const _0xabb620=_0x4a882c;showMessage(_0xabb620(0x4c2));try{const _0x2cf1f7=doc(db,_0xabb620(0x878)+appId+_0xabb620(0x527),_0x4896cf),_0x1d3cd5=await getDoc(_0x2cf1f7);if(!_0x1d3cd5[_0xabb620(0xb52)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x811017={'id':_0x4896cf,..._0x1d3cd5[_0xabb620(0xc66)]()},_0x4cddab=collection(db,'artifacts/'+appId+_0xabb620(0x527),_0x4896cf,_0xabb620(0xbe7)),_0x1de129=await getDocs(_0x4cddab),_0x30bde7=_0x1de129[_0xabb620(0x9b1)][_0xabb620(0x7d8)](_0x407331=>_0x407331[_0xabb620(0xc66)]());if(_0x30bde7[_0xabb620(0xa96)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x4df0e2=calculateItemAnalysis(_0x811017,_0x30bde7)[_0xabb620(0x8bb)],_0x14f6c1=calculateDistractorAnalysis(_0x811017,_0x30bde7),_0xe8c438=_0x186835=>{const _0x3aaf29=_0xabb620;if(!_0x186835)return'';return _0x186835[_0x3aaf29(0xc8d)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x3aaf29(0xc8d)](/\n/g,'\x5cn');};let _0x98ccd1=_0xabb620(0xe51);_0x811017[_0xabb620(0x277)][_0xabb620(0xdc3)]((_0x496f10,_0x45d610)=>{const _0x450d3a=_0xabb620,_0xea93dd=_0x4df0e2[_0x45d610]?.['p'][_0x450d3a(0x2af)](0x2)||_0x450d3a(0x700),_0x562bcf=_0x4df0e2[_0x45d610]?.['r'][_0x450d3a(0x2af)](0x2)||_0x450d3a(0x700),_0x5cc94c=_0xe8c438(_0x496f10['questionText']||_0x496f10[_0x450d3a(0x592)]);_0x98ccd1+=_0x450d3a(0x6dd)+(_0x45d610+0x1)+_0x450d3a(0x896)+_0xea93dd+_0x450d3a(0x96a)+_0x562bcf+'):\x20'+_0x5cc94c+'\x5cn';if(_0x496f10[_0x450d3a(0x211)]===_0x450d3a(0xca9)&&_0x14f6c1[_0x45d610]){const _0x54b122=_0x14f6c1[_0x45d610],_0x1bfe27=Object[_0x450d3a(0x2cf)](_0x54b122)[_0x450d3a(0x3d8)](_0x34d31c=>parseInt(_0x34d31c)!==_0x496f10[_0x450d3a(0x1dc)])[_0x450d3a(0x6c8)]((_0x3f301a,_0x415294)=>_0x54b122[_0x415294][_0x450d3a(0x4f2)]-_0x54b122[_0x3f301a][_0x450d3a(0x4f2)])[0x0];if(_0x1bfe27&&_0x54b122[_0x1bfe27][_0x450d3a(0x4f2)]>0x0){const _0x4587f9=_0xe8c438(_0x54b122[_0x1bfe27]['text']);_0x98ccd1+=_0x450d3a(0x7cf)+_0x4587f9+_0x450d3a(0x312);}}});const _0x373332='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x811017[_0xabb620(0x755)]+_0xabb620(0x7d1)+_0x98ccd1+_0xabb620(0x4b5),_0x251955={'type':_0xabb620(0x252),'properties':{'learningGaps':{'type':_0xabb620(0x1de),'items':{'type':_0xabb620(0xcc5)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':_0xabb620(0x252),'properties':{'question':{'type':_0xabb620(0xcc5)},'solution':{'type':_0xabb620(0xcc5)}}}}},'required':[_0xabb620(0xb9a),_0xabb620(0x8d8),_0xabb620(0x2a4)]},_0x1ec024=await callAnalysisApi(_0x373332,_0x251955);await updateDoc(_0x2cf1f7,{'lessonPlan':_0x1ec024});const _0x1e5b8e=_0xabb620(0xe98)+_0x811017[_0xabb620(0x755)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x1ec024[_0xabb620(0xb9a)][_0xabb620(0x7d8)](_0xf786b=>'<li>'+_0xf786b+_0xabb620(0xb02))['join']('')+_0xabb620(0x84f)+_0x1ec024[_0xabb620(0x8d8)]+_0xabb620(0x3c4)+_0x1ec024[_0xabb620(0x2a4)]['map'](_0x1216fa=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1216fa[_0xabb620(0x62f)]+_0xabb620(0x34f)+_0x1216fa[_0xabb620(0xe1b)]+_0xabb620(0x351))[_0xabb620(0x343)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0xabb620(0x81d)](_0xabb620(0xcd8))['textContent']=_0xabb620(0x408)+_0x811017[_0xabb620(0x755)],document[_0xabb620(0x81d)](_0xabb620(0xd99))[_0xabb620(0x8ea)]=_0x1e5b8e,document['getElementById']('lesson-plan-modal')['classList'][_0xabb620(0x469)]('hidden');if(window['MathJax'])MathJax[_0xabb620(0x434)]();messageModal[_0xabb620(0xdd2)]['add'](_0xabb620(0x35b));}catch(_0x3b584d){console[_0xabb620(0x76b)]('Error\x20generating\x20lesson\x20plan:',_0x3b584d),showMessage(_0xabb620(0x388)+_0x3b584d['message']);}}async function handleDuplicateQuiz(_0x2c27f6){const _0x20ff6f=_0x4a882c;try{const _0x1ae0bd=doc(db,'artifacts/'+appId+_0x20ff6f(0x527),_0x2c27f6),_0x465084=await getDoc(_0x1ae0bd);if(_0x465084['exists']()){const _0x113a5d=_0x465084[_0x20ff6f(0xc66)]();let _0x24fe19='',_0x3ff91d=_0x20ff6f(0xa99),_0x1b1e51=null;if(_0x113a5d[_0x20ff6f(0xd4c)]===_0x20ff6f(0x8ad)){let _0x33ed88=_0x113a5d['topic'][_0x20ff6f(0xc8d)](_0x20ff6f(0xde3),'')[_0x20ff6f(0x5f6)]();_0x24fe19='(หลังเรียน)\x20'+_0x33ed88,_0x3ff91d=_0x20ff6f(0x44d),_0x1b1e51=_0x2c27f6;}else _0x24fe19=_0x20ff6f(0xc9d)+_0x113a5d[_0x20ff6f(0x755)];const _0x4b2f80={..._0x113a5d,'topic':_0x24fe19,'createdAt':new Date()[_0x20ff6f(0x31f)](),'quizMode':_0x3ff91d,'pairedQuizId':_0x1b1e51};let _0x1ca502;while(!![]){_0x1ca502=Math[_0x20ff6f(0x22a)](0x3e8+Math[_0x20ff6f(0x8c4)]()*0x2328)[_0x20ff6f(0x188)]();const _0x489ab5=await getDoc(doc(db,'artifacts/'+appId+_0x20ff6f(0x527),_0x1ca502));if(!_0x489ab5[_0x20ff6f(0xb52)]())break;}const _0x30d60a=doc(db,_0x20ff6f(0x878)+appId+_0x20ff6f(0x527),_0x1ca502);await setDoc(_0x30d60a,_0x4b2f80),_0x4b2f80[_0x20ff6f(0xd4c)]==='post-test'&&await updateDoc(_0x1ae0bd,{'pairedQuizId':_0x1ca502}),showMessage(_0x20ff6f(0xb94));}else throw new Error(_0x20ff6f(0x868));}catch(_0x3a46f4){console['error'](_0x20ff6f(0xb26),_0x3a46f4),showMessage(_0x20ff6f(0x2c8));}}async function handleDeleteQuiz(_0x27f6a1,_0x5047e5=!![]){const _0xa0e425=_0x4a882c;try{const _0x5ec653=writeBatch(db),_0x388b94=collection(db,_0xa0e425(0x878)+appId+_0xa0e425(0x491)+_0x27f6a1+_0xa0e425(0xc06)),_0x330b6d=await getDocs(_0x388b94);_0x330b6d[_0xa0e425(0xdc3)](_0x4bd9d5=>{_0x5ec653['delete'](doc(_0x388b94,_0x4bd9d5['id']));});const _0x4a31c1=doc(db,_0xa0e425(0x878)+appId+_0xa0e425(0x527),_0x27f6a1);_0x5ec653[_0xa0e425(0x31e)](_0x4a31c1),await _0x5ec653['commit']();try{console[_0xa0e425(0x792)](_0xa0e425(0xab4)+_0x27f6a1+'\x20in\x20all\x20blueprint\x20projects.');const _0xb6fc25=collection(db,_0xa0e425(0x878)+appId+_0xa0e425(0x7a4)),_0xdda412=await getDocs(_0xb6fc25),_0x30b260=[];_0xdda412[_0xa0e425(0xdc3)](_0xa9a3f5=>{const _0x460503=_0xa0e425,_0x548078=_0xa9a3f5[_0x460503(0xc66)](),_0x1a0c63=_0x548078['topics']||{};let _0x4dea82=![];for(const _0x37a419 in _0x1a0c63){const _0x43423c=_0x1a0c63[_0x37a419];if(_0x43423c[_0x460503(0x784)]&&_0x43423c[_0x460503(0x784)][_0x460503(0x90f)](_0x27f6a1)){_0x4dea82=!![];const _0x2ca161=doc(db,_0x460503(0x878)+appId+_0x460503(0x7a4),_0xa9a3f5['id']),_0x51d4a1=updateDoc(_0x2ca161,{[_0x460503(0x426)+_0x37a419+'.linkedQuizIds']:arrayRemove(_0x27f6a1)});_0x30b260[_0x460503(0xb97)](_0x51d4a1);}}}),_0x30b260[_0xa0e425(0xa96)]>0x0&&(await Promise['all'](_0x30b260),console[_0xa0e425(0x792)](_0xa0e425(0x60d)+_0x30b260[_0xa0e425(0xa96)]+_0xa0e425(0xc28)+_0x27f6a1+'.'));}catch(_0x2778fe){console['error'](_0xa0e425(0x2a1),_0x2778fe);}_0x5047e5&&showMessage(_0xa0e425(0x676));}catch(_0x4e8bd8){console['error'](_0xa0e425(0x849),_0x4e8bd8),_0x5047e5&&showMessage(_0xa0e425(0x78e));}}async function showQuizDetailView(_0x27dbcc){const _0x481031=_0x4a882c;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x481031(0x9d4));try{const _0x48ecd3=doc(db,_0x481031(0x878)+appId+'/public/data/quizzes',_0x27dbcc),_0x1dd43c=await getDoc(_0x48ecd3);if(!_0x1dd43c[_0x481031(0xb52)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x993b8a={'id':_0x1dd43c['id'],..._0x1dd43c[_0x481031(0xc66)]()};currentQuizData=_0x993b8a;const _0x4a90bf=doc(db,_0x481031(0x878)+appId+'/public/data/projects',_0x993b8a['projectId']),_0x2ade7f=await getDoc(_0x4a90bf);_0x2ade7f[_0x481031(0xb52)]()?(currentProjectData=_0x2ade7f[_0x481031(0xc66)](),currentProjectId=_0x993b8a[_0x481031(0xc9b)]):(currentProjectData={'students':[]},currentProjectId=_0x993b8a[_0x481031(0xc9b)]);document['getElementById']('results-quiz-title')['textContent']=_0x993b8a[_0x481031(0x755)],document[_0x481031(0x81d)]('results-quiz-id-display')[_0x481031(0xca8)]=_0x27dbcc;const _0x9df5b9=collection(db,'artifacts/'+appId+_0x481031(0x527),_0x27dbcc,_0x481031(0xbe7));unsubscribeSubmissionsListener=onSnapshot(_0x9df5b9,_0x181123=>{const _0x37b855=_0x481031,_0x4b8ccf=_0x181123[_0x37b855(0x9b1)][_0x37b855(0x7d8)](_0x596d44=>({'id':_0x596d44['id'],..._0x596d44[_0x37b855(0xc66)]()}));currentSubmissions=_0x4b8ccf;const _0x2f2d7f=_0x4b8ccf[_0x37b855(0x3d8)](_0x22d906=>_0x22d906[_0x37b855(0xe78)]&&_0x22d906[_0x37b855(0xe78)]['length']>0x0);renderBehaviorLog(_0x4b8ccf),renderAnswerGrid(currentProjectData[_0x37b855(0x881)],_0x2f2d7f,_0x993b8a),renderAnalytics(_0x993b8a,_0x2f2d7f),renderQuizResultsTable(currentProjectData['students'],_0x4b8ccf,_0x993b8a),renderQuizLeaderboard(_0x2f2d7f,_0x993b8a,_0x37b855(0xb6c));}),showView('quiz-results');}catch(_0x43aa33){console['error'](_0x481031(0x7b4),_0x43aa33),showMessage(_0x481031(0x25f));}}function renderAnswerGrid(_0x250ec0,_0xcf9a59,_0x3ce569){const _0xa35237=_0x4a882c,_0x11ca78=document[_0xa35237(0x81d)](_0xa35237(0x56d));if(!_0x11ca78)return;if(!_0x250ec0||_0x250ec0[_0xa35237(0xa96)]===0x0){_0x11ca78[_0xa35237(0x8ea)]=_0xa35237(0x702);return;}const _0x5acd10=_0x3ce569[_0xa35237(0x277)],_0x933409=_0xcf9a59[_0xa35237(0x68e)]((_0x3769ad,_0x2c8591)=>{const _0x5b6874=_0xa35237;return _0x3769ad[_0x2c8591[_0x5b6874(0xbd9)]]=_0x2c8591,_0x3769ad;},{}),_0x176285=_0x320cdd=>String['fromCharCode'](0x41+_0x320cdd),_0x4cf349=_0x351269=>{const _0x208d49=_0xa35237,_0xee824a=_0x351269['questionType']||_0x3ce569[_0x208d49(0xa6b)];switch(_0xee824a){case _0x208d49(0xca9):return _0x351269[_0x208d49(0x1b5)]&&_0x351269['options'][_0x208d49(0xa96)]>_0x351269['correctAnswerIndex']?_0x176285(_0x351269[_0x208d49(0x1dc)]):'-';case _0x208d49(0x559):const _0x5af0a3=_0x351269[_0x208d49(0x87b)]===!![]||String(_0x351269[_0x208d49(0x87b)])['toLowerCase']()===_0x208d49(0xa6f);return _0x5af0a3?_0x208d49(0xd8c):_0x208d49(0xcc6);case'matching_item':return _0x351269[_0x208d49(0x6b7)]||'-';case _0x208d49(0x2bb):return _0x208d49(0x956);default:return'-';}},_0x1e10f1=(_0xa078ef,_0x3a61c6)=>{const _0x249388=_0xa35237;if(_0x3a61c6[_0x249388(0xa25)]===null||_0x3a61c6[_0x249388(0xa25)]===undefined)return'-';const _0x50790e=_0xa078ef['questionType']||_0x3ce569[_0x249388(0xa6b)];switch(_0x50790e){case _0x249388(0xca9):const _0x43665b=_0xa078ef['options']['findIndex'](_0x43322c=>_0x43322c===_0x3a61c6[_0x249388(0xc92)]);return _0x43665b!==-0x1?_0x176285(_0x43665b):_0x3a61c6[_0x249388(0xc92)]||'-';case _0x249388(0x559):if(_0x3a61c6['answer']=='0'||_0x3a61c6[_0x249388(0xa25)]===!![]||_0x3a61c6[_0x249388(0xa25)]==='true')return _0x249388(0xd8c);return _0x249388(0xcc6);default:return _0x3a61c6[_0x249388(0xa25)];}};let _0x21244d=_0xa35237(0x915)+_0x5acd10[_0xa35237(0x7d8)]((_0x22a1ca,_0x16db3a)=>_0xa35237(0x4eb)+(_0x16db3a+0x1)+'</th>')['join']('')+_0xa35237(0xd7e)+_0x5acd10['map'](_0x109b22=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x4cf349(_0x109b22)+_0xa35237(0x6a7))['join']('')+_0xa35237(0x42d);_0x250ec0[_0xa35237(0xdc3)](_0x4374b4=>{const _0x41afa4=_0xa35237;_0x21244d+='<tr>',_0x21244d+=_0x41afa4(0x7df)+_0x4374b4+'</td>';const _0x3b3511=_0x933409[_0x4374b4];if(_0x3b3511){const _0xd804ea=_0x3b3511['attempts'][_0x3b3511[_0x41afa4(0xe78)][_0x41afa4(0xa96)]-0x1];_0x5acd10['forEach']((_0x529bee,_0x331011)=>{const _0x118d62=_0x41afa4,_0x43dec9=_0xd804ea[_0x118d62(0x6c9)][_0x118d62(0xa74)](_0xa4acfb=>_0xa4acfb[_0x118d62(0x62d)]===_0x529bee['id']);if(_0x43dec9){let _0x10576f='';const _0x26eed3=_0x43dec9[_0x118d62(0x565)]===!![],_0x176f5c=_0x43dec9['wasConfident']===!![]||_0x43dec9[_0x118d62(0xe32)]===_0x118d62(0x995);_0x176f5c?_0x10576f=_0x26eed3?_0x118d62(0x300):_0x118d62(0x3f9):_0x10576f=_0x26eed3?_0x118d62(0xd70):_0x118d62(0xba1),_0x21244d+=_0x118d62(0x4d7)+_0x10576f+'\x22>'+_0x1e10f1(_0x529bee,_0x43dec9)+_0x118d62(0x6a7);}else _0x21244d+=_0x118d62(0x1b3);});}else _0x21244d+=_0x5acd10['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x41afa4(0x343)]('');_0x21244d+=_0x41afa4(0xb12);}),_0x21244d+=_0xa35237(0xd0f),_0x11ca78[_0xa35237(0x8ea)]=_0x21244d;}function renderQuizResultsTable(_0x39cb24,_0x28ef4e,_0x4d423){const _0x1ec2e8=_0x4a882c,_0x4fe7e1=_0x28ef4e['reduce']((_0x18849d,_0x7a459a)=>{return _0x18849d[_0x7a459a['studentName']]=_0x7a459a,_0x18849d;},{}),_0x52f469=document[_0x1ec2e8(0x869)]('#results-table\x20thead\x20tr');_0x52f469&&!_0x52f469[_0x1ec2e8(0x8ea)][_0x1ec2e8(0x90f)](_0x1ec2e8(0x863))&&(_0x52f469[_0x1ec2e8(0x8ea)]+=_0x1ec2e8(0x8c7));const _0x54f69c=document['getElementById']('quiz-results-table-body');if(!_0x39cb24||_0x39cb24['length']===0x0){_0x54f69c[_0x1ec2e8(0x8ea)]=_0x1ec2e8(0x459);return;}const _0x2ab0a2=_0x4d423[_0x1ec2e8(0xd56)]===!![],_0x4c61b1=_0x4d423[_0x1ec2e8(0x7b1)]?.[_0x1ec2e8(0x282)]??-0x1;let _0x31b1c5='';_0x39cb24[_0x1ec2e8(0xdc3)](_0x19fb5f=>{const _0x373c12=_0x1ec2e8,_0x523270=_0x4fe7e1[_0x19fb5f];let _0x2d2a6c=_0x373c12(0x606)+(_0x2ab0a2?'bg-amber-100\x20text-amber-800':_0x373c12(0xcdf))+'\x22>'+(_0x2ab0a2?_0x373c12(0x335):_0x373c12(0x9da))+_0x373c12(0x839);if(_0x523270){if(_0x523270[_0x373c12(0xe78)]&&_0x523270[_0x373c12(0xe78)]['length']>0x0){let _0x6fd5ed=_0x2ab0a2?_0x523270['bestScore']===_0x523270[_0x373c12(0xc93)]:_0x4c61b1!==-0x1&&_0x523270['bestScore']>=_0x4c61b1;const _0x46cc43=_0x6fd5ed?_0x373c12(0xd27):'bg-red-100\x20text-red-800',_0xf01e35=_0x6fd5ed?_0x373c12(0xe86):'ไม่ผ่าน',_0x48b521=_0x373c12(0x20e)+_0x46cc43+'\x22>'+_0xf01e35+_0x373c12(0x839),_0x4aeb7f='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x523270[_0x373c12(0xe78)]?.[_0x373c12(0xa96)]||0x1)+_0x373c12(0xdce);_0x31b1c5+=_0x373c12(0x1e5)+_0x19fb5f+_0x373c12(0xe4d)+_0x523270[_0x373c12(0x636)]+'\x20/\x20'+_0x523270[_0x373c12(0xc93)]+_0x373c12(0xdbe)+_0x48b521+_0x373c12(0x7c4)+_0x2d2a6c+_0x373c12(0x9bb)+_0x523270[_0x373c12(0xa82)]+_0x373c12(0x446)+_0x523270['totalQuestions']+_0x373c12(0xb08)+_0x523270['latestScore']+_0x373c12(0x446)+_0x523270[_0x373c12(0xc93)]+_0x373c12(0x377)+(_0x523270['points']||0x0)+_0x373c12(0xdbe)+_0x4aeb7f+_0x373c12(0xa01)+new Date(_0x523270[_0x373c12(0x8e1)])[_0x373c12(0x828)](_0x373c12(0x98b))+_0x373c12(0x679)+_0x19fb5f+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x423f39=_0x373c12(0x47b);_0x31b1c5+=_0x373c12(0x646)+_0x19fb5f+_0x373c12(0x725)+_0x2d2a6c+_0x373c12(0x28e)+_0x423f39+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x523270['startedAt'])[_0x373c12(0x828)]('th-TH')+_0x373c12(0x7f0)+_0x19fb5f+_0x373c12(0x61b);}}else{const _0x116b87=_0x373c12(0x8bd);_0x31b1c5+=_0x373c12(0x8b2)+_0x19fb5f+_0x373c12(0x6da)+_0x2d2a6c+_0x373c12(0xa91)+_0x116b87+_0x373c12(0x4c9);}}),_0x54f69c[_0x1ec2e8(0x8ea)]=_0x31b1c5;}async function confirmRenameQuiz(){const _0x1cc750=_0x4a882c,_0x1ab592=document[_0x1cc750(0x81d)](_0x1cc750(0xb87))[_0x1cc750(0x710)][_0x1cc750(0x5f6)]();if(!_0x1ab592){showMessage(_0x1cc750(0x21e));return;}if(!actionTargetId)return;const _0x39ac95=doc(db,'artifacts/'+appId+_0x1cc750(0x527),actionTargetId);try{await updateDoc(_0x39ac95,{'topic':_0x1ab592}),showMessage(_0x1cc750(0x52c)),renameQuizModal['classList'][_0x1cc750(0x87d)](_0x1cc750(0x35b)),actionTargetId=null;}catch(_0x4b346a){console[_0x1cc750(0x76b)](_0x1cc750(0xb41),_0x4b346a),showMessage(_0x1cc750(0xb07));}}async function handleMoveQuiz(_0x28ec5a){const _0x2fb360=_0x4a882c;actionTargetId=_0x28ec5a;const _0x57c426=document[_0x2fb360(0x81d)]('move-quiz-project-select');_0x57c426[_0x2fb360(0x8ea)]=_0x2fb360(0x9c6),moveQuizModal[_0x2fb360(0xdd2)][_0x2fb360(0x469)](_0x2fb360(0x35b));try{const _0x30c22a=collection(db,_0x2fb360(0x878)+appId+_0x2fb360(0x468)),_0x50ba41=await getDocs(_0x30c22a),_0x23f048=_0x50ba41[_0x2fb360(0x9b1)][_0x2fb360(0x7d8)](_0x3b82b8=>({'id':_0x3b82b8['id'],..._0x3b82b8[_0x2fb360(0xc66)]()})),_0x4f2db9=_0x23f048[_0x2fb360(0x3d8)](_0x36bf16=>_0x36bf16['id']!==currentProjectId);if(_0x4f2db9['length']===0x0){_0x57c426['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x2fb360(0x81d)](_0x2fb360(0x73f))['disabled']=!![];return;}_0x57c426[_0x2fb360(0x8ea)]=_0x4f2db9[_0x2fb360(0x7d8)](_0x9261d6=>_0x2fb360(0x3f7)+_0x9261d6['id']+'\x22>'+_0x9261d6['projectName']+_0x2fb360(0xb03))[_0x2fb360(0x343)](''),document['getElementById']('confirm-move-quiz-btn')[_0x2fb360(0x396)]=![];}catch(_0x23bbe3){console[_0x2fb360(0x76b)](_0x2fb360(0xdda),_0x23bbe3),showMessage(_0x2fb360(0x892)),moveQuizModal[_0x2fb360(0xdd2)][_0x2fb360(0x87d)](_0x2fb360(0x35b));}}async function confirmMoveQuiz(){const _0xf26993=_0x4a882c,_0x25ca62=document[_0xf26993(0x81d)]('move-quiz-project-select')[_0xf26993(0x710)];if(!_0x25ca62){showMessage(_0xf26993(0x712));return;}if(!actionTargetId)return;const _0x4b25cf=doc(db,_0xf26993(0x878)+appId+_0xf26993(0x527),actionTargetId);try{await updateDoc(_0x4b25cf,{'projectId':_0x25ca62}),showMessage(_0xf26993(0xc1c)),moveQuizModal[_0xf26993(0xdd2)][_0xf26993(0x87d)](_0xf26993(0x35b)),actionTargetId=null;}catch(_0x204e47){console[_0xf26993(0x76b)](_0xf26993(0x551),_0x204e47),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x4d281a){const _0x1db8e8=_0x4a882c;actionTargetId=_0x4d281a;const _0x253429=doc(db,_0x1db8e8(0x878)+appId+_0x1db8e8(0x527),_0x4d281a);try{const _0x8bd566=await getDoc(_0x253429);if(_0x8bd566[_0x1db8e8(0xb52)]()){const _0x25bee0=_0x8bd566[_0x1db8e8(0xc66)](),_0x13696f=_0x25bee0[_0x1db8e8(0x7b1)]||{},_0x2f21ff=_0x25bee0[_0x1db8e8(0x277)]['length'];document['getElementById']('modal-shuffle-select')[_0x1db8e8(0x710)]=_0x13696f[_0x1db8e8(0x850)]||_0x1db8e8(0x486),document[_0x1db8e8(0x81d)]('modal-results-display-select')['value']=_0x13696f[_0x1db8e8(0x21b)]||_0x1db8e8(0x17b),document[_0x1db8e8(0x81d)](_0x1db8e8(0xa3a))[_0x1db8e8(0x710)]=_0x13696f[_0x1db8e8(0x95a)]||_0x1db8e8(0x486),document[_0x1db8e8(0x81d)](_0x1db8e8(0x561))[_0x1db8e8(0x710)]=_0x13696f[_0x1db8e8(0x4d2)]||0xa,document[_0x1db8e8(0x81d)](_0x1db8e8(0x518))[_0x1db8e8(0x710)]=_0x13696f[_0x1db8e8(0x282)]||Math[_0x1db8e8(0x22a)](_0x2f21ff/0x2),document['getElementById']('modal-passing-score-input')[_0x1db8e8(0x1f1)]=_0x2f21ff,document['getElementById'](_0x1db8e8(0x3fd))[_0x1db8e8(0x600)]=_0x13696f['isAdaptive']||![],document['getElementById'](_0x1db8e8(0xea0))[_0x1db8e8(0x600)]=_0x13696f[_0x1db8e8(0x442)]||![];const _0x367a77=_0x13696f['isConfidenceScoringEnabled']||![];document[_0x1db8e8(0x81d)](_0x1db8e8(0x283))[_0x1db8e8(0x600)]=_0x367a77,document['getElementById'](_0x1db8e8(0xc4c))[_0x1db8e8(0x710)]=_0x13696f[_0x1db8e8(0xc9f)]||'checkbox';const _0x52bb8a=document[_0x1db8e8(0x81d)](_0x1db8e8(0xd2c));_0x52bb8a[_0x1db8e8(0xdd2)][_0x1db8e8(0x4b1)](_0x1db8e8(0x35b),!_0x367a77),document[_0x1db8e8(0x81d)](_0x1db8e8(0xa3a))[_0x1db8e8(0xe41)](new Event(_0x1db8e8(0x318))),quizSettingsModal['classList'][_0x1db8e8(0x469)](_0x1db8e8(0x35b));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x506b92){console[_0x1db8e8(0x76b)](_0x1db8e8(0x7d2),_0x506b92),showMessage(_0x1db8e8(0x162));}}async function confirmQuizSettings(){const _0x2f91ca=_0x4a882c;if(!actionTargetId)return;const _0x113a26=doc(db,_0x2f91ca(0x878)+appId+'/public/data/quizzes',actionTargetId),_0x43bad6={'shuffle':document[_0x2f91ca(0x81d)](_0x2f91ca(0x938))[_0x2f91ca(0x710)],'resultsDisplay':document[_0x2f91ca(0x81d)](_0x2f91ca(0x410))[_0x2f91ca(0x710)],'timerMode':document[_0x2f91ca(0x81d)](_0x2f91ca(0xa3a))[_0x2f91ca(0x710)],'timerDuration':parseInt(document[_0x2f91ca(0x81d)](_0x2f91ca(0x561))[_0x2f91ca(0x710)])||0xa,'passingScore':parseInt(document[_0x2f91ca(0x81d)](_0x2f91ca(0x518))[_0x2f91ca(0x710)])||0x0,'isAdaptive':document[_0x2f91ca(0x81d)]('modal-adaptive-quiz-checkbox')[_0x2f91ca(0x600)],'loopUntilPass':document[_0x2f91ca(0x81d)](_0x2f91ca(0xea0))['checked'],'isConfidenceScoringEnabled':document[_0x2f91ca(0x81d)]('modal-confidence-scoring-checkbox')[_0x2f91ca(0x600)],'confidenceMode':document[_0x2f91ca(0x81d)](_0x2f91ca(0xc4c))[_0x2f91ca(0x710)]};try{await updateDoc(_0x113a26,{'settings':_0x43bad6}),showMessage(_0x2f91ca(0x98c)),quizSettingsModal[_0x2f91ca(0xdd2)][_0x2f91ca(0x87d)](_0x2f91ca(0x35b)),actionTargetId=null;}catch(_0x4bf8b4){console[_0x2f91ca(0x76b)](_0x2f91ca(0x853),_0x4bf8b4),showMessage(_0x2f91ca(0x6df));}}async function confirmQuizStatus(){const _0x4b22d9=_0x4a882c;if(!actionTargetId)return;const _0x28b974=doc(db,_0x4b22d9(0x878)+appId+'/public/data/quizzes',actionTargetId),_0x27aa3d=document['querySelector'](_0x4b22d9(0xab9));if(!_0x27aa3d){showMessage(_0x4b22d9(0x411));return;}const _0x9c45b8=_0x27aa3d[_0x4b22d9(0x710)];let _0x2e2d89={};if(_0x9c45b8==='active'||_0x9c45b8===_0x4b22d9(0xc4e))_0x2e2d89={'status':_0x9c45b8,'startTime':null,'endTime':null};else{if(_0x9c45b8===_0x4b22d9(0x285)){const _0x1423bd=document['getElementById'](_0x4b22d9(0x8ef))[_0x4b22d9(0x710)],_0x4ca22d=document['getElementById']('quiz-end-time')['value'];if(!_0x1423bd&&!_0x4ca22d){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x2e2d89={'status':'scheduled','startTime':_0x1423bd?new Date(_0x1423bd)[_0x4b22d9(0x31f)]():null,'endTime':_0x4ca22d?new Date(_0x4ca22d)['toISOString']():null};}}try{await updateDoc(_0x28b974,_0x2e2d89),showMessage(_0x4b22d9(0x717)),quizStatusModal[_0x4b22d9(0xdd2)][_0x4b22d9(0x87d)](_0x4b22d9(0x35b)),actionTargetId=null;}catch(_0x4d108b){console[_0x4b22d9(0x76b)](_0x4b22d9(0x7ed),_0x4d108b),showMessage(_0x4b22d9(0xa58));}}function listenForStudentProfiles(_0x17bbd0){const _0x5dc566=_0x4a882c,_0x1a7fd4=collection(db,'artifacts/'+appId+_0x5dc566(0x9f1)+_0x17bbd0+_0x5dc566(0x6ca));unsubscribeStudentProfilesListener=onSnapshot(_0x1a7fd4,_0x443991=>{const _0x18872e=_0x5dc566,_0x3b7368=_0x443991[_0x18872e(0x9b1)]['map'](_0x18528f=>_0x18528f[_0x18872e(0xc66)]());renderLeaderboard(_0x3b7368,_0x18872e(0xaf0));},_0x107291=>{const _0x2536aa=_0x5dc566;console[_0x2536aa(0x76b)](_0x2536aa(0x614),_0x107291),document['getElementById']('leaderboard-table-body')['innerHTML']=_0x2536aa(0xc26);});}function renderLeaderboard(_0xee67a1,_0xce3f1d){const _0x1ea6d3=_0x4a882c,_0x4b12a4=document['getElementById'](_0xce3f1d);if(!_0xee67a1||_0xee67a1[_0x1ea6d3(0xa96)]===0x0){_0x4b12a4['innerHTML']=_0x1ea6d3(0x833);return;}_0xee67a1['sort']((_0x395de1,_0x328ef8)=>{const _0x251fe1=_0x1ea6d3,_0x482c55=(_0x328ef8[_0x251fe1(0x504)]||0x0)-(_0x395de1['totalPoints']||0x0);if(_0x482c55!==0x0)return _0x482c55;const _0x3b0a20=(_0x328ef8[_0x251fe1(0xcfe)]?.[_0x251fe1(0xd06)]||0x0)-(_0x395de1['badgesCount']?.['specialist']||0x0);if(_0x3b0a20!==0x0)return _0x3b0a20;const _0x16a616=(_0x328ef8['badgesCount']?.[_0x251fe1(0x667)]||0x0)-(_0x395de1[_0x251fe1(0xcfe)]?.[_0x251fe1(0x667)]||0x0);if(_0x16a616!==0x0)return _0x16a616;const _0x59ef3d=(_0x328ef8[_0x251fe1(0xcfe)]?.[_0x251fe1(0xe18)]||0x0)-(_0x395de1[_0x251fe1(0xcfe)]?.[_0x251fe1(0xe18)]||0x0);if(_0x59ef3d!==0x0)return _0x59ef3d;const _0x3ec5d3=(_0x328ef8[_0x251fe1(0xcfe)]?.[_0x251fe1(0x27c)]||0x0)-(_0x395de1[_0x251fe1(0xcfe)]?.[_0x251fe1(0x27c)]||0x0);if(_0x3ec5d3!==0x0)return _0x3ec5d3;return _0x395de1[_0x251fe1(0xbd9)]['localeCompare'](_0x328ef8['studentName'],'th');});let _0x300c22='';_0xee67a1[_0x1ea6d3(0xdc3)]((_0xd29fdb,_0x2b990e)=>{const _0x23ebc1=_0x1ea6d3,_0x5cc0ea=_0x2b990e+0x1,_0x482c4e=_0xd29fdb[_0x23ebc1(0xcfe)]||{};let _0x3fbe1f='';const _0x42f8a2=[_0x23ebc1(0xd06),'perfect_score',_0x23ebc1(0x667),'quick_thinker'];_0x42f8a2['forEach'](_0x515288=>{const _0x326b56=_0x23ebc1;if(_0x482c4e[_0x515288]>0x0){const _0x347b22=Object['values'](BADGES)[_0x326b56(0xa74)](_0x1aa923=>_0x1aa923['id']===_0x515288);_0x347b22&&(_0x515288===_0x326b56(0xd06)?_0x3fbe1f+=_0x326b56(0x5c8)+_0x347b22[_0x326b56(0x523)]+_0x326b56(0x9d3)+_0x347b22['icon']+_0x326b56(0x682):_0x3fbe1f+=_0x326b56(0x5c8)+_0x347b22['name']+'\x20('+_0x482c4e[_0x515288]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x347b22[_0x326b56(0x4be)]+_0x326b56(0x6a2)+_0x482c4e[_0x515288]+_0x326b56(0x511));}}),_0x300c22+=_0x23ebc1(0x4b4)+_0x5cc0ea+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xd29fdb[_0x23ebc1(0xbd9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0xd29fdb['totalPoints']||0x0)+_0x23ebc1(0x344)+(_0x3fbe1f||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4b12a4['innerHTML']=_0x300c22;}function displayLoopScreen(_0x29ada5,_0x244f0f,_0x1a6c40){const _0x1c6de2=_0x4a882c;let _0x2069d0='';_0x1a6c40!==_0x1c6de2(0x98e)&&(_0x2069d0=_0x1c6de2(0x8e0)+_0x29ada5+_0x1c6de2(0x446)+_0x244f0f+'</strong></p>');const _0x425e5f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2069d0+_0x1c6de2(0x583);studentResultArea[_0x1c6de2(0x8ea)]=_0x425e5f,studentResultArea['classList'][_0x1c6de2(0x469)](_0x1c6de2(0x35b)),studentQuizArea[_0x1c6de2(0xdd2)][_0x1c6de2(0x87d)]('hidden'),document[_0x1c6de2(0x81d)](_0x1c6de2(0x274))[_0x1c6de2(0x843)](_0x1c6de2(0x864),()=>{const _0x16e289=_0x1c6de2;studentResultArea[_0x16e289(0xdd2)][_0x16e289(0x87d)](_0x16e289(0x35b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x306e4b,_0x135a20,_0x39c2fa){const _0x29f3f8=_0x4a882c,_0x20e697=document[_0x29f3f8(0x81d)](_0x39c2fa),_0x135bb1=_0x39c2fa==='student-quiz-leaderboard-table-body',_0x1cb79b=_0x135a20['questions'][_0x29f3f8(0xa96)],_0x5ee5c9=document[_0x29f3f8(0x81d)](_0x39c2fa)[_0x29f3f8(0x9d0)](_0x29f3f8(0x5d0));if(_0x5ee5c9&&!_0x135bb1){const _0x3c8195=_0x5ee5c9[_0x29f3f8(0x869)](_0x29f3f8(0xc99));_0x3c8195[_0x29f3f8(0x8ea)]=_0x29f3f8(0x959);}if(!_0x306e4b||_0x306e4b[_0x29f3f8(0xa96)]===0x0){_0x20e697['innerHTML']=_0x29f3f8(0x36f)+(_0x135bb1?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x27113c=[..._0x306e4b];_0x27113c['sort']((_0x80c04c,_0x53bcd8)=>{const _0x571549=_0x29f3f8;let _0xe947d4,_0x2f37a5;switch(quizLeaderboardSortBy){case _0x571549(0xbd9):_0xe947d4=_0x80c04c[_0x571549(0xbd9)]||'',_0x2f37a5=_0x53bcd8[_0x571549(0xbd9)]||'';return quizLeaderboardSortOrder===_0x571549(0x53a)?_0xe947d4[_0x571549(0xddd)](_0x2f37a5,'th'):_0x2f37a5[_0x571549(0xddd)](_0xe947d4,'th');case _0x571549(0xb9d):_0xe947d4=_0x80c04c[_0x571549(0xb9d)]||0x0,_0x2f37a5=_0x53bcd8['points']||0x0;break;case _0x571549(0xe78):_0xe947d4=_0x80c04c['attempts']?.[_0x571549(0xa96)]||0x1,_0x2f37a5=_0x53bcd8['attempts']?.[_0x571549(0xa96)]||0x1;break;case _0x571549(0x8e1):_0xe947d4=new Date(_0x80c04c[_0x571549(0x8e1)]),_0x2f37a5=new Date(_0x53bcd8[_0x571549(0x8e1)]);break;case _0x571549(0x636):default:_0xe947d4=_0x80c04c[_0x571549(0x636)],_0x2f37a5=_0x53bcd8[_0x571549(0x636)];break;}if(_0xe947d4<_0x2f37a5)return quizLeaderboardSortOrder===_0x571549(0x53a)?-0x1:0x1;if(_0xe947d4>_0x2f37a5)return quizLeaderboardSortOrder===_0x571549(0x53a)?0x1:-0x1;return 0x0;});const _0x4bf5c0=_0x135a20[_0x29f3f8(0xd56)]===!![],_0x37020=_0x135a20[_0x29f3f8(0x7b1)]?.[_0x29f3f8(0x282)]??-0x1;let _0x44d3b5='';_0x27113c[_0x29f3f8(0xdc3)]((_0x47ef9c,_0x551a08)=>{const _0x982be0=_0x29f3f8,_0x35ff4c=_0x551a08+0x1;let _0x3ffe27=_0x982be0(0x4a1);if(_0x4bf5c0||_0x37020!==-0x1){let _0x4a9960=_0x4bf5c0?_0x47ef9c[_0x982be0(0x636)]===_0x1cb79b:_0x47ef9c[_0x982be0(0x636)]>=_0x37020;const _0x220e3f=_0x4a9960?_0x982be0(0xd27):_0x982be0(0x620),_0x56223c=_0x4a9960?'ผ่าน':'ไม่ผ่าน';_0x3ffe27=_0x982be0(0x226)+_0x220e3f+'\x22>'+_0x56223c+'</span></td>';}const _0x1964f0=_0x47ef9c[_0x982be0(0xe78)][_0x47ef9c[_0x982be0(0xe78)][_0x982be0(0xa96)]-0x1],_0x34c8dd=(_0x1964f0['badges']||[])[_0x982be0(0x7d8)](_0x792d=>{const _0x53746d=_0x982be0,_0x38a6dd=Object[_0x53746d(0x1f9)](BADGES)[_0x53746d(0xa74)](_0xf55ce3=>_0xf55ce3['id']===_0x792d);return _0x38a6dd?'<span\x20title=\x22'+_0x38a6dd[_0x53746d(0x523)]+'\x22><i\x20class=\x22fas\x20'+_0x38a6dd[_0x53746d(0x4be)]+_0x53746d(0x746):'';})['join']('');_0x44d3b5+=_0x982be0(0x816)+_0x35ff4c+_0x982be0(0xdb0)+_0x47ef9c[_0x982be0(0xbd9)]+_0x982be0(0x9ec)+_0x47ef9c[_0x982be0(0x636)]+_0x982be0(0x446)+_0x1cb79b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ffe27+_0x982be0(0xa35)+(_0x47ef9c['points']||0x0)+_0x982be0(0x5ea)+(_0x135bb1?'':_0x982be0(0x9cc)+(_0x47ef9c[_0x982be0(0xe78)]?.['length']||0x1)+_0x982be0(0x6a7))+_0x982be0(0x254)+(_0x135bb1?'':_0x982be0(0xe19)+new Date(_0x47ef9c['latestSubmittedAt'])[_0x982be0(0x828)]('th-TH')+'</td>')+_0x982be0(0xc36)+(_0x34c8dd||'-')+_0x982be0(0x8df);}),_0x20e697[_0x29f3f8(0x8ea)]=_0x44d3b5,_0x5ee5c9&&!_0x135bb1&&_0x5ee5c9[_0x29f3f8(0xbec)](_0x29f3f8(0xc8b))[_0x29f3f8(0xdc3)](_0x410988=>{const _0x853566=_0x29f3f8,_0x218f02=_0x410988[_0x853566(0x869)](_0x853566(0x376));if(_0x218f02)_0x218f02['remove']();_0x410988[_0x853566(0x33e)][_0x853566(0x6c8)]===quizLeaderboardSortBy&&(_0x410988['innerHTML']+=_0x853566(0x1fb)+(quizLeaderboardSortOrder===_0x853566(0x53a)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x5db7bc){const _0x48c8db=_0x4a882c;if(!currentQuizData||!currentQuizData['id']||!_0x5db7bc){showMessage(_0x48c8db(0xa26));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x5db7bc+_0x48c8db(0x23f),async()=>{const _0x649cf2=_0x48c8db,_0x5bdff3=currentQuizData['id'],_0x57d7a7=doc(db,'artifacts/'+appId+_0x649cf2(0x491)+_0x5bdff3+_0x649cf2(0xc06),_0x5db7bc);try{await deleteDoc(_0x57d7a7),showMessage(_0x649cf2(0xcc0)+_0x5db7bc+_0x649cf2(0x4ac));}catch(_0x199952){console['error']('Error\x20deleting\x20submission:',_0x199952),showMessage(_0x649cf2(0xa95));}});}async function handleLoadQuiz(){const _0x52fdc5=_0x4a882c,_0x280d80=document['getElementById'](_0x52fdc5(0x479)),_0x12df74=_0x280d80[_0x52fdc5(0x710)][_0x52fdc5(0x5f6)]();if(!_0x12df74){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x52fdc5(0x396)]=!![],loadQuizBtn[_0x52fdc5(0x8ea)]=_0x52fdc5(0x9e2);try{const _0xe0c4f7=doc(db,_0x52fdc5(0x878)+appId+'/public/data/quizzes',_0x12df74),_0x11dc92=await getDoc(_0xe0c4f7);if(!_0x11dc92[_0x52fdc5(0xb52)]()){showMessage(_0x52fdc5(0x769));return;}currentQuizData={'id':_0x11dc92['id'],..._0x11dc92[_0x52fdc5(0xc66)]()};const _0x4ebbf6=currentQuizData[_0x52fdc5(0x589)]||_0x52fdc5(0x3fc),_0x184454=new Date();if(_0x4ebbf6===_0x52fdc5(0xc4e)){showMessage(_0x52fdc5(0x7ef));return;}if(_0x4ebbf6===_0x52fdc5(0x261)){const _0x5562dd=currentQuizData[_0x52fdc5(0x97c)]?new Date(currentQuizData[_0x52fdc5(0x97c)]):null,_0x434ab1=currentQuizData[_0x52fdc5(0x526)]?new Date(currentQuizData[_0x52fdc5(0x526)]):null;if(_0x5562dd&&_0x184454<_0x5562dd){showMessage(_0x52fdc5(0x40c)+_0x5562dd['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x434ab1&&_0x184454>_0x434ab1){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x424b0e=currentQuizData['projectId'];currentProjectId=_0x424b0e;const _0x2549e0=doc(db,_0x52fdc5(0x878)+appId+_0x52fdc5(0x468),_0x424b0e),_0x2ba730=await getDoc(_0x2549e0);if(!_0x2ba730[_0x52fdc5(0xb52)]()){showMessage(_0x52fdc5(0xe1a));return;}const _0x2c8757=_0x2ba730['data']();currentStudentProjectData=_0x2c8757,displayStudentNameSelector(_0x2c8757[_0x52fdc5(0x881)],currentQuizData[_0x52fdc5(0x755)]);}catch(_0xe0dc27){console[_0x52fdc5(0x76b)]('Error\x20loading\x20quiz\x20for\x20student:',_0xe0dc27),showMessage(_0x52fdc5(0x22e));}finally{loadQuizBtn[_0x52fdc5(0x396)]=![],loadQuizBtn[_0x52fdc5(0x8ea)]=_0x52fdc5(0xb61);}}async function handleJoinLiveGame(){const _0x1e5e00=_0x4a882c,_0x53b03d=document[_0x1e5e00(0x81d)]('game-pin-input'),_0x4f42db=document[_0x1e5e00(0x81d)]('nickname-input'),_0x3a414b=document['getElementById'](_0x1e5e00(0x7dd)),_0x3f1e0a=_0x53b03d[_0x1e5e00(0x710)][_0x1e5e00(0x5f6)](),_0x2caf4b=_0x4f42db['value'][_0x1e5e00(0x5f6)]();if(!_0x3f1e0a||!_0x2caf4b){showMessage(_0x1e5e00(0x6b5));return;}_0x3a414b[_0x1e5e00(0x396)]=!![],_0x3a414b[_0x1e5e00(0x8ea)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x48bb3a=collection(db,'artifacts/'+appId+_0x1e5e00(0x66b)),_0x288b0c=query(_0x48bb3a,where('gamePin','==',_0x3f1e0a),where(_0x1e5e00(0x589),'in',[_0x1e5e00(0xa08),_0x1e5e00(0x62f)])),_0x364fb4=await getDocs(_0x288b0c);if(_0x364fb4[_0x1e5e00(0xca5)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x3056f4=_0x364fb4['docs'][0x0],_0x595303=_0x3056f4[_0x1e5e00(0xc66)]();currentLiveGameId=_0x3056f4['id'];const _0x3f75ff=_0x595303[_0x1e5e00(0x291)],_0x748f63=doc(db,_0x1e5e00(0x878)+appId+'/public/data/quizzes',_0x3f75ff),_0xeca9b1=await getDoc(_0x748f63);if(!_0xeca9b1[_0x1e5e00(0xb52)]()){showMessage(_0x1e5e00(0xd9b));return;}currentQuizData={'id':_0xeca9b1['id'],..._0xeca9b1[_0x1e5e00(0xc66)]()};if(_0x595303['players']&&_0x595303['players'][_0x2caf4b]){const _0x4cb5c1=_0x595303[_0x1e5e00(0x774)][_0x2caf4b];if(_0x4cb5c1['status']===_0x1e5e00(0xc4e)){_0x3a414b[_0x1e5e00(0x8ea)]=_0x1e5e00(0x2eb);const _0x30d583={};_0x30d583['players.'+_0x2caf4b+_0x1e5e00(0x82b)]=_0x1e5e00(0x3fc),await updateDoc(doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x30d583),showView(_0x1e5e00(0x94d)),currentStudentName=_0x2caf4b,listenForLiveGameUpdates();return;}else{showMessage(_0x1e5e00(0xb14));return;}}if(_0x595303['status']!==_0x1e5e00(0xa08)){showMessage(_0x1e5e00(0x273));return;}_0x3a414b[_0x1e5e00(0x8ea)]=_0x1e5e00(0xdbb);const _0x587dd8={};_0x587dd8[_0x1e5e00(0x9ac)+_0x2caf4b]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x1e5e00(0x3fc)},await updateDoc(doc(db,'artifacts/'+appId+_0x1e5e00(0x66b),currentLiveGameId),_0x587dd8),currentStudentName=_0x2caf4b,listenForLiveGameUpdates();}catch(_0x852e9e){console[_0x1e5e00(0x76b)]('Error\x20joining\x20live\x20game:',_0x852e9e),showMessage(_0x1e5e00(0x7a2));}finally{_0x3a414b[_0x1e5e00(0x396)]=![],_0x3a414b[_0x1e5e00(0x8ea)]=_0x1e5e00(0x99b);}}function displayStudentNameSelector(_0x1858c6,_0x4d6e07){const _0x182f68=_0x4a882c,_0x23626d=document[_0x182f68(0x81d)](_0x182f68(0x4d9));document[_0x182f68(0x81d)](_0x182f68(0x34e))['textContent']=_0x182f68(0x16b)+_0x4d6e07,!_0x1858c6||_0x1858c6[_0x182f68(0xa96)]===0x0?(_0x23626d[_0x182f68(0x8ea)]=_0x182f68(0x56f),startQuizBtn[_0x182f68(0x396)]=!![]):(_0x23626d['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x1858c6[_0x182f68(0xdc3)](_0x3e9b3c=>{const _0x56d083=_0x182f68,_0x147ecd=document[_0x56d083(0xdc8)](_0x56d083(0xd78));_0x147ecd[_0x56d083(0x710)]=_0x3e9b3c,_0x147ecd[_0x56d083(0xca8)]=_0x3e9b3c,_0x23626d[_0x56d083(0x7f4)](_0x147ecd);}),startQuizBtn[_0x182f68(0x396)]=![]),studentInitialView[_0x182f68(0xdd2)]['add'](_0x182f68(0x35b)),studentNameSelectionView[_0x182f68(0xdd2)][_0x182f68(0x469)](_0x182f68(0x35b));}function shuffleArray(_0x551422){const _0x42d260=_0x4a882c;for(let _0x16ea13=_0x551422['length']-0x1;_0x16ea13>0x0;_0x16ea13--){const _0x3ef0fa=Math[_0x42d260(0x22a)](Math['random']()*(_0x16ea13+0x1));[_0x551422[_0x16ea13],_0x551422[_0x3ef0fa]]=[_0x551422[_0x3ef0fa],_0x551422[_0x16ea13]];}}function getShuffledQuiz(_0x3fb7aa){const _0x14ea2d=_0x4a882c;let _0x345c7f=JSON[_0x14ea2d(0x76c)](JSON[_0x14ea2d(0xe01)](_0x3fb7aa));const _0xaf3988=_0x345c7f[_0x14ea2d(0x7b1)]?.[_0x14ea2d(0x850)]||_0x14ea2d(0x486);if(_0xaf3988==='none')return _0x345c7f;return(_0xaf3988===_0x14ea2d(0xca2)||_0xaf3988===_0x14ea2d(0xe6b))&&shuffleArray(_0x345c7f[_0x14ea2d(0x277)]),(_0xaf3988===_0x14ea2d(0x957)||_0xaf3988===_0x14ea2d(0xe6b))&&_0x345c7f[_0x14ea2d(0x277)][_0x14ea2d(0xdc3)](_0x46d98e=>{const _0x4ddb0c=_0x14ea2d,_0x42865b=_0x46d98e[_0x4ddb0c(0x211)]||_0x345c7f[_0x4ddb0c(0xa6b)];if(_0x46d98e['options']){let _0x4a80a6=_0x46d98e[_0x4ddb0c(0x1b5)][_0x4ddb0c(0x7d8)]((_0x14de24,_0x27214d)=>({'text':_0x14de24,'isCorrect':_0x27214d===_0x46d98e[_0x4ddb0c(0x1dc)]}));shuffleArray(_0x4a80a6),_0x46d98e[_0x4ddb0c(0x1b5)]=_0x4a80a6['map'](_0x1332d0=>_0x1332d0['text']),_0x46d98e[_0x4ddb0c(0x1dc)]=_0x4a80a6['findIndex'](_0x3416d4=>_0x3416d4[_0x4ddb0c(0x565)]);}_0x42865b==='matching_item'&&_0x46d98e[_0x4ddb0c(0x27e)]&&shuffleArray(_0x46d98e[_0x4ddb0c(0x27e)]);}),_0x345c7f;}function displayQuizForStudent(_0xa83349){const _0x2defae=_0x4a882c;studentQuizArea[_0x2defae(0xdd2)][_0x2defae(0x469)](_0x2defae(0x35b)),currentDisplayedQuiz=getShuffledQuiz(_0xa83349);currentMode!==_0x2defae(0x1b9)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2defae(0x843)](_0x2defae(0x1ae),handleFullscreenChange),document[_0x2defae(0x843)](_0x2defae(0xdc9),handleVisibilityChange),enterFullscreen(),window[_0x2defae(0x843)](_0x2defae(0x78d),resetDimTimer),window[_0x2defae(0x843)](_0x2defae(0xacc),resetDimTimer),window[_0x2defae(0x843)](_0x2defae(0x5e2),resetDimTimer),window[_0x2defae(0x843)](_0x2defae(0x4b0),resetDimTimer),resetDimTimer());const _0x1c3a61=currentDisplayedQuiz[_0x2defae(0x7b1)]?.[_0x2defae(0x95a)]||'none';if(_0x1c3a61===_0x2defae(0x3d3))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x1c3a61===_0x2defae(0x5bf)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1bfb17=_0x4a882c,_0xd3e710=currentDisplayedQuiz[_0x1bfb17(0x7b1)]?.[_0x1bfb17(0xda2)]===!![],_0x343c3b=currentDisplayedQuiz[_0x1bfb17(0x7b1)]?.[_0x1bfb17(0xc9f)]||_0x1bfb17(0xad9);let _0x1acdf4=_0x1bfb17(0x545)+currentDisplayedQuiz[_0x1bfb17(0x755)]+_0x1bfb17(0x503)+(currentMode===_0x1bfb17(0x1b9)?_0x1bfb17(0x9f2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x1bfb17(0x277)]['forEach']((_0x3650bb,_0x2f7d0c)=>{const _0x177dea=_0x1bfb17,_0x2f9f99=_0x3650bb[_0x177dea(0x211)]||currentDisplayedQuiz[_0x177dea(0xa6b)];_0x1acdf4+=_0x177dea(0x58f);if(_0x2f9f99===_0x177dea(0x7d3)){}else _0x1acdf4+='<p>'+(_0x2f7d0c+0x1)+'.\x20'+(_0x3650bb[_0x177dea(0xb91)]||_0x3650bb[_0x177dea(0x2c5)])+_0x177dea(0x9e5),_0x3650bb['imageCode']&&(_0x1acdf4+=_0x177dea(0x6f6)+_0x3650bb[_0x177dea(0x9b0)]+_0x177dea(0xbbf));_0x1acdf4+=_0x177dea(0xdf0);switch(_0x2f9f99){case _0x177dea(0x2bb):_0x1acdf4+=_0x177dea(0x992)+_0x2f7d0c+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x177dea(0x559):_0x1acdf4+=_0x177dea(0x2c3)+_0x2f7d0c+'_opt0\x22\x20name=\x22question'+_0x2f7d0c+_0x177dea(0x5a1)+_0x2f7d0c+_0x177dea(0x1b2),_0x1acdf4+=_0x177dea(0x2c3)+_0x2f7d0c+_0x177dea(0x18b)+_0x2f7d0c+_0x177dea(0x6f4)+_0x2f7d0c+_0x177dea(0x888);break;case _0x177dea(0x7d3):_0x1acdf4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x3650bb[_0x177dea(0x592)]+_0x177dea(0xe5c)+_0x2f7d0c+_0x177dea(0x400)+_0x3650bb[_0x177dea(0x27e)][_0x177dea(0x7d8)](_0x5735ff=>'<option\x20value=\x22'+_0x5735ff+'\x22>'+_0x5735ff+_0x177dea(0xb03))[_0x177dea(0x343)]('')+_0x177dea(0x93a);break;default:_0x1acdf4+=_0x3650bb['options'][_0x177dea(0x7d8)]((_0x49f76e,_0x4fef96)=>_0x177dea(0xda5)+_0x2f7d0c+_0x177dea(0x74f)+_0x4fef96+_0x177dea(0x7f8)+_0x2f7d0c+_0x177dea(0x818)+_0x4fef96+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2f7d0c+_0x177dea(0x74f)+_0x4fef96+'\x22>'+_0x49f76e+_0x177dea(0x372))[_0x177dea(0x343)]('');break;}_0x1acdf4+=_0x177dea(0xbbf),_0xd3e710&&(_0x1acdf4+=_0x177dea(0xbde),_0x343c3b===_0x177dea(0x690)?_0x1acdf4+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x2f7d0c+_0x177dea(0x4f0)+_0x2f7d0c+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x2f7d0c+_0x177dea(0x524)+_0x2f7d0c+_0x177dea(0x749):_0x1acdf4+=_0x177dea(0xc6a)+_0x2f7d0c+'\x22\x20name=\x22confidence'+_0x2f7d0c+_0x177dea(0x3d1)+_0x2f7d0c+_0x177dea(0xd76),_0x1acdf4+=_0x177dea(0xbbf)),_0x1acdf4+='</div>';}),_0x1acdf4+=_0x1bfb17(0x9f3),_0x1acdf4+=_0x1bfb17(0x30f),studentQuizArea[_0x1bfb17(0x8ea)]=_0x1acdf4;if(currentMode===_0x1bfb17(0x1b9)){const _0x1cd262=document[_0x1bfb17(0x81d)](_0x1bfb17(0xe88));if(_0x1cd262)_0x1cd262[_0x1bfb17(0x843)](_0x1bfb17(0x864),cancelAdminTest);}const _0x554150=document[_0x1bfb17(0x81d)](_0x1bfb17(0x281));_0x554150&&(_0x554150[_0x1bfb17(0x843)](_0x1bfb17(0xe7f),handleSubmitQuiz),_0x554150[_0x1bfb17(0x843)](_0x1bfb17(0x864),_0x2f95de=>{const _0x225b67=_0x1bfb17;if(_0x2f95de['target'][_0x225b67(0xdd2)]['contains'](_0x225b67(0x96e))){const _0x2a78aa=_0x2f95de['target'],_0x3aa27a=_0x2a78aa[_0x225b67(0x33e)][_0x225b67(0x63d)],_0x43d4e4=_0x2a78aa[_0x225b67(0x33e)]['value'];document[_0x225b67(0x81d)](_0x225b67(0x968)+_0x3aa27a)[_0x225b67(0x710)]=_0x43d4e4;const _0x26bf47=_0x2a78aa[_0x225b67(0x196)];_0x26bf47[_0x225b67(0xbec)]('.confidence-choice-btn')[_0x225b67(0xdc3)](_0x16fc36=>_0x16fc36[_0x225b67(0xdd2)][_0x225b67(0x469)]('active')),_0x2a78aa[_0x225b67(0xdd2)][_0x225b67(0x87d)](_0x225b67(0x3fc));}}));if(window[_0x1bfb17(0x389)])window['MathJax'][_0x1bfb17(0x434)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3cdc70){const _0x97d779=_0x4a882c;if(_0x3cdc70)_0x3cdc70[_0x97d779(0x713)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x34341c=document['getElementById'](_0x97d779(0x281));if(!_0x34341c)return;const _0x7e96b9=currentDisplayedQuiz[_0x97d779(0x7b1)]?.['isConfidenceScoringEnabled']===!![],_0x1232be=currentDisplayedQuiz[_0x97d779(0x7b1)]?.['confidenceMode']||_0x97d779(0xad9);if(_0x7e96b9&&_0x1232be===_0x97d779(0x690)){let _0x43795d=!![];for(let _0x3aaaa6=0x0;_0x3aaaa6<currentDisplayedQuiz['questions'][_0x97d779(0xa96)];_0x3aaaa6++){const _0x4199f4=_0x34341c['querySelector'](_0x97d779(0x917)+_0x3aaaa6);if(!_0x4199f4||_0x4199f4['value']===''){_0x43795d=![];break;}}if(!_0x43795d){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x492f68=_0x34341c[_0x97d779(0x869)](_0x97d779(0xd23)),_0x4470be=currentDisplayedQuiz[_0x97d779(0x277)][_0x97d779(0x7e3)](_0xb4996=>_0xb4996[_0x97d779(0x211)]===_0x97d779(0x2bb));_0x492f68&&(_0x492f68[_0x97d779(0x396)]=!![],_0x492f68[_0x97d779(0x8ea)]=_0x4470be?_0x97d779(0x33f):_0x97d779(0x6d8));const _0x3a10c1=new FormData(_0x34341c),_0x3e7293=currentDisplayedQuiz[_0x97d779(0x277)][_0x97d779(0x7d8)]((_0x4a5560,_0x5ea328)=>{const _0x3576a9=_0x97d779,_0x11354c=_0x3a10c1[_0x3576a9(0x19d)](_0x3576a9(0x62f)+_0x5ea328);let _0x1862a3;_0x1232be===_0x3576a9(0x690)?_0x1862a3=_0x3a10c1['get'](_0x3576a9(0xbb6)+_0x5ea328):_0x1862a3=_0x3a10c1['get'](_0x3576a9(0xbb6)+_0x5ea328)==='on';let _0x579ef3=null;if(_0x11354c!==null&&_0x11354c!==undefined){const _0x2ac38d=_0x4a5560['questionType']||currentDisplayedQuiz[_0x3576a9(0xa6b)];_0x2ac38d===_0x3576a9(0xca9)||_0x2ac38d===_0x3576a9(0xe00)?_0x579ef3=parseInt(_0x11354c):_0x579ef3=_0x11354c;}return{'answer':_0x579ef3,'wasConfident':_0x1862a3};}),_0x8bf14b=currentQuizData['id'],_0x4f898c=doc(db,_0x97d779(0x878)+appId+_0x97d779(0x491)+_0x8bf14b+_0x97d779(0xc06),currentStudentName),_0x37ce4d=await getDoc(_0x4f898c),_0x43bf13=_0x37ce4d[_0x97d779(0xb52)]()?_0x37ce4d[_0x97d779(0xc66)]():{},_0x477379=_0x43bf13[_0x97d779(0xe78)]||[];await processAndSubmitAnswers(_0x3e7293,_0x477379);}async function gradeShortAnswerWithAI(_0x211c2a,_0x24c47b){const _0x2c6965=_0x4a882c;if(!_0x211c2a||!_0x24c47b)return![];try{const _0x59dba4=_0x2c6965(0x8cb)+_0x211c2a+_0x2c6965(0x921)+_0x24c47b+_0x2c6965(0x9eb),_0x6a1d8b={'contents':[{'role':_0x2c6965(0x1fa),'parts':[{'text':_0x59dba4}]}]},_0x4f175c=_0x2c6965(0xbdf),_0x4311f7=_0x2c6965(0x186)+_0x4f175c,_0x4b6da0=await fetch(_0x4311f7,{'method':_0x2c6965(0xd1f),'headers':{'Content-Type':_0x2c6965(0xba3)},'body':JSON['stringify'](_0x6a1d8b)});if(!_0x4b6da0['ok'])throw new Error(_0x2c6965(0x2db));const _0x1f6c37=await _0x4b6da0['json'](),_0x7e3bd4=_0x1f6c37[_0x2c6965(0x775)][0x0][_0x2c6965(0x305)][_0x2c6965(0xbc1)][0x0][_0x2c6965(0x95b)]['trim']()[_0x2c6965(0x95d)]();return _0x7e3bd4===_0x2c6965(0xa6f);}catch(_0xd66784){return console[_0x2c6965(0x76b)](_0x2c6965(0xa8b),_0xd66784),![];}}async function processAndSubmitAnswers(_0x58f63a,_0x3a3034){const _0x1766d9=_0x4a882c;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1766d9(0x599)](_0x1766d9(0x1ae),handleFullscreenChange),document[_0x1766d9(0x599)]('visibilitychange',handleVisibilityChange);let _0x3a544e=0x0;const _0x50bd15=[],_0x1b56f1=currentDisplayedQuiz[_0x1766d9(0x277)][_0x1766d9(0xa96)];let _0x4cb635=0x0,_0xfe9a04=[];const _0x3a3f7e=currentDisplayedQuiz[_0x1766d9(0x277)];for(let _0xc643ee=0x0;_0xc643ee<_0x3a3f7e[_0x1766d9(0xa96)];_0xc643ee++){const _0x3bcaa8=_0x3a3f7e[_0xc643ee],_0x111091=_0x58f63a[_0xc643ee],_0x3dbba3=_0x111091?_0x111091[_0x1766d9(0xa25)]:null,_0x17d586=_0x111091?_0x111091[_0x1766d9(0xe32)]:null;let _0x4d7e3a=![],_0x108f04=0x0;if(_0x3dbba3!==null&&_0x3dbba3!==''){const _0x4a7804=_0x3bcaa8[_0x1766d9(0x211)]||currentDisplayedQuiz['quizType'];switch(_0x4a7804){case _0x1766d9(0x7d3):_0x4d7e3a=_0x3dbba3===_0x3bcaa8[_0x1766d9(0x6b7)];break;case _0x1766d9(0x559):const _0x168fb4=_0x3dbba3===!![]||_0x3dbba3===_0x1766d9(0xa6f);_0x4d7e3a=_0x168fb4===_0x3bcaa8['correctAnswer'];break;case _0x1766d9(0x2bb):_0x4d7e3a=await gradeShortAnswer(_0x3dbba3,_0x3bcaa8);break;case _0x1766d9(0xca9):default:_0x4d7e3a=Number(_0x3dbba3)===_0x3bcaa8['correctAnswerIndex'];break;}}if(currentDisplayedQuiz['settings']?.[_0x1766d9(0xda2)]){const _0x50c2ee=_0x111091?_0x111091[_0x1766d9(0xe32)]:null;if(_0x4d7e3a&&(_0x50c2ee===!![]||_0x50c2ee===_0x1766d9(0x995)))_0x108f04=0x2;else{if(_0x4d7e3a)_0x108f04=0x1;else{if(!_0x4d7e3a&&(_0x50c2ee===![]||_0x50c2ee===_0x1766d9(0x36c)||_0x50c2ee===null))_0x108f04=0x0;else!_0x4d7e3a&&(_0x50c2ee===!![]||_0x50c2ee===_0x1766d9(0x995))&&(_0x108f04=-0x1);}}}else _0x108f04=_0x4d7e3a?0x1:0x0;_0x3a544e+=_0x108f04;if(_0x4d7e3a){_0x4cb635++;if(_0x4cb635===0x3)_0xfe9a04['push'](BADGES[_0x1766d9(0x22c)]['id']);}else _0x4cb635=0x0;let _0x140a2e=null;_0x3bcaa8[_0x1766d9(0x1b5)]&&_0x3dbba3!==null&&(_0x140a2e=_0x3bcaa8[_0x1766d9(0x1b5)][_0x3dbba3]),_0x50bd15[_0x1766d9(0xb97)]({'questionId':_0x3bcaa8['id'],'answer':_0x3dbba3,'answerText':_0x140a2e,'isCorrect':_0x4d7e3a,'wasConfident':_0x17d586,'pointsAwarded':_0x108f04,'originalQuestionText':_0x3bcaa8[_0x1766d9(0x592)]||_0x3bcaa8[_0x1766d9(0x2c5)]});}const _0x4f8f96=_0x50bd15[_0x1766d9(0x3d8)](_0x333034=>_0x333034[_0x1766d9(0x565)])[_0x1766d9(0xa96)],_0x5f007e=currentDisplayedQuiz[_0x1766d9(0x7b1)]?.[_0x1766d9(0x282)]??Math[_0x1766d9(0x22a)](_0x1b56f1/0x2);_0x4f8f96===_0x1b56f1&&_0x1b56f1>0x0&&!currentDisplayedQuiz[_0x1766d9(0xd56)]&&_0xfe9a04[_0x1766d9(0xb97)](BADGES[_0x1766d9(0xa53)]['id']);const _0x182196=currentDisplayedQuiz['settings']?.[_0x1766d9(0x95a)];if(_0x182196===_0x1766d9(0x3d3)&&quizStartTime){const _0xd096c8=(new Date()-quizStartTime)/0x3e8,_0x2ac268=currentDisplayedQuiz[_0x1766d9(0x7b1)][_0x1766d9(0x4d2)]*0x3c;_0x4f8f96>=_0x5f007e&&_0xd096c8<_0x2ac268/0x2&&_0xfe9a04['push'](BADGES[_0x1766d9(0x39a)]['id']);}_0x3a3034[_0x1766d9(0xa96)]===0x0&&_0x4f8f96===_0x1b56f1&&_0x1b56f1>0x0&&_0xfe9a04[_0x1766d9(0xb97)](BADGES[_0x1766d9(0x466)]['id']);if(_0x3a3034[_0x1766d9(0xa96)]>0x0){const _0x1c2674=_0x3a3034[0x0]['score'];if(_0x1c2674<_0x5f007e&&_0x4f8f96>=_0x5f007e){const _0x54c0db=_0x3a3034[_0x1766d9(0x7e3)](_0x55ee34=>(_0x55ee34[_0x1766d9(0x7bf)]||[])[_0x1766d9(0x90f)](BADGES[_0x1766d9(0x484)]['id']));!_0x54c0db&&_0xfe9a04[_0x1766d9(0xb97)](BADGES[_0x1766d9(0x484)]['id']);}}_0x3a3034[_0x1766d9(0xa96)]===0x4&&_0xfe9a04[_0x1766d9(0xb97)](BADGES[_0x1766d9(0x726)]['id']);const _0x3f8a40=currentDisplayedQuiz[_0x1766d9(0x7b1)][_0x1766d9(0x21b)];if(currentMode==='admin-testing'){handleResultDisplay(_0x3f8a40,_0x4f8f96,_0x3a544e,_0xfe9a04,_0x50bd15,_0x1b56f1);return;}const _0x4b0701=currentQuizData['id'],_0x4e3290=doc(db,_0x1766d9(0x878)+appId+_0x1766d9(0x491)+_0x4b0701+_0x1766d9(0xc06),currentStudentName);try{const _0x868818=[..._0x3a3034],_0x4357ad={'score':_0x4f8f96,'points':_0x3a544e,'badges':Array[_0x1766d9(0xab3)](new Set(_0xfe9a04)),'submittedAt':new Date()['toISOString'](),'answers':_0x50bd15};_0x868818[_0x1766d9(0xb97)](_0x4357ad);const _0x5ccf68=_0x3a3034[_0x1766d9(0xa96)]===0x0?_0x4f8f96:_0x3a3034[0x0][_0x1766d9(0x64f)]||0x0,_0x5f2215=Math['max'](..._0x868818[_0x1766d9(0x7d8)](_0x236e17=>_0x236e17[_0x1766d9(0x64f)]));await setDoc(_0x4e3290,{'studentName':currentStudentName,'totalQuestions':_0x1b56f1,'attempts':_0x868818,'firstScore':_0x5ccf68,'bestScore':_0x5f2215,'latestScore':_0x4f8f96,'points':_0x3a544e,'latestSubmittedAt':_0x4357ad['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1766d9(0xc9b)],currentStudentName),handleResultDisplay(_0x3f8a40,_0x4f8f96,_0x3a544e,_0xfe9a04,_0x50bd15,_0x1b56f1);}catch(_0x820c47){console['error'](_0x1766d9(0xb23),_0x820c47),showMessage(_0x1766d9(0x5e5));}}async function updateStudentProfile(_0x5ca519,_0x9a9de4){const _0x3b70ac=_0x4a882c,_0x45212f=doc(db,_0x3b70ac(0x878)+appId+'/public/data/projects/'+_0x5ca519+'/studentProfiles',_0x9a9de4);try{const _0x2f53a1=query(collection(db,_0x3b70ac(0x878)+appId+_0x3b70ac(0x527)),where('projectId','==',_0x5ca519)),_0x5edb07=await getDocs(_0x2f53a1),_0x29e18b=new Map(_0x5edb07['docs']['map'](_0x4f53b3=>[_0x4f53b3['id'],_0x4f53b3[_0x3b70ac(0xc66)]()])),_0x13c9fa=Array[_0x3b70ac(0xab3)](_0x29e18b['keys']());await runTransaction(db,async _0x5a3bba=>{const _0x4ad328=_0x3b70ac;let _0x2beaa3=0x0;const _0x33f34f={};let _0x1cd59f=!![],_0x23182a=0x0,_0x40e499=0x0;for(const _0x13f4dd of _0x13c9fa){const _0x249553=_0x29e18b['get'](_0x13f4dd),_0x2271f7=doc(db,_0x4ad328(0x878)+appId+_0x4ad328(0x491)+_0x13f4dd+'/submissions',_0x9a9de4),_0x59a22e=await _0x5a3bba[_0x4ad328(0x19d)](_0x2271f7);if(_0x59a22e[_0x4ad328(0xb52)]()){const _0x26fdd7=_0x59a22e['data'](),_0x50ea90=_0x26fdd7[_0x4ad328(0xe78)]||[];if(_0x50ea90[_0x4ad328(0xa96)]>0x0){const _0x488cf6=_0x50ea90[_0x4ad328(0x68e)]((_0x437405,_0x488402)=>{const _0x2fefda=_0x4ad328;if(_0x488402[_0x2fefda(0x64f)]>_0x437405['score'])return _0x488402;if(_0x488402['score']===_0x437405[_0x2fefda(0x64f)])return(_0x488402['points']||0x0)>(_0x437405[_0x2fefda(0xb9d)]||0x0)?_0x488402:_0x437405;return _0x437405;},{'score':-0x1,'points':-0x1});_0x488cf6[_0x4ad328(0x64f)]>-0x1&&(_0x2beaa3+=_0x488cf6[_0x4ad328(0xb9d)]||0x0,(_0x488cf6[_0x4ad328(0x7bf)]||[])[_0x4ad328(0xdc3)](_0x2ad7ed=>{_0x33f34f[_0x2ad7ed]=(_0x33f34f[_0x2ad7ed]||0x0)+0x1;}));}}if(_0x249553['topic']!==_0x4ad328(0x8af)){_0x40e499++;if(_0x59a22e[_0x4ad328(0xb52)]()){_0x23182a++;const _0x46cef7=_0x59a22e[_0x4ad328(0xc66)]();_0x46cef7[_0x4ad328(0x636)]!==_0x46cef7[_0x4ad328(0xc93)]&&(_0x1cd59f=![]);}else _0x1cd59f=![];}}_0x40e499>0x0&&_0x23182a===_0x40e499&&_0x1cd59f?_0x33f34f[_0x4ad328(0xd06)]=0x1:_0x33f34f[_0x4ad328(0xd06)]=0x0,_0x5a3bba['set'](_0x45212f,{'studentName':_0x9a9de4,'totalPoints':_0x2beaa3,'unlockedBadges':Object[_0x4ad328(0x2cf)](_0x33f34f)['filter'](_0x411b61=>_0x33f34f[_0x411b61]>0x0),'badgesCount':_0x33f34f},{'merge':!![]});});}catch(_0x3b3738){console[_0x3b70ac(0x76b)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x3b3738),showMessage(_0x3b70ac(0xbef));}}function startAdminTest(){const _0x5dd476=_0x4a882c;if(!currentQuizData){showMessage(_0x5dd476(0x208));return;}let _0x35ef77=JSON[_0x5dd476(0x76c)](JSON['stringify'](currentQuizData));currentMode=_0x5dd476(0x1b9),currentStudentName=_0x5dd476(0x204),adminView[_0x5dd476(0xdd2)][_0x5dd476(0x87d)]('hidden'),studentView['classList'][_0x5dd476(0x469)](_0x5dd476(0x35b)),studentInitialView[_0x5dd476(0xdd2)][_0x5dd476(0x87d)]('hidden'),studentNameSelectionView['classList'][_0x5dd476(0x87d)](_0x5dd476(0x35b)),studentResultArea[_0x5dd476(0xdd2)]['add'](_0x5dd476(0x35b)),studentQuizArea[_0x5dd476(0xdd2)][_0x5dd476(0x469)](_0x5dd476(0x35b)),quizStartTime=new Date(),displayQuizForStudent(_0x35ef77);}function handleResultDisplay(_0x3d8227,_0xc120d7,_0x244761,_0x3fa548,_0x1f7a91,_0x1295a7){const _0x4af264=_0x4a882c;if(_0x3d8227===_0x4af264(0x356)){displaySubmissionConfirmation();return;}const _0x322d1b=currentDisplayedQuiz['settings']?.[_0x4af264(0x282)]??Math[_0x4af264(0x22a)](_0x1295a7/0x2),_0x431536=currentDisplayedQuiz['settings']?.[_0x4af264(0x1e1)]??![],_0x46f2af=currentDisplayedQuiz[_0x4af264(0x7b1)]?.[_0x4af264(0x442)]===!![],_0x3ac8e8=_0xc120d7<_0x322d1b,_0x2f68fb=_0x3d8227===_0x4af264(0x3a7)||_0x3d8227==='perfect_score_status';if(_0x46f2af&&_0x3ac8e8&&!_0x2f68fb){_0x3d8227===_0x4af264(0x17b)?displayResultsWithAnswers(_0xc120d7,_0x244761,_0x3fa548,_0x1f7a91,_0x1295a7,!![]):displayLoopScreen(_0xc120d7,_0x1295a7,_0x3d8227);return;}if(_0x431536&&_0x3ac8e8){startAdaptiveFlow(_0x1f7a91,_0xc120d7,_0x1295a7);return;}switch(_0x3d8227){case _0x4af264(0x17b):displayResultsWithAnswers(_0xc120d7,_0x244761,_0x3fa548,_0x1f7a91,_0x1295a7);break;case'show_results_only':displayResultsScoreOnly(_0xc120d7,_0x244761,_0x3fa548,_0x1295a7);break;case _0x4af264(0x98e):displayPassFailOnly(_0xc120d7,_0x1295a7);break;case'half_mark_status':displayHalfMarkResult(_0xc120d7,_0x1295a7);break;case _0x4af264(0x66a):displayPerfectScoreResult(_0xc120d7,_0x1295a7);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2b6bea){const _0x87e21d=_0x4a882c;studentReadingArea[_0x87e21d(0x8ea)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3bb4cc=_0x87e21d(0x6ab)+_0x2b6bea+_0x87e21d(0x92a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x316efa={'type':_0x87e21d(0x252),'properties':{'questionText':{'type':_0x87e21d(0xcc5)},'options':{'type':_0x87e21d(0x1de),'items':{'type':_0x87e21d(0xcc5)}},'correctAnswerIndex':{'type':_0x87e21d(0xd79)},'explanation':{'type':'STRING'}},'required':[_0x87e21d(0x2c5),_0x87e21d(0x1b5),_0x87e21d(0x1dc),_0x87e21d(0xbd8)]},_0x5690c6={'type':_0x87e21d(0x252),'properties':{'topic':{'type':_0x87e21d(0xcc5)},'questions':{'type':'ARRAY','items':_0x316efa}},'required':[_0x87e21d(0x755),_0x87e21d(0x277)]};try{const _0x30a019=await callAnalysisApi(_0x3bb4cc,_0x5690c6);_0x30a019[_0x87e21d(0xd56)]=!![],studentReadingArea['classList'][_0x87e21d(0x87d)](_0x87e21d(0x35b));const _0x40c54e={...currentDisplayedQuiz[_0x87e21d(0x7b1)],'isAdaptive':![],'resultsDisplay':_0x87e21d(0x17b)};_0x30a019['settings']=_0x40c54e,displayQuizForStudent(_0x30a019);}catch(_0x4c2ceb){console[_0x87e21d(0x76b)](_0x87e21d(0x5fd),_0x4c2ceb),showMessage(_0x87e21d(0x786)),showView(_0x87e21d(0x711));}}function displayPassFailOnly(_0x272d7b,_0x5dbec7){const _0x4d3827=_0x4a882c,_0x2179dd=currentDisplayedQuiz[_0x4d3827(0x7b1)]?.['passingScore']??-0x1,_0x132c9f=currentDisplayedQuiz[_0x4d3827(0xd56)]===!![];let _0x4ca398='',_0x43bb7c=![];if(_0x132c9f||_0x2179dd!==-0x1){_0x43bb7c=_0x132c9f?_0x272d7b===_0x5dbec7:_0x272d7b>=_0x2179dd;const _0x286d26=_0x43bb7c?_0x4d3827(0xd27):_0x4d3827(0x620),_0x51ebee=_0x43bb7c?_0x4d3827(0xe86):_0x4d3827(0xe50);_0x4ca398=_0x4d3827(0xdd5)+_0x286d26+'\x22>'+_0x51ebee+_0x4d3827(0x6d0);}else _0x4ca398=_0x4d3827(0x5d9);let _0x4b98d4=_0x4d3827(0x9ee)+currentStudentName+_0x4d3827(0x1be)+_0x4ca398+_0x4d3827(0x8d2);studentResultArea[_0x4d3827(0x8ea)]=_0x4b98d4,studentResultArea[_0x4d3827(0xdd2)][_0x4d3827(0x469)]('hidden'),studentQuizArea[_0x4d3827(0xdd2)]['add'](_0x4d3827(0x35b)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x43bb7c});}function cancelAdminTest(){const _0xf3bc37=_0x4a882c;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0xf3bc37(0x599)](_0xf3bc37(0x1ae),handleFullscreenChange),document[_0xf3bc37(0x599)]('visibilitychange',handleVisibilityChange),currentMode='admin',studentView['classList'][_0xf3bc37(0x87d)](_0xf3bc37(0x35b)),adminView[_0xf3bc37(0xdd2)][_0xf3bc37(0x469)](_0xf3bc37(0x35b)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x2017f4){const _0x6abc03=_0x4a882c,_0x2c69ea={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x2017f4};if(_0x2c69ea[_0x6abc03(0x270)]){const _0x2ee490=_0x6abc03(0x78b);studentResultArea[_0x6abc03(0x91f)](_0x6abc03(0x6c4),_0x2ee490),document[_0x6abc03(0x81d)](_0x6abc03(0x274))[_0x6abc03(0x843)](_0x6abc03(0x864),()=>{const _0x23b911=_0x6abc03;studentResultArea[_0x23b911(0xdd2)]['add'](_0x23b911(0x35b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2652cb=_0x6abc03(0x39d),_0x4db86a=currentMode==='admin-testing',_0x348b68=_0x4db86a?_0x6abc03(0xc13):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x215976='';_0x2c69ea[_0x6abc03(0x2a6)]&&(_0x215976+=_0x6abc03(0x390));let _0x41c86c=_0x2c69ea['showImproveButton'];_0x41c86c===undefined&&(_0x41c86c=_0x2c69ea[_0x6abc03(0x64f)]<_0x2c69ea[_0x6abc03(0xc93)]);_0x41c86c&&(_0x215976+=_0x6abc03(0x2e7));_0x215976+='<button\x20id=\x22'+_0x2652cb+_0x6abc03(0x1d7)+_0x348b68+_0x6abc03(0x63a);const _0x17f07f=_0x6abc03(0xb5b)+_0x215976+_0x6abc03(0xbbf);studentResultArea['insertAdjacentHTML']('beforeend',_0x17f07f),studentResultArea[_0x6abc03(0x869)](_0x6abc03(0x412))?.['addEventListener'](_0x6abc03(0x864),handleShowStudentRankings);const _0x420415=studentResultArea[_0x6abc03(0x869)]('#retake-for-improvement-btn');_0x420415&&_0x420415[_0x6abc03(0x843)](_0x6abc03(0x864),()=>{const _0xf13910=_0x6abc03;studentResultArea[_0xf13910(0xdd2)][_0xf13910(0x87d)](_0xf13910(0x35b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x6abc03(0x81d)](_0x2652cb)[_0x6abc03(0x843)](_0x6abc03(0x864),()=>{const _0x527f68=_0x6abc03;_0x4db86a?(currentMode=_0x527f68(0x3de),studentView[_0x527f68(0xdd2)]['add'](_0x527f68(0x35b)),adminView[_0x527f68(0xdd2)][_0x527f68(0x469)]('hidden'),showView('project-detail')):(showView(_0x527f68(0x711)),document['getElementById'](_0x527f68(0x479))[_0x527f68(0x710)]='');});}function displayResultsWithAnswers(_0x4aaf6c,_0x30455e,_0x407dfa,_0x5ac188,_0x14f205,_0x43af98=![]){const _0x429e3e=_0x4a882c,_0x372d8c=_0x14f205>0x0?_0x4aaf6c/_0x14f205*0x64:0x0,_0xad75f1=currentDisplayedQuiz[_0x429e3e(0x7b1)]?.[_0x429e3e(0x282)]??-0x1,_0x1dc42a=currentDisplayedQuiz[_0x429e3e(0xd56)]===!![];let _0x17e412='';if(_0x1dc42a||_0xad75f1!==-0x1){let _0xcbb743=_0x1dc42a?_0x4aaf6c===_0x14f205:_0x4aaf6c>=_0xad75f1;const _0x2c87a4=_0xcbb743?_0x429e3e(0xd27):_0x429e3e(0x620),_0x1bf1f0=_0xcbb743?_0x429e3e(0xe86):_0x429e3e(0xe50);_0x17e412=_0x429e3e(0xb62)+_0x2c87a4+'\x22>'+_0x1bf1f0+'</p>';}let _0x224443=_0x429e3e(0x25d)+currentStudentName+_0x429e3e(0xd6d)+_0x4aaf6c+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x14f205+_0x429e3e(0x1cf)+_0x17e412+_0x429e3e(0x80e)+_0x30455e+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x372d8c[_0x429e3e(0x2af)](0x0)+_0x429e3e(0xbad);currentDisplayedQuiz['questions'][_0x429e3e(0xdc3)]((_0x5110b4,_0x5bc5d3)=>{const _0x4ede56=_0x429e3e,_0x559fbb=_0x5ac188[_0x5bc5d3],_0x5cc95e=_0x559fbb[_0x4ede56(0xa25)],_0x532c71=_0x559fbb[_0x4ede56(0x565)],_0x15514b=_0x5110b4[_0x4ede56(0x211)]||currentDisplayedQuiz[_0x4ede56(0xa6b)];_0x224443+=_0x4ede56(0xaf3)+(_0x532c71?_0x4ede56(0xa49):_0x4ede56(0xd20))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x5bc5d3+0x1)+'.\x20'+(_0x5110b4['stem']||_0x5110b4['questionText'])+_0x4ede56(0x77b);switch(_0x15514b){case'matching_item':const _0x3bb31f=_0x5cc95e||'ไม่ได้ตอบ',_0xec530f=_0x5110b4[_0x4ede56(0x6b7)];_0x224443+=_0x4ede56(0xd4e)+(!_0x532c71?_0x4ede56(0x8ec):'')+'\x22>'+_0x3bb31f+_0x4ede56(0x562);!_0x532c71&&(_0x224443+=_0x4ede56(0x3c8)+_0xec530f+_0x4ede56(0x9e5));break;case _0x4ede56(0x2bb):_0x224443+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x5cc95e||_0x4ede56(0x634))+_0x4ede56(0x9e5),_0x224443+=_0x4ede56(0x588)+_0x5110b4[_0x4ede56(0x6ef)]+_0x4ede56(0x9e5);break;case _0x4ede56(0x559):_0x224443+=_0x4ede56(0x41a)+(_0x5110b4['correctAnswer']===!![]?_0x4ede56(0x495):'')+'\x20'+(_0x5cc95e===_0x4ede56(0xa6f)&&!_0x532c71?_0x4ede56(0x8ec):'')+_0x4ede56(0x2f4),_0x224443+='<p\x20class=\x22'+(_0x5110b4[_0x4ede56(0x87b)]===![]?_0x4ede56(0x495):'')+'\x20'+(_0x5cc95e==='false'&&!_0x532c71?'line-through\x20text-red-700':'')+_0x4ede56(0xb25);break;default:_0x224443+=_0x5110b4['options'][_0x4ede56(0x7d8)]((_0xe5b1cd,_0x55d516)=>{const _0xe4f01a=_0x4ede56;let _0x5abf74='',_0x5d0b6d='';if(_0x55d516===_0x5110b4['correctAnswerIndex'])_0x5abf74='font-bold\x20text-green-700',_0x5d0b6d=_0xe4f01a(0x5fc);else _0x55d516===_0x5cc95e&&(_0x5abf74='font-bold\x20text-red-700\x20line-through',_0x5d0b6d='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x5abf74+'\x22>'+_0x5d0b6d+_0xe5b1cd+'</div>';})['join']('');break;}_0x224443+=_0x4ede56(0x17d)+(_0x5110b4[_0x4ede56(0xbd8)]||'ไม่มีคำอธิบาย')+_0x4ede56(0xbbf);if(!_0x532c71){const _0x1795d7=_0x5110b4[_0x4ede56(0x592)]||_0x5110b4['questionText'];_0x224443+=_0x4ede56(0x1d2)+escape(_0x1795d7)+_0x4ede56(0x8c5);}_0x224443+=_0x4ede56(0xbbf);}),studentResultArea[_0x429e3e(0x8ea)]=_0x224443,renderEarnedBadges(_0x407dfa,_0x429e3e(0xd22)),studentResultArea[_0x429e3e(0xdd2)][_0x429e3e(0x469)](_0x429e3e(0x35b)),studentQuizArea[_0x429e3e(0xdd2)][_0x429e3e(0x87d)]('hidden'),setupResultScreenBackButton({'isLooping':_0x43af98,'score':_0x4aaf6c,'totalQuestions':_0x14f205,'showRankings':!![]});if(window[_0x429e3e(0x389)])window[_0x429e3e(0x389)][_0x429e3e(0x434)]([studentResultArea]);}function displayResultsScoreOnly(_0xdbe5df,_0x413a71,_0x7774dd,_0x51876f){const _0xdfca3=_0x4a882c,_0x3b61ae=_0x51876f>0x0?_0xdbe5df/_0x51876f*0x64:0x0,_0x1620dd=currentDisplayedQuiz['settings']?.[_0xdfca3(0x282)]??-0x1,_0x1c8d23=currentDisplayedQuiz['isRemedial']===!![];let _0x19776a='';if(_0x1c8d23||_0x1620dd!==-0x1){let _0x488c18=_0x1c8d23?_0xdbe5df===_0x51876f:_0xdbe5df>=_0x1620dd;const _0x1521d6=_0x488c18?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x3be763=_0x488c18?'ผ่าน':_0xdfca3(0xe50);_0x19776a=_0xdfca3(0xb62)+_0x1521d6+'\x22>'+_0x3be763+_0xdfca3(0x9e5);}let _0x167877=_0xdfca3(0x9ee)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0xdbe5df+_0xdfca3(0x4ba)+_0x51876f+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19776a+_0xdfca3(0x80e)+_0x413a71+_0xdfca3(0x6b9)+_0x3b61ae[_0xdfca3(0x2af)](0x0)+_0xdfca3(0xad2);studentResultArea['innerHTML']=_0x167877,renderEarnedBadges(_0x7774dd,_0xdfca3(0xd22)),studentResultArea[_0xdfca3(0xdd2)][_0xdfca3(0x469)](_0xdfca3(0x35b)),studentQuizArea['classList'][_0xdfca3(0x87d)](_0xdfca3(0x35b)),setupResultScreenBackButton({'score':_0xdbe5df,'totalQuestions':_0x51876f,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1a7b8a=_0x4a882c;let _0x96614c=_0x1a7b8a(0x554)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1a7b8a(0x8ea)]=_0x96614c,studentResultArea[_0x1a7b8a(0xdd2)][_0x1a7b8a(0x469)](_0x1a7b8a(0x35b)),studentQuizArea[_0x1a7b8a(0xdd2)][_0x1a7b8a(0x87d)](_0x1a7b8a(0x35b)),document['getElementById'](_0x1a7b8a(0x82d))[_0x1a7b8a(0x843)](_0x1a7b8a(0x864),()=>{const _0x1bc48d=_0x1a7b8a;showView(_0x1bc48d(0x711)),document['getElementById'](_0x1bc48d(0x479))[_0x1bc48d(0x710)]='';});}function renderEarnedBadges(_0x29097a,_0x39f677){const _0x24aa14=_0x4a882c,_0x1574fa=document[_0x24aa14(0x81d)](_0x39f677);if(!_0x1574fa||!_0x29097a||_0x29097a[_0x24aa14(0xa96)]===0x0)return;let _0x57620d='';_0x29097a['forEach']((_0x440d23,_0x566017)=>{const _0x45def7=_0x24aa14,_0x1e6a5b=Object[_0x45def7(0x1f9)](BADGES)['find'](_0xfa63dc=>_0xfa63dc['id']===_0x440d23);_0x1e6a5b&&(_0x57620d+=_0x45def7(0xcfb)+_0x566017*0.2+_0x45def7(0xa5f)+_0x1e6a5b[_0x45def7(0x566)]+_0x45def7(0x91d)+_0x1e6a5b['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x1e6a5b[_0x45def7(0x523)]+_0x45def7(0xbd7));}),_0x1574fa['innerHTML']=_0x57620d;}function startPresentation(_0x5ce71e){const _0x19a3cb=_0x4a882c;currentQuizData=getShuffledQuiz(_0x5ce71e),currentPresentationSlide=0x0,presentationModal[_0x19a3cb(0xe1e)][_0x19a3cb(0x1ba)]=_0x19a3cb(0x649),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x34dd6d=_0x4a882c;document[_0x34dd6d(0xb0a)]&&document[_0x34dd6d(0x5f7)](),presentationModal[_0x34dd6d(0xe1e)][_0x34dd6d(0x1ba)]=_0x34dd6d(0x486);}function renderPresentationSlide(_0x5a1b3d){const _0x15da99=_0x4a882c,_0xd62e9f=document[_0x15da99(0x81d)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x15da99(0x277)]||!currentQuizData[_0x15da99(0x277)][_0x5a1b3d]){_0xd62e9f[_0x15da99(0x8ea)]=_0x15da99(0xa2c);return;}const _0x456a35=currentQuizData[_0x15da99(0x277)][_0x5a1b3d],_0x2b5452=_0x456a35[_0x15da99(0x211)]||currentQuizData['quizType'];_0xd62e9f[_0x15da99(0x8ea)]='';let _0x158f49=_0x15da99(0x24e)+(_0x456a35[_0x15da99(0x9b0)]?_0x15da99(0x6f6)+_0x456a35[_0x15da99(0x9b0)]+_0x15da99(0xbbf):'')+_0x15da99(0x1a4)+(_0x5a1b3d+0x1)+'.\x20'+(_0x456a35[_0x15da99(0x592)]||_0x456a35[_0x15da99(0x2c5)])+_0x15da99(0x971);switch(_0x2b5452){case _0x15da99(0x7d3):_0x158f49+=_0x456a35[_0x15da99(0x27e)][_0x15da99(0x7d8)](_0x458731=>_0x15da99(0x43c)+_0x458731+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x15da99(0x343)]('');break;case _0x15da99(0x559):_0x158f49+=_0x15da99(0x35f),_0x158f49+=_0x15da99(0x43a);break;case _0x15da99(0xe4b):case _0x15da99(0x2bb):_0x158f49+=_0x15da99(0xab0);break;case'fill_in_the_blank':case'multiple_choice':default:_0x158f49+=_0x456a35[_0x15da99(0x1b5)]['map']((_0x248af9,_0x2c686c)=>_0x15da99(0x454)+_0x2c686c+_0x15da99(0xdd6)+_0x248af9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x15da99(0x343)]('');break;}_0x158f49+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x456a35[_0x15da99(0xbd8)]||_0x15da99(0xe8f))+_0x15da99(0x836),_0xd62e9f['innerHTML']=_0x158f49;if(window[_0x15da99(0x389)])window['MathJax']['typesetPromise']([_0xd62e9f]);let _0x4d8f12=[];switch(_0x2b5452){case _0x15da99(0x7d3):_0x4d8f12=_0x456a35['allResponses']||[];break;case _0x15da99(0x559):_0x4d8f12=['ใช่','ไม่ใช่'];break;default:_0x4d8f12=_0x456a35[_0x15da99(0x1b5)]||[];break;}const _0xe8b489=document['getElementById']('presentation-scratchpad-btn');_0xe8b489&&(_0xe8b489[_0x15da99(0x845)]=()=>{openScratchpad(_0x456a35,_0x4d8f12);});document['querySelectorAll'](_0x15da99(0x21a))[_0x15da99(0xdc3)](_0x47e383=>{const _0x16eef8=_0x15da99;_0x47e383[_0x16eef8(0x843)]('click',_0x5d2010=>revealAnswerForPresentation(_0x5a1b3d,_0x5d2010[_0x16eef8(0x2d2)]));});const _0x4bb616=document[_0x15da99(0x81d)](_0x15da99(0x398));_0x4bb616&&_0x4bb616[_0x15da99(0x843)](_0x15da99(0x864),()=>checkShortAnswerForPresentation(_0x5a1b3d)),document[_0x15da99(0x81d)](_0x15da99(0xda8))['textContent']='ข้อที่\x20'+(_0x5a1b3d+0x1)+_0x15da99(0x446)+currentQuizData['questions'][_0x15da99(0xa96)],document['getElementById'](_0x15da99(0x4db))['disabled']=_0x5a1b3d===0x0,document[_0x15da99(0x81d)](_0x15da99(0x66e))[_0x15da99(0x396)]=_0x5a1b3d===currentQuizData[_0x15da99(0x277)][_0x15da99(0xa96)]-0x1;}async function checkShortAnswerForPresentation(_0x101292){const _0x32f0b=_0x4a882c,_0x3d37ef=currentQuizData['questions'][_0x101292],_0x3e4f7e=document['getElementById'](_0x32f0b(0x974)),_0x4d3d73=document[_0x32f0b(0x81d)]('check-presentation-answer-btn'),_0x524e7c=document[_0x32f0b(0x81d)](_0x32f0b(0xe2b)),_0x2bb659=document[_0x32f0b(0x81d)](_0x32f0b(0x215));if(!_0x3e4f7e||!_0x4d3d73||!_0x524e7c||!_0x2bb659)return;const _0x36a351=_0x3e4f7e['value'][_0x32f0b(0x5f6)]();if(_0x36a351==='')return;_0x4d3d73[_0x32f0b(0x396)]=!![],_0x4d3d73[_0x32f0b(0x8ea)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x3e4f7e[_0x32f0b(0x396)]=!![];const _0x146c31=await gradeShortAnswer(_0x36a351,_0x3d37ef);_0x146c31?_0x524e7c[_0x32f0b(0x8ea)]=_0x32f0b(0x53d):_0x524e7c[_0x32f0b(0x8ea)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x3d37ef[_0x32f0b(0x6ef)]+')',_0x524e7c[_0x32f0b(0xdd2)][_0x32f0b(0x469)](_0x32f0b(0x35b)),_0x2bb659[_0x32f0b(0xdd2)]['remove'](_0x32f0b(0x35b)),_0x4d3d73[_0x32f0b(0xdd2)]['add'](_0x32f0b(0x35b));}function revealAnswerForPresentation(_0x4dc952,_0x4794d3){const _0xa3cc5d=_0x4a882c,_0x1d3f8a=currentQuizData[_0xa3cc5d(0x277)][_0x4dc952],_0x4ee9ee=_0x1d3f8a['questionType']||currentQuizData[_0xa3cc5d(0xa6b)];document['querySelectorAll']('.presentation-option')[_0xa3cc5d(0xdc3)](_0x39d14e=>{const _0x59d1d6=_0xa3cc5d;_0x39d14e[_0x59d1d6(0x396)]=!![],_0x39d14e[_0x59d1d6(0xdd2)][_0x59d1d6(0x469)](_0x59d1d6(0xcab));let _0x57e86d=![];if(_0x4ee9ee===_0x59d1d6(0xca9)||_0x4ee9ee===_0x59d1d6(0xe00)){const _0x1a022c=parseInt(_0x39d14e[_0x59d1d6(0x33e)][_0x59d1d6(0x3db)]);_0x57e86d=_0x1a022c===_0x1d3f8a[_0x59d1d6(0x1dc)];}else{if(_0x4ee9ee===_0x59d1d6(0x559)){const _0x456303=_0x39d14e[_0x59d1d6(0x33e)][_0x59d1d6(0xa25)]===_0x59d1d6(0xa6f);_0x57e86d=_0x456303===_0x1d3f8a[_0x59d1d6(0x87b)];}else _0x4ee9ee===_0x59d1d6(0x7d3)&&(_0x57e86d=_0x39d14e[_0x59d1d6(0xca8)]['trim']()===_0x1d3f8a[_0x59d1d6(0x6b7)]);}_0x57e86d?_0x39d14e[_0x59d1d6(0xdd2)]['add'](_0x59d1d6(0x8e2),_0x59d1d6(0xdb6),_0x59d1d6(0x825)):_0x39d14e[_0x59d1d6(0xdd2)][_0x59d1d6(0x87d)]('opacity-50');}),_0x4794d3[_0xa3cc5d(0xdd2)][_0xa3cc5d(0x469)]('opacity-50');let _0x43e677=![];if(_0x4ee9ee==='multiple_choice')_0x43e677=parseInt(_0x4794d3[_0xa3cc5d(0x33e)][_0xa3cc5d(0x3db)])===_0x1d3f8a[_0xa3cc5d(0x1dc)];else{if(_0x4ee9ee===_0xa3cc5d(0x559))_0x43e677=_0x4794d3[_0xa3cc5d(0x33e)][_0xa3cc5d(0xa25)]===_0xa3cc5d(0xa6f)===_0x1d3f8a[_0xa3cc5d(0x87b)];else _0x4ee9ee==='matching_item'&&(_0x43e677=_0x4794d3[_0xa3cc5d(0xca8)][_0xa3cc5d(0x5f6)]()===_0x1d3f8a[_0xa3cc5d(0x6b7)]);}!_0x43e677&&_0x4794d3[_0xa3cc5d(0xdd2)][_0xa3cc5d(0x87d)](_0xa3cc5d(0x46f),_0xa3cc5d(0xdb6),'border-red-700'),document['getElementById'](_0xa3cc5d(0x215))['classList'][_0xa3cc5d(0x469)](_0xa3cc5d(0x35b));}function startWholeQuizTimer(_0x177905){const _0x565ee6=_0x4a882c,_0x590f37=document[_0x565ee6(0x81d)](_0x565ee6(0x69c));if(!_0x590f37)return;const _0x155819=Date[_0x565ee6(0x7c1)]()+_0x177905*0x3c*0x3e8;_0x590f37[_0x565ee6(0x8ea)]=_0x565ee6(0xcf6);const _0x152a55=document[_0x565ee6(0x81d)](_0x565ee6(0x578));quizTimerInterval=setInterval(()=>{const _0x52dbdc=_0x565ee6,_0x4368e5=_0x155819-Date[_0x52dbdc(0x7c1)]();if(_0x4368e5<=0x0)clearInterval(quizTimerInterval),_0x152a55[_0x52dbdc(0xca8)]=_0x52dbdc(0x9d2),showMessage(_0x52dbdc(0xcbb)),handleSubmitQuiz(null);else{const _0x48c92d=Math[_0x52dbdc(0x22a)](_0x4368e5/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x17db5d=Math[_0x52dbdc(0x22a)](_0x4368e5/0x3e8%0x3c)['toString']()[_0x52dbdc(0x346)](0x2,'0');_0x152a55[_0x52dbdc(0xca8)]=_0x48c92d+':'+_0x17db5d;}},0x3e8);}function renderPerQuestionView(){const _0x16d823=_0x4a882c;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x16ca1d=currentDisplayedQuiz[_0x16d823(0x277)][currentQuestionIndex],_0x37b94c=_0x16ca1d[_0x16d823(0x211)]||currentDisplayedQuiz['quizType'],_0x260eaa=currentDisplayedQuiz[_0x16d823(0x7b1)]?.[_0x16d823(0xda2)]===!![];let _0x10bfa8=_0x16d823(0x846)+(currentQuestionIndex+0x1)+_0x16d823(0x457)+currentDisplayedQuiz[_0x16d823(0x277)][_0x16d823(0xa96)]+_0x16d823(0x92b)+(currentMode==='admin-testing'?_0x16d823(0x9f2):'')+_0x16d823(0xd15)+currentDisplayedQuiz[_0x16d823(0x755)]+_0x16d823(0x671);studentQuizArea[_0x16d823(0x8ea)]=_0x10bfa8;let _0x142caf=_0x16ca1d['stem']||_0x16ca1d['questionText'];_0x16ca1d[_0x16d823(0x9b0)]&&(_0x142caf+=_0x16d823(0x6f6)+_0x16ca1d[_0x16d823(0x9b0)]+_0x16d823(0xbbf));let _0x151517='';switch(_0x37b94c){case'short_answer':case _0x16d823(0xe4b):_0x151517=_0x16d823(0xdd7);break;case _0x16d823(0x559):_0x151517=_0x16d823(0x81c);break;case'matching_item':_0x151517=_0x16d823(0x919)+(_0x16ca1d[_0x16d823(0x27e)]||[])['map'](_0x16b3ec=>_0x16d823(0x3f7)+_0x16b3ec+'\x22>'+_0x16b3ec+_0x16d823(0xb03))[_0x16d823(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x16ca1d['options']&&(_0x151517=_0x16ca1d['options']['map']((_0x554355,_0x2ed2ba)=>_0x16d823(0xb6a)+_0x2ed2ba+_0x16d823(0x2a8)+_0x2ed2ba+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x2ed2ba+'\x22>'+_0x554355+_0x16d823(0x996))['join'](''));break;}document['getElementById'](_0x16d823(0x5c2))[_0x16d823(0x8ea)]=_0x142caf,document[_0x16d823(0x81d)](_0x16d823(0x40f))[_0x16d823(0x8ea)]=_0x151517;const _0x56f0d7=currentDisplayedQuiz['settings']?.[_0x16d823(0xda2)]===!![],_0x1d63f8=currentDisplayedQuiz[_0x16d823(0x7b1)]?.['confidenceMode']||_0x16d823(0xad9);if(_0x56f0d7&&_0x1d63f8===_0x16d823(0xad9)){const _0x1c442b=_0x16d823(0xe12);studentQuizArea[_0x16d823(0x869)](_0x16d823(0xd25))[_0x16d823(0x91f)]('beforeend',_0x1c442b);}studentQuizArea[_0x16d823(0x91f)](_0x16d823(0x6c4),_0x16d823(0x7be)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x16d823(0xa96)]-0x1?_0x16d823(0x8d6):_0x16d823(0xb78))+_0x16d823(0x9c4));currentMode===_0x16d823(0x1b9)&&document[_0x16d823(0x81d)](_0x16d823(0xe88))?.[_0x16d823(0x843)]('click',cancelAdminTest);document['getElementById'](_0x16d823(0x4de))['addEventListener'](_0x16d823(0x864),()=>handleNextQuestionInTimedMode(![]));if(window[_0x16d823(0x389)])window[_0x16d823(0x389)][_0x16d823(0x434)]([studentQuizArea]);currentDisplayedQuiz[_0x16d823(0x7b1)]?.[_0x16d823(0x95a)]===_0x16d823(0x5bf)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3fdf16=_0x4a882c,_0x70bee8=currentDisplayedQuiz[_0x3fdf16(0x7b1)][_0x3fdf16(0x4d2)],_0x3f4571=document['getElementById'](_0x3fdf16(0x684));if(!_0x3f4571)return;let _0x1cf186=_0x70bee8;_0x3f4571[_0x3fdf16(0x8ea)]=_0x3fdf16(0x2ee)+_0x1cf186+_0x3fdf16(0x430);const _0x4c3031=document[_0x3fdf16(0x81d)]('timer-bar'),_0x5233d3=document[_0x3fdf16(0x81d)](_0x3fdf16(0xca0));perQuestionTimerInterval=setInterval(()=>{const _0x54919d=_0x3fdf16;_0x1cf186--;const _0x2935e6=_0x1cf186/_0x70bee8*0x64;_0x4c3031['style'][_0x54919d(0xb99)]=_0x2935e6+'%',_0x5233d3[_0x54919d(0xca8)]=_0x1cf186,_0x1cf186<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x54919d(0x623)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x560703=![]){const _0x16f125=_0x4a882c;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x208d58=null,_0x35936b=![];if(!_0x560703){const _0x33f3fe=currentDisplayedQuiz[_0x16f125(0x277)][currentQuestionIndex],_0x22bd15=_0x33f3fe[_0x16f125(0x211)]||currentDisplayedQuiz['quizType'];if(_0x22bd15==='short_answer'||_0x22bd15==='fill_in_no_choices')_0x208d58=document[_0x16f125(0x869)](_0x16f125(0xd65))?.[_0x16f125(0x710)][_0x16f125(0x5f6)]()??'';else{if(_0x22bd15===_0x16f125(0x7d3))_0x208d58=document[_0x16f125(0x869)](_0x16f125(0x41e))?.['value']??'';else{const _0x2fbd32=document['querySelector'](_0x16f125(0x49f));_0x2fbd32&&(_0x208d58=_0x2fbd32['value']);}}if(_0x208d58===null||_0x208d58===''){showMessage(_0x16f125(0x801)),startPerQuestionTimer();return;}const _0x1a8e4c=currentDisplayedQuiz['settings']?.[_0x16f125(0xda2)]===!![],_0x1dae03=currentDisplayedQuiz[_0x16f125(0x7b1)]?.[_0x16f125(0xc9f)]||_0x16f125(0xad9);if(_0x1a8e4c&&_0x1dae03===_0x16f125(0x690)){document[_0x16f125(0x81d)](_0x16f125(0x2b2))[_0x16f125(0x33e)][_0x16f125(0xe03)]=_0x16f125(0x3fe),document['getElementById'](_0x16f125(0xc79))[_0x16f125(0x710)]=_0x208d58,document[_0x16f125(0x81d)]('confidence-modal')['classList'][_0x16f125(0x469)](_0x16f125(0x35b));return;}const _0x3cf603=document[_0x16f125(0x81d)](_0x16f125(0x7a7));_0x3cf603&&(_0x35936b=_0x3cf603[_0x16f125(0x600)]);}const _0x13ec3d={'answer':_0x208d58,'wasConfident':_0x35936b};proceedToNextQuestion(_0x13ec3d);}async function finalizePerQuestionQuiz(){const _0x6a124c=_0x4a882c,_0x437331=currentDisplayedQuiz['questions'][_0x6a124c(0x7e3)](_0x3a25de=>_0x3a25de[_0x6a124c(0x211)]===_0x6a124c(0x2bb));_0x437331?showMessage(_0x6a124c(0xc11)):showMessage(_0x6a124c(0xb66));const _0x24296c=currentQuizData['id'],_0x21eaf2=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x24296c+'/submissions',currentStudentName),_0x40577c=await getDoc(_0x21eaf2),_0x1888f0=_0x40577c[_0x6a124c(0xb52)]()?_0x40577c[_0x6a124c(0xc66)]():{},_0x268217=_0x1888f0['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x268217);}function getResultsFilename(){const _0x20e512=_0x4a882c,_0x2df3ba=document['getElementById']('results-quiz-title')[_0x20e512(0xca8)][_0x20e512(0xc8d)](/[^a-z0-9]/gi,'_')[_0x20e512(0x95d)]();return _0x20e512(0xacf)+(_0x2df3ba||'quiz');}function exportResultsAsImage(){const _0x51e0d8=_0x4a882c,_0x4ad97e=document[_0x51e0d8(0x81d)](_0x51e0d8(0xe87));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4ad97e)[_0x51e0d8(0xd0c)](_0xe977dd=>{const _0x13084a=_0x51e0d8,_0x184e51=document[_0x13084a(0xdc8)]('a');_0x184e51[_0x13084a(0x259)]=getResultsFilename()+'.png',_0x184e51[_0x13084a(0xd74)]=_0xe977dd[_0x13084a(0x50e)]('image/png'),_0x184e51[_0x13084a(0x864)](),messageModal[_0x13084a(0xdd2)][_0x13084a(0x87d)](_0x13084a(0x35b));});}function exportResultsAsPDF(){const _0x4d9f89=_0x4a882c,{jsPDF:_0x1c7075}=window[_0x4d9f89(0x695)],_0x4a9f27=new _0x1c7075();_0x4a9f27['setFont'](_0x4d9f89(0x286),_0x4d9f89(0xb7f)),_0x4a9f27[_0x4d9f89(0x918)]({'html':_0x4d9f89(0x22b)}),_0x4a9f27[_0x4d9f89(0xe66)](getResultsFilename()+_0x4d9f89(0x77c));}function exportResultsAsWord(){const _0x108b6e=_0x4a882c,_0x3f703a=_0x108b6e(0x611)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x108b6e(0xc74)+_0x108b6e(0x301),_0x228daf='</body></html>',_0x244b29=_0x3f703a+document[_0x108b6e(0x81d)](_0x108b6e(0xe87))[_0x108b6e(0x8ea)]+_0x228daf,_0x5ba41b=_0x108b6e(0xc02)+encodeURIComponent(_0x244b29),_0x64eebb=document[_0x108b6e(0xdc8)]('a');document['body'][_0x108b6e(0x7f4)](_0x64eebb),_0x64eebb[_0x108b6e(0xd74)]=_0x5ba41b,_0x64eebb[_0x108b6e(0x259)]=getResultsFilename()+_0x108b6e(0xa07),_0x64eebb['click'](),document['body']['removeChild'](_0x64eebb);}function exportResultsAsExcel(){const _0x4aabd0=_0x4a882c,_0xb21717=document[_0x4aabd0(0x81d)](_0x4aabd0(0xb80));let _0x20dcd3=[];for(let _0x301938=0x0;_0x301938<_0xb21717['rows']['length'];_0x301938++){let _0x54911c=[],_0x458563=_0xb21717[_0x4aabd0(0xd0d)][_0x301938]['querySelectorAll'](_0x4aabd0(0x413));for(let _0x2fbd76=0x0;_0x2fbd76<_0x458563[_0x4aabd0(0xa96)];_0x2fbd76++){_0x54911c[_0x4aabd0(0xb97)]('\x22'+_0x458563[_0x2fbd76][_0x4aabd0(0x263)][_0x4aabd0(0xc8d)](/"/g,'\x22\x22')+'\x22');}_0x20dcd3[_0x4aabd0(0xb97)](_0x54911c[_0x4aabd0(0x343)](','));}const _0x53a120=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x20dcd3[_0x4aabd0(0x343)]('\x0a')],{'type':_0x4aabd0(0x55d)}),_0x305f04=document['createElement']('a');_0x305f04['href']=URL[_0x4aabd0(0xe9b)](_0x53a120),_0x305f04[_0x4aabd0(0x259)]=getResultsFilename()+_0x4aabd0(0x990),_0x305f04[_0x4aabd0(0x864)]();}function exportTableAsImage(_0x3ae9ba,_0x3ca490){const _0x2424f4=_0x4a882c,_0x39a99c=document[_0x2424f4(0x81d)](_0x3ae9ba);if(!_0x39a99c){showMessage(_0x2424f4(0xdf2));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x39a99c)[_0x2424f4(0xd0c)](_0x4e315d=>{const _0x288f05=_0x2424f4,_0x2722a4=document[_0x288f05(0xdc8)]('a');_0x2722a4[_0x288f05(0x259)]=_0x3ca490+'.png',_0x2722a4[_0x288f05(0xd74)]=_0x4e315d[_0x288f05(0x50e)](_0x288f05(0x6fe)),_0x2722a4[_0x288f05(0x864)](),messageModal[_0x288f05(0xdd2)][_0x288f05(0x87d)](_0x288f05(0x35b));});}function exportTableAsPDF(_0x2a0179,_0x2c3c74){const _0x3ead39=_0x4a882c,{jsPDF:_0x514b85}=window[_0x3ead39(0x695)],_0x4d1e50=new _0x514b85();_0x4d1e50[_0x3ead39(0x314)]('helvetica','normal'),_0x4d1e50[_0x3ead39(0x918)]({'html':'#'+_0x2a0179}),_0x4d1e50['save'](_0x2c3c74+_0x3ead39(0x77c));}function exportTableAsWord(_0x183c69,_0x31ebb2){const _0x4955d8=_0x4a882c,_0x4efac8=document[_0x4955d8(0x81d)](_0x183c69);if(!_0x4efac8){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x270d24=_0x4955d8(0x611)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x4955d8(0xc74)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x49481b='</body></html>',_0x4c4b28=_0x270d24+_0x4efac8[_0x4955d8(0x8ea)]+_0x49481b,_0x44b706='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x4c4b28),_0x4f754a=document[_0x4955d8(0xdc8)]('a');document['body'][_0x4955d8(0x7f4)](_0x4f754a),_0x4f754a[_0x4955d8(0xd74)]=_0x44b706,_0x4f754a[_0x4955d8(0x259)]=_0x31ebb2+_0x4955d8(0xa07),_0x4f754a[_0x4955d8(0x864)](),document['body']['removeChild'](_0x4f754a);}function exportTableAsExcel(_0x4961a7,_0x34473e){const _0x1e30ac=_0x4a882c,_0x309434=document[_0x1e30ac(0x81d)](_0x4961a7);if(!_0x309434){showMessage(_0x1e30ac(0xdf2));return;}let _0xe6f8e2=[];for(let _0x49c340=0x0;_0x49c340<_0x309434[_0x1e30ac(0xd0d)]['length'];_0x49c340++){let _0x285dcb=[],_0x3197ed=_0x309434[_0x1e30ac(0xd0d)][_0x49c340][_0x1e30ac(0xbec)](_0x1e30ac(0x413));for(let _0x7bff8a=0x0;_0x7bff8a<_0x3197ed[_0x1e30ac(0xa96)];_0x7bff8a++){_0x285dcb[_0x1e30ac(0xb97)]('\x22'+_0x3197ed[_0x7bff8a][_0x1e30ac(0x263)][_0x1e30ac(0xc8d)](/"/g,'\x22\x22')+'\x22');}_0xe6f8e2[_0x1e30ac(0xb97)](_0x285dcb[_0x1e30ac(0x343)](','));}const _0xe9b3da=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xe6f8e2[_0x1e30ac(0x343)]('\x0a')],{'type':_0x1e30ac(0x55d)}),_0x1a614e=document['createElement']('a');_0x1a614e['href']=URL['createObjectURL'](_0xe9b3da),_0x1a614e['download']=_0x34473e+_0x1e30ac(0x990),_0x1a614e['click']();}function renderAnalytics(_0x38bd4a,_0x221ce9){const _0x3cf6f9=_0x4a882c,_0x1f59a3=_0x221ce9[_0x3cf6f9(0x3d8)](_0x367f19=>_0x367f19[_0x3cf6f9(0x3e4)]!==undefined),_0x38c763=currentProjectData[_0x3cf6f9(0x881)]['length'],_0x58b8af=_0x1f59a3['length'],_0x4c96c9=_0x38c763-_0x58b8af,_0x181110=_0x38c763>0x0?_0x58b8af/_0x38c763*0x64:0x0,_0x551bd0=_0x1f59a3['map'](_0x41613a=>_0x41613a['latestScore']),_0xe36ffd=_0x551bd0[_0x3cf6f9(0xa96)]>0x0?_0x551bd0[_0x3cf6f9(0x68e)]((_0x55afa0,_0x4057fc)=>_0x55afa0+_0x4057fc,0x0)/_0x551bd0[_0x3cf6f9(0xa96)]:0x0,_0x2a80ef=_0x38bd4a['questions']['length'],_0x54bfe5=_0x2a80ef>0x0?_0xe36ffd/_0x2a80ef*0x64:0x0,_0x474690=calculateItemAnalysis(_0x38bd4a,_0x1f59a3),_0xf13062=calculateReliabilityKR20(_0x38bd4a,_0x1f59a3,_0x474690[_0x3cf6f9(0x8bb)]);let _0x5dc2c2='';if(_0xf13062!==null){let _0x3d5b7e='';if(_0xf13062>=0.9)_0x3d5b7e=_0x3cf6f9(0x942);else{if(_0xf13062>=0.8)_0x3d5b7e='ดีมาก';else{if(_0xf13062>=0.7)_0x3d5b7e='ดี';else{if(_0xf13062>=0.6)_0x3d5b7e=_0x3cf6f9(0xe2a);else _0x3d5b7e='ควรปรับปรุง';}}}_0x5dc2c2=_0x3cf6f9(0x65e)+_0xf13062[_0x3cf6f9(0x2af)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x3d5b7e+_0x3cf6f9(0xe6d);}const _0x23570a=document['getElementById'](_0x3cf6f9(0x1b6));_0x23570a[_0x3cf6f9(0x8ea)]=_0x3cf6f9(0xe47)+_0x181110[_0x3cf6f9(0x2af)](0x0)+_0x3cf6f9(0xc2d)+_0x58b8af+'/'+_0x38c763+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0xe36ffd[_0x3cf6f9(0x2af)](0x2)+_0x3cf6f9(0x7b3)+_0x54bfe5[_0x3cf6f9(0x2af)](0x0)+_0x3cf6f9(0x6bf)+(_0x551bd0['length']>0x0?Math['max'](..._0x551bd0):_0x3cf6f9(0x700))+_0x3cf6f9(0x5da)+(_0x551bd0[_0x3cf6f9(0xa96)]>0x0?Math[_0x3cf6f9(0x73a)](..._0x551bd0):_0x3cf6f9(0x700))+_0x3cf6f9(0x1e3)+_0x5dc2c2+_0x3cf6f9(0x670);const _0x50df8f=document[_0x3cf6f9(0x81d)](_0x3cf6f9(0xd89));_0x50df8f&&_0x50df8f[_0x3cf6f9(0x469)]();const _0x3009d1=_0x3cf6f9(0x8f6);_0x23570a[_0x3cf6f9(0x91f)]('afterend',_0x3009d1);const _0x51bb97=currentProjectData[_0x3cf6f9(0x881)]||[];renderSubmissionChart(_0x58b8af,_0x4c96c9,_0x1f59a3,_0x51bb97),renderScoreDistributionChart(_0x1f59a3,_0x2a80ef),renderQuestionAnalytics(_0x38bd4a,_0x1f59a3,_0x51bb97),renderInterestingStats(_0x38bd4a,_0x1f59a3);}async function handleExportLessonPDF(){const _0x1031be=_0x4a882c,_0x4bf301=document[_0x1031be(0x81d)](_0x1031be(0xd99)),_0x2a5fd6=document[_0x1031be(0x81d)](_0x1031be(0xcd8))[_0x1031be(0xca8)],_0x292f36=window[_0x1031be(0xe56)]('',_0x1031be(0x251)),_0x5dedcc=_0x1031be(0x799)+_0x2a5fd6+_0x1031be(0xb42)+_0x4bf301['innerHTML']+_0x1031be(0xb45);_0x292f36['document'][_0x1031be(0xb53)](_0x5dedcc),_0x292f36[_0x1031be(0xd75)][_0x1031be(0x5ce)](),_0x292f36[_0x1031be(0x817)]=function(){setTimeout(()=>{const _0x323e06=_0x2fbb;_0x292f36[_0x323e06(0xd83)]();},0x5dc);};}function renderInterestingStats(_0xa6bb38,_0x345a61){const _0x391b4e=_0x4a882c,_0x345353=document['getElementById'](_0x391b4e(0x492));if(!_0x345353)return;if(_0x345a61['length']===0x0){_0x345353['innerHTML']=_0x391b4e(0xb68);return;}const _0x29c87f=_0xa6bb38[_0x391b4e(0x277)][_0x391b4e(0x7d8)]((_0x1b1a00,_0x289556)=>({'index':_0x289556+0x1,'text':_0x1b1a00[_0x391b4e(0x2c5)]||_0x1b1a00['stem'],'correct':0x0}));_0x345a61[_0x391b4e(0xdc3)](_0x375dd8=>{const _0x1bc68f=_0x391b4e,_0x2a16bb=_0x375dd8['attempts'][_0x375dd8[_0x1bc68f(0xe78)][_0x1bc68f(0xa96)]-0x1];_0x2a16bb&&_0x2a16bb[_0x1bc68f(0x6c9)]&&_0x2a16bb[_0x1bc68f(0x6c9)][_0x1bc68f(0xdc3)](_0x573f22=>{const _0x5e6842=_0x1bc68f,_0xac81de=_0x29c87f['find'](_0xfdf37f=>_0xfdf37f['text']===_0x573f22[_0x5e6842(0x199)]);_0x573f22[_0x5e6842(0x565)]&&_0xac81de&&_0xac81de['correct']++;});});const _0x5a5907=_0x345a61[_0x391b4e(0xa96)],_0x5b2e52=Math[_0x391b4e(0x1f1)](..._0x29c87f[_0x391b4e(0x7d8)](_0x579cee=>_0x579cee[_0x391b4e(0xc77)])),_0x56f15f=Math[_0x391b4e(0x73a)](..._0x29c87f[_0x391b4e(0x7d8)](_0x261b06=>_0x261b06['correct'])),_0x38fee4=_0x29c87f[_0x391b4e(0x3d8)](_0x7b7dca=>_0x7b7dca[_0x391b4e(0xc77)]===_0x5b2e52)[_0x391b4e(0x7d8)](_0x3e418a=>_0x391b4e(0x7da)+_0x3e418a[_0x391b4e(0x3db)]),_0x11d78f=_0x29c87f[_0x391b4e(0x3d8)](_0x25c05a=>_0x25c05a[_0x391b4e(0xc77)]===_0x56f15f)[_0x391b4e(0x7d8)](_0x5899f7=>'ข้อ\x20'+_0x5899f7[_0x391b4e(0x3db)]),_0x385d88=_0x345a61[_0x391b4e(0x6c8)]((_0x34c0ff,_0x4a8ce8)=>_0x4a8ce8[_0x391b4e(0x3e4)]-_0x34c0ff['latestScore'])[_0x391b4e(0x3d8)]((_0x124c81,_0xcaa474,_0x2c0472)=>_0x124c81[_0x391b4e(0x3e4)]===_0x2c0472[0x0][_0x391b4e(0x3e4)]),_0x3bb065=_0x345a61['sort']((_0x5a4608,_0x482fe3)=>_0x5a4608['latestScore']-_0x482fe3['latestScore'])[_0x391b4e(0x3d8)]((_0x2bf2ce,_0x5762a0,_0x29f08a)=>_0x2bf2ce['latestScore']===_0x29f08a[0x0][_0x391b4e(0x3e4)]),_0x20b422='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x38fee4[_0x391b4e(0x343)](',\x20')+_0x391b4e(0xbb2)+_0x5b2e52+'\x20/\x20'+_0x5a5907+_0x391b4e(0xb83)+_0x11d78f['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x5a5907-_0x56f15f)+_0x391b4e(0x446)+_0x5a5907+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x385d88['map'](_0x393846=>_0x393846[_0x391b4e(0xbd9)])[_0x391b4e(0x343)](',\x20')+_0x391b4e(0x36e)+_0x385d88[0x0][_0x391b4e(0x3e4)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x3bb065[_0x391b4e(0x7d8)](_0x5b1c26=>_0x5b1c26[_0x391b4e(0xbd9)])[_0x391b4e(0x343)](',\x20')+_0x391b4e(0x36e)+_0x3bb065[0x0]['latestScore']+_0x391b4e(0xa30);_0x345353[_0x391b4e(0x8ea)]=_0x20b422;}function renderSubmissionChart(_0x54107a,_0x26a7d8,_0x5d9226,_0x20b5ff){const _0x20d86f=_0x4a882c,_0x11a7c7=document[_0x20d86f(0x81d)](_0x20d86f(0xc33))[_0x20d86f(0x5ae)]('2d'),_0x4fee02=_0x5d9226[_0x20d86f(0x7d8)](_0x83f33c=>_0x83f33c[_0x20d86f(0xbd9)]),_0x14541c=_0x20b5ff[_0x20d86f(0x3d8)](_0x5befab=>!_0x4fee02['includes'](_0x5befab));chartInstances[_0x20d86f(0xa80)]&&chartInstances[_0x20d86f(0xa80)]['destroy'](),chartInstances[_0x20d86f(0xa80)]=new Chart(_0x11a7c7,{'type':'doughnut','data':{'labels':[_0x20d86f(0x765),_0x20d86f(0x5de)],'datasets':[{'data':[_0x54107a,_0x26a7d8],'backgroundColor':[_0x20d86f(0xd62),_0x20d86f(0x9e6)],'borderColor':[_0x20d86f(0x9ae),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x20d86f(0x72f)},'tooltip':{'callbacks':{'label':function(_0x4de483){const _0x399fd3=_0x20d86f;let _0x39eb5e=_0x4de483[_0x399fd3(0x59a)]||'';return _0x39eb5e&&(_0x39eb5e+=':\x20'),_0x39eb5e+=_0x4de483['raw'],_0x39eb5e;},'afterLabel':function(_0x78e118){const _0x4f4c61=_0x20d86f;let _0x434c8e;return _0x78e118[_0x4f4c61(0x9ed)]===0x0?_0x434c8e=_0x4fee02:_0x434c8e=_0x14541c,_0x434c8e[_0x4f4c61(0xa96)]>0x0?_0x434c8e[_0x4f4c61(0x343)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x275a0f,_0x25ced7){const _0x1a6fa7=_0x4a882c,_0x45a2e2=document[_0x1a6fa7(0x81d)](_0x1a6fa7(0x2d0))['getContext']('2d'),_0x82d40b={};for(let _0x59c4d0=0x0;_0x59c4d0<=_0x25ced7;_0x59c4d0++){_0x82d40b[_0x59c4d0]=0x0;}_0x275a0f[_0x1a6fa7(0xdc3)](_0x4c330b=>{const _0x39f648=_0x1a6fa7;_0x82d40b[_0x4c330b[_0x39f648(0x3e4)]]!==undefined&&_0x82d40b[_0x4c330b[_0x39f648(0x3e4)]]++;}),chartInstances[_0x1a6fa7(0x64f)]&&chartInstances[_0x1a6fa7(0x64f)][_0x1a6fa7(0x325)](),chartInstances[_0x1a6fa7(0x64f)]=new Chart(_0x45a2e2,{'type':_0x1a6fa7(0xe09),'data':{'labels':Object[_0x1a6fa7(0x2cf)](_0x82d40b),'datasets':[{'label':_0x1a6fa7(0xcd9),'data':Object[_0x1a6fa7(0x1f9)](_0x82d40b),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1a6fa7(0xba5)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xf78fed){const _0x2bce01=_0x1a6fa7,_0x832343=_0xf78fed[_0x2bce01(0x59a)],_0x5b7b18=_0x275a0f['filter'](_0x1b22a6=>_0x1b22a6[_0x2bce01(0x3e4)]==_0x832343)['map'](_0x22cb88=>_0x22cb88[_0x2bce01(0xbd9)]);return _0x5b7b18[_0x2bce01(0xa96)]>0x0?_0x5b7b18[_0x2bce01(0x343)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xb8b4b,_0x5605ea,_0x567580){const _0x4fe763=_0x4a882c,_0x308001=document[_0x4fe763(0x81d)](_0x4fe763(0xc58));if(_0x567580[_0x4fe763(0xa96)]===0x0){_0x308001[_0x4fe763(0x8ea)]=_0x4fe763(0xc9c);return;}const _0x1cd31e=calculateItemAnalysis(_0xb8b4b,_0x5605ea),_0x5d4412=calculateDistractorAnalysis(_0xb8b4b,_0x5605ea);let _0x112ecc='';_0x1cd31e[_0x4fe763(0x3b9)]&&(_0x112ecc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1cd31e[_0x4fe763(0x3b9)][_0x4fe763(0x4a6)][_0x4fe763(0xa96)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cd31e[_0x4fe763(0x3b9)][_0x4fe763(0x4a6)][_0x4fe763(0x7d8)](_0x448b2a=>_0x4fe763(0x9d5)+_0x448b2a+'</li>')['join']('')+_0x4fe763(0x3bf)+_0x1cd31e[_0x4fe763(0x3b9)][_0x4fe763(0x6bd)][_0x4fe763(0xa96)]+_0x4fe763(0x77d)+_0x1cd31e[_0x4fe763(0x3b9)][_0x4fe763(0x6bd)][_0x4fe763(0x7d8)](_0x243f47=>_0x4fe763(0x9d5)+_0x243f47+_0x4fe763(0xb02))[_0x4fe763(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x431e5f='';const _0x46d326=_0x5605ea[_0x4fe763(0x7d8)](_0x3bcaaf=>_0x3bcaaf[_0x4fe763(0xbd9)]),_0x411a40=_0x3f9300=>{const _0x34e7d2=_0x4fe763;if(_0x3f9300>=0.8)return _0x34e7d2(0x708);if(_0x3f9300>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x3f9300>=0.4)return _0x34e7d2(0x85a);if(_0x3f9300>=0.2)return _0x34e7d2(0xb15);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x5cff59=_0x5eb61d=>{const _0x10324d=_0x4fe763;if(_0x5eb61d<0x0)return _0x10324d(0xb2f);if(_0x5eb61d>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x5eb61d>=0.3)return _0x10324d(0xc17);if(_0x5eb61d>=0.2)return _0x10324d(0x692);return _0x10324d(0xaeb);},_0x316ea7=_0x41a661=>{const _0x21a7de=_0x4fe763,_0x25db61=_0x41a661['toFixed'](0x0);if(parseFloat(_0x25db61)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x25db61+_0x21a7de(0x96f);if(_0x41a661>=0x32)return _0x21a7de(0x44f)+_0x25db61+_0x21a7de(0x96f);return _0x21a7de(0xc85)+_0x25db61+'%</span>';};_0xb8b4b[_0x4fe763(0x277)]['forEach']((_0x455f84,_0x4a6d24)=>{const _0x14aca0=_0x4fe763,_0x13399e=_0x1cd31e[_0x14aca0(0x8bb)][_0x4a6d24],_0x5aba84=_0x5d4412[_0x4a6d24],_0x10c0d9=_0x455f84[_0x14aca0(0x592)]||_0x455f84[_0x14aca0(0x2c5)]||_0x455f84[_0x14aca0(0xb91)];let _0x176ce9=0x0;const _0x27975e=[],_0x26ae74=[];_0x5605ea['forEach'](_0x2ea78e=>{const _0x1f1497=_0x14aca0,_0x179cf8=_0x2ea78e['attempts'][_0x2ea78e[_0x1f1497(0xe78)]['length']-0x1];if(_0x179cf8&&_0x179cf8[_0x1f1497(0x6c9)]){const _0x14a4c9=_0x179cf8[_0x1f1497(0x6c9)]['find'](_0x40bc01=>_0x40bc01[_0x1f1497(0x199)]===_0x10c0d9)??_0x179cf8[_0x1f1497(0x6c9)][_0x4a6d24]??null;_0x14a4c9&&(_0x14a4c9[_0x1f1497(0x565)]?(_0x176ce9++,_0x27975e['push'](_0x2ea78e[_0x1f1497(0xbd9)])):_0x26ae74[_0x1f1497(0xb97)](_0x2ea78e['studentName']));}});const _0x114228=_0x5605ea[_0x14aca0(0xa96)]>0x0?_0x176ce9/_0x5605ea['length']*0x64:0x0,_0xb4bbd0=_0x567580[_0x14aca0(0x3d8)](_0x5e833d=>!_0x46d326[_0x14aca0(0x90f)](_0x5e833d)),_0x2752a6=_0x13399e?_0x14aca0(0x7e5)+_0x13399e['p']['toFixed'](0x2)+_0x14aca0(0x2da)+_0x411a40(_0x13399e['p'])+_0x14aca0(0x8f4)+_0x13399e['r'][_0x14aca0(0x2af)](0x2)+_0x14aca0(0x2da)+_0x5cff59(_0x13399e['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x316ea7(_0x114228)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0xc3234e='';_0x5aba84&&(_0xc3234e=_0x14aca0(0xdef)+Object[_0x14aca0(0x2cf)](_0x5aba84)[_0x14aca0(0x7d8)](_0x3ed59d=>{const _0x460dd9=_0x14aca0,_0x3b869d=_0x5aba84[_0x3ed59d],_0x10785f=parseInt(_0x3ed59d)===_0x455f84['correctAnswerIndex'],_0x551563=!_0x10785f&&_0x3b869d[_0x460dd9(0x607)]>_0x3b869d['upper_group_count'];return'<tr\x20class=\x22'+(_0x10785f?_0x460dd9(0x4a7):'')+_0x460dd9(0xbf3)+(_0x10785f?'✔\x20':'')+_0x3b869d[_0x460dd9(0x95b)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3b869d[_0x460dd9(0x903)]+_0x460dd9(0xe89)+_0x3b869d[_0x460dd9(0x607)]+'\x20'+(_0x551563?'👍':'')+_0x460dd9(0xe89)+_0x3b869d[_0x460dd9(0x4f2)]+'</td></tr>';})[_0x14aca0(0x343)]('')+_0x14aca0(0x949));let _0x346f72='';_0x13399e&&_0x13399e['upperGroupResponders']&&(_0x346f72=_0x14aca0(0x4fe)+_0x13399e[_0x14aca0(0x8fa)][_0x14aca0(0xa96)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x13399e['upperGroupResponders'][_0x14aca0(0x7d8)](_0x17529a=>_0x14aca0(0x9d5)+(_0x17529a[_0x14aca0(0x565)]?_0x14aca0(0x867):_0x14aca0(0x307))+'\x20'+_0x17529a[_0x14aca0(0x523)]+'</li>')['join']('')+_0x14aca0(0x5c4)+_0x13399e[_0x14aca0(0xbe6)][_0x14aca0(0xa96)]+_0x14aca0(0x610)+_0x13399e['lowerGroupResponders'][_0x14aca0(0x7d8)](_0xcc3d97=>_0x14aca0(0x9d5)+(_0xcc3d97[_0x14aca0(0x565)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x14aca0(0x307))+'\x20'+_0xcc3d97[_0x14aca0(0x523)]+_0x14aca0(0xb02))[_0x14aca0(0x343)]('')+_0x14aca0(0x320)),_0x431e5f+=_0x14aca0(0x764)+(_0x4a6d24+0x1)+':\x20'+_0x10c0d9+_0x14aca0(0xb63)+_0x2752a6+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x10c0d9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x176ce9+_0x14aca0(0x457)+_0x5605ea['length']+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x114228[_0x14aca0(0x2af)](0x0)+_0x14aca0(0x313)+_0x27975e['length']+_0x14aca0(0xa1a)+(_0x27975e['length']>0x0?_0x27975e['join'](',\x20'):_0x14aca0(0x48b))+_0x14aca0(0x1f6)+_0x26ae74[_0x14aca0(0xa96)]+_0x14aca0(0xa1a)+(_0x26ae74['length']>0x0?_0x26ae74[_0x14aca0(0x343)](',\x20'):_0x14aca0(0x48b))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0xb4bbd0[_0x14aca0(0xa96)]+_0x14aca0(0xa1a)+(_0xb4bbd0[_0x14aca0(0xa96)]>0x0?_0xb4bbd0[_0x14aca0(0x343)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc3234e+_0x14aca0(0x1af)+_0x346f72+_0x14aca0(0xa32);}),_0x308001['innerHTML']=_0x112ecc+_0x431e5f;try{window[_0x4fe763(0x389)]&&MathJax[_0x4fe763(0x434)]&&MathJax[_0x4fe763(0x434)]([_0x308001]);}catch(_0x1a1584){console[_0x4fe763(0x76b)]('MathJax\x20typeset\x20error\x20(analytics):',_0x1a1584);}}function _0x2fbb(_0x4c78b0,_0x2969f2){const _0x18ec64=_0x18ec();return _0x2fbb=function(_0x2fbb04,_0x2f671c){_0x2fbb04=_0x2fbb04-0x15e;let _0x446a02=_0x18ec64[_0x2fbb04];return _0x446a02;},_0x2fbb(_0x4c78b0,_0x2969f2);}function calculateDistractorAnalysis(_0x375c1b,_0x506a11){const _0x43cd45=_0x4a882c,_0x585b40={};if(_0x506a11[_0x43cd45(0xa96)]<0x2)return _0x585b40;const _0x46f1f7=[..._0x506a11][_0x43cd45(0x6c8)]((_0x58cdc7,_0x1b9c63)=>{const _0x5cd37b=_0x43cd45,_0x363b27=_0x1b9c63[_0x5cd37b(0x3e4)]-_0x58cdc7[_0x5cd37b(0x3e4)];if(_0x363b27!==0x0)return _0x363b27;const _0x44a2ff=_0x58cdc7['attempts']?.[_0x5cd37b(0xa96)]||0x1,_0x382b6d=_0x1b9c63['attempts']?.['length']||0x1,_0x371aa8=_0x44a2ff-_0x382b6d;if(_0x371aa8!==0x0)return _0x371aa8;const _0x34d22e=new Date(_0x58cdc7[_0x5cd37b(0x8e1)]),_0x514886=new Date(_0x1b9c63['latestSubmittedAt']),_0x26c152=_0x34d22e-_0x514886;if(_0x26c152!==0x0)return _0x26c152;return _0x58cdc7[_0x5cd37b(0xbd9)]['localeCompare'](_0x1b9c63['studentName'],'th');}),_0x37f116=_0x46f1f7[_0x43cd45(0xa96)],_0x19ed3e=Math[_0x43cd45(0x1f1)](0x1,Math[_0x43cd45(0x22a)](_0x37f116*0.33)),_0x1213b9=_0x46f1f7[_0x43cd45(0x1a7)](0x0,_0x19ed3e),_0x14bad5=_0x46f1f7[_0x43cd45(0x1a7)](-_0x19ed3e);return _0x375c1b[_0x43cd45(0x277)]['forEach']((_0xe5ba16,_0x4d9872)=>{const _0xe848e2=_0x43cd45;if(_0xe5ba16[_0xe848e2(0x211)]!==_0xe848e2(0xca9)||!_0xe5ba16[_0xe848e2(0x1b5)])return;const _0xc6a96e=_0xe5ba16['questionText'],_0x5917df={};_0xe5ba16['options']['forEach']((_0x574a27,_0x895710)=>{_0x5917df[_0x895710]={'text':_0x574a27,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x46f1f7['forEach'](_0x493853=>{const _0x543f47=_0xe848e2,_0x250da7=_0x493853[_0x543f47(0xe78)][_0x493853['attempts'][_0x543f47(0xa96)]-0x1],_0x17267c=_0x250da7[_0x543f47(0x6c9)][_0x543f47(0xa74)](_0x1ec0bd=>_0x1ec0bd['originalQuestionText']===_0xc6a96e);if(_0x17267c&&_0x17267c[_0x543f47(0xa25)]!==null){const _0x20facb=_0xe5ba16[_0x543f47(0x1b5)][_0x543f47(0x9f6)](_0x3990f0=>_0x3990f0===_0x17267c[_0x543f47(0xc92)]);_0x20facb!==-0x1&&_0x5917df[_0x20facb]&&(_0x5917df[_0x20facb]['total']++,_0x1213b9['includes'](_0x493853)&&_0x5917df[_0x20facb]['upper_group_count']++,_0x14bad5['includes'](_0x493853)&&_0x5917df[_0x20facb]['lower_group_count']++);}}),_0x585b40[_0x4d9872]=_0x5917df;}),_0x585b40;}function calculateReliabilityKR20(_0x329582,_0x306f26,_0x5a737c){const _0x1db79c=_0x4a882c,_0x5c3072=_0x329582['questions'][_0x1db79c(0xa96)];if(_0x5c3072<0x2||_0x306f26[_0x1db79c(0xa96)]<0x2)return null;const _0x65e2b2=_0x306f26['map'](_0x4700ce=>_0x4700ce[_0x1db79c(0x3e4)]),_0x3620de=_0x65e2b2[_0x1db79c(0x68e)]((_0xd5436,_0x182e59)=>_0xd5436+_0x182e59,0x0)/_0x65e2b2[_0x1db79c(0xa96)],_0x40e2fd=_0x65e2b2[_0x1db79c(0x7d8)](_0x40803c=>Math[_0x1db79c(0x18f)](_0x40803c-_0x3620de,0x2))[_0x1db79c(0x68e)]((_0x15b36e,_0x4cb65d)=>_0x15b36e+_0x4cb65d,0x0)/_0x65e2b2[_0x1db79c(0xa96)];if(_0x40e2fd===0x0)return null;let _0x5348d3=0x0;for(let _0x52aaf3=0x0;_0x52aaf3<_0x5c3072;_0x52aaf3++){const _0x440255=_0x5a737c[_0x52aaf3]?.['p'];if(_0x440255===undefined)continue;const _0x27858f=0x1-_0x440255;_0x5348d3+=_0x440255*_0x27858f;}if(_0x5348d3===0x0)return null;const _0x2ac15e=_0x5c3072/(_0x5c3072-0x1)*(0x1-_0x5348d3/_0x40e2fd);if(_0x2ac15e>0x1)return null;return _0x2ac15e;}async function handleAnalyzeClass(){const _0x36ad9b=_0x4a882c;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x36ad9b(0xb82));return;}const _0x186a8d=collection(db,_0x36ad9b(0x878)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x36ad9b(0xc06)),_0x5598f4=await getDocs(_0x186a8d),_0x491d8b=_0x5598f4[_0x36ad9b(0x9b1)][_0x36ad9b(0x7d8)](_0x244b8b=>_0x244b8b[_0x36ad9b(0xc66)]());if(_0x491d8b[_0x36ad9b(0xa96)]<0x2){showMessage(_0x36ad9b(0x40e));return;}const _0x144516=document[_0x36ad9b(0x81d)](_0x36ad9b(0x626));_0x144516[_0x36ad9b(0x8ea)]=_0x36ad9b(0x83e),document[_0x36ad9b(0x81d)](_0x36ad9b(0xad7))[_0x36ad9b(0x396)]=!![];const _0x2e1af8=_0x491d8b[_0x36ad9b(0x7d8)]((_0x1c68ed,_0x327f8b)=>{const _0x1e7d39=_0x36ad9b,_0x538c0a=_0x1c68ed[_0x1e7d39(0xe78)][_0x1c68ed[_0x1e7d39(0xe78)][_0x1e7d39(0xa96)]-0x1];if(!_0x538c0a)return'';return _0x1e7d39(0xd63)+(_0x327f8b+0x1)+'\x20('+_0x1c68ed[_0x1e7d39(0xbd9)]+_0x1e7d39(0x5f2)+_0x538c0a[_0x1e7d39(0x64f)]+'/'+_0x1c68ed[_0x1e7d39(0xc93)]+_0x1e7d39(0x873)+JSON[_0x1e7d39(0xe01)](_0x538c0a[_0x1e7d39(0x6c9)])+_0x1e7d39(0x84d);})['join'](_0x36ad9b(0xdaf)),_0x4b6ff3=_0x36ad9b(0x265)+currentQuizData[_0x36ad9b(0x755)]+_0x36ad9b(0xaf6)+JSON['stringify'](currentQuizData[_0x36ad9b(0x277)])+_0x36ad9b(0x907)+_0x2e1af8+_0x36ad9b(0x9fe),_0x3917e1={'type':'OBJECT','properties':{'classStrengths':{'type':_0x36ad9b(0x1de),'items':{'type':_0x36ad9b(0xcc5)}},'classWeaknesses':{'type':_0x36ad9b(0x1de),'items':{'type':_0x36ad9b(0xcc5)}},'teacherSuggestions':{'type':_0x36ad9b(0x1de),'items':{'type':_0x36ad9b(0xcc5)}}},'required':[_0x36ad9b(0x832),_0x36ad9b(0x9c1),_0x36ad9b(0x819)]};try{const _0x16dcd6=await callAnalysisApi(_0x4b6ff3,_0x3917e1);displayClassAnalysis(_0x16dcd6);}catch(_0x4de122){console[_0x36ad9b(0x76b)](_0x36ad9b(0xbe3),_0x4de122),_0x144516[_0x36ad9b(0x8ea)]=_0x36ad9b(0x528)+_0x4de122[_0x36ad9b(0x752)]+'</p></div>';}finally{document[_0x36ad9b(0x81d)](_0x36ad9b(0xad7))['disabled']=![];}}function displayClassAnalysis(_0x13bda4){const _0x1a270e=_0x4a882c,_0x1e557f=document[_0x1a270e(0x81d)]('strength-weakness-analysis-container');if(!_0x13bda4){_0x1e557f[_0x1a270e(0x8ea)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x1e557f[_0x1a270e(0x8ea)]=_0x1a270e(0xafc)+_0x13bda4[_0x1a270e(0x832)]['map'](_0x49a0df=>_0x1a270e(0x9d5)+_0x49a0df+_0x1a270e(0xb02))[_0x1a270e(0x343)]('')+_0x1a270e(0x571)+_0x13bda4['classWeaknesses'][_0x1a270e(0x7d8)](_0x2d7091=>'<li>'+_0x2d7091+_0x1a270e(0xb02))['join']('')+_0x1a270e(0x5bd)+_0x13bda4[_0x1a270e(0x819)][_0x1a270e(0x7d8)](_0x5afc0d=>_0x1a270e(0x9d5)+_0x5afc0d+_0x1a270e(0xb02))[_0x1a270e(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x315098,_0x42bda1){const _0x286e3a=_0x4a882c,_0x4e4cf2=_0x286e3a(0x595)+_0x315098['topic']+_0x286e3a(0x858)+_0x315098[_0x286e3a(0x755)]+_0x286e3a(0xd6a)+_0x315098[_0x286e3a(0x277)]['map']((_0x31ee16,_0x31d1c5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x31d1c5+0x1)+'.\x20'+_0x31ee16[_0x286e3a(0x2c5)]+_0x286e3a(0x8b4)+(_0x31ee16['imageCode']?_0x286e3a(0x886)+_0x31ee16[_0x286e3a(0x9b0)]+_0x286e3a(0xbbf):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x286e3a(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x42bda1[_0x286e3a(0xd75)][_0x286e3a(0xb53)](_0x4e4cf2),_0x42bda1[_0x286e3a(0xd75)][_0x286e3a(0x5ce)](),_0x42bda1[_0x286e3a(0x817)]=function(){setTimeout(()=>{const _0x401c9f=_0x2fbb;_0x42bda1[_0x401c9f(0xd83)]();},0x3e8);};}async function generateWorksheet(){const _0x15ce75=_0x4a882c,_0x59603a=document[_0x15ce75(0x81d)](_0x15ce75(0x94b))['value'][_0x15ce75(0x5f6)]();if(!_0x59603a){showMessage(_0x15ce75(0x88e));return;}const _0x208dff=document[_0x15ce75(0x81d)](_0x15ce75(0x439))[_0x15ce75(0x600)],_0x29bad7=_0x208dff?'':_0x15ce75(0x38c),_0x1ecfb4=window[_0x15ce75(0xe56)]('',_0x15ce75(0x251));_0x1ecfb4[_0x15ce75(0xd75)]['write'](_0x15ce75(0x83f));const _0x28d9bb=parseInt(document[_0x15ce75(0x81d)](_0x15ce75(0xc51))['value']),_0x48ba25=document[_0x15ce75(0x81d)]('include-images-checkbox')[_0x15ce75(0x600)],_0x389c90=_0x48ba25?_0x15ce75(0x342):'',_0x2a7399=_0x15ce75(0x1f0)+_0x29bad7+_0x15ce75(0xa2d)+_0x28d9bb+_0x15ce75(0x3b5)+_0x59603a+_0x15ce75(0xc61)+_0x389c90+_0x15ce75(0x364)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x45543c={'type':_0x15ce75(0x252),'properties':{'topic':{'type':_0x15ce75(0xcc5)},'questions':{'type':'ARRAY','items':{'type':_0x15ce75(0x252),'properties':{'questionText':{'type':_0x15ce75(0xcc5)},'imageCode':{'type':_0x15ce75(0xcc5)}},'required':[_0x15ce75(0x2c5)]}}},'required':['topic',_0x15ce75(0x277)]};document[_0x15ce75(0x81d)](_0x15ce75(0xe40))[_0x15ce75(0xca8)]='',document[_0x15ce75(0x81d)](_0x15ce75(0x1d1))[_0x15ce75(0xdd2)]['remove'](_0x15ce75(0x35b)),document[_0x15ce75(0x81d)](_0x15ce75(0x334))[_0x15ce75(0xdd2)][_0x15ce75(0x469)](_0x15ce75(0x35b)),generateWorksheetBtn[_0x15ce75(0x396)]=!![];try{const _0x4add71=await callAnalysisApi(_0x2a7399,_0x45543c);formatAndPrintWorksheet(_0x4add71,_0x1ecfb4);}catch(_0x14d60e){console[_0x15ce75(0x76b)](_0x15ce75(0xb0c),_0x14d60e);if(_0x1ecfb4)_0x1ecfb4['close']();showMessage('เกิดข้อผิดพลาดในการสร้างใบงาน');}finally{document[_0x15ce75(0x81d)](_0x15ce75(0x1d1))[_0x15ce75(0xdd2)][_0x15ce75(0x87d)]('hidden'),document[_0x15ce75(0x81d)](_0x15ce75(0x334))[_0x15ce75(0xdd2)]['add']('hidden'),generateWorksheetBtn[_0x15ce75(0x396)]=![];}}async function callAnalysisApi(_0x2a5bc8,_0x697f64){const _0x126fcd=_0x4a882c,_0x4b1a0f={'contents':[{'role':_0x126fcd(0x1fa),'parts':[{'text':_0x2a5bc8}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x697f64}},_0x46f88b='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x3736e2=_0x126fcd(0x186)+_0x46f88b,_0x1fd347=await fetch(_0x3736e2,{'method':'POST','headers':{'Content-Type':_0x126fcd(0xba3)},'body':JSON['stringify'](_0x4b1a0f)});if(!_0x1fd347['ok'])throw new Error(_0x126fcd(0x516)+_0x1fd347['status']);const _0x4b2a4f=await _0x1fd347[_0x126fcd(0x348)]();if(_0x4b2a4f['candidates']?.[0x0]?.[_0x126fcd(0x305)]?.[_0x126fcd(0xbc1)]?.[0x0])return JSON['parse'](_0x4b2a4f[_0x126fcd(0x775)][0x0]['content'][_0x126fcd(0xbc1)][0x0][_0x126fcd(0x95b)]);else{let _0x5c9c67=_0x126fcd(0x24b);if(_0x4b2a4f[_0x126fcd(0x681)]?.[_0x126fcd(0x6d5)])_0x5c9c67='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x4b2a4f[_0x126fcd(0x681)][_0x126fcd(0x6d5)]+'.';else _0x4b2a4f[_0x126fcd(0x775)]?.[0x0]?.[_0x126fcd(0xd41)]&&_0x4b2a4f[_0x126fcd(0x775)][0x0][_0x126fcd(0xd41)]!==_0x126fcd(0x8a4)&&(_0x5c9c67=_0x126fcd(0x737)+_0x4b2a4f['candidates'][0x0]['finishReason']+'.');console[_0x126fcd(0x76b)](_0x5c9c67,JSON['stringify'](_0x4b2a4f));throw new Error(_0x5c9c67);}}async function handleStartSyncMode(_0x4e75bb,_0x503412=![],_0x435ac0=_0x4a882c(0xcdc)){const _0x3eb457=_0x4a882c,_0x42adae=allQuizzes[_0x3eb457(0xa74)](_0x10e687=>_0x10e687['id']===_0x4e75bb)||allQuizzesGlobal[_0x3eb457(0xa74)](_0x311ea3=>_0x311ea3['id']===_0x4e75bb);if(!_0x42adae){showMessage(_0x3eb457(0x82e));return;}currentQuizData=getShuffledQuiz(_0x42adae);const _0x124f65=Math[_0x3eb457(0x22a)](0x3e8+Math[_0x3eb457(0x8c4)]()*0x2328)[_0x3eb457(0x188)](),_0x591edb=doc(db,'artifacts/'+appId+'/public/data/projects',_0x42adae[_0x3eb457(0xc9b)]),_0x9304bd=await getDoc(_0x591edb);if(!_0x9304bd[_0x3eb457(0xb52)]()){showMessage(_0x3eb457(0xbc0));return;}const _0x63c074=_0x9304bd['data']()['students']||[],_0x143723={};if(_0x435ac0===_0x3eb457(0xe39)){const _0x25b8f7=[...ANONYMOUS_NAMES][_0x3eb457(0x6c8)](()=>0.5-Math[_0x3eb457(0x8c4)]());_0x63c074[_0x3eb457(0xdc3)]((_0x5b727f,_0x39968a)=>{const _0x32e845=_0x3eb457;_0x143723[_0x5b727f]=_0x25b8f7[_0x39968a]||_0x32e845(0xd40)+(_0x39968a+0x1);});}const _0xe64d7a=document[_0x3eb457(0x81d)]('sync-timer-enable-checkbox')['checked'],_0x5809d0=parseInt(document[_0x3eb457(0x81d)](_0x3eb457(0xd97))[_0x3eb457(0x710)],0xa);let _0x3236ca={'timerMode':'none','timerDuration':0x0};_0xe64d7a&&(_0x3236ca['timerMode']=_0x3eb457(0x5bf),_0x3236ca[_0x3eb457(0x4d2)]=_0x5809d0||0xf0);const _0x1f6417=document[_0x3eb457(0x81d)](_0x3eb457(0xd39))[_0x3eb457(0x600)],_0x6bdce9=document[_0x3eb457(0x81d)](_0x3eb457(0x94f))[_0x3eb457(0x600)];try{const _0x2a2f60=await addDoc(collection(db,_0x3eb457(0x878)+appId+_0x3eb457(0x4f6)),{'quizId':_0x42adae['id'],'pin':_0x124f65,'status':_0x3eb457(0xa08),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x503412,'players':{},'gameVariant':_0x435ac0,'reviewQuestionIndex':0x0,'playerNicknames':_0x143723,'isAnonymousRevealed':![],..._0x3236ca,'showAnswerInAnonymous':_0x1f6417,'isBlackMarketEnabled':_0x6bdce9});currentLiveGameId=_0x2a2f60['id'],showView('live-game'),renderSyncLobbyView(_0x124f65,_0x42adae[_0x3eb457(0x755)]),listenForSyncGameUpdates();const _0x35c8fd={'gameId':currentLiveGameId,'mode':_0x3eb457(0x48d),'role':_0x3eb457(0x3de)};sessionStorage[_0x3eb457(0x1a0)](_0x3eb457(0x47f),JSON[_0x3eb457(0xe01)](_0x35c8fd));}catch(_0x3a2204){console['error'](_0x3eb457(0xcf7),_0x3a2204),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x347bbf){const _0x30af46=_0x4a882c;if(!_0x347bbf||!_0x347bbf[_0x30af46(0xba9)]||!_0x347bbf['players'])return _0x347bbf[_0x30af46(0x774)]||{};const _0xdb3df0=_0x347bbf[_0x30af46(0xba9)]['questions']['length'],_0xb16d0b=JSON['parse'](JSON[_0x30af46(0xe01)](_0x347bbf[_0x30af46(0x774)]));return Object[_0x30af46(0x1f9)](_0xb16d0b)[_0x30af46(0xdc3)](_0x3ec8dd=>{const _0x25457a=_0x30af46,_0x1d1b73=_0x3ec8dd[_0x25457a(0x64f)]||0x0,_0x286032=_0x3ec8dd[_0x25457a(0x504)]||0x0;_0xdb3df0>0x0&&_0x1d1b73===_0xdb3df0?_0x3ec8dd[_0x25457a(0xd81)]=!![]:_0x3ec8dd[_0x25457a(0xd81)]=![],_0x3ec8dd['realScore']=_0x1d1b73,_0x3ec8dd[_0x25457a(0x504)]=_0x286032;}),_0xb16d0b;}function listenForSyncGameUpdates(){const _0x162565=_0x4a882c;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3eb8f1=doc(db,_0x162565(0x878)+appId+_0x162565(0x4f6),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3eb8f1,_0x90d945=>{const _0x2721b2=_0x162565;if(!_0x90d945[_0x2721b2(0xb52)]()){sessionStorage[_0x2721b2(0x37a)](_0x2721b2(0x47f));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x2721b2(0x986));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2721b2(0x3de)?showView(_0x2721b2(0x777)):showView('student');return;}const _0x412860=_0x90d945[_0x2721b2(0xc66)]();currentMode===_0x2721b2(0x3de)?updateAdminSyncView(_0x412860):updateStudentSyncView(_0x412860);});}function renderSyncLobbyView(_0x2e2494,_0x31f719){const _0x2f053a=_0x4a882c;liveGameView[_0x2f053a(0x8ea)]=_0x2f053a(0xe80)+_0x31f719+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2e2494+_0x2f053a(0x2ba);const _0x6b5aca=document[_0x2f053a(0x81d)](_0x2f053a(0x1cd)),_0x1b8aa3=document[_0x2f053a(0x81d)](_0x2f053a(0x5c7));_0x6b5aca[_0x2f053a(0x843)](_0x2f053a(0x318),()=>{const _0x6169ae=_0x2f053a;_0x1b8aa3['style'][_0x6169ae(0x1ba)]=_0x6b5aca['checked']?_0x6169ae(0xb67):_0x6169ae(0x486);}),document[_0x2f053a(0x81d)](_0x2f053a(0xdf7))['addEventListener'](_0x2f053a(0x864),async()=>{const _0x585220=_0x2f053a,_0x3a5e48=doc(db,'artifacts/'+appId+_0x585220(0x4f6),currentLiveGameId),_0x5ed9e6=document[_0x585220(0x81d)](_0x585220(0x1cd))['checked'];await updateDoc(_0x3a5e48,{'status':_0x585220(0x62f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x5ed9e6});});}function updateAdminSyncView(_0x5689d6){const _0x5e27fb=_0x4a882c;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x5689d6[_0x5e27fb(0x589)]){case _0x5e27fb(0xa08):renderSyncLobbyView(_0x5689d6['pin'],_0x5689d6[_0x5e27fb(0xba9)][_0x5e27fb(0x755)]);const _0x45d277=Object[_0x5e27fb(0x26d)](_0x5689d6['players']||{})[_0x5e27fb(0x3d8)](([_0x293b18,_0x30c4c7])=>_0x30c4c7[_0x5e27fb(0x589)]!==_0x5e27fb(0xc4e));document[_0x5e27fb(0x81d)]('player-count')['textContent']=_0x45d277['length'],document['getElementById']('player-list-lobby')[_0x5e27fb(0x8ea)]=_0x45d277[_0x5e27fb(0x7d8)](([_0x338db0,_0x3b4742])=>_0x5e27fb(0xe64)+_0x338db0+_0x5e27fb(0xcec)+_0x338db0+_0x5e27fb(0xe4e))[_0x5e27fb(0x343)]('')||_0x5e27fb(0x988),document[_0x5e27fb(0x81d)](_0x5e27fb(0xdf7))[_0x5e27fb(0x396)]=_0x45d277['length']===0x0;break;case _0x5e27fb(0x62f):const _0x5cc598=Object[_0x5e27fb(0x1f9)](_0x5689d6[_0x5e27fb(0x774)]||{})['filter'](_0x34ee4e=>_0x34ee4e[_0x5e27fb(0x589)]!==_0x5e27fb(0xc4e)),_0x27ae1e=_0x5cc598['filter'](_0x320027=>_0x320027[_0x5e27fb(0x20c)])[_0x5e27fb(0xa96)],_0x5892cb=_0x27ae1e===_0x5cc598[_0x5e27fb(0xa96)]&&_0x5cc598[_0x5e27fb(0xa96)]>0x0;if(_0x5892cb&&_0x5689d6[_0x5e27fb(0x589)]===_0x5e27fb(0x62f)){const _0x427313=doc(db,'artifacts/'+appId+_0x5e27fb(0x4f6),currentLiveGameId);updateDoc(_0x427313,{'status':'summary'});return;}if(document['getElementById'](_0x5e27fb(0x1e8))===null)renderAdminSyncQuestionView(_0x5689d6);else{const _0x369edb=document['getElementById']('answer-counter');_0x369edb&&(_0x369edb['textContent']=_0x27ae1e+'/'+_0x5cc598[_0x5e27fb(0xa96)]);const _0x4a0f70=document[_0x5e27fb(0x81d)]('sync-player-list');_0x4a0f70&&(_0x4a0f70['innerHTML']=_0x5cc598[_0x5e27fb(0x7d8)](_0x5b3300=>{const _0x239937=_0x5e27fb,_0x5b0f70=_0x5b3300['answered']?_0x239937(0x8e2):'bg-gray-500',_0x9d71a3=_0x5b3300['answered']?_0x239937(0x3f4):_0x239937(0x487);return _0x239937(0x642)+_0x5b0f70+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x9d71a3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5b3300[_0x239937(0x523)]+_0x239937(0xdfb)+_0x5b3300[_0x239937(0x523)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5e27fb(0x343)](''));}const _0x3525d5=_0x5689d6[_0x5e27fb(0x95a)]==='per_question'&&_0x5689d6[_0x5e27fb(0x6f1)];if(_0x3525d5){const _0x215b84=_0x5689d6[_0x5e27fb(0x6f1)][_0x5e27fb(0xa11)]()['getTime'](),_0x14e697=_0x5689d6[_0x5e27fb(0x4d2)]*0x3e8,_0x9bb3d=_0x215b84+_0x14e697,_0x460718=document[_0x5e27fb(0x81d)](_0x5e27fb(0xd58)),_0x447229=document[_0x5e27fb(0x81d)](_0x5e27fb(0x85f));syncQuestionTimerInterval=setInterval(()=>{const _0x385d48=_0x5e27fb,_0x21cbd3=Date[_0x385d48(0x7c1)](),_0x33745d=_0x5cc598['length']>0x0&&_0x5cc598['every'](_0x3756e8=>{const _0x1a9311=_0x385d48;if(_0x3756e8[_0x1a9311(0x20c)])return!![];const _0x2d54d3=_0x3756e8[_0x1a9311(0xe7e)]||0x0,_0x3d41d4=_0x215b84+_0x14e697+_0x2d54d3;if(_0x3d41d4<=_0x21cbd3)return!![];return![];});if(_0x33745d){clearInterval(syncQuestionTimerInterval);const _0x3de522=doc(db,_0x385d48(0x878)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3de522,{'status':_0x385d48(0xc3e)});return;}const _0x4da01f=_0x9bb3d-_0x21cbd3;if(_0x4da01f<=0x0){if(_0x460718)_0x460718[_0x385d48(0xe1e)][_0x385d48(0xb99)]='0%';if(_0x447229)_0x447229[_0x385d48(0xca8)]=_0x385d48(0xb95);}else{if(_0x460718&&_0x447229){const _0x4305c2=_0x4da01f/_0x14e697*0x64;_0x460718[_0x385d48(0xe1e)][_0x385d48(0xb99)]=_0x4305c2+'%',_0x447229[_0x385d48(0xca8)]=Math['ceil'](_0x4da01f/0x3e8);}}},0x1f4);}break;case'summary':const _0x37d013=_0x5689d6[_0x5e27fb(0x810)],_0xa3781b=_0x5689d6[_0x5e27fb(0xba9)]['questions'][_0x37d013];renderSyncSummaryView(_0x5689d6,_0xa3781b,!![]);break;case'results':const _0x6a8aac=_0x5689d6[_0x5e27fb(0x93f)]||_0x5e27fb(0xcdc);_0x6a8aac==='reveal_at_end'?renderAdminSyncDashboard(_0x5689d6,!![],_0x5689d6['reviewQuestionIndex']):(_0x5689d6[_0x5e27fb(0x589)]===_0x5e27fb(0x27a)&&!_0x5689d6[_0x5e27fb(0xacd)]&&((async()=>{const _0x30fd35=_0x5e27fb;try{const _0x1994dd=doc(db,'artifacts/'+appId+_0x30fd35(0x4f6),currentLiveGameId);await updateDoc(_0x1994dd,{'scoresCalculated':!![]}),await runTransaction(db,async _0x17eebb=>{const _0x4237db=_0x30fd35,_0x135713=await _0x17eebb[_0x4237db(0x19d)](_0x1994dd);if(!_0x135713[_0x4237db(0xb52)]())throw'Game\x20not\x20found';const _0x386859={},_0x4d92c0=_0x135713['data']()[_0x4237db(0xba9)][_0x4237db(0x277)][_0x4237db(0xa96)];Object['values'](_0x135713['data']()['players'])[_0x4237db(0xdc3)](_0x5b266b=>{const _0x322747=_0x4237db;if(_0x5b266b[_0x322747(0x589)]!=='inactive'){const _0x9f51d2=_0x5b266b[_0x322747(0x523)],_0x4920d2=(_0x5b266b[_0x322747(0x6c9)]||[])[_0x322747(0xa74)](_0x1d3623=>_0x1d3623['questionIndex']===_0x5689d6[_0x322747(0x810)]),_0x174a59=_0x5b266b[_0x322747(0x64f)]||0x0,_0x1abe16=_0x5b266b[_0x322747(0x504)]||0x0;let _0x350ea2=0x0;_0x4920d2&&(_0x350ea2=_0x4920d2[_0x322747(0x55b)]||0x0);let _0x5c5826=_0x1abe16;_0x4d92c0>0x0&&_0x174a59===_0x4d92c0&&(_0x5c5826+=0x1),_0x386859['players.'+_0x9f51d2+_0x322747(0x81a)]=_0x174a59,_0x386859[_0x322747(0x9ac)+_0x9f51d2+_0x322747(0x2e0)]=_0x5c5826,_0x386859[_0x322747(0x9ac)+_0x9f51d2+_0x322747(0x2d6)]=_0x5c5826;}}),_0x17eebb[_0x4237db(0x243)](_0x1994dd,{..._0x386859,'scoresCalculated':![]});});}catch(_0x218e2c){console[_0x30fd35(0x76b)](_0x30fd35(0x46e),_0x218e2c);}})()),renderAdminSyncDashboard(_0x5689d6,!![],_0x5689d6[_0x5e27fb(0x810)]));break;case _0x5e27fb(0x382):_0x5689d6['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x5689d6);sessionStorage[_0x5e27fb(0x37a)]('activeGameSession');const _0x2dc61e=calculateFinalPodiumScores(_0x5689d6);showPodiumView(_0x2dc61e,_0x5e27fb(0x48d),_0x5689d6);break;}}function renderAdminSyncQuestionView(_0x4c4a3e){const _0x2dbbb8=_0x4a882c,_0x3f4da0=_0x4c4a3e[_0x2dbbb8(0x810)],_0x1038a9=_0x4c4a3e[_0x2dbbb8(0xba9)][_0x2dbbb8(0x277)][_0x3f4da0],_0x17d93d=_0x4c4a3e[_0x2dbbb8(0xba9)][_0x2dbbb8(0x277)]['length'],_0x5af82e=Object['values'](_0x4c4a3e[_0x2dbbb8(0x774)]||{})[_0x2dbbb8(0x3d8)](_0x5210b3=>_0x5210b3[_0x2dbbb8(0x589)]!==_0x2dbbb8(0xc4e)),_0x53a539=_0x5af82e[_0x2dbbb8(0x3d8)](_0x4b0744=>_0x4b0744['answered'])[_0x2dbbb8(0xa96)],_0x422df1=_0x53a539===_0x5af82e['length']&&_0x5af82e[_0x2dbbb8(0xa96)]>0x0,_0x302f9c=(_0x1038a9[_0x2dbbb8(0x1b5)]||[])[_0x2dbbb8(0x7d8)](_0x21c75f=>_0x2dbbb8(0x81f)+_0x21c75f+'</div>')[_0x2dbbb8(0x343)]('');let _0x2e85ad='';_0x4c4a3e['timerMode']===_0x2dbbb8(0x5bf)&&(_0x2e85ad=_0x2dbbb8(0x4dc)+_0x4c4a3e[_0x2dbbb8(0x4d2)]+_0x2dbbb8(0x9e1));liveGameView[_0x2dbbb8(0x8ea)]=_0x2dbbb8(0xb30)+(_0x3f4da0+0x1)+_0x2dbbb8(0x446)+_0x17d93d+_0x2dbbb8(0xacb)+_0x4c4a3e[_0x2dbbb8(0x556)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x53a539+'/'+_0x5af82e[_0x2dbbb8(0xa96)]+_0x2dbbb8(0x7b2)+_0x2e85ad+_0x2dbbb8(0x977)+_0x1038a9[_0x2dbbb8(0x2c5)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x302f9c+_0x2dbbb8(0x785)+(!_0x422df1?_0x2dbbb8(0x396):'')+_0x2dbbb8(0x9ce);if(window[_0x2dbbb8(0x389)])MathJax[_0x2dbbb8(0x434)]();const _0x10430e=doc(db,'artifacts/'+appId+_0x2dbbb8(0x4f6),currentLiveGameId);document[_0x2dbbb8(0x81d)]('show-results-btn')[_0x2dbbb8(0x843)](_0x2dbbb8(0x864),async()=>{const _0x36bb48=_0x2dbbb8;await updateDoc(_0x10430e,{'status':_0x36bb48(0xc3e)});}),document[_0x2dbbb8(0x81d)](_0x2dbbb8(0x9c2))['onclick']=()=>{const _0xa21e5e=_0x2dbbb8;openScratchpad(_0x1038a9,_0x1038a9[_0xa21e5e(0x1b5)]||[]);},document[_0x2dbbb8(0x81d)](_0x2dbbb8(0xe6a))[_0x2dbbb8(0x843)](_0x2dbbb8(0x864),()=>{const _0x59427f=_0x2dbbb8;document['getElementById'](_0x59427f(0x1e8))[_0x59427f(0xdd2)][_0x59427f(0x4b1)]('hidden');});const _0x56d6e2=document['getElementById'](_0x2dbbb8(0x4cf));_0x56d6e2&&(_0x56d6e2[_0x2dbbb8(0x845)]=()=>{const _0x43a1ae=_0x2dbbb8;showConfirmation(_0x43a1ae(0xbd1),async()=>{const _0x34c06a=_0x43a1ae;await updateDoc(_0x10430e,{'status':_0x34c06a(0x382)});});});}function renderSyncLeaderboardView(_0x4a3bfd,_0x3fc788){const _0x3c8b87=_0x4a882c,_0x59e15c=Object[_0x3c8b87(0x1f9)](_0x4a3bfd[_0x3c8b87(0x774)]||{});_0x59e15c['sort']((_0x4a4ee8,_0x451eb6)=>_0x451eb6['score']-_0x4a4ee8[_0x3c8b87(0x64f)]);const _0x5259b6=_0x59e15c[_0x3c8b87(0x1a7)](0x0,0x5);let _0x3fd4be='';if(_0x3fc788){const _0x348eff=_0x4a3bfd[_0x3c8b87(0x810)]>=_0x4a3bfd[_0x3c8b87(0xba9)][_0x3c8b87(0x277)][_0x3c8b87(0xa96)]-0x1;_0x3fd4be=_0x3c8b87(0x6f8)+(_0x348eff?'ดูผลสรุปสุดท้าย':_0x3c8b87(0x61d))+_0x3c8b87(0x8aa);}else _0x3fd4be=_0x3c8b87(0xcb1);liveGameView[_0x3c8b87(0x8ea)]=_0x3c8b87(0x478)+_0x5259b6[_0x3c8b87(0x7d8)]((_0xef6d86,_0x4ba549)=>_0x3c8b87(0xb75)+(_0x4ba549+0x1)+'.\x20'+_0xef6d86[_0x3c8b87(0x523)]+_0x3c8b87(0x5d4)+_0xef6d86[_0x3c8b87(0x64f)]+'</span></div>')[_0x3c8b87(0x343)]('')+_0x3c8b87(0xe9d)+_0x3fd4be+_0x3c8b87(0x8d2),_0x3fc788&&document[_0x3c8b87(0x81d)](_0x3c8b87(0xd02))[_0x3c8b87(0x843)](_0x3c8b87(0x864),async()=>{const _0x39833d=_0x3c8b87,_0xba015d=doc(db,_0x39833d(0x878)+appId+_0x39833d(0x4f6),currentLiveGameId),_0x39736d=_0x4a3bfd[_0x39833d(0x810)]+0x1;if(_0x39736d<_0x4a3bfd[_0x39833d(0xba9)][_0x39833d(0x277)][_0x39833d(0xa96)]){const _0x20fb04={};Object[_0x39833d(0x2cf)](_0x4a3bfd[_0x39833d(0x774)])[_0x39833d(0xdc3)](_0x136dde=>{const _0x31ff03=_0x39833d;_0x20fb04[_0x31ff03(0x9ac)+_0x136dde+'.answered']=![];}),await updateDoc(_0xba015d,{..._0x20fb04,'status':_0x39833d(0x62f),'currentQuestionIndex':_0x39736d,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xba015d,{'status':_0x39833d(0x382)});});}async function handleJoinSyncGame(){const _0x1ac54b=_0x4a882c,_0x5db6b5=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x5db6b5||_0x5db6b5[_0x1ac54b(0x5f6)]()[_0x1ac54b(0xa96)]!==0x2){showMessage(_0x1ac54b(0x9d8));return;}try{const _0x453b66=collection(db,_0x1ac54b(0x878)+appId+_0x1ac54b(0x4f6)),_0x569c33=query(_0x453b66,where('pin','==',_0x5db6b5[_0x1ac54b(0x5f6)]()),where(_0x1ac54b(0x589),'==',_0x1ac54b(0xa08))),_0x3f2363=await getDocs(_0x569c33);if(_0x3f2363['empty']){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x4466b9=_0x3f2363['docs'][0x0];currentLiveGameId=_0x4466b9['id'];const _0x4ff214=_0x4466b9[_0x1ac54b(0xc66)](),_0x554048=doc(db,_0x1ac54b(0x878)+appId+'/public/data/quizzes',_0x4ff214['quizId']),_0x1f1988=await getDoc(_0x554048);if(!_0x1f1988['exists']())throw new Error(_0x1ac54b(0xe11));const _0x19d1a7=_0x1f1988[_0x1ac54b(0xc66)](),_0x29a33f=doc(db,_0x1ac54b(0x878)+appId+_0x1ac54b(0x468),_0x19d1a7['projectId']),_0x308160=await getDoc(_0x29a33f);if(!_0x308160[_0x1ac54b(0xb52)]())throw new Error(_0x1ac54b(0xba4));currentQuizData=_0x4ff214['shuffledQuiz'];const _0x615337=_0x308160['data']();showView('student-team-join'),showTeamPlayerSelection(_0x615337[_0x1ac54b(0x881)],_0x19d1a7[_0x1ac54b(0x755)]);const _0x6aacba=document[_0x1ac54b(0x81d)](_0x1ac54b(0x38a));_0x6aacba[_0x1ac54b(0x845)]=confirmAndJoinSyncGame;}catch(_0x1ecd60){console[_0x1ac54b(0x76b)](_0x1ac54b(0x6e2),_0x1ecd60),showMessage(_0x1ac54b(0x388)+_0x1ecd60[_0x1ac54b(0x752)]);}}function updateStudentSyncView(_0x12ea7b){const _0x231b60=_0x4a882c,_0x261967=_0x12ea7b[_0x231b60(0x774)][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x12ea7b['status']){case _0x231b60(0xa08):showView(_0x231b60(0x94d)),liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case'question':if(_0x12ea7b[_0x231b60(0x810)]!==lastSeenQuestionIndex){console[_0x231b60(0x792)](_0x231b60(0xdde)),sessionStorage[_0x231b60(0x37a)](_0x231b60(0x485)),sessionStorage['removeItem'](_0x231b60(0x967)),sessionStorage[_0x231b60(0x37a)]('pollUsedThisTurn');const _0x4705e5=_0x231b60(0x97d)+lastSeenQuestionIndex,_0x11d743=_0x231b60(0xa3c)+lastSeenQuestionIndex,_0x2ac35a='hiddenOptions_q'+lastSeenQuestionIndex;Object[_0x231b60(0x2cf)](sessionStorage)[_0x231b60(0xdc3)](_0x1d72ff=>{const _0x572e35=_0x231b60;(_0x1d72ff[_0x572e35(0x1c6)](_0x4705e5)||_0x1d72ff[_0x572e35(0x1c6)](_0x11d743)||_0x1d72ff[_0x572e35(0x1c6)](_0x2ac35a))&&sessionStorage[_0x572e35(0x37a)](_0x1d72ff);}),lastSeenQuestionIndex=_0x12ea7b[_0x231b60(0x810)];}localPlayerTurnIndex=0x0;const _0x7ccc93=localTeamPlayers[_0x231b60(0x9d9)](_0x342eea=>_0x12ea7b[_0x231b60(0x774)][_0x342eea]?.[_0x231b60(0x20c)]===!![]);if(_0x7ccc93)liveGameView[_0x231b60(0x8ea)]=_0x231b60(0xa0b);else{renderStudentSyncQuestionView(_0x12ea7b);if(_0x12ea7b[_0x231b60(0x95a)]===_0x231b60(0x5bf)){if(!_0x12ea7b['questionDisplayedAt']){console['log'](_0x231b60(0xc7f));return;}const _0x2e2d69=_0x12ea7b[_0x231b60(0x6f1)][_0x231b60(0xa11)]()[_0x231b60(0x1a2)](),_0x5eacf0=_0x12ea7b['timerDuration']*0x3e8,_0x52f330=localTeamPlayers['map'](_0x1ba9ef=>_0x12ea7b[_0x231b60(0x774)][_0x1ba9ef]?.[_0x231b60(0xe7e)]||0x0),_0x23b2fe=Math[_0x231b60(0x1f1)](..._0x52f330,0x0),_0x49bb83=_0x2e2d69+_0x5eacf0+_0x23b2fe;syncQuestionTimerInterval=setInterval(()=>{const _0x44f33d=_0x231b60,_0x3e59e7=_0x49bb83-Date['now'](),_0x51233b=document[_0x44f33d(0x81d)](_0x44f33d(0xd58)),_0x1c596d=document[_0x44f33d(0x81d)](_0x44f33d(0x85f));if(_0x3e59e7<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x51233b)_0x51233b[_0x44f33d(0xe1e)][_0x44f33d(0xb99)]='0%';if(_0x1c596d)_0x1c596d['textContent']='0';liveGameView[_0x44f33d(0x8ea)]=_0x44f33d(0x4c1);}else{if(_0x51233b&&_0x1c596d){const _0x499497=_0x5eacf0+_0x23b2fe,_0x2acdc6=_0x499497>0x0?_0x3e59e7/_0x499497*0x64:0x0;_0x51233b[_0x44f33d(0xe1e)][_0x44f33d(0xb99)]=_0x2acdc6+'%',_0x1c596d['textContent']=Math['ceil'](_0x3e59e7/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView['innerHTML']=_0x231b60(0x8b0);break;case'results':localPlayerTurnIndex=0x0;const _0x3fe4f5=_0x12ea7b[_0x231b60(0x93f)]||_0x231b60(0xcdc);if(_0x3fe4f5===_0x231b60(0xe39))renderStudentAnonymousResultsView(_0x12ea7b,_0x12ea7b['currentQuestionIndex']);else _0x3fe4f5==='competition'?renderStudentCompetitionResultsView(_0x12ea7b,_0x12ea7b['currentQuestionIndex']):renderStudentSyncResultsView(_0x12ea7b);break;case _0x231b60(0x382):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x231b60(0x599)](_0x231b60(0x1ae),handleFullscreenChange),document[_0x231b60(0x599)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x231b60(0x37a)](_0x231b60(0x47f));const _0x49aed3=calculateFinalPodiumScores(_0x12ea7b);showPodiumView(_0x49aed3,_0x231b60(0x48d),_0x12ea7b);break;}}function renderStudentSyncResultsView(_0x357dd6){const _0x4c1471=_0x4a882c,_0x184b50=localTeamPlayers['map'](_0x9bf01d=>_0x357dd6[_0x4c1471(0x774)][_0x9bf01d])['filter'](Boolean);_0x184b50['sort']((_0x5cb9b4,_0x302d70)=>(_0x302d70['score']||0x0)-(_0x5cb9b4['score']||0x0));const _0x50a81a=_0x357dd6[_0x4c1471(0x93f)]||_0x4c1471(0xcdc),_0x2325b8=_0x357dd6['shuffledQuiz']['questions'];let _0x504369='';if(_0x50a81a===_0x4c1471(0xc62)){const _0x425201=_0x357dd6['reviewQuestionIndex']>=_0x2325b8[_0x4c1471(0xa96)]-0x1;_0x425201?_0x504369=_0x4c1471(0x622):_0x504369='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x5efa07=_0x357dd6[_0x4c1471(0x810)]>=_0x2325b8[_0x4c1471(0xa96)]-0x1;_0x5efa07?_0x504369='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x504369=_0x4c1471(0x86d);}const _0x5e3aaf=_0x4c1471(0x39c)+_0x184b50[_0x4c1471(0x7d8)]((_0x5adbc9,_0xf16f78)=>_0x4c1471(0x7d0)+(_0xf16f78+0x1)+_0x4c1471(0x7e1)+_0x5adbc9[_0x4c1471(0x523)]+_0x4c1471(0x310)+_0x5adbc9[_0x4c1471(0x64f)]+_0x4c1471(0xde0))['join']('')+_0x4c1471(0xbf0)+_0x504369+_0x4c1471(0xb8b);liveGameView[_0x4c1471(0x8ea)]=_0x5e3aaf;}function renderStudentAnonymousResultsView(_0x8e13ee,_0x5b545c){const _0x242794=_0x4a882c,_0x332aac=Object[_0x242794(0x1f9)](_0x8e13ee[_0x242794(0x774)]||{}),_0x132b5d=_0x5b545c,_0x5af3a7=_0x8e13ee['gameVariant']||_0x242794(0xcdc),_0x316d01=_0x8e13ee[_0x242794(0x74a)]===!![],_0x21569e=_0x8e13ee[_0x242794(0xba9)][_0x242794(0x277)],_0x2bf407=_0x332aac[_0x242794(0x7d8)](_0x5dc711=>{const _0x447510=_0x242794,_0x11aced=_0x5dc711[_0x447510(0x64f)]||0x0,_0x13195e=_0x5dc711[_0x447510(0x504)]||0x0,_0x1e60b7=(_0x5dc711[_0x447510(0x6c9)]||[])[_0x447510(0x3d8)](_0x49254e=>_0x5af3a7==='reveal_at_end'?_0x49254e[_0x447510(0x63d)]<=_0x132b5d:!![]);return{..._0x5dc711,'realScore':_0x11aced,'totalPoints':_0x13195e,'answers':_0x1e60b7};}),_0x5074eb=_0x8e13ee[_0x242794(0xc71)]===!![],_0x557d88=[..._0x2bf407][_0x242794(0x6c8)]((_0x5b7f71,_0xc98b51)=>{const _0x2cd3a6=_0x242794;if(_0x5074eb){const _0x10b8b6=_0xc98b51[_0x2cd3a6(0xa48)]-_0x5b7f71[_0x2cd3a6(0xa48)];if(_0x10b8b6!==0x0)return _0x10b8b6;const _0x4450df=_0xc98b51[_0x2cd3a6(0x504)]-_0x5b7f71[_0x2cd3a6(0x504)];if(_0x4450df!==0x0)return _0x4450df;return(_0x5b7f71['name']||'')[_0x2cd3a6(0xddd)](_0xc98b51[_0x2cd3a6(0x523)]||'','th');}else{const _0x1c531f=_0xc98b51[_0x2cd3a6(0x504)]-_0x5b7f71[_0x2cd3a6(0x504)];if(_0x1c531f!==0x0)return _0x1c531f;const _0x97fbab=_0xc98b51['realScore']-_0x5b7f71[_0x2cd3a6(0xa48)];if(_0x97fbab!==0x0)return _0x97fbab;return(_0x5b7f71[_0x2cd3a6(0x523)]||'')[_0x2cd3a6(0xddd)](_0xc98b51['name']||'','th');}});let _0x598023=null;const _0x2d9216=_0x2bf407['filter'](_0x54afb8=>localTeamPlayers[_0x242794(0x90f)](_0x54afb8[_0x242794(0x523)]));_0x598023=_0x2d9216[_0x242794(0xa96)]>0x0?_0x2d9216['sort']((_0xc8617d,_0x3b2db0)=>_0x3b2db0[_0x242794(0x504)]-_0xc8617d[_0x242794(0x504)])[0x0]:null;if(!_0x598023){liveGameView['innerHTML']=_0x242794(0x2e8);return;}const _0x1e93c8=_0x5074eb?_0x598023['realScore']:_0x598023[_0x242794(0x504)],_0x45af41=_0x5074eb?_0x598023[_0x242794(0x504)]:_0x598023[_0x242794(0xa48)],_0x103483=_0x557d88[0x0],_0x510ec4=_0x5074eb?_0x103483[_0x242794(0xa48)]:_0x103483[_0x242794(0x504)],_0x186aac=_0x5074eb?_0x103483[_0x242794(0x504)]:_0x103483[_0x242794(0xa48)],_0x3bcd83=_0x1e93c8===_0x510ec4&&_0x45af41===_0x186aac&&(_0x557d88[0x0][_0x242794(0xa48)]>0x0||_0x557d88[0x0]['totalPoints']>0x0),_0x49fa3f=_0x5b545c+0x1,_0x4f7cae=_0x2bf407[_0x242794(0x3d8)](_0x2a7ae7=>_0x2a7ae7[_0x242794(0xa48)]===_0x49fa3f&&(_0x2a7ae7[_0x242794(0x6c9)]||[])[_0x242794(0xa96)]===_0x49fa3f&&_0x49fa3f>0x0),_0x5ab8ca=_0x4f7cae[_0x242794(0xa96)]>0x0?Math['max'](..._0x4f7cae['map'](_0x4115f9=>_0x4115f9[_0x242794(0x504)])):-Infinity,_0x1e6f86=_0x557d88[_0x242794(0x7d8)]((_0x27f2c0,_0x790f15)=>{const _0x18921e=_0x242794,_0x482fc3=_0x27f2c0[_0x18921e(0xa48)],_0x44436c=_0x27f2c0[_0x18921e(0x504)],_0x12a7b5=_0x27f2c0['answers'][_0x18921e(0xa96)],_0x105253=(_0x27f2c0[_0x18921e(0x6c9)]||[])[_0x18921e(0xa74)](_0xe10d6c=>_0xe10d6c[_0x18921e(0x63d)]===_0x5b545c);let _0x575d1='';if(_0x105253){_0x105253[_0x18921e(0x2f8)]&&(_0x575d1+=_0x18921e(0x61f));_0x105253[_0x18921e(0x7b5)]&&(_0x575d1+=_0x18921e(0x962));_0x105253[_0x18921e(0xa5d)]&&(_0x575d1+=_0x18921e(0x664));const _0x56571b=_0x105253[_0x18921e(0x9df)];if(_0x56571b)switch(_0x56571b){case _0x18921e(0x6ec):_0x575d1+=_0x18921e(0x628);break;case'cutOne':_0x575d1+=_0x18921e(0x435);break;case _0x18921e(0x250):_0x575d1+=_0x18921e(0x78c);break;case'fiftyFifty':_0x575d1+=_0x18921e(0x48a);break;case'wagerMultiplier':_0x575d1+='<span\x20title=\x22ใช้:\x20คูณเดิมพัน\x22>💰</span>';break;case'secondChance':_0x575d1+=_0x18921e(0x9b6);break;}}let _0x5d2edc='';const _0xf35b5f=_0x27f2c0[_0x18921e(0x6c9)][_0x18921e(0xa96)],_0x47cc9a=_0x27f2c0[_0x18921e(0xa48)]===_0x49fa3f&&_0xf35b5f===_0x49fa3f&&_0x49fa3f>0x0;if(_0x5074eb){const _0x52b8a0=_0x47cc9a&&_0x27f2c0[_0x18921e(0x504)]===_0x5ab8ca;if(_0x52b8a0)_0x5d2edc='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x47cc9a&&(_0x5d2edc=_0x18921e(0x5db));}else{if(_0xf35b5f===_0x49fa3f&&_0x49fa3f>0x0){let _0x1d5532=_0x49fa3f;_0x8e13ee['isConfidenceScoringEnabled']&&(_0x1d5532=_0x49fa3f*0x2);const _0x3322d7=_0x27f2c0[_0x18921e(0x504)]===_0x1d5532;if(_0x3322d7)_0x5d2edc=_0x18921e(0xc09);else _0x47cc9a&&(_0x5d2edc=_0x18921e(0x5db));}}if(_0x5d2edc===''){if(_0x44436c<0x0)_0x5d2edc=_0x18921e(0x87e);else _0x482fc3===0x0&&_0xf35b5f>0x0&&(_0x5d2edc=_0x18921e(0x82c));}let _0x279761=_0x18921e(0x84a);const _0x340126=(_0x27f2c0['answers']||[])['find'](_0x3047e9=>_0x3047e9[_0x18921e(0x63d)]===_0x132b5d);if(_0x340126){const _0xce33e7=_0x340126['isCorrect'],_0xf4bfc3=_0x340126['wasConfident']===!![]||_0x340126['wasConfident']===_0x18921e(0x995),_0x10e143=_0x340126['powerupUsed'];if(_0x10e143===_0x18921e(0xc3a))_0x279761=_0xce33e7?_0x18921e(0x3bc):'bg-red-700\x20text-white\x20font-bold';else{if(_0xf4bfc3)_0x279761=_0xce33e7?_0x18921e(0x5a7):_0x18921e(0x242);else _0xce33e7&&(_0x279761=_0x18921e(0x9fb));}}let _0xd353='';const _0x58a1fb=_0x27f2c0['name'],_0x2232f8=_0x8e13ee[_0x18921e(0x64b)][_0x27f2c0[_0x18921e(0x523)]]||_0x18921e(0x65d),_0x199192=_0x18921e(0x476),_0xa79ab8=_0x18921e(0x200),_0x2c7bd9=localTeamPlayers['includes'](_0x58a1fb),_0x5ec03f=_0x5074eb?_0x27f2c0[_0x18921e(0xa48)]:_0x27f2c0[_0x18921e(0x504)],_0x19669c=_0x5074eb?_0x27f2c0[_0x18921e(0x504)]:_0x27f2c0[_0x18921e(0xa48)];if(_0x316d01)_0xd353='<div\x20style=\x22'+_0x199192+_0x18921e(0x19e)+_0x58a1fb+'\x20('+_0x2232f8+_0x18921e(0xb01)+_0xa79ab8+'\x22>'+_0x58a1fb+_0x18921e(0xbea)+_0x575d1+'\x20'+_0x5d2edc+_0x18921e(0xe20)+_0xa79ab8+_0x18921e(0x1f5)+_0x2232f8+_0x18921e(0xb3f);else{if(_0x2c7bd9)_0x3bcd83?_0xd353=_0x18921e(0xb1b)+_0x199192+'\x22\x20title=\x22'+_0x58a1fb+'\x20('+_0x2232f8+')\x22><span\x20style=\x22'+_0xa79ab8+'\x22>'+_0x58a1fb+_0x18921e(0xbea)+_0x575d1+'\x20'+_0x5d2edc+_0x18921e(0xe20)+_0xa79ab8+_0x18921e(0x1f5)+_0x2232f8+_0x18921e(0xb3f):_0xd353='<div\x20style=\x22'+_0x199192+'\x22\x20title=\x22'+_0x2232f8+'\x22><span\x20style=\x22'+_0xa79ab8+'\x22>'+_0x2232f8+_0x18921e(0xbea)+_0x575d1+'\x20'+_0x5d2edc+_0x18921e(0xbbf);else{const _0x2ed312=_0x1e93c8>_0x5ec03f||_0x1e93c8===_0x5ec03f&&_0x45af41>_0x19669c;_0x2ed312?_0xd353=_0x18921e(0xb1b)+_0x199192+_0x18921e(0x19e)+_0x58a1fb+'\x20('+_0x2232f8+')\x22><span\x20style=\x22'+_0xa79ab8+'\x22>'+_0x58a1fb+_0x18921e(0xbea)+_0x575d1+'\x20'+_0x5d2edc+_0x18921e(0xe20)+_0xa79ab8+_0x18921e(0x1f5)+_0x2232f8+_0x18921e(0xb3f):_0xd353=_0x18921e(0xb1b)+_0x199192+_0x18921e(0x19e)+_0x2232f8+_0x18921e(0x416)+_0xa79ab8+'\x22>'+_0x2232f8+_0x18921e(0xbea)+_0x575d1+'\x20'+_0x5d2edc+_0x18921e(0xbbf);}}const _0x1e0b20=_0x44436c>=0x0?'(+'+_0x44436c+')':'('+_0x44436c+')',_0x50a1eb=_0x18921e(0x3f6)+_0x27f2c0[_0x18921e(0xa48)]+'\x20คะแนน\x20'+_0x1e0b20+_0x18921e(0xd2e);return _0x18921e(0xc05)+_0x279761+_0x18921e(0xb28)+(_0x790f15+0x1)+_0x18921e(0xc83)+_0xd353+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50a1eb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');let _0x1bb40f='';const _0x2d5bc5=_0x5af3a7===_0x242794(0xc62)?_0x8e13ee[_0x242794(0xe91)]>=_0x21569e[_0x242794(0xa96)]-0x1:_0x8e13ee['currentQuestionIndex']>=_0x21569e[_0x242794(0xa96)]-0x1;_0x2d5bc5?_0x1bb40f='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x1bb40f=_0x242794(0x86d);const _0x3dab1e=_0x242794(0xc7a)+_0x1e6f86+_0x242794(0x944)+_0x1bb40f+_0x242794(0x8d2);liveGameView[_0x242794(0x8ea)]=_0x3dab1e;}function renderStudentCompetitionResultsView(_0x42e150,_0x2f32db){const _0x5f3bab=_0x4a882c,_0x49f5e4=Object['values'](_0x42e150['players']||{}),_0xe5e7b4=_0x2f32db,_0x7a89ea=_0x42e150['gameVariant']||_0x5f3bab(0xcdc),_0x322260=_0x42e150[_0x5f3bab(0xba9)]['questions'],_0x70b94d=_0x49f5e4[_0x5f3bab(0x7d8)](_0x4a3cd7=>{const _0x1a9fd0=_0x5f3bab,_0x4eeac5=_0x4a3cd7[_0x1a9fd0(0x64f)]||0x0,_0x4aa6bc=_0x4a3cd7[_0x1a9fd0(0x504)]||0x0,_0x4660a3=(_0x4a3cd7[_0x1a9fd0(0x6c9)]||[])[_0x1a9fd0(0x3d8)](_0x27f1d2=>_0x7a89ea===_0x1a9fd0(0xc62)?_0x27f1d2['questionIndex']<=_0xe5e7b4:!![]);return{..._0x4a3cd7,'realScore':_0x4eeac5,'totalPoints':_0x4aa6bc,'answers':_0x4660a3};}),_0x460205=_0x42e150[_0x5f3bab(0xc71)]===!![],_0x2540d6=[..._0x70b94d][_0x5f3bab(0x6c8)]((_0x4f894b,_0xf066a1)=>{const _0x242b09=_0x5f3bab;if(_0x460205){const _0xdc9fb1=_0xf066a1['realScore']-_0x4f894b[_0x242b09(0xa48)];if(_0xdc9fb1!==0x0)return _0xdc9fb1;const _0x1e3d28=_0xf066a1['totalPoints']-_0x4f894b[_0x242b09(0x504)];if(_0x1e3d28!==0x0)return _0x1e3d28;return(_0x4f894b[_0x242b09(0x523)]||'')[_0x242b09(0xddd)](_0xf066a1[_0x242b09(0x523)]||'','th');}else{const _0xd9bfff=_0xf066a1[_0x242b09(0x504)]-_0x4f894b[_0x242b09(0x504)];if(_0xd9bfff!==0x0)return _0xd9bfff;const _0x230f06=_0xf066a1['realScore']-_0x4f894b[_0x242b09(0xa48)];if(_0x230f06!==0x0)return _0x230f06;return(_0x4f894b[_0x242b09(0x523)]||'')[_0x242b09(0xddd)](_0xf066a1[_0x242b09(0x523)]||'','th');}}),_0x30b631=_0x2540d6[_0x5f3bab(0x7d8)]((_0x2ae935,_0x5ca593)=>{const _0x97d6b7=_0x5f3bab,_0x3b8232='';let _0x4c0b93=_0x97d6b7(0x84a);const _0x4eccf7=_0x2ae935[_0x97d6b7(0x523)],_0x3480c8='line-height:\x201.3;\x20min-width:\x200;',_0x4aeff8=_0x97d6b7(0x200),_0x37f68e='<div\x20style=\x22'+_0x3480c8+_0x97d6b7(0x19e)+_0x4eccf7+_0x97d6b7(0x416)+_0x4aeff8+'\x22>'+_0x4eccf7+'</span>'+_0x3b8232+_0x97d6b7(0xbbf),_0x3b2d3b='';return _0x97d6b7(0xc05)+_0x4c0b93+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0x5ca593+0x1)+_0x97d6b7(0xc83)+_0x37f68e+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b2d3b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5f3bab(0x343)]('');let _0x2d75ea='';const _0x229716=_0x7a89ea===_0x5f3bab(0xc62)?_0x42e150['reviewQuestionIndex']>=_0x322260[_0x5f3bab(0xa96)]-0x1:_0x42e150[_0x5f3bab(0x810)]>=_0x322260[_0x5f3bab(0xa96)]-0x1;_0x229716?_0x2d75ea=_0x5f3bab(0x622):_0x2d75ea='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x2fc083=_0x5f3bab(0x1ce)+_0x30b631+_0x5f3bab(0x944)+_0x2d75ea+_0x5f3bab(0x8d2);liveGameView[_0x5f3bab(0x8ea)]=_0x2fc083;}function renderStudentSyncQuestionView(_0x5545a0){const _0x3c9a17=_0x4a882c,_0x4401ec=localTeamPlayers[_0x3c9a17(0xa74)](_0x5dd3f8=>_0x5545a0[_0x3c9a17(0x774)][_0x5dd3f8]&&_0x5545a0[_0x3c9a17(0x774)][_0x5dd3f8][_0x3c9a17(0x20c)]===![]);if(!_0x4401ec){console['log'](_0x3c9a17(0x8a1));return;}const _0x463c36=_0x5545a0['players'][_0x4401ec],_0x1d5f32=_0x463c36[_0x3c9a17(0x504)]||0x0,_0x1477fa=_0x463c36[_0x3c9a17(0xd9c)]||{},_0x2eb684=_0x5545a0['currentQuestionIndex'],_0x4919bb=_0x5545a0[_0x3c9a17(0xba9)][_0x3c9a17(0x277)]['length'],_0x1e02a8=_0x5545a0['shuffledQuiz'][_0x3c9a17(0x277)][_0x2eb684],_0x4cbe4e=_0x1e02a8[_0x3c9a17(0x211)]||_0x5545a0[_0x3c9a17(0xba9)][_0x3c9a17(0xa6b)];let _0x5034a3='',_0xd7d8eb=![];const _0x35f4bd=_0x3c9a17(0xe96)+_0x2eb684+'_p'+_0x4401ec,_0x317e6e=JSON[_0x3c9a17(0x76c)](sessionStorage[_0x3c9a17(0xd53)](_0x35f4bd)||'[]')['map'](String);switch(_0x4cbe4e){case _0x3c9a17(0x559):const _0x3767f5=_0x317e6e[_0x3c9a17(0x90f)]('0')?'':'<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>',_0x2f120a=_0x317e6e[_0x3c9a17(0x90f)]('1')?'':_0x3c9a17(0x800);_0x5034a3=_0x3767f5+_0x2f120a;break;case _0x3c9a17(0x2bb):case _0x3c9a17(0xe4b):_0xd7d8eb=!![],_0x5034a3=_0x3c9a17(0xc38);break;case _0x3c9a17(0x7d3):_0xd7d8eb=!![],_0x5034a3=_0x3c9a17(0x6b4)+(_0x1e02a8[_0x3c9a17(0x27e)]||[])[_0x3c9a17(0x7d8)](_0x2f3660=>_0x3c9a17(0x3f7)+_0x2f3660+'\x22>'+_0x2f3660+_0x3c9a17(0xb03))[_0x3c9a17(0x343)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3c9a17(0xca9):default:_0x5034a3=(_0x1e02a8[_0x3c9a17(0x1b5)]||[])['map']((_0x1b9372,_0x1a0ffc)=>{const _0x109548=_0x3c9a17;if(_0x317e6e[_0x109548(0x90f)](_0x1a0ffc[_0x109548(0x188)]()))return'';return _0x109548(0x6b0)+_0x1a0ffc+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x1b9372+_0x109548(0x63a);})['join']('');break;}let _0x46e837='';_0x5545a0[_0x3c9a17(0x95a)]===_0x3c9a17(0x5bf)&&(_0x46e837=_0x3c9a17(0xbd2)+_0x5545a0[_0x3c9a17(0x4d2)]+_0x3c9a17(0x9e1));let _0x57ac7e='';if(_0x5545a0[_0x3c9a17(0xc71)]===!![]){const _0x5e2ca1=[_0x1477fa[_0x3c9a17(0xc69)]>0x0?'<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20('+_0x1477fa[_0x3c9a17(0xc69)]+')</button>':'',_0x1477fa[_0x3c9a17(0x2ac)]>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x1477fa[_0x3c9a17(0x2ac)]+_0x3c9a17(0x27d):'',_0x1477fa[_0x3c9a17(0x6ec)]>0x0?'<button\x20id=\x22use-powerup-poll\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>📊\x20สถิติ\x20('+_0x1477fa[_0x3c9a17(0x6ec)]+_0x3c9a17(0x27d):'',_0x1477fa[_0x3c9a17(0x250)]>0x0?_0x3c9a17(0x735)+_0x1477fa[_0x3c9a17(0x250)]+_0x3c9a17(0x27d):'',_0x1477fa[_0x3c9a17(0xc3a)]>0x0?_0x3c9a17(0x338)+_0x1477fa[_0x3c9a17(0xc3a)]+')</button>':'',_0x1477fa[_0x3c9a17(0xa9b)]>0x0?'<button\x20id=\x22use-powerup-forceConfident\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>👻\x20บังคับมั่นใจ\x20('+_0x1477fa[_0x3c9a17(0xa9b)]+_0x3c9a17(0x27d):'',_0x1477fa[_0x3c9a17(0x9a0)]>0x0?_0x3c9a17(0xa60)+_0x1477fa['jinx']+')</button>':'',_0x1477fa[_0x3c9a17(0x616)]>0x0?_0x3c9a17(0xaac)+_0x1477fa[_0x3c9a17(0x616)]+_0x3c9a17(0x27d):'',_0x1477fa['buyTime']>0x0?_0x3c9a17(0x789)+_0x1477fa[_0x3c9a17(0xc42)]+_0x3c9a17(0x27d):'',_0x1477fa[_0x3c9a17(0x5a5)]>0x0?_0x3c9a17(0x586)+_0x1477fa['strategyScan']+_0x3c9a17(0x27d):''][_0x3c9a17(0x3d8)](Boolean)[_0x3c9a17(0x343)]('\x20');_0x57ac7e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-2\x20justify-center\x20items-center\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20'+_0x1d5f32+_0x3c9a17(0x889)+(_0x5e2ca1||_0x3c9a17(0x431))+_0x3c9a17(0xe57);}const _0x5ee44b=_0x3c9a17(0xa3c)+_0x2eb684+'_p'+_0x4401ec,_0x4dda4c=sessionStorage[_0x3c9a17(0xd53)](_0x5ee44b);let _0x5ce120='';_0x463c36['isJinxed']===!![]&&(_0x5ce120+=_0x3c9a17(0x1f4));_0x463c36[_0x3c9a17(0x37b)]===!![]&&(_0x5ce120+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>');if(_0x4dda4c)switch(_0x4dda4c){case _0x3c9a17(0x250):_0x5ce120+=_0x3c9a17(0x47a);break;case _0x3c9a17(0xc3a):_0x5ce120+=_0x3c9a17(0x345);break;case'secondChance':_0x5ce120+=_0x3c9a17(0xac9);break;case'poll':_0x5ce120+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-cyan-500\x20text-white\x20font-semibold\x20mb-3\x22>📊\x20คุณได้ใช้\x20\x22ส่องสถิติ\x22\x20ไปแล้ว\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>';break;case _0x3c9a17(0x2ac):_0x5ce120+=_0x3c9a17(0xade);break;case _0x3c9a17(0xc69):_0x5ce120+=_0x3c9a17(0xaf1);break;}(_0x463c36[_0x3c9a17(0xe7e)]||0x0)>0x0&&(_0x5ce120+=_0x3c9a17(0x797));liveGameView['innerHTML']=_0x3c9a17(0x80f)+(_0x2eb684+0x1)+'\x20/\x20'+_0x4919bb+_0x3c9a17(0x9c3)+_0x4401ec+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46e837+_0x3c9a17(0xe2c)+_0x57ac7e+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ce120+_0x3c9a17(0xccd)+(_0x1e02a8[_0x3c9a17(0x2c5)]||_0x1e02a8[_0x3c9a17(0x592)])+_0x3c9a17(0x48f)+_0x5034a3+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x3c9a17(0x389)])MathJax[_0x3c9a17(0x434)]();function _0xb41214(_0x3d6786,_0x3c1431,_0x74d6f1,_0xe54a6c){const _0x2b8099=_0x3c9a17,_0x302e6a=_0x74d6f1[_0x2b8099(0xda2)]===!![],_0xaa5ebd=_0x74d6f1['currentQuestionIndex'],_0xcf6f70=_0x2b8099(0xa3c)+_0xaa5ebd+'_p'+_0xe54a6c,_0x4e5064=sessionStorage['getItem'](_0xcf6f70),_0xbbc344=_0x4e5064===_0x2b8099(0xc3a),_0x219a60=_0x74d6f1[_0x2b8099(0x774)][_0xe54a6c];if(_0xbbc344){const _0x3c4d54=document[_0x2b8099(0x81d)]('wager-modal'),_0xdf33a1=document[_0x2b8099(0x81d)]('wager-slider'),_0x450a03=document[_0x2b8099(0x81d)]('wager-amount-display'),_0x4f9357=document[_0x2b8099(0x81d)](_0x2b8099(0xbcb)),_0x1a5e94=_0x219a60[_0x2b8099(0x504)]||0x0;_0xdf33a1[_0x2b8099(0x1f1)]=_0x1a5e94,_0xdf33a1[_0x2b8099(0x710)]=0x0,_0x450a03[_0x2b8099(0xca8)]=0x0,_0x4f9357['textContent']=_0x1a5e94,_0xdf33a1[_0x2b8099(0x57c)]=()=>{const _0xcc36cb=_0x2b8099;_0x450a03[_0xcc36cb(0xca8)]=_0xdf33a1['value'];};const _0x41f0a2=document[_0x2b8099(0x81d)]('selected-answer-index-hidden-wager');_0x41f0a2['dataset']['answerValue']=_0x3d6786,_0x41f0a2['dataset'][_0x2b8099(0x62f)]=JSON[_0x2b8099(0xe01)](_0x3c1431),_0x41f0a2[_0x2b8099(0x33e)]['gameData']=JSON[_0x2b8099(0xe01)](_0x74d6f1),_0x41f0a2[_0x2b8099(0x33e)][_0x2b8099(0xe63)]=_0xe54a6c,_0x3c4d54[_0x2b8099(0xdd2)][_0x2b8099(0x469)](_0x2b8099(0x35b));}else{if(_0x302e6a){document[_0x2b8099(0x81d)](_0x2b8099(0x2b2))['dataset'][_0x2b8099(0xe03)]=_0x2b8099(0x48d);const _0x261329=document[_0x2b8099(0x81d)](_0x2b8099(0xc79));_0x261329['dataset']['answerValue']=_0x3d6786,_0x261329['dataset'][_0x2b8099(0x62f)]=JSON[_0x2b8099(0xe01)](_0x3c1431),_0x261329['dataset'][_0x2b8099(0x374)]=JSON[_0x2b8099(0xe01)](_0x74d6f1),_0x261329[_0x2b8099(0x33e)][_0x2b8099(0xe63)]=_0xe54a6c,document['getElementById'](_0x2b8099(0x2b2))[_0x2b8099(0xdd2)]['remove']('hidden');}else handleSyncAnswerSubmit(_0x3d6786,_0x3c1431,_0x74d6f1,_0xe54a6c,![],0x0);}}_0xd7d8eb?document[_0x3c9a17(0x81d)](_0x3c9a17(0x366))[_0x3c9a17(0x843)]('click',()=>{const _0x4eca1e=_0x3c9a17,_0x55ac75=document[_0x4eca1e(0x81d)](_0x4eca1e(0x98f))||document[_0x4eca1e(0x81d)](_0x4eca1e(0x2e2));if(_0x55ac75[_0x4eca1e(0x710)][_0x4eca1e(0x5f6)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0xb41214(_0x55ac75['value'],_0x1e02a8,_0x5545a0,_0x4401ec);}):document[_0x3c9a17(0xbec)](_0x3c9a17(0x1b8))['forEach'](_0x2058ee=>{const _0x31a9fc=_0x3c9a17;_0x2058ee[_0x31a9fc(0x843)](_0x31a9fc(0x864),()=>{const _0x28d72b=_0x31a9fc;_0xb41214(_0x2058ee['dataset'][_0x28d72b(0x710)],_0x1e02a8,_0x5545a0,_0x4401ec);});});if(_0x5545a0[_0x3c9a17(0xc71)]===!![]){const _0xb50792=document[_0x3c9a17(0x81d)](_0x3c9a17(0xcce));_0xb50792&&_0xb50792['addEventListener'](_0x3c9a17(0x864),()=>{const _0x28faf5=_0x3c9a17,_0x66af0=_0x5545a0[_0x28faf5(0x810)],_0x4b8018=_0x4401ec,_0x4c2d14='freeMarketEntryUsed_q'+_0x66af0+'_p'+_0x4b8018,_0x34b340=sessionStorage[_0x28faf5(0xd53)](_0x4c2d14)==='true';if(!_0x34b340)console[_0x28faf5(0x792)](_0x28faf5(0x5e9)+_0x66af0+'):\x20ฟรี'),openBlackMarket(_0x5545a0,_0x463c36),sessionStorage['setItem'](_0x4c2d14,_0x28faf5(0xa6f));else{console[_0x28faf5(0x792)](_0x28faf5(0x169)+_0x66af0+_0x28faf5(0x558));if(_0x463c36[_0x28faf5(0x504)]<0x1){showMessage(_0x28faf5(0x9c8));return;}showConfirmation(_0x28faf5(0x883),()=>{handlePayForMarketEntry(_0x4401ec,_0x5545a0,_0x463c36);});}}),document[_0x3c9a17(0x81d)](_0x3c9a17(0xe93))?.[_0x3c9a17(0x843)](_0x3c9a17(0x864),_0x214b2a=>{const _0x13462d=_0x3c9a17,_0x4b7228=_0x214b2a['target'];_0x4b7228[_0x13462d(0x396)]=!![],showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการใช้\x20\x27สถิติ\x27?\x20(หากใช้แล้วตอบผิด\x20บทลงโทษจะรุนแรงขึ้น)',()=>{const _0x211fb7=_0x13462d;handleUsePowerup(_0x4401ec,_0x211fb7(0x6ec),_0x1e02a8,_0x5545a0,_0x463c36);},()=>{const _0x1b5d09=_0x13462d;_0x4b7228[_0x1b5d09(0x396)]=![];});}),document[_0x3c9a17(0x81d)](_0x3c9a17(0xd05))?.['addEventListener'](_0x3c9a17(0x864),_0x18c1d1=>{const _0x470080=_0x3c9a17;_0x18c1d1[_0x470080(0xca1)][_0x470080(0x396)]=!![],handleUsePowerup(_0x4401ec,'buyTime',_0x1e02a8,_0x5545a0,_0x463c36);}),document[_0x3c9a17(0x81d)](_0x3c9a17(0x9af))?.[_0x3c9a17(0x843)](_0x3c9a17(0x864),_0x1441bb=>{const _0x50f388=_0x3c9a17;_0x1441bb[_0x50f388(0xca1)][_0x50f388(0x396)]=!![],handleUsePowerup(_0x4401ec,_0x50f388(0x9a0),_0x1e02a8,_0x5545a0,_0x463c36);}),document[_0x3c9a17(0x81d)](_0x3c9a17(0x27f))?.[_0x3c9a17(0x843)](_0x3c9a17(0x864),_0x3967e0=>{const _0xa2c5d1=_0x3c9a17;_0x3967e0[_0xa2c5d1(0xca1)][_0xa2c5d1(0x396)]=!![],handleUsePowerup(_0x4401ec,'cutOne',_0x1e02a8,_0x5545a0,_0x463c36);}),document['getElementById']('use-powerup-insurance')?.['addEventListener'](_0x3c9a17(0x864),_0x4bb05e=>{const _0x4ed973=_0x3c9a17;_0x4bb05e[_0x4ed973(0xca1)][_0x4ed973(0x396)]=!![],handleUsePowerup(_0x4401ec,_0x4ed973(0x250),_0x1e02a8,_0x5545a0,_0x463c36);}),document['getElementById']('use-powerup-wagerMultiplier')?.[_0x3c9a17(0x843)](_0x3c9a17(0x864),_0xc3576f=>{const _0x331095=_0x3c9a17;_0xc3576f[_0x331095(0xca1)][_0x331095(0x396)]=!![],handleUsePowerup(_0x4401ec,'wagerMultiplier',_0x1e02a8,_0x5545a0,_0x463c36);}),document[_0x3c9a17(0x81d)](_0x3c9a17(0x35c))?.[_0x3c9a17(0x843)](_0x3c9a17(0x864),_0x395104=>{const _0x253c1f=_0x3c9a17;_0x395104[_0x253c1f(0xca1)][_0x253c1f(0x396)]=!![],handleUsePowerup(_0x4401ec,_0x253c1f(0xa9b),_0x1e02a8,_0x5545a0,_0x463c36);}),document[_0x3c9a17(0x81d)]('use-powerup-fiftyFifty')?.['addEventListener'](_0x3c9a17(0x864),_0x21bb2a=>{_0x21bb2a['target']['disabled']=!![],handleUsePowerup(_0x4401ec,'fiftyFifty',_0x1e02a8,_0x5545a0,_0x463c36);}),document[_0x3c9a17(0x81d)](_0x3c9a17(0xadd))?.[_0x3c9a17(0x843)](_0x3c9a17(0x864),_0x22bf08=>{const _0x2dbea5=_0x3c9a17;_0x22bf08[_0x2dbea5(0xca1)][_0x2dbea5(0x396)]=!![],handleUsePowerup(_0x4401ec,_0x2dbea5(0x616),_0x1e02a8,_0x5545a0,_0x463c36);}),document['getElementById'](_0x3c9a17(0x63c))?.[_0x3c9a17(0x843)](_0x3c9a17(0x864),_0x168c21=>{const _0x489446=_0x3c9a17;_0x168c21[_0x489446(0xca1)][_0x489446(0x396)]=!![],handleUsePowerup(_0x4401ec,_0x489446(0x5a5),_0x1e02a8,_0x5545a0,_0x463c36);});}}async function handleSyncAnswerSubmit(_0x1afb8f,_0x50b2b5,_0x244ebf,_0x5d4080,_0x13a669,_0x18e748=0x0){const _0x484e24=_0x4a882c;document[_0x484e24(0xbec)](_0x484e24(0x7a0))[_0x484e24(0xdc3)](_0x4b4a81=>_0x4b4a81[_0x484e24(0x396)]=!![]);const _0x29cac0=_0x244ebf['currentQuestionIndex'],_0x2b975f='powerupUsed_q'+_0x29cac0+'_p'+_0x5d4080,_0x578b93=sessionStorage['getItem'](_0x2b975f),_0x499067=_0x244ebf['players'][_0x5d4080]?.[_0x484e24(0x37b)]===!![],_0x32d730=sessionStorage[_0x484e24(0xd53)]('onSecondChance')===_0x484e24(0xa6f),_0x51e21e=_0x50b2b5[_0x484e24(0x211)]||_0x244ebf[_0x484e24(0xba9)]['quizType'];let _0x361653=![],_0x3dcbae=_0x1afb8f;switch(_0x51e21e){case _0x484e24(0x559):const _0x59e788=parseInt(_0x1afb8f),_0x5bea87=_0x50b2b5[_0x484e24(0x87b)]===!![]||String(_0x50b2b5[_0x484e24(0x87b)])['toLowerCase']()===_0x484e24(0xa6f);_0x361653=_0x59e788===0x0&&_0x5bea87||_0x59e788===0x1&&!_0x5bea87,_0x3dcbae=_0x59e788===0x0?_0x484e24(0xada):_0x484e24(0xa7c);break;case _0x484e24(0x2bb):case _0x484e24(0xe4b):_0x361653=await gradeShortAnswer(_0x1afb8f,_0x50b2b5);break;case _0x484e24(0x7d3):_0x361653=_0x1afb8f===_0x50b2b5[_0x484e24(0x6b7)];break;case _0x484e24(0xca9):default:const _0x1c76b7=parseInt(_0x1afb8f);_0x361653=_0x1c76b7===_0x50b2b5[_0x484e24(0x1dc)];_0x50b2b5['options']&&_0x50b2b5[_0x484e24(0x1b5)][_0x1c76b7]&&(_0x3dcbae=_0x50b2b5[_0x484e24(0x1b5)][_0x1c76b7]);break;}if(!_0x361653&&_0x578b93===_0x484e24(0x616)&&!_0x32d730){sessionStorage[_0x484e24(0x37a)](_0x2b975f),sessionStorage[_0x484e24(0x1a0)](_0x484e24(0x967),_0x484e24(0xa6f)),showMessage(_0x484e24(0x8cd)),document[_0x484e24(0xbec)](_0x484e24(0x7a0))[_0x484e24(0xdc3)](_0x4ae4a6=>{const _0x46af90=_0x484e24;!_0x4ae4a6[_0x46af90(0xdd2)][_0x46af90(0x6a8)](_0x46af90(0x35b))&&(_0x4ae4a6[_0x46af90(0x396)]=![]);});return;}const _0x97173e=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x52a086={},_0x55a9d8=_0x244ebf[_0x484e24(0x774)][_0x5d4080]?.[_0x484e24(0x6c9)]||[];let _0x4e8d41=0x0;const _0x97deda=_0x578b93===_0x484e24(0xc3a),_0x77f43f=_0x578b93===_0x484e24(0x250),_0x323e1a=sessionStorage['getItem']('pollUsedThisTurn')===_0x484e24(0xa6f),_0x2f1f74=_0x244ebf[_0x484e24(0x774)][_0x5d4080]?.[_0x484e24(0xbda)]===!![];if(_0x97deda){const _0x22bae4=parseInt(_0x18e748,0xa)||0x0;_0x4e8d41=_0x361653?_0x22bae4*0x2:-_0x22bae4;}else{if(_0x323e1a&&!_0x361653)_0x13a669===!![]||_0x13a669===_0x484e24(0x995)||_0x499067?_0x4e8d41=-0x4:_0x4e8d41=-0x2;else{if(_0x499067)_0x4e8d41=_0x361653?0x2:-0x1;else{if(_0x244ebf['isConfidenceScoringEnabled']){if(_0x361653&&(_0x13a669===!![]||_0x13a669==='confident'))_0x4e8d41=0x2;else{if(_0x361653)_0x4e8d41=0x1;else{if(!_0x361653&&(_0x13a669===![]||_0x13a669===_0x484e24(0x36c)||_0x13a669===null))_0x4e8d41=0x0;else!_0x361653&&(_0x13a669===!![]||_0x13a669==='confident')&&(_0x4e8d41=-0x1);}}}else _0x4e8d41=_0x361653?0x1:0x0;}}}_0x2f1f74&&!_0x361653&&_0x4e8d41<0x0&&(_0x4e8d41*=0x2);!_0x361653&&_0x77f43f&&(_0x4e8d41=0x0);const _0x3ba8f9=(_0x244ebf['players'][_0x5d4080]?.[_0x484e24(0xe7e)]||0x0)>0x0,_0x3588e4={'questionIndex':_0x244ebf[_0x484e24(0x810)],'questionId':_0x50b2b5['id'],'answer':_0x1afb8f,'answerText':_0x3dcbae,'isCorrect':_0x361653,'originalQuestionText':_0x50b2b5['questionText']||_0x50b2b5[_0x484e24(0x592)],'wasConfident':_0x499067?'confident':_0x13a669||![],'pointsAwarded':_0x4e8d41,'powerupUsed':_0x578b93||null,'wasJinxed':_0x2f1f74||![],'wasForced':_0x499067||![],'usedPoll':_0x323e1a||![],'usedBuyTime':_0x3ba8f9},_0x2d3e3=_0x55a9d8[_0x484e24(0x3d8)](_0x26db7a=>_0x26db7a[_0x484e24(0x63d)]!==_0x244ebf['currentQuestionIndex']),_0x3f2768=[..._0x2d3e3,_0x3588e4],_0xb2d9a6=_0x3f2768[_0x484e24(0x3d8)](_0x4cf314=>_0x4cf314[_0x484e24(0x565)])[_0x484e24(0xa96)];_0x52a086[_0x484e24(0x9ac)+_0x5d4080+_0x484e24(0xe77)]=_0x3f2768,_0x52a086[_0x484e24(0x9ac)+_0x5d4080+'.score']=_0xb2d9a6,_0x52a086[_0x484e24(0x9ac)+_0x5d4080+'.totalPoints']=increment(_0x4e8d41),_0x52a086[_0x484e24(0x9ac)+_0x5d4080+_0x484e24(0x5af)]=!![];_0x3ba8f9&&(_0x52a086[_0x484e24(0x9ac)+_0x5d4080+_0x484e24(0x464)]=0x0);_0x499067&&(_0x52a086[_0x484e24(0x9ac)+_0x5d4080+_0x484e24(0xbca)]=![]);_0x32d730&&sessionStorage[_0x484e24(0x37a)](_0x484e24(0x967));let _0x533bc7=null;(_0x51e21e===_0x484e24(0xca9)||_0x51e21e==='true_false'||_0x51e21e==='fill_in_with_choices')&&(_0x533bc7=parseInt(_0x1afb8f)),_0x52a086[_0x484e24(0x9ac)+_0x5d4080+_0x484e24(0xde2)]=_0x533bc7,await updateDoc(_0x97173e,_0x52a086);}const allMarketItems=[{'id':_0x4a882c(0xc42),'name':_0x4a882c(0x767),'price':0x1,'desc':_0x4a882c(0x2e1)},{'id':_0x4a882c(0x6ec),'name':_0x4a882c(0x72a),'price':0x2,'desc':_0x4a882c(0x714)},{'id':'cutOne','name':_0x4a882c(0xc37),'price':0x2,'desc':_0x4a882c(0xcb9)},{'id':'insurance','name':'🛡️\x20ประกันภัย','price':0x2,'desc':_0x4a882c(0x618)},{'id':'strategyScan','name':_0x4a882c(0x685),'price':0x2,'desc':_0x4a882c(0x5d3)},{'id':'forceConfident','name':_0x4a882c(0xc72),'price':0x3,'desc':_0x4a882c(0x644)},{'id':_0x4a882c(0xc69),'name':_0x4a882c(0xe94),'price':0x5,'desc':_0x4a882c(0xdf9)},{'id':_0x4a882c(0xc3a),'name':_0x4a882c(0xa6c),'price':0x5,'desc':_0x4a882c(0xac7)},{'id':'jinx','name':_0x4a882c(0x633),'price':0x5,'desc':'เลือกผู้เล่น\x201\x20คน\x20หากผู้เล่นนั้นตอบผิดในข้อนี้\x20\x22บทลงโทษทั้งหมด\x22\x20จะ\x20x2\x20(ถ้าตอบถูกได้คะแนนปกติ)'},{'id':_0x4a882c(0x616),'name':_0x4a882c(0xe79),'price':0x7,'desc':_0x4a882c(0xd36)}];function openBlackMarket(_0x266578,_0x46f6b7){const _0x44ad29=_0x4a882c;let _0x2c3ba4=null;const _0x3f55cb=document[_0x44ad29(0x81d)](_0x44ad29(0x68c)),_0x5937d8=document['getElementById']('market-item-list'),_0x383021=document[_0x44ad29(0x81d)]('market-current-points'),_0x54ca69=document[_0x44ad29(0x81d)]('market-timer-bar'),_0x44a234=_0x46f6b7[_0x44ad29(0x504)]||0x0;_0x383021[_0x44ad29(0xca8)]=_0x44a234;const _0x11c131=allMarketItems;_0x5937d8['innerHTML']=_0x11c131[_0x44ad29(0x7d8)](_0x46bd36=>{const _0x34291c=_0x44ad29,_0x420889=_0x44a234>=_0x46bd36[_0x34291c(0x823)];if(_0x46bd36['id']===_0x34291c(0xc42)){const _0xc38dc1=_0x420889?Math[_0x34291c(0x22a)](_0x44a234/_0x46bd36['price']):0x0,_0x13cd42=_0x44a234>=_0x46bd36[_0x34291c(0x823)];return _0x34291c(0x617)+(!_0x13cd42?_0x34291c(0xcae):_0x34291c(0xd3a))+_0x34291c(0x9e8)+_0x46bd36[_0x34291c(0x523)]+_0x34291c(0x1ad)+_0x46bd36['desc']+_0x34291c(0x8d7)+_0xc38dc1+'\x22\x20'+(!_0x13cd42?'disabled':'')+_0x34291c(0xb1a)+(_0x13cd42?'bg-indigo-600\x20hover:bg-indigo-700':_0x34291c(0x414))+_0x34291c(0x89d)+_0x46bd36['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x46bd36['price']+_0x34291c(0x93c)+(!_0x13cd42?_0x34291c(0x396):'')+_0x34291c(0xd26)+_0x46bd36[_0x34291c(0x823)]+'P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x356465=!_0x420889?_0x34291c(0x396):'',_0x19fc55=_0x420889?_0x34291c(0xbeb):_0x34291c(0x414);return _0x34291c(0x617)+(!_0x420889?_0x34291c(0xcae):_0x34291c(0xd3a))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x46bd36['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x46bd36[_0x34291c(0x445)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20'+_0x19fc55+_0x34291c(0x736)+_0x46bd36['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x46bd36[_0x34291c(0x823)]+_0x34291c(0x3b4)+_0x356465+_0x34291c(0x980)+_0x46bd36['price']+_0x34291c(0x222);}})[_0x44ad29(0x343)](''),_0x3f55cb['classList'][_0x44ad29(0x469)](_0x44ad29(0x35b)),_0x54ca69[_0x44ad29(0xe1e)][_0x44ad29(0x2bf)]=_0x44ad29(0x486),_0x54ca69[_0x44ad29(0xe1e)]['width']=_0x44ad29(0x4c0),setTimeout(()=>{const _0x1455f2=_0x44ad29;_0x54ca69[_0x1455f2(0xe1e)][_0x1455f2(0x2bf)]=_0x1455f2(0xac6),_0x54ca69[_0x1455f2(0xe1e)]['width']='0%';},0x32),_0x2c3ba4=setTimeout(()=>{const _0x51c6dc=_0x44ad29;_0x3f55cb[_0x51c6dc(0xdd2)]['add']('hidden');},0xea60),document['getElementById'](_0x44ad29(0x796))['onclick']=()=>{const _0x2ebcbc=_0x44ad29;clearTimeout(_0x2c3ba4),_0x3f55cb[_0x2ebcbc(0xdd2)][_0x2ebcbc(0x87d)](_0x2ebcbc(0x35b));},_0x5937d8[_0x44ad29(0xbec)](_0x44ad29(0x3bb))[_0x44ad29(0xdc3)](_0x140584=>{const _0x4e07ee=_0x44ad29;_0x140584[_0x4e07ee(0x845)]=_0x312e8d=>{const _0x4b4ea0=_0x4e07ee,_0x5314f6=_0x312e8d[_0x4b4ea0(0xca1)][_0x4b4ea0(0x33e)][_0x4b4ea0(0x1c9)],_0x3107b7=parseInt(_0x312e8d[_0x4b4ea0(0xca1)][_0x4b4ea0(0x33e)][_0x4b4ea0(0x823)],0xa);clearTimeout(_0x2c3ba4),_0x3f55cb[_0x4b4ea0(0xdd2)][_0x4b4ea0(0x87d)](_0x4b4ea0(0x35b)),handleBuyItem(_0x46f6b7['name'],_0x5314f6,_0x3107b7,0x1);};}),_0x5937d8[_0x44ad29(0xbec)](_0x44ad29(0x26f))[_0x44ad29(0xdc3)](_0x102cfb=>{const _0x5632c8=_0x44ad29;_0x102cfb[_0x5632c8(0x845)]=_0xd5a602=>{const _0x458211=_0x5632c8,_0x31f106=_0xd5a602[_0x458211(0xca1)][_0x458211(0x33e)][_0x458211(0x1c9)],_0x1e56ea=parseInt(_0xd5a602['target']['dataset'][_0x458211(0x823)],0xa),_0x505172=document[_0x458211(0x81d)](_0x458211(0x70d)),_0x49b5ef=parseInt(_0x505172[_0x458211(0x710)],0xa),_0x32116a=parseInt(_0x505172['max'],0xa);if(!_0x49b5ef||_0x49b5ef<0x1){showMessage(_0x458211(0xc53));return;}if(_0x49b5ef>_0x32116a){showMessage(_0x458211(0x86e)+_0x32116a+'\x20ชิ้น)');return;}clearTimeout(_0x2c3ba4),_0x3f55cb[_0x458211(0xdd2)][_0x458211(0x87d)](_0x458211(0x35b)),handleBuyItem(_0x46f6b7[_0x458211(0x523)],_0x31f106,_0x1e56ea,_0x49b5ef);};});}async function handleBuyItem(_0x3ef843,_0x3e178c,_0x1834fd,_0x23279f=0x1){const _0x995b1d=_0x4a882c,_0x32d2c5=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);try{await runTransaction(db,async _0x3192fb=>{const _0x336137=_0x2fbb,_0x186e12=await _0x3192fb['get'](_0x32d2c5);if(!_0x186e12['exists']())throw _0x336137(0x568);const _0x30fd53=_0x186e12[_0x336137(0xc66)](),_0x4a8acc=_0x30fd53[_0x336137(0x774)][_0x3ef843]?.['totalPoints']||0x0,_0x2b6113=_0x1834fd*_0x23279f;if(_0x4a8acc<_0x2b6113)throw _0x336137(0x7db);const _0x31dae0={};_0x31dae0[_0x336137(0x9ac)+_0x3ef843+_0x336137(0x2e0)]=increment(-_0x2b6113),_0x31dae0[_0x336137(0x9ac)+_0x3ef843+_0x336137(0x58d)+_0x3e178c]=increment(_0x23279f),_0x3192fb['update'](_0x32d2c5,_0x31dae0);}),showMessage(_0x995b1d(0x21f)+_0x3e178c+'\x22\x20x'+_0x23279f+_0x995b1d(0xa71));}catch(_0xf44a0f){console[_0x995b1d(0x76b)](_0x995b1d(0x88a),_0xf44a0f),showMessage(typeof _0xf44a0f===_0x995b1d(0xa6a)?_0xf44a0f:_0x995b1d(0x467));}}async function handlePayForMarketEntry(_0x20d081,_0x45c100,_0x4179ba){const _0xa43e8=_0x4a882c,_0x35c846=doc(db,_0xa43e8(0x878)+appId+_0xa43e8(0x4f6),currentLiveGameId);try{await runTransaction(db,async _0x1b90a6=>{const _0x317aad=_0xa43e8,_0x817fb=await _0x1b90a6[_0x317aad(0x19d)](_0x35c846);if(!_0x817fb[_0x317aad(0xb52)]())throw _0x317aad(0x568);const _0x2707af=_0x817fb['data'](),_0x14affd=_0x2707af[_0x317aad(0x774)][_0x20d081]?.[_0x317aad(0x504)]||0x0;if(_0x14affd<0x1)throw _0x317aad(0x473);const _0x28a455={};_0x28a455[_0x317aad(0x9ac)+_0x20d081+_0x317aad(0x2e0)]=increment(-0x1),_0x1b90a6[_0x317aad(0x243)](_0x35c846,_0x28a455);});const _0x287936={..._0x4179ba,'totalPoints':(_0x4179ba[_0xa43e8(0x504)]||0x0)-0x1};openBlackMarket(_0x45c100,_0x287936);}catch(_0x1b03a3){console[_0xa43e8(0x76b)]('Market\x20entry\x20payment\x20failed:',_0x1b03a3),showMessage(typeof _0x1b03a3===_0xa43e8(0xa6a)?_0x1b03a3:_0xa43e8(0xa97));}}initialize();
