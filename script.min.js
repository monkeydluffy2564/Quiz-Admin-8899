const _0x2f78fc=_0x43c7;(function(_0x5cf33b,_0x4170d7){const _0xc77041=_0x43c7,_0x236ce8=_0x5cf33b();while(!![]){try{const _0x5a3ba0=parseInt(_0xc77041(0x764))/0x1*(parseInt(_0xc77041(0x36e))/0x2)+parseInt(_0xc77041(0x37c))/0x3*(parseInt(_0xc77041(0xb1f))/0x4)+parseInt(_0xc77041(0x98e))/0x5+parseInt(_0xc77041(0x484))/0x6*(parseInt(_0xc77041(0x49f))/0x7)+-parseInt(_0xc77041(0x898))/0x8+-parseInt(_0xc77041(0xccc))/0x9+-parseInt(_0xc77041(0x23d))/0xa*(parseInt(_0xc77041(0x6c4))/0xb);if(_0x5a3ba0===_0x4170d7)break;else _0x236ce8['push'](_0x236ce8['shift']());}catch(_0x339260){_0x236ce8['push'](_0x236ce8['shift']());}}}(_0x35af,0x4320d));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x2f78fc(0x1da),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x1d2cf7=_0x2f78fc;if(_0x1d2cf7(0x9c5)in navigator)try{wakeLock=await navigator['wakeLock']['request'](_0x1d2cf7(0xb7d)),console['log']('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x1d2cf7(0x5b2)](_0x1d2cf7(0x8af),()=>{const _0x5d099b=_0x1d2cf7;console['log'](_0x5d099b(0x708));});}catch(_0x1bf582){console[_0x1d2cf7(0x40f)](_0x1d2cf7(0x3fa)+_0x1bf582[_0x1d2cf7(0xb54)]+',\x20'+_0x1bf582['message']);}else console[_0x1d2cf7(0xc5c)](_0x1d2cf7(0x3b8));},releaseWakeLock=async()=>{const _0xe7df5f=_0x2f78fc;wakeLock!==null&&(await wakeLock[_0xe7df5f(0x8af)](),wakeLock=null,console[_0xe7df5f(0x516)](_0xe7df5f(0xb71)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4f82d6=_0x2f78fc;if(dimTimer)clearTimeout(dimTimer);document[_0x4f82d6(0xad4)][_0x4f82d6(0xa39)][_0x4f82d6(0xc4b)](_0x4f82d6(0xc75)),dimTimer=setTimeout(()=>{const _0x2d92f3=_0x4f82d6;document[_0x2d92f3(0xad4)][_0x2d92f3(0xa39)][_0x2d92f3(0x5c0)](_0x2d92f3(0xc75)),console['log']('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x234244=_0x2f78fc;if(dimTimer)clearTimeout(dimTimer);document[_0x234244(0xad4)][_0x234244(0xa39)][_0x234244(0xc4b)]('dimmed'),window[_0x234244(0xac5)](_0x234244(0x23c),resetDimTimer),window[_0x234244(0xac5)](_0x234244(0x97f),resetDimTimer),window[_0x234244(0xac5)](_0x234244(0x8ca),resetDimTimer),window['removeEventListener'](_0x234244(0xbce),resetDimTimer),console[_0x234244(0x516)](_0x234244(0x2ce));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x47498d,_0x4fe2f6=![]){const _0x1d0723=_0x2f78fc,_0x2dbf0c=allQuizzes[_0x1d0723(0x533)](_0x2e0998=>_0x2e0998['id']===_0x47498d)||allQuizzesGlobal[_0x1d0723(0x533)](_0x1d2256=>_0x1d2256['id']===_0x47498d);if(!_0x2dbf0c){showMessage(_0x1d0723(0x663));return;}currentQuizData=getShuffledQuiz(_0x2dbf0c);const _0x107ece=Math[_0x1d0723(0x60a)](0x3e8+Math[_0x1d0723(0x40c)]()*0x2328)[_0x1d0723(0x2d0)]();try{const _0x4671fc=await addDoc(collection(db,_0x1d0723(0x309)+appId+_0x1d0723(0x438)),{'quizId':_0x2dbf0c['id'],'projectId':_0x2dbf0c[_0x1d0723(0x93e)],'status':_0x1d0723(0xc23),'pin':_0x107ece,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4fe2f6});currentTeamQuizId=_0x4671fc['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x107ece,_0x2dbf0c['topic']),listenForTeamQuizUpdates();}catch(_0x4a565f){console[_0x1d0723(0x40f)](_0x1d0723(0x3a9),_0x4a565f),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x3116cc,_0x2de2b0,_0x1d0ee4=_0x2f78fc(0x861)){const _0x394464=_0x2f78fc,_0x5a39e3=_0x1d0ee4===_0x394464(0xc76)?_0x394464(0xbb4):_0x394464(0xc88);liveGameView[_0x394464(0x5f0)]=_0x394464(0x313)+_0x5a39e3+':\x20'+_0x2de2b0+_0x394464(0xc2a)+_0x3116cc+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x394464(0x288)]('end-team-quiz-btn')[_0x394464(0x5b2)](_0x394464(0x8d9),async()=>{const _0x53c328=_0x394464;showConfirmation(_0x53c328(0xbbb),async()=>{const _0x1e62e1=_0x53c328;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x1e62e1(0x309)+appId+_0x1e62e1(0x438),currentTeamQuizId)),showView(_0x1e62e1(0xbc6));});});}function listenForTeamQuizUpdates(){const _0x540bd1=_0x2f78fc;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x1dff67=doc(db,_0x540bd1(0x309)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x1dff67,_0x53b29a=>{const _0x4cfb24=_0x540bd1;if(!_0x53b29a[_0x4cfb24(0x5e4)]()){sessionStorage[_0x4cfb24(0x3ef)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4cfb24(0x61e));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x4cfb24(0x390));return;}const _0x27b95d=_0x53b29a[_0x4cfb24(0xc89)]();if(currentMode==='admin'){if(_0x27b95d[_0x4cfb24(0x434)]===_0x4cfb24(0xc76)&&_0x27b95d[_0x4cfb24(0xa78)]!=='podium'&&_0x27b95d[_0x4cfb24(0xa78)]!=='finished'){const _0x4c720a=Object[_0x4cfb24(0xa59)](_0x27b95d['groups']||{});if(_0x4c720a[_0x4cfb24(0x649)]>0x0){const _0x33a979=_0x4c720a['every'](_0x1b0fc4=>_0x1b0fc4[_0x4cfb24(0xbd9)]===!![]);_0x33a979&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x27b95d);}else{if(_0x27b95d[_0x4cfb24(0xa78)]==='podium'||_0x27b95d[_0x4cfb24(0xa78)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x27b95d['mode']===_0x4cfb24(0xc76)){const _0x21a00a=_0x27b95d[_0x4cfb24(0x42e)][userId];(!_0x21a00a||!_0x21a00a[_0x4cfb24(0xbd9)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x5f7201){const _0x433a67=_0x2f78fc;console[_0x433a67(0x516)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x3c38be=doc(db,_0x433a67(0x309)+appId+'/public/data/teamQuizzes',_0x5f7201);try{const _0x515e7f=await getDoc(_0x3c38be);if(_0x515e7f[_0x433a67(0x5e4)]()){const _0x513e93=_0x515e7f[_0x433a67(0xc89)]();_0x513e93[_0x433a67(0xc84)]&&await saveGameResultsAsSubmissions(_0x513e93);}await updateDoc(_0x3c38be,{'status':_0x433a67(0x9e3)});}catch(_0x20ff34){console[_0x433a67(0x40f)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x20ff34);}}function updateAdminTeamDashboard(_0x240d89){const _0x85780f=_0x2f78fc,_0x487740=document[_0x85780f(0x288)](_0x85780f(0x41f));if(!_0x487740)return;const _0x27d8ed=_0x240d89[_0x85780f(0x434)]||_0x85780f(0x861),_0x261da0=currentQuizData[_0x85780f(0xc81)][_0x85780f(0x649)];if(_0x27d8ed===_0x85780f(0xc76)){const _0x131898=Object['values'](_0x240d89['groups']||{});if(_0x131898[_0x85780f(0x649)]===0x0){_0x487740[_0x85780f(0x5f0)]=_0x85780f(0x3f3);return;}const _0x347129=[..._0x131898][_0x85780f(0x310)]((_0x460ad3,_0x1c0698)=>_0x1c0698[_0x85780f(0x447)]-_0x460ad3[_0x85780f(0x447)]),_0x369227=_0x347129[_0x85780f(0x598)]((_0x402fb0,_0x3e62bb)=>{const _0x19209e=_0x85780f,_0x1eba0d=_0x402fb0[_0x19209e(0x620)]?.[_0x19209e(0x649)]||0x0;return _0x19209e(0xba0)+(_0x3e62bb+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x402fb0['members'][_0x19209e(0x53d)](',\x20')+_0x19209e(0xa55)+_0x1eba0d+'/'+_0x261da0+_0x19209e(0x486)+_0x402fb0[_0x19209e(0x447)]+_0x19209e(0x5b5);})['join'](''),_0x28500c=currentQuizData[_0x85780f(0xc81)][_0x85780f(0x598)]((_0x3c60e1,_0x287ccf)=>{const _0x495644=_0x85780f;let _0x253b70=0x0,_0x3a215f=0x0;_0x131898[_0x495644(0x220)](_0x5dc557=>{const _0x11a27a=_0x495644,_0x3963e6=_0x5dc557['answers']?.[_0x11a27a(0x533)](_0x5b7eab=>_0x5b7eab[_0x11a27a(0x542)]===_0x287ccf);if(_0x3963e6){_0x3a215f++;if(_0x3963e6['isCorrect'])_0x253b70++;}});const _0x28fe18=_0x3a215f>0x0&&_0x3a215f===_0x131898['length'],_0x37101b=_0x28fe18?_0x495644(0x71f):_0x495644(0x2ec),_0x3e1940=_0x28fe18?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x37101b+_0x495644(0x376)+(_0x287ccf+0x1)+':</span><span>'+_0x3e1940+_0x495644(0x1b7)+_0x253b70+'/'+_0x131898[_0x495644(0x649)]+_0x495644(0x5bf);})[_0x85780f(0x53d)]('');_0x487740['innerHTML']=_0x85780f(0x353)+_0x369227+_0x85780f(0x62d)+_0x28500c+'</div></div></div>';return;}const _0x5b0438=_0x240d89['responses']||{},_0x3897e4=Object['keys'](_0x5b0438);if(_0x3897e4[_0x85780f(0x649)]===0x0){_0x487740[_0x85780f(0x5f0)]=_0x85780f(0x605);return;}const _0x4700c5=_0x3897e4[_0x85780f(0x598)](_0x5a3121=>({'name':_0x5a3121,'score':_0x5b0438[_0x5a3121][_0x85780f(0x447)]||0x0}))[_0x85780f(0x310)]((_0x36a40a,_0x78bcda)=>_0x78bcda[_0x85780f(0x447)]-_0x36a40a['score']),_0x297732=_0x4700c5[_0x85780f(0x598)](_0x21bb19=>{const _0x46ce65=_0x85780f,_0x3c3f0a=_0x5b0438[_0x21bb19[_0x46ce65(0xb54)]]?.['answers']?.['length']||0x0,_0x136f43=Math['ceil'](_0x261da0/_0x3897e4[_0x46ce65(0x649)]);return _0x46ce65(0xb7c)+_0x21bb19[_0x46ce65(0xb54)]+_0x46ce65(0x365)+_0x3c3f0a+'/'+_0x136f43+_0x46ce65(0x9e1)+_0x21bb19[_0x46ce65(0x447)]+_0x46ce65(0x330);})[_0x85780f(0x53d)](''),_0x366bde=_0x3897e4[_0x85780f(0x441)]((_0x37633f,_0x4ccaf9)=>_0x37633f+(_0x5b0438[_0x4ccaf9][_0x85780f(0x620)]?.[_0x85780f(0x649)]||0x0),0x0),_0x1ccfa5=currentQuizData[_0x85780f(0xc81)][_0x85780f(0x598)]((_0x20a5de,_0x14ebc4)=>{const _0x291e31=_0x85780f;let _0x2e0f15=null,_0x586eb6=null;for(const _0x1f43d0 of _0x3897e4){const _0x36c98c=_0x5b0438[_0x1f43d0][_0x291e31(0x620)]?.[_0x291e31(0x533)](_0xa72fe7=>_0xa72fe7['questionIndex']===_0x14ebc4);if(_0x36c98c){_0x2e0f15=_0x36c98c,_0x586eb6=_0x1f43d0;break;}}const _0x3082bd=!!_0x2e0f15,_0x55878f=_0x3082bd&&_0x2e0f15[_0x291e31(0x8bd)],_0x4b839c=(Math['floor'](_0x14ebc4/_0x3897e4[_0x291e31(0x649)])+0x1)*_0x3897e4[_0x291e31(0x649)],_0x536f4f=_0x366bde>=_0x4b839c,_0x5f0958=_0x536f4f?_0x291e31(0xd0c):_0x291e31(0x2ec),_0x16ea07=_0x536f4f?_0x291e31(0x3ee):'';let _0x2b1131=_0x291e31(0x573);return _0x3082bd&&(_0x2b1131=_0x586eb6+_0x291e31(0x496)+(_0x55878f?_0x291e31(0x8a5):_0x291e31(0x83e))),_0x291e31(0xa46)+_0x5f0958+_0x291e31(0x376)+(_0x14ebc4+0x1)+_0x291e31(0x3cc)+_0x16ea07+_0x291e31(0xc6c)+_0x2b1131+_0x291e31(0x335);})['join']('');_0x487740[_0x85780f(0x5f0)]=_0x85780f(0x9a0)+_0x297732+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x1ccfa5+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x2848e9=_0x2f78fc,_0x525323=prompt(_0x2848e9(0xa2e));if(!_0x525323||_0x525323[_0x2848e9(0x8e1)]()['length']!==0x4){showMessage(_0x2848e9(0xb46));return;}try{const _0x4ff9ce=collection(db,_0x2848e9(0x309)+appId+_0x2848e9(0x438)),_0xdbe028=query(_0x4ff9ce,where('pin','==',_0x525323[_0x2848e9(0x8e1)]()),where(_0x2848e9(0xa78),'==','lobby')),_0x23b3ec=await getDocs(_0xdbe028);if(_0x23b3ec['empty']){showMessage(_0x2848e9(0x531));return;}const _0x12bfda=_0x23b3ec[_0x2848e9(0x2ea)][0x0];currentTeamQuizId=_0x12bfda['id'];const _0x51de45=_0x12bfda['data'](),_0x144974=doc(db,_0x2848e9(0x309)+appId+'/public/data/projects',_0x51de45[_0x2848e9(0x93e)]),_0x3b53ee=doc(db,'artifacts/'+appId+_0x2848e9(0x480),_0x51de45['quizId']),[_0x316628,_0x3328b5]=await Promise[_0x2848e9(0x1da)]([getDoc(_0x144974),getDoc(_0x3b53ee)]);if(!_0x316628[_0x2848e9(0x5e4)]()||!_0x3328b5[_0x2848e9(0x5e4)]())throw new Error(_0x2848e9(0x399));currentQuizData=getShuffledQuiz({'id':_0x3328b5['id'],..._0x3328b5['data']()});const _0x37790d=_0x316628[_0x2848e9(0xc89)]();showTeamPlayerSelection(_0x37790d[_0x2848e9(0x595)],currentQuizData['topic']);}catch(_0x28dcf4){console['error'](_0x2848e9(0xbaf),_0x28dcf4),showMessage('เกิดข้อผิดพลาด:\x20'+_0x28dcf4[_0x2848e9(0x42d)]);}}async function handleJoinGroupActivity(){const _0x4658ca=_0x2f78fc,_0x1f0bab=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x1f0bab||_0x1f0bab['trim']()[_0x4658ca(0x649)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x422f42=_0x1f0bab['trim']();showMessage('กำลังค้นหากิจกรรม...');try{const _0xd7cec5=collection(db,_0x4658ca(0x309)+appId+_0x4658ca(0x438)),_0x10af75=query(_0xd7cec5,where('pin','==',_0x422f42),where('status','==',_0x4658ca(0xc23))),_0x29a4bb=await getDocs(_0x10af75);if(!_0x29a4bb[_0x4658ca(0x339)]){console[_0x4658ca(0x516)](_0x4658ca(0x69d)),await proceedWithTeamQuizJoin(_0x29a4bb[_0x4658ca(0x2ea)][0x0]);return;}const _0x43bd8e=collection(db,_0x4658ca(0x309)+appId+_0x4658ca(0x2a5)),_0x5cd4b7=query(_0x43bd8e,where(_0x4658ca(0xb05),'==',_0x422f42),where('status','==','lobby')),_0x4957c9=await getDocs(_0x5cd4b7);if(!_0x4957c9[_0x4658ca(0x339)]){console[_0x4658ca(0x516)](_0x4658ca(0x7f7)),await proceedWithSyncQuizJoin(_0x4957c9[_0x4658ca(0x2ea)][0x0]);return;}showMessage(_0x4658ca(0x883));}catch(_0x1bf308){console[_0x4658ca(0x40f)](_0x4658ca(0x73c),_0x1bf308),showMessage(_0x4658ca(0x5d4)+_0x1bf308[_0x4658ca(0x42d)]);}}async function proceedWithTeamQuizJoin(_0x2bff3a){const _0x18bbed=_0x2f78fc;currentTeamQuizId=_0x2bff3a['id'];const _0x5d8d30=_0x2bff3a['data'](),_0x296f73=doc(db,'artifacts/'+appId+_0x18bbed(0x498),_0x5d8d30[_0x18bbed(0x93e)]),_0x23a3b8=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5d8d30[_0x18bbed(0xb4e)]),[_0x20cb3d,_0x5e6761]=await Promise['all']([getDoc(_0x296f73),getDoc(_0x23a3b8)]);if(!_0x20cb3d[_0x18bbed(0x5e4)]()||!_0x5e6761[_0x18bbed(0x5e4)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x5e6761['id'],..._0x5e6761[_0x18bbed(0xc89)]()}),showTeamPlayerSelection(_0x20cb3d[_0x18bbed(0xc89)]()['students'],currentQuizData[_0x18bbed(0x32c)],_0x5d8d30[_0x18bbed(0x434)]||_0x18bbed(0x861)),messageModal[_0x18bbed(0xa39)][_0x18bbed(0x5c0)](_0x18bbed(0x4c5));}async function proceedWithSyncQuizJoin(_0x408998){const _0x22f6ca=_0x2f78fc;currentLiveGameId=_0x408998['id'];const _0x1218e6=_0x408998[_0x22f6ca(0xc89)](),_0x2bb5b8=doc(db,_0x22f6ca(0x309)+appId+_0x22f6ca(0x480),_0x1218e6[_0x22f6ca(0xb4e)]),_0x385078=await getDoc(_0x2bb5b8);if(!_0x385078['exists']())throw new Error(_0x22f6ca(0x663));const _0x5013d0=_0x385078[_0x22f6ca(0xc89)](),_0x292128=doc(db,_0x22f6ca(0x309)+appId+_0x22f6ca(0x498),_0x5013d0[_0x22f6ca(0x93e)]),_0x47d97e=await getDoc(_0x292128);if(!_0x47d97e[_0x22f6ca(0x5e4)]())throw new Error(_0x22f6ca(0x48c));currentQuizData=_0x1218e6[_0x22f6ca(0x6af)],showView(_0x22f6ca(0xbd0)),showTeamPlayerSelection(_0x47d97e[_0x22f6ca(0xc89)]()['students'],_0x5013d0[_0x22f6ca(0x32c)],_0x22f6ca(0x97a)),document['getElementById'](_0x22f6ca(0xb76))[_0x22f6ca(0x611)]=confirmAndJoinSyncGame,messageModal[_0x22f6ca(0xa39)]['add'](_0x22f6ca(0x4c5));}function getCleanApplicationHTML(){const _0x2bae53=_0x2f78fc,_0x2d6254=document[_0x2bae53(0x288)](_0x2bae53(0xbb7));if(!_0x2d6254)return'';const _0xa7f361=_0x2d6254[_0x2bae53(0x2ae)](!![]);return _0xa7f361[_0x2bae53(0x3db)](_0x2bae53(0x306))[_0x2bae53(0x220)](_0x4c1df9=>{const _0x421215=_0x2bae53;_0x4c1df9['classList'][_0x421215(0xc4b)]('correct',_0x421215(0x744)),_0x4c1df9['disabled']=![];}),_0xa7f361['innerHTML'];}function showTeamPlayerSelection(_0x30cb79,_0x44310a,_0x3f4655='team'){const _0x308c95=_0x2f78fc;studentInitialView[_0x308c95(0xa39)][_0x308c95(0x5c0)](_0x308c95(0x4c5)),studentJoinGameView[_0x308c95(0xa39)][_0x308c95(0x5c0)](_0x308c95(0x4c5)),document[_0x308c95(0x288)](_0x308c95(0xbb9))[_0x308c95(0xa39)][_0x308c95(0xc4b)](_0x308c95(0x4c5));let _0x1a99c1='Team\x20Quiz';if(_0x3f4655===_0x308c95(0xc76))_0x1a99c1=_0x308c95(0xbb4);else _0x3f4655===_0x308c95(0x97a)&&(_0x1a99c1=_0x308c95(0x1d8));document[_0x308c95(0x288)](_0x308c95(0x28c))[_0x308c95(0xb10)]=_0x1a99c1+':\x20'+_0x44310a;const _0x4a6500=document[_0x308c95(0x288)](_0x308c95(0x4d1));if(!_0x30cb79||_0x30cb79[_0x308c95(0x649)]===0x0){_0x4a6500['innerHTML']=_0x308c95(0x2a8),document[_0x308c95(0x288)](_0x308c95(0xb76))[_0x308c95(0x9e8)]=!![];return;}_0x4a6500[_0x308c95(0x5f0)]=_0x30cb79[_0x308c95(0x598)](_0x318cdc=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x318cdc+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x318cdc+_0x308c95(0x812))[_0x308c95(0x53d)](''),document['getElementById']('confirm-team-players-btn')['disabled']=![];}async function confirmAndStartTeamQuiz(){const _0x2f6454=_0x2f78fc,_0x33da46=Array[_0x2f6454(0x4f5)](document['querySelectorAll'](_0x2f6454(0x2f6)))[_0x2f6454(0x598)](_0x1c56f4=>_0x1c56f4['value']);if(_0x33da46[_0x2f6454(0x649)]===0x0){showMessage(_0x2f6454(0xd11));return;}localTeamPlayers=_0x33da46,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x6c374a=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x230b68=await getDoc(_0x6c374a);if(!_0x230b68[_0x2f6454(0x5e4)]())throw new Error(_0x2f6454(0x5b8));const _0xe365c=_0x230b68[_0x2f6454(0xc89)]();if(_0xe365c['mode']==='group'){const _0x4d496d={[_0x2f6454(0x3ad)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x6c374a,_0x4d496d);}else{const _0x21f497=_0xe365c['responses']||{};localTeamPlayers[_0x2f6454(0x220)](_0x50df4e=>{!_0x21f497[_0x50df4e]&&(_0x21f497[_0x50df4e]={'score':0x0,'answers':[]});}),await updateDoc(_0x6c374a,{'responses':_0x21f497});}document[_0x2f6454(0x288)](_0x2f6454(0xbb9))[_0x2f6454(0xa39)]['add']('hidden'),renderTeamQuizQuestion();const _0x46f645={'gameId':currentTeamQuizId,'mode':_0xe365c[_0x2f6454(0x434)]||_0x2f6454(0x861),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2f6454(0x5df)](_0x2f6454(0x3df),JSON['stringify'](_0x46f645)),listenForTeamQuizUpdates();}catch(_0x46ce27){console['error']('Error\x20confirming\x20players:',_0x46ce27),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x59770e=_0x2f78fc;if(localQuestionIndex>=currentQuizData[_0x59770e(0xc81)][_0x59770e(0x649)]){displayTeamQuizFinalResults();return;}const _0x382f29=currentQuizData[_0x59770e(0xc81)][localQuestionIndex],_0x38f34e=localTeamPlayers[localPlayerIndex],_0x543f88=_0x382f29[_0x59770e(0x8a4)]||currentQuizData[_0x59770e(0x58f)];let _0x44b8af=_0x382f29[_0x59770e(0x34d)]||_0x382f29[_0x59770e(0x9fb)],_0x4c637c='';switch(_0x543f88){case _0x59770e(0x318):case _0x59770e(0x1ab):_0x4c637c=_0x382f29[_0x59770e(0x67e)][_0x59770e(0x598)]((_0x22b4c8,_0x3578fc)=>_0x59770e(0x76e)+_0x3578fc+_0x59770e(0x72e)+_0x3578fc+_0x59770e(0x61a)+_0x3578fc+'\x22>'+_0x22b4c8+'</label></div>')[_0x59770e(0x53d)]('');break;case _0x59770e(0x253):_0x4c637c='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x59770e(0x59a):case _0x59770e(0x322):_0x4c637c=_0x59770e(0xc64);break;case _0x59770e(0x5b0):_0x4c637c='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x382f29[_0x59770e(0xa99)][_0x59770e(0x598)](_0x51d6c4=>_0x59770e(0x79b)+_0x51d6c4+'\x22>'+_0x51d6c4+_0x59770e(0x245))[_0x59770e(0x53d)]('')+_0x59770e(0xb0f);break;default:_0x4c637c=_0x59770e(0xd00);break;}studentQuizArea[_0x59770e(0x5f0)]=_0x59770e(0x80e)+(localQuestionIndex+0x1)+_0x59770e(0xa1c)+currentQuizData['questions'][_0x59770e(0x649)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x38f34e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x44b8af+_0x59770e(0xb3d)+(_0x382f29[_0x59770e(0xc0c)]?_0x59770e(0x4cf)+_0x382f29['imageCode']+_0x59770e(0x21c):'')+_0x59770e(0x8ae)+_0x4c637c+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x59770e(0xa39)][_0x59770e(0xc4b)](_0x59770e(0x4c5));if(window['MathJax'])MathJax[_0x59770e(0x3d1)]([studentQuizArea]);document[_0x59770e(0x288)](_0x59770e(0x5e8))[_0x59770e(0x5b2)](_0x59770e(0x8d9),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x3b4201=_0x2f78fc,_0x1029a5=currentQuizData[_0x3b4201(0xc81)][localQuestionIndex],_0x15fe89=_0x1029a5['questionType']||currentQuizData[_0x3b4201(0x58f)];let _0x38c806=null,_0x96cf05=![];if(_0x15fe89===_0x3b4201(0x59a)||_0x15fe89===_0x3b4201(0x322)){const _0x106f40=document[_0x3b4201(0x2ee)](_0x3b4201(0x99e));if(!_0x106f40||!_0x106f40['value'][_0x3b4201(0x8e1)]()){showMessage(_0x3b4201(0x5ff));return;}_0x38c806=_0x106f40[_0x3b4201(0x63b)][_0x3b4201(0x8e1)](),_0x96cf05=await gradeShortAnswer(_0x38c806,_0x1029a5);}else{const _0x167f48=document[_0x3b4201(0x2ee)](_0x3b4201(0x6e9));if(!_0x167f48||_0x167f48[_0x3b4201(0x63b)]===''){showMessage(_0x3b4201(0x3e2));return;}_0x38c806=_0x167f48[_0x3b4201(0x63b)];switch(_0x15fe89){case'true_false':_0x96cf05=_0x38c806===_0x3b4201(0x77f)===_0x1029a5[_0x3b4201(0xafe)];break;case'matching_item':_0x96cf05=_0x38c806===_0x1029a5[_0x3b4201(0x2c7)];break;default:_0x96cf05=parseInt(_0x38c806)===_0x1029a5[_0x3b4201(0x90b)];break;}}const _0x317064={'questionIndex':localQuestionIndex,'isCorrect':_0x96cf05},_0x28ae99=userId,_0x189053={[_0x3b4201(0x3ad)+_0x28ae99+_0x3b4201(0x6cb)]:arrayUnion(_0x317064)};_0x96cf05&&(_0x189053[_0x3b4201(0x3ad)+_0x28ae99+_0x3b4201(0x7e4)]=increment(0x1));try{await updateDoc(doc(db,_0x3b4201(0x309)+appId+_0x3b4201(0x438),currentTeamQuizId),_0x189053),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x3b4201(0xc81)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x148618){console[_0x3b4201(0x40f)](_0x3b4201(0x770),_0x148618),showMessage(_0x3b4201(0x900));}}async function handleTeamAnswerSubmit(){const _0x1ca44a=_0x2f78fc,_0x179ea5=await getDoc(doc(db,_0x1ca44a(0x309)+appId+_0x1ca44a(0x438),currentTeamQuizId));if(!_0x179ea5['exists']())return;const _0x269e74=_0x179ea5[_0x1ca44a(0xc89)]();if(_0x269e74[_0x1ca44a(0x434)]==='group'){handleGroupAnswerSubmit();return;}const _0x4c7def=localTeamPlayers[localPlayerIndex],_0x5628b4=currentQuizData[_0x1ca44a(0xc81)][localQuestionIndex],_0x568b01=_0x5628b4[_0x1ca44a(0x8a4)]||currentQuizData[_0x1ca44a(0x58f)];let _0x19998c=null,_0x4faa59=![];if(_0x568b01===_0x1ca44a(0x59a)||_0x568b01===_0x1ca44a(0x322)){const _0x2f6e47=document['querySelector'](_0x1ca44a(0x99e));if(!_0x2f6e47||!_0x2f6e47['value'][_0x1ca44a(0x8e1)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x19998c=_0x2f6e47[_0x1ca44a(0x63b)][_0x1ca44a(0x8e1)](),_0x4faa59=await gradeShortAnswer(_0x19998c,_0x5628b4);}else{const _0x18c82b=document[_0x1ca44a(0x2ee)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x18c82b||_0x18c82b[_0x1ca44a(0x63b)]===''){showMessage(_0x1ca44a(0x48f));return;}_0x19998c=_0x18c82b[_0x1ca44a(0x63b)];switch(_0x568b01){case _0x1ca44a(0x253):_0x4faa59=_0x19998c===_0x1ca44a(0x77f)===_0x5628b4[_0x1ca44a(0xafe)];break;case _0x1ca44a(0x5b0):_0x4faa59=_0x19998c===_0x5628b4['correctResponse'];break;default:_0x4faa59=parseInt(_0x19998c)===_0x5628b4[_0x1ca44a(0x90b)];break;}}const _0x1c7aa7={'questionIndex':localQuestionIndex,'isCorrect':_0x4faa59,'answerValue':_0x19998c},_0x57539d={[_0x1ca44a(0x3b2)+_0x4c7def+_0x1ca44a(0x6cb)]:arrayUnion(_0x1c7aa7)};_0x4faa59&&(_0x57539d[_0x1ca44a(0x3b2)+_0x4c7def+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x1ca44a(0x309)+appId+_0x1ca44a(0x438),currentTeamQuizId),_0x57539d),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x1ca44a(0x649)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xda7dd6){console[_0x1ca44a(0x40f)]('Error\x20submitting\x20team\x20answer:',_0xda7dd6),showMessage(_0x1ca44a(0x900));}}async function displayTeamQuizFinalResults(){const _0x3f52c1=_0x2f78fc;studentQuizArea[_0x3f52c1(0xa39)][_0x3f52c1(0x5c0)](_0x3f52c1(0x4c5)),studentResultArea[_0x3f52c1(0xa39)][_0x3f52c1(0xc4b)](_0x3f52c1(0x4c5));const _0x34ec4f=doc(db,_0x3f52c1(0x309)+appId+_0x3f52c1(0x438),currentTeamQuizId),_0x5951dc=await getDoc(_0x34ec4f);if(!_0x5951dc[_0x3f52c1(0x5e4)]()){studentResultArea['innerHTML']=_0x3f52c1(0xa02);return;}const _0x23423f=_0x5951dc[_0x3f52c1(0xc89)]();let _0x5e299d=[];const _0x4715eb=_0x23423f[_0x3f52c1(0x434)]||'team';if(_0x4715eb===_0x3f52c1(0xc76)){const _0x22537b=_0x23423f[_0x3f52c1(0x42e)][userId];_0x22537b?_0x5e299d=[{'name':_0x3f52c1(0x710)+localTeamPlayers[_0x3f52c1(0x53d)](',\x20'),'score':_0x22537b[_0x3f52c1(0x447)]||0x0}]:_0x5e299d=[{'name':'กลุ่มของคุณ','score':_0x3f52c1(0x86a)}];}else _0x5e299d=localTeamPlayers['map'](_0x528374=>({'name':_0x528374,'score':_0x23423f[_0x3f52c1(0x66a)][_0x528374]?.['score']||0x0}))['sort']((_0x1d099d,_0x48e075)=>_0x48e075[_0x3f52c1(0x447)]-_0x1d099d[_0x3f52c1(0x447)]);studentResultArea[_0x3f52c1(0x5f0)]=_0x3f52c1(0x88c)+_0x5e299d['map'](_0x15808f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x15808f['name']+_0x3f52c1(0x225)+_0x15808f[_0x3f52c1(0x447)]+_0x3f52c1(0xad2))[_0x3f52c1(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x3f52c1(0x3ef)](_0x3f52c1(0x3df)),currentMode===_0x3f52c1(0x290)&&currentTeamQuizId&&setTimeout(()=>{const _0x24028d=_0x3f52c1;deleteDoc(doc(db,_0x24028d(0x309)+appId+_0x24028d(0x438),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x2f78fc(0xc48),'pinnedProjects':[],'projectView':_0x2f78fc(0x7cc)};const allMathTopics=[{'category':_0x2f78fc(0x2f4),'name':'การนับ'},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x508)},{'category':'จำนวนและการดำเนินการ','name':_0x2f78fc(0x6fa)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x9a8)},{'category':'จำนวนและการดำเนินการ','name':_0x2f78fc(0xab0)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x333)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':_0x2f78fc(0x359)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x389)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x427)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x521)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x3e8)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x312)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0xaef)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x522)},{'category':_0x2f78fc(0x2f4),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0xbe0)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0xa9c)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x1b3)},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x4f8)},{'category':_0x2f78fc(0x2f4),'name':'การคูณเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x2f78fc(0xa20)},{'category':_0x2f78fc(0x2f4),'name':'จำนวนคละ'},{'category':'จำนวนและการดำเนินการ','name':_0x2f78fc(0x5c1)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0xa13)},{'category':_0x2f78fc(0x2f4),'name':'การลบทศนิยม'},{'category':_0x2f78fc(0x2f4),'name':'การคูณทศนิยม'},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x841)},{'category':'จำนวนและการดำเนินการ','name':_0x2f78fc(0xcfd)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0xae1)},{'category':'จำนวนและการดำเนินการ','name':_0x2f78fc(0xc93)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x35e)},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x953)},{'category':_0x2f78fc(0x2f4),'name':'รากที่สองและที่สาม'},{'category':_0x2f78fc(0x2f4),'name':_0x2f78fc(0x4b3)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x2f78fc(0xa53),'name':'หน่วยความยาวและการแปลง'},{'category':_0x2f78fc(0xa53),'name':_0x2f78fc(0x8e3)},{'category':_0x2f78fc(0xa53),'name':_0x2f78fc(0xca8)},{'category':_0x2f78fc(0xa53),'name':_0x2f78fc(0x46d)},{'category':_0x2f78fc(0xa53),'name':'อุณหภูมิและการแปลง'},{'category':_0x2f78fc(0xa53),'name':'เส้นรอบรูป'},{'category':_0x2f78fc(0xa53),'name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':_0x2f78fc(0x87f)},{'category':_0x2f78fc(0xa53),'name':_0x2f78fc(0x207)},{'category':'การวัด','name':_0x2f78fc(0x352)},{'category':_0x2f78fc(0xa53),'name':_0x2f78fc(0xabc)},{'category':_0x2f78fc(0xa53),'name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x2f78fc(0xc2e)},{'category':_0x2f78fc(0xa53),'name':_0x2f78fc(0x94c)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0x203)},{'category':_0x2f78fc(0xad9),'name':'ความสัมพันธ์ของมุม'},{'category':_0x2f78fc(0xad9),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':'เรขาคณิต','name':_0x2f78fc(0x87f)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0xa22)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0x536)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0x6cd)},{'category':'เรขาคณิต','name':_0x2f78fc(0x314)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0xcc2)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0x29a)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0xca2)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0x1f5)},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0x338)},{'category':'เรขาคณิต','name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x2f78fc(0xad9),'name':_0x2f78fc(0x571)},{'category':_0x2f78fc(0xae2),'name':'ตัวแปรและนิพจน์'},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x976)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x9ff)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0xbc7)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0xbcb)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x62a)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0xc71)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2f78fc(0x9dd)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x76a)},{'category':_0x2f78fc(0xae2),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x2f78fc(0xae2),'name':'สมการราก\x20(radical)'},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x6a6)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x7a4)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x6c8)},{'category':_0x2f78fc(0xae2),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0xbbe)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x1ef)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x48e)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x319)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0xb77)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2f78fc(0x634)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x2c0)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x661)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2f78fc(0x899)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x82c)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x6ac)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x34b)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x3ae)},{'category':_0x2f78fc(0xae2),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0x47c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2f78fc(0x250)},{'category':_0x2f78fc(0xae2),'name':_0x2f78fc(0xa82)},{'category':'พีชคณิตและฟังก์ชัน','name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0x9f8)},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0x457)},{'category':_0x2f78fc(0xb23),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0xb59)},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0x502)},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0x96a)},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0x316)},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0x642)},{'category':_0x2f78fc(0xb23),'name':_0x2f78fc(0x60c)},{'category':'ตรีโกณมิติ','name':_0x2f78fc(0x6f0)},{'category':_0x2f78fc(0x36b),'name':_0x2f78fc(0x325)},{'category':_0x2f78fc(0x36b),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x2f78fc(0x36b),'name':_0x2f78fc(0x930)},{'category':'ตรีโกณมิติ','name':_0x2f78fc(0x4b1)},{'category':'ตรีโกณมิติ','name':_0x2f78fc(0x4d8)},{'category':_0x2f78fc(0x36b),'name':_0x2f78fc(0x63f)},{'category':'ตรีโกณมิติ','name':_0x2f78fc(0x860)},{'category':'ตรีโกณมิติ','name':_0x2f78fc(0xc35)},{'category':'ตรีโกณมิติ','name':_0x2f78fc(0x78d)},{'category':_0x2f78fc(0x36b),'name':_0x2f78fc(0xa06)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0xa45)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x6fd)},{'category':_0x2f78fc(0x946),'name':'ตารางความถี่'},{'category':_0x2f78fc(0x946),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x5f1)},{'category':'สถิติและความน่าจะเป็น','name':_0x2f78fc(0x665)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x892)},{'category':'สถิติและความน่าจะเป็น','name':_0x2f78fc(0x6b3)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x712)},{'category':_0x2f78fc(0x946),'name':'พิสัย'},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x2d2)},{'category':'สถิติและความน่าจะเป็น','name':'ความแปรปรวน'},{'category':'สถิติและความน่าจะเป็น','name':_0x2f78fc(0x8c2)},{'category':'สถิติและความน่าจะเป็น','name':_0x2f78fc(0x3b9)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x546)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0xbca)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0xb8b)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x4a4)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x8fa)},{'category':_0x2f78fc(0x946),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x2f78fc(0x946),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x67c)},{'category':_0x2f78fc(0x946),'name':_0x2f78fc(0x869)},{'category':'สถิติและความน่าจะเป็น','name':_0x2f78fc(0x6e5)},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x2f78fc(0x1dc)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2f78fc(0x9b7)},{'category':_0x2f78fc(0xab2),'name':_0x2f78fc(0x893)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2f78fc(0x83f)},{'category':_0x2f78fc(0xab2),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x2f78fc(0xab2),'name':'ความชันเส้นสัมผัส'},{'category':_0x2f78fc(0xab2),'name':_0x2f78fc(0x95d)},{'category':_0x2f78fc(0xab2),'name':_0x2f78fc(0xbdf)},{'category':_0x2f78fc(0xab2),'name':_0x2f78fc(0xc2d)},{'category':_0x2f78fc(0xab2),'name':_0x2f78fc(0xcf3)},{'category':_0x2f78fc(0xab2),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x2f78fc(0xab2),'name':_0x2f78fc(0x3c7)},{'category':_0x2f78fc(0x348),'name':_0x2f78fc(0x921)},{'category':_0x2f78fc(0x348),'name':_0x2f78fc(0x64a)},{'category':_0x2f78fc(0x348),'name':_0x2f78fc(0xc8f)},{'category':_0x2f78fc(0x348),'name':_0x2f78fc(0xb12)},{'category':_0x2f78fc(0x348),'name':_0x2f78fc(0x70f)},{'category':_0x2f78fc(0x348),'name':_0x2f78fc(0x6b9)},{'category':_0x2f78fc(0x348),'name':_0x2f78fc(0x747)},{'category':_0x2f78fc(0xbdd),'name':_0x2f78fc(0xc62)},{'category':_0x2f78fc(0xbdd),'name':_0x2f78fc(0x2ef)},{'category':_0x2f78fc(0xbdd),'name':_0x2f78fc(0x5ef)},{'category':_0x2f78fc(0xbdd),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':'ร้อยละประยุกต์'},{'category':_0x2f78fc(0x669),'name':_0x2f78fc(0x55a)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x2f78fc(0x64e)},{'category':_0x2f78fc(0x669),'name':_0x2f78fc(0x992)}];function renderTopicCheckboxes(){const _0x45821a=_0x2f78fc,_0x21cb92=document[_0x45821a(0x288)](_0x45821a(0xb08));if(!_0x21cb92)return;const _0x2acd88=allMathTopics,_0x269f4c=customMathTopics[_0x45821a(0x598)](_0x3a56d8=>({'id':_0x3a56d8['id'],'category':_0x45821a(0xc24),'name':_0x3a56d8[_0x45821a(0xb54)]})),_0x21c5a8=[..._0x2acd88,..._0x269f4c],_0x539401=_0x21c5a8['reduce']((_0x4b4974,_0x8d612f)=>{const _0x45c866=_0x45821a;return!_0x4b4974[_0x8d612f[_0x45c866(0x57e)]]&&(_0x4b4974[_0x8d612f['category']]=[]),_0x4b4974[_0x8d612f[_0x45c866(0x57e)]][_0x45c866(0x346)](_0x8d612f),_0x4b4974;},{});let _0x191aaa='';const _0x548f8f=[_0x45821a(0xc24),...Object[_0x45821a(0x695)](_0x539401)[_0x45821a(0x3e1)](_0xf0a5ab=>_0xf0a5ab!==_0x45821a(0xc24))];for(const _0xf6f34d of _0x548f8f){if(_0x539401[_0xf6f34d]){const _0x4b0100=_0xf6f34d==='หัวข้อที่สร้างเอง',_0x3a3e64=_0x4b0100?'fas\x20fa-user-edit':_0x45821a(0xad3),_0x1c2302=_0x4b0100?'text-blue-700':_0x45821a(0x569);_0x191aaa+=_0x45821a(0x5a4),_0x191aaa+=_0x45821a(0xba1)+_0x1c2302+_0x45821a(0x51f)+_0x3a3e64+_0x45821a(0x488)+_0xf6f34d+_0x45821a(0x4d3),_0x539401[_0xf6f34d][_0x45821a(0x220)](_0x52a099=>{const _0x203ecf=_0x45821a,_0x3e2f80=!!_0x52a099['id'],_0x539ed7=_0x3e2f80?_0x203ecf(0x463)+_0x52a099['id']+_0x203ecf(0x83a)+_0x52a099['id']+_0x203ecf(0xc15)+_0x52a099['id']+_0x203ecf(0x756)+_0x52a099['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x191aaa+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x52a099['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x52a099['name']+_0x203ecf(0x925)+_0x52a099[_0x203ecf(0xb54)]+_0x203ecf(0x60b)+(_0x3e2f80?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x52a099[_0x203ecf(0xb54)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x539ed7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x191aaa+=_0x45821a(0x21c);}}_0x21cb92['innerHTML']=_0x191aaa||_0x45821a(0x98b),_0x21cb92['removeEventListener'](_0x45821a(0x2f8),updateSelectedTopicsCount),_0x21cb92[_0x45821a(0x5b2)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4576df,_0x1c49a2){const _0x125f92=_0x2f78fc;if(!_0x4576df||!_0x1c49a2[_0x125f92(0x8e1)]()){showMessage(_0x125f92(0x75f));return;}try{const _0x3228dd=doc(db,_0x125f92(0x309)+appId+'/public/data/customMathTopics',_0x4576df);await updateDoc(_0x3228dd,{'name':_0x1c49a2['trim']()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x3ed1a6){console['error'](_0x125f92(0x838),_0x3ed1a6),showMessage(_0x125f92(0xc33));}}function toggleTopicEditMode(_0x2ee136,_0x5b9381){const _0x2beb86=_0x2f78fc;if(!_0x2ee136)return;const _0x51ac31=_0x2ee136[_0x2beb86(0x2ee)](_0x2beb86(0x36c)),_0x199337=_0x2ee136[_0x2beb86(0x2ee)](_0x2beb86(0x244)),_0x4f7a0d=_0x2ee136[_0x2beb86(0x2ee)](_0x2beb86(0xbd3)),_0x19d45b=_0x2ee136[_0x2beb86(0x2ee)]('.topic-actions-edit');_0x51ac31[_0x2beb86(0xa39)][_0x2beb86(0xc5b)]('hidden',_0x5b9381),_0x199337[_0x2beb86(0xa39)]['toggle'](_0x2beb86(0x4c5),!_0x5b9381),_0x4f7a0d[_0x2beb86(0xa39)]['toggle']('hidden',_0x5b9381),_0x19d45b[_0x2beb86(0xa39)][_0x2beb86(0xc5b)](_0x2beb86(0x4c5),!_0x5b9381),_0x5b9381&&(_0x199337[_0x2beb86(0x26e)](),_0x199337['select']());}async function handleStartLiveRace(_0x1ed36d){const _0x386f3e=_0x2f78fc;let _0x1056a7=allQuizzes[_0x386f3e(0x533)](_0x49d855=>_0x49d855['id']===_0x1ed36d);if(!_0x1056a7){const _0x5314db=doc(db,_0x386f3e(0x309)+appId+'/public/data/quizzes',_0x1ed36d),_0x58b33b=await getDoc(_0x5314db);if(!_0x58b33b['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x1056a7={'id':_0x58b33b['id'],..._0x58b33b[_0x386f3e(0xc89)]()};}const _0x1afa97=getShuffledQuiz(_0x1056a7);currentQuizData=_0x1afa97;const _0x25fc38=_0x1056a7[_0x386f3e(0x93e)]||currentProjectId||null,_0x3a4df2=Math[_0x386f3e(0x60a)](0x3e8+Math[_0x386f3e(0x40c)]()*0x2328)['toString']();currentLiveGamePin=_0x3a4df2;try{const _0x5f8a86=await addDoc(collection(db,_0x386f3e(0x309)+appId+_0x386f3e(0x85f)),{'quizId':_0x1ed36d,'projectId':_0x25fc38,'status':_0x386f3e(0xc23),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3a4df2,'createdAt':serverTimestamp(),'shuffledQuiz':_0x1afa97});currentLiveGameId=_0x5f8a86['id'],showAdminLobbyView(_0x3a4df2,_0x1056a7[_0x386f3e(0x32c)]),listenForLiveGameUpdates();}catch(_0xbafd55){console[_0x386f3e(0x40f)](_0x386f3e(0xa79),_0xbafd55),showMessage(_0x386f3e(0x90a));}}function updateSelectedTopicsCount(){const _0x37044f=_0x2f78fc,_0x5e1905=document[_0x37044f(0x288)](_0x37044f(0xb08)),_0x23e108=_0x5e1905[_0x37044f(0x3db)](_0x37044f(0x675))['length'],_0x48d12e=document['getElementById']('selected-topics-count');_0x23e108>0x0?_0x48d12e[_0x37044f(0xb10)]=_0x37044f(0xaf1)+_0x23e108+_0x37044f(0x998):_0x48d12e[_0x37044f(0xb10)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2f78fc(0x390),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x2f78fc(0xa64),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x2f78fc(0x1fe),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x2f78fc(0x4a5),scratchpadPenColor=_0x2f78fc(0x387),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0xb8d863,_0x5ed1e9){const _0x4aa99b=_0x2f78fc;return Math[_0x4aa99b(0x5d6)](Math['pow'](_0xb8d863['x']-_0x5ed1e9['x'],0x2)+Math[_0x4aa99b(0x210)](_0xb8d863['y']-_0x5ed1e9['y'],0x2));}function getMidpoint(_0x3f0444,_0x4a6910){return{'x':(_0x3f0444['x']+_0x4a6910['x'])/0x2,'y':(_0x3f0444['y']+_0x4a6910['y'])/0x2};}function getTransformedPoint(_0x10b0de,_0x256a70){return{'x':(_0x10b0de-scratchpadOffset['x'])/scratchpadScale,'y':(_0x256a70-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x35e806=_0x2f78fc;if(!scratchpadCtx)return;const _0x5b652a=scratchpadCtx[_0x35e806(0x315)],_0x4e22b5=window[_0x35e806(0xaf3)]||0x1,_0xe944ea=document['getElementById']('scratchpad-header');_0xe944ea&&(_0xe944ea[_0x35e806(0x4e4)][_0x35e806(0x345)]='0\x200',_0xe944ea['style'][_0x35e806(0x23f)]='translate('+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x35e806(0x4a6)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx['setTransform'](_0x4e22b5,0x0,0x0,_0x4e22b5,0x0,0x0),scratchpadCtx[_0x35e806(0x1c9)](0x0,0x0,_0x5b652a['width'],_0x5b652a['height']),scratchpadCtx[_0x35e806(0x458)](),scratchpadCtx['save'](),scratchpadCtx[_0x35e806(0xc31)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x35e806(0x803)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x3bc071=>{drawStroke(_0x3bc071);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x35e806(0x458)]();}function renderGroupModeQuestion(){const _0x2fb65a=_0x2f78fc;if(localQuestionIndex>=currentQuizData[_0x2fb65a(0xc81)][_0x2fb65a(0x649)]){displayTeamQuizFinalResults();return;}const _0x1df758=currentQuizData['questions'][localQuestionIndex],_0x38174a=_0x1df758['questionType']||currentQuizData[_0x2fb65a(0x58f)];let _0x517786=_0x1df758[_0x2fb65a(0x34d)]||_0x1df758[_0x2fb65a(0x9fb)],_0x4d481c='';switch(_0x38174a){case _0x2fb65a(0x318):case'fill_in_with_choices':_0x4d481c=_0x1df758[_0x2fb65a(0x67e)][_0x2fb65a(0x598)]((_0x18c371,_0xbc4051)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0xbc4051+_0x2fb65a(0x72e)+_0xbc4051+_0x2fb65a(0x61a)+_0xbc4051+'\x22>'+_0x18c371+_0x2fb65a(0xac3))['join']('');break;case _0x2fb65a(0x253):_0x4d481c=_0x2fb65a(0x2a7);break;case _0x2fb65a(0x59a):case _0x2fb65a(0x322):_0x4d481c=_0x2fb65a(0xbc1);break;case _0x2fb65a(0x5b0):_0x4d481c='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x1df758[_0x2fb65a(0xa99)][_0x2fb65a(0x598)](_0x1181fc=>_0x2fb65a(0x79b)+_0x1181fc+'\x22>'+_0x1181fc+_0x2fb65a(0x245))[_0x2fb65a(0x53d)]('')+_0x2fb65a(0xb0f);break;default:_0x4d481c=_0x2fb65a(0xd00);break;}studentQuizArea[_0x2fb65a(0x5f0)]=_0x2fb65a(0x80e)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x2fb65a(0xc81)][_0x2fb65a(0x649)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x2fb65a(0x53d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x517786+_0x2fb65a(0xb3d)+(_0x1df758[_0x2fb65a(0xc0c)]?_0x2fb65a(0x4cf)+_0x1df758[_0x2fb65a(0xc0c)]+_0x2fb65a(0x21c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x4d481c+_0x2fb65a(0x780),studentQuizArea['classList'][_0x2fb65a(0xc4b)](_0x2fb65a(0x4c5));if(window[_0x2fb65a(0x5ed)])MathJax[_0x2fb65a(0x3d1)]([studentQuizArea]);document[_0x2fb65a(0x288)]('submit-group-answer-btn')['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x2acaed,_0x2b810b=null,_0x57fbfc,_0x1346a8=null,_0x5b3ebe=![]){const _0x328a22=_0x2f78fc,_0x5a063f=document['getElementById'](_0x328a22(0x459));_0x5a063f&&_0x5a063f[_0x328a22(0xb18)]({'behavior':_0x328a22(0x1a7),'block':_0x328a22(0xbe9)}),generateQuiz(_0x2acaed,_0x2b810b,null,null,!![],_0x57fbfc,_0x1346a8,_0x5b3ebe);}function handleGenerateAndShowLesson(_0x389e79,_0x5615d4){const _0x2bbed9=_0x2f78fc,_0x2aaca1=document['getElementById']('lesson-view-modal'),_0x5e81b8=document[_0x2bbed9(0x288)](_0x2bbed9(0x9cc)),_0x21e3f0=document[_0x2bbed9(0x288)](_0x2bbed9(0x549)),_0x1b9cfc=document[_0x2bbed9(0x288)](_0x2bbed9(0xc1c));[_0x2bbed9(0x9e2),'memoryContent',_0x2bbed9(0xbb7),_0x2bbed9(0x59b)][_0x2bbed9(0x220)](_0x529325=>{const _0x8d550f=_0x2bbed9,_0x4601ba=document[_0x8d550f(0x288)](_0x529325)['parentElement'];_0x4601ba&&(_0x4601ba[_0x8d550f(0x4e4)][_0x8d550f(0xc7a)]=_0x8d550f(0x295));}),_0x5e81b8[_0x2bbed9(0xb10)]=_0x2bbed9(0x21d)+_0x389e79,_0x1b9cfc[_0x2bbed9(0xa39)][_0x2bbed9(0x5c0)]('hidden'),_0x21e3f0[_0x2bbed9(0xa39)][_0x2bbed9(0xc4b)](_0x2bbed9(0x4c5)),_0x2aaca1[_0x2bbed9(0xa39)][_0x2bbed9(0xc4b)](_0x2bbed9(0x4c5)),generateLesson(_0x389e79,_0x5615d4)[_0x2bbed9(0x503)](_0x1579c2=>{const _0x232ecb=_0x2bbed9;console[_0x232ecb(0x40f)](_0x232ecb(0xa6b),_0x1579c2),showMessage(_0x232ecb(0x802)),_0x2aaca1[_0x232ecb(0xa39)][_0x232ecb(0x5c0)](_0x232ecb(0x4c5));});}function handlePointerDown(_0x267cfe){const _0x2dc021=_0x2f78fc;_0x267cfe[_0x2dc021(0xc57)]();const _0x3519b0=scratchpadCtx['canvas'],_0x4978c6=_0x3519b0[_0x2dc021(0x784)](),_0x573392=_0x267cfe['pointerType']||(_0x267cfe[_0x2dc021(0x984)]?'touch':'mouse');if(_0x573392===_0x2dc021(0x4a5)||_0x573392==='mouse'){if(_0x267cfe['pointerType']==='mouse'&&_0x267cfe[_0x2dc021(0xb6d)]!==0x0){_0x267cfe[_0x2dc021(0xb6d)]===0x1&&(isMousePanning=!![],panStart={'x':_0x267cfe[_0x2dc021(0xb65)],'y':_0x267cfe[_0x2dc021(0x1af)]},_0x3519b0['style'][_0x2dc021(0x54c)]=_0x2dc021(0x35a));return;}activeTool===_0x2dc021(0x43f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x3b5751=getTransformedPoint(_0x267cfe['clientX']-_0x4978c6[_0x2dc021(0xc3c)],_0x267cfe[_0x2dc021(0x1af)]-_0x4978c6['top']);let _0x204a98={'tool':activeTool,'points':[_0x3b5751]};if(activeTool==='highlighter')_0x204a98[_0x2dc021(0xa4e)]=scratchpadHighlighterColor,_0x204a98['size']=scratchpadHighlighterSize;else activeTool===_0x2dc021(0x43f)?(_0x204a98[_0x2dc021(0xa4e)]=scratchpadPenColor,_0x204a98['size']=scratchpadPenSize):(_0x204a98[_0x2dc021(0xa4e)]=scratchpadPenColor,_0x204a98['size']=scratchpadPenSize);currentStroke=_0x204a98;}else _0x267cfe[_0x2dc021(0x984)]&&(_0x267cfe[_0x2dc021(0x984)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x267cfe[_0x2dc021(0x984)][0x0][_0x2dc021(0xb65)],'y':_0x267cfe[_0x2dc021(0x984)][0x0][_0x2dc021(0x1af)]},{'x':_0x267cfe['touches'][0x1][_0x2dc021(0xb65)],'y':_0x267cfe[_0x2dc021(0x984)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x267cfe[_0x2dc021(0x984)][0x0]['clientX'],'y':_0x267cfe['touches'][0x0][_0x2dc021(0x1af)]},{'x':_0x267cfe[_0x2dc021(0x984)][0x1][_0x2dc021(0xb65)],'y':_0x267cfe['touches'][0x1][_0x2dc021(0x1af)]})));}function animateTrail(){const _0x3a0bac=_0x2f78fc,_0x30bd87=Date['now']();let _0x3710dd=![];for(let _0x53ff95=strokes['length']-0x1;_0x53ff95>=0x0;_0x53ff95--){const _0x399208=strokes[_0x53ff95];if(_0x399208[_0x3a0bac(0x2fe)]===_0x3a0bac(0x43f)&&_0x399208[_0x3a0bac(0x24e)]){const _0x5cdf8a=_0x30bd87-_0x399208[_0x3a0bac(0x24e)];_0x5cdf8a>=TRAIL_DURATION?strokes[_0x3a0bac(0x974)](_0x53ff95,0x1):(_0x399208[_0x3a0bac(0xab8)]=0x1-_0x5cdf8a/TRAIL_DURATION,_0x3710dd=!![]);}}redrawScratchpad(),_0x3710dd?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0xf6d581){const _0x170036=_0x2f78fc;if(!_0xf6d581||_0xf6d581[_0x170036(0x28d)]['length']<0x1)return;scratchpadCtx[_0x170036(0x902)](),scratchpadCtx[_0x170036(0x2b6)]=_0x170036(0xd15),scratchpadCtx['lineCap']='round';if(_0xf6d581[_0x170036(0x2fe)]===_0x170036(0x43f)){const _0x246c5f=_0xf6d581[_0x170036(0x7e5)]/scratchpadScale;scratchpadCtx[_0x170036(0x510)]=_0xf6d581[_0x170036(0xab8)]??0x1,scratchpadCtx[_0x170036(0x8c3)]=_0x170036(0x2c1),scratchpadCtx['shadowBlur']=_0x246c5f*0x3,scratchpadCtx['strokeStyle']=_0x170036(0x5a8),scratchpadCtx[_0x170036(0xb86)]=_0x246c5f*2.5,scratchpadCtx[_0x170036(0xa34)](),scratchpadCtx[_0x170036(0x278)](_0xf6d581['points'][0x0]['x'],_0xf6d581[_0x170036(0x28d)][0x0]['y']);for(let _0x590e60=0x1;_0x590e60<_0xf6d581[_0x170036(0x28d)][_0x170036(0x649)]-0x1;_0x590e60++){const _0x5c908f=getMidpoint(_0xf6d581[_0x170036(0x28d)][_0x590e60],_0xf6d581[_0x170036(0x28d)][_0x590e60+0x1]);scratchpadCtx[_0x170036(0x7f0)](_0xf6d581[_0x170036(0x28d)][_0x590e60]['x'],_0xf6d581[_0x170036(0x28d)][_0x590e60]['y'],_0x5c908f['x'],_0x5c908f['y']);}scratchpadCtx[_0x170036(0x7d9)](),scratchpadCtx[_0x170036(0x8c3)]=_0x170036(0x8b6),scratchpadCtx[_0x170036(0x3e5)]=0x0,scratchpadCtx[_0x170036(0xa98)]=_0x170036(0x396),scratchpadCtx[_0x170036(0xb86)]=_0x246c5f,scratchpadCtx[_0x170036(0x7d9)](),scratchpadCtx[_0x170036(0xa43)]();}else{if(_0xf6d581['tool']===_0x170036(0xb41)){scratchpadCtx[_0x170036(0x9b0)]=_0x170036(0x281),scratchpadCtx[_0x170036(0xa98)]=_0xf6d581['color'],scratchpadCtx[_0x170036(0xb86)]=_0xf6d581[_0x170036(0x7e5)],scratchpadCtx[_0x170036(0xa34)](),scratchpadCtx[_0x170036(0x278)](_0xf6d581['points'][0x0]['x'],_0xf6d581[_0x170036(0x28d)][0x0]['y']);for(let _0x1cd710=0x1;_0x1cd710<_0xf6d581[_0x170036(0x28d)][_0x170036(0x649)]-0x1;_0x1cd710++){const _0x3ecf55=getMidpoint(_0xf6d581['points'][_0x1cd710],_0xf6d581[_0x170036(0x28d)][_0x1cd710+0x1]);scratchpadCtx[_0x170036(0x7f0)](_0xf6d581[_0x170036(0x28d)][_0x1cd710]['x'],_0xf6d581[_0x170036(0x28d)][_0x1cd710]['y'],_0x3ecf55['x'],_0x3ecf55['y']);}scratchpadCtx[_0x170036(0x7d9)](),scratchpadCtx[_0x170036(0xa43)]();}else{scratchpadCtx[_0x170036(0x9b0)]=_0xf6d581['tool']===_0x170036(0x88f)?'destination-out':_0x170036(0x3d8),scratchpadCtx[_0x170036(0xa98)]=_0xf6d581[_0x170036(0xa4e)],scratchpadCtx[_0x170036(0xb86)]=_0xf6d581[_0x170036(0x7e5)],scratchpadCtx[_0x170036(0xa34)](),scratchpadCtx[_0x170036(0x278)](_0xf6d581[_0x170036(0x28d)][0x0]['x'],_0xf6d581[_0x170036(0x28d)][0x0]['y']);for(let _0x5f4c7c=0x1;_0x5f4c7c<_0xf6d581[_0x170036(0x28d)]['length']-0x1;_0x5f4c7c++){const _0x4074e1=getMidpoint(_0xf6d581[_0x170036(0x28d)][_0x5f4c7c],_0xf6d581[_0x170036(0x28d)][_0x5f4c7c+0x1]);scratchpadCtx[_0x170036(0x7f0)](_0xf6d581['points'][_0x5f4c7c]['x'],_0xf6d581[_0x170036(0x28d)][_0x5f4c7c]['y'],_0x4074e1['x'],_0x4074e1['y']);}scratchpadCtx[_0x170036(0x7d9)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x170036(0x458)]();}function handlePointerMove(_0x37e892){const _0x1a36d7=_0x2f78fc;_0x37e892['preventDefault']();const _0x130070=scratchpadCtx['canvas'],_0x3ed3fb=_0x130070[_0x1a36d7(0x784)]();if(_0x37e892[_0x1a36d7(0x984)]){if(_0x37e892[_0x1a36d7(0x984)][_0x1a36d7(0x649)]===0x1&&isDrawingOnScratchpad){const _0x3cc62b=getTransformedPoint(_0x37e892[_0x1a36d7(0x984)][0x0]['clientX']-_0x3ed3fb[_0x1a36d7(0xc3c)],_0x37e892[_0x1a36d7(0x984)][0x0][_0x1a36d7(0x1af)]-_0x3ed3fb[_0x1a36d7(0xb25)]);currentStroke[_0x1a36d7(0x28d)][_0x1a36d7(0x346)](_0x3cc62b),redrawScratchpad();}else{if(_0x37e892['touches']['length']===0x2&&isPanning){const _0x529331=getDistance({'x':_0x37e892[_0x1a36d7(0x984)][0x0][_0x1a36d7(0xb65)],'y':_0x37e892[_0x1a36d7(0x984)][0x0]['clientY']},{'x':_0x37e892[_0x1a36d7(0x984)][0x1][_0x1a36d7(0xb65)],'y':_0x37e892[_0x1a36d7(0x984)][0x1][_0x1a36d7(0x1af)]}),_0xd7b665=getMidpoint({'x':_0x37e892[_0x1a36d7(0x984)][0x0][_0x1a36d7(0xb65)],'y':_0x37e892[_0x1a36d7(0x984)][0x0][_0x1a36d7(0x1af)]},{'x':_0x37e892['touches'][0x1][_0x1a36d7(0xb65)],'y':_0x37e892[_0x1a36d7(0x984)][0x1][_0x1a36d7(0x1af)]}),_0x3be3ee=_0x529331/ initialPinchDistance,_0xbcb85e=Math[_0x1a36d7(0xc1f)](Math['max'](scratchpadScale*_0x3be3ee,MIN_SCALE),MAX_SCALE),_0x51cd04=_0xd7b665['x']-panStart['x'],_0x2ac641=_0xd7b665['y']-panStart['y'];scratchpadOffset['x']=_0xd7b665['x']-(_0xd7b665['x']-scratchpadOffset['x'])*(_0xbcb85e/scratchpadScale),scratchpadOffset['y']=_0xd7b665['y']-(_0xd7b665['y']-scratchpadOffset['y'])*(_0xbcb85e/scratchpadScale),scratchpadOffset['x']+=_0x51cd04,scratchpadOffset['y']+=_0x2ac641,scratchpadScale=_0xbcb85e,initialPinchDistance=_0x529331,panStart=_0xd7b665,redrawScratchpad();}}}else{if(isMousePanning){const _0x4c4da6=_0x37e892['clientX']-panStart['x'],_0x8a25fb=_0x37e892[_0x1a36d7(0x1af)]-panStart['y'];scratchpadOffset['x']+=_0x4c4da6,scratchpadOffset['y']+=_0x8a25fb,panStart={'x':_0x37e892['clientX'],'y':_0x37e892['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x224907=getTransformedPoint(_0x37e892[_0x1a36d7(0xb65)]-_0x3ed3fb[_0x1a36d7(0xc3c)],_0x37e892[_0x1a36d7(0x1af)]-_0x3ed3fb[_0x1a36d7(0xb25)]);currentStroke[_0x1a36d7(0x28d)][_0x1a36d7(0x346)](_0x224907),redrawScratchpad();}}}}function handlePointerUp(_0x36651e){const _0x460590=_0x2f78fc;_0x36651e[_0x460590(0xc57)]();const _0x3a43ee=scratchpadCtx[_0x460590(0x315)];isMousePanning&&(isMousePanning=![],_0x3a43ee[_0x460590(0x4e4)][_0x460590(0x54c)]=_0x460590(0x8e9)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x460590(0x649)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x460590(0x2fe)]===_0x460590(0x43f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x43ee6a=_0x460590,_0x10c72c=strokes[_0x43ee6a(0x3e1)](_0x17380e=>_0x17380e[_0x43ee6a(0x2fe)]===_0x43ee6a(0x43f)&&!_0x17380e[_0x43ee6a(0x24e)]);if(_0x10c72c[_0x43ee6a(0x649)]>0x0){const _0x114fe4=Date[_0x43ee6a(0x9bc)]();_0x10c72c[_0x43ee6a(0x220)](_0x25410e=>_0x25410e[_0x43ee6a(0x24e)]=_0x114fe4),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x32a5e9){const _0x54d60f=_0x2f78fc;_0x32a5e9['preventDefault']();const _0x1410cd=_0x32a5e9[_0x54d60f(0x5f8)]*-0.005,_0x676b61=Math[_0x54d60f(0xc1f)](Math[_0x54d60f(0x509)](scratchpadScale+_0x1410cd,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x32a5e9[_0x54d60f(0xb65)]-(_0x32a5e9[_0x54d60f(0xb65)]-scratchpadOffset['x'])*(_0x676b61/scratchpadScale),scratchpadOffset['y']=_0x32a5e9['clientY']-(_0x32a5e9[_0x54d60f(0x1af)]-scratchpadOffset['y'])*(_0x676b61/scratchpadScale),scratchpadScale=_0x676b61,redrawScratchpad();}function undo(){const _0x5141f2=_0x2f78fc;strokes[_0x5141f2(0x649)]>0x0&&(redoStrokes[_0x5141f2(0x346)](strokes[_0x5141f2(0x3d7)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x9b466d=_0x2f78fc;redoStrokes[_0x9b466d(0x649)]>0x0&&(strokes['push'](redoStrokes[_0x9b466d(0x3d7)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x4a6b7d=_0x2f78fc;document[_0x4a6b7d(0x288)]('undo-btn')['disabled']=strokes[_0x4a6b7d(0x649)]===0x0,document[_0x4a6b7d(0x288)]('redo-btn')[_0x4a6b7d(0x9e8)]=redoStrokes[_0x4a6b7d(0x649)]===0x0;}function openScratchpad(_0x3c157e,_0x38fed5){const _0x547057=_0x2f78fc,_0x5b5cbf=document[_0x547057(0x288)](_0x547057(0x920)),_0x3464d6=document[_0x547057(0x288)](_0x547057(0xbb3)),_0x40b9ed=document[_0x547057(0x288)](_0x547057(0xcbb)),_0x5ec3b0=document['getElementById'](_0x547057(0x672));_0x3464d6[_0x547057(0x5f0)]=_0x3c157e[_0x547057(0x34d)]||_0x3c157e[_0x547057(0x9fb)],_0x40b9ed['innerHTML']=_0x38fed5[_0x547057(0x598)]((_0x3bb02c,_0x58e622)=>_0x547057(0xbf2)+String[_0x547057(0x916)](0x41+_0x58e622)+'.\x20'+_0x3bb02c+_0x547057(0x21c))[_0x547057(0x53d)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5b5cbf['classList'][_0x547057(0xc4b)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x547057(0x5ed)])MathJax[_0x547057(0x3d1)]([_0x3464d6,_0x40b9ed]);}function openBlueprintQuizSettings(){const _0x431d79=_0x2f78fc,_0x22af7e=document[_0x431d79(0x288)](_0x431d79(0xb6f)),_0xf451eb=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document['getElementById'](_0x431d79(0xb93))[_0x431d79(0x63b)]=_0xf451eb[_0x431d79(0x58f)]||document[_0x431d79(0x288)](_0x431d79(0x7ec))[_0x431d79(0x63b)],document[_0x431d79(0x288)](_0x431d79(0xc5f))['innerHTML']=document['getElementById']('difficulty-level-select')[_0x431d79(0x5f0)],document[_0x431d79(0x288)](_0x431d79(0xc5f))['value']=_0xf451eb[_0x431d79(0x6c5)]||document[_0x431d79(0x288)](_0x431d79(0x492))[_0x431d79(0x63b)],document[_0x431d79(0x288)](_0x431d79(0x834))[_0x431d79(0x5f0)]=document[_0x431d79(0x288)]('question-complexity-select')[_0x431d79(0x5f0)],document[_0x431d79(0x288)](_0x431d79(0x834))[_0x431d79(0x63b)]=_0xf451eb[_0x431d79(0x9d4)]||document['getElementById'](_0x431d79(0xa5f))[_0x431d79(0x63b)],document[_0x431d79(0x288)]('bp-modal-num-questions')[_0x431d79(0x63b)]=_0xf451eb[_0x431d79(0x538)]||document['getElementById'](_0x431d79(0x37d))[_0x431d79(0x63b)],document[_0x431d79(0x288)](_0x431d79(0xb21))[_0x431d79(0x63b)]=_0xf451eb[_0x431d79(0x7c0)]||document[_0x431d79(0x288)](_0x431d79(0xa8b))[_0x431d79(0x63b)],document[_0x431d79(0x288)](_0x431d79(0x2ac))[_0x431d79(0x63b)]=_0xf451eb['numChoices']||document[_0x431d79(0x288)](_0x431d79(0x9fd))[_0x431d79(0x63b)],document[_0x431d79(0x288)]('bp-modal-shuffle-setting-select')[_0x431d79(0x63b)]=_0xf451eb[_0x431d79(0xa4d)]||document[_0x431d79(0x288)](_0x431d79(0x6bf))[_0x431d79(0x63b)],document[_0x431d79(0x288)](_0x431d79(0xa93))[_0x431d79(0xbe3)]=_0xf451eb[_0x431d79(0x75d)]||document[_0x431d79(0x288)]('include-images-checkbox')['checked'],_0x22af7e[_0x431d79(0xa39)][_0x431d79(0xc4b)](_0x431d79(0x4c5));}function handleSaveBlueprintPageSettings(){const _0x29b5ea=_0x2f78fc;blueprintPageSettings={'quizType':document[_0x29b5ea(0x288)](_0x29b5ea(0xb93))[_0x29b5ea(0x63b)],'difficultyValue':document[_0x29b5ea(0x288)](_0x29b5ea(0xc5f))['value'],'complexityValue':document[_0x29b5ea(0x288)](_0x29b5ea(0x834))[_0x29b5ea(0x63b)],'numQuestions':document[_0x29b5ea(0x288)](_0x29b5ea(0x881))[_0x29b5ea(0x63b)],'passingScore':document[_0x29b5ea(0x288)](_0x29b5ea(0xb21))[_0x29b5ea(0x63b)],'numChoices':document[_0x29b5ea(0x288)](_0x29b5ea(0x2ac))[_0x29b5ea(0x63b)],'shuffle':document['getElementById']('bp-modal-shuffle-setting-select')[_0x29b5ea(0x63b)],'includeImages':document[_0x29b5ea(0x288)]('bp-modal-include-images-checkbox')[_0x29b5ea(0xbe3)]},showMessage(_0x29b5ea(0x200)),document[_0x29b5ea(0x288)](_0x29b5ea(0xb6f))[_0x29b5ea(0xa39)][_0x29b5ea(0x5c0)](_0x29b5ea(0x4c5));}function listenForParallelTestShortcuts(){const _0x177ff9=_0x2f78fc,_0x4559c5=doc(db,_0x177ff9(0x34f),'parallelTestShortcutsConfig');onSnapshot(_0x4559c5,_0x497719=>{const _0x6faca9=_0x177ff9;let _0xa878c2=[],_0x53c45b=[],_0xfb4625={};if(_0x497719['exists']()){const _0x39f711=_0x497719[_0x6faca9(0xc89)]();_0xa878c2=_0x39f711[_0x6faca9(0x800)]||[],_0x53c45b=_0x39f711[_0x6faca9(0x3bc)]||[],_0xfb4625=_0x39f711[_0x6faca9(0x524)]||{};}!_0x53c45b[_0x6faca9(0x533)](_0x3d1a9c=>_0x3d1a9c['id']===_0x6faca9(0x1da))&&_0x53c45b['unshift']({'id':_0x6faca9(0x1da),'name':_0x6faca9(0x219),'isDefault':!![]}),!_0xa878c2[_0x6faca9(0x533)](_0x4305e1=>_0x4305e1['id']===_0x6faca9(0x7d7))&&_0xa878c2[_0x6faca9(0x355)]({'id':_0x6faca9(0x7d7),'name':_0x6faca9(0x8b9),'url':'','isDefault':!![]}),!_0xa878c2[_0x6faca9(0x533)](_0x4595b5=>_0x4595b5['id']===_0x6faca9(0xa4b))&&_0xa878c2[_0x6faca9(0x355)]({'id':_0x6faca9(0xa4b),'name':_0x6faca9(0x77d),'url':'','isDefault':!![]}),parallelTestShortcuts=_0xa878c2,parallelShortcutTabs=_0x53c45b,parallelShortcutOrder=_0xfb4625,renderParallelTestShortcuts(),!document[_0x6faca9(0x288)](_0x6faca9(0x702))[_0x6faca9(0xa39)][_0x6faca9(0x6ca)](_0x6faca9(0x4c5))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x173e78=_0x2f78fc,_0x245d69=doc(db,_0x173e78(0x34f),_0x173e78(0x519));try{await setDoc(_0x245d69,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1e4ede){console['error']('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x1e4ede);}}function renderAdditionalParallelShortcutsModal(){const _0x5d908a=_0x2f78fc,_0x933c3f=document[_0x5d908a(0x288)](_0x5d908a(0x6d4)),_0xe7705e=document[_0x5d908a(0x288)]('additional-parallel-shortcuts-list');if(!_0x933c3f||!_0xe7705e)return;_0x933c3f[_0x5d908a(0x5f0)]=parallelShortcutTabs['map'](_0x49a0d2=>{const _0x2c2e29=_0x5d908a,_0x37cb58=_0x49a0d2['id']===activeParallelShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x49a0d2['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x37cb58?_0x2c2e29(0x6cf):_0x2c2e29(0xa1d))+_0x2c2e29(0x707)+_0x49a0d2[_0x2c2e29(0xb54)]+_0x2c2e29(0xcb9)+_0x49a0d2[_0x2c2e29(0xb54)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x49a0d2[_0x2c2e29(0x99c)]?_0x2c2e29(0xad7)+_0x49a0d2['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x2c2e29(0xa62);})[_0x5d908a(0x53d)]('');const _0x423f90=parallelShortcutTabs['find'](_0x5202c4=>_0x5202c4['id']===activeParallelShortcutTabId);let _0x1ec3a0=_0x423f90?.[_0x5d908a(0x99c)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0xd74ee7=>(_0x423f90?.['shortcutIds']||[])[_0x5d908a(0x96b)](_0xd74ee7['id']));const _0x28e447=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x1ec3a0['sort']((_0x358246,_0x541d16)=>{const _0x1be897=_0x5d908a,_0x5c3195=_0x28e447[_0x1be897(0x72f)](_0x358246['id']),_0x3420e1=_0x28e447[_0x1be897(0x72f)](_0x541d16['id']);return(_0x5c3195===-0x1?Infinity:_0x5c3195)-(_0x3420e1===-0x1?Infinity:_0x3420e1);}),_0xe7705e[_0x5d908a(0x5f0)]=_0x1ec3a0[_0x5d908a(0x598)](_0x360711=>{const _0x3aba1c=_0x5d908a,_0x502e34=_0x360711[_0x3aba1c(0x807)]?'🔁':'🔗',_0x150868=parallelShortcutTabs[_0x3aba1c(0x3e1)](_0x4af27e=>!_0x4af27e[_0x3aba1c(0x99c)]),_0x3503cc=_0x423f90[_0x3aba1c(0x99c)]&&_0x150868['length']>0x0?_0x3aba1c(0x1d4)+_0x150868['map'](_0x4baec7=>_0x3aba1c(0xce9)+_0x360711['id']+_0x3aba1c(0x1ec)+_0x4baec7['id']+'\x22>'+_0x4baec7[_0x3aba1c(0xb54)]+_0x3aba1c(0xb2d))[_0x3aba1c(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x360711['id']+_0x3aba1c(0xa50)+_0x502e34+'\x20'+_0x360711[_0x3aba1c(0xb54)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x360711['id']+_0x3aba1c(0xa63)+_0x360711['id']+_0x3aba1c(0x7ba)+(!_0x360711[_0x3aba1c(0x99c)]?_0x3aba1c(0x454)+_0x360711['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x3aba1c(0x98c)+(!_0x423f90['isDefault']?_0x3aba1c(0x2f3)+_0x360711['id']+_0x3aba1c(0x1fb):'')+_0x3aba1c(0x98c)+_0x3503cc+_0x3aba1c(0xa8e);})[_0x5d908a(0x53d)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x17d20e=_0x2f78fc;document[_0x17d20e(0x3db)](_0x17d20e(0xbcd))[_0x17d20e(0x220)](_0x212a51=>{const _0x3c3cd5=_0x17d20e;_0x212a51[_0x3c3cd5(0x611)]=_0x243344=>{const _0x46b51d=_0x3c3cd5;activeParallelShortcutTabId=_0x243344[_0x46b51d(0x76f)]['dataset'][_0x46b51d(0x7ce)],renderAdditionalParallelShortcutsModal();},_0x212a51[_0x3c3cd5(0x5b1)]=_0x1de59c=>{const _0x43465d=_0x3c3cd5,_0x16f691=_0x1de59c[_0x43465d(0x76f)][_0x43465d(0x2ee)](_0x43465d(0x275));_0x1de59c['currentTarget']['querySelector'](_0x43465d(0x655))[_0x43465d(0xa39)][_0x43465d(0x5c0)](_0x43465d(0x4c5)),_0x16f691[_0x43465d(0xa39)][_0x43465d(0xc4b)](_0x43465d(0x4c5)),_0x16f691['focus'](),_0x16f691[_0x43465d(0x6f3)]();};}),document[_0x17d20e(0x3db)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x17d20e(0x220)](_0x6e18ad=>{const _0x468170=_0x17d20e,_0x3ef280=()=>{const _0x40d2e0=_0x43c7,_0x46cfb0=_0x6e18ad[_0x40d2e0(0x6d3)](_0x40d2e0(0xbcd))[_0x40d2e0(0xa66)][_0x40d2e0(0x7ce)],_0x119efc=parallelShortcutTabs[_0x40d2e0(0x533)](_0x78376b=>_0x78376b['id']===_0x46cfb0);_0x119efc&&(_0x119efc[_0x40d2e0(0xb54)]=_0x6e18ad[_0x40d2e0(0x63b)]['trim']()||_0x119efc[_0x40d2e0(0xb54)],saveParallelShortcutConfig());};_0x6e18ad[_0x468170(0x238)]=_0x3ef280,_0x6e18ad[_0x468170(0xafa)]=_0x48d6de=>{const _0x568674=_0x468170;if(_0x48d6de[_0x568674(0x1ea)]===_0x568674(0x66d))_0x6e18ad[_0x568674(0x206)]();};}),document[_0x17d20e(0x3db)](_0x17d20e(0x8ea))['forEach'](_0x3ecff0=>_0x3ecff0[_0x17d20e(0x611)]=_0x7c7d82=>{const _0x15a168=_0x17d20e,_0x13a74d=_0x7c7d82[_0x15a168(0x76f)][_0x15a168(0xa66)][_0x15a168(0x7ce)];showConfirmation(_0x15a168(0x4b4),()=>{const _0x351b90=_0x15a168;parallelShortcutTabs=parallelShortcutTabs[_0x351b90(0x3e1)](_0xf81c6a=>_0xf81c6a['id']!==_0x13a74d),delete parallelShortcutOrder[_0x13a74d];if(activeParallelShortcutTabId===_0x13a74d)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x17d20e(0x3db)](_0x17d20e(0x4ba))[_0x17d20e(0x220)](_0x3532dc=>_0x3532dc[_0x17d20e(0x611)]=_0x1353fe=>{const _0x2b4ee4=_0x17d20e;_0x1353fe[_0x2b4ee4(0xc57)]();const {shortcutId:_0x311aff,targetTabId:_0x3ab359}=_0x1353fe['currentTarget'][_0x2b4ee4(0xa66)],_0x173f90=parallelShortcutTabs['find'](_0x1c657d=>_0x1c657d['id']===_0x3ab359);_0x173f90&&!_0x173f90[_0x2b4ee4(0x7b7)][_0x2b4ee4(0x96b)](_0x311aff)&&(_0x173f90[_0x2b4ee4(0x7b7)]['push'](_0x311aff),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x17d20e(0x80f))[_0x17d20e(0x220)](_0x54c91c=>_0x54c91c[_0x17d20e(0x611)]=_0x13a09c=>{const _0xa4db67=_0x17d20e,_0x338369=_0x13a09c['currentTarget']['dataset']['shortcutId'],_0x320354=parallelShortcutTabs['find'](_0x56bd35=>_0x56bd35['id']===activeParallelShortcutTabId);_0x320354&&!_0x320354[_0xa4db67(0x99c)]&&(_0x320354[_0xa4db67(0x7b7)]=_0x320354[_0xa4db67(0x7b7)]['filter'](_0x146201=>_0x146201!==_0x338369),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x17d20e(0xa8f))['forEach'](_0x40053f=>_0x40053f[_0x17d20e(0x611)]=_0x40c431=>{const _0x41fc68=_0x17d20e;_0x40c431[_0x41fc68(0xb82)]();const _0x27e3a2=_0x40c431[_0x41fc68(0x76f)]['nextElementSibling'];document['querySelectorAll'](_0x41fc68(0x8d8))[_0x41fc68(0x220)](_0x2bebe0=>_0x2bebe0[_0x41fc68(0xa39)][_0x41fc68(0x5c0)]('hidden')),_0x27e3a2[_0x41fc68(0xa39)][_0x41fc68(0xc4b)](_0x41fc68(0x4c5));});const _0x2feac3=document[_0x17d20e(0x288)](_0x17d20e(0xb3c));let _0x334fc9=null;_0x2feac3[_0x17d20e(0x344)]=_0x16f825=>{const _0x2bb133=_0x17d20e;_0x334fc9=_0x16f825[_0x2bb133(0x328)][_0x2bb133(0x6d3)]('.shortcut-list-item');if(_0x334fc9)setTimeout(()=>_0x334fc9[_0x2bb133(0xa39)]['add'](_0x2bb133(0x817)),0x0);},_0x2feac3[_0x17d20e(0x774)]=()=>{const _0x254dea=_0x17d20e;_0x334fc9&&(_0x334fc9[_0x254dea(0xa39)]['remove'](_0x254dea(0x817)),_0x334fc9=null);},_0x2feac3[_0x17d20e(0x22a)]=_0x202e10=>{const _0x17fc54=_0x17d20e;_0x202e10[_0x17fc54(0xc57)]();},_0x2feac3[_0x17d20e(0x1f0)]=_0x23a55c=>{const _0x3ecffe=_0x17d20e;_0x23a55c['preventDefault']();if(_0x334fc9){const _0x33e0ef=[..._0x2feac3['querySelectorAll'](_0x3ecffe(0xcf4))][_0x3ecffe(0x441)]((_0x68ce98,_0x1ddf08)=>{const _0x5bee69=_0x3ecffe,_0x45bfdf=_0x1ddf08[_0x5bee69(0x784)](),_0x596391=_0x23a55c[_0x5bee69(0x1af)]-_0x45bfdf[_0x5bee69(0xb25)]-_0x45bfdf[_0x5bee69(0x767)]/0x2;return _0x596391<0x0&&_0x596391>_0x68ce98[_0x5bee69(0x6cc)]?{'offset':_0x596391,'element':_0x1ddf08}:_0x68ce98;},{'offset':Number[_0x3ecffe(0x600)]})[_0x3ecffe(0x35b)];_0x33e0ef==null?_0x2feac3['appendChild'](_0x334fc9):_0x2feac3[_0x3ecffe(0x1f3)](_0x334fc9,_0x33e0ef);const _0x11e2db=[..._0x2feac3['querySelectorAll'](_0x3ecffe(0xaf8))]['map'](_0x4df9a2=>_0x4df9a2[_0x3ecffe(0xa66)][_0x3ecffe(0x2da)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x11e2db,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x9a4094=_0x2f78fc,_0x18ad80=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x18ad80&&_0x18ad80[_0x9a4094(0x8e1)]()&&(parallelShortcutTabs[_0x9a4094(0x346)]({'id':'tab_'+Date[_0x9a4094(0x9bc)](),'name':_0x18ad80[_0x9a4094(0x8e1)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x5909c2=_0x2f78fc,_0x5b37ef=document['getElementById'](_0x5909c2(0x960)),_0x16e1d1=document[_0x5909c2(0x288)](_0x5909c2(0xb3c)),_0x1ba344=document[_0x5909c2(0x288)](_0x5909c2(0xaa0));if(_0x1ba344)_0x1ba344['classList']['add'](_0x5909c2(0x4c5));if(!_0x5b37ef||!_0x16e1d1)return;const _0x87e16d=parallelTestShortcuts[_0x5909c2(0xacc)](0x0,0x4),_0x43dab8=parallelTestShortcuts[_0x5909c2(0xacc)](0x4);_0x5b37ef[_0x5909c2(0x5f0)]=_0x87e16d[_0x5909c2(0x598)](_0x53f9b3=>{const _0x5876e5=_0x5909c2,_0x40cdd3=_0x53f9b3[_0x5876e5(0x807)]&&_0x53f9b3[_0x5876e5(0x807)]['trim']()!=='',_0x1644b7=_0x40cdd3?_0x5876e5(0x625):_0x5876e5(0x446),_0x75b8b4=_0x40cdd3?'🔁':'🔗',_0x460e0a=!_0x53f9b3[_0x5876e5(0x99c)]?_0x5876e5(0x454)+_0x53f9b3['id']+_0x5876e5(0xb91):'';return _0x5876e5(0xc0d)+_0x53f9b3['id']+_0x5876e5(0x553)+_0x1644b7+_0x5876e5(0x98a)+_0x75b8b4+'\x20'+_0x53f9b3['name']+_0x5876e5(0x929)+_0x53f9b3['id']+_0x5876e5(0x8a6)+_0x460e0a+_0x5876e5(0x29c);})[_0x5909c2(0x53d)](''),_0x43dab8['length']>0x0&&(_0x5b37ef[_0x5909c2(0x5f0)]+=_0x5909c2(0x910)),_0x43dab8[_0x5909c2(0x649)]>0x0?_0x16e1d1[_0x5909c2(0x5f0)]=_0x43dab8[_0x5909c2(0x598)](_0x85a528=>_0x5909c2(0x867)+(_0x85a528[_0x5909c2(0x807)]?'🔁':'🔗')+'\x20'+_0x85a528[_0x5909c2(0xb54)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x85a528['id']+_0x5909c2(0xcb3)+_0x85a528['id']+_0x5909c2(0x439)+(!_0x85a528[_0x5909c2(0x99c)]?_0x5909c2(0x454)+_0x85a528['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x5909c2(0x8ff))[_0x5909c2(0x53d)](''):_0x16e1d1[_0x5909c2(0x5f0)]=_0x5909c2(0x704);}function openParallelTestShortcutEditor(_0x1ad41c=null){const _0x383bec=_0x2f78fc,_0x1cce0d=document[_0x383bec(0x288)](_0x383bec(0x79a)),_0x443400=document[_0x383bec(0x288)](_0x383bec(0x671)),_0x1750b7=document[_0x383bec(0x288)](_0x383bec(0xce7)),_0x11c26f=document['getElementById'](_0x383bec(0x713)),_0x3337aa=document['getElementById']('parallel-shortcut-url-input');if(_0x1ad41c){const _0xb123ab=parallelTestShortcuts[_0x383bec(0x533)](_0x4bcb5d=>_0x4bcb5d['id']===_0x1ad41c);if(!_0xb123ab)return;_0x443400[_0x383bec(0xb10)]=_0x383bec(0xc99),_0x1750b7['value']=_0xb123ab['id'],_0x11c26f['value']=_0xb123ab[_0x383bec(0xb54)],_0x3337aa[_0x383bec(0x63b)]=_0xb123ab[_0x383bec(0x807)]||'';}else _0x443400[_0x383bec(0xb10)]=_0x383bec(0x35d),_0x1750b7[_0x383bec(0x63b)]='',_0x11c26f['value']='',_0x3337aa[_0x383bec(0x63b)]='';_0x1cce0d[_0x383bec(0xa39)][_0x383bec(0xc4b)]('hidden');}async function saveParallelTestShortcutChanges(){const _0xeca297=_0x2f78fc,_0x1cfdcc=document[_0xeca297(0x288)](_0xeca297(0xce7))[_0xeca297(0x63b)],_0x325782=document[_0xeca297(0x288)](_0xeca297(0x713))['value'][_0xeca297(0x8e1)](),_0x199748=document[_0xeca297(0x288)](_0xeca297(0xcaa))[_0xeca297(0x63b)][_0xeca297(0x8e1)]();if(!_0x325782){showMessage(_0xeca297(0x61c));return;}const _0x24cdce={'id':_0x1cfdcc||_0xeca297(0x304)+Date[_0xeca297(0x9bc)](),'name':_0x325782,'url':_0x199748,'isDefault':_0x1cfdcc['startsWith']('parallel-default-')};let _0xc7822e;_0x1cfdcc?_0xc7822e=parallelTestShortcuts[_0xeca297(0x598)](_0x1d023c=>_0x1d023c['id']===_0x1cfdcc?_0x24cdce:_0x1d023c):_0xc7822e=[...parallelTestShortcuts,_0x24cdce];try{const _0x5cfbb8=doc(db,_0xeca297(0x34f),_0xeca297(0x519));await setDoc(_0x5cfbb8,{'shortcuts':_0xc7822e},{'merge':!![]}),document[_0xeca297(0x288)](_0xeca297(0x79a))[_0xeca297(0xa39)]['add'](_0xeca297(0x4c5));}catch(_0x5024f5){console[_0xeca297(0x40f)](_0xeca297(0x409),_0x5024f5),showMessage(_0xeca297(0x1bc));}}async function handleParallelTestShortcutClick(_0x61b453){const _0x601d81=_0x2f78fc,_0x35e5df=parallelTestShortcuts[_0x601d81(0x533)](_0x5580c6=>_0x5580c6['id']===_0x61b453);if(!_0x35e5df)return;if(!_0x35e5df[_0x601d81(0x807)]||_0x35e5df[_0x601d81(0x807)][_0x601d81(0x8e1)]()===''){openParallelTestShortcutEditor(_0x61b453);return;}const _0x5ac4c7=document['getElementById'](_0x601d81(0x308)),_0x3352a1=document['getElementById'](_0x601d81(0x948));document[_0x601d81(0x288)](_0x601d81(0x459))[_0x601d81(0xa39)][_0x601d81(0xc4b)](_0x601d81(0x4c5)),document[_0x601d81(0x288)]('generated-quiz-container')['innerHTML']='',_0x5ac4c7['classList'][_0x601d81(0xc4b)](_0x601d81(0x4c5)),_0x3352a1[_0x601d81(0xb10)]=_0x601d81(0x57b);try{let _0x43e650;_0x35e5df[_0x601d81(0x807)][_0x601d81(0x1f2)]()[_0x601d81(0x96b)](_0x601d81(0xa0d))?_0x43e650=_0x601d81(0x5a3):_0x43e650=_0x601d81(0x5d1);const _0x4331d0=await fetchFileFromUrl(_0x35e5df[_0x601d81(0x807)],_0x43e650);await handleGenerateParallelTest(_0x4331d0);}catch(_0x2b125f){console[_0x601d81(0x40f)](_0x601d81(0x3c8),_0x2b125f),showMessage(_0x601d81(0xac4)+_0x2b125f[_0x601d81(0x42d)]),_0x5ac4c7[_0x601d81(0xa39)]['add']('hidden');}}function initializeScratchpadCanvas(){const _0x2647d7=_0x2f78fc,_0x430659=document[_0x2647d7(0x288)]('scratchpad-canvas'),_0x11912c=document[_0x2647d7(0x2ee)]('.scratchpad-content-wrapper');if(!_0x430659||!_0x11912c)return;scratchpadCtx=_0x430659['getContext']('2d',{'willReadFrequently':!![]});const _0x5411f0=window['devicePixelRatio']||0x1,_0x252521=_0x11912c['getBoundingClientRect']();_0x430659[_0x2647d7(0x451)]=_0x252521[_0x2647d7(0x451)]*_0x5411f0,_0x430659[_0x2647d7(0x767)]=_0x252521['height']*_0x5411f0,_0x430659[_0x2647d7(0x4e4)][_0x2647d7(0x451)]=_0x252521[_0x2647d7(0x451)]+'px',_0x430659['style'][_0x2647d7(0x767)]=_0x252521['height']+'px',scratchpadCtx[_0x2647d7(0x803)](_0x5411f0,_0x5411f0),scratchpadCtx[_0x2647d7(0x2b6)]=_0x2647d7(0xd15),scratchpadCtx['lineCap']='round',_0x430659[_0x2647d7(0xac5)](_0x2647d7(0xc04),handlePointerDown),_0x430659[_0x2647d7(0xac5)](_0x2647d7(0x3bf),handlePointerMove),_0x430659['removeEventListener']('pointerup',handlePointerUp),_0x430659[_0x2647d7(0xac5)]('pointercancel',handlePointerUp),_0x430659[_0x2647d7(0xac5)](_0x2647d7(0x317),handleWheel),_0x430659[_0x2647d7(0xac5)]('touchstart',handlePointerDown),_0x430659[_0x2647d7(0xac5)](_0x2647d7(0x8bc),handlePointerMove),_0x430659[_0x2647d7(0xac5)](_0x2647d7(0x6a3),handlePointerUp),_0x430659[_0x2647d7(0x5b2)](_0x2647d7(0xc04),handlePointerDown),_0x430659['addEventListener'](_0x2647d7(0x3bf),handlePointerMove),_0x430659[_0x2647d7(0x5b2)](_0x2647d7(0x5f6),handlePointerUp),_0x430659[_0x2647d7(0x5b2)](_0x2647d7(0x5e0),handlePointerUp),_0x430659[_0x2647d7(0x5b2)](_0x2647d7(0x317),handleWheel,{'passive':![]}),_0x430659[_0x2647d7(0x5b2)](_0x2647d7(0x8ca),handlePointerDown,{'passive':![]}),_0x430659[_0x2647d7(0x5b2)](_0x2647d7(0x8bc),handlePointerMove,{'passive':![]}),_0x430659['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x25dc19=_0x2f78fc,_0x4d3116=document['getElementById'](_0x25dc19(0x920)),_0x349109=document[_0x25dc19(0x288)](_0x25dc19(0x672));_0x349109[_0x25dc19(0x5f0)]=_0x25dc19(0x52f)+scratchpadHighlighterSize+_0x25dc19(0x8c7);const _0x56bbc3=document[_0x25dc19(0x288)]('pen-tool-btn'),_0x41cc83=document[_0x25dc19(0x288)](_0x25dc19(0xd02)),_0x200bc5=document[_0x25dc19(0x288)](_0x25dc19(0x80c)),_0x41eb55=document[_0x25dc19(0x288)]('highlighter-tool-btn'),_0x4b4bc4=document[_0x25dc19(0x288)]('pen-tools-group'),_0x1878a8=document['getElementById'](_0x25dc19(0x1b0)),_0x1fed08=[_0x56bbc3,_0x41cc83,_0x200bc5,_0x41eb55];document[_0x25dc19(0x288)]('scratchpad-close-btn')[_0x25dc19(0x5b2)](_0x25dc19(0x8d9),()=>_0x4d3116['classList'][_0x25dc19(0x5c0)](_0x25dc19(0x4c5))),document[_0x25dc19(0x288)](_0x25dc19(0xb74))[_0x25dc19(0x5b2)](_0x25dc19(0x8d9),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x25dc19(0x98d))['addEventListener']('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x25dc19(0x96c))['addEventListener'](_0x25dc19(0x8d9),undo),document[_0x25dc19(0x288)](_0x25dc19(0x641))['addEventListener'](_0x25dc19(0x8d9),redo);const _0x2d6bf7=_0x21e70d=>{const _0xbd194a=_0x25dc19;_0x1fed08['forEach'](_0x4e83ca=>_0x4e83ca['classList']['remove'](_0xbd194a(0xadb))),_0x21e70d[_0xbd194a(0xa39)][_0xbd194a(0x5c0)](_0xbd194a(0xadb));const _0x164438=_0x21e70d===_0x41eb55;_0x4b4bc4[_0xbd194a(0xa39)][_0xbd194a(0xc5b)](_0xbd194a(0x4c5),_0x164438),_0x1878a8[_0xbd194a(0xa39)][_0xbd194a(0xc5b)](_0xbd194a(0x4c5),!_0x164438);};_0x56bbc3[_0x25dc19(0x5b2)](_0x25dc19(0x8d9),()=>{const _0x594166=_0x25dc19;activeTool=_0x594166(0x4a5),_0x2d6bf7(_0x56bbc3);}),_0x41cc83[_0x25dc19(0x5b2)](_0x25dc19(0x8d9),()=>{const _0x29950e=_0x25dc19;activeTool=_0x29950e(0x88f),_0x2d6bf7(_0x41cc83);}),_0x200bc5[_0x25dc19(0x5b2)](_0x25dc19(0x8d9),()=>{const _0x2ea4c8=_0x25dc19;activeTool=_0x2ea4c8(0x43f),_0x2d6bf7(_0x200bc5);}),_0x41eb55[_0x25dc19(0x5b2)]('click',()=>{const _0x459828=_0x25dc19;activeTool=_0x459828(0xb41),_0x2d6bf7(_0x41eb55);}),_0x4b4bc4[_0x25dc19(0x3db)](_0x25dc19(0x891))[_0x25dc19(0x220)](_0x1065d5=>{const _0x4d92dc=_0x25dc19;_0x1065d5[_0x4d92dc(0x5b2)](_0x4d92dc(0x8d9),_0x4afbe0=>{const _0x281040=_0x4d92dc;scratchpadPenSize=parseInt(_0x4afbe0[_0x281040(0x328)][_0x281040(0xa66)]['size'],0xa),_0x4b4bc4[_0x281040(0x3db)]('.pen-size-btn')[_0x281040(0x220)](_0x3cd79b=>_0x3cd79b[_0x281040(0xa39)][_0x281040(0xc4b)](_0x281040(0xadb))),_0x4afbe0[_0x281040(0x328)][_0x281040(0xa39)][_0x281040(0x5c0)](_0x281040(0xadb));});}),_0x4b4bc4[_0x25dc19(0x3db)](_0x25dc19(0x645))[_0x25dc19(0x220)](_0x350552=>{const _0x4f26c7=_0x25dc19;_0x350552[_0x4f26c7(0x5b2)](_0x4f26c7(0x8d9),_0x580c94=>{const _0x1b4d46=_0x4f26c7;scratchpadPenColor=_0x580c94[_0x1b4d46(0x328)]['dataset'][_0x1b4d46(0xa4e)],_0x4b4bc4[_0x1b4d46(0x3db)]('.pen-color-btn')[_0x1b4d46(0x220)](_0x387939=>_0x387939[_0x1b4d46(0xa39)][_0x1b4d46(0xc4b)](_0x1b4d46(0xadb))),_0x580c94[_0x1b4d46(0x328)][_0x1b4d46(0xa39)][_0x1b4d46(0x5c0)](_0x1b4d46(0xadb));});}),_0x1878a8[_0x25dc19(0x3db)](_0x25dc19(0x798))[_0x25dc19(0x220)](_0x527e13=>{const _0x289151=_0x25dc19;_0x527e13[_0x289151(0x5b2)](_0x289151(0x8d9),_0x514880=>{const _0x303bb7=_0x289151;scratchpadHighlighterColor=_0x514880[_0x303bb7(0x328)][_0x303bb7(0xa66)][_0x303bb7(0xa4e)],_0x1878a8[_0x303bb7(0x3db)](_0x303bb7(0x798))['forEach'](_0x403f0c=>_0x403f0c[_0x303bb7(0xa39)]['remove']('active')),_0x514880[_0x303bb7(0x328)][_0x303bb7(0xa39)][_0x303bb7(0x5c0)](_0x303bb7(0xadb));});});const _0x51a07a=document[_0x25dc19(0x288)](_0x25dc19(0x4e6)),_0x518ec9=document[_0x25dc19(0x288)](_0x25dc19(0x379));_0x51a07a[_0x25dc19(0x5b2)](_0x25dc19(0x343),_0x528a38=>{const _0x436928=_0x25dc19,_0xc74295=parseInt(_0x528a38[_0x436928(0x328)]['value'],0xa);scratchpadHighlighterSize=_0xc74295,_0x518ec9[_0x436928(0xb10)]=_0xc74295;}),window[_0x25dc19(0x5b2)](_0x25dc19(0x8f0),()=>{const _0x2324b3=_0x25dc19;!_0x4d3116['classList'][_0x2324b3(0x6ca)]('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':'คะแนนเต็ม','description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x2f78fc(0x9bf),'name':'เซียนสมองไว','description':_0x2f78fc(0x619),'icon':_0x2f78fc(0xca0)},'ON_FIRE':{'id':_0x2f78fc(0xc10),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x2f78fc(0x5d5)},'FIRST_TRY_ACE':{'id':_0x2f78fc(0xa81),'name':'ผ่านฉลุย','description':_0x2f78fc(0xc56),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x2f78fc(0x75a),'name':_0x2f78fc(0x38c),'description':_0x2f78fc(0x490),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':'specialist','name':_0x2f78fc(0xc95),'description':_0x2f78fc(0x903),'icon':_0x2f78fc(0xc8a)},'PERSEVERANCE':{'id':_0x2f78fc(0x6fb),'name':'ผู้ไม่ยอมแพ้','description':_0x2f78fc(0x499),'icon':_0x2f78fc(0x677)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x2f78fc(0x9c8),'storageBucket':_0x2f78fc(0x5ea),'messagingSenderId':_0x2f78fc(0x28f),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x2f78fc(0x3a2)?__app_id:_0x2f78fc(0x423),adminView=document[_0x2f78fc(0x288)](_0x2f78fc(0x5b6)),studentView=document[_0x2f78fc(0x288)](_0x2f78fc(0x85c)),projectDashboardView=document['getElementById']('project-dashboard-view'),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document[_0x2f78fc(0x288)](_0x2f78fc(0x991)),projectList=document['getElementById'](_0x2f78fc(0x8dc)),noProjectsMsg=document[_0x2f78fc(0x288)](_0x2f78fc(0xa83)),projectTitle=document['getElementById'](_0x2f78fc(0xaba)),projectIdDisplay=document[_0x2f78fc(0x288)](_0x2f78fc(0x1ae)),studentList=document[_0x2f78fc(0x288)](_0x2f78fc(0x856)),messageModal=document[_0x2f78fc(0x288)](_0x2f78fc(0x8c1)),modalMessage=document[_0x2f78fc(0x288)](_0x2f78fc(0x1d3)),createProjectModal=document[_0x2f78fc(0x288)](_0x2f78fc(0xbb1)),adminPasswordModal=document[_0x2f78fc(0x288)](_0x2f78fc(0x6fc)),confirmationModal=document['getElementById'](_0x2f78fc(0x514)),userIdDisplay=document[_0x2f78fc(0x288)](_0x2f78fc(0x7fc)),topicTab=document[_0x2f78fc(0x288)](_0x2f78fc(0xaf7)),textTab=document[_0x2f78fc(0x288)](_0x2f78fc(0x378)),topicInputArea=document[_0x2f78fc(0x288)](_0x2f78fc(0xcd9)),textInputArea=document[_0x2f78fc(0x288)]('text-input-area'),manageTab=document[_0x2f78fc(0x288)](_0x2f78fc(0x2c6)),resultsTab=document['getElementById']('results-tab'),leaderboardTab=document[_0x2f78fc(0x288)]('leaderboard-tab'),manageTabContent=document[_0x2f78fc(0x288)](_0x2f78fc(0x78e)),resultsTabContent=document[_0x2f78fc(0x288)]('results-tab-content'),leaderboardTabContent=document[_0x2f78fc(0x288)](_0x2f78fc(0x820)),projectQuizzesList=document[_0x2f78fc(0x288)](_0x2f78fc(0x320)),fileTab=document[_0x2f78fc(0x288)](_0x2f78fc(0x879)),fileInputArea=document['getElementById'](_0x2f78fc(0x1c7)),fileUploadInput=document['getElementById'](_0x2f78fc(0x607)),worksheetTab=document[_0x2f78fc(0x288)](_0x2f78fc(0x797)),worksheetInputArea=document[_0x2f78fc(0x288)](_0x2f78fc(0x811)),generateWorksheetBtn=document[_0x2f78fc(0x288)](_0x2f78fc(0xab7)),studentInitialView=document['getElementById'](_0x2f78fc(0xa9a)),studentNameSelectionView=document['getElementById']('student-name-selection-view'),studentQuizArea=document[_0x2f78fc(0x288)](_0x2f78fc(0x5c8)),studentResultArea=document[_0x2f78fc(0x288)](_0x2f78fc(0x821)),studentReadingArea=document[_0x2f78fc(0x288)](_0x2f78fc(0x8f6)),loadQuizBtn=document[_0x2f78fc(0x288)](_0x2f78fc(0x442)),startQuizBtn=document[_0x2f78fc(0x288)](_0x2f78fc(0x5f9)),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document[_0x2f78fc(0x288)](_0x2f78fc(0x718)),renameQuizModal=document[_0x2f78fc(0x288)]('rename-quiz-modal'),moveQuizModal=document[_0x2f78fc(0x288)](_0x2f78fc(0x84d)),quizSettingsModal=document[_0x2f78fc(0x288)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x2f78fc(0xb42)),liveGameView=document[_0x2f78fc(0x288)](_0x2f78fc(0xbe2));function handleFixLessonLatex(){const _0x43d876=_0x2f78fc,_0x1ef881=document[_0x43d876(0x288)](_0x43d876(0x4cb));if(!_0x1ef881){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x5735c5=_0x1ef881['querySelectorAll']([_0x43d876(0x296),_0x43d876(0x511),_0x43d876(0x758),_0x43d876(0xbb0),_0x43d876(0x745)]['join'](','));let _0x2f4de0=0x0;const _0x1497be=_0x28e637=>_0x28e637[_0x43d876(0xb10)]||'',_0x1a85ad=(_0x50b488,_0x2a02f2)=>{const _0x327eb3=_0x43d876;if(_0x50b488[_0x327eb3(0x2ee)]&&_0x50b488[_0x327eb3(0x2ee)](_0x327eb3(0x22f)))return;_0x50b488[_0x327eb3(0xb10)]=_0x2a02f2;},_0x3558b7=_0x2870d0=>_0x2870d0[_0x43d876(0x5e3)](/\u00A0/g,'\x20')[_0x43d876(0x5e3)](/\u200B/g,'')[_0x43d876(0x5e3)](/\r\n?/g,'\x0a'),_0x37bac7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x522da8=_0x3137be=>{const _0x38a495=_0x43d876;let _0xe96399=_0x3137be[_0x38a495(0x8e1)]();const _0x21ad0a=[_0x38a495(0x6ff),'dfrac',_0x38a495(0x980),_0x38a495(0x5d6),'text',_0x38a495(0xceb),_0x38a495(0x3b4),_0x38a495(0x49e),_0x38a495(0x3dd),_0x38a495(0x246),'le','ge',_0x38a495(0x71b),'pm',_0x38a495(0xc43),_0x38a495(0x962),_0x38a495(0xb43),_0x38a495(0xa37),'log','ln',_0x38a495(0x785),_0x38a495(0x54d),_0x38a495(0x398),_0x38a495(0xc3c),_0x38a495(0xcd5),'overline',_0x38a495(0x7b0),_0x38a495(0x46f),_0x38a495(0xb51)];_0x21ad0a[_0x38a495(0x220)](_0x4e4179=>{const _0x16d695=_0x38a495;_0xe96399=_0xe96399[_0x16d695(0x5e3)](new RegExp(_0x16d695(0x3ba)+_0x4e4179+'\x5cb','g'),(_0x25d120,_0xa4a9ed)=>_0xa4a9ed+'\x5c'+_0x4e4179);});const _0xe7ba48=[[/×/g,_0x38a495(0x4a8)],[/·/g,'\x5ccdot'],[/÷/g,_0x38a495(0x274)],[/≤/g,'\x5cle'],[/≥/g,_0x38a495(0x2a6)],[/≠/g,_0x38a495(0x2bc)],[/±/g,_0x38a495(0x809)],[/∑/g,_0x38a495(0x8e2)],[/−/g,'-']];return _0xe7ba48['forEach'](([_0x353e48,_0x2693da])=>{const _0x308f20=_0x38a495;_0xe96399=_0xe96399[_0x308f20(0x5e3)](_0x353e48,_0x2693da);}),_0xe96399=_0xe96399[_0x38a495(0x5e3)](/√\s*([A-Za-z0-9]+)/g,_0x38a495(0x826)),_0xe96399=_0xe96399[_0x38a495(0x5e3)](/(\d+)\s*%/g,_0x38a495(0x98f)),_0xe96399;},_0x5ddd3b=_0x582360=>{const _0x298291=_0x43d876;if(/\$|\\\(|\\\[/['test'](_0x582360))return _0x582360;if(!_0x37bac7[_0x298291(0x323)](_0x582360))return _0x582360;const _0x4c459f=_0x582360[_0x298291(0x3c2)](/^\s*/)[0x0],_0x5d363d=_0x582360[_0x298291(0x3c2)](/\s*$/)[0x0],_0x52c539=_0x582360[_0x298291(0x8e1)]();return _0x4c459f+'$'+_0x522da8(_0x52c539)+'$'+_0x5d363d;};_0x5735c5[_0x43d876(0x220)](_0x1e9b7b=>{const _0x82809e=_0x43d876,_0x442bac=_0x1497be(_0x1e9b7b);let _0x4eee12=_0x3558b7(_0x442bac);_0x4eee12=_0x4eee12[_0x82809e(0x5e3)](/\$([^$]*?)\$/g,(_0xfeedf5,_0x4161f2)=>'$'+_0x522da8(_0x4161f2)+'$');const _0xf80256=_0x4eee12['split'](/(\s+)/),_0x2079be=_0xf80256[_0x82809e(0x598)](_0x380a9b=>{const _0x4390ad=_0x82809e;if(/\s+/[_0x4390ad(0x323)](_0x380a9b))return _0x380a9b;return _0x5ddd3b(_0x380a9b);});_0x4eee12=_0x2079be['join'](''),_0x4eee12!==_0x442bac&&(_0x1a85ad(_0x1e9b7b,_0x4eee12),_0x2f4de0++);});if(_0x2f4de0>0x0){showMessage(_0x43d876(0xa97)+_0x2f4de0+_0x43d876(0x3de));try{window[_0x43d876(0x5ed)]&&MathJax[_0x43d876(0x3d1)]&&MathJax[_0x43d876(0x3d1)]([_0x1ef881]);}catch(_0x2f1cfe){console[_0x43d876(0x40f)](_0x43d876(0x405),_0x2f1cfe);}}else showMessage(_0x43d876(0xcfa));}function handleAutoFixLatex(){const _0xb817fe=_0x2f78fc,_0x12d65c=document['getElementById']('quiz-editor-questions-container')||document,_0x4d4e6e=_0x12d65c[_0xb817fe(0x3db)](_0xb817fe(0xd10));let _0x1fa0ae=0x0;const _0xb3eab=_0x60ca60=>'value'in _0x60ca60?String(_0x60ca60[_0xb817fe(0x63b)]):_0x60ca60[_0xb817fe(0x633)]!==undefined?_0x60ca60['innerText']:_0x60ca60['textContent']||'',_0x484bb=(_0x3c389b,_0x253442)=>{const _0x253c03=_0xb817fe;if(_0x253c03(0x63b)in _0x3c389b){_0x3c389b[_0x253c03(0x63b)]=_0x253442;return;}if(_0x3c389b[_0x253c03(0x2ee)]&&_0x3c389b[_0x253c03(0x2ee)]('mjx-container'))return;if(_0x3c389b[_0x253c03(0x633)]!==undefined)_0x3c389b['innerText']=_0x253442;else _0x3c389b[_0x253c03(0xb10)]=_0x253442;},_0x2d47a0=_0x367903=>_0x367903[_0xb817fe(0x5e3)](/\u00A0/g,'\x20')[_0xb817fe(0x5e3)](/\u200B/g,'')[_0xb817fe(0x5e3)](/\r\n?/g,'\x0a'),_0x2bd997=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5b4278=_0x245f2a=>{const _0x4b99ec=_0xb817fe;let _0xbbd1e=_0x245f2a[_0x4b99ec(0x8e1)]();_0xbbd1e=_0xbbd1e[_0x4b99ec(0x5e3)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0xbbd1e=_0xbbd1e['replace'](/\bfrac(\d)(\d)/g,_0x4b99ec(0x9b9));const _0x37178c=[_0x4b99ec(0x6ff),_0x4b99ec(0x5d6),_0x4b99ec(0xceb),'cdot',_0x4b99ec(0x49e),_0x4b99ec(0x3dd),_0x4b99ec(0x246),'neq','pm',_0x4b99ec(0x962),_0x4b99ec(0xb43),_0x4b99ec(0xa37),_0x4b99ec(0x516),'ln'];_0x37178c[_0x4b99ec(0x220)](_0x10b148=>{const _0x946c97=_0x4b99ec;_0xbbd1e=_0xbbd1e[_0x946c97(0x5e3)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x10b148+'\x5cb','g'),(_0x584923,_0x2bf528)=>_0x2bf528+'\x5c'+_0x10b148);});const _0xe8254d=[[/×/g,_0x4b99ec(0x4a8)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x4b99ec(0x599)],[/≥/g,_0x4b99ec(0x2a6)],[/≠/g,_0x4b99ec(0x2bc)],[/±/g,_0x4b99ec(0x809)]];return _0xe8254d[_0x4b99ec(0x220)](([_0x1baf0e,_0x4e3412])=>{const _0x5e938b=_0x4b99ec;_0xbbd1e=_0xbbd1e[_0x5e938b(0x5e3)](_0x1baf0e,_0x4e3412);}),_0xbbd1e;},_0x325572=_0xb095e1=>{const _0x2f5418=_0xb817fe;if(/\$|\\\(|\\\[/[_0x2f5418(0x323)](_0xb095e1))return _0xb095e1;if(!_0x2bd997[_0x2f5418(0x323)](_0xb095e1))return _0xb095e1;const _0x2bb92b=_0xb095e1[_0x2f5418(0x3c2)](/^\s*/)[0x0],_0x4a5619=_0xb095e1[_0x2f5418(0x3c2)](/\s*$/)[0x0],_0x36bd67=_0xb095e1['trim']();return _0x2bb92b+'$'+_0x5b4278(_0x36bd67)+'$'+_0x4a5619;};_0x4d4e6e[_0xb817fe(0x220)](_0x4c2976=>{const _0x4ee822=_0xb817fe,_0x1b8bce=_0xb3eab(_0x4c2976);let _0xe1fdbe=_0x2d47a0(_0x1b8bce);_0xe1fdbe=_0xe1fdbe[_0x4ee822(0x5e3)](/\$([^$]*?)\$/g,(_0x5857de,_0x2968dd)=>'$'+_0x5b4278(_0x2968dd)+'$');const _0x314287=_0xe1fdbe['split'](/(\s+)/),_0xe42f81=_0x314287[_0x4ee822(0x598)](_0x12ff00=>/\s+/[_0x4ee822(0x323)](_0x12ff00)?_0x12ff00:_0x325572(_0x12ff00));_0xe1fdbe=_0xe42f81[_0x4ee822(0x53d)](''),_0xe1fdbe!==_0x1b8bce&&(_0x484bb(_0x4c2976,_0xe1fdbe),_0x1fa0ae++);});if(_0x1fa0ae>0x0){showMessage(_0xb817fe(0xa07)+_0x1fa0ae+_0xb817fe(0x8eb));try{if(window[_0xb817fe(0x5ed)]&&MathJax[_0xb817fe(0x3d1)])MathJax['typesetPromise']();}catch(_0x525527){}}else showMessage(_0xb817fe(0xbd5));}async function listenForCustomMathTopics(){const _0x191b37=_0x2f78fc,_0x2eb277=collection(db,'artifacts/'+appId+_0x191b37(0x3a6));onSnapshot(_0x2eb277,_0x5e28b5=>{const _0x253664=_0x191b37;customMathTopics=_0x5e28b5[_0x253664(0x2ea)]['map'](_0x3b6b8e=>({'id':_0x3b6b8e['id'],..._0x3b6b8e[_0x253664(0xc89)]()})),renderTopicCheckboxes();},_0x364a9c=>{const _0x4e6bb3=_0x191b37;console[_0x4e6bb3(0x40f)](_0x4e6bb3(0xa4a),_0x364a9c);});}function handleSelectAllTopics(){const _0x424e42=_0x2f78fc,_0x3167da=document[_0x424e42(0x288)](_0x424e42(0xb08)),_0xf14720=_0x3167da[_0x424e42(0x3db)]('input[type=\x22checkbox\x22]');_0xf14720['forEach'](_0x4ba400=>{const _0x4b2054=_0x424e42;_0x4ba400[_0x4b2054(0xbe3)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xe031ac=_0x2f78fc,_0x189377=document[_0xe031ac(0x288)](_0xe031ac(0xb08)),_0x48fecb=_0x189377[_0xe031ac(0x3db)]('input[type=\x22checkbox\x22]');_0x48fecb[_0xe031ac(0x220)](_0x3066db=>{const _0x39adfc=_0xe031ac;_0x3066db[_0x39adfc(0xbe3)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1bffe6){const _0x56f969=_0x2f78fc;if(!_0x1bffe6)return;try{const _0x140b0f=doc(db,_0x56f969(0x309)+appId+'/public/data/customMathTopics',_0x1bffe6);await deleteDoc(_0x140b0f),showMessage(_0x56f969(0x9ce));}catch(_0x5e2623){console[_0x56f969(0x40f)]('Error\x20deleting\x20custom\x20topic:',_0x5e2623),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x2d7904=_0x2f78fc,_0x4ac78f=document[_0x2d7904(0x288)](_0x2d7904(0x3d2)),_0x9845cd=_0x4ac78f[_0x2d7904(0x63b)][_0x2d7904(0x8e1)]();if(!_0x9845cd){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x5cecbe=collection(db,_0x2d7904(0x309)+appId+'/public/data/customMathTopics');await addDoc(_0x5cecbe,{'name':_0x9845cd,'createdAt':serverTimestamp()}),_0x4ac78f[_0x2d7904(0x63b)]='',showMessage(_0x2d7904(0x697)+_0x9845cd+_0x2d7904(0x475));}catch(_0x1e940b){console[_0x2d7904(0x40f)]('Error\x20adding\x20custom\x20topic:',_0x1e940b),showMessage(_0x2d7904(0x6f4));}}async function handleUpdateOldQuizzes(){const _0x4e3e3f=_0x2f78fc;showConfirmation(_0x4e3e3f(0x73f),async()=>{const _0xd726de=_0x4e3e3f,_0x11d108=document['getElementById'](_0xd726de(0x308)),_0x173f12=document[_0xd726de(0x288)](_0xd726de(0x948)),_0x5ec28f=_0x173f12['textContent'];_0x11d108['classList'][_0xd726de(0xc4b)](_0xd726de(0x4c5)),_0x173f12[_0xd726de(0xb10)]=_0xd726de(0xb20);try{const _0x18a1bd=collection(db,_0xd726de(0x309)+appId+_0xd726de(0x480)),_0x134fc2=await getDocs(_0x18a1bd);if(_0x134fc2[_0xd726de(0x339)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x29e23c=writeBatch(db);let _0x2c8479=0x0;_0x134fc2[_0xd726de(0x220)](_0x342fe1=>{const _0x5f1a51=_0xd726de,_0x48ca04=_0x342fe1[_0x5f1a51(0xc89)](),_0x3b07ec=_0x342fe1['id'];if(_0x48ca04[_0x5f1a51(0xc81)]&&_0x48ca04[_0x5f1a51(0xc81)][_0x5f1a51(0x649)]>0x0&&!_0x48ca04['questions'][0x0][_0x5f1a51(0xae0)]('id')){console[_0x5f1a51(0x516)](_0x5f1a51(0x8e8)+_0x3b07ec+'\x20('+_0x48ca04['topic']+')'),_0x2c8479++;const _0x450a55=_0x48ca04['questions'][_0x5f1a51(0x598)]((_0x45b464,_0x492db7)=>{return{..._0x45b464,'id':_0x45b464['id']||'q_'+Date['now']()+'_'+_0x3b07ec+'_'+_0x492db7};}),_0x49b959=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3b07ec);_0x29e23c[_0x5f1a51(0xa27)](_0x49b959,{'questions':_0x450a55});}}),_0x2c8479>0x0?(_0x173f12[_0xd726de(0xb10)]=_0xd726de(0x23b)+_0x2c8479+'\x20รายการ...',await _0x29e23c[_0xd726de(0x1f1)](),showMessage(_0xd726de(0x22c)+_0x2c8479+_0xd726de(0x9ac))):showMessage(_0xd726de(0x6de));}catch(_0xe6eb78){console[_0xd726de(0x40f)](_0xd726de(0x1b2),_0xe6eb78),showMessage(_0xd726de(0x93a)+_0xe6eb78[_0xd726de(0x42d)]);}finally{_0x11d108[_0xd726de(0xa39)][_0xd726de(0x5c0)](_0xd726de(0x4c5)),_0x173f12[_0xd726de(0xb10)]=_0x5ec28f;}});}async function handleBulkUpdateQuizSettings(){const _0x4ac35f=_0x2f78fc,_0x2583ef={'shuffle':document[_0x4ac35f(0x288)](_0x4ac35f(0xc4c))[_0x4ac35f(0x63b)],'resultsDisplay':document['getElementById'](_0x4ac35f(0xae9))[_0x4ac35f(0x63b)],'loopUntilPass':document[_0x4ac35f(0x288)](_0x4ac35f(0xc2f))[_0x4ac35f(0xbe3)],'isConfidenceScoringEnabled':document[_0x4ac35f(0x288)](_0x4ac35f(0xa28))[_0x4ac35f(0xbe3)],'confidenceMode':document[_0x4ac35f(0x288)]('bulk-confidence-mode-select')[_0x4ac35f(0x63b)]};try{showMessage(_0x4ac35f(0x22e));const _0x426921=await getDocs(collection(db,_0x4ac35f(0x309)+appId+_0x4ac35f(0x480))),_0x12b3f8=_0x426921['docs']['map'](_0x36324e=>({'id':_0x36324e['id'],'data':_0x36324e[_0x4ac35f(0xc89)]()})),_0xada390=_0x12b3f8[_0x4ac35f(0x649)];showConfirmation(_0x4ac35f(0x91d)+_0xada390+_0x4ac35f(0xb6b),async()=>{const _0x35f152=_0x4ac35f,_0x30ca56=document['getElementById'](_0x35f152(0x268));_0x30ca56['disabled']=!![],_0x30ca56[_0x35f152(0x5f0)]=_0x35f152(0x982);try{const _0x2228d5=writeBatch(db);_0x12b3f8[_0x35f152(0x220)](_0x42c3ce=>{const _0x1b412c=_0x35f152,_0x365d54=doc(db,_0x1b412c(0x309)+appId+_0x1b412c(0x480),_0x42c3ce['id']),_0x3f8933={..._0x42c3ce[_0x1b412c(0xc89)][_0x1b412c(0x580)]||{},..._0x2583ef};_0x2228d5[_0x1b412c(0xa27)](_0x365d54,{'settings':_0x3f8933});}),await _0x2228d5[_0x35f152(0x1f1)](),document[_0x35f152(0x288)](_0x35f152(0x4a2))['classList'][_0x35f152(0x5c0)]('hidden'),showMessage(_0x35f152(0x87a)+_0xada390+_0x35f152(0x956));}catch(_0x20889c){console['error'](_0x35f152(0x411),_0x20889c),showMessage(_0x35f152(0x530));}finally{_0x30ca56['disabled']=![],_0x30ca56[_0x35f152(0x5f0)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x4c301b){console[_0x4ac35f(0x40f)](_0x4ac35f(0xb64),_0x4c301b),showMessage(_0x4ac35f(0x73d));}}async function handleSaveProjectName(){const _0x5c0f9a=_0x2f78fc,_0x14bc34=document['getElementById'](_0x5c0f9a(0xaba)),_0x54a68e=document[_0x5c0f9a(0x288)]('save-project-name-btn'),_0x26393c=_0x14bc34[_0x5c0f9a(0xb10)][_0x5c0f9a(0x8e1)]();if(!_0x26393c||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x14bc34['textContent']=currentProjectData['projectName'];return;}_0x54a68e['disabled']=!![],_0x54a68e['innerHTML']=_0x5c0f9a(0xc6a);try{const _0x1a2706=doc(db,_0x5c0f9a(0x309)+appId+_0x5c0f9a(0x498),currentProjectId);await updateDoc(_0x1a2706,{'projectName':_0x26393c}),currentProjectData&&(currentProjectData['projectName']=_0x26393c),showMessage(_0x5c0f9a(0x6be));}catch(_0x4abfda){console[_0x5c0f9a(0x40f)](_0x5c0f9a(0xcfe),_0x4abfda),showMessage(_0x5c0f9a(0x1bc)),_0x14bc34[_0x5c0f9a(0xb10)]=currentProjectData[_0x5c0f9a(0xc51)];}finally{_0x54a68e[_0x5c0f9a(0xa39)][_0x5c0f9a(0x5c0)]('hidden'),_0x54a68e[_0x5c0f9a(0x9e8)]=![],_0x54a68e[_0x5c0f9a(0x5f0)]=_0x5c0f9a(0x7a0);}}function handleGeneratePracticeTest(_0x328a63,_0x299a46){const _0x5aa3e7=_0x2f78fc,_0x5bce16=document[_0x5aa3e7(0x288)](_0x5aa3e7(0x404)),_0x12070d=document[_0x5aa3e7(0x288)]('lesson-view-title'),_0x2a07af=document[_0x5aa3e7(0x288)](_0x5aa3e7(0x549)),_0x1429c0=document[_0x5aa3e7(0x288)]('lesson-sections-container');_0x12070d['textContent']=_0x5aa3e7(0xa7e)+_0x328a63,_0x1429c0[_0x5aa3e7(0xa39)]['add'](_0x5aa3e7(0x4c5)),_0x2a07af[_0x5aa3e7(0xa39)][_0x5aa3e7(0xc4b)](_0x5aa3e7(0x4c5)),_0x5bce16[_0x5aa3e7(0xa39)]['remove']('hidden'),generatePracticeTest(_0x328a63,_0x299a46)[_0x5aa3e7(0x503)](_0xa25886=>{const _0x7193c=_0x5aa3e7;console[_0x7193c(0x40f)](_0x7193c(0x33d),_0xa25886),showMessage(_0x7193c(0x844)),_0x5bce16[_0x7193c(0xa39)][_0x7193c(0x5c0)](_0x7193c(0x4c5));});}async function generatePracticeTest(_0xf97077,_0x20c62b){const _0x29910b=_0x2f78fc;['pointContent',_0x29910b(0x6c9),'applicationContent','summaryContent']['forEach'](_0x5f3945=>{const _0x5a82f3=_0x29910b,_0x5ad223=document['getElementById'](_0x5f3945)[_0x5a82f3(0xcdb)];_0x5ad223&&(_0x5ad223['style'][_0x5a82f3(0xc7a)]=_0x5a82f3(0x2fa));});try{const _0x17bdee=_0x29910b(0x3b0),_0x3f004b=_0x29910b(0x43d)+_0x20c62b+_0x29910b(0xcda)+_0xf97077+_0x29910b(0x297),_0x34564b=await callGemini(_0x3f004b,!![]),_0x5d6c9f=document[_0x29910b(0x288)](_0x29910b(0x9cc)),_0x26610b=document[_0x29910b(0x288)](_0x29910b(0x549)),_0xa53a73=document[_0x29910b(0x288)](_0x29910b(0xc1c)),_0x5e9760=document[_0x29910b(0x288)](_0x29910b(0xbb7))['parentElement'];_0x5d6c9f[_0x29910b(0x633)]=_0x29910b(0x419)+_0xf97077[_0x29910b(0x5e3)](/•\s/g,'')+_0x29910b(0x8d7)+_0x20c62b+')',currentApplicationData=JSON[_0x29910b(0x560)](_0x34564b);const _0x3f831a=document[_0x29910b(0x288)](_0x29910b(0xbb7));_0x3f831a[_0x29910b(0x5f0)]=currentApplicationData[_0x29910b(0x598)]((_0x51ec38,_0x1cebf2)=>_0x29910b(0x273)+(_0x1cebf2+0x1)+'.\x20'+marked['parseInline'](_0x51ec38['question'])+_0x29910b(0x400)+_0x1cebf2+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51ec38[_0x29910b(0x67e)][_0x29910b(0x598)]((_0x1c0a56,_0x1d0ada)=>_0x29910b(0xa6f)+_0x1cebf2+',\x20'+_0x1d0ada+_0x29910b(0x39f)+String[_0x29910b(0x916)](0x61+_0x1d0ada)+'.\x20'+marked['parseInline'](_0x1c0a56)+_0x29910b(0xcd3))[_0x29910b(0x53d)]('')+_0x29910b(0x8ff))[_0x29910b(0x53d)](''),window[_0x29910b(0x5ed)]&&MathJax[_0x29910b(0x3d1)]([_0x3f831a]),_0x5e9760&&(_0x5e9760['style'][_0x29910b(0xc7a)]='block'),_0x26610b[_0x29910b(0xa39)]['add'](_0x29910b(0x4c5)),_0xa53a73[_0x29910b(0xa39)][_0x29910b(0xc4b)](_0x29910b(0x4c5));}catch(_0x351e70){console[_0x29910b(0x40f)](_0x351e70);throw _0x351e70;}}async function callGemini(_0xdd648a,_0x592760=![]){const _0x2ba58d=_0x2f78fc,_0x3d64aa=_0x2ba58d(0xca9),_0xcfe741=_0x2ba58d(0xd04)+_0x3d64aa,_0x12abd9={'contents':[{'parts':[{'text':_0xdd648a}]}]};_0x592760&&(_0x12abd9[_0x2ba58d(0xb2e)]={'responseMimeType':_0x2ba58d(0xd18)},_0xdd648a[_0x2ba58d(0x96b)]('Test\x20Blueprint')?_0x12abd9[_0x2ba58d(0xb2e)]['responseSchema']={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x2ba58d(0xb29),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x2ba58d(0x395)},'mainTopics':{'type':_0x2ba58d(0xb29),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x2ba58d(0x395)},'subTopics':{'type':'ARRAY','items':{'type':_0x2ba58d(0x395)}}},'required':[_0x2ba58d(0x8b1),_0x2ba58d(0x6ef)]}}},'required':[_0x2ba58d(0x27b),'mainTopics']}}},'required':[_0x2ba58d(0xc92),'curriculum']}:_0x12abd9[_0x2ba58d(0xb2e)]['responseSchema']={'type':_0x2ba58d(0xb29),'items':{'type':'OBJECT','properties':{'question':{'type':_0x2ba58d(0x395)},'options':{'type':_0x2ba58d(0xb29),'items':{'type':_0x2ba58d(0x395)}},'answer':{'type':_0x2ba58d(0x50d)}},'required':['question',_0x2ba58d(0x67e),'answer']}});try{const _0x2579d2=await fetch(_0xcfe741,{'method':_0x2ba58d(0x9b6),'headers':{'Content-Type':_0x2ba58d(0xd18)},'body':JSON[_0x2ba58d(0x6aa)](_0x12abd9)});if(!_0x2579d2['ok']){const _0x16efa9=await _0x2579d2[_0x2ba58d(0x537)]();console[_0x2ba58d(0x40f)](_0x2ba58d(0xa89),_0x16efa9);throw new Error(_0x2ba58d(0x2e4)+_0x2579d2[_0x2ba58d(0xa78)]);}const _0x2779f5=await _0x2579d2[_0x2ba58d(0xb61)]();if(_0x2779f5[_0x2ba58d(0xb0a)]&&_0x2779f5['candidates'][0x0][_0x2ba58d(0x42a)]&&_0x2779f5[_0x2ba58d(0xb0a)][0x0][_0x2ba58d(0x42a)][_0x2ba58d(0x87d)][0x0])return _0x2779f5['candidates'][0x0]['content'][_0x2ba58d(0x87d)][0x0][_0x2ba58d(0x537)];else{console[_0x2ba58d(0x40f)](_0x2ba58d(0x6d1),_0x2779f5);if(_0x2779f5[_0x2ba58d(0xb0a)]&&_0x2779f5[_0x2ba58d(0xb0a)][0x0][_0x2ba58d(0x870)]===_0x2ba58d(0x8ac))return JSON['stringify']({'error':'เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย'});throw new Error(_0x2ba58d(0xa2d));}}catch(_0x3a9d31){console[_0x2ba58d(0x40f)](_0x2ba58d(0xa6e),_0x3a9d31);throw _0x3a9d31;}}async function generateLesson(_0xebb13f=null,_0x3843b6=null){const _0x35cce2=_0x2f78fc,_0x8a6625=_0xebb13f,_0x4aa9e2=_0x3843b6||_0x35cce2(0x2e2),_0x302c4a=document[_0x35cce2(0x288)]('lesson-loader'),_0x1c856b=document[_0x35cce2(0x288)](_0x35cce2(0x653));_0x1c856b[_0x35cce2(0xb10)]=_0x35cce2(0x388)+_0x8a6625+'\x22...';try{const _0x5d6fe4=_0x35cce2(0x1ba),_0x5c7817=_0x35cce2(0x8ce)+_0x4aa9e2+_0x35cce2(0xcda)+_0x8a6625+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x5d6fe4+_0x35cce2(0xcca),_0x570551=_0x35cce2(0x705)+_0x8a6625+_0x35cce2(0x61f)+_0x4aa9e2+_0x35cce2(0x76b)+_0x5d6fe4+_0x35cce2(0x2df),_0x150b28='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4aa9e2+_0x35cce2(0xcda)+_0x8a6625+_0x35cce2(0xac8)+_0x5d6fe4+_0x35cce2(0x863),_0x581952=_0x35cce2(0x993)+_0x8a6625+_0x35cce2(0x7aa)+_0x4aa9e2+_0x35cce2(0x62b)+_0x5d6fe4+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',[_0x306721,_0x4b442b,_0x39cadb,_0x30c17e]=await Promise[_0x35cce2(0x1da)]([callGemini(_0x5c7817),callGemini(_0x570551),callGemini(_0x150b28,!![]),callGemini(_0x581952)]),_0x4c5196=document['getElementById'](_0x35cce2(0x9cc)),_0x5b1cde=document[_0x35cce2(0x288)]('lesson-sections-container');_0x4c5196[_0x35cce2(0x633)]=_0x35cce2(0x97b)+_0x8a6625['replace'](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x4aa9e2+')',[_0x35cce2(0x9e2),_0x35cce2(0x6c9),_0x35cce2(0x59b)][_0x35cce2(0x220)](_0x473555=>{const _0x33b69a=_0x35cce2;document[_0x33b69a(0x288)](_0x473555)[_0x33b69a(0x5f0)]='';}),document[_0x35cce2(0x288)](_0x35cce2(0x9e2))[_0x35cce2(0x5f0)]=marked[_0x35cce2(0x560)](_0x306721),document['getElementById'](_0x35cce2(0x6c9))[_0x35cce2(0x5f0)]=marked[_0x35cce2(0x560)](_0x4b442b),document[_0x35cce2(0x288)](_0x35cce2(0x59b))[_0x35cce2(0x5f0)]=marked[_0x35cce2(0x560)](_0x30c17e),currentApplicationData=JSON['parse'](_0x39cadb);const _0xa3e886=document[_0x35cce2(0x288)](_0x35cce2(0xbb7));_0xa3e886[_0x35cce2(0x5f0)]=currentApplicationData[_0x35cce2(0x598)]((_0x32961d,_0x1965d4)=>_0x35cce2(0x273)+(_0x1965d4+0x1)+'.\x20'+marked[_0x35cce2(0x3a1)](_0x32961d['question'])+_0x35cce2(0x400)+_0x1965d4+_0x35cce2(0x462)+_0x32961d[_0x35cce2(0x67e)][_0x35cce2(0x598)]((_0x4a2bde,_0x461e45)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x1965d4+',\x20'+_0x461e45+_0x35cce2(0x39f)+String['fromCharCode'](0x61+_0x461e45)+'.\x20'+marked[_0x35cce2(0x3a1)](_0x4a2bde)+_0x35cce2(0xcd3))[_0x35cce2(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x35cce2(0x53d)](''),window[_0x35cce2(0x5ed)]&&MathJax['typesetPromise']([_0x5b1cde]),_0x302c4a[_0x35cce2(0xa39)][_0x35cce2(0x5c0)](_0x35cce2(0x4c5)),_0x5b1cde['classList'][_0x35cce2(0xc4b)](_0x35cce2(0x4c5));}catch(_0x21a3e6){console[_0x35cce2(0x40f)](_0x21a3e6);throw _0x21a3e6;}}function checkAnswer(_0x467bd5,_0x939135){const _0x127f09=_0x2f78fc,_0x263b9d=currentApplicationData[_0x467bd5],_0x1fb8f7=document[_0x127f09(0x288)]('q'+_0x467bd5+'-options'),_0x117fdc=_0x1fb8f7[_0x127f09(0x82e)](_0x127f09(0xb6d));for(let _0xe292cd of _0x117fdc){_0xe292cd[_0x127f09(0x9e8)]=!![];}_0x939135===_0x263b9d[_0x127f09(0x922)]?_0x117fdc[_0x939135][_0x127f09(0xa39)][_0x127f09(0x5c0)](_0x127f09(0xa0e)):(_0x117fdc[_0x939135][_0x127f09(0xa39)]['add']('incorrect'),_0x117fdc[_0x263b9d[_0x127f09(0x922)]]['classList'][_0x127f09(0x5c0)](_0x127f09(0xa0e)));}window[_0x2f78fc(0x923)]=handleGenerateAndShowLesson,window[_0x2f78fc(0x727)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x516c76=_0x2f78fc;try{const _0x30e847=initializeApp(firebaseConfig);db=getFirestore(_0x30e847),auth=getAuth(_0x30e847),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x2a2e1f){console[_0x516c76(0x40f)](_0x516c76(0xcac),_0x2a2e1f),showMessage(_0x516c76(0xada));}}async function handleVerifyAnswersInEditor(){const _0x116f9e=_0x2f78fc,_0x9a0d28=document['getElementById'](_0x116f9e(0xc54));if(!_0x9a0d28)return;const _0x4e0f0c=document[_0x116f9e(0x288)](_0x116f9e(0xac6));_0x4e0f0c[_0x116f9e(0x9e8)]=!![],_0x4e0f0c[_0x116f9e(0x5f0)]=_0x116f9e(0x5ce);try{const _0x292852=_0x9a0d28[_0x116f9e(0x3db)](_0x116f9e(0x9ef)),_0x2418c8=Array[_0x116f9e(0x4f5)](_0x292852)[_0x116f9e(0x598)]((_0x233167,_0x4b6773)=>{const _0x55a94c=_0x116f9e,_0x5a0b78=_0x233167[_0x55a94c(0xa66)]['qType'],_0x51c8bf=_0x233167['querySelector']('textarea')[_0x55a94c(0x63b)];let _0xa285e4=null,_0x4f6af2='';switch(_0x5a0b78){case _0x55a94c(0x318):const _0x2317ce=_0x233167[_0x55a94c(0x3db)](_0x55a94c(0x55e));_0xa285e4=Array['from'](_0x2317ce)[_0x55a94c(0x598)](_0x1f7334=>_0x1f7334[_0x55a94c(0x63b)]);const _0x998d9f=_0x233167[_0x55a94c(0x2ee)](_0x55a94c(0xbd6));_0x998d9f&&(_0x4f6af2=_0xa285e4[parseInt(_0x998d9f['value'])]);break;case _0x55a94c(0x59a):_0x4f6af2=_0x233167[_0x55a94c(0x2ee)](_0x55a94c(0x431))[_0x55a94c(0x63b)];break;case _0x55a94c(0x253):const _0x84f65d=_0x233167[_0x55a94c(0x2ee)](_0x55a94c(0xbd6));_0x4f6af2=_0x84f65d?_0x84f65d['value']:'';break;case _0x55a94c(0x5b0):_0x4f6af2=_0x233167[_0x55a94c(0x2ee)]('.correct-response-input')[_0x55a94c(0x63b)];break;}return{'question':_0x51c8bf,'options':_0xa285e4,'proposedAnswer':_0x4f6af2};}),_0x4f4cd7=_0x116f9e(0xa6c)+JSON[_0x116f9e(0x6aa)](_0x2418c8)+_0x116f9e(0x81a),_0xdef775={'type':_0x116f9e(0xb29),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x116f9e(0x395)}},'required':[_0x116f9e(0x542),_0x116f9e(0x8bd),'justification']}},_0x26f667=await callAnalysisApi(_0x4f4cd7,{'type':_0x116f9e(0x91b),'properties':{'result':_0xdef775},'required':[_0x116f9e(0xc80)]});displayVerificationResultsInEditor(_0x26f667['result']);}catch(_0x3fb9c2){console[_0x116f9e(0x40f)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x3fb9c2),showMessage(_0x116f9e(0x6b4));}finally{_0x4e0f0c[_0x116f9e(0x9e8)]=![],_0x4e0f0c['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x1b6f71){const _0x5d4791=_0x2f78fc;_0x1b6f71[_0x5d4791(0x220)](_0x595016=>{const _0x3640a2=_0x5d4791,_0x5aa777=document[_0x3640a2(0x2ee)](_0x3640a2(0xbc3)+_0x595016[_0x3640a2(0x542)]+'\x22]');if(!_0x5aa777)return;const _0x3cac06=_0x5aa777[_0x3640a2(0x2ee)](_0x3640a2(0x9b5));if(_0x3cac06)_0x3cac06[_0x3640a2(0xc4b)]();let _0x2afa09='';if(_0x595016[_0x3640a2(0x8bd)])_0x2afa09=_0x3640a2(0x2b4);else{const _0x2513e0=_0x595016[_0x3640a2(0x4ef)]?_0x3640a2(0x354):'';_0x2afa09='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x2513e0+_0x3640a2(0xcf8)+_0x595016['justification']+_0x3640a2(0x528)+(_0x595016['suggestedAnswer']?_0x3640a2(0x7bd)+_0x595016['suggestedAnswer']+_0x3640a2(0x4d3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x5aa777['insertAdjacentHTML']('beforeend',_0x2afa09);if(!_0x595016[_0x3640a2(0x8bd)]&&_0x595016[_0x3640a2(0x4ef)]){const _0x29d902=_0x5aa777['dataset']['qType'],_0x19d5af=_0x55ab12=>{const _0x2414f1=_0x3640a2;if(!_0x55ab12)return;_0x55ab12['classList'][_0x2414f1(0x5c0)](_0x2414f1(0xb7b),_0x2414f1(0x9ed),'duration-300'),setTimeout(()=>{const _0x252758=_0x2414f1;_0x55ab12[_0x252758(0xa39)][_0x252758(0xc4b)]('bg-green-200');},0x9c4);};if(_0x29d902===_0x3640a2(0x318)){const _0x254379=Array[_0x3640a2(0x4f5)](_0x5aa777[_0x3640a2(0x3db)](_0x3640a2(0x55e))),_0x2690af=_0x254379[_0x3640a2(0x6f6)](_0x2e7c50=>_0x2e7c50[_0x3640a2(0x63b)][_0x3640a2(0x8e1)]()[_0x3640a2(0x1f2)]()===_0x595016[_0x3640a2(0x4ef)][_0x3640a2(0x8e1)]()[_0x3640a2(0x1f2)]());if(_0x2690af!==-0x1){const _0x2d9a4d=_0x5aa777[_0x3640a2(0x2ee)](_0x3640a2(0x7c6)+_0x2690af+'\x22]');_0x2d9a4d&&(_0x2d9a4d['checked']=!![],_0x19d5af(_0x2d9a4d[_0x3640a2(0x6d3)](_0x3640a2(0x49e))));}}else{if(_0x29d902===_0x3640a2(0x59a)||_0x29d902===_0x3640a2(0x5b0)){const _0x267d94=_0x5aa777[_0x3640a2(0x2ee)](_0x3640a2(0x453));_0x267d94&&(_0x267d94[_0x3640a2(0x63b)]=_0x595016[_0x3640a2(0x4ef)],_0x19d5af(_0x267d94));}else{if(_0x29d902==='true_false'){const _0x3c2879=_0x595016['suggestedAnswer']['trim']()[_0x3640a2(0x1f2)](),_0x3bb15c=_0x5aa777[_0x3640a2(0x2ee)]('input[type=\x22radio\x22][value=\x22'+_0x3c2879+'\x22]');_0x3bb15c&&(_0x3bb15c[_0x3640a2(0xbe3)]=!![],_0x19d5af(_0x3bb15c[_0x3640a2(0x6d3)](_0x3640a2(0x49e))));}}}}}),showMessage(_0x5d4791(0x623));}async function handleVerifyAnswers(){const _0x1a3d1e=_0x2f78fc;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x1a3d1e(0x1b9));return;}const _0x49ae00=document[_0x1a3d1e(0x288)]('verify-answers-btn');_0x49ae00[_0x1a3d1e(0x9e8)]=!![],_0x49ae00[_0x1a3d1e(0x5f0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x5d45df=currentQuizData['questions'][_0x1a3d1e(0x598)]((_0x1de17c,_0x47b94d)=>{const _0x4e6b51=_0x1a3d1e;let _0x417302='';const _0x4f2c93=_0x1de17c[_0x4e6b51(0x8a4)]||currentQuizData[_0x4e6b51(0x58f)];switch(_0x4f2c93){case'multiple_choice':_0x417302=_0x1de17c[_0x4e6b51(0x67e)][_0x1de17c['correctAnswerIndex']];break;case _0x4e6b51(0x59a):_0x417302=_0x1de17c['idealAnswer'];break;case _0x4e6b51(0x253):_0x417302=_0x1de17c['correctAnswer'][_0x4e6b51(0x2d0)]();break;case _0x4e6b51(0x5b0):_0x417302=_0x1de17c[_0x4e6b51(0x2c7)];break;}return{'question':_0x1de17c['stem']||_0x1de17c[_0x4e6b51(0x9fb)],'options':_0x1de17c['options']||null,'proposedAnswer':_0x417302};}),_0x5baf17=_0x1a3d1e(0xcc3)+JSON[_0x1a3d1e(0x6aa)](_0x5d45df)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x339ebe={'type':'ARRAY','items':{'type':_0x1a3d1e(0x91b),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1a3d1e(0xc66)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':['questionIndex',_0x1a3d1e(0x8bd),_0x1a3d1e(0x4e0)]}},_0x40317b=await callAnalysisApi(_0x5baf17,{'type':_0x1a3d1e(0x91b),'properties':{'result':_0x339ebe},'required':[_0x1a3d1e(0xc80)]});displayVerificationResults(_0x40317b[_0x1a3d1e(0xc80)]);}catch(_0x1f7c54){console[_0x1a3d1e(0x40f)](_0x1a3d1e(0x526),_0x1f7c54),showMessage(_0x1a3d1e(0x6b4));}finally{_0x49ae00[_0x1a3d1e(0x9e8)]=![],_0x49ae00['innerHTML']=_0x1a3d1e(0x71e);}}function displayVerificationResults(_0x4d9bcf){const _0x37e156=_0x2f78fc;_0x4d9bcf['forEach'](_0x226bc5=>{const _0x12ea70=_0x43c7,_0x12860c=document[_0x12ea70(0x2ee)](_0x12ea70(0x336)+_0x226bc5[_0x12ea70(0x542)]+'\x22]');if(_0x12860c){const _0x4a6ce9=_0x12860c['querySelector'](_0x12ea70(0x67b));if(_0x4a6ce9)_0x4a6ce9[_0x12ea70(0xc4b)]();let _0x344ba6='';_0x226bc5[_0x12ea70(0x8bd)]?_0x344ba6=_0x12ea70(0x97d):_0x344ba6=_0x12ea70(0x4d0)+_0x226bc5['justification']+_0x12ea70(0x706)+(_0x226bc5['suggestedAnswer']?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x226bc5[_0x12ea70(0x4ef)]+_0x12ea70(0x4d3):'')+_0x12ea70(0x52c),_0x12860c[_0x12ea70(0x31e)](_0x12ea70(0x469),_0x344ba6);}}),showMessage(_0x37e156(0x623));}function compareNumericalAnswers(_0xe955d3,_0xe94d1b){const _0x365fd3=_0x2f78fc,_0x502662=String(_0xe955d3)['replace'](',','.')[_0x365fd3(0x5e3)](/[^\d.-]/g,'')[_0x365fd3(0x8e1)](),_0x468391=String(_0xe94d1b)[_0x365fd3(0x5e3)](',','.')[_0x365fd3(0x5e3)](/[^\d.-]/g,'')['trim']();if(_0x502662===''||_0x468391==='')return![];const _0x2911fa=parseFloat(_0x502662),_0x5b1768=parseFloat(_0x468391);if(isNaN(_0x2911fa)||isNaN(_0x5b1768))return![];return Math[_0x365fd3(0x470)](_0x2911fa-_0x5b1768)<0.001;}function isPotentiallyNumeric(_0x56cc61){const _0xfe8860=_0x2f78fc;if(typeof _0x56cc61!==_0xfe8860(0xbbd)&&typeof _0x56cc61!==_0xfe8860(0x1e8))return![];const _0x3191cb=String(_0x56cc61)[_0xfe8860(0x5e3)](',','.')[_0xfe8860(0x8e1)]();return _0x3191cb!==''&&!isNaN(parseFloat(_0x3191cb))&&isFinite(_0x3191cb);}async function gradeShortAnswer(_0x2bc037,_0x5b7c51){const _0x5565e3=_0x2f78fc,_0x22282d=_0x5b7c51[_0x5565e3(0x558)],_0x3f4aeb=String(_0x2bc037)[_0x5565e3(0x5e3)](/\$/g,'')[_0x5565e3(0x8e1)](),_0x305724=String(_0x22282d)[_0x5565e3(0x5e3)](/\$/g,'')[_0x5565e3(0x8e1)]();if(_0x3f4aeb[_0x5565e3(0x1f2)]()===_0x305724[_0x5565e3(0x1f2)]())return!![];if(isPotentiallyNumeric(_0x3f4aeb)&&isPotentiallyNumeric(_0x305724)){if(compareNumericalAnswers(_0x3f4aeb,_0x305724))return!![];}return console['log'](_0x5565e3(0x40e)),await gradeShortAnswerWithAI(_0x2bc037,_0x22282d);}async function revealAnswerForAdmin(_0x5c7798,_0x4532f0){const _0x426257=_0x2f78fc,_0x5bfc10=doc(db,_0x426257(0x309)+appId+_0x426257(0x85f),currentLiveGameId);await updateDoc(_0x5bfc10,{'questionStatus':_0x426257(0x9ca)});}function showTop5LeaderboardView(_0x9c798){const _0x4433ff=_0x2f78fc,_0x586c1c=Object[_0x4433ff(0xa59)](_0x9c798['players']||{})['filter'](_0x308a9a=>_0x308a9a[_0x4433ff(0xa78)]==='active');_0x586c1c[_0x4433ff(0x310)]((_0x328056,_0x1fefdc)=>_0x1fefdc['score']-_0x328056[_0x4433ff(0x447)]);const _0xa49a8c=_0x586c1c['slice'](0x0,0x5),_0x5e4f91=_0x4433ff(0x432)+_0xa49a8c[_0x4433ff(0x598)]((_0xaae3a0,_0x559471)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x559471+0x1)+'.\x20'+(_0xaae3a0[_0x4433ff(0xb54)]||Object[_0x4433ff(0x695)](_0x9c798[_0x4433ff(0xa90)])[_0x4433ff(0x533)](_0x4c54e4=>_0x9c798[_0x4433ff(0xa90)][_0x4c54e4]===_0xaae3a0))+_0x4433ff(0xa47)+_0xaae3a0[_0x4433ff(0x447)]+_0x4433ff(0x208))[_0x4433ff(0x53d)]('')+_0x4433ff(0xa44)+(_0x9c798[_0x4433ff(0x8e0)]+0x1===currentQuizData['questions'][_0x4433ff(0x649)]?_0x4433ff(0xbb8):_0x4433ff(0x7cf))+_0x4433ff(0x80a);liveGameView[_0x4433ff(0x5f0)]=_0x5e4f91,document[_0x4433ff(0x288)](_0x4433ff(0x356))[_0x4433ff(0x5b2)]('click',async()=>{const _0x112fba=_0x4433ff,_0x4a76c1=doc(db,_0x112fba(0x309)+appId+_0x112fba(0x85f),currentLiveGameId),_0x3eeb3e=_0x9c798['currentQuestionIndex']+0x1;if(_0x3eeb3e<currentQuizData[_0x112fba(0xc81)][_0x112fba(0x649)]){const _0x4c815d={'currentQuestionIndex':_0x3eeb3e,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x112fba(0x695)](_0x9c798[_0x112fba(0xa90)])[_0x112fba(0x220)](_0x71f1f0=>{const _0x4ba87c=_0x112fba;_0x4c815d['players.'+_0x71f1f0+_0x4ba87c(0x2e9)]=![];}),await updateDoc(_0x4a76c1,_0x4c815d);}else await updateDoc(_0x4a76c1,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xa6df2b=>{const _0x5027cf=_0x43c7;if(_0xa6df2b){userId=_0xa6df2b[_0x5027cf(0xcb8)],userIdDisplay[_0x5027cf(0xb10)]=userId;const _0x1e5b79=await loadUserPreferences();_0x1e5b79['projectSortOrder']&&(document[_0x5027cf(0x288)](_0x5027cf(0xa95))['value']=_0x1e5b79[_0x5027cf(0x420)]);globalDashboardSettings[_0x5027cf(0x45f)]=_0x1e5b79['projectView']||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2b5399,_0x11d853){const _0x5968d2=_0x2f78fc;if(!userId)return;try{const _0x16c2d9=doc(db,'artifacts/'+appId+'/users/'+userId+_0x5968d2(0x4e8)),_0xaed5e7={};_0xaed5e7[_0x2b5399]=_0x11d853,await setDoc(_0x16c2d9,_0xaed5e7,{'merge':!![]});}catch(_0x33a222){console[_0x5968d2(0x40f)](_0x5968d2(0x6b6),_0x33a222);}}async function loadUserPreferences(){const _0x310b2b=_0x2f78fc;if(!userId)return{};try{const _0x5e247a=doc(db,_0x310b2b(0x309)+appId+_0x310b2b(0x584)+userId+_0x310b2b(0x4e8)),_0x579197=await getDoc(_0x5e247a);if(_0x579197[_0x310b2b(0x5e4)]())return _0x579197[_0x310b2b(0xc89)]();return{};}catch(_0x862774){return console[_0x310b2b(0x40f)](_0x310b2b(0xa61),_0x862774),{};}}function parseIndentedBlueprint(_0x4de8bc){const _0x5d4c56=_0x2f78fc,_0x2d57ff=_0x4de8bc['split']('\x0a')[_0x5d4c56(0x3e1)](_0x40f04c=>_0x40f04c[_0x5d4c56(0x8e1)]()!==''),_0x47cada=[];let _0x369a3f=null,_0x56a92e=null;return _0x2d57ff[_0x5d4c56(0x220)](_0x4dff55=>{const _0x49ead5=_0x5d4c56,_0x2d1e27=_0x4dff55[_0x49ead5(0x3c2)](/^\s*/)[0x0][_0x49ead5(0x649)],_0x7de995=_0x4dff55['trim']();if(_0x2d1e27===0x0)_0x369a3f={'sara':_0x7de995,'mainTopics':[]},_0x47cada[_0x49ead5(0x346)](_0x369a3f),_0x56a92e=null;else{if(_0x2d1e27>0x0&&_0x2d1e27<0x8&&_0x369a3f)_0x56a92e={'topicName':_0x7de995,'subTopics':[]},_0x369a3f[_0x49ead5(0x942)]['push'](_0x56a92e);else _0x2d1e27>=0x8&&_0x56a92e&&_0x56a92e['subTopics'][_0x49ead5(0x346)](_0x7de995);}}),{'curriculum':_0x47cada};}async function handleManualBlueprintSave(){const _0x4efffb=_0x2f78fc,_0x2b8591=document['getElementById'](_0x4efffb(0x5a7))['value'][_0x4efffb(0x8e1)](),_0x4a2ea5=document[_0x4efffb(0x288)](_0x4efffb(0xb7e))[_0x4efffb(0x63b)]['trim'](),_0x126298=document[_0x4efffb(0x288)](_0x4efffb(0x7c1))['value'];if(!_0x2b8591||!_0x4a2ea5||!_0x126298){showMessage(_0x4efffb(0x8f8));return;}const _0x267670=parseIndentedBlueprint(_0x126298);if(!_0x267670[_0x4efffb(0x6b7)]||_0x267670[_0x4efffb(0x6b7)][_0x4efffb(0x649)]===0x0){showMessage(_0x4efffb(0xc03));return;}const _0x2f4c00={};_0x267670[_0x4efffb(0x6b7)][_0x4efffb(0x220)](_0xd42004=>{const _0x22b802=_0x4efffb;_0xd42004[_0x22b802(0x942)][_0x22b802(0x220)](_0x143f63=>{const _0x12a52c=_0x22b802;_0x143f63[_0x12a52c(0x6ef)]['forEach'](_0x56c749=>{const _0x319201=_0x12a52c,_0x46e7eb=_0x319201(0x913)+Date['now']()+Math[_0x319201(0x40c)]()[_0x319201(0x2d0)](0x24)[_0x319201(0x4f9)](0x2,0x9);_0x2f4c00[_0x46e7eb]={'sara':_0xd42004['sara'],'mainTopic':_0x143f63[_0x319201(0x8b1)],'subTopic':_0x56c749,'status':'not_generated','lessonContent':null};});});});try{const _0x3a7975=collection(db,_0x4efffb(0x309)+appId+'/public/data/blueprintProjects');await addDoc(_0x3a7975,{'projectName':_0x2b8591,'gradeLevel':_0x4a2ea5,'topics':_0x2f4c00,'createdAt':serverTimestamp()}),showMessage(_0x4efffb(0x1c0)+_0x2b8591+_0x4efffb(0x436)),document[_0x4efffb(0x288)]('manual-blueprint-modal')['classList']['add'](_0x4efffb(0x4c5));}catch(_0x1d7756){console[_0x4efffb(0x40f)](_0x4efffb(0x2e7),_0x1d7756),showMessage(_0x4efffb(0x68c));}}function handleClearAllLinksForTopic(_0x12a34d){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x18ccc2=_0x43c7;try{const _0x1a612b=doc(db,'artifacts/'+appId+_0x18ccc2(0xd0b),currentBlueprintProjectId);await updateDoc(_0x1a612b,{['topics.'+_0x12a34d+_0x18ccc2(0x2dc)]:[]}),showMessage(_0x18ccc2(0x41e)),openTopicQuizBank(_0x12a34d),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x395a6){console[_0x18ccc2(0x40f)]('Error\x20clearing\x20all\x20links:',_0x395a6),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x11ad33,_0x14d187=_0x2f78fc(0x25c)){const _0x27cce2=_0x2f78fc,_0x2a0e66=Object['entries'](_0x11ad33)[_0x27cce2(0x598)](([_0x111e91,_0x475c7a])=>({'name':_0x111e91,'score':_0x475c7a[_0x27cce2(0x447)]||0x0,'badges':_0x475c7a[_0x27cce2(0x6c3)]||[],'hasPerfectScoreBonus':_0x475c7a[_0x27cce2(0x1c3)]||![]}));_0x2a0e66[_0x27cce2(0x310)]((_0x3e140d,_0x5b8761)=>{const _0x46ee80=_0x27cce2,_0x3a8d74=_0x5b8761['score']-_0x3e140d[_0x46ee80(0x447)];if(_0x3a8d74!==0x0)return _0x3a8d74;return(_0x5b8761[_0x46ee80(0x6c3)][_0x46ee80(0x649)]||0x0)-(_0x3e140d['badges'][_0x46ee80(0x649)]||0x0);});const _0x5036d6=_0x2c6326=>{const _0xbfe50d=_0x27cce2;if(!_0x2c6326||_0x2c6326[_0xbfe50d(0x649)]===0x0)return'';const _0x5dc393={'quick_thinker':'⚡️','on_fire':'🔥'};return _0xbfe50d(0x421)+_0x2c6326['map'](_0x412ef5=>_0x5dc393[_0x412ef5]||'')[_0xbfe50d(0x53d)]('')+'</div>';},_0x4ebe05=_0x2a0e66[_0x27cce2(0xacc)](0x3),_0x1c2b92=_0x4ebe05[_0x27cce2(0x649)]>0x0?_0x27cce2(0x243)+_0x4ebe05[_0x27cce2(0x598)]((_0xbe985e,_0x103a1d)=>{const _0x4f8990=_0x27cce2,_0x15377c=_0xbe985e[_0x4f8990(0x1c3)]?_0x4f8990(0x81f):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x103a1d+0x4)+_0x4f8990(0x787)+_0xbe985e[_0x4f8990(0xb54)]+_0x4f8990(0xc21)+_0xbe985e[_0x4f8990(0x447)]+_0x4f8990(0x5c9)+_0x15377c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x27cce2(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x19d980=_0x27cce2(0x9d5)+(_0x2a0e66[0x1]?_0x27cce2(0x734)+_0x2a0e66[0x1][_0x27cce2(0xb54)]+'</p>'+_0x5036d6(_0x2a0e66[0x1][_0x27cce2(0x6c3)])+_0x27cce2(0x64c)+_0x2a0e66[0x1]['score']+_0x27cce2(0x5c9)+(_0x2a0e66[0x1][_0x27cce2(0x1c3)]?_0x27cce2(0x8b2):'')+_0x27cce2(0x8d2):_0x27cce2(0xb8e))+_0x27cce2(0x517)+(_0x2a0e66[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x2a0e66[0x0][_0x27cce2(0xb54)]+_0x27cce2(0x4d3)+_0x5036d6(_0x2a0e66[0x0][_0x27cce2(0x6c3)])+_0x27cce2(0x372)+_0x2a0e66[0x0][_0x27cce2(0x447)]+_0x27cce2(0x5c9)+(_0x2a0e66[0x0]['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x27cce2(0x9b3):_0x27cce2(0xb8e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2a0e66[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2a0e66[0x2]['name']+'</p>'+_0x5036d6(_0x2a0e66[0x2][_0x27cce2(0x6c3)])+_0x27cce2(0x64c)+_0x2a0e66[0x2]['score']+_0x27cce2(0x5c9)+(_0x2a0e66[0x2]['hasPerfectScoreBonus']?_0x27cce2(0x8b2):'')+_0x27cce2(0xb99):_0x27cce2(0xb8e))+_0x27cce2(0x2f1)+_0x1c2b92+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x27cce2(0x290)?_0x27cce2(0x282):_0x27cce2(0x904))+_0x27cce2(0x703);liveGameView[_0x27cce2(0x5f0)]=_0x19d980,currentMode===_0x27cce2(0x290)&&document['getElementById'](_0x27cce2(0x9a9))[_0x27cce2(0x5b2)](_0x27cce2(0x8d9),async()=>{const _0xc8eb13=_0x27cce2;let _0x3cded6;_0x14d187===_0xc8eb13(0x97a)?_0x3cded6=doc(db,_0xc8eb13(0x309)+appId+_0xc8eb13(0x2a5),currentLiveGameId):_0x3cded6=doc(db,_0xc8eb13(0x309)+appId+_0xc8eb13(0x85f),currentLiveGameId),await deleteDoc(_0x3cded6);});}function renderSyncSummaryView(_0x2132e5,_0x244ffc,_0x5f4528){const _0x249b04=_0x2f78fc,_0x39c44b=Object[_0x249b04(0xa59)](_0x2132e5[_0x249b04(0xa90)]||{}),_0x190f77=_0x244ffc[_0x249b04(0x8a4)]||_0x2132e5[_0x249b04(0x6af)]['quizType'];let _0x77cf8b=[];_0x190f77===_0x249b04(0x253)?_0x77cf8b=[_0x249b04(0xcb1),_0x249b04(0xb9a)]:_0x77cf8b=_0x244ffc[_0x249b04(0x67e)]||[];const _0x5b42cb=new Array(_0x77cf8b[_0x249b04(0x649)])['fill'](0x0),_0x123090={};_0x77cf8b[_0x249b04(0x220)]((_0x55d117,_0x78bad)=>{_0x123090[_0x78bad]=[];}),Object[_0x249b04(0x41a)](_0x2132e5[_0x249b04(0xa90)]||{})[_0x249b04(0x220)](([_0x272b87,_0x2e3727])=>{const _0x189452=_0x249b04;if(_0x2e3727[_0x189452(0xa78)]!==_0x189452(0xcc1)&&_0x2e3727[_0x189452(0x327)]!==undefined&&_0x2e3727[_0x189452(0x327)]!==null){const _0x3abd56=_0x2e3727[_0x189452(0x327)];_0x123090[_0x3abd56]!==undefined&&(_0x123090[_0x3abd56][_0x189452(0x346)](_0x272b87),_0x5b42cb[_0x3abd56]++);}});let _0x3ea14c='';_0x5f4528?_0x3ea14c=_0x249b04(0xc05):_0x3ea14c=_0x249b04(0x939);const _0x3b460d=_0x249b04(0x360)+_0x244ffc[_0x249b04(0x9fb)]+_0x249b04(0x42c)+_0x5b42cb[_0x249b04(0x598)]((_0x227f2b,_0x491dc4)=>{const _0x2bac38=_0x249b04,_0x2fb94c=_0x123090[_0x491dc4][_0x2bac38(0x649)]>0x0?_0x123090[_0x491dc4]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x32375c=_0x2bac38(0x391);return _0x2bac38(0xb27)+_0x227f2b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x32375c+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x491dc4+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x77cf8b[_0x491dc4]+_0x2bac38(0xaa1)+_0x491dc4+_0x2bac38(0x55b)+_0x2fb94c+_0x2bac38(0x3c3);})[_0x249b04(0x53d)]('')+_0x249b04(0x1ca)+_0x3ea14c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x249b04(0x5f0)]=_0x3b460d;if(window[_0x249b04(0x5ed)])MathJax[_0x249b04(0x3d1)]();_0x5f4528&&(document['getElementById'](_0x249b04(0xabf))[_0x249b04(0x5b2)](_0x249b04(0x8d9),async()=>{const _0x572e86=_0x249b04,_0x3e0a63=doc(db,_0x572e86(0x309)+appId+_0x572e86(0x2a5),currentLiveGameId);await updateDoc(_0x3e0a63,{'status':_0x572e86(0x5c5)});}),document[_0x249b04(0x288)](_0x249b04(0x941))['onclick']=()=>{openScratchpad(_0x244ffc,_0x77cf8b);});}async function handleShowStudentRankings(){const _0x47a632=_0x2f78fc,_0x601fe3=document[_0x47a632(0x2ee)](_0x47a632(0x8fc));_0x601fe3&&(_0x601fe3['innerHTML']=_0x47a632(0x71c));const _0x19f2ff=document[_0x47a632(0x2ee)](_0x47a632(0x4bf));_0x19f2ff&&(_0x19f2ff[_0x47a632(0x5f0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1ae7b9=document[_0x47a632(0x288)](_0x47a632(0xb0d));_0x1ae7b9[_0x47a632(0xa39)]['remove']('hidden'),document[_0x47a632(0x288)](_0x47a632(0x361))[_0x47a632(0x611)]=()=>_0x1ae7b9[_0x47a632(0xa39)]['add'](_0x47a632(0x4c5));const _0x417f97=document[_0x47a632(0x288)](_0x47a632(0x7c7)),_0x9d60cf=document[_0x47a632(0x288)](_0x47a632(0x95e)),_0xda8c36=document[_0x47a632(0x288)](_0x47a632(0x35c)),_0x42a00a=document['getElementById']('student-project-leaderboard-content');_0x417f97[_0x47a632(0x611)]=()=>{const _0x333287=_0x47a632;_0x417f97[_0x333287(0xa39)][_0x333287(0x5c0)](_0x333287(0xadb)),_0x9d60cf[_0x333287(0xa39)][_0x333287(0xc4b)](_0x333287(0xadb)),_0xda8c36[_0x333287(0xa39)]['remove'](_0x333287(0x4c5)),_0x42a00a[_0x333287(0xa39)]['add'](_0x333287(0x4c5));},_0x9d60cf[_0x47a632(0x611)]=()=>{const _0x2d0775=_0x47a632;_0x9d60cf[_0x2d0775(0xa39)][_0x2d0775(0x5c0)](_0x2d0775(0xadb)),_0x417f97[_0x2d0775(0xa39)][_0x2d0775(0xc4b)](_0x2d0775(0xadb)),_0x42a00a[_0x2d0775(0xa39)]['remove'](_0x2d0775(0x4c5)),_0xda8c36[_0x2d0775(0xa39)][_0x2d0775(0x5c0)](_0x2d0775(0x4c5));};try{const _0x458bd2=collection(db,'artifacts/'+appId+_0x47a632(0x86b)+currentQuizData['id']+'/submissions'),_0x58ab04=await getDocs(_0x458bd2),_0x4df8b8=_0x58ab04[_0x47a632(0x2ea)][_0x47a632(0x598)](_0x5b440e=>_0x5b440e[_0x47a632(0xc89)]());renderQuizLeaderboard(_0x4df8b8,currentQuizData,_0x47a632(0xc8c));const _0x1142fb=collection(db,_0x47a632(0x309)+appId+'/public/data/projects/'+currentQuizData[_0x47a632(0x93e)]+_0x47a632(0x277)),_0x2c414f=await getDocs(_0x1142fb),_0x25b751=_0x2c414f[_0x47a632(0x2ea)][_0x47a632(0x598)](_0x424bcf=>_0x424bcf[_0x47a632(0xc89)]());renderLeaderboard(_0x25b751,_0x47a632(0x92d));}catch(_0x13b717){console['error'](_0x47a632(0x2b7),_0x13b717),showMessage(_0x47a632(0x403));}}async function handleSaveToBank(_0x4a607b){const _0x288c94=_0x2f78fc,_0x1ca271=_0x4a607b['currentTarget'],_0x428594=_0x1ca271[_0x288c94(0xa66)]['index'],_0x218716=currentQuizData[_0x288c94(0xc81)][_0x428594];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x1657aa={..._0x218716,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x4c908d=collection(db,_0x288c94(0x309)+appId+_0x288c94(0x584)+userId+_0x288c94(0x9d3));await addDoc(_0x4c908d,_0x1657aa),showMessage(_0x288c94(0x6e0)),_0x1ca271[_0x288c94(0xa39)][_0x288c94(0xc4b)](_0x288c94(0x59d)),_0x1ca271[_0x288c94(0xa39)][_0x288c94(0x5c0)]('text-green-600'),_0x1ca271[_0x288c94(0x9e8)]=!![];}catch(_0x497de0){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x497de0),showMessage(_0x288c94(0x1bc));}}function selectProjectAndGenerateBlueprintQuiz(_0x111214,_0x42f404=null,_0x30e447=null,_0x13ab50=![]){const _0x49d9af=_0x2f78fc;cameFromBlueprint=!![];const _0x182725=document[_0x49d9af(0x288)](_0x49d9af(0x84d)),_0x3d4835=document['getElementById']('move-quiz-project-select'),_0x1011b8=_0x182725[_0x49d9af(0x2ee)]('h3'),_0x122604=document[_0x49d9af(0x288)](_0x49d9af(0x326)),_0x3a1082=document[_0x49d9af(0x288)](_0x49d9af(0x478));_0x1011b8[_0x49d9af(0xb10)]=_0x49d9af(0xc20),_0x122604[_0x49d9af(0xb10)]=_0x49d9af(0xc45),_0x122604[_0x49d9af(0x9e8)]=!![];allProjects['length']===0x0?_0x3d4835[_0x49d9af(0x5f0)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x3d4835[_0x49d9af(0x5f0)]=_0x49d9af(0x397)+allProjects[_0x49d9af(0x598)](_0x4b1b46=>_0x49d9af(0x79b)+_0x4b1b46['id']+'\x22>'+_0x4b1b46['projectName']+_0x49d9af(0x245))['join'](''),_0x122604[_0x49d9af(0x9e8)]=![]);_0x182725[_0x49d9af(0xa39)][_0x49d9af(0xc4b)]('hidden');const _0x35369f=async()=>{const _0x2aa6b0=_0x49d9af,_0x5386ca=_0x3d4835[_0x2aa6b0(0x63b)];if(!_0x5386ca){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x182725['classList'][_0x2aa6b0(0x5c0)](_0x2aa6b0(0x4c5)),document[_0x2aa6b0(0x288)](_0x2aa6b0(0x5ec))[_0x2aa6b0(0xa39)][_0x2aa6b0(0x5c0)]('hidden'),await loadProjectDetails(_0x5386ca),showView(_0x2aa6b0(0xbc6)),handleGenerateQuizFromBlueprintTopic(_0x111214,_0x42f404,_0x5386ca,_0x30e447,_0x13ab50),_0x17d609();},_0x17d609=()=>{const _0x1dae84=_0x49d9af;_0x1011b8[_0x1dae84(0xb10)]=_0x1dae84(0x8ba),_0x122604[_0x1dae84(0xb10)]=_0x1dae84(0xcd2),_0x122604[_0x1dae84(0xac5)](_0x1dae84(0x8d9),_0x35369f),_0x3a1082['removeEventListener']('click',_0x17d609),_0x122604[_0x1dae84(0x5b2)](_0x1dae84(0x8d9),confirmMoveQuiz);};_0x122604['removeEventListener'](_0x49d9af(0x8d9),confirmMoveQuiz),_0x122604['addEventListener'](_0x49d9af(0x8d9),_0x35369f),_0x3a1082[_0x49d9af(0x5b2)]('click',_0x17d609);}function listenForStarredQuizzes(){const _0x315b34=_0x2f78fc;if(!userId)return;const _0x22bd32=collection(db,'artifacts/'+appId+_0x315b34(0x480)),_0x1bdeae=query(_0x22bd32,where(_0x315b34(0x99a),'==',!![]));onSnapshot(_0x1bdeae,_0x112133=>{const _0x387c58=_0x315b34;starredQuizzes=_0x112133['docs'][_0x387c58(0x598)](_0x379a5e=>({'id':_0x379a5e['id'],..._0x379a5e[_0x387c58(0xc89)]()})),currentProjectId===_0x387c58(0xc17)?renderQuizzes():renderProjects();},_0x253489=>{const _0x47b01b=_0x315b34;console[_0x47b01b(0x40f)](_0x47b01b(0xb30),_0x253489);});}function listenForFileShortcuts(){const _0x52f449=_0x2f78fc,_0x1d5cff=doc(db,_0x52f449(0x34f),_0x52f449(0xa30));onSnapshot(_0x1d5cff,_0x430d46=>{const _0x3ac83c=_0x52f449;let _0x271ba0=[],_0x4dee5c=[],_0x1a788a={};if(_0x430d46[_0x3ac83c(0x5e4)]()){const _0x10c06f=_0x430d46['data']();_0x271ba0=_0x10c06f[_0x3ac83c(0x800)]||[],_0x4dee5c=_0x10c06f[_0x3ac83c(0x527)]||[],_0x1a788a=_0x10c06f[_0x3ac83c(0x657)]||{};}!_0x4dee5c[_0x3ac83c(0x533)](_0x4d3673=>_0x4d3673['id']===_0x3ac83c(0x1da))&&_0x4dee5c[_0x3ac83c(0x355)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x271ba0[_0x3ac83c(0x533)](_0x56d2ee=>_0x56d2ee['id']===_0x3ac83c(0x947))&&_0x271ba0['unshift']({'id':_0x3ac83c(0x947),'name':_0x3ac83c(0x2f9),'url':'','isDefault':!![]}),!_0x271ba0[_0x3ac83c(0x533)](_0x382023=>_0x382023['id']===_0x3ac83c(0x1a8))&&_0x271ba0[_0x3ac83c(0x355)]({'id':_0x3ac83c(0x1a8),'name':_0x3ac83c(0xc22),'url':'','isDefault':!![]}),fileShortcuts=_0x271ba0,fileShortcutTabs=_0x4dee5c,fileShortcutOrder=_0x1a788a,renderFileShortcuts(),!document[_0x3ac83c(0x288)]('additional-file-shortcuts-modal')[_0x3ac83c(0xa39)][_0x3ac83c(0x6ca)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x161435=_0x2f78fc,_0xdf23cc=doc(db,_0x161435(0x34f),_0x161435(0xa30));try{await setDoc(_0xdf23cc,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x4c4592){console['error']('Error\x20saving\x20file\x20shortcut\x20config:',_0x4c4592);}}function renderAdditionalFileShortcutsModal(){const _0x4db6a8=_0x2f78fc,_0x4c338c=document[_0x4db6a8(0x288)](_0x4db6a8(0x5ab)),_0x5a059c=document[_0x4db6a8(0x288)](_0x4db6a8(0x778));if(!_0x4c338c||!_0x5a059c)return;_0x4c338c[_0x4db6a8(0x5f0)]=fileShortcutTabs[_0x4db6a8(0x598)](_0x4ecdc1=>{const _0x3863cf=_0x4db6a8,_0x326b96=_0x4ecdc1['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x4ecdc1['id']+_0x3863cf(0x26b)+(_0x326b96?_0x3863cf(0x6cf):_0x3863cf(0xa1d))+_0x3863cf(0x707)+_0x4ecdc1[_0x3863cf(0xb54)]+_0x3863cf(0xcb9)+_0x4ecdc1[_0x3863cf(0xb54)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4ecdc1[_0x3863cf(0x99c)]?_0x3863cf(0xad7)+_0x4ecdc1['id']+_0x3863cf(0x4a7):'')+_0x3863cf(0xa62);})[_0x4db6a8(0x53d)]('');const _0x49b4fc=fileShortcutTabs[_0x4db6a8(0x533)](_0x46b6d7=>_0x46b6d7['id']===activeFileShortcutTabId);let _0x5530b8=_0x49b4fc?.[_0x4db6a8(0x99c)]?[...fileShortcuts]:fileShortcuts[_0x4db6a8(0x3e1)](_0x50ad7e=>(_0x49b4fc?.[_0x4db6a8(0x7b7)]||[])[_0x4db6a8(0x96b)](_0x50ad7e['id']));const _0x57fded=fileShortcutOrder[activeFileShortcutTabId]||[];_0x5530b8[_0x4db6a8(0x310)]((_0x2865b3,_0x2ddcb8)=>{const _0x3fb4d3=_0x4db6a8,_0x2f31e7=_0x57fded[_0x3fb4d3(0x72f)](_0x2865b3['id']),_0x48c260=_0x57fded['indexOf'](_0x2ddcb8['id']);return(_0x2f31e7===-0x1?Infinity:_0x2f31e7)-(_0x48c260===-0x1?Infinity:_0x48c260);}),_0x5a059c['innerHTML']=_0x5530b8['map'](_0x314bfe=>{const _0x5baa07=_0x4db6a8,_0x3c6fbd=_0x314bfe[_0x5baa07(0x807)]?'📄':'🔗',_0x12aef0=fileShortcutTabs[_0x5baa07(0x3e1)](_0x36261c=>!_0x36261c[_0x5baa07(0x99c)]),_0x594d16=_0x49b4fc[_0x5baa07(0x99c)]&&_0x12aef0['length']>0x0?_0x5baa07(0x54b)+_0x12aef0[_0x5baa07(0x598)](_0x5c28f1=>_0x5baa07(0xadc)+_0x314bfe['id']+_0x5baa07(0x1ec)+_0x5c28f1['id']+'\x22>'+_0x5c28f1[_0x5baa07(0xb54)]+_0x5baa07(0xb2d))[_0x5baa07(0x53d)]('')+_0x5baa07(0x22d):'';return _0x5baa07(0xcc9)+_0x314bfe['id']+_0x5baa07(0x5c6)+_0x3c6fbd+'\x20'+_0x314bfe[_0x5baa07(0xb54)]+_0x5baa07(0x1d0)+_0x314bfe['id']+_0x5baa07(0xc13)+_0x314bfe['id']+_0x5baa07(0x7be)+(!_0x314bfe['isDefault']?'<button\x20data-id=\x22'+_0x314bfe['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x49b4fc['isDefault']?_0x5baa07(0x2f3)+_0x314bfe['id']+_0x5baa07(0x651):'')+_0x5baa07(0x98c)+_0x594d16+_0x5baa07(0xa8e);})[_0x4db6a8(0x53d)]('')||_0x4db6a8(0x474),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x517b46=_0x2f78fc;document[_0x517b46(0x3db)](_0x517b46(0xa42))['forEach'](_0x51aaa3=>{const _0xe3f264=_0x517b46;_0x51aaa3[_0xe3f264(0x611)]=_0x3be3a0=>{const _0xa278fa=_0xe3f264;activeFileShortcutTabId=_0x3be3a0[_0xa278fa(0x76f)][_0xa278fa(0xa66)][_0xa278fa(0x7ce)],renderAdditionalFileShortcutsModal();},_0x51aaa3[_0xe3f264(0x5b1)]=_0xbe41b8=>{const _0x71efe2=_0xe3f264,_0xf7b9a1=_0xbe41b8[_0x71efe2(0x76f)]['querySelector'](_0x71efe2(0x275));_0xbe41b8[_0x71efe2(0x76f)][_0x71efe2(0x2ee)](_0x71efe2(0x655))[_0x71efe2(0xa39)]['add'](_0x71efe2(0x4c5)),_0xf7b9a1['classList'][_0x71efe2(0xc4b)](_0x71efe2(0x4c5)),_0xf7b9a1[_0x71efe2(0x26e)](),_0xf7b9a1[_0x71efe2(0x6f3)]();};}),document[_0x517b46(0x3db)](_0x517b46(0x751))[_0x517b46(0x220)](_0x2c8f25=>{const _0x3e434c=()=>{const _0x17ba7c=_0x43c7,_0x1bf5ab=_0x2c8f25[_0x17ba7c(0x6d3)]('.file-shortcut-tab-btn')[_0x17ba7c(0xa66)]['tabId'],_0x35fd16=fileShortcutTabs[_0x17ba7c(0x533)](_0x5e6edd=>_0x5e6edd['id']===_0x1bf5ab);_0x35fd16&&(_0x35fd16[_0x17ba7c(0xb54)]=_0x2c8f25['value']['trim']()||_0x35fd16[_0x17ba7c(0xb54)],saveFileShortcutConfig());};_0x2c8f25['onblur']=_0x3e434c,_0x2c8f25['onkeydown']=_0x1c5bfb=>{const _0x852380=_0x43c7;if(_0x1c5bfb[_0x852380(0x1ea)]===_0x852380(0x66d))_0x2c8f25['blur']();};}),document['querySelectorAll'](_0x517b46(0x261))[_0x517b46(0x220)](_0x28cc15=>_0x28cc15['onclick']=_0x168df1=>{const _0x1070d4=_0x517b46,_0x2f927d=_0x168df1['currentTarget']['dataset']['tabId'];showConfirmation(_0x1070d4(0x4b4),()=>{const _0x4b546a=_0x1070d4;fileShortcutTabs=fileShortcutTabs[_0x4b546a(0x3e1)](_0x9548f=>_0x9548f['id']!==_0x2f927d),delete fileShortcutOrder[_0x2f927d];if(activeFileShortcutTabId===_0x2f927d)activeFileShortcutTabId=_0x4b546a(0x1da);saveFileShortcutConfig();});}),document[_0x517b46(0x3db)](_0x517b46(0x836))[_0x517b46(0x220)](_0x7b0676=>_0x7b0676['onclick']=_0x57d081=>{const _0x2af566=_0x517b46;_0x57d081[_0x2af566(0xc57)]();const {shortcutId:_0x38dd71,targetTabId:_0x466444}=_0x57d081[_0x2af566(0x76f)][_0x2af566(0xa66)],_0x4a460d=fileShortcutTabs[_0x2af566(0x533)](_0x4f171e=>_0x4f171e['id']===_0x466444);_0x4a460d&&!_0x4a460d[_0x2af566(0x7b7)]['includes'](_0x38dd71)&&(_0x4a460d[_0x2af566(0x7b7)][_0x2af566(0x346)](_0x38dd71),saveFileShortcutConfig());}),document[_0x517b46(0x3db)](_0x517b46(0x417))[_0x517b46(0x220)](_0x41476a=>_0x41476a[_0x517b46(0x611)]=_0x27fa48=>{const _0x3dbb0e=_0x517b46,_0x25d8fc=_0x27fa48[_0x3dbb0e(0x76f)][_0x3dbb0e(0xa66)][_0x3dbb0e(0x2da)],_0x3383e8=fileShortcutTabs['find'](_0x2e38b2=>_0x2e38b2['id']===activeFileShortcutTabId);_0x3383e8&&!_0x3383e8[_0x3dbb0e(0x99c)]&&(_0x3383e8[_0x3dbb0e(0x7b7)]=_0x3383e8[_0x3dbb0e(0x7b7)]['filter'](_0x38a002=>_0x38a002!==_0x25d8fc),saveFileShortcutConfig());}),document['querySelectorAll']('.move-file-shortcut-menu-btn')[_0x517b46(0x220)](_0x46bfcb=>_0x46bfcb[_0x517b46(0x611)]=_0x2e4f69=>{const _0x55bdb9=_0x517b46;_0x2e4f69[_0x55bdb9(0xb82)]();const _0xa5c939=_0x2e4f69['currentTarget'][_0x55bdb9(0x828)];document[_0x55bdb9(0x3db)](_0x55bdb9(0xc3b))[_0x55bdb9(0x220)](_0x3ee0b7=>_0x3ee0b7[_0x55bdb9(0xa39)][_0x55bdb9(0x5c0)]('hidden')),_0xa5c939['classList'][_0x55bdb9(0xc4b)](_0x55bdb9(0x4c5));});const _0x316ce6=document['getElementById']('additional-file-shortcuts-list');let _0x5e0bb6=null;_0x316ce6[_0x517b46(0x344)]=_0x5f35f8=>{const _0x46033d=_0x517b46;_0x5e0bb6=_0x5f35f8[_0x46033d(0x328)]['closest']('.shortcut-list-item');if(_0x5e0bb6)setTimeout(()=>_0x5e0bb6[_0x46033d(0xa39)][_0x46033d(0x5c0)](_0x46033d(0x817)),0x0);},_0x316ce6[_0x517b46(0x774)]=()=>{const _0x5c3dfd=_0x517b46;_0x5e0bb6&&(_0x5e0bb6[_0x5c3dfd(0xa39)][_0x5c3dfd(0xc4b)](_0x5c3dfd(0x817)),_0x5e0bb6=null);},_0x316ce6['ondragover']=_0x365416=>{const _0x4901ee=_0x517b46;_0x365416[_0x4901ee(0xc57)]();},_0x316ce6['ondrop']=_0x54c2cf=>{const _0x27c592=_0x517b46;_0x54c2cf[_0x27c592(0xc57)]();if(_0x5e0bb6){const _0x1b5399=[..._0x316ce6[_0x27c592(0x3db)]('.shortcut-list-item:not(.opacity-50)')][_0x27c592(0x441)]((_0x4cd8b4,_0x1ca149)=>{const _0x3f4095=_0x27c592,_0x865e37=_0x1ca149[_0x3f4095(0x784)](),_0x437d00=_0x54c2cf[_0x3f4095(0x1af)]-_0x865e37[_0x3f4095(0xb25)]-_0x865e37[_0x3f4095(0x767)]/0x2;return _0x437d00<0x0&&_0x437d00>_0x4cd8b4[_0x3f4095(0x6cc)]?{'offset':_0x437d00,'element':_0x1ca149}:_0x4cd8b4;},{'offset':Number[_0x27c592(0x600)]})[_0x27c592(0x35b)];_0x1b5399==null?_0x316ce6[_0x27c592(0x51e)](_0x5e0bb6):_0x316ce6[_0x27c592(0x1f3)](_0x5e0bb6,_0x1b5399);const _0x29e200=[..._0x316ce6[_0x27c592(0x3db)](_0x27c592(0xaf8))][_0x27c592(0x598)](_0x10ed7b=>_0x10ed7b[_0x27c592(0xa66)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x29e200,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x4eae02=_0x2f78fc,_0x47a9de=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x4eae02(0x2dd));_0x47a9de&&_0x47a9de['trim']()&&(fileShortcutTabs[_0x4eae02(0x346)]({'id':'tab_'+Date[_0x4eae02(0x9bc)](),'name':_0x47a9de[_0x4eae02(0x8e1)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3973a9=_0x2f78fc,_0x1bf964=document[_0x3973a9(0x288)](_0x3973a9(0x28b)),_0x3af016=document[_0x3973a9(0x288)]('additional-file-shortcuts-list'),_0x596e37=document[_0x3973a9(0x288)](_0x3973a9(0x2c3));if(_0x596e37)_0x596e37[_0x3973a9(0xa39)][_0x3973a9(0x5c0)](_0x3973a9(0x4c5));if(!_0x1bf964||!_0x3af016)return;const _0x17b17c=fileShortcuts[_0x3973a9(0xacc)](0x0,0x4),_0x46c9c9=fileShortcuts[_0x3973a9(0xacc)](0x4);_0x1bf964[_0x3973a9(0x5f0)]=_0x17b17c[_0x3973a9(0x598)](_0x2e10af=>{const _0xc110a2=_0x3973a9,_0x15b3f0=_0x2e10af[_0xc110a2(0x807)]&&_0x2e10af['url']['trim']()!=='',_0x2e3286=selectedFile&&selectedFile[_0xc110a2(0x2da)]===_0x2e10af['id'];let _0x38ee2b=_0xc110a2(0x446),_0x8f6b4a='🔗';if(_0x2e3286)_0x38ee2b='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x8f6b4a=_0xc110a2(0x2db);else _0x15b3f0&&(_0x38ee2b=_0xc110a2(0x6bc),_0x8f6b4a='📄');const _0x50f294=!_0x2e10af[_0xc110a2(0x99c)]?_0xc110a2(0x454)+_0x2e10af['id']+_0xc110a2(0xbb2):'';return _0xc110a2(0xc0d)+_0x2e10af['id']+_0xc110a2(0x919)+_0x38ee2b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x8f6b4a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x2e10af[_0xc110a2(0xb54)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2e10af['id']+_0xc110a2(0x3a8)+_0x50f294+_0xc110a2(0x29c);})['join'](''),_0x46c9c9[_0x3973a9(0x649)]>0x0&&(_0x1bf964[_0x3973a9(0x5f0)]+=_0x3973a9(0x6ba)),_0x46c9c9['length']>0x0?_0x3af016['innerHTML']=_0x46c9c9[_0x3973a9(0x598)](_0x5084fb=>_0x3973a9(0xcad)+(_0x5084fb['url']?'📄':'🔗')+'\x20'+_0x5084fb['name']+_0x3973a9(0x43a)+_0x5084fb['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5084fb['id']+_0x3973a9(0x2a0)+(!_0x5084fb[_0x3973a9(0x99c)]?_0x3973a9(0x454)+_0x5084fb['id']+_0x3973a9(0x678):'')+_0x3973a9(0x8ff))[_0x3973a9(0x53d)](''):_0x3af016[_0x3973a9(0x5f0)]=_0x3973a9(0x704);}function openFileShortcutEditor(_0x719ae7=null){const _0x43cfb4=_0x2f78fc,_0x16e5e3=document['getElementById']('file-shortcut-editor-modal'),_0xb73836=document['getElementById'](_0x43cfb4(0xc60)),_0x26e203=document[_0x43cfb4(0x288)]('file-shortcut-id-input'),_0x3c87b1=document[_0x43cfb4(0x288)]('file-shortcut-name-input'),_0x3b731b=document[_0x43cfb4(0x288)]('file-shortcut-url-input');if(_0x719ae7){const _0x4b2467=fileShortcuts[_0x43cfb4(0x533)](_0x5579a5=>_0x5579a5['id']===_0x719ae7);if(!_0x4b2467)return;_0xb73836[_0x43cfb4(0xb10)]='แก้ไขปุ่มลัดจากไฟล์',_0x26e203[_0x43cfb4(0x63b)]=_0x4b2467['id'],_0x3c87b1[_0x43cfb4(0x63b)]=_0x4b2467[_0x43cfb4(0xb54)],_0x3b731b[_0x43cfb4(0x63b)]=_0x4b2467[_0x43cfb4(0x807)]||'';}else _0xb73836[_0x43cfb4(0xb10)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0x26e203['value']='',_0x3c87b1[_0x43cfb4(0x63b)]='',_0x3b731b['value']='';_0x16e5e3['classList'][_0x43cfb4(0xc4b)](_0x43cfb4(0x4c5));}async function saveFileShortcutChanges(){const _0x45f009=_0x2f78fc,_0x22d42e=document[_0x45f009(0x288)](_0x45f009(0x58d))[_0x45f009(0x63b)],_0x3ec679=document['getElementById'](_0x45f009(0x9d2))[_0x45f009(0x63b)]['trim'](),_0x208b70=document[_0x45f009(0x288)](_0x45f009(0x550))[_0x45f009(0x63b)][_0x45f009(0x8e1)]();if(!_0x3ec679){showMessage(_0x45f009(0x61c));return;}const _0x2f5ba0={'id':_0x22d42e||_0x45f009(0x383)+Date[_0x45f009(0x9bc)](),'name':_0x3ec679,'url':_0x208b70,'isDefault':_0x22d42e[_0x45f009(0xc29)](_0x45f009(0x45b))};let _0x1280b7;_0x22d42e?_0x1280b7=fileShortcuts[_0x45f009(0x598)](_0x5a16ed=>_0x5a16ed['id']===_0x22d42e?_0x2f5ba0:_0x5a16ed):_0x1280b7=[...fileShortcuts,_0x2f5ba0];try{const _0x121a78=doc(db,'globalSettings',_0x45f009(0xa30));await setDoc(_0x121a78,{'shortcuts':_0x1280b7},{'merge':!![]}),document[_0x45f009(0x288)]('file-shortcut-editor-modal')[_0x45f009(0xa39)][_0x45f009(0x5c0)]('hidden');}catch(_0x1ddce8){console[_0x45f009(0x40f)]('Error\x20saving\x20file\x20shortcut:',_0x1ddce8),showMessage(_0x45f009(0x1bc));}}async function handleFileShortcutClick(_0x47a6ec){const _0x2ef3cd=_0x2f78fc,_0x5d4ce9=fileShortcuts[_0x2ef3cd(0x533)](_0x5d5072=>_0x5d5072['id']===_0x47a6ec);if(!_0x5d4ce9)return;if(!_0x5d4ce9[_0x2ef3cd(0x807)]||_0x5d4ce9['url'][_0x2ef3cd(0x8e1)]()===''){openFileShortcutEditor(_0x47a6ec);return;}const _0x4271c3=document['querySelector'](_0x2ef3cd(0x525)+_0x47a6ec+'\x22]');if(_0x4271c3){const _0x224eea=_0x4271c3[_0x2ef3cd(0x5f0)];_0x4271c3[_0x2ef3cd(0x5f0)]=_0x2ef3cd(0xa1a),_0x4271c3[_0x2ef3cd(0x9e8)]=!![];}document[_0x2ef3cd(0x3db)](_0x2ef3cd(0x504))[_0x2ef3cd(0x220)](_0x73d4b5=>{const _0x377792=_0x2ef3cd;if(_0x73d4b5['dataset']['id']!==_0x47a6ec)_0x73d4b5[_0x377792(0xa39)][_0x377792(0x5c0)](_0x377792(0x817),_0x377792(0xc6f));});try{const _0x5baa26=new URL(_0x5d4ce9[_0x2ef3cd(0x807)])[_0x2ef3cd(0x3c4)],_0x2ac7e8=_0x5baa26[_0x2ef3cd(0x3aa)](_0x5baa26[_0x2ef3cd(0x819)]('/')+0x1)||(_0x5d4ce9[_0x2ef3cd(0x807)][_0x2ef3cd(0x96b)](_0x2ef3cd(0xa0d))?_0x2ef3cd(0x9a3):_0x2ef3cd(0x520)),_0x135900=await fetchFileFromUrl(_0x5d4ce9[_0x2ef3cd(0x807)],_0x2ac7e8);_0x135900['shortcutId']=_0x47a6ec,selectedFile=_0x135900,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x2ef3cd(0x288)](_0x2ef3cd(0x1c7))['scrollIntoView']({'behavior':'smooth','block':_0x2ef3cd(0xbe9)});}catch(_0x1d9e1d){console[_0x2ef3cd(0x40f)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x1d9e1d),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x1d9e1d[_0x2ef3cd(0x42d)]),renderFileShortcuts();}finally{document['querySelectorAll'](_0x2ef3cd(0x504))[_0x2ef3cd(0x220)](_0x35b808=>{const _0xe98527=_0x2ef3cd;_0x35b808[_0xe98527(0xa39)][_0xe98527(0xc4b)]('opacity-50','pointer-events-none'),_0x35b808[_0xe98527(0x9e8)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x2901ed=_0x2f78fc;if(allQuizzesGlobal[_0x2901ed(0x649)]>0x0)return;console[_0x2901ed(0x516)](_0x2901ed(0xa4c)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x471d2e=await getDocs(collection(db,_0x2901ed(0x309)+appId+_0x2901ed(0x480)));allQuizzesGlobal=_0x471d2e['docs']['map'](_0x1230aa=>({'id':_0x1230aa['id'],..._0x1230aa[_0x2901ed(0xc89)]()})),console['log'](_0x2901ed(0xc58)+allQuizzesGlobal[_0x2901ed(0x649)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x2901ed(0xa39)][_0x2901ed(0x5c0)](_0x2901ed(0x4c5));}catch(_0x33b6b5){console[_0x2901ed(0x40f)](_0x2901ed(0xcbe),_0x33b6b5),messageModal[_0x2901ed(0xa39)][_0x2901ed(0x5c0)](_0x2901ed(0x4c5));throw new Error(_0x2901ed(0x791));}}function exportQuizAsWorksheetPDF(){const _0x1df577=_0x2f78fc;if(!currentQuizData||!currentQuizData[_0x1df577(0xc81)]){showMessage(_0x1df577(0xc0e));return;}const _0xc33bc6=currentQuizData,_0x2bb390=window['open']('',_0x1df577(0x523)),_0x516569=_0x24d237=>String[_0x1df577(0x916)](0x41+_0x24d237),_0x3b74a1=_0x1df577(0x955)+_0xc33bc6['topic']+_0x1df577(0x688)+_0xc33bc6[_0x1df577(0x32c)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc33bc6[_0x1df577(0xc81)]['map']((_0x1fade5,_0x2774fd)=>{const _0x469f47=_0x1df577;let _0x314c32='';const _0x55140b=_0x1fade5['questionType']||_0xc33bc6[_0x469f47(0x58f)];switch(_0x55140b){case _0x469f47(0x318):case'fill_in_with_choices':_0x314c32=_0x469f47(0x799)+_0x1fade5[_0x469f47(0x67e)][_0x469f47(0x598)]((_0x407056,_0x2b68e2)=>_0x469f47(0x81b)+_0x516569(_0x2b68e2)+'.\x20'+_0x407056+_0x469f47(0x650))['join'](_0x469f47(0x293))+_0x469f47(0x21c);break;case _0x469f47(0x253):_0x314c32=_0x469f47(0xb81);break;default:_0x314c32='<div\x20class=\x22answer-space\x22></div>';break;}return _0x469f47(0x7fe)+(_0x2774fd+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x1fade5[_0x469f47(0x34d)]||_0x1fade5['questionText'])+_0x469f47(0x74f)+(_0x1fade5[_0x469f47(0xc0c)]?_0x469f47(0x888)+_0x1fade5['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x314c32+_0x469f47(0x9dc);})[_0x1df577(0x53d)]('')+_0x1df577(0x2e5);_0x2bb390[_0x1df577(0x602)][_0x1df577(0x866)](_0x3b74a1),_0x2bb390[_0x1df577(0x602)][_0x1df577(0xba3)](),_0x2bb390[_0x1df577(0x29e)]=function(){setTimeout(()=>{_0x2bb390['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x44a4b2=_0x2f78fc;if(!currentQuizData||!currentQuizData[_0x44a4b2(0xc81)]){showMessage(_0x44a4b2(0xc0e));return;}const _0x2e0278=currentQuizData,_0x4f3cd3=window[_0x44a4b2(0x89b)]('',_0x44a4b2(0x523)),_0x1ae8d7=_0x1993c3=>String[_0x44a4b2(0x916)](0x41+_0x1993c3),_0x3c8949=_0x44a4b2(0xb1a)+_0x2e0278[_0x44a4b2(0x32c)]+_0x44a4b2(0x89c)+_0x2e0278[_0x44a4b2(0xc81)][_0x44a4b2(0x598)]((_0x5b5607,_0x1c5d4c)=>{const _0x402969=_0x44a4b2;let _0x169348='';const _0x1b533b=_0x5b5607[_0x402969(0x8a4)]||_0x2e0278[_0x402969(0x58f)];switch(_0x1b533b){case'multiple_choice':case _0x402969(0x1ab):_0x169348=_0x402969(0x9ad)+_0x5b5607[_0x402969(0x67e)][_0x402969(0x598)]((_0x26a1c1,_0x413aa7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1ae8d7(_0x413aa7)+'.\x20'+_0x26a1c1+'</span>')[_0x402969(0x53d)]('<br>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'true_false':_0x169348=_0x402969(0x4ce);break;default:_0x169348='';break;}return _0x402969(0xa1e)+_0x2e0278[_0x402969(0x32c)]+_0x402969(0x280)+(_0x1c5d4c+0x1)+_0x402969(0xb56)+(_0x5b5607[_0x402969(0x34d)]||_0x5b5607[_0x402969(0x9fb)])+_0x402969(0x74f)+(_0x5b5607['imageCode']?_0x402969(0xbcf)+_0x5b5607[_0x402969(0xc0c)]+_0x402969(0x21c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x169348+_0x402969(0x257);})[_0x44a4b2(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4f3cd3[_0x44a4b2(0x602)][_0x44a4b2(0x866)](_0x3c8949),_0x4f3cd3[_0x44a4b2(0x602)][_0x44a4b2(0xba3)](),_0x4f3cd3['onload']=function(){setTimeout(()=>{const _0x489347=_0x43c7;_0x4f3cd3[_0x489347(0x3bb)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2d29c5){const _0x5c8f42=_0x2f78fc,_0x5cf5eb=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2d29c5);try{const _0x13223f=await getDoc(_0x5cf5eb);if(_0x13223f[_0x5c8f42(0x5e4)]()){const _0x87c635=_0x13223f[_0x5c8f42(0xc89)]()['isStarred']||![];await updateDoc(_0x5cf5eb,{'isStarred':!_0x87c635});}}catch(_0x37b40a){console[_0x5c8f42(0x40f)](_0x5c8f42(0x597),_0x37b40a),showMessage(_0x5c8f42(0x276));}}async function displayQuestionBank(){const _0x5f4dfa=_0x2f78fc,_0x28dbc6=document['getElementById'](_0x5f4dfa(0xa35));_0x28dbc6[_0x5f4dfa(0x5f0)]=_0x5f4dfa(0x4ac);try{const _0x2cd162=collection(db,_0x5f4dfa(0x309)+appId+_0x5f4dfa(0x584)+userId+'/questionBank'),_0x5b6c7=query(_0x2cd162),_0x1b668e=await getDocs(_0x5b6c7);if(_0x1b668e[_0x5f4dfa(0x339)]){_0x28dbc6['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x42cc48=_0x1b668e['docs'][_0x5f4dfa(0x598)](_0x3ac7cd=>{const _0x1e4083=_0x5f4dfa,_0x940530=_0x3ac7cd['data'](),_0xac96c=_0x3ac7cd['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x1e4083(0x6aa)](_0x940530)+_0x1e4083(0x69e)+(_0x940530[_0x1e4083(0x9fb)]||_0x940530['stem'])+_0x1e4083(0x82a)+_0x940530['originalTopic']+_0x1e4083(0x433);})[_0x5f4dfa(0x53d)]('');_0x28dbc6[_0x5f4dfa(0x5f0)]=_0x5f4dfa(0x7a7)+_0x42cc48+_0x5f4dfa(0x2fc),document[_0x5f4dfa(0x288)](_0x5f4dfa(0x324))[_0x5f4dfa(0x5b2)]('click',createQuizFromBank);}catch(_0xf35f17){console[_0x5f4dfa(0x40f)](_0x5f4dfa(0x5c2),_0xf35f17),_0x28dbc6[_0x5f4dfa(0x5f0)]=_0x5f4dfa(0x86d);}}async function handleExportLessonToPDF(){const _0x55bf7a=_0x2f78fc,_0x56fd02=document[_0x55bf7a(0x288)](_0x55bf7a(0xc1c)),_0x254eff=document[_0x55bf7a(0x288)](_0x55bf7a(0x9cc))[_0x55bf7a(0xb10)]||_0x55bf7a(0x781);if(!_0x56fd02){showMessage(_0x55bf7a(0xa26));return;}const _0x301b6d=window['open']('',_0x55bf7a(0x523)),_0x236bea=_0x55bf7a(0x67a)+_0x254eff+_0x55bf7a(0x50b)+_0x254eff+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56fd02['innerHTML']+_0x55bf7a(0x2e5);_0x301b6d['document'][_0x55bf7a(0x866)](_0x236bea),_0x301b6d[_0x55bf7a(0x602)][_0x55bf7a(0xba3)](),_0x301b6d['onload']=function(){setTimeout(()=>{const _0x50b496=_0x43c7;_0x301b6d[_0x50b496(0x3bb)]();},0x7d0);};}function showAdminLiveQuestionView(_0x3f7d91,_0x27346c,_0x8c99a6){const _0xfef316=_0x2f78fc,_0x32e326=_0x3f7d91['questionType']||currentQuizData[_0xfef316(0x58f)];let _0x44054c='';if(_0x32e326===_0xfef316(0x318)||_0x32e326===_0xfef316(0x253)){const _0x3508cf=_0x32e326===_0xfef316(0x253)?[_0xfef316(0xad6),_0xfef316(0x3d3)]:_0x3f7d91[_0xfef316(0x67e)],_0x3460cd=_0x32e326===_0xfef316(0x253)?_0x3f7d91['correctAnswer']?0x0:0x1:_0x3f7d91[_0xfef316(0x90b)];_0x44054c=_0x3508cf[_0xfef316(0x598)]((_0x3d9268,_0x33f57c)=>_0xfef316(0x6f8)+(_0x33f57c===_0x3460cd)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d9268+_0xfef316(0x29c))[_0xfef316(0x53d)]('');}else{if(_0x32e326===_0xfef316(0x5b0)){const _0x4d899c=_0x3f7d91[_0xfef316(0xa99)]||[];_0x44054c=_0x4d899c[_0xfef316(0x598)](_0x53d673=>_0xfef316(0x6f8)+(_0x53d673===_0x3f7d91[_0xfef316(0x2c7)])+_0xfef316(0x576)+_0x53d673+_0xfef316(0x29c))[_0xfef316(0x53d)]('');}}const _0x120865=_0x3f7d91[_0xfef316(0x34d)]||_0x3f7d91[_0xfef316(0x9fb)],_0x20fe29=_0xfef316(0x4b2)+(_0x27346c+0x1)+_0xfef316(0xa1c)+_0x8c99a6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0xfef316(0x2aa)+_0x120865+_0xfef316(0x9d0)+_0x44054c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xfef316(0x5f0)]=_0x20fe29,window[_0xfef316(0x5ed)]&&MathJax[_0xfef316(0x3d1)]&&MathJax['typesetPromise']([liveGameView]),document['getElementById'](_0xfef316(0xa00))[_0xfef316(0x5b2)](_0xfef316(0x8d9),()=>revealAnswerForAdmin(_0x27346c,_0x8c99a6)),document[_0xfef316(0x288)]('end-game-btn')[_0xfef316(0x5b2)](_0xfef316(0x8d9),async()=>{const _0x292ff2=_0xfef316;showConfirmation(_0x292ff2(0x52e),async()=>{const _0x1340ad=_0x292ff2,_0x110019=doc(db,_0x1340ad(0x309)+appId+_0x1340ad(0x85f),currentLiveGameId);await updateDoc(_0x110019,{'status':'podium'});});}),document[_0xfef316(0x288)](_0xfef316(0x31b))[_0xfef316(0x5b2)](_0xfef316(0x8d9),()=>{const _0x2472c4=_0xfef316;document[_0x2472c4(0x288)](_0x2472c4(0x987))[_0x2472c4(0xa39)][_0x2472c4(0xc5b)]('hidden');});}function promptForProjectBeforeGenerating(_0x3fcefd){const _0x4bac6d=_0x2f78fc,_0x43914a=document[_0x4bac6d(0x288)]('move-quiz-modal'),_0x31a1a8=document[_0x4bac6d(0x288)](_0x4bac6d(0x4d5)),_0x164e82=_0x43914a[_0x4bac6d(0x2ee)]('h3'),_0x2a3426=document[_0x4bac6d(0x288)](_0x4bac6d(0x326)),_0x5e6ae6=document[_0x4bac6d(0x288)](_0x4bac6d(0x478));_0x164e82[_0x4bac6d(0xb10)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x2a3426[_0x4bac6d(0xb10)]=_0x4bac6d(0xc45),_0x2a3426[_0x4bac6d(0x9e8)]=!![];allProjects[_0x4bac6d(0x649)]===0x0?_0x31a1a8[_0x4bac6d(0x5f0)]=_0x4bac6d(0x483):(_0x31a1a8['innerHTML']=_0x4bac6d(0x397)+allProjects['map'](_0x556902=>_0x4bac6d(0x79b)+_0x556902['id']+'\x22>'+_0x556902[_0x4bac6d(0xc51)]+_0x4bac6d(0x245))[_0x4bac6d(0x53d)](''),_0x2a3426[_0x4bac6d(0x9e8)]=![]);_0x43914a[_0x4bac6d(0xa39)]['remove'](_0x4bac6d(0x4c5));const _0x1b6071=async()=>{const _0x53e4d0=_0x4bac6d,_0x21c326=_0x31a1a8[_0x53e4d0(0x63b)];if(!_0x21c326){showMessage(_0x53e4d0(0x1d1));return;}_0x43914a['classList'][_0x53e4d0(0x5c0)](_0x53e4d0(0x4c5)),await loadProjectDetails(_0x21c326),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x3fcefd),_0x26880d();},_0x26880d=()=>{const _0x2f059a=_0x4bac6d;_0x164e82['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2a3426[_0x2f059a(0xb10)]='ย้าย',_0x2a3426[_0x2f059a(0xac5)](_0x2f059a(0x8d9),_0x1b6071),_0x5e6ae6[_0x2f059a(0xac5)](_0x2f059a(0x8d9),_0x26880d),_0x2a3426[_0x2f059a(0x5b2)]('click',confirmMoveQuiz);};_0x2a3426['removeEventListener'](_0x4bac6d(0x8d9),confirmMoveQuiz),_0x2a3426['addEventListener'](_0x4bac6d(0x8d9),_0x1b6071),_0x5e6ae6[_0x4bac6d(0x5b2)](_0x4bac6d(0x8d9),_0x26880d);}function showStudentLiveQuestionView(_0x4c6524,_0x332109,_0x259264){const _0x49ca8d=_0x2f78fc,_0x2f75c1=_0x4c6524[_0x49ca8d(0x8a4)]||currentQuizData['quizType'];let _0x2c0dfa='';if(_0x2f75c1===_0x49ca8d(0x318)||_0x2f75c1===_0x49ca8d(0x253)){const _0x490297=_0x2f75c1==='true_false'?['ใช่','ไม่ใช่']:_0x4c6524[_0x49ca8d(0x67e)];_0x2c0dfa=_0x490297[_0x49ca8d(0x598)]((_0x4203f1,_0x41cc16)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x41cc16+_0x49ca8d(0x8e5)+_0x4203f1+_0x49ca8d(0x45a))[_0x49ca8d(0x53d)]('');}else{if(_0x2f75c1==='matching_item'){const _0x50638b=_0x4c6524[_0x49ca8d(0xa99)]||[];_0x2c0dfa=_0x50638b['map']((_0x4ea3ab,_0x16b310)=>_0x49ca8d(0x6fe)+_0x16b310+_0x49ca8d(0x8e5)+_0x4ea3ab+_0x49ca8d(0x45a))['join']('');}else _0x2f75c1===_0x49ca8d(0x59a)&&(_0x2c0dfa=_0x49ca8d(0x9f2));}const _0x1069e1=_0x4c6524[_0x49ca8d(0x34d)]||_0x4c6524[_0x49ca8d(0x9fb)],_0x5d5617='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x332109+0x1)+'\x20/\x20'+_0x259264+_0x49ca8d(0x3a4)+_0x1069e1+_0x49ca8d(0x1e7)+_0x2c0dfa+_0x49ca8d(0x31d);liveGameView['innerHTML']=_0x5d5617;window[_0x49ca8d(0x5ed)]&&MathJax[_0x49ca8d(0x3d1)]&&MathJax[_0x49ca8d(0x3d1)]([liveGameView]);const _0x99d9b8=document[_0x49ca8d(0x288)](_0x49ca8d(0xa7a));_0x99d9b8&&_0x99d9b8[_0x49ca8d(0x5b2)](_0x49ca8d(0x8d9),()=>{const _0x3d6828=_0x49ca8d,_0x183328=document['getElementById'](_0x3d6828(0x83c))['value'];handleLiveAnswer(_0x183328,_0x4c6524);}),document[_0x49ca8d(0x288)](_0x49ca8d(0x47e))[_0x49ca8d(0x5b2)](_0x49ca8d(0x8d9),_0x59ebe8=>{const _0x3de901=_0x49ca8d,_0x305047=_0x59ebe8['target']['closest'](_0x3de901(0x5aa));if(_0x305047){const _0x5a1bb6=parseInt(_0x305047['dataset'][_0x3de901(0x78c)]);handleLiveAnswer(_0x5a1bb6,_0x4c6524);}});}function listenForBlueprintShortcuts(){const _0x3dc56c=_0x2f78fc,_0x31d861=doc(db,_0x3dc56c(0x34f),'dashboardConfig');onSnapshot(_0x31d861,_0x16f96d=>{const _0x580450=_0x3dc56c;let _0x32e7a4=[],_0x42990e=[],_0x1b05e2={};if(_0x16f96d[_0x580450(0x5e4)]()){const _0x1bbd94=_0x16f96d[_0x580450(0xc89)]();_0x32e7a4=_0x1bbd94[_0x580450(0x938)]||[],_0x42990e=_0x1bbd94[_0x580450(0x766)]||[],_0x1b05e2=_0x1bbd94[_0x580450(0x202)]||{};}!_0x42990e[_0x580450(0x533)](_0x4e5c39=>_0x4e5c39['id']===_0x580450(0x1da))&&_0x42990e[_0x580450(0x355)]({'id':_0x580450(0x1da),'name':_0x580450(0x489),'isDefault':!![]}),!_0x32e7a4[_0x580450(0x533)](_0x57823b=>_0x57823b['id']===_0x580450(0x2a3))&&_0x32e7a4[_0x580450(0x355)]({'id':_0x580450(0x2a3),'name':_0x580450(0x1bb),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x32e7a4[_0x580450(0x533)](_0x182ec4=>_0x182ec4['id']==='default-2')&&_0x32e7a4[_0x580450(0x355)]({'id':_0x580450(0xbaa),'name':_0x580450(0x884),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x32e7a4,shortcutTabs=_0x42990e,shortcutOrder=_0x1b05e2,renderBlueprintShortcuts(),!document[_0x580450(0x288)]('additional-shortcuts-modal')['classList'][_0x580450(0x6ca)](_0x580450(0x4c5))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x15891a=_0x2f78fc,_0x3b8766=document[_0x15891a(0x288)]('shortcut-tabs-nav'),_0x4151f1=document[_0x15891a(0x288)](_0x15891a(0x92e));if(!_0x3b8766||!_0x4151f1)return;_0x3b8766[_0x15891a(0x5f0)]=shortcutTabs['map'](_0x362279=>{const _0x36c243=_0x15891a,_0xee786e=_0x362279['id']===activeShortcutTabId,_0x15d970=_0x36c243(0x6cf),_0x385516=_0x36c243(0xa1d);return _0x36c243(0xc16)+_0x362279['id']+_0x36c243(0xbf4)+(_0xee786e?_0x15d970:_0x385516)+_0x36c243(0xb9b)+_0x362279[_0x36c243(0xb54)]+_0x36c243(0x963)+_0x362279[_0x36c243(0xb54)]+_0x36c243(0x9ee)+(!_0x362279[_0x36c243(0x99c)]?_0x36c243(0x287)+_0x362279['id']+_0x36c243(0x4d6):'')+_0x36c243(0x29c);})['join']('');const _0x3bf309=shortcutTabs[_0x15891a(0x533)](_0x4231bc=>_0x4231bc['id']===activeShortcutTabId);let _0x28fc59=[];if(_0x3bf309){if(_0x3bf309[_0x15891a(0x99c)])_0x28fc59=[...blueprintShortcuts];else{const _0x43f7cf=_0x3bf309[_0x15891a(0x7b7)]||[];_0x28fc59=blueprintShortcuts['filter'](_0x33e43a=>_0x43f7cf[_0x15891a(0x96b)](_0x33e43a['id']));}}const _0x1579b0=shortcutOrder[activeShortcutTabId]||[];_0x28fc59[_0x15891a(0x310)]((_0x14faa1,_0x38f740)=>{const _0x4c00bc=_0x15891a,_0x218acf=_0x1579b0[_0x4c00bc(0x72f)](_0x14faa1['id']),_0x38a35f=_0x1579b0['indexOf'](_0x38f740['id']);if(_0x218acf===-0x1)return 0x1;if(_0x38a35f===-0x1)return-0x1;return _0x218acf-_0x38a35f;}),_0x4151f1['innerHTML']=_0x28fc59[_0x15891a(0x649)]>0x0?_0x28fc59[_0x15891a(0x598)](_0x3315d8=>{const _0x44f358=_0x15891a;let _0x337ae5='🧩';if(_0x3315d8[_0x44f358(0x7fd)]&&_0x3315d8[_0x44f358(0xaa6)])_0x337ae5='📗';else{if(_0x3315d8[_0x44f358(0x7fd)])_0x337ae5='📘';}const _0x3e26bf=shortcutTabs[_0x44f358(0x3e1)](_0x2dc8ee=>!_0x2dc8ee[_0x44f358(0x99c)]),_0x4bf03e=_0x3bf309[_0x44f358(0x99c)]&&_0x3e26bf[_0x44f358(0x649)]>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e26bf[_0x44f358(0x598)](_0x4d484b=>_0x44f358(0x6dc)+_0x3315d8['id']+_0x44f358(0x1ec)+_0x4d484b['id']+'\x22>'+_0x4d484b[_0x44f358(0xb54)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x44f358(0x53d)]('')+_0x44f358(0x9b8):'';return _0x44f358(0xc5e)+_0x3315d8['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x337ae5+'\x20'+_0x3315d8[_0x44f358(0xb54)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3315d8['id']+_0x44f358(0x964)+_0x3315d8['id']+_0x44f358(0x848)+(!_0x3315d8['isDefault']?_0x44f358(0x454)+_0x3315d8['id']+_0x44f358(0xaa9):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3bf309['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x3315d8['id']+_0x44f358(0x44d):'')+_0x44f358(0x7af)+_0x4bf03e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join'](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x261661=_0x2f78fc;document['querySelectorAll']('.shortcut-tab-btn')[_0x261661(0x220)](_0x2d0db8=>{const _0x4869c1=_0x261661;_0x2d0db8[_0x4869c1(0x5b2)](_0x4869c1(0x8d9),_0x2bae80=>{const _0x38ab04=_0x4869c1;activeShortcutTabId=_0x2bae80[_0x38ab04(0x76f)][_0x38ab04(0xa66)][_0x38ab04(0x7ce)],renderAdditionalShortcutsModal();}),_0x2d0db8[_0x4869c1(0x5b2)]('dblclick',_0x4f84ff=>{const _0x415959=_0x4869c1,_0xc71ee4=_0x4f84ff[_0x415959(0x76f)];_0xc71ee4['querySelector'](_0x415959(0x655))[_0x415959(0xa39)][_0x415959(0x5c0)](_0x415959(0x4c5));const _0x137991=_0xc71ee4[_0x415959(0x2ee)](_0x415959(0x275));_0x137991[_0x415959(0xa39)][_0x415959(0xc4b)](_0x415959(0x4c5)),_0x137991[_0x415959(0x26e)](),_0x137991['select']();});}),document[_0x261661(0x3db)](_0x261661(0x275))[_0x261661(0x220)](_0x2b4032=>{const _0x4300ac=_0x261661,_0x23767c=()=>{const _0x1b71f6=_0x43c7,_0x37905a=_0x2b4032[_0x1b71f6(0x6d3)](_0x1b71f6(0x3f6))[_0x1b71f6(0xa66)][_0x1b71f6(0x7ce)];handleRenameShortcutTab(_0x37905a,_0x2b4032[_0x1b71f6(0x63b)]);};_0x2b4032[_0x4300ac(0x5b2)]('blur',_0x23767c),_0x2b4032['addEventListener']('keydown',_0x4c6fe2=>{const _0x5ef8f3=_0x4300ac;if(_0x4c6fe2[_0x5ef8f3(0x1ea)]===_0x5ef8f3(0x66d))_0x2b4032[_0x5ef8f3(0x206)]();});}),document[_0x261661(0x3db)](_0x261661(0xa38))['forEach'](_0x2355d8=>{const _0x5946d4=_0x261661;_0x2355d8[_0x5946d4(0x5b2)](_0x5946d4(0x8d9),_0x2fbefb=>handleDeleteShortcutTab(_0x2fbefb['currentTarget'][_0x5946d4(0xa66)]['tabId']));}),document[_0x261661(0x3db)](_0x261661(0x561))['forEach'](_0xea5737=>{const _0x238541=_0x261661;_0xea5737['addEventListener'](_0x238541(0x8d9),_0x521f99=>{const _0x1e304d=_0x238541;_0x521f99[_0x1e304d(0xc57)]();const {shortcutId:_0x39c878,targetTabId:_0x54422e}=_0x521f99[_0x1e304d(0x76f)][_0x1e304d(0xa66)];handleMoveShortcutToTab(_0x39c878,_0x54422e);});}),document[_0x261661(0x3db)](_0x261661(0xcc5))[_0x261661(0x220)](_0x1ecb44=>{_0x1ecb44['addEventListener']('click',_0x715193=>{const _0xa15cb=_0x43c7;handleRemoveShortcutFromTab(_0x715193['currentTarget']['dataset'][_0xa15cb(0x2da)],activeShortcutTabId);});});const _0x58aeac=document['getElementById'](_0x261661(0x92e));_0x58aeac[_0x261661(0x3db)](_0x261661(0x4c0))[_0x261661(0x220)](_0x2c95dc=>{const _0x1bd17e=_0x261661;_0x2c95dc[_0x1bd17e(0x5b2)](_0x1bd17e(0x8d9),()=>{const _0x37caf9=_0x1bd17e;document[_0x37caf9(0x288)](_0x37caf9(0x3fe))[_0x37caf9(0xa39)][_0x37caf9(0x5c0)]('hidden'),handleShortcutClick(_0x2c95dc[_0x37caf9(0xa66)]['id']);});});let _0x258412=null;_0x58aeac[_0x261661(0x5b2)](_0x261661(0x7d4),_0x3202d6=>{const _0x3011a7=_0x261661;_0x258412=_0x3202d6['target']['closest'](_0x3011a7(0xaf8)),_0x258412&&setTimeout(()=>_0x258412[_0x3011a7(0xa39)][_0x3011a7(0x5c0)](_0x3011a7(0x817)),0x0);}),_0x58aeac['addEventListener']('dragend',()=>{const _0x4a6bb9=_0x261661;_0x258412&&(_0x258412[_0x4a6bb9(0xa39)]['remove'](_0x4a6bb9(0x817)),_0x258412=null);}),_0x58aeac[_0x261661(0x5b2)](_0x261661(0xc9e),_0x145cce=>{const _0x4338f3=_0x261661;_0x145cce[_0x4338f3(0xc57)]();const _0x556222=[..._0x58aeac[_0x4338f3(0x3db)](_0x4338f3(0xcf4))][_0x4338f3(0x441)]((_0x441d74,_0xd7b579)=>{const _0x34c9a3=_0x4338f3,_0x59c98d=_0xd7b579[_0x34c9a3(0x784)](),_0xbc5225=_0x145cce['clientY']-_0x59c98d[_0x34c9a3(0xb25)]-_0x59c98d[_0x34c9a3(0x767)]/0x2;return _0xbc5225<0x0&&_0xbc5225>_0x441d74[_0x34c9a3(0x6cc)]?{'offset':_0xbc5225,'element':_0xd7b579}:_0x441d74;},{'offset':Number[_0x4338f3(0x600)]})[_0x4338f3(0x35b)];_0x556222==null?_0x58aeac[_0x4338f3(0x51e)](_0x258412):_0x58aeac[_0x4338f3(0x1f3)](_0x258412,_0x556222);}),_0x58aeac['addEventListener'](_0x261661(0xaed),_0x320909=>{const _0x466b0f=_0x261661;_0x320909[_0x466b0f(0xc57)]();if(_0x258412){const _0x1f91dc=[..._0x58aeac[_0x466b0f(0x3db)](_0x466b0f(0xaf8))][_0x466b0f(0x598)](_0x13a14e=>_0x13a14e[_0x466b0f(0xa66)][_0x466b0f(0x2da)]);handleShortcutOrderChange(activeShortcutTabId,_0x1f91dc);}}),document[_0x261661(0x3db)](_0x261661(0x7b6))['forEach'](_0x3f084a=>{const _0x487bbc=_0x261661;_0x3f084a[_0x487bbc(0x5b2)]('click',_0x4da42b=>{const _0x2fc104=_0x487bbc;_0x4da42b[_0x2fc104(0xb82)]();const _0x59764f=_0x4da42b[_0x2fc104(0x76f)][_0x2fc104(0x828)],_0x49739e=_0x59764f[_0x2fc104(0xa39)]['contains'](_0x2fc104(0x4c5));document[_0x2fc104(0x3db)]('.move-shortcut-dropdown')[_0x2fc104(0x220)](_0x5cf69c=>_0x5cf69c['classList']['add'](_0x2fc104(0x4c5))),_0x49739e&&_0x59764f['classList'][_0x2fc104(0xc4b)]('hidden');});});}document[_0x2f78fc(0x5b2)](_0x2f78fc(0x8d9),_0x33c81d=>{const _0xb6d437=_0x2f78fc;!_0x33c81d[_0xb6d437(0x328)][_0xb6d437(0x6d3)](_0xb6d437(0xa5d))&&document[_0xb6d437(0x3db)]('.move-shortcut-dropdown')['forEach'](_0x1e698e=>_0x1e698e[_0xb6d437(0xa39)][_0xb6d437(0x5c0)](_0xb6d437(0x4c5)));});async function saveShortcutConfig(){const _0x18a80b=_0x2f78fc,_0x3c58ab=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x3c58ab,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x3fa37f){console[_0x18a80b(0x40f)]('Error\x20saving\x20shortcut\x20config:',_0x3fa37f);}}async function handleAddShortcutTab(){const _0x26d912=_0x2f78fc,_0x4b07dd=prompt(_0x26d912(0x377),'แท็บใหม่');if(!_0x4b07dd||_0x4b07dd[_0x26d912(0x8e1)]()==='')return;shortcutTabs[_0x26d912(0x346)]({'id':_0x26d912(0xc9c)+Date[_0x26d912(0x9bc)](),'name':_0x4b07dd['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x35bb77,_0x46ffb1){const _0xf0fe15=_0x2f78fc,_0x4c91f5=shortcutTabs[_0xf0fe15(0x533)](_0xf38820=>_0xf38820['id']===_0x35bb77);_0x4c91f5&&_0x46ffb1[_0xf0fe15(0x8e1)]()!==''&&(_0x4c91f5[_0xf0fe15(0xb54)]=_0x46ffb1[_0xf0fe15(0x8e1)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x20eb23){const _0x3f9071=_0x2f78fc,_0x5f2b74=shortcutTabs[_0x3f9071(0x533)](_0x1a202e=>_0x1a202e['id']===_0x20eb23);_0x5f2b74&&!_0x5f2b74[_0x3f9071(0x99c)]&&showConfirmation(_0x3f9071(0x3b7)+_0x5f2b74['name']+_0x3f9071(0x6bd),async()=>{const _0x2592bb=_0x3f9071;shortcutTabs=shortcutTabs[_0x2592bb(0x3e1)](_0x485d4c=>_0x485d4c['id']!==_0x20eb23),delete shortcutOrder[_0x20eb23];if(activeShortcutTabId===_0x20eb23)activeShortcutTabId=_0x2592bb(0x1da);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x114c5,_0x1d899f){const _0x2a3b2a=_0x2f78fc,_0x4f93a4=shortcutTabs[_0x2a3b2a(0x533)](_0x19355a=>_0x19355a['id']===_0x1d899f);_0x4f93a4&&!_0x4f93a4[_0x2a3b2a(0x7b7)][_0x2a3b2a(0x96b)](_0x114c5)&&(_0x4f93a4[_0x2a3b2a(0x7b7)][_0x2a3b2a(0x346)](_0x114c5),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x3f6a6e,_0x30bdef){const _0x1fed3d=_0x2f78fc,_0x41e8cc=shortcutTabs['find'](_0x238c48=>_0x238c48['id']===_0x30bdef);_0x41e8cc&&!_0x41e8cc[_0x1fed3d(0x99c)]&&(_0x41e8cc[_0x1fed3d(0x7b7)]=_0x41e8cc[_0x1fed3d(0x7b7)][_0x1fed3d(0x3e1)](_0x11995e=>_0x11995e!==_0x3f6a6e),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x2c1292,_0x34948c){shortcutOrder[_0x2c1292]=_0x34948c,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x2b9731=_0x2f78fc,_0x36bb25=document[_0x2b9731(0x288)](_0x2b9731(0xafc)),_0x2db2c4=document[_0x2b9731(0x288)]('additional-shortcuts-list'),_0x325ba3=document[_0x2b9731(0x288)](_0x2b9731(0xc34));_0x325ba3&&_0x325ba3[_0x2b9731(0xa39)][_0x2b9731(0x5c0)](_0x2b9731(0x4c5));if(!_0x36bb25||!_0x2db2c4)return;const _0x138e60=blueprintShortcuts[_0x2b9731(0xacc)](0x0,0x4),_0x42a129=blueprintShortcuts[_0x2b9731(0xacc)](0x4);_0x36bb25['innerHTML']=_0x138e60[_0x2b9731(0x598)](_0x5e2bea=>{const _0x34233d=_0x2b9731;let _0x29751f='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x5c0da4='🧩';if(_0x5e2bea[_0x34233d(0x7fd)]&&_0x5e2bea['referenceUrl'])_0x29751f=_0x34233d(0x786),_0x5c0da4='📗';else _0x5e2bea['blueprintUrl']&&(_0x29751f=_0x34233d(0x6bc),_0x5c0da4='📘');const _0x3ec8c7=!_0x5e2bea[_0x34233d(0x99c)]?_0x34233d(0x454)+_0x5e2bea['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x34233d(0xc0d)+_0x5e2bea['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x29751f+_0x34233d(0x98a)+_0x5c0da4+'\x20'+_0x5e2bea[_0x34233d(0xb54)]+_0x34233d(0x929)+_0x5e2bea['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3ec8c7+_0x34233d(0x29c);})[_0x2b9731(0x53d)](''),_0x42a129[_0x2b9731(0x649)]>0x0&&(_0x36bb25[_0x2b9731(0x5f0)]+=_0x2b9731(0xbd7)),_0x42a129[_0x2b9731(0x649)]>0x0?_0x2db2c4['innerHTML']=_0x42a129['map'](_0x4a04f8=>{const _0x535bd7=_0x2b9731;let _0xa7bc6f='🧩';if(_0x4a04f8['blueprintUrl']&&_0x4a04f8['referenceUrl'])_0xa7bc6f='📗';else _0x4a04f8[_0x535bd7(0x7fd)]&&(_0xa7bc6f='📘');return _0x535bd7(0x349)+_0xa7bc6f+'\x20'+_0x4a04f8[_0x535bd7(0xb54)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a04f8['id']+_0x535bd7(0x964)+_0x4a04f8['id']+_0x535bd7(0x848)+(!_0x4a04f8[_0x535bd7(0x99c)]?_0x535bd7(0x454)+_0x4a04f8['id']+_0x535bd7(0xaa9):'')+_0x535bd7(0xc70);})[_0x2b9731(0x53d)](''):_0x2db2c4[_0x2b9731(0x5f0)]=_0x2b9731(0x704);}function getMimeTypeFromFilename(_0x4d9152){const _0x345cd5=_0x2f78fc,_0xb0359a=_0x4d9152[_0x345cd5(0x39e)]('.')[_0x345cd5(0x3d7)]()[_0x345cd5(0x1f2)]();switch(_0xb0359a){case _0x345cd5(0x4f4):return _0x345cd5(0x303);case'txt':return _0x345cd5(0xc91);default:return _0x345cd5(0x303);}}function openShortcutEditor(_0x343605=null){const _0x4c4739=_0x2f78fc,_0x23072b=document['getElementById'](_0x4c4739(0x4b9)),_0x5443e0=document[_0x4c4739(0x288)](_0x4c4739(0xc3e)),_0x3f5334=document[_0x4c4739(0x288)]('shortcut-id-input'),_0x497c71=document[_0x4c4739(0x288)](_0x4c4739(0x7b8)),_0x536adc=document[_0x4c4739(0x288)](_0x4c4739(0x741)),_0x36edd8=document['getElementById'](_0x4c4739(0x4c2));if(_0x343605){const _0x38192b=blueprintShortcuts['find'](_0x5b758b=>_0x5b758b['id']===_0x343605);if(!_0x38192b)return;_0x5443e0[_0x4c4739(0xb10)]=_0x4c4739(0x872),_0x3f5334[_0x4c4739(0x63b)]=_0x38192b['id'],_0x497c71[_0x4c4739(0x63b)]=_0x38192b['name'],_0x536adc[_0x4c4739(0x63b)]=_0x38192b[_0x4c4739(0x7fd)]||'',_0x36edd8[_0x4c4739(0x63b)]=_0x38192b[_0x4c4739(0xaa6)]||'';}else _0x5443e0['textContent']=_0x4c4739(0x8a9),_0x3f5334[_0x4c4739(0x63b)]='',_0x497c71[_0x4c4739(0x63b)]='',_0x536adc['value']='',_0x36edd8[_0x4c4739(0x63b)]='';_0x23072b[_0x4c4739(0xa39)][_0x4c4739(0xc4b)]('hidden');}async function saveShortcutChanges(){const _0x249630=_0x2f78fc,_0x14122c=document[_0x249630(0x288)]('shortcut-id-input')[_0x249630(0x63b)],_0x45379f=document[_0x249630(0x288)](_0x249630(0x7b8))['value'][_0x249630(0x8e1)](),_0x10da1c=document[_0x249630(0x288)](_0x249630(0x741))[_0x249630(0x63b)][_0x249630(0x8e1)]();if(!_0x45379f||!_0x10da1c){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27');return;}const _0x5d234f={'id':_0x14122c||_0x249630(0x666)+Date[_0x249630(0x9bc)](),'name':_0x45379f,'blueprintUrl':_0x10da1c,'referenceUrl':document[_0x249630(0x288)](_0x249630(0x4c2))['value'][_0x249630(0x8e1)](),'isDefault':_0x14122c[_0x249630(0xc29)]('default-')};let _0xf211df;_0x14122c?_0xf211df=blueprintShortcuts['map'](_0x4043f0=>_0x4043f0['id']===_0x14122c?_0x5d234f:_0x4043f0):_0xf211df=[...blueprintShortcuts,_0x5d234f];try{const _0x31bc06=doc(db,'globalSettings',_0x249630(0xa17));await setDoc(_0x31bc06,{'blueprintShortcuts':_0xf211df},{'merge':!![]}),document['getElementById'](_0x249630(0x4b9))[_0x249630(0xa39)][_0x249630(0x5c0)](_0x249630(0x4c5));}catch(_0x5b222b){console[_0x249630(0x40f)](_0x249630(0x699),_0x5b222b),showMessage(_0x249630(0x1bc));}}async function handleShortcutClick(_0x85d879){const _0x1ea48d=_0x2f78fc,_0x2809e9=blueprintShortcuts[_0x1ea48d(0x533)](_0x384b44=>_0x384b44['id']===_0x85d879);if(!_0x2809e9||!_0x2809e9['blueprintUrl'])return;document['getElementById'](_0x1ea48d(0x562))[_0x1ea48d(0xa39)][_0x1ea48d(0x5c0)](_0x1ea48d(0x4c5)),document[_0x1ea48d(0x288)](_0x1ea48d(0x4f3))[_0x1ea48d(0x9e8)]=!![];const _0x281c2e=document['getElementById'](_0x1ea48d(0x308)),_0x371ad7=document[_0x1ea48d(0x288)]('loader-text');document[_0x1ea48d(0x288)](_0x1ea48d(0x459))[_0x1ea48d(0xa39)]['remove'](_0x1ea48d(0x4c5)),document[_0x1ea48d(0x288)](_0x1ea48d(0x92c))['innerHTML']='',_0x281c2e[_0x1ea48d(0xa39)]['remove']('hidden');try{_0x371ad7[_0x1ea48d(0xb10)]=_0x1ea48d(0xd13);const _0x37030f=await fetchFileFromUrl(_0x2809e9[_0x1ea48d(0x7fd)],_0x1ea48d(0xc39));let _0x44c6ce=null;if(_0x2809e9[_0x1ea48d(0xaa6)]){_0x371ad7[_0x1ea48d(0xb10)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x803d34=_0x2809e9['referenceUrl'][_0x1ea48d(0x1f2)]()[_0x1ea48d(0x548)]('.txt')?'reference.txt':_0x1ea48d(0xb15);_0x44c6ce=await fetchFileFromUrl(_0x2809e9[_0x1ea48d(0xaa6)],_0x803d34);}await handleGenerateFromBlueprintWithFiles(_0x37030f,_0x44c6ce);}catch(_0x663a2b){console['error'](_0x1ea48d(0x610),_0x663a2b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x663a2b[_0x1ea48d(0x42d)]),_0x281c2e[_0x1ea48d(0xa39)][_0x1ea48d(0x5c0)](_0x1ea48d(0x4c5));}}function getDirectDownloadUrl(_0xa0c4a){const _0x360b77=_0x2f78fc,_0x3cfa05=_0xa0c4a[_0x360b77(0x3c2)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x3cfa05&&_0x3cfa05[0x1])return _0x360b77(0xb14)+_0x3cfa05[0x1];return _0xa0c4a;}async function fetchFileFromUrl(_0x1ce189,_0x208cda){const _0x236afa=_0x2f78fc,_0x268629=getDirectDownloadUrl(_0x1ce189),_0x207839=_0x236afa(0x3f9)+encodeURIComponent(_0x268629),_0x4aea68=await fetch(_0x207839);if(!_0x4aea68['ok'])throw new Error(_0x236afa(0x3af)+_0x4aea68[_0x236afa(0xa78)]+')');const _0xabcfe5=await _0x4aea68['blob'](),_0x4ff880=await new Promise((_0x4ef48e,_0x652df4)=>{const _0xde5b8d=_0x236afa,_0x4e7001=new FileReader();_0x4e7001['onloadend']=()=>_0x4ef48e(new Uint8Array(_0x4e7001[_0xde5b8d(0xc80)])),_0x4e7001[_0xde5b8d(0xa1b)]=_0x652df4,_0x4e7001[_0xde5b8d(0x594)](_0xabcfe5['slice'](0x0,0x4));});let _0x5bc67e='';const _0x56d4d6=new TextDecoder()['decode'](_0x4ff880);return _0x56d4d6==='%PDF'?(_0x5bc67e=_0x236afa(0x303),console['log']('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x5bc67e='text/plain',console[_0x236afa(0x516)](_0x236afa(0x896))),new File([_0xabcfe5],_0x208cda,{'type':_0x5bc67e});}async function handleGenerateFromBlueprintWithFiles(_0x1f5022,_0x552b6b=null){const _0x5d1d14=_0x2f78fc;if(!_0x1f5022){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x21ae1e=document[_0x5d1d14(0x288)](_0x5d1d14(0x308)),_0x4ed348=document[_0x5d1d14(0x288)]('loader-text');_0x21ae1e[_0x5d1d14(0xa39)][_0x5d1d14(0xc4b)](_0x5d1d14(0x4c5)),document['getElementById'](_0x5d1d14(0x459))['classList'][_0x5d1d14(0xc4b)]('hidden'),document[_0x5d1d14(0x288)]('generated-quiz-container')[_0x5d1d14(0x5f0)]='';try{_0x4ed348['textContent']=_0x5d1d14(0x5c4);const _0x30ece4=await new Promise((_0x33568c,_0xd6fe38)=>{const _0x392e1c=_0x5d1d14,_0x10c6fd=new FileReader();_0x10c6fd[_0x392e1c(0xca6)](_0x1f5022),_0x10c6fd[_0x392e1c(0x29e)]=()=>_0x33568c(_0x10c6fd[_0x392e1c(0xc80)][_0x392e1c(0x39e)](',')[0x1]),_0x10c6fd[_0x392e1c(0xa1b)]=_0xd6fe38;}),_0x232f03=[];if(_0x552b6b){_0x4ed348['textContent']=_0x5d1d14(0x49d);const _0x2e366a=await _0x552b6b[_0x5d1d14(0x537)]();_0x232f03[_0x5d1d14(0x346)]({'text':_0x5d1d14(0xc3a)+_0x2e366a});}const _0x408cf5=[{'text':_0x5d1d14(0x914)},{'inlineData':{'mimeType':_0x1f5022[_0x5d1d14(0x5b4)],'data':_0x30ece4}},..._0x232f03];await handleGenerateFromBlueprint(_0x408cf5);}catch(_0x4fbcd8){console[_0x5d1d14(0x40f)]('Error\x20in\x20generating\x20from\x20files:',_0x4fbcd8),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4fbcd8[_0x5d1d14(0x42d)]),_0x21ae1e[_0x5d1d14(0xa39)]['add'](_0x5d1d14(0x4c5));}}async function handleLiveAnswer(_0x29397b,_0x2dfb9e){const _0x3cb61e=_0x2f78fc;document[_0x3cb61e(0x3db)](_0x3cb61e(0x2f2))[_0x3cb61e(0x220)](_0x14469f=>_0x14469f[_0x3cb61e(0x9e8)]=!![]);const _0x44655a=_0x2dfb9e[_0x3cb61e(0x8a4)]||currentQuizData[_0x3cb61e(0x58f)];let _0x563555=![],_0x1b6014=_0x29397b;if(_0x44655a==='short_answer'){const _0x12569d=(_0x29397b||'')['toString']();_0x563555=await gradeShortAnswer(_0x12569d,_0x2dfb9e);}else{if(_0x44655a===_0x3cb61e(0x318))_0x563555=_0x29397b===_0x2dfb9e[_0x3cb61e(0x90b)];else{if(_0x44655a===_0x3cb61e(0x253)){const _0x40e4c9=_0x2dfb9e[_0x3cb61e(0xafe)];_0x563555=_0x29397b===0x0&&_0x40e4c9||_0x29397b===0x1&&!_0x40e4c9;}else{if(_0x44655a===_0x3cb61e(0x5b0)){const _0x110e3f=_0x2dfb9e[_0x3cb61e(0xa99)][_0x29397b];_0x563555=_0x110e3f===_0x2dfb9e[_0x3cb61e(0x2c7)],_0x1b6014=_0x110e3f;}}}}const _0x40a174=doc(db,_0x3cb61e(0x309)+appId+'/public/data/liveGames',currentLiveGameId),_0x153356={};_0x153356['players.'+currentStudentName+_0x3cb61e(0x2e9)]=!![],_0x153356['players.'+currentStudentName+'.lastAnswerCorrect']=_0x563555,_0x153356['players.'+currentStudentName+_0x3cb61e(0xb80)]=_0x44655a==='short_answer'||_0x44655a===_0x3cb61e(0x5b0)?null:_0x29397b,_0x153356[_0x3cb61e(0x1f6)+currentStudentName+_0x3cb61e(0x37a)]=_0x1b6014,_0x153356[_0x3cb61e(0x1f6)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x153356[_0x3cb61e(0x1f6)+currentStudentName+_0x3cb61e(0xcc8)]=![],await updateDoc(_0x40a174,_0x153356),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x4c5973,_0x48338c){const _0x4d3cf8=_0x2f78fc,_0x8a9e29=Object[_0x4d3cf8(0xa59)](_0x4c5973[_0x4d3cf8(0xa90)]||{}),_0x3d74b2=_0x48338c[_0x4d3cf8(0x8a4)]||currentQuizData['quizType'],_0x387fbb=_0x3d74b2===_0x4d3cf8(0x253)?[_0x4d3cf8(0xad6),_0x4d3cf8(0x3d3)]:_0x48338c[_0x4d3cf8(0x67e)]||_0x48338c[_0x4d3cf8(0xa99)]||[],_0x2ad544={},_0x3ab7f7=new Array(_0x387fbb['length'])[_0x4d3cf8(0x2ba)](0x0);_0x387fbb[_0x4d3cf8(0x220)]((_0x159726,_0x324413)=>{_0x2ad544[_0x324413]=[];}),Object[_0x4d3cf8(0x41a)](_0x4c5973[_0x4d3cf8(0xa90)]||{})['forEach'](([_0x3a3e20,_0x35619f])=>{const _0x430d26=_0x4d3cf8;if(_0x35619f[_0x430d26(0xa78)]===_0x430d26(0xadb)&&_0x35619f['lastAnswerIndex']!==undefined){const _0x3a388b=_0x35619f[_0x430d26(0x327)];_0x2ad544[_0x3a388b]&&(_0x2ad544[_0x3a388b]['push'](_0x3a3e20),_0x3ab7f7[_0x3a388b]++);}});const _0xe76040=Math[_0x4d3cf8(0x509)](..._0x3ab7f7,0x1),_0x3c5613=_0x4d3cf8(0xbf0)+(_0x48338c['stem']||_0x48338c['questionText'])+_0x4d3cf8(0x2e6)+_0x3ab7f7[_0x4d3cf8(0x598)]((_0x3bea54,_0x4f2c85)=>{const _0x551404=_0x4d3cf8,_0x2ff317=_0x2ad544[_0x4f2c85]['length']>0x0?_0x2ad544[_0x4f2c85][_0x551404(0x53d)](',\x20'):_0x551404(0x59f);let _0x36fad2=![];if(_0x3d74b2===_0x551404(0x318))_0x36fad2=_0x4f2c85===_0x48338c[_0x551404(0x90b)];else{if(_0x3d74b2===_0x551404(0x253)){const _0x1877e2=_0x48338c[_0x551404(0xafe)];_0x36fad2=_0x1877e2&&_0x4f2c85===0x0||!_0x1877e2&&_0x4f2c85===0x1;}else _0x3d74b2===_0x551404(0x5b0)&&(_0x36fad2=_0x387fbb[_0x4f2c85]===_0x48338c[_0x551404(0x2c7)]);}const _0x356d1b=_0x36fad2?_0x551404(0x8bf):'#e21b3c';return _0x551404(0xc9d)+_0x3bea54+_0x551404(0x977)+_0x356d1b+_0x551404(0x943)+_0x4f2c85+_0x551404(0xbc4)+_0x387fbb[_0x4f2c85]+_0x551404(0xaa1)+_0x4f2c85+_0x551404(0x55b)+_0x2ff317+_0x551404(0x3c3);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3c5613;if(window[_0x4d3cf8(0x5ed)])MathJax[_0x4d3cf8(0x3d1)]();document[_0x4d3cf8(0x288)]('show-leaderboard-btn')[_0x4d3cf8(0x5b2)](_0x4d3cf8(0x8d9),async()=>{const _0x339799=_0x4d3cf8,_0x46b088=doc(db,_0x339799(0x309)+appId+_0x339799(0x85f),currentLiveGameId);await updateDoc(_0x46b088,{'questionStatus':_0x339799(0xd17)});}),document[_0x4d3cf8(0x288)](_0x4d3cf8(0x7dc))[_0x4d3cf8(0x5b2)](_0x4d3cf8(0x8d9),()=>{openScratchpad(_0x48338c,_0x387fbb);});}function showPlayerSummaryView(_0x3c152f,_0x4530d6){const _0x541927=_0x2f78fc,_0x2fed9c=Object['values'](_0x3c152f['players']||{}),_0x358c9e=_0x3c152f[_0x541927(0xa90)][_0x4530d6],_0x9f36ad=_0x2fed9c[_0x541927(0x3e1)](_0x502db1=>_0x502db1[_0x541927(0xa78)]===_0x541927(0xadb))[_0x541927(0x310)]((_0x3c6e50,_0x4b902e)=>_0x4b902e['score']-_0x3c6e50[_0x541927(0x447)]),_0x2a639e=_0x9f36ad[_0x541927(0x6f6)](_0x51a0df=>_0x51a0df===_0x358c9e)+0x1,_0x1ccaca=_0x358c9e['lastAnswerCorrect']?_0x541927(0x242):'ผิด',_0x31071d=_0x358c9e[_0x541927(0xa7f)]?_0x541927(0x267):_0x541927(0x631),_0x286c16=_0x358c9e[_0x541927(0x67d)]||0x0,_0x124d72=_0x541927(0x692),_0x3266c4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x124d72+_0x541927(0x56f)+_0x31071d+_0x541927(0x342)+_0x1ccaca+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x286c16+_0x541927(0x683)+(_0x2a639e>0x0?_0x2a639e:'-')+_0x541927(0x2ff);liveGameView[_0x541927(0x5f0)]=_0x3266c4;}function createQuizFromBank(){const _0x5e49cd=_0x2f78fc,_0x1ae2bb=document['querySelectorAll'](_0x5e49cd(0x4ad));if(_0x1ae2bb[_0x5e49cd(0x649)]===0x0){showMessage(_0x5e49cd(0xc0a));return;}const _0x33275f=[];_0x1ae2bb[_0x5e49cd(0x220)](_0x3632d1=>{const _0x51975f=_0x5e49cd;_0x33275f[_0x51975f(0x346)](JSON[_0x51975f(0x560)](_0x3632d1[_0x51975f(0x63b)]));});const _0x35a5f6={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x33275f};displayGeneratedQuiz(_0x35a5f6);}function showAdminLobbyView(_0xe49db0,_0x23f676){const _0x1993be=_0x2f78fc;showView(_0x1993be(0x624));const _0x3614c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x23f676+_0x1993be(0xc2a)+_0xe49db0+_0x1993be(0x3f5);liveGameView['innerHTML']=_0x3614c8,document[_0x1993be(0x288)](_0x1993be(0x957))['addEventListener'](_0x1993be(0x8d9),async()=>{const _0x34ee56=_0x1993be;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x34ee56(0xc81)][_0x34ee56(0x649)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x4b935e=doc(db,_0x34ee56(0x309)+appId+_0x34ee56(0x85f),currentLiveGameId);await updateDoc(_0x4b935e,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xce05af=currentQuizData['questions'][0x0],_0x2d339d=currentQuizData['questions'][_0x34ee56(0x649)];showAdminLiveQuestionView(_0xce05af,0x0,_0x2d339d);}catch(_0x5002ce){console['error'](_0x34ee56(0x7ad),_0x5002ce),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0xf7abc4=_0x2f78fc;if(allQuizzesGlobal['length']===0x0){const _0x42619d=await getDocs(collection(db,_0xf7abc4(0x309)+appId+_0xf7abc4(0x480)));allQuizzesGlobal=_0x42619d[_0xf7abc4(0x2ea)]['map'](_0x1e1c7a=>({'id':_0x1e1c7a['id'],..._0x1e1c7a[_0xf7abc4(0xc89)]()}));}renderQuizBankList(''),document[_0xf7abc4(0x288)]('quiz-bank-modal')[_0xf7abc4(0xa39)]['remove'](_0xf7abc4(0x4c5));}function renderQuizBankList(_0x1be1ce='',_0x4e3e15=![]){const _0x26f330=_0x2f78fc,_0x5b3df7=document['getElementById'](_0x26f330(0x4c6)),_0x39e499=_0x1be1ce[_0x26f330(0x1f2)]()[_0x26f330(0x8e1)](),_0x3e3717=allQuizzesGlobal[_0x26f330(0x598)](_0x49547a=>({..._0x49547a,'projectName':allProjects[_0x26f330(0x533)](_0x3cfed2=>_0x3cfed2['id']===_0x49547a[_0x26f330(0x93e)])?.[_0x26f330(0xc51)]||_0x26f330(0x86a)}))[_0x26f330(0x3e1)](_0x1ca9d8=>(_0x1ca9d8[_0x26f330(0x32c)]||'')['toLowerCase']()[_0x26f330(0x96b)](_0x39e499)||(_0x1ca9d8['projectName']||'')[_0x26f330(0x1f2)]()[_0x26f330(0x96b)](_0x39e499)||_0x1ca9d8['id'][_0x26f330(0x2d0)]()[_0x26f330(0x96b)](_0x39e499));document['getElementById']('quiz-bank-count')[_0x26f330(0xb10)]='('+_0x3e3717[_0x26f330(0x649)]+'\x20ชุด)',_0x5b3df7['innerHTML']=_0x3e3717['length']?_0x3e3717[_0x26f330(0x598)](_0x3dcca6=>{const _0x16b1b0=_0x26f330,_0x846bf9=!_0x4e3e15?_0x16b1b0(0xb28)+_0x3dcca6['id']+_0x16b1b0(0xaaf)+_0x3dcca6['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3dcca6['id']+_0x16b1b0(0xb40)+_0x3dcca6['id']+_0x16b1b0(0x8fe)+_0x3dcca6['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3dcca6['id']+'\x22\x20data-topic=\x22'+_0x3dcca6[_0x16b1b0(0x32c)]+_0x16b1b0(0x3c9):'';return _0x16b1b0(0x9c6)+_0x3dcca6['id']+_0x16b1b0(0x8b8)+(_0x3dcca6[_0x16b1b0(0x32c)]||_0x16b1b0(0x45c))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x3dcca6[_0x16b1b0(0xc81)]?.['length']||0x0)+_0x16b1b0(0x626)+_0x3dcca6[_0x16b1b0(0xc51)]+_0x16b1b0(0x39c)+_0x3dcca6['id']+_0x16b1b0(0x37e)+_0x846bf9+'\x0a\x20\x20\x20\x20\x20\x20</div>';})['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x4e3e15&&(_0x5b3df7[_0x26f330(0x3db)](_0x26f330(0xc63))[_0x26f330(0x220)](_0x4a65e0=>{const _0x38a986=_0x26f330;_0x4a65e0[_0x38a986(0x5b2)](_0x38a986(0x8d9),()=>{const _0x1ae3d4=_0x38a986,_0x2535d3=_0x4a65e0['dataset']['id'];document[_0x1ae3d4(0x288)](_0x1ae3d4(0x855))[_0x1ae3d4(0xa39)][_0x1ae3d4(0x5c0)](_0x1ae3d4(0x4c5)),showQuizDetailView(_0x2535d3);});}),_0x5b3df7[_0x26f330(0x3db)](_0x26f330(0xa40))[_0x26f330(0x220)](_0x5939d9=>{const _0x2d1853=_0x26f330;_0x5939d9[_0x2d1853(0x5b2)](_0x2d1853(0x8d9),_0x2a9981=>{const _0x5e5a00=_0x2d1853;_0x2a9981[_0x5e5a00(0xb82)]();const _0x577273=_0x5939d9[_0x5e5a00(0xa66)]['id'],_0x5e02ee=allQuizzesGlobal[_0x5e5a00(0x533)](_0x32894f=>_0x32894f['id']===_0x577273);_0x5e02ee?(currentQuizData=_0x5e02ee,document[_0x5e5a00(0x288)](_0x5e5a00(0x855))[_0x5e5a00(0xa39)][_0x5e5a00(0x5c0)](_0x5e5a00(0x4c5)),startAdminTest()):showMessage(_0x5e5a00(0x663));});}),_0x5b3df7[_0x26f330(0x3db)]('.quiz-bank-parallel-btn')[_0x26f330(0x220)](_0x2cf993=>{const _0x35233b=_0x26f330;_0x2cf993[_0x35233b(0x5b2)]('click',_0x21697e=>{const _0x37f308=_0x35233b;_0x21697e[_0x37f308(0xb82)]();const _0xfde1d1=_0x2cf993[_0x37f308(0xa66)]['id'],_0x769888=allQuizzesGlobal['find'](_0x3a9bcb=>_0x3a9bcb['id']===_0xfde1d1);_0x769888?(document['getElementById'](_0x37f308(0x855))[_0x37f308(0xa39)][_0x37f308(0x5c0)](_0x37f308(0x4c5)),handleGenerateParallelFromBank(_0x769888)):showMessage(_0x37f308(0x663));});}),_0x5b3df7[_0x26f330(0x3db)]('.quiz-bank-present-btn')[_0x26f330(0x220)](_0x228220=>{const _0x545343=_0x26f330;_0x228220[_0x545343(0x5b2)](_0x545343(0x8d9),_0x3cea88=>{const _0x3f1fd9=_0x545343;_0x3cea88['stopPropagation']();const _0x53ed35=_0x228220[_0x3f1fd9(0xa66)]['id'],_0x4d05df=allQuizzesGlobal['find'](_0x3d3398=>_0x3d3398['id']===_0x53ed35);_0x4d05df?(document[_0x3f1fd9(0x288)](_0x3f1fd9(0x855))[_0x3f1fd9(0xa39)][_0x3f1fd9(0x5c0)](_0x3f1fd9(0x4c5)),startPresentation(_0x4d05df)):showMessage(_0x3f1fd9(0x663));});}),_0x5b3df7[_0x26f330(0x3db)]('.quiz-bank-move-btn')[_0x26f330(0x220)](_0x394628=>{const _0x500c85=_0x26f330;_0x394628[_0x500c85(0x5b2)](_0x500c85(0x8d9),_0x30a5b4=>{const _0x52024b=_0x500c85;_0x30a5b4['stopPropagation']();const _0x179fb7=_0x394628[_0x52024b(0xa66)]['id'];document[_0x52024b(0x288)](_0x52024b(0x855))[_0x52024b(0xa39)][_0x52024b(0x5c0)](_0x52024b(0x4c5)),handleMoveQuiz(_0x179fb7);});}),_0x5b3df7['querySelectorAll']('.quiz-bank-settings-btn')[_0x26f330(0x220)](_0x3441bb=>{const _0x421e00=_0x26f330;_0x3441bb[_0x421e00(0x5b2)]('click',_0x18e0a8=>{const _0x5970cb=_0x421e00;_0x18e0a8[_0x5970cb(0xb82)]();const _0x381d65=_0x3441bb['dataset']['id'];document[_0x5970cb(0x288)]('quiz-bank-modal')[_0x5970cb(0xa39)]['add'](_0x5970cb(0x4c5)),handleQuizSettings(_0x381d65);});}),_0x5b3df7['querySelectorAll'](_0x26f330(0x886))[_0x26f330(0x220)](_0x19b671=>{const _0x218b0b=_0x26f330;_0x19b671[_0x218b0b(0x5b2)](_0x218b0b(0x8d9),_0xe8960a=>{const _0x133d57=_0x218b0b;_0xe8960a['stopPropagation']();const _0x2de8f5=_0x19b671['dataset']['id'],_0x5767e8=_0x19b671['dataset'][_0x133d57(0x32c)];showConfirmation(_0x133d57(0x9fa)+_0x5767e8+_0x133d57(0x331),()=>handleDeleteQuiz(_0x2de8f5));});}));}async function handleCompareResults(_0xbdc391,_0xb01428){const _0x13b9f9=_0x2f78fc,_0x5d6b0a=document[_0x13b9f9(0x288)](_0x13b9f9(0x418)),_0x4a3829=document[_0x13b9f9(0x288)](_0x13b9f9(0xa11)),_0x3f838b=document[_0x13b9f9(0x288)](_0x13b9f9(0x56e));document['getElementById'](_0x13b9f9(0x3cb))['classList'][_0x13b9f9(0x5c0)](_0x13b9f9(0xadb)),document[_0x13b9f9(0x288)](_0x13b9f9(0xa67))[_0x13b9f9(0xa39)][_0x13b9f9(0xc4b)](_0x13b9f9(0xadb)),_0x4a3829['classList'][_0x13b9f9(0xc4b)](_0x13b9f9(0x4c5)),_0x3f838b[_0x13b9f9(0xa39)]['add'](_0x13b9f9(0x4c5)),_0x4a3829[_0x13b9f9(0x5f0)]=_0x13b9f9(0x4ac),_0x3f838b['innerHTML']='',_0x5d6b0a[_0x13b9f9(0xa39)]['remove'](_0x13b9f9(0x4c5));try{const _0x38ce4e=doc(db,'artifacts/'+appId+_0x13b9f9(0x480),_0xbdc391),_0x30a6c5=await getDoc(_0x38ce4e);if(!_0x30a6c5[_0x13b9f9(0x5e4)]())throw new Error(_0x13b9f9(0xca1));const _0x1ff363=_0x30a6c5[_0x13b9f9(0xc89)](),_0x1cb31b=_0x1ff363[_0x13b9f9(0xc81)][_0x13b9f9(0x649)],_0x5f2060=collection(db,'artifacts/'+appId+_0x13b9f9(0x86b)+_0xb01428+_0x13b9f9(0x74a)),_0x4b6094=collection(db,_0x13b9f9(0x309)+appId+_0x13b9f9(0x86b)+_0xbdc391+'/submissions'),[_0x3259d6,_0xd0d8d3]=await Promise['all']([getDocs(_0x5f2060),getDocs(_0x4b6094)]),_0x420a1f=_0x3259d6[_0x13b9f9(0x2ea)]['map'](_0x1e0279=>_0x1e0279[_0x13b9f9(0xc89)]()),_0xf6766b=_0xd0d8d3[_0x13b9f9(0x2ea)][_0x13b9f9(0x598)](_0x2043e0=>_0x2043e0['data']()),_0x3aa4b4=_0x420a1f[_0x13b9f9(0x598)](_0x3039e5=>_0x3039e5['latestScore']),_0x1f34ad=_0xf6766b[_0x13b9f9(0x598)](_0x4471b8=>_0x4471b8[_0x13b9f9(0x44a)]),_0xe0e99b=calculateMeanAndStdDev(_0x3aa4b4),_0x30fd41=calculateMeanAndStdDev(_0x1f34ad),_0x448a2a=_0xe0e99b[_0x13b9f9(0x425)],_0x217a3a=_0x30fd41['mean'],_0x1766e3=_0x217a3a-_0x448a2a;let _0x5efd61=_0x13b9f9(0x8ee)+_0x448a2a[_0x13b9f9(0x763)](0x2)+_0x13b9f9(0x868)+_0x217a3a[_0x13b9f9(0x763)](0x2)+_0x13b9f9(0x60d)+(_0x1766e3>=0x0?_0x13b9f9(0xb44):_0x13b9f9(0xa3d))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1766e3>=0x0?_0x13b9f9(0xbcc):_0x13b9f9(0x413))+_0x13b9f9(0x402)+(_0x1766e3>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0x1766e3>=0x0?'+':'')+_0x1766e3[_0x13b9f9(0x763)](0x2)+_0x13b9f9(0xb26);_0x4a3829[_0x13b9f9(0x5f0)]=_0x5efd61;const _0x10b721=document[_0x13b9f9(0x288)](_0x13b9f9(0x9a7))[_0x13b9f9(0x865)]('2d');if(chartInstances['comparison'])chartInstances[_0x13b9f9(0x29f)][_0x13b9f9(0xae8)]();chartInstances[_0x13b9f9(0x29f)]=new Chart(_0x10b721,{'type':_0x13b9f9(0xb83),'data':{'labels':[_0x13b9f9(0x1a9)],'datasets':[{'label':'ก่อนเรียน','data':[_0x448a2a],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x13b9f9(0x4fb),'data':[_0x217a3a],'backgroundColor':_0x13b9f9(0x38b)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1cb31b}}}});const _0x574f0f=currentProjectData[_0x13b9f9(0x595)]||[],_0x57ae76=_0x574f0f[_0x13b9f9(0x598)](_0x39cae2=>{const _0xe01709=_0x13b9f9,_0x2156f9=_0x420a1f[_0xe01709(0x533)](_0x58f03b=>_0x58f03b[_0xe01709(0xc3d)]===_0x39cae2),_0x2c2fe1=_0xf6766b[_0xe01709(0x533)](_0x2b6985=>_0x2b6985[_0xe01709(0xc3d)]===_0x39cae2),_0x3c0497=_0x2156f9?_0x2156f9[_0xe01709(0x44a)]:null,_0x35f51c=_0x2c2fe1?_0x2c2fe1[_0xe01709(0x44a)]:null,_0x4b8003=_0x3c0497!==null&&_0x35f51c!==null?_0x35f51c-_0x3c0497:null,_0x5a4988=_0x3c0497!==null?calculateZScore(_0x3c0497,_0xe0e99b['mean'],_0xe0e99b[_0xe01709(0x2ab)]):null,_0x27c529=_0x35f51c!==null?calculateZScore(_0x35f51c,_0x30fd41['mean'],_0x30fd41['stdDev']):null,_0x2fc28c=_0x5a4988!==null?calculateTScore(_0x5a4988):null,_0x4838a7=_0x27c529!==null?calculateTScore(_0x27c529):null,_0x46f165=_0x2fc28c!==null&&_0x4838a7!==null?_0x4838a7-_0x2fc28c:null;return{'name':_0x39cae2,'preScore':_0x3c0497,'postScore':_0x35f51c,'gain':_0x4b8003,'preTScore':_0x2fc28c,'postTScore':_0x4838a7,'tGain':_0x46f165};});renderIndividualComparisonTable(_0x57ae76,_0x3f838b);}catch(_0x4650d4){console['error'](_0x13b9f9(0xb88),_0x4650d4),_0x4a3829[_0x13b9f9(0x5f0)]=_0x13b9f9(0xc61);}}async function saveBlueprintProject(){const _0x31acce=_0x2f78fc;if(!extractedBlueprintData||!extractedBlueprintData[_0x31acce(0x6b7)]){showMessage(_0x31acce(0x638));return;}const _0x26201c=prompt(_0x31acce(0x8f4),_0x31acce(0x590));if(!_0x26201c||_0x26201c[_0x31acce(0x8e1)]()==='')return;const _0x4c8993={};extractedBlueprintData['curriculum'][_0x31acce(0x220)](_0x1d6d4a=>{const _0x3ffeda=_0x31acce;_0x1d6d4a[_0x3ffeda(0x942)][_0x3ffeda(0x220)](_0xa3d6c8=>{const _0xc16b35=_0x3ffeda;_0xa3d6c8['subTopics'][_0xc16b35(0x220)](_0x3f15ca=>{const _0x1636ec=_0xc16b35,_0x6b8070=_0x1636ec(0x913)+Date[_0x1636ec(0x9bc)]()+Math[_0x1636ec(0x40c)]()[_0x1636ec(0x2d0)](0x24)[_0x1636ec(0x4f9)](0x2,0x9);_0x4c8993[_0x6b8070]={'sara':_0x1d6d4a[_0x1636ec(0x27b)],'mainTopic':_0xa3d6c8[_0x1636ec(0x8b1)],'subTopic':_0x3f15ca,'status':'not_generated','lessonContent':null};});});});try{const _0x4f502e=collection(db,'artifacts/'+appId+_0x31acce(0xd0b));await addDoc(_0x4f502e,{'projectName':_0x26201c[_0x31acce(0x8e1)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x4c8993,'createdAt':serverTimestamp()}),showMessage(_0x31acce(0x1c0)+_0x26201c['trim']()+_0x31acce(0x436)),document[_0x31acce(0x288)]('save-blueprint-as-project-btn')[_0x31acce(0xa39)][_0x31acce(0x5c0)]('hidden');}catch(_0x573df3){console['error'](_0x31acce(0x226),_0x573df3),showMessage(_0x31acce(0x68c));}}async function showBlueprintProjects(){const _0x2b77c7=_0x2f78fc,_0x142f6=document[_0x2b77c7(0x288)]('blueprint-projects-modal'),_0x54d6c8=document[_0x2b77c7(0x288)]('blueprint-project-list');_0x54d6c8[_0x2b77c7(0x5f0)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x142f6[_0x2b77c7(0xa39)][_0x2b77c7(0xc4b)](_0x2b77c7(0x4c5));try{const _0x583717=collection(db,_0x2b77c7(0x309)+appId+'/public/data/blueprintProjects'),_0x256bca=await getDocs(_0x583717);if(_0x256bca['empty']){_0x54d6c8[_0x2b77c7(0x5f0)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x167bd7=_0x256bca[_0x2b77c7(0x2ea)]['map'](_0x1dd96e=>({'id':_0x1dd96e['id'],..._0x1dd96e[_0x2b77c7(0xc89)]()}));_0x167bd7['sort']((_0x86c95b,_0xd6b078)=>_0x86c95b[_0x2b77c7(0xc51)][_0x2b77c7(0xc26)](_0xd6b078['projectName'],'th')),_0x54d6c8[_0x2b77c7(0x5f0)]=_0x167bd7[_0x2b77c7(0x598)](_0x2993e8=>_0x2b77c7(0x74c)+_0x2993e8['projectName']+_0x2b77c7(0x2a9)+_0x2993e8[_0x2b77c7(0xc92)]+_0x2b77c7(0x48b)+Object[_0x2b77c7(0x695)](_0x2993e8[_0x2b77c7(0x227)])[_0x2b77c7(0x649)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2993e8['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2993e8['id']+_0x2b77c7(0xc77))[_0x2b77c7(0x53d)]('');}catch(_0x374453){console[_0x2b77c7(0x40f)](_0x2b77c7(0x77a),_0x374453),_0x54d6c8[_0x2b77c7(0x5f0)]=_0x2b77c7(0x68e);}}async function displayBlueprintProjectManager(_0x53622e){const _0x45f57f=_0x2f78fc;currentBlueprintProjectId=_0x53622e,document[_0x45f57f(0x288)](_0x45f57f(0x979))['classList'][_0x45f57f(0x5c0)](_0x45f57f(0x4c5)),showView(_0x45f57f(0x6a2)),projectDashboardView[_0x45f57f(0xa39)]['add'](_0x45f57f(0x4c5));const _0x3b421c=document['getElementById'](_0x45f57f(0x5ec));_0x3b421c[_0x45f57f(0xa39)][_0x45f57f(0xc4b)](_0x45f57f(0x4c5)),document[_0x45f57f(0x288)]('bp-topic-list-container')[_0x45f57f(0x5f0)]=_0x45f57f(0x4ac);try{const _0x3ff3b9=doc(db,_0x45f57f(0x309)+appId+_0x45f57f(0xd0b),_0x53622e),_0x55061f=await getDoc(_0x3ff3b9);if(!_0x55061f['exists']())throw new Error(_0x45f57f(0x4fe));const _0x11da95={'id':_0x55061f['id'],..._0x55061f['data']()};document['getElementById'](_0x45f57f(0xb4d))[_0x45f57f(0xb10)]=_0x11da95['projectName'],renderBlueprintTopicManager(_0x11da95);}catch(_0x58c823){console[_0x45f57f(0x40f)]('Error\x20displaying\x20blueprint\x20project:',_0x58c823),showMessage(_0x58c823['message']),showView(_0x45f57f(0x6a2));}}function renderBlueprintTopicManager(_0x17471a){const _0x654f8=_0x2f78fc,_0x534f30=document['getElementById'](_0x654f8(0x640)),_0x59e86c=_0x17471a[_0x654f8(0x227)]||{};if(Object[_0x654f8(0x695)](_0x59e86c)[_0x654f8(0x649)]===0x0){_0x534f30[_0x654f8(0x5f0)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x36b1f9={};for(const _0x3bcbdf in _0x59e86c){const _0x11b34b={'id':_0x3bcbdf,..._0x59e86c[_0x3bcbdf]};_0x36b1f9[_0x11b34b[_0x654f8(0x27b)]]=_0x36b1f9[_0x11b34b[_0x654f8(0x27b)]]||{},_0x36b1f9[_0x11b34b[_0x654f8(0x27b)]][_0x11b34b[_0x654f8(0xb96)]]=_0x36b1f9[_0x11b34b[_0x654f8(0x27b)]][_0x11b34b[_0x654f8(0xb96)]]||[],_0x36b1f9[_0x11b34b[_0x654f8(0x27b)]][_0x11b34b[_0x654f8(0xb96)]][_0x654f8(0x346)](_0x11b34b);}let _0x240502='';const _0x376f1c=Object[_0x654f8(0x695)](_0x36b1f9)[_0x654f8(0x310)]((_0x3c887c,_0x1c1409)=>_0x3c887c[_0x654f8(0xc26)](_0x1c1409,'th'));for(const _0x1a15ab of _0x376f1c){_0x240502+=_0x654f8(0x265)+_0x1a15ab+_0x654f8(0x271);const _0x42a301=Object['keys'](_0x36b1f9[_0x1a15ab])[_0x654f8(0x310)]((_0x1440c7,_0x88ec53)=>_0x1440c7['localeCompare'](_0x88ec53,'th'));for(const _0xfc98aa of _0x42a301){_0x240502+=_0x654f8(0x97e)+_0xfc98aa+_0x654f8(0xb11),_0x36b1f9[_0x1a15ab][_0xfc98aa]['sort']((_0x4bd134,_0x2e57a9)=>_0x4bd134[_0x654f8(0xb55)][_0x654f8(0xc26)](_0x2e57a9[_0x654f8(0xb55)],'th')),_0x36b1f9[_0x1a15ab][_0xfc98aa]['forEach'](_0x172ed1=>{const _0x57c575=_0x654f8,_0x1aaad3=_0x172ed1['id'],_0x1be5ae=_0x172ed1['linkedQuizIds']||[],_0x62a669=_0x1be5ae[_0x57c575(0x649)]>0x0,_0xf0851c=_0x172ed1[_0x57c575(0xa78)]==='generated';let _0x46d915='';_0x62a669?_0x46d915=_0x57c575(0x714)+_0x1be5ae['length']+_0x57c575(0x63d):_0x46d915='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0xf0851c?_0x57c575(0x435):_0x57c575(0x52d))+'\x22>'+(_0xf0851c?_0x57c575(0xa18):'ยังไม่สร้าง')+_0x57c575(0x455);const _0x5544dc=!_0xf0851c?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x590a3d=!_0xf0851c?_0x57c575(0xb84):'';let _0x2fff76=_0xf0851c?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x57c575(0x711);_0x240502+=_0x57c575(0x5fd)+_0x1aaad3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x172ed1[_0x57c575(0xb55)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46d915+_0x57c575(0x7bf)+_0x5544dc+_0x57c575(0xbbf)+_0x590a3d+_0x57c575(0xa1f)+_0x2fff76+_0x57c575(0x752);}),_0x240502+=_0x654f8(0x6c0);}_0x240502+='</div>';}_0x534f30[_0x654f8(0x5f0)]=_0x240502;}async function openTopicQuizBank(_0x43eaf2){const _0x24aa60=_0x2f78fc,_0x2c30e1=document[_0x24aa60(0x288)](_0x24aa60(0x563)),_0x1035dc=document[_0x24aa60(0x288)](_0x24aa60(0x535)),_0x2dbc96=document[_0x24aa60(0x288)](_0x24aa60(0x9de));try{await ensureGlobalQuizzesLoaded();const _0x13cb50=doc(db,_0x24aa60(0x309)+appId+_0x24aa60(0xd0b),currentBlueprintProjectId),_0x554ca2=await getDoc(_0x13cb50);if(!_0x554ca2[_0x24aa60(0x5e4)]())return;const _0xd330b7=_0x554ca2[_0x24aa60(0xc89)](),_0x2516d3=_0xd330b7[_0x24aa60(0x227)][_0x43eaf2];document[_0x24aa60(0x288)]('topic-bank-subtopic-name')[_0x24aa60(0xb10)]=_0x2516d3[_0x24aa60(0xb55)];const _0x360609=_0x2516d3['linkedQuizIds']||[];_0x2dbc96[_0x24aa60(0xa39)]['toggle'](_0x24aa60(0x4c5),_0x360609[_0x24aa60(0x649)]===0x0),_0x2dbc96['onclick']=()=>handleClearAllLinksForTopic(_0x43eaf2);if(_0x360609[_0x24aa60(0x649)]===0x0)_0x1035dc[_0x24aa60(0x5f0)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x382730=allQuizzesGlobal[_0x24aa60(0x3e1)](_0x2aae9e=>_0x360609[_0x24aa60(0x96b)](_0x2aae9e['id']));_0x1035dc['innerHTML']=_0x382730[_0x24aa60(0x598)](_0x2007e8=>_0x24aa60(0x59c)+_0x2007e8['id']+_0x24aa60(0x2eb)+_0x2007e8[_0x24aa60(0x32c)]+_0x24aa60(0xc42)+_0x2007e8['id']+_0x24aa60(0x48b)+_0x2007e8['questions'][_0x24aa60(0x649)]+_0x24aa60(0x945)+_0x2007e8['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2007e8['id']+_0x24aa60(0x94f)+_0x2007e8['id']+_0x24aa60(0x283)+_0x2007e8['id']+_0x24aa60(0xa72)+_0x2007e8['id']+_0x24aa60(0x4fd)+_0x2007e8['id']+_0x24aa60(0x9c9)+_0x43eaf2+_0x24aa60(0x738)+_0x2007e8['id']+_0x24aa60(0x71a))['join']('');}document[_0x24aa60(0x288)](_0x24aa60(0x9a4))[_0x24aa60(0x611)]=()=>{openQuizSelectorForBlueprint(_0x43eaf2);},document[_0x24aa60(0x288)](_0x24aa60(0x949))[_0x24aa60(0x611)]=()=>_0x2c30e1['classList']['add'](_0x24aa60(0x4c5)),_0x2c30e1[_0x24aa60(0xa39)][_0x24aa60(0xc4b)]('hidden');}catch(_0x15890f){showMessage(_0x15890f[_0x24aa60(0x42d)]);}}async function openQuizSelectorForBlueprint(_0x54441e){const _0x4b3ea2=_0x2f78fc,_0xd4f339=document[_0x4b3ea2(0x288)](_0x4b3ea2(0x855)),_0x98d7fe=document['getElementById'](_0x4b3ea2(0x563));_0x98d7fe[_0x4b3ea2(0xa39)]['add'](_0x4b3ea2(0x4c5)),document[_0x4b3ea2(0x288)](_0x4b3ea2(0x790))?.[_0x4b3ea2(0xc4b)]();const _0x459a14=document[_0x4b3ea2(0xb75)](_0x4b3ea2(0xb6d));_0x459a14['id']='confirm-link-quiz-btn',_0x459a14[_0x4b3ea2(0xcdf)]=_0x4b3ea2(0x7f6),_0x459a14['textContent']=_0x4b3ea2(0xbed),_0x459a14['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0xd4f339[_0x4b3ea2(0xa39)][_0x4b3ea2(0xc4b)](_0x4b3ea2(0x4c5)),renderQuizBankListForMultiSelect(''),document[_0x4b3ea2(0x288)](_0x4b3ea2(0x750))[_0x4b3ea2(0x4e4)][_0x4b3ea2(0xc7a)]=_0x4b3ea2(0x2fa),_0xd4f339[_0x4b3ea2(0x2ee)](_0x4b3ea2(0x969))[_0x4b3ea2(0x51e)](_0x459a14);const _0x4c5a9a=(_0x470f73=![])=>{const _0x2f1b1c=_0x4b3ea2;_0xd4f339['classList'][_0x2f1b1c(0x5c0)](_0x2f1b1c(0x4c5)),document[_0x2f1b1c(0x288)](_0x2f1b1c(0x750))[_0x2f1b1c(0x4e4)][_0x2f1b1c(0xc7a)]=_0x2f1b1c(0x5f3),_0x459a14[_0x2f1b1c(0xc4b)](),_0x470f73&&openTopicQuizBank(_0x54441e);};_0x459a14[_0x4b3ea2(0x611)]=async()=>{const _0x5419f2=_0x4b3ea2,_0x3a0951=Array[_0x5419f2(0x4f5)](document[_0x5419f2(0x3db)](_0x5419f2(0xca3)))[_0x5419f2(0x598)](_0x328736=>_0x328736[_0x5419f2(0x63b)]);if(_0x3a0951['length']===0x0)return;try{const _0x5d406c=doc(db,_0x5419f2(0x309)+appId+_0x5419f2(0xd0b),currentBlueprintProjectId),_0x239a38=(await getDoc(_0x5d406c))[_0x5419f2(0xc89)](),_0x20d734=_0x239a38['topics'][_0x54441e][_0x5419f2(0x3d0)]||[],_0x4dedc1=[...new Set([..._0x20d734,..._0x3a0951])];await updateDoc(_0x5d406c,{[_0x5419f2(0x64b)+_0x54441e+_0x5419f2(0x2dc)]:_0x4dedc1}),showMessage(_0x5419f2(0x232)+_0x3a0951[_0x5419f2(0x649)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x4c5a9a(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xc3df09){console[_0x5419f2(0x40f)](_0x5419f2(0xcec),_0xc3df09);}},document[_0x4b3ea2(0x288)](_0x4b3ea2(0x978))['onclick']=()=>_0x4c5a9a(!![]);}catch(_0x24bd24){showMessage(_0x24bd24['message']),_0x98d7fe[_0x4b3ea2(0xa39)][_0x4b3ea2(0xc4b)](_0x4b3ea2(0x4c5));}}function handleClearLinkedQuiz(_0x224bc1){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x971d02=_0x43c7;try{const _0x289499=doc(db,'artifacts/'+appId+_0x971d02(0xd0b),currentBlueprintProjectId);await updateDoc(_0x289499,{[_0x971d02(0x64b)+_0x224bc1+_0x971d02(0x3c1)]:deleteField()}),showMessage(_0x971d02(0x500)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3a8911){console[_0x971d02(0x40f)]('Error\x20clearing\x20linked\x20quiz:',_0x3a8911),showMessage(_0x971d02(0x429));}});}async function addTopicToProject(){const _0xb6cb54=_0x2f78fc,_0x4d14f8=prompt(_0xb6cb54(0x5c7));if(!_0x4d14f8||_0x4d14f8[_0xb6cb54(0x8e1)]()==='')return;const _0x4eacad=prompt(_0xb6cb54(0x3d6),'สาระที่\x201'),_0x3c874e=prompt(_0xb6cb54(0xa3a),_0xb6cb54(0xb89)),_0x5ad3d9=_0xb6cb54(0x913)+Date[_0xb6cb54(0x9bc)]()+Math[_0xb6cb54(0x40c)]()['toString'](0x24)['substr'](0x2,0x9),_0xbce86b={'sara':_0x4eacad,'mainTopic':_0x3c874e,'subTopic':_0x4d14f8[_0xb6cb54(0x8e1)](),'status':_0xb6cb54(0x9f1),'lessonContent':null};try{const _0x12fae8=doc(db,_0xb6cb54(0x309)+appId+_0xb6cb54(0xd0b),currentBlueprintProjectId);await updateDoc(_0x12fae8,{['topics.'+_0x5ad3d9]:_0xbce86b}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x428cc3){console[_0xb6cb54(0x40f)](_0xb6cb54(0xa3e),_0x428cc3),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0xda8615){const _0x4ab0b0=_0x2f78fc,_0x274dcb=document[_0x4ab0b0(0x2ee)]('[data-topic-id=\x22'+_0xda8615+'\x22]'),_0x52d2a0=_0x274dcb[_0x4ab0b0(0x2ee)](_0x4ab0b0(0x62e)),_0x4fd118=_0x52d2a0[_0x4ab0b0(0xb10)],_0x4f0e02=prompt(_0x4ab0b0(0xc0f),_0x4fd118);if(!_0x4f0e02||_0x4f0e02[_0x4ab0b0(0x8e1)]()===''||_0x4f0e02[_0x4ab0b0(0x8e1)]()===_0x4fd118)return;try{const _0x254d2d=doc(db,_0x4ab0b0(0x309)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x254d2d,{['topics.'+_0xda8615+_0x4ab0b0(0xabb)]:_0x4f0e02[_0x4ab0b0(0x8e1)]()}),_0x52d2a0['textContent']=_0x4f0e02[_0x4ab0b0(0x8e1)](),showMessage(_0x4ab0b0(0x830));}catch(_0x41444a){console[_0x4ab0b0(0x40f)](_0x4ab0b0(0x9b1),_0x41444a),showMessage(_0x4ab0b0(0x1cf));}}async function deleteTopicFromProject(_0x23f16a){const _0x4c42a2=_0x2f78fc;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x170b3f=doc(db,_0x4c42a2(0x309)+appId+_0x4c42a2(0xd0b),currentBlueprintProjectId);await updateDoc(_0x170b3f,{[_0x4c42a2(0x64b)+_0x23f16a]:deleteField()}),document['querySelector'](_0x4c42a2(0x69a)+_0x23f16a+'\x22]')[_0x4c42a2(0xc4b)](),showMessage(_0x4c42a2(0x9ce));}catch(_0x5793a){console[_0x4c42a2(0x40f)](_0x4c42a2(0x635),_0x5793a),showMessage(_0x4c42a2(0x8ec));}}async function generateAndSaveLessonForBlueprint(_0x19c1c0,_0x4269c6,_0x293954){handleGenerateAndShowLesson(_0x4269c6,_0x293954);const _0x5009c8=setInterval(async()=>{const _0x4093d7=_0x43c7,_0x1e3a47=document[_0x4093d7(0x288)](_0x4093d7(0x404)),_0x34e130=_0x1e3a47[_0x4093d7(0xa39)][_0x4093d7(0x6ca)](_0x4093d7(0x4c5));if(_0x34e130){clearInterval(_0x5009c8);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0xa2bc9e={'point':document[_0x4093d7(0x288)](_0x4093d7(0x9e2))[_0x4093d7(0x5f0)],'memory':document[_0x4093d7(0x288)](_0x4093d7(0x6c9))[_0x4093d7(0x5f0)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x4093d7(0x288)](_0x4093d7(0x59b))['innerHTML']};try{const _0x3a063f=doc(db,_0x4093d7(0x309)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x4c7330=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x4093d7(0x2d9),_0x19c1c0),_0x1406cc=writeBatch(db);_0x1406cc[_0x4093d7(0x34e)](_0x4c7330,{'content':_0xa2bc9e}),_0x1406cc[_0x4093d7(0xa27)](_0x3a063f,{[_0x4093d7(0x64b)+_0x19c1c0+_0x4093d7(0x4da)]:_0x4093d7(0x307)}),await _0x1406cc[_0x4093d7(0x1f1)](),console[_0x4093d7(0x516)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x19c1c0+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x250910){console[_0x4093d7(0x40f)](_0x4093d7(0xcc4),_0x250910);}}}},0x3e8);}function displayHalfMarkResult(_0x10316d,_0x409f57){const _0x177879=_0x2f78fc,_0xfb0ef7=_0x10316d>=_0x409f57/0x2,_0x42a9a0=_0xfb0ef7?_0x177879(0x74b):_0x177879(0xa3d),_0x55de1e=_0xfb0ef7?_0x177879(0x989):_0x177879(0xa96),_0x4c13a2=_0xfb0ef7?_0x177879(0x871):_0x177879(0x413),_0x59efd1=_0xfb0ef7?_0x177879(0x53f):'คะแนนยังไม่ถึงครึ่ง',_0x425ec0=_0xfb0ef7?'ยอดเยี่ยม!':_0x177879(0xa60);let _0x2449ff=_0x177879(0x66c)+_0x42a9a0+_0x177879(0xa8a)+_0x55de1e+_0x177879(0x7ae)+_0x4c13a2+'\x20mb-2\x22>'+_0x59efd1+_0x177879(0x2f0)+_0x425ec0+_0x177879(0xaf0);studentResultArea[_0x177879(0x5f0)]=_0x2449ff,studentResultArea[_0x177879(0xa39)][_0x177879(0xc4b)]('hidden'),studentQuizArea[_0x177879(0xa39)][_0x177879(0x5c0)](_0x177879(0x4c5)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xfb0ef7});}function displayPerfectScoreResult(_0x40ec59,_0x52c51f){const _0x1b7295=_0x2f78fc,_0x59bfe4=_0x40ec59===_0x52c51f,_0x1c8f7d=_0x59bfe4?_0x1b7295(0xb2a):'bg-blue-100',_0x547886=_0x59bfe4?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x78970a=_0x59bfe4?_0x1b7295(0x684):_0x1b7295(0x1bf),_0x25d393=_0x59bfe4?_0x1b7295(0x1c5):'ยังไม่เต็มนะ',_0x276168=_0x59bfe4?_0x1b7295(0x897):_0x1b7295(0x24b);let _0x243871=_0x1b7295(0x66c)+_0x1c8f7d+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x547886+_0x1b7295(0x7ae)+_0x78970a+'\x20mb-2\x22>'+_0x25d393+_0x1b7295(0x2f0)+_0x276168+_0x1b7295(0xaf0);studentResultArea['innerHTML']=_0x243871,studentResultArea[_0x1b7295(0xa39)][_0x1b7295(0xc4b)](_0x1b7295(0x4c5)),studentQuizArea[_0x1b7295(0xa39)][_0x1b7295(0x5c0)](_0x1b7295(0x4c5)),setupResultScreenBackButton({'showRankings':![],'score':_0x40ec59,'totalQuestions':_0x52c51f});}function renderIndividualComparisonTable(_0x38baa6,_0x101272){const _0x42a11d=_0x2f78fc;_0x38baa6['sort']((_0x48902e,_0x4fb3e6)=>(_0x4fb3e6[_0x42a11d(0x825)]??-Infinity)-(_0x48902e['tGain']??-Infinity));let _0x370196=_0x42a11d(0x6a8);_0x38baa6[_0x42a11d(0x649)]===0x0?_0x370196+=_0x42a11d(0xb73):_0x38baa6['forEach']((_0x7a9486,_0x27f1f2)=>{const _0x1ec4be=_0x42a11d;let _0x3e75a3='-',_0x51a014='';if(_0x7a9486[_0x1ec4be(0xb3a)]!==null){const _0x499bf4=_0x7a9486[_0x1ec4be(0xb3a)]>0x0?_0x1ec4be(0xc94):_0x7a9486['gain']<0x0?'text-red-600':_0x1ec4be(0x724),_0x503938=_0x7a9486[_0x1ec4be(0xb3a)]>0x0?'+':'';_0x3e75a3=_0x1ec4be(0x8d5)+_0x499bf4+'\x22>'+_0x503938+_0x7a9486[_0x1ec4be(0xb3a)]+_0x1ec4be(0x455);if(_0x7a9486[_0x1ec4be(0xb3a)]>0x0)_0x51a014=_0x1ec4be(0x506);else _0x7a9486[_0x1ec4be(0xb3a)]<0x0?_0x51a014=_0x1ec4be(0xb68):_0x51a014='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x212906='-';if(_0x7a9486[_0x1ec4be(0x825)]!==null){const _0x134020=_0x7a9486['tGain']>0x0?_0x1ec4be(0xc94):_0x7a9486[_0x1ec4be(0x825)]<0x0?'text-red-600':_0x1ec4be(0x724),_0x28b41a=_0x7a9486[_0x1ec4be(0x825)]>0x0?'+':'';_0x212906=_0x1ec4be(0x8d5)+_0x134020+'\x22>'+_0x28b41a+_0x7a9486[_0x1ec4be(0x825)][_0x1ec4be(0x763)](0x2)+_0x1ec4be(0x455);}_0x370196+=_0x1ec4be(0x87b)+(_0x27f1f2+0x1)+_0x1ec4be(0x443)+_0x7a9486['name']+_0x1ec4be(0x9d7)+(_0x7a9486[_0x1ec4be(0x1aa)]??'-')+_0x1ec4be(0x329)+(_0x7a9486[_0x1ec4be(0x4af)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3e75a3+_0x1ec4be(0x85d)+_0x51a014+_0x1ec4be(0x362)+(_0x7a9486[_0x1ec4be(0x43c)]?.[_0x1ec4be(0x763)](0x2)??'-')+_0x1ec4be(0xcce)+(_0x7a9486[_0x1ec4be(0xc4f)]?.[_0x1ec4be(0x763)](0x2)??'-')+_0x1ec4be(0x9d7)+_0x212906+_0x1ec4be(0x579);}),_0x370196+=_0x42a11d(0x252),_0x101272[_0x42a11d(0x5f0)]=_0x370196;}function handleRenameQuiz(_0xee2b91,_0x2edae1){const _0x295bb=_0x2f78fc;actionTargetId=_0xee2b91,document[_0x295bb(0x288)]('rename-quiz-input')[_0x295bb(0x63b)]=_0x2edae1,renameQuizModal[_0x295bb(0xa39)][_0x295bb(0xc4b)](_0x295bb(0x4c5));}function setupComparisonModalTabs(){const _0x44131f=_0x2f78fc,_0x463ec3=document[_0x44131f(0x288)](_0x44131f(0x3cb)),_0xe086cc=document['getElementById'](_0x44131f(0xa67)),_0x20d651=document[_0x44131f(0x288)](_0x44131f(0xa11)),_0x46c82d=document[_0x44131f(0x288)]('comparison-individual-content');_0x463ec3['addEventListener'](_0x44131f(0x8d9),()=>{const _0x4f1d5f=_0x44131f;_0x463ec3['classList'][_0x4f1d5f(0x5c0)](_0x4f1d5f(0xadb)),_0xe086cc['classList']['remove'](_0x4f1d5f(0xadb)),_0x20d651[_0x4f1d5f(0xa39)]['remove'](_0x4f1d5f(0x4c5)),_0x46c82d[_0x4f1d5f(0xa39)][_0x4f1d5f(0x5c0)]('hidden');}),_0xe086cc['addEventListener'](_0x44131f(0x8d9),()=>{const _0x4ef83f=_0x44131f;_0xe086cc[_0x4ef83f(0xa39)]['add'](_0x4ef83f(0xadb)),_0x463ec3[_0x4ef83f(0xa39)][_0x4ef83f(0xc4b)](_0x4ef83f(0xadb)),_0x46c82d[_0x4ef83f(0xa39)][_0x4ef83f(0xc4b)](_0x4ef83f(0x4c5)),_0x20d651[_0x4ef83f(0xa39)][_0x4ef83f(0x5c0)](_0x4ef83f(0x4c5));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x1ff945=_0x2f78fc;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x17d0e1=doc(db,_0x1ff945(0x309)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x17d0e1,_0x5993d2=>{const _0x6b3bf6=_0x1ff945;if(!_0x5993d2['exists']()){showMessage(_0x6b3bf6(0x7a1));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x6b3bf6(0x290)?showView(_0x6b3bf6(0xbc6)):showView(_0x6b3bf6(0x390));return;}const _0x40223e=_0x5993d2[_0x6b3bf6(0xc89)]();_0x40223e[_0x6b3bf6(0x6af)]&&(currentQuizData=_0x40223e[_0x6b3bf6(0x6af)]);!currentQuizData&&_0x40223e[_0x6b3bf6(0xb4e)]&&((async()=>{const _0x372958=_0x6b3bf6;try{const _0x4174af=doc(db,_0x372958(0x309)+appId+_0x372958(0x480),_0x40223e['quizId']),_0x315549=await getDoc(_0x4174af);_0x315549[_0x372958(0x5e4)]()&&(currentQuizData={'id':_0x315549['id'],..._0x315549['data']()});}catch(_0x25d879){console[_0x372958(0x40f)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x25d879);}})());switch(_0x40223e[_0x6b3bf6(0xa78)]){case _0x6b3bf6(0xc23):if(currentMode===_0x6b3bf6(0x290)){const _0x50da02=_0x40223e[_0x6b3bf6(0xa90)]?Object[_0x6b3bf6(0x41a)](_0x40223e[_0x6b3bf6(0xa90)]):[],_0x313ce5=_0x50da02['filter'](([_0x1a64c1,_0x5c6a89])=>_0x5c6a89[_0x6b3bf6(0xa78)]===_0x6b3bf6(0xadb)),_0x443069=document[_0x6b3bf6(0x288)](_0x6b3bf6(0x768));if(_0x443069)_0x443069[_0x6b3bf6(0xb10)]=_0x313ce5['length'];const _0x4ee8cd=document[_0x6b3bf6(0x288)](_0x6b3bf6(0x8e6));_0x4ee8cd&&(_0x4ee8cd[_0x6b3bf6(0x5f0)]=_0x313ce5[_0x6b3bf6(0x598)](([_0x3cc259,_0x4cd7f0])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3cc259+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x3cc259+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x6b3bf6(0x53d)](''));const _0x37a0fc=document['getElementById']('start-game-btn');_0x37a0fc&&(_0x37a0fc[_0x6b3bf6(0x9e8)]=_0x313ce5[_0x6b3bf6(0x649)]===0x0);}else showView(_0x6b3bf6(0x624)),liveGameView['innerHTML']=_0x6b3bf6(0x20e)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0xcc6d76=_0x40223e['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x6b3bf6(0xc81)][_0xcc6d76]){const _0x3eda43=currentQuizData[_0x6b3bf6(0xc81)][_0xcc6d76],_0x34d17c=_0x40223e[_0x6b3bf6(0x5be)]||_0x6b3bf6(0x6ec);switch(_0x34d17c){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x40223e,_0x3eda43):showPlayerSummaryView(_0x40223e,currentStudentName);break;case _0x6b3bf6(0xd17):currentMode===_0x6b3bf6(0x290)&&showTop5LeaderboardView(_0x40223e);break;case _0x6b3bf6(0x6ec):default:if(currentMode===_0x6b3bf6(0x290)){const _0x518854=writeBatch(db);let _0x1197ac=![];Object['entries'](_0x40223e[_0x6b3bf6(0xa90)])[_0x6b3bf6(0x220)](([_0x53b3d3,_0x4093ac])=>{const _0x292134=_0x6b3bf6;if(_0x4093ac['status']===_0x292134(0xadb)&&_0x4093ac['submittedAt']&&!_0x4093ac['isScored']){_0x1197ac=!![];const _0x2f670a=_0x4093ac[_0x292134(0x305)][_0x292134(0xb87)]()-_0x40223e[_0x292134(0x4f1)]['toDate']();let _0x461842=0x0;if(_0x4093ac[_0x292134(0xa7f)]){const _0x3bf0e0=0x3e8,_0x5a9cf4=0x1f4,_0x47a35f=0x4e20;let _0x2736a4=_0x2f670a/_0x47a35f;if(_0x2736a4>0x1)_0x2736a4=0x1;const _0x48911e=Math[_0x292134(0xd15)](_0x2736a4*_0x5a9cf4);_0x461842=_0x3bf0e0-_0x48911e;}const _0x32f0dd=doc(db,'artifacts/'+appId+_0x292134(0x85f),currentLiveGameId);_0x518854[_0x292134(0xa27)](_0x32f0dd,{[_0x292134(0x1f6)+_0x53b3d3+'.score']:increment(_0x461842),[_0x292134(0x1f6)+_0x53b3d3+_0x292134(0x4be)]:_0x461842,[_0x292134(0x1f6)+_0x53b3d3+'.isScored']:!![]});}});_0x1197ac&&_0x518854[_0x6b3bf6(0x1f1)]()[_0x6b3bf6(0x503)](_0x11604a=>console['error'](_0x6b3bf6(0xb67),_0x11604a));lastRenderedAdminQuestionIndex!==_0xcc6d76&&(showAdminLiveQuestionView(_0x3eda43,_0xcc6d76,currentQuizData[_0x6b3bf6(0xc81)][_0x6b3bf6(0x649)]),lastRenderedAdminQuestionIndex=_0xcc6d76);const _0x166b47=_0x40223e['players']||{},_0x22a232=Object[_0x6b3bf6(0xa59)](_0x166b47)[_0x6b3bf6(0x3e1)](_0x2b986b=>_0x2b986b[_0x6b3bf6(0xa78)]===_0x6b3bf6(0xadb)),_0x2a7baf=_0x22a232[_0x6b3bf6(0x649)],_0x3b36e8=_0x22a232[_0x6b3bf6(0x3e1)](_0x5a0b69=>_0x5a0b69[_0x6b3bf6(0x616)]===!![])[_0x6b3bf6(0x649)],_0x50506a=document[_0x6b3bf6(0x288)](_0x6b3bf6(0x407));if(_0x50506a)_0x50506a[_0x6b3bf6(0xb10)]=_0x3b36e8+'/'+_0x2a7baf;const _0x5353cb=document[_0x6b3bf6(0x288)](_0x6b3bf6(0x1f9));if(_0x5353cb){let _0x24f5d5=Object['entries'](_0x166b47)[_0x6b3bf6(0x3e1)](([_0x304c96,_0x5219a3])=>_0x5219a3[_0x6b3bf6(0xa78)]==='active')['map'](([_0x1aed55,_0x3e2005])=>{const _0x4b6cb8=_0x6b3bf6,_0x3f8124=_0x3e2005[_0x4b6cb8(0x616)]===!![],_0x32e8ae=_0x3f8124?_0x4b6cb8(0x267):_0x4b6cb8(0xc09),_0x161a3f=_0x3f8124?_0x4b6cb8(0x2db):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x32e8ae+_0x4b6cb8(0x6f1)+_0x161a3f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1aed55+_0x4b6cb8(0x668)+_0x1aed55+_0x4b6cb8(0x2ed);})['join']('');_0x5353cb[_0x6b3bf6(0x5f0)]=_0x24f5d5||_0x6b3bf6(0x88d);}_0x2a7baf>0x0&&_0x3b36e8===_0x2a7baf&&revealAnswerForAdmin(_0xcc6d76,currentQuizData[_0x6b3bf6(0xc81)][_0x6b3bf6(0x649)]);}else{const _0xb99a99=_0x40223e['players'][currentStudentName];_0xb99a99&&!_0xb99a99[_0x6b3bf6(0x616)]&&showStudentLiveQuestionView(_0x3eda43,_0xcc6d76,currentQuizData[_0x6b3bf6(0xc81)]['length']);}break;}}break;case'podium':showPodiumView(_0x40223e[_0x6b3bf6(0xa90)],_0x6b3bf6(0x25c));break;}});}async function openGlobalActivityModal(){const _0x37a21f=_0x2f78fc;if(allQuizzesGlobal['length']===0x0){const _0xaf1c26=await getDocs(collection(db,_0x37a21f(0x309)+appId+_0x37a21f(0x480)));allQuizzesGlobal=_0xaf1c26[_0x37a21f(0x2ea)]['map'](_0x1b199e=>({'id':_0x1b199e['id'],..._0x1b199e[_0x37a21f(0xc89)]()}));}renderGlobalActivityList(''),document['getElementById']('global-activity-modal')[_0x37a21f(0xa39)][_0x37a21f(0xc4b)]('hidden');}function renderGlobalActivityList(_0x402f51=''){const _0x3d88e9=_0x2f78fc,_0x53433e=document[_0x3d88e9(0x288)](_0x3d88e9(0x93c)),_0x1604c8=_0x402f51[_0x3d88e9(0x1f2)]()['trim'](),_0x11d969=allQuizzesGlobal[_0x3d88e9(0x598)](_0x510b91=>({..._0x510b91,'projectName':allProjects[_0x3d88e9(0x533)](_0x14e12d=>_0x14e12d['id']===_0x510b91[_0x3d88e9(0x93e)])?.[_0x3d88e9(0xc51)]||_0x3d88e9(0x86a)}))[_0x3d88e9(0x3e1)](_0x352a95=>(_0x352a95['topic']||'')[_0x3d88e9(0x1f2)]()[_0x3d88e9(0x96b)](_0x1604c8)||(_0x352a95[_0x3d88e9(0xc51)]||'')[_0x3d88e9(0x1f2)]()['includes'](_0x1604c8));document[_0x3d88e9(0x288)](_0x3d88e9(0xaa8))['textContent']='('+_0x11d969['length']+_0x3d88e9(0x9da),_0x53433e[_0x3d88e9(0x5f0)]=_0x11d969['length']?_0x11d969[_0x3d88e9(0x598)](_0x5def9b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x5def9b['topic']||_0x3d88e9(0x45c))+_0x3d88e9(0xd0d)+(_0x5def9b[_0x3d88e9(0xc81)]?.[_0x3d88e9(0x649)]||0x0)+_0x3d88e9(0x596)+_0x5def9b[_0x3d88e9(0xc51)]+_0x3d88e9(0x4eb)+_0x5def9b['id']+_0x3d88e9(0x789)+_0x5def9b['id']+_0x3d88e9(0x476)+_0x5def9b['id']+_0x3d88e9(0xb9e)+_0x5def9b['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0x3d88e9(0x53d)](''):_0x3d88e9(0x38e);}async function handleKickPlayer(_0x587ef0){const _0x1cee21=_0x2f78fc;if(!currentLiveGameId||!_0x587ef0)return;const _0x45ffee=doc(db,_0x1cee21(0x309)+appId+'/public/data/liveGames',currentLiveGameId),_0x435086={};_0x435086[_0x1cee21(0x1f6)+_0x587ef0+_0x1cee21(0x4da)]=_0x1cee21(0xcc1);try{await updateDoc(_0x45ffee,_0x435086);}catch(_0x15413f){console[_0x1cee21(0x40f)](_0x1cee21(0x7dd)+_0x587ef0+':',_0x15413f),showMessage(_0x1cee21(0x890));}}async function authenticateUser(){const _0x47b669=_0x2f78fc;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x452f76){console[_0x47b669(0x40f)](_0x47b669(0x7d8),_0x452f76),showMessage(_0x47b669(0xcb2));}}function showView(_0x55be69){const _0x5c2e2d=_0x2f78fc;adminView[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5)),studentView[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5)),projectDashboardView[_0x5c2e2d(0xa39)]['add'](_0x5c2e2d(0x4c5)),projectDetailView[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5)),quizResultsView[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)]('hidden'),liveGameView['classList'][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5)),document[_0x5c2e2d(0x288)](_0x5c2e2d(0x5ec))['classList']['add'](_0x5c2e2d(0x4c5)),studentInitialView[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)]('hidden'),studentJoinGameView[_0x5c2e2d(0xa39)]['add'](_0x5c2e2d(0x4c5)),studentNameSelectionView[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)]('hidden'),studentQuizArea[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5)),studentResultArea[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5)),studentReadingArea[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5));const _0xa146eb=document['getElementById'](_0x5c2e2d(0xbb9)),_0x23c17d=document[_0x5c2e2d(0x288)](_0x5c2e2d(0xa9b));if(_0xa146eb)_0xa146eb[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)]('hidden');if(_0x23c17d)_0x23c17d[_0x5c2e2d(0xa39)][_0x5c2e2d(0x5c0)](_0x5c2e2d(0x4c5));switch(_0x55be69){case'admin-dashboard':adminView[_0x5c2e2d(0xa39)][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5)),projectDashboardView['classList'][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5));break;case _0x5c2e2d(0xbc6):adminView[_0x5c2e2d(0xa39)]['remove'](_0x5c2e2d(0x4c5)),projectDetailView[_0x5c2e2d(0xa39)][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5));break;case _0x5c2e2d(0x84f):adminView[_0x5c2e2d(0xa39)][_0x5c2e2d(0xc4b)]('hidden'),quizResultsView[_0x5c2e2d(0xa39)][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5));break;case _0x5c2e2d(0x390):studentView[_0x5c2e2d(0xa39)][_0x5c2e2d(0xc4b)]('hidden'),studentInitialView['classList'][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5));break;case _0x5c2e2d(0x624):liveGameView[_0x5c2e2d(0xa39)]['remove']('hidden');break;case'student-team-join':studentView[_0x5c2e2d(0xa39)][_0x5c2e2d(0xc4b)]('hidden');if(_0xa146eb)_0xa146eb['classList'][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5));break;case _0x5c2e2d(0x2c5):studentView[_0x5c2e2d(0xa39)]['remove']('hidden');if(_0x23c17d)_0x23c17d['classList'][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5));break;default:studentView['classList'][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5)),studentInitialView[_0x5c2e2d(0xa39)][_0x5c2e2d(0xc4b)](_0x5c2e2d(0x4c5));break;}}function showJoinGameView(){const _0x1e3902=_0x2f78fc;studentInitialView['classList'][_0x1e3902(0x5c0)]('hidden'),studentJoinGameView[_0x1e3902(0xa39)][_0x1e3902(0xc4b)](_0x1e3902(0x4c5));}async function handleSaveVisibilitySettings(){const _0x34742d=_0x2f78fc;if(!currentProjectId)return;const _0x16534b=doc(db,_0x34742d(0x309)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x16534b,{'settings.showInStudentDashboard':document[_0x34742d(0x288)](_0x34742d(0xaea))[_0x34742d(0xbe3)],'settings.isPasscodeEnabled':document[_0x34742d(0x288)]('enable-passcode-checkbox')[_0x34742d(0xbe3)],'settings.passcode':document[_0x34742d(0x288)](_0x34742d(0x466))['value']['trim']()}),showMessage(_0x34742d(0x43e));}catch(_0x2b7979){console[_0x34742d(0x40f)]('Error\x20saving\x20visibility\x20settings:',_0x2b7979),showMessage(_0x34742d(0x1bc));}}function setupEventListeners(){const _0x797ae9=_0x2f78fc;document[_0x797ae9(0x288)](_0x797ae9(0x5ad))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleAddParallelShortcutTab),document[_0x797ae9(0x288)](_0x797ae9(0xae7))['addEventListener'](_0x797ae9(0x8d9),_0x182b15=>{const _0x4ebbf4=_0x797ae9;_0x182b15[_0x4ebbf4(0x328)][_0x4ebbf4(0x6d3)]('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId=_0x4ebbf4(0x1da),renderAdditionalParallelShortcutsModal(),document[_0x4ebbf4(0x288)](_0x4ebbf4(0x702))['classList'][_0x4ebbf4(0xc4b)](_0x4ebbf4(0x4c5)));}),document[_0x797ae9(0x288)](_0x797ae9(0x6d8))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x733fd7=_0x797ae9;document[_0x733fd7(0x288)](_0x733fd7(0x702))[_0x733fd7(0xa39)][_0x733fd7(0x5c0)](_0x733fd7(0x4c5));}),document[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x36042e=>{const _0x350802=_0x797ae9;!_0x36042e[_0x350802(0x328)]['closest'](_0x350802(0x1b8))&&document[_0x350802(0x3db)](_0x350802(0x8d8))[_0x350802(0x220)](_0x16c9ea=>_0x16c9ea[_0x350802(0xa39)][_0x350802(0x5c0)](_0x350802(0x4c5)));}),document[_0x797ae9(0x288)](_0x797ae9(0xcbf))['addEventListener'](_0x797ae9(0x8d9),handleAddFileShortcutTab),document['getElementById']('file-input-area')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x2984f8=>{const _0x2e2177=_0x797ae9;_0x2984f8[_0x2e2177(0x328)][_0x2e2177(0x6d3)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x2e2177(0x1da),renderAdditionalFileShortcutsModal(),document[_0x2e2177(0x288)](_0x2e2177(0x9c7))[_0x2e2177(0xa39)]['remove'](_0x2e2177(0x4c5)));}),document[_0x797ae9(0x288)](_0x797ae9(0x32a))[_0x797ae9(0x5b2)]('click',()=>{const _0x4945f4=_0x797ae9;document['getElementById']('additional-file-shortcuts-modal')[_0x4945f4(0xa39)][_0x4945f4(0x5c0)](_0x4945f4(0x4c5));}),document[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x171d2c=>{const _0x2d1b68=_0x797ae9;!_0x171d2c[_0x2d1b68(0x328)][_0x2d1b68(0x6d3)](_0x2d1b68(0x9a6))&&document['querySelectorAll']('.move-file-shortcut-dropdown')[_0x2d1b68(0x220)](_0x155815=>_0x155815[_0x2d1b68(0xa39)]['add'](_0x2d1b68(0x4c5)));}),document['getElementById'](_0x797ae9(0xc8d))['addEventListener'](_0x797ae9(0x8d9),handleAddShortcutTab),document[_0x797ae9(0x288)](_0x797ae9(0x960))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x3c9a26=>{const _0x86b01c=_0x797ae9,_0x258c47=_0x3c9a26[_0x86b01c(0x328)][_0x86b01c(0x6d3)](_0x86b01c(0x4e5)),_0x1a6acc=_0x3c9a26[_0x86b01c(0x328)][_0x86b01c(0x6d3)](_0x86b01c(0xa76)),_0x52348f=_0x3c9a26[_0x86b01c(0x328)]['closest'](_0x86b01c(0x26c));if(_0x1a6acc)openParallelTestShortcutEditor(_0x1a6acc['dataset']['id']);else{if(_0x52348f){const _0xd48119=_0x52348f[_0x86b01c(0xa66)]['id'];showConfirmation(_0x86b01c(0xc6b),async()=>{const _0x2b1119=_0x86b01c,_0x5a0a05=parallelTestShortcuts['filter'](_0x1c996e=>_0x1c996e['id']!==_0xd48119),_0x1870b2=doc(db,_0x2b1119(0x34f),_0x2b1119(0x519));await setDoc(_0x1870b2,{'shortcuts':_0x5a0a05},{'merge':!![]});});}else _0x258c47&&handleParallelTestShortcutClick(_0x258c47[_0x86b01c(0xa66)]['id']);}}),document['getElementById']('add-parallel-shortcut-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>openParallelTestShortcutEditor(null)),document[_0x797ae9(0x288)]('cancel-parallel-shortcut-edit-btn')[_0x797ae9(0x5b2)]('click',()=>{const _0x3f0323=_0x797ae9;document[_0x3f0323(0x288)](_0x3f0323(0x79a))['classList'][_0x3f0323(0x5c0)](_0x3f0323(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x8fb))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),saveParallelTestShortcutChanges),document[_0x797ae9(0x288)](_0x797ae9(0xae7))[_0x797ae9(0x5b2)]('click',_0x679301=>{const _0x1aa3fd=_0x797ae9;_0x679301[_0x1aa3fd(0x328)]['closest'](_0x1aa3fd(0x777))&&document[_0x1aa3fd(0x288)](_0x1aa3fd(0x702))[_0x1aa3fd(0xa39)][_0x1aa3fd(0xc4b)](_0x1aa3fd(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x6d8))[_0x797ae9(0x5b2)]('click',()=>{const _0x271569=_0x797ae9;document['getElementById'](_0x271569(0x702))['classList'][_0x271569(0x5c0)]('hidden');}),document['getElementById'](_0x797ae9(0xb3c))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x2444bf=>{const _0x3f0ad8=_0x797ae9,_0x1db158=document[_0x3f0ad8(0x288)](_0x3f0ad8(0x702)),_0x4b338a=_0x2444bf[_0x3f0ad8(0x328)][_0x3f0ad8(0x6d3)](_0x3f0ad8(0x8f3)),_0x707e5f=_0x2444bf[_0x3f0ad8(0x328)][_0x3f0ad8(0x6d3)](_0x3f0ad8(0xa12)),_0x592e95=_0x2444bf[_0x3f0ad8(0x328)][_0x3f0ad8(0x6d3)](_0x3f0ad8(0xc83));if(_0x4b338a)_0x1db158[_0x3f0ad8(0xa39)][_0x3f0ad8(0x5c0)](_0x3f0ad8(0x4c5)),handleParallelTestShortcutClick(_0x4b338a[_0x3f0ad8(0xa66)]['id']);else{if(_0x707e5f)_0x1db158[_0x3f0ad8(0xa39)][_0x3f0ad8(0x5c0)](_0x3f0ad8(0x4c5)),openParallelTestShortcutEditor(_0x707e5f[_0x3f0ad8(0xa66)]['id']);else{if(_0x592e95){const _0x23dfc3=_0x592e95[_0x3f0ad8(0xa66)]['id'];showConfirmation(_0x3f0ad8(0xc6b),async()=>{const _0x1e1d42=_0x3f0ad8,_0x5725ba=parallelTestShortcuts[_0x1e1d42(0x3e1)](_0x4fff58=>_0x4fff58['id']!==_0x23dfc3),_0x56c3ea=doc(db,_0x1e1d42(0x34f),'parallelTestShortcutsConfig');await setDoc(_0x56c3ea,{'shortcuts':_0x5725ba},{'merge':!![]});});}}}}),document[_0x797ae9(0x288)](_0x797ae9(0x28b))['addEventListener'](_0x797ae9(0x8d9),_0x7c7e61=>{const _0x1f767e=_0x797ae9,_0x30b823=_0x7c7e61[_0x1f767e(0x328)][_0x1f767e(0x6d3)](_0x1f767e(0x504)),_0x923471=_0x7c7e61[_0x1f767e(0x328)][_0x1f767e(0x6d3)](_0x1f767e(0x958)),_0x30d96d=_0x7c7e61[_0x1f767e(0x328)]['closest']('.delete-file-shortcut-btn');if(_0x923471)openFileShortcutEditor(_0x923471[_0x1f767e(0xa66)]['id']);else{if(_0x30d96d){const _0x6c2f9=_0x30d96d['dataset']['id'];showConfirmation(_0x1f767e(0xc6b),async()=>{const _0x4ddf49=_0x1f767e,_0x583eec=fileShortcuts[_0x4ddf49(0x3e1)](_0x3e280b=>_0x3e280b['id']!==_0x6c2f9),_0x563891=doc(db,_0x4ddf49(0x34f),_0x4ddf49(0xa30));await setDoc(_0x563891,{'shortcuts':_0x583eec},{'merge':!![]});});}else _0x30b823&&handleFileShortcutClick(_0x30b823[_0x1f767e(0xa66)]['id']);}}),document[_0x797ae9(0x288)]('add-file-shortcut-btn')['addEventListener']('click',()=>openFileShortcutEditor(null)),document[_0x797ae9(0x288)](_0x797ae9(0x2c9))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x5b286c=_0x797ae9;document[_0x5b286c(0x288)](_0x5b286c(0x26a))[_0x5b286c(0xa39)][_0x5b286c(0x5c0)](_0x5b286c(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x2ca))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),saveFileShortcutChanges),document[_0x797ae9(0x288)](_0x797ae9(0x1c7))[_0x797ae9(0x5b2)]('click',_0x2b5f37=>{const _0x3f8059=_0x797ae9;_0x2b5f37[_0x3f8059(0x328)][_0x3f8059(0x6d3)](_0x3f8059(0xa05))&&document[_0x3f8059(0x288)](_0x3f8059(0x9c7))['classList'][_0x3f8059(0xc4b)](_0x3f8059(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x32a))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x18f700=_0x797ae9;document['getElementById'](_0x18f700(0x9c7))[_0x18f700(0xa39)][_0x18f700(0x5c0)](_0x18f700(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x778))['addEventListener'](_0x797ae9(0x8d9),_0x3b79b1=>{const _0x5fbc18=_0x797ae9,_0x1db043=document[_0x5fbc18(0x288)](_0x5fbc18(0x9c7)),_0x238ebc=_0x3b79b1[_0x5fbc18(0x328)]['closest'](_0x5fbc18(0xab6)),_0x295162=_0x3b79b1[_0x5fbc18(0x328)][_0x5fbc18(0x6d3)](_0x5fbc18(0x547)),_0x5f0fe8=_0x3b79b1[_0x5fbc18(0x328)][_0x5fbc18(0x6d3)](_0x5fbc18(0xbe7));if(_0x238ebc)_0x1db043[_0x5fbc18(0xa39)][_0x5fbc18(0x5c0)](_0x5fbc18(0x4c5)),handleFileShortcutClick(_0x238ebc[_0x5fbc18(0xa66)]['id']);else{if(_0x295162)_0x1db043[_0x5fbc18(0xa39)]['add'](_0x5fbc18(0x4c5)),openFileShortcutEditor(_0x295162[_0x5fbc18(0xa66)]['id']);else{if(_0x5f0fe8){const _0x417d1d=_0x5f0fe8[_0x5fbc18(0xa66)]['id'];showConfirmation(_0x5fbc18(0xc6b),async()=>{const _0x5d3c95=_0x5fbc18,_0x42428e=fileShortcuts[_0x5d3c95(0x3e1)](_0x36fc66=>_0x36fc66['id']!==_0x417d1d),_0x597246=doc(db,_0x5d3c95(0x34f),_0x5d3c95(0xa30));await setDoc(_0x597246,{'shortcuts':_0x42428e},{'merge':!![]});});}}}}),document['getElementById'](_0x797ae9(0xca7))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x583e74=>{const _0x3a0041=_0x797ae9;_0x583e74['target'][_0x3a0041(0x6d3)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x3a0041(0x1da),renderAdditionalShortcutsModal(),document[_0x3a0041(0x288)]('additional-shortcuts-modal')['classList'][_0x3a0041(0xc4b)](_0x3a0041(0x4c5)));}),document[_0x797ae9(0x288)](_0x797ae9(0x279))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x4da743=_0x797ae9;document[_0x4da743(0x288)](_0x4da743(0x3fe))[_0x4da743(0xa39)]['add'](_0x4da743(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x92e))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0xc1eed7=>{const _0x2ff118=_0x797ae9,_0x4935d9=_0xc1eed7[_0x2ff118(0x328)][_0x2ff118(0x6d3)](_0x2ff118(0x4c0)),_0x1db45b=_0xc1eed7['target']['closest']('.edit-hidden-shortcut-btn'),_0xe30385=_0xc1eed7[_0x2ff118(0x328)]['closest'](_0x2ff118(0x51b)),_0x18977f=document[_0x2ff118(0x288)](_0x2ff118(0x3fe));if(_0x4935d9)_0x18977f['classList'][_0x2ff118(0x5c0)](_0x2ff118(0x4c5)),handleShortcutClick(_0x4935d9[_0x2ff118(0xa66)]['id']);else{if(_0x1db45b)_0x18977f[_0x2ff118(0xa39)]['add'](_0x2ff118(0x4c5)),openShortcutEditor(_0x1db45b[_0x2ff118(0xa66)]['id']);else{if(_0xe30385){const _0x2ef5e9=_0xe30385[_0x2ff118(0xa66)]['id'],_0x456d2f=blueprintShortcuts['find'](_0xd7d9f8=>_0xd7d9f8['id']===_0x2ef5e9)?.[_0x2ff118(0xb54)];showConfirmation(_0x2ff118(0x928)+_0x456d2f+'\x22?',async()=>{const _0x3a51ed=_0x2ff118,_0x126268=blueprintShortcuts[_0x3a51ed(0x3e1)](_0x3101e5=>_0x3101e5['id']!==_0x2ef5e9);try{const _0x204f1f=doc(db,_0x3a51ed(0x34f),'dashboardConfig');await setDoc(_0x204f1f,{'blueprintShortcuts':_0x126268},{'merge':!![]});}catch(_0x37034c){console[_0x3a51ed(0x40f)](_0x3a51ed(0xb4b),_0x37034c);}});}}}}),document[_0x797ae9(0x288)]('blueprint-shortcut-container')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x3661e5=>{const _0x2133bc=_0x797ae9,_0x300066=_0x3661e5['target'][_0x2133bc(0x6d3)](_0x2133bc(0xb2f)),_0x264f6a=_0x3661e5[_0x2133bc(0x328)][_0x2133bc(0x6d3)](_0x2133bc(0x95f)),_0x36e7a7=_0x3661e5[_0x2133bc(0x328)][_0x2133bc(0x6d3)]('.delete-shortcut-btn');if(_0x264f6a)openShortcutEditor(_0x264f6a[_0x2133bc(0xa66)]['id']);else{if(_0x36e7a7){const _0x552b75=_0x36e7a7[_0x2133bc(0xa66)]['id'],_0x48e999=blueprintShortcuts[_0x2133bc(0x533)](_0x47ea37=>_0x47ea37['id']===_0x552b75)?.[_0x2133bc(0xb54)];showConfirmation(_0x2133bc(0x928)+_0x48e999+'\x22?',async()=>{const _0x408dcb=_0x2133bc,_0x2cf243=blueprintShortcuts[_0x408dcb(0x3e1)](_0x9b08e=>_0x9b08e['id']!==_0x552b75);try{const _0x5db781=doc(db,_0x408dcb(0x34f),_0x408dcb(0xa17));await setDoc(_0x5db781,{'blueprintShortcuts':_0x2cf243},{'merge':!![]});}catch(_0x2b26a4){console[_0x408dcb(0x40f)]('Error\x20deleting\x20shortcut:',_0x2b26a4);}});}else _0x300066&&handleShortcutClick(_0x300066['dataset']['id']);}}),document[_0x797ae9(0x288)](_0x797ae9(0x8db))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>openShortcutEditor(null)),document[_0x797ae9(0x288)](_0x797ae9(0x5e5))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x4badfc=_0x797ae9;document[_0x4badfc(0x288)](_0x4badfc(0x4b9))[_0x4badfc(0xa39)][_0x4badfc(0x5c0)](_0x4badfc(0x4c5));}),document[_0x797ae9(0x288)]('save-shortcut-btn')['addEventListener'](_0x797ae9(0x8d9),saveShortcutChanges),document[_0x797ae9(0x288)]('generate-from-blueprint-btn')[_0x797ae9(0x5b2)]('click',async()=>{const _0x4a6d7e=_0x797ae9,_0x187b29=document[_0x4a6d7e(0x288)](_0x4a6d7e(0x27a)),_0x28ac96=document[_0x4a6d7e(0x288)]('reference-pdf-upload');_0x187b29[_0x4a6d7e(0x7c9)][_0x4a6d7e(0x649)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x187b29[_0x4a6d7e(0x7c9)][0x0],_0x28ac96['files'][0x0]||null):showMessage(_0x4a6d7e(0xd12));}),document[_0x797ae9(0x288)](_0x797ae9(0x563))[_0x797ae9(0x5b2)]('click',async _0x406bd4=>{const _0x2d7827=_0x797ae9,_0x341e48=document['getElementById'](_0x2d7827(0x563)),_0x41b266=_0x406bd4[_0x2d7827(0x328)][_0x2d7827(0x6d3)](_0x2d7827(0xade)),_0x347ccf=_0x406bd4[_0x2d7827(0x328)][_0x2d7827(0x6d3)]('.bp-unlink-quiz-btn'),_0x1b98e0=_0x406bd4['target'][_0x2d7827(0x6d3)](_0x2d7827(0x222)),_0x17ad8f=_0x406bd4['target']['closest'](_0x2d7827(0x6b8)),_0x4a8205=_0x406bd4[_0x2d7827(0x328)][_0x2d7827(0x6d3)](_0x2d7827(0xb5e)),_0x43c491=_0x406bd4[_0x2d7827(0x328)][_0x2d7827(0x6d3)](_0x2d7827(0xbe6));if(_0x41b266){cameFromBlueprint=!![];const _0x5e7a9e=_0x41b266[_0x2d7827(0xa66)][_0x2d7827(0xb4e)];showQuizDetailView(_0x5e7a9e),_0x341e48[_0x2d7827(0xa39)][_0x2d7827(0x5c0)](_0x2d7827(0x4c5));}else{if(_0x347ccf){const _0x542ae2=_0x347ccf[_0x2d7827(0xa66)]['topicId'],_0x34580a=_0x347ccf[_0x2d7827(0xa66)][_0x2d7827(0xb4e)],_0x4fef97=allQuizzesGlobal[_0x2d7827(0x533)](_0x1bdc07=>_0x1bdc07['id']===_0x34580a),_0x3df07e=_0x4fef97?_0x4fef97[_0x2d7827(0x32c)]:_0x2d7827(0x223);showConfirmation(_0x2d7827(0x99f)+_0x3df07e+_0x2d7827(0x9e5),async()=>{const _0x1a4692=_0x2d7827;try{const _0x36ba7e=doc(db,_0x1a4692(0x309)+appId+_0x1a4692(0xd0b),currentBlueprintProjectId);await updateDoc(_0x36ba7e,{[_0x1a4692(0x64b)+_0x542ae2+_0x1a4692(0x2dc)]:arrayRemove(_0x34580a)}),showMessage(_0x1a4692(0xaa3)),openTopicQuizBank(_0x542ae2),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3f0899){console[_0x1a4692(0x40f)](_0x1a4692(0x68f),_0x3f0899),showMessage(_0x1a4692(0x370));}});}else{if(_0x1b98e0){cameFromBlueprint=!![];const _0x1cd381=_0x1b98e0[_0x2d7827(0xa66)][_0x2d7827(0xb4e)],_0x144d23=allQuizzesGlobal['find'](_0x9c5787=>_0x9c5787['id']===_0x1cd381);_0x144d23&&(startPresentation(_0x144d23),_0x341e48[_0x2d7827(0xa39)]['add'](_0x2d7827(0x4c5)));}else{if(_0x17ad8f){cameFromBlueprint=!![];const _0x5db9d9=_0x17ad8f[_0x2d7827(0xa66)][_0x2d7827(0xb4e)],_0x2b58d5=allQuizzesGlobal['find'](_0x449031=>_0x449031['id']===_0x5db9d9);_0x2b58d5&&(currentQuizData=_0x2b58d5,startAdminTest(),_0x341e48[_0x2d7827(0xa39)][_0x2d7827(0x5c0)]('hidden'));}else{if(_0x4a8205)cameFromBlueprint=!![],handleStartLiveRace(_0x4a8205[_0x2d7827(0xa66)]['quizId']),_0x341e48['classList'][_0x2d7827(0x5c0)]('hidden');else{if(_0x43c491){cameFromBlueprint=!![];const _0x3a05a8=_0x43c491[_0x2d7827(0xa66)][_0x2d7827(0xb4e)],_0x334752=_0x43c491[_0x2d7827(0xa66)][_0x2d7827(0x434)],_0x4b14c5=allQuizzesGlobal[_0x2d7827(0x533)](_0x29d44c=>_0x29d44c['id']===_0x3a05a8);_0x4b14c5&&(showGameStartConfirmationModal(_0x3a05a8,_0x334752,_0x4b14c5[_0x2d7827(0x32c)]),_0x341e48[_0x2d7827(0xa39)][_0x2d7827(0x5c0)]('hidden'));}}}}}}}),document[_0x797ae9(0x288)]('manual-create-blueprint-btn')[_0x797ae9(0x5b2)]('click',()=>{const _0x47bff1=_0x797ae9;document[_0x47bff1(0x288)]('manual-blueprint-modal')[_0x47bff1(0xa39)][_0x47bff1(0xc4b)]('hidden'),document[_0x47bff1(0x288)](_0x47bff1(0x5a7))['value']='',document['getElementById']('manual-bp-grade-level')[_0x47bff1(0x63b)]='',document[_0x47bff1(0x288)](_0x47bff1(0x7c1))[_0x47bff1(0x63b)]='';}),document[_0x797ae9(0x288)]('cancel-manual-bp-btn')['addEventListener']('click',()=>{const _0x1517f2=_0x797ae9;document[_0x1517f2(0x288)](_0x1517f2(0x911))[_0x1517f2(0xa39)][_0x1517f2(0x5c0)]('hidden');}),document[_0x797ae9(0x288)](_0x797ae9(0x5cd))['addEventListener'](_0x797ae9(0x8d9),handleManualBlueprintSave),document[_0x797ae9(0x288)](_0x797ae9(0x7d3))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>document[_0x797ae9(0x288)](_0x797ae9(0xb6f))['classList'][_0x797ae9(0x5c0)](_0x797ae9(0x4c5))),document[_0x797ae9(0x288)](_0x797ae9(0xb8d))[_0x797ae9(0x5b2)]('click',handleSaveBlueprintPageSettings),document[_0x797ae9(0x288)](_0x797ae9(0xbe4))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),openBlueprintQuizSettings),document[_0x797ae9(0x288)](_0x797ae9(0xc0b))['addEventListener'](_0x797ae9(0x8d9),saveBlueprintProject),document[_0x797ae9(0x288)]('open-blueprint-projects-btn')['addEventListener'](_0x797ae9(0x8d9),showBlueprintProjects),document[_0x797ae9(0x288)](_0x797ae9(0x55c))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x4f4edd=_0x797ae9;document[_0x4f4edd(0x288)](_0x4f4edd(0x979))[_0x4f4edd(0xa39)][_0x4f4edd(0x5c0)]('hidden');}),document[_0x797ae9(0x288)](_0x797ae9(0x35f))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x49632c=>{const _0x387baa=_0x797ae9,_0x3ecd10=_0x49632c[_0x387baa(0x328)]['closest'](_0x387baa(0x4bc)),_0x5c8a2b=_0x49632c[_0x387baa(0x328)][_0x387baa(0x6d3)](_0x387baa(0x6d7));if(_0x3ecd10)displayBlueprintProjectManager(_0x3ecd10[_0x387baa(0xa66)]['id']);else{if(_0x5c8a2b){if(confirm(_0x387baa(0x5b3))){const _0x5484c5=doc(db,'artifacts/'+appId+_0x387baa(0xd0b),_0x5c8a2b[_0x387baa(0xa66)]['id']);deleteDoc(_0x5484c5)[_0x387baa(0xb5a)](()=>{const _0x2584e5=_0x387baa;showMessage(_0x2584e5(0x8c8)),showBlueprintProjects();});}}}}),document[_0x797ae9(0x288)]('back-to-dashboard-from-bp-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x37fbb7=_0x797ae9;currentBlueprintProjectId=null,currentProjectId=null,document[_0x37fbb7(0x288)](_0x37fbb7(0x5ec))['classList'][_0x37fbb7(0x5c0)](_0x37fbb7(0x4c5)),showView(_0x37fbb7(0x6a2));}),document[_0x797ae9(0x288)](_0x797ae9(0x6eb))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),addTopicToProject),document[_0x797ae9(0x288)](_0x797ae9(0x640))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),async _0x8192a9=>{const _0x5e365d=_0x797ae9,_0x48e048=_0x8192a9[_0x5e365d(0x328)][_0x5e365d(0x6d3)]('[data-topic-id]');if(!_0x48e048)return;const _0x35dfa6=_0x48e048['dataset']['topicId'],_0x35869e=_0x8192a9[_0x5e365d(0x328)]['closest'](_0x5e365d(0x889)),_0x286cf8=_0x8192a9['target'][_0x5e365d(0x6d3)](_0x5e365d(0xd0a)),_0x9604f3=_0x8192a9[_0x5e365d(0x328)][_0x5e365d(0x6d3)]('.bp-create-topic-quiz-btn'),_0x391961=_0x8192a9[_0x5e365d(0x328)]['closest'](_0x5e365d(0x7eb)),_0x6b1313=_0x8192a9['target'][_0x5e365d(0x6d3)]('.view-bp-lesson-btn'),_0x30c4ce=_0x8192a9['target'][_0x5e365d(0x6d3)](_0x5e365d(0x845)),_0x3e10cd=_0x8192a9[_0x5e365d(0x328)]['closest']('.bp-edit-topic-btn'),_0x170312=_0x8192a9[_0x5e365d(0x328)]['closest'](_0x5e365d(0x85a));if(_0x391961)openTopicQuizBank(_0x35dfa6);else{if(_0x35869e){console[_0x5e365d(0x516)](_0x5e365d(0x5da));const _0x3fb9f6=_0x48e048[_0x5e365d(0x2ee)](_0x5e365d(0x62e))[_0x5e365d(0xb10)];selectProjectAndGenerateBlueprintQuiz(_0x3fb9f6,null,_0x35dfa6,!![]);}else{if(_0x286cf8){console[_0x5e365d(0x516)]('Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.');try{const _0x418c82=doc(db,_0x5e365d(0x309)+appId+_0x5e365d(0xd0b),currentBlueprintProjectId),_0x515610=await getDoc(_0x418c82);if(_0x515610[_0x5e365d(0x5e4)]()){const _0xa082d=_0x515610[_0x5e365d(0xc89)](),_0x23f9a1=_0xa082d[_0x5e365d(0x227)][_0x35dfa6],_0x49e5ef=_0x23f9a1[_0x5e365d(0xa23)],_0x441afa=document[_0x5e365d(0xb75)](_0x5e365d(0x49e)),_0x369823=_0xfbd97c=>{const _0xceb38e=_0x5e365d;if(!_0xfbd97c)return'';return _0x441afa[_0xceb38e(0x5f0)]=_0xfbd97c,_0x441afa[_0xceb38e(0xb10)]||_0x441afa[_0xceb38e(0x633)]||'';},_0x3ac7e6=(_0x369823(_0x49e5ef[_0x5e365d(0x8e7)])+'\x20'+_0x369823(_0x49e5ef[_0x5e365d(0x7f1)])+'\x20'+_0x369823(_0x49e5ef[_0x5e365d(0x3f1)]))[_0x5e365d(0x8e1)]();selectProjectAndGenerateBlueprintQuiz(_0x23f9a1[_0x5e365d(0xb55)],_0x3ac7e6,_0x35dfa6,![]);}}catch(_0x265ced){console['error'](_0x5e365d(0x89d),_0x265ced);}}else{if(_0x9604f3){console['log']('Action:\x20Create\x20topic-based\x20Quiz.');const _0x368998=_0x48e048[_0x5e365d(0x2ee)]('[data-field=\x22subTopic\x22]')[_0x5e365d(0xb10)];selectProjectAndGenerateBlueprintQuiz(_0x368998,null,_0x35dfa6,![]);}else{if(_0x6b1313){console['log'](_0x5e365d(0xb3e));const _0x513fb4=doc(db,_0x5e365d(0x309)+appId+_0x5e365d(0xd0b),currentBlueprintProjectId),_0x469cbf=await getDoc(_0x513fb4);if(_0x469cbf[_0x5e365d(0x5e4)]()){const _0xe5d986=_0x469cbf[_0x5e365d(0xc89)](),_0x3b5617=_0xe5d986[_0x5e365d(0x227)][_0x35dfa6];if(_0x3b5617&&_0x3b5617[_0x5e365d(0xa78)]===_0x5e365d(0x307))try{const _0x5cbf26=doc(db,'artifacts/'+appId+_0x5e365d(0x5f7)+currentBlueprintProjectId+_0x5e365d(0x2d9),_0x35dfa6),_0x38c5a1=await getDoc(_0x5cbf26);if(_0x38c5a1[_0x5e365d(0x5e4)]()){const _0x4da19e=_0x38c5a1[_0x5e365d(0xc89)]()[_0x5e365d(0x42a)];document['getElementById']('lesson-view-title')['textContent']=_0x5e365d(0x97b)+_0x3b5617[_0x5e365d(0xb55)],document['getElementById'](_0x5e365d(0x9e2))[_0x5e365d(0x5f0)]=_0x4da19e[_0x5e365d(0x8e7)],document['getElementById'](_0x5e365d(0x6c9))[_0x5e365d(0x5f0)]=_0x4da19e['memory'],document[_0x5e365d(0x288)]('summaryContent')[_0x5e365d(0x5f0)]=_0x4da19e['summary'];const _0x514a64=document[_0x5e365d(0x288)](_0x5e365d(0xbb7));_0x4da19e[_0x5e365d(0x761)]?(currentApplicationData=_0x4da19e[_0x5e365d(0x761)],_0x514a64[_0x5e365d(0x5f0)]=currentApplicationData[_0x5e365d(0x598)]((_0x23d3e9,_0x4f6258)=>_0x5e365d(0xccd)+(_0x4f6258+0x1)+'.\x20'+marked['parseInline'](_0x23d3e9[_0x5e365d(0x788)])+_0x5e365d(0x924)+_0x4f6258+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x23d3e9[_0x5e365d(0x67e)][_0x5e365d(0x598)]((_0x26dda0,_0x37bf03)=>_0x5e365d(0x2a4)+_0x4f6258+',\x20'+_0x37bf03+_0x5e365d(0x39f)+String['fromCharCode'](0x61+_0x37bf03)+'.\x20'+marked['parseInline'](_0x26dda0)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x5e365d(0x783))[_0x5e365d(0x53d)]('')):(currentApplicationData=[],_0x514a64[_0x5e365d(0x5f0)]=_0x4da19e[_0x5e365d(0x20c)]||_0x4da19e[_0x5e365d(0x554)]),document['getElementById'](_0x5e365d(0x549))[_0x5e365d(0xa39)][_0x5e365d(0x5c0)]('hidden'),document[_0x5e365d(0x288)]('lesson-sections-container')[_0x5e365d(0xa39)][_0x5e365d(0xc4b)]('hidden'),document['getElementById']('lesson-view-modal')[_0x5e365d(0xa39)][_0x5e365d(0xc4b)](_0x5e365d(0x4c5)),window[_0x5e365d(0x5ed)]&&MathJax[_0x5e365d(0x3d1)]([document[_0x5e365d(0x288)](_0x5e365d(0x4cb))]);}else showMessage(_0x5e365d(0xce0));}catch(_0x4a2dc4){console['error']('Error\x20fetching\x20lesson\x20content:',_0x4a2dc4),showMessage(_0x5e365d(0xa92));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x30c4ce){console['log'](_0x5e365d(0x6a0));const _0x2c4f30=doc(db,'artifacts/'+appId+_0x5e365d(0xd0b),currentBlueprintProjectId),_0x5292ab=await getDoc(_0x2c4f30);if(_0x5292ab[_0x5e365d(0x5e4)]()){const _0x189a6e=_0x5292ab['data'](),_0x2665e6=_0x189a6e[_0x5e365d(0x227)][_0x35dfa6];generateAndSaveLessonForBlueprint(_0x35dfa6,_0x2665e6[_0x5e365d(0xb55)],_0x189a6e[_0x5e365d(0xc92)]);}}else{if(_0x3e10cd)editTopicInProject(_0x35dfa6);else _0x170312&&deleteTopicFromProject(_0x35dfa6);}}}}}}}),document['getElementById'](_0x797ae9(0x7ca))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleFixLessonLatex),document['getElementById']('export-lesson-to-pdf-btn')[_0x797ae9(0x5b2)]('click',handleExportLessonToPDF),document[_0x797ae9(0x288)](_0x797ae9(0x5cc))['addEventListener'](_0x797ae9(0x8d9),()=>{const _0x4d43b4=_0x797ae9;document['getElementById'](_0x4d43b4(0x404))[_0x4d43b4(0xa39)][_0x4d43b4(0x5c0)](_0x4d43b4(0x4c5));});const _0x37613b=document[_0x797ae9(0x288)](_0x797ae9(0xa28)),_0x20d810=document[_0x797ae9(0x288)](_0x797ae9(0xa74));_0x37613b['addEventListener'](_0x797ae9(0x2f8),()=>{const _0x130261=_0x797ae9;_0x20d810['classList'][_0x130261(0xc5b)](_0x130261(0x4c5),!_0x37613b[_0x130261(0xbe3)]);});const _0x594549=document[_0x797ae9(0x288)]('confidence-scoring-checkbox'),_0x38abb8=document[_0x797ae9(0x288)](_0x797ae9(0x9f3));_0x594549[_0x797ae9(0x5b2)]('change',()=>{const _0x22b3b2=_0x797ae9;_0x38abb8['classList']['toggle'](_0x22b3b2(0x4c5),!_0x594549[_0x22b3b2(0xbe3)]);});const _0x4c973e=document['getElementById'](_0x797ae9(0x70b)),_0x4b25e9=document[_0x797ae9(0x288)](_0x797ae9(0xb32));_0x4c973e['addEventListener']('change',()=>{const _0xc3613=_0x797ae9;_0x4b25e9['classList'][_0xc3613(0xc5b)](_0xc3613(0x4c5),!_0x4c973e[_0xc3613(0xbe3)]);});const _0x40ec5e=document[_0x797ae9(0x288)]('confidence-modal'),_0x39e327=async _0x51d688=>{const _0x10be5c=_0x797ae9,_0x2d7532=document['getElementById']('confidence-modal'),_0x1ac5e0=_0x2d7532['dataset']['currentMode'],_0x2813fe=document[_0x10be5c(0x288)]('selected-answer-index-hidden');_0x2d7532[_0x10be5c(0xa39)][_0x10be5c(0x5c0)](_0x10be5c(0x4c5));if(_0x1ac5e0===_0x10be5c(0x880)){const _0x2c7a79=_0x2813fe[_0x10be5c(0x63b)],_0x250e11={'answer':_0x2c7a79,'wasConfident':_0x51d688};proceedToNextQuestion(_0x250e11);}else{if(_0x1ac5e0===_0x10be5c(0x97a)){const _0x41af3b=_0x2813fe[_0x10be5c(0xa66)][_0x10be5c(0x239)],_0x40e28f=JSON[_0x10be5c(0x560)](_0x2813fe['dataset']['question']),_0x4c68dd=JSON[_0x10be5c(0x560)](_0x2813fe[_0x10be5c(0xa66)][_0x10be5c(0xac9)]),_0x1ecf01=_0x2813fe[_0x10be5c(0xa66)][_0x10be5c(0x9cd)];handleSyncAnswerSubmit(_0x41af3b,_0x40e28f,_0x4c68dd,_0x1ecf01,_0x51d688);}}_0x2d7532['dataset'][_0x10be5c(0x5a9)]='';};document['getElementById'](_0x797ae9(0x959))['addEventListener']('click',()=>_0x39e327(!![])),document[_0x797ae9(0x288)]('confirm-not-confident')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>_0x39e327(![])),liveGameView[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x279de5=>{const _0x2201c7=_0x797ae9,_0x2975f=_0x279de5['target'][_0x2201c7(0x6d3)](_0x2201c7(0x28e));if(_0x2975f){const _0x5134e8=_0x2975f['dataset']['playerName'];_0x5134e8&&handleKickPlayerSync(_0x5134e8);}});const _0x840989=document[_0x797ae9(0x288)](_0x797ae9(0x71d)),_0x22f479=document[_0x797ae9(0x288)](_0x797ae9(0x629));_0x22f479[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x413c83=_0x797ae9;document[_0x413c83(0x288)](_0x413c83(0x647))[_0x413c83(0xa39)]['add']('hidden');}),_0x840989[_0x797ae9(0x5b2)]('click',()=>{const _0x392ba0=_0x797ae9,_0x4b5b13=document[_0x392ba0(0x288)](_0x392ba0(0x8ab))[_0x392ba0(0x63b)],_0x40b600=document['getElementById'](_0x392ba0(0x887))['value'],_0x23c11f=document['getElementById']('save-game-results-checkbox')['checked'];document[_0x392ba0(0x288)](_0x392ba0(0x647))[_0x392ba0(0xa39)][_0x392ba0(0x5c0)](_0x392ba0(0x4c5));switch(_0x40b600){case _0x392ba0(0x25c):handleStartLiveRace(_0x4b5b13,_0x23c11f);break;case _0x392ba0(0x861):handleStartTeamQuiz(_0x4b5b13,_0x23c11f);break;case _0x392ba0(0xc76):handleStartGroupMode(_0x4b5b13,_0x23c11f);break;case'sync':handleStartSyncMode(_0x4b5b13,_0x23c11f);break;}}),document[_0x797ae9(0x288)]('join-group-activity-btn')['addEventListener'](_0x797ae9(0x8d9),handleJoinGroupActivity),liveGameView[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),_0x2d7b4b=>{const _0x3c101b=_0x797ae9,_0x4aee68=_0x2d7b4b[_0x3c101b(0x328)][_0x3c101b(0x6d3)](_0x3c101b(0x857));document[_0x3c101b(0x3db)](_0x3c101b(0x995))[_0x3c101b(0x220)](_0x2f809f=>{const _0x5e90c0=_0x3c101b;(!_0x4aee68||_0x2f809f['id']!==_0x4aee68[_0x5e90c0(0xa66)][_0x5e90c0(0x592)])&&_0x2f809f[_0x5e90c0(0xa39)][_0x5e90c0(0xc4b)](_0x5e90c0(0xca4));});if(!_0x4aee68)return;const _0x2d0303=_0x4aee68[_0x3c101b(0xa66)][_0x3c101b(0x592)],_0x54f3e0=document[_0x3c101b(0x288)](_0x2d0303);_0x54f3e0&&_0x54f3e0['classList'][_0x3c101b(0xc5b)](_0x3c101b(0xca4));}),liveGameView[_0x797ae9(0x5b2)]('click',_0x3e419c=>{const _0x49c6b5=_0x797ae9;if(_0x3e419c['target'][_0x49c6b5(0xa39)][_0x49c6b5(0x6ca)]('kick-player-btn')){const _0xcbfd67=_0x3e419c[_0x49c6b5(0x328)][_0x49c6b5(0xa66)][_0x49c6b5(0x9cd)];_0xcbfd67&&handleKickPlayer(_0xcbfd67);}}),document[_0x797ae9(0x288)](_0x797ae9(0xaba))[_0x797ae9(0x5b2)](_0x797ae9(0x26e),()=>document[_0x797ae9(0x288)](_0x797ae9(0x78a))[_0x797ae9(0xa39)][_0x797ae9(0xc4b)](_0x797ae9(0x4c5))),document[_0x797ae9(0x288)]('save-project-name-btn')[_0x797ae9(0x5b2)]('click',handleSaveProjectName),document[_0x797ae9(0x288)]('project-title')[_0x797ae9(0x5b2)](_0x797ae9(0xbce),_0x338ea3=>{const _0x1064dc=_0x797ae9;_0x338ea3[_0x1064dc(0x1ea)]===_0x1064dc(0x66d)&&(_0x338ea3[_0x1064dc(0xc57)](),_0x338ea3[_0x1064dc(0x328)]['blur'](),handleSaveProjectName());}),document[_0x797ae9(0x288)](_0x797ae9(0x750))[_0x797ae9(0x5b2)]('click',()=>{const _0x47b35f=_0x797ae9;document['getElementById'](_0x47b35f(0x4a2))[_0x47b35f(0xa39)][_0x47b35f(0xc4b)](_0x47b35f(0x4c5));}),document['getElementById'](_0x797ae9(0x565))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x233ba7=_0x797ae9;document['getElementById']('bulk-quiz-settings-modal')[_0x233ba7(0xa39)][_0x233ba7(0x5c0)]('hidden');}),document[_0x797ae9(0x288)](_0x797ae9(0x268))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleBulkUpdateQuizSettings),document[_0x797ae9(0x288)](_0x797ae9(0x2c2))[_0x797ae9(0x5b2)]('click',handleModeSwitch),document[_0x797ae9(0x288)](_0x797ae9(0xa19))[_0x797ae9(0x5b2)]('click',handleUpdateOldQuizzes),document[_0x797ae9(0x288)](_0x797ae9(0xa75))[_0x797ae9(0x5b2)]('click',handleResetProjectOrder),document[_0x797ae9(0x288)]('save-visibility-settings-btn')['addEventListener'](_0x797ae9(0x8d9),handleSaveVisibilitySettings),document[_0x797ae9(0x288)](_0x797ae9(0x79e))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleAddCustomMathTopic),document['getElementById'](_0x797ae9(0xa33))['addEventListener'](_0x797ae9(0x8d9),handleSelectAllTopics),document[_0x797ae9(0x288)]('deselect-all-topics-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleDeselectAllTopics),document[_0x797ae9(0x288)]('back-to-dashboard-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x52a2b3=_0x797ae9;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x52a2b3(0x6a2));}}),document[_0x797ae9(0x288)](_0x797ae9(0x1d7))['addEventListener'](_0x797ae9(0x8d9),()=>{const _0xeb2114=_0x797ae9;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0xeb2114(0xbc6));}}),document[_0x797ae9(0x288)](_0x797ae9(0x905))['addEventListener'](_0x797ae9(0x8d9),()=>{const _0x2f1d2a=_0x797ae9;showView(_0x2f1d2a(0x6a2));}),document[_0x797ae9(0x288)]('modal-close-btn')['addEventListener'](_0x797ae9(0x8d9),()=>{const _0xf119e8=_0x797ae9;messageModal[_0xf119e8(0xa39)]['add'](_0xf119e8(0x4c5)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x797ae9(0x288)]('create-project-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>createProjectModal[_0x797ae9(0xa39)][_0x797ae9(0xc4b)](_0x797ae9(0x4c5))),document[_0x797ae9(0x288)]('cancel-create-project-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>createProjectModal[_0x797ae9(0xa39)][_0x797ae9(0x5c0)](_0x797ae9(0x4c5))),document[_0x797ae9(0x288)]('cancel-admin-login-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>adminPasswordModal[_0x797ae9(0xa39)][_0x797ae9(0x5c0)](_0x797ae9(0x4c5))),document[_0x797ae9(0x288)](_0x797ae9(0xb8c))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleAdminLogin),document[_0x797ae9(0x288)]('admin-password-input')[_0x797ae9(0x5b2)]('keyup',_0x5482b0=>{const _0x5d7395=_0x797ae9;if(_0x5482b0['key']===_0x5d7395(0x66d))handleAdminLogin();}),document[_0x797ae9(0x288)]('cancel-delete-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x38ec5d=_0x797ae9;confirmationModal[_0x38ec5d(0xa39)][_0x38ec5d(0x5c0)](_0x38ec5d(0x4c5)),confirmAction=null;}),document[_0x797ae9(0x288)](_0x797ae9(0x468))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x21db45=_0x797ae9;confirmAction&&confirmAction(),confirmationModal[_0x21db45(0xa39)][_0x21db45(0x5c0)]('hidden'),confirmAction=null;}),document['getElementById'](_0x797ae9(0xa2c))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>renameQuizModal[_0x797ae9(0xa39)][_0x797ae9(0x5c0)](_0x797ae9(0x4c5))),document[_0x797ae9(0x288)](_0x797ae9(0x850))['addEventListener'](_0x797ae9(0x8d9),confirmRenameQuiz),document[_0x797ae9(0x288)](_0x797ae9(0x478))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>moveQuizModal[_0x797ae9(0xa39)]['add'](_0x797ae9(0x4c5))),document['getElementById'](_0x797ae9(0x326))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),confirmMoveQuiz),document[_0x797ae9(0x288)](_0x797ae9(0xcef))['addEventListener'](_0x797ae9(0x8d9),()=>quizSettingsModal['classList'][_0x797ae9(0x5c0)](_0x797ae9(0x4c5))),document['getElementById'](_0x797ae9(0x5bb))['addEventListener'](_0x797ae9(0x8d9),confirmQuizSettings),document['getElementById'](_0x797ae9(0x292))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>quizStatusModal[_0x797ae9(0xa39)][_0x797ae9(0x5c0)](_0x797ae9(0x4c5))),document[_0x797ae9(0x288)](_0x797ae9(0x229))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),confirmQuizStatus);const _0x1ea827=document[_0x797ae9(0x288)](_0x797ae9(0xcd7));document[_0x797ae9(0x288)](_0x797ae9(0x9f6))['addEventListener'](_0x797ae9(0x8d9),()=>{const _0x5c9375=_0x797ae9;_0x1ea827['classList'][_0x5c9375(0x5c0)](_0x5c9375(0x4c5));}),document['getElementById'](_0x797ae9(0x471))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),async()=>{const _0x422de2=_0x797ae9,_0x4b45f1=allQuizzes[_0x422de2(0x533)](_0xa220ff=>_0xa220ff['id']===actionTargetId);_0x4b45f1?(currentQuizData=_0x4b45f1,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x1ea827[_0x422de2(0xa39)][_0x422de2(0x5c0)](_0x422de2(0x4c5));}),document[_0x797ae9(0x288)]('export-tutor-pdf-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),async()=>{const _0x117143=_0x797ae9,_0x48819d=allQuizzes[_0x117143(0x533)](_0x1f9905=>_0x1f9905['id']===actionTargetId);_0x48819d?(currentQuizData=_0x48819d,exportQuizAsTutorPDF()):showMessage(_0x117143(0x663)),_0x1ea827[_0x117143(0xa39)][_0x117143(0x5c0)]('hidden');});const _0x24cd62=document['getElementById'](_0x797ae9(0x648));_0x24cd62[_0x797ae9(0x5f0)]=_0x797ae9(0x627),_0x24cd62[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),openGlobalActivityModal),document['getElementById'](_0x797ae9(0x9bb))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x30715e=_0x797ae9;document[_0x30715e(0x288)](_0x30715e(0x8dd))[_0x30715e(0xa39)][_0x30715e(0x5c0)](_0x30715e(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0xa3f))[_0x797ae9(0x5b2)](_0x797ae9(0x343),_0x22f8c7=>{const _0x1bd96e=_0x797ae9;renderGlobalActivityList(_0x22f8c7[_0x1bd96e(0x328)][_0x1bd96e(0x63b)]);}),document['getElementById'](_0x797ae9(0x93c))['addEventListener'](_0x797ae9(0x8d9),_0x16875a=>{const _0x30c455=_0x797ae9,_0x36c109=_0x16875a[_0x30c455(0x328)][_0x30c455(0x6d3)](_0x30c455(0x831));if(!_0x36c109)return;const _0x464b49=_0x36c109[_0x30c455(0xa66)]['id'],_0x3ab5ca=_0x36c109[_0x30c455(0xa66)][_0x30c455(0x434)],_0x3b3465=allQuizzesGlobal[_0x30c455(0x533)](_0x1ddaf6=>_0x1ddaf6['id']===_0x464b49);_0x3b3465&&(document[_0x30c455(0x288)](_0x30c455(0x8dd))[_0x30c455(0xa39)]['add']('hidden'),_0x3ab5ca===_0x30c455(0x25c)?handleStartLiveRace(_0x464b49):showGameStartConfirmationModal(_0x464b49,_0x3ab5ca,_0x3b3465['topic']));}),document[_0x797ae9(0x288)]('project-search-input')[_0x797ae9(0x5b2)](_0x797ae9(0x343),renderProjects),document[_0x797ae9(0x288)](_0x797ae9(0xa95))[_0x797ae9(0x5b2)](_0x797ae9(0x2f8),async()=>{const _0x5114d6=_0x797ae9,_0x10da3c=document[_0x5114d6(0x288)]('project-sort-select')[_0x5114d6(0x63b)],_0x124208=doc(db,_0x5114d6(0x34f),_0x5114d6(0xa17));try{await setDoc(_0x124208,{'projectSort':_0x10da3c},{'merge':!![]});}catch(_0x2fc179){console[_0x5114d6(0x40f)](_0x5114d6(0xa70),_0x2fc179),showMessage(_0x5114d6(0x96f));}}),document[_0x797ae9(0x288)]('quiz-search-input')[_0x797ae9(0x5b2)](_0x797ae9(0x343),renderQuizzes),document['getElementById'](_0x797ae9(0x975))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x5616f6=_0x797ae9;globalDashboardSettings[_0x5616f6(0x45f)]=_0x5616f6(0x7cc),saveUserPreference('projectView',_0x5616f6(0x7cc)),renderProjects();}),document[_0x797ae9(0x288)]('list-view-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x30df9f=_0x797ae9;globalDashboardSettings[_0x30df9f(0x45f)]='list',saveUserPreference('projectView',_0x30df9f(0x818)),renderProjects();}),manageTab['addEventListener'](_0x797ae9(0x8d9),()=>switchProjectTab('manage')),resultsTab[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>switchProjectTab(_0x797ae9(0x5c5))),leaderboardTab[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>switchProjectTab(_0x797ae9(0xd17))),document[_0x797ae9(0x288)](_0x797ae9(0x587))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>switchQuizDetailTab('analytics')),document[_0x797ae9(0x288)]('scores-tab-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>switchQuizDetailTab(_0x797ae9(0x52b))),document[_0x797ae9(0x288)](_0x797ae9(0x93b))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>switchQuizDetailTab(_0x797ae9(0xae3))),document[_0x797ae9(0x288)]('behavior-log-tab-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>switchQuizDetailTab(_0x797ae9(0x424))),document[_0x797ae9(0x288)]('analyze-strengths-btn')['addEventListener'](_0x797ae9(0x8d9),handleAnalyzeClass),generateWorksheetBtn[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),generateWorksheet);const _0x1a8515=document[_0x797ae9(0x288)](_0x797ae9(0x8a2)),_0x303090=document['getElementById'](_0x797ae9(0x574)),_0x32dabf=document[_0x797ae9(0x288)](_0x797ae9(0x337)),_0x148fad=document['getElementById'](_0x797ae9(0xca7)),_0x2c3656=document[_0x797ae9(0x288)](_0x797ae9(0x205)),_0x1145d4=document[_0x797ae9(0x288)]('parallel-test-input-area');topicTab['addEventListener'](_0x797ae9(0x8d9),()=>{const _0x498fa4=_0x797ae9;topicTab['classList']['add'](_0x498fa4(0xadb)),textTab[_0x498fa4(0xa39)][_0x498fa4(0xc4b)](_0x498fa4(0xadb)),fileTab[_0x498fa4(0xa39)][_0x498fa4(0xc4b)]('active'),worksheetTab['classList'][_0x498fa4(0xc4b)]('active');if(_0x1a8515)_0x1a8515[_0x498fa4(0xa39)][_0x498fa4(0xc4b)](_0x498fa4(0xadb));if(_0x32dabf)_0x32dabf[_0x498fa4(0xa39)][_0x498fa4(0xc4b)](_0x498fa4(0xadb));if(_0x2c3656)_0x2c3656['classList'][_0x498fa4(0xc4b)](_0x498fa4(0xadb));topicInputArea['classList'][_0x498fa4(0xc4b)](_0x498fa4(0x4c5)),textInputArea[_0x498fa4(0xa39)][_0x498fa4(0x5c0)](_0x498fa4(0x4c5)),fileInputArea[_0x498fa4(0xa39)][_0x498fa4(0x5c0)](_0x498fa4(0x4c5)),worksheetInputArea['classList'][_0x498fa4(0x5c0)](_0x498fa4(0x4c5));if(_0x303090)_0x303090[_0x498fa4(0xa39)][_0x498fa4(0x5c0)](_0x498fa4(0x4c5));if(_0x148fad)_0x148fad[_0x498fa4(0xa39)][_0x498fa4(0x5c0)](_0x498fa4(0x4c5));if(_0x1145d4)_0x1145d4[_0x498fa4(0xa39)][_0x498fa4(0x5c0)](_0x498fa4(0x4c5));}),textTab[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x4c21bd=_0x797ae9;textTab[_0x4c21bd(0xa39)][_0x4c21bd(0x5c0)]('active'),topicTab[_0x4c21bd(0xa39)][_0x4c21bd(0xc4b)](_0x4c21bd(0xadb)),fileTab[_0x4c21bd(0xa39)][_0x4c21bd(0xc4b)](_0x4c21bd(0xadb)),worksheetTab['classList']['remove'](_0x4c21bd(0xadb));if(_0x1a8515)_0x1a8515[_0x4c21bd(0xa39)][_0x4c21bd(0xc4b)](_0x4c21bd(0xadb));if(_0x32dabf)_0x32dabf[_0x4c21bd(0xa39)][_0x4c21bd(0xc4b)]('active');if(_0x2c3656)_0x2c3656[_0x4c21bd(0xa39)][_0x4c21bd(0xc4b)]('active');textInputArea['classList'][_0x4c21bd(0xc4b)]('hidden'),topicInputArea['classList'][_0x4c21bd(0x5c0)](_0x4c21bd(0x4c5)),fileInputArea[_0x4c21bd(0xa39)][_0x4c21bd(0x5c0)](_0x4c21bd(0x4c5)),worksheetInputArea[_0x4c21bd(0xa39)]['add'](_0x4c21bd(0x4c5));if(_0x303090)_0x303090[_0x4c21bd(0xa39)][_0x4c21bd(0x5c0)](_0x4c21bd(0x4c5));if(_0x148fad)_0x148fad[_0x4c21bd(0xa39)]['add'](_0x4c21bd(0x4c5));if(_0x1145d4)_0x1145d4[_0x4c21bd(0xa39)][_0x4c21bd(0x5c0)](_0x4c21bd(0x4c5));}),fileTab[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x41dd81=_0x797ae9;fileTab[_0x41dd81(0xa39)][_0x41dd81(0x5c0)]('active'),topicTab[_0x41dd81(0xa39)]['remove'](_0x41dd81(0xadb)),textTab[_0x41dd81(0xa39)][_0x41dd81(0xc4b)](_0x41dd81(0xadb)),worksheetTab[_0x41dd81(0xa39)][_0x41dd81(0xc4b)]('active');if(_0x1a8515)_0x1a8515[_0x41dd81(0xa39)][_0x41dd81(0xc4b)](_0x41dd81(0xadb));if(_0x32dabf)_0x32dabf[_0x41dd81(0xa39)][_0x41dd81(0xc4b)](_0x41dd81(0xadb));if(_0x2c3656)_0x2c3656[_0x41dd81(0xa39)][_0x41dd81(0xc4b)](_0x41dd81(0xadb));fileInputArea[_0x41dd81(0xa39)][_0x41dd81(0xc4b)](_0x41dd81(0x4c5)),topicInputArea[_0x41dd81(0xa39)][_0x41dd81(0x5c0)](_0x41dd81(0x4c5)),textInputArea['classList'][_0x41dd81(0x5c0)](_0x41dd81(0x4c5)),worksheetInputArea[_0x41dd81(0xa39)][_0x41dd81(0x5c0)](_0x41dd81(0x4c5));if(_0x303090)_0x303090[_0x41dd81(0xa39)][_0x41dd81(0x5c0)](_0x41dd81(0x4c5));if(_0x148fad)_0x148fad[_0x41dd81(0xa39)]['add'](_0x41dd81(0x4c5));if(_0x1145d4)_0x1145d4['classList']['add'](_0x41dd81(0x4c5));}),worksheetTab['addEventListener'](_0x797ae9(0x8d9),()=>{const _0xa8d6c=_0x797ae9;worksheetTab[_0xa8d6c(0xa39)][_0xa8d6c(0x5c0)]('active'),topicTab[_0xa8d6c(0xa39)]['remove'](_0xa8d6c(0xadb)),textTab[_0xa8d6c(0xa39)][_0xa8d6c(0xc4b)]('active'),fileTab[_0xa8d6c(0xa39)][_0xa8d6c(0xc4b)](_0xa8d6c(0xadb));if(_0x1a8515)_0x1a8515[_0xa8d6c(0xa39)][_0xa8d6c(0xc4b)](_0xa8d6c(0xadb));if(_0x32dabf)_0x32dabf[_0xa8d6c(0xa39)][_0xa8d6c(0xc4b)](_0xa8d6c(0xadb));if(_0x2c3656)_0x2c3656[_0xa8d6c(0xa39)][_0xa8d6c(0xc4b)](_0xa8d6c(0xadb));worksheetInputArea[_0xa8d6c(0xa39)][_0xa8d6c(0xc4b)](_0xa8d6c(0x4c5)),topicInputArea['classList'][_0xa8d6c(0x5c0)]('hidden'),textInputArea[_0xa8d6c(0xa39)][_0xa8d6c(0x5c0)](_0xa8d6c(0x4c5)),fileInputArea[_0xa8d6c(0xa39)][_0xa8d6c(0x5c0)](_0xa8d6c(0x4c5));if(_0x303090)_0x303090[_0xa8d6c(0xa39)][_0xa8d6c(0x5c0)](_0xa8d6c(0x4c5));if(_0x148fad)_0x148fad[_0xa8d6c(0xa39)][_0xa8d6c(0x5c0)](_0xa8d6c(0x4c5));if(_0x1145d4)_0x1145d4[_0xa8d6c(0xa39)][_0xa8d6c(0x5c0)]('hidden');});const _0x3a289b=document[_0x797ae9(0x288)](_0x797ae9(0xbea)),_0x2be5f8=document[_0x797ae9(0x288)]('bank-input-area');_0x3a289b&&_0x3a289b[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x437360=_0x797ae9;topicTab[_0x437360(0xa39)][_0x437360(0xc4b)]('active'),textTab[_0x437360(0xa39)][_0x437360(0xc4b)](_0x437360(0xadb)),fileTab[_0x437360(0xa39)][_0x437360(0xc4b)](_0x437360(0xadb)),worksheetTab[_0x437360(0xa39)][_0x437360(0xc4b)](_0x437360(0xadb));if(_0x1a8515)_0x1a8515[_0x437360(0xa39)][_0x437360(0xc4b)](_0x437360(0xadb));if(_0x32dabf)_0x32dabf[_0x437360(0xa39)]['remove'](_0x437360(0xadb));if(_0x2c3656)_0x2c3656[_0x437360(0xa39)]['remove'](_0x437360(0xadb));_0x3a289b[_0x437360(0xa39)][_0x437360(0x5c0)](_0x437360(0xadb)),topicInputArea[_0x437360(0xa39)][_0x437360(0x5c0)](_0x437360(0x4c5)),textInputArea[_0x437360(0xa39)][_0x437360(0x5c0)]('hidden'),fileInputArea['classList'][_0x437360(0x5c0)]('hidden'),worksheetInputArea['classList'][_0x437360(0x5c0)](_0x437360(0x4c5));if(_0x303090)_0x303090[_0x437360(0xa39)][_0x437360(0x5c0)](_0x437360(0x4c5));if(_0x148fad)_0x148fad[_0x437360(0xa39)]['add'](_0x437360(0x4c5));if(_0x1145d4)_0x1145d4['classList']['add'](_0x437360(0x4c5));_0x2be5f8[_0x437360(0xa39)][_0x437360(0xc4b)]('hidden'),displayQuestionBank();});_0x1a8515&&(_0x1a8515[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0xf6319f=_0x797ae9;_0x1a8515[_0xf6319f(0xa39)][_0xf6319f(0x5c0)]('active'),topicTab['classList'][_0xf6319f(0xc4b)](_0xf6319f(0xadb)),textTab['classList'][_0xf6319f(0xc4b)](_0xf6319f(0xadb)),fileTab[_0xf6319f(0xa39)][_0xf6319f(0xc4b)](_0xf6319f(0xadb)),worksheetTab[_0xf6319f(0xa39)][_0xf6319f(0xc4b)]('active');if(_0x32dabf)_0x32dabf[_0xf6319f(0xa39)]['remove'](_0xf6319f(0xadb));if(_0x2c3656)_0x2c3656[_0xf6319f(0xa39)][_0xf6319f(0xc4b)]('active');_0x303090[_0xf6319f(0xa39)][_0xf6319f(0xc4b)](_0xf6319f(0x4c5)),topicInputArea[_0xf6319f(0xa39)][_0xf6319f(0x5c0)](_0xf6319f(0x4c5)),textInputArea['classList'][_0xf6319f(0x5c0)](_0xf6319f(0x4c5)),fileInputArea[_0xf6319f(0xa39)][_0xf6319f(0x5c0)](_0xf6319f(0x4c5)),worksheetInputArea[_0xf6319f(0xa39)][_0xf6319f(0x5c0)](_0xf6319f(0x4c5));if(_0x148fad)_0x148fad[_0xf6319f(0xa39)][_0xf6319f(0x5c0)]('hidden');if(_0x1145d4)_0x1145d4[_0xf6319f(0xa39)]['add'](_0xf6319f(0x4c5));}),document[_0x797ae9(0x288)]('generate-from-link-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleGenerateFromLink));_0x32dabf&&_0x32dabf[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x51ab60=_0x797ae9;_0x32dabf[_0x51ab60(0xa39)]['add'](_0x51ab60(0xadb)),topicTab['classList'][_0x51ab60(0xc4b)](_0x51ab60(0xadb)),textTab[_0x51ab60(0xa39)][_0x51ab60(0xc4b)](_0x51ab60(0xadb)),fileTab[_0x51ab60(0xa39)][_0x51ab60(0xc4b)]('active'),worksheetTab[_0x51ab60(0xa39)][_0x51ab60(0xc4b)]('active');if(_0x1a8515)_0x1a8515[_0x51ab60(0xa39)]['remove'](_0x51ab60(0xadb));if(_0x3a289b)_0x3a289b[_0x51ab60(0xa39)][_0x51ab60(0xc4b)](_0x51ab60(0xadb));if(_0x2c3656)_0x2c3656[_0x51ab60(0xa39)][_0x51ab60(0xc4b)](_0x51ab60(0xadb));_0x148fad[_0x51ab60(0xa39)][_0x51ab60(0xc4b)](_0x51ab60(0x4c5)),topicInputArea[_0x51ab60(0xa39)][_0x51ab60(0x5c0)](_0x51ab60(0x4c5)),textInputArea[_0x51ab60(0xa39)][_0x51ab60(0x5c0)](_0x51ab60(0x4c5)),fileInputArea['classList'][_0x51ab60(0x5c0)]('hidden'),worksheetInputArea[_0x51ab60(0xa39)][_0x51ab60(0x5c0)](_0x51ab60(0x4c5));if(_0x303090)_0x303090[_0x51ab60(0xa39)][_0x51ab60(0x5c0)](_0x51ab60(0x4c5));if(_0x2be5f8)_0x2be5f8[_0x51ab60(0xa39)][_0x51ab60(0x5c0)](_0x51ab60(0x4c5));if(_0x1145d4)_0x1145d4['classList']['add'](_0x51ab60(0x4c5));});_0x2c3656&&_0x2c3656[_0x797ae9(0x5b2)]('click',()=>{const _0x17c5fd=_0x797ae9;_0x2c3656[_0x17c5fd(0xa39)][_0x17c5fd(0x5c0)](_0x17c5fd(0xadb)),topicTab[_0x17c5fd(0xa39)][_0x17c5fd(0xc4b)](_0x17c5fd(0xadb)),textTab[_0x17c5fd(0xa39)][_0x17c5fd(0xc4b)]('active'),fileTab[_0x17c5fd(0xa39)][_0x17c5fd(0xc4b)](_0x17c5fd(0xadb)),worksheetTab[_0x17c5fd(0xa39)][_0x17c5fd(0xc4b)](_0x17c5fd(0xadb));if(_0x1a8515)_0x1a8515[_0x17c5fd(0xa39)][_0x17c5fd(0xc4b)](_0x17c5fd(0xadb));if(_0x32dabf)_0x32dabf['classList'][_0x17c5fd(0xc4b)](_0x17c5fd(0xadb));if(_0x3a289b)_0x3a289b[_0x17c5fd(0xa39)][_0x17c5fd(0xc4b)](_0x17c5fd(0xadb));_0x1145d4[_0x17c5fd(0xa39)][_0x17c5fd(0xc4b)](_0x17c5fd(0x4c5)),topicInputArea[_0x17c5fd(0xa39)]['add'](_0x17c5fd(0x4c5)),textInputArea['classList'][_0x17c5fd(0x5c0)](_0x17c5fd(0x4c5)),fileInputArea[_0x17c5fd(0xa39)][_0x17c5fd(0x5c0)](_0x17c5fd(0x4c5)),worksheetInputArea['classList'][_0x17c5fd(0x5c0)](_0x17c5fd(0x4c5));if(_0x303090)_0x303090[_0x17c5fd(0xa39)]['add']('hidden');if(_0x148fad)_0x148fad[_0x17c5fd(0xa39)][_0x17c5fd(0x5c0)]('hidden');if(_0x2be5f8)_0x2be5f8[_0x17c5fd(0xa39)][_0x17c5fd(0x5c0)](_0x17c5fd(0x4c5));});const _0x279de4=document[_0x797ae9(0x288)](_0x797ae9(0x27a)),_0x24a88c=document[_0x797ae9(0x288)](_0x797ae9(0x4f3));if(_0x279de4){const _0x32d55c=document[_0x797ae9(0x288)]('blueprint-upload-input'),_0x5460b1=document[_0x797ae9(0x288)](_0x797ae9(0x4f3)),_0x5cc4a6=document[_0x797ae9(0x288)](_0x797ae9(0x562)),_0x3cb17a=document[_0x797ae9(0x288)]('separate-by-content-checkbox'),_0x403639=document['getElementById']('blueprint-topics-list-container'),_0x4bc329=document[_0x797ae9(0x288)]('blueprint-topics-list');_0x32d55c&&_0x32d55c[_0x797ae9(0x5b2)]('change',async _0x54d3cb=>{const _0x2f4864=_0x797ae9;_0x5cc4a6[_0x2f4864(0xa39)][_0x2f4864(0x5c0)](_0x2f4864(0x4c5)),_0x403639['classList'][_0x2f4864(0x5c0)](_0x2f4864(0x4c5)),_0x3cb17a[_0x2f4864(0xbe3)]=![],_0x5460b1[_0x2f4864(0x9e8)]=!![];const _0x115eab=_0x54d3cb[_0x2f4864(0x328)]['files'][0x0];if(_0x115eab){_0x5460b1[_0x2f4864(0x9e8)]=![];try{const _0x9c7d55=await extractTextFromPdf(_0x115eab);await analyzeBlueprintForTopics(_0x9c7d55);}catch(_0x1f86e2){showMessage(_0x2f4864(0xbef)),_0x5cc4a6['classList']['add'](_0x2f4864(0x4c5));}}}),_0x3cb17a&&_0x3cb17a[_0x797ae9(0x5b2)](_0x797ae9(0x2f8),_0x5b3b84=>{const _0x217de9=_0x797ae9,_0x30c5f4=_0x5b3b84['target'][_0x217de9(0xbe3)];_0x403639[_0x217de9(0xa39)][_0x217de9(0xc5b)](_0x217de9(0x4c5),!_0x30c5f4),_0x5460b1[_0x217de9(0x9e8)]=_0x30c5f4;}),_0x4bc329&&(_0x4bc329&&_0x4bc329[_0x797ae9(0x5b2)]('click',_0x1aea57=>{const _0x28bb8f=_0x797ae9,_0x573568=_0x1aea57['target']['closest'](_0x28bb8f(0x6dd)),_0x94c262=_0x1aea57['target'][_0x28bb8f(0x6d3)]('.generate-content-btn');if(_0x573568){const _0x4be4ec=unescape(_0x573568[_0x28bb8f(0xa66)]['topic']);generateQuizForSingleTopic(_0x4be4ec);}else{if(_0x94c262){const _0x7adab5=unescape(_0x94c262[_0x28bb8f(0xa66)][_0x28bb8f(0x32c)]);handleGenerateTeachingContent(_0x7adab5);}}}));}_0x24a88c&&_0x24a88c[_0x797ae9(0x5b2)]('click',handleGenerateFromBlueprint);const _0x15e071=document[_0x797ae9(0x288)](_0x797ae9(0xbde)),_0x8ace7f=document[_0x797ae9(0x288)]('generate-from-parallel-test-btn');_0x15e071&&_0x15e071[_0x797ae9(0x5b2)](_0x797ae9(0x2f8),_0x44883e=>{const _0x18d442=_0x797ae9;_0x8ace7f[_0x18d442(0x9e8)]=_0x44883e['target'][_0x18d442(0x7c9)][_0x18d442(0x649)]===0x0;});_0x8ace7f&&_0x8ace7f[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x1226bf=_0x797ae9,_0x2029f1=document[_0x1226bf(0x288)](_0x1226bf(0x6ed));currentStudentName=_0x2029f1[_0x1226bf(0x63b)];if(!currentStudentName){showMessage(_0x1226bf(0xd0f));return;}try{const _0x3545fd=currentQuizData['id'],_0x8aaa97=doc(db,_0x1226bf(0x309)+appId+_0x1226bf(0x86b)+_0x3545fd+_0x1226bf(0x74a),currentStudentName),_0x48e4de=await getDoc(_0x8aaa97);!_0x48e4de['exists']()?await setDoc(_0x8aaa97,{'studentName':currentStudentName,'startedAt':new Date()[_0x1226bf(0x75b)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x8aaa97,{'startedAt':new Date()[_0x1226bf(0x75b)]()});}catch(_0xa58016){console[_0x1226bf(0x40f)]('Failed\x20to\x20create/update\x20submission\x20record:',_0xa58016),showMessage(_0x1226bf(0xc5a));return;}studentNameSelectionView[_0x1226bf(0xa39)]['add'](_0x1226bf(0x4c5)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x797ae9(0x288)](_0x797ae9(0x56d))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),showJoinGameView),document[_0x797ae9(0x288)](_0x797ae9(0x7e0))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleJoinLiveGame),document[_0x797ae9(0x288)](_0x797ae9(0x5f5))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>showView(_0x797ae9(0x390)));const _0x915351=()=>{const _0x52d251=_0x797ae9,_0x4e32a8=document[_0x52d251(0x288)](_0x52d251(0x49c))[_0x52d251(0xb10)][_0x52d251(0x5e3)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x52d251(0x6f9)+(_0x4e32a8||_0x52d251(0x1ee));},_0x42e1e4=document[_0x797ae9(0x288)](_0x797ae9(0x1cc));_0x42e1e4&&_0x42e1e4[_0x797ae9(0x5b2)](_0x797ae9(0x343),_0x1d86dc=>{const _0x576cd7=_0x797ae9,_0x34d40b=_0x1d86dc['target'][_0x576cd7(0x63b)][_0x576cd7(0x1f2)]()[_0x576cd7(0x8e1)](),_0x307999=document[_0x576cd7(0x288)](_0x576cd7(0xb08)),_0x4525bb=_0x307999['querySelectorAll'](_0x576cd7(0x3ec));_0x4525bb[_0x576cd7(0x220)](_0x4c0150=>{const _0x2cd690=_0x576cd7;let _0x3fc3aa=![];const _0x3c6bab=_0x4c0150[_0x2cd690(0x3db)](_0x2cd690(0xa2b));_0x3c6bab[_0x2cd690(0x220)](_0x1cee3c=>{const _0x3d7103=_0x2cd690,_0x33cf93=_0x1cee3c[_0x3d7103(0x2ee)]('.topic-name-display')[_0x3d7103(0xb10)][_0x3d7103(0x1f2)]();_0x33cf93[_0x3d7103(0x96b)](_0x34d40b)?(_0x1cee3c[_0x3d7103(0x4e4)][_0x3d7103(0xc7a)]=_0x3d7103(0x5f3),_0x3fc3aa=!![]):_0x1cee3c[_0x3d7103(0x4e4)][_0x3d7103(0xc7a)]='none';}),_0x3fc3aa?_0x4c0150[_0x2cd690(0x4e4)][_0x2cd690(0xc7a)]=_0x2cd690(0x295):_0x4c0150[_0x2cd690(0x4e4)][_0x2cd690(0xc7a)]=_0x2cd690(0x2fa);});});document['getElementById'](_0x797ae9(0x392))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>exportTableAsImage(_0x797ae9(0x96e),_0x915351())),document[_0x797ae9(0x288)]('export-pdf-btn')['addEventListener'](_0x797ae9(0x8d9),()=>exportTableAsPDF(_0x797ae9(0x990),_0x915351())),document[_0x797ae9(0x288)]('export-word-btn')[_0x797ae9(0x5b2)]('click',()=>exportTableAsWord(_0x797ae9(0x96e),_0x915351())),document['getElementById']('export-excel-btn')['addEventListener']('click',()=>exportTableAsExcel(_0x797ae9(0x990),_0x915351()));const _0x4ab076=()=>{const _0x50b321=_0x797ae9,_0x5a5e9e=document[_0x50b321(0x288)](_0x50b321(0x49c))[_0x50b321(0xb10)][_0x50b321(0x5e3)](/[^a-z0-9]/gi,'_')[_0x50b321(0x1f2)]();return _0x50b321(0x937)+(_0x5a5e9e||_0x50b321(0x1ee));};document[_0x797ae9(0x288)](_0x797ae9(0x217))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>exportTableAsImage(_0x797ae9(0x4bb),_0x4ab076())),document[_0x797ae9(0x288)]('export-leaderboard-pdf-btn')[_0x797ae9(0x5b2)]('click',()=>exportTableAsPDF(_0x797ae9(0x2b1),_0x4ab076())),document[_0x797ae9(0x288)](_0x797ae9(0x384))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4ab076())),document['getElementById']('export-leaderboard-excel-btn')['addEventListener'](_0x797ae9(0x8d9),()=>exportTableAsExcel('quiz-leaderboard-table',_0x4ab076())),projectQuizzesList[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),async _0x3c5d51=>{const _0x1ec059=_0x797ae9,_0x155296=_0x3c5d51[_0x1ec059(0x328)]['closest']('.quiz-result-card'),_0x4161b6=_0x3c5d51[_0x1ec059(0x328)]['closest'](_0x1ec059(0x1e5)),_0x58d9a9=_0x3c5d51[_0x1ec059(0x328)]['closest'](_0x1ec059(0x340)),_0x2df061=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)]('.generate-lesson-btn'),_0x316e8e=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x609)),_0x406872=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0xa31)),_0x1592bc=_0x3c5d51['target'][_0x1ec059(0x6d3)](_0x1ec059(0x73e)),_0x1763d2=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)]('.quiz-settings-btn'),_0x1aeb2f=_0x3c5d51[_0x1ec059(0x328)]['closest'](_0x1ec059(0x33b)),_0x2d618c=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x44f)),_0x5f1095=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x541)),_0x5ea3a2=_0x3c5d51[_0x1ec059(0x328)]['closest'](_0x1ec059(0xb9d)),_0x5766b6=_0x3c5d51[_0x1ec059(0x328)]['closest'](_0x1ec059(0xaa2)),_0x5f1317=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)]('.unpair-quiz-btn'),_0x145879=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0xd0e)),_0x28a01e=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x44c)),_0x943141=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x32d)),_0x15c5a0=_0x3c5d51['target'][_0x1ec059(0x6d3)](_0x1ec059(0x3a7)),_0x1fa462=_0x3c5d51['target'][_0x1ec059(0x6d3)](_0x1ec059(0x77b)),_0x329a93=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x2d8)),_0x2838a2=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)]('.generate-easy-version-btn'),_0x139ce0=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x8a3)),_0x1676e3=_0x3c5d51[_0x1ec059(0x328)][_0x1ec059(0x6d3)](_0x1ec059(0x65f));if(_0x139ce0){const _0x1a634d=_0x139ce0[_0x1ec059(0xa66)][_0x1ec059(0xb4e)],_0x535507=_0x139ce0[_0x1ec059(0xa66)]['mode'],_0xfb8d5=allQuizzes['find'](_0x359a0b=>_0x359a0b['id']===_0x1a634d);_0xfb8d5&&showGameStartConfirmationModal(_0x1a634d,_0x535507,_0xfb8d5[_0x1ec059(0x32c)]);}else{if(_0x1676e3){const _0x199bf3=_0x1676e3[_0x1ec059(0xa66)]['quizId'];handleStartLiveRace(_0x199bf3);}else{if(_0x329a93){const _0x5b9a2e=_0x329a93[_0x1ec059(0xa66)][_0x1ec059(0xb4e)],_0x2c871c=document['getElementById'](_0x1ec059(0x696)+_0x5b9a2e);_0x2c871c&&_0x2c871c['classList'][_0x1ec059(0xc5b)](_0x1ec059(0x4c5));}else{if(_0x4161b6){const _0xa787f4=_0x4161b6[_0x1ec059(0xa66)]['quizId'],_0x58e0a3=allQuizzes['find'](_0x5de0a3=>_0x5de0a3['id']===_0xa787f4);_0x58e0a3&&handleGenerateParallelPostTest(_0x58e0a3);}else{if(_0x58d9a9)handleCompareResults(_0x58d9a9[_0x1ec059(0xa66)]['quizId'],_0x58d9a9[_0x1ec059(0xa66)][_0x1ec059(0xa54)]);else{if(_0x2df061){const _0x3f4b43=_0x2df061['dataset'][_0x1ec059(0xb4e)],_0x43c009=allQuizzes[_0x1ec059(0x533)](_0x35f2a9=>_0x35f2a9['id']===_0x3f4b43);_0x43c009&&_0x43c009[_0x1ec059(0x792)]?(displayLessonPlan(_0x43c009[_0x1ec059(0x792)],_0x43c009),showConfirmation(_0x1ec059(0x66e),()=>handleGenerateLessonPlan(_0x3f4b43)),document[_0x1ec059(0x288)](_0x1ec059(0x514))['querySelector']('h3')[_0x1ec059(0xb10)]=_0x1ec059(0x3bd),document['getElementById'](_0x1ec059(0x468))[_0x1ec059(0xb10)]='สร้างใหม่'):handleGenerateLessonPlan(_0x3f4b43);}else{if(_0x316e8e)handleToggleStarQuiz(_0x316e8e['dataset'][_0x1ec059(0xb4e)]);else{if(_0x406872)copyTextToClipboard(_0x406872['dataset']['quizId'],_0x1ec059(0x588));else{if(_0x1592bc)handleOpenQuizEditor(_0x1592bc[_0x1ec059(0xa66)]['quizId']);else{if(_0x1763d2)handleQuizSettings(_0x1763d2['dataset'][_0x1ec059(0xb4e)]);else{if(_0x1aeb2f)handleDuplicateQuiz(_0x1aeb2f['dataset'][_0x1ec059(0xb4e)]);else{if(_0x2d618c)handleRenameQuiz(_0x2d618c['dataset']['quizId'],_0x2d618c[_0x1ec059(0xa66)][_0x1ec059(0x32c)]);else{if(_0x5f1095){const _0x29d88b=_0x5f1095[_0x1ec059(0xa66)][_0x1ec059(0xb4e)],_0x34c36d=allQuizzes['find'](_0x1619ad=>_0x1619ad['id']===_0x29d88b);_0x34c36d&&handleGenerateParallelFromBank(_0x34c36d);}else{if(_0x5ea3a2)handleMoveQuiz(_0x5ea3a2[_0x1ec059(0xa66)]['quizId']);else{if(_0x5766b6)handleManualQuizPairing(_0x5766b6[_0x1ec059(0xa66)][_0x1ec059(0xb4e)]);else{if(_0x5f1317)handleUnpairQuiz(_0x5f1317[_0x1ec059(0xa66)][_0x1ec059(0xb4e)]);else{if(_0x145879){const _0x2494f8=_0x145879[_0x1ec059(0xa66)][_0x1ec059(0xb4e)],_0x496bcf=allQuizzes[_0x1ec059(0x533)](_0x334978=>_0x334978['id']===_0x2494f8);if(_0x496bcf)startPresentation(_0x496bcf);}else{if(_0x28a01e){const _0x5bce80=_0x28a01e[_0x1ec059(0xa66)]['quizId'],_0x3f5a3a=allQuizzes[_0x1ec059(0x533)](_0x5014e5=>_0x5014e5['id']===_0x5bce80);_0x3f5a3a&&(currentQuizData=_0x3f5a3a,startAdminTest());}else{if(_0x943141)actionTargetId=_0x943141[_0x1ec059(0xa66)][_0x1ec059(0xb4e)],document[_0x1ec059(0x288)](_0x1ec059(0xcd7))[_0x1ec059(0xa39)][_0x1ec059(0xc4b)](_0x1ec059(0x4c5));else{if(_0x15c5a0)showConfirmation(_0x1ec059(0x9fa)+_0x15c5a0['dataset'][_0x1ec059(0x32c)]+_0x1ec059(0x656),()=>handleDeleteQuiz(_0x15c5a0[_0x1ec059(0xa66)]['quizId']));else{if(_0x1fa462)handleQuizStatus(_0x1fa462[_0x1ec059(0xa66)][_0x1ec059(0xb4e)]);else{if(_0x2838a2)handleGenerateEasyVersionQuiz(_0x2838a2[_0x1ec059(0xa66)][_0x1ec059(0xb4e)]);else _0x155296&&showQuizDetailView(_0x155296[_0x1ec059(0xa66)][_0x1ec059(0xb4e)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x797ae9(0x288)](_0x797ae9(0x967))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>showView('student')),document['getElementById'](_0x797ae9(0xb76))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),confirmAndStartTeamQuiz),document[_0x797ae9(0x288)](_0x797ae9(0x2b1))[_0x797ae9(0x2ee)]('thead')['addEventListener'](_0x797ae9(0x8d9),_0x4e894a=>{const _0x24944d=_0x797ae9,_0x11f771=_0x4e894a[_0x24944d(0x328)][_0x24944d(0x6d3)]('.sortable-header');if(!_0x11f771||!_0x11f771['dataset']['sort'])return;const _0xf8b7e9=_0x11f771['dataset'][_0x24944d(0x310)];if(quizLeaderboardSortBy===_0xf8b7e9)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x24944d(0x729)?_0x24944d(0xa64):_0x24944d(0x729);else{quizLeaderboardSortBy=_0xf8b7e9;const _0x50edcd=[_0x24944d(0xc3d)];quizLeaderboardSortOrder=_0x50edcd['includes'](_0xf8b7e9)?_0x24944d(0x729):_0x24944d(0xa64);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x24944d(0x8ad));}),document[_0x797ae9(0x288)]('close-presentation-btn')[_0x797ae9(0x5b2)]('click',closePresentation),document[_0x797ae9(0x288)](_0x797ae9(0x4ae))['addEventListener'](_0x797ae9(0x8d9),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x797ae9(0x1df))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x738bfa=_0x797ae9;currentQuizData[_0x738bfa(0xc81)]&&currentPresentationSlide<currentQuizData[_0x738bfa(0xc81)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x797ae9(0x5b2)](_0x797ae9(0xc59),()=>{const _0xc2c114=_0x797ae9;!document[_0xc2c114(0x8a7)]&&(presentationModal[_0xc2c114(0x4e4)][_0xc2c114(0xc7a)]=_0xc2c114(0x2fa));}),document[_0x797ae9(0x288)](_0x797ae9(0x8b7))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleDeleteAllStudents),studentList['addEventListener'](_0x797ae9(0x8d9),_0x340e18=>{const _0x1dc0e4=_0x797ae9,_0x30d873=_0x340e18['target'][_0x1dc0e4(0x6d3)](_0x1dc0e4(0xcc7));if(_0x30d873){const _0x322a35=_0x30d873[_0x1dc0e4(0xa66)][_0x1dc0e4(0xc3d)];handleDeleteStudent(_0x322a35);}}),document[_0x797ae9(0x288)](_0x797ae9(0x1b6))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),handleGenerateFromFileClick),fileUploadInput[_0x797ae9(0x5b2)]('change',_0x1e333b=>{const _0x55d960=_0x797ae9,_0xf1951d=_0x1e333b[_0x55d960(0x328)][_0x55d960(0x7c9)][0x0],_0x595fdb=document[_0x55d960(0x288)](_0x55d960(0x1b6)),_0x3fcce9=document[_0x55d960(0x288)]('file-topics-list-container'),_0x3a54c6=document[_0x55d960(0x288)](_0x55d960(0x4cd));_0xf1951d?(selectedFile=_0xf1951d,_0x3a54c6[_0x55d960(0xbe3)]?(_0x595fdb[_0x55d960(0x9e8)]=!![],analyzeFileForTopics(_0xf1951d)):(_0x595fdb[_0x55d960(0x9e8)]=![],_0x3fcce9[_0x55d960(0xa39)][_0x55d960(0x5c0)](_0x55d960(0x4c5)))):(selectedFile=null,_0x595fdb[_0x55d960(0x9e8)]=!![],_0x3fcce9[_0x55d960(0xa39)][_0x55d960(0x5c0)]('hidden'));}),document['getElementById']('separate-by-content-from-file-checkbox')[_0x797ae9(0x5b2)]('change',_0x47863c=>{const _0x42ba7e=_0x797ae9,_0x3f59d3=_0x47863c[_0x42ba7e(0x328)][_0x42ba7e(0xbe3)],_0x193d3c=document[_0x42ba7e(0x288)](_0x42ba7e(0x1b6)),_0x5ba200=document['getElementById'](_0x42ba7e(0xc37));_0x3f59d3?(_0x193d3c[_0x42ba7e(0x9e8)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x5ba200[_0x42ba7e(0xa39)][_0x42ba7e(0xc4b)](_0x42ba7e(0x4c5)),document[_0x42ba7e(0x288)](_0x42ba7e(0x4ec))[_0x42ba7e(0x5f0)]=_0x42ba7e(0x877))):(_0x5ba200[_0x42ba7e(0xa39)][_0x42ba7e(0x5c0)](_0x42ba7e(0x4c5)),_0x193d3c['disabled']=!selectedFile);}),document[_0x797ae9(0x288)](_0x797ae9(0xc37))['addEventListener'](_0x797ae9(0x8d9),_0xf24b16=>{const _0x5a656d=_0x797ae9,_0x11d0b0=_0xf24b16[_0x5a656d(0x328)]['closest'](_0x5a656d(0x652)),_0x3ab4e8=_0xf24b16[_0x5a656d(0x328)][_0x5a656d(0x6d3)](_0x5a656d(0x932));if(_0x11d0b0){const _0x53b7e4=unescape(_0x11d0b0[_0x5a656d(0xa66)]['topic']);generateHybridQuizForTopic(_0x53b7e4);}else{if(_0x3ab4e8){const _0x288988=unescape(_0x3ab4e8['dataset'][_0x5a656d(0x32c)]),_0x4eed5f=document['getElementById']('difficulty-level-select')[_0x5a656d(0x63b)];handleGenerateAndShowLesson(_0x288988,_0x4eed5f);}}}),document[_0x797ae9(0x288)]('timer-mode-select')[_0x797ae9(0x5b2)](_0x797ae9(0x2f8),_0x8297ad=>{const _0x1c0c0c=_0x797ae9,_0x5580e7=document[_0x1c0c0c(0x288)]('timer-duration-container'),_0x266ae1=document[_0x1c0c0c(0x288)](_0x1c0c0c(0x720)),_0x1553b1=document[_0x1c0c0c(0x288)](_0x1c0c0c(0x4f0));_0x8297ad[_0x1c0c0c(0x328)][_0x1c0c0c(0x63b)]==='none'?_0x5580e7[_0x1c0c0c(0xa39)][_0x1c0c0c(0x5c0)](_0x1c0c0c(0x4c5)):(_0x5580e7['classList'][_0x1c0c0c(0xc4b)](_0x1c0c0c(0x4c5)),_0x8297ad[_0x1c0c0c(0x328)][_0x1c0c0c(0x63b)]===_0x1c0c0c(0x350)?(_0x266ae1['textContent']='ระยะเวลา\x20(นาที):',_0x1553b1[_0x1c0c0c(0x63b)]='10'):(_0x266ae1['textContent']=_0x1c0c0c(0xafb),_0x1553b1[_0x1c0c0c(0x63b)]='30'));}),document['getElementById'](_0x797ae9(0x7ec))['addEventListener'](_0x797ae9(0x2f8),_0x90ac26=>{const _0x2d7445=_0x797ae9,_0x32f7c8=document[_0x2d7445(0x288)](_0x2d7445(0x7ee)),_0x55907e=_0x90ac26['target'][_0x2d7445(0x63b)],_0x3b40de=document[_0x2d7445(0x2ee)]('label[for=\x22num-questions\x22]'),_0x45749a=document['getElementById'](_0x2d7445(0xa8b)),_0x542e5c=document[_0x2d7445(0x288)](_0x2d7445(0x37d));_0x55907e===_0x2d7445(0x49b)?_0x3b40de[_0x2d7445(0xb10)]='จำนวนคู่:':_0x3b40de[_0x2d7445(0xb10)]=_0x2d7445(0x9e9),_0x55907e===_0x2d7445(0x318)||_0x55907e===_0x2d7445(0x1ab)||_0x55907e==='mixed'?_0x32f7c8['classList'][_0x2d7445(0xc4b)](_0x2d7445(0x4c5)):_0x32f7c8[_0x2d7445(0xa39)]['add'](_0x2d7445(0x4c5)),_0x45749a[_0x2d7445(0x509)]=_0x542e5c[_0x2d7445(0x63b)];}),document[_0x797ae9(0x288)](_0x797ae9(0x37d))[_0x797ae9(0x5b2)](_0x797ae9(0x343),_0x4a546d=>{const _0x4dbec4=_0x797ae9;document[_0x4dbec4(0x288)](_0x4dbec4(0xa8b))[_0x4dbec4(0x509)]=_0x4a546d['target'][_0x4dbec4(0x63b)];}),document[_0x797ae9(0x288)]('modal-timer-mode-select')[_0x797ae9(0x5b2)](_0x797ae9(0x2f8),_0x2763d8=>{const _0x5c205d=_0x797ae9,_0x47eff3=document['getElementById'](_0x5c205d(0x6e2)),_0x5ef220=document['getElementById'](_0x5c205d(0xbf9)),_0x174b05=document[_0x5c205d(0x288)]('modal-timer-duration-input');_0x2763d8['target'][_0x5c205d(0x63b)]===_0x5c205d(0x2fa)?_0x47eff3[_0x5c205d(0xa39)][_0x5c205d(0x5c0)](_0x5c205d(0x4c5)):(_0x47eff3[_0x5c205d(0xa39)]['remove']('hidden'),_0x2763d8[_0x5c205d(0x328)]['value']==='whole_quiz'?_0x5ef220[_0x5c205d(0xb10)]=_0x5c205d(0x996):_0x5ef220[_0x5c205d(0xb10)]=_0x5c205d(0xafb));}),document[_0x797ae9(0x288)]('cancel-quiz-edits-btn')[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x22745b=_0x797ae9;document[_0x22745b(0x288)]('quiz-editor-modal')[_0x22745b(0xa39)][_0x22745b(0x5c0)](_0x22745b(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x5d8))['addEventListener'](_0x797ae9(0x8d9),()=>{const _0x1a4e21=_0x797ae9;document[_0x1a4e21(0x288)](_0x1a4e21(0xc54))[_0x1a4e21(0xa39)][_0x1a4e21(0x5c0)](_0x1a4e21(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0xac6))[_0x797ae9(0x5b2)]('click',handleVerifyAnswersInEditor),document[_0x797ae9(0x288)]('save-quiz-edits-btn')['addEventListener'](_0x797ae9(0x8d9),()=>{const _0x39f766=_0x797ae9;document[_0x39f766(0x288)](_0x39f766(0xc54))[_0x39f766(0xa39)]['add'](_0x39f766(0x4c5)),showConfirmation(_0x39f766(0xc74),handleSaveChanges);}),document['getElementById'](_0x797ae9(0x40b))['addEventListener'](_0x797ae9(0x8d9),handleAutoFixLatex);const _0x1b422a=document[_0x797ae9(0x288)](_0x797ae9(0xb79));_0x1b422a&&_0x1b422a['addEventListener']('click',_0x1f991f=>{const _0x5d6549=_0x797ae9,_0x5bf8a3=_0x1f991f[_0x5d6549(0x328)][_0x5d6549(0x6d3)](_0x5d6549(0x79d)),_0x23b56b=_0x1f991f[_0x5d6549(0x328)]['closest'](_0x5d6549(0x5e6));if(_0x5bf8a3){const _0x2418ed=_0x5bf8a3[_0x5d6549(0x6d3)](_0x5d6549(0x9ef)),_0x6156d3=parseInt(_0x2418ed[_0x5d6549(0xa66)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x6156d3);}else{if(_0x23b56b){const _0x4584a6=_0x23b56b[_0x5d6549(0x6d3)](_0x5d6549(0x9ef)),_0x1e8716=parseInt(_0x4584a6['dataset'][_0x5d6549(0xce1)],0xa);handleAiFixFormula(_0x1e8716);}}});document[_0x797ae9(0x288)](_0x797ae9(0x4c1))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),openQuizBankModal),document[_0x797ae9(0x288)]('cancel-quiz-bank-btn')['addEventListener'](_0x797ae9(0x8d9),()=>{const _0x1e2f8b=_0x797ae9;document[_0x1e2f8b(0x288)](_0x1e2f8b(0x855))[_0x1e2f8b(0xa39)][_0x1e2f8b(0x5c0)](_0x1e2f8b(0x4c5));}),document[_0x797ae9(0x288)]('bank-quiz-search-input')[_0x797ae9(0x5b2)](_0x797ae9(0x343),_0x2ab6f2=>renderQuizBankList(_0x2ab6f2[_0x797ae9(0x328)][_0x797ae9(0x63b)]));const _0x3ec91f=document['getElementById'](_0x797ae9(0xb08));if(_0x3ec91f){let _0x24b1ec=null;_0x3ec91f['addEventListener']('click',_0x45b014=>{const _0x3569df=_0x797ae9,_0x5ea312=_0x45b014[_0x3569df(0x328)],_0x4b06dd=_0x5ea312[_0x3569df(0x6d3)]('.edit-custom-topic-btn'),_0x1993f1=_0x5ea312['closest'](_0x3569df(0x7a9)),_0x404f3e=_0x5ea312[_0x3569df(0x6d3)]('.save-custom-topic-btn'),_0x13c4a6=_0x5ea312[_0x3569df(0x6d3)](_0x3569df(0xc53));if(_0x1993f1){_0x45b014[_0x3569df(0xc57)]();const _0x1e100c=_0x1993f1[_0x3569df(0xa66)]['id'],_0x584c6d=_0x1993f1[_0x3569df(0x6d3)](_0x3569df(0x555))[_0x3569df(0x2ee)](_0x3569df(0x36c))[_0x3569df(0xb10)];showConfirmation(_0x3569df(0x874)+_0x584c6d+'\x22?',()=>handleDeleteCustomTopic(_0x1e100c));}else{if(_0x4b06dd){_0x45b014[_0x3569df(0xc57)]();_0x24b1ec&&toggleTopicEditMode(_0x24b1ec,![]);const _0x505974=_0x4b06dd['closest'](_0x3569df(0x90c));_0x24b1ec=_0x505974,toggleTopicEditMode(_0x505974,!![]);}else{if(_0x404f3e){_0x45b014[_0x3569df(0xc57)]();const _0xf717db=_0x404f3e[_0x3569df(0xa66)]['id'],_0x373418=_0x404f3e['closest'](_0x3569df(0x90c)),_0x540164=_0x373418[_0x3569df(0x2ee)]('.topic-name-input')[_0x3569df(0x63b)];handleUpdateCustomTopic(_0xf717db,_0x540164),_0x24b1ec=null;}else{if(_0x13c4a6){_0x45b014[_0x3569df(0xc57)]();const _0x47980b=_0x13c4a6[_0x3569df(0x6d3)]('[data-topic-container-id]');toggleTopicEditMode(_0x47980b,![]),_0x24b1ec=null;}}}}}),document[_0x797ae9(0x288)](_0x797ae9(0x4a3))['addEventListener']('click',()=>{const _0x24d2a2=_0x797ae9;document[_0x24d2a2(0x288)](_0x24d2a2(0x3d4))[_0x24d2a2(0xa39)][_0x24d2a2(0x5c0)](_0x24d2a2(0x4c5));}),document[_0x797ae9(0x288)]('close-lesson-plan-modal-footer-btn')[_0x797ae9(0x5b2)]('click',()=>{const _0x501694=_0x797ae9;document[_0x501694(0x288)](_0x501694(0x3d4))[_0x501694(0xa39)][_0x501694(0x5c0)]('hidden');}),document['getElementById'](_0x797ae9(0xcb5))['addEventListener']('click',handleExportLessonPDF);}document[_0x797ae9(0x288)](_0x797ae9(0x2fb))[_0x797ae9(0x5b2)]('click',()=>{const _0x59790e=_0x797ae9;document['getElementById']('comparison-modal')[_0x59790e(0xa39)]['add'](_0x59790e(0x4c5));}),document[_0x797ae9(0x288)](_0x797ae9(0x264))[_0x797ae9(0x5b2)](_0x797ae9(0x8d9),()=>{const _0x1adc99=_0x797ae9;document[_0x1adc99(0x288)]('comparison-modal')[_0x1adc99(0xa39)][_0x1adc99(0x5c0)]('hidden');}),setupComparisonModalTabs(),document[_0x797ae9(0xad4)][_0x797ae9(0x5b2)](_0x797ae9(0x8d9),function(_0x3a8442){const _0x26d5ca=_0x797ae9;if(_0x3a8442[_0x26d5ca(0x328)][_0x26d5ca(0xa39)][_0x26d5ca(0x6ca)](_0x26d5ca(0xb5d))){const _0x307467=unescape(_0x3a8442[_0x26d5ca(0x328)][_0x26d5ca(0xa66)][_0x26d5ca(0x32c)]);startSkillPractice(_0x307467);}}),document['getElementById'](_0x797ae9(0x698))[_0x797ae9(0x5b2)]('click',_0x24c08c=>{const _0xf5532=_0x797ae9,_0x55f07c=_0x24c08c['target'][_0xf5532(0x6d3)](_0xf5532(0x1f4));if(_0x55f07c){const _0x145693=_0x55f07c['dataset'][_0xf5532(0xc3d)];handleDeleteSubmission(_0x145693);}});}async function handleStartGroupMode(_0x5b0707,_0x4ecad9=![]){const _0x16b144=_0x2f78fc,_0x53a85a=allQuizzes[_0x16b144(0x533)](_0x385ea3=>_0x385ea3['id']===_0x5b0707)||allQuizzesGlobal[_0x16b144(0x533)](_0x1c4762=>_0x1c4762['id']===_0x5b0707);if(!_0x53a85a){showMessage(_0x16b144(0x663));return;}currentQuizData=getShuffledQuiz(_0x53a85a);const _0x3af2eb=Math[_0x16b144(0x60a)](0x3e8+Math[_0x16b144(0x40c)]()*0x2328)['toString']();try{const _0x223fd4=await addDoc(collection(db,_0x16b144(0x309)+appId+_0x16b144(0x438)),{'quizId':_0x53a85a['id'],'projectId':_0x53a85a[_0x16b144(0x93e)],'status':_0x16b144(0xc23),'pin':_0x3af2eb,'mode':_0x16b144(0xc76),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4ecad9});currentTeamQuizId=_0x223fd4['id'],showView(_0x16b144(0x624)),renderAdminTeamQuizDashboard(_0x3af2eb,_0x53a85a['topic'],_0x16b144(0xc76)),listenForTeamQuizUpdates();}catch(_0x342d06){console[_0x16b144(0x40f)]('Error\x20starting\x20group\x20quiz:',_0x342d06),showMessage(_0x16b144(0xcab));}}async function showStudentProgressView(){const _0x3a05cc=_0x2f78fc;studentInitialView['classList']['add'](_0x3a05cc(0x4c5)),document[_0x3a05cc(0x288)]('student-progress-view')['classList'][_0x3a05cc(0xc4b)]('hidden');const _0x30c69b=document[_0x3a05cc(0x288)]('progress-project-select'),_0x2cb128=document[_0x3a05cc(0x288)](_0x3a05cc(0x94b)),_0x42e696=document['getElementById'](_0x3a05cc(0x552));_0x42e696[_0x3a05cc(0x5f0)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x2cb128[_0x3a05cc(0x5f0)]=_0x3a05cc(0x2b3),_0x2cb128[_0x3a05cc(0x9e8)]=!![],_0x30c69b['innerHTML']=_0x3a05cc(0xb24);if(allProjects[_0x3a05cc(0x649)]===0x0){const _0x4f6a3d=collection(db,_0x3a05cc(0x309)+appId+_0x3a05cc(0x498)),_0x512e99=await getDocs(_0x4f6a3d);allProjects=_0x512e99[_0x3a05cc(0x2ea)][_0x3a05cc(0x598)](_0x4d14aa=>({'id':_0x4d14aa['id'],..._0x4d14aa['data']()}));}const _0xe640aa=allProjects['filter'](_0x44c61c=>_0x44c61c['settings']?.['showInStudentDashboard']!==![]);_0xe640aa['sort']((_0x1cf0fe,_0x2e1280)=>_0x1cf0fe['projectName'][_0x3a05cc(0xc26)](_0x2e1280[_0x3a05cc(0xc51)],'th')),_0x30c69b[_0x3a05cc(0x5f0)]=_0x3a05cc(0x397)+_0xe640aa[_0x3a05cc(0x598)](_0x432da0=>_0x3a05cc(0x79b)+_0x432da0['id']+'\x22>'+_0x432da0[_0x3a05cc(0xc51)]+_0x3a05cc(0x245))[_0x3a05cc(0x53d)](''),_0x30c69b[_0x3a05cc(0x4e9)]=()=>{const _0x413160=_0x3a05cc,_0x22376c=_0x2cb128['value'],_0x1a59f0=_0x30c69b['value'];_0x2cb128[_0x413160(0x9e8)]=!![],_0x2cb128['innerHTML']=_0x413160(0x2b3),_0x42e696[_0x413160(0x5f0)]=_0x413160(0x3f4);if(!_0x1a59f0)return;const _0x94f926=allProjects['find'](_0x1e6485=>_0x1e6485['id']===_0x1a59f0);if(!_0x94f926||!_0x94f926[_0x413160(0x595)])return;const _0x215b3b=()=>{const _0x1ce8d2=_0x413160;_0x2cb128[_0x1ce8d2(0x5f0)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x94f926['students']['map'](_0x47cf64=>_0x1ce8d2(0x79b)+_0x47cf64+'\x22>'+_0x47cf64+'</option>')[_0x1ce8d2(0x53d)](''),_0x2cb128['disabled']=![];const _0x17c36f=Array[_0x1ce8d2(0x4f5)](_0x2cb128[_0x1ce8d2(0x67e)])[_0x1ce8d2(0x598)](_0xcd409e=>_0xcd409e['value']);if(_0x22376c&&_0x17c36f[_0x1ce8d2(0x96b)](_0x22376c))_0x2cb128[_0x1ce8d2(0x63b)]=_0x22376c,_0x2cb128[_0x1ce8d2(0x6df)](new Event(_0x1ce8d2(0x2f8)));else _0x94f926['students'][_0x1ce8d2(0x649)]===0x1&&(_0x2cb128[_0x1ce8d2(0x63b)]=_0x94f926[_0x1ce8d2(0x595)][0x0],_0x2cb128[_0x1ce8d2(0x6df)](new Event(_0x1ce8d2(0x2f8))));};if(_0x94f926[_0x413160(0x580)]?.[_0x413160(0xa6a)]){if(sessionStorage[_0x413160(0x3d5)]('authed_project_'+_0x1a59f0)===_0x413160(0x77f)){_0x215b3b();return;}const _0x5e8224=document[_0x413160(0x288)]('project-passcode-modal'),_0xf6f360=document[_0x413160(0x288)](_0x413160(0x769)),_0x1318dc=document[_0x413160(0x288)](_0x413160(0x83b)),_0x4d0064=document['getElementById']('student-passcode-input'),_0x5c1f2d=document['getElementById'](_0x413160(0xa36));document[_0x413160(0x288)](_0x413160(0x853))[_0x413160(0xb10)]='สำหรับโปรเจค:\x20'+_0x94f926['projectName'],_0x4d0064[_0x413160(0x63b)]='',_0x5c1f2d['classList']['add'](_0x413160(0x4c5)),_0x5e8224['classList']['remove']('hidden');const _0x36a41b=()=>{const _0x1168b1=_0x413160,_0x518583=_0x4d0064[_0x1168b1(0x63b)][_0x1168b1(0x8e1)]();_0x518583===_0x94f926[_0x1168b1(0x580)]['passcode']?(sessionStorage[_0x1168b1(0x5df)](_0x1168b1(0x7a6)+_0x1a59f0,'true'),_0x5e8224[_0x1168b1(0xa39)][_0x1168b1(0x5c0)](_0x1168b1(0x4c5)),_0x215b3b(),_0xf6f360['removeEventListener']('click',_0x36a41b)):_0x5c1f2d[_0x1168b1(0xa39)]['remove'](_0x1168b1(0x4c5));};_0xf6f360['onclick']=_0x36a41b,_0x1318dc['onclick']=()=>{const _0x8fc286=_0x413160;_0x5e8224[_0x8fc286(0xa39)]['add']('hidden'),_0x30c69b[_0x8fc286(0x63b)]='',_0xf6f360[_0x8fc286(0xac5)](_0x8fc286(0x8d9),_0x36a41b);};}else _0x215b3b();},_0x2cb128[_0x3a05cc(0x4e9)]=()=>{const _0x51e568=_0x3a05cc,_0x1821a3=_0x30c69b['value'],_0x5ea83d=_0x2cb128[_0x51e568(0x63b)];_0x1821a3&&_0x5ea83d&&renderStudentProgressDashboard(_0x1821a3,_0x5ea83d);};}async function confirmAndJoinSyncGame(){const _0x2e3f97=_0x2f78fc,_0x38839c=Array['from'](document[_0x2e3f97(0x3db)]('input[name=\x22team_player\x22]:checked'))['map'](_0x329a63=>_0x329a63[_0x2e3f97(0x63b)]);if(_0x38839c[_0x2e3f97(0x649)]===0x0){showMessage(_0x2e3f97(0xd11));return;}localTeamPlayers=_0x38839c,localPlayerTurnIndex=0x0;const _0x3f3cd8=doc(db,'artifacts/'+appId+_0x2e3f97(0x2a5),currentLiveGameId);try{const _0x3259da=await getDoc(_0x3f3cd8);if(!_0x3259da[_0x2e3f97(0x5e4)]())throw new Error(_0x2e3f97(0x5b8));const _0x2bd41b=_0x3259da['data']()[_0x2e3f97(0xa90)]||{};_0x38839c[_0x2e3f97(0x220)](_0x2e7ec4=>{const _0x584aaa=_0x2e3f97;!_0x2bd41b[_0x2e7ec4]&&(_0x2bd41b[_0x2e7ec4]={'name':_0x2e7ec4,'score':0x0,'answered':![],'status':_0x584aaa(0xadb)});}),await updateDoc(_0x3f3cd8,{'players':_0x2bd41b}),document['getElementById'](_0x2e3f97(0xbb9))[_0x2e3f97(0xa39)]['add'](_0x2e3f97(0x4c5)),currentStudentName=_0x38839c[0x0],listenForSyncGameUpdates();const _0x2122a6={'gameId':currentLiveGameId,'mode':_0x2e3f97(0x97a),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2e3f97(0x5df)](_0x2e3f97(0x3df),JSON['stringify'](_0x2122a6));}catch(_0xc7aac1){console[_0x2e3f97(0x40f)](_0x2e3f97(0x762),_0xc7aac1),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x4dad36=_0x2f78fc,_0x5d5d3c=sessionStorage['getItem'](_0x4dad36(0x3df));if(!_0x5d5d3c)return;const _0x2bdc4e=JSON[_0x4dad36(0x560)](_0x5d5d3c),{gameId:_0x1414bf,mode:_0x28f4b4,players:_0x59917a,turnIndex:_0x7715da}=_0x2bdc4e;try{let _0x274daa,_0x55008a;_0x28f4b4===_0x4dad36(0x97a)?_0x274daa=doc(db,'artifacts/'+appId+_0x4dad36(0x2a5),_0x1414bf):_0x274daa=doc(db,'artifacts/'+appId+_0x4dad36(0x438),_0x1414bf);_0x55008a=await getDoc(_0x274daa);if(!_0x55008a[_0x4dad36(0x5e4)]()||_0x55008a['data']()[_0x4dad36(0xa78)]==='finished'||_0x55008a[_0x4dad36(0xc89)]()['status']==='podium'){sessionStorage[_0x4dad36(0x3ef)](_0x4dad36(0x3df));return;}console[_0x4dad36(0x516)]('กำลังกลับเข้าสู่เกม\x20'+_0x28f4b4+_0x4dad36(0x4dd)+_0x1414bf+')'),localTeamPlayers=_0x59917a,localPlayerTurnIndex=_0x7715da;if(_0x28f4b4===_0x4dad36(0x97a))currentLiveGameId=_0x1414bf,currentStudentName=_0x59917a[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x1414bf;const _0x57a9c1=_0x55008a['data'](),_0x2a1fe0=doc(db,_0x4dad36(0x309)+appId+_0x4dad36(0x480),_0x57a9c1[_0x4dad36(0xb4e)]),_0x366f82=await getDoc(_0x2a1fe0);_0x366f82[_0x4dad36(0x5e4)]()&&(currentQuizData=getShuffledQuiz({'id':_0x366f82['id'],..._0x366f82['data']()}),showView('student'),studentInitialView[_0x4dad36(0xa39)][_0x4dad36(0x5c0)]('hidden'),renderTeamQuizQuestion());}}catch(_0x264e45){console['error'](_0x4dad36(0x65b),_0x264e45),sessionStorage[_0x4dad36(0x3ef)](_0x4dad36(0x3df));}}function activateFileInputAreaWithLoadedFile(){const _0x289510=_0x2f78fc,_0x3223d8=document[_0x289510(0x288)]('generate-from-file-btn'),_0x47a50a=document[_0x289510(0x288)]('file-topics-list-container'),_0x1619c0=document['getElementById'](_0x289510(0x4cd));selectedFile?_0x1619c0[_0x289510(0xbe3)]?(_0x3223d8['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x3223d8['disabled']=![],_0x47a50a['classList'][_0x289510(0x5c0)](_0x289510(0x4c5))):(_0x3223d8[_0x289510(0x9e8)]=!![],_0x47a50a['classList'][_0x289510(0x5c0)](_0x289510(0x4c5)));}async function handleKickPlayerSync(_0x10320a){const _0x295bd9=_0x2f78fc;if(!currentLiveGameId||!_0x10320a)return;const _0x29a255=doc(db,_0x295bd9(0x309)+appId+_0x295bd9(0x2a5),currentLiveGameId),_0x4c4b7d={};_0x4c4b7d['players.'+_0x10320a+'.status']=_0x295bd9(0xcc1);try{await updateDoc(_0x29a255,_0x4c4b7d);}catch(_0x11ac58){console['error'](_0x295bd9(0x7dd)+_0x10320a+'\x20from\x20sync\x20game:',_0x11ac58),showMessage(_0x295bd9(0x890));}}async function renderStudentProgressDashboard(_0x31547a,_0xb3eeba){const _0x4d797b=_0x2f78fc,_0x28636e=document[_0x4d797b(0x288)](_0x4d797b(0x552));_0x28636e[_0x4d797b(0x5f0)]=_0x4d797b(0x4ac);try{const _0x18d2eb=collection(db,_0x4d797b(0x309)+appId+'/public/data/quizzes'),_0x436eb2=query(_0x18d2eb,where(_0x4d797b(0x93e),'==',_0x31547a)),_0xb881f2=await getDocs(_0x436eb2),_0x425bed=_0xb881f2[_0x4d797b(0x2ea)][_0x4d797b(0x598)](_0x173c55=>({'id':_0x173c55['id'],..._0x173c55[_0x4d797b(0xc89)]()})),_0x559070=_0x425bed[_0x4d797b(0x598)](_0x433dd3=>getDoc(doc(db,_0x4d797b(0x309)+appId+_0x4d797b(0x86b)+_0x433dd3['id']+_0x4d797b(0x74a),_0xb3eeba))),_0x486f38=await Promise['all'](_0x559070),_0x274422=_0x486f38[_0x4d797b(0x3e1)](_0x2cf8ad=>_0x2cf8ad['exists']())[_0x4d797b(0x598)](_0x579f2a=>({'quizId':_0x579f2a['ref']['parent']['parent']['id'],..._0x579f2a[_0x4d797b(0xc89)]()}));if(_0x274422[_0x4d797b(0x649)]===0x0){_0x28636e['innerHTML']=_0x4d797b(0x1cb);return;}let _0x182130='<div\x20class=\x22space-y-4\x22>';_0x274422[_0x4d797b(0x220)](_0x49a02b=>{const _0x417754=_0x4d797b,_0x302f1c=_0x425bed[_0x417754(0x533)](_0x182229=>_0x182229['id']===_0x49a02b[_0x417754(0xb4e)]),_0x20756e=_0x302f1c[_0x417754(0x580)]?.['resultsDisplay']||'show_results_and_answers',_0x4dca90=_0x302f1c[_0x417754(0x580)]?.[_0x417754(0x7c0)]??0x0,_0x2b2434=_0x49a02b[_0x417754(0x3f8)]>=_0x4dca90;let _0x3dc687='',_0x101edb=_0x417754(0x269);switch(_0x20756e){case'show_results_and_answers':case'show_results_only':_0x101edb=_0x2b2434?_0x417754(0x53a):'bg-red-50',_0x3dc687=_0x417754(0x74e)+(_0x2b2434?_0x417754(0x7a8):_0x417754(0x1e1))+'\x22>'+_0x49a02b['bestScore']+_0x417754(0xa1c)+_0x49a02b[_0x417754(0x25d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x2b2434?_0x417754(0x435):_0x417754(0x89f))+'\x22>'+(_0x2b2434?_0x417754(0x58a):'ไม่ผ่าน')+_0x417754(0xb3d);break;case _0x417754(0x50a):_0x101edb=_0x2b2434?_0x417754(0x53a):_0x417754(0x6c1),_0x3dc687=_0x417754(0xa52)+(_0x2b2434?_0x417754(0x435):_0x417754(0x89f))+'\x22>'+(_0x2b2434?'ผ่าน':'ไม่ผ่าน')+_0x417754(0xb3d);break;case _0x417754(0xab1):_0x101edb=_0x417754(0xbd4),_0x3dc687='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x182130+=_0x417754(0xb09)+_0x101edb+_0x417754(0x3b6)+_0x302f1c[_0x417754(0x32c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x49a02b[_0x417754(0x311)][_0x417754(0x649)]+_0x417754(0xbfe)+new Date(_0x49a02b[_0x417754(0x38a)])[_0x417754(0x4e2)](_0x417754(0xa71))+_0x417754(0x23e)+_0x3dc687+_0x417754(0x9e6);}),_0x182130+=_0x4d797b(0x21c),_0x28636e[_0x4d797b(0x5f0)]=_0x182130;}catch(_0x534988){console[_0x4d797b(0x40f)](_0x4d797b(0x952),_0x534988),_0x28636e[_0x4d797b(0x5f0)]=_0x4d797b(0x60e);}}function renderQuizBankListForMultiSelect(_0x3d69bf=''){const _0x1a684e=_0x2f78fc,_0x21b29f=document[_0x1a684e(0x288)](_0x1a684e(0x4c6)),_0x28bd15=_0x3d69bf['toLowerCase']()['trim'](),_0x4c2189=allQuizzesGlobal['map'](_0x834505=>({..._0x834505,'projectName':allProjects['find'](_0x3bc9f4=>_0x3bc9f4['id']===_0x834505[_0x1a684e(0x93e)])?.[_0x1a684e(0xc51)]||'N/A'}))['filter'](_0x42db80=>(_0x42db80['topic']||'')[_0x1a684e(0x1f2)]()[_0x1a684e(0x96b)](_0x28bd15)||(_0x42db80[_0x1a684e(0xc51)]||'')[_0x1a684e(0x1f2)]()[_0x1a684e(0x96b)](_0x28bd15)||_0x42db80['id'][_0x1a684e(0x2d0)]()[_0x1a684e(0x96b)](_0x28bd15));_0x21b29f[_0x1a684e(0x5f0)]=_0x4c2189[_0x1a684e(0x649)]?_0x4c2189[_0x1a684e(0x598)](_0x1971b2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x1971b2['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x1971b2[_0x1a684e(0x32c)]||_0x1a684e(0x45c))+_0x1a684e(0x3c0)+_0x1971b2[_0x1a684e(0xc51)]+_0x1a684e(0x1b1)+_0x1971b2['id']+_0x1a684e(0x829))[_0x1a684e(0x53d)](''):_0x1a684e(0x38e),_0x21b29f[_0x1a684e(0x4e9)]=()=>{const _0x5dae98=_0x1a684e,_0x9c253a=document[_0x5dae98(0x2ee)](_0x5dae98(0xca3));document['getElementById']('confirm-link-quiz-btn')[_0x5dae98(0x9e8)]=!_0x9c253a;};}function setupStudentProgressListeners(){const _0x34df18=_0x2f78fc;document['getElementById'](_0x34df18(0xced))[_0x34df18(0x5b2)](_0x34df18(0x8d9),showStudentProgressView),document[_0x34df18(0x288)](_0x34df18(0x779))[_0x34df18(0x5b2)](_0x34df18(0x8d9),()=>{const _0x2e8f38=_0x34df18;document[_0x2e8f38(0x288)](_0x2e8f38(0xa9b))[_0x2e8f38(0xa39)]['add'](_0x2e8f38(0x4c5)),document[_0x2e8f38(0x288)]('student-initial-view')['classList']['remove']('hidden');});}async function startSkillPractice(_0x547cbb){const _0x47486e=_0x2f78fc;studentResultArea[_0x47486e(0xa39)][_0x47486e(0x5c0)](_0x47486e(0x4c5)),studentQuizArea[_0x47486e(0x5f0)]=_0x47486e(0x6a9),studentQuizArea[_0x47486e(0xa39)][_0x47486e(0xc4b)](_0x47486e(0x4c5));try{const _0x3dc3a7=await getStandardizedTopic(_0x547cbb);console[_0x47486e(0x516)](_0x47486e(0x1fd)+_0x547cbb+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x3dc3a7+'\x22'),studentQuizArea[_0x47486e(0x2ee)]('p')[_0x47486e(0xb10)]=_0x47486e(0x3e0)+_0x3dc3a7+_0x47486e(0xa4f);const _0x463f0b=collection(db,_0x47486e(0x309)+appId+_0x47486e(0xa21)),_0x53dad2=query(_0x463f0b,where('topic','==',_0x3dc3a7)),_0xe82e76=await getDocs(_0x53dad2);if(_0xe82e76[_0x47486e(0x2ea)]['length']>=0x3){console['log'](_0x47486e(0x847)+_0xe82e76['docs'][_0x47486e(0x649)]+_0x47486e(0x564)+_0x3dc3a7+_0x47486e(0x6e8));let _0x4266d8=_0xe82e76[_0x47486e(0x2ea)]['map'](_0x74aef6=>_0x74aef6[_0x47486e(0xc89)]());shuffleArray(_0x4266d8);const _0x2ddec8={'topic':_0x3dc3a7,'questions':_0x4266d8[_0x47486e(0xacc)](0x0,0x3)};displaySkillPracticeDrill(_0x2ddec8);}else{console['log'](_0x47486e(0xcaf)+_0x3dc3a7+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x46dc2d=await generatePracticeQuestions(_0x3dc3a7);await saveDrillToPracticeBank(_0x46dc2d,_0x3dc3a7),displaySkillPracticeDrill(_0x46dc2d);}}catch(_0x2ba552){console[_0x47486e(0x40f)](_0x47486e(0xcd4),_0x2ba552),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x47486e(0xa39)][_0x47486e(0x5c0)]('hidden'),studentResultArea[_0x47486e(0xa39)][_0x47486e(0xc4b)]('hidden');}}async function saveDrillToPracticeBank(_0x30315f,_0x31ef88){const _0x4374ff=_0x2f78fc,_0x2ad82b=collection(db,_0x4374ff(0x309)+appId+_0x4374ff(0xa21)),_0x823abd=writeBatch(db);_0x30315f[_0x4374ff(0xc81)][_0x4374ff(0x220)](_0x4ed18a=>{const _0x5813a5=_0x4374ff,_0x15953b=doc(_0x2ad82b);_0x823abd['set'](_0x15953b,{'topic':_0x31ef88,'questionText':_0x4ed18a[_0x5813a5(0x9fb)],'options':_0x4ed18a[_0x5813a5(0x67e)],'correctAnswerIndex':_0x4ed18a[_0x5813a5(0x90b)],'explanation':_0x4ed18a[_0x5813a5(0xa10)],'createdAt':serverTimestamp()});});try{await _0x823abd[_0x4374ff(0x1f1)](),console[_0x4374ff(0x516)](_0x4374ff(0x801)+_0x30315f[_0x4374ff(0xc81)][_0x4374ff(0x649)]+_0x4374ff(0xa8d));}catch(_0x24c2cf){console[_0x4374ff(0x40f)](_0x4374ff(0xace),_0x24c2cf);}}async function getStandardizedTopic(_0x32e4bf){const _0x1888e7=_0x2f78fc,_0x498ff0=_0x1888e7(0x90d)+_0x32e4bf+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x5f0adb={'type':_0x1888e7(0x91b),'properties':{'standardTopic':{'type':_0x1888e7(0x395)}},'required':[_0x1888e7(0xbba)]};try{const _0x3b343b=await callAnalysisApi(_0x498ff0,_0x5f0adb);return _0x3b343b[_0x1888e7(0xbba)];}catch(_0x49792e){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x49792e),_0x32e4bf;}}async function handleGenerateEasyVersionQuiz(_0x2e7008){const _0x8b0cc8=_0x2f78fc,_0x3dacd4=document[_0x8b0cc8(0x288)](_0x8b0cc8(0x5e7)),_0x1184ce=document[_0x8b0cc8(0x288)](_0x8b0cc8(0x320));_0x1184ce['classList'][_0x8b0cc8(0x5c0)](_0x8b0cc8(0x4c5));const _0xd12697=_0x8b0cc8(0xa8c);_0x3dacd4[_0x8b0cc8(0x31e)](_0x8b0cc8(0x469),_0xd12697);try{const _0x450815=allQuizzes['find'](_0x5e229d=>_0x5e229d['id']===_0x2e7008);if(!_0x450815)throw new Error(_0x8b0cc8(0x849));const _0x1ae56c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x8b0cc8(0x6aa)](_0x450815['questions'])+_0x8b0cc8(0xa85),_0x28ef6e={'type':_0x8b0cc8(0x91b),'properties':{'questionText':{'type':_0x8b0cc8(0x395)},'questionType':{'type':_0x8b0cc8(0x395)},'options':{'type':_0x8b0cc8(0xb29),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x8b0cc8(0x50d)},'idealAnswer':{'type':_0x8b0cc8(0x395)},'explanation':{'type':_0x8b0cc8(0x395)},'imageCode':{'type':'STRING'}},'required':[_0x8b0cc8(0x9fb),_0x8b0cc8(0x8a4),_0x8b0cc8(0xa10)]},_0x2eaf34={'type':_0x8b0cc8(0x91b),'properties':{'questions':{'type':_0x8b0cc8(0xb29),'items':_0x28ef6e}},'required':[_0x8b0cc8(0xc81)]},_0x1ad069=await callAnalysisApi(_0x1ae56c,_0x2eaf34);_0x1ad069&&_0x1ad069[_0x8b0cc8(0xc81)]&&_0x1ad069['questions'][_0x8b0cc8(0x220)](_0x3ff936=>{const _0x5df352=_0x8b0cc8;if(_0x3ff936[_0x5df352(0xae0)]('imageCode')){const _0x55da73=String(_0x3ff936['imageCode'])['trim']();(_0x55da73===''||_0x55da73['toLowerCase']()==='null'||!_0x55da73[_0x5df352(0xc29)](_0x5df352(0x1e4)))&&delete _0x3ff936[_0x5df352(0xc0c)];}});if(!_0x1ad069||!_0x1ad069[_0x8b0cc8(0xc81)]||_0x1ad069[_0x8b0cc8(0xc81)][_0x8b0cc8(0x649)]===0x0)throw new Error(_0x8b0cc8(0x92f));const _0x19c271=_0x1ad069[_0x8b0cc8(0xc81)][_0x8b0cc8(0x598)]((_0xa87abd,_0x2ad0d6)=>({..._0xa87abd,'id':'q_'+Date[_0x8b0cc8(0x9bc)]()+'_'+_0x2ad0d6})),_0x23d77a={'projectId':_0x450815[_0x8b0cc8(0x93e)],'quizType':_0x450815[_0x8b0cc8(0x58f)],'settings':_0x450815[_0x8b0cc8(0x580)],'createdBy':_0x450815[_0x8b0cc8(0xac1)],'status':'active','topic':_0x8b0cc8(0xad0)+_0x450815[_0x8b0cc8(0x32c)],'questions':_0x19c271,'createdAt':new Date()[_0x8b0cc8(0x75b)](),'quizMode':'standard','pairedQuizId':null};let _0x3531d5;while(!![]){_0x3531d5=Math[_0x8b0cc8(0x60a)](0x3e8+Math['random']()*0x2328)[_0x8b0cc8(0x2d0)]();const _0x452d9b=await getDoc(doc(db,_0x8b0cc8(0x309)+appId+_0x8b0cc8(0x480),_0x3531d5));if(!_0x452d9b[_0x8b0cc8(0x5e4)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x8b0cc8(0x480),_0x3531d5),_0x23d77a),showMessage(_0x8b0cc8(0x5ac));}catch(_0x525e86){console[_0x8b0cc8(0x40f)](_0x8b0cc8(0x450),_0x525e86),showMessage('เกิดข้อผิดพลาด:\x20'+_0x525e86[_0x8b0cc8(0x42d)]);}finally{const _0x150bf4=document[_0x8b0cc8(0x288)]('temp-loader-results');_0x150bf4&&_0x150bf4[_0x8b0cc8(0xc4b)](),_0x1184ce[_0x8b0cc8(0xa39)][_0x8b0cc8(0xc4b)](_0x8b0cc8(0x4c5));}}async function generatePracticeQuestions(_0xdedcb9){const _0x1a4377=_0x2f78fc,_0xe6c588=_0x1a4377(0x57d)+_0xdedcb9+_0x1a4377(0x42f)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x67567e={'type':_0x1a4377(0x91b),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1a4377(0xb29),'items':{'type':_0x1a4377(0x395)}},'correctAnswerIndex':{'type':_0x1a4377(0x50d)},'explanation':{'type':_0x1a4377(0x395)}},'required':['questionText',_0x1a4377(0x67e),_0x1a4377(0x90b),_0x1a4377(0xa10)]},_0x3c3836={'type':'OBJECT','properties':{'topic':{'type':_0x1a4377(0x395)},'questions':{'type':'ARRAY','items':_0x67567e}},'required':['topic',_0x1a4377(0xc81)]};return await callAnalysisApi(_0xe6c588,_0x3c3836);}function displayLessonPlan(_0x46a6f1,_0x5e920e){const _0x5d97a5=_0x2f78fc,_0x5720c5=_0x5d97a5(0x7e7)+_0x5e920e[_0x5d97a5(0x32c)]+_0x5d97a5(0x1fa)+_0x46a6f1[_0x5d97a5(0xcf1)][_0x5d97a5(0x598)](_0x4757cf=>_0x5d97a5(0xa9d)+_0x4757cf+'</li>')[_0x5d97a5(0x53d)]('')+_0x5d97a5(0x3f0)+_0x46a6f1[_0x5d97a5(0x358)]+_0x5d97a5(0x39d)+_0x46a6f1[_0x5d97a5(0xa14)][_0x5d97a5(0x598)](_0x536483=>_0x5d97a5(0x4aa)+_0x536483[_0x5d97a5(0x788)]+_0x5d97a5(0xccb)+_0x536483[_0x5d97a5(0xaca)]+_0x5d97a5(0x335))[_0x5d97a5(0x53d)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x5d97a5(0x288)](_0x5d97a5(0x61b))['textContent']=_0x5d97a5(0x908)+_0x5e920e[_0x5d97a5(0x32c)],document[_0x5d97a5(0x288)](_0x5d97a5(0x7ac))[_0x5d97a5(0x5f0)]=_0x5720c5,document[_0x5d97a5(0x288)]('lesson-plan-modal')[_0x5d97a5(0xa39)][_0x5d97a5(0xc4b)](_0x5d97a5(0x4c5));if(window[_0x5d97a5(0x5ed)])MathJax[_0x5d97a5(0x3d1)]();}function displaySkillPracticeDrill(_0xdb055e){const _0x3229b2=_0x2f78fc;let _0x127c25=0x0;const _0x15fbb2=_0xdb055e[_0x3229b2(0xc81)],_0x552ad4=()=>{const _0x450573=_0x3229b2,_0x58ff95=_0x15fbb2[_0x127c25],_0x3c63f2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x127c25+0x1)+'\x20/\x20'+_0x15fbb2[_0x450573(0x649)]+_0x450573(0x5e2)+_0x58ff95[_0x450573(0x9fb)]+_0x450573(0x22b)+_0x58ff95[_0x450573(0x67e)][_0x450573(0x598)]((_0x3f4d06,_0x387366)=>_0x450573(0xba9)+_0x387366+_0x450573(0x4c4)+_0x387366+_0x450573(0xba5)+_0x387366+'\x22>'+_0x3f4d06+_0x450573(0x723))[_0x450573(0x53d)]('')+_0x450573(0x1de);studentQuizArea[_0x450573(0x5f0)]=_0x3c63f2;if(window['MathJax'])MathJax[_0x450573(0x3d1)]([studentQuizArea]);document[_0x450573(0x288)](_0x450573(0xce8))[_0x450573(0x5b2)](_0x450573(0x8d9),async()=>{const _0x4fed00=_0x450573,_0x5bfbcd=await getHintForQuestion(_0x58ff95[_0x4fed00(0x9fb)]);showMessage(_0x5bfbcd);}),document['getElementById'](_0x450573(0x3eb))[_0x450573(0x5b2)](_0x450573(0x8d9),()=>{const _0x374b20=_0x450573,_0x3aa465=document[_0x374b20(0x2ee)](_0x374b20(0xb34));if(!_0x3aa465){showMessage(_0x374b20(0xb4c));return;}const _0x52e0bc=document[_0x374b20(0x288)](_0x374b20(0xba7)),_0x22b669=parseInt(_0x3aa465[_0x374b20(0x63b)])===_0x58ff95[_0x374b20(0x90b)];_0x22b669?(_0x52e0bc[_0x374b20(0xcdf)]=_0x374b20(0x737),_0x52e0bc[_0x374b20(0x5f0)]=_0x374b20(0xc6e)+_0x58ff95['explanation']):(_0x52e0bc[_0x374b20(0xcdf)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x52e0bc[_0x374b20(0x5f0)]=_0x374b20(0x38d)+_0x58ff95[_0x374b20(0xa10)]);_0x52e0bc[_0x374b20(0xa39)][_0x374b20(0xc4b)](_0x374b20(0x4c5));if(window['MathJax'])MathJax[_0x374b20(0x3d1)]([_0x52e0bc]);document[_0x374b20(0x288)](_0x374b20(0x3eb))['classList'][_0x374b20(0x5c0)](_0x374b20(0x4c5)),document[_0x374b20(0x288)](_0x374b20(0xce8))[_0x374b20(0xa39)][_0x374b20(0x5c0)](_0x374b20(0x4c5)),document['getElementById'](_0x374b20(0x55f))['classList'][_0x374b20(0xc4b)](_0x374b20(0x4c5));}),document[_0x450573(0x288)](_0x450573(0x55f))[_0x450573(0x5b2)](_0x450573(0x8d9),()=>{const _0x6c335e=_0x450573;_0x127c25++,_0x127c25<_0x15fbb2['length']?_0x552ad4():(studentQuizArea[_0x6c335e(0x5f0)]=_0x6c335e(0x660),document[_0x6c335e(0x288)]('back-to-results-btn')[_0x6c335e(0x5b2)](_0x6c335e(0x8d9),()=>{const _0xfb63f1=_0x6c335e;studentQuizArea[_0xfb63f1(0xa39)]['add'](_0xfb63f1(0x4c5)),studentResultArea[_0xfb63f1(0xa39)]['remove'](_0xfb63f1(0x4c5));}));});};_0x552ad4();}async function getHintForQuestion(_0x5b0dc3){const _0xa7a6ee=_0x2f78fc,_0x570726=_0xa7a6ee(0x876)+_0x5b0dc3+_0xa7a6ee(0x369),_0x5dc4b2={'type':_0xa7a6ee(0x91b),'properties':{'hint':{'type':_0xa7a6ee(0x395)}},'required':['hint']};try{const _0x3207db=await callAnalysisApi(_0x570726,_0x5dc4b2);return _0x3207db[_0xa7a6ee(0x5a1)];}catch(_0x15db67){return console['error'](_0xa7a6ee(0x4f7),_0x15db67),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x7ac004){const _0x31c5d7=_0x2f78fc;pdfjsLib[_0x31c5d7(0xc65)][_0x31c5d7(0x3dc)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x38d58f=await _0x7ac004[_0x31c5d7(0x236)](),_0x281d84=await pdfjsLib[_0x31c5d7(0x284)](_0x38d58f)[_0x31c5d7(0x491)],_0x11cd7d=_0x281d84[_0x31c5d7(0x733)];let _0x1256a2='';for(let _0x12a0ad=0x1;_0x12a0ad<=_0x11cd7d;_0x12a0ad++){const _0x22af25=await _0x281d84['getPage'](_0x12a0ad),_0x320514=await _0x22af25[_0x31c5d7(0x5f2)](),_0x449d83=_0x320514[_0x31c5d7(0x4ca)][_0x31c5d7(0x598)](_0x2c6497=>_0x2c6497['str'])[_0x31c5d7(0x53d)]('\x20');_0x1256a2+=_0x449d83+'\x0a\x0a';}return _0x1256a2;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x5dc048){const _0x87b438=_0x2f78fc,_0x5af6ff=document[_0x87b438(0x288)](_0x87b438(0x562)),_0x2230bc=document[_0x87b438(0x288)](_0x87b438(0x2a2)),_0x1f6137=document[_0x87b438(0x288)]('save-blueprint-as-project-btn');_0x5af6ff['classList'][_0x87b438(0xc4b)]('hidden'),_0x2230bc[_0x87b438(0x5f0)]=_0x87b438(0xa68),_0x1f6137['classList'][_0x87b438(0x5c0)](_0x87b438(0x4c5));try{const _0x45752d=_0x87b438(0x612)+_0x5dc048+_0x87b438(0xc11),_0x5dee80={'type':_0x87b438(0x91b),'properties':{'gradeLevel':{'type':_0x87b438(0x395)},'curriculum':{'type':_0x87b438(0xb29),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x87b438(0x395)},'mainTopics':{'type':_0x87b438(0xb29),'items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x87b438(0xb29),'items':{'type':_0x87b438(0x395)}}},'required':['topicName',_0x87b438(0x6ef)]}}},'required':[_0x87b438(0x27b),'mainTopics']}}},'required':[_0x87b438(0xc92),_0x87b438(0x6b7)]},_0x4ebf36=await callAnalysisApi(_0x45752d,_0x5dee80);if(_0x4ebf36&&_0x4ebf36[_0x87b438(0x6b7)])extractedBlueprintData=_0x4ebf36,renderBlueprintTopics(_0x4ebf36),_0x1f6137[_0x87b438(0xa39)][_0x87b438(0xc4b)]('hidden');else throw new Error(_0x87b438(0x2e1));}catch(_0x281bf7){console[_0x87b438(0x40f)](_0x87b438(0x464),_0x281bf7),_0x2230bc[_0x87b438(0x5f0)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x1b6473){const _0x21dddb=_0x2f78fc,_0x268f88=document['getElementById'](_0x21dddb(0x2a2)),_0x512c60=_0x1b6473['gradeLevel'],_0x2d80f9=_0x21dddb(0x824)+_0x512c60+_0x21dddb(0x7f3);let _0x22f1fe='';_0x1b6473['curriculum'][_0x21dddb(0x220)](_0x4bbda6=>{const _0x4bda74=_0x21dddb;_0x22f1fe+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x4bbda6['sara']+_0x4bda74(0x271),_0x4bbda6['mainTopics']['forEach'](_0x25986a=>{const _0x32278f=_0x4bda74;_0x22f1fe+=_0x32278f(0x44b)+_0x25986a['topicName']+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x25986a['subTopics'][_0x32278f(0x220)](_0x4f1421=>{const _0x2a0708=_0x32278f;_0x22f1fe+=_0x2a0708(0x907)+_0x4f1421[_0x2a0708(0x5e3)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x512c60[_0x2a0708(0x5e3)](/'/g,'\x5c\x27')+_0x2a0708(0x20f)+_0x4f1421+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x4f1421[_0x2a0708(0x5e3)](/'/g,'\x5c\x27')+_0x2a0708(0x82d);}),_0x22f1fe+='</div></div>';}),_0x22f1fe+='</div>';}),_0x268f88[_0x21dddb(0x5f0)]=_0x2d80f9+_0x22f1fe;}async function handleGenerateTeachingContent(_0xfbd962){const _0x1db0cd=_0x2f78fc,_0x2b3f85=document[_0x1db0cd(0x288)](_0x1db0cd(0x3d4)),_0x4ee886=document[_0x1db0cd(0x288)]('lesson-plan-content');document['getElementById'](_0x1db0cd(0x61b))[_0x1db0cd(0xb10)]=_0x1db0cd(0x950)+_0xfbd962,_0x4ee886['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x2b3f85[_0x1db0cd(0xa39)][_0x1db0cd(0xc4b)](_0x1db0cd(0x4c5));try{const _0x34f00b=_0x1db0cd(0x815)+_0xfbd962+_0x1db0cd(0x93d),_0x5bb25f={'type':_0x1db0cd(0x91b),'properties':{'keyConcepts':{'type':_0x1db0cd(0xb29),'items':{'type':_0x1db0cd(0x395)}},'commonMistakes':{'type':_0x1db0cd(0xb29),'items':{'type':_0x1db0cd(0x395)}},'stepByStepExamples':{'type':_0x1db0cd(0xb29),'items':{'type':_0x1db0cd(0x91b),'properties':{'question':{'type':_0x1db0cd(0x395)},'solution':{'type':_0x1db0cd(0x395)}},'required':['question',_0x1db0cd(0xaca)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x1db0cd(0x395)}}},'required':[_0x1db0cd(0x30a),_0x1db0cd(0x8f1),_0x1db0cd(0xcb4),_0x1db0cd(0xc14)]},_0x2fec22=await callAnalysisApi(_0x34f00b,_0x5bb25f);displayTeachingContent(_0x2fec22,_0xfbd962);}catch(_0xa599a7){console['error'](_0x1db0cd(0x901),_0xa599a7),_0x4ee886[_0x1db0cd(0x5f0)]=_0x1db0cd(0x3fd)+_0xa599a7[_0x1db0cd(0x42d)]+_0x1db0cd(0x4d3);}}function displayTeachingContent(_0x5bd178,_0x1e5a65){const _0x5cb667=_0x2f78fc,_0x5a4812=document[_0x5cb667(0x288)](_0x5cb667(0x7ac));document['getElementById'](_0x5cb667(0x61b))[_0x5cb667(0xb10)]=_0x5cb667(0x31f)+_0x1e5a65;const _0x1642f9=_0x5cb667(0xbf1)+_0x5bd178[_0x5cb667(0x30a)][_0x5cb667(0x598)](_0x589eac=>_0x5cb667(0xa9d)+_0x589eac+_0x5cb667(0x823))[_0x5cb667(0x53d)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x5bd178[_0x5cb667(0x8f1)][_0x5cb667(0x598)](_0x53d315=>_0x5cb667(0xa9d)+_0x53d315+_0x5cb667(0x823))['join']('')+_0x5cb667(0x7c2)+_0x5bd178['stepByStepExamples']['map'](_0x4dc9d3=>_0x5cb667(0xaec)+_0x4dc9d3[_0x5cb667(0x788)]+_0x5cb667(0xc02)+_0x4dc9d3[_0x5cb667(0xaca)]+_0x5cb667(0xc1e))[_0x5cb667(0x53d)]('')+_0x5cb667(0xce3)+_0x5bd178['teacherTips']['map'](_0x77d735=>'<li>'+_0x77d735+_0x5cb667(0x823))[_0x5cb667(0x53d)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5a4812[_0x5cb667(0x5f0)]=_0x1642f9;if(window[_0x5cb667(0x5ed)])MathJax['typesetPromise']([_0x5a4812]);}async function generateQuizForSingleTopic(_0x4f023e){const _0x5c0c30=_0x2f78fc;console[_0x5c0c30(0x516)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x4f023e+'\x22');const _0x492cb7=document[_0x5c0c30(0x288)](_0x5c0c30(0x72d)),_0xec38b3=_0x492cb7[_0x5c0c30(0x7c9)][_0x5c0c30(0x649)]>0x0?_0x492cb7['files'][0x0]:null;let _0x53464c=null;if(_0xec38b3)try{const _0x23a468=new FileReader();_0x23a468['readAsDataURL'](_0xec38b3);const _0x424a48=await new Promise((_0x5d96fe,_0x1b11ef)=>{const _0x3140d6=_0x5c0c30;_0x23a468[_0x3140d6(0x29e)]=()=>_0x5d96fe(_0x23a468[_0x3140d6(0xc80)]['split'](',')[0x1]),_0x23a468[_0x3140d6(0xa1b)]=_0x42f4f3=>_0x1b11ef(_0x42f4f3);});_0x53464c=[{'inlineData':{'mimeType':_0xec38b3[_0x5c0c30(0x5b4)],'data':_0x424a48}}];}catch(_0x14b223){console[_0x5c0c30(0x40f)](_0x5c0c30(0x6db),_0x14b223),showMessage(_0x5c0c30(0x84b));return;}generateQuiz(_0x4f023e,null,null,_0x53464c,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x484c61=null){const _0x5b0452=_0x2f78fc,_0x4b0d85=document['getElementById'](_0x5b0452(0x308)),_0x55c5a3=document[_0x5b0452(0x288)](_0x5b0452(0x948));let _0x1f3df1;if(_0x484c61)_0x1f3df1=_0x484c61;else{const _0x296d67=document[_0x5b0452(0x288)]('blueprint-upload-input'),_0x204762=_0x296d67[_0x5b0452(0x7c9)][0x0];if(!_0x204762){showMessage(_0x5b0452(0x20a));return;}_0x55c5a3[_0x5b0452(0xb10)]=_0x5b0452(0x479);const _0x4d80e7=await new Promise((_0x560c01,_0x2195bb)=>{const _0x573b4a=_0x5b0452,_0x59f6e2=new FileReader();_0x59f6e2[_0x573b4a(0xca6)](_0x204762),_0x59f6e2['onload']=()=>_0x560c01(_0x59f6e2[_0x573b4a(0xc80)][_0x573b4a(0x39e)](',')[0x1]),_0x59f6e2[_0x573b4a(0xa1b)]=_0x2195bb;});_0x1f3df1=[{'text':_0x5b0452(0xab4)},{'inlineData':{'mimeType':_0x204762[_0x5b0452(0x5b4)],'data':_0x4d80e7}}];}const _0x39e43b=_0x5b0452(0x981),_0x161b61=_0x5b0452(0x3a5),_0x406326=_0x5b0452(0x9d6),_0x33e300={'type':_0x5b0452(0x91b),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5b0452(0x395),'enum':[_0x5b0452(0x318),_0x5b0452(0x59a),'true_false',_0x5b0452(0x5b0)]},'options':{'type':_0x5b0452(0xb29),'items':{'type':_0x5b0452(0x395)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x5b0452(0xc66)},'explanation':{'type':_0x5b0452(0x395)},'imageCode':{'type':'STRING'}},'required':[_0x5b0452(0x8a4),_0x5b0452(0xa10)]},_0x63b990={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x33e300}},'required':['topic',_0x5b0452(0xc81)]};_0x1f3df1[0x0][_0x5b0452(0x537)]=_0x406326,await handleApiCall(_0x1f3df1,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x63b990);}function proceedToNextQuestion(_0x54f8f8){const _0x2dfaff=_0x2f78fc;studentAnswersPerQuestion[_0x2dfaff(0x346)](_0x54f8f8),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2dfaff(0x649)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x6970a6,_0x54e1ad){const _0x5ad329=_0x2f78fc,_0x1af139=Object[_0x5ad329(0xa59)](_0x6970a6[_0x5ad329(0xa90)]||{}),_0x151350=_0x1af139[_0x5ad329(0x649)],_0x2976ee=[..._0x1af139][_0x5ad329(0x310)]((_0xd8f348,_0x53d9e7)=>_0x53d9e7[_0x5ad329(0x447)]-_0xd8f348[_0x5ad329(0x447)]),_0x303e32=_0x6970a6['currentQuestionIndex'];let _0x587686='';const _0x18b99f=_0x6970a6[_0x5ad329(0x6af)][_0x5ad329(0xc81)],_0x4c9bf5=_0x18b99f[_0x303e32],_0x5e301e=_0x5e9c52=>String[_0x5ad329(0x916)](0x41+_0x5e9c52);let _0x5eb23a='',_0x218451='';if(_0x4c9bf5){const _0x5a723a=_0x4c9bf5[_0x5ad329(0x8a4)]||_0x6970a6[_0x5ad329(0x6af)][_0x5ad329(0x58f)];if(_0x5a723a==='multiple_choice'&&_0x4c9bf5[_0x5ad329(0x67e)]&&_0x4c9bf5['correctAnswerIndex']!==undefined){const _0x431c6b=_0x4c9bf5[_0x5ad329(0x90b)];_0x5eb23a=_0x4c9bf5[_0x5ad329(0x67e)][_0x431c6b],_0x218451=_0x5e301e(_0x431c6b)+'.';}else{if(_0x5a723a===_0x5ad329(0x253)){const _0x125c0c=_0x4c9bf5[_0x5ad329(0xafe)]===!![]||String(_0x4c9bf5['correctAnswer'])['toLowerCase']()===_0x5ad329(0x77f);_0x125c0c?(_0x5eb23a=_0x5ad329(0xcb1),_0x218451='ก.'):(_0x5eb23a=_0x5ad329(0xb9a),_0x218451='ข.');}else{if(_0x5a723a===_0x5ad329(0x5b0))_0x5eb23a=_0x4c9bf5['correctResponse']||'-',_0x218451='';else _0x5a723a===_0x5ad329(0x59a)&&(_0x5eb23a=_0x4c9bf5[_0x5ad329(0x558)]||'-',_0x218451='');}}}_0x5eb23a&&(_0x587686=_0x5ad329(0x260)+(_0x303e32+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x218451+'\x20'+_0x5eb23a+_0x5ad329(0x73a));const _0x4dea20=_0x2976ee[_0x5ad329(0x598)](_0x320187=>{const _0x19118e=_0x5ad329;let _0xe9dfe2=![];if(_0x320187[_0x19118e(0x620)]&&_0x303e32!==-0x1){const _0x26d13d=_0x320187[_0x19118e(0x620)][_0x19118e(0x533)](_0x42e895=>_0x42e895[_0x19118e(0x542)]===_0x303e32);_0x26d13d&&_0x26d13d[_0x19118e(0x8bd)]&&(_0xe9dfe2=!![]);}const _0x2b16d8=_0xe9dfe2?_0x19118e(0x80d):_0x19118e(0x95c);return _0x19118e(0x255)+_0x2b16d8+_0x19118e(0x3da)+_0x320187[_0x19118e(0xb54)]+_0x19118e(0x4b6)+_0x320187[_0x19118e(0x447)]+_0x19118e(0x330);})[_0x5ad329(0x53d)](''),_0x43e431=_0x18b99f[_0x5ad329(0x598)]((_0x642e8b,_0x2941fd)=>{const _0x4534e9=_0x5ad329,_0x505816=_0x1af139[_0x4534e9(0x3e1)](_0x1ba2dd=>_0x1ba2dd['answers']&&_0x1ba2dd[_0x4534e9(0x620)][_0x4534e9(0x533)](_0x467714=>_0x467714[_0x4534e9(0x542)]===_0x2941fd&&_0x467714[_0x4534e9(0x8bd)]))[_0x4534e9(0x649)],_0x56758b=_0x2941fd===_0x303e32,_0x18b0c9=_0x56758b?_0x4534e9(0x9fe):'p-2\x20bg-black/10\x20rounded-md';return _0x4534e9(0x7f2)+_0x18b0c9+_0x4534e9(0x270)+(_0x2941fd+0x1)+_0x4534e9(0x2de)+_0x505816+_0x4534e9(0xa1c)+_0x151350+_0x4534e9(0x3b1);})[_0x5ad329(0x53d)]('');let _0x17defd='',_0x4c3b9f='';if(_0x54e1ad){const _0x53fc46=_0x6970a6[_0x5ad329(0x8e0)]>=_0x18b99f['length']-0x1;_0x17defd=_0x5ad329(0x214)+(_0x53fc46?'ดูผลสรุปสุดท้าย':'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x4c3b9f=_0x5ad329(0x4db);}const _0x5dabc1=_0x5ad329(0x3e6)+_0x6970a6[_0x5ad329(0x6af)][_0x5ad329(0x32c)]+_0x5ad329(0x84e)+_0x4c3b9f+_0x5ad329(0xb1d)+_0x587686+_0x5ad329(0x3b3)+(_0x4dea20||_0x5ad329(0x91f))+_0x5ad329(0x366)+_0x43e431+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x54e1ad?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x17defd+_0x5ad329(0x21c):'')+_0x5ad329(0x4df);liveGameView[_0x5ad329(0x5f0)]=_0x5dabc1;if(window[_0x5ad329(0x5ed)]){const _0x264766=document[_0x5ad329(0x288)]('main-correct-answer-display');_0x264766&&MathJax['typesetPromise']([_0x264766]);}if(_0x54e1ad){document[_0x5ad329(0x288)](_0x5ad329(0xd14))['onclick']=async()=>{const _0xfdab30=_0x5ad329,_0x4f7528=doc(db,_0xfdab30(0x309)+appId+_0xfdab30(0x2a5),currentLiveGameId),_0x131b19=_0x6970a6[_0xfdab30(0x8e0)]+0x1;if(_0x131b19<_0x18b99f[_0xfdab30(0x649)]){const _0x40ee4c={};Object['keys'](_0x6970a6['players'])['forEach'](_0x278aed=>{const _0x3578b7=_0xfdab30;_0x40ee4c['players.'+_0x278aed+'.answered']=![],_0x40ee4c[_0x3578b7(0x1f6)+_0x278aed+_0x3578b7(0xb80)]=null;}),await updateDoc(_0x4f7528,{..._0x40ee4c,'status':_0xfdab30(0x788),'currentQuestionIndex':_0x131b19,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4f7528,{'status':_0xfdab30(0x9e3)});};const _0xa750d7=document[_0x5ad329(0x288)](_0x5ad329(0x430));_0xa750d7&&(_0xa750d7[_0x5ad329(0x611)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x7de1b0=_0x43c7,_0x4f6144=doc(db,_0x7de1b0(0x309)+appId+_0x7de1b0(0x2a5),currentLiveGameId);await updateDoc(_0x4f6144,{'status':_0x7de1b0(0x9e3)});});});}}async function handleGenerateParallelFromBank(_0x542bd7){const _0x58f750=_0x2f78fc,_0x5363f2=document[_0x58f750(0x288)](_0x58f750(0x5e7)),_0x335a92=document[_0x58f750(0x288)](_0x58f750(0x320));_0x335a92[_0x58f750(0xa39)][_0x58f750(0x5c0)](_0x58f750(0x4c5));const _0x528bd8=_0x58f750(0x8cd)+_0x542bd7[_0x58f750(0x32c)]+_0x58f750(0x662);_0x5363f2['insertAdjacentHTML']('beforeend',_0x528bd8);const _0x4f6035=document['getElementById']('temp-loader-text-results');try{const _0x169f65=_0x542bd7[_0x58f750(0xc81)]['map']((_0xe94548,_0x3e67d8)=>{const _0x4d53dc=_0x58f750;let _0x4f0295=_0x3e67d8+0x1+'.\x20'+(_0xe94548[_0x4d53dc(0x9fb)]||_0xe94548[_0x4d53dc(0x34d)])+'\x0a';if(_0xe94548[_0x4d53dc(0x67e)])_0x4f0295+=_0xe94548[_0x4d53dc(0x67e)][_0x4d53dc(0x598)]((_0x5e9299,_0x340b0a)=>'\x20\x20\x20-\x20'+(_0x340b0a===_0xe94548[_0x4d53dc(0x90b)]?_0x4d53dc(0xca5):'')+'\x20'+_0x5e9299)['join']('\x0a');else _0xe94548[_0x4d53dc(0x558)]&&(_0x4f0295+=_0x4d53dc(0x593)+_0xe94548[_0x4d53dc(0x558)]);return _0x4f0295;})['join']('\x0a\x0a');_0x4f6035[_0x58f750(0xb10)]=_0x58f750(0x6ee);const _0x13286d=_0x58f750(0xadd)+_0x542bd7['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x169f65+_0x58f750(0xad5)+simpleMathPrompt+_0x58f750(0xd16),_0x4831b8={'type':_0x58f750(0x91b),'properties':{'questionText':{'type':_0x58f750(0x395)},'questionType':{'type':_0x58f750(0x395),'enum':[_0x58f750(0x318),_0x58f750(0x59a),_0x58f750(0x253),_0x58f750(0x5b0)]},'options':{'type':_0x58f750(0xb29),'items':{'type':_0x58f750(0x395)}},'correctAnswerIndex':{'type':_0x58f750(0x50d)},'idealAnswer':{'type':_0x58f750(0x395)},'correctAnswer':{'type':_0x58f750(0xc66)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x58f750(0x395)},'allResponses':{'type':_0x58f750(0xb29),'items':{'type':_0x58f750(0x395)}},'explanation':{'type':_0x58f750(0x395)},'imageCode':{'type':_0x58f750(0x395)}},'required':[_0x58f750(0x8a4),_0x58f750(0xa10)]},_0x5f3e6c={'type':'OBJECT','properties':{'topic':{'type':_0x58f750(0x395)},'questions':{'type':_0x58f750(0xb29),'items':_0x4831b8}},'required':['topic',_0x58f750(0xc81)]},_0x7ab017=await callAnalysisApi(_0x13286d,_0x5f3e6c),_0x3c6bd6=_0x7ab017['questions']['map']((_0x19e485,_0x32277e)=>({..._0x19e485,'id':'q_'+Date[_0x58f750(0x9bc)]()+'_'+_0x32277e})),_0x480541=_0x58f750(0x717)+_0x542bd7[_0x58f750(0x32c)],_0x5dc1ad={'topic':_0x480541,'questions':_0x3c6bd6,'quizType':_0x542bd7[_0x58f750(0x58f)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x542bd7['settings'],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x3c3434;while(!![]){_0x3c3434=Math[_0x58f750(0x60a)](0x3e8+Math[_0x58f750(0x40c)]()*0x2328)[_0x58f750(0x2d0)]();const _0x46495f=await getDoc(doc(db,_0x58f750(0x309)+appId+_0x58f750(0x480),_0x3c3434));if(!_0x46495f[_0x58f750(0x5e4)]())break;}await setDoc(doc(db,_0x58f750(0x309)+appId+'/public/data/quizzes',_0x3c3434),_0x5dc1ad),showMessage(_0x58f750(0xd01));}catch(_0x5110b8){console[_0x58f750(0x40f)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x5110b8),showMessage(_0x58f750(0xac4)+_0x5110b8[_0x58f750(0x42d)]);}finally{const _0x20c2b1=document[_0x58f750(0x288)](_0x58f750(0x4ee));_0x20c2b1&&_0x20c2b1[_0x58f750(0xc4b)](),_0x335a92[_0x58f750(0xa39)][_0x58f750(0xc4b)](_0x58f750(0x4c5));}}async function handleGenerateParallelPostTest(_0x522ea6){const _0x3a270a=_0x2f78fc,_0x2905bd=document['getElementById'](_0x3a270a(0x5e7)),_0x1d4f9c=document[_0x3a270a(0x288)](_0x3a270a(0x320));_0x1d4f9c['classList'][_0x3a270a(0x5c0)](_0x3a270a(0x4c5));const _0x106b7c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2905bd['insertAdjacentHTML'](_0x3a270a(0x469),_0x106b7c);try{const _0xb76e7a=_0x522ea6[_0x3a270a(0xc81)][_0x3a270a(0x598)]((_0x3ec50d,_0x437b7f)=>{const _0x30de3b=_0x3a270a;let _0x37415b=_0x437b7f+0x1+'.\x20'+(_0x3ec50d[_0x30de3b(0x9fb)]||_0x3ec50d['stem']);if(_0x3ec50d[_0x30de3b(0x67e)])_0x37415b+=_0x30de3b(0xb0e)+_0x3ec50d[_0x30de3b(0x67e)]['join'](',\x20');return _0x37415b;})[_0x3a270a(0x53d)]('\x0a\x0a'),_0x2dcb9f=_0x3a270a(0x406)+_0x522ea6[_0x3a270a(0x32c)]+_0x3a270a(0x534)+_0xb76e7a+_0x3a270a(0x2cd)+simpleMathPrompt+_0x3a270a(0xd16),_0x2c4ce8={'type':_0x3a270a(0x91b),'properties':{'topic':{'type':_0x3a270a(0x395)},'questions':{'type':_0x3a270a(0xb29),'items':{'type':_0x3a270a(0x91b),'properties':{'questionText':{'type':_0x3a270a(0x395)},'questionType':{'type':_0x3a270a(0x395)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3a270a(0x50d)},'idealAnswer':{'type':_0x3a270a(0x395)},'explanation':{'type':'STRING'}},'required':[_0x3a270a(0x9fb),_0x3a270a(0xa10)]}}},'required':['topic','questions']},_0x2f81b7=await callAnalysisApi(_0x2dcb9f,_0x2c4ce8),_0x5bdf30=_0x522ea6['topic'][_0x3a270a(0x5e3)](_0x3a270a(0x912),'')[_0x3a270a(0x8e1)](),_0x2f6a56='(หลังเรียน)\x20'+_0x5bdf30,_0x5652f3={..._0x2f81b7,'topic':_0x2f6a56,'quizType':_0x522ea6[_0x3a270a(0x58f)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3a270a(0x75b)](),'status':'active','settings':_0x522ea6[_0x3a270a(0x580)],'quizMode':'post-test','pairedQuizId':_0x522ea6['id']};let _0x514470;while(!![]){_0x514470=Math['floor'](0x3e8+Math[_0x3a270a(0x40c)]()*0x2328)[_0x3a270a(0x2d0)]();const _0x5ec7d3=await getDoc(doc(db,_0x3a270a(0x309)+appId+_0x3a270a(0x480),_0x514470));if(!_0x5ec7d3[_0x3a270a(0x5e4)]())break;}await setDoc(doc(db,_0x3a270a(0x309)+appId+_0x3a270a(0x480),_0x514470),_0x5652f3);const _0xf3a93c=doc(db,_0x3a270a(0x309)+appId+_0x3a270a(0x480),_0x522ea6['id']);await updateDoc(_0xf3a93c,{'pairedQuizId':_0x514470}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x1ac3db){console[_0x3a270a(0x40f)](_0x3a270a(0x7f9),_0x1ac3db),showMessage(_0x3a270a(0xac4)+_0x1ac3db[_0x3a270a(0x42d)]);}finally{const _0x3ecf19=document[_0x3a270a(0x288)](_0x3a270a(0x4ee));if(_0x3ecf19)_0x3ecf19['remove']();_0x1d4f9c[_0x3a270a(0xa39)]['remove'](_0x3a270a(0x4c5));}}async function handleGenerateParallelTest(_0x2b4d46=null){const _0x53ae02=_0x2f78fc;let _0x183b2d=_0x2b4d46;if(!_0x183b2d){const _0x33654b=document[_0x53ae02(0x288)](_0x53ae02(0xbde));_0x33654b[_0x53ae02(0x7c9)][_0x53ae02(0x649)]>0x0&&(_0x183b2d=_0x33654b[_0x53ae02(0x7c9)][0x0]);}if(!_0x183b2d){showMessage(_0x53ae02(0x8b4));return;}const _0x2e7db9=document[_0x53ae02(0x288)](_0x53ae02(0x308)),_0x436ed7=document['getElementById']('loader-text'),_0x291619=document[_0x53ae02(0x288)](_0x53ae02(0x92c)),_0x55b516=document[_0x53ae02(0x288)](_0x53ae02(0x918));_0x55b516['disabled']=!![],document[_0x53ae02(0x288)]('quiz-generation-area')[_0x53ae02(0xa39)][_0x53ae02(0xc4b)](_0x53ae02(0x4c5)),_0x291619[_0x53ae02(0x5f0)]='',_0x2e7db9[_0x53ae02(0xa39)]['remove'](_0x53ae02(0x4c5)),_0x436ed7[_0x53ae02(0xb10)]=_0x53ae02(0xcc6);const _0x5bbeed=new FileReader();_0x5bbeed[_0x53ae02(0xca6)](_0x183b2d),_0x5bbeed[_0x53ae02(0x29e)]=async()=>{const _0x4b7ab5=_0x53ae02;try{const _0x11196d=_0x5bbeed[_0x4b7ab5(0xc80)][_0x4b7ab5(0x39e)](',')[0x1],_0x3fd2ab=_0x183b2d['type'];_0x436ed7[_0x4b7ab5(0xb10)]=_0x4b7ab5(0xcf5);const _0x461025=document[_0x4b7ab5(0x288)]('include-images-checkbox')[_0x4b7ab5(0xbe3)],_0x27730a=_0x461025?_0x4b7ab5(0x2d7):'',_0x53651c=_0x4b7ab5(0xa0a),_0x352a8c={'type':_0x4b7ab5(0x91b),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4b7ab5(0x395),'enum':[_0x4b7ab5(0x318),_0x4b7ab5(0x59a)]},'options':{'type':_0x4b7ab5(0xb29),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4b7ab5(0x50d)},'idealAnswer':{'type':_0x4b7ab5(0x395)},'explanation':{'type':_0x4b7ab5(0x395)},'imageCode':{'type':_0x4b7ab5(0x395)}},'required':[_0x4b7ab5(0x9fb),_0x4b7ab5(0x8a4),_0x4b7ab5(0xa10)]},_0x309ad8={'type':'OBJECT','properties':{'topic':{'type':_0x4b7ab5(0x395)},'questions':{'type':'ARRAY','items':_0x352a8c}},'required':['topic',_0x4b7ab5(0xc81)]},_0x1071a0=[{'text':_0x53651c},{'inlineData':{'mimeType':_0x3fd2ab,'data':_0x11196d}}];await handleApiCall(_0x1071a0,_0x4b7ab5(0x9d1),_0x309ad8);}catch(_0x2eb58a){console[_0x4b7ab5(0x40f)](_0x4b7ab5(0xcff),_0x2eb58a),showMessage(_0x4b7ab5(0xac4)+_0x2eb58a['message']),_0x291619[_0x4b7ab5(0x5f0)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x2e7db9[_0x4b7ab5(0xa39)][_0x4b7ab5(0x5c0)](_0x4b7ab5(0x4c5)),_0x55b516[_0x4b7ab5(0x9e8)]=![];}},_0x5bbeed[_0x53ae02(0xa1b)]=_0xba04a8=>{const _0xd94663=_0x53ae02;console[_0xd94663(0x40f)](_0xd94663(0x3ce),_0xba04a8),showMessage(_0xd94663(0x8be)),_0x2e7db9['classList']['add'](_0xd94663(0x4c5)),_0x55b516['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x4a9326){const _0x22b2ff=_0x2f78fc;if(currentEditingQuizData===null)return;const _0x533863=document[_0x22b2ff(0x2ee)](_0x22b2ff(0xbc3)+_0x4a9326+'\x22]');_0x533863&&(_0x533863[_0x22b2ff(0x5f0)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x3f7511=currentEditingQuizData[_0x22b2ff(0xc81)][_0x4a9326],_0x11ff5f=currentEditingQuizData['topic'],_0x33430a=_0x3f7511['questionType'],_0x273bda={'type':_0x22b2ff(0x91b),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x22b2ff(0x50d)},'explanation':{'type':_0x22b2ff(0x395)}},'required':[_0x22b2ff(0x9fb),_0x22b2ff(0x67e),_0x22b2ff(0x90b),'explanation']},_0x43478e={'type':_0x22b2ff(0x91b),'properties':{'questionText':{'type':_0x22b2ff(0x395)},'idealAnswer':{'type':_0x22b2ff(0x395)},'explanation':{'type':'STRING'}},'required':[_0x22b2ff(0x9fb),_0x22b2ff(0x558),_0x22b2ff(0xa10)]};let _0x4d80c8,_0x4a8da6='';_0x33430a===_0x22b2ff(0x318)?(_0x4d80c8=_0x273bda,_0x4a8da6=_0x22b2ff(0x215)):(_0x4d80c8=_0x43478e,_0x4a8da6=_0x22b2ff(0x68b));const _0x3fc20e='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x11ff5f+_0x22b2ff(0x29d)+_0x4a8da6+_0x22b2ff(0x7d5)+(_0x3f7511[_0x22b2ff(0x9fb)]||_0x3f7511[_0x22b2ff(0x34d)])+_0x22b2ff(0xcae)+simpleMathPrompt;try{const _0x170bbf=await callAnalysisApi(_0x3fc20e,_0x4d80c8);currentEditingQuizData[_0x22b2ff(0xc81)][_0x4a9326]={..._0x3f7511,..._0x170bbf},renderQuizEditor(currentEditingQuizData);}catch(_0x2f92bf){console['error'](_0x22b2ff(0x94a),_0x2f92bf),showMessage(_0x22b2ff(0x94e)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x48d71f=_0x2f78fc,_0x4224ff=document['getElementById'](_0x48d71f(0x2c2));currentMode===_0x48d71f(0x390)?(currentMode='admin',_0x4224ff[_0x48d71f(0x5f0)]=_0x48d71f(0x1f7),_0x4224ff[_0x48d71f(0x448)]=_0x48d71f(0x248),showView('admin-dashboard')):(currentMode='student',_0x4224ff[_0x48d71f(0x5f0)]=_0x48d71f(0x512),_0x4224ff[_0x48d71f(0x448)]=_0x48d71f(0x4b8),showView('student'));}function handleAdminLogin(){const _0x8062d8=_0x2f78fc,_0x5ace31=document[_0x8062d8(0x288)](_0x8062d8(0xa7c)),_0x48a6e3=document[_0x8062d8(0x288)](_0x8062d8(0xc7e));if(_0x5ace31[_0x8062d8(0x63b)]===_0x8062d8(0x266)){adminPasswordModal[_0x8062d8(0xa39)][_0x8062d8(0x5c0)]('hidden'),_0x5ace31['value']='',_0x48a6e3[_0x8062d8(0xa39)][_0x8062d8(0x5c0)](_0x8062d8(0x4c5)),currentMode='admin';const _0x2d159a=document[_0x8062d8(0x288)](_0x8062d8(0x2c2));_0x2d159a['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x2d159a[_0x8062d8(0x448)]=_0x8062d8(0x248),showView(_0x8062d8(0x6a2));}else _0x48a6e3['classList'][_0x8062d8(0xc4b)](_0x8062d8(0x4c5)),_0x5ace31[_0x8062d8(0x63b)]='';}function switchProjectTab(_0x4c6cba){const _0x3789be=_0x2f78fc;[_0x3789be(0x965),'results','leaderboard']['forEach'](_0x21d713=>{const _0xb82882=_0x3789be;document['getElementById'](_0x21d713+_0xb82882(0x6e7))['classList'][_0xb82882(0xc4b)](_0xb82882(0xadb)),document['getElementById'](_0x21d713+_0xb82882(0xc90))[_0xb82882(0xa39)][_0xb82882(0x5c0)](_0xb82882(0x4c5));}),document['getElementById'](_0x4c6cba+_0x3789be(0x6e7))['classList'][_0x3789be(0x5c0)]('active'),document[_0x3789be(0x288)](_0x4c6cba+'-tab-content')[_0x3789be(0xa39)][_0x3789be(0xc4b)](_0x3789be(0x4c5));}function switchQuizDetailTab(_0x5699ae){const _0x370b1b=_0x2f78fc,_0x143649={'analytics':{'btn':_0x370b1b(0x587),'content':_0x370b1b(0xa0b)},'scores':{'btn':_0x370b1b(0x8c4),'content':_0x370b1b(0x698)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x370b1b(0xba2)},'behavior-log':{'btn':_0x370b1b(0x8a0),'content':'behavior-log-tab-content'}};for(const _0x35a638 in _0x143649){document[_0x370b1b(0x288)](_0x143649[_0x35a638][_0x370b1b(0x4e7)])[_0x370b1b(0xa39)][_0x370b1b(0xc4b)](_0x370b1b(0xadb)),document['getElementById'](_0x143649[_0x35a638][_0x370b1b(0x42a)])[_0x370b1b(0xa39)][_0x370b1b(0x5c0)](_0x370b1b(0x4c5));}document[_0x370b1b(0x288)](_0x143649[_0x5699ae][_0x370b1b(0x4e7)])[_0x370b1b(0xa39)][_0x370b1b(0x5c0)](_0x370b1b(0xadb)),document[_0x370b1b(0x288)](_0x143649[_0x5699ae]['content'])['classList'][_0x370b1b(0xc4b)]('hidden');}function showMessage(_0x534a83,_0x34d0b8=null){const _0x32e2b6=_0x2f78fc;modalMessage['textContent']=_0x534a83,modalConfirmAction=_0x34d0b8,messageModal[_0x32e2b6(0xa39)]['remove'](_0x32e2b6(0x4c5));}function showConfirmation(_0x4e98e7,_0x3d831c){const _0x5a0a13=_0x2f78fc;document['getElementById']('confirmation-message')['textContent']=_0x4e98e7,document[_0x5a0a13(0x288)]('confirmation-modal')['querySelector']('h3')['textContent']=_0x5a0a13(0x7e9),confirmAction=_0x3d831c,confirmationModal['classList'][_0x5a0a13(0xc4b)](_0x5a0a13(0x4c5));}function listenForProjects(){const _0xbe371f=_0x2f78fc,_0x493575=doc(db,_0xbe371f(0x34f),_0xbe371f(0xa17));onSnapshot(_0x493575,_0x352aad=>{const _0x50b8e4=_0xbe371f;if(_0x352aad[_0x50b8e4(0x5e4)]()){const _0x73f323=_0x352aad['data']();globalDashboardSettings['projectSort']=_0x73f323[_0x50b8e4(0x6ce)]||_0x50b8e4(0xc48),globalDashboardSettings[_0x50b8e4(0x235)]=_0x73f323[_0x50b8e4(0x235)]||[],globalDashboardSettings[_0x50b8e4(0x9f4)]=_0x73f323[_0x50b8e4(0x9f4)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x132e40=collection(db,_0xbe371f(0x309)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x132e40,_0x5158d1=>{const _0x35f2c9=_0xbe371f;allProjects=_0x5158d1[_0x35f2c9(0x2ea)][_0x35f2c9(0x598)](_0x3de24c=>({'id':_0x3de24c['id'],..._0x3de24c['data']()})),renderProjects();},_0x6f6b58=>{const _0x35e178=_0xbe371f;console[_0x35e178(0x40f)](_0x35e178(0x793),_0x6f6b58),showMessage(_0x35e178(0x9c3));});}function showColorPalette(_0x37d30e,_0x12fff1){const _0x5b2a25=_0x2f78fc;document[_0x5b2a25(0x3db)](_0x5b2a25(0x58c))['forEach'](_0x57a940=>_0x57a940[_0x5b2a25(0xc4b)]());const _0x4353b0=[_0x5b2a25(0x396),_0x5b2a25(0x68d),_0x5b2a25(0xa08),_0x5b2a25(0x95a),_0x5b2a25(0x8b3),'#E0E7FF',_0x5b2a25(0x240),'#FCE7F3',_0x5b2a25(0x55d)],_0x120802=document[_0x5b2a25(0xb75)]('div');_0x120802[_0x5b2a25(0xcdf)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x4353b0['forEach'](_0x13ca3c=>{const _0x1264ab=_0x5b2a25,_0x1b6cff=document[_0x1264ab(0xb75)](_0x1264ab(0x49e));_0x1b6cff[_0x1264ab(0xcdf)]=_0x1264ab(0xcb6),_0x1b6cff[_0x1264ab(0x4e4)][_0x1264ab(0xabe)]=_0x13ca3c,_0x1b6cff['addEventListener'](_0x1264ab(0x8d9),()=>{const _0x52110f=_0x1264ab;handleProjectColorChange(_0x12fff1,_0x13ca3c),_0x120802[_0x52110f(0xc4b)]();}),_0x120802['appendChild'](_0x1b6cff);}),document[_0x5b2a25(0xad4)]['appendChild'](_0x120802);const _0x262002=_0x37d30e['getBoundingClientRect']();_0x120802[_0x5b2a25(0x4e4)][_0x5b2a25(0xb25)]=_0x262002[_0x5b2a25(0x689)]+window['scrollY']+'px',_0x120802['style'][_0x5b2a25(0xc3c)]=_0x262002['left']+window['scrollX']-_0x120802['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x34e277,_0x1f8e8f){const _0x3ba3ea=_0x2f78fc,_0x27e15d=doc(db,_0x3ba3ea(0x309)+appId+'/public/data/projects',_0x34e277);try{await updateDoc(_0x27e15d,{'color':_0x1f8e8f});}catch(_0x405ebd){console['error']('Error\x20updating\x20project\x20color:',_0x405ebd),showMessage(_0x3ba3ea(0x842));}}async function renderProjects(){const _0x1fb7c3=_0x2f78fc,_0x46b5b8=globalDashboardSettings[_0x1fb7c3(0x6ce)]||'date_desc',_0x3aed2f=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x359b23=globalDashboardSettings['projectView']||_0x1fb7c3(0x7cc),_0x3b1b03=document[_0x1fb7c3(0x288)](_0x1fb7c3(0x975)),_0x464a6e=document[_0x1fb7c3(0x288)](_0x1fb7c3(0x1c6));_0x3b1b03['classList'][_0x1fb7c3(0xc5b)]('active',_0x359b23===_0x1fb7c3(0x7cc)),_0x464a6e[_0x1fb7c3(0xa39)][_0x1fb7c3(0xc5b)](_0x1fb7c3(0xadb),_0x359b23===_0x1fb7c3(0x818)),document[_0x1fb7c3(0x288)]('project-sort-select')[_0x1fb7c3(0x63b)]=_0x46b5b8;const _0x2e4081=document['getElementById'](_0x1fb7c3(0x670))['value'][_0x1fb7c3(0x1f2)]();let _0x46845f=allProjects[_0x1fb7c3(0x3e1)](_0x3b9cde=>_0x3b9cde['projectName'][_0x1fb7c3(0x1f2)]()[_0x1fb7c3(0x96b)](_0x2e4081));const _0x337423=_0x46845f[_0x1fb7c3(0x3e1)](_0x3e5f19=>_0x3aed2f[_0x1fb7c3(0x909)](_0x3e5f19['id'])),_0x471de4=_0x46845f[_0x1fb7c3(0x3e1)](_0x492f0b=>!_0x3aed2f['has'](_0x492f0b['id'])),_0x32fe3c=(_0x170440,_0x423a07)=>{const _0x42371d=_0x1fb7c3;switch(_0x46b5b8){case _0x42371d(0xb45):return _0x170440[_0x42371d(0xc51)][_0x42371d(0xc26)](_0x423a07[_0x42371d(0xc51)],'th');case'name_desc':return _0x423a07[_0x42371d(0xc51)][_0x42371d(0xc26)](_0x170440[_0x42371d(0xc51)],'th');case _0x42371d(0xa24):return new Date(_0x170440[_0x42371d(0x6e3)])-new Date(_0x423a07[_0x42371d(0x6e3)]);default:return new Date(_0x423a07['createdAt'])-new Date(_0x170440[_0x42371d(0x6e3)]);}};_0x337423[_0x1fb7c3(0x310)](_0x32fe3c),_0x471de4[_0x1fb7c3(0x310)](_0x32fe3c);const _0x153601=[..._0x337423,..._0x471de4],_0x54e33c=globalDashboardSettings[_0x1fb7c3(0x9f4)]||[];_0x54e33c[_0x1fb7c3(0x649)]>0x0&&_0x359b23===_0x1fb7c3(0x7cc)&&_0x153601[_0x1fb7c3(0x310)]((_0x2fda0a,_0x3e382b)=>{const _0x8d315b=_0x1fb7c3,_0x3eee31=_0x54e33c[_0x8d315b(0x72f)](_0x2fda0a['id']),_0x34031b=_0x54e33c[_0x8d315b(0x72f)](_0x3e382b['id']);if(_0x3eee31===-0x1)return 0x1;if(_0x34031b===-0x1)return-0x1;return _0x3eee31-_0x34031b;});const _0x56237f={};await Promise['all'](_0x153601['map'](async _0xa83925=>{const _0x2f7bd4=_0x1fb7c3,_0x23dff9=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where(_0x2f7bd4(0x93e),'==',_0xa83925['id'])),_0x33c272=await getDocs(_0x23dff9);_0x56237f[_0xa83925['id']]=_0x33c272['size'];}));const _0xe1d919=document[_0x1fb7c3(0x288)](_0x1fb7c3(0x8dc));let _0x333577='';if(_0x359b23==='grid'){_0xe1d919[_0x1fb7c3(0xcdf)]=_0x1fb7c3(0xbab);if(starredQuizzes[_0x1fb7c3(0x649)]>0x0&&_0x2e4081===''){const _0xe38db1=starredQuizzes[_0x1fb7c3(0x598)](_0x537a66=>{const _0x527c27=_0x1fb7c3,_0x17fdc6=allProjects[_0x527c27(0x533)](_0x20d8c7=>_0x20d8c7['id']===_0x537a66['projectId']);return{..._0x537a66,'projectName':_0x17fdc6?_0x17fdc6['projectName']:_0x527c27(0x86a)};});_0x333577+=_0x1fb7c3(0x837)+_0xe38db1[_0x1fb7c3(0x598)](_0x47aded=>_0x1fb7c3(0x72c)+_0x47aded[_0x1fb7c3(0x32c)]+'\x22>'+_0x47aded[_0x1fb7c3(0x32c)]+_0x1fb7c3(0x45e)+_0x47aded['projectName']+_0x1fb7c3(0xbff)+_0x47aded[_0x1fb7c3(0xc51)]+_0x1fb7c3(0x832))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x1fb7c3(0x649)]+_0x1fb7c3(0x736);}_0x153601[_0x1fb7c3(0x220)](_0x372b63=>{const _0x1bad14=_0x1fb7c3,_0x319fe7=_0x56237f[_0x372b63['id']]??0x0,_0x174590=_0x3aed2f['has'](_0x372b63['id']),_0x3a4972=_0x372b63[_0x1bad14(0xa4e)]||_0x1bad14(0x396),_0x438b02=parseInt(_0x3a4972[_0x1bad14(0x3aa)](0x1,0x3),0x10)*0.299+parseInt(_0x3a4972['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x3a4972[_0x1bad14(0x3aa)](0x5,0x7),0x10)*0.114<0xba,_0x53e861=_0x438b02?_0x1bad14(0x2b2):_0x1bad14(0x20d),_0x570735=_0x438b02?_0x1bad14(0x5e9):'text-gray-500';_0x333577+=_0x1bad14(0x808)+(_0x174590?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x1bad14(0x40d))+_0x1bad14(0x37f)+_0x3a4972+_0x1bad14(0x9db)+_0x372b63['id']+_0x1bad14(0x30b)+_0x372b63['id']+_0x1bad14(0x62f)+(_0x438b02?_0x1bad14(0xb0c):_0x1bad14(0xb9c))+_0x1bad14(0xaeb)+_0x372b63['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x438b02?_0x1bad14(0xb0c):_0x1bad14(0xb9c))+_0x1bad14(0xb6e)+(_0x174590?_0x438b02?_0x1bad14(0x852):_0x1bad14(0x93f):'')+_0x1bad14(0x91a)+_0x372b63['id']+_0x1bad14(0x4bd)+_0x53e861+_0x1bad14(0xc79)+_0x372b63[_0x1bad14(0xc51)]+_0x1bad14(0x24a)+_0x570735+_0x1bad14(0xa57)+new Date(_0x372b63[_0x1bad14(0x6e3)])['toLocaleDateString']('th-TH')+_0x1bad14(0x456)+(_0x438b02?_0x1bad14(0x864):_0x1bad14(0xbd8))+_0x1bad14(0x575)+_0x319fe7+_0x1bad14(0x85e)+_0x372b63['id']+_0x1bad14(0x375)+_0x372b63[_0x1bad14(0xc51)]+_0x1bad14(0x494)+(_0x438b02?'text-red-300\x20hover:text-red-100':_0x1bad14(0x4c8))+_0x1bad14(0x7b4);});}else _0xe1d919[_0x1fb7c3(0xcdf)]=_0x1fb7c3(0xc67),starredQuizzes['length']>0x0&&_0x2e4081===''&&(_0x333577+=_0x1fb7c3(0x99d)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x333577+=_0x1fb7c3(0x2d6),_0x153601[_0x1fb7c3(0x220)](_0x22daf0=>{const _0x582668=_0x1fb7c3,_0xb8c7f3=_0x56237f[_0x22daf0['id']]??0x0,_0x284ee2=_0x3aed2f[_0x582668(0x909)](_0x22daf0['id']);_0x333577+=_0x582668(0x3ca)+(_0x22daf0[_0x582668(0xa4e)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x22daf0['id']+_0x582668(0x82f)+_0x22daf0[_0x582668(0xc51)]+_0x582668(0x88e)+_0xb8c7f3+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x22daf0[_0x582668(0x6e3)])[_0x582668(0x92b)]('th-TH')+_0x582668(0x7c8)+_0x22daf0['id']+_0x582668(0x9d8)+(_0x284ee2?'text-indigo-600':'')+_0x582668(0xbfa)+_0x22daf0['id']+'\x22\x20data-name=\x22'+_0x22daf0[_0x582668(0xc51)]+_0x582668(0x2f7);});projectList[_0x1fb7c3(0x5f0)]=_0x333577,noProjectsMsg[_0x1fb7c3(0xa39)]['toggle'](_0x1fb7c3(0x4c5),_0x333577[_0x1fb7c3(0x649)]>0x0);}document['getElementById'](_0x2f78fc(0x92a))[_0x2f78fc(0x5b2)]('click',async()=>{const _0xa18dc3=_0x2f78fc,_0x21d6f4=document[_0xa18dc3(0x288)]('project-name-input'),_0x1d9871=_0x21d6f4[_0xa18dc3(0x63b)][_0xa18dc3(0x8e1)]();if(!_0x1d9871){showMessage(_0xa18dc3(0x951));return;}try{const _0x3cfa21=doc(collection(db,'artifacts/'+appId+'/public/data/projects'));await setDoc(_0x3cfa21,{'projectName':_0x1d9871,'students':[],'settings':{'resultsDisplay':_0xa18dc3(0xc4e),'shuffleSetting':_0xa18dc3(0x2fa),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0xa18dc3(0x2fa),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0xa18dc3(0x75b)]()}),_0x21d6f4['value']='',createProjectModal[_0xa18dc3(0xa39)]['add'](_0xa18dc3(0x4c5)),showMessage(_0xa18dc3(0x1c4));}catch(_0x354c93){console[_0xa18dc3(0x40f)](_0xa18dc3(0x25e),_0x354c93),showMessage(_0xa18dc3(0x3c6));}}),projectList[_0x2f78fc(0x5b2)](_0x2f78fc(0x8d9),async _0x34dc5a=>{const _0x3c56d5=_0x2f78fc,_0x1a737d=_0x34dc5a[_0x3c56d5(0x328)][_0x3c56d5(0x6d3)](_0x3c56d5(0x249)),_0x487ab5=_0x34dc5a[_0x3c56d5(0x328)]['closest']('.delete-project-btn'),_0x41eafc=_0x34dc5a[_0x3c56d5(0x328)][_0x3c56d5(0x6d3)](_0x3c56d5(0x8ef)),_0x383194=_0x34dc5a[_0x3c56d5(0x328)][_0x3c56d5(0x6d3)](_0x3c56d5(0x603));if(_0x41eafc){const _0x230edf=_0x41eafc[_0x3c56d5(0xa66)]['id'],_0x581877=doc(db,'globalSettings',_0x3c56d5(0xa17)),_0x240919=globalDashboardSettings[_0x3c56d5(0x235)];let _0x32fe58;_0x240919[_0x3c56d5(0x96b)](_0x230edf)?_0x32fe58=_0x240919[_0x3c56d5(0x3e1)](_0x153afd=>_0x153afd!==_0x230edf):_0x32fe58=[..._0x240919,_0x230edf];try{await setDoc(_0x581877,{'pinnedProjects':_0x32fe58},{'merge':!![]});}catch(_0x1f4455){console['error']('Error\x20updating\x20pin\x20status:',_0x1f4455),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x383194){const _0x4966a7=_0x383194[_0x3c56d5(0xa66)]['id'];showColorPalette(_0x383194,_0x4966a7);}else{if(_0x1a737d){const _0x236425=_0x1a737d[_0x3c56d5(0xa66)]['id'];_0x236425===_0x3c56d5(0x34a)?showStarredProjectView():(currentProjectId=_0x236425,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x487ab5){const _0x2ca44f=_0x487ab5['dataset']['id'],_0xddf6fc=_0x487ab5['dataset'][_0x3c56d5(0xb54)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0xddf6fc+_0x3c56d5(0x656),()=>handleDeleteProject(_0x2ca44f));}}}}}),projectList['addEventListener'](_0x2f78fc(0x7d4),_0x19484b=>{const _0x2c03e4=_0x2f78fc,_0x2a53e7=_0x19484b['target'][_0x2c03e4(0x6d3)]('.project-card-container');_0x2a53e7&&_0x2a53e7[_0x2c03e4(0xa39)][_0x2c03e4(0x5c0)](_0x2c03e4(0x817));}),projectList[_0x2f78fc(0x5b2)](_0x2f78fc(0x368),_0x24e81d=>{const _0x54bc73=_0x2f78fc,_0x4f6dad=_0x24e81d[_0x54bc73(0x328)][_0x54bc73(0x6d3)](_0x54bc73(0xb37));_0x4f6dad&&_0x4f6dad[_0x54bc73(0xa39)][_0x54bc73(0xc4b)](_0x54bc73(0x817));}),projectList[_0x2f78fc(0x5b2)](_0x2f78fc(0xc9e),_0x2cd825=>{const _0x3d8443=_0x2f78fc;_0x2cd825[_0x3d8443(0xc57)]();const _0x51b450=document[_0x3d8443(0x2ee)]('.project-card-container.opacity-50');if(!_0x51b450)return;const _0x3f85a6=getDragAfterElement(projectList,_0x2cd825[_0x3d8443(0x1af)]);_0x3f85a6==null?projectList['appendChild'](_0x51b450):projectList[_0x3d8443(0x1f3)](_0x51b450,_0x3f85a6);}),projectList['addEventListener'](_0x2f78fc(0xaed),_0x2d4a59=>{const _0x4fa640=_0x2f78fc;_0x2d4a59[_0x4fa640(0xc57)]();const _0x1ac498=[...projectList[_0x4fa640(0x3db)]('.project-card-container[data-id]')]['map'](_0x4603dd=>_0x4603dd[_0x4fa640(0xa66)]['id']);saveProjectOrder(_0x1ac498);});function renderBehaviorLog(_0x5e9fb0){const _0x20f301=_0x2f78fc,_0x1a4783=document['getElementById'](_0x20f301(0x8f9));if(!_0x1a4783)return;const _0x736e65=_0x5e9fb0['filter'](_0x14de1f=>_0x14de1f[_0x20f301(0x968)]&&_0x14de1f[_0x20f301(0x968)][_0x20f301(0x649)]>0x0);if(_0x736e65[_0x20f301(0x649)]===0x0){_0x1a4783[_0x20f301(0x5f0)]=_0x20f301(0xc1a);return;}let _0x713f06='';_0x736e65[_0x20f301(0x220)](_0x4f2130=>{const _0x44203d=_0x20f301;_0x713f06+=_0x44203d(0x367)+_0x4f2130[_0x44203d(0xc3d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4f2130[_0x44203d(0x968)][_0x44203d(0x310)]((_0x17373c,_0x580375)=>new Date(_0x580375[_0x44203d(0x374)])-new Date(_0x17373c[_0x44203d(0x374)]))['forEach'](_0xaca91d=>{const _0x595937=_0x44203d,_0x3df2b2=new Date(_0xaca91d[_0x595937(0x374)])[_0x595937(0x92b)](_0x595937(0xa71),{'dateStyle':_0x595937(0x68a),'timeStyle':'medium'});_0x713f06+=_0x595937(0x716)+_0xaca91d[_0x595937(0x40a)]+_0x595937(0xc1d)+_0x3df2b2+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x713f06+=_0x44203d(0x8ff);}),_0x1a4783[_0x20f301(0x5f0)]=_0x713f06;}function getDragAfterElement(_0x38dea7,_0x2303a3){const _0x3d70a1=_0x2f78fc,_0x5cbf5c=[..._0x38dea7[_0x3d70a1(0x3db)](_0x3d70a1(0x75c))];return _0x5cbf5c['reduce']((_0x9778fe,_0x3e1edb)=>{const _0x1cdb15=_0x3d70a1,_0x2acb33=_0x3e1edb[_0x1cdb15(0x784)](),_0x1061c9=_0x2303a3-_0x2acb33[_0x1cdb15(0xb25)]-_0x2acb33[_0x1cdb15(0x767)]/0x2;return _0x1061c9<0x0&&_0x1061c9>_0x9778fe[_0x1cdb15(0x6cc)]?{'offset':_0x1061c9,'element':_0x3e1edb}:_0x9778fe;},{'offset':Number[_0x3d70a1(0x600)]})[_0x3d70a1(0x35b)];}async function saveProjectOrder(_0x243762){const _0x51427e=_0x2f78fc,_0x81cd22=doc(db,_0x51427e(0x34f),'dashboardConfig');try{await setDoc(_0x81cd22,{'projectOrder':_0x243762},{'merge':!![]});}catch(_0x5299a7){console[_0x51427e(0x40f)](_0x51427e(0x7b3),_0x5299a7),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x4e8533,_0x16c7cd={}){const _0x5fa4bd=_0x2f78fc;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x31535d=doc(db,_0x5fa4bd(0x309)+appId+_0x5fa4bd(0x86b)+currentQuizData['id']+_0x5fa4bd(0x74a),currentStudentName),_0x4a094d={'event':_0x4e8533,'timestamp':new Date()[_0x5fa4bd(0x75b)](),..._0x16c7cd};try{await updateDoc(_0x31535d,{'behaviorLog':arrayUnion(_0x4a094d)}),console[_0x5fa4bd(0x516)](_0x5fa4bd(0x6d5)+currentStudentName+_0x5fa4bd(0xb78));}catch(_0x43a99e){_0x43a99e[_0x5fa4bd(0xa9f)]==='not-found'?console['warn'](_0x5fa4bd(0xb4a)+currentStudentName+_0x5fa4bd(0xaad)):console['error'](_0x5fa4bd(0xacb),_0x43a99e);}}function calculateMeanAndStdDev(_0xc67db5){const _0x41cfd9=_0x2f78fc;if(_0xc67db5[_0x41cfd9(0x649)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x252356=_0xc67db5['reduce']((_0x5b49f3,_0x32f436)=>_0x5b49f3+_0x32f436,0x0)/_0xc67db5[_0x41cfd9(0x649)];if(_0xc67db5[_0x41cfd9(0x649)]===0x1)return{'mean':_0x252356,'stdDev':0x0};const _0x54bc9d=Math[_0x41cfd9(0x5d6)](_0xc67db5[_0x41cfd9(0x598)](_0xc1ca80=>Math[_0x41cfd9(0x210)](_0xc1ca80-_0x252356,0x2))[_0x41cfd9(0x441)]((_0x20a45b,_0x25d6ed)=>_0x20a45b+_0x25d6ed,0x0)/(_0xc67db5[_0x41cfd9(0x649)]-0x1));return{'mean':_0x252356,'stdDev':_0x54bc9d};}function calculateZScore(_0x536d73,_0x6726dc,_0x30e87d){if(_0x30e87d===0x0)return 0x0;return(_0x536d73-_0x6726dc)/_0x30e87d;}function calculateTScore(_0x536bed){return 0xa*_0x536bed+0x32;}function showStarredProjectView(){const _0x4de30a=_0x2f78fc;currentProjectId=_0x4de30a(0xc17),currentProjectData=null,projectTitle[_0x4de30a(0xb10)]=_0x4de30a(0x20b),projectIdDisplay[_0x4de30a(0xb10)]=_0x4de30a(0xcd6),showView(_0x4de30a(0xbc6)),manageTab[_0x4de30a(0xa39)][_0x4de30a(0x5c0)]('hidden'),leaderboardTab[_0x4de30a(0xa39)]['add'](_0x4de30a(0x4c5)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x1275c4){const _0x41a3df=_0x2f78fc,_0x5a265c=doc(db,_0x41a3df(0x309)+appId+_0x41a3df(0x498),_0x1275c4),_0x199412=await getDoc(_0x5a265c);if(_0x199412['exists']()){manageTab[_0x41a3df(0xa39)][_0x41a3df(0xc4b)](_0x41a3df(0x4c5)),leaderboardTab['classList'][_0x41a3df(0xc4b)](_0x41a3df(0x4c5)),currentProjectData=_0x199412['data'](),projectTitle[_0x41a3df(0xb10)]=currentProjectData[_0x41a3df(0xc51)],projectIdDisplay[_0x41a3df(0xb10)]=_0x1275c4;const _0x1a4830=currentProjectData['settings']||{};document['getElementById']('shuffle-setting-select')[_0x41a3df(0x63b)]=_0x1a4830['shuffleSetting']||_0x41a3df(0x2fa);const _0x6b0ee8=document[_0x41a3df(0x288)](_0x41a3df(0xaea));_0x6b0ee8[_0x41a3df(0xbe3)]=_0x1a4830[_0x41a3df(0x570)]!==![];const _0x3e9b65=document[_0x41a3df(0x288)](_0x41a3df(0x5e1)),_0x4a1a31=document[_0x41a3df(0x288)](_0x41a3df(0x89a)),_0x4ad209=document['getElementById'](_0x41a3df(0x466)),_0x411d00=_0x1a4830[_0x41a3df(0xa6a)]||![];_0x3e9b65['checked']=_0x411d00,_0x4ad209[_0x41a3df(0x63b)]=_0x1a4830[_0x41a3df(0xbfb)]||'',_0x4a1a31['classList']['toggle']('hidden',!_0x411d00),_0x3e9b65[_0x41a3df(0x4e9)]=()=>{const _0x420b74=_0x41a3df;_0x4a1a31[_0x420b74(0xa39)][_0x420b74(0xc5b)](_0x420b74(0x4c5),!_0x3e9b65[_0x420b74(0xbe3)]);},document[_0x41a3df(0x288)](_0x41a3df(0x9f9))[_0x41a3df(0xbe3)]=_0x1a4830[_0x41a3df(0x285)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1275c4),listenForProjectQuizzes(_0x1275c4),listenForStudentProfiles(_0x1275c4);}else showMessage(_0x41a3df(0x4fe)),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x2230cb=_0x2f78fc,_0x2f1340=doc(db,_0x2230cb(0x34f),'dashboardConfig');try{await setDoc(_0x2f1340,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x2230cb(0x70e));}catch(_0x531173){console[_0x2230cb(0x40f)](_0x2230cb(0xc41),_0x531173),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x3300f1){const _0x44004a=_0x2f78fc;if(!_0x3300f1)return;const _0x257d43=doc(db,_0x44004a(0x309)+appId+_0x44004a(0x498),_0x3300f1);try{const _0x26cf55=await getDoc(_0x257d43);if(_0x26cf55[_0x44004a(0x5e4)]()){const _0x414444=_0x26cf55[_0x44004a(0xc89)]()['isPinned']||![];await updateDoc(_0x257d43,{'isPinned':!_0x414444});}}catch(_0x49a884){console['error']('Error\x20toggling\x20pin\x20status:',_0x49a884),showMessage(_0x44004a(0x9b2));}}async function handleDeleteProject(_0x3ad307){const _0x5a24ff=_0x2f78fc;try{const _0x2d81f7=writeBatch(db),_0x4da3f6=collection(db,_0x5a24ff(0x309)+appId+_0x5a24ff(0x480)),_0x2c65da=query(_0x4da3f6,where(_0x5a24ff(0x93e),'==',_0x3ad307)),_0x3b2410=await getDocs(_0x2c65da);for(const _0x4ddacd of _0x3b2410[_0x5a24ff(0x2ea)]){const _0xe639a5=collection(db,_0x5a24ff(0x309)+appId+'/public/data/quizzes/'+_0x4ddacd['id']+_0x5a24ff(0x74a)),_0x2c1361=await getDocs(_0xe639a5);_0x2c1361['forEach'](_0x15bf18=>{const _0x44ba1b=_0x5a24ff;_0x2d81f7[_0x44ba1b(0xcdd)](_0x15bf18[_0x44ba1b(0xb19)]);}),_0x2d81f7[_0x5a24ff(0xcdd)](_0x4ddacd[_0x5a24ff(0xb19)]);}const _0x4805c3=collection(db,'artifacts/'+appId+_0x5a24ff(0x4a0)+_0x3ad307+_0x5a24ff(0x277)),_0x5024d6=await getDocs(_0x4805c3);_0x5024d6['forEach'](_0x17d8fa=>{const _0xaa70d9=_0x5a24ff;_0x2d81f7['delete'](_0x17d8fa[_0xaa70d9(0xb19)]);});const _0x23adf4=doc(db,_0x5a24ff(0x309)+appId+_0x5a24ff(0x498),_0x3ad307);_0x2d81f7['delete'](_0x23adf4),await _0x2d81f7['commit'](),showMessage(_0x5a24ff(0xbbc)),showView(_0x5a24ff(0x6a2));}catch(_0x32f48c){console[_0x5a24ff(0x40f)](_0x5a24ff(0xcea),_0x32f48c),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x2f78fc(0x288)](_0x2f78fc(0x7e8))[_0x2f78fc(0x5b2)](_0x2f78fc(0x8d9),async()=>{const _0x3f1f81=_0x2f78fc;if(!currentProjectId)return;const _0x409448={'defaultNumQuestions':parseInt(document['getElementById'](_0x3f1f81(0x37d))[_0x3f1f81(0x63b)]),'defaultNumChoices':parseInt(document[_0x3f1f81(0x288)](_0x3f1f81(0x9fd))['value']),'defaultPassingScore':parseInt(document[_0x3f1f81(0x288)]('passing-score-input')[_0x3f1f81(0x63b)]),'resultsDisplay':document[_0x3f1f81(0x288)]('results-display-select')[_0x3f1f81(0x63b)],'shuffleSetting':document[_0x3f1f81(0x288)]('shuffle-setting-select')[_0x3f1f81(0x63b)],'timerMode':document[_0x3f1f81(0x288)](_0x3f1f81(0x495))[_0x3f1f81(0x63b)],'timerDuration':parseInt(document[_0x3f1f81(0x288)](_0x3f1f81(0x4f0))[_0x3f1f81(0x63b)]),'isConfidenceScoringEnabled':document[_0x3f1f81(0x288)](_0x3f1f81(0x9f9))['checked'],'confidenceMode':document['getElementById']('confidence-mode-select')[_0x3f1f81(0x63b)]};try{const _0x2cfad0=doc(db,_0x3f1f81(0x309)+appId+_0x3f1f81(0x498),currentProjectId);await updateDoc(_0x2cfad0,{'settings':_0x409448}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x40bfde){console[_0x3f1f81(0x40f)]('Error\x20saving\x20settings:',_0x40bfde),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x2040d9){const _0x3c3c1b=_0x2f78fc,_0x54da19=doc(db,_0x3c3c1b(0x309)+appId+_0x3c3c1b(0x498),_0x2040d9);unsubscribeStudentsListener=onSnapshot(_0x54da19,_0x46fde2=>{const _0x31ff36=_0x3c3c1b;if(_0x46fde2[_0x31ff36(0x5e4)]()){const _0x14d7ac=_0x46fde2['data']();currentProjectData=_0x14d7ac,renderStudentList(_0x14d7ac[_0x31ff36(0x595)]||[]);}});}function renderStudentList(_0x15e8fc){const _0x101eef=_0x2f78fc,_0x553d25=document[_0x101eef(0x288)](_0x101eef(0x8b7));_0x15e8fc[_0x101eef(0x649)]===0x0?(studentList[_0x101eef(0x5f0)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x553d25[_0x101eef(0xa39)][_0x101eef(0x5c0)](_0x101eef(0x4c5))):(studentList[_0x101eef(0x5f0)]=_0x15e8fc[_0x101eef(0x598)](_0x215d21=>_0x101eef(0x7db)+_0x215d21+_0x101eef(0xa2a)+_0x215d21+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x553d25[_0x101eef(0xa39)]['remove'](_0x101eef(0x4c5)));}document[_0x2f78fc(0x288)](_0x2f78fc(0x3ed))[_0x2f78fc(0x5b2)]('click',async()=>{const _0x175e88=_0x2f78fc;if(!currentProjectId)return;const _0x45d419=document[_0x175e88(0x288)](_0x175e88(0xa41)),_0xb31f22=_0x45d419[_0x175e88(0x63b)][_0x175e88(0x8e1)]();if(!_0xb31f22){showMessage(_0x175e88(0x7d1));return;}const _0x3b0b92=_0xb31f22['split']('\x0a')[_0x175e88(0x598)](_0x121884=>_0x121884[_0x175e88(0x8e1)]())[_0x175e88(0x3e1)](_0x54c11a=>_0x54c11a);if(_0x3b0b92[_0x175e88(0x649)]===0x0)return;try{const _0x310064=doc(db,_0x175e88(0x309)+appId+_0x175e88(0x498),currentProjectId),_0x479ac9=await getDoc(_0x310064);if(_0x479ac9['exists']()){const _0x32f922=_0x479ac9[_0x175e88(0xc89)]()[_0x175e88(0x595)]||[],_0x1d04c5=[...new Set([..._0x32f922,..._0x3b0b92])];await updateDoc(_0x310064,{'students':_0x1d04c5}),_0x45d419['value']='';}}catch(_0x55367d){console[_0x175e88(0x40f)](_0x175e88(0x29b),_0x55367d),showMessage(_0x175e88(0x7e2));}});async function handleManualQuizPairing(_0x165bcb){const _0x1b2d8b=_0x2f78fc,_0x58b9c7=document[_0x1b2d8b(0x288)](_0x1b2d8b(0x84d)),_0x10cd5c=document[_0x1b2d8b(0x288)]('move-quiz-project-select'),_0x541f92=_0x58b9c7[_0x1b2d8b(0x2ee)]('h3'),_0x54da48=document[_0x1b2d8b(0x288)]('confirm-move-quiz-btn'),_0x55b812=document['getElementById'](_0x1b2d8b(0x478));_0x541f92[_0x1b2d8b(0xb10)]=_0x1b2d8b(0xcde),_0x10cd5c[_0x1b2d8b(0x5f0)]=_0x1b2d8b(0x6b0),_0x54da48[_0x1b2d8b(0xb10)]=_0x1b2d8b(0xb03),_0x58b9c7[_0x1b2d8b(0xa39)]['remove']('hidden');const _0x1dc6d2=allQuizzes[_0x1b2d8b(0x3e1)](_0x1b5260=>_0x1b5260['id']!==_0x165bcb);_0x1dc6d2[_0x1b2d8b(0x649)]===0x0?(_0x10cd5c[_0x1b2d8b(0x5f0)]=_0x1b2d8b(0x74d),_0x54da48['disabled']=!![]):(_0x10cd5c['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x1dc6d2[_0x1b2d8b(0x598)](_0x28b77a=>'<option\x20value=\x22'+_0x28b77a['id']+'\x22>'+_0x28b77a[_0x1b2d8b(0x32c)]+_0x1b2d8b(0x245))[_0x1b2d8b(0x53d)](''),_0x54da48[_0x1b2d8b(0x9e8)]=![]);const _0x39a18a=async()=>{const _0x5f5e22=_0x1b2d8b,_0xbd7133=_0x10cd5c[_0x5f5e22(0x63b)];if(!_0xbd7133){showMessage(_0x5f5e22(0x30e));return;}_0x54da48['disabled']=!![],_0x54da48[_0x5f5e22(0xb10)]=_0x5f5e22(0x5d2);try{const _0x35ee0f=doc(db,'artifacts/'+appId+_0x5f5e22(0x480),_0x165bcb),_0xc25246=doc(db,_0x5f5e22(0x309)+appId+_0x5f5e22(0x480),_0xbd7133),_0x5796af=writeBatch(db);_0x5796af[_0x5f5e22(0xa27)](_0x35ee0f,{'pairedQuizId':_0xbd7133}),_0x5796af[_0x5f5e22(0xa27)](_0xc25246,{'pairedQuizId':_0x165bcb}),await _0x5796af['commit'](),showMessage(_0x5f5e22(0x272)),_0x58b9c7[_0x5f5e22(0xa39)][_0x5f5e22(0x5c0)](_0x5f5e22(0x4c5));}catch(_0x1aa361){console[_0x5f5e22(0x40f)]('Error\x20pairing\x20quizzes:',_0x1aa361),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x541f92[_0x5f5e22(0xb10)]=_0x5f5e22(0x8ba),_0x54da48['textContent']='ย้าย',_0x54da48[_0x5f5e22(0x9e8)]=![],_0x54da48[_0x5f5e22(0xac5)](_0x5f5e22(0x8d9),_0x39a18a),_0x55b812[_0x5f5e22(0xac5)](_0x5f5e22(0x8d9),_0x5d1c23);}},_0x5d1c23=()=>{const _0x14f9f8=_0x1b2d8b;_0x58b9c7[_0x14f9f8(0xa39)][_0x14f9f8(0x5c0)](_0x14f9f8(0x4c5)),_0x541f92[_0x14f9f8(0xb10)]=_0x14f9f8(0x8ba),_0x54da48['textContent']=_0x14f9f8(0xcd2),_0x54da48[_0x14f9f8(0xac5)](_0x14f9f8(0x8d9),_0x39a18a),_0x55b812[_0x14f9f8(0xac5)]('click',_0x5d1c23);};_0x54da48['addEventListener'](_0x1b2d8b(0x8d9),_0x39a18a),_0x55b812['addEventListener'](_0x1b2d8b(0x8d9),_0x5d1c23);}function handleDeleteStudent(_0x447d42){const _0x1f8045=_0x2f78fc;showConfirmation(_0x1f8045(0x3e7)+_0x447d42+_0x1f8045(0xc08),async()=>{const _0x11b379=_0x1f8045;if(!currentProjectId||!currentProjectData)return;const _0x281d06=currentProjectData['students'][_0x11b379(0x3e1)](_0x421f6d=>_0x421f6d!==_0x447d42);try{const _0x4c3b54=doc(db,_0x11b379(0x309)+appId+'/public/data/projects',currentProjectId),_0x235573=doc(db,_0x11b379(0x309)+appId+_0x11b379(0x4a0)+currentProjectId+'/studentProfiles',_0x447d42),_0x212115=writeBatch(db);_0x212115[_0x11b379(0xa27)](_0x4c3b54,{'students':_0x281d06}),_0x212115[_0x11b379(0xcdd)](_0x235573),await _0x212115['commit']();}catch(_0x331958){console[_0x11b379(0x40f)](_0x11b379(0x6e1),_0x331958),showMessage(_0x11b379(0xaa5));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x40ad58=_0x43c7;if(!currentProjectId)return;try{const _0x3b14b1=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x1cd249=collection(db,_0x40ad58(0x309)+appId+_0x40ad58(0x4a0)+currentProjectId+'/studentProfiles'),_0x2e1f51=await getDocs(_0x1cd249),_0x30c1a7=writeBatch(db);_0x30c1a7[_0x40ad58(0xa27)](_0x3b14b1,{'students':[]}),_0x2e1f51[_0x40ad58(0x220)](_0x438a78=>_0x30c1a7[_0x40ad58(0xcdd)](_0x438a78[_0x40ad58(0xb19)])),await _0x30c1a7[_0x40ad58(0x1f1)]();}catch(_0x252d51){console[_0x40ad58(0x40f)](_0x40ad58(0xb52),_0x252d51),showMessage(_0x40ad58(0xb57));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x324d99){const _0x41df24=_0x2f78fc,_0x58b6de=document['getElementById'](_0x41df24(0xc37)),_0x48448d=document[_0x41df24(0x288)](_0x41df24(0x4ec));_0x58b6de[_0x41df24(0xa39)][_0x41df24(0xc4b)](_0x41df24(0x4c5)),_0x48448d['innerHTML']=_0x41df24(0xc73);try{const _0x55ea32=new FileReader();_0x55ea32[_0x41df24(0xca6)](_0x324d99),await new Promise((_0x589371,_0x42d0c0)=>{const _0x511dcf=_0x41df24;_0x55ea32[_0x511dcf(0x29e)]=()=>{const _0x1bd0a5=_0x511dcf;fileDataBase64=_0x55ea32[_0x1bd0a5(0xc80)]['split'](',')[0x1],fileMimeType=_0x324d99[_0x1bd0a5(0x5b4)],_0x589371();},_0x55ea32[_0x511dcf(0xa1b)]=_0x6919b3=>_0x42d0c0(_0x6919b3);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x93d3cb=_0x41df24(0x371),_0x46de96={'type':_0x41df24(0x91b),'properties':{'topics':{'type':_0x41df24(0xb29),'items':{'type':_0x41df24(0x395)}}},'required':['topics']},_0xdd7f20=[{'text':_0x93d3cb},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x16f034=await handleApiCall(_0xdd7f20,'กำลังวิเคราะห์หัวข้อ...',_0x46de96,null,![]);if(_0x16f034&&_0x16f034[_0x41df24(0x227)])extractedFileTopics=_0x16f034[_0x41df24(0x227)],renderFileTopics();else throw new Error(_0x41df24(0x487));}catch(_0x5cc195){console[_0x41df24(0x40f)](_0x41df24(0xa56),_0x5cc195),_0x48448d['innerHTML']=_0x41df24(0x41b)+_0x5cc195[_0x41df24(0x42d)]+'</p>';}}function renderFileTopics(){const _0x102b33=_0x2f78fc,_0xcf97ab=document[_0x102b33(0x288)](_0x102b33(0x4ec));if(extractedFileTopics[_0x102b33(0x649)]===0x0){_0xcf97ab[_0x102b33(0x5f0)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0xcf97ab['innerHTML']=extractedFileTopics[_0x102b33(0x598)](_0x562334=>_0x102b33(0x1ac)+_0x562334+_0x102b33(0xc00)+escape(_0x562334)+_0x102b33(0x26d)+escape(_0x562334)+_0x102b33(0x7a3))['join']('');}async function generateHybridQuizForTopic(_0x5aecc1){const _0x5a2482=_0x2f78fc,_0x43fc93=parseInt(document[_0x5a2482(0x288)](_0x5a2482(0x37d))[_0x5a2482(0x63b)],0xa),_0x294814=document[_0x5a2482(0x288)](_0x5a2482(0x7ec))[_0x5a2482(0x63b)],_0x141e3a=document[_0x5a2482(0x288)](_0x5a2482(0x9fd))[_0x5a2482(0x63b)],_0x23bffb=document['getElementById'](_0x5a2482(0x739))['checked'],_0x7b2041=_0x23bffb?_0x5a2482(0x1a6):_0x5a2482(0x28a);let _0x459560='',_0xb5c244;const _0x3ada61={'type':_0x5a2482(0x91b),'properties':{'questionText':{'type':_0x5a2482(0x395)},'options':{'type':_0x5a2482(0xb29),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5a2482(0x395)},'imageCode':{'type':_0x5a2482(0x395)}},'required':[_0x5a2482(0x9fb),_0x5a2482(0x67e),_0x5a2482(0x90b),'explanation']},_0x29ac52={'type':_0x5a2482(0x91b),'properties':{'questionText':{'type':_0x5a2482(0x395)},'correctAnswer':{'type':_0x5a2482(0xc66)},'explanation':{'type':_0x5a2482(0x395)},'imageCode':{'type':'STRING'}},'required':[_0x5a2482(0x9fb),_0x5a2482(0xafe),_0x5a2482(0xa10)]},_0x2a8ae9={'type':'OBJECT','properties':{'questionText':{'type':_0x5a2482(0x395)},'idealAnswer':{'type':_0x5a2482(0x395)},'explanation':{'type':_0x5a2482(0x395)},'imageCode':{'type':_0x5a2482(0x395)}},'required':[_0x5a2482(0x9fb),_0x5a2482(0x558),_0x5a2482(0xa10)]},_0x27a481={'type':_0x5a2482(0x91b),'properties':{'questionType':{'type':_0x5a2482(0x395),'enum':[_0x5a2482(0x5b0)]},'stem':{'type':_0x5a2482(0x395)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5a2482(0xb29),'items':{'type':_0x5a2482(0x395)}},'explanation':{'type':_0x5a2482(0x395)},'imageCode':{'type':_0x5a2482(0x395)}},'required':[_0x5a2482(0x8a4),_0x5a2482(0x34d),_0x5a2482(0x2c7),_0x5a2482(0xa99),_0x5a2482(0xa10)]};switch(_0x294814){case _0x5a2482(0x318):_0x459560=_0x5a2482(0x3c5)+_0x141e3a+_0x5a2482(0xbf5),_0xb5c244=_0x3ada61;break;case _0x5a2482(0x253):_0x459560=_0x5a2482(0x6c7),_0xb5c244=_0x29ac52;break;case _0x5a2482(0x322):_0x459560=_0x5a2482(0x334),_0xb5c244=_0x2a8ae9;break;case _0x5a2482(0x49b):_0x459560=_0x5a2482(0x493),_0xb5c244=_0x27a481;break;case _0x5a2482(0x1ab):_0x459560='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x141e3a+_0x5a2482(0xbf5),_0xb5c244=_0x3ada61;break;default:_0x459560=_0x5a2482(0x3c5)+_0x141e3a+'\x20ตัวเลือก)',_0xb5c244=_0x3ada61;break;}const _0x545a90=_0x5a2482(0xb7a),_0x7749c6=document[_0x5a2482(0x288)]('loader'),_0x22b2f7=document[_0x5a2482(0x288)](_0x5a2482(0x948)),_0x2891eb=document[_0x5a2482(0x288)](_0x5a2482(0x92c));document['getElementById'](_0x5a2482(0x459))[_0x5a2482(0xa39)][_0x5a2482(0xc4b)](_0x5a2482(0x4c5)),_0x2891eb[_0x5a2482(0x5f0)]='',_0x7749c6[_0x5a2482(0xa39)][_0x5a2482(0xc4b)](_0x5a2482(0x4c5)),_0x22b2f7['textContent']=_0x5a2482(0x46a)+_0x5aecc1+'\x22\x20จำนวน\x20'+_0x43fc93+_0x5a2482(0xbf6);try{const _0x19adf2=_0x5a2482(0x637),_0x4a78e7=_0x5a2482(0x47d)+_0x5aecc1+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x43fc93+_0x5a2482(0xbc5)+_0x5aecc1+_0x5a2482(0x5d3)+_0x43fc93+_0x5a2482(0x97c)+_0x7b2041+_0x5a2482(0x299)+_0x459560+_0x5a2482(0xb5b)+_0x545a90+_0x5a2482(0x3a0)+_0x19adf2+_0x5a2482(0x2be)+simpleMathPrompt+_0x5a2482(0xd16),_0x551751={'type':'OBJECT','properties':{'topic':{'type':_0x5a2482(0x395)},'questions':{'type':'ARRAY','items':_0xb5c244}},'required':[_0x5a2482(0x32c),'questions']},_0x4b2d8e=[{'text':_0x4a78e7},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4b2d8e,_0x5a2482(0x6e4)+_0x5aecc1+_0x5a2482(0xa4f),_0x551751);}catch(_0x45a706){console['error']('Error\x20generating\x20hybrid\x20quiz:',_0x45a706),showMessage(_0x5a2482(0xac4)+_0x45a706[_0x5a2482(0x42d)]),_0x2891eb[_0x5a2482(0x5f0)]=_0x5a2482(0x617);}finally{_0x7749c6[_0x5a2482(0xa39)][_0x5a2482(0x5c0)](_0x5a2482(0x4c5));}}async function handleGenerateFromFileClick(){const _0x40c654=_0x2f78fc;if(!selectedFile){showMessage(_0x40c654(0x7cb));return;}const _0x8c327d=document[_0x40c654(0x288)]('loader'),_0xf2ab0d=document['getElementById'](_0x40c654(0x948)),_0xab259f=document[_0x40c654(0x288)]('generated-quiz-container'),_0x439d0e=document['getElementById'](_0x40c654(0x1b6));_0x439d0e[_0x40c654(0x9e8)]=!![],document[_0x40c654(0x288)](_0x40c654(0x459))['classList']['remove'](_0x40c654(0x4c5)),_0xab259f[_0x40c654(0x5f0)]='',_0x8c327d[_0x40c654(0xa39)][_0x40c654(0xc4b)](_0x40c654(0x4c5)),_0xf2ab0d[_0x40c654(0xb10)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x115963=await new Promise((_0xe4becf,_0x514344)=>{const _0x498108=_0x40c654,_0x43bd8b=new FileReader();_0x43bd8b[_0x498108(0xca6)](selectedFile),_0x43bd8b[_0x498108(0x29e)]=()=>_0xe4becf(_0x43bd8b['result']['split'](',')[0x1]),_0x43bd8b[_0x498108(0xa1b)]=_0x180e6e=>_0x514344(_0x180e6e);});await generateQuizFromFile(selectedFile[_0x40c654(0x5b4)],_0x115963);}catch(_0x39da04){console['error'](_0x40c654(0xbac),_0x39da04),showMessage(_0x40c654(0x754)+_0x39da04[_0x40c654(0x42d)]),_0x8c327d[_0x40c654(0xa39)]['add'](_0x40c654(0x4c5)),_0x439d0e[_0x40c654(0x9e8)]=![];}}function autoFormatMath(_0x2e4398){const _0x4f272b=_0x2f78fc;if(typeof _0x2e4398!==_0x4f272b(0xbbd)||!_0x2e4398)return _0x2e4398;const _0x1e33a9=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x797bf7=_0x2e4398[_0x4f272b(0x5e3)](_0x1e33a9,_0x15468a=>{const _0x4a534a=_0x4f272b;return'$'+_0x15468a[_0x4a534a(0x8e1)]()+'$';});return _0x797bf7;}function sanitizeQuizData(_0x50cb4f){const _0x569b12=_0x2f78fc;if(!_0x50cb4f||!_0x50cb4f[_0x569b12(0xc81)])return _0x50cb4f;const _0x4818f8={'imes':'\x5ctimes','div':_0x569b12(0x274)},_0x29ba52=_0x2e2053=>{const _0xed7230=_0x569b12;if(typeof _0x2e2053!==_0xed7230(0xbbd))return _0x2e2053;let _0x12378b=_0x2e2053;for(const [_0x37c929,_0x47e4df]of Object[_0xed7230(0x41a)](_0x4818f8)){const _0x6c236e=new RegExp('\x5cb'+_0x37c929+'\x5cb','g');_0x12378b=_0x12378b[_0xed7230(0x5e3)](_0x6c236e,_0x47e4df);}return _0x12378b=_0x12378b[_0xed7230(0x5e3)](/\\\//g,'\x5cdiv'),_0x12378b=_0x12378b[_0xed7230(0x5e3)](/<(i|em)>\s*div\s*<\/\1>/gi,_0xed7230(0x274))[_0xed7230(0x5e3)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')['replace'](/÷/g,_0xed7230(0x274))[_0xed7230(0x5e3)](/×/g,'\x5ctimes'),_0x12378b=_0x12378b['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x12378b=autoFormatMath(_0x12378b),_0x12378b;};return _0x50cb4f[_0x569b12(0x32c)]&&(_0x50cb4f[_0x569b12(0x32c)]=_0x29ba52(_0x50cb4f['topic'])),_0x50cb4f[_0x569b12(0xc81)][_0x569b12(0x220)](_0x228bcf=>{const _0xb61083=_0x569b12;_0x228bcf[_0xb61083(0x9fb)]=_0x29ba52(_0x228bcf['questionText']),_0x228bcf[_0xb61083(0x67e)]&&(_0x228bcf[_0xb61083(0x67e)]=_0x228bcf['options'][_0xb61083(0x598)](_0x29ba52)),_0x228bcf[_0xb61083(0xa10)]&&(_0x228bcf[_0xb61083(0xa10)]=_0x29ba52(_0x228bcf['explanation'])),_0x228bcf[_0xb61083(0x34d)]&&(_0x228bcf[_0xb61083(0x34d)]=_0x29ba52(_0x228bcf[_0xb61083(0x34d)])),_0x228bcf[_0xb61083(0x2c7)]&&(_0x228bcf[_0xb61083(0x2c7)]=_0x29ba52(_0x228bcf[_0xb61083(0x2c7)])),_0x228bcf[_0xb61083(0xa99)]&&(_0x228bcf[_0xb61083(0xa99)]=_0x228bcf['allResponses']['map'](_0x29ba52));}),_0x50cb4f;}const simpleMathPrompt=_0x2f78fc(0x664);async function handleGenerateFromLink(){const _0x456c30=_0x2f78fc,_0x4a9237=document[_0x456c30(0x288)](_0x456c30(0x31c)),_0x5ad0d0=document[_0x456c30(0x288)](_0x456c30(0x9e4)),_0xba1d5e=_0x4a9237['value'][_0x456c30(0x8e1)](),_0xe3aaaf=_0x5ad0d0[_0x456c30(0x63b)]['trim']();if(!_0xba1d5e){showMessage(_0x456c30(0x64d));return;}const _0x1f2548=document[_0x456c30(0x288)](_0x456c30(0x308)),_0x1540e3=document[_0x456c30(0x288)](_0x456c30(0x948)),_0x385860=document['getElementById']('generated-quiz-container'),_0x41df62=document[_0x456c30(0x288)]('generate-from-link-btn');document['getElementById']('quiz-generation-area')[_0x456c30(0xa39)]['remove']('hidden'),_0x385860[_0x456c30(0x5f0)]='',_0x1f2548[_0x456c30(0xa39)][_0x456c30(0xc4b)](_0x456c30(0x4c5)),_0x1540e3[_0x456c30(0xb10)]='กำลังดึงข้อมูลจากลิงก์...',_0x41df62[_0x456c30(0x9e8)]=!![];try{const _0x46146e=_0x456c30(0x3f9)+encodeURIComponent(_0xba1d5e),_0x400907=await fetch(_0x46146e);if(!_0x400907['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x400907[_0x456c30(0xa78)]+')');const _0x3a80f0=await _0x400907[_0x456c30(0x537)](),_0x5c35c3=extractTextFromHtml(_0x3a80f0);if(!_0x5c35c3||_0x5c35c3[_0x456c30(0x649)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0xe3aaaf,_0x5c35c3);}catch(_0x45ef6d){console[_0x456c30(0x40f)](_0x456c30(0xb63),_0x45ef6d),showMessage(_0x456c30(0xac4)+_0x45ef6d[_0x456c30(0x42d)]),_0x385860[_0x456c30(0x5f0)]=_0x456c30(0x85b);}finally{_0x1f2548[_0x456c30(0xa39)][_0x456c30(0x5c0)](_0x456c30(0x4c5)),_0x41df62[_0x456c30(0x9e8)]=![];}}function extractTextFromHtml(_0x166c78){const _0x22735c=_0x2f78fc,_0xf939a9=new DOMParser()[_0x22735c(0x5fa)](_0x166c78,'text/html');return _0xf939a9['querySelectorAll'](_0x22735c(0xb3b))[_0x22735c(0x220)](_0x35be41=>_0x35be41[_0x22735c(0xc4b)]()),_0xf939a9[_0x22735c(0xad4)][_0x22735c(0xb10)]||'';}document['getElementById'](_0x2f78fc(0x233))[_0x2f78fc(0x5b2)](_0x2f78fc(0x8d9),()=>{const _0x331b0b=_0x2f78fc,_0x53cd24=document[_0x331b0b(0x288)](_0x331b0b(0x291))[_0x331b0b(0x63b)][_0x331b0b(0x8e1)]();generateQuiz(_0x53cd24,null);}),document['getElementById'](_0x2f78fc(0x4b5))[_0x2f78fc(0x5b2)]('click',()=>{const _0x1502ce=_0x2f78fc,_0x27aa7d=document[_0x1502ce(0x288)](_0x1502ce(0x8b5))[_0x1502ce(0x63b)][_0x1502ce(0x8e1)]();if(!_0x27aa7d){showMessage(_0x1502ce(0xb01));return;}const _0x2f9f58=document['getElementById']('topic-input')[_0x1502ce(0x63b)][_0x1502ce(0x8e1)]();generateQuiz(_0x2f9f58,_0x27aa7d);});async function generateQuiz(_0x449785,_0x2844ed,_0x28f292=null,_0x397733=null,_0x4b176f=![],_0x1a51a9=null,_0x42a1d7=null,_0x3573b6=![]){const _0x43654a=_0x2f78fc;let _0x313178={};if(_0x4b176f&&blueprintPageSettings)console[_0x43654a(0x516)](_0x43654a(0xc1b)),_0x313178=blueprintPageSettings;else{console[_0x43654a(0x516)](_0x43654a(0x806));const _0x50ca04=document[_0x43654a(0x3db)](_0x43654a(0x1b4));_0x313178={'quizType':document[_0x43654a(0x288)](_0x43654a(0x7ec))['value'],'numQuestions':document[_0x43654a(0x288)](_0x43654a(0x37d))['value'],'numChoices':document[_0x43654a(0x288)](_0x43654a(0x9fd))[_0x43654a(0x63b)],'includeImages':document[_0x43654a(0x288)](_0x43654a(0x739))[_0x43654a(0xbe3)],'isNormalTopic':document[_0x43654a(0x288)](_0x43654a(0x5a6))['checked'],'difficultyValue':document[_0x43654a(0x288)]('difficulty-level-select')[_0x43654a(0x63b)],'complexityValue':document[_0x43654a(0x288)](_0x43654a(0xa5f))[_0x43654a(0x63b)],'selectedTopicNames':Array['from'](_0x50ca04)[_0x43654a(0x598)](_0x511f9b=>_0x511f9b[_0x43654a(0x63b)])};}const _0x30b264=_0x313178[_0x43654a(0x862)]?'':_0x43654a(0xad8),_0x3ae90c=_0x313178['difficultyValue']!==_0x43654a(0xb17)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x313178[_0x43654a(0x6c5)]+'\x22':'',_0x2a62ec=_0x313178[_0x43654a(0x9d4)]!=='mixed'?_0x43654a(0xc69)+_0x313178[_0x43654a(0x9d4)]+_0x43654a(0x4fa):'';let _0x428805='';_0x313178[_0x43654a(0xc72)]&&_0x313178['selectedTopicNames']['length']>0x0&&(_0x428805='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x313178['selectedTopicNames'][_0x43654a(0x53d)](',\x20')+'.');let _0x4630bf='';_0x397733&&(_0x4630bf=_0x43654a(0x4d2));let _0x3943eb='',_0x5578df='',_0x4e0f5e,_0x2fa516=_0x43654a(0xbee)+_0x449785+'\x22';if(!_0x449785&&_0x2844ed)_0x2fa516='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x449785&&!_0x2844ed&&(_0x2fa516=_0x43654a(0x467));const _0xc1f667={'type':_0x43654a(0x91b),'properties':{'questionText':{'type':_0x43654a(0x395)},'options':{'type':_0x43654a(0xb29),'items':{'type':_0x43654a(0x395)}},'correctAnswerIndex':{'type':_0x43654a(0x50d)},'explanation':{'type':_0x43654a(0x395)},'imageCode':{'type':_0x43654a(0x395)}},'required':[_0x43654a(0x9fb),'options',_0x43654a(0x90b),_0x43654a(0xa10)]},_0x3eb85c={'type':_0x43654a(0x91b),'properties':{'questionText':{'type':_0x43654a(0x395)},'idealAnswer':{'type':_0x43654a(0x395)},'explanation':{'type':_0x43654a(0x395)},'imageCode':{'type':_0x43654a(0x395)}},'required':[_0x43654a(0x9fb),_0x43654a(0x558),'explanation']},_0x4b2d0b={'type':_0x43654a(0x91b),'properties':{'questionText':{'type':_0x43654a(0x395)},'questionType':{'type':_0x43654a(0x395),'enum':[_0x43654a(0x318),_0x43654a(0x59a)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x43654a(0x50d)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x43654a(0x395)},'imageCode':{'type':_0x43654a(0x395)}},'required':[_0x43654a(0x9fb),'questionType',_0x43654a(0xa10)]},_0x418643={'type':_0x43654a(0x91b),'properties':{'questionText':{'type':_0x43654a(0x395)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x43654a(0x395)},'imageCode':{'type':_0x43654a(0x395)}},'required':[_0x43654a(0x9fb),'correctAnswer',_0x43654a(0xa10)]},_0x373125={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x43654a(0x5b0)]},'stem':{'type':_0x43654a(0x395)},'correctResponse':{'type':_0x43654a(0x395)},'allResponses':{'type':_0x43654a(0xb29),'items':{'type':_0x43654a(0x395)}},'explanation':{'type':_0x43654a(0x395)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x43654a(0x34d),_0x43654a(0x2c7),_0x43654a(0xa99),'explanation']};let _0x5c1f5c;if(_0x28f292!==null){const _0x25a87d=currentQuizData[_0x43654a(0xc81)][_0x28f292][_0x43654a(0x8a4)],_0x4a5b2c=_0x313178[_0x43654a(0x75d)]?_0x43654a(0x5bc):'';_0x3943eb=_0x43654a(0xc7d)+_0x2fa516+'\x20'+_0x428805+'\x20'+_0x3ae90c+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x4a5b2c+'\x20'+simpleMathPrompt;if(_0x25a87d===_0x43654a(0x318))_0x4e0f5e=_0xc1f667;else{if(_0x25a87d==='matching_item')_0x4e0f5e={'type':_0x43654a(0x91b),'properties':{'questionType':{'type':_0x43654a(0x395),'enum':[_0x43654a(0x5b0)]},'stem':{'type':_0x43654a(0x395)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x43654a(0x395)},'imageCode':{'type':_0x43654a(0x395)}},'required':[_0x43654a(0x8a4),_0x43654a(0x34d),_0x43654a(0x2c7),_0x43654a(0xa10)]};else _0x4e0f5e=_0x3eb85c;}_0x5c1f5c=_0x4e0f5e;}else{const _0x213b5e=_0x313178['includeImages']?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x313178['quizType']){case _0x43654a(0x318):_0x3943eb=_0x43654a(0xaf4)+_0x30b264+'\x20'+_0x313178['numQuestions']+_0x43654a(0xc12)+_0x2fa516+'\x20'+_0x428805+'\x20'+_0x3ae90c+'\x20'+_0x2a62ec+'\x20'+_0x4630bf+_0x43654a(0x3ea)+_0x313178[_0x43654a(0xb7f)]+_0x43654a(0xa32)+_0x213b5e+'\x20'+simpleMathPrompt,_0x4e0f5e=_0xc1f667;break;case'fill_in_with_choices':_0x3943eb=_0x43654a(0x1d2)+_0x30b264+'\x20'+_0x313178['numQuestions']+_0x43654a(0xc12)+_0x2fa516+'\x20'+_0x428805+'\x20'+_0x3ae90c+'\x20'+_0x2a62ec+'\x20'+_0x4630bf+_0x43654a(0xae6)+_0x313178[_0x43654a(0xb7f)]+_0x43654a(0x973)+_0x213b5e+'\x20'+simpleMathPrompt,_0x4e0f5e=_0xc1f667;break;case'fill_in_no_choices':_0x3943eb=_0x43654a(0x1d2)+_0x30b264+'\x20'+_0x313178[_0x43654a(0x538)]+_0x43654a(0xc12)+_0x2fa516+'\x20'+_0x428805+'\x20'+_0x3ae90c+'\x20'+_0x2a62ec+'\x20'+_0x4630bf+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x213b5e+'\x20'+simpleMathPrompt,_0x4e0f5e=_0x3eb85c;break;case _0x43654a(0x5dc):_0x3943eb=_0x43654a(0x782)+_0x30b264+'\x20'+_0x313178[_0x43654a(0x538)]+'\x20ข้อ\x20'+_0x2fa516+'\x20'+_0x428805+'\x20'+_0x3ae90c+'\x20'+_0x2a62ec+'\x20'+_0x4630bf+_0x43654a(0xb97)+_0x313178['numChoices']+_0x43654a(0xa84)+_0x213b5e+'\x20'+simpleMathPrompt+'.',_0x4e0f5e=_0x4b2d0b;break;case'true_false':_0x3943eb=_0x43654a(0x209)+_0x30b264+'\x20'+_0x313178[_0x43654a(0x538)]+_0x43654a(0xc12)+_0x2fa516+'\x20'+_0x428805+'\x20'+_0x3ae90c+'\x20'+_0x2a62ec+'\x20'+_0x4630bf+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x213b5e+'\x20'+simpleMathPrompt,_0x4e0f5e=_0x418643;break;case _0x43654a(0x49b):_0x3943eb=_0x43654a(0xbfc)+_0x30b264+'\x20'+_0x313178[_0x43654a(0x538)]+_0x43654a(0xaff)+_0x2fa516+'\x20'+_0x428805+'\x20'+_0x3ae90c+'\x20'+_0x2a62ec+'\x20'+_0x4630bf+_0x43654a(0x606)+_0x213b5e+'\x20'+simpleMathPrompt,_0x4e0f5e=_0x373125;break;}_0x5c1f5c={'type':_0x43654a(0x91b),'properties':{'topic':{'type':_0x43654a(0x395)},'questions':{'type':_0x43654a(0xb29),'items':_0x4e0f5e}},'required':[_0x43654a(0x32c),_0x43654a(0xc81)]};}const _0x326e60=_0x43654a(0x445);_0x2844ed?(_0x3573b6?_0x3943eb=_0x43654a(0x954)+_0x2844ed+_0x43654a(0x8da)+_0x3943eb+_0x326e60:_0x3943eb='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x2844ed+'\x22,\x20'+_0x3943eb,_0x5578df=_0x43654a(0x5ee)):(_0x3573b6&&(_0x3943eb+=_0x326e60),_0x5578df='กำลังสร้างแบบทดสอบจากหัวข้อ...');let _0x4d0249;return _0x397733?_0x4d0249=[{'text':_0x3943eb},..._0x397733]:_0x4d0249=_0x3943eb,handleApiCall(_0x4d0249,_0x5578df,_0x5c1f5c,_0x28f292,!![],_0x1a51a9,_0x42a1d7);}async function generateQuizFromFile(_0x4c7ada,_0x180b05){const _0x413d82=_0x2f78fc,_0x5ac958=document[_0x413d82(0x288)](_0x413d82(0x4ea))[_0x413d82(0x63b)][_0x413d82(0x8e1)](),_0x2868d9=document[_0x413d82(0x288)](_0x413d82(0x7ec))[_0x413d82(0x63b)],_0x5e08c1=document[_0x413d82(0x288)](_0x413d82(0x37d))['value'],_0x52f8f7=document[_0x413d82(0x288)](_0x413d82(0x9fd))['value'],_0x3c6eb4=document[_0x413d82(0x288)]('include-images-checkbox')[_0x413d82(0xbe3)],_0x32137e=document['getElementById'](_0x413d82(0x5a6))[_0x413d82(0xbe3)],_0x3dee7d=_0x32137e?'':'คณิตศาสตร์',_0x2623f6=document['getElementById']('original-mode-checkbox')[_0x413d82(0xbe3)];let _0x80af8='',_0x5020ca;const _0x4d3a61=_0x3c6eb4?_0x413d82(0x827):'';if(_0x2623f6)_0x80af8=_0x413d82(0x43b)+_0x4d3a61+'\x0a'+simpleMathPrompt+'\x0a',_0x5020ca={'type':_0x413d82(0x91b),'properties':{'questionText':{'type':_0x413d82(0x395)},'questionType':{'type':_0x413d82(0x395),'enum':[_0x413d82(0x318),_0x413d82(0x59a),'true_false',_0x413d82(0x5b0)]},'options':{'type':_0x413d82(0xb29),'items':{'type':_0x413d82(0x395)}},'correctAnswerIndex':{'type':_0x413d82(0x50d)},'idealAnswer':{'type':_0x413d82(0x395)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x413d82(0x395)},'correctResponse':{'type':_0x413d82(0x395)},'allResponses':{'type':'ARRAY','items':{'type':_0x413d82(0x395)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x413d82(0x8a4),'explanation']};else{let _0x43e955='เกี่ยวกับหัวข้อ\x20\x22'+_0x5ac958+'\x22';!_0x5ac958&&(_0x43e955=_0x413d82(0x885));switch(_0x2868d9){case _0x413d82(0x318):_0x80af8=_0x413d82(0xaf4)+_0x3dee7d+'\x20'+_0x5e08c1+_0x413d82(0xc12)+_0x43e955+'.\x20แต่ละข้อมี\x20'+_0x52f8f7+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x4d3a61+'\x20'+simpleMathPrompt,_0x5020ca={'type':_0x413d82(0x91b),'properties':{'questionText':{'type':_0x413d82(0x395)},'options':{'type':_0x413d82(0xb29),'items':{'type':_0x413d82(0x395)}},'correctAnswerIndex':{'type':_0x413d82(0x50d)},'explanation':{'type':_0x413d82(0x395)},'imageCode':{'type':_0x413d82(0x395)}},'required':[_0x413d82(0x9fb),_0x413d82(0x67e),_0x413d82(0x90b),_0x413d82(0xa10)]};break;case'fill_in_with_choices':_0x80af8=_0x413d82(0x1d2)+_0x3dee7d+'\x20'+_0x5e08c1+_0x413d82(0xc12)+_0x43e955+_0x413d82(0xae6)+_0x52f8f7+_0x413d82(0x973)+_0x4d3a61+'\x20'+simpleMathPrompt,_0x5020ca={'type':'OBJECT','properties':{'questionText':{'type':_0x413d82(0x395)},'options':{'type':_0x413d82(0xb29),'items':{'type':_0x413d82(0x395)}},'correctAnswerIndex':{'type':_0x413d82(0x50d)},'explanation':{'type':_0x413d82(0x395)},'imageCode':{'type':'STRING'}},'required':[_0x413d82(0x9fb),_0x413d82(0x67e),_0x413d82(0x90b),_0x413d82(0xa10)]};break;case _0x413d82(0x322):_0x80af8='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3dee7d+'\x20'+_0x5e08c1+_0x413d82(0xc12)+_0x43e955+_0x413d82(0x2b8)+_0x4d3a61+'\x20'+simpleMathPrompt,_0x5020ca={'type':_0x413d82(0x91b),'properties':{'questionText':{'type':_0x413d82(0x395)},'idealAnswer':{'type':_0x413d82(0x395)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x413d82(0x395)}},'required':[_0x413d82(0x9fb),_0x413d82(0x558),_0x413d82(0xa10)]};break;case _0x413d82(0x5dc):_0x80af8=_0x413d82(0x782)+_0x3dee7d+'\x20'+_0x5e08c1+_0x413d82(0xc12)+_0x43e955+_0x413d82(0x300)+_0x52f8f7+_0x413d82(0x21a)+_0x4d3a61+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x5020ca={'type':_0x413d82(0x91b),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x413d82(0x395),'enum':[_0x413d82(0x318),'short_answer']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x413d82(0x50d)},'idealAnswer':{'type':_0x413d82(0x395)},'explanation':{'type':_0x413d82(0x395)},'imageCode':{'type':_0x413d82(0x395)}},'required':[_0x413d82(0x9fb),'questionType',_0x413d82(0xa10)]};break;case _0x413d82(0x253):_0x80af8=_0x413d82(0x209)+_0x3dee7d+'\x20'+_0x5e08c1+_0x413d82(0xc12)+_0x43e955+_0x413d82(0x7f4)+_0x4d3a61+'\x20'+simpleMathPrompt,_0x5020ca={'type':_0x413d82(0x91b),'properties':{'questionText':{'type':_0x413d82(0x395)},'correctAnswer':{'type':_0x413d82(0xc66)},'explanation':{'type':_0x413d82(0x395)},'imageCode':{'type':_0x413d82(0x395)}},'required':[_0x413d82(0x9fb),'correctAnswer','explanation']};break;case _0x413d82(0x49b):_0x80af8='สร้างชุดคำถามจับคู่'+_0x3dee7d+'\x20'+_0x5e08c1+'\x20คู่\x20'+_0x43e955+_0x413d82(0x966)+_0x5e08c1+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x4d3a61+'\x20'+simpleMathPrompt,_0x5020ca={'type':_0x413d82(0x91b),'properties':{'questionType':{'type':_0x413d82(0x395),'enum':[_0x413d82(0x5b0)]},'stem':{'type':_0x413d82(0x395)},'correctResponse':{'type':_0x413d82(0x395)},'allResponses':{'type':_0x413d82(0xb29),'items':{'type':'STRING'}},'explanation':{'type':_0x413d82(0x395)},'imageCode':{'type':_0x413d82(0x395)}},'required':[_0x413d82(0x8a4),_0x413d82(0x34d),_0x413d82(0x2c7),_0x413d82(0xa99),_0x413d82(0xa10)]};break;}}const _0x11d102={'type':_0x413d82(0x91b),'properties':{'topic':{'type':_0x413d82(0x395)},'questions':{'type':_0x413d82(0xb29),'items':_0x5020ca}},'required':['topic',_0x413d82(0xc81)]},_0x1ea808=_0x413d82(0x822)+_0x80af8,_0x43f06c={'contents':[{'parts':[{'text':_0x1ea808},{'inlineData':{'mimeType':_0x4c7ada,'data':_0x180b05}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x11d102}};return handleApiCall(_0x43f06c[_0x413d82(0xba8)][0x0][_0x413d82(0x87d)],_0x413d82(0xc78),_0x11d102);}async function handleApiCall(_0x4e33dd,_0x551221,_0x3e3088,_0x5cb616=null,_0x23926c=!![],_0x993caa=null,_0x124990=null){const _0x14b857=_0x2f78fc,_0x498604=document['getElementById'](_0x14b857(0x459)),_0x42a988=document[_0x14b857(0x288)]('loader'),_0x3a728e=document[_0x14b857(0x288)](_0x14b857(0x948)),_0x29e671=document[_0x14b857(0x288)](_0x14b857(0x92c));_0x498604[_0x14b857(0xa39)][_0x14b857(0xc4b)]('hidden');_0x5cb616===null&&_0x23926c&&(_0x29e671[_0x14b857(0x5f0)]='');_0x42a988[_0x14b857(0xa39)][_0x14b857(0xc4b)](_0x14b857(0x4c5)),_0x3a728e[_0x14b857(0xb10)]=_0x551221,document[_0x14b857(0x288)](_0x14b857(0x233))[_0x14b857(0x9e8)]=!![],document[_0x14b857(0x288)](_0x14b857(0x4b5))[_0x14b857(0x9e8)]=!![],document[_0x14b857(0x288)](_0x14b857(0x211))['disabled']=!![];const _0x2406c1=document['getElementById'](_0x14b857(0x1b6));if(_0x2406c1)_0x2406c1[_0x14b857(0x9e8)]=!![];const _0x197be1=document[_0x14b857(0x288)](_0x14b857(0x4f3));if(_0x197be1)_0x197be1['disabled']=!![];const _0x37b9ea=document[_0x14b857(0x288)]('generate-from-parallel-test-btn');if(_0x37b9ea)_0x37b9ea[_0x14b857(0x9e8)]=!![];try{const _0x465219={'responseMimeType':_0x14b857(0xd18),'responseSchema':_0x3e3088},_0x128e5e=Array[_0x14b857(0x67f)](_0x4e33dd)?_0x4e33dd:[{'text':_0x4e33dd}],_0x2c0089={'contents':[{'role':_0x14b857(0x5af),'parts':_0x128e5e}],'generationConfig':_0x465219},_0x1510cd=_0x14b857(0xca9),_0x225101=_0x14b857(0xd04)+_0x1510cd,_0x51314b=await fetch(_0x225101,{'method':_0x14b857(0x9b6),'headers':{'Content-Type':'application/json'},'body':JSON[_0x14b857(0x6aa)](_0x2c0089)});if(!_0x51314b['ok']){const _0x5cfd94=await _0x51314b[_0x14b857(0x537)]();console[_0x14b857(0x40f)](_0x14b857(0xc7b),_0x5cfd94);throw new Error(_0x14b857(0x2e4)+_0x51314b['status']);}const _0x2e02e9=await _0x51314b[_0x14b857(0xb61)]();if(_0x2e02e9[_0x14b857(0xb0a)]?.[0x0]?.[_0x14b857(0x42a)]?.[_0x14b857(0x87d)]?.[0x0]){let _0x37783a=_0x2e02e9[_0x14b857(0xb0a)][0x0][_0x14b857(0x42a)][_0x14b857(0x87d)][0x0][_0x14b857(0x537)];if(_0x37783a['startsWith'](_0x14b857(0x7da)))_0x37783a=_0x37783a[_0x14b857(0x3aa)](0x7,_0x37783a['length']-0x3)[_0x14b857(0x8e1)]();else _0x37783a[_0x14b857(0xc29)](_0x14b857(0xc27))&&(_0x37783a=_0x37783a['substring'](0x3,_0x37783a['length']-0x3)['trim']());let _0x49e0e8=JSON[_0x14b857(0x560)](_0x37783a);if(_0x23926c){if(_0x5cb616!==null){if(_0x49e0e8[_0x14b857(0x8a4)]===_0x14b857(0x5b0)){const _0x175e3a=currentQuizData[_0x14b857(0xc81)][_0x14b857(0x598)](_0x40ef98=>_0x40ef98[_0x14b857(0x2c7)]);_0x49e0e8[_0x14b857(0xa99)]=_0x175e3a;const _0x585951=currentQuizData['questions'][_0x5cb616][_0x14b857(0x2c7)],_0x32ac2e=_0x175e3a[_0x14b857(0x72f)](_0x585951);_0x32ac2e>-0x1&&(_0x175e3a[_0x32ac2e]=_0x49e0e8['correctResponse']),currentQuizData[_0x14b857(0xc81)][_0x14b857(0x220)](_0xacc756=>{const _0x29f2cc=_0x14b857;if(_0xacc756[_0x29f2cc(0x8a4)]===_0x29f2cc(0x5b0))_0xacc756[_0x29f2cc(0xa99)]=_0x175e3a;});}currentQuizData[_0x14b857(0xc81)][_0x5cb616]=_0x49e0e8,displayGeneratedQuiz(currentQuizData,_0x993caa,_0x124990);}else{currentQuizData=_0x49e0e8;const _0x339a6b=document[_0x14b857(0x288)]('quiz-type-select')['value'];currentQuizData[_0x14b857(0x58f)]=_0x339a6b,currentQuizData[_0x14b857(0xc81)]&&currentQuizData[_0x14b857(0xc81)][_0x14b857(0x220)](_0x486a8f=>{const _0x2f047c=_0x14b857;if(!_0x486a8f['questionType']){if(_0x339a6b===_0x2f047c(0x1ab))_0x486a8f['questionType']=_0x2f047c(0x318);else{if(_0x339a6b===_0x2f047c(0x322))_0x486a8f['questionType']=_0x2f047c(0x59a);else _0x486a8f[_0x2f047c(0x8a4)]=_0x339a6b;}}}),displayGeneratedQuiz(currentQuizData,_0x993caa,_0x124990);}}return _0x49e0e8;}else{let _0x3c5411=_0x14b857(0x65d);if(_0x2e02e9['promptFeedback']?.[_0x14b857(0x833)])_0x3c5411=_0x14b857(0x5fb)+_0x2e02e9['promptFeedback'][_0x14b857(0x833)]+'.';else _0x2e02e9[_0x14b857(0xb0a)]?.[0x0]?.[_0x14b857(0x870)]&&_0x2e02e9['candidates'][0x0][_0x14b857(0x870)]!==_0x14b857(0xa3b)&&(_0x3c5411=_0x14b857(0x47f)+_0x2e02e9[_0x14b857(0xb0a)][0x0][_0x14b857(0x870)]+'.');console['error'](_0x3c5411,JSON[_0x14b857(0x6aa)](_0x2e02e9));throw new Error(_0x3c5411);}}catch(_0x3df132){console[_0x14b857(0x40f)](_0x14b857(0xb70),_0x3df132),showMessage(_0x14b857(0x66f)+_0x3df132[_0x14b857(0x42d)]);_0x5cb616===null&&_0x23926c&&(_0x29e671['innerHTML']=_0x14b857(0x617));throw _0x3df132;}finally{_0x42a988[_0x14b857(0xa39)][_0x14b857(0x5c0)](_0x14b857(0x4c5)),document[_0x14b857(0x288)](_0x14b857(0x233))[_0x14b857(0x9e8)]=![],document[_0x14b857(0x288)](_0x14b857(0x4b5))['disabled']=![],document[_0x14b857(0x288)]('generate-from-link-btn')[_0x14b857(0x9e8)]=![];if(_0x2406c1)_0x2406c1[_0x14b857(0x9e8)]=![];if(_0x197be1)_0x197be1[_0x14b857(0x9e8)]=![];if(_0x37b9ea)_0x37b9ea[_0x14b857(0x9e8)]=![];}}function exitFullscreen(){const _0xd70077=_0x2f78fc;if(document[_0xd70077(0x851)])document['exitFullscreen']()[_0xd70077(0x503)](_0x57e7f3=>console[_0xd70077(0x40f)](_0x57e7f3));else{if(document['webkitExitFullscreen'])document[_0xd70077(0xc5d)]();else document['msExitFullscreen']&&document[_0xd70077(0xcbc)]();}}function enterFullscreen(){const _0x2f98c8=_0x2f78fc,_0x52fe13=document[_0x2f98c8(0x7c5)];if(_0x52fe13['requestFullscreen'])_0x52fe13['requestFullscreen']()['catch'](_0x55bc80=>{const _0x2f6e80=_0x2f98c8;console[_0x2f6e80(0x40f)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x55bc80['message']+'\x20('+_0x55bc80[_0x2f6e80(0xb54)]+')');});else{if(_0x52fe13['webkitRequestFullscreen'])_0x52fe13[_0x2f98c8(0x39a)]();else _0x52fe13[_0x2f98c8(0x3ab)]&&_0x52fe13['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x160ff8=_0x2f78fc;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x160ff8(0xb1e)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document['getElementById'](_0x160ff8(0xb8f))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x160ff8(0xac5)](_0x160ff8(0x700),handleVisibilityChange),document[_0x160ff8(0xac5)](_0x160ff8(0xc59),handleFullscreenChange)):showMessage(_0x160ff8(0x9df)+cheatAttempts+'/'+maxCheatAttempts+_0x160ff8(0x8d6),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x373a29=_0x2f78fc;if(currentMode===_0x373a29(0x749)||!isQuizActive)return;if(document['visibilityState']===_0x373a29(0x4c5))handleCheatingEvent();else document[_0x373a29(0x621)]===_0x373a29(0xca4)&&(console[_0x373a29(0x516)](_0x373a29(0x86e)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x5b0977=_0x2f78fc;if(currentMode===_0x5b0977(0x749)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x34a441,_0x35b702=null,_0x3f04b2=null){const _0x418aa6=_0x2f78fc,_0x2b5dc4=document[_0x418aa6(0x288)](_0x418aa6(0x92c));let _0xa1fa07=_0x418aa6(0xbdb)+_0x34a441[_0x418aa6(0x32c)]+'</h3>';_0x34a441['questions']['forEach']((_0xc857f3,_0xa7682a)=>{const _0x17b4d3=_0x418aa6;!_0xc857f3['id']&&(_0xc857f3['id']='q_'+Date[_0x17b4d3(0x9bc)]()+'_'+_0xa7682a);const _0x5a24b2=_0xc857f3[_0x17b4d3(0x8a4)]||_0x34a441[_0x17b4d3(0x58f)];_0xa1fa07+=_0x17b4d3(0xaf9)+_0xa7682a+_0x17b4d3(0x721)+_0xa7682a+_0x17b4d3(0x1ff)+_0xa7682a+_0x17b4d3(0x693);switch(_0x5a24b2){case'matching_item':_0xa1fa07+=_0x17b4d3(0x591)+_0xa7682a+'\x22>'+(_0xa7682a+0x1)+'.\x20'+_0xc857f3['stem']+_0x17b4d3(0x4d3);_0xc857f3[_0x17b4d3(0xc0c)]&&(_0xa1fa07+=_0x17b4d3(0x760)+_0xa7682a+_0x17b4d3(0x2e3)+_0xc857f3['imageCode']+'</div>');_0xa1fa07+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0xa7682a+'\x22>'+_0xc857f3[_0x17b4d3(0x2c7)]+_0x17b4d3(0x4e1),_0xa1fa07+=_0x17b4d3(0x50e)+_0xa7682a+'\x22>'+_0xc857f3[_0x17b4d3(0xa10)]+_0x17b4d3(0x4e1);break;case _0x17b4d3(0x59a):_0xa1fa07+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xa7682a+'\x22>'+(_0xa7682a+0x1)+'.\x20'+_0xc857f3[_0x17b4d3(0x9fb)]+_0x17b4d3(0x4d3);_0xc857f3[_0x17b4d3(0xc0c)]&&(_0xa1fa07+=_0x17b4d3(0x760)+_0xa7682a+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xc857f3[_0x17b4d3(0xc0c)]+_0x17b4d3(0x21c));_0xa1fa07+=_0x17b4d3(0x7bb)+_0xa7682a+'\x22>'+_0xc857f3[_0x17b4d3(0x558)]+_0x17b4d3(0x4e1),_0xa1fa07+=_0x17b4d3(0x50e)+_0xa7682a+'\x22>'+_0xc857f3['explanation']+_0x17b4d3(0x4e1);break;case _0x17b4d3(0x253):_0xa1fa07+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xa7682a+'\x22>'+(_0xa7682a+0x1)+'.\x20'+_0xc857f3[_0x17b4d3(0x9fb)]+_0x17b4d3(0x4d3);_0xc857f3['imageCode']&&(_0xa1fa07+=_0x17b4d3(0x760)+_0xa7682a+_0x17b4d3(0x2e3)+_0xc857f3[_0x17b4d3(0xc0c)]+_0x17b4d3(0x21c));_0xa1fa07+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xc857f3[_0x17b4d3(0xafe)]===!![]?_0x17b4d3(0x539):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xc857f3['correctAnswer']===![]?_0x17b4d3(0x539):'')+_0x17b4d3(0x1d5),_0xa1fa07+=_0x17b4d3(0x50e)+_0xa7682a+'\x22>'+_0xc857f3[_0x17b4d3(0xa10)]+_0x17b4d3(0x4e1);break;case'fill_in_the_blank':case'multiple_choice':default:_0xa1fa07+=_0x17b4d3(0x591)+_0xa7682a+'\x22>'+(_0xa7682a+0x1)+'.\x20'+_0xc857f3[_0x17b4d3(0x9fb)]+_0x17b4d3(0x4d3);_0xc857f3['imageCode']&&(_0xa1fa07+=_0x17b4d3(0x760)+_0xa7682a+_0x17b4d3(0x2e3)+_0xc857f3[_0x17b4d3(0xc0c)]+_0x17b4d3(0x21c));_0xa1fa07+=_0x17b4d3(0xa03)+_0xa7682a+_0x17b4d3(0x5fc)+(_0xc857f3[_0x17b4d3(0x67e)]||[])[_0x17b4d3(0x598)]((_0x40d960,_0x47f105)=>_0x17b4d3(0xac0)+(_0x47f105===_0xc857f3[_0x17b4d3(0x90b)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x40d960+_0x17b4d3(0x823))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0xa1fa07+=_0x17b4d3(0x50e)+_0xa7682a+'\x22>'+_0xc857f3[_0x17b4d3(0xa10)]+_0x17b4d3(0x4e1);break;}_0xa1fa07+=_0x17b4d3(0x21c);}),_0xa1fa07+=_0x418aa6(0xb07),_0x2b5dc4[_0x418aa6(0x5f0)]=_0xa1fa07,document[_0x418aa6(0x3db)]('.edit-question-btn')['forEach'](_0x4a3a22=>_0x4a3a22[_0x418aa6(0x5b2)]('click',handleEditQuestion)),document[_0x418aa6(0x3db)](_0x418aa6(0x589))['forEach'](_0x1bac92=>_0x1bac92[_0x418aa6(0x5b2)](_0x418aa6(0x8d9),handleRegenerateQuestion)),document[_0x418aa6(0x288)](_0x418aa6(0x4c7))[_0x418aa6(0x5b2)](_0x418aa6(0x8d9),exportQuizAsWorksheetPDF),document[_0x418aa6(0x288)]('verify-answers-btn')[_0x418aa6(0x5b2)](_0x418aa6(0x8d9),handleVerifyAnswers);const _0x3be786=document['getElementById'](_0x418aa6(0x44e));if(_0x3be786){const _0x35e057=_0x35b702||currentProjectId;_0x3be786[_0x418aa6(0x5b2)](_0x418aa6(0x8d9),()=>saveQuiz(_0x35e057,_0x3f04b2));}if(window[_0x418aa6(0x5ed)])window[_0x418aa6(0x5ed)]['typesetPromise']([_0x2b5dc4]);}function handleRegenerateQuestion(_0x3c820f){const _0x169b74=_0x2f78fc,_0x4abf60=_0x3c820f[_0x169b74(0x76f)][_0x169b74(0xa66)][_0x169b74(0x78c)],_0x5c8b6c=currentQuizData[_0x169b74(0x32c)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x4abf60)+0x1)+_0x169b74(0xae4)),generateQuiz(_0x5c8b6c,null,parseInt(_0x4abf60));}function getPointerPosition(_0x569ef6,_0x3b6f91){const _0x3e7f90=_0x2f78fc,_0x527f2f=_0x569ef6['getScreenCTM']();let _0x115b7f,_0x305f27;return _0x3b6f91[_0x3e7f90(0x984)]&&_0x3b6f91['touches'][_0x3e7f90(0x649)]>0x0?(_0x115b7f=_0x3b6f91[_0x3e7f90(0x984)][0x0][_0x3e7f90(0xb65)],_0x305f27=_0x3b6f91[_0x3e7f90(0x984)][0x0][_0x3e7f90(0x1af)]):(_0x115b7f=_0x3b6f91[_0x3e7f90(0xb65)],_0x305f27=_0x3b6f91['clientY']),{'x':(_0x115b7f-_0x527f2f['e'])/_0x527f2f['a'],'y':(_0x305f27-_0x527f2f['f'])/_0x527f2f['d']};}function startDrag(_0x30a20d){const _0x10c379=_0x2f78fc;_0x30a20d[_0x10c379(0x5b4)]==='touchstart'&&_0x30a20d['preventDefault']();const _0x240417=_0x30a20d[_0x10c379(0x328)][_0x10c379(0x6d3)](_0x10c379(0x51a));if(_0x240417){draggedSvgElement=_0x240417;const _0x3cb0aa=draggedSvgElement[_0x10c379(0x5ba)],_0x293711=getPointerPosition(_0x3cb0aa,_0x30a20d);svgOffset['x']=_0x293711['x']-parseFloat(draggedSvgElement[_0x10c379(0xc98)](null,'x')),svgOffset['y']=_0x293711['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x392aff,_0x7ea8cf){const _0x2f4dba=_0x2f78fc,_0x9d10d={};if(_0x7ea8cf[_0x2f4dba(0x649)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2a4b38=[..._0x7ea8cf]['sort']((_0x3b460f,_0x575fab)=>{const _0x5051bb=_0x2f4dba,_0x14af7e=_0x575fab['latestScore']-_0x3b460f['latestScore'];if(_0x14af7e!==0x0)return _0x14af7e;const _0x52b7bf=_0x3b460f[_0x5051bb(0x311)]?.['length']||0x1,_0x1a91e5=_0x575fab[_0x5051bb(0x311)]?.[_0x5051bb(0x649)]||0x1,_0x35ab6c=_0x52b7bf-_0x1a91e5;if(_0x35ab6c!==0x0)return _0x35ab6c;const _0x5f14cb=new Date(_0x3b460f[_0x5051bb(0x38a)]),_0x361c5d=new Date(_0x575fab[_0x5051bb(0x38a)]),_0x32e905=_0x5f14cb-_0x361c5d;if(_0x32e905!==0x0)return _0x32e905;return _0x3b460f[_0x5051bb(0xc3d)]['localeCompare'](_0x575fab[_0x5051bb(0xc3d)],'th');}),_0x29ebcb=_0x2a4b38['length'],_0x543e19=Math[_0x2f4dba(0x509)](0x1,Math['floor'](_0x29ebcb*0.33));if(_0x543e19===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4d70b7=_0x2a4b38[_0x2f4dba(0xacc)](0x0,_0x543e19),_0x2e7273=_0x2a4b38[_0x2f4dba(0xacc)](-_0x543e19),_0x57b0ac=_0x4d70b7[_0x2f4dba(0x598)](_0x42ecd6=>_0x42ecd6[_0x2f4dba(0xc3d)]),_0x15c6c1=_0x2e7273[_0x2f4dba(0x598)](_0x50be69=>_0x50be69[_0x2f4dba(0xc3d)]);return _0x392aff[_0x2f4dba(0xc81)][_0x2f4dba(0x220)]((_0x4f0363,_0x3ef222)=>{const _0x13246c=_0x2f4dba,_0x26c367=_0x4f0363[_0x13246c(0x34d)]||_0x4f0363['questionText'];let _0x2f7380=0x0,_0x6d2a07=0x0,_0x21d847=0x0;const _0x2dee73=[],_0x7baf4=[];_0x4d70b7[_0x13246c(0x220)](_0x1af5b1=>{const _0x112b04=_0x13246c,_0x4f2676=_0x1af5b1[_0x112b04(0x311)][_0x1af5b1[_0x112b04(0x311)][_0x112b04(0x649)]-0x1],_0x850452=_0x4f2676[_0x112b04(0x620)][_0x112b04(0x533)](_0x5c7dfb=>_0x5c7dfb[_0x112b04(0x680)]===_0x26c367);_0x2dee73[_0x112b04(0x346)]({'name':_0x1af5b1[_0x112b04(0xc3d)],'isCorrect':_0x850452?_0x850452[_0x112b04(0x8bd)]:![]}),_0x850452&&_0x850452[_0x112b04(0x8bd)]&&_0x6d2a07++;}),_0x2e7273['forEach'](_0x5c4238=>{const _0x147998=_0x13246c,_0x236d15=_0x5c4238[_0x147998(0x311)][_0x5c4238[_0x147998(0x311)][_0x147998(0x649)]-0x1],_0x354d33=_0x236d15[_0x147998(0x620)][_0x147998(0x533)](_0x3ba392=>_0x3ba392['originalQuestionText']===_0x26c367);_0x7baf4[_0x147998(0x346)]({'name':_0x5c4238[_0x147998(0xc3d)],'isCorrect':_0x354d33?_0x354d33[_0x147998(0x8bd)]:![]}),_0x354d33&&_0x354d33[_0x147998(0x8bd)]&&_0x21d847++;}),_0x7ea8cf[_0x13246c(0x220)](_0x3b5487=>{const _0x3fdffd=_0x13246c,_0x36cda6=_0x3b5487['attempts'][_0x3b5487[_0x3fdffd(0x311)][_0x3fdffd(0x649)]-0x1],_0x548455=_0x36cda6[_0x3fdffd(0x620)]['find'](_0x1dffc2=>_0x1dffc2['originalQuestionText']===_0x26c367);_0x548455&&_0x548455[_0x3fdffd(0x8bd)]&&_0x2f7380++;});const _0x4a4df5=_0x29ebcb>0x0?_0x2f7380/_0x29ebcb:0x0,_0x30925f=_0x543e19>0x0?_0x6d2a07/_0x543e19-_0x21d847/_0x543e19:0x0;_0x9d10d[_0x3ef222]={'p':_0x4a4df5,'r':_0x30925f,'upperGroupResponders':_0x2dee73,'lowerGroupResponders':_0x7baf4};}),{'perQuestionStats':_0x9d10d,'overallGroups':{'upperGroupNames':_0x57b0ac,'lowerGroupNames':_0x15c6c1}};}function drag(_0x3054f7){const _0x5d46e0=_0x2f78fc;if(draggedSvgElement){_0x3054f7[_0x5d46e0(0xc57)]();const _0xfe6dd3=draggedSvgElement[_0x5d46e0(0x5ba)],_0x5011d6=getPointerPosition(_0xfe6dd3,_0x3054f7),_0x4eff40=_0xfe6dd3[_0x5d46e0(0x5db)][_0x5d46e0(0x465)];let _0x393481=_0x5011d6['x']-svgOffset['x'],_0x522bcc=_0x5011d6['y']-svgOffset['y'];const _0x334995=draggedSvgElement[_0x5d46e0(0x9c2)]();_0x393481=Math['max'](_0x4eff40['x'],Math['min'](_0x393481,_0x4eff40['x']+_0x4eff40[_0x5d46e0(0x451)]-_0x334995['width'])),_0x522bcc=Math['max'](_0x4eff40['y'],Math[_0x5d46e0(0xc1f)](_0x522bcc,_0x4eff40['y']+_0x4eff40[_0x5d46e0(0x767)]-_0x334995['height'])),draggedSvgElement[_0x5d46e0(0x6a1)](null,'x',_0x393481),draggedSvgElement[_0x5d46e0(0x6a1)](null,'y',_0x522bcc);}}function endDrag(_0x133625){draggedSvgElement=null;}function handleSvgEditClick(_0x392f50){const _0x34275d=_0x2f78fc;if(_0x392f50[_0x34275d(0x328)]['classList'][_0x34275d(0x6ca)]('delete-svg-btn')){const _0xf80fce=_0x392f50[_0x34275d(0x328)][_0x34275d(0xa66)][_0x34275d(0x772)],_0x4d2c73=_0x392f50[_0x34275d(0x76f)],_0x151887=_0x4d2c73[_0x34275d(0x2ee)]('#'+_0xf80fce);_0x151887&&_0x151887[_0x34275d(0xc4b)](),_0x392f50[_0x34275d(0x328)]['remove']();}}function handleEditQuestion(_0x19deb6){const _0x36e400=_0x2f78fc,_0x415e17=_0x19deb6[_0x36e400(0x76f)],_0x43b9e1=_0x415e17[_0x36e400(0xa66)][_0x36e400(0x78c)],_0x414c05=currentQuizData['questions'][_0x43b9e1],_0x308d3c=document[_0x36e400(0x288)](_0x36e400(0x816)+_0x43b9e1),_0x65b6ec=document[_0x36e400(0x288)]('q-explanation-'+_0x43b9e1),_0xbb90bd=document[_0x36e400(0x288)]('q-image-container-'+_0x43b9e1);if(_0x415e17[_0x36e400(0x5f0)]['includes'](_0x36e400(0xb38))){_0x415e17['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x415e17['title']=_0x36e400(0x363);if(_0x308d3c)_0x308d3c[_0x36e400(0xaab)]=!![];if(_0x65b6ec)_0x65b6ec[_0x36e400(0xaab)]=!![];if(_0xbb90bd){const _0xa7e5e=_0xbb90bd[_0x36e400(0x2ee)](_0x36e400(0x8d3));if(_0xa7e5e){const _0x36f644=_0xa7e5e[_0x36e400(0x3db)](_0x36e400(0x537));_0x36f644['forEach']((_0x31c97f,_0x53babf)=>{const _0x4b68f7=_0x36e400,_0x1e44a9=_0x4b68f7(0x3fb)+_0x43b9e1+'-'+_0x53babf;_0x31c97f['id']=_0x1e44a9,_0x31c97f[_0x4b68f7(0xa39)]['add']('draggable-text'),_0x31c97f[_0x4b68f7(0x4e4)][_0x4b68f7(0x54c)]=_0x4b68f7(0x8cf);const _0x5b2105=document[_0x4b68f7(0xa86)](_0x4b68f7(0x7ab),_0x4b68f7(0x1e0)),_0x420118=_0x31c97f[_0x4b68f7(0x9c2)]();_0x5b2105[_0x4b68f7(0x30f)]('cx',String(_0x420118['x']+_0x420118[_0x4b68f7(0x451)]+0x5)),_0x5b2105[_0x4b68f7(0x30f)]('cy',String(_0x420118['y']+_0x420118['height']/0x2-0x5)),_0x5b2105[_0x4b68f7(0x30f)]('r','5'),_0x5b2105[_0x4b68f7(0x30f)](_0x4b68f7(0x2ba),'red'),_0x5b2105[_0x4b68f7(0x30f)](_0x4b68f7(0xc28),_0x4b68f7(0x894)),_0x5b2105['dataset'][_0x4b68f7(0x772)]=_0x1e44a9,_0x31c97f[_0x4b68f7(0x5fe)](_0x5b2105);}),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x97f),startDrag),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x23c),drag),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x7f5),endDrag),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x765),endDrag),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x8ca),startDrag,{'passive':![]}),_0xa7e5e['addEventListener']('touchmove',drag,{'passive':![]}),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x6a3),endDrag),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x94d),endDrag),_0xa7e5e[_0x36e400(0x5b2)](_0x36e400(0x8d9),handleSvgEditClick);}}if(_0x308d3c)_0x308d3c[_0x36e400(0x26e)]();}else{_0x415e17[_0x36e400(0x5f0)]=_0x36e400(0x1e2),_0x415e17[_0x36e400(0x448)]=_0x36e400(0xb66);if(_0x308d3c){_0x308d3c[_0x36e400(0xaab)]=![];const _0x32437b=_0x414c05['questionType']||currentQuizData[_0x36e400(0x58f)];_0x32437b===_0x36e400(0x5b0)?_0x414c05['stem']=_0x308d3c['innerText'][_0x36e400(0x3aa)](_0x308d3c[_0x36e400(0x633)][_0x36e400(0x72f)]('.')+0x2)[_0x36e400(0x8e1)]():_0x414c05['questionText']=_0x308d3c[_0x36e400(0x633)][_0x36e400(0x3aa)](_0x308d3c[_0x36e400(0x633)][_0x36e400(0x72f)]('.')+0x2)['trim']();}_0x65b6ec&&(_0x65b6ec['contentEditable']=![],_0x414c05[_0x36e400(0xa10)]=_0x65b6ec[_0x36e400(0x633)]);if(_0xbb90bd){const _0x111fdd=_0xbb90bd[_0x36e400(0x2ee)](_0x36e400(0x8d3));if(_0x111fdd){const _0x2f5ed7=_0x111fdd['cloneNode'](!![]);_0x2f5ed7[_0x36e400(0x3db)]('.delete-svg-btn')[_0x36e400(0x220)](_0x271c0c=>_0x271c0c[_0x36e400(0xc4b)]()),_0x2f5ed7['querySelectorAll'](_0x36e400(0x51a))[_0x36e400(0x220)](_0xcd764a=>{const _0x995fdc=_0x36e400;_0xcd764a[_0x995fdc(0xa39)]['remove'](_0x995fdc(0x444)),_0xcd764a['style'][_0x995fdc(0x54c)]=_0x995fdc(0x8e9),_0xcd764a[_0x995fdc(0x578)]('id');}),_0x414c05[_0x36e400(0xc0c)]=_0x2f5ed7['outerHTML'],_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x97f),startDrag),_0x111fdd[_0x36e400(0xac5)]('mousemove',drag),_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x7f5),endDrag),_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x765),endDrag),_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x8ca),startDrag),_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x8bc),drag),_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x6a3),endDrag),_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x94d),endDrag),_0x111fdd[_0x36e400(0xac5)](_0x36e400(0x8d9),handleSvgEditClick),_0x111fdd['querySelectorAll'](_0x36e400(0xaf6))[_0x36e400(0x220)](_0x3f2ec5=>_0x3f2ec5[_0x36e400(0xc4b)]()),_0x111fdd[_0x36e400(0x3db)](_0x36e400(0x51a))[_0x36e400(0x220)](_0x31ff9a=>{const _0x233a8d=_0x36e400;_0x31ff9a['classList'][_0x233a8d(0xc4b)](_0x233a8d(0x444)),_0x31ff9a[_0x233a8d(0x4e4)][_0x233a8d(0x54c)]=_0x233a8d(0x8e9);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1b98d2){const _0x4487f2=_0x2f78fc,_0x3ad731=document[_0x4487f2(0x288)]('quiz-editor-modal'),_0x40e3d6=document[_0x4487f2(0x288)](_0x4487f2(0xb79));_0x40e3d6[_0x4487f2(0x5f0)]=_0x4487f2(0x4ac),_0x3ad731['classList'][_0x4487f2(0xc4b)](_0x4487f2(0x4c5));try{const _0x5e5d07=doc(db,_0x4487f2(0x309)+appId+_0x4487f2(0x480),_0x1b98d2),_0x2db653=await getDoc(_0x5e5d07);if(!_0x2db653[_0x4487f2(0x5e4)]())throw new Error(_0x4487f2(0x753));currentEditingQuizData={'id':_0x1b98d2,..._0x2db653[_0x4487f2(0xc89)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x290247){console[_0x4487f2(0x40f)](_0x4487f2(0x414),_0x290247),showMessage(_0x4487f2(0x5b7)),_0x3ad731[_0x4487f2(0xa39)][_0x4487f2(0x5c0)](_0x4487f2(0x4c5));}}function _0x43c7(_0x3007e2,_0x5c91f8){const _0x35af20=_0x35af();return _0x43c7=function(_0x43c740,_0x13affc){_0x43c740=_0x43c740-0x1a6;let _0x699970=_0x35af20[_0x43c740];return _0x699970;},_0x43c7(_0x3007e2,_0x5c91f8);}function renderQuizEditor(_0x3fd90f){const _0x37d291=_0x2f78fc;document[_0x37d291(0x288)](_0x37d291(0xb94))['value']=_0x3fd90f['topic'];const _0x141d11=document[_0x37d291(0x288)]('quiz-editor-questions-container');let _0x4efd5e=_0x3fd90f[_0x37d291(0xc81)]['map']((_0x4977ad,_0x402f4c)=>{const _0x564b78=_0x37d291;let _0x224459='';const _0x3c5b87=_0x4977ad['questionType']||_0x3fd90f[_0x564b78(0x58f)];switch(_0x3c5b87){case _0x564b78(0x318):const _0x2ac087=(_0x4977ad['options']||[])['map']((_0x45e7b9,_0x5c9380)=>_0x564b78(0xb35)+_0x402f4c+_0x564b78(0x810)+_0x5c9380+'\x22\x20'+(_0x5c9380===_0x4977ad[_0x564b78(0x90b)]?_0x564b78(0xbe3):'')+_0x564b78(0x65a)+_0x45e7b9+_0x564b78(0x9ae))[_0x564b78(0x53d)]('');_0x224459=_0x564b78(0x691)+_0x2ac087+_0x564b78(0x472);break;case _0x564b78(0x59a):_0x224459=_0x564b78(0xd08)+(_0x4977ad[_0x564b78(0x558)]||'')+_0x564b78(0x926);break;case _0x564b78(0x253):_0x224459=_0x564b78(0x2bb)+_0x402f4c+'\x22\x20value=\x22true\x22\x20'+(_0x4977ad[_0x564b78(0xafe)]===!![]?'checked':'')+_0x564b78(0xc50)+_0x402f4c+'\x22\x20value=\x22false\x22\x20'+(_0x4977ad['correctAnswer']===![]?_0x564b78(0xbe3):'')+_0x564b78(0xaa7);break;case _0x564b78(0x5b0):_0x224459=_0x564b78(0x76c)+(_0x4977ad[_0x564b78(0x2c7)]||'')+_0x564b78(0xbc0);break;}const _0x284bb7=_0x4977ad['questionText']||_0x4977ad[_0x564b78(0x34d)]||'';return'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x402f4c+'\x22\x20data-q-type=\x22'+_0x3c5b87+_0x564b78(0xc9b)+(_0x402f4c+0x1)+'\x20('+_0x3c5b87+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x284bb7+_0x564b78(0x559)+_0x224459+'</div>\x0a</div>\x0a';})[_0x37d291(0x53d)]('');_0x141d11['innerHTML']=_0x4efd5e,_0x141d11[_0x37d291(0x3db)]('.ai-fix-question-btn')[_0x37d291(0x220)](_0x14c3a=>{const _0x1cb81f=_0x37d291;_0x14c3a[_0x1cb81f(0x5b2)](_0x1cb81f(0x8d9),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x2f5537){const _0x2c62fb=_0x2f78fc,_0xb47940=_0x2f5537['currentTarget'],_0x219d74=_0xb47940[_0x2c62fb(0x6d3)]('.question-editor-item');if(!_0x219d74)return;const _0x44c2ad=parseInt(_0x219d74[_0x2c62fb(0xa66)][_0x2c62fb(0xce1)],0xa);if(isNaN(_0x44c2ad)||!currentEditingQuizData[_0x2c62fb(0xc81)][_0x44c2ad]){showMessage(_0x2c62fb(0x482));return;}const _0x52065e=currentEditingQuizData[_0x2c62fb(0xc81)][_0x44c2ad];_0xb47940[_0x2c62fb(0x5f0)]=_0x2c62fb(0xc6a),_0xb47940[_0x2c62fb(0x9e8)]=!![];const _0x22237b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x52065e)+_0x2c62fb(0x970);let _0x542c8a;const _0x502a76=_0x52065e['questionType']||currentEditingQuizData[_0x2c62fb(0x58f)];switch(_0x502a76){case _0x2c62fb(0x59a):_0x542c8a={'type':_0x2c62fb(0x91b),'properties':{'questionText':{'type':_0x2c62fb(0x395)},'idealAnswer':{'type':_0x2c62fb(0x395)},'explanation':{'type':_0x2c62fb(0x395)},'imageCode':{'type':_0x2c62fb(0x395)}},'required':['questionText','idealAnswer',_0x2c62fb(0xa10)]};break;case _0x2c62fb(0x318):default:_0x542c8a={'type':'OBJECT','properties':{'questionText':{'type':_0x2c62fb(0x395)},'options':{'type':_0x2c62fb(0xb29),'items':{'type':_0x2c62fb(0x395)}},'correctAnswerIndex':{'type':_0x2c62fb(0x50d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c62fb(0x395)}},'required':['questionText',_0x2c62fb(0x67e),_0x2c62fb(0x90b),_0x2c62fb(0xa10)]};break;}try{let _0x9d373b=await callAnalysisApi(_0x22237b,_0x542c8a);_0x9d373b[_0x2c62fb(0x67e)]&&Array['isArray'](_0x9d373b[_0x2c62fb(0x67e)])&&(_0x9d373b[_0x2c62fb(0x67e)]=_0x9d373b['options']['map'](_0x1e962e=>typeof _0x1e962e===_0x2c62fb(0xbbd)?_0x1e962e[_0x2c62fb(0x5e3)](/S(\s*[\d_]+?\s*)S/g,_0x2c62fb(0x416)):_0x1e962e)),_0x52065e['imageCode']&&_0x52065e[_0x2c62fb(0xc0c)]['includes'](_0x2c62fb(0xb69))&&(_0x9d373b[_0x2c62fb(0xc0c)]=''),currentEditingQuizData['questions'][_0x44c2ad]={..._0x52065e,..._0x9d373b},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x3ce5b3){console[_0x2c62fb(0x40f)](_0x2c62fb(0xc36),_0x3ce5b3),showMessage(_0x2c62fb(0xc97)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1fff1e=_0x2f78fc,_0x4ea954=document[_0x1fff1e(0x288)]('save-quiz-edits-btn');_0x4ea954[_0x1fff1e(0x9e8)]=!![],_0x4ea954[_0x1fff1e(0x5f0)]=_0x1fff1e(0x854);try{const _0x4b84a4=document['getElementById'](_0x1fff1e(0xb94))[_0x1fff1e(0x63b)],_0x448c50=document[_0x1fff1e(0x3db)]('.question-editor-item');let _0x1c5eac=[];const _0x3115a0=Array['from'](_0x448c50)[_0x1fff1e(0x598)]((_0x55e368,_0xe7709a)=>{const _0x48056c=_0x1fff1e,_0x492597=_0x55e368[_0x48056c(0xa66)][_0x48056c(0x79c)],_0x5f4c5f=_0x55e368[_0x48056c(0x2ee)](_0x48056c(0x4f2))[_0x48056c(0x63b)][_0x48056c(0x5e3)](/\n/g,_0x48056c(0x293));let _0x5e5f2c={'questionType':_0x492597};const _0x441ebe=currentEditingQuizData[_0x48056c(0xc81)][_0xe7709a];switch(_0x492597){case'multiple_choice':_0x5e5f2c[_0x48056c(0x9fb)]=_0x5f4c5f;const _0x363ecc=_0x55e368[_0x48056c(0x3db)]('input[type=\x22text\x22]');_0x5e5f2c[_0x48056c(0x67e)]=Array[_0x48056c(0x4f5)](_0x363ecc)[_0x48056c(0x598)](_0xbde165=>_0xbde165[_0x48056c(0x63b)]);const _0x36645d=_0x55e368[_0x48056c(0x2ee)]('input[type=\x22radio\x22]:checked');_0x5e5f2c[_0x48056c(0x90b)]=_0x36645d?parseInt(_0x36645d[_0x48056c(0x63b)]):0x0;break;case _0x48056c(0x59a):_0x5e5f2c[_0x48056c(0x9fb)]=_0x5f4c5f,_0x5e5f2c[_0x48056c(0x558)]=_0x55e368[_0x48056c(0x2ee)](_0x48056c(0x431))['value'];break;case'true_false':_0x5e5f2c[_0x48056c(0x9fb)]=_0x5f4c5f;const _0x1057ab=_0x55e368[_0x48056c(0x2ee)]('input[type=\x22radio\x22]:checked');_0x5e5f2c[_0x48056c(0xafe)]=_0x1057ab?_0x1057ab['value']===_0x48056c(0x77f):!![];break;case'matching_item':_0x5e5f2c[_0x48056c(0x34d)]=_0x5f4c5f;const _0x1ecd6=_0x55e368[_0x48056c(0x2ee)]('.correct-response-input');_0x5e5f2c['correctResponse']=_0x1ecd6?_0x1ecd6[_0x48056c(0x63b)]:'',_0x1c5eac[_0x48056c(0x346)](_0x5e5f2c['correctResponse']);break;default:_0x5e5f2c[_0x48056c(0x9fb)]=_0x5f4c5f;break;}return{..._0x441ebe,..._0x5e5f2c};});_0x1c5eac[_0x1fff1e(0x649)]>0x0&&_0x3115a0[_0x1fff1e(0x220)](_0x1901df=>{const _0x583eb9=_0x1fff1e;_0x1901df[_0x583eb9(0x8a4)]===_0x583eb9(0x5b0)&&(_0x1901df[_0x583eb9(0xa99)]=_0x1c5eac);});const _0x176745=currentEditingQuizData['id'],_0x40c549=doc(db,_0x1fff1e(0x309)+appId+_0x1fff1e(0x480),_0x176745);await updateDoc(_0x40c549,{'topic':_0x4b84a4,'questions':_0x3115a0}),document[_0x1fff1e(0x288)](_0x1fff1e(0xc54))[_0x1fff1e(0xa39)][_0x1fff1e(0x5c0)](_0x1fff1e(0x4c5)),showMessage(_0x1fff1e(0xd03),()=>initiateReGradeProcess(_0x176745));}catch(_0x465765){console[_0x1fff1e(0x40f)]('Error\x20saving\x20quiz\x20edits:',_0x465765),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x4ea954['disabled']=![],_0x4ea954['innerHTML']=_0x1fff1e(0xa88);}}async function initiateReGradeProcess(_0x53ca52){const _0x14a637=_0x2f78fc;showMessage(_0x14a637(0x1e9));try{const _0x48f125=doc(db,_0x14a637(0x309)+appId+_0x14a637(0x480),_0x53ca52),_0x13f3bd=await getDoc(_0x48f125);if(!_0x13f3bd[_0x14a637(0x5e4)]())throw new Error(_0x14a637(0x663));const _0x3dd771={'id':_0x53ca52,..._0x13f3bd[_0x14a637(0xc89)]()},_0x2ece07=collection(db,'artifacts/'+appId+_0x14a637(0x480),_0x53ca52,_0x14a637(0x8d0)),_0x2a068f=await getDocs(_0x2ece07);if(_0x2a068f[_0x14a637(0x339)]){showMessage(_0x14a637(0xa0f));return;}const _0x4f37cd=_0x2a068f[_0x14a637(0x2ea)]['map'](_0x5c8029=>reGradeSingleSubmission(_0x5c8029,_0x3dd771));await Promise[_0x14a637(0x1da)](_0x4f37cd);if(_0x3dd771['projectId']){const _0x4c069a=doc(db,_0x14a637(0x309)+appId+_0x14a637(0x498),_0x3dd771[_0x14a637(0x93e)]),_0x5415fc=await getDoc(_0x4c069a);if(_0x5415fc[_0x14a637(0x5e4)]()&&_0x5415fc[_0x14a637(0xc89)]()['students']){const _0x248c06=_0x5415fc[_0x14a637(0xc89)]()[_0x14a637(0x595)][_0x14a637(0x598)](_0x511632=>updateStudentProfile(_0x3dd771[_0x14a637(0x93e)],_0x511632));await Promise[_0x14a637(0x1da)](_0x248c06);}}showMessage(_0x14a637(0xbeb)+_0x2a068f[_0x14a637(0x7e5)]+_0x14a637(0x7fb));}catch(_0x4ded2b){console[_0x14a637(0x40f)](_0x14a637(0xb1b),_0x4ded2b),showMessage(_0x14a637(0xc4a)+_0x4ded2b[_0x14a637(0x42d)]);}}async function reGradeSingleSubmission(_0x1cd752,_0x308311){const _0x4127e1=_0x2f78fc,_0x2d1a1a=_0x1cd752[_0x4127e1(0xc89)](),_0x3dcc25=_0x2d1a1a[_0x4127e1(0xc3d)],_0x417589=_0x2d1a1a[_0x4127e1(0x311)]||[],_0x4a5eaa=[];for(const _0x31e7eb of _0x417589){let _0x364641=0x0,_0x369aeb=[],_0x12becd=0x0;const _0xa50262=[];for(const _0x537923 of _0x31e7eb[_0x4127e1(0x620)]){let _0x88c7ef;_0x537923[_0x4127e1(0x56a)]&&(_0x88c7ef=_0x308311[_0x4127e1(0xc81)][_0x4127e1(0x533)](_0x2a0fdc=>_0x2a0fdc['id']===_0x537923[_0x4127e1(0x56a)]));!_0x88c7ef&&_0x537923[_0x4127e1(0x680)]&&(_0x88c7ef=_0x308311[_0x4127e1(0xc81)][_0x4127e1(0x533)](_0x337971=>(_0x337971[_0x4127e1(0x34d)]||_0x337971['questionText'])===_0x537923['originalQuestionText']));let _0x459fc4=![];if(_0x88c7ef){const _0x5731a1=_0x88c7ef[_0x4127e1(0x8a4)]||_0x308311[_0x4127e1(0x58f)];switch(_0x5731a1){case _0x4127e1(0x318):if(_0x88c7ef[_0x4127e1(0x67e)]&&_0x88c7ef['correctAnswerIndex']<_0x88c7ef[_0x4127e1(0x67e)][_0x4127e1(0x649)]){const _0x1ab9db=_0x88c7ef[_0x4127e1(0x67e)][_0x88c7ef['correctAnswerIndex']];_0x459fc4=_0x537923['answerText']===_0x1ab9db;}break;case _0x4127e1(0x253):const _0x30f972=_0x537923[_0x4127e1(0x922)]===!![]||_0x537923[_0x4127e1(0x922)]===_0x4127e1(0x77f);_0x459fc4=_0x30f972===_0x88c7ef[_0x4127e1(0xafe)];break;case _0x4127e1(0x5b0):_0x459fc4=_0x537923[_0x4127e1(0x922)]===_0x88c7ef['correctResponse'];break;case _0x4127e1(0x59a):_0x459fc4=await gradeShortAnswer(_0x537923[_0x4127e1(0x922)],_0x88c7ef);break;default:_0x459fc4=_0x537923[_0x4127e1(0x8bd)];break;}}if(_0x459fc4){_0x364641++,_0x12becd++;if(_0x12becd===0x3)_0x369aeb['push'](BADGES[_0x4127e1(0x795)]['id']);}else _0x12becd=0x0;_0xa50262[_0x4127e1(0x346)]({..._0x537923,'isCorrect':_0x459fc4});}let _0x4c506=_0x364641*0xa;_0x364641===_0x308311[_0x4127e1(0xc81)]['length']&&(_0x4c506+=0x32,_0x369aeb[_0x4127e1(0x346)](BADGES[_0x4127e1(0x3e4)]['id'])),_0x4a5eaa['push']({..._0x31e7eb,'score':_0x364641,'points':_0x4c506,'badges':Array[_0x4127e1(0x4f5)](new Set(_0x369aeb)),'answers':_0xa50262});}const _0x4b64fb=_0x4a5eaa[_0x4127e1(0x649)]>0x0?_0x4a5eaa[0x0][_0x4127e1(0x447)]:0x0,_0xaa13f1=Math[_0x4127e1(0x509)](..._0x4a5eaa[_0x4127e1(0x598)](_0x36cd18=>_0x36cd18[_0x4127e1(0x447)])),_0x26d35d=_0x4a5eaa[_0x4127e1(0x649)]>0x0?_0x4a5eaa[_0x4a5eaa['length']-0x1][_0x4127e1(0x447)]:0x0,_0x298d37=_0x4a5eaa[_0x4127e1(0x649)]>0x0?_0x4a5eaa[_0x4a5eaa[_0x4127e1(0x649)]-0x1][_0x4127e1(0x28d)]:0x0,_0x12db89=doc(db,_0x4127e1(0x309)+appId+'/public/data/quizzes/'+_0x308311['id']+_0x4127e1(0x74a),_0x3dcc25);await updateDoc(_0x12db89,{'attempts':_0x4a5eaa,'firstScore':_0x4b64fb,'bestScore':_0xaa13f1,'latestScore':_0x26d35d,'points':_0x298d37});}function cleanupQuizOptions(_0x5cc7ee){const _0x5672d0=_0x2f78fc,_0x505929=(_0x24df3e,_0x52f5cc)=>_0x52f5cc===0x0?_0x24df3e:_0x505929(_0x52f5cc,_0x24df3e%_0x52f5cc),_0x3d8f05=_0x51b78c=>{const _0x93ba31=_0x43c7;if(typeof _0x51b78c!==_0x93ba31(0xbbd))return null;_0x51b78c=_0x51b78c[_0x93ba31(0x8e1)]();const _0x5edb92=_0x51b78c[_0x93ba31(0x39e)](/[ /]/)[_0x93ba31(0x3e1)](_0x1344bd=>_0x1344bd!=='');if(_0x5edb92['length']===0x3)return parseInt(_0x5edb92[0x0])+parseInt(_0x5edb92[0x1])/parseInt(_0x5edb92[0x2]);else{if(_0x5edb92[_0x93ba31(0x649)]===0x2)return parseInt(_0x5edb92[0x0])/parseInt(_0x5edb92[0x1]);else{if(_0x5edb92[_0x93ba31(0x649)]===0x1&&!isNaN(_0x5edb92[0x0]))return parseFloat(_0x5edb92[0x0]);}}return null;},_0x4d8eb7=_0x4f16d9=>{const _0xf4eced=_0x43c7;if(typeof _0x4f16d9!==_0xf4eced(0xbbd))return _0x4f16d9;const _0x5cbd3a=_0x4f16d9[_0xf4eced(0x3c2)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5cbd3a){const _0x612bb1=parseInt(_0x5cbd3a[0x1]);let _0xcf3fb0=parseInt(_0x5cbd3a[0x2]),_0x45206a=parseInt(_0x5cbd3a[0x3]);const _0x31ff9e=_0x505929(_0xcf3fb0,_0x45206a);_0xcf3fb0/=_0x31ff9e,_0x45206a/=_0x31ff9e;if(_0x45206a===0x1)return(_0x612bb1+_0xcf3fb0)[_0xf4eced(0x2d0)]();return _0x612bb1+'\x20'+_0xcf3fb0+'/'+_0x45206a;}return _0x4f16d9;};return _0x5cc7ee&&_0x5cc7ee[_0x5672d0(0xc81)]&&_0x5cc7ee[_0x5672d0(0xc81)]['forEach'](_0x8ed532=>{const _0x453320=_0x5672d0;if(_0x8ed532[_0x453320(0x8a4)]===_0x453320(0x318)&&_0x8ed532[_0x453320(0x67e)]){const _0x4542e5=new Map(),_0x38d31c=_0x8ed532['options'][_0x8ed532[_0x453320(0x90b)]];_0x8ed532[_0x453320(0x67e)][_0x453320(0x220)](_0x59ff97=>{const _0x5e1922=_0x453320,_0x4cd58a=_0x4d8eb7(_0x59ff97),_0x3a9daa=_0x3d8f05(_0x4cd58a);_0x3a9daa!==null&&!_0x4542e5[_0x5e1922(0x909)](_0x3a9daa)&&_0x4542e5['set'](_0x3a9daa,_0x4cd58a);}),_0x8ed532[_0x453320(0x67e)]=Array[_0x453320(0x4f5)](_0x4542e5[_0x453320(0xa59)]());const _0x2c7c7e=_0x8ed532[_0x453320(0x67e)][_0x453320(0x6f6)](_0x5410b4=>_0x5410b4===_0x4d8eb7(_0x38d31c));_0x8ed532[_0x453320(0x90b)]=_0x2c7c7e!==-0x1?_0x2c7c7e:0x0;}}),_0x5cc7ee;}function showGameStartConfirmationModal(_0x3c3359,_0x6b87c7,_0x19af15){const _0x8483ad=_0x2f78fc,_0x2419ef=document[_0x8483ad(0x288)](_0x8483ad(0x647));document['getElementById']('game-start-modal-title')[_0x8483ad(0xb10)]=_0x8483ad(0x50f)+_0x19af15,document[_0x8483ad(0x288)](_0x8483ad(0x8ab))[_0x8483ad(0x63b)]=_0x3c3359,document[_0x8483ad(0x288)](_0x8483ad(0x887))['value']=_0x6b87c7,document[_0x8483ad(0x288)](_0x8483ad(0x4e3))['checked']=!![],_0x2419ef['classList']['remove']('hidden');}async function saveGameResultsAsSubmissions(_0x40681c){const _0x338faf=_0x2f78fc;console[_0x338faf(0x516)](_0x338faf(0xa91),_0x40681c);const _0x5ec130=_0x40681c['quizId'];let _0x15bb9f=[];if(_0x40681c[_0x338faf(0xa90)])_0x15bb9f=Object[_0x338faf(0x41a)](_0x40681c['players'])[_0x338faf(0x598)](([_0x25b64f,_0x1b49c2])=>({'name':_0x25b64f,..._0x1b49c2}));else{if(_0x40681c[_0x338faf(0x42e)])Object[_0x338faf(0xa59)](_0x40681c[_0x338faf(0x42e)])['forEach'](_0x309f0b=>{const _0x23c568=_0x338faf;_0x309f0b['members'][_0x23c568(0x220)](_0x2e5b39=>{const _0x401016=_0x23c568;_0x15bb9f['push']({'name':_0x2e5b39,'score':_0x309f0b[_0x401016(0x447)],'answers':_0x309f0b['answers']});});});else _0x40681c[_0x338faf(0x66a)]&&Object[_0x338faf(0x41a)](_0x40681c[_0x338faf(0x66a)])[_0x338faf(0x220)](([_0x72c8a7,_0x512452])=>{_0x15bb9f['push']({'name':_0x72c8a7,..._0x512452});});}if(_0x15bb9f[_0x338faf(0x649)]===0x0){console[_0x338faf(0x516)](_0x338faf(0x30c));return;}const _0x3d9b2a=_0x40681c[_0x338faf(0x6af)]?.[_0x338faf(0xc81)][_0x338faf(0x649)]||currentQuizData[_0x338faf(0xc81)]['length'],_0x4bf263=writeBatch(db);for(const _0xc00eb3 of _0x15bb9f){const _0x53d408=doc(db,_0x338faf(0x309)+appId+_0x338faf(0x86b)+_0x5ec130+_0x338faf(0x74a),_0xc00eb3['name']),_0x1a235d=(_0xc00eb3[_0x338faf(0x620)]||[])[_0x338faf(0x3e1)](_0x3ecc40=>_0x3ecc40[_0x338faf(0x8bd)])[_0x338faf(0x649)];let _0xe0f6b7=_0x1a235d;_0x40681c[_0x338faf(0x285)]&&_0xc00eb3[_0x338faf(0x620)]&&_0xc00eb3['answers'][_0x338faf(0x220)](_0x5c0cbd=>{const _0x3199b2=_0x338faf;if(_0x5c0cbd[_0x3199b2(0x8bd)]&&(_0x5c0cbd[_0x3199b2(0xae5)]===!![]||_0x5c0cbd['wasConfident']===_0x3199b2(0x8f2)))_0xe0f6b7+=0x1;else!_0x5c0cbd[_0x3199b2(0x8bd)]&&(_0x5c0cbd['wasConfident']===!![]||_0x5c0cbd[_0x3199b2(0xae5)]===_0x3199b2(0x8f2))&&(_0xe0f6b7-=0x1);});_0x3d9b2a>0x0&&_0x1a235d===_0x3d9b2a&&(_0xe0f6b7+=0x1);const _0x7a627e={'score':_0x1a235d,'points':_0xe0f6b7,'badges':_0xc00eb3[_0x338faf(0x6c3)]||[],'submittedAt':new Date()[_0x338faf(0x75b)](),'answers':(_0xc00eb3[_0x338faf(0x620)]||[])['map'](_0x3ca15a=>({'questionId':_0x3ca15a[_0x338faf(0x56a)],'answer':_0x3ca15a[_0x338faf(0x922)],'answerText':_0x3ca15a[_0x338faf(0x694)],'isCorrect':_0x3ca15a[_0x338faf(0x8bd)],'originalQuestionText':_0x3ca15a[_0x338faf(0x680)],'wasConfident':_0x3ca15a[_0x338faf(0xae5)]}))},_0x4ff6ee=await getDoc(_0x53d408),_0x25ab16=_0x4ff6ee[_0x338faf(0x5e4)]()?_0x4ff6ee[_0x338faf(0xc89)]():{},_0x5820ba=_0x25ab16[_0x338faf(0x3f8)]||0x0,_0xa735c7=_0x25ab16[_0x338faf(0x311)]||[],_0x3a7a58={'studentName':_0xc00eb3[_0x338faf(0xb54)],'totalQuestions':_0x3d9b2a,'attempts':arrayUnion(_0x7a627e),'latestScore':_0x1a235d,'points':_0xe0f6b7,'latestSubmittedAt':_0x7a627e[_0x338faf(0x305)],'bestScore':Math[_0x338faf(0x509)](_0x5820ba,_0x1a235d),'firstScore':_0xa735c7[_0x338faf(0x649)]===0x0?_0x1a235d:_0x25ab16['firstScore']||0x0};_0x4bf263[_0x338faf(0x34e)](_0x53d408,_0x3a7a58,{'merge':!![]});}try{await _0x4bf263['commit'](),showMessage(_0x338faf(0x936)+_0x15bb9f[_0x338faf(0x649)]+_0x338faf(0x75e));const _0x2ef9d5=_0x40681c[_0x338faf(0x6af)]?.['projectId']||currentQuizData?.[_0x338faf(0x93e)]||currentProjectId;if(_0x2ef9d5){const _0x54e6e5=[...new Set(_0x15bb9f['map'](_0x5d0d65=>_0x5d0d65[_0x338faf(0xb54)]))];for(const _0x1d1452 of _0x54e6e5){await updateStudentProfile(_0x2ef9d5,_0x1d1452);}}}catch(_0x3a0f78){console[_0x338faf(0x40f)](_0x338faf(0x6d2),_0x3a0f78),showMessage('เกิดข้อผิดพลาดในการบันทึกผลจากเกม');}}async function saveQuiz(_0x427937=null,_0x5d9a03=null){const _0x669707=_0x2f78fc,_0x198474=_0x427937||currentProjectId;if(!_0x198474){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x669707(0xc81)]||!userId){showMessage(_0x669707(0x36d));return;}const _0x3d5691=document['getElementById'](_0x669707(0x44e));_0x3d5691[_0x669707(0x9e8)]=!![],_0x3d5691['innerHTML']=_0x669707(0x854);const _0x3b94f3=document[_0x669707(0x288)](_0x669707(0xbe8))[_0x669707(0xbe3)];let _0x223df3=document[_0x669707(0x288)](_0x669707(0x9cb))[_0x669707(0x633)][_0x669707(0x8e1)]();_0x3b94f3&&!_0x223df3[_0x669707(0xc29)](_0x669707(0x912))&&(_0x223df3=_0x669707(0x513)+_0x223df3);try{const _0x4497a3={'resultsDisplay':document[_0x669707(0x288)](_0x669707(0x449))['value'],'shuffle':document[_0x669707(0x288)](_0x669707(0x6bf))[_0x669707(0x63b)],'timerMode':document[_0x669707(0x288)](_0x669707(0x495))[_0x669707(0x63b)],'timerDuration':parseInt(document[_0x669707(0x288)]('timer-duration-input')[_0x669707(0x63b)])||0xa,'passingScore':parseInt(document[_0x669707(0x288)](_0x669707(0xa8b))[_0x669707(0x63b)])||0x0,'isAdaptive':document[_0x669707(0x288)](_0x669707(0x679))['checked'],'loopUntilPass':document[_0x669707(0x288)](_0x669707(0xc52))[_0x669707(0xbe3)]},_0x583668=(currentQuizData[_0x669707(0xc81)]||[])[_0x669707(0x598)]((_0x40afee,_0xa7c2c1)=>{const _0x205183=_0x669707,_0x48a74e=document[_0x205183(0x288)](_0x205183(0x7ec))['value'],_0x8d0ab9={'id':'q_'+Date[_0x205183(0x9bc)]()+'_'+_0xa7c2c1,'questionText':_0x40afee[_0x205183(0x9fb)]||'','explanation':_0x40afee[_0x205183(0xa10)]||_0x205183(0x728),'questionType':_0x40afee[_0x205183(0x8a4)]||_0x48a74e,'imageCode':_0x40afee[_0x205183(0xc0c)]||null};return(_0x8d0ab9[_0x205183(0x8a4)]==='multiple_choice'||_0x8d0ab9[_0x205183(0x8a4)]==='fill_in_with_choices'||_0x8d0ab9[_0x205183(0x8a4)]===_0x205183(0x5dc)&&_0x40afee['options'])&&(_0x8d0ab9['options']=_0x40afee[_0x205183(0x67e)]||[],_0x8d0ab9[_0x205183(0x90b)]=_0x40afee[_0x205183(0x90b)]!==undefined?_0x40afee[_0x205183(0x90b)]:0x0),(_0x8d0ab9[_0x205183(0x8a4)]===_0x205183(0x59a)||_0x8d0ab9[_0x205183(0x8a4)]==='fill_in_no_choices'||_0x8d0ab9[_0x205183(0x8a4)]===_0x205183(0x5dc)&&_0x40afee[_0x205183(0x558)])&&(_0x8d0ab9['idealAnswer']=_0x40afee[_0x205183(0x558)]||''),_0x8d0ab9['questionType']===_0x205183(0x253)&&(_0x8d0ab9['correctAnswer']=_0x40afee[_0x205183(0xafe)]===!![]),_0x8d0ab9['questionType']===_0x205183(0x5b0)&&(_0x8d0ab9['stem']=_0x40afee[_0x205183(0x34d)]||'',_0x8d0ab9[_0x205183(0x2c7)]=_0x40afee[_0x205183(0x2c7)]||'',_0x8d0ab9[_0x205183(0xa99)]=_0x40afee[_0x205183(0xa99)]||[]),_0x8d0ab9;}),_0x1cd1d8={'topic':_0x223df3,'quizType':currentQuizData[_0x669707(0x58f)]||_0x669707(0x318),'questions':_0x583668,'projectId':_0x198474,'createdBy':userId,'createdAt':new Date()[_0x669707(0x75b)](),'status':_0x669707(0xadb),'settings':_0x4497a3,'quizMode':_0x3b94f3?_0x669707(0x91c):'standard','pairedQuizId':null,'lessonPlan':null};let _0x4f3ae9;while(!![]){_0x4f3ae9=Math[_0x669707(0x60a)](0x3e8+Math[_0x669707(0x40c)]()*0x2328)[_0x669707(0x2d0)]();const _0x5abbb8=await getDoc(doc(db,_0x669707(0x309)+appId+_0x669707(0x480),_0x4f3ae9));if(!_0x5abbb8[_0x669707(0x5e4)]())break;}await setDoc(doc(db,_0x669707(0x309)+appId+_0x669707(0x480),_0x4f3ae9),_0x1cd1d8);if(_0x5d9a03&&currentBlueprintProjectId){console['log'](_0x669707(0x6a4)+_0x4f3ae9+_0x669707(0xa80)+_0x5d9a03);try{const _0x572aca=doc(db,_0x669707(0x309)+appId+_0x669707(0xd0b),currentBlueprintProjectId);await updateDoc(_0x572aca,{['topics.'+_0x5d9a03+_0x669707(0x2dc)]:arrayUnion(_0x4f3ae9)});}catch(_0x34e5ec){console[_0x669707(0x40f)](_0x669707(0xa48),_0x34e5ec);}}currentQuizData[_0x669707(0x580)]=_0x4497a3,currentQuizData['id']=_0x4f3ae9;const _0x264ab9=document['getElementById'](_0x669707(0xa5a));_0x264ab9[_0x669707(0x5f0)]=_0x669707(0x882)+_0x4f3ae9+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x669707(0x288)]('copy-quiz-id-btn')[_0x669707(0x5b2)](_0x669707(0x8d9),()=>copyTextToClipboard(_0x4f3ae9,_0x669707(0x588))),document['getElementById'](_0x669707(0x518))[_0x669707(0x5b2)](_0x669707(0x8d9),()=>handleStartLiveRace(_0x4f3ae9)),document[_0x669707(0x288)]('start-presentation-btn')[_0x669707(0x5b2)](_0x669707(0x8d9),()=>startPresentation(currentQuizData)),document['getElementById'](_0x669707(0x643))[_0x669707(0x5b2)](_0x669707(0x8d9),startAdminTest),showMessage(_0x669707(0xd06));}catch(_0x1cacaf){console[_0x669707(0x40f)](_0x669707(0x5b9),_0x1cacaf),showMessage(_0x669707(0x25f));}finally{_0x3d5691[_0x669707(0x9e8)]=![],_0x3d5691[_0x669707(0x5f0)]=_0x669707(0x6bb);}}function promptForProjectAndSave(){const _0x296205=_0x2f78fc,_0x165749=document[_0x296205(0x288)](_0x296205(0x84d)),_0x548311=document[_0x296205(0x288)]('move-quiz-project-select'),_0x31a3f8=_0x165749['querySelector']('h3'),_0x572209=document['getElementById']('confirm-move-quiz-btn');_0x31a3f8[_0x296205(0xb10)]=_0x296205(0x1f8),_0x572209['textContent']='เลือกและบันทึก';allProjects['length']===0x0?(_0x548311[_0x296205(0x5f0)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x572209[_0x296205(0x9e8)]=!![]):(_0x548311[_0x296205(0x5f0)]=allProjects['map'](_0x38d385=>_0x296205(0x79b)+_0x38d385['id']+'\x22>'+_0x38d385['projectName']+'</option>')['join'](''),_0x572209[_0x296205(0x9e8)]=![]);_0x165749[_0x296205(0xa39)][_0x296205(0xc4b)]('hidden');const _0x25a98f=()=>{const _0x2b4065=_0x296205,_0x3cb780=_0x548311[_0x2b4065(0x63b)];_0x3cb780?(currentProjectId=_0x3cb780,_0x165749[_0x2b4065(0xa39)][_0x2b4065(0x5c0)]('hidden'),saveQuiz(),_0x31a3f8[_0x2b4065(0xb10)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x572209['textContent']=_0x2b4065(0xcd2),_0x572209[_0x2b4065(0xac5)](_0x2b4065(0x8d9),_0x25a98f),_0x572209[_0x2b4065(0x5b2)](_0x2b4065(0x8d9),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x572209[_0x296205(0xac5)](_0x296205(0x8d9),confirmMoveQuiz),_0x572209[_0x296205(0x5b2)](_0x296205(0x8d9),_0x25a98f);}function copyTextToClipboard(_0x18d70f,_0x6b62da){const _0x3066e7=_0x2f78fc,_0x30e452=document[_0x3066e7(0xb75)]('textarea');_0x30e452['value']=_0x18d70f,_0x30e452[_0x3066e7(0x4e4)][_0x3066e7(0x2e8)]=_0x3066e7(0x8c5),_0x30e452[_0x3066e7(0x4e4)][_0x3066e7(0xab8)]='0',document[_0x3066e7(0xad4)]['appendChild'](_0x30e452),_0x30e452[_0x3066e7(0x26e)](),_0x30e452[_0x3066e7(0x6f3)]();try{const _0x319bbc=document[_0x3066e7(0xce5)](_0x3066e7(0x9be));showMessage(_0x319bbc?_0x6b62da:_0x3066e7(0x52a));}catch(_0x2117bc){showMessage(_0x3066e7(0x52a)),console[_0x3066e7(0x40f)](_0x3066e7(0x3b5),_0x2117bc);}document[_0x3066e7(0xad4)][_0x3066e7(0x6d0)](_0x30e452);}function listenForProjectQuizzes(_0x56b7ba){const _0x38b456=_0x2f78fc,_0x325efe=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x1e069f=query(_0x325efe,where(_0x38b456(0x93e),'==',_0x56b7ba));unsubscribeQuizzesListener=onSnapshot(_0x1e069f,async _0x548104=>{const _0x1e26a9=_0x38b456;allQuizzes=_0x548104['docs'][_0x1e26a9(0x598)](_0x5f0809=>({'id':_0x5f0809['id'],..._0x5f0809[_0x1e26a9(0xc89)]()})),renderQuizzes();},_0x5dc2a6=>{const _0x588052=_0x38b456;console[_0x588052(0x40f)]('Error\x20fetching\x20project\x20quizzes:',_0x5dc2a6),document[_0x588052(0x288)]('project-quizzes-list')[_0x588052(0x5f0)]=_0x588052(0x6e6);});}async function renderQuizzes(){const _0x401aba=_0x2f78fc,_0x391e85=document[_0x401aba(0x288)](_0x401aba(0x320)),_0x2b041=document[_0x401aba(0x288)](_0x401aba(0x21f))[_0x401aba(0x63b)][_0x401aba(0x1f2)]();let _0x578a4b;currentProjectId==='starred'?_0x578a4b=starredQuizzes:_0x578a4b=allQuizzes;let _0x5b9294=_0x578a4b[_0x401aba(0x3e1)](_0x4d0788=>_0x4d0788[_0x401aba(0x32c)][_0x401aba(0x1f2)]()[_0x401aba(0x96b)](_0x2b041));_0x5b9294[_0x401aba(0x310)]((_0x18cc50,_0x444a06)=>new Date(_0x444a06['createdAt'])-new Date(_0x18cc50[_0x401aba(0x6e3)]));if(_0x5b9294[_0x401aba(0x649)]===0x0){_0x391e85['innerHTML']=_0x401aba(0x6a7);return;}const _0x572105={},_0x3bbfab=_0x5b9294['map'](async _0x59bbba=>{const _0x22e4a2=_0x401aba,_0x3a681f=collection(db,_0x22e4a2(0x309)+appId+_0x22e4a2(0x86b)+_0x59bbba['id']+_0x22e4a2(0x74a)),_0x5595bd=await getDocs(_0x3a681f);_0x572105[_0x59bbba['id']]=_0x5595bd['size'];});await Promise[_0x401aba(0x1da)](_0x3bbfab);let _0x2c6c2d='';_0x5b9294['forEach'](_0x38d100=>{const _0x30077c=_0x401aba,_0x4ae27c=_0x572105[_0x38d100['id']]||0x0,_0x6dee9a=_0x38d100['status']||'active',_0x4c8d67=_0x38d100[_0x30077c(0x580)]?.['timerMode']||_0x30077c(0x2fa);let _0x5e9a8b='',_0x5d54a0='';const _0x20811e=new Date();let _0x5a2f04=_0x6dee9a;if(_0x6dee9a===_0x30077c(0x56b)){const _0x45012b=_0x38d100[_0x30077c(0x1db)]?new Date(_0x38d100[_0x30077c(0x1db)]):null,_0x172c34=_0x38d100[_0x30077c(0x726)]?new Date(_0x38d100['endTime']):null;if(_0x172c34&&_0x20811e>_0x172c34)_0x5a2f04=_0x30077c(0xcc1);else _0x45012b&&_0x20811e<_0x45012b?_0x5a2f04=_0x30077c(0x218):_0x5a2f04=_0x30077c(0xadb);}switch(_0x5a2f04){case _0x30077c(0xcc1):_0x5e9a8b=_0x30077c(0x2d1),_0x5d54a0='text-red-700\x20bg-red-100';break;case _0x30077c(0x218):_0x5e9a8b='รอเปิด',_0x5d54a0=_0x30077c(0x426);break;case'active':_0x5e9a8b=_0x4c8d67!==_0x30077c(0x2fa)?_0x30077c(0x1e6):_0x30077c(0x501),_0x5d54a0=_0x30077c(0x1c2);break;default:_0x5e9a8b=_0x30077c(0x59e),_0x5d54a0=_0x30077c(0x1c2);break;}let _0x176dbb='';const _0x2eb7d8={'day':_0x30077c(0x86f),'month':_0x30077c(0x86f),'year':_0x30077c(0x6b2),'hour':_0x30077c(0x86f),'minute':_0x30077c(0x86f),'hour12':![]};if(_0x6dee9a==='scheduled'){if(_0x38d100['startTime'])_0x176dbb+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x38d100['startTime'])['toLocaleString'](_0x30077c(0xa71),_0x2eb7d8)+_0x30077c(0x4d3);if(_0x38d100[_0x30077c(0x726)])_0x176dbb+=_0x30077c(0xacd)+new Date(_0x38d100['endTime'])[_0x30077c(0x92b)]('th-TH',_0x2eb7d8)+_0x30077c(0x4d3);}let _0x2caa9f='';if(_0x38d100['pairedQuizId']){const _0x16bbf3=allQuizzes[_0x30077c(0x533)](_0x52104c=>_0x52104c['id']===_0x38d100[_0x30077c(0xab9)]);if(_0x16bbf3){let _0x12c95f,_0x407b02;new Date(_0x38d100[_0x30077c(0x6e3)])<new Date(_0x16bbf3['createdAt'])?(_0x12c95f=_0x38d100['id'],_0x407b02=_0x16bbf3['id']):(_0x12c95f=_0x16bbf3['id'],_0x407b02=_0x38d100['id']),_0x2caa9f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x407b02+_0x30077c(0xafd)+_0x12c95f+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x38d100[_0x30077c(0x715)]==='pre-test'&&(_0x2caa9f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38d100['id']+_0x30077c(0xb85));if(_0x38d100[_0x30077c(0x715)]==='pre-test'&&_0x4ae27c>0x0)_0x2caa9f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38d100['id']+_0x30077c(0xc2c);else!_0x38d100['pairedQuizId']&&_0x38d100[_0x30077c(0x715)]!==_0x30077c(0x91c)&&_0x4ae27c>0x0&&(_0x2caa9f+=_0x30077c(0x7fa)+_0x38d100['id']+_0x30077c(0x759));let _0x95d130='';_0x38d100[_0x30077c(0xab9)]?_0x95d130='<button\x20data-quiz-id=\x22'+_0x38d100['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x95d130=_0x30077c(0x719)+_0x38d100['id']+_0x30077c(0x4d7),_0x2c6c2d+=_0x30077c(0x66b)+_0x38d100['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x38d100['topic']+_0x30077c(0x87c)+_0x38d100[_0x30077c(0xc81)][_0x30077c(0x649)]+_0x30077c(0x393)+new Date(_0x38d100[_0x30077c(0x6e3)])['toLocaleString'](_0x30077c(0xa71))+_0x30077c(0x23a)+_0x4ae27c+_0x30077c(0x1d6)+_0x176dbb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x5d54a0+'\x22>'+_0x5e9a8b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38d100['id']+_0x30077c(0x687)+_0x38d100['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x38d100[_0x30077c(0x99a)]?_0x30077c(0x7e1):_0x30077c(0x7ea))+_0x30077c(0x740)+_0x2caa9f+_0x30077c(0x21b)+_0x38d100['id']+_0x30077c(0x601)+_0x38d100['id']+_0x30077c(0x4ff)+_0x38d100['id']+_0x30077c(0x440)+_0x38d100['id']+_0x30077c(0x686)+_0x38d100['id']+_0x30077c(0xc86)+_0x38d100['id']+_0x30077c(0x263)+_0x38d100['id']+'\x22\x20data-topic=\x22'+_0x38d100[_0x30077c(0x32c)]+_0x30077c(0x771)+_0x38d100['id']+_0x30077c(0x21e)+_0x38d100['id']+_0x30077c(0x7a5)+_0x95d130+_0x30077c(0x1fc)+_0x38d100['id']+_0x30077c(0x2b5)+_0x38d100['id']+_0x30077c(0x940)+_0x38d100['id']+_0x30077c(0xc2b)+_0x38d100['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38d100['id']+_0x30077c(0x394)+_0x38d100['id']+_0x30077c(0x8f7)+_0x38d100['id']+_0x30077c(0xc85)+_0x38d100['id']+_0x30077c(0x1dd)+_0x38d100[_0x30077c(0x32c)]+_0x30077c(0x796)+_0x38d100['id']+_0x30077c(0x294);}),_0x391e85[_0x401aba(0x5f0)]=_0x2c6c2d,document[_0x401aba(0x3db)](_0x401aba(0x557))['forEach'](_0x55e408=>{const _0x17717d=_0x401aba;_0x55e408[_0x17717d(0x5b2)](_0x17717d(0x8d9),()=>{const _0x3cb9d9=_0x17717d,_0x5df707=_0x55e408['dataset'][_0x3cb9d9(0xb4e)];showQuizDetailView(_0x5df707);});});}async function handleUnpairQuiz(_0x57751a){const _0x40317f=_0x2f78fc,_0x43f122=allQuizzes[_0x40317f(0x533)](_0x4f63ca=>_0x4f63ca['id']===_0x57751a);if(!_0x43f122||!_0x43f122[_0x40317f(0xab9)]){showMessage(_0x40317f(0x386));return;}showConfirmation(_0x40317f(0xc7f),async()=>{const _0x8add7b=_0x40317f;try{const _0x54890f=doc(db,_0x8add7b(0x309)+appId+_0x8add7b(0x480),_0x57751a),_0x289a8b=doc(db,_0x8add7b(0x309)+appId+_0x8add7b(0x480),_0x43f122[_0x8add7b(0xab9)]),_0x567602=writeBatch(db);_0x567602[_0x8add7b(0xa27)](_0x54890f,{'pairedQuizId':null}),_0x567602['update'](_0x289a8b,{'pairedQuizId':null}),await _0x567602[_0x8add7b(0x1f1)](),showMessage(_0x8add7b(0x9ea));}catch(_0xef5f58){console[_0x8add7b(0x40f)](_0x8add7b(0x813),_0xef5f58),showMessage(_0x8add7b(0xbc2));}});}function formatAndPrintLessonPlan(_0x1c6a48,_0x3f524d){const _0x225fa4=_0x2f78fc,_0x2cae8f=window['open']('',_0x225fa4(0x523)),_0x5f00ea=_0x225fa4(0x917)+_0x3f524d['topic']+_0x225fa4(0x927)+_0x3f524d[_0x225fa4(0x32c)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c6a48[_0x225fa4(0xcf1)]['map'](_0x849026=>_0x225fa4(0xa9d)+_0x849026+_0x225fa4(0x823))[_0x225fa4(0x53d)]('')+_0x225fa4(0x5a5)+_0x1c6a48['teachingContent']+_0x225fa4(0xb53)+_0x1c6a48[_0x225fa4(0xa14)][_0x225fa4(0x598)](_0x485041=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x485041[_0x225fa4(0x788)]+_0x225fa4(0x1bd)+_0x485041['solution']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x225fa4(0x53d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2cae8f[_0x225fa4(0x602)][_0x225fa4(0x866)](_0x5f00ea),_0x2cae8f['document']['close'](),_0x2cae8f[_0x225fa4(0x29e)]=function(){setTimeout(()=>{const _0x3602e7=_0x43c7;_0x2cae8f[_0x3602e7(0x3bb)]();},0x3e8);};}async function handleAiFixFormula(_0x5cf6c8){const _0x54f5fa=_0x2f78fc,_0x4c2983=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x5cf6c8+'\x22]');if(!_0x4c2983)return;const _0x1b57ae=_0x4c2983['dataset'][_0x54f5fa(0x79c)],_0x349cd5=_0x4c2983['querySelector']('.ai-fix-formula-btn');let _0x1ec468={'question':_0x4c2983[_0x54f5fa(0x2ee)](_0x54f5fa(0x4f2))['value']};switch(_0x1b57ae){case _0x54f5fa(0x318):_0x1ec468['options']=Array['from'](_0x4c2983['querySelectorAll'](_0x54f5fa(0x55e)))[_0x54f5fa(0x598)](_0x37edd0=>_0x37edd0[_0x54f5fa(0x63b)]);break;case _0x54f5fa(0x59a):_0x1ec468[_0x54f5fa(0x558)]=_0x4c2983[_0x54f5fa(0x2ee)](_0x54f5fa(0x431))[_0x54f5fa(0x63b)];break;case _0x54f5fa(0x5b0):_0x1ec468['correctResponse']=_0x4c2983['querySelector']('.correct-response-input')['value'];break;}_0x349cd5['innerHTML']=_0x54f5fa(0xc6a),_0x349cd5['disabled']=!![];try{const _0x48b14a=_0x54f5fa(0xac7)+JSON[_0x54f5fa(0x6aa)](_0x1ec468)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x46a249={'type':'OBJECT','properties':{'fixedData':{'type':_0x54f5fa(0x91b),'properties':{'question':{'type':_0x54f5fa(0x395)},'options':{'type':_0x54f5fa(0xb29),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x54f5fa(0x395)},'correctResponse':{'type':_0x54f5fa(0x395)}},'required':['question']}},'required':[_0x54f5fa(0xc32)]},_0x40c748=await callAnalysisApi(_0x48b14a,_0x46a249);if(_0x40c748&&_0x40c748[_0x54f5fa(0xc32)]){const _0x582c3f=_0x40c748[_0x54f5fa(0xc32)];_0x4c2983['querySelector'](_0x54f5fa(0x4f2))['value']=_0x582c3f[_0x54f5fa(0x788)]||_0x1ec468[_0x54f5fa(0x788)];switch(_0x1b57ae){case _0x54f5fa(0x318):_0x582c3f[_0x54f5fa(0x67e)]&&_0x582c3f[_0x54f5fa(0x67e)][_0x54f5fa(0x649)]>0x0&&_0x4c2983[_0x54f5fa(0x3db)](_0x54f5fa(0x55e))[_0x54f5fa(0x220)]((_0x2466d0,_0x2e9c8e)=>{const _0x2dec79=_0x54f5fa;_0x2466d0[_0x2dec79(0x63b)]=_0x582c3f[_0x2dec79(0x67e)][_0x2e9c8e]||_0x1ec468[_0x2dec79(0x67e)][_0x2e9c8e];});break;case _0x54f5fa(0x59a):_0x4c2983[_0x54f5fa(0x2ee)](_0x54f5fa(0x431))[_0x54f5fa(0x63b)]=_0x582c3f[_0x54f5fa(0x558)]||_0x1ec468[_0x54f5fa(0x558)];break;case _0x54f5fa(0x5b0):_0x4c2983[_0x54f5fa(0x2ee)]('.correct-response-input')[_0x54f5fa(0x63b)]=_0x582c3f[_0x54f5fa(0x2c7)]||_0x1ec468['correctResponse'];break;}if(_0x1ec468[_0x54f5fa(0x788)]!==_0x582c3f[_0x54f5fa(0x788)])try{const _0x25d8e5=collection(db,_0x54f5fa(0x309)+appId+_0x54f5fa(0xce2));await addDoc(_0x25d8e5,{'broken':_0x1ec468['question'],'fixed':_0x582c3f[_0x54f5fa(0x788)],'createdAt':serverTimestamp()});}catch(_0x4f526f){console[_0x54f5fa(0x40f)](_0x54f5fa(0x224),_0x4f526f);}showMessage(_0x54f5fa(0x46e));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x4e8b89){console[_0x54f5fa(0x40f)]('AI\x20Formula\x20Fix\x20Error:',_0x4e8b89),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x349cd5['innerHTML']='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x349cd5[_0x54f5fa(0x9e8)]=![];}}async function handleGenerateLessonPlan(_0x26a120){const _0x4828ed=_0x2f78fc;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x390494=doc(db,_0x4828ed(0x309)+appId+_0x4828ed(0x480),_0x26a120),_0x1b7087=await getDoc(_0x390494);if(!_0x1b7087[_0x4828ed(0x5e4)]())throw new Error(_0x4828ed(0x663));const _0x481f54={'id':_0x26a120,..._0x1b7087[_0x4828ed(0xc89)]()},_0x1b95ff=collection(db,_0x4828ed(0x309)+appId+_0x4828ed(0x480),_0x26a120,_0x4828ed(0x8d0)),_0x5d480e=await getDocs(_0x1b95ff),_0xa75115=_0x5d480e[_0x4828ed(0x2ea)]['map'](_0x4c6766=>_0x4c6766['data']());if(_0xa75115[_0x4828ed(0x649)]===0x0)throw new Error(_0x4828ed(0x9a2));const _0x45283e=calculateItemAnalysis(_0x481f54,_0xa75115)[_0x4828ed(0xc46)],_0x565d48=calculateDistractorAnalysis(_0x481f54,_0xa75115),_0x3afae5=_0x419926=>{const _0x1da3ee=_0x4828ed;if(!_0x419926)return'';return _0x419926[_0x1da3ee(0x5e3)](/\\/g,'\x5c\x5c')[_0x1da3ee(0x5e3)](/"/g,'\x5c\x22')[_0x1da3ee(0x5e3)](/\n/g,'\x5cn');};let _0x232ed4=_0x4828ed(0x24c);_0x481f54[_0x4828ed(0xc81)]['forEach']((_0x265fbb,_0x33acdd)=>{const _0x1516a3=_0x4828ed,_0x38b40b=_0x45283e[_0x33acdd]?.['p']['toFixed'](0x2)||'N/A',_0xf6032f=_0x45283e[_0x33acdd]?.['r'][_0x1516a3(0x763)](0x2)||_0x1516a3(0x86a),_0x4c4a5d=_0x3afae5(_0x265fbb['questionText']||_0x265fbb[_0x1516a3(0x34d)]);_0x232ed4+=_0x1516a3(0x56c)+(_0x33acdd+0x1)+_0x1516a3(0x3cf)+_0x38b40b+',\x20r='+_0xf6032f+_0x1516a3(0x45d)+_0x4c4a5d+'\x5cn';if(_0x265fbb['questionType']===_0x1516a3(0x318)&&_0x565d48[_0x33acdd]){const _0x326a95=_0x565d48[_0x33acdd],_0x5bc2d7=Object[_0x1516a3(0x695)](_0x326a95)[_0x1516a3(0x3e1)](_0x4770d5=>parseInt(_0x4770d5)!==_0x265fbb[_0x1516a3(0x90b)])[_0x1516a3(0x310)]((_0x5bb2d5,_0x533fce)=>_0x326a95[_0x533fce][_0x1516a3(0x63c)]-_0x326a95[_0x5bb2d5]['total'])[0x0];if(_0x5bc2d7&&_0x326a95[_0x5bc2d7][_0x1516a3(0x63c)]>0x0){const _0x35073d=_0x3afae5(_0x326a95[_0x5bc2d7]['text']);_0x232ed4+=_0x1516a3(0x32e)+_0x35073d+'\x22\x5cn';}}});const _0x17a5a4=_0x4828ed(0xb58)+_0x481f54[_0x4828ed(0x32c)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x232ed4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4612b1={'type':_0x4828ed(0x91b),'properties':{'learningGaps':{'type':_0x4828ed(0xb29),'items':{'type':_0x4828ed(0x395)}},'teachingContent':{'type':_0x4828ed(0x395)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x4828ed(0x91b),'properties':{'question':{'type':_0x4828ed(0x395)},'solution':{'type':_0x4828ed(0x395)}}}}},'required':['learningGaps',_0x4828ed(0x358),_0x4828ed(0xa14)]},_0x3a7d5c=await callAnalysisApi(_0x17a5a4,_0x4612b1);await updateDoc(_0x390494,{'lessonPlan':_0x3a7d5c});const _0x4bb670='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x481f54['topic']+_0x4828ed(0xab5)+_0x3a7d5c['learningGaps'][_0x4828ed(0x598)](_0xc1e5b1=>_0x4828ed(0xa9d)+_0xc1e5b1+_0x4828ed(0x823))[_0x4828ed(0x53d)]('')+_0x4828ed(0x50c)+_0x3a7d5c[_0x4828ed(0x358)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x3a7d5c[_0x4828ed(0xa14)][_0x4828ed(0x598)](_0x10170b=>_0x4828ed(0x4aa)+_0x10170b[_0x4828ed(0x788)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x10170b[_0x4828ed(0xaca)]+_0x4828ed(0x335))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x4828ed(0x288)](_0x4828ed(0x61b))[_0x4828ed(0xb10)]=_0x4828ed(0x908)+_0x481f54['topic'],document[_0x4828ed(0x288)]('lesson-plan-content')['innerHTML']=_0x4bb670,document['getElementById']('lesson-plan-modal')[_0x4828ed(0xa39)][_0x4828ed(0xc4b)](_0x4828ed(0x4c5));if(window[_0x4828ed(0x5ed)])MathJax[_0x4828ed(0x3d1)]();messageModal[_0x4828ed(0xa39)][_0x4828ed(0x5c0)](_0x4828ed(0x4c5));}catch(_0x42f784){console[_0x4828ed(0x40f)](_0x4828ed(0x3fc),_0x42f784),showMessage(_0x4828ed(0xac4)+_0x42f784[_0x4828ed(0x42d)]);}}async function handleDuplicateQuiz(_0x1d551a){const _0x5a9ab3=_0x2f78fc;try{const _0x496302=doc(db,'artifacts/'+appId+_0x5a9ab3(0x480),_0x1d551a),_0x342249=await getDoc(_0x496302);if(_0x342249[_0x5a9ab3(0x5e4)]()){const _0x54c7a9=_0x342249[_0x5a9ab3(0xc89)]();let _0x4485ec='',_0xaea186=_0x5a9ab3(0x2af),_0x340340=null;if(_0x54c7a9[_0x5a9ab3(0x715)]==='pre-test'){let _0x39947f=_0x54c7a9[_0x5a9ab3(0x32c)]['replace']('(ก่อนเรียน)','')['trim']();_0x4485ec=_0x5a9ab3(0x674)+_0x39947f,_0xaea186=_0x5a9ab3(0xc87),_0x340340=_0x1d551a;}else _0x4485ec=_0x5a9ab3(0x57c)+_0x54c7a9[_0x5a9ab3(0x32c)];const _0x4c3585={..._0x54c7a9,'topic':_0x4485ec,'createdAt':new Date()[_0x5a9ab3(0x75b)](),'quizMode':_0xaea186,'pairedQuizId':_0x340340};let _0x259415;while(!![]){_0x259415=Math[_0x5a9ab3(0x60a)](0x3e8+Math[_0x5a9ab3(0x40c)]()*0x2328)[_0x5a9ab3(0x2d0)]();const _0x369579=await getDoc(doc(db,'artifacts/'+appId+_0x5a9ab3(0x480),_0x259415));if(!_0x369579[_0x5a9ab3(0x5e4)]())break;}const _0x1d859d=doc(db,_0x5a9ab3(0x309)+appId+_0x5a9ab3(0x480),_0x259415);await setDoc(_0x1d859d,_0x4c3585),_0x4c3585[_0x5a9ab3(0x715)]===_0x5a9ab3(0xc87)&&await updateDoc(_0x496302,{'pairedQuizId':_0x259415}),showMessage(_0x5a9ab3(0x95b));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x47b1f8){console['error']('Error\x20duplicating\x20quiz:',_0x47b1f8),showMessage(_0x5a9ab3(0xabd));}}async function handleDeleteQuiz(_0x7ddd39,_0x4d7c05=!![]){const _0x43d8d2=_0x2f78fc;try{const _0x4039d9=writeBatch(db),_0x78cfd0=collection(db,_0x43d8d2(0x309)+appId+_0x43d8d2(0x86b)+_0x7ddd39+_0x43d8d2(0x74a)),_0x37bc7a=await getDocs(_0x78cfd0);_0x37bc7a[_0x43d8d2(0x220)](_0xfc15d0=>{const _0x2dd952=_0x43d8d2;_0x4039d9[_0x2dd952(0xcdd)](doc(_0x78cfd0,_0xfc15d0['id']));});const _0x56d57d=doc(db,_0x43d8d2(0x309)+appId+'/public/data/quizzes',_0x7ddd39);_0x4039d9[_0x43d8d2(0xcdd)](_0x56d57d),await _0x4039d9[_0x43d8d2(0x1f1)]();try{console[_0x43d8d2(0x516)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x7ddd39+_0x43d8d2(0x8c9));const _0x25175f=collection(db,_0x43d8d2(0x309)+appId+'/public/data/blueprintProjects'),_0x3671df=await getDocs(_0x25175f),_0x46604f=[];_0x3671df[_0x43d8d2(0x220)](_0x4a7333=>{const _0x2e600a=_0x43d8d2,_0x356c1d=_0x4a7333[_0x2e600a(0xc89)](),_0x422465=_0x356c1d[_0x2e600a(0x227)]||{};let _0x254b37=![];for(const _0x4345e9 in _0x422465){const _0x190128=_0x422465[_0x4345e9];if(_0x190128['linkedQuizIds']&&_0x190128['linkedQuizIds'][_0x2e600a(0x96b)](_0x7ddd39)){_0x254b37=!![];const _0x3e7a62=doc(db,_0x2e600a(0x309)+appId+'/public/data/blueprintProjects',_0x4a7333['id']),_0xbaccd7=updateDoc(_0x3e7a62,{[_0x2e600a(0x64b)+_0x4345e9+_0x2e600a(0x2dc)]:arrayRemove(_0x7ddd39)});_0x46604f[_0x2e600a(0x346)](_0xbaccd7);}}}),_0x46604f['length']>0x0&&(await Promise['all'](_0x46604f),console[_0x43d8d2(0x516)](_0x43d8d2(0x667)+_0x46604f[_0x43d8d2(0x649)]+_0x43d8d2(0xa69)+_0x7ddd39+'.'));}catch(_0x1a51f8){console['error'](_0x43d8d2(0xc96),_0x1a51f8);}_0x4d7c05&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x5a0d21){console[_0x43d8d2(0x40f)](_0x43d8d2(0x6c6),_0x5a0d21),_0x4d7c05&&showMessage(_0x43d8d2(0x9e7));}}async function showQuizDetailView(_0x5e3709){const _0x22bdc2=_0x2f78fc;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x22bdc2(0x4c9));try{const _0x538bd5=doc(db,_0x22bdc2(0x309)+appId+_0x22bdc2(0x480),_0x5e3709),_0x260e6e=await getDoc(_0x538bd5);if(!_0x260e6e[_0x22bdc2(0x5e4)]()){showMessage(_0x22bdc2(0x663));return;}const _0x1cf459={'id':_0x260e6e['id'],..._0x260e6e[_0x22bdc2(0xc89)]()};currentQuizData=_0x1cf459;const _0x371faa=doc(db,_0x22bdc2(0x309)+appId+_0x22bdc2(0x498),_0x1cf459[_0x22bdc2(0x93e)]),_0x27ad61=await getDoc(_0x371faa);_0x27ad61['exists']()?(currentProjectData=_0x27ad61['data'](),currentProjectId=_0x1cf459[_0x22bdc2(0x93e)]):(currentProjectData={'students':[]},currentProjectId=_0x1cf459[_0x22bdc2(0x93e)]);document[_0x22bdc2(0x288)](_0x22bdc2(0x49c))[_0x22bdc2(0xb10)]=_0x1cf459[_0x22bdc2(0x32c)],document[_0x22bdc2(0x288)](_0x22bdc2(0x8d1))[_0x22bdc2(0xb10)]=_0x5e3709;const _0x22576b=collection(db,_0x22bdc2(0x309)+appId+_0x22bdc2(0x480),_0x5e3709,_0x22bdc2(0x8d0));unsubscribeSubmissionsListener=onSnapshot(_0x22576b,_0x30a62a=>{const _0x2f49d2=_0x22bdc2,_0x31f4c6=_0x30a62a[_0x2f49d2(0x2ea)][_0x2f49d2(0x598)](_0x178fad=>({'id':_0x178fad['id'],..._0x178fad['data']()}));currentSubmissions=_0x31f4c6;const _0x5ed73d=_0x31f4c6[_0x2f49d2(0x3e1)](_0x6c25af=>_0x6c25af[_0x2f49d2(0x311)]&&_0x6c25af[_0x2f49d2(0x311)][_0x2f49d2(0x649)]>0x0);renderBehaviorLog(_0x31f4c6),renderAnswerGrid(currentProjectData[_0x2f49d2(0x595)],_0x5ed73d,_0x1cf459),renderAnalytics(_0x1cf459,_0x5ed73d),renderQuizResultsTable(currentProjectData['students'],_0x31f4c6,_0x1cf459),renderQuizLeaderboard(_0x5ed73d,_0x1cf459,'quiz-leaderboard-table-body');}),showView(_0x22bdc2(0x84f));}catch(_0x4b2abf){console[_0x22bdc2(0x40f)](_0x22bdc2(0xd09),_0x4b2abf),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x5b5cd5,_0x2cdabf,_0x3ead02){const _0x14fd81=_0x2f78fc,_0x24717f=document[_0x14fd81(0x288)](_0x14fd81(0x9fc));if(!_0x24717f)return;if(!_0x5b5cd5||_0x5b5cd5['length']===0x0){_0x24717f['innerHTML']=_0x14fd81(0x72a);return;}const _0x241039=_0x3ead02['questions'],_0x5e6205=_0x2cdabf[_0x14fd81(0x441)]((_0xc2224a,_0xb7e54d)=>{const _0x56548e=_0x14fd81;return _0xc2224a[_0xb7e54d[_0x56548e(0xc3d)]]=_0xb7e54d,_0xc2224a;},{}),_0xebb863=_0x149ad1=>String[_0x14fd81(0x916)](0x41+_0x149ad1),_0x2e9edc=_0x4d834a=>{const _0x318269=_0x14fd81,_0x242317=_0x4d834a[_0x318269(0x8a4)]||_0x3ead02[_0x318269(0x58f)];switch(_0x242317){case _0x318269(0x318):return _0x4d834a['options']&&_0x4d834a['options'][_0x318269(0x649)]>_0x4d834a[_0x318269(0x90b)]?_0xebb863(_0x4d834a[_0x318269(0x90b)]):'-';case'true_false':const _0x1fa3ed=_0x4d834a[_0x318269(0xafe)]===!![]||String(_0x4d834a['correctAnswer'])[_0x318269(0x1f2)]()===_0x318269(0x77f);return _0x1fa3ed?_0x318269(0xad6):_0x318269(0x3d3);case _0x318269(0x5b0):return _0x4d834a[_0x318269(0x2c7)]||'-';case _0x318269(0x59a):return'พิมพ์ตอบ';default:return'-';}},_0x3a82f5=(_0x175479,_0x37a29a)=>{const _0x3c67e7=_0x14fd81;if(_0x37a29a['answer']===null||_0x37a29a[_0x3c67e7(0x922)]===undefined)return'-';const _0x3f7eea=_0x175479[_0x3c67e7(0x8a4)]||_0x3ead02[_0x3c67e7(0x58f)];switch(_0x3f7eea){case'multiple_choice':const _0x57791e=_0x175479[_0x3c67e7(0x67e)][_0x3c67e7(0x6f6)](_0x4923b5=>_0x4923b5===_0x37a29a['answerText']);return _0x57791e!==-0x1?_0xebb863(_0x57791e):_0x37a29a[_0x3c67e7(0x694)]||'-';case _0x3c67e7(0x253):if(_0x37a29a[_0x3c67e7(0x922)]=='0'||_0x37a29a['answer']===!![]||_0x37a29a[_0x3c67e7(0x922)]===_0x3c67e7(0x77f))return'ใช่';return _0x3c67e7(0x3d3);default:return _0x37a29a[_0x3c67e7(0x922)];}};let _0x4b2aef=_0x14fd81(0x54e)+_0x241039[_0x14fd81(0x598)]((_0xda29c7,_0x26053d)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x26053d+0x1)+'</th>')[_0x14fd81(0x53d)]('')+_0x14fd81(0x410)+_0x241039['map'](_0x59ee38=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x2e9edc(_0x59ee38)+'</td>')[_0x14fd81(0x53d)]('')+_0x14fd81(0x90e);_0x5b5cd5['forEach'](_0x289e83=>{const _0x1c8772=_0x14fd81;_0x4b2aef+='<tr>',_0x4b2aef+=_0x1c8772(0x54a)+_0x289e83+_0x1c8772(0x2b0);const _0x30031c=_0x5e6205[_0x289e83];if(_0x30031c){const _0x14d158=_0x30031c[_0x1c8772(0x311)][_0x30031c[_0x1c8772(0x311)][_0x1c8772(0x649)]-0x1];_0x241039[_0x1c8772(0x220)]((_0x42a1c7,_0x7df155)=>{const _0x2cbf47=_0x1c8772,_0x21f2a6=_0x14d158[_0x2cbf47(0x620)][_0x2cbf47(0x533)](_0x9b7f8e=>_0x9b7f8e['questionId']===_0x42a1c7['id']);if(_0x21f2a6){let _0x430623='';const _0x535bc1=_0x21f2a6[_0x2cbf47(0x8bd)]===!![],_0x3e56f6=_0x21f2a6[_0x2cbf47(0xae5)]===!![]||_0x21f2a6[_0x2cbf47(0xae5)]===_0x2cbf47(0x8f2);_0x3e56f6?_0x430623=_0x535bc1?_0x2cbf47(0xbd2):_0x2cbf47(0x8fd):_0x430623=_0x535bc1?'bg-green-100':'bg-red-100',_0x4b2aef+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x430623+'\x22>'+_0x3a82f5(_0x42a1c7,_0x21f2a6)+_0x2cbf47(0x2b0);}else _0x4b2aef+=_0x2cbf47(0x934);});}else _0x4b2aef+=_0x241039[_0x1c8772(0x598)](()=>_0x1c8772(0x673))[_0x1c8772(0x53d)]('');_0x4b2aef+=_0x1c8772(0xb90);}),_0x4b2aef+=_0x14fd81(0x9f5),_0x24717f['innerHTML']=_0x4b2aef;}function renderQuizResultsTable(_0x4890c0,_0x3afcb9,_0x5a8cc6){const _0x4300f3=_0x2f78fc,_0x31e75e=_0x3afcb9['reduce']((_0x44c34a,_0x547110)=>{return _0x44c34a[_0x547110['studentName']]=_0x547110,_0x44c34a;},{}),_0x52c5d8=document[_0x4300f3(0x2ee)](_0x4300f3(0xa2f));_0x52c5d8&&!_0x52c5d8['innerHTML'][_0x4300f3(0x96b)]('จัดการ')&&(_0x52c5d8[_0x4300f3(0x5f0)]+=_0x4300f3(0x568));const _0x40160f=document[_0x4300f3(0x288)](_0x4300f3(0xa29));if(!_0x4890c0||_0x4890c0['length']===0x0){_0x40160f[_0x4300f3(0x5f0)]=_0x4300f3(0x5d9);return;}const _0x15bebe=_0x5a8cc6[_0x4300f3(0x858)]===!![],_0x5803e5=_0x5a8cc6[_0x4300f3(0x580)]?.[_0x4300f3(0x7c0)]??-0x1;let _0x4952f8='';_0x4890c0[_0x4300f3(0x220)](_0x2df843=>{const _0x3a5496=_0x4300f3,_0x5402db=_0x31e75e[_0x2df843];let _0x1c0031=_0x3a5496(0x341)+(_0x15bebe?_0x3a5496(0x7bc):_0x3a5496(0x477))+'\x22>'+(_0x15bebe?'สอบซ่อม':_0x3a5496(0x2ad))+_0x3a5496(0x2fd);if(_0x5402db){if(_0x5402db['attempts']&&_0x5402db[_0x3a5496(0x311)]['length']>0x0){let _0x4c470b=_0x15bebe?_0x5402db[_0x3a5496(0x3f8)]===_0x5402db[_0x3a5496(0x25d)]:_0x5803e5!==-0x1&&_0x5402db[_0x3a5496(0x3f8)]>=_0x5803e5;const _0x404c55=_0x4c470b?_0x3a5496(0x7d6):_0x3a5496(0x53c),_0x5d7bde=_0x4c470b?'ผ่าน':_0x3a5496(0x2c4),_0x21c126=_0x3a5496(0x3e9)+_0x404c55+'\x22>'+_0x5d7bde+_0x3a5496(0x2fd),_0x120857='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x5402db[_0x3a5496(0x311)]?.[_0x3a5496(0x649)]||0x1)+_0x3a5496(0xb60);_0x4952f8+=_0x3a5496(0x572)+_0x2df843+_0x3a5496(0x2a1)+_0x5402db['bestScore']+_0x3a5496(0xa1c)+_0x5402db[_0x3a5496(0x25d)]+_0x3a5496(0x96d)+_0x21c126+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c0031+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x5402db[_0x3a5496(0xaee)]+_0x3a5496(0xa1c)+_0x5402db[_0x3a5496(0x25d)]+_0x3a5496(0x58e)+_0x5402db[_0x3a5496(0x44a)]+_0x3a5496(0xa1c)+_0x5402db[_0x3a5496(0x25d)]+_0x3a5496(0x99b)+(_0x5402db[_0x3a5496(0x28d)]||0x0)+_0x3a5496(0x96d)+_0x120857+_0x3a5496(0x654)+new Date(_0x5402db['latestSubmittedAt'])[_0x3a5496(0x92b)](_0x3a5496(0xa71))+_0x3a5496(0x27c)+_0x2df843+_0x3a5496(0x8ed);}else{const _0x52f6ca='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x4952f8+=_0x3a5496(0x90f)+_0x2df843+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c0031+_0x3a5496(0x9d9)+_0x52f6ca+_0x3a5496(0x654)+new Date(_0x5402db['startedAt'])[_0x3a5496(0x92b)]('th-TH')+_0x3a5496(0x2bf)+_0x2df843+_0x3a5496(0x8ed);}}else{const _0x388bd7=_0x3a5496(0x51d);_0x4952f8+=_0x3a5496(0x997)+_0x2df843+_0x3a5496(0x6da)+_0x1c0031+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x388bd7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x40160f[_0x4300f3(0x5f0)]=_0x4952f8;}async function confirmRenameQuiz(){const _0xa6c9f0=_0x2f78fc,_0x12c8a5=document[_0xa6c9f0(0x288)](_0xa6c9f0(0xaac))['value'][_0xa6c9f0(0x8e1)]();if(!_0x12c8a5){showMessage(_0xa6c9f0(0x8df));return;}if(!actionTargetId)return;const _0x34ab8a=doc(db,_0xa6c9f0(0x309)+appId+_0xa6c9f0(0x480),actionTargetId);try{await updateDoc(_0x34ab8a,{'topic':_0x12c8a5}),showMessage(_0xa6c9f0(0x9e0)),renameQuizModal['classList'][_0xa6c9f0(0x5c0)](_0xa6c9f0(0x4c5)),actionTargetId=null;}catch(_0x6edd9a){console['error'](_0xa6c9f0(0x91e),_0x6edd9a),showMessage(_0xa6c9f0(0xbda));}}async function handleMoveQuiz(_0xf4c664){const _0x197dc2=_0x2f78fc;actionTargetId=_0xf4c664;const _0x15da14=document[_0x197dc2(0x288)]('move-quiz-project-select');_0x15da14[_0x197dc2(0x5f0)]=_0x197dc2(0x614),moveQuizModal[_0x197dc2(0xa39)][_0x197dc2(0xc4b)](_0x197dc2(0x4c5));try{const _0x3a20c2=collection(db,_0x197dc2(0x309)+appId+_0x197dc2(0x498)),_0x57c7fd=await getDocs(_0x3a20c2),_0x1b35a9=_0x57c7fd[_0x197dc2(0x2ea)][_0x197dc2(0x598)](_0x545f92=>({'id':_0x545f92['id'],..._0x545f92[_0x197dc2(0xc89)]()})),_0x190861=_0x1b35a9[_0x197dc2(0x3e1)](_0x573cce=>_0x573cce['id']!==currentProjectId);if(_0x190861[_0x197dc2(0x649)]===0x0){_0x15da14['innerHTML']=_0x197dc2(0xc19),document['getElementById'](_0x197dc2(0x326))['disabled']=!![];return;}_0x15da14[_0x197dc2(0x5f0)]=_0x190861[_0x197dc2(0x598)](_0x195382=>_0x197dc2(0x79b)+_0x195382['id']+'\x22>'+_0x195382['projectName']+'</option>')['join'](''),document['getElementById'](_0x197dc2(0x326))[_0x197dc2(0x9e8)]=![];}catch(_0x1241ae){console[_0x197dc2(0x40f)](_0x197dc2(0xbc9),_0x1241ae),showMessage(_0x197dc2(0x8b0)),moveQuizModal[_0x197dc2(0xa39)]['add']('hidden');}}async function confirmMoveQuiz(){const _0x4cf904=_0x2f78fc,_0x4eedd4=document[_0x4cf904(0x288)](_0x4cf904(0x4d5))[_0x4cf904(0x63b)];if(!_0x4eedd4){showMessage(_0x4cf904(0x8d4));return;}if(!actionTargetId)return;const _0x116d10=doc(db,_0x4cf904(0x309)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x116d10,{'projectId':_0x4eedd4}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x4cf904(0xa39)][_0x4cf904(0x5c0)]('hidden'),actionTargetId=null;}catch(_0x570813){console[_0x4cf904(0x40f)](_0x4cf904(0x57f),_0x570813),showMessage(_0x4cf904(0x69c));}}async function handleQuizSettings(_0x354f6a){const _0x29c030=_0x2f78fc;actionTargetId=_0x354f6a;const _0x5391b1=doc(db,_0x29c030(0x309)+appId+_0x29c030(0x480),_0x354f6a);try{const _0x51fde3=await getDoc(_0x5391b1);if(_0x51fde3[_0x29c030(0x5e4)]()){const _0x57d1a6=_0x51fde3[_0x29c030(0xc89)](),_0x362a42=_0x57d1a6['settings']||{},_0x16d11c=_0x57d1a6[_0x29c030(0xc81)][_0x29c030(0x649)];document[_0x29c030(0x288)]('modal-shuffle-select')[_0x29c030(0x63b)]=_0x362a42[_0x29c030(0xa4d)]||_0x29c030(0x2fa),document['getElementById'](_0x29c030(0x51c))['value']=_0x362a42['resultsDisplay']||_0x29c030(0xc4e),document[_0x29c030(0x288)](_0x29c030(0x814))[_0x29c030(0x63b)]=_0x362a42['timerMode']||'none',document['getElementById'](_0x29c030(0x681))[_0x29c030(0x63b)]=_0x362a42['timerDuration']||0xa,document[_0x29c030(0x288)](_0x29c030(0xaae))[_0x29c030(0x63b)]=_0x362a42['passingScore']||Math[_0x29c030(0x60a)](_0x16d11c/0x2),document[_0x29c030(0x288)](_0x29c030(0xaae))['max']=_0x16d11c,document[_0x29c030(0x288)](_0x29c030(0x234))[_0x29c030(0xbe3)]=_0x362a42[_0x29c030(0x473)]||![],document[_0x29c030(0x288)](_0x29c030(0x4f6))[_0x29c030(0xbe3)]=_0x362a42[_0x29c030(0x321)]||![];const _0x2afb31=_0x362a42[_0x29c030(0x285)]||![];document[_0x29c030(0x288)]('modal-confidence-scoring-checkbox')['checked']=_0x2afb31,document[_0x29c030(0x288)](_0x29c030(0x9ba))['value']=_0x362a42['confidenceMode']||_0x29c030(0x6f5);const _0x10e2dd=document[_0x29c030(0x288)](_0x29c030(0xb32));_0x10e2dd[_0x29c030(0xa39)][_0x29c030(0xc5b)](_0x29c030(0x4c5),!_0x2afb31),document[_0x29c030(0x288)](_0x29c030(0x814))[_0x29c030(0x6df)](new Event(_0x29c030(0x2f8))),quizSettingsModal['classList'][_0x29c030(0xc4b)](_0x29c030(0x4c5));}else showMessage(_0x29c030(0x663));}catch(_0x4f24b9){console[_0x29c030(0x40f)]('Error\x20fetching\x20quiz\x20settings:',_0x4f24b9),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x57ea9d=_0x2f78fc;if(!actionTargetId)return;const _0x259ed4=doc(db,_0x57ea9d(0x309)+appId+_0x57ea9d(0x480),actionTargetId),_0x48dcbe={'shuffle':document['getElementById'](_0x57ea9d(0x32b))[_0x57ea9d(0x63b)],'resultsDisplay':document[_0x57ea9d(0x288)](_0x57ea9d(0x51c))['value'],'timerMode':document[_0x57ea9d(0x288)]('modal-timer-mode-select')[_0x57ea9d(0x63b)],'timerDuration':parseInt(document['getElementById'](_0x57ea9d(0x681))[_0x57ea9d(0x63b)])||0xa,'passingScore':parseInt(document[_0x57ea9d(0x288)]('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x57ea9d(0x288)](_0x57ea9d(0x234))[_0x57ea9d(0xbe3)],'loopUntilPass':document[_0x57ea9d(0x288)]('modal-loop-until-pass-checkbox')[_0x57ea9d(0xbe3)],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')[_0x57ea9d(0xbe3)],'confidenceMode':document['getElementById'](_0x57ea9d(0x9ba))[_0x57ea9d(0x63b)]};try{await updateDoc(_0x259ed4,{'settings':_0x48dcbe}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x57ea9d(0xa39)][_0x57ea9d(0x5c0)](_0x57ea9d(0x4c5)),actionTargetId=null;}catch(_0x54efd7){console[_0x57ea9d(0x40f)]('Error\x20updating\x20quiz\x20settings:',_0x54efd7),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x2908a3=_0x2f78fc;if(!actionTargetId)return;const _0x409fcb=doc(db,_0x2908a3(0x309)+appId+_0x2908a3(0x480),actionTargetId),_0x43f10f=document[_0x2908a3(0x2ee)]('input[name=\x22status-option\x22]:checked');if(!_0x43f10f){showMessage(_0x2908a3(0xcdc));return;}const _0x3062a2=_0x43f10f[_0x2908a3(0x63b)];let _0x539f89={};if(_0x3062a2===_0x2908a3(0xadb)||_0x3062a2===_0x2908a3(0xcc1))_0x539f89={'status':_0x3062a2,'startTime':null,'endTime':null};else{if(_0x3062a2===_0x2908a3(0x380)){const _0x380cec=document[_0x2908a3(0x288)]('quiz-start-time')[_0x2908a3(0x63b)],_0x413e77=document['getElementById'](_0x2908a3(0x25b))[_0x2908a3(0x63b)];if(!_0x380cec&&!_0x413e77){showMessage(_0x2908a3(0x3f2));return;}_0x539f89={'status':_0x2908a3(0x56b),'startTime':_0x380cec?new Date(_0x380cec)[_0x2908a3(0x75b)]():null,'endTime':_0x413e77?new Date(_0x413e77)['toISOString']():null};}}try{await updateDoc(_0x409fcb,_0x539f89),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x2908a3(0xa39)][_0x2908a3(0x5c0)]('hidden'),actionTargetId=null;}catch(_0x575d6c){console[_0x2908a3(0x40f)](_0x2908a3(0xcd1),_0x575d6c),showMessage(_0x2908a3(0x41c));}}function listenForStudentProfiles(_0x2f5ab1){const _0x551c12=_0x2f78fc,_0x4a0d78=collection(db,_0x551c12(0x309)+appId+_0x551c12(0x4a0)+_0x2f5ab1+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x4a0d78,_0x25bb26=>{const _0x18b4e4=_0x551c12,_0x29163b=_0x25bb26['docs'][_0x18b4e4(0x598)](_0x1cdcc2=>_0x1cdcc2['data']());renderLeaderboard(_0x29163b,_0x18b4e4(0x7a2));},_0x379b59=>{const _0x4c2763=_0x551c12;console[_0x4c2763(0x40f)](_0x4c2763(0x47a),_0x379b59),document[_0x4c2763(0x288)](_0x4c2763(0x7a2))[_0x4c2763(0x5f0)]=_0x4c2763(0x7ff);});}function _0x35af(){const _0x4bd09f=['<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','selectedTopicNames','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','dimmed','group','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x20pointer-events-none\x22>','display','API\x20Error\x20Response:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','password-error-msg','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','result','questions','totalPoints','.delete-hidden-parallel-shortcut-btn','shouldSaveResults','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','post-test','Team\x20Quiz','data','fa-user-astronaut\x20text-blue-700','sync-submit-btn','student-quiz-leaderboard-table-body','add-shortcut-tab-btn','not_confident','การประยุกต์เวกเตอร์พื้นฐาน','-tab-content','text/plain','gradeLevel','ปรับเพิ่ม/ลดเป็นร้อยละ','text-green-600','ผู้เชี่ยวชาญ','Error\x20during\x20blueprint\x20link\x20cleanup:','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','getAttributeNS','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','dragover','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','fa-bolt\x20text-blue-500','ไม่พบข้อมูลข้อสอบหลังเรียน','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','.quiz-bank-checkbox:checked','visible','[*]','readAsDataURL','blueprint-input-area','หน่วยเวลาและการคำนวณเวลา','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','parallel-shortcut-url-input','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','Firebase\x20initialization\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x22.\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ใช่\x20/\x20ถูก','การยืนยันตัวตนล้มเหลว','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','stepByStepExamples','export-lesson-pdf-btn','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','uid','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','scratchpad-options','msExitFullscreen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','add-file-shortcut-tab-btn','nickname-input','inactive','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','Error\x20saving\x20lesson\x20to\x20project:','.remove-shortcut-from-tab-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','.delete-student-btn','.isScored','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','</p><p><strong>เฉลย:</strong>\x20','1195551iexjJY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','upperGroupNames','raw','Error\x20updating\x20quiz\x20status:','ย้าย','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','right','pinned-items','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input-area','\x27\x20ในหัวข้อ\x20\x27','parentElement','กรุณาเลือกสถานะ','delete','จับคู่เพื่อเปรียบเทียบผล','className','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','qIndex','/public/data/learnedFixes','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','perfect_score_status','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','parallel-shortcut-id-input','hint-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','Error\x20deleting\x20project:','times','Error\x20linking\x20quizzes:','view-my-progress-btn','ควรปรับปรุง','cancel-quiz-settings-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','learningGaps','\x0a---\x0a','ปริพันธ์จำกัด','.shortcut-list-item:not(.opacity-50)','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','presentation-ai-result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','PERSEVERANCE','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','Error\x20updating\x20project\x20name:','Error\x20generating\x20from\x20parallel\x20test\x20file:','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','eraser-tool-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','isLooping','บันทึกแบบทดสอบสำเร็จแล้ว!','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20showing\x20quiz\x20detail\x20view:','.bp-create-content-quiz-btn','/public/data/blueprintProjects','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','.start-presentation-list-btn','กรุณาเลือกชื่อของคุณ','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','next-sync-question-btn','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','application/json','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','smooth','file-default-2','คะแนนเฉลี่ย','preScore','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','project-id-display','clientY','highlighter-tools-group','\x20|\x20ID:\x20','Error\x20updating\x20old\x20quizzes:','เศษส่วน\x20(ย่อ/ขยาย)','#math-topics-checkbox-container\x20input:checked','sync-short-answer-input','generate-from-file-btn','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','.group\x5c/dropdown-parallel','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์สไตล์\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22เนื้อหา\x22\x20และ\x20\x22ตัวอย่าง\x22\x20ที่ส่งเสริมการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่แค่การคำนวณในขั้นตอนเดียว\x20โดยต้องสอดแทรกแนวคิดเหล่านี้เข้าไปในเนื้อหาและตัวอย่างประกอบ:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การแก้ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ตัวอย่างและโจทย์ควรส่งเสริมให้ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ป\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การคิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20หากเป็นไปได้\x20ให้มีตัวอย่างที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ใช้สถานการณ์,\x20ตาราง,\x20หรือแผนภูมิสมมติในการยกตัวอย่างเพื่อให้นักเรียนฝึกตีความ\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**การประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สำหรับส่วนที่เป็นแบบฝึกหัด\x20(APPLICATION)\x20ควรมีโจทย์ที่ให้ข้อสรุปมาอยากมาก\x201\x20ข้อ\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎของตัวลวง\x20(Distractor\x20Rule\x20for\x20APPLICATION\x20section):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x201','เกิดข้อผิดพลาดในการบันทึก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','fill_in_the_blank','text-blue-800','บันทึกโปรเจค\x20\x22','showRankings','text-green-700\x20bg-green-100','hasPerfectScoreBonus','สร้างโปรเจคสำเร็จ!','คะแนนเต็ม!','list-view-btn','file-input-area','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','clearRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','back-to-home-manual-release','เกิดข้อผิดพลาดในการแก้ไข','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกโปรเจคก่อน','สร้างคำถามแบบเติมคำในช่องว่าง','modal-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','Sync\x20Mode','\x0a\x20\x20\x20\x20','all','startTime','ความต่อเนื่อง','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','next-question-btn','circle','text-red-700','<i\x20class=\x22fas\x20fa-pen\x22></i>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','<svg','.generate-post-test-btn','เปิด\x20(จับเวลา)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','number','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','key','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-target-tab-id=\x22','description','quiz','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','ondrop','commit','toLowerCase','insertBefore','.delete-submission-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','players.','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','เลือกโปรเจคเพื่อบันทึก','live-player-list','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คำถามดิบ:\x20\x22','rgba(255,\x20255,\x200,\x200.5)','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','shortcutOrder','จุด\x20เส้น\x20ระนาบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-tab','blur','พื้นที่วงกลม/ส่วนของวงกลม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบใช่/ไม่ใช่','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','แบบทดสอบที่ติดดาว','applicationHTML','text-indigo-800','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','pow','generate-from-link-btn','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','แบบปรนัย\x204\x20ตัวเลือก','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','export-leaderboard-image-btn','scheduled_pending','ต้นฉบับทั้งหมด','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div>','กำลังสร้างบทเรียน:\x20','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-search-input','forEach','lowerGroupNames','.bp-present-btn','รายการนี้','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20saving\x20blueprint\x20project:','topics','confidence-choice-btn','confirm-quiz-status-btn','ondragover','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตแบบทดสอบเก่า\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','mjx-container','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','เพิ่ม\x20','generate-from-topic-btn','modal-adaptive-quiz-checkbox','pinnedProjects','arrayBuffer','upper_group_count','onblur','answerValue','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','กำลังอัปเดตแบบทดสอบ\x20','mousemove','10KYNaEt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','transform','#F3E8FF','interesting-stats-wrapper','ถูกต้อง!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-input','</option>','geq','MathJax\x20typeset\x20error\x20(analytics):','สลับไปโหมดนักเรียน','.project-card-content','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','สรุปผลการวิเคราะห์:\x5cn','</button>','fadeStartTime','.doc','ผลรวมอนุกรม\x20(Σ)','#confidence-input-','</tbody></table></div>','true_false','helvetica','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mandatory','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','quiz-end-time','live-race','totalQuestions','Error\x20creating\x20project:','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','.delete-file-shortcut-tab-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-comparison-modal-footer-btn','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','27411472','bg-green-500','confirm-bulk-quiz-settings-btn','bg-gray-50','file-shortcut-editor-modal','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','.delete-parallel-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</h4>','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x5cdiv','.tab-name-input','เกิดข้อผิดพลาดในการติดดาว','/studentProfiles','moveTo','close-additional-shortcuts-btn','blueprint-upload-input','sara','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','confidenceMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','multiply','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','getDocument','isConfidenceScoringEnabled','เกิดข้อผิดพลาดในการสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','file-shortcut-container','team-quiz-topic','points','.kick-player-btn-sync','274192258111','admin','topic-input','cancel-quiz-status-btn','<br>','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','block','.ai-content\x20p','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','Error\x20adding\x20students:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','onload','comparison','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','blueprint-topics-list','default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','/public/data/syncGames','\x5cge','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','stdDev','bp-modal-num-choices','สอบปกติ','cloneNode','standard','</td>','quiz-leaderboard-table','text-white','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lineJoin','Error\x20fetching\x20student\x20rankings:','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','doughnut','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x5cneq','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ฟังก์ชันเชิงเส้นและกราฟ','rgba(239,\x2068,\x2068,\x200.9)','mode-switcher-btn','file-shortcuts-loading-msg','ไม่ผ่าน','student-progress','manage-tab','correctResponse','ส่งคำตอบ','cancel-file-shortcut-edit-btn','save-file-shortcut-btn','</span></p>','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','toString','ปิดใช้งาน','ส่วนเบี่ยงเบนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.toggle-actions-btn','/lessons','shortcutId','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','.linkedQuizIds','แท็บใหม่',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','ไม่ระบุ','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','API\x20call\x20failed\x20with\x20status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20manual\x20blueprint\x20project:','position','.answeredCurrentQuestion','docs','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','bg-black/10','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','ดอกเบี้ยทบต้น','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','<button\x20data-shortcut-id=\x22','จำนวนและการดำเนินการ','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','input[name=\x22team_player\x22]:checked','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','change','ไฟล์ลัด\x201','none','close-comparison-modal-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','tool','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','slide-counter','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','application/pdf','parallel-shortcut_','submittedAt','.application-options\x20button','generated','loader','artifacts/','keyConcepts','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','No\x20player\x20data\x20to\x20save.','analytics-summary-cards','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','setAttribute','sort','attempts','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','รูปหลายเหลี่ยมและมุมภายใน','canvas','พาราโบลา','wheel','multiple_choice','องค์ประกอบของฟังก์ชัน','analyze-strengths-btn','manage-players-btn','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','insertAdjacentHTML','เนื้อหาสำหรับสอน:\x20','project-quizzes-list','loopUntilPass','fill_in_no_choices','test','create-from-bank-btn','มุมพิเศษ\x2030°-60°-90°','confirm-move-quiz-btn','lastAnswerIndex','target','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','close-additional-file-shortcuts-btn','modal-shuffle-select','topic','.export-pdf-list-btn','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x20คะแนน</span></div>','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','การลบ','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','</p></div>','div[data-question-index=\x22','blueprint-tab','สมมาตร\x20(แกน/จุด)','empty','Error\x20loading\x20quiz\x20for\x20student:','.duplicate-quiz-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','Failed\x20to\x20generate\x20practice\x20test:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','choices_only','.compare-results-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','input','ondragstart','transformOrigin','push','autoTable','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','starred-project','ฟังก์ชันยกกำลัง','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','stem','set','globalSettings','whole_quiz','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','พื้นที่ผิวรูปทรงสามมิติ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','unshift','goto-next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','teachingContent','การหาร','grabbing','element','student-quiz-leaderboard-content','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','blueprint-project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','close-student-rankings-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','บันทึกการแก้ไข','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','dragend','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','presentation-explanation','ตรีโกณมิติ','.topic-name-display','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','129650WsVROW','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','\x22\x20data-name=\x22','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','กรุณาตั้งชื่อแท็บใหม่:','text-tab','highlighter-size-value','.lastAnswerValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','23577wxmwvO','num-questions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','schedule','confidence-scoring-description','button[type=\x22submit\x22]','file-shortcut_','export-leaderboard-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลการจับคู่','#000000','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','จำนวนเต็มบวก','latestSubmittedAt','rgba(16,\x20185,\x20129,\x200.7)','ราชาคัมแบ็ก','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','start-sync-game-btn','student','#6366F1','export-image-btn','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','STRING','#FFFFFF','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','binom','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','webkitRequestFullscreen','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','split',')\x22>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseInline','undefined','Error\x20deleting\x20submission:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','/public/data/customMathTopics','.delete-quiz-btn','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20team\x20quiz:','substring','msRequestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','groups.','ฟังก์ชันลอการิทึม','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','responses.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','cdot','Copy\x20command\x20failed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','การแจกแจงปกติและ\x20z-score','(^|[^\x5c\x5c])\x5cb','print','parallelShortcutTabs','แผนการสอน','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','pointermove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','.linkedQuizId','match','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pathname','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','ไม่สามารถสร้างโปรเจคได้','พื้นที่ใต้กราฟ/ระหว่างกราฟ','Error\x20processing\x20parallel\x20shortcut\x20click:','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','comparison-overall-tab',':</span><span>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','FileReader\x20error:','\x20(p=','linkedQuizIds','typesetPromise','custom-math-topic-input','ไม่ใช่','lesson-plan-modal','getItem','อยู่ในสาระการเรียนรู้ใด:','pop','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22><span>','querySelectorAll','workerSrc','leq','\x20จุดเรียบร้อยแล้ว','activeGameSession','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','filter','กรุณาเลือกคำตอบของกลุ่ม','classWeaknesses','PERFECT_SCORE','shadowBlur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','ค่าสัมบูรณ์','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','.\x20แต่ละข้อมี\x20','check-answer-btn','.topic-category','add-student-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','removeItem','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','summary','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.shortcut-tab-btn','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bestScore','https://corsproxy.io/?','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','editable-text-','Error\x20generating\x20lesson\x20plan:','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','bg-green-100\x20font-bold','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ไม่สามารถโหลดข้อมูลอันดับได้','lesson-view-modal','MathJax\x20re-render\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','answer-counter','answered','Error\x20saving\x20parallel\x20shortcut:','attemptNumber','auto-fix-latex-btn','random','border-gray-200','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','text-red-800','Error\x20opening\x20quiz\x20editor:','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','$$$1$','.remove-file-shortcut-from-tab-btn','comparison-modal','แบบทดสอบฝึกฝนเรื่อง:\x20','entries','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','confidence','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','team-player-status-grid','projectSortOrder','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','presentation-scratchpad-btn','ai-quiz-generator-v3','behavior-log','mean','text-blue-700\x20bg-blue-100','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','เกิดข้อผิดพลาด','content','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','groups','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','end-sync-game-btn','.ideal-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode','bg-green-200\x20text-green-800','\x22\x20สำเร็จ!','gamePin','/public/data/teamQuizzes','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','preTScore','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','บันทึกการตั้งค่าการแสดงผลสำเร็จ','trail','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reduce','load-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','draggable-text','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปมาอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','score','title','results-display-select','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','.admin-try-quiz-list-btn','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','save-quiz-btn','.rename-quiz-btn','Error\x20generating\x20easy\x20version\x20quiz:','width','label','.ideal-answer-input,\x20.correct-response-input','<button\x20data-id=\x22','</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ความชันและเส้นตรง','restore','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-default-','(ไม่มีชื่อ)','):\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','projectView','border-green-300\x20bg-green-50','API\x20call\x20failed','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20analyzing\x20blueprint\x20topics:','baseVal','project-passcode-input','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','confirm-delete-btn','beforeend','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','\x20จาก\x20','</p><div>','ปริมาตร/ความจุและการแปลง','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','circ','abs','export-compact-pdf-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAdaptive','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x22\x20สำเร็จ','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-blue-100\x20text-blue-800','cancel-move-quiz-btn','กำลังเตรียมไฟล์...','Error\x20listening\x20for\x20student\x20profiles:','_opt1\x22\x20name=\x22question','ลำดับเรขาคณิต\x20(GP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','live-options-container','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','/public/data/quizzes','afterend','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','12pqEXxP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x20mr-2\x22></i>','ปุ่มลัดทั้งหมด','lowerGroupResponders','\x20|\x20','ไม่พบข้อมูลโปรเจค','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','โดเมนและเรนจ์','กรุณาเลือกคำตอบ','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','promise','difficulty-level-select','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x22\x20class=\x22delete-project-btn\x20','timer-mode-select','\x20ตอบ','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','/public/data/projects','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','thead','matching','results-quiz-title','กำลังอ่านไฟล์อ้างอิง...','div','909433xKxLDu','/public/data/projects/','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','bulk-quiz-settings-modal','close-lesson-plan-modal-btn','แผนภาพเวนน์','pen','px)\x20scale(','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x5ctimes','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','<div\x20class=\x22loader\x20mx-auto\x22></div>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','prev-question-btn','postScore','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','รูปสแควร์รูท\x20(surd)','คุณแน่ใจว่าต้องการลบแท็บนี้?','generate-from-text-btn','</span><span\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการลบผลสอบ','สลับไปโหมดผู้ควบคุม','shortcut-editor-modal','.move-parallel-shortcut-item','quiz-leaderboard-table-container','.open-bp-project-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','.pointsLastQuestion','#student-project-leaderboard-content\x20thead','.use-hidden-shortcut-btn','open-quiz-bank-btn','shortcut-reference-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','hidden','bank-quiz-list','export-worksheet-pdf-btn','text-red-500\x20hover:text-red-700','analytics','items','lesson-view-content','ข้อ\x20','separate-by-content-from-file-checkbox','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','team-student-list','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','move-quiz-project-select','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','กฎของโคไซน์','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','.status','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x20(ID:\x20','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','justification','</span></div>','toLocaleDateString','save-game-results-checkbox','style','.parallel-shortcut-btn','highlighter-size-slider','btn','/preferences/main','onchange','file-topic-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-topics-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','temp-loader-results','suggestedAnswer','timer-duration-input','questionDisplayedAt','textarea','generate-from-blueprint-btn','pdf','from','modal-loop-until-pass-checkbox','Failed\x20to\x20get\x20hint:','การลบเศษส่วน','substr','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','หลังเรียน','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบโปรเจค','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยกเลิกการเชื่อมโยงสำเร็จ','เปิดใช้งาน','ระยะจากจุดถึงเส้นตรง','catch','.file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','ระบบเลขและค่าประจำหลัก','max','show_pass_fail_only','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','NUMBER','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','เริ่มกิจกรรม:\x20','globalAlpha','.ai-content\x20li','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','(ก่อนเรียน)\x20','confirmation-modal','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-live-race-generated-btn','parallelTestShortcutsConfig','.draggable-text','.delete-hidden-shortcut-btn','modal-results-display-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','appendChild','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','file.pdf','ศูนย์','ห.ร.ม.\x20(GCD)','_blank','parallelShortcutOrder','.file-shortcut-btn[data-id=\x22','Error\x20verifying\x20answers:','fileShortcutTabs','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>','คัดลอกไม่สำเร็จ','scores','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20text-gray-700','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<tr><td\x20colspan=\x22','find','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-bank-list','ความคล้ายของรูป','text','numQuestions','text-green-600\x20font-bold','bg-green-50','lower_group_count','bg-red-100\x20text-red-800','join','.answered','ทำคะแนนได้เกินครึ่ง','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','.parallel-quiz-btn','questionIndex','questions_only','\x20</div>\x0a\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','.edit-hidden-file-shortcut-btn','endsWith','lesson-loader','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cursor','prod','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','file-shortcut-url-input','.presentation-option','student-progress-content','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','application','.group','<h1></h1>','.quiz-result-card','idealAnswer','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ค่าความจริง/ตารางค่าความจริง','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-blueprint-projects-btn','#E5E7EB','input[type=\x22text\x22]','next-drill-btn','parse','.move-shortcut-item','blueprint-options-container','topic-quiz-bank-modal','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','cancel-bulk-quiz-settings-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','text-indigo-700','questionId','scheduled','-\x20ข้อ\x20','join-live-game-btn','comparison-individual-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','showInStudentDashboard','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','รอ...','link-input-area','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setFont','removeAttribute','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','category','Error\x20moving\x20quiz:','settings','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/users/','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','confidence-modal','analytics-tab-btn','คัดลอกรหัสแล้ว!','.regenerate-question-btn','ผ่าน','\x22\x20name=\x22question_single\x22\x20value=\x22','.color-palette-popup','file-shortcut-id-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','quizType','Blueprint\x20O-NET\x20ป.6','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','tooltipTarget','\x20\x20\x20-\x20คำตอบ:\x20','readAsArrayBuffer','students','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','Error\x20toggling\x20star\x20status:','map','\x5cle','short_answer','summaryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','text-purple-600','ตั้งเวลา\x20(เปิด)','ไม่มีผู้ตอบตัวเลือกนี้','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint','หมดเวลาสำหรับข้อนี้!','source_document.txt','<div\x20class=\x22mb-3\x20topic-category\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','force-math-checkbox','manual-bp-project-name','rgba(239,\x2068,\x2068,\x200.7)','currentMode','.live-answer-btn','file-shortcut-tabs-nav','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','add-parallel-shortcut-tab-btn','dataIndex','user','matching_item','ondblclick','addEventListener','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','type','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ไม่พบข้อมูลเกม','Error\x20saving\x20quiz:','ownerSVGElement','confirm-quiz-settings-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','questionStatus','\x20กลุ่ม</p></div>','add','ทศนิยม\x20(ค่าประจำหลัก)','Error\x20displaying\x20question\x20bank:','Error\x20joining\x20sync\x20game:','กำลังอ่านไฟล์\x20Test\x20Blueprint...','results','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','student-quiz-area','\x20คะแนน\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','close-lesson-view-btn','confirm-manual-bp-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','<p\x20class=\x22','source_document.pdf','กำลังจับคู่...','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','fa-fire\x20text-orange-500','sqrt','sync-player-list','cancel-quiz-edits-btn-footer','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','viewBox','mixed','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','pointercancel','enable-passcode-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','replace','exists','cancel-shortcut-edit-btn','.ai-fix-formula-btn','results-tab-content','submit-team-answer-btn','text-gray-200','ai-quiz-app-aefee.firebasestorage.app','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-manager-view','MathJax','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','เงินงวด\x20(อนุกรมเงินงวด)','innerHTML','ฮิสโตแกรม','getTextContent','flex','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','back-to-student-initial-btn','pointerup','/public/data/blueprintProjects/','deltaY','start-quiz-btn','parseFromString','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','after','กรุณาพิมพ์คำตอบของกลุ่ม','NEGATIVE_INFINITY','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','document','.color-palette-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','file-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','.star-quiz-btn','floor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','Error\x20processing\x20shortcut\x20click:','onclick','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','<option>กำลังโหลดโปรเจค...</option>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','answeredCurrentQuestion','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','00:00','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','lesson-plan-title','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','false','กิจกรรมสิ้นสุดลงแล้ว','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','answers','visibilityState','download','ตรวจทานเฉลยเสร็จสิ้น!','live-game','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','แบบทดสอบนี้ปิดใช้งานอยู่','cancel-game-start-btn','ระบบสมการเชิงเส้นสองตัวแปร','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','[data-field=\x22subTopic\x22]','\x22\x20class=\x22color-palette-btn\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','bg-red-500','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerText','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','Error\x20deleting\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','ไม่พบข้อมูลหัวข้อที่จะบันทึก','แบบทดสอบซ่อมเสริม','.png','value','total','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','bp-topic-list-container','redo-btn','วงรี','admin-try-quiz-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.pen-color-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','confirm-game-start-modal','open-global-live-btn','length','ดอทโปรดักต์\x20(dot)','topics.','<p\x20class=\x22text-xl\x22>','กรุณาวาง\x20URL\x20ของบทความก่อน','รูปแบบการให้เหตุผล','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','.file-topic-selection-btn','lesson-loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','.tab-name-display','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','fileShortcutOrder','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','sync-manage-players-btn','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Failed\x20to\x20resume\x20game\x20session:','jspdf','Invalid\x20response\x20structure\x20from\x20AI.','\x22\x20name=\x22question','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบ','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','แผนภาพกล่อง\x20(box\x20plot)','shortcut_','Successfully\x20removed\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','Enter','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','project-search-input','parallel-shortcut-modal-title','scratchpad-controls','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','(หลังเรียน)\x20','input[type=\x22checkbox\x22]:checked','แบบทดสอบนี้หมดเวลาแล้ว','fa-dumbbell\x20text-gray-700','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','.verification-result','การจัดหมู่\x20(Combination)','pointsLastQuestion','options','isArray','originalQuestionText','modal-timer-duration-input','.pdf','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','text-yellow-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','bottom','short','แบบเติมคำตอบ','เกิดข้อผิดพลาดในการบันทึกโปรเจค','#FEE2E2','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','Error\x20unlinking\x20quiz:','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answerText','keys','actions-container-','เพิ่มหัวข้อ\x20\x22','scores-tab-content','Error\x20saving\x20shortcut:','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','พบ\x20Team\x20Quiz!','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Action:\x20Generate\x20new\x20lesson.','setAttributeNS','admin-dashboard','touchend','Auto-linking\x20new\x20quiz\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','สมการยกกำลัง','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','stringify','<tr\x20class=\x22','ฟังก์ชันแบบชิ้นส่วน','icon','submission','shuffledQuiz','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','numeric','มัธยฐาน','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','พอใช้','Error\x20saving\x20user\x20preference:','curriculum','.bp-try-btn','ดีเทอร์มิแนนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','bg-blue-500\x20hover:bg-blue-600\x20text-white','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','เปลี่ยนชื่อโปรเจคสำเร็จ','shuffle-setting-select','</div></div>','bg-red-50','instructions','badges','6878069PuoYnI','difficultyValue','Error\x20deleting\x20quiz:','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','อสมการเชิงเส้น','memoryContent','contains','.answers','offset','รูปสี่เหลี่ยมและสมบัติ','projectSort','border-indigo-500\x20text-indigo-600','removeChild','Unexpected\x20API\x20response\x20structure:','Error\x20saving\x20game\x20results:','closest','parallel-shortcut-tabs-nav','อัปเดตพฤติกรรมสำหรับ\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','.delete-bp-project-btn','close-additional-parallel-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','.topic-selection-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','dispatchEvent','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','Error\x20deleting\x20student:','modal-timer-duration-container','createdAt','กำลังสร้างแบบทดสอบ\x20\x22','ความคาดหมาย\x20(Expected\x20value)','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','-tab','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ผู้ควบคุม\x20(ทดสอบ)','bp-add-topic-btn','answering','student-name-select','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','subTopics','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createObjectURL','select','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','checkbox','findIndex','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','results_','การปัดเศษและประมาณค่า','perseverance','admin-password-modal','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','frac','visibilitychange','\x20mx-1\x20text-lg\x22></i></span>','additional-parallel-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','สำหรับหัวข้อ\x20\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20generating\x20worksheet:','modal-confidence-scoring-checkbox','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','#F59E0B','รีเซ็ตลำดับโปรเจคแล้ว','อินเวอร์สของเมทริกซ์','กลุ่ม:\x20','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','ฐานนิยม','parallel-shortcut-name-input','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','(คู่ขนาน)\x20','presentation-modal','<button\x20data-quiz-id=\x22','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','confirm-game-start-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','bg-green-200\x20text-green-900\x20font-bold','timer-duration-label','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','endTime','checkAnswer','ไม่มีคำอธิบาย','asc','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','reference-pdf-upload','\x22\x20name=\x22team_answer\x22\x20value=\x22','indexOf','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','คะแนน','numPages','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','Leaderboard\x20update\x20transaction\x20failed:\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x22\x20data-quiz-id=\x22','include-images-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','Error\x20joining\x20activity:','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','.edit-quiz-btn','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-blueprint-url-input','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','per-question-text','incorrect','.ai-content\x20h3','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','/submissions','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-btn','#file-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบ','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','.ai-content\x20blockquote','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comeback_king','toISOString','.project-card-container:not(.opacity-50)','includeImages','\x20รายการ\x20สำเร็จ!','ชื่อหัวข้อห้ามว่าง','<div\x20id=\x22q-image-container-','applicationData','Error\x20confirming\x20players\x20for\x20sync\x20game:','toFixed','4VurTPq','mouseleave','shortcutTabs','height','player-count','confirm-passcode-btn','สมการค่าสัมบูรณ์','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','s;\x22\x20title=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','currentTarget','Error\x20submitting\x20group\x20answer:','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','targetId','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','ondragend','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','#open-additional-parallel-shortcuts-btn','additional-file-shortcuts-list','back-to-student-home-btn','Error\x20loading\x20blueprint\x20projects:','.quiz-status-btn','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','ต้นฉบับ\x202','retake-quiz-loop-btn','true','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','บทเรียน','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','sum','bg-green-500\x20hover:bg-green-600\x20text-white','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','question','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-project-name-btn','interesting-stats-container','index','กราฟฟังก์ชันตรีโกณ','manage-tab-content','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','confirm-link-quiz-btn','ไม่สามารถโหลดคลังข้อสอบได้','lessonPlan','Error\x20listening\x20for\x20projects:','earned-badges-container','ON_FIRE','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','worksheet-tab','.highlighter-color-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','parallel-shortcut-editor-modal','<option\x20value=\x22','qType','.regenerate-question-editor-btn','add-custom-math-topic-btn','score-distribution-chart','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','เกมสิ้นสุดลงแล้ว','leaderboard-table-body','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการลอการิทึม','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','text-green-700','.delete-custom-topic-btn','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','http://www.w3.org/2000/svg','lesson-plan-content','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','underline','_opt0\x22>ใช่</label></div>','student-quiz-topic','Error\x20saving\x20project\x20order:','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-menu-btn','shortcutIds','shortcut-name-input','_opt','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','bg-amber-100\x20text-amber-800','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','passingScore','manual-bp-content','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','rgba(79,\x2070,\x20229,\x200.8)','text/csv;charset=utf-8;','documentElement','input[type=\x22radio\x22][value=\x22','student-quiz-leaderboard-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','files','fix-lesson-latex-btn','กรุณาเลือกไฟล์ก่อน','grid','sync-player-management','tabId','ข้อต่อไป','COMEBACK_KING','กรุณาใส่ชื่อนักเรียน','presentation-slide-container','cancel-bp-settings-btn','dragstart','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','bg-green-100\x20text-green-800','parallel-default-1','Authentication\x20failed:','stroke','```json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','open-scratchpad-btn','Failed\x20to\x20kick\x20player\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','toDataURL','confirm-join-game-btn','fas\x20fa-star\x20text-yellow-500','ไม่สามารถเพิ่มนักเรียนได้','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.score','size','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','save-settings-btn','ยืนยันการกระทำ','far\x20fa-star','.bp-open-topic-bank-btn','quiz-type-select','ที่พิมพ์ได้\x20จำนวน\x20','num-choices-container','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','quadraticCurveTo','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</h3>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','mouseup','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','พบ\x20Sync\x20Game!','submission-status-chart','Error\x20generating\x20parallel\x20post-test:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','user-id-display','blueprintUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','shortcuts','บันทึกคำถามใหม่\x20','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','scale','<span\x20title=\x22','show_results_only','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x5cpm','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strength-weakness-analysis-container','trail-tool-btn','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','.remove-parallel-shortcut-from-tab-btn','\x22\x20value=\x22','worksheet-input-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','q-text-','opacity-50','list','lastIndexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','select[name=\x22question_single\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','leaderboard-tab-content','student-result-area','จากไฟล์ที่แนบมานี้,\x20','</li>','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','tGain','\x5csqrt{$1}','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','nextElementSibling','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','%</span>','ฟังก์ชันสัมพัทธ์\x20(rational)','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','getElementsByTagName','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','แก้ไขหัวข้อสำเร็จ','.game-start-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blockReason','bp-modal-question-complexity-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-file-shortcut-item','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-passcode-btn','live-short-answer-input','upperGroupResponders','ผิด','อนุพันธ์:\x20ผลคูณ/ผลหาร','confidence-input-','การหารทศนิยม','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','.bp-generate-lesson-btn','.sort-indicator','พบข้อสอบ\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','move-quiz-modal','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results','confirm-rename-quiz-btn','exitFullscreen','text-yellow-300','passcode-prompt-message','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','quiz-bank-modal','student-list','.summary-bar-item','isRemedial','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.bp-delete-topic-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','student-view','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/public/data/liveGames','การแปลงรูปอัตลักษณ์','team','isNormalTopic','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','text-gray-100','getContext','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','การแจกแจงทวินาม\x20(พื้นฐาน)','N/A','/public/data/quizzes/','AI\x20grading\x20failed:','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','2-digit','finishReason','text-green-800','แก้ไขปุ่มลัด','textarea[name=\x22question_single\x22]','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','file-tab','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','parts','\x20\x0a\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','timed','bp-modal-num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','Blueprint\x202','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','.quiz-bank-delete-btn','game-start-mode','<div\x20class=\x22my-2\x22>','.bp-create-onet-quiz-btn','QUICK_THINKER','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','eraser','เกิดข้อผิดพลาดในการนำผู้เล่นออก','.pen-size-btn','ค่าเฉลี่ย','อนุพันธ์:\x20กฎลูกโซ่','delete-svg-btn','กำลังสร้างรูปภาพ...','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','สุดยอด!\x20ตอบถูกทุกข้อ','1334304JdErry','ฟังก์ชันพหุนาม','passcode-input-container','open','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20preparing\x20content\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','bg-red-200\x20text-red-800','behavior-log-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','link-tab','.start-game-btn','questionType','ถูก','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','เพิ่มปุ่มลัดใหม่','ไม่มี','game-start-quiz-id','SAFETY','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','release','ไม่สามารถโหลดรายการโปรเจคได้','topicName','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','#DBEAFE','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','text-content-input','transparent','delete-all-students-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ต้นฉบับ\x201','ย้ายแบบทดสอบไปโปรเจคอื่น','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','touchmove','isCorrect','เกิดข้อผิดพลาดในการอ่านไฟล์','#26890c','input[name=\x22question_single\x22]:checked','message-modal','ส่วนเบี่ยงเบนมาตรฐาน','shadowColor','scores-tab-btn','fixed','border-red-300\x20bg-red-50','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ลบโปรเจคสำเร็จ','\x20in\x20all\x20blueprint\x20projects.','touchstart','timer-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','move','submissions','results-quiz-id-display','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','svg','กรุณาเลือกโปรเจคปลายทาง','<span\x20class=\x22font-bold\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','\x20(สำหรับ\x20','.move-parallel-shortcut-dropdown','click','\x22,\x20','add-shortcut-btn','project-list','global-activity-modal','thead\x20.sortable-header','กรุณาใส่ชื่อใหม่','currentQuestionIndex','trim','\x5csum','หน่วยมวล/น้ำหนักและการแปลง','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','point','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','default','.delete-parallel-shortcut-tab-btn','\x20จุด','เกิดข้อผิดพลาดในการลบ','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','.pin-project-btn','resize','commonMistakes','confident','.use-hidden-parallel-shortcut-btn','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','</div><div\x20class=\x22space-y-2\x22>','student-reading-area','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณากรอกข้อมูลให้ครบทุกช่อง','behavior-log-container','ความน่าจะเป็นแบบมีเงื่อนไข','save-parallel-shortcut-btn','#student-quiz-leaderboard-content\x20thead','bg-red-500\x20text-white\x20font-bold','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','Error\x20generating\x20teaching\x20content:','save','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','back-to-dashboard-from-results-btn','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','แผนการสอน:\x20','has','เกิดข้อผิดพลาดในการสร้างห้องเกม','correctAnswerIndex','[data-topic-container-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','manual-blueprint-modal','(ก่อนเรียน)','topic_','...','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','generate-from-parallel-test-btn','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','OBJECT','pre-test','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','Error\x20renaming\x20quiz:','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','scratchpad-modal','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','answer','handleGenerateAndShowLesson','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-create-project-btn','toLocaleString','generated-quiz-container','student-project-leaderboard-table-body','additional-shortcuts-list','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','เรเดียนและการแปลงหน่วย','padStart','.generate-content-btn','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','บันทึกผลการเล่นเกมของ\x20','leaderboard_','blueprintShortcuts','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','เกิดข้อผิดพลาดในการอัปเดต:\x20','leaderboard-quiz-tab-btn','global-activity-quiz-list','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectId','text-indigo-600','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','open-sync-scratchpad-btn','mainTopics',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สถิติและความน่าจะเป็น','file-default-1','loader-text','close-topic-bank-btn','Error\x20regenerating\x20question\x20in\x20editor:','progress-student-select','ค่าคลาดเคลื่อนของการวัด','touchcancel','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังสร้างเนื้อหา:\x20','กรุณาใส่ชื่อโปรเจค','Error\x20rendering\x20student\x20progress:','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','จากเนื้อหาต่อไปนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x20ชุดสำเร็จ!','start-game-btn','.edit-file-shortcut-btn','confirm-confident','#D1FAE5','คัดลอกแบบทดสอบสำเร็จ','bg-black/20','อัตราการเปลี่ยนแปลงทันที','student-project-leaderboard-tab','.edit-shortcut-btn','parallel-shortcut-container','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','sin','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','manage','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','cancel-team-selection-btn','behaviorLog','.flex.justify-between.items-center','วงกลม:\x20สมการและสมบัติ','includes','undo-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-table-container','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','splice','grid-view-btn','การกระจายและการจัดหมู่','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','cancel-quiz-bank-btn','blueprint-projects-modal','sync','บทเรียนเรื่อง:\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','mousedown','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','touches','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','live-player-management','Error\x20joining\x20live\x20game:','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-clear-btn','2460545rNdodb','$1\x5c%','results-table','quiz-results-view','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','timerMode','.live-summary-tooltip.visible','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20หัวข้อ)','กรุณาป้อนรหัสแบบทดสอบ','isStarred','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','isDefault','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','textarea[name=\x22team_answer\x22]','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','overallGroups','ยังไม่มีนักเรียนส่งงาน','file.txt','add-from-global-bank-btn','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','.group\x5c/dropdown-file','comparison-chart','ลำดับการดำเนินการ\x20(PEMDAS)','close-game-final-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการสำเร็จ!','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','globalCompositeOperation','Error\x20editing\x20topic:','เกิดข้อผิดพลาดในการปักหมุด','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','POST','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','modal-confidence-mode-select','cancel-global-activity-btn','now','</td></tr>','copy','quick_thinker','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','getBBox','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','wakeLock','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','additional-file-shortcuts-modal','ai-quiz-app-aefee','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','summary_chart','editable-quiz-topic','lesson-view-title','playerName','ลบหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','file-shortcut-name-input','/questionBank','complexityValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)',';\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','clear-all-links-btn','คำเตือน\x20(','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','pointContent','podium','link-topic-input','\x22\x20ออกจากคลังนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','disabled','จำนวนข้อ:','ยกเลิกการจับคู่สำเร็จ','data:application/vnd.ms-word;charset=utf-8,','per_question','transition-all','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','not_generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-mode-container','projectOrder','</tbody></table>','cancel-export-pdf-btn','table','ระยะทางและจุดกึ่งกลาง','confidence-scoring-checkbox','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','questionText','answer-grid-container','num-choices','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','reveal-answer-btn','timerDuration','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','FIRST_TRY_ACE','#open-additional-file-shortcuts-btn','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','analytics-tab-content','image/png','.txt','correct','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','explanation','comparison-overall-content','.edit-hidden-parallel-shortcut-btn','การบวกทศนิยม','practiceProblems','countdown-display','จำนวนนักเรียน','dashboardConfig','สร้างแล้ว','update-old-quizzes-btn','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','onerror','\x20/\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหารเศษส่วน','/public/data/practiceBank','ความเท่ากันทุกประการของสามเหลี่ยม','lessonContent','date_asc','per-question-timer-container','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','update','bulk-confidence-scoring-checkbox','quiz-results-table-body','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.topic-row','cancel-rename-quiz-btn','Invalid\x20response\x20structure\x20from\x20API.','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','#results-table\x20thead\x20tr','fileShortcutsConfig','.copy-quiz-id-list-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','select-all-topics-btn','beginPath','bank-input-area','passcode-error-msg','tan','.delete-shortcut-tab-btn','classList','อยู่ในหัวข้อหลักใด:','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-100','Error\x20adding\x20topic:','global-quiz-search-input','.quiz-bank-try-btn','student-name-input','.file-shortcut-tab-btn','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','<div\x20class=\x22p-2\x20rounded-md\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','parallel-default-2','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','shuffle','color','\x22...','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','การวัด','preTestId','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','Error\x20analyzing\x20file\x20for\x20topics:','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','worksheet-topic-input','values','generated-quiz-actions','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group\x5c/dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','question-complexity-select','สู้ๆ\x20ลองอีกครั้งนะ','Error\x20loading\x20user\x20preferences:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','dataset','comparison-individual-tab','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x20link(s)\x20for\x20quiz\x20ID:\x20','isPasscodeEnabled','Failed\x20to\x20generate\x20lesson:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','Error\x20calling\x20Gemini\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','Error\x20updating\x20sort\x20preference:','th-TH','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','_opt1\x22>ไม่ใช่</label></div>','bulk-confidence-mode-container','reset-project-order-btn','.edit-parallel-shortcut-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','status','Error\x20starting\x20live\x20race:','live-submit-short-answer-btn','.live-answer-btn,\x20#sync-submit-btn','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','กำลังสร้างแบบทดสอบ:\x20','lastAnswerCorrect','\x20to\x20blueprint\x20topic\x20','first_try_ace','ทฤษฎีทวินาม\x20(เบื้องต้น)','no-projects-msg','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createElementNS','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','API\x20Error\x20Body:','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.move-parallel-shortcut-menu-btn','players','Attempting\x20to\x20save\x20game\x20results...','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','bp-modal-include-images-checkbox','เกิดข้อผิดพลาดในการเข้าร่วมเกม','project-sort-select','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','แก้ไขสูตรคณิตศาสตร์\x20','strokeStyle','allResponses','student-initial-view','student-progress-view','อัตราและอัตราหน่วย','<li>','classStrengths','code','parallel-shortcuts-loading-msg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','.pair-quiz-btn','นำแบบทดสอบออกจากคลังนี้แล้ว','\x22>ไม่ใช่</p>','เกิดข้อผิดพลาดในการลบนักเรียน','referenceUrl','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-quiz-count','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','contentEditable','rename-quiz-input','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','modal-passing-score-input','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การบวก','manual_release','แคลคูลัสเบื้องต้น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PROMPT_PLACEHOLDER','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.use-hidden-file-shortcut-btn','generate-worksheet-btn','opacity','pairedQuizId','project-title','.subTopic','ปริมาตรรูปทรงสามมิติ','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','backgroundColor','show-results-btn','<li\x20class=\x22','createdBy','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','</label></div>','เกิดข้อผิดพลาด:\x20','removeEventListener','verify-answers-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','gameData','solution','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','slice','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','showImproveButton','(ฉบับง่าย)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่','<button\x20data-tab-id=\x22','คณิตศาสตร์','เรขาคณิต','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','active','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','.bp-view-analysis-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','hasOwnProperty','ร้อยละพื้นฐาน','พีชคณิตและฟังก์ชัน','leaderboard-quiz','\x20ใหม่...','wasConfident','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','parallel-test-input-area','destroy','bulk-results-display-select','show-in-student-dashboard-checkbox','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','drop','firstScore','ตัวประกอบและตัวประกอบเฉพาะ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','(เลือกแล้ว\x20','specialist','devicePixelRatio','สร้างแบบทดสอบปรนัย','ไม่พบตารางสำหรับ\x20Export','.delete-svg-btn','topic-tab','.shortcut-list-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','onkeydown','ระยะเวลา\x20(วินาที):','blueprint-shortcut-container','\x22\x20data-pre-test-id=\x22','correctAnswer','\x20คู่\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','href','ยืนยันการจับคู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','math-topics-checkbox-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','candidates','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','text-gray-300\x20hover:text-white','student-rankings-modal','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','</select>','textContent','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://drive.google.com/uc?export=download&id=','reference.pdf','font-bold\x20text-red-700\x20line-through','auto','scrollIntoView','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','Re-grade\x20process\x20failed:','</body></html>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจพบการออกจากหน้าจอครบ\x20','96XCAHjU','กำลังสแกนหาแบบทดสอบเก่า...','bp-modal-passing-score-input','quiz-id-input','เรขาคณิตวิเคราะห์','<option\x20value=\x22\x22>กำลังโหลด...</option>','top','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ARRAY','bg-yellow-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x22><p\x20class=\x22font-semibold\x22>','</a>','generationConfig','.shortcut-btn','Error\x20listening\x20for\x20starred\x20quizzes:','badgesCount','modal-confidence-mode-container','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','input[name=\x22drill_answer\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.mb-6.p-4','.project-card-container','fa-pen','Error\x20during\x20class\x20analysis:','gain','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','additional-parallel-shortcuts-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Action:\x20View\x20existing\x20lesson.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','highlighter','quiz-status-modal','cos','bg-emerald-100','name_asc','รหัสไม่ถูกต้อง','<span\x20class=\x22sort-indicator\x20ml-2\x22>','half_mark_status','font-bold\x20text-green-700','ไม่พบเอกสารการส่งงานของ\x20','Error\x20deleting\x20shortcut:','กรุณาเลือกคำตอบก่อนครับ','bp-project-title','quizId','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','deg','Error\x20deleting\x20all\x20students:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','subTopic','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','เส้นตรง:\x20ขนาน/ตั้งฉาก','then','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','ข้อที่\x20','practice-topic-btn','.bp-live-btn','ยอดเยี่ยม','\x20ครั้ง)</span></td>','json','Error\x20starting\x20sync\x20game:','Error\x20generating\x20from\x20link:','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','clientX','แก้ไขข้อนี้','Error\x20committing\x20score\x20updates:','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','fix\x20the\x20option','presentation-short-answer-input','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','button','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','blueprint-settings-modal','Error\x20in\x20handleApiCall:','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','reset-view-btn','createElement','confirm-team-players-btn','ฟังก์ชันผกผัน','\x20สำเร็จ','quiz-editor-questions-container','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','bg-green-200','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','screen','manual-bp-grade-level','numChoices','.lastAnswerIndex','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','stopPropagation','bar','กรุณาสร้างบทเรียนก่อน','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','toDate','Error\x20comparing\x20results:','หัวข้อหลักใหม่','sync-matching-select','กฎบวกและกฎคูณ','confirm-admin-login-btn','save-bp-settings-btn','<div\x20class=\x22flex-1\x22></div>','quiz-form','</tr>','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','bp-modal-quiz-type-select','editor-quiz-topic','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','mainTopic',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','ไม่ใช่\x20/\x20ผิด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','text-gray-400\x20hover:text-indigo-600','.move-quiz-btn','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<p\x20class=\x22font-bold\x20text-sm\x20','leaderboard-quiz-tab-content','close','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','drill-feedback','contents','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','default-2','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','Error\x20processing\x20file\x20for\x20AI:','ลบผลสอบของ\x20','promptFeedback','Error\x20joining\x20team\x20quiz:','.ai-content\x20td','create-project-modal','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','scratchpad-question','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','applicationContent','สรุปผลสุดท้าย','student-team-selection-view','standardTopic','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','ลบโปรเจคสำเร็จแล้ว','string','ระบบอสมการ','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','.question-editor-item[data-q-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','project-detail','การแยกตัวประกอบ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20projects\x20for\x20move:','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','สมการเชิงเส้นตัวแปรเดียว','text-emerald-800','.parallel-shortcut-tab-btn','keydown','<div\x20class=\x22my-6\x22>','student-team-join','rows','bg-green-400\x20text-white\x20font-bold','.topic-actions-view','bg-yellow-50','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','input[type=\x22radio\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-700','isFinished','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','ไม่ได้ตอบ','คณิตการเงิน/บูรณาการ','parallel-test-upload-input','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','อัตราส่วนและสัดส่วน','back-from-results-btn','live-game-view','checked','bp-quiz-settings-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','.bp-game-btn','.delete-hidden-file-shortcut-btn','pre-test-checkbox','center','bank-tab','ตรวจคะแนนใหม่\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','เพิ่มรายการที่เลือก','เกี่ยวกับหัวข้อ\x20\x22','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<div>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x20ตัวเลือก)','\x20ข้อ...','#results-table','Remedial\x20quiz\x20generation\x20failed:','modal-timer-duration-label','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','passcode','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x22>จาก:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x22><i\x20class=\x22fas\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','pointerdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','check-presentation-answer-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','bg-gray-500','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','save-blueprint-as-project-btn','imageCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','แก้ไขชื่อหัวข้อย่อย:','on_fire','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x20ข้อ\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','teacherTips','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','starred','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','lesson-sections-container',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ไฟล์ลัด\x202','lobby','หัวข้อที่สร้างเอง','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','localeCompare','```','class','startsWith','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริพันธ์ไม่จำกัด','สเกลและแผนที่','bulk-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','translate','fixedData','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','shortcuts-loading-msg','สมการตรีโกณมิติ','AI\x20Fix\x20Error:','file-topics-list-container','.csv','blueprint.pdf','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','.move-file-shortcut-dropdown','left','studentName','shortcut-modal-title','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','Error\x20resetting\x20project\x20order:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','approx','<p>','เลือกและเริ่มสร้าง','perQuestionStats','\x22\x20name=\x22confidence','date_desc','confidence-scoring-toggle','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','remove','bulk-shuffle-select','line-through\x20text-red-700','show_results_and_answers','postTScore','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','projectName','loop-until-pass-checkbox','.cancel-edit-topic-btn','quiz-editor-modal','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ทำคะแนนเต็มในการทำครั้งแรก','preventDefault','Loaded\x20','fullscreenchange','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','toggle','warn','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','bp-modal-difficulty-level-select','file-shortcut-modal-title','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ดอกเบี้ยอย่างง่าย','.quiz-bank-item','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','GlobalWorkerOptions','BOOLEAN','flex\x20flex-col\x20gap-2','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'];_0x35af=function(){return _0x4bd09f;};return _0x35af();}function renderLeaderboard(_0x2cc2bf,_0x88d4c4){const _0xbf507b=_0x2f78fc,_0x24121f=document[_0xbf507b(0x288)](_0x88d4c4);if(!_0x2cc2bf||_0x2cc2bf[_0xbf507b(0x649)]===0x0){_0x24121f[_0xbf507b(0x5f0)]=_0xbf507b(0x42b);return;}_0x2cc2bf[_0xbf507b(0x310)]((_0x3a28d4,_0x18b4aa)=>{const _0x153d74=_0xbf507b,_0x584000=(_0x18b4aa[_0x153d74(0xc82)]||0x0)-(_0x3a28d4[_0x153d74(0xc82)]||0x0);if(_0x584000!==0x0)return _0x584000;const _0x103756=(_0x18b4aa[_0x153d74(0xb31)]?.[_0x153d74(0xaf2)]||0x0)-(_0x3a28d4[_0x153d74(0xb31)]?.[_0x153d74(0xaf2)]||0x0);if(_0x103756!==0x0)return _0x103756;const _0xd63922=(_0x18b4aa[_0x153d74(0xb31)]?.[_0x153d74(0xa81)]||0x0)-(_0x3a28d4[_0x153d74(0xb31)]?.['first_try_ace']||0x0);if(_0xd63922!==0x0)return _0xd63922;const _0x1b6a84=(_0x18b4aa[_0x153d74(0xb31)]?.['perfect_score']||0x0)-(_0x3a28d4[_0x153d74(0xb31)]?.['perfect_score']||0x0);if(_0x1b6a84!==0x0)return _0x1b6a84;const _0x4c47ac=(_0x18b4aa[_0x153d74(0xb31)]?.[_0x153d74(0x9bf)]||0x0)-(_0x3a28d4[_0x153d74(0xb31)]?.['quick_thinker']||0x0);if(_0x4c47ac!==0x0)return _0x4c47ac;return _0x3a28d4[_0x153d74(0xc3d)]['localeCompare'](_0x18b4aa[_0x153d74(0xc3d)],'th');});let _0x4030bc='';_0x2cc2bf[_0xbf507b(0x220)]((_0x50e63a,_0x231cc9)=>{const _0x2079eb=_0xbf507b,_0x3522ff=_0x231cc9+0x1,_0x5c4ecc=_0x50e63a[_0x2079eb(0xb31)]||{};let _0x1ed95b='';const _0x48f6f8=['specialist','perfect_score',_0x2079eb(0xa81),_0x2079eb(0x9bf)];_0x48f6f8[_0x2079eb(0x220)](_0x339148=>{const _0x59508a=_0x2079eb;if(_0x5c4ecc[_0x339148]>0x0){const _0x2d6281=Object[_0x59508a(0xa59)](BADGES)[_0x59508a(0x533)](_0x4b81cf=>_0x4b81cf['id']===_0x339148);_0x2d6281&&(_0x339148===_0x59508a(0xaf2)?_0x1ed95b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2d6281[_0x59508a(0xb54)]+_0x59508a(0x615)+_0x2d6281['icon']+_0x59508a(0x632):_0x1ed95b+=_0x59508a(0x2d4)+_0x2d6281['name']+'\x20('+_0x5c4ecc[_0x339148]+_0x59508a(0x8a8)+_0x2d6281[_0x59508a(0x6ad)]+_0x59508a(0x415)+_0x5c4ecc[_0x339148]+_0x59508a(0x835));}}),_0x4030bc+=_0x2079eb(0x1cd)+_0x3522ff+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x50e63a[_0x2079eb(0xc3d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x50e63a[_0x2079eb(0xc82)]||0x0)+_0x2079eb(0xcf0)+(_0x1ed95b||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x24121f[_0xbf507b(0x5f0)]=_0x4030bc;}function displayLoopScreen(_0x3cfc56,_0x49337f,_0x439d56){const _0x161ba2=_0x2f78fc;let _0x13ba0f='';_0x439d56!==_0x161ba2(0x50a)&&(_0x13ba0f=_0x161ba2(0x2f5)+_0x3cfc56+_0x161ba2(0xa1c)+_0x49337f+_0x161ba2(0x529));const _0x4bc156=_0x161ba2(0xa3c)+_0x13ba0f+_0x161ba2(0x37b);studentResultArea[_0x161ba2(0x5f0)]=_0x4bc156,studentResultArea[_0x161ba2(0xa39)]['remove'](_0x161ba2(0x4c5)),studentQuizArea['classList'][_0x161ba2(0x5c0)](_0x161ba2(0x4c5)),document[_0x161ba2(0x288)](_0x161ba2(0x77e))['addEventListener'](_0x161ba2(0x8d9),()=>{const _0x33b815=_0x161ba2;studentResultArea[_0x33b815(0xa39)][_0x33b815(0x5c0)](_0x33b815(0x4c5)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4807b1,_0x1ffaaa,_0x25bbf2){const _0x51db3f=_0x2f78fc,_0x2d0036=document[_0x51db3f(0x288)](_0x25bbf2),_0x164387=_0x25bbf2===_0x51db3f(0xc8c),_0x4250db=_0x1ffaaa[_0x51db3f(0xc81)][_0x51db3f(0x649)],_0x570e50=document['getElementById'](_0x25bbf2)[_0x51db3f(0x6d3)](_0x51db3f(0x9f7));if(_0x570e50&&!_0x164387){const _0x191ac4=_0x570e50[_0x51db3f(0x2ee)](_0x51db3f(0x49a));_0x191ac4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x4807b1||_0x4807b1[_0x51db3f(0x649)]===0x0){_0x2d0036[_0x51db3f(0x5f0)]=_0x51db3f(0x532)+(_0x164387?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x39ae66=[..._0x4807b1];_0x39ae66[_0x51db3f(0x310)]((_0x1f3c6c,_0xb77d5b)=>{const _0x4cfec7=_0x51db3f;let _0x5fdf32,_0x2ea5d8;switch(quizLeaderboardSortBy){case _0x4cfec7(0xc3d):_0x5fdf32=_0x1f3c6c[_0x4cfec7(0xc3d)]||'',_0x2ea5d8=_0xb77d5b[_0x4cfec7(0xc3d)]||'';return quizLeaderboardSortOrder===_0x4cfec7(0x729)?_0x5fdf32[_0x4cfec7(0xc26)](_0x2ea5d8,'th'):_0x2ea5d8['localeCompare'](_0x5fdf32,'th');case _0x4cfec7(0x28d):_0x5fdf32=_0x1f3c6c[_0x4cfec7(0x28d)]||0x0,_0x2ea5d8=_0xb77d5b[_0x4cfec7(0x28d)]||0x0;break;case _0x4cfec7(0x311):_0x5fdf32=_0x1f3c6c[_0x4cfec7(0x311)]?.[_0x4cfec7(0x649)]||0x1,_0x2ea5d8=_0xb77d5b[_0x4cfec7(0x311)]?.[_0x4cfec7(0x649)]||0x1;break;case _0x4cfec7(0x38a):_0x5fdf32=new Date(_0x1f3c6c[_0x4cfec7(0x38a)]),_0x2ea5d8=new Date(_0xb77d5b[_0x4cfec7(0x38a)]);break;case'bestScore':default:_0x5fdf32=_0x1f3c6c['bestScore'],_0x2ea5d8=_0xb77d5b[_0x4cfec7(0x3f8)];break;}if(_0x5fdf32<_0x2ea5d8)return quizLeaderboardSortOrder===_0x4cfec7(0x729)?-0x1:0x1;if(_0x5fdf32>_0x2ea5d8)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x23d578=_0x1ffaaa[_0x51db3f(0x858)]===!![],_0x4caaec=_0x1ffaaa[_0x51db3f(0x580)]?.['passingScore']??-0x1;let _0x1e608e='';_0x39ae66[_0x51db3f(0x220)]((_0x2bc36a,_0x7ca4a7)=>{const _0x2d40d2=_0x51db3f,_0x2a7a16=_0x7ca4a7+0x1;let _0x41f9db=_0x2d40d2(0x658);if(_0x23d578||_0x4caaec!==-0x1){let _0x2d177e=_0x23d578?_0x2bc36a[_0x2d40d2(0x3f8)]===_0x4250db:_0x2bc36a[_0x2d40d2(0x3f8)]>=_0x4caaec;const _0x1509fc=_0x2d177e?'bg-green-100\x20text-green-800':_0x2d40d2(0x53c),_0x3e84ac=_0x2d177e?_0x2d40d2(0x58a):_0x2d40d2(0x2c4);_0x41f9db='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1509fc+'\x22>'+_0x3e84ac+_0x2d40d2(0x2fd);}const _0x21f16f=_0x2bc36a[_0x2d40d2(0x311)][_0x2bc36a[_0x2d40d2(0x311)][_0x2d40d2(0x649)]-0x1],_0xf7e413=(_0x21f16f[_0x2d40d2(0x6c3)]||[])['map'](_0x212c8b=>{const _0x1ae5a9=_0x2d40d2,_0x4cbb04=Object[_0x1ae5a9(0xa59)](BADGES)[_0x1ae5a9(0x533)](_0x4b47c8=>_0x4b47c8['id']===_0x212c8b);return _0x4cbb04?_0x1ae5a9(0x804)+_0x4cbb04[_0x1ae5a9(0xb54)]+_0x1ae5a9(0xc01)+_0x4cbb04[_0x1ae5a9(0x6ad)]+_0x1ae5a9(0x701):'';})[_0x2d40d2(0x53d)]('');_0x1e608e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x2a7a16+_0x2d40d2(0x644)+_0x2bc36a[_0x2d40d2(0xc3d)]+_0x2d40d2(0xa51)+_0x2bc36a['bestScore']+_0x2d40d2(0xa1c)+_0x4250db+_0x2d40d2(0xab3)+_0x41f9db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x2bc36a[_0x2d40d2(0x28d)]||0x0)+_0x2d40d2(0xab3)+(_0x164387?'':_0x2d40d2(0x7de)+(_0x2bc36a['attempts']?.['length']||0x1)+_0x2d40d2(0x2b0))+_0x2d40d2(0x517)+(_0x164387?'':_0x2d40d2(0x8cc)+new Date(_0x2bc36a[_0x2d40d2(0x38a)])[_0x2d40d2(0x92b)](_0x2d40d2(0xa71))+_0x2d40d2(0x2b0))+_0x2d40d2(0x709)+(_0xf7e413||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2d0036['innerHTML']=_0x1e608e,_0x570e50&&!_0x164387&&_0x570e50[_0x51db3f(0x3db)](_0x51db3f(0x8de))['forEach'](_0x19c803=>{const _0x1e5543=_0x51db3f,_0x585ac8=_0x19c803[_0x1e5543(0x2ee)](_0x1e5543(0x846));if(_0x585ac8)_0x585ac8[_0x1e5543(0xc4b)]();_0x19c803[_0x1e5543(0xa66)][_0x1e5543(0x310)]===quizLeaderboardSortBy&&(_0x19c803[_0x1e5543(0x5f0)]+=_0x1e5543(0xb47)+(quizLeaderboardSortOrder===_0x1e5543(0x729)?'▲':'▼')+_0x1e5543(0x455));});}async function handleDeleteSubmission(_0x249270){const _0x24be60=_0x2f78fc;if(!currentQuizData||!currentQuizData['id']||!_0x249270){showMessage(_0x24be60(0x60f));return;}showConfirmation(_0x24be60(0x4d9)+_0x249270+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x29c9a8=_0x24be60,_0x1e2192=currentQuizData['id'],_0x3df388=doc(db,_0x29c9a8(0x309)+appId+_0x29c9a8(0x86b)+_0x1e2192+_0x29c9a8(0x74a),_0x249270);try{await deleteDoc(_0x3df388),showMessage(_0x29c9a8(0xbad)+_0x249270+_0x29c9a8(0xb78));}catch(_0x2c5216){console['error'](_0x29c9a8(0x3a3),_0x2c5216),showMessage(_0x29c9a8(0x4b7));}});}async function handleLoadQuiz(){const _0xd06bf3=_0x2f78fc,_0xefc7eb=document['getElementById'](_0xd06bf3(0xb22)),_0x382978=_0xefc7eb[_0xd06bf3(0x63b)][_0xd06bf3(0x8e1)]();if(!_0x382978){showMessage(_0xd06bf3(0x999));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0xd06bf3(0x5f0)]=_0xd06bf3(0xbf3);try{const _0xafcf3a=doc(db,_0xd06bf3(0x309)+appId+_0xd06bf3(0x480),_0x382978),_0x250e68=await getDoc(_0xafcf3a);if(!_0x250e68[_0xd06bf3(0x5e4)]()){showMessage(_0xd06bf3(0x231));return;}currentQuizData={'id':_0x250e68['id'],..._0x250e68[_0xd06bf3(0xc89)]()};const _0x2e94e7=currentQuizData['status']||'active',_0x3a27bd=new Date();if(_0x2e94e7==='inactive'){showMessage(_0xd06bf3(0x628));return;}if(_0x2e94e7===_0xd06bf3(0x56b)){const _0x2bdad0=currentQuizData[_0xd06bf3(0x1db)]?new Date(currentQuizData[_0xd06bf3(0x1db)]):null,_0x28b50a=currentQuizData['endTime']?new Date(currentQuizData[_0xd06bf3(0x726)]):null;if(_0x2bdad0&&_0x3a27bd<_0x2bdad0){showMessage(_0xd06bf3(0x773)+_0x2bdad0[_0xd06bf3(0x92b)](_0xd06bf3(0xa71),{'hour12':![]}));return;}if(_0x28b50a&&_0x3a27bd>_0x28b50a){showMessage(_0xd06bf3(0x676));return;}}const _0x1e3fa7=currentQuizData[_0xd06bf3(0x93e)];currentProjectId=_0x1e3fa7;const _0x3a464b=doc(db,'artifacts/'+appId+_0xd06bf3(0x498),_0x1e3fa7),_0x9586e6=await getDoc(_0x3a464b);if(!_0x9586e6[_0xd06bf3(0x5e4)]()){showMessage(_0xd06bf3(0x34c));return;}const _0x55e401=_0x9586e6['data']();currentStudentProjectData=_0x55e401,displayStudentNameSelector(_0x55e401[_0xd06bf3(0x595)],currentQuizData[_0xd06bf3(0x32c)]);}catch(_0x195090){console[_0xd06bf3(0x40f)](_0xd06bf3(0x33a),_0x195090),showMessage(_0xd06bf3(0x730));}finally{loadQuizBtn[_0xd06bf3(0x9e8)]=![],loadQuizBtn['innerHTML']=_0xd06bf3(0xa5b);}}async function handleJoinLiveGame(){const _0x848677=_0x2f78fc,_0x3e8c27=document[_0x848677(0x288)]('game-pin-input'),_0x122641=document[_0x848677(0x288)](_0x848677(0xcc0)),_0xd4354a=document[_0x848677(0x288)](_0x848677(0x7e0)),_0x3fbb0e=_0x3e8c27[_0x848677(0x63b)][_0x848677(0x8e1)](),_0x491a7b=_0x122641['value'][_0x848677(0x8e1)]();if(!_0x3fbb0e||!_0x491a7b){showMessage(_0x848677(0x8bb));return;}_0xd4354a[_0x848677(0x9e8)]=!![],_0xd4354a[_0x848677(0x5f0)]=_0x848677(0x33c);try{const _0x5221eb=collection(db,'artifacts/'+appId+_0x848677(0x85f)),_0x55a8f2=query(_0x5221eb,where(_0x848677(0x437),'==',_0x3fbb0e),where(_0x848677(0xa78),'in',[_0x848677(0xc23),'question'])),_0x32a633=await getDocs(_0x55a8f2);if(_0x32a633[_0x848677(0x339)]){showMessage(_0x848677(0x5bd));return;}const _0x10d4fb=_0x32a633['docs'][0x0],_0xb4dc07=_0x10d4fb[_0x848677(0xc89)]();currentLiveGameId=_0x10d4fb['id'];const _0xfb115=_0xb4dc07[_0x848677(0xb4e)],_0x4b26f4=doc(db,_0x848677(0x309)+appId+_0x848677(0x480),_0xfb115),_0xfd8381=await getDoc(_0x4b26f4);if(!_0xfd8381[_0x848677(0x5e4)]()){showMessage(_0x848677(0x62c));return;}currentQuizData={'id':_0xfd8381['id'],..._0xfd8381[_0x848677(0xc89)]()};if(_0xb4dc07[_0x848677(0xa90)]&&_0xb4dc07[_0x848677(0xa90)][_0x491a7b]){const _0x3a9877=_0xb4dc07[_0x848677(0xa90)][_0x491a7b];if(_0x3a9877['status']===_0x848677(0xcc1)){_0xd4354a[_0x848677(0x5f0)]=_0x848677(0xc40);const _0x37cf38={};_0x37cf38[_0x848677(0x1f6)+_0x491a7b+_0x848677(0x4da)]=_0x848677(0xadb),await updateDoc(doc(db,'artifacts/'+appId+_0x848677(0x85f),currentLiveGameId),_0x37cf38),showView('live-game'),currentStudentName=_0x491a7b,listenForLiveGameUpdates();return;}else{showMessage(_0x848677(0xb95));return;}}if(_0xb4dc07[_0x848677(0xa78)]!==_0x848677(0xc23)){showMessage(_0x848677(0xa87));return;}_0xd4354a[_0x848677(0x5f0)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x1788fc={};_0x1788fc[_0x848677(0x1f6)+_0x491a7b]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x848677(0xadb)},await updateDoc(doc(db,_0x848677(0x309)+appId+_0x848677(0x85f),currentLiveGameId),_0x1788fc),currentStudentName=_0x491a7b,listenForLiveGameUpdates();}catch(_0x38e2e0){console['error'](_0x848677(0x988),_0x38e2e0),showMessage(_0x848677(0xa94));}finally{_0xd4354a[_0x848677(0x9e8)]=![],_0xd4354a[_0x848677(0x5f0)]=_0x848677(0x3be);}}function displayStudentNameSelector(_0x512ef4,_0x2b521a){const _0x2f561d=_0x2f78fc,_0x1b9d8a=document[_0x2f561d(0x288)]('student-name-select');document[_0x2f561d(0x288)](_0x2f561d(0x7b2))[_0x2f561d(0xb10)]='แบบทดสอบ:\x20'+_0x2b521a,!_0x512ef4||_0x512ef4[_0x2f561d(0x649)]===0x0?(_0x1b9d8a[_0x2f561d(0x5f0)]=_0x2f561d(0x88b),startQuizBtn[_0x2f561d(0x9e8)]=!![]):(_0x1b9d8a['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x512ef4['forEach'](_0x40b309=>{const _0x448bdf=_0x2f561d,_0x4988ea=document[_0x448bdf(0xb75)]('option');_0x4988ea['value']=_0x40b309,_0x4988ea[_0x448bdf(0xb10)]=_0x40b309,_0x1b9d8a['appendChild'](_0x4988ea);}),startQuizBtn[_0x2f561d(0x9e8)]=![]),studentInitialView['classList'][_0x2f561d(0x5c0)](_0x2f561d(0x4c5)),studentNameSelectionView['classList'][_0x2f561d(0xc4b)](_0x2f561d(0x4c5));}function shuffleArray(_0x4257ff){const _0x4420a1=_0x2f78fc;for(let _0x446bb4=_0x4257ff[_0x4420a1(0x649)]-0x1;_0x446bb4>0x0;_0x446bb4--){const _0x49d450=Math[_0x4420a1(0x60a)](Math[_0x4420a1(0x40c)]()*(_0x446bb4+0x1));[_0x4257ff[_0x446bb4],_0x4257ff[_0x49d450]]=[_0x4257ff[_0x49d450],_0x4257ff[_0x446bb4]];}}function getShuffledQuiz(_0x110f96){const _0x190ad0=_0x2f78fc;let _0x2d2b3a=JSON['parse'](JSON[_0x190ad0(0x6aa)](_0x110f96));const _0x5ac63d=_0x2d2b3a[_0x190ad0(0x580)]?.['shuffle']||'none';if(_0x5ac63d==='none')return _0x2d2b3a;return(_0x5ac63d===_0x190ad0(0x543)||_0x5ac63d===_0x190ad0(0x690))&&shuffleArray(_0x2d2b3a[_0x190ad0(0xc81)]),(_0x5ac63d===_0x190ad0(0x33f)||_0x5ac63d===_0x190ad0(0x690))&&_0x2d2b3a[_0x190ad0(0xc81)][_0x190ad0(0x220)](_0x2e70f4=>{const _0xc0962b=_0x190ad0,_0x51570e=_0x2e70f4['questionType']||_0x2d2b3a['quizType'];if(_0x2e70f4['options']){let _0x22eb6c=_0x2e70f4['options']['map']((_0x1d6b35,_0x553ec6)=>({'text':_0x1d6b35,'isCorrect':_0x553ec6===_0x2e70f4[_0xc0962b(0x90b)]}));shuffleArray(_0x22eb6c),_0x2e70f4['options']=_0x22eb6c['map'](_0x56c905=>_0x56c905[_0xc0962b(0x537)]),_0x2e70f4[_0xc0962b(0x90b)]=_0x22eb6c[_0xc0962b(0x6f6)](_0x1c27a6=>_0x1c27a6['isCorrect']);}_0x51570e===_0xc0962b(0x5b0)&&_0x2e70f4[_0xc0962b(0xa99)]&&shuffleArray(_0x2e70f4[_0xc0962b(0xa99)]);}),_0x2d2b3a;}function displayQuizForStudent(_0x23e1de){const _0xec8448=_0x2f78fc;studentQuizArea[_0xec8448(0xa39)][_0xec8448(0xc4b)](_0xec8448(0x4c5)),currentDisplayedQuiz=getShuffledQuiz(_0x23e1de);currentMode!==_0xec8448(0x749)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0xec8448(0x5b2)](_0xec8448(0xc59),handleFullscreenChange),document[_0xec8448(0x5b2)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0xec8448(0x5b2)](_0xec8448(0x23c),resetDimTimer),window[_0xec8448(0x5b2)](_0xec8448(0x97f),resetDimTimer),window[_0xec8448(0x5b2)](_0xec8448(0x8ca),resetDimTimer),window[_0xec8448(0x5b2)](_0xec8448(0xbce),resetDimTimer),resetDimTimer());const _0x1bae4e=currentDisplayedQuiz[_0xec8448(0x580)]?.[_0xec8448(0x994)]||_0xec8448(0x2fa);if(_0x1bae4e==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0xec8448(0x580)][_0xec8448(0xa01)]);else _0x1bae4e===_0xec8448(0x9ec)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x352d45=_0x2f78fc,_0x4ab8f7=currentDisplayedQuiz[_0x352d45(0x580)]?.[_0x352d45(0x285)]===!![],_0x584738=currentDisplayedQuiz[_0x352d45(0x580)]?.[_0x352d45(0x27f)]||_0x352d45(0x6f5);let _0x331736=_0x352d45(0x89e)+currentDisplayedQuiz['topic']+_0x352d45(0x39b)+(currentMode===_0x352d45(0x749)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x352d45(0x26f);currentDisplayedQuiz[_0x352d45(0xc81)][_0x352d45(0x220)]((_0x57a861,_0x21ee87)=>{const _0x472681=_0x352d45,_0x3f16aa=_0x57a861[_0x472681(0x8a4)]||currentDisplayedQuiz['quizType'];_0x331736+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x3f16aa==='matching_item'){}else _0x331736+=_0x472681(0xc44)+(_0x21ee87+0x1)+'.\x20'+(_0x57a861[_0x472681(0x6c2)]||_0x57a861['questionText'])+_0x472681(0x4d3),_0x57a861[_0x472681(0xc0c)]&&(_0x331736+=_0x472681(0x4cf)+_0x57a861[_0x472681(0xc0c)]+_0x472681(0x21c));_0x331736+=_0x472681(0x8f5);switch(_0x3f16aa){case _0x472681(0x59a):_0x331736+='<textarea\x20name=\x22question'+_0x21ee87+_0x472681(0x843);break;case _0x472681(0x253):_0x331736+=_0x472681(0x7e6)+_0x21ee87+_0x472681(0x2cc)+_0x21ee87+_0x472681(0xcf9)+_0x21ee87+_0x472681(0x7b1),_0x331736+=_0x472681(0x7e6)+_0x21ee87+_0x472681(0x47b)+_0x21ee87+_0x472681(0x878)+_0x21ee87+_0x472681(0xa73);break;case _0x472681(0x5b0):_0x331736+=_0x472681(0xa5e)+_0x57a861['stem']+_0x472681(0x582)+_0x21ee87+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57a861[_0x472681(0xa99)]['map'](_0x4f4a19=>_0x472681(0x79b)+_0x4f4a19+'\x22>'+_0x4f4a19+'</option>')[_0x472681(0x53d)]('')+_0x472681(0x204);break;default:_0x331736+=_0x57a861['options']['map']((_0x29088f,_0x3104ee)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x21ee87+_0x472681(0x7b9)+_0x3104ee+_0x472681(0x65e)+_0x21ee87+_0x472681(0x810)+_0x3104ee+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x21ee87+_0x472681(0x7b9)+_0x3104ee+'\x22>'+_0x29088f+_0x472681(0xbc8))[_0x472681(0x53d)]('');break;}_0x331736+=_0x472681(0x21c),_0x4ab8f7&&(_0x331736+=_0x472681(0x933),_0x584738===_0x472681(0x259)?_0x331736+=_0x472681(0xa7d)+_0x21ee87+_0x472681(0xc47)+_0x21ee87+_0x472681(0x906)+_0x21ee87+_0x472681(0xcba)+_0x21ee87+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x331736+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x21ee87+_0x472681(0xc47)+_0x21ee87+_0x472681(0x9c4)+_0x21ee87+_0x472681(0x3f7),_0x331736+='</div>'),_0x331736+=_0x472681(0x21c);}),_0x331736+=_0x352d45(0xcfb),_0x331736+='</form>',studentQuizArea[_0x352d45(0x5f0)]=_0x331736;if(currentMode===_0x352d45(0x749)){const _0x46e924=document['getElementById']('cancel-test-btn');if(_0x46e924)_0x46e924['addEventListener'](_0x352d45(0x8d9),cancelAdminTest);}const _0x402528=document['getElementById'](_0x352d45(0xb8f));_0x402528&&(_0x402528['addEventListener']('submit',handleSubmitQuiz),_0x402528['addEventListener'](_0x352d45(0x8d9),_0x28e2ea=>{const _0x538b7f=_0x352d45;if(_0x28e2ea[_0x538b7f(0x328)][_0x538b7f(0xa39)][_0x538b7f(0x6ca)](_0x538b7f(0x228))){const _0x4368d9=_0x28e2ea[_0x538b7f(0x328)],_0x32122a=_0x4368d9[_0x538b7f(0xa66)]['questionIndex'],_0x1891af=_0x4368d9['dataset'][_0x538b7f(0x63b)];document[_0x538b7f(0x288)](_0x538b7f(0x840)+_0x32122a)[_0x538b7f(0x63b)]=_0x1891af;const _0x23dd18=_0x4368d9[_0x538b7f(0xcdb)];_0x23dd18[_0x538b7f(0x3db)]('.confidence-choice-btn')[_0x538b7f(0x220)](_0x312d0f=>_0x312d0f[_0x538b7f(0xa39)][_0x538b7f(0xc4b)]('active')),_0x4368d9[_0x538b7f(0xa39)][_0x538b7f(0x5c0)](_0x538b7f(0xadb));}}));if(window['MathJax'])window[_0x352d45(0x5ed)][_0x352d45(0x3d1)]([studentQuizArea]);}async function handleSubmitQuiz(_0x18a7e6){const _0x3455e2=_0x2f78fc;if(_0x18a7e6)_0x18a7e6[_0x3455e2(0xc57)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xd104e4=document[_0x3455e2(0x288)]('quiz-form');if(!_0xd104e4)return;const _0x527fab=currentDisplayedQuiz[_0x3455e2(0x580)]?.[_0x3455e2(0x285)]===!![],_0xc479=currentDisplayedQuiz[_0x3455e2(0x580)]?.['confidenceMode']||'checkbox';if(_0x527fab&&_0xc479===_0x3455e2(0x259)){let _0x3ae46b=!![];for(let _0x5576f3=0x0;_0x5576f3<currentDisplayedQuiz[_0x3455e2(0xc81)][_0x3455e2(0x649)];_0x5576f3++){const _0x3de2ee=_0xd104e4[_0x3455e2(0x2ee)](_0x3455e2(0x251)+_0x5576f3);if(!_0x3de2ee||_0x3de2ee[_0x3455e2(0x63b)]===''){_0x3ae46b=![];break;}}if(!_0x3ae46b){showMessage(_0x3455e2(0x1c8));return;}}const _0x535e64=_0xd104e4[_0x3455e2(0x2ee)](_0x3455e2(0x382)),_0x279afe=currentDisplayedQuiz['questions']['some'](_0x495f96=>_0x495f96[_0x3455e2(0x8a4)]==='short_answer');_0x535e64&&(_0x535e64['disabled']=!![],_0x535e64['innerHTML']=_0x279afe?_0x3455e2(0x613):_0x3455e2(0x566));const _0xdd5276=new FormData(_0xd104e4),_0x3a6a34=currentDisplayedQuiz['questions'][_0x3455e2(0x598)]((_0x167f22,_0x303624)=>{const _0x3762c5=_0x3455e2,_0x5b1ebe=_0xdd5276[_0x3762c5(0x9af)]('question'+_0x303624);let _0x5d57d8;_0xc479===_0x3762c5(0x259)?_0x5d57d8=_0xdd5276[_0x3762c5(0x9af)](_0x3762c5(0x41d)+_0x303624):_0x5d57d8=_0xdd5276[_0x3762c5(0x9af)](_0x3762c5(0x41d)+_0x303624)==='on';let _0x44fb52=null;if(_0x5b1ebe!==null&&_0x5b1ebe!==undefined){const _0x301295=_0x167f22[_0x3762c5(0x8a4)]||currentDisplayedQuiz[_0x3762c5(0x58f)];_0x301295===_0x3762c5(0x318)||_0x301295===_0x3762c5(0x1be)?_0x44fb52=parseInt(_0x5b1ebe):_0x44fb52=_0x5b1ebe;}return{'answer':_0x44fb52,'wasConfident':_0x5d57d8};}),_0x222c4d=currentQuizData['id'],_0x435985=doc(db,_0x3455e2(0x309)+appId+_0x3455e2(0x86b)+_0x222c4d+_0x3455e2(0x74a),currentStudentName),_0x30f947=await getDoc(_0x435985),_0x584003=_0x30f947[_0x3455e2(0x5e4)]()?_0x30f947[_0x3455e2(0xc89)]():{},_0x14741a=_0x584003[_0x3455e2(0x311)]||[];await processAndSubmitAnswers(_0x3a6a34,_0x14741a);}async function gradeShortAnswerWithAI(_0x1bd07f,_0x354fde){const _0x29a622=_0x2f78fc;if(!_0x1bd07f||!_0x354fde)return![];try{const _0xf1a31f=_0x29a622(0xcb7)+_0x1bd07f+_0x29a622(0x545)+_0x354fde+_0x29a622(0x302),_0x39f2e2={'contents':[{'role':_0x29a622(0x5af),'parts':[{'text':_0xf1a31f}]}]},_0x2e8725=_0x29a622(0xca9),_0x38a3bb=_0x29a622(0xd04)+_0x2e8725,_0xa99e17=await fetch(_0x38a3bb,{'method':_0x29a622(0x9b6),'headers':{'Content-Type':'application/json'},'body':JSON[_0x29a622(0x6aa)](_0x39f2e2)});if(!_0xa99e17['ok'])throw new Error(_0x29a622(0x461));const _0x555c7b=await _0xa99e17[_0x29a622(0xb61)](),_0x48866f=_0x555c7b[_0x29a622(0xb0a)][0x0][_0x29a622(0x42a)][_0x29a622(0x87d)][0x0]['text'][_0x29a622(0x8e1)]()[_0x29a622(0x1f2)]();return _0x48866f===_0x29a622(0x77f);}catch(_0x164eb5){return console[_0x29a622(0x40f)](_0x29a622(0x86c),_0x164eb5),![];}}async function processAndSubmitAnswers(_0x58c568,_0x3c8242){const _0x2b8bce=_0x2f78fc;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2b8bce(0xac5)](_0x2b8bce(0xc59),handleFullscreenChange),document[_0x2b8bce(0xac5)](_0x2b8bce(0x700),handleVisibilityChange);let _0x3fa8f1=0x0;const _0x24c083=[],_0x4f4485=currentDisplayedQuiz['questions'][_0x2b8bce(0x649)];let _0x35bd07=0x0,_0xc50300=[];const _0x3c8f41=currentDisplayedQuiz[_0x2b8bce(0xc81)];for(let _0x1579ff=0x0;_0x1579ff<_0x3c8f41[_0x2b8bce(0x649)];_0x1579ff++){const _0x1493cd=_0x3c8f41[_0x1579ff],_0x30b4b8=_0x58c568[_0x1579ff],_0x2f8a8e=_0x30b4b8?_0x30b4b8[_0x2b8bce(0x922)]:null,_0x53fb65=_0x30b4b8?_0x30b4b8[_0x2b8bce(0xae5)]:null;let _0x5a31ce=![],_0x10e80a=0x0;if(_0x2f8a8e!==null&&_0x2f8a8e!==''){const _0x387e9c=_0x1493cd[_0x2b8bce(0x8a4)]||currentDisplayedQuiz['quizType'];switch(_0x387e9c){case _0x2b8bce(0x5b0):_0x5a31ce=_0x2f8a8e===_0x1493cd['correctResponse'];break;case'true_false':const _0x46f615=_0x2f8a8e===!![]||_0x2f8a8e===_0x2b8bce(0x77f);_0x5a31ce=_0x46f615===_0x1493cd[_0x2b8bce(0xafe)];break;case _0x2b8bce(0x59a):_0x5a31ce=await gradeShortAnswer(_0x2f8a8e,_0x1493cd);break;case _0x2b8bce(0x318):default:_0x5a31ce=Number(_0x2f8a8e)===_0x1493cd['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x2b8bce(0x580)]?.[_0x2b8bce(0x285)]){const _0x403d92=_0x30b4b8?_0x30b4b8[_0x2b8bce(0xae5)]:null;if(_0x5a31ce&&(_0x403d92===!![]||_0x403d92===_0x2b8bce(0x8f2)))_0x10e80a=0x2;else{if(_0x5a31ce)_0x10e80a=0x1;else{if(!_0x5a31ce&&(_0x403d92===![]||_0x403d92===_0x2b8bce(0xc8e)||_0x403d92===null))_0x10e80a=0x0;else!_0x5a31ce&&(_0x403d92===!![]||_0x403d92===_0x2b8bce(0x8f2))&&(_0x10e80a=-0x1);}}}else _0x10e80a=_0x5a31ce?0x1:0x0;_0x3fa8f1+=_0x10e80a;if(_0x5a31ce){_0x35bd07++;if(_0x35bd07===0x3)_0xc50300[_0x2b8bce(0x346)](BADGES[_0x2b8bce(0x795)]['id']);}else _0x35bd07=0x0;let _0x232997=null;_0x1493cd[_0x2b8bce(0x67e)]&&_0x2f8a8e!==null&&(_0x232997=_0x1493cd['options'][_0x2f8a8e]),_0x24c083[_0x2b8bce(0x346)]({'questionId':_0x1493cd['id'],'answer':_0x2f8a8e,'answerText':_0x232997,'isCorrect':_0x5a31ce,'wasConfident':_0x53fb65,'pointsAwarded':_0x10e80a,'originalQuestionText':_0x1493cd[_0x2b8bce(0x34d)]||_0x1493cd['questionText']});}const _0x55209c=_0x24c083[_0x2b8bce(0x3e1)](_0x32ba92=>_0x32ba92[_0x2b8bce(0x8bd)])[_0x2b8bce(0x649)],_0x178edf=currentDisplayedQuiz['settings']?.[_0x2b8bce(0x7c0)]??Math[_0x2b8bce(0x60a)](_0x4f4485/0x2);_0x55209c===_0x4f4485&&_0x4f4485>0x0&&!currentDisplayedQuiz[_0x2b8bce(0x858)]&&_0xc50300[_0x2b8bce(0x346)](BADGES[_0x2b8bce(0x3e4)]['id']);const _0x406d38=currentDisplayedQuiz[_0x2b8bce(0x580)]?.[_0x2b8bce(0x994)];if(_0x406d38==='whole_quiz'&&quizStartTime){const _0x2c9307=(new Date()-quizStartTime)/0x3e8,_0x597599=currentDisplayedQuiz[_0x2b8bce(0x580)]['timerDuration']*0x3c;_0x55209c>=_0x178edf&&_0x2c9307<_0x597599/0x2&&_0xc50300[_0x2b8bce(0x346)](BADGES[_0x2b8bce(0x88a)]['id']);}_0x3c8242['length']===0x0&&_0x55209c===_0x4f4485&&_0x4f4485>0x0&&_0xc50300[_0x2b8bce(0x346)](BADGES[_0x2b8bce(0xa04)]['id']);if(_0x3c8242['length']>0x0){const _0x4811c6=_0x3c8242[0x0][_0x2b8bce(0x447)];if(_0x4811c6<_0x178edf&&_0x55209c>=_0x178edf){const _0x423721=_0x3c8242['some'](_0x34d5bc=>(_0x34d5bc[_0x2b8bce(0x6c3)]||[])[_0x2b8bce(0x96b)](BADGES['COMEBACK_KING']['id']));!_0x423721&&_0xc50300[_0x2b8bce(0x346)](BADGES[_0x2b8bce(0x7d0)]['id']);}}_0x3c8242[_0x2b8bce(0x649)]===0x4&&_0xc50300[_0x2b8bce(0x346)](BADGES[_0x2b8bce(0xcfc)]['id']);const _0x230a59=currentDisplayedQuiz[_0x2b8bce(0x580)][_0x2b8bce(0xd07)];if(currentMode==='admin-testing'){handleResultDisplay(_0x230a59,_0x55209c,_0x3fa8f1,_0xc50300,_0x24c083,_0x4f4485);return;}const _0x4a62c1=currentQuizData['id'],_0x3d1536=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4a62c1+_0x2b8bce(0x74a),currentStudentName);try{const _0x1c6fbd=[..._0x3c8242],_0x375829={'score':_0x55209c,'points':_0x3fa8f1,'badges':Array[_0x2b8bce(0x4f5)](new Set(_0xc50300)),'submittedAt':new Date()[_0x2b8bce(0x75b)](),'answers':_0x24c083};_0x1c6fbd['push'](_0x375829);const _0x26e950=_0x3c8242['length']===0x0?_0x55209c:_0x3c8242[0x0][_0x2b8bce(0x447)]||0x0,_0x39774d=Math[_0x2b8bce(0x509)](..._0x1c6fbd[_0x2b8bce(0x598)](_0x2b6232=>_0x2b6232[_0x2b8bce(0x447)]));await setDoc(_0x3d1536,{'studentName':currentStudentName,'totalQuestions':_0x4f4485,'attempts':_0x1c6fbd,'firstScore':_0x26e950,'bestScore':_0x39774d,'latestScore':_0x55209c,'points':_0x3fa8f1,'latestSubmittedAt':_0x375829[_0x2b8bce(0x305)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2b8bce(0x93e)],currentStudentName),handleResultDisplay(_0x230a59,_0x55209c,_0x3fa8f1,_0xc50300,_0x24c083,_0x4f4485);}catch(_0x170b30){console[_0x2b8bce(0x40f)]('Error\x20saving\x20submission:',_0x170b30),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x4f8944,_0x32043f){const _0x3fc78d=_0x2f78fc,_0x4c07a3=doc(db,_0x3fc78d(0x309)+appId+_0x3fc78d(0x4a0)+_0x4f8944+_0x3fc78d(0x277),_0x32043f);try{const _0x468fbc=query(collection(db,_0x3fc78d(0x309)+appId+_0x3fc78d(0x480)),where(_0x3fc78d(0x93e),'==',_0x4f8944)),_0x51c14c=await getDocs(_0x468fbc),_0x37dde7=new Map(_0x51c14c[_0x3fc78d(0x2ea)][_0x3fc78d(0x598)](_0xc5db63=>[_0xc5db63['id'],_0xc5db63[_0x3fc78d(0xc89)]()])),_0x5c9663=Array[_0x3fc78d(0x4f5)](_0x37dde7[_0x3fc78d(0x695)]());await runTransaction(db,async _0x25216f=>{const _0x48fbd1=_0x3fc78d;let _0x46b4fc=0x0;const _0x3fd89c={};let _0x9b6027=!![],_0x2edc13=0x0,_0x1aeff4=0x0;for(const _0x2c5d3b of _0x5c9663){const _0x4cc320=_0x37dde7['get'](_0x2c5d3b),_0x330f06=doc(db,_0x48fbd1(0x309)+appId+'/public/data/quizzes/'+_0x2c5d3b+_0x48fbd1(0x74a),_0x32043f),_0x3f1133=await _0x25216f[_0x48fbd1(0x9af)](_0x330f06);if(_0x3f1133[_0x48fbd1(0x5e4)]()){const _0x2cb8fc=_0x3f1133['data'](),_0x460550=_0x2cb8fc['attempts']||[];if(_0x460550[_0x48fbd1(0x649)]>0x0){const _0x4724c9=_0x460550[_0x48fbd1(0x441)]((_0x3776cf,_0x4fbc42)=>{const _0xd8130=_0x48fbd1;if(_0x4fbc42[_0xd8130(0x447)]>_0x3776cf['score'])return _0x4fbc42;if(_0x4fbc42[_0xd8130(0x447)]===_0x3776cf[_0xd8130(0x447)])return(_0x4fbc42[_0xd8130(0x28d)]||0x0)>(_0x3776cf[_0xd8130(0x28d)]||0x0)?_0x4fbc42:_0x3776cf;return _0x3776cf;},{'score':-0x1,'points':-0x1});_0x4724c9[_0x48fbd1(0x447)]>-0x1&&(_0x46b4fc+=_0x4724c9[_0x48fbd1(0x28d)]||0x0,(_0x4724c9[_0x48fbd1(0x6c3)]||[])[_0x48fbd1(0x220)](_0x4a94d6=>{_0x3fd89c[_0x4a94d6]=(_0x3fd89c[_0x4a94d6]||0x0)+0x1;}));}}if(_0x4cc320[_0x48fbd1(0x32c)]!==_0x48fbd1(0x639)){_0x1aeff4++;if(_0x3f1133[_0x48fbd1(0x5e4)]()){_0x2edc13++;const _0x50f843=_0x3f1133[_0x48fbd1(0xc89)]();_0x50f843[_0x48fbd1(0x3f8)]!==_0x50f843['totalQuestions']&&(_0x9b6027=![]);}else _0x9b6027=![];}}_0x1aeff4>0x0&&_0x2edc13===_0x1aeff4&&_0x9b6027?_0x3fd89c[_0x48fbd1(0xaf2)]=0x1:_0x3fd89c['specialist']=0x0,_0x25216f[_0x48fbd1(0x34e)](_0x4c07a3,{'studentName':_0x32043f,'totalPoints':_0x46b4fc,'unlockedBadges':Object[_0x48fbd1(0x695)](_0x3fd89c)[_0x48fbd1(0x3e1)](_0x19ad75=>_0x3fd89c[_0x19ad75]>0x0),'badgesCount':_0x3fd89c},{'merge':!![]});});}catch(_0x245a68){console['error'](_0x3fc78d(0x735),_0x245a68),showMessage(_0x3fc78d(0xc25));}}function startAdminTest(){const _0x45b199=_0x2f78fc;if(!currentQuizData){showMessage(_0x45b199(0xcb0));return;}let _0x24be95=JSON[_0x45b199(0x560)](JSON[_0x45b199(0x6aa)](currentQuizData));currentMode=_0x45b199(0x749),currentStudentName=_0x45b199(0x6ea),adminView[_0x45b199(0xa39)][_0x45b199(0x5c0)](_0x45b199(0x4c5)),studentView[_0x45b199(0xa39)][_0x45b199(0xc4b)](_0x45b199(0x4c5)),studentInitialView['classList']['add']('hidden'),studentNameSelectionView[_0x45b199(0xa39)]['add'](_0x45b199(0x4c5)),studentResultArea[_0x45b199(0xa39)][_0x45b199(0x5c0)]('hidden'),studentQuizArea['classList'][_0x45b199(0xc4b)](_0x45b199(0x4c5)),quizStartTime=new Date(),displayQuizForStudent(_0x24be95);}function handleResultDisplay(_0x2cdb8d,_0x1ea657,_0x3c0a66,_0x1ac5fc,_0x15685d,_0xd81eea){const _0xd739a6=_0x2f78fc;if(_0x2cdb8d==='manual_release'){displaySubmissionConfirmation();return;}const _0x48df0b=currentDisplayedQuiz[_0xd739a6(0x580)]?.[_0xd739a6(0x7c0)]??Math['floor'](_0xd81eea/0x2),_0x63f7a=currentDisplayedQuiz[_0xd739a6(0x580)]?.['isAdaptive']??![],_0x14e8a3=currentDisplayedQuiz[_0xd739a6(0x580)]?.[_0xd739a6(0x321)]===!![],_0xd8c34d=_0x1ea657<_0x48df0b,_0x10efa3=_0x2cdb8d===_0xd739a6(0xb48)||_0x2cdb8d===_0xd739a6(0xce4);if(_0x14e8a3&&_0xd8c34d&&!_0x10efa3){_0x2cdb8d===_0xd739a6(0xc4e)?displayResultsWithAnswers(_0x1ea657,_0x3c0a66,_0x1ac5fc,_0x15685d,_0xd81eea,!![]):displayLoopScreen(_0x1ea657,_0xd81eea,_0x2cdb8d);return;}if(_0x63f7a&&_0xd8c34d){startAdaptiveFlow(_0x15685d,_0x1ea657,_0xd81eea);return;}switch(_0x2cdb8d){case'show_results_and_answers':displayResultsWithAnswers(_0x1ea657,_0x3c0a66,_0x1ac5fc,_0x15685d,_0xd81eea);break;case _0xd739a6(0x805):displayResultsScoreOnly(_0x1ea657,_0x3c0a66,_0x1ac5fc,_0xd81eea);break;case _0xd739a6(0x50a):displayPassFailOnly(_0x1ea657,_0xd81eea);break;case _0xd739a6(0xb48):displayHalfMarkResult(_0x1ea657,_0xd81eea);break;case _0xd739a6(0xce4):displayPerfectScoreResult(_0x1ea657,_0xd81eea);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4fa9a7){const _0x2c40e0=_0x2f78fc;studentReadingArea[_0x2c40e0(0x5f0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x46e23b=_0x2c40e0(0x357)+_0x4fa9a7+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x2c40e0(0x1d9),_0x3e3240={'type':_0x2c40e0(0x91b),'properties':{'questionText':{'type':_0x2c40e0(0x395)},'options':{'type':_0x2c40e0(0xb29),'items':{'type':_0x2c40e0(0x395)}},'correctAnswerIndex':{'type':_0x2c40e0(0x50d)},'explanation':{'type':_0x2c40e0(0x395)}},'required':[_0x2c40e0(0x9fb),'options',_0x2c40e0(0x90b),_0x2c40e0(0xa10)]},_0x3032cb={'type':_0x2c40e0(0x91b),'properties':{'topic':{'type':_0x2c40e0(0x395)},'questions':{'type':_0x2c40e0(0xb29),'items':_0x3e3240}},'required':['topic',_0x2c40e0(0xc81)]};try{const _0x2d93a4=await callAnalysisApi(_0x46e23b,_0x3032cb);_0x2d93a4[_0x2c40e0(0x858)]=!![],studentReadingArea['classList'][_0x2c40e0(0x5c0)](_0x2c40e0(0x4c5));const _0x205190={...currentDisplayedQuiz[_0x2c40e0(0x580)],'isAdaptive':![],'resultsDisplay':_0x2c40e0(0xc4e)};_0x2d93a4[_0x2c40e0(0x580)]=_0x205190,displayQuizForStudent(_0x2d93a4);}catch(_0x34fedb){console[_0x2c40e0(0x40f)](_0x2c40e0(0xbf8),_0x34fedb),showMessage(_0x2c40e0(0x262)),showView(_0x2c40e0(0x390));}}function displayPassFailOnly(_0x21242b,_0x4da2ee){const _0x335926=_0x2f78fc,_0x51fd68=currentDisplayedQuiz[_0x335926(0x580)]?.[_0x335926(0x7c0)]??-0x1,_0x404dc7=currentDisplayedQuiz[_0x335926(0x858)]===!![];let _0x182171='',_0x5b4e51=![];if(_0x404dc7||_0x51fd68!==-0x1){_0x5b4e51=_0x404dc7?_0x21242b===_0x4da2ee:_0x21242b>=_0x51fd68;const _0x5e5aa5=_0x5b4e51?_0x335926(0x7d6):_0x335926(0x53c),_0x3583b7=_0x5b4e51?_0x335926(0x58a):_0x335926(0x2c4);_0x182171=_0x335926(0x212)+_0x5e5aa5+'\x22>'+_0x3583b7+_0x335926(0x4e1);}else _0x182171=_0x335926(0x9a5);let _0x5e7c93=_0x335926(0x69b)+currentStudentName+_0x335926(0xba4)+_0x182171+_0x335926(0x4df);studentResultArea['innerHTML']=_0x5e7c93,studentResultArea['classList'][_0x335926(0xc4b)](_0x335926(0x4c5)),studentQuizArea['classList'][_0x335926(0x5c0)](_0x335926(0x4c5)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x5b4e51});}function cancelAdminTest(){const _0x49f91e=_0x2f78fc;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x49f91e(0xac5)](_0x49f91e(0xc59),handleFullscreenChange),document[_0x49f91e(0xac5)](_0x49f91e(0x700),handleVisibilityChange),currentMode='admin',studentView['classList'][_0x49f91e(0x5c0)](_0x49f91e(0x4c5)),adminView[_0x49f91e(0xa39)][_0x49f91e(0xc4b)](_0x49f91e(0x4c5)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x49f91e(0xbc6));}function setupResultScreenBackButton(_0x1b2cec){const _0x30d723=_0x2f78fc,_0x1beb90={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1b2cec};if(_0x1beb90[_0x30d723(0xd05)]){const _0x13fd00='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x30d723(0x469),_0x13fd00),document[_0x30d723(0x288)](_0x30d723(0x77e))[_0x30d723(0x5b2)](_0x30d723(0x8d9),()=>{const _0x3c026c=_0x30d723;studentResultArea[_0x3c026c(0xa39)][_0x3c026c(0x5c0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0xc2eb30=_0x30d723(0xbe1),_0x3eb8bb=currentMode===_0x30d723(0x749),_0x55e180=_0x3eb8bb?_0x30d723(0x630):_0x30d723(0x4dc);let _0xfe242c='';_0x1beb90[_0x30d723(0x1c1)]&&(_0xfe242c+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x439c3d=_0x1beb90[_0x30d723(0xacf)];_0x439c3d===undefined&&(_0x439c3d=_0x1beb90[_0x30d723(0x447)]<_0x1beb90['totalQuestions']);_0x439c3d&&(_0xfe242c+=_0x30d723(0x73b));_0xfe242c+='<button\x20id=\x22'+_0xc2eb30+_0x30d723(0x776)+_0x55e180+_0x30d723(0x24d);const _0x566812='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0xfe242c+_0x30d723(0x21c);studentResultArea[_0x30d723(0x31e)](_0x30d723(0x469),_0x566812),studentResultArea[_0x30d723(0x2ee)]('#view-rankings-btn')?.[_0x30d723(0x5b2)](_0x30d723(0x8d9),handleShowStudentRankings);const _0x3c1883=studentResultArea[_0x30d723(0x2ee)]('#retake-for-improvement-btn');_0x3c1883&&_0x3c1883['addEventListener'](_0x30d723(0x8d9),()=>{const _0x5d33e7=_0x30d723;studentResultArea[_0x5d33e7(0xa39)][_0x5d33e7(0x5c0)](_0x5d33e7(0x4c5)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0xc2eb30)[_0x30d723(0x5b2)](_0x30d723(0x8d9),()=>{const _0x8e15d8=_0x30d723;_0x3eb8bb?(currentMode=_0x8e15d8(0x290),studentView[_0x8e15d8(0xa39)][_0x8e15d8(0x5c0)](_0x8e15d8(0x4c5)),adminView['classList'][_0x8e15d8(0xc4b)]('hidden'),showView(_0x8e15d8(0xbc6))):(showView(_0x8e15d8(0x390)),document[_0x8e15d8(0x288)](_0x8e15d8(0xb22))[_0x8e15d8(0x63b)]='');});}function displayResultsWithAnswers(_0x4ae8f1,_0x344de5,_0x105d2f,_0x29f80b,_0x464850,_0x4edd48=![]){const _0x5b01e8=_0x2f78fc,_0x53d69d=_0x464850>0x0?_0x4ae8f1/_0x464850*0x64:0x0,_0x5d157c=currentDisplayedQuiz[_0x5b01e8(0x580)]?.['passingScore']??-0x1,_0x3edf83=currentDisplayedQuiz[_0x5b01e8(0x858)]===!![];let _0x2c0bb0='';if(_0x3edf83||_0x5d157c!==-0x1){let _0x3bb11c=_0x3edf83?_0x4ae8f1===_0x464850:_0x4ae8f1>=_0x5d157c;const _0x58e56c=_0x3bb11c?'bg-green-100\x20text-green-800':_0x5b01e8(0x53c),_0x1c2b80=_0x3bb11c?_0x5b01e8(0x58a):_0x5b01e8(0x2c4);_0x2c0bb0='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x58e56c+'\x22>'+_0x1c2b80+'</p>';}let _0x3d180=_0x5b01e8(0xa65)+currentStudentName+_0x5b01e8(0x581)+_0x4ae8f1+_0x5b01e8(0x746)+_0x464850+_0x5b01e8(0x583)+_0x2c0bb0+_0x5b01e8(0x6d9)+_0x344de5+_0x5b01e8(0xc7c)+_0x53d69d['toFixed'](0x0)+_0x5b01e8(0x646);currentDisplayedQuiz['questions'][_0x5b01e8(0x220)]((_0x1c85ed,_0x5ab679)=>{const _0x2ef6b1=_0x5b01e8,_0x17a904=_0x29f80b[_0x5ab679],_0x98effb=_0x17a904[_0x2ef6b1(0x922)],_0x1dfdad=_0x17a904['isCorrect'],_0x54a731=_0x1c85ed[_0x2ef6b1(0x8a4)]||currentDisplayedQuiz[_0x2ef6b1(0x58f)];_0x3d180+=_0x2ef6b1(0xb0b)+(_0x1dfdad?_0x2ef6b1(0x460):_0x2ef6b1(0x8c6))+_0x2ef6b1(0xb2c)+(_0x5ab679+0x1)+'.\x20'+(_0x1c85ed[_0x2ef6b1(0x34d)]||_0x1c85ed[_0x2ef6b1(0x9fb)])+_0x2ef6b1(0xc9f);switch(_0x54a731){case _0x2ef6b1(0x5b0):const _0x331777=_0x98effb||'ไม่ได้ตอบ',_0x3171cc=_0x1c85ed[_0x2ef6b1(0x2c7)];_0x3d180+=_0x2ef6b1(0x755)+(!_0x1dfdad?_0x2ef6b1(0xc4d):'')+'\x22>'+_0x331777+_0x2ef6b1(0x2cb);!_0x1dfdad&&(_0x3d180+=_0x2ef6b1(0xb33)+_0x3171cc+_0x2ef6b1(0x4d3));break;case _0x2ef6b1(0x59a):_0x3d180+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x98effb||_0x2ef6b1(0xbdc))+_0x2ef6b1(0x4d3),_0x3d180+=_0x2ef6b1(0xb00)+_0x1c85ed['idealAnswer']+'</p>';break;case _0x2ef6b1(0x253):_0x3d180+=_0x2ef6b1(0x5d0)+(_0x1c85ed[_0x2ef6b1(0xafe)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x98effb==='true'&&!_0x1dfdad?_0x2ef6b1(0xc4d):'')+'\x22>ใช่</p>',_0x3d180+='<p\x20class=\x22'+(_0x1c85ed['correctAnswer']===![]?_0x2ef6b1(0xb49):'')+'\x20'+(_0x98effb===_0x2ef6b1(0x61d)&&!_0x1dfdad?_0x2ef6b1(0xc4d):'')+_0x2ef6b1(0xaa4);break;default:_0x3d180+=_0x1c85ed[_0x2ef6b1(0x67e)][_0x2ef6b1(0x598)]((_0x251069,_0x6c4bf8)=>{const _0x27ad7d=_0x2ef6b1;let _0x136aa8='',_0x28ec82='';if(_0x6c4bf8===_0x1c85ed[_0x27ad7d(0x90b)])_0x136aa8=_0x27ad7d(0xb49),_0x28ec82='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x6c4bf8===_0x98effb&&(_0x136aa8=_0x27ad7d(0xb16),_0x28ec82='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x136aa8+'\x22>'+_0x28ec82+_0x251069+_0x27ad7d(0x21c);})[_0x2ef6b1(0x53d)]('');break;}_0x3d180+=_0x2ef6b1(0xb6c)+(_0x1c85ed[_0x2ef6b1(0xa10)]||_0x2ef6b1(0x728))+'</div>';if(!_0x1dfdad){const _0x513a60=_0x1c85ed['stem']||_0x1c85ed[_0x2ef6b1(0x9fb)];_0x3d180+=_0x2ef6b1(0x3cd)+escape(_0x513a60)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x3d180+=_0x2ef6b1(0x21c);}),studentResultArea[_0x5b01e8(0x5f0)]=_0x3d180,renderEarnedBadges(_0x105d2f,_0x5b01e8(0x794)),studentResultArea[_0x5b01e8(0xa39)][_0x5b01e8(0xc4b)](_0x5b01e8(0x4c5)),studentQuizArea['classList']['add'](_0x5b01e8(0x4c5)),setupResultScreenBackButton({'isLooping':_0x4edd48,'score':_0x4ae8f1,'totalQuestions':_0x464850,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x5b01e8(0x3d1)]([studentResultArea]);}function displayResultsScoreOnly(_0x4d97d2,_0x1c1189,_0x134f97,_0x12c012){const _0x13ce83=_0x2f78fc,_0x82bcc6=_0x12c012>0x0?_0x4d97d2/_0x12c012*0x64:0x0,_0x19c009=currentDisplayedQuiz['settings']?.[_0x13ce83(0x7c0)]??-0x1,_0x5d12e2=currentDisplayedQuiz[_0x13ce83(0x858)]===!![];let _0x290ece='';if(_0x5d12e2||_0x19c009!==-0x1){let _0x2eadca=_0x5d12e2?_0x4d97d2===_0x12c012:_0x4d97d2>=_0x19c009;const _0xe9c1df=_0x2eadca?_0x13ce83(0x7d6):'bg-red-100\x20text-red-800',_0xe47ccb=_0x2eadca?_0x13ce83(0x58a):'ไม่ผ่าน';_0x290ece=_0x13ce83(0x2bd)+_0xe9c1df+'\x22>'+_0xe47ccb+_0x13ce83(0x4d3);}let _0x428fa4=_0x13ce83(0x69b)+currentStudentName+_0x13ce83(0x915)+_0x4d97d2+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x12c012+_0x13ce83(0x583)+_0x290ece+_0x13ce83(0x6d9)+_0x1c1189+_0x13ce83(0xbe5)+_0x82bcc6[_0x13ce83(0x763)](0x0)+_0x13ce83(0x935);studentResultArea[_0x13ce83(0x5f0)]=_0x428fa4,renderEarnedBadges(_0x134f97,'earned-badges-container'),studentResultArea[_0x13ce83(0xa39)][_0x13ce83(0xc4b)](_0x13ce83(0x4c5)),studentQuizArea[_0x13ce83(0xa39)]['add']('hidden'),setupResultScreenBackButton({'score':_0x4d97d2,'totalQuestions':_0x12c012,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x2f18e8=_0x2f78fc;let _0x40299f=_0x2f18e8(0x505)+currentStudentName+_0x2f18e8(0xa49);studentResultArea[_0x2f18e8(0x5f0)]=_0x40299f,studentResultArea[_0x2f18e8(0xa39)][_0x2f18e8(0xc4b)](_0x2f18e8(0x4c5)),studentQuizArea['classList'][_0x2f18e8(0x5c0)](_0x2f18e8(0x4c5)),document[_0x2f18e8(0x288)](_0x2f18e8(0x1ce))[_0x2f18e8(0x5b2)](_0x2f18e8(0x8d9),()=>{const _0x56827f=_0x2f18e8;showView('student'),document[_0x56827f(0x288)](_0x56827f(0xb22))[_0x56827f(0x63b)]='';});}function renderEarnedBadges(_0x2c52fb,_0x24384a){const _0x5dbac1=_0x2f78fc,_0x49b147=document[_0x5dbac1(0x288)](_0x24384a);if(!_0x49b147||!_0x2c52fb||_0x2c52fb['length']===0x0)return;let _0x4dfc41='';_0x2c52fb[_0x5dbac1(0x220)]((_0x234924,_0x868a0c)=>{const _0x596297=_0x5dbac1,_0x249b20=Object[_0x596297(0xa59)](BADGES)['find'](_0x34dd2e=>_0x34dd2e['id']===_0x234924);_0x249b20&&(_0x4dfc41+=_0x596297(0x636)+_0x868a0c*0.2+_0x596297(0x76d)+_0x249b20[_0x596297(0x1ed)]+_0x596297(0x4d4)+_0x249b20[_0x596297(0x6ad)]+_0x596297(0x961)+_0x249b20[_0x596297(0xb54)]+_0x596297(0x1eb));}),_0x49b147['innerHTML']=_0x4dfc41;}function startPresentation(_0x1aeed8){const _0x10df1d=_0x2f78fc;currentQuizData=getShuffledQuiz(_0x1aeed8),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x10df1d(0x5f3),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5622a3=_0x2f78fc;document[_0x5622a3(0x8a7)]&&document['exitFullscreen'](),presentationModal[_0x5622a3(0x4e4)][_0x5622a3(0xc7a)]=_0x5622a3(0x2fa);}function renderPresentationSlide(_0x130e9b){const _0xb52671=_0x2f78fc,_0x4d4c12=document[_0xb52671(0x288)](_0xb52671(0x7d2));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0xb52671(0xc81)][_0x130e9b]){_0x4d4c12['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x5acb9f=currentQuizData[_0xb52671(0xc81)][_0x130e9b],_0x27a141=_0x5acb9f[_0xb52671(0x8a4)]||currentQuizData[_0xb52671(0x58f)];_0x4d4c12[_0xb52671(0x5f0)]='';let _0xaa9713='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5acb9f[_0xb52671(0xc0c)]?_0xb52671(0x4cf)+_0x5acb9f[_0xb52671(0xc0c)]+'</div>':'')+_0xb52671(0x33e)+(_0x130e9b+0x1)+'.\x20'+(_0x5acb9f[_0xb52671(0x34d)]||_0x5acb9f[_0xb52671(0x9fb)])+_0xb52671(0x9aa);switch(_0x27a141){case _0xb52671(0x5b0):_0xaa9713+=_0x5acb9f[_0xb52671(0xa99)][_0xb52671(0x598)](_0x9986d3=>_0xb52671(0xb13)+_0x9986d3+_0xb52671(0x485))[_0xb52671(0x53d)]('');break;case _0xb52671(0x253):_0xaa9713+=_0xb52671(0xc9a),_0xaa9713+=_0xb52671(0xa77);break;case _0xb52671(0x322):case _0xb52671(0x59a):_0xaa9713+=_0xb52671(0xa09);break;case _0xb52671(0x1be):case _0xb52671(0x318):default:_0xaa9713+=_0x5acb9f[_0xb52671(0x67e)][_0xb52671(0x598)]((_0x3ad186,_0x2e57d2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x2e57d2+_0xb52671(0x64f)+_0x3ad186+_0xb52671(0x485))[_0xb52671(0x53d)]('');break;}_0xaa9713+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x5acb9f[_0xb52671(0xa10)]||_0xb52671(0x728))+_0xb52671(0x9e6),_0x4d4c12[_0xb52671(0x5f0)]=_0xaa9713;if(window['MathJax'])window[_0xb52671(0x5ed)][_0xb52671(0x3d1)]([_0x4d4c12]);let _0x474f96=[];switch(_0x27a141){case _0xb52671(0x5b0):_0x474f96=_0x5acb9f[_0xb52671(0xa99)]||[];break;case'true_false':_0x474f96=[_0xb52671(0xad6),_0xb52671(0x3d3)];break;default:_0x474f96=_0x5acb9f[_0xb52671(0x67e)]||[];break;}const _0x408276=document[_0xb52671(0x288)](_0xb52671(0x422));_0x408276&&(_0x408276['onclick']=()=>{openScratchpad(_0x5acb9f,_0x474f96);});document['querySelectorAll'](_0xb52671(0x551))[_0xb52671(0x220)](_0x4b704c=>{const _0x2558b7=_0xb52671;_0x4b704c[_0x2558b7(0x5b2)](_0x2558b7(0x8d9),_0x1e280b=>revealAnswerForPresentation(_0x130e9b,_0x1e280b[_0x2558b7(0x76f)]));});const _0x24c919=document[_0xb52671(0x288)](_0xb52671(0xc07));_0x24c919&&_0x24c919[_0xb52671(0x5b2)](_0xb52671(0x8d9),()=>checkShortAnswerForPresentation(_0x130e9b)),document[_0xb52671(0x288)](_0xb52671(0x301))[_0xb52671(0xb10)]=_0xb52671(0xb5c)+(_0x130e9b+0x1)+_0xb52671(0xa1c)+currentQuizData[_0xb52671(0xc81)]['length'],document[_0xb52671(0x288)]('prev-question-btn')[_0xb52671(0x9e8)]=_0x130e9b===0x0,document['getElementById'](_0xb52671(0x1df))['disabled']=_0x130e9b===currentQuizData[_0xb52671(0xc81)]['length']-0x1;}async function checkShortAnswerForPresentation(_0xb53442){const _0x120382=_0x2f78fc,_0x580476=currentQuizData['questions'][_0xb53442],_0xea3572=document[_0x120382(0x288)](_0x120382(0xb6a)),_0x5b0026=document['getElementById'](_0x120382(0xc07)),_0x231a73=document['getElementById'](_0x120382(0xcf7)),_0xb73f98=document[_0x120382(0x288)](_0x120382(0x36a));if(!_0xea3572||!_0x5b0026||!_0x231a73||!_0xb73f98)return;const _0x1e566a=_0xea3572['value'][_0x120382(0x8e1)]();if(_0x1e566a==='')return;_0x5b0026['disabled']=!![],_0x5b0026[_0x120382(0x5f0)]=_0x120382(0x25a),_0xea3572[_0x120382(0x9e8)]=!![];const _0x4da340=await gradeShortAnswer(_0x1e566a,_0x580476);_0x4da340?_0x231a73[_0x120382(0x5f0)]=_0x120382(0xc6d):_0x231a73['innerHTML']=_0x120382(0x875)+_0x580476[_0x120382(0x558)]+')',_0x231a73[_0x120382(0xa39)][_0x120382(0xc4b)](_0x120382(0x4c5)),_0xb73f98[_0x120382(0xa39)][_0x120382(0xc4b)](_0x120382(0x4c5)),_0x5b0026[_0x120382(0xa39)][_0x120382(0x5c0)]('hidden');}function revealAnswerForPresentation(_0x117152,_0xc6a26a){const _0x2374ca=_0x2f78fc,_0x2e84c2=currentQuizData[_0x2374ca(0xc81)][_0x117152],_0x75f9db=_0x2e84c2['questionType']||currentQuizData[_0x2374ca(0x58f)];document['querySelectorAll'](_0x2374ca(0x551))['forEach'](_0x53e5ef=>{const _0x20a1cb=_0x2374ca;_0x53e5ef['disabled']=!![],_0x53e5ef[_0x20a1cb(0xa39)][_0x20a1cb(0xc4b)]('hover:bg-indigo-100');let _0x101ac4=![];if(_0x75f9db===_0x20a1cb(0x318)||_0x75f9db===_0x20a1cb(0x1be)){const _0x591950=parseInt(_0x53e5ef[_0x20a1cb(0xa66)][_0x20a1cb(0x78c)]);_0x101ac4=_0x591950===_0x2e84c2['correctAnswerIndex'];}else{if(_0x75f9db===_0x20a1cb(0x253)){const _0x2fb0d9=_0x53e5ef[_0x20a1cb(0xa66)][_0x20a1cb(0x922)]===_0x20a1cb(0x77f);_0x101ac4=_0x2fb0d9===_0x2e84c2[_0x20a1cb(0xafe)];}else _0x75f9db===_0x20a1cb(0x5b0)&&(_0x101ac4=_0x53e5ef['textContent'][_0x20a1cb(0x8e1)]()===_0x2e84c2[_0x20a1cb(0x2c7)]);}_0x101ac4?_0x53e5ef[_0x20a1cb(0xa39)][_0x20a1cb(0x5c0)](_0x20a1cb(0x267),_0x20a1cb(0x2b2),'border-green-700'):_0x53e5ef[_0x20a1cb(0xa39)]['add'](_0x20a1cb(0x817));}),_0xc6a26a[_0x2374ca(0xa39)][_0x2374ca(0xc4b)](_0x2374ca(0x817));let _0x5a9e91=![];if(_0x75f9db===_0x2374ca(0x318))_0x5a9e91=parseInt(_0xc6a26a[_0x2374ca(0xa66)][_0x2374ca(0x78c)])===_0x2e84c2[_0x2374ca(0x90b)];else{if(_0x75f9db===_0x2374ca(0x253))_0x5a9e91=_0xc6a26a[_0x2374ca(0xa66)][_0x2374ca(0x922)]===_0x2374ca(0x77f)===_0x2e84c2[_0x2374ca(0xafe)];else _0x75f9db===_0x2374ca(0x5b0)&&(_0x5a9e91=_0xc6a26a[_0x2374ca(0xb10)][_0x2374ca(0x8e1)]()===_0x2e84c2[_0x2374ca(0x2c7)]);}!_0x5a9e91&&_0xc6a26a[_0x2374ca(0xa39)]['add'](_0x2374ca(0x631),_0x2374ca(0x2b2),'border-red-700'),document[_0x2374ca(0x288)](_0x2374ca(0x36a))[_0x2374ca(0xa39)]['remove']('hidden');}function startWholeQuizTimer(_0x569ab1){const _0x266c03=_0x2f78fc,_0x2168b7=document['getElementById'](_0x266c03(0x8cb));if(!_0x2168b7)return;const _0x364946=Date['now']()+_0x569ab1*0x3c*0x3e8;_0x2168b7['innerHTML']=_0x266c03(0x5de);const _0x519b4c=document[_0x266c03(0x288)](_0x266c03(0xa15));quizTimerInterval=setInterval(()=>{const _0xee4504=_0x266c03,_0x1b892d=_0x364946-Date[_0xee4504(0x9bc)]();if(_0x1b892d<=0x0)clearInterval(quizTimerInterval),_0x519b4c[_0xee4504(0xb10)]=_0xee4504(0x618),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x24e927=Math[_0xee4504(0x60a)](_0x1b892d/0x3e8/0x3c%0x3c)[_0xee4504(0x2d0)]()[_0xee4504(0x931)](0x2,'0'),_0x30b2a6=Math[_0xee4504(0x60a)](_0x1b892d/0x3e8%0x3c)[_0xee4504(0x2d0)]()['padStart'](0x2,'0');_0x519b4c[_0xee4504(0xb10)]=_0x24e927+':'+_0x30b2a6;}},0x3e8);}function renderPerQuestionView(){const _0x2c8dcb=_0x2f78fc;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2646de=currentDisplayedQuiz[_0x2c8dcb(0xc81)][currentQuestionIndex],_0x5baff2=_0x2646de[_0x2c8dcb(0x8a4)]||currentDisplayedQuiz[_0x2c8dcb(0x58f)],_0x30bb20=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![];let _0x23989b=_0x2c8dcb(0x298)+(currentQuestionIndex+0x1)+_0x2c8dcb(0x46b)+currentDisplayedQuiz['questions']['length']+_0x2c8dcb(0xad1)+(currentMode===_0x2c8dcb(0x749)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x2c8dcb(0x32c)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x2c8dcb(0x5f0)]=_0x23989b;let _0x47f1e9=_0x2646de['stem']||_0x2646de['questionText'];_0x2646de[_0x2c8dcb(0xc0c)]&&(_0x47f1e9+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2646de[_0x2c8dcb(0xc0c)]+'</div>');let _0x2d3825='';switch(_0x5baff2){case _0x2c8dcb(0x59a):case _0x2c8dcb(0x322):_0x2d3825=_0x2c8dcb(0x9c1);break;case'true_false':_0x2d3825=_0x2c8dcb(0x742);break;case'matching_item':_0x2d3825=_0x2c8dcb(0x373)+(_0x2646de[_0x2c8dcb(0xa99)]||[])[_0x2c8dcb(0x598)](_0x55d933=>_0x2c8dcb(0x79b)+_0x55d933+'\x22>'+_0x55d933+_0x2c8dcb(0x245))[_0x2c8dcb(0x53d)]('')+_0x2c8dcb(0x289);break;default:_0x2646de['options']&&(_0x2d3825=_0x2646de['options'][_0x2c8dcb(0x598)]((_0x5a4f46,_0x51d25d)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x51d25d+_0x2c8dcb(0x58b)+_0x51d25d+_0x2c8dcb(0x775)+_0x51d25d+'\x22>'+_0x5a4f46+_0x2c8dcb(0xac3))[_0x2c8dcb(0x53d)](''));break;}document['getElementById'](_0x2c8dcb(0x743))[_0x2c8dcb(0x5f0)]=_0x47f1e9,document['getElementById']('per-question-options')[_0x2c8dcb(0x5f0)]=_0x2d3825;const _0x4dddb9=currentDisplayedQuiz['settings']?.[_0x2c8dcb(0x285)]===!![],_0x27bcc7=currentDisplayedQuiz['settings']?.[_0x2c8dcb(0x27f)]||_0x2c8dcb(0x6f5);if(_0x4dddb9&&_0x27bcc7===_0x2c8dcb(0x6f5)){const _0x5175a6=_0x2c8dcb(0x9cf);studentQuizArea[_0x2c8dcb(0x2ee)](_0x2c8dcb(0xb36))[_0x2c8dcb(0x31e)]('beforeend',_0x5175a6);}studentQuizArea[_0x2c8dcb(0x31e)]('beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x2c8dcb(0x649)]-0x1?_0x2c8dcb(0x2c8):'คำถามถัดไป')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode==='admin-testing'&&document[_0x2c8dcb(0x288)]('cancel-test-btn')?.[_0x2c8dcb(0x5b2)](_0x2c8dcb(0x8d9),cancelAdminTest);document[_0x2c8dcb(0x288)]('next-question-timed-btn')['addEventListener'](_0x2c8dcb(0x8d9),()=>handleNextQuestionInTimedMode(![]));if(window[_0x2c8dcb(0x5ed)])window[_0x2c8dcb(0x5ed)][_0x2c8dcb(0x3d1)]([studentQuizArea]);currentDisplayedQuiz[_0x2c8dcb(0x580)]?.[_0x2c8dcb(0x994)]===_0x2c8dcb(0x9ec)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x18b75d=_0x2f78fc,_0x54c71e=currentDisplayedQuiz['settings'][_0x18b75d(0xa01)],_0x30f6be=document[_0x18b75d(0x288)](_0x18b75d(0xa25));if(!_0x30f6be)return;let _0xd02911=_0x54c71e;_0x30f6be[_0x18b75d(0x5f0)]=_0x18b75d(0x63e)+_0xd02911+_0x18b75d(0x7e3);const _0x3dcccc=document[_0x18b75d(0x288)]('timer-bar'),_0x5ca39d=document['getElementById']('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x2714f7=_0x18b75d;_0xd02911--;const _0x20b647=_0xd02911/_0x54c71e*0x64;_0x3dcccc['style'][_0x2714f7(0x451)]=_0x20b647+'%',_0x5ca39d[_0x2714f7(0xb10)]=_0xd02911,_0xd02911<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2714f7(0x5a2)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x4567a1=![]){const _0x1d31ef=_0x2f78fc;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x38040f=null,_0xc07827=![];if(!_0x4567a1){const _0x106c86=currentDisplayedQuiz[_0x1d31ef(0xc81)][currentQuestionIndex],_0x49c1e1=_0x106c86[_0x1d31ef(0x8a4)]||currentDisplayedQuiz[_0x1d31ef(0x58f)];if(_0x49c1e1===_0x1d31ef(0x59a)||_0x49c1e1===_0x1d31ef(0x322))_0x38040f=document['querySelector'](_0x1d31ef(0x873))?.[_0x1d31ef(0x63b)][_0x1d31ef(0x8e1)]()??'';else{if(_0x49c1e1===_0x1d31ef(0x5b0))_0x38040f=document[_0x1d31ef(0x2ee)](_0x1d31ef(0x81c))?.[_0x1d31ef(0x63b)]??'';else{const _0x8385dc=document[_0x1d31ef(0x2ee)](_0x1d31ef(0x8c0));_0x8385dc&&(_0x38040f=_0x8385dc['value']);}}if(_0x38040f===null||_0x38040f===''){showMessage(_0x1d31ef(0x515)),startPerQuestionTimer();return;}const _0x470cb9=currentDisplayedQuiz['settings']?.[_0x1d31ef(0x285)]===!![],_0x634111=currentDisplayedQuiz[_0x1d31ef(0x580)]?.[_0x1d31ef(0x27f)]||_0x1d31ef(0x6f5);if(_0x470cb9&&_0x634111===_0x1d31ef(0x259)){document[_0x1d31ef(0x288)](_0x1d31ef(0x586))[_0x1d31ef(0xa66)]['currentMode']=_0x1d31ef(0x880),document[_0x1d31ef(0x288)](_0x1d31ef(0x4de))['value']=_0x38040f,document[_0x1d31ef(0x288)]('confidence-modal')[_0x1d31ef(0xa39)]['remove'](_0x1d31ef(0x4c5));return;}const _0xee5475=document[_0x1d31ef(0x288)]('confidence_single');_0xee5475&&(_0xc07827=_0xee5475[_0x1d31ef(0xbe3)]);}const _0x297c71={'answer':_0x38040f,'wasConfident':_0xc07827};proceedToNextQuestion(_0x297c71);}async function finalizePerQuestionQuiz(){const _0x331b91=_0x2f78fc,_0x4efd7f=currentDisplayedQuiz[_0x331b91(0xc81)]['some'](_0x983849=>_0x983849[_0x331b91(0x8a4)]===_0x331b91(0x59a));_0x4efd7f?showMessage(_0x331b91(0x757)):showMessage(_0x331b91(0x2e0));const _0x265ffb=currentQuizData['id'],_0x3781d6=doc(db,_0x331b91(0x309)+appId+_0x331b91(0x86b)+_0x265ffb+_0x331b91(0x74a),currentStudentName),_0x30a919=await getDoc(_0x3781d6),_0x242427=_0x30a919[_0x331b91(0x5e4)]()?_0x30a919[_0x331b91(0xc89)]():{},_0x1af8c7=_0x242427[_0x331b91(0x311)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1af8c7);}function getResultsFilename(){const _0x340e66=_0x2f78fc,_0xdd59e0=document[_0x340e66(0x288)](_0x340e66(0x49c))[_0x340e66(0xb10)]['replace'](/[^a-z0-9]/gi,'_')[_0x340e66(0x1f2)]();return _0x340e66(0x6f9)+(_0xdd59e0||_0x340e66(0x1ee));}function exportResultsAsImage(){const _0x1c28ce=_0x2f78fc,_0x5b4c0b=document['getElementById']('results-table-container');showMessage(_0x1c28ce(0x895)),html2canvas(_0x5b4c0b)[_0x1c28ce(0xb5a)](_0x3bb355=>{const _0x27bdbe=_0x1c28ce,_0x40f3cc=document[_0x27bdbe(0xb75)]('a');_0x40f3cc[_0x27bdbe(0x622)]=getResultsFilename()+_0x27bdbe(0x63a),_0x40f3cc[_0x27bdbe(0xb02)]=_0x3bb355[_0x27bdbe(0x7df)](_0x27bdbe(0xa0c)),_0x40f3cc['click'](),messageModal['classList'][_0x27bdbe(0x5c0)](_0x27bdbe(0x4c5));});}function exportResultsAsPDF(){const _0x1f57d3=_0x2f78fc,{jsPDF:_0xf72970}=window[_0x1f57d3(0x65c)],_0x27c6a8=new _0xf72970();_0x27c6a8['setFont'](_0x1f57d3(0x254),'normal'),_0x27c6a8[_0x1f57d3(0x347)]({'html':_0x1f57d3(0xbf7)}),_0x27c6a8[_0x1f57d3(0x902)](getResultsFilename()+_0x1f57d3(0x682));}function exportResultsAsWord(){const _0x1eead4=_0x2f78fc,_0x388e03=_0x1eead4(0x412)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x1eead4(0x567)+_0x1eead4(0x9c0),_0x806bec=_0x1eead4(0xb1c),_0x348b40=_0x388e03+document[_0x1eead4(0x288)](_0x1eead4(0x96e))[_0x1eead4(0x5f0)]+_0x806bec,_0x1e17e4=_0x1eead4(0x9eb)+encodeURIComponent(_0x348b40),_0x59740b=document['createElement']('a');document[_0x1eead4(0xad4)][_0x1eead4(0x51e)](_0x59740b),_0x59740b[_0x1eead4(0xb02)]=_0x1e17e4,_0x59740b['download']=getResultsFilename()+_0x1eead4(0x24f),_0x59740b['click'](),document[_0x1eead4(0xad4)][_0x1eead4(0x6d0)](_0x59740b);}function exportResultsAsExcel(){const _0x287387=_0x2f78fc,_0x142e85=document[_0x287387(0x288)]('results-table');let _0x2fbe63=[];for(let _0x47021a=0x0;_0x47021a<_0x142e85[_0x287387(0xbd1)][_0x287387(0x649)];_0x47021a++){let _0x1fa477=[],_0x121f87=_0x142e85['rows'][_0x47021a][_0x287387(0x3db)](_0x287387(0xc06));for(let _0x2fe4e1=0x0;_0x2fe4e1<_0x121f87[_0x287387(0x649)];_0x2fe4e1++){_0x1fa477[_0x287387(0x346)]('\x22'+_0x121f87[_0x2fe4e1][_0x287387(0x633)][_0x287387(0x5e3)](/"/g,'\x22\x22')+'\x22');}_0x2fbe63[_0x287387(0x346)](_0x1fa477[_0x287387(0x53d)](','));}const _0x44b11f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2fbe63[_0x287387(0x53d)]('\x0a')],{'type':_0x287387(0x7c4)}),_0x247323=document[_0x287387(0xb75)]('a');_0x247323[_0x287387(0xb02)]=URL[_0x287387(0x6f2)](_0x44b11f),_0x247323[_0x287387(0x622)]=getResultsFilename()+_0x287387(0xc38),_0x247323['click']();}function exportTableAsImage(_0x1ab183,_0x53e7a0){const _0x1b6c72=_0x2f78fc,_0x50ca4e=document['getElementById'](_0x1ab183);if(!_0x50ca4e){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x1b6c72(0x895)),html2canvas(_0x50ca4e)[_0x1b6c72(0xb5a)](_0x531ad3=>{const _0x5bc918=_0x1b6c72,_0x369b98=document['createElement']('a');_0x369b98['download']=_0x53e7a0+_0x5bc918(0x63a),_0x369b98[_0x5bc918(0xb02)]=_0x531ad3['toDataURL'](_0x5bc918(0xa0c)),_0x369b98[_0x5bc918(0x8d9)](),messageModal[_0x5bc918(0xa39)][_0x5bc918(0x5c0)](_0x5bc918(0x4c5));});}function exportTableAsPDF(_0x195a19,_0x148fab){const _0x1ccb63=_0x2f78fc,{jsPDF:_0x2b4231}=window[_0x1ccb63(0x65c)],_0x4a1cf5=new _0x2b4231();_0x4a1cf5[_0x1ccb63(0x577)]('helvetica','normal'),_0x4a1cf5[_0x1ccb63(0x347)]({'html':'#'+_0x195a19}),_0x4a1cf5[_0x1ccb63(0x902)](_0x148fab+_0x1ccb63(0x682));}function exportTableAsWord(_0x513f57,_0x538558){const _0x481665=_0x2f78fc,_0x558bc6=document['getElementById'](_0x513f57);if(!_0x558bc6){showMessage(_0x481665(0xaf5));return;}const _0x33acc1='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x481665(0x567)+_0x481665(0x9c0),_0x149461='</body></html>',_0x404761=_0x33acc1+_0x558bc6['innerHTML']+_0x149461,_0x59ad88=_0x481665(0x9eb)+encodeURIComponent(_0x404761),_0x5a93a2=document[_0x481665(0xb75)]('a');document[_0x481665(0xad4)][_0x481665(0x51e)](_0x5a93a2),_0x5a93a2['href']=_0x59ad88,_0x5a93a2[_0x481665(0x622)]=_0x538558+_0x481665(0x24f),_0x5a93a2['click'](),document[_0x481665(0xad4)][_0x481665(0x6d0)](_0x5a93a2);}function exportTableAsExcel(_0x39c7a6,_0x1e7ab4){const _0x492468=_0x2f78fc,_0x38b076=document[_0x492468(0x288)](_0x39c7a6);if(!_0x38b076){showMessage(_0x492468(0xaf5));return;}let _0x535639=[];for(let _0x4e16d5=0x0;_0x4e16d5<_0x38b076[_0x492468(0xbd1)][_0x492468(0x649)];_0x4e16d5++){let _0x2e16f8=[],_0x232f24=_0x38b076[_0x492468(0xbd1)][_0x4e16d5][_0x492468(0x3db)]('td,\x20th');for(let _0x33bc01=0x0;_0x33bc01<_0x232f24[_0x492468(0x649)];_0x33bc01++){_0x2e16f8[_0x492468(0x346)]('\x22'+_0x232f24[_0x33bc01][_0x492468(0x633)][_0x492468(0x5e3)](/"/g,'\x22\x22')+'\x22');}_0x535639[_0x492468(0x346)](_0x2e16f8[_0x492468(0x53d)](','));}const _0x2bf8f5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x535639['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x22c3c0=document[_0x492468(0xb75)]('a');_0x22c3c0[_0x492468(0xb02)]=URL[_0x492468(0x6f2)](_0x2bf8f5),_0x22c3c0['download']=_0x1e7ab4+'.csv',_0x22c3c0[_0x492468(0x8d9)]();}function renderAnalytics(_0x31ca55,_0x4cf95e){const _0x4d2ffd=_0x2f78fc,_0x3fb053=_0x4cf95e[_0x4d2ffd(0x3e1)](_0x1fdda4=>_0x1fdda4['latestScore']!==undefined),_0x373fcf=currentProjectData[_0x4d2ffd(0x595)][_0x4d2ffd(0x649)],_0x11e39d=_0x3fb053[_0x4d2ffd(0x649)],_0x52f171=_0x373fcf-_0x11e39d,_0x238bec=_0x373fcf>0x0?_0x11e39d/_0x373fcf*0x64:0x0,_0x4fcda8=_0x3fb053[_0x4d2ffd(0x598)](_0x4afcdc=>_0x4afcdc[_0x4d2ffd(0x44a)]),_0x56faa=_0x4fcda8[_0x4d2ffd(0x649)]>0x0?_0x4fcda8[_0x4d2ffd(0x441)]((_0x2d1843,_0x2500b6)=>_0x2d1843+_0x2500b6,0x0)/_0x4fcda8[_0x4d2ffd(0x649)]:0x0,_0x3381e4=_0x31ca55[_0x4d2ffd(0xc81)]['length'],_0x5ccb0a=_0x3381e4>0x0?_0x56faa/_0x3381e4*0x64:0x0,_0x52dea5=calculateItemAnalysis(_0x31ca55,_0x3fb053),_0x1b3e1e=calculateReliabilityKR20(_0x31ca55,_0x3fb053,_0x52dea5['perQuestionStats']);let _0x37809d='';if(_0x1b3e1e!==null){let _0x904f0c='';if(_0x1b3e1e>=0.9)_0x904f0c=_0x4d2ffd(0xb5f);else{if(_0x1b3e1e>=0.8)_0x904f0c='ดีมาก';else{if(_0x1b3e1e>=0.7)_0x904f0c='ดี';else{if(_0x1b3e1e>=0.6)_0x904f0c=_0x4d2ffd(0x6b5);else _0x904f0c=_0x4d2ffd(0xcee);}}}_0x37809d=_0x4d2ffd(0x685)+_0x1b3e1e[_0x4d2ffd(0x763)](0x2)+_0x4d2ffd(0xb92)+_0x904f0c+_0x4d2ffd(0xb04);}const _0x5e69a1=document[_0x4d2ffd(0x288)](_0x4d2ffd(0x30d));_0x5e69a1[_0x4d2ffd(0x5f0)]=_0x4d2ffd(0x971)+_0x238bec[_0x4d2ffd(0x763)](0x0)+_0x4d2ffd(0xc55)+_0x11e39d+'/'+_0x373fcf+_0x4d2ffd(0x6d6)+_0x56faa[_0x4d2ffd(0x763)](0x2)+_0x4d2ffd(0x81d)+_0x5ccb0a['toFixed'](0x0)+_0x4d2ffd(0x2cf)+(_0x4fcda8[_0x4d2ffd(0x649)]>0x0?Math[_0x4d2ffd(0x509)](..._0x4fcda8):_0x4d2ffd(0x86a))+_0x4d2ffd(0x8a1)+(_0x4fcda8['length']>0x0?Math[_0x4d2ffd(0xc1f)](..._0x4fcda8):'N/A')+_0x4d2ffd(0x37e)+_0x37809d+'\x0a\x20\x20\x20\x20';const _0x2b802e=document[_0x4d2ffd(0x288)](_0x4d2ffd(0x241));_0x2b802e&&_0x2b802e['remove']();const _0x1cdca5=_0x4d2ffd(0x3d9);_0x5e69a1[_0x4d2ffd(0x31e)](_0x4d2ffd(0x481),_0x1cdca5);const _0x259da4=currentProjectData[_0x4d2ffd(0x595)]||[];renderSubmissionChart(_0x11e39d,_0x52f171,_0x3fb053,_0x259da4),renderScoreDistributionChart(_0x3fb053,_0x3381e4),renderQuestionAnalytics(_0x31ca55,_0x3fb053,_0x259da4),renderInterestingStats(_0x31ca55,_0x3fb053);}async function handleExportLessonPDF(){const _0x333b4a=_0x2f78fc,_0x15190a=document['getElementById'](_0x333b4a(0x7ac)),_0x57465a=document[_0x333b4a(0x288)](_0x333b4a(0x61b))[_0x333b4a(0xb10)],_0x41d18d=window['open']('','_blank'),_0x5e10f7=_0x333b4a(0x67a)+_0x57465a+_0x333b4a(0x5a0)+_0x15190a[_0x333b4a(0x5f0)]+_0x333b4a(0xc18);_0x41d18d[_0x333b4a(0x602)]['write'](_0x5e10f7),_0x41d18d[_0x333b4a(0x602)][_0x333b4a(0xba3)](),_0x41d18d[_0x333b4a(0x29e)]=function(){setTimeout(()=>{const _0x3a3d52=_0x43c7;_0x41d18d[_0x3a3d52(0x3bb)]();},0x5dc);};}function renderInterestingStats(_0x2755e2,_0xa5afd){const _0x155c53=_0x2f78fc,_0x1b7f51=document[_0x155c53(0x288)](_0x155c53(0x78b));if(!_0x1b7f51)return;if(_0xa5afd[_0x155c53(0x649)]===0x0){_0x1b7f51[_0x155c53(0x5f0)]=_0x155c53(0x725);return;}const _0x18032b=_0x2755e2[_0x155c53(0xc81)][_0x155c53(0x598)]((_0x58b1bd,_0x1820b4)=>({'index':_0x1820b4+0x1,'text':_0x58b1bd[_0x155c53(0x9fb)]||_0x58b1bd[_0x155c53(0x34d)],'correct':0x0}));_0xa5afd[_0x155c53(0x220)](_0x2b1df7=>{const _0x44da72=_0x155c53,_0x3601bc=_0x2b1df7[_0x44da72(0x311)][_0x2b1df7[_0x44da72(0x311)][_0x44da72(0x649)]-0x1];_0x3601bc&&_0x3601bc['answers']&&_0x3601bc[_0x44da72(0x620)][_0x44da72(0x220)](_0x132c46=>{const _0x8bc54d=_0x44da72,_0x577efa=_0x18032b[_0x8bc54d(0x533)](_0x30dee9=>_0x30dee9['text']===_0x132c46['originalQuestionText']);_0x132c46['isCorrect']&&_0x577efa&&_0x577efa[_0x8bc54d(0xa0e)]++;});});const _0x44faaf=_0xa5afd[_0x155c53(0x649)],_0x1757c7=Math[_0x155c53(0x509)](..._0x18032b[_0x155c53(0x598)](_0x4a58a8=>_0x4a58a8[_0x155c53(0xa0e)])),_0xc144f4=Math[_0x155c53(0xc1f)](..._0x18032b['map'](_0x4ae2cf=>_0x4ae2cf[_0x155c53(0xa0e)])),_0x488ffb=_0x18032b[_0x155c53(0x3e1)](_0xd12c3c=>_0xd12c3c[_0x155c53(0xa0e)]===_0x1757c7)[_0x155c53(0x598)](_0xa5a554=>_0x155c53(0x4cc)+_0xa5a554[_0x155c53(0x78c)]),_0x1b8515=_0x18032b[_0x155c53(0x3e1)](_0x5a7271=>_0x5a7271['correct']===_0xc144f4)[_0x155c53(0x598)](_0x1d5ff3=>_0x155c53(0x4cc)+_0x1d5ff3['index']),_0x304fdd=_0xa5afd[_0x155c53(0x310)]((_0x470b30,_0x72465b)=>_0x72465b[_0x155c53(0x44a)]-_0x470b30[_0x155c53(0x44a)])['filter']((_0x4cd0a7,_0x3e32fd,_0x3dae2d)=>_0x4cd0a7[_0x155c53(0x44a)]===_0x3dae2d[0x0][_0x155c53(0x44a)]),_0xdd44fc=_0xa5afd['sort']((_0x37771b,_0x3fa2b5)=>_0x37771b['latestScore']-_0x3fa2b5[_0x155c53(0x44a)])[_0x155c53(0x3e1)]((_0x3f105d,_0x2e2ce5,_0x3d74bb)=>_0x3f105d[_0x155c53(0x44a)]===_0x3d74bb[0x0]['latestScore']),_0x554e5a=_0x155c53(0xbb5)+_0x488ffb['join'](',\x20')+_0x155c53(0x81e)+_0x1757c7+_0x155c53(0xa1c)+_0x44faaf+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x1b8515[_0x155c53(0x53d)](',\x20')+_0x155c53(0x81e)+(_0x44faaf-_0xc144f4)+'\x20/\x20'+_0x44faaf+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x304fdd[_0x155c53(0x598)](_0x258943=>_0x258943[_0x155c53(0xc3d)])[_0x155c53(0x53d)](',\x20')+_0x155c53(0x3ac)+_0x304fdd[0x0][_0x155c53(0x44a)]+_0x155c53(0x332)+_0xdd44fc['map'](_0x254ccb=>_0x254ccb[_0x155c53(0xc3d)])[_0x155c53(0x53d)](',\x20')+_0x155c53(0x3ac)+_0xdd44fc[0x0][_0x155c53(0x44a)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1b7f51[_0x155c53(0x5f0)]=_0x554e5a;}function renderSubmissionChart(_0x40962e,_0xb7971b,_0x3b27cc,_0x4a0b24){const _0x2a8d00=_0x2f78fc,_0x5d25e0=document['getElementById'](_0x2a8d00(0x7f8))[_0x2a8d00(0x865)]('2d'),_0x4c2de5=_0x3b27cc['map'](_0x144492=>_0x144492[_0x2a8d00(0xc3d)]),_0xbbb246=_0x4a0b24[_0x2a8d00(0x3e1)](_0x179993=>!_0x4c2de5[_0x2a8d00(0x96b)](_0x179993));chartInstances['submission']&&chartInstances[_0x2a8d00(0x6ae)][_0x2a8d00(0xae8)](),chartInstances['submission']=new Chart(_0x5d25e0,{'type':_0x2a8d00(0x2b9),'data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x40962e,_0xb7971b],'backgroundColor':['#10B981',_0x2a8d00(0x70d)],'borderColor':['#ffffff','#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0xf906a4){const _0x25b362=_0x2a8d00;let _0x168051=_0xf906a4[_0x25b362(0x452)]||'';return _0x168051&&(_0x168051+=':\x20'),_0x168051+=_0xf906a4[_0x25b362(0xcd0)],_0x168051;},'afterLabel':function(_0x2f6a8c){const _0x10abd1=_0x2a8d00;let _0x15a608;return _0x2f6a8c[_0x10abd1(0x5ae)]===0x0?_0x15a608=_0x4c2de5:_0x15a608=_0xbbb246,_0x15a608['length']>0x0?_0x15a608['join']('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x2e03ed,_0xf080fd){const _0x5ad68b=_0x2f78fc,_0x9af996=document[_0x5ad68b(0x288)](_0x5ad68b(0x79f))[_0x5ad68b(0x865)]('2d'),_0xb06713={};for(let _0x58a1f8=0x0;_0x58a1f8<=_0xf080fd;_0x58a1f8++){_0xb06713[_0x58a1f8]=0x0;}_0x2e03ed[_0x5ad68b(0x220)](_0x18ec25=>{const _0x3373f4=_0x5ad68b;_0xb06713[_0x18ec25['latestScore']]!==undefined&&_0xb06713[_0x18ec25[_0x3373f4(0x44a)]]++;}),chartInstances[_0x5ad68b(0x447)]&&chartInstances['score'][_0x5ad68b(0xae8)](),chartInstances[_0x5ad68b(0x447)]=new Chart(_0x9af996,{'type':_0x5ad68b(0xb83),'data':{'labels':Object[_0x5ad68b(0x695)](_0xb06713),'datasets':[{'label':_0x5ad68b(0xa16),'data':Object[_0x5ad68b(0xa59)](_0xb06713),'backgroundColor':_0x5ad68b(0x7c3),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5ad68b(0x732)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x5d1a55){const _0x29cb3f=_0x5ad68b,_0x46063e=_0x5d1a55[_0x29cb3f(0x452)],_0xeba50f=_0x2e03ed[_0x29cb3f(0x3e1)](_0x31f7ab=>_0x31f7ab[_0x29cb3f(0x44a)]==_0x46063e)[_0x29cb3f(0x598)](_0x2816de=>_0x2816de[_0x29cb3f(0xc3d)]);return _0xeba50f[_0x29cb3f(0x649)]>0x0?_0xeba50f[_0x29cb3f(0x53d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x59201f,_0xbc7a53,_0x3da29b){const _0x61c7fa=_0x2f78fc,_0x415fc4=document['getElementById']('question-analytics-container');if(_0x3da29b[_0x61c7fa(0x649)]===0x0){_0x415fc4[_0x61c7fa(0x5f0)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x174fcb=calculateItemAnalysis(_0x59201f,_0xbc7a53),_0x5d7e0a=calculateDistractorAnalysis(_0x59201f,_0xbc7a53);let _0x36e2fe='';_0x174fcb[_0x61c7fa(0x9a1)]&&(_0x36e2fe=_0x61c7fa(0xb9f)+_0x174fcb['overallGroups'][_0x61c7fa(0xccf)][_0x61c7fa(0x649)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x174fcb[_0x61c7fa(0x9a1)]['upperGroupNames'][_0x61c7fa(0x598)](_0x29205a=>'<li>'+_0x29205a+_0x61c7fa(0x823))['join']('')+_0x61c7fa(0x27e)+_0x174fcb['overallGroups'][_0x61c7fa(0x221)][_0x61c7fa(0x649)]+_0x61c7fa(0x258)+_0x174fcb[_0x61c7fa(0x9a1)][_0x61c7fa(0x221)][_0x61c7fa(0x598)](_0x2a7b0b=>_0x61c7fa(0xa9d)+_0x2a7b0b+_0x61c7fa(0x823))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x225a19='';const _0x7422cb=_0xbc7a53[_0x61c7fa(0x598)](_0x40dce8=>_0x40dce8[_0x61c7fa(0xc3d)]),_0x1807fc=_0x995b88=>{const _0x22685c=_0x61c7fa;if(_0x995b88>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x995b88>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x995b88>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x995b88>=0.2)return _0x22685c(0x944);return _0x22685c(0x70c);},_0xf0ab90=_0xa02953=>{const _0x3cc7b4=_0x61c7fa;if(_0xa02953<0x0)return _0x3cc7b4(0x604);if(_0xa02953>=0.4)return _0x3cc7b4(0x986);if(_0xa02953>=0.3)return _0x3cc7b4(0x4fc);if(_0xa02953>=0.2)return _0x3cc7b4(0x540);return _0x3cc7b4(0x5f4);},_0x5c240d=_0x5eac03=>{const _0x613626=_0x61c7fa,_0x12a681=_0x5eac03['toFixed'](0x0);if(parseFloat(_0x12a681)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x12a681+_0x613626(0x82b);if(_0x5eac03>=0x32)return _0x613626(0x7ef)+_0x12a681+_0x613626(0x82b);return _0x613626(0x351)+_0x12a681+_0x613626(0x82b);};_0x59201f[_0x61c7fa(0xc81)]['forEach']((_0x2643b5,_0x3811f1)=>{const _0x3844ed=_0x61c7fa,_0xa7cbeb=_0x174fcb[_0x3844ed(0xc46)][_0x3811f1],_0x50d1bf=_0x5d7e0a[_0x3811f1],_0x284634=_0x2643b5[_0x3844ed(0x34d)]||_0x2643b5[_0x3844ed(0x9fb)]||_0x2643b5[_0x3844ed(0x6c2)];let _0xa734a6=0x0;const _0x414a64=[],_0x3b076f=[];_0xbc7a53[_0x3844ed(0x220)](_0x4b61fc=>{const _0x5d2259=_0x3844ed,_0x39ee44=_0x4b61fc[_0x5d2259(0x311)][_0x4b61fc['attempts']['length']-0x1];if(_0x39ee44&&_0x39ee44[_0x5d2259(0x620)]){const _0x477ef8=_0x39ee44[_0x5d2259(0x620)]['find'](_0x38c4c7=>_0x38c4c7[_0x5d2259(0x680)]===_0x284634)??_0x39ee44[_0x5d2259(0x620)][_0x3811f1]??null;_0x477ef8&&(_0x477ef8['isCorrect']?(_0xa734a6++,_0x414a64[_0x5d2259(0x346)](_0x4b61fc[_0x5d2259(0xc3d)])):_0x3b076f['push'](_0x4b61fc[_0x5d2259(0xc3d)]));}});const _0x5d69f1=_0xbc7a53[_0x3844ed(0x649)]>0x0?_0xa734a6/_0xbc7a53[_0x3844ed(0x649)]*0x64:0x0,_0x535799=_0x3da29b[_0x3844ed(0x3e1)](_0x4a0532=>!_0x7422cb[_0x3844ed(0x96b)](_0x4a0532)),_0x214d11=_0xa7cbeb?_0x3844ed(0x5cf)+_0xa7cbeb['p'][_0x3844ed(0x763)](0x2)+_0x3844ed(0x46c)+_0x1807fc(_0xa7cbeb['p'])+_0x3844ed(0xbb6)+_0xa7cbeb['r'][_0x3844ed(0x763)](0x2)+'</p><div>'+_0xf0ab90(_0xa7cbeb['r'])+_0x3844ed(0x8e4)+_0x5c240d(_0x5d69f1)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0xf3f79c='';_0x50d1bf&&(_0xf3f79c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x3844ed(0x695)](_0x50d1bf)[_0x3844ed(0x598)](_0x16581d=>{const _0x38a88d=_0x3844ed,_0x52f528=_0x50d1bf[_0x16581d],_0x2ec242=parseInt(_0x16581d)===_0x2643b5[_0x38a88d(0x90b)],_0x11d0d8=!_0x2ec242&&_0x52f528['lower_group_count']>_0x52f528[_0x38a88d(0x237)];return _0x38a88d(0x6ab)+(_0x2ec242?_0x38a88d(0x401):'')+_0x38a88d(0x72b)+(_0x2ec242?'✔\x20':'')+_0x52f528[_0x38a88d(0x537)]+_0x38a88d(0x201)+_0x52f528[_0x38a88d(0x237)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x52f528[_0x38a88d(0x53b)]+'\x20'+(_0x11d0d8?'👍':'')+_0x38a88d(0x201)+_0x52f528[_0x38a88d(0x63c)]+_0x38a88d(0x9bd);})['join']('')+_0x3844ed(0x4c3));let _0x28721d='';_0xa7cbeb&&_0xa7cbeb[_0x3844ed(0x83d)]&&(_0x28721d=_0x3844ed(0xc30)+_0xa7cbeb[_0x3844ed(0x83d)]['length']+_0x3844ed(0x77c)+_0xa7cbeb[_0x3844ed(0x83d)]['map'](_0x377182=>_0x3844ed(0xa9d)+(_0x377182[_0x3844ed(0x8bd)]?_0x3844ed(0x972):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x377182['name']+'</li>')[_0x3844ed(0x53d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0xa7cbeb[_0x3844ed(0x48a)][_0x3844ed(0x649)]+_0x3844ed(0x77c)+_0xa7cbeb[_0x3844ed(0x48a)][_0x3844ed(0x598)](_0x21ee4e=>'<li>'+(_0x21ee4e[_0x3844ed(0x8bd)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x21ee4e[_0x3844ed(0xb54)]+_0x3844ed(0x823))[_0x3844ed(0x53d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x225a19+=_0x3844ed(0xbfd)+(_0x3811f1+0x1)+':\x20'+_0x284634+_0x3844ed(0xcbd)+_0x214d11+_0x3844ed(0x5dd)+_0x284634+_0x3844ed(0xa6d)+_0xa734a6+_0x3844ed(0x46b)+_0xbc7a53[_0x3844ed(0x649)]+_0x3844ed(0x213)+_0x5d69f1[_0x3844ed(0x763)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x414a64['length']+_0x3844ed(0x216)+(_0x414a64[_0x3844ed(0x649)]>0x0?_0x414a64['join'](',\x20'):_0x3844ed(0x8aa))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x3b076f[_0x3844ed(0x649)]+_0x3844ed(0x216)+(_0x3b076f[_0x3844ed(0x649)]>0x0?_0x3b076f[_0x3844ed(0x53d)](',\x20'):_0x3844ed(0x8aa))+_0x3844ed(0x27d)+_0x535799[_0x3844ed(0x649)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x535799[_0x3844ed(0x649)]>0x0?_0x535799[_0x3844ed(0x53d)](',\x20'):'ไม่มี')+_0x3844ed(0x57a)+_0xf3f79c+_0x3844ed(0x7af)+_0x28721d+_0x3844ed(0x5eb);}),_0x415fc4[_0x61c7fa(0x5f0)]=_0x36e2fe+_0x225a19;try{window[_0x61c7fa(0x5ed)]&&MathJax['typesetPromise']&&MathJax[_0x61c7fa(0x3d1)]([_0x415fc4]);}catch(_0x2da83e){console[_0x61c7fa(0x40f)](_0x61c7fa(0x247),_0x2da83e);}}function calculateDistractorAnalysis(_0x1ade2c,_0x14d941){const _0x42ccc6=_0x2f78fc,_0x185d16={};if(_0x14d941[_0x42ccc6(0x649)]<0x2)return _0x185d16;const _0x49a902=[..._0x14d941][_0x42ccc6(0x310)]((_0x145de5,_0x37d4d2)=>{const _0x1d2e2d=_0x42ccc6,_0x291a1e=_0x37d4d2[_0x1d2e2d(0x44a)]-_0x145de5[_0x1d2e2d(0x44a)];if(_0x291a1e!==0x0)return _0x291a1e;const _0x34742e=_0x145de5[_0x1d2e2d(0x311)]?.['length']||0x1,_0x4df047=_0x37d4d2['attempts']?.[_0x1d2e2d(0x649)]||0x1,_0x5f49e8=_0x34742e-_0x4df047;if(_0x5f49e8!==0x0)return _0x5f49e8;const _0x448361=new Date(_0x145de5[_0x1d2e2d(0x38a)]),_0x581009=new Date(_0x37d4d2[_0x1d2e2d(0x38a)]),_0x5bcf72=_0x448361-_0x581009;if(_0x5bcf72!==0x0)return _0x5bcf72;return _0x145de5[_0x1d2e2d(0xc3d)][_0x1d2e2d(0xc26)](_0x37d4d2[_0x1d2e2d(0xc3d)],'th');}),_0x5504bd=_0x49a902[_0x42ccc6(0x649)],_0x162dec=Math[_0x42ccc6(0x509)](0x1,Math['floor'](_0x5504bd*0.33)),_0x365a4a=_0x49a902[_0x42ccc6(0xacc)](0x0,_0x162dec),_0x309f65=_0x49a902['slice'](-_0x162dec);return _0x1ade2c[_0x42ccc6(0xc81)][_0x42ccc6(0x220)]((_0x3da22d,_0x1851e5)=>{const _0xf47e53=_0x42ccc6;if(_0x3da22d[_0xf47e53(0x8a4)]!==_0xf47e53(0x318)||!_0x3da22d[_0xf47e53(0x67e)])return;const _0x521cfd=_0x3da22d['questionText'],_0x5231f8={};_0x3da22d[_0xf47e53(0x67e)][_0xf47e53(0x220)]((_0x4d08a7,_0x565637)=>{_0x5231f8[_0x565637]={'text':_0x4d08a7,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x49a902[_0xf47e53(0x220)](_0x77b5e5=>{const _0x47bf9a=_0xf47e53,_0x34d6a3=_0x77b5e5['attempts'][_0x77b5e5[_0x47bf9a(0x311)][_0x47bf9a(0x649)]-0x1],_0x2cc1e2=_0x34d6a3[_0x47bf9a(0x620)]['find'](_0x4871f0=>_0x4871f0[_0x47bf9a(0x680)]===_0x521cfd);if(_0x2cc1e2&&_0x2cc1e2[_0x47bf9a(0x922)]!==null){const _0x320fe6=_0x3da22d[_0x47bf9a(0x67e)][_0x47bf9a(0x6f6)](_0x3854bc=>_0x3854bc===_0x2cc1e2[_0x47bf9a(0x694)]);_0x320fe6!==-0x1&&_0x5231f8[_0x320fe6]&&(_0x5231f8[_0x320fe6]['total']++,_0x365a4a['includes'](_0x77b5e5)&&_0x5231f8[_0x320fe6][_0x47bf9a(0x237)]++,_0x309f65['includes'](_0x77b5e5)&&_0x5231f8[_0x320fe6][_0x47bf9a(0x53b)]++);}}),_0x185d16[_0x1851e5]=_0x5231f8;}),_0x185d16;}function calculateReliabilityKR20(_0x39b5e1,_0x21e351,_0x71d8fa){const _0x424ef8=_0x2f78fc,_0x3b781a=_0x39b5e1[_0x424ef8(0xc81)][_0x424ef8(0x649)];if(_0x3b781a<0x2||_0x21e351[_0x424ef8(0x649)]<0x2)return null;const _0x86ddc6=_0x21e351['map'](_0x44595d=>_0x44595d[_0x424ef8(0x44a)]),_0x2eeb65=_0x86ddc6['reduce']((_0x174bc4,_0x50cf28)=>_0x174bc4+_0x50cf28,0x0)/_0x86ddc6[_0x424ef8(0x649)],_0x3eeb47=_0x86ddc6[_0x424ef8(0x598)](_0xfb5008=>Math[_0x424ef8(0x210)](_0xfb5008-_0x2eeb65,0x2))[_0x424ef8(0x441)]((_0x1cb314,_0x6175ac)=>_0x1cb314+_0x6175ac,0x0)/_0x86ddc6[_0x424ef8(0x649)];if(_0x3eeb47===0x0)return null;let _0x89e46d=0x0;for(let _0x4e5c5b=0x0;_0x4e5c5b<_0x3b781a;_0x4e5c5b++){const _0x341d9b=_0x71d8fa[_0x4e5c5b]?.['p'];if(_0x341d9b===undefined)continue;const _0x9f4a5a=0x1-_0x341d9b;_0x89e46d+=_0x341d9b*_0x9f4a5a;}if(_0x89e46d===0x0)return null;const _0x700ec7=_0x3b781a/(_0x3b781a-0x1)*(0x1-_0x89e46d/_0x3eeb47);if(_0x700ec7>0x1)return null;return _0x700ec7;}async function handleAnalyzeClass(){const _0xbafa49=_0x2f78fc;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x54650e=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0xbafa49(0x74a)),_0x5a99f9=await getDocs(_0x54650e),_0x23472f=_0x5a99f9[_0xbafa49(0x2ea)][_0xbafa49(0x598)](_0x12633c=>_0x12633c[_0xbafa49(0xc89)]());if(_0x23472f[_0xbafa49(0x649)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x484948=document[_0xbafa49(0x288)](_0xbafa49(0x80b));_0x484948[_0xbafa49(0x5f0)]=_0xbafa49(0x983),document[_0xbafa49(0x288)](_0xbafa49(0x31a))['disabled']=!![];const _0x4b610d=_0x23472f[_0xbafa49(0x598)]((_0x5a6b6f,_0x508eb1)=>{const _0x3255a7=_0xbafa49,_0x50b6be=_0x5a6b6f[_0x3255a7(0x311)][_0x5a6b6f[_0x3255a7(0x311)][_0x3255a7(0x649)]-0x1];if(!_0x50b6be)return'';return _0x3255a7(0xb2b)+(_0x508eb1+0x1)+'\x20('+_0x5a6b6f[_0x3255a7(0xc3d)]+_0x3255a7(0x1e3)+_0x50b6be[_0x3255a7(0x447)]+'/'+_0x5a6b6f['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x3255a7(0x6aa)](_0x50b6be[_0x3255a7(0x620)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](_0xbafa49(0xcf2)),_0x372249=_0xbafa49(0x507)+currentQuizData[_0xbafa49(0x32c)]+_0xbafa49(0x230)+JSON[_0xbafa49(0x6aa)](currentQuizData['questions'])+_0xbafa49(0x985)+_0x4b610d+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0xba5361={'type':_0xbafa49(0x91b),'properties':{'classStrengths':{'type':_0xbafa49(0xb29),'items':{'type':_0xbafa49(0x395)}},'classWeaknesses':{'type':_0xbafa49(0xb29),'items':{'type':_0xbafa49(0x395)}},'teacherSuggestions':{'type':_0xbafa49(0xb29),'items':{'type':_0xbafa49(0x395)}}},'required':['classStrengths',_0xbafa49(0x3e3),'teacherSuggestions']};try{const _0x1cf186=await callAnalysisApi(_0x372249,_0xba5361);displayClassAnalysis(_0x1cf186);}catch(_0x3fb452){console[_0xbafa49(0x40f)](_0xbafa49(0xb39),_0x3fb452),_0x484948[_0xbafa49(0x5f0)]=_0xbafa49(0x4a9)+_0x3fb452[_0xbafa49(0x42d)]+_0xbafa49(0x335);}finally{document[_0xbafa49(0x288)](_0xbafa49(0x31a))[_0xbafa49(0x9e8)]=![];}}function displayClassAnalysis(_0x5870fc){const _0x4dc25f=_0x2f78fc,_0x1597b3=document[_0x4dc25f(0x288)](_0x4dc25f(0x80b));if(!_0x5870fc){_0x1597b3[_0x4dc25f(0x5f0)]=_0x4dc25f(0x256);return;}_0x1597b3['innerHTML']=_0x4dc25f(0x3ff)+_0x5870fc[_0x4dc25f(0xa9e)][_0x4dc25f(0x598)](_0x44134b=>_0x4dc25f(0xa9d)+_0x44134b+_0x4dc25f(0x823))['join']('')+_0x4dc25f(0xb72)+_0x5870fc[_0x4dc25f(0x3e3)][_0x4dc25f(0x598)](_0x39c3b2=>'<li>'+_0x39c3b2+'</li>')[_0x4dc25f(0x53d)]('')+_0x4dc25f(0x748)+_0x5870fc['teacherSuggestions'][_0x4dc25f(0x598)](_0x376ebd=>_0x4dc25f(0xa9d)+_0x376ebd+_0x4dc25f(0x823))[_0x4dc25f(0x53d)]('')+_0x4dc25f(0xb98);}function formatAndPrintWorksheet(_0x5c1249,_0x3328f0){const _0x24824b=_0x2f78fc,_0x4a1f40='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x5c1249[_0x24824b(0x32c)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x5c1249[_0x24824b(0x32c)]+_0x24824b(0x364)+_0x5c1249[_0x24824b(0xc81)][_0x24824b(0x598)]((_0x40056d,_0x44945c)=>_0x24824b(0x4ab)+(_0x44945c+0x1)+'.\x20'+_0x40056d[_0x24824b(0x9fb)]+_0x24824b(0x2d5)+(_0x40056d[_0x24824b(0xc0c)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x40056d[_0x24824b(0xc0c)]+_0x24824b(0x21c):'')+_0x24824b(0x2d3))[_0x24824b(0x53d)]('')+_0x24824b(0x2e5);_0x3328f0[_0x24824b(0x602)][_0x24824b(0x866)](_0x4a1f40),_0x3328f0[_0x24824b(0x602)][_0x24824b(0xba3)](),_0x3328f0[_0x24824b(0x29e)]=function(){setTimeout(()=>{const _0x384bdf=_0x43c7;_0x3328f0[_0x384bdf(0x3bb)]();},0x3e8);};}async function generateWorksheet(){const _0x4b6cf9=_0x2f78fc,_0x17dff5=document[_0x4b6cf9(0x288)](_0x4b6cf9(0xa58))[_0x4b6cf9(0x63b)][_0x4b6cf9(0x8e1)]();if(!_0x17dff5){showMessage(_0x4b6cf9(0xbec));return;}const _0x30f824=document[_0x4b6cf9(0x288)](_0x4b6cf9(0x5a6))[_0x4b6cf9(0xbe3)],_0x52db23=_0x30f824?'':_0x4b6cf9(0xad8),_0x46323c=window[_0x4b6cf9(0x89b)]('',_0x4b6cf9(0x523));_0x46323c['document'][_0x4b6cf9(0x866)](_0x4b6cf9(0x556));const _0x4f7902=parseInt(document[_0x4b6cf9(0x288)](_0x4b6cf9(0x37d))[_0x4b6cf9(0x63b)]),_0x2eb3e2=document[_0x4b6cf9(0x288)](_0x4b6cf9(0x739))[_0x4b6cf9(0xbe3)],_0x3ea329=_0x2eb3e2?_0x4b6cf9(0xadf):'',_0x162ddb=_0x4b6cf9(0x722)+_0x52db23+_0x4b6cf9(0x7ed)+_0x4f7902+_0x4b6cf9(0x5ca)+_0x17dff5+_0x4b6cf9(0x6f7)+_0x3ea329+_0x4b6cf9(0x9ab)+simpleMathPrompt+_0x4b6cf9(0x87e),_0x25dc62={'type':_0x4b6cf9(0x91b),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4b6cf9(0xb29),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x4b6cf9(0x395)},'imageCode':{'type':_0x4b6cf9(0x395)}},'required':[_0x4b6cf9(0x9fb)]}}},'required':[_0x4b6cf9(0x32c),_0x4b6cf9(0xc81)]};document[_0x4b6cf9(0x288)](_0x4b6cf9(0x948))['textContent']='',document[_0x4b6cf9(0x288)](_0x4b6cf9(0x308))[_0x4b6cf9(0xa39)][_0x4b6cf9(0xc4b)](_0x4b6cf9(0x4c5)),document[_0x4b6cf9(0x288)](_0x4b6cf9(0x459))[_0x4b6cf9(0xa39)][_0x4b6cf9(0xc4b)]('hidden'),generateWorksheetBtn['disabled']=!![];try{const _0x23cd8f=await callAnalysisApi(_0x162ddb,_0x25dc62);formatAndPrintWorksheet(_0x23cd8f,_0x46323c);}catch(_0x251ac1){console[_0x4b6cf9(0x40f)](_0x4b6cf9(0x70a),_0x251ac1);if(_0x46323c)_0x46323c[_0x4b6cf9(0xba3)]();showMessage(_0x4b6cf9(0x286));}finally{document[_0x4b6cf9(0x288)](_0x4b6cf9(0x308))[_0x4b6cf9(0xa39)][_0x4b6cf9(0x5c0)](_0x4b6cf9(0x4c5)),document['getElementById'](_0x4b6cf9(0x459))[_0x4b6cf9(0xa39)][_0x4b6cf9(0x5c0)]('hidden'),generateWorksheetBtn[_0x4b6cf9(0x9e8)]=![];}}async function callAnalysisApi(_0x4606e0,_0x56dceb){const _0x31c5eb=_0x2f78fc,_0x52fd39={'contents':[{'role':'user','parts':[{'text':_0x4606e0}]}],'generationConfig':{'responseMimeType':_0x31c5eb(0xd18),'responseSchema':_0x56dceb}},_0x3ecc09=_0x31c5eb(0xca9),_0x194d1e=_0x31c5eb(0xd04)+_0x3ecc09,_0xb86616=await fetch(_0x194d1e,{'method':'POST','headers':{'Content-Type':_0x31c5eb(0xd18)},'body':JSON['stringify'](_0x52fd39)});if(!_0xb86616['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0xb86616[_0x31c5eb(0xa78)]);const _0x3ccc6a=await _0xb86616['json']();if(_0x3ccc6a[_0x31c5eb(0xb0a)]?.[0x0]?.[_0x31c5eb(0x42a)]?.[_0x31c5eb(0x87d)]?.[0x0])return JSON[_0x31c5eb(0x560)](_0x3ccc6a['candidates'][0x0]['content'][_0x31c5eb(0x87d)][0x0]['text']);else{let _0x36f977=_0x31c5eb(0x65d);if(_0x3ccc6a[_0x31c5eb(0xbae)]?.[_0x31c5eb(0x833)])_0x36f977=_0x31c5eb(0x5fb)+_0x3ccc6a['promptFeedback'][_0x31c5eb(0x833)]+'.';else _0x3ccc6a[_0x31c5eb(0xb0a)]?.[0x0]?.[_0x31c5eb(0x870)]&&_0x3ccc6a[_0x31c5eb(0xb0a)][0x0][_0x31c5eb(0x870)]!=='STOP'&&(_0x36f977='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x3ccc6a[_0x31c5eb(0xb0a)][0x0]['finishReason']+'.');console[_0x31c5eb(0x40f)](_0x36f977,JSON['stringify'](_0x3ccc6a));throw new Error(_0x36f977);}}async function handleStartSyncMode(_0x31f5ab,_0x4c6c83=![]){const _0x12fcf7=_0x2f78fc,_0x266fe3=allQuizzes[_0x12fcf7(0x533)](_0x813f26=>_0x813f26['id']===_0x31f5ab)||allQuizzesGlobal[_0x12fcf7(0x533)](_0x517e59=>_0x517e59['id']===_0x31f5ab);if(!_0x266fe3){showMessage(_0x12fcf7(0x663));return;}currentQuizData=getShuffledQuiz(_0x266fe3);const _0x59198f=Math[_0x12fcf7(0x60a)](0x3e8+Math[_0x12fcf7(0x40c)]()*0x2328)[_0x12fcf7(0x2d0)]();try{const _0xe785e8=await addDoc(collection(db,_0x12fcf7(0x309)+appId+_0x12fcf7(0x2a5)),{'quizId':_0x266fe3['id'],'pin':_0x59198f,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4c6c83,'players':{}});currentLiveGameId=_0xe785e8['id'],showView(_0x12fcf7(0x624)),renderSyncLobbyView(_0x59198f,_0x266fe3[_0x12fcf7(0x32c)]),listenForSyncGameUpdates();}catch(_0x25c022){console[_0x12fcf7(0x40f)](_0x12fcf7(0xb62),_0x25c022),showMessage(_0x12fcf7(0xac2));}}function calculateFinalPodiumScores(_0x33267d){const _0x46cf9f=_0x2f78fc;if(!_0x33267d||!_0x33267d['shuffledQuiz']||!_0x33267d[_0x46cf9f(0xa90)])return _0x33267d[_0x46cf9f(0xa90)]||{};const _0x4f85b6=_0x33267d[_0x46cf9f(0x6af)][_0x46cf9f(0xc81)][_0x46cf9f(0x649)],_0x1a0a39=JSON[_0x46cf9f(0x560)](JSON[_0x46cf9f(0x6aa)](_0x33267d[_0x46cf9f(0xa90)]));return Object[_0x46cf9f(0xa59)](_0x1a0a39)[_0x46cf9f(0x220)](_0x4d4288=>{const _0x36ca09=_0x46cf9f,_0x2274dc=_0x4d4288[_0x36ca09(0x447)];let _0x1a8cff=_0x2274dc,_0x4a5f1b=0x0;_0x33267d[_0x36ca09(0x285)]&&_0x4d4288[_0x36ca09(0x620)]&&_0x4d4288['answers'][_0x36ca09(0x220)](_0x1b41b2=>{const _0x26185c=_0x36ca09;if(_0x1b41b2[_0x26185c(0x8bd)]&&(_0x1b41b2[_0x26185c(0xae5)]===!![]||_0x1b41b2[_0x26185c(0xae5)]===_0x26185c(0x8f2)))_0x4a5f1b+=0x1;else!_0x1b41b2[_0x26185c(0x8bd)]&&(_0x1b41b2[_0x26185c(0xae5)]===!![]||_0x1b41b2[_0x26185c(0xae5)]===_0x26185c(0x8f2))&&(_0x4a5f1b-=0x1);}),_0x1a8cff+=_0x4a5f1b,_0x4f85b6>0x0&&_0x2274dc===_0x4f85b6&&(_0x1a8cff+=0x1,_0x4d4288[_0x36ca09(0x1c3)]=!![]),_0x4d4288[_0x36ca09(0x447)]=_0x1a8cff;}),_0x1a0a39;}function listenForSyncGameUpdates(){const _0x485299=_0x2f78fc;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1ea97d=doc(db,_0x485299(0x309)+appId+_0x485299(0x2a5),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1ea97d,_0x78799=>{const _0x841ac4=_0x485299;if(!_0x78799[_0x841ac4(0x5e4)]()){sessionStorage[_0x841ac4(0x3ef)](_0x841ac4(0x3df));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x841ac4(0x61e));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x841ac4(0xbc6)):showView('student');return;}const _0x280c1d=_0x78799['data']();currentMode===_0x841ac4(0x290)?updateAdminSyncView(_0x280c1d):updateStudentSyncView(_0x280c1d);});}function renderSyncLobbyView(_0x33e024,_0x516078){const _0x155a41=_0x2f78fc;liveGameView[_0x155a41(0x5f0)]=_0x155a41(0x608)+_0x516078+_0x155a41(0xc2a)+_0x33e024+_0x155a41(0xb06);const _0x1cb4e3=document['getElementById'](_0x155a41(0xc49)),_0x4f5a87=document[_0x155a41(0x288)](_0x155a41(0x381));_0x1cb4e3[_0x155a41(0x5b2)](_0x155a41(0x2f8),()=>{const _0x371eb7=_0x155a41;_0x4f5a87['style'][_0x371eb7(0xc7a)]=_0x1cb4e3[_0x371eb7(0xbe3)]?_0x371eb7(0x295):_0x371eb7(0x2fa);}),document[_0x155a41(0x288)](_0x155a41(0x38f))[_0x155a41(0x5b2)](_0x155a41(0x8d9),async()=>{const _0xb9dcc8=_0x155a41,_0x4f6e6a=doc(db,'artifacts/'+appId+_0xb9dcc8(0x2a5),currentLiveGameId),_0x40f043=document[_0xb9dcc8(0x288)]('confidence-scoring-toggle')[_0xb9dcc8(0xbe3)];await updateDoc(_0x4f6e6a,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x40f043});});}function updateAdminSyncView(_0x53d547){const _0x5647ea=_0x2f78fc;switch(_0x53d547[_0x5647ea(0xa78)]){case _0x5647ea(0xc23):renderSyncLobbyView(_0x53d547[_0x5647ea(0xb05)],_0x53d547['shuffledQuiz'][_0x5647ea(0x32c)]);const _0x5c93a5=Object['entries'](_0x53d547[_0x5647ea(0xa90)]||{})['filter'](([_0x5eda6,_0x11e2f5])=>_0x11e2f5['status']!==_0x5647ea(0xcc1));document[_0x5647ea(0x288)]('player-count')['textContent']=_0x5c93a5[_0x5647ea(0x649)],document[_0x5647ea(0x288)](_0x5647ea(0x8e6))[_0x5647ea(0x5f0)]=_0x5c93a5['map'](([_0x4a3a17,_0x2c652f])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4a3a17+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x4a3a17+_0x5647ea(0x69f))['join']('')||_0x5647ea(0x32f),document[_0x5647ea(0x288)](_0x5647ea(0x38f))[_0x5647ea(0x9e8)]=_0x5c93a5['length']===0x0;break;case _0x5647ea(0x788):const _0x3dea5b=Object[_0x5647ea(0xa59)](_0x53d547[_0x5647ea(0xa90)]||{})[_0x5647ea(0x3e1)](_0x56ae7e=>_0x56ae7e[_0x5647ea(0xa78)]!==_0x5647ea(0xcc1)),_0x3a7a5e=_0x3dea5b[_0x5647ea(0x3e1)](_0x125bb1=>_0x125bb1[_0x5647ea(0x408)])['length'],_0x2c1a0d=_0x3a7a5e===_0x3dea5b[_0x5647ea(0x649)]&&_0x3dea5b[_0x5647ea(0x649)]>0x0;if(_0x2c1a0d&&_0x53d547[_0x5647ea(0xa78)]==='question'){const _0x5b6894=doc(db,'artifacts/'+appId+_0x5647ea(0x2a5),currentLiveGameId);updateDoc(_0x5b6894,{'status':'summary'});}else{if(document[_0x5647ea(0x288)](_0x5647ea(0x7cd))===null)renderAdminSyncQuestionView(_0x53d547);else{const _0x3f3259=document[_0x5647ea(0x288)]('answer-counter');_0x3f3259&&(_0x3f3259[_0x5647ea(0xb10)]=_0x3a7a5e+'/'+_0x3dea5b[_0x5647ea(0x649)]);const _0x3cf7d3=document[_0x5647ea(0x288)](_0x5647ea(0x5d7));_0x3cf7d3&&(_0x3cf7d3[_0x5647ea(0x5f0)]=_0x3dea5b[_0x5647ea(0x598)](_0x28f647=>{const _0x1f4165=_0x5647ea,_0x214ab3=_0x28f647[_0x1f4165(0x408)]?_0x1f4165(0x267):'bg-gray-500',_0x1bbc6a=_0x28f647['answered']?_0x1f4165(0x2db):_0x1f4165(0x48d);return _0x1f4165(0x5cb)+_0x214ab3+_0x1f4165(0x36f)+_0x1bbc6a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x28f647[_0x1f4165(0xb54)]+_0x1f4165(0x9f0)+_0x28f647['name']+_0x1f4165(0x84a);})[_0x5647ea(0x53d)](''));}}break;case _0x5647ea(0x3f1):const _0x215bea=_0x53d547[_0x5647ea(0x8e0)],_0x195e86=_0x53d547[_0x5647ea(0x6af)][_0x5647ea(0xc81)][_0x215bea];renderSyncSummaryView(_0x53d547,_0x195e86,!![]);break;case _0x5647ea(0x5c5):renderAdminSyncDashboard(_0x53d547,!![]);break;case'podium':_0x53d547[_0x5647ea(0xc84)]&&saveGameResultsAsSubmissions(_0x53d547);sessionStorage['removeItem'](_0x5647ea(0x3df));const _0x1ace6d=calculateFinalPodiumScores(_0x53d547);showPodiumView(_0x1ace6d,'sync');break;}}function renderAdminSyncQuestionView(_0x127c72){const _0x1385c5=_0x2f78fc,_0x1ce61d=_0x127c72['currentQuestionIndex'],_0x1334b8=_0x127c72['shuffledQuiz'][_0x1385c5(0xc81)][_0x1ce61d],_0x509b13=_0x127c72[_0x1385c5(0x6af)][_0x1385c5(0xc81)][_0x1385c5(0x649)],_0x22b37d=Object['values'](_0x127c72[_0x1385c5(0xa90)]||{})[_0x1385c5(0x3e1)](_0x4e9075=>_0x4e9075[_0x1385c5(0xa78)]!==_0x1385c5(0xcc1)),_0x2f4fcc=_0x22b37d['filter'](_0x5b00cf=>_0x5b00cf['answered'])[_0x1385c5(0x649)],_0x27278c=_0x2f4fcc===_0x22b37d[_0x1385c5(0x649)]&&_0x22b37d[_0x1385c5(0x649)]>0x0,_0x39cb72=(_0x1334b8[_0x1385c5(0x67e)]||[])[_0x1385c5(0x598)](_0x363c55=>_0x1385c5(0x84c)+_0x363c55+_0x1385c5(0x21c))['join']('');liveGameView[_0x1385c5(0x5f0)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x1ce61d+0x1)+_0x1385c5(0xa1c)+_0x509b13+_0x1385c5(0xaaa)+_0x2f4fcc+'/'+_0x22b37d['length']+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1334b8[_0x1385c5(0x9fb)]+_0x1385c5(0x6a5)+_0x39cb72+_0x1385c5(0x839)+(!_0x27278c?_0x1385c5(0x9e8):'')+_0x1385c5(0xb50);if(window[_0x1385c5(0x5ed)])MathJax[_0x1385c5(0x3d1)]();document[_0x1385c5(0x288)]('show-results-btn')[_0x1385c5(0x5b2)]('click',async()=>{const _0x304bda=_0x1385c5,_0x42da48=doc(db,_0x304bda(0x309)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x42da48,{'status':_0x304bda(0x5c5)});}),document[_0x1385c5(0x288)]('open-sync-scratchpad-btn')[_0x1385c5(0x611)]=()=>{const _0x1ba2d1=_0x1385c5;openScratchpad(_0x1334b8,_0x1334b8[_0x1ba2d1(0x67e)]||[]);},document[_0x1385c5(0x288)](_0x1385c5(0x659))[_0x1385c5(0x5b2)](_0x1385c5(0x8d9),()=>{const _0x25bb15=_0x1385c5;document[_0x25bb15(0x288)]('sync-player-management')[_0x25bb15(0xa39)][_0x25bb15(0xc5b)](_0x25bb15(0x4c5));});}function renderSyncLeaderboardView(_0x1c3e0a,_0x100853){const _0x1231b9=_0x2f78fc,_0x17cf62=Object[_0x1231b9(0xa59)](_0x1c3e0a[_0x1231b9(0xa90)]||{});_0x17cf62[_0x1231b9(0x310)]((_0x3cadbb,_0x44c90a)=>_0x44c90a[_0x1231b9(0x447)]-_0x3cadbb['score']);const _0x309194=_0x17cf62[_0x1231b9(0xacc)](0x0,0x5);let _0x362736='';if(_0x100853){const _0x11c0dd=_0x1c3e0a[_0x1231b9(0x8e0)]>=_0x1c3e0a[_0x1231b9(0x6af)][_0x1231b9(0xc81)][_0x1231b9(0x649)]-0x1;_0x362736='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x11c0dd?'ดูผลสรุปสุดท้าย':_0x1231b9(0x7cf))+_0x1231b9(0x731);}else _0x362736=_0x1231b9(0x54f);liveGameView[_0x1231b9(0x5f0)]=_0x1231b9(0x428)+_0x309194[_0x1231b9(0x598)]((_0x44d1fc,_0x554e0f)=>_0x1231b9(0x6b1)+(_0x554e0f+0x1)+'.\x20'+_0x44d1fc['name']+_0x1231b9(0x4b6)+_0x44d1fc['score']+'</span></div>')[_0x1231b9(0x53d)]('')+_0x1231b9(0xc3f)+_0x362736+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x100853&&document[_0x1231b9(0x288)](_0x1231b9(0xd14))['addEventListener'](_0x1231b9(0x8d9),async()=>{const _0x3fd75b=_0x1231b9,_0x13c473=doc(db,_0x3fd75b(0x309)+appId+_0x3fd75b(0x2a5),currentLiveGameId),_0x2b3640=_0x1c3e0a['currentQuestionIndex']+0x1;if(_0x2b3640<_0x1c3e0a['shuffledQuiz'][_0x3fd75b(0xc81)][_0x3fd75b(0x649)]){const _0x1e88f9={};Object[_0x3fd75b(0x695)](_0x1c3e0a['players'])[_0x3fd75b(0x220)](_0x428e3b=>{const _0x50b4eb=_0x3fd75b;_0x1e88f9['players.'+_0x428e3b+_0x50b4eb(0x53e)]=![];}),await updateDoc(_0x13c473,{..._0x1e88f9,'status':_0x3fd75b(0x788),'currentQuestionIndex':_0x2b3640,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x13c473,{'status':_0x3fd75b(0x9e3)});});}async function handleJoinSyncGame(){const _0xb09a18=_0x2f78fc,_0x553bfa=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x553bfa||_0x553bfa['trim']()[_0xb09a18(0x649)]!==0x2){showMessage(_0xb09a18(0xb46));return;}try{const _0x2a06a0=collection(db,'artifacts/'+appId+_0xb09a18(0x2a5)),_0x5601d0=query(_0x2a06a0,where('pin','==',_0x553bfa['trim']()),where(_0xb09a18(0xa78),'==',_0xb09a18(0xc23))),_0x47303e=await getDocs(_0x5601d0);if(_0x47303e[_0xb09a18(0x339)]){showMessage(_0xb09a18(0xb4f));return;}const _0x955e6d=_0x47303e[_0xb09a18(0x2ea)][0x0];currentLiveGameId=_0x955e6d['id'];const _0x17f4a5=_0x955e6d[_0xb09a18(0xc89)](),_0x2cb603=doc(db,_0xb09a18(0x309)+appId+'/public/data/quizzes',_0x17f4a5[_0xb09a18(0xb4e)]),_0x6e1109=await getDoc(_0x2cb603);if(!_0x6e1109[_0xb09a18(0x5e4)]())throw new Error(_0xb09a18(0x497));const _0x191ad5=_0x6e1109[_0xb09a18(0xc89)](),_0xf8f91e=doc(db,'artifacts/'+appId+'/public/data/projects',_0x191ad5[_0xb09a18(0x93e)]),_0x151596=await getDoc(_0xf8f91e);if(!_0x151596['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x17f4a5[_0xb09a18(0x6af)];const _0x2986f0=_0x151596[_0xb09a18(0xc89)]();showView(_0xb09a18(0xbd0)),showTeamPlayerSelection(_0x2986f0[_0xb09a18(0x595)],_0x191ad5[_0xb09a18(0x32c)]);const _0x6e88ca=document['getElementById']('confirm-team-players-btn');_0x6e88ca[_0xb09a18(0x611)]=confirmAndJoinSyncGame;}catch(_0x35db8d){console[_0xb09a18(0x40f)](_0xb09a18(0x5c3),_0x35db8d),showMessage(_0xb09a18(0xac4)+_0x35db8d['message']);}}function updateStudentSyncView(_0x1c8a7e){const _0x1d6f42=_0x2f78fc,_0x35c6e1=_0x1c8a7e[_0x1d6f42(0xa90)][localTeamPlayers[0x0]];switch(_0x1c8a7e[_0x1d6f42(0xa78)]){case _0x1d6f42(0xc23):showView('live-game'),liveGameView['innerHTML']=_0x1d6f42(0xba6);break;case _0x1d6f42(0x788):const _0x54e61b=localTeamPlayers['every'](_0x385693=>_0x1c8a7e['players'][_0x385693]?.[_0x1d6f42(0x408)]===!![]);_0x54e61b?liveGameView['innerHTML']=_0x1d6f42(0x78f):renderStudentSyncQuestionView(_0x1c8a7e);break;case _0x1d6f42(0x3f1):liveGameView[_0x1d6f42(0x5f0)]=_0x1d6f42(0xa5c);break;case _0x1d6f42(0x5c5):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x1c8a7e);break;case _0x1d6f42(0x9e3):sessionStorage[_0x1d6f42(0x3ef)](_0x1d6f42(0x3df));const _0x6f88c5=calculateFinalPodiumScores(_0x1c8a7e);showPodiumView(_0x6f88c5,_0x1d6f42(0x97a));break;}}function renderStudentSyncResultsView(_0x186870){const _0x5b99e3=_0x2f78fc,_0x3cda74=localTeamPlayers['map'](_0x51ae23=>_0x186870['players'][_0x51ae23])[_0x5b99e3(0x3e1)](Boolean);_0x3cda74[_0x5b99e3(0x310)]((_0x28e726,_0x2eb8ba)=>(_0x2eb8ba['score']||0x0)-(_0x28e726[_0x5b99e3(0x447)]||0x0));const _0x52e169=_0x186870[_0x5b99e3(0x8e0)]>=_0x186870['shuffledQuiz'][_0x5b99e3(0xc81)]['length']-0x1;let _0x51faae='';_0x52e169?_0x51faae=_0x5b99e3(0x585):_0x51faae=_0x5b99e3(0x1ad);const _0x4a92b0=_0x5b99e3(0x9b4)+_0x3cda74[_0x5b99e3(0x598)]((_0x290ed0,_0x4b298b)=>_0x5b99e3(0xce6)+(_0x4b298b+0x1)+_0x5b99e3(0x4b0)+_0x290ed0[_0x5b99e3(0xb54)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x290ed0[_0x5b99e3(0x447)]+_0x5b99e3(0xad2))[_0x5b99e3(0x53d)]('')+_0x5b99e3(0x2f1)+_0x51faae+_0x5b99e3(0x544);liveGameView[_0x5b99e3(0x5f0)]=_0x4a92b0;}function renderStudentSyncQuestionView(_0x18233d){const _0x27afb5=_0x2f78fc;while(localPlayerTurnIndex<localTeamPlayers[_0x27afb5(0x649)]&&_0x18233d[_0x27afb5(0xa90)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x27afb5(0x408)]===!![]){localPlayerTurnIndex++;}const _0x18def0=localTeamPlayers[localPlayerTurnIndex];if(!_0x18def0)return;const _0x2ecc31=_0x18233d[_0x27afb5(0x8e0)],_0x2adf07=_0x18233d[_0x27afb5(0x6af)][_0x27afb5(0xc81)][_0x27afb5(0x649)],_0x582ca7=_0x18233d['shuffledQuiz']['questions'][_0x2ecc31],_0x372eb0=_0x582ca7[_0x27afb5(0x8a4)]||_0x18233d[_0x27afb5(0x6af)][_0x27afb5(0x58f)];let _0x30b3b5='',_0x41a297=![];switch(_0x372eb0){case _0x27afb5(0x253):_0x30b3b5=_0x27afb5(0x7b5);break;case _0x27afb5(0x59a):case'fill_in_no_choices':_0x41a297=!![],_0x30b3b5=_0x27afb5(0xcd8);break;case'matching_item':_0x41a297=!![],_0x30b3b5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x582ca7[_0x27afb5(0xa99)]||[])[_0x27afb5(0x598)](_0x3135db=>_0x27afb5(0x79b)+_0x3135db+'\x22>'+_0x3135db+_0x27afb5(0x245))[_0x27afb5(0x53d)]('')+_0x27afb5(0x385);break;case'multiple_choice':default:_0x30b3b5=(_0x582ca7[_0x27afb5(0x67e)]||[])[_0x27afb5(0x598)]((_0x520167,_0x30becf)=>'<button\x20data-value=\x22'+_0x30becf+_0x27afb5(0xc68)+_0x520167+_0x27afb5(0x24d))[_0x27afb5(0x53d)]('');break;}liveGameView['innerHTML']=_0x27afb5(0xcf6)+(_0x2ecc31+0x1)+'\x20/\x20'+_0x2adf07+_0x27afb5(0x4ed)+_0x18def0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x582ca7[_0x27afb5(0x9fb)]||_0x582ca7[_0x27afb5(0x34d)])+_0x27afb5(0x859)+_0x30b3b5+_0x27afb5(0xb3f);if(window['MathJax'])MathJax[_0x27afb5(0x3d1)]();function _0x5ca5d4(_0x3af067,_0xf73adb,_0x5ee970,_0x266fe1){const _0x27ec3a=_0x27afb5,_0x328c4b=_0x5ee970[_0x27ec3a(0x285)]===!![];if(_0x328c4b){document[_0x27ec3a(0x288)](_0x27ec3a(0x586))[_0x27ec3a(0xa66)][_0x27ec3a(0x5a9)]='sync';const _0x581c9f=document['getElementById'](_0x27ec3a(0x4de));_0x581c9f[_0x27ec3a(0xa66)][_0x27ec3a(0x239)]=_0x3af067,_0x581c9f['dataset'][_0x27ec3a(0x788)]=JSON[_0x27ec3a(0x6aa)](_0xf73adb),_0x581c9f[_0x27ec3a(0xa66)][_0x27ec3a(0xac9)]=JSON[_0x27ec3a(0x6aa)](_0x5ee970),_0x581c9f['dataset'][_0x27ec3a(0x9cd)]=_0x266fe1,document[_0x27ec3a(0x288)](_0x27ec3a(0x586))[_0x27ec3a(0xa39)][_0x27ec3a(0xc4b)](_0x27ec3a(0x4c5));}else handleSyncAnswerSubmit(_0x3af067,_0xf73adb,_0x5ee970,_0x266fe1,![]);}_0x41a297?document[_0x27afb5(0x288)](_0x27afb5(0xc8b))['addEventListener']('click',()=>{const _0x31fc38=_0x27afb5,_0x3d0e15=document['getElementById'](_0x31fc38(0x1b5))||document['getElementById'](_0x31fc38(0xb8a));if(_0x3d0e15[_0x31fc38(0x63b)][_0x31fc38(0x8e1)]()===''){showMessage(_0x31fc38(0x4a1));return;}_0x5ca5d4(_0x3d0e15[_0x31fc38(0x63b)],_0x582ca7,_0x18233d,_0x18def0);}):document[_0x27afb5(0x3db)]('.live-answer-btn')['forEach'](_0x41f745=>{const _0x5bdcb0=_0x27afb5;_0x41f745[_0x5bdcb0(0x5b2)](_0x5bdcb0(0x8d9),()=>{const _0xcbbbb7=_0x5bdcb0;_0x5ca5d4(_0x41f745[_0xcbbbb7(0xa66)][_0xcbbbb7(0x63b)],_0x582ca7,_0x18233d,_0x18def0);});});}async function handleSyncAnswerSubmit(_0x481c4e,_0x374817,_0x427583,_0x23f452,_0x503f9b){const _0x3e0292=_0x2f78fc;document['querySelectorAll'](_0x3e0292(0xa7b))[_0x3e0292(0x220)](_0x55ec2e=>_0x55ec2e[_0x3e0292(0x9e8)]=!![]);const _0x43d984=_0x374817['questionType']||_0x427583[_0x3e0292(0x6af)][_0x3e0292(0x58f)];let _0x3f5c64=![],_0x264a84=_0x481c4e;switch(_0x43d984){case _0x3e0292(0x253):const _0x414416=parseInt(_0x481c4e),_0x44fcf8=_0x374817[_0x3e0292(0xafe)]===!![]||String(_0x374817[_0x3e0292(0xafe)])['toLowerCase']()==='true';_0x3f5c64=_0x414416===0x0&&_0x44fcf8||_0x414416===0x1&&!_0x44fcf8,_0x264a84=_0x414416===0x0?_0x3e0292(0xcb1):_0x3e0292(0xb9a);break;case _0x3e0292(0x59a):case'fill_in_no_choices':_0x3f5c64=await gradeShortAnswer(_0x481c4e,_0x374817);break;case _0x3e0292(0x5b0):_0x3f5c64=_0x481c4e===_0x374817[_0x3e0292(0x2c7)];break;case _0x3e0292(0x318):default:const _0x4a24b7=parseInt(_0x481c4e);_0x3f5c64=_0x4a24b7===_0x374817[_0x3e0292(0x90b)];_0x374817[_0x3e0292(0x67e)]&&_0x374817[_0x3e0292(0x67e)][_0x4a24b7]&&(_0x264a84=_0x374817[_0x3e0292(0x67e)][_0x4a24b7]);break;}const _0x364e14=_0x3f5c64?0x1:0x0,_0x1f6d7f=doc(db,_0x3e0292(0x309)+appId+_0x3e0292(0x2a5),currentLiveGameId),_0x16fe18={};_0x16fe18[_0x3e0292(0x1f6)+_0x23f452+_0x3e0292(0x7e4)]=increment(_0x364e14),_0x16fe18[_0x3e0292(0x1f6)+_0x23f452+_0x3e0292(0x53e)]=!![];let _0x5c20f7=null;(_0x43d984===_0x3e0292(0x318)||_0x43d984===_0x3e0292(0x253)||_0x43d984==='fill_in_with_choices')&&(_0x5c20f7=parseInt(_0x481c4e));_0x16fe18[_0x3e0292(0x1f6)+_0x23f452+_0x3e0292(0xb80)]=_0x5c20f7;const _0x1fc361={'questionIndex':_0x427583[_0x3e0292(0x8e0)],'questionId':_0x374817['id'],'answer':_0x481c4e,'answerText':_0x264a84,'isCorrect':_0x3f5c64,'originalQuestionText':_0x374817[_0x3e0292(0x9fb)]||_0x374817[_0x3e0292(0x34d)],'wasConfident':_0x503f9b};_0x16fe18[_0x3e0292(0x1f6)+_0x23f452+_0x3e0292(0x6cb)]=arrayUnion(_0x1fc361),await updateDoc(_0x1f6d7f,_0x16fe18);}initialize();
